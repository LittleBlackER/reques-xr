const _0x15862f=(function(){let _0xe2f8a9=!![];return function(_0x2c194f,_0x59f0b4){const _0x1528f3=_0xe2f8a9?function(){if(_0x59f0b4){const _0x12f241=_0x59f0b4['apply'](_0x2c194f,arguments);return _0x59f0b4=null,_0x12f241;}}:function(){};return _0xe2f8a9=![],_0x1528f3;};}()),_0x592f18=_0x15862f(this,function(){return _0x592f18['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x592f18)['search']('(((.+)+)+)'+'+$');});_0x592f18();const _0x3757f3=(function(){let _0x21d0f1=!![];return function(_0x3734d1,_0x5696da){const _0x18dc5d=_0x21d0f1?function(){if(_0x5696da){const _0x5e123e=_0x5696da['apply'](_0x3734d1,arguments);return _0x5696da=null,_0x5e123e;}}:function(){};return _0x21d0f1=![],_0x18dc5d;};}());(function(){_0x3757f3(this,function(){const _0x1ad83b=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x5c7e41=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x3038e9=_0x35ace2('init');!_0x1ad83b['test'](_0x3038e9+'chain')||!_0x5c7e41['test'](_0x3038e9+'input')?_0x3038e9('0'):_0x35ace2();})();}());const _0xc8c9cb=(function(){let _0x5ab4da=!![];return function(_0x422334,_0x25b305){const _0x39fbf3=_0x5ab4da?function(){if(_0x25b305){const _0x37abd5=_0x25b305['apply'](_0x422334,arguments);return _0x25b305=null,_0x37abd5;}}:function(){};return _0x5ab4da=![],_0x39fbf3;};}()),_0x3de565=_0xc8c9cb(this,function(){let _0x12fd28;try{const _0x371a3a=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x12fd28=_0x371a3a();}catch(_0x5f0ff2){_0x12fd28=window;}const _0x4efc84=_0x12fd28['console']=_0x12fd28['console']||{},_0x5a98b3=['log','warn','info','error','exception','table','trace'];for(let _0x499aff=-0xa*-0x1d0+0x145b+-0x267b;_0x499aff<_0x5a98b3['length'];_0x499aff++){const _0x5c042e=_0xc8c9cb['constructo'+'r']['prototype']['bind'](_0xc8c9cb),_0x2fb1f7=_0x5a98b3[_0x499aff],_0x2db7ea=_0x4efc84[_0x2fb1f7]||_0x5c042e;_0x5c042e['__proto__']=_0xc8c9cb['bind'](_0xc8c9cb),_0x5c042e['toString']=_0x2db7ea['toString']['bind'](_0x2db7ea),_0x4efc84[_0x2fb1f7]=_0x5c042e;}});_0x3de565();var qx=Object['defineProp'+'erty'],Xx=(_0x15fab3,_0x543475,_0x200756)=>_0x543475 in _0x15fab3?qx(_0x15fab3,_0x543475,{'enumerable':!(-0x1cf2+-0x122+0x1e14),'configurable':!(0x214+-0x1025*0x1+-0x115*-0xd),'writable':!(0x12e*-0x1e+0x2522+0xdf*-0x2),'value':_0x200756}):_0x15fab3[_0x543475]=_0x200756,c=(_0x36896e,_0x2e90de,_0x2d6692)=>Xx(_0x36896e,typeof _0x2e90de!='symbol'?_0x2e90de+'':_0x2e90de,_0x2d6692);const jx='RenderFram'+'e',sd='RenderFram'+'eTime',jp='RenderPass',ea='RenderPass'+'Detail',ml='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',bs='Element',tS='Textures',_l='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function bh(_0x53fa4f,_0x499687){for(const _0x39332d in _0x499687){const _0x1f224b=_0x499687[_0x39332d];Array['isArray'](_0x1f224b)?_0x53fa4f[_0x39332d]=bh([],_0x1f224b):_0x1f224b&&typeof _0x1f224b=='object'?_0x53fa4f[_0x39332d]=bh({},_0x1f224b):_0x53fa4f[_0x39332d]=_0x1f224b;}return _0x53fa4f;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x38adb1=>{const _0x492d5a=Math['random']()*(0x1e93+0x1a89*-0x1+-0x2*0x1fd)|-0x31f*-0x8+0x23e5+-0x3cdd*0x1;return(_0x38adb1==='x'?_0x492d5a:_0x492d5a&0x2*-0x112d+-0x2368+-0x35*-0x151|-0x1464+-0x1600+0x2a6c)['toString'](-0x13a*0x3+-0x19f+-0x1*-0x55d);});}},fe={'delimiter':'/','join'(..._0x2fadb3){let _0x2cf608=_0x2fadb3[-0x2140+-0x1ab7+-0x33*-0x12d];for(let _0x2e915c=-0x242d+0x116*-0xf+0x117d*0x3;_0x2e915c<_0x2fadb3['length']-(0x8fe*0x2+-0x1e59+0xc5e);_0x2e915c++){const _0x315d01=_0x2fadb3[_0x2e915c],_0x3d3a9b=_0x2fadb3[_0x2e915c+(-0x78f*0x1+0x9ef*-0x1+0x117f)];if(_0x3d3a9b[0x38*-0x9e+-0x1634+0x38c4]===fe['delimiter']){_0x2cf608=_0x3d3a9b;continue;}_0x315d01&&_0x3d3a9b&&_0x315d01[_0x315d01['length']-(-0x1a08+0xb*0x23b+-0x2*-0xc0)]!==fe['delimiter']&&_0x3d3a9b[-0x3c2*0x1+0x226b+0x2f*-0xa7]!==fe['delimiter']?_0x2cf608+=fe['delimiter']+_0x3d3a9b:_0x2cf608+=_0x3d3a9b;}return _0x2cf608;},'normalize'(_0xd1e60f){const _0x2ddbaa=_0xd1e60f['startsWith'](fe['delimiter']),_0x540650=_0xd1e60f['endsWith'](fe['delimiter']),_0x34f6f7=_0xd1e60f['split']('/');let _0x335857='',_0xd11c63=[];for(let _0x303e4c=-0x207*0xb+-0x24f8+0x3b45;_0x303e4c<_0x34f6f7['length'];_0x303e4c++)if(_0x34f6f7[_0x303e4c]!==''&&_0x34f6f7[_0x303e4c]!=='.'){if(_0x34f6f7[_0x303e4c]==='..'&&_0xd11c63['length']>-0x7*-0x1df+-0x6bf*0x1+0x65a*-0x1){_0xd11c63=_0xd11c63['slice'](0x10df+-0xe2a*-0x1+-0x1f09,_0xd11c63['length']-(0x1cfc+-0x12bf*0x2+0x4*0x221));continue;}_0x303e4c>0x1dd4+0x1003+-0x92b*0x5&&_0xd11c63['push'](fe['delimiter']),_0xd11c63['push'](_0x34f6f7[_0x303e4c]);}return _0x335857=_0xd11c63['join'](''),!_0x2ddbaa&&_0x335857[0xd7e+0x1de1*0x1+-0x2b5f*0x1]===fe['delimiter']&&(_0x335857=_0x335857['slice'](0xa88+0x2269+0x10*-0x2cf)),_0x540650&&_0x335857[_0x335857['length']-(0x74*0x27+0x5ef+-0x179a*0x1)]!==fe['delimiter']&&(_0x335857+=fe['delimiter']),_0x335857;},'split'(_0xd02a90){const _0x216e43=_0xd02a90['lastIndexO'+'f'](fe['delimiter']);return _0x216e43!==-(-0x16*-0x13d+-0x37e*-0x1+-0x1ebb)?[_0xd02a90['substring'](-0x1*-0x1163+0x47d+-0x5*0x460,_0x216e43),_0xd02a90['substring'](_0x216e43+(-0x11bd*-0x2+-0x1*-0x1987+-0xf4*0x40))]:['',_0xd02a90];},'getBasename'(_0x8c2ecd){return fe['split'](_0x8c2ecd)[0x35*0xb3+-0x12b+-0x23e3*0x1];},'getDirectory'(_0x482e05){return fe['split'](_0x482e05)[-0x9*-0x40e+0x3f*-0x3f+-0x14fd];},'getExtension'(_0x78f4e6){const _0x11e9eb=_0x78f4e6['split']('?')[0xe05+0x46d+-0x1272]['split']('.')['pop']();return _0x11e9eb!==_0x78f4e6?'.'+_0x11e9eb:'';},'isRelativePath'(_0x23288c){return _0x23288c['charAt'](-0x11cb+-0x2f5*0x1+-0xa60*-0x2)!=='/'&&_0x23288c['match'](/:\/\//)===null;},'extractPath'(_0x338c96){let _0x3589ab='';const _0x34992e=_0x338c96['split']('/');let _0x4397d9=-0x779+0xb9c*0x3+-0x1b5b;if(_0x34992e['length']>-0x5d*0x51+0x1fac+0x23e*-0x1){if(fe['isRelative'+'Path'](_0x338c96)){if(_0x34992e[0x1027+0x58a+-0x15b1]==='.'){for(_0x4397d9=0x1b26+0xe9f+-0x121*0x25;_0x4397d9<_0x34992e['length']-(-0x1d*0x5b+-0x1f48+0xa66*0x4);++_0x4397d9)_0x3589ab+=_0x4397d9===-0x13*0xbd+-0x1*-0x9be+-0x1*-0x449?_0x34992e[_0x4397d9]:'/'+_0x34992e[_0x4397d9];}else{if(_0x34992e[0x3*-0xbb2+0x1c34+0x6e2]==='..'){for(_0x4397d9=0x14c4+0x2595*-0x1+0x10d1;_0x4397d9<_0x34992e['length']-(-0xf3*0x21+0x9d2+0x1582);++_0x4397d9)_0x3589ab+=_0x4397d9===0x22fc+0x1ccc+-0x3fc8?_0x34992e[_0x4397d9]:'/'+_0x34992e[_0x4397d9];}else{for(_0x3589ab='.',_0x4397d9=0x19b*0x4+-0x133a+0xcce;_0x4397d9<_0x34992e['length']-(0x2041*0x1+-0xf16+0x112a*-0x1);++_0x4397d9)_0x3589ab+='/'+_0x34992e[_0x4397d9];}}}else{for(_0x4397d9=-0x1*0x21a1+0x1b65*0x1+-0x63c*-0x1;_0x4397d9<_0x34992e['length']-(-0x1*-0xd53+-0x9b8+0x39a*-0x1);++_0x4397d9)_0x3589ab+=_0x4397d9===0xafc+-0x10d5+-0x3*-0x1f3?_0x34992e[_0x4397d9]:'/'+_0x34992e[_0x4397d9];}}return _0x3589ab;}},iS=()=>{let _0x34ef1f=!(-0x1a1b+0x9*0x3c5+-0x1d*0x45);try{const _0x48cbbd=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x34ef1f=!(-0x15d+-0x26a5+0x2802),!(-0x1986+-0x5e5*0x6+-0x77*-0x83);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x48cbbd),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x48cbbd);}catch{}return _0x34ef1f;},vi=typeof navigator<'u'?navigator['userAgent']:'',wh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](vi)?'android':/ip(?:[ao]d|hone)/i['test'](vi)?'ios':/windows/i['test'](vi)?'windows':/mac os/i['test'](vi)?'osx':/linux/i['test'](vi)?'linux':/cros/i['test'](vi)?'cros':null,rS=wh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](vi)?'chrome':/Safari\//['test'](vi)?'safari':/Firefox\//['test'](vi)?'firefox':'other',nS=wh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x722+0x27*0x13+-0xa07),aS=iS(),ye={'name':Qp,'browser':wh==='browser','worker':wh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,lu=-0x1*-0x1993+0x617*-0x35+0x20130,ny=0x19529*0x1+-0xd15b+0x1831,Jp=-0x3*-0x1bd1+-0xa9af*0x1+0x1323c,lS=-0x7c33*-0x3+-0x149*-0xcd+0x1*-0x19c0f,hS=0xa7c*-0x1+-0x1*-0x1d0e+-0x7*-0x1ed,em=0x8c3*-0x49+-0xd04b+0x541cc,tm=0x36c8c*0x1+0xf866*-0x2+-0x763f*-0x1,cS=0x2bb6c+0x2f236+-0x3b9a7,dS=0x1e*-0xd5f+0x1fdd9+0x18748,uS=-0x1cb1+-0x1*0x2c57+-0x6*-0x11a4,fS=0x51f+0x373+0x186d,hu=0x4283*-0x4+-0x15657+-0x1*-0x35e63,cu=0xe037+-0xfd22+0x11afa;function du(_0x29a91b,_0x3f882d=0x2240+0xcdb+-0x2f1b*0x1){const _0x1f10ad=_0x29a91b['length'];if(_0x3f882d<-0x1*-0xf1f+0x1db3+-0x2cd2||_0x3f882d>=_0x1f10ad)return null;const _0x17867b=_0x29a91b['charCodeAt'](_0x3f882d);if(_0x1f10ad>-0x17f0+0x226f+0x53f*-0x2&&_0x17867b>=lu&&_0x17867b<=ny){const _0x5c596f=_0x29a91b['charCodeAt'](_0x3f882d+(-0x3fd+0x1c*-0xd0+0x1abe));if(_0x5c596f>=Jp&&_0x5c596f<=lS)return{'code':(_0x17867b-lu)*(-0x26ff+-0xd2b+0x2*0x1c15)+_0x5c596f-Jp+(0x1d923*0x1+-0xb1d4*-0x1+0x1*-0x18af7),'long':!(0x81*-0xe+0xb*-0x14b+0x1547)};}return{'code':_0x17867b,'long':!(0x3*0x619+-0x6*0x5b4+0xfee)};}function ji(_0x20782a,_0x2faeeb,_0x34b721){if(!_0x20782a)return!(-0x1c77+-0x106f+0x2ce7);const _0x2ceb9f=du(_0x20782a);if(_0x2ceb9f){const _0x5633f8=_0x2ceb9f['code'];return _0x5633f8>=_0x2faeeb&&_0x5633f8<=_0x34b721;}return!(-0xcc8*-0x3+-0x1bc7+-0xd0*0xd);}function pS(_0x1cbe3c,_0x1e4091){if(_0x1e4091===_0x1cbe3c['length']-(0x1d42+0x1587+-0x104*0x32))return-0x1ff4+0x146a+0xb8b;if(ji(_0x1cbe3c[_0x1e4091],lu,ny)){const _0x2fc2f4=_0x1cbe3c['substring'](_0x1e4091,_0x1e4091+(-0x1108+-0x699+0x17a3)),_0x1bbea6=_0x1cbe3c['substring'](_0x1e4091+(0x675+-0xca*0xd+0x3cf),_0x1e4091+(-0x9f1+0xc1f+0x2*-0x115));return ji(_0x1bbea6,cS,dS)||ji(_0x2fc2f4,em,tm)&&ji(_0x1bbea6,em,tm)?0x11c6+-0xdf5+0x7*-0x8b:ji(_0x1bbea6,hu,cu)?-0x1*0x136d+0xc13+0x75d:-0xd67+-0x2*0x959+0x201b*0x1;}return ji(_0x1cbe3c[_0x1e4091+(-0xf*-0x205+-0x36c*-0x5+-0x2f66*0x1)],hu,cu)?0xc96+0x1eb3+-0x2b47:0x6de*0x4+0x62f+0x1*-0x21a6;}const oh={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x2187a7,..._0x4836d0){for(let _0x5c45a1=-0x87e*-0x4+-0x191b*0x1+-0x8dd;_0x5c45a1<_0x4836d0['length'];_0x5c45a1++)_0x2187a7=_0x2187a7['replace']('{'+_0x5c45a1+'}',_0x4836d0[_0x5c45a1]);return _0x2187a7;},'getCodePoint'(_0x15600d,_0x44543c){const _0x32eab1=du(_0x15600d,_0x44543c);return _0x32eab1&&_0x32eab1['code'];},'getCodePoints'(_0x8b3a0e){if(typeof _0x8b3a0e!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x4aa457=-0x1deb+0x13*0xa3+0x8e9*0x2;const _0x4f083b=[];let _0x2f6692;for(;_0x2f6692=du(_0x8b3a0e,_0x4aa457);)_0x4f083b['push'](_0x2f6692['code']),_0x4aa457+=_0x2f6692['long']?0x1a8f*0x1+0x1*-0x1ff6+-0x115*-0x5:-0xbb7*0x3+0xea*0x23+0x328;return _0x4f083b;},'getSymbols'(_0x39f50f){if(typeof _0x39f50f!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x4925a4=0xa62+-0x3ef+-0x673;const _0x50f3ba=_0x39f50f['length'],_0x1cd17f=[];let _0x403d7a=-0x12c5+0x481*-0x7+0x324c,_0x2dd5c1;for(;_0x4925a4<_0x50f3ba;){if(_0x403d7a+=pS(_0x39f50f,_0x4925a4+_0x403d7a),_0x2dd5c1=_0x39f50f[_0x4925a4+_0x403d7a],ji(_0x2dd5c1,uS,fS)&&(_0x2dd5c1=_0x39f50f[_0x4925a4+_0x403d7a++]),ji(_0x2dd5c1,hu,cu)&&(_0x2dd5c1=_0x39f50f[_0x4925a4+_0x403d7a++]),_0x2dd5c1&&_0x2dd5c1['charCodeAt'](0x2cd*0x5+-0x1*0x258b+0x2*0xbc5)===hS){_0x2dd5c1=_0x39f50f[_0x4925a4+_0x403d7a++];continue;}const _0x3794e6=_0x39f50f['substring'](_0x4925a4,_0x4925a4+_0x403d7a);_0x1cd17f['push'](_0x3794e6),_0x4925a4+=_0x403d7a,_0x403d7a=-0x755+0x8*-0x1b7+0x150d;}return _0x1cd17f;},'fromCodePoint'(){const _0xcc65=[];let _0xe45ad4,_0x28c3e4,_0x3d3f1a;for(let _0x1bfb56=-0x1*0x1945+0x733*-0x5+-0xc*-0x51b;_0x1bfb56<arguments['length'];++_0x1bfb56)_0xe45ad4=Number(arguments[_0x1bfb56]),_0x28c3e4=_0xe45ad4-(0x8365*-0x1+-0x1b0*-0xa4+-0x37*-0x203),_0x3d3f1a=_0xe45ad4>0xca79+-0x176f*0x4+0x9342?[(_0x28c3e4>>-0x25f*-0x9+-0x20*-0x97+-0x282d)+(0x1*0x2391+0x17e51+-0xc9e2),_0x28c3e4%(0x53*-0x49+-0x1227+-0x7a3*-0x6)+(-0x5db3+0x57df+0xe1d4)]:[_0xe45ad4],_0xcc65['push'](String['fromCharCo'+'de']['apply'](null,_0x3d3f1a));return _0xcc65['join']('');}},zr=class zr{static['set'](_0x299cd9,_0x3086f6=!(-0x248c+0x92*0x2+0x2368)){_0x3086f6?zr['_traceChan'+'nels']['add'](_0x299cd9):zr['_traceChan'+'nels']['delete'](_0x299cd9);}static['get'](_0x14dcb1){return zr['_traceChan'+'nels']['has'](_0x14dcb1);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(0x2*-0x34b+-0x1052*0x1+0x16e9));let Xs=zr;const Tt=class Tt{static['deprecated'](_0x32c7c2){Tt['_loggedMes'+'sages']['has'](_0x32c7c2)||(Tt['_loggedMes'+'sages']['add'](_0x32c7c2),console['warn']('DEPRECATED'+':\x20'+_0x32c7c2));}static['removed'](_0xad9e34){Tt['_loggedMes'+'sages']['has'](_0xad9e34)||(Tt['_loggedMes'+'sages']['add'](_0xad9e34),console['error']('REMOVED:\x20'+_0xad9e34));}static['assertDepr'+'ecated'](_0x3489ed,_0x16447d){_0x3489ed||Tt['deprecated'](_0x16447d);}static['assert'](_0x1300a7,..._0x3c5fd2){_0x1300a7||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x3c5fd2);}static['assertDest'+'royed'](_0x44e75a){var _0x177794;if(_0x44e75a!=null&&_0x44e75a['__alreadyD'+'estroyed']){const _0x151a61='['+((_0x177794=_0x44e75a['constructo'+'r'])==null?void(0x11c3*-0x2+-0x59c*0x4+0x6*0x9a9):_0x177794['name'])+(']\x20with\x20nam'+'e\x20[')+_0x44e75a['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Tt['_loggedMes'+'sages']['has'](_0x151a61)||(Tt['_loggedMes'+'sages']['add'](_0x151a61),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x151a61,_0x44e75a));}}static['call'](_0x204ee9){_0x204ee9();}static['log'](..._0x2e544d){console['log'](..._0x2e544d);}static['logOnce'](_0x2b5fa3,..._0x2709eb){Tt['_loggedMes'+'sages']['has'](_0x2b5fa3)||(Tt['_loggedMes'+'sages']['add'](_0x2b5fa3),console['log'](_0x2b5fa3,..._0x2709eb));}static['warn'](..._0x307329){console['warn'](..._0x307329);}static['warnOnce'](_0xa013a4,..._0x33337e){Tt['_loggedMes'+'sages']['has'](_0xa013a4)||(Tt['_loggedMes'+'sages']['add'](_0xa013a4),console['warn'](_0xa013a4,..._0x33337e));}static['error'](..._0x5eb572){console['error'](..._0x5eb572);}static['errorOnce'](_0x333db8,..._0xa3c9d9){Tt['_loggedMes'+'sages']['has'](_0x333db8)||(Tt['_loggedMes'+'sages']['add'](_0x333db8),console['error'](_0x333db8,..._0xa3c9d9));}static['trace'](_0x2af69f,..._0x3c3b42){Xs['get'](_0x2af69f)&&(console['groupColla'+'psed'](_0x2af69f['padEnd'](0x6ae+-0x22df+0x1c45,'\x20')+'|',..._0x3c3b42),console['groupEnd']());}};c(Tt,'_loggedMes'+'sages',new Set());let v=Tt;class _n{static['setName'](_0x341970,_0x2f26e4){_0x341970&&(_0x341970['name']=_0x2f26e4);}static['setLabel'](_0xbc4329,_0x2a2020){_0xbc4329&&(_0xbc4329['label']=_0x2a2020);}static['setDestroy'+'ed'](_0x33e38c){_0x33e38c&&(_0x33e38c['__alreadyD'+'estroyed']=!(-0x1fdc+-0xbb3+0x2b8f));}}class mS{constructor(_0x3b24bc,_0x1c779d,_0x30227b,_0x1316a3,_0x1e19b3=!(-0x768+-0x1*0x32f+0xc*0xe2)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(-0x1*-0xcdb+0x57*0x2b+-0x1b77)),(this['handler']=_0x3b24bc,this['name']=_0x1c779d,this['callback']=_0x30227b,this['scope']=_0x1316a3,this['_once']=_0x1e19b3);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x250e76,_0x3a4583,_0x122e51=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x250e76,_0x3a4583,_0x122e51,!(-0x1*0x83+-0x1ff*0x5+0xa7f));}['once'](_0x4cf9c9,_0x7a2503,_0x2365bc=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x4cf9c9,_0x7a2503,_0x2365bc,!(0xb8d+-0x7*-0x393+-0x2492));}set['removed'](_0x323eaa){_0x323eaa&&(this['_removed']=!(-0x3*0x579+-0x1a72+0x2add));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x22bc18,_0x5e94f7,_0x24f144,_0x43b3b6){if((!_0x22bc18||typeof _0x22bc18!='string'||!_0x5e94f7)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x22bc18+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x5e94f7),this['_callbacks']['has'](_0x22bc18)||this['_callbacks']['set'](_0x22bc18,[]),this['_callbackA'+'ctive']['has'](_0x22bc18)){const _0x3ddc1a=this['_callbackA'+'ctive']['get'](_0x22bc18);_0x3ddc1a&&_0x3ddc1a===this['_callbacks']['get'](_0x22bc18)&&this['_callbackA'+'ctive']['set'](_0x22bc18,_0x3ddc1a['slice']());}const _0x411157=new mS(this,_0x22bc18,_0x5e94f7,_0x24f144,_0x43b3b6);return this['_callbacks']['get'](_0x22bc18)['push'](_0x411157),_0x411157;}['on'](_0x47188b,_0x1da2e2,_0x453ed5=this){return this['_addCallba'+'ck'](_0x47188b,_0x1da2e2,_0x453ed5,!(0x1c0b+0x2*-0x12bf+0x974));}['once'](_0x2a11c1,_0x3553a5,_0x24412b=this){return this['_addCallba'+'ck'](_0x2a11c1,_0x3553a5,_0x24412b,!(-0x1f2d*0x1+0xb41+0x13ec));}['off'](_0x5ac152,_0x423985,_0x45b68a){if(_0x5ac152)this['_callbackA'+'ctive']['has'](_0x5ac152)&&this['_callbackA'+'ctive']['get'](_0x5ac152)===this['_callbacks']['get'](_0x5ac152)&&this['_callbackA'+'ctive']['set'](_0x5ac152,this['_callbackA'+'ctive']['get'](_0x5ac152)['slice']());else{for(const [_0x589070,_0x9b967b]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x589070)&&this['_callbacks']['get'](_0x589070)===_0x9b967b&&this['_callbackA'+'ctive']['set'](_0x589070,_0x9b967b['slice']());}if(_0x5ac152){if(_0x423985){const _0x2c4ad1=this['_callbacks']['get'](_0x5ac152);if(!_0x2c4ad1)return this;for(let _0x2dfbbe=0x193d+0x59*-0x61+-0x2d4*-0x3;_0x2dfbbe<_0x2c4ad1['length'];_0x2dfbbe++)_0x2c4ad1[_0x2dfbbe]['callback']===_0x423985&&(_0x45b68a&&_0x2c4ad1[_0x2dfbbe]['scope']!==_0x45b68a||(_0x2c4ad1[_0x2dfbbe]['removed']=!(-0x31*0x90+0xed6+0xcba),_0x2c4ad1['splice'](_0x2dfbbe,-0x1af0+-0x193*-0x9+0xcc6),_0x2dfbbe--));_0x2c4ad1['length']===0x1eaf+-0xcb0+-0x11ff&&this['_callbacks']['delete'](_0x5ac152);}else{const _0x1bed36=this['_callbacks']['get'](_0x5ac152);if(_0x1bed36){for(let _0x5f4b4d=-0x1*0x14b1+-0x1*-0x2143+-0xc92;_0x5f4b4d<_0x1bed36['length'];_0x5f4b4d++)_0x1bed36[_0x5f4b4d]['removed']=!(-0x837*-0x3+-0xd31*-0x1+-0xa7*0x3a);this['_callbacks']['delete'](_0x5ac152);}}}else{for(const _0x57997d of this['_callbacks']['values']())for(let _0x3d47f5=-0x2634+-0x162*0x6+0x2e80;_0x3d47f5<_0x57997d['length'];_0x3d47f5++)_0x57997d[_0x3d47f5]['removed']=!(-0x269e*-0x1+-0x257f+0x11f*-0x1);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x18656a){const _0x366118=_0x18656a['name'];_0x18656a['removed']=!(-0x2*0x6e2+0x1fb6+-0x8f9*0x2),this['_callbackA'+'ctive']['has'](_0x366118)&&this['_callbackA'+'ctive']['get'](_0x366118)===this['_callbacks']['get'](_0x366118)&&this['_callbackA'+'ctive']['set'](_0x366118,this['_callbackA'+'ctive']['get'](_0x366118)['slice']());const _0x51c44c=this['_callbacks']['get'](_0x366118);if(!_0x51c44c)return this;const _0x1c8a67=_0x51c44c['indexOf'](_0x18656a);return _0x1c8a67!==-(-0x8de*0x4+-0x1e1*0x11+-0x21b5*-0x2)&&(_0x51c44c['splice'](_0x1c8a67,0x211e+0x2*-0xc5f+0x1*-0x85f),_0x51c44c['length']===-0xcf0+-0x3*-0x2e+-0x1*-0xc66&&this['_callbacks']['delete'](_0x366118)),this;}['fire'](_0x1d5519,_0x21ce5b,_0x56a919,_0x2752a6,_0x4755c3,_0x22b683,_0x21ed6c,_0x2fc6a8,_0x19fe35){if(!_0x1d5519)return this;const _0x4833c5=this['_callbacks']['get'](_0x1d5519);if(!_0x4833c5)return this;let _0x2af2da;this['_callbackA'+'ctive']['has'](_0x1d5519)?this['_callbackA'+'ctive']['get'](_0x1d5519)!==_0x4833c5&&(_0x2af2da=_0x4833c5['slice']()):this['_callbackA'+'ctive']['set'](_0x1d5519,_0x4833c5);for(let _0x20ab17=-0x653*-0x5+0x41*0x4f+-0x33ae;(_0x2af2da||this['_callbackA'+'ctive']['get'](_0x1d5519))&&_0x20ab17<(_0x2af2da||this['_callbackA'+'ctive']['get'](_0x1d5519))['length'];_0x20ab17++){const _0xccf37d=(_0x2af2da||this['_callbackA'+'ctive']['get'](_0x1d5519))[_0x20ab17];if(_0xccf37d['callback']&&(_0xccf37d['callback']['call'](_0xccf37d['scope'],_0x21ce5b,_0x56a919,_0x2752a6,_0x4755c3,_0x22b683,_0x21ed6c,_0x2fc6a8,_0x19fe35),_0xccf37d['_once'])){const _0x10f109=this['_callbacks']['get'](_0x1d5519),_0x42d375=_0x10f109?_0x10f109['indexOf'](_0xccf37d):-(0xd3f*0x1+0x50a+-0x1248);if(_0x42d375!==-(0x19dd+-0x11a8+-0x3c*0x23)){this['_callbackA'+'ctive']['get'](_0x1d5519)===_0x10f109&&this['_callbackA'+'ctive']['set'](_0x1d5519,this['_callbackA'+'ctive']['get'](_0x1d5519)['slice']());const _0x559ee3=this['_callbacks']['get'](_0x1d5519);if(!_0x559ee3)continue;_0x559ee3[_0x42d375]['removed']=!(0x3*-0x4ce+-0x210*-0x1+0xc5a),_0x559ee3['splice'](_0x42d375,0x7b2+0x127c+-0x1a2d),_0x559ee3['length']===-0x1*0x145b+0xd*0x266+-0xad3&&this['_callbacks']['delete'](_0x1d5519);}}}return _0x2af2da||this['_callbackA'+'ctive']['delete'](_0x1d5519),this;}['hasEvent'](_0x24050b){var _0xd581ea;return!!((_0xd581ea=this['_callbacks']['get'](_0x24050b))!=null&&_0xd581ea['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x197d2e,_0x24f622){if(this['_index'][_0x197d2e])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x197d2e);const _0x19e296=this['_list']['push'](_0x24f622)-(-0x9c2+0xfd8+-0x615);this['_index'][_0x197d2e]=_0x19e296;}['has'](_0x57c8e8){return this['_index'][_0x57c8e8]!==void(-0x266*-0xb+-0x1b3a+0xd8);}['get'](_0x38c98d){const _0x5b418a=this['_index'][_0x38c98d];return _0x5b418a!==void(0x8*-0x148+-0x1*-0xa7+-0x5b*-0x1b)?this['_list'][_0x5b418a]:null;}['remove'](_0x3ed1f1){const _0xf7c748=this['_index'][_0x3ed1f1];if(_0xf7c748!==void(0x61d*0x5+-0x50b+0x129*-0x16)){this['_list']['splice'](_0xf7c748,-0xe1f+-0x1b4*-0xb+-0x49c),delete this['_index'][_0x3ed1f1];for(_0x3ed1f1 in this['_index']){const _0x1d1934=this['_index'][_0x3ed1f1];_0x1d1934>_0xf7c748&&(this['_index'][_0x3ed1f1]=_0x1d1934-(0x1745+0x3*0xa86+0x1b6b*-0x2));}return!(-0x20d9+-0x9dc+0xd*0x349);}return!(-0x116c+0xa*0x21e+-0x89*0x7);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x2*-0xf14+0x487+-0xf3*-0x1b;for(const _0x5a78a3 in this['_index'])delete this['_index'][_0x5a78a3];}}const gS=_0x883cd5=>{const _0x4783dc={};let _0x4cc0fc=_0x4783dc;return()=>(_0x4cc0fc===_0x4783dc&&(_0x4cc0fc=_0x883cd5()),_0x4cc0fc);},Ns=class Ns{static['loadScript'](_0x5ef46f,_0x2099a9){const _0x15a0d7=document['createElem'+'ent']('script');_0x15a0d7['setAttribu'+'te']('src',_0x5ef46f),_0x15a0d7['onload']=()=>{_0x2099a9(null);},_0x15a0d7['onerror']=()=>{_0x2099a9('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x5ef46f+'\x27');},document['body']['appendChil'+'d'](_0x15a0d7);}static['loadWasm'](_0x187a10,_0x1ad64f,_0x370932){const _0x59d22c=Ns['wasmSuppor'+'ted']()&&_0x1ad64f['glueUrl']&&_0x1ad64f['wasmUrl']?_0x1ad64f['glueUrl']:_0x1ad64f['fallbackUr'+'l'];_0x59d22c?Ns['loadScript'](_0x59d22c,_0x99cf41=>{if(_0x99cf41)_0x370932(_0x99cf41,null);else{const _0x3c1d26=window[_0x187a10];window[_0x187a10]=void(0x12e8+0x1033+-0x231b),_0x3c1d26({'locateFile':()=>_0x1ad64f['wasmUrl'],'onAbort':()=>{_0x370932('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x3f4d61=>{_0x370932(null,_0x3f4d61);});}}):_0x370932('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x491811){return Ns['modules']['hasOwnProp'+'erty'](_0x491811)||(Ns['modules'][_0x491811]={'config':null,'initializing':!(0x1a3*0x10+-0x2637+0xc08),'instance':null,'callbacks':[]}),Ns['modules'][_0x491811];}static['initialize'](_0x22ac2a,_0x3dc059){if(_0x3dc059['initializi'+'ng'])return;const _0x2d3414=_0x3dc059['config'];(_0x2d3414['glueUrl']||_0x2d3414['wasmUrl']||_0x2d3414['fallbackUr'+'l'])&&(_0x3dc059['initializi'+'ng']=!(-0x18b0+-0x6*0x7e+0x1ba4),Ns['loadWasm'](_0x22ac2a,_0x2d3414,(_0x1e96b4,_0x21c3f9)=>{_0x1e96b4?_0x2d3414['errorHandl'+'er']?_0x2d3414['errorHandl'+'er'](_0x1e96b4):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x22ac2a+'\x20error='+_0x1e96b4):(_0x3dc059['instance']=_0x21c3f9,_0x3dc059['callbacks']['forEach'](_0x4bd2e6=>{_0x4bd2e6(_0x21c3f9);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x141589=new WebAssembly['Module'](Uint8Array['of'](0x8*0x5e+-0x1cc+-0x124,0x2213+-0x8*0x1d1+-0x132a,-0x161d+0x17*-0x128+0x3128,0x3*-0x956+-0x2*-0xac8+-0x1*-0x6df,-0xea2+0x1d21*0x1+-0xe7e,-0x1*0x183a+0x1e56+-0x61c,0xbaa+-0x1f92+-0x4*-0x4fa,0x1038+0x101d+-0x2055));if(_0x141589 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x141589)instanceof WebAssembly['Instance'];}}catch{}return!(0x6*-0x5a7+0x2e*0xd+0x1f95);}));let Br=Ns;class ay{static['setConfig'](_0xd8ed4,_0x2de816){const _0x51dd8c=Br['getModule'](_0xd8ed4);_0x51dd8c['config']=_0x2de816,_0x51dd8c['callbacks']['length']>-0x1*0x4cc+-0x1*0xad2+-0x7cf*-0x2&&Br['initialize'](_0xd8ed4,_0x51dd8c);}static['getConfig'](_0x2c84ea){var _0x345d78,_0x21677b;return(_0x21677b=(_0x345d78=Br['modules'])==null?void(-0x602+0x1022*-0x2+0x17*0x1aa):_0x345d78[_0x2c84ea])==null?void(-0x21fd*0x1+-0x1898+-0x1*-0x3a95):_0x21677b['config'];}static['getInstanc'+'e'](_0x4975df,_0x3cef7a){const _0x1b3a0a=Br['getModule'](_0x4975df);_0x1b3a0a['instance']?_0x3cef7a(_0x1b3a0a['instance']):(_0x1b3a0a['callbacks']['push'](_0x3cef7a),_0x1b3a0a['config']&&Br['initialize'](_0x4975df,_0x1b3a0a));}}class oy{constructor(_0x1242b7){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',-0x3*-0xd4+0x2197+-0x1*0x2413),(this['arraybuffe'+'r']=_0x1242b7,this['dataView']=new DataView(_0x1242b7));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x586b44=-0x2238+-0x1eb*-0x4+0x1*0x1a8c){this['offset']=_0x586b44;}['skip'](_0x14c118){this['offset']+=_0x14c118;}['align'](_0x2c1ac8){this['offset']=this['offset']+_0x2c1ac8-(0x42*-0x2e+-0x68e*0x1+0x126b*0x1)&~(_0x2c1ac8-(0x363+0x1*-0xd1f+0x9bd));}['_inc'](_0x1236a3){return this['offset']+=_0x1236a3,this['offset']-_0x1236a3;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0xfcae85){let _0x41941f='';for(let _0x13e54e=-0x2*0xd1f+-0xd*-0x2c5+0x9c3*-0x1;_0x13e54e<_0xfcae85;++_0x13e54e)_0x41941f+=this['readChar']();return _0x41941f;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x3*-0xc45+0x80*0xd+0x1e51),!(-0x1263*-0x2+0x15e1*-0x1+-0xee5));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x36*-0x5d+0x17e1+-0x43f),!(-0x2*-0x7c1+0x1d5+-0x1157));}['readU64'](){return this['readU32']()+(-0x447+-0x1*0xa58+0xea1)**(-0x7*0x20+-0x3a9*-0x4+-0xda4)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x24a+0x1318+0xa*-0x223),!(-0x1*-0x789+-0x994+0x4*0x83));}['readArray'](_0x122310){for(let _0x1a06f4=0xf48+-0xaa8+-0x4a0;_0x1a06f4<_0x122310['length'];++_0x1a06f4)_0x122310[_0x1a06f4]=this['readU8']();}['readLine'](){const _0x5aca5f=this['dataView'];let _0x2b84e2='';for(;!(this['offset']>=_0x5aca5f['byteLength']);){const _0x501d99=String['fromCharCo'+'de'](this['readU8']());if(_0x501d99==='\x0a')break;_0x2b84e2+=_0x501d99;}return _0x2b84e2;}}class Th{constructor(_0x1c35a2){c(this,'items',[]),c(this,'length',-0xb75+0x5*0x267+-0x8e),c(this,'loopIndex',-(0x1c8e+0x4*0x8b7+-0x3f69)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x1c35a2['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x4136bd){let _0x32f3c7=0x1081+-0x24fe+0x147d,_0x29117d=this['items']['length']-(0x130a+0x5*0xa5+-0x1642);const _0x4c12b7=_0x4136bd[this['_sortBy']];let _0x542c79,_0x3bdf37;for(;_0x32f3c7<=_0x29117d;)_0x542c79=Math['floor']((_0x32f3c7+_0x29117d)/(-0xc83+-0x3*-0x7c9+-0xad6)),_0x3bdf37=this['items'][_0x542c79][this['_sortBy']],_0x3bdf37<=_0x4c12b7?_0x32f3c7=_0x542c79+(0x55d+-0x1650+0x5*0x364):_0x3bdf37>_0x4c12b7&&(_0x29117d=_0x542c79-(-0x1123*-0x1+0xb5+-0x11d7));return _0x32f3c7;}['_doSort'](_0x4bb7cf,_0x23cbe1){const _0xbbf60c=this['_sortBy'];return _0x4bb7cf[_0xbbf60c]-_0x23cbe1[_0xbbf60c];}['insert'](_0x128d1a){const _0x37de1b=this['_binarySea'+'rch'](_0x128d1a);this['items']['splice'](_0x37de1b,0x2*-0x287+0x2487*-0x1+0x1*0x2995,_0x128d1a),this['length']++,this['loopIndex']>=_0x37de1b&&this['loopIndex']++;}['append'](_0x368989){this['items']['push'](_0x368989),this['length']++;}['remove'](_0x48a20f){const _0x1bd3d1=this['items']['indexOf'](_0x48a20f);_0x1bd3d1<-0x1fa9+-0x1848+0x37f1||(this['items']['splice'](_0x1bd3d1,-0x367*0xb+-0x1d*-0x110+-0x7*-0xf2),this['length']--,this['loopIndex']>=_0x1bd3d1&&this['loopIndex']--);}['sort'](){const _0x1238e5=this['loopIndex']>=-0x22c1+-0x10a6+-0x3367*-0x1?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x1238e5!==null&&(this['loopIndex']=this['items']['indexOf'](_0x1238e5));}}class po extends ce{constructor(_0x46d937){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x46d937;}['add'](..._0x426fb1){let _0x56893e=!(0xf31+-0x61d+-0x913);const _0x1f3af5=this['_processAr'+'guments'](_0x426fb1,!(0x3*-0x812+0xfe*0x7+0x1144));if(!_0x1f3af5['length'])return _0x56893e;for(let _0x3a1d2b=-0x1e65+-0x32f*-0x1+0x9*0x306;_0x3a1d2b<_0x1f3af5['length'];_0x3a1d2b++)this['_index'][_0x1f3af5[_0x3a1d2b]]||(_0x56893e=!(0x1e09*0x1+-0xd*-0x55+0x112d*-0x2),this['_index'][_0x1f3af5[_0x3a1d2b]]=!(-0x1135+-0x1*-0x13b2+-0x27d),this['_list']['push'](_0x1f3af5[_0x3a1d2b]),this['fire']('add',_0x1f3af5[_0x3a1d2b],this['_parent']));return _0x56893e&&this['fire']('change',this['_parent']),_0x56893e;}['remove'](..._0x160d75){let _0x39a780=!(0x2062+0x1*0x6b0+-0x2711);if(!this['_list']['length'])return _0x39a780;const _0x36faed=this['_processAr'+'guments'](_0x160d75,!(-0x2*0x480+0xf70+0x4*-0x19c));if(!_0x36faed['length'])return _0x39a780;for(let _0x5792e0=-0xe12+0x2562+-0x1750*0x1;_0x5792e0<_0x36faed['length'];_0x5792e0++)this['_index'][_0x36faed[_0x5792e0]]&&(_0x39a780=!(-0x8*0x235+0x177e+-0x6*0xf9),delete this['_index'][_0x36faed[_0x5792e0]],this['_list']['splice'](this['_list']['indexOf'](_0x36faed[_0x5792e0]),-0x1*0x121e+0x2603*0x1+-0x13e4),this['fire']('remove',_0x36faed[_0x5792e0],this['_parent']));return _0x39a780&&this['fire']('change',this['_parent']),_0x39a780;}['clear'](){if(!this['_list']['length'])return;const _0x458373=this['_list']['slice'](-0xb53+-0x16*0x14e+-0x1*-0x2807);this['_list']=[],this['_index']={};for(let _0x1add4d=-0x1f30+0x3*0x481+0xb5*0x19;_0x1add4d<_0x458373['length'];_0x1add4d++)this['fire']('remove',_0x458373[_0x1add4d],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x3f37b4){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x3f37b4)):!(0xa3b+-0x9e*0xa+-0x40e);}['_has'](_0x398fab){if(!this['_list']['length']||!_0x398fab['length'])return!(-0x459+-0x169*-0x11+0x1*-0x139f);for(let _0x38e616=0x9bb*-0x1+-0x1fdc+-0x111*-0x27;_0x38e616<_0x398fab['length'];_0x38e616++)if(_0x398fab[_0x38e616]['length']===0xd9d+0x1cb9+-0x2a55){if(this['_index'][_0x398fab[_0x38e616][0x48f*-0x1+0xbd2+-0x1*0x743]])return!(-0x484+-0x1*-0x137d+-0xef9);}else{let _0x568110=!(0x5*-0x23b+0x1f*-0xb+0xc7c);for(let _0xd9c48=-0xb5*0x5+-0x1*-0x1855+-0x2c*0x79;_0xd9c48<_0x398fab[_0x38e616]['length'];_0xd9c48++)if(!this['_index'][_0x398fab[_0x38e616][_0xd9c48]]){_0x568110=!(-0x2a*-0x1+-0x2*0x3ad+0x107*0x7);break;}if(_0x568110)return!(-0x8*-0x2eb+0xd72+0x1265*-0x2);}return!(-0x19*-0x116+-0x166+-0x19bf);}['list'](){return this['_list']['slice'](-0x21e+0x1022+0x12b*-0xc);}['_processAr'+'guments'](_0x11e04d,_0x2df8f9){const _0x3f8677=[];let _0xa400d7=[];if(!_0x11e04d||!_0x11e04d['length'])return _0x3f8677;for(let _0xe0fc2a=-0x1974+0x2621+-0xcad;_0xe0fc2a<_0x11e04d['length'];_0xe0fc2a++)if(_0x11e04d[_0xe0fc2a]instanceof Array){_0x2df8f9||(_0xa400d7=[]);for(let _0x225613=-0x4*-0x920+0x9f7*-0x3+-0x69b;_0x225613<_0x11e04d[_0xe0fc2a]['length'];_0x225613++)typeof _0x11e04d[_0xe0fc2a][_0x225613]=='string'&&(_0x2df8f9?_0x3f8677['push'](_0x11e04d[_0xe0fc2a][_0x225613]):_0xa400d7['push'](_0x11e04d[_0xe0fc2a][_0x225613]));!_0x2df8f9&&_0xa400d7['length']&&_0x3f8677['push'](_0xa400d7);}else typeof _0x11e04d[_0xe0fc2a]=='string'&&(_0x2df8f9?_0x3f8677['push'](_0x11e04d[_0xe0fc2a]):_0x3f8677['push']([_0x11e04d[_0xe0fc2a]]));return _0x3f8677;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const re=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class id{constructor(_0x5277d6){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x3b0909=_0x5277d6['match'](yS);this['scheme']=_0x3b0909[0x8b*0x8+0xbc5*0x2+0x4*-0x6f8],this['authority']=_0x3b0909[-0xe9c+0x1*-0x1b23+0x29c3],this['path']=_0x3b0909[-0x47*0x9+0x2b*0xad+-0x1a8b],this['query']=_0x3b0909[-0xfd3*-0x1+-0x509+-0xac3],this['fragment']=_0x3b0909[-0x209+0x3be*0x4+-0xce6];}['toString'](){let _0x56f0a3='';return this['scheme']&&(_0x56f0a3+=this['scheme']+':'),this['authority']&&(_0x56f0a3+='//'+this['authority']),_0x56f0a3+=this['path'],this['query']&&(_0x56f0a3+='?'+this['query']),this['fragment']&&(_0x56f0a3+='#'+this['fragment']),_0x56f0a3;}['getQuery'](){const _0x46def9={};if(this['query']){const _0x4e4d24=decodeURIComponent(this['query'])['split']('&');for(const _0x34a258 of _0x4e4d24){const _0x347b5b=_0x34a258['split']('=');_0x46def9[_0x347b5b[-0x1043+0x1489+-0x446]]=_0x347b5b[-0x677*0x1+-0x2*-0xd85+-0x1492];}}return _0x46def9;}['setQuery'](_0x322098){let _0x101db6='';for(const _0x85c467 in _0x322098)_0x322098['hasOwnProp'+'erty'](_0x85c467)&&(_0x101db6!==''&&(_0x101db6+='&'),_0x101db6+=encodeURIComponent(_0x85c467)+'='+encodeURIComponent(_0x322098[_0x85c467]));this['query']=_0x101db6;}}const xS=0xd9b+-0x19ee+0xc53,Lf=0x24d2+0xe*-0xa6+-0x1b*0x107,sm=-0x24b+0x26f1+-0x12*0x209,SS=-0x1*0x515+-0x4ef*-0x1+0x2b,N={'DEG_TO_RAD':Math['PI']/(0xfbf*-0x1+0x6*0x502+-0xd99),'RAD_TO_DEG':(0x72+-0x1f6d+0x1faf)/Math['PI'],'clamp'(_0x596285,_0x714166,_0x2479ce){return _0x596285>=_0x2479ce?_0x2479ce:_0x596285<=_0x714166?_0x714166:_0x596285;},'intToBytes24'(_0x18108c){const _0xcc802a=_0x18108c>>-0x1c44+-0x106d+0x2cc1&-0xc91*0x2+0x185*0xb+-0xf1*-0xa,_0x33ac44=_0x18108c>>-0x1333+0x2*0x11c2+-0x1049&0x8d*0x18+0x1*-0x1a9+-0xa90,_0x13eeae=_0x18108c&0x2*-0x454+0x164c+-0xca5;return[_0xcc802a,_0x33ac44,_0x13eeae];},'intToBytes32'(_0x5a77d1){const _0x8a9958=_0x5a77d1>>-0xf97*0x1+-0x1917+-0x1*-0x28c6&0x1*0xbcb+0x30*0xa2+-0x292c,_0x1f4b03=_0x5a77d1>>0xe16*-0x1+-0x576*0x2+0x2*0xc89&-0xeb6*-0x1+-0x1*0x23bf+-0x758*-0x3,_0x11a437=_0x5a77d1>>0x1843+-0x1bc5+0x38a&-0x1*0x845+-0x6c0+0x1004,_0x375bcb=_0x5a77d1&0x13c7+0x255*0xd+0x1*-0x3119;return[_0x8a9958,_0x1f4b03,_0x11a437,_0x375bcb];},'bytesToInt24'(_0x13fa6a,_0x3a7ce6,_0x3e5ba7){return _0x13fa6a['length']&&(_0x3e5ba7=_0x13fa6a[0x187a*0x1+-0x1*-0x21ae+0x676*-0x9],_0x3a7ce6=_0x13fa6a[0x199c*-0x1+0x283+0x171a],_0x13fa6a=_0x13fa6a[0x1e9a+-0x1937+0xc5*-0x7]),_0x13fa6a<<0x1cd7+-0x1*-0xc1c+-0x28e3|_0x3a7ce6<<0x6*0x65+-0x142b+0x11d5|_0x3e5ba7;},'bytesToInt32'(_0x376510,_0x53cf54,_0x22203a,_0x68a7dc){return _0x376510['length']&&(_0x68a7dc=_0x376510[0x4a5*-0x4+-0x9b*-0x19+-0x1a*-0x22],_0x22203a=_0x376510[0x1a1f+-0x2215+0x7f8],_0x53cf54=_0x376510[0x26e0+-0x39*-0x11+-0x14*0x222],_0x376510=_0x376510[0xb*0x29a+-0x724+0x157a*-0x1]),(_0x376510<<-0x21e*0x6+0x20cd+0x6ab*-0x3|_0x53cf54<<-0x2636+0x702+-0x74*-0x45|_0x22203a<<0x2c*-0x1b+-0x1f43+0x1*0x23ef|_0x68a7dc)>>>0x495+-0x12e4+0xe4f;},'lerp'(_0x596c04,_0x408de8,_0x15adb8){return _0x596c04+(_0x408de8-_0x596c04)*N['clamp'](_0x15adb8,-0x1*0x1597+0x1bb9+0x13a*-0x5,0x4c0+0x21ff+-0x26be);},'lerpAngle'(_0xd29aa,_0x232c4d,_0x54ae01){return _0x232c4d-_0xd29aa>-0x2441+0xa14+0x1ae1&&(_0x232c4d-=0x833*0x3+-0x373*-0xa+-0x39af),_0x232c4d-_0xd29aa<-(-0x1*0x10c9+-0x16a*-0x5+0xa6b)&&(_0x232c4d+=-0x1*-0xedd+-0x2627*0x1+-0x18b2*-0x1),N['lerp'](_0xd29aa,_0x232c4d,N['clamp'](_0x54ae01,-0x867+0x1347*-0x1+-0x6*-0x49d,0x9e9*-0x1+-0x1*-0x59+-0x991*-0x1));},'powerOfTwo'(_0x9ddbff){return _0x9ddbff!==-0x22e*-0x1+-0x11b3+0x1d*0x89&&!(_0x9ddbff&_0x9ddbff-(-0x1d70+-0x1*0x30b+0x207c));},'nextPowerOfTwo'(_0x1ace77){return _0x1ace77--,_0x1ace77|=_0x1ace77>>0x1855+0x6d3*0x2+-0x1*0x25fa,_0x1ace77|=_0x1ace77>>-0x14aa+0x7*-0x125+0x1caf,_0x1ace77|=_0x1ace77>>-0x11d2+0x95*0x19+0x349,_0x1ace77|=_0x1ace77>>0x279+-0x318+-0xa7*-0x1,_0x1ace77|=_0x1ace77>>0x1bfc+0x235f*-0x1+0x773,_0x1ace77++,_0x1ace77;},'nearestPowerOfTwo'(_0xeeaf5f){return Math['pow'](-0xe19+0x241*-0xf+0x2fea,Math['round'](Math['log'](_0xeeaf5f)/Math['log'](0x20ac+-0xb6a+0x110*-0x14)));},'random'(_0x99ad7,_0x1229af){const _0x45d2f4=_0x1229af-_0x99ad7;return Math['random']()*_0x45d2f4+_0x99ad7;},'smoothstep'(_0x833cbe,_0x1b28fa,_0x239fcd){return _0x239fcd<=_0x833cbe?0x1f0+-0x2313+0x1*0x2123:_0x239fcd>=_0x1b28fa?-0x74*0x21+0x11d*0x21+-0x15c8:(_0x239fcd=(_0x239fcd-_0x833cbe)/(_0x1b28fa-_0x833cbe),_0x239fcd*_0x239fcd*(-0x9a*0x6+-0x4a3*0x5+-0x1ace*-0x1-(0x30*-0xcb+-0x6*0x22f+0x332c)*_0x239fcd));},'smootherstep'(_0x2a92bb,_0x4768ee,_0x4a5854){return _0x4a5854<=_0x2a92bb?0x43*-0x3+0x2*0x323+-0x57d*0x1:_0x4a5854>=_0x4768ee?-0x1b*0x6f+-0xd*0x254+0x29fa:(_0x4a5854=(_0x4a5854-_0x2a92bb)/(_0x4768ee-_0x2a92bb),_0x4a5854*_0x4a5854*_0x4a5854*(_0x4a5854*(_0x4a5854*(0x138c*0x1+0x29e+-0x1624)-(-0x1*-0x130a+0x15a1+-0x5c*0x71))+(0x2*-0x301+0x2b9*0xd+-0x1*0x1d59)));},'roundUp'(_0x47d98f,_0xeffa26){return _0xeffa26===-0x1*-0x225e+-0xae6+-0x1778?_0x47d98f:Math['ceil'](_0x47d98f/_0xeffa26)*_0xeffa26;},'between'(_0x205e5e,_0x4ae786,_0x5bbc6c,_0x47bce5){const _0x3438c1=Math['min'](_0x4ae786,_0x5bbc6c),_0x1b973d=Math['max'](_0x4ae786,_0x5bbc6c);return _0x47bce5?_0x205e5e>=_0x3438c1&&_0x205e5e<=_0x1b973d:_0x205e5e>_0x3438c1&&_0x205e5e<_0x1b973d;}},st=class st{constructor(_0x3c1bbd=-0x1b20+-0x99a+0x24ba,_0x59463c=-0xbfd+-0x3*0xce3+0x32a6,_0x21cfdc=0x14aa+-0x1c4+-0x12e6,_0x394c71=0xf31*0x1+0x7*-0x4a3+0x1*0x1145){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x89b60e=_0x3c1bbd['length'];_0x89b60e===-0x1e78+0x1407+0xa74||_0x89b60e===0x13ea*-0x1+-0x16c1+0x2aaf?(this['r']=_0x3c1bbd[0x7c9*0x3+-0x2375*0x1+-0x1*-0xc1a],this['g']=_0x3c1bbd[0x1cfa*0x1+0x1566+0x325f*-0x1],this['b']=_0x3c1bbd[-0x142a+0xd51+0x6db],this['a']=_0x3c1bbd[0x10f1+0x12*0x131+-0x2660]??-0xd*0x17d+-0x1604+0x1*0x295e):(this['r']=_0x3c1bbd,this['g']=_0x59463c,this['b']=_0x21cfdc,this['a']=_0x394c71);}['clone'](){const _0x50911a=this['constructo'+'r'];return new _0x50911a(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x2f6d73){return this['r']=_0x2f6d73['r'],this['g']=_0x2f6d73['g'],this['b']=_0x2f6d73['b'],this['a']=_0x2f6d73['a'],this;}['equals'](_0x4f2dff){return this['r']===_0x4f2dff['r']&&this['g']===_0x4f2dff['g']&&this['b']===_0x4f2dff['b']&&this['a']===_0x4f2dff['a'];}['set'](_0x457536,_0x411280,_0x51588a,_0x41ddfc=0x1a*0x160+-0xd0f*-0x1+-0x30ce){return this['r']=_0x457536,this['g']=_0x411280,this['b']=_0x51588a,this['a']=_0x41ddfc,this;}['lerp'](_0x22dbbf,_0x5e70f0,_0x37c9fc){return this['r']=_0x22dbbf['r']+_0x37c9fc*(_0x5e70f0['r']-_0x22dbbf['r']),this['g']=_0x22dbbf['g']+_0x37c9fc*(_0x5e70f0['g']-_0x22dbbf['g']),this['b']=_0x22dbbf['b']+_0x37c9fc*(_0x5e70f0['b']-_0x22dbbf['b']),this['a']=_0x22dbbf['a']+_0x37c9fc*(_0x5e70f0['a']-_0x22dbbf['a']),this;}['linear'](_0x14c3c8=this){return this['r']=Math['pow'](_0x14c3c8['r'],-0x1*0x24e9+0x1c9*0x1+0x3*0xbb6+0.20000000000000018),this['g']=Math['pow'](_0x14c3c8['g'],0xbb*0x8+0x2500+-0x2ad6+0.20000000000000018),this['b']=Math['pow'](_0x14c3c8['b'],-0x26b3+0xf67*-0x1+0x361c+0.20000000000000018),this['a']=_0x14c3c8['a'],this;}['gamma'](_0x37f27d=this){return this['r']=Math['pow'](_0x37f27d['r'],(0x3*-0x841+-0x1f3*0xa+0x2c42)/(0x132b+-0x2ab+-0x107e+0.20000000000000018)),this['g']=Math['pow'](_0x37f27d['g'],(0x136d*0x1+0x25c4+0xa*-0x5b8)/(0xefb+-0x13f3*0x1+0x1*0x4fa+0.20000000000000018)),this['b']=Math['pow'](_0x37f27d['b'],(0x1bee+-0x1180+-0xa6d)/(-0x58f*-0x1+0xdc+-0x1*0x669+0.20000000000000018)),this['a']=_0x37f27d['a'],this;}['mulScalar'](_0x420661){return this['r']*=_0x420661,this['g']*=_0x420661,this['b']*=_0x420661,this;}['fromString'](_0x1ab4f4){const _0x203fc6=parseInt(_0x1ab4f4['replace']('#','0x'),0x1*-0x2584+-0x2*-0x919+0x1362);let _0x1af9ab;return _0x1ab4f4['length']>-0x9*-0x26b+-0x16da+-0x8f*-0x2?_0x1af9ab=N['intToBytes'+'32'](_0x203fc6):(_0x1af9ab=N['intToBytes'+'24'](_0x203fc6),_0x1af9ab[0x5*0x16b+0x2b*-0x9f+0x13a1]=0x1*-0x1ea5+-0x48b*-0x1+0x1b19*0x1),this['set'](_0x1af9ab[-0xe4b*0x1+-0x5be+-0x1*-0x1409]/(-0x1740+0x185*0x11+-0x196),_0x1af9ab[0xad6+0xb4*-0x3+0xb*-0xcb]/(0x1b5a*-0x1+-0x10bf+0xde*0x34),_0x1af9ab[0x16d5+0x11d*0x1+-0x17f0]/(-0xe05+0x2654+-0x1750),_0x1af9ab[0x118b+-0x1980+-0xcc*-0xa]/(0x1c*-0x7d+0x1*-0x24fb+-0x1*-0x33a6)),this;}['fromArray'](_0x39ea6f,_0x366f36=0x1b50+-0x8*-0x382+-0x376*0x10){return this['r']=_0x39ea6f[_0x366f36]??this['r'],this['g']=_0x39ea6f[_0x366f36+(0x205f+-0x1ea+-0x1e74)]??this['g'],this['b']=_0x39ea6f[_0x366f36+(0x58+0x2228+0x1*-0x227e)]??this['b'],this['a']=_0x39ea6f[_0x366f36+(0x19d4+-0xd5*0x1+-0x18fc)]??this['a'],this;}['toString'](_0x646cec,_0x5864cf){const {r:_0x472c42,g:_0x1ebcf9,b:_0x18d63a,a:_0x26d90e}=this;if(_0x5864cf||_0x472c42>-0x51*-0x1+0xca*-0x17+-0x2*-0x8eb||_0x1ebcf9>0x3*0x115+0xb*0x1d1+-0x91*0x29||_0x18d63a>-0x258b+0x1*-0x990+0x2*0x178e)return _0x472c42['toFixed'](-0x4f*-0xd+0x10a7+-0x11*0x137)+',\x20'+_0x1ebcf9['toFixed'](0x133f+-0x2046+0xd0a)+',\x20'+_0x18d63a['toFixed'](-0x2417+0x13a4+0x1076)+',\x20'+_0x26d90e['toFixed'](0xb12+0xaa9*-0x1+-0x66);let _0x1020bf='#'+((-0x1502+-0x125*0xf+0x262e<<-0x20c3+0x1592+-0x3c3*-0x3)+(Math['round'](_0x472c42*(-0x3*-0x926+-0x1*-0x1e01+-0x3874))<<0x8*-0x236+0x35*0x2f+0x805)+(Math['round'](_0x1ebcf9*(-0xeaf+0x2*-0xd0f+0xa73*0x4))<<0xc2*-0x12+-0xad*-0x22+0x1*-0x94e)+Math['round'](_0x18d63a*(-0xef2+-0x1*0x24fb+0x34ec)))['toString'](0x14da+0x4*-0x628+0x3d6)['slice'](-0x26a*0x5+-0x59*-0x49+-0xd4e);if(_0x646cec===!(0xeff+0x201b*0x1+0x178d*-0x2)){const _0x315228=Math['round'](_0x26d90e*(-0xd8a+-0x1cdb+0x2b64))['toString'](-0x5*0x376+-0x234+-0x1392*-0x1);this['a']<(0xad*-0x11+-0x2089+-0x72*-0x63)/(-0x7*-0x125+0x9a9+-0x10ad)?_0x1020bf+='0'+_0x315228:_0x1020bf+=_0x315228;}return _0x1020bf;}['toArray'](_0x2249c4=[],_0x262143=-0x2*0xc07+-0xd4+-0x62*-0x41,_0x1baac4=!(-0xbfb*-0x2+0x1*-0x1bec+-0x1a*-0x27)){return _0x2249c4[_0x262143]=this['r'],_0x2249c4[_0x262143+(0x87d+-0x22*-0xc6+-0x22c8)]=this['g'],_0x2249c4[_0x262143+(0x19e2+0x26d5+-0x40b5)]=this['b'],_0x1baac4&&(_0x2249c4[_0x262143+(-0x1*-0x180d+0x1655+-0x2e5f)]=this['a']),_0x2249c4;}};c(st,'BLACK',Object['freeze'](new st(0x59*0x67+-0x9a*-0x7+-0x2805,-0x18e*-0x6+0x1*-0xb66+0x212,-0x135a+0x1db+0x117f,-0x1fbb+0x11*0x1d+0x1dcf))),c(st,'BLUE',Object['freeze'](new st(0x108c+0xb05+-0x1b91*0x1,-0xcbf*0x3+-0x3*0xafd+0x4734,-0x25ca+0x228c+0x3*0x115,-0x1403+0x260c+-0x1208))),c(st,'CYAN',Object['freeze'](new st(0x7c*0xe+0x7*-0xa3+0x23*-0x11,0x12*0x4c+0x645+-0x2*0x5ce,0xb*0x114+0x1039*-0x1+0x45e,-0x7b2+-0x116*0x23+0x2db5))),c(st,'GRAY',Object['freeze'](new st(-0x8*0x28c+0x76*-0x2f+0x1505*0x2+0.5,-0xd*-0x1fd+0x532*-0x4+-0x511+0.5,-0x7bb+-0x1*0x23ad+0x1cf*0x18+0.5,-0xfeb+0x2256+-0x126a*0x1))),c(st,'GREEN',Object['freeze'](new st(0x84e*-0x3+0xe28+0xac2,-0x2*0xd5e+-0xb8*-0x22+-0x1*-0x24d,0x127*-0x20+-0x215d+0x463d,-0x1*-0xbca+0x1c*-0xa4+0x19*0x3f))),c(st,'MAGENTA',Object['freeze'](new st(0x728+0x1*0xb8c+-0x12b3,-0xa2c+0x7d4+0x258,-0x246c+0x169d+-0x374*-0x4,-0x1*0x1a16+0xfae+-0x29*-0x41))),c(st,'RED',Object['freeze'](new st(0x120e+0x1*0x4e8+-0x3*0x7a7,-0x2007*0x1+-0x944*0x4+-0x17*-0x301,-0xae3*-0x2+0x73a+-0x1d00,0x1*0x116+-0x503+0x1*0x3ee))),c(st,'WHITE',Object['freeze'](new st(-0xa8b*0x1+0x1ea+0x8a2,-0x20*-0xd3+-0x216e+0x70f,0xefd*0x1+-0x5b*-0x67+-0x3399,0x6*0x1d8+0x162*0x11+-0x2291*0x1))),c(st,'YELLOW',Object['freeze'](new st(0xc9e+-0x933*0x3+0xefc,0x1*0x1731+0x1*-0x225d+0x1*0xb2d,0x16f2+0x17*0x10f+0x2f4b*-0x1,0x1a*0x97+-0x9f+0x10d*-0xe)));let Y=st;class ly{constructor(_0x5aad40,_0x26a71e=-0x1*-0x1f5b+0x106*-0x15+-0x9dd){c(this,'_curve'),c(this,'_left',-(-0x1842+0x15ec+0x257)/(0xe*0x9e+0xa7*-0x27+-0x11*-0xfd)),c(this,'_right',(-0xd6d+0xfad*-0x2+0x1*0x2cc8)/(-0x1ba4+-0x1b64+-0x6*-0x92c)),c(this,'_recip',0x2561+0x699*-0x3+-0x8cb*0x2),c(this,'_p0',0x20d6+0x191+-0x2267),c(this,'_p1',0x768+-0x1ae5+0x137d),c(this,'_m0',0x24c7+-0xa1e+-0x1aa9),c(this,'_m1',-0xe9b+-0x16b7+0x2552),(this['_curve']=_0x5aad40,this['_reset'](_0x26a71e));}['evaluate'](_0x15e61c,_0xd04cce=!(-0x1726+0x7*0x47+0x1*0x1536)){(_0xd04cce||_0x15e61c<this['_left']||_0x15e61c>=this['_right'])&&this['_reset'](_0x15e61c);let _0x35e915;const _0x5cca21=this['_curve']['type'];if(_0x5cca21===SS)_0x35e915=this['_p0'];else{const _0x54828a=this['_recip']===0x242d+0x11b*0x2+0x13d*-0x1f?-0x14*0x3+-0x42d*0x6+0x194a:(_0x15e61c-this['_left'])*this['_recip'];_0x5cca21===xS?_0x35e915=N['lerp'](this['_p0'],this['_p1'],_0x54828a):_0x5cca21===Lf?_0x35e915=N['lerp'](this['_p0'],this['_p1'],_0x54828a*_0x54828a*(0x1393+0x1da6+0x1*-0x3136-(-0x330+-0x1f91*-0x1+-0x1c5f)*_0x54828a)):_0x35e915=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x54828a);}return _0x35e915;}['_reset'](_0x1f8547){const _0x17845a=this['_curve']['keys'],_0x1a0db1=_0x17845a['length'];if(!_0x1a0db1)this['_left']=-(0x431*-0x8+-0x1457*-0x1+0xd32)/(-0x3f6+-0xef9*-0x2+-0x19fc),this['_right']=(-0x6*-0x66b+0x1153+-0x24*0x18d)/(-0x18e*-0x14+-0x8a*-0x16+-0x2af4),this['_recip']=0x47*-0x7b+-0x133d+-0x2*-0x1aad,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x1*0x83f+-0x16d+0x12*-0x61;else{if(_0x1f8547<_0x17845a[-0xc*0x2d4+0x1*-0x4fd+0x26ed][-0x2f*-0xc2+0x1cbe*0x1+0x2*-0x202e])this['_left']=-(-0xb*-0x36f+0x29*0xd4+-0x24*0x1fe)/(0x528+0xdb6+-0xa1*0x1e),this['_right']=_0x17845a[-0x24a0+-0x353+0x27f3][-0x1e50+0x2594+-0x26c*0x3],this['_recip']=-0x1*-0x1939+-0x504+-0x1435,this['_p0']=this['_p1']=_0x17845a[-0xea8+0xebe+0x2*-0xb][-0x216d+-0x1*-0xe1a+-0x1*-0x1354],this['_m0']=this['_m1']=-0x1e6b+-0x13b*0x6+0x25cd;else{if(_0x1f8547>=_0x17845a[_0x1a0db1-(0x2*0xf4+0x442*-0x1+0x25b)][0x1a01+0x2021+-0x1d11*0x2])this['_left']=_0x17845a[_0x1a0db1-(-0x6e9+0x1a*-0x13d+0x271c)][0x3*-0xb3f+0xb1b+0x16a2],this['_right']=(-0x82*-0x19+0x1*-0x1b46+0xe95)/(-0x2083+-0x224+-0x22a7*-0x1),this['_recip']=0xb1e*-0x1+0x178f+0x5*-0x27d,this['_p0']=this['_p1']=_0x17845a[_0x1a0db1-(0x2119+-0x2*-0xf8d+-0x4032)][-0x1c9*-0x5+0x21ef+-0x1*0x2adb],this['_m0']=this['_m1']=0x31d*-0x1+-0x49*0x34+0x11f1;else{let _0x335036=0xa5d*0x2+-0x73*-0xd+0x3*-0x8db;for(;_0x1f8547>=_0x17845a[_0x335036+(0x25a4+0xc79+-0xc87*0x4)][-0x1ddb+0x3*0x533+0xe42];)_0x335036++;this['_left']=_0x17845a[_0x335036][0x6b3+0xd53+0x1d2*-0xb],this['_right']=_0x17845a[_0x335036+(0x2687+0x13*-0xde+-0x22*0xa6)][0x3*0xcec+-0x1b0+-0x2514];const _0x355a35=(0x594+0x10*0x153+-0xd*0x20f)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x355a35)?_0x355a35:0x251*-0xd+0x1a5*0x6+-0x47*-0x49,this['_p0']=_0x17845a[_0x335036][-0xb7c+-0x1574+0x20f1],this['_p1']=_0x17845a[_0x335036+(-0x122*-0x1+0x1459+-0x157a)][0x1*-0xca6+-0x2039+0x2ce0],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x17845a,_0x335036);}}}}['_calcTange'+'nts'](_0x542610,_0x1ec4e4){let _0x565e4f;const _0x39240b=_0x542610[_0x1ec4e4],_0x53d874=_0x542610[_0x1ec4e4+(-0x3*-0x321+0x68c+-0xfee*0x1)];let _0x1d6a81;if(_0x1ec4e4===0x100*-0x1a+-0xe*0xfc+-0x4*-0x9f2?_0x565e4f=[_0x542610[0x1575+-0x759+-0xe1c][-0x780+0x20a+0x576*0x1]+(_0x542610[0x1*-0x1+0x1654+-0x1653][0x213+0x1bcb+-0x1dde]-_0x542610[-0x22a9+-0x761+0x2a0b][0x1f11+-0xe16*-0x1+-0x2d27]),_0x542610[0x1*0x2159+0x2*0xea3+-0x17*0x2b9][-0x13f1+0x126+0x12cc]+(_0x542610[-0x57b*0x2+-0x80f+-0x9*-0x21d][-0x534+0x1bf1+-0x16bc]-_0x542610[0x94e+-0x23b6+0x1a69][-0x310+-0x61*-0x1+0x2b0*0x1])]:_0x565e4f=_0x542610[_0x1ec4e4-(0xce*-0x4+0xc72+-0x939)],_0x1ec4e4===_0x542610['length']-(0x1*0xf1+-0x2230+-0x2141*-0x1)?_0x1d6a81=[_0x542610[_0x1ec4e4+(-0x451+0x15d*0x1+-0x1*-0x2f5)][0x25ad+0x1c53+0x1*-0x4200]+(_0x542610[_0x1ec4e4+(-0x4bb*0x1+-0x2ab*0x4+0x8*0x1ed)][-0x243*0x2+-0x10*0xca+-0xa*-0x1b7]-_0x542610[_0x1ec4e4][0x154+-0x231e+-0x21ca*-0x1]),_0x542610[_0x1ec4e4+(-0x2*-0x135a+-0x1964+-0x1*0xd4f)][0x2aa*0x2+-0x9b7+0x464]+(_0x542610[_0x1ec4e4+(-0x12f*-0x17+-0xe2c+0x29c*-0x5)][-0x1*-0x164d+-0x6*-0x30a+-0x511*0x8]-_0x542610[_0x1ec4e4][-0x2200+0x116c+0x3*0x587])]:_0x1d6a81=_0x542610[_0x1ec4e4+(0x5e*-0x59+0x6d*0x41+0x503)],this['_curve']['type']===sm){const _0xdf0508=(0x1138+-0x1c4f*-0x1+0x2b*-0x10f)*(_0x53d874[-0x2670+0x9af*-0x4+0x134b*0x4]-_0x39240b[-0x41c+-0x7*-0x287+-0x3d*0x39])/(_0x53d874[0x2*0xdc9+0x1d70+-0x1c81*0x2]-_0x565e4f[0x2334+-0x16ee+-0xc46*0x1]),_0x505880=(0x1*-0x1d0d+-0xbe3+0x28f2)*(_0x53d874[-0x1a9f+-0x5d4*-0x2+0xef7]-_0x39240b[0x12e4+0x25*-0x35+-0xb3b])/(_0x1d6a81[-0xf*0xc7+0x2f*-0xb5+0x1a*0x1ba]-_0x39240b[-0x1*-0x45a+-0x142*-0x3+-0x820]);this['_m0']=this['_curve']['tension']*(isFinite(_0xdf0508)?_0xdf0508:-0x10d4+0x704+0x9d0)*(_0x53d874[0x1*-0xe18+0xc9e*0x1+-0x1*-0x17b]-_0x565e4f[-0x24b9+-0x1*0x1f9a+0x4454]),this['_m1']=this['_curve']['tension']*(isFinite(_0x505880)?_0x505880:0x300+0x1f75+0x2275*-0x1)*(_0x1d6a81[-0x1e63+0x11a8+-0xcbc*-0x1]-_0x39240b[0x1cc7+-0x15d4+-0x6f2]);}else{const _0x2223d4=(_0x53d874[-0xe*0x2a6+-0x14ca+0x39de]-_0x39240b[-0x5f*0x61+-0xd43+0x3142])/(_0x39240b[0x2*0x4b9+0x9*-0x133+-0xf*-0x17]-_0x565e4f[-0x1d9*-0x2+0x5e5+-0x1eb*0x5]),_0x3a9499=(_0x53d874[0x1111+0x5a*0x17+0x1*-0x1927]-_0x39240b[-0x1*-0xdcb+0x5*-0x6b7+0x1*0x13c8])/(_0x1d6a81[-0x121f*-0x2+-0x1fa+0x1122*-0x2]-_0x53d874[0x9d*0x6+0x22ce+-0x267c]),_0x20f298=_0x39240b[0x184d+0x2*0xfb+-0xd21*0x2]+(_0x565e4f[0x11a3+0x2*0xa65+-0x4*0x99b]-_0x39240b[-0x4a2*0x5+-0x105c*0x2+0x37e3])*(isFinite(_0x2223d4)?_0x2223d4:-0x166*-0x1a+-0x17*-0x41+-0x2a33),_0x232b90=_0x53d874[-0x1f1*-0x4+0x11a8+0xf1*-0x1b]+(_0x1d6a81[-0x1*-0x220d+0x1d00+0x6*-0xa82]-_0x53d874[0x246e+0x2510+0x3*-0x187f])*(isFinite(_0x3a9499)?_0x3a9499:0x5a4+0x238e+-0x2932),_0x4f1566=this['_curve']['tension'];this['_m0']=_0x4f1566*(_0x53d874[-0x2*-0x11e7+0x3*0x955+-0x3fcc]-_0x20f298),this['_m1']=_0x4f1566*(_0x232b90-_0x39240b[0x1543+-0x162+-0x30*0x6a]);}}['_evaluateH'+'ermite'](_0x1aae38,_0x18b026,_0x548e39,_0x35eba5,_0x187492){const _0x57b414=_0x187492*_0x187492,_0x47db31=_0x187492+_0x187492,_0x264296=-0x3*-0xc37+-0x81*0x1e+-0x122*0x13-_0x187492,_0x3ca813=_0x264296*_0x264296;return _0x1aae38*((0x16eb+0xf*-0x1d7+0x4af+_0x47db31)*_0x3ca813)+_0x548e39*(_0x187492*_0x3ca813)+_0x18b026*(_0x57b414*(-0x7a1+-0x1ace+0x2272-_0x47db31))+_0x35eba5*(_0x57b414*(_0x187492-(0x5a6+0x2613+0xaee*-0x4)));}}class Ps{constructor(_0xb81ff0){c(this,'keys',[]),c(this,'type',Lf),c(this,'tension',-0x1b98+-0x2281+0x3e19+0.5),c(this,'_eval',new ly(this));if(_0xb81ff0){for(let _0x5d9301=-0xc0e*0x2+0xa0a+0xe12;_0x5d9301<_0xb81ff0['length']-(0x1307+-0x11db+-0x12b);_0x5d9301+=0x2*-0x741+-0x17fa+0xd*0x2f6)this['keys']['push']([_0xb81ff0[_0x5d9301],_0xb81ff0[_0x5d9301+(0x1883+0x1*-0x89a+0x1*-0xfe8)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x23a5ab,_0x513d59){const _0x2f0ca4=this['keys'],_0x22b998=_0x2f0ca4['length'];let _0x278d60=-0x802+0x264c+0x1*-0x1e4a;for(;_0x278d60<_0x22b998&&!(_0x2f0ca4[_0x278d60][0x10d1+0x1868*0x1+0xad*-0x3d]>_0x23a5ab);_0x278d60++);const _0x46b578=[_0x23a5ab,_0x513d59];return this['keys']['splice'](_0x278d60,-0x1*-0x173+0x1*0x1406+-0x1579,_0x46b578),_0x46b578;}['get'](_0x192551){return this['keys'][_0x192551];}['sort'](){this['keys']['sort']((_0x30a62d,_0x2aecfa)=>_0x30a62d[0x1c35+0x1*-0x1cd+0x1a*-0x104]-_0x2aecfa[0x1472+0xba+-0x152c]);}['value'](_0x397adf){return this['_eval']['evaluate'](_0x397adf,!(-0x1416+0x10*-0x1a1+0x2e26));}['closest'](_0x505c6e){const _0x2110eb=this['keys'],_0x1b8a3a=_0x2110eb['length'];let _0x4e4c10=-0x1e7b+-0x1a10+0x388d,_0x5317de=null;for(let _0x2ee5d8=-0x1c1*0x1+-0x242b+-0x652*-0x6;_0x2ee5d8<_0x1b8a3a;_0x2ee5d8++){const _0x1492bd=Math['abs'](_0x505c6e-_0x2110eb[_0x2ee5d8][0x1bd6+0x28*0x84+0x2*-0x183b]);if(_0x4e4c10>=_0x1492bd)_0x4e4c10=_0x1492bd,_0x5317de=_0x2110eb[_0x2ee5d8];else break;}return _0x5317de;}['clone'](){const _0x3fc46b=new this['constructo'+'r']();return _0x3fc46b['keys']=this['keys']['map'](_0x160483=>[..._0x160483]),_0x3fc46b['type']=this['type'],_0x3fc46b['tension']=this['tension'],_0x3fc46b;}['quantize'](_0x28a288){_0x28a288=Math['max'](_0x28a288,-0x1b37+-0x1*-0x25a+-0x18df*-0x1);const _0x8cf9df=new Float32Array(_0x28a288),_0x2720f0=(0x1983+0xb53+0x1*-0x24d5)/(_0x28a288-(-0xf8d+0x22e8+-0x135a*0x1));_0x8cf9df[0x2b*0x6d+-0x1f93+-0xc*-0x11b]=this['_eval']['evaluate'](-0xa*-0xd9+-0x22fc+0xd41*0x2,!(0x602*-0x6+-0x217d+0x4589));for(let _0x1059f0=0x16f4+-0x119e+-0x555;_0x1059f0<_0x28a288;_0x1059f0++)_0x8cf9df[_0x1059f0]=this['_eval']['evaluate'](_0x2720f0*_0x1059f0);return _0x8cf9df;}['quantizeCl'+'amped'](_0x1be3ee,_0x1db006,_0x24ca44){const _0x2bcfc5=this['quantize'](_0x1be3ee);for(let _0x237cc2=-0x12e5+-0x3ed+-0x16d2*-0x1;_0x237cc2<_0x2bcfc5['length'];++_0x237cc2)_0x2bcfc5[_0x237cc2]=Math['min'](_0x24ca44,Math['max'](_0x1db006,_0x2bcfc5[_0x237cc2]));return _0x2bcfc5;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Lf);if(arguments['length']>-0x89b*0x1+0x19e2+-0x1146){for(let _0x436b9d=0x1d20+-0xe31*0x2+0xbe*-0x1;_0x436b9d<arguments['length'];_0x436b9d++)this['curves']['push'](new Ps(arguments[_0x436b9d]));}else{if(arguments['length']===-0x173+0x1adb+-0x1968)this['curves']['push'](new Ps());else{const _0x14ff88=arguments[-0x16e*-0x8+-0x4a4+-0x6cc];if(typeof _0x14ff88=='number'){for(let _0x14ac0d=-0x1c5*0x16+0x2561+0x18d;_0x14ac0d<_0x14ff88;_0x14ac0d++)this['curves']['push'](new Ps());}else{for(let _0xde72d0=-0x2032+-0x49+0x207b;_0xde72d0<_0x14ff88['length'];_0xde72d0++)this['curves']['push'](new Ps(_0x14ff88[_0xde72d0]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x4b0291){this['_type']=_0x4b0291;for(let _0x597811=-0x1d45*0x1+-0xc6b+-0x536*-0x8;_0x597811<this['curves']['length'];_0x597811++)this['curves'][_0x597811]['type']=_0x4b0291;}get['type'](){return this['_type'];}['get'](_0x48ec63){return this['curves'][_0x48ec63];}['value'](_0x4e2942,_0x7841e=[]){const _0xa0ec7f=this['curves']['length'];_0x7841e['length']=_0xa0ec7f;for(let _0x252eb1=-0xad*-0x2f+-0x244e+-0x1*-0x48b;_0x252eb1<_0xa0ec7f;_0x252eb1++)_0x7841e[_0x252eb1]=this['curves'][_0x252eb1]['value'](_0x4e2942);return _0x7841e;}['clone'](){const _0x108ead=new this['constructo'+'r']();_0x108ead['curves']=[];for(let _0x6a5fbf=0xfd4+0x1235+0x2209*-0x1;_0x6a5fbf<this['curves']['length'];_0x6a5fbf++)_0x108ead['curves']['push'](this['curves'][_0x6a5fbf]['clone']());return _0x108ead['_type']=this['_type'],_0x108ead;}['quantize'](_0x26a9d1){_0x26a9d1=Math['max'](_0x26a9d1,-0x51d+0x3be*0x1+0x161);const _0x549e54=this['curves']['length'],_0x19a64f=new Float32Array(_0x26a9d1*_0x549e54),_0x4d69ec=(0x1fda+0x1*0x1327+-0xc*0x440)/(_0x26a9d1-(0xce*0x2f+0x243d+-0x4a0e));for(let _0x57432c=0x16b2+0x1afc+-0x31ae;_0x57432c<_0x549e54;_0x57432c++){const _0x3bed39=new ly(this['curves'][_0x57432c]);for(let _0x494085=0x2*0x652+-0xb7b*0x1+-0x129;_0x494085<_0x26a9d1;_0x494085++)_0x19a64f[_0x494085*_0x549e54+_0x57432c]=_0x3bed39['evaluate'](_0x4d69ec*_0x494085);}return _0x19a64f;}['quantizeCl'+'amped'](_0x36dbbc,_0xf92afd,_0xa09813){const _0x47bb2c=this['quantize'](_0x36dbbc);for(let _0xea7359=0x55*0xb+-0x1*0xd34+0x1*0x98d;_0xea7359<_0x47bb2c['length'];++_0xea7359)_0x47bb2c[_0xea7359]=Math['min'](_0xa09813,Math['max'](_0xf92afd,_0x47bb2c[_0xea7359]));return _0x47bb2c;}}let im=-0x236c+-0xa0f+0x2d80;const rd=(-0x252b+0x29b*0x1+-0x1*-0x2291)/(-0x1f4a+-0x6d7*0x2+0x2df7),uu=new Float32Array(-0xb87*0x1+-0x1a*-0x70+-0x8*-0x5),rm=new Int32Array(uu['buffer']);class qt{static['float2Half'](_0x3e14f4){uu[0x2105+-0x10c+-0x1ff9]=_0x3e14f4;const _0x260c66=rm[0x4*-0x295+0x3*0x6bb+0x19*-0x65];let _0x756681=_0x260c66>>-0x7*-0x2f2+0xcd1+-0x215f&-0x168a+0x3079*0x2+-0x5*-0xab8,_0x12a1ef=_0x260c66>>-0x1*-0x1a7b+-0x239c+0x9*0x105&-0x6*0x1eb+-0x311*-0xb+-0xe3a;const _0x8da7=_0x260c66>>-0x1a5c+-0x53*-0x65+-0x64c&0xdb4+0x18a*0x8+-0x1905;return _0x8da7<-0x3ea*0x1+-0x61*-0x4f+-0x199e?_0x756681:_0x8da7>0xc1*-0x29+0x269c+0x1f*-0x3b?(_0x756681|=-0x9*-0x1335+-0x3*-0x4d7b+-0x1194e*0x1,_0x756681|=(_0x8da7===0x2b*0xdf+0x240e+0x27*-0x1dc?-0x1ff5+0x46d+-0x8*-0x371:0x2e*-0xb1+0x1189*0x1+0xe46)&&_0x260c66&-0x313ac7+0x69a67*0x13+0x33c521,_0x756681):_0x8da7<-0x1*-0x1c13+-0xaca+0x58*-0x31?(_0x12a1ef|=0x1b3f+0x129a*-0x2+0x11f5,_0x756681|=(_0x12a1ef>>-0x1c53+-0x36d*-0x5+0x1*0xba4-_0x8da7)+(_0x12a1ef>>0x6fe+0x2400+-0x3*0xe2f-_0x8da7&0x1*0xb87+-0x2*0x955+-0x4*-0x1c9),_0x756681):(_0x756681|=_0x8da7-(0x5*-0x6fd+-0x9ec+0x2d4d)<<0x14a6*-0x1+-0x254a+-0x1cfd*-0x2|_0x12a1ef>>0x4*-0x213+0xed3*-0x2+0x25f3,_0x756681+=_0x12a1ef&-0x2203*0x1+-0x160f*0x1+0x3813,_0x756681);}static['float2Byte'+'s'](_0x5b24b6,_0x4790ee,_0x587e5d,_0x30b95c){const _0x1042fa=(-0xa1*-0x6+0x137*0x9+-0xf*0xea)*_0x5b24b6%(0x19f1*0x1+0x2ea+-0x1cda);if(_0x4790ee[_0x587e5d+(0x181c+-0x6d*0x16+-0x33*0x4a)]=Math['round']((_0x5b24b6%(0x1858+-0x17*-0xa7+-0x2758)-rd*_0x1042fa)*(-0x568+0x12e+0x539)),_0x30b95c>0x22e6+0x2*-0xfd3+0x1*-0x33f){const _0x29b0fe=(-0x20b7+0x19bd+0x47*0x3ad)*_0x5b24b6%(-0x505*0x1+0x20f*-0xa+0x199c);if(_0x4790ee[_0x587e5d+(0x2065+0x2*-0x136b+-0x6*-0x113)]=Math['round']((_0x1042fa-rd*_0x29b0fe)*(-0x41d+0x1413+0xef7*-0x1)),_0x30b95c>-0xd98+0x11*0x19f+-0x18d*0x9){const _0x3d1503=(-0x3abe6+0x4897*0x6df+-0xf216a4)*_0x5b24b6%(-0x1*-0x3b+-0xbad*0x3+-0x97*-0x3b);_0x4790ee[_0x587e5d+(0x18b5+-0x1776+0x13d*-0x1)]=Math['round']((_0x29b0fe-rd*_0x3d1503)*(0x3*-0x55c+0x1*0x1e53+-0x350*0x4)),_0x30b95c>-0x7bb+0x2b+-0x7*-0x115&&(_0x4790ee[_0x587e5d+(-0x221b+0x2551+-0x333)]=Math['round'](_0x3d1503*(0x26b*-0x5+0x2*0x130a+-0x18fe*0x1)));}}}static['float2Byte'+'sRange'](_0xb0cf67,_0x3c8f31,_0x230cc8,_0x34b2a9,_0x1ec2e2,_0x4756c2){(_0xb0cf67<_0x34b2a9||_0xb0cf67>_0x1ec2e2)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0xb0cf67=N['clamp']((_0xb0cf67-_0x34b2a9)/(_0x1ec2e2-_0x34b2a9),0x13*0xda+0x2277+-0x32a5,-0x1c05+0x1*0x2+0x1c04),qt['float2Byte'+'s'](_0xb0cf67,_0x3c8f31,_0x230cc8,_0x4756c2);}static['float2RGBA'+'8'](_0x508d51,_0x3a2cd8){uu[0x160d+-0x10*0x26c+0x2d*0x5f]=_0x508d51;const _0x42387d=rm[0x1a18+-0x15ce+-0x44a];_0x3a2cd8['r']=(_0x42387d>>-0x1*-0x48e+0x1967+0xb*-0x2b7&0x13b6+0x1273+-0x252a)/(-0x9a3+-0x25a2*0x1+-0x3044*-0x1),_0x3a2cd8['g']=(_0x42387d>>-0xb*-0x22d+-0x5*-0x682+-0x3869*0x1&0x1*-0x55d+-0x95b+-0x9*-0x1bf)/(-0x465+0xed9+0x3*-0x327),_0x3a2cd8['b']=(_0x42387d>>0x8c1+-0x1f92+0x16d9*0x1&-0xbdd+0x1b4c+-0x3*0x4d0)/(0x5*-0x233+-0x6ab*0x3+0x1fff*0x1),_0x3a2cd8['a']=(_0x42387d&0x455*-0x2+0xa*-0x239+0x1fe3)/(0x159f+-0x1eff+-0x1*-0xa5f);}}const it=class it{constructor(_0x13562a=0xde2+-0x1*0x1706+-0x82*-0x12,_0x24e92f=0x199c+-0x1514+-0x488,_0x21c26e=-0x205e*-0x1+0x212+0x130*-0x1d){c(this,'x'),c(this,'y'),c(this,'z'),_0x13562a['length']===0x22e4+0xb0d+-0x2dee?(this['x']=_0x13562a[-0x18e5*0x1+-0x10ca+-0x29af*-0x1],this['y']=_0x13562a[-0x252b+-0x9a0+0x2ecc],this['z']=_0x13562a[0x2683+-0xa84+-0x1bfd]):(this['x']=_0x13562a,this['y']=_0x24e92f,this['z']=_0x21c26e);}['add'](_0x4a7bb4){return this['x']+=_0x4a7bb4['x'],this['y']+=_0x4a7bb4['y'],this['z']+=_0x4a7bb4['z'],this;}['add2'](_0x29ea4b,_0x5d861a){return this['x']=_0x29ea4b['x']+_0x5d861a['x'],this['y']=_0x29ea4b['y']+_0x5d861a['y'],this['z']=_0x29ea4b['z']+_0x5d861a['z'],this;}['addScalar'](_0x13eaed){return this['x']+=_0x13eaed,this['y']+=_0x13eaed,this['z']+=_0x13eaed,this;}['addScaled'](_0x2a89c5,_0x147329){return this['x']+=_0x2a89c5['x']*_0x147329,this['y']+=_0x2a89c5['y']*_0x147329,this['z']+=_0x2a89c5['z']*_0x147329,this;}['clone'](){const _0x2d6cf0=this['constructo'+'r'];return new _0x2d6cf0(this['x'],this['y'],this['z']);}['copy'](_0x239c66){return this['x']=_0x239c66['x'],this['y']=_0x239c66['y'],this['z']=_0x239c66['z'],this;}['cross'](_0x210c9b,_0x8a89f){const _0x3aa0b5=_0x210c9b['x'],_0x52e600=_0x210c9b['y'],_0x5422d1=_0x210c9b['z'],_0x330900=_0x8a89f['x'],_0x45d18c=_0x8a89f['y'],_0x429419=_0x8a89f['z'];return this['x']=_0x52e600*_0x429419-_0x45d18c*_0x5422d1,this['y']=_0x5422d1*_0x330900-_0x429419*_0x3aa0b5,this['z']=_0x3aa0b5*_0x45d18c-_0x330900*_0x52e600,this;}['distance'](_0x168313){const _0xd84bda=this['x']-_0x168313['x'],_0x403702=this['y']-_0x168313['y'],_0x5c4970=this['z']-_0x168313['z'];return Math['sqrt'](_0xd84bda*_0xd84bda+_0x403702*_0x403702+_0x5c4970*_0x5c4970);}['div'](_0x46f6ec){return this['x']/=_0x46f6ec['x'],this['y']/=_0x46f6ec['y'],this['z']/=_0x46f6ec['z'],this;}['div2'](_0x3032df,_0x3d1b28){return this['x']=_0x3032df['x']/_0x3d1b28['x'],this['y']=_0x3032df['y']/_0x3d1b28['y'],this['z']=_0x3032df['z']/_0x3d1b28['z'],this;}['divScalar'](_0x308d28){return this['x']/=_0x308d28,this['y']/=_0x308d28,this['z']/=_0x308d28,this;}['dot'](_0x2426c0){return this['x']*_0x2426c0['x']+this['y']*_0x2426c0['y']+this['z']*_0x2426c0['z'];}['equals'](_0x49b16d){return this['x']===_0x49b16d['x']&&this['y']===_0x49b16d['y']&&this['z']===_0x49b16d['z'];}['equalsAppr'+'ox'](_0x3841ef,_0x5d0ff4=-0x1dbd+-0x16ae+0x346b+0.000001){return Math['abs'](this['x']-_0x3841ef['x'])<_0x5d0ff4&&Math['abs'](this['y']-_0x3841ef['y'])<_0x5d0ff4&&Math['abs'](this['z']-_0x3841ef['z'])<_0x5d0ff4;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x2efd6e,_0x1ccfd9,_0x31f6f4){return this['x']=_0x2efd6e['x']+_0x31f6f4*(_0x1ccfd9['x']-_0x2efd6e['x']),this['y']=_0x2efd6e['y']+_0x31f6f4*(_0x1ccfd9['y']-_0x2efd6e['y']),this['z']=_0x2efd6e['z']+_0x31f6f4*(_0x1ccfd9['z']-_0x2efd6e['z']),this;}['mul'](_0x44ce05){return this['x']*=_0x44ce05['x'],this['y']*=_0x44ce05['y'],this['z']*=_0x44ce05['z'],this;}['mul2'](_0x36607e,_0xc4bf87){return this['x']=_0x36607e['x']*_0xc4bf87['x'],this['y']=_0x36607e['y']*_0xc4bf87['y'],this['z']=_0x36607e['z']*_0xc4bf87['z'],this;}['mulScalar'](_0x51f929){return this['x']*=_0x51f929,this['y']*=_0x51f929,this['z']*=_0x51f929,this;}['normalize'](_0x1cecf3=this){const _0x2fb856=_0x1cecf3['x']*_0x1cecf3['x']+_0x1cecf3['y']*_0x1cecf3['y']+_0x1cecf3['z']*_0x1cecf3['z'];if(_0x2fb856>-0xe61+-0x18cf+-0x273*-0x10){const _0x550026=(0x1*0x269f+-0x2*-0x8c2+-0x3be*0xf)/Math['sqrt'](_0x2fb856);this['x']=_0x1cecf3['x']*_0x550026,this['y']=_0x1cecf3['y']*_0x550026,this['z']=_0x1cecf3['z']*_0x550026;}return this;}['floor'](_0x574822=this){return this['x']=Math['floor'](_0x574822['x']),this['y']=Math['floor'](_0x574822['y']),this['z']=Math['floor'](_0x574822['z']),this;}['ceil'](_0xa745c6=this){return this['x']=Math['ceil'](_0xa745c6['x']),this['y']=Math['ceil'](_0xa745c6['y']),this['z']=Math['ceil'](_0xa745c6['z']),this;}['round'](_0x1abecf=this){return this['x']=Math['round'](_0x1abecf['x']),this['y']=Math['round'](_0x1abecf['y']),this['z']=Math['round'](_0x1abecf['z']),this;}['min'](_0x31d0cf){return _0x31d0cf['x']<this['x']&&(this['x']=_0x31d0cf['x']),_0x31d0cf['y']<this['y']&&(this['y']=_0x31d0cf['y']),_0x31d0cf['z']<this['z']&&(this['z']=_0x31d0cf['z']),this;}['max'](_0x4924dc){return _0x4924dc['x']>this['x']&&(this['x']=_0x4924dc['x']),_0x4924dc['y']>this['y']&&(this['y']=_0x4924dc['y']),_0x4924dc['z']>this['z']&&(this['z']=_0x4924dc['z']),this;}['project'](_0x4f0fcf){const _0x6edc6a=this['x']*_0x4f0fcf['x']+this['y']*_0x4f0fcf['y']+this['z']*_0x4f0fcf['z'],_0x233b9a=_0x4f0fcf['x']*_0x4f0fcf['x']+_0x4f0fcf['y']*_0x4f0fcf['y']+_0x4f0fcf['z']*_0x4f0fcf['z'],_0x5d09ed=_0x6edc6a/_0x233b9a;return this['x']=_0x4f0fcf['x']*_0x5d09ed,this['y']=_0x4f0fcf['y']*_0x5d09ed,this['z']=_0x4f0fcf['z']*_0x5d09ed,this;}['set'](_0x47ce8d,_0x66b2dd,_0x2761ec){return this['x']=_0x47ce8d,this['y']=_0x66b2dd,this['z']=_0x2761ec,this;}['sub'](_0xaabcb0){return this['x']-=_0xaabcb0['x'],this['y']-=_0xaabcb0['y'],this['z']-=_0xaabcb0['z'],this;}['sub2'](_0x3b11a0,_0x38fe65){return this['x']=_0x3b11a0['x']-_0x38fe65['x'],this['y']=_0x3b11a0['y']-_0x38fe65['y'],this['z']=_0x3b11a0['z']-_0x38fe65['z'],this;}['subScalar'](_0x5cc50e){return this['x']-=_0x5cc50e,this['y']-=_0x5cc50e,this['z']-=_0x5cc50e,this;}['fromArray'](_0x1f4ffa,_0x8399b8=0xcb*0x22+0x13*-0x5e+0x1*-0x13fc){return this['x']=_0x1f4ffa[_0x8399b8]??this['x'],this['y']=_0x1f4ffa[_0x8399b8+(0xf*0xdf+0x8cc+-0x15dc)]??this['y'],this['z']=_0x1f4ffa[_0x8399b8+(0x77*0x43+0x12*0x109+0x19b*-0x1f)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x18910f=[],_0x5e06ef=-0x1312+0x24f6+-0x11e4){return _0x18910f[_0x5e06ef]=this['x'],_0x18910f[_0x5e06ef+(-0x17*0x83+0x527+0x153*0x5)]=this['y'],_0x18910f[_0x5e06ef+(-0x9f6+0x1*-0x547+-0x3*-0x515)]=this['z'],_0x18910f;}};c(it,'ZERO',Object['freeze'](new it(0x71c+0x32b+-0xa47,0x485+-0x1435+0xfb0,-0x709*-0x4+0x5d7+-0x21fb))),c(it,'HALF',Object['freeze'](new it(0x3*0xbb6+0xe5c+-0x5*0x9e6+0.5,-0x140f+0x1b*0x5c+-0x1*-0xa5b+0.5,-0x1e38+0x3e*-0x89+0x3f66+0.5))),c(it,'ONE',Object['freeze'](new it(-0x732*0x4+0xe31+0xe98,0x46*0x1a+0x5*0x730+-0x2b0b,0x3cf+0x1da+-0x2d4*0x2))),c(it,'UP',Object['freeze'](new it(0xf73+0x1bf7*-0x1+0x642*0x2,0x1a4+0x1cab+-0x1e4e,0x1be+-0x88b+0x6cd))),c(it,'DOWN',Object['freeze'](new it(-0x1*0x115f+0x1425*-0x1+0x2584,-(0x51a+-0x6*0x4c5+0x1785*0x1),0x38e*0x7+-0x1e*-0x47+-0x2134))),c(it,'RIGHT',Object['freeze'](new it(0x1915*0x1+0xc*-0x1ed+0x1c*-0x12,-0xddf+-0x1*-0xdfb+0x1*-0x1c,-0xdf3*0x1+-0x3*0x383+0x187c))),c(it,'LEFT',Object['freeze'](new it(-(-0x1418+-0x1*0x93a+0x1d53),0x247e+-0x1e3f+0x29*-0x27,-0x45*-0x35+0x25f3+0x1*-0x343c))),c(it,'FORWARD',Object['freeze'](new it(-0xad*-0x1f+-0xa79*-0x3+-0x345e,0x233d+-0x1*0xce5+-0x1658,-(0x1*-0x95f+-0x20b0+0x4*0xa84)))),c(it,'BACK',Object['freeze'](new it(0x1f*-0x9b+-0x1f*-0x50+-0x307*-0x3,-0x5*0x421+-0x10*-0x30+0x11a5*0x1,-0x12ec+-0x1471+0x275e*0x1)));let T=it;const aa=class aa{constructor(){c(this,'data',new Float32Array(-0x1ab*0xb+0x4d8+-0x1*-0xd8a)),this['data'][0x387+0x15a1+0x1cc*-0xe]=this['data'][0x1c45+-0x1*0x14db+0x766*-0x1]=this['data'][-0xa4*0x1c+-0x8d4+-0x1ea*-0xe]=0x1154+-0x1587+0x434;}['clone'](){const _0x4244dd=this['constructo'+'r'];return new _0x4244dd()['copy'](this);}['copy'](_0x40bab8){const _0x152f6e=_0x40bab8['data'],_0x22aca8=this['data'];return _0x22aca8[-0x2*-0x11c9+-0x10dd*0x2+-0x1d8]=_0x152f6e[-0x228a+0x1*0x2586+-0x2fc],_0x22aca8[-0x2*-0x756+-0x1769+0x8be]=_0x152f6e[-0x64e+-0x1*-0x6dd+-0x8e],_0x22aca8[0x29a+-0x975*-0x1+-0xc0d]=_0x152f6e[-0x2*0x49f+0x1*0x1d65+-0x1425*0x1],_0x22aca8[0x14c8+-0x1330+-0x195]=_0x152f6e[-0x1*-0xd1+0x1f13+-0x1fe1*0x1],_0x22aca8[0x2562+-0x1*0x75b+-0x1e03]=_0x152f6e[-0x576*0x5+-0x19*-0x71+-0x1049*-0x1],_0x22aca8[-0x1aa*-0x15+-0x1b71+-0x77c]=_0x152f6e[0x3*-0x641+-0x2333*-0x1+0x1*-0x106b],_0x22aca8[0x811*-0x1+0x1*0x182+0x695]=_0x152f6e[-0x22b*0x1+-0x5*-0x2b6+-0xb5d],_0x22aca8[0x25f5+0xf*-0x169+0x5*-0x35b]=_0x152f6e[0x122e+0x1e4f+-0x3076],_0x22aca8[-0x9*0x329+0x3*0x11c+0x1925]=_0x152f6e[0x15a*0x17+0x3bd+-0x22cb],this;}['set'](_0x45d3c7){const _0x10ad8e=this['data'];return _0x10ad8e[0x26ec+-0x688+-0x2064]=_0x45d3c7[0x190+-0x24*0x20+0x4*0xbc],_0x10ad8e[0x1790+-0x19a0+-0x17*-0x17]=_0x45d3c7[0x85a+-0x5*-0x443+0x49*-0x68],_0x10ad8e[0x1*0x1a05+0xf*-0x9d+-0x2*0x868]=_0x45d3c7[-0x1f01+0xad*0x28+-0x1*-0x3fb],_0x10ad8e[-0x1adf+0x7c4+0x131e]=_0x45d3c7[-0x1*-0x341+-0x1*-0x854+0xb92*-0x1],_0x10ad8e[-0x21e1+0x1111*0x1+0x2ce*0x6]=_0x45d3c7[0x5b5*0x1+-0x149b+-0x1*-0xeea],_0x10ad8e[-0x5f8+-0x1d36+0x2333*0x1]=_0x45d3c7[-0x142b+0x1243+0x1ed],_0x10ad8e[0x1*0xfc8+0x1c14+-0x16a*0x1f]=_0x45d3c7[-0x1369+-0x1656+0x29c5],_0x10ad8e[0x23b8+-0x1da8+-0x609]=_0x45d3c7[-0x3fd*0x4+-0x2087+-0xe*-0x377],_0x10ad8e[0x60c+0x422+-0x2*0x513]=_0x45d3c7[0x5c*0x54+0x1ead*0x1+0x1447*-0x3],this;}['getX'](_0x3ec5e8=new T()){return _0x3ec5e8['set'](this['data'][0xfdb+0xe89+-0x5*0x614],this['data'][-0xb44+-0x2*-0x8c9+-0x64d*0x1],this['data'][0x1ec+0x4af+-0x699]);}['getY'](_0x29f9dd=new T()){return _0x29f9dd['set'](this['data'][0x6ac+-0x1e74+0x17cb],this['data'][0x22a1+0x91f+-0x2bbc],this['data'][-0xca1*0x2+0xbf1*0x3+0xe1*-0xc]);}['getZ'](_0x1fc573=new T()){return _0x1fc573['set'](this['data'][-0x1a37*-0x1+0x4f8+0x3*-0xa63],this['data'][-0x35*0x7f+-0xa79+0x1*0x24cb],this['data'][0x1b4a+-0x1*0x2439+0x8f7]);}['equals'](_0x4f3b56){const _0x39717=this['data'],_0x675a52=_0x4f3b56['data'];return _0x39717[-0x1*0xbcf+0x1e1+0x52*0x1f]===_0x675a52[0x228+0x1*0x10b1+0x3c5*-0x5]&&_0x39717[-0x10*0x13d+-0x1583+-0x2954*-0x1]===_0x675a52[0x1*0x10c9+0x16eb*-0x1+0x623]&&_0x39717[0x1773+0x173b+-0x2eac]===_0x675a52[0x3b*0x37+0x243+-0x93*0x1a]&&_0x39717[0xf25+-0xe*-0x9a+-0x5a*0x43]===_0x675a52[0x3f*-0x83+0x1*-0x25e7+0x4627*0x1]&&_0x39717[0x1*-0x1a02+0x15*0x191+-0x6df]===_0x675a52[-0x1df6+0x33*0x1+0x21*0xe7]&&_0x39717[-0x13b1*0x1+-0x7d6+0x1b8c]===_0x675a52[-0x2425*0x1+0x6f9+0x1d31]&&_0x39717[0xe5e+0x2105+-0x2f5d]===_0x675a52[0x9f8+-0x91d+-0x47*0x3]&&_0x39717[-0xc9*0x15+-0x10e1+-0x67*-0x53]===_0x675a52[-0x1*-0x1ab1+-0x12*-0x12a+-0x109*0x2e]&&_0x39717[0x3b3+-0x1b84+0x21*0xb9]===_0x675a52[0x23*-0x42+-0xeb*-0xd+-0x2e1];}['isIdentity'](){const _0x44e862=this['data'];return _0x44e862[0x2462+-0x2310+-0xd*0x1a]===-0x1cb5*0x1+-0xcf1+0x29a7*0x1&&_0x44e862[0x2*0x861+-0x1d69*-0x1+-0x2e2a]===-0x6bf*-0x1+0x9d*-0x3+-0x8*0x9d&&_0x44e862[-0x1*-0x1cce+-0x2c*0x44+-0x111c]===-0x1747+-0x1161+0x28a8&&_0x44e862[-0x17*-0x11d+0x7c+-0x1*0x1a14]===0xdb*-0xb+0x1c97+-0x3d6*0x5&&_0x44e862[-0x1c15*0x1+-0x1b+0x5a4*0x5]===-0x1*-0x1999+-0x154e+-0x44a*0x1&&_0x44e862[-0x1*-0x1d8a+0x121a+0xa7*-0x49]===0x359*0x1+-0x552+0x1f9&&_0x44e862[0xa25*-0x1+-0x2226+0x2c51]===-0x177f+-0x359*0x9+0x35a0&&_0x44e862[0x26f5+-0x2392+-0x2b*0x14]===0x1764+-0x1*0x36f+0x6a7*-0x3&&_0x44e862[-0xf2*-0x17+0x1*-0x22a5+0xcef*0x1]===-0xce5+0x1*0x4af+0x837;}['setIdentit'+'y'](){const _0xb353dc=this['data'];return _0xb353dc[-0x7a*-0x22+-0xbe*-0x31+0x2*-0x1a49]=0x45*0x9+-0x237e+0x2112,_0xb353dc[0x3ba*0x1+-0x1aad*-0x1+-0x1e66]=0x64a+-0x1c19+-0x3*-0x745,_0xb353dc[-0x351*0x1+-0x1*0x1c9+0x51c]=-0x232e+0x1e87+-0x1*-0x4a7,_0xb353dc[0x7ab+0x19a5+-0x214d*0x1]=0x1*0x623+0x1d0*-0x1+-0x453,_0xb353dc[-0x21f*-0x4+0x18e2+0x58f*-0x6]=-0xfaa+-0x13*0x2f+-0x4*-0x4ca,_0xb353dc[-0x151e+0x1b43+-0x10*0x62]=0x51a*0x1+-0x49b+-0x1*0x7f,_0xb353dc[0x1fd5+-0x218f+0x1c0]=0x2d6+-0x89*-0x6+0xac*-0x9,_0xb353dc[0x47e+-0x607*-0x3+-0x168c]=-0x1139+-0x1*-0x1dba+0x3*-0x42b,_0xb353dc[-0x1*0x1645+-0x26*0xdd+0x1*0x371b]=0x125b*0x1+-0x66d+-0xbed,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x17cbfe=this){const _0xd77082=_0x17cbfe['data'],_0x2624d1=this['data'];if(_0xd77082===_0x2624d1){let _0x22949c;_0x22949c=_0xd77082[0x2bb*-0x2+-0x1*0x204d+0x25c4],_0x2624d1[-0x1e45+-0x8ad+0x26f3]=_0xd77082[-0x20d5+0x1d41+0x397],_0x2624d1[-0x24d*-0x6+-0x6*-0x590+-0x2f2b]=_0x22949c,_0x22949c=_0xd77082[0x19e9+0x1*0x69b+-0x2082],_0x2624d1[0xb*0x29e+0x2703+-0x1bd*0x27]=_0xd77082[-0x1c0b+-0x342+0x1b*0x129],_0x2624d1[0x13d+-0x83*-0x12+-0x1*0xa6d]=_0x22949c,_0x22949c=_0xd77082[0xc1*-0x24+-0x165f+0xa*0x4f4],_0x2624d1[0x1f2a+-0xa72+-0x14b3]=_0xd77082[0x23ee+0x14cd+-0x38b4],_0x2624d1[0xa26+-0x299+0x2*-0x3c3]=_0x22949c;}else _0x2624d1[0x1dc7+-0x5*0x5cb+-0xd0]=_0xd77082[0x145a*0x1+0x1f2d+-0x3*0x112d],_0x2624d1[-0x6c*0x10+0x1180+-0xabf]=_0xd77082[0x3fa+-0x2214+0x1e1d],_0x2624d1[0x198*-0x8+0x1*0x1e34+-0x13f*0xe]=_0xd77082[0x11e1+-0x3*0x689+-0x1c*-0x10],_0x2624d1[0x2183+0x26f*-0x10+0x570]=_0xd77082[0x65*0x52+0x14ae*0x1+-0x3507],_0x2624d1[-0x3*-0xcb9+-0x706+0x1*-0x1f21]=_0xd77082[-0x6ce+-0xb*-0xf1+-0x389],_0x2624d1[-0xd7e+0x9dc*-0x2+0x213b]=_0xd77082[-0x13f4+-0x1*-0x19f9+0x3b*-0x1a],_0x2624d1[0x3*0xb17+0x1b6e+-0x3cad]=_0xd77082[-0x7*-0x2a9+0x515*-0x6+0xbe1*0x1],_0x2624d1[-0x65a*-0x2+-0xa7f+0x3e*-0x9]=_0xd77082[0x17c7+0x82b+-0x1fed],_0x2624d1[-0x1efa+-0x10ea+0x2*0x17f6]=_0xd77082[-0x17d+-0x1d41+0x1ec6];return this;}['setFromMat'+'4'](_0x8a3bf3){const _0x17cd8a=_0x8a3bf3['data'],_0x221ed3=this['data'];return _0x221ed3[0x1*-0x2089+-0x1ca0+0x3d29*0x1]=_0x17cd8a[-0x1*0x1d2+-0x7*-0x4b7+-0x1f2f],_0x221ed3[0x454+0xf4*-0x17+0x1*0x1199]=_0x17cd8a[-0x158f+-0x1*0x4ed+0x1*0x1a7d],_0x221ed3[-0x1cab+0x127c+-0x1*-0xa31]=_0x17cd8a[-0x55+0xb6a+0x3f*-0x2d],_0x221ed3[-0x1a1b+0xd99+0x1*0xc85]=_0x17cd8a[0x3be*-0x4+0x15*0x134+-0xa48],_0x221ed3[0xf3c*-0x2+0x3f1*0x1+0x1a8b]=_0x17cd8a[0x2*0xabb+-0x632+-0xf3f],_0x221ed3[-0x668+0xfce+-0x961]=_0x17cd8a[-0x5fb*0x1+0x159a+0x1*-0xf99],_0x221ed3[0x911+0x19*-0x173+0x1*0x1b30]=_0x17cd8a[0x2*0x8e0+-0x17*0x70+0x28*-0x31],_0x221ed3[0x72+0x1*0xb2d+-0xb98]=_0x17cd8a[-0x146e+-0x1*-0x79f+0xcd8],_0x221ed3[0x6f*-0x4a+-0x5*-0x185+0x1885]=_0x17cd8a[0xcad+-0xe*0x29b+0x17d7],this;}['setFromQua'+'t'](_0x381dab){const _0x35a79c=_0x381dab['x'],_0x2fea30=_0x381dab['y'],_0x1645b3=_0x381dab['z'],_0x18a13a=_0x381dab['w'],_0x397366=_0x35a79c+_0x35a79c,_0x2ea064=_0x2fea30+_0x2fea30,_0xae1fc1=_0x1645b3+_0x1645b3,_0x25b181=_0x35a79c*_0x397366,_0x2bb74d=_0x35a79c*_0x2ea064,_0x298cc3=_0x35a79c*_0xae1fc1,_0x353d7f=_0x2fea30*_0x2ea064,_0x30985c=_0x2fea30*_0xae1fc1,_0x1b75cf=_0x1645b3*_0xae1fc1,_0x53cbd8=_0x18a13a*_0x397366,_0x3e3caa=_0x18a13a*_0x2ea064,_0x1544d3=_0x18a13a*_0xae1fc1,_0x557949=this['data'];return _0x557949[-0x24a9+0x303*-0x9+0x9a*0x6a]=-0x9b1+-0x176c+-0x2*-0x108f-(_0x353d7f+_0x1b75cf),_0x557949[-0xc3d+0x1ae9+-0x2ef*0x5]=_0x2bb74d+_0x1544d3,_0x557949[0x4c7+-0x94e+0x9*0x81]=_0x298cc3-_0x3e3caa,_0x557949[-0x307+0x1*0x1057+-0xd4d]=_0x2bb74d-_0x1544d3,_0x557949[0x45*0x6c+-0x148f*0x1+-0x889]=-0x1acb*0x1+-0x258+-0x5*-0x5d4-(_0x25b181+_0x1b75cf),_0x557949[-0x15e0+-0x14db+0x2ac0]=_0x30985c+_0x53cbd8,_0x557949[-0x2448+-0x617*-0x1+0x1e37]=_0x298cc3+_0x3e3caa,_0x557949[0x202*0x1+0x2008+-0x1*0x2203]=_0x30985c-_0x53cbd8,_0x557949[-0x894+-0x1775+0x2011]=0x63*0x4a+0xe3*-0x15+-0x9fe-(_0x25b181+_0x353d7f),this;}['invertMat4'](_0x3f003b){const _0x2f8a81=_0x3f003b['data'],_0x2f85fa=_0x2f8a81[-0x1fc8+-0x200e*-0x1+-0xe*0x5],_0x29c188=_0x2f8a81[0x13c0+-0x12ec+0xd3*-0x1],_0x3da40b=_0x2f8a81[0xe58+-0xf1*-0xb+0x83b*-0x3],_0x35cffa=_0x2f8a81[0x4*0x373+0x4e*-0x5c+-0xe4*-0x10],_0x2c3c24=_0x2f8a81[-0x1378+-0xa33+-0xa*-0x2f8],_0xca4c7a=_0x2f8a81[-0xd*0x122+-0x1*0x1fa6+0x2e66],_0x36153b=_0x2f8a81[-0x21f9+0x1dc*0x9+0x1145*0x1],_0x59d022=_0x2f8a81[0x9*-0x407+-0x2231+0x4679*0x1],_0x737672=_0x2f8a81[0x255+0x1e9*-0x1+-0xe*0x7],_0x3fe66b=_0x737672*_0x2c3c24-_0xca4c7a*_0x59d022,_0x5bdfe1=-_0x737672*_0x29c188+_0x3da40b*_0x59d022,_0x3ef15c=_0xca4c7a*_0x29c188-_0x3da40b*_0x2c3c24,_0x53a736=-_0x737672*_0x35cffa+_0xca4c7a*_0x36153b,_0x50db68=_0x737672*_0x2f85fa-_0x3da40b*_0x36153b,_0x264383=-_0xca4c7a*_0x2f85fa+_0x3da40b*_0x35cffa,_0x550fe7=_0x59d022*_0x35cffa-_0x2c3c24*_0x36153b,_0x48f289=-_0x59d022*_0x2f85fa+_0x29c188*_0x36153b,_0x1394cd=_0x2c3c24*_0x2f85fa-_0x29c188*_0x35cffa,_0x4fc30e=_0x2f85fa*_0x3fe66b+_0x29c188*_0x53a736+_0x3da40b*_0x550fe7;if(_0x4fc30e===0x2106+-0x36*-0x8+-0x6*0x5c9)this['setIdentit'+'y']();else{const _0x2b50f4=(-0x1078+0x1*-0xdb1+0x63*0x4e)/_0x4fc30e,_0x5c2bf2=this['data'];_0x5c2bf2[0xb6*-0x17+0xb4e*-0x1+0x14*0x162]=_0x3fe66b*_0x2b50f4,_0x5c2bf2[0xcb+0x101*-0x4+-0x2*-0x19d]=_0x5bdfe1*_0x2b50f4,_0x5c2bf2[-0x4*0x313+0x15af+-0x961*0x1]=_0x3ef15c*_0x2b50f4,_0x5c2bf2[-0x25*-0x5f+0xdb0+-0xdb4*0x2]=_0x53a736*_0x2b50f4,_0x5c2bf2[0x2d*0x51+0x3d9*0x5+-0x2176]=_0x50db68*_0x2b50f4,_0x5c2bf2[-0x10e3*-0x1+-0x2065+-0x9f*-0x19]=_0x264383*_0x2b50f4,_0x5c2bf2[0x1*0x1334+-0x1de*-0x4+-0x1aa6]=_0x550fe7*_0x2b50f4,_0x5c2bf2[0x5b5+-0x8*0x342+-0x2*-0xa31]=_0x48f289*_0x2b50f4,_0x5c2bf2[0x1*0x204b+-0x25c+0x5fb*-0x5]=_0x1394cd*_0x2b50f4;}return this;}['transformV'+'ector'](_0x1725b7,_0x123523=new T()){const _0x509cd8=this['data'],{x:_0x283fb6,y:_0x589fd5,z:_0x528cfe}=_0x1725b7;return _0x123523['x']=_0x283fb6*_0x509cd8[-0x1*-0xb5+-0x2*0x134f+0xf*0x287]+_0x589fd5*_0x509cd8[0x1*0x1c42+0x22fa+0x53*-0xc3]+_0x528cfe*_0x509cd8[-0x8dd*0x3+-0x269*0xd+0x39f2*0x1],_0x123523['y']=_0x283fb6*_0x509cd8[-0xd1b+-0x1*-0xfd+0xc1f]+_0x589fd5*_0x509cd8[-0x1f4b*-0x1+-0x5*-0x721+-0x2176*0x2]+_0x528cfe*_0x509cd8[0x7a0+0x2d4*0x2+-0xd41],_0x123523['z']=_0x283fb6*_0x509cd8[0x165a+-0x1486+-0x1d2*0x1]+_0x589fd5*_0x509cd8[-0x11a5*0x1+-0x5*0x139+0x1*0x17c7]+_0x528cfe*_0x509cd8[0x23e5+0x1130+-0x5e5*0x9],_0x123523;}};c(aa,'IDENTITY',Object['freeze'](new aa())),c(aa,'ZERO',Object['freeze'](new aa()['set']([-0x1*0x169d+0x314+0x1389,0xf54*0x1+-0x1796+-0x7*-0x12e,0xf4*-0xe+-0x939+-0x1*-0x1691,-0x192c+0x6*-0x3c3+-0x6*-0x7f5,0xdae+-0x10a0+0x2f2,0x1*-0x2518+-0x2af+0x27c7,0x1*0x160f+0x21d8+-0x1*0x37e7,-0x1ec6+0x1fce+-0x58*0x3,0x3*0x89e+0x2698+-0x4072])));let js=aa;const At=class At{constructor(_0x50a10b=-0x2319+-0x188f*0x1+-0x1dd4*-0x2,_0x52dfa9=0x829*-0x2+0xdd5+0x27d*0x1){c(this,'x'),c(this,'y'),_0x50a10b['length']===-0x3*0x215+0x917+-0x2d6?(this['x']=_0x50a10b[0x219e*-0x1+0x235d+-0x95*0x3],this['y']=_0x50a10b[-0x19bd+0x2*0x124d+0xa*-0x116]):(this['x']=_0x50a10b,this['y']=_0x52dfa9);}['add'](_0x45a2d9){return this['x']+=_0x45a2d9['x'],this['y']+=_0x45a2d9['y'],this;}['add2'](_0x42a34a,_0x5cc5c0){return this['x']=_0x42a34a['x']+_0x5cc5c0['x'],this['y']=_0x42a34a['y']+_0x5cc5c0['y'],this;}['addScalar'](_0x63ec00){return this['x']+=_0x63ec00,this['y']+=_0x63ec00,this;}['addScaled'](_0x21d9ec,_0x320617){return this['x']+=_0x21d9ec['x']*_0x320617,this['y']+=_0x21d9ec['y']*_0x320617,this;}['clone'](){const _0x5703fa=this['constructo'+'r'];return new _0x5703fa(this['x'],this['y']);}['copy'](_0x21f6f8){return this['x']=_0x21f6f8['x'],this['y']=_0x21f6f8['y'],this;}['cross'](_0xe4204c){return this['x']*_0xe4204c['y']-this['y']*_0xe4204c['x'];}['distance'](_0x41d7ad){const _0x2b4d2c=this['x']-_0x41d7ad['x'],_0x172d53=this['y']-_0x41d7ad['y'];return Math['sqrt'](_0x2b4d2c*_0x2b4d2c+_0x172d53*_0x172d53);}['div'](_0x5ad69a){return this['x']/=_0x5ad69a['x'],this['y']/=_0x5ad69a['y'],this;}['div2'](_0x26de1f,_0x264655){return this['x']=_0x26de1f['x']/_0x264655['x'],this['y']=_0x26de1f['y']/_0x264655['y'],this;}['divScalar'](_0x52f9cf){return this['x']/=_0x52f9cf,this['y']/=_0x52f9cf,this;}['dot'](_0x3bc1c4){return this['x']*_0x3bc1c4['x']+this['y']*_0x3bc1c4['y'];}['equals'](_0x5a9fe6){return this['x']===_0x5a9fe6['x']&&this['y']===_0x5a9fe6['y'];}['equalsAppr'+'ox'](_0x359664,_0x43b324=0x15ea+-0x17a3+0x1b9+0.000001){return Math['abs'](this['x']-_0x359664['x'])<_0x43b324&&Math['abs'](this['y']-_0x359664['y'])<_0x43b324;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x3d3d08,_0x5bc41b,_0x4ce677){return this['x']=_0x3d3d08['x']+_0x4ce677*(_0x5bc41b['x']-_0x3d3d08['x']),this['y']=_0x3d3d08['y']+_0x4ce677*(_0x5bc41b['y']-_0x3d3d08['y']),this;}['mul'](_0x2d1926){return this['x']*=_0x2d1926['x'],this['y']*=_0x2d1926['y'],this;}['mul2'](_0x1a434e,_0x452775){return this['x']=_0x1a434e['x']*_0x452775['x'],this['y']=_0x1a434e['y']*_0x452775['y'],this;}['mulScalar'](_0x469caa){return this['x']*=_0x469caa,this['y']*=_0x469caa,this;}['normalize'](_0x3d7bbe=this){const _0x7d6fa6=_0x3d7bbe['x']*_0x3d7bbe['x']+_0x3d7bbe['y']*_0x3d7bbe['y'];if(_0x7d6fa6>-0x2*-0x1114+0x1df*-0xc+-0xbb4){const _0x43aa9a=(0x1*0x1039+0x1129*0x1+-0x2161)/Math['sqrt'](_0x7d6fa6);this['x']=_0x3d7bbe['x']*_0x43aa9a,this['y']=_0x3d7bbe['y']*_0x43aa9a;}return this;}['rotate'](_0x39e452){const _0x2eba0d=Math['atan2'](this['x'],this['y'])+_0x39e452*N['DEG_TO_RAD'],_0x30f37d=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x2eba0d)*_0x30f37d,this['y']=Math['cos'](_0x2eba0d)*_0x30f37d,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x540797){return Math['atan2'](this['x']*_0x540797['y']+this['y']*_0x540797['x'],this['x']*_0x540797['x']+this['y']*_0x540797['y'])*N['RAD_TO_DEG'];}['floor'](_0x4c9e10=this){return this['x']=Math['floor'](_0x4c9e10['x']),this['y']=Math['floor'](_0x4c9e10['y']),this;}['ceil'](_0x429be4=this){return this['x']=Math['ceil'](_0x429be4['x']),this['y']=Math['ceil'](_0x429be4['y']),this;}['round'](_0x3d305a=this){return this['x']=Math['round'](_0x3d305a['x']),this['y']=Math['round'](_0x3d305a['y']),this;}['min'](_0x4a18b8){return _0x4a18b8['x']<this['x']&&(this['x']=_0x4a18b8['x']),_0x4a18b8['y']<this['y']&&(this['y']=_0x4a18b8['y']),this;}['max'](_0x307ac9){return _0x307ac9['x']>this['x']&&(this['x']=_0x307ac9['x']),_0x307ac9['y']>this['y']&&(this['y']=_0x307ac9['y']),this;}['set'](_0x28c267,_0x517398){return this['x']=_0x28c267,this['y']=_0x517398,this;}['sub'](_0x4ed981){return this['x']-=_0x4ed981['x'],this['y']-=_0x4ed981['y'],this;}['sub2'](_0x27b604,_0x4f9058){return this['x']=_0x27b604['x']-_0x4f9058['x'],this['y']=_0x27b604['y']-_0x4f9058['y'],this;}['subScalar'](_0x3eee6a){return this['x']-=_0x3eee6a,this['y']-=_0x3eee6a,this;}['fromArray'](_0x598784,_0x1c2ecd=0x1ad3+-0x1a3d+-0x96){return this['x']=_0x598784[_0x1c2ecd]??this['x'],this['y']=_0x598784[_0x1c2ecd+(0x7a*-0x1a+0x28*-0xc1+-0xe2f*-0x3)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x72245c=[],_0x452ed9=-0x1f1b+-0x1bef*-0x1+0x32c){return _0x72245c[_0x452ed9]=this['x'],_0x72245c[_0x452ed9+(0x7db+-0x1333+-0x53*-0x23)]=this['y'],_0x72245c;}static['angleRad'](_0x3ca3af,_0x40adaf){return Math['atan2'](_0x3ca3af['x']*_0x40adaf['y']-_0x3ca3af['y']*_0x40adaf['x'],_0x3ca3af['x']*_0x40adaf['x']+_0x3ca3af['y']*_0x40adaf['y']);}};c(At,'ZERO',Object['freeze'](new At(-0x123*0x10+-0x2c5+0x14f5,0x20*-0xf+0x1*0xd5c+-0xb7c))),c(At,'HALF',Object['freeze'](new At(0x1a35+-0x1a8d+0x58+0.5,-0x642+-0x9c5+0x1007+0.5))),c(At,'ONE',Object['freeze'](new At(-0x2275+0x8d6+0x19a0*0x1,-0x19b2+0xe5b+0xb58))),c(At,'UP',Object['freeze'](new At(-0x1*0x13c2+0x7b8+0x2*0x605,0x19b7+-0x91e+0x1*-0x1098))),c(At,'DOWN',Object['freeze'](new At(0x268c+0x3*0x841+-0x3f4f*0x1,-(-0x63a*0x5+-0x3ad+0x22d0)))),c(At,'RIGHT',Object['freeze'](new At(0xd17+0x77c*0x4+-0x2b06,0x2379+-0x5f*-0x23+-0x3076))),c(At,'LEFT',Object['freeze'](new At(-(-0x384*0xb+0x14d3+0x11da),-0x6*0x40e+-0x6bf*-0x3+0x417)));let W=At;const Ki=class Ki{constructor(_0x532892=-0xbb0*0x2+0x35f+0x1401,_0x28c0d1=-0x1057+-0x110a+0x2161,_0x5830f3=-0x1*-0x1c7f+0x4*-0x7d1+0x2c5,_0x3f7095=0x1*0x281+-0x1157*-0x1+0x1*-0x13d8){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x532892['length']===0x5ae*0x1+0x49*-0x18+0x2*0x97?(this['x']=_0x532892[0x1f4b+0x1*-0x1c55+-0x1*0x2f6],this['y']=_0x532892[-0x7*0x579+0x490+0x30*0xb4],this['z']=_0x532892[-0x9b7+0x265+0x754],this['w']=_0x532892[-0x18aa+-0x17*0xf+0x1a06*0x1]):(this['x']=_0x532892,this['y']=_0x28c0d1,this['z']=_0x5830f3,this['w']=_0x3f7095);}['add'](_0x1bf910){return this['x']+=_0x1bf910['x'],this['y']+=_0x1bf910['y'],this['z']+=_0x1bf910['z'],this['w']+=_0x1bf910['w'],this;}['add2'](_0x4c3b3f,_0x51b92a){return this['x']=_0x4c3b3f['x']+_0x51b92a['x'],this['y']=_0x4c3b3f['y']+_0x51b92a['y'],this['z']=_0x4c3b3f['z']+_0x51b92a['z'],this['w']=_0x4c3b3f['w']+_0x51b92a['w'],this;}['addScalar'](_0x1fba30){return this['x']+=_0x1fba30,this['y']+=_0x1fba30,this['z']+=_0x1fba30,this['w']+=_0x1fba30,this;}['addScaled'](_0x2ab0d9,_0xe23310){return this['x']+=_0x2ab0d9['x']*_0xe23310,this['y']+=_0x2ab0d9['y']*_0xe23310,this['z']+=_0x2ab0d9['z']*_0xe23310,this['w']+=_0x2ab0d9['w']*_0xe23310,this;}['clone'](){const _0x12be4a=this['constructo'+'r'];return new _0x12be4a(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x2d0ad6){return this['x']=_0x2d0ad6['x'],this['y']=_0x2d0ad6['y'],this['z']=_0x2d0ad6['z'],this['w']=_0x2d0ad6['w'],this;}['div'](_0x5a70cb){return this['x']/=_0x5a70cb['x'],this['y']/=_0x5a70cb['y'],this['z']/=_0x5a70cb['z'],this['w']/=_0x5a70cb['w'],this;}['div2'](_0x2a05c6,_0x23d207){return this['x']=_0x2a05c6['x']/_0x23d207['x'],this['y']=_0x2a05c6['y']/_0x23d207['y'],this['z']=_0x2a05c6['z']/_0x23d207['z'],this['w']=_0x2a05c6['w']/_0x23d207['w'],this;}['divScalar'](_0x4d1034){return this['x']/=_0x4d1034,this['y']/=_0x4d1034,this['z']/=_0x4d1034,this['w']/=_0x4d1034,this;}['dot'](_0x28ab3f){return this['x']*_0x28ab3f['x']+this['y']*_0x28ab3f['y']+this['z']*_0x28ab3f['z']+this['w']*_0x28ab3f['w'];}['equals'](_0x2e82c5){return this['x']===_0x2e82c5['x']&&this['y']===_0x2e82c5['y']&&this['z']===_0x2e82c5['z']&&this['w']===_0x2e82c5['w'];}['equalsAppr'+'ox'](_0x548811,_0x59f606=-0x7a3+-0x1087+0x3*0x80e+0.000001){return Math['abs'](this['x']-_0x548811['x'])<_0x59f606&&Math['abs'](this['y']-_0x548811['y'])<_0x59f606&&Math['abs'](this['z']-_0x548811['z'])<_0x59f606&&Math['abs'](this['w']-_0x548811['w'])<_0x59f606;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x170122,_0x3fd758,_0xdedecc){return this['x']=_0x170122['x']+_0xdedecc*(_0x3fd758['x']-_0x170122['x']),this['y']=_0x170122['y']+_0xdedecc*(_0x3fd758['y']-_0x170122['y']),this['z']=_0x170122['z']+_0xdedecc*(_0x3fd758['z']-_0x170122['z']),this['w']=_0x170122['w']+_0xdedecc*(_0x3fd758['w']-_0x170122['w']),this;}['mul'](_0x1a460d){return this['x']*=_0x1a460d['x'],this['y']*=_0x1a460d['y'],this['z']*=_0x1a460d['z'],this['w']*=_0x1a460d['w'],this;}['mul2'](_0x3a1a8b,_0x2b01dc){return this['x']=_0x3a1a8b['x']*_0x2b01dc['x'],this['y']=_0x3a1a8b['y']*_0x2b01dc['y'],this['z']=_0x3a1a8b['z']*_0x2b01dc['z'],this['w']=_0x3a1a8b['w']*_0x2b01dc['w'],this;}['mulScalar'](_0x4881a8){return this['x']*=_0x4881a8,this['y']*=_0x4881a8,this['z']*=_0x4881a8,this['w']*=_0x4881a8,this;}['normalize'](_0x21eda9=this){const _0x16b258=_0x21eda9['x']*_0x21eda9['x']+_0x21eda9['y']*_0x21eda9['y']+_0x21eda9['z']*_0x21eda9['z']+_0x21eda9['w']*_0x21eda9['w'];if(_0x16b258>0xf9d*-0x2+0x2*-0xa8b+0x3450){const _0xcffdf5=(0x1277+0x54a*0x6+0xa0a*-0x5)/Math['sqrt'](_0x16b258);this['x']=_0x21eda9['x']*_0xcffdf5,this['y']=_0x21eda9['y']*_0xcffdf5,this['z']=_0x21eda9['z']*_0xcffdf5,this['w']=_0x21eda9['w']*_0xcffdf5;}return this;}['floor'](_0x1f6077=this){return this['x']=Math['floor'](_0x1f6077['x']),this['y']=Math['floor'](_0x1f6077['y']),this['z']=Math['floor'](_0x1f6077['z']),this['w']=Math['floor'](_0x1f6077['w']),this;}['ceil'](_0x1c2e09=this){return this['x']=Math['ceil'](_0x1c2e09['x']),this['y']=Math['ceil'](_0x1c2e09['y']),this['z']=Math['ceil'](_0x1c2e09['z']),this['w']=Math['ceil'](_0x1c2e09['w']),this;}['round'](_0x259255=this){return this['x']=Math['round'](_0x259255['x']),this['y']=Math['round'](_0x259255['y']),this['z']=Math['round'](_0x259255['z']),this['w']=Math['round'](_0x259255['w']),this;}['min'](_0x3bb38e){return _0x3bb38e['x']<this['x']&&(this['x']=_0x3bb38e['x']),_0x3bb38e['y']<this['y']&&(this['y']=_0x3bb38e['y']),_0x3bb38e['z']<this['z']&&(this['z']=_0x3bb38e['z']),_0x3bb38e['w']<this['w']&&(this['w']=_0x3bb38e['w']),this;}['max'](_0x1d18bc){return _0x1d18bc['x']>this['x']&&(this['x']=_0x1d18bc['x']),_0x1d18bc['y']>this['y']&&(this['y']=_0x1d18bc['y']),_0x1d18bc['z']>this['z']&&(this['z']=_0x1d18bc['z']),_0x1d18bc['w']>this['w']&&(this['w']=_0x1d18bc['w']),this;}['set'](_0x446d08,_0x1ca7f3,_0x57f946,_0x136dee){return this['x']=_0x446d08,this['y']=_0x1ca7f3,this['z']=_0x57f946,this['w']=_0x136dee,this;}['sub'](_0x2906bc){return this['x']-=_0x2906bc['x'],this['y']-=_0x2906bc['y'],this['z']-=_0x2906bc['z'],this['w']-=_0x2906bc['w'],this;}['sub2'](_0x2d415e,_0x44f4ea){return this['x']=_0x2d415e['x']-_0x44f4ea['x'],this['y']=_0x2d415e['y']-_0x44f4ea['y'],this['z']=_0x2d415e['z']-_0x44f4ea['z'],this['w']=_0x2d415e['w']-_0x44f4ea['w'],this;}['subScalar'](_0x3ffdf4){return this['x']-=_0x3ffdf4,this['y']-=_0x3ffdf4,this['z']-=_0x3ffdf4,this['w']-=_0x3ffdf4,this;}['fromArray'](_0x2e0713,_0x2073e9=0x242*-0x8+-0x199f+0x2baf){return this['x']=_0x2e0713[_0x2073e9]??this['x'],this['y']=_0x2e0713[_0x2073e9+(-0x1a80+-0x4c3*0x7+0x3bd6)]??this['y'],this['z']=_0x2e0713[_0x2073e9+(0x1*0x217b+0x12fe+-0x3477)]??this['z'],this['w']=_0x2e0713[_0x2073e9+(-0x8*-0x112+-0x8b2+0x25)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x9660fd=[],_0x385bff=0xead*0x1+0x1*0x1c07+-0xe3c*0x3){return _0x9660fd[_0x385bff]=this['x'],_0x9660fd[_0x385bff+(-0x30*0xbc+-0x36e*0x9+0x421f)]=this['y'],_0x9660fd[_0x385bff+(0x17d7+-0x19be+0x1e9)]=this['z'],_0x9660fd[_0x385bff+(-0x1c95+-0x2bb+0x1f53)]=this['w'],_0x9660fd;}};c(Ki,'ZERO',Object['freeze'](new Ki(-0x1410+-0x6b8+0x1ac8,-0x27c+0xe63*-0x1+0x1*0x10df,-0xae1+-0x1cbe+-0x9*-0x467,0xcdb+-0x291+-0xa4a))),c(Ki,'HALF',Object['freeze'](new Ki(0x1*-0x14ea+0x1240+-0x155*-0x2+0.5,-0x925+-0x1db6+-0x1*-0x26db+0.5,0x159*-0x3+0x1*0x1518+0x3*-0x5af+0.5,0x12b9*-0x1+-0x6a*0x2+-0x1*-0x138d+0.5))),c(Ki,'ONE',Object['freeze'](new Ki(0x17fe+0x8ba+-0x20b7*0x1,0x1*-0x7eb+0x5fb+0x1f1,0xe2f+-0xa7*-0x29+-0x28ed,0x44*0x47+0x107b+-0x2356)));let Q=Ki;const Ua=new W(),ps=new T(),Fs=new T(),ks=new T(),gl=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0x1a3e+0x1d7+-0x1c05*0x1)),this['data'][0x25a8+0x1135+-0x36dd*0x1]=this['data'][-0x12cb+0x2127+0x1*-0xe57]=this['data'][0x1a6*-0xc+0x16e8+-0x316]=this['data'][0x21*0x50+-0x185*-0x13+0x20*-0x139]=0x1*-0x1226+-0x21ca+0x33f1;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x546641,_0x3d7892,_0x482045,_0x3d4ede,_0x2369cf){_0x2369cf?(_0x546641['x']=_0x3d4ede*Math['tan'](_0x3d7892*Math['PI']/(-0x93a+-0x17bf+-0x2a5*-0xd)),_0x546641['y']=_0x546641['x']/_0x482045):(_0x546641['y']=_0x3d4ede*Math['tan'](_0x3d7892*Math['PI']/(0x19ff+-0xa1b*-0x3+0x1*-0x36e8)),_0x546641['x']=_0x546641['y']*_0x482045);}['add2'](_0x4df859,_0x3655af){const _0x4d8bd4=_0x4df859['data'],_0x573feb=_0x3655af['data'],_0xf09138=this['data'];return _0xf09138[-0x4*0x58a+-0x1f55+0x357d*0x1]=_0x4d8bd4[0x2*0x12f5+0x23a+-0x2824]+_0x573feb[0x46a+-0x2f8*0x7+0x105e],_0xf09138[-0x254b+-0x79c*0x2+0x3484]=_0x4d8bd4[0xf86*-0x1+0x1*0x13d9+0x9e*-0x7]+_0x573feb[0x1*-0x96b+0x2060+-0x16f4],_0xf09138[0x7e*0x20+-0x19*-0x47+-0x16ad]=_0x4d8bd4[-0x805+-0x8ed*0x1+0x14*0xd9]+_0x573feb[0x3*-0x757+-0x27c+0x1883],_0xf09138[-0x1e37+-0x1*0x1c5a+0x3a94]=_0x4d8bd4[0x9*0x257+-0x11*0xad+-0x98f]+_0x573feb[-0x17a+-0x687*-0x3+-0x1218],_0xf09138[-0xf1*-0x22+-0x5*0x6d1+0x1*0x217]=_0x4d8bd4[0x1*-0x1b15+0x2*-0x529+-0x5d*-0x67]+_0x573feb[0x1b13+-0x25b1*-0x1+-0x40c0],_0xf09138[-0x2305+-0xb63+0x2e6d]=_0x4d8bd4[0x5c*-0x1c+-0x12b6+0x1ccb*0x1]+_0x573feb[0x2163+-0x1f7*0xa+-0x8*0x1b7],_0xf09138[-0x234f+-0xe27+0x1*0x317c]=_0x4d8bd4[-0x2a*0x89+0x1959+-0x2d9]+_0x573feb[-0x3e2+0x7ef+-0x407],_0xf09138[0x1*0x161b+0xc*0xfa+-0x21cc]=_0x4d8bd4[-0x1f9*0xe+-0xd8e*-0x1+0xe17]+_0x573feb[-0x5f*0x26+0x6f*0x26+-0x259*0x1],_0xf09138[0xdd7+-0x784+-0x64b*0x1]=_0x4d8bd4[0x2524+-0x2044+0xa*-0x7c]+_0x573feb[-0x1*-0x6a7+0x2*-0xb5d+0x101b],_0xf09138[0x1d48*0x1+-0x1b0a*0x1+0x1*-0x235]=_0x4d8bd4[0x1*-0x378+-0xc*0x2c4+0x24b1]+_0x573feb[-0x267c+0x2049+0x1*0x63c],_0xf09138[0x1fc7+0x23e1+-0x1e*0x241]=_0x4d8bd4[0xa17+-0x1a0d+-0x200*-0x8]+_0x573feb[0x55c+-0x223*0x3+0x5d*0x3],_0xf09138[-0x1724+0x1354+0x3db]=_0x4d8bd4[0x1877*0x1+-0x1a29+0x1bd]+_0x573feb[0x6d*0x22+-0x103c*-0x1+-0x1eab],_0xf09138[-0x183d+0x8f7*0x4+0xb93*-0x1]=_0x4d8bd4[-0x186c+0x2516+-0xc9e]+_0x573feb[-0x53e*-0x1+-0x1*-0x143b+0x196d*-0x1],_0xf09138[0x378+0xd*0xbb+-0xcea]=_0x4d8bd4[-0x2*-0x3a9+0x1*0xa22+0x9*-0x1ef]+_0x573feb[-0x6d*-0x25+-0x1109+-0x1*-0x155],_0xf09138[0x1*0x1e9+0x20fc+0x1*-0x22d7]=_0x4d8bd4[0x1192*-0x2+0x87*0x7+-0x64d*-0x5]+_0x573feb[-0xd3*0x18+-0x15bf+0x2995*0x1],_0xf09138[-0x763*-0x1+-0x9e4+0x290]=_0x4d8bd4[0x1280+-0x1622+0x3*0x13b]+_0x573feb[0x1*-0x1c49+-0xf*-0x103+0xd2b],this;}['add'](_0xcb77cd){return this['add2'](this,_0xcb77cd);}['clone'](){const _0x5a9b59=this['constructo'+'r'];return new _0x5a9b59()['copy'](this);}['copy'](_0x3a51ca){const _0x57bb59=_0x3a51ca['data'],_0x291d83=this['data'];return _0x291d83[0x1a55+0x6b*-0x4d+0xd6*0x7]=_0x57bb59[-0x1*0x22d+0x1*0x89b+-0x66e*0x1],_0x291d83[-0x15*-0x171+0xd5b*-0x1+-0x10e9]=_0x57bb59[0x39a+-0x1297+0x65*0x26],_0x291d83[0x21fe*-0x1+-0x13f4+0xd7d*0x4]=_0x57bb59[0x85a*0x4+-0x67a*-0x5+0x5*-0xd28],_0x291d83[0xad5+0x18e9+-0x23bb]=_0x57bb59[0xa75*0x1+0xbd6+-0x8*0x2c9],_0x291d83[0x1322+-0x6b9+0x13*-0xa7]=_0x57bb59[0x20c3*-0x1+-0x60*0x26+0x1*0x2f07],_0x291d83[-0x1701+-0x2185+-0x4b*-0xc1]=_0x57bb59[0xa6c+-0x28d*0x1+0xc9*-0xa],_0x291d83[0x247d+-0xd2d+-0x174a]=_0x57bb59[-0x1a51+0x20b9*-0x1+0x17a*0x28],_0x291d83[-0x1*-0x21af+0x17d0+-0x3978]=_0x57bb59[-0x7b5+-0x64b+0xe07],_0x291d83[-0x993*-0x3+-0x4e2+-0x17cf]=_0x57bb59[-0x157b+-0x13*-0x134+-0x159],_0x291d83[-0x35e*-0x1+0x1171+-0xa63*0x2]=_0x57bb59[-0x1*-0x2054+-0x160c+-0xa3f],_0x291d83[-0x158c*0x1+0x1a*0x89+-0x7ac*-0x1]=_0x57bb59[0x18a+0x24cf+-0x264f],_0x291d83[0x41*-0x10+0x1787*-0x1+-0x2*-0xdd1]=_0x57bb59[0x1cd+0x18*-0xe3+0x1386],_0x291d83[-0x3*0x357+0x8ab+0x166]=_0x57bb59[0x1ce6+-0x3*-0x1af+-0x315*0xb],_0x291d83[-0x1*-0x254b+-0x1773+-0xdcb]=_0x57bb59[-0x6f1*-0x4+-0xdeb*0x1+0xdcc*-0x1],_0x291d83[0x25cf+-0x7*0x92+-0x81*0x43]=_0x57bb59[-0x2215*-0x1+0xd*-0x265+-0x35*0xe],_0x291d83[-0x1bf2+0x2076+-0x475]=_0x57bb59[0x2ed*0x3+0x2*-0xe0c+0x14*0xf8],this;}['equals'](_0x3dd9cd){const _0x7e4c1e=this['data'],_0x396eb1=_0x3dd9cd['data'];return _0x7e4c1e[0x9a8+0x1b2c+-0x2*0x126a]===_0x396eb1[0x18f9+-0xf61+0x4*-0x266]&&_0x7e4c1e[-0x1aa7+0x13d1*-0x1+0x2e79]===_0x396eb1[-0x1320+-0x6c5*-0x2+-0x597*-0x1]&&_0x7e4c1e[0x4f0+0xec3+0x13b1*-0x1]===_0x396eb1[-0x1*-0x60d+-0xd*-0x4e+-0xa01]&&_0x7e4c1e[0x1d89+-0x1*-0x1370+0x1052*-0x3]===_0x396eb1[-0x6+-0x1*-0x1c1+-0x1b8]&&_0x7e4c1e[0xa3*0x2d+0x1*-0xb50+-0x5*0x377]===_0x396eb1[-0x2140+0x3*0x2e7+0x1*0x188f]&&_0x7e4c1e[0x6*-0x18a+0xaf1+-0x1b0]===_0x396eb1[0x234d+0xa4c+-0x2d94]&&_0x7e4c1e[-0x107+-0x174b*-0x1+-0x49*0x4e]===_0x396eb1[-0x38e+0x24d1*-0x1+0x2865]&&_0x7e4c1e[-0xbe5+0x1*-0x1a2d+0x2619]===_0x396eb1[-0x13db+-0x19*-0x113+0x165*-0x5]&&_0x7e4c1e[-0xdf6*0x1+0x1019+-0x21b]===_0x396eb1[0x11af+-0x20f6+0xf4f*0x1]&&_0x7e4c1e[-0xd8e+-0x60d*-0x2+0x17d]===_0x396eb1[-0x23a1+-0x22ef+-0x4699*-0x1]&&_0x7e4c1e[-0x9a7+-0x903*0x3+0x24ba]===_0x396eb1[0x1e13+0x14b4+-0x32bd]&&_0x7e4c1e[0x2f3*-0x7+-0x1cd7+0x3187*0x1]===_0x396eb1[0x22a+0x8dd+-0xafc]&&_0x7e4c1e[0x3*-0x2d7+0x1c*0x13b+-0x1*0x19e3]===_0x396eb1[0x739*0x5+-0x255+-0x21bc]&&_0x7e4c1e[-0x2290+0x94*-0x41+-0x4831*-0x1]===_0x396eb1[0x214+-0x22c+0x25]&&_0x7e4c1e[0xbcb*-0x1+0x1a85+-0xeac]===_0x396eb1[0x2*-0x869+0xe*-0xbf+0x1b52]&&_0x7e4c1e[0x1507+0x1b8d+0x1*-0x3085]===_0x396eb1[-0x603+0xa31*0x1+-0x41f];}['isIdentity'](){const _0xa57ed9=this['data'];return _0xa57ed9[0x10a3*0x1+-0x2e*0xd3+0x1547]===-0x13e+-0x2b*0xe5+0x27b6&&_0xa57ed9[0x7d1+-0x187d+0x10ad]===-0x926*-0x3+0x1a*0x6f+0x3b*-0xa8&&_0xa57ed9[-0xc1f+0xdb0+-0x18f]===0x1445*-0x1+0x6b1+-0x16*-0x9e&&_0xa57ed9[0x5*-0x77+-0x449+0x71*0xf]===-0x1fac+-0x801+0x27ad&&_0xa57ed9[0x20c0*0x1+0x1*-0xd15+0x68d*-0x3]===-0x1*0x2405+-0x2628+0x4a2d*0x1&&_0xa57ed9[0x3*-0x923+-0x18af+-0x3*-0x115f]===0x5b3*-0x5+-0x18*-0x3c+0x1*0x16e0&&_0xa57ed9[0x35a+0x7*0x16a+0x2*-0x69d]===0x1674+0x13*-0xf1+-0x491&&_0xa57ed9[0x1683+-0xd5*0x14+-0x5d8]===-0xb*-0x2c7+-0x18c0+-0x5cd&&_0xa57ed9[0x975+0x29*0x4d+-0x15c2]===0x3*-0x6fb+0x2*0x1015+0xb39*-0x1&&_0xa57ed9[0x2238+-0x6ac+-0x1b83]===0x4f7+0x1ebd+-0x23b4&&_0xa57ed9[0x1cfb+0x251c+0x1c9*-0x25]===0x11*0x61+0x775+-0xde5&&_0xa57ed9[-0x13*0xe+0xb0b*0x3+-0x1006*0x2]===-0x432*-0x9+-0x78*-0x7+0x22*-0x135&&_0xa57ed9[0x1c0+-0x510*0x1+0x1*0x35c]===0x127c+0x2466+-0x2*0x1b71&&_0xa57ed9[0x2*-0x5f1+-0x1d91*0x1+0x2980]===0x1572+-0x2*-0xccd+-0x2*0x1786&&_0xa57ed9[0x1*-0xc17+0xa8*-0x7+0x10bd]===0xe63*-0x2+0x1612+0x6b4&&_0xa57ed9[0x1*0xff3+-0x2*0xa69+0x4ee*0x1]===0xab5+-0x205*-0x2+-0x275*0x6;}['mul2'](_0x47a4b3,_0x47ea51){const _0x55cf5c=_0x47a4b3['data'],_0x5c777d=_0x47ea51['data'],_0x328346=this['data'],_0xe1ed09=_0x55cf5c[0x23b4+-0x60a*0x1+0x2*-0xed5],_0x292b4c=_0x55cf5c[0x1*0x1321+0xbd9*0x1+-0x1ef9],_0x9fbd64=_0x55cf5c[0x10b5+-0xa5b*-0x3+-0xfec*0x3],_0x26ceb5=_0x55cf5c[-0xbf7*0x3+-0x1407+0x37ef],_0x4c58a8=_0x55cf5c[-0xacc+-0x12*-0x22a+-0x709*0x4],_0x522470=_0x55cf5c[-0x1349*-0x1+0x220a+-0x354e],_0x6d7149=_0x55cf5c[0x154d+0x2b+0x5*-0x44a],_0x3abb36=_0x55cf5c[-0x411+-0x16a4+0x1abc],_0x23179f=_0x55cf5c[-0x104f*-0x2+0x2412+-0x44a8],_0xdc55d4=_0x55cf5c[-0x2f5+0x3*-0xc2f+0x278b],_0x56cfd1=_0x55cf5c[0x144f+-0x224c+0xe07],_0x4a2439=_0x55cf5c[0x2561+0x294*-0xc+0x7e*-0xd],_0x26b928=_0x55cf5c[0x836*-0x2+0x1*-0x2f5+0x136d*0x1],_0x345d9f=_0x55cf5c[-0xd1*-0x5+-0x29c*-0x8+-0x18e8],_0x555d4f=_0x55cf5c[-0x1*0x2365+0x1c6*0x2+0x1fe7],_0x124531=_0x55cf5c[-0x1973+0x3d*0x56+0x6b*0xc];let _0xf111dd,_0x1a73cd,_0x50f530,_0x1de20e;return _0xf111dd=_0x5c777d[0xc79+0x23d7+-0x3050],_0x1a73cd=_0x5c777d[-0x11a3+0x209*-0x5+0x1bd1],_0x50f530=_0x5c777d[-0x1c3*-0x3+-0xcbb*-0x1+-0x1202],_0x1de20e=_0x5c777d[0xed+0x208d+-0x2177],_0x328346[0x4bb+0x20af+-0x2*0x12b5]=_0xe1ed09*_0xf111dd+_0x4c58a8*_0x1a73cd+_0x23179f*_0x50f530+_0x26b928*_0x1de20e,_0x328346[0x29*0x45+-0x1*-0x1aed+-0x25f9*0x1]=_0x292b4c*_0xf111dd+_0x522470*_0x1a73cd+_0xdc55d4*_0x50f530+_0x345d9f*_0x1de20e,_0x328346[-0x1f*-0x9c+-0xa59+-0x1*0x889]=_0x9fbd64*_0xf111dd+_0x6d7149*_0x1a73cd+_0x56cfd1*_0x50f530+_0x555d4f*_0x1de20e,_0x328346[-0x997+-0xc7*-0x1+-0x1*-0x8d3]=_0x26ceb5*_0xf111dd+_0x3abb36*_0x1a73cd+_0x4a2439*_0x50f530+_0x124531*_0x1de20e,_0xf111dd=_0x5c777d[-0x80c+-0x2*-0x1e7+-0x1*-0x442],_0x1a73cd=_0x5c777d[-0x119*0x1d+-0x1996+-0x3970*-0x1],_0x50f530=_0x5c777d[0x9*-0xe3+-0x15cd+0x1dce],_0x1de20e=_0x5c777d[-0xbf*-0x13+-0x538+0x8ee*-0x1],_0x328346[-0x30+0x2455+0x1*-0x2421]=_0xe1ed09*_0xf111dd+_0x4c58a8*_0x1a73cd+_0x23179f*_0x50f530+_0x26b928*_0x1de20e,_0x328346[-0x92f*-0x1+0x1*-0xec9+-0x1*-0x59f]=_0x292b4c*_0xf111dd+_0x522470*_0x1a73cd+_0xdc55d4*_0x50f530+_0x345d9f*_0x1de20e,_0x328346[-0x1f32*-0x1+-0x20c1+-0x87*-0x3]=_0x9fbd64*_0xf111dd+_0x6d7149*_0x1a73cd+_0x56cfd1*_0x50f530+_0x555d4f*_0x1de20e,_0x328346[-0x65*-0x1+0xf12+-0xf70]=_0x26ceb5*_0xf111dd+_0x3abb36*_0x1a73cd+_0x4a2439*_0x50f530+_0x124531*_0x1de20e,_0xf111dd=_0x5c777d[-0x419*0x1+-0x5cd+0x9ee],_0x1a73cd=_0x5c777d[-0x766+-0x116d+-0xc6e*-0x2],_0x50f530=_0x5c777d[0x1*-0x19d9+-0x1d53+-0x1*-0x3736],_0x1de20e=_0x5c777d[-0x8fb*0x1+0x20*0xeb+-0x145a*0x1],_0x328346[0x9de*0x1+0xbad+-0x1583]=_0xe1ed09*_0xf111dd+_0x4c58a8*_0x1a73cd+_0x23179f*_0x50f530+_0x26b928*_0x1de20e,_0x328346[0x18d*-0xd+-0x49*-0x5e+-0x69c]=_0x292b4c*_0xf111dd+_0x522470*_0x1a73cd+_0xdc55d4*_0x50f530+_0x345d9f*_0x1de20e,_0x328346[0x2*0x271+0x1*0x19f1+-0x1ec9]=_0x9fbd64*_0xf111dd+_0x6d7149*_0x1a73cd+_0x56cfd1*_0x50f530+_0x555d4f*_0x1de20e,_0x328346[0x1825*-0x1+-0x3b*-0x5+-0x1709*-0x1]=_0x26ceb5*_0xf111dd+_0x3abb36*_0x1a73cd+_0x4a2439*_0x50f530+_0x124531*_0x1de20e,_0xf111dd=_0x5c777d[-0x2166+-0xc19*-0x3+0x51*-0x9],_0x1a73cd=_0x5c777d[0x1*0xef0+0x1*-0x1a51+-0xb6e*-0x1],_0x50f530=_0x5c777d[-0x2561+0x23fc+0x1*0x173],_0x1de20e=_0x5c777d[-0x21f+-0x7bc*0x1+0x9ea],_0x328346[-0x3*-0xbbd+-0x18ed*-0x1+0x502*-0xc]=_0xe1ed09*_0xf111dd+_0x4c58a8*_0x1a73cd+_0x23179f*_0x50f530+_0x26b928*_0x1de20e,_0x328346[-0x4*0x757+-0x1e0a+0x3b73]=_0x292b4c*_0xf111dd+_0x522470*_0x1a73cd+_0xdc55d4*_0x50f530+_0x345d9f*_0x1de20e,_0x328346[-0x9a0+-0x5*-0x4e3+0xec1*-0x1]=_0x9fbd64*_0xf111dd+_0x6d7149*_0x1a73cd+_0x56cfd1*_0x50f530+_0x555d4f*_0x1de20e,_0x328346[-0x3be*-0x4+-0x1*0x1eef+0x1*0x1006]=_0x26ceb5*_0xf111dd+_0x3abb36*_0x1a73cd+_0x4a2439*_0x50f530+_0x124531*_0x1de20e,this;}['mulAffine2'](_0x36bd93,_0x3e9ff7){const _0x6066c0=_0x36bd93['data'],_0x3c7d96=_0x3e9ff7['data'],_0x1ff7da=this['data'],_0x3f6b94=_0x6066c0[-0x1*-0x23b9+-0x1f*-0x52+0x1d*-0x193],_0x321776=_0x6066c0[0x1b14+-0x7d8+-0x133b],_0x40aa50=_0x6066c0[0x1323+-0x2*0xd94+-0x89*-0xf],_0x3bbf17=_0x6066c0[0x2b4*0x3+0x3*-0x9b+-0x647],_0x45fca4=_0x6066c0[0x228e+-0x2084+-0x205],_0x4cb382=_0x6066c0[0x9f*0x39+-0x819+-0x1b48],_0x4a5596=_0x6066c0[-0x5b6+-0x1f08+0x24c6],_0x3e0623=_0x6066c0[0x1*-0x1889+-0xe8e+0x2720],_0x4cf292=_0x6066c0[0xea7*0x1+0x1fdd*-0x1+0x8a0*0x2],_0x5dbb69=_0x6066c0[0x1b18+-0x19bb+-0x151],_0x28c531=_0x6066c0[-0x4*0x448+0x1519+-0x3ec],_0x2968e2=_0x6066c0[0x1648+-0x3*0x4bd+-0x125*0x7];let _0x508d7c,_0x54dfa2,_0x5e9768;return _0x508d7c=_0x3c7d96[0x11*-0x99+0x1*-0xef+0x11c*0xa],_0x54dfa2=_0x3c7d96[-0xfa0+-0x7c3*0x1+0x1764],_0x5e9768=_0x3c7d96[-0x45c*-0x2+-0xd69*0x2+-0x487*-0x4],_0x1ff7da[0x207*0xc+-0x2329*0x1+0xad5]=_0x3f6b94*_0x508d7c+_0x3bbf17*_0x54dfa2+_0x4a5596*_0x5e9768,_0x1ff7da[-0x1147*-0x1+-0x2*0xe67+0xb88]=_0x321776*_0x508d7c+_0x45fca4*_0x54dfa2+_0x3e0623*_0x5e9768,_0x1ff7da[0x1c3+0x2*-0x81+0x1*-0xbf]=_0x40aa50*_0x508d7c+_0x4cb382*_0x54dfa2+_0x4cf292*_0x5e9768,_0x1ff7da[0x1*0x466+0x1a03+0xa22*-0x3]=0xe7+0x692+0x779*-0x1,_0x508d7c=_0x3c7d96[-0x196f+-0x8ba+-0xd*-0x2a1],_0x54dfa2=_0x3c7d96[-0x103f+-0xf05+0x1*0x1f49],_0x5e9768=_0x3c7d96[-0x11f7*-0x1+0x23a4+-0x1d*0x1d9],_0x1ff7da[0x2b*0x5b+-0x20d6+-0x5db*-0x3]=_0x3f6b94*_0x508d7c+_0x3bbf17*_0x54dfa2+_0x4a5596*_0x5e9768,_0x1ff7da[0xe72*0x1+0x8b8+0xed*-0x19]=_0x321776*_0x508d7c+_0x45fca4*_0x54dfa2+_0x3e0623*_0x5e9768,_0x1ff7da[0x8*0x2+0x1639*-0x1+0x162f]=_0x40aa50*_0x508d7c+_0x4cb382*_0x54dfa2+_0x4cf292*_0x5e9768,_0x1ff7da[-0x1*-0x8ba+0xb*0xf7+-0x1350]=0x149*-0x1+0x23*-0x25+0x658,_0x508d7c=_0x3c7d96[-0x1*-0x174c+0x807+-0x1*0x1f4b],_0x54dfa2=_0x3c7d96[0x1*0x21c3+-0x5*0x207+-0x1797],_0x5e9768=_0x3c7d96[-0x1857+0x5*0x12f+-0x116*-0x11],_0x1ff7da[0x9*0xfb+-0x9bf*0x1+0xf4]=_0x3f6b94*_0x508d7c+_0x3bbf17*_0x54dfa2+_0x4a5596*_0x5e9768,_0x1ff7da[0xe66+-0x518+-0x945]=_0x321776*_0x508d7c+_0x45fca4*_0x54dfa2+_0x3e0623*_0x5e9768,_0x1ff7da[0x46*0x17+-0x564*0x2+0x488]=_0x40aa50*_0x508d7c+_0x4cb382*_0x54dfa2+_0x4cf292*_0x5e9768,_0x1ff7da[0x45d+-0x1603+0x11b1]=0x19da+-0x1c*-0xa7+-0x1*0x2c1e,_0x508d7c=_0x3c7d96[-0x1bbf*-0x1+-0x1e8+0xd5*-0x1f],_0x54dfa2=_0x3c7d96[0xd14+-0x1*-0x1a68+0x1*-0x276f],_0x5e9768=_0x3c7d96[0x25f3+-0x1cde+-0x907],_0x1ff7da[-0x1*0x5b8+0x28*-0x47+0x10dc]=_0x3f6b94*_0x508d7c+_0x3bbf17*_0x54dfa2+_0x4a5596*_0x5e9768+_0x5dbb69,_0x1ff7da[0x1*-0x26ba+0x4cb+-0x1d*-0x12c]=_0x321776*_0x508d7c+_0x45fca4*_0x54dfa2+_0x3e0623*_0x5e9768+_0x28c531,_0x1ff7da[-0x22*-0xe3+-0x59*0x1d+-0x6d*0x2f]=_0x40aa50*_0x508d7c+_0x4cb382*_0x54dfa2+_0x4cf292*_0x5e9768+_0x2968e2,_0x1ff7da[0x328+0x39+-0x352]=-0xbe8+0x25c0+-0x19d7,this;}['mul'](_0x321e46){return this['mul2'](this,_0x321e46);}['transformP'+'oint'](_0x4f5f5b,_0x1532cf=new T()){const _0x3c7f6f=this['data'],{x:_0x3ceaf7,y:_0x39fff4,z:_0x22bfa2}=_0x4f5f5b;return _0x1532cf['x']=_0x3ceaf7*_0x3c7f6f[0x1b1f+-0x1a9e*0x1+-0x81]+_0x39fff4*_0x3c7f6f[0x1ee8+-0x1e48+0x4e*-0x2]+_0x22bfa2*_0x3c7f6f[-0x2c*0x80+0x77f*0x5+-0xf73]+_0x3c7f6f[-0xb90*0x2+-0xc46+0x1*0x2372],_0x1532cf['y']=_0x3ceaf7*_0x3c7f6f[-0xc6e*0x2+0xd3d*-0x2+0x3357]+_0x39fff4*_0x3c7f6f[0x93e+0xf97+-0x18d0*0x1]+_0x22bfa2*_0x3c7f6f[-0xb1*0x7+0x20*0x1f+0x100*0x1]+_0x3c7f6f[0x17*0x114+0x128d+-0x2b4c*0x1],_0x1532cf['z']=_0x3ceaf7*_0x3c7f6f[0x1*0x796+0x21f7+0x298b*-0x1]+_0x39fff4*_0x3c7f6f[-0x47*-0x2+0xaa3*-0x1+0xc7*0xd]+_0x22bfa2*_0x3c7f6f[-0x89*0x3d+0x20f*0x2+0x1c91*0x1]+_0x3c7f6f[0x1*-0x529+-0x6c9+-0x100*-0xc],_0x1532cf;}['transformV'+'ector'](_0x2f9eb3,_0x3ca37b=new T()){const _0x5d9467=this['data'],{x:_0x53518d,y:_0x37ae12,z:_0x1ae3f6}=_0x2f9eb3;return _0x3ca37b['x']=_0x53518d*_0x5d9467[0x10eb+-0x5*0x4aa+0x667]+_0x37ae12*_0x5d9467[0x43f+0x74b*0x4+-0x2167*0x1]+_0x1ae3f6*_0x5d9467[-0x1df5+-0x7bf*0x1+0x25bc],_0x3ca37b['y']=_0x53518d*_0x5d9467[0x1bb8+0x279*0x2+-0x20a9]+_0x37ae12*_0x5d9467[0x1*-0x1597+0x26d3+-0x1137]+_0x1ae3f6*_0x5d9467[0x65*-0x29+-0x1*0x2197+0x31cd],_0x3ca37b['z']=_0x53518d*_0x5d9467[0x240f+0x1ae*0x11+-0x95*0x6f]+_0x37ae12*_0x5d9467[-0xc97+0x2*-0x1169+0x2f6f]+_0x1ae3f6*_0x5d9467[-0x3*0x8f9+0x1*-0x1fb+0x1cf0],_0x3ca37b;}['transformV'+'ec4'](_0x1d6aaa,_0x5d91a8=new Q()){const _0x23c0be=this['data'],{x:_0x3e283f,y:_0x2e7a1b,z:_0x2d427b,w:_0x4ab0ce}=_0x1d6aaa;return _0x5d91a8['x']=_0x3e283f*_0x23c0be[0xba6+-0x482+-0x724]+_0x2e7a1b*_0x23c0be[-0x1a6e*0x1+0x25ed+-0xb7b]+_0x2d427b*_0x23c0be[0x3f8*0x2+0x2224+0x12*-0x256]+_0x4ab0ce*_0x23c0be[-0x1*-0x1fbb+0x1*-0xe7f+0x898*-0x2],_0x5d91a8['y']=_0x3e283f*_0x23c0be[0x369*-0x7+-0x10b2+0x2892]+_0x2e7a1b*_0x23c0be[0x5f*-0x20+0xacd+-0x118*-0x1]+_0x2d427b*_0x23c0be[-0x1b94+-0x234f+-0x2*-0x1f76]+_0x4ab0ce*_0x23c0be[0x1a0*-0x6+-0x2*-0xaa7+0x1*-0xb81],_0x5d91a8['z']=_0x3e283f*_0x23c0be[-0x59*0x1+-0x1ff3+0x204e]+_0x2e7a1b*_0x23c0be[0x6f*-0x34+0x6fd+0xf95]+_0x2d427b*_0x23c0be[-0x1*0x2042+0x1eb+0x2c3*0xb]+_0x4ab0ce*_0x23c0be[-0x102e*-0x1+0xb*0x2a5+-0x2d37],_0x5d91a8['w']=_0x3e283f*_0x23c0be[0x2271+0x1*0x22d9+-0x4547]+_0x2e7a1b*_0x23c0be[0x2278+-0x1bd3+-0xe*0x79]+_0x2d427b*_0x23c0be[-0xf27+0x1*-0xefd+-0x1*-0x1e2f]+_0x4ab0ce*_0x23c0be[-0xeeb+0x70d+-0x7ed*-0x1],_0x5d91a8;}['setLookAt'](_0x197af5,_0x1b04e7,_0x315ec2){ks['sub2'](_0x197af5,_0x1b04e7)['normalize'](),Fs['copy'](_0x315ec2)['normalize'](),ps['cross'](Fs,ks)['normalize'](),Fs['cross'](ks,ps);const _0x1e4bc2=this['data'];return _0x1e4bc2[-0x1b2b+-0xcdf+-0xfa*-0x29]=ps['x'],_0x1e4bc2[0x249d+0x1a*0x161+-0x73f*0xa]=ps['y'],_0x1e4bc2[-0xca*-0x17+-0x4*-0x242+-0x2*0xd96]=ps['z'],_0x1e4bc2[0x3*0x88f+-0x45*-0x79+-0x3a47]=-0x230d*0x1+-0x65b*0x2+0x2fc3*0x1,_0x1e4bc2[-0x8*-0x1af+0x21f1*-0x1+-0x5*-0x419]=Fs['x'],_0x1e4bc2[0x38*0x28+-0x184b+0xf90]=Fs['y'],_0x1e4bc2[0x2b*0xa9+0x2604+-0x4261]=Fs['z'],_0x1e4bc2[-0x1*0x821+0x1905+-0x10dd]=0x12b*0x5+0x16c8+-0x1c9f,_0x1e4bc2[0x7*-0x25f+0x1*-0x913+0x19b4]=ks['x'],_0x1e4bc2[-0x1*-0x1b6e+-0x18c1*-0x1+0x1a13*-0x2]=ks['y'],_0x1e4bc2[-0x3*-0x4cf+-0x25bb+0x1758]=ks['z'],_0x1e4bc2[0x7*-0x43+0xf4*0x25+-0x2*0x10b2]=0x13b8+0x1d61+-0x3119*0x1,_0x1e4bc2[-0x1399+-0xa31*-0x1+-0xf2*-0xa]=_0x197af5['x'],_0x1e4bc2[0x109*0x2+0x1629*0x1+0x2*-0xc17]=_0x197af5['y'],_0x1e4bc2[-0x1892+-0xcb8*0x2+0x164*0x24]=_0x197af5['z'],_0x1e4bc2[-0x214f*-0x1+0x1ce4+-0x3e24]=0x18a6+0xa*-0x363+0x939,this;}['setFrustum'](_0x2e138c,_0x44f4f2,_0x2bd3d3,_0x3cc8b1,_0x4c5ee2,_0x34425c){const _0x233a4d=(0x1*0x11ff+0x3d8+-0x15d5)*_0x4c5ee2,_0x26f4e5=_0x44f4f2-_0x2e138c,_0x58613b=_0x3cc8b1-_0x2bd3d3,_0x275d71=_0x34425c-_0x4c5ee2,_0x1a4c50=this['data'];return _0x1a4c50[0xa1*0x1+0xd7f+0x71*-0x20]=_0x233a4d/_0x26f4e5,_0x1a4c50[-0x635*-0x1+0x1*0x132b+-0x513*0x5]=-0x25f6+0x484*-0x4+-0x2*-0x1c03,_0x1a4c50[-0x13fa+0x20e5+-0xce9]=-0x4*0x340+0x1*-0x1bb5+-0x11*-0x265,_0x1a4c50[0x248a+-0x4e9+0xd5*-0x26]=0xc38+-0x1e69+0x1231,_0x1a4c50[0x575+0x123b+-0xc*0x1f9]=0x1adb+-0x1127*0x1+-0x24*0x45,_0x1a4c50[0x171d*0x1+0xdbc*-0x1+-0x95c]=_0x233a4d/_0x58613b,_0x1a4c50[-0x1c*-0x50+-0x96a+-0xb*-0x10]=0xfcb*0x2+-0x17a7+-0x7ef,_0x1a4c50[0x7c3*-0x5+0x20bc+0x61a]=-0x270a+-0x1261+0x396b,_0x1a4c50[-0x1d15*0x1+-0x485*0x1+0x21a2]=(_0x44f4f2+_0x2e138c)/_0x26f4e5,_0x1a4c50[-0x4b*-0x56+-0x49*-0x43+-0x2c44]=(_0x3cc8b1+_0x2bd3d3)/_0x58613b,_0x1a4c50[-0x4d7*-0x4+0x414*-0x9+-0x8b1*-0x2]=(-_0x34425c-_0x4c5ee2)/_0x275d71,_0x1a4c50[0x1*-0xd75+0x14af*-0x1+0x222f]=-(-0x1a9e+-0x2612+0x40b1),_0x1a4c50[0x19*0xf9+-0x53*0x3a+-0x1*0x577]=-0x81b*0x1+0x39b+-0x12*-0x40,_0x1a4c50[-0x17*-0x31+-0x309+-0x1*0x151]=-0x12*0x14+0x2483+-0x231b,_0x1a4c50[-0x1dcd+0x584+0x1857]=-_0x233a4d*_0x34425c/_0x275d71,_0x1a4c50[-0xf3e+-0x9e+0xfeb]=-0x1*0x2335+0x1*0x1017+0x98f*0x2,this;}['setPerspec'+'tive'](_0x37b6c0,_0x313fd6,_0x4d7355,_0x4dbea0,_0x529258){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x37b6c0,_0x313fd6,_0x4d7355,_0x529258),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x4d7355,_0x4dbea0);}['setOrtho'](_0x4c9aed,_0x1468e9,_0x4a4e68,_0x227936,_0xd4e66a,_0x1f8050){const _0x24d600=this['data'];return _0x24d600[-0x205*0x12+-0x1*0xa1e+-0x1*-0x2e78]=(-0x4fd*-0x1+0x1*-0x5f7+0x6*0x2a)/(_0x1468e9-_0x4c9aed),_0x24d600[-0x235f+-0x446*-0x6+0x2*0x4de]=-0x611+0x1e6*-0x12+0x1*0x283d,_0x24d600[-0x18ee*-0x1+0xebb+0x1*-0x27a7]=0xc48+0x72+0x2*-0x65d,_0x24d600[-0x587*0x2+0x1bc2+-0x10b1]=0xf6*0x25+-0x126+0x1134*-0x2,_0x24d600[-0x1*-0xa96+-0x13c9*0x1+0x937]=-0x1*-0x56f+0x1da7+-0x118b*0x2,_0x24d600[0x2096+0x1*-0x10f+-0x1*0x1f82]=(-0xaac*0x1+-0x3e*0x61+0x222c)/(_0x227936-_0x4a4e68),_0x24d600[0x247c+-0x670+-0x1e06]=-0x3d1*-0xa+0xf99+-0x35c3*0x1,_0x24d600[-0x1*0x6ab+0xa3*0x17+-0x7f3]=0x1193+-0x1134+-0x1*0x5f,_0x24d600[-0x10f6+-0x15c1+0x26bf]=-0x33*-0x91+-0x1e31+0x2*0xa7,_0x24d600[-0x1b32*0x1+0xbb*-0x9+-0x21ce*-0x1]=-0x2*-0x24b+-0x11*0x79+0x373,_0x24d600[0x14b1+-0x1f14+-0x1*-0xa6d]=-(0x197+0x1efb+-0x10*0x209)/(_0x1f8050-_0xd4e66a),_0x24d600[-0x10d3+-0x1*0x1472+0x2550]=0x1d7+0x52*-0x27+0x3*0x38d,_0x24d600[-0xcc*0x5+-0x554+-0x257*-0x4]=-(_0x1468e9+_0x4c9aed)/(_0x1468e9-_0x4c9aed),_0x24d600[0x2bd*0x1+-0x2382+0x20d2]=-(_0x227936+_0x4a4e68)/(_0x227936-_0x4a4e68),_0x24d600[-0xc58*0x2+0x3*-0x8a9+0x32b9]=-(_0x1f8050+_0xd4e66a)/(_0x1f8050-_0xd4e66a),_0x24d600[0x812+0x1*-0x2195+-0xcc9*-0x2]=0x63*-0xb+-0x334+-0x1*-0x776,this;}['setFromAxi'+'sAngle'](_0x218e1c,_0xd659b){_0xd659b*=N['DEG_TO_RAD'];const {x:_0x4ddde2,y:_0x45b44d,z:_0x4ff5be}=_0x218e1c,_0x208750=Math['cos'](_0xd659b),_0x428604=Math['sin'](_0xd659b),_0x42613c=-0x20*0xdf+0xeab+0x2*0x69b-_0x208750,_0x553654=_0x42613c*_0x4ddde2,_0x4727e9=_0x42613c*_0x45b44d,_0xd4f5f6=this['data'];return _0xd4f5f6[0x1*-0x1ddb+0x26d8+0xb1*-0xd]=_0x553654*_0x4ddde2+_0x208750,_0xd4f5f6[0x1*0x1c63+-0xdae+0x2*-0x75a]=_0x553654*_0x45b44d+_0x428604*_0x4ff5be,_0xd4f5f6[-0x2*-0x313+-0x2*-0x5e7+-0x2*0x8f9]=_0x553654*_0x4ff5be-_0x428604*_0x45b44d,_0xd4f5f6[0xd6d+-0x931*0x2+0x18*0x35]=0x1303+-0x13b0+0xad,_0xd4f5f6[-0x187e+0xa07+0xe7b]=_0x553654*_0x45b44d-_0x428604*_0x4ff5be,_0xd4f5f6[-0x1*-0x25f9+0x1b7f+-0x4173]=_0x4727e9*_0x45b44d+_0x208750,_0xd4f5f6[-0x161d*-0x1+0x2*-0x8e4+-0x44f]=_0x4727e9*_0x4ff5be+_0x428604*_0x4ddde2,_0xd4f5f6[0xde7*0x2+-0x2302+0x73b]=-0x1*0x1bb+-0x1*0xf68+0x1123,_0xd4f5f6[0x505+0x541*0x3+-0x14c0]=_0x553654*_0x4ff5be+_0x428604*_0x45b44d,_0xd4f5f6[-0x13bb*0x1+-0xb2*0x2b+0x31aa]=_0x4727e9*_0x4ff5be-_0x4ddde2*_0x428604,_0xd4f5f6[0x228d+0x849+0xf9*-0x2c]=_0x42613c*_0x4ff5be*_0x4ff5be+_0x208750,_0xd4f5f6[0x11*-0x1dc+-0x4ed*0x1+-0x925*-0x4]=-0x16c1+-0x1240+0x2901,_0xd4f5f6[0x235*-0xa+0xcdb*0x3+-0x1073]=0x7*-0x146+-0x12e9+-0x11*-0x1a3,_0xd4f5f6[-0x19*-0x6e+0x247c+0xd*-0x3a1]=0x13f8+0x14a0+-0x2898,_0xd4f5f6[0xfdd+0x999+-0xcb4*0x2]=0x174*0xa+-0x11a*0x13+0xea*0x7,_0xd4f5f6[-0x1*0x259+-0x7f*-0x2+0x16a]=0x2*-0xbce+-0x821*-0x2+-0x10d*-0x7,this;}['setTransla'+'te'](_0x1f010f,_0x2e499c,_0x575659){const _0x572609=this['data'];return _0x572609[0x1c69+0xf7a+-0x2be3]=0x13*0x20+-0x548+0x2e9*0x1,_0x572609[-0x4*0x91a+-0x3c0+0x3*0xd63]=0x1*0x1517+0x2*-0x199+0x5f7*-0x3,_0x572609[0x1dcc*-0x1+0x2*-0x11e1+0x4190*0x1]=0x17af+-0x4*0x7ac+0xa3*0xb,_0x572609[0x611+0x1*0x154f+-0xf*0x1d3]=0x1*-0x1e43+-0xad8*-0x1+0x136b,_0x572609[0x216+0x139f+-0x9*0x269]=0x1a07+0x105a+0x23b*-0x13,_0x572609[0x192e+0x21*0x9b+-0x141*0x24]=-0x362*-0x2+-0xa7*0x15+0x6f0,_0x572609[0x16d6+0x1fe3+-0xb*0x4f9]=0x479*-0x1+0x1d+0x45c,_0x572609[-0x1*0x17ff+-0x2e*0xd0+0x3d66]=0xca+-0x133a+0x1270,_0x572609[-0x6d*-0x1+-0x2342*0x1+-0x11*-0x20d]=-0x905+0xa47*-0x3+0x27da,_0x572609[-0x156b+-0x58b+0x1aff*0x1]=-0x1*0x7d1+-0x1cd*-0x13+-0x6d*0x3e,_0x572609[0x1*0x1ddb+-0x21d1+0x400]=0x1*-0x1491+0x39*0x1b+0xe8f,_0x572609[-0x2234+0xe84*-0x1+0x3*0x1041]=-0x23ab+-0x7*-0x107+0x1c7a,_0x572609[0x358+-0x411*0x1+0xc5*0x1]=_0x1f010f,_0x572609[0x1*0x24dd+0x24f+-0x271f]=_0x2e499c,_0x572609[-0xe1c+0x5*-0x75+0x1073]=_0x575659,_0x572609[-0x1b*0x126+-0x11d1*-0x1+0xd40]=0x1f7d*-0x1+-0x24a7+-0x48b*-0xf,this;}['setScale'](_0x229ee4,_0x33cbf2,_0x5a9e97){const _0x8fb28b=this['data'];return _0x8fb28b[-0x412+0x832*0x1+-0x420]=_0x229ee4,_0x8fb28b[-0x1*-0x199f+-0x1871+0x7*-0x2b]=-0x518+0x40b+-0x1*-0x10d,_0x8fb28b[0x2703+0x1d4f+-0x1114*0x4]=-0x39f*-0x3+-0x1a49*0x1+-0x7*-0x234,_0x8fb28b[-0x3*-0xca1+0x1*-0x1d9f+-0x841]=-0x1*-0x709+-0x26bc+-0x21d*-0xf,_0x8fb28b[-0xeef+0x9*-0xc5+0x15e0]=0x8b0+-0x109e+-0x2*-0x3f7,_0x8fb28b[-0x177e+-0x18f6+0x3079]=_0x33cbf2,_0x8fb28b[-0xfbf*0x1+0x12be+-0x2f9]=0x26c1+-0xf9*-0x7+-0x2d90,_0x8fb28b[0x7b5+-0x1997+0x11e9]=0x184*-0x7+0x957*0x4+0xd6*-0x20,_0x8fb28b[0x1ce4+0x1*-0x2167+0x48b]=0x25c1+-0x1*0x1f34+0x1*-0x68d,_0x8fb28b[0x47*-0x66+0x7f2*0x4+-0x375]=0x35*-0x7b+0x5*-0x627+0x1c1d*0x2,_0x8fb28b[0x853*-0x3+-0x6b*-0x9+0x1540]=_0x5a9e97,_0x8fb28b[0x3d*-0x3d+0x11bb+0x3*-0x10d]=0x1393*0x1+-0x1*-0x1c9e+-0x3031,_0x8fb28b[0x8*-0x111+-0x24d9*-0x1+-0x1c45*0x1]=0x1*0x1c85+-0x1*-0x25b7+-0x423c,_0x8fb28b[0x9c2*0x3+0xdb4+-0x2aed]=0xe9*-0x27+-0x1f7*-0x11+0x218,_0x8fb28b[0x15f+0x17b2+-0x1903*0x1]=-0x1*0xaf9+-0x2412+-0x1*-0x2f0b,_0x8fb28b[0x1935+-0xceb*-0x3+0x7*-0x921]=-0xe53+-0xfee+0x1e42,this;}['setViewpor'+'t'](_0x5179b6,_0x4a271e,_0x4468a3,_0x14b205){const _0x4764d2=this['data'];return _0x4764d2[-0x13bf+-0xbd*-0xf+0x8ac]=_0x4468a3*(0x5*-0x5c7+0x484+-0x185f*-0x1+0.5),_0x4764d2[-0xcc7+-0xaf7*0x1+-0x1*-0x17bf]=-0x125b+-0x10f2+0x234d,_0x4764d2[0x2*0xcd1+0xad+-0x1a4d]=-0x449+0x16*0xd2+-0xdc3,_0x4764d2[0x1b89+0xa54*-0x3+-0x376*-0x1]=0x1*-0x1623+0x8*-0x2a1+0x2b2b,_0x4764d2[-0x1256+0x1*-0x58d+0x17e7]=0x871*0x1+-0x147e+-0xc0d*-0x1,_0x4764d2[-0x10f3+0xe4a+-0x157*-0x2]=_0x14b205*(0x1f3d+-0x2*0x8eb+-0x2f*0x49+0.5),_0x4764d2[-0x248f+-0x5*-0x567+-0x7*-0x15e]=-0x22ec+0xc5+0x2227,_0x4764d2[0x8f*-0x3a+-0x1*-0x1dbe+-0x1*-0x2af]=0x1*-0x1331+-0x1fa8+-0x1*-0x32d9,_0x4764d2[-0x1*0x2381+0x12*0x78+0x1b19]=-0x955+-0x2526+0x2e7b,_0x4764d2[-0x43+0x204+-0x1b8]=-0xb8e+-0x1*-0x9+0xb85,_0x4764d2[0x46*-0x5b+0x2d5+-0x1b3*-0xd]=0x17c0+-0x1df5*-0x1+-0x35b5+0.5,_0x4764d2[-0xa5a*-0x2+-0x20*-0x103+0x1*-0x3509]=-0x1eea+-0x7*-0x349+0x7eb,_0x4764d2[-0x2*-0x44a+0x1431+-0x1cb9]=_0x5179b6+_0x4468a3*(-0x48+-0xddb+0xe23+0.5),_0x4764d2[-0x431*-0x1+-0xfd8+0x2*0x5da]=_0x4a271e+_0x14b205*(-0xaec+-0x23e3+-0x2ecf*-0x1+0.5),_0x4764d2[-0x241e+-0x111f*-0x1+0x130d*0x1]=0x1*0x335+0xf3*0x14+-0x1631+0.5,_0x4764d2[-0xcfb+0x2*-0xdc6+0x2896*0x1]=0x11b1+0x685*-0x1+-0xb2b*0x1,this;}['setReflect'+'ion'](_0x582764,_0x2de238){const _0x8ff990=_0x582764['x'],_0x4fd21d=_0x582764['y'],_0x2a793a=_0x582764['z'],_0x5ab328=this['data'];return _0x5ab328[0x1*0x10+-0x1c10+0x1c00]=0xa98+-0x3b2+0x5*-0x161-(0x24f*-0x3+0xaed+0x7*-0x92)*_0x8ff990*_0x8ff990,_0x5ab328[0x49*-0x59+0xe9f+0xac3]=-(0x7c0+-0xdfe+0x640)*_0x8ff990*_0x4fd21d,_0x5ab328[0x26e7*0x1+-0xe*-0x3+-0x38d*0xb]=-(-0xa61*0x1+0x290+-0x7d3*-0x1)*_0x8ff990*_0x2a793a,_0x5ab328[-0xc1*-0xf+0x1*0x1849+-0x2395*0x1]=0x577+-0x23b0+0x1e39,_0x5ab328[0x2d3+0x1c55+0x1f24*-0x1]=-(-0x1*0x1ddb+0x3*0x4e7+-0x14*-0xc2)*_0x8ff990*_0x4fd21d,_0x5ab328[-0x1d66*0x1+0x825+0x1546]=0x35*0x9e+0xc1*-0x6+-0x1c2f-(0x1d2d+0x1413+0xbf*-0x42)*_0x4fd21d*_0x4fd21d,_0x5ab328[-0x180*0x10+-0x1*-0xa95+0x1*0xd71]=-(-0x1c5*0xe+-0x2*0x632+0x252c)*_0x4fd21d*_0x2a793a,_0x5ab328[-0x4b4+0xf30+0x1*-0xa75]=0x9d*-0x25+-0x1b3*0xb+0x2*0x14b1,_0x5ab328[0x15ab+0x621+-0x2*0xde2]=-(0xc9d+-0x269b+0x1a00)*_0x8ff990*_0x2a793a,_0x5ab328[0xd*0x1ea+0x3*0x36d+0x20*-0x119]=-(-0x2eb*-0x5+-0x89b*-0x1+-0x1730)*_0x4fd21d*_0x2a793a,_0x5ab328[0x239c+0xafd*-0x1+-0x1895]=-0x2f*-0x13+0x18d0+0xe26*-0x2-(0x1*0xb11+0x727*0x5+0x39a*-0xd)*_0x2a793a*_0x2a793a,_0x5ab328[-0x15a1+0x12ff+0x2ad]=0x130f+-0xe1+-0x122e,_0x5ab328[-0x399*-0x5+-0x2cc*0x7+0x1a3*0x1]=-(-0xfee*-0x1+-0x1888+0x89c)*_0x8ff990*_0x2de238,_0x5ab328[-0x1e37+-0x1*-0x13b8+0x12c*0x9]=-(-0x322+0x1563+-0x123f)*_0x4fd21d*_0x2de238,_0x5ab328[0x11*0x153+-0x1574+0x101*-0x1]=-(-0x2*-0xe9+-0xef3*0x1+0x39*0x3b)*_0x2a793a*_0x2de238,_0x5ab328[-0x1*0x24f7+0x19b*-0x13+0x1*0x4387]=0x4b*0x4a+0x1043+0x2*-0x12f8,this;}['invert'](_0x5b52bc=this){const _0x2e4891=_0x5b52bc['data'],_0x4359d1=_0x2e4891[-0x1*-0x52f+-0x36f+-0x1c0],_0x30c7d3=_0x2e4891[-0x1ec1+0xe*0x23d+-0x94],_0x4beaf0=_0x2e4891[-0x26c5+-0x14c5+0x3b8c],_0x43093e=_0x2e4891[-0x1e01*0x1+0x249c+0xd3*-0x8],_0x1bf138=_0x2e4891[-0xfd0+0x1586+0x1b*-0x36],_0x1775ce=_0x2e4891[0x1*0x1fa5+-0x5ab+-0x19f5],_0xc99982=_0x2e4891[0x14b9*-0x1+-0xd5d*-0x1+0x762],_0x818c21=_0x2e4891[0x16*-0x159+0xbe*0x2f+0x1*-0x535],_0x40ec59=_0x2e4891[-0x32*-0x4f+0x12d7+-0x1*0x223d],_0x4523a4=_0x2e4891[-0x58a+-0x2228+0x27bb],_0xafe7ff=_0x2e4891[0x1*-0x4cd+0x1d3e+0x1*-0x1867],_0x3d07ea=_0x2e4891[0x3*-0x7a6+0x19*0x11b+-0xe*0x55],_0x311a89=_0x2e4891[-0x107+0x1fd5*0x1+-0x1ec2],_0x5ebcf6=_0x2e4891[-0x15ee+-0xb*0x2d5+0x8db*0x6],_0x5e7255=_0x2e4891[0x73*-0x13+0xbc8+0x13*-0x2b],_0x5ad42e=_0x2e4891[-0x469*0x1+-0x4d5+0x94d],_0x2df387=_0x4359d1*_0x1775ce-_0x30c7d3*_0x1bf138,_0x23ad61=_0x4359d1*_0xc99982-_0x4beaf0*_0x1bf138,_0x50f1d8=_0x4359d1*_0x818c21-_0x43093e*_0x1bf138,_0x2ca60f=_0x30c7d3*_0xc99982-_0x4beaf0*_0x1775ce,_0x52772b=_0x30c7d3*_0x818c21-_0x43093e*_0x1775ce,_0x2c727d=_0x4beaf0*_0x818c21-_0x43093e*_0xc99982,_0x3e288f=_0x40ec59*_0x5ebcf6-_0x4523a4*_0x311a89,_0x2564f0=_0x40ec59*_0x5e7255-_0xafe7ff*_0x311a89,_0x4fc2b2=_0x40ec59*_0x5ad42e-_0x3d07ea*_0x311a89,_0x49c7fb=_0x4523a4*_0x5e7255-_0xafe7ff*_0x5ebcf6,_0x122ebb=_0x4523a4*_0x5ad42e-_0x3d07ea*_0x5ebcf6,_0xd3dd13=_0xafe7ff*_0x5ad42e-_0x3d07ea*_0x5e7255,_0x3b6dcd=_0x2df387*_0xd3dd13-_0x23ad61*_0x122ebb+_0x50f1d8*_0x49c7fb+_0x2ca60f*_0x4fc2b2-_0x52772b*_0x2564f0+_0x2c727d*_0x3e288f;if(_0x3b6dcd===0x7e+0x232a+-0x23a8)this['setIdentit'+'y']();else{const _0x2e53c1=(0x18e0+-0x22ab*-0x1+-0x3b8a*0x1)/_0x3b6dcd,_0x2072f6=this['data'];_0x2072f6[-0x2203+-0xd88+0x2f8b]=(_0x1775ce*_0xd3dd13-_0xc99982*_0x122ebb+_0x818c21*_0x49c7fb)*_0x2e53c1,_0x2072f6[-0x695+-0x637*0x5+0x1*0x25a9]=(-_0x30c7d3*_0xd3dd13+_0x4beaf0*_0x122ebb-_0x43093e*_0x49c7fb)*_0x2e53c1,_0x2072f6[0x17ca+0x1*0x176b+0x2f33*-0x1]=(_0x5ebcf6*_0x2c727d-_0x5e7255*_0x52772b+_0x5ad42e*_0x2ca60f)*_0x2e53c1,_0x2072f6[0x266a+-0x133*-0xd+-0x35fe*0x1]=(-_0x4523a4*_0x2c727d+_0xafe7ff*_0x52772b-_0x3d07ea*_0x2ca60f)*_0x2e53c1,_0x2072f6[-0x6d7*-0x5+-0x1*0x21af+-0x2*0x40]=(-_0x1bf138*_0xd3dd13+_0xc99982*_0x4fc2b2-_0x818c21*_0x2564f0)*_0x2e53c1,_0x2072f6[0x121*-0xb+0x15*0x185+-0x1379]=(_0x4359d1*_0xd3dd13-_0x4beaf0*_0x4fc2b2+_0x43093e*_0x2564f0)*_0x2e53c1,_0x2072f6[0x13f4+0x27e+-0x166c]=(-_0x311a89*_0x2c727d+_0x5e7255*_0x50f1d8-_0x5ad42e*_0x23ad61)*_0x2e53c1,_0x2072f6[0x11*0x31+-0x717+0x17*0x2b]=(_0x40ec59*_0x2c727d-_0xafe7ff*_0x50f1d8+_0x3d07ea*_0x23ad61)*_0x2e53c1,_0x2072f6[-0x33b*0x1+0x1de3+-0x1aa0]=(_0x1bf138*_0x122ebb-_0x1775ce*_0x4fc2b2+_0x818c21*_0x3e288f)*_0x2e53c1,_0x2072f6[-0x1*-0x238d+-0x24d4+0x54*0x4]=(-_0x4359d1*_0x122ebb+_0x30c7d3*_0x4fc2b2-_0x43093e*_0x3e288f)*_0x2e53c1,_0x2072f6[0x618+-0x1e16+0x1808]=(_0x311a89*_0x52772b-_0x5ebcf6*_0x50f1d8+_0x5ad42e*_0x2df387)*_0x2e53c1,_0x2072f6[-0x4d*0x3f+0x1f75+-0xc77]=(-_0x40ec59*_0x52772b+_0x4523a4*_0x50f1d8-_0x3d07ea*_0x2df387)*_0x2e53c1,_0x2072f6[0x1b83*0x1+0x25e2+0x4159*-0x1]=(-_0x1bf138*_0x49c7fb+_0x1775ce*_0x2564f0-_0xc99982*_0x3e288f)*_0x2e53c1,_0x2072f6[0x1*-0x24f3+-0x2db+-0x219*-0x13]=(_0x4359d1*_0x49c7fb-_0x30c7d3*_0x2564f0+_0x4beaf0*_0x3e288f)*_0x2e53c1,_0x2072f6[-0x1058*-0x2+-0xf37+-0x116b]=(-_0x311a89*_0x2ca60f+_0x5ebcf6*_0x23ad61-_0x5e7255*_0x2df387)*_0x2e53c1,_0x2072f6[-0xae6+0x232+-0x1*-0x8c3]=(_0x40ec59*_0x2ca60f-_0x4523a4*_0x23ad61+_0xafe7ff*_0x2df387)*_0x2e53c1;}return this;}['set'](_0x546363){const _0x44cf89=this['data'];return _0x44cf89[-0x1*0x20c7+0x3*-0x9c7+-0xd4*-0x4b]=_0x546363[-0x2078+0x12a3*0x1+0xdd5],_0x44cf89[-0x24d2+0x871*-0x3+0x3e26]=_0x546363[0x80d+-0x1be4+0x13d8],_0x44cf89[-0xde3+-0x402+0x11e7]=_0x546363[-0x2cf+-0x1*-0x1db3+-0x1f*0xde],_0x44cf89[0x49c+0x59*0x4f+0x48*-0x72]=_0x546363[-0x1*-0x2151+0x336+-0x1242*0x2],_0x44cf89[0x1f8c+0x2*0x115d+-0x4242]=_0x546363[0x2*0x15d+0x1*-0x209f+0x1de9],_0x44cf89[-0x11fd+0x5f3*0x1+0xc0f]=_0x546363[0x8*0x24b+-0x418+-0xe3b],_0x44cf89[0x1*0x72a+0xad*-0x39+0x1f61]=_0x546363[0x577+0x1ccd+-0x223e],_0x44cf89[0x6*0x4cb+-0x1173+0x98*-0x13]=_0x546363[0x2125+-0x3*-0x98f+0x3dcb*-0x1],_0x44cf89[0x532+-0x211f*0x1+0x1bf5]=_0x546363[0x355+-0x208a+-0x5*-0x5d9],_0x44cf89[-0x106c+-0x1*0xce7+-0x757*-0x4]=_0x546363[-0x1d2e+0x1811+-0x526*-0x1],_0x44cf89[-0x2*-0xe3+0x185b*0x1+-0x1a17]=_0x546363[-0x649+-0x1494+0x1ae7],_0x44cf89[0x1cfc+0x11*-0x53+-0x1*0x176e]=_0x546363[-0x1903+-0x1cb+0x1ad9],_0x44cf89[-0xe*-0x18c+0xfb3*0x2+-0x2e*0x127]=_0x546363[-0x554*0x6+0x260c+0x8*-0xc1],_0x44cf89[-0x16b7*-0x1+-0x3b3+-0x5*0x3cb]=_0x546363[-0xb11+-0x242d+0x2f4b],_0x44cf89[-0xa2*0x19+-0x3*-0xb6a+0x1*-0x125e]=_0x546363[0x1a1d+0x2fe*0x1+0x1d0d*-0x1],_0x44cf89[-0x1e3e+-0x6*0x255+0x2c4b]=_0x546363[0x230c+-0x1*0x18+-0x22e5],this;}['setIdentit'+'y'](){const _0x4ebf33=this['data'];return _0x4ebf33[0x301*0x2+-0x1b67+0x1565]=-0x14d0*0x1+-0xb5f*-0x1+0x972*0x1,_0x4ebf33[0x10a7+0x174b*-0x1+0x237*0x3]=0x2e*-0x83+-0x1f71+-0x233*-0x19,_0x4ebf33[-0x1903+-0x1b1a+0x341f]=-0x22f1*0x1+-0x1*0x9b7+0x2ca8,_0x4ebf33[-0x1251+0x2450+-0x4*0x47f]=0x24d9+0x163e+-0x1*0x3b17,_0x4ebf33[-0x1*-0x1f75+-0xd38+-0x3*0x613]=0xad6+0x21ad+-0x2c83,_0x4ebf33[0x262c+0x24e5+0x641*-0xc]=0x1*0x2569+0x1c1b*0x1+-0x4183,_0x4ebf33[-0x22*-0x24+-0x23ae*0x1+0x2*0xf76]=-0x1192+0x1*0x1db7+-0x1*0xc25,_0x4ebf33[0x128f*0x1+-0x4a9*-0x1+0x7bb*-0x3]=0xa39+-0x304*0x1+-0x735,_0x4ebf33[0x5af*0x5+0x2*0xc9f+-0x35a1]=0x152b+-0x2*-0xe1e+-0x3167,_0x4ebf33[0x16b8+0x200c+-0x36bb]=0xf86+-0x1c71+0xceb,_0x4ebf33[0x3*-0x90d+-0x10b*0x13+0x2f02]=0x2*0x5ec+0x48+0x1*-0xc1f,_0x4ebf33[0xa7*-0x1f+-0x3*-0x52d+0x4bd]=-0x1222+-0x669*0x3+0x255d,_0x4ebf33[0x6c3+-0x6*-0x64e+-0x2c8b]=0x26e0+-0x10*-0x1f3+-0x4610,_0x4ebf33[-0xee*0x1f+-0xc54+0x2933]=0x70b+-0x203a+-0x192f*-0x1,_0x4ebf33[0x19f8+0x173f+-0x1063*0x3]=-0x192a+0x1262+0x6c8,_0x4ebf33[-0x5cc+0x1ca6+-0xf*0x185]=-0x1673+-0x21db+0x384f,this;}['setTRS'](_0x2973aa,_0x2a487d,_0x3baa14){const _0x50d7a9=_0x2a487d['x'],_0x5774b3=_0x2a487d['y'],_0xfefe4e=_0x2a487d['z'],_0x229b21=_0x2a487d['w'],_0x27638f=_0x3baa14['x'],_0x391542=_0x3baa14['y'],_0x11b0bf=_0x3baa14['z'],_0x272687=_0x50d7a9+_0x50d7a9,_0x145c6c=_0x5774b3+_0x5774b3,_0x3a9df6=_0xfefe4e+_0xfefe4e,_0x3f507d=_0x50d7a9*_0x272687,_0x181744=_0x50d7a9*_0x145c6c,_0x322e97=_0x50d7a9*_0x3a9df6,_0x58232e=_0x5774b3*_0x145c6c,_0x2289ac=_0x5774b3*_0x3a9df6,_0x9b9d4c=_0xfefe4e*_0x3a9df6,_0x109f74=_0x229b21*_0x272687,_0x1899cf=_0x229b21*_0x145c6c,_0x4e85f6=_0x229b21*_0x3a9df6,_0x1a98cc=this['data'];return _0x1a98cc[0x5bf*-0x5+0x9*0x251+0x7e2]=(0x1bf5+-0x355*-0x6+-0x2d2*0x11-(_0x58232e+_0x9b9d4c))*_0x27638f,_0x1a98cc[0x14e8+-0x23d0+0xee9*0x1]=(_0x181744+_0x4e85f6)*_0x27638f,_0x1a98cc[-0x59*-0x61+0x9*0x3d7+-0xb61*0x6]=(_0x322e97-_0x1899cf)*_0x27638f,_0x1a98cc[0x1fed+-0x2f*-0x49+-0x2d51]=0x270e+-0x2400+0x30e*-0x1,_0x1a98cc[-0x7b*0x39+-0x241*0x1+0x2*0xed4]=(_0x181744-_0x4e85f6)*_0x391542,_0x1a98cc[-0x1ecb+0x1*0x6ab+0x7*0x373]=(0x1a2d+-0xb9f+0x95*-0x19-(_0x3f507d+_0x9b9d4c))*_0x391542,_0x1a98cc[0x2621+-0x1b*-0x15f+-0x4b20]=(_0x2289ac+_0x109f74)*_0x391542,_0x1a98cc[0x23fc+-0x2477+0xa*0xd]=-0x1437+-0x22de+-0xef*-0x3b,_0x1a98cc[0x193c*-0x1+0x1625+0x31f]=(_0x322e97+_0x1899cf)*_0x11b0bf,_0x1a98cc[0x7e7+0x83e+0x101c*-0x1]=(_0x2289ac-_0x109f74)*_0x11b0bf,_0x1a98cc[-0xbbe+-0xba1*0x3+0x2eab]=(0x3*-0x798+0x1cb9+0x2*-0x2f8-(_0x3f507d+_0x58232e))*_0x11b0bf,_0x1a98cc[0xd67+-0x26eb+-0x3*-0x885]=-0x5*0x77+-0x3c8*0x2+0x9e3,_0x1a98cc[-0x209b+0x574+0x1b33]=_0x2973aa['x'],_0x1a98cc[0x1ca0+-0x21c6+0x533]=_0x2973aa['y'],_0x1a98cc[0xcea+0x31a*-0x8+-0x24*-0x55]=_0x2973aa['z'],_0x1a98cc[-0x3ad*0x7+0x1083+-0x5f*-0x19]=-0x23*0x6b+0x1490+0x6*-0xfd,this;}['transpose'](_0x5bc150=this){const _0x32aaed=_0x5bc150['data'],_0x2daaef=this['data'];if(_0x32aaed===_0x2daaef){let _0x16eeb7;_0x16eeb7=_0x32aaed[-0x207b+0x409*0x1+0x1c73],_0x2daaef[0x2150+0x15d2+-0x3721]=_0x32aaed[-0x5*-0x6fb+-0x1*-0x4f4+-0x27d7],_0x2daaef[0x52*-0x6b+0x1194+0xba*0x17]=_0x16eeb7,_0x16eeb7=_0x32aaed[0x7f6+0x1ace+-0x22c2],_0x2daaef[-0x259e+0x91*-0x1+0x2631*0x1]=_0x32aaed[0x64d+0x25f*0xb+-0x205a],_0x2daaef[0x1*-0x23a1+-0xa*-0x9e+0x1d7d]=_0x16eeb7,_0x16eeb7=_0x32aaed[-0x2702+0x5c7+0x213e],_0x2daaef[0x216*0x2+0x75e+0x1*-0xb87]=_0x32aaed[0x16a*0xb+-0x1434+0x4b2],_0x2daaef[-0x51c+-0xf6e+0x1496]=_0x16eeb7,_0x16eeb7=_0x32aaed[0x57*-0x23+0x156b+-0x980],_0x2daaef[0x4*-0x239+0x1cb7*0x1+-0x13cd]=_0x32aaed[0xda1+0x125f+-0x31*0xa7],_0x2daaef[0x36c+-0x2*-0x1345+0x1*-0x29ed]=_0x16eeb7,_0x16eeb7=_0x32aaed[-0x171f+-0x7d9*0x1+0x1eff],_0x2daaef[0x2b+-0x9b7+0x993]=_0x32aaed[0x1606+-0x7c*0x2+0x1*-0x1501],_0x2daaef[-0xf1*-0x1+-0x290*-0x1+-0x374]=_0x16eeb7,_0x16eeb7=_0x32aaed[0x1*0xe1b+-0x1*0x9eb+-0x425],_0x2daaef[-0x9a4+-0x1*0x21c4+0x2b73]=_0x32aaed[-0x170e+-0x7*0x10d+0x1e77],_0x2daaef[0x2084+-0x2357+0x2e1]=_0x16eeb7;}else _0x2daaef[-0x3b*-0x5f+0x4a*0x1d+0x151*-0x17]=_0x32aaed[-0x1e0d+0xdda*0x2+0x1*0x259],_0x2daaef[0x407*-0x5+0x6cf+0xd55]=_0x32aaed[0xa*0x2d1+-0x1399+-0x88d],_0x2daaef[0x1026+-0x26f3*0x1+0x16cf]=_0x32aaed[0x623+0xf09+-0x42*0x52],_0x2daaef[0xfd7+0x11c*-0x9+-0x5d8]=_0x32aaed[0x264+-0x2021+0x1dc9],_0x2daaef[-0x3*-0xc43+0xc36+-0x30fb]=_0x32aaed[0x325*0xb+-0xad*0x27+-0x7*0x12d],_0x2daaef[-0x13bb+0x1d36+0xad*-0xe]=_0x32aaed[0x21d*-0xb+-0x10ae+0x13f9*0x2],_0x2daaef[0x1645+0xa2c+-0x206b]=_0x32aaed[-0x1*0x3f5+0x11*0xc9+-0x95b],_0x2daaef[-0x6*-0x13f+-0x9*0x6+-0x11*0x6d]=_0x32aaed[0x1d1+0x19e1+0x15*-0x151],_0x2daaef[-0x15eb+-0x2520+-0x3*-0x13b1]=_0x32aaed[0xd41+0x29*-0x8c+0x92d],_0x2daaef[0x18ef+-0x605*0x1+0x1b*-0xb3]=_0x32aaed[0xa3*-0x3+0x128*0x8+-0x751*0x1],_0x2daaef[-0x417*0x1+-0x2*0x97d+0x171b]=_0x32aaed[0x1b68+0x15ed+0x1*-0x314b],_0x2daaef[-0x6d*0x22+-0x4cb*0x1+0x1350]=_0x32aaed[0x3*0x1a3+-0x23e8+-0x1f0d*-0x1],_0x2daaef[-0x15eb+0x6dd+0x78d*0x2]=_0x32aaed[-0x1d4e+-0x1ed*0x11+0x3e0e],_0x2daaef[0x3*0x5ef+-0x1a4b+0x1*0x88b]=_0x32aaed[-0x12f5+-0x26a9*0x1+0x1337*0x3],_0x2daaef[0x3e1+-0x263c+0x2269]=_0x32aaed[-0x198b*-0x1+-0x1d5b*-0x1+0x1c5*-0x1f],_0x2daaef[-0x1*0x520+0x1d62+-0x1833]=_0x32aaed[-0x21ee*0x1+0xd3f*-0x1+-0x2*-0x179e];return this;}['getTransla'+'tion'](_0x1a2361=new T()){return _0x1a2361['set'](this['data'][0x81b+-0x347*0x2+-0x181*0x1],this['data'][0x1*-0x840+0x4f8+0x1*0x355],this['data'][0x12c3+-0x1544+0x28f]);}['getX'](_0x55558a=new T()){return _0x55558a['set'](this['data'][-0xb27+-0x1210+0x3*0x9bd],this['data'][0x5e*0x3d+-0x2*-0x823+-0x26ab],this['data'][-0x4b3*0x7+-0x4c*-0x83+-0x1ff*0x3]);}['getY'](_0x12bbf3=new T()){return _0x12bbf3['set'](this['data'][0x1c0d+-0x3*-0x44+-0x1cd5],this['data'][-0x1*0x18eb+-0x3e4+0x29*0xb4],this['data'][0xb*0x32b+-0xb*-0x44+-0x25bf]);}['getZ'](_0xdcff6d=new T()){return _0xdcff6d['set'](this['data'][0xeed+0x83*0xd+-0x158c],this['data'][-0xc94+-0x2*-0x1234+-0x17cb],this['data'][0xf97*-0x1+0x1f05+-0xf64]);}['getScale'](_0x519ae1=new T()){return this['getX'](ps),this['getY'](Fs),this['getZ'](ks),_0x519ae1['set'](ps['length'](),Fs['length'](),ks['length']()),_0x519ae1;}get['scaleSign'](){return this['getX'](ps),this['getY'](Fs),this['getZ'](ks),ps['cross'](ps,Fs),ps['dot'](ks)<-0x1*0x1869+0x57*0x3b+-0x22e*-0x2?-(0x1b9+0xe3f+-0xff7):-0x22cd+0x1167+0x1167;}['setFromEul'+'erAngles'](_0x22e7f8,_0x15c597,_0x3560d9){_0x22e7f8*=N['DEG_TO_RAD'],_0x15c597*=N['DEG_TO_RAD'],_0x3560d9*=N['DEG_TO_RAD'];const _0x478b3f=Math['sin'](-_0x22e7f8),_0x73a664=Math['cos'](-_0x22e7f8),_0x4762ae=Math['sin'](-_0x15c597),_0x184896=Math['cos'](-_0x15c597),_0x149e49=Math['sin'](-_0x3560d9),_0x2d77fc=Math['cos'](-_0x3560d9),_0x176081=this['data'];return _0x176081[-0x1*0x1206+-0x2b*0xa7+0x23*0x151]=_0x184896*_0x2d77fc,_0x176081[-0xb*0x97+0x12*0x166+0x2*-0x957]=-_0x184896*_0x149e49,_0x176081[0x1*0x17e9+-0x2594+-0x1*-0xdad]=_0x4762ae,_0x176081[-0x1*0x20e3+0x148e+0x4f*0x28]=-0x9*0x393+0x1e12+0x3*0xb3,_0x176081[0x1696+0x148d+0x7*-0x629]=_0x73a664*_0x149e49+_0x2d77fc*_0x478b3f*_0x4762ae,_0x176081[0x7*0x17f+-0x1*-0x17fb+-0x226f]=_0x73a664*_0x2d77fc-_0x478b3f*_0x4762ae*_0x149e49,_0x176081[-0x17*-0xaa+0x15d5+-0xb*0x35f]=-_0x184896*_0x478b3f,_0x176081[0x1f41+0x1*0xc2b+-0x2b65]=-0x1f9+0x21f1*-0x1+0x23ea,_0x176081[0x1b22+0x1663+-0x317d]=_0x478b3f*_0x149e49-_0x73a664*_0x2d77fc*_0x4762ae,_0x176081[0xf25*-0x2+0x2af*-0x7+-0x704*-0x7]=_0x2d77fc*_0x478b3f+_0x73a664*_0x4762ae*_0x149e49,_0x176081[-0x2203+-0x8*0x39b+0x3ee5]=_0x73a664*_0x184896,_0x176081[0x1c*0x4b+-0x2448+0x1*0x1c1f]=-0x20f9*0x1+-0x2*0xd1f+0x3b37,_0x176081[-0x1*-0x232+-0x1863+0x163d]=-0x4*-0x54f+0x1*0x1c55+0x1*-0x3191,_0x176081[-0x191*-0x5+0x1*0x1226+-0x19ee]=-0xefe+-0x338+-0x6f*-0x2a,_0x176081[-0x151f+-0x1906+0x1*0x2e33]=0x8e9*-0x4+-0x1384+-0x3728*-0x1,_0x176081[-0x1*-0xadd+0x2189+-0x1*0x2c57]=-0xaf8+0x191f+0x1*-0xe26,this;}['getEulerAn'+'gles'](_0x21dc12=new T()){this['getScale'](gl);const _0x2a38c6=gl['x'],_0x5b19b9=gl['y'],_0x3ccb74=gl['z'];if(_0x2a38c6===-0x1aad+-0x25d6+0x1*0x4083||_0x5b19b9===0x1a6a+0x38f+-0x1*0x1df9||_0x3ccb74===-0x1*0x19d8+-0x17db+0x31b3)return _0x21dc12['set'](0x1cda+0x1*0xf6d+-0x2c47,-0x1*-0xd83+-0x1e00+0x107d,-0xfc9+-0x1bba+0x2b83);const _0x3534d3=this['data'],_0x4c0daf=Math['asin'](-_0x3534d3[0x1b*-0x1+-0x10d4+0x10f1]/_0x2a38c6),_0x8ff7d8=Math['PI']*(-0x1*0x19+0x215d+0x1*-0x2144+0.5);let _0x596c5b,_0x353ea4;return _0x4c0daf<_0x8ff7d8?_0x4c0daf>-_0x8ff7d8?(_0x596c5b=Math['atan2'](_0x3534d3[0x189d*-0x1+-0x97*-0x40+0x3*-0x45f]/_0x5b19b9,_0x3534d3[-0x1285+0x2*0x9bc+0xe9*-0x1]/_0x3ccb74),_0x353ea4=Math['atan2'](_0x3534d3[-0x1ad7+-0x119a+0x2c72]/_0x2a38c6,_0x3534d3[0x24e2+-0x26b9+0x1d7]/_0x2a38c6)):(_0x353ea4=-0x179a+-0x14f0+0x2c8a,_0x596c5b=-Math['atan2'](_0x3534d3[0x1fe1+0x92a+-0x1b*0x185]/_0x5b19b9,_0x3534d3[-0xe69+-0x29*-0xaf+0x3b*-0x3b]/_0x5b19b9)):(_0x353ea4=0x3f9*0x8+-0x1b07+-0x4c1,_0x596c5b=Math['atan2'](_0x3534d3[0x1e86+-0x45c+-0x2*0xd13]/_0x5b19b9,_0x3534d3[-0x1ab2+0x1*-0xba7+0x132f*0x2]/_0x5b19b9)),_0x21dc12['set'](_0x596c5b,_0x4c0daf,_0x353ea4)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x2*0x129e+0x448+-0x2*0x14c2,0x26d2*0x1+0x1*-0x39c+-0x2*0x119b,-0x74f+-0x4*0x51c+0x1bbf,-0x581*0x1+0x19b*0x1+-0x1*-0x3e6,0x2577+0x1b3+-0x272a,-0x1675+-0x1*-0xed1+0x7a4,0x123a*0x1+-0x5*0x20f+-0x7ef*0x1,0x2*-0x376+-0x1d*-0xdc+0x40*-0x48,0x3a8+-0x1867+0x14bf,0x87f+-0x182e*-0x1+-0x20ad,0x121*0x1a+0x4*0x659+-0x1*0x36be,-0x6dd+-0x2392+0x3*0xe25,0xe00+-0x71d+-0x6e3,0x6f7*-0x1+0x1753+0x4*-0x417,-0xf83+0x3*-0x1f+-0x2*-0x7f0,0x4*0x892+0xc*0xaf+-0x2a7c])));let q=Ur;const oa=class oa{constructor(_0x1c1e6f=0x3*0xfb+-0x843*-0x4+-0x23fd,_0x3379aa=-0x22bc+0x256c+0x2b0*-0x1,_0x91e091=-0x2*-0xa4+-0x29c*0x7+0x10fc,_0x437151=-0x7f*0x3+0x11*0x1d6+-0x1db8){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1c1e6f['length']===0x3e9+-0x34a*-0xb+-0x1*0x2813?(this['x']=_0x1c1e6f[0x25ae+-0x186+-0x2428],this['y']=_0x1c1e6f[0x4e0+0x2221*0x1+-0x2700],this['z']=_0x1c1e6f[-0xc6a+0x16c8+-0xc*0xdd],this['w']=_0x1c1e6f[-0xe69*-0x2+-0x1*0x1336+0x3f*-0x27]):(this['x']=_0x1c1e6f,this['y']=_0x3379aa,this['z']=_0x91e091,this['w']=_0x437151);}['clone'](){const _0x1339ad=this['constructo'+'r'];return new _0x1339ad(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0xdfc72=this){return this['x']=_0xdfc72['x']*-(0x222c+0x664+-0x288f),this['y']=_0xdfc72['y']*-(-0x10*0xc6+0xc7*0x1f+-0xbb8),this['z']=_0xdfc72['z']*-(-0x19ec+-0x1df6+0x37e3),this['w']=_0xdfc72['w'],this;}['copy'](_0x4f1db5){return this['x']=_0x4f1db5['x'],this['y']=_0x4f1db5['y'],this['z']=_0x4f1db5['z'],this['w']=_0x4f1db5['w'],this;}['equals'](_0x55dca7){return this['x']===_0x55dca7['x']&&this['y']===_0x55dca7['y']&&this['z']===_0x55dca7['z']&&this['w']===_0x55dca7['w'];}['equalsAppr'+'ox'](_0x1f2dc5,_0x174882=0x37f*0x8+0x1d39+-0xb*0x533+0.000001){return Math['abs'](this['x']-_0x1f2dc5['x'])<_0x174882&&Math['abs'](this['y']-_0x1f2dc5['y'])<_0x174882&&Math['abs'](this['z']-_0x1f2dc5['z'])<_0x174882&&Math['abs'](this['w']-_0x1f2dc5['w'])<_0x174882;}['getAxisAng'+'le'](_0xcaf10a){let _0x3808bd=Math['acos'](this['w'])*(0x18f7+-0x26d2+0xddd);const _0xcc479d=Math['sin'](_0x3808bd/(0x1d66*-0x1+-0x1f60+0x30a*0x14));return _0xcc479d!==0x1df7+0x1b1*-0xd+-0x7fa?(_0xcaf10a['x']=this['x']/_0xcc479d,_0xcaf10a['y']=this['y']/_0xcc479d,_0xcaf10a['z']=this['z']/_0xcc479d,(_0xcaf10a['x']<-0xd*0x1+-0x5*-0x250+0x7*-0x1a5||_0xcaf10a['y']<-0xc*-0x10+0x623+-0x2b*0x29||_0xcaf10a['z']<-0x144e+0xc92*0x2+-0x4d6)&&(_0xcaf10a['x']*=-(0xecd+-0x1fdf+0x1113),_0xcaf10a['y']*=-(0x637+-0xa79*-0x1+-0x10af),_0xcaf10a['z']*=-(-0x20bd*-0x1+0x4ad+-0x9d*0x3d),_0x3808bd*=-(-0x13b0+0x2e*-0x27+0x1*0x1ab3))):(_0xcaf10a['x']=0xcc7*-0x2+-0x4df+0xbe*0x29,_0xcaf10a['y']=0x1fbe+0x1ee1+-0x3e9f,_0xcaf10a['z']=0xa52+-0x199*-0x3+-0xf1d),_0x3808bd*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x420f8f=new T()){let _0x1e56db,_0x1bab0b,_0x4f14b7;const _0x23abae=this['x'],_0x27a128=this['y'],_0xe59096=this['z'],_0x4e2486=this['w'],_0x4463ae=(-0x14d9+0xa23*0x3+-0x98e)*(_0x4e2486*_0x27a128-_0x23abae*_0xe59096);return _0x4463ae<=-(0x45c+0x1*-0x1f06+0xd55*0x2+0.99999)?(_0x1e56db=(-0x20cf+0x6c*0x4f+0x1*-0x83)*Math['atan2'](_0x23abae,_0x4e2486),_0x1bab0b=-Math['PI']/(-0x10e2+-0x1e*-0x5+0x1*0x104e),_0x4f14b7=0x2268+-0x4ff+0x1d69*-0x1):_0x4463ae>=0x1*-0x25+-0x1*-0xf53+-0xf2e*0x1+0.99999?(_0x1e56db=(0x1dc6*-0x1+0x98c*-0x2+0x30e0)*Math['atan2'](_0x23abae,_0x4e2486),_0x1bab0b=Math['PI']/(-0x23ce+0x4fb+0x1ed5),_0x4f14b7=-0x979+0x4a*-0x20+0x12b9*0x1):(_0x1e56db=Math['atan2']((-0xcb2+0x1*-0x329+0xfdd)*(_0x4e2486*_0x23abae+_0x27a128*_0xe59096),0x2ce+-0x1169+-0x74e*-0x2-(0x1*0x20f9+0x1139+-0x124*0x2c)*(_0x23abae*_0x23abae+_0x27a128*_0x27a128)),_0x1bab0b=Math['asin'](_0x4463ae),_0x4f14b7=Math['atan2']((-0x1300+0xa9a+0x21a*0x4)*(_0x4e2486*_0xe59096+_0x23abae*_0x27a128),-0x191f*-0x1+0xa13*0x1+-0x2331-(0x1*-0x1906+0x1f9+-0x1*-0x170f)*(_0x27a128*_0x27a128+_0xe59096*_0xe59096))),_0x420f8f['set'](_0x1e56db,_0x1bab0b,_0x4f14b7)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x29fa10=this){return this['conjugate'](_0x29fa10)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x33db65){const _0x377552=this['x'],_0x2f25cc=this['y'],_0x3cf100=this['z'],_0xdeb600=this['w'],_0x5bf99e=_0x33db65['x'],_0x4b4f91=_0x33db65['y'],_0x507391=_0x33db65['z'],_0x25c169=_0x33db65['w'];return this['x']=_0xdeb600*_0x5bf99e+_0x377552*_0x25c169+_0x2f25cc*_0x507391-_0x3cf100*_0x4b4f91,this['y']=_0xdeb600*_0x4b4f91+_0x2f25cc*_0x25c169+_0x3cf100*_0x5bf99e-_0x377552*_0x507391,this['z']=_0xdeb600*_0x507391+_0x3cf100*_0x25c169+_0x377552*_0x4b4f91-_0x2f25cc*_0x5bf99e,this['w']=_0xdeb600*_0x25c169-_0x377552*_0x5bf99e-_0x2f25cc*_0x4b4f91-_0x3cf100*_0x507391,this;}['mulScalar'](_0x5cab64,_0x362952=this){return this['x']=_0x362952['x']*_0x5cab64,this['y']=_0x362952['y']*_0x5cab64,this['z']=_0x362952['z']*_0x5cab64,this['w']=_0x362952['w']*_0x5cab64,this;}['mul2'](_0x3d4ba5,_0x24a4fd){const _0x206963=_0x3d4ba5['x'],_0x121bab=_0x3d4ba5['y'],_0x3ddfea=_0x3d4ba5['z'],_0xe3efe5=_0x3d4ba5['w'],_0x39e1b2=_0x24a4fd['x'],_0x220b1d=_0x24a4fd['y'],_0x38e3a4=_0x24a4fd['z'],_0x2b1081=_0x24a4fd['w'];return this['x']=_0xe3efe5*_0x39e1b2+_0x206963*_0x2b1081+_0x121bab*_0x38e3a4-_0x3ddfea*_0x220b1d,this['y']=_0xe3efe5*_0x220b1d+_0x121bab*_0x2b1081+_0x3ddfea*_0x39e1b2-_0x206963*_0x38e3a4,this['z']=_0xe3efe5*_0x38e3a4+_0x3ddfea*_0x2b1081+_0x206963*_0x220b1d-_0x121bab*_0x39e1b2,this['w']=_0xe3efe5*_0x2b1081-_0x206963*_0x39e1b2-_0x121bab*_0x220b1d-_0x3ddfea*_0x38e3a4,this;}['normalize'](_0x6eafa6=this){let _0x1943b4=_0x6eafa6['length']();return _0x1943b4===-0x2228+0x2*-0x2a6+-0x5*-0x7e4?(this['x']=this['y']=this['z']=0xd91*-0x1+-0x1*0x577+0xc*0x196,this['w']=-0x1427+0x2401+-0xfd9):(_0x1943b4=(-0x25*-0xdc+0x194*-0x11+0x1f*-0x29)/_0x1943b4,this['x']=_0x6eafa6['x']*_0x1943b4,this['y']=_0x6eafa6['y']*_0x1943b4,this['z']=_0x6eafa6['z']*_0x1943b4,this['w']=_0x6eafa6['w']*_0x1943b4),this;}['set'](_0x21deb5,_0x13cb97,_0x3495bc,_0x568902){return this['x']=_0x21deb5,this['y']=_0x13cb97,this['z']=_0x3495bc,this['w']=_0x568902,this;}['setFromAxi'+'sAngle'](_0x5df262,_0x6d5135){_0x6d5135*=(0x1673+0xa9c*-0x2+-0x3f*0x5+0.5)*N['DEG_TO_RAD'];const _0x5bb870=Math['sin'](_0x6d5135),_0x5b9a4d=Math['cos'](_0x6d5135);return this['x']=_0x5bb870*_0x5df262['x'],this['y']=_0x5bb870*_0x5df262['y'],this['z']=_0x5bb870*_0x5df262['z'],this['w']=_0x5b9a4d,this;}['setFromEul'+'erAngles'](_0x56a1e9,_0x36be05,_0x6c6dec){if(_0x56a1e9 instanceof T){const _0x4db23b=_0x56a1e9;_0x56a1e9=_0x4db23b['x'],_0x36be05=_0x4db23b['y'],_0x6c6dec=_0x4db23b['z'];}const _0x2ecf14=(0x1cf1+0x3*0x144+-0x11*0x1ed+0.5)*N['DEG_TO_RAD'];_0x56a1e9*=_0x2ecf14,_0x36be05*=_0x2ecf14,_0x6c6dec*=_0x2ecf14;const _0x5572ca=Math['sin'](_0x56a1e9),_0x100be9=Math['cos'](_0x56a1e9),_0x55e8be=Math['sin'](_0x36be05),_0x267f09=Math['cos'](_0x36be05),_0x55dcde=Math['sin'](_0x6c6dec),_0x28569b=Math['cos'](_0x6c6dec);return this['x']=_0x5572ca*_0x267f09*_0x28569b-_0x100be9*_0x55e8be*_0x55dcde,this['y']=_0x100be9*_0x55e8be*_0x28569b+_0x5572ca*_0x267f09*_0x55dcde,this['z']=_0x100be9*_0x267f09*_0x55dcde-_0x5572ca*_0x55e8be*_0x28569b,this['w']=_0x100be9*_0x267f09*_0x28569b+_0x5572ca*_0x55e8be*_0x55dcde,this;}['setFromMat'+'4'](_0x370769){const _0x52a921=_0x370769['data'];let _0x1b8615=_0x52a921[0x1*-0x167f+-0x1c1+0x1840],_0x587cd7=_0x52a921[-0x74f+0x496+0x2ba*0x1],_0x4f2d26=_0x52a921[-0x114*0x4+0x1c4b+-0x17f9],_0x383072=_0x52a921[0x2*0x5e5+-0x3fb*-0x3+0x1*-0x17b7],_0xccd0d2=_0x52a921[-0x2203*0x1+-0xeb*-0x2+0x2032],_0x480ac1=_0x52a921[0x2f*0x32+-0x1*0xa8d+-0x1*-0x165],_0x20feb0=_0x52a921[0xda3*0x1+0x5*0x1ee+-0x1741*0x1],_0x127463=_0x52a921[-0x571+-0x6*-0x342+-0xe12],_0x111eb8=_0x52a921[-0xee4+0xe*0x13e+-0x276],_0x5ab50c;return _0x5ab50c=_0x1b8615*_0x1b8615+_0x587cd7*_0x587cd7+_0x4f2d26*_0x4f2d26,_0x5ab50c===0xed6+-0x10c*0xd+-0x13a?this['set'](0x1*0x1685+0x1*0x6f3+-0x1d78,-0x1*0x479+0x1*-0x837+0xe8*0xe,0x785*0x1+0x406+0x1*-0xb8b,0x55*-0x67+-0x1*-0xd4f+0x1*0x14e5):(_0x5ab50c=(0x832+-0x116+-0x71b)/Math['sqrt'](_0x5ab50c),_0x1b8615*=_0x5ab50c,_0x587cd7*=_0x5ab50c,_0x4f2d26*=_0x5ab50c,_0x5ab50c=_0x383072*_0x383072+_0xccd0d2*_0xccd0d2+_0x480ac1*_0x480ac1,_0x5ab50c===-0xc5+0x2*0xecc+-0x2f*0x9d?this['set'](-0x3cb*0x1+-0x6f*-0xe+-0x247,-0x244b+0x69*-0x43+0x3fc6,0x1382+0x7f6+-0x1b78,-0xddd+0x1f3d+-0x115f):(_0x5ab50c=(0x19*0x53+-0x1*-0x2629+-0x2e43)/Math['sqrt'](_0x5ab50c),_0x383072*=_0x5ab50c,_0xccd0d2*=_0x5ab50c,_0x480ac1*=_0x5ab50c,_0x5ab50c=_0x20feb0*_0x20feb0+_0x127463*_0x127463+_0x111eb8*_0x111eb8,_0x5ab50c===0x1*0x24ad+-0x25be+0x111?this['set'](-0x2*-0xd3f+-0x60c+-0x1472*0x1,0xbf9*0x2+-0x5*-0x82+-0x1a7c,-0x23c1+-0xb84*-0x2+0xcb9,-0x4*-0x198+-0x89b*-0x3+-0x50*0x67):(_0x5ab50c=(0xcf3+-0x35*-0x3f+-0x19fd)/Math['sqrt'](_0x5ab50c),_0x20feb0*=_0x5ab50c,_0x127463*=_0x5ab50c,_0x111eb8*=_0x5ab50c,_0x111eb8<0x1ab1*-0x1+0x24a0+0x9ef*-0x1?_0x1b8615>_0xccd0d2?this['set'](-0x107f+-0x2d1+0x1351+_0x1b8615-_0xccd0d2-_0x111eb8,_0x587cd7+_0x383072,_0x20feb0+_0x4f2d26,_0x480ac1-_0x127463):this['set'](_0x587cd7+_0x383072,-0x17d7+-0x1ef7*0x1+0x36cf-_0x1b8615+_0xccd0d2-_0x111eb8,_0x480ac1+_0x127463,_0x20feb0-_0x4f2d26):_0x1b8615<-_0xccd0d2?this['set'](_0x20feb0+_0x4f2d26,_0x480ac1+_0x127463,-0x1*0x2f3+0xf8+-0x7f*-0x4-_0x1b8615-_0xccd0d2+_0x111eb8,_0x587cd7-_0x383072):this['set'](_0x480ac1-_0x127463,_0x20feb0-_0x4f2d26,_0x587cd7-_0x383072,0x2*-0x1d+-0x88f+-0x1c2*-0x5+_0x1b8615+_0xccd0d2+_0x111eb8),this['mulScalar']((0x3bb+-0x1*-0x196a+0x5*-0x5d4)/this['length']()))));}['setFromDir'+'ections'](_0x53c850,_0x3ce805){const _0xf011ba=-0x65*-0x56+-0x60*0x20+0x15ed*-0x1+_0x53c850['dot'](_0x3ce805);return _0xf011ba<Number['EPSILON']?Math['abs'](_0x53c850['x'])>Math['abs'](_0x53c850['y'])?(this['x']=-_0x53c850['z'],this['y']=-0xb34+0x1e57+-0x1323,this['z']=_0x53c850['x'],this['w']=-0x489+0x0+0x489):(this['x']=-0xd6*-0x1d+-0x24c2+0xc84,this['y']=-_0x53c850['z'],this['z']=_0x53c850['y'],this['w']=0x111f+0xc84+-0x1da3):(this['x']=_0x53c850['y']*_0x3ce805['z']-_0x53c850['z']*_0x3ce805['y'],this['y']=_0x53c850['z']*_0x3ce805['x']-_0x53c850['x']*_0x3ce805['z'],this['z']=_0x53c850['x']*_0x3ce805['y']-_0x53c850['y']*_0x3ce805['x'],this['w']=_0xf011ba),this['normalize']();}['slerp'](_0x9e8e6,_0x202301,_0x36347f){const _0x2ee78c=_0x9e8e6['x'],_0x3e2dd0=_0x9e8e6['y'],_0x17e593=_0x9e8e6['z'],_0x4c997e=_0x9e8e6['w'];let _0x5dd19b=_0x202301['x'],_0x480391=_0x202301['y'],_0x2eada9=_0x202301['z'],_0x3a7e54=_0x202301['w'],_0x692132=_0x4c997e*_0x3a7e54+_0x2ee78c*_0x5dd19b+_0x3e2dd0*_0x480391+_0x17e593*_0x2eada9;if(_0x692132<0x136f+-0x1*-0xe59+-0x21c8&&(_0x3a7e54=-_0x3a7e54,_0x5dd19b=-_0x5dd19b,_0x480391=-_0x480391,_0x2eada9=-_0x2eada9,_0x692132=-_0x692132),Math['abs'](_0x692132)>=0x1*0x182+-0x70+-0x111)return this['w']=_0x4c997e,this['x']=_0x2ee78c,this['y']=_0x3e2dd0,this['z']=_0x17e593,this;const _0x401f8b=Math['acos'](_0x692132),_0x413752=Math['sqrt'](0x1*0x493+0x13b7+0x1*-0x1849-_0x692132*_0x692132);if(Math['abs'](_0x413752)<-0xeb2+-0xbc0+-0x1*-0x1a72+0.001)return this['w']=_0x4c997e*(0x173c+0x2b*0xb5+-0x35a3+0.5)+_0x3a7e54*(-0x2649+-0x1*0xe35+0x347e+0.5),this['x']=_0x2ee78c*(-0x13*0x94+0x157d+-0x1*0xa81+0.5)+_0x5dd19b*(-0x1205+-0x1*0x198b+0x2b90+0.5),this['y']=_0x3e2dd0*(-0x136a+0x2*-0xdc3+0x2ef0+0.5)+_0x480391*(0x1ac9+0x1b4*0x16+-0x4041*0x1+0.5),this['z']=_0x17e593*(-0x115*0xd+0x5*-0x599+0x1*0x2a0e+0.5)+_0x2eada9*(0x1eaa+-0x783+-0x1727+0.5),this;const _0x1c38e6=Math['sin']((0x211a+0x6*-0x3ca+-0xa5d-_0x36347f)*_0x401f8b)/_0x413752,_0x4d248b=Math['sin'](_0x36347f*_0x401f8b)/_0x413752;return this['w']=_0x4c997e*_0x1c38e6+_0x3a7e54*_0x4d248b,this['x']=_0x2ee78c*_0x1c38e6+_0x5dd19b*_0x4d248b,this['y']=_0x3e2dd0*_0x1c38e6+_0x480391*_0x4d248b,this['z']=_0x17e593*_0x1c38e6+_0x2eada9*_0x4d248b,this;}['transformV'+'ector'](_0x5e5439,_0x4663a9=new T()){const _0x30b011=_0x5e5439['x'],_0x1d7edf=_0x5e5439['y'],_0x3007f0=_0x5e5439['z'],_0x471984=this['x'],_0x342ccc=this['y'],_0x10c330=this['z'],_0x1fdcdb=this['w'],_0x671a34=_0x1fdcdb*_0x30b011+_0x342ccc*_0x3007f0-_0x10c330*_0x1d7edf,_0x37f84d=_0x1fdcdb*_0x1d7edf+_0x10c330*_0x30b011-_0x471984*_0x3007f0,_0x155e0a=_0x1fdcdb*_0x3007f0+_0x471984*_0x1d7edf-_0x342ccc*_0x30b011,_0x550674=-_0x471984*_0x30b011-_0x342ccc*_0x1d7edf-_0x10c330*_0x3007f0;return _0x4663a9['x']=_0x671a34*_0x1fdcdb+_0x550674*-_0x471984+_0x37f84d*-_0x10c330-_0x155e0a*-_0x342ccc,_0x4663a9['y']=_0x37f84d*_0x1fdcdb+_0x550674*-_0x342ccc+_0x155e0a*-_0x471984-_0x671a34*-_0x10c330,_0x4663a9['z']=_0x155e0a*_0x1fdcdb+_0x550674*-_0x10c330+_0x671a34*-_0x342ccc-_0x37f84d*-_0x471984,_0x4663a9;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(oa,'IDENTITY',Object['freeze'](new oa(0x1cff+-0x2*-0xdf+-0x81*0x3d,0x457*0x3+-0x69e+0x95*-0xb,0x2*-0x2d+-0x2*0xb00+0x165a,-0x27*0x9+0xa84+-0x924))),c(oa,'ZERO',Object['freeze'](new oa(0x6d0+-0x1b70*0x1+0x14a0,-0x11e1+-0x14bb+-0x161*-0x1c,-0x14fc+-0x1*-0x4e8+0x1014,-0x1384+0x4*0xc1+-0x180*-0xb)));let te=oa;const bn=new T(),wn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x3398fe,_0x58a551){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(0x22e7+0xc7*-0x5+0xa*-0x31a+0.5,-0x2396+-0x55c*-0x7+-0x1ee+0.5,0x2*0x745+0x1e*0xed+-0x2a50+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x3398fe&&this['center']['copy'](_0x3398fe),_0x58a551&&this['halfExtent'+'s']['copy'](_0x58a551));}['add'](_0x1790d7){const _0x3eb50d=this['center'],_0x42ec5b=_0x3eb50d['x'],_0x13f9be=_0x3eb50d['y'],_0x2aefe5=_0x3eb50d['z'],_0x329f60=this['halfExtent'+'s'],_0xca0aa3=_0x329f60['x'],_0x5e0a8f=_0x329f60['y'],_0xa7cc91=_0x329f60['z'];let _0x5cdf31=_0x42ec5b-_0xca0aa3,_0x1c0d23=_0x42ec5b+_0xca0aa3,_0x2c77e3=_0x13f9be-_0x5e0a8f,_0x25e5c4=_0x13f9be+_0x5e0a8f,_0x457dc3=_0x2aefe5-_0xa7cc91,_0x4b10e0=_0x2aefe5+_0xa7cc91;const _0x31e38d=_0x1790d7['center'],_0x466a8d=_0x31e38d['x'],_0x286205=_0x31e38d['y'],_0x3a1f5b=_0x31e38d['z'],_0x7e9966=_0x1790d7['halfExtent'+'s'],_0xbb0be2=_0x7e9966['x'],_0x20c608=_0x7e9966['y'],_0x30c677=_0x7e9966['z'],_0x32bca6=_0x466a8d-_0xbb0be2,_0xfbddf7=_0x466a8d+_0xbb0be2,_0x10ebc1=_0x286205-_0x20c608,_0x1ba161=_0x286205+_0x20c608,_0x3b828a=_0x3a1f5b-_0x30c677,_0x1b39b5=_0x3a1f5b+_0x30c677;_0x32bca6<_0x5cdf31&&(_0x5cdf31=_0x32bca6),_0xfbddf7>_0x1c0d23&&(_0x1c0d23=_0xfbddf7),_0x10ebc1<_0x2c77e3&&(_0x2c77e3=_0x10ebc1),_0x1ba161>_0x25e5c4&&(_0x25e5c4=_0x1ba161),_0x3b828a<_0x457dc3&&(_0x457dc3=_0x3b828a),_0x1b39b5>_0x4b10e0&&(_0x4b10e0=_0x1b39b5),_0x3eb50d['x']=(_0x5cdf31+_0x1c0d23)*(-0xbc*-0x1+-0x5*-0x62f+-0x1fa7+0.5),_0x3eb50d['y']=(_0x2c77e3+_0x25e5c4)*(-0x3*-0x9c6+0x1048+-0x1a*0x1c1+0.5),_0x3eb50d['z']=(_0x457dc3+_0x4b10e0)*(-0x21a1*-0x1+-0x125*0x3+-0xa*0x305+0.5),_0x329f60['x']=(_0x1c0d23-_0x5cdf31)*(0x2*0x100f+0xf11+-0x101*0x2f+0.5),_0x329f60['y']=(_0x25e5c4-_0x2c77e3)*(-0x26c9+0x2*0x10b5+-0x19*-0x37+0.5),_0x329f60['z']=(_0x4b10e0-_0x457dc3)*(0x1692+-0x125*0x7+-0xe8f+0.5);}['copy'](_0x17d82b){this['center']['copy'](_0x17d82b['center']),this['halfExtent'+'s']['copy'](_0x17d82b['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x2b8a16){const _0x3c7b2a=this['getMax'](),_0x983c62=this['getMin'](),_0x3a3a34=_0x2b8a16['getMax'](),_0x544ca4=_0x2b8a16['getMin']();return _0x983c62['x']<=_0x3a3a34['x']&&_0x3c7b2a['x']>=_0x544ca4['x']&&_0x983c62['y']<=_0x3a3a34['y']&&_0x3c7b2a['y']>=_0x544ca4['y']&&_0x983c62['z']<=_0x3a3a34['z']&&_0x3c7b2a['z']>=_0x544ca4['z'];}['_intersect'+'sRay'](_0x4dff4a,_0x4acfef){const _0x4ebf92=bn['copy'](this['getMin']())['sub'](_0x4dff4a['origin']),_0x13e03b=wn['copy'](this['getMax']())['sub'](_0x4dff4a['origin']),_0x43ea40=_0x4dff4a['direction'];_0x43ea40['x']===0x165e+0x166f+-0x2ccd?(_0x4ebf92['x']=_0x4ebf92['x']<-0xd3*-0xb+-0x19*0x4+-0x8ad?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x13e03b['x']=_0x13e03b['x']<0x4*-0x41b+-0x3*-0x17e+0xbf2?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4ebf92['x']/=_0x43ea40['x'],_0x13e03b['x']/=_0x43ea40['x']),_0x43ea40['y']===-0x1811+-0x21*0xfe+0x38cf?(_0x4ebf92['y']=_0x4ebf92['y']<0xe26+-0x1*0x16f7+0x1*0x8d1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x13e03b['y']=_0x13e03b['y']<-0x1b01+0x826+-0x649*-0x3?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4ebf92['y']/=_0x43ea40['y'],_0x13e03b['y']/=_0x43ea40['y']),_0x43ea40['z']===0x24ea+-0x13*-0x14a+-0x3d68?(_0x4ebf92['z']=_0x4ebf92['z']<-0x570+0x119+0x457?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x13e03b['z']=_0x13e03b['z']<-0x1537+0x24a6*-0x1+0x39dd?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4ebf92['z']/=_0x43ea40['z'],_0x13e03b['z']/=_0x43ea40['z']);const _0x34bd7e=nm['set'](Math['min'](_0x4ebf92['x'],_0x13e03b['x']),Math['min'](_0x4ebf92['y'],_0x13e03b['y']),Math['min'](_0x4ebf92['z'],_0x13e03b['z'])),_0x143c54=am['set'](Math['max'](_0x4ebf92['x'],_0x13e03b['x']),Math['max'](_0x4ebf92['y'],_0x13e03b['y']),Math['max'](_0x4ebf92['z'],_0x13e03b['z'])),_0x17d7b4=Math['min'](Math['min'](_0x143c54['x'],_0x143c54['y']),_0x143c54['z']),_0xaf52c2=Math['max'](Math['max'](_0x34bd7e['x'],_0x34bd7e['y']),_0x34bd7e['z']),_0x1583a1=_0x17d7b4>=_0xaf52c2&&_0xaf52c2>=-0x224f*0x1+0x577+0x68*0x47;return _0x1583a1&&_0x4acfef['copy'](_0x4dff4a['direction'])['mulScalar'](_0xaf52c2)['add'](_0x4dff4a['origin']),_0x1583a1;}['_fastInter'+'sectsRay'](_0x34f0a9){const _0x30344e=bn,_0x3e4e4a=wn,_0xa39b5c=nm,_0x487d4f=am,_0x326966=vS,_0x1b38b2=_0x34f0a9['direction'];return _0x30344e['sub2'](_0x34f0a9['origin'],this['center']),_0x487d4f['set'](Math['abs'](_0x30344e['x']),Math['abs'](_0x30344e['y']),Math['abs'](_0x30344e['z'])),_0xa39b5c['mul2'](_0x30344e,_0x1b38b2),!(_0x487d4f['x']>this['halfExtent'+'s']['x']&&_0xa39b5c['x']>=0x2643+-0x18e+-0x24b5*0x1||_0x487d4f['y']>this['halfExtent'+'s']['y']&&_0xa39b5c['y']>=0xc5*-0x2e+-0x17*0x31+-0x17*-0x1bb||_0x487d4f['z']>this['halfExtent'+'s']['z']&&_0xa39b5c['z']>=0x232b+-0x143+-0x21e8||(_0x326966['set'](Math['abs'](_0x1b38b2['x']),Math['abs'](_0x1b38b2['y']),Math['abs'](_0x1b38b2['z'])),_0x3e4e4a['cross'](_0x1b38b2,_0x30344e),_0x3e4e4a['set'](Math['abs'](_0x3e4e4a['x']),Math['abs'](_0x3e4e4a['y']),Math['abs'](_0x3e4e4a['z'])),_0x3e4e4a['x']>this['halfExtent'+'s']['y']*_0x326966['z']+this['halfExtent'+'s']['z']*_0x326966['y'])||_0x3e4e4a['y']>this['halfExtent'+'s']['x']*_0x326966['z']+this['halfExtent'+'s']['z']*_0x326966['x']||_0x3e4e4a['z']>this['halfExtent'+'s']['x']*_0x326966['y']+this['halfExtent'+'s']['y']*_0x326966['x']);}['intersects'+'Ray'](_0x349ac2,_0x386df6){return _0x386df6?this['_intersect'+'sRay'](_0x349ac2,_0x386df6):this['_fastInter'+'sectsRay'](_0x349ac2);}['setMinMax'](_0x24d2ee,_0x4517e5){this['center']['add2'](_0x4517e5,_0x24d2ee)['mulScalar'](-0xefb+-0x3*-0x1f7+0x916+0.5),this['halfExtent'+'s']['sub2'](_0x4517e5,_0x24d2ee)['mulScalar'](-0x1a4+0x4e9*0x1+0x5d*-0x9+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x3207ab){const _0x503a57=this['getMin'](),_0x1b468c=this['getMax']();return!(_0x3207ab['x']<_0x503a57['x']||_0x3207ab['x']>_0x1b468c['x']||_0x3207ab['y']<_0x503a57['y']||_0x3207ab['y']>_0x1b468c['y']||_0x3207ab['z']<_0x503a57['z']||_0x3207ab['z']>_0x1b468c['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x51b2ed,_0x466b39,_0x55181e=!(0x19*-0x2b+0x15a1*0x1+-0x116d)){const _0x389bc6=_0x51b2ed['center'],_0x351965=_0x51b2ed['halfExtent'+'s'],_0x3a13d6=_0x466b39['data'];let _0x377d74=_0x3a13d6[-0x1e76*0x1+0x17e3+0x693*0x1],_0x2c4c58=_0x3a13d6[-0xaa+0x1*0x1b5f+-0x1ab1],_0x41d2b0=_0x3a13d6[0x1*-0x9+0x225b+-0x224a],_0xf7903e=_0x3a13d6[0x106f+0x85+0x1*-0x10f3],_0x4f9978=_0x3a13d6[0x2e1*-0x9+-0x1*-0x1922+0x6*0x22],_0x4ad29c=_0x3a13d6[0x1d7f+0x1a51+0x37c7*-0x1],_0x1886da=_0x3a13d6[-0x5*0x1c1+0x1f2+0x6d5],_0x360220=_0x3a13d6[0xc5*-0x24+-0x265a+0x1085*0x4],_0x4109d7=_0x3a13d6[-0x21*0x1d+0xec4+-0xafd];if(_0x55181e){let _0xd64b89=_0x377d74*_0x377d74+_0x2c4c58*_0x2c4c58+_0x41d2b0*_0x41d2b0;if(_0xd64b89>-0x1d57*-0x1+0x11*0x1a9+-0x3990){const _0xc802a5=(-0x14d1+0x1169+-0x61*-0x9)/Math['sqrt'](_0xd64b89);_0x377d74*=_0xc802a5,_0x2c4c58*=_0xc802a5,_0x41d2b0*=_0xc802a5;}if(_0xd64b89=_0xf7903e*_0xf7903e+_0x4f9978*_0x4f9978+_0x4ad29c*_0x4ad29c,_0xd64b89>-0x19f4+-0x2*-0x1010+-0x62c){const _0x1f1ecd=(-0x8b7+-0x3*-0x815+-0xf87)/Math['sqrt'](_0xd64b89);_0xf7903e*=_0x1f1ecd,_0x4f9978*=_0x1f1ecd,_0x4ad29c*=_0x1f1ecd;}if(_0xd64b89=_0x1886da*_0x1886da+_0x360220*_0x360220+_0x4109d7*_0x4109d7,_0xd64b89>0x206+-0x1c4*-0x16+-0x28de){const _0x1a3971=(0x1*-0x1192+-0x20b4+0x3247)/Math['sqrt'](_0xd64b89);_0x1886da*=_0x1a3971,_0x360220*=_0x1a3971,_0x4109d7*=_0x1a3971;}}this['center']['set'](_0x3a13d6[-0x926+0x1db9+0x5*-0x41b]+_0x377d74*_0x389bc6['x']+_0x2c4c58*_0x389bc6['y']+_0x41d2b0*_0x389bc6['z'],_0x3a13d6[0xd*0x242+0x208b+-0x3dd8]+_0xf7903e*_0x389bc6['x']+_0x4f9978*_0x389bc6['y']+_0x4ad29c*_0x389bc6['z'],_0x3a13d6[0x3d7*-0x1+0x3*0x171+-0x6e]+_0x1886da*_0x389bc6['x']+_0x360220*_0x389bc6['y']+_0x4109d7*_0x389bc6['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x377d74)*_0x351965['x']+Math['abs'](_0x2c4c58)*_0x351965['y']+Math['abs'](_0x41d2b0)*_0x351965['z'],Math['abs'](_0xf7903e)*_0x351965['x']+Math['abs'](_0x4f9978)*_0x351965['y']+Math['abs'](_0x4ad29c)*_0x351965['z'],Math['abs'](_0x1886da)*_0x351965['x']+Math['abs'](_0x360220)*_0x351965['y']+Math['abs'](_0x4109d7)*_0x351965['z']);}static['computeMin'+'Max'](_0x4d4596,_0x13b846,_0x3e2f24,_0x153c97=_0x4d4596['length']/(0x1*0xc8+-0x11*0x13b+0x2*0xa13)){if(_0x153c97>-0x2ad*-0x5+-0x1c6b+0x15e*0xb){let _0x2548ed=_0x4d4596[0xce*-0x2+-0x207a*0x1+-0x2216*-0x1],_0x4341c1=_0x4d4596[0x2521*-0x1+0x9*-0x441+0x4b6b],_0x1027ad=_0x4d4596[0xb*-0x31e+0xc45+0x1607],_0x50d960=_0x2548ed,_0x5b5e91=_0x4341c1,_0x51189f=_0x1027ad;const _0x5f4fe4=_0x153c97*(0x13*0xa1+-0xae3+-0x10d);for(let _0x2a3e04=0x2c5*0x1+0x2a*0xbd+-0x21c4;_0x2a3e04<_0x5f4fe4;_0x2a3e04+=0x26b1+-0x1c47+-0x1*0xa67){const _0xb7b606=_0x4d4596[_0x2a3e04],_0x3637fe=_0x4d4596[_0x2a3e04+(0x20e4+-0x7*0x31d+-0x14*0x8e)],_0x39572b=_0x4d4596[_0x2a3e04+(0x12a4+0x1*-0x1d4b+0xaa9)];_0xb7b606<_0x2548ed&&(_0x2548ed=_0xb7b606),_0x3637fe<_0x4341c1&&(_0x4341c1=_0x3637fe),_0x39572b<_0x1027ad&&(_0x1027ad=_0x39572b),_0xb7b606>_0x50d960&&(_0x50d960=_0xb7b606),_0x3637fe>_0x5b5e91&&(_0x5b5e91=_0x3637fe),_0x39572b>_0x51189f&&(_0x51189f=_0x39572b);}_0x13b846['set'](_0x2548ed,_0x4341c1,_0x1027ad),_0x3e2f24['set'](_0x50d960,_0x5b5e91,_0x51189f);}}['compute'](_0x530d4c,_0x15c517){_e['computeMin'+'Max'](_0x530d4c,bn,wn,_0x15c517),this['setMinMax'](bn,wn);}['intersects'+'BoundingSp'+'here'](_0x30cc4c){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x30cc4c)<=_0x30cc4c['radius']*_0x30cc4c['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x454b9e){const _0x30e108=this['getMin'](),_0x39b75d=this['getMax']();let _0x1d26c9=-0x7*-0x40f+0x1*0x1ef9+0x566*-0xb;const _0x5cd6b8=['x','y','z'];for(let _0x18d1e2=-0x1b7+0x165*0x7+-0x80c;_0x18d1e2<-0x1*-0x80f+-0x4e7+0x17*-0x23;++_0x18d1e2){let _0x313751=-0x1*0xfa9+0x1*-0x23e2+0x338b;const _0x4aabf2=_0x454b9e['center'][_0x5cd6b8[_0x18d1e2]],_0x2860ec=_0x30e108[_0x5cd6b8[_0x18d1e2]],_0x2bf8b5=_0x39b75d[_0x5cd6b8[_0x18d1e2]];let _0x5bde5d=-0x88c+0xef*0x1f+-0x1465;_0x4aabf2<_0x2860ec&&(_0x5bde5d=_0x2860ec-_0x4aabf2,_0x313751+=_0x5bde5d*_0x5bde5d),_0x4aabf2>_0x2bf8b5&&(_0x5bde5d=_0x4aabf2-_0x2bf8b5,_0x313751+=_0x5bde5d*_0x5bde5d),_0x1d26c9+=_0x313751;}return _0x1d26c9;}['_expand'](_0x2d0350,_0x29f939){bn['add2'](this['getMin'](),_0x2d0350),wn['add2'](this['getMax'](),_0x29f939),this['setMinMax'](bn,wn);}}const yl=new T(),bS=new T();class Ff{constructor(_0xe5c046=new T(),_0x300ce0=-0x246+-0xd3d+0xf83+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0xe5c046),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0xe5c046,this['radius']=_0x300ce0);}['containsPo'+'int'](_0x163d29){const _0x33b38d=yl['sub2'](_0x163d29,this['center'])['lengthSq'](),_0x2f6d6b=this['radius'];return _0x33b38d<_0x2f6d6b*_0x2f6d6b;}['intersects'+'Ray'](_0x590bd1,_0x2716a1){const _0x1b1f28=yl['copy'](_0x590bd1['origin'])['sub'](this['center']),_0x11cd18=_0x1b1f28['dot'](bS['copy'](_0x590bd1['direction'])['normalize']()),_0x2bc3e0=_0x1b1f28['dot'](_0x1b1f28)-this['radius']*this['radius'];if(_0x2bc3e0>-0x97*-0x5+-0x9*0x125+0x75a&&_0x11cd18>-0x9d*-0x29+0x1200+-0x2b25)return!(0x1*0x142f+-0x23a4+0xf76*0x1);const _0x262bca=_0x11cd18*_0x11cd18-_0x2bc3e0;if(_0x262bca<0xeb0+-0x11*0x6a+0x3d3*-0x2)return!(0x1994+-0x2cc+-0x16c7*0x1);const _0x5a22df=Math['abs'](-_0x11cd18-Math['sqrt'](_0x262bca));return _0x2716a1&&_0x2716a1['copy'](_0x590bd1['direction'])['mulScalar'](_0x5a22df)['add'](_0x590bd1['origin']),!(0xb90+0xdf9+-0x1989);}['intersects'+'BoundingSp'+'here'](_0xc71cad){yl['sub2'](_0xc71cad['center'],this['center']);const _0x120070=_0xc71cad['radius']+this['radius'];return yl['lengthSq']()<=_0x120070*_0x120070;}}class hy{constructor(_0x2e3390=T['UP'],_0x1cc83a=-0x2417*0x1+-0x4*-0x610+0xbd7){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x2e3390),this['distance']=_0x1cc83a);}['clone'](){const _0x1dcecb=this['constructo'+'r'];return new _0x1dcecb()['copy'](this);}['copy'](_0x2a0ca2){return this['normal']['copy'](_0x2a0ca2['normal']),this['distance']=_0x2a0ca2['distance'],this;}['intersects'+'Line'](_0x4087e8,_0x48fcb5,_0x2f80a1){const _0x3bdc1d=this['distance'],_0x143fa2=this['normal']['dot'](_0x4087e8)+_0x3bdc1d,_0x4cac5b=this['normal']['dot'](_0x48fcb5)+_0x3bdc1d,_0x8eb1f2=_0x143fa2/(_0x143fa2-_0x4cac5b),_0x43b9ee=_0x8eb1f2>=0x1ccb+0x3*-0x4fe+-0x189*0x9&&_0x8eb1f2<=0x1*0x15b+0x1108+-0x1262;return _0x43b9ee&&_0x2f80a1&&_0x2f80a1['lerp'](_0x4087e8,_0x48fcb5,_0x8eb1f2),_0x43b9ee;}['intersects'+'Ray'](_0x17f0ab,_0x47e0ec){const _0x4e99c7=this['normal']['dot'](_0x17f0ab['direction']);if(_0x4e99c7===0x1840+0xbf3+-0x2433)return!(0x81*-0x10+-0x1*-0x24af+-0x1*0x1c9e);const _0x1432cd=-(this['normal']['dot'](_0x17f0ab['origin'])+this['distance'])/_0x4e99c7;return _0x1432cd>=0x9a2+0x238a+-0x2*0x1696&&_0x47e0ec&&_0x47e0ec['copy'](_0x17f0ab['direction'])['mulScalar'](_0x1432cd)['add'](_0x17f0ab['origin']),_0x1432cd>=-0x1b8b*0x1+0xe90+0xcfb;}['normalize'](){const _0x51518b=(-0x283*-0xd+0x1b3b+-0x1*0x3be1)/this['normal']['length']();return this['normal']['mulScalar'](_0x51518b),this['distance']*=_0x51518b,this;}['set'](_0x396755,_0x58c0ae,_0x57e640,_0x4dd307){return this['normal']['set'](_0x396755,_0x58c0ae,_0x57e640),this['distance']=_0x4dd307,this;}['setFromPoi'+'ntNormal'](_0x4bf922,_0x150b78){return this['normal']['copy'](_0x150b78),this['distance']=-this['normal']['dot'](_0x4bf922),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x179bf7=0x1e24+0x1d81+-0x3ba5;_0x179bf7<-0x2*-0xd10+-0x8e*-0x15+-0x25c0;_0x179bf7++)this['planes'][_0x179bf7]=new hy();}['clone'](){const _0x41d937=this['constructo'+'r'];return new _0x41d937()['copy'](this);}['copy'](_0x2a2872){for(let _0x20018a=0x10f*0x9+-0x10c5*0x1+0x9*0xce;_0x20018a<-0x1*0x1091+0xeee+-0x1a9*-0x1;_0x20018a++)this['planes'][_0x20018a]['copy'](_0x2a2872['planes'][_0x20018a]);return this;}['setFromMat'+'4'](_0x1eb5bd){const [_0x4bb295,_0x2e6ec9,_0x48937a,_0x41d583,_0x3e053d,_0x26986f,_0x12bdfe,_0x411c4d,_0x1bac42,_0x2bcf7f,_0x5d2fa0,_0x4bd7a8,_0x139b1a,_0x47b034,_0x5d08b3,_0x5d2837]=_0x1eb5bd['data'],_0x17f80b=this['planes'];_0x17f80b[-0x33a+-0x42*0x67+0xee4*0x2]['set'](_0x41d583-_0x4bb295,_0x411c4d-_0x3e053d,_0x4bd7a8-_0x1bac42,_0x5d2837-_0x139b1a)['normalize'](),_0x17f80b[-0xa72*0x1+-0x1112+-0x1*-0x1b85]['set'](_0x41d583+_0x4bb295,_0x411c4d+_0x3e053d,_0x4bd7a8+_0x1bac42,_0x5d2837+_0x139b1a)['normalize'](),_0x17f80b[-0x259*0x2+-0x1f0b+0x23bf]['set'](_0x41d583+_0x2e6ec9,_0x411c4d+_0x26986f,_0x4bd7a8+_0x2bcf7f,_0x5d2837+_0x47b034)['normalize'](),_0x17f80b[0x2a1*0x2+-0x2*-0xaee+-0x1b1b]['set'](_0x41d583-_0x2e6ec9,_0x411c4d-_0x26986f,_0x4bd7a8-_0x2bcf7f,_0x5d2837-_0x47b034)['normalize'](),_0x17f80b[-0x107b*0x2+0xe5*-0x3+0x219*0x11]['set'](_0x41d583-_0x48937a,_0x411c4d-_0x12bdfe,_0x4bd7a8-_0x5d2fa0,_0x5d2837-_0x5d08b3)['normalize'](),_0x17f80b[-0x11*0x232+0x1db3+-0x3*-0x28c]['set'](_0x41d583+_0x48937a,_0x411c4d+_0x12bdfe,_0x4bd7a8+_0x5d2fa0,_0x5d2837+_0x5d08b3)['normalize']();}['containsPo'+'int'](_0x2e3a3b){for(let _0x5bdf10=-0x1*0x1439+0xcd*-0x3+0x16a0;_0x5bdf10<0x211f+-0x4*0x8d+0x1ee5*-0x1;_0x5bdf10++){const {normal:_0x1b82c,distance:_0x4656dc}=this['planes'][_0x5bdf10];if(_0x1b82c['dot'](_0x2e3a3b)+_0x4656dc<=-0x13c6*0x1+0x1*0x11a8+0x21e)return!(-0xef*0x8+-0x265*0x5+0x1372);}return!(-0x667+-0x1f91+0x25f8);}['containsSp'+'here'](_0x4d02a0){const {center:_0x4ec222,radius:_0x26fd9b}=_0x4d02a0;let _0x5031e4=0x472+-0x1bef+-0x35b*-0x7;for(let _0x114f30=0x19*0x7+0x2c5*0x7+0x2*-0xa09;_0x114f30<-0x4*0x5d4+0x16c9+0x1*0x8d;_0x114f30++){const {normal:_0x789dcf,distance:_0xf0bd99}=this['planes'][_0x114f30],_0x2afdb2=_0x789dcf['dot'](_0x4ec222)+_0xf0bd99;if(_0x2afdb2<=-_0x26fd9b)return 0x2*0x2e+0xe51+-0x1*0xead;_0x2afdb2>_0x26fd9b&&_0x5031e4++;}return _0x5031e4===0x230f+-0x243b+0x99*0x2?0x17f9*-0x1+-0x1a0e+0x3209:-0x1e1b+0x33b*0x2+0x7e2*0x3;}}class fu{constructor(_0x5ed8d3,_0x2146b4){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x5ed8d3&&this['origin']['copy'](_0x5ed8d3),_0x2146b4&&this['direction']['copy'](_0x2146b4));}['set'](_0x51ba38,_0x1ad379){return this['origin']['copy'](_0x51ba38),this['direction']['copy'](_0x1ad379),this;}['copy'](_0x132800){return this['set'](_0x132800['origin'],_0x132800['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const dc='linear',kf='inverse',cy='exponentia'+'l',et=0x420*0x8+0x260e*-0x1+0x50e*0x1,ne=-0x753*0x3+-0x1a7c+0x3076,Of=0x72d+0xca7+0x2*-0x9e9,Bf=-0x1*-0x2229+-0x207e+0x1ab*-0x1,nt=0x17d9+0xe*0xd3+-0x7*0x50e,TS=-0xce*0x13+0xb25+0x427*0x1,dy=0x1f61+0x109*0x19+-0x393e,AS=0x3*-0xa41+0x24f2+0x3*-0x20e,uc=0x82*-0x33+0xcd*0x1f+-0x1*-0x119,fc=0x1*0x9e3+0x2421+-0x2dfc,Ft=-0x1*-0x1c8f+-0x16*-0x115+-0x1*0x345d,CS=0x1*0x641+-0x720+0xe1,ES=-0x236+0x1b4b+-0x1912,MS=-0x2*-0x556+-0x1be7*0x1+0x113f,Kt=-0x118e+-0x233f+0x34cd,Ah=-0x6*-0x133+0x184f+-0x1f80,uy=0x71a*-0x2+0xdae*-0x1+-0x1fe*-0xe,PS=-0x1382+0x521+-0xe64*-0x1,Eo=0x9e9+0x15be+-0x1fa6,Mo=0x845+0x80e*-0x2+0x7d9,Ch=-0xc21*0x3+-0x4b2*0x8+-0x49f7*-0x1,mt=-0x1313+0x2*0x9e6+-0xb9,rn=-0x5d*-0x25+0x219c*-0x1+0x142c*0x1,mo=-0x1f*-0x7e+0x2140+-0x3080,RS=0x8ee+0x38b*0x3+-0x342*0x6,de=0x128+0x25e8+-0x2710,tt=0x1*-0x249d+-0xe82+-0x664*-0x8,pc=-0xd*0xef+-0xb*-0x12d+-0x1*0xca,mc=-0xcfe+0x1e08+-0x1107,_c=0x29*-0x9a+-0x49*0x40+0x2aee,nn=-0x418*-0x1+0x259*0x7+-0x1482,IS=0x2*-0x125f+0x2b3*0xb+0x70d,Eh=0x2480+0x18e5+-0x3d64,Mh=-0x1*-0x1d5f+0x1*-0x2624+0x8c7,pu=-0x216*-0x4+0x14a3+-0x1cf8,DS=0x2f*-0x14+-0x1b62+0x1f12,LS=0xd*-0x28d+-0x1*-0x13f9+0xd35,FS=0x892*-0x4+0x42c*0x7+-0x2*-0x28d,Ei=0x37*0x2b+0x1e03+-0x3*0xd13,mu=0xd47*-0x2+-0x1788+-0x859*-0x6,Ii=0x1973+-0x10d7+-0x89b,ar=0x103d+0x202c+-0x3067,fy=0x1e2+-0x16ca+0x14e8,py=-0x25*0x8d+-0x279+-0x16db*-0x1,Nf=-0x13c5+0xa1*0x3b+0x4*-0x455,gc=0x1*0x114a+0x2*0x42b+-0x199d,zf=0x2d*-0x41+-0xb40+0x16b1,yc=-0x1b7b+-0xa*-0x305+-0x2b2,dr=-0x1226+0x7f9+0xa33,Se=0xae*0x2e+-0x5d4+0x515*-0x5,xc=-0x4e0+0x1*0xb93+-0x3*0x239,Uf=-0x1f59+0xb77+0x13eb,$o=0xf5*-0x7+0x265+0x458,Sc=0xbd5*-0x3+0x21c3*-0x1+0x454d,Qe=0x72*0x14+0x1c41+0xc5f*-0x3,vc=0xcbe*-0x2+0x10*0x26+0x7*0x34f,Ye=0x1*0xaaf+0x1*0x175d+-0x21fe,Li=-0x6b0+-0x3*-0xaff+-0x1a3e,Pi=0xbbb+-0x1f45+0x139a,bc=-0x1423+0x14c6+-0x92,ga=-0x3*-0xb55+-0xcbe+-0x13f*0x11,Vf=0xfd3+0x56e+-0x152e,as=0xe92*-0x1+0x409*0x6+0x4c8*-0x2,wc=-0x5*0x554+0x2362+-0x8a9,Gf=0x7*-0x548+0xcf2*0x1+0x181c,Hf=-0x73+0xf*-0x261+0xc13*0x3,qo=-0x17ae+-0x2*0x523+0x1*0x220c,Xo=-0x263a+0x5b4+0x209f,Tc=-0x1*-0x251f+0x1c9c+-0x1*0x41a1,Ac=-0x1085+0x9b8*-0x4+0x3780,my=-0x1249+-0xfb*0x8+0x1a3d,_y=0x1f+0x825+-0x827,gy=0x95*0x27+0x1563+0xa8*-0x43,yy=0x1ec0+-0x789+-0x1718*0x1,Wf=0x1*0x268f+-0x603+-0x206c,xy=-0x5f*-0x2b+-0xb57*-0x2+-0x66b*0x6,$f=-0x2697+0x250f+-0x1aa*-0x1,qf=0x19f1+0x16c2*-0x1+-0x30c,Xf=0x7*0x3a9+-0x1ad5+-0x1*-0x15a,an=-0x225*0x2+0x65*0x28+-0xb59,jf=0x8e*0x33+-0x1f23*-0x1+-0x1*0x3b47,Sy=0x1254+0x1a7d+-0x1*0x2caa,Yf=0x6ad*-0x3+0x11b*-0x19+0x2fd2,Kf=0x8d*-0x2e+-0x1*0x122c+0x1*0x2bab,Zf=-0x1eed+-0x2434+-0x7*-0x99d,Qf=-0xdb+0xe2c+-0x693*0x2,Jf=0x23d4*-0x1+0x13e9+0x1017,vy=-0xd32+0xf8*-0x25+0x3137,ep=0x2bb*-0x7+0xd38+-0x1*-0x613,Cc=-0x1d41+0x361+-0x1*-0x1a0f,tp=0x1*0x6e1+-0x497*0x5+0x1042,ut=0x2479+-0x269d+-0x1*-0x255,Ec=0x131d+0x23f*-0x1+0xb*-0x184,sp=0xb7e*0x3+0x713+-0x295a,ip=0x2*-0x6d3+0x122a+-0x450,rp=0x1d2c+-0x49*0x67+0x68,_u=0x149f+-0xb64+0x905*-0x1,gu=0x2*-0x5bf+0x103*0x4+0x7a9,yu=-0x10af+0x1a*-0xe+-0x1*-0x1253,xu=0x258b+0xeb9*-0x2+-0x7dc,Su=0x1a63*-0x1+-0x1*-0x554+-0x154d*-0x1,vu=-0x8ab*0x3+0x2236+0x2*-0x3fb,by=0x1171+-0xf0b+-0x226,wy=0x18a+-0x1*0x1631+0x14e8,Ty=0x11*0x135+-0x382+-0x1*0x10c1,Ay=-0x167*0x14+-0x25*-0xa7+0x164*0x3,bu=0x1231*-0x2+0x1f*0x16+0x87f*0x4,ha=0x9*0x2f5+-0xe97+0x3*-0x3eb,St=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(-0x1f51+-0x25a6+0x44f7)}],[ip,{'name':'R8','size':0x1,'ldr':!(0x1ce1+-0x24e9+-0x202*-0x4)}],[py,{'name':'L8','size':0x1,'ldr':!(0x1*0x2345+-0x2*0x511+-0x5*0x507)}],[Nf,{'name':'LA8','size':0x2,'ldr':!(-0x17*0x75+-0x472+0x7*0x223)}],[rp,{'name':'RG8','size':0x2,'ldr':!(0x603*-0x2+-0x1930+0x129b*0x2)}],[gc,{'name':'RGB565','size':0x2,'ldr':!(-0x1*0x12b9+0x3*-0x92f+0x2e46)}],[zf,{'name':'RGBA5551','size':0x2,'ldr':!(-0x17d3+-0x1c4f*-0x1+0x2*-0x23e)}],[yc,{'name':'RGBA4','size':0x2,'ldr':!(0x1b43+-0x492+0x16b1*-0x1)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0xf8f+0x1bcc+0x1*-0xc3d)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(0x5*-0x28+0x11bc+0x14*-0xd9),'srgbFormat':as}],[Ec,{'name':'R16F','size':0x2}],[sp,{'name':'RG16F','size':0x4}],[Sc,{'name':'RGB16F','size':0x8}],[Qe,{'name':'RGBA16F','size':0x8}],[vc,{'name':'RGB32F','size':0x10}],[Ye,{'name':'RGBA32F','size':0x10}],[Li,{'name':'R32F','size':0x4}],[Pi,{'name':'DEPTH','size':0x4}],[ha,{'name':'DEPTH16','size':0x2}],[bc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[ga,{'name':'111110F','size':0x4}],[Vf,{'name':'SRGB8','size':0x4,'ldr':!(0x1861+0x5*0x2b4+-0x25e5),'srgb':!(0x261a+0x265b+0x353*-0x17)}],[as,{'name':'SRGBA8','size':0x4,'ldr':!(0x16b+0x2*-0xffa+0x1e89),'srgb':!(0xc99+0xca5+0x2ce*-0x9)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(0x9*0xaf+-0xe31*-0x2+0x15*-0x1a5)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(0x290+-0x1*0x697+0x407),'srgb':!(-0x2180+0x2060+0x120)}],[xc,{'name':'DXT1','blockSize':0x8,'ldr':!(-0xdbd*-0x1+0x208+-0xb*0x16f),'srgbFormat':_u}],[Uf,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x1*-0x1ebc+-0x3d9+-0x1ae3),'srgbFormat':gu}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x42a+0x29*-0xc7+0xcd*0x2d),'srgbFormat':yu}],[wc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x97d*0x3+0x2*0x6bc+0xeff)}],[Gf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0xd8d+0x37b*0x1+-0x1108),'srgbFormat':xu}],[Hf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x173b+-0x2*0x421+0x1f7d),'srgbFormat':Su}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x180e+-0xe7e+-0x4*-0x9a3),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x186e+0x79e+-0x434*-0x4),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x2dd*0xb+0x22cc+-0x424b),'blockSize':0x8}],[Ac,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x22*-0x71+-0x25*0xd7+0x2e15),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x3*-0x2b+0x11b0*-0x1+-0x1*-0x1231),'srgbFormat':vu}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x18cc+0xc39+-0x1*-0xc93)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x20fd+0x1fcb*-0x1+0x2*-0x99)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x5*-0xdf+0x1f02+-0xb*0x337),'srgbFormat':bu}],[_u,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x7*0x4be+-0x240+0x2*-0xf79),'srgb':!(-0x6*0x185+-0xbf8+0x1516)}],[gu,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x135d+0xc6e+-0x1fcb),'srgb':!(0x21f2+0x1f84+-0x3*0x15d2)}],[yu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x163*-0x10+-0x1598+0x2bc8),'srgb':!(0x1e3e+0x1*0x233f+-0x417d)}],[xu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x8a1+0x1139+-0x19da),'srgb':!(0x3f5+0xbdb+-0xfd0)}],[Su,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x16d9+0x2311*0x1+0x39ea*-0x1),'srgb':!(-0x2222+-0x3d5+0x25f7*0x1)}],[vu,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x6f*-0x17+-0x95f*-0x3+-0x2616),'srgb':!(-0xb68+0x218f*-0x1+-0x4ff*-0x9)}],[bu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x2212+0x4e5*-0x2+-0x1848),'srgb':!(0xcc*-0x11+-0x1d94+0x73*0x60)}],[Wf,{'name':'R8I','size':0x1,'isInt':!(0x2053+-0x11b6+0x1d*-0x81)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x2ad+-0x1*-0x1381+-0x10d4)}],[$f,{'name':'R16I','size':0x2,'isInt':!(0x1c3+-0x2*0x656+0xae9)}],[qf,{'name':'R16U','size':0x2,'isInt':!(-0x1676+0xc*0x1e8+0x35*-0x2)}],[Xf,{'name':'R32I','size':0x4,'isInt':!(-0x1*0x15bb+0x131d*0x1+0x29e)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0xdf*0xd+-0x1d93+0x28e6)}],[jf,{'name':'RG8I','size':0x2,'isInt':!(-0x3d3*-0x2+0x1c25+-0x23cb)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x62+0xb28+-0xac6)}],[Yf,{'name':'RG16I','size':0x4,'isInt':!(-0x2*0x1181+-0x6fa+0x29fc)}],[Kf,{'name':'RG16U','size':0x4,'isInt':!(0x3*-0x229+-0x1*-0x202e+-0x1*0x19b3)}],[Zf,{'name':'RG32I','size':0x8,'isInt':!(-0x14b7+-0xb9a+0x2051)}],[Qf,{'name':'RG32U','size':0x8,'isInt':!(-0x1dc1+0xd4+0x5c9*0x5)}],[Jf,{'name':'RGBA8I','size':0x4,'isInt':!(0x5f7*0x5+-0x15a7+-0x82c)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(-0x9e6*-0x2+-0x2003+-0x1*-0xc37)}],[ep,{'name':'RGBA16I','size':0x8,'isInt':!(0x144b+-0x10*-0xd1+-0x215b)}],[Cc,{'name':'RGBA16U','size':0x8,'isInt':!(-0x14e4+-0x11ce*0x1+0x26b2)}],[tp,{'name':'RGBA32I','size':0x10,'isInt':!(0xc50+0x74a+0x182*-0xd)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(0xa*-0xb6+0xd*0x135+-0x895)}]]),kS=_0x4d45eb=>{var _0x2c0c32;return((_0x2c0c32=St['get'](_0x4d45eb))==null?void(0x6*0x50a+0x1dc5+0x3c01*-0x1):_0x2c0c32['blockSize'])!==void(0x49d+-0xcfa+-0x1*-0x85d);},Ph=_0x549639=>{var _0x514900;return((_0x514900=St['get'](_0x549639))==null?void(-0x243+0x1*0x2289+-0x2046):_0x514900['srgb'])===!(-0x58f+-0x2dc+0x86b);},ta=_0x39bd70=>{var _0x47422c;return((_0x47422c=St['get'](_0x39bd70))==null?void(0x1e25+-0x11*0xeb+-0xe8a):_0x47422c['isInt'])===!(-0x9a0+0x23f5*0x1+-0x1a55);},Mc=_0x8e4ff9=>{var _0x2420ef;return((_0x2420ef=St['get'](_0x8e4ff9))==null?void(-0x1036+-0x1*-0x1e0d+0x1*-0xdd7):_0x2420ef['srgbFormat'])||_0x8e4ff9;},OS=_0x114d9e=>{for(const [_0x5080d5,_0x255ef6]of St)if(_0x255ef6['srgbFormat']===_0x114d9e)return _0x5080d5;return _0x114d9e;},Cy=_0x4a4d5a=>{const _0x107044=St['get'](_0x4a4d5a);return!!(_0x107044!=null&&_0x107044['ldr']&&!(_0x107044!=null&&_0x107044['srgb']));},Ey=_0x34e3e8=>{switch(_0x34e3e8){case Li:case vc:case Ye:return Float32Array;case Xf:case Zf:case tp:return Int32Array;case an:case Qf:case ut:return Uint32Array;case $f:case Yf:case ep:return Int16Array;case rp:case qf:case Kf:case Cc:case gc:case zf:case yc:case Ec:case sp:case Sc:case Qe:return Uint16Array;case Wf:case jf:case Jf:return Int8Array;default:return Uint8Array;}},Pc=-0x56a+0x46d*0x5+-0x10b7,Rc=-0x5*0x6a7+0x9a3*-0x1+0x2ae7,My=0x741*0x5+0x22*-0x6f+-0x1585,Py=0x1109+0x23f4+-0x34fa,Rs=-0x1*0xc92+0x3b*-0x21+-0x1431*-0x1,or=0x1d61+0x721+0x1*-0x247d,Yr=-0x17c9+-0x1*-0x1d53+-0x584,He='POSITION',Zt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',jt='BLENDINDIC'+'ES',Et='COLOR',om='TEXCOORD',os='TEXCOORD0',gn='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',wu='ATTR0',Tu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',np='ATTR12',ya='ATTR13',ap='ATTR14',xa='ATTR15',Ly=0x65*0x8+0x1*-0x1bb8+0x1891,ca=0x1a20+-0x12d0+-0x9*0xd0,GS=-0x2*0x7f1+-0x1634+0x4*0x986,HS=0x179e*0x1+0x934*-0x3+0x401,WS=-0x5c0*-0x5+-0x1*-0x18f3+-0x35ae,xl=0x67*-0x43+-0x5c*0x1f+0xcb3*0x3,Fy=0x1*0x971+0x1d26+0x16*-0x1c1,nd=0x1*0x60d+0x179*-0x2+0x319*-0x1,Fi='default',on='rgbm',op='rgbe',Io='rgbp',lp='swizzleGGG'+'R',Au=0x355*0x8+0x1f22+-0x39c9,ur=-0xda1+-0x1*0x210f+0x2eb2,ky=-0x5d0*-0x4+0x209c+-0x37d9,Us='2d',$S='2d-array',qS='cube',XS='3d',lh=-0x1594+-0x4*0x812+-0x4*-0xd77,ad=0x1d20+-0x7*-0xdd+-0x232a*0x1,jS=-0x2de+-0xd8c+-0x2*-0x836,YS=-0x19*0xfb+-0x1*-0x177f+0x107,KS=-0x83*-0x1f+0x56*0x2e+-0x1f4d,ZS='none',Cu='cube',lm='equirect',QS='octahedral',Oy='glsl',Rh='wgsl',Ic=-0x9ca+-0x147f+0x1e49,Kr=-0x9*0x31d+0x1c5f+0x1*-0x59,Dc=0x13*-0x7+-0x1a1d*-0x1+0xa*-0x28f,el=-0x13*-0x12e+-0xf4d+0x12*-0x65,By=-0xbde*0x2+0x20bd+-0x8fd,Do=-0x5*-0x39b+0x1*-0x91e+-0x2*0x472,Ce=0x758+0x1dbd+0x250f*-0x1,da=-0x11fa*0x1+0x3bd+0xe3d,ln=0x3*-0x615+-0x2d*-0x39+0x83b,$s=0x230e*0x1+0x191+-0x249d,lr=-0x13*-0x40+0x1400+-0x83f*0x3,Xt=-0xcf+-0x6df+0x7b2,Sa=-0x2bf+-0x1a3d*-0x1+0x7d3*-0x3,Zr=-0x7*0x52c+-0x3a0+0x2*0x13ed,Qr=-0x39*-0x3+-0x17ab+0x3*0x7ad,Jr=0x171+0xb81+-0xcea,Lo=0xc1f*0x2+0x1d76+-0x1*0x35ab,Fo=-0x4fd*0x5+0x2635*0x1+-0xd3a,ko=-0x2bd+0x49*0x79+-0x1fb9,Ih=0x1*-0x1574+0x1f82*-0x1+0x3502,Oo=0x1725+0x26fa+-0x1*0x3e12,va=0x3c7*-0x6+0x1f*-0x2+0x16f6,JS=-0x1c9d+0xeac+0x8*0x1c0,ev=0xb5b+-0x24a4+0x1959,Lc=-0x10bb*0x1+-0x121f+-0x22eb*-0x1,tv=0x9a9+-0x2*-0xe20+-0x25d7,sv=0x2594+0xb5*-0x9+-0x1f24,iv=-0x1*0x1591+0x6fc+0xea9,Fc=-0x23c2+0xfbb+0x141c,kc=0x2*0x5bc+-0x775*-0x5+-0x1*0x30ab,hp=-0x3e*-0x71+0x1ca2+-0x37e9*0x1,Ny=0x13d9+0x78e*-0x1+-0x3*0x411,rv=-0x2044+0x270d+0x4*-0x1ac,ba=-0x147b+0x4*0x3dd+-0x65*-0xd,wa=-0x5*0x7be+0x1697+0x2*0x81d,Ta=-0x1c3d+-0x803+0x245c,Aa=0x18fc+0x182*0x8+-0x24ef,Ca=0x2*-0x334+-0xca8+0x1eb*0xa,Oc=-0x1*0x791+0x5*0x6cd+-0x1*0x1a51,Bc=-0x2d1*-0x7+0xd25*-0x1+-0x672,Ea=0x1c12+0x23bd+0x35a*-0x13,Nc=-0x89*-0x14+0x1fa7+0x1*-0x2a39,zc=0x1c65*0x1+0x1*0x2551+-0x4193,Ma=-0x13*-0x1c1+-0x67*0x2f+-0xe46,Uc=0x1add+-0xeb6+0x35*-0x3a,Vc=0x1*0x1cb8+0x1066+-0x2cf8,Dh=0x1*0x201b+-0x197*-0x9+0xd*-0x38f,cp=-0xd9*0xb+-0xc8f*0x3+0x2f28*0x1,dp=-0x68e*-0x1+-0x5*0x2d9+0x7d8,nv=0x1*0x1d1b+0x4*0x2dd+-0x2865,av=-0x1e*0xc1+-0x1*0x977+0x204*0x10,ov=0x109d+0x161*-0x15+0x9*0x164,lv=0x4b5+0x17df+-0x1*0x1c67,hv=0x1*0x2273+-0x69b+0x1baa*-0x1,cv=0x1f23+-0x3d3*0xa+-0x6*-0x137,dv=0xb70+-0x1354+0x814,uv=0x1752+-0xb1*0x1b+-0x476,up=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x386bb4,_0x13c9f9)=>{_0x386bb4['forEach'](_0x51fe0c=>pv['set'](_0x51fe0c,_0x13c9f9));});const mv='webgl2',fp=0x77*-0x25+0x1a5*0x8+-0x4a*-0xe,ci=-0x5ab*-0x5+-0x33c+0x19*-0x101,_v=-0x23c3+0x2101+0x8e*0x5,gv='ldr',zy=-0xb*0x1d3+-0x6*-0x249+-0x197*-0x4,Uy=-0x1824+-0x116d+0x2993,Vy=-0xb66+-0x3*0x5ac+0x1c6e,Gy=-0x637+0x1*0x14ef+-0xeb0,Hy=-0x1716+-0x2399+0x3abf,Wy=0x8ad*-0x2+0x2*0xfa1+-0xdc8,$y=-0x1c19+0x17e*0xf+0x5f7*0x1,qy=0x7f+0x1a0c+0x71*-0x3b,yv=0x6a1*-0x3+0x1b4b+0x3*-0x223,Lh=-0x1195*-0x2+-0x83*-0x49+-0x4885,Xy=0x12*0x75+-0x2dd*-0x8+0xd*-0x265,Eu=-0x1245*0x1+-0xee+0x1335,xv=['view','mesh','mesh_ub'],pp='default',ua=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[0xb5*0x5+-0x67f*-0x1+0x11*-0x97,0x2*-0xfd9+-0x1e*0x2f+0x5*0x771,0x160d*-0x1+-0x10a4+0x26b3,-0x1*-0x23bb+0xc*0x3a+-0x2671,-0x43f*0x1+-0xfed+0x286*0x8,0x4a5*0x1+0x1*-0x138c+0xeeb,0x2*-0x653+0xb51*0x1+-0xf*-0x17,-0x1*0xc01+-0xd3*0x2e+0x31ed],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Fh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x125*-0x1+0x7*0x2d9+-0x1513,0x14b2+-0x1b0f+0x7*0xe9,0x12cb*0x2+0x13a5+0x3937*-0x1],ve={};ve[He]=0x260c+-0x1*0x980+0xfc*-0x1d,ve[Zt]=-0x1e8f+-0x18a5*-0x1+0x3*0x1f9,ve[Ys]=-0x7*0x1da+0x1*0x611+0x5d*0x13,ve[jt]=0x174a+0x4f1+-0x1c38,ve[Et]=-0x3af+0x2027+0xc*-0x25f,ve[os]=-0xfed+-0x1136+-0x2*-0x1094,ve[gn]=-0xcf3+0x61*0x37+-0x7de,ve[jo]=-0x11*-0x189+-0x1954+-0x2*0x5f,ve[Yo]=-0x1c*-0x142+0x1b72*0x1+0x2*-0x1f51,ve[Ko]=-0x2452+-0x1*-0x737+0x2*0xe92,ve[Zo]=0x40*0x5b+0x1e6a+0x50*-0xaa,ve[Qo]=0xa8b*-0x2+0x9*0xdb+-0x2*-0x6b7,ve[Jo]=-0x12f6+0x1*0x23bf+-0x5*0x359,ve[Zs]=-0x3a6*0x1+-0xa22+-0xdd5*-0x1,ve[wu]=-0x13*0x1b7+-0xf6*-0x4+0x1cbd,ve[Tu]=-0x24fa+0x1850+-0x1*-0xcab,ve[Ry]=-0x15c5+-0x5c6*-0x5+-0x717,ve[Iy]=-0x1*-0x122b+0x1*-0x224b+0x1023,ve[Dy]=0xcaf+0x1976+-0x2621,ve[BS]=-0x14*-0x13c+-0xa4a+-0x3*0x4cb,ve[NS]=-0x443*-0x7+0x1849*0x1+-0x3618,ve[zS]=0x6*0x14f+0x8*0x1e8+-0x1713,ve[Po]=-0x278+0x1d7d+-0x15*0x149,ve[Ro]=0x1*-0x2093+-0x953+0x29ef,ve[US]=0x178+0x1*-0x3d8+0xce*0x3,ve[VS]=-0x205a+0x906*0x4+-0x3b3,ve[np]=-0x3*-0x5bf+0x31*0x6d+-0x260e*0x1,ve[ya]=-0x1635+0x1afd+-0x1*0x4bb,ve[ap]=-0x13a7+-0xbc4*-0x1+0x7f1,ve[xa]=0x12cd+-0x318+0x1*-0xfa6;const Vi='1.51',Ai='1.55',_r='1.56',bt='1.57',od='1.60',me='1.62',di='1.65',hm='1.70',cm='2.1',bv='2.3',Tn='2.5',Zi=class Zi{static['clearGpuMa'+'rkers'](){Zi['markers']['length']=-0x124*-0x4+0xf37+-0x1*0x13c7;}static['pushGpuMar'+'ker'](_0x7f4109,_0x39bb30){Zi['markers']['push'](_0x39bb30),_0x7f4109['pushMarker'](_0x39bb30);}static['popGpuMark'+'er'](_0x28b955){Zi['markers']['length']&&Zi['markers']['pop'](),_0x28b955['popMarker']();}static['toString'](){return Zi['markers']['join']('\x20|\x20');}};c(Zi,'markers',[]);let G=Zi,wv=-0x9e9*0x1+-0x9*0x1ed+-0xb*-0x27a;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Gc{constructor(_0x356aa1,_0x3dea01){c(this,'slot',-(0x26b*0x8+0x559*-0x1+0xdfe*-0x1)),c(this,'scopeId',null),(this['name']=_0x356aa1,this['visibility']=_0x3dea01);}}class mp extends Gc{}class Av extends Gc{constructor(_0x14e409,_0x1f9c5b,_0x11bc7c=!(-0xc50+-0x1d88+0x29d9*0x1)){super(_0x14e409,_0x1f9c5b),c(this,'format',''),(this['readOnly']=_0x11bc7c,v['assert'](_0x11bc7c||!(_0x1f9c5b&fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class mi extends Gc{constructor(_0x5a2f89,_0x26cd8b,_0xb639a7=Us,_0x52df9d=lh,_0xd0d2c9=!(-0x1353+-0xf75*-0x1+0x3de),_0x121282=null){super(_0x5a2f89,_0x26cd8b),this['textureDim'+'ension']=_0xb639a7,this['sampleType']=_0x52df9d,this['hasSampler']=_0xd0d2c9,this['samplerNam'+'e']=_0x121282??_0x5a2f89+'_sampler';}}class Cv extends Gc{constructor(_0x30d22c,_0x21283d=Se,_0x3232d7=Us,_0x2b9e3a=!(0x1*0x1f3+0xb*0x355+-0x3*0xcde),_0xb34d46=!(0xe*-0x130+-0x79d*-0x5+0x1c*-0xc4)){super(_0x30d22c,_v),this['format']=_0x21283d,this['textureDim'+'ension']=_0x3232d7,this['write']=_0x2b9e3a,this['read']=_0xb34d46;}}class jy{constructor(_0x330f5a,_0x5515d7){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,_n['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x5515d7));let _0x20fad9=-0x1d3a+-0xa7*-0x26+0x470;_0x5515d7['forEach'](_0x1eec6f=>{_0x1eec6f['slot']=_0x20fad9++,_0x1eec6f instanceof mi&&_0x1eec6f['hasSampler']&&_0x20fad9++,_0x1eec6f instanceof mp?this['uniformBuf'+'ferFormats']['push'](_0x1eec6f):_0x1eec6f instanceof mi?this['textureFor'+'mats']['push'](_0x1eec6f):_0x1eec6f instanceof Cv?this['storageTex'+'tureFormat'+'s']['push'](_0x1eec6f):_0x1eec6f instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x1eec6f):v['assert']('Invalid\x20bi'+'nd\x20format',_0x1eec6f);}),this['device']=_0x330f5a;const _0x20caba=_0x330f5a['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x56d722,_0x3f1117)=>this['bufferForm'+'atsMap']['set'](_0x56d722['name'],_0x3f1117)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x173f2c,_0x430ea5)=>{this['textureFor'+'matsMap']['set'](_0x173f2c['name'],_0x430ea5),_0x173f2c['scopeId']=_0x20caba['resolve'](_0x173f2c['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x11f7bd,_0x56a38b)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x11f7bd['name'],_0x56a38b),_0x11f7bd['scopeId']=_0x20caba['resolve'](_0x11f7bd['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x540d57,_0x2b9926)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x540d57['name'],_0x2b9926),_0x540d57['scopeId']=_0x20caba['resolve'](_0x540d57['name']);}),this['impl']=_0x330f5a['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x5d0153){const _0x1f999b=this['textureFor'+'matsMap']['get'](_0x5d0153);return _0x1f999b!==void(-0x5c*-0x7+0x12b8+-0x153c)?this['textureFor'+'mats'][_0x1f999b]:null;}['getStorage'+'Texture'](_0x561546){const _0x1d1c60=this['storageTex'+'tureFormat'+'sMap']['get'](_0x561546);return _0x1d1c60!==void(0x1d1e+-0x2*0x623+-0xc4*0x16)?this['storageTex'+'tureFormat'+'s'][_0x1d1c60]:null;}['getShaderD'+'eclaration'+'Textures'](_0x2a26d4){let _0x3e0185='';return this['textureFor'+'mats']['forEach'](_0x1aee53=>{let _0x313a51=Tv[_0x1aee53['textureDim'+'ension']];v['assert'](_0x313a51,'Unsupporte'+'d\x20texture\x20'+'type',_0x1aee53['textureDim'+'ension']);const _0x20bf34=_0x313a51==='texture2DA'+'rray',_0x4542ea=_0x1aee53['sampleType']===KS?'u':_0x1aee53['sampleType']===YS?'i':'';_0x313a51=''+_0x4542ea+_0x313a51;let _0x781ebd='',_0x364c59='';_0x20bf34&&(_0x781ebd='_texture',_0x364c59='#define\x20'+_0x1aee53['name']+'\x20'+_0x4542ea+('sampler2DA'+'rray(')+_0x1aee53['name']+_0x781ebd+',\x20'+_0x1aee53['name']+'_sampler)\x0a'),_0x3e0185+='layout(set'+'\x20=\x20'+_0x2a26d4+(',\x20binding\x20'+'=\x20')+_0x1aee53['slot']+')\x20uniform\x20'+_0x313a51+'\x20'+_0x1aee53['name']+_0x781ebd+';\x0a',_0x1aee53['hasSampler']&&(_0x3e0185+='layout(set'+'\x20=\x20'+_0x2a26d4+(',\x20binding\x20'+'=\x20')+(_0x1aee53['slot']+(-0x1526+-0x16*-0x1a2+-0xec5*0x1))+(')\x20uniform\x20'+'sampler\x20')+_0x1aee53['name']+'_sampler;\x0a'),_0x3e0185+=_0x364c59;}),_0x3e0185;}['loseContex'+'t'](){}}class Bt{constructor(){c(this,'_cache',new Map());}['get'](_0x59c278,_0x59a630){return this['_cache']['has'](_0x59c278)||(this['_cache']['set'](_0x59c278,_0x59a630()),_0x59c278['on']('destroy',()=>{this['remove'](_0x59c278);}),_0x59c278['on']('devicelost',()=>{var _0xde257d,_0x388449;(_0x388449=(_0xde257d=this['_cache']['get'](_0x59c278))==null?void(-0x5a9+-0x4a6+0xa4f):_0xde257d['loseContex'+'t'])==null||_0x388449['call'](_0xde257d,_0x59c278);})),this['_cache']['get'](_0x59c278);}['remove'](_0x280573){var _0xaf9b37,_0x33fac6;(_0x33fac6=(_0xaf9b37=this['_cache']['get'](_0x280573))==null?void(-0x1*-0x13af+0xc37+-0x1fe6):_0xaf9b37['destroy'])==null||_0x33fac6['call'](_0xaf9b37,_0x280573),this['_cache']['delete'](_0x280573);}}class Ri{static['calcLevelD'+'imension'](_0x554057,_0x13fa07){return Math['max'](_0x554057>>_0x13fa07,-0x964*0x4+-0x1458+0x39e9*0x1);}static['calcMipLev'+'elsCount'](_0x44ef04,_0x411810,_0x128f39=-0x1642+0x1d6e+-0x16f*0x5){return 0x2649+-0x1cd3+-0x975+Math['floor'](Math['log2'](Math['max'](_0x44ef04,_0x411810,_0x128f39)));}static['calcLevelG'+'puSize'](_0x11dcba,_0x3329f2,_0xfefad9,_0x5248f9){var _0x27e8c9;const _0x59d2ab=St['get'](_0x5248f9);v['assert'](_0x59d2ab!==void(-0xa3c+-0xd*-0x238+-0x94e*0x2),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x5248f9);const _0x225c50=((_0x27e8c9=St['get'](_0x5248f9))==null?void(0x1370+0x23ba+-0x372a):_0x27e8c9['size'])??-0x1543+0x390*-0x3+0x1ff3;if(_0x225c50>-0x1*0x2337+0x4*0x50+0x21f7)return _0x11dcba*_0x3329f2*_0xfefad9*_0x225c50;const _0x561496=_0x59d2ab['blockSize']??0x1494+-0x247d*-0x1+-0x3911;let _0x29e41b=Math['floor']((_0x11dcba+(0x13ef*-0x1+0xe*-0x22c+0x2*0x192d))/(-0x121*0xb+0xe30+0x1c1*-0x1));const _0x5844b4=Math['floor']((_0x3329f2+(0xa2c+0x1ed2+-0x28fb))/(-0x3*0x2b7+-0x8e3+0x110c)),_0x22670b=Math['floor']((_0xfefad9+(0x1661+-0x14a7+-0x1b7))/(-0x14f1*-0x1+-0x925+-0x2f2*0x4));return(_0x5248f9===qo||_0x5248f9===Xo)&&(_0x29e41b=Math['max'](Math['floor'](_0x29e41b/(0x14e6+0x9cd+0x9*-0x369)),-0xce*-0x5+0xac9+0x1*-0xece)),_0x29e41b*_0x5844b4*_0x22670b*_0x561496;}static['calcGpuSiz'+'e'](_0xb6eb7e,_0x1cfe3b,_0x269697,_0x33ec72,_0x227710,_0xecd2e9){let _0x18be00=-0x19f4+0x657+0x139d*0x1;for(;_0x18be00+=Ri['calcLevelG'+'puSize'](_0xb6eb7e,_0x1cfe3b,_0x269697,_0x33ec72),!(!_0x227710||_0xb6eb7e===-0x1*0x13e8+-0x1*0x1c5b+-0xc11*-0x4&&_0x1cfe3b===0x22f4+-0x60a+0x3*-0x9a3&&_0x269697===0x4ac+-0xdf*-0x1+-0x58a);)_0xb6eb7e=Math['max'](_0xb6eb7e>>0x1*-0x1d2f+0xb18+0x6*0x304,-0x1853+0x1ffb+0x1*-0x7a7),_0x1cfe3b=Math['max'](_0x1cfe3b>>-0x3e5+0x8be+-0x4d8,-0x7a2+0x25*-0xdf+-0x2d9*-0xe),_0x269697=Math['max'](_0x269697>>-0xa6b+0x10cc*-0x1+0x1b38,-0x326+0x415+0xee*-0x1);return _0x18be00*(_0xecd2e9?0x2*-0x171+-0x1*0x240b+0x1*0x26f3:-0x12b8+-0x1*-0xfde+0x2db*0x1);}}let Ev=0x1e5b+0x6de+0x2539*-0x1;class he{constructor(_0x3e4a2d,_0x2a39b6={}){c(this,'name'),c(this,'_gpuSize',-0x1aec+0x161*-0x1+-0x1e3*-0xf),c(this,'id',Ev++),c(this,'_invalid',!(-0x18d0+0x1808*-0x1+0x131*0x29)),c(this,'_lockedLev'+'el',-(-0x2479*-0x1+0x5*0x3bd+-0x9*0x621)),c(this,'_lockedMod'+'e',xl),c(this,'renderVers'+'ionDirty',-0x703+0x2316+-0x1*0x1c13),c(this,'_storage',!(0x5*-0x257+0x1064+0x2*-0x258)),c(this,'_numLevels',0xdd7*0x2+0x105d+0x113*-0x29),c(this,'_numLevels'+'Requested');var _0x576f8a;this['device']=_0x3e4a2d,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x2a39b6['width']||Number['isInteger'](_0x2a39b6['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x2a39b6),v['assert'](!_0x2a39b6['height']||Number['isInteger'](_0x2a39b6['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x2a39b6),v['assert'](!_0x2a39b6['depth']||Number['isInteger'](_0x2a39b6['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x2a39b6),this['name']=_0x2a39b6['name']??'',this['_width']=Math['floor'](_0x2a39b6['width']??-0x1004+-0x1744+0x1*0x274c),this['_height']=Math['floor'](_0x2a39b6['height']??0x52c*-0x1+-0x513*0x3+0x1469),this['_format']=_0x2a39b6['format']??Se,this['_compresse'+'d']=kS(this['_format']),this['_integerFo'+'rmat']=ta(this['_format']),this['_integerFo'+'rmat']&&(_0x2a39b6['minFilter']=de,_0x2a39b6['magFilter']=de),this['_volume']=_0x2a39b6['volume']??!(-0x1*0x23ef+-0x206a+0x445a),this['_depth']=Math['floor'](_0x2a39b6['depth']??-0x69*0x36+-0x819+-0x1e40*-0x1),this['_arrayLeng'+'th']=Math['floor'](_0x2a39b6['arrayLengt'+'h']??0x19f9+-0x1fb9+-0x20*-0x2e),this['_storage']=_0x2a39b6['storage']??!(0x4*-0x1b7+0x12e0+-0x19*0x7b),this['_cubemap']=_0x2a39b6['cubemap']??!(-0x1bb*0x7+-0x5*-0x459+-0x99f*0x1),this['_flipY']=_0x2a39b6['flipY']??!(0x5*-0x6e8+-0x226e+0x44f7),this['_premultip'+'lyAlpha']=_0x2a39b6['premultipl'+'yAlpha']??!(0x1d11+-0x5c8+-0x5d2*0x4),this['_mipmaps']=_0x2a39b6['mipmaps']??!(0x163*-0x1a+0x2128+0x2e6*0x1),this['_numLevels'+'Requested']=_0x2a39b6['numLevels'],_0x2a39b6['numLevels']!==void(-0x1ec0+0x15db+0x45*0x21)&&(this['_numLevels']=_0x2a39b6['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x2a39b6['minFilter']??nn,this['_magFilter']=_0x2a39b6['magFilter']??tt,this['_anisotrop'+'y']=_0x2a39b6['anisotropy']??-0x34f*-0x5+0xa1f+-0x1aa9,this['_addressU']=_0x2a39b6['addressU']??et,this['_addressV']=_0x2a39b6['addressV']??et,this['_addressW']=_0x2a39b6['addressW']??et,this['_compareOn'+'Read']=_0x2a39b6['compareOnR'+'ead']??!(-0x2*0x76+-0x9e3+-0x15a*-0x8),this['_compareFu'+'nc']=_0x2a39b6['compareFun'+'c']??Eh,this['type']=_0x2a39b6['hasOwnProp'+'erty']('type')?_0x2a39b6['type']:Fi,v['assert'](!_0x2a39b6['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x2a39b6['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Cu:_0x2a39b6['projection']&&_0x2a39b6['projection']!==Cu&&(this['projection']=_0x2a39b6['projection']),this['profilerHi'+'nt']=_0x2a39b6['profilerHi'+'nt']??-0xe*0x1cf+0x9ed+0xf65,this['_levels']=_0x2a39b6['levels'];const _0xbfcd75=!!_0x2a39b6['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0xbfcd75),_0x3e4a2d['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x576f8a=St['get'](this['format']))==null?void(0x1*0xc88+0x1895+0x251d*-0x1):_0x576f8a['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x99dedf=this['device'];if(_0x99dedf){const _0xfc4d46=_0x99dedf['textures']['indexOf'](this);_0xfc4d46!==-(-0x15f6+-0x134d+0x2944)&&_0x99dedf['textures']['splice'](_0xfc4d46,0xac0+-0x18b4+0xdf5),_0x99dedf['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x99dedf),this['adjustVram'+'SizeTracki'+'ng'](_0x99dedf['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x47b51a=!(0x14ea+-0x2ef*-0x7+-0x2973)){var _0x4b8dbd;const {device:_0x179382}=this;(_0x4b8dbd=this['impl'])==null||_0x4b8dbd['destroy'](_0x179382),this['impl']=null,this['impl']=_0x179382['createText'+'ureImpl'](this),this['dirtyAll'](),_0x47b51a&&this['upload']();}['resize'](_0x7ee185,_0x53aaed,_0x2c1c9f=-0xc9e*0x1+-0x8f*-0x25+0x19c*-0x5){const _0x377ef2=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x377ef2['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x377ef2),this['_width']=Math['floor'](_0x7ee185),this['_height']=Math['floor'](_0x53aaed),this['_depth']=Math['floor'](_0x2c1c9f),this['_updateNum'+'Level'](),this['impl']=_0x377ef2['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x42e93b,_0x31c911){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x31c911+('\x20vram.text'+'ure:\x20')+_0x42e93b['tex']+'\x20=>\x20'+(_0x42e93b['tex']+_0x31c911)),_0x42e93b['tex']+=_0x31c911,this['profilerHi'+'nt']===Au?_0x42e93b['texShadow']+=_0x31c911:this['profilerHi'+'nt']===ur?_0x42e93b['texAsset']+=_0x31c911:this['profilerHi'+'nt']===ky&&(_0x42e93b['texLightma'+'p']+=_0x31c911);}['propertyCh'+'anged'](_0x1072f5){this['impl']['propertyCh'+'anged'](_0x1072f5),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x14d112=this['mipmaps']?Ri['calcMipLev'+'elsCount'](this['width'],this['height']):-0x31a*0xa+-0x2406+0x1*0x430b,_0x3e720a=this['_numLevels'+'Requested'];_0x3e720a!==void(-0xb*-0x329+0x1*0xd9b+0x52*-0x97)&&_0x3e720a>_0x14d112&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x14d112,this),this['_numLevels']=Math['min'](_0x3e720a??_0x14d112,_0x14d112),this['_mipmaps']=this['_numLevels']>0x87f+0x1e33+-0x26b1;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x488878){this['_minFilter']!==_0x488878&&(ta(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x488878,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x4d9834){this['_magFilter']!==_0x4d9834&&(ta(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x4d9834,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x9b6650){this['_addressU']!==_0x9b6650&&(this['_addressU']=_0x9b6650,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0xc93f85){this['_addressV']!==_0xc93f85&&(this['_addressV']=_0xc93f85,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x34a94c){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x34a94c!==this['_addressW']&&(this['_addressW']=_0x34a94c,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x3f1958){this['_compareOn'+'Read']!==_0x3f1958&&(this['_compareOn'+'Read']=_0x3f1958,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x4c9da6){this['_compareFu'+'nc']!==_0x4c9da6&&(this['_compareFu'+'nc']=_0x4c9da6,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x3f8408){this['_anisotrop'+'y']!==_0x3f8408&&(this['_anisotrop'+'y']=_0x3f8408,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x5a8341){this['_mipmaps']!==_0x5a8341&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ta(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x5a8341,_0x5a8341&&(this['_needsMipm'+'apsUpload']=!(-0x6ac*-0x5+-0x7*-0x3b3+-0x3b41)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x19f3a7=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x1*0x11a+0x25cf+-0x9ba*0x4);return Ri['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x19f3a7,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x1501+-0x2*0xf04+0x1*0x907;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x294784){var _0x2d88ed,_0x3caeea,_0x74a62,_0x1bb8a2;const _0x415a8f=Ph(this['format']);if(_0x294784!==_0x415a8f){if(_0x294784){const _0x6b9596=Mc(this['format']);this['_format']!==_0x6b9596&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x2d88ed=St['get'](this['format']))==null?void(0x13*-0x17d+-0x1291+0x2ed8):_0x2d88ed['name'])+'\x20->\x20'+((_0x3caeea=St['get'](_0x6b9596))==null?void(-0x7a9*-0x1+-0x84d+-0x2*-0x52):_0x3caeea['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x6b9596,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x4ee*-0x2+-0x1*-0xb89+-0x8f*0x3));}else{const _0x34459a=OS(this['format']);this['_format']!==_0x34459a&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x74a62=St['get'](this['format']))==null?void(0x41*0x43+-0x2*-0x1273+-0x35e9*0x1):_0x74a62['name'])+'\x20->\x20'+((_0x1bb8a2=St['get'](_0x34459a))==null?void(-0x1*0xb0b+-0x1069*-0x1+-0x55e):_0x1bb8a2['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x34459a,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x9f5+-0x212e+0x199*0x1b));}}}get['srgb'](){return Ph(this['format']);}set['flipY'](_0x5edef2){this['_flipY']!==_0x5edef2&&(this['_flipY']=_0x5edef2,this['_needsUplo'+'ad']=!(0x147a+0x165*0x19+-0x3757));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x5a3287){this['_premultip'+'lyAlpha']!==_0x5a3287&&(this['_premultip'+'lyAlpha']=_0x5a3287,this['_needsUplo'+'ad']=!(0x3*0x8f5+0x11af*-0x1+-0x930));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case op:return'rgbe';case Io:return'rgbp';}return Cy(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x220a+-0x9*0x281+0x3893),!(0x13*0x1ff+0x21c5*-0x1+-0x428),!(0x12*0x218+0x2*0x887+-0xb6*0x4d),!(0x16b5*0x1+-0x474+-0x1*0x1241),!(0x1964+-0x9a8+-0xfbc),!(0x6*-0xf0+0x1386+-0x3*0x4a2)]]:[!(0x104+-0x1*-0x2585+-0x2689)],this['_needsUplo'+'ad']=!(-0x19b1+-0x31*-0x1+-0x40*-0x66),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x2f*-0x24+0x1dbb+-0x171e),this['propertyCh'+'anged'](yv);}['lock'](_0x4cb0ed={}){_0x4cb0ed['level']??(_0x4cb0ed['level']=-0x9*-0x185+0x214c+-0x2ef9),_0x4cb0ed['face']??(_0x4cb0ed['face']=0x4*0x38+-0x7d6+0x6f6),_0x4cb0ed['mode']??(_0x4cb0ed['mode']=nd),v['assert'](this['_lockedMod'+'e']===xl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x4cb0ed['mode']===Fy||_0x4cb0ed['mode']===nd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x4cb0ed['mode'],this['_lockedLev'+'el']=_0x4cb0ed['level'];const _0x537c69=this['cubemap']?this['_levels'][_0x4cb0ed['face']]:this['_levels'];if(_0x537c69[_0x4cb0ed['level']]===null){const _0x2cfb94=Math['max'](-0x1a*0xd+-0x15b8+0x170b*0x1,this['_width']>>_0x4cb0ed['level']),_0x2f987a=Math['max'](-0x6*0x148+-0xdd6+0xb*0x1f5,this['_height']>>_0x4cb0ed['level']),_0x1fc01d=Math['max'](0x1321+0x1b09+-0x521*0x9,this['_depth']>>_0x4cb0ed['level']),_0x2c632f=new ArrayBuffer(Ri['calcLevelG'+'puSize'](_0x2cfb94,_0x2f987a,_0x1fc01d,this['_format']));_0x537c69[_0x4cb0ed['level']]=new(Ey(this['_format']))(_0x2c632f);}return _0x537c69[_0x4cb0ed['level']];}['setSource'](_0x2cb4c8,_0x516be0=-0x194d+0x553+0x13fa){let _0x49b0aa=!(-0x432+0x1255*0x2+0x1*-0x2077),_0x1c9e05,_0x46262f;if(this['_cubemap']){if(_0x2cb4c8[-0xb88*-0x1+0x4a9*0x1+-0x1031]){_0x1c9e05=_0x2cb4c8[0x1*0x1a43+0x13*-0x6b+-0x1252]['width']||0x1*-0x959+0x8d6+-0x83*-0x1,_0x46262f=_0x2cb4c8[-0x1c1a+0x2*-0xb01+0x4*0xc87]['height']||0x1*0x1d05+-0x1c96+-0x1*0x6f;for(let _0x2f706c=-0x17aa+-0x1*-0x21c5+-0xa1b;_0x2f706c<0x503+-0x18df+-0x9f1*-0x2;_0x2f706c++){const _0xe45e3=_0x2cb4c8[_0x2f706c];if(!_0xe45e3||_0xe45e3['width']!==_0x1c9e05||_0xe45e3['height']!==_0x46262f||!this['device']['_isBrowser'+'Interface'](_0xe45e3)){_0x49b0aa=!(0x133f*0x1+0x22ac+-0x35eb);break;}}}else _0x49b0aa=!(-0x3ee*0x2+0x1a*0x4f+0x1*-0x2a);if(!_0x49b0aa){for(let _0x325e00=0x65*0x4f+-0xdd9+-0x1152;_0x325e00<0x1*-0x4ed+-0x3d4+0x6b*0x15;_0x325e00++)this['_levels'][_0x516be0][_0x325e00]!==_0x2cb4c8[_0x325e00]&&(this['_levelsUpd'+'ated'][_0x516be0][_0x325e00]=!(0x1a22+0x9e3*-0x1+-0x103f*0x1));}}else this['device']['_isBrowser'+'Interface'](_0x2cb4c8)||(_0x49b0aa=!(-0x89c+-0x6e7*0x1+0xf83)),_0x49b0aa||(_0x2cb4c8!==this['_levels'][_0x516be0]&&(this['_levelsUpd'+'ated'][_0x516be0]=!(-0x70c+0x3*-0xc95+-0x2ccb*-0x1)),_0x2cb4c8 instanceof HTMLVideoElement?(_0x1c9e05=_0x2cb4c8['videoWidth'],_0x46262f=_0x2cb4c8['videoHeigh'+'t']):(_0x1c9e05=_0x2cb4c8['width'],_0x46262f=_0x2cb4c8['height']));if(_0x49b0aa){if(this['_width']=-0xe2d+-0x17b*-0xa+-0x1*0x9d,this['_height']=-0x1aa9+0x1*-0x2077+0x3b24,this['_cubemap']){for(let _0x16cd0a=0x204+-0x5f1+0xc9*0x5;_0x16cd0a<-0x1be6+-0x9*-0x1a5+0xd1f;_0x16cd0a++)this['_levels'][_0x516be0][_0x16cd0a]=null,this['_levelsUpd'+'ated'][_0x516be0][_0x16cd0a]=!(-0x1a5+-0x9f2*-0x1+0x7d*-0x11);}else this['_levels'][_0x516be0]=null,this['_levelsUpd'+'ated'][_0x516be0]=!(-0x1*-0x79b+0x19b0+-0x214b);}else _0x516be0===0xf*-0x86+-0x3*0x7a2+0xc*0x290&&(this['_width']=_0x1c9e05,this['_height']=_0x46262f),this['_levels'][_0x516be0]=_0x2cb4c8;(this['_invalid']!==_0x49b0aa||!_0x49b0aa)&&(this['_invalid']=_0x49b0aa,this['upload']());}['getSource'](_0x26b391=-0x15*0x101+0x1*-0x1fd+0x1712){return this['_levels'][_0x26b391];}['unlock'](){this['_lockedMod'+'e']===xl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===nd&&this['upload'](),this['_lockedLev'+'el']=-(-0x909+-0x111*0x8+0x1192),this['_lockedMod'+'e']=xl;}['upload'](){var _0x2170a8,_0x2315a8;this['_needsUplo'+'ad']=!(-0x96*-0x1f+-0x11f*-0xa+-0x2f0*0xa),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x2315a8=(_0x2170a8=this['impl'])['uploadImme'+'diate'])==null||_0x2315a8['call'](_0x2170a8,this['device'],this);}['read'](_0x14d05b,_0x3fbbe9,_0x31f519,_0x498372,_0x2d505b={}){var _0x2ce192,_0x1f6d25;return(_0x1f6d25=(_0x2ce192=this['impl'])['read'])==null?void(-0x1d6f+0x1b68+0x3*0xad):_0x1f6d25['call'](_0x2ce192,_0x14d05b,_0x3fbbe9,_0x31f519,_0x498372,_0x2d505b);}}const Mv={'white':[0x2*-0xa62+0x1*-0x1a3f+-0x2*-0x1801,0xa49*0x1+-0x3*-0xa81+-0x28cd,0x21d0+0x2594+0x4665*-0x1,0x202d+0x15ed+-0x351b],'gray':[0xf43*-0x2+-0x28d*0x1+0x2193,-0x785*0x1+0x181e+0x13d*-0xd,0x285*0xd+-0x12af*0x1+0xc1*-0x12,0x1c9f+-0x1579+-0x5*0x13b],'black':[0x20e2+-0x1545+-0x3df*0x3,0x45b+0x817+-0xc72,0x19e1+-0x65f*0x1+-0x1382,-0x2*0xf0b+-0x4*-0x707+0x2f9],'normal':[-0x3*-0x6d9+-0x164*0x7+-0xa4f,0x1c5a+-0x11b1+-0xa29,0x2e1*-0x9+0x218b+-0x6a3*0x1,0x7f9*0x3+0x1041+-0xd0f*0x3],'pink':[-0x4a3+-0x267a+0x2c1c,0x2285+0x5af+0x2d6*-0xe,0x7*-0x367+-0x7*-0x32b+0x1b*0x19,0x1f0c+-0x1*0x18c4+-0x3*0x1c3]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x2a7296=>{_0x2a7296['destroy']();});}}const Rv=new Bt(),en=(_0x3a1e8f,_0x8d4fe6)=>{const _0xccbeb4=Rv['get'](_0x3a1e8f,()=>new Pv());if(!_0xccbeb4['map']['has'](_0x8d4fe6)){const _0x474d4a=new he(_0x3a1e8f,{'name':'built-in-t'+'exture-'+_0x8d4fe6,'width':0x1,'height':0x1,'format':Se}),_0x4c94f1=_0x474d4a['lock'](),_0x297ee8=Mv[_0x8d4fe6];v['assert'](_0x297ee8,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x8d4fe6+('\x27\x20not\x20foun'+'d')),_0x4c94f1['set'](_0x297ee8),_0x474d4a['unlock'](),_0xccbeb4['map']['set'](_0x8d4fe6,_0x474d4a);}return _0xccbeb4['map']['get'](_0x8d4fe6);};let Iv=-0x9*-0x16b+-0xc*-0x329+-0x1*0x32af;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class _p{constructor(_0x22daa0,_0x3e0098,_0x38c232){c(this,'renderVers'+'ionUpdated',-(0x1647+0x23c7+-0x3a0d)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x22daa0,this['format']=_0x3e0098,this['dirty']=!(-0x13c9*-0x1+-0x1b8f+-0x7c6*-0x1),this['impl']=_0x22daa0['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x38c232,_0x38c232&&this['setUniform'+'Buffer'](pp,_0x38c232),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x3e0098));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x5f2b3b,_0x233830){const _0x330af2=this['format']['bufferForm'+'atsMap']['get'](_0x5f2b3b);v['assert'](_0x330af2!==void(0x207b+0x2b*0x1+-0x20a6),'Setting\x20a\x20'+'uniform\x20['+_0x5f2b3b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x330af2]!==_0x233830&&(this['uniformBuf'+'fers'][_0x330af2]=_0x233830,this['dirty']=!(0xba0+0x5*-0x399+0x65d));}['setStorage'+'Buffer'](_0x5a1623,_0x3a7839){const _0x58580d=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x5a1623);v['assert'](_0x58580d!==void(0x637+-0x1c*0xe5+0x12d5*0x1),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x5a1623+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x58580d]!==_0x3a7839&&(this['storageBuf'+'fers'][_0x58580d]=_0x3a7839,this['dirty']=!(0x1*0x128f+-0xa89+-0x806));}['setTexture'](_0x1cadcf,_0x4ff4c1){const _0x194f7c=this['format']['textureFor'+'matsMap']['get'](_0x1cadcf);v['assert'](_0x194f7c!==void(-0xc7*-0x1d+0x1b8+-0x1843),'Setting\x20a\x20'+'texture\x20['+_0x1cadcf+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x194f7c]!==_0x4ff4c1?(this['textures'][_0x194f7c]=_0x4ff4c1,this['dirty']=!(0x9*0x16f+-0xd*0x227+0xf14)):this['renderVers'+'ionUpdated']<_0x4ff4c1['renderVers'+'ionDirty']&&(this['dirty']=!(0x14b9+0x61+-0x151a));}['setStorage'+'Texture'](_0x57b934,_0x3270b9){const _0xed7c66=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x57b934);v['assert'](_0xed7c66!==void(-0x156+-0x80f+0x965),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x57b934+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0xed7c66]!==_0x3270b9?(this['storageTex'+'tures'][_0xed7c66]=_0x3270b9,this['dirty']=!(-0x2134+0x247d+-0x349)):this['renderVers'+'ionUpdated']<_0x3270b9['renderVers'+'ionDirty']&&(this['dirty']=!(0x7f*-0x31+0x2*0x422+-0x559*-0x3));}['updateUnif'+'ormBuffers'](){for(let _0x1a14b1=0x1112+0x965+-0x1a77;_0x1a14b1<this['uniformBuf'+'fers']['length'];_0x1a14b1++)this['uniformBuf'+'fers'][_0x1a14b1]['update']();}['update'](){const {textureFormats:_0xd2b0dc,storageTextureFormats:_0x1d1dcd,storageBufferFormats:_0xeaf1f1}=this['format'];for(let _0x4ce6c5=-0x11b4+0x14e8+0x5*-0xa4;_0x4ce6c5<_0xd2b0dc['length'];_0x4ce6c5++){const _0x516547=_0xd2b0dc[_0x4ce6c5];let _0x3d8cd4=_0x516547['scopeId']['value'];_0x3d8cd4||(_0x516547['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x3d8cd4=en(this['device'],'white')),_0x516547['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x3d8cd4=en(this['device'],'pink')),_0x3d8cd4||(v['errorOnce']('Texture\x20'+_0x516547['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x3d8cd4=en(this['device'],'pink'))),this['setTexture'](_0x516547['name'],_0x3d8cd4);}for(let _0x3d8f3b=-0x2*0x4d7+0x81*-0x33+0x2361;_0x3d8f3b<_0x1d1dcd['length'];_0x3d8f3b++){const _0x3f723c=_0x1d1dcd[_0x3d8f3b],_0x4413b=_0x3f723c['scopeId']['value'];v['assert'](_0x4413b,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x3f723c['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x3f723c['name'],_0x4413b);}for(let _0x19a0f3=0x1bc9*-0x1+-0x1275+0x7b5*0x6;_0x19a0f3<_0xeaf1f1['length'];_0x19a0f3++){const _0x55aecc=_0xeaf1f1[_0x19a0f3],_0x5c6d3e=_0x55aecc['scopeId']['value'];v['assert'](_0x5c6d3e,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x55aecc['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x55aecc['name'],_0x5c6d3e);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x13b2ea=0x1ac+0x1*0x190e+-0x2*0xd5d;_0x13b2ea<this['uniformBuf'+'fers']['length'];_0x13b2ea++){const _0x816a6=this['uniformBuf'+'fers'][_0x13b2ea];this['uniformBuf'+'ferOffsets'][_0x13b2ea]=_0x816a6['offset'],this['renderVers'+'ionUpdated']<_0x816a6['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1fb2+0x185+0x1e2d));}this['dirty']&&(this['dirty']=!(-0x25e0+-0xd*0x256+0x443f*0x1),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const ke={'set'(_0xd278f4,_0x46d2b1,_0x540979,_0x2c617f=-0x1826*0x1+0x16ce+0x159){return _0xd278f4&~(_0x2c617f<<_0x540979)|_0x46d2b1<<_0x540979;},'get'(_0x13d227,_0x2c9cef,_0x363947=0x1232+0x761+0x886*-0x3){return _0x13d227>>_0x2c9cef&_0x363947;},'all'(_0x5eaeba,_0x10a49f,_0x456f9e=-0xd87+-0xc*-0x173+-0x3dc){const _0x1d8573=_0x456f9e<<_0x10a49f;return(_0x5eaeba&_0x1d8573)===_0x1d8573;},'any'(_0x3376eb,_0xfcdc2,_0x2fc7c=-0x4*-0x1de+0xf96+0x119*-0x15){return(_0x3376eb&_0x2fc7c<<_0xfcdc2)!==-0x1*0xf7+0xf7b+0x2*-0x742;}},Sl=0x639+0x322+-0x3*0x31c,Gi=-0x1e6b*0x1+0x1011+0xe69,dm=0x1*0x2002+0x3b*0x73+-0x3a83*0x1,um=0x1ab5+-0x1*-0xa66+0x8*-0x4a3,fm=-0xa54*0x1+-0x409*0x9+0x2eac,pm=-0x2182+0x1a9+0xd*0x274,mm=-0x157*0xd+0x8*-0x2a9+0x26c1,_m=0x1*-0x18ad+-0x8*0x4af+0x3e37*0x1,Mu=-0x16bd+-0x37+0x170a,gm=-0x1*-0x1510+-0xb59+0x4d0*-0x2,ym=0xc5d+-0x5*-0x745+-0x309e,xm=-0x2310+-0x1f*-0x13f+-0x128*0x3,Sm=0x7a*0x3d+-0x1*0x49e+-0x2*0xc2d,Dv=-0x1*0x230d+0x2*0x81a+0x12e8,Lv=Mu,zs=class zs{constructor(_0x330b01=!(0x1a*0x116+-0xbc0*0x1+-0x107b),_0x531e46=Ft,_0x157ad9=nt,_0x50b208=Bf,_0x7f71a,_0x56839f,_0x29639f,_0x4e4b11=!(0x20f+0xf1c*0x1+-0x112b*0x1),_0x4a7a37=!(0x11c0+0xd79*-0x1+-0x447),_0x2e3672=!(0x3f*-0x9e+0x12e9*0x1+0x13f9),_0x3202e6=!(0xb*-0xd5+-0x2611+0x8*0x5e7)){c(this,'target0',-0x113d+0x1f*0xdf+-0x9c4),(this['setColorBl'+'end'](_0x531e46,_0x157ad9,_0x50b208),this['setAlphaBl'+'end'](_0x7f71a??_0x531e46,_0x56839f??_0x157ad9,_0x29639f??_0x50b208),this['setColorWr'+'ite'](_0x4e4b11,_0x4a7a37,_0x2e3672,_0x3202e6),this['blend']=_0x330b01);}set['blend'](_0x19872f){this['target0']=ke['set'](this['target0'],_0x19872f?-0xcee*-0x2+-0x92b*-0x3+0xaac*-0x5:0xde1+-0x4*-0x593+-0x7*0x52b,Sm);}get['blend'](){return ke['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x599ed3,_0x2414e6,_0x5ef51b){this['target0']=ke['set'](this['target0'],_0x599ed3,dm,Sl),this['target0']=ke['set'](this['target0'],_0x2414e6,um,Gi),this['target0']=ke['set'](this['target0'],_0x5ef51b,fm,Gi);}['setAlphaBl'+'end'](_0x2316aa,_0x21aee0,_0x52cf9a){this['target0']=ke['set'](this['target0'],_0x2316aa,pm,Sl),this['target0']=ke['set'](this['target0'],_0x21aee0,mm,Gi),this['target0']=ke['set'](this['target0'],_0x52cf9a,_m,Gi);}['setColorWr'+'ite'](_0x4323d9,_0x4b4979,_0x3e6284,_0x223f10){this['redWrite']=_0x4323d9,this['greenWrite']=_0x4b4979,this['blueWrite']=_0x3e6284,this['alphaWrite']=_0x223f10;}get['colorOp'](){return ke['get'](this['target0'],dm,Sl);}get['colorSrcFa'+'ctor'](){return ke['get'](this['target0'],um,Gi);}get['colorDstFa'+'ctor'](){return ke['get'](this['target0'],fm,Gi);}get['alphaOp'](){return ke['get'](this['target0'],pm,Sl);}get['alphaSrcFa'+'ctor'](){return ke['get'](this['target0'],mm,Gi);}get['alphaDstFa'+'ctor'](){return ke['get'](this['target0'],_m,Gi);}set['redWrite'](_0x36c872){this['target0']=ke['set'](this['target0'],_0x36c872?0x1*0xa17+0x558+-0xf6e:0x13ef+0x8d*0x1+-0x147c,Mu);}get['redWrite'](){return ke['all'](this['target0'],Mu);}set['greenWrite'](_0x4daec8){this['target0']=ke['set'](this['target0'],_0x4daec8?0x75*0x3+0x1*-0x383+0x225:0x39f*0xa+0x6a9+-0x2adf,gm);}get['greenWrite'](){return ke['all'](this['target0'],gm);}set['blueWrite'](_0x64bffd){this['target0']=ke['set'](this['target0'],_0x64bffd?-0x18e9+0x6d*0x23+0xa03:-0x1b02*0x1+0x53d+0x15c5,ym);}get['blueWrite'](){return ke['all'](this['target0'],ym);}set['alphaWrite'](_0x19b7c1){this['target0']=ke['set'](this['target0'],_0x19b7c1?0x1*0xd5b+0x1*-0x24f+-0xb0b:-0x1441+0x7*0x12d+-0x156*-0x9,xm);}get['alphaWrite'](){return ke['all'](this['target0'],xm);}get['allWrite'](){return ke['get'](this['target0'],Lv,Dv);}['copy'](_0x26d9e0){return this['target0']=_0x26d9e0['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x38cfe6){return this['target0']===_0x38cfe6['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(0x3*0x8f9+0x2229+-0x3d14),void(0x36d*0xa+0x633*0x2+-0x2ea8),void(0xb*0x185+0x189e+0x1*-0x2955),void(0xcc7+0xcfb+0x7*-0x3ae),void(0x25e8+0x4*-0x63d+0x4*-0x33d),void(-0x21b2+0xeb9+0x12f9*0x1),void(0x13a*-0xe+-0x1a6*-0xb+-0xf6),!(-0x1bb1+0x3b9*0x5+-0x307*-0x3),!(0x412+0x7*-0xf8+0x2b7),!(0x101f+0x9*0x275+-0x263b),!(-0xe32+-0x18ca+0x9*0x455)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0x2279+0x362*-0x5+-0x1*0x118f),Ft,uc,fc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0xc7a+0x1*0x4ef+0x78b),Ft,nt,nt)));let _t=zs;class gp{constructor(){c(this,'map',new Map()),c(this,'id',-0x25e0+-0xc5f*-0x2+0xd22);}['get'](_0x82d10c){let _0x5e34a8=this['map']['get'](_0x82d10c);return _0x5e34a8===void(-0xb28+0x457+-0x1*-0x6d1)&&(_0x5e34a8=this['id']++,this['map']['set'](_0x82d10c,_0x5e34a8)),_0x5e34a8;}}const Fv=new gp(),vm=-0x1d*0x2+-0x6*-0x52b+0x1*-0x1ec1,bm=0x1d85+-0x1713+-0x672,wm=-0x1b64+0x173a+0x42d,Qi=class Qi{constructor(_0x2eb7c8=pu,_0x4809bb=!(-0x2627*0x1+-0x240e+0x4a35)){c(this,'data',-0x9a0*0x1+-0x75+0x59*0x1d),c(this,'_depthBias',0x2091+-0x1*0x1505+0x2e3*-0x4),c(this,'_depthBias'+'Slope',-0x34+-0x16c5+-0x16f9*-0x1),c(this,'key',0x1d21+-0x118+0x1c09*-0x1),(this['func']=_0x2eb7c8,this['write']=_0x4809bb);}set['test'](_0x174319){this['func']=_0x174319?pu:Ei,this['updateKey']();}get['test'](){return this['func']!==Ei;}set['write'](_0x31c3b2){this['data']=ke['set'](this['data'],_0x31c3b2?-0xffa+0x2042+-0x1047*0x1:-0x841*-0x3+-0x2101+0x83e*0x1,wm),this['updateKey']();}get['write'](){return ke['all'](this['data'],wm);}set['func'](_0x5219de){this['data']=ke['set'](this['data'],_0x5219de,bm,vm),this['updateKey']();}get['func'](){return ke['get'](this['data'],bm,vm);}set['depthBias'](_0x10d624){this['_depthBias']=_0x10d624,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x31d9c7){this['_depthBias'+'Slope']=_0x31d9c7,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x241c33){return this['data']=_0x241c33['data'],this['_depthBias']=_0x241c33['_depthBias'],this['_depthBias'+'Slope']=_0x241c33['_depthBias'+'Slope'],this['key']=_0x241c33['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x4b6672,_depthBias:_0xe67d7c,_depthBiasSlope:_0x587d2b}=this,_0x901a20=_0x4b6672+'-'+_0xe67d7c+'-'+_0x587d2b;this['key']=Fv['get'](_0x901a20);}['equals'](_0x2ba7fa){return this['key']===_0x2ba7fa['key'];}};c(Qi,'DEFAULT',Object['freeze'](new Qi())),c(Qi,'NODEPTH',Object['freeze'](new Qi(Ei,!(0x1f2f+-0x1960+-0x5ce)))),c(Qi,'WRITEDEPTH',Object['freeze'](new Qi(Ei,!(0x133*-0x9+0x11d*0x14+-0xb79))));let ls=Qi;class Ky{constructor(){c(this,'globalId',-0xe0a+-0x350*0xb+0x2*0x193d),c(this,'revision',-0x1524+0x1f*-0x9f+-0x3*-0xd77);}['equals'](_0x3ccb13){return this['globalId']===_0x3ccb13['globalId']&&this['revision']===_0x3ccb13['revision'];}['copy'](_0x5d8adf){this['globalId']=_0x5d8adf['globalId'],this['revision']=_0x5d8adf['revision'];}['reset'](){this['globalId']=-0x1d1e+-0x1c36+0x3954,this['revision']=0x15ff+0x89*0xe+0x1*-0x1d7d;}}let Tm=0x3*-0xa77+-0x1*0x7d9+0x273e;class kv{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class Ov{constructor(_0x3919c9){this['name']=_0x3919c9,this['value']=null,this['versionObj'+'ect']=new kv();}['toJSON'](_0x4c956b){}['setValue'](_0x59a471){this['value']=_0x59a471,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x3cf05b){this['name']=_0x3cf05b,this['variables']=new Map();}['resolve'](_0x20fc52){return this['variables']['has'](_0x20fc52)||this['variables']['set'](_0x20fc52,new Ov(_0x20fc52)),this['variables']['get'](_0x20fc52);}['removeValu'+'e'](_0x4bce08){for(const _0x2329a9 in this['variables']){const _0xbbdd92=this['variables'][_0x2329a9];_0xbbdd92['value']===_0x4bce08&&(_0xbbdd92['value']=null);}}}let Nv=-0x218d+0x1*0x30a+0x1*0x1e83;class hs{constructor(_0x3175d2,_0x58c631,_0x40165c,_0x2b665e){c(this,'usage',Kt),(v['assert'](arguments['length']<=0xa29+0x67*0x29+-0x1aa4&&(!_0x2b665e||typeof _0x2b665e=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x2b665e==null?void(0x2271+-0xfcd+-0x12a4):_0x2b665e['usage'])??Kt,this['device']=_0x3175d2,this['format']=_0x58c631,this['numVertice'+'s']=_0x40165c,this['id']=Nv++,this['impl']=_0x3175d2['createVert'+'exBufferIm'+'pl'](this,_0x58c631,_0x2b665e),this['numBytes']=_0x58c631['verticesBy'+'teSize']?_0x58c631['verticesBy'+'teSize']:_0x58c631['size']*_0x40165c,this['adjustVram'+'SizeTracki'+'ng'](_0x3175d2['_vram'],this['numBytes']));const _0x885881=_0x2b665e==null?void(-0x1f31+-0xad*-0x25+-0x9*-0xb0):_0x2b665e['data'];_0x885881?this['setData'](_0x885881):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0xaf08ff=this['device'],_0x14fdf5=_0xaf08ff['buffers']['indexOf'](this);_0x14fdf5!==-(0x26*-0x3b+0x1*0x2528+-0x1c65)&&_0xaf08ff['buffers']['splice'](_0x14fdf5,-0x1*0xd1f+-0xc*-0x1f1+-0x1*0xa2c),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0xaf08ff),this['adjustVram'+'SizeTracki'+'ng'](_0xaf08ff['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x464ef3,_0x5f1de6){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x5f1de6+'\x20vram.vb:\x20'+_0x464ef3['vb']+'\x20=>\x20'+(_0x464ef3['vb']+_0x5f1de6)),_0x464ef3['vb']+=_0x5f1de6;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x1ff5b1){return _0x1ff5b1['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x1ff5b1['byteLength']),!(-0xae4+0x1eab+0x2*-0x9e3)):(this['storage']=_0x1ff5b1,this['unlock'](),!(0x1f85+-0x6a2*0x5+0x1a5));}}function hn(_0x227e04){if(_0x227e04==null)return-0x1*0x1191+0x343+0xe4e;let _0x48271d=0x1*0x18ca+-0x1f27+0x65d;for(let _0x45ec05=0x7*0x4c1+0xaea+-0x2c31,_0x2c98b8=_0x227e04['length'];_0x45ec05<_0x2c98b8;_0x45ec05++)_0x48271d=(_0x48271d<<-0x46*-0x61+-0x110b+-0x976)-_0x48271d+_0x227e04['charCodeAt'](_0x45ec05),_0x48271d|=-0x450*0x1+-0x26*0x16+0x794;return _0x48271d;}function Zy(_0x583e31){let _0x354201=-0x1c929353+0x1cf69c15+-0x1a11f0d*-0x4f;for(let _0x2bf601=-0x19ca*-0x1+0x19db*-0x1+0x11*0x1;_0x2bf601<_0x583e31['length'];_0x2bf601++)_0x354201^=_0x583e31[_0x2bf601],_0x354201*=-0x1db*0xd091+-0x1bb3503*0x1+0x43e33a1*0x1;return _0x354201>>>0x24c7+0x1464+0x392b*-0x1;}const zv=new gp(),Uv=[0x23e5+0x80c+0x1e9*-0x17,0x60*0x44+-0x1c2d+0x1*0x2b1,-0x176a+-0x426*0x6+0x3056,0x5*-0x593+0xb*-0x3b+0x1e74*0x1,0x29*-0x59+-0x1*0xc59+0x1aaa],Vv=new Bt();class Mt{constructor(_0x47d5b6,_0x3b3830,_0x66504){this['device']=_0x47d5b6,this['_elements']=[],this['hasUv0']=!(-0x2345+0x18b4+0xa92),this['hasUv1']=!(0x4*0x529+-0x3b4*-0x4+-0x2373),this['hasColor']=!(-0x21ba+0x1424+0x7*0x1f1),this['hasTangent'+'s']=!(0x13a3+0x1c89+-0x302b),this['verticesBy'+'teSize']=-0xb03+0x5f*0x61+-0x1*0x18fc,this['vertexCoun'+'t']=_0x66504,this['interleave'+'d']=_0x66504===void(0x10a3*-0x1+-0x1b87+0x2c2a*0x1),this['instancing']=!(-0xbdb+0x117b+-0x59f),this['size']=_0x3b3830['reduce']((_0x179b3f,_0x26421b)=>_0x179b3f+Math['ceil'](_0x26421b['components']*_o[_0x26421b['type']]/(0x26c+0x1799+-0x1a01))*(-0x2b*-0xb1+0x1*-0x65+0x2*-0xea9),-0x2161+0x982+0x17df);let _0x2c7780=-0x7a2*-0x1+0x909*-0x4+0xb2*0x29,_0x57bb7f;for(let _0x28b470=-0x2539+-0x1*-0x1fb5+-0x161*-0x4,_0x441ea5=_0x3b3830['length'];_0x28b470<_0x441ea5;_0x28b470++){const _0x30f712=_0x3b3830[_0x28b470];_0x57bb7f=_0x30f712['components']*_o[_0x30f712['type']],v['assert'](Mt['isElementV'+'alid'](_0x47d5b6,_0x30f712),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x30f712['semantic']+'\x20:\x20'+Sv[_0x30f712['type']]+'\x20x\x20'+_0x30f712['components']),_0x66504&&(_0x2c7780=N['roundUp'](_0x2c7780,_0x57bb7f),v['assert'](_0x57bb7f%(0x2412+-0x1e12+0x2fe*-0x2)===0x26*0x4c+0x1*0x239d+-0x2ee5,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x57bb7f));const _0x5a80bc=_0x30f712['asInt']??!(-0x448+0x3b*0x83+0x67a*-0x4),_0x1830f9=_0x5a80bc?!(-0x5a7+-0x2346+0x28ee):_0x30f712['normalize']??!(0xe11*-0x1+-0xe37*-0x1+-0x25),_0x39d8f2={'name':_0x30f712['semantic'],'offset':_0x66504?_0x2c7780:_0x30f712['hasOwnProp'+'erty']('offset')?_0x30f712['offset']:_0x2c7780,'stride':_0x66504?_0x57bb7f:_0x30f712['hasOwnProp'+'erty']('stride')?_0x30f712['stride']:this['size'],'dataType':_0x30f712['type'],'numComponents':_0x30f712['components'],'normalize':_0x1830f9,'size':_0x57bb7f,'asInt':_0x5a80bc};this['_elements']['push'](_0x39d8f2),_0x66504?_0x2c7780+=_0x57bb7f*_0x66504:_0x2c7780+=Math['ceil'](_0x57bb7f/(0x95*-0x43+0x2ae+-0x47*-0x83))*(-0xdfd*-0x2+0x17cb+-0x33c1),_0x30f712['semantic']===os?this['hasUv0']=!(0xef4+-0x7b8+-0x73c):_0x30f712['semantic']===gn?this['hasUv1']=!(-0x85*-0x2f+0x4*-0x4f0+-0x4ab):_0x30f712['semantic']===Et?this['hasColor']=!(-0x4*-0x316+0x1c12+0x1*-0x286a):_0x30f712['semantic']===Zs&&(this['hasTangent'+'s']=!(0x9*-0x213+-0x2b*-0x5c+0x337*0x1));}_0x66504&&(this['verticesBy'+'teSize']=_0x2c7780),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x2fe09e){return Vv['get'](_0x2fe09e,()=>new Mt(_0x2fe09e,[{'semantic':np,'components':0x4,'type':Ce},{'semantic':ya,'components':0x4,'type':Ce},{'semantic':ap,'components':0x4,'type':Ce},{'semantic':xa,'components':0x4,'type':Ce}]));}static['isElementV'+'alid'](_0x24694d,_0x3913a8){const _0x17d959=_0x3913a8['components']*_o[_0x3913a8['type']];return!(_0x24694d['isWebGPU']&&!Uv['includes'](_0x17d959));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x1580ad=[],_0x1943dc=[],_0x3a08f6=this['_elements']['length'];for(let _0x31b928=-0x1726+-0x1240+0x7*0x5ea;_0x31b928<_0x3a08f6;_0x31b928++){const {name:_0x18c66f,dataType:_0x47765b,numComponents:_0x369be1,normalize:_0x27cb06,offset:_0x20ef99,stride:_0x1fdf19,size:_0x11a455,asInt:_0x537f66}=this['_elements'][_0x31b928],_0x509883=_0x18c66f+_0x47765b+_0x369be1+_0x27cb06+_0x537f66;_0x1580ad['push'](_0x509883);const _0x1228da=_0x509883+_0x20ef99+_0x1fdf19+_0x11a455;_0x1943dc['push'](_0x1228da);}_0x1580ad['sort']();const _0x3dea14=_0x1580ad['join']();this['batchingHa'+'sh']=hn(_0x3dea14),this['shaderProc'+'essingHash'+'String']=_0x3dea14,this['renderingH'+'ashString']=_0x1943dc['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new gp(),nc=class nc{constructor(_0x37354a={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x1891+0x67e+-0x1*0x1f0f)),c(this,'_key'),(this['_func']=_0x37354a['func']??Ei,this['_ref']=_0x37354a['ref']??0x24bc+0x3a*0x8f+0x1*-0x4522,this['_readMask']=_0x37354a['readMask']??0x1*0x1edb+-0xd44+-0x1098,this['_writeMask']=_0x37354a['writeMask']??0x17b9+-0x1c5e*-0x1+0x3*-0x1108,this['_fail']=_0x37354a['fail']??ca,this['_zfail']=_0x37354a['zfail']??ca,this['_zpass']=_0x37354a['zpass']??ca,this['_evalKey']());}set['func'](_0x1fef0b){this['_func']=_0x1fef0b,this['_dirty']=!(-0x651+0xf44+0x8f3*-0x1);}get['func'](){return this['_func'];}set['ref'](_0x2be546){this['_ref']=_0x2be546,this['_dirty']=!(0x2*0xff4+-0x1*-0x1b0e+-0x3af6);}get['ref'](){return this['_ref'];}set['fail'](_0x413709){this['_fail']=_0x413709,this['_dirty']=!(-0x19e4+0x2fc+-0x16e8*-0x1);}get['fail'](){return this['_fail'];}set['zfail'](_0x5e73dd){this['_zfail']=_0x5e73dd,this['_dirty']=!(-0x1*-0xf91+0xd06+-0xd*0x233);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x48070b){this['_zpass']=_0x48070b,this['_dirty']=!(0x2*0x149+-0x2230+0x3*0xa8a);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x368ad0){this['_readMask']=_0x368ad0,this['_dirty']=!(-0xa8c+-0x1dff+0x288b);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x1bdc06){this['_writeMask']=_0x1bdc06,this['_dirty']=!(0x6b*0x7+0xa1f+-0xd0c);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x151460,_ref:_0x5a7fbe,_fail:_0x578c47,_zfail:_0x9a2dc1,_zpass:_0x2ea615,_readMask:_0x258c3f,_writeMask:_0x158327}=this,_0x2317c2=_0x151460+','+_0x5a7fbe+','+_0x578c47+','+_0x9a2dc1+','+_0x2ea615+','+_0x258c3f+','+_0x158327;this['_key']=Gv['get'](_0x2317c2),this['_dirty']=!(0x11*-0xf8+-0x16*0x164+-0x1*-0x2f11);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x434330){return this['_func']=_0x434330['_func'],this['_ref']=_0x434330['_ref'],this['_readMask']=_0x434330['_readMask'],this['_writeMask']=_0x434330['_writeMask'],this['_fail']=_0x434330['_fail'],this['_zfail']=_0x434330['_zfail'],this['_zpass']=_0x434330['_zpass'],this['_dirty']=_0x434330['_dirty'],this['_key']=_0x434330['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(nc,'DEFAULT',Object['freeze'](new nc()));let qs=nc;const ac=class ac extends ce{constructor(_0x135416,_0x52be24){var _0x22fee8,_0x79ac97,_0x12f975,_0xbcbe5,_0x49c05e,_0x1c08cb;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(-0x8*0x421+0x17ad+0x95c)),c(this,'isWebGPU',!(-0x7c7*-0x4+-0x395+0x1*-0x1b86)),c(this,'isWebGL2',!(-0x4*-0x355+0xefe+-0x1c51)),c(this,'isHdr',!(0x22e2+-0x1de2+-0x4ff)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',0x99b+-0x15c7+0x3*0x40f),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x50*-0xe+0x1115+-0x1574),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(-0xe56+-0xe19+0x1c70)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x1c50+0xaf+-0x9*-0x312)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',0x1*-0xa96+0x13d*-0x1+0xbd3),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x9*0x1a5+0x3cf+-0x129b)),c(this,'supportsUn'+'iformBuffe'+'rs',!(-0xe81+0x61*0x49+0x25*-0x5b)),c(this,'supportsCl'+'ipDistance'+'s',!(0x1d8*0xb+-0x146c+0x25)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0xd*-0x1ca+0x1da5+-0x662)),c(this,'textureFlo'+'atFilterab'+'le',!(0xb79+-0x1*-0x1d17+-0x288f)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new ls()),c(this,'stencilEna'+'bled',!(0x1*-0x1f6a+0x2247+-0x2dc)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0x2a9*0x6+0x3ee*-0x4+0x1*0x1fae,-0x1ef7*0x1+-0x1501+0x33f8,-0x1*0x18c5+0x598+-0x1*-0x132d,0x11c2+-0x982+-0x83f],'depth':0x1,'stencil':0x0,'flags':Eo|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x53*0x53+-0x574+-0x55d*0x4)),(this['canvas']=_0x135416,this['initOption'+'s']={..._0x52be24},(_0x22fee8=this['initOption'+'s'])['alpha']??(_0x22fee8['alpha']=!(0xe83+-0xfe9*0x1+0x166)),(_0x79ac97=this['initOption'+'s'])['depth']??(_0x79ac97['depth']=!(0x9d*0x3+-0x14*-0x1a8+-0x1*0x22f7)),(_0x12f975=this['initOption'+'s'])['stencil']??(_0x12f975['stencil']=!(0x1*0x156b+-0x4*-0x27f+-0x1*0x1f67)),(_0xbcbe5=this['initOption'+'s'])['antialias']??(_0xbcbe5['antialias']=!(0x7d5+-0x2*0x628+-0x1*-0x47b)),(_0x49c05e=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x49c05e['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x1c08cb=this['initOption'+'s'])['displayFor'+'mat']??(_0x1c08cb['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](-0x1fb9*-0x1+-0x25*0x4d+-0x1497,window['devicePixe'+'lRatio']):0x2*-0x119a+-0xc9d+0x2fd2,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x5*-0x12e+0x2a9*0x1+-0x1*0x88f,this['_shaderSwi'+'tchesPerFr'+'ame']=0x126*-0xf+-0x1304+0x243e,this['_primsPerF'+'rame']=[]);for(let _0x3f0655=Pc;_0x3f0655<=Yr;_0x3f0655++)this['_primsPerF'+'rame'][_0x3f0655]=0x2374+-0x11*0xe9+-0xb*0x1d1;this['_renderTar'+'getCreatio'+'nTime']=0x62+-0xa86+0x4*0x289,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0xb*0x1e9+-0x15cd+-0x10*-0x2ad);}['postInit'](){const _0x3efd14=new Mt(this,[{'semantic':He,'components':0x2,'type':Ce}]),_0x2aa1e6=new Float32Array([-(-0x1*-0xe9b+-0xa7*-0x1b+-0x2037),-(-0x161f+0x20*-0x110+-0x10*-0x382),-0x1f0c+0x31*0x93+-0x2ea*-0x1,-(0xe51+-0xb0b*0x3+0x12d1),-(0x23b1*0x1+-0xbaa*0x1+-0x1806),-0x1883*0x1+0x1*0xf25+0x1*0x95f,-0x21f0*-0x1+-0x1*0x1c99+-0x556,-0xc9*-0x28+0x11*0xde+-0x1*0x2e25]);this['quadVertex'+'Buffer']=new hs(this,_0x3efd14,0x1*-0x93+0x169b+-0x1604,{'data':_0x2aa1e6});}['destroy'](){var _0x5b3bab,_0x157898,_0x30928f;this['fire']('destroy'),(_0x5b3bab=this['quadVertex'+'Buffer'])==null||_0x5b3bab['destroy'](),this['quadVertex'+'Buffer']=null,(_0x157898=this['dynamicBuf'+'fers'])==null||_0x157898['destroy'](),this['dynamicBuf'+'fers']=null,(_0x30928f=this['gpuProfile'+'r'])==null||_0x30928f['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x47d534){this['fire']('destroy:sh'+'ader',_0x47d534);const _0x5d6969=this['shaders']['indexOf'](_0x47d534);_0x5d6969!==-(-0x20eb+0x160*0x1c+-0xcc*0x7)&&this['shaders']['splice'](_0x5d6969,0x1*0xe9b+0x1ce3+-0x2b7d);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x26db1b;this['contextLos'+'t']=!(0x22e3+0x1974+-0x3c57*0x1),this['backBuffer'+'Size']['set'](-(-0x131*-0x2+-0x1b11+0x18b0),-(0x6b*-0x3f+-0x1*-0x22c7+-0x871));for(const _0x47386f of this['textures'])_0x47386f['loseContex'+'t']();for(const _0x45a294 of this['buffers'])_0x45a294['loseContex'+'t']();for(const _0x500445 of this['targets'])_0x500445['loseContex'+'t']();(_0x26db1b=this['gpuProfile'+'r'])==null||_0x26db1b['loseContex'+'t']();}['restoreCon'+'text'](){var _0x8e7f3e,_0x34ea64;this['contextLos'+'t']=!(-0xe*-0x161+0x1db2*0x1+-0x30ff),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x8aba5b of this['buffers'])_0x8aba5b['unlock']();(_0x34ea64=(_0x8e7f3e=this['gpuProfile'+'r'])==null?void(-0x2583*-0x1+0x1634+-0x3bb7):_0x8e7f3e['restoreCon'+'text'])==null||_0x34ea64['call'](_0x8e7f3e);}['toJSON'](_0x3bdf96){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x15ab+0x20f3+-0x369e),this['shaderAsyn'+'cCompile']=!(0x1b33+0x25e+-0x1d90),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new ls(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0x174d+0x3*-0xa62+0x7d9,this['sx']=this['sy']=this['sw']=this['sh']=-0x25f*-0x6+-0x194c*0x1+0xb12,this['blendColor']=new Y(-0x1fbc+-0x981*-0x1+0x163b,-0x23ae*0x1+-0x18e9+-0x3c97*-0x1,-0xb5a+-0x105f+0x2f*0x97,-0x1*-0xfaf+0x3b4*-0x2+0xa3*-0xd);}['setStencil'+'State'](_0x2d1494,_0x42de94){v['assert'](!(0x25ad+0x99c+-0x2f48));}['setBlendSt'+'ate'](_0x4f3067){v['assert'](!(-0x16df+-0x8ea+-0x1*-0x1fca));}['setBlendCo'+'lor'](_0x4c04e5,_0xa34190,_0x123583,_0x5abce3){v['assert'](!(0x1de9*-0x1+-0xd3*0x2+0x1f90*0x1));}['setDepthSt'+'ate'](_0x57052f){v['assert'](!(0x383*0xa+-0x192c+0x1fd*-0x5));}['setCullMod'+'e'](_0x5ab5e7){v['assert'](!(-0x2e7*-0x2+-0x26a3+0x20d6));}['setRenderT'+'arget'](_0x4ee1c9){this['renderTarg'+'et']=_0x4ee1c9;}['setIndexBu'+'ffer'](_0x43828e){this['indexBuffe'+'r']=_0x43828e;}['setVertexB'+'uffer'](_0x391950){_0x391950&&this['vertexBuff'+'ers']['push'](_0x391950);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x2*0xb3b+-0x1eb*-0x3+0x10b5;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x58282a){if(_0x58282a['initialize'+'d'])return;const _0x1dbadf=re();this['fire']('fbo:create',{'timestamp':_0x1dbadf,'target':this}),_0x58282a['init'](),this['targets']['add'](_0x58282a),this['_renderTar'+'getCreatio'+'nTime']+=re()-_0x1dbadf;}['_isBrowser'+'Interface'](_0x309022){return this['_isImageBr'+'owserInter'+'face'](_0x309022)||this['_isImageCa'+'nvasInterf'+'ace'](_0x309022)||this['_isImageVi'+'deoInterfa'+'ce'](_0x309022);}['_isImageBr'+'owserInter'+'face'](_0x3aec38){return typeof ImageBitmap<'u'&&_0x3aec38 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x3aec38 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0xfc81eb){return typeof HTMLCanvasElement<'u'&&_0xfc81eb instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x441250){return typeof HTMLVideoElement<'u'&&_0x441250 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x3b8ac3,_0x55c5b8){const _0x2e0e06=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x4e*-0x77+0x2402+-0xd*0x58f),_0x4caf5c=Math['floor'](_0x3b8ac3*_0x2e0e06),_0x43fb2a=Math['floor'](_0x55c5b8*_0x2e0e06);(_0x4caf5c!==this['canvas']['width']||_0x43fb2a!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x4caf5c,_0x43fb2a);}['setResolut'+'ion'](_0x1ab7c8,_0x12cc0b){this['canvas']['width']=_0x1ab7c8,this['canvas']['height']=_0x12cc0b,this['fire'](ac['EVENT_RESI'+'ZE'],_0x1ab7c8,_0x12cc0b);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x57322e=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x57322e['width'],this['clientRect']['height']=_0x57322e['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x2d8f21){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x85*0x49+0x25*0x39+0x2e29*-0x1);}set['maxPixelRa'+'tio'](_0xf1b784){this['_maxPixelR'+'atio']=_0xf1b784;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x94cea8){}['endRenderP'+'ass'](_0x1cbea3){}['startCompu'+'tePass'](_0x5e4b79){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0xaec+-0x3d*-0x61+-0x2209,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x1e90e4=this['textures']['slice']();_0x1e90e4['sort']((_0x4c79fb,_0x2d448a)=>_0x2d448a['gpuSize']-_0x4c79fb['gpuSize']),v['log']('Textures:\x20'+_0x1e90e4['length']);let _0x4f6cb4=-0x20a7+0x1*0x120a+0xe9d;_0x1e90e4['forEach']((_0x34250b,_0x16269f)=>{const _0x1eaa7b=_0x34250b['gpuSize'];_0x4f6cb4+=_0x1eaa7b,v['log'](_0x16269f+'.\x20'+_0x34250b['name']+'\x20'+_0x34250b['width']+'x'+_0x34250b['height']+'\x20VRAM:\x20'+(_0x1eaa7b/(-0x6*0xe+0x1e8*-0x1+0x63c)/(0x61a+-0x2*0x150+-0x43*-0x2))['toFixed'](-0x2416+0x1*-0x12e2+0x36fa)+'\x20MB');}),v['log']('Total:\x20'+(_0x4f6cb4/(-0x13e4+-0x1d21+-0x793*-0x7)/(0x66e*0x4+-0x176e+0x1b6*0x1))['toFixed'](-0x1061*-0x2+-0x9*-0x44e+-0x477e)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x30acd3,_0x4866f4='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x1e182f=[ga,Qe,Ye],_0x40e6f7=!(0x1*-0x218+0x24d0+0x328*-0xb),_0x34bdb0=0xc*-0x1f7+0x1019*0x2+-0x69*0x15){for(let _0x113186=-0x115f*-0x2+0x656*0x5+-0x426c;_0x113186<_0x1e182f['length'];_0x113186++){const _0x4503b0=_0x1e182f[_0x113186];switch(_0x4503b0){case ga:{if(this['textureRG1'+'1B10Render'+'able'])return _0x4503b0;break;}case Qe:if(this['textureHal'+'fFloatRend'+'erable'])return _0x4503b0;break;case Ye:if(this['isWebGPU']&&_0x34bdb0>0x2283+-0xb7a*0x1+-0x1708*0x1)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x40e6f7||this['textureFlo'+'atFilterab'+'le']))return _0x4503b0;break;}}}};c(ac,'EVENT_RESI'+'ZE','resizecanv'+'as');let kh=ac,Hv=-0x10*0xb9+0x25b6+-0x1a26;class pt{constructor(_0x524432={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x5bf1d0,_0x25afe0,_0x24e89c,_0x6ce7fa,_0x44f05a,_0x338781;v['assert'](!(_0x524432 instanceof kh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x3dc73b=((_0x5bf1d0=_0x524432['colorBuffe'+'r'])==null?void(-0x1015+0x1*0x53f+0x26*0x49):_0x5bf1d0['device'])??((_0x25afe0=_0x524432['colorBuffe'+'rs'])==null?void(0xf29*-0x2+0x11d9+0xc79):_0x25afe0[0x3*0x8c3+-0xc26+-0xe23]['device'])??((_0x24e89c=_0x524432['depthBuffe'+'r'])==null?void(0x15df+-0x1710+0x131):_0x24e89c['device'])??_0x524432['graphicsDe'+'vice'];v['assert'](_0x3dc73b,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x3dc73b;const {maxSamples:_0x49ca00}=this['_device'];if(this['_samples']=Math['min'](_0x524432['samples']??-0x1a58+0x1*0x19a9+0xb0,_0x49ca00),_0x3dc73b['isWebGPU']&&(this['_samples']=this['_samples']>0x2554+-0x196d+-0xbe6?_0x49ca00:-0x391+-0x22*-0xd8+0x2*-0xc8f),this['_colorBuff'+'er']=_0x524432['colorBuffe'+'r'],_0x524432['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x524432['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x524432['depthBuffe'+'r'],this['_face']=_0x524432['face']??-0x25e6+0x1da4+0xe*0x97,this['_depthBuff'+'er']){const _0x34d9e2=this['_depthBuff'+'er']['_format'];_0x34d9e2===Pi||_0x34d9e2===ha?(this['_depth']=!(-0x151e+0x1b6d+-0x64f),this['_stencil']=!(0x3*0x409+0xa2d+-0x76d*0x3)):_0x34d9e2===bc?(this['_depth']=!(-0x22*-0xdc+-0xf78+0x2*-0x6e0),this['_stencil']=!(0x13df+-0x2c8*0x7+-0x67)):_0x34d9e2===Li&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0xa9*-0x6+-0xb*-0xd3+0x1*-0x51a?(this['_depth']=!(-0x663+0x79b+-0x138),this['_stencil']=!(-0x2469+0x1f32+0x538*0x1)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x1fe2+-0x1*-0xb9e+-0x2b7f),this['_stencil']=!(0x3a0+0xbc6*0x1+0xf65*-0x1));}else this['_depth']=_0x524432['depth']??!(0x2266+0xe45*0x1+-0x30ab),this['_stencil']=_0x524432['stencil']??!(-0x1783+-0x2*-0xfed+-0x42b*0x2);_0x524432['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x524432['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x524432['colorBuffe'+'rs'][-0x20b7+0x227d+-0x1c6])),this['autoResolv'+'e']=_0x524432['autoResolv'+'e']??!(-0xc6b+-0x25a5+-0xb2*-0x48),this['name']=_0x524432['name'],this['name']||(this['name']=(_0x6ce7fa=this['_colorBuff'+'er'])==null?void(0x1047*-0x1+0x362+-0xce5*-0x1):_0x6ce7fa['name']),this['name']||(this['name']=(_0x44f05a=this['_depthBuff'+'er'])==null?void(0x1b41*-0x1+0xd7d+0xdc4):_0x44f05a['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x524432['flipY']??!(0x1613+0x4b6*0x5+0x248*-0x14),this['_mipLevel']=_0x524432['mipLevel']??-0x2ef*0xd+-0x223*-0x4+0xf*0x1f9,this['_mipLevel']>0x121*0x1f+-0x1336+-0x9*0x1c1&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x524432}),this['_mipLevel']=-0x23cf+0x1fd+-0x12*-0x1e1),this['_mipmaps']=_0x524432['mipLevel']===void(-0x1acf+-0x1a16+0x34e5),this['validateMr'+'t'](),this['impl']=_0x3dc73b['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x338781=this['_colorBuff'+'ers'])!=null&&_0x338781['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x79ae3d=this['_device'];_0x79ae3d&&(_0x79ae3d['targets']['delete'](this),_0x79ae3d['renderTarg'+'et']===this&&_0x79ae3d['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x3ab006=this['_device'];_0x3ab006&&this['impl']['destroy'](_0x3ab006);}['destroyTex'+'tureBuffer'+'s'](){var _0x310767,_0x90e143;(_0x310767=this['_depthBuff'+'er'])==null||_0x310767['destroy'](),this['_depthBuff'+'er']=null,(_0x90e143=this['_colorBuff'+'ers'])==null||_0x90e143['forEach'](_0x5f3ee1=>{_0x5f3ee1['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x15945d,_0x38fd12){var _0x3c912e,_0x140842;if(this['width']!==_0x15945d||this['height']!==_0x38fd12){if(this['mipLevel']>0x1eda+0x2443+0x775*-0x9){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x412c42=this['_device'];this['destroyFra'+'meBuffers'](),_0x412c42['renderTarg'+'et']===this&&_0x412c42['setRenderT'+'arget'](null),(_0x3c912e=this['_depthBuff'+'er'])==null||_0x3c912e['resize'](_0x15945d,_0x38fd12),(_0x140842=this['_colorBuff'+'ers'])==null||_0x140842['forEach'](_0x46289c=>{_0x46289c['resize'](_0x15945d,_0x38fd12);}),this['validateMr'+'t'](),this['impl']=_0x412c42['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x522c6d,height:_0x3584d5,cubemap:_0x10a4af,volume:_0x448385}=this['_colorBuff'+'ers'][-0x10*0x1d6+0x127*0x12+0x8a2];for(let _0x2b3481=-0x48e+-0x2109+-0x3*-0xc88;_0x2b3481<this['_colorBuff'+'ers']['length'];_0x2b3481++){const _0x258ee2=this['_colorBuff'+'ers'][_0x2b3481];v['assert'](_0x258ee2['width']===_0x522c6d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x258ee2['height']===_0x3584d5,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x258ee2['cubemap']===_0x10a4af,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x258ee2['volume']===_0x448385,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x1611fe=!(0x163b+0x6d*0x5+-0x185c),_0x42a542=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x1*0x45b+0x2*-0xf31+0x1*0x22be&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x1611fe?'[color]':'')+':'+(_0x42a542?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x1611fe,_0x42a542),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x5240f2,_0x7f1ffd,_0x4dae5c){if(!this['_device']){if(_0x5240f2['_device'])this['_device']=_0x5240f2['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x1*0x194c+-0xa22+0x236f);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x5240f2['name']+'->'+this['name']);const _0x3a962a=this['_device']['copyRender'+'Target'](_0x5240f2,this,_0x7f1ffd,_0x4dae5c);return G['popGpuMark'+'er'](this['_device']),_0x3a962a;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x45761a){var _0x3d120a;return(_0x3d120a=this['_colorBuff'+'ers'])==null?void(0x7d*-0x3d+-0x1da1+0x1db5*0x2):_0x3d120a[_0x45761a];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x1da0e5,_0x16d6ff;let _0x584d04=((_0x1da0e5=this['_colorBuff'+'er'])==null?void(0x26ea+0x1c41*-0x1+0x1*-0xaa9):_0x1da0e5['width'])||((_0x16d6ff=this['_depthBuff'+'er'])==null?void(0x35*0x1d+-0x9fc+0x3fb):_0x16d6ff['width'])||this['_device']['width'];return this['_mipLevel']>-0x3*0x135+-0x1855*-0x1+-0x14b6&&(_0x584d04=Ri['calcLevelD'+'imension'](_0x584d04,this['_mipLevel'])),_0x584d04;}get['height'](){var _0x473b4a,_0x3aa605;let _0x5942c7=((_0x473b4a=this['_colorBuff'+'er'])==null?void(0xb92+0x6*0xe7+0x43f*-0x4):_0x473b4a['height'])||((_0x3aa605=this['_depthBuff'+'er'])==null?void(0x1533+0x4*-0x683+0x4d9):_0x3aa605['height'])||this['_device']['height'];return this['_mipLevel']>-0x4cb+0x1*0xfe1+-0xb16&&(_0x5942c7=Ri['calcLevelD'+'imension'](_0x5942c7,this['_mipLevel'])),_0x5942c7;}['isColorBuf'+'ferSrgb'](_0xf6eca3=0x10c5+-0x603+-0x33*0x36){if(this['device']['backBuffer']===this)return Ph(this['device']['backBuffer'+'Format']);const _0x290c8d=this['getColorBu'+'ffer'](_0xf6eca3);return _0x290c8d?Ph(_0x290c8d['format']):!(-0x7ac*-0x3+0x1dd6+-0x1*0x34d9);}}const Wv={'equals'(_0x2d41e5,_0x2aca7f){if(_0x2d41e5['length']!==_0x2aca7f['length'])return!(-0x2339*-0x1+0x6c6*-0x1+-0x1c72*0x1);for(let _0x46d436=-0xf43*0x1+-0x1*-0xde4+-0x1*-0x15f;_0x46d436<_0x2d41e5['length'];_0x46d436++)if(_0x2d41e5[_0x46d436]!==_0x2aca7f[_0x46d436])return!(-0x7ad+-0x1dda*-0x1+-0xb16*0x2);return!(-0x1da2+-0x4c*-0x1+-0x1d56*-0x1);}};class Hc{constructor(){c(this,'_refCount',-0xa89*0x3+-0x1ab*0xe+0x36f5);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Hc{constructor(_0x347653){super(),c(this,'object'),(this['object']=_0x347653,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x538a96=>{var _0x10b844;(_0x10b844=_0x538a96['object'])==null||_0x10b844['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x3d27c0){const _0x291893=this['cache']['get'](_0x3d27c0);return _0x291893?(_0x291893['incRefCoun'+'t'](),_0x291893['object']):null;}['set'](_0x2ad460,_0x2e36cd){v['assert'](!this['cache']['has'](_0x2ad460),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x2ad460,'object':_0x2e36cd}),this['cache']['set'](_0x2ad460,new $v(_0x2e36cd));}['release'](_0x4352e9){var _0x4f497c;const _0x1d8166=this['cache']['get'](_0x4352e9);_0x1d8166?(_0x1d8166['decRefCoun'+'t'](),_0x1d8166['refCount']===0x1a86+-0x11f3+0x1b7*-0x5&&(this['cache']['delete'](_0x4352e9),(_0x4f497c=_0x1d8166['object'])==null||_0x4f497c['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x4352e9});}}class Xv extends qv{['loseContex'+'t'](_0x4227d3){this['clear']();}}const jv=new Bt(),ld=_0x5fb23e=>jv['get'](_0x5fb23e,()=>new Xv()),at=[];at[$s]=0x20fc+0x1dfd+-0x3ef8,at[lr]=-0x1*0x1697+-0x1f50+-0x175*-0x25,at[Xt]=-0x2*-0xa63+-0x6b*0x2+0x13ed*-0x1,at[Sa]=0x1af7+0x3*0x403+0x3e6*-0xa,at[ln]=-0x11c9*0x1+-0x1a6*-0x1+0x1024,at[Zr]=-0x1b58+-0x193d+0x3497,at[Qr]=0xc35+0x1d29*-0x1+0x1*0x10f7,at[Jr]=-0x1808+0xb*-0x125+0x24a3,at[da]=0x10e2+0x294*-0xd+0x10a3*0x1,at[Lo]=-0x16e1+-0x3cd*0x9+0xc*0x4c2,at[Fo]=0x79*0x1b+0xfdb+-0x1c9b,at[ko]=0x177d*-0x1+0x1ecf*-0x1+-0xb0*-0x4f,at[Ih]=0x177b*0x1+-0x1041+-0x732,at[Oo]=-0x2699*0x1+-0x45*-0x36+0x1817,at[va]=-0x238a+-0x6*0x511+0x4200,at[ba]=-0x6fd+0x5*0x262+-0x4ec,at[wa]=0x23e9+0xe7+-0x24ce,at[Ta]=-0x711+0x993*0x4+-0x1f38,at[Aa]=-0x2b*-0xa3+0x35*0x3d+0x1*-0x27fe;class yt{constructor(_0x37374e,_0x4d27d2,_0x2ee43f=-0x43d+0x1fa5+-0x1b68){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x37374e,this['name']=_0x2ee43f?_0x37374e+'[0]':_0x37374e,this['type']=_0x4d27d2,this['numCompone'+'nts']=at[_0x4d27d2],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x4d27d2+'\x20used\x20for\x20'+_0x37374e),this['updateType']=_0x4d27d2,_0x2ee43f>-0x2a5*0x1+0x5*0x165+-0x454)switch(_0x4d27d2){case $s:this['updateType']=Lc;break;case ln:this['updateType']=Ca;break;case ba:this['updateType']=Oc;break;case da:this['updateType']=Bc;break;case lr:this['updateType']=Fc;break;case Zr:this['updateType']=Ea;break;case wa:this['updateType']=Nc;break;case Lo:this['updateType']=zc;break;case Xt:this['updateType']=kc;break;case Qr:this['updateType']=Ma;break;case Ta:this['updateType']=Uc;break;case Fo:this['updateType']=Vc;break;case Sa:this['updateType']=hp;break;case Jr:this['updateType']=Dh;break;case Aa:this['updateType']=cp;break;case ko:this['updateType']=dp;break;case va:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+up[_0x4d27d2]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x37374e+'\x27.'),v['call'](()=>{this['invalid']=!(0xc*0x257+-0x1b68+-0xac);});break;}this['count']=_0x2ee43f,v['assert'](!isNaN(_0x2ee43f),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x37374e+'['+_0x2ee43f+']'),v['call'](()=>{isNaN(_0x2ee43f)&&(this['invalid']=!(0x15d7*-0x1+0x19d2+0x1*-0x3fb));});let _0x168032=this['numCompone'+'nts'];_0x2ee43f&&(_0x168032=N['roundUp'](_0x168032,-0x7c1+-0x1*-0x1145+-0x4c0*0x2)),this['byteSize']=_0x168032*(0x1cc0+-0x1*0xc60+-0x82e*0x2),_0x2ee43f&&(this['byteSize']*=_0x2ee43f),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x4d27d2+'\x20used\x20for\x20'+_0x37374e);}get['isArrayTyp'+'e'](){return this['count']>0xe75+0x1d4e+-0x293*0x11;}['calculateO'+'ffset'](_0x308df2){let _0x74abf8=this['byteSize']<=-0x219d+-0xb5*-0x13+0xa1b*0x2?this['byteSize']:-0x14b1*-0x1+0x1553+-0x864*0x5;this['count']&&(_0x74abf8=0xf6f+-0x922*-0x3+-0x2ac5),_0x308df2=N['roundUp'](_0x308df2,_0x74abf8),this['offset']=_0x308df2/(0x1244+0x2*0xc8f+0x1a*-0x1ab);}}class Qy{constructor(_0x1b20b0,_0x457c39){c(this,'byteSize',0x1b45+-0x2*-0x435+-0x23af),c(this,'map',new Map()),(this['scope']=_0x1b20b0['scope'],this['uniforms']=_0x457c39);let _0x5bf58c=0x132c+-0x8f9*-0x3+-0x2e17;for(let _0x4cdfa9=0x1ea1+0x621+-0xa*0x3ad;_0x4cdfa9<_0x457c39['length'];_0x4cdfa9++){const _0x16283a=_0x457c39[_0x4cdfa9];_0x16283a['calculateO'+'ffset'](_0x5bf58c),_0x5bf58c=_0x16283a['offset']*(0x13b7+0x9*-0x391+0xc66)+_0x16283a['byteSize'],_0x16283a['scopeId']=this['scope']['resolve'](_0x16283a['name']),this['map']['set'](_0x16283a['name'],_0x16283a);}this['byteSize']=N['roundUp'](_0x5bf58c,-0x1*-0xb4e+-0x1b23+-0x1*-0xfe5);}['get'](_0x555966){return this['map']['get'](_0x555966);}['getShaderD'+'eclaration'](_0x1e62ac,_0x3227b1){const _0x5eb3c9=xv[_0x1e62ac];let _0x2de593='layout(set'+'\x20=\x20'+_0x1e62ac+(',\x20binding\x20'+'=\x20')+_0x3227b1+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x5eb3c9+'\x20{\x0a';return this['uniforms']['forEach'](_0x321f42=>{const _0x19e94f=up[_0x321f42['type']];v['assert'](_0x19e94f['length']>-0x20d3+-0x89*0x23+0x338e,'Uniform\x20ty'+'pe\x20'+_0x321f42['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x2de593+='\x20\x20\x20\x20'+_0x19e94f+'\x20'+_0x321f42['shortName']+(_0x321f42['count']?'['+_0x321f42['count']+']':'')+';\x0a';}),_0x2de593+'};\x0a';}}const gr='Preprocess'+'or',ms=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,hd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,cd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,dd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,ud=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Cm=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,fd=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,ws=class ws{static['run'](_0x45db22,_0x7542e1=new Map(),_0x219303={}){ws['sourceName']=_0x219303['sourceName'],_0x45db22=this['stripComme'+'nts'](_0x45db22),_0x45db22=_0x45db22['split'](/\r?\n/)['map'](_0x46ef39=>_0x46ef39['trimEnd']())['join']('\x0a');const _0x3048fa=new Map();if(_0x219303['stripUnuse'+'dColorAtta'+'chments']){const _0x5bf62c=new Map(),_0x376c8d=/(pcFragColor[1-8])\b/g,_0x583989=_0x45db22['match'](_0x376c8d);_0x583989==null||_0x583989['forEach'](_0x26faed=>{const _0x50b53d=parseInt(_0x26faed['charAt'](_0x26faed['length']-(-0x1d53+-0x1ccc+-0x136*-0x30)),0x17b7+0x668+-0x1e15);_0x5bf62c['set'](_0x50b53d,(_0x5bf62c['get'](_0x50b53d)??0x7*-0x37c+0x24d0+-0x3c*0x35)+(0x17f*-0x1+-0x8e*0x11+0xaee));}),_0x5bf62c['forEach']((_0x3c64ef,_0x3202b5)=>{_0x3c64ef===-0x3fa*-0x5+0x1*-0xaa3+-0x1*0x93e&&_0x3048fa['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x3202b5,'');});}_0x45db22=this['_preproces'+'s'](_0x45db22,_0x3048fa,_0x7542e1,_0x219303['stripDefin'+'es']);const _0x3f386c=new Map();_0x3048fa['forEach']((_0x33b25a,_0x19c8e7)=>{Number['isInteger'](parseFloat(_0x33b25a))&&!_0x33b25a['includes']('.')&&_0x3f386c['set'](_0x19c8e7,_0x33b25a);});const _0x34e073=new Map();return _0x3048fa['forEach']((_0x1381da,_0x3214f7)=>{_0x3214f7['startsWith']('__INJECT_')&&_0x34e073['set'](_0x3214f7,_0x1381da);}),_0x45db22=this['stripComme'+'nts'](_0x45db22),_0x45db22=this['RemoveEmpt'+'yLines'](_0x45db22),_0x45db22=this['processArr'+'aySize'](_0x45db22,_0x3f386c),_0x45db22=this['injectDefi'+'nes'](_0x45db22,_0x34e073),_0x45db22;}static['stripComme'+'nts'](_0xd07781){return _0xd07781['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x5812df,_0x5ba64a){return _0x5812df!==null&&_0x5ba64a['forEach']((_0x1eff3c,_0x4fc913)=>{_0x5812df=_0x5812df['replace'](new RegExp('\x5c['+_0x4fc913+'\x5c]','g'),'['+_0x1eff3c+']');}),_0x5812df;}static['injectDefi'+'nes'](_0x2333d4,_0x3d7d2d){if(_0x2333d4!==null&&_0x3d7d2d['size']>0xefa+-0x1*-0xb29+0x1a23*-0x1){const _0x4bc2be=_0x2333d4['split']('\x0a');_0x3d7d2d['forEach']((_0x4fe99e,_0x3d6c0b)=>{const _0x5a8029=new RegExp('\x5cb'+_0x3d6c0b+'\x5cb','g');for(let _0x5956ec=-0x2*-0x16e+0x4cd+-0x7a9;_0x5956ec<_0x4bc2be['length'];_0x5956ec++)_0x4bc2be[_0x5956ec]['includes']('#')||(_0x4bc2be[_0x5956ec]=_0x4bc2be[_0x5956ec]['replace'](_0x5a8029,_0x4fe99e));}),_0x2333d4=_0x4bc2be['join']('\x0a');}return _0x2333d4;}static['RemoveEmpt'+'yLines'](_0x56d77){return _0x56d77!==null&&(_0x56d77=_0x56d77['split'](/\r?\n/)['map'](_0x20cd53=>_0x20cd53['trim']()===''?'':_0x20cd53)['join']('\x0a'),_0x56d77=_0x56d77['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x56d77;}static['_preproces'+'s'](_0x43ad15,_0x149f74=new Map(),_0x22702e,_0x50b260){const _0x3dee32=_0x43ad15,_0x4b8b0a=[];let _0x32cdb5=!(0x1de9+-0x225+-0x67*0x45),_0x3cce4e;for(;(_0x3cce4e=ms['exec'](_0x43ad15))!==null;){const _0x5a0c39=_0x3cce4e[0x4e6+0x13e*0x6+-0x1d*0x6d];switch(_0x5a0c39){case'define':{hd['lastIndex']=_0x3cce4e['index'];const _0xbd8412=hd['exec'](_0x43ad15);v['assert'](_0xbd8412,'Invalid\x20['+_0x5a0c39+']:\x20'+_0x43ad15['substring'](_0x3cce4e['index'],_0x3cce4e['index']+(0xf0c+0x75c+0x1604*-0x1))+'...'),_0x32cdb5||(_0x32cdb5=_0xbd8412===null);const _0x4f9bd5=_0xbd8412[0x1*0xe5+0x1*-0x2ab+0x1c7];Cm['lastIndex']=_0xbd8412['index'];const _0x3a85d6=Cm['exec'](_0x4f9bd5)[-0x1875+-0x1184+-0x4aa*-0x9];let _0x1c6151=_0x4f9bd5['substring'](_0x3a85d6['length'])['trim']();_0x1c6151===''&&(_0x1c6151='true');const _0x5457a2=ws['_keep'](_0x4b8b0a);_0x5457a2&&(_0x149f74['set'](_0x3a85d6,_0x1c6151),_0x50b260&&(_0x43ad15=_0x43ad15['substring'](-0x13*0x1f+0x4e8*0x7+-0x200b,_0xbd8412['index']-(-0x1*-0x1147+0x259c+0x232*-0x19))+_0x43ad15['substring'](hd['lastIndex']),ms['lastIndex']=_0xbd8412['index']-(-0x6*0x54f+-0x1341+0x2*0x198e))),v['trace'](gr,_0x5a0c39+':\x20['+_0x3a85d6+']\x20'+_0x1c6151+'\x20'+(_0x5457a2?'':'IGNORED')),_0x50b260||(ms['lastIndex']=_0xbd8412['index']+_0xbd8412[0x4ff*0x5+-0x14*-0x8d+-0x23ff]['length']);break;}case'undef':{cd['lastIndex']=_0x3cce4e['index'];const _0x53db48=cd['exec'](_0x43ad15),_0x218ad1=_0x53db48[-0x28d*-0x1+0x1*0xac1+0x5*-0x2a9]['trim'](),_0x140e0f=ws['_keep'](_0x4b8b0a);_0x140e0f&&(_0x149f74['delete'](_0x218ad1),_0x50b260&&(_0x43ad15=_0x43ad15['substring'](0x137c+-0x5*0x791+0x1259,_0x53db48['index']-(0x471*-0x7+0x3fd*0x2+0x171e))+_0x43ad15['substring'](cd['lastIndex']),ms['lastIndex']=_0x53db48['index']-(0x202+0x20e0+-0x22e1))),v['trace'](gr,_0x5a0c39+':\x20['+_0x218ad1+']\x20'+(_0x140e0f?'':'IGNORED')),_0x50b260||(ms['lastIndex']=_0x53db48['index']+_0x53db48[-0x2*0xb3+0x149f+-0x7*0x2bf]['length']);break;}case'extension':{Am['lastIndex']=_0x3cce4e['index'];const _0x123979=Am['exec'](_0x43ad15);if(v['assert'](_0x123979,'Invalid\x20['+_0x5a0c39+']:\x20'+_0x43ad15['substring'](_0x3cce4e['index'],_0x3cce4e['index']+(-0x47*0x4+-0xe7*0x16+0x155a))+'...'),_0x32cdb5||(_0x32cdb5=_0x123979===null),_0x123979){const _0x519925=_0x123979[-0x1bc6+-0x15*-0x26+0x18a9],_0x247e3c=ws['_keep'](_0x4b8b0a);_0x247e3c&&_0x149f74['set'](_0x519925,'true'),v['trace'](gr,_0x5a0c39+':\x20['+_0x519925+']\x20'+(_0x247e3c?'':'IGNORED'));}ms['lastIndex']=_0x123979['index']+_0x123979[0x1fe2+0x3e1*0x6+-0x3728]['length'];break;}case'ifdef':case'ifndef':case'if':{dd['lastIndex']=_0x3cce4e['index'];const _0x2081bf=dd['exec'](_0x43ad15),_0x536861=_0x2081bf[-0x2*0x21d+-0x884+0xcc0],_0x4424b7=ws['evaluate'](_0x536861,_0x149f74);_0x32cdb5||(_0x32cdb5=_0x4424b7['error']);let _0x571ea7=_0x4424b7['result'];_0x5a0c39==='ifndef'&&(_0x571ea7=!_0x571ea7),_0x4b8b0a['push']({'anyKeep':_0x571ea7,'keep':_0x571ea7,'start':_0x3cce4e['index'],'end':dd['lastIndex']}),v['trace'](gr,_0x5a0c39+':\x20['+_0x536861+']\x20=>\x20'+_0x571ea7),ms['lastIndex']=_0x2081bf['index']+_0x2081bf[0x79b+0x1b2f*-0x1+0x1394*0x1]['length'];break;}case'endif':case'else':case'elif':{ud['lastIndex']=_0x3cce4e['index'];const _0x38dafe=ud['exec'](_0x43ad15),_0x485f07=_0x4b8b0a['pop'](),_0x36230e=_0x485f07['keep']?_0x43ad15['substring'](_0x485f07['end'],_0x3cce4e['index']):'';v['trace'](gr,_0x5a0c39+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x36230e!=='')),_0x43ad15=_0x43ad15['substring'](-0x14b7+-0x7*0x51d+0x6*0x96b,_0x485f07['start'])+_0x36230e+_0x43ad15['substring'](ud['lastIndex']),ms['lastIndex']=_0x485f07['start']+_0x36230e['length'];const _0x5e00ae=_0x38dafe[0x1*-0xe8f+0x255b*-0x1+-0x1*-0x33eb];if(_0x5e00ae==='else'||_0x5e00ae==='elif'){let _0xd55dd2=!(0x172e+-0xd10+0x3*-0x35f);if(!_0x485f07['anyKeep']){if(_0x5e00ae==='else')_0xd55dd2=!_0x485f07['keep'];else{const _0xb19a4e=ws['evaluate'](_0x38dafe[0x1f68+-0x393*-0x1+-0x4ff*0x7],_0x149f74);_0xd55dd2=_0xb19a4e['result'],_0x32cdb5||(_0x32cdb5=_0xb19a4e['error']);}}_0x4b8b0a['push']({'anyKeep':_0x485f07['anyKeep']||_0xd55dd2,'keep':_0xd55dd2,'start':ms['lastIndex'],'end':ms['lastIndex']}),v['trace'](gr,_0x5a0c39+':\x20['+_0x38dafe[0x1*-0x387+0x2*0x12d1+-0x2219]+']\x20=>\x20'+_0xd55dd2);}break;}case'include':{fd['lastIndex']=_0x3cce4e['index'];const _0x309406=fd['exec'](_0x43ad15);_0x32cdb5||(_0x32cdb5=_0x309406===null),v['assert'](_0x309406,'Invalid\x20['+_0x5a0c39+']:\x20'+_0x43ad15['substring'](_0x3cce4e['index'],_0x3cce4e['index']+(0x1b*-0xe5+0x25ed+-0xd62))+'...');const _0xee23a=_0x309406[0x1*-0x2299+-0x2e4*-0x6+-0x5e*-0x2f]['trim'](),_0x1ce2b9=ws['_keep'](_0x4b8b0a);if(_0x1ce2b9){const _0x8a1091=_0x22702e==null?void(0x1*0x1213+0x1e4+-0x13f7):_0x22702e['get'](_0xee23a);_0x8a1091!==void(0xf*0x2c+0x1d10+-0x1fa4)?(_0x43ad15=_0x43ad15['substring'](-0x232*-0x4+0x1*0x1a3d+-0x2305,_0x309406['index']-(0x877+-0xf3a*-0x1+0x17b*-0x10))+_0x8a1091+_0x43ad15['substring'](fd['lastIndex']),ms['lastIndex']=_0x309406['index']-(-0x1*-0x1a54+0xd*0x17b+0x1*-0x2d92)):(console['error']('Include\x20\x22'+_0xee23a+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+ws['sourceName'],{'source':_0x3dee32}),_0x32cdb5=!(0x213*0x1+0x4e8+-0x6fb));}v['trace'](gr,_0x5a0c39+':\x20['+_0xee23a+']\x20'+(_0x1ce2b9?'':'IGNORED'));break;}}}return _0x32cdb5?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x3dee32}),_0x3dee32):_0x43ad15;}static['_keep'](_0xf8b88f){for(let _0x3d33f3=0x79e+-0x1*-0x1ace+0x226c*-0x1;_0x3d33f3<_0xf8b88f['length'];_0x3d33f3++)if(!_0xf8b88f[_0x3d33f3]['keep'])return!(0x215c+0x1359*-0x1+0x701*-0x2);return!(0x225e*0x1+-0x10b7+-0x1*0x11a7);}static['evaluate'](_0x33d1e0,_0x4a8e43){const _0x90c127=Zv['exec'](_0x33d1e0)===null;v['assert'](_0x90c127,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x33d1e0);let _0x9d8b96=!(-0x1c12+-0x1eee*-0x1+0x11*-0x2b);const _0x4d7c2c=Yv['exec'](_0x33d1e0);_0x4d7c2c&&(_0x9d8b96=_0x4d7c2c[-0x316+-0x238c+0x26a3]==='!',_0x33d1e0=_0x4d7c2c[-0x13a*0x2+-0x1*-0x19a3+0x15d*-0x11]);const _0x5a0632=Kv['exec'](_0x33d1e0);if(_0x5a0632){const _0x2fbdf1=_0x4a8e43['get'](_0x5a0632[0x220+0xe2*0xf+0x9*-0x1b5])??_0x5a0632[-0x19a4+0x1*-0x16db+0x10*0x308],_0x245f9c=_0x4a8e43['get'](_0x5a0632[-0x11fc+0x1d21+-0xb22])??_0x5a0632[-0x7f*-0x47+0x1844+-0x296*0x17],_0x1ccb3b=_0x5a0632[-0xa24+-0x4ce*-0x7+-0x177c];let _0x3dad74=!(-0x283*-0x6+-0x1cdd*0x1+-0x6e6*-0x2);switch(_0x1ccb3b){case'==':_0x3dad74=_0x2fbdf1===_0x245f9c;break;case'!=':_0x3dad74=_0x2fbdf1!==_0x245f9c;break;case'<':_0x3dad74=_0x2fbdf1<_0x245f9c;break;case'<=':_0x3dad74=_0x2fbdf1<=_0x245f9c;break;case'>':_0x3dad74=_0x2fbdf1>_0x245f9c;break;case'>=':_0x3dad74=_0x2fbdf1>=_0x245f9c;break;}return{'result':_0x3dad74,'error':!_0x90c127};}_0x33d1e0=_0x33d1e0['trim']();let _0x2ead1d=_0x4a8e43['has'](_0x33d1e0);return _0x9d8b96&&(_0x2ead1d=!_0x2ead1d),{'result':_0x2ead1d,'error':!_0x90c127};}};c(ws,'sourceName');let Oh=ws;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Em='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Zt,'vertex_tangent':Zs,'vertex_texCoord0':os,'vertex_texCoord1':gn,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':Et,'vertex_boneIndices':jt,'vertex_boneWeights':Ys};class Pt{static['createDefi'+'nition'](_0x491dc5,_0x4fd51b){v['assert'](_0x4fd51b),v['assert'](!_0x4fd51b['vertexDefi'+'nes']||_0x4fd51b['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x4fd51b['vertexIncl'+'udes']||_0x4fd51b['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x4fd51b['fragmentDe'+'fines']||_0x4fd51b['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x4fd51b['fragmentIn'+'cludes']||_0x4fd51b['fragmentIn'+'cludes']instanceof Map);const _0x1a1f48=(_0x36fbd1,_0x257170,_0x3b27b0,_0x3d557d)=>{const _0x79b6e5=_0x491dc5['isWebGPU']?_0x36fbd1:_0x257170;let _0x5ec62c='';if(!_0x3b27b0){let _0xa2344f=_0x3d557d['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0xa2344f)||(_0xa2344f=[_0xa2344f]);for(let _0x34f0ec=0x2017+0x5*-0x539+0x5a*-0x11;_0x34f0ec<_0x491dc5['maxColorAt'+'tachments'];_0x34f0ec++){_0x5ec62c+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x34f0ec+'\x0a';const _0x49471c=_0xa2344f[_0x34f0ec]??'vec4';_0x5ec62c+='#define\x20ou'+'tType_'+_0x34f0ec+'\x20'+_0x49471c+'\x0a';}}return _0x5ec62c+_0x79b6e5;},_0x207412=_0x4fd51b['name']??'Untitled';let _0x3782a4,_0x32e2ba;return _0x4fd51b['shaderLang'+'uage']===Rh?(_0x3782a4=_0x4fd51b['vertexCode'],_0x32e2ba=_0x4fd51b['fragmentCo'+'de']):(_0x3782a4=Pt['versionCod'+'e'](_0x491dc5)+_0x1a1f48(s0,e0,!(0x1*0xa99+0x4d*-0x52+0xe11),_0x4fd51b)+Pt['getDefines'+'Code'](_0x4fd51b['vertexDefi'+'nes'])+Pt['precisionC'+'ode'](_0x491dc5)+'\x0a'+Em+Pt['getShaderN'+'ameCode'](_0x207412)+_0x4fd51b['vertexCode'],_0x32e2ba=(_0x4fd51b['fragmentPr'+'eamble']||'')+Pt['versionCod'+'e'](_0x491dc5)+_0x1a1f48(t0,Jy,!(0x18ae*-0x1+-0x1*0xd0c+0x25bb),_0x4fd51b)+Pt['getDefines'+'Code'](_0x4fd51b['fragmentDe'+'fines'])+Pt['precisionC'+'ode'](_0x491dc5)+'\x0a'+Em+Pt['getShaderN'+'ameCode'](_0x207412)+(_0x4fd51b['fragmentCo'+'de']||Pt['dummyFragm'+'entCode']())),{'name':_0x207412,'shaderLanguage':_0x4fd51b['shaderLang'+'uage']??Oy,'attributes':_0x4fd51b['attributes'],'vshader':_0x3782a4,'vincludes':_0x4fd51b['vertexIncl'+'udes'],'fincludes':_0x4fd51b['fragmentIn'+'cludes'],'fshader':_0x32e2ba,'useTransformFeedback':_0x4fd51b['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x4fd51b['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4fd51b['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x5d8674){let _0x5305a2='';return _0x5d8674==null||_0x5d8674['forEach']((_0x5d4963,_0xb9899f)=>{_0x5305a2+='#define\x20'+_0xb9899f+'\x20'+_0x5d4963+'\x0a';}),_0x5305a2;}static['getShaderN'+'ameCode'](_0x49e06c){return'#define\x20SH'+'ADER_NAME\x20'+_0x49e06c+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x15ff23){return _0x15ff23['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x5223b3,_0x349bd6){_0x349bd6&&_0x349bd6!=='highp'&&_0x349bd6!=='mediump'&&_0x349bd6!=='lowp'&&(_0x349bd6=null),_0x349bd6&&(_0x349bd6==='highp'&&_0x5223b3['maxPrecisi'+'on']!=='highp'&&(_0x349bd6='mediump'),_0x349bd6==='mediump'&&_0x5223b3['maxPrecisi'+'on']==='lowp'&&(_0x349bd6='lowp'));const _0x3627d4=_0x349bd6||_0x5223b3['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x3627d4+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x3627d4+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x3627d4+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x3627d4+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x3627d4+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x3627d4+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x3627d4+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x4cdeda){const _0x290d8b={};let _0xabf938=-0x1aab*0x1+0x26d5+-0xc2a,_0x3057dd=_0x4cdeda['indexOf']('attribute');for(;_0x3057dd>=0x15d*-0x13+0x1316*0x1+0x6d1&&!(_0x3057dd>-0x847+0x226a+-0x1a23&&_0x4cdeda[_0x3057dd-(-0xf6c+-0xf1d+0x1e8a)]==='/');){let _0x5961ff=!(-0x2190+-0x3*0x679+0x34fc);if(_0x3057dd>-0x1fce+-0x134a+0x3318){let _0x4a51f6=_0x4cdeda['lastIndexO'+'f']('\x0a',_0x3057dd);_0x4a51f6=_0x4a51f6!==-(-0x10f4+-0x185*-0x17+-0x2f*0x62)?_0x4a51f6+(0x12a*-0x13+0x2*-0xdf4+-0x3207*-0x1):-0x863+0x2255+-0x52*0x51,_0x4cdeda['substring'](_0x4a51f6,_0x3057dd)['includes']('#')&&(_0x5961ff=!(0x91a+0xe4b+-0x1765));}if(!_0x5961ff){const _0x4b5edf=_0x4cdeda['indexOf'](';',_0x3057dd),_0x35a0b3=_0x4cdeda['lastIndexO'+'f']('\x20',_0x4b5edf),_0x3c4105=_0x4cdeda['substring'](_0x35a0b3+(-0x16f*-0xd+0x99b*-0x2+0x94),_0x4b5edf);if(_0x290d8b[_0x3c4105])v['warn']('Attribute\x20'+'['+_0x3c4105+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x4cdeda});else{const _0xd62075=Qv[_0x3c4105];_0xd62075!==void(-0xe5e+-0x1a5*-0xb+0x1*-0x3b9)?_0x290d8b[_0x3c4105]=_0xd62075:(_0x290d8b[_0x3c4105]='ATTR'+_0xabf938,_0xabf938++);}}_0x3057dd=_0x4cdeda['indexOf']('attribute',_0x3057dd+(0x1351+-0x1*0xd67+-0x5e9));}return _0x290d8b;}}let Jv=-0xec8+-0x1*-0x2415+0x7*-0x30b;class i0{constructor(_0x4bb0a2,_0xb718f0){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x4bb0a2,this['definition']=_0xb718f0,this['name']=_0xb718f0['name']||'Untitled',this['init'](),_0xb718f0['cshader'])v['assert'](_0x4bb0a2['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0xb718f0['vshader']&&!_0xb718f0['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0xb718f0['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0xb718f0['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0xb718f0['vshader']=Oh['run'](_0xb718f0['vshader'],_0xb718f0['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0xb718f0['shaderLang'+'uage']===Oy&&(_0xb718f0['attributes']??(_0xb718f0['attributes']=Pt['collectAtt'+'ributes'](_0xb718f0['vshader'])));const _0x57fb3c=_0x4bb0a2['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0xb718f0['fshader']=Oh['run'](_0xb718f0['fshader'],_0xb718f0['fincludes'],{'stripUnusedColorAttachments':_0x57fb3c,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x4bb0a2['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0x1*0xda+0xd8a+-0xe63),this['failed']=!(0x2e5*-0x2+-0xf7b+-0x185*-0xe);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0x50ac44,_0xeac538,_0x100b84){const _0x44e9b4=_0x50ac44['storageFlo'+'at32'];_0x44e9b4[_0x100b84]=_0xeac538;},Te[lr]=(_0x1d3eaa,_0x53f654,_0x23dc9c)=>{const _0x4e307d=_0x1d3eaa['storageFlo'+'at32'];_0x4e307d[_0x23dc9c]=_0x53f654[0x1de3+-0x1*0x59e+-0x6d*0x39],_0x4e307d[_0x23dc9c+(0x150a+-0x3e*0x1+-0x14cb)]=_0x53f654[-0x11d3+-0x1*-0x979+0x85b];},Te[Xt]=(_0x371bb8,_0x3b90af,_0x4e1826)=>{const _0x55bace=_0x371bb8['storageFlo'+'at32'];_0x55bace[_0x4e1826]=_0x3b90af[0x449*-0x4+-0x2442+0x3566],_0x55bace[_0x4e1826+(0x3a9+0x17a*-0x10+0xc*0x1aa)]=_0x3b90af[-0x7*-0x1a2+-0x217a+0x160d],_0x55bace[_0x4e1826+(0x537+-0x86*-0x22+-0x27*0x97)]=_0x3b90af[0x1*-0x1632+0x649+0x1*0xfeb];},Te[Sa]=(_0x9c24ec,_0x1ed231,_0x5197ef)=>{const _0x3665db=_0x9c24ec['storageFlo'+'at32'];_0x3665db[_0x5197ef]=_0x1ed231[0x527*0x1+-0x817*0x3+0x131e],_0x3665db[_0x5197ef+(0xae1+0x1*-0xd65+0x285)]=_0x1ed231[0x1*0xa3+0x3*-0xf3+0x3*0xbd],_0x3665db[_0x5197ef+(-0x2*-0x332+0xa*0x133+-0x930*0x2)]=_0x1ed231[-0x1dc3*-0x1+-0x929+0x8*-0x293],_0x3665db[_0x5197ef+(-0x1ff2+-0xb05+0x2afa*0x1)]=_0x1ed231[-0x23d8+0x1*-0xf47+0x3322];},Te[ln]=function(_0xe18b7c,_0x9620d5,_0x4abeef){const _0x1768fa=_0xe18b7c['storageInt'+'32'];_0x1768fa[_0x4abeef]=_0x9620d5;},Te[Zr]=function(_0x1118b5,_0x31e721,_0x473dfb){const _0x398e73=_0x1118b5['storageInt'+'32'];_0x398e73[_0x473dfb]=_0x31e721[-0xf9b*0x1+0xa53+0x548*0x1],_0x398e73[_0x473dfb+(-0x147d+-0x176f+0x2bed)]=_0x31e721[0x1d58+-0x19ba+-0x25*0x19];},Te[Qr]=function(_0x5c101b,_0x57b084,_0x4bd398){const _0x36f971=_0x5c101b['storageInt'+'32'];_0x36f971[_0x4bd398]=_0x57b084[-0x981+-0xb*-0x15b+-0x8*0xad],_0x36f971[_0x4bd398+(0x1241*-0x1+-0x10ea+0x232c*0x1)]=_0x57b084[-0x17ff+0x4fd+0x1303],_0x36f971[_0x4bd398+(0xb*-0x1b1+-0xc09*0x2+0x2aaf)]=_0x57b084[0x2c2+-0x1f22+0x1c62];},Te[Jr]=function(_0x370e86,_0x2cdbef,_0x4336bb){const _0x3db3d2=_0x370e86['storageInt'+'32'];_0x3db3d2[_0x4336bb]=_0x2cdbef[-0x1b66+-0x1cf7+-0x2f*-0x133],_0x3db3d2[_0x4336bb+(0x2*0xd51+-0xab8+-0xfe9)]=_0x2cdbef[-0x21*-0x113+0x11f*-0x3+0x2b*-0xbf],_0x3db3d2[_0x4336bb+(-0x3b*0x3d+0x3ca*-0x2+-0x15a5*-0x1)]=_0x2cdbef[0x1*-0x20d2+-0xb14*0x1+-0xa*-0x464],_0x3db3d2[_0x4336bb+(0x1259+0x1153+0xb3*-0x33)]=_0x2cdbef[0x2429*-0x1+0x24f7*0x1+-0xcb];},Te[Ih]=(_0x1a2d16,_0x4788d1,_0x52f11f)=>{const _0x5b0f16=_0x1a2d16['storageFlo'+'at32'];_0x5b0f16[_0x52f11f]=_0x4788d1[0xf6c+0x201+-0x3*0x5cf],_0x5b0f16[_0x52f11f+(-0x12b9*0x2+0x8*-0x186+0x31a3)]=_0x4788d1[-0x37b+0x1*0x24e5+-0xb23*0x3],_0x5b0f16[_0x52f11f+(0x25e4+-0x1b0b*0x1+-0xad5)]=_0x4788d1[0x2ef*-0x7+-0x144+-0x3*-0x745],_0x5b0f16[_0x52f11f+(0x44*-0x64+-0x152e+0x2fc3)]=_0x4788d1[0xe13+-0xec9+0xb9],_0x5b0f16[_0x52f11f+(-0x556*-0x5+0x18d0+0x2*-0x19bb)]=_0x4788d1[-0xa7f*-0x2+-0x2a9*-0x1+-0x7e1*0x3],_0x5b0f16[_0x52f11f+(-0x1b37+-0x1*0x20e+0x1d4e)]=_0x4788d1[-0x7b*-0x2b+-0x5e6+0x4ea*-0x3];},Te[Oo]=(_0x58ff40,_0x360858,_0x42c5bd)=>{const _0x4ea37e=_0x58ff40['storageFlo'+'at32'];_0x4ea37e[_0x42c5bd]=_0x360858[0x1*0xbc5+0xc4b+-0x23*0xb0],_0x4ea37e[_0x42c5bd+(-0x1827+-0x1fc3*0x1+0x37eb)]=_0x360858[-0x1*0x85d+-0x3*-0x76+0xc*0x95],_0x4ea37e[_0x42c5bd+(-0x160*-0x5+-0x9f*0x3b+0x7*0x441)]=_0x360858[0x1*-0x7cd+-0x1073+-0x40b*-0x6],_0x4ea37e[_0x42c5bd+(-0x116d+-0x1412+0x2583)]=_0x360858[0x22*-0xdf+-0x1*-0xff3+0x11*0xce],_0x4ea37e[_0x42c5bd+(0x2a*0x37+0x1033+0x64d*-0x4)]=_0x360858[0x53*-0x25+-0xd2f*-0x1+-0x12c],_0x4ea37e[_0x42c5bd+(-0x7ca+0x6cb+0x105)]=_0x360858[-0x9fd+-0x149c+0x2*0xf4f],_0x4ea37e[_0x42c5bd+(0x5d+0x232b+-0x2380)]=_0x360858[0x108a*0x2+-0x23fd+-0x2ef*-0x1],_0x4ea37e[_0x42c5bd+(0x2327*0x1+0x52c+-0x284a)]=_0x360858[-0x17a7+0x2*-0x6c5+0x2538],_0x4ea37e[_0x42c5bd+(-0x193f+0x4*0x5df+0x1cd)]=_0x360858[-0xb0c+0x7*0x2f0+-0x97c];},Te[Lc]=function(_0x4e6f8a,_0xb63edf,_0x3659fc,_0x1b00c0){const _0x1ab7b9=_0x4e6f8a['storageFlo'+'at32'];for(let _0x2d5a41=0x211e+-0x287+-0xbf*0x29;_0x2d5a41<_0x1b00c0;_0x2d5a41++)_0x1ab7b9[_0x3659fc+_0x2d5a41*(0x12b2+-0x7af+0x5*-0x233)]=_0xb63edf[_0x2d5a41];},Te[Fc]=(_0x18378a,_0x3b9d13,_0x223512,_0x343041)=>{const _0x173798=_0x18378a['storageFlo'+'at32'];for(let _0x458d94=0x33f*0x9+-0xbdc+0x3*-0x5c9;_0x458d94<_0x343041;_0x458d94++)_0x173798[_0x223512+_0x458d94*(-0x950+-0x13*-0x141+0x1*-0xe7f)]=_0x3b9d13[_0x458d94*(0x1*-0xb96+-0x1*0x1979+-0x3*-0xc5b)],_0x173798[_0x223512+_0x458d94*(0x4*-0x289+-0x256f+0x2f97)+(-0x1935+0x6a7+0x128f)]=_0x3b9d13[_0x458d94*(-0x12ba+0x1*-0x2245+0x3501)+(-0x17ee*-0x1+0x9*0x265+-0x1*0x2d7a)];},Te[kc]=(_0x4d7db6,_0x2517f7,_0x3415a2,_0x3f1068)=>{const _0xce4582=_0x4d7db6['storageFlo'+'at32'];for(let _0x1ba684=-0x1353+-0x1250+0x25a3;_0x1ba684<_0x3f1068;_0x1ba684++)_0xce4582[_0x3415a2+_0x1ba684*(-0x259a+-0x511*0x7+0x4915)]=_0x2517f7[_0x1ba684*(-0x1*-0x146f+0x13ab*0x1+0x21*-0x137)],_0xce4582[_0x3415a2+_0x1ba684*(-0x25b2+-0x2357*-0x1+0x25f)+(0x1*-0x2673+-0x148+0x27bc)]=_0x2517f7[_0x1ba684*(0x1874+-0x1*0x153d+0x334*-0x1)+(-0x1c*-0x1d+-0x11c0+0x1*0xe95)],_0xce4582[_0x3415a2+_0x1ba684*(-0x1afb+0xa72+0x108d)+(0x1fd7+0x20d8+-0x3*0x158f)]=_0x2517f7[_0x1ba684*(0x1*0x12ab+0x6cd*0x5+0x40d*-0xd)+(-0x14*-0x18d+-0x5f*-0x4d+-0x3b95)];},Te[ba]=(_0x44b69f,_0x58bdf2,_0x339eba,_0x2cbef4)=>{const _0x25115b=_0x44b69f['storageUin'+'t32'];_0x25115b[_0x339eba]=_0x58bdf2;},Te[wa]=(_0x341507,_0x3bde55,_0x51c028,_0x1fa712)=>{const _0x5c727b=_0x341507['storageUin'+'t32'];_0x5c727b[_0x51c028]=_0x3bde55[0x1ff8+-0x1*-0x2c9+-0x22c1],_0x5c727b[_0x51c028+(0x1443+0x2*-0x8c9+0x2b*-0x10)]=_0x3bde55[-0x90a*0x4+0x109*0x9+0x35b*0x8];},Te[Ta]=(_0x9f6dbd,_0x5b43ed,_0xe7997c,_0x35917e)=>{const _0xbc2ee1=_0x9f6dbd['storageUin'+'t32'];_0xbc2ee1[_0xe7997c]=_0x5b43ed[0x198*0x6+-0x35e*-0xb+-0x2e9a],_0xbc2ee1[_0xe7997c+(0x4f*0x4+0x14bc+-0x15f7)]=_0x5b43ed[-0x3*0x15a+0x1*-0x615+0xa24],_0xbc2ee1[_0xe7997c+(-0x1*0x204e+-0x3a5+0x23f5)]=_0x5b43ed[0x2702+0x147*0x13+-0x3f45];},Te[Aa]=(_0x1c252b,_0x46e88b,_0x4b523e,_0x5891dd)=>{const _0x53f946=_0x1c252b['storageUin'+'t32'];_0x53f946[_0x4b523e]=_0x46e88b[-0xbf5+-0x1d22+-0x43*-0x9d],_0x53f946[_0x4b523e+(-0x10*0x142+0x1bd4+-0x7b3)]=_0x46e88b[0x1c4b+0x18d2+-0x351c],_0x53f946[_0x4b523e+(0x8fe+-0x1*-0x13e9+0x239*-0xd)]=_0x46e88b[-0x6*0x309+0x1*0x1d89+-0xb51],_0x53f946[_0x4b523e+(0x33d*0x2+-0x4c*0x76+-0x47*-0x67)]=_0x46e88b[0x2*0x92b+0x77*-0x30+0x3fd];},Te[Ca]=function(_0x4e46a1,_0x2ebd6c,_0x1d22a1,_0x3cad20){const _0x1cf5ef=_0x4e46a1['storageInt'+'32'];for(let _0x4c4e51=-0x161*0x8+0x1592+0xa8a*-0x1;_0x4c4e51<_0x3cad20;_0x4c4e51++)_0x1cf5ef[_0x1d22a1+_0x4c4e51*(0x1e*-0x1e+-0x1*-0x47f+-0xd*0x13)]=_0x2ebd6c[_0x4c4e51];},Te[Bc]=Te[Ca],Te[Oc]=function(_0xee17a6,_0x4395a6,_0x1bc5b9,_0x30afc3){const _0x3e382d=_0xee17a6['storageUin'+'t32'];for(let _0x593f08=0xb90+0x5b7+0x1147*-0x1;_0x593f08<_0x30afc3;_0x593f08++)_0x3e382d[_0x1bc5b9+_0x593f08*(0x1*0x641+0xc02+-0x123f)]=_0x4395a6[_0x593f08];},Te[Ea]=(_0x2e3f9e,_0x13c491,_0x5e2549,_0xc26ffe)=>{const _0x38a6bd=_0x2e3f9e['storageInt'+'32'];for(let _0x4b7ee9=0x1e12+-0x1*-0x23d+-0x204f;_0x4b7ee9<_0xc26ffe;_0x4b7ee9++)_0x38a6bd[_0x5e2549+_0x4b7ee9*(0x131+-0x3eb+0x2be)]=_0x13c491[_0x4b7ee9*(0x605+-0x1ffe+0x19fb)],_0x38a6bd[_0x5e2549+_0x4b7ee9*(-0x11*-0x1cd+0xf0c+-0x267*0x13)+(0x2271+-0x9c8+-0x18a8)]=_0x13c491[_0x4b7ee9*(-0x17f9+0x11*0x143+-0x9*-0x48)+(0x155b+0x1c7e*-0x1+-0x1c9*-0x4)];},Te[zc]=Te[Ea],Te[Nc]=(_0x2c06d3,_0x3d91ce,_0x8b2f6d,_0x41bc44)=>{const _0x463fac=_0x2c06d3['storageUin'+'t32'];for(let _0x11b023=-0x864*0x2+-0xf4*0x26+-0x6a*-0x80;_0x11b023<_0x41bc44;_0x11b023++)_0x463fac[_0x8b2f6d+_0x11b023*(0x123*0x3+0x21b8+0x3*-0xc5f)]=_0x3d91ce[_0x11b023*(0x26*-0xf2+-0x25b0+0x82e*0x9)],_0x463fac[_0x8b2f6d+_0x11b023*(-0xafe+0x89*-0x11+0x141b)+(-0x20*0xd1+-0x301*0x5+0x2926)]=_0x3d91ce[_0x11b023*(0x3b9+0x1fcf+-0x1*0x2386)+(-0x2688+0x1efb+0x1*0x78e)];},Te[Ma]=(_0x3788dc,_0x34cc05,_0x10c1be,_0x3ccc43)=>{const _0x49e398=_0x3788dc['storageInt'+'32'];for(let _0x398871=0x1f25+0x475+0x28b*-0xe;_0x398871<_0x3ccc43;_0x398871++)_0x49e398[_0x10c1be+_0x398871*(-0x1e50+-0x53*0x61+0x3dc7)]=_0x34cc05[_0x398871*(0x23e1+0x1*0x106c+0x344a*-0x1)],_0x49e398[_0x10c1be+_0x398871*(-0xbf*-0xc+-0x232+-0x6be)+(0x1d96+0x2e*-0x35+-0x4f*0x41)]=_0x34cc05[_0x398871*(0x1*-0x2411+-0x1139*-0x1+0x12db)+(-0x2042+-0xd*0x4d+0x5*0x73c)],_0x49e398[_0x10c1be+_0x398871*(0x1d0+-0x1057+0x4d9*0x3)+(0x1*0x10c3+0x1*0xb9b+0x1c5c*-0x1)]=_0x34cc05[_0x398871*(0x21*0xb6+-0x118b+-0x5e8)+(-0xd8*0x2+0x2566+-0x23b4)];},Te[Vc]=Te[Ma],Te[Uc]=(_0x5852e8,_0x28eb27,_0xa4636a,_0x540d1c)=>{const _0x568199=_0x5852e8['storageUin'+'t32'];for(let _0x3cd4bb=-0x1be+-0x83e+0x9fc;_0x3cd4bb<_0x540d1c;_0x3cd4bb++)_0x568199[_0xa4636a+_0x3cd4bb*(0x1*0x23f3+-0x600+-0x61*0x4f)]=_0x28eb27[_0x3cd4bb*(-0x113e+-0x68b*0x4+0x2b6d)],_0x568199[_0xa4636a+_0x3cd4bb*(-0x155+0xc*-0x163+0xf*0x133)+(-0x1*-0x165e+0xb41+0x296*-0xd)]=_0x28eb27[_0x3cd4bb*(-0x207f*-0x1+0x1*-0xac7+-0x15b5)+(0x3*-0xde+-0x1*0x49+-0x4*-0xb9)],_0x568199[_0xa4636a+_0x3cd4bb*(-0xf3e*0x1+0x26cf+-0x178d)+(0x1*-0xe3+-0x1714+0x17f9)]=_0x28eb27[_0x3cd4bb*(0xd68+0x260f*0x1+-0x3374)+(0x175b*0x1+0xa93*0x2+-0x2c7f)];};class yp{constructor(_0x157c33,_0x48e0cd,_0x5ac691=!(-0x21*0x1a+-0x2*0x58+-0x40a*-0x1)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0x2b*-0xd9+0x9bd+-0x20e*-0xd);if(this['device']=_0x157c33,this['format']=_0x48e0cd,this['persistent']=_0x5ac691,v['assert'](_0x48e0cd),_0x5ac691){this['impl']=_0x157c33['createUnif'+'ormBufferI'+'mpl'](this);const _0x128f51=new ArrayBuffer(_0x48e0cd['byteSize']);this['assignStor'+'age'](new Int32Array(_0x128f51)),_0x157c33['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x255635=this['device'];this['impl']['destroy'](_0x255635),_0x255635['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x83*0x4c+0x65c+-0x10*0x2d4:this['allocation']['offset'];}['assignStor'+'age'](_0x4611c3){this['storageInt'+'32']=_0x4611c3,this['storageUin'+'t32']=new Uint32Array(_0x4611c3['buffer'],_0x4611c3['byteOffset'],_0x4611c3['byteLength']/(0x7*-0x559+0xb1e+0x1a55)),this['storageFlo'+'at32']=new Float32Array(_0x4611c3['buffer'],_0x4611c3['byteOffset'],_0x4611c3['byteLength']/(0x1b7*-0x3+-0x135*0xe+0x160f*0x1));}['loseContex'+'t'](){var _0x2a26a5;(_0x2a26a5=this['impl'])==null||_0x2a26a5['loseContex'+'t']();}['setUniform'](_0x2cbe7c,_0x462a8d){v['assert'](_0x2cbe7c);const _0x338882=_0x2cbe7c['offset'];if(_0x462a8d!=null){const _0x285b25=Te[_0x2cbe7c['updateType']];_0x285b25?_0x285b25(this,_0x462a8d,_0x338882,_0x2cbe7c['count']):this['storageFlo'+'at32']['set'](_0x462a8d,_0x338882);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x2cbe7c['name']+('],\x20expecte'+'d\x20type\x20')+up[_0x2cbe7c['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x34e149,_0x4eb4c0){const _0x20c55c=this['format']['map']['get'](_0x34e149);v['assert'](_0x20c55c,'Uniform\x20na'+'me\x20['+_0x34e149+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x20c55c&&this['setUniform'](_0x20c55c,_0x4eb4c0);}['startUpdat'+'e'](_0x379c90){if(!this['persistent']){const _0x4af835=this['allocation'],_0x1b9de6=_0x4af835['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x4af835,this['format']['byteSize']),this['assignStor'+'age'](_0x4af835['storage']),_0x379c90&&(_0x379c90['bindGroup']=_0x4af835['gpuBuffer']['getBindGro'+'up'](this),_0x379c90['offsets'][0xb*0x179+-0x1472*0x1+0x43f]=_0x4af835['offset']),_0x1b9de6!==_0x4af835['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x5f2d90){this['startUpdat'+'e'](_0x5f2d90);const _0x558591=this['format']['uniforms'];for(let _0x5e2d0a=-0x134c+0x219d*-0x1+-0x387*-0xf;_0x5e2d0a<_0x558591['length'];_0x5e2d0a++){const _0xb435ea=_0x558591[_0x5e2d0a]['scopeId']['value'];this['setUniform'](_0x558591[_0x5e2d0a],_0xb435ea);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(0x5b*0x4d+-0x82*0x3f+0x4a0)),c(this,'_enableReq'+'uest',!(0x264b+-0x1e69*-0x1+-0x2b*0x199)),c(this,'_frameTime',0x9a9*-0x1+0x129f+0x2*-0x47b);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x11a351){this['_enableReq'+'uest']=_0x11a351;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x107*0x17+0x838+-0x1fd9));}['request'](_0x46b82b){this['pastFrameA'+'llocations']['set'](_0x46b82b,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x15f5d1,_0x4f3e78){if(_0x4f3e78){const _0xf00339=this['pastFrameA'+'llocations']['get'](_0x15f5d1);if(v['assert'](_0xf00339['length']===_0x4f3e78['length']),_0x4f3e78['length']>0x78a+-0x61*-0x23+-0x14cd&&(this['_frameTime']=_0x4f3e78[-0x17*-0x4c+0x176d*-0x1+0x1099]),Xs['get'](_l)){v['trace'](_l,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x15f5d1+'\x20--');let _0x52ed25=0x5*0x3cf+0x26fa+-0x3a05;for(let _0x35985d=-0xb2f+0x1*0x2683+-0x1b54;_0x35985d<_0xf00339['length'];++_0x35985d){const _0x3efee4=_0xf00339[_0x35985d];_0x52ed25+=_0x4f3e78[_0x35985d],v['trace'](_l,_0x4f3e78[_0x35985d]['toFixed'](0x8a5*0x1+-0x2*0xeed+0x1*0x1537)+'\x20ms\x20'+_0x3efee4);}v['trace'](_l,_0x52ed25['toFixed'](-0x1*-0x946+-0x1e3*0x9+0x5*0x18b)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x15f5d1);}['getSlot'](_0x1f7b90){const _0x19bd9e=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x1f7b90),_0x19bd9e;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x344cd9){this['bufferId']&&(_0x344cd9['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x8e6cb3,_0x133389,_0x3ddf2c,_0x15e2dc){const _0x360f6a=_0x8e6cb3['gl'];if(this['bufferId'])_0x360f6a['bindBuffer'](_0x3ddf2c,this['bufferId']),_0x360f6a['bufferSubD'+'ata'](_0x3ddf2c,-0x20e*0xa+-0xdf1+0x1*0x227d,_0x15e2dc);else{let _0xdf29ae;switch(_0x133389){case Kt:_0xdf29ae=_0x360f6a['STATIC_DRA'+'W'];break;case Ah:_0xdf29ae=_0x360f6a['DYNAMIC_DR'+'AW'];break;case uy:_0xdf29ae=_0x360f6a['STREAM_DRA'+'W'];break;case PS:_0xdf29ae=_0x360f6a['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x360f6a['createBuff'+'er'](),_0x360f6a['bindBuffer'](_0x3ddf2c,this['bufferId']),_0x360f6a['bufferData'](_0x3ddf2c,_0x15e2dc,_0xdf29ae);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x149c69){super['destroy'](_0x149c69),_0x149c69['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x247161){const _0x3abcba=_0x247161['device'];super['unlock'](_0x3abcba,_0x247161['usage'],_0x3abcba['gl']['ARRAY_BUFF'+'ER'],_0x247161['storage']);}}class ib extends r0{constructor(_0xdcbdc){super();const _0xe48cb7=_0xdcbdc['device']['gl'],_0x349256=_0xdcbdc['format'];_0x349256===mu?this['glFormat']=_0xe48cb7['UNSIGNED_B'+'YTE']:_0x349256===Ii?this['glFormat']=_0xe48cb7['UNSIGNED_S'+'HORT']:_0x349256===ar&&(this['glFormat']=_0xe48cb7['UNSIGNED_I'+'NT']);}['unlock'](_0x5881cf){const _0x47ef38=_0x5881cf['device'];super['unlock'](_0x47ef38,_0x5881cf['usage'],_0x47ef38['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x5881cf['storage']);}}class Mm{constructor(_0xd63e76,_0x83ec0f,_0x569e48,_0x39ac6f){if(this['locationId']=_0x39ac6f,this['scopeId']=_0xd63e76['scope']['resolve'](_0x83ec0f),this['version']=new Ky(),_0x83ec0f['substring'](_0x83ec0f['length']-(-0x1ff9+0x340+0x265*0xc))==='[0]')switch(_0x569e48){case $s:_0x569e48=Lc;break;case ln:_0x569e48=Ca;break;case ba:_0x569e48=Oc;break;case da:_0x569e48=Bc;break;case lr:_0x569e48=Fc;break;case Zr:_0x569e48=Ea;break;case wa:_0x569e48=Nc;break;case Lo:_0x569e48=zc;break;case Xt:_0x569e48=kc;break;case Qr:_0x569e48=Ma;break;case Ta:_0x569e48=Uc;break;case Fo:_0x569e48=Vc;break;case Sa:_0x569e48=hp;break;case Jr:_0x569e48=Dh;break;case Aa:_0x569e48=cp;break;case ko:_0x569e48=dp;break;}this['dataType']=_0x569e48,this['value']=[null,null,null,null],this['array']=[];}}let Pm=0x19*-0x47+-0x2*0x565+-0x11b9*-0x1;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x90abac){this['map']['forEach'](_0x4da9d2=>{_0x90abac['gl']['deleteShad'+'er'](_0x4da9d2);});}['loseContex'+'t'](_0x5ef51c){this['map']['clear']();}}const ab=new Bt(),ob=new Bt();class lb{constructor(_0x5f396b){c(this,'compileDur'+'ation',0x1*-0x1b1d+0x1132+-0x1*-0x9eb),(this['init'](),this['compile'](_0x5f396b['device'],_0x5f396b),this['link'](_0x5f396b['device'],_0x5f396b),_0x5f396b['device']['shaders']['push'](_0x5f396b));}['destroy'](_0x21ea5d){this['glProgram']&&(_0x21ea5d['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x7b90e5,_0x35c163){this['compile'](_0x7b90e5,_0x35c163),this['link'](_0x7b90e5,_0x35c163);}['compile'](_0x4ec9d9,_0x4ca587){const _0x4dfd1b=_0x4ca587['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x4ec9d9,_0x4dfd1b['vshader'],!(0xf23+-0x7*0x43b+0x2*0x73d)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x4ec9d9,_0x4dfd1b['fshader'],!(-0x25d9+-0x54*-0x19+0x1da6));}['link'](_0x1f058c,_0x494231){if(this['glProgram'])return;const _0x2a4177=_0x1f058c['gl'];if(_0x2a4177['isContextL'+'ost']())return;let _0x14a846=0x1*-0x87b+0x1695+-0xe1a;v['call'](()=>{this['compileDur'+'ation']=0x44*-0x16+0x4*0x7a9+-0x18cc,_0x14a846=re();});const _0x2cba61=_0x2a4177['createProg'+'ram']();this['glProgram']=_0x2cba61,_0x2a4177['attachShad'+'er'](_0x2cba61,this['glVertexSh'+'ader']),_0x2a4177['attachShad'+'er'](_0x2cba61,this['glFragment'+'Shader']);const _0x283147=_0x494231['definition'],_0xca21c=_0x283147['attributes'];if(_0x283147['useTransfo'+'rmFeedback']){const _0x232ce7=[];for(const _0x1c2413 in _0xca21c)_0xca21c['hasOwnProp'+'erty'](_0x1c2413)&&_0x232ce7['push']('out_'+_0x1c2413);_0x2a4177['transformF'+'eedbackVar'+'yings'](_0x2cba61,_0x232ce7,_0x2a4177['INTERLEAVE'+'D_ATTRIBS']);}const _0x5e4e64={};for(const _0x34adc1 in _0xca21c)if(_0xca21c['hasOwnProp'+'erty'](_0x34adc1)){const _0x253889=_0xca21c[_0x34adc1],_0x234b3c=ve[_0x253889];v['assert'](!_0x5e4e64['hasOwnProp'+'erty'](_0x234b3c),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x5e4e64[_0x234b3c]+'\x20and\x20'+_0x34adc1),_0x5e4e64[_0x234b3c]=_0x34adc1,_0x2a4177['bindAttrib'+'Location'](_0x2cba61,_0x234b3c,_0x34adc1);}_0x2a4177['linkProgra'+'m'](_0x2cba61),v['call'](()=>{this['compileDur'+'ation']=re()-_0x14a846;}),_0x1f058c['_shaderSta'+'ts']['linked']++,_0x283147['tag']===Ly&&_0x1f058c['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x398023,_0x29073a,_0x2ad475){const _0x4c8534=_0x398023['gl'];if(_0x4c8534['isContextL'+'ost']())return null;const _0x1a2d1e=(_0x2ad475?ab:ob)['get'](_0x398023,()=>new nb());let _0x634626=_0x1a2d1e['map']['get'](_0x29073a);if(!_0x634626){const _0x383981=re();_0x398023['fire']('shader:com'+'pile:start',{'timestamp':_0x383981,'target':_0x398023}),_0x634626=_0x4c8534['createShad'+'er'](_0x2ad475?_0x4c8534['VERTEX_SHA'+'DER']:_0x4c8534['FRAGMENT_S'+'HADER']),_0x4c8534['shaderSour'+'ce'](_0x634626,_0x29073a),_0x4c8534['compileSha'+'der'](_0x634626),_0x1a2d1e['map']['set'](_0x29073a,_0x634626);const _0x3c9b67=re();_0x398023['fire']('shader:com'+'pile:end',{'timestamp':_0x3c9b67,'target':_0x398023}),_0x398023['_shaderSta'+'ts']['compileTim'+'e']+=_0x3c9b67-_0x383981,_0x2ad475?_0x398023['_shaderSta'+'ts']['vsCompiled']++:_0x398023['_shaderSta'+'ts']['fsCompiled']++;}return _0x634626;}['finalize'](_0x8b945c,_0xaeb558){var _0x5f3cb1,_0x55858e;const _0x1019f1=_0x8b945c['gl'];if(_0x1019f1['isContextL'+'ost']())return!(-0x6ad*-0x5+0x157*0x1+-0x22b8);const _0x2700c9=this['glProgram'],_0x46242b=_0xaeb558['definition'],_0x5f4e4b=re();_0x8b945c['fire']('shader:lin'+'k:start',{'timestamp':_0x5f4e4b,'target':_0x8b945c});let _0x1a86e2=-0x968*0x1+0x266f+-0x1d07;if(v['call'](()=>{_0x1a86e2=re();}),!_0x1019f1['getProgram'+'Parameter'](_0x2700c9,_0x1019f1['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x8b945c,_0xaeb558,this['glVertexSh'+'ader'],_0x46242b['vshader'],'vertex')||!this['_isCompile'+'d'](_0x8b945c,_0xaeb558,this['glFragment'+'Shader'],_0x46242b['fshader'],'fragment'))return!(0x2513+-0x184a*0x1+-0xcc8);const _0x3f64ee='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x1019f1['getProgram'+'InfoLog'](_0x2700c9);return _0x46242b['translated'+'Frag']=(_0x5f3cb1=_0x1019f1['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x37e*-0x5+0x3*-0x409+0x1d91):_0x5f3cb1['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x46242b['translated'+'Vert']=(_0x55858e=_0x1019f1['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x75*-0x3b+0x58*0x54+-0x1e9):_0x55858e['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x3f64ee,_0x46242b),console['error'](_0x3f64ee),!(-0x1a37+-0x4*0x4b1+0x2cfc);}const _0x5347f7=_0x1019f1['getProgram'+'Parameter'](_0x2700c9,_0x1019f1['ACTIVE_ATT'+'RIBUTES']);for(let _0x2a9368=-0xaba+0x230f+-0x1855;_0x2a9368<_0x5347f7;_0x2a9368++){const _0x2e6888=_0x1019f1['getActiveA'+'ttrib'](_0x2700c9,_0x2a9368),_0x297f67=_0x1019f1['getAttribL'+'ocation'](_0x2700c9,_0x2e6888['name']);if(!rb['has'](_0x2e6888['name'])){if(_0x46242b['attributes'][_0x2e6888['name']]===void(0xde4+0x3*0x4d6+-0x1c66))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x2e6888['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0xaeb558['label']+']',_0xaeb558),_0xaeb558['failed']=!(0x3*-0xc27+0x1369*-0x1+0x37de);else{const _0x214a74=new Mm(_0x8b945c,_0x46242b['attributes'][_0x2e6888['name']],_0x8b945c['pcUniformT'+'ype'][_0x2e6888['type']],_0x297f67);this['attributes']['push'](_0x214a74);}}}const _0x4fc0ab=_0x8b945c['_samplerTy'+'pes'],_0x433073=_0x1019f1['getProgram'+'Parameter'](_0x2700c9,_0x1019f1['ACTIVE_UNI'+'FORMS']);for(let _0x3a7bd5=-0x1f1+-0x13c3+0x3*0x73c;_0x3a7bd5<_0x433073;_0x3a7bd5++){const _0x2c3bff=_0x1019f1['getActiveU'+'niform'](_0x2700c9,_0x3a7bd5),_0x250d04=_0x1019f1['getUniform'+'Location'](_0x2700c9,_0x2c3bff['name']),_0x1baf73=new Mm(_0x8b945c,_0x2c3bff['name'],_0x8b945c['pcUniformT'+'ype'][_0x2c3bff['type']],_0x250d04);_0x4fc0ab['has'](_0x2c3bff['type'])?this['samplers']['push'](_0x1baf73):this['uniforms']['push'](_0x1baf73);}_0xaeb558['ready']=!(0x1495*0x1+0x19de+-0x439*0xb);const _0x237446=re();return _0x8b945c['fire']('shader:lin'+'k:end',{'timestamp':_0x237446,'target':_0x8b945c}),_0x8b945c['_shaderSta'+'ts']['compileTim'+'e']+=_0x237446-_0x5f4e4b,v['call'](()=>{const _0x354a16=re()-_0x1a86e2;this['compileDur'+'ation']+=_0x354a16,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0xaeb558['id']+']\x20'+_0xaeb558['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x10*0x1c3+-0xa3+-0x52*0x56)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](0x630+0x4c3+-0x3*0x3a6)+'ms');}),!(0x2*-0xf5e+0x1cde+-0x2*-0xef);}['_isCompile'+'d'](_0x1f714e,_0x13e4f2,_0x362405,_0x47a1be,_0x3d1b98){const _0x2a69a0=_0x1f714e['gl'];if(!_0x2a69a0['getShaderP'+'arameter'](_0x362405,_0x2a69a0['COMPILE_ST'+'ATUS'])){const _0x463815=_0x2a69a0['getShaderI'+'nfoLog'](_0x362405),[_0x3fffcd,_0x4f13f8]=this['_processEr'+'ror'](_0x47a1be,_0x463815),_0xf2bdbc='Failed\x20to\x20'+'compile\x20'+_0x3d1b98+'\x20shader:\x0a\x0a'+_0x463815+'\x0a'+_0x3fffcd+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x4f13f8['shader']=_0x13e4f2,console['error'](_0xf2bdbc,_0x4f13f8),console['error'](_0xf2bdbc),!(-0x1*-0xc6d+0xa*0x166+0x69a*-0x4);}return!(-0x98+-0xd03+0xd9b);}['isLinked'](_0x2e9083){const {extParallelShaderCompile:_0x286523}=_0x2e9083;return _0x286523?_0x2e9083['gl']['getProgram'+'Parameter'](this['glProgram'],_0x286523['COMPLETION'+'_STATUS_KH'+'R']):!(0xdde*-0x1+0xd65+0x79*0x1);}['_processEr'+'ror'](_0x113fbf,_0x4a801b){const _0x3ff3b3={};let _0x251058='';if(_0x113fbf){const _0x78ed6b=_0x113fbf['split']('\x0a');let _0x1d2eae=-0x5*-0x63c+-0xb7*-0x4+-0x2208,_0x51181b=_0x78ed6b['length'];if(_0x4a801b&&_0x4a801b['startsWith']('ERROR:')){const _0x22f763=_0x4a801b['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x22f763&&(_0x3ff3b3['message']=_0x22f763[-0xb*0xe3+-0x588+0xf4c],_0x3ff3b3['line']=parseInt(_0x22f763[-0x4*0x1f3+-0xf9e+0x5db*0x4],-0xec7+0x2d*0x1a+0xa3f),_0x1d2eae=Math['max'](-0x1313+0x1605+-0x2f2,_0x3ff3b3['line']-(0x18cc+-0xcbb*0x1+-0xc0b)),_0x51181b=Math['min'](_0x78ed6b['length'],_0x3ff3b3['line']+(0xbfa+0xc*-0x232+-0x1d*-0x7f)));}for(let _0x159050=_0x1d2eae;_0x159050<_0x51181b;_0x159050++)_0x251058+=_0x159050+(0x11b*-0x1+0x1cb2*0x1+-0x1b96)+':\x09'+_0x78ed6b[_0x159050]+'\x0a';_0x3ff3b3['source']=_0x113fbf;}return[_0x251058,_0x3ff3b3];}}function Rm(_0x430db5,_0x5949c8){const _0x419e00=_0x430db5['width'],_0x1d4dfc=_0x430db5['height'];if(_0x419e00>_0x5949c8||_0x1d4dfc>_0x5949c8){const _0x4ee168=_0x5949c8/Math['max'](_0x419e00,_0x1d4dfc),_0x29b23e=Math['floor'](_0x419e00*_0x4ee168),_0x9f2997=Math['floor'](_0x1d4dfc*_0x4ee168);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x5949c8+('.\x20Resizing'+'\x20from\x20')+_0x419e00+',\x20'+_0x1d4dfc+'\x20to\x20'+_0x29b23e+',\x20'+_0x9f2997+'.');const _0x146279=document['createElem'+'ent']('canvas');return _0x146279['width']=_0x29b23e,_0x146279['height']=_0x9f2997,_0x146279['getContext']('2d')['drawImage'](_0x430db5,-0x12f*-0xc+0x85a+-0x168e,0x1edb+-0x1*0x52a+-0x19b1,_0x419e00,_0x1d4dfc,0x15fd+-0x1e0c+0x80f,-0x1*0x476+0xcfd+-0x887*0x1,_0x29b23e,_0x9f2997),_0x146279;}return _0x430db5;}class hb{constructor(_0x59d7c6){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0xe7*0x3+-0xfb1+0xcfc),this['texture']=_0x59d7c6;}['destroy'](_0x210a97){if(this['_glTexture']){for(let _0x5ec59e=0xc23+0x1457+0x207a*-0x1;_0x5ec59e<_0x210a97['textureUni'+'ts']['length'];_0x5ec59e++){const _0x4bac2a=_0x210a97['textureUni'+'ts'][_0x5ec59e];for(let _0x1dce50=0x18bd+-0x1060+-0x1*0x85d;_0x1dce50<_0x4bac2a['length'];_0x1dce50++)_0x4bac2a[_0x1dce50]===this['_glTexture']&&(_0x4bac2a[_0x1dce50]=null);}_0x210a97['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x188339){this['dirtyParam'+'eterFlags']|=_0x188339;}['initialize'](_0x578837,_0x1274ae){const _0x2abcc3=_0x578837['gl'];switch(this['_glTexture']=_0x2abcc3['createText'+'ure'](),this['_glTarget']=_0x1274ae['_cubemap']?_0x2abcc3['TEXTURE_CU'+'BE_MAP']:_0x1274ae['_volume']?_0x2abcc3['TEXTURE_3D']:_0x1274ae['array']?_0x2abcc3['TEXTURE_2D'+'_ARRAY']:_0x2abcc3['TEXTURE_2D'],_0x1274ae['_format']){case fy:this['_glFormat']=_0x2abcc3['ALPHA'],this['_glInterna'+'lFormat']=_0x2abcc3['ALPHA'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x2abcc3['LUMINANCE'],this['_glInterna'+'lFormat']=_0x2abcc3['LUMINANCE'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case Nf:this['_glFormat']=_0x2abcc3['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x2abcc3['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x2abcc3['RED'],this['_glInterna'+'lFormat']=_0x2abcc3['R8'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case rp:this['_glFormat']=_0x2abcc3['RG'],this['_glInterna'+'lFormat']=_0x2abcc3['RG8'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case gc:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x2abcc3['RGB'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_S'+'HORT_5_6_5'];break;case zf:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case yc:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x2abcc3['RGB8'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA8'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case xc:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case Uf:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case wc:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case Tc:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Ac:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Gf:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Hf:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x578837['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x578837['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case _u:this['_glFormat']=_0x2abcc3['SRGB'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case gu:this['_glFormat']=_0x2abcc3['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case yu:this['_glFormat']=_0x2abcc3['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case xu:this['_glFormat']=_0x2abcc3['SRGB'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Su:this['_glFormat']=_0x2abcc3['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case vu:this['_glFormat']=_0x2abcc3['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x578837['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case bu:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x578837['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x2abcc3['RED'],this['_glInterna'+'lFormat']=_0x2abcc3['R16F'],this['_glPixelTy'+'pe']=_0x2abcc3['HALF_FLOAT'];break;case sp:this['_glFormat']=_0x2abcc3['RG'],this['_glInterna'+'lFormat']=_0x2abcc3['RG16F'],this['_glPixelTy'+'pe']=_0x2abcc3['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x2abcc3['RGB16F'],this['_glPixelTy'+'pe']=_0x2abcc3['HALF_FLOAT'];break;case Qe:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA16F'],this['_glPixelTy'+'pe']=_0x2abcc3['HALF_FLOAT'];break;case vc:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x2abcc3['RGB32F'],this['_glPixelTy'+'pe']=_0x2abcc3['FLOAT'];break;case Ye:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA32F'],this['_glPixelTy'+'pe']=_0x2abcc3['FLOAT'];break;case Li:this['_glFormat']=_0x2abcc3['RED'],this['_glInterna'+'lFormat']=_0x2abcc3['R32F'],this['_glPixelTy'+'pe']=_0x2abcc3['FLOAT'];break;case Pi:this['_glFormat']=_0x2abcc3['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x2abcc3['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x2abcc3['FLOAT'];break;case ha:this['_glFormat']=_0x2abcc3['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x2abcc3['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_S'+'HORT'];break;case bc:this['_glFormat']=_0x2abcc3['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x2abcc3['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_I'+'NT_24_8'];break;case ga:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x2abcc3['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Vf:this['_glFormat']=_0x2abcc3['RGB'],this['_glInterna'+'lFormat']=_0x2abcc3['SRGB8'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case as:this['_glFormat']=_0x2abcc3['RGBA'],this['_glInterna'+'lFormat']=_0x2abcc3['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x2abcc3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x2abcc3['R8I'],this['_glPixelTy'+'pe']=_0x2abcc3['BYTE'];break;case xy:this['_glFormat']=_0x2abcc3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x2abcc3['R8UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case $f:this['_glFormat']=_0x2abcc3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x2abcc3['R16I'],this['_glPixelTy'+'pe']=_0x2abcc3['SHORT'];break;case qf:this['_glFormat']=_0x2abcc3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x2abcc3['R16UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_S'+'HORT'];break;case Xf:this['_glFormat']=_0x2abcc3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x2abcc3['R32I'],this['_glPixelTy'+'pe']=_0x2abcc3['INT'];break;case an:this['_glFormat']=_0x2abcc3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x2abcc3['R32UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_I'+'NT'];break;case jf:this['_glFormat']=_0x2abcc3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x2abcc3['RG8I'],this['_glPixelTy'+'pe']=_0x2abcc3['BYTE'];break;case Sy:this['_glFormat']=_0x2abcc3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x2abcc3['RG8UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case Yf:this['_glFormat']=_0x2abcc3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x2abcc3['RG16I'],this['_glPixelTy'+'pe']=_0x2abcc3['SHORT'];break;case Kf:this['_glFormat']=_0x2abcc3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x2abcc3['RG16UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_S'+'HORT'];break;case Zf:this['_glFormat']=_0x2abcc3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x2abcc3['RG32I'],this['_glPixelTy'+'pe']=_0x2abcc3['INT'];break;case Qf:this['_glFormat']=_0x2abcc3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x2abcc3['RG32UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_I'+'NT'];break;case Jf:this['_glFormat']=_0x2abcc3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA8I'],this['_glPixelTy'+'pe']=_0x2abcc3['BYTE'];break;case vy:this['_glFormat']=_0x2abcc3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA8UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_B'+'YTE'];break;case ep:this['_glFormat']=_0x2abcc3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA16I'],this['_glPixelTy'+'pe']=_0x2abcc3['SHORT'];break;case Cc:this['_glFormat']=_0x2abcc3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA16UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_S'+'HORT'];break;case tp:this['_glFormat']=_0x2abcc3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA32I'],this['_glPixelTy'+'pe']=_0x2abcc3['INT'];break;case ut:this['_glFormat']=_0x2abcc3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x2abcc3['RGBA32UI'],this['_glPixelTy'+'pe']=_0x2abcc3['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x24a*0x5+0xcb5+-0x1826);}['upload'](_0xb226c7,_0x11c4cc){v['assert'](_0x11c4cc['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x11c4cc);const _0x2f19b5=_0xb226c7['gl'];if(!_0x11c4cc['_needsUplo'+'ad']&&(_0x11c4cc['_needsMipm'+'apsUpload']&&_0x11c4cc['_mipmapsUp'+'loaded']||!_0x11c4cc['pot']))return;let _0x1f88f2=-0x2c0+-0x5fb*-0x6+-0x2122,_0x248498,_0x581657;const _0x35bd6e=_0x11c4cc['numLevels'];for(_0x11c4cc['array']&&_0x2f19b5['texStorage'+'3D'](_0x2f19b5['TEXTURE_2D'+'_ARRAY'],_0x35bd6e,this['_glInterna'+'lFormat'],_0x11c4cc['_width'],_0x11c4cc['_height'],_0x11c4cc['_arrayLeng'+'th']);_0x11c4cc['_levels'][_0x1f88f2]||_0x1f88f2===0xea5+0xc89*0x3+-0x3440;){if(!_0x11c4cc['_needsUplo'+'ad']&&_0x1f88f2===-0x1*-0x14ef+0x294+-0x1cf*0xd){_0x1f88f2++;continue;}else{if(_0x1f88f2&&(!_0x11c4cc['_needsMipm'+'apsUpload']||!_0x11c4cc['_mipmaps']))break;}if(_0x248498=_0x11c4cc['_levels'][_0x1f88f2],_0x581657=(0xaea+0x1*0x23cf+-0x1*0x2eb8)/Math['pow'](-0x2596+-0x153a+0x3ad2,_0x1f88f2),_0x1f88f2===-0x328+0x2169+-0x1e40&&!_0x11c4cc['_compresse'+'d']&&!_0x11c4cc['_integerFo'+'rmat']&&_0x11c4cc['_levels']['length']<_0x35bd6e&&(_0x2f19b5['generateMi'+'pmap'](this['_glTarget']),_0x11c4cc['_mipmapsUp'+'loaded']=!(0xba8+0x5e*0x42+-0x1*0x23e4)),_0x11c4cc['_cubemap']){let _0x12f69f;if(_0xb226c7['_isBrowser'+'Interface'](_0x248498[-0x1*-0x1dd1+-0x1759+0x9*-0xb8]))for(_0x12f69f=-0x2183+-0x1*0x10f3+-0x6*-0x869;_0x12f69f<-0x5b5+0x1*-0xba1+-0xb*-0x194;_0x12f69f++){if(!_0x11c4cc['_levelsUpd'+'ated'][0x8cb+-0x1d89*0x1+0x14be][_0x12f69f])continue;let _0x1a0258=_0x248498[_0x12f69f];_0xb226c7['_isImageBr'+'owserInter'+'face'](_0x1a0258)&&(_0x1a0258['width']>_0xb226c7['maxCubeMap'+'Size']||_0x1a0258['height']>_0xb226c7['maxCubeMap'+'Size'])&&(_0x1a0258=Rm(_0x1a0258,_0xb226c7['maxCubeMap'+'Size']),_0x1f88f2===0xb4f+-0x1053*0x1+-0x282*-0x2&&(_0x11c4cc['_width']=_0x1a0258['width'],_0x11c4cc['_height']=_0x1a0258['height'])),_0xb226c7['setUnpackF'+'lipY'](!(0x1d47+-0x7*0x3a1+-0x3df)),_0xb226c7['setUnpackP'+'remultiply'+'Alpha'](_0x11c4cc['_premultip'+'lyAlpha']),this['_glCreated']?_0x2f19b5['texSubImag'+'e2D'](_0x2f19b5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x12f69f,_0x1f88f2,0x9a4+-0x1*0x194d+0x13*0xd3,-0x118d+0x1d06+-0xb79,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1a0258):_0x2f19b5['texImage2D'](_0x2f19b5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x12f69f,_0x1f88f2,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1a0258);}else for(_0x581657=(-0xf61+-0x24ce+0xd0c*0x4)/Math['pow'](-0x1591*0x1+0x1f*0x6b+0x89e,_0x1f88f2),_0x12f69f=0x1e57+-0x460+-0x17*0x121;_0x12f69f<0x1462+0x13bf+-0x281b;_0x12f69f++){if(!_0x11c4cc['_levelsUpd'+'ated'][0x547+0x1331*0x1+-0x1878][_0x12f69f])continue;const _0x7877ae=_0x248498[_0x12f69f];_0x11c4cc['_compresse'+'d']?this['_glCreated']&&_0x7877ae?_0x2f19b5['compressed'+'TexSubImag'+'e2D'](_0x2f19b5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x12f69f,_0x1f88f2,0x26a6+-0x4e+-0x3*0xcc8,-0x30b+-0x915+0xc20,Math['max'](_0x11c4cc['_width']*_0x581657,-0xc8f+-0x2250+0x2ee0),Math['max'](_0x11c4cc['_height']*_0x581657,-0x1*-0xea6+0x2*0x554+-0x194d),this['_glInterna'+'lFormat'],_0x7877ae):_0x2f19b5['compressed'+'TexImage2D'](_0x2f19b5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x12f69f,_0x1f88f2,this['_glInterna'+'lFormat'],Math['max'](_0x11c4cc['_width']*_0x581657,0xa1b*0x1+-0xb*0x2f9+0x485*0x5),Math['max'](_0x11c4cc['_height']*_0x581657,-0x1432+0x169f+0x7c*-0x5),0x178a+-0x1f56+0x7cc,_0x7877ae):(_0xb226c7['setUnpackF'+'lipY'](!(-0x139*-0x1b+-0x71*0x33+-0xa7f)),_0xb226c7['setUnpackP'+'remultiply'+'Alpha'](_0x11c4cc['_premultip'+'lyAlpha']),this['_glCreated']&&_0x7877ae?_0x2f19b5['texSubImag'+'e2D'](_0x2f19b5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x12f69f,_0x1f88f2,-0x21d2+-0x1194+0x3366,0x785+-0x34+-0x751*0x1,Math['max'](_0x11c4cc['_width']*_0x581657,-0x1*0xa75+-0x335*-0x1+0x741),Math['max'](_0x11c4cc['_height']*_0x581657,-0x25b9+0x1363*0x1+0x1257),this['_glFormat'],this['_glPixelTy'+'pe'],_0x7877ae):_0x2f19b5['texImage2D'](_0x2f19b5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x12f69f,_0x1f88f2,this['_glInterna'+'lFormat'],Math['max'](_0x11c4cc['_width']*_0x581657,-0x4*0x51a+-0x80d+-0x1c76*-0x1),Math['max'](_0x11c4cc['_height']*_0x581657,0x6e7+-0x1e3*0x5+0x289),-0x1*0x9f5+-0x4a3*-0x2+0xaf,this['_glFormat'],this['_glPixelTy'+'pe'],_0x7877ae));}}else{if(_0x11c4cc['_volume'])_0x11c4cc['_compresse'+'d']?_0x2f19b5['compressed'+'TexImage3D'](_0x2f19b5['TEXTURE_3D'],_0x1f88f2,this['_glInterna'+'lFormat'],Math['max'](_0x11c4cc['_width']*_0x581657,0x1948+-0x1894+-0xb3),Math['max'](_0x11c4cc['_height']*_0x581657,0x2f1*0x2+0x14a3+-0x2*0xd42),Math['max'](_0x11c4cc['_depth']*_0x581657,0x1798+0x17*0x169+-0x3806),-0xd*0x1e6+-0x1*-0x19dd+-0x12f*0x1,_0x248498):(_0xb226c7['setUnpackF'+'lipY'](!(-0x1*0x200e+0x1a7a*0x1+0x595)),_0xb226c7['setUnpackP'+'remultiply'+'Alpha'](_0x11c4cc['_premultip'+'lyAlpha']),_0x2f19b5['texImage3D'](_0x2f19b5['TEXTURE_3D'],_0x1f88f2,this['_glInterna'+'lFormat'],Math['max'](_0x11c4cc['_width']*_0x581657,0x137e+-0x1*-0x11f3+-0x4*0x95c),Math['max'](_0x11c4cc['_height']*_0x581657,-0x2654+0x1f99*-0x1+0x45ee),Math['max'](_0x11c4cc['_depth']*_0x581657,0x1170+-0x7*0x3fb+-0xf*-0xb2),0x1ef3+-0xf*-0x97+0x3*-0xd44,this['_glFormat'],this['_glPixelTy'+'pe'],_0x248498));else{if(_0x11c4cc['array']&&typeof _0x248498=='object'){if(_0x11c4cc['_arrayLeng'+'th']===_0x248498['length']){if(_0x11c4cc['_compresse'+'d']){for(let _0x16f835=0x5*-0x799+0x665+0x1f98;_0x16f835<_0x11c4cc['_arrayLeng'+'th'];_0x16f835++)_0x2f19b5['compressed'+'TexSubImag'+'e3D'](_0x2f19b5['TEXTURE_2D'+'_ARRAY'],_0x1f88f2,0x18bb+-0x19a1+0xe6,-0x100d+0x11d*0x16+-0x871,_0x16f835,Math['max'](Math['floor'](_0x11c4cc['_width']*_0x581657),0x8f3+0x10b8+-0x19aa),Math['max'](Math['floor'](_0x11c4cc['_height']*_0x581657),0x3da+-0x1688*0x1+0x12af),0xf*0x299+-0x1a52+-0x652*0x2,this['_glInterna'+'lFormat'],_0x248498[_0x16f835]);}else{for(let _0x18f4b8=-0x1*-0xa3c+-0x357*-0x4+0x97*-0x28;_0x18f4b8<_0x11c4cc['_arrayLeng'+'th'];_0x18f4b8++)_0x2f19b5['texSubImag'+'e3D'](_0x2f19b5['TEXTURE_2D'+'_ARRAY'],_0x1f88f2,-0x3c4*-0x7+-0x15a*-0x13+-0x340a,0x5d5*0x2+-0x2*0xa03+-0xd6*-0xa,_0x18f4b8,Math['max'](Math['floor'](_0x11c4cc['_width']*_0x581657),-0x1*0x17c0+-0x109*-0xa+0xd67),Math['max'](Math['floor'](_0x11c4cc['_height']*_0x581657),0x2502+0x19f3+0x53f*-0xc),0x1736+0xca*0x2c+-0x39ed*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x248498[_0x18f4b8]);}}}else{if(_0xb226c7['_isBrowser'+'Interface'](_0x248498)){_0xb226c7['_isImageBr'+'owserInter'+'face'](_0x248498)&&(_0x248498['width']>_0xb226c7['maxTexture'+'Size']||_0x248498['height']>_0xb226c7['maxTexture'+'Size'])&&(_0x248498=Rm(_0x248498,_0xb226c7['maxTexture'+'Size']),_0x1f88f2===0x33*0x96+-0xbdc+0x1206*-0x1&&(_0x11c4cc['_width']=_0x248498['width'],_0x11c4cc['_height']=_0x248498['height']));const _0x17c2b4=_0x248498['width']||_0x248498['videoWidth'],_0x516fce=_0x248498['height']||_0x248498['videoHeigh'+'t'];_0xb226c7['setUnpackF'+'lipY'](_0x11c4cc['_flipY']),_0xb226c7['setUnpackP'+'remultiply'+'Alpha'](_0x11c4cc['_premultip'+'lyAlpha']),this['_glCreated']&&_0x11c4cc['_width']===_0x17c2b4&&_0x11c4cc['_height']===_0x516fce&&!_0xb226c7['_isImageVi'+'deoInterfa'+'ce'](_0x248498)?_0x2f19b5['texSubImag'+'e2D'](_0x2f19b5['TEXTURE_2D'],_0x1f88f2,0x15a*-0xd+-0x18c1+0x2a53,0x1*-0x6a8+-0x1963+0x200b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x248498):(_0x2f19b5['texImage2D'](_0x2f19b5['TEXTURE_2D'],_0x1f88f2,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x248498),_0x1f88f2===-0x85b*0x3+0x2*-0xb96+0x303d&&(_0x11c4cc['_width']=_0x17c2b4,_0x11c4cc['_height']=_0x516fce));}else _0x581657=(-0x266*0x8+0x9*0x3af+-0xdf6)/Math['pow'](0x1fa5*-0x1+0x5d*-0x40+0x36e7,_0x1f88f2),_0x11c4cc['_compresse'+'d']?this['_glCreated']&&_0x248498?_0x2f19b5['compressed'+'TexSubImag'+'e2D'](_0x2f19b5['TEXTURE_2D'],_0x1f88f2,-0x1c4c+-0x2322+0x17*0x2c2,-0x3*0xce1+-0x182*0x11+0x4045,Math['max'](Math['floor'](_0x11c4cc['_width']*_0x581657),-0x2e0+0x9a6*-0x4+0x3*0xdd3),Math['max'](Math['floor'](_0x11c4cc['_height']*_0x581657),-0x23b9+0x1*0x11e3+0x11d7),this['_glInterna'+'lFormat'],_0x248498):_0x2f19b5['compressed'+'TexImage2D'](_0x2f19b5['TEXTURE_2D'],_0x1f88f2,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x11c4cc['_width']*_0x581657),-0x5bb*-0x4+-0xfdb+-0x710*0x1),Math['max'](Math['floor'](_0x11c4cc['_height']*_0x581657),-0x1619*-0x1+-0x1e31+0x819),-0x23d0+-0x1*0x427+0x27f7,_0x248498):(_0xb226c7['setUnpackF'+'lipY'](!(-0x1c0e+0x1*-0x1f+-0x1*-0x1c2e)),_0xb226c7['setUnpackP'+'remultiply'+'Alpha'](_0x11c4cc['_premultip'+'lyAlpha']),this['_glCreated']&&_0x248498?_0x2f19b5['texSubImag'+'e2D'](_0x2f19b5['TEXTURE_2D'],_0x1f88f2,0x8c8*0x4+-0x1*-0x1c09+-0x3f29,-0x13da+-0x24cf+0x38a9,Math['max'](_0x11c4cc['_width']*_0x581657,-0x3*0x9d9+-0x42+-0x2fb*-0xa),Math['max'](_0x11c4cc['_height']*_0x581657,0x103f*-0x1+-0x187d+0x28bd),this['_glFormat'],this['_glPixelTy'+'pe'],_0x248498):_0x2f19b5['texImage2D'](_0x2f19b5['TEXTURE_2D'],_0x1f88f2,this['_glInterna'+'lFormat'],Math['max'](_0x11c4cc['_width']*_0x581657,-0xda5+0x310*-0x4+0x19e6),Math['max'](_0x11c4cc['_height']*_0x581657,-0x7d5+-0x424+-0x6*-0x1ff),-0x1*0x435+0x8da*0x1+-0x29*0x1d,this['_glFormat'],this['_glPixelTy'+'pe'],_0x248498));_0x1f88f2===0x1a23*0x1+0xaf*0x21+-0x30b2?_0x11c4cc['_mipmapsUp'+'loaded']=!(-0x1ee4+0x250*0x1+0x1c95):_0x11c4cc['_mipmapsUp'+'loaded']=!(-0xd57*0x1+0x2307+-0x15b0);}}}_0x1f88f2++;}if(_0x11c4cc['_needsUplo'+'ad']){if(_0x11c4cc['_cubemap']){for(let _0x6112ff=-0x17d*-0xf+-0x1*0x1bfa+0x1*0x5a7;_0x6112ff<0x1643+0x15b2*-0x1+-0x8b;_0x6112ff++)_0x11c4cc['_levelsUpd'+'ated'][0xe18+0x1253+-0x206b][_0x6112ff]=!(-0x4*-0x1fd+-0x43e*0x7+0x15bf);}else _0x11c4cc['_levelsUpd'+'ated'][-0x883*-0x4+-0x125e+-0x7d7*0x2]=!(-0x167*-0x7+0x11*0x1e7+0xe0d*-0x3);}!_0x11c4cc['_compresse'+'d']&&!_0x11c4cc['_integerFo'+'rmat']&&_0x11c4cc['_mipmaps']&&_0x11c4cc['_needsMipm'+'apsUpload']&&_0x11c4cc['_levels']['length']===-0x4d5*-0x2+0x1*0xba9+-0x1552&&(_0x2f19b5['generateMi'+'pmap'](this['_glTarget']),_0x11c4cc['_mipmapsUp'+'loaded']=!(-0x5ed*-0x1+-0x1f75+0x331*0x8)),_0x11c4cc['_gpuSize']&&_0x11c4cc['adjustVram'+'SizeTracki'+'ng'](_0xb226c7['_vram'],-_0x11c4cc['_gpuSize']),_0x11c4cc['_gpuSize']=_0x11c4cc['gpuSize'],_0x11c4cc['adjustVram'+'SizeTracki'+'ng'](_0xb226c7['_vram'],_0x11c4cc['_gpuSize']),this['_glCreated']=!(0x250c+-0x2356*0x1+-0x3*0x92);}['read'](_0x44bc61,_0x2ee6fe,_0x210bfe,_0x2e7175,_0x46da50){const _0x43104e=this['texture'];return _0x43104e['device']['readTextur'+'eAsync'](_0x43104e,_0x44bc61,_0x2ee6fe,_0x210bfe,_0x2e7175,_0x46da50);}}class cb{constructor(_0x2fd6b0,_0x526112){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x2fd6b0,this['resolveFB']=_0x526112);}['destroy'](_0x1c458a){this['msaaFB']&&(_0x1c458a['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x1c458a['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x1*-0x4a3+-0xb27+-0x1*-0x685));}['destroy'](_0x4e12b9){var _0x2385a0;const _0x7b5584=_0x4e12b9['gl'];this['_isInitial'+'ized']=!(-0x3b*0x49+-0x8ca+0x199e),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x7b5584['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x7b5584['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x7b5584['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x1f3edb=>{_0x7b5584['deleteRend'+'erbuffer'](_0x1f3edb);}),this['_glMsaaCol'+'orBuffers']['length']=-0xc0c+-0x2*-0x1309+-0x1a06,(_0x2385a0=this['colorMrtFr'+'amebuffers'])==null||_0x2385a0['forEach'](_0x38acfc=>{_0x38acfc['destroy'](_0x7b5584);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&ld(_0x4e12b9)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x1*-0x631+-0x85f*-0x2+-0xa8d*0x1);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x49d2b4,_0x5e444c){var _0x1793b0,_0x3a98d4;const _0xf3c49e=_0x49d2b4['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x1*-0x29d+0x10a9+0x706*-0x2);const _0x305b63=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x20f3+0x2069+-0x45*-0x2))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x5e444c['width']<=-0x74*0xd+-0xa*0x1e7+0x18ea||_0x5e444c['height']<=0x421+-0x12e6+0x1*0xec5)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x5e444c['width']+'\x20x\x20'+_0x5e444c['height'],_0x5e444c);}),this['_glFrameBu'+'ffer']=_0xf3c49e['createFram'+'ebuffer'](),_0x49d2b4['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x76170f=((_0x1793b0=_0x5e444c['_colorBuff'+'ers'])==null?void(-0x1c59+0xa24+0x1235):_0x1793b0['length'])??0x1ed*-0x8+0x3*-0x3c3+-0x1*-0x1ab1,_0x14483a=_0xf3c49e['COLOR_ATTA'+'CHMENT0'];for(let _0x3f00ba=0x10ec+-0x50+-0x1*0x109c;_0x3f00ba<_0x76170f;++_0x3f00ba){const _0x1a4dd4=_0x5e444c['getColorBu'+'ffer'](_0x3f00ba);_0x1a4dd4&&(_0x1a4dd4['impl']['_glTexture']||(_0x1a4dd4['_width']=Math['min'](_0x1a4dd4['width'],_0x49d2b4['maxRenderB'+'ufferSize']),_0x1a4dd4['_height']=Math['min'](_0x1a4dd4['height'],_0x49d2b4['maxRenderB'+'ufferSize']),_0x49d2b4['setTexture'](_0x1a4dd4,-0xa6+-0x1*-0x1951+0x1a5*-0xf)),_0xf3c49e['framebuffe'+'rTexture2D'](_0xf3c49e['FRAMEBUFFE'+'R'],_0x14483a+_0x3f00ba,_0x1a4dd4['_cubemap']?_0xf3c49e['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5e444c['_face']:_0xf3c49e['TEXTURE_2D'],_0x1a4dd4['impl']['_glTexture'],_0x5e444c['mipLevel']),_0x305b63['push'](_0x14483a+_0x3f00ba));}_0xf3c49e['drawBuffer'+'s'](_0x305b63);const _0x27220b=_0x5e444c['_depthBuff'+'er'];if(_0x27220b||_0x5e444c['_depth']){const _0x498214=_0x5e444c['_stencil']?_0xf3c49e['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0xf3c49e['DEPTH_ATTA'+'CHMENT'];if(_0x27220b)_0x27220b['impl']['_glTexture']||(_0x27220b['_width']=Math['min'](_0x27220b['width'],_0x49d2b4['maxRenderB'+'ufferSize']),_0x27220b['_height']=Math['min'](_0x27220b['height'],_0x49d2b4['maxRenderB'+'ufferSize']),_0x49d2b4['setTexture'](_0x27220b,0xc7*0x1e+-0x2000+0x65*0x16)),_0xf3c49e['framebuffe'+'rTexture2D'](_0xf3c49e['FRAMEBUFFE'+'R'],_0x498214,_0x27220b['_cubemap']?_0xf3c49e['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5e444c['_face']:_0xf3c49e['TEXTURE_2D'],_0x5e444c['_depthBuff'+'er']['impl']['_glTexture'],_0x5e444c['mipLevel']);else{if(!(_0x5e444c['_samples']>-0x1105*-0x1+-0x245*0x1+-0xebf*0x1)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0xf3c49e['createRend'+'erbuffer']());const _0x1812a0=_0x5e444c['_stencil']?_0xf3c49e['DEPTH24_ST'+'ENCIL8']:_0xf3c49e['DEPTH_COMP'+'ONENT32F'];_0xf3c49e['bindRender'+'buffer'](_0xf3c49e['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0xf3c49e['renderbuff'+'erStorage'](_0xf3c49e['RENDERBUFF'+'ER'],_0x1812a0,_0x5e444c['width'],_0x5e444c['height']),_0xf3c49e['framebuffe'+'rRenderbuf'+'fer'](_0xf3c49e['FRAMEBUFFE'+'R'],_0x498214,_0xf3c49e['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0xf3c49e['bindRender'+'buffer'](_0xf3c49e['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x49d2b4,_0x5e444c));}if(_0x5e444c['_samples']>0x13ed+0x21ca+-0x1adb*0x2){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0xf3c49e['createFram'+'ebuffer'](),_0x49d2b4['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x12708f=((_0x3a98d4=_0x5e444c['_colorBuff'+'ers'])==null?void(0x1a6f*0x1+-0x324+-0x174b):_0x3a98d4['length'])??0xb*-0x17d+-0x4ed+0x154c;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x26b*-0x9+0x156*0x12+-0x2dcf)){const _0xea4bcf=_0xf3c49e['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0xea4bcf);const _0x189a85=_0x49d2b4['backBuffer'+'Format']===Se?_0xf3c49e['RGBA8']:_0xf3c49e['RGB8'];_0xf3c49e['bindRender'+'buffer'](_0xf3c49e['RENDERBUFF'+'ER'],_0xea4bcf),_0xf3c49e['renderbuff'+'erStorageM'+'ultisample'](_0xf3c49e['RENDERBUFF'+'ER'],_0x5e444c['_samples'],_0x189a85,_0x5e444c['width'],_0x5e444c['height']),_0xf3c49e['framebuffe'+'rRenderbuf'+'fer'](_0xf3c49e['FRAMEBUFFE'+'R'],_0xf3c49e['COLOR_ATTA'+'CHMENT0'],_0xf3c49e['RENDERBUFF'+'ER'],_0xea4bcf);}else for(let _0x21f306=0x81d+-0x13d*0x14+0x10a7;_0x21f306<_0x12708f;++_0x21f306){const _0x5b9d00=_0x5e444c['getColorBu'+'ffer'](_0x21f306);if(_0x5b9d00){const _0xde7d92=_0xf3c49e['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0xde7d92),_0xf3c49e['bindRender'+'buffer'](_0xf3c49e['RENDERBUFF'+'ER'],_0xde7d92),_0xf3c49e['renderbuff'+'erStorageM'+'ultisample'](_0xf3c49e['RENDERBUFF'+'ER'],_0x5e444c['_samples'],_0x5b9d00['impl']['_glInterna'+'lFormat'],_0x5e444c['width'],_0x5e444c['height']),_0xf3c49e['framebuffe'+'rRenderbuf'+'fer'](_0xf3c49e['FRAMEBUFFE'+'R'],_0xf3c49e['COLOR_ATTA'+'CHMENT0']+_0x21f306,_0xf3c49e['RENDERBUFF'+'ER'],_0xde7d92);}}if(_0x5e444c['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x52d031=_0x5e444c['_stencil']?_0xf3c49e['DEPTH24_ST'+'ENCIL8']:_0xf3c49e['DEPTH_COMP'+'ONENT32F'],_0x131efa=_0x5e444c['_stencil']?_0xf3c49e['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0xf3c49e['DEPTH_ATTA'+'CHMENT'];let _0x4ca3e2;const _0x5e7c34=_0x5e444c['_depthBuff'+'er'];_0x5e7c34&&(_0x4ca3e2=_0x5e7c34['id']+':'+_0x5e444c['width']+':'+_0x5e444c['height']+':'+_0x5e444c['_samples']+':'+_0x52d031+':'+_0x131efa,this['_glMsaaDep'+'thBuffer']=ld(_0x49d2b4)['get'](_0x4ca3e2)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0xf3c49e['createRend'+'erbuffer'](),_0xf3c49e['bindRender'+'buffer'](_0xf3c49e['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0xf3c49e['renderbuff'+'erStorageM'+'ultisample'](_0xf3c49e['RENDERBUFF'+'ER'],_0x5e444c['_samples'],_0x52d031,_0x5e444c['width'],_0x5e444c['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0xf3c49e['deleteRend'+'erbuffer'](this);},_0x5e7c34&&ld(_0x49d2b4)['set'](_0x4ca3e2,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x4ca3e2,_0xf3c49e['framebuffe'+'rRenderbuf'+'fer'](_0xf3c49e['FRAMEBUFFE'+'R'],_0x131efa,_0xf3c49e['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x49d2b4,_0x5e444c,'MSAA')),_0x12708f>0x778+0x2*-0x1184+0x1b91&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x49d2b4,_0x5e444c,_0x12708f),_0x49d2b4['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0xf3c49e['drawBuffer'+'s'](_0x305b63));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x3e7551,_0x4b05fd,_0x37ab69){const _0x59a2df=_0x3e7551['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x16a139=0xc1*0x1e+0x50*0xa+-0x1*0x19be;_0x16a139<_0x37ab69;++_0x16a139){const _0x4c9ff5=_0x4b05fd['getColorBu'+'ffer'](_0x16a139),_0x1003ca=_0x59a2df['createFram'+'ebuffer']();_0x3e7551['setFramebu'+'ffer'](_0x1003ca);const _0x5f5afc=this['_glMsaaCol'+'orBuffers'][_0x16a139];_0x59a2df['bindRender'+'buffer'](_0x59a2df['RENDERBUFF'+'ER'],_0x5f5afc),_0x59a2df['renderbuff'+'erStorageM'+'ultisample'](_0x59a2df['RENDERBUFF'+'ER'],_0x4b05fd['_samples'],_0x4c9ff5['impl']['_glInterna'+'lFormat'],_0x4b05fd['width'],_0x4b05fd['height']),_0x59a2df['framebuffe'+'rRenderbuf'+'fer'](_0x59a2df['FRAMEBUFFE'+'R'],_0x59a2df['COLOR_ATTA'+'CHMENT0'],_0x59a2df['RENDERBUFF'+'ER'],_0x5f5afc),_0x59a2df['drawBuffer'+'s']([_0x59a2df['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x3e7551,_0x4b05fd,'MSAA-MRT-s'+'rc'+_0x16a139));const _0x117621=_0x59a2df['createFram'+'ebuffer']();_0x3e7551['setFramebu'+'ffer'](_0x117621),_0x59a2df['framebuffe'+'rTexture2D'](_0x59a2df['FRAMEBUFFE'+'R'],_0x59a2df['COLOR_ATTA'+'CHMENT0'],_0x4c9ff5['_cubemap']?_0x59a2df['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4b05fd['_face']:_0x59a2df['TEXTURE_2D'],_0x4c9ff5['impl']['_glTexture'],0x7a*0x3b+-0xa00+-0x121e),this['colorMrtFr'+'amebuffers'][_0x16a139]=new cb(_0x1003ca,_0x117621),v['call'](()=>this['_checkFbo'](_0x3e7551,_0x4b05fd,'MSAA-MRT-d'+'st'+_0x16a139));}}['_checkFbo'](_0x3f3e59,_0x43b6b3,_0x2b950d=''){const _0x3c16b3=_0x3f3e59['gl'],_0x5b2749=_0x3c16b3['checkFrame'+'bufferStat'+'us'](_0x3c16b3['FRAMEBUFFE'+'R']);let _0x2f8ae1;switch(_0x5b2749){case _0x3c16b3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x2f8ae1='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x3c16b3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x2f8ae1='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x3c16b3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x2f8ae1='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x3c16b3['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x2f8ae1='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x2f8ae1,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x2f8ae1+(',\x20render\x20t'+'arget:\x20')+_0x43b6b3['name']+'\x20'+_0x2b950d,_0x43b6b3);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x1*0x7eb+-0x1032+0x1*0x847,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x667+-0x151b+0xeb4),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x14ed+0x4b9*0x7+-0x35fc),this['_isInitial'+'ized']=!(-0x28*0xa0+-0x207a+0x397b);}['internalRe'+'solve'](_0x360a35,_0x352a15,_0xc4842f,_0x8aa445,_0x4672f0){v['assert'](_0x352a15!==_0xc4842f,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x360a35['setScissor'](-0x1c30+-0xcdc+0x1486*0x2,-0xbf7+-0x1c1e+0x2815*0x1,_0x8aa445['width'],_0x8aa445['height']);const _0x308267=_0x360a35['gl'];_0x308267['bindFrameb'+'uffer'](_0x308267['READ_FRAME'+'BUFFER'],_0x352a15),_0x308267['bindFrameb'+'uffer'](_0x308267['DRAW_FRAME'+'BUFFER'],_0xc4842f),_0x308267['blitFrameb'+'uffer'](-0x1901+-0x2ef*-0x4+0xd45,-0x2230+-0xb1*-0x37+-0x3d7,_0x8aa445['width'],_0x8aa445['height'],0x69d+0xfe7+-0x4*0x5a1,-0x224a+-0x23e0+0x462a,_0x8aa445['width'],_0x8aa445['height'],_0x4672f0,_0x308267['NEAREST']);}['resolve'](_0x50e190,_0xcad54,_0x391a5e,_0x2caed9){const _0x51b921=_0x50e190['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x391a5e)for(let _0x119b99=0x87+0x2213+-0x229a;_0x119b99<this['colorMrtFr'+'amebuffers']['length'];_0x119b99++){const _0x2d1094=this['colorMrtFr'+'amebuffers'][_0x119b99];G['pushGpuMar'+'ker'](_0x50e190,'RESOLVE-MR'+'T'+_0x119b99),this['internalRe'+'solve'](_0x50e190,_0x2d1094['msaaFB'],_0x2d1094['resolveFB'],_0xcad54,_0x51b921['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x50e190);}_0x2caed9&&(G['pushGpuMar'+'ker'](_0x50e190,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x50e190,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0xcad54,_0x51b921['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x50e190));}else G['pushGpuMar'+'ker'](_0x50e190,'RESOLVE'),this['internalRe'+'solve'](_0x50e190,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0xcad54,(_0x391a5e?_0x51b921['COLOR_BUFF'+'ER_BIT']:0x1*-0xc63+-0x1e89+0x2aec)|(_0x2caed9?_0x51b921['DEPTH_BUFF'+'ER_BIT']:-0x2c7+0x265d+-0x1*0x2396)),G['popGpuMark'+'er'](_0x50e190);_0x51b921['bindFrameb'+'uffer'](_0x51b921['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0xb9e39){this['queries']['forEach'](_0x252702=>_0xb9e39['deleteQuer'+'y'](_0x252702)),this['queries']=null;}}class fb extends tb{constructor(_0x23b293){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x23b293,this['ext']=_0x23b293['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x34cf7b=>this['device']['gl']['deleteQuer'+'y'](_0x34cf7b)),this['frameQueri'+'es']['forEach'](_0x41e000=>this['device']['gl']['deleteQuer'+'y'](_0x41e000)),this['previousFr'+'ameQueries']['forEach'](_0x2444e8=>_0x2444e8['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x5db1d3){if(this['ext']){const _0x30c403=this['getSlot'](_0x5db1d3),_0x4e5955=this['getQuery']();return this['frameQueri'+'es'][_0x30c403]=_0x4e5955,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x4e5955),_0x30c403;}}['end'](_0x477c70){_0x477c70!==void(-0x21e4+-0x94f+0x2b33)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0xd6d10b=this['ext'],_0x597e54=this['device']['gl'],_0x17a4f5=this['device']['renderVers'+'ion'],_0x5c5edf=this['frameQueri'+'es'];if(_0x5c5edf['length']>-0xa34+-0x162b+0x205f){this['frameQueri'+'es']=[];const _0x30b3dd=new ub();_0x30b3dd['queries']=_0x5c5edf,_0x30b3dd['renderVers'+'ion']=_0x17a4f5,this['previousFr'+'ameQueries']['push'](_0x30b3dd);}if(this['previousFr'+'ameQueries']['length']>0x6*0x5e7+0x265e+-0x49c8){const _0x5c144c=this['previousFr'+'ameQueries'][0x4dd+-0x8e8+0x1*0x40b],_0x467700=_0x5c144c['queries'],_0x3097bf=_0x467700[_0x467700['length']-(0x470+0x73*0x1+-0x4e2)],_0x1d8542=_0x597e54['getQueryPa'+'rameter'](_0x3097bf,_0x597e54['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x4d696d=_0x597e54['getParamet'+'er'](_0xd6d10b['GPU_DISJOI'+'NT_EXT']);if(_0x1d8542&&!_0x4d696d){this['previousFr'+'ameQueries']['shift']();const _0x5c30c7=this['timings'];_0x5c30c7['length']=-0x1*0x14e3+0x2686*0x1+-0xf*0x12d;for(let _0x5baa3e=-0x1ee1+0x1c84+0x25d;_0x5baa3e<_0x467700['length'];_0x5baa3e++){const _0x2abd03=_0x467700[_0x5baa3e],_0x40f2bf=_0x597e54['getQueryPa'+'rameter'](_0x2abd03,_0x597e54['QUERY_RESU'+'LT']);_0x5c30c7[_0x5baa3e]=_0x40f2bf*(-0x5b*-0x1f+-0x9f8+-0x10d+0.000001),this['freeQuerie'+'s']['push'](_0x2abd03);}this['report'](_0x5c144c['renderVers'+'ion'],_0x5c30c7);}_0x4d696d&&(this['previousFr'+'ameQueries']['forEach'](_0x9f49b=>{this['report'](_0x9f49b['renderVers'+'ion'],null),_0x9f49b['destroy'](_0x597e54);}),this['previousFr'+'ameQueries']['length']=-0x768+-0x3aa+0xb12);}super['request'](_0x17a4f5);}}}const An=[];class pb extends kh{constructor(_0x538d91,_0x1395b8={}){super(_0x538d91,_0x1395b8),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x100c+0x1795*0x1+-0x788)),(_0x1395b8=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x1dea+0x7d5+0x1616),this['_contextLo'+'stHandler']=_0x1d81ff=>{_0x1d81ff['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0xa425b=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0xa425b&&_0xa425b['includes']('AppleWebKi'+'t')&&(_0xa425b['includes']('15.4')||_0xa425b['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x1395b8['antialias']=!(0x1*0x1441+0xcd7*-0x1+-0x769),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x3ce153=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x11a581=_0x3ce153?_0x3ce153[-0x17*-0x175+-0x3a3+-0x1ddf]:null;if(_0x11a581){const _0x41a243=parseFloat(_0x11a581);(ye['name']==='windows'&&(_0x41a243>=0x1155*0x1+0x14cf+-0x25ac||_0x41a243===0x25b8+-0x58f*-0x5+-0xad8*0x6)||ye['name']==='android'&&_0x41a243>=0x10b*-0x11+-0x2500+0x373f)&&(_0x1395b8['antialias']=!(-0x2572+-0x1*-0x1472+0x3*0x5ab),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x11a581));}}this['backBuffer'+'Antialias']=_0x1395b8['antialias']??!(-0x3d*-0x99+-0x6d2*-0x3+-0x38ea),_0x1395b8['antialias']=!(-0x7*-0x523+-0x1b12+0x2f6*-0x3);const _0x46d32c=_0x1395b8['gl']??_0x538d91['getContext']('webgl2',_0x1395b8);if(!_0x46d32c)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x46d32c,this['isWebGL2']=!(-0x21d*0xa+-0x1b2+-0x4*-0x5b5),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x1d8d2a=ye['browserNam'+'e']==='chrome',_0x33c5be=ye['browserNam'+'e']==='safari',_0x519cbc=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x178+-0x25d2+-0xd19*-0x3);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x33c5be,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x519cbc&&_0x1d8d2a&&!_0x1395b8['alpha'],_0x538d91['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x631*-0x3+-0x1f27+0x31bb*0x1)),_0x538d91['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x192e+-0xdd0*-0x2+-0x271)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x33c5be&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x46d32c['SAMPLER_2D'],_0x46d32c['SAMPLER_CU'+'BE'],_0x46d32c['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x46d32c['INT_SAMPLE'+'R_2D'],_0x46d32c['SAMPLER_2D'+'_SHADOW'],_0x46d32c['SAMPLER_CU'+'BE_SHADOW'],_0x46d32c['SAMPLER_3D'],_0x46d32c['INT_SAMPLE'+'R_3D'],_0x46d32c['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x46d32c['SAMPLER_2D'+'_ARRAY'],_0x46d32c['INT_SAMPLE'+'R_2D_ARRAY'],_0x46d32c['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x46d32c['REPEAT'],_0x46d32c['CLAMP_TO_E'+'DGE'],_0x46d32c['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x46d32c['FUNC_ADD'],_0x46d32c['FUNC_SUBTR'+'ACT'],_0x46d32c['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x46d32c['MIN'],_0x46d32c['MAX']],this['glBlendFun'+'ctionColor']=[_0x46d32c['ZERO'],_0x46d32c['ONE'],_0x46d32c['SRC_COLOR'],_0x46d32c['ONE_MINUS_'+'SRC_COLOR'],_0x46d32c['DST_COLOR'],_0x46d32c['ONE_MINUS_'+'DST_COLOR'],_0x46d32c['SRC_ALPHA'],_0x46d32c['SRC_ALPHA_'+'SATURATE'],_0x46d32c['ONE_MINUS_'+'SRC_ALPHA'],_0x46d32c['DST_ALPHA'],_0x46d32c['ONE_MINUS_'+'DST_ALPHA'],_0x46d32c['CONSTANT_C'+'OLOR'],_0x46d32c['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x46d32c['ZERO'],_0x46d32c['ONE'],_0x46d32c['SRC_COLOR'],_0x46d32c['ONE_MINUS_'+'SRC_COLOR'],_0x46d32c['DST_COLOR'],_0x46d32c['ONE_MINUS_'+'DST_COLOR'],_0x46d32c['SRC_ALPHA'],_0x46d32c['SRC_ALPHA_'+'SATURATE'],_0x46d32c['ONE_MINUS_'+'SRC_ALPHA'],_0x46d32c['DST_ALPHA'],_0x46d32c['ONE_MINUS_'+'DST_ALPHA'],_0x46d32c['CONSTANT_A'+'LPHA'],_0x46d32c['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x46d32c['NEVER'],_0x46d32c['LESS'],_0x46d32c['EQUAL'],_0x46d32c['LEQUAL'],_0x46d32c['GREATER'],_0x46d32c['NOTEQUAL'],_0x46d32c['GEQUAL'],_0x46d32c['ALWAYS']],this['glStencilO'+'p']=[_0x46d32c['KEEP'],_0x46d32c['ZERO'],_0x46d32c['REPLACE'],_0x46d32c['INCR'],_0x46d32c['INCR_WRAP'],_0x46d32c['DECR'],_0x46d32c['DECR_WRAP'],_0x46d32c['INVERT']],this['glClearFla'+'g']=[0x99e+-0x20af+-0x1711*-0x1,_0x46d32c['COLOR_BUFF'+'ER_BIT'],_0x46d32c['DEPTH_BUFF'+'ER_BIT'],_0x46d32c['COLOR_BUFF'+'ER_BIT']|_0x46d32c['DEPTH_BUFF'+'ER_BIT'],_0x46d32c['STENCIL_BU'+'FFER_BIT'],_0x46d32c['STENCIL_BU'+'FFER_BIT']|_0x46d32c['COLOR_BUFF'+'ER_BIT'],_0x46d32c['STENCIL_BU'+'FFER_BIT']|_0x46d32c['DEPTH_BUFF'+'ER_BIT'],_0x46d32c['STENCIL_BU'+'FFER_BIT']|_0x46d32c['COLOR_BUFF'+'ER_BIT']|_0x46d32c['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x194c+-0x1*-0xe1f+-0xb2d*-0x1,_0x46d32c['BACK'],_0x46d32c['FRONT'],_0x46d32c['FRONT_AND_'+'BACK']],this['glFilter']=[_0x46d32c['NEAREST'],_0x46d32c['LINEAR'],_0x46d32c['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x46d32c['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x46d32c['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x46d32c['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x46d32c['POINTS'],_0x46d32c['LINES'],_0x46d32c['LINE_LOOP'],_0x46d32c['LINE_STRIP'],_0x46d32c['TRIANGLES'],_0x46d32c['TRIANGLE_S'+'TRIP'],_0x46d32c['TRIANGLE_F'+'AN']],this['glType']=[_0x46d32c['BYTE'],_0x46d32c['UNSIGNED_B'+'YTE'],_0x46d32c['SHORT'],_0x46d32c['UNSIGNED_S'+'HORT'],_0x46d32c['INT'],_0x46d32c['UNSIGNED_I'+'NT'],_0x46d32c['FLOAT'],_0x46d32c['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x46d32c['BOOL']]=da,this['pcUniformT'+'ype'][_0x46d32c['INT']]=ln,this['pcUniformT'+'ype'][_0x46d32c['FLOAT']]=$s,this['pcUniformT'+'ype'][_0x46d32c['FLOAT_VEC2']]=lr,this['pcUniformT'+'ype'][_0x46d32c['FLOAT_VEC3']]=Xt,this['pcUniformT'+'ype'][_0x46d32c['FLOAT_VEC4']]=Sa,this['pcUniformT'+'ype'][_0x46d32c['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x46d32c['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x46d32c['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x46d32c['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x46d32c['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x46d32c['BOOL_VEC4']]=ko,this['pcUniformT'+'ype'][_0x46d32c['FLOAT_MAT2']]=Ih,this['pcUniformT'+'ype'][_0x46d32c['FLOAT_MAT3']]=Oo,this['pcUniformT'+'ype'][_0x46d32c['FLOAT_MAT4']]=va,this['pcUniformT'+'ype'][_0x46d32c['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x46d32c['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x46d32c['UNSIGNED_I'+'NT']]=ba,this['pcUniformT'+'ype'][_0x46d32c['UNSIGNED_I'+'NT_VEC2']]=wa,this['pcUniformT'+'ype'][_0x46d32c['UNSIGNED_I'+'NT_VEC3']]=Ta,this['pcUniformT'+'ype'][_0x46d32c['UNSIGNED_I'+'NT_VEC4']]=Aa,this['pcUniformT'+'ype'][_0x46d32c['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x46d32c['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x46d32c['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x46d32c['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x46d32c['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x46d32c['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x46d32c['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x46d32c['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x46d32c['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x46d32c['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x46d32c['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x46d32c['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x46d32c['TEXTURE_2D']]=-0xe*0x17f+-0x2536+0x3a28,this['targetToSl'+'ot'][_0x46d32c['TEXTURE_CU'+'BE_MAP']]=0x91*-0x2f+-0x22d*0x3+-0x3*-0xb0d,this['targetToSl'+'ot'][_0x46d32c['TEXTURE_3D']]=-0x227*-0x1+-0x619+0x17*0x2c;let _0x50faea,_0x31be45,_0x19bc7c,_0x3f2a40,_0x1a0c8f;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][da]=function(_0x1fe877,_0x40c2ba){_0x1fe877['value']!==_0x40c2ba&&(_0x46d32c['uniform1i'](_0x1fe877['locationId'],_0x40c2ba),_0x1fe877['value']=_0x40c2ba);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][$s]=function(_0x318aae,_0x33fcf5){_0x318aae['value']!==_0x33fcf5&&(_0x46d32c['uniform1f'](_0x318aae['locationId'],_0x33fcf5),_0x318aae['value']=_0x33fcf5);},this['commitFunc'+'tion'][lr]=function(_0x46709d,_0x3045da){_0x1a0c8f=_0x46709d['value'],_0x50faea=_0x3045da[-0xd*0x19+-0x255d+0x26a2],_0x31be45=_0x3045da[0x1*-0x194e+-0x340*-0x6+0x5cf*0x1],(_0x1a0c8f[-0x22e8+0x3*-0x515+0x3227]!==_0x50faea||_0x1a0c8f[-0x2*-0x173+-0x11fb+0x1*0xf16]!==_0x31be45)&&(_0x46d32c['uniform2fv'](_0x46709d['locationId'],_0x3045da),_0x1a0c8f[0x1d2+-0xa70+0x89e]=_0x50faea,_0x1a0c8f[-0x1*0x135d+0x1aa1*0x1+0x8f*-0xd]=_0x31be45);},this['commitFunc'+'tion'][Xt]=function(_0x30ecf0,_0x374ab7){_0x1a0c8f=_0x30ecf0['value'],_0x50faea=_0x374ab7[0x2*0xd3c+0x1*0x261d+-0x4095],_0x31be45=_0x374ab7[0x1d68+0x1148+-0x2eaf],_0x19bc7c=_0x374ab7[-0x15fd+0x2349+-0x3f*0x36],(_0x1a0c8f[0x14a9+0x17*-0x3d+-0x1*0xf2e]!==_0x50faea||_0x1a0c8f[-0xaa1+-0xb78+0x161a]!==_0x31be45||_0x1a0c8f[-0x144b+0x1bf7+-0x147*0x6]!==_0x19bc7c)&&(_0x46d32c['uniform3fv'](_0x30ecf0['locationId'],_0x374ab7),_0x1a0c8f[-0x1*-0x1571+-0x11d0+-0x3a1]=_0x50faea,_0x1a0c8f[0xa1a+0x15cd+0x2*-0xff3]=_0x31be45,_0x1a0c8f[0xb*-0x11b+-0x1ce+0xdf9]=_0x19bc7c);},this['commitFunc'+'tion'][Sa]=function(_0x3961f7,_0x274c78){_0x1a0c8f=_0x3961f7['value'],_0x50faea=_0x274c78[0x1625+-0x8d7+-0x6a7*0x2],_0x31be45=_0x274c78[0x62f+0x30*-0x90+0x14d2],_0x19bc7c=_0x274c78[-0x1912+0x1997+-0x83],_0x3f2a40=_0x274c78[-0x194d+0x1f47*-0x1+0x3897],(_0x1a0c8f[0x1098+0x3ca+-0x1462]!==_0x50faea||_0x1a0c8f[0x22d6+-0x213a+0x19b*-0x1]!==_0x31be45||_0x1a0c8f[-0xddb+-0x1b84+0x2961]!==_0x19bc7c||_0x1a0c8f[0x5*0x2f1+-0x230a+0xa2c*0x2]!==_0x3f2a40)&&(_0x46d32c['uniform4fv'](_0x3961f7['locationId'],_0x274c78),_0x1a0c8f[-0x1ed6+0x2*-0xfe0+0x3e96]=_0x50faea,_0x1a0c8f[0x2d0*0x4+0x6b7+0x1*-0x11f6]=_0x31be45,_0x1a0c8f[-0x11f7+-0x15*-0x143+-0x886]=_0x19bc7c,_0x1a0c8f[0x99*0x19+0x2ab*-0xb+0x1*0xe6b]=_0x3f2a40);},this['commitFunc'+'tion'][Zr]=function(_0x1bb046,_0x2ef5b3){_0x1a0c8f=_0x1bb046['value'],_0x50faea=_0x2ef5b3[-0xd64+-0x7cd+0x1531],_0x31be45=_0x2ef5b3[-0x2055*-0x1+0x100+-0xb1c*0x3],(_0x1a0c8f[-0x24*-0xac+0x983+-0x21b3*0x1]!==_0x50faea||_0x1a0c8f[-0x13a+0x8*-0x400+0x213b]!==_0x31be45)&&(_0x46d32c['uniform2iv'](_0x1bb046['locationId'],_0x2ef5b3),_0x1a0c8f[0x1888+-0x2546+0xcbe]=_0x50faea,_0x1a0c8f[0x342*-0x3+-0x18a0+0x2267]=_0x31be45);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x171ac5,_0x76c558){_0x1a0c8f=_0x171ac5['value'],_0x50faea=_0x76c558[0x190c+0x3ed*-0x1+-0x151f*0x1],_0x31be45=_0x76c558[-0x1b7b+-0x2*0x1127+-0x3dca*-0x1],_0x19bc7c=_0x76c558[-0x746+0x21fa+-0x1ab2],(_0x1a0c8f[0xc60+-0x1*-0x20f6+0x16ab*-0x2]!==_0x50faea||_0x1a0c8f[0x7cf+0x1ab2+0x450*-0x8]!==_0x31be45||_0x1a0c8f[0xf9f+0x13*-0xec+-0x1e7*-0x1]!==_0x19bc7c)&&(_0x46d32c['uniform3iv'](_0x171ac5['locationId'],_0x76c558),_0x1a0c8f[0x3cb*-0x2+-0x5*-0x363+-0x1*0x959]=_0x50faea,_0x1a0c8f[-0x78+0x3*0xaf1+0x1*-0x205a]=_0x31be45,_0x1a0c8f[-0x1*-0x1066+0x265*0x1+-0x12c9]=_0x19bc7c);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x379bd3,_0x8cb50d){_0x1a0c8f=_0x379bd3['value'],_0x50faea=_0x8cb50d[0x662+0x9f2*-0x1+-0x39*-0x10],_0x31be45=_0x8cb50d[-0x1a63+-0x1356*-0x1+0x70e],_0x19bc7c=_0x8cb50d[-0xb8f+0xdea+0x1*-0x259],_0x3f2a40=_0x8cb50d[0xd*0x18b+0xbbc+-0x71*0x48],(_0x1a0c8f[-0x384+-0x1146+0x14ca]!==_0x50faea||_0x1a0c8f[0xaec*-0x1+0x83*0x16+-0x5*0x11]!==_0x31be45||_0x1a0c8f[-0x1d59+-0x1bad+0x3908]!==_0x19bc7c||_0x1a0c8f[-0x1*-0xdbe+0x1*-0x1569+0x7ae]!==_0x3f2a40)&&(_0x46d32c['uniform4iv'](_0x379bd3['locationId'],_0x8cb50d),_0x1a0c8f[-0x1f1a*-0x1+0x1909+-0x1*0x3823]=_0x50faea,_0x1a0c8f[-0x5e6+0x14*-0x167+-0xb51*-0x3]=_0x31be45,_0x1a0c8f[-0x3*0xb2d+0x1*0x160f+0xb7a]=_0x19bc7c,_0x1a0c8f[0x1ea7+0x9fd*0x3+-0x3c9b]=_0x3f2a40);},this['commitFunc'+'tion'][ko]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Ih]=function(_0x2638c9,_0x19aec9){_0x46d32c['uniformMat'+'rix2fv'](_0x2638c9['locationId'],!(-0x17*0x34+-0x13*0x1b7+0x2542),_0x19aec9);},this['commitFunc'+'tion'][Oo]=function(_0x40e93e,_0xb32838){_0x46d32c['uniformMat'+'rix3fv'](_0x40e93e['locationId'],!(0x3b4+-0x1*-0x53+-0x406),_0xb32838);},this['commitFunc'+'tion'][va]=function(_0x17e014,_0x41fe90){_0x46d32c['uniformMat'+'rix4fv'](_0x17e014['locationId'],!(-0x1b*-0x94+0x1669+-0x32b*0xc),_0x41fe90);},this['commitFunc'+'tion'][Lc]=function(_0x5efb9b,_0x322269){_0x46d32c['uniform1fv'](_0x5efb9b['locationId'],_0x322269);},this['commitFunc'+'tion'][Fc]=function(_0x1d7f54,_0x153fdb){_0x46d32c['uniform2fv'](_0x1d7f54['locationId'],_0x153fdb);},this['commitFunc'+'tion'][kc]=function(_0x3d13be,_0x277e89){_0x46d32c['uniform3fv'](_0x3d13be['locationId'],_0x277e89);},this['commitFunc'+'tion'][hp]=function(_0x19203f,_0x599b64){_0x46d32c['uniform4fv'](_0x19203f['locationId'],_0x599b64);},this['commitFunc'+'tion'][ba]=function(_0x137570,_0x1e6abc){_0x137570['value']!==_0x1e6abc&&(_0x46d32c['uniform1ui'](_0x137570['locationId'],_0x1e6abc),_0x137570['value']=_0x1e6abc);},this['commitFunc'+'tion'][wa]=function(_0xdba0c0,_0x12a3da){_0x1a0c8f=_0xdba0c0['value'],_0x50faea=_0x12a3da[-0x11*-0x1ff+0x23b*-0xb+0x2*-0x4b3],_0x31be45=_0x12a3da[-0x1edd+0x8*0x7f+0x16*0x139],(_0x1a0c8f[0x2be+0x7*0x1f7+-0x107f*0x1]!==_0x50faea||_0x1a0c8f[0xad*-0x17+-0x10fa*0x2+0x3180]!==_0x31be45)&&(_0x46d32c['uniform2ui'+'v'](_0xdba0c0['locationId'],_0x12a3da),_0x1a0c8f[0x4*-0x399+0x8d8+-0xa*-0x8e]=_0x50faea,_0x1a0c8f[-0xe87*0x2+0x1301+0xa0e]=_0x31be45);},this['commitFunc'+'tion'][Ta]=function(_0xf8e37f,_0x5cf8ef){_0x1a0c8f=_0xf8e37f['value'],_0x50faea=_0x5cf8ef[-0xd*0x37+0x3c*-0x19+0x8a7],_0x31be45=_0x5cf8ef[-0xb65+0xb*0xfb+0x1*0x9d],_0x19bc7c=_0x5cf8ef[0xf6a+0x39*-0xa+-0xd2e],(_0x1a0c8f[0xb*0x2de+0x1748+-0x36d2*0x1]!==_0x50faea||_0x1a0c8f[-0x128f+0x25*0x4c+-0x1e5*-0x4]!==_0x31be45||_0x1a0c8f[-0x337*-0x8+0x7*-0x52f+0xa93]!==_0x19bc7c)&&(_0x46d32c['uniform3ui'+'v'](_0xf8e37f['locationId'],_0x5cf8ef),_0x1a0c8f[-0x4cb+0x11*-0x97+-0x21e*-0x7]=_0x50faea,_0x1a0c8f[0x17*0x9b+-0xb*0x15d+0x113]=_0x31be45,_0x1a0c8f[0x1579+-0xdd8+-0x79f]=_0x19bc7c);},this['commitFunc'+'tion'][Aa]=function(_0x3e37b0,_0x1bfb96){_0x1a0c8f=_0x3e37b0['value'],_0x50faea=_0x1bfb96[-0xdc9*-0x2+0x1236+-0x2dc8],_0x31be45=_0x1bfb96[-0x1e3b+0x2330+0x13d*-0x4],_0x19bc7c=_0x1bfb96[0x1*0x176b+0x7a+0x1*-0x17e3],_0x3f2a40=_0x1bfb96[-0xde9+0x11fd+-0x411],(_0x1a0c8f[-0x59+0xd*0x164+0x11bb*-0x1]!==_0x50faea||_0x1a0c8f[-0x1aff+0x1f91+-0x491]!==_0x31be45||_0x1a0c8f[-0x11f2+0x1a57+-0x863]!==_0x19bc7c||_0x1a0c8f[-0x25a9+0x1737+0x1*0xe75]!==_0x3f2a40)&&(_0x46d32c['uniform4ui'+'v'](_0x3e37b0['locationId'],_0x1bfb96),_0x1a0c8f[-0x622+0x3*0x52c+0x2*-0x4b1]=_0x50faea,_0x1a0c8f[0x371*0x7+0xf22+-0x5*0x7d8]=_0x31be45,_0x1a0c8f[0x5*0x669+0x3*0x6cb+-0x346c]=_0x19bc7c,_0x1a0c8f[-0x91*0x2d+0xe7e+-0x1*-0xb02]=_0x3f2a40);},this['commitFunc'+'tion'][Ca]=function(_0x5d1106,_0x482eec){_0x46d32c['uniform1iv'](_0x5d1106['locationId'],_0x482eec);},this['commitFunc'+'tion'][Oc]=function(_0x121132,_0x1bc479){_0x46d32c['uniform1ui'+'v'](_0x121132['locationId'],_0x1bc479);},this['commitFunc'+'tion'][Bc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ea]=function(_0x5a34c7,_0x4f11c2){_0x46d32c['uniform2iv'](_0x5a34c7['locationId'],_0x4f11c2);},this['commitFunc'+'tion'][Nc]=function(_0x1343ee,_0x5c720){_0x46d32c['uniform2ui'+'v'](_0x1343ee['locationId'],_0x5c720);},this['commitFunc'+'tion'][zc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ma]=function(_0x45ee1f,_0x3f781b){_0x46d32c['uniform3iv'](_0x45ee1f['locationId'],_0x3f781b);},this['commitFunc'+'tion'][Uc]=function(_0x230946,_0xa9daad){_0x46d32c['uniform3ui'+'v'](_0x230946['locationId'],_0xa9daad);},this['commitFunc'+'tion'][Vc]=this['commitFunc'+'tion'][Ma],this['commitFunc'+'tion'][Dh]=function(_0x48b5d7,_0xa18f5a){_0x46d32c['uniform4iv'](_0x48b5d7['locationId'],_0xa18f5a);},this['commitFunc'+'tion'][cp]=function(_0xdfe8f1,_0x209f20){_0x46d32c['uniform4ui'+'v'](_0xdfe8f1['locationId'],_0x209f20);},this['commitFunc'+'tion'][dp]=this['commitFunc'+'tion'][Dh],this['commitFunc'+'tion'][Ny]=function(_0x31f576,_0x44f7df){_0x46d32c['uniformMat'+'rix4fv'](_0x31f576['locationId'],!(-0xb73+0x1*0x22df+-0x176b),_0x44f7df);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x259e22=this['gl'];this['feedback']&&_0x259e22['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x14a6+0x28*-0x9f+0x433)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0xc8f+0x9c5+-0x1653)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x5219c2){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x5219c2;}['updateBack'+'bufferForm'+'at'](_0x4e7aea){const _0x33e55e=this['gl'];_0x33e55e['bindFrameb'+'uffer'](_0x33e55e['FRAMEBUFFE'+'R'],_0x4e7aea);const _0x3f2a5a=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x3f2a5a?Se:dr;}['updateBack'+'buffer'](){const _0x298acf=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x298acf)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x2e1*-0x2+0x178+0x44b),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x2911b6,_0x15fa03){return new sb();}['createInde'+'xBufferImp'+'l'](_0x2f6d79){return new ib(_0x2f6d79);}['createShad'+'erImpl'](_0x16f1af){return new lb(_0x16f1af);}['createText'+'ureImpl'](_0xc3fa6e){return new hb(_0xc3fa6e);}['createRend'+'erTargetIm'+'pl'](_0x345a5b){return new db();}['pushMarker'](_0x1792b3){if(ye['browser']&&window['spector']){const _0x12ad61=G['toString']();window['spector']['setMarker'](_0x12ad61+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x148247=G['toString']();_0x148247['length']?window['spector']['setMarker'](_0x148247+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x3554e4=this['gl'];let _0x536570='highp';if(_0x3554e4['getShaderP'+'recisionFo'+'rmat']){const _0x40116d=_0x3554e4['getShaderP'+'recisionFo'+'rmat'](_0x3554e4['VERTEX_SHA'+'DER'],_0x3554e4['HIGH_FLOAT']),_0x84a453=_0x3554e4['getShaderP'+'recisionFo'+'rmat'](_0x3554e4['VERTEX_SHA'+'DER'],_0x3554e4['MEDIUM_FLO'+'AT']),_0xa660c5=_0x3554e4['getShaderP'+'recisionFo'+'rmat'](_0x3554e4['FRAGMENT_S'+'HADER'],_0x3554e4['HIGH_FLOAT']),_0x4a5c1a=_0x3554e4['getShaderP'+'recisionFo'+'rmat'](_0x3554e4['FRAGMENT_S'+'HADER'],_0x3554e4['MEDIUM_FLO'+'AT']);if(_0x40116d&&_0x84a453&&_0xa660c5&&_0x4a5c1a){const _0x50652f=_0x40116d['precision']>-0x15aa+0xf9+-0x14b1*-0x1&&_0xa660c5['precision']>-0xd83+-0x14a3+-0x6*-0x5b1,_0x19be4e=_0x84a453['precision']>-0x1*0x26d5+-0x455+0x1a9*0x1a&&_0x4a5c1a['precision']>-0x1caf+-0x1c57+-0x3*-0x1302;_0x50652f||(_0x19be4e?(_0x536570='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x536570='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x536570;}['getExtensi'+'on'](){for(let _0x1dbb73=-0x3*-0x655+-0x1e49+0xa*0x121;_0x1dbb73<arguments['length'];_0x1dbb73++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x1dbb73])!==-(0xaf*-0x1d+-0xb8*0x7+0x18dc))return this['gl']['getExtensi'+'on'](arguments[_0x1dbb73]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x38477f=this['gl'];this['supportedE'+'xtensions']=_0x38477f['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0xd3*-0x27+0x13f2+-0x379*0xf),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x1cbdbd=this['gl'];let _0x18205c;const _0xfcf703=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x33bed3=_0x1cbdbd['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x33bed3==null?void(-0x96+-0xeb2+0xf48):_0x33bed3['antialias'])??!(0x18e5+0x1*0x679+-0x1*0x1f5d),this['supportsSt'+'encil']=(_0x33bed3==null?void(0x10*0xee+0x1af1+-0x29d1):_0x33bed3['stencil'])??!(-0x18d2+-0x1a1*-0x13+0x310*-0x2),this['maxTexture'+'Size']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_3D_TEX'+'TURE_SIZE']),_0x18205c=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x18205c?_0x1cbdbd['getParamet'+'er'](_0x18205c['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x18205c?_0x1cbdbd['getParamet'+'er'](_0x18205c['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x1045a5=/\bMali-G52+/,_0x554ed7=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0xfcf703['match'](_0x554ed7))&&!this['unmaskedRe'+'nderer']['match'](_0x1045a5),_0x18205c=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x18205c?_0x1cbdbd['getParamet'+'er'](_0x18205c['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x1410+-0x22ba+0x36cb;const _0x2b508b=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x2b508b?_0x1cbdbd['getParamet'+'er'](_0x1cbdbd['MAX_SAMPLE'+'S']):0xe5*0x27+-0x4d*0x7b+0x1*0x21d,this['maxSamples']=Math['min'](this['maxSamples'],-0x212+-0xb*0x67+0x683),this['samples']=_0x2b508b&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x141*-0xd+0x7*-0x3ee+0xb36,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=0x14b*-0xb+0x20ab+-0x126a&&(this['supportsAr'+'eaLights']=!(-0x4*0x2ba+-0x62c*0x1+0x1115));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0xf2fc84=this['gl'];_0xf2fc84['disable'](_0xf2fc84['BLEND']),_0xf2fc84['blendFunc'](_0xf2fc84['ONE'],_0xf2fc84['ZERO']),_0xf2fc84['blendEquat'+'ion'](_0xf2fc84['FUNC_ADD']),_0xf2fc84['colorMask'](!(-0x149d+-0x226f+0x370c),!(0x5ea*0x3+0xc88+-0x3e*0x7d),!(0x11*0x1b9+0x4*-0x7d3+-0x1*-0x203),!(0x1abb+-0x1dbd+0x302)),_0xf2fc84['blendColor'](-0x1*0xf8d+0x7*-0xb9+0x149c,0x1d57+-0x207b+0x324,0x15c7+0x180b+-0x2e*0xff,0xf49+0x1f03+-0x1*0x2e4c),_0xf2fc84['enable'](_0xf2fc84['CULL_FACE']),this['cullFace']=_0xf2fc84['BACK'],_0xf2fc84['cullFace'](_0xf2fc84['BACK']),_0xf2fc84['enable'](_0xf2fc84['DEPTH_TEST']),_0xf2fc84['depthFunc'](_0xf2fc84['LEQUAL']),_0xf2fc84['depthMask'](!(0x16ef+-0x15d0+-0x1*0x11f)),this['stencil']=!(0x1299+0x1*0x13e9+-0x1*0x2681),_0xf2fc84['disable'](_0xf2fc84['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ei,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x1208+-0xf16+0x211e,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0xc58+-0x1*-0x989+-0x14e2,_0xf2fc84['stencilFun'+'c'](_0xf2fc84['ALWAYS'],-0x12c0+-0x95b*0x4+0x2cf*0x14,0xed1+-0x24d*0xb+-0x11*-0xad),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ca,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ca,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ca,this['stencilWri'+'teMaskFron'+'t']=-0x1cac+-0x308+-0x2f9*-0xb,this['stencilWri'+'teMaskBack']=0xd78+0x9d6*0x3+0x1*-0x29fb,_0xf2fc84['stencilOp'](_0xf2fc84['KEEP'],_0xf2fc84['KEEP'],_0xf2fc84['KEEP']),_0xf2fc84['stencilMas'+'k'](0x235+0xfe+-0x234),this['alphaToCov'+'erage']=!(0xd00+0x1*0xa8d+0x178c*-0x1),this['raster']=!(0x12dd+0x1*0x1813+-0x2af*0x10),_0xf2fc84['disable'](_0xf2fc84['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0xf2fc84['disable'](_0xf2fc84['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x1711+0x53*-0x66+-0x2*-0x501),_0xf2fc84['disable'](_0xf2fc84['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0xed4+0xc2*0x23+-0xbb1,_0xf2fc84['clearDepth'](0x2277*0x1+0x2*-0x643+0x2*-0xaf8),this['clearColor']=new Y(-0xa4f+0xe5*0xb+0x8*0xf,0x4da+0x15f3+0x8ef*-0x3,0x1*-0x267b+-0x2625+0x4ca0,0x1a29*-0x1+-0x3cc+0x1df5),_0xf2fc84['clearColor'](-0xc24+0xb5f+-0xc5*-0x1,0x7f*-0x4+0xac4+-0x8c8,-0x26c6+0x742*-0x5+0x4*0x12c4,-0x1*-0x1287+-0x2406+0x117f),this['clearStenc'+'il']=-0x2*-0xa8b+-0x578+0x1*-0xf9e,_0xf2fc84['clearStenc'+'il'](0x8e1+-0x52*0x41+0xbf1),_0xf2fc84['hint'](_0xf2fc84['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0xf2fc84['NICEST']),_0xf2fc84['enable'](_0xf2fc84['SCISSOR_TE'+'ST']),_0xf2fc84['pixelStore'+'i'](_0xf2fc84['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0xf2fc84['NONE']),this['unpackFlip'+'Y']=!(0x12c*-0xf+-0x143*-0x3+0xdcc),_0xf2fc84['pixelStore'+'i'](_0xf2fc84['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x207c+0x1b79+-0x1*-0x504)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x17f*0x10+-0x176+-0x1679),_0xf2fc84['pixelStore'+'i'](_0xf2fc84['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x1e13+0x5*0x6c4+-0x40*0xf)),_0xf2fc84['pixelStore'+'i'](_0xf2fc84['UNPACK_ALI'+'GNMENT'],0x1e47+0x13d*0x17+-0x3ac1);}['initTextur'+'eUnits'](_0xec8ba0=0xc06+-0x3*-0x1e+-0xc50){this['textureUni'+'ts']=[];for(let _0x5e0897=0x6*-0x551+-0x266*0x3+0x3*0xd08;_0x5e0897<_0xec8ba0;_0x5e0897++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x28f*0x2+0x1d50+0x13*-0x146,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x1eb21a of this['shaders'])_0x1eb21a['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0xfe28ba of this['shaders'])_0xfe28ba['restoreCon'+'text']();}['setViewpor'+'t'](_0x1b1dd3,_0x57f944,_0x5bd6fc,_0x5cad68){(this['vx']!==_0x1b1dd3||this['vy']!==_0x57f944||this['vw']!==_0x5bd6fc||this['vh']!==_0x5cad68)&&(this['gl']['viewport'](_0x1b1dd3,_0x57f944,_0x5bd6fc,_0x5cad68),this['vx']=_0x1b1dd3,this['vy']=_0x57f944,this['vw']=_0x5bd6fc,this['vh']=_0x5cad68);}['setScissor'](_0x5e6f64,_0x41e53f,_0x16bcbf,_0x6bda2c){(this['sx']!==_0x5e6f64||this['sy']!==_0x41e53f||this['sw']!==_0x16bcbf||this['sh']!==_0x6bda2c)&&(this['gl']['scissor'](_0x5e6f64,_0x41e53f,_0x16bcbf,_0x6bda2c),this['sx']=_0x5e6f64,this['sy']=_0x41e53f,this['sw']=_0x16bcbf,this['sh']=_0x6bda2c);}['setFramebu'+'ffer'](_0x48adda){if(this['activeFram'+'ebuffer']!==_0x48adda){const _0x12fb1f=this['gl'];_0x12fb1f['bindFrameb'+'uffer'](_0x12fb1f['FRAMEBUFFE'+'R'],_0x48adda),this['activeFram'+'ebuffer']=_0x48adda;}}['copyRender'+'Target'](_0x5a5791,_0xd54ae1,_0x3e70af,_0x449581){var _0x335b3d,_0x55195f;const _0x37bc66=this['gl'];if(_0x5a5791===this['backBuffer']&&(_0x5a5791=null),_0x3e70af){if(_0xd54ae1){if(_0x5a5791){if(!_0x5a5791['_colorBuff'+'er']||!_0xd54ae1['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1a3+0x249e+0x660*-0x6);if(_0x5a5791['_colorBuff'+'er']['_format']!==_0xd54ae1['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x1799+-0x31d*0xc+0xdc4);}}else{if(!_0x5a5791['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x1072+0x23d9+0x344a*-0x1);}}if(_0x449581&&_0x5a5791&&!_0x5a5791['_depth']){if(!_0x5a5791['_depthBuff'+'er']||!_0xd54ae1['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1c99*0x1+-0x68*0x1+0x16*-0x148);if(_0x5a5791['_depthBuff'+'er']['_format']!==_0xd54ae1['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x1b+0x1*0x5d9+-0xd*0x71);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x30133e=this['renderTarg'+'et'];this['renderTarg'+'et']=_0xd54ae1,this['updateBegi'+'n']();const _0x20de3f=_0x5a5791?_0x5a5791['impl']['_glFrameBu'+'ffer']:(_0x335b3d=this['backBuffer'])==null?void(-0x1331+0x580+0xdb1):_0x335b3d['impl']['_glFrameBu'+'ffer'],_0x96f92b=_0xd54ae1?_0xd54ae1['impl']['_glFrameBu'+'ffer']:(_0x55195f=this['backBuffer'])==null?void(0x1381+-0x1*0x2417+0x1096):_0x55195f['impl']['_glFrameBu'+'ffer'];v['assert'](_0x20de3f!==_0x96f92b,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x37bc66['bindFrameb'+'uffer'](_0x37bc66['READ_FRAME'+'BUFFER'],_0x20de3f),_0x37bc66['bindFrameb'+'uffer'](_0x37bc66['DRAW_FRAME'+'BUFFER'],_0x96f92b);const _0x3f709d=_0x5a5791?_0x5a5791['width']:_0xd54ae1?_0xd54ae1['width']:this['width'],_0x1adae9=_0x5a5791?_0x5a5791['height']:_0xd54ae1?_0xd54ae1['height']:this['height'];return _0x37bc66['blitFrameb'+'uffer'](-0x196b+0x76*0x28+0x6fb,-0x1969+-0xe44+0x5ab*0x7,_0x3f709d,_0x1adae9,-0x9d3+0x139*0x17+0x926*-0x2,0xe*0x279+-0x382*-0x8+-0x3eae,_0x3f709d,_0x1adae9,(_0x3e70af?_0x37bc66['COLOR_BUFF'+'ER_BIT']:-0x80+0xcec*-0x3+-0x2744*-0x1)|(_0x449581?_0x37bc66['DEPTH_BUFF'+'ER_BIT']:-0x1a*0x10f+0xc1b+0xf6b),_0x37bc66['NEAREST']),this['renderTarg'+'et']=_0x30133e,_0x37bc66['bindFrameb'+'uffer'](_0x37bc66['FRAMEBUFFE'+'R'],_0x30133e?_0x30133e['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0x909*0x2+-0x12e5+0x1*0x24f7);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x2ce036){const _0x3cbd32=_0x2ce036['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x3cbd32,v['assert'](_0x3cbd32),G['pushGpuMar'+'ker'](this,'Pass:'+_0x2ce036['name']+'\x20RT:'+_0x3cbd32['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x137d50,height:_0xf59be2}=_0x3cbd32;this['setViewpor'+'t'](0xc02+-0x895*0x1+-0x36d,-0xe79+0x9c7*-0x1+0x1840,_0x137d50,_0xf59be2),this['setScissor'](-0xa85*0x3+-0x17a6*-0x1+0x7e9,0x3b8+-0x4fa+-0x142*-0x1,_0x137d50,_0xf59be2);const _0x2d0ee7=_0x2ce036['colorOps'],_0xd8fd32=_0x2ce036['depthStenc'+'ilOps'];if(_0x2d0ee7!=null&&_0x2d0ee7['clear']||_0xd8fd32['clearDepth']||_0xd8fd32['clearStenc'+'il']){let _0x326d02=0x10d3+-0x2206+0x1133*0x1;const _0x152088={};_0x2d0ee7!=null&&_0x2d0ee7['clear']&&(_0x326d02|=Eo,_0x152088['color']=[_0x2d0ee7['clearValue']['r'],_0x2d0ee7['clearValue']['g'],_0x2d0ee7['clearValue']['b'],_0x2d0ee7['clearValue']['a']]),_0xd8fd32['clearDepth']&&(_0x326d02|=Mo,_0x152088['depth']=_0xd8fd32['clearDepth'+'Value']),_0xd8fd32['clearStenc'+'il']&&(_0x326d02|=Ch,_0x152088['stencil']=_0xd8fd32['clearStenc'+'ilValue']),_0x152088['flags']=_0x326d02,this['clear'](_0x152088);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x2214+-0x1e09+0x401d),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x75e4c0){var _0x565bdf;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0xcc33fb=this['renderTarg'+'et'],_0x4bd71e=_0x75e4c0['colorArray'+'Ops']['length'];if(_0xcc33fb){An['length']=-0x4ec+0x97c+-0x490;const _0x2f5dc2=this['gl'];for(let _0x3e64da=-0x16aa+-0x1462+0x2b0c;_0x3e64da<_0x4bd71e;_0x3e64da++){const _0x341110=_0x75e4c0['colorArray'+'Ops'][_0x3e64da];_0x341110['store']||_0x341110['resolve']||An['push'](_0x2f5dc2['COLOR_ATTA'+'CHMENT0']+_0x3e64da);}_0xcc33fb!==this['backBuffer']&&(_0x75e4c0['depthStenc'+'ilOps']['storeDepth']||An['push'](_0x2f5dc2['DEPTH_ATTA'+'CHMENT']),_0x75e4c0['depthStenc'+'ilOps']['storeStenc'+'il']||An['push'](_0x2f5dc2['STENCIL_AT'+'TACHMENT'])),An['length']>-0x3*-0xcce+0x1*0x1093+0x7db*-0x7&&_0x75e4c0['fullSizeCl'+'earRect']&&_0x2f5dc2['invalidate'+'Framebuffe'+'r'](_0x2f5dc2['DRAW_FRAME'+'BUFFER'],An),_0x4bd71e&&((_0x565bdf=_0x75e4c0['colorOps'])!=null&&_0x565bdf['resolve'])&&_0x75e4c0['samples']>-0x1e13+-0x2483+0x4297&&_0xcc33fb['autoResolv'+'e']&&_0xcc33fb['resolve'](!(0x2065*0x1+-0x29*0xdd+-0x30*-0x10),!(0x1a00+0xb*-0xa7+-0x2*0x969)),_0xcc33fb['depthBuffe'+'r']&&_0x75e4c0['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x75e4c0['samples']>0x1a9e+0x544+-0x1fe1&&_0xcc33fb['autoResolv'+'e']&&_0xcc33fb['resolve'](!(-0x159c+-0x1ef*0x13+-0x9a*-0x61),!(-0xec6+-0x1940+0x2806*0x1));for(let _0x27301d=0x1347+-0x1edd*-0x1+-0x2*0x1912;_0x27301d<_0x4bd71e;_0x27301d++)if(_0x75e4c0['colorArray'+'Ops'][_0x27301d]['genMipmaps']){const _0x5339c2=_0xcc33fb['_colorBuff'+'ers'][_0x27301d];_0x5339c2&&_0x5339c2['impl']['_glTexture']&&_0x5339c2['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x27301d),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0xbf0*0x3+0x1e7d+-0x2126*0x2)),this['bindTextur'+'e'](_0x5339c2),this['gl']['generateMi'+'pmap'](_0x5339c2['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x8*0x454+0x23dd+-0x467c),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x599325){this['_defaultFr'+'amebuffer']!==_0x599325&&(this['_defaultFr'+'amebuffer']=_0x599325,this['_defaultFr'+'amebufferC'+'hanged']=!(0x17d2+0xa60+0x5b3*-0x6));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x1ecdb2=-0x266c+-0x2f*0x5+0x2757;_0x1ecdb2<this['textureUni'+'ts']['length'];++_0x1ecdb2)for(let _0x1ff3ec=0xa49*-0x1+0xf5+0x18e*0x6;_0x1ff3ec<-0x7ef+0xaa2*0x2+-0xd52;++_0x1ff3ec)this['textureUni'+'ts'][_0x1ecdb2][_0x1ff3ec]=null;}const _0x473b66=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x473b66);const _0x4fc7ec=_0x473b66['impl'];_0x4fc7ec['initialize'+'d']||this['initRender'+'Target'](_0x473b66),this['setFramebu'+'ffer'](_0x4fc7ec['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0xca41d6=this['renderTarg'+'et'];if(_0xca41d6&&_0xca41d6!==this['backBuffer']){_0xca41d6['_samples']>0x118a+-0x254d*0x1+0x2e*0x6e&&_0xca41d6['autoResolv'+'e']&&_0xca41d6['resolve']();const _0x3c655e=_0xca41d6['_colorBuff'+'er'];_0x3c655e&&_0x3c655e['impl']['_glTexture']&&_0x3c655e['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x58d+-0xb*-0x289+-0x216f)),this['bindTextur'+'e'](_0x3c655e),this['gl']['generateMi'+'pmap'](_0x3c655e['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x2bc1c7){if(this['unpackFlip'+'Y']!==_0x2bc1c7){this['unpackFlip'+'Y']=_0x2bc1c7;const _0x6d3689=this['gl'];_0x6d3689['pixelStore'+'i'](_0x6d3689['UNPACK_FLI'+'P_Y_WEBGL'],_0x2bc1c7);}}['setUnpackP'+'remultiply'+'Alpha'](_0x528def){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x528def){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x528def;const _0x5a42dc=this['gl'];_0x5a42dc['pixelStore'+'i'](_0x5a42dc['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x528def);}}['activeText'+'ure'](_0x3880a7){this['textureUni'+'t']!==_0x3880a7&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x3880a7),this['textureUni'+'t']=_0x3880a7);}['bindTextur'+'e'](_0x378d6a){const _0x5269ae=_0x378d6a['impl'],_0x147457=_0x5269ae['_glTarget'],_0x2c5fd2=_0x5269ae['_glTexture'],_0x463ac6=this['textureUni'+'t'],_0x31ff8a=this['targetToSl'+'ot'][_0x147457];this['textureUni'+'ts'][_0x463ac6][_0x31ff8a]!==_0x2c5fd2&&(this['gl']['bindTextur'+'e'](_0x147457,_0x2c5fd2),this['textureUni'+'ts'][_0x463ac6][_0x31ff8a]=_0x2c5fd2);}['bindTextur'+'eOnUnit'](_0x186724,_0x1be5da){const _0x2ee792=_0x186724['impl'],_0x42b21c=_0x2ee792['_glTarget'],_0x5555e1=_0x2ee792['_glTexture'],_0x30cd3d=this['targetToSl'+'ot'][_0x42b21c];this['textureUni'+'ts'][_0x1be5da][_0x30cd3d]!==_0x5555e1&&(this['activeText'+'ure'](_0x1be5da),this['gl']['bindTextur'+'e'](_0x42b21c,_0x5555e1),this['textureUni'+'ts'][_0x1be5da][_0x30cd3d]=_0x5555e1);}['setTexture'+'Parameters'](_0x1879b8){const _0x7c1d6e=this['gl'],_0x232bc2=_0x1879b8['impl']['dirtyParam'+'eterFlags'],_0x262424=_0x1879b8['impl']['_glTarget'];if(_0x232bc2&zy){let _0x7877a8=_0x1879b8['_minFilter'];(!_0x1879b8['_mipmaps']||_0x1879b8['_compresse'+'d']&&_0x1879b8['_levels']['length']===0xae1+-0xad1*-0x3+-0x2b53*0x1)&&(_0x7877a8===pc||_0x7877a8===mc?_0x7877a8=de:(_0x7877a8===_c||_0x7877a8===nn)&&(_0x7877a8=tt)),_0x7c1d6e['texParamet'+'eri'](_0x262424,_0x7c1d6e['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x7877a8]);}if(_0x232bc2&Uy&&_0x7c1d6e['texParamet'+'eri'](_0x262424,_0x7c1d6e['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x1879b8['_magFilter']]),_0x232bc2&Vy&&_0x7c1d6e['texParamet'+'eri'](_0x262424,_0x7c1d6e['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x1879b8['_addressU']]),_0x232bc2&Gy&&_0x7c1d6e['texParamet'+'eri'](_0x262424,_0x7c1d6e['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x1879b8['_addressV']]),_0x232bc2&Hy&&_0x7c1d6e['texParamet'+'eri'](_0x262424,_0x7c1d6e['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x1879b8['_addressW']]),_0x232bc2&Wy&&_0x7c1d6e['texParamet'+'eri'](_0x262424,_0x7c1d6e['TEXTURE_CO'+'MPARE_MODE'],_0x1879b8['_compareOn'+'Read']?_0x7c1d6e['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x7c1d6e['NONE']),_0x232bc2&$y&&_0x7c1d6e['texParamet'+'eri'](_0x262424,_0x7c1d6e['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x1879b8['_compareFu'+'nc']]),_0x232bc2&qy){const _0x2c2953=this['extTexture'+'FilterAnis'+'otropic'];_0x2c2953&&_0x7c1d6e['texParamet'+'erf'](_0x262424,_0x2c2953['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x1879b8['_anisotrop'+'y']),0x1*-0x5ad+0x1629+0x1*-0x107b,this['maxAnisotr'+'opy']));}}['setTexture'](_0x125af3,_0x5369f2){const _0x159bdb=_0x125af3['impl'];_0x159bdb['_glTexture']||_0x159bdb['initialize'](this,_0x125af3),_0x159bdb['dirtyParam'+'eterFlags']>-0x1*-0x19ed+-0x1f0+-0x17fd||_0x125af3['_needsUplo'+'ad']||_0x125af3['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x5369f2),this['bindTextur'+'e'](_0x125af3),_0x159bdb['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x125af3),_0x159bdb['dirtyParam'+'eterFlags']=-0x132*0x15+0x99+0x9*0x2b9),(_0x125af3['_needsUplo'+'ad']||_0x125af3['_needsMipm'+'apsUpload'])&&(_0x159bdb['upload'](this,_0x125af3),_0x125af3['_needsUplo'+'ad']=!(-0xc5*-0x2d+-0x1*-0xa2b+-0x2ccb),_0x125af3['_needsMipm'+'apsUpload']=!(-0x71*-0x51+0xd13+-0x30d3))):this['bindTextur'+'eOnUnit'](_0x125af3,_0x5369f2);}['createVert'+'exArray'](_0xb76c9b){let _0x77f87b,_0x512cfb;const _0x3371ac=_0xb76c9b['length']>-0x2*-0x197+-0x10*-0xb2+-0xe4d;if(_0x3371ac){_0x77f87b='';for(let _0x1acc72=-0x1a*0xf4+0x3a*-0x86+-0x2*-0x1b92;_0x1acc72<_0xb76c9b['length'];_0x1acc72++){const _0x51150e=_0xb76c9b[_0x1acc72];_0x77f87b+=_0x51150e['id']+_0x51150e['format']['renderingH'+'ash'];}_0x512cfb=this['_vaoMap']['get'](_0x77f87b);}if(!_0x512cfb){const _0x5d7615=this['gl'];_0x512cfb=_0x5d7615['createVert'+'exArray'](),_0x5d7615['bindVertex'+'Array'](_0x512cfb),_0x5d7615['bindBuffer'](_0x5d7615['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x57f739=!(-0x99d+0x9fe*-0x1+0x1f6*0xa);for(let _0x55d8a4=0x55*0x6e+0x1*-0x25+-0x2461;_0x55d8a4<_0xb76c9b['length'];_0x55d8a4++){const _0x518e95=_0xb76c9b[_0x55d8a4];_0x5d7615['bindBuffer'](_0x5d7615['ARRAY_BUFF'+'ER'],_0x518e95['impl']['bufferId']);const _0x27f628=_0x518e95['format']['elements'];for(let _0x3cd969=-0x24b0+0x1*0x227+0x2289;_0x3cd969<_0x27f628['length'];_0x3cd969++){const _0x424524=_0x27f628[_0x3cd969],_0x1ac979=ve[_0x424524['name']];_0x1ac979===0x1207+-0x1f0c+0xd05&&(_0x57f739=!(0x1a17+0x2317+-0x3d2e)),_0x424524['asInt']?_0x5d7615['vertexAttr'+'ibIPointer'](_0x1ac979,_0x424524['numCompone'+'nts'],this['glType'][_0x424524['dataType']],_0x424524['stride'],_0x424524['offset']):_0x5d7615['vertexAttr'+'ibPointer'](_0x1ac979,_0x424524['numCompone'+'nts'],this['glType'][_0x424524['dataType']],_0x424524['normalize'],_0x424524['stride'],_0x424524['offset']),_0x5d7615['enableVert'+'exAttribAr'+'ray'](_0x1ac979),_0x518e95['format']['instancing']&&_0x5d7615['vertexAttr'+'ibDivisor'](_0x1ac979,-0x58f+-0xdb3+0x1343);}}_0x5d7615['bindVertex'+'Array'](null),_0x5d7615['bindBuffer'](_0x5d7615['ARRAY_BUFF'+'ER'],null),_0x3371ac&&this['_vaoMap']['set'](_0x77f87b,_0x512cfb),_0x57f739||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x512cfb;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x41c6cf=this['gl'];let _0x551eae;if(this['vertexBuff'+'ers']['length']===-0x2*0xb9d+-0xc51*-0x3+-0xdb8){const _0x1780e1=this['vertexBuff'+'ers'][-0x2418+0x4*0x85a+0x2b0];v['assert'](_0x1780e1['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x1780e1['impl']['vao']||(_0x1780e1['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x551eae=_0x1780e1['impl']['vao'];}else _0x551eae=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x551eae&&(this['boundVao']=_0x551eae,_0x41c6cf['bindVertex'+'Array'](_0x551eae)),this['clearVerte'+'xBuffer']();const _0x44a7dd=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x41c6cf['bindBuffer'](_0x41c6cf['ELEMENT_AR'+'RAY_BUFFER'],_0x44a7dd);}['draw'](_0x17ea38,_0x2d3cc1,_0x2494f1){const _0x4aea3f=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x2f086e,_0xd2cc0a,_0x5d8067,_0x5ad3d6,_0x287b13,_0x91bd30,_0xdeb074,_0x1f0a0d;const _0x3ee8d9=this['shader'];if(!_0x3ee8d9)return;const _0x2c061e=_0x3ee8d9['impl']['samplers'],_0x2dc252=_0x3ee8d9['impl']['uniforms'];_0x2494f1||this['setBuffers']();let _0x5ba942=-0x24a9+-0x2345+0x47ee;for(let _0x44846e=-0x3*-0xc0f+-0x16d6+0x1*-0xd57,_0x267e8d=_0x2c061e['length'];_0x44846e<_0x267e8d;_0x44846e++){if(_0x2f086e=_0x2c061e[_0x44846e],_0xd2cc0a=_0x2f086e['scopeId']['value'],!_0xd2cc0a){const _0x4bdf31=_0x2f086e['scopeId']['name'];v['assert'](_0x4bdf31!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x4bdf31!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x4bdf31==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0xd2cc0a=en(this,'white')),_0x4bdf31==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0xd2cc0a=en(this,'pink')),_0xd2cc0a||(v['errorOnce']('Shader\x20'+_0x3ee8d9['name']+'\x20requires\x20'+_0x4bdf31+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0xd2cc0a=en(this,'pink'));}if(_0xd2cc0a instanceof he)_0x5d8067=_0xd2cc0a,this['setTexture'](_0x5d8067,_0x5ba942),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x1*0xaf7+0x1c11+-0x2706&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x5d8067?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x5d8067}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x5d8067&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x5d8067})),_0x2f086e['slot']!==_0x5ba942&&(_0x4aea3f['uniform1i'](_0x2f086e['locationId'],_0x5ba942),_0x2f086e['slot']=_0x5ba942),_0x5ba942++;else{_0x2f086e['array']['length']=-0x953+0x1*-0x15b+0xaae,_0x5ad3d6=_0xd2cc0a['length'];for(let _0x26b657=0x246d+0x5*0x259+-0x302a;_0x26b657<_0x5ad3d6;_0x26b657++)_0x5d8067=_0xd2cc0a[_0x26b657],this['setTexture'](_0x5d8067,_0x5ba942),_0x2f086e['array'][_0x26b657]=_0x5ba942,_0x5ba942++;_0x4aea3f['uniform1iv'](_0x2f086e['locationId'],_0x2f086e['array']);}}for(let _0x507bdb=0x18d*0x1+-0x1ffd+-0x3ce*-0x8,_0x495ea3=_0x2dc252['length'];_0x507bdb<_0x495ea3;_0x507bdb++)_0x287b13=_0x2dc252[_0x507bdb],_0x91bd30=_0x287b13['scopeId'],_0xdeb074=_0x287b13['version'],_0x1f0a0d=_0x91bd30['versionObj'+'ect']['version'],(_0xdeb074['globalId']!==_0x1f0a0d['globalId']||_0xdeb074['revision']!==_0x1f0a0d['revision'])&&(_0xdeb074['globalId']=_0x1f0a0d['globalId'],_0xdeb074['revision']=_0x1f0a0d['revision'],_0x91bd30['value']!==null&&this['commitFunc'+'tion'][_0x287b13['dataType']](_0x287b13,_0x91bd30['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x4aea3f['bindBuffer'+'Base'](_0x4aea3f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x4d2+0x4*-0x2b0+0x2*0x7c9,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x4aea3f['beginTrans'+'formFeedba'+'ck'](_0x4aea3f['POINTS']));const _0x20e20b=this['glPrimitiv'+'e'][_0x17ea38['type']],_0x279104=_0x17ea38['count'];if(_0x17ea38['indexed']){const _0x59f233=this['indexBuffe'+'r'];v['assert'](_0x59f233['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x1ee0bf=_0x59f233['impl']['glFormat'],_0x4865c2=_0x17ea38['base']*_0x59f233['bytesPerIn'+'dex'];_0x2d3cc1>-0x25*-0x59+-0xd4c*0x2+0x25*0x5f?_0x4aea3f['drawElemen'+'tsInstance'+'d'](_0x20e20b,_0x279104,_0x1ee0bf,_0x4865c2,_0x2d3cc1):_0x4aea3f['drawElemen'+'ts'](_0x20e20b,_0x279104,_0x1ee0bf,_0x4865c2);}else{const _0x458412=_0x17ea38['base'];_0x2d3cc1>-0x58a+0x2dd*0xd+-0x1faf?_0x4aea3f['drawArrays'+'Instanced'](_0x20e20b,_0x458412,_0x279104,_0x2d3cc1):_0x4aea3f['drawArrays'](_0x20e20b,_0x458412,_0x279104);}this['transformF'+'eedbackBuf'+'fer']&&(_0x4aea3f['endTransfo'+'rmFeedback'](),_0x4aea3f['bindBuffer'+'Base'](_0x4aea3f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0xeb2+0x147d+0x5cb*-0x1,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x17ea38['type']]+=_0x17ea38['count']*(_0x2d3cc1>-0xa7e*-0x1+0x1*-0x1153+0x6d6?_0x2d3cc1:0x14c5+-0x355+-0x116f);}['clear'](_0x5a329f){const _0x3b49aa=this['defaultCle'+'arOptions'];_0x5a329f=_0x5a329f||_0x3b49aa;const _0x1cb3e7=_0x5a329f['flags']??_0x3b49aa['flags'];if(_0x1cb3e7!==0x25a5+-0x12b9*0x1+-0x12ec){const _0xf513a5=this['gl'];if(_0x1cb3e7&Eo){const _0x2da57a=_0x5a329f['color']??_0x3b49aa['color'],_0x479b3b=_0x2da57a[0x21a1*-0x1+-0x1e69+0x400a],_0x3bbe29=_0x2da57a[0x269*-0x3+-0x1*-0x14cb+0x1*-0xd8f],_0x6be6ff=_0x2da57a[0x205c+-0x224e+0xfa*0x2],_0x433513=_0x2da57a[-0x890*-0x1+0x238a+-0x2c17],_0xd1a702=this['clearColor'];(_0x479b3b!==_0xd1a702['r']||_0x3bbe29!==_0xd1a702['g']||_0x6be6ff!==_0xd1a702['b']||_0x433513!==_0xd1a702['a'])&&(this['gl']['clearColor'](_0x479b3b,_0x3bbe29,_0x6be6ff,_0x433513),this['clearColor']['set'](_0x479b3b,_0x3bbe29,_0x6be6ff,_0x433513)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x1cb3e7&Mo){const _0x6423be=_0x5a329f['depth']??_0x3b49aa['depth'];_0x6423be!==this['clearDepth']&&(this['gl']['clearDepth'](_0x6423be),this['clearDepth']=_0x6423be),this['setDepthSt'+'ate'](ls['WRITEDEPTH']);}if(_0x1cb3e7&Ch){const _0x4aa125=_0x5a329f['stencil']??_0x3b49aa['stencil'];_0x4aa125!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x4aa125),this['clearStenc'+'il']=_0x4aa125),_0xf513a5['stencilMas'+'k'](-0x20b2+-0x1929+0x3ada),this['stencilWri'+'teMaskFron'+'t']=0xd8f+-0x1dac+0x111c,this['stencilWri'+'teMaskBack']=-0x127+0x15a2+-0x137c;}_0xf513a5['clear'](this['glClearFla'+'g'][_0x1cb3e7]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0xa746bb,_0x587949,_0x49232f,_0x3c2863,_0x11abaa){const _0x498345=this['gl'];_0x498345['readPixels'](_0xa746bb,_0x587949,_0x49232f,_0x3c2863,_0x498345['RGBA'],_0x498345['UNSIGNED_B'+'YTE'],_0x11abaa);}async['readPixels'+'Async'](_0x5d794f,_0x4a5034,_0x5d160b,_0x4f12b5,_0x25bdbc){var _0x2f7079;const _0x49a096=this['gl'],_0x11047c=(_0x4e0b06,_0x15ba80)=>{const _0x46007b=_0x49a096['fenceSync'](_0x49a096['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x9*-0x3df+-0x1f90+0x59*0xbf);return this['submit'](),new Promise((_0x3662be,_0x572a92)=>{function _0x3dfc7d(){const _0x570e37=_0x49a096['clientWait'+'Sync'](_0x46007b,_0x4e0b06,0xbd*0x6+0x18eb+-0x1d59);_0x570e37===_0x49a096['WAIT_FAILE'+'D']?(_0x49a096['deleteSync'](_0x46007b),_0x572a92(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x570e37===_0x49a096['TIMEOUT_EX'+'PIRED']?setTimeout(_0x3dfc7d,_0x15ba80):(_0x49a096['deleteSync'](_0x46007b),_0x3662be());}_0x3dfc7d();});},_0x1eabe9=(_0x2f7079=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x1e2*0xe+-0x107*0x16+0x1*0x30f6):_0x2f7079['impl'],_0x5edf9d=(_0x1eabe9==null?void(0x1088+-0x1b7a+-0x3a6*-0x3):_0x1eabe9['_glFormat'])??_0x49a096['RGBA'],_0x3fe5b7=(_0x1eabe9==null?void(0x57*0x49+0x782*0x2+0x27d3*-0x1):_0x1eabe9['_glPixelTy'+'pe'])??_0x49a096['UNSIGNED_B'+'YTE'],_0x1cd040=_0x49a096['createBuff'+'er']();return _0x49a096['bindBuffer'](_0x49a096['PIXEL_PACK'+'_BUFFER'],_0x1cd040),_0x49a096['bufferData'](_0x49a096['PIXEL_PACK'+'_BUFFER'],_0x25bdbc['byteLength'],_0x49a096['STREAM_REA'+'D']),_0x49a096['readPixels'](_0x5d794f,_0x4a5034,_0x5d160b,_0x4f12b5,_0x5edf9d,_0x3fe5b7,0xb1f+-0x5d*-0x16+0x15*-0xe9),_0x49a096['bindBuffer'](_0x49a096['PIXEL_PACK'+'_BUFFER'],null),await _0x11047c(0x1*0xc31+-0xda6+0x1*0x175,-0x1*0x237d+-0x59*-0x1f+0x18ca*0x1),_0x49a096['bindBuffer'](_0x49a096['PIXEL_PACK'+'_BUFFER'],_0x1cd040),_0x49a096['getBufferS'+'ubData'](_0x49a096['PIXEL_PACK'+'_BUFFER'],0xb*-0x351+-0x15c2+0x3a3d,_0x25bdbc),_0x49a096['bindBuffer'](_0x49a096['PIXEL_PACK'+'_BUFFER'],null),_0x49a096['deleteBuff'+'er'](_0x1cd040),_0x25bdbc;}['readTextur'+'eAsync'](_0x2fc30f,_0x3980ed,_0x3198b3,_0x5eaf8e,_0xd77edf,_0x40c9b0){const _0x4ed5f7=_0x40c9b0['face']??0x1a*0x115+-0x19*-0x6b+-0x2695,_0x240557=_0x40c9b0['renderTarg'+'et']??new pt({'colorBuffer':_0x2fc30f,'depth':!(0x9ca+-0x4c+0x97d*-0x1),'face':_0x4ed5f7});v['assert'](_0x240557['colorBuffe'+'r']===_0x2fc30f);const _0x378644=new ArrayBuffer(Ri['calcLevelG'+'puSize'](_0x5eaf8e,_0xd77edf,-0x178a+0x361+-0x59*-0x3a,_0x2fc30f['_format'])),_0x27629b=_0x40c9b0['data']??new(Ey(_0x2fc30f['_format']))(_0x378644);return this['setRenderT'+'arget'](_0x240557),this['initRender'+'Target'](_0x240557),new Promise((_0x3f96bd,_0x24f2e2)=>{this['readPixels'+'Async'](_0x3980ed,_0x3198b3,_0x5eaf8e,_0xd77edf,_0x27629b)['then'](_0x3b4631=>{_0x40c9b0['renderTarg'+'et']||_0x240557['destroy'](),_0x3f96bd(_0x3b4631);})['catch'](_0x24f2e2);});}['setAlphaTo'+'Coverage'](_0x2ee614){this['alphaToCov'+'erage']!==_0x2ee614&&(this['alphaToCov'+'erage']=_0x2ee614,_0x2ee614?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x47fceb){if(this['transformF'+'eedbackBuf'+'fer']!==_0x47fceb){this['transformF'+'eedbackBuf'+'fer']=_0x47fceb;const _0x1ab0af=this['gl'];_0x47fceb?(this['feedback']||(this['feedback']=_0x1ab0af['createTran'+'sformFeedb'+'ack']()),_0x1ab0af['bindTransf'+'ormFeedbac'+'k'](_0x1ab0af['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x1ab0af['bindTransf'+'ormFeedbac'+'k'](_0x1ab0af['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x75137b){this['raster']!==_0x75137b&&(this['raster']=_0x75137b,_0x75137b?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x1b659a){if(this['stencil']!==_0x1b659a){const _0x6b5647=this['gl'];_0x1b659a?_0x6b5647['enable'](_0x6b5647['STENCIL_TE'+'ST']):_0x6b5647['disable'](_0x6b5647['STENCIL_TE'+'ST']),this['stencil']=_0x1b659a;}}['setStencil'+'Func'](_0x40e9dd,_0x1c68e7,_0x56ebcb){(this['stencilFun'+'cFront']!==_0x40e9dd||this['stencilRef'+'Front']!==_0x1c68e7||this['stencilMas'+'kFront']!==_0x56ebcb||this['stencilFun'+'cBack']!==_0x40e9dd||this['stencilRef'+'Back']!==_0x1c68e7||this['stencilMas'+'kBack']!==_0x56ebcb)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x40e9dd],_0x1c68e7,_0x56ebcb),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x40e9dd,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x1c68e7,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x56ebcb);}['setStencil'+'FuncFront'](_0x2420ac,_0x2f4bad,_0x1f5064){if(this['stencilFun'+'cFront']!==_0x2420ac||this['stencilRef'+'Front']!==_0x2f4bad||this['stencilMas'+'kFront']!==_0x1f5064){const _0x3e50df=this['gl'];_0x3e50df['stencilFun'+'cSeparate'](_0x3e50df['FRONT'],this['glComparis'+'on'][_0x2420ac],_0x2f4bad,_0x1f5064),this['stencilFun'+'cFront']=_0x2420ac,this['stencilRef'+'Front']=_0x2f4bad,this['stencilMas'+'kFront']=_0x1f5064;}}['setStencil'+'FuncBack'](_0x522746,_0x56ead3,_0x5ba708){if(this['stencilFun'+'cBack']!==_0x522746||this['stencilRef'+'Back']!==_0x56ead3||this['stencilMas'+'kBack']!==_0x5ba708){const _0x4ef3d8=this['gl'];_0x4ef3d8['stencilFun'+'cSeparate'](_0x4ef3d8['BACK'],this['glComparis'+'on'][_0x522746],_0x56ead3,_0x5ba708),this['stencilFun'+'cBack']=_0x522746,this['stencilRef'+'Back']=_0x56ead3,this['stencilMas'+'kBack']=_0x5ba708;}}['setStencil'+'Operation'](_0x4184fb,_0x78cfc0,_0x1d98a4,_0x469019){(this['stencilFai'+'lFront']!==_0x4184fb||this['stencilZfa'+'ilFront']!==_0x78cfc0||this['stencilZpa'+'ssFront']!==_0x1d98a4||this['stencilFai'+'lBack']!==_0x4184fb||this['stencilZfa'+'ilBack']!==_0x78cfc0||this['stencilZpa'+'ssBack']!==_0x1d98a4)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x4184fb],this['glStencilO'+'p'][_0x78cfc0],this['glStencilO'+'p'][_0x1d98a4]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x4184fb,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x78cfc0,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x1d98a4),(this['stencilWri'+'teMaskFron'+'t']!==_0x469019||this['stencilWri'+'teMaskBack']!==_0x469019)&&(this['gl']['stencilMas'+'k'](_0x469019),this['stencilWri'+'teMaskFron'+'t']=_0x469019,this['stencilWri'+'teMaskBack']=_0x469019);}['setStencil'+'OperationF'+'ront'](_0x4c4b41,_0x531aa4,_0x459655,_0x123bbd){(this['stencilFai'+'lFront']!==_0x4c4b41||this['stencilZfa'+'ilFront']!==_0x531aa4||this['stencilZpa'+'ssFront']!==_0x459655)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x4c4b41],this['glStencilO'+'p'][_0x531aa4],this['glStencilO'+'p'][_0x459655]),this['stencilFai'+'lFront']=_0x4c4b41,this['stencilZfa'+'ilFront']=_0x531aa4,this['stencilZpa'+'ssFront']=_0x459655),this['stencilWri'+'teMaskFron'+'t']!==_0x123bbd&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x123bbd),this['stencilWri'+'teMaskFron'+'t']=_0x123bbd);}['setStencil'+'OperationB'+'ack'](_0x308d7c,_0x27fe00,_0x2e8930,_0x48df60){(this['stencilFai'+'lBack']!==_0x308d7c||this['stencilZfa'+'ilBack']!==_0x27fe00||this['stencilZpa'+'ssBack']!==_0x2e8930)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x308d7c],this['glStencilO'+'p'][_0x27fe00],this['glStencilO'+'p'][_0x2e8930]),this['stencilFai'+'lBack']=_0x308d7c,this['stencilZfa'+'ilBack']=_0x27fe00,this['stencilZpa'+'ssBack']=_0x2e8930),this['stencilWri'+'teMaskBack']!==_0x48df60&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x48df60),this['stencilWri'+'teMaskBack']=_0x48df60);}['setBlendSt'+'ate'](_0xd10198){const _0x22e97f=this['blendState'];if(!_0x22e97f['equals'](_0xd10198)){const _0x301401=this['gl'],{blend:_0x3657d7,colorOp:_0x5ba4f5,alphaOp:_0x328a43,colorSrcFactor:_0x4cc13c,colorDstFactor:_0x447f45,alphaSrcFactor:_0x39ecf0,alphaDstFactor:_0x54f007}=_0xd10198;if(_0x22e97f['blend']!==_0x3657d7&&(_0x3657d7?_0x301401['enable'](_0x301401['BLEND']):_0x301401['disable'](_0x301401['BLEND'])),_0x22e97f['colorOp']!==_0x5ba4f5||_0x22e97f['alphaOp']!==_0x328a43){const _0x497920=this['glBlendEqu'+'ation'];_0x301401['blendEquat'+'ionSeparat'+'e'](_0x497920[_0x5ba4f5],_0x497920[_0x328a43]);}(_0x22e97f['colorSrcFa'+'ctor']!==_0x4cc13c||_0x22e97f['colorDstFa'+'ctor']!==_0x447f45||_0x22e97f['alphaSrcFa'+'ctor']!==_0x39ecf0||_0x22e97f['alphaDstFa'+'ctor']!==_0x54f007)&&_0x301401['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x4cc13c],this['glBlendFun'+'ctionColor'][_0x447f45],this['glBlendFun'+'ctionAlpha'][_0x39ecf0],this['glBlendFun'+'ctionAlpha'][_0x54f007]),_0x22e97f['allWrite']!==_0xd10198['allWrite']&&this['gl']['colorMask'](_0xd10198['redWrite'],_0xd10198['greenWrite'],_0xd10198['blueWrite'],_0xd10198['alphaWrite']),_0x22e97f['copy'](_0xd10198);}}['setBlendCo'+'lor'](_0x3236d7,_0x519325,_0x5454c9,_0x1cae4f){const _0x3bc812=this['blendColor'];(_0x3236d7!==_0x3bc812['r']||_0x519325!==_0x3bc812['g']||_0x5454c9!==_0x3bc812['b']||_0x1cae4f!==_0x3bc812['a'])&&(this['gl']['blendColor'](_0x3236d7,_0x519325,_0x5454c9,_0x1cae4f),_0x3bc812['set'](_0x3236d7,_0x519325,_0x5454c9,_0x1cae4f));}['setStencil'+'State'](_0x370e7f,_0x2e4b6f){_0x370e7f||_0x2e4b6f?(this['setStencil'+'Test'](!(-0x1*0x610+0xa99*0x2+-0xf22)),_0x370e7f===_0x2e4b6f?(this['setStencil'+'Func'](_0x370e7f['func'],_0x370e7f['ref'],_0x370e7f['readMask']),this['setStencil'+'Operation'](_0x370e7f['fail'],_0x370e7f['zfail'],_0x370e7f['zpass'],_0x370e7f['writeMask'])):(_0x370e7f??(_0x370e7f=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x370e7f['func'],_0x370e7f['ref'],_0x370e7f['readMask']),this['setStencil'+'OperationF'+'ront'](_0x370e7f['fail'],_0x370e7f['zfail'],_0x370e7f['zpass'],_0x370e7f['writeMask']),_0x2e4b6f??(_0x2e4b6f=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x2e4b6f['func'],_0x2e4b6f['ref'],_0x2e4b6f['readMask']),this['setStencil'+'OperationB'+'ack'](_0x2e4b6f['fail'],_0x2e4b6f['zfail'],_0x2e4b6f['zpass'],_0x2e4b6f['writeMask']))):this['setStencil'+'Test'](!(0x1703*-0x1+0x184c+-0x4*0x52));}['setDepthSt'+'ate'](_0x5e61e0){const _0x5bed99=this['depthState'];if(!_0x5bed99['equals'](_0x5e61e0)){const _0x104151=this['gl'],_0x2778f1=_0x5e61e0['write'];_0x5bed99['write']!==_0x2778f1&&_0x104151['depthMask'](_0x2778f1);let {func:_0xf64e3,test:_0x4c8df1}=_0x5e61e0;!_0x4c8df1&&_0x2778f1&&(_0x4c8df1=!(0x1e9f+-0x2*0x417+0xf*-0x17f),_0xf64e3=Ei),_0x5bed99['func']!==_0xf64e3&&_0x104151['depthFunc'](this['glComparis'+'on'][_0xf64e3]),_0x5bed99['test']!==_0x4c8df1&&(_0x4c8df1?_0x104151['enable'](_0x104151['DEPTH_TEST']):_0x104151['disable'](_0x104151['DEPTH_TEST']));const {depthBias:_0x58c39a,depthBiasSlope:_0x321c60}=_0x5e61e0;_0x58c39a||_0x321c60?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x19*-0xac+0x8a*-0x3f+0x32c2),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x104151['polygonOff'+'set'](_0x321c60,_0x58c39a)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1682+-0x221c+0xb9b*0x1),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x5bed99['copy'](_0x5e61e0);}}['setCullMod'+'e'](_0x3466a3){if(this['cullMode']!==_0x3466a3){if(_0x3466a3===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x565e30=this['glCull'][_0x3466a3];this['cullFace']!==_0x565e30&&(this['gl']['cullFace'](_0x565e30),this['cullFace']=_0x565e30);}this['cullMode']=_0x3466a3;}}['setShader'](_0x3cfe7d,_0x4d2e96=!(-0x3*0xb9+-0x5*0x38b+0x13e3)){_0x3cfe7d!==this['shader']&&(this['shader']=_0x3cfe7d,this['shaderAsyn'+'cCompile']=_0x4d2e96,this['shaderVali'+'d']=void(-0x5b*-0xf+0x17d9+-0x1d2e),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x229eef){const {shader:_0x33eb5a}=this,{impl:_0xc6d90f}=_0x33eb5a;this['shaderVali'+'d']===void(-0x73d*-0x1+0x2*0x713+-0xdb*0x19)&&(_0x33eb5a['failed']?this['shaderVali'+'d']=!(-0x28*0x1+0x7*-0x2ab+0x12d6):_0x33eb5a['ready']||(this['shaderAsyn'+'cCompile']?_0xc6d90f['isLinked'](_0x229eef)?_0xc6d90f['finalize'](this,_0x33eb5a)||(_0x33eb5a['failed']=!(0x7*0x2d0+0x232f+-0x36df),this['shaderVali'+'d']=!(0xe0b+-0x9f*-0x5+-0xb*0x18f)):this['shaderVali'+'d']=!(-0xa8a+0x255b+-0x1ad0):_0xc6d90f['finalize'](this,_0x33eb5a)||(_0x33eb5a['failed']=!(-0xd*-0x136+0x1*-0x2353+0x1395),this['shaderVali'+'d']=!(0x11d*-0x9+-0x22b3+0x2cb9)))),this['shaderVali'+'d']===void(0x18dd*0x1+-0xbb3+-0xd2a)&&(this['gl']['useProgram'](_0xc6d90f['glProgram']),this['shaderVali'+'d']=!(0x3e3*-0x7+-0x71*0x47+0x3a8c));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x1a88e1=this['gl'];this['_vaoMap']['forEach']((_0x1fb1a5,_0x1bbcba,_0x380bf)=>{_0x1a88e1['deleteVert'+'exArray'](_0x1fb1a5);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x3040d4){_0x3040d4?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x2e4db5=0x21*-0x9a+-0x505*0x1+0x1943){const _0x573bd4=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x573bd4['loseContex'+'t'](),setTimeout(()=>_0x573bd4['restoreCon'+'text'](),_0x2e4db5);}}let mb=-0x1*0x727+0xe*-0xf7+0x14a9;class hr{constructor(_0x449189,_0x1034a3,_0x433330,_0xd39ed5=Kt,_0x40e1bf,_0xdb8739){this['device']=_0x449189,this['format']=_0x1034a3,this['numIndices']=_0x433330,this['usage']=_0xd39ed5,this['id']=mb++,this['impl']=_0x449189['createInde'+'xBufferImp'+'l'](this,_0xdb8739);const _0x50d4a4=vv[_0x1034a3];this['bytesPerIn'+'dex']=_0x50d4a4,this['numBytes']=this['numIndices']*_0x50d4a4,_0x40e1bf?this['setData'](_0x40e1bf):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x449189['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x44e442=this['device'],_0x39cb2c=_0x44e442['buffers']['indexOf'](this);_0x39cb2c!==-(-0x4*-0x78b+-0xe34+-0x43*0x3d)&&_0x44e442['buffers']['splice'](_0x39cb2c,0x7d*0x28+0xe1+-0x1468),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x44e442),this['adjustVram'+'SizeTracki'+'ng'](_0x44e442['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x2bdc42,_0xb519ab){v['trace'](Qx,this['id']+'\x20size:\x20'+_0xb519ab+'\x20vram.ib:\x20'+_0x2bdc42['ib']+'\x20=>\x20'+(_0x2bdc42['ib']+_0xb519ab)),_0x2bdc42['ib']+=_0xb519ab;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x5ba8a6){return _0x5ba8a6['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x5ba8a6['byteLength']),!(0x6f*0x47+0x11ab+-0x3073)):(this['storage']=_0x5ba8a6,this['unlock'](),!(0x26ee+-0x1db8+0x83*-0x12));}['_lockTyped'+'Array'](){const _0x41835b=this['lock']();return this['format']===ar?new Uint32Array(_0x41835b):this['format']===Ii?new Uint16Array(_0x41835b):new Uint8Array(_0x41835b);}['writeData'](_0x4ffe08,_0x30d513){const _0x3fa4f8=this['_lockTyped'+'Array']();if(_0x4ffe08['length']>_0x30d513){if(ArrayBuffer['isView'](_0x4ffe08))_0x4ffe08=_0x4ffe08['subarray'](0xedc+0xf*-0x3+-0xeaf,_0x30d513),_0x3fa4f8['set'](_0x4ffe08);else{for(let _0x4ae4cf=-0x1abd+-0x25e4+0x1*0x40a1;_0x4ae4cf<_0x30d513;_0x4ae4cf++)_0x3fa4f8[_0x4ae4cf]=_0x4ffe08[_0x4ae4cf];}}else _0x3fa4f8['set'](_0x4ffe08);this['unlock']();}['readData'](_0x23067e){const _0x37bdc0=this['_lockTyped'+'Array'](),_0x1f66f0=this['numIndices'];if(ArrayBuffer['isView'](_0x23067e))_0x23067e['set'](_0x37bdc0);else{_0x23067e['length']=-0x1aed+-0x19*0xb+0x1c00;for(let _0xfb9d3b=-0x8a9*0x1+-0x16a2+0x1f4b;_0xfb9d3b<_0x1f66f0;_0xfb9d3b++)_0x23067e[_0xfb9d3b]=_0x37bdc0[_0xfb9d3b];}return _0x1f66f0;}}class _b{constructor(){c(this,'clearValue',new Y(0x2*0xaaf+-0x16cd*-0x1+-0x2c2b,-0x1*0x199c+-0x340*0x7+0x305c,0xf9e*-0x1+0x69+0xf35,-0x1b05+-0x25*-0x95+0x1*0x57d)),c(this,'clearValue'+'Linear',new Y(-0x5d*0xa+-0x1*-0x5f9+-0x1*0x257,-0x9*0x39f+-0x2703+-0x186*-0x2f,-0x1ae2+-0x800+0x22e2,0x6f*-0x57+0x1dd2+-0x2*-0x3f4)),c(this,'clear',!(0x182*-0x13+0xbfd+0x10aa)),c(this,'store',!(-0x1*-0x1ec1+0x4d*0x17+-0x25ab)),c(this,'resolve',!(-0x1*-0xc67+-0x13d*-0xb+-0x1a06)),c(this,'genMipmaps',!(0x26*-0x18+-0xfcb*0x1+0x135c));}}class gb{constructor(){c(this,'clearDepth'+'Value',0x1f*-0x92+0x1c7d+-0xace),c(this,'clearStenc'+'ilValue',0x100+0x1185+-0x1285*0x1),c(this,'clearDepth',!(0xc7a+-0x2fb+-0x97e)),c(this,'clearStenc'+'il',!(0x162d+0xc89+-0x22b5)),c(this,'storeDepth',!(-0x1*0x231d+0x1e*-0x1d+0x2684)),c(this,'resolveDep'+'th',!(0x1cee+-0xf*0x121+-0xbfe)),c(this,'storeStenc'+'il',!(-0x787*-0x5+-0x159a+-0x1008));}}class fs{constructor(_0x4c636a){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x27*0x44+0x9ad+-0x23*-0x5)),c(this,'_skipStart',!(-0x2229+-0x9e0+0x6*0x757)),c(this,'_skipEnd',!(-0x10*0x7+-0x1*0x230b+-0x2*-0x11be)),c(this,'executeEna'+'bled',!(0x11*-0x1de+-0x10e8+0x30a6)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x5e3*-0x1+0x1f74+-0x2557),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0x1866+-0x2606+0x3ac*0x11)),c(this,'fullSizeCl'+'earRect',!(0x781+-0x1937*-0x1+-0x20b8)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x4c636a),this['device']=_0x4c636a);}get['colorOps'](){return this['colorArray'+'Ops'][0x1d14*-0x1+0x1924*0x1+0x6*0xa8];}set['name'](_0x3e82bc){this['_name']=_0x3e82bc;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x14df80){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x14df80;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x1f489e){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x1f489e;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x207799){this['_options']=_0x207799,_0x207799&&(this['scaleX']=this['scaleX']??0x10*0x29+-0x8e9*0x1+-0x2*-0x32d,this['scaleY']=this['scaleY']??0x17*-0xca+0x455*-0x3+0x2*0xf93);}get['options'](){return this['_options'];}['init'](_0x53370b=null,_0x491d05){this['options']=_0x491d05,this['renderTarg'+'et']=_0x53370b,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x25cc+0x2299+0x334),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x3ffb23,_0x4a169a,_0x31d0c8,_0x1957a6;const _0x2850b1=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x2850b1!=null&&_0x2850b1['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x123b*-0x2+0x33b*-0x5+-0x144f*0x1));const _0x55347f=_0x2850b1?((_0x3ffb23=_0x2850b1['_colorBuff'+'ers'])==null?void(-0xbf1+0x33d+-0x4*-0x22d):_0x3ffb23['length'])??0x379+0x1b99+-0x1f12:-0x178e+-0x1804+0x2f93;this['colorArray'+'Ops']['length']=0x50b*-0x2+-0xc1*0x1c+0x1f32;for(let _0x325116=0x4*0x509+0x17*-0x108+0x4*0xe5;_0x325116<_0x55347f;_0x325116++){const _0xce8fb3=new _b();this['colorArray'+'Ops'][_0x325116]=_0xce8fb3,this['samples']===-0xb*-0x139+-0x3*-0xc7b+0x32e3*-0x1&&(_0xce8fb3['store']=!(-0xb31+-0x5*-0x5ae+-0x5*0x371),_0xce8fb3['resolve']=!(-0x2*0x319+-0x1a4f+0x2082));const _0x1334d2=(_0x31d0c8=(_0x4a169a=this['renderTarg'+'et'])==null?void(-0x1274+0x1591+-0x31d*0x1):_0x4a169a['_colorBuff'+'ers'])==null?void(-0x3*0x4d6+-0x2cd*-0x5+0x2b*0x3):_0x31d0c8[_0x325116];if((_0x1957a6=this['renderTarg'+'et'])!=null&&_0x1957a6['mipmaps']&&(_0x1334d2!=null&&_0x1334d2['mipmaps'])){const _0x4d5470=ta(_0x1334d2['_format']);_0xce8fb3['genMipmaps']=!_0x4d5470;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x2fe3b5=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x7281b9=Math['floor'](_0x2fe3b5['width']*this['scaleX']),_0x20d412=Math['floor'](_0x2fe3b5['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x7281b9,_0x20d412);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x3ab4bc){this['_enabled']!==_0x3ab4bc&&(this['_enabled']=_0x3ab4bc,_0x3ab4bc?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x264e93){const _0x554942=this['colorArray'+'Ops']['length'];for(let _0x1202b0=0x9b8+-0x13a7+0x9ef;_0x1202b0<_0x554942;_0x1202b0++){const _0x2ec9a9=this['colorArray'+'Ops'][_0x1202b0];_0x264e93&&(_0x2ec9a9['clearValue']['copy'](_0x264e93),_0x2ec9a9['clearValue'+'Linear']['linear'](_0x264e93)),_0x2ec9a9['clear']=!!_0x264e93;}}['setClearDe'+'pth'](_0x46d689){_0x46d689&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x46d689),this['depthStenc'+'ilOps']['clearDepth']=_0x46d689!==void(-0x1b1f+-0x1e1f+0x393e);}['setClearSt'+'encil'](_0x4b8900){_0x4b8900&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x4b8900),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x4b8900!==void(0x16a*-0x9+0x19f4+0x2*-0x69d);}['render'](){if(this['enabled']){const _0x173f2b=this['device'],_0x579e0=this['renderTarg'+'et']!==void(0x1490+-0x52*0x5a+0x4*0x211);v['call'](()=>{this['log'](_0x173f2b,_0x173f2b['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x579e0&&!this['_skipStart']&&_0x173f2b['startRende'+'rPass'](this),this['execute'](),_0x579e0&&!this['_skipEnd']&&_0x173f2b['endRenderP'+'ass'](this)),this['after'](),_0x173f2b['renderPass'+'Index']++;}}['log'](_0x250313,_0x497a5a=-0x1c6e+0x240d*-0x1+0x407b){var _0x440d32,_0x36cfe1,_0x46cce1;if(Xs['get'](jp)||Xs['get'](ea)){const _0x2683eb=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x250313['backBuffer']:null),_0x1b2630=!!(_0x2683eb!=null&&_0x2683eb['impl']['assignedCo'+'lorTexture'])||(_0x2683eb==null?void(0x232f+0x13a0+-0x1245*0x3):_0x2683eb['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x8f5*0x1+0x1899+-0x218e),_0x2ab685=((_0x440d32=_0x2683eb==null?void(-0xddf+-0x21af+0x2f8e):_0x2683eb['_colorBuff'+'ers'])==null?void(0x26d5+-0xdbd+-0x1918):_0x440d32['length'])??(_0x1b2630?0x2245+-0xa7*0x7+0x1db3*-0x1:0x70*-0x1e+0x1b67+-0xe47),_0x5111fb=_0x2683eb==null?void(0x1*-0x1e71+-0x2666+0x1*0x44d7):_0x2683eb['depth'],_0x297046=_0x2683eb==null?void(-0xad*0x29+-0x15b*-0x6+0x1393):_0x2683eb['stencil'],_0x55b19a=_0x2683eb==null?void(0xef*0x11+0xb*-0x13+-0xf0e):_0x2683eb['mipLevel'],_0x4c9f17=_0x2683eb?'\x20RT:\x20'+(_0x2683eb?_0x2683eb['name']:'NULL')+'\x20'+(_0x2ab685>-0x23ca+0x9b9+0x1a11?'[Color'+(_0x2ab685>-0x24f7*0x1+0xa03+0x1af5*0x1?'\x20x\x20'+_0x2ab685:'')+']':'')+(_0x5111fb?'[Depth]':'')+(_0x297046?'[Stencil]':'')+'\x20'+_0x2683eb['width']+'\x20x\x20'+_0x2683eb['height']+(this['samples']>0xafb+0xd*-0xda+0x17?'\x20samples:\x20'+this['samples']:'')+(_0x55b19a>0x25db+0x1f*0x141+-0x4cba?'\x20mipLevel:'+'\x20'+_0x55b19a:''):'',_0x13159b=this['_skipStart']?'++':_0x497a5a['toString']()['padEnd'](0x20a9+-0x1608+0xa9f*-0x1,'\x20');v['trace'](jp,_0x13159b+':\x20'+this['name']['padEnd'](0xa23*-0x2+-0x1488+-0x2*-0x1471,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x4c9f17['padEnd'](-0x1fca+0xb8b*0x1+0x145d));for(let _0x1d03dc=0x24a3+0xf56+-0x33f9;_0x1d03dc<_0x2ab685;_0x1d03dc++){const _0x3948fa=this['colorArray'+'Ops'][_0x1d03dc],_0x39d54d=(_0x36cfe1=St['get'](_0x1b2630?_0x250313['backBuffer'+'Format']:_0x2683eb['getColorBu'+'ffer'](_0x1d03dc)['format']))==null?void(-0x15e+0x1b46*-0x1+0x1ca4):_0x36cfe1['name'];v['trace'](ea,'\x20\x20\x20\x20color['+_0x1d03dc+']:\x20'+(_0x3948fa['clear']?'clear':'load')+'->'+(_0x3948fa['store']?'store':'discard')+'\x20'+(_0x3948fa['resolve']?'resolve\x20':'')+(_0x3948fa['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x39d54d+']\x20'+(_0x3948fa['clear']?'[clear:\x20'+_0x3948fa['clearValue']['toString'](!(-0x21ea*-0x1+0xf5e+-0x3148),!(-0x1bb0+-0x9*-0x35d+-0x295*0x1))+']':''));}if(this['depthStenc'+'ilOps']){const _0x54f50c=''+(_0x2683eb['depthBuffe'+'r']?'\x20[format:\x20'+((_0x46cce1=St['get'](_0x2683eb['depthBuffe'+'r']['format']))==null?void(-0x725*0x2+-0x5da+0x1424):_0x46cce1['name'])+']':'');_0x5111fb&&v['trace'](ea,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x54f50c+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x297046&&v['trace'](ea,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x54f50c+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x3f4c35){this['array'][this['index']]=_0x3f4c35;}function xb(_0x4a67d1,_0x265895){this['array'][this['index']]=_0x4a67d1,this['array'][this['index']+(-0x1489*0x1+0x29e+-0x11ec*-0x1)]=_0x265895;}function Sb(_0x563bb8,_0x40d53f,_0x37e8e8){this['array'][this['index']]=_0x563bb8,this['array'][this['index']+(0x175a+0x61*0x61+0x31*-0x13a)]=_0x40d53f,this['array'][this['index']+(0x141a+-0x1132*-0x1+-0x25*0x102)]=_0x37e8e8;}function vb(_0xa8eb86,_0xea122d,_0x333804,_0x46b86b){this['array'][this['index']]=_0xa8eb86,this['array'][this['index']+(0x213+0x1d99*0x1+-0x1fab)]=_0xea122d,this['array'][this['index']+(-0x132a*-0x1+-0x266a+0x1342)]=_0x333804,this['array'][this['index']+(-0x1a53+0x1e0a+-0x3b4)]=_0x46b86b;}function bb(_0xe0273f,_0x71b1fe,_0x2d7031){this['array'][_0xe0273f]=_0x71b1fe[_0x2d7031];}function wb(_0x54c527,_0x5cdd2b,_0x581ac6){this['array'][_0x54c527]=_0x5cdd2b[_0x581ac6],this['array'][_0x54c527+(-0x21b5+-0x101d+0x31d3)]=_0x5cdd2b[_0x581ac6+(0x60*-0x9+-0x1*0xaaf+-0xe10*-0x1)];}function Tb(_0x13da02,_0x2eaa41,_0x15eeca){this['array'][_0x13da02]=_0x2eaa41[_0x15eeca],this['array'][_0x13da02+(0x5*0x80+0x114a+-0x13c9*0x1)]=_0x2eaa41[_0x15eeca+(-0x817+0x9*0x1ab+-0x6eb)],this['array'][_0x13da02+(0x207*0x2+-0x230c+0x4*0x7c0)]=_0x2eaa41[_0x15eeca+(0x206e+-0x22da+-0x137*-0x2)];}function Ab(_0x13297b,_0x1a060d,_0x46e7ad){this['array'][_0x13297b]=_0x1a060d[_0x46e7ad],this['array'][_0x13297b+(0xeb4*-0x2+-0xe51+-0x2bba*-0x1)]=_0x1a060d[_0x46e7ad+(0x2659+0x1b13+-0x416b)],this['array'][_0x13297b+(-0x991*0x2+-0xfe6+0x230a)]=_0x1a060d[_0x46e7ad+(-0x1*0x20fb+0xb8f+-0x1a*-0xd3)],this['array'][_0x13297b+(-0x2283+0xe1+0x105*0x21)]=_0x1a060d[_0x46e7ad+(0x23b6+-0x1e9a+0x1b3*-0x3)];}function Cb(_0x1ef0ab,_0x746bbe,_0x27ada9){_0x746bbe[_0x27ada9]=this['array'][_0x1ef0ab];}function Eb(_0x56248d,_0x490ccd,_0x4bbef7){_0x490ccd[_0x4bbef7]=this['array'][_0x56248d],_0x490ccd[_0x4bbef7+(-0x13ce+-0x6*-0x51b+-0xad3)]=this['array'][_0x56248d+(0x1f12+0x3*-0x6f3+-0xa38)];}function Mb(_0x1a7860,_0x5b2be9,_0x50b5e5){_0x5b2be9[_0x50b5e5]=this['array'][_0x1a7860],_0x5b2be9[_0x50b5e5+(-0x2069*0x1+0x5ba+0x7*0x3d0)]=this['array'][_0x1a7860+(-0x1*-0x2399+-0x6a+-0x39*0x9e)],_0x5b2be9[_0x50b5e5+(-0x246b*0x1+-0x9f5*0x2+0x3857)]=this['array'][_0x1a7860+(0x741+-0x13b4+0xc75)];}function Pb(_0x678193,_0x2ce89f,_0xabf239){_0x2ce89f[_0xabf239]=this['array'][_0x678193],_0x2ce89f[_0xabf239+(-0x2*-0x253+-0x7*0x30+-0x1*0x355)]=this['array'][_0x678193+(0x1*-0x1fa1+-0xe+0x9c*0x34)],_0x2ce89f[_0xabf239+(0x4bd+0x25f+-0x2*0x38d)]=this['array'][_0x678193+(-0x1caf+0x1f*-0x2e+-0x2243*-0x1)],_0x2ce89f[_0xabf239+(0x3f*-0x5+-0x2621+0x275f)]=this['array'][_0x678193+(-0x86*0xd+-0x1f76+-0xef*-0x29)];}class Rb{constructor(_0x4286dc,_0x1d6ba6,_0x318769){switch(this['index']=-0xfe0+-0x1b8*0xd+0x2638,this['numCompone'+'nts']=_0x1d6ba6['numCompone'+'nts'],_0x318769['interleave'+'d']?this['array']=new ua[_0x1d6ba6['dataType']](_0x4286dc,_0x1d6ba6['offset']):this['array']=new ua[_0x1d6ba6['dataType']](_0x4286dc,_0x1d6ba6['offset'],_0x318769['vertexCoun'+'t']*_0x1d6ba6['numCompone'+'nts']),this['stride']=_0x1d6ba6['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x1d6ba6['numCompone'+'nts']){case 0x2*-0x1+0x120b+-0x1208:this['set']=yb,this['getToArray']=Cb,this['setFromArr'+'ay']=bb;break;case 0x2*-0xe5d+0xb8b+0x1131:this['set']=xb,this['getToArray']=Eb,this['setFromArr'+'ay']=wb;break;case 0xcb5*0x1+0x2*-0xbad+-0x1*-0xaa8:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0xc4c+0x714+-0x135c:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x44496f){return this['array'][this['index']+_0x44496f];}['set'](_0x1d3ba5,_0x26ba56,_0x269fcf,_0x55a2d2){}['getToArray'](_0x134a9e,_0x9a57a,_0x4c4b30){}['setFromArr'+'ay'](_0x16c69b,_0x472f2f,_0x47f909){}}class go{constructor(_0x505cb9){this['vertexBuff'+'er']=_0x505cb9,this['vertexForm'+'atSize']=_0x505cb9['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x13528f=this['vertexBuff'+'er']['getFormat']();for(let _0x1e244f=-0x15e+-0x1*-0x1565+-0x1407;_0x1e244f<_0x13528f['elements']['length'];_0x1e244f++){const _0x4145da=_0x13528f['elements'][_0x1e244f];this['accessors'][_0x1e244f]=new Rb(this['buffer'],_0x4145da,_0x13528f),this['element'][_0x4145da['name']]=this['accessors'][_0x1e244f];}}['next'](_0x49ff31=-0x109e+0x18e6+0xd*-0xa3){let _0x5faf79=-0x25e9+-0x55c*-0x5+0x5*0x239;const _0x1410bb=this['accessors'],_0x1bca87=this['accessors']['length'];for(;_0x5faf79<_0x1bca87;){const _0x1d0a6f=_0x1410bb[_0x5faf79++];_0x1d0a6f['index']+=_0x49ff31*_0x1d0a6f['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x36b977,_0x43f1f0,_0x2fe628){const _0x4ec56f=this['element'][_0x36b977];if(_0x4ec56f){_0x2fe628>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x2fe628+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x2fe628=this['vertexBuff'+'er']['numVertice'+'s']);const _0x5379a0=_0x4ec56f['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x310dc8=0x26b*-0xd+0x17d*0xd+-0xc16*-0x1;for(let _0x18800d=0x1305+0x220b+-0x1*0x3510;_0x18800d<_0x2fe628;_0x18800d++)_0x4ec56f['setFromArr'+'ay'](_0x310dc8,_0x43f1f0,_0x18800d*_0x5379a0),_0x310dc8+=_0x4ec56f['stride'];}else{if(_0x43f1f0['length']>_0x2fe628*_0x5379a0){const _0x45af6c=_0x2fe628*_0x5379a0;if(ArrayBuffer['isView'](_0x43f1f0))_0x43f1f0=_0x43f1f0['subarray'](-0x18*0xef+-0x6ea+0x1d52,_0x45af6c),_0x4ec56f['array']['set'](_0x43f1f0);else{for(let _0x505f20=-0x2*-0xcaa+-0x3*0x442+0xc8e*-0x1;_0x505f20<_0x45af6c;_0x505f20++)_0x4ec56f['array'][_0x505f20]=_0x43f1f0[_0x505f20];}}else _0x4ec56f['array']['set'](_0x43f1f0);}}}['readData'](_0x21bb82,_0x36ef71){const _0x37f727=this['element'][_0x21bb82];let _0x5ec61f=-0x1199+0x37c*-0x7+0x1*0x29fd;if(_0x37f727){_0x5ec61f=this['vertexBuff'+'er']['numVertice'+'s'];let _0x573150;const _0x3c0d5c=_0x37f727['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x36ef71)&&(_0x36ef71['length']=0x1541*0x1+-0x1*-0x1d0f+-0x3250),_0x37f727['index']=0x1900+-0x50e*0x2+-0xee4;let _0x2b0275=-0x1e2b+-0x103+0x1f2e;for(_0x573150=-0x2571+0xc8b*-0x1+0x31fc;_0x573150<_0x5ec61f;_0x573150++)_0x37f727['getToArray'](_0x2b0275,_0x36ef71,_0x573150*_0x3c0d5c),_0x2b0275+=_0x37f727['stride'];}else{if(ArrayBuffer['isView'](_0x36ef71))_0x36ef71['set'](_0x37f727['array']);else{_0x36ef71['length']=-0x2700+-0x1*-0x1892+0xe6e;const _0x50c2c8=_0x5ec61f*_0x3c0d5c;for(_0x573150=-0x16ab+-0x3*0x6a3+0x5*0x884;_0x573150<_0x50c2c8;_0x573150++)_0x36ef71[_0x573150]=_0x37f727['array'][_0x573150];}}}return _0x5ec61f;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Pu='mousewheel',Ib=-(-0x1*0xd69+0x1a04+-0x64d*0x2);class Db{constructor(_0x5a451e,_0x4dc74d){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x4dc74d&&(this['key']=_0x4dc74d['keyCode'],this['element']=_0x4dc74d['target'],this['event']=_0x4dc74d);}}const vl=new Db();function pd(_0x4333e9){return vl['key']=_0x4333e9['keyCode'],vl['element']=_0x4333e9['target'],vl['event']=_0x4333e9,vl;}function bl(_0x42d0ae){return typeof _0x42d0ae=='string'?_0x42d0ae['toUpperCas'+'e']()['charCodeAt'](0xfb2+0x2089*0x1+0x303b*-0x1):_0x42d0ae;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x5d68d6,_0x55cf1d={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x5d68d6&&this['attach'](_0x5d68d6),this['preventDef'+'ault']=_0x55cf1d['preventDef'+'ault']||!(-0x50*-0x67+-0x1e74+-0x1bb),this['stopPropag'+'ation']=_0x55cf1d['stopPropag'+'ation']||!(-0x2422*0x1+-0x157+0x6*0x63f));}['attach'](_0x56b1d7){this['_element']&&this['detach'](),this['_element']=_0x56b1d7,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0xa08*0x2+0xddb*-0x2+0x2fc7)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x1cb0+-0x1f71*-0x1+0x2c*-0x10)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x1a65+0x5eb*-0x3+-0x8a3)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x61*-0x1e+0xb03+-0x1660)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x45*-0x77+0x39a+0x1c7a));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x6b6+-0x1349+-0xe6*-0xe)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0xc8c*0x3+-0xfaa+-0x15f9));}['toKeyIdent'+'ifier'](_0x2e7465){_0x2e7465=bl(_0x2e7465);const _0x43e54f=Lb[_0x2e7465['toString']()];if(_0x43e54f)return _0x43e54f;let _0x498d0b=_0x2e7465['toString'](0xa83*-0x3+0x1*0x8f+0x1f0a)['toUpperCas'+'e']();const _0x4d65a5=_0x498d0b['length'];for(let _0x4e9aa9=-0xa*0x1b9+-0xddc+0x1f16;_0x4e9aa9<0x57*-0x1f+0xf*-0x11a+0x1b13-_0x4d65a5;_0x4e9aa9++)_0x498d0b='0'+_0x498d0b;return'U+'+_0x498d0b;}['_handleKey'+'Down'](_0x280fae){const _0x4c8b57=_0x280fae['keyCode']||_0x280fae['charCode'];if(_0x4c8b57===void(-0xb80+0x17e7+0x19*-0x7f))return;const _0x59f0f5=this['toKeyIdent'+'ifier'](_0x4c8b57);this['_keymap'][_0x59f0f5]=!(0x43*0x43+-0x5*0x562+0x961),this['fire']('keydown',pd(_0x280fae)),this['preventDef'+'ault']&&_0x280fae['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x280fae['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x167473){const _0x301040=_0x167473['keyCode']||_0x167473['charCode'];if(_0x301040===void(-0x1c98+0x94d+0x1*0x134b))return;const _0x1e5f0f=this['toKeyIdent'+'ifier'](_0x301040);delete this['_keymap'][_0x1e5f0f],this['fire']('keyup',pd(_0x167473)),this['preventDef'+'ault']&&_0x167473['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x167473['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x382f35){this['fire']('keypress',pd(_0x382f35)),this['preventDef'+'ault']&&_0x382f35['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x382f35['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x4f6b3e in this['_lastmap'])delete this['_lastmap'][_0x4f6b3e];for(const _0xefe738 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0xefe738)&&(this['_lastmap'][_0xefe738]=this['_keymap'][_0xefe738]);}['isPressed'](_0x53a61b){const _0x187582=bl(_0x53a61b),_0x6dfc8d=this['toKeyIdent'+'ifier'](_0x187582);return!!this['_keymap'][_0x6dfc8d];}['wasPressed'](_0x2d8a51){const _0x2b6195=bl(_0x2d8a51),_0x535051=this['toKeyIdent'+'ifier'](_0x2b6195);return!!this['_keymap'][_0x535051]&&!this['_lastmap'][_0x535051];}['wasRelease'+'d'](_0x3ace9f){const _0x472a8b=bl(_0x3ace9f),_0x2c9ff3=this['toKeyIdent'+'ifier'](_0x472a8b);return!this['_keymap'][_0x2c9ff3]&&!!this['_lastmap'][_0x2c9ff3];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class sa{constructor(_0x11cfc7,_0x4492f8){c(this,'x',-0x1a65+-0x1*0x14bd+-0x7db*-0x6),c(this,'y',-0x8cd+0x1*0xd79+0x4*-0x12b),c(this,'dx',-0x2176*-0x1+-0x54d*0x1+0x9*-0x321),c(this,'dy',0x2565+-0x1e2b+-0xb9*0xa),c(this,'button',Ib),c(this,'wheelDelta',-0x2f*0x52+-0x1ce9+0x2bf7),c(this,'element'),c(this,'ctrlKey',!(0x1fcb+-0x6*-0x63d+-0x14*0x376)),c(this,'altKey',!(-0x879*0x1+-0x1*-0x6d5+-0x1a5*-0x1)),c(this,'shiftKey',!(-0xed1*0x1+-0x1902+0x27d4)),c(this,'metaKey',!(-0x3d2+0x4*-0x259+0xd37)),c(this,'event');let _0x5e3513={'x':0x0,'y':0x0};if(_0x4492f8){if(_0x4492f8 instanceof sa)throw Error('Expected\x20M'+'ouseEvent');_0x5e3513=_0x11cfc7['_getTarget'+'Coords'](_0x4492f8);}else _0x4492f8={};if(_0x5e3513)this['x']=_0x5e3513['x'],this['y']=_0x5e3513['y'];else{if(Ru())this['x']=0x259b+-0xbd0+-0x1*0x19cb,this['y']=0x1bd6+0xcad+-0x3*0xd81;else return;}_0x4492f8['type']==='wheel'&&(_0x4492f8['deltaY']>-0x1d40+0xda*0x23+0x1*-0x8e?this['wheelDelta']=-0x1309*-0x1+-0x1f21+0x1*0xc19:_0x4492f8['deltaY']<-0x2503+0x236*0xa+0x1*0xee7&&(this['wheelDelta']=-(0x1*0x97+-0x126+0x90))),Ru()?(this['dx']=_0x4492f8['movementX']||_0x4492f8['webkitMove'+'mentX']||_0x4492f8['mozMovemen'+'tX']||0x6*-0x519+0x1ee6+-0x50,this['dy']=_0x4492f8['movementY']||_0x4492f8['webkitMove'+'mentY']||_0x4492f8['mozMovemen'+'tY']||0x5*-0x582+-0x1936+-0x698*-0x8):(this['dx']=this['x']-_0x11cfc7['_lastX'],this['dy']=this['y']-_0x11cfc7['_lastY']),(_0x4492f8['type']==='mousedown'||_0x4492f8['type']==='mouseup')&&(this['button']=_0x4492f8['button']),this['buttons']=_0x11cfc7['_buttons']['slice'](-0x22+0x23d0+-0x23ae),this['element']=_0x4492f8['target'],this['ctrlKey']=_0x4492f8['ctrlKey']??!(0x31e+0x1bbc+-0x1ed9),this['altKey']=_0x4492f8['altKey']??!(-0x1e3f+0x1d6+-0x2*-0xe35),this['shiftKey']=_0x4492f8['shiftKey']??!(-0x14f8+-0xdf*0xb+-0x1*-0x1e8e),this['metaKey']=_0x4492f8['metaKey']??!(0xc15+0x130c*0x2+0x13*-0x2a4),this['event']=_0x4492f8;}}class wl extends ce{constructor(_0x5b4bff){super(),c(this,'_lastX',0x1*0x16d7+-0x4e5*0x7+0xb6c),c(this,'_lastY',0x1877+0x24dc+0x3d53*-0x1),c(this,'_buttons',[!(0x8fd+0xb0e*0x2+-0x1f18),!(-0x27+-0x7ae*-0x4+-0x1e90),!(0x2*-0x131e+0x236*0xa+0x1021*0x1)]),c(this,'_lastbutto'+'ns',[!(-0x1319*0x2+-0x1849+0x3e7c),!(-0x84b*0x1+-0x5*0xfe+0xd42),!(0x1*-0x12e5+-0x588*-0x4+0xe*-0x3b)]),c(this,'_target',null),c(this,'_attached',!(0x1*-0x897+-0x8*0x167+0x13d0)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x5efabd=>{_0x5efabd['preventDef'+'ault']();},this['attach'](_0x5b4bff));}static['isPointerL'+'ocked'](){return Ru();}['attach'](_0x2281c2){if(this['_target']=_0x2281c2,this['_attached'])return;this['_attached']=!(0x2473+-0xfa5+0xa67*-0x2);const _0x157c70={'passive':!(0xc7*-0x14+0x22e3+0x37*-0x5a)},_0xaaeec0=ye['passiveEve'+'nts']?_0x157c70:!(0x2482+0x647*0x1+-0x2ac8*0x1);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0xaaeec0),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0xaaeec0),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0xaaeec0),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0xaaeec0);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x9d6*-0x2+0xd44+-0x20ef),this['_target']=null;const _0x3cf63f={'passive':!(0x191d*-0x1+-0x26a1+0x3fbf*0x1)},_0x1f540f=ye['passiveEve'+'nts']?_0x3cf63f:!(0x1*0x1acf+-0x4cf*-0x3+0x83f*-0x5);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x1f540f),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x1f540f),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x1f540f),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x1f540f);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x13ea65,_0x14d671){if(!document['body']['requestPoi'+'nterLock']){_0x14d671&&_0x14d671();return;}const _0x584efa=()=>{_0x13ea65(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x584efa);},_0x208d5d=()=>{_0x14d671(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x208d5d);};_0x13ea65&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x584efa,!(0x1cfa+0xce7*0x2+-0x17b*0x25)),_0x14d671&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x208d5d,!(-0x33b+0xbe2+-0x6*0x171)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x54e086){if(!document['exitPointe'+'rLock'])return;const _0x1c97b3=()=>{_0x54e086(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x1c97b3);};_0x54e086&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x1c97b3,!(0xcc8+-0x1ace+0xe07)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x12a*-0x1d+0xf5b+0x7*0x2a1]=this['_buttons'][0x61*-0x1+0x928+-0x8c7],this['_lastbutto'+'ns'][0xdc+0xe23+-0xefe]=this['_buttons'][-0x19*0x10f+-0x6b1+-0x28d*-0xd],this['_lastbutto'+'ns'][-0xaa3+-0x2f1+0xd96]=this['_buttons'][-0x4e4+0x1b5f+-0x1679];}['isPressed'](_0xd7ca5b){return this['_buttons'][_0xd7ca5b];}['wasPressed'](_0x4b7059){return this['_buttons'][_0x4b7059]&&!this['_lastbutto'+'ns'][_0x4b7059];}['wasRelease'+'d'](_0x319a2b){return!this['_buttons'][_0x319a2b]&&this['_lastbutto'+'ns'][_0x319a2b];}['_handleUp'](_0x22fc07){this['_buttons'][_0x22fc07['button']]=!(-0x5d*-0x3d+-0x1df2+0x3e5*0x2);const _0x3a2043=new sa(this,_0x22fc07);_0x3a2043['event']&&this['fire'](Lm,_0x3a2043);}['_handleDow'+'n'](_0x2f2424){this['_buttons'][_0x2f2424['button']]=!(-0x1*-0x614+0x1653+-0x1c67);const _0x25dbfc=new sa(this,_0x2f2424);_0x25dbfc['event']&&this['fire'](Im,_0x25dbfc);}['_handleMov'+'e'](_0x299c03){const _0x27b0a7=new sa(this,_0x299c03);_0x27b0a7['event']&&(this['fire'](Dm,_0x27b0a7),this['_lastX']=_0x27b0a7['x'],this['_lastY']=_0x27b0a7['y']);}['_handleWhe'+'el'](_0x17d344){const _0x48e492=new sa(this,_0x17d344);_0x48e492['event']&&this['fire'](Pu,_0x48e492);}['_getTarget'+'Coords'](_0x2340d8){const _0x307283=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x51b526=Math['floor'](_0x307283['left']),_0x525934=Math['floor'](_0x307283['top']);return _0x2340d8['clientX']<_0x51b526||_0x2340d8['clientX']>=_0x51b526+this['_target']['clientWidt'+'h']||_0x2340d8['clientY']<_0x525934||_0x2340d8['clientY']>=_0x525934+this['_target']['clientHeig'+'ht']?null:{'x':_0x2340d8['clientX']-_0x51b526,'y':_0x2340d8['clientY']-_0x525934};}}c(wl,'EVENT_MOUS'+'EMOVE',Dm),c(wl,'EVENT_MOUS'+'EDOWN',Im),c(wl,'EVENT_MOUS'+'EUP',Lm),c(wl,'EVENT_MOUS'+'EWHEEL',Pu);const be=class be{['get'](_0x186b2a,_0x35b693,_0x8cedd2){return typeof _0x35b693=='function'&&(_0x8cedd2=_0x35b693,_0x35b693={}),this['request']('GET',_0x186b2a,_0x35b693,_0x8cedd2);}['post'](_0x37dff8,_0x508508,_0x33c87c,_0x3cfe08){return typeof _0x33c87c=='function'&&(_0x3cfe08=_0x33c87c,_0x33c87c={}),_0x33c87c['postdata']=_0x508508,this['request']('POST',_0x37dff8,_0x33c87c,_0x3cfe08);}['put'](_0x51f933,_0x51eb8b,_0x46ac94,_0x4fee7b){return typeof _0x46ac94=='function'&&(_0x4fee7b=_0x46ac94,_0x46ac94={}),_0x46ac94['postdata']=_0x51eb8b,this['request']('PUT',_0x51f933,_0x46ac94,_0x4fee7b);}['del'](_0x53b567,_0x5b4837,_0x222879){return typeof _0x5b4837=='function'&&(_0x222879=_0x5b4837,_0x5b4837={}),this['request']('DELETE',_0x53b567,_0x5b4837,_0x222879);}['request'](_0x511900,_0x237dda,_0x557f5f,_0xd13b43){let _0x763807,_0xa9198b,_0x37e24c,_0x48695e=!(0x62*-0x9+0x9*0x4f+0x4*0x2b);if(typeof _0x557f5f=='function'&&(_0xd13b43=_0x557f5f,_0x557f5f={}),_0x557f5f['retry']&&(_0x557f5f=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x557f5f)),_0x557f5f['callback']=_0xd13b43,_0x557f5f['async']==null&&(_0x557f5f['async']=!(-0x6e0+0x225f+-0x1b7f)),_0x557f5f['headers']==null&&(_0x557f5f['headers']={}),_0x557f5f['postdata']!=null){if(_0x557f5f['postdata']instanceof Document)_0x37e24c=_0x557f5f['postdata'];else{if(_0x557f5f['postdata']instanceof FormData)_0x37e24c=_0x557f5f['postdata'];else{if(_0x557f5f['postdata']instanceof Object){let _0x142e0a=_0x557f5f['headers']['Content-Ty'+'pe'];switch(_0x142e0a===void(0x8c3+0x1f46+-0x2809)&&(_0x557f5f['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x142e0a=_0x557f5f['headers']['Content-Ty'+'pe']),_0x142e0a){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x37e24c='';let _0xdeb0ca=!(-0x126d+-0x8*0xe2+0x197d);for(const _0x512798 in _0x557f5f['postdata'])if(_0x557f5f['postdata']['hasOwnProp'+'erty'](_0x512798)){_0xdeb0ca?_0xdeb0ca=!(-0x3cb*0xa+0x2485+0x16a):_0x37e24c+='&';const _0x4eb984=encodeURIComponent(_0x512798),_0x11263e=encodeURIComponent(_0x557f5f['postdata'][_0x512798]);_0x37e24c+=_0x4eb984+'='+_0x11263e;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x142e0a==null&&(_0x557f5f['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x37e24c=JSON['stringify'](_0x557f5f['postdata']);break;}}else _0x37e24c=_0x557f5f['postdata'];}}}if(_0x557f5f['cache']===!(0x97a+-0x1295+0x91c)){const _0x39c7fc=re();_0x763807=new id(_0x237dda),_0x763807['query']?_0x763807['query']=_0x763807['query']+'&ts='+_0x39c7fc:_0x763807['query']='ts='+_0x39c7fc,_0x237dda=_0x763807['toString']();}_0x557f5f['query']&&(_0x763807=new id(_0x237dda),_0xa9198b=bh(_0x763807['getQuery'](),_0x557f5f['query']),_0x763807['setQuery'](_0xa9198b),_0x237dda=_0x763807['toString']());const _0x4c2c6e=new XMLHttpRequest();_0x4c2c6e['open'](_0x511900,_0x237dda,_0x557f5f['async']),_0x4c2c6e['withCreden'+'tials']=_0x557f5f['withCreden'+'tials']!==void(0x2c7*-0xe+-0x426+0x2b08)?_0x557f5f['withCreden'+'tials']:!(0x34a*-0x9+-0x7a+0x1e15),_0x4c2c6e['responseTy'+'pe']=_0x557f5f['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x237dda);for(const _0x246ecf in _0x557f5f['headers'])_0x557f5f['headers']['hasOwnProp'+'erty'](_0x246ecf)&&_0x4c2c6e['setRequest'+'Header'](_0x246ecf,_0x557f5f['headers'][_0x246ecf]);_0x4c2c6e['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x511900,_0x237dda,_0x557f5f,_0x4c2c6e);},_0x4c2c6e['onerror']=()=>{this['_onError'](_0x511900,_0x237dda,_0x557f5f,_0x4c2c6e),_0x48695e=!(0x1774*-0x1+-0x2d7*-0xd+-0xd77);};try{_0x4c2c6e['send'](_0x37e24c);}catch(_0x2e8a3c){_0x48695e||_0x557f5f['error'](_0x4c2c6e['status'],_0x4c2c6e,_0x2e8a3c);}return _0x4c2c6e;}['_guessResp'+'onseType'](_0x51b4a8){const _0x2551df=new id(_0x51b4a8),_0x2ad704=fe['getExtensi'+'on'](_0x2551df['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x2ad704)>=0xaf1*-0x1+-0x1*-0x23dd+0x74*-0x37?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x2ad704==='.json'?be['ResponseTy'+'pe']['JSON']:_0x2ad704==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x2eb05d){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x2eb05d)>=-0x25e7+-0x2*0x99a+0x531*0xb;}['_isBinaryR'+'esponseTyp'+'e'](_0x3d4289){return _0x3d4289===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x3d4289===be['ResponseTy'+'pe']['BLOB']||_0x3d4289===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x551fc3,_0x326b67,_0x3f26eb,_0x4c99d7){if(_0x4c99d7['readyState']===0x377*-0xb+0x1346+-0x1*-0x12db)switch(_0x4c99d7['status']){case-0x66a*-0x2+-0x5d2+-0x702:{_0x4c99d7['responseUR'+'L']&&_0x4c99d7['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x551fc3,_0x326b67,_0x3f26eb,_0x4c99d7):this['_onError'](_0x551fc3,_0x326b67,_0x3f26eb,_0x4c99d7);break;}case 0x1d75*-0x1+-0x1ea1+0x3cde:case 0x21ec+-0x1c68+-0x4bb:case-0x18b5+-0x694+-0x2017*-0x1:case 0x1646+0x158*-0x6+-0x683*0x2:{this['_onSuccess'](_0x551fc3,_0x326b67,_0x3f26eb,_0x4c99d7);break;}default:{this['_onError'](_0x551fc3,_0x326b67,_0x3f26eb,_0x4c99d7);break;}}}['_onSuccess'](_0x1f6f20,_0x2f17a2,_0x185fdd,_0xe58c1f){let _0x216aae,_0x39b09c;const _0x3a421f=_0xe58c1f['getRespons'+'eHeader']('Content-Ty'+'pe');_0x3a421f&&(_0x39b09c=_0x3a421f['split'](';')[-0xd70+0x18d*0x11+-0x3*0x44f]['trim']());try{this['_isBinaryC'+'ontentType'](_0x39b09c)||this['_isBinaryR'+'esponseTyp'+'e'](_0xe58c1f['responseTy'+'pe'])?_0x216aae=_0xe58c1f['response']:_0x39b09c===be['ContentTyp'+'e']['JSON']||_0x2f17a2['split']('?')[0x2192+0x6d7+-0x2869]['endsWith']('.json')?_0x216aae=JSON['parse'](_0xe58c1f['responseTe'+'xt']):_0xe58c1f['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x39b09c===be['ContentTyp'+'e']['XML']?_0x216aae=_0xe58c1f['responseXM'+'L']:_0x216aae=_0xe58c1f['responseTe'+'xt'],_0x185fdd['callback'](null,_0x216aae);}catch(_0x3fc9f8){_0x185fdd['callback'](_0x3fc9f8);}}['_onError'](_0x55c09e,_0x3bbdc8,_0x53f6d7,_0x2200a0){if(!_0x53f6d7['retrying']){if(_0x53f6d7['retry']&&_0x53f6d7['retries']<_0x53f6d7['maxRetries']){_0x53f6d7['retries']++,_0x53f6d7['retrying']=!(-0x3*-0xa33+-0x2149*0x1+0x2b*0x10);const _0x15cc23=N['clamp'](Math['pow'](-0x210+-0x897*-0x3+-0x17b3,_0x53f6d7['retries'])*be['retryDelay'],0xa41+0x1afb+0x253c*-0x1,_0x53f6d7['maxRetryDe'+'lay']||-0x157+0x630+-0xb3*-0x15);console['log'](_0x55c09e+':\x20'+_0x3bbdc8+'\x20-\x20Error\x20'+_0x2200a0['status']+('.\x20Retrying'+'\x20in\x20')+_0x15cc23+'\x20ms'),setTimeout(()=>{_0x53f6d7['retrying']=!(-0x5*0x392+0x1c67*0x1+-0xa8c),this['request'](_0x55c09e,_0x3bbdc8,_0x53f6d7,_0x53f6d7['callback']);},_0x15cc23);}else _0x53f6d7['callback'](_0x2200a0['status']===0x75*-0x1+-0x644*-0x6+-0x2523?'Network\x20er'+'ror':_0x2200a0['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',-0x1890+0x17a5*0x1+0x14f*0x1);let cs=be;const $e=new cs();function ki(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class Bh{constructor(_0x4d9ec9,_0x1a4fc4,_0x523c17={}){if(this['volume']=_0x523c17['volume']??-0x3ea*-0x9+-0xa6*0x32+0x1*-0x2cd,this['loop']=_0x523c17['loop']??!(0x170d+0x2a4*0x3+-0x1ef8),this['pitch']=_0x523c17['pitch']??0x2b*-0x6a+0x2132*-0x1+-0xb*-0x4a3,this['sound']=_0x1a4fc4,this['paused']=!(-0x1288+-0xfbc+-0x1f*-0x11b),this['suspended']=!(-0x111f*-0x1+-0x9f*0x9+-0xb87),this['manager']=_0x4d9ec9,this['source']=null,ki()){this['startTime']=0x1bbf*0x1+-0x168+-0x1a57,this['startOffse'+'t']=-0x2328+0x1fe3+0x345;const _0x55ac7b=_0x4d9ec9['context'];this['gain']=_0x55ac7b['createGain']();}else _0x1a4fc4['audio']&&(this['source']=_0x1a4fc4['audio']['cloneNode'](!(0x1*-0x270a+-0x1719+-0x29*-0x184)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x5b1574){this['loop']=_0x5b1574,this['source']&&(this['source']['loop']=_0x5b1574);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(-0x1*-0x2286+-0x5f7+0x985*-0x3),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0xb45+0x1*-0xcd6+0x181c),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x15c4+-0x21b5+-0x3779*-0x1,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0x121c+-0x5*-0x49d+0x9*-0x8d),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](-0x240+-0x114b+0x138b),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x1*-0xb61+-0x1398+0x1ef9*0x1,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0x2023+-0x10ba*0x2+0x152));}['stop'](){this['source']&&(this['source']['stop'](0x1233+0x3cc+-0x15ff),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x2c39a7){_0x2c39a7=N['clamp'](_0x2c39a7,0x20d+0x1*-0x2255+0x2048,-0x1544*-0x1+-0x1afe*-0x1+0xb*-0x463),this['volume']=_0x2c39a7,this['gain']&&(this['gain']['gain']['value']=_0x2c39a7*this['manager']['volume']);}['setPitch'](_0x20c30b){this['pitch']=_0x20c30b,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x20c30b);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x1e4a+-0x1*0x1e40+0x3c8a;}['_createSou'+'rce'](){const _0x59469b=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x59469b['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x59469b['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}ki()||Object['assign'](Bh['prototype'],{'play':function(){this['source']&&(this['paused']=!(0x1547+0x1a09+0x21*-0x16f),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x1*-0x1a87+0x1667+-0x2*0x1877),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x1589+-0x1590+0x2b1a),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x18bafd){_0x18bafd=N['clamp'](_0x18bafd,-0x11f1*-0x2+0x258e+-0x4970,-0x1*0xc6d+0xc91*-0x1+0x18ff),this['volume']=_0x18bafd,this['source']&&(this['source']['volume']=_0x18bafd*this['manager']['volume']);},'setPitch':function(_0x45a26d){this['pitch']=_0x45a26d,this['source']&&(this['source']['playbackRa'+'te']=_0x45a26d);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:0x4a*0x5f+0x4bd*-0x6+0xf8;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=-0xf37+-0x487a+0x1*0x7ec1;class Iu extends Bh{constructor(_0x457103,_0xea42ac,_0x59a5d7){super(_0x457103,_0xea42ac,_0x59a5d7),this['position']=new T(),this['velocity']=new T(),ki()?this['panner']=_0x457103['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x268b*0x1+0x144+-0x12a4*-0x2,this['rollOffFac'+'tor']=0x1394+-0x41b*-0x3+-0x1fe4,this['distanceMo'+'del']=kf);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0xdf4762){this['position']['copy'](_0xdf4762);const _0x127acb=this['panner'];'positionX'in _0x127acb?(_0x127acb['positionX']['value']=_0xdf4762['x'],_0x127acb['positionY']['value']=_0xdf4762['y'],_0x127acb['positionZ']['value']=_0xdf4762['z']):_0x127acb['setPositio'+'n']&&_0x127acb['setPositio'+'n'](_0xdf4762['x'],_0xdf4762['y'],_0xdf4762['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x11ad3c){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x11ad3c);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x456cdb){this['panner']['maxDistanc'+'e']=_0x456cdb;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x26ef6f){this['panner']['refDistanc'+'e']=_0x26ef6f;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x7ee381){this['panner']['rolloffFac'+'tor']=_0x7ee381;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x52ddaf){this['panner']['distanceMo'+'del']=_0x52ddaf;}['_createSou'+'rce'](){const _0x38df17=this['manager']['context'];this['source']=_0x38df17['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x38df17['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!ki()){let l=new T();const t=function(_0x736553,_0x342d8d,_0x3ec221,_0xf91726,_0x450369,_0x476a58){l=l['sub2'](_0x736553,_0x342d8d);const _0xc980d5=l['length']();if(_0xc980d5<_0x3ec221)return 0x2542+-0x1724+0x1*-0xe1d;if(_0xc980d5>_0xf91726)return 0x79*0x38+0x661*-0x1+0x8b*-0x25;let _0x5b13e5=0x1970+-0xd5*0x2+-0x17c6;return _0x476a58===dc?_0x5b13e5=-0x1*-0x242c+-0x97*0x2b+-0xace-_0x450369*(_0xc980d5-_0x3ec221)/(_0xf91726-_0x3ec221):_0x476a58===kf?_0x5b13e5=_0x3ec221/(_0x3ec221+_0x450369*(_0xc980d5-_0x3ec221)):_0x476a58===cy&&(_0x5b13e5=Math['pow'](_0xc980d5/_0x3ec221,-_0x450369)),N['clamp'](_0x5b13e5,-0x4bf+0xe87+-0x9c8,-0x1e*-0xa0+-0x1*0x337+0xf88*-0x1);};Object['assign'](Iu['prototype'],{'setPosition':function(_0x7833ed){if(this['position']['copy'](_0x7833ed),this['source']){const _0x1f0bed=this['manager']['listener']['getPositio'+'n'](),_0x16ec04=t(_0x1f0bed,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x1cc53c=this['getVolume']();this['source']['volume']=_0x1cc53c*_0x16ec04;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x5175ec){this['maxDistanc'+'e']=_0x5175ec;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x4e55d2){this['minDistanc'+'e']=_0x4e55d2;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x228258){this['rollOffFac'+'tor']=_0x228258;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x28488c){this['distanceMo'+'del']=_0x28488c;}});}class kb{constructor(_0x355d98){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x355d98;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x11ed0c){this['position']['copy'](_0x11ed0c);const _0x2077b7=this['listener'];_0x2077b7&&('positionX'in _0x2077b7?(_0x2077b7['positionX']['value']=_0x11ed0c['x'],_0x2077b7['positionY']['value']=_0x11ed0c['y'],_0x2077b7['positionZ']['value']=_0x11ed0c['z']):_0x2077b7['setPositio'+'n']&&_0x2077b7['setPositio'+'n'](_0x11ed0c['x'],_0x11ed0c['y'],_0x11ed0c['z']));}['setOrienta'+'tion'](_0x315ea7){this['orientatio'+'n']['copy'](_0x315ea7);const _0x257e38=this['listener'];if(_0x257e38){const _0x2677c3=_0x315ea7['data'];'forwardX'in _0x257e38?(_0x257e38['forwardX']['value']=-_0x2677c3[0x23dc+-0x1f3b+0x499*-0x1],_0x257e38['forwardY']['value']=-_0x2677c3[-0x1ce6+-0xd99*0x1+0x4*0xaa2],_0x257e38['forwardZ']['value']=-_0x2677c3[0x5a*0x45+-0x1427*-0x1+-0x2c5f],_0x257e38['upX']['value']=_0x2677c3[0x1f8e+0x1cb2+-0x2*0x1e1e],_0x257e38['upY']['value']=_0x2677c3[0x57d+-0x17f2+0x127a],_0x257e38['upZ']['value']=_0x2677c3[-0x6*0x11f+0x1470+-0xdb0]):_0x257e38['setOrienta'+'tion']&&_0x257e38['setOrienta'+'tion'](-_0x2677c3[-0x765+0xde9+-0x53*0x14],-_0x2677c3[0x5c9*0x1+0x21ad*-0x1+-0x1*-0x1bed],-_0x2677c3[-0x639+0x1e4f*0x1+0x6c*-0x39],_0x2677c3[0x12c+-0x1*0x11e7+0x1*0x10bf],_0x2677c3[0x1310+0x18b4+-0x2bbf*0x1],_0x2677c3[0x2*0x6f2+-0x8e0*-0x2+-0x1f9e]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x2029b8=this['_manager']['context'];return _0x2029b8?_0x2029b8['listener']:null;}}const Tl='running',km=['click','touchstart','mousedown'];class Ob extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0xa*-0x288+-0x23cb+0x3d1c),this['listener']=new kb(this),this['_volume']=-0x75b+-0xd*-0x10+0x1*0x68c;}set['volume'](_0x4b99f1){_0x4b99f1=N['clamp'](_0x4b99f1,0x9*-0x18d+0x337*0x1+0xabe,0x2503+-0x11*0x179+-0x265*0x5),this['_volume']=_0x4b99f1,this['fire']('volumechan'+'ge',_0x4b99f1);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Tl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x18a*-0x13+0x2db*0x1+-0x1*0x2019),this['_context']&&this['_context']['state']===Tl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x1*-0x1c96+0x986+0x1311),this['_context']&&this['_context']['state']!==Tl&&this['_resume']());}['destroy'](){var _0x3c1a9d;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x3c1a9d=this['_context'])==null||_0x3c1a9d['close'](),this['_context']=null);}['playSound'](_0x3b78ae,_0x3ff5cb={}){let _0x34af3f=null;return Bh&&(_0x34af3f=new Bh(this,_0x3b78ae,_0x3ff5cb),_0x34af3f['play']()),_0x34af3f;}['playSound3'+'d'](_0x120194,_0x50c2fc,_0x15e2e9={}){let _0x140878=null;return Iu&&(_0x140878=new Iu(this,_0x120194,_0x15e2e9),_0x140878['setPositio'+'n'](_0x50c2fc),_0x15e2e9['volume']&&_0x140878['setVolume'](_0x15e2e9['volume']),_0x15e2e9['loop']&&_0x140878['setLoop'](_0x15e2e9['loop']),_0x15e2e9['maxDistanc'+'e']&&_0x140878['setMaxDist'+'ance'](_0x15e2e9['maxDistanc'+'e']),_0x15e2e9['minDistanc'+'e']&&_0x140878['setMinDist'+'ance'](_0x15e2e9['minDistanc'+'e']),_0x15e2e9['rollOffFac'+'tor']&&_0x140878['setRollOff'+'Factor'](_0x15e2e9['rollOffFac'+'tor']),_0x15e2e9['distanceMo'+'del']&&_0x140878['setDistanc'+'eModel'](_0x15e2e9['distanceMo'+'del']),_0x140878['play']()),_0x140878;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x15f9f2=this['_context']['createBuff'+'erSource']();_0x15f9f2['buffer']=this['_context']['createBuff'+'er'](-0x25*-0x103+0x8db+-0x2e49,-0x18d9+-0x1*0x1db3+0x13*0x2df,this['_context']['sampleRate']),_0x15f9f2['connect'](this['_context']['destinatio'+'n']),_0x15f9f2['start'](0x17b*0x11+-0xa*-0x24b+-0x7*0x6df),_0x15f9f2['onended']=_0x1ec44e=>{_0x15f9f2['disconnect'](0x1*-0x167+-0x1844+0x19ab),this['fire']('resume');};},_0xcf323b=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0xcf323b);})['catch'](_0x4df610=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x4df610);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x8dc007=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x8dc007);})['catch'](_0x323681=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x323681);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Tl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){km['forEach'](_0x1a2938=>{window['addEventLi'+'stener'](_0x1a2938,this['_unlockHan'+'dlerFunc'],!(-0x16*0xe2+0x2627+-0x63e*0x3));});}['_removeUnl'+'ockListene'+'rs'](){km['forEach'](_0x916fab=>{window['removeEven'+'tListener'](_0x916fab,this['_unlockHan'+'dlerFunc'],!(-0x11*-0x175+0x1bce+-0x8c3*0x6));});}}class Bb{constructor(_0x44d6b1){c(this,'audio'),c(this,'buffer'),_0x44d6b1 instanceof Audio?this['audio']=_0x44d6b1:this['buffer']=_0x44d6b1;}get['duration'](){let _0x2c760c=0xe51+-0x1667+0x816;return this['buffer']?_0x2c760c=this['buffer']['duration']:this['audio']&&(_0x2c760c=this['audio']['duration']),_0x2c760c||0x1*-0x1e61+0x1*0xe53+0x100e*0x1;}}const Rt=-0x40e+-0x113*-0xf+-0x1*0xc0f,ia=-0xecf*-0x1+0x17a4+0x10a*-0x25,As=0xc6c+-0x1c9*-0x11+-0x2ac3;function It(_0xb3eff6,_0x46d775){return _0xb3eff6%_0x46d775||-0x2221+-0xef7+-0x623*-0x8;}class rs extends ce{constructor(_0x1e9abc,_0x1be734,_0x4af080){super(),c(this,'source',null),(this['_manager']=_0x1e9abc,this['_volume']=_0x4af080['volume']!==void(-0x506*-0x7+0x9af+0xef3*-0x3)?N['clamp'](Number(_0x4af080['volume'])||0x261f+-0x308+-0xd*0x2b3,0x1*0x141+-0x1*-0x141a+-0x155b,0x1835*-0x1+0x218d+-0x957*0x1):-0x36*0x88+-0x2369+-0x6*-0xaaf,this['_pitch']=_0x4af080['pitch']!==void(-0x1*-0x1b91+0x20f*0x9+-0x2e18)?Math['max'](0x1*0x13eb+0xc01*-0x1+-0x2*0x3f5+0.01,Number(_0x4af080['pitch'])||-0x801+-0xa48+0x1249):-0x65f*-0x1+0x2*0x959+-0x1910,this['_loop']=!!(_0x4af080['loop']!==void(-0x1c5d+0x13d*0xf+0x9ca)&&_0x4af080['loop']),this['_sound']=_0x1be734,this['_state']=As,this['_suspended']=!(0x4bb+0x2e7*-0x5+0x9c9),this['_suspendEn'+'dEvent']=-0x72b+-0x34*-0x94+-0x16e5,this['_suspendIn'+'stanceEven'+'ts']=!(0x416*0x1+0x5d*0x1e+-0x5*0x2ff),this['_playWhenL'+'oaded']=!(0x1448+-0x15b+-0x55*0x39),this['_startTime']=Math['max'](0x86e*-0x1+-0x22a1+-0x1*-0x2b0f,Number(_0x4af080['startTime'])||0x1f23+0x15ba+0x34dd*-0x1),this['_duration']=Math['max'](-0x23ce+-0xbee+0x2fbc,Number(_0x4af080['duration'])||0x1*0x881+0x133b*-0x2+0x1df5),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x4af080['onPlay'],this['_onPauseCa'+'llback']=_0x4af080['onPause'],this['_onResumeC'+'allback']=_0x4af080['onResume'],this['_onStopCal'+'lback']=_0x4af080['onStop'],this['_onEndCall'+'back']=_0x4af080['onEnd'],ki()?(this['_startedAt']=-0x14ef+-0x732+0x17b*0x13,this['_currentTi'+'me']=0x2032+0x16b8+-0xc6*0x47,this['_currentOf'+'fset']=0xb4d+0x1145+0x6a*-0x45,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x1118+0x114c+-0x1*0x2263),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x13b9+0x8*-0x323+0x2cd2),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x532300){if(!(_0x532300<0x2c*0xbb+-0x2131*-0x1+-0x4155)){if(this['_state']===Rt){const _0x414c3c=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x963+0x148d+0x2*-0x595),this['stop'](),this['_startOffs'+'et']=_0x532300,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x414c3c;}else this['_startOffs'+'et']=_0x532300,this['_currentTi'+'me']=_0x532300;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ia?this['_currentTi'+'me']:this['_state']===As||!this['source']?-0x1b24+0x45*0x9+0x18b7:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x1df539){this['_duration']=Math['max'](-0xdfa*0x1+-0x477+0x1271,Number(_0x1df539)||-0xfb*-0xd+-0x24a1+-0xbf1*-0x2);const _0x3a251f=this['_state']===Rt;this['stop'](),_0x3a251f&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?It(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x23e2+-0x19c3*0x1+-0xa1f*0x1;}get['isPaused'](){return this['_state']===ia;}get['isPlaying'](){return this['_state']===Rt;}get['isStopped'](){return this['_state']===As;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x5cf029){this['_loop']=!!_0x5cf029,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x17066f){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x17066f)||0x179a+0x711*0x2+-0x25bc,0x19cc+-0xcf*-0x9+0x2113*-0x1+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x124651){this['_sound']=_0x124651,this['_state']!==As?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x1fed97){this['_startTime']=Math['max'](0x2060+-0x2e2*-0x9+0x2*-0x1d29,Number(_0x1fed97)||0x11ff+0x2*-0xcdb+0x7b7);const _0x7dfb13=this['_state']===Rt;this['stop'](),_0x7dfb13&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x187e44){_0x187e44=N['clamp'](_0x187e44,-0x19a*-0x15+-0x9f2+-0x17b0,0x1*0x1e4d+-0x23ec+0x5a0),this['_volume']=_0x187e44,this['gain']&&(this['gain']['gain']['value']=_0x187e44*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x3dd+-0x2386+0x1fa9){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Rt&&!this['_suspended']&&(this['_suspended']=!(-0xe8*-0x12+-0x9*0x36c+-0x24*-0x67),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x13f3*0x1+0xb3*0x2b+-0x1*0xa1d),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==As&&this['stop'](),this['_state']=Rt,this['_playWhenL'+'oaded']=!(0x2227+0x21c+-0x2442),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x1792+-0xb5a+-0x22ed*-0x1):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*0x74b+0x8*-0x343+0x2163),!(-0x1844+-0x2ef+0x4*0x6cd)):(this['_playAudio'+'Immediate'](),!(-0x33e+0xd*-0x187+0x1719));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0xeed+-0x23b2+0x14c6),this['_state']!==Rt)return;this['source']||this['_createSou'+'rce']();let _0x4bc606=It(this['_startOffs'+'et'],this['duration']);_0x4bc606=It(this['_startTime']+_0x4bc606,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x14e3+-0x544+0x5d*-0x2b,_0x4bc606,this['_duration']):this['source']['start'](0x181a*-0x1+-0x913*-0x1+-0xf07*-0x1,_0x4bc606),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x33b*0x9+0x1d57+-0x3a6a,this['_currentOf'+'fset']=_0x4bc606,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x4*0xef+-0x1b8b+0x1f48),this['_state']!==Rt?!(0x971+-0x3de+-0x592):(this['_state']=ia,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x1*0x270b+-0x1833+-0xed8),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x1ddb*-0x1+-0xb*0x202+0x33f1));}['resume'](){if(this['_state']!==ia)return!(-0x11fb+0x3*0x8f+0x19*0xa7);let _0xc65d85=this['currentTim'+'e'];return this['_state']=Rt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0xc65d85=It(this['_startOffs'+'et'],this['duration']),_0xc65d85=It(this['_startTime']+_0xc65d85,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x54e+-0x127a+-0x5f2*-0x4,_0xc65d85,this['_duration']):this['source']['start'](-0xa81*0x1+-0x3a4+-0x11*-0xd5,_0xc65d85),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0xc65d85,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x850+-0x46*-0xe+0xc23*-0x1),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x26d8+0x2*-0x7f1+-0x123e*-0x3);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x2*0x893+0x4cd*0x4+-0x2459),this['_state']===As)return!(0xe24+-0x2ee*-0x9+-0x2881);const _0x2f2788=this['_state']===Rt;return this['_state']=As,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x1b41*0x1+0x989*-0x3+0x15a*0x1,this['_currentTi'+'me']=0x4c0+-0x14a7+0xfe7*0x1,this['_currentOf'+'fset']=0x7b9+-0x1*0x22c6+0x1b0d,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x2f2788&&this['source']&&this['source']['stop'](-0x2025+0x2398+-0x373*0x1),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x25bd*0x1+0xb5*-0xb+-0x5*0x5fe);}['setExterna'+'lNodes'](_0x3bc1a4,_0x4772cb){if(!_0x3bc1a4){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x4772cb||(_0x4772cb=_0x3bc1a4);const _0xaa40e0=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x3bc1a4&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0xaa40e0),this['_firstNode']=_0x3bc1a4,this['_connector'+'Node']['connect'](_0x3bc1a4)),this['_lastNode']!==_0x4772cb&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0xaa40e0),this['_lastNode']=_0x4772cb,this['_lastNode']['connect'](_0xaa40e0));}['clearExter'+'nalNodes'](){const _0xef5133=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0xef5133),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0xef5133);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0xe788d5=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0xe788d5['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=It(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],It(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=It((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Rt&&(this['source']['stop'](-0x12e5+0x1a93+-0x7ae),this['source']=null);}}c(rs,'EVENT_PLAY','play'),c(rs,'EVENT_PAUS'+'E','pause'),c(rs,'EVENT_RESU'+'ME','resume'),c(rs,'EVENT_STOP','stop'),c(rs,'EVENT_END','end'),ki()||(Object['assign'](rs['prototype'],{'play':function(){return this['_state']!==As&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x1*-0xfd1+0x4*-0x392+0x4*-0x62):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Rt,this['_playWhenL'+'oaded']=!(0x17f4+-0x18de+0xeb),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0xbc9+0x194d+-0xd84));},'pause':function(){return!this['source']||this['_state']!==Rt?!(0xecd+0x1155+-0x2021):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x19aa+-0xcd*0x6+0x10d*0x1d),this['_state']=ia,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x115*0x3+0xe6b*-0x1+0x11aa));},'resume':function(){return!this['source']||this['_state']!==ia?!(-0x1429+-0x19eb+-0x2f*-0xfb):(this['_state']=Rt,this['_playWhenL'+'oaded']=!(-0x1db3+0x2ec*0x4+0x1204),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x1ff6+-0x2036+-0x2016*-0x2));},'stop':function(){return!this['source']||this['_state']===As?!(-0xf05*-0x1+-0x1f*0x12b+0x1531):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x2*-0xb93+0x6*-0x50d+0x3575),this['_state']=As,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x1*0x2027+-0x1f50+-0x4d*-0xd3));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x11aa+0x4c6*0x2+0x81e);let _0x6c737=It(this['_startOffs'+'et'],this['duration']);_0x6c737=It(this['_startTime']+_0x6c737,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x6c737;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x20cc+-0x1923+0xf5*-0x8),this['source']=this['_sound']['audio']['cloneNode'](!(0x4*-0x709+-0x4*-0x6f7+0x48)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>It(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=It(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](rs['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x2a8f3c){_0x2a8f3c=N['clamp'](_0x2a8f3c,-0x1*-0xbd3+0x65*0x8+-0xefb,0x3*0x39b+-0x53c+-0x594),this['_volume']=_0x2a8f3c,this['source']&&(this['source']['volume']=_0x2a8f3c*this['_manager']['volume']);}}),Object['defineProp'+'erty'](rs['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x3839c0){this['_pitch']=Math['max'](Number(_0x3839c0)||-0x1230+-0x4f6*-0x1+0xd3a,0x1*0xa3f+0x4df*0x4+-0x1dbb+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](rs['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x4e49e9){this['stop'](),this['_sound']=_0x4e49e9;}}),Object['defineProp'+'erty'](rs['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===As||!this['source']?0x5*-0x773+0x11bd+-0x1382*-0x1:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x18c4c1){_0x18c4c1<-0x35*0x89+-0xbd8+-0x2f*-0xdb||(this['_startOffs'+'et']=_0x18c4c1,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=It(this['_startTime']+It(_0x18c4c1,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0x1314+0x1ab1+0x11*-0x65;class Yn extends rs{constructor(_0x58939b,_0xe4c453,_0x2f1727={}){super(_0x58939b,_0xe4c453,_0x2f1727),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x2f1727['position']&&(this['position']=_0x2f1727['position']),this['maxDistanc'+'e']=_0x2f1727['maxDistanc'+'e']!==void(-0xae5+0x1*-0x283+0xd68)?Number(_0x2f1727['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x2f1727['refDistanc'+'e']!==void(0x2ec*-0x1+-0x13fb+0x16e7)?Number(_0x2f1727['refDistanc'+'e']):-0x2*-0x5e3+0x1c69+0x25*-0x116,this['rollOffFac'+'tor']=_0x2f1727['rollOffFac'+'tor']!==void(-0x1*0x200c+0x16be+0x3*0x31a)?Number(_0x2f1727['rollOffFac'+'tor']):0x140b+-0x1e5*-0x1+-0x15ef,this['distanceMo'+'del']=_0x2f1727['distanceMo'+'del']!==void(0x15f4+0x946+-0x1f3a)?_0x2f1727['distanceMo'+'del']:dc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x450821){this['_position']['copy'](_0x450821);const _0x336690=this['panner'];'positionX'in _0x336690?(_0x336690['positionX']['value']=_0x450821['x'],_0x336690['positionY']['value']=_0x450821['y'],_0x336690['positionZ']['value']=_0x450821['z']):_0x336690['setPositio'+'n']&&_0x336690['setPositio'+'n'](_0x450821['x'],_0x450821['y'],_0x450821['z']);}get['position'](){return this['_position'];}set['velocity'](_0x3c6f3d){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x3c6f3d);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x389530){this['panner']['maxDistanc'+'e']=_0x389530;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x315941){this['panner']['refDistanc'+'e']=_0x315941;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x452ecf){this['panner']['rolloffFac'+'tor']=_0x452ecf;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x195f67){this['panner']['distanceMo'+'del']=_0x195f67;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!ki()){let l=new T();const t=function(_0x31c248,_0x48f08b,_0x55b465,_0x3ab749,_0x13666f,_0x3d56d6){l=l['sub2'](_0x31c248,_0x48f08b);const _0x307403=l['length']();if(_0x307403<_0x55b465)return 0x28d*-0xb+0x4*-0x407+0x2c2c;if(_0x307403>_0x3ab749)return-0x1e22+-0x1*0x154f+0x3371;let _0x452867=-0x13fd+-0x1e9c*0x1+0x3299;return _0x3d56d6===dc?_0x452867=-0xede+-0xc9c+0x1*0x1b7b-_0x13666f*(_0x307403-_0x55b465)/(_0x3ab749-_0x55b465):_0x3d56d6===kf?_0x452867=_0x55b465/(_0x55b465+_0x13666f*(_0x307403-_0x55b465)):_0x3d56d6===cy&&(_0x452867=Math['pow'](_0x307403/_0x55b465,-_0x13666f)),N['clamp'](_0x452867,-0x21f3+0x33f+0x1eb4,0x1ea5+0x45d*0x2+-0x275e);};Object['defineProp'+'erty'](Yn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x5ac3a1){if(this['_position']['copy'](_0x5ac3a1),this['source']){const _0xd7779a=this['_manager']['listener']['getPositio'+'n'](),_0x34e18a=t(_0xd7779a,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x5a115c=this['volume'];this['source']['volume']=_0x5a115c*_0x34e18a*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](Yn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x39842b){this['_maxDistan'+'ce']=_0x39842b;}}),Object['defineProp'+'erty'](Yn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x4450c8){this['_refDistan'+'ce']=_0x4450c8;}}),Object['defineProp'+'erty'](Yn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x40907d){this['_rollOffFa'+'ctor']=_0x40907d;}}),Object['defineProp'+'erty'](Yn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x35be1e){this['_distanceM'+'odel']=_0x35be1e;}});}const n0=-0x23fe+-0x128e+0xda3*0x4,xp=0x449*-0x2+-0x10ea+0x197d,Ot=-0x9c0+0x1*0xdf+0x23*0x41,ns=0xfb3*0x1+-0x20a7+-0x65*-0x2b,cn=0x4*-0x7b1+0x1377+0xb51,Sp=-0x1*-0x8f6+-0x1*0x1073+0x3e*0x1f,Wc=-0x263f+0x251b+0x12a,a0=0x2d8+-0x15*0x35+0x188,o0=-0xce7*0x1+0x25eb+-0x18fc,l0=-0x7b5*0x1+0xa0*0xf+-0x1a2,h0=-0x1*0x2345+-0x2*0x10bb+0xdc1*0x5,ka='none',zb='linear',vp=0x16*0xc7+-0x25a4+-0x1*-0x148c,Ub=0x4*-0x57a+0x265*-0x1+0x184d,Vb=-0x7*0x4e6+0x57*0x2b+0x1*0x13af,c0=0x5b*-0x25+0x993*-0x2+-0x13*-0x1b4,Oi=0xe0*0x11+0x1094+-0x1f74,Yt=0xc3c+0x1a64+-0x269f,bp=-0x1*-0x16b+0x507+-0x670,wp=0x399*0x2+0x1e3e*-0x1+0x170f,tl=-0x2*0x123e+-0x22dd+-0x475d*-0x1,ae=-0x7*-0x43+0x9c6+-0x1*0xb9b,Pe=-0x199d+-0x926+0x22c4,Re=0x1cf*-0x13+-0x1b65+0xec*0x43,xt=0x2b8+0x1*0x2555+-0x280d,Gb=-0x277*0x1+-0x982+0xe*0xdb,Hb=-0x1be8+0x1e8e+-0xa9*0x4,Wb=0x2374+-0x23d0*0x1+0x5f,Tp=0xca*-0x14+0x1b*0x102+-0xb6e,$b=-0x1*-0x255d+0x1c69+-0x41c5,Lt=0x1*0x17c9+0x24a5+-0x3c6e,Hr=-0x571+0x26af+-0x213c,Wr=-0x3*-0x99e+0x1619+-0x32f0,hh=0x1339+-0x653*0x5+0xc6a,Nh=-0x20f1+0x18e6+0x810*0x1,Cs=0x34*-0x22+0x185c+-0x116e,zh=0x1b96*-0x1+-0x1953*0x1+0x34f0,Uh=0x213b+-0xd34+-0x13ff,Du=-0xbf*-0x33+0x1*-0x1cf+-0x1*0x2435,rr=new Map([[Nh,{'name':'PCF1_32F','format':Pi,'pcf':!(0x17de+0xed9+0xbb*-0x35)}],[Lt,{'name':'PCF3_32F','format':Pi,'pcf':!(0x559+0xd0*-0x1c+0x1167)}],[hh,{'name':'PCF5_32F','format':Pi,'pcf':!(0x211d+0x26cf+-0x47ec)}],[zh,{'name':'PCF1_16F','format':ha,'pcf':!(-0x1aca+-0x1*0x263+-0x42b*-0x7)}],[Uh,{'name':'PCF3_16F','format':ha,'pcf':!(0xac0+-0x1*-0x36+-0xaf6)}],[Du,{'name':'PCF5_16F','format':ha,'pcf':!(0xc*-0x1f9+0x133e*0x1+0x36*0x15)}],[Hr,{'name':'VSM_16F','format':Qe,'vsm':!(0x4*0x88e+-0x949*-0x1+0x12d*-0x25)}],[Wr,{'name':'VSM_32F','format':Ye,'vsm':!(-0x1*-0x143a+0x1*-0x2443+-0x1*-0x1009)}],[Cs,{'name':'PCSS_32F','format':Li,'pcss':!(-0x1ac5+-0xfc3+0x2*0x1544)}]]),Ap=0xcf4+0xf47+-0x1c3a,Lu=-0x10d7+-0x1*-0x1611+-0x53a,d0=-0xeea+0x3*0xa57+-0x101b,Vs=-0x2*-0x835+0xf1c+-0x10d*0x1e,qb=0x23ad*0x1+0xbab+-0x2f57,Vh=-0xbbb+0xbae+0xd,Xb=-0xad*0xc+0x247a+0x1c5d*-0x1,Gs=0xdf4+0x1382*-0x2+0x1910,fa=-0xed0+-0x114e*0x1+0x201f,yo=-0x45*-0x47+0x61*0x2f+-0x2*0x1279,Dr=0x265b+0x1*-0x269b+0x41,Al=0xfbd+-0x1*-0x179b+-0x2756,u0=-0x71f*0x3+-0x4*0x6b2+-0x2d5*-0x11,jb=-0x1177+0x20a3+-0xf2b,Om='mul',sl=-0x4*0x79f+-0x1d*0x141+0x42d9*0x1,ch=0x2264+-0xa2b+-0x1838,Yb={[sl]:'NONE',[ch]:'SRGB'},Cp=-0xb0c+0x311+-0x9*-0xe3,dF=0x1cc2+-0x1e4d+0x18c,uF=0x98b+-0x20fa+-0x161*-0x11,fF=0x1*0x1a4b+-0x183*-0xf+-0x30f5,pF=0x91+0x3*0xc02+0x3*-0xc31,mF=-0x234f+-0x21ab+0x44ff,f0=-0xfe7*-0x1+0x26a3*0x1+0xda1*-0x4,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0x150d+0x9bb+0x5a9*0x2,Bo=-0x1*-0x18b5+-0x137*-0x13+-0x1*0x2fc9,Fu=-0x1eb8+0x1c*-0x81+0x2cd6,Ep=0x18cb+0xc9e+-0x2568,$c=-0xd*0x22c+-0x2*-0x614+0x1016,m0=0x225b+0x1906+-0x3b5d,_0=-0x46b+-0x83*0x2f+0x1c80,g0=0x7c3+0x11*-0x81+0xde,qc=-0xb1c+-0xe86*0x1+-0x3ae*-0x7,ku=0x1*-0x1c81+-0x53*0x3b+0x2fe2,y0=0x26a1*0x1+0xa2e+0x95*-0x53,Mp=0x1978+0x5c*-0x29+-0x9bc,Pp=0x5*0x1b+-0x2b*-0xd1+-0x21a2,Xc=0xeb0+0x6fa+-0x11aa,jc=-0xdec+0x2051+0x3*-0x377,x0=-0x1abd+-0x1*0x998+0x3455,Yc=-0x2c3b+0xc7a*0x5+0xdd9,Ou=-0x1bc4+-0xb*-0xb5d+-0x213b,Is=-0x248b+-0xd7c+0x3207,dn=0x2*0xdee+-0x2573*0x1+0x998,Rp=-0x6*-0x1ea+0x148+-0x2e*0x47,Mi=0x608+-0x1209+0xc01*0x1,Bu=-0x83*0x21+-0x1c*-0x5f+0x680,ds=-0x157b+0xfee*0x2+-0xa60,cr=0x226d+-0x2251+-0x1a,nr=-0x18ff+0x1991+-0x8e,yn=0x26e1+0xb*-0x1f+-0x258c,il=0x314*0x1+-0x1*0x1b67+0x1854,rl=0x13ba+0xc01*0x3+-0x37bb,Oa=0x1d37+0x1d2f+-0x3a63,Ip=-0x3*-0x45a+-0x2218+0x150e,Ci=-0x8*0x335+0x483*0x3+-0x1*-0xc1f,rt=0xc3f+0x3a5+-0xfe3,Ze=-0xed8+0x542+0x998,dh=0x4*0x32d+0x14d4+-0x2187*0x1,Cl=0x2281+-0x69d*0x3+-0xeaa,uh=0x1*0x175d+-0x5b7+0x8d3*-0x2,Zb=-0x1b8b+0x93+0x1af9,Qb=-0x1*-0x41e+0x1f*-0x10f+0x1cb5*0x1,Bm=-0x1383+0x1a90+-0x70a,Jb=-0x1e53+-0x4a2*0x3+-0x97*-0x4b,ew=0x6b9*-0x5+-0x11cd+0x336f,Dp=-0xfd3+0x8*-0x329+0x11*0x26b,Nu=-0x1ac8+-0x30d+0x1dd6*0x1,pe=-0x2*-0xa37+-0x193+-0x649*0x3,Oe=-0x138e+0x4*-0x1b1+0x1a53,xo='infinite',tw='box',sw='dome',Ds='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Kc{constructor(_0x2b53db,_0x1a3517,_0x1208f7){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Lh]=_0x2b53db,this['bindGroupF'+'ormats'][Lh]=_0x1a3517,this['vertexForm'+'at']=_0x1208f7);}['hasUniform'](_0x553a1d){for(let _0xe75b28=-0x5c*0x55+-0x1*-0x1b93+0x2f9;_0xe75b28<this['uniformFor'+'mats']['length'];_0xe75b28++){const _0x4a141f=this['uniformFor'+'mats'][_0xe75b28];if(_0x4a141f!=null&&_0x4a141f['get'](_0x553a1d))return!(0xe2*-0x3+0x9b*0x23+-0x2f*0x65);}return!(-0x1e0b+-0xfcd+0x2dd9);}['hasTexture'](_0x1d0974){for(let _0x2477f4=-0x351+-0x4*-0x115+-0x103;_0x2477f4<this['bindGroupF'+'ormats']['length'];_0x2477f4++){const _0x3fe9da=this['bindGroupF'+'ormats'][_0x2477f4];if(_0x3fe9da!=null&&_0x3fe9da['getTexture'](_0x1d0974))return!(0x53c+0xf68+-0x14a4);}return!(0x1205*-0x1+-0x4ab+-0x25*-0x9d);}['getVertexE'+'lement'](_0x1d160a){var _0x4c23dc;return(_0x4c23dc=this['vertexForm'+'at'])==null?void(0x1*-0x22db+-0x58+-0x2333*-0x1):_0x4c23dc['elements']['find'](_0x5ce694=>_0x5ce694['name']===_0x1d160a);}['generateKe'+'y'](_0xb834b9){var _0x3a41f0;let _0x19e447=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0xb834b9['isWebGPU']&&(_0x19e447+=(_0x3a41f0=this['vertexForm'+'at'])==null?void(0xe*0x140+0x92e*-0x4+0x1338):_0x3a41f0['shaderProc'+'essingHash'+'String']),_0x19e447;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Cw='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Ew='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',kw='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),Ow='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz,\x20alpha)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),CT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',ET='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',kT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),OT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',CA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',EA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',kA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',OA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eC='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tC='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sC='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iC='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rC='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nC='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aC='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oC='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lC='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hC='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cC='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uC='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fC='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pC='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mC='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_C='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gC='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yC='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xC='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SC='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vC='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bC='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wC='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TC='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AC='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',CC='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',EC='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',MC='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PC='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RC='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IC='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DC='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LC='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FC='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',kC='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),OC='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BC='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NC='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zC='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UC='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VC='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GC='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HC='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Cw,'clearCoatPS':Ew,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':kw,'cubeMapProjectBoxPS':Ow,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':CT,'lightmapSinglePS':ET,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':OT,'msdfPS':kT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':CA,'particle_initVS':EA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':kA,'particle_softVS':OA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eC,'shadowEVSMPS':tC,'shadowEVSMnPS':sC,'shadowPCSSPS':iC,'shadowSampleCoordPS':rC,'shadowSoftPS':nC,'shadowStandardPS':aC,'shadowStandardGL2PS':oC,'shadowVSM_commonPS':lC,'skinBatchVS':hC,'skinVS':cC,'skyboxPS':dC,'skyboxVS':uC,'specularPS':fC,'sphericalPS':pC,'specularityFactorPS':mC,'spotPS':_C,'startPS':gC,'startVS':yC,'startNineSlicedPS':xC,'startNineSlicedTiledPS':SC,'storeEVSMPS':vC,'tangentBinormalVS':bC,'TBNPS':wC,'TBNderivativePS':TC,'TBNObjectSpacePS':AC,'thicknessPS':CC,'tonemappingPS':EC,'tonemappingAcesPS':MC,'tonemappingAces2PS':PC,'tonemappingFilmicPS':RC,'tonemappingHejlPS':IC,'tonemappingLinearPS':DC,'tonemappingNeutralPS':LC,'tonemappingNonePS':FC,'transformVS':kC,'transformCoreVS':OC,'transformInstancingVS':BC,'transmissionPS':NC,'twoSidedLightingPS':zC,'uv0VS':UC,'uv1VS':VC,'viewDirPS':GC,'viewNormalVS':HC,'webgpuPS':t0,'webgpuVS':s0},b0=new Bt();function Ba(_0x372d53){const _0x18faea=b0['get'](_0x372d53);return v['assert'](_0x18faea),_0x18faea;}function WC(_0x313e6e,_0x5024c9){v['assert'](_0x5024c9),b0['get'](_0x313e6e,()=>_0x5024c9);}class Dt{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x29c13d){const _0x1888fb=Array['from'](_0x29c13d)['sort']((_0x2c4e85,_0x4f1378)=>_0x2c4e85[-0x2b*0x5e+-0xb0a+0x1ad4]>_0x4f1378[-0x1440+0x12b3*-0x1+-0x2ff*-0xd]?0x90a*0x2+-0x7*-0x535+-0x3686:-(-0x2e*-0x2e+-0x130+-0x713));return hn(JSON['stringify'](_0x1888fb));}}const $C=new Bt();class qC{constructor(_0xa67e07,_0x5d761f,_0x4e9c86={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0xa67e07),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0xa67e07),this['name']=_0xa67e07,this['index']=_0x5d761f,Object['assign'](this,_0x4e9c86),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x2b2139;this['isShadow']?_0x2b2139='SHADOW':this['isForward']?_0x2b2139='FORWARD':this['index']===rl?_0x2b2139='DEPTH':this['index']===Oa&&(_0x2b2139='PICK'),this['defines']['set'](_0x2b2139+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',0xd7f*-0x2+0x192b+-0x1*-0x1d3);const _0x4f00a0=(_0xbbe440,_0x2ed61f,_0x3bfcc3)=>{const _0x3c7572=this['allocate'](_0xbbe440,_0x3bfcc3);v['assert'](_0x3c7572['index']===_0x2ed61f);};_0x4f00a0('forward',yn,{'isForward':!(0xaa3+-0x11*0xcd+0x2fa)}),_0x4f00a0('prepass',il),_0x4f00a0('depth',rl),_0x4f00a0('pick',Oa),_0x4f00a0('shadow',Ip);}static['get'](_0x20c753){return v['assert'](_0x20c753),$C['get'](_0x20c753,()=>new Ks());}['allocate'](_0x5bf7eb,_0x1082f9){let _0x55e8e1=this['passesName'+'d']['get'](_0x5bf7eb);return _0x55e8e1===void(-0xd87+-0xa11+-0x8*-0x2f3)&&(_0x55e8e1=new qC(_0x5bf7eb,this['nextIndex'],_0x1082f9),this['passesName'+'d']['set'](_0x55e8e1['name'],_0x55e8e1),this['passesInde'+'xed'][_0x55e8e1['index']]=_0x55e8e1,this['nextIndex']++),_0x55e8e1;}['getByIndex'](_0x5f4d8c){const _0x19a150=this['passesInde'+'xed'][_0x5f4d8c];return v['assert'](_0x19a150),_0x19a150;}['getByName'](_0x1f3b6d){return this['passesName'+'d']['get'](_0x1f3b6d);}}function Ls(_0x185d2a,_0x49c90f,_0x3cecb2,_0x556064,_0x3e79f9,_0x2e27f0=!(0x1a72*-0x1+-0x157d+0x2ff0),_0x24bdf0={}){v['assert'](!(0x148a+-0x1fe7*0x1+0xb5d)),typeof _0x2e27f0=='boolean'?_0x24bdf0['useTransfo'+'rmFeedback']=_0x2e27f0:typeof _0x2e27f0=='object'&&(_0x24bdf0={..._0x24bdf0,..._0x2e27f0});const _0x1145dd=Ba(_0x185d2a);let _0x55c215=_0x1145dd['getCachedS'+'hader'](_0x556064);return _0x55c215||(_0x55c215=new i0(_0x185d2a,Pt['createDefi'+'nition'](_0x185d2a,{..._0x24bdf0,'name':_0x556064,'vertexCode':_0x49c90f,'fragmentCode':_0x3cecb2,'attributes':_0x3e79f9})),_0x1145dd['setCachedS'+'hader'](_0x556064,_0x55c215)),_0x55c215;}class XC extends Dt{constructor(_0x2e9312,_0x3546df){super(),this['key']=_0x2e9312,this['shaderDefi'+'nition']=_0x3546df;}['generateKe'+'y'](_0x2fcdfe){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x26ec0f,_0x525801){return this['shaderDefi'+'nition'];}}function jC(_0x7e30f2,_0x5d80c2){v['assert'](_0x7e30f2);const _0x194ff6=_0x7e30f2['definition'],_0x15220d=(_0x194ff6['name']??'shader')+'-id-'+_0x7e30f2['id'],_0x5b031e=new XC(_0x15220d,_0x194ff6),_0x3d5e88='shader',_0x308e96=Ba(_0x7e30f2['device']);v['assert'](!_0x308e96['isRegister'+'ed'](_0x3d5e88)),_0x308e96['register'](_0x3d5e88,_0x5b031e);const _0x5caf13=_0x308e96['getProgram'](_0x3d5e88,{},_0x5d80c2);return _0x7e30f2['definition']['shaderLang'+'uage']===Rh&&(_0x5caf13['meshUnifor'+'mBufferFor'+'mat']=_0x194ff6['meshUnifor'+'mBufferFor'+'mat'],_0x5caf13['meshBindGr'+'oupFormat']=_0x194ff6['meshBindGr'+'oupFormat']),_0x308e96['unregister'](_0x3d5e88),_0x5caf13;}const Lp=(_0x3f2c5c,_0x2f2ff7)=>{const _0x8314d6=new Map(_0x3f2c5c['defines']);return _0x2f2ff7['cameraShad'+'erParams']['defines']['forEach']((_0xb4d2f7,_0x44b975)=>_0x8314d6['set'](_0x44b975,_0xb4d2f7)),Ks['get'](_0x2f2ff7['device'])['getByIndex'](_0x2f2ff7['pass'])['defines']['forEach']((_0x4f2483,_0x21b25b)=>_0x8314d6['set'](_0x21b25b,_0x4f2483)),_0x8314d6;},YC={'type':or,'base':0x0,'count':0x4,'indexed':!(0x224f+0x5f7+-0x319*0xd)},Va=new Q(),Ga=new Q(),md=new Yy();class zu{constructor(_0x1d2890){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x7481ed=_0x1d2890['device'];if(this['shader']=_0x1d2890,v['assert'](_0x1d2890),_0x7481ed['supportsUn'+'iformBuffe'+'rs']){const _0xdfcbc8=new Kc();this['shader']=jC(_0x1d2890,_0xdfcbc8);const _0x12a2e8=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x12a2e8&&(this['uniformBuf'+'fer']=new yp(_0x7481ed,_0x12a2e8,!(-0x8*0x329+0x18c7+0x82)));const _0x30bf40=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x30bf40),this['bindGroup']=new _p(_0x7481ed,_0x30bf40),_n['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x3c8ec3,_0x4b07af;(_0x3c8ec3=this['uniformBuf'+'fer'])==null||_0x3c8ec3['destroy'](),this['uniformBuf'+'fer']=null,(_0x4b07af=this['bindGroup'])==null||_0x4b07af['destroy'](),this['bindGroup']=null;}['render'](_0x385e5b,_0x4c1296){const _0x29c85e=this['shader']['device'];G['pushGpuMar'+'ker'](_0x29c85e,'QuadRender'),_0x385e5b&&(Va['set'](_0x29c85e['vx'],_0x29c85e['vy'],_0x29c85e['vw'],_0x29c85e['vh']),Ga['set'](_0x29c85e['sx'],_0x29c85e['sy'],_0x29c85e['sw'],_0x29c85e['sh']),_0x4c1296=_0x4c1296??_0x385e5b,_0x29c85e['setViewpor'+'t'](_0x385e5b['x'],_0x385e5b['y'],_0x385e5b['z'],_0x385e5b['w']),_0x29c85e['setScissor'](_0x4c1296['x'],_0x4c1296['y'],_0x4c1296['z'],_0x4c1296['w'])),_0x29c85e['setVertexB'+'uffer'](_0x29c85e['quadVertex'+'Buffer'],0x14*-0x11f+-0x45*0x2d+0x228d);const _0x571b07=this['shader'];if(_0x29c85e['setShader'](_0x571b07),_0x29c85e['supportsUn'+'iformBuffe'+'rs']){_0x29c85e['setBindGro'+'up'](Lh,_0x29c85e['emptyBindG'+'roup']);const _0x5bc38f=this['bindGroup'];_0x5bc38f['update'](),_0x29c85e['setBindGro'+'up'](Xy,_0x5bc38f);const _0x43d184=this['uniformBuf'+'fer'];_0x43d184?(_0x43d184['update'](md),_0x29c85e['setBindGro'+'up'](Eu,md['bindGroup'],md['offsets'])):_0x29c85e['setBindGro'+'up'](Eu,_0x29c85e['emptyBindG'+'roup']);}_0x29c85e['draw'](YC),_0x385e5b&&(_0x29c85e['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x29c85e['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x29c85e);}}class KC extends fs{constructor(_0x26f324,_0x22193d,_0x3cc070,_0x104854){super(_0x26f324),this['quad']=_0x22193d,this['rect']=_0x3cc070,this['scissorRec'+'t']=_0x104854;}['execute'](){const {device:_0xd4deda}=this;G['pushGpuMar'+'ker'](_0xd4deda,this['name']+':'+this['quad']['shader']['name']),_0xd4deda['setCullMod'+'e'](mt),_0xd4deda['setDepthSt'+'ate'](ls['NODEPTH']),_0xd4deda['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0xd4deda);}}const ZC=new Q();function un(_0x3a76f5,_0x323aa6,_0x377aeb,_0x2fe6d2,_0x2448fb){v['assert'](_0x323aa6!==void(-0x1d9d+0x1*0x87c+0x9*0x259));const _0x4bbf0e=arguments[-0x7*-0x48d+0x486+-0x245c];v['call'](()=>{_0x4bbf0e!==void(0x4cb*-0x2+0x2*-0x122d+0x28*0x126)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x355b01=new zu(_0x377aeb);_0x2fe6d2||(_0x2fe6d2=ZC,_0x2fe6d2['x']=0xf43*0x1+-0x1*-0x1d87+-0x2*0x1665,_0x2fe6d2['y']=-0x232c+-0x1873+0x3b9f,_0x2fe6d2['z']=_0x323aa6?_0x323aa6['width']:_0x3a76f5['width'],_0x2fe6d2['w']=_0x323aa6?_0x323aa6['height']:_0x3a76f5['height']);const _0x4d3f3e=new KC(_0x3a76f5,_0x355b01,_0x2fe6d2,_0x2448fb);_0x4d3f3e['init'](_0x323aa6),_0x4d3f3e['colorOps']['clear']=!(-0x1*0x3be+0x1d5d+-0x199e),_0x4d3f3e['depthStenc'+'ilOps']['clearDepth']=!(-0x1*0x926+0xf15+-0x5ee),_0x3a76f5['isWebGPU']&&_0x323aa6===null&&_0x3a76f5['samples']>-0x12a+0x18cb+0x6c*-0x38&&(_0x4d3f3e['colorOps']['store']=!(0xfb0+0x10b7+-0x2067)),_0x4d3f3e['render'](),_0x355b01['destroy']();}class zm{constructor(_0x1d0bea,_0x1ff7a8,_0x1627f7){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x1d0bea,this['dynamic']=_0x1ff7a8,this['batchGroup'+'Id']=_0x1627f7);}['destroy'](_0x2d9203,_0x3fb69b){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x2d9203,_0x3fb69b),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0xb742ec,_0x3cd33e){for(let _0x46420e=0x1a2d+0x440+0x1*-0x1e6d;_0x46420e<_0x3cd33e['length'];_0x46420e++){const _0x42dbc7=_0xb742ec['layers']['getLayerBy'+'Id'](_0x3cd33e[_0x46420e]);_0x42dbc7&&_0x42dbc7['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x427d9e,_0x645674){for(let _0x972e48=-0x2622+0x4*-0xba+0x290a;_0x972e48<_0x645674['length'];_0x972e48++){const _0xaa8066=_0x427d9e['layers']['getLayerBy'+'Id'](_0x645674[_0x972e48]);_0xaa8066&&_0xaa8066['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x1e6e+0xd39+-0x5*-0x371]['aabb']);for(let _0x2bf78b=-0x6f0+0x6bd*0x2+0x689*-0x1;_0x2bf78b<this['origMeshIn'+'stances']['length'];_0x2bf78b++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x2bf78b]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0xd45+0x5*-0x636+0x1d*0x9d;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class Je{constructor(_0x452ce9,_0x3a6d62,_0x2a75b0,_0x238fab,_0x58ac59=[Oi]){c(this,'_ui',!(-0x201e+-0x1f51+0x3f70)),c(this,'_sprite',!(-0x88c+-0x424+0x1*0xcb1)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x452ce9,this['name']=_0x3a6d62,this['dynamic']=_0x2a75b0,this['maxAabbSiz'+'e']=_0x238fab,this['layers']=_0x58ac59);}}c(Je,'MODEL','model'),c(Je,'ELEMENT','element'),c(Je,'SPRITE','sprite'),c(Je,'RENDER','render');const Um=new q();class nl{constructor(_0x5ce098){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(0x13*0x12b+-0x228a+-0x1*-0xc59),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x458*0x8+-0x1*0x119+0x11ed*0x2),this['_updateBef'+'oreCull']=!(0x1bd*0x3+-0x261a+0x20e3*0x1),_0x5ce098&&this['initSkin'](_0x5ce098));}set['rootBone'](_0x531d88){this['_rootBone']=_0x531d88;}get['rootBone'](){return this['_rootBone'];}['init'](_0xeda965,_0x4b27d4){const _0x5f31ed=_0x4b27d4*(0xcfe+-0x2645+0x194a);let _0x1227a5=Math['ceil'](Math['sqrt'](_0x5f31ed));_0x1227a5=N['roundUp'](_0x1227a5,0xc*-0x15a+0x19b8+-0x97d*0x1);const _0xffa6c=Math['ceil'](_0x5f31ed/_0x1227a5);this['boneTextur'+'e']=new he(_0xeda965,{'width':_0x1227a5,'height':_0xffa6c,'format':Ye,'mipmaps':!(-0x1573*-0x1+-0xe7c+-0x1*0x6f6),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x1227a5,_0xffa6c,(-0x4*0x5be+-0x173e+0x2e37*0x1)/_0x1227a5,(0x1f53+-0x22a6+0x11c*0x3)/_0xffa6c],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x893d2c,_0xa23257){this['rootBone']=_0x893d2c;const _0x2aaba3=this['skin'],_0x397dcc=[];for(let _0x3a41be=0x26df+0x155f*-0x1+-0x46*0x40;_0x3a41be<_0x2aaba3['boneNames']['length'];_0x3a41be++){const _0x306b90=_0x2aaba3['boneNames'][_0x3a41be];let _0x465626=_0x893d2c['findByName'](_0x306b90);_0x465626||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x306b90+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0xa23257['name']+(',\x20rootBone'+':\x20')+_0x893d2c['name']),_0x465626=_0xa23257),_0x397dcc['push'](_0x465626);}this['bones']=_0x397dcc;}['initSkin'](_0x3166e9){this['skin']=_0x3166e9,this['bones']=[];const _0x1b98c0=_0x3166e9['inverseBin'+'dPose']['length'];this['init'](_0x3166e9['device'],_0x1b98c0),this['matrices']=[];for(let _0x5b3006=-0x3*-0x22b+0xc46*0x3+-0x2b53*0x1;_0x5b3006<_0x1b98c0;_0x5b3006++)this['matrices'][_0x5b3006]=new q();}['uploadBone'+'s'](_0x5e888d){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x134d1a,_0xa45558){if(this['_skinUpdat'+'eIndex']!==_0xa45558){this['_skinUpdat'+'eIndex']=_0xa45558,Um['copy'](_0x134d1a['getWorldTr'+'ansform']())['invert']();for(let _0x259103=this['bones']['length']-(0x1195+0x1*0x1eb1+-0x3045);_0x259103>=-0x6*-0x12f+0x5*0x2d7+-0x154d;_0x259103--)this['matrices'][_0x259103]['mulAffine2'](Um,this['bones'][_0x259103]['getWorldTr'+'ansform']()),this['matrices'][_0x259103]['mulAffine2'](this['matrices'][_0x259103],this['skin']['inverseBin'+'dPose'][_0x259103]);}}['updateMatr'+'ices'](_0x1e81e4,_0x3e1245){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x1e81e4,_0x3e1245);}['updateMatr'+'ixPalette'](_0x53889f,_0x695cbc){this['_updateMat'+'rices'](_0x53889f,_0x695cbc);const _0x34aa1d=this['matrixPale'+'tte'],_0x340055=this['bones']['length'];for(let _0x698b76=-0x1c09+0x11ce+0x1*0xa3b;_0x698b76<_0x340055;_0x698b76++){const _0x464888=this['matrices'][_0x698b76]['data'],_0x21b655=_0x698b76*(0x25eb+0x3*-0x771+-0xf8c);_0x34aa1d[_0x21b655]=_0x464888[-0x18*-0xdf+0x1d01+0x31e9*-0x1],_0x34aa1d[_0x21b655+(-0x1*-0x1378+-0x5*0x4cc+0x485)]=_0x464888[0x1f6*0x2+-0x188*0x11+0x18*0xec],_0x34aa1d[_0x21b655+(-0x114a*-0x2+-0x9f5*-0x1+-0x2c87)]=_0x464888[-0xaa*0x31+-0x22e2+-0x2*-0x21ba],_0x34aa1d[_0x21b655+(-0x17ef+-0x1e6d*-0x1+-0x67b)]=_0x464888[-0x1*-0x1f81+-0x49d+-0x1ad8],_0x34aa1d[_0x21b655+(0x25a1+0x1575+-0x3b12)]=_0x464888[0x16c0+-0x1*0x17bf+0x100],_0x34aa1d[_0x21b655+(0x4*0x335+0x8ec+-0x1*0x15bb)]=_0x464888[-0x2264+0x68+-0x6cd*-0x5],_0x34aa1d[_0x21b655+(-0x2*0x17e+0x1*-0x1675+-0x3*-0x87d)]=_0x464888[-0xd9*0x2b+0x1f1+0x228b],_0x34aa1d[_0x21b655+(-0x1*-0x1147+-0x142b*-0x1+0x1*-0x256b)]=_0x464888[0x1e2+-0x1655*-0x1+-0x80e*0x3],_0x34aa1d[_0x21b655+(0xc9c+-0x2700+0x59*0x4c)]=_0x464888[-0x1*-0x219d+0x1*-0x18e+-0x200d],_0x34aa1d[_0x21b655+(-0xa4*0xe+0x1d76+-0x1475)]=_0x464888[-0x34*-0xb3+-0x254d+0xf7*0x1],_0x34aa1d[_0x21b655+(-0x189d+-0xc7*0x31+0x3ebe)]=_0x464888[0x10f3+0xbf7+-0x108*0x1c],_0x34aa1d[_0x21b655+(0x1*-0xd42+-0x2109+-0x526*-0x9)]=_0x464888[0x540+-0x1abe+0xac6*0x2];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x1fa7ea,_0x15f5f8,_0x2a22bb){super();const _0x391c3a=_0x15f5f8['length'];this['init'](_0x1fa7ea,_0x391c3a),this['device']=_0x1fa7ea,this['rootNode']=_0x2a22bb,this['bones']=_0x15f5f8;}['updateMatr'+'ices'](_0x8ab760,_0x3bcf01){}['updateMatr'+'ixPalette'](_0x48bb73,_0x3d7db8){const _0x3a3edf=this['matrixPale'+'tte'],_0x4ff111=this['bones']['length'];for(let _0x3e2a57=-0x2395*-0x1+-0x124f+-0x1146;_0x3e2a57<_0x4ff111;_0x3e2a57++){const _0x16807b=this['bones'][_0x3e2a57]['getWorldTr'+'ansform']()['data'],_0x5e4e95=_0x3e2a57*(-0x7*-0x37+0xbea*-0x2+0x165f);_0x3a3edf[_0x5e4e95]=_0x16807b[0xa52+0x1*0x47+-0xa99],_0x3a3edf[_0x5e4e95+(0x3de+-0x1*0xb31+0x754)]=_0x16807b[-0x57b*-0x7+0xbe6+-0x323f],_0x3a3edf[_0x5e4e95+(-0x26fb+-0xcb4+0x113b*0x3)]=_0x16807b[-0x1bfe+0x26da+-0xfc*0xb],_0x3a3edf[_0x5e4e95+(-0x2699*0x1+-0x706+0x12*0x289)]=_0x16807b[-0xc37*0x1+0x1*0xd6f+-0x3*0x64],_0x3a3edf[_0x5e4e95+(0x2*-0x5c8+-0xe79+-0x2e5*-0x9)]=_0x16807b[0x2*0x287+-0x159e+0x1091],_0x3a3edf[_0x5e4e95+(-0x1e9d*-0x1+-0xca6*-0x2+-0x37e4)]=_0x16807b[-0x653*-0x4+0x3a5+-0x1cec],_0x3a3edf[_0x5e4e95+(0x1643+0x178c+-0x2dc9*0x1)]=_0x16807b[-0x1adc+-0xd8+0x9*0x315],_0x3a3edf[_0x5e4e95+(-0x397+0x185a*0x1+-0x14bc)]=_0x16807b[-0x2650+-0x59*-0x11+0x2074*0x1],_0x3a3edf[_0x5e4e95+(-0x7a6+0x1*-0x17ab+0x1f59)]=_0x16807b[0x9bc+0x3b*0x45+0x1b*-0xf3],_0x3a3edf[_0x5e4e95+(-0xe4c*0x1+0x1e9f+-0x104a)]=_0x16807b[0x1fe9+0x1272+-0x3255],_0x3a3edf[_0x5e4e95+(0x584+-0xc5c+0x6e2)]=_0x16807b[-0x10*0x1d2+0x1a60+-0x7*-0x66],_0x3a3edf[_0x5e4e95+(-0xfd+-0x3d*0x83+0x203f)]=_0x16807b[0x682*0x1+-0x9ce+0x35a];}this['uploadBone'+'s'](this['device']);}}let QC=0x213b+0xf*-0x1e8+-0x4a3;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x1b42*0x1+-0x1884+0x1*-0x2bd),this['verticesUs'+'age']=Kt,this['indicesUsa'+'ge']=Kt,this['maxVertice'+'s']=0xdd5+-0x17f3*0x1+0xe*0xb9,this['maxIndices']=-0x1e5*0x12+0x22bc+0x9*-0x12,this['vertexCoun'+'t']=-0x60*-0x41+0x1b*0x121+-0x3*0x1249,this['indexCount']=0x9*0x33+-0x2430+-0x1*-0x2265,this['vertexStre'+'amsUpdated']=!(-0x1*0x61d+0xf56*0x2+-0x188e),this['indexStrea'+'mUpdated']=!(0x2*-0x84a+-0x3ca*0x9+0x32af),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x378a50,_0x45bcde){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x378a50,'Vertex\x20str'+'eam\x20'+_0x45bcde+'\x20has\x20'+_0x378a50+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x378a50;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x26ea+-0x1a9c+-0xc4b),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x246e+0x1152+0x1*-0x35bd),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x3cb*-0x1+-0x188c*-0x1+-0x1c55),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x931+-0x1ee5+-0x8b*-0x28);class JC{constructor(_0x47c146,_0x931cee,_0x3010f4,_0x130b41,_0x371433){this['data']=_0x47c146,this['componentC'+'ount']=_0x931cee,this['dataType']=_0x3010f4,this['dataTypeNo'+'rmalize']=_0x130b41,this['asInt']=_0x371433;}}class Ie extends Hc{constructor(_0xad582,_0x2cb486){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x15f5+0x0+-0x15f5*-0x1),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0x3*0x6f1+0x557*0x7+-0x3a33)),c(this,'_storageVe'+'rtex',!(-0x630+0x21db+0x2*-0xdd5)),(this['id']=QC++,v['assert'](_0xad582,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0xad582,this['_storageIn'+'dex']=(_0x2cb486==null?void(0x12f8+-0xf53*0x1+0x3*-0x137):_0x2cb486['storageInd'+'ex'])||!(-0x135+-0x2c*0xd0+0x24f6),this['_storageVe'+'rtex']=(_0x2cb486==null?void(0x53d+-0x11e*0x3+0x1*-0x1e3):_0x2cb486['storageVer'+'tex'])||!(0xd1*0x1a+-0xb*0x263+-0x2*-0x284));}static['fromGeomet'+'ry'](_0x1e53aa,_0x45911d,_0x10561c={}){const _0xe581e9=new Ie(_0x1e53aa,_0x10561c),{positions:_0x2c9483,normals:_0x18e6f9,tangents:_0x4222f3,colors:_0x253d1d,uvs:_0x2af723,uvs1:_0x4039e6,blendIndices:_0x575f55,blendWeights:_0x2e6cd8,indices:_0x4606e8}=_0x45911d;return _0x2c9483&&_0xe581e9['setPositio'+'ns'](_0x2c9483),_0x18e6f9&&_0xe581e9['setNormals'](_0x18e6f9),_0x4222f3&&_0xe581e9['setVertexS'+'tream'](Zs,_0x4222f3,-0xdbb+0x9d*-0x31+0xaf3*0x4),_0x253d1d&&_0xe581e9['setColors3'+'2'](_0x253d1d),_0x2af723&&_0xe581e9['setUvs'](-0x135e+-0x1af4+0x62*0x79,_0x2af723),_0x4039e6&&_0xe581e9['setUvs'](0x5*0x78b+-0x7f*0xb+-0x2041*0x1,_0x4039e6),_0x575f55&&_0xe581e9['setVertexS'+'tream'](jt,_0x575f55,0xd4+-0x1*-0x952+-0xa22,_0x575f55['length']/(0xc35+-0xf*0x9f+-0x10*0x2e),Kr),_0x2e6cd8&&_0xe581e9['setVertexS'+'tream'](Ys,_0x2e6cd8,-0x12e5+0x10*0x115+0x199),_0x4606e8&&_0xe581e9['setIndices'](_0x4606e8),_0xe581e9['update'](),_0xe581e9;}set['morph'](_0xf97129){_0xf97129!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0xf97129,_0xf97129&&_0xf97129['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x596f8b){this['_aabb']=_0x596f8b,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x16601b=this['morph'];_0x16601b&&(this['morph']=null,_0x16601b['refCount']<0xa6b+0x1521+-0x55*0x5f&&_0x16601b['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x1565c6=0x2*0xbf5+-0x1*-0xfcc+-0x1*0x27b6;_0x1565c6<this['indexBuffe'+'r']['length'];_0x1565c6++)this['_destroyIn'+'dexBuffer'](_0x1565c6);this['indexBuffe'+'r']['length']=-0x1*0x437+0x4*0x7eb+-0x1b75,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x3a424f){this['indexBuffe'+'r'][_0x3a424f]&&(this['indexBuffe'+'r'][_0x3a424f]['destroy'](),this['indexBuffe'+'r'][_0x3a424f]=null);}['_initBoneA'+'abbs'](_0x4cd5fe){this['boneAabb']=[],this['boneUsed']=[];let _0x2f72ea,_0x592109,_0x3fd07f,_0x3d75fe,_0x2d538b;const _0x27e33f=[],_0x33d921=[],_0x381c75=this['boneUsed'],_0x4cd559=this['skin']['boneNames']['length'];let _0x267f7d,_0x1d47e8,_0x1b4af9;for(let _0x43d50d=-0x13cf+0x152d+-0x2*0xaf;_0x43d50d<_0x4cd559;_0x43d50d++)_0x27e33f[_0x43d50d]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x33d921[_0x43d50d]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x11bb4c=new go(this['vertexBuff'+'er']),_0x54db0f=_0x11bb4c['element'][He],_0xe8bed3=_0x11bb4c['element'][Ys],_0x2603a9=_0x11bb4c['element'][jt],_0x44b857=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x15d2f3=0x5*0xf9+-0x24b6+-0x1fd9*-0x1;_0x15d2f3<_0x44b857;_0x15d2f3++){for(let _0x14e942=0x98*0x29+-0x137*-0x1+-0x198f;_0x14e942<0xaba+-0x1566+0xab0;_0x14e942++)if(_0xe8bed3['array'][_0xe8bed3['index']+_0x14e942]>-0x6*0x5f+0xc9*-0x25+-0x1d7*-0x11){const _0x45e28a=_0x2603a9['array'][_0x2603a9['index']+_0x14e942];if(_0x381c75[_0x45e28a]=!(-0x2005+0x20ea+-0xe5),_0x2f72ea=_0x54db0f['array'][_0x54db0f['index']],_0x592109=_0x54db0f['array'][_0x54db0f['index']+(-0x1f00+-0xe01+0x2d02)],_0x3fd07f=_0x54db0f['array'][_0x54db0f['index']+(-0x7b2+0x1a86+0x12d2*-0x1)],_0x3d75fe=_0x33d921[_0x45e28a],_0x2d538b=_0x27e33f[_0x45e28a],_0x2d538b['x']>_0x2f72ea&&(_0x2d538b['x']=_0x2f72ea),_0x2d538b['y']>_0x592109&&(_0x2d538b['y']=_0x592109),_0x2d538b['z']>_0x3fd07f&&(_0x2d538b['z']=_0x3fd07f),_0x3d75fe['x']<_0x2f72ea&&(_0x3d75fe['x']=_0x2f72ea),_0x3d75fe['y']<_0x592109&&(_0x3d75fe['y']=_0x592109),_0x3d75fe['z']<_0x3fd07f&&(_0x3d75fe['z']=_0x3fd07f),_0x4cd5fe){let _0x26885c=_0x267f7d=_0x2f72ea,_0x28eb20=_0x1d47e8=_0x592109,_0x31690c=_0x1b4af9=_0x3fd07f;for(let _0x28a9d5=-0x1ad1+-0x35*0x89+-0x3f1*-0xe;_0x28a9d5<_0x4cd5fe['length'];_0x28a9d5++){const _0x43e8fa=_0x4cd5fe[_0x28a9d5],_0x4cde89=_0x43e8fa['deltaPosit'+'ions'][_0x15d2f3*(0x39*-0x7a+-0x2a0+0x1dcd)],_0x44626d=_0x43e8fa['deltaPosit'+'ions'][_0x15d2f3*(0xaa2+-0x1d6*-0x11+-0x29d5)+(-0x135f+-0x124f+0x25af)],_0x35d441=_0x43e8fa['deltaPosit'+'ions'][_0x15d2f3*(-0x36d*0x5+0x4f*-0x3d+0x23f7)+(-0x77d*-0x2+0x1906+0x1*-0x27fe)];_0x4cde89<0x1e77+0x1baa*-0x1+-0x2cd?_0x26885c+=_0x4cde89:_0x267f7d+=_0x4cde89,_0x44626d<0x2bf*0x5+0x15f*-0x12+0xaf3*0x1?_0x28eb20+=_0x44626d:_0x1d47e8+=_0x44626d,_0x35d441<-0x969*0x1+0x476*0x8+-0x7*0x3c1?_0x31690c+=_0x35d441:_0x1b4af9+=_0x35d441;}_0x2d538b['x']>_0x26885c&&(_0x2d538b['x']=_0x26885c),_0x2d538b['y']>_0x28eb20&&(_0x2d538b['y']=_0x28eb20),_0x2d538b['z']>_0x31690c&&(_0x2d538b['z']=_0x31690c),_0x3d75fe['x']<_0x267f7d&&(_0x3d75fe['x']=_0x267f7d),_0x3d75fe['y']<_0x1d47e8&&(_0x3d75fe['y']=_0x1d47e8),_0x3d75fe['z']<_0x1b4af9&&(_0x3d75fe['z']=_0x1b4af9);}}_0x11bb4c['next']();}const _0x1efb04=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0xfd771=>_0xfd771['name']===He);if(_0x1efb04&&_0x1efb04['normalize']){const _0x436ace=((()=>{switch(_0x1efb04['dataType']){case Ic:return _0x325602=>Math['max'](_0x325602/(-0xc53*0x1+-0x3*0x989+0x296d),-(-0xa30+0x1197+-0x766));case Kr:return _0x2838b0=>_0x2838b0/(-0x24c3+-0x1eee+-0x1c*-0x274);case Dc:return _0x39c595=>Math['max'](_0x39c595/(-0x3b82*0x1+0x2*0x2e1f+0x5f43),-(0x1dd4+0x9*0x19d+0x18*-0x1d9));case el:return _0x542faa=>_0x542faa/(0x3*-0x90e+0x1b90d*0x1+-0x9de4);default:return _0x464406=>_0x464406;}})());for(let _0x4d0738=-0x265a+-0x3d*-0x13+-0x7*-0x4d5;_0x4d0738<_0x4cd559;_0x4d0738++)if(_0x381c75[_0x4d0738]){const _0x2db70c=_0x27e33f[_0x4d0738],_0x297e9f=_0x33d921[_0x4d0738];_0x2db70c['set'](_0x436ace(_0x2db70c['x']),_0x436ace(_0x2db70c['y']),_0x436ace(_0x2db70c['z'])),_0x297e9f['set'](_0x436ace(_0x297e9f['x']),_0x436ace(_0x297e9f['y']),_0x436ace(_0x297e9f['z']));}}for(let _0x4e26fc=-0x83*-0x1+0x3*0x3af+0x94*-0x14;_0x4e26fc<_0x4cd559;_0x4e26fc++){const _0x3f10c5=new _e();_0x3f10c5['setMinMax'](_0x27e33f[_0x4e26fc],_0x33d921[_0x4e26fc]),this['boneAabb']['push'](_0x3f10c5);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x1baf+0x3*-0xbf3+-0x6e*-0x13&&this['indexBuffe'+'r'][0x25ca+-0xf91+-0x1639]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x1*-0xfc9+-0x1993+0x9ca]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x24dc+-0xd*-0x18f+0x7*0x25f]['numIndices']));}['clear'](_0x40f2ce,_0x42b940,_0x34286c=0x5*-0x7bf+0x83*-0x1e+0x3615,_0x409a3e=-0x12a9*0x1+0xf6e+0x33b*0x1){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x1885+0x1fbe*0x1+0x3843*-0x1),this['_geometryD'+'ata']['maxVertice'+'s']=_0x34286c,this['_geometryD'+'ata']['maxIndices']=_0x409a3e,this['_geometryD'+'ata']['verticesUs'+'age']=_0x40f2ce?Kt:Ah,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x42b940?Kt:Ah;}['setVertexS'+'tream'](_0x5f4446,_0xad6de9,_0x44da81,_0x12936b,_0x3a9f99=Ce,_0x48c51e=!(0x6c7+-0xc57+0x591),_0x3eb30e=!(0xe45+0x10ff*-0x2+0x13ba)){this['_initGeome'+'tryData']();const _0x253445=_0x12936b||_0xad6de9['length']/_0x44da81;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x253445,_0x5f4446),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x1*-0x496+-0x1a*-0x17d+-0x221c),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5f4446]=new JC(_0xad6de9,_0x44da81,_0x3a9f99,_0x48c51e,_0x3eb30e);}['getVertexS'+'tream'](_0xaea2fb,_0x1e10de){let _0xce9068=0xc85*-0x1+-0x2*-0xadf+0x3*-0x313,_0x309180=!(0x15cb+0xdce+0x11cc*-0x2);if(this['_geometryD'+'ata']){const _0xc6938d=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xaea2fb];_0xc6938d&&(_0x309180=!(-0x218*0x12+0x18e*-0x9+0x33ae),_0xce9068=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x1e10de)?_0x1e10de['set'](_0xc6938d['data']):(_0x1e10de['length']=0x945+0x184*0xb+-0x19f1,_0x1e10de['push'](_0xc6938d['data'])));}return _0x309180||this['vertexBuff'+'er']&&(_0xce9068=new go(this['vertexBuff'+'er'])['readData'](_0xaea2fb,_0x1e10de)),_0xce9068;}['setPositio'+'ns'](_0x14c22a,_0x589195=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x20d506){this['setVertexS'+'tream'](He,_0x14c22a,_0x589195,_0x20d506,Ce,!(0x2537+0x399*-0x7+0xc07*-0x1));}['setNormals'](_0x1d955f,_0x5d57c8=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x40ecc9){this['setVertexS'+'tream'](Zt,_0x1d955f,_0x5d57c8,_0x40ecc9,Ce,!(-0x414+0x21b0+-0x1d9b));}['setUvs'](_0x1164a1,_0x41fe06,_0x5e3f11=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x1e5dda){this['setVertexS'+'tream'](om+_0x1164a1,_0x41fe06,_0x5e3f11,_0x1e5dda,Ce,!(0x1efe+-0x1d94+-0x169));}['setColors'](_0x131608,_0x3a9cab=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x242718){this['setVertexS'+'tream'](Et,_0x131608,_0x3a9cab,_0x242718,Ce,!(0x9*-0x1d+0x5cb*-0x4+-0xc19*-0x2));}['setColors3'+'2'](_0x255350,_0x2c609b){this['setVertexS'+'tream'](Et,_0x255350,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2c609b,Kr,!(0x5c+-0x12b*0x1+0x1*0xcf));}['setIndices'](_0x450658,_0x494516){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x2413+0x23f1+0x22),this['_geometryD'+'ata']['indices']=_0x450658,this['_geometryD'+'ata']['indexCount']=_0x494516||_0x450658['length'];}['getPositio'+'ns'](_0x641e64){return this['getVertexS'+'tream'](He,_0x641e64);}['getNormals'](_0xb2d8b5){return this['getVertexS'+'tream'](Zt,_0xb2d8b5);}['getUvs'](_0x49188d,_0x33f42a){return this['getVertexS'+'tream'](om+_0x49188d,_0x33f42a);}['getColors'](_0x34f650){return this['getVertexS'+'tream'](Et,_0x34f650);}['getIndices'](_0x4cfa38){let _0x4219e1=-0x11*-0x1a3+-0x207d+0x4aa;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x6f3cdf=this['_geometryD'+'ata']['indices'];if(_0x4219e1=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x4cfa38))_0x4cfa38['set'](_0x6f3cdf);else{_0x4cfa38['length']=0x5b*-0x2f+-0x988+0x1a3d;for(let _0x5c6c77=0x455+-0x152b+0x10d6,_0x55efa2=_0x6f3cdf['length'];_0x5c6c77<_0x55efa2;_0x5c6c77++)_0x4cfa38['push'](_0x6f3cdf[_0x5c6c77]);}}else this['indexBuffe'+'r']['length']>0x12*0x116+0xaf2+-0x1e7e&&this['indexBuffe'+'r'][-0xa10+-0x6d3+0x10e3]&&(_0x4219e1=this['indexBuffe'+'r'][0x1b74*0x1+-0xf5f+0x1*-0xc15]['readData'](_0x4cfa38));return _0x4219e1;}['update'](_0x567e9d=Rs,_0x83b432=!(-0x1297*-0x1+0x368*-0x4+-0x4f7)){if(this['_geometryD'+'ata']){if(_0x83b432){const _0x3d9949=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x3d9949&&_0x3d9949['componentC'+'ount']===0x1*0xbce+0x1ebe+-0x2a89&&(this['_aabb']['compute'](_0x3d9949['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x470c43=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x470c43=!(0x296*0x7+-0x9e1+-0x839),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x470c43&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x113377=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x113377=!(0x6*-0x49e+-0xfe*-0x4+0xd9*0x1c),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x113377&&this['indexBuffe'+'r']['length']>-0x9b4+-0xcd5+0x1689&&this['indexBuffe'+'r'][-0x1af*-0x11+0x204c+0x5*-0xc2f]&&(this['indexBuffe'+'r'][0x19db*-0x1+0x61f*0x2+0xd9d]['destroy'](),this['indexBuffe'+'r'][0x1a69+0x8*0x463+-0x3d81]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x2488+-0x2eb*-0x8+-0x1df*0x20]['type']=_0x567e9d,this['indexBuffe'+'r']['length']>0x1863*-0x1+-0x320*-0x4+0xbe3&&this['indexBuffe'+'r'][0x1a1e+0x1330+0x2*-0x16a7]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x610+0x2*0xb5e+-0x1ccc]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x2c7*0x7+-0x1c8f+0x91e]['indexed']=!(0x94a+-0x10bf+0x775)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0xb24+0x1e3e+0x5*-0x3d2]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0xcc4*0x2+-0x1*-0x2222+-0x89a]['indexed']=!(0x3cd+0x2228+-0x25f4)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0xd74+-0x1fd6+0x16*0x20f,this['_geometryD'+'ata']['indexCount']=0x1cd4+0x1*-0xf51+-0xd83,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x15c+-0x566+0x6c3),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x38f+-0x248c+0x67*0x52),this['_geometryD'+'ata']['recreate']=!(-0x157*-0x2+-0x2296+0x185*0x15),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x8cf7d6){const _0x2eec41=[];for(const _0x5e9480 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x25a287=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5e9480];_0x2eec41['push']({'semantic':_0x5e9480,'components':_0x25a287['componentC'+'ount'],'type':_0x25a287['dataType'],'normalize':_0x25a287['dataTypeNo'+'rmalize'],'asInt':_0x25a287['asInt']});}return new Mt(this['device'],_0x2eec41,_0x8cf7d6);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x5c717c=this['_geometryD'+'ata']['maxVertice'+'s'],_0x3d11bb=this['_buildVert'+'exFormat'](_0x5c717c);this['vertexBuff'+'er']=new hs(this['device'],_0x3d11bb,_0x5c717c,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0xa58d9=new go(this['vertexBuff'+'er']),_0x5afb3c=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x422da0 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x149d3c=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x422da0];_0xa58d9['writeData'](_0x422da0,_0x149d3c['data'],_0x5afb3c),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x422da0];}_0xa58d9['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x1980+-0x1272*0x1+-0x70e||!this['indexBuffe'+'r'][-0x460*0x2+-0xc*0x1a5+0x1c7c*0x1]){const _0x39eaa9=this['_geometryD'+'ata']['maxVertice'+'s'],_0x191fc8=_0x39eaa9>0x185e8+0x16273+-0x14*0x186b||_0x39eaa9===0x216d+0x4f*-0x78+0x39b?ar:Ii,_0xa02682=this['_storageIn'+'dex']?{'storage':!(0x79f+-0x215a+0x7*0x3ad)}:void(0x1839+-0x1*0xc0b+-0xc2e*0x1);this['indexBuffe'+'r'][-0x1224+-0x123a+0x245e]=new hr(this['device'],_0x191fc8,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x1f49*-0x1+0x114d*0x2+-0x41e3),_0xa02682);}const _0x33b648=this['_geometryD'+'ata']['indices'];_0x33b648&&(this['indexBuffe'+'r'][0x1*0xf0b+0xb1e+0x25*-0xb5]['writeData'](_0x33b648,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x9478b7){_0x9478b7===Dr?this['generateWi'+'reframe']():_0x9478b7===Al&&(this['primitive'][Al]={'type':Pc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x104b+-0x13*0x1d2+0xdf*0x15,'indexed':!(-0x13*-0x2d+-0x1543*-0x1+-0x1899)});}['updateRend'+'erStates'](){this['primitive'][Al]&&this['prepareRen'+'derState'](Al),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x22e3c1=this['vertexBuff'+'er']['numVertice'+'s'],_0x57cd88=[];let _0x31cf04;if(this['indexBuffe'+'r']['length']>-0x489+0x6e*0x59+0x1*-0x21b5&&this['indexBuffe'+'r'][0x1dec+0x3f*-0x71+-0x21d]){const _0x2e8e8b=[[-0x1079*-0x2+0x1d*-0x61+-0x15f5,-0x1*-0x1085+0x6a*-0x7+0x7*-0x1f2],[-0x13f2+0xd9a*0x2+-0x26b*0x3,-0x1302+0x1ae3+-0x7df],[0x17*-0x195+-0x1*0x12b9+0x371e,0x17aa+-0x5e0+-0x11ca]],_0x4d4d51=this['primitive'][yo]['base'],_0x25a4d2=this['primitive'][yo]['count'],_0x2bcfc7=this['indexBuffe'+'r'][yo],_0x242308=new Fh[_0x2bcfc7['format']](_0x2bcfc7['storage']),_0x525be3=new Set();for(let _0x5b946a=_0x4d4d51;_0x5b946a<_0x4d4d51+_0x25a4d2;_0x5b946a+=0x1598+0x31c*-0xb+0xc9f)for(let _0x6c2493=-0x26ee+0x1a28+0xcc6;_0x6c2493<-0x201b*-0x1+0x7*0x172+0x2*-0x151b;_0x6c2493++){const _0x5ded14=_0x242308[_0x5b946a+_0x2e8e8b[_0x6c2493][-0x43c*0x8+-0x4a*0x49+0x3e*0xe3]],_0x30005d=_0x242308[_0x5b946a+_0x2e8e8b[_0x6c2493][-0x505+-0x4d0+0x9d6]],_0x20b881=_0x5ded14>_0x30005d?_0x30005d*_0x22e3c1+_0x5ded14:_0x5ded14*_0x22e3c1+_0x30005d;_0x525be3['has'](_0x20b881)||(_0x525be3['add'](_0x20b881),_0x57cd88['push'](_0x5ded14,_0x30005d));}_0x31cf04=_0x2bcfc7['format'];}else{for(let _0x5ca329=-0x4*-0x494+-0x8*-0x470+-0xf6*0x38;_0x5ca329<_0x22e3c1;_0x5ca329+=-0x771*0x3+0x2*0xf1c+-0x1*0x7e2)_0x57cd88['push'](_0x5ca329,_0x5ca329+(-0x2c*-0xcf+-0x2a9*-0xd+-0x4628),_0x5ca329+(0xabd*-0x3+-0x2fd+0x2335),_0x5ca329+(-0x12f9+-0x26dd+0x39d8),_0x5ca329+(0x272+0x1*-0xbdb+0x96b),_0x5ca329);_0x31cf04=_0x57cd88['length']>0xf1*0x180+0x17f3*-0xd+0xcdd6?ar:Ii;}const _0x498170=new hr(this['vertexBuff'+'er']['device'],_0x31cf04,_0x57cd88['length']);new Fh[_0x498170['format']](_0x498170['storage'])['set'](_0x57cd88),_0x498170['unlock'](),this['primitive'][Dr]={'type':Rc,'base':0x0,'count':_0x57cd88['length'],'indexed':!(0x1927+0x2*-0xeac+0x431)},this['indexBuffe'+'r'][Dr]=_0x498170;}}const Gm=new q(),_d=new T(),Hm=new te(),gd=new te(),Wm=new T(),$m=new T(),eE=new q(),tE=new te(),Nt=new T(),Ha=new q(),zt=new te(),Cn=new te(),qm=new q(),yd=new T(),El=new T();function Xm(_0x11ce7e,_0x2f387c){return _0x11ce7e instanceof Function?_0x11ce7e:_0x59304b=>{let _0x29e6b9=_0x59304b[_0x11ce7e];return _0x29e6b9 instanceof Function&&(_0x29e6b9=_0x29e6b9()),_0x29e6b9===_0x2f387c;};}function w0(_0xf6ea8b,_0x58dda7){if(_0x58dda7(_0xf6ea8b))return _0xf6ea8b;const _0x203d19=_0xf6ea8b['_children'],_0x457920=_0x203d19['length'];for(let _0xae2bab=0x169*0xe+-0xe*0x21e+0x9e6;_0xae2bab<_0x457920;++_0xae2bab){const _0x4f0861=w0(_0x203d19[_0xae2bab],_0x58dda7);if(_0x4f0861)return _0x4f0861;}return null;}class De extends ce{constructor(_0x49c1d6='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new te()),c(this,'localScale',new T(-0x1ecd+-0x445*0x3+0x37*0xcb,-0x3*-0x579+-0x2513+-0x14a9*-0x1,0x992*-0x1+0x61*-0x10+0xfa3*0x1)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new te()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(0x29*-0x8b+-0x1db0+0x33f4)),c(this,'_aabbVer',-0x1*-0x26d2+0xb11+-0x21*0x183),c(this,'_frozen',!(-0x1cd2+0xaaa+-0x1*-0x1229)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0x2f8+0x1*0x12a7+-0xfae)),c(this,'_worldScal'+'eSign',-0x133c+0x1*-0x1ead+0x31e9),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(-0x2*-0xeab+0x26c9+0x3*-0x16b5)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',-0x1c8d*-0x1+0x24e4+0x1*-0x4171),c(this,'_enabled',!(0x2075*-0x1+0x53b+0x1b3a)),c(this,'_enabledIn'+'Hierarchy',!(-0x9e*0x38+0x24d8+-0x1*0x247)),c(this,'scaleCompe'+'nsation',!(-0x1*0x14c9+0x2350+-0x1*0xe86)),this['name']=_0x49c1d6;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x1fbe+-0x24a6+-0x1a3*-0x3));}get['normalMatr'+'ix'](){const _0x3a5c09=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x3a5c09['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x1c8+0x1*0x97a+-0xb*0xb3)),_0x3a5c09;}set['enabled'](_0x164415){var _0x69d9e9;this['_enabled']!==_0x164415&&(this['_enabled']=_0x164415,(_0x164415&&((_0x69d9e9=this['_parent'])!=null&&_0x69d9e9['enabled'])||!_0x164415)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x164415));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x736fbe=this['_parent'];if(!_0x736fbe)return'';let _0x534677=this['name'];for(;_0x736fbe&&_0x736fbe['_parent'];)_0x534677=_0x736fbe['name']+'/'+_0x534677,_0x736fbe=_0x736fbe['_parent'];return _0x534677;}get['root'](){let _0x502a0b=this;for(;_0x502a0b['_parent'];)_0x502a0b=_0x502a0b['_parent'];return _0x502a0b;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x53a196,_0x4fb312){_0x53a196['_onHierarc'+'hyStateCha'+'nged'](_0x4fb312);const _0xac2e5a=_0x53a196['_children'];for(let _0x132aec=0x19e8+0x2352+0x1cd*-0x22,_0x1ff7aa=_0xac2e5a['length'];_0x132aec<_0x1ff7aa;_0x132aec++)_0xac2e5a[_0x132aec]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0xac2e5a[_0x132aec],_0x4fb312);}['_onHierarc'+'hyStateCha'+'nged'](_0x134150){this['_enabledIn'+'Hierarchy']=_0x134150,_0x134150&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x2365b0){_0x2365b0['name']=this['name'];const _0x2cb9dc=this['tags']['_list'];_0x2365b0['tags']['clear']();for(let _0x590407=0xe06+-0x2e9*-0x8+-0x254e;_0x590407<_0x2cb9dc['length'];_0x590407++)_0x2365b0['tags']['add'](_0x2cb9dc[_0x590407]);_0x2365b0['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x2365b0['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x2365b0['localScale']['copy'](this['localScale']),_0x2365b0['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x2365b0['position']['copy'](this['position']),_0x2365b0['rotation']['copy'](this['rotation']),_0x2365b0['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x2365b0['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x2365b0['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x2365b0['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x2365b0['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x2365b0['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x2365b0['_aabbVer']=this['_aabbVer']+(0x1003*-0x1+0xb78+0x48c),_0x2365b0['_enabled']=this['_enabled'],_0x2365b0['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x2365b0['_enabledIn'+'Hierarchy']=!(-0x14c7*-0x1+-0x15f3+-0x7*-0x2b);}['clone'](){const _0x4d7e39=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x4d7e39),_0x4d7e39;}['copy'](_0x87c9af){return _0x87c9af['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x31e691=this['_children'];for(;_0x31e691['length'];){const _0x295fed=_0x31e691['pop']();_0x295fed['_parent']=null,_0x295fed['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x26a00b,_0xcefb1f){const _0x3cd092=[],_0xd10d54=Xm(_0x26a00b,_0xcefb1f);return this['forEach'](_0x519a2f=>{_0xd10d54(_0x519a2f)&&_0x3cd092['push'](_0x519a2f);}),_0x3cd092;}['findOne'](_0x54b7c5,_0x5ea2f9){const _0x2ce84c=Xm(_0x54b7c5,_0x5ea2f9);return w0(this,_0x2ce84c);}['findByTag'](){const _0x5d2838=arguments,_0xf5d634=[],_0x5dd38e=(_0x33b660,_0x1036f5)=>{_0x1036f5&&_0x33b660['tags']['has'](..._0x5d2838)&&_0xf5d634['push'](_0x33b660);for(let _0x865c6=0x2*0xc05+0x22d*0x7+-0x2745;_0x865c6<_0x33b660['_children']['length'];_0x865c6++)_0x5dd38e(_0x33b660['_children'][_0x865c6],!(-0x49*0x20+-0x11c6+-0xd73*-0x2));};return _0x5dd38e(this,!(0x1*-0xb3c+0x17a3+-0xc66)),_0xf5d634;}['findByName'](_0x41fa75){return this['findOne']('name',_0x41fa75);}['findByPath'](_0x4aa99c){const _0x32b5c7=Array['isArray'](_0x4aa99c)?_0x4aa99c:_0x4aa99c['split']('/');let _0x421816=this;for(let _0x212220=0x411+-0x1*-0x13bf+-0x1*0x17d0,_0x22a0bf=_0x32b5c7['length'];_0x212220<_0x22a0bf;++_0x212220)if(_0x421816=_0x421816['children']['find'](_0x52da8a=>_0x52da8a['name']===_0x32b5c7[_0x212220]),!_0x421816)return null;return _0x421816;}['forEach'](_0x1ead8b,_0x3ef7fe){_0x1ead8b['call'](_0x3ef7fe,this);const _0x53e931=this['_children'],_0xd0034b=_0x53e931['length'];for(let _0x41e878=-0x2010+0x18d9+0x737;_0x41e878<_0xd0034b;++_0x41e878)_0x53e931[_0x41e878]['forEach'](_0x1ead8b,_0x3ef7fe);}['isDescenda'+'ntOf'](_0x570225){let _0x3c43ea=this['_parent'];for(;_0x3c43ea;){if(_0x3c43ea===_0x570225)return!(-0xf+-0x14fe+0x150d);_0x3c43ea=_0x3c43ea['_parent'];}return!(0x28*0x89+-0x406*0x1+-0x1*0x1161);}['isAncestor'+'Of'](_0x5cd12b){return _0x5cd12b['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x215*0x8+-0x41*0x7+-0xee0)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x1526+-0x97*0x9+-0xfd7&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x20f934;(_0x20f934=this['_parent'])==null||_0x20f934['removeChil'+'d'](this);}['reparent'](_0x3ba389,_0x6d909f){this['remove'](),_0x3ba389&&(_0x6d909f>=0x173b+0x911*0x1+-0x204c?_0x3ba389['insertChil'+'d'](this,_0x6d909f):_0x3ba389['addChild'](this));}['setLocalEu'+'lerAngles'](_0x15e19c,_0x1d4dde,_0x13c940){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x15e19c,_0x1d4dde,_0x13c940),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x2caaa7,_0x2241bc,_0x4cd609){_0x2caaa7 instanceof T?this['localPosit'+'ion']['copy'](_0x2caaa7):this['localPosit'+'ion']['set'](_0x2caaa7,_0x2241bc,_0x4cd609),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x3dda08,_0x37c254,_0x383bdb,_0x2a359d){_0x3dda08 instanceof te?this['localRotat'+'ion']['copy'](_0x3dda08):this['localRotat'+'ion']['set'](_0x3dda08,_0x37c254,_0x383bdb,_0x2a359d),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x5f57c8,_0x1a4de7,_0x4b45ce){_0x5f57c8 instanceof T?this['localScale']['copy'](_0x5f57c8):this['localScale']['set'](_0x5f57c8,_0x1a4de7,_0x4b45ce),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x48f+-0xfb*-0xf+-0x1344),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x42c8ba=this['_parent'];for(;_0x42c8ba;)_0x42c8ba['_frozen']=!(0x115d+0x3*0x3c9+0x1cb7*-0x1),_0x42c8ba=_0x42c8ba['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x2187+0x1d0a+-0x3e90),this['_dirtyWorl'+'d']=!(0x1386+-0x649+-0xd3d);for(let _0x2f7349=0x6d*0x43+0x1*0xa06+0x47*-0x8b;_0x2f7349<this['_children']['length'];_0x2f7349++)this['_children'][_0x2f7349]['_dirtyWorl'+'d']||this['_children'][_0x2f7349]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x179e*0x1+0x3e8*-0x9+0xb8a),this['_worldScal'+'eSign']=0x1b78+-0x1*0x257+0x7*-0x397,this['_aabbVer']++;}['setPositio'+'n'](_0x23b0af,_0x2e29e4,_0x73705d){_0x23b0af instanceof T?Nt['copy'](_0x23b0af):Nt['set'](_0x23b0af,_0x2e29e4,_0x73705d),this['_parent']===null?this['localPosit'+'ion']['copy'](Nt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](Nt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x27a6e9,_0xa895a6,_0x1e0584,_0x25fed6){if(_0x27a6e9 instanceof te?zt['copy'](_0x27a6e9):zt['set'](_0x27a6e9,_0xa895a6,_0x1e0584,_0x25fed6),this['_parent']===null)this['localRotat'+'ion']['copy'](zt);else{const _0x56cd82=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x56cd82)['invert'](),this['localRotat'+'ion']['copy'](Cn)['mul'](zt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x489be3,_0x410f7c){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x489be3),this['localRotat'+'ion']['copy'](_0x410f7c);else{const _0x2a6227=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x2a6227)['invert'](),Ha['transformP'+'oint'](_0x489be3,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x410f7c);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x438454,_0x2bf427,_0x4396fb){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x438454,_0x2bf427,_0x4396fb),this['_parent']!==null){const _0x3a856e=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x3a856e)['invert'](),this['localRotat'+'ion']['mul2'](Cn,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x2b35ff){this['_prepareIn'+'sertChild'](_0x2b35ff),this['_children']['push'](_0x2b35ff),this['_onInsertC'+'hild'](_0x2b35ff);}['addChildAn'+'dSaveTrans'+'form'](_0x3f020f){const _0x1146aa=_0x3f020f['getPositio'+'n'](),_0x5ab435=_0x3f020f['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x3f020f),_0x3f020f['setPositio'+'n'](eE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x1146aa)),_0x3f020f['setRotatio'+'n'](tE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x5ab435)),this['_children']['push'](_0x3f020f),this['_onInsertC'+'hild'](_0x3f020f);}['insertChil'+'d'](_0x442189,_0x1e3786){this['_prepareIn'+'sertChild'](_0x442189),this['_children']['splice'](_0x1e3786,0x23e9+0x187+0x10*-0x257,_0x442189),this['_onInsertC'+'hild'](_0x442189);}['_prepareIn'+'sertChild'](_0x1b9751){_0x1b9751['remove'](),v['assert'](_0x1b9751!==this,'GraphNode\x20'+(_0x1b9751==null?void(0x1*-0x365+0x6*-0x35+0x4a3):_0x1b9751['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x1b9751),'GraphNode\x20'+(_0x1b9751==null?void(0x1986+-0x205a*0x1+0x26*0x2e):_0x1b9751['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x2c4217,_0x1b30da,_0x45d39e){this['fire'](_0x2c4217,_0x45d39e);for(let _0x2037a3=-0xf*0x259+-0x9a4+0x2cdb;_0x2037a3<this['_children']['length'];_0x2037a3++)this['_children'][_0x2037a3]['_fireOnHie'+'rarchy'](_0x1b30da,_0x1b30da,_0x45d39e);}['_onInsertC'+'hild'](_0x87212d){_0x87212d['_parent']=this;const _0x5dee31=_0x87212d['_enabled']&&this['enabled'];_0x87212d['_enabledIn'+'Hierarchy']!==_0x5dee31&&(_0x87212d['_enabledIn'+'Hierarchy']=_0x5dee31,_0x87212d['_notifyHie'+'rarchyStat'+'eChanged'](_0x87212d,_0x5dee31)),_0x87212d['_updateGra'+'phDepth'](),_0x87212d['_dirtifyWo'+'rld'](),this['_frozen']&&_0x87212d['_unfreezeP'+'arentToRoo'+'t'](),_0x87212d['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x87212d);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0xf4d+0x3d*0x3b+-0x1d5b):-0x49d*0x2+0x5*-0x3f+-0x1*-0xa75;for(let _0x5a6a8b=0x1ba5+0xb0c+0x7*-0x587,_0x31d242=this['_children']['length'];_0x5a6a8b<_0x31d242;_0x5a6a8b++)this['_children'][_0x5a6a8b]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x1fb7e3){const _0x330898=this['_children']['indexOf'](_0x1fb7e3);_0x330898!==-(-0xe5e*0x2+0xe3*-0x3+0x1f66)&&(this['_children']['splice'](_0x330898,0x166e+-0xbf*-0x17+0x2*-0x13cb),_0x1fb7e3['_parent']=null,_0x1fb7e3['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x1fb7e3));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x14fa+-0x34d+0x3a*-0x4e)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x573c2c;const _0x333d82=this['_parent'];let _0x303585=this['localScale'],_0x3363f2=_0x333d82;if(_0x3363f2){for(;_0x3363f2&&_0x3363f2['scaleCompe'+'nsation'];)_0x3363f2=_0x3363f2['_parent'];_0x3363f2&&(_0x3363f2=_0x3363f2['_parent'],_0x3363f2&&(_0x573c2c=_0x3363f2['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x573c2c,this['localScale']),_0x303585=Wm));}gd['setFromMat'+'4'](_0x333d82['worldTrans'+'form']),Hm['mul2'](gd,this['localRotat'+'ion']);let _0x3a5a16=_0x333d82['worldTrans'+'form'];_0x333d82['scaleCompe'+'nsation']&&($m['mul2'](_0x573c2c,_0x333d82['getLocalSc'+'ale']()),Gm['setTRS'](_0x333d82['worldTrans'+'form']['getTransla'+'tion'](_d),gd,$m),_0x3a5a16=Gm),_0x3a5a16['transformP'+'oint'](this['localPosit'+'ion'],_d),this['worldTrans'+'form']['setTRS'](_d,Hm,_0x303585);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x1*-0x1cc3+0x8a4*0x1+-0x17*-0xe0);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x1*-0x1a3f+-0x5*0x4b2+0x31b9),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x3d93c4=this['_children'];for(let _0x2dcc68=-0x1698+0x1e21+0x3*-0x283,_0xfd386d=_0x3d93c4['length'];_0x2dcc68<_0xfd386d;_0x2dcc68++)_0x3d93c4[_0x2dcc68]['syncHierar'+'chy']();}['lookAt'](_0x528809,_0x1bb3fc,_0x394893,_0x3b6965=-0x1*-0x846+-0x1d8+0x2*-0x337,_0x550ce6=-0x1*-0x813+0x1e2a+-0x263c*0x1,_0x98b708=-0xb63+-0x9b9*0x3+-0x288e*-0x1){if(_0x528809 instanceof T)yd['copy'](_0x528809),_0x1bb3fc instanceof T?El['copy'](_0x1bb3fc):El['copy'](T['UP']);else{if(_0x394893===void(0x5*-0x35c+0x3*-0x275+-0x17*-0x10d))return;yd['set'](_0x528809,_0x1bb3fc,_0x394893),El['set'](_0x3b6965,_0x550ce6,_0x98b708);}qm['setLookAt'](this['getPositio'+'n'](),yd,El),zt['setFromMat'+'4'](qm),this['setRotatio'+'n'](zt);}['translate'](_0x1ed2eb,_0x1f5ba6,_0x314bc3){_0x1ed2eb instanceof T?Nt['copy'](_0x1ed2eb):Nt['set'](_0x1ed2eb,_0x1f5ba6,_0x314bc3),Nt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](Nt);}['translateL'+'ocal'](_0x1ee277,_0xb8920d,_0x42e442){_0x1ee277 instanceof T?Nt['copy'](_0x1ee277):Nt['set'](_0x1ee277,_0xb8920d,_0x42e442),this['localRotat'+'ion']['transformV'+'ector'](Nt,Nt),this['localPosit'+'ion']['add'](Nt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x4d6c2d,_0x5dff6d,_0x3c6ed9){if(zt['setFromEul'+'erAngles'](_0x4d6c2d,_0x5dff6d,_0x3c6ed9),this['_parent']===null)this['localRotat'+'ion']['mul2'](zt,this['localRotat'+'ion']);else{const _0x6d50fe=this['getRotatio'+'n'](),_0x17915e=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x17915e)['invert'](),zt['mul2'](Cn,zt),this['localRotat'+'ion']['mul2'](zt,_0x6d50fe);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x3ef375,_0x5ca379,_0x373046){zt['setFromEul'+'erAngles'](_0x3ef375,_0x5ca379,_0x373046),this['localRotat'+'ion']['mul'](zt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Bt();function al(_0x2ea28e){const _0xf51816=T0['get'](_0x2ea28e);return v['assert'](_0xf51816),_0xf51816;}function sE(_0x2ff77d,_0x2c657d){v['assert'](_0x2c657d),T0['get'](_0x2ff77d,()=>_0x2c657d);}class iE{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x4071aa,_0x24b453)=>{_0x24b453['destroy']();}),this['cache']['clear']();}['incRef'](_0x379d22){const _0x42129b=(this['cache']['get'](_0x379d22)||0x13ed+-0x27b+0x1172*-0x1)+(0x155b+-0x2f5*-0xd+0x3bcb*-0x1);this['cache']['set'](_0x379d22,_0x42129b);}['decRef'](_0x26924b){if(_0x26924b){let _0x41e0d8=this['cache']['get'](_0x26924b);_0x41e0d8&&(_0x41e0d8--,_0x41e0d8===-0x1d56+-0x1d51+-0xbbb*-0x5?(this['cache']['delete'](_0x26924b),_0x26924b['destroy']()):this['cache']['set'](_0x26924b,_0x41e0d8));}}}class bi{static['incRef'](_0x20127c){this['cache']['incRef'](_0x20127c);}static['decRef'](_0x141013){this['cache']['decRef'](_0x141013);}static['destroy'](){this['cache']['destroy']();}}c(bi,'cache',new iE());let rE=-0x5ad+0xad*0x5+0x24c;const nE=new _e(),Ml=new _e(),xd=new Ff(),Sd=new Set(),yr=new Uint32Array(-0x3e*0x7+0xbc5*0x1+-0xa0f);class aE{constructor(_0x3fb576){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x68c*-0x2+-0x1037+0x14*0x28)),this['count']=_0x3fb576;}['destroy'](){var _0x524c95;this['_destroyVe'+'rtexBuffer']&&((_0x524c95=this['vertexBuff'+'er'])==null||_0x524c95['destroy']()),this['vertexBuff'+'er']=null;}}class oE{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x1177ef){if(!this['bindGroup']){const _0x26b7b6=this['shader'];v['assert'](_0x26b7b6);const _0x385cdf=_0x26b7b6['meshBindGr'+'oupFormat'];v['assert'](_0x385cdf),this['bindGroup']=new _p(_0x1177ef,_0x385cdf),_n['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x95b995){if(!this['uniformBuf'+'fer']){const _0x12aa40=this['shader'];v['assert'](_0x12aa40);const _0x373abc=_0x12aa40['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x373abc),this['uniformBuf'+'fer']=new yp(_0x95b995,_0x373abc,!(0x178e+0x1295+-0x2a22));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x5d31f6,_0x4bbcd3;(_0x5d31f6=this['bindGroup'])==null||_0x5d31f6['destroy'](),this['bindGroup']=null,(_0x4bbcd3=this['uniformBuf'+'fer'])==null||_0x4bbcd3['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x968c52,_0x274d86,_0x2f9543=null){c(this,'castShadow',!(0x1c97*0x1+-0xa8a*0x3+0x8*0x61)),c(this,'cull',!(-0xc80+-0x7ca+0x144a)),c(this,'drawOrder',-0x1*0x1e4+-0x7c6*-0x1+0x1f6*-0x3),c(this,'node'),c(this,'visible',!(-0x1df4+0xed8+0xf1c)),c(this,'visibleThi'+'sFrame',!(-0x12e+0x1*-0x1e08+0x83*0x3d)),c(this,'flipFacesF'+'actor',0x1*0x24f5+0x90f+-0x2e03*0x1),c(this,'gsplatInst'+'ance',null),c(this,'id',rE++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(0x1163+0x42b+0x2*-0xac7)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(-0x111f+0x1e95+-0xd75)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(-0x39b*-0x7+-0x15a3+-0x399)),c(this,'_aabbMeshV'+'er',-(-0x31*-0xa9+0x7*-0x2f5+-0xb*0x10f)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0xbe7+0x2cb+0xab*-0x16)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0xcf7+0x1*-0x68+0x5*-0x283,0x1*0x279+-0x19cd+0x1754*0x1]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0xa0c+0x1f91*-0x1+0x299d)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(-0x106d+0x3e0*-0x6+-0x2*-0x13d7)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',ds<<-0x7bd+0x2251+-0x1*0x1a84),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x968c52 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x2f9543,this['_mesh']=_0x968c52,_0x968c52['incRefCoun'+'t'](),this['material']=_0x274d86,_0x968c52['vertexBuff'+'er']){const _0x29d01b=_0x968c52['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x29d01b['hasUv0']?m0:-0x1fab+0x2bc+0x9*0x337,this['_shaderDef'+'s']|=_0x29d01b['hasUv1']?_0:0xd90+0x6*0x34a+-0x214c,this['_shaderDef'+'s']|=_0x29d01b['hasColor']?g0:-0x1*0x589+-0x1720+0x1ca9,this['_shaderDef'+'s']|=_0x29d01b['hasTangent'+'s']?Pp:0x224e+-0x355*-0x5+-0x32f7;}this['updateKey']();}set['renderStyl'+'e'](_0x40da69){this['_renderSty'+'le']=_0x40da69,this['mesh']['prepareRen'+'derState'](_0x40da69);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x59e7ed){_0x59e7ed!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x59e7ed,_0x59e7ed&&_0x59e7ed['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x17e849){this['_aabb']=_0x17e849;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x30e0d8=this['_customAab'+'b'],_0xe88f36=!!_0x30e0d8;if(!_0x30e0d8){if(_0x30e0d8=nE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x17bc2c=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x17bc2c);}const _0x30abe5=this['mesh']['boneUsed'];let _0x35de3b=!(0x2135+-0x2633+0x8e*0x9);for(let _0x18e71a=-0x14e2+0x9a8+0x59d*0x2;_0x18e71a<this['mesh']['boneAabb']['length'];_0x18e71a++)_0x30abe5[_0x18e71a]&&(Ml['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x18e71a],this['skinInstan'+'ce']['matrices'][_0x18e71a]),_0x35de3b?(_0x35de3b=!(-0x1e6c+-0x130e*-0x1+-0x1*-0xb5f),_0x30e0d8['center']['copy'](Ml['center']),_0x30e0d8['halfExtent'+'s']['copy'](Ml['halfExtent'+'s'])):_0x30e0d8['add'](Ml));_0xe88f36=!(0x24da*-0x1+0x9ac+0x1b2e);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x30e0d8['center']['copy'](this['mesh']['aabb']['center']),_0x30e0d8['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x30e0d8['center']['set'](-0x22bd+0x1971*-0x1+0x3c2e,0x134b*-0x1+-0x1bd5+0x1d*0x1a0,-0x5b*-0x68+-0x2e*0x3e+-0x19d4),_0x30e0d8['halfExtent'+'s']['set'](-0xb27+-0x2572+0x3099,0x1fd8+-0x25a3+0x5cb,-0x974+-0x610+0xf84)),this['mesh']&&this['mesh']['morph']){const _0xc453b8=this['mesh']['morph']['aabb'];_0x30e0d8['_expand'](_0xc453b8['getMin'](),_0xc453b8['getMax']());}_0xe88f36=!(-0x1a31+-0xb*0x10+-0x3d7*-0x7),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0xe88f36&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x30e0d8,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x5e56e4=>{_0x5e56e4['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x7d7698,_0xace7d6,_0x1a39bc,_0x5cae03,_0x511642,_0x4ad5d0,_0x5a08ac){var _0x54af05;const _0x23f4d7=this['_shaderDef'+'s'];yr[-0x1*-0x80f+0x1*-0x1539+-0xa*-0x151]=_0x7d7698,yr[-0xf1d+-0xb80+-0x2*-0xd4f]=_0xace7d6,yr[-0x1add+0x2575*0x1+0x5*-0x21e]=_0x23f4d7,yr[0x1079+0x6a9*0x1+-0x171f]=_0x5cae03['hash'];const _0x10a8e7=Zy(yr);let _0x3fc08a=this['_shaderCac'+'he']['get'](_0x10a8e7);if(!_0x3fc08a){const _0x5ab803=this['_material'];if(_0x3fc08a=new oE(),_0x3fc08a['shader']=_0x5ab803['variants']['get'](_0x10a8e7),_0x3fc08a['hashes']=new Uint32Array(yr),!_0x3fc08a['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x13b486=_0x5ab803['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x1a39bc,'objDefs':_0x23f4d7,'cameraShaderParams':_0x5cae03,'pass':_0x7d7698,'sortedLights':_0x5a08ac,'viewUniformFormat':_0x511642,'viewBindGroupFormat':_0x4ad5d0,'vertexFormat':(_0x54af05=this['mesh']['vertexBuff'+'er'])==null?void(-0x2494*0x1+-0x1*-0xa94+-0x100*-0x1a):_0x54af05['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x5ab803['variants']['set'](_0x10a8e7,_0x13b486),_0x3fc08a['shader']=_0x13b486;}this['_shaderCac'+'he']['set'](_0x10a8e7,_0x3fc08a);}return v['call'](()=>{Wv['equals'](_0x3fc08a['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x3fc08a;}set['material'](_0x5b9118){this['clearShade'+'rs']();const _0x4c9f6a=this['_material'];_0x4c9f6a&&_0x4c9f6a['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x5b9118,_0x5b9118&&(_0x5b9118['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x5b9118['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x33118a){this['_layer']=_0x33118a,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x167192){_0x167192!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x167192,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x4711d6){this['_calculate'+'SortDistan'+'ce']=_0x4711d6;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x37be57){this['_receiveSh'+'adow']!==_0x37be57&&(this['_receiveSh'+'adow']=_0x37be57,this['_updateSha'+'derDefs'](_0x37be57?this['_shaderDef'+'s']&-(0x1*-0x1eb8+-0x2072*-0x1+-0x1b8):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x4448c4){this['_updateSha'+'derDefs'](_0x4448c4?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(-0x1*-0x9f3+0x5*-0x10a6+0x894c));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0x251e+-0x7*0x3ef+-0x995;}set['skinInstan'+'ce'](_0x1dcddc){this['_skinInsta'+'nce']=_0x1dcddc,this['_updateSha'+'derDefs'](_0x1dcddc?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(0x6b5+-0x74+-0x11*0x5e)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x3c38ba){var _0x5978e2;(_0x5978e2=this['_morphInst'+'ance'])==null||_0x5978e2['destroy'](),this['_morphInst'+'ance']=_0x3c38ba;let _0x5f4871=this['_shaderDef'+'s'];_0x5f4871=_0x3c38ba&&_0x3c38ba['morph']['morphPosit'+'ions']?_0x5f4871|Xc:_0x5f4871&-(0xcc0+0xe48+-0x9*0x28f),_0x5f4871=_0x3c38ba&&_0x3c38ba['morph']['morphNorma'+'ls']?_0x5f4871|jc:_0x5f4871&-(0x6c9*0x1+-0x9*0x3b5+0x2295),_0x5f4871=_0x3c38ba&&_0x3c38ba['morph']['intRenderF'+'ormat']?_0x5f4871|Yc:_0x5f4871&-(-0x1a80+-0x143a+0x4ebb),this['_updateSha'+'derDefs'](_0x5f4871);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x4319c1){this['_screenSpa'+'ce']!==_0x4319c1&&(this['_screenSpa'+'ce']=_0x4319c1,this['_updateSha'+'derDefs'](_0x4319c1?this['_shaderDef'+'s']|Mp:this['_shaderDef'+'s']&-(0x885+-0x7d*0x46+0x1aaa)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x5ceca6){this['_key'][Mi]=_0x5ceca6;}get['key'](){return this['_key'][Mi];}set['mask'](_0xf94117){const _0xae9045=this['_shaderDef'+'s']&-0x8ad1*0x1+0xcabd+0xc013;this['_updateSha'+'derDefs'](_0xae9045|_0xf94117<<0xca*-0x14+0x365+0xc73);}get['mask'](){return this['_shaderDef'+'s']>>-0x1*-0x5fb+0x193f+-0x1f2a;}set['instancing'+'Count'](_0x43f789){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x43f789);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x1dff+-0x889+-0x1*0x1576;}['destroy'](){var _0x1d8d79,_0x59fe05,_0x55f793;const _0x325af8=this['mesh'];_0x325af8&&(this['mesh']=null,_0x325af8['refCount']<-0x14aa+-0x3bd+-0xc34*-0x2&&_0x325af8['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x269*-0xb+-0x2f8+-0x178b],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x1fce+0x694+-0x5*0x7ad],null),(_0x1d8d79=this['_skinInsta'+'nce'])==null||_0x1d8d79['destroy'](),this['_skinInsta'+'nce']=null,(_0x59fe05=this['morphInsta'+'nce'])==null||_0x59fe05['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x55f793=this['instancing'+'Data'])==null||_0x55f793['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x4255d5,_0x24a83e){if(_0x4255d5){for(let _0xfaffa=0x15d+-0x2e7*0x6+-0x7*-0x24b;_0xfaffa<_0x4255d5['length'];_0xfaffa++){_0x4255d5[_0xfaffa]['_renderSty'+'le']=_0x24a83e;const _0x9ae29=_0x4255d5[_0xfaffa]['mesh'];Sd['has'](_0x9ae29)||(Sd['add'](_0x9ae29),_0x9ae29['prepareRen'+'derState'](_0x24a83e));}Sd['clear']();}}['_isVisible'](_0xe88de6){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0xe88de6):(xd['center']=this['aabb']['center'],xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0xe88de6['frustum']['containsSp'+'here'](xd)>0xd*0x1d3+0x1ed*-0x10+0x719):!(-0x1*-0x1cf2+-0x200e+0x31d);}['updateKey'](){const _0x3fe8c1=this['material'],_0x13ebbd=_0x3fe8c1['alphaToCov'+'erage']||_0x3fe8c1['alphaTest']?Ot:_0x3fe8c1['blendType'];this['_key'][Mi]=(this['layer']&0xe5+0x1d71+0x151*-0x17)<<-0x2650*0x1+-0xe21+0x348c|(_0x13ebbd===ns?0x15b3+0x3*0x805+-0x2dc1:-0x2e7+-0x1b0f+0x41*0x76)<<-0x1*-0xc7+0x21d2+0x227f*-0x1|(_0x3fe8c1['id']&0x390d37b+0x1*0x21be9c9+-0x3acbd45)<<0x14fc+-0xe45+-0x6b7;}['setInstanc'+'ing'](_0x1b9610,_0x5e04a9=!(0x19*0x87+-0x4*-0x7f4+-0x2cfe)){_0x1b9610?(this['instancing'+'Data']=new aE(_0x1b9610['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x1b9610,_0x1b9610['format']['instancing']=!(0x13d6+-0x1602+0x22c),this['cull']=_0x5e04a9):(this['instancing'+'Data']=null,this['cull']=!(-0x17f3+0x456+0x139d)),this['_updateSha'+'derDefs'](_0x1b9610?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&-(0x2150+0xd34+-0x2e63));}['ensureMate'+'rial'](_0x235bf8){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x235bf8));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x4b9918){return this['parameters'][_0x4b9918];}['setParamet'+'er'](_0x5535d8,_0x6cb2b7,_0x26c8e4=-0x77cf059c+-0x1498eb24+0x18c67f0bf){const _0xc08e34=this['parameters'][_0x5535d8];_0xc08e34?(_0xc08e34['data']=_0x6cb2b7,_0xc08e34['passFlags']=_0x26c8e4):this['parameters'][_0x5535d8]={'scopeId':null,'data':_0x6cb2b7,'passFlags':_0x26c8e4};}['setRealtim'+'eLightmap'](_0x35b24c,_0x53ff29){const _0xf9b616=this['getParamet'+'er'](_0x35b24c);_0xf9b616!==_0x53ff29&&(_0xf9b616&&bi['decRef'](_0xf9b616['data']),_0x53ff29?(bi['incRef'](_0x53ff29),this['setParamet'+'er'](_0x35b24c,_0x53ff29)):this['deletePara'+'meter'](_0x35b24c));}['deletePara'+'meter'](_0x3e105c){this['parameters'][_0x3e105c]&&delete this['parameters'][_0x3e105c];}['setParamet'+'ers'](_0x36dcb1,_0x2f8cc2){const _0x44f552=this['parameters'];for(const _0x197a6b in _0x44f552){const _0x2e40ae=_0x44f552[_0x197a6b];_0x2e40ae['passFlags']&_0x2f8cc2&&(_0x2e40ae['scopeId']||(_0x2e40ae['scopeId']=_0x36dcb1['scope']['resolve'](_0x197a6b)),_0x2e40ae['scopeId']['setValue'](_0x2e40ae['data']));}}['setLightma'+'pped'](_0x8cb885){_0x8cb885?this['mask']=(this['mask']|cr)&-(0x888+-0x410+-0x472):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x1*-0xeb9+0x1*0x7a2+0x717],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x12e*-0x20+0x61b+0xfd3*0x2],null),this['_shaderDef'+'s']&=-(-0x423+-0x7*0x45b+0x3361),this['mask']=(this['mask']|ds)&-(-0x1c97+-0x125a+-0x3*-0xfa8));}['setCustomA'+'abb'](_0x1e3c97){_0x1e3c97?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x1e3c97):this['_customAab'+'b']=_0x1e3c97['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x1e50+0x1f81+-0x1*0x130)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lE=[0x650+-0x1*0x1bef+0x159f,0x19c1+-0x1817*0x1+-0x1a9,-0x17*-0x33+-0xc*-0x112+-0x8b5*0x2,0x1fb1+-0xfc+-0x1eb3,-0x904+-0x1178+0x1a7f,0x20ec+0x533*0x5+-0x3aea],hE=[0x1290+0x613+-0x18a3,-0xebf*-0x1+-0xd1e+-0x1*0x1a0,0x1cee+0x1*-0xdf1+-0xefa,0x1c9*0x7+0x1e7e+-0x163*0x1f,0x3*0xccd+0x1ebc+-0x4520,-0x2*-0x38a+-0x1*0x1cff+0x15ed],jm=new js();function Ym(_0x4a1d25,_0x6a8b37){if(_0x4a1d25&&!_0x6a8b37||!_0x4a1d25&&_0x6a8b37)return!(0x704+0x9*-0x1b+-0x4*0x184);if(_0x4a1d25=_0x4a1d25['data'],_0x6a8b37=_0x6a8b37['data'],_0x4a1d25===_0x6a8b37)return!(-0x3*0xb5a+-0x1f6a+0x4178);if(_0x4a1d25 instanceof Float32Array&&_0x6a8b37 instanceof Float32Array){if(_0x4a1d25['length']!==_0x6a8b37['length'])return!(0x135c+0x94a*0x2+-0x25ef);for(let _0x37b47f=0xe4c+0x7*-0x369+0x81*0x13;_0x37b47f<_0x4a1d25['length'];_0x37b47f++)if(_0x4a1d25[_0x37b47f]!==_0x6a8b37[_0x37b47f])return!(-0x1b0a+-0x594+-0x1*-0x209f);return!(-0x1b+0x66a+-0x5f*0x11);}return!(0xe55+0x11e*-0x12+-0x4a*-0x14);}function cE(_0x4b0849,_0x58a8eb){for(const _0x14c061 in _0x4b0849)if(_0x4b0849['hasOwnProp'+'erty'](_0x14c061)&&!Ym(_0x4b0849[_0x14c061],_0x58a8eb[_0x14c061]))return!(-0x883*-0x1+0xf4a+0x1*-0x17cc);for(const _0x45290f in _0x58a8eb)if(_0x58a8eb['hasOwnProp'+'erty'](_0x45290f)&&!Ym(_0x58a8eb[_0x45290f],_0x4b0849[_0x45290f]))return!(-0x16e0+0x4d6*-0x7+0x38bb);return!(0x24c2+0x9*0x2de+-0x3e90);}function vd(_0x4089a4){return _0x4089a4['node']['worldTrans'+'form']['scaleSign'];}class dE{constructor(_0x494549,_0x35545e,_0x361cd5){this['device']=_0x494549,this['rootNode']=_0x35545e,this['scene']=_0x361cd5,this['_init']=!(-0x1a83+0x18e3+0x1a1),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1336+-0x26fd+0x13c7,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x331c64,_0x1cbb9c,_0x3a59ea,_0x1af892,_0x2222de){if(_0x1af892===void(0x1*-0x1966+-0xa65*0x2+0x2e3*0x10)&&(_0x1af892=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x1af892]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x1af892+('\x20already\x20e'+'xists.'));return;}const _0x5c2259=new Je(_0x1af892,_0x331c64,_0x1cbb9c,_0x3a59ea,_0x2222de);return this['_batchGrou'+'ps'][_0x1af892]=_0x5c2259,_0x5c2259;}['removeGrou'+'p'](_0x54a3d3){if(!this['_batchGrou'+'ps'][_0x54a3d3]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x54a3d3+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x22e3cd=[];for(let _0x2a13c6=0x12d7+0x4*-0x5f3+0x9*0x8d;_0x2a13c6<this['_batchList']['length'];_0x2a13c6++)this['_batchList'][_0x2a13c6]['batchGroup'+'Id']===_0x54a3d3?this['destroyBat'+'ch'](this['_batchList'][_0x2a13c6]):_0x22e3cd['push'](this['_batchList'][_0x2a13c6]);this['_batchList']=_0x22e3cd,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x54a3d3),delete this['_batchGrou'+'ps'][_0x54a3d3];}['markGroupD'+'irty'](_0x46b69d){this['_dirtyGrou'+'ps']['indexOf'](_0x46b69d)<0x243*0x1+-0x1a0d+-0x7*-0x366&&this['_dirtyGrou'+'ps']['push'](_0x46b69d);}['getGroupBy'+'Name'](_0x41b800){const _0xb80aa2=this['_batchGrou'+'ps'];for(const _0x49a547 in _0xb80aa2)if(_0xb80aa2['hasOwnProp'+'erty'](_0x49a547)&&_0xb80aa2[_0x49a547]['name']===_0x41b800)return _0xb80aa2[_0x49a547];return null;}['getBatches'](_0x6c6e60){const _0x436890=[],_0x190d2f=this['_batchList']['length'];for(let _0x311bb1=-0x204f+-0x1a67+0x3ab6;_0x311bb1<_0x190d2f;_0x311bb1++){const _0x2e0e6e=this['_batchList'][_0x311bb1];_0x2e0e6e['batchGroup'+'Id']===_0x6c6e60&&_0x436890['push'](_0x2e0e6e);}return _0x436890;}['_removeMod'+'elsFromBat'+'chGroup'](_0xfbdbf4,_0x545e6c){if(_0xfbdbf4['enabled']){_0xfbdbf4['model']&&_0xfbdbf4['model']['batchGroup'+'Id']===_0x545e6c&&(_0xfbdbf4['model']['batchGroup'+'Id']=-(0xd*-0x1ad+-0x1732+0x2cfc*0x1)),_0xfbdbf4['render']&&_0xfbdbf4['render']['batchGroup'+'Id']===_0x545e6c&&(_0xfbdbf4['render']['batchGroup'+'Id']=-(0x1a8e+-0x1*0x6d+-0x1a20)),_0xfbdbf4['element']&&_0xfbdbf4['element']['batchGroup'+'Id']===_0x545e6c&&(_0xfbdbf4['element']['batchGroup'+'Id']=-(-0x16dc+-0xde8+0x24c5*0x1)),_0xfbdbf4['sprite']&&_0xfbdbf4['sprite']['batchGroup'+'Id']===_0x545e6c&&(_0xfbdbf4['sprite']['batchGroup'+'Id']=-(-0x487+0x8d1*-0x2+-0x162a*-0x1));for(let _0x554f3b=0x2c9+-0x3ad+0xe4;_0x554f3b<_0xfbdbf4['_children']['length'];_0x554f3b++)this['_removeMod'+'elsFromBat'+'chGroup'](_0xfbdbf4['_children'][_0x554f3b],_0x545e6c);}}['insert'](_0x189f24,_0x5f55a4,_0x1f3c87){const _0x438380=this['_batchGrou'+'ps'][_0x5f55a4];v['assert'](_0x438380,'Invalid\x20ba'+'tch\x20'+_0x5f55a4+'\x20insertion'),_0x438380&&_0x438380['_obj'][_0x189f24]['indexOf'](_0x1f3c87)<0x223f+0x1085+-0x32c4&&(_0x438380['_obj'][_0x189f24]['push'](_0x1f3c87),this['markGroupD'+'irty'](_0x5f55a4));}['remove'](_0x479000,_0x1db81b,_0x4c10a7){const _0x2c3be0=this['_batchGrou'+'ps'][_0x1db81b];if(v['assert'](_0x2c3be0,'Invalid\x20ba'+'tch\x20'+_0x1db81b+'\x20insertion'),_0x2c3be0){const _0x3fd3cf=_0x2c3be0['_obj'][_0x479000]['indexOf'](_0x4c10a7);_0x3fd3cf>=0x242d+0x14e+-0x257b&&(_0x2c3be0['_obj'][_0x479000]['splice'](_0x3fd3cf,0x153d*-0x1+-0x1bf0+-0x1897*-0x2),this['markGroupD'+'irty'](_0x1db81b));}}['_extractRe'+'nder'](_0x1ed631,_0xf6f31c,_0x398b66,_0x5b76b3){return _0x1ed631['render']&&(_0xf6f31c=_0x5b76b3[_0x1ed631['render']['batchGroup'+'Id']]=_0xf6f31c['concat'](_0x1ed631['render']['meshInstan'+'ces']),_0x1ed631['render']['removeFrom'+'Layers']()),_0xf6f31c;}['_extractMo'+'del'](_0x3e8bb0,_0x268869,_0x11824e,_0x1f4c20){return _0x3e8bb0['model']&&_0x3e8bb0['model']['model']&&(_0x268869=_0x1f4c20[_0x3e8bb0['model']['batchGroup'+'Id']]=_0x268869['concat'](_0x3e8bb0['model']['meshInstan'+'ces']),_0x3e8bb0['model']['removeMode'+'lFromLayer'+'s'](),_0x3e8bb0['model']['_batchGrou'+'p']=_0x11824e),_0x268869;}['_extractEl'+'ement'](_0x4cc7f9,_0x1eafe7,_0x48e2d9){if(!_0x4cc7f9['element'])return;let _0x5a797d=!(-0xb20+-0x8a1+-0x34b*-0x6);_0x4cc7f9['element']['_text']&&_0x4cc7f9['element']['_text']['_model']['meshInstan'+'ces']['length']>0xc48+-0x1f3b+0x12f3?(_0x1eafe7['push'](_0x4cc7f9['element']['_text']['_model']['meshInstan'+'ces'][-0x293*-0xb+0x5d3+0x6d4*-0x5]),_0x4cc7f9['element']['removeMode'+'lFromLayer'+'s'](_0x4cc7f9['element']['_text']['_model']),_0x5a797d=!(-0x219c+-0x11f6+0x3392)):_0x4cc7f9['element']['_image']&&(_0x1eafe7['push'](_0x4cc7f9['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x4cc7f9['element']['removeMode'+'lFromLayer'+'s'](_0x4cc7f9['element']['_image']['_renderabl'+'e']['model']),_0x4cc7f9['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x1eafe7['push'](_0x4cc7f9['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x4cc7f9['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x4cc7f9['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x4cc7f9['element']['_dirtifyMa'+'sk'](),_0x4cc7f9['element']['_onPrerend'+'er']())),_0x5a797d=!(0x225f+0x7fe+-0x2d*0xf1)),_0x5a797d&&(_0x48e2d9['_ui']=!(-0x1a67*-0x1+0x1a0b+-0x3472),_0x4cc7f9['element']['_batchGrou'+'p']=_0x48e2d9);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x47c426,_0x599ba8){for(let _0x2b0b6b=-0x22ee+0x1cd6+-0x208*-0x3;_0x2b0b6b<_0x599ba8['length'];_0x2b0b6b++){const _0x44a88c=_0x599ba8[_0x2b0b6b],_0x1099c5=this['_batchGrou'+'ps'][_0x44a88c];if(!_0x1099c5)continue;let _0x272b08=_0x47c426[_0x44a88c];_0x272b08||(_0x272b08=_0x47c426[_0x44a88c]=[]);for(let _0x386107=0x3c4*-0x3+0x28f+0x8bd;_0x386107<_0x1099c5['_obj']['model']['length'];_0x386107++)_0x272b08=this['_extractMo'+'del'](_0x1099c5['_obj']['model'][_0x386107],_0x272b08,_0x1099c5,_0x47c426);for(let _0x2bcb56=0x67*-0x30+0x8e8+0x4a*0x24;_0x2bcb56<_0x1099c5['_obj']['render']['length'];_0x2bcb56++)_0x272b08=this['_extractRe'+'nder'](_0x1099c5['_obj']['render'][_0x2bcb56],_0x272b08,_0x1099c5,_0x47c426);for(let _0x3f2232=0x236d+-0xcb*0x1d+-0x2b*0x4a;_0x3f2232<_0x1099c5['_obj']['element']['length'];_0x3f2232++)this['_extractEl'+'ement'](_0x1099c5['_obj']['element'][_0x3f2232],_0x272b08,_0x1099c5);for(let _0x8e3998=-0x1c57+0x5e6+0x1671;_0x8e3998<_0x1099c5['_obj']['sprite']['length'];_0x8e3998++){const _0x1b0f07=_0x1099c5['_obj']['sprite'][_0x8e3998];_0x1b0f07['sprite']&&_0x1b0f07['sprite']['_meshInsta'+'nce']&&(_0x1099c5['dynamic']||_0x1b0f07['sprite']['sprite']['_renderMod'+'e']===Ci)&&(_0x272b08['push'](_0x1b0f07['sprite']['_meshInsta'+'nce']),_0x1b0f07['sprite']['removeMode'+'lFromLayer'+'s'](),_0x1099c5['_sprite']=!(-0xb85*0x3+-0x7*0x517+0x4630),_0x1b0f07['sprite']['_batchGrou'+'p']=_0x1099c5);}}}['generate'](_0x3082ec){const _0x1d9453={};_0x3082ec||(_0x3082ec=Object['keys'](this['_batchGrou'+'ps']));const _0x334bfc=[];for(let _0x5acf5e=-0x1*0x1bdf+0x208+0x19d7;_0x5acf5e<this['_batchList']['length'];_0x5acf5e++){if(_0x3082ec['indexOf'](this['_batchList'][_0x5acf5e]['batchGroup'+'Id'])<-0xb22+-0x25f9+-0x1*-0x311b){_0x334bfc['push'](this['_batchList'][_0x5acf5e]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x5acf5e]);}if(this['_batchList']=_0x334bfc,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x1d9453,_0x3082ec),_0x3082ec===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x2706+-0x2002+-0x1c1*0x4;else{const _0x42904f=[];for(let _0x1c04df=-0x1*0x461+-0xa2a+0x4d9*0x3;_0x1c04df<this['_dirtyGrou'+'ps']['length'];_0x1c04df++)_0x3082ec['indexOf'](this['_dirtyGrou'+'ps'][_0x1c04df])<0x96c+0x5*0x3e6+0x1cea*-0x1&&_0x42904f['push'](this['_dirtyGrou'+'ps'][_0x1c04df]);this['_dirtyGrou'+'ps']=_0x42904f;}let _0x2a0292,_0x441769,_0x3aa855,_0x1fbb0a;for(const _0x5c81f3 in _0x1d9453)if(_0x1d9453['hasOwnProp'+'erty'](_0x5c81f3)){if(_0x2a0292=_0x1d9453[_0x5c81f3],_0x3aa855=this['_batchGrou'+'ps'][_0x5c81f3],!_0x3aa855){v['error']('batch\x20grou'+'p\x20'+_0x5c81f3+'\x20not\x20found');continue;}_0x441769=this['prepare'](_0x2a0292,_0x3aa855['dynamic'],_0x3aa855['maxAabbSiz'+'e'],_0x3aa855['_ui']||_0x3aa855['_sprite']);for(let _0x3878ec=0x9bc+-0x173e+-0x13*-0xb6;_0x3878ec<_0x441769['length'];_0x3878ec++)_0x1fbb0a=this['create'](_0x441769[_0x3878ec],_0x3aa855['dynamic'],parseInt(_0x5c81f3,0x503*-0x5+0xb*0x32+0x5*0x497)),_0x1fbb0a&&_0x1fbb0a['addToLayer'+'s'](this['scene'],_0x3aa855['layers']);}}['prepare'](_0xce3fd,_0x3fd12d,_0x4ac153=Number['POSITIVE_I'+'NFINITY'],_0x2b0e77){if(_0xce3fd['length']===0x4c1+-0xf2b+0x1*0xa6a)return[];const _0x1fb973=_0x4ac153*(0x1*0x172+0x42*-0x8b+0x2264+0.5),_0x30c795=0x25ec+0x107f+-0x326b,_0x34b5ce=0x1e9f8c397+-0xd*-0x1721f677+-0x31*0xae98413,_0x5ea458=new _e(),_0x4be96a=new _e();let _0x5ac7ff=null,_0x44d351;const _0x1b8105=[];let _0x4e04c1=0x1705+-0x2f2+0x23b*-0x9;_0x2b0e77&&_0xce3fd['sort']((_0x548196,_0x29e4d8)=>_0x548196['drawOrder']-_0x29e4d8['drawOrder']);let _0x326f05=_0xce3fd,_0x35ff25;const _0x3c27f9=_0x2b0e77?function(_0x3cea54){_0x5ac7ff?_0x5ac7ff['add'](_0x3cea54['aabb']):_0x5ac7ff=_0x3cea54['aabb']['clone'](),_0x35ff25['push'](_0x3cea54);}:function(_0x1d5e86){_0x35ff25['push'](_0x1d5e86);};for(;_0x326f05['length']>0xfed+0x469+0xa2b*-0x2;){_0x1b8105[_0x4e04c1]=[_0x326f05[0x2103+0x76*-0x3b+-0x5d1]],_0x35ff25=[];const _0x1624a6=_0x326f05[-0x34c*0xb+-0x11e7+0x362b]['material'],_0x408c77=_0x326f05[0x313*0x6+0x9a3+-0x229*0xd]['layer'],_0x1a922b=_0x326f05[-0x117*0x6+0x1f37+0x18ad*-0x1]['_shaderDef'+'s'],_0x10169e=_0x326f05[0xbe7+-0x24ef+0x1908]['parameters'],_0x189b6f=_0x326f05[0x643*0x2+-0x251a+-0x11e*-0x16]['stencilFro'+'nt'];let _0x37fa5c=_0x326f05[0x236a+0x9ab+-0x2d15]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x24c091=_0x326f05[0x7*0x59+-0x51c+0x2ad]['drawOrder'];_0x5ea458['copy'](_0x326f05[-0x39c+0x7f3+-0x457]['aabb']);const _0x52185d=vd(_0x326f05[-0x1*-0x8a1+0x113a+-0x19db*0x1]),_0x5bb816=_0x326f05[0x11f4+0xcb8+-0x1eac]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x2849a7=_0x326f05[0x4*-0xc5+-0x2351+0x2665]['mesh']['primitive'][0xfb+0xdd5+-0x1*0xed0]['indexed'];_0x5ac7ff=null;for(let _0x2ac9da=0x1525*0x1+-0x5*-0x265+0x211d*-0x1;_0x2ac9da<_0x326f05['length'];_0x2ac9da++){const _0x6a937e=_0x326f05[_0x2ac9da];if(_0x3fd12d&&_0x1b8105[_0x4e04c1]['length']>=_0x30c795){_0x35ff25=_0x35ff25['concat'](_0x326f05['slice'](_0x2ac9da));break;}if(_0x1624a6!==_0x6a937e['material']||_0x408c77!==_0x6a937e['layer']||_0x5bb816!==_0x6a937e['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x2849a7!==_0x6a937e['mesh']['primitive'][0x56*-0x5d+-0xa39*0x1+0x2977*0x1]['indexed']||_0x1a922b!==_0x6a937e['_shaderDef'+'s']||_0x37fa5c+_0x6a937e['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x34b5ce){_0x3c27f9(_0x6a937e);continue;}if(_0x4be96a['copy'](_0x5ea458),_0x4be96a['add'](_0x6a937e['aabb']),_0x4be96a['halfExtent'+'s']['x']>_0x1fb973||_0x4be96a['halfExtent'+'s']['y']>_0x1fb973||_0x4be96a['halfExtent'+'s']['z']>_0x1fb973){_0x3c27f9(_0x6a937e);continue;}if(_0x189b6f&&(!(_0x44d351=_0x6a937e['stencilFro'+'nt'])||_0x189b6f['func']!==_0x44d351['func']||_0x189b6f['zpass']!==_0x44d351['zpass'])){_0x3c27f9(_0x6a937e);continue;}if(_0x52185d!==vd(_0x6a937e)){_0x3c27f9(_0x6a937e);continue;}if(!cE(_0x10169e,_0x6a937e['parameters'])){_0x3c27f9(_0x6a937e);continue;}if(_0x2b0e77&&_0x5ac7ff&&_0x5ac7ff['intersects'](_0x6a937e['aabb'])&&_0x6a937e['drawOrder']!==_0x24c091){_0x3c27f9(_0x6a937e);continue;}_0x5ea458['add'](_0x6a937e['aabb']),_0x37fa5c+=_0x6a937e['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x1b8105[_0x4e04c1]['push'](_0x6a937e);}_0x4e04c1++,_0x326f05=_0x35ff25;}return _0x1b8105;}['collectBat'+'chedMeshDa'+'ta'](_0x306822,_0x51ebfc){let _0x4f253d=null,_0x79fafa=0x35*-0x92+-0xb6*-0x2b+0x16*-0x4,_0x8f9e27=0x8a*-0x21+0x3*-0xbfa+0x35b8,_0x1c29af=null;for(let _0x1d23c9=0x1*0x15ad+-0x9ec+-0xbc1;_0x1d23c9<_0x306822['length'];_0x1d23c9++)if(_0x306822[_0x1d23c9]['visible']){const _0x279f37=_0x306822[_0x1d23c9]['mesh'],_0x1d86cf=_0x279f37['vertexBuff'+'er']['numVertice'+'s'];if(_0x79fafa+=_0x1d86cf,_0x279f37['primitive'][0x1*-0xa53+-0x89*0x16+0x1619]['indexed'])_0x8f9e27+=_0x279f37['primitive'][-0x16*-0x11e+-0x9*0xab+-0x1291]['count'];else{const _0x430e0c=_0x279f37['primitive'][0xda8+0x787*0x5+-0x334b]['type'];(_0x430e0c===Yr||_0x430e0c===or)&&_0x279f37['primitive'][-0x1f3*-0x6+-0x806+0xbc*-0x5]['count']===0x1983+-0x653+-0x132c&&(_0x8f9e27+=-0x8c5+0x234a*-0x1+0x5*0x8d1);}if(!_0x4f253d){_0x1c29af=_0x306822[_0x1d23c9]['material'],_0x4f253d={};const _0x427b8a=_0x279f37['vertexBuff'+'er']['format']['elements'];for(let _0x175c52=-0x3*0xb1b+-0xe29+-0x67*-0x76;_0x175c52<_0x427b8a['length'];_0x175c52++){const _0x3275a7=_0x427b8a[_0x175c52]['name'];_0x4f253d[_0x3275a7]={'numComponents':_0x427b8a[_0x175c52]['numCompone'+'nts'],'dataType':_0x427b8a[_0x175c52]['dataType'],'normalize':_0x427b8a[_0x175c52]['normalize'],'count':0x0};}_0x51ebfc&&(_0x4f253d[jt]={'numComponents':0x1,'dataType':Ce,'normalize':!(-0x149f+-0x560+0x1a00),'count':0x0});}}return{'streams':_0x4f253d,'batchNumVerts':_0x79fafa,'batchNumIndices':_0x8f9e27,'material':_0x1c29af};}['create'](_0x55c575,_0x5bf6cd,_0x3e2d3f){const _0x29699b=re();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x1b*0x81+-0x1*-0x17c+0x1*-0xf17));let _0x9f98d4=null,_0x2656f0,_0x23a5c6,_0x116f88,_0x74eb32=null;const _0x12d27d=this['collectBat'+'chedMeshDa'+'ta'](_0x55c575,_0x5bf6cd);if(_0x12d27d['streams']){const _0x3811b4=_0x12d27d['streams'];let _0x2c8c55=_0x12d27d['material'];const _0x173e73=_0x12d27d['batchNumVe'+'rts'],_0xc78693=_0x12d27d['batchNumIn'+'dices'];_0x74eb32=new zm(_0x55c575,_0x5bf6cd,_0x3e2d3f),this['_batchList']['push'](_0x74eb32);let _0x33e27f,_0x28297e,_0xbf5a99,_0xee31a3=0x4*0x1ed+0x42*-0x22+-0x22*-0x8,_0x3d49f1=0x86*-0x3f+-0xdad+0x2ea7,_0x2e642f;const _0x1dbf40=_0x173e73<=0x1f5a6+-0x5e*-0x164+-0x1*0x1785f?Uint16Array:Uint32Array,_0x17d43c=new _0x1dbf40(_0xc78693);for(_0x2656f0 in _0x3811b4)_0x9f98d4=_0x3811b4[_0x2656f0],_0x9f98d4['typeArrayT'+'ype']=ua[_0x9f98d4['dataType']],_0x9f98d4['elementByt'+'eSize']=_o[_0x9f98d4['dataType']],_0x9f98d4['buffer']=new _0x9f98d4['typeArrayT'+'ype'](_0x173e73*_0x9f98d4['numCompone'+'nts']);for(let _0x63fe83=-0xe25+-0xc1b*0x2+-0x3*-0xcc9;_0x63fe83<_0x55c575['length'];_0x63fe83++)if(_0x55c575[_0x63fe83]['visible']){_0x23a5c6=_0x55c575[_0x63fe83]['mesh'],_0x116f88=_0x23a5c6['vertexBuff'+'er']['numVertice'+'s'],_0x5bf6cd||(_0x2e642f=_0x55c575[_0x63fe83]['node']['getWorldTr'+'ansform']());for(_0x2656f0 in _0x3811b4)if(_0x2656f0!==jt){_0x9f98d4=_0x3811b4[_0x2656f0];const _0x4b02d5=new _0x9f98d4['typeArrayT'+'ype'](_0x9f98d4['buffer']['buffer'],_0x9f98d4['elementByt'+'eSize']*_0x9f98d4['count']),_0x110e6f=_0x23a5c6['getVertexS'+'tream'](_0x2656f0,_0x4b02d5)*_0x9f98d4['numCompone'+'nts'];if(_0x9f98d4['count']+=_0x110e6f,!_0x5bf6cd&&_0x9f98d4['numCompone'+'nts']>=-0x1465+-0x399+0x1801){if(_0x2656f0===He){const _0x36f9e0=_0x2e642f['data'],_0x5d10cc=_0x36f9e0[0x13f3*-0x1+0x12*0x91+0x9c1],_0x59703d=_0x36f9e0[0x17*-0x9d+0x970+0x4ac],_0xaeeda9=_0x36f9e0[0x1384*0x2+-0x330+0x42*-0x8b],_0x5dd277=_0x36f9e0[-0x177+0x459+-0x2de],_0x119b69=_0x36f9e0[-0x7*0x28+-0x1121*-0x2+-0x2125],_0x120167=_0x36f9e0[-0x8*0x395+-0x1*0x2468+0x4116],_0x5f42ae=_0x36f9e0[0x1431+-0x106*-0x4+-0x1*0x1841],_0x40ef3c=_0x36f9e0[-0x2*0x1c2+0x799+-0x40c],_0x4581da=_0x36f9e0[0x384+-0x2*0x7b5+0xbf0],_0x3c4842=_0x36f9e0[0x3a9*-0x1+-0x8*-0xe7+0x1f*-0x1d],_0x1a4427=_0x36f9e0[0x52a+0x8*-0x337+0x5*0x41f],_0x5ce1bd=_0x36f9e0[-0x4d1+-0x907*-0x1+-0x428];let _0xbaad06,_0x5ab66f,_0x4233ea;for(let _0x4a26a8=-0x77e+-0x680+0x3*0x4aa;_0x4a26a8<_0x110e6f;_0x4a26a8+=_0x9f98d4['numCompone'+'nts'])_0xbaad06=_0x4b02d5[_0x4a26a8],_0x5ab66f=_0x4b02d5[_0x4a26a8+(0x1c8e+0x239*-0xd+0x2c*0x2)],_0x4233ea=_0x4b02d5[_0x4a26a8+(0xf86+0xb9*-0x22+0x487*0x2)],_0x4b02d5[_0x4a26a8]=_0xbaad06*_0x5d10cc+_0x5ab66f*_0x5dd277+_0x4233ea*_0x5f42ae+_0x3c4842,_0x4b02d5[_0x4a26a8+(0x4*-0x87b+0x1*-0x1281+0x117a*0x3)]=_0xbaad06*_0x59703d+_0x5ab66f*_0x119b69+_0x4233ea*_0x40ef3c+_0x1a4427,_0x4b02d5[_0x4a26a8+(-0x617+-0x633+0xc4c)]=_0xbaad06*_0xaeeda9+_0x5ab66f*_0x120167+_0x4233ea*_0x4581da+_0x5ce1bd;}else{if(_0x2656f0===Zt||_0x2656f0===Zs){jm['invertMat4'](_0x2e642f)['transpose']();const [_0x12a4f6,_0x12c3dd,_0x5d110c,_0xc257cf,_0xcfd239,_0x43a025,_0x32e657,_0x341d1a,_0x33cae9]=jm['data'];let _0x15d710,_0xf2be14,_0x18b130;for(let _0x20cd94=0x1072+-0x15eb*-0x1+-0x1ab*0x17;_0x20cd94<_0x110e6f;_0x20cd94+=_0x9f98d4['numCompone'+'nts'])_0x15d710=_0x4b02d5[_0x20cd94],_0xf2be14=_0x4b02d5[_0x20cd94+(-0xb*0x91+0x1878+-0x185*0xc)],_0x18b130=_0x4b02d5[_0x20cd94+(-0x6eb*0x2+0x4*-0x78f+0x2c14)],_0x4b02d5[_0x20cd94]=_0x15d710*_0x12a4f6+_0xf2be14*_0xc257cf+_0x18b130*_0x32e657,_0x4b02d5[_0x20cd94+(0x95*0x32+-0xfe3*0x1+-0x1*0xd36)]=_0x15d710*_0x12c3dd+_0xf2be14*_0xcfd239+_0x18b130*_0x341d1a,_0x4b02d5[_0x20cd94+(-0xdea*0x1+0xbd6+-0x3*-0xb2)]=_0x15d710*_0x5d110c+_0xf2be14*_0x43a025+_0x18b130*_0x33cae9;}}}}if(_0x5bf6cd){_0x9f98d4=_0x3811b4[jt];for(let _0x26532a=0x2328+-0x1df7+0x531*-0x1;_0x26532a<_0x116f88;_0x26532a++)_0x9f98d4['buffer'][_0x9f98d4['count']++]=_0x63fe83;}if(_0x23a5c6['primitive'][-0x6*0x5f3+0x67c*0x5+0x346*0x1]['indexed']){_0x33e27f=_0x23a5c6['primitive'][-0x6a*-0x52+0xa1e+-0x2c12]['base'],_0x28297e=_0x23a5c6['primitive'][0x17f*0x1+0x1a*0x65+0x3b*-0x33]['count'];const _0x4dc28f=_0x23a5c6['indexBuffe'+'r'][-0x2320+0x10db+0x1245]['getFormat']();_0xbf5a99=new Fh[_0x4dc28f](_0x23a5c6['indexBuffe'+'r'][0x2*0xe81+-0x2206+0x504]['storage']);}else{const _0x1e0ff=_0x23a5c6['primitive'][0x1*-0x142f+0x26ed*0x1+-0x12be]['type'];if(_0x1e0ff===Yr||_0x1e0ff===or){if(_0x23a5c6['primitive'][-0x12e9+-0x24cb*-0x1+-0x11e2]['count']===-0x227b+-0x1524+0x37a3*0x1)_0x33e27f=0x8a9*0x4+-0xac9*0x1+-0x17db,_0x28297e=-0x44f*-0x8+0x18e*-0xe+-0x1*0xcae,_0xbf5a99=_0x1e0ff===Yr?lE:hE;else{_0x28297e=0x6b*-0x47+-0x1ca0+-0x5*-0xba9;continue;}}}for(let _0x227cf1=-0xc1d+-0x607+0x1224;_0x227cf1<_0x28297e;_0x227cf1++)_0x17d43c[_0x227cf1+_0x3d49f1]=_0xbf5a99[_0x33e27f+_0x227cf1]+_0xee31a3;_0x3d49f1+=_0x28297e,_0xee31a3+=_0x116f88;}_0x23a5c6=new Ie(this['device']);for(_0x2656f0 in _0x3811b4)_0x9f98d4=_0x3811b4[_0x2656f0],_0x23a5c6['setVertexS'+'tream'](_0x2656f0,_0x9f98d4['buffer'],_0x9f98d4['numCompone'+'nts'],void(-0x1ede+-0x633+0x3*0xc5b),_0x9f98d4['dataType'],_0x9f98d4['normalize']);_0x17d43c['length']>-0x3e7+0x1856+-0x146f&&_0x23a5c6['setIndices'](_0x17d43c),_0x23a5c6['update'](Rs,!(-0x19f7+-0x15c7*0x1+0x2fbf*0x1)),_0x5bf6cd&&(_0x2c8c55=_0x2c8c55['clone'](),_0x2c8c55['update']());const _0x4cdae7=new Le(_0x23a5c6,_0x2c8c55,this['rootNode']);_0x4cdae7['castShadow']=_0x74eb32['origMeshIn'+'stances'][-0x738+0x908+-0x10*0x1d]['castShadow'],_0x4cdae7['parameters']=_0x74eb32['origMeshIn'+'stances'][0x3ce*-0x3+-0x2003+0x2b6d*0x1]['parameters'],_0x4cdae7['layer']=_0x74eb32['origMeshIn'+'stances'][0x269e+-0x23d9+-0x2c5]['layer'],_0x4cdae7['_shaderDef'+'s']=_0x74eb32['origMeshIn'+'stances'][0x471*-0x1+-0x1719+-0x2*-0xdc5]['_shaderDef'+'s'],_0x4cdae7['batching']=!(-0xe8*0x1c+-0xb9a+0x127d*0x2),_0x4cdae7['cull']=_0x74eb32['origMeshIn'+'stances'][0x1*-0x4d+-0x1f9c+0x1fe9]['cull'];const _0x3b25d4=this['_batchGrou'+'ps'][_0x3e2d3f];if(_0x3b25d4&&_0x3b25d4['_ui']&&(_0x4cdae7['cull']=!(-0x2393+-0x870+0x2c04)),_0x5bf6cd){const _0x51f5ea=[];for(let _0x23024f=-0x1*0x189f+-0x1*-0xbc9+0xcd6;_0x23024f<_0x74eb32['origMeshIn'+'stances']['length'];_0x23024f++)_0x51f5ea['push'](_0x74eb32['origMeshIn'+'stances'][_0x23024f]['node']);_0x4cdae7['skinInstan'+'ce']=new Vm(this['device'],_0x51f5ea,this['rootNode']);}_0x4cdae7['_updateAab'+'b']=!(0x1a98+0x6f+-0x1b06),_0x4cdae7['drawOrder']=_0x74eb32['origMeshIn'+'stances'][0x8*-0x4a9+-0x1811+0x3d59]['drawOrder'],_0x4cdae7['stencilFro'+'nt']=_0x74eb32['origMeshIn'+'stances'][0x3*0x3ea+0x6d1*-0x3+0x8b5*0x1]['stencilFro'+'nt'],_0x4cdae7['stencilBac'+'k']=_0x74eb32['origMeshIn'+'stances'][0x371+-0x239e*-0x1+-0x270f]['stencilBac'+'k'],_0x4cdae7['flipFacesF'+'actor']=vd(_0x74eb32['origMeshIn'+'stances'][0x7*-0x40f+0x1ff2+-0x389]),_0x4cdae7['castShadow']=_0x74eb32['origMeshIn'+'stances'][-0x1f36+-0xfee+0x2f24]['castShadow'],_0x74eb32['meshInstan'+'ce']=_0x4cdae7,_0x74eb32['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=re()-_0x29699b,_0x74eb32;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x1851+0x1*-0x5a5+-0x12ac&&this['generate'](this['_dirtyGrou'+'ps']);const _0x250d8b=re();for(let _0x53768c=-0x6b3*-0x3+-0x1393*0x1+0x86*-0x1;_0x53768c<this['_batchList']['length'];_0x53768c++)this['_batchList'][_0x53768c]['dynamic']&&this['_batchList'][_0x53768c]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=re()-_0x250d8b;}['clone'](_0x197bbd,_0x49b348){const _0x50ad02=new zm(_0x49b348,_0x197bbd['dynamic'],_0x197bbd['batchGroup'+'Id']);this['_batchList']['push'](_0x50ad02);const _0x2aba7a=[];for(let _0x385865=0x1*0x1b2d+0x1*-0x6ec+0x5*-0x40d;_0x385865<_0x49b348['length'];_0x385865++)_0x2aba7a['push'](_0x49b348[_0x385865]['node']);return _0x50ad02['meshInstan'+'ce']=new Le(_0x197bbd['meshInstan'+'ce']['mesh'],_0x197bbd['meshInstan'+'ce']['material'],_0x197bbd['meshInstan'+'ce']['node']),_0x50ad02['meshInstan'+'ce']['_updateAab'+'b']=!(-0x8e4*-0x1+-0x1f7*0x5+0xf0),_0x50ad02['meshInstan'+'ce']['parameters']=_0x49b348[0x49d+0x29f*0x1+-0x73c]['parameters'],_0x50ad02['meshInstan'+'ce']['cull']=_0x49b348[0x2*-0x886+-0xbdf*-0x1+-0x5*-0x109]['cull'],_0x50ad02['meshInstan'+'ce']['layer']=_0x49b348[0x1c63+0xfc5+-0x2c28]['layer'],_0x197bbd['dynamic']&&(_0x50ad02['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x2aba7a,this['rootNode'])),_0x50ad02['meshInstan'+'ce']['castShadow']=_0x197bbd['meshInstan'+'ce']['castShadow'],_0x50ad02;}['destroyBat'+'ch'](_0x14bca6){_0x14bca6['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x14bca6['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uE extends fs{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0xaa9f52,_0x713f2d,_0x76f8f7){if((_0xaa9f52==null?void(0x3d*0x29+0x1*-0x1abb+0x10f6):_0xaa9f52['colorBuffe'+'r']['format'])!==_0x76f8f7)return!(0x1*-0x12d1+0x607+-0x1*-0xcca);const _0x43d061=(_0x713f2d==null?void(0x850+0x1920+-0x2170):_0x713f2d['width'])||this['device']['width'],_0x51b60f=(_0x713f2d==null?void(0x136b+0x1*-0x2ce+-0x109d):_0x713f2d['height'])||this['device']['height'];return!_0xaa9f52||_0x43d061!==_0xaa9f52['width']||_0x51b60f!==_0xaa9f52['height'];}['allocateRe'+'nderTarget'](_0x4934ec,_0x20ce86,_0x5baf84,_0x1dca52){const _0x554e9c=new he(_0x5baf84,{'name':Km,'format':_0x1dca52,'width':_0x20ce86?_0x20ce86['colorBuffe'+'r']['width']:_0x5baf84['width'],'height':_0x20ce86?_0x20ce86['colorBuffe'+'r']['height']:_0x5baf84['height'],'mipmaps':!(0xae*0x39+0x1d58+-0x4416),'minFilter':nn,'magFilter':tt,'addressU':ne,'addressV':ne});return _0x4934ec?(_0x4934ec['destroyFra'+'meBuffers'](),_0x4934ec['_colorBuff'+'er']=_0x554e9c,_0x4934ec['_colorBuff'+'ers']=[_0x554e9c]):_0x4934ec=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x554e9c,'depth':!(0x1b3e+-0x1f18+0x3db),'stencil':!(0x1673+-0x24b5*-0x1+-0x3b27),'autoResolve':!(-0xd12*0x2+0x1fc*-0xc+0x31f5)}),_0x4934ec;}['releaseRen'+'derTarget'](_0x3ff5bc){_0x3ff5bc&&(_0x3ff5bc['destroyTex'+'tureBuffer'+'s'](),_0x3ff5bc['destroy']());}['frameUpdat'+'e'](){const _0x47ecb0=this['device'],_0x4600a6=this['source'],_0x49096b=(_0x4600a6==null?void(0x1ff5*0x1+-0x680+-0x1975):_0x4600a6['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x4600a6==null?void(-0x2117+-0x1*-0x106+0x2011*0x1):_0x4600a6['colorBuffe'+'r'],_0x49096b)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x4600a6,_0x47ecb0,_0x49096b));const _0x30ec3c=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x47ecb0['scope']['resolve'](Km)['setValue'](_0x30ec3c);}['execute'](){const _0x2483df=this['device'];G['pushGpuMar'+'ker'](_0x2483df,'GRAB-COLOR');const _0x15d890=this['source'],_0x4699aa=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x2483df['isWebGPU']?(_0x2483df['copyRender'+'Target'](_0x15d890,this['colorRende'+'rTarget'],!(-0x1f*-0xe1+0x6b0+-0x21ef),!(-0x230c+-0x1c13+0x3f20)),_0x2483df['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x2483df['copyRender'+'Target'](_0x15d890,this['colorRende'+'rTarget'],!(0xdac*0x2+0x1855+-0x33ad),!(0x7ce+-0x2*0xbba+0xfa7)),_0x2483df['activeText'+'ure'](_0x2483df['maxCombine'+'dTextures']-(0xbda*0x3+0x1541+-0xb*0x52a)),_0x2483df['bindTextur'+'e'](_0x4699aa),_0x2483df['gl']['generateMi'+'pmap'](_0x4699aa['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x2483df);}}const Zm='uSceneDept'+'hMap';class fE extends fs{constructor(_0x8e48e2,_0x494cd4){super(_0x8e48e2),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x494cd4;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x5ecc6a,_0x6c273d){const _0x45a721=(_0x6c273d==null?void(-0xdc*0x9+0x1*-0x1b55+0x2311):_0x6c273d['width'])||this['device']['width'],_0x1b8d38=(_0x6c273d==null?void(-0x1d*0x14c+0x761*0x1+0x1e3b):_0x6c273d['height'])||this['device']['height'];return!_0x5ecc6a||_0x45a721!==_0x5ecc6a['width']||_0x1b8d38!==_0x5ecc6a['height'];}['allocateRe'+'nderTarget'](_0x175905,_0x3313db,_0x4a084a,_0x4c1f28,_0x351593){const _0x32b877=new he(_0x4a084a,{'name':Zm,'format':_0x4c1f28,'width':_0x3313db?_0x3313db['colorBuffe'+'r']['width']:_0x4a084a['width'],'height':_0x3313db?_0x3313db['colorBuffe'+'r']['height']:_0x4a084a['height'],'mipmaps':!(-0x17e7+0x2173+-0x7*0x15d),'minFilter':de,'magFilter':de,'addressU':ne,'addressV':ne});return _0x175905?(_0x175905['destroyFra'+'meBuffers'](),_0x351593?_0x175905['_depthBuff'+'er']=_0x32b877:(_0x175905['_colorBuff'+'er']=_0x32b877,_0x175905['_colorBuff'+'ers']=[_0x32b877])):_0x175905=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x351593?null:_0x32b877,'depthBuffer':_0x351593?_0x32b877:null,'depth':!_0x351593,'stencil':_0x4a084a['supportsSt'+'encil'],'autoResolve':!(-0x2*0x23b+0x1977*-0x1+0x1dee)}),_0x175905;}['releaseRen'+'derTarget'](_0x11b722){_0x11b722&&(_0x11b722['destroyTex'+'tureBuffer'+'s'](),_0x11b722['destroy']());}['before'](){var _0x11ab86,_0x37f9df;const _0x669096=this['camera'],_0x51afb0=this['device'],_0x5f204c=(_0x669096==null?void(-0x677*-0x1+0x1*-0x1eab+0x1*0x1834):_0x669096['renderTarg'+'et'])??_0x51afb0['backBuffer'];let _0x2265dc=!(0x15ce*-0x1+-0x1ec2*-0x1+-0x8f4),_0x42d157=_0x5f204c['stencil']?bc:Pi;_0x51afb0['isWebGPU']&&_0x5f204c['samples']>0xc38+0xe78+0x21*-0xcf&&(_0x42d157=Li,_0x2265dc=!(-0x393*0x4+-0x208b+0x2*0x176c));const _0x5269cb=((_0x11ab86=_0x669096['renderTarg'+'et'])==null?void(-0x2485+-0x1511+0x3996):_0x11ab86['depthBuffe'+'r'])??((_0x37f9df=_0x669096['renderTarg'+'et'])==null?void(0xe9*0x17+-0x17*0x3b+-0xfa2):_0x37f9df['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x5269cb)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x669096['renderTarg'+'et'],_0x51afb0,_0x42d157,_0x2265dc));const _0x55b0cd=_0x2265dc?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x51afb0['scope']['resolve'](Zm)['setValue'](_0x55b0cd);}['execute'](){const _0x78f54b=this['device'];if(G['pushGpuMar'+'ker'](_0x78f54b,'GRAB-DEPTH'),_0x78f54b['isWebGL2']&&_0x78f54b['renderTarg'+'et']['samples']>-0xeb5+0x2*0x10a6+-0x1296){const _0x346559=_0x78f54b['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x5d144a=this['depthRende'+'rTarget'];_0x78f54b['renderTarg'+'et']=_0x5d144a,_0x78f54b['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x78f54b,_0x346559,_0x5d144a['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x78f54b['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x78f54b['copyRender'+'Target'](_0x78f54b['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x1*0x2f9+-0x17c3+-0x1*-0x14cb),!(-0x12*-0x15+-0x25dc*-0x1+-0x2756));G['popGpuMark'+'er'](_0x78f54b);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',ch),c(this,'_toneMappi'+'ng',Cp),c(this,'_srgbRende'+'rTarget',!(0x25ef+-0x1*-0x1ff+-0x27ed)),c(this,'_ssaoEnabl'+'ed',!(-0x2662+-0x8b7+0x178d*0x2)),c(this,'_fog',ka),c(this,'_sceneDept'+'hMapLinear',!(-0x1a3*-0x11+-0x56b*0x4+-0x626)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(-0x4d9+-0x11de+0x16b7));}get['hash'](){if(this['_hash']===void(-0xe6b*0x2+0x1a8e+0x4*0x92)){const _0x485125=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x485125);}return this['_hash'];}get['defines'](){const _0x9c891d=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x7ad+0x1115+-0x18c1),_0x9c891d['clear'](),this['_sceneDept'+'hMapLinear']&&_0x9c891d['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x2*0x27b+0xcfa*0x1+-0x2ac*0x3)),_0x9c891d['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x9c891d['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x9c891d['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x9c891d;}['markDirty'](){this['_hash']=void(0xa*0xac+-0x76+-0x642),this['_definesDi'+'rty']=!(-0xb39+0x2*-0xe59+0xb*0x3a1);}set['fog'](_0x305017){this['_fog']!==_0x305017&&(this['_fog']=_0x305017,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x59599a){this['_ssaoEnabl'+'ed']!==_0x59599a&&(this['_ssaoEnabl'+'ed']=_0x59599a,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x3ca6ee){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0xec1+0x5db*-0x1+-0xa4e*-0x2),this['_gammaCorr'+'ection']!==_0x3ca6ee&&(this['_gammaCorr'+'ection']=_0x3ca6ee,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x4ccf04){this['_toneMappi'+'ng']!==_0x4ccf04&&(this['_toneMappi'+'ng']=_0x4ccf04,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x35f813){this['_srgbRende'+'rTarget']!==_0x35f813&&(this['_srgbRende'+'rTarget']=_0x35f813,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x1c96a7){this['_sceneDept'+'hMapLinear']!==_0x1c96a7&&(this['_sceneDept'+'hMapLinear']=_0x1c96a7,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===ch&&!this['_srgbRende'+'rTarget']?ch:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pE=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0x200*0x3+0xc4d+-0x124d),(this['_aspectRat'+'io']=(0xaac+0x8f+-0xb2b*0x1)/(-0x1*0x287+0xd26+-0x5*0x21e),this['_aspectRat'+'ioMode']=Dp,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(0x3e7+0x26ec+-0x2ad3+0.75,0x83*-0x2d+0x234+0x14d3+0.75,0x1*-0x196+0x1f4c+-0x2*0xedb+0.75,-0x51d+0x1*0xd9d+-0x87f),this['_clearColo'+'rBuffer']=!(-0x25e*-0x5+0x1*-0x26d5+0x1*0x1aff),this['_clearDept'+'h']=-0xd74+-0x1357*0x1+0x20cc,this['_clearDept'+'hBuffer']=!(0xd0d+0x1*0x3e5+-0x10f2),this['_clearSten'+'cil']=0x1318+-0x53a+-0xdde,this['_clearSten'+'cilBuffer']=!(-0x567+0x6ec+0x185*-0x1),this['_cullFaces']=!(0xdb*-0x3+0x22*0x62+0x217*-0x5),this['_farClip']=0x3*-0xad+-0x6ea+0x1*0xcd9,this['_flipFaces']=!(-0x191*-0xd+-0x5d+-0x13ff),this['_fov']=-0xec0+0x1b06+-0xc19,this['_frustumCu'+'lling']=!(-0x17f8+-0x241d*0x1+0x3c15),this['_horizonta'+'lFov']=!(-0x3*-0x18a+0x128e+-0x172b),this['_layers']=[Oi,Yt,bp,tl,wp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0xb40*0x1+-0x448*0x5+-0x6e*-0x4c+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x22*0xb3+-0x168+-0x434*-0x6,this['_projectio'+'n']=Gs,this['_rect']=new Q(-0x65*-0x2b+-0x1dcd+-0xcd6*-0x1,-0x3*-0x903+-0x98d+-0x117c,0xa8a+0x5a1+-0x1*0x102a,0x1*-0x1f8f+0x19ce*0x1+0x5c2),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(-0x2*-0xfb2+-0x5*0xdf+0x1*-0x1b09,-0xde*0x21+0x28*-0xfa+0x21d7*0x2,-0x251f*-0x1+-0x1*0xb81+-0x199d*0x1,-0x24d0+-0x17f2+0x1*0x3cc3),this['_scissorRe'+'ctClear']=!(0x2*0x5e9+0xdfd+0x19ce*-0x1),this['_aperture']=-0x4d8*0x8+0x2be*0x3+0x1e96,this['_shutter']=(-0x9e3*0x1+-0x184a+0xa*0x36b)/(0x1*-0x185e+-0x2*-0x108d+-0x135*0x4),this['_sensitivi'+'ty']=0x2053*-0x1+0x1*-0xb31+-0x2*-0x17b6,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x748*0x1+-0xb2b+0x1273*0x1),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(0x5cf+-0x190+-0x43f),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(-0x18f4+-0x14f*-0xb+0xa8f),this['_shaderMat'+'ricesVersi'+'on']=0x1*-0x1b91+0x148b*-0x1+0xc07*0x4,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[-0x2*-0x6b2+-0x10c*-0x1a+-0x289c,0x23ea+0x977+0x2d61*-0x1,-0x1b53+-0x224b+0x3d9e,0x1810+-0x1fe9+-0x1*-0x7d9],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x58512b,_0x2ca2c6;(_0x58512b=this['renderPass'+'ColorGrab'])==null||_0x58512b['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x2ca2c6=this['renderPass'+'DepthGrab'])==null||_0x2ca2c6['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0xbe*0x13+0x1*0x73b+0x7f*-0x2b;}['_storeShad'+'erMatrices'](_0x2389ef,_0x11e440,_0x3e543f,_0x11ace0){this['_shaderMat'+'ricesVersi'+'on']!==_0x11ace0&&(this['_shaderMat'+'ricesVersi'+'on']=_0x11ace0,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x2389ef),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x2389ef),this['_viewProjI'+'nverse']['invert'](_0x2389ef),this['_jitters'][0x1ae7+0x299+-0x1d7e]=this['_jitters'][0xb*-0x317+0x6*0x598+0x6d],this['_jitters'][-0x1*-0xb2+-0x1609*-0x1+0x16b8*-0x1]=this['_jitters'][-0x200e+-0x493*0x1+0x412*0x9],this['_jitters'][0x30d+0x12*-0x198+0x19a3]=_0x11e440,this['_jitters'][0x704+-0x27*0xbc+0x7*0x317]=_0x3e543f);}get['fullSizeCl'+'earRect'](){const _0x5d9c1c=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x5d9c1c['x']===-0x9d6+0x3*0x2d3+0x15d&&_0x5d9c1c['y']===-0x158e+0x24a6+-0xf18&&_0x5d9c1c['z']===0x1120+-0x20f2*-0x1+-0x3211&&_0x5d9c1c['w']===-0x1*0x17bf+0x11a7+0x619;}set['aspectRati'+'o'](_0x487964){this['_aspectRat'+'io']!==_0x487964&&(this['_aspectRat'+'io']=_0x487964,this['_projMatDi'+'rty']=!(-0x5db*0x4+-0x73c+0x1ea8));}get['aspectRati'+'o'](){var _0x2a538a;return(_0x2a538a=this['xr'])!=null&&_0x2a538a['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x2c04e4){this['_aspectRat'+'ioMode']!==_0x2c04e4&&(this['_aspectRat'+'ioMode']=_0x2c04e4,this['_projMatDi'+'rty']=!(0x1ed4+-0x3c3+-0x1b11));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x282ad8){this['_calculate'+'Projection']=_0x282ad8,this['_projMatDi'+'rty']=!(-0xe4a+0xb72+0x2d8);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x463688){this['_calculate'+'Transform']=_0x463688;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x506788){this['_clearColo'+'r']['copy'](_0x506788);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x261312){this['_clearColo'+'rBuffer']=_0x261312;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x276d24){this['_clearDept'+'h']=_0x276d24;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x3b12b1){this['_clearDept'+'hBuffer']=_0x3b12b1;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x31c8d3){this['_clearSten'+'cil']=_0x31c8d3;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x345223){this['_clearSten'+'cilBuffer']=_0x345223;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x594370){this['_cullFaces']=_0x594370;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x4d0e45){this['_farClip']!==_0x4d0e45&&(this['_farClip']=_0x4d0e45,this['_projMatDi'+'rty']=!(-0xb47+-0x1355+0x1e9c));}get['farClip'](){var _0x3296b5;return(_0x3296b5=this['xr'])!=null&&_0x3296b5['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0xd6d64b){this['_flipFaces']=_0xd6d64b;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x42c4b8){this['_fov']!==_0x42c4b8&&(this['_fov']=_0x42c4b8,this['_projMatDi'+'rty']=!(0x54b*-0x1+0x17*0x3b+0x2*-0x1));}get['fov'](){var _0x5e3cac;return(_0x5e3cac=this['xr'])!=null&&_0x5e3cac['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x1ca0cb){this['_frustumCu'+'lling']=_0x1ca0cb;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x2898b9){this['_horizonta'+'lFov']!==_0x2898b9&&(this['_horizonta'+'lFov']=_0x2898b9,this['_projMatDi'+'rty']=!(-0x1878+0x209*0x8+0x106*0x8));}get['horizontal'+'Fov'](){var _0x5260ea;return(_0x5260ea=this['xr'])!=null&&_0x5260ea['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x5585d3){this['_layers']=_0x5585d3['slice'](-0x7e*-0x39+0x1ff*-0xf+0x1e3),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x200dd4){this['_nearClip']!==_0x200dd4&&(this['_nearClip']=_0x200dd4,this['_projMatDi'+'rty']=!(-0x1*0x21ca+0x1a9d+0xa7*0xb));}get['nearClip'](){var _0x2bd727;return(_0x2bd727=this['xr'])!=null&&_0x2bd727['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x18dddc){this['_node']=_0x18dddc;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x3c13af){this['_orthoHeig'+'ht']!==_0x3c13af&&(this['_orthoHeig'+'ht']=_0x3c13af,this['_projMatDi'+'rty']=!(0x3*-0x24f+0x746+-0x1*0x59));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x1510af){this['_projectio'+'n']!==_0x1510af&&(this['_projectio'+'n']=_0x1510af,this['_projMatDi'+'rty']=!(-0xf0e+-0x3b3*-0x7+-0x25*0x4b));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x25298a){this['_rect']['copy'](_0x25298a);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x19a17c){this['_renderTar'+'get']=_0x19a17c;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x3f3418){this['_scissorRe'+'ct']['copy'](_0x3f3418);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x50504f=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x50504f)['invert'](),this['_viewMatDi'+'rty']=!(-0x3*0xa64+-0x5ad*0x5+-0x16*-0x2b5);}return this['_viewMat'];}set['aperture'](_0x46c10f){this['_aperture']=_0x46c10f;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x1a94bf){this['_sensitivi'+'ty']=_0x1a94bf;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x36c377){this['_shutter']=_0x36c377;}get['shutter'](){return this['_shutter'];}set['xr'](_0x30b526){this['_xr']!==_0x30b526&&(this['_xr']=_0x30b526,this['_projMatDi'+'rty']=!(0x23*-0x10d+0x9*-0x1f6+0x366d*0x1));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x2917de){return this['_aspectRat'+'io']=_0x2917de['_aspectRat'+'io'],this['_farClip']=_0x2917de['_farClip'],this['_fov']=_0x2917de['_fov'],this['_horizonta'+'lFov']=_0x2917de['_horizonta'+'lFov'],this['_nearClip']=_0x2917de['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x2917de['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x2917de['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x2917de['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x2917de['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x2917de['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x2917de['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x2917de['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x2917de['calculateT'+'ransform'],this['clearColor']=_0x2917de['clearColor'],this['clearColor'+'Buffer']=_0x2917de['clearColor'+'Buffer'],this['clearDepth']=_0x2917de['clearDepth'],this['clearDepth'+'Buffer']=_0x2917de['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x2917de['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x2917de['clearStenc'+'ilBuffer'],this['cullFaces']=_0x2917de['cullFaces'],this['flipFaces']=_0x2917de['flipFaces'],this['frustumCul'+'ling']=_0x2917de['frustumCul'+'ling'],this['layers']=_0x2917de['layers'],this['orthoHeigh'+'t']=_0x2917de['orthoHeigh'+'t'],this['projection']=_0x2917de['projection'],this['rect']=_0x2917de['rect'],this['renderTarg'+'et']=_0x2917de['renderTarg'+'et'],this['scissorRec'+'t']=_0x2917de['scissorRec'+'t'],this['aperture']=_0x2917de['aperture'],this['shutter']=_0x2917de['shutter'],this['sensitivit'+'y']=_0x2917de['sensitivit'+'y'],this['shaderPass'+'Info']=_0x2917de['shaderPass'+'Info'],this['jitter']=_0x2917de['jitter'],this['_projMatDi'+'rty']=!(0xf1f+-0x200*-0x13+-0x351f),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x588692,_0x2954ee){var _0x153165;_0x2954ee?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uE(_0x588692)):((_0x153165=this['renderPass'+'ColorGrab'])==null||_0x153165['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x35d541,_0x358e74,_0x5b50e5){var _0x1f6124;_0x5b50e5?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fE(_0x35d541,this)):((_0x1f6124=this['renderPass'+'DepthGrab'])==null||_0x1f6124['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0xec*-0x20+-0xcf3+-0x108c));}['worldToScr'+'een'](_0x3ad52a,_0x3ced36,_0x353d41,_0x448159=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x3ad52a,_0x448159);const _0x5898b9=this['_viewProjM'+'at']['data'],_0x282492=_0x3ad52a['x']*_0x5898b9[0x1f98+-0xd2*0x1f+-0x5*0x13b]+_0x3ad52a['y']*_0x5898b9[-0xe51*0x1+0x1155*-0x1+0x1dd*0x11]+_0x3ad52a['z']*_0x5898b9[0x5*-0x13+-0x30c*-0x9+-0xd81*0x2]+(-0x972+0x4f2+-0x481*-0x1)*_0x5898b9[0x1594+-0x2281+0xcfc];return _0x448159['x']=(_0x448159['x']/_0x282492+(0x20c5+0x1*-0xf25+0x1*-0x119f))*(0x4f*0x73+0x1c3e+-0x4e7*0xd+0.5)*_0x3ced36,_0x448159['y']=(-0xba*0x2b+0x23f+-0x4*-0x740-_0x448159['y']/_0x282492)*(0x19ab+-0xe9b+-0xb10+0.5)*_0x353d41,_0x448159;}['screenToWo'+'rld'](_0x2916e1,_0x8ad803,_0x2aee01,_0x32d8f5,_0xd7bcfc,_0xd1be88=new T()){const _0x239be5=this['farClip']-this['nearClip'];if(En['set'](_0x2916e1/_0x32d8f5,(_0xd7bcfc-_0x8ad803)/_0xd7bcfc,_0x2aee01/_0x239be5),En['mulScalar'](-0xc6*-0x4+0x1646+-0x195c),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x3faae9=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x3faae9['transformP'+'oint'](Wa,Qm);const _0x42a963=this['_node']['getPositio'+'n']();_0xd1be88['sub2'](Qm,_0x42a963),_0xd1be88['normalize'](),_0xd1be88['mulScalar'](_0x2aee01),_0xd1be88['add'](_0x42a963);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0xd1be88);return _0xd1be88;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x19a5d1=this['_orthoHeig'+'ht'],_0x3a449c=_0x19a5d1*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x3a449c,_0x3a449c,-_0x19a5d1,_0x19a5d1,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x1cef+0xae8+-0x482*-0x4);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x54444b=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x969*0x4+0x19e4+-0xe*-0xde)/this['_sensitivi'+'ty']);return(0x109f+-0xb46+-0x558)/(Math['pow'](0x10e7+-0x4*-0x7fe+-0x30dd,_0x54444b)*(0x295+0x25db+0xb*-0x3ad+0.19999999999999996));}['getScreenS'+'ize'](_0x30dd0e){if(this['_projectio'+'n']===Gs){const _0x46b059=this['_node']['getPositio'+'n']()['distance'](_0x30dd0e['center']);if(_0x46b059<_0x30dd0e['radius'])return-0x12d5*-0x2+0x1ff3+0x5a*-0xc6;const _0x515ce1=Math['asin'](_0x30dd0e['radius']/_0x46b059),_0x1517dc=Math['tan'](_0x515ce1),_0x17ec00=Math['tan'](this['fov']/(-0x10af+-0x13d4+0x2485)*N['DEG_TO_RAD']);return Math['min'](_0x1517dc/_0x17ec00,-0x1*-0x2339+-0xc9d+-0x169b);}return N['clamp'](_0x30dd0e['radius']/this['_orthoHeig'+'ht'],0x18c2+-0x10e7+-0x7db,-0xd*-0x2d3+-0x1e65+-0x651);}['getFrustum'+'Corners'](_0x15678a=this['nearClip'],_0x4e30c3=this['farClip']){const _0xfa5923=this['fov']*Math['PI']/(-0x7*-0x55d+0xbb*0x30+-0x4f*0xe9);let _0x177cff,_0x5d1de9;this['projection']===Gs?this['horizontal'+'Fov']?(_0x177cff=_0x15678a*Math['tan'](_0xfa5923/(0x2b*-0x94+0x1e82+-0x5a4)),_0x5d1de9=_0x177cff/this['aspectRati'+'o']):(_0x5d1de9=_0x15678a*Math['tan'](_0xfa5923/(0x14d9+-0x2c9*0x5+-0x6ea)),_0x177cff=_0x5d1de9*this['aspectRati'+'o']):(_0x5d1de9=this['_orthoHeig'+'ht'],_0x177cff=_0x5d1de9*this['aspectRati'+'o']);const _0x59104b=pE;return _0x59104b[-0xa47*-0x3+0xb65+-0x439*0xa]['x']=_0x177cff,_0x59104b[-0xe95+-0x1*-0x2615+-0x1*0x1780]['y']=-_0x5d1de9,_0x59104b[0xd18+-0x1369*0x1+0x651]['z']=-_0x15678a,_0x59104b[-0x1*-0x1fa2+0x5*-0x220+0x13*-0x11b]['x']=_0x177cff,_0x59104b[0x1406+-0x992+-0xa73]['y']=_0x5d1de9,_0x59104b[-0x24*0xe0+-0x10*0x1c6+0x3be1]['z']=-_0x15678a,_0x59104b[0x2397*-0x1+0x3*0x247+0x1cc4]['x']=-_0x177cff,_0x59104b[0x4d*0x69+-0x3*-0x709+-0x34ae]['y']=_0x5d1de9,_0x59104b[0xe35+-0x803*0x2+0x1d3]['z']=-_0x15678a,_0x59104b[0x23*-0x9a+-0x239*0x4+0x1df5]['x']=-_0x177cff,_0x59104b[-0x2*-0xad9+-0x2*0xefd+0x84b]['y']=-_0x5d1de9,_0x59104b[-0x137d*-0x1+-0x4*0x100+-0x7bd*0x2]['z']=-_0x15678a,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x177cff=_0x4e30c3*Math['tan'](_0xfa5923/(-0x10*-0x244+-0x24b*-0x1+-0x5*0x7b5)),_0x5d1de9=_0x177cff/this['aspectRati'+'o']):(_0x5d1de9=_0x4e30c3*Math['tan'](_0xfa5923/(0x15f7+0x1b1e+0x11*-0x2e3)),_0x177cff=_0x5d1de9*this['aspectRati'+'o'])),_0x59104b[0x497+-0x224f+-0x2b4*-0xb]['x']=_0x177cff,_0x59104b[-0xa6a+-0x2254+0x2cc2]['y']=-_0x5d1de9,_0x59104b[-0x64b+-0x24*-0xd1+0x1715*-0x1]['z']=-_0x4e30c3,_0x59104b[-0x2572+-0x52a*0x4+-0x3a1f*-0x1]['x']=_0x177cff,_0x59104b[-0x569*0x7+0x1db8+0x82c]['y']=_0x5d1de9,_0x59104b[0x1a29+0x2f5+-0x1d19*0x1]['z']=-_0x4e30c3,_0x59104b[-0x1*0xe1f+0xe77*0x1+-0x52]['x']=-_0x177cff,_0x59104b[0x17ce*-0x1+0x4*-0x95b+0x3d40]['y']=_0x5d1de9,_0x59104b[0x2290+0x183*-0x17+0x1*0x3b]['z']=-_0x4e30c3,_0x59104b[-0x1765+-0x112e+0x289a]['x']=-_0x177cff,_0x59104b[0xa41+-0x25b7+0x1f*0xe3]['y']=-_0x5d1de9,_0x59104b[-0x307+-0x182f+0x1b3d]['z']=-_0x4e30c3,_0x59104b;}['setXrPrope'+'rties'](_0x497258){Object['assign'](this['_xrPropert'+'ies'],_0x497258),this['_projMatDi'+'rty']=!(-0x1cf*-0x10+0x20bf+-0x3daf);}}const e_=new q(),t_=new q(),s_=new q(),Ji=class Ji{static['create'](_0x3c2fe1,_0x21abc1,_0x4e0ee7){const _0x7374fd=new ol();switch(_0x7374fd['node']=new De(_0x3c2fe1),_0x7374fd['aspectRati'+'o']=-0x1*-0x75e+0x20d4+-0x2831,_0x7374fd['aspectRati'+'oMode']=Nu,_0x7374fd['_scissorRe'+'ctClear']=!(0x1869+0x56c*-0x3+-0x825),_0x21abc1){case Pe:_0x7374fd['node']['setRotatio'+'n'](Ji['pointLight'+'Rotations'][_0x4e0ee7]),_0x7374fd['fov']=-0x1*0x22da+-0x15a0+0x1c6a*0x2,_0x7374fd['projection']=Gs;break;case Re:_0x7374fd['projection']=Gs;break;case ae:_0x7374fd['projection']=fa;break;}return _0x7374fd;}static['evalSpotCo'+'okieMatrix'](_0x2f6085){let _0x246fce=Ji['_spotCooki'+'eCamera'];_0x246fce||(_0x246fce=Ji['create']('SpotCookie'+'Camera',Re),Ji['_spotCooki'+'eCamera']=_0x246fce),_0x246fce['fov']=_0x2f6085['_outerCone'+'Angle']*(-0x151a+-0x21ee+0x370a);const _0x3d4ab4=_0x246fce['_node'];_0x3d4ab4['setPositio'+'n'](_0x2f6085['_node']['getPositio'+'n']()),_0x3d4ab4['setRotatio'+'n'](_0x2f6085['_node']['getRotatio'+'n']()),_0x3d4ab4['rotateLoca'+'l'](-(-0x1*0x127+0x2648+-0x24c7),-0x9*0x2bb+-0xe1a+0x26ad,0xa29+-0x8d*-0x12+0x3*-0x6b1),e_['setTRS'](_0x3d4ab4['getPositio'+'n'](),_0x3d4ab4['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x246fce['projection'+'Matrix'],e_);const _0x16d31c=_0x2f6085['cookieMatr'+'ix'],_0x4b37b3=_0x2f6085['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x4b37b3['x'],_0x4b37b3['y'],_0x4b37b3['z'],_0x4b37b3['w']),_0x16d31c['mul2'](s_,t_),_0x16d31c;}};c(Ji,'pointLight'+'Rotations',[new te()['setFromEul'+'erAngles'](-0x1b*0x5d+0x2e6+0x6e9*0x1,0x1e4+0x17b3+-0x193d,-0x17e0+0x2*-0xe55+0x353e),new te()['setFromEul'+'erAngles'](0x2*0x119+-0x108e+-0x2*-0x72e,-(-0x1e9c+0x130+0x1dc6),0x6*-0x46d+0x245e+-0x91c),new te()['setFromEul'+'erAngles'](-0x8*0x1af+0x663+0x76f,0x21ef+-0x3*0x7b4+0xad3*-0x1,-0x79*0x31+-0x23d7+0x3b00),new te()['setFromEul'+'erAngles'](-(-0x17b7+-0x25cf+-0x3de*-0x10),-0xa*0x279+0x47d*0x2+-0x2*-0x7e0,-0x1f52+-0x1*0x13e4+0x45*0xbe),new te()['setFromEul'+'erAngles'](0x10ad+-0x3a*-0x80+-0x2dad,0x1*-0x1a65+-0xca9+-0x13e1*-0x2,0x2*0x46e+0x1*0x1363+-0x1b8b),new te()['setFromEul'+'erAngles'](0x148d+-0xe2f*0x2+0x7d1,0x87e*0x2+-0x549*-0x1+-0x1645*0x1,0x315+-0x1f91+0x1d30)]),c(Ji,'_spotCooki'+'eCamera',null);let Pa=Ji;const i_=-0x3ce+-0x8*0x2cf+0xb1*0x26+0.000001,Jt=new T(),xr=new Float32Array(-0x11a3+-0x1cdd+0x18d*0x1e),mE=new T(-(-0x54*-0x5f+-0xf47+-0xfe5+0.5),0x26b8+0x250d+-0x4bc5*0x1,-0x25*0x80+-0x51*0x5+0x1415),_E=new T(0xaf+-0x142c+0x3*0x67f,-0x1*-0xaca+0x1da8*0x1+-0x2872,0x47*0x4f+0x2*0x1129+-0x383b+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},ot={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let bd;class C0{constructor(_0x49c1b3){c(this,'areaLights'+'Enabled',!(0x24bd+-0x1c11+-0x8ab)),(this['device']=_0x49c1b3,this['cookiesEna'+'bled']=!(-0x1483+-0x1c60+0x30e4),this['shadowsEna'+'bled']=!(-0x24ab+-0x1af8+0x3fa4),this['areaLights'+'Enabled']=!(-0x8f*-0x25+-0x1ac*0x14+-0x2*-0x663),this['maxLights']=-0x16b5+-0x9e*0x32+0x2*0x1b48);const _0x3072b7=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((0xa55+0xe8f+-0x18e0)*_0x3072b7*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x3072b7,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x2bc212=ot['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x17*0xad+-0x29*0x2+-0xf35)*_0x2bc212*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x2bc212,this['maxLights'],Ye,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x1618+0x1251*0x1+0x5*-0x815,this['invMaxAtte'+'nuation']=0x151*-0x17+-0x283*0x3+0x25d0,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x33e7d2=(_0x162d46,_0x578a59)=>Object['keys'](_0x162d46)['map'](_0x2292fa=>'#define\x20'+_0x578a59+_0x2292fa+'\x20'+_0x162d46[_0x2292fa])['join']('\x0a');return bd||(bd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33e7d2(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x33e7d2(ot,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),bd;}['destroy'](){var _0xeff8ea,_0x31cec5;(_0xeff8ea=this['lightsText'+'ure8'])==null||_0xeff8ea['destroy'](),this['lightsText'+'ure8']=null,(_0x31cec5=this['lightsText'+'ureFloat'])==null||_0x31cec5['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x2ddec8,_0x3f7590,_0x455805,_0x3ece27,_0x3ec508){return new he(_0x2ddec8,{'name':_0x3ec508,'width':_0x3f7590,'height':_0x455805,'mipmaps':!(0x23c2+0x2*0xfb1+0x1661*-0x3),'format':_0x3ece27,'addressU':ne,'addressV':ne,'type':Fi,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x563f50,_0x13707a){this['invMaxColo'+'rValue']=(0x2*0x116e+-0x21e7+-0xf4)/_0x13707a,this['invMaxAtte'+'nuation']=(-0xb3c*0x1+0x1*-0x1516+0x2053)/_0x563f50;}['setBounds'](_0x18da1b,_0x4f423b){this['boundsMin']['copy'](_0x18da1b),this['boundsDelt'+'a']['copy'](_0x4f423b);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x56108f,_0x46d566){_0x46d566['_node']['getWorldTr'+'ansform']()['getY'](_0x56108f)['mulScalar'](-(-0xfed+0x1732+-0x744)),_0x56108f['normalize']();}['getLightAr'+'eaSizes'](_0x4fba1c){const _0x4bac1c=_0x4fba1c['_node']['getWorldTr'+'ansform']();return _0x4bac1c['transformV'+'ector'](mE,Jt),xr[-0x266a+-0x3ce*0x1+0x2a38]=Jt['x'],xr[-0xc01*-0x1+0xf79*0x1+0x1b79*-0x1]=Jt['y'],xr[-0xc4*-0x2+0x954+0x3*-0x39e]=Jt['z'],_0x4bac1c['transformV'+'ector'](_E,Jt),xr[0x1c*0x8d+-0xce*-0x5+-0x136f]=Jt['x'],xr[0x1*0x2622+-0x1241*-0x1+-0x385f]=Jt['y'],xr[0x653*-0x2+0x1*0x135+0xb76]=Jt['z'],xr;}['addLightDa'+'taFlags'](_0x433dab,_0x16acf1,_0x32cf04,_0x4f8931,_0x190150,_0x386a2a){_0x433dab[_0x16acf1+(0x295*-0xb+-0xa5a+0xceb*0x3)]=_0x4f8931?0x3d*0x86+0x9ff+-0x28ee:0x2596+0xd63*-0x1+0x3b*-0x69,_0x433dab[_0x16acf1+(-0xeb*0x26+-0x83c+0x2b1f)]=this['areaLights'+'Enabled']?_0x32cf04['_shape']*(-0x4d6+-0x9c4+-0x2*-0x76d):0x7fb+-0x1f*-0xf7+0x1e5*-0x14,_0x433dab[_0x16acf1+(0x1*-0x59+-0x21f0+-0x1*-0x224b)]=_0x32cf04['_falloffMo'+'de']*(-0x44+0xe95+-0xd52),_0x433dab[_0x16acf1+(0xaf8+0x2*0x5c9+-0x49*0x4f)]=_0x190150?_0x386a2a*(-0x953*0x2+-0x6e+0x1413):-0x1*0x18dc+-0x2577*-0x1+-0xc9b;}['addLightDa'+'taColor'](_0x31a892,_0x2ce7dc,_0x40b7b4,_0x5c7843){const _0x3eb383=this['invMaxColo'+'rValue'],_0xb7ebd0=_0x40b7b4['_colorLine'+'ar'];qt['float2Byte'+'s'](_0xb7ebd0[0x54e+-0x8cd*0x1+0x37f]*_0x3eb383,_0x31a892,_0x2ce7dc+(0x36*-0x69+0x1*-0x261f+-0x3*-0x1417),-0x1*0xfd1+-0x35f*0xb+0x34e8),qt['float2Byte'+'s'](_0xb7ebd0[0xb*0x16+0xdfe+-0xeef]*_0x3eb383,_0x31a892,_0x2ce7dc+(0x37*0x2f+0x5*-0x4f+-0x88c),-0x1a27+0x2013+0x5ea*-0x1),qt['float2Byte'+'s'](_0xb7ebd0[0x112a+0xa16+-0x1b3e]*_0x3eb383,_0x31a892,_0x2ce7dc+(0x1e71+-0x9bc+0x14b1*-0x1),0x87*-0x3+0x1*0x1f9b+-0x1e04),_0x31a892[_0x2ce7dc+(-0x7*0x148+-0x1b21+0x241f*0x1)]=_0x5c7843?0x315*-0x9+-0x38d*0x6+0x320a:0x26b8+0x269b+0x217*-0x25;const _0xda5d17=!!(_0x40b7b4['mask']&ds),_0x5c8340=!!(_0x40b7b4['mask']&cr);_0x31a892[_0x2ce7dc+(0x22c4+-0xbe8+-0x1*0x16d5)]=_0xda5d17&&_0x5c8340?-0x17b8+0x2b*0x76+0x465:_0x5c8340?-0x1*0xe57+0x1*0xea7+-0x19*-0x7:0xb79+-0xb*-0x25c+-0x256d;}['addLightDa'+'taSpotAngl'+'es'](_0x15c788,_0x538450,_0x4e9959){qt['float2Byte'+'s'](_0x4e9959['_innerCone'+'AngleCos']*(0x4d6*0x1+-0x2bc+-0x21a+0.5-i_)+(-0x1d*0x53+-0x17a9+0x422*0x8+0.5),_0x15c788,_0x538450+(-0x13f*-0x1+0x250c+-0x1*0x264b),0x1de*0xb+0x1a45+-0x2ecd),qt['float2Byte'+'s'](_0x4e9959['_outerCone'+'AngleCos']*(0x9f+-0x3ad*0x5+0x8e1*0x2+0.5-i_)+(0x40d+0x12*0xc7+-0x120b+0.5),_0x15c788,_0x538450+(0x1707+-0x2*-0x482+-0x2009),0x2*0x11b9+-0x224f*-0x1+0x5*-0xdf3);}['addLightDa'+'taShadowBi'+'as'](_0x4bff57,_0xdbeac,_0x59cb16){const _0x5658eb=_0x59cb16['getRenderD'+'ata'](null,-0x1*0x12df+0x733+-0x1f2*-0x6),_0x3cb267=_0x59cb16['_getUnifor'+'mBiasValue'+'s'](_0x5658eb);qt['float2Byte'+'sRange'](_0x3cb267['bias'],_0x4bff57,_0xdbeac,-(-0x24d+-0x31*-0x39+0x1*-0x89b),0x64d*0x2+0xc6b+-0x18f1,0x9f6+-0x73f+0xe7*-0x3),qt['float2Byte'+'s'](_0x3cb267['normalBias'],_0x4bff57,_0xdbeac+(-0x2*0x847+0x7bb+0x8d5),-0x21*0xef+0x3*-0x313+0x280a);}['addLightDa'+'taCookies'](_0x3b0c1e,_0x244e18,_0x935c89){const _0x11500a=_0x935c89['_cookieCha'+'nnel']==='rgb';if(_0x3b0c1e[_0x244e18+(-0xa4a+-0x1660+0x20aa)]=Math['floor'](_0x935c89['cookieInte'+'nsity']*(0x3*0xba7+0x151*0x1+-0x335*0xb)),_0x3b0c1e[_0x244e18+(0x2*-0x2e9+0x197e+-0x13ab)]=_0x11500a?-0x1e42+-0xf*-0x6d+0x18de:0x4*-0x615+-0x2657+0x3eab,!_0x11500a){const _0x2102b9=_0x935c89['_cookieCha'+'nnel'];_0x3b0c1e[_0x244e18+(-0x24c2+-0x19de+0x3ea4)]=_0x2102b9==='rrr'?-0x14e0+-0x897+-0x2*-0xf3b:0x1d*-0x147+0x1*0x656+0x1eb5,_0x3b0c1e[_0x244e18+(-0xd*0x191+0x17*-0xf6+0x4*0xa9f)]=_0x2102b9==='ggg'?0x6ca*0x5+0x1*0x1a97+-0x3b8a:-0x15cd+0x19ca+-0x3fd,_0x3b0c1e[_0x244e18+(-0x3*-0x581+-0x9*0x373+0xe8e)]=_0x2102b9==='bbb'?-0x2455+-0x5*-0xf+0x2509:0x1*0x443+-0x261b+0x21d8,_0x3b0c1e[_0x244e18+(0x1*0x1b5e+-0x104b+-0xca*0xe)]=_0x2102b9==='aaa'?0x937+0xfe*-0x9+0xb6:0x50e*0x4+-0x1007+-0x431;}}['addLightDa'+'ta'](_0x14b8ef,_0x493a73){const _0x3bf0cd=_0x14b8ef['_type']===Re,_0x234861=_0x14b8ef['atlasViewp'+'ortAllocat'+'ed'],_0xcee1fc=this['cookiesEna'+'bled']&&!!_0x14b8ef['_cookie']&&_0x234861,_0xf5b46c=this['areaLights'+'Enabled']&&_0x14b8ef['shape']!==xt,_0x282d91=this['shadowsEna'+'bled']&&_0x14b8ef['castShadow'+'s']&&_0x234861,_0x4f2eee=_0x14b8ef['_node']['getPositio'+'n']();let _0x78c90c=null,_0x56a075=null;_0x3bf0cd?_0x282d91?_0x78c90c=_0x14b8ef['getRenderD'+'ata'](null,-0x1b28+-0x1f85*-0x1+-0x1*0x45d)['shadowMatr'+'ix']:_0xcee1fc&&(_0x78c90c=Pa['evalSpotCo'+'okieMatrix'](_0x14b8ef)):(_0x282d91||_0xcee1fc)&&(_0x56a075=_0x14b8ef['atlasViewp'+'ort']);const _0x335c65=this['lights8'],_0x4edb52=_0x493a73*this['lightsText'+'ure8']['width']*(-0x1*0xcfb+0x101*-0x19+-0x4*-0x986);this['addLightDa'+'taFlags'](_0x335c65,_0x4edb52+(-0x1e1*0x13+-0x1307+0x2*0x1b5f)*Sr['FLAGS'],_0x14b8ef,_0x3bf0cd,_0x282d91,_0x14b8ef['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x335c65,_0x4edb52+(-0xc*0x2f0+-0xfce+-0x1989*-0x2)*Sr['COLOR_A'],_0x14b8ef,_0xcee1fc),_0x3bf0cd&&this['addLightDa'+'taSpotAngl'+'es'](_0x335c65,_0x4edb52+(0x1*-0x1a93+0x197e+-0x119*-0x1)*Sr['SPOT_ANGLE'+'S'],_0x14b8ef),_0x14b8ef['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x335c65,_0x4edb52+(-0x13f7*0x1+-0x82*-0x2c+-0x5*0x79)*Sr['SHADOW_BIA'+'S'],_0x14b8ef),_0xcee1fc&&this['addLightDa'+'taCookies'](_0x335c65,_0x4edb52+(-0x1b4e+-0x1*-0x26bd+-0x1*0xb6b)*Sr['COOKIE_A'],_0x14b8ef);const _0xd6b53b=this['lightsFloa'+'t'],_0x528a4b=_0x493a73*this['lightsText'+'ureFloat']['width']*(-0x94*0x19+-0x11*0x15d+0x25a5);if(_0xd6b53b[_0x528a4b+(0x10c5*-0x1+-0x1278+0x2341)*ot['POSITION_R'+'ANGE']+(-0x1e3+0x13c+-0xa7*-0x1)]=_0x4f2eee['x'],_0xd6b53b[_0x528a4b+(0x1*-0x1a4b+0x1a52+-0x3)*ot['POSITION_R'+'ANGE']+(0x1*0x9ad+0x1a*0x44+-0x425*0x4)]=_0x4f2eee['y'],_0xd6b53b[_0x528a4b+(0x2*0x48d+-0x11ac+0x896)*ot['POSITION_R'+'ANGE']+(0x1*0xe0b+0x26a+-0x1073)]=_0x4f2eee['z'],_0xd6b53b[_0x528a4b+(0x2*-0x20c+-0x14f1+0x190d)*ot['POSITION_R'+'ANGE']+(-0x1*0x1676+0x12*0x1d7+-0xaa5)]=_0x14b8ef['attenuatio'+'nEnd'],_0x3bf0cd&&(this['getSpotDir'+'ection'](Jt,_0x14b8ef),_0xd6b53b[_0x528a4b+(0x14*-0x12f+-0x23c9+0x3b79)*ot['SPOT_DIREC'+'TION']+(0xfba+-0x1f6+-0xdc4)]=Jt['x'],_0xd6b53b[_0x528a4b+(0xe5d*0x1+-0x2*-0x836+0x1*-0x1ec5)*ot['SPOT_DIREC'+'TION']+(0x1593+-0x4*-0x525+-0x2a26)]=Jt['y'],_0xd6b53b[_0x528a4b+(0x1739+-0x2274+-0xb3f*-0x1)*ot['SPOT_DIREC'+'TION']+(0x1f25*-0x1+0xf0b*0x2+0x111)]=Jt['z']),_0x78c90c){const _0x5747fa=_0x78c90c['data'];for(let _0xfa013a=-0x4e0+0xe99+-0x1*0x9b9;_0xfa013a<-0x12*0x183+-0x164*-0x6+0x2*0x977;_0xfa013a++)_0xd6b53b[_0x528a4b+(0x2e1+0x1a0*-0x6+0x6e3)*ot['PROJ_MAT_0']+_0xfa013a]=_0x5747fa[_0xfa013a];}if(_0x56a075&&(_0xd6b53b[_0x528a4b+(-0xb5b*-0x1+-0xc79+0x122)*ot['ATLAS_VIEW'+'PORT']+(-0xa6c+0x16*-0xa4+-0x1*-0x1884)]=_0x56a075['x'],_0xd6b53b[_0x528a4b+(0x2a1*-0x4+0x1943+-0x4e9*0x3)*ot['ATLAS_VIEW'+'PORT']+(-0x1*-0x1b55+0xad8+-0x262c)]=_0x56a075['y'],_0xd6b53b[_0x528a4b+(-0x8b9+0x1671+0x36d*-0x4)*ot['ATLAS_VIEW'+'PORT']+(0xa*0x2b4+0x23*0x1+-0x1*0x1b29)]=_0x56a075['z']/(-0x801+0x879+0x75*-0x1)),_0xf5b46c){const _0x2f5c13=this['getLightAr'+'eaSizes'](_0x14b8ef);_0xd6b53b[_0x528a4b+(-0x22a7+-0x1*0x1731+0x39dc)*ot['AREA_DATA_'+'WIDTH']+(-0x9*-0x20b+-0x2597*-0x1+-0x37fa)]=_0x2f5c13[-0x1b7f+-0x1ea6+0x3a25],_0xd6b53b[_0x528a4b+(-0x1e64+-0x223b+-0x1*-0x40a3)*ot['AREA_DATA_'+'WIDTH']+(0x1*0x9a4+-0x6f*0x3b+0x9d*0x1a)]=_0x2f5c13[0xd64+0x14a0+-0x1*0x2203],_0xd6b53b[_0x528a4b+(-0x66*-0x4f+0xed3+-0x2e49)*ot['AREA_DATA_'+'WIDTH']+(0xdf6+-0x5*0xf7+0x3*-0x30b)]=_0x2f5c13[0x1*-0x13cb+-0x13*-0x4+-0x1381*-0x1],_0xd6b53b[_0x528a4b+(-0x598*0x2+0xb36+-0x2)*ot['AREA_DATA_'+'HEIGHT']+(0x17*-0x59+0x1d75+-0x1576)]=_0x2f5c13[0xe4f+-0xacf+-0x37d],_0xd6b53b[_0x528a4b+(-0x12fa+0x1f0+0x2*0x887)*ot['AREA_DATA_'+'HEIGHT']+(-0x2*0x417+0xff7+0x6*-0x14c)]=_0x2f5c13[0x2*-0x45d+0x1ea0+-0x15e2],_0xd6b53b[_0x528a4b+(-0x1*-0x25d7+0x1151+-0x3724)*ot['AREA_DATA_'+'HEIGHT']+(0x2*-0x27b+0x1*0xee7+-0x9ef)]=_0x2f5c13[0x1*0x1727+0xba7+0x41*-0x89];}}}const Pl=new T(),Rl=new T(),Il=new T(),wd=new _e(),r_=0x139d+-0x1*-0x1ba+-0x9*0x25f+0.000001,n_=-0x1*0xc6e+-0x49e*-0x2+-0xe*-0x15f;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class Uu{constructor(_0x32a59b){c(this,'clusterTex'+'ture'),(this['device']=_0x32a59b,this['name']='Untitled',this['reportCoun'+'t']=-0x1*0x9f3+-0x2618+-0x300b*-0x1,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(-0x1ce*0xc+-0x20c+0x17b5,0x747+-0x1*0x1d2d+-0x15*-0x10b,-0x335*-0x2+-0xc4c+-0x5e3*-0x1),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x16f6+-0x1*-0x73e+-0x1e30,this['_maxAttenu'+'ation']=0x2cf+-0x1d97+0xd64*0x2,this['_maxColorV'+'alue']=-0x2335*-0x1+-0x16d3+-0x13d*0xa,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new C0(_0x32a59b),this['registerUn'+'iforms'](_0x32a59b));}set['maxCellLig'+'htCount'](_0x5aeeee){_0x5aeeee!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x5aeeee,this['_cellsDirt'+'y']=!(-0x24f9+-0x191*0x10+-0x3e09*-0x1));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x51427c){Pl['copy'](_0x51427c)['floor'](),this['_cells']['equals'](Pl)||(this['_cells']['copy'](Pl),this['_cellsLimi'+'t']['copy'](Pl)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(0x17e5+-0x7a6+-0x103f*0x1));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x43528e){this['_clusterSk'+'ipId']=_0x43528e['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x43528e['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x43528e['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x43528e['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x26a*0x2+0x1*-0x1723+0x1bfa),this['_clusterBo'+'undsMinId']=_0x43528e['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x2328+0x2*-0x123a+0x1*0x14f),this['_clusterBo'+'undsDeltaI'+'d']=_0x43528e['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x2429+-0x1*-0x1031+-0xa5*-0x1f),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x43528e['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1c83+-0x1ba5+-0x3*0x49),this['_clusterCe'+'llsDotId']=_0x43528e['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x20d7+-0x23dd*0x1+0x309),this['_clusterCe'+'llsMaxId']=_0x43528e['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x215f+0xa1*0x19+0x11a9),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x43528e['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x810+0x3e2+0x10c*0x4);}['updatePara'+'ms'](_0x3c796c){_0x3c796c&&(this['cells']=_0x3c796c['cells'],this['maxCellLig'+'htCount']=_0x3c796c['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x3c796c['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x3c796c['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x3c796c['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0xaad+-0x23f8+0x2ea6);const _0x1628f2=this['_cells']['x'],_0x4dd2b3=this['_cells']['y'],_0xa2e2d9=this['_cells']['z'],_0x2abfee=_0x1628f2*_0x4dd2b3*_0xa2e2d9,_0x486606=this['maxCellLig'+'htCount']*_0x2abfee;let _0x26b71e=Math['ceil'](Math['sqrt'](_0x486606));_0x26b71e=N['roundUp'](_0x26b71e,this['maxCellLig'+'htCount']);const _0x1a5d0e=Math['ceil'](_0x486606/_0x26b71e);v['assert'](_0x26b71e<=n_&&_0x1a5d0e<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x1445*-0x1+-0xb*0x53+0x153*0x12]=_0x1628f2,this['_clusterCe'+'llsMaxData'][0x24f1+-0x14dc+-0x1014]=_0x4dd2b3,this['_clusterCe'+'llsMaxData'][-0x2*-0x1237+0x24a*-0x9+-0x10e*0xf]=_0xa2e2d9,this['_clusterCe'+'llsDotData'][0xef7+0x3*0xc81+-0x347a]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1db6+0x1*-0x167f+0x1*-0x736]=_0x1628f2*_0xa2e2d9*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x1*0x16ee+-0x7*-0x6b+0x1*0x1403]=_0x1628f2*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x486606),this['counts']=new Int32Array(_0x2abfee),this['_clusterTe'+'xtureSizeD'+'ata'][0x22*0x97+0x15c1*0x1+-0x7*0x5f9]=_0x26b71e,this['_clusterTe'+'xtureSizeD'+'ata'][0x10ca+-0x21d1*-0x1+-0x329a]=(-0x11a3+-0x170c+-0x5d*-0x70)/_0x26b71e,this['_clusterTe'+'xtureSizeD'+'ata'][0x2065+-0x9e1+-0x1682]=(-0x252b+-0x9*-0x365+0x71*0xf)/_0x1a5d0e,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x26b71e,_0x1a5d0e,ip,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0xf*-0x157+0x1f51+-0x1*0x3369?0xaef*0x3+0x162d+0x1*-0x36fa:-0x1191+-0x4d6+0xb34*0x2),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x17a842=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1fd*-0x8+0x82*0x1d+-0x1ea2]=this['_cells']['x']/_0x17a842['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1*0x2527+0x1b98+-0x40be]=this['_cells']['y']/_0x17a842['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0xe*-0x1bb+0x3*-0x5d1+0x29af]=this['_cells']['z']/_0x17a842['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x198a+0xd79+0x3*-0xd01]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x2015+0x3ec*-0x8+-0xb4]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x2b3*0xb+-0x5*-0x214+0x134f]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x12cd+-0x565*-0x2+-0x1d97]=_0x17a842['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x2*0x449+0x1366+0x1*-0xad3]=_0x17a842['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x63*0x1f+0x260e*0x1+0x1*-0x3209]=_0x17a842['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x68*0x3+0x1ee+0x1f*-0x1a]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x806+0x24ad+-0x1ca6]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x20a6c6,_0x10a453,_0x17a66f){_0x10a453['copy'](_0x20a6c6['min']),_0x10a453['sub'](this['boundsMin']),_0x10a453['div'](this['boundsDelt'+'a']),_0x10a453['mul2'](_0x10a453,this['cells']),_0x10a453['floor'](),_0x17a66f['copy'](_0x20a6c6['max']),_0x17a66f['sub'](this['boundsMin']),_0x17a66f['div'](this['boundsDelt'+'a']),_0x17a66f['mul2'](_0x17a66f,this['cells']),_0x17a66f['ceil'](),_0x10a453['max'](T['ZERO']),_0x17a66f['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x4a7330){const _0x58ea61=this['lightsBuff'+'er']['maxLights'],_0x4a70fb=this['_usedLight'+'s'];let _0x436ddd=-0x2a1+0x268e+0x8fb*-0x4;_0x4a7330['forEach'](_0x4aa9ea=>{const _0x5be04e=!!(_0x4aa9ea['mask']&(ds|cr)),_0x29f4e6=_0x4aa9ea['type']===Re&&_0x4aa9ea['_outerCone'+'Angle']===-0x440*0x5+0xb6f*0x3+-0xd0d;if(_0x4aa9ea['enabled']&&_0x4aa9ea['type']!==ae&&_0x4aa9ea['visibleThi'+'sFrame']&&_0x4aa9ea['intensity']>-0x1360+0xd*-0x2cb+0x37af&&_0x5be04e&&!_0x29f4e6){if(_0x436ddd<_0x58ea61){let _0x348a55;_0x436ddd<_0x4a70fb['length']?_0x348a55=_0x4a70fb[_0x436ddd]:(_0x348a55=new a_(),_0x4a70fb['push'](_0x348a55)),_0x348a55['light']=_0x4aa9ea,_0x4aa9ea['getBoundin'+'gBox'](wd),_0x348a55['min']['copy'](wd['getMin']()),_0x348a55['max']['copy'](wd['getMax']()),_0x436ddd++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x58ea61-(-0x44*0x8a+-0xa23+0x2ecc))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x4a70fb['length']=_0x436ddd;}['evaluateBo'+'unds'](){const _0x5c9c6f=this['_usedLight'+'s'],_0x5d0075=this['boundsMin'],_0x571a67=this['boundsMax'];if(_0x5c9c6f['length']>0xe*0xb2+-0xe7c+0x4c1){_0x5d0075['copy'](_0x5c9c6f[0x62f+0x825+-0xe53*0x1]['min']),_0x571a67['copy'](_0x5c9c6f[-0x2dd+-0xcd4+0x31*0x52]['max']);for(let _0x27d3bd=-0x203*-0x11+0x37*-0xd+-0x1*0x1f66;_0x27d3bd<_0x5c9c6f['length'];_0x27d3bd++)_0x5d0075['min'](_0x5c9c6f[_0x27d3bd]['min']),_0x571a67['max'](_0x5c9c6f[_0x27d3bd]['max']);}else _0x5d0075['set'](0x12b9*0x1+0x1e74*0x1+-0x312d*0x1,-0x1ce7+-0xcdc+0x29c3,-0x1*0x2384+-0x2572+0x48f6),_0x571a67['set'](-0x1*-0xac7+0x3*0x243+-0x118f,-0x1*-0x1d87+0x8e7*-0x2+-0xbb8,0x14b9+-0x31f*-0x8+-0x2db0);this['boundsDelt'+'a']['sub2'](_0x571a67,_0x5d0075),this['lightsBuff'+'er']['setBounds'](_0x5d0075,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0xd3fd3f=-0x929+0xe06+-0x4dd,_0x5f20ff=-0x99f*0x4+-0x16eb+0x3d67;const _0xc33b44=this['_usedLight'+'s'];for(let _0x3658f7=0xa*0x2f3+0x1*-0x46a+-0x1913;_0x3658f7<_0xc33b44['length'];_0x3658f7++){const _0x43bd9c=_0xc33b44[_0x3658f7]['light'];_0xd3fd3f=Math['max'](_0x43bd9c['attenuatio'+'nEnd'],_0xd3fd3f);const _0xfe35a5=_0x43bd9c['_colorLine'+'ar'];_0x5f20ff=Math['max'](_0xfe35a5[-0x4f*-0x73+0x43a+0x3*-0xd3d],_0x5f20ff),_0x5f20ff=Math['max'](_0xfe35a5[-0x1*-0xd9c+-0x1017+0x27c],_0x5f20ff),_0x5f20ff=Math['max'](_0xfe35a5[0x32*0xb3+-0x24f2+-0x3*-0xaa],_0x5f20ff);}this['_maxAttenu'+'ation']=_0xd3fd3f+r_,this['_maxColorV'+'alue']=_0x5f20ff+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x55b8b7){this['counts']['fill'](0x4d4+-0x2*-0x125f+-0x2992),this['clusters']['fill'](0x1*0x31a+-0x1*0x10c1+0xda7),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x55b8b7?_0x55b8b7['areaLights'+'Enabled']:!(-0x2358+0xba7+-0x9*-0x2a2);const _0x35e0ee=this['_cells']['x'],_0x537d7c=this['_cells']['z'],_0x4a1af4=this['counts'],_0x49257d=this['_maxCellLi'+'ghtCount'],_0x34773c=this['clusters'],_0x32f66a=this['maxCellLig'+'htCount'];let _0x42591a=!(0xe35+0x1868+-0x269c*0x1);const _0xcd58d2=this['_usedLight'+'s'];for(let _0x3b4d7d=0x1daa+0x7d0+-0xb5*0x35;_0x3b4d7d<_0xcd58d2['length'];_0x3b4d7d++){const _0xda54f0=_0xcd58d2[_0x3b4d7d],_0x736cf2=_0xda54f0['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x736cf2,_0x3b4d7d),this['evalLightC'+'ellMinMax'](_0xda54f0,Rl,Il);const _0x530a78=Rl['x'],_0x3865af=Il['x'],_0x34e66f=Rl['y'],_0x124926=Il['y'],_0x26990c=Rl['z'],_0x33c734=Il['z'];for(let _0x3b1793=_0x530a78;_0x3b1793<=_0x3865af;_0x3b1793++)for(let _0x20bd52=_0x26990c;_0x20bd52<=_0x33c734;_0x20bd52++)for(let _0x1df78e=_0x34e66f;_0x1df78e<=_0x124926;_0x1df78e++){const _0x317ffc=_0x3b1793+_0x35e0ee*(_0x20bd52+_0x1df78e*_0x537d7c),_0x48af19=_0x4a1af4[_0x317ffc];_0x48af19<_0x49257d?(_0x34773c[_0x32f66a*_0x317ffc+_0x48af19]=_0x3b4d7d,_0x4a1af4[_0x317ffc]=_0x48af19+(0x36a+-0x10a9+0xd40)):_0x42591a=!(-0x22b7*0x1+0x1fd*-0x11+0x4484);}}_0x42591a&&this['reportCoun'+'t']<-0x17be+0xbab+0x306*0x4&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0xc45*-0x2+-0x1ff*0x9+0x68f*-0x1?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x1948b3,_0x264510=null){this['updatePara'+'ms'](_0x264510),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x1948b3),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x264510),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=-0x20b8+-0x3*-0xc69+-0x481+0.39996322972865306,ll={'circlePoint'(_0x25e90c){const _0x4512cf=Math['sqrt'](Math['random']()),_0x2fadaa=Math['random']()*(0x71c+-0x1d*-0x63+-0x1251)*Math['PI'];_0x25e90c['x']=_0x4512cf*Math['cos'](_0x2fadaa),_0x25e90c['y']=_0x4512cf*Math['sin'](_0x2fadaa);},'circlePointDeterministic'(_0xf67cf2,_0xabf29a,_0x2484d4){const _0x41e6e4=_0xabf29a*o_,_0x548b0f=Math['sqrt'](_0xabf29a)/Math['sqrt'](_0x2484d4);_0xf67cf2['x']=_0x548b0f*Math['cos'](_0x41e6e4),_0xf67cf2['y']=_0x548b0f*Math['sin'](_0x41e6e4);},'spherePointDeterministic'(_0x47b4fa,_0x4109bc,_0x32320c,_0x56cdb8=0x1b0c+0x819*0x1+-0x1*0x2325,_0x14918f=0x1584*-0x1+0x1*-0x1996+-0x2f1b*-0x1){_0x56cdb8=0x561*-0x3+0x1*0x12a+0x4fe*0x3-(-0xfdf*0x1+0x1*0x2351+0x4dc*-0x4)*_0x56cdb8,_0x14918f=-0x17*-0x186+0xeb3+-0x1*0x31bc-(0x2c3*0x1+0x1158+-0x1419)*_0x14918f;const _0x1a62e3=N['lerp'](_0x56cdb8,_0x14918f,_0x4109bc/_0x32320c),_0x1e4f6e=Math['sqrt'](0x2521+-0x1c96+-0x2*0x445-_0x1a62e3*_0x1a62e3),_0x503408=o_*_0x4109bc;_0x47b4fa['x']=Math['cos'](_0x503408)*_0x1e4f6e,_0x47b4fa['y']=_0x1a62e3,_0x47b4fa['z']=Math['sin'](_0x503408)*_0x1e4f6e;},'radicalInverse'(_0xd01a96){let _0x4c8572=(_0xd01a96<<0x870+-0x574+-0x2ec|_0xd01a96>>>0xd8b*0x1+-0x2552+0x17d7)>>>-0xc68+0x25c6+0x17e*-0x11;return _0x4c8572=((_0x4c8572&0x7957eae7*0x1+0x8cba7240+-0x6*0x1d74d6a3)<<0x980*-0x4+0x199f+0xc62|(_0x4c8572&0x1116d42ef+0xda2649cd+-0x140e8e212*0x1)>>>0x124b+0x22fc+0x1*-0x3546)>>>-0x79f*-0x1+0x1*-0x4a7+-0x1*0x2f8,_0x4c8572=((_0x4c8572&0xa5dde0b*0x3+-0x592f1459+0x6d48ad6b)<<0x1ad2+-0x399*-0x4+-0x149a*0x2|(_0x4c8572&-0xea358af6*-0x1+-0x6693f9*-0x2b7+-0x133e47729)>>>-0xb25+-0x127c+-0x119*-0x1b)>>>0xa1f*-0x1+-0x1358+-0x1*-0x1d77,_0x4c8572=((_0x4c8572&-0x9ca1dc8+-0x1*0x1ddab6f1+0x36b3e3c8)<<-0xa*0x23f+0x89*0x5+0x89*0x25|(_0x4c8572&0x6c23*-0x1289b+-0xca3a1707+0x23874f928)>>>-0x25df+0x269f+0x1*-0xbc)>>>-0x141d+-0x1805+-0x2c22*-0x1,_0x4c8572=((_0x4c8572&0xebc5a1*0x2+-0x1499645+0x710c02)<<-0x1e47+-0x3*-0x679+0x22*0x52|(_0x4c8572&0x5*-0x36e08ba9+-0x3fd427c4+0x25137e111)>>>-0x9d8+0x966+-0x2*-0x3d)>>>-0x2084+0x20d3+-0x4f,_0x4c8572*(0x1*-0x11c4+-0xda+-0x94f*-0x2+2.3283064365386963e-10);}},gE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Ms{static['decodeFunc'](_0x22f083){return gE[_0x22f083]||'decodeGamm'+'a';}static['encodeFunc'](_0x4c026d){return yE[_0x4c026d]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x32c81d,_0x629c8f){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x629c8f['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x32c81d['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x42a2f0=>{switch(_0x42a2f0){case Cu:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Dl=(_0x47e868,_0x43f78f,_0x10177a)=>{if(_0x47e868<=0x7*0x15b+-0x109d*-0x1+-0x1a1a)_0x43f78f[_0x10177a+(-0x341+-0x2*-0x89+0xd*0x2b)]=-0x22da+-0x1321+-0x35fb*-0x1,_0x43f78f[_0x10177a+(-0x1*-0x216b+-0xc0a+-0x1560)]=-0x127+0x1f57*0x1+0x70*-0x45,_0x43f78f[_0x10177a+(-0x1cb1+-0x1*-0x268a+0x1*-0x9d7)]=0xff7+-0x26a*0x4+-0x11*0x5f,_0x43f78f[_0x10177a+(-0x25*0x10d+-0x2465+0x4b49)]=0xd*-0x18a+-0xf*-0x1ed+0x8e1*-0x1;else{if(_0x47e868>=0x1388+0x1586+-0x290d)_0x43f78f[_0x10177a+(-0x1675+0x263c+-0xfc7)]=-0x86f*-0x1+-0xce8*-0x2+-0x2140,_0x43f78f[_0x10177a+(0x2355+0x2441+-0x2dd*0x19)]=0x13b2*-0x1+-0x8c+0x143e,_0x43f78f[_0x10177a+(-0x24ff+-0x7*0x1b7+0x3102)]=-0x1f6e+-0x17e0+0x374e,_0x43f78f[_0x10177a+(-0x1f*-0x86+0x4*0x2fe+0x41*-0x6f)]=-0x1e8b+-0x1*-0x283+0x1c08;else{let _0x4a06d5=(-0x213d+-0x2506+0x4644)*_0x47e868%(0x1964+0x1404+0x1*-0x2d67),_0x193e65=(0x769+0x8f*0x4+-0x8a6)*_0x47e868%(0x1e34+-0xb1d+-0x1316),_0x3b1608=(0x19990+0x839*-0x3b+0x14994)*_0x47e868%(0x2179+-0x1*-0x14a2+-0x569*0xa);const _0x49b6ae=(-0x7*-0x106c24+-0x11adb01+0x4*0x693a41)*_0x47e868%(-0x22c*0x11+0x1c33+0x8ba);_0x4a06d5-=_0x193e65/(-0x13f+0xa93+-0x1b*0x4f),_0x193e65-=_0x3b1608/(-0x12a7+0x86*0x19+0x4*0x1a4),_0x3b1608-=_0x49b6ae/(0x26*-0x67+-0x1*0xd4f+-0xecc*-0x2),_0x43f78f[_0x10177a+(0x1d5e+0x177f*0x1+-0x34dd)]=Math['min'](0x2a6*0xa+-0x658+0x179*-0xd,Math['floor'](_0x4a06d5*(0x32*-0x8+0x21b1+-0x1f21))),_0x43f78f[_0x10177a+(-0xd6*0xe+-0x3*-0x2ee+-0xf9*-0x3)]=Math['min'](0xe96+0xeb3+0x3*-0x96e,Math['floor'](_0x193e65*(0x3e*-0x6e+-0x1b8d*-0x1+-0x17*-0x1))),_0x43f78f[_0x10177a+(-0x575+-0x2197*-0x1+0x90*-0x32)]=Math['min'](0xa13*0x1+0x2209*0x1+-0x2b1d,Math['floor'](_0x3b1608*(0x1656+-0xb87+-0x9cf))),_0x43f78f[_0x10177a+(-0x1*-0x1fa2+-0x101*-0x25+-0x44c4)]=Math['min'](0xa*0x3c7+0x3*-0x2c1+-0x1c84,Math['floor'](_0x49b6ae*(0x9*-0x129+0xb47+-0x2*-0x15)));}}},xE=_0x105cc7=>{const _0x22869e=_0x105cc7['length'],_0x5f29b7=Math['min'](_0x22869e,0x244a+0x1a47+0x5*-0xc1d),_0x4e532a=Math['ceil'](_0x22869e/_0x5f29b7),_0x4d017b=new Uint8Array(_0x5f29b7*_0x4e532a*(0x29*-0x1+-0x1*-0x101+-0xd4));let _0x4f69e3=-0x959*-0x3+-0x11e6+-0xa25;for(let _0x33f15b=0xe38+0xd*0x83+-0x1*0x14df;_0x33f15b<_0x22869e;_0x33f15b+=0x9c7+0x7d0+-0xb*0x199)Dl(_0x105cc7[_0x33f15b+(0xe4e*-0x2+0x1ef0+0x1*-0x254)]*(-0x1*0xe2f+-0x59*-0x4e+0x2b*-0x4d+0.5)+(-0xfa7+-0xee6+-0x1e8d*-0x1+0.5),_0x4d017b,_0x4f69e3+(-0x5*0x712+-0x16eb+-0x1*-0x3a45)),Dl(_0x105cc7[_0x33f15b+(0x1*0x1291+0x607*-0x1+-0xc89)]*(0x185c+0x1cf1+-0x5*0xaa9+0.5)+(-0x22*0x11b+-0x134a+0x38e0+0.5),_0x4d017b,_0x4f69e3+(0x4*0x649+-0x2364+0x36c*0x3)),Dl(_0x105cc7[_0x33f15b+(-0x1359+0x3a1*0x2+-0xa3*-0x13)]*(-0x15*0x139+-0x1d85+0xf*0x3ae+0.5)+(0x1*0x58b+0x19*-0x8d+0x83a+0.5),_0x4d017b,_0x4f69e3+(-0xa3c*-0x2+-0xf3e+0x26*-0x23)),Dl(_0x105cc7[_0x33f15b+(-0x1cd7*-0x1+-0x1a6b+-0x1*0x269)]/(-0x952+-0x42a+0xa*0x15a),_0x4d017b,_0x4f69e3+(-0xa39*0x2+-0x19cb+0x2e49)),_0x4f69e3+=0x18d*-0x11+-0x2687*-0x1+-0xc1a;return{'width':_0x5f29b7,'height':_0x4e532a,'data':_0x4d017b};},SE=(_0x3b32e0,_0x44f1ec,_0x33ff00,_0x49f6a0)=>{const _0x1050df=_0x33ff00*(-0x53*0x53+-0x134e+0x2e39)*Math['PI'],_0x1fadfc=Math['pow'](0x1371+0x16ce+-0x2a3e-_0x44f1ec,(-0x3c+-0x1d18+0x1d55)/(_0x49f6a0+(0x1312*0x2+-0x1a5c+-0x43*0x2d))),_0x1f6816=Math['sqrt'](-0x2145+-0x1*0x14c5+0xacf*0x5-_0x1fadfc*_0x1fadfc);_0x3b32e0['set'](Math['cos'](_0x1050df)*_0x1f6816,Math['sin'](_0x1050df)*_0x1f6816,_0x1fadfc)['normalize']();},vE=(_0x48df7e,_0x816c75,_0x593c2e)=>{const _0xde79ec=_0x593c2e*(-0x31d*0xa+-0x44*0x2f+0x2ba0)*Math['PI'],_0x2d5a50=Math['sqrt'](0x2634+-0x1*0x657+-0x1*0x1fdc-_0x816c75),_0x4895c2=Math['sqrt'](_0x816c75);_0x48df7e['set'](Math['cos'](_0xde79ec)*_0x4895c2,Math['sin'](_0xde79ec)*_0x4895c2,_0x2d5a50)['normalize']();},bE=(_0xe7834b,_0x2421b2,_0x29a40c,_0x2edea0)=>{const _0x487979=_0x29a40c*(-0x1713*-0x1+0xb*0x1+-0x171c)*Math['PI'],_0x568a0e=Math['sqrt']((0x9d4+-0x9*0x2f+0x20b*-0x4-_0x2421b2)/(0xb73*0x3+-0x1b32+-0x2*0x393+(_0x2edea0*_0x2edea0-(-0xfee+-0x7e0+0x17cf))*_0x2421b2)),_0x5f21d9=Math['sqrt'](0x246e+-0x1c43+-0x82a-_0x568a0e*_0x568a0e);_0xe7834b['set'](Math['cos'](_0x487979)*_0x5f21d9,Math['sin'](_0x487979)*_0x5f21d9,_0x568a0e)['normalize']();},wE=(_0xa51cca,_0x188860)=>{const _0x236d72=_0xa51cca*_0x188860,_0x28c953=_0x188860/(0x1434+-0x39*-0x8b+-0x3326-_0xa51cca*_0xa51cca+_0x236d72*_0x236d72);return _0x28c953*_0x28c953*((-0x5e7+-0x16e2+0x1cca)/Math['PI']);},TE=(_0x7c8a96,_0x39e262)=>{const _0x55c3f8=new T(),_0x161113=[];for(let _0xf54082=0x2386*-0x1+-0x4*-0x795+0xe*0x5f;_0xf54082<_0x7c8a96;++_0xf54082)SE(_0x55c3f8,_0xf54082/_0x7c8a96,ll['radicalInv'+'erse'](_0xf54082),_0x39e262),_0x161113['push'](_0x55c3f8['x'],_0x55c3f8['y'],_0x55c3f8['z'],0x1d*-0x35+-0x128*-0x2+0x3b1*0x1);return _0x161113;},AE=(_0x502382,_0x537492)=>{const _0x5ddac5=_0x537492/_0x502382,_0x3e8bac=new T(),_0x5b229b=[];for(let _0x3bb14c=0x1efd+-0x27*0x19+0x62*-0x47;_0x3bb14c<_0x502382;++_0x3bb14c){vE(_0x3e8bac,_0x3bb14c/_0x502382,ll['radicalInv'+'erse'](_0x3bb14c));const _0xf934d0=_0x3e8bac['z']/Math['PI'],_0x13adbf=(-0x161*0x16+-0x117d+0x2fd3+0.5)*Math['log2'](_0x5ddac5/_0xf934d0);_0x5b229b['push'](_0x3e8bac['x'],_0x3e8bac['y'],_0x3e8bac['z'],_0x13adbf);}return _0x5b229b;},CE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},EE=(_0x46d8cb,_0x46e692)=>{const _0x3428b4=CE[_0x46d8cb];return _0x3428b4&&_0x3428b4[_0x46e692]||_0x46d8cb;},ME=(_0x8528c4,_0x1cd4b2,_0x529aa4)=>{const _0x572b5e=_0x529aa4/_0x8528c4,_0x39c285=-0x1b63+-0x1b16+0x367a-Math['log2'](_0x1cd4b2)/(0x1d*-0x6d+0x1*-0x25b3+0x3217),_0xa1077f=_0x39c285*_0x39c285,_0x4f415c=new T(),_0x27dc71=new T(),_0x5b3661=new T(-0xc67+0xdbd+-0x13*0x12,0x1*0x110b+-0x6*-0xd3+-0x15fd,0x79f*-0x1+-0x8f1+0x1091*0x1),_0x1a6d7c=[],_0x46ab62=EE(_0x8528c4,_0x1cd4b2);for(let _0x540e57=-0x18b8+0x1*-0x225+-0x12b*-0x17;_0x540e57<_0x46ab62;++_0x540e57){bE(_0x4f415c,_0x540e57/_0x46ab62,ll['radicalInv'+'erse'](_0x540e57),_0xa1077f);const _0x20fba9=_0x4f415c['z'];if(_0x27dc71['set'](_0x4f415c['x'],_0x4f415c['y'],_0x4f415c['z'])['mulScalar']((-0x416+0x1cdd*-0x1+0x20f5)*_0x20fba9)['sub'](_0x5b3661),_0x27dc71['z']>-0x6b*-0x4a+0x110+-0x1ffe){const _0x214a35=wE(Math['min'](0x3d*0x1f+0x1f9f+-0x1*0x2701,_0x20fba9),_0xa1077f)/(0x29*-0x6a+0x18f7*-0x1+-0x1*-0x29f5)+(-0x39*0x83+0x2288+-0x55d+0.001),_0x3255b7=(0x24b1+0x1aea*0x1+-0x359*0x13+0.5)*Math['log2'](_0x572b5e/_0x214a35);_0x1a6d7c['push'](_0x27dc71['x'],_0x27dc71['y'],_0x27dc71['z'],_0x3255b7);}}for(;_0x1a6d7c['length']<_0x8528c4*(0x1afd+-0x16dd+-0x41c);)_0x1a6d7c['push'](-0x1f*0xbf+0x553*-0x7+0x3c66,-0x45e+0x15*0x71+0x5*-0xfb,0x257+0x252*-0x5+0x1*0x943,0x133*0x1+-0x10c7*0x1+-0x4*-0x3e5);return _0x1a6d7c;},PE=(_0x3519d6,_0x553518,_0xb6dcf3)=>{const _0x377235=xE(_0xb6dcf3);return new he(_0x3519d6,{'name':_0x553518,'width':_0x377235['width'],'height':_0x377235['height'],'mipmaps':!(0x4ac*0x3+0x254e+0x57*-0x97),'minFilter':de,'magFilter':de,'levels':[_0x377235['data']]});};class E0{constructor(_0x5b6b2d=!(0x11*0x123+-0x7f*0x47+0xfe6)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x5b6b2d;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x49a013,_0x3cf14e)=>{_0x49a013['destroy']();});}['get'](_0x55d44e,_0x5711ca){if(!this['map']['has'](_0x55d44e)){const _0x967ea8=_0x5711ca();return this['map']['set'](_0x55d44e,_0x967ea8),_0x967ea8;}return this['map']['get'](_0x55d44e);}}const RE=new E0(!(0x14e7+-0x5*-0x695+0x5f*-0x91)),IE=new Bt(),Fp=(_0x1bc2ca,_0x278b86,_0x4f74ce)=>IE['get'](_0x1bc2ca,()=>new E0())['get'](_0x278b86,()=>PE(_0x1bc2ca,_0x278b86,RE['get'](_0x278b86,_0x4f74ce))),DE=(_0x2bbb2a,_0x34600d,_0x1f33e3)=>{const _0x6ab34d='lambert-sa'+'mples-'+_0x34600d+'-'+_0x1f33e3;return Fp(_0x2bbb2a,_0x6ab34d,()=>AE(_0x34600d,_0x1f33e3));},LE=(_0x1a7351,_0x2ad419,_0x476d68)=>{const _0x473aae='phong-samp'+'les-'+_0x2ad419+'-'+_0x476d68;return Fp(_0x1a7351,_0x473aae,()=>TE(_0x2ad419,_0x476d68));},FE=(_0x1f02f2,_0x26e95f,_0x37b394,_0x10ab21)=>{const _0x260b24='ggx-sample'+'s-'+_0x26e95f+'-'+_0x37b394+'-'+_0x10ab21;return Fp(_0x1f02f2,_0x260b24,()=>ME(_0x26e95f,_0x37b394,_0x10ab21));},kE='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function ei(_0x1e3829,_0x1c45db,_0x4aaa3b={}){var _0x39c555,_0x13c1d7;v['assert'](_0x1e3829 instanceof he&&_0x1c45db instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x5dbd36=_0x4aaa3b['seamPixels']??-0x1e02+-0x21a7+-0x3fa9*-0x1,_0x19172f=(((_0x39c555=_0x4aaa3b['rect'])==null?void(0x2489+0x343*0x1+-0x236*0x12):_0x39c555['z'])??_0x1c45db['width'])-_0x5dbd36*(0x80b+0x1b19+-0x2322),_0x369f25=(((_0x13c1d7=_0x4aaa3b['rect'])==null?void(0x4*0x153+0x179d+0x9a3*-0x3):_0x13c1d7['w'])??_0x1c45db['height'])-_0x5dbd36*(0x193c+-0x2b8*0x4+0xe5a*-0x1);if(_0x19172f<-0xd2f*-0x2+0xc33+-0x4d2*0x8||_0x369f25<0x1*-0x34f+-0x2b*0x92+-0x1fd*-0xe)return!(0xdae+-0x13c2+0x3*0x207);const _0x425785={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x446364=_0x4aaa3b['hasOwnProp'+'erty']('specularPo'+'wer')?_0x4aaa3b['specularPo'+'wer']:-0xb*0x38+0x803+-0x59a,_0x44d21f=_0x4aaa3b['hasOwnProp'+'erty']('face')?_0x4aaa3b['face']:null,_0x591ae4=_0x4aaa3b['hasOwnProp'+'erty']('distributi'+'on')?_0x4aaa3b['distributi'+'on']:_0x446364===-0x1ec2+0x17d2+-0x6f1*-0x1?'none':'phong',_0x36f5af=_0x425785[_0x591ae4]||'reproject',_0x5cfd50=_0x36f5af['startsWith']('prefilterS'+'amples'),_0x3beb65=Ms['decodeFunc'](_0x1e3829['encoding']),_0x254402=Ms['encodeFunc'](_0x1c45db['encoding']),_0x31b904='sample'+l_(_0x1e3829['projection']),_0x4b523c='getDirecti'+'on'+l_(_0x1c45db['projection']),_0x212123=_0x4aaa3b['hasOwnProp'+'erty']('numSamples')?_0x4aaa3b['numSamples']:0x147*-0x1d+0x12d*0x4+0x15*0x1bb,_0x257a23=_0x36f5af+'_'+_0x3beb65+'_'+_0x254402+'_'+_0x31b904+'_'+_0x4b523c+'_'+_0x212123,_0x40cd46=_0x1e3829['device'];let _0x4c3c32=Ba(_0x40cd46)['getCachedS'+'hader'](_0x257a23);if(!_0x4c3c32){const _0xc87558='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x36f5af+'\x0a'+(_0x5cfd50?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x1e3829['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x3beb65+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x254402+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x31b904+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x4b523c+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x212123+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x212123))['toFixed'](-0x1579+0x18*0xb6+0x46a)+'\x0a';_0x4c3c32=Ls(_0x40cd46,kE,_0xc87558+'\x0a'+X['reprojectP'+'S'],_0x257a23);}G['pushGpuMar'+'ker'](_0x40cd46,'ReprojectT'+'exture'),_0x40cd46['setBlendSt'+'ate'](_t['NOBLEND']);const _0x55c9d3=_0x40cd46['scope']['resolve'](_0x1e3829['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x55c9d3),_0x55c9d3['setValue'](_0x1e3829);const _0x5e4853=_0x40cd46['scope']['resolve']('params'),_0x114ba5=_0x40cd46['scope']['resolve']('uvMod');_0x5dbd36>-0x1fbb+0x19*0x115+0x4ae?_0x114ba5['setValue']([(_0x19172f+_0x5dbd36*(-0x574*0x3+0x7*-0x4b+-0x29*-0x73))/_0x19172f,(_0x369f25+_0x5dbd36*(-0x954+-0x561*-0x3+-0x6cd*0x1))/_0x369f25,-_0x5dbd36/_0x19172f,-_0x5dbd36/_0x369f25]):_0x114ba5['setValue']([0x26e0+-0x8*0x180+0x1*-0x1adf,-0x21fd+-0x18af*0x1+0x3aad,-0x46*-0x8a+0x1b05*0x1+-0x40c1,-0xa9+-0x6c7+-0x1c*-0x44]);const _0x157f49=[-0x19fd*-0x1+-0x4f*0x55+-0x2*-0x1f,_0x1c45db['width']*_0x1c45db['height']*(_0x1c45db['cubemap']?-0x1571+-0x527*-0x7+-0xe9a:-0x2680+-0x1002+0x3683*0x1),_0x1e3829['width']*_0x1e3829['height']*(_0x1e3829['cubemap']?0x2039+0x75*0x1+0xdc*-0x26:-0x113*-0xf+0x1a8a+-0x2*0x1553)];if(_0x5cfd50){const _0x17252b=_0x1e3829['width']*_0x1e3829['height']*(_0x1e3829['cubemap']?0x1e62+-0x3*-0x7ed+-0x3623*0x1:0x2142+0x1*-0x1009+0x4c*-0x3a),_0x22ecaf=_0x591ae4==='ggx'?FE(_0x40cd46,_0x212123,_0x446364,_0x17252b):_0x591ae4==='lambert'?DE(_0x40cd46,_0x212123,_0x17252b):LE(_0x40cd46,_0x212123,_0x446364);_0x40cd46['scope']['resolve']('samplesTex')['setValue'](_0x22ecaf),_0x40cd46['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x1*-0x112c+0x318+-0x1443)/_0x22ecaf['width'],(0xa6+0x5*0x67a+-0x2107)/_0x22ecaf['height']]);}for(let _0x2faafb=-0x19af+0x799+0x1216;_0x2faafb<(_0x1c45db['cubemap']?-0x195+-0xa74+0xc0f:0x1*0x1441+-0x1b*-0x87+-0x6d*0x51);_0x2faafb++)if(_0x44d21f===null||_0x2faafb===_0x44d21f){const _0x510e57=new pt({'colorBuffer':_0x1c45db,'face':_0x2faafb,'depth':!(0x1*-0x1f3+0xd44+-0xb50),'flipY':_0x40cd46['isWebGPU']});_0x157f49[-0x278+-0x103*0xf+0x11a5]=_0x2faafb,_0x5e4853['setValue'](_0x157f49),un(_0x40cd46,_0x510e57,_0x4c3c32,_0x4aaa3b==null?void(-0x1489+-0x1f03+0x1*0x338c):_0x4aaa3b['rect']),_0x510e57['destroy']();}return G['popGpuMark'+'er'](_0x40cd46),!(0xe8f*0x1+-0x228b+0x1*0x13fc);}const Td=(_0x487bf9,_0x14ccdb=0xd6d*0x1+-0xcdc*-0x1+-0x3*0x8c3)=>0xa65+0x7ae+0x909*-0x2+Math['floor'](Math['log2'](Math['max'](_0x487bf9,_0x14ccdb))),OE=_0x1a35f4=>_0x1a35f4['textureHal'+'fFloatRend'+'erable'],BE=_0x1816c2=>_0x1816c2['textureFlo'+'atRenderab'+'le'],NE=_0x3d59e9=>OE(_0x3d59e9)?Qe:BE(_0x3d59e9)?Ye:Se,zE=_0x4a0940=>Se,UE=(_0x30cd74,_0x4dba06,_0xf072b7,_0x18432e)=>new he(_0x30cd74,{'name':'lighting-'+_0x4dba06,'cubemap':!(0x19b6+0x1b7+-0x1b6d),'width':_0x4dba06,'height':_0x4dba06,'format':_0xf072b7,'type':Io,'addressU':ne,'addressV':ne,'mipmaps':!(0xf45+0x1af3+-0x2a37)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x2125b2,_0xb34170){const _0x4e3c29=_0x2125b2['device'];G['pushGpuMar'+'ker'](_0x4e3c29,'genSkyboxC'+'ubemap');const _0x20e76b=UE(_0x4e3c29,_0xb34170||(_0x2125b2['cubemap']?_0x2125b2['width']:_0x2125b2['width']/(-0xfe9+0xca5+-0x3*-0x118)),Se);return ei(_0x2125b2,_0x20e76b,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x4e3c29),_0x20e76b;}static['generateLi'+'ghtingSour'+'ce'](_0x367473,_0x5a824a){const _0x5bad5d=_0x367473['device'];G['pushGpuMar'+'ker'](_0x5bad5d,'genLightin'+'gSource');const _0x4e7206=NE(_0x5bad5d),_0x12c490=(_0x5a824a==null?void(-0xf1b+-0x5*-0x2ad+0x1ba):_0x5a824a['target'])||new he(_0x5bad5d,{'name':'lighting-s'+'ource','cubemap':!(0x384*-0x6+0x2580+0x78*-0x23),'width':(_0x5a824a==null?void(0x183f+0x2470+-0x3caf):_0x5a824a['size'])||0x13da+0x5a*0x62+-0x47*0xc2,'height':(_0x5a824a==null?void(-0x2f*0x72+0x4a5*0x1+0x1049):_0x5a824a['size'])||-0x1e83+0x34b+0x1bb8,'format':_0x4e7206,'type':_0x4e7206===Se?Io:Fi,'addressU':ne,'addressV':ne,'mipmaps':!(0x4*0x61e+-0x1c9a+-0x17*-0x2e)});return ei(_0x367473,_0x12c490,{'numSamples':_0x367473['mipmaps']?-0x1a06*0x1+-0x851*-0x4+-0x73d:-0x1258+0x249+0x140f}),G['popGpuMark'+'er'](_0x5bad5d),_0x12c490;}static['generateAt'+'las'](_0x36c86d,_0x105831){const _0x4cc6fa=_0x36c86d['device'],_0x5c525a=zE();G['pushGpuMar'+'ker'](_0x4cc6fa,'genAtlas');const _0x245b50=(_0x105831==null?void(-0x1*-0xdb7+0x4f*-0x73+0x3*0x742):_0x105831['target'])||new he(_0x4cc6fa,{'name':'envAtlas','width':(_0x105831==null?void(-0x1f90+-0x8*0x7+0x1fc8):_0x105831['size'])||0x25a6+-0x34d*0x7+0x1*-0xc8b,'height':(_0x105831==null?void(-0x825+-0xbdf+0x1*0x1404):_0x105831['size'])||-0x1*-0xfd4+-0x1852+-0x53f*-0x2,'format':_0x5c525a,'type':Io,'projection':lm,'addressU':ne,'addressV':ne,'mipmaps':!(0x1b9*-0x7+0x1529*0x1+-0x919)});G['pushGpuMar'+'ker'](_0x4cc6fa,'mipmaps');const _0x21b658=_0x245b50['width']/(0x1687+-0x262+-0x1225*0x1),_0x5df363=new Q(-0x11d3*-0x2+-0x338+-0x206e,-0x266d+0x1*-0x21d6+0x4843,(-0x53*-0x68+0x3*0x85e+0x7*-0x81e)*_0x21b658,(-0xb17*-0x1+0x51*0x71+-0x2dd8)*_0x21b658),_0x5cd52d=Td(0x2250+0x39*0x14+-0x25c4)-Td(-0x1815+0x1815*-0x1+-0x6e2*-0x7);for(let _0x42d861=-0x1054+0x85*-0x13+0x1a33;_0x42d861<_0x5cd52d;++_0x42d861)ei(_0x36c86d,_0x245b50,{'numSamples':0x1,'rect':_0x5df363,'seamPixels':_0x21b658}),_0x5df363['x']+=_0x5df363['w'],_0x5df363['y']+=_0x5df363['w'],_0x5df363['z']=Math['max'](-0x148f+-0x95*0x2+0x15ba,Math['floor'](_0x5df363['z']*(-0x2*0x105b+0x8*0x39e+-0xa1*-0x6+0.5))),_0x5df363['w']=Math['max'](-0x1f3b+0x921+0x161b,Math['floor'](_0x5df363['w']*(-0x1f7f+0x248e+-0x50f+0.5)));G['popGpuMark'+'er'](_0x4cc6fa),G['pushGpuMar'+'ker'](_0x4cc6fa,'reflection'+'s'),_0x5df363['set'](0x3f8+-0x181c*-0x1+-0x257*0xc,(0x126a*0x1+-0x1efb+0xd91)*_0x21b658,(-0x6da+-0x709+0xee3)*_0x21b658,(-0x75b+0x5d+0x77e)*_0x21b658);for(let _0x4122a7=0xb*-0xb3+-0x1d2f+0x24e1*0x1;_0x4122a7<0xe21+-0x1*0x102b+-0x17*-0x17;++_0x4122a7)ei(_0x36c86d,_0x245b50,{'numSamples':(_0x105831==null?void(0x18e+-0xac6+0x3b*0x28):_0x105831['numReflect'+'ionSamples'])||-0x201e+-0x6da*0x4+-0x1*-0x3f86,'distribution':(_0x105831==null?void(0x201f*-0x1+-0x8*-0x279+0xc57):_0x105831['distributi'+'on'])||'ggx','specularPower':Math['max'](0x2*-0x20d+0x1dc2+-0x19a7,-0x1*0x74a+-0x15af+-0xc53*-0x3>>_0x4122a7*(0x25a1+0x2066+-0x4605)),'rect':_0x5df363,'seamPixels':_0x21b658}),_0x5df363['y']+=_0x5df363['w'],_0x5df363['z']=Math['max'](-0x2c*-0x35+0x26d3+-0x2fee,Math['floor'](_0x5df363['z']*(-0x1eb5*0x1+-0xf7*0x15+-0x197c*-0x2+0.5))),_0x5df363['w']=Math['max'](0x9d8+-0xf4b+0x574,Math['floor'](_0x5df363['w']*(0xfa0+0x8fc+-0x189c+0.5)));return G['popGpuMark'+'er'](_0x4cc6fa),G['pushGpuMar'+'ker'](_0x4cc6fa,'ambient'),_0x5df363['set']((0x1399+-0x1a93*0x1+0x77a)*_0x21b658,(-0x18c1*0x1+-0x1fdf+0x3a20)*_0x21b658,(0x2a0+0x107*-0x22+0x39e*0x9)*_0x21b658,(0x1cc9*0x1+-0x59e+0x170b*-0x1)*_0x21b658),ei(_0x36c86d,_0x245b50,{'numSamples':(_0x105831==null?void(0x39+-0x4b3*0x7+0x3*0xae4):_0x105831['numAmbient'+'Samples'])||-0x1710+-0x3*0xbd0+0x4280,'distribution':'lambert','rect':_0x5df363,'seamPixels':_0x21b658}),G['popGpuMark'+'er'](_0x4cc6fa),G['popGpuMark'+'er'](_0x4cc6fa),_0x245b50;}static['generatePr'+'efilteredA'+'tlas'](_0x12bb57,_0x1697ca){const _0x1f86f3=_0x12bb57[-0xe*-0x98+-0x1*0x1058+-0x404*-0x2]['device'],_0x13ebf2=_0x12bb57[-0x61*0x67+-0xb11*0x1+-0x3218*-0x1]['format'],_0x344494=_0x12bb57[0x13cd+0x1*-0x244b+0x107e]['type'];G['pushGpuMar'+'ker'](_0x1f86f3,'genPrefilt'+'eredAtlas');const _0x335e7a=(_0x1697ca==null?void(-0x1ff4+-0x1*-0x2657+0xf*-0x6d):_0x1697ca['target'])||new he(_0x1f86f3,{'name':'envPrefilt'+'eredAtlas','width':(_0x1697ca==null?void(0x7c0+0x739+-0xef9*0x1):_0x1697ca['size'])||0x3e1*-0x1+0x269f*0x1+0x3*-0xaea,'height':(_0x1697ca==null?void(-0xd2*0x25+-0x65b*0x1+0x1*0x24b5):_0x1697ca['size'])||-0x3*0x2f9+0x1687+-0xb9c,'format':_0x13ebf2,'type':_0x344494,'projection':lm,'addressU':ne,'addressV':ne,'mipmaps':!(0x594+-0x197f+0x13ec)});G['pushGpuMar'+'ker'](_0x1f86f3,'mipmaps');const _0x133ea0=_0x335e7a['width']/(0x6*0x336+0x17fc+-0x2940),_0x21f4ee=new Q(-0x1*-0x90d+0xa5d+-0x136a,-0x1*-0x2570+0x1343*-0x1+-0x122d,(0x26ed+-0x1b0f*0x1+-0x3*0x34a)*_0x133ea0,(0x19*0x67+-0x10c5+-0x7*-0x11a)*_0x133ea0),_0x1d1b15=Td(-0x1cf*-0x7+-0x10de+0x635);for(let _0x2cb358=0x2630+-0x128f*-0x1+-0xc7*0x49;_0x2cb358<_0x1d1b15;++_0x2cb358)ei(_0x12bb57[0x1*-0x1ffa+0x13c5+-0xc35*-0x1],_0x335e7a,{'numSamples':0x1,'rect':_0x21f4ee,'seamPixels':_0x133ea0}),_0x21f4ee['x']+=_0x21f4ee['w'],_0x21f4ee['y']+=_0x21f4ee['w'],_0x21f4ee['z']=Math['max'](-0x1*0x18e9+-0x1fec+0x32*0x123,Math['floor'](_0x21f4ee['z']*(-0x18d4+0x12af+0x1*0x625+0.5))),_0x21f4ee['w']=Math['max'](0x16a9*-0x1+0x15ce*-0x1+0x2c78,Math['floor'](_0x21f4ee['w']*(-0xc2d*-0x2+0x50d+-0x1*0x1d67+0.5)));G['popGpuMark'+'er'](_0x1f86f3),G['pushGpuMar'+'ker'](_0x1f86f3,'reflection'+'s'),_0x21f4ee['set'](0xc6d*0x1+-0x1113+0xaa*0x7,(0xcf1*0x1+-0xeee*-0x1+0x1adf*-0x1)*_0x133ea0,(-0x113b+-0x1*-0xed5+-0x6*-0x91)*_0x133ea0,(0x11dd+-0x1*0x112d+0x4*-0xc)*_0x133ea0);for(let _0x19ca1e=-0x3*0x745+-0xda*-0x2+0x141c;_0x19ca1e<_0x12bb57['length'];++_0x19ca1e)ei(_0x12bb57[_0x19ca1e],_0x335e7a,{'numSamples':0x1,'rect':_0x21f4ee,'seamPixels':_0x133ea0}),_0x21f4ee['y']+=_0x21f4ee['w'],_0x21f4ee['z']=Math['max'](-0x193*0x1+0xe45+-0xcb1,Math['floor'](_0x21f4ee['z']*(0x1*0x146+-0x586+-0x2*-0x220+0.5))),_0x21f4ee['w']=Math['max'](-0x1*-0x118e+-0x2*-0x124d+-0x3627,Math['floor'](_0x21f4ee['w']*(0x162*0x6+0x1*-0x1ba4+-0x1358*-0x1+0.5)));return G['popGpuMark'+'er'](_0x1f86f3),G['pushGpuMar'+'ker'](_0x1f86f3,'ambient'),_0x21f4ee['set']((0x626*-0x2+-0x2bb*-0x9+0xf*-0xc9)*_0x133ea0,(0x1*0x1ae+0xec2*-0x1+-0x2*-0x74a)*_0x133ea0,(-0x18d7+0xedf+0x6*0x1b4)*_0x133ea0,(-0x1102*0x1+0x1cf5+-0xbd3)*_0x133ea0),_0x1697ca!=null&&_0x1697ca['legacyAmbi'+'ent']?ei(_0x12bb57[-0x675+0x645+0x35],_0x335e7a,{'numSamples':0x1,'rect':_0x21f4ee,'seamPixels':_0x133ea0}):ei(_0x12bb57[-0x386*-0x8+0x10*-0x16b+0x160*-0x4],_0x335e7a,{'numSamples':(_0x1697ca==null?void(-0x1*-0x18f4+-0x389+-0x156b):_0x1697ca['numSamples'])||-0x3c*0x56+-0x111e*-0x1+0xb0a,'distribution':'lambert','rect':_0x21f4ee,'seamPixels':_0x133ea0}),G['popGpuMark'+'er'](_0x1f86f3),G['popGpuMark'+'er'](_0x1f86f3),_0x335e7a;}}const VE={'aoPS':bt,'clearCoatPS':bt,'clearCoatGlossPS':od,'clearCoatNormalPS':bt,'diffusePS':bt,'diffuseDetailMapPS':bt,'emissivePS':bt,'glossPS':od,'lightmapDirPS':Ai,'lightmapSinglePS':Ai,'metalnessPS':bt,'normalMapPS':bt,'normalDetailMapPS':bt,'opacityPS':bt,'parallaxPS':bt,'sheenPS':bt,'sheenGlossPS':od,'specularPS':bt,'specularityFactorPS':bt,'thicknessPS':bt,'transmissionPS':bt,'normalVertexPS':Ai,'startPS':Ai,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':di,'metalnessModulatePS':di,'outputAlphaPS':di,'outputAlphaPremulPS':di,'fresnelSchlickPS':di,'iridescenceDiffractionPS':di,'lightmapAddPS':di,'lightmapDirAddPS':di,'refractionCubePS':hm,'refractionDynamicPS':hm},GE={'ambientPrefilteredCubePS':Vi,'ambientPrefilteredCubeLodPS':Vi,'dpAtlasQuadPS':Vi,'genParaboloidPS':Vi,'prefilterCubemapPS':Vi,'reflectionDpAtlasPS':Vi,'reflectionPrefilteredCubePS':Vi,'reflectionPrefilteredCubeLodPS':Vi,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':Ai,'normalMapFastPS':Ai,'specularAaNonePS':Ai,'specularAaToksvigPS':Ai,'specularAaToksvigFastPS':Ai,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':Tn,'fogExp2PS':Tn,'fogLinearPS':Tn,'fogNonePS':Tn,'gamma1_0PS':Tn,'gamma2_2PS':Tn},HE=(_0x514710,_0x9f76fe)=>{const _0x2511d7=_0x514710['split']('.')['map'](_0x4658e1=>parseInt(_0x4658e1,-0x231*0x9+0x45*-0xb+0x16ba)),_0x1dc00e=_0x9f76fe['split']('.')['map'](_0x1a0f78=>parseInt(_0x1a0f78,-0x4*-0x7c0+0x153d+-0x3433));return _0x2511d7[-0x214e+0x1b68+0x5e6]<_0x1dc00e[0xdfd+-0xde0*0x1+-0x1d]||_0x2511d7[-0xa15+0x2039+0x6d*-0x34]===_0x1dc00e[-0x11*-0x239+-0x1*-0x2ab+-0x2*0x143a]&&_0x2511d7[0x1*-0x6fb+-0x1cc+-0x232*-0x4]<_0x1dc00e[-0x1c75+-0x492+-0xe*-0x25c];},WE=_0x1f203d=>{const _0x3040ce=_0x1f203d['APIVersion'];for(const _0x3e9c74 in _0x1f203d)if(_0x3e9c74!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x3e9c74)){const _0x44105d=VE[_0x3e9c74];_0x44105d&&(!_0x3040ce||HE(_0x3040ce,_0x44105d))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3e9c74+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x44105d+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x3040ce||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x38ad40=GE[_0x3e9c74];_0x38ad40?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3e9c74+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x38ad40+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3e9c74+('\x27\x20is\x20not\x20s'+'upported.'));}}};class ir{constructor(){c(this,'code','');}['append'](..._0xd219f6){_0xd219f6['forEach'](_0xb34253=>{_0xb34253['endsWith']('\x0a')?this['code']+=_0xb34253:this['code']+=_0xb34253+'\x0a';});}['prepend'](..._0x2b4c62){_0x2b4c62['forEach'](_0x586f93=>{_0x586f93['endsWith']('\x0a')?this['code']=_0x586f93+this['code']:this['code']=_0x586f93+'\x0a'+this['code'];});}}const Ad={'vertex_normal':Zt,'vertex_tangent':Zs,'vertex_texCoord0':os,'vertex_texCoord1':gn,'vertex_color':Et,'vertex_boneWeights':Ys,'vertex_boneIndices':jt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};(function(){const _0x33f0b2=function(){let _0x42ba31;try{_0x42ba31=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x4797ef){_0x42ba31=window;}return _0x42ba31;},_0x2a102c=_0x33f0b2();_0x2a102c['setInterva'+'l'](_0x35ace2,0x183*-0x12+-0x1*0x5cc+0x28d2);}());class $E{constructor(_0x15f90c,_0x55bec5){if(this['device']=_0x15f90c,this['options']=_0x55bec5,this['attributes']={'vertex_position':He},_0x55bec5['userAttrib'+'utes']){for(const [_0x47c606,_0x126e9e]of Object['entries'](_0x55bec5['userAttrib'+'utes']))this['attributes'][_0x126e9e]=_0x47c606;}if(_0x55bec5['chunks']){const _0x56279e=_0x55bec5['chunks'];WE(_0x56279e),this['chunks']=Object['create'](X);for(const _0x876674 in X)if(_0x56279e['hasOwnProp'+'erty'](_0x876674)){const _0x4dba99=_0x56279e[_0x876674];for(const _0x567210 in Ad)Ad['hasOwnProp'+'erty'](_0x567210)&&_0x4dba99['indexOf'](_0x567210)>=0x148e+-0x681+0xb*-0x147&&(this['attributes'][_0x567210]=Ad[_0x567210]);this['chunks'][_0x876674]=_0x4dba99;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x55bec5['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x55bec5['lights']['length']>0x1e1f+0x255d+0x437c*-0x1||_0x55bec5['dirLightMa'+'pEnabled']||_0x55bec5['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x55bec5['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x55bec5['useSpecula'+'r']||_0x55bec5['ambientSH']||_0x55bec5['useHeights']||_0x55bec5['enableGGXS'+'pecular']||_0x55bec5['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x55bec5['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x55bec5['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x55bec5['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x55bec5['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x3d1df4,_0xcffba,_0xb242d4){return _0x3d1df4+=_0xcffba['baseVS'],(_0xb242d4['nineSliced'+'Mode']===rt||_0xb242d4['nineSliced'+'Mode']===Ze)&&(_0x3d1df4+=_0xcffba['baseNineSl'+'icedVS']),_0x3d1df4;}['_setMapTra'+'nsform'](_0x22dc77,_0x4f93e4,_0x3034df,_0x10aebb){const _0x166380=_0x3034df+_0x10aebb*(-0x21cb+-0x3*0x760+-0x384f*-0x1);if(!_0x22dc77[0x16c+0xf*-0x3e+0x239][_0x166380]){const _0x514ea3='texture_'+_0x4f93e4+('MapTransfo'+'rm');_0x22dc77[-0x182a+-0x1c7b+0x34a5]+='uniform\x20ve'+'c3\x20'+_0x514ea3+'0;\x0a',_0x22dc77[0x5*0x371+0x15a9+-0x2*0x136f]+='uniform\x20ve'+'c3\x20'+_0x514ea3+'1;\x0a',_0x22dc77[-0x4*0x2dd+-0xb8f+0x1704]+='varying\x20ve'+'c2\x20vUV'+_0x10aebb+'_'+_0x3034df+';\x0a',_0x22dc77[-0x25f*0x1+0x252*0x9+-0x1*0x1281]+='\x20\x20\x20vUV'+_0x10aebb+'_'+_0x3034df+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x10aebb+',\x201),\x20'+_0x514ea3+('0),\x20dot(ve'+'c3(uv')+_0x10aebb+',\x201),\x20'+_0x514ea3+'1));\x0a',_0x22dc77[-0x1b*0xba+0x142e+0x8d*-0x1][_0x166380]=!(0x1736*0x1+-0x1*-0x1ff3+-0x3729*0x1);}return _0x22dc77;}['_fsGetBase'+'Code'](){const _0x3b550c=this['options'],_0x330f9a=this['chunks'];let _0x46f450=this['chunks']['basePS'];return _0x3b550c['nineSliced'+'Mode']===rt?_0x46f450+=_0x330f9a['baseNineSl'+'icedPS']:_0x3b550c['nineSliced'+'Mode']===Ze&&(_0x46f450+=_0x330f9a['baseNineSl'+'icedTiledP'+'S']),_0x46f450;}['_fsGetStar'+'tCode'](_0xe1b806,_0x2a85d2,_0x19fa7b,_0x2d7564){let _0xd90f24=_0x19fa7b['startPS'];return _0x2d7564['nineSliced'+'Mode']===rt?_0xd90f24+=_0x19fa7b['startNineS'+'licedPS']:_0x2d7564['nineSliced'+'Mode']===Ze&&(_0xd90f24+=_0x19fa7b['startNineS'+'licedTiled'+'PS']),_0xd90f24;}['_getLightS'+'ourceShape'+'String'](_0xdb5558){switch(_0xdb5558){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x2cec88,_0x5ac28f,_0x257e6f){const _0x388f81=this['device'],_0x1dd17f=this['options'],_0x3f5569=this['chunks'];let _0x31e7dd='',_0x31ed98='',_0x49cf30='';_0x31e7dd=this['_vsAddBase'+'Code'](_0x31e7dd,_0x3f5569,_0x1dd17f),_0x31ed98+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x49cf30+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x31ed98+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=np,this['attributes']['instance_l'+'ine2']=ya,this['attributes']['instance_l'+'ine3']=ap,this['attributes']['instance_l'+'ine4']=xa),_0x31e7dd+=_0x3f5569['transformV'+'S'],this['needsNorma'+'l']&&(_0x31e7dd+=_0x3f5569['normalCore'+'VS'],_0x31e7dd+=_0x3f5569['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Zt,_0x31ed98+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x1dd17f['reflection'+'Source']==='sphereMap'&&_0x388f81['fragmentUn'+'iformsCoun'+'t']<=0x1*0x1f12+0x2027+-0x3f29&&(_0x31e7dd+=_0x3f5569['viewNormal'+'VS'],_0x31ed98+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x1dd17f['hasTangent'+'s']&&(_0x1dd17f['useHeights']||_0x1dd17f['useNormals']||_0x1dd17f['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x31e7dd+=_0x3f5569['tangentBin'+'ormalVS'],_0x31ed98+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x31ed98+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x1dd17f['enableGGXS'+'pecular']&&(_0x31ed98+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x2e2f42=0x19a6+0x1be5*0x1+0xab5*-0x5;for(let _0x2aae76=-0xe80+0x16c6+0x2*-0x423;_0x2aae76<_0x2e2f42;_0x2aae76++)_0x2cec88[_0x2aae76]&&(this['attributes']['vertex_tex'+'Coord'+_0x2aae76]='TEXCOORD'+_0x2aae76,_0x31e7dd+=_0x3f5569['uv'+_0x2aae76+'VS'],_0x31ed98+='\x20\x20\x20vec2\x20uv'+_0x2aae76+'\x20=\x20getUv'+_0x2aae76+'();\x0a'),_0x5ac28f[_0x2aae76]&&(_0x31ed98+='\x20\x20\x20vUv'+_0x2aae76+'\x20=\x20uv'+_0x2aae76+';\x0a');const _0xc9da0=[_0x31e7dd,this['varyings'],_0x31ed98,[]];_0x257e6f['forEach'](_0x24f7f3=>{this['_setMapTra'+'nsform'](_0xc9da0,_0x24f7f3['name'],_0x24f7f3['id'],_0x24f7f3['uv']);}),_0x31e7dd=_0xc9da0[0x209d+0x1c12+-0x3caf],this['varyings']=_0xc9da0[-0x1fc3+-0x104b+0x300f],_0x31ed98=_0xc9da0[-0xd2d*0x2+0xd5a*0x2+-0x58],_0x1dd17f['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=Et,_0x31ed98+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x1dd17f['useMsdf']&&_0x1dd17f['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x31ed98+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x31e7dd+=_0x3f5569['msdfVS']),(_0x1dd17f['useMorphPo'+'sition']||_0x1dd17f['useMorphNo'+'rmal'])&&(_0x49cf30+='#define\x20MO'+'RPHING\x0a',_0x1dd17f['useMorphTe'+'xtureBased'+'Int']&&(_0x49cf30+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x1dd17f['useMorphPo'+'sition']&&(_0x49cf30+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x1dd17f['useMorphNo'+'rmal']&&(_0x49cf30+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=xa),_0x1dd17f['skin']?(this['attributes']['vertex_bon'+'eIndices']=jt,_0x1dd17f['batch']?_0x49cf30+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x49cf30+='#define\x20SK'+'IN\x0a')):_0x1dd17f['useInstanc'+'ing']&&(_0x49cf30+='#define\x20IN'+'STANCING\x0a'),_0x1dd17f['screenSpac'+'e']&&(_0x49cf30+='#define\x20SC'+'REENSPACE\x0a'),_0x1dd17f['pixelSnap']&&(_0x49cf30+='#define\x20PI'+'XELSNAP\x0a'),_0x31e7dd+='\x0a',_0x31e7dd+=_0x3f5569['startVS'],_0x31e7dd+=_0x31ed98,_0x31e7dd+=_0x3f5569['endVS'],_0x31e7dd+='}',Object['keys'](h_)['forEach'](_0x1a3765=>{_0x31e7dd['indexOf'](_0x1a3765)>=-0x200f*0x1+0x427*-0x4+0x1*0x30ab&&(this['varyings']+='varying\x20'+h_[_0x1a3765]+'\x20'+_0x1a3765+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x1a3765['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x49cf30+this['varyings']+_0x31e7dd;}['_fsGetBegi'+'nCode'](){let _0xe6e793='';for(let _0x4b0c60=0xba9+0x1a29+-0x25d2;_0x4b0c60<this['defines']['length'];_0x4b0c60++)_0xe6e793+='#define\x20'+this['defines'][_0x4b0c60]+'\x0a';return _0xe6e793;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x20dd3d=this['_fsGetBegi'+'nCode']();return _0x20dd3d+=this['varyings'],_0x20dd3d+=this['varyingDef'+'ines'],_0x20dd3d+=this['frontendDe'+'cl'],_0x20dd3d+=this['frontendCo'+'de'],_0x20dd3d+=Dt['begin'](),_0x20dd3d+=this['frontendFu'+'nc'],_0x20dd3d+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x20dd3d+=Dt['end'](),_0x20dd3d;}['_fsGetPreP'+'assCode'](){let _0x4d537a=this['_fsGetBegi'+'nCode']();return _0x4d537a+=this['varyings'],_0x4d537a+=this['varyingDef'+'ines'],_0x4d537a+=this['chunks']['floatAsUin'+'tPS'],_0x4d537a+=this['frontendDe'+'cl'],_0x4d537a+=this['frontendCo'+'de'],_0x4d537a+=Dt['begin'](),_0x4d537a+=this['frontendFu'+'nc'],_0x4d537a+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x4d537a+=Dt['end'](),_0x4d537a;}['_fsGetShad'+'owPassCode'](){const _0x2a125a=this['options'],_0x240c9f=this['chunks'],_0x196f31=this['varyings'],_0x211d9e=this['shaderPass'+'Info']['lightType'];let _0x1b7960=this['shaderPass'+'Info']['shadowType'];_0x211d9e!==ae&&_0x2a125a['clusteredL'+'ightingEna'+'bled']&&(_0x1b7960===Hr||_0x1b7960===Wr||_0x1b7960===Cs)&&(_0x1b7960=Lt);const _0x4c5e6d=rr['get'](_0x1b7960);v['assert'](_0x4c5e6d);const _0x15d65f=(_0x4c5e6d==null?void(0x1*0x205a+0x155e+0xc*-0x47a):_0x4c5e6d['vsm'])??!(-0x217+-0x4bc+0x6d4),_0x2af910=(_0x4c5e6d==null?void(0x518+-0x21d+-0x2fb):_0x4c5e6d['pcss'])??!(-0x18cd+-0x33*0x22+0x1f94);let _0x470176=this['_fsGetBegi'+'nCode']();_0x1b7960===Wr?_0x470176+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x1b7960===Hr&&(_0x470176+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x211d9e!==ae&&(_0x470176+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x470176+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x470176+=_0x196f31,_0x470176+=this['varyingDef'+'ines'],_0x470176+=this['frontendDe'+'cl'],_0x470176+=this['frontendCo'+'de'],_0x1b7960===Cs&&(_0x470176+=X['linearizeD'+'epthPS']),_0x470176+=Dt['begin'](),_0x470176+=this['frontendFu'+'nc'];const _0x5d4d13=_0x211d9e===ae||!_0x15d65f&&_0x211d9e===Re;let _0x13fa83=!(0x10*-0x2+-0x1614+0x1635);return _0x5d4d13?(_0x470176+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x2af910&&_0x211d9e!==ae&&(_0x470176+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x470176+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x13fa83=!(0x39d*-0x1+0x1f93*-0x1+-0x1198*-0x2)),_0x15d65f?_0x470176+=_0x240c9f['storeEVSMP'+'S']:_0x2af910?_0x470176+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x13fa83&&(_0x470176+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x470176+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x470176+=Dt['end'](),_0x470176;}['_fsGetLitP'+'assCode'](){var _0x5a8e55;const _0x146570=this['device'],_0x41a2e6=this['options'],_0x8d19ea=this['chunks'],_0x4dd774=new ir(),_0x41b466=new ir(),_0x45a07b=new ir(),_0x4a8f58=new ir();_0x41a2e6['opacityFad'+'esSpecular']===!(0x707*0x3+0xc*0x1df+0xae2*-0x4)&&_0x4dd774['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x41a2e6['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x41a2e6['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x41a2e6['fresnelMod'+'el']>0x135c+0xf*0x23b+-0x34d1&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x41a2e6['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x41a2e6['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x46b224=[];let _0x1734fd=0xbf4*-0x3+0x6c4*-0x1+0x2aa0,_0x28add4=!(0xe64+-0x1*-0x226d+-0x11c*0x2c),_0x4d4eae=!(-0x9e2*-0x1+0x1a13+0x34*-0xb1),_0x3174cb=!(-0x1*-0x22a0+0x5*0x275+-0x2ee8),_0x23ad90=_0x41a2e6['lights']['some'](_0x18ddf9=>_0x18ddf9['_shape']&&_0x18ddf9['_shape']!==xt);_0x41a2e6['clusteredL'+'ightingEna'+'bled']&&_0x41a2e6['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x23ad90=!(0x1552+0xe4b*0x1+-0x239d)),(_0x23ad90||_0x41a2e6['clusteredL'+'ightingEna'+'bled'])&&(_0x4dd774['append']('#define\x20AR'+'EA_LIGHTS'),_0x4dd774['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x4dd774['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x5bac6e=-0x207c+-0x24*0xa2+0x624*0x9;_0x5bac6e<_0x41a2e6['lights']['length'];_0x5bac6e++){const _0x3272a=_0x41a2e6['lights'][_0x5bac6e],_0x10aaba=_0x3272a['_type'];if(_0x41a2e6['clusteredL'+'ightingEna'+'bled']&&_0x10aaba!==ae)continue;const _0x515170=_0x23ad90&&_0x3272a['_shape']?_0x3272a['_shape']:xt;_0x4dd774['append']('uniform\x20ve'+'c3\x20light'+_0x5bac6e+'_color;'),_0x3272a['_shadowTyp'+'e']===Cs&&_0x3272a['castShadow'+'s']&&!_0x41a2e6['noShadow']&&(_0x4dd774['append']('uniform\x20fl'+'oat\x20light'+_0x5bac6e+('_shadowSea'+'rchArea;')),_0x4dd774['append']('uniform\x20ve'+'c4\x20light'+_0x5bac6e+('_cameraPar'+'ams;')),_0x10aaba===ae&&_0x4dd774['append']('uniform\x20ve'+'c4\x20light'+_0x5bac6e+('_softShado'+'wParams;'))),_0x10aaba===ae?_0x4dd774['append']('uniform\x20ve'+'c3\x20light'+_0x5bac6e+('_direction'+';')):(_0x4dd774['append']('uniform\x20ve'+'c3\x20light'+_0x5bac6e+'_position;'),_0x4dd774['append']('uniform\x20fl'+'oat\x20light'+_0x5bac6e+'_radius;'),_0x10aaba===Re&&(_0x4dd774['append']('uniform\x20ve'+'c3\x20light'+_0x5bac6e+('_direction'+';')),_0x4dd774['append']('uniform\x20fl'+'oat\x20light'+_0x5bac6e+('_innerCone'+'Angle;')),_0x4dd774['append']('uniform\x20fl'+'oat\x20light'+_0x5bac6e+('_outerCone'+'Angle;')))),_0x515170!==xt&&(_0x10aaba===ae&&_0x4dd774['append']('uniform\x20ve'+'c3\x20light'+_0x5bac6e+'_position;'),_0x4dd774['append']('uniform\x20ve'+'c3\x20light'+_0x5bac6e+('_halfWidth'+';')),_0x4dd774['append']('uniform\x20ve'+'c3\x20light'+_0x5bac6e+('_halfHeigh'+'t;'))),_0x3272a['castShadow'+'s']&&!_0x41a2e6['noShadow']&&(_0x4dd774['append']('uniform\x20ma'+'t4\x20light'+_0x5bac6e+('_shadowMat'+'rix;')),_0x4dd774['append']('uniform\x20fl'+'oat\x20light'+_0x5bac6e+('_shadowInt'+'ensity;')),_0x10aaba===ae&&(_0x4dd774['append']('uniform\x20ma'+'t4\x20light'+_0x5bac6e+('_shadowMat'+'rixPalette'+'[4];')),_0x4dd774['append']('uniform\x20ve'+'c4\x20light'+_0x5bac6e+('_shadowCas'+'cadeDistan'+'ces;')),_0x4dd774['append']('uniform\x20in'+'t\x20light'+_0x5bac6e+('_shadowCas'+'cadeCount;')),_0x4dd774['append']('uniform\x20fl'+'oat\x20light'+_0x5bac6e+('_shadowCas'+'cadeBlend;'))),_0x4dd774['append']('uniform\x20ve'+'c4\x20light'+_0x5bac6e+('_shadowPar'+'ams;')),_0x10aaba===ae&&(_0x28add4=!(0x137+0x2f5*-0xa+-0x3d*-0x77)),_0x10aaba===Pe?_0x4dd774['append']('uniform\x20'+(_0x3272a['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x5bac6e+('_shadowMap'+';')):_0x4dd774['append']('uniform\x20'+(_0x3272a['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x5bac6e+('_shadowMap'+';')),_0x1734fd++,_0x46b224[_0x3272a['_shadowTyp'+'e']]=!(0x5*-0x567+0x26c5+-0xbc2),_0x3272a['_isVsm']&&(_0x4d4eae=!(-0xa3*0x2+0xc26+-0xc*0xe8)),_0x3272a['_shadowTyp'+'e']===Cs&&(_0x3174cb=!(-0x1dff+-0x1823+-0x1a*-0x215))),_0x3272a['_cookie']&&(_0x3272a['_cookie']['_cubemap']?_0x10aaba===Pe&&(_0x4dd774['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x5bac6e+'_cookie;'),_0x4dd774['append']('uniform\x20fl'+'oat\x20light'+_0x5bac6e+('_cookieInt'+'ensity;')),(!_0x3272a['castShadow'+'s']||_0x41a2e6['noShadow'])&&_0x4dd774['append']('uniform\x20ma'+'t4\x20light'+_0x5bac6e+('_shadowMat'+'rix;'))):_0x10aaba===Re&&(_0x4dd774['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x5bac6e+'_cookie;'),_0x4dd774['append']('uniform\x20fl'+'oat\x20light'+_0x5bac6e+('_cookieInt'+'ensity;')),(!_0x3272a['castShadow'+'s']||_0x41a2e6['noShadow'])&&_0x4dd774['append']('uniform\x20ma'+'t4\x20light'+_0x5bac6e+('_shadowMat'+'rix;')),_0x3272a['_cookieTra'+'nsform']&&(_0x4dd774['append']('uniform\x20ve'+'c4\x20light'+_0x5bac6e+('_cookieMat'+'rix;')),_0x4dd774['append']('uniform\x20ve'+'c2\x20light'+_0x5bac6e+('_cookieOff'+'set;')))));}const _0xe67be8=this['needsNorma'+'l']&&(_0x41a2e6['useNormals']||_0x41a2e6['useClearCo'+'atNormals']||_0x41a2e6['enableGGXS'+'pecular']&&!_0x41a2e6['useHeights']);if(_0xe67be8&&(_0x41a2e6['hasTangent'+'s']?_0x41b466['append'](_0x8d19ea['TBNPS']):_0x41a2e6['useNormals']||_0x41a2e6['useClearCo'+'atNormals']?_0x41b466['append'](_0x8d19ea['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x41b466['append'](_0x8d19ea['TBNObjectS'+'pacePS']),_0x41a2e6['twoSidedLi'+'ghting']&&_0x41b466['append'](_0x8d19ea['twoSidedLi'+'ghtingPS'])),_0x41b466['append'](_0x8d19ea['sphericalP'+'S']),_0x41b466['append'](_0x8d19ea['decodePS']),_0x41b466['append'](_0x8d19ea['gammaPS']),_0x41b466['append'](_0x8d19ea['tonemappin'+'gPS']),_0x41b466['append'](_0x8d19ea['fogPS']),_0x41b466['append'](this['frontendCo'+'de']),_0x41a2e6['useCubeMap'+'Rotation']&&_0x4dd774['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x41b466['append'](_0x8d19ea['cubeMapRot'+'atePS']),_0x41b466['append'](_0x41a2e6['cubeMapPro'+'jection']>0x45*-0x9+-0x4*-0x794+-0x1be3?_0x8d19ea['cubeMapPro'+'jectBoxPS']:_0x8d19ea['cubeMapPro'+'jectNonePS']),_0x41b466['append'](_0x41a2e6['skyboxInte'+'nsity']?_0x8d19ea['envMultipl'+'yPS']:_0x8d19ea['envConstPS'])),(this['lighting']&&_0x41a2e6['useSpecula'+'r']||this['reflection'+'s'])&&(_0x41a2e6['useMetalne'+'ss']&&_0x41b466['append'](_0x8d19ea['metalnessM'+'odulatePS']),_0x41a2e6['fresnelMod'+'el']===vp&&_0x41b466['append'](_0x8d19ea['fresnelSch'+'lickPS']),_0x41a2e6['useIridesc'+'ence']&&_0x41b466['append'](_0x8d19ea['iridescenc'+'eDiffracti'+'onPS'])),_0x41a2e6['useAo'])switch(_0x41b466['append'](_0x8d19ea['aoDiffuseO'+'ccPS']),_0x41a2e6['occludeSpe'+'cular']){case Bo:_0x41b466['append'](_0x41a2e6['occludeSpe'+'cularFloat']?_0x8d19ea['aoSpecOccS'+'implePS']:_0x8d19ea['aoSpecOccC'+'onstSimple'+'PS']);break;case Fu:_0x41b466['append'](_0x41a2e6['occludeSpe'+'cularFloat']?_0x8d19ea['aoSpecOccP'+'S']:_0x8d19ea['aoSpecOccC'+'onstPS']);break;}_0x41a2e6['reflection'+'Source']==='envAtlasHQ'?(_0x41b466['append'](_0x8d19ea['envAtlasPS']),_0x41b466['append'](_0x8d19ea['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Ms['decodeFunc'](_0x41a2e6['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Ms['decodeFunc'](_0x41a2e6['reflection'+'Encoding'])))):_0x41a2e6['reflection'+'Source']==='envAtlas'?(_0x41b466['append'](_0x8d19ea['envAtlasPS']),_0x41b466['append'](_0x8d19ea['reflection'+'EnvPS']['replace'](/\$DECODE/g,Ms['decodeFunc'](_0x41a2e6['reflection'+'Encoding'])))):_0x41a2e6['reflection'+'Source']==='cubeMap'?_0x41b466['append'](_0x8d19ea['reflection'+'CubePS']['replace'](/\$DECODE/g,Ms['decodeFunc'](_0x41a2e6['reflection'+'Encoding']))):_0x41a2e6['reflection'+'Source']==='sphereMap'&&_0x41b466['append'](_0x8d19ea['reflection'+'SpherePS']['replace'](/\$DECODE/g,Ms['decodeFunc'](_0x41a2e6['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x41a2e6['useClearCo'+'at']&&_0x41b466['append'](_0x8d19ea['reflection'+'CCPS']),_0x41a2e6['useSheen']&&_0x41b466['append'](_0x8d19ea['reflection'+'SheenPS'])),_0x41a2e6['useRefract'+'ion']&&(_0x41a2e6['useDynamic'+'Refraction']?(_0x41a2e6['dispersion']&&(_0x4dd774['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x4dd774['append']('#define\x20DI'+'SPERSION\x0a')),_0x41b466['append'](_0x8d19ea['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x41b466['append'](_0x8d19ea['refraction'+'CubePS'])),_0x41a2e6['useSheen']&&_0x41b466['append'](_0x8d19ea['lightSheen'+'PS']),_0x41a2e6['clusteredL'+'ightingEna'+'bled']&&(_0x41b466['append'](_0x8d19ea['clusteredL'+'ightUtilsP'+'S']),_0x41a2e6['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x41b466['append'](_0x8d19ea['clusteredL'+'ightCookie'+'sPS']),_0x41a2e6['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x41a2e6['noShadow']&&(_0x46b224[Lt]=!(0x176d*-0x1+-0x123+0x1890),_0x46b224[hh]=!(0x13d*-0x4+-0x25e9+0x2add),_0x46b224[Cs]=!(-0x1*-0x14d5+-0x1*0x741+0x2c*-0x4f))),(_0x1734fd>-0x12e7+-0x2303*0x1+0x35ea||_0x41a2e6['clusteredL'+'ightingEna'+'bled'])&&(_0x28add4&&_0x41b466['append'](_0x8d19ea['shadowCasc'+'adesPS']),(_0x46b224[Nh]||_0x46b224[Lt]||_0x46b224[zh]||_0x46b224[Uh])&&_0x41b466['append'](_0x8d19ea['shadowStan'+'dardPS']),(_0x46b224[hh]||_0x46b224[Du])&&_0x41b466['append'](_0x8d19ea['shadowStan'+'dardGL2PS']),_0x4d4eae&&(_0x41b466['append'](_0x8d19ea['shadowVSM_'+'commonPS']),_0x46b224[Hr]&&_0x41b466['append'](_0x8d19ea['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x46b224[Wr]&&_0x41b466['append'](_0x146570['extTexture'+'FloatLinea'+'r']?_0x8d19ea['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x8d19ea['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x3174cb&&(_0x41b466['append'](_0x8d19ea['linearizeD'+'epthPS']),_0x41b466['append'](_0x8d19ea['shadowPCSS'+'PS']),_0x41b466['append'](_0x8d19ea['shadowSoft'+'PS']))),_0x41a2e6['enableGGXS'+'pecular']&&_0x41b466['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x41b466['append'](_0x8d19ea['lightDiffu'+'seLambertP'+'S']),(_0x23ad90||_0x41a2e6['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x41b466['append'](_0x8d19ea['ltcPS']));let _0x2563a7=!(-0x37*0x75+-0xa5*0x3+0xef*0x1d);_0x41a2e6['useSpecula'+'r']&&(this['lighting']&&_0x41b466['append'](_0x41a2e6['enableGGXS'+'pecular']?_0x8d19ea['lightSpecu'+'larAnisoGG'+'XPS']:_0x8d19ea['lightSpecu'+'larBlinnPS']),!_0x41a2e6['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x41a2e6['diffuseMap'+'Enabled']&&(_0x4dd774['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x4dd774['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x2563a7=!(0x1*-0x89e+-0x8a6+0x104*0x11))),_0x41b466['append'](_0x8d19ea['combinePS']),_0x41a2e6['lightMapEn'+'abled']&&_0x41b466['append'](_0x41a2e6['useSpecula'+'r']&&_0x41a2e6['dirLightMa'+'pEnabled']?_0x8d19ea['lightmapDi'+'rAddPS']:_0x8d19ea['lightmapAd'+'dPS']);const _0x231744=!_0x41a2e6['lightMapEn'+'abled']||_0x41a2e6['lightMapWi'+'thoutAmbie'+'nt'];_0x231744&&(_0x41a2e6['ambientSou'+'rce']==='ambientSH'?_0x41b466['append'](_0x8d19ea['ambientSHP'+'S']):_0x41a2e6['ambientSou'+'rce']==='envAtlas'?(_0x41a2e6['reflection'+'Source']!=='envAtlas'&&_0x41a2e6['reflection'+'Source']!=='envAtlasHQ'&&_0x41b466['append'](_0x8d19ea['envAtlasPS']),_0x41b466['append'](_0x8d19ea['ambientEnv'+'PS']['replace'](/\$DECODE/g,Ms['decodeFunc'](_0x41a2e6['ambientEnc'+'oding'])))):_0x41b466['append'](_0x8d19ea['ambientCon'+'stantPS'])),_0x2563a7||_0x4dd774['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x41a2e6['useMsdf']&&(_0x41a2e6['msdfTextAt'+'tribute']||_0x4dd774['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x41b466['append'](_0x8d19ea['msdfPS'])),this['needsNorma'+'l']&&(_0x41b466['append'](_0x8d19ea['viewDirPS']),_0x41a2e6['useSpecula'+'r']&&_0x41b466['append'](_0x41a2e6['enableGGXS'+'pecular']?_0x8d19ea['reflDirAni'+'soPS']:_0x8d19ea['reflDirPS']));let _0x2d71e9=!(0x1*0x527+0x11*0x6b+0xc41*-0x1),_0x2c659b=!(-0xc71+0x4d*0x3e+-0x634),_0x2ef7dc=!(-0x14c6+-0x25*0x4d+0x3fd*0x8),_0x549ff1=!(0xd53+-0x1aa6+0xd54),_0x14d6e9=!(0xa75*0x2+0x3*-0x713+0x50),_0x4503ef;if(_0x41a2e6['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x549ff1=!(0x10de+-0x42f*-0x3+-0x1d6b),_0x2d71e9=!(0x1*0x1acb+-0x19c2+-0x35*0x5),_0x2c659b=!(0x9*0x439+0x1*-0x1c4+-0x243d*0x1),_0x14d6e9=!(-0x6d*-0x38+0xc5*0x1b+-0x2c9f),_0x41b466['append'](_0x8d19ea['floatUnpac'+'kingPS']),_0x41a2e6['lightMaskD'+'ynamic']&&_0x4dd774['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x41a2e6['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x4dd774['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x41a2e6['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x41a2e6['noShadow']){const _0x5bb9b4=(_0x5a8e55=rr['get'](_0x41a2e6['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x1683+0x15c6+0xbd):_0x5a8e55['name'];v['assert'](_0x5bb9b4);const _0x246ac9=_0x5bb9b4['substring'](0x5*0x51e+0x5d*-0x3b+0x427*-0x1,-0x923+-0xd*0x70+-0x1d*-0x83);_0x4dd774['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x4dd774['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x246ac9);}_0x41a2e6['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x4dd774['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x4dd774['append'](C0['getShaderD'+'efines']()),_0x41a2e6['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x41a2e6['noShadow']&&_0x41b466['append'](_0x8d19ea['clusteredL'+'ightShadow'+'sPS']),_0x41b466['append'](_0x8d19ea['clusteredL'+'ightPS']);}if(_0x4a8f58['append'](this['_fsGetStar'+'tCode'](_0x4a8f58,_0x146570,_0x8d19ea,_0x41a2e6)),this['needsNorma'+'l']&&(_0x4a8f58['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x41a2e6['useHeights']||_0x41a2e6['useNormals'])&&_0x41a2e6['hasTangent'+'s']&&(_0x4a8f58['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x4a8f58['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x4a8f58['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0xe67be8&&(_0x4a8f58['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x41a2e6['twoSidedLi'+'ghting']&&_0x4a8f58['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x4a8f58['append'](this['frontendFu'+'nc']),_0x41a2e6['ssao']&&(_0x41b466['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x45a07b['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x41a2e6['useSpecula'+'r']&&_0x45a07b['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x41a2e6['useClearCo'+'at']&&_0x45a07b['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x41a2e6['useSpecula'+'r']||this['reflection'+'s'])&&(_0x41a2e6['useMetalne'+'ss']&&(_0x45a07b['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x45a07b['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x45a07b['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x41a2e6['useIridesc'+'ence']&&_0x45a07b['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x231744&&(_0x45a07b['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x41a2e6['useSpecula'+'r']&&_0x45a07b['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x41a2e6['separateAm'+'bient']&&_0x45a07b['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x2563a7||_0x45a07b['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x41a2e6['useAo']&&!_0x41a2e6['occludeDir'+'ect']&&_0x45a07b['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x41a2e6['lightMapEn'+'abled']&&_0x45a07b['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x41a2e6['useClearCo'+'at']&&(_0x45a07b['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x41a2e6['fresnelMod'+'el']>-0x26c9+0x8*-0x15d+0x31b1?(_0x45a07b['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x45a07b['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x45a07b['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x41a2e6['useSpecula'+'rityFactor']&&_0x45a07b['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x41a2e6['useSheen']&&_0x45a07b['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x45a07b['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x41a2e6['fresnelMod'+'el']>0x243b+-0x1*-0x1489+-0x38c4?_0x45a07b['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x45a07b['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x41a2e6['useSpecula'+'rityFactor']&&_0x45a07b['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x23ad90&&(_0x45a07b['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x41a2e6['useSpecula'+'r']&&_0x45a07b['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x5a8bdf=0x5*-0x3ee+-0x3*0x283+0x1b2f;_0x5a8bdf<_0x41a2e6['lights']['length'];_0x5a8bdf++){const _0x4081aa=_0x41a2e6['lights'][_0x5a8bdf],_0x211fef=_0x4081aa['_type'];if(_0x41a2e6['clusteredL'+'ightingEna'+'bled']&&_0x211fef!==ae)continue;_0x4503ef=!(0x161b+-0x4e3*0x3+-0x27b*0x3);const _0x3f27c2=_0x23ad90&&_0x4081aa['_shape']?_0x4081aa['shape']:xt,_0x5ae69c=_0x23ad90&&_0x4081aa['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x3f27c2):'';if(_0x3f27c2!==xt&&_0x45a07b['append']('\x20\x20\x20\x20calc'+_0x5ae69c+('LightValue'+'s(light')+_0x5a8bdf+('_position,'+'\x20light')+_0x5a8bdf+('_halfWidth'+',\x20light')+_0x5a8bdf+('_halfHeigh'+'t);')),_0x211fef===ae?(_0x45a07b['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x5a8bdf+('_direction'+';')),_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x4081aa['_cookie']&&(_0x211fef===Re&&!_0x4081aa['_cookie']['_cubemap']||_0x211fef===Pe&&_0x4081aa['_cookie']['_cubemap'])&&(_0x14d6e9=!(0x10ad+0x1*0x1bb6+-0x2c63),_0x4503ef=!(-0x529+-0x17fb+0x1d24)),_0x45a07b['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x5a8bdf+('_position)'+';')),_0x2d71e9=!(-0x63*-0x3+-0x1*-0x18dd+-0x2*0xd03),_0x4503ef&&(_0x211fef===Re?_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x4081aa['_cookieFal'+'loff']?'':'Clip')+(_0x4081aa['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x5a8bdf+('_cookie,\x20l'+'ight')+_0x5a8bdf+('_shadowMat'+'rix,\x20light')+_0x5a8bdf+('_cookieInt'+'ensity')+(_0x4081aa['_cookieTra'+'nsform']?',\x20light'+_0x5a8bdf+('_cookieMat'+'rix,\x20light')+_0x5a8bdf+('_cookieOff'+'set'):'')+').'+_0x4081aa['_cookieCha'+'nnel']+';'):_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x5a8bdf+('_cookie,\x20l'+'ight')+_0x5a8bdf+('_shadowMat'+'rix,\x20light')+_0x5a8bdf+('_cookieInt'+'ensity).')+_0x4081aa['_cookieCha'+'nnel']+';')),_0x3f27c2===xt?_0x4081aa['_falloffMo'+'de']===Tp?(_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x5a8bdf+('_radius,\x20d'+'LightDirW)'+';')),_0x2c659b=!(-0x148e*0x1+0x18c3+-0x435)):(_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x5a8bdf+('_radius,\x20d'+'LightDirW)'+';')),_0x2ef7dc=!(-0x1543*0x1+-0x1355+0x2898)):(_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x5a8bdf+('_radius,\x20d'+'LightDirW)'+';')),_0x2ef7dc=!(0x1*-0x1f84+-0x1*0xbe9+-0x2b6d*-0x1)),_0x45a07b['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x211fef===Re&&(_0x4503ef&&!_0x4081aa['_cookieFal'+'loff']||(_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x5a8bdf+('_direction'+',\x20light')+_0x5a8bdf+('_innerCone'+'Angle,\x20lig'+'ht')+_0x5a8bdf+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x549ff1=!(0x6f*0x45+0x3*-0xa57+0x5e*0x3)))),_0x3f27c2!==xt?_0x211fef===ae?_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x5ae69c+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x4081aa['castShadow'+'s']&&!_0x41a2e6['noShadow']){const _0x115fa3=rr['get'](_0x4081aa['_shadowTyp'+'e']);v['assert'](_0x115fa3);const _0x2a5dea=_0x4081aa['_shadowTyp'+'e']===Cs,_0x1a588e=_0x115fa3==null?void(-0x1796+-0x1eeb+-0x3*-0x122b):_0x115fa3['vsm'],_0x437dec=_0x115fa3==null?void(-0x2*-0xbb7+0xd91+-0x24ff):_0x115fa3['pcf'];let _0x3f1679=null,_0x173687;switch(_0x4081aa['_shadowTyp'+'e']){case Hr:_0x3f1679='VSM16',_0x173687='5.54';break;case Wr:_0x3f1679='VSM32',_0x173687='15.0';break;case Nh:case zh:_0x3f1679='PCF1x1';break;case hh:case Du:_0x3f1679='PCF5x5';break;case Cs:_0x3f1679='PCSS';break;case Lt:case Uh:default:_0x3f1679='PCF3x3';break;}if(_0x3f1679!==null){_0x4081aa['_normalOff'+'setBias']&&!_0x4081aa['_isVsm']&&_0x41b466['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x211fef===ae&&_0x41b466['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x437dec||_0x2a5dea||_0x146570['isWebGPU'])&&_0x41b466['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x211fef===Pe&&_0x41b466['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x3005d3=_0x8d19ea['shadowSamp'+'leCoordPS'];_0x41b466['append'](_0x3005d3['replace']('$LIGHT',_0x5a8bdf)),_0x41b466['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x41b466['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x41b466['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x41b466['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x12a89d='light'+_0x5a8bdf+('_shadowMat'+'rix');_0x211fef===ae&&_0x4081aa['numCascade'+'s']>0x1eb5*0x1+-0x173+-0x1d41&&(_0x45a07b['append']('int\x20cascad'+'eIndex'+_0x5a8bdf+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x5a8bdf+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x5a8bdf+('_shadowCas'+'cadeCount)'+';')),_0x4081aa['cascadeBle'+'nd']>0x21c*0x1+-0x126a*0x2+0x8*0x457&&_0x45a07b['append']('cascadeInd'+'ex'+_0x5a8bdf+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x5a8bdf+',\x20light'+_0x5a8bdf+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x5a8bdf+('_shadowCas'+'cadeCount,'+'\x20light')+_0x5a8bdf+('_shadowCas'+'cadeBlend)'+';')),_0x45a07b['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x5a8bdf+'\x20=\x20light'+_0x5a8bdf+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x5a8bdf+'];'),_0x12a89d='cascadeSha'+'dowMat'+_0x5a8bdf),_0x45a07b['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x5a8bdf+'('+_0x12a89d+',\x20light'+_0x5a8bdf+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x211fef===ae&&_0x45a07b['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x5a8bdf+('_shadowCas'+'cadeDistan'+'ces);'));let _0x1cf5e2='SHADOWMAP_'+'PASS(light'+_0x5a8bdf+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x5a8bdf+('_shadowPar'+'ams');if(_0x1a588e)_0x1cf5e2=_0x1cf5e2+',\x20'+_0x173687+(',\x20dLightDi'+'rW');else{if(_0x2a5dea){let _0x33fbf7=_0x211fef===ae?'light'+_0x5a8bdf+('_softShado'+'wParams'):'vec2(light'+_0x5a8bdf+('_shadowSea'+'rchArea)');_0x3f27c2!==xt&&(_0x33fbf7='vec2(lengt'+'h(light'+_0x5a8bdf+('_halfWidth'+'),\x20length('+'light')+_0x5a8bdf+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x5a8bdf+('_shadowSea'+'rchArea')),_0x1cf5e2=_0x1cf5e2+',\x20light'+_0x5a8bdf+('_cameraPar'+'ams,\x20')+_0x33fbf7+(',\x20dLightDi'+'rW');}}_0x211fef===Pe?(_0x3f1679='Point'+_0x3f1679,_0x2a5dea||(_0x1cf5e2=_0x1cf5e2+(',\x20dLightDi'+'rW'))):_0x211fef===Re&&(_0x3f1679='Spot'+_0x3f1679),_0x45a07b['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x5a8bdf+('\x20=\x20getShad'+'ow')+_0x3f1679+'('+_0x1cf5e2+');'),_0x45a07b['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x5a8bdf+',\x20light'+_0x5a8bdf+('_shadowInt'+'ensity);'));}}if(_0x3f27c2!==xt?_0x41a2e6['useSpecula'+'r']?_0x45a07b['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x45a07b['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3':'')+';'):_0x23ad90&&_0x41a2e6['useSpecula'+'r']?_0x45a07b['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x45a07b['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3':'')+';'),_0x41a2e6['useSpecula'+'r']&&_0x45a07b['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x4081aa['affectSpec'+'ularity']){if(_0x3f27c2!==xt)_0x41a2e6['useClearCo'+'at']&&_0x45a07b['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x5ae69c+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3':'')+';'),_0x41a2e6['useSpecula'+'r']&&_0x45a07b['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x5ae69c+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3':'')+';');else{let _0x1ad1da=!(0x1010+-0x46*-0x89+0x1*-0x3585);_0x211fef===ae&&_0x41a2e6['fresnelMod'+'el']>-0x117+0x2*0xd75+-0x19d3*0x1&&(_0x1ad1da=!(0x1*0xfd5+0x1a8e+-0x2a63)),_0x41a2e6['useClearCo'+'at']&&_0x45a07b['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3':'')+(_0x1ad1da?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x41a2e6['useSheen']&&_0x45a07b['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3'+';':';')),_0x41a2e6['useSpecula'+'r']&&_0x45a07b['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x5a8bdf+'_color'+(_0x4503ef?'\x20*\x20dAtten3':'')+(_0x1ad1da?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x211fef!==ae&&_0x45a07b['append']('\x20\x20\x20\x20}');}_0x41a2e6['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x2c659b=!(0x1bfc+-0x4cc*-0x1+-0x20c8),_0x2ef7dc=!(-0x121f*-0x1+0x7f3+-0x1a12),_0x2d71e9=!(-0x1432+-0x142e+0x2860),_0x45a07b['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x23ad90&&(_0x41a2e6['useClearCo'+'at']&&_0x45a07b['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x41a2e6['useSpecula'+'r']&&_0x45a07b['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x41a2e6['useRefract'+'ion']&&_0x45a07b['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x41a2e6['useAo']&&(_0x41a2e6['occludeDir'+'ect']&&_0x45a07b['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x41a2e6['occludeSpe'+'cular']===Bo||_0x41a2e6['occludeSpe'+'cular']===Fu)&&_0x45a07b['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x41a2e6['useSpecula'+'rityFactor']&&_0x45a07b['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x41a2e6['opacityFad'+'esSpecular']===!(-0x3d5*-0x2+0x432+-0x25f*0x5)&&((_0x41a2e6['blendType']===Ot||_0x41a2e6['blendType']===cn)&&(_0x45a07b['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x45a07b['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x45a07b['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x45a07b['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x45a07b['append'](_0x8d19ea['endPS']),_0x41a2e6['blendType']===Ot||_0x41a2e6['blendType']===Wc||_0x41a2e6['alphaToCov'+'erage']?_0x45a07b['append'](_0x8d19ea['outputAlph'+'aPS']):_0x41a2e6['blendType']===cn?_0x45a07b['append'](_0x8d19ea['outputAlph'+'aPremulPS']):_0x45a07b['append'](_0x8d19ea['outputAlph'+'aOpaquePS']),_0x41a2e6['useMsdf']&&_0x45a07b['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x45a07b['append'](_0x8d19ea['outputPS']),_0x45a07b['append'](_0x8d19ea['debugOutpu'+'tPS']),_0x2d71e9&&_0x41b466['prepend'](_0x8d19ea['lightDirPo'+'intPS']),_0x2c659b&&_0x41b466['prepend'](_0x8d19ea['falloffLin'+'earPS']),_0x2ef7dc&&_0x41b466['prepend'](_0x8d19ea['falloffInv'+'SquaredPS']),_0x549ff1&&_0x41b466['prepend'](_0x8d19ea['spotPS']),_0x14d6e9&&!_0x41a2e6['clusteredL'+'ightingEna'+'bled']&&_0x41b466['prepend'](_0x8d19ea['cookiePS']);let _0x4822f1='';const _0xb8cac8='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x45a07b['code']+'\x0a}';_0x41b466['append'](_0xb8cac8),_0x4a8f58['append'](_0x8d19ea['debugProce'+'ssFrontend'+'PS']),_0x4a8f58['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x4a8f58['append'](Dt['end']());const _0x1770eb=_0x4dd774['code']+_0x41b466['code']+_0x4a8f58['code'];return _0x1770eb['includes']('dTBN')&&(_0x4822f1+='mat3\x20dTBN;'+'\x0a'),_0x1770eb['includes']('dVertexNor'+'malW')&&(_0x4822f1+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x1770eb['includes']('dTangentW')&&(_0x4822f1+='vec3\x20dTang'+'entW;\x0a'),_0x1770eb['includes']('dBinormalW')&&(_0x4822f1+='vec3\x20dBino'+'rmalW;\x0a'),_0x1770eb['includes']('dViewDirW')&&(_0x4822f1+='vec3\x20dView'+'DirW;\x0a'),_0x1770eb['includes']('dReflDirW')&&(_0x4822f1+='vec3\x20dRefl'+'DirW;\x0a'),_0x1770eb['includes']('dHalfDirW')&&(_0x4822f1+='vec3\x20dHalf'+'DirW;\x0a'),_0x1770eb['includes']('ccReflDirW')&&(_0x4822f1+='vec3\x20ccRef'+'lDirW;\x0a'),_0x1770eb['includes']('dLightDirN'+'ormW')&&(_0x4822f1+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x1770eb['includes']('dLightDirW')&&(_0x4822f1+='vec3\x20dLigh'+'tDirW;\x0a'),_0x1770eb['includes']('dLightPosW')&&(_0x4822f1+='vec3\x20dLigh'+'tPosW;\x0a'),_0x1770eb['includes']('dShadowCoo'+'rd')&&(_0x4822f1+='vec3\x20dShad'+'owCoord;\x0a'),_0x1770eb['includes']('dReflectio'+'n')&&(_0x4822f1+='vec4\x20dRefl'+'ection;\x0a'),_0x1770eb['includes']('dDiffuseLi'+'ght')&&(_0x4822f1+='vec3\x20dDiff'+'useLight;\x0a'),_0x1770eb['includes']('dSpecularL'+'ight')&&(_0x4822f1+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x1770eb['includes']('dAtten')&&(_0x4822f1+='float\x20dAtt'+'en;\x0a'),_0x1770eb['includes']('dAttenD')&&(_0x4822f1+='float\x20dAtt'+'enD;\x0a'),_0x1770eb['includes']('dAtten3')&&(_0x4822f1+='vec3\x20dAtte'+'n3;\x0a'),_0x1770eb['includes']('dMsdf')&&(_0x4822f1+='vec4\x20dMsdf'+';\x0a'),_0x1770eb['includes']('ccFresnel')&&(_0x4822f1+='float\x20ccFr'+'esnel;\x0a'),_0x1770eb['includes']('ccReflecti'+'on')&&(_0x4822f1+='vec3\x20ccRef'+'lection;\x0a'),_0x1770eb['includes']('ccSpecular'+'Light')&&(_0x4822f1+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x1770eb['includes']('ccSpecular'+'ityNoFres')&&(_0x4822f1+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x1770eb['includes']('sSpecularL'+'ight')&&(_0x4822f1+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x1770eb['includes']('sReflectio'+'n')&&(_0x4822f1+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x4822f1+this['frontendDe'+'cl']+_0x1770eb;}['generateFr'+'agmentShad'+'er'](_0x635c98,_0x40f8a6,_0x316073,_0x241aad){const _0x21860c=this['options'];this['frontendDe'+'cl']=_0x635c98,this['frontendCo'+'de']=_0x40f8a6,this['frontendFu'+'nc']=_0x316073,this['lightingUv']=_0x241aad,_0x21860c['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x21860c['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x21860c['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x21860c['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x21860c['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qE{constructor(){c(this,'hasTangent'+'s',!(0x928+0x20cb+-0x29f2)),c(this,'chunks',{}),c(this,'pass',0x6b*-0x53+-0x1*-0xe5c+-0x1455*-0x1),c(this,'alphaTest',!(0x878+-0x137a+-0x1*-0xb03)),c(this,'blendType',ns),c(this,'separateAm'+'bient',!(-0x14dd+-0x1199+-0x2677*-0x1)),c(this,'screenSpac'+'e',!(0x2*0xfbb+0x8bc*-0x3+-0x541)),c(this,'skin',!(-0x1973+0x22*0x6d+-0xafa*-0x1)),c(this,'batch',!(0xc37+-0x188a+0xc54)),c(this,'useInstanc'+'ing',!(0x9*-0x255+-0x178d*-0x1+-0x28f)),c(this,'useMorphPo'+'sition',!(-0x12a3+0xe99+0x40b)),c(this,'useMorphNo'+'rmal',!(-0x1*0x565+0x9df+0x479*-0x1)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0xb20+-0x1c89+0x27aa)),c(this,'nineSliced'+'Mode',-0x1*-0x695+-0x175b+0xe2*0x13),c(this,'clusteredL'+'ightingEna'+'bled',!(-0x25*0x11+-0x7*0x361+-0xc*-0x22d)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x2673*-0x1+0x8f1+0x5*0x5e7)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x247*-0xf+0x1f*0xd9+-0x3c6f)),c(this,'clusteredL'+'ightingSha'+'dowType',0x53a*0x5+0x43*0x49+-0x139*0x25),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x72*0x18+0x1*0x44e+0x663)),c(this,'vertexColo'+'rs',!(0x22cb+0x2357+-0x4621*0x1)),c(this,'lightMapEn'+'abled',!(0x1*0xbad+0x1c17+-0x27c3)),c(this,'dirLightMa'+'pEnabled',!(-0x295*-0x3+0x1*0xb4e+-0x5c*0x35)),c(this,'useHeights',!(-0x46*-0xe+-0xc5*-0x2d+-0x2e*0xd6)),c(this,'useNormals',!(-0x24c+-0x41b*0x2+0xa83)),c(this,'useClearCo'+'atNormals',!(-0x8e1*-0x1+0x1b5*0x5+-0x1169)),c(this,'useAo',!(0x269*0x5+-0x148+0x2b1*-0x4)),c(this,'diffuseMap'+'Enabled',!(0x1315+0x239e+-0x36b2)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(0x14bd+0x2409+0x1*-0x38c5)),c(this,'ambientSH',!(0xe6*-0x14+0x114b+0xae)),c(this,'ssao',!(-0x1*-0x26bd+-0x23e9+-0x3*0xf1)),c(this,'twoSidedLi'+'ghting',!(0x1052+-0x16*0x100+0x5af*0x1)),c(this,'occludeDir'+'ect',!(-0x9*0x10e+-0x45d*0x5+0x1f50)),c(this,'occludeSpe'+'cular',0x215f+-0x1b8a+-0x5d5),c(this,'occludeSpe'+'cularFloat',!(-0x124*0x1+-0x24fe+-0x1*-0x2623)),c(this,'useMsdf',!(-0xc*-0x18d+0xb01+-0x1d9c)),c(this,'msdfTextAt'+'tribute',!(-0x377+0x1ecb+-0x1b53)),c(this,'alphaToCov'+'erage',!(-0x15a8+-0x290*0x2+0x1ac9)),c(this,'opacityFad'+'esSpecular',!(-0x1083+-0x111e+0x21a2)),c(this,'opacityDit'+'her',Ds),c(this,'opacitySha'+'dowDither',Ds),c(this,'cubeMapPro'+'jection',0xf32+-0x573*-0x5+-0x2a71),c(this,'useSpecula'+'r',!(-0x1c70+-0x13c5+-0x181b*-0x2)),c(this,'useSpecula'+'rityFactor',!(0x1375*-0x1+0x12f8+0x7e)),c(this,'enableGGXS'+'pecular',!(-0x1*0x15e3+-0x103+0x16e7)),c(this,'fresnelMod'+'el',0x1fe2+0x10b9+0x21d*-0x17),c(this,'useRefract'+'ion',!(0x217a+-0x683*-0x1+0x1*-0x27fc)),c(this,'useClearCo'+'at',!(0xd4f+-0x2e1+-0xa6d)),c(this,'useSheen',!(0x1fcc+-0xb*-0xe3+-0x298c)),c(this,'useIridesc'+'ence',!(0x1a3e+0x2287*-0x1+0x84a)),c(this,'useMetalne'+'ss',!(0xdf3*-0x2+0x1ecc+-0x2e5)),c(this,'useDynamic'+'Refraction',!(-0x1*-0x18cc+0x1*0x4c4+-0x7*0x439)),c(this,'dispersion',!(0x796*0x1+0x61*0x2+-0x857)),c(this,'fog',ka),c(this,'gamma',sl),c(this,'toneMap',-(0x6d1+-0x174b+-0x107b*-0x1)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',0x12b*0x21+0x22bc+-0x4946*0x1),c(this,'useCubeMap'+'Rotation',!(0x1*0x20e7+-0x1*0xad6+0x2*-0xb08)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x2501+-0x1ae9+0xa17*-0x1)),c(this,'lights',[]),c(this,'noShadow',!(-0x22b1+-0x1*0x2420+-0x62*-0xb9)),c(this,'lightMaskD'+'ynamic',-0x2*-0xdda+0x2*-0x10a6+0x598),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(0x1985*-0x1+0x19b9+0x1*-0x33));}}class Gh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0x11*0x7b+0x27*-0x8b+0xd03*0x1)),c(this,'specularTi'+'nt',!(0x2500+0x12ed+-0x37ec)),c(this,'metalnessT'+'int',!(0x13ce+0x1b28+0x2ef5*-0x1)),c(this,'glossTint',!(0x24ce+0x2202*0x1+-0x1*0x46cf)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x1d59+0x17d0+-0x2*-0x2c5)),c(this,'glossInver'+'t',!(-0x18ea+-0x191b*-0x1+-0x18*0x2)),c(this,'sheenGloss'+'Invert',!(-0xd6+-0x2*-0x11c2+-0x22ad)),c(this,'clearCoatG'+'lossInvert',!(-0x15af+0x3*0x61e+0x356)),c(this,'useAO',!(-0x1*-0x1a7e+0x1b3a+-0x35b7)),c(this,'litOptions',new qE());}get['pass'](){return this['litOptions']['pass'];}}const Vu={'generateKey'(_0x38d7ff){return'lit'+Object['keys'](_0x38d7ff)['sort']()['map'](_0x228c27=>_0x228c27==='chunks'?Vu['generateCh'+'unksKey'](_0x38d7ff):_0x228c27==='lights'?Vu['generateLi'+'ghtsKey'](_0x38d7ff):_0x228c27+_0x38d7ff[_0x228c27])['join']('\x0a');},'generateLightsKey'(_0x2687de){return'lights:'+_0x2687de['lights']['map'](_0x3f2415=>!_0x2687de['clusteredL'+'ightingEna'+'bled']||_0x3f2415['_type']===ae?_0x3f2415['key']+',':'')['join']('');},'generateChunksKey'(_0x129d2d){return'chunks:\x0a'+Object['keys'](_0x129d2d['chunks']??{})['sort']()['map'](_0x23c4b1=>_0x23c4b1+_0x129d2d['chunks'][_0x23c4b1])['join']('');}},pa=[],Cd=_0x457fd1=>Object['keys'](_0x457fd1)['filter'](_0x2c7b49=>_0x2c7b49!=='litOptions')['sort']();class XE extends Dt{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Gh()),c(this,'optionsCon'+'textMin',new Gh());}['generateKe'+'y'](_0x13e799){let _0x3a1e03;return _0x13e799===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Cd(_0x13e799)),_0x3a1e03=this['propsMin']):_0x13e799===this['optionsCon'+'text']?(this['props']||(this['props']=Cd(_0x13e799)),_0x3a1e03=this['props']):_0x3a1e03=Cd(_0x13e799),'standard:\x0a'+Dt['definesHas'+'h'](_0x13e799['defines'])+'\x0a'+_0x3a1e03['map'](_0x40dd85=>_0x40dd85+_0x13e799[_0x40dd85])['join']('\x0a')+Vu['generateKe'+'y'](_0x13e799['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x36949f,_0x5728dd,_0x5368f8){const _0x5cfd0c=_0x5368f8[_0x36949f],_0x15aaff=_0x5368f8[_0x5728dd],_0x3c493d=_0x5368f8['litOptions']['pass']===yn;let _0x1265a4;return _0x3c493d&&_0x5368f8['litOptions']['nineSliced'+'Mode']===rt||_0x3c493d&&_0x5368f8['litOptions']['nineSliced'+'Mode']===Ze?_0x1265a4='nineSliced'+'Uv':(_0x5cfd0c===-0x1e3d+-0x1ca4+0x3ae1?_0x1265a4='vUv'+_0x15aaff:_0x1265a4='vUV'+_0x15aaff+'_'+_0x5cfd0c,_0x5368f8['heightMap']&&_0x36949f!=='heightMapT'+'ransform'&&(_0x1265a4+='\x20+\x20dUvOffs'+'et')),_0x1265a4;}['_addMapDef'](_0x4a8241,_0xb41b8){return _0xb41b8?'#define\x20'+_0x4a8241+'\x0a':'#undef\x20'+_0x4a8241+'\x0a';}['_addMapDef'+'s'](_0x1f787f,_0x40c418,_0x10c127,_0x325712,_0x35859a){return this['_addMapDef']('MAPFLOAT',_0x1f787f)+this['_addMapDef']('MAPCOLOR',_0x40c418)+this['_addMapDef']('MAPVERTEX',_0x10c127)+this['_addMapDef']('MAPTEXTURE',_0x325712)+this['_addMapDef']('MAPINVERT',_0x35859a);}['_addMap'](_0x4fb2c5,_0x5d3423,_0x9dba81,_0xf54812,_0x204858,_0x439c7b=null){const _0x15d1d6=_0x4fb2c5+'Map',_0x11aa02=_0x15d1d6+'Uv',_0x20f29f=_0x15d1d6+'Identifier',_0x582d7a=_0x15d1d6+'Transform',_0xa158e8=_0x15d1d6+'Channel',_0x310ede=_0x4fb2c5+('VertexColo'+'rChannel'),_0x4f75b9=_0x4fb2c5+'Tint',_0x58acf6=_0x4fb2c5+('VertexColo'+'r'),_0xf7e72b=_0x4fb2c5+'Mode',_0x4562bf=_0x4fb2c5+'Invert',_0x130fde=_0x9dba81[_0x4f75b9],_0x3849ee=_0x9dba81[_0x58acf6],_0x5c10e8=_0x9dba81[_0x15d1d6],_0x2972dd=_0x9dba81[_0x20f29f],_0x9c6d63=_0x9dba81[_0xf7e72b];let _0x4a013a=_0xf54812[_0x5d3423];if(_0x5c10e8){const _0x13f794=this['_getUvSour'+'ceExpressi'+'on'](_0x582d7a,_0x11aa02,_0x9dba81);if(_0x4a013a=_0x4a013a['replace'](/\$UV/g,_0x13f794)['replace'](/\$CH/g,_0x9dba81[_0xa158e8]),_0x204858&&_0x4a013a['search'](/\$SAMPLER/g)!==-(0xbb*0x4+0xd*0x145+-0x136c)){let _0x53dbf5='texture_'+_0x15d1d6;const _0x306e74=_0x204858[_0x2972dd];_0x306e74?_0x53dbf5=_0x306e74:_0x204858[_0x2972dd]=_0x53dbf5,_0x4a013a=_0x4a013a['replace'](/\$SAMPLER/g,_0x53dbf5);}if(_0x439c7b&&(_0x9dba81[_0xa158e8]==='aaa'?_0x4a013a=_0x4a013a['replace'](/\$DECODE/g,'passThroug'+'h'):_0x4a013a=_0x4a013a['replace'](/\$DECODE/g,Ms['decodeFunc'](_0x439c7b)),_0x4a013a['indexOf']('$texture2D'+'SAMPLE'))){const _0x4a6bd7={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x4a013a=_0x4a013a['replace'](/\$texture2DSAMPLE/g,_0x4a6bd7[_0x439c7b]||'texture2D');}}_0x3849ee&&(_0x4a013a=_0x4a013a['replace'](/\$VC/g,_0x9dba81[_0x310ede])),_0x9c6d63&&(_0x4a013a=_0x4a013a['replace'](/\$DETAILMODE/g,_0x9c6d63));const _0x3f06c7=!!(_0x130fde&-0x4d9*-0x5+-0x1*0xca5+-0x17*0x81),_0xd1875e=!!(_0x130fde&0x55f*-0x4+0xff5+0xd*0x6d),_0x97a494=!!_0x9dba81[_0x4562bf];return _0x4a013a=this['_addMapDef'+'s'](_0x3f06c7,_0xd1875e,_0x3849ee,_0x5c10e8,_0x97a494)+_0x4a013a,_0x4a013a['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x12843c,_0x3bd038,_0x40231a){if(_0x40231a[_0x12843c]>-0x71*0x3e+-0x381+0x1edf){if(_0x40231a[_0x12843c]<_0x3bd038['length'])return _0x3bd038['substring'](-0x6d5+-0x35a+-0x365*-0x3,_0x40231a[_0x12843c]);if(_0x40231a[_0x12843c]>_0x3bd038['length']){let _0x36830b=_0x3bd038;const _0x29bfef=_0x36830b['charAt'](_0x36830b['length']-(-0x1655*-0x1+0x11c*-0x2+0x24*-0x8f)),_0xcdc787=_0x40231a[_0x12843c]-_0x36830b['length'];for(let _0x4bea86=-0x2015+0x1b*0xe8+0x79d*0x1;_0x4bea86<_0xcdc787;_0x4bea86++)_0x36830b+=_0x29bfef;return _0x36830b;}return _0x3bd038;}}['createShad'+'erDefiniti'+'on'](_0x278326,_0x559e9e){const _0x245cb0=Ks['get'](_0x278326)['getByIndex'](_0x559e9e['litOptions']['pass'])['isForward'],_0xb6f332=new $E(_0x278326,_0x559e9e['litOptions']),_0x3b08f1=[],_0x362d63=[],_0x241435=[],_0x1f143b=0x1264+-0x2*0x33e+-0x1*0xbe6,_0x5be0d2={};for(const _0x521385 in pa){const _0x2dc763=_0x521385+'Map';if(_0x559e9e[_0x521385+('VertexColo'+'r')]){const _0x103c1e=_0x521385+('VertexColo'+'rChannel');_0x559e9e[_0x103c1e]=this['_correctCh'+'annel'](_0x521385,_0x559e9e[_0x103c1e],pa);}if(_0x559e9e[_0x2dc763]){const _0x47f2cf=_0x2dc763+'Channel',_0x6af0e3=_0x2dc763+'Transform',_0x1c3fc5=_0x2dc763+'Uv';_0x559e9e[_0x1c3fc5]=Math['min'](_0x559e9e[_0x1c3fc5],_0x1f143b-(-0x1*0x1a97+0x80a+0x2*0x947)),_0x559e9e[_0x47f2cf]=this['_correctCh'+'annel'](_0x521385,_0x559e9e[_0x47f2cf],pa);const _0x4946af=_0x559e9e[_0x1c3fc5];_0x3b08f1[_0x4946af]=!(-0x24c1+-0x7e*-0x31+-0xca3*-0x1),_0x362d63[_0x4946af]=_0x362d63[_0x4946af]||_0x559e9e[_0x2dc763]&&!_0x559e9e[_0x6af0e3],_0x559e9e[_0x6af0e3]&&_0x241435['push']({'name':_0x521385,'id':_0x559e9e[_0x6af0e3],'uv':_0x559e9e[_0x1c3fc5]});}}_0x559e9e['forceUv1']&&(_0x3b08f1[0x250c+-0x4f8*0x2+-0x1b1b]=!(0x18e2*-0x1+0x865+0x107d),_0x362d63[-0x3*-0x7a9+-0x10b8+0x1*-0x642]=_0x362d63[-0x728+0x37+0x379*0x2]!==void(0x1*0x17ad+-0x212a+0x97d)?_0x362d63[0x192*-0x6+-0x515*-0x4+-0xae7]:!(-0x95f+-0x8e3+-0x26*-0x7b)),_0xb6f332['generateVe'+'rtexShader'](_0x3b08f1,_0x362d63,_0x241435),_0x559e9e['litOptions']['fresnelMod'+'el']=_0x559e9e['litOptions']['fresnelMod'+'el']===0x1d4a+0x53a*-0x6+-0x109*-0x2?vp:_0x559e9e['litOptions']['fresnelMod'+'el'];const _0x39986d=new ir(),_0x46c77c=new ir(),_0x5db756=new ir(),_0x311aa8=new ir();let _0x463433='';if(_0x559e9e['litOptions']['nineSliced'+'Mode']===Ze?_0x39986d['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x39986d['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x245cb0){if(_0x559e9e['heightMap']&&(_0x39986d['append']('vec2\x20dUvOf'+'fset;'),_0x46c77c['append'](this['_addMap']('height','parallaxPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getParalla'+'x();')),_0x559e9e['litOptions']['blendType']!==ns||_0x559e9e['litOptions']['alphaTest']||_0x559e9e['litOptions']['alphaToCov'+'erage']||_0x559e9e['litOptions']['opacityDit'+'her']!==Ds){_0x39986d['append']('float\x20dAlp'+'ha;'),_0x46c77c['append'](this['_addMap']('opacity','opacityPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getOpacity'+'();'),_0x311aa8['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x559e9e['litOptions']['alphaTest']&&(_0x46c77c['append'](_0xb6f332['chunks']['alphaTestP'+'S']),_0x5db756['append']('alphaTest('+'dAlpha);'));const _0x352560=_0x559e9e['litOptions']['opacityDit'+'her'];_0x352560!==Ds&&(_0x352560===Nm&&_0x39986d['append'](_0xb6f332['chunks']['bayerPS']),_0x39986d['append']('#define\x20DI'+'THER_'+_0x352560['toUpperCas'+'e']()+'\x0a'),_0x39986d['append'](_0xb6f332['chunks']['opacityDit'+'herPS']),_0x5db756['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x39986d['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0xb6f332['needsNorma'+'l']){if((_0x559e9e['normalMap']||_0x559e9e['clearCoatN'+'ormalMap'])&&(_0x46c77c['append'](_0x559e9e['packedNorm'+'al']?_0xb6f332['chunks']['normalXYPS']:_0xb6f332['chunks']['normalXYZP'+'S']),!_0x559e9e['litOptions']['hasTangent'+'s'])){const _0x298b69=_0x559e9e['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x463433=this['_getUvSour'+'ceExpressi'+'on'](_0x298b69+'Transform',_0x298b69+'Uv',_0x559e9e);}_0x39986d['append']('vec3\x20dNorm'+'alW;'),_0x46c77c['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x46c77c['append'](this['_addMap']('normal','normalMapP'+'S',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getNormal('+');'),_0x311aa8['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0xb6f332['needsScene'+'Color']&&_0x39986d['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0xb6f332['needsScree'+'nSize']&&_0x39986d['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0xb6f332['needsTrans'+'forms']&&(_0x39986d['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x39986d['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x559e9e['diffuseDet'+'ail']||_0x559e9e['aoDetail'])&&_0x46c77c['append'](_0xb6f332['chunks']['detailMode'+'sPS']),_0x39986d['append']('vec3\x20dAlbe'+'do;'),_0x559e9e['diffuseDet'+'ail']&&_0x46c77c['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2,_0x559e9e['diffuseDet'+'ailEncodin'+'g'])),_0x46c77c['append'](this['_addMap']('diffuse','diffusePS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2,_0x559e9e['diffuseEnc'+'oding'])),_0x5db756['append']('getAlbedo('+');'),_0x311aa8['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x559e9e['litOptions']['useRefract'+'ion']&&(_0x39986d['append']('float\x20dTra'+'nsmission;'),_0x46c77c['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getRefract'+'ion();'),_0x311aa8['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x39986d['append']('float\x20dThi'+'ckness;'),_0x46c77c['append'](this['_addMap']('thickness','thicknessP'+'S',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getThickne'+'ss();'),_0x311aa8['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x559e9e['litOptions']['dispersion']&&_0x311aa8['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x559e9e['litOptions']['useIridesc'+'ence']&&(_0x39986d['append']('float\x20dIri'+'descence;'),_0x46c77c['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getIridesc'+'ence();'),_0x311aa8['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x39986d['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x46c77c['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getIridesc'+'enceThickn'+'ess();'),_0x311aa8['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0xb6f332['lighting']&&_0x559e9e['litOptions']['useSpecula'+'r']||_0xb6f332['reflection'+'s']?(_0x39986d['append']('vec3\x20dSpec'+'ularity;'),_0x39986d['append']('float\x20dGlo'+'ssiness;'),_0x559e9e['litOptions']['useSheen']&&(_0x39986d['append']('vec3\x20sSpec'+'ularity;'),_0x46c77c['append'](this['_addMap']('sheen','sheenPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2,_0x559e9e['sheenEncod'+'ing'])),_0x5db756['append']('getSheen()'+';'),_0x311aa8['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x39986d['append']('float\x20sGlo'+'ssiness;'),_0x46c77c['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getSheenGl'+'ossiness()'+';'),_0x311aa8['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x559e9e['litOptions']['useMetalne'+'ss']&&(_0x39986d['append']('float\x20dMet'+'alness;'),_0x46c77c['append'](this['_addMap']('metalness','metalnessP'+'S',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getMetalne'+'ss();'),_0x311aa8['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x39986d['append']('float\x20dIor'+';'),_0x46c77c['append'](this['_addMap']('ior','iorPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getIor();'),_0x311aa8['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x559e9e['litOptions']['useSpecula'+'rityFactor']&&(_0x39986d['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x46c77c['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getSpecula'+'rityFactor'+'();'),_0x311aa8['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x559e9e['useSpecula'+'rColor']?_0x46c77c['append'](this['_addMap']('specular','specularPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2,_0x559e9e['specularEn'+'coding'])):_0x46c77c['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x46c77c['append'](this['_addMap']('gloss','glossPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getGlossin'+'ess();'),_0x5db756['append']('getSpecula'+'rity();'),_0x311aa8['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x311aa8['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x39986d['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x39986d['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x559e9e['aoDetail']&&_0x46c77c['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),(_0x559e9e['aoMap']||_0x559e9e['aoVertexCo'+'lor']||_0x559e9e['useAO'])&&(_0x39986d['append']('float\x20dAo;'),_0x46c77c['append'](this['_addMap']('ao','aoPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getAO();'),_0x311aa8['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x39986d['append']('vec3\x20dEmis'+'sion;'),_0x46c77c['append'](this['_addMap']('emissive','emissivePS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2,_0x559e9e['emissiveEn'+'coding'])),_0x5db756['append']('getEmissio'+'n();'),_0x311aa8['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x559e9e['litOptions']['useClearCo'+'at']&&(_0x39986d['append']('float\x20ccSp'+'ecularity;'),_0x39986d['append']('float\x20ccGl'+'ossiness;'),_0x39986d['append']('vec3\x20ccNor'+'malW;'),_0x46c77c['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x46c77c['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x46c77c['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getClearCo'+'at();'),_0x5db756['append']('getClearCo'+'atGlossine'+'ss();'),_0x5db756['append']('getClearCo'+'atNormal()'+';'),_0x311aa8['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x311aa8['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x311aa8['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x559e9e['lightMap']||_0x559e9e['lightVerte'+'xColor']){const _0x1438fd=_0x559e9e['dirLightMa'+'p']&&_0x559e9e['litOptions']['useSpecula'+'r'],_0x35f85a=_0x1438fd?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x39986d['append']('vec3\x20dLigh'+'tmap;'),_0x1438fd&&_0x39986d['append']('vec3\x20dLigh'+'tmapDir;'),_0x46c77c['append'](this['_addMap']('light',_0x35f85a,_0x559e9e,_0xb6f332['chunks'],_0x5be0d2,_0x559e9e['lightMapEn'+'coding'])),_0x5db756['append']('getLightMa'+'p();'),_0x311aa8['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x1438fd&&_0x311aa8['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x46c77c['code']['indexOf']('texture2DS'+'RGB')===-(-0x159a+-0x25e1+0x3b7c)&&_0x46c77c['code']['indexOf']('texture2DR'+'GBM')===-(-0x146e+-0x3f9*0x6+0x2c45)&&_0x46c77c['code']['indexOf']('texture2DR'+'GBE')===-(0xff5+-0x2265*0x1+0x1271),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x20c830=_0x559e9e['litOptions']['opacitySha'+'dowDither'];(_0x559e9e['litOptions']['alphaTest']||_0x20c830)&&(_0x39986d['append']('float\x20dAlp'+'ha;'),_0x46c77c['append'](this['_addMap']('opacity','opacityPS',_0x559e9e,_0xb6f332['chunks'],_0x5be0d2)),_0x5db756['append']('getOpacity'+'();'),_0x311aa8['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x559e9e['litOptions']['alphaTest']&&(_0x46c77c['append'](_0xb6f332['chunks']['alphaTestP'+'S']),_0x5db756['append']('alphaTest('+'dAlpha);')),_0x20c830!==Ds&&(_0x20c830===Nm&&_0x39986d['append'](_0xb6f332['chunks']['bayerPS']),_0x39986d['append']('#define\x20DI'+'THER_'+_0x20c830['toUpperCas'+'e']()+'\x0a'),_0x39986d['append'](_0xb6f332['chunks']['opacityDit'+'herPS']),_0x5db756['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x39986d['append'](_0xb6f332['chunks']['litShaderA'+'rgsPS']),_0x46c77c['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x5db756['code']+'\x0a'+_0x311aa8['code']+'\x0a\x20}\x0a'),_0x5db756['code']='evaluateFr'+'ontend();';for(const _0x476b25 in _0x5be0d2)_0x39986d['append']('uniform\x20sa'+'mpler2D\x20'+_0x5be0d2[_0x476b25]+';');_0x5db756['code']='\x0a'+_0x5db756['code']['split']('\x0a')['map'](_0x419a4e=>'\x20\x20\x20\x20'+_0x419a4e)['join']('\x0a')+'\x0a\x0a',_0xb6f332['generateFr'+'agmentShad'+'er'](_0x39986d['code'],_0x46c77c['code'],_0x5db756['code'],_0x463433);const _0x1e23d1=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0xb6f332['chunks']),..._0xb6f332['chunks'],..._0x559e9e['litOptions']['chunks']})),_0x3385a9=new Map(_0x559e9e['defines']),_0x2dc439=Pt['createDefi'+'nition'](_0x278326,{'name':'StandardSh'+'ader','attributes':_0xb6f332['attributes'],'vertexCode':_0xb6f332['vshader'],'fragmentCode':_0xb6f332['fshader'],'vertexIncludes':_0x1e23d1,'fragmentIncludes':_0x1e23d1,'fragmentDefines':_0x3385a9,'vertexDefines':_0x3385a9});return _0xb6f332['shaderPass'+'Info']['isForward']&&(_0x2dc439['tag']=Ly),_0x2dc439;}}const Ed=new XE(),kt=[];kt[n0]={'src':nt,'dst':nt,'op':CS},kt[ns]={'src':nt,'dst':Bf,'op':Ft},kt[Ot]={'src':uc,'dst':fc,'op':Ft,'alphaSrc':nt},kt[cn]={'src':nt,'dst':fc,'op':Ft},kt[xp]={'src':nt,'dst':nt,'op':Ft},kt[Wc]={'src':uc,'dst':nt,'op':Ft},kt[a0]={'src':dy,'dst':TS,'op':Ft},kt[o0]={'src':AS,'dst':nt,'op':Ft},kt[Sp]={'src':dy,'dst':Bf,'op':Ft},kt[l0]={'src':nt,'dst':nt,'op':ES},kt[h0]={'src':nt,'dst':nt,'op':MS};let jE=-0x161*0x13+-0x2021+0x3a54;class xn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jE++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(-0x2113*-0x1+0x1c04+0x2*-0x1e8b)),c(this,'parameters',{}),c(this,'alphaTest',0x47f*-0x6+-0xbcf+0x26c9),c(this,'alphaToCov'+'erage',!(-0x2cd+-0xb*-0x213+-0x1403)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new ls()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(-0x28b*0x6+0x1bef+-0x289*0x5)),c(this,'_shaderVer'+'sion',-0x257e+0x1*-0x220a+0x4788),c(this,'_scene',null),c(this,'dirty',!(-0x1d36+0x162d+0x1*0x709)),new.target===xn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x403a55){this['_dirtyShad'+'er']=!(0x23f1+0x3ea*-0x1+-0x9*0x38f),this['_chunks']=_0x403a55;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x10ca+-0x164a+0x580),this['_chunks'];}set['depthBias'](_0x599ba6){this['_depthStat'+'e']['depthBias']=_0x599ba6;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0xd0b2de){this['_depthStat'+'e']['depthBiasS'+'lope']=_0xd0b2de;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x3b59f8){this['_blendStat'+'e']['redWrite']=_0x3b59f8;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x4017d1){this['_blendStat'+'e']['greenWrite']=_0x4017d1;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x34505d){this['_blendStat'+'e']['blueWrite']=_0x34505d;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x159c8e){this['_blendStat'+'e']['alphaWrite']=_0x159c8e;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x2eec72=this['transparen'+'t'],_0xd8fe1d=this['meshInstan'+'ces'];for(let _0x37cc22=0x127a+0x10e7*-0x1+-0x193;_0x37cc22<_0xd8fe1d['length'];_0x37cc22++)_0xd8fe1d[_0x37cc22]['transparen'+'t']=_0x2eec72;}set['blendState'](_0x1d7bf7){this['_blendStat'+'e']['copy'](_0x1d7bf7),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x591efa){const _0x2f2b1e=kt[_0x591efa];v['assert'](_0x2f2b1e,'Unknown\x20bl'+'end\x20mode\x20'+_0x591efa),this['_blendStat'+'e']['setColorBl'+'end'](_0x2f2b1e['op'],_0x2f2b1e['src'],_0x2f2b1e['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x2f2b1e['alphaOp']??_0x2f2b1e['op'],_0x2f2b1e['alphaSrc']??_0x2f2b1e['src'],_0x2f2b1e['alphaDst']??_0x2f2b1e['dst']);const _0x2f03ce=_0x591efa!==ns;this['_blendStat'+'e']['blend']!==_0x2f03ce&&(this['_blendStat'+'e']['blend']=_0x2f03ce,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return ns;const {colorOp:_0x328349,colorSrcFactor:_0x25dc8e,colorDstFactor:_0x3776ed,alphaOp:_0x204225,alphaSrcFactor:_0xdbc719,alphaDstFactor:_0x2c94a6}=this['_blendStat'+'e'];for(let _0x2672d4=-0xa9d+0x1e8b+-0x2*0x9f7;_0x2672d4<kt['length'];_0x2672d4++){const _0x44c228=kt[_0x2672d4];if(_0x44c228['src']===_0x25dc8e&&_0x44c228['dst']===_0x3776ed&&_0x44c228['op']===_0x328349&&_0x44c228['src']===_0xdbc719&&_0x44c228['dst']===_0x2c94a6&&_0x44c228['op']===_0x204225)return _0x2672d4;}return Ot;}set['depthState'](_0x3dc2ac){this['_depthStat'+'e']['copy'](_0x3dc2ac);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x308240){this['_depthStat'+'e']['test']=_0x308240;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x37e8b5){this['_depthStat'+'e']['func']=_0x37e8b5;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x39d3ea){this['_depthStat'+'e']['write']=_0x39d3ea;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x3124e7){var _0x25a583;this['name']=_0x3124e7['name'],this['alphaTest']=_0x3124e7['alphaTest'],this['alphaToCov'+'erage']=_0x3124e7['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x3124e7['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x3124e7['_depthStat'+'e']),this['cull']=_0x3124e7['cull'],this['stencilFro'+'nt']=(_0x25a583=_0x3124e7['stencilFro'+'nt'])==null?void(0x2*-0xb21+0x17*-0x35+-0x1*-0x1b05):_0x25a583['clone'](),_0x3124e7['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x3124e7['stencilFro'+'nt']===_0x3124e7['stencilBac'+'k']?this['stencilFro'+'nt']:_0x3124e7['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x1cb124 in _0x3124e7['parameters'])_0x3124e7['parameters']['hasOwnProp'+'erty'](_0x1cb124)&&this['_setParame'+'terSimple'](_0x1cb124,_0x3124e7['parameters'][_0x1cb124]['data']);this['defines']['clear'](),_0x3124e7['defines']['forEach']((_0x4aed4b,_0x45562f)=>this['defines']['set'](_0x45562f,_0x4aed4b));const _0x14f8ac=_0x3124e7['_chunks'];for(const _0x193db9 in _0x14f8ac)_0x14f8ac['hasOwnProp'+'erty'](_0x193db9)&&(this['_chunks'][_0x193db9]=_0x14f8ac[_0x193db9]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x188fab=this['meshInstan'+'ces'];for(let _0x3f8c99=-0x17c3+-0x1*0xfc4+0x3*0xd2d;_0x3f8c99<_0x188fab['length'];_0x3f8c99++)_0x188fab[_0x3f8c99]['updateKey']();}['updateUnif'+'orms'](_0x1c5d87,_0x2620ed){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x16e553){v['assert'](!(0x33c*0x3+0x250f+-0x276*0x13),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x273+0x3e*0xd+-0x59*0x2),this['clearVaria'+'nts']()),this['dirty']=!(-0x248f+-0x2611+0x4aa0);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x4cfe31=this['meshInstan'+'ces'],_0xf226ed=_0x4cfe31['length'];for(let _0x3a20da=-0x11*0x1bb+-0x2531+0x429c;_0x3a20da<_0xf226ed;_0x3a20da++)_0x4cfe31[_0x3a20da]['clearShade'+'rs']();}['getParamet'+'er'](_0x2b48db){return this['parameters'][_0x2b48db];}['_setParame'+'terSimple'](_0x33e8bd,_0x5e5953){v['call'](()=>{_0x5e5953===void(-0x25+0x23ad*0x1+-0x6*0x5ec)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x33e8bd+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0xe12b3f=this['parameters'][_0x33e8bd];_0xe12b3f?_0xe12b3f['data']=_0x5e5953:this['parameters'][_0x33e8bd]={'scopeId':null,'data':_0x5e5953};}['setParamet'+'er'](_0x52143e,_0x5a2a29){if(_0x5a2a29===void(-0x15d4+-0x1a00*0x1+0x2fd4)&&typeof _0x52143e=='object'){const _0x3bd5a9=_0x52143e;if(_0x3bd5a9['length']){for(let _0x4a67dc=-0xb0d+0x417*0x3+-0x138;_0x4a67dc<_0x3bd5a9['length'];_0x4a67dc++)this['setParamet'+'er'](_0x3bd5a9[_0x4a67dc]);return;}_0x52143e=_0x3bd5a9['name'],_0x5a2a29=_0x3bd5a9['value'];}this['_setParame'+'terSimple'](_0x52143e,_0x5a2a29);}['deletePara'+'meter'](_0x45eab1){this['parameters'][_0x45eab1]&&delete this['parameters'][_0x45eab1];}['setParamet'+'ers'](_0x4efbcb,_0xc0f777){const _0x101940=this['parameters'];_0xc0f777===void(-0x50b+0x1f71+-0x2*0xd33)&&(_0xc0f777=_0x101940);for(const _0xb4b682 in _0xc0f777){const _0x4559f3=_0x101940[_0xb4b682];_0x4559f3&&(_0x4559f3['scopeId']||(_0x4559f3['scopeId']=_0x4efbcb['scope']['resolve'](_0xb4b682)),_0x4559f3['scopeId']['setValue'](_0x4559f3['data']));}}['setDefine'](_0x5ecfee,_0x2a3a9f){let _0x5bc8c3=!(0x20bf+0xc1*-0x1f+-0x1*0x95f);const {defines:_0x1b0e91}=this;_0x2a3a9f!==void(0xe9b+-0x15*0x6d+-0x5aa)&&_0x2a3a9f!==!(-0x647*-0x4+-0x1831+-0xea)?(_0x5bc8c3=!_0x1b0e91['has'](_0x5ecfee)||_0x1b0e91['get'](_0x5ecfee)!==_0x2a3a9f,_0x1b0e91['set'](_0x5ecfee,_0x2a3a9f)):(_0x5bc8c3=_0x1b0e91['has'](_0x5ecfee),_0x1b0e91['delete'](_0x5ecfee)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x5bc8c3);}['getDefine'](_0x20306d){return this['defines']['has'](_0x20306d);}['destroy'](){this['variants']['clear']();for(let _0x8c386a=-0x1d0b+0xe*0x1a7+-0x5e9*-0x1;_0x8c386a<this['meshInstan'+'ces']['length'];_0x8c386a++){const _0x2bc621=this['meshInstan'+'ces'][_0x8c386a];if(_0x2bc621['clearShade'+'rs'](),_0x2bc621['_material']=null,_0x2bc621['mesh']){const _0x4c590d=al(_0x2bc621['mesh']['device']);this!==_0x4c590d&&(_0x2bc621['material']=_0x4c590d);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x4*-0x5b3+0x217c+0x1c24*-0x2;}['addMeshIns'+'tanceRef'](_0x17d305){this['meshInstan'+'ces']['push'](_0x17d305);}['removeMesh'+'InstanceRe'+'f'](_0x283ad6){const _0xe2a7d9=this['meshInstan'+'ces'],_0x44f612=_0xe2a7d9['indexOf'](_0x283ad6);_0x44f612!==-(0xa33+-0xd57+0x325)&&_0xe2a7d9['splice'](_0x44f612,0xe09*0x1+0x1*0x2266+-0x306e);}}class Es{static['update'](_0x4607e6,_0x479b4b,_0x5aa29b,_0x3aafe5,_0x365b0a,_0x3645b7,_0x207c6e){Es['updateShar'+'edOptions'](_0x4607e6,_0x479b4b,_0x5aa29b,_0x365b0a,_0x3645b7),Es['updateMate'+'rialOption'+'s'](_0x4607e6,_0x479b4b),Es['updateEnvO'+'ptions'](_0x4607e6,_0x479b4b,_0x5aa29b,_0x3aafe5),Es['updateLigh'+'tingOption'+'s'](_0x4607e6,_0x479b4b,_0x365b0a,_0x207c6e);}static['updateShar'+'edOptions'](_0x5cb59c,_0x462d42,_0x40ee6c,_0x2d2845,_0x13cde2){_0x5cb59c['chunks']=_0x462d42['chunks'],_0x5cb59c['pass']=_0x13cde2,_0x5cb59c['alphaTest']=_0x462d42['alphaTest']>0x1ddd+-0x912*0x1+-0x1*0x14cb,_0x5cb59c['blendType']=_0x462d42['blendType'],_0x5cb59c['screenSpac'+'e']=_0x2d2845&&(_0x2d2845&Mp)!==0x204a*-0x1+-0x1*0x25dd+0x1*0x4627,_0x5cb59c['skin']=_0x2d2845&&(_0x2d2845&$c)!==0x1445+-0xf6f+-0x4d6,_0x5cb59c['useInstanc'+'ing']=_0x2d2845&&(_0x2d2845&qc)!==-0x13*-0x108+-0x1a1+-0x7*0x291,_0x5cb59c['useMorphPo'+'sition']=_0x2d2845&&(_0x2d2845&Xc)!==-0x1*-0x2129+-0x130d*-0x2+-0x4743,_0x5cb59c['useMorphNo'+'rmal']=_0x2d2845&&(_0x2d2845&jc)!==-0xf62+0xa*0x3dc+-0x1736,_0x5cb59c['useMorphTe'+'xtureBased'+'Int']=_0x2d2845&&(_0x2d2845&Yc)!==0x7*0x51e+0x248b*-0x1+0xb9,_0x5cb59c['hasTangent'+'s']=_0x2d2845&&(_0x2d2845&Pp)!==0x1a30+0x3d1*0x7+-0x34e7,_0x5cb59c['nineSliced'+'Mode']=_0x462d42['nineSliced'+'Mode']||Ci,_0x462d42['useLightin'+'g']&&_0x40ee6c['clusteredL'+'ightingEna'+'bled']?(_0x5cb59c['clusteredL'+'ightingEna'+'bled']=!(-0x25ff+0x1984+-0xf*-0xd5),_0x5cb59c['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x40ee6c['lighting']['cookiesEna'+'bled'],_0x5cb59c['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x40ee6c['lighting']['shadowsEna'+'bled'],_0x5cb59c['clusteredL'+'ightingSha'+'dowType']=_0x40ee6c['lighting']['shadowType'],_0x5cb59c['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x40ee6c['lighting']['areaLights'+'Enabled']):(_0x5cb59c['clusteredL'+'ightingEna'+'bled']=!(-0x10d*0x11+-0x1*-0x25d1+-0x13f3),_0x5cb59c['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x1cdb*-0x1+0x1153+0xb89),_0x5cb59c['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1*0x26cf+-0x1*-0x2147+-0x4815),_0x5cb59c['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x6ae+0xd*-0x1f8+0x2047*0x1));}static['updateMate'+'rialOption'+'s'](_0xe5af5b,_0x185282){_0xe5af5b['separateAm'+'bient']=!(-0xdd*-0x17+0x35*-0x1+-0x13a5),_0xe5af5b['customFrag'+'mentShader']=null,_0xe5af5b['pixelSnap']=_0x185282['pixelSnap'],_0xe5af5b['ambientSH']=_0x185282['ambientSH'],_0xe5af5b['twoSidedLi'+'ghting']=_0x185282['twoSidedLi'+'ghting'],_0xe5af5b['occludeDir'+'ect']=_0x185282['occludeDir'+'ect'],_0xe5af5b['occludeSpe'+'cular']=_0x185282['occludeSpe'+'cular'],_0xe5af5b['occludeSpe'+'cularFloat']=_0x185282['occludeSpe'+'cularInten'+'sity']!==0x2*0x985+-0x1d09+0x8*0x140,_0xe5af5b['useMsdf']=!(-0x1352+-0x254d+0x1c50*0x2),_0xe5af5b['msdfTextAt'+'tribute']=!(0x1*-0x2435+0x2595+-0x9*0x27),_0xe5af5b['alphaToCov'+'erage']=_0x185282['alphaToCov'+'erage'],_0xe5af5b['opacityFad'+'esSpecular']=_0x185282['opacityFad'+'esSpecular'],_0xe5af5b['opacityDit'+'her']=_0x185282['opacityDit'+'her'],_0xe5af5b['cubeMapPro'+'jection']=u0,_0xe5af5b['useSpecula'+'r']=_0x185282['hasSpecula'+'r'],_0xe5af5b['useSpecula'+'rityFactor']=_0x185282['hasSpecula'+'rityFactor'],_0xe5af5b['enableGGXS'+'pecular']=_0x185282['ggxSpecula'+'r'],_0xe5af5b['fresnelMod'+'el']=_0x185282['fresnelMod'+'el'],_0xe5af5b['useRefract'+'ion']=_0x185282['hasRefract'+'ion'],_0xe5af5b['useClearCo'+'at']=_0x185282['hasClearCo'+'at'],_0xe5af5b['useSheen']=_0x185282['hasSheen'],_0xe5af5b['useIridesc'+'ence']=_0x185282['hasIrrides'+'cence'],_0xe5af5b['useMetalne'+'ss']=_0x185282['hasMetalne'+'ss'],_0xe5af5b['useDynamic'+'Refraction']=_0x185282['dynamicRef'+'raction'],_0xe5af5b['dispersion']=_0x185282['dispersion']>0x2296+0xa*-0x29f+-0x860,_0xe5af5b['vertexColo'+'rs']=!(-0x2*0x340+0x48f*0x2+-0x29d),_0xe5af5b['lightMapEn'+'abled']=_0x185282['hasLightin'+'g'],_0xe5af5b['dirLightMa'+'pEnabled']=_0x185282['dirLightMa'+'p'],_0xe5af5b['useHeights']=_0x185282['hasHeights'],_0xe5af5b['useNormals']=_0x185282['hasNormals'],_0xe5af5b['useClearCo'+'atNormals']=_0x185282['hasClearCo'+'atNormals'],_0xe5af5b['useAo']=_0x185282['hasAo'],_0xe5af5b['diffuseMap'+'Enabled']=_0x185282['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x3c1e53,_0x43dc21,_0x525ce9,_0x485992){_0x3c1e53['fog']=_0x43dc21['useFog']?_0x485992['fog']:ka,_0x3c1e53['gamma']=_0x485992['shaderOutp'+'utGamma'],_0x3c1e53['toneMap']=_0x43dc21['useTonemap']?_0x485992['toneMappin'+'g']:f0,_0x43dc21['useSkybox']&&_0x525ce9['envAtlas']&&_0x525ce9['skybox']?(_0x3c1e53['reflection'+'Source']='envAtlasHQ',_0x3c1e53['reflection'+'Encoding']=_0x525ce9['envAtlas']['encoding'],_0x3c1e53['reflection'+'CubemapEnc'+'oding']=_0x525ce9['skybox']['encoding']):_0x43dc21['useSkybox']&&_0x525ce9['envAtlas']?(_0x3c1e53['reflection'+'Source']='envAtlas',_0x3c1e53['reflection'+'Encoding']=_0x525ce9['envAtlas']['encoding']):_0x43dc21['useSkybox']&&_0x525ce9['skybox']?(_0x3c1e53['reflection'+'Source']='cubeMap',_0x3c1e53['reflection'+'Encoding']=_0x525ce9['skybox']['encoding']):(_0x3c1e53['reflection'+'Source']=null,_0x3c1e53['reflection'+'Encoding']=null),_0x43dc21['ambientSH']?(_0x3c1e53['ambientSou'+'rce']='ambientSH',_0x3c1e53['ambientEnc'+'oding']=null):_0x3c1e53['reflection'+'Source']&&_0x525ce9['envAtlas']?(_0x3c1e53['ambientSou'+'rce']='envAtlas',_0x3c1e53['ambientEnc'+'oding']=_0x525ce9['envAtlas']['encoding']):(_0x3c1e53['ambientSou'+'rce']='constant',_0x3c1e53['ambientEnc'+'oding']=null);const _0x49bf2e=!!_0x3c1e53['reflection'+'Source'];_0x3c1e53['skyboxInte'+'nsity']=_0x49bf2e,_0x3c1e53['useCubeMap'+'Rotation']=_0x49bf2e&&_0x525ce9['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x2c27c9,_0x24e5da,_0x51e69f,_0x1b3457){if(_0x2c27c9['lightMapWi'+'thoutAmbie'+'nt']=!(0x8*0x204+-0xc01*-0x1+-0x1c20),_0x24e5da['useLightin'+'g']){const _0x554908=[],_0x2ec838=_0x51e69f?_0x51e69f>>0x2*-0x61d+-0x1*-0x77e+0x4cc:ds;_0x2c27c9['lightMaskD'+'ynamic']=!!(_0x2ec838&ds),_0x2c27c9['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1a35*-0x1+0x5*-0xc1+-0x166f),_0x1b3457&&(Es['collectLig'+'hts'](ae,_0x1b3457[ae],_0x554908,_0x2ec838),Es['collectLig'+'hts'](Pe,_0x1b3457[Pe],_0x554908,_0x2ec838),Es['collectLig'+'hts'](Re,_0x1b3457[Re],_0x554908,_0x2ec838)),_0x2c27c9['lights']=_0x554908;}else _0x2c27c9['lights']=[];(_0x2c27c9['lights']['length']===-0xbed*-0x3+0x27*-0xed+-0x54*-0x1||(_0x51e69f&Ep)!==-0x67a*-0x1+0x4*0xef+-0xa36*0x1)&&(_0x2c27c9['noShadow']=!(-0x20*-0xd5+-0x1443+0x65d*-0x1));}static['collectLig'+'hts'](_0x165093,_0x46a8b2,_0x4e36fd,_0x271093){for(let _0x5b4082=0x769+-0x1*0x905+0x19c;_0x5b4082<_0x46a8b2['length'];_0x5b4082++){const _0x1f5a8b=_0x46a8b2[_0x5b4082];_0x1f5a8b['enabled']&&_0x1f5a8b['mask']&_0x271093&&_0x4e36fd['push'](_0x1f5a8b);}}}const c_=(_0x17600a,_0x3d373e)=>{if(_0x17600a['length']!==_0x3d373e['length'])return!(0x1624+-0x91a+0x1*-0xd09);for(let _0x1c6645=0x148e+-0xaf6+-0x998*0x1;_0x1c6645<_0x17600a['length'];++_0x1c6645)if(_0x17600a[_0x1c6645]!==_0x3d373e[_0x1c6645])return!(0x1017*0x2+0x3*-0x806+-0x1*0x81b);return!(0x17a0+0x2241+-0x21*0x1c1);},YE=_0xe8be4a=>_0xe8be4a['r']!==0x2*-0x57+0x2*-0xa7f+0xb3*0x1f||_0xe8be4a['g']!==-0x130b+-0x8a+-0x2e*-0x6d||_0xe8be4a['b']!==0xf*-0x253+-0x118c+0x2*0x1a35,KE=_0x217cf0=>_0x217cf0['r']!==-0x4d*0x5+0x183c+-0x16bb||_0x217cf0['g']!==0x8e*0x1d+-0x10f6+0xe0||_0x217cf0['b']!==-0xd4a+0x1618+0x1*-0x8ce;class ZE{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x124bd4,_0x5977c3,_0x3cd560,_0x5564f4,_0x3cb251,_0x5d66e6){this['_updateSha'+'redOptions'](_0x124bd4,_0x5977c3,_0x3cd560,_0x5564f4,_0x3cb251),this['_updateMin'+'Options'](_0x124bd4,_0x3cd560,_0x3cb251),this['_updateUVO'+'ptions'](_0x124bd4,_0x3cd560,_0x5564f4,!(0x2708+-0x1*0x20f2+-0x616));}['updateRef'](_0x516cf8,_0x2407c2,_0x379eed,_0x14dd53,_0x43ce57,_0x5689cb,_0x418aa4){this['_updateSha'+'redOptions'](_0x516cf8,_0x2407c2,_0x14dd53,_0x43ce57,_0x5689cb),this['_updateEnv'+'Options'](_0x516cf8,_0x14dd53,_0x2407c2,_0x379eed),this['_updateMat'+'erialOptio'+'ns'](_0x516cf8,_0x14dd53),_0x516cf8['litOptions']['hasTangent'+'s']=_0x43ce57&&(_0x43ce57&Pp)!==-0xc33*0x1+0xb72*0x1+-0xc1*-0x1,this['_updateLig'+'htOptions'](_0x516cf8,_0x2407c2,_0x14dd53,_0x43ce57,_0x418aa4),this['_updateUVO'+'ptions'](_0x516cf8,_0x14dd53,_0x43ce57,!(0x492+0x7b3+-0xc44),_0x379eed);}['_updateSha'+'redOptions'](_0x47ddb8,_0x29f364,_0x29a6d2,_0x328d92,_0x589730){_0x47ddb8['forceUv1']=_0x29a6d2['forceUv1'],_0x29a6d2['userAttrib'+'utes']&&(_0x47ddb8['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x29a6d2['userAttrib'+'utes']['entries']())),_0x47ddb8['litOptions']['chunks']=_0x29a6d2['chunks']||{},_0x47ddb8['litOptions']['pass']=_0x589730,_0x47ddb8['litOptions']['alphaTest']=_0x29a6d2['alphaTest']>0xdbb+-0x208a+0x12cf,_0x47ddb8['litOptions']['blendType']=_0x29a6d2['blendType'],_0x47ddb8['litOptions']['screenSpac'+'e']=_0x328d92&&(_0x328d92&Mp)!==0x25e2+-0x22ff+-0x2e3,_0x47ddb8['litOptions']['skin']=_0x328d92&&(_0x328d92&$c)!==-0x14*-0x187+-0x2701+-0x1b1*-0x5,_0x47ddb8['litOptions']['batch']=_0x328d92&&(_0x328d92&Ou)!==-0x2189+-0x1827+0xd0*0x47,_0x47ddb8['litOptions']['useInstanc'+'ing']=_0x328d92&&(_0x328d92&qc)!==0x1843+0x72b+-0x1f6e,_0x47ddb8['litOptions']['useMorphPo'+'sition']=_0x328d92&&(_0x328d92&Xc)!==0x1*0x18c8+-0x23e+0x168a*-0x1,_0x47ddb8['litOptions']['useMorphNo'+'rmal']=_0x328d92&&(_0x328d92&jc)!==-0x1*0x468+0xb06+-0x69e,_0x47ddb8['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x328d92&&(_0x328d92&Yc)!==-0x1*0x120f+-0xd*-0x2d3+-0x12a8,_0x47ddb8['litOptions']['nineSliced'+'Mode']=_0x29a6d2['nineSliced'+'Mode']||0xc9*0x15+0x841*-0x1+-0x1f*0x44,_0x29f364['clusteredL'+'ightingEna'+'bled']&&_0x29a6d2['useLightin'+'g']?(_0x47ddb8['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1341+0x1e0e+-0xacd),_0x47ddb8['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x29f364['lighting']['cookiesEna'+'bled'],_0x47ddb8['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x29f364['lighting']['shadowsEna'+'bled'],_0x47ddb8['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x29f364['lighting']['shadowType'],_0x47ddb8['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x29f364['lighting']['areaLights'+'Enabled']):(_0x47ddb8['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x204*0x1+0xf9*0xb+-0x8ae),_0x47ddb8['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x24*0xdf+-0x1*0x1251+-0xd0a),_0x47ddb8['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x98a+0x2297+-0x4*0x643),_0x47ddb8['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1*-0x11f4+-0x1a2*0x1+0x1397));}['_updateUVO'+'ptions'](_0xd2df3b,_0x470e40,_0x21c7a1,_0x481fdb,_0x203728){let _0x598cbf=!(0x599*0x2+0x1f*0x117+0x6*-0x77f),_0x3e6a51=!(-0x1*0x189d+-0x1*-0x136c+0x532),_0x5cabb3=!(0x3*0xbf2+-0x26f1+-0x1*-0x31c);_0x21c7a1&&(_0x598cbf=(_0x21c7a1&m0)!==-0x230a+-0x18d1+0x3bdb,_0x3e6a51=(_0x21c7a1&_0)!==0x1137*-0x2+0xa9e+0x17d0,_0x5cabb3=(_0x21c7a1&g0)!==-0xc8e+0x1c21+-0xf93),_0xd2df3b['litOptions']['vertexColo'+'rs']=!(-0x1ab3+0xa61*-0x3+0x39d7),this['_mapXForms']=[];const _0x1bc941={};for(const _0x154303 in pa)this['_updateTex'+'Options'](_0xd2df3b,_0x470e40,_0x154303,_0x598cbf,_0x3e6a51,_0x5cabb3,_0x481fdb,_0x1bc941);this['_mapXForms']=null,_0xd2df3b['litOptions']['ssao']=_0x203728==null?void(0x2*-0x72e+-0x63d*-0x3+-0x45b):_0x203728['ssaoEnable'+'d'],_0xd2df3b['useAO']=_0xd2df3b['litOptions']['ssao'],_0xd2df3b['litOptions']['lightMapEn'+'abled']=_0xd2df3b['lightMap'],_0xd2df3b['litOptions']['dirLightMa'+'pEnabled']=_0xd2df3b['dirLightMa'+'p'],_0xd2df3b['litOptions']['useHeights']=_0xd2df3b['heightMap'],_0xd2df3b['litOptions']['useNormals']=_0xd2df3b['normalMap'],_0xd2df3b['litOptions']['useClearCo'+'atNormals']=_0xd2df3b['clearCoatN'+'ormalMap'],_0xd2df3b['litOptions']['useAo']=_0xd2df3b['aoMap']||_0xd2df3b['aoVertexCo'+'lor']||_0xd2df3b['litOptions']['ssao'],_0xd2df3b['litOptions']['diffuseMap'+'Enabled']=_0xd2df3b['diffuseMap'];}['_updateTex'+'Options'](_0x50bd45,_0x3efce3,_0x1bab64,_0x1588b5,_0x29fbd1,_0x2ab8c7,_0x48ebd3,_0x120909){const _0xe68a18=_0x1bab64==='opacity';if(!_0x48ebd3||_0xe68a18){const _0x3f14e7=_0x1bab64+'Map',_0x5f4e86=_0x1bab64+('VertexColo'+'r'),_0xd2f849=_0x1bab64+('VertexColo'+'rChannel'),_0x4e1503=_0x3f14e7+'Channel',_0x308af9=_0x3f14e7+'Transform',_0x2b3966=_0x3f14e7+'Uv',_0x1d02b4=_0x3f14e7+'Identifier';if(_0x1bab64!=='light'&&(_0x50bd45[_0x3f14e7]=!(-0x81*-0x49+0x19b8+-0x3e80),_0x50bd45[_0x1d02b4]=void(-0x2591+0x1*-0xa1f+0x6d0*0x7),_0x50bd45[_0x4e1503]='',_0x50bd45[_0x308af9]=0x1*0x749+0x1*-0x1e57+-0x1*-0x170e,_0x50bd45[_0x2b3966]=-0xfcf*-0x2+0x1*0xbc4+0x73b*-0x6),_0x50bd45[_0x5f4e86]=!(-0x21bb*0x1+-0x2307+0x1*0x44c3),_0x50bd45[_0xd2f849]='',_0xe68a18&&_0x3efce3['blendType']===ns&&_0x3efce3['alphaTest']===0x1*-0x26ce+-0x1*0x833+0x2f01&&!_0x3efce3['alphaToCov'+'erage']&&_0x3efce3['opacityDit'+'her']===Ds)return;if(_0x1bab64!=='height'&&_0x3efce3[_0x5f4e86]&&_0x2ab8c7&&(_0x50bd45[_0x5f4e86]=_0x3efce3[_0x5f4e86],_0x50bd45[_0xd2f849]=_0x3efce3[_0xd2f849],_0x50bd45['litOptions']['vertexColo'+'rs']=!(-0x152f+-0x1d5c*-0x1+0xa1*-0xd)),_0x3efce3[_0x3f14e7]){let _0x5c0b29=!(-0x1*-0x1816+-0xec8+-0x94e);if(_0x3efce3[_0x2b3966]===0x1*0x13cb+0x1a7c+-0x3*0xf6d&&!_0x1588b5&&(_0x5c0b29=!(-0x1631+0xa*-0x2ab+0x22*0x170)),_0x3efce3[_0x2b3966]===0x8f8+-0x16e9+0xdf2&&!_0x29fbd1&&(_0x5c0b29=!(-0x2697+-0x2041+-0x46d9*-0x1)),_0x5c0b29){const _0x1c8c0e=_0x3efce3[_0x3f14e7]['id'];let _0x3978fd=_0x120909[_0x1c8c0e];_0x3978fd===void(-0x20f1+-0x287*-0x7+0xf40)&&(_0x120909[_0x1c8c0e]=_0x1bab64,_0x3978fd=_0x1bab64),_0x50bd45[_0x3f14e7]=!!_0x3efce3[_0x3f14e7],_0x50bd45[_0x1d02b4]=_0x3978fd,_0x50bd45[_0x308af9]=this['_getMapTra'+'nsformID'](_0x3efce3['getUniform'](_0x308af9),_0x3efce3[_0x2b3966]),_0x50bd45[_0x4e1503]=_0x3efce3[_0x4e1503],_0x50bd45[_0x2b3966]=_0x3efce3[_0x2b3966];}}}}['_updateMin'+'Options'](_0x36c16c,_0x4b7156,_0x134ac0){const _0x1e68c3=_0x134ac0===il;_0x36c16c['litOptions']['opacitySha'+'dowDither']=_0x1e68c3?_0x4b7156['opacityDit'+'her']:_0x4b7156['opacitySha'+'dowDither'],_0x36c16c['litOptions']['linearDept'+'h']=_0x1e68c3,_0x36c16c['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x459461,_0x58bc07){var _0x4cacdb,_0x1c7e3d,_0x215e92,_0x4ec4ee;const _0x4172cd=!!(_0x58bc07['useMetalne'+'ss']||_0x58bc07['specularMa'+'p']||_0x58bc07['sphereMap']||_0x58bc07['cubeMap']||KE(_0x58bc07['specular'])||_0x58bc07['specularit'+'yFactor']>-0x4f1+-0x181a+-0x1d0b*-0x1&&_0x58bc07['useMetalne'+'ss']||_0x58bc07['enableGGXS'+'pecular']||_0x58bc07['clearCoat']>0x103f*-0x2+0x3*-0x9d5+0x3dfd),_0x203c4c=!_0x58bc07['useMetalne'+'ss']||_0x58bc07['useMetalne'+'ssSpecular'+'Color'],_0x48ec0a=_0x4172cd&&(_0x58bc07['specularTi'+'nt']||!_0x58bc07['specularMa'+'p']&&!_0x58bc07['specularVe'+'rtexColor'])&&YE(_0x58bc07['specular']),_0x5417bd=_0x4172cd&&_0x58bc07['useMetalne'+'ssSpecular'+'Color']&&(_0x58bc07['specularit'+'yFactorTin'+'t']||_0x58bc07['specularit'+'yFactor']<-0x1287+-0x4ed*0x1+0x1775&&!_0x58bc07['specularit'+'yFactorMap']),_0x108b1b=_0x58bc07['normalMap']?_0x58bc07['normalMap']['format']===$o||_0x58bc07['normalMap']['type']===lp:!(0x349*-0xb+0x2570+0x2*-0xa6),_0x3db88a=(_0x325009,_0x18c0da)=>Math['abs'](_0x325009-_0x18c0da)<-0x20ee+-0x10a7+0x1087*0x3+0.0001;_0x459461['specularTi'+'nt']=_0x48ec0a?0x201b+0x845+-0x285e:0xadb+0x124e+-0x1d29,_0x459461['specularit'+'yFactorTin'+'t']=_0x5417bd?-0x2016+0x1f6+0x1e21:-0x218e+0x26bf+-0x531*0x1,_0x459461['metalnessT'+'int']=_0x58bc07['useMetalne'+'ss']&&_0x58bc07['metalness']<0x83a+0x1*-0x1b46+-0x1*-0x130d?0x22db+-0xcd6+-0x1604*0x1:-0xea0+-0x6*-0x32b+-0x462,_0x459461['glossTint']=0x2b8+-0x1d51+0xa*0x2a9,_0x459461['diffuseEnc'+'oding']=(_0x4cacdb=_0x58bc07['diffuseMap'])==null?void(0x1d*0x153+0x12*0xbf+-0x33d5):_0x4cacdb['encoding'],_0x459461['diffuseDet'+'ailEncodin'+'g']=(_0x1c7e3d=_0x58bc07['diffuseDet'+'ailMap'])==null?void(-0x1d89+-0x15*0xad+0x3a*0xc1):_0x1c7e3d['encoding'],_0x459461['emissiveEn'+'coding']=(_0x215e92=_0x58bc07['emissiveMa'+'p'])==null?void(0x946*0x3+0x1b*-0x99+-0xbaf):_0x215e92['encoding'],_0x459461['lightMapEn'+'coding']=(_0x4ec4ee=_0x58bc07['lightMap'])==null?void(-0x1f06+0x2*0xb83+0x10*0x80):_0x4ec4ee['encoding'],_0x459461['packedNorm'+'al']=_0x108b1b,_0x459461['refraction'+'Tint']=_0x3db88a(_0x58bc07['refraction'],-0x1da+-0x24*-0x2+0xd*0x1f)?-0x217c+-0x1*0xc89+-0x9*-0x51d:0x469+0x55*0x5+-0x611,_0x459461['refraction'+'IndexTint']=_0x3db88a(_0x58bc07['refraction'+'Index'],(-0x1068+0x1*-0x12eb+0x2354)/(0x535*-0x7+0x9e5*0x3+0x1*0x6c5+0.5))?-0x1cee+0x1b*0xd3+-0x1*-0x6ad:-0xb*-0x227+0x2e*-0x72+-0x330,_0x459461['thicknessT'+'int']=_0x58bc07['useDynamic'+'Refraction']&&_0x58bc07['thickness']!==-0x1e70+-0xdd*0x13+0x2ed8?-0x1fdd+0x1*-0x4e8+-0x3*-0xc42:-0x1*-0x26ae+0x25c1+0x47f*-0x11,_0x459461['specularEn'+'coding']=_0x58bc07['specularEn'+'coding']||'linear',_0x459461['sheenEncod'+'ing']=_0x58bc07['sheenEncod'+'ing']||'linear',_0x459461['aoMapUv']=_0x58bc07['aoUvSet'],_0x459461['aoDetail']=!!_0x58bc07['aoMap'],_0x459461['diffuseDet'+'ail']=!!_0x58bc07['diffuseMap'],_0x459461['normalDeta'+'il']=!!_0x58bc07['normalMap'],_0x459461['diffuseDet'+'ailMode']=_0x58bc07['diffuseDet'+'ailMode'],_0x459461['aoDetailMo'+'de']=_0x58bc07['aoDetailMo'+'de'],_0x459461['clearCoatT'+'int']=_0x3db88a(_0x58bc07['clearCoat'],-0x5d3*-0x1+0x8ef*0x4+-0x298e)?-0xf26+0x235e+0x4*-0x50e:0x1a0c+0x1*0x12b2+-0x2cbd,_0x459461['clearCoatG'+'loss']=!!_0x58bc07['clearCoatG'+'loss'],_0x459461['clearCoatG'+'lossTint']=_0x58bc07['clearCoatG'+'loss']!==0x2*-0xcdb+-0x9ff+0x23b6?0x1*-0x89f+-0x971+0x1211:-0x210*0x2+0x1fe8+-0x1bc8,_0x459461['iorTint']=_0x3db88a(_0x58bc07['refraction'+'Index'],(-0x15*-0x16d+0x1c7+-0x1fb7)/(0x11*0x6d+-0x10e6+0x9aa+0.5))?0x237f+0x43*-0x5f+-0x2*0x551:0x26e7+-0xda6+-0x1940,_0x459461['iridescenc'+'eTint']=_0x58bc07['iridescenc'+'e']!==-0x6d3+-0x15*-0x1db+-0x2023?0x2400+-0x2b9+0x1*-0x2146:-0xfd6+-0xe5*0x8+0x16fe,_0x459461['glossInver'+'t']=_0x58bc07['glossInver'+'t'],_0x459461['sheenGloss'+'Invert']=_0x58bc07['sheenGloss'+'Invert'],_0x459461['clearCoatG'+'lossInvert']=_0x58bc07['clearCoatG'+'lossInvert'],_0x459461['useSpecula'+'rColor']=_0x203c4c,_0x459461['litOptions']['separateAm'+'bient']=!(0x1*0xe2d+0x1188+-0x1fb4),_0x459461['litOptions']['customFrag'+'mentShader']=_0x58bc07['customFrag'+'mentShader'],_0x459461['litOptions']['pixelSnap']=_0x58bc07['pixelSnap'],_0x459461['litOptions']['ambientSH']=!!_0x58bc07['ambientSH'],_0x459461['litOptions']['twoSidedLi'+'ghting']=_0x58bc07['twoSidedLi'+'ghting'],_0x459461['litOptions']['occludeSpe'+'cular']=_0x58bc07['occludeSpe'+'cular'],_0x459461['litOptions']['occludeSpe'+'cularFloat']=_0x58bc07['occludeSpe'+'cularInten'+'sity']!==0x1346+0x136e+-0x26b3*0x1,_0x459461['litOptions']['useMsdf']=!!_0x58bc07['msdfMap'],_0x459461['litOptions']['msdfTextAt'+'tribute']=!!_0x58bc07['msdfTextAt'+'tribute'],_0x459461['litOptions']['alphaToCov'+'erage']=_0x58bc07['alphaToCov'+'erage'],_0x459461['litOptions']['opacityFad'+'esSpecular']=_0x58bc07['opacityFad'+'esSpecular'],_0x459461['litOptions']['opacityDit'+'her']=_0x58bc07['opacityDit'+'her'],_0x459461['litOptions']['cubeMapPro'+'jection']=_0x58bc07['cubeMapPro'+'jection'],_0x459461['litOptions']['occludeDir'+'ect']=_0x58bc07['occludeDir'+'ect'],_0x459461['litOptions']['useSpecula'+'r']=_0x4172cd,_0x459461['litOptions']['useSpecula'+'rityFactor']=(_0x5417bd||!!_0x58bc07['specularit'+'yFactorMap'])&&_0x58bc07['useMetalne'+'ssSpecular'+'Color'],_0x459461['litOptions']['enableGGXS'+'pecular']=_0x58bc07['enableGGXS'+'pecular'],_0x459461['litOptions']['fresnelMod'+'el']=_0x58bc07['fresnelMod'+'el'],_0x459461['litOptions']['useRefract'+'ion']=(_0x58bc07['refraction']||!!_0x58bc07['refraction'+'Map'])&&(_0x58bc07['useDynamic'+'Refraction']||!!_0x459461['litOptions']['reflection'+'Source']),_0x459461['litOptions']['useClearCo'+'at']=!!_0x58bc07['clearCoat'],_0x459461['litOptions']['useSheen']=_0x58bc07['useSheen'],_0x459461['litOptions']['useIridesc'+'ence']=_0x58bc07['useIridesc'+'ence']&&_0x58bc07['iridescenc'+'e']!==-0x5*0x142+-0x13e1+0x1a2b,_0x459461['litOptions']['useMetalne'+'ss']=_0x58bc07['useMetalne'+'ss'],_0x459461['litOptions']['useDynamic'+'Refraction']=_0x58bc07['useDynamic'+'Refraction'],_0x459461['litOptions']['dispersion']=_0x58bc07['dispersion']>0x21b1*-0x1+-0x1945+0x1*0x3af6;}['_updateEnv'+'Options'](_0x43950e,_0x3a2cab,_0x4bd48d,_0x2e13d0){_0x43950e['litOptions']['fog']=_0x3a2cab['useFog']?_0x2e13d0['fog']:ka,_0x43950e['litOptions']['gamma']=_0x2e13d0['shaderOutp'+'utGamma'],_0x43950e['litOptions']['toneMap']=_0x3a2cab['useTonemap']?_0x2e13d0['toneMappin'+'g']:f0;let _0x47a132=!(0x2*0x107b+0x11f7+-0x32ec);if(_0x3a2cab['envAtlas']&&_0x3a2cab['cubeMap']?(_0x43950e['litOptions']['reflection'+'Source']='envAtlasHQ',_0x43950e['litOptions']['reflection'+'Encoding']=_0x3a2cab['envAtlas']['encoding'],_0x43950e['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x3a2cab['cubeMap']['encoding']):_0x3a2cab['envAtlas']?(_0x43950e['litOptions']['reflection'+'Source']='envAtlas',_0x43950e['litOptions']['reflection'+'Encoding']=_0x3a2cab['envAtlas']['encoding']):_0x3a2cab['cubeMap']?(_0x43950e['litOptions']['reflection'+'Source']='cubeMap',_0x43950e['litOptions']['reflection'+'Encoding']=_0x3a2cab['cubeMap']['encoding']):_0x3a2cab['sphereMap']?(_0x43950e['litOptions']['reflection'+'Source']='sphereMap',_0x43950e['litOptions']['reflection'+'Encoding']=_0x3a2cab['sphereMap']['encoding']):_0x3a2cab['useSkybox']&&_0x4bd48d['envAtlas']&&_0x4bd48d['skybox']?(_0x43950e['litOptions']['reflection'+'Source']='envAtlasHQ',_0x43950e['litOptions']['reflection'+'Encoding']=_0x4bd48d['envAtlas']['encoding'],_0x43950e['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x4bd48d['skybox']['encoding'],_0x47a132=!(-0x9d3*0x3+-0x3*-0x78e+0x6cf)):_0x3a2cab['useSkybox']&&_0x4bd48d['envAtlas']?(_0x43950e['litOptions']['reflection'+'Source']='envAtlas',_0x43950e['litOptions']['reflection'+'Encoding']=_0x4bd48d['envAtlas']['encoding'],_0x47a132=!(0x22c5+0x2304+-0x45c9)):_0x3a2cab['useSkybox']&&_0x4bd48d['skybox']?(_0x43950e['litOptions']['reflection'+'Source']='cubeMap',_0x43950e['litOptions']['reflection'+'Encoding']=_0x4bd48d['skybox']['encoding'],_0x47a132=!(0x1*0x1aed+-0x161f*-0x1+-0x310c)):(_0x43950e['litOptions']['reflection'+'Source']=null,_0x43950e['litOptions']['reflection'+'Encoding']=null),_0x3a2cab['ambientSH'])_0x43950e['litOptions']['ambientSou'+'rce']='ambientSH',_0x43950e['litOptions']['ambientEnc'+'oding']=null;else{const _0x55832e=_0x3a2cab['envAtlas']||(_0x3a2cab['useSkybox']&&_0x4bd48d['envAtlas']?_0x4bd48d['envAtlas']:null);_0x55832e&&!_0x3a2cab['sphereMap']?(_0x43950e['litOptions']['ambientSou'+'rce']='envAtlas',_0x43950e['litOptions']['ambientEnc'+'oding']=_0x55832e['encoding']):(_0x43950e['litOptions']['ambientSou'+'rce']='constant',_0x43950e['litOptions']['ambientEnc'+'oding']=null);}_0x43950e['litOptions']['skyboxInte'+'nsity']=_0x47a132,_0x43950e['litOptions']['useCubeMap'+'Rotation']=_0x47a132&&_0x4bd48d['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x5e84e2,_0x2b18cb,_0x5d9755,_0x206ee8,_0x476483){if(_0x5e84e2['lightMap']=!(-0x10ff*-0x1+-0x89f+0x85f*-0x1),_0x5e84e2['lightMapCh'+'annel']='',_0x5e84e2['lightMapUv']=-0x128d+-0x217e+-0x1159*-0x3,_0x5e84e2['lightMapTr'+'ansform']=-0x5*0x55c+0x83*-0xf+0x19*0x161,_0x5e84e2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1473+-0x1*0x120d+0x1*0x2681),_0x5e84e2['dirLightMa'+'p']=!(-0x379+0x2*0x8ed+-0x17*0xa0),_0x206ee8&&(_0x5e84e2['litOptions']['noShadow']=(_0x206ee8&Ep)!==-0x995+0xab6+-0x121,(_0x206ee8&ku)!==-0x2212+-0xd28+-0x1a*-0x1d1&&(_0x5e84e2['lightMapEn'+'coding']=_0x2b18cb['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x5e84e2['lightMap']=!(-0x23c9*0x1+0x966+-0xc1*-0x23),_0x5e84e2['lightMapCh'+'annel']='rgb',_0x5e84e2['lightMapUv']=0x89f+0x49*-0x1f+0x3*0x13,_0x5e84e2['lightMapTr'+'ansform']=0x146c+-0x1*-0x24e+0x16ba*-0x1,_0x5e84e2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x5d9755['lightMap'],(_0x206ee8&y0)!==-0x9d7+-0x1f5+0xbcc&&(_0x5e84e2['dirLightMa'+'p']=!(-0x1683+0x2f5*-0x7+0x159b*0x2)),(_0x206ee8&x0)!==-0xc1a*0x2+-0xf39*0x1+0x276d&&(_0x5e84e2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1ff1+0x1a3c+0x5b6)))),_0x5d9755['useLightin'+'g']){const _0x54551c=[],_0x5019d9=_0x206ee8?_0x206ee8>>-0x23da+-0x16e6+0x8*0x75a:ds;_0x5e84e2['litOptions']['lightMaskD'+'ynamic']=!!(_0x5019d9&ds),_0x476483&&(Es['collectLig'+'hts'](ae,_0x476483[ae],_0x54551c,_0x5019d9),Es['collectLig'+'hts'](Pe,_0x476483[Pe],_0x54551c,_0x5019d9),Es['collectLig'+'hts'](Re,_0x476483[Re],_0x54551c,_0x5019d9)),_0x5e84e2['litOptions']['lights']=_0x54551c;}else _0x5e84e2['litOptions']['lights']=[];_0x5e84e2['litOptions']['lights']['length']===-0x20ff*-0x1+0x93b+-0x2a3a&&(_0x5e84e2['litOptions']['noShadow']=!(-0xcd2+0xbf2+0xe0));}['_getMapTra'+'nsformID'](_0x3b2421,_0x462e89){if(!_0x3b2421)return 0xd*0x7b+-0x1*-0x16e1+-0x1d20;let _0x58a1fe=this['_mapXForms'][_0x462e89];_0x58a1fe||(_0x58a1fe=[],this['_mapXForms'][_0x462e89]=_0x58a1fe);for(let _0x4958ea=-0x4*0xb6+-0x31b+0x1*0x5f3;_0x4958ea<_0x58a1fe['length'];_0x4958ea++)if(c_(_0x58a1fe[_0x4958ea][0x40*0x26+-0x275*-0x8+0x74a*-0x4]['value'],_0x3b2421[-0x106+-0xd8e+0xe94]['value'])&&c_(_0x58a1fe[_0x4958ea][0xb*0x1a8+0x9d*-0x1+0x5de*-0x3]['value'],_0x3b2421[-0x18dd+-0x3*0x75+0x1a3d]['value']))return _0x4958ea+(0x1381+0xd3*-0x2e+0x126a);return _0x58a1fe['push'](_0x3b2421);}}function qe(_0x2bf6a0,_0x55ce6c=!(-0x26f7+-0x1ef0+0x45e7),_0x533d3e=!(0x17c3+0x65*-0xf+-0x11d8)){const _0x2dc567={};return _0x2dc567[_0x2bf6a0+'Map']='texture',_0x2dc567[_0x2bf6a0+'MapTiling']='vec2',_0x2dc567[_0x2bf6a0+'MapOffset']='vec2',_0x2dc567[_0x2bf6a0+('MapRotatio'+'n')]='number',_0x2dc567[_0x2bf6a0+'MapUv']='number',_0x55ce6c&&(_0x2dc567[_0x2bf6a0+'MapChannel']='string',_0x533d3e&&(_0x2dc567[_0x2bf6a0+('VertexColo'+'r')]='boolean',_0x2dc567[_0x2bf6a0+('VertexColo'+'rChannel')]='string')),_0x2dc567;}const Ra={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(0xcc4+0x1cd5*-0x1+0x1011),!(-0xba*0x33+0x1*0x2375+-0x1*-0x19a)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0xcc2+-0x13c6+0x704*0x1),!(0x360+0x1f9d+0x4*-0x8bf)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x530+0x1549+-0x4*0x406)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x961*-0x1+0xd3*0x5+0x543)),'bumpiness':'number',...qe('normalDeta'+'il',!(-0x2276+-0x1*0x380+0x25f7*0x1)),'normalDetailMapBumpiness':'number',...qe('height',!(-0x261d+-0x20f+-0x1416*-0x2),!(-0x115*-0x11+0x1*0x3c7+-0x162b)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Zc=[];for(const l in Ra)Ra[l]==='texture'&&Zc['push'](l);const kp=[];for(const l in Ra)Ra[l]==='cubemap'&&kp['push'](l);const QE={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},fh={},P0={};let $a=new Set();const Ll=new Y();class us extends xn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZE(),this['reset']());}['reset'](){Object['keys'](fh)['forEach'](_0x3261a0=>{this['_'+_0x3261a0]=fh[_0x3261a0]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x259033){return super['copy'](_0x259033),Object['keys'](fh)['forEach'](_0x32b2a2=>{this[_0x32b2a2]=_0x259033[_0x32b2a2];}),this['userAttrib'+'utes']=new Map(_0x259033['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x1b00f4,_0x1e7ad7){this['userAttrib'+'utes']['set'](_0x1e7ad7,_0x1b00f4);}['_setParame'+'ter'](_0x11a9da,_0x374c56){$a['add'](_0x11a9da),this['setParamet'+'er'](_0x11a9da,_0x374c56);}['_setParame'+'ters'](_0x585682){_0x585682['forEach'](_0xc6571a=>{this['_setParame'+'ter'](_0xc6571a['name'],_0xc6571a['value']);});}['_processPa'+'rameters'](_0x1498c6){const _0x3f3355=this[_0x1498c6];_0x3f3355['forEach'](_0x5e6383=>{$a['has'](_0x5e6383)||delete this['parameters'][_0x5e6383];}),this[_0x1498c6]=$a,$a=_0x3f3355,$a['clear']();}['_updateMap'](_0x34f7ff){const _0x1683aa=_0x34f7ff+'Map',_0x39c51c=this[_0x1683aa];if(_0x39c51c){this['_setParame'+'ter']('texture_'+_0x1683aa,_0x39c51c);const _0x4c80a6=_0x1683aa+'Transform',_0x3f20a0=this['getUniform'](_0x4c80a6);_0x3f20a0&&this['_setParame'+'ters'](_0x3f20a0);}}['_allocUnif'+'orm'](_0x57018c,_0x3962af){let _0x129f58=this['_uniformCa'+'che'][_0x57018c];return _0x129f58||(_0x129f58=_0x3962af(),this['_uniformCa'+'che'][_0x57018c]=_0x129f58),_0x129f58;}['getUniform'](_0x5259dc,_0xdb30e2,_0x5e1ff5){return P0[_0x5259dc](this,_0xdb30e2,_0x5e1ff5);}['updateUnif'+'orms'](_0x554fba,_0x3e70fb){const _0x3f0d42=_0x212f8a=>this['getUniform'](_0x212f8a,_0x554fba,_0x3e70fb);this['_setParame'+'ter']('material_a'+'mbient',_0x3f0d42('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x3f0d42('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x23b+-0x1a9b*-0x1+-0x1cd5)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x3f0d42('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x3f0d42('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x3f0d42('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>0x1bd7*-0x1+-0x246+0x1*0x1e1d&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x2f1*0xd+-0x17d5*0x1+0x8de*0x7&&this['emissive']['g']===-0x563+-0x285+0x1*0x7e8&&this['emissive']['b']===0x3*-0x485+-0x1e39+0x74c*0x6&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x3f0d42('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0xa55+0x7*-0x266+0x1b1f&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x1*0x1ab1+-0x11c*-0x21+-0x3f4d*0x1&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x3f0d42('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x7bf*-0x4+-0x2*-0x1100+-0x304*0x1?0x1ceb+-0x205e+0x373*0x1:(-0x1e3*0x7+0x1de6*-0x1+0x7c*0x59)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x1328*-0x2+-0x11ed+-0x1462)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x3f0d42('cubeMapPro'+'jectionBox'));for(const _0xe20733 in pa)this['_updateMap'](_0xe20733);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x3f0d42('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x554fba,_0x3e70fb);}['updateEnvU'+'niforms'](_0x96b7fa,_0x527478){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x527478['envAtlas']&&_0x527478['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x527478['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x527478['skybox'])):_0x527478['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x527478['envAtlas']):_0x527478['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x527478['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x39d9ac){const {device:_0x37973b,scene:_0x4d5fcd,pass:_0x5d47dc,objDefs:_0x229f61,sortedLights:_0x152898,cameraShaderParams:_0x1fcba1}=_0x39d9ac;this['updateEnvU'+'niforms'](_0x37973b,_0x4d5fcd);const _0x4fb862=Ks['get'](_0x37973b)['getByIndex'](_0x5d47dc),_0x57f06e=_0x5d47dc===rl||_0x5d47dc===Oa||_0x5d47dc===il||_0x4fb862['isShadow'];let _0x117a52=_0x57f06e?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x117a52['defines']=Lp(this,_0x39d9ac),_0x57f06e?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x117a52,_0x4d5fcd,this,_0x229f61,_0x5d47dc,_0x152898):this['shaderOptB'+'uilder']['updateRef'](_0x117a52,_0x4d5fcd,_0x1fcba1,this,_0x229f61,_0x5d47dc,_0x152898),_0x117a52['defines']['set']('TONEMAP',p0[_0x117a52['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x117a52=this['onUpdateSh'+'ader'](_0x117a52));const _0x24e3ab=new Kc(_0x39d9ac['viewUnifor'+'mFormat'],_0x39d9ac['viewBindGr'+'oupFormat'],_0x39d9ac['vertexForm'+'at']),_0x32804f=Ba(_0x37973b);_0x32804f['register']('standard',Ed);const _0x5074d4=_0x32804f['getProgram']('standard',_0x117a52,_0x24e3ab,this['userId']);return this['_dirtyShad'+'er']=!(-0x416*0x7+-0x3*0x7c8+-0x3*-0x1151),_0x5074d4;}['destroy'](){for(const _0x4d70e0 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x4d70e0]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(us,'TEXTURE_PA'+'RAMETERS',Zc),c(us,'CUBEMAP_PA'+'RAMETERS',kp);const Qc=(_0x55596a,_0x135981)=>{P0[_0x55596a]=_0x135981;},Op=(_0x9934e6,_0x1b0c8d,_0x170890,_0xb24928)=>{Object['defineProp'+'erty'](us['prototype'],_0x9934e6,{'get':_0xb24928||function(){return this['_'+_0x9934e6];},'set':_0x170890}),fh[_0x9934e6]={'value':_0x1b0c8d};},JE=_0x2736d9=>{const _0x51f8c3='_'+_0x2736d9['name'],_0x29b62a=_0x2736d9['dirtyShade'+'rFunc']||(()=>!(0xb79*-0x1+0x1228+-0x6af)),_0x464f5f=function(_0x494e1e){const _0x1b9d37=this[_0x51f8c3];_0x1b9d37!==_0x494e1e&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x29b62a(_0x1b9d37,_0x494e1e),this[_0x51f8c3]=_0x494e1e);};Op(_0x2736d9['name'],()=>_0x2736d9['defaultVal'+'ue'],_0x464f5f,_0x2736d9['getterFunc']);},eM=_0x2f6df2=>{const _0x4273ab='_'+_0x2f6df2['name'],_0x458d78=_0x2f6df2['dirtyShade'+'rFunc']||(()=>!(0x1dd5+-0x77*0x3+-0x1c70)),_0x14ad8e=function(_0x318f73){const _0x36c828=this[_0x4273ab];_0x36c828['equals'](_0x318f73)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x458d78(_0x36c828,_0x318f73),this[_0x4273ab]=_0x36c828['copy'](_0x318f73));};Op(_0x2f6df2['name'],()=>_0x2f6df2['defaultVal'+'ue']['clone'](),_0x14ad8e,_0x2f6df2['getterFunc']);},is=_0x4f57bc=>_0x4f57bc['defaultVal'+'ue']&&_0x4f57bc['defaultVal'+'ue']['clone']?eM(_0x4f57bc):JE(_0x4f57bc);function Ge(_0x35b989,_0x1ab7da='rgb',_0x182e3e=!(0x3d*-0x7a+-0x55f+0x1*0x2271),_0x3dc36e=-0x1*-0x212c+-0x12*-0x1aa+0x650*-0xa){pa[_0x35b989]=_0x1ab7da['length']||-(0x24f3+0x21cb+-0x7*0xa1b),is({'name':_0x35b989+'Map','defaultValue':null,'dirtyShaderFunc':(_0x3f0466,_0x4ecfaa)=>!!_0x3f0466!=!!_0x4ecfaa||_0x3f0466&&(_0x3f0466['type']!==_0x4ecfaa['type']||_0x3f0466['format']!==_0x4ecfaa['format'])}),is({'name':_0x35b989+'MapTiling','defaultValue':new W(-0x1f47+-0x17cc+0x3714,0x20d+-0x256c*0x1+0x236*0x10)}),is({'name':_0x35b989+'MapOffset','defaultValue':new W(0xeb1+0x7*-0x39a+0xa85,-0x2663+-0x13*-0x17+0x61d*0x6)}),is({'name':_0x35b989+('MapRotatio'+'n'),'defaultValue':0x0}),is({'name':_0x35b989+'MapUv','defaultValue':_0x3dc36e}),_0x1ab7da&&(is({'name':_0x35b989+'MapChannel','defaultValue':_0x1ab7da}),_0x182e3e&&(is({'name':_0x35b989+('VertexColo'+'r'),'defaultValue':!(0x595+0x791+-0xd25)}),is({'name':_0x35b989+('VertexColo'+'rChannel'),'defaultValue':_0x1ab7da})));const _0x40a345=_0x35b989+'MapTiling',_0x37eab4=_0x35b989+'MapOffset',_0x31ff22=_0x35b989+('MapRotatio'+'n'),_0x41b743=_0x35b989+('MapTransfo'+'rm');Qc(_0x41b743,(_0x2e8709,_0x52df34,_0x27a5e4)=>{const _0x463b05=_0x2e8709[_0x40a345],_0xb6714c=_0x2e8709[_0x37eab4],_0x3cacd7=_0x2e8709[_0x31ff22];if(_0x463b05['x']===0x1a32+0x19*0x9d+-0x2986&&_0x463b05['y']===0x3ec+-0x157d+0xad*0x1a&&_0xb6714c['x']===-0x448+0x3*-0x6aa+0x1846&&_0xb6714c['y']===-0x4e8*-0x4+-0x237d+0xfdd*0x1&&_0x3cacd7===0x1d22+0x127c+-0x109*0x2e)return null;const _0x9a3acd=_0x2e8709['_allocUnif'+'orm'](_0x41b743,()=>[{'name':'texture_'+_0x41b743+'0','value':new Float32Array(-0x1*0x1778+-0xde9+0x2564)},{'name':'texture_'+_0x41b743+'1','value':new Float32Array(-0x21f8+-0x3b5+0x25b0)}]),_0x2c8a50=Math['cos'](_0x3cacd7*N['DEG_TO_RAD']),_0x1556f3=Math['sin'](_0x3cacd7*N['DEG_TO_RAD']),_0x1b04ba=_0x9a3acd[0x217c+0x1bfa+-0x3d76]['value'];_0x1b04ba[0x1b7*-0xf+-0xa29+0x23e2]=_0x2c8a50*_0x463b05['x'],_0x1b04ba[-0x1eee+-0x17d*-0x13+-0x11*-0x28]=-_0x1556f3*_0x463b05['y'],_0x1b04ba[0x15*0xea+-0x1a2+-0x7*0x282]=_0xb6714c['x'];const _0x32f1e2=_0x9a3acd[-0x1aa2+0x202d+-0x58a]['value'];return _0x32f1e2[-0x46b+0x11cf+-0xd64]=_0x1556f3*_0x463b05['x'],_0x32f1e2[0x9be+0x1fe1+-0x299e]=_0x2c8a50*_0x463b05['y'],_0x32f1e2[-0x7*0x4ff+0x647+0xb*0x29c]=-0x4fe+-0x14d0+0x19cf-_0x463b05['y']-_0xb6714c['y'],_0x9a3acd;});}function Mn(_0x3c7c95,_0x49421e){is({'name':_0x3c7c95,'defaultValue':_0x49421e,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x1*0x99d+-0x46e+0x2cf*0x5),this['_'+_0x3c7c95];}}),Qc(_0x3c7c95,(_0x5777e7,_0x3e8346,_0x358d87)=>{const _0x18ae53=_0x5777e7['_allocUnif'+'orm'](_0x3c7c95,()=>new Float32Array(-0x1171+0x3*-0x4bd+0x1fab)),_0x56c5c3=_0x5777e7[_0x3c7c95];return Ll['linear'](_0x56c5c3),_0x18ae53[0x2664+-0x82c*-0x4+-0x4*0x11c5]=Ll['r'],_0x18ae53[0xf8b+0x26*0x2b+-0x17*0xf4]=Ll['g'],_0x18ae53[-0xd*0x2e7+0xd*0x2de+0x77]=Ll['b'],_0x18ae53;});}function Ee(_0x489bb9,_0x45b876,_0x49b279){is({'name':_0x489bb9,'defaultValue':_0x45b876,'dirtyShaderFunc':(_0x336519,_0x2b7d74)=>(_0x336519===0x2635+-0x1*0x8f9+0x74f*-0x4||_0x336519===0x1ab0+-0x17d4+0x1*-0x2db)!=(_0x2b7d74===-0x1*0x13a+-0x34f+-0x489*-0x1||_0x2b7d74===0x9c3+-0x1*0x1645+0xc83)}),Qc(_0x489bb9,_0x49b279);}function qa(_0x4b27ee,_0x4ca712){is({'name':_0x4b27ee,'defaultValue':null,'dirtyShaderFunc':(_0x19469b,_0x3b6536)=>!!_0x19469b==!!_0x3b6536}),Qc(_0x4b27ee,_0x4ca712);}function we(_0x63530f,_0x28b9c4){is({'name':_0x63530f,'defaultValue':_0x28b9c4});}function tM(){Mn('ambient',new Y(-0x1a1a+0x37b+0x16a0*0x1,-0x2528+0x223e+-0x1*-0x2eb,-0x34a*0x2+-0x1*-0x8ef+0x25a*-0x1)),Mn('diffuse',new Y(-0x2*0x1+-0x73f+0x742,-0x131d*0x1+0x16a1+-0x383,0xb3*0x1f+-0x4*-0x4e+-0x16e4)),Mn('specular',new Y(0x1d25*0x1+0x2*-0x853+-0xc7f,0x9*-0x35b+-0x4*-0x6d0+0x2f3,0x2b*0xd1+0x18b+0x2*-0x1253)),Mn('emissive',new Y(-0xe09*0x1+0x13*-0xa6+0xad*0x27,0xa*0x177+0x116f*-0x1+0x1f*0x17,-0x1f8f+0x44b+0x1b44)),Mn('sheen',new Y(0x4*-0x39b+-0x2*-0x6cd+0xd3,0x1c8f+-0x1*0x138a+-0x904,-0x1b44+0xc86+0x97*0x19)),Mn('attenuatio'+'n',new Y(0x4*0x2f6+0x3c4+-0xf9b,0x10d*0x7+0x112d+-0x15*0x12b,-0x1875+-0x1355+-0x1*-0x2bcb)),Ee('emissiveIn'+'tensity',-0x390+-0x1*0x4cd+-0x2*-0x42f),Ee('specularit'+'yFactor',-0x4ff*-0x7+-0x854+-0x1aa4),Ee('sheenGloss',-0x226+0x14bc+-0x2*0x94b),Ee('gloss',0x1ff3+0x3ed+-0x23e0+0.25),Ee('aoIntensit'+'y',0x1*-0x2d1+-0x1d13+0x1fe5),Ee('heightMapF'+'actor',0x2047*0x1+-0x145b+-0xbeb,(_0x3a5f40,_0x196819,_0x1c622a)=>_0x3a5f40['heightMapF'+'actor']*(-0x172b+0x2463+0x12*-0xbc+0.025)),Ee('opacity',-0x2*-0x638+-0x1618+-0x1*-0x9a9),Ee('alphaFade',0x1a*-0x12c+-0x844*0x2+0xfab*0x3),Ee('alphaTest',0x1f3+0x9*-0x2bf+0x16c4),Ee('bumpiness',0x11c0*-0x2+0x1ac1+-0x8c0*-0x1),Ee('normalDeta'+'ilMapBumpi'+'ness',0x1e86*-0x1+0x1e32+0x55),Ee('reflectivi'+'ty',-0x1*-0x595+-0x2*0x521+-0x257*-0x2),Ee('occludeSpe'+'cularInten'+'sity',0x268f+0x2411+-0x7*0xaa9),Ee('refraction',0x91*0x2d+0x124a+-0x2bc7),Ee('refraction'+'Index',(-0x768+0x129b*-0x1+-0x12*-0x172)/(0x2292+-0x94*-0x1e+0x1*-0x33e9+0.5)),Ee('dispersion',-0xe4f+-0x105*-0x17+0xc3*-0xc),Ee('thickness',-0x2437+-0x1906+0x3d3d*0x1),Ee('attenuatio'+'nDistance',-0x801+-0x1dfc+-0x1*-0x25fd),Ee('metalness',-0x1*0x1344+0xb82+0x7c3),Ee('anisotropy',-0xd1c*0x2+-0x145e*0x1+0x2e96*0x1),Ee('clearCoat',-0xbdf+-0x17b+0xd5a),Ee('clearCoatG'+'loss',0xb81+-0x102a+0x4aa),Ee('clearCoatB'+'umpiness',-0x579*0x1+0x38a+0x1f0),Ee('aoUvSet',-0x2582+-0x25a1+-0xf07*-0x5,null),Ee('iridescenc'+'e',0x281*-0x3+-0x563*0x1+0xce6),Ee('iridescenc'+'eRefractio'+'nIndex',(0x3*0x2b3+-0x47*-0x33+-0x1*0x163d)/(0x1123*-0x2+-0x24ed+0x239a*0x2+0.5)),Ee('iridescenc'+'eThickness'+'Min',0x707+-0x1a9c+0x22d*0x9),Ee('iridescenc'+'eThickness'+'Max',0x568*0x1+0x242e+-0x2996),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x295127,_0x4cae8d,_0x1111e4)=>{const _0x5cb2b6=_0x295127['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x726+0x12af+-0x19d2)},{'name':'envBoxMax','value':new Float32Array(-0x246a+-0x1c2a+0x4097)}]),_0x45dba2=_0x295127['cubeMapPro'+'jectionBox']['getMin'](),_0x5f109e=_0x5cb2b6[0xf7a*0x1+0x6ec+-0x3d*0x5e]['value'];_0x5f109e[0x23f8+-0x1789+-0xc6f]=_0x45dba2['x'],_0x5f109e[-0x22ba+-0x26*-0xe4+0xe3]=_0x45dba2['y'],_0x5f109e[-0x225+-0x6b3+0x1*0x8da]=_0x45dba2['z'];const _0x28272e=_0x295127['cubeMapPro'+'jectionBox']['getMax'](),_0xfe3d51=_0x5cb2b6[0x22bd*-0x1+-0x6*0xae+0x26d2*0x1]['value'];return _0xfe3d51[0x1*-0x13a1+0x15b5+0x1*-0x214]=_0x28272e['x'],_0xfe3d51[-0x233+-0x2d*-0x88+-0x15b4*0x1]=_0x28272e['y'],_0xfe3d51[0x1d*0x39+0xf2*-0x4+-0x2ab]=_0x28272e['z'],_0x5cb2b6;}),we('specularTi'+'nt',!(-0x213f*-0x1+0x15d+-0x229b)),we('specularit'+'yFactorTin'+'t',!(-0x1c5f*-0x1+0x132f*-0x1+-0x92f)),we('useMetalne'+'ss',!(-0xd97*-0x1+0x4d*0x10+-0x1266)),we('useMetalne'+'ssSpecular'+'Color',!(-0x1*0x11c+-0xb*0x177+-0x126*-0xf)),we('useSheen',!(-0x1*-0x1763+0x2517+0x89*-0x71)),we('enableGGXS'+'pecular',!(-0x185f+0x2*0x1f2+0x147c)),we('occludeDir'+'ect',!(-0x1*-0x1e83+-0x7*-0x399+-0x37b1)),we('opacityFad'+'esSpecular',!(0x1*-0x25f7+-0x491*0x4+-0x5*-0xb3f)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',vp),we('useDynamic'+'Refraction',!(0x1*-0x1801+-0x2219*0x1+0x11*0x36b)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0xaa*-0x11+0x1271*0x2+0x2*-0x1816)),we('useLightin'+'g',!(0x13f7+-0x1daa+0x9b3)),we('useTonemap',!(-0x1fda+-0x28*-0xa1+0x6b2)),we('useSkybox',!(0x25e1+-0x945+-0x1c9c)),we('forceUv1',!(-0x1*0x14cf+0x2*-0x1016+0x34fc)),we('pixelSnap',!(0x268c+0x42*-0x5c+-0xed3)),we('twoSidedLi'+'ghting',!(-0xfd*0x20+-0x1*0x18b6+0x1*0x3857)),we('nineSliced'+'Mode',void(0xd*-0x16d+-0x2368+-0x11fb*-0x3)),we('msdfTextAt'+'tribute',!(0xda9*-0x1+-0x23f+0xfe9)),we('useIridesc'+'ence',!(-0x4bd+0x8b4*0x2+-0xcaa*0x1)),we('glossInver'+'t',!(0x7*-0x32c+0x1cbd*0x1+-0x688)),we('sheenGloss'+'Invert',!(0x1*0x374+-0x14d5*0x1+0x1162)),we('clearCoatG'+'lossInvert',!(0x1820+-0x1*0xa7f+-0x4*0x368)),we('opacityDit'+'her',Ds),we('opacitySha'+'dowDither',Ds),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(-0xc11+0xc25*0x1+-0x13)),Ge('ao','g'),Ge('light','rgb',!(0x16f*-0x19+-0x126c+-0x3643*-0x1),-0x1*-0x19cd+-0x3*-0xb77+-0x3c31),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(-0x8e0+0x1be1*0x1+-0x1300)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0xd1c+0xa3*-0x28+0xc5d)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',Om),we('aoDetailMo'+'de',Om),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x1af70a=function(){return this['_prefilter'+'edCubemaps'];},_0x480140=function(_0x5ba0b2){const _0x5c99a9=this['_prefilter'+'edCubemaps'];_0x5ba0b2=_0x5ba0b2||[];let _0x506760=!(0x9*-0x44f+-0x1*-0x24eb+0x1*0x1dd),_0x1e54b8=!(-0x397+0x493+-0xfc);for(let _0x44d897=0x1908+-0x1*-0x589+0x19*-0x139;_0x44d897<-0x25cc+0x1b64+-0xa6e*-0x1;++_0x44d897){const _0x398f74=_0x5ba0b2[_0x44d897]||null;_0x5c99a9[_0x44d897]!==_0x398f74&&(_0x5c99a9[_0x44d897]=_0x398f74,_0x506760=!(0xd*0x2b4+0x1*0x21fb+-0x451f)),_0x1e54b8=_0x1e54b8&&!!_0x5c99a9[_0x44d897];}_0x506760&&(_0x1e54b8?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x5c99a9,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x1003+-0x3*-0x6f0+-0x359*0xb));},_0x362d54=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x362d54['slice'](),_0x480140,_0x1af70a);}tM();const dt=class dt{static['render'](_0x20cc0f,_0x324f3f){const _0x8d7497=_0x324f3f['device'],_0x45db74=_0x20cc0f['cells'],_0x3786f1=_0x20cc0f['lightsBuff'+'er'],_0x532f0a=_0x3786f1['boundsMin'],_0x2f31d3=_0x3786f1['boundsDelt'+'a'],_0xc3a138=_0x532f0a['clone']()['add'](_0x2f31d3),_0x2e1342=_0x3786f1['boundsDelt'+'a']['clone']()['div'](_0x45db74),_0x3dfe97=dt['gridPositi'+'ons'],_0x5c2a64=dt['gridColors'],_0xf76cc8=new Y(-0x883*-0x2+0x13d*0x1f+-0x3769+0.3,0x5b*0x6a+0x25ae+-0x4b5c*0x1+0.3,0x956+0xdb*0x24+-0x16*0x1d3+0.3),_0x434822=(_0x350605,_0x539ab5,_0x4b0c06,_0x14889f,_0x1e15cf,_0x5eac0e,_0x46d6b1,_0x5a05bd,_0x3278e7)=>{for(let _0x287b4a=-0x3e*0x24+-0x149f+0x25*0xcb;_0x287b4a<=_0x350605;_0x287b4a++)for(let _0x47df03=-0x9*0x137+-0x3f0+-0x1a7*-0x9;_0x47df03<=_0x539ab5;_0x47df03++){const _0xd11467=_0x4b0c06+_0x287b4a*_0x14889f,_0x2c2a0b=_0x1e15cf+_0x47df03*_0x5eac0e;_0x3278e7===-0x122+0x232f+-0x220d?_0x3dfe97['push'](_0xd11467,_0x46d6b1,_0x2c2a0b,_0xd11467,_0x5a05bd,_0x2c2a0b):_0x3278e7===-0x1ab+-0xa5e*0x2+-0xb34*-0x2?_0x3dfe97['push'](_0xd11467,_0x2c2a0b,_0x46d6b1,_0xd11467,_0x2c2a0b,_0x5a05bd):_0x3278e7===-0x1f8a+-0x210d+0x4099&&_0x3dfe97['push'](_0x46d6b1,_0xd11467,_0x2c2a0b,_0x5a05bd,_0xd11467,_0x2c2a0b);}};if(_0x434822(_0x45db74['x'],_0x45db74['z'],_0x532f0a['x'],_0x2e1342['x'],_0x532f0a['z'],_0x2e1342['z'],_0x532f0a['y'],_0xc3a138['y'],0x10ca+-0x1732+-0x668*-0x1),_0x434822(_0x45db74['x'],_0x45db74['y'],_0x532f0a['x'],_0x2e1342['x'],_0x532f0a['y'],_0x2e1342['y'],_0x532f0a['z'],_0xc3a138['z'],0x37c+-0x1*-0x1981+0x212*-0xe),_0x434822(_0x45db74['y'],_0x45db74['z'],_0x532f0a['y'],_0x2e1342['y'],_0x532f0a['z'],_0x2e1342['z'],_0x532f0a['x'],_0xc3a138['x'],0x322*-0x1+0x1*-0x1a8d+0x1db1),_0x3dfe97['length']){const _0xd4f409=_0x3dfe97['length']/(0x1*-0x301+0x1a00+-0x16fc);if(_0xd4f409!==_0x5c2a64['length']/(0x2f5*0x2+0x1*-0x22e1+0x1*0x1cfb)){_0x5c2a64['length']=0xa04+0x17d5*-0x1+0xdd1;for(let _0x29312b=-0xba4+0x23e4+-0x1840;_0x29312b<_0xd4f409;_0x29312b++)_0x5c2a64['push'](_0xf76cc8['r'],_0xf76cc8['g'],_0xf76cc8['b'],_0xf76cc8['a']);}_0x324f3f['drawLineAr'+'rays'](_0x3dfe97,_0x5c2a64),_0x3dfe97['length']=-0x2fd*0x5+-0x127b+-0x45*-0x7c;}let _0x43c0ac=dt['mesh'];_0x43c0ac||(_0x43c0ac=new Ie(_0x8d7497),_0x43c0ac['clear'](!(-0x3*-0xc20+-0x36d*0x6+0x96*-0x1b),!(-0x1090+0x1111*-0x2+0x32b2)),dt['mesh']=_0x43c0ac);const _0x581d95=[],_0x5a32ee=[],_0x3bd971=[],_0x34230e=_0x20cc0f['_cells']['x'],_0xc3cacc=_0x20cc0f['_cells']['z'],_0x337030=_0x20cc0f['counts'],_0x479ec5=_0x20cc0f['_maxCellLi'+'ghtCount'],_0x4c77c9=new T(),_0x173cfc=new T(),_0xacd764=new T(),_0x5b1761=_0x2f31d3['clone']()['div'](_0x45db74);let _0x1e90dc=0xeda*-0x1+0x1*0x23c9+-0x14ef;for(let _0x1b48c6=0x985*-0x4+0x565*0x1+0x20af;_0x1b48c6<_0x45db74['x'];_0x1b48c6++)for(let _0x2311f0=-0x2b*-0x74+-0xd4*0x22+0x8ac;_0x2311f0<_0x45db74['z'];_0x2311f0++)for(let _0x53a1cb=-0xcc6+-0x1*-0x1453+-0x78d;_0x53a1cb<_0x45db74['y'];_0x53a1cb++){const _0xd87ced=_0x1b48c6+_0x34230e*(_0x2311f0+_0x53a1cb*_0xc3cacc),_0x2402d5=_0x337030[_0xd87ced];if(_0x2402d5>-0x5*-0x422+0x17*-0x177+0xd07){_0x4c77c9['x']=_0x532f0a['x']+_0x5b1761['x']*_0x1b48c6,_0x4c77c9['y']=_0x532f0a['y']+_0x5b1761['y']*_0x53a1cb,_0x4c77c9['z']=_0x532f0a['z']+_0x5b1761['z']*_0x2311f0,_0x173cfc['add2'](_0x4c77c9,_0x5b1761),_0x581d95['push'](_0x4c77c9['x'],_0x4c77c9['y'],_0x173cfc['z']),_0x581d95['push'](_0x173cfc['x'],_0x4c77c9['y'],_0x173cfc['z']),_0x581d95['push'](_0x173cfc['x'],_0x173cfc['y'],_0x173cfc['z']),_0x581d95['push'](_0x4c77c9['x'],_0x173cfc['y'],_0x173cfc['z']),_0x581d95['push'](_0x173cfc['x'],_0x4c77c9['y'],_0x4c77c9['z']),_0x581d95['push'](_0x4c77c9['x'],_0x4c77c9['y'],_0x4c77c9['z']),_0x581d95['push'](_0x4c77c9['x'],_0x173cfc['y'],_0x4c77c9['z']),_0x581d95['push'](_0x173cfc['x'],_0x173cfc['y'],_0x4c77c9['z']),_0xacd764['lerp'](dt['colorLow'],dt['colorHigh'],_0x2402d5/_0x479ec5)['round']();for(let _0x41d2ce=0xb87+-0x1aa7*-0x1+-0x262e;_0x41d2ce<-0x2351+0x2383+-0x15*0x2;_0x41d2ce++)_0x5a32ee['push'](_0xacd764['x'],_0xacd764['y'],_0xacd764['z'],-0x1b9e*0x1+-0x204a*0x1+0x3be9);_0x3bd971['push'](_0x1e90dc*(0x2*-0xe14+0x1*0x2459+-0x829)+(0x2*0xec2+-0x1d46+-0x3e),_0x1e90dc*(-0x2db*-0x7+0xe5+0x1*-0x14da)+(0x18ee+-0xd0a*-0x2+-0x3301),_0x1e90dc*(0x1ff5+-0x22d7+-0x175*-0x2)+(0xc*-0x321+-0x6c2+0x8dd*0x5)),_0x3bd971['push'](_0x1e90dc*(0xb88+0x1e8*0xc+-0x2260)+(-0x1281+-0xc*-0x166+0xde*0x2),_0x1e90dc*(-0x1eb8+-0x1*-0x19ed+0x1*0x4d3)+(-0x239d+0x15b7+0xde7),_0x1e90dc*(0x1b9c+-0x4c*0x67+0x3*0x100)+(-0x196b+0x1184+0x87*0xf)),_0x3bd971['push'](_0x1e90dc*(-0x12e6*0x1+-0xa*0x107+0x1d34)+(-0x1fb4+-0x268c+0x4*0x1191),_0x1e90dc*(0x2ad*-0xc+-0x2578+0x22ce*0x2)+(-0x5*0x1e+0x1b37+-0x1a9c),_0x1e90dc*(-0x1b5e+0xce*-0x30+0x4206)+(0x11*0x11a+-0x6e3+-0x150*0x9)),_0x3bd971['push'](_0x1e90dc*(-0x135a*0x1+0x1ad6+-0x774)+(0x6fb*-0x5+0x1e69+0x485),_0x1e90dc*(0x1*-0x2272+-0x1bfc+0x82*0x7b)+(-0x9f*-0x15+0x10*0x166+-0x2366),_0x1e90dc*(0x1225+-0x1c1e+0xa01)+(0x1*0x1129+0x5*0x51d+-0x2*0x155a)),_0x3bd971['push'](_0x1e90dc*(0x7d*-0x5+0x26*-0xb5+0x1d57)+(0x18c+0x1135+0x95f*-0x2),_0x1e90dc*(0x1*0xc09+0x1*0xda6+-0x21*0xc7)+(-0x1*0x1235+0x10a2+0x195),_0x1e90dc*(0x1365+0x1d1f+-0x307c)+(-0xbb9+0x1d82+-0x11c3*0x1)),_0x3bd971['push'](_0x1e90dc*(0x904+-0xbf6*-0x1+0x14f2*-0x1)+(0x1*-0x741+-0x1319*-0x1+-0xbd6),_0x1e90dc*(0x22*-0x96+0x376*-0x3+0x1*0x1e56)+(-0x1552+0x203*-0x3+0x1b62),_0x1e90dc*(0x68*0x10+-0x20d9+-0x1*-0x1a61)+(0x1*-0x6a1+-0x9*-0x2fc+-0x1435)),_0x3bd971['push'](_0x1e90dc*(-0x2047+-0x1852+0x817*0x7)+(-0x2b*-0x49+-0x905*0x1+-0x1*0x33d),_0x1e90dc*(-0xd03+0x25d*-0x6+0x1b39)+(0x1bb1+-0x1453+-0x75e),_0x1e90dc*(0x3*-0xa+0xab*0x36+-0x23ec)+(0x1*0xba9+0x175e+0x2303*-0x1)),_0x3bd971['push'](_0x1e90dc*(-0xe3e*0x2+0x1d12+0x47*-0x2)+(-0x1e9b+-0x2702+0x459d),_0x1e90dc*(-0x1b03+0x59e+-0x449*-0x5)+(0x225c+0x121d+-0x3474),_0x1e90dc*(0x175f+0xf3*-0x29+0x1*0xf94)+(-0x20d+0x1aff+-0xc77*0x2)),_0x3bd971['push'](_0x1e90dc*(-0xa49*0x1+0x8*0x2f+0x8d9)+(0x11ac+-0x1c79+-0xace*-0x1),_0x1e90dc*(-0x2b*-0x62+0xc50*0x3+-0x355e)+(0x11*-0x1e+0xcbf*0x2+-0x177c),_0x1e90dc*(0x881+-0x762+-0x117)+(-0x1407+0x972+0xa97)),_0x3bd971['push'](_0x1e90dc*(-0x13eb*-0x1+-0x7c5+-0xc1e)+(-0x255*0xb+0x16ce*0x1+0x2dd),_0x1e90dc*(-0x1d9f*-0x1+-0xf44+-0xe53*0x1)+(-0x20bc+-0x13b0+0x1*0x3473),_0x1e90dc*(-0x23f4+0x2078+0x384)+(0x25d3+0x923*-0x4+-0x145)),_0x3bd971['push'](_0x1e90dc*(-0x19b*-0x1+0x2*0x795+-0x10bd)+(0x129a+-0x4b*0x1c+-0xa61),_0x1e90dc*(0x26fa+0x3*0x7be+0x17*-0x2b4)+(-0x1f*0x133+0x1d*-0x51+-0x15d*-0x22),_0x1e90dc*(0x2*-0x18d+0xd9f+-0xb3*0xf)+(0x5*-0x58f+-0x1*0x1623+0x31f4)),_0x3bd971['push'](_0x1e90dc*(0x1*0x1259+0x11*-0x1e9+0xe28)+(0x2101+-0x171d*0x1+-0x9e4),_0x1e90dc*(-0x2278+0x371*0x1+0x1f0f*0x1)+(-0xb*0x229+0x1050+-0x17e*-0x5),_0x1e90dc*(0x2197+0xd1c+0x2eab*-0x1)+(0xd+0x92*-0x7+0x3f7)),_0x1e90dc++;}}if(_0x1e90dc){if(_0x43c0ac['setPositio'+'ns'](_0x581d95),_0x43c0ac['setColors3'+'2'](_0x5a32ee),_0x43c0ac['setIndices'](_0x3bd971),_0x43c0ac['update'](Rs,!(0x3d*-0x82+0x2b*0x5a+-0x1f*-0x83)),!dt['meshInstan'+'ce']){const _0x1bd2c1=new us();_0x1bd2c1['useLightin'+'g']=!(0x2*-0x125+-0xbeb+-0x1*-0xe36),_0x1bd2c1['emissive']=new Y(0x86+0x1908+-0x198d,-0x2544+0x15b*0x1+-0x1*-0x23ea,0x670+0x2678+-0x79*0x5f),_0x1bd2c1['emissiveVe'+'rtexColor']=!(-0x755*0x5+0xc0b*0x2+0xc93),_0x1bd2c1['blendType']=Wc,_0x1bd2c1['depthWrite']=!(-0x4*-0x88b+0xf48+-0x3173),_0x1bd2c1['update']();const _0x2891a0=new De('WorldClust'+'ersDebug');_0x2891a0['worldTrans'+'form']=q['IDENTITY'],_0x2891a0['_dirtyWorl'+'d']=_0x2891a0['_dirtyNorm'+'al']=!(-0x174e+0x2*0xa22+0x13*0x29),dt['meshInstan'+'ce']=new Le(_0x43c0ac,_0x1bd2c1,_0x2891a0),dt['meshInstan'+'ce']['cull']=!(0x1*-0x1fac+0xf4f+0x105e);}const _0x28f0b3=dt['meshInstan'+'ce'];_0x324f3f['immediate']['drawMesh'](_0x28f0b3['material'],_0x28f0b3['node']['worldTrans'+'form'],null,_0x28f0b3,_0x324f3f['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(0x1021+-0x1ebd+0xe9d,0x2560+0x7bc+-0x2d1b,0xc33+0x1*-0x10e1+0xb*0x6d)),c(dt,'colorHigh',new T(-0x133*-0x3+-0x1*-0x1d48+-0x20b9,0x8*-0x16d+-0xb7f+0xb*0x215,-0x17bf+0x161*-0xc+0x80f*0x5));let Gu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let wi=null;const R0=()=>{if(!wi){const _0x51fab8=atob(sM);wi=Uint8Array['from'](_0x51fab8,_0x2c4bdd=>_0x2c4bdd['charCodeAt'](0x1a87+-0x1b01+0x7a));}},iM=()=>(R0(),wi);class rM{constructor(_0x54a589=-0x2284+0x7bd+0x1ac7){c(this,'seed',0x1e6e+0x2c8*0xa+-0xd2*0x47),(this['seed']=_0x54a589*(0x19a1+0x1f50+-0x38ed),R0());}['_next'](){this['seed']=(this['seed']+(-0x16ab+0x694+0x101b))%wi['length'];}['value'](){return this['_next'](),wi[this['seed']]/(0x1c0c+-0x1e8+-0x9d*0x29);}['vec4'](_0x4e56c7=new Q()){return this['_next'](),_0x4e56c7['set'](wi[this['seed']],wi[this['seed']+(-0x126a*0x2+0x1*0xb25+-0x19b*-0x10)],wi[this['seed']+(-0x220c+-0x2*-0xa6e+0xd32)],wi[this['seed']+(-0x1ded+0x8d*0x29+-0x7*-0x10d)])['mulScalar']((-0x197c+-0x36*0x4d+0x4a3*0x9)/(0x11*0x16a+-0x42d+-0x12de));}}const nM=[new T(-(0x46e+0xcf0+-0x115d),-0x2196+-0x24e2+0x4*0x119e,0x63a+-0x1401+0xdc7),new T(-0xa5a+-0x2533+-0x1*-0x2f8e,0x1*-0x21ab+0x419*-0x7+0x2*0x1f2d,-0x132*-0x4+0x23b0+-0x206*0x14),new T(-0x108d*-0x2+0x35e*-0xb+-0x7e*-0x8,-(-0x124*-0x1d+0x10f+-0x101*0x22),-0x1e79+0x1680+0x7f9),new T(-0x607*-0x1+0x13f1+-0x19f8,0x445*0x6+0x82f*-0x4+0x71f,0x1*0xd3d+0x23b7+-0x30f4),new T(-0x7*0x25+0xf9b+-0xe98,0x3*0x359+-0x17b5+0xdaa,-(0x1049+0x78a+-0xbe9*0x2)),new T(-0x12f4+0x3*0x293+0x1*0xb3b,-0x1df2+-0xd7f+0x2b71,-0x4d9*-0x1+0x1*0x1311+0x17e9*-0x1)];class aM{constructor(){c(this,'colors',new Float32Array((-0x2120+-0x1*0x1cda+0x3e00)*(0x13b3+0x193*0x2+-0x16d6)));}['update'](_0x2fae36,_0x3eb556){const _0x585bc4=this['colors'],{r:_0x693e47,g:_0x1bda91,b:_0x5af25d}=_0x2fae36;for(let _0x2ea32b=0x3*0x713+0x4d6*0x3+0x3*-0xbe9;_0x2ea32b<-0x217+0x2198*-0x1+0x23b5;_0x2ea32b++)_0x585bc4[_0x2ea32b*(-0x2*-0x69d+-0x1b0+-0xb87)]=_0x693e47,_0x585bc4[_0x2ea32b*(-0xa5d*-0x1+0xa*0x132+-0x164e)+(0x1d39*-0x1+0x2061+-0x327)]=_0x1bda91,_0x585bc4[_0x2ea32b*(0xa4*0x35+0xa*0x256+-0x394d)+(-0x2*-0x286+0x3*-0xa84+0xd*0x20a)]=_0x5af25d;for(let _0x239a40=0xc73*0x2+0x1029+-0x17*0x1c9;_0x239a40<_0x3eb556['length'];_0x239a40++){const _0x5de60f=_0x3eb556[_0x239a40];if(_0x5de60f['_type']===ae)for(let _0x5a3fae=0x157b+-0x527+0x5*-0x344;_0x5a3fae<-0x2e*0x4b+0x10*0xec+-0x140;_0x5a3fae++){const _0x263f15=Math['max'](nM[_0x5a3fae]['dot'](_0x5de60f['_direction']),0x2*0xef9+0x6*-0x1f0+0x3aa*-0x5)*_0x5de60f['_intensity'],_0x3174b5=_0x5de60f['_color'];_0x585bc4[_0x5a3fae*(0x2*0xa36+0x3*0x39b+0xe*-0x23b)]+=_0x3174b5['r']*_0x263f15,_0x585bc4[_0x5a3fae*(-0x1417+0x1d2e+-0x914)+(0x895+0x62*0x47+-0x11e1*0x2)]+=_0x3174b5['g']*_0x263f15,_0x585bc4[_0x5a3fae*(0x22bd*0x1+0x1bc1+-0x23*0x1c9)+(0x3db+0x14c5+0xc4f*-0x2)]+=_0x3174b5['b']*_0x263f15;}}}}const oM=(_0x109771,_0x503dfe,_0x82595f,_0x4d66b2)=>{const _0x4eaf2a=new he(_0x109771,{'name':''+_0x503dfe+_0x82595f,'width':_0x82595f,'height':_0x82595f,'format':Se,'addressU':et,'addressV':et,'type':Fi,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x2*0x638+0x3*-0x722+0x21d7)});return _0x4eaf2a['lock']()['set'](_0x4d66b2),_0x4eaf2a['unlock'](),_0x4eaf2a;},lM=new Bt(),hM=_0x3f03e7=>lM['get'](_0x3f03e7,()=>{const _0x2d7f62=iM(),_0x5bbff8=Math['sqrt'](_0x2d7f62['length']/(0x2*-0x1192+-0x1*-0x1666+-0x2*-0x661));return oM(_0x3f03e7,'BlueNoise',_0x5bbff8,_0x2d7f62);});class fn{constructor(_0x1b0e63,_0x263cd1){this['texture']=_0x1b0e63,this['cached']=!(-0x1532+-0x14ee+0x2a21),this['renderTarg'+'ets']=_0x263cd1;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x1ebbde=this['renderTarg'+'ets'];for(let _0x33efc4=0x5c+0x4*-0x716+0x1bfc;_0x33efc4<_0x1ebbde['length'];_0x33efc4++)_0x1ebbde[_0x33efc4]['destroy']();this['renderTarg'+'ets']['length']=0x20*-0x68+-0x1ff8+-0x2*-0x167c;}static['getShadowF'+'iltering'](_0x358830,_0x42af2a){return _0x42af2a===Wr?_0x358830['extTexture'+'FloatLinea'+'r']?tt:de:tt;}static['create'](_0x10fec4,_0x52655a){let _0x2c875b=null;return _0x52655a['_type']===Pe?_0x2c875b=this['createCube'+'map'](_0x10fec4,_0x52655a['_shadowRes'+'olution'],_0x52655a['_shadowTyp'+'e']):_0x2c875b=this['create2dMa'+'p'](_0x10fec4,_0x52655a['_shadowRes'+'olution'],_0x52655a['_shadowTyp'+'e']),_0x2c875b;}static['createAtla'+'s'](_0x2a146c,_0x451ec0,_0x5b1acd){const _0x327174=this['create2dMa'+'p'](_0x2a146c,_0x451ec0,_0x5b1acd),_0x5c9c1c=_0x327174['renderTarg'+'ets'],_0x41212f=_0x5c9c1c[0x4d8+0x1a5c+-0x1f34];for(let _0x376161=-0x20*0xd6+-0x13a*-0x18+-0x2b0;_0x376161<-0x622+-0x24d6+0x2afd;_0x376161++)_0x5c9c1c['push'](_0x41212f);return _0x327174;}static['create2dMa'+'p'](_0x163935,_0x58750e,_0x13a21c){var _0x2fb9cf;const _0x44c5ec=rr['get'](_0x13a21c);v['assert'](_0x44c5ec);let _0x4a6933=_0x44c5ec['format'];_0x4a6933===Li&&!_0x163935['textureFlo'+'atRenderab'+'le']&&_0x163935['textureHal'+'fFloatRend'+'erable']&&(_0x4a6933=Ec);const _0x7ee919=(_0x2fb9cf=St['get'](_0x4a6933))==null?void(0x209+-0xa1c+0x813):_0x2fb9cf['name'],_0x835c7d=this['getShadowF'+'iltering'](_0x163935,_0x13a21c),_0x1117e3=new he(_0x163935,{'profilerHint':Au,'format':_0x4a6933,'width':_0x58750e,'height':_0x58750e,'mipmaps':!(0xa5*-0x3b+0x259e+0x6a),'minFilter':_0x835c7d,'magFilter':_0x835c7d,'addressU':ne,'addressV':ne,'name':'ShadowMap2'+'D_'+_0x7ee919});let _0x10ec8d=null;return _0x44c5ec!=null&&_0x44c5ec['pcf']?(_0x1117e3['compareOnR'+'ead']=!(0x25f7+-0x1a57+-0x1*0xba0),_0x1117e3['compareFun'+'c']=Eh,_0x10ec8d=new pt({'depthBuffer':_0x1117e3})):_0x10ec8d=new pt({'colorBuffer':_0x1117e3,'depth':!(-0x1685+0x46*0x35+0xf*0x89)}),_0x163935['isWebGPU']&&(_0x10ec8d['flipY']=!(-0x1*-0x185b+0xe59*0x2+-0x350d)),new fn(_0x1117e3,[_0x10ec8d]);}static['createCube'+'map'](_0x1c96f4,_0x1c50c6,_0x565ddc){var _0x32d625;const _0x368056=rr['get'](_0x565ddc);v['assert'](_0x368056);const _0x309ac1=(_0x32d625=St['get'](_0x368056['format']))==null?void(-0x1*-0x599+-0x263*0x2+-0xd3):_0x32d625['name'],_0x5e9e77=_0x565ddc===Cs,_0xcb43c9=_0x5e9e77?de:tt,_0x4d39b4=new he(_0x1c96f4,{'profilerHint':Au,'format':_0x368056==null?void(0x7*0x16+-0x330+0x296):_0x368056['format'],'width':_0x1c50c6,'height':_0x1c50c6,'cubemap':!(0x51d+-0x24*-0x30+-0xbdd),'mipmaps':!(0x1366+0x799+-0x2b3*0xa),'minFilter':_0xcb43c9,'magFilter':_0xcb43c9,'addressU':ne,'addressV':ne,'name':'ShadowMapC'+'ube_'+_0x309ac1});_0x5e9e77||(_0x4d39b4['compareOnR'+'ead']=!(0x7a*-0xf+-0x13d8+0x1afe),_0x4d39b4['compareFun'+'c']=Eh);const _0x31097a=[];for(let _0x33ed1b=0x108f+0x1*-0x4bd+-0x1*0xbd2;_0x33ed1b<0x3*0x596+-0x44a*0x8+-0x4*-0x465;_0x33ed1b++)_0x5e9e77?_0x31097a['push'](new pt({'colorBuffer':_0x4d39b4,'face':_0x33ed1b,'depth':!(-0x1c*-0x4a+-0x565+-0x1*0x2b3)})):_0x31097a['push'](new pt({'depthBuffer':_0x4d39b4,'face':_0x33ed1b}));return new fn(_0x4d39b4,_0x31097a);}}const cM=[],dM=[],ti=new Q(),Md=new Q();class Pd{constructor(_0x713e37){this['size']=Math['floor'](_0x713e37['w']*(0xfd7*-0x1+0x199f+-0x5c8)),this['used']=!(-0x1*0xb03+-0x1a48+-0x1*-0x254c),this['lightId']=-(0x7*-0x75+0x1dcb+0x1a97*-0x1),this['rect']=_0x713e37;}}class uM{constructor(_0xc99f07){this['device']=_0xc99f07,this['version']=0x22a3+0x1ab*0xd+0x455*-0xd,this['shadowAtla'+'sResolutio'+'n']=0x4*0x798+0x83*-0x31+0x2b3,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x1b7d*0x1+-0x1593+0x5e7*-0x1,this['cookieAtla'+'sResolutio'+'n']=0x1b*0xc3+-0x1c2e+0x5d*0x15,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':as,'cubemap':!(0x13d7+-0x348+-0x108e),'mipmaps':!(0x1ebe+-0x425*0x4+-0x5*0x2d5),'minFilter':de,'magFilter':de,'addressU':ne,'addressV':ne}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x17ad+-0x4*-0x314+0x149*-0x1c),'flipY':!(0x1474+-0x1ed6+0xa62)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(0x188e+-0xb21*-0x1+-0x23af,-0x1924+0x25bc+-0xf8*0xd),new W(0x2669*0x1+0x150*-0x10+0x1169*-0x1,0x1fef+-0x5e8+-0x1a06),new W(-0x10fe+0x61*-0x3b+0x275a,-0x1486+0x29*0x8d+-0x1*0x20f),new W(-0x1*0xd51+0x1c69+0xf17*-0x1,0x17db+0x2*-0x2a2+-0x1296),new W(0xd26+0x1718+0x4*-0x90f,0x1530+-0x231d+0xded),new W(0x11*-0x236+-0x7cb+0xf21*0x3,-0x19*0x189+-0x1867+0x3ec9)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](-0xb3f*0x3+-0x9d5+0x2b93),this['allocateCo'+'okieAtlas'](0x725*0x2+0x3b7*0x6+-0x2493),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x5e112c;(_0x5e112c=this['shadowAtla'+'s'])==null||_0x5e112c['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0xf5e77,_0x410c1a;(_0xf5e77=this['cookieAtla'+'s'])==null||_0xf5e77['destroy'](),this['cookieAtla'+'s']=null,(_0x410c1a=this['cookieRend'+'erTarget'])==null||_0x410c1a['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x53b09d,_0x3d233d=Lt){var _0x3eeba9;const _0x358d7d=(_0x3eeba9=this['shadowAtla'+'s'])==null?void(0x1f*0xb5+-0x10*-0x222+0x1*-0x380b):_0x3eeba9['texture']['format'],_0x3be418=rr['get'](_0x3d233d)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x53b09d||_0x358d7d!==_0x3be418){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=fn['createAtla'+'s'](this['device'],_0x53b09d,_0x3d233d),this['shadowAtla'+'s']['cached']=!(0x6e8+-0x1970+0x1288);const _0x55cc16=(0x256a+0x29*-0x1e+-0x2098)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x55cc16,_0x55cc16,-(0x99a*-0x1+0x8f9+0xa3*0x1)*_0x55cc16,-(-0x4e0+0x15bb+-0x10d9)*_0x55cc16);}}['allocateCo'+'okieAtlas'](_0x795197){this['cookieAtla'+'s']['width']!==_0x795197&&(this['cookieRend'+'erTarget']['resize'](_0x795197,_0x795197),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x1136+-0x1bb5+0x35*0xd9),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x3ce36c=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x2ed*-0xb+-0xf*-0x22b+-0x40b4]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x3ce36c),this['_shadowAtl'+'asParams'][0x239b+0x1542+-0x38dd*0x1]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0xba3*0x3+-0x83f+0x27*-0xaf]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x2f16c4,_0xe34cc1){let _0x4ef5cb=_0xe34cc1['atlasSplit'];if(!_0x4ef5cb){const _0xd93c7c=Math['ceil'](Math['sqrt'](_0x2f16c4));_0x4ef5cb=dM,_0x4ef5cb[-0x1834+0x1e20+-0x5ec]=_0xd93c7c,_0x4ef5cb['length']=0x1856+-0x13d*0x7+0x191*-0xa;}if(!((_0x58b760,_0x55a52e)=>_0x58b760['length']===_0x55a52e['length']&&_0x58b760['every']((_0x27bfe6,_0x3101ea)=>_0x27bfe6===_0x55a52e[_0x3101ea]))(_0x4ef5cb,this['atlasSplit'])){this['version']++,this['slots']['length']=0x9*0x1d5+0x1df9+-0x2e76,this['atlasSplit']['length']=0xebd+-0x1b8d+0xcd0,this['atlasSplit']['push'](..._0x4ef5cb);const _0x507383=this['atlasSplit'][0xd28+0x1d39+-0x2a61];if(_0x507383>0x1*-0x907+-0x5*-0x259+-0x2b5){const _0x117e66=(0xc95*0x1+0x1b3f+-0x27d3)/_0x507383;for(let _0x1d8fb5=0x177e+0x1b52+-0x32d0;_0x1d8fb5<_0x507383;_0x1d8fb5++)for(let _0x139969=0x25c9*0x1+0x1206+-0x37cf;_0x139969<_0x507383;_0x139969++){const _0x28adb2=new Q(_0x1d8fb5*_0x117e66,_0x139969*_0x117e66,_0x117e66,_0x117e66),_0x234a77=this['atlasSplit'][0x265b+0xe*0x251+-0x14*0x38a+_0x1d8fb5*_0x507383+_0x139969];if(_0x234a77>-0x1418+0xf03+-0x7*-0xba){for(let _0x39d830=0x2*0xcca+0x216a+0x68e*-0x9;_0x39d830<_0x234a77;_0x39d830++)for(let _0x263ba4=-0x16fd+0x1f*0x104+-0x87f;_0x263ba4<_0x234a77;_0x263ba4++){const _0x59a18c=_0x117e66/_0x234a77,_0x4dd911=new Q(_0x28adb2['x']+_0x39d830*_0x59a18c,_0x28adb2['y']+_0x263ba4*_0x59a18c,_0x59a18c,_0x59a18c);this['slots']['push'](new Pd(_0x4dd911));}}else this['slots']['push'](new Pd(_0x28adb2));}}else this['slots']['push'](new Pd(new Q(0xd50*0x1+0x1*-0x2114+0x13c4,0x26f9+0x1e6a+0x1*-0x4563,0x23d5*-0x1+0x129f+-0x27*-0x71,-0x3*-0x26b+0x1*-0x15df+0xe9f)));this['slots']['sort']((_0x542b1f,_0x208054)=>_0x208054['size']-_0x542b1f['size']);}}['collectLig'+'hts'](_0x3f7966,_0x48958d){const _0x1d9904=_0x48958d['cookiesEna'+'bled'],_0x1abcc2=_0x48958d['shadowsEna'+'bled'];let _0x50379a=!(-0x1153+0x3*0x6c3+0x2f5*-0x1),_0x326221=!(-0x12a3+-0x1a2+0x1446*0x1);const _0xf50c79=cM;return _0xf50c79['length']=0xe*0x145+-0x12ad*0x1+0xe7,(_0x1d9904||_0x1abcc2)&&(_0x4e25af=>{for(let _0x3f9904=0x1367+0x9e2+-0x1d49;_0x3f9904<_0x4e25af['length'];_0x3f9904++){const _0x4e7a8e=_0x4e25af[_0x3f9904];if(_0x4e7a8e['visibleThi'+'sFrame']){const _0x166f3e=_0x1abcc2&&_0x4e7a8e['castShadow'+'s'],_0x3dae49=_0x1d9904&&!!_0x4e7a8e['cookie'];_0x50379a||(_0x50379a=_0x166f3e),_0x326221||(_0x326221=_0x3dae49),(_0x166f3e||_0x3dae49)&&_0xf50c79['push'](_0x4e7a8e);}}})(_0x3f7966),_0xf50c79['sort']((_0x6e494f,_0x37ca2c)=>_0x37ca2c['maxScreenS'+'ize']-_0x6e494f['maxScreenS'+'ize']),_0x50379a&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x48958d['shadowType']),_0x326221&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x50379a||_0x326221)&&this['subdivide'](_0xf50c79['length'],_0x48958d),_0xf50c79;}['setupSlot'](_0xb405d0,_0x2ec08b){_0xb405d0['atlasViewp'+'ort']['copy'](_0x2ec08b);const _0x24f845=_0xb405d0['numShadowF'+'aces'];for(let _0x2f9683=0xe*-0x6d+0x43*0x40+-0xaca;_0x2f9683<_0x24f845;_0x2f9683++)if(_0xb405d0['castShadow'+'s']||_0xb405d0['_cookie']){if(ti['copy'](_0x2ec08b),Md['copy'](_0x2ec08b),_0xb405d0['_type']===Re&&ti['add'](this['scissorVec']),_0xb405d0['_type']===Pe){const _0x35dd42=ti['z']/(-0x1073+-0x1b29+0x2b9f),_0x54329d=this['cubeSlotsO'+'ffsets'][_0x2f9683];ti['x']+=_0x35dd42*_0x54329d['x'],ti['y']+=_0x35dd42*_0x54329d['y'],ti['z']=_0x35dd42,ti['w']=_0x35dd42,Md['copy'](ti);}if(_0xb405d0['castShadow'+'s']){const _0xbd98bf=_0xb405d0['getRenderD'+'ata'](null,_0x2f9683);_0xbd98bf['shadowView'+'port']['copy'](ti),_0xbd98bf['shadowScis'+'sor']['copy'](Md);}}}['assignSlot'](_0x46ebc6,_0x12c7fd,_0x7520cd){_0x46ebc6['atlasViewp'+'ortAllocat'+'ed']=!(0x1c5d+-0xdb*0x25+-0x1*-0x34a);const _0x13a935=this['slots'][_0x12c7fd];_0x13a935['lightId']=_0x46ebc6['id'],_0x13a935['used']=!(-0x1701+0x8b7+-0xe4a*-0x1),_0x7520cd&&(_0x46ebc6['atlasSlotU'+'pdated']=!(0x185b+0x1da5+0x10*-0x360),_0x46ebc6['atlasVersi'+'on']=this['version'],_0x46ebc6['atlasSlotI'+'ndex']=_0x12c7fd);}['update'](_0x2224a9,_0x425408){this['shadowAtla'+'sResolutio'+'n']=_0x425408['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x425408['cookieAtla'+'sResolutio'+'n'];const _0x1b424a=this['collectLig'+'hts'](_0x2224a9,_0x425408);if(_0x1b424a['length']>-0xb*0x13a+-0x3df*-0x7+-0xd9b){const _0x521175=this['slots'];for(let _0x1576c3=0x8*0x3af+0x24db+0x1*-0x4253;_0x1576c3<_0x521175['length'];_0x1576c3++)_0x521175[_0x1576c3]['used']=!(0x109f*0x1+-0x1*0x151+-0xf4d);const _0x283b85=Math['min'](_0x1b424a['length'],_0x521175['length']);for(let _0x15799d=-0x7*0x47b+0x1*0x2589+-0x62c;_0x15799d<_0x283b85;_0x15799d++){const _0x5c92d2=_0x1b424a[_0x15799d];_0x5c92d2['castShadow'+'s']&&(_0x5c92d2['_shadowMap']=this['shadowAtla'+'s']);const _0x316bc7=_0x521175[_0x5c92d2['atlasSlotI'+'ndex']];if(_0x5c92d2['atlasVersi'+'on']===this['version']&&_0x5c92d2['id']===(_0x316bc7==null?void(0x7*-0x25e+0x351*0x1+0x1d*0x75):_0x316bc7['lightId'])){const _0x439b5e=_0x521175[_0x5c92d2['atlasSlotI'+'ndex']];_0x439b5e['size']===_0x521175[_0x15799d]['size']&&!_0x439b5e['used']&&this['assignSlot'](_0x5c92d2,_0x5c92d2['atlasSlotI'+'ndex'],!(0xac2+0x5*0x73b+-0x13*0x278));}}let _0x5d405c=0x810*0x1+-0xf78+0x4f*0x18;for(let _0x30f664=-0xaef+0x1*-0xf16+0x1a05;_0x30f664<_0x283b85;_0x30f664++){for(;_0x5d405c<_0x521175['length']&&_0x521175[_0x5d405c]['used'];)_0x5d405c++;const _0x2c6dae=_0x1b424a[_0x30f664];_0x2c6dae['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x2c6dae,_0x5d405c,!(-0x1*-0xddc+-0x1*-0x1fa0+-0x4*0xb5f));const _0x36653c=_0x521175[_0x2c6dae['atlasSlotI'+'ndex']];this['setupSlot'](_0x2c6dae,_0x36653c['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x5a796d=>{_0x5a796d['forEach'](_0x401ddd=>{_0x401ddd['destroy']();});}),this['cache']['clear']();}['getKey'](_0x54c052){const _0x19c160=_0x54c052['_type']===Pe,_0x216a5e=_0x54c052['_shadowTyp'+'e'],_0x8bea3b=_0x54c052['_shadowRes'+'olution'];return _0x19c160+'-'+_0x216a5e+'-'+_0x8bea3b;}['get'](_0x3810e6,_0x10d1d3){const _0x40ce4f=this['getKey'](_0x10d1d3),_0xd7d1c8=this['cache']['get'](_0x40ce4f);if(_0xd7d1c8&&_0xd7d1c8['length'])return _0xd7d1c8['pop']();const _0x25619e=fn['create'](_0x3810e6,_0x10d1d3);return _0x25619e['cached']=!(0x25a3+0x1c99+-0x423c),_0x25619e;}['add'](_0x3176c3,_0x4a0f15){const _0xfe0408=this['getKey'](_0x3176c3),_0x4e92e8=this['cache']['get'](_0xfe0408);_0x4e92e8?_0x4e92e8['push'](_0x4a0f15):this['cache']['set'](_0xfe0408,[_0x4a0f15]);}}class pM extends fs{constructor(_0x5a1394,_0x55b61c,_0x3025bc,_0x27a164,_0x130893){super(_0x5a1394),_n['setName'](this,this['name']+'-'+_0x3025bc['_node']['name']),this['requiresCu'+'bemaps']=!(0x2*-0x1071+-0x1*0x637+0x2cb*0xe),this['shadowRend'+'erer']=_0x55b61c,this['light']=_0x3025bc,this['face']=_0x27a164,this['applyVsm']=_0x130893,this['shadowCame'+'ra']=_0x55b61c['prepareFac'+'e'](_0x3025bc,null,_0x27a164),_0x55b61c['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0xa*0x92+-0x10a9+-0x231*-0x5));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x85d*0x3+0x1*0x1efd+-0x3813));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x2ca3f0,_0x54f435){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x2ca3f0,this['shadowRend'+'erer']=_0x54f435,this['device']=_0x2ca3f0['device']);}['cull'](_0x4f5cd3,_0x3cbc5d,_0x39bf89=null){const _0x31b098=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x4f5cd3['visibleThi'+'sFrame']=!(0x2425+0x13*0x1f5+-0x1a*0x2d2),_0x31b098||_0x4f5cd3['_shadowMap']||(_0x4f5cd3['_shadowMap']=fn['create'](this['device'],_0x4f5cd3));const _0xecb6cd=_0x4f5cd3['_type'],_0x2acb22=_0xecb6cd===Re?0xc76+0xc48+-0x18bd:-0x41b+0x31f*0x2+0x1*-0x21d;for(let _0x502c8d=0x25f9+-0x2f5+-0x2304;_0x502c8d<_0x2acb22;_0x502c8d++){const _0x24e222=_0x4f5cd3['getRenderD'+'ata'](null,_0x502c8d),_0x1457de=_0x24e222['shadowCame'+'ra'];_0x1457de['nearClip']=_0x4f5cd3['attenuatio'+'nEnd']/(0x1d*-0xa4+0x4ff*-0x5+-0x2f77*-0x1),_0x1457de['farClip']=_0x4f5cd3['attenuatio'+'nEnd'];const _0x31bd8b=_0x1457de['_node'],_0x52e07c=_0x4f5cd3['_node'];if(_0x31bd8b['setPositio'+'n'](_0x52e07c['getPositio'+'n']()),_0xecb6cd===Re)_0x1457de['fov']=_0x4f5cd3['_outerCone'+'Angle']*(0x1ba3+-0x469+-0x1738),_0x31bd8b['setRotatio'+'n'](_0x52e07c['getRotatio'+'n']()),_0x31bd8b['rotateLoca'+'l'](-(0x1331+0xc*0x19+-0x1403),0x877+0xa57*0x3+-0x277c,0x84*-0x13+0xa2b+-0x5f);else{if(_0xecb6cd===Pe){if(_0x31b098){const _0x455522=(0xd6*-0xe+-0x1*0x1d+0xbd3)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x4f5cd3['atlasViewp'+'ort']['z']/(0x31*0x3+-0x1b38+0x1aa8))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x1457de['fov']=Math['atan'](0x239f+-0x1c5f*0x1+-0x35*0x23+_0x455522)*N['RAD_TO_DEG']*(-0x1460+0x1df7+-0x1*0x995);}else _0x1457de['fov']=0xe5*0x10+-0x663+0x793*-0x1;}}this['renderer']['updateCame'+'raFrustum'](_0x1457de),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x3cbc5d,_0x4f5cd3,_0x24e222['visibleCas'+'ters'],_0x1457de,_0x39bf89);}}['prepareLig'+'hts'](_0xeb8a94,_0xa57f95){let _0x1df722;for(let _0x14ebc8=-0x1*-0xf61+-0x86c+0x6f5*-0x1;_0x14ebc8<_0xa57f95['length'];_0x14ebc8++){const _0x4c2047=_0xa57f95[_0x14ebc8];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x4c2047)&&_0x4c2047['atlasViewp'+'ortAllocat'+'ed']){_0xeb8a94['push'](_0x4c2047);for(let _0x171f0f=-0x114a+0x5*0x2e+-0x1*-0x1064;_0x171f0f<_0x4c2047['numShadowF'+'aces'];_0x171f0f++)_0x1df722=this['shadowRend'+'erer']['prepareFac'+'e'](_0x4c2047,null,_0x171f0f);}}return _0x1df722;}['buildNonCl'+'usteredRen'+'derPasses'](_0x525872,_0x3fa567){for(let _0x4a4e60=0x13e3*0x1+0x2b*0x7+-0x10*0x151;_0x4a4e60<_0x3fa567['length'];_0x4a4e60++){const _0x1cf8b1=_0x3fa567[_0x4a4e60];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x1cf8b1)){const _0x1fb431=_0x1cf8b1['_type']===Re,_0x2f65c4=_0x1cf8b1['numShadowF'+'aces'];for(let _0x2a3fe9=0x2500*0x1+-0x1*0x264b+0x1*0x14b;_0x2a3fe9<_0x2f65c4;_0x2a3fe9++){const _0x1f6c66=new pM(this['device'],this['shadowRend'+'erer'],_0x1cf8b1,_0x2a3fe9,_0x1fb431);_0x525872['addRenderP'+'ass'](_0x1f6c66);}}}}}class _M extends fs{constructor(_0x52803b,_0x1a0fd1,_0x424d83,_0x2d7bbb,_0x2e6d9b){super(_0x52803b),_n['setName'](this,this['name']+'-'+_0x424d83['_node']['name']),this['shadowRend'+'erer']=_0x1a0fd1,this['light']=_0x424d83,this['camera']=_0x2d7bbb,this['allCascade'+'sRendering']=_0x2e6d9b;}['execute'](){const {light:_0x392731,camera:_0x98cbe9,shadowRenderer:_0x4f48c2,allCascadesRendering:_0x55e367}=this,_0x343497=_0x392731['numShadowF'+'aces'],_0x5c81e3=_0x392731['shadowUpda'+'teOverride'+'s'];for(let _0x3f2781=0x20*-0x72+-0xb21+0x1961;_0x3f2781<_0x343497;_0x3f2781++)(_0x5c81e3==null?void(0xe68+0xcbd+-0x1b25):_0x5c81e3[_0x3f2781])!==Is&&_0x4f48c2['renderFace'](_0x392731,_0x98cbe9,_0x3f2781,!_0x55e367),(_0x5c81e3==null?void(0x1cf+0x1a3c+0x3*-0x959):_0x5c81e3[_0x3f2781])===dn&&(_0x5c81e3[_0x3f2781]=Is);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Fl=new _e(),si=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Rd={'min':0x0,'max':0x0};function gM(_0x12981e,_0x296a54,_0x288f40){Fe[-0xe7b+0xec7+-0x4c]['x']=Fe[0x56d+0x1387+-0x18f3]['x']=Fe[0x2266+0x1*0x22e0+-0x4544]['x']=Fe[0x332+-0xa*-0x1df+-0x15e5]['x']=_0x296a54['x'],Fe[0x35b*0x4+-0x194*0x1+0xbd7*-0x1]['y']=Fe[-0x44*-0x26+-0x16b6+0xca1]['y']=Fe[0xad5*-0x1+0x17ee+-0xd12]['y']=Fe[-0xa1*-0x8+0x25f5+-0x2af8]['y']=_0x296a54['y'],Fe[-0xa53+0xa93*-0x1+0x14e8]['z']=Fe[-0x1d65+0x21aa+-0x1*0x442]['z']=Fe[0x1f*-0xc7+0x7*0x2d+0x5b9*0x4]['z']=Fe[0xa29+0x2213+-0x1*0x2c35]['z']=_0x296a54['z'],Fe[-0xf82+0x130+-0x16f*-0xa]['x']=Fe[0xae0+0xc66+-0x1741*0x1]['x']=Fe[-0x10c0*0x1+-0x2*0x7db+0x207c]['x']=Fe[0x8*0xa9+-0x9fc+-0x4bb*-0x1]['x']=_0x288f40['x'],Fe[0x24b6+0x1*-0x195b+-0xab*0x11]['y']=Fe[0x1*-0xdcc+-0x9ee+0x17bc]['y']=Fe[0xbc*-0x23+-0x1b4f+-0x11ad*-0x3]['y']=Fe[0x19e8+0xa68+0x742*-0x5]['y']=_0x288f40['y'],Fe[-0x891+0x1a93+-0x1202]['z']=Fe[-0x72*0x4e+0x1aa7+0x19e*0x5]['z']=Fe[0x1e33+-0x121b+0x1*-0xc14]['z']=Fe[-0x15*0x1+0x2*-0x82+0x11e]['z']=_0x288f40['z'];let _0x1fcb27=-0xd9dca212+0x8b*0x32b083f+0x1758b0bdc,_0x274231=-(-0x3*-0x151258779+-0x18d4195*-0x269+-0x3d2f68f*0x167);for(let _0xd232ab=-0x43c*-0x8+0x314*-0x1+-0x12*0x1b6;_0xd232ab<-0x1*-0xae3+0x3*0x107+-0xdf0;++_0xd232ab){_0x12981e['transformP'+'oint'](Fe[_0xd232ab],Fe[_0xd232ab]);const _0x390270=Fe[_0xd232ab]['z'];_0x390270<_0x1fcb27&&(_0x1fcb27=_0x390270),_0x390270>_0x274231&&(_0x274231=_0x390270);}return Rd['min']=_0x1fcb27,Rd['max']=_0x274231,Rd;}class yM{constructor(_0x3c8cdc,_0x20ea96){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x3c8cdc,this['shadowRend'+'erer']=_0x20ea96,this['device']=_0x3c8cdc['device']);}['cull'](_0x3694fa,_0xa8043f,_0x35f4ed,_0x2ce00b=null){_0x3694fa['visibleThi'+'sFrame']=!(0x17c*0x1a+-0x77f+0x13*-0x1a3),_0x3694fa['_shadowMap']||(_0x3694fa['_shadowMap']=fn['create'](this['device'],_0x3694fa));const _0x3d2cdf=_0x35f4ed['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x3694fa,_0x3d2cdf,Math['min'](_0x35f4ed['_farClip'],_0x3694fa['shadowDist'+'ance']));const _0x1d0a08=_0x3694fa['shadowUpda'+'teOverride'+'s'];for(let _0x11b83a=0x10b*0x3+0x1f7c+-0x229d;_0x11b83a<_0x3694fa['numCascade'+'s']&&(_0x1d0a08==null?void(-0x1*0x16b8+0x18e+0x152a):_0x1d0a08[_0x11b83a])!==Is;_0x11b83a++){const _0x363c75=_0x3694fa['getRenderD'+'ata'](_0x35f4ed,_0x11b83a),_0x4e8a11=_0x363c75['shadowCame'+'ra'];_0x4e8a11['renderTarg'+'et']=_0x3694fa['_shadowMap']['renderTarg'+'ets'][-0x1*-0x12b7+0xc4a+-0x1f01],_0x363c75['shadowView'+'port']['copy'](_0x3694fa['cascades'][_0x11b83a]),_0x363c75['shadowScis'+'sor']['copy'](_0x3694fa['cascades'][_0x11b83a]);const _0x2c7e04=_0x4e8a11['_node'],_0x1c6409=_0x3694fa['_node'];_0x2c7e04['setPositio'+'n'](_0x1c6409['getPositio'+'n']()),_0x2c7e04['setRotatio'+'n'](_0x1c6409['getRotatio'+'n']()),_0x2c7e04['rotateLoca'+'l'](-(-0x17a6+0x3c2+0x143e),0x2*-0x1024+-0x1*-0x175b+-0x1*-0x8ed,-0x1a56+-0x8f9*-0x2+-0xb3*-0xc);const _0x33f8ee=_0x11b83a===0x5ab*0x4+0x61b*-0x3+-0x1*0x45b?_0x3d2cdf:_0x3694fa['_shadowCas'+'cadeDistan'+'ces'][_0x11b83a-(-0x27*-0x1+-0x1eed+0x1ec7)],_0x3bf7cb=_0x3694fa['_shadowCas'+'cadeDistan'+'ces'][_0x11b83a],_0x3ae076=_0x35f4ed['getFrustum'+'Corners'](_0x33f8ee,_0x3bf7cb);si['set'](0x1436+-0xecd+-0x1*0x569,-0x998*0x1+0xa1b+-0x83,-0x1984+0x6b3+0x12d1);const _0x2ec3b1=_0x35f4ed['node']['getWorldTr'+'ansform']();for(let _0x3b3009=0x2212*-0x1+0x8cb*0x1+0x1947;_0x3b3009<0xb5b+-0x251e*-0x1+-0x3071;_0x3b3009++)_0x2ec3b1['transformP'+'oint'](_0x3ae076[_0x3b3009],_0x3ae076[_0x3b3009]),si['add'](_0x3ae076[_0x3b3009]);si['mulScalar']((0x923*0x4+0x38b*-0x4+-0x53*0x45)/(-0x44*0x80+0x1f61*-0x1+-0xd15*-0x5));let _0x436df4=-0x1*-0xe01+-0x11ab+0x2*0x1d5;for(let _0x3f6378=0x448*-0x8+-0xd5*0x10+-0xbe4*-0x4;_0x3f6378<-0x18f5+-0x20ee+0x1*0x39eb;_0x3f6378++){const _0x85a59e=_0x3ae076[_0x3f6378]['sub'](si)['length']();_0x85a59e>_0x436df4&&(_0x436df4=_0x85a59e);}const _0x2e1ff9=_0x2c7e04['right'],_0x1afcea=_0x2c7e04['up'],_0x5c6db7=_0x2c7e04['forward'],_0x3da1f7=(0x1cdc+-0x17c2*0x1+-0x2*0x28d+0.25)*_0x3694fa['_shadowRes'+'olution']/_0x436df4,_0x12c526=Math['ceil'](si['dot'](_0x1afcea)*_0x3da1f7)/_0x3da1f7,_0x44d560=Math['ceil'](si['dot'](_0x2e1ff9)*_0x3da1f7)/_0x3da1f7,_0x4c85ac=_0x1afcea['mulScalar'](_0x12c526),_0x5f41e1=_0x2e1ff9['mulScalar'](_0x44d560),_0xe88ece=si['dot'](_0x5c6db7),_0x340ece=_0x5c6db7['mulScalar'](_0xe88ece);si['add2'](_0x4c85ac,_0x5f41e1)['add'](_0x340ece),_0x2c7e04['setPositio'+'n'](si),_0x2c7e04['translateL'+'ocal'](-0x1ef*-0x4+0x1aa6+-0x2262,0xfd2+-0x7*-0x509+0x11*-0x301,-0x2*-0xa763f+0x51a63+-0x150b*0x83),_0x4e8a11['nearClip']=0x3b9*-0x7+-0x244d+0xd*0x4cc+0.01,_0x4e8a11['farClip']=-0x2a13cc+-0x1d5c48+-0x4*-0x197d25,_0x4e8a11['orthoHeigh'+'t']=_0x436df4,this['renderer']['updateCame'+'raFrustum'](_0x4e8a11),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0xa8043f,_0x3694fa,_0x363c75['visibleCas'+'ters'],_0x4e8a11,_0x2ce00b);let _0x266678=!(-0x9b*0x16+0x67b+-0x11*-0x67);const _0xb0fec9=_0x363c75['visibleCas'+'ters'];for(let _0x42ff41=-0x22dd+0x1*-0x841+0x158f*0x2;_0x42ff41<_0xb0fec9['length'];_0x42ff41++){const _0x189dfa=_0xb0fec9[_0x42ff41];_0x266678?(_0x266678=!(-0x2377*0x1+-0x31*-0x17+-0x3*-0xa5b),Fl['copy'](_0x189dfa['aabb'])):Fl['add'](_0x189dfa['aabb']);}d_['copy'](_0x2c7e04['getWorldTr'+'ansform']())['invert']();const _0x1d4357=gM(d_,Fl['getMin'](),Fl['getMax']());_0x2c7e04['translateL'+'ocal'](-0x1a29+0x154e+0x4db,-0x79*0x2+0x1f02+-0x3c2*0x8,_0x1d4357['max']+(-0x9ae+-0x12f9+-0x9*-0x32f+0.1)),_0x4e8a11['farClip']=_0x1d4357['max']-_0x1d4357['min']+(-0x1da1+-0x8*-0x475+-0x607+0.2),_0x363c75['projection'+'Compensati'+'on']=_0x436df4;}}['generateSp'+'litDistanc'+'es'](_0x36222f,_0x228d9d,_0x364474){_0x36222f['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x364474);for(let _0x4da606=0x1612+0x668+-0x1c79*0x1;_0x4da606<_0x36222f['numCascade'+'s'];_0x4da606++){const _0x3091b3=_0x4da606/_0x36222f['numCascade'+'s'],_0x1e329d=_0x228d9d+(_0x364474-_0x228d9d)*_0x3091b3,_0x2c8886=_0x228d9d*(_0x364474/_0x228d9d)**_0x3091b3,_0x579382=N['lerp'](_0x1e329d,_0x2c8886,_0x36222f['cascadeDis'+'tribution']);_0x36222f['_shadowCas'+'cadeDistan'+'ces'][_0x4da606-(-0x163*-0x13+-0xc98+-0x58*0x28)]=_0x579382;}}['getLightRe'+'nderPass'](_0x11c318,_0x17b54c){v['assert'](_0x11c318&&_0x11c318['_type']===ae);let _0x773f77=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x11c318)){const _0x467ffa=_0x11c318['numShadowF'+'aces'],_0x148fad=_0x11c318['shadowUpda'+'teOverride'+'s'];let _0x572a50=!(0x11d6+0x2655+0x1*-0x382b),_0x307316;for(let _0x5907f1=0x2c8+0x4c6+-0x78e;_0x5907f1<_0x467ffa;_0x5907f1++)(_0x148fad==null?void(-0x13f*-0xe+0x3f3*-0x3+-0x599*0x1):_0x148fad[_0x5907f1])===Is&&(_0x572a50=!(-0x1da0+0x1046*0x2+-0x53*0x9)),_0x307316=this['shadowRend'+'erer']['prepareFac'+'e'](_0x11c318,_0x17b54c,_0x5907f1);_0x773f77=new _M(this['device'],this['shadowRend'+'erer'],_0x11c318,_0x17b54c,_0x572a50),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x773f77,_0x307316,_0x572a50);}return _0x773f77;}}const Id=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(-0x5e4+-0x10d0+0x12*0x143),Xa=new Q(0x1*-0x2231+0x4ab*0x1+-0x1d87*-0x1,-0x3*0xac0+0xe52+0x11ef,0x7*-0x24b+-0xfe8+0x3*0xaa7,-0x617*-0x5+0x1837+-0x36aa),p_=new q();function xM(_0x105e49,_0x278c36){return Math['exp'](-(_0x105e49*_0x105e49)/((0x1e*0x14+-0x1*0x15fb+0x13a5)*_0x278c36*_0x278c36));}function SM(_0x41dbdc){const _0x1e8827=(_0x41dbdc-(0x26d2+-0x76*-0x8+-0x2a81))/(-0xf6d*-0x2+0x18c7+-0x379b),_0x5e70d4=(_0x41dbdc-(0xea2+-0x3*-0x481+-0x1c24))*(-0x3f*0x4f+0x10e8*-0x2+0x1*0x3541+0.5),_0x490bb9=new Array(_0x41dbdc);let _0x4e8dfb=-0x13df*0x1+-0x1457+-0x2836*-0x1;for(let _0x83f991=0x69a+-0x25fb+0x1f61;_0x83f991<_0x41dbdc;++_0x83f991)_0x490bb9[_0x83f991]=xM(_0x83f991-_0x5e70d4,_0x1e8827),_0x4e8dfb+=_0x490bb9[_0x83f991];for(let _0x32da88=0x894+-0x1e6b*0x1+0x1*0x15d7;_0x32da88<_0x41dbdc;++_0x32da88)_0x490bb9[_0x32da88]/=_0x4e8dfb;return _0x490bb9;}class I0{constructor(_0x7aa8f3,_0x4f8800){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x7aa8f3['device'],this['renderer']=_0x7aa8f3,this['lightTextu'+'reAtlas']=_0x4f8800);const _0x1a31a8=this['device']['scope'];this['sourceId']=_0x1a31a8['resolve']('source'),this['pixelOffse'+'tId']=_0x1a31a8['resolve']('pixelOffse'+'t'),this['weightId']=_0x1a31a8['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x1a31a8['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x20a4*-0x1+-0x1*0x10a5+0x9*0x57a),!(0x2*0x129b+0x1551+-0x3a86),!(-0x1206+0x1f2+0x1*0x1015),!(0x1*0x13d4+0x1d*-0x5e+-0x92d));}static['createShad'+'owCamera'](_0x1a6e58,_0x76249a,_0x457ea9){const _0x16259e=Pa['create']('ShadowCame'+'ra',_0x76249a,_0x457ea9),_0x3708ab=rr['get'](_0x1a6e58);v['assert'](_0x3708ab);const _0x4421bd=(_0x3708ab==null?void(0x97c+-0x4c*-0x1f+-0xd0*0x17):_0x3708ab['vsm'])??!(0x1c2f+0x24df+0x1ab*-0x27),_0x4fdcd4=(_0x3708ab==null?void(-0x3*0xc17+-0x25bc+-0x1a5*-0x2d):_0x3708ab['pcf'])??!(0x15*-0x1af+-0x1b7+0x1*0x2513);return _0x4421bd?_0x16259e['clearColor']=new Y(0x2f*0xc2+0xa65+0x1*-0x2e03,0x167f+-0x509*0x7+0xcc0,0x3*-0x42b+-0xad*0x35+0x3052,-0x1d+-0xcc8+0x1*0xce5):_0x16259e['clearColor']=new Y(0x136+0x914+-0xa49,-0x1e*0xee+-0x1d77*0x1+0x395c,0x1017*-0x1+0x1e5*-0x10+0x21*0x168,-0x2651+0xc91+-0x1*-0x19c1),_0x16259e['clearDepth'+'Buffer']=!(-0x1*0x244a+0xa61*0x1+0x19e9),_0x16259e['clearStenc'+'ilBuffer']=!(-0x13*-0xbc+-0x197+0x317*-0x4),_0x16259e['clearColor'+'Buffer']=!_0x4fdcd4,_0x16259e;}['_cullShado'+'wCastersIn'+'ternal'](_0x4d0c6e,_0x55e73b,_0x13d265){const _0x1ffe18=_0x4d0c6e['length'];for(let _0x4c6170=-0x25*-0x8e+-0xb*-0x66+0x63a*-0x4;_0x4c6170<_0x1ffe18;_0x4c6170++){const _0x195775=_0x4d0c6e[_0x4c6170];_0x195775['castShadow']&&(!_0x195775['cull']||_0x195775['_isVisible'](_0x13d265))&&(_0x195775['visibleThi'+'sFrame']=!(0x173e+-0x2ca+-0x1474),_0x55e73b['push'](_0x195775));}}['cullShadow'+'Casters'](_0x52fd09,_0x41a8a5,_0x5f3dc7,_0x5abb80,_0x30fb53){if(_0x5f3dc7['length']=0x5*0x6fc+0x1e46+-0x4132,_0x30fb53)this['_cullShado'+'wCastersIn'+'ternal'](_0x30fb53,_0x5f3dc7,_0x5abb80);else{const _0x48c732=_0x52fd09['layerList'],_0x4a5b87=_0x48c732['length'];for(let _0x29da87=0x12d1*0x1+-0x2242*0x1+0xf71*0x1;_0x29da87<_0x4a5b87;_0x29da87++){const _0x3f8a92=_0x48c732[_0x29da87];_0x3f8a92['_lightsSet']['has'](_0x41a8a5)&&(Id['has'](_0x3f8a92)||(Id['add'](_0x3f8a92),this['_cullShado'+'wCastersIn'+'ternal'](_0x3f8a92['shadowCast'+'ers'],_0x5f3dc7,_0x5abb80)));}Id['clear']();}_0x5f3dc7['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x3ef758,_0x17b905){const _0x3bc682=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x17b905['_isPcf']:_0x17b905['_isPcf']&&_0x17b905['_type']!==Pe;_0x3ef758['setBlendSt'+'ate'](_0x3bc682?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x3ef758['setDepthSt'+'ate'](_0x17b905['shadowDept'+'hState']),_0x3ef758['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x4a41df,_0x3496d9,_0x12a537,_0x51d8cc){const _0x34d78a=_0x3496d9['_node'];_0x4a41df['_type']!==ae&&(this['renderer']['dispatchVi'+'ewPos'](_0x34d78a['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x4a41df['attenuatio'+'nEnd'])),u_['setTRS'](_0x34d78a['getPositio'+'n'](),_0x34d78a['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x3496d9['projection'+'Matrix'],u_);const _0xa871e0=_0x12a537['shadowView'+'port'];_0x3496d9['rect']=_0xa871e0,_0x3496d9['scissorRec'+'t']=_0x12a537['shadowScis'+'sor'],p_['setViewpor'+'t'](_0xa871e0['x'],_0xa871e0['y'],_0xa871e0['z'],_0xa871e0['w']),_0x12a537['shadowMatr'+'ix']['mul2'](p_,f_),_0x4a41df['_type']===ae&&_0x4a41df['_shadowMat'+'rixPalette']['set'](_0x12a537['shadowMatr'+'ix']['data'],_0x51d8cc*(-0x1d88+0xdeb+-0xfad*-0x1));}['getShadowP'+'ass'](_0x16d05c){var _0x137051;const _0x20b27c=_0x16d05c['_type'],_0x4662f9=_0x16d05c['_shadowTyp'+'e'];let _0x42ac5b=(_0x137051=this['shadowPass'+'Cache'][_0x20b27c])==null?void(0x6*-0x462+0x1448+-0x46*-0x16):_0x137051[_0x4662f9];if(!_0x42ac5b){const _0x26a19c='ShadowPass'+'_'+_0x20b27c+'_'+_0x4662f9;_0x42ac5b=Ks['get'](this['device'])['allocate'](_0x26a19c,{'isShadow':!(-0xe6b+-0x25f7+0x3462),'lightType':_0x20b27c,'shadowType':_0x4662f9}),this['shadowPass'+'Cache'][_0x20b27c]||(this['shadowPass'+'Cache'][_0x20b27c]=[]),this['shadowPass'+'Cache'][_0x20b27c][_0x4662f9]=_0x42ac5b;}return _0x42ac5b['index'];}['submitCast'+'ers'](_0x4ddea8,_0x216ba5,_0x5359be){const _0x1584f6=this['device'],_0x526ebc=this['renderer'],_0x83a2a6=_0x526ebc['scene'],_0x51a713=-0xa2a+0x2157*0x1+0x1*-0x172c<<Ip,_0x4b028a=this['getShadowP'+'ass'](_0x216ba5),_0x3c5d12=_0x5359be['shaderPara'+'ms'],_0x33a0a4=_0x5359be['renderTarg'+'et']['flipY']?-(0x265c+0xfe7+-0xf*0x39e):0xa04+0x2535+-0x2f38,_0x275854=_0x4ddea8['length'];for(let _0x288819=0x104b+-0x2045+0xffa;_0x288819<_0x275854;_0x288819++){const _0x4a6c20=_0x4ddea8[_0x288819],_0x370e05=_0x4a6c20['mesh'];_0x4a6c20['ensureMate'+'rial'](_0x1584f6);const _0x40b9e9=_0x4a6c20['material'];G['pushGpuMar'+'ker'](_0x1584f6,'Node:\x20'+_0x4a6c20['node']['name']+(',\x20Material'+':\x20')+_0x40b9e9['name']),_0x526ebc['setBaseCon'+'stants'](_0x1584f6,_0x40b9e9),_0x526ebc['setSkinnin'+'g'](_0x1584f6,_0x4a6c20),_0x40b9e9['dirty']&&(_0x40b9e9['updateUnif'+'orms'](_0x1584f6,_0x83a2a6),_0x40b9e9['dirty']=!(0x23f3+-0x6f1*0x2+-0x1610)),_0x526ebc['setupCullM'+'ode'](!(-0x1a1+-0x32*0xbf+0x26ef),_0x33a0a4,_0x4a6c20),_0x40b9e9['setParamet'+'ers'](_0x1584f6),_0x4a6c20['setParamet'+'ers'](_0x1584f6,_0x51a713);const _0x8b8574=_0x4a6c20['getShaderI'+'nstance'](_0x4b028a,0x25*0xfc+0x22cd+-0x4739,_0x83a2a6,_0x3c5d12,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x382000=_0x8b8574['shader'];v['assert'](_0x382000,'no\x20shader\x20'+'for\x20pass\x20'+_0x4b028a,_0x40b9e9),_0x4a6c20['_key'][Bu]=_0x382000['id'],_0x1584f6['setShader'](_0x382000),_0x526ebc['setVertexB'+'uffers'](_0x1584f6,_0x370e05),_0x526ebc['setMorphin'+'g'](_0x1584f6,_0x4a6c20['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x8b8574,_0x4a6c20);const _0x5c3950=_0x4a6c20['renderStyl'+'e'];_0x1584f6['setIndexBu'+'ffer'](_0x370e05['indexBuffe'+'r'][_0x5c3950]),_0x526ebc['drawInstan'+'ce'](_0x1584f6,_0x4a6c20,_0x370e05,_0x5c3950),_0x526ebc['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x1584f6);}}['needsShado'+'wRendering'](_0x29e272){const _0x3160a8=_0x29e272['enabled']&&_0x29e272['castShadow'+'s']&&_0x29e272['shadowUpda'+'teMode']!==Is&&_0x29e272['visibleThi'+'sFrame'];return _0x29e272['shadowUpda'+'teMode']===dn&&(_0x29e272['shadowUpda'+'teMode']=Is),_0x3160a8&&(this['renderer']['_shadowMap'+'Updates']+=_0x29e272['numShadowF'+'aces']),_0x3160a8;}['getLightRe'+'nderData'](_0x14b7a7,_0x52cd83,_0x227a2a){return _0x14b7a7['getRenderD'+'ata'](_0x14b7a7['_type']===ae?_0x52cd83:null,_0x227a2a);}['setupRende'+'rPass'](_0xe2550f,_0x3b6f5d,_0x3fc87e){const _0x791120=_0x3b6f5d['renderTarg'+'et'];_0xe2550f['init'](_0x791120),_0xe2550f['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x5a3+0x2208+0x2e*-0x9e,_0xe2550f['depthStenc'+'ilOps']['clearDepth']=_0x3fc87e,_0x791120['depthBuffe'+'r']?_0xe2550f['depthStenc'+'ilOps']['storeDepth']=!(0xd2*-0x22+0x60*0x3+0x1ac4*0x1):(_0xe2550f['colorOps']['clearValue']['copy'](_0x3b6f5d['clearColor']),_0xe2550f['colorOps']['clear']=_0x3fc87e,_0xe2550f['depthStenc'+'ilOps']['storeDepth']=!(0x1*0x129e+-0x973+-0x92a)),_0xe2550f['requiresCu'+'bemaps']=!(-0x1a6*0xb+-0x576+0x1799);}['prepareFac'+'e'](_0x4e1e1a,_0x431abc,_0xb54e87){const _0x164e74=_0x4e1e1a['_type'],_0x18e373=this['getLightRe'+'nderData'](_0x4e1e1a,_0x431abc,_0xb54e87)['shadowCame'+'ra'],_0x34309e=_0x164e74===ae?0xa1e+-0x899+-0x185*0x1:_0xb54e87;return _0x18e373['renderTarg'+'et']=_0x4e1e1a['_shadowMap']['renderTarg'+'ets'][_0x34309e],_0x18e373;}['renderFace'](_0x31509a,_0xb3ff,_0x13fd90,_0x2d469a,_0x4fa373=!(0x20c4+-0x1a5*0xe+-0x9be)){const _0x345362=this['device'],_0x37f9d1=re();G['pushGpuMar'+'ker'](_0x345362,'SHADOW\x20'+_0x31509a['_node']['name']+'\x20FACE\x20'+_0x13fd90);const _0x1098dc=this['getLightRe'+'nderData'](_0x31509a,_0xb3ff,_0x13fd90),_0x102e33=_0x1098dc['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x31509a,_0x102e33,_0x1098dc,_0x13fd90);const _0x4638c4=_0x102e33['renderTarg'+'et'],_0x5313a4=this['renderer'];_0x5313a4['setCameraU'+'niforms'](_0x102e33,_0x4638c4),_0x345362['supportsUn'+'iformBuffe'+'rs']&&_0x5313a4['setupViewU'+'niformBuff'+'ers'](_0x1098dc['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],-0x18ed*0x1+0x8b5*0x2+0x784),_0x4fa373?(_0x5313a4['setupViewp'+'ort'](_0x102e33,_0x4638c4),_0x2d469a&&_0x5313a4['clear'](_0x102e33)):_0x5313a4['clearView'](_0x102e33,_0x4638c4,!(-0xa77*0x2+-0x1114+-0x79a*-0x5),!(-0xdbe+0x1934+-0xb75)),this['setupRende'+'rState'](_0x345362,_0x31509a),this['submitCast'+'ers'](_0x1098dc['visibleCas'+'ters'],_0x31509a,_0x102e33),G['popGpuMark'+'er'](_0x345362),_0x5313a4['_shadowMap'+'Time']+=re()-_0x37f9d1;}['render'](_0x3a9ac5,_0x6ad2e3,_0x93ce08=!(0xd*-0x1d9+-0x1773+0x1*0x2f78)){if(this['needsShado'+'wRendering'](_0x3a9ac5)){const _0xe78ce0=_0x3a9ac5['numShadowF'+'aces'];for(let _0x2f354b=-0x1f2e+-0x2603*-0x1+-0x6d5;_0x2f354b<_0xe78ce0;_0x2f354b++)this['prepareFac'+'e'](_0x3a9ac5,_0x6ad2e3,_0x2f354b),this['renderFace'](_0x3a9ac5,_0x6ad2e3,_0x2f354b,!(-0xab6+-0x1*0x1f+0x1*0xad5),_0x93ce08);this['renderVsm'](_0x3a9ac5,_0x6ad2e3);}}['renderVsm'](_0x2f2e03,_0x4a3558){_0x2f2e03['_isVsm']&&_0x2f2e03['_vsmBlurSi'+'ze']>0x2260+0x1*0xa85+0x44*-0xa9&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x2f2e03['_type']===ae)&&this['applyVsmBl'+'ur'](_0x2f2e03,_0x4a3558);}['getVsmBlur'+'Shader'](_0x48fa90,_0x95c5f5){const _0x3570a4=this['blurVsmSha'+'der'];let _0x579fae=_0x3570a4[_0x48fa90][_0x95c5f5];if(!_0x579fae){this['blurVsmWei'+'ghts'][_0x95c5f5]=SM(_0x95c5f5);const _0x2b379d=X['fullscreen'+'QuadVS'];let _0xee786a='#define\x20SA'+'MPLES\x20'+_0x95c5f5+'\x0a';_0xee786a+=this['blurVsmSha'+'derCode'][_0x48fa90];const _0x1cc4d0='blurVsm'+_0x48fa90+_0x95c5f5;_0x579fae=Ls(this['device'],_0x2b379d,_0xee786a,_0x1cc4d0),_0x3570a4[_0x48fa90][_0x95c5f5]=_0x579fae;}return _0x579fae;}['applyVsmBl'+'ur'](_0x967310,_0x364137){const _0x2f48e8=this['device'];G['pushGpuMar'+'ker'](_0x2f48e8,'VSM\x20'+_0x967310['_node']['name']),_0x2f48e8['setBlendSt'+'ate'](_t['NOBLEND']);const _0x36c193=_0x967310['getRenderD'+'ata'](_0x967310['_type']===ae?_0x364137:null,0x38f+0x246f+0x1*-0x27fe)['shadowCame'+'ra']['renderTarg'+'et'],_0xd64816=this['renderer']['shadowMapC'+'ache']['get'](_0x2f48e8,_0x967310),_0xf76ac0=_0xd64816['renderTarg'+'ets'][-0xeb9+0x1bc0+-0x73*0x1d],_0x3d48c7=_0x967310['vsmBlurMod'+'e'],_0x112e40=_0x967310['_vsmBlurSi'+'ze'],_0x5d4bfb=this['getVsmBlur'+'Shader'](_0x3d48c7,_0x112e40);Xa['z']=_0x967310['_shadowRes'+'olution']-(0xe23+0x1*0x17d7+-0x25f8),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x36c193['colorBuffe'+'r']),vr[-0x1632+-0x94f*0x1+0x1f81]=(-0x12e*0x8+0x207c+-0x170b)/_0x967310['_shadowRes'+'olution'],vr[-0x163d+-0xd64+0x23a2]=-0xbdf+-0xc6e*0x1+0x184d,this['pixelOffse'+'tId']['setValue'](vr),_0x3d48c7===Ap&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x112e40]),un(_0x2f48e8,_0xf76ac0,_0x5d4bfb,null,Xa),this['sourceId']['setValue'](_0xf76ac0['colorBuffe'+'r']),vr[-0xf22+-0x41b*-0x1+0x8*0x161]=vr[0xa5d*-0x3+-0x1*0x232d+-0x1*-0x4244],vr[-0x54c+0x1*0x7cd+-0x281]=-0x1c77*-0x1+0x1*0xb2d+-0x4*0x9e9,this['pixelOffse'+'tId']['setValue'](vr),un(_0x2f48e8,_0x36c193,_0x5d4bfb,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x967310,_0xd64816),G['popGpuMark'+'er'](_0x2f48e8);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new yt('matrix_vie'+'wProjectio'+'n',va)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new mp(pp,fp|ci)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const kl=[];class vM{constructor(_0x29e5f9){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x29e5f9;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x55e5a1=>{_0x55e5a1['destroy']();}),this['_allocated']['length']=0x123+-0x1*-0x2f9+0x2*-0x20e;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x37c4d7=new Uu(this['device']);_0x37c4d7['name']='ClusterEmp'+'ty',_0x37c4d7['update']([]),this['_empty']=_0x37c4d7;}return this['_empty'];}['assign'](_0x124bf7){const _0x1d13bd=this['empty'];kl['push'](...this['_allocated']),this['_allocated']['length']=0x177b+-0x9e1+0xd9a*-0x1,this['_clusters']['clear']();const _0x1e07b0=_0x124bf7['length'];for(let _0x3b323b=-0x240e+0x25c1+0x1*-0x1b3;_0x3b323b<_0x1e07b0;_0x3b323b++){const _0x5167c4=_0x124bf7[_0x3b323b]['renderActi'+'ons'];if(_0x5167c4){const _0x2c9283=_0x5167c4['length'];for(let _0x4821f3=0x1f08+0x1*0x1547+-0x344f;_0x4821f3<_0x2c9283;_0x4821f3++){const _0x362270=_0x5167c4[_0x4821f3];_0x362270['lightClust'+'ers']=null;const _0x23f44a=_0x362270['layer'];if(_0x23f44a['hasCluster'+'edLights']&&_0x23f44a['meshInstan'+'ces']['length']){const _0x1a323b=_0x23f44a['getLightId'+'Hash'](),_0x58c90e=this['_clusters']['get'](_0x1a323b);let _0x4c8fe6=_0x58c90e==null?void(0x21b0+0x724+-0x28d4):_0x58c90e['lightClust'+'ers'];_0x4c8fe6||(_0x4c8fe6=kl['pop']()??new Uu(this['device']),_n['setName'](_0x4c8fe6,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x4c8fe6),this['_clusters']['set'](_0x1a323b,_0x362270)),_0x362270['lightClust'+'ers']=_0x4c8fe6;}_0x362270['lightClust'+'ers']||(_0x362270['lightClust'+'ers']=_0x1d13bd);}}}kl['forEach'](_0x1b6e44=>_0x1b6e44['destroy']()),kl['length']=0x22a6+-0x12a*0x8+-0x1956;}['update'](_0x2a49b9,_0x271639){this['assign'](_0x2a49b9),this['_clusters']['forEach'](_0x34940a=>{const _0x248676=_0x34940a['layer'];_0x34940a['lightClust'+'ers']['update'](_0x248676['clusteredL'+'ightsSet'],_0x271639);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Hi=new Q(),Dd=[];class Bp extends fs{constructor(_0x773608,_0x2cc490){super(_0x773608),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x2cc490,this['requiresCu'+'bemaps']=!(-0x964+-0xff*0x9+0x125c),this['blitTextur'+'eId']=_0x773608['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x773608['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x75a8d5,_0x43034c;(_0x75a8d5=this['_quadRende'+'rer2D'])==null||_0x75a8d5['destroy'](),this['_quadRende'+'rer2D']=null,(_0x43034c=this['_quadRende'+'rerCube'])==null||_0x43034c['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x2cc7e3,_0x10eb10){v['assert'](_0x2cc7e3);const _0x284db0=new Bp(_0x2cc7e3['device'],_0x10eb10);return _0x284db0['init'](_0x2cc7e3),_0x284db0['colorOps']['clear']=!(0x41*-0x36+0xd8a*0x1+0x2d),_0x284db0['depthStenc'+'ilOps']['clearDepth']=!(-0x5e+0x11*-0x13+0x1a2),_0x284db0;}['update'](_0x5d7188){const _0x128f29=this['_filteredL'+'ights'];this['filter'](_0x5d7188,_0x128f29),this['executeEna'+'bled']=_0x128f29['length']>0xa*-0x1c1+-0x250c+0x89*0x66;}['filter'](_0x1b1d3f,_0x530e15){for(let _0x286cb5=0x373*0x1+-0x3*-0xcef+0x152*-0x20;_0x286cb5<_0x1b1d3f['length'];_0x286cb5++){const _0x59f07e=_0x1b1d3f[_0x286cb5];_0x59f07e['_type']!==ae&&_0x59f07e['atlasViewp'+'ortAllocat'+'ed']&&_0x59f07e['atlasSlotU'+'pdated']&&_0x59f07e['enabled']&&_0x59f07e['cookie']&&_0x59f07e['visibleThi'+'sFrame']&&_0x530e15['push'](_0x59f07e);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Dd['length'])for(let _0x52df03=0x1cb9+0x19a7+-0x3660;_0x52df03<-0x24e1+0x23d8+-0x1*-0x10f;_0x52df03++){const _0x2053a7=Pa['create'](null,Pe,_0x52df03),_0x4b0741=_0x2053a7['projection'+'Matrix'],_0xe15931=_0x2053a7['node']['getLocalTr'+'ansform']()['clone']()['invert']();Dd[_0x52df03]=new q()['mul2'](_0x4b0741,_0xe15931)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x325669=Ls(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new zu(_0x325669);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x508caa=Ls(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new zu(_0x508caa);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x1d221b=this['device'];_0x1d221b['setBlendSt'+'ate'](_t['NOBLEND']),_0x1d221b['setCullMod'+'e'](mt),_0x1d221b['setDepthSt'+'ate'](ls['NODEPTH']),_0x1d221b['setStencil'+'State']();const _0x365929=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x25be7f=this['_cubeSlots'+'Offsets'],_0xa676de=this['_filteredL'+'ights'];for(let _0x5ced22=-0x1f42*-0x1+0x21e+0x858*-0x4;_0x5ced22<_0xa676de['length'];_0x5ced22++){const _0x37105f=_0xa676de[_0x5ced22];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x37105f['_node']['name']);const _0x4caf86=_0x37105f['numShadowF'+'aces'],_0x254d03=_0x4caf86>-0x29d*-0xb+0x1bed+-0x38ab*0x1?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x4caf86>0x924+0x791*0x2+0x1*-0x1845&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x37105f['cookie']);for(let _0x56ce50=0x4db+0x1b4b+0x337*-0xa;_0x56ce50<_0x4caf86;_0x56ce50++){if(Hi['copy'](_0x37105f['atlasViewp'+'ort']),_0x4caf86>0x41*0x98+0x7*0x4d2+-0x4855*0x1){const _0x387267=Hi['z']/(-0x26d6+0x1cd0+-0x7*-0x16f),_0x159231=_0x25be7f[_0x56ce50];Hi['x']+=_0x387267*_0x159231['x'],Hi['y']+=_0x387267*_0x159231['y'],Hi['z']=_0x387267,Hi['w']=_0x387267,this['invViewPro'+'jId']['setValue'](Dd[_0x56ce50]['data']);}Hi['mulScalar'](_0x365929),_0x254d03['render'](Hi);}G['popGpuMark'+'er'](_0x1d221b);}_0xa676de['length']=-0x111e+-0x797*-0x1+0x1*0x987;}}class TM extends fs{constructor(_0x373d2e,_0x1d0132,_0x430901){super(_0x373d2e),this['requiresCu'+'bemaps']=!(-0x1*0x1d44+-0x8*0x31d+0x3*0x120f),this['shadowRend'+'erer']=_0x1d0132,this['shadowRend'+'ererLocal']=_0x430901;}['update'](_0x5d86e1){const _0x49f74e=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x4a1bcc=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x49f74e,_0x5d86e1),_0x5bd37e=_0x49f74e['length'];this['enabled']=_0x5bd37e>0x128*0x18+0x33*-0x99+0xe9*0x3,_0x5bd37e&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x4a1bcc,!(-0x6*0x17c+0x1*-0xabc+-0x2f*-0x6b));}['execute'](){const _0x23ea47=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x1eed36=_0x23ea47['length'];for(let _0x25c036=0x2157+0x1*-0x62a+0x1*-0x1b2d;_0x25c036<_0x1eed36;_0x25c036++){const _0xb201f1=_0x23ea47[_0x25c036];for(let _0xb8849e=-0x1*0xbd7+-0x1*0x1b3+-0x6c5*-0x2;_0xb8849e<_0xb201f1['numShadowF'+'aces'];_0xb8849e++)this['shadowRend'+'erer']['renderFace'](_0xb201f1,null,_0xb8849e,!(0x1775+0xae5*0x1+-0x225a));}_0x23ea47['length']=0x380*0x4+0x15e3+-0x23e3*0x1;}}class AM extends fs{constructor(_0xe71eed,_0x2716f9,_0x43c083,_0x5f3be4,_0x4c694a){super(_0xe71eed),this['renderer']=_0x2716f9,this['frameGraph']=null,this['cookiesRen'+'derPass']=Bp['create'](_0x4c694a['cookieRend'+'erTarget'],_0x4c694a['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0xe71eed,_0x43c083,_0x5f3be4),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x26a204,_0x265533,_0x403df0,_0x9947a6,_0x35430c){this['frameGraph']=_0x26a204,this['cookiesRen'+'derPass']['enabled']=_0x403df0,_0x403df0&&this['cookiesRen'+'derPass']['update'](_0x9947a6),this['shadowRend'+'erPass']['enabled']=_0x265533,_0x265533&&this['shadowRend'+'erPass']['update'](_0x35430c);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x59efd0=re(),{renderer:_0x5e9518}=this,{scene:_0x23090b}=_0x5e9518;_0x5e9518['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x23090b['lighting']),_0x5e9518['_lightClus'+'tersTime']+=re()-_0x59efd0,_0x5e9518['_lightClus'+'ters']=_0x5e9518['worldClust'+'ersAllocat'+'or']['count'];}}let Ld=0x3*0x634+-0x608+0x7*-0x1cc;const Wi=new q(),$i=new q(),Pn=new q(),__=new js(),Fd=new Ff(),g_=new q()['setScale'](-0xec*0x13+-0x1*-0x18df+-0x75a,-(-0x151*-0xe+-0x1*-0x1553+-0xc*0x350),-0x25*-0x91+0x4b3*0x1+-0x19a7),kd=new Set(),Od=new Set(),Bd=new Yy(),y_=new q()['set']([0x1*0x14c2+-0x2*-0x47f+-0x1dbf,-0x1a53+0x25fa+-0x13*0x9d,0x249f+-0x18a7+-0x5fc*0x2,0xf3d+0x197*0x17+-0x33ce*0x1,0x1c8b+0x1fe1*-0x1+0x356,0x4b*0x7+-0x12d1*-0x1+0x14dd*-0x1,0x164d+0x1*-0x23a+-0x1*0x1413,-0x1296+0x546+0x47*0x30,-0xb9*-0x19+-0x1*0x1e39+0xc28,-0x3b*-0x10+0xe4a+-0x1a*0xb1,-0xd02+-0x912*-0x1+0x3f0+0.5,0xbe0+0x25*0x2d+-0x1261,-0x1d20+-0x9a3*-0x2+0x1a*0x61,0x1d6e+0x1*-0x1703+-0x66b,0xe*-0x215+0x7fc+-0x7*-0x306+0.5,-0xe25+-0x1505*-0x1+-0x6df]),x_=[new W(0xbb2*-0x2+-0x5e5+0x33*0x93+0.5,-0x1c0a+0x53*0x73+0x315*-0x3+0.333333),new W(-0x1042+-0xac1*0x1+0x1b03+0.25,-0x97b*-0x3+0xb80+-0x27f1+0.666667),new W(-0x2117+0x1067+-0x164*-0xc+0.75,0x1e90+0x436+-0x1163*0x2+0.111111),new W(-0x17d3+0x1869+-0x96+0.125,0x7cc+0x1*0x457+-0x1*0xc23+0.444444),new W(-0x1362+0x23f2+-0x1090+0.625,-0x49*0x34+0x922+0x5b2+0.777778),new W(0x3a7+0x92b+0xcd2*-0x1+0.375,0x14d+0x1*-0x1fb9+-0x1*-0x1e6c+0.222222),new W(-0x5fb*-0x3+0x22b3+-0x34a4*0x1+0.875,0x13*0x18d+-0x1193*0x1+0x5f2*-0x2+0.555556),new W(-0xdf*-0xf+-0x1dae+0x1*0x109d+0.0625,0x18*0x107+-0x39*0x4e+-0x26e*0x3+0.888889),new W(-0x34*-0x4a+-0x1ffa+-0xf1*-0x12+0.5625,-0x571+-0xd8*-0x26+-0x1a9f+0.037037),new W(0x3*0x9ac+0x146e*0x1+-0x3172+0.3125,-0x1c7b+0xbd9*-0x2+0x342d*0x1+0.37037),new W(0x2272+0x3b4+0x1*-0x2626+0.8125,0x811*0x1+-0xb*-0xe3+-0x11d2+0.703704),new W(0x367+-0x1*0x14cf+-0x22d*-0x8+0.1875,0x21*0x5+0x993+0x18*-0x6d+0.148148),new W(-0x191*-0x12+-0x5ce+-0x1664+0.6875,0x9ec+-0xe87*0x1+0x49b+0.481481),new W(-0x12b6*-0x2+-0x1bbf*-0x1+0xc9*-0x53+0.4375,0xbdb+0x21de+-0x2db9+0.814815),new W(0x22f*-0xb+0xcfc+-0xb09*-0x1+0.9375,-0x385*-0x4+-0x7*-0x46d+-0x2d0f+0.259259),new W(0x1*0x17d4+-0x1*0xbe9+-0x1b*0x71+0.03125,-0x1*0xd8d+-0x3*-0x340+0x3cd+0.592593)],CM=new q(),EM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Rn=new Set(),Nd=[],zd=[];class DM{constructor(_0x59ec34){c(this,'clustersDe'+'bugRendere'+'d',!(-0xbcd+-0x1009*-0x1+0x169*-0x3)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(-0xe*-0x14f+-0x2*0x6b9+-0x465)),(this['device']=_0x59ec34,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x59ec34),this['lightTextu'+'reAtlas']=new uM(_0x59ec34),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x6*0x606+-0x16cf*0x1+-0xd55,this['_morphTime']=-0x222+0x1abd+-0x189b,this['_cullTime']=0x123f+-0x3e3+0x2*-0x72e,this['_shadowMap'+'Time']=0x166e+-0x175d+0x1*0xef,this['_lightClus'+'tersTime']=-0x11d6*-0x1+-0x1*0xfb6+-0x220,this['_layerComp'+'ositionUpd'+'ateTime']=0x3a1*-0x2+-0xd7b+0x14bd,this['_shadowDra'+'wCalls']=-0x2f*0x99+0xb80*0x2+0x517,this['_skinDrawC'+'alls']=0x6a*0x49+0x1e53+0x1*-0x3c8d,this['_instanced'+'DrawCalls']=-0x2286+-0x7*-0x5c+0x2002*0x1,this['_shadowMap'+'Updates']=0x1*-0xab5+-0x133+-0x3f8*-0x3,this['_numDrawCa'+'llsCulled']=-0x5*0x3ca+0x2c1+0x1031,this['_camerasRe'+'ndered']=0x1ed7+-0x17cd+-0x70a,this['_lightClus'+'ters']=0x1b88*-0x1+0x7be+0x13ca);const _0x449aa1=_0x59ec34['scope'];this['boneTextur'+'eId']=_0x449aa1['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x449aa1['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x449aa1['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x449aa1['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x449aa1['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x1d54+-0x5d9*0x1+-0x1778),this['viewPosId']=_0x449aa1['resolve']('view_posit'+'ion'),this['projId']=_0x449aa1['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x449aa1['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x449aa1['resolve']('matrix_vie'+'w'),this['viewId3']=_0x449aa1['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x449aa1['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x449aa1['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x449aa1['resolve']('tbnBasis'),this['nearClipId']=_0x449aa1['resolve']('camera_nea'+'r'),this['farClipId']=_0x449aa1['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x2537+-0x2037*0x1+0x27e*-0x2),this['cameraPara'+'msId']=_0x449aa1['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x449aa1['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0x1*-0x16a7+0x1*0xad3+0x5*-0x6b2,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(0x1*0x2192+0x3*-0x8ad+0x29*-0x2f),this['blueNoiseJ'+'itterId']=_0x449aa1['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x449aa1['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x449aa1['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x449aa1['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x449aa1['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x449aa1['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x179*0x3+-0x909+0x49e),this['morphPosit'+'ionTex']=_0x449aa1['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x449aa1['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x449aa1['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x449aa1['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x19b5a9,_0x2abcca){if(_0x19b5a9['layer']===_0x2abcca['layer']){if(_0x19b5a9['drawOrder']&&_0x2abcca['drawOrder'])return _0x19b5a9['drawOrder']-_0x2abcca['drawOrder'];if(_0x19b5a9['zdist']&&_0x2abcca['zdist'])return _0x2abcca['zdist']-_0x19b5a9['zdist'];if(_0x19b5a9['zdist2']&&_0x2abcca['zdist2'])return _0x19b5a9['zdist2']-_0x2abcca['zdist2'];}return _0x2abcca['_key'][Mi]-_0x19b5a9['_key'][Mi];}['sortCompar'+'eMesh'](_0x38f11c,_0x3123cd){if(_0x38f11c['layer']===_0x3123cd['layer']){if(_0x38f11c['drawOrder']&&_0x3123cd['drawOrder'])return _0x38f11c['drawOrder']-_0x3123cd['drawOrder'];if(_0x38f11c['zdist']&&_0x3123cd['zdist'])return _0x3123cd['zdist']-_0x38f11c['zdist'];}const _0x362065=_0x38f11c['_key'][Mi],_0x4a6a28=_0x3123cd['_key'][Mi];return _0x362065===_0x4a6a28&&_0x38f11c['mesh']&&_0x3123cd['mesh']?_0x3123cd['mesh']['id']-_0x38f11c['mesh']['id']:_0x4a6a28-_0x362065;}['sortCompar'+'eDepth'](_0xdafd0d,_0x3ee20c){const _0x255ef7=_0xdafd0d['_key'][Bu],_0x58fdcc=_0x3ee20c['_key'][Bu];return _0x255ef7===_0x58fdcc&&_0xdafd0d['mesh']&&_0x3ee20c['mesh']?_0x3ee20c['mesh']['id']-_0xdafd0d['mesh']['id']:_0x58fdcc-_0x255ef7;}['setupViewp'+'ort'](_0x4f39ae,_0x19cc3e){const _0x8eb9bf=this['device'],_0x5e6878=_0x19cc3e?_0x19cc3e['width']:_0x8eb9bf['width'],_0x2ad61f=_0x19cc3e?_0x19cc3e['height']:_0x8eb9bf['height'],_0x48aef7=_0x4f39ae['rect'];let _0x36b620=Math['floor'](_0x48aef7['x']*_0x5e6878),_0xdd3bbe=Math['floor'](_0x48aef7['y']*_0x2ad61f),_0x1599ce=Math['floor'](_0x48aef7['z']*_0x5e6878),_0x363bde=Math['floor'](_0x48aef7['w']*_0x2ad61f);if(_0x8eb9bf['setViewpor'+'t'](_0x36b620,_0xdd3bbe,_0x1599ce,_0x363bde),_0x4f39ae['_scissorRe'+'ctClear']){const _0x2827d4=_0x4f39ae['scissorRec'+'t'];_0x36b620=Math['floor'](_0x2827d4['x']*_0x5e6878),_0xdd3bbe=Math['floor'](_0x2827d4['y']*_0x2ad61f),_0x1599ce=Math['floor'](_0x2827d4['z']*_0x5e6878),_0x363bde=Math['floor'](_0x2827d4['w']*_0x2ad61f);}_0x8eb9bf['setScissor'](_0x36b620,_0xdd3bbe,_0x1599ce,_0x363bde);}['setCameraU'+'niforms'](_0x3eda9f,_0x410ee4){var _0x3eff5b,_0x35c5cb;const _0x308603=_0x410ee4==null?void(0x1584+-0x14c2*0x1+-0xc2*0x1):_0x410ee4['flipY'];let _0x506f67=0x212e+-0x1ab*-0x7+0x2*-0x166d;if(_0x3eda9f['xr']&&_0x3eda9f['xr']['session']){const _0x4df32c=((_0x35c5cb=(_0x3eff5b=_0x3eda9f['_node'])==null?void(-0x5*0x9+-0x481+0x4ae):_0x3eff5b['parent'])==null?void(0x187b+-0x1ba9+0x197*0x2):_0x35c5cb['getWorldTr'+'ansform']())||null,_0x3bcdc7=_0x3eda9f['xr']['views'];_0x506f67=_0x3bcdc7['list']['length'];for(let _0x469a5=0x1596+0xcfc+-0x2292;_0x469a5<_0x506f67;_0x469a5++){const _0x12c375=_0x3bcdc7['list'][_0x469a5];_0x12c375['updateTran'+'sforms'](_0x4df32c),_0x3eda9f['frustum']['setFromMat'+'4'](_0x12c375['projViewOf'+'fMat']);}}else{let _0x4ed112=_0x3eda9f['projection'+'Matrix'];_0x3eda9f['calculateP'+'rojection']&&_0x3eda9f['calculateP'+'rojection'](_0x4ed112,Cl);let _0x32220b=_0x3eda9f['getProject'+'ionMatrixS'+'kybox']();_0x308603&&(_0x4ed112=CM['mul2'](g_,_0x4ed112),_0x32220b=EM['mul2'](g_,_0x32220b)),this['device']['isWebGPU']&&(_0x4ed112=MM['mul2'](y_,_0x4ed112),_0x32220b=PM['mul2'](y_,_0x32220b));const {jitter:_0x5ca200}=_0x3eda9f;let _0x12c6c9=-0x62*0x43+0xdb2+0xbf4,_0x5293b1=0x12+-0x1933*-0x1+-0x1945;if(_0x5ca200>0x15cd*-0x1+-0x1d24+0x747*0x7){const _0x42afd9=_0x410ee4?_0x410ee4['width']:this['device']['width'],_0x3b3686=_0x410ee4?_0x410ee4['height']:this['device']['height'],_0x5980e1=x_[this['device']['renderVers'+'ion']%x_['length']];_0x12c6c9=_0x5ca200*(_0x5980e1['x']*(-0x5de*-0x5+0x1f8b+-0x3cdf*0x1)-(0x13*0x1c+-0x2238+0x2025*0x1))/_0x42afd9,_0x5293b1=_0x5ca200*(_0x5980e1['y']*(0x1d*-0x12a+0x23e4+-0x220)-(0x13c1*0x1+-0xf31+-0x48f))/_0x3b3686,_0x4ed112=RM['copy'](_0x4ed112),_0x4ed112['data'][-0x71b+-0x3*-0x71+0xc*0x7c]=_0x12c6c9,_0x4ed112['data'][-0x2*-0xa5d+0xe79+-0x506*0x7]=_0x5293b1,_0x32220b=IM['copy'](_0x32220b),_0x32220b['data'][-0xd*0x2a5+0xee+0x217b]=_0x12c6c9,_0x32220b['data'][-0x4f3+0x11f6+-0xcfa]=_0x5293b1,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x288e53=_0x5ca200>-0x3a*0x25+0x29*0xdb+0x1ab1*-0x1?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][-0xe*0x11+0x1507+-0x1419]=_0x288e53['x'],this['blueNoiseJ'+'itterData'][-0x87e+-0x3*-0x4d5+-0x600]=_0x288e53['y'],this['blueNoiseJ'+'itterData'][-0x4*0x69d+-0x2381*0x1+-0x1d*-0x223]=_0x288e53['z'],this['blueNoiseJ'+'itterData'][-0xa02*0x1+-0x7*-0x16a+0x1f]=_0x288e53['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x4ed112['data']),this['projSkybox'+'Id']['setValue'](_0x32220b['data']),_0x3eda9f['calculateT'+'ransform'])_0x3eda9f['calculateT'+'ransform']($i,Cl);else{const _0x501073=_0x3eda9f['_node']['getPositio'+'n'](),_0x5c4f2b=_0x3eda9f['_node']['getRotatio'+'n']();$i['setTRS'](_0x501073,_0x5c4f2b,T['ONE']);}this['viewInvId']['setValue']($i['data']),Pn['copy']($i)['invert'](),this['viewId']['setValue'](Pn['data']),__['setFromMat'+'4'](Pn),this['viewId3']['setValue'](__['data']),Wi['mul2'](_0x4ed112,Pn),this['viewProjId']['setValue'](Wi['data']),_0x3eda9f['_storeShad'+'erMatrices'](Wi,_0x12c6c9,_0x5293b1,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x308603?-(-0x63*-0x11+0x247d+0x49*-0x97):-0x994+-0xb*0x371+0xb0*0x45),this['dispatchVi'+'ewPos'](_0x3eda9f['_node']['getPositio'+'n']()),_0x3eda9f['frustum']['setFromMat'+'4'](Wi);}this['tbnBasis']['setValue'](_0x308603?-(0x1e87+-0x2515+0x68f):0x259d+0x39*0x7f+0x41e3*-0x1);const _0x4a2c9d=_0x3eda9f['_nearClip'],_0x198d4b=_0x3eda9f['_farClip'];return this['nearClipId']['setValue'](_0x4a2c9d),this['farClipId']['setValue'](_0x198d4b),this['cameraPara'+'ms'][-0xb21+-0x3d1*-0x1+0x750]=(0xfc7+-0x1f67+-0xfa1*-0x1)/_0x198d4b,this['cameraPara'+'ms'][-0x1f91*-0x1+0x25e+-0x2*0x10f7]=_0x198d4b,this['cameraPara'+'ms'][-0xa77+0x2116+0x7*-0x33b]=_0x4a2c9d,this['cameraPara'+'ms'][-0x1afd+-0xf*-0x23b+-0x675]=_0x3eda9f['projection']===fa?-0x19*0xd1+-0xb8e+0x8*0x3ff:0xf49+-0x20fe+-0x3*-0x5e7,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x3eda9f['getExposur'+'e']():this['scene']['exposure']),_0x506f67;}['clear'](_0x52c8af,_0x25a57c,_0x382878,_0x3a722c){const _0xaee345=(_0x25a57c??_0x52c8af['_clearColo'+'rBuffer']?Eo:0x224b*0x1+-0x53*0x71+-0x5*-0x78)|(_0x382878??_0x52c8af['_clearDept'+'hBuffer']?Mo:0x6*-0x38b+0x207d*-0x1+0x35bf*0x1)|(_0x3a722c??_0x52c8af['_clearSten'+'cilBuffer']?Ch:0x1cc5+0x3a5*0x1+-0x206a);if(_0xaee345){const _0x334a58=this['device'];G['pushGpuMar'+'ker'](_0x334a58,'CLEAR'),_0x334a58['clear']({'color':[_0x52c8af['_clearColo'+'r']['r'],_0x52c8af['_clearColo'+'r']['g'],_0x52c8af['_clearColo'+'r']['b'],_0x52c8af['_clearColo'+'r']['a']],'depth':_0x52c8af['_clearDept'+'h'],'stencil':_0x52c8af['_clearSten'+'cil'],'flags':_0xaee345}),G['popGpuMark'+'er'](_0x334a58);}}['setCamera'](_0x5f28bb,_0x13de06,_0x5918c9,_0x4b06ff=null){this['setCameraU'+'niforms'](_0x5f28bb,_0x13de06),this['clearView'](_0x5f28bb,_0x13de06,_0x5918c9,!(-0x14d8+0x22e5*-0x1+-0x1bdf*-0x2));}['clearView'](_0xc251be,_0xcdb0f1,_0x4ac618,_0x3ca398){const _0x1e418f=this['device'];if(G['pushGpuMar'+'ker'](_0x1e418f,'CLEAR-VIEW'),_0x1e418f['setRenderT'+'arget'](_0xcdb0f1),_0x1e418f['updateBegi'+'n'](),_0x3ca398&&(_0x1e418f['setColorWr'+'ite'](!(-0x66*0x13+0x1df*-0xd+0x1fe5),!(-0xa*-0x2d6+-0x3*-0x6c3+0x6f3*-0x7),!(0x124c+-0xdb*0x1d+0x683),!(0x7*0x421+-0x174b+-0x59c)),_0x1e418f['setDepthWr'+'ite'](!(-0x3*0x47+0xc*-0x2eb+0x23d9))),this['setupViewp'+'ort'](_0xc251be,_0xcdb0f1),_0x4ac618){const _0x1e3d5b=_0xc251be['_clearOpti'+'ons'];_0x1e418f['clear'](_0x1e3d5b||{'color':[_0xc251be['_clearColo'+'r']['r'],_0xc251be['_clearColo'+'r']['g'],_0xc251be['_clearColo'+'r']['b'],_0xc251be['_clearColo'+'r']['a']],'depth':_0xc251be['_clearDept'+'h'],'flags':(_0xc251be['_clearColo'+'rBuffer']?Eo:-0x9f*-0x31+-0xe5f+0x1010*-0x1)|(_0xc251be['_clearDept'+'hBuffer']?Mo:0x41*0x2f+-0x59*0x3b+0x894)|(_0xc251be['_clearSten'+'cilBuffer']?Ch:0x1769*-0x1+-0xbf*-0xd+0x36*0x41),'stencil':_0xc251be['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x1e418f);}['setupCullM'+'ode'](_0x1bbffa,_0x5a08a8,_0x4ee3f6){const _0x30907b=_0x4ee3f6['material'];let _0x2a742c=mt;if(_0x1bbffa){let _0x5aac4a=-0x1ccd*-0x1+0x8ce+-0x259a;(_0x30907b['cull']===mo||_0x30907b['cull']===rn)&&(_0x5aac4a=_0x5a08a8*_0x4ee3f6['flipFacesF'+'actor']*_0x4ee3f6['node']['worldScale'+'Sign']),_0x5aac4a<-0x147e+0x47*0x8a+-0x11c8?_0x2a742c=_0x30907b['cull']===mo?rn:mo:_0x2a742c=_0x30907b['cull'];}this['device']['setCullMod'+'e'](_0x2a742c),_0x2a742c===mt&&_0x30907b['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x4ee3f6['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x46d74f){if(_0x46d74f['xr']&&_0x46d74f['xr']['views']['list']['length']){const _0x176e62=_0x46d74f['xr']['views']['list'][-0xa71+-0xd*-0x164+-0x7a3];Wi['mul2'](_0x176e62['projMat'],_0x176e62['viewOffMat']),_0x46d74f['frustum']['setFromMat'+'4'](Wi);return;}const _0x169bda=_0x46d74f['projection'+'Matrix'];if(_0x46d74f['calculateP'+'rojection']&&_0x46d74f['calculateP'+'rojection'](_0x169bda,Cl),_0x46d74f['calculateT'+'ransform'])_0x46d74f['calculateT'+'ransform']($i,Cl);else{const _0xfe9eae=_0x46d74f['_node']['getPositio'+'n'](),_0x56b785=_0x46d74f['_node']['getRotatio'+'n']();$i['setTRS'](_0xfe9eae,_0x56b785,T['ONE']),this['viewInvId']['setValue']($i['data']);}Pn['copy']($i)['invert'](),Wi['mul2'](_0x169bda,Pn),_0x46d74f['frustum']['setFromMat'+'4'](Wi);}['setBaseCon'+'stants'](_0x30106b,_0xff9eaf){_0x30106b['setCullMod'+'e'](_0xff9eaf['cull']),_0xff9eaf['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0xff9eaf['opacityMap']),(_0xff9eaf['opacityMap']||_0xff9eaf['alphaTest']>0x179c*-0x1+0x35*-0xa3+-0x1*-0x395b)&&this['alphaTestI'+'d']['setValue'](_0xff9eaf['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x2deb19){Ld++;const _0x2fee04=_0x2deb19['length'];if(_0x2fee04===-0x97*0x35+0x7c8*-0x4+0x3e63*0x1)return;const _0x2fe4f2=re();for(let _0x45de10=0x233+0x42*0x28+-0xc83;_0x45de10<_0x2fee04;_0x45de10++){const _0x171647=_0x2deb19[_0x45de10]['skinInstan'+'ce'];_0x171647&&(_0x171647['updateMatr'+'ices'](_0x2deb19[_0x45de10]['node'],Ld),_0x171647['_dirty']=!(-0x801+-0x1*0x1718+-0x1a3*-0x13));}this['_skinTime']+=re()-_0x2fe4f2;}['updateGpuS'+'kinMatrice'+'s'](_0x2de426){const _0x3eece2=re();for(const _0x508bf2 of _0x2de426){const _0x1f09b9=_0x508bf2['skinInstan'+'ce'];_0x1f09b9&&_0x1f09b9['_dirty']&&(_0x1f09b9['updateMatr'+'ixPalette'](_0x508bf2['node'],Ld),_0x1f09b9['_dirty']=!(-0x36*-0x12+-0xf07*0x2+-0x1a43*-0x1));}this['_skinTime']+=re()-_0x3eece2;}['updateMorp'+'hing'](_0x49a761){const _0x1c7b52=re();for(const _0x5ba74b of _0x49a761){const _0xec0450=_0x5ba74b['morphInsta'+'nce'];_0xec0450&&_0xec0450['_dirty']&&_0xec0450['update']();}this['_morphTime']+=re()-_0x1c7b52;}['updateGSpl'+'ats'](_0x4b3a25){var _0x467249;for(const _0x11782c of _0x4b3a25)(_0x467249=_0x11782c['gsplatInst'+'ance'])==null||_0x467249['update']();}['gpuUpdate'](_0x20b98c){this['updateGpuS'+'kinMatrice'+'s'](_0x20b98c),this['updateMorp'+'hing'](_0x20b98c),this['updateGSpl'+'ats'](_0x20b98c);}['setVertexB'+'uffers'](_0x9968ce,_0x1e9dfe){_0x9968ce['setVertexB'+'uffer'](_0x1e9dfe['vertexBuff'+'er']);}['setMorphin'+'g'](_0x43f665,_0x2cfcb5){_0x2cfcb5&&(_0x2cfcb5['prepareRen'+'dering'](_0x43f665),_0x43f665['setVertexB'+'uffer'](_0x2cfcb5['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x2cfcb5['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x2cfcb5['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x2cfcb5['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x53426a,_0xd4b665){const _0x1ce428=_0xd4b665['skinInstan'+'ce'];if(_0x1ce428){this['_skinDrawC'+'alls']++;const _0x1edfa6=_0x1ce428['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x1edfa6),this['boneTextur'+'eSizeId']['setValue'](_0x1ce428['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x33ea0b){const _0x5c7ce3=this['viewPos'];_0x5c7ce3[0x2*0xb23+-0xa7*-0x17+-0x2547*0x1]=_0x33ea0b['x'],_0x5c7ce3[0x2*0x9f7+-0x9*0xad+-0xdd8]=_0x33ea0b['y'],_0x5c7ce3[-0x63f+-0xf1d*-0x1+0xbd*-0xc]=_0x33ea0b['z'],this['viewPosId']['setValue'](_0x5c7ce3);}['initViewBi'+'ndGroupFor'+'mat'](_0x260dd8){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x5de4ec=[new yt('matrix_vie'+'wProjectio'+'n',va),new yt('cubeMapRot'+'ationMatri'+'x',Oo),new yt('view_posit'+'ion',Xt),new yt('skyboxInte'+'nsity',$s),new yt('exposure',$s),new yt('textureBia'+'s',$s)];_0x260dd8&&_0x5de4ec['push'](new yt('clusterCel'+'lsCountByB'+'oundsSize',Xt),new yt('clusterTex'+'tureSize',Xt),new yt('clusterBou'+'ndsMin',Xt),new yt('clusterBou'+'ndsDelta',Xt),new yt('clusterCel'+'lsDot',Xt),new yt('clusterCel'+'lsMax',Xt),new yt('clusterCom'+'pressionLi'+'mit0',lr),new yt('shadowAtla'+'sParams',lr),new yt('clusterMax'+'Cells',ln),new yt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x5de4ec);const _0x4cb04c=[new mp(pp,fp|ci),new mi('lightsText'+'ureFloat',ci,Us,ad),new mi('lightsText'+'ure8',ci,Us,ad),new mi('shadowAtla'+'sTexture',ci,Us,jS),new mi('cookieAtla'+'sTexture',ci,Us,lh),new mi('areaLights'+'LutTex1',ci,Us,lh),new mi('areaLights'+'LutTex2',ci,Us,lh)];_0x260dd8&&_0x4cb04c['push'](new mi('clusterWor'+'ldTexture',ci,Us,ad)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x4cb04c);}}['setupViewU'+'niformBuff'+'ers'](_0x185e0a,_0x3a9b8c,_0xedd4f4,_0x2016c2){v['assert'](Array['isArray'](_0x185e0a),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x106704=this['device'];for(v['assert'](_0x2016c2===-0x19*0x2a+0x4*-0x3ce+0x1353,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x185e0a['length']<_0x2016c2;){const _0x197e52=new yp(_0x106704,_0x3a9b8c,!(0xa5b+0x175a+0x59e*-0x6)),_0x588fa3=new _p(_0x106704,_0xedd4f4,_0x197e52);_n['setName'](_0x588fa3,'ViewBindGr'+'oup_'+_0x588fa3['id']),_0x185e0a['push'](_0x588fa3);}const _0x4b1d60=_0x185e0a[0x3a*-0xd+0xbf*0x1a+-0x1074];_0x4b1d60['defaultUni'+'formBuffer']['update'](),_0x4b1d60['update'](),_0x106704['setBindGro'+'up'](Lh,_0x4b1d60);}['setupMeshU'+'niformBuff'+'ers'](_0x4f3da2,_0x453b22){const _0x3d3ce8=this['device'];if(_0x3d3ce8['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x453b22['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x453b22['node']['normalMatr'+'ix']['data']);const _0x5ce90b=_0x4f3da2['getBindGro'+'up'](_0x3d3ce8);_0x5ce90b['update'](),_0x3d3ce8['setBindGro'+'up'](Xy,_0x5ce90b),_0x4f3da2['getUniform'+'Buffer'](_0x3d3ce8)['update'](Bd),_0x3d3ce8['setBindGro'+'up'](Eu,Bd['bindGroup'],Bd['offsets']);}}['drawInstan'+'ce'](_0xb8599,_0x74af5d,_0x5e1208,_0x34167a,_0x1e9f48){const _0x16ad32=_0x74af5d['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x16ad32['data']),_0x1e9f48&&this['normalMatr'+'ixId']['setValue'](_0x74af5d['node']['normalMatr'+'ix']['data']);const _0x40f9c7=_0x74af5d['instancing'+'Data'];_0x40f9c7?_0x40f9c7['count']>-0x1a6d+-0x10*-0x151+0x1*0x55d?(this['_instanced'+'DrawCalls']++,_0xb8599['setVertexB'+'uffer'](_0x40f9c7['vertexBuff'+'er']),_0xb8599['draw'](_0x5e1208['primitive'][_0x34167a],_0x40f9c7['count'])):_0xb8599['clearVerte'+'xBuffer']():_0xb8599['draw'](_0x5e1208['primitive'][_0x34167a]);}['drawInstan'+'ce2'](_0x3e9d37,_0x3d4f7e,_0x1d50b1,_0x2e5ee3){const _0x354211=_0x3d4f7e['instancing'+'Data'];_0x354211?_0x354211['count']>-0x3*0x679+0x1fcd+-0x13d*0xa?(this['_instanced'+'DrawCalls']++,_0x3e9d37['draw'](_0x1d50b1['primitive'][_0x2e5ee3],_0x354211['count'],!(0x305*0x9+0x1175+-0x2ca2))):_0x3e9d37['clearVerte'+'xBuffer']():_0x3e9d37['draw'](_0x1d50b1['primitive'][_0x2e5ee3],void(0x1*0x399+0x8bc+-0xc55),!(-0x204d*-0x1+0x32*0x3+0x1*-0x20e3));}['cull'](_0x32ea5a,_0xee8f89,_0x2f82e8){const _0x497389=re(),_0x2dfee2=_0x2f82e8['opaque'];_0x2dfee2['length']=0x10*0xc4+0x1*0x13e4+-0x2024;const _0x43e765=_0x2f82e8['transparen'+'t'];_0x43e765['length']=-0xba6+0x1cf3+0x67*-0x2b;const _0x5cfdb3=_0x32ea5a['frustumCul'+'ling'],_0x157277=_0xee8f89['length'];for(let _0x431a65=-0x226f+-0x268d+0x48fc;_0x431a65<_0x157277;_0x431a65++){const _0x5d8581=_0xee8f89[_0x431a65];_0x5d8581['visible']&&(!_0x5cfdb3||!_0x5d8581['cull']||_0x5d8581['_isVisible'](_0x32ea5a))&&(_0x5d8581['visibleThi'+'sFrame']=!(-0x1559+0x1853+-0x2fa),(_0x5d8581['transparen'+'t']?_0x43e765:_0x2dfee2)['push'](_0x5d8581),(_0x5d8581['skinInstan'+'ce']||_0x5d8581['morphInsta'+'nce']||_0x5d8581['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x5d8581),_0x5d8581['gsplatInst'+'ance']&&_0x5d8581['gsplatInst'+'ance']['cameras']['push'](_0x32ea5a)));}this['_cullTime']+=re()-_0x497389,this['_numDrawCa'+'llsCulled']+=_0x5cfdb3?_0x157277:0x9a7*-0x3+-0x258d+-0x2*-0x2141;}['collectLig'+'hts'](_0x3156b7){this['lights']['length']=-0xb54+0xc7d+-0x129,this['localLight'+'s']['length']=-0x21cc+-0xc88+0x2e54;const _0x1c037e=this['scene']['_stats'];_0x1c037e['dynamicLig'+'hts']=0xf52*0x2+0x114c+0xd0*-0x3b,_0x1c037e['bakedLight'+'s']=-0x1633*-0x1+-0xb*-0x351+-0x3aae;const _0x2e392d=_0x3156b7['layerList']['length'];for(let _0x187b66=0x15f7*0x1+0x17a5+-0x2d9c;_0x187b66<_0x2e392d;_0x187b66++){const _0x2c0216=_0x3156b7['layerList'][_0x187b66];if(!Od['has'](_0x2c0216)){Od['add'](_0x2c0216);const _0xaa1e49=_0x2c0216['_lights'];for(let _0x3497c3=-0xc84+-0x1cf9*-0x1+0x1075*-0x1;_0x3497c3<_0xaa1e49['length'];_0x3497c3++){const _0x228458=_0xaa1e49[_0x3497c3];kd['has'](_0x228458)||(kd['add'](_0x228458),this['lights']['push'](_0x228458),_0x228458['_type']!==ae&&this['localLight'+'s']['push'](_0x228458),(_0x228458['mask']&ds||_0x228458['mask']&cr)&&_0x1c037e['dynamicLig'+'hts']++,_0x228458['mask']&nr&&_0x1c037e['bakedLight'+'s']++);}}}_0x1c037e['lights']=this['lights']['length'],kd['clear'](),Od['clear']();}['cullLights'](_0x1dcd26,_0x63139a){const _0x46ea22=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x3ad0eb=this['scene']['physicalUn'+'its'];for(let _0x55352e=-0x2406+-0xb26+-0xbcb*-0x4;_0x55352e<_0x63139a['length'];_0x55352e++){const _0x49ed06=_0x63139a[_0x55352e];if(_0x49ed06['enabled']){if(_0x49ed06['_type']!==ae){if(_0x49ed06['getBoundin'+'gSphere'](Fd),_0x1dcd26['frustum']['containsSp'+'here'](Fd)){_0x49ed06['visibleThi'+'sFrame']=!(-0x3*-0x8bb+0x1fc+-0x1c2d*0x1),_0x49ed06['usePhysica'+'lUnits']=_0x3ad0eb;const _0x1e4ecf=_0x1dcd26['getScreenS'+'ize'](Fd);_0x49ed06['maxScreenS'+'ize']=Math['max'](_0x49ed06['maxScreenS'+'ize'],_0x1e4ecf);}else _0x46ea22||_0x49ed06['castShadow'+'s']&&!_0x49ed06['shadowMap']&&(_0x49ed06['visibleThi'+'sFrame']=!(-0x7*0x199+0x2a2+0x88d));}else _0x49ed06['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x467a5f){const _0x39ff31=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x3bc44e=-0x8d9+-0x1094*-0x1+-0x7bb*0x1;_0x3bc44e<this['localLight'+'s']['length'];_0x3bc44e++){const _0x390c87=this['localLight'+'s'][_0x3bc44e];_0x390c87['_type']!==ae&&(_0x39ff31?_0x390c87['atlasSlotU'+'pdated']&&_0x390c87['shadowUpda'+'teMode']===Is&&(_0x390c87['shadowUpda'+'teMode']=dn):_0x390c87['shadowUpda'+'teMode']===Is&&_0x390c87['castShadow'+'s']&&(_0x390c87['getRenderD'+'ata'](null,-0x1958+0x5*-0x43c+0x1a*0x1ca)['shadowCame'+'ra']['renderTarg'+'et']||(_0x390c87['shadowUpda'+'teMode']=dn)),_0x390c87['visibleThi'+'sFrame']&&_0x390c87['castShadow'+'s']&&_0x390c87['shadowUpda'+'teMode']!==Is&&this['_shadowRen'+'dererLocal']['cull'](_0x390c87,_0x467a5f));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x524bc9=_0x467a5f['cameras'];for(let _0x20ae88=-0x1*-0x101a+0x38*0x47+-0x1fa2;_0x20ae88<_0x524bc9['length'];_0x20ae88++){const _0x34044c=_0x524bc9[_0x20ae88];if(_0x34044c['enabled']){const _0x5484f2=_0x34044c['camera'];let _0x20437a;const _0x24129c=_0x5484f2['layers'];for(let _0x5c5a99=0x2530+0x1719+-0x3c49;_0x5c5a99<_0x24129c['length'];_0x5c5a99++){const _0x55f5ab=_0x467a5f['getLayerBy'+'Id'](_0x24129c[_0x5c5a99]);if(_0x55f5ab){const _0x2173bf=_0x55f5ab['splitLight'+'s'][ae];for(let _0x163695=0x1*-0x33a+0x10c7+0xd8d*-0x1;_0x163695<_0x2173bf['length'];_0x163695++){const _0x261834=_0x2173bf[_0x163695];_0x261834['castShadow'+'s']&&!Rn['has'](_0x261834)&&(Rn['add'](_0x261834),_0x20437a=_0x20437a??[],_0x20437a['push'](_0x261834),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x261834,_0x467a5f,_0x5484f2));}}}_0x20437a&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x5484f2,_0x20437a),Rn['clear']();}}}['cullCompos'+'ition'](_0x56dbc9){const _0x2a1f50=re(),{scene:_0x5ec169}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x5184f4=_0x56dbc9['cameras']['length'];this['_camerasRe'+'ndered']+=_0x5184f4;for(let _0x41f0d3=-0x9a9*0x1+-0x7f*0x3d+-0xa*-0x3fe;_0x41f0d3<_0x5184f4;_0x41f0d3++){const _0x123aca=_0x56dbc9['cameras'][_0x41f0d3];_0x5ec169==null||_0x5ec169['fire'](ow,_0x123aca);const _0x6e36b7=_0x123aca['renderTarg'+'et'];_0x123aca['frameUpdat'+'e'](_0x6e36b7),this['updateCame'+'raFrustum'](_0x123aca['camera']);const _0x5565ac=_0x123aca['layers'];for(let _0x4b3711=0x18*-0x16a+-0x18e6*-0x1+-0x2*-0x485;_0x4b3711<_0x5565ac['length'];_0x4b3711++){const _0xada81c=_0x56dbc9['getLayerBy'+'Id'](_0x5565ac[_0x4b3711]);if(_0xada81c&&_0xada81c['enabled']){this['cullLights'](_0x123aca['camera'],_0xada81c['_lights']);const _0x45c206=_0xada81c['getCulledI'+'nstances'](_0x123aca['camera']);this['cull'](_0x123aca['camera'],_0xada81c['meshInstan'+'ces'],_0x45c206);}}_0x5ec169==null||_0x5ec169['fire'](lw,_0x123aca);}_0x5ec169['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x56dbc9),this['_cullTime']+=re()-_0x2a1f50;}['updateShad'+'ers'](_0x5ebf98,_0xe3d5d7){const _0x282003=_0x5ebf98['length'];for(let _0x29103a=-0x2b3*0x9+-0x12bc+0x2b07*0x1;_0x29103a<_0x282003;_0x29103a++){const _0x18de96=_0x5ebf98[_0x29103a]['material'];if(_0x18de96&&!Rn['has'](_0x18de96)&&(Rn['add'](_0x18de96),_0x18de96['getShaderV'+'ariant']!==xn['prototype']['getShaderV'+'ariant'])){if(_0xe3d5d7&&(!_0x18de96['useLightin'+'g']||_0x18de96['emitter']&&!_0x18de96['emitter']['lighting']))continue;_0x18de96['clearVaria'+'nts']();}}Rn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x553c03){const _0x434c01=this['scene'],_0x1bdd77=_0x434c01['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x2dfa2c=0x2*0x715+0x1*0x59c+0x13c6*-0x1;const _0x26ab1b=_0x553c03['layerList'],_0x150726=_0x26ab1b['length'];for(let _0xe91b6f=-0x238d+0x65*-0x53+0x2226*0x2;_0xe91b6f<_0x150726;_0xe91b6f++){const _0x51d6a4=_0x26ab1b[_0xe91b6f]['meshInstan'+'ces'],_0x57968b=_0x51d6a4['length'];_0x2dfa2c+=_0x57968b;for(let _0x2b74e2=-0x23de+0xcc9*0x1+0x1715;_0x2b74e2<_0x57968b;_0x2b74e2++){const _0x10673c=_0x51d6a4[_0x2b74e2];_0x10673c['visibleThi'+'sFrame']=!(-0x3*-0x469+-0x314*0x3+-0x3fe),_0x1bdd77&&Nd['push'](_0x10673c),_0x10673c['skinInstan'+'ce']&&zd['push'](_0x10673c);}}if(_0x434c01['_stats']['meshInstan'+'ces']=_0x2dfa2c,_0x1bdd77){const _0x36186c=!_0x434c01['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Nd,_0x36186c),_0x434c01['updateShad'+'ers']=!(-0x8*-0xdf+-0x209a+-0x19a3*-0x1),this['device']['_shadersDi'+'rty']=!(-0xb3b*-0x3+0x1d8d+-0x3f3d),_0x434c01['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](zd),Nd['length']=0x2539+-0x303+-0x2236,zd['length']=0x1ff5+0xca9+-0x2c9e;const _0x18a081=this['lights'],_0x16abf6=_0x18a081['length'];for(let _0x1c6f3d=0x45a*0x8+-0xde6+-0x14ea;_0x1c6f3d<_0x16abf6;_0x1c6f3d++)_0x18a081[_0x1c6f3d]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x333c17){const _0x7c3edf=re(),_0x314db6=_0x333c17['layerList']['length'],_0x311576=this['scene']['_shaderVer'+'sion'];for(let _0x3840d7=-0x222*0x5+0x219a+-0x16f0;_0x3840d7<_0x314db6;_0x3840d7++){const _0x39e211=_0x333c17['layerList'][_0x3840d7];_0x39e211['_shaderVer'+'sion']=_0x311576,_0x39e211['_skipRende'+'rCounter']=-0xf8e+-0x1*0x149d+-0x1*-0x242b,_0x39e211['_forwardDr'+'awCalls']=0x1978+-0x26*0x3+-0x1906,_0x39e211['_shadowDra'+'wCalls']=-0x189*0x11+-0x1b*-0xc6+0x537,_0x39e211['_renderTim'+'e']=0x59*-0x23+-0xb*-0x2cc+-0x3*0x633;}_0x333c17['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=re()-_0x7c3edf;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x25c9+-0x2133+-0x17*0x33),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x2*-0x511+0x1*0x14ce+-0x1*0x1eef),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x1f03+-0xa07*-0x1+0x3bb*-0xb),this['clearDepth']=!(-0x841+-0x14c3+-0x17*-0x143),this['clearStenc'+'il']=!(-0x1810+-0xab5*-0x1+-0x2ac*-0x5),this['triggerPos'+'tprocess']=!(0x11aa+-0x2704+0x155b),this['firstCamer'+'aUse']=!(0x18d*0x19+0x2023+-0x7*0xa21),this['lastCamera'+'Use']=!(0xb*0x38b+0x191*-0x17+-0x2f1),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x6*0x66c+0x1*-0x1440+0x1*-0x1247));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x494dcc=>{_0x494dcc['defaultUni'+'formBuffer']['destroy'](),_0x494dcc['destroy']();}),this['viewBindGr'+'oups']['length']=0x24c7*-0x1+-0x2612+0x3*0x18f3;}['setupClear'+'s'](_0x200504,_0x286f63){this['clearColor']=(_0x200504==null?void(-0x18ff+-0x1be3+0x34e2):_0x200504['clearColor'+'Buffer'])||_0x286f63['clearColor'+'Buffer'],this['clearDepth']=(_0x200504==null?void(-0x1ea+-0x241*0x11+-0x3*-0xd69):_0x200504['clearDepth'+'Buffer'])||_0x286f63['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x200504==null?void(-0x1aa1*-0x1+-0x1a7a+-0x27*0x1):_0x200504['clearStenc'+'ilBuffer'])||_0x286f63['clearStenc'+'ilBuffer'];}}class LM extends fs{constructor(_0x3aa0ed,_0x156fa3,_0x15fd67,_0x37d8fd){super(_0x3aa0ed),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0x1644+0xdc2+-0x2405)),(this['layerCompo'+'sition']=_0x156fa3,this['scene']=_0x15fd67,this['renderer']=_0x37d8fd);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x2*0x223+-0xc8a+0x4*0x434;}['addRenderA'+'ction'](_0x130b37){this['renderActi'+'ons']['push'](_0x130b37);}['addLayer'](_0x3cca6f,_0x581a4d,_0x47319a,_0x5c39d4=!(-0x1*-0x1d55+0x8b*-0x7+-0x4*0x662)){v['assert'](_0x3cca6f),v['assert'](this['renderTarg'+'et']!==void(-0x3*0xc6+-0x1af*0xa+0x265*0x8),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x3cca6f['camera']['layersSet']['has'](_0x581a4d['id']),'Camera\x20'+_0x3cca6f['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x581a4d['name']+'.');const _0x403927=new D0();if(_0x403927['renderTarg'+'et']=this['renderTarg'+'et'],_0x403927['camera']=_0x3cca6f,_0x403927['layer']=_0x581a4d,_0x403927['transparen'+'t']=_0x47319a,_0x5c39d4){const _0x58c4ea=this['renderActi'+'ons']['length']===-0x1f74+0x883+-0x1*-0x16f1;_0x403927['setupClear'+'s'](_0x58c4ea?_0x3cca6f:void(-0x1792+0x2*-0x517+0x438*0x8),_0x581a4d);}this['addRenderA'+'ction'](_0x403927);}['addLayers'](_0x277182,_0x12db63,_0x48a7dd,_0x2b1665,_0x1c7c24,_0x12fe6d=!(-0x13b0+-0x2f*0xa7+-0x1*-0x3259)){const {layerList:_0x324066,subLayerList:_0x324d22}=_0x277182;let _0x34647e=_0x2b1665,_0x5c0481=_0x48a7dd;for(;_0x5c0481<_0x324066['length'];){const _0x423e15=_0x324066[_0x5c0481],_0x50e772=_0x324d22[_0x5c0481];if(_0x12db63['camera']['layersSet']['has'](_0x423e15['id'])&&(this['addLayer'](_0x12db63,_0x423e15,_0x50e772,_0x34647e),_0x34647e=!(0x1d8+0x512+-0x6e9)),_0x5c0481++,_0x423e15['id']===_0x1c7c24&&_0x50e772===_0x12fe6d)break;}return _0x5c0481;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x42b3ea,renderActions:_0x1ac102}=this;for(let _0x34b93d=0xb1e*-0x1+-0x1*0x124c+0xeb5*0x2;_0x34b93d<_0x1ac102['length'];_0x34b93d++){const _0x62bfd6=_0x1ac102[_0x34b93d]['camera']['camera'],_0x5c51e6=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x62bfd6);if(_0x5c51e6)for(let _0x5b7fcb=-0x111a+-0xc99+0x1db3;_0x5b7fcb<_0x5c51e6['length'];_0x5b7fcb++){const _0x54dea0=_0x5c51e6[_0x5b7fcb];if(_0x42b3ea['dirLightSh'+'adows']['get'](_0x54dea0)!==_0x62bfd6){_0x42b3ea['dirLightSh'+'adows']['set'](_0x54dea0,_0x62bfd6);const _0x2fe0c8=_0x42b3ea['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x54dea0,_0x62bfd6);_0x2fe0c8&&this['beforePass'+'es']['push'](_0x2fe0c8);}}}}['updateClea'+'rs'](){const _0x130bf3=this['renderActi'+'ons'][0x25a3+0x69*0x1a+-0x5*0x9a9];if(_0x130bf3){const _0x1c36bc=_0x130bf3['camera']['camera'],_0x26a26b=_0x1c36bc['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x26a26b&&_0x130bf3['clearColor']?_0x1c36bc['clearColor']:void(0xf7*-0x26+0x19b+0x167*0x19)),this['setClearDe'+'pth'](_0x26a26b&&_0x130bf3['clearDepth']&&!this['noDepthCle'+'ar']?_0x1c36bc['clearDepth']:void(0x1f89+-0x972*0x4+-0x3*-0x215)),this['setClearSt'+'encil'](_0x26a26b&&_0x130bf3['clearStenc'+'il']?_0x1c36bc['clearStenc'+'il']:void(-0xe30+0xb06+0x32a));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x1494c3}=this;for(let _0x1d5800=-0xbbb+0x191+0xa2a;_0x1d5800<_0x1494c3['length'];_0x1d5800++){const _0x310c93=_0x1494c3[_0x1d5800];_0x310c93['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x310c93['camera']);}}['execute'](){const {layerComposition:_0x1051ba,renderActions:_0x3bd14b}=this;for(let _0x248e8a=-0x4*-0x5e2+0x14a0+0x274*-0x12;_0x248e8a<_0x3bd14b['length'];_0x248e8a++){const _0x5201dd=_0x3bd14b[_0x248e8a],_0x545a28=_0x5201dd['layer'];v['call'](()=>{_0x1051ba['getLayerBy'+'Name'](_0x545a28['name'])||v['warnOnce']('Layer\x20'+_0x545a28['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x1051ba['isEnabled'](_0x545a28,_0x5201dd['transparen'+'t'])&&this['renderRend'+'erAction'](_0x5201dd,_0x248e8a===0x1a97+-0xc20+0x17*-0xa1);}}['after'](){for(let _0x55c37f=-0x10b5+-0x8ba+0x1*0x196f;_0x55c37f<this['renderActi'+'ons']['length'];_0x55c37f++){const _0x434f24=this['renderActi'+'ons'][_0x55c37f];_0x434f24['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x434f24['camera']);}this['beforePass'+'es']['length']=-0x1*-0x1f31+0xccd+-0x2bfe;}['renderRend'+'erAction'](_0x1e9c29,_0x33b9b5){var _0x201b5b;const {renderer:_0x599406,scene:_0x18ea15}=this,_0x504c4d=_0x599406['device'],{layer:_0x3580e6,transparent:_0x4c03ab,camera:_0x1833ff}=_0x1e9c29;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x1833ff?_0x1833ff['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x3580e6['name']+'('+(_0x4c03ab?'TRANSP':'OPAQUE')+')');const _0x37718b=re();if(_0x1833ff){const _0x2b923c=_0x1833ff['gammaCorre'+'ction'],_0x137123=_0x1833ff['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0xd*0x83+0x98*0x40+-0x2ca7)&&(_0x1833ff['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x1893*-0x1+0x1*-0xf13+0x27a6)&&(_0x1833ff['toneMappin'+'g']=this['toneMappin'+'g']),_0x18ea15['fire'](nw,_0x1833ff,_0x3580e6,_0x4c03ab);const _0x5d6450={'lightClusters':_0x1e9c29['lightClust'+'ers']},_0x41e936=((_0x201b5b=_0x1833ff['camera']['shaderPass'+'Info'])==null?void(0x210c+0x265*0xb+-0x3b63):_0x201b5b['index'])??yn;(!_0x33b9b5||!_0x1833ff['camera']['fullSizeCl'+'earRect'])&&(_0x5d6450['clearColor']=_0x1e9c29['clearColor'],_0x5d6450['clearDepth']=_0x1e9c29['clearDepth'],_0x5d6450['clearStenc'+'il']=_0x1e9c29['clearStenc'+'il']);const _0x316131=_0x1e9c29['renderTarg'+'et']??_0x504c4d['backBuffer'];_0x599406['renderForw'+'ardLayer'](_0x1833ff['camera'],_0x316131,_0x3580e6,_0x4c03ab,_0x41e936,_0x1e9c29['viewBindGr'+'oups'],_0x5d6450),_0x504c4d['setBlendSt'+'ate'](_t['NOBLEND']),_0x504c4d['setStencil'+'State'](null,null),_0x504c4d['setAlphaTo'+'Coverage'](!(-0x1*0xfdd+0x1*-0x10ee+0x1*0x20cc)),_0x18ea15['fire'](aw,_0x1833ff,_0x3580e6,_0x4c03ab),this['gammaCorre'+'ction']!==void(-0x1*0xa2a+-0x3*0x2d1+0x129d)&&(_0x1833ff['gammaCorre'+'ction']=_0x2b923c),this['toneMappin'+'g']!==void(0x2*-0x1319+0x781*0x2+0x6a*0x38)&&(_0x1833ff['toneMappin'+'g']=_0x137123);}G['popGpuMark'+'er'](this['device']),_0x3580e6['_renderTim'+'e']+=re()-_0x37718b;}['log'](_0x11d54c,_0x41f485){if(super['log'](_0x11d54c,_0x41f485),Xs['get'](ea)){const {layerComposition:_0x57bc43}=this;this['renderActi'+'ons']['forEach']((_0x489294,_0x36db29)=>{const _0xec4061=_0x489294['layer'],_0x24f173=_0xec4061['enabled']&&_0x57bc43['isEnabled'](_0xec4061,_0x489294['transparen'+'t']),_0x4ea0d7=_0x489294['camera'];v['trace'](ea,'\x20\x20\x20\x20'+_0x36db29+':'+('\x20Cam:\x20'+(_0x4ea0d7?_0x4ea0d7['entity']['name']:'-'))['padEnd'](-0x28*0x7d+0x1c8b+0x5*-0x1c9,'\x20')+('\x20Lay:\x20'+_0xec4061['name'])['padEnd'](-0xb3*0x8+-0x1a1*-0x11+-0x1603,'\x20')+(_0x489294['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x24f173?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0xec4061['meshInstan'+'ces']['length'])['padEnd'](-0x138f+-0xcc*0x1c+-0x4*-0xa79,'\x20'));});}}}class FM extends fs{constructor(_0x4eba76,_0x3187fa,_0x239068){super(_0x4eba76),this['renderer']=_0x3187fa,this['renderActi'+'on']=_0x239068,this['requiresCu'+'bemaps']=!(-0x3*-0x815+-0x16f0+-0x14e);}['execute'](){const _0x40e0a3=this['renderActi'+'on'],_0x2507c7=_0x40e0a3['camera'];v['assert'](_0x40e0a3['triggerPos'+'tprocess']&&_0x2507c7['onPostproc'+'essing']),_0x2507c7['onPostproc'+'essing']();}}const kM=[[],[],[]],qi=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x1b46*0x1+0x22a9+-0xc63*0x5,this['shaderInst'+'ances']['length']=0x35e*-0x9+0x575*-0x3+0x2ead,this['isNewMater'+'ial']['length']=0x174d+0x1fb3+-0x3700,this['lightMaskC'+'hanged']['length']=-0x515*-0x5+0x14*-0x191+0x65*0xf;}};function OM(_0x39dcba){const _0x28819c=[];for(let _0x4e9c74=-0x216b+0x1624+0xb47;_0x4e9c74<_0x39dcba;++_0x4e9c74){const _0x2889f9=Math['sqrt'](_0x4e9c74+(-0x4ea+0x1041+0xb57*-0x1+0.5))/Math['sqrt'](_0x39dcba);_0x28819c['push'](_0x2889f9);}return _0x28819c;}function BM(_0x39122e){const _0x2df381=[];for(let _0x3c8cd7=0x4*0x2b6+0x1309+-0x1de1*0x1;_0x3c8cd7<_0x39122e;_0x3c8cd7++){const _0x5ba2c4=_0x3c8cd7/_0x39122e,_0x334b82=Math['sqrt'](_0x5ba2c4*_0x5ba2c4);_0x2df381['push'](_0x334b82);}return _0x2df381;}const yi=class yi extends DM{constructor(_0x25aabc){super(_0x25aabc);const _0x5c23e1=this['device'];this['_forwardDr'+'awCalls']=-0x1*-0x23fb+0x1022+-0x1*0x341d,this['_materialS'+'witches']=-0xdd5*-0x1+0x2*0x1091+0x445*-0xb,this['_depthMapT'+'ime']=0x19*-0x139+0x10e8+0x1*0xda9,this['_forwardTi'+'me']=-0x62b*0x2+0x180e+-0xbb8*0x1,this['_sortTime']=-0x2044+0x9e*-0x37+-0x2a6*-0x19;const _0x40c318=_0x5c23e1['scope'];this['fogColorId']=_0x40c318['resolve']('fog_color'),this['fogStartId']=_0x40c318['resolve']('fog_start'),this['fogEndId']=_0x40c318['resolve']('fog_end'),this['fogDensity'+'Id']=_0x40c318['resolve']('fog_densit'+'y'),this['ambientId']=_0x40c318['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x40c318['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x40c318['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x40c318['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x40c318['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x40c318['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x1a34+-0x50+-0x19e0),this['fogColor']=new Float32Array(0x93e+-0x17ed+-0x9*-0x1a2),this['ambientCol'+'or']=new Float32Array(-0x9f*0x31+0x2222*-0x1+0x4094),this['pcssDiskSa'+'mples']=OM(0x1e95*-0x1+-0x14*-0x47+0x5*0x505),this['pcssSphere'+'Samples']=BM(0x1ef7*-0x1+0x6a2+0x1865);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x98a5dd){const _0x1388ce=this['ambientCol'+'or'];if(qi['linear'](_0x98a5dd['ambientLig'+'ht']),_0x1388ce[-0x3b*-0x13+0x133c*-0x2+0x2217]=qi['r'],_0x1388ce[0x63d*-0x1+-0x1553+0x1b91]=qi['g'],_0x1388ce[0x2163+0xba8+-0x66f*0x7]=qi['b'],_0x98a5dd['physicalUn'+'its']){for(let _0x488352=0x1c58+-0x13ad+-0x8ab;_0x488352<-0x15*-0x19c+0xa3e+-0x297*0x11;_0x488352++)_0x1388ce[_0x488352]*=_0x98a5dd['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x1388ce),this['skyboxInte'+'nsityId']['setValue'](_0x98a5dd['physicalUn'+'its']?_0x98a5dd['skyboxLumi'+'nance']:_0x98a5dd['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x98a5dd['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x3b9f77,_0x25cb80){const _0x1b5534='light'+_0x25cb80;this['lightColor'+'Id'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+'_color'),this['lightDir'][_0x25cb80]=new Float32Array(0x1*0x1459+0x1*-0x223f+-0x3*-0x4a3),this['lightDirId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+'_direction'),this['lightShado'+'wMapId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+'_radius'),this['lightPos'][_0x25cb80]=new Float32Array(-0x226a+-0x1e62+-0x2f*-0x161),this['lightPosId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+'_position'),this['lightWidth'][_0x25cb80]=new Float32Array(-0x2*0xef3+-0x10c6+0x2eaf),this['lightWidth'+'Id'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+'_halfWidth'),this['lightHeigh'+'t'][_0x25cb80]=new Float32Array(-0x5*0xc5+0x1*-0x4f+0xb*0x61),this['lightHeigh'+'tId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+'_cookie'),this['lightCooki'+'eIntId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x25cb80]=_0x3b9f77['resolve'](_0x1b5534+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x466d0f,_0x48585b,_0x4e88f9,_0x286636,_0x38a95d){this['lightPos'][_0x48585b][-0x1*-0x1319+0x1b05+-0x2e1e]=_0x286636['x']-_0x4e88f9['x']*_0x38a95d,this['lightPos'][_0x48585b][0x39*0xa5+0x9ff+-0x2ebb]=_0x286636['y']-_0x4e88f9['y']*_0x38a95d,this['lightPos'][_0x48585b][-0x4f*-0x5c+-0xc42*-0x2+-0x34e6]=_0x286636['z']-_0x4e88f9['z']*_0x38a95d,this['lightPosId'][_0x48585b]['setValue'](this['lightPos'][_0x48585b]);const _0xdbaec1=_0x466d0f['transformV'+'ector'](new T(-(0x24*0xbd+-0xd*0x3d+0x177b*-0x1+0.5),0x5fd*0x2+-0x1*0x4b1+-0x749,-0xd*0xf0+-0x1a92+0x1c3*0x16));this['lightWidth'][_0x48585b][0x493+0x1*-0x23de+0x1f4b]=_0xdbaec1['x']*_0x38a95d,this['lightWidth'][_0x48585b][-0x3*0x1fc+0x165a+-0x1065]=_0xdbaec1['y']*_0x38a95d,this['lightWidth'][_0x48585b][-0x1805+0x139*0xb+0x54a*0x2]=_0xdbaec1['z']*_0x38a95d,this['lightWidth'+'Id'][_0x48585b]['setValue'](this['lightWidth'][_0x48585b]);const _0x5c8906=_0x466d0f['transformV'+'ector'](new T(0xddb+0x1*-0x9de+0x3fd*-0x1,-0x1d07*-0x1+-0x2*-0x217+-0x2135,0x2586+-0x8*-0x358+-0x4046+0.5));this['lightHeigh'+'t'][_0x48585b][0x1*-0x1a86+-0x10c+-0x2*-0xdc9]=_0x5c8906['x']*_0x38a95d,this['lightHeigh'+'t'][_0x48585b][0x2ed*0xa+0x2416+-0x4157]=_0x5c8906['y']*_0x38a95d,this['lightHeigh'+'t'][_0x48585b][0x1f*-0x119+0x23da+-0x1d1]=_0x5c8906['z']*_0x38a95d,this['lightHeigh'+'tId'][_0x48585b]['setValue'](this['lightHeigh'+'t'][_0x48585b]);}['dispatchDi'+'rectLights'](_0x550df2,_0x40cf23,_0x44daa5){let _0x1b2839=0x281+0x9e*-0xc+0x4e7;const _0x120ff4=this['device']['scope'];for(let _0x5c320d=-0x11b*-0x23+0x25a6+-0x1*0x4c57;_0x5c320d<_0x550df2['length'];_0x5c320d++){if(!(_0x550df2[_0x5c320d]['mask']&_0x40cf23))continue;const _0x2b6568=_0x550df2[_0x5c320d],_0x1a3184=_0x2b6568['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x1b2839]||this['_resolveLi'+'ght'](_0x120ff4,_0x1b2839),this['lightColor'+'Id'][_0x1b2839]['setValue'](_0x2b6568['_colorLine'+'ar']),_0x1a3184['getY'](_0x2b6568['_direction'])['mulScalar'](-(0x14ac+-0xc1*0x17+-0x354)),_0x2b6568['_direction']['normalize'](),this['lightDir'][_0x1b2839][-0xb56+0x1307+-0x7b1]=_0x2b6568['_direction']['x'],this['lightDir'][_0x1b2839][0x16*-0xbf+0x2b*0x23+0xa8a*0x1]=_0x2b6568['_direction']['y'],this['lightDir'][_0x1b2839][-0x1a9e*0x1+-0x1*0x98e+0x242e]=_0x2b6568['_direction']['z'],this['lightDirId'][_0x1b2839]['setValue'](this['lightDir'][_0x1b2839]),_0x2b6568['shape']!==xt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x1a3184,_0x1b2839,_0x2b6568['_direction'],_0x44daa5['_node']['getPositio'+'n'](),_0x44daa5['farClip']),_0x2b6568['castShadow'+'s']){const _0x14083a=_0x2b6568['getRenderD'+'ata'](_0x44daa5,-0xad*-0x2b+-0x1*0x2635+0x926),_0x3534ba=_0x2b6568['_getUnifor'+'mBiasValue'+'s'](_0x14083a);this['lightShado'+'wMapId'][_0x1b2839]['setValue'](_0x14083a['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x1b2839]['setValue'](_0x14083a['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x1b2839]['setValue'](_0x2b6568['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x1b2839]['setValue'](_0x2b6568['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x1b2839]['setValue'](_0x2b6568['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x1b2839]['setValue'](0x4*-0x5b8+-0x10ab+-0x1*-0x278c-_0x2b6568['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x1b2839]['setValue'](_0x2b6568['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x1b2839]['setValue'](_0x2b6568['_softShado'+'wParams']),_0x14083a['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x1b2839]['setValue'](_0x2b6568['penumbraSi'+'ze']/_0x14083a['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x14083a['projection'+'Compensati'+'on']);const _0x4ccaa8=_0x2b6568['_shadowCam'+'eraParams'];_0x4ccaa8['length']=-0x5*-0x18e+-0x1*-0x1+-0x1*0x7c3,_0x4ccaa8[0x496*-0x8+-0x1db*0x13+-0xa47*-0x7]=0xd*-0x202+0x5bf+-0x145b*-0x1,_0x4ccaa8[0x1f2c+0x5*-0x6bf+0x290]=_0x14083a['shadowCame'+'ra']['_farClip'],_0x4ccaa8[0x6b7+0x211e+-0x27d3]=_0x14083a['shadowCame'+'ra']['_nearClip'],_0x4ccaa8[0xfc8+0x8*-0xe3+-0x8ad*0x1]=-0x3bf+0x52+0x2*0x1b7,this['lightCamer'+'aParamsId'][_0x1b2839]['setValue'](_0x4ccaa8);const _0xbd6c07=_0x2b6568['_shadowRen'+'derParams'];_0xbd6c07['length']=-0x1227*-0x2+0x222b+-0x11*0x425,_0xbd6c07[-0x1b2d+0x1816+0x71*0x7]=_0x2b6568['_shadowRes'+'olution'],_0xbd6c07[0xe6*-0x8+0xd77+0x2*-0x323]=_0x3534ba['normalBias'],_0xbd6c07[-0x61f*-0x1+0x1c8f+-0x22ac]=_0x3534ba['bias'],_0xbd6c07[0x251e*0x1+-0x1*0x24c3+-0x58]=-0x18db+0x14bd+0x41e,this['lightShado'+'wParamsId'][_0x1b2839]['setValue'](_0xbd6c07);}_0x1b2839++;}return _0x1b2839;}['setLTCPosi'+'tionalLigh'+'t'](_0x40d7d1,_0xb420bb){const _0x97ffae=_0x40d7d1['transformV'+'ector'](new T(-(-0x3c+0x173c+0xb8*-0x20+0.5),-0x1435+0x1*-0x24dd+-0x2*-0x1c89,-0x243d*-0x1+-0x1678+0x2c1*-0x5));this['lightWidth'][_0xb420bb][-0x1706+-0xc08+0x230e]=_0x97ffae['x'],this['lightWidth'][_0xb420bb][0xa3*0x18+0x1a6*0x9+0x251*-0xd]=_0x97ffae['y'],this['lightWidth'][_0xb420bb][0x1*-0x338+0xc9*-0x1+0x4f*0xd]=_0x97ffae['z'],this['lightWidth'+'Id'][_0xb420bb]['setValue'](this['lightWidth'][_0xb420bb]);const _0x55646a=_0x40d7d1['transformV'+'ector'](new T(0xa56*0x1+-0xec2+-0x2*-0x236,0x1035*0x1+-0x879*0x1+-0x7bc,-0x15b4+-0x1b7+-0x1*-0x176b+0.5));this['lightHeigh'+'t'][_0xb420bb][-0x261d+0x3f2+0x222b]=_0x55646a['x'],this['lightHeigh'+'t'][_0xb420bb][-0x1*0x1ad1+-0x2551*0x1+0x4023]=_0x55646a['y'],this['lightHeigh'+'t'][_0xb420bb][0x6ed+0x770+-0xe5b]=_0x55646a['z'],this['lightHeigh'+'tId'][_0xb420bb]['setValue'](this['lightHeigh'+'t'][_0xb420bb]);}['dispatchOm'+'niLight'](_0x13898b,_0x67fb17,_0x3edd17){const _0x5bc352=_0x67fb17['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x3edd17]||this['_resolveLi'+'ght'](_0x13898b,_0x3edd17),this['lightRadiu'+'sId'][_0x3edd17]['setValue'](_0x67fb17['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x3edd17]['setValue'](_0x67fb17['_colorLine'+'ar']),_0x5bc352['getTransla'+'tion'](_0x67fb17['_position']),this['lightPos'][_0x3edd17][0x5e7*-0x2+0x2ff+-0x1*-0x8cf]=_0x67fb17['_position']['x'],this['lightPos'][_0x3edd17][0x7*-0x127+-0x545*0x2+0x129c]=_0x67fb17['_position']['y'],this['lightPos'][_0x3edd17][-0x2*0x17e+0x392+0x94*-0x1]=_0x67fb17['_position']['z'],this['lightPosId'][_0x3edd17]['setValue'](this['lightPos'][_0x3edd17]),_0x67fb17['shape']!==xt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x5bc352,_0x3edd17),_0x67fb17['castShadow'+'s']){const _0x42be7d=_0x67fb17['getRenderD'+'ata'](null,0xd*-0x216+-0x1*0x2419+0x1*0x3f37);this['lightShado'+'wMapId'][_0x3edd17]['setValue'](_0x42be7d['shadowBuff'+'er']);const _0x35277f=_0x67fb17['_getUnifor'+'mBiasValue'+'s'](_0x42be7d),_0x5b8b27=_0x67fb17['_shadowRen'+'derParams'];_0x5b8b27['length']=0x1840+0x11bd+-0x5*0x865,_0x5b8b27[0x2f9*-0x7+0x3a*-0x7d+0x1*0x3121]=_0x67fb17['_shadowRes'+'olution'],_0x5b8b27[0x19*-0x14e+0xaa3+0x15fc]=_0x35277f['normalBias'],_0x5b8b27[-0x5*-0x48b+0x138d+-0x2a42]=_0x35277f['bias'],_0x5b8b27[-0xf*0x223+0x2311+-0x301]=(0x2561+-0x4*0x6d5+-0xa0c)/_0x67fb17['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x3edd17]['setValue'](_0x5b8b27),this['lightShado'+'wIntensity'][_0x3edd17]['setValue'](_0x67fb17['shadowInte'+'nsity']);const _0x55314d=_0x67fb17['penumbraSi'+'ze']/_0x42be7d['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x3edd17]['setValue'](_0x55314d);const _0x23b226=_0x67fb17['_shadowCam'+'eraParams'];_0x23b226['length']=-0x257+-0x255+0x14*0x3c,_0x23b226[0x7*0x4f4+-0x4ff*0x6+-0x4b2]=-0x2325+0x2070+-0xb*-0x3f,_0x23b226[0xdae+-0xdc5+0x18]=_0x42be7d['shadowCame'+'ra']['_farClip'],_0x23b226[0x25a9+0x36a+0x2911*-0x1]=_0x42be7d['shadowCame'+'ra']['_nearClip'],_0x23b226[-0x425+0x16*-0xa3+0x122a]=-0x1145+0x1840*0x1+-0x6fb,this['lightCamer'+'aParamsId'][_0x3edd17]['setValue'](_0x23b226);}_0x67fb17['_cookie']&&(this['lightCooki'+'eId'][_0x3edd17]['setValue'](_0x67fb17['_cookie']),this['lightShado'+'wMatrixId'][_0x3edd17]['setValue'](_0x5bc352['data']),this['lightCooki'+'eIntId'][_0x3edd17]['setValue'](_0x67fb17['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x3ecc95,_0x17be21,_0x142110){const _0x2de6b5=_0x17be21['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x142110]||this['_resolveLi'+'ght'](_0x3ecc95,_0x142110),this['lightInAng'+'leId'][_0x142110]['setValue'](_0x17be21['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x142110]['setValue'](_0x17be21['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x142110]['setValue'](_0x17be21['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x142110]['setValue'](_0x17be21['_colorLine'+'ar']),_0x2de6b5['getTransla'+'tion'](_0x17be21['_position']),this['lightPos'][_0x142110][0x1*-0x815+0xbfb*-0x2+0x200b]=_0x17be21['_position']['x'],this['lightPos'][_0x142110][0x196d+-0x410+0x4*-0x557]=_0x17be21['_position']['y'],this['lightPos'][_0x142110][0x1c0d+0xac*0x7+0x65*-0x53]=_0x17be21['_position']['z'],this['lightPosId'][_0x142110]['setValue'](this['lightPos'][_0x142110]),_0x17be21['shape']!==xt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x2de6b5,_0x142110),_0x2de6b5['getY'](_0x17be21['_direction'])['mulScalar'](-(-0x5*0x6dd+0x1bb8+0x69a)),_0x17be21['_direction']['normalize'](),this['lightDir'][_0x142110][-0x12ec+0x5*-0x4d6+0x2b1a]=_0x17be21['_direction']['x'],this['lightDir'][_0x142110][0x118f+-0x1935+0x7a7]=_0x17be21['_direction']['y'],this['lightDir'][_0x142110][0x4a*-0x1a+-0x1a2f+0x21b5]=_0x17be21['_direction']['z'],this['lightDirId'][_0x142110]['setValue'](this['lightDir'][_0x142110]),_0x17be21['castShadow'+'s']){const _0xc75a60=_0x17be21['getRenderD'+'ata'](null,-0x1a*-0xce+0x8ca+-0xedb*0x2);this['lightShado'+'wMapId'][_0x142110]['setValue'](_0xc75a60['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x142110]['setValue'](_0xc75a60['shadowMatr'+'ix']['data']);const _0x1b076f=_0x17be21['_getUnifor'+'mBiasValue'+'s'](_0xc75a60),_0x3e35bb=_0x17be21['_shadowRen'+'derParams'];_0x3e35bb['length']=0x16a*0x9+-0x1*-0x71+0x1e1*-0x7,_0x3e35bb[0x223f*-0x1+-0x83f*-0x3+0x982]=_0x17be21['_shadowRes'+'olution'],_0x3e35bb[-0xa6*-0x12+-0x2437+0x623*0x4]=_0x1b076f['normalBias'],_0x3e35bb[-0xdca+0x5*0x1e5+0x453]=_0x1b076f['bias'],_0x3e35bb[0x1082+0x1bf6+-0x2c75]=(0x2429+0x1750+-0x1*0x3b78)/_0x17be21['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x142110]['setValue'](_0x3e35bb),this['lightShado'+'wIntensity'][_0x142110]['setValue'](_0x17be21['shadowInte'+'nsity']);const _0x461ac7=_0x17be21['penumbraSi'+'ze']/_0xc75a60['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x5a8881=_0xc75a60['shadowCame'+'ra']['_fov']*Math['PI']/(-0xca*-0x2+-0x469*0x3+-0xc5b*-0x1),_0x19e03d=(-0x872*0x1+-0x1734+0x1fa7)/Math['tan'](_0x5a8881/(-0x1*0x6fe+0x4b*-0xe+0xb1a*0x1));this['lightShado'+'wSearchAre'+'aId'][_0x142110]['setValue'](_0x461ac7*_0x19e03d);const _0x2c1c2e=_0x17be21['_shadowCam'+'eraParams'];_0x2c1c2e['length']=0x2f3*-0x8+0x22f4+-0xb58,_0x2c1c2e[0x1*-0x8a0+0x2b*0xe5+-0x1dd7]=0xd17+-0x8f4+0x3*-0x161,_0x2c1c2e[0x94b+-0x2*-0xbde+-0x6*0x581]=_0xc75a60['shadowCame'+'ra']['_farClip'],_0x2c1c2e[-0x4*0x2fe+0xef*0x7+0x571]=_0xc75a60['shadowCame'+'ra']['_nearClip'],_0x2c1c2e[-0x1c33*-0x1+-0x215f+0x52f]=-0x667+-0x7a*-0x46+-0x1af5,this['lightCamer'+'aParamsId'][_0x142110]['setValue'](_0x2c1c2e);}if(_0x17be21['_cookie']){if(!_0x17be21['castShadow'+'s']){const _0x4041ce=Pa['evalSpotCo'+'okieMatrix'](_0x17be21);this['lightShado'+'wMatrixId'][_0x142110]['setValue'](_0x4041ce['data']);}this['lightCooki'+'eId'][_0x142110]['setValue'](_0x17be21['_cookie']),this['lightCooki'+'eIntId'][_0x142110]['setValue'](_0x17be21['cookieInte'+'nsity']),_0x17be21['_cookieTra'+'nsform']&&(_0x17be21['_cookieTra'+'nsformUnif'+'orm'][-0x1*0xaf6+0x259*0x3+0x11*0x3b]=_0x17be21['_cookieTra'+'nsform']['x'],_0x17be21['_cookieTra'+'nsformUnif'+'orm'][-0x1cf6*0x1+-0xddb+0x2ad2]=_0x17be21['_cookieTra'+'nsform']['y'],_0x17be21['_cookieTra'+'nsformUnif'+'orm'][0x7d8+0x1f63+-0x1*0x2739]=_0x17be21['_cookieTra'+'nsform']['z'],_0x17be21['_cookieTra'+'nsformUnif'+'orm'][0xbdd+0x20e*0x11+-0x2ec8]=_0x17be21['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x142110]['setValue'](_0x17be21['_cookieTra'+'nsformUnif'+'orm']),_0x17be21['_cookieOff'+'setUniform'][0x1*-0x1981+-0x1*-0x687+0x12fa]=_0x17be21['_cookieOff'+'set']['x'],_0x17be21['_cookieOff'+'setUniform'][-0x4b3+0x207*-0x1+-0x6bb*-0x1]=_0x17be21['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x142110]['setValue'](_0x17be21['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x8e7a13,_0x2c7b25,_0x38b25b){let _0x546e4f=_0x38b25b;const _0x19968c=this['device']['scope'],_0x1ecbc3=_0x8e7a13[Pe],_0x592c7b=_0x1ecbc3['length'];for(let _0x1ba906=0x21db+-0xf99+-0x1242;_0x1ba906<_0x592c7b;_0x1ba906++){const _0x41f434=_0x1ecbc3[_0x1ba906];_0x41f434['mask']&_0x2c7b25&&(this['dispatchOm'+'niLight'](_0x19968c,_0x41f434,_0x546e4f),_0x546e4f++);}const _0x6e9518=_0x8e7a13[Re],_0x135404=_0x6e9518['length'];for(let _0x3fac06=0x1ada*-0x1+0x2*0x2a0+0x159a;_0x3fac06<_0x135404;_0x3fac06++){const _0x38560f=_0x6e9518[_0x3fac06];_0x38560f['mask']&_0x2c7b25&&(this['dispatchSp'+'otLight'](_0x19968c,_0x38560f,_0x546e4f),_0x546e4f++);}}['renderForw'+'ardPrepare'+'Materials'](_0xb7fb05,_0x2889fe,_0x3a6de8,_0x1a104c,_0x10d426,_0x472bea){const _0x194254=_0xb7fb05['fog']??this['scene']['fog'],_0x57cf87=_0xb7fb05['shaderPara'+'ms'];_0x57cf87['fog']=_0x194254['type'],_0x57cf87['srgbRender'+'Target']=(_0x2889fe==null?void(-0x124*-0x1+-0xe84+0xd60):_0x2889fe['isColorBuf'+'ferSrgb'](0x1*0x7dc+0x2*0x569+-0x12ae))??!(-0x2557+0x837+0x1*0x1d21);const _0x235db8=(_0x41bc79,_0x39dedd,_0x3088dc,_0x59f7c0)=>{br['drawCalls']['push'](_0x41bc79),br['shaderInst'+'ances']['push'](_0x39dedd),br['isNewMater'+'ial']['push'](_0x3088dc),br['lightMaskC'+'hanged']['push'](_0x59f7c0);};br['clear']();const _0x32c6e4=this['device'],_0x35ae08=this['scene'],_0x5d7f18=_0x35ae08['clusteredL'+'ightingEna'+'bled'],_0x3cdd4a=(_0x10d426==null?void(0x536+0xc7f+0x11b5*-0x1):_0x10d426['getLightHa'+'sh'](_0x5d7f18))??-0xe65+-0x25f5+0x345a;let _0x277e37=null,_0x981fe6,_0x438d06;const _0x18bea5=_0x3a6de8['length'];for(let _0x1bed0b=0x247d+0x7d4+0x5*-0x8dd;_0x1bed0b<_0x18bea5;_0x1bed0b++){const _0x451514=_0x3a6de8[_0x1bed0b];if(_0xb7fb05===yi['skipRender'+'Camera']){if(yi['_skipRende'+'rCounter']>=yi['skipRender'+'After'])continue;yi['_skipRende'+'rCounter']++;}if(_0x10d426){if(_0x10d426['_skipRende'+'rCounter']>=_0x10d426['skipRender'+'After'])continue;_0x10d426['_skipRende'+'rCounter']++;}_0x451514['ensureMate'+'rial'](_0x32c6e4);const _0x29a55f=_0x451514['material'],_0x3b996a=_0x451514['_shaderDef'+'s'],_0x5e65b9=_0x451514['mask'];_0x29a55f&&_0x29a55f===_0x277e37&&_0x3b996a!==_0x981fe6&&(_0x277e37=null),_0x29a55f!==_0x277e37&&(this['_materialS'+'witches']++,_0x29a55f['_scene']=_0x35ae08,_0x29a55f['dirty']&&(G['pushGpuMar'+'ker'](_0x32c6e4,'Node:\x20'+_0x451514['node']['name']+(',\x20Material'+':\x20')+_0x29a55f['name']),_0x29a55f['updateUnif'+'orms'](_0x32c6e4,_0x35ae08),_0x29a55f['dirty']=!(-0x68a+0x6f3*0x1+-0x8*0xd),G['popGpuMark'+'er'](_0x32c6e4)));const _0x47c5df=_0x451514['getShaderI'+'nstance'](_0x472bea,_0x3cdd4a,_0x35ae08,_0x57cf87,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x1a104c);_0x235db8(_0x451514,_0x47c5df,_0x29a55f!==_0x277e37,!_0x277e37||_0x5e65b9!==_0x438d06),_0x277e37=_0x29a55f,_0x981fe6=_0x3b996a,_0x438d06=_0x5e65b9;}return br;}['renderForw'+'ardInterna'+'l'](_0x2a3aa2,_0x443cbf,_0x5e5a36,_0xcd6bfb,_0x1ce03f,_0x449954){const _0x5a530b=this['device'],_0x22a0c9=this['scene'],_0x23db0c=-0xee9+0x2*0x371+0x808<<_0xcd6bfb,_0x1d3a97=_0x449954?-(0xe9*0x13+-0x1559+0x40f):-0x70c+-0x1*-0x95f+-0x252,_0x56a5bb=_0x22a0c9['clusteredL'+'ightingEna'+'bled'],_0x30159d=_0x443cbf['drawCalls']['length'];for(let _0x5bb1e2=-0x16*0x1ae+0x2629+0x3*-0x67;_0x5bb1e2<_0x30159d;_0x5bb1e2++){const _0x4b8d62=_0x443cbf['drawCalls'][_0x5bb1e2],_0x21a7f0=_0x443cbf['isNewMater'+'ial'][_0x5bb1e2],_0x4d1f28=_0x443cbf['lightMaskC'+'hanged'][_0x5bb1e2],_0x3a1e6f=_0x443cbf['shaderInst'+'ances'][_0x5bb1e2],_0x402fb2=_0x4b8d62['material'],_0x6b75ed=_0x4b8d62['mask'];if(_0x21a7f0){if(_0x5a530b['setShader'](_0x3a1e6f['shader'],!(0x15*0x171+0x7fd*-0x1+-0x1647)),_0x402fb2['setParamet'+'ers'](_0x5a530b),_0x4d1f28){const _0x42d125=this['dispatchDi'+'rectLights'](_0x5e5a36[ae],_0x6b75ed,_0x2a3aa2);_0x56a5bb||this['dispatchLo'+'calLights'](_0x5e5a36,_0x6b75ed,_0x42d125);}this['alphaTestI'+'d']['setValue'](_0x402fb2['alphaTest']),_0x5a530b['setBlendSt'+'ate'](_0x402fb2['blendState']),_0x5a530b['setDepthSt'+'ate'](_0x402fb2['depthState']),_0x5a530b['setAlphaTo'+'Coverage'](_0x402fb2['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x5a530b,'Node:\x20'+_0x4b8d62['node']['name']+(',\x20Material'+':\x20')+_0x402fb2['name']),this['setupCullM'+'ode'](_0x2a3aa2['_cullFaces'],_0x1d3a97,_0x4b8d62);const _0x550d97=_0x4b8d62['stencilFro'+'nt']??_0x402fb2['stencilFro'+'nt'],_0x19ea5a=_0x4b8d62['stencilBac'+'k']??_0x402fb2['stencilBac'+'k'];_0x5a530b['setStencil'+'State'](_0x550d97,_0x19ea5a),_0x4b8d62['setParamet'+'ers'](_0x5a530b,_0x23db0c),_0x5a530b['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x4b8d62['id']);const _0x540520=_0x4b8d62['mesh'];this['setVertexB'+'uffers'](_0x5a530b,_0x540520),this['setMorphin'+'g'](_0x5a530b,_0x4b8d62['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x5a530b,_0x4b8d62),this['setupMeshU'+'niformBuff'+'ers'](_0x3a1e6f,_0x4b8d62);const _0x5c8d56=_0x4b8d62['renderStyl'+'e'];if(_0x5a530b['setIndexBu'+'ffer'](_0x540520['indexBuffe'+'r'][_0x5c8d56]),_0x1ce03f==null||_0x1ce03f(_0x4b8d62,_0x5bb1e2),_0x2a3aa2['xr']&&_0x2a3aa2['xr']['session']&&_0x2a3aa2['xr']['views']['list']['length']){const _0x115304=_0x2a3aa2['xr']['views'];for(let _0x4d1b7a=0x23*0x5c+-0xe2*-0x12+0xe3c*-0x2;_0x4d1b7a<_0x115304['list']['length'];_0x4d1b7a++){const _0xd4bd8=_0x115304['list'][_0x4d1b7a];_0x5a530b['setViewpor'+'t'](_0xd4bd8['viewport']['x'],_0xd4bd8['viewport']['y'],_0xd4bd8['viewport']['z'],_0xd4bd8['viewport']['w']),this['projId']['setValue'](_0xd4bd8['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0xd4bd8['projMat']['data']),this['viewId']['setValue'](_0xd4bd8['viewOffMat']['data']),this['viewInvId']['setValue'](_0xd4bd8['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0xd4bd8['viewMat3']['data']),this['viewProjId']['setValue'](_0xd4bd8['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0xd4bd8['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x4d1b7a),_0x4d1b7a===-0x266a+0x1*-0x2ae+0x2918?this['drawInstan'+'ce'](_0x5a530b,_0x4b8d62,_0x540520,_0x5c8d56,!(-0x1236+-0xd*-0x296+-0xf68)):this['drawInstan'+'ce2'](_0x5a530b,_0x4b8d62,_0x540520,_0x5c8d56),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x5a530b,_0x4b8d62,_0x540520,_0x5c8d56,!(-0x250c*-0x1+0x247d+-0x1*0x4989)),this['_forwardDr'+'awCalls']++;_0x5bb1e2<_0x30159d-(-0x256a+0x1c12*0x1+-0x959*-0x1)&&!_0x443cbf['isNewMater'+'ial'][_0x5bb1e2+(0x10d1+0x22cf+-0x339f)]&&_0x402fb2['setParamet'+'ers'](_0x5a530b,_0x4b8d62['parameters']),G['popGpuMark'+'er'](_0x5a530b);}}['renderForw'+'ard'](_0x1422b5,_0x481285,_0x399d1a,_0x2fbb3a,_0x6496bc,_0x20704d,_0x50efc2,_0x1f3261){const _0x5b38a4=re(),_0x271557=this['renderForw'+'ardPrepare'+'Materials'](_0x1422b5,_0x481285,_0x399d1a,_0x2fbb3a,_0x50efc2,_0x6496bc);this['renderForw'+'ardInterna'+'l'](_0x1422b5,_0x271557,_0x2fbb3a,_0x6496bc,_0x20704d,_0x1f3261),br['clear'](),this['_forwardTi'+'me']+=re()-_0x5b38a4;}['renderForw'+'ardLayer'](_0x98c8d9,_0x52d58b,_0x4ec589,_0x53c83b,_0x2bf32a,_0x2c75a5,_0x126416={}){const {scene:_0x1e8130,device:_0x26163a}=this,_0x38f700=_0x1e8130['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x98c8d9,_0x52d58b);let _0x1a29b8,_0x5591af;if(_0x4ec589){const _0x41f1f6=re();_0x4ec589['sortVisibl'+'e'](_0x98c8d9,_0x53c83b),this['_sortTime']+=re()-_0x41f1f6;const _0x3764f4=_0x4ec589['getCulledI'+'nstances'](_0x98c8d9);_0x1a29b8=_0x53c83b?_0x3764f4['transparen'+'t']:_0x3764f4['opaque'],_0x1e8130['immediate']['onPreRende'+'rLayer'](_0x4ec589,_0x1a29b8,_0x53c83b),_0x4ec589['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x1e8130['ambientLig'+'ht'],_0x4ec589['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x5591af=_0x4ec589['splitLight'+'s'];}else _0x1a29b8=_0x126416['meshInstan'+'ces'],_0x5591af=_0x126416['splitLight'+'s']??kM;if(v['assert'](_0x1a29b8,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x38f700){const _0x2bcd95=_0x126416['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x2bcd95['activate'](),_0x4ec589&&!this['clustersDe'+'bugRendere'+'d']&&_0x1e8130['lighting']['debugLayer']===_0x4ec589['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x2622+0xaeb+0x1b37),Gu['render'](_0x2bcd95,this['scene']));}_0x1e8130['_activeCam'+'era']=_0x98c8d9;const _0x4ad90f=_0x98c8d9['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x4ad90f);const _0x2c7f9f=this['setCameraU'+'niforms'](_0x98c8d9,_0x52d58b);_0x26163a['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x2c75a5,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x2c7f9f);const _0xe8e1dc=_0x126416['clearColor']??!(0x1911+-0x22be+0x7*0x162),_0x447b01=_0x126416['clearDepth']??!(-0x1772+-0x15bd+0x2d30),_0x479260=_0x126416['clearStenc'+'il']??!(0xe73+0xbc5+0x8bd*-0x3);(_0xe8e1dc||_0x447b01||_0x479260)&&this['clear'](_0x98c8d9,_0xe8e1dc,_0x447b01,_0x479260);const _0x43d8ed=!!(_0x98c8d9['_flipFaces']^(_0x52d58b==null?void(-0x2ea*-0x8+-0x24ab+-0x1*-0xd5b):_0x52d58b['flipY'])),_0x27c774=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x98c8d9,_0x52d58b,_0x1a29b8,_0x5591af,_0x2bf32a,null,_0x4ec589,_0x43d8ed),_0x4ec589&&(_0x4ec589['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x27c774);}['setFogCons'+'tants'](_0x214b05){if(_0x214b05['type']!==ka){qi['linear'](_0x214b05['color']);const _0x3ada9a=this['fogColor'];_0x3ada9a[0xb1b*-0x3+0x124a*0x1+0xf07]=qi['r'],_0x3ada9a[-0x2b*-0x1b+0x1*-0x6ff+0x277*0x1]=qi['g'],_0x3ada9a[-0x713*0x1+-0x20f9+0x280e]=qi['b'],this['fogColorId']['setValue'](_0x3ada9a),_0x214b05['type']===zb?(this['fogStartId']['setValue'](_0x214b05['start']),this['fogEndId']['setValue'](_0x214b05['end'])):this['fogDensity'+'Id']['setValue'](_0x214b05['density']);}}['setSceneCo'+'nstants'](){const _0x67ff2c=this['scene'];this['dispatchGl'+'obalLights'](_0x67ff2c);const _0x945b1d=this['device'];this['_screenSiz'+'e'][-0x557+-0x1b19*0x1+0x2070]=_0x945b1d['width'],this['_screenSiz'+'e'][-0x25ee*0x1+-0xd9+0x2*0x1364]=_0x945b1d['height'],this['_screenSiz'+'e'][0x33*-0x15+-0x1d*0x86+0x135f]=(-0x1156+0x1*0x1196+0x7*-0x9)/_0x945b1d['width'],this['_screenSiz'+'e'][-0x11b3+-0x1934+0x2*0x1575]=(0x25c3*0x1+-0xa*-0x281+-0x3ecc)/_0x945b1d['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x53a2ad,_0x3951db){const _0x428f20=this['scene'];if(_0x53a2ad['reset'](),_0x428f20['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x1e8489,cookiesEnabled:_0x27bbf6}=_0x428f20['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x53a2ad,_0x1e8489,_0x27bbf6,this['lights'],this['localLight'+'s']),_0x53a2ad['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x53a2ad,this['localLight'+'s']);let _0x2f8ecc=-0x5*0x23+-0x2442+0xc1*0x31,_0x31a38c=!(-0xc97*-0x3+-0xdca+-0x17fb),_0x38b3bf=null;const _0x597be7=_0x3951db['_renderAct'+'ions'];for(let _0x28cda8=_0x2f8ecc;_0x28cda8<_0x597be7['length'];_0x28cda8++){const _0xb1dac=_0x597be7[_0x28cda8],{layer:_0x2246d9,camera:_0x28d66b}=_0xb1dac;if(_0xb1dac['useCameraP'+'asses'])v['call'](()=>{_0x28d66b['postEffect'+'s']['effects']['length']>-0x2ff*-0x7+0x1*-0x14ed+-0x2*0x6&&v['warnOnce']('Camera\x20\x27'+_0x28d66b['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x28d66b['camera']['renderPass'+'es']['forEach'](_0x4e4774=>{_0x53a2ad['addRenderP'+'ass'](_0x4e4774);});else{const _0x23d986=_0x2246d9['id']===Yt,_0x3e8df8=_0x23d986&&(_0x28d66b['renderScen'+'eColorMap']||_0x28d66b['renderScen'+'eDepthMap']);_0x31a38c&&(_0x31a38c=!(-0x1321+0x1e8a+-0xb68),_0x2f8ecc=_0x28cda8,_0x38b3bf=_0xb1dac['renderTarg'+'et']);const _0x29b595=_0x597be7[_0x28cda8+(-0x5fb*0x2+0x2*-0x133f+-0x3275*-0x1)],_0x37b409=(_0x29b595?!_0x29b595['useCameraP'+'asses']&&_0x29b595['layer']['id']===Yt:!(-0x1887*-0x1+-0x3*0x3b6+-0xd64))&&(_0x28d66b['renderScen'+'eColorMap']||_0x28d66b['renderScen'+'eDepthMap']),_0x54e1e9=_0x29b595?_0x29b595['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x29b595['camera']['camera']):!(0xcbe*0x1+-0x621*-0x5+0x12*-0x269);if(!_0x29b595||_0x29b595['renderTarg'+'et']!==_0x38b3bf||_0x54e1e9||_0x37b409||_0x3e8df8){if(_0x23d986&&_0x2f8ecc===_0x28cda8||this['addMainRen'+'derPass'](_0x53a2ad,_0x3951db,_0x38b3bf,_0x2f8ecc,_0x28cda8),_0x23d986){if(_0x28d66b['renderScen'+'eColorMap']){const _0x3b9387=_0x28d66b['camera']['renderPass'+'ColorGrab'];_0x3b9387['source']=_0x28d66b['renderTarg'+'et'],_0x53a2ad['addRenderP'+'ass'](_0x3b9387);}_0x28d66b['renderScen'+'eDepthMap']&&_0x53a2ad['addRenderP'+'ass'](_0x28d66b['camera']['renderPass'+'DepthGrab']);}if(_0xb1dac['triggerPos'+'tprocess']&&(_0x28d66b!=null&&_0x28d66b['onPostproc'+'essing'])){const _0x1004ea=new FM(this['device'],this,_0xb1dac);_0x53a2ad['addRenderP'+'ass'](_0x1004ea);}_0x31a38c=!(0x1f70+-0x4*-0x1dc+0x8*-0x4dc);}}}}['addMainRen'+'derPass'](_0x1f57fa,_0x2c1d5b,_0x3a03de,_0x232550,_0x4d5c7c){const _0x14ab8e=new LM(this['device'],_0x2c1d5b,this['scene'],this);_0x14ab8e['init'](_0x3a03de);const _0x569008=_0x2c1d5b['_renderAct'+'ions'];for(let _0xc99cd6=_0x232550;_0xc99cd6<=_0x4d5c7c;_0xc99cd6++)_0x14ab8e['addRenderA'+'ction'](_0x569008[_0xc99cd6]);_0x1f57fa['addRenderP'+'ass'](_0x14ab8e);}['update'](_0x3b9185){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x3b9185),this['collectLig'+'hts'](_0x3b9185),this['beginFrame'](_0x3b9185),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x3b9185),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(yi,'skipRender'+'Camera',null),c(yi,'_skipRende'+'rCounter',0x7*-0xfb+-0x1935+-0x335*-0xa),c(yi,'skipRender'+'After',-0x632+0x25*-0x97+-0x1*-0x1c05);let Hh=yi,Ud=-0x1471*-0x1+0x1ca2+-0x2e3*0x11;const ja=[],Ol=new Set();function NM(_0x41aa19,_0x6437e5){return _0x41aa19['drawOrder']-_0x6437e5['drawOrder'];}function zM(_0x5f2df9,_0x2d8558){const _0x259f3e=_0x5f2df9['_key'][Mi],_0x37ab53=_0x2d8558['_key'][Mi];return _0x259f3e===_0x37ab53&&_0x5f2df9['mesh']&&_0x2d8558['mesh']?_0x2d8558['mesh']['id']-_0x5f2df9['mesh']['id']:_0x37ab53-_0x259f3e;}function UM(_0x488e97,_0x576391){return _0x576391['zdist']-_0x488e97['zdist'];}function VM(_0x308d75,_0x4d97f5){return _0x308d75['zdist']-_0x4d97f5['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x3d9053={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(-0x880+0x108f+-0x80f)),c(this,'requiresLi'+'ghtCube',!(-0x4*0xc7+-0x77f*0x1+-0x184*-0x7)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0xef*-0x14+0x3*-0x9e3+0x3*0x3aa)),(_0x3d9053['id']!==void(0x270b+-0x213*0x1+-0x2a4*0xe)?(this['id']=_0x3d9053['id'],Ud=Math['max'](this['id']+(-0x1*0x1be9+-0xe08+0xb6*0x3b),Ud)):this['id']=Ud++,this['name']=_0x3d9053['name'],this['_enabled']=_0x3d9053['enabled']??!(0x8f6+-0x8c7*-0x3+0x8b*-0x41),this['_refCounte'+'r']=this['_enabled']?0x4b6+-0x6*-0x521+0x1*-0x237b:-0x1f6*0x11+0x4*-0x48e+-0x1*-0x338e,this['opaqueSort'+'Mode']=_0x3d9053['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x3d9053['transparen'+'tSortMode']??Bm,_0x3d9053['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x3d9053['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x3d9053['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x3d9053['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x3d9053['clearStenc'+'ilBuffer'],this['onEnable']=_0x3d9053['onEnable'],this['onDisable']=_0x3d9053['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x11c5+0x16b+-0x1330,this['_lightHash'+'Dirty']=!(-0x25e6+0x1*-0x13a+0x2721),this['_lightIdHa'+'sh']=-0x23c8+0x1bc1+0x807,this['_lightIdHa'+'shDirty']=!(0xe56*-0x2+0x1*0x24dc+-0x82f),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x1730+0x1e5f+0x3*-0x265,this['_renderTim'+'e']=0x1150+-0x1*0x67f+-0xad1,this['_forwardDr'+'awCalls']=0x1671+-0x1ffe+-0xa3*-0xf,this['_shadowDra'+'wCalls']=-0x2430+0x1305+0x1*0x112b,this['_shaderVer'+'sion']=-(-0x1689+0x2*-0x118d+0x39a4));}set['enabled'](_0x463eb6){_0x463eb6!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x1*-0x1a4a+-0x2*-0x6c7+-0x18*0x1a9),this['_enabled']=_0x463eb6,_0x463eb6?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x38be7a){this['_clearColo'+'rBuffer']=_0x38be7a,this['_dirtyComp'+'osition']=!(0x226c+-0x1021*0x1+-0x124b);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x1b3260){this['_clearDept'+'hBuffer']=_0x1b3260,this['_dirtyComp'+'osition']=!(0x29d*-0x4+-0xa15+-0x2ef*-0x7);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x17e33f){this['_clearSten'+'cilBuffer']=_0x17e33f,this['_dirtyComp'+'osition']=!(0x3*0x6a6+-0x1bad+-0x7bb*-0x1);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x1bd1+0xf2c+0x2afd*-0x1;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x1f*-0xa+-0xc3*0x11+-0x7d*-0x1d&&(this['_enabled']=!(0x2a*-0x24+-0x3*-0x881+-0x139b),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x1d91+-0xa*0x16f+0x119*0x28)this['_enabled']=!(0x17e7*-0x1+-0x10ac+0x2894),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x1*0x13ee+-0x189*-0xf+0x7*-0x623){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x419ccd,_0xb8b2d4){const _0x41dabb=this['meshInstan'+'ces'],_0x56084d=this['meshInstan'+'cesSet'];for(let _0x34f289=0x121*0xf+-0x854+-0x89b;_0x34f289<_0x419ccd['length'];_0x34f289++){const _0x3078c8=_0x419ccd[_0x34f289];_0x56084d['has'](_0x3078c8)||(_0x41dabb['push'](_0x3078c8),_0x56084d['add'](_0x3078c8),Ol['add'](_0x3078c8['material']));}if(_0xb8b2d4||this['addShadowC'+'asters'](_0x419ccd),Ol['size']>0x22d1*0x1+0x20f0+0xd8d*-0x5){const _0x166bda=this['_shaderVer'+'sion'];Ol['forEach'](_0x14e09b=>{_0x166bda>=0x3fb*-0x7+-0x2211+0x1*0x3dee&&_0x14e09b['_shaderVer'+'sion']!==_0x166bda&&(_0x14e09b['getShaderV'+'ariant']!==xn['prototype']['getShaderV'+'ariant']&&_0x14e09b['clearVaria'+'nts'](),_0x14e09b['_shaderVer'+'sion']=_0x166bda);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x43bcb4,_0x5afd5e){const _0x14b2b2=this['meshInstan'+'ces'],_0x44eedb=this['meshInstan'+'cesSet'];for(let _0x21411e=0x1*0x11df+-0x2*-0xed0+-0x2f7f;_0x21411e<_0x43bcb4['length'];_0x21411e++){const _0xf47424=_0x43bcb4[_0x21411e];if(_0x44eedb['has'](_0xf47424)){_0x44eedb['delete'](_0xf47424);const _0x561ac4=_0x14b2b2['indexOf'](_0xf47424);_0x561ac4>=0x1844+0x1*-0xaa5+0xd9f*-0x1&&_0x14b2b2['splice'](_0x561ac4,0x1307*-0x1+0x8f*0x33+0x1*-0x975);}}_0x5afd5e||this['removeShad'+'owCasters'](_0x43bcb4);}['addShadowC'+'asters'](_0x5ec4c3){const _0x28b679=this['shadowCast'+'ers'],_0x42b371=this['shadowCast'+'ersSet'];for(let _0x143088=0x21f3+-0x1*0x42d+-0x1dc6;_0x143088<_0x5ec4c3['length'];_0x143088++){const _0x4677e5=_0x5ec4c3[_0x143088];_0x4677e5['castShadow']&&!_0x42b371['has'](_0x4677e5)&&(_0x42b371['add'](_0x4677e5),_0x28b679['push'](_0x4677e5));}}['removeShad'+'owCasters'](_0x4deb49){const _0x20bc94=this['shadowCast'+'ers'],_0xe21946=this['shadowCast'+'ersSet'];for(let _0x35326c=-0x5b5+-0x1a67+0x2*0x100e;_0x35326c<_0x4deb49['length'];_0x35326c++){const _0x5f4286=_0x4deb49[_0x35326c];if(_0xe21946['has'](_0x5f4286)){_0xe21946['delete'](_0x5f4286);const _0x268347=_0x20bc94['indexOf'](_0x5f4286);_0x268347>=-0x1*0xcb9+0x1*0x2051+-0x72*0x2c&&_0x20bc94['splice'](_0x268347,0x35f*0x1+-0x5*0x4e1+-0x1507*-0x1);}}}['clearMeshI'+'nstances'](_0x1d1107=!(0x1b7*0x11+-0x9b5+-0x1371)){this['meshInstan'+'ces']['length']=0x193f+0x1e06+0x1*-0x3745,this['meshInstan'+'cesSet']['clear'](),_0x1d1107||(this['shadowCast'+'ers']['length']=0x10f*-0x19+0x18*-0xcd+0x5*0x923,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x1*0xb9d+-0x5*0x5bf+-0xa16*-0x4),this['_lightIdHa'+'shDirty']=!(0x16b5*-0x1+0x1646*-0x1+0x2cfb),this['_splitLigh'+'tsDirty']=!(0x5*-0xc5+0x235e+0x1*-0x1f85);}['hasLight'](_0x55ebbc){return this['_lightsSet']['has'](_0x55ebbc);}['addLight'](_0x510660){const _0x413c12=_0x510660['light'];this['_lightsSet']['has'](_0x413c12)||(this['_lightsSet']['add'](_0x413c12),this['_lights']['push'](_0x413c12),this['markLights'+'Dirty']()),_0x413c12['type']!==ae&&this['_clustered'+'LightsSet']['add'](_0x413c12);}['removeLigh'+'t'](_0x1d4323){const _0x30e5da=_0x1d4323['light'];this['_lightsSet']['has'](_0x30e5da)&&(this['_lightsSet']['delete'](_0x30e5da),this['_lights']['splice'](this['_lights']['indexOf'](_0x30e5da),0x10d*-0x24+0x1*0xe65+0x4*0x5dc),this['markLights'+'Dirty']()),_0x30e5da['type']!==ae&&this['_clustered'+'LightsSet']['delete'](_0x30e5da);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x5b8331=>_0x5b8331['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x6f7*-0x4+-0x1*-0x266+0x6*-0x50b,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x79b+0x8d3*-0x3+0x12df);const _0x3bffde=this['_splitLigh'+'ts'];for(let _0x2c6851=0x1f39*-0x1+0x291*-0x8+-0x1*-0x33c1;_0x2c6851<_0x3bffde['length'];_0x2c6851++)_0x3bffde[_0x2c6851]['length']=-0x18*-0x2f+-0x13a1+0xf39;const _0x1d53c1=this['_lights'];for(let _0xa40211=-0xa13*-0x2+-0x29*-0x18+-0x2*0xbff;_0xa40211<_0x1d53c1['length'];_0xa40211++){const _0x855872=_0x1d53c1[_0xa40211];_0x855872['enabled']&&_0x3bffde[_0x855872['_type']]['push'](_0x855872);}for(let _0x8030c7=0x1afd+-0x519+-0x4*0x579;_0x8030c7<_0x3bffde['length'];_0x8030c7++)_0x3bffde[_0x8030c7]['sort']((_0x22ba1b,_0x4ce847)=>_0x22ba1b['key']-_0x4ce847['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x4e91bc,_0xcf1b51,_0x18c993){let _0x35e1ac=-0x19*-0x4f+-0x19*0x61+0x1c2;const _0x5e603f=this['_lights'];for(let _0x13c8f2=0x1*-0xcbd+-0x107f+-0x2*-0xe9e;_0x13c8f2<_0x5e603f['length'];_0x13c8f2++){const _0x3c667a=_0x5e603f[_0x13c8f2]['type']!==ae;(_0x4e91bc&&_0x3c667a||_0xcf1b51&&!_0x3c667a)&&ja['push'](_0x18c993?_0x5e603f[_0x13c8f2]['id']:_0x5e603f[_0x13c8f2]['key']);}return ja['length']>0x1*-0x14d2+-0x1*0xc9b+-0x216d*-0x1&&(ja['sort'](),_0x35e1ac=Zy(ja),ja['length']=0x1d14+0x1c87+-0x399b*0x1),_0x35e1ac;}['getLightHa'+'sh'](_0x44b421){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x1*0x149+0x205a+0x3e2*-0x8),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x44b421,!(0x14f*0x9+0x1*-0x109c+0x4d5),!(-0x34c+-0x9c9+0xd16))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x2630+-0xd6*-0xa+-0x2e8b),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1f4a+0x827*-0x1+-0x2771*-0x1),!(-0x361+0x2272+-0x1f10),!(0x15ed+-0x2524+0xf37))),this['_lightIdHa'+'sh'];}['addCamera'](_0x5e5ce2){this['camerasSet']['has'](_0x5e5ce2['camera'])||(this['camerasSet']['add'](_0x5e5ce2['camera']),this['cameras']['push'](_0x5e5ce2),this['_dirtyComp'+'osition']=!(-0xb85+0x1993+0x2*-0x707));}['removeCame'+'ra'](_0x12a60d){if(this['camerasSet']['has'](_0x12a60d['camera'])){this['camerasSet']['delete'](_0x12a60d['camera']);const _0x45368a=this['cameras']['indexOf'](_0x12a60d);this['cameras']['splice'](_0x45368a,-0x1f23+0x1ad*0xc+-0x4*-0x2c2),this['_dirtyComp'+'osition']=!(-0x2576+0x1f6*0x7+0x62*0x3e);}}['clearCamer'+'as'](){this['cameras']['length']=-0x28*-0x43+-0x1895+0xe1d*0x1,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0xdf*-0x24+-0xa61*-0x3+-0x3e7f);}['_calculate'+'SortDistan'+'ces'](_0x47cd52,_0xfedad5,_0x410a11,_0x10fac5){for(let _0x23bc88=0x1ab+0x3*0x6f0+0x5*-0x47f;_0x23bc88<_0xfedad5;_0x23bc88++){const _0x3bde41=_0x47cd52[_0x23bc88];if(_0x3bde41['layer']<=Vb)continue;if(_0x3bde41['calculateS'+'ortDistanc'+'e']){_0x3bde41['zdist']=_0x3bde41['calculateS'+'ortDistanc'+'e'](_0x3bde41,_0x410a11,_0x10fac5);continue;}const _0x1e1221=_0x3bde41['aabb']['center'],_0x340605=_0x1e1221['x']-_0x410a11['x'],_0x49c41c=_0x1e1221['y']-_0x410a11['y'],_0x4ff83b=_0x1e1221['z']-_0x410a11['z'];_0x3bde41['zdist']=_0x340605*_0x10fac5['x']+_0x49c41c*_0x10fac5['y']+_0x4ff83b*_0x10fac5['z'];}}['getCulledI'+'nstances'](_0x2f6b63){let _0x32e6ba=this['_visibleIn'+'stances']['get'](_0x2f6b63);return _0x32e6ba||(_0x32e6ba=new HM(),this['_visibleIn'+'stances']['set'](_0x2f6b63,_0x32e6ba)),_0x32e6ba;}['sortVisibl'+'e'](_0x4d00d6,_0x436d75){const _0x385ca3=_0x436d75?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x385ca3===uh)return;const _0x1f44cd=this['getCulledI'+'nstances'](_0x4d00d6),_0x10453e=_0x436d75?_0x1f44cd['transparen'+'t']:_0x1f44cd['opaque'],_0x214ac1=_0x4d00d6['node'];if(_0x385ca3===ew){const _0x3d57d2=_0x214ac1['getPositio'+'n'](),_0x3bcee7=_0x214ac1['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x10453e,_0x10453e['length'],_0x3d57d2,_0x3bcee7),this['customSort'+'Callback']&&_0x10453e['sort'](this['customSort'+'Callback']);}else{if(_0x385ca3===Bm||_0x385ca3===Jb){const _0x2d2560=_0x214ac1['getPositio'+'n'](),_0x3b5cc1=_0x214ac1['forward'];this['_calculate'+'SortDistan'+'ces'](_0x10453e,_0x10453e['length'],_0x2d2560,_0x3b5cc1);}_0x10453e['sort'](GM[_0x385ca3]);}}}const WM=(_0x257de5,_0x107956)=>_0x257de5['priority']-_0x107956['priority'],No=_0x2f3135=>_0x2f3135['sort'](WM);class S_ extends ce{constructor(_0x3c7b0b='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(-0x25f*0xd+0x1*0x1e58+0x7c)),(this['name']=_0x3c7b0b,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x2d53df=>_0x2d53df['destroy']()),this['_renderAct'+'ions']['length']=-0x1*0x11d7+0x7*0x3e3+0x2*-0x4af;}['_update'](){const _0x14b026=this['layerList']['length'];if(!this['_dirty']){for(let _0x5b6b9d=-0x14d9+0x212*0xf+-0xd*0xc9;_0x5b6b9d<_0x14b026;_0x5b6b9d++)if(this['layerList'][_0x5b6b9d]['_dirtyComp'+'osition']){this['_dirty']=!(-0x4be*-0x1+0x5e*0x35+-0x4*0x60d);break;}}if(this['_dirty']){this['_dirty']=!(-0x1*0xf10+0x2668+0x1757*-0x1),this['cameras']['length']=0x1b3e+-0x905*-0x1+-0x1*0x2443;for(let _0x2886f3=0x1*0xb53+-0x1*0x55+-0x6*0x1d5;_0x2886f3<_0x14b026;_0x2886f3++){const _0x239ca3=this['layerList'][_0x2886f3];_0x239ca3['_dirtyComp'+'osition']=!(-0x1c5*-0xb+-0x1*0xab+-0x11*0x11b);for(let _0x27cf66=0x7*0x509+0xca9+-0x5fd*0x8;_0x27cf66<_0x239ca3['cameras']['length'];_0x27cf66++){const _0x5971e6=_0x239ca3['cameras'][_0x27cf66];this['cameras']['indexOf'](_0x5971e6)<0x2*-0x7eb+0x345*0x3+0x607*0x1&&this['cameras']['push'](_0x5971e6);}}this['cameras']['length']>-0x46c+0x1*-0x1c4b+-0x2ba*-0xc&&No(this['cameras']);let _0x3032cf=-0xd3a*0x2+0xb95+0x51*0x2f;this['destroyRen'+'derActions']();for(let _0x4b825c=0x1481+0x8c5+-0x1d46;_0x4b825c<this['cameras']['length'];_0x4b825c++){const _0x3db237=this['cameras'][_0x4b825c];if(_0x3db237['camera']['renderPass'+'es']['length']>0x1*0x196f+0x266*0x4+-0x2307){this['addDummyRe'+'nderAction'](_0x3032cf,_0x3db237),_0x3032cf++;continue;}let _0x130199=!(0x104c+-0xd8b*-0x1+-0x1dd7);const _0x15705d=_0x3032cf;let _0x20c54c=null,_0x557068=!(0x1*-0xcd+0x18*-0x148+0x1f8e);for(let _0x4e47b4=0x6*-0x5bc+0x2e*0x27+0x15*0x14e;_0x4e47b4<_0x14b026;_0x4e47b4++){const _0x2e3d30=this['layerList'][_0x4e47b4];if(_0x2e3d30['enabled']&&this['subLayerEn'+'abled'][_0x4e47b4]&&_0x2e3d30['cameras']['length']>0x3*-0x857+0x1bbf*0x1+-0x1*0x2ba&&_0x3db237['layers']['indexOf'](_0x2e3d30['id'])>=-0x1*-0x1625+0x1681*-0x1+0x5c){!_0x557068&&_0x2e3d30['id']===_0x3db237['disablePos'+'tEffectsLa'+'yer']&&(_0x557068=!(-0x2*-0xc+-0xfa4+0xf8c),_0x20c54c&&(_0x20c54c['triggerPos'+'tprocess']=!(-0x9*-0x103+0x15*-0xe8+0x9ed)));const _0x5da861=this['subLayerLi'+'st'][_0x4e47b4];_0x20c54c=this['addRenderA'+'ction'](_0x3032cf,_0x2e3d30,_0x5da861,_0x3db237,_0x130199,_0x557068),_0x3032cf++,_0x130199=!(0x65c*0x2+0xca*0xb+-0x1565);}}_0x15705d<_0x3032cf&&(_0x20c54c['lastCamera'+'Use']=!(0x200b*0x1+0x3*-0x7d3+0x892*-0x1)),!_0x557068&&_0x20c54c&&(_0x20c54c['triggerPos'+'tprocess']=!(0x1dd3+-0x1*0x15fb+-0x7d8)),_0x3db237['renderTarg'+'et']&&_0x3db237['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x15705d-(-0x9b*-0x19+-0x1*0x3b3+-0x1*0xb6f),_0x3db237);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x3b0923){v['assert'](this['_renderAct'+'ions']['length']===_0x3b0923);const _0x12ff55=new D0();return this['_renderAct'+'ions']['push'](_0x12ff55),_0x12ff55;}['addDummyRe'+'nderAction'](_0x110ab9,_0x48e85d){const _0x21dce9=this['getNextRen'+'derAction'](_0x110ab9);_0x21dce9['camera']=_0x48e85d,_0x21dce9['useCameraP'+'asses']=!(0x1b87+-0x124d+0x1*-0x93a);}['addRenderA'+'ction'](_0x187274,_0x21a2da,_0xe51a07,_0x2d3f14,_0x22bb5e,_0x4ff75f){let _0x5f12a6=_0x21a2da['id']!==Yt?_0x2d3f14['renderTarg'+'et']:null,_0x77fc23=!(0xd0d+0x8f7+-0x23*0xa1);const _0x5b2087=this['_renderAct'+'ions'];for(let _0x47f468=_0x187274-(0x1340+0x6*-0x33b+-0x7*-0x5);_0x47f468>=0x801+-0x1*-0x15e2+-0x1de3*0x1;_0x47f468--)if(_0x5b2087[_0x47f468]['camera']===_0x2d3f14&&_0x5b2087[_0x47f468]['renderTarg'+'et']===_0x5f12a6){_0x77fc23=!(-0x1*-0x1cef+-0x371*-0x6+-0x3195*0x1);break;}_0x4ff75f&&_0x2d3f14['postEffect'+'sEnabled']&&(_0x5f12a6=null);const _0x5989e0=this['getNextRen'+'derAction'](_0x187274);_0x5989e0['triggerPos'+'tprocess']=!(0x8b*0x3d+-0x9+-0x1*0x2115),_0x5989e0['layer']=_0x21a2da,_0x5989e0['transparen'+'t']=_0xe51a07,_0x5989e0['camera']=_0x2d3f14,_0x5989e0['renderTarg'+'et']=_0x5f12a6,_0x5989e0['firstCamer'+'aUse']=_0x22bb5e,_0x5989e0['lastCamera'+'Use']=!(-0x1d3c+0x4d6*0x6+0x39);const _0x3eb6b9=_0x22bb5e||!_0x77fc23,_0x4ca428=_0x21a2da['clearColor'+'Buffer']||_0x21a2da['clearDepth'+'Buffer']||_0x21a2da['clearStenc'+'ilBuffer'];return(_0x3eb6b9||_0x4ca428)&&_0x5989e0['setupClear'+'s'](_0x3eb6b9?_0x2d3f14:void(0xb58+-0x10bf+0x567),_0x21a2da),_0x5989e0;}['propagateR'+'enderTarge'+'t'](_0xcad5ab,_0x1f916f){for(let _0x308d31=_0xcad5ab;_0x308d31>=0x4b*-0x2+-0x1f65+0x1ffb;_0x308d31--){const _0x121f30=this['_renderAct'+'ions'][_0x308d31],_0x444bbd=_0x121f30['layer'];if(_0x121f30['renderTarg'+'et']&&_0x444bbd['id']!==Yt)break;if(_0x444bbd['id']===Yt)continue;if(_0x121f30['useCameraP'+'asses'])break;const _0x364c4a=_0x121f30==null?void(-0x10d9+-0x17ff*0x1+0x28d8):_0x121f30['camera']['camera'];if(_0x364c4a&&(!_0x1f916f['camera']['rect']['equals'](_0x364c4a['rect'])||!_0x1f916f['camera']['scissorRec'+'t']['equals'](_0x364c4a['scissorRec'+'t'])))break;_0x121f30['renderTarg'+'et']=_0x1f916f['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](ml)){v['trace'](ml,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x49a182=-0xa62+0x1*0x2047+-0x15e5;_0x49a182<this['_renderAct'+'ions']['length'];_0x49a182++){const _0x206d19=this['_renderAct'+'ions'][_0x49a182],_0x587cff=_0x206d19['camera'];if(_0x206d19['useCameraP'+'asses'])v['trace'](ml,_0x49a182+('CustomPass'+'es\x20Cam:\x20')+(_0x587cff?_0x587cff['entity']['name']:'-'));else{const _0x195933=_0x206d19['layer'],_0x57ad92=_0x195933['enabled']&&this['isEnabled'](_0x195933,_0x206d19['transparen'+'t']),_0x1753ac=(_0x206d19['clearColor']?'Color\x20':'.....\x20')+(_0x206d19['clearDepth']?'Depth\x20':'.....\x20')+(_0x206d19['clearStenc'+'il']?'Stencil':'.......');v['trace'](ml,_0x49a182+('\x20Cam:\x20'+(_0x587cff?_0x587cff['entity']['name']:'-'))['padEnd'](0x2*0x7e1+0xdfc+-0x1da8,'\x20')+('\x20Lay:\x20'+_0x195933['name'])['padEnd'](-0x17eb+-0xb*0x1f3+0x2d72,'\x20')+(_0x206d19['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x57ad92?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x206d19['renderTarg'+'et']?_0x206d19['renderTarg'+'et']['name']:'-'))['padEnd'](0x415+0x5*-0x449+0x1176,'\x20')+'\x20Clear:\x20'+_0x1753ac+(_0x206d19['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x206d19['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x206d19['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x199572){const _0x2f9281=this['layerIdMap']['get'](_0x199572['id'])===_0x199572;return v['assert'](!_0x2f9281,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x199572['name']),_0x2f9281;}['_isSublaye'+'rAdded'](_0x513792,_0x43b037){return(_0x43b037?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x513792)!==void(-0x26c3+-0x25b3+0x2*0x263b)?(v['error']('Sublayer\x20'+_0x513792['name']+(',\x20transpar'+'ent:\x20')+_0x43b037+('\x20is\x20alread'+'y\x20added.')),!(0x1894*0x1+-0xbc+-0x17d8*0x1)):!(0xf*-0x289+0x1d3b*0x1+0x8cd);}['push'](_0x4e5635){this['_isLayerAd'+'ded'](_0x4e5635)||(this['layerList']['push'](_0x4e5635),this['layerList']['push'](_0x4e5635),this['_opaqueOrd'+'er'][_0x4e5635['id']]=this['subLayerLi'+'st']['push'](!(0x15ff+0x3d0+-0x19ce))-(-0x149*0x5+0x14a5+0x1*-0xe37),this['_transpare'+'ntOrder'][_0x4e5635['id']]=this['subLayerLi'+'st']['push'](!(0xb37+0x91b+-0x132*0x11))-(-0x1198+-0x5e4+0x177d),this['subLayerEn'+'abled']['push'](!(0x1958+-0x68c+-0x12cc)),this['subLayerEn'+'abled']['push'](!(-0xe*-0x1b5+-0x1001*-0x1+-0x7fb*0x5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1633+0xa04+0x2037*-0x1),this['fire']('add',_0x4e5635));}['insert'](_0x1cd986,_0x1ad892){if(this['_isLayerAd'+'ded'](_0x1cd986))return;this['layerList']['splice'](_0x1ad892,0x2*-0x4df+0x47d+-0x1*-0x541,_0x1cd986,_0x1cd986),this['subLayerLi'+'st']['splice'](_0x1ad892,0x486+-0xb1f+-0x699*-0x1,!(-0x1*0x1609+0x7f*0x23+0x3*0x18f),!(0x53*-0x7+-0x1a1+0x3e6));const _0xd4ea10=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x1ad892,_0xd4ea10-(0x11*-0xa0+-0xb56*0x3+-0x2ca3*-0x1)),this['_updateTra'+'nsparentOr'+'der'](_0x1ad892,_0xd4ea10-(0xc*-0x1c4+-0xf00+0x2431)),this['subLayerEn'+'abled']['splice'](_0x1ad892,0xa03+-0x271+0x11*-0x72,!(0x1ad1+-0x162a+0x3*-0x18d),!(-0x1a2c+0x176+0x18b6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xd7*-0x11+0x1*0x1510+-0x2357),this['fire']('add',_0x1cd986);}['remove'](_0xa05860){let _0x3bbbf0=this['layerList']['indexOf'](_0xa05860);for(delete this['_opaqueOrd'+'er'][_0x3bbbf0],delete this['_transpare'+'ntOrder'][_0x3bbbf0];_0x3bbbf0>=0x16*-0x8b+-0x1619*0x1+0x4dd*0x7;)this['layerList']['splice'](_0x3bbbf0,-0x3*0x912+-0xb2a*-0x3+-0x647*0x1),this['subLayerLi'+'st']['splice'](_0x3bbbf0,0x3e5+-0x1*0xb6f+-0x78b*-0x1),this['subLayerEn'+'abled']['splice'](_0x3bbbf0,-0x232*0x7+-0x728+0x1687),_0x3bbbf0=this['layerList']['indexOf'](_0xa05860),this['_dirty']=!(0x248*0x7+-0xb32+0x5e*-0xd),this['fire']('remove',_0xa05860);const _0x1e96f0=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x11b9*-0x1+-0x1*-0x615+-0x17ce,_0x1e96f0-(0x1f*-0x13+-0x1*-0x751+-0x503)),this['_updateTra'+'nsparentOr'+'der'](0x1a42+-0x2*0x1203+0x9c4,_0x1e96f0-(0x2*-0xc1+0x1*-0x14df+0x1662)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x1f2890){this['_isSublaye'+'rAdded'](_0x1f2890,!(-0xde9+-0x1aad+0x2897))||(this['layerList']['push'](_0x1f2890),this['_opaqueOrd'+'er'][_0x1f2890['id']]=this['subLayerLi'+'st']['push'](!(0xb6b*0x2+0x13*-0xc1+-0x882))-(0x2f1*-0x2+0x36b+0x278),this['subLayerEn'+'abled']['push'](!(-0xf*-0x86+0x6*0x4d0+-0xc3e*0x3)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x59f*0x5+-0x25d1+0x9b6),this['fire']('add',_0x1f2890));}['insertOpaq'+'ue'](_0x2dec0c,_0x4f2631){if(this['_isSublaye'+'rAdded'](_0x2dec0c,!(-0x41*-0x73+-0x1343*-0x1+-0xf*0x33b)))return;this['layerList']['splice'](_0x4f2631,0x25ad+0x23d5+-0x4982,_0x2dec0c),this['subLayerLi'+'st']['splice'](_0x4f2631,0x183*0x16+-0x367+0x1ddb*-0x1,!(-0x223f+-0xcd2*-0x1+0x1*0x156e));const _0x15f86a=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x4f2631,_0x15f86a-(-0x9d*0x2b+-0x337+0x1*0x1d97)),this['subLayerEn'+'abled']['splice'](_0x4f2631,-0xa9a+0x8*-0x4b1+0xca*0x3d,!(0xbc3*-0x1+-0xf51+0x2*0xd8a)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x265b+-0x1*0xdd3+-0x1888*0x1),this['fire']('add',_0x2dec0c);}['removeOpaq'+'ue'](_0x2c4654){for(let _0x43b0a9=-0x31a+0x18c5+-0x15ab,_0x3aad39=this['layerList']['length'];_0x43b0a9<_0x3aad39;_0x43b0a9++)if(this['layerList'][_0x43b0a9]===_0x2c4654&&!this['subLayerLi'+'st'][_0x43b0a9]){this['layerList']['splice'](_0x43b0a9,-0x2*-0x276+-0x587+-0x1a*-0x6),this['subLayerLi'+'st']['splice'](_0x43b0a9,0x17d*0x3+0x1*-0x8b4+0x43e),_0x3aad39--,this['_updateOpa'+'queOrder'](_0x43b0a9,_0x3aad39-(0x110*0x2+0x13af*0x1+0x15ce*-0x1)),this['subLayerEn'+'abled']['splice'](_0x43b0a9,-0x1074+0x38f*0x3+0x5c8),this['_dirty']=!(-0xa8*-0x1c+0xea2+-0x2102),this['layerList']['indexOf'](_0x2c4654)<0x1*-0x1922+0x1*0x21f9+-0x8d7&&this['fire']('remove',_0x2c4654);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x37b42a){this['_isSublaye'+'rAdded'](_0x37b42a,!(0xb4f+-0xbd3+-0xb*-0xc))||(this['layerList']['push'](_0x37b42a),this['_transpare'+'ntOrder'][_0x37b42a['id']]=this['subLayerLi'+'st']['push'](!(-0x1e87+0x6e6+0x17a1))-(0x4fa*0x7+-0x189e+-0xa37),this['subLayerEn'+'abled']['push'](!(0xf27+-0x10*-0x194+-0x2867)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x74b+0x1f*0x9e+-0xb*0x267),this['fire']('add',_0x37b42a));}['insertTran'+'sparent'](_0x2a7477,_0x16caeb){if(this['_isSublaye'+'rAdded'](_0x2a7477,!(0x2499+-0x1149+0x67*-0x30)))return;this['layerList']['splice'](_0x16caeb,0x4*0x601+0x672+-0x1e76,_0x2a7477),this['subLayerLi'+'st']['splice'](_0x16caeb,-0x154+-0x8b5*0x3+-0x1*-0x1b73,!(0x43f*-0x2+0x3*0x76d+-0xdc9*0x1));const _0x3014de=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x16caeb,_0x3014de-(0x6*0x11+-0x2e+-0x37*0x1)),this['subLayerEn'+'abled']['splice'](_0x16caeb,-0x1b47+0x3*0x4ca+0xce9,!(-0xe*0x275+0x143e+0xe28)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1*-0x1f01+0x26*-0x59+-0x11cb),this['fire']('add',_0x2a7477);}['removeTran'+'sparent'](_0x4b3ac6){for(let _0x3628d8=0x8*0x16f+-0x3fa*0x3+0x2*0x3b,_0x150cc9=this['layerList']['length'];_0x3628d8<_0x150cc9;_0x3628d8++)if(this['layerList'][_0x3628d8]===_0x4b3ac6&&this['subLayerLi'+'st'][_0x3628d8]){this['layerList']['splice'](_0x3628d8,0x587+0x4*0x2e2+-0x110e),this['subLayerLi'+'st']['splice'](_0x3628d8,-0x1*-0x221e+-0x263c+0x41f),_0x150cc9--,this['_updateTra'+'nsparentOr'+'der'](_0x3628d8,_0x150cc9-(-0x23e9+0x2*-0x1ac+0x2742)),this['subLayerEn'+'abled']['splice'](_0x3628d8,0x44e*-0x3+0x332+-0x1*-0x9b9),this['_dirty']=!(-0xb01+-0x52a+0x102b),this['layerList']['indexOf'](_0x4b3ac6)<-0x118b+-0x2177*-0x1+-0x7f6*0x2&&this['fire']('remove',_0x4b3ac6);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x4c6663){return this['layerOpaqu'+'eIndexMap']['get'](_0x4c6663)??-(-0x14f8+0x7b0+0xd49);}['getTranspa'+'rentIndex'](_0x5cfdc9){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x5cfdc9)??-(-0x6*0x51a+-0x234e+0xd2f*0x5);}['isEnabled'](_0x13cd23,_0x209405){if(_0x13cd23['enabled']){const _0x1f31b8=_0x209405?this['getTranspa'+'rentIndex'](_0x13cd23):this['getOpaqueI'+'ndex'](_0x13cd23);if(_0x1f31b8>=-0x1e9d+-0x79f*-0x2+0xf5f)return this['subLayerEn'+'abled'][_0x1f31b8];}return!(-0x2669+0x270d+0xa3*-0x1);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x5524ea=0x1e56+-0xd16+0x228*-0x8;_0x5524ea<this['layerList']['length'];_0x5524ea++){const _0xdbf0a8=this['layerList'][_0x5524ea];this['layerIdMap']['set'](_0xdbf0a8['id'],_0xdbf0a8),this['layerNameM'+'ap']['set'](_0xdbf0a8['name'],_0xdbf0a8),(this['subLayerLi'+'st'][_0x5524ea]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0xdbf0a8,_0x5524ea);}}['getLayerBy'+'Id'](_0x150955){return this['layerIdMap']['get'](_0x150955)??null;}['getLayerBy'+'Name'](_0x5be1fc){return this['layerNameM'+'ap']['get'](_0x5be1fc)??null;}['_updateOpa'+'queOrder'](_0x5b3525,_0x2ef192){for(let _0x418cb8=_0x5b3525;_0x418cb8<=_0x2ef192;_0x418cb8++)this['subLayerLi'+'st'][_0x418cb8]===!(0x19aa+0x1*0x1eda+-0x3883)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x418cb8]['id']]=_0x418cb8);}['_updateTra'+'nsparentOr'+'der'](_0x4b7c3f,_0xcc8223){for(let _0x4fecf8=_0x4b7c3f;_0x4fecf8<=_0xcc8223;_0x4fecf8++)this['subLayerLi'+'st'][_0x4fecf8]===!(-0x1e61+-0xaef+0x2950)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x4fecf8]['id']]=_0x4fecf8);}['_sortLayer'+'sDescendin'+'g'](_0xb423df,_0x3c4161,_0x2a8895){let _0x3013b6=-(-0x287*-0xf+0x56+0x16*-0x1bd),_0x942227=-(-0x4f*-0x13+-0x1c28+0x164c);for(let _0x26ec8b=-0xfda+0x1*-0x1c8f+0x2c69,_0x36fed4=_0xb423df['length'];_0x26ec8b<_0x36fed4;_0x26ec8b++){const _0x15c95e=_0xb423df[_0x26ec8b];_0x2a8895['hasOwnProp'+'erty'](_0x15c95e)&&(_0x3013b6=Math['max'](_0x3013b6,_0x2a8895[_0x15c95e]));}for(let _0x185e46=0xbd5*0x1+-0xb*-0x19b+0x1d7e*-0x1,_0x15ea50=_0x3c4161['length'];_0x185e46<_0x15ea50;_0x185e46++){const _0x5bb80c=_0x3c4161[_0x185e46];_0x2a8895['hasOwnProp'+'erty'](_0x5bb80c)&&(_0x942227=Math['max'](_0x942227,_0x2a8895[_0x5bb80c]));}return _0x3013b6===-(0x45a*-0x3+0x54d*0x5+-0xd72*0x1)&&_0x942227!==-(0x17*0x178+-0xed*0x1a+-0x5*0x1f1)?0x1e42+0x1871+-0x2*0x1b59:_0x942227===-(0x4a*0x79+-0x13*0x146+-0xac7)&&_0x3013b6!==-(-0x195f+-0x20a2+-0x3de*-0xf)?-(-0x1*0xc45+0x1*-0x2525+0x316b):_0x942227-_0x3013b6;}['sortTransp'+'arentLayer'+'s'](_0x301ced,_0x23eccf){return this['_sortLayer'+'sDescendin'+'g'](_0x301ced,_0x23eccf,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x346ef8,_0x41f03c){return this['_sortLayer'+'sDescendin'+'g'](_0x346ef8,_0x41f03c,this['_opaqueOrd'+'er']);}}const Bl=new T(),ii={'bias':0x0,'normalBias':0x0},Ya=new Y(),Vd={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Hu={'directional':ae,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(-0x11*0x28+0x38*0x83+0x34*-0x80,0x130d+0x2*0xc94+-0x2c35,-0x4b9+0x1219+-0xd5f,-0xdff*0x2+-0xa*0x38b+-0xd*-0x4e1)],[new Q(0x18a5+0xa7f*0x1+-0x2324,0x432+-0x3*-0xb72+-0x2688,-0x1*0x7d+-0x2127+0x21a4+0.5,0x1124+0x1aa1+-0x2bc5+0.5),new Q(-0x1*0xa97+0x19e+0x8f9,-0x383*-0x3+0xaf*0x9+0x2*-0x858+0.5,-0xfa4+-0xc47+0x1beb*0x1+0.5,-0x1e26+-0x1445+0x326b*0x1+0.5)],[new Q(-0x80*-0x43+-0x571*-0x1+-0x26f1,0xbf*0x10+-0x247d*-0x1+-0x31*0xfd,0x1d3c+-0x2*0x77+-0xe27*0x2+0.5,-0x3*0x1f6+-0x1d6a+-0x234c*-0x1+0.5),new Q(0x1*0x15a3+-0x3*-0x527+0x2*-0x128c,-0x2542+0xc00+0x1942*0x1+0.5,0x2*-0xf63+0x40f*0x7+-0x37*-0xb+0.5,0x2*-0x70+-0x2*0x748+0xf70+0.5),new Q(0x76+-0xb67+-0x1*-0xaf1+0.5,-0x2689*-0x1+-0xbb+-0x2*0x12e7,0x1eee+0x1d66+-0x3c54+0.5,-0x1*0xeda+-0x1bbe*0x1+0x2f*0xe8+0.5)],[new Q(-0x304*0x1+-0x15ad*0x1+0x18b1,-0x24ae+-0x2373+0x4821,-0x1194+-0xe80+0x2014+0.5,-0x23bb+-0x2*-0x6b4+0x1653+0.5),new Q(0x2*-0x484+0x14*-0x6+-0x98*-0x10,0xedd*-0x1+0x995+0x1a*0x34+0.5,0x204b+0x7b6*-0x1+-0x1895+0.5,-0x12*-0x1eb+0x511*0x7+0x45fd*-0x1+0.5),new Q(0x103b+0x2699+0x36d4*-0x1+0.5,0xa*0xad+0xbbb+0x1*-0x127d,-0x10ed+0x14d5+-0x3e8+0.5,-0x791+0xc*0x230+-0x12af+0.5),new Q(0x2*0x1300+-0x115f+0x1*-0x14a1+0.5,0x1deb+0x24a8+0x17*-0x2e5+0.5,0xc23+-0x183d+0xc1a+0.5,-0x100*0x14+0x7*-0x4ff+-0x1253*-0x3+0.5)]];let qM=-0x1*0x14ce+-0x239c+0xa6*0x57;class XM{constructor(_0x51c1c1,_0xbb2f94,_0x36c352){this['light']=_0x36c352,this['camera']=_0x51c1c1,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x36c352['_shadowTyp'+'e'],_0x36c352['_type'],_0xbb2f94),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(0x1bc2+0x5*0x65f+0x3b9d*-0x1,0xbfa+0x1074+-0x1c6e,-0x2d7*0x1+-0x1898+0x2*0xdb8,0x24f8+-0x1*0xe63+-0x1694),this['shadowScis'+'sor']=new Q(0x1efd*0x1+-0x14*-0xf4+-0x320d,-0xc75+-0x150c+0x1*0x2181,0x1121+0x4d7*0x7+-0x3301,0x2118+-0x5*-0x59+0x22d4*-0x1),this['projection'+'Compensati'+'on']=-0x133e+0x14c7+-0x189,this['face']=_0xbb2f94,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x317a4b=>{_0x317a4b['defaultUni'+'formBuffer']['destroy'](),_0x317a4b['destroy']();}),this['viewBindGr'+'oups']['length']=-0x52*-0x2+0x5*-0x355+0x1005;}get['shadowBuff'+'er'](){const _0x494e85=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x494e85?this['light']['_isPcf']?_0x494e85['depthBuffe'+'r']:_0x494e85['colorBuffe'+'r']:null;}}class zo{constructor(_0x3b55c0,_0x64bdb7){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',ls['DEFAULT']['clone']()),(this['device']=_0x3b55c0,this['clusteredL'+'ighting']=_0x64bdb7,this['id']=qM++,this['_type']=ae,this['_color']=new Y(0x15b*-0xd+-0x5d*-0x2+0x10e5+0.8,0x580+0xe48+-0x279*0x8+0.8,-0x2b3*0xb+0x171a+0x7*0xf1+0.8),this['_intensity']=-0x17ef+0x1*-0x1eb0+0x36a0,this['_affectSpe'+'cularity']=!(0xe*-0x251+-0x1999+0x3a07),this['_luminance']=-0x16b1+0x11ed+-0x7a*-0xa,this['_castShado'+'ws']=!(-0x2216+0x2*-0xe87+0x3d*0x109),this['_enabled']=!(-0x54e+-0x1*0x10e2+-0x17*-0xf7),this['_mask']=ds,this['isStatic']=!(-0x1*0x1591+0x11*-0xe9+0x250b),this['key']=0x1d33+0x1e3a+-0x3b6d,this['bakeDir']=!(-0x102b+-0x1923+0x294e),this['bakeNumSam'+'ples']=0x1d*-0xce+0x6a*0x44+-0x19b*0x3,this['bakeArea']=-0x99f+-0x4*0x221+0x1223,this['attenuatio'+'nStart']=-0x11b1*0x1+-0x22d*-0x7+0x280,this['attenuatio'+'nEnd']=0x1*-0x26f+-0x1*0x11a1+0x141a,this['_falloffMo'+'de']=Tp,this['_shadowTyp'+'e']=Lt,this['_vsmBlurSi'+'ze']=-0x1824+0x1*-0x13ff+0x2c2e,this['vsmBlurMod'+'e']=Ap,this['vsmBias']=(0x1*0x1221+0x1*-0x773+0x1*-0xaae+0.01)*(0x407+0x2488+0xd85*-0x3+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x1c1*0x4+-0x10c4+0x17c9,this['_cookieFal'+'loff']=!(-0xa7*0x34+0xaaa+-0xe5*-0x1a),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x169d*0x1+0x1965+-0x2*0x17ff),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0xbb1+-0xaec+0x169f),this['_cookieTra'+'nsformSet']=!(-0x2*0xdce+-0x2*0x228+0x1fed),this['_cookieOff'+'setSet']=!(-0x1*0x18fb+-0x56*0x4+0x1a54),this['_innerCone'+'Angle']=0x296*-0xe+0x1cc3+-0x1*-0x799,this['_outerCone'+'Angle']=0x146e+-0x1c91+0x850,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x1*-0x1d4+-0x2a*0xe6+0x2791*0x1,this['_cascadeBl'+'end']=-0xa68+-0x8f4*0x3+0x2544,this['cascadeDis'+'tribution']=0x1c51+-0x3*-0x74d+-0x8*0x647+0.5,this['_shape']=xt,this['_colorLine'+'ar']=new Float32Array(-0x35*-0x7f+-0x1afa+0xb2),this['_updateLin'+'earColor'](),this['_position']=new T(-0xad6+0x96a+0x16c,0x1873+0x718+-0x1f8b,-0x94a+-0x17ad+0x20f7),this['_direction']=new T(-0x265f+0x26cb*0x1+-0x4*0x1b,-0x713*0x2+-0x32a+0x115*0x10,-0x106*-0xd+0x5*-0x5ed+-0x1*-0x1053),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x24b5*0x1+-0x3b8+0x2921)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x1f0f+-0x261c+0x5*0x169),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x706+-0x12f*-0x3+-0x379*0x3,this['_shadowRes'+'olution']=-0x24e2+0x6ab+0x2237,this['_shadowBia'+'s']=-(-0x18a*0x2+-0x210+0x524+0.0005),this['shadowInte'+'nsity']=-0x11f6+-0x188e+0x2a85*0x1,this['_normalOff'+'setBias']=-0x115*0xe+0x313*-0x2+0x154c,this['shadowUpda'+'teMode']=Rp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x4*0x2e+0x2485+-0x129e*0x2),this['_isPcf']=!(-0x11b2+-0x1*0xdbd+0x1f6f),this['_softShado'+'wParams']=new Float32Array(-0xdc4+0xe94+-0x1*0xcc),this['shadowSamp'+'les']=0x22a3*0x1+-0x266c+0x3d9,this['shadowBloc'+'kerSamples']=0x1401+-0x308*0x9+0x757,this['penumbraSi'+'ze']=0x8*-0x1+0xf7+0xee*-0x1,this['penumbraFa'+'lloff']=0x2*-0xc48+-0x2*-0x4be+0xf15,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x238*-0xb+0xe06+0xa63),this['atlasVersi'+'on']=0x85*0x2f+0x19*0x79+-0x2*0x121e,this['atlasSlotI'+'ndex']=-0x799+-0x1365+0x1afe,this['atlasSlotU'+'pdated']=!(0xd61+-0x11b6+0x456),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x120a*-0x1+0x1*0x24fd+0x2*-0x1b83),this['maxScreenS'+'ize']=-0x99c+-0x177+0xb13,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x10553d=-0x229d+-0x37f*-0x1+0x1f1e;_0x10553d<this['_renderDat'+'a']['length'];_0x10553d++)this['_renderDat'+'a'][_0x10553d]['destroy']();this['_renderDat'+'a']['length']=0x26dd*0x1+-0x133c+-0x13a1;}}['addLayer'](_0x1aff69){this['layers']['add'](_0x1aff69);}['removeLaye'+'r'](_0xefdd15){this['layers']['delete'](_0xefdd15);}set['shadowSamp'+'les'](_0x5e9c4d){this['_softShado'+'wParams'][-0x2*0x52a+0x67*0x56+0xd*-0x1de]=_0x5e9c4d;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x1*-0xa27+-0x2*-0xd51+-0x1*0x107b];}set['shadowBloc'+'kerSamples'](_0x32b745){this['_softShado'+'wParams'][0x1*0x181d+-0x257e+0xd62]=_0x32b745;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x1*-0x241+-0x1*0x1371+0x1e9*0x9];}set['shadowBias'](_0x359e89){this['_shadowBia'+'s']!==_0x359e89&&(this['_shadowBia'+'s']=_0x359e89,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x462e7e){(!this['cascades']||this['numCascade'+'s']!==_0x462e7e)&&(this['cascades']=$M[_0x462e7e-(-0x118e+-0x1370*-0x2+0x1551*-0x1)],this['_shadowMat'+'rixPalette']=new Float32Array((-0x2486+-0x28*-0x9d+0xc02)*(0x2192+0x15*0x1b6+0x16*-0x328)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x12c6+0x1fd7+-0x3299),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x5d0287){this['_cascadeBl'+'end']!==_0x5d0287&&(this['_cascadeBl'+'end']=_0x5d0287,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x3c16fa){this['_shadowMap']!==_0x3c16fa&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x3c16fa);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x350d0d){this['_mask']!==_0x350d0d&&(this['_mask']=_0x350d0d,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x398cfb=this['_type'];return _0x398cfb===ae?this['numCascade'+'s']:_0x398cfb===Pe?-0x119c+0x277*-0xd+-0x51*-0x9d:0x4*0x8e5+-0x155+-0x111f*0x2;}set['type'](_0x648d59){if(this['_type']===_0x648d59)return;this['_type']=_0x648d59,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x466865=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x466865;}get['type'](){return this['_type'];}set['shape'](_0x3cad3c){if(this['_shape']===_0x3cad3c)return;this['_shape']=_0x3cad3c,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x57c7e8=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x57c7e8;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x489350){this['_usePhysic'+'alUnits']!==_0x489350&&(this['_usePhysic'+'alUnits']=_0x489350,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x56e6f0){if(this['_shadowTyp'+'e']===_0x56e6f0)return;const _0x326756=this['device'];_0x56e6f0===Cs&&!_0x326756['textureFlo'+'atRenderab'+'le']&&!_0x326756['textureHal'+'fFloatRend'+'erable']&&(_0x56e6f0=Lt),this['_type']===Pe&&_0x56e6f0!==Nh&&_0x56e6f0!==Lt&&_0x56e6f0!==zh&&_0x56e6f0!==Uh&&_0x56e6f0!==Cs&&(_0x56e6f0=Lt),_0x56e6f0===Wr&&(!_0x326756['textureFlo'+'atRenderab'+'le']||!_0x326756['textureFlo'+'atFilterab'+'le'])&&(_0x56e6f0=Hr),_0x56e6f0===Hr&&!_0x326756['textureHal'+'fFloatRend'+'erable']&&(_0x56e6f0=Lt);const _0x3edf04=rr['get'](_0x56e6f0);this['_isVsm']=(_0x3edf04==null?void(0x11*-0x188+-0x1*-0xb3a+-0x2f6*-0x5):_0x3edf04['vsm'])??!(0x215f+0x1dc6+0x3f24*-0x1),this['_isPcf']=(_0x3edf04==null?void(0x3*-0x8d7+0x1529*0x1+0x55c):_0x3edf04['pcf'])??!(0x1e9a+-0x31+-0x3cd*0x8),this['_shadowTyp'+'e']=_0x56e6f0,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x352f1b){this['_enabled']!==_0x352f1b&&(this['_enabled']=_0x352f1b,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x45f231){this['_castShado'+'ws']!==_0x45f231&&(this['_castShado'+'ws']=_0x45f231,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==nr&&this['_mask']!==-0x2*-0xd45+0x36*-0x47+-0x2e4*0x4;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===nr;}set['shadowReso'+'lution'](_0x1011e4){this['_shadowRes'+'olution']!==_0x1011e4&&(this['_type']===Pe?_0x1011e4=Math['min'](_0x1011e4,this['device']['maxCubeMap'+'Size']):_0x1011e4=Math['min'](_0x1011e4,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x1011e4,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x20e585){this['_vsmBlurSi'+'ze']!==_0x20e585&&(_0x20e585%(0x2042*0x1+0x148*0x2+-0x22d0)===-0xa6*-0x3+0xa6*-0x31+0x1dd4&&_0x20e585++,this['_vsmBlurSi'+'ze']=_0x20e585);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x30d993){if(this['_normalOff'+'setBias']!==_0x30d993){const _0x7cdbf=!this['_normalOff'+'setBias']&&_0x30d993||this['_normalOff'+'setBias']&&!_0x30d993;this['_normalOff'+'setBias']=_0x30d993,_0x7cdbf&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x2321f3){this['_falloffMo'+'de']!==_0x2321f3&&(this['_falloffMo'+'de']=_0x2321f3,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x29489e){this['_innerCone'+'Angle']!==_0x29489e&&(this['_innerCone'+'Angle']=_0x29489e,this['_innerCone'+'AngleCos']=Math['cos'](_0x29489e*Math['PI']/(0x1d*0x8b+-0x1*-0x40e+-0x1319)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x54bad5){this['_outerCone'+'Angle']!==_0x54bad5&&(this['_outerCone'+'Angle']=_0x54bad5,this['_updateOut'+'erAngle'](_0x54bad5),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x3d1647){this['_penumbraS'+'ize']=_0x3d1647,this['_softShado'+'wParams'][-0x79d*0x2+0x238f+0x1d9*-0xb]=_0x3d1647;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x2b0364){this['_softShado'+'wParams'][-0x145b+-0xf1e+0x237c]=_0x2b0364;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x12b3+0x1951+0x59*-0x13];}['_updateOut'+'erAngle'](_0x15224f){const _0x28b61a=_0x15224f*Math['PI']/(0x2b1+0x1aa+0x1*-0x3a7);this['_outerCone'+'AngleCos']=Math['cos'](_0x28b61a),this['_outerCone'+'AngleSin']=Math['sin'](_0x28b61a);}set['intensity'](_0xaaf998){this['_intensity']!==_0xaaf998&&(this['_intensity']=_0xaaf998,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x5ee4c1){this['_type']===ae&&(this['_affectSpe'+'cularity']=_0x5ee4c1,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x4024ee){this['_luminance']!==_0x4024ee&&(this['_luminance']=_0x4024ee,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(-0x1433*-0x1+0x65a*0x4+-0x1d3*0x19,0x13a3+-0x13*-0x72+-0x1c19*0x1,-0x1233+-0x742+0x1976,-0x1*0xbb3+-0x20f0+0x4*0xb29)),this['_atlasView'+'port'];}set['cookie'](_0x1efef0){this['_cookie']!==_0x1efef0&&(this['_cookie']=_0x1efef0,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x30d683){this['_cookieFal'+'loff']!==_0x30d683&&(this['_cookieFal'+'loff']=_0x30d683,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x2311a0){if(this['_cookieCha'+'nnel']!==_0x2311a0){if(_0x2311a0['length']<0x26f6+0x8*-0x3cb+-0x89b*0x1){const _0x3a6a2c=_0x2311a0['charAt'](_0x2311a0['length']-(-0x1b9d*0x1+0xa*0x2f5+-0x1f4)),_0x2a9f9c=-0x2610+-0x14d3+-0x2a*-0x167-_0x2311a0['length'];for(let _0x13e2d7=0x12bc+-0xef1+0x3cb*-0x1;_0x13e2d7<_0x2a9f9c;_0x13e2d7++)_0x2311a0+=_0x3a6a2c;}this['_cookieCha'+'nnel']=_0x2311a0,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x193479){this['_cookieTra'+'nsform']!==_0x193479&&(this['_cookieTra'+'nsform']=_0x193479,this['_cookieTra'+'nsformSet']=!!_0x193479,_0x193479&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(-0x578*0x1+-0x3*0x1ed+-0x12*-0xa0)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x31f200){if(this['_cookieOff'+'set']===_0x31f200)return;!!(this['_cookieTra'+'nsformSet']||_0x31f200)&&!_0x31f200&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x25a+-0x1bd*0x13+0x2361,-0x1807*0x1+-0x398+0x1b9f):this['_cookieOff'+'set']=_0x31f200,this['_cookieOff'+'setSet']=!!_0x31f200,_0x31f200&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x1943+0x1*-0x1aeb+0x5*0x55,-0x2012+0x769*0x1+0x18aa,0x6d0*0x5+-0xe41+-0xb*0x1cd,0x2*0x869+-0x1*0x13df+-0x1*-0x30d),this['_cookieTra'+'nsformSet']=!(0x9ef*0x2+-0x40f*0x4+0x1*-0x3a1)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ae&&this['_enabled'],this['maxScreenS'+'ize']=-0x5*-0x265+-0x24c4+-0x1*-0x18cb,this['atlasViewp'+'ortAllocat'+'ed']=!(-0xc7*-0x9+-0x2180+-0x105*-0x1a),this['atlasSlotU'+'pdated']=!(0x1*-0x1efe+0x2*0x11cf+-0x1*0x49f);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Is&&(this['shadowUpda'+'teMode']=dn),this['shadowUpda'+'teOverride'+'s']){for(let _0x3be14c=-0x3*0xc15+-0x1*-0x1991+-0x2*-0x557;_0x3be14c<this['shadowUpda'+'teOverride'+'s']['length'];_0x3be14c++)this['shadowUpda'+'teOverride'+'s'][_0x3be14c]===Is&&(this['shadowUpda'+'teOverride'+'s'][_0x3be14c]=dn);}}['getRenderD'+'ata'](_0x4aadc1,_0x2fa815){for(let _0x140bd9=-0x7c1*-0x2+-0x1136+0x2*0xda;_0x140bd9<this['_renderDat'+'a']['length'];_0x140bd9++){const _0x446e01=this['_renderDat'+'a'][_0x140bd9];if(_0x446e01['camera']===_0x4aadc1&&_0x446e01['face']===_0x2fa815)return _0x446e01;}const _0x2c54ab=new XM(_0x4aadc1,_0x2fa815,this);return this['_renderDat'+'a']['push'](_0x2c54ab),_0x2c54ab;}['clone'](){const _0x5295bb=new zo(this['device'],this['clusteredL'+'ighting']);return _0x5295bb['type']=this['_type'],_0x5295bb['setColor'](this['_color']),_0x5295bb['intensity']=this['_intensity'],_0x5295bb['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x5295bb['luminance']=this['_luminance'],_0x5295bb['castShadow'+'s']=this['castShadow'+'s'],_0x5295bb['_enabled']=this['_enabled'],_0x5295bb['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x5295bb['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x5295bb['falloffMod'+'e']=this['_falloffMo'+'de'],_0x5295bb['shadowType']=this['_shadowTyp'+'e'],_0x5295bb['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x5295bb['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x5295bb['vsmBias']=this['vsmBias'],_0x5295bb['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x5295bb['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x5295bb['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x5295bb['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x5295bb['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x5295bb['numCascade'+'s']=this['numCascade'+'s'],_0x5295bb['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x5295bb['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x5295bb['shape']=this['_shape'],_0x5295bb['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x5295bb['shadowBias']=this['shadowBias'],_0x5295bb['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x5295bb['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x5295bb['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x5295bb['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x5295bb['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x5295bb['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x5295bb['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x5295bb['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x5295bb;}static['getLightUn'+'itConversi'+'on'](_0x591bff,_0x43e99a=Math['PI']/(0x751*0x5+-0x1742+-0xd4f),_0x247381=-0x147a*0x1+-0x84e+0xe64*0x2){switch(_0x591bff){case Re:{const _0x7dba75=Math['cos'](_0x43e99a),_0x4aefed=Math['cos'](_0x247381);return(-0xbf8+-0x2*-0xfc7+-0x2cc*0x7)*Math['PI']*(0x1768+-0x265c+0xef5-_0x4aefed+(_0x4aefed-_0x7dba75)/(-0xc9e+0xc2+-0x2*-0x5ef));}case Pe:return(0x23fb+-0xb47*-0x3+-0x45cc)*Math['PI'];case ae:return-0x2*-0x3ad+-0x1b99+0x18*0xd8;}}['_getUnifor'+'mBiasValue'+'s'](_0x4e4562){const _0x34b4b4=_0x4e4562['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ii['bias']=this['shadowBias'],ii['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ii['bias']=-(-0x5ba*0x6+0x4*0x6d4+0x16*0x52+0.00001)*(0x22ce+0x19fc+-0x3cb6):ii['bias']=this['shadowBias']*(0x18ad+0x1015*-0x2+0x791),ii['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x6d*-0x45+0x22bf+-0x4019)):this['_normalOff'+'setBias'];break;case ae:this['_isVsm']?ii['bias']=-(0x1*-0x232f+-0x59*0x6b+0x4862+0.00001)*(0x15dc+-0xab1+-0x11*0xa7):ii['bias']=this['shadowBias']/_0x34b4b4*(-0x1969+0x5*-0x5f9+0x39*0xfa),ii['normalBias']=this['_isVsm']?this['vsmBias']/(_0x34b4b4/(0x7*-0x79+-0x101f*-0x2+-0x1ce8)):this['_normalOff'+'setBias'];break;}return ii;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x4a1d1f){if(this['_type']===Re){const _0x309637=this['attenuatio'+'nEnd'],_0x69a356=this['_outerCone'+'Angle'],_0x26cd86=this['_outerCone'+'AngleCos'],_0x4e0853=this['_node'];Bl['copy'](_0x4e0853['up']),_0x69a356>0x1703+0x1034+-0x270a?(_0x4a1d1f['radius']=_0x309637*this['_outerCone'+'AngleSin'],Bl['mulScalar'](-_0x309637*_0x26cd86)):(_0x4a1d1f['radius']=_0x309637/((-0xc4a+-0x1*0x22b9+0x2f05)*_0x26cd86),Bl['mulScalar'](-_0x4a1d1f['radius'])),_0x4a1d1f['center']['add2'](_0x4e0853['getPositio'+'n'](),Bl);}else this['_type']===Pe&&(_0x4a1d1f['center']=this['_node']['getPositio'+'n'](),_0x4a1d1f['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x5ad143){if(this['_type']===Re){const _0xb87af1=this['attenuatio'+'nEnd'],_0x3f0bcc=this['_outerCone'+'Angle'],_0x5dc266=this['_node'],_0x777385=Math['abs'](Math['sin'](_0x3f0bcc*N['DEG_TO_RAD'])*_0xb87af1);_0x5ad143['center']['set'](-0x54e*-0x7+-0x15ff+-0xf23,-_0xb87af1*(-0x1066+-0x197d+0x29e3+0.5),0x1826+-0x13*0x13+0x1*-0x16bd),_0x5ad143['halfExtent'+'s']['set'](_0x777385,_0xb87af1*(-0x1*-0xf1+-0xf53+0xe62+0.5),_0x777385),_0x5ad143['setFromTra'+'nsformedAa'+'bb'](_0x5ad143,_0x5dc266['getWorldTr'+'ansform'](),!(-0x3*-0x6a1+0x3a5*-0x6+0x1fb));}else this['_type']===Pe&&(_0x5ad143['center']['copy'](this['_node']['getPositio'+'n']()),_0x5ad143['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x7*0x197+-0x17ce+-0x37*-0x3b,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x2*0x1121+-0x13aa+0x35ec;else{const _0x14219b=this['shadowBias']*-(-0x1671*-0x1+0xb47+0x4f8*-0x6);this['shadowDept'+'hState']['depthBias']=_0x14219b,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x14219b;}}['_updateLin'+'earColor'](){let _0x13097d=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x13097d=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x33524d=this['_color'],_0x4887a2=this['_colorLine'+'ar'];_0x13097d>=0x1*0x1355+0x149d+-0x19*0x199?Ya['linear'](_0x33524d)['mulScalar'](_0x13097d):Ya['copy'](_0x33524d)['mulScalar'](_0x13097d)['linear'](),_0x4887a2[-0xc7e+-0x1*-0xfd3+-0x1*0x355]=Ya['r'],_0x4887a2[0xb8*-0x1e+-0x526+-0x3d1*-0x7]=Ya['g'],_0x4887a2[-0x4*-0x33b+-0x7*-0x95+-0x10fd*0x1]=Ya['b'];}['setColor'](){arguments['length']===0x1*-0x1445+-0xed3+0x2319?this['_color']['set'](arguments[-0x462+0xa9b+-0x639]['r'],arguments[-0x11e3+-0x1c9*0xb+0x2586*0x1]['g'],arguments[-0x8*-0x34c+0x10f0+-0x2b50]['b']):arguments['length']===-0x1cd2+-0x7f*-0x39+0x8e&&this['_color']['set'](arguments[-0x121f+-0x1*-0x165a+-0x43b],arguments[0x5*-0x64+0x7*-0x577+0x2836*0x1],arguments[0x237*-0x4+0x3*0x6be+0x2*-0x5ae]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x15d801=>{_0x15d801['hasLight'](this)&&_0x15d801['markLights'+'Dirty']();});}['updateKey'](){let _0x1bfa50=this['_type']<<0x5c*-0x61+0x209f+-0x2b*-0xe|this['_shadowTyp'+'e']<<0x1cbb+-0x17b7+-0x1*0x4eb|this['_falloffMo'+'de']<<0xd8d*0x1+0x7*-0x5+-0xd53|(this['_normalOff'+'setBias']!==-0xf*0x7f+-0x6a9+0xe1a?0xe0e*-0x1+0x2025*0x1+-0x1216:-0xd6*-0x25+0x4f*-0xa+-0x24*0xc6)<<0x5fc*0x4+-0xc0a+-0x30*0x3f|(this['_cookie']?0x3b3*-0x1+0x6*-0x497+0x1f3e:0x6*-0x4b5+0x4fd*0x7+-0x6ad)<<-0x7f4+-0x2670+-0x2e79*-0x1|(this['_cookieFal'+'loff']?-0x1a*0x92+0x9*0x253+-0x616:0x21d*-0xd+0x2*-0x51b+0x25af)<<-0x1*0x25e0+0x1*-0x1d31+0x4325|Vd[this['_cookieCha'+'nnel']['charAt'](-0x35*0xd+-0x24cf+0x2780)]<<-0x228*-0x8+0x1316+0x16*-0x1a6|(this['_cookieTra'+'nsform']?0x1d1d+0x16*0x4+-0x1d74:-0x1*-0x248b+0x185*-0x1+0x1*-0x2306)<<-0xfa*-0x4+-0x1b3b+0x175f|this['_shape']<<0x15*-0x16e+0x1*0xfe1+-0xe2f*-0x1|(this['numCascade'+'s']>-0x1117*-0x1+0xa81*0x3+-0x1*0x309a?0x58a+-0x12d2+0xd49:0x165c+-0x195b+-0xd*-0x3b)<<-0x1*0x84+-0x1*0x434+0x4c1|(this['_cascadeBl'+'end']>0x4*0x15b+0x17e*0x4+0xa2*-0x12?0x24fb*-0x1+-0x200f+0x1*0x450b:-0x1cd+0x119b*0x1+-0xfce*0x1)<<0x82b+0x254c+0xf25*-0x3|(this['affectSpec'+'ularity']?0x2149+0x1*0x1591+0x36d9*-0x1:0x1*-0x1367+-0x20*0x5d+0x1f07)<<-0xbf2+0x1f27*-0x1+0x8a*0x50|this['mask']<<0xcf9+-0xd81+0x8e|(this['_castShado'+'ws']?-0x8*-0x3dd+-0x5*0x152+0x1*-0x184d:-0x1d6b*0x1+0x1*0x247c+-0x711)<<0x77f*-0x2+-0x2623+0x3524;this['_cookieCha'+'nnel']['length']===0x1*0x8a5+0x1*0x6f+-0x911&&(_0x1bfa50|=Vd[this['_cookieCha'+'nnel']['charAt'](-0x2527+0x1550+0x152*0xc)]<<0x67*-0x61+0xb*0x7f+0x21a2,_0x1bfa50|=Vd[this['_cookieCha'+'nnel']['charAt'](0x80b+0x2*0xcb+-0x3*0x335)]<<0x24a0+-0xd*0x2dd+-0xa7*-0x1),_0x1bfa50!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x1bfa50;}}class L0{constructor(_0x2ff900,_0x23195b,_0x461803){c(this,'_areaLight'+'sEnabled',!(-0x1a6b+0x1*-0xad+0x1b19*0x1)),c(this,'_cells',new T(0x973+-0x489+-0x9c*0x8,0x7cd+0x246d+-0x2c37,-0xf7f+0xd00+0x289)),c(this,'_maxLights'+'PerCell',-0x1*-0x8ef+-0x21b8+0x19c8),c(this,'_shadowsEn'+'abled',!(0xa*0x113+0x13ea+-0x1ea8)),c(this,'_shadowTyp'+'e',Lt),c(this,'_shadowAtl'+'asResoluti'+'on',0x1*-0xacf+0x23a7+-0x10d8),c(this,'_cookiesEn'+'abled',!(0x22*-0xfd+-0xcc1+0x5c*0x81)),c(this,'_cookieAtl'+'asResoluti'+'on',0x57*-0x5b+-0xe40+0x352d),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x2ff900,this['_maxTextur'+'eSize']=_0x23195b,this['_dirtyLigh'+'tsFnc']=_0x461803);}['applySetti'+'ngs'](_0x3cb88f){this['shadowsEna'+'bled']=_0x3cb88f['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x3cb88f['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x3cb88f['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x3cb88f['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3cb88f['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x3cb88f['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x3cb88f['lightingSh'+'adowType']??this['shadowType'],_0x3cb88f['lightingCe'+'lls']&&(this['cell']=new T(_0x3cb88f['lightingCe'+'lls']));}set['cells'](_0xc8d485){this['_cells']['copy'](_0xc8d485);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x47adfd){this['_maxLights'+'PerCell']=N['clamp'](_0x47adfd,-0x403*0x9+0x1*0x905+0x1*0x1b17,-0xc97+0x2b4*0xe+-0x1842);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x532a9d){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x532a9d,-0x22d*-0x5+0xb14+-0x15d5,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x40773d){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x40773d,-0xea*-0x4+0x907+-0x1*0xc8f,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x2e8309){this['_shadowTyp'+'e']!==_0x2e8309&&(this['_shadowTyp'+'e']=_0x2e8309,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x5b2f4f){this['_cookiesEn'+'abled']!==_0x5b2f4f&&(this['_cookiesEn'+'abled']=_0x5b2f4f,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x436b61){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x436b61&&(this['_areaLight'+'sEnabled']=_0x436b61,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x332695){this['_shadowsEn'+'abled']!==_0x332695&&(this['_shadowsEn'+'abled']=_0x332695,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(-0x1d6*0x1+0x2023*0x1+-0x1e4d),Ft,nt,nt);class pn{constructor(_0x246e63){c(this,'shaderCach'+'e',[]),(this['morph']=_0x246e63,_0x246e63['incRefCoun'+'t'](),this['device']=_0x246e63['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x27f707=0x8*-0x199+-0x20f1+0x2db9;_0x27f707<_0x246e63['_targets']['length'];_0x27f707++){const _0x4e2438=_0x246e63['_targets'][_0x27f707];_0x4e2438['name']&&this['_weightMap']['set'](_0x4e2438['name'],_0x27f707),this['setWeight'](_0x27f707,_0x4e2438['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x213736=(_0x1bb468,_0xa45cf7)=>(this[_0xa45cf7]=_0x246e63['_createTex'+'ture'](_0x1bb468,_0x246e63['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0xa45cf7],'depth':!(0x1b6e*0x1+0x1*-0x2335+-0x1*-0x7c8)}));_0x246e63['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x213736('MorphRTPos','texturePos'+'itions')),_0x246e63['morphNorma'+'ls']&&(this['rtNormals']=_0x213736('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x246e63['morphTextu'+'reWidth'],_0x246e63['morphTextu'+'reHeight']]);const _0x46ccc0=_0x246e63['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x46ccc0['x']*(0x1f0d*0x1+-0xed1*0x1+-0x1038),_0x46ccc0['y']*(0x8f2+-0x859+-0x95),_0x46ccc0['z']*(0x6*-0x56b+0x1*0xd3b+-0x1c1*-0xb)]);const _0x462988=_0x246e63['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x462988['x']*(-0x4c+0xda4+-0xd56),_0x462988['y']*(0x15a7+-0xc7e+-0x927),_0x462988['z']*(0x10*-0x9b+0x225f+-0x18ad)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x4b1+0xe32+0xdd*-0xb,0x1*-0x1c67+-0x213a*0x1+-0x1*-0x3da3,-0x1590+-0xb*0xd+-0x203*-0xb]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x2c8+-0x17*0x81+0xe60),-(0x1f*0x107+-0x4*0x766+-0x24*0x10),-(-0xe05+-0x16a*0xa+-0x406*-0x7)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x48874c=-0x63+0xf9*0x1+0x1e*-0x5;_0x48874c<this['maxSubmitC'+'ount'];_0x48874c++)this['morphBlend'+'Tex'+_0x48874c]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x48874c);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0x9d1+0x1*-0x83d+-0x193);}['destroy'](){this['shader']=null;const _0x564e8f=this['morph'];_0x564e8f&&(this['morph']=null,_0x564e8f['decRefCoun'+'t'](),_0x564e8f['refCount']<-0x15d9+0x12e*0x15+-0x2ec&&_0x564e8f['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new pn(this['morph']);}['_getWeight'+'Index'](_0x4e6f20){if(typeof _0x4e6f20=='string'){const _0x58d7a4=this['_weightMap']['get'](_0x4e6f20);return _0x58d7a4===void(-0x4b*0x3d+-0x53a+0xdb*0x1b)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x4e6f20+'.'),_0x58d7a4;}return _0x4e6f20;}['getWeight'](_0x1c64cb){const _0xb1efeb=this['_getWeight'+'Index'](_0x1c64cb);return this['_weights'][_0xb1efeb];}['setWeight'](_0x3347b7,_0x4942ed){const _0x1b5101=this['_getWeight'+'Index'](_0x3347b7);v['assert'](_0x1b5101>=-0x197*-0x10+-0x20e*0xb+0x16*-0x21&&_0x1b5101<this['morph']['_targets']['length']),this['_weights'][_0x1b5101]=_0x4942ed,this['_dirty']=!(-0x1ec4+0x2528+-0x664);}['_getFragme'+'ntShader'](_0xbf9b1e){let _0x2367e2='',_0x2eb2b2='';for(let _0x28ed2d=0x1*-0xc4e+-0x4d8+-0x5*-0x36e;_0x28ed2d<_0xbf9b1e;_0x28ed2d++)_0x2367e2+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x28ed2d+';',_0x2eb2b2+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x28ed2d+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x28ed2d+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0xbf9b1e>-0x9fa+-0x2d7*-0xd+0x1af1*-0x1?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0xbf9b1e+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x2367e2+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x2eb2b2+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0xd02712){let _0xb1b1cd=this['shaderCach'+'e'][_0xd02712];if(!_0xb1b1cd){const _0x49dae9=this['_getFragme'+'ntShader'](_0xd02712),_0x5c049f=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0xb1b1cd=Ls(this['device'],jM,_0x49dae9,'textureMor'+'ph'+_0xd02712,void(-0x3d1*0x1+0x1103+-0xd32),{'fragmentOutputTypes':[_0x5c049f]}),this['shaderCach'+'e'][_0xd02712]=_0xb1b1cd;}return _0xb1b1cd;}['_updateTex'+'tureRender'+'Target'](_0x3f667d,_0x54daca,_0x4d181e){const _0x4778b1=this['device'],_0x3bb774=(_0x3a9a5b,_0x29f457)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x4778b1['setBlendSt'+'ate'](_0x29f457?YM:_t['NOBLEND']);const _0x5c97fb=this['_getShader'](_0x3a9a5b);un(_0x4778b1,_0x3f667d,_0x5c97fb);};this['setAabbUni'+'forms'](_0x4d181e);let _0x35536f=0x65*-0x53+-0x152*0x11+0x3731*0x1,_0x5abd63=!(0x1da*-0x5+0x1494+-0xb51);const _0xc8d2c0=this['_activeTar'+'gets']['length'];for(let _0x331d8a=0x1*0x9d6+-0x85*0x1+-0x951;_0x331d8a<_0xc8d2c0;_0x331d8a++){const _0x565e48=this['_activeTar'+'gets'][_0x331d8a],_0x45bffa=_0x565e48['target'][_0x54daca];_0x45bffa&&(this['morphBlend'+'Tex'+_0x35536f]['setValue'](_0x45bffa),this['_shaderMor'+'phWeights'][_0x35536f]=_0x565e48['weight'],_0x35536f++,_0x35536f>=this['maxSubmitC'+'ount']&&(_0x3bb774(_0x35536f,_0x5abd63),_0x35536f=-0x1af8+-0x2bd*0x1+0x1db5,_0x5abd63=!(-0x195a+-0x19f5+0xb9*0x47)));}(_0x35536f>-0x1b7a+0x882+0x12f8||_0xc8d2c0===0xb7*0xe+0x1*-0x1d6c+0x136a&&!this['zeroTextur'+'es'])&&_0x3bb774(_0x35536f,_0x5abd63);}['_updateTex'+'tureMorph'](){const _0x4a3589=this['device'];G['pushGpuMar'+'ker'](_0x4a3589,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x68*-0x7+-0x10*-0x9e+-0xa*0xb4||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(0x3*-0x5e1+0xf94+0x20f)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(0xa*0xd0+-0x1b26+-0x1*-0x1307)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===-0x490*-0x6+-0x9*0x425+0x9ed),G['popGpuMark'+'er'](_0x4a3589);}['setAabbUni'+'forms'](_0x418f19=!(-0x1d2e+0x169e+0x690)){this['aabbSizeId']['setValue'](_0x418f19?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x418f19?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x5d4a06){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x363+0x2f5*-0xb+0x3*0xbf9);const _0x4bcd93=this['morph']['_targets'];let _0x27722b=0x2f4+-0xc4d*-0x1+-0xf41;const _0x2802f8=-0x1159*0x2+0xe8*0x1d+0x2*0x435+0.00001;for(let _0x18e203=0x3*-0x51e+-0x1230+0x1*0x218a;_0x18e203<_0x4bcd93['length'];_0x18e203++){const _0x16b977=Math['abs'](this['getWeight'](_0x18e203));if(_0x16b977>_0x2802f8){this['_activeTar'+'gets']['length']<=_0x27722b&&(this['_activeTar'+'gets'][_0x27722b]={});const _0x5aac99=this['_activeTar'+'gets'][_0x27722b++];_0x5aac99['absWeight']=_0x16b977,_0x5aac99['weight']=this['getWeight'](_0x18e203),_0x5aac99['target']=_0x4bcd93[_0x18e203];}}this['_activeTar'+'gets']['length']=_0x27722b,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x5e8a68,_0x43f7d6)=>_0x5e8a68['absWeight']<_0x43f7d6['absWeight']?-0xb9*-0x2b+0x1*0x182d+-0x1*0x373f:_0x43f7d6['absWeight']<_0x5e8a68['absWeight']?-(0x4b*0x1f+0xcc7+-0x5*0x45f):-0xd9d*0x1+0x3*-0xbd+0xfd4),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Bi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x21*0x9d+0x1*-0x1a1b+0x5de,this['_immutable']=!(0x2*0x8d3+-0x116d+-0x38));}['getGraph'](){return this['graph'];}['setGraph'](_0x1b6a8f){this['graph']=_0x1b6a8f;}['getCameras'](){return this['cameras'];}['setCameras'](_0x472b6d){this['cameras']=_0x472b6d;}['getLights'](){return this['lights'];}['setLights'](_0x1adcf){this['lights']=_0x1adcf;}['getMateria'+'ls'](){const _0xc90672=[];for(let _0x2f0d7=0x170e+0x1c3*0xa+-0x28ac;_0x2f0d7<this['meshInstan'+'ces']['length'];_0x2f0d7++){const _0x4ae554=this['meshInstan'+'ces'][_0x2f0d7];_0xc90672['indexOf'](_0x4ae554['material'])===-(0x13fb+0x1*-0x2081+0xc87)&&_0xc90672['push'](_0x4ae554['material']);}return _0xc90672;}['clone'](){const _0x5b15aa=[],_0x4686bc=[],_0x2394e2=function(_0x577593){const _0x290b92=_0x577593['clone']();_0x5b15aa['push'](_0x577593),_0x4686bc['push'](_0x290b92);for(let _0x1b0df2=-0x115*0x7+0x2*0x4a+0x6ff;_0x1b0df2<_0x577593['_children']['length'];_0x1b0df2++)_0x290b92['addChild'](_0x2394e2(_0x577593['_children'][_0x1b0df2]));return _0x290b92;},_0x308f70=_0x2394e2(this['graph']),_0x29efd5=[],_0x50e327=[],_0x36bb88=[];for(let _0x4f7f2f=-0xdbd+-0x19a4*0x1+-0x251*-0x11;_0x4f7f2f<this['skinInstan'+'ces']['length'];_0x4f7f2f++){const _0x4b0394=this['skinInstan'+'ces'][_0x4f7f2f]['skin'],_0x5b2dfe=new nl(_0x4b0394),_0x5d812a=[];for(let _0x39ff25=-0x6*0x25+0xea3+-0xdc5;_0x39ff25<_0x4b0394['boneNames']['length'];_0x39ff25++){const _0x44a3cc=_0x4b0394['boneNames'][_0x39ff25],_0x1fe5ef=_0x308f70['findByName'](_0x44a3cc);_0x5d812a['push'](_0x1fe5ef);}_0x5b2dfe['bones']=_0x5d812a,_0x50e327['push'](_0x5b2dfe);}for(let _0x48f20e=-0x764+-0xe77+0x15db;_0x48f20e<this['morphInsta'+'nces']['length'];_0x48f20e++){const _0x48f70a=this['morphInsta'+'nces'][_0x48f20e]['morph'],_0x157c12=new pn(_0x48f70a);_0x36bb88['push'](_0x157c12);}for(let _0xa7d346=0x2d4*0x1+-0x1388+0x10b4;_0xa7d346<this['meshInstan'+'ces']['length'];_0xa7d346++){const _0x1f4a0f=this['meshInstan'+'ces'][_0xa7d346],_0x8684e0=_0x5b15aa['indexOf'](_0x1f4a0f['node']),_0xaf2660=new Le(_0x1f4a0f['mesh'],_0x1f4a0f['material'],_0x4686bc[_0x8684e0]);if(_0x1f4a0f['skinInstan'+'ce']){const _0x43bf45=this['skinInstan'+'ces']['indexOf'](_0x1f4a0f['skinInstan'+'ce']);_0xaf2660['skinInstan'+'ce']=_0x50e327[_0x43bf45];}if(_0x1f4a0f['morphInsta'+'nce']){const _0x1ef024=this['morphInsta'+'nces']['indexOf'](_0x1f4a0f['morphInsta'+'nce']);_0xaf2660['morphInsta'+'nce']=_0x36bb88[_0x1ef024];}_0x29efd5['push'](_0xaf2660);}const _0x5eb095=new Bi();return _0x5eb095['graph']=_0x308f70,_0x5eb095['meshInstan'+'ces']=_0x29efd5,_0x5eb095['skinInstan'+'ces']=_0x50e327,_0x5eb095['morphInsta'+'nces']=_0x36bb88,_0x5eb095['getGraph']()['syncHierar'+'chy'](),_0x5eb095;}['destroy'](){const _0x319950=this['meshInstan'+'ces'];for(let _0x1f3aa5=-0xe9*-0x1f+0x65e+-0x2295;_0x1f3aa5<_0x319950['length'];_0x1f3aa5++)_0x319950[_0x1f3aa5]['destroy']();this['meshInstan'+'ces']['length']=0x1b84+-0x2eb*0x4+-0xfd8;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Hc{constructor(_0x2ed017,_0x5c922c,{preferHighPrecision:_0x5aa9c3=!(-0x2549*-0x1+0x12f7+0x4d*-0xbb)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x5c922c,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x5c922c,this['preferHigh'+'Precision']=_0x5aa9c3,v['assert'](_0x2ed017['every'](_0x367a2e=>!_0x367a2e['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x2ed017['slice']());const _0x3657e2=this['device'],_0x55e247=_0x3657e2['textureHal'+'fFloatRend'+'erable']?Qe:void(0x11d2+-0x2b*0xe3+0x144f),_0x431962=_0x3657e2['textureFlo'+'atRenderab'+'le']?Ye:void(0x1686+-0x1784+0x7f*0x2);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x431962??_0x55e247:_0x55e247??_0x431962,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Cc,this['intRenderF'+'ormat']=ta(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?vc:Qe,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x5d4606=new T(),_0x4697cb=new T();for(let _0x4a0fac=-0x15*-0x1a5+0x2381+0x146*-0x37;_0x4a0fac<this['_targets']['length'];_0x4a0fac++){const _0x4f5beb=this['_targets'][_0x4a0fac]['aabb'];_0x5d4606['min'](_0x4f5beb['getMin']()),_0x4697cb['max'](_0x4f5beb['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x5d4606,_0x4697cb);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x4e8e61=0x324*0x3+-0xe5d+0x4f1;_0x4e8e61<this['_targets']['length'];_0x4e8e61++)this['_targets'][_0x4e8e61]['_postInit']();}['_findSpars'+'eSet'](_0x38599d,_0x50b9fd,_0x1b6f1c){let _0x319183=0x1283+0x47*0x83+-0x1*0x36d7;const _0x267a4d=_0x38599d[0xfe0*-0x2+-0x903+0x5*0x827]['length'];for(let _0x22442b=0x1*0x17d2+-0x891+-0xf41;_0x22442b<_0x267a4d;_0x22442b+=-0x7d8*-0x1+-0x6*-0x1a5+-0x11b3){let _0xbba3e7=!(0x2*0xd5e+-0xaba*0x2+-0x547*0x1);for(let _0x4a5cb3=0x1*0x55d+0x67*0x47+0x65*-0x56;_0x4a5cb3<_0x38599d['length'];_0x4a5cb3++){const _0x4d6172=_0x38599d[_0x4a5cb3];if(_0x4d6172[_0x22442b]!==0x2*0xce+-0xfe*-0x16+0x4*-0x5dc||_0x4d6172[_0x22442b+(-0x116*-0xe+0x2042*-0x1+0x110f)]!==0x42*-0x4f+-0xaa+0x1508||_0x4d6172[_0x22442b+(0x233*0x7+0x1139+-0x209c)]!==0x5c*-0x44+-0x2413+-0x3c83*-0x1){_0xbba3e7=!(0x78d*-0x4+-0x30b*-0x1+0x1b29);break;}}_0xbba3e7?(_0x50b9fd['push'](_0x319183),_0x1b6f1c['push'](_0x22442b/(0x2*-0xd6b+0x16*0x52+0x13cd)),_0x319183++):_0x50b9fd['push'](-0x372*-0x7+-0xf65+-0x8b9);}return _0x319183;}['_initTextu'+'reBased'](){const _0x43c0f6=[],_0x340b05=[];for(let _0x1c1041=-0x8ab+0x7c9*-0x3+0x2006;_0x1c1041<this['_targets']['length'];_0x1c1041++){const _0x5bd822=this['_targets'][_0x1c1041];_0x5bd822['options']['deltaPosit'+'ions']&&(_0x43c0f6['push'](_0x5bd822['options']['deltaPosit'+'ions']),_0x340b05['push']({'target':_0x5bd822,'name':'texturePos'+'itions'})),_0x5bd822['options']['deltaNorma'+'ls']&&(_0x43c0f6['push'](_0x5bd822['options']['deltaNorma'+'ls']),_0x340b05['push']({'target':_0x5bd822,'name':'textureNor'+'mals'}));}const _0x12cacc=[],_0x2b12ea=[],_0x29bdd3=this['_findSpars'+'eSet'](_0x43c0f6,_0x12cacc,_0x2b12ea),_0x2c3b69=this['device']['maxTexture'+'Size'];let _0x1518ea=Math['ceil'](Math['sqrt'](_0x29bdd3));_0x1518ea=Math['min'](_0x1518ea,_0x2c3b69);const _0x1be293=Math['ceil'](_0x29bdd3/_0x1518ea);if(_0x1be293>_0x2c3b69)return!(-0x185*0x4+0x2101+-0x1aec);this['morphTextu'+'reWidth']=_0x1518ea,this['morphTextu'+'reHeight']=_0x1be293;let _0x25e6b6=!(-0x49*0x53+-0x1131*0x1+0x28dd),_0x5ada87=-0x29f+-0x40*0x59+0x18e2;const _0xb78e5e=qt['float2Half'];this['_textureFo'+'rmat']===Qe&&(_0x25e6b6=!(-0xf33+-0x2582+0x34b5),_0x5ada87=-0x4eb*-0x2+0x2129*-0x1+0x19*0xef);const _0x2ff983=[];for(let _0xd4f426=-0xf94+-0x11de*-0x1+0x24a*-0x1;_0xd4f426<_0x43c0f6['length'];_0xd4f426++)_0x2ff983['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x3b0273=0x451+0x1*0x1c13+-0x2064;_0x3b0273<_0x43c0f6['length'];_0x3b0273++){const _0x10f26e=_0x43c0f6[_0x3b0273],_0x33c7da=_0x2ff983[_0x3b0273],_0x2d00b3=_0x33c7da['lock']();if(_0x25e6b6)for(let _0x40ad02=0x25bd+-0x1faa+0x5*-0x137;_0x40ad02<_0x2b12ea['length'];_0x40ad02++){const _0x4c5ef4=_0x2b12ea[_0x40ad02]*(0x7a3+-0x1*-0x19ba+-0x215a),_0x55f0d3=_0x40ad02*_0x5ada87+_0x5ada87;_0x2d00b3[_0x55f0d3]=_0xb78e5e(_0x10f26e[_0x4c5ef4]),_0x2d00b3[_0x55f0d3+(-0x2622+0x11*-0xf3+0x3646)]=_0xb78e5e(_0x10f26e[_0x4c5ef4+(-0x18*-0x13a+-0xd53+0x2*-0x80e)]),_0x2d00b3[_0x55f0d3+(-0x1acc+-0x19*0x17+0x9af*0x3)]=_0xb78e5e(_0x10f26e[_0x4c5ef4+(0x72+-0x25dd+0xb*0x367)]);}else for(let _0x5159d3=-0x8b3+-0x2fa*0x7+0x1d89;_0x5159d3<_0x2b12ea['length'];_0x5159d3++){const _0x2d0ca0=_0x2b12ea[_0x5159d3]*(-0x2046+-0x11c+0x67*0x53),_0x179b8a=_0x5159d3*_0x5ada87+_0x5ada87;_0x2d00b3[_0x179b8a]=_0x10f26e[_0x2d0ca0],_0x2d00b3[_0x179b8a+(-0x239b+-0x8*0x470+-0xbda*-0x6)]=_0x10f26e[_0x2d0ca0+(-0x25*0x6a+0x20c4+0x5f*-0x2f)],_0x2d00b3[_0x179b8a+(0x2120+0x1*-0x23e2+0x2c4)]=_0x10f26e[_0x2d0ca0+(-0x1367+-0x1f9f*0x1+-0x47*-0xb8)];}_0x33c7da['unlock'](),_0x340b05[_0x3b0273]['target']['_setTextur'+'e'](_0x340b05[_0x3b0273]['name'],_0x33c7da);}const _0x12e96a=[{'semantic':xa,'components':0x1,'type':Do,'asInt':!(-0x1f6e+-0x2*-0x59+0x1ebc)}];return this['vertexBuff'+'erIds']=new hs(this['device'],new Mt(this['device'],_0x12e96a,_0x12cacc['length']),_0x12cacc['length'],{'data':new Uint32Array(_0x12cacc)}),!(-0x1286+-0x9e8*-0x2+-0x14a);}['destroy'](){var _0x3dc1c9;(_0x3dc1c9=this['vertexBuff'+'erIds'])==null||_0x3dc1c9['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x4b1ad4=-0x2b*-0xa7+-0xda*0x29+-0x6dd*-0x1;_0x4b1ad4<this['_targets']['length'];_0x4b1ad4++)this['_targets'][_0x4b1ad4]['destroy']();this['_targets']['length']=-0x36b*0x2+-0x7ae*-0x3+0x11*-0xf4;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x8*-0x50+-0x7d8+0x559),this['_morphNorm'+'als']=!(-0x7*0x14c+-0x255d+0x2e72);for(let _0x34438c=-0x66a*-0x3+0x1968+0x5a*-0x7f;_0x34438c<this['_targets']['length'];_0x34438c++){const _0x46a427=this['_targets'][_0x34438c];_0x46a427['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0xd3d+-0x158a+0x84d)),_0x46a427['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0xe*-0x1ae+0x205c+-0x12a*0x30));}}['_createTex'+'ture'](_0x162ac1,_0x22ec9e){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x22ec9e,'cubemap':!(0x85f+0x1*0x22fd+-0x2b5b),'mipmaps':!(-0x1*0x9dc+0x3*0xb51+-0x1816),'minFilter':de,'magFilter':de,'addressU':ne,'addressV':ne,'name':_0x162ac1});}}class Jc{constructor(_0x369897){c(this,'used',!(-0x291*0x3+-0x59*0x29+0x15f5)),(v['assert'](arguments['length']===0x366+0x14a+-0xb*0x6d),this['options']=_0x369897,this['_name']=_0x369897['name'],this['_defaultWe'+'ight']=_0x369897['defaultWei'+'ght']||-0x44+-0x8bb+0x8ff,this['_aabb']=_0x369897['aabb'],this['deltaPosit'+'ions']=_0x369897['deltaPosit'+'ions']);}['destroy'](){var _0x261465,_0x459b7d;(_0x261465=this['texturePos'+'itions'])==null||_0x261465['destroy'](),this['texturePos'+'itions']=null,(_0x459b7d=this['textureNor'+'mals'])==null||_0x459b7d['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Jc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x14b3*-0x1+0x293*-0xb+0x4*0xc41);}['_setTextur'+'e'](_0x2ffe0,_0x5dfe25){this[_0x2ffe0]=_0x5dfe25;}}let ri,v_=-0x1c63+0x1*0x787+0x31*0x6d;const se=-0x399*0x5+0xa6b*0x3+-0xd40,Gd=new q(),Hd=new q(),Os=new T(),Ne=new T(),_s=new T(),In=new T(),Ut=new T(),Ke=new T(),Dn=new T(),Ln=new T(),Ka=new T(),b_=new T(),wt=new T(),Nl=new T(),wr=new T();function ra(_0x5a6adb){return _0x5a6adb-Math['floor'](_0x5a6adb);}function KM(_0x1080bf){return Math['max'](Math['min'](_0x1080bf,-0x5d*-0x4b+0x10e1+-0x5*0x8d3),0x1163*-0x2+-0x14b2+0xc8*0x47);}function Wd(_0x8fb73a,_0x17069a){return _0x8fb73a-_0x17069a*Math['floor'](_0x8fb73a/_0x17069a);}function ZM(_0x3203c2){let _0x42e4c2=ra(_0x3203c2),_0x456f4a=ra((-0x21eb+-0x122*0xd+0x31a4)*_0x3203c2),_0x1050e1=ra((0x1809e+0x898e+-0x10c2b)*_0x3203c2),_0x3bfe95=ra((0x64d7d0f+-0x24019*0x627+0x111d23bf)*_0x3203c2);return _0x42e4c2-=_0x456f4a/(0xe3*-0x27+0x529+0x1e6b),_0x456f4a-=_0x1050e1/(0x10b9+-0x1fd*0x10+-0x2*-0x80b),_0x1050e1-=_0x3bfe95/(-0x4*0x480+0x18f7+-0x4*0x17e),_0x3bfe95-=_0x3bfe95/(0x1e4*-0xa+-0xe5b+0x2242),[_0x42e4c2,_0x456f4a,_0x1050e1,_0x3bfe95];}function zl(_0x573ead){let _0xff48a0=ra(_0x573ead),_0x1c5b61=ra((-0x2647+-0x23c+0x2982)*_0x573ead);return _0xff48a0-=_0x1c5b61/(0x6*0x371+0xe*0x1e2+-0x2e03),_0x1c5b61-=_0x1c5b61/(0x3e7*-0x6+0xc1f*-0x1+-0x7*-0x538),[_0xff48a0,_0x1c5b61];}class QM{constructor(_0x561ac0){this['_emitter']=_0x561ac0;}['calcSpawnP'+'osition'](_0x1905f2,_0x2cedba,_0x22edc4,_0x51076a,_0x41be9b){const _0x636b3a=this['_emitter'],_0x90964=Math['random'](),_0x2b5172=Math['random'](),_0x5c0033=Math['random'](),_0x132f18=Math['random']();if(_0x636b3a['useCpu']&&(_0x1905f2[_0x41be9b*se+(-0x103c+0x3d*-0x6a+-0x71*-0x5e)+_0x636b3a['numParticl'+'esPot']*(0x1460+-0x2*0x9f3+-0x78)*se]=_0x90964,_0x1905f2[_0x41be9b*se+(0xbf1+-0x3*-0x17a+-0x105e)+_0x636b3a['numParticl'+'esPot']*(-0x1b8b*0x1+0x1*0x112d+0xa60)*se]=_0x2b5172,_0x1905f2[_0x41be9b*se+(-0xc7d*0x2+-0x1a09+0x3305)+_0x636b3a['numParticl'+'esPot']*(0xc*0x17a+0x66c+-0x1822)*se]=_0x5c0033),Ne['x']=_0x90964-(-0x2636+0x1e1b+-0x19*-0x53+0.5),Ne['y']=_0x2b5172-(-0x2*0x1372+-0x165+-0x2849*-0x1+0.5),Ne['z']=_0x5c0033-(0x46a*0x1+-0x5*-0x211+-0xebf*0x1+0.5),_0x636b3a['emitterSha'+'pe']===Vs){const _0x2f6e8f=Math['max'](Math['abs'](Ne['x']),Math['max'](Math['abs'](Ne['y']),Math['abs'](Ne['z']))),_0x18171d=_0x2f6e8f+(0x16e9+-0xcb8+-0xa31*0x1+0.5-_0x2f6e8f)*_0x22edc4[-0x12e9+-0x1103+0x23ec],_0x3f72f2=_0x2f6e8f+(-0x18ea+0x1041*0x1+0x2e3*0x3+0.5-_0x2f6e8f)*_0x22edc4[-0xb6c+0x2e0+0xc7*0xb],_0x31f3b2=_0x2f6e8f+(0x17b4+0x2134+-0x38e8+0.5-_0x2f6e8f)*_0x22edc4[0x23c3+0x36d+0x24e*-0x11];Ne['x']=_0x18171d*(_0x2f6e8f===Math['abs'](Ne['x'])?Math['sign'](Ne['x']):(-0x7c4+0x155a+-0xd94)*Ne['x']),Ne['y']=_0x3f72f2*(_0x2f6e8f===Math['abs'](Ne['y'])?Math['sign'](Ne['y']):(-0x79*0x1+-0x300*0x1+0x21*0x1b)*Ne['y']),Ne['z']=_0x31f3b2*(_0x2f6e8f===Math['abs'](Ne['z'])?Math['sign'](Ne['z']):(0x56*-0xc+-0x29a+0x1a9*0x4)*Ne['z']),_0x636b3a['localSpace']?Os['copy'](_0x2cedba['transformP'+'oint'](Ne)):Os['copy'](_0x51076a)['add'](_0x2cedba['transformP'+'oint'](Ne));}else{Ne['normalize']();const _0x59811e=_0x636b3a['emitterRad'+'ius']===-0xf00+-0x3*-0x93d+0xf*-0xd9?-0x2*-0xad8+-0x806+-0x2*0x6d5:_0x636b3a['emitterRad'+'iusInner']/_0x636b3a['emitterRad'+'ius'],_0x3d2718=_0x132f18*(-0x20da+-0x2582*0x1+-0x465d*-0x1-_0x59811e)+_0x59811e;_0x636b3a['localSpace']?Os['copy'](Ne['mulScalar'](_0x3d2718*_0x636b3a['emitterRad'+'ius'])):Os['copy'](_0x51076a)['add'](Ne['mulScalar'](_0x3d2718*_0x636b3a['emitterRad'+'ius']));}let _0x2aacae=-N['lerp'](_0x636b3a['rate'],_0x636b3a['rate2'],_0x90964)*_0x41be9b;if(_0x636b3a['pack8']){const _0x5834bc=(Os['x']-_0x636b3a['worldBound'+'s']['center']['x'])/_0x636b3a['worldBound'+'sSize']['x']+(0x102b+0x12ad+-0x22d8+0.5),_0x583504=(Os['y']-_0x636b3a['worldBound'+'s']['center']['y'])/_0x636b3a['worldBound'+'sSize']['y']+(0x150*0xe+-0x281+-0xef*0x11+0.5),_0xb1e856=(Os['z']-_0x636b3a['worldBound'+'s']['center']['z'])/_0x636b3a['worldBound'+'sSize']['z']+(-0x5d9+-0x26f3+0xbc*0x3d+0.5);let _0x2aa2f2=N['lerp'](_0x636b3a['startAngle']*N['DEG_TO_RAD'],_0x636b3a['startAngle'+'2']*N['DEG_TO_RAD'],_0x90964);_0x2aa2f2=_0x2aa2f2%(Math['PI']*(-0x2*-0x108+0x1*-0x223f+-0x2031*-0x1))/(Math['PI']*(-0x228d*0x1+0x1*-0x20f8+0x4387*0x1));const _0x483469=zl(_0x5834bc);_0x1905f2[_0x41be9b*se]=_0x483469[0xab2+0x1446+-0x1ef8],_0x1905f2[_0x41be9b*se+(-0x713*0x4+-0x1*0x25be+0x420b)]=_0x483469[-0x29*-0xb9+-0xea+-0x992*0x3];const _0x518ec0=zl(_0x583504);_0x1905f2[_0x41be9b*se+(-0x2*0xdfd+-0x8d2*-0x4+-0x74c)]=_0x518ec0[0x32*0x6+0x1*-0x23f6+-0x1*-0x22ca],_0x1905f2[_0x41be9b*se+(0xa35+-0x2e*-0x6a+-0x1d3e)]=_0x518ec0[0x1685+-0x1448+-0x23c];const _0x1cd523=zl(_0xb1e856);_0x1905f2[_0x41be9b*se+(-0x2635+0xe3b+-0x3ff*-0x6)+_0x636b3a['numParticl'+'esPot']*se]=_0x1cd523[-0x130e+-0x1*-0xe3e+0x4d0],_0x1905f2[_0x41be9b*se+(-0xa5b+-0xda+0x7*0x19a)+_0x636b3a['numParticl'+'esPot']*se]=_0x1cd523[0x43f+-0x139d+0x5*0x313];const _0x43cd64=zl(_0x2aa2f2);_0x1905f2[_0x41be9b*se+(-0xe73*-0x1+0x2176*0x1+-0x2fe7)+_0x636b3a['numParticl'+'esPot']*se]=_0x43cd64[0xd8b+0x314*0x9+-0x293f],_0x1905f2[_0x41be9b*se+(0x1397*-0x1+0x1*0x2273+-0xed9)+_0x636b3a['numParticl'+'esPot']*se]=_0x43cd64[-0x2*-0x6f8+-0x2575*0x1+-0x1*-0x1786];const _0x438b2b=0x1305*0x2+0x1*0xa6d+-0x183b*0x2;_0x1905f2[_0x41be9b*se+(0x5b4+-0x57*0x56+0x1789)+_0x636b3a['numParticl'+'esPot']*se*(-0xad*-0x30+-0x1*-0x553+0x25c1*-0x1)]=_0x438b2b;const _0x396304=Math['max'](_0x636b3a['lifetime'],(_0x636b3a['numParticl'+'es']-(0x21cb+0xcd3+-0x2e9d*0x1))*Math['max'](_0x636b3a['rate'],_0x636b3a['rate2'])),_0x5b1dc3=_0x636b3a['lifetime']+(0x1983*0x1+-0xaed+-0xe95);_0x2aacae=(_0x2aacae+_0x396304)/(_0x396304+_0x5b1dc3);const _0x46db61=ZM(_0x2aacae);_0x1905f2[_0x41be9b*se+(-0x1c8e+-0x1f71+0x1*0x3bff)+_0x636b3a['numParticl'+'esPot']*se*(0x695+-0x2419*-0x1+-0x2aab)]=_0x46db61[-0x1349*0x2+-0x13ba+-0x11f*-0x34],_0x1905f2[_0x41be9b*se+(-0xdd9*0x1+-0x1f16+0xb3c*0x4)+_0x636b3a['numParticl'+'esPot']*se*(-0x444+0x544+-0xfd)]=_0x46db61[-0x72e*-0x1+0x9*0xee+-0xf8b],_0x1905f2[_0x41be9b*se+(0x329*-0x1+0x4d*-0x4f+0x1aee)+_0x636b3a['numParticl'+'esPot']*se*(-0x78*-0x1d+0x67*0x5f+-0x33ce)]=_0x46db61[0xdd0+-0x1051*0x1+0x283],_0x1905f2[_0x41be9b*se+(0x447+-0x4*-0x62f+0x10*-0x1d0)+_0x636b3a['numParticl'+'esPot']*se*(-0x16b4+-0x8cd+-0x1f84*-0x1)]=_0x46db61[0x265*0x1+-0x5*-0x6b3+-0x5*0x72d];}else _0x1905f2[_0x41be9b*se]=Os['x'],_0x1905f2[_0x41be9b*se+(-0xf*0x1c1+-0xe7e+0xd9a*0x3)]=Os['y'],_0x1905f2[_0x41be9b*se+(-0xc4f*0x2+-0x2*0x9a3+0xea2*0x3)]=Os['z'],_0x1905f2[_0x41be9b*se+(-0xcb8+-0x5*0x734+0x30bf)]=N['lerp'](_0x636b3a['startAngle']*N['DEG_TO_RAD'],_0x636b3a['startAngle'+'2']*N['DEG_TO_RAD'],_0x90964),_0x1905f2[_0x41be9b*se+(-0x526+0x834+-0x30b)+_0x636b3a['numParticl'+'esPot']*se]=_0x2aacae;}['update'](_0x265ad7,_0x51b38e,_0x33e697,_0x3b17ad,_0x14f379,_0x2b0e70,_0x48e8ed,_0x2fa34f){let _0x2cec05,_0x5799b8,_0x514c2f;const _0x348d57=this['_emitter'];if(_0x348d57['meshInstan'+'ce']['node']){const _0x1c794b=_0x348d57['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x1c5fb1=0x5bf+0x16*-0x1e+-0x32b;_0x1c5fb1<-0x1*-0x613+0x1*0x2d2+-0x8d9;_0x1c5fb1++)Gd['data'][_0x1c5fb1]=_0x1c794b['data'][_0x1c5fb1];Hd['copy'](Gd),Hd['invert'](),ri=_0x348d57['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](ri['x'],ri['y']),ri['z']);}_0x2b0e70=_0x348d57['meshInstan'+'ce']['node']===null||_0x348d57['localSpace']?T['ZERO']:_0x348d57['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x49c1ba=_0x348d57['camera']?_0x348d57['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x2dbfd4=_0x348d57['useMesh']?-0xc0+0x142+-0x71:-0x4*0x4a2+-0xe6f+0x2106;let _0x177bd6,_0x350454,_0xa758bb,_0x17f105,_0x31a6ea,_0x33c8e1,_0x3032b1,_0x43510b,_0x16951d;const _0x4bc8ef=_0x348d57['precision']-(0x11*-0x179+0xbb1*-0x2+0x306c);for(let _0x1967b2=-0x251*0x8+-0x2dd*0x1+0x1*0x1565;_0x1967b2<_0x348d57['numParticl'+'es'];_0x1967b2++){const _0x52ea98=Math['floor'](_0x348d57['vbCPU'][_0x1967b2*_0x348d57['numParticl'+'eVerts']*(_0x348d57['useMesh']?-0x1*-0x1e87+0x1395+-0x3216:0x57*-0x2+0x1*-0x2408+0x61f*0x6)+(0xa3d*0x3+0x5*0x1ca+-0x27a6)]),_0x6cd42c=_0x33e697[_0x52ea98*se+(-0xd19*0x1+0xbfc+-0x1*-0x11d)+_0x348d57['numParticl'+'esPot']*(-0x1633*-0x1+-0x1f34+-0x1*-0x903)*se];_s['x']=_0x6cd42c,_s['y']=_0x33e697[_0x52ea98*se+(0x3*0x42e+-0x975*0x1+0xc5*-0x4)+_0x348d57['numParticl'+'esPot']*(-0xced*0x3+0x11a7+0x1522)*se],_s['z']=_0x33e697[_0x52ea98*se+(-0x1*-0x1043+0xfe8+0x1*-0x2029)+_0x348d57['numParticl'+'esPot']*(0xa*-0x22c+-0x8a9*0x4+0x385e)*se];const _0x48bcda=_0x348d57['rate']+(_0x348d57['rate2']-_0x348d57['rate'])*_0x6cd42c,_0x3e813d=_0x348d57['lifetime'];let _0x304d12=_0x33e697[_0x52ea98*se+(-0x1b59+0xb*-0x61+0x481*0x7)+_0x348d57['numParticl'+'esPot']*se]+_0x48e8ed;const _0x3dcb3d=KM(_0x304d12/_0x3e813d);let _0x28f483=-0x17da+0x1258+0x3*0x1d6,_0x11830c=0x1*-0x373+-0x116c+0x14df;const _0x33a81d=0xd*0x1+-0x8d*0x23+-0x6b*-0x2e;(_0x304d12-_0x48e8ed<=-0x1923+-0x113f+0x1f*0x15e||_0x304d12>=_0x3e813d)&&this['calcSpawnP'+'osition'](_0x33e697,_0x3b17ad,_0x14f379,_0x2b0e70,_0x52ea98);let _0x28cb7b=_0x304d12>0x1638+-0x1d*-0x5+-0x16c9&&_0x304d12<_0x3e813d;_0x28cb7b&&(_0x514c2f=_0x3dcb3d*_0x4bc8ef,_0x177bd6=Math['floor'](_0x514c2f),_0x350454=Math['ceil'](_0x514c2f),_0x514c2f%=0x1*-0x1886+0x1f*0x73+0xa9a,_0x2cec05=_0x348d57['qRotSpeed'][_0x177bd6],_0x5799b8=_0x348d57['qRotSpeed'][_0x350454],_0xa758bb=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qRotSpeed2'][_0x177bd6],_0x5799b8=_0x348d57['qRotSpeed2'][_0x350454],_0x17f105=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qScale'][_0x177bd6],_0x5799b8=_0x348d57['qScale'][_0x350454],_0x28f483=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qScale2'][_0x177bd6],_0x5799b8=_0x348d57['qScale2'][_0x350454],_0x31a6ea=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qAlpha'][_0x177bd6],_0x5799b8=_0x348d57['qAlpha'][_0x350454],_0x33c8e1=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qAlpha2'][_0x177bd6],_0x5799b8=_0x348d57['qAlpha2'][_0x350454],_0x3032b1=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qRadialSpe'+'ed'][_0x177bd6],_0x5799b8=_0x348d57['qRadialSpe'+'ed'][_0x350454],_0x43510b=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qRadialSpe'+'ed2'][_0x177bd6],_0x5799b8=_0x348d57['qRadialSpe'+'ed2'][_0x350454],_0x16951d=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x43510b+=(_0x16951d-_0x43510b)*(_0x6cd42c*(-0x48c+0x26f6+-0xd*0x29e)%(0x1dc9+0x1*0x35d+-0x6a1*0x5)),In['x']=_0x33e697[_0x52ea98*se],In['y']=_0x33e697[_0x52ea98*se+(0x1d79+-0x12cd+-0xaab)],In['z']=_0x33e697[_0x52ea98*se+(-0xd65+-0x23eb+0x1*0x3152)],_0x348d57['localSpace']?Ka['copy'](In):Ka['copy'](In)['sub'](_0x2b0e70),Ka['normalize']()['mulScalar'](_0x43510b),_0x177bd6*=-0x222f*0x1+0xa*-0xc+0x5c7*0x6,_0x350454*=0x61+0x1eb7*0x1+-0x1f15,_0x2cec05=_0x348d57['qLocalVelo'+'city'][_0x177bd6],_0x5799b8=_0x348d57['qLocalVelo'+'city'][_0x350454],Ke['x']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qLocalVelo'+'city'][_0x177bd6+(-0x1*0xa79+0x9a5*0x1+0xd5*0x1)],_0x5799b8=_0x348d57['qLocalVelo'+'city'][_0x350454+(-0xe7*-0xe+0x9d5+-0x1676)],Ke['y']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qLocalVelo'+'city'][_0x177bd6+(0x1*-0x1f4d+-0x51*-0xb+0x1bd4)],_0x5799b8=_0x348d57['qLocalVelo'+'city'][_0x350454+(-0x1603+-0x1c8b+0x3290)],Ke['z']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qLocalVelo'+'city2'][_0x177bd6],_0x5799b8=_0x348d57['qLocalVelo'+'city2'][_0x350454],Ln['x']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qLocalVelo'+'city2'][_0x177bd6+(0x413*0x7+0x183a+-0x34be)],_0x5799b8=_0x348d57['qLocalVelo'+'city2'][_0x350454+(-0x430+0x26c+0x1c5)],Ln['y']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qLocalVelo'+'city2'][_0x177bd6+(0x116f*-0x1+0x25c2+0x2e7*-0x7)],_0x5799b8=_0x348d57['qLocalVelo'+'city2'][_0x350454+(-0xd*-0x2ab+-0x2021+-0x28c)],Ln['z']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qVelocity'][_0x177bd6],_0x5799b8=_0x348d57['qVelocity'][_0x350454],Ut['x']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qVelocity'][_0x177bd6+(-0x2*-0xab1+-0x201a+0xab9)],_0x5799b8=_0x348d57['qVelocity'][_0x350454+(0xdfc+0xe5e+-0x3b*0x7b)],Ut['y']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qVelocity'][_0x177bd6+(0x1d7b+0x1f67+-0xf38*0x4)],_0x5799b8=_0x348d57['qVelocity'][_0x350454+(-0x647+-0x1c3f+0x2288)],Ut['z']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qVelocity2'][_0x177bd6],_0x5799b8=_0x348d57['qVelocity2'][_0x350454],Dn['x']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qVelocity2'][_0x177bd6+(0xeee+0x1a*0x16a+-0x3*0x113b)],_0x5799b8=_0x348d57['qVelocity2'][_0x350454+(0x1*-0x1e4a+-0x1c5*-0x2+0x2f9*0x9)],Dn['y']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,_0x2cec05=_0x348d57['qVelocity2'][_0x177bd6+(-0x2633*0x1+0x1*0x763+0x3*0xa46)],_0x5799b8=_0x348d57['qVelocity2'][_0x350454+(-0x1072+0x114d+0x1f*-0x7)],Dn['z']=_0x2cec05+(_0x5799b8-_0x2cec05)*_0x514c2f,Ke['x']+=(Ln['x']-Ke['x'])*_s['x'],Ke['y']+=(Ln['y']-Ke['y'])*_s['y'],Ke['z']+=(Ln['z']-Ke['z'])*_s['z'],_0x348d57['initialVel'+'ocity']>0xc2*0x5+-0xc4b+0x881&&(_0x348d57['emitterSha'+'pe']===qb?(Ne['copy'](_s)['mulScalar'](0x1a9d+-0x1136+-0x41*0x25)['sub'](T['ONE'])['normalize'](),Ke['add'](Ne['mulScalar'](_0x348d57['initialVel'+'ocity']))):Ke['add'](T['FORWARD']['mulScalar'](_0x348d57['initialVel'+'ocity']))),Ut['x']+=(Dn['x']-Ut['x'])*_s['x'],Ut['y']+=(Dn['y']-Ut['y'])*_s['y'],Ut['z']+=(Dn['z']-Ut['z'])*_s['z'],_0xa758bb+=(_0x17f105-_0xa758bb)*_s['y'],_0x28f483=(_0x28f483+(_0x31a6ea-_0x28f483)*(_0x6cd42c*(-0x2c82+-0x2*0x589+0x5ea4)%(-0xd55+-0x216c+-0x532*-0x9)))*v_,_0x11830c=(_0x3032b1-_0x33c8e1)*(_0x6cd42c*(0x355*-0x4+0x29c*0xd+0x10b*-0x10)%(0x1f80+0xed*0x1b+0x2*-0x1c3f)),_0x348d57['meshInstan'+'ce']['node']&&(_0x348d57['localSpace']?(Ke['x']/=ri['x'],Ke['y']/=ri['y'],Ke['z']/=ri['z']):Gd['transformP'+'oint'](Ke,Ke)),_0x348d57['localSpace']?(Hd['transformP'+'oint'](Ut,Ut),Ke['add'](Ut)['add'](Ka)):(Ke['add'](Ut['mul'](ri)),Ke['add'](Ka['mul'](ri))),Nl['copy'](Ke),b_['copy'](In)['add'](Ke['mulScalar'](_0x48e8ed)),wt['copy'](b_),_0x33e697[_0x52ea98*se]=wt['x'],_0x33e697[_0x52ea98*se+(-0x57*0x15+0xc3+0x661)]=wt['y'],_0x33e697[_0x52ea98*se+(-0x1a32+0x1ffa+-0x5c6)]=wt['z'],_0x33e697[_0x52ea98*se+(0x552+0x1*-0x22b8+-0x1*-0x1d69)]+=_0xa758bb*_0x48e8ed,_0x348d57['wrap']&&_0x348d57['wrapBounds']&&(_0x348d57['localSpace']||wt['sub'](_0x2b0e70),wt['x']=Wd(wt['x'],_0x348d57['wrapBounds']['x'])-_0x348d57['wrapBounds']['x']*(0x9d5*0x1+0x121b+-0x1bf0+0.5),wt['y']=Wd(wt['y'],_0x348d57['wrapBounds']['y'])-_0x348d57['wrapBounds']['y']*(0x262d+0xc9+-0x26f6+0.5),wt['z']=Wd(wt['z'],_0x348d57['wrapBounds']['z'])-_0x348d57['wrapBounds']['z']*(-0x1498+-0x533*-0x1+-0xf65*-0x1+0.5),_0x348d57['localSpace']||wt['add'](_0x2b0e70)),_0x348d57['sort']>-0x537+0xf62+-0xa2b&&(_0x348d57['sort']===0x6aa+-0x26b2+0x2009?(wr['copy'](wt)['sub'](_0x49c1ba),_0x348d57['particleDi'+'stance'][_0x52ea98]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x348d57['sort']===0x209c*0x1+0x191+-0x222b*0x1?_0x348d57['particleDi'+'stance'][_0x52ea98]=_0x304d12:_0x348d57['sort']===0x1065*0x2+-0x6fe+-0x19c9&&(_0x348d57['particleDi'+'stance'][_0x52ea98]=-_0x304d12))),_0x2fa34f?_0x304d12<0x1e0e+0x15d*-0x1+-0x1cb1&&(_0x33e697[_0x52ea98*se+(0x281*0x2+-0x254+-0x2ab)+_0x348d57['numParticl'+'esPot']*(0x1*0xc77+-0xe9c+0x227)*se]=-(-0x247a*-0x1+-0x112f*-0x2+-0x46d7)):(_0x304d12>=_0x3e813d&&(_0x304d12-=Math['max'](_0x3e813d,(_0x348d57['numParticl'+'es']-(-0x4*-0x68e+0x16b7+-0x30ee*0x1))*_0x48bcda),_0x33e697[_0x52ea98*se+(0x733+0x1215*0x1+-0x1*0x1945)+_0x348d57['numParticl'+'esPot']*(0xac5*0x1+-0x1b4d*0x1+0x108a)*se]=_0x348d57['loop']?-0xb6f+0x3*-0x8c2+0x25b6:-(-0x38*0x67+-0x157a*-0x1+0x10f)),_0x304d12<0x1*0x12ef+0x84b+-0x11*0x19a&&_0x348d57['loop']&&(_0x33e697[_0x52ea98*se+(-0x2317+-0x6*-0x16b+0x1a98)+_0x348d57['numParticl'+'esPot']*(-0xa8*-0x7+0x26d+-0x1*0x703)*se]=-0x363+-0xb69*-0x2+-0x136e)),_0x33e697[_0x52ea98*se+(0x405*-0x4+-0x154+0x116b)+_0x348d57['numParticl'+'esPot']*(0x2*0x1191+0x1fca+-0x6*0xb27)*se]<-0x98f*-0x1+0x1*0xd8d+-0x171c&&(_0x28cb7b=!(0xb26+-0xe0c+0x2e7*0x1)),_0x33e697[_0x52ea98*se+(-0x7c0*0x4+-0x233*-0x11+-0x660)+_0x348d57['numParticl'+'esPot']*se]=_0x304d12;for(let _0x182125=-0xe*-0x13c+0x3*0x8ba+-0x1*0x2b76;_0x182125<_0x348d57['numParticl'+'eVerts'];_0x182125++){const _0x447baa=(_0x1967b2*_0x348d57['numParticl'+'eVerts']+_0x182125)*(_0x348d57['useMesh']?0x1a7b*0x1+0x2*0x669+-0x5*0x7db:-0x5c*0x2b+-0x1*0x493+0x140b);let _0x5102a6=_0x348d57['vbCPU'][_0x447baa],_0x347427=_0x348d57['vbCPU'][_0x447baa+(0xf*-0x6f+-0x101e*0x2+0x26be)],_0x3c8af9=_0x348d57['vbCPU'][_0x447baa+(0x1760+0x22e8+0x3a46*-0x1)];_0x28cb7b||(_0x5102a6=_0x347427=_0x3c8af9=-0x2*0xe21+0x7f*-0x1f+0x2ba3*0x1);const _0x2f5b55=_0x1967b2*_0x348d57['numParticl'+'eVerts']*_0x2dbfd4+_0x182125*_0x2dbfd4;_0x265ad7[_0x2f5b55]=wt['x'],_0x265ad7[_0x2f5b55+(0x153*-0x3+0x5d7*-0x2+-0x1f5*-0x8)]=wt['y'],_0x265ad7[_0x2f5b55+(-0x1b99+-0xb9c+0x2737)]=wt['z'],_0x265ad7[_0x2f5b55+(-0xd5f+0x176a+-0xa08)]=_0x3dcb3d,_0x265ad7[_0x2f5b55+(0x16f5+0x4*0x6c5+-0x3205)]=_0x348d57['alignToMot'+'ion']?_0x33a81d:_0x33e697[_0x52ea98*se+(0x420+-0x5*-0x38e+0x1*-0x15e3)],_0x265ad7[_0x2f5b55+(0x58c+0xafa+-0x1081*0x1)]=_0x28f483,_0x265ad7[_0x2f5b55+(0x1000+-0x3*0xc03+-0x41*-0x4f)]=_0x11830c,_0x265ad7[_0x2f5b55+(0x1bf*0xf+-0xa*0x319+0x2*0x268)]=Nl['x'],_0x265ad7[_0x2f5b55+(-0x148b+0x1*-0xadf+-0x46*-0x73)]=_0x5102a6,_0x265ad7[_0x2f5b55+(-0x7d2*0x1+-0x1*-0x769+0x72)]=_0x347427,_0x265ad7[_0x2f5b55+(-0x107b+0x1*-0x1ce5+0x2d6a)]=_0x3c8af9,_0x265ad7[_0x2f5b55+(0x408+0xf3e+-0x133b)]=Nl['y'],_0x265ad7[_0x2f5b55+(-0x3*0x789+0x2*-0x198+0x19d7)]=_0x52ea98,_0x265ad7[_0x2f5b55+(-0xcad+0xb26+0x194)]=Nl['z'],_0x265ad7[_0x2f5b55+(-0x1696+-0xc41*-0x2+-0x1de)]=_0x348d57['vbCPU'][_0x447baa+(0x1c48+0x1cd9+0x130a*-0x3)],_0x348d57['useMesh']&&(_0x265ad7[_0x2f5b55+(-0x3*0x24d+-0x270e+-0xbe*-0x3e)]=_0x348d57['vbCPU'][_0x447baa+(0x1e13*-0x1+0xb5c+0x12bb)],_0x265ad7[_0x2f5b55+(0x8e*-0x9+-0x1*-0xb4e+0x40*-0x19)]=_0x348d57['vbCPU'][_0x447baa+(-0xa3*0xf+0xe9e+0x13*-0x44)]);}}if(_0x348d57['sort']>Lu&&_0x348d57['camera']){const _0x272b12=_0x348d57['useMesh']?-0x1f7*0x7+0x1947+-0xb80:0x15a1+-0xb*-0x10d+0x182*-0x16,_0x140526=_0x348d57['particleDi'+'stance'];for(let _0x564672=-0x102b+0x108e+-0x63;_0x564672<_0x348d57['numParticl'+'es'];_0x564672++)_0x51b38e[_0x564672][-0x1ec*-0x2+0x20c+0x4*-0x179]=_0x564672,_0x51b38e[_0x564672][0x3*0x131+0x1862+-0x1bf4]=_0x140526[Math['floor'](_0x348d57['vbCPU'][_0x564672*_0x348d57['numParticl'+'eVerts']*_0x272b12+(-0x1*-0x1d0d+-0x1*-0x208c+0x1ecb*-0x2)])];_0x348d57['vbOld']['set'](_0x348d57['vbCPU']),_0x51b38e['sort']((_0x17f5fe,_0x30d911)=>_0x17f5fe[-0xed7+0x1*0x118e+0x2*-0x15b]-_0x30d911[-0xf8+0x1819+-0x1720]);for(let _0x1b6e15=-0x120a+0x9fb*0x3+-0xbe7;_0x1b6e15<_0x348d57['numParticl'+'es'];_0x1b6e15++){const _0x1869df=_0x51b38e[_0x1b6e15][0x25e8+-0x21b4*0x1+-0x4*0x10d]*_0x348d57['numParticl'+'eVerts']*_0x272b12,_0x497b62=_0x1b6e15*_0x348d57['numParticl'+'eVerts']*_0x272b12;for(let _0x34ce55=-0x16*-0x11+-0x14d5+0x135f;_0x34ce55<_0x348d57['numParticl'+'eVerts']*_0x272b12;_0x34ce55++)_0x348d57['vbCPU'][_0x497b62+_0x34ce55]=_0x348d57['vbOld'][_0x1869df+_0x34ce55];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x5c2b5d,_0x25dee0){this['_emitter']=_0x5c2b5d,this['frameRando'+'mUniform']=new Float32Array(-0x6a*0xa+0x1*-0x1693+0x1aba),this['emitterPos'+'Uniform']=new Float32Array(0x10bf*-0x1+-0x65*0x3+0x11f1),this['emitterSca'+'leUniform']=new Float32Array([0x1*-0xf8f+0x1361+-0x3d1,0x22*0x9c+-0x184d+0x396,-0x1a04+0x8f1+0x88a*0x2]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x6fe+0x5c*0x3e+0xf47*-0x1),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x190a+0x1789+-0x184*-0x1),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x1*-0x1f7b+0x3*-0x8cc+0x19*-0x34),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x1ef9+0x767+0x1795),this['constantPa'+'rticleTexI'+'N']=_0x25dee0['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x25dee0['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x25dee0['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x25dee0['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x25dee0['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x25dee0['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x25dee0['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x25dee0['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x25dee0['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x25dee0['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x25dee0['scope']['resolve']('delta'),this['constantRa'+'te']=_0x25dee0['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x25dee0['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x25dee0['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x25dee0['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x25dee0['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x25dee0['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x25dee0['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x25dee0['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x25dee0['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x25dee0['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x25dee0['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x25dee0['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x25dee0['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x25dee0['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x25dee0['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x25dee0['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x25dee0['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x25dee0['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x25dee0['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x25dee0['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x25dee0['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x25dee0['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x25dee0['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x25dee0['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x25dee0['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x25dee0['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0xf*-0x185+0x1468+-0x2b33*0x1]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0xcb0+-0x2378*-0x1+-0x3027]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x1f4f+0xa6a+0x29b7*-0x1]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x1416+0x25e1+-0x11cb]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x241*0xf+0x1cff+0x4d1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0xc68+-0x31*0x7+-0xb0f]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0xd37*-0x2+0x11dd+-0x2c4b]=Math['random'](),this['frameRando'+'mUniform'][-0x1ed*-0x1+-0x6b*-0xb+-0x1*0x685]=Math['random'](),this['frameRando'+'mUniform'][-0x24b*0xe+-0x2f+0x204b]=Math['random']();}['update'](_0x12348f,_0x2e1833,_0x48cff5,_0x416acf,_0x1f058d){G['pushGpuMar'+'ker'](_0x12348f,'ParticleGP'+'U');const _0x5ed158=this['_emitter'];_0x12348f['setBlendSt'+'ate'](_t['NOBLEND']),_0x12348f['setDepthSt'+'ate'](ls['NODEPTH']),_0x12348f['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0xb28+0x2*-0x63a+0x14d)/_0x5ed158['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x5ed158['precision']),this['constantNu'+'mParticles']['setValue'](_0x5ed158['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x5ed158['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x5ed158['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x5ed158['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x5ed158['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x5ed158['internalTe'+'x3']);const _0x136b03=_0x5ed158['meshInstan'+'ce']['node'],_0x1207aa=_0x136b03===null?T['ONE']:_0x136b03['localScale'];if(_0x5ed158['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0xb*0x24f+-0x1*-0x1652+0x313]=_0x5ed158['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x287+0x5*0x13a+-0x8a8]=_0x5ed158['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x2*0x183+0x1314+-0x1618]=_0x5ed158['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x21b8+0x33e*-0x4+-0x1758*-0x2]=_0x5ed158['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x1*-0x1e8b+0x5bb+0x3*-0xc17]=_0x5ed158['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0xe5a+0x64*0x51+-0x1148]=_0x5ed158['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x480778=_0x5ed158['maxVel']*Math['max'](Math['max'](_0x1207aa['x'],_0x1207aa['y']),_0x1207aa['z']);_0x480778=Math['max'](_0x480778,-0x6*-0x27f+0x20ed+-0x2fe6),this['constantMa'+'xVel']['setValue'](_0x480778);}const _0x497a9b=_0x136b03===null||_0x5ed158['localSpace']?T['ZERO']:_0x136b03['getPositio'+'n'](),_0x420f72=_0x136b03===null?q['IDENTITY']:_0x136b03['getWorldTr'+'ansform']();_0x5ed158['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x2e1833),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x48cff5)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x5ed158['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x5ed158['emitterRad'+'ius']===0x1e61+0x21c*-0x7+-0x23b*0x7?0x61c+-0x3b9*-0x4+-0x1500:_0x5ed158['emitterRad'+'iusInner']/_0x5ed158['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x5ed158['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x420f72),A_['invertMat4'](_0x420f72),this['emitterPos'+'Uniform'][-0x2*-0x115b+0x1*0x914+-0x26*0x127]=_0x497a9b['x'],this['emitterPos'+'Uniform'][-0xda5+-0x235a+0x3100]=_0x497a9b['y'],this['emitterPos'+'Uniform'][0x137d+-0x101e+-0x35d]=_0x497a9b['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x416acf),this['constantRa'+'te']['setValue'](_0x5ed158['rate']),this['constantRa'+'teDiv']['setValue'](_0x5ed158['rate2']-_0x5ed158['rate']),this['constantSt'+'artAngle']['setValue'](_0x5ed158['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x5ed158['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x5ed158['seed']),this['constantLi'+'fetime']['setValue'](_0x5ed158['lifetime']),this['emitterSca'+'leUniform'][-0x64c*0x4+0xe9*-0x1d+0x3395]=_0x1207aa['x'],this['emitterSca'+'leUniform'][-0x1d6f+0x19fb+-0x1*-0x375]=_0x1207aa['y'],this['emitterSca'+'leUniform'][-0x2f*-0x32+-0x1d0f+0x13e3]=_0x1207aa['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x5ed158['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x5ed158['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x5ed158['rotSpeedUM'+'ax'][-0x896+-0x416+-0x4*-0x32b]);let _0x822096=_0x5ed158['swapTex']?_0x5ed158['particleTe'+'xOUT']:_0x5ed158['particleTe'+'xIN'];_0x822096=_0x5ed158['beenReset']?_0x5ed158['particleTe'+'xStart']:_0x822096;const _0x4b155b=_0x5ed158['swapTex']?_0x5ed158['particleTe'+'xIN']:_0x5ed158['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x822096),un(_0x12348f,_0x5ed158['swapTex']?_0x5ed158['rtParticle'+'TexIN']:_0x5ed158['rtParticle'+'TexOUT'],_0x1f058d?_0x5ed158['shaderPart'+'icleUpdate'+'OnStop']:_0x5ed158['loop']?_0x5ed158['shaderPart'+'icleUpdate'+'Respawn']:_0x5ed158['shaderPart'+'icleUpdate'+'NoRespawn']),_0x5ed158['material']['setParamet'+'er']('particleTe'+'xOUT',_0x822096),_0x5ed158['material']['setParamet'+'er']('particleTe'+'xIN',_0x4b155b),_0x5ed158['beenReset']=!(-0xf0c+-0xc19*-0x1+0x2f4),_0x5ed158['swapTex']=!_0x5ed158['swapTex'],_0x5ed158['prevWorldB'+'oundsSize']['copy'](_0x5ed158['worldBound'+'sSize']),_0x5ed158['prevWorldB'+'oundsCente'+'r']['copy'](_0x5ed158['worldBound'+'s']['center']),_0x5ed158['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x12348f);}}class e1 extends Dt{['generateKe'+'y'](_0x2dc637){let _0x5bbc69='particle_'+Dt['definesHas'+'h'](_0x2dc637['defines'])+'_';for(const _0x33320e in _0x2dc637)_0x2dc637['hasOwnProp'+'erty'](_0x33320e)&&(_0x5bbc69+=_0x2dc637[_0x33320e]);return _0x5bbc69;}['_animTex'](_0x2e466e){let _0x4940ee='';return _0x4940ee+=_0x2e466e['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x4940ee+=X['particleAn'+'imTexVS'],_0x4940ee;}['createShad'+'erDefiniti'+'on'](_0x30c905,_0x1817a2){const _0x165e9d='#define\x20PA'+'RTICLE_'+(_0x1817a2['useCpu']?'CPU':'GPU')+'\x0a';let _0x629623='#define\x20PA'+'RTICLE\x0a'+_0x165e9d,_0x1ef6ed='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x165e9d;_0x1817a2['mesh']&&(_0x1ef6ed+='#define\x20US'+'E_MESH\x0a'),_0x1817a2['localSpace']&&(_0x1ef6ed+='#define\x20LO'+'CAL_SPACE\x0a'),_0x1817a2['screenSpac'+'e']&&(_0x1ef6ed+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x1817a2['animTex']&&(_0x1ef6ed+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x1817a2['animTex']&&(_0x1ef6ed+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x1817a2['animTex']&&(_0x1ef6ed+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x1817a2['normal']===-0x59*0x1d+0x2274+0x237*-0xb&&(_0x1ef6ed+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x1817a2['normal']===-0x1*0x212f+0x198d+-0x7a3*-0x1&&(_0x1ef6ed+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x1817a2['soft']&&(_0x1ef6ed+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x309bb2=_0x1817a2['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x1817a2['useCpu']?(_0x1817a2['soft']>0xee6+-0x1*-0x9bf+-0x18a5&&(_0x1ef6ed+=X['screenDept'+'hPS']),_0x1ef6ed+=X['particle_c'+'puVS'],_0x1817a2['localSpace']&&(_0x1ef6ed+=X['particle_l'+'ocalShiftV'+'S']),_0x1817a2['animTex']&&(_0x1ef6ed+=this['_animTex'](_0x1817a2)),_0x1817a2['alignToMot'+'ion']&&(_0x1ef6ed+=X['particle_p'+'ointAlongV'+'S']),_0x1ef6ed+=_0x1817a2['mesh']?X['particle_m'+'eshVS']:_0x309bb2,_0x1817a2['normal']===-0x42e+-0x575*0x3+0x148e&&(_0x1ef6ed+=X['particle_n'+'ormalVS']),_0x1817a2['normal']===-0xf55+0x1*-0x247b+0x33d2&&(_0x1ef6ed+=X['particle_T'+'BNVS']),_0x1817a2['stretch']>-0x3a2*-0x3+0x1e5f+0x1*-0x2945&&(_0x1ef6ed+=X['particle_s'+'tretchVS']),_0x1ef6ed+=X['particle_c'+'pu_endVS'],_0x1817a2['soft']>-0x154*-0xa+-0x1581*0x1+0x839&&(_0x1ef6ed+=X['particle_s'+'oftVS'])):(_0x1ef6ed+=X['particle_i'+'nitVS'],_0x1ef6ed+=_0x1817a2['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x1817a2['soft']>-0x1af2+-0x333+0x1e25*0x1&&(_0x1ef6ed+=X['screenDept'+'hPS']),_0x1ef6ed+=X['particleVS'],_0x1817a2['localSpace']&&(_0x1ef6ed+=X['particle_l'+'ocalShiftV'+'S']),_0x1817a2['animTex']&&(_0x1ef6ed+=this['_animTex'](_0x1817a2)),_0x1817a2['wrap']&&(_0x1ef6ed+=X['particle_w'+'rapVS']),_0x1817a2['alignToMot'+'ion']&&(_0x1ef6ed+=X['particle_p'+'ointAlongV'+'S']),_0x1ef6ed+=_0x1817a2['mesh']?X['particle_m'+'eshVS']:_0x309bb2,_0x1817a2['normal']===0x25bb+0x21fe+-0x47b8&&(_0x1ef6ed+=X['particle_n'+'ormalVS']),_0x1817a2['normal']===-0xcb3+0x2c*-0x8d+0x24f1&&(_0x1ef6ed+=X['particle_T'+'BNVS']),_0x1817a2['stretch']>-0x117b+0xc1d+-0xe5*-0x6&&(_0x1ef6ed+=X['particle_s'+'tretchVS']),_0x1ef6ed+=X['particle_e'+'ndVS'],_0x1817a2['soft']>0x7b*0x21+0xd15+-0x1cf0&&(_0x1ef6ed+=X['particle_s'+'oftVS'])),_0x1ef6ed+='}\x0a',_0x1817a2['normal']>0x1e1d*0x1+-0x1ebf+-0x9*-0x12&&(_0x1817a2['normal']===-0x908+-0xb5*-0x5+0x580?_0x629623+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x1817a2['normal']===0xca0+0x26ec+-0x338a&&(_0x629623+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x629623+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x1817a2['soft']&&(_0x629623+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x629623+=X['decodePS'],_0x629623+='#include\x20\x22'+'gammaPS\x22\x0a',_0x629623+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x629623+='#include\x20\x22'+'fogPS\x22\x0a',_0x1817a2['normal']===-0x2036+-0xd1*-0x1f+0x6e9&&(_0x629623+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x1817a2['soft']>0x11cb+0x18dd+-0x888*0x5&&(_0x629623+=X['screenDept'+'hPS']),_0x629623+=X['particlePS'],_0x1817a2['soft']>-0x2fb*0x7+-0x1d8f+-0x326c*-0x1&&(_0x629623+=X['particle_s'+'oftPS']),_0x1817a2['normal']===0x361+0x1c9a+-0x1ffa&&(_0x629623+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x1817a2['normal']===0x6e*-0x4a+-0xde6+-0xea*-0x32&&(_0x629623+=X['particle_n'+'ormalMapPS']),_0x1817a2['normal']>0x39*0x99+0x26b4*0x1+0x48c5*-0x1&&(_0x629623+=_0x1817a2['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x1817a2['normal']>0x33*-0x94+0x2082+0x306*-0x1&&(_0x629623+=X['particle_l'+'ightingPS']),_0x1817a2['blend']===Ot?_0x629623+=X['particle_b'+'lendNormal'+'PS']:_0x1817a2['blend']===xp?_0x629623+=X['particle_b'+'lendAddPS']:_0x1817a2['blend']===Sp&&(_0x629623+=X['particle_b'+'lendMultip'+'lyPS']),_0x629623+=X['particle_e'+'ndPS'];const _0x51834d=new Map(Object['entries']({...X,..._0x1817a2['chunks']}));return Pt['createDefi'+'nition'](_0x30c905,{'name':'ParticleSh'+'ader','vertexCode':_0x1ef6ed,'fragmentCode':_0x629623,'fragmentDefines':_0x1817a2['defines'],'fragmentIncludes':_0x51834d,'vertexDefines':_0x1817a2['defines']});}}const t1=new e1();class s1 extends xn{constructor(_0x5cffe6){super(),c(this,'emitter',null),(this['emitter']=_0x5cffe6,v['assert'](_0x5cffe6));}['getShaderV'+'ariant'](_0x4e224e){const {device:_0x414147,scene:_0x3f96cb,cameraShaderParams:_0xf86944}=_0x4e224e,{emitter:_0x168c8b}=this,_0x1f9292={'defines':Lp(this,_0x4e224e),'pass':yn,'useCpu':this['emitter']['useCpu'],'normal':_0x168c8b['lighting']?_0x168c8b['normalMap']!==null?0x11*-0xd5+-0x2219+0x3040:0x1975+0x1*0x5e2+-0xbf*0x2a:-0xabb*0x1+0x1*0x3e9+-0x3*-0x246,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0xf86944==null?void(0x6c8+-0x22*0xc+-0x530):_0xf86944['shaderOutp'+'utGamma'])??sl,'toneMap':(_0xf86944==null?void(0x1*0xf25+0xd*-0x1a9+0x670):_0xf86944['toneMappin'+'g'])??Cp,'fog':_0x3f96cb&&!this['emitter']['noFog']?_0x3f96cb['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x168c8b['inTools']?!(0xc*-0x3+-0x10cb+-0x4*-0x43c):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Vh},_0x33ed4a=new Kc(_0x4e224e['viewUnifor'+'mFormat'],_0x4e224e['viewBindGr'+'oupFormat'],_0x4e224e['vertexForm'+'at']),_0x4d985a=Ba(_0x414147);return _0x4d985a['register']('particle',t1),_0x4d985a['getProgram']('particle',_0x1f9292,_0x33ed4a,this['userId']);}}const C_=[[-(-0x1*-0x1d06+0x13aa+-0x30af),-(-0x2*-0x317+-0x4*-0x57a+-0x1c15)],[0x803+-0x403+-0x3ff,-(-0x25b4+-0xeb2+0x3467)],[0x455+-0x3b*-0x25+-0xcdb,0x1b32+0x1287+-0x2db8],[-(-0x1ec4+-0x11b9+-0x6*-0x815),0x1da*0xc+-0x2*0xb66+0x95]];function es(_0x5df22e,_0x853c1c,_0x122368,_0x33a805,_0x134d3f=Ye,_0x407673,_0x4cc6da){let _0xd8111a=de;_0x4cc6da&&(_0x134d3f===Se||_0x134d3f===as)&&(_0xd8111a=tt);const _0x210926=new he(_0x5df22e,{'width':_0x853c1c,'height':_0x122368,'format':_0x134d3f,'cubemap':!(-0x4d*0x80+-0x1*-0x17f5+0xe8c),'mipmaps':!(0x12dd+0x1818+0x157a*-0x2),'minFilter':_0xd8111a,'magFilter':_0xd8111a,'addressU':ne,'addressV':ne,'name':'ParticleSy'+'stemTextur'+'e'}),_0x327e26=_0x210926['lock']();if(_0x134d3f===Se||_0x134d3f===as){const _0x3a8455=new Uint8Array(_0x33a805['length']);for(let _0x36cfe8=0x18eb+0x428+-0x1d13;_0x36cfe8<_0x33a805['length'];_0x36cfe8++)_0x3a8455[_0x36cfe8]=_0x33a805[_0x36cfe8]*_0x407673*(0xa4a+0x2f*-0x63+0x3*0x2f6);_0x33a805=_0x3a8455;}return _0x327e26['set'](_0x33a805),_0x210926['unlock'](),_0x210926;}function E_(_0x49e404){return Math['max'](Math['min'](_0x49e404,-0xfbd+-0xc*-0x19e+-0x7*0x86),-0xd6*-0xd+0xdb5*0x1+-0x1893);}const M_=new Ps([0x1*-0x21a+-0xa67*-0x1+-0x1*0x84d,0x3*0x67f+0x1*0x1e55+-0x31d2,-0x2055*0x1+-0xe62+0x2eb8,-0x1b1c+0x1781+0x47*0xd]),P_=new Ps([0xf2*-0x1c+-0xbf1+0x2669*0x1,0x2509+-0x2*-0x761+-0x3b3*0xe,0x23*0x86+-0x16db+0x48a,-0x2262+-0x17d7+-0x1d*-0x202]),R_=new jr([-0x6d6+-0x1*-0x85c+-0x1*0x186,-0x1f0f+-0x2369+0x4278,-0x1887+-0x1250+0x2ad8,-0x15f1+-0x76a+-0x3*-0x9c9],[0x1*0x1606+-0x1*-0xc39+-0x223f,0x938+0x24*-0x8a+0x1*0xa30,0x1aeb*0x1+0x2116+-0x3c00,-0x766+-0x1*-0x182f+0x1*-0x10c9],[0x841*0x2+-0x3*0xb93+-0x1*-0x1237,-0x1*-0x247b+-0x1d17+-0x764,0x1dd5+0x1fe5+0x1493*-0x3,0x1*0x8c8+-0x218f+-0x18c7*-0x1]),i1=new jr([0x10ea+-0x1*-0x3f6+-0x14e0,0x140d+0xb9e*-0x1+0xa6*-0xd,0x5a3+-0x1*-0x77a+0x68e*-0x2,-0x1a9c+0xf0b*-0x2+0x38b3],[-0xc5*-0x1+0x252*0x1+0x317*-0x1,0xfb6+-0x1*0x1d57+0x2ba*0x5,-0x4b6+0x2cf*0x1+0x3d*0x8,0x180b+0x152*-0x8+-0xd7a],[0x38*-0x19+-0x7b6+-0x697*-0x2,-0x1*-0x409+-0x896+0x48e,0x81*-0xc+0x473*-0x1+0xa80,-0x2*0x62a+-0x172f*-0x1+0x39e*-0x3]);let ni=0x11b7+-0x1*0x2235+0x10*0x108;const Ul=0x312+0x10dc+-0x13ea,ai=new Float32Array(0x1686+-0x1c69*0x1+0x5e6),Tr=new q(),I_=new T(),Vl=new T(),Gl=new T();let Wu,ph;function ie(_0x3cbfa0,_0x3bf3d9){ph[_0x3cbfa0]!==void(-0x5*-0x8b+0x1e8d+-0x2144*0x1)&&ph[_0x3cbfa0]!==null?Wu[_0x3cbfa0]=ph[_0x3cbfa0]:Wu[_0x3cbfa0]=_0x3bf3d9;}function k0(_0x1c220d,_0x5aa064,_0x13d457){return(_0x1c220d*(-0x443+-0x1e64+-0x27*-0xea)<<-0x3*-0xcfb+0x354+-0x2a35|_0x5aa064*(0x2*0xb5a+-0xef5+0xc0*-0x9)<<-0x6*0x501+0x25f4+-0x7e6|_0x13d457*(0x1c28+-0x1ae4+-0x45))/(-0x16aa+-0x57*0xa+0x1a11<<-0xe49*-0x1+0x1493+-0x1162*0x2);}function D_(_0x959720,_0x5a55f4){const _0x42127a=_0x959720['length']/(-0x179f+0x18a1+-0xff),_0x124606=new Array(_0x42127a*(0xea9+-0x1*-0x173+-0x1018));for(let _0x22c754=0xce5*-0x1+0x3a5+-0x8*-0x128;_0x22c754<_0x42127a;_0x22c754++)_0x124606[_0x22c754*(0xce0+-0x1203+0x1*0x527)]=_0x959720[_0x22c754*(0x2160+-0x1fa3+-0x1ba)],_0x124606[_0x22c754*(-0xd8c+0x223*-0x11+-0x1*-0x31e3)+(-0x1f11+-0x1613+0x3525)]=_0x959720[_0x22c754*(-0x128*0x13+-0x41*0x7f+0x1b1d*0x2)+(-0x2578+0x114e*-0x1+0x36c7)],_0x124606[_0x22c754*(-0x32c+-0xad7+0xe07)+(-0x1899+-0x8a+0x1*0x1925)]=_0x959720[_0x22c754*(0x2215+0x1435+-0xadb*0x5)+(0x2a9*-0x2+-0x1fb4+-0x4a1*-0x8)],_0x124606[_0x22c754*(-0x6b7+-0x71*-0x2f+-0xe04)+(-0x207b+-0x15*0x16a+0x3e30)]=k0(_0x5a55f4[_0x22c754*(-0x1cd*-0x5+0x3c2+-0xcc0)],_0x5a55f4[_0x22c754*(0x73d*-0x5+0x21b3+0x281*0x1)+(-0x1*-0x1a9b+-0x4*-0x1b7+-0x2176)],_0x5a55f4[_0x22c754*(-0x14fa+0x6df*-0x1+0x6f7*0x4)+(0x8*-0x221+-0xacf*0x2+0x26a8)]);return _0x124606;}function r1(_0xd82538,_0x475a2b){const _0x4a916e=new Array(_0x475a2b['length']*(0x1aaa+0x1f81*-0x1+0x4db*0x1));for(let _0x581248=0x1b00+0x53*0x9+0x9*-0x353;_0x581248<_0x475a2b['length'];_0x581248++)_0x4a916e[_0x581248*(-0x107f+-0x181f+0x28a2)]=_0xd82538[_0x581248*(-0x1fd9+0x7cf+0x180d)],_0x4a916e[_0x581248*(-0x4ff*0x2+-0x6ac+0x10ae*0x1)+(0x509+0x209b+-0xcd*0x2f)]=_0xd82538[_0x581248*(-0x1ae8+-0x1ca2+0x378d)+(0xeca+-0x2299*0x1+0x13d0)],_0x4a916e[_0x581248*(0x22dc+-0x1ede*-0x1+-0x2*0x20db)+(-0x2*0xb02+0x1f08+-0x902)]=_0xd82538[_0x581248*(0x8*0x207+0xbe3+-0x383*0x8)+(-0x3*0xba+0x1138*0x2+-0x2040)],_0x4a916e[_0x581248*(-0x40*0x61+0x1ec2+-0x67e)+(-0x67*-0x15+0x1f7c+-0x7fc*0x5)]=_0x475a2b[_0x581248];return _0x4a916e;}function n1(_0x7dcc9e,_0x340bfb,_0x299fff,_0x2b375a,_0x4f69f9){const _0x192ae9=new Array(_0x7dcc9e['length']*(0x1b67+0xebe+-0x2a21));for(let _0x393fad=-0xbf*-0x1d+-0x1a61+0x4be*0x1;_0x393fad<_0x7dcc9e['length'];_0x393fad++)_0x192ae9[_0x393fad*(0x47*-0x6c+-0x1833+0x362b)]=_0x7dcc9e[_0x393fad],_0x192ae9[_0x393fad*(-0x1ec1*0x1+-0x1*-0x5+0x1ec0)+(0x183+0x1*0x1c75+-0x1df7)]=_0x340bfb[_0x393fad],_0x192ae9[_0x393fad*(0x1*0xb4b+-0x25be+-0x10f*-0x19)+(0x11b1*0x1+0x5c1*-0x3+-0x6c)]=0xac2+-0x233a+0xc*0x20a,_0x192ae9[_0x393fad*(0xbae+-0x1af7+0xf4d)+(-0xb7c+-0x15b*0x15+0x27f6)]=k0(_0x299fff[_0x393fad],_0x2b375a[_0x393fad],_0x4f69f9[_0x393fad]);return _0x192ae9;}function a1(_0x5eb799,_0x1253a1){const _0x14a5ee=new Array(_0x5eb799['length']*(-0x9*-0x133+-0x171f+0xc58));for(let _0x360197=0x20f2+-0x26b+0x1*-0x1e87;_0x360197<_0x5eb799['length'];_0x360197++)_0x14a5ee[_0x360197*(0x3c*-0x1+-0x77f*-0x5+-0x253b*0x1)]=_0x5eb799[_0x360197],_0x14a5ee[_0x360197*(-0x12dd*0x1+-0x14f7*0x1+0xc*0x352)+(-0xfd6+0x5d0+0xa07*0x1)]=_0x1253a1[_0x360197],_0x14a5ee[_0x360197*(-0x134e+0x1d97+0xb*-0xef)+(0x1*-0x49d+0xd2*0x4+0x157)]=-0x1943+0x1b4f*0x1+-0x1*0x20c,_0x14a5ee[_0x360197*(0x2407+-0x1120+-0x12e3*0x1)+(-0x1*-0xfeb+0x60d+-0x15f5)]=0x81d*-0x1+0xdb8*0x1+-0x59b;return _0x14a5ee;}function o1(_0x589d32){const _0x1d4800=Math['max'](_0x589d32['rate'],_0x589d32['rate2'])*_0x589d32['numParticl'+'es']+_0x589d32['lifetime'];return Date['now']()+_0x1d4800*(-0x592+-0x9*0x1d1+0x19d3);}function l1(_0x552c2d,_0x38a638){const _0x3ce4ef=new Float32Array(_0x552c2d['length']);for(let _0x1811b9=-0x59*0x25+-0xf*-0x21+-0x577*-0x2;_0x1811b9<_0x552c2d['length'];_0x1811b9++)_0x3ce4ef[_0x1811b9]=_0x552c2d[_0x1811b9]-_0x38a638[_0x1811b9];return _0x3ce4ef;}function Fr(_0x5278d2,_0x46dbfc){const _0x47ea66=_0x46dbfc['length'],_0x5ce43f=_0x5278d2['length']/_0x47ea66;for(let _0x1b0aea=-0x8e6*-0x1+-0x1*0xe8f+0x5a9;_0x1b0aea<_0x5ce43f;_0x1b0aea++)for(let _0x1b5cf1=-0x25*-0x7a+0x20bc+-0x325e*0x1;_0x1b5cf1<_0x47ea66;_0x1b5cf1++){const _0x52e497=Math['abs'](_0x5278d2[_0x1b0aea*_0x47ea66+_0x1b5cf1]);_0x46dbfc[_0x1b5cf1]=Math['max'](_0x46dbfc[_0x1b5cf1],_0x52e497);}}function h1(_0x33a5e4,_0x16b0bc){const _0x25b303=_0x16b0bc['length'],_0x55dfe1=_0x33a5e4['length']/_0x25b303;for(let _0x26a793=0x1ed9*0x1+0x1*-0x94+0x11f*-0x1b;_0x26a793<_0x55dfe1;_0x26a793++)for(let _0x4bff37=-0x3a2+0x3a9*0x5+-0xeab;_0x4bff37<_0x25b303;_0x4bff37++)_0x33a5e4[_0x26a793*_0x25b303+_0x4bff37]/=_0x16b0bc[_0x4bff37]===-0xc6*0xe+0x6*0x250+0x1e*-0x1a?0x11*0x111+-0x219c+-0x1*-0xf7c:_0x16b0bc[_0x4bff37],_0x33a5e4[_0x26a793*_0x25b303+_0x4bff37]*=-0x127*-0x1+0x1c92+0x7*-0x43f+0.5,_0x33a5e4[_0x26a793*_0x25b303+_0x4bff37]+=0xa7f*-0x3+-0x122a+0x3*0x108d+0.5;}function Ar(_0x25d094,_0x277f4d,_0x5363af){const _0x5d06e6=l1(_0x277f4d,_0x25d094);return Fr(_0x5d06e6,_0x5363af),h1(_0x5d06e6,_0x5363af),_0x5d06e6;}const c1=new Bt();class d1{constructor(_0x37204e,_0x498462){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x37204e;const _0x1e16ee=_0x37204e,_0x2c2abd=-0x20d3+-0x1*-0xbe1+-0x1f*-0xae;this['precision']=_0x2c2abd,this['_addTimeTi'+'me']=-0x157+0x1*-0x19b8+0x1b0f*0x1,Wu=this,ph=_0x498462,ie('numParticl'+'es',0xdba+0x1*0x1da5+0x319*-0xe),this['numParticl'+'es']>_0x37204e['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x37204e['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x37204e['maxTexture'+'Size']),ie('rate',-0x27a+0x1*0x1719+-0x149e),ie('rate2',this['rate']),ie('lifetime',0x755+0x3*-0x799+-0x6*-0x29c),ie('emitterExt'+'ents',new T(-0x1af*0x1+-0x959*-0x1+0x28e*-0x3,0x5*-0x338+-0x1a6+0x11be,0x9*-0x240+-0x11af*-0x1+0x291)),ie('emitterExt'+'entsInner',new T(0x2065+0x2*0xf13+-0x6f3*0x9,-0x1ba7+-0x7*0x24b+0x2bb4,0x2138+0x319+0xc1b*-0x3)),ie('emitterRad'+'ius',0x2399+0x17b3*-0x1+0x1*-0xbe6),ie('emitterRad'+'iusInner',0xd86+-0x10e6+0x360),ie('emitterSha'+'pe',Vs),ie('initialVel'+'ocity',0x26a8+-0x1fa9+-0x37f*0x2),ie('wrap',!(0x1560+0x65*-0x52+-0x1*-0xafb)),ie('localSpace',!(-0x517*-0x7+0x57*0x7+-0x1*0x2601)),ie('screenSpac'+'e',!(-0x2*-0x4f7+0x9a6+-0x1393)),ie('wrapBounds',null),ie('colorMap',this['defaultPar'+'amTexture']),ie('normalMap',null),ie('loop',!(-0xa3*0x3c+0x1048+-0x15ec*-0x1)),ie('preWarm',!(-0x1*0x140b+0x2*0x1015+-0xc1e)),ie('sort',Lu),ie('mode',d0),ie('scene',null),ie('lighting',!(0xa*0x34+-0x18*0x180+0x21f9)),ie('halfLamber'+'t',!(0x20cc*-0x1+-0x68a+0x2757)),ie('intensity',-0x23*0xe9+0xc5*0x1b+0xb15),ie('stretch',0x5*-0x3ef+-0x4*0x162+0x1933),ie('alignToMot'+'ion',!(-0x57a*-0x6+-0x7*0x379+-0x446*0x2)),ie('depthSofte'+'ning',0x79*0x2e+-0x22*-0x116+-0x6*0x9c7),ie('mesh',null),ie('particleNo'+'rmal',new T(0x2131+0x1*0x260e+-0x473f,0x1*0x8+-0x16f8+0x1*0x16f1,-0x3*-0x133+0x29*-0xd4+0x1*0x1e5b)),ie('orientatio'+'n',Vh),ie('depthWrite',!(-0xae3+0x123d+0x13*-0x63)),ie('noFog',!(-0x1a57+-0xb35*-0x2+0x3ee)),ie('blendType',Ot),ie('node',null),ie('startAngle',-0x5d*0x7+0x1a41+-0x17b6),ie('startAngle'+'2',this['startAngle']),ie('animTilesX',0x1f*0xde+0x3f*0x17+-0x208a),ie('animTilesY',-0x1*-0x51c+0x6a5+-0xbc0*0x1),ie('animStartF'+'rame',-0xdf+-0x157c+0x3b*0x61),ie('animNumFra'+'mes',-0x1c70+0x5e9+0x1688),ie('animNumAni'+'mations',-0x3*-0xa21+-0x3db+-0x1a87),ie('animIndex',0x13a1+0xfc0+0xbcb*-0x3),ie('randomizeA'+'nimIndex',!(0x217f+0xc7*-0x1+-0x20b7)),ie('animSpeed',-0xf67+-0x1544+0x24ac),ie('animLoop',!(0xf3a+0x154b+-0x2485)),this['_gpuUpdate'+'r']=new JM(this,_0x1e16ee),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x1*-0x162b+-0x2667+0x103f),this['wrapBounds'+'Uniform']=new Float32Array(-0x2e*0x76+-0x1*0xc43+0x359*0xa),this['emitterSca'+'leUniform']=new Float32Array([-0x18d9+0x588*-0x6+0x3a0a,-0x1*0x24f+0x147*-0x7+0xb41,-0x13e5+0x31*-0x38+0x1e9e*0x1]),ie('colorGraph',i1),ie('colorGraph'+'2',this['colorGraph']),ie('scaleGraph',P_),ie('scaleGraph'+'2',this['scaleGraph']),ie('alphaGraph',P_),ie('alphaGraph'+'2',this['alphaGraph']),ie('localVeloc'+'ityGraph',R_),ie('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),ie('velocityGr'+'aph',R_),ie('velocityGr'+'aph2',this['velocityGr'+'aph']),ie('rotationSp'+'eedGraph',M_),ie('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),ie('radialSpee'+'dGraph',M_),ie('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x1126*-0x1+0x5*0x602+0x671*-0x2),this['animParams']=new Float32Array(-0x1*-0x657+0x1*0x12e+-0x1*0x781),this['animIndexP'+'arams']=new Float32Array(0x13b3+0x1*-0xb73+-0x83e),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x9ff+0x6*-0x5d3+0x18f4),this['useMesh']=!(0x3*-0x32b+0x9*0x283+0xd*-0x102),this['useCpu']=!_0x37204e['supportsGp'+'uParticles'],this['pack8']=!(0x3*0xcb5+-0x108a+-0x1595),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=-0x23a6+0x9eb*0x3+0x5e5,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x1*0x1783+-0xf7d+0x2700,this['numParticl'+'eIndices']=-0x1*-0x15c5+0x71f+0xe72*-0x2,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x546+-0x9*-0xc5+-0x1*0xc33,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x1231+0x1*-0x1e37+-0xc07*-0x1)/(0x2*-0xff6+-0x1dff+0x3e27),this['maxSubStep'+'s']=0x1b83*0x1+-0x1636*0x1+-0x543,this['simTime']=0x137*0xb+0x11dc+-0x1f39,this['simTimeTot'+'al']=0x17d3+-0x1a94+0xeb*0x3,this['beenReset']=!(0x181e+0x2623+-0x53*0xc0),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x5bbbaa=new Float32Array(-0xbf*0x1+-0xbba+0x1079*0x1);for(let _0x3557ac=-0x61+-0x1d4b+-0x2*-0xed6;_0x3557ac<0xb2*-0xd+0x2400+-0x1ae6;_0x3557ac++)for(let _0x339ce2=0x6c0+0x2614+0x2*-0x166a;_0x339ce2<-0x589*0x5+0x23c5+-0x808;_0x339ce2++){const _0x469217=_0x339ce2+(0x1*-0x349+0x106+0x244)-(0x25b*-0xc+-0x205+0xc7*0x27+0.5),_0x4ee67c=_0x3557ac+(0x15*-0x1bb+-0x7cd+0x2c25)-(0x1610+0x21e*0xf+-0x66*0x87+0.5),_0x491732=E_(0x73*0x50+0x1d5f+0x283*-0x1a-E_(Math['sqrt'](_0x469217*_0x469217+_0x4ee67c*_0x4ee67c)/(-0x1*-0x18c7+0xb*0x301+-0x39c2))-(0xfa8+-0x80a+-0x28a*0x3+0.5)),_0xfb96cb=_0x3557ac*(-0x1286+0x2202+-0xf6c)+_0x339ce2;_0x5bbbaa[_0xfb96cb*(-0xc2*0x1+-0x673+0x739)]=0x116*0x22+0xc52+-0x313d,_0x5bbbaa[_0xfb96cb*(0x1*-0x2023+-0x20ee+0x4115)+(-0x22e+0x3*-0x6d+0x376)]=0x35+-0x40d+0x5*0xc5,_0x5bbbaa[_0xfb96cb*(-0x2647+-0x28a*-0xe+0x2bf)+(0x2*0x373+0x1a79+-0x215d*0x1)]=0x5*-0x2e5+0x940+0x29d*0x2,_0x5bbbaa[_0xfb96cb*(-0xdc2+-0xd11+-0x1ad7*-0x1)+(0x1bd*-0xa+-0x766+0x18cb)]=_0x491732;}const _0x2fdb68=es(this['graphicsDe'+'vice'],-0x479*-0x7+0x19f1+-0x2*0x1c98,0xb38+-0x1*-0x15be+-0x2*0x1073,_0x5bbbaa,as,0x984+-0x73*0x2e+-0xb27*-0x1,!(0x2*-0xf27+-0xa*-0x1af+0xd78));return _0x2fdb68['minFilter']=tt,_0x2fdb68['magFilter']=tt,_0x2fdb68;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x19d*0xf+-0x13e8+-0x44a)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0x11*-0x11c+-0xb66*-0x1+0x1e41*-0x1)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x1f4d+-0x11e*-0x2+-0x2188)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x98*-0x40+0x18e9+-0x3ee8)),this['worldBound'+'sAdd']['x']+=-0x23*0x119+0x554+0x1*0x2117+0.5,this['worldBound'+'sAdd']['y']+=0x17*0x149+0xf1*-0x1a+-0x515+0.5,this['worldBound'+'sAdd']['z']+=0x15cd+0x23c6+0x11*-0x363+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x4b350c=!(0xbb0+0x20da+0x1*-0x2c89);this['emitterSha'+'pe']===Vs?_0x4b350c=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x4b350c=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x4b350c&&this['calculateL'+'ocalBounds']();}const _0x4061f5=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x4061f5),this['worldBound'+'sTrail'][0x5f*0x20+-0x1*-0x41f+-0xfff]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0xd6c*-0x1+0x786+0x5e7]['add'](this['worldBound'+'sNoTrail']);const _0x71be96=this['simTimeTot'+'al'];_0x71be96>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x57b*-0x7+0x1a11+-0x313*-0x4]['copy'](this['worldBound'+'sTrail'][0x911+-0xa79+-0x169*-0x1]),this['worldBound'+'sTrail'][-0x7*-0x418+-0x45*0xc+-0x196b]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x71be96+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x4a1+-0x1*-0x2b+-0x133*0x4]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x2*-0x935+-0x2b1*-0x7+0x5*-0x773),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x4061f5),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x4061f5)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0xecd+-0x1488+0x5bc-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x608*-0x2+-0x106f+-0x5*-0x5b3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x248f+-0x2c8+-0x21c6]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x39*0x4f+-0x94d+0x1ae4]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x39*-0x29+-0x22a*0x2+0x47d*0x3),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x1*-0xad9+0x260f+0x6*-0x489,this['timeToSwit'+'chBounds']=-0x61f+-0x965*-0x2+0x2f*-0x45);}['calculateL'+'ocalBounds'](){let _0x217498=Number['MAX_VALUE'],_0x1cc547=Number['MAX_VALUE'],_0x38d264=Number['MAX_VALUE'],_0x3ad61a=-Number['MAX_VALUE'],_0x22596b=-Number['MAX_VALUE'],_0x41a2ac=-Number['MAX_VALUE'],_0x3eb42b=0x16be+0xd*0x2ea+-0x308*0x14,_0x2bda97=-0x48*-0x29+-0x3b4+-0x2*0x3ea;const _0x593d6c=this['lifetime']/this['precision'],_0x23ba66=[this['qVelocity'],this['qVelocity2']],_0x27cb5e=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x3442fb=[-0x13d*0x1+-0xe87+0xfc4,0x21*-0xdc+0x1*-0x1606+-0x1*-0x3262],_0x3d19f8=[0x18f5*-0x1+0x19cd+-0xd8,0xe5d+-0x1884+-0x17*-0x71],_0x3fcae6=[0x11bc*0x1+-0x1*0x868+0x1*-0x954,-0x1*0x16a3+0xe6f*0x2+-0x63b],_0x54157a=[0x180*-0x9+-0x245e+-0x1*-0x31de,0x11*-0x189+0x19f0+-0x29*-0x1],_0xe72bb2=[0x17f*0x19+0x1264*-0x2+0x9f*-0x1,0x1*-0x19dd+0x14f*0x1+-0xe*-0x1c1];let _0x5b1871,_0xcd6d3c,_0x7a3c1f;for(let _0x9773f6=-0x223*0xc+0x1ffe+-0x21e*0x3;_0x9773f6<this['precision']+(-0x3*-0x5e9+0x2536+-0x36f0);_0x9773f6++){const _0x181951=Math['min'](_0x9773f6,this['precision']-(0x26+-0x3*-0x516+0xf67*-0x1));for(let _0x2dc0e5=-0x1a7a+0x5b*-0x1c+0x246e;_0x2dc0e5<0x5a0+-0x1f56+-0x19b8*-0x1;_0x2dc0e5++)_0x5b1871=_0x27cb5e[_0x2dc0e5][_0x181951*(0x719+-0x567*-0x7+0x25d*-0x13)+(0x2473*-0x1+-0x7ed+0x2c60)]*_0x593d6c+_0x3442fb[_0x2dc0e5],_0xcd6d3c=_0x27cb5e[_0x2dc0e5][_0x181951*(-0x172e+-0xbe6+0x2317)+(-0x5*0x224+-0x107b+-0x5*-0x570)]*_0x593d6c+_0x3d19f8[_0x2dc0e5],_0x7a3c1f=_0x27cb5e[_0x2dc0e5][_0x181951*(-0xcd2+-0x11*0x113+0x1f18)+(-0x2039+0x1c*-0x104+-0x1*-0x3cab)]*_0x593d6c+_0x3fcae6[_0x2dc0e5],_0x217498=Math['min'](_0x5b1871,_0x217498),_0x1cc547=Math['min'](_0xcd6d3c,_0x1cc547),_0x38d264=Math['min'](_0x7a3c1f,_0x38d264),_0x3ad61a=Math['max'](_0x5b1871,_0x3ad61a),_0x22596b=Math['max'](_0xcd6d3c,_0x22596b),_0x41a2ac=Math['max'](_0x7a3c1f,_0x41a2ac),_0x3442fb[_0x2dc0e5]=_0x5b1871,_0x3d19f8[_0x2dc0e5]=_0xcd6d3c,_0x3fcae6[_0x2dc0e5]=_0x7a3c1f;for(let _0x31e540=0x27*-0x7f+-0xe*-0x19a+-0x313;_0x31e540<-0x1686+-0xa27+-0xae5*-0x3;_0x31e540++)_0xe72bb2[_0x31e540]+=_0x593d6c*Math['sqrt'](_0x23ba66[_0x31e540][_0x181951*(-0x15ca+0xa*0x3b1+-0xf1d)+(-0x1249+0x23bd*-0x1+0x3606)]*_0x23ba66[_0x31e540][_0x181951*(0x2*-0x3ee+0x6d0+0x10f)+(0x23*-0x103+-0xcb1+0x2*0x180d)]+_0x23ba66[_0x31e540][_0x181951*(-0x22f2+-0x1*-0x1f85+0x4*0xdc)+(0x15f4+0x379*-0x2+0x17*-0xa7)]*_0x23ba66[_0x31e540][_0x181951*(-0x1f37+-0x786+0x26c0)+(0x1c56+0x1cd4+-0x3929)]+_0x23ba66[_0x31e540][_0x181951*(-0x24ed+-0x20e0+0x2*0x22e8)+(-0x1834+0x4b5+-0x1*-0x1381)]*_0x23ba66[_0x31e540][_0x181951*(-0x1d95+-0x1cf9+-0x553*-0xb)+(-0x2*0x39+0x4f6+-0x241*0x2)]);_0x54157a[0x4*-0x4c1+-0x1026+0x232a]+=this['qRadialSpe'+'ed'][_0x181951]*_0x593d6c,_0x54157a[-0x23b7+0x10be+0x12fa]+=this['qRadialSpe'+'ed2'][_0x181951]*_0x593d6c,_0x3eb42b=Math['max'](_0x3eb42b,Math['max'](Math['abs'](_0x54157a[-0x12a*-0x13+0x1*0x1b73+-0x1*0x3191]),Math['abs'](_0x54157a[0x1*-0x154b+-0x2174*-0x1+-0xc28]))),_0x2bda97=Math['max'](_0x2bda97,this['qScale'][_0x181951]);}this['emitterSha'+'pe']===Vs?(_0x5b1871=this['emitterExt'+'ents']['x']*(0x120f+-0x1ddc+-0x1*-0xbcd+0.5),_0xcd6d3c=this['emitterExt'+'ents']['y']*(-0x2128+0x1*0x1199+0xf8f+0.5),_0x7a3c1f=this['emitterExt'+'ents']['z']*(0x83d*-0x1+-0x17+0x854+0.5)):(_0x5b1871=this['emitterRad'+'ius'],_0xcd6d3c=this['emitterRad'+'ius'],_0x7a3c1f=this['emitterRad'+'ius']);const _0x154220=Math['max'](_0xe72bb2[-0x1020*-0x2+-0x4d*-0x1+-0x208d],_0xe72bb2[-0x2*-0xc61+-0x1*0x5e3+-0x2b2*0x7]);Vl['x']=_0x217498-_0x2bda97-_0x5b1871-_0x3eb42b-_0x154220,Vl['y']=_0x1cc547-_0x2bda97-_0xcd6d3c-_0x3eb42b-_0x154220,Vl['z']=_0x38d264-_0x2bda97-_0x7a3c1f-_0x3eb42b-_0x154220,Gl['x']=_0x3ad61a+_0x2bda97+_0x5b1871+_0x3eb42b+_0x154220,Gl['y']=_0x22596b+_0x2bda97+_0xcd6d3c+_0x3eb42b+_0x154220,Gl['z']=_0x41a2ac+_0x2bda97+_0x7a3c1f+_0x3eb42b+_0x154220,this['localBound'+'s']['setMinMax'](Vl,Gl);}['rebuild'](){const _0x854b05=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Lu||_0x854b05['maxVertexT'+'extures']<=-0x2*0x2a6+0x18d*-0x19+-0x2*-0x1609||_0x854b05['fragmentUn'+'iformsCoun'+'t']<-0x236c+-0x12e*0x10+0x368c||_0x854b05['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x854b05['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ni=this['useCpu']||this['pack8']?0x97f+0x194d+0xe*-0x27c:0xda5+0x2*-0x191+0xa81*-0x1,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1*0x20c3+-0x16bb+-0xa08]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x1b7b+-0x1247*0x2+-0xe*-0x493]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0xd4a+-0x241e+0x316a),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x365e40=-0x853*0x4+0x1bc0+0x58c;_0x365e40<this['numParticl'+'es'];_0x365e40++)this['vbToSort'][_0x365e40]=[0x4*0x9ae+-0x23d*-0x2+-0x2b32,0x295*0x3+-0x936+0x177];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ni*Ul);const _0x492f36=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],te['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ai[0x4*-0x503+0x1*-0x21cb+0x4e5*0xb]=this['emitterExt'+'ents']['x']!==0x18d4*0x1+-0x1*-0x2468+-0x3d3c*0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0xa*-0x9d+0x475+0x1ad,ai[0x14aa+0x1f40+-0x33e9]=this['emitterExt'+'ents']['y']!==0x1a38+0x853*-0x3+-0x13f*0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x1d71+0x20ed+-0x2*0x1be,ai[0x7*-0x49b+0x3*-0x3f+0x1*0x20fc]=this['emitterExt'+'ents']['z']!==0x4ae+-0xff5+0xb47?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x8*-0x85+0xdba+-0x992);for(let _0x18ccb9=0x2*-0x43d+-0x1e3b+-0x1*-0x26b5;_0x18ccb9<this['numParticl'+'es'];_0x18ccb9++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ai,_0x492f36,_0x18ccb9),this['useCpu']&&(this['particleTe'+'x'][_0x18ccb9*Ul+(0x1337*0x1+0x2363*-0x1+0x102f)+this['numParticl'+'esPot']*(-0x35*-0x6b+0x19bf+-0x2fe4)*Ul]=-0xbff*-0x1+0x2*-0x2f+-0x2e8*0x4);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ni*Ul);for(let _0x3a5604=0x1a97+0x18f1*-0x1+-0x1*0x1a6;_0x3a5604<this['particleTe'+'xStart']['length'];_0x3a5604++)this['particleTe'+'xStart'][_0x3a5604]=this['particleTe'+'x'][_0x3a5604];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=es(_0x854b05,this['numParticl'+'esPot'],ni,this['particleTe'+'x'],Se,-0x2*0x6c5+-0x874*-0x2+-0x35d,!(0x2542+-0xd6c+-0x17d5)),this['particleTe'+'xOUT']=es(_0x854b05,this['numParticl'+'esPot'],ni,this['particleTe'+'x'],Se,0xbfe+-0x1*-0xfc9+-0x1bc6,!(-0x1b93+-0x25e2+0x4176)),this['particleTe'+'xStart']=es(_0x854b05,this['numParticl'+'esPot'],ni,this['particleTe'+'xStart'],Se,0x2614+-0x5c9*0x2+-0x1a81,!(0xe1*-0xf+-0x18a2+0x1*0x25d2))):(this['particleTe'+'xIN']=es(_0x854b05,this['numParticl'+'esPot'],ni,this['particleTe'+'x']),this['particleTe'+'xOUT']=es(_0x854b05,this['numParticl'+'esPot'],ni,this['particleTe'+'x']),this['particleTe'+'xStart']=es(_0x854b05,this['numParticl'+'esPot'],ni,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x16b0+0x2106+0x1*-0xa55)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0xef0+-0x17c+0x106d)}),this['swapTex']=!(-0x86b+0x27*-0x9a+0x48e*0x7));const _0x34b8a6=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x2e48ec=_0x34b8a6+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x391dd0=_0x34b8a6+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x469def=_0x34b8a6+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x3e5c59='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Ls(_0x854b05,X['fullscreen'+'QuadVS'],_0x2e48ec,'ParticleUp'+'dateRespaw'+'n-'+_0x3e5c59),this['shaderPart'+'icleUpdate'+'NoRespawn']=Ls(_0x854b05,X['fullscreen'+'QuadVS'],_0x391dd0,'ParticleUp'+'dateNoResp'+'awn-'+_0x3e5c59),this['shaderPart'+'icleUpdate'+'OnStop']=Ls(_0x854b05,X['fullscreen'+'QuadVS'],_0x469def,'ParticleUp'+'dateStop-'+_0x3e5c59),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x1*0x2593+-0x236*-0x7+0x275*0x9,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x1c48+-0x2*-0x107b+-0x4ae]['numIndices']:-0x228f+-0x346+0x25db,this['_allocate'](this['numParticl'+'es']);const _0x45f3f3=new Ie(_0x854b05);_0x45f3f3['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x45f3f3['indexBuffe'+'r'][-0xdea+-0x2e*-0x61+0x4b*-0xc]=this['indexBuffe'+'r'],_0x45f3f3['primitive'][0x1de+0x1f*0x25+-0x659*0x1]['type']=Rs,_0x45f3f3['primitive'][0x1a8d+-0x19f0+-0x9d]['base']=0x17d1+0x1625+-0x2df6,_0x45f3f3['primitive'][-0x1*0x241f+0x17*0xfe+-0x46f*-0x3]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x45f3f3['primitive'][-0xa99+0x15b*0x1a+-0x3*0x837]['indexed']=!(0x3ed+-0x1*-0x1520+-0x190d*0x1),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x114e49=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0xe*0x1a6+-0x21*0x4d+-0xd27);this['meshInstan'+'ce']=new Le(_0x45f3f3,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x4*-0x5f3+0x2e+0x169*-0x11),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0xc5e+-0x3*-0x55+-0xd5d),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1*-0xafb+-0x1095+0x59b),this['meshInstan'+'ce']['visible']=_0x114e49,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x1*0x224d+0x2*-0xbdd+0x3a07,!(-0xa7f*-0x3+0x1*0x2184+0x80*-0x82)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x602*-0x3+-0x45a*-0x3+0x4f9&&(this['animTilesX']>0x4*-0x96b+0x31f*-0x7+0x3b86||this['animTilesY']>-0x12fe+0x14f8+0x65*-0x5)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x4259f8=this['precision'],_0x430708=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x4259f8),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x4259f8),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x4259f8,0x17c1+-0x22a8*0x1+0xae7*0x1,0x106*-0x1+0x1af*0x8+-0xc71),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x4259f8),this['qScale']=this['scaleGraph']['quantize'](_0x4259f8),this['qAlpha']=this['alphaGraph']['quantize'](_0x4259f8),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x4259f8),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x4259f8),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x4259f8),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x4259f8,-0x2*-0x260+0x117e+-0x1a*0xdb,0x33*0x5a+0x10f5+0xbe*-0x2f),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x4259f8),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x4259f8),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x4259f8),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x4259f8);for(let _0x4bde2f=-0x4*0x599+0x1*-0x152e+0x2b92;_0x4bde2f<_0x4259f8;_0x4bde2f++)this['qRotSpeed'][_0x4bde2f]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x4bde2f]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x3*-0x5b8+-0x1abc+0x2be7),this['velocityUM'+'ax']=new Float32Array(0x50*0x40+-0xddc+-0x621),this['colorUMax']=new Float32Array(0x5*-0x39b+-0x213f+-0x13*-0x2b3),this['rotSpeedUM'+'ax']=[-0x1124*0x2+0x1*-0x1f9d+0x1*0x41e5],this['scaleUMax']=[0x172d+0x1dab+0x69b*-0x8],this['alphaUMax']=[0x1*0x1639+0x15+-0x1*0x164e],this['radialSpee'+'dUMax']=[0x26a4+-0xd4+-0x25d0],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x2b5593=[0x4*0x599+0x1414+-0x714*0x6,0x26ea+0x1cbb+0x43a5*-0x1,0x148f+-0x1107+-0x1*0x388];Fr(this['qVelocity'],_0x2b5593);const _0x220ff5=[-0xf63+-0x1b8b+0x2aee,0x1*-0x1257+0x3*0x60d+0x30,-0x107*-0x6+0xc7*-0x1+-0x7*0xc5];Fr(this['qVelocity2'],_0x220ff5);const _0x342998=[0xec5+-0x1358+-0x1*-0x493,0x190b+0x183f+-0x12*0x2bd,0xea3+-0x1e*-0x9b+-0x20cd];Fr(this['qLocalVelo'+'city'],_0x342998);const _0x26f47a=[-0x1*-0xe73+-0x20*-0x43+-0x16d3,0x1e4e+-0x1604+-0x425*0x2,0x235f+0x1c57+-0x3fb6];Fr(this['qLocalVelo'+'city2'],_0x26f47a);const _0xaed2d4=[0x1d24+0xef2*-0x2+0xc0];Fr(this['qRadialSpe'+'ed'],_0xaed2d4);const _0x1972c1=[-0xf37+-0x399+0x12d0];Fr(this['qRadialSpe'+'ed2'],_0x1972c1);let _0x5aab07=Math['max'](_0x2b5593[-0x1*0xdc8+-0xb3f*-0x3+-0xd*0x189],_0x220ff5[-0x2*-0xe3f+0x1*-0x1183+0x3*-0x3a9]);_0x5aab07=Math['max'](_0x5aab07,_0x2b5593[0x3a4*-0x1+0x1b88+-0x5*0x4c7]),_0x5aab07=Math['max'](_0x5aab07,_0x220ff5[0x4*0x3b3+-0xe66+-0x65]),_0x5aab07=Math['max'](_0x5aab07,_0x2b5593[-0x15b*-0x8+-0x23c1*0x1+-0x1*-0x18eb]),_0x5aab07=Math['max'](_0x5aab07,_0x220ff5[-0x1*0x12c1+0x1edd*-0x1+-0x4*-0xc68]);let _0x23f931=Math['max'](_0x342998[-0x1*0x5c2+-0x3c+-0xd*-0x76],_0x26f47a[-0x1*0xd3+0x285*-0xf+0x269e]);_0x23f931=Math['max'](_0x23f931,_0x342998[-0x1421+-0x3d1+0x1*0x17f3]),_0x23f931=Math['max'](_0x23f931,_0x26f47a[0x18*0x7d+0x4*-0x23a+-0x2cf]),_0x23f931=Math['max'](_0x23f931,_0x342998[0x935+0x4*-0x5d7+0x91*0x19]),_0x23f931=Math['max'](_0x23f931,_0x26f47a[0x211e+0x29*-0x65+-0x10ef]);const _0x283b3d=Math['max'](_0xaed2d4[-0x1*-0x1385+0x22a4+-0x3629],_0x1972c1[-0x1ef4+0xd*0xdf+-0x3*-0x68b]);this['maxVel']=_0x5aab07+_0x23f931+_0x283b3d;}this['useCpu']||(this['internalTe'+'x0']=es(_0x430708,_0x4259f8,-0x2500+-0xca1+0x1*0x31a2,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=es(_0x430708,_0x4259f8,-0x118c+-0x39*0x6a+0x2927,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=es(_0x430708,_0x4259f8,0x185+0x2275+-0x1*0x23f9,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=es(_0x430708,_0x4259f8,0x1*-0x16ba+-0x205b+0x16*0x281,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=es(_0x430708,_0x4259f8,0x1d47+-0x5*-0x60e+-0x3b8c,r1(this['qColor'],this['qAlpha']),as,-0x7*-0x151+-0x2477+0x1b41,!(-0x1452+-0x452+-0x2*-0xc52));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Cy(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x2fd754=new s1(this);return _0x2fd754['name']='EmitterMat'+'erial:'+this['node']['name'],_0x2fd754['cull']=mt,_0x2fd754['alphaWrite']=!(-0x3d2*-0x7+-0x1cfd*0x1+-0x2*-0x120),_0x2fd754['blendType']=this['blendType'],_0x2fd754['depthWrite']=this['depthWrite'],_0x2fd754;}['resetMater'+'ial'](){const _0x50748e=this['material'];_0x50748e['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x50748e['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x50748e['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x50748e['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x50748e['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x50748e['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x50748e['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x50748e['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x50748e['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x50748e['setParamet'+'er']('colorParam',this['colorParam']),_0x50748e['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x50748e['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x50748e['setParamet'+'er']('lifetime',this['lifetime']),_0x50748e['setParamet'+'er']('rate',this['rate']),_0x50748e['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x50748e['setParamet'+'er']('seed',this['seed']),_0x50748e['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0xde*-0x23+-0x1*-0x2275+-0x40cf]),_0x50748e['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0xdc6+-0x923*0x2+0x200c]),_0x50748e['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x7b9+-0x26b*0x4+-0x1f3*-0x1]),_0x50748e['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x50748e['setParamet'+'er']('graphSampl'+'eSize',(0x2441+-0x726+0xa*-0x2e9)/this['precision']),_0x50748e['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x44*0x1d+-0x1db6+0x467*0x5,-0x60f+0x7*-0x2f5+0x1ac3,-0x2083+-0xa9e*0x3+0x7*0x932])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x50748e['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x50748e['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x50748e['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x10*-0xec+0x1819+0x959*-0x1]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x1*-0x526+0x1*-0x68e+-0x51*-0x25]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x1*0x1039+-0xa0c*0x2+-0x1*-0x2453]=this['wrapBounds']['z'],_0x50748e['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x1e90+0x1293+-0x3123&&_0x50748e['setParamet'+'er']('softening',(-0x509*0x2+-0xac1+0x14d4)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x4aa+-0x1e77+-0x2385*-0x1))),this['stretch']>0x2093+0x52*0x13+-0x26a9&&(_0x50748e['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x47cf8e,_0x457e16;if(this['orientatio'+'n']===Vh)_0x47cf8e=new Float32Array([-0xbe*-0x21+-0xa1*-0x13+0x2470*-0x1,-0x948+-0x2654+-0x4*-0xbe7,-0x9*-0x2f8+0x32*0x80+-0x33b8]),_0x457e16=new Float32Array([0xb84+-0xfa3+-0xd3*-0x5,-0x2*0x36+0x745*-0x2+0xef6,-0x1ef2+-0x11c2*-0x2+0xa7*-0x7]);else{let _0xb5c90d;this['orientatio'+'n']===Xb?_0xb5c90d=this['particleNo'+'rmal']['normalize']():_0xb5c90d=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0xcadf99=new T(-0x1e7d*0x1+0x25a7+-0x729,-0x1f56+-0x26d4+-0x462a*-0x1,0x7*-0x215+-0x2*0x10a+0x10a7);Math['abs'](_0xcadf99['dot'](_0xb5c90d))===0x242*0x9+-0x4c7*0x5+0x392&&_0xcadf99['set'](0x39c*0x1+0x1b73+-0x1f0f*0x1,-0x76f+0x16d*-0x13+0x2286,0x181*0xc+-0x1*-0x1607+-0x2812);const _0x1ae8a7=new T()['cross'](_0xb5c90d,_0xcadf99)['normalize']();_0xcadf99['cross'](_0x1ae8a7,_0xb5c90d)['normalize'](),_0x47cf8e=new Float32Array([_0xcadf99['x'],_0xcadf99['y'],_0xcadf99['z']]),_0x457e16=new Float32Array([_0x1ae8a7['x'],_0x1ae8a7['y'],_0x1ae8a7['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x47cf8e),this['material']['setParamet'+'er']('faceBinorm',_0x457e16);}['_allocate'](_0x59cf76){const _0x4f2b06=_0x59cf76*this['numParticl'+'eVerts'],_0x39f004=_0x59cf76*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x13*0x1+0x512+0x1*-0x4ff)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x4f2b06){const _0xa85cee=[];this['useCpu']?_0xa85cee['push']({'semantic':wu,'components':0x4,'type':Ce},{'semantic':Tu,'components':0x4,'type':Ce},{'semantic':Ry,'components':0x4,'type':Ce},{'semantic':Iy,'components':0x1,'type':Ce},{'semantic':Dy,'components':this['useMesh']?0x89*0x23+-0x1cb2*-0x1+-0x2f69:0x22fc+0x2467+-0x4761,'type':Ce}):(_0xa85cee['push']({'semantic':wu,'components':0x4,'type':Ce}),this['useMesh']&&_0xa85cee['push']({'semantic':Tu,'components':0x2,'type':Ce}));const _0x42c29f=new Mt(this['graphicsDe'+'vice'],_0xa85cee);this['vertexBuff'+'er']=new hs(this['graphicsDe'+'vice'],_0x42c29f,_0x4f2b06,{'usage':Ah}),this['indexBuffe'+'r']=new hr(this['graphicsDe'+'vice'],ar,_0x39f004);const _0x52d2d3=new Float32Array(this['vertexBuff'+'er']['lock']());let _0xfd4580,_0xfb8b27,_0x6576a7;if(this['useMesh']){_0xfd4580=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0xfb8b27=_0xfd4580['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x575f62=0x395+0x2*-0x8cd+0xe05*0x1;_0x575f62<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x575f62++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x575f62]['name']===os){_0x6576a7=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x575f62]['offset']/(0x190b+0x2622+-0x13*0x353);break;}}for(let _0x14cde8=-0x1*-0x1196+0x1595+-0x272b;_0x14cde8<_0x4f2b06;_0x14cde8++){const _0x1b6d5a=Math['floor'](_0x14cde8/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x5d3b17=_0x14cde8%this['numParticl'+'eVerts'];_0x52d2d3[_0x14cde8*(0x220b+0x141a+-0x361f)]=_0xfd4580[_0x5d3b17*_0xfb8b27],_0x52d2d3[_0x14cde8*(0xcf8+-0x915+-0x3dd)+(-0x9e5+0x1f49*0x1+-0x1563)]=_0xfd4580[_0x5d3b17*_0xfb8b27+(0x174e+-0x3*0x737+-0x1a8)],_0x52d2d3[_0x14cde8*(0x5*-0x247+-0x1*0x5c+-0x1*-0xbc5)+(-0xda1+-0x1*0xc47+0x1*0x19ea)]=_0xfd4580[_0x5d3b17*_0xfb8b27+(0x24c+0x256e+-0x27b8)],_0x52d2d3[_0x14cde8*(-0x7aa+-0x1de7+-0x1*-0x2597)+(-0x12e6+0x1e35+0x4*-0x2d3)]=_0x1b6d5a,_0x52d2d3[_0x14cde8*(-0xd30+-0x57*-0x3+0xc31*0x1)+(0x20f1*-0x1+-0xb2*-0x2+0x1f91)]=_0xfd4580[_0x5d3b17*_0xfb8b27+_0x6576a7+(-0x582+0x1d*0x5+0x4f1)],_0x52d2d3[_0x14cde8*(-0x1d5d+-0x24bf+0x4222)+(-0x1a73+-0x1858+0x8*0x65a)]=0x270+-0x1d2*0x7+0xa4f-_0xfd4580[_0x5d3b17*_0xfb8b27+_0x6576a7+(-0x12c2+0x1*-0x1b56+0x2e19*0x1)];}else{const _0x295425=_0x14cde8%(0x1310+-0x228c+0x3e0*0x4);_0x52d2d3[_0x14cde8*(0x244e*0x1+-0xd46+0x3*-0x7ac)]=C_[_0x295425][-0x2*0x3fa+-0x594+-0xd88*-0x1],_0x52d2d3[_0x14cde8*(0x13c9*0x1+0x29*0xe2+0x1*-0x37f7)+(0x229f*-0x1+0xce0*0x1+0x15c0)]=C_[_0x295425][-0x5d1*-0x1+0x2*0x4b1+0x2*-0x799],_0x52d2d3[_0x14cde8*(0x1f43*-0x1+-0x2089*-0x1+-0x7*0x2e)+(0xb71*-0x2+-0x2360+0x84*0x71)]=0xd73+-0x6b*-0x47+-0x2b20,_0x52d2d3[_0x14cde8*(0x1*0x1b8e+-0x3*0x287+-0x13f5)+(0x49*-0x45+-0x1488+0x2838)]=_0x1b6d5a;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x52d2d3),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x5550a4=0x15b2*-0x1+-0xa54+0x2006;const _0x592407=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x94e371=this['mesh']['indexBuffe'+'r'][-0x967+0x1ea8+-0x1541];_0xfd4580=new Fh[_0x94e371['format']](_0x94e371['lock']());}for(let _0x260e06=-0x1efa+-0x6e3*0x2+0x2cc0;_0x260e06<_0x59cf76;_0x260e06++)if(this['useMesh']){for(let _0x2e5396=0x1fc*-0xd+0x1765*0x1+0x267;_0x2e5396<this['numParticl'+'eIndices'];_0x2e5396++)_0x592407[_0x260e06*this['numParticl'+'eIndices']+_0x2e5396]=_0xfd4580[_0x2e5396]+_0x260e06*this['numParticl'+'eVerts'];}else{const _0x3fb874=_0x260e06*(0x21fd+0x1*0x1f97+-0x4190);_0x592407[_0x5550a4++]=_0x3fb874,_0x592407[_0x5550a4++]=_0x3fb874+(0x741+-0x5*-0x303+-0x164f),_0x592407[_0x5550a4++]=_0x3fb874+(0x815*-0x2+0x1876+-0x84a),_0x592407[_0x5550a4++]=_0x3fb874,_0x592407[_0x5550a4++]=_0x3fb874+(-0x3e9*0x8+0x2*-0x1077+0x5*0xcd8),_0x592407[_0x5550a4++]=_0x3fb874+(0x2342+-0x14c9+-0xe76);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0xcb3+0x20f4+-0x1441]['unlock']();}}['reset'](){if(this['beenReset']=!(0x296*-0x1+-0x1896+0x1*0x1b2c),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x48b947=0x14cb*0x1+0xd*0x167+-0xf*0x29a;_0x48b947<this['particleTe'+'xStart']['length'];_0x48b947++)this['particleTe'+'x'][_0x48b947]=this['particleTe'+'xStart'][_0x48b947];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x5bb339=this['loop'];this['loop']=!(-0x25d+0x1edf+-0x1c82),this['addTime'](0x16b0+0xb7*0x11+-0x22d7,!(-0x29*0x1f+-0x1*0x3a9+0x8a1)),this['loop']=_0x5bb339,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x21970b){const _0xcb5781=_0x21970b/this['lifetime'],_0x58ad9d=Math['min'](Math['floor'](_0xcb5781*this['precision']),this['precision']),_0x33ec2f=_0x21970b/_0x58ad9d;for(let _0xbc0e48=-0x18a3+0x1fa1+-0x2*0x37f;_0xbc0e48<_0x58ad9d;_0xbc0e48++)this['addTime'](_0x33ec2f,!(0x17f1+0x10f*-0x1+-0x16e1));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x264503,_0x307dfc){const _0x26737b=this['graphicsDe'+'vice'],_0x49504b=re();if(this['simTimeTot'+'al']+=_0x264503,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x405e82=this['animTilesP'+'arams'];_0x405e82[0x1*-0x9df+-0x113b+0x2*0xd8d]=(-0x3e3*0x3+0x1*-0x26f+0xe19)/this['animTilesX'],_0x405e82[-0x16cc*-0x1+0x1*-0xe9b+-0x106*0x8]=(-0x1*0x3d1+0x3*-0xaed+0x2499)/this['animTilesY'];const _0x751bd9=this['animParams'];_0x751bd9[-0x1265+-0x7d8+-0x3*-0x8bf]=this['animStartF'+'rame'],_0x751bd9[0x797*0x2+0x18ce*-0x1+-0x91*-0x11]=this['animNumFra'+'mes']*this['animSpeed'],_0x751bd9[-0x1f*0x2e+-0x161f+0x1bb3]=this['animNumFra'+'mes']-(0x76f*0x1+0x43*-0x8d+-0xf*-0x1f7),_0x751bd9[0x239c*-0x1+0x7d7+0x1bc8]=this['animNumAni'+'mations']-(0x5*0x283+-0x6*-0x610+-0x30ee);const _0x5cca85=this['animIndexP'+'arams'];_0x5cca85[-0x18d6+0x1b92+-0x2bc]=this['animIndex'],_0x5cca85[-0xc*0x7+0x61*-0x57+0x214c]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ai[0x7*0xd3+-0x113*0x5+-0x66]=this['emitterExt'+'ents']['x']!==0x22+-0x1b6b+0x1b49?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x3*-0x35b+0x107c+-0x66b*0x1,ai[-0x1a5f+0x1b34+-0xd4]=this['emitterExt'+'ents']['y']!==-0xf0a+-0x23cf*-0x1+-0xd*0x199?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x47c*-0x7+-0x255d+0x5f9,ai[0x10f*-0x21+0x1d14+0x5dd]=this['emitterExt'+'ents']['z']!==0x22*0x6+0xac8*0x3+0xb0c*-0x3?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x222f+0x1*-0x2669+0x4898,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],te['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x2768bb;const _0x5e3482=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x648+0x18e+0x4ba]=_0x5e3482['x'],this['emitterSca'+'leUniform'][-0x1a05+-0x19c8+0x33ce]=_0x5e3482['y'],this['emitterSca'+'leUniform'][-0x1a46+-0x1992+-0x33da*-0x1]=_0x5e3482['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x2768bb=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x15*-0xb+-0x25b5+0x2a1*0xe]=_0x2768bb['x'],this['emitterPos'+'Uniform'][0x2*-0xaa9+0x1720+0x1*-0x1cd]=_0x2768bb['y'],this['emitterPos'+'Uniform'][-0x100*-0x17+0x1a55+-0x3153]=_0x2768bb['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x26737b,Tr,ai,_0x264503,_0x307dfc);else{const _0xfbff3c=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0xfbff3c,this['vbToSort'],this['particleTe'+'x'],Tr,ai,_0x2768bb,_0x264503,_0x307dfc);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x269e*-0x1+0x1*0xade+-0x5*-0x58d)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=re()-_0x49504b;}['_destroyRe'+'sources'](){var _0x1cb040,_0x461fe4,_0x3ec1bc,_0x163f4c,_0x4984be,_0x235582,_0x30647a,_0x97ed7c,_0x254766,_0x5e81bc,_0xfe6ba9,_0x332411;(_0x1cb040=this['particleTe'+'xIN'])==null||_0x1cb040['destroy'](),this['particleTe'+'xIN']=null,(_0x461fe4=this['particleTe'+'xOUT'])==null||_0x461fe4['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x3ec1bc=this['rtParticle'+'TexIN'])==null||_0x3ec1bc['destroy'](),this['rtParticle'+'TexIN']=null,(_0x163f4c=this['rtParticle'+'TexOUT'])==null||_0x163f4c['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x4984be=this['internalTe'+'x0'])==null||_0x4984be['destroy'](),this['internalTe'+'x0']=null,(_0x235582=this['internalTe'+'x1'])==null||_0x235582['destroy'](),this['internalTe'+'x1']=null,(_0x30647a=this['internalTe'+'x2'])==null||_0x30647a['destroy'](),this['internalTe'+'x2']=null,(_0x97ed7c=this['internalTe'+'x3'])==null||_0x97ed7c['destroy'](),this['internalTe'+'x3']=null,(_0x254766=this['colorParam'])==null||_0x254766['destroy'](),this['colorParam']=null,(_0x5e81bc=this['vertexBuff'+'er'])==null||_0x5e81bc['destroy'](),this['vertexBuff'+'er']=void(-0x1d45+0xf75*0x2+0x1*-0x1a5),(_0xfe6ba9=this['indexBuffe'+'r'])==null||_0xfe6ba9['destroy'](),this['indexBuffe'+'r']=void(-0x23c6*0x1+-0x1*0xceb+0x30b1),(_0x332411=this['material'])==null||_0x332411['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends Dt{['generateKe'+'y'](_0x347ceb){const _0x16cbb9=_0x347ceb['shaderDesc'],_0x5f79a0=_0x16cbb9['vertexCode']?hn(_0x16cbb9['vertexCode']):0x1a2*0x4+0x152e+-0x1bb6,_0xbe64fd=_0x16cbb9['fragmentCo'+'de']?hn(_0x16cbb9['fragmentCo'+'de']):-0x37c+-0x2205+-0x1*-0x2581,_0x1ad8fc=Dt['definesHas'+'h'](_0x347ceb['defines']);let _0x479008=_0x16cbb9['uniqueName']+'_'+_0x5f79a0+'_'+_0xbe64fd+'_'+_0x1ad8fc;return _0x347ceb['skin']&&(_0x479008+='_skin'),_0x347ceb['useInstanc'+'ing']&&(_0x479008+='_inst'),_0x347ceb['useMorphPo'+'sition']&&(_0x479008+='_morphp'),_0x347ceb['useMorphNo'+'rmal']&&(_0x479008+='_morphn'),_0x347ceb['useMorphTe'+'xtureBased'+'Int']&&(_0x479008+='_morphi'),_0x479008;}['createAttr'+'ibutesDefi'+'nition'](_0x279d5c,_0x581385){const _0x5d33ed=_0x581385['shaderDesc']['attributes'],_0x2d35e1=_0x5d33ed?{..._0x5d33ed}:void(-0x142*0x1f+-0x3*-0x1b0+0x21ee);_0x581385['skin']&&(_0x2d35e1['vertex_bon'+'eWeights']=Ys,_0x2d35e1['vertex_bon'+'eIndices']=jt),(_0x581385['useMorphPo'+'sition']||_0x581385['useMorphNo'+'rmal'])&&(_0x2d35e1['morph_vert'+'ex_id']=xa),_0x279d5c['attributes']=_0x2d35e1;}['createVert'+'exDefiniti'+'on'](_0x546f9b,_0xc28876,_0x4a1fa4){const _0x3d0eff=_0xc28876['shaderDesc'];if(_0x546f9b['shaderLang'+'uage']===Rh)_0x546f9b['vertexCode']=_0x3d0eff['vertexCode'];else{const _0x44b9e6=new Map(_0x4a1fa4),_0x7591a4=new Map(_0xc28876['defines']);_0x44b9e6['set']('transformI'+'nstancingV'+'S',''),_0xc28876['skin']&&_0x7591a4['set']('SKIN',!(0x1611+0x2143*-0x1+0xb32)),_0xc28876['useInstanc'+'ing']&&_0x7591a4['set']('INSTANCING',!(0x39*0x7f+-0x2302+0x6bb*0x1)),(_0xc28876['useMorphPo'+'sition']||_0xc28876['useMorphNo'+'rmal'])&&(_0x7591a4['set']('MORPHING',!(0x19bc+0x88a*0x1+-0x2246*0x1)),_0xc28876['useMorphTe'+'xtureBased'+'Int']&&_0x7591a4['set']('MORPHING_I'+'NT',!(0x3*0x2c5+0x63d+-0xe8c)),_0xc28876['useMorphPo'+'sition']&&_0x7591a4['set']('MORPHING_P'+'OSITION',!(0x105e+-0xbe4+-0x47a)),_0xc28876['useMorphNo'+'rmal']&&_0x7591a4['set']('MORPHING_N'+'ORMAL',!(-0x2*-0x7e8+-0x2*0xc77+-0x6*-0x185))),_0x546f9b['vertexCode']=_0x3d0eff['vertexCode'],_0x546f9b['vertexIncl'+'udes']=_0x44b9e6,_0x546f9b['vertexDefi'+'nes']=_0x7591a4;}}['createFrag'+'mentDefini'+'tion'](_0x4a6142,_0x49111f,_0x56b0ea){const _0x545ac6=_0x49111f['shaderDesc'];if(_0x4a6142['shaderLang'+'uage']===Rh)_0x4a6142['fragmentCo'+'de']=_0x545ac6['fragmentCo'+'de'];else{const _0x359fe9=new Map(_0x56b0ea),_0x4f7adc=new Map(_0x49111f['defines']);_0x4a6142['fragmentCo'+'de']=_0x545ac6['fragmentCo'+'de'],_0x4a6142['fragmentIn'+'cludes']=_0x359fe9,_0x4a6142['fragmentDe'+'fines']=_0x4f7adc;}}['createShad'+'erDefiniti'+'on'](_0x2f3bd3,_0x1267ff){const _0x54c11d=_0x1267ff['shaderDesc'],_0x1199bf={'name':'ShaderMate'+'rial-'+_0x54c11d['uniqueName'],'shaderLanguage':_0x54c11d['shaderLang'+'uage'],'fragmentOutputTypes':_0x54c11d['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x54c11d['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x54c11d['meshBindGr'+'oupFormat']},_0x4d5e6c=new Map(Object['entries']({...X,..._0x1267ff['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x1199bf,_0x1267ff),this['createVert'+'exDefiniti'+'on'](_0x1199bf,_0x1267ff,_0x4d5e6c),this['createFrag'+'mentDefini'+'tion'](_0x1199bf,_0x1267ff,_0x4d5e6c),Pt['createDefi'+'nition'](_0x2f3bd3,_0x1199bf);}}const f1=new u1();class Ia extends xn{constructor(_0x4ffe21){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x4ffe21;}set['shaderDesc'](_0x4051e6){_0x4051e6&&(v['assert'](_0x4051e6['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x4051e6['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x4051e6?{..._0x4051e6}:void(-0xc5b*0x3+-0x1994+0x3ea5),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x5eb216){return super['copy'](_0x5eb216),this['shaderDesc']=_0x5eb216['shaderDesc'],this;}['getShaderV'+'ariant'](_0x7f8ab1){const {objDefs:_0x4a0934}=_0x7f8ab1,_0x3cd02f={'defines':Lp(this,_0x7f8ab1),'skin':(_0x4a0934&$c)!==0x106f*-0x1+-0x1e7f+0x2eee,'useInstancing':(_0x4a0934&qc)!==0x13*-0x1d1+0x15*0x15a+0x1*0x621,'useMorphPosition':(_0x4a0934&Xc)!==-0xd*0xee+-0x13f6+0x200c,'useMorphNormal':(_0x4a0934&jc)!==-0x17b*0x1a+0x19f*-0xb+0x1*0x3853,'useMorphTextureBasedInt':(_0x4a0934&Yc)!==0x1*0x621+-0x151*-0x11+-0x2*0xe41,'pass':_0x7f8ab1['pass'],'gamma':_0x7f8ab1['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x7f8ab1['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x7f8ab1['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x5db434=new Kc(_0x7f8ab1['viewUnifor'+'mFormat'],_0x7f8ab1['viewBindGr'+'oupFormat'],_0x7f8ab1['vertexForm'+'at']),_0x5ca2d4=Ba(_0x7f8ab1['device']);return _0x5ca2d4['register']('shader-mat'+'erial',f1),_0x5ca2d4['getProgram']('shader-mat'+'erial',_0x3cd02f,_0x5db434,this['userId']);}}const O0=(_0xc3207e,_0x2cb236)=>{const _0x303512=_0x2cb236['length']/(0x58+-0x1*0xb87+0xb32),_0x13cff4=_0xc3207e['length']/(0x1a23+0xcfc*-0x3+0xcd4),_0x323e70=new T(),_0x1ca149=new T(),_0x25e333=new T(),_0x293134=new T(),_0x5465b0=new T(),_0x193f66=new T(),_0x49c41e=[];for(let _0x162425=0x1e04+0x25e8+0x43ec*-0x1;_0x162425<_0xc3207e['length'];_0x162425++)_0x49c41e[_0x162425]=-0x48c+0x38f+-0x17*-0xb;for(let _0x527ebd=0x1*-0x52f+0x665+-0x136;_0x527ebd<_0x303512;_0x527ebd++){const _0x214807=_0x2cb236[_0x527ebd*(0x26ad*-0x1+-0x18dd+0x1ed*0x21)],_0x964591=_0x2cb236[_0x527ebd*(-0x2624+0x1*0x1bd7+0xa50)+(-0x5*0x717+0x1d62*-0x1+-0x40d6*-0x1)],_0x113a32=_0x2cb236[_0x527ebd*(0x11*-0x19f+-0x1*-0x214b+-0x5b9)+(0x1fe3+-0x2205+-0x89*-0x4)];_0x323e70['set'](_0xc3207e[_0x214807*(-0x1a81+-0x1a3*-0x5+0x1255)],_0xc3207e[_0x214807*(0x6*-0x32b+0x138*-0x8+-0x5*-0x5c1)+(-0x1*0x22fb+-0x1dc1+-0x40bd*-0x1)],_0xc3207e[_0x214807*(0x2223+0xe0+-0x20*0x118)+(0x12c3+0x419*0x2+-0x1af3)]),_0x1ca149['set'](_0xc3207e[_0x964591*(-0x15e6*-0x1+0x1121+-0x1382*0x2)],_0xc3207e[_0x964591*(-0x44e+0x215c+-0x5cf*0x5)+(0xee9*-0x1+0x321*-0x9+0x2b13)],_0xc3207e[_0x964591*(-0x5*0x6bc+-0x1054+0x3203)+(-0x5f3*-0x2+0x7c0+-0x13a4)]),_0x25e333['set'](_0xc3207e[_0x113a32*(0x1d8d+0x1*-0x18c9+-0x4c1)],_0xc3207e[_0x113a32*(0x23*0xee+0x1b99+-0x3c20)+(0x5a0+0x1*-0x11a7+-0x23*-0x58)],_0xc3207e[_0x113a32*(0x43c+-0x2620+-0x21*-0x107)+(0x5*0x745+-0xe9*-0x1c+0x8d5*-0x7)]),_0x293134['sub2'](_0x1ca149,_0x323e70),_0x5465b0['sub2'](_0x25e333,_0x323e70),_0x193f66['cross'](_0x293134,_0x5465b0)['normalize'](),_0x49c41e[_0x214807*(0x1*-0xcc5+0x40*0x1b+0x608)]+=_0x193f66['x'],_0x49c41e[_0x214807*(0x84*0x25+-0x1*-0xa86+-0x1d97)+(-0x17*0x10d+0x6e3+0x1149)]+=_0x193f66['y'],_0x49c41e[_0x214807*(-0x4d9+0x146+0x396)+(-0x1*-0x89e+0x898+-0x1134)]+=_0x193f66['z'],_0x49c41e[_0x964591*(-0x6e2+-0x1*-0x153+0x2e*0x1f)]+=_0x193f66['x'],_0x49c41e[_0x964591*(0x123*0x1d+0x12d*0x21+-0xd*0x585)+(0x19c0+0x23f4+-0x9*0x6db)]+=_0x193f66['y'],_0x49c41e[_0x964591*(-0x1*0x2345+-0x53d*-0x2+0x18ce)+(-0x1ff5+0x1*-0x2081+0x4078)]+=_0x193f66['z'],_0x49c41e[_0x113a32*(-0xd98+-0x2*-0xdf1+0x5*-0x2db)]+=_0x193f66['x'],_0x49c41e[_0x113a32*(-0x45*-0x7a+0x146+-0x1*0x2225)+(-0x3f4*0x3+-0x15d5+0x21b2)]+=_0x193f66['y'],_0x49c41e[_0x113a32*(-0x2097+0x875+-0x1825*-0x1)+(0x5*0x70f+-0x172d+-0xc1c)]+=_0x193f66['z'];}for(let _0x1d3ca6=0xd69*-0x2+-0x354+-0xf13*-0x2;_0x1d3ca6<_0x13cff4;_0x1d3ca6++){const _0x15f6ac=_0x49c41e[_0x1d3ca6*(-0xb7d*0x3+-0x11a1*0x1+0x341b)],_0x3def88=_0x49c41e[_0x1d3ca6*(0x39*-0x27+-0x876+0x3*0x5b8)+(-0x1ec7+0x1*-0xfaa+-0xcd*-0x3a)],_0x519ca5=_0x49c41e[_0x1d3ca6*(0x737*0x1+-0x1d70+0x2*0xb1e)+(-0xe94+-0xe3*0xb+0x1857)],_0x25c57c=(-0x19f6+0x819+0x11de)/Math['sqrt'](_0x15f6ac*_0x15f6ac+_0x3def88*_0x3def88+_0x519ca5*_0x519ca5);_0x49c41e[_0x1d3ca6*(0x2bc+-0x989+0xda*0x8)]*=_0x25c57c,_0x49c41e[_0x1d3ca6*(-0x15c1*0x1+0x79a+0xe2a)+(0x189*-0x6+0x22c*-0x9+0x1cc3)]*=_0x25c57c,_0x49c41e[_0x1d3ca6*(0x2e*0x82+0xb*0x2a7+-0x1*0x3486)+(-0x1*0x93a+-0x123*-0x3+-0x3*-0x1f1)]*=_0x25c57c;}return _0x49c41e;},fr=(_0x13af44,_0x2dba08,_0x24c6af,_0x544cee)=>{const _0x3143a8=_0x544cee['length']/(0x4*0x6aa+0x16d+-0x1c12),_0x15e07d=_0x13af44['length']/(-0x2f6+-0x12c0*-0x2+-0x2287),_0xe98299=new T(),_0x48bd4c=new T(),_0x1cbbd1=new T(),_0xa80883=new W(),_0x47f161=new W(),_0x392933=new W(),_0x2a9916=new T(),_0x16942e=new T(),_0x2f1980=new Float32Array(_0x15e07d*(0x4*-0x4c+-0x195f+0x1a92)),_0x2e33ff=new Float32Array(_0x15e07d*(-0x1*-0xc13+-0xb0f+-0x101)),_0x547a8b=[];for(let _0x19942d=-0x2016*0x1+-0x197+-0x21ad*-0x1;_0x19942d<_0x3143a8;_0x19942d++){const _0x202d6f=_0x544cee[_0x19942d*(-0x10*-0x156+0x9cb+-0x4*0x7ca)],_0x2baa2d=_0x544cee[_0x19942d*(0x512+-0x1f50+-0x263*-0xb)+(-0x36*0x24+-0xa81*-0x1+-0x4*0xba)],_0x21004a=_0x544cee[_0x19942d*(0x101+-0x4*0x54a+0x142a)+(-0x61*-0x3d+0xeef+-0xcae*0x3)];_0xe98299['set'](_0x13af44[_0x202d6f*(0x1c02+-0x445*-0x3+-0x6*0x6cd)],_0x13af44[_0x202d6f*(0x13ed*-0x1+0x1896+-0x4a6)+(-0x7*0x142+-0x5a2*0x5+0x24f9)],_0x13af44[_0x202d6f*(0x7ad+0xad7+0x1281*-0x1)+(0x4d*0x40+0xa3*0x18+0xb82*-0x3)]),_0x48bd4c['set'](_0x13af44[_0x2baa2d*(0x2*-0x135b+-0x3*0x79f+0x3d96)],_0x13af44[_0x2baa2d*(0xab*0x1a+0x5*-0x518+-0x1*-0x81d)+(-0x2*-0x463+0x1db*-0x1+-0x6ea)],_0x13af44[_0x2baa2d*(0xebf+0xdd7+0x37*-0x85)+(-0x1a70+0x1*0x23bf+-0x94d)]),_0x1cbbd1['set'](_0x13af44[_0x21004a*(-0x1*0x1f73+-0x219d+0x4113)],_0x13af44[_0x21004a*(-0x1f62+-0x232f+0x4294)+(0x1858+-0x28d+0x1*-0x15ca)],_0x13af44[_0x21004a*(0x13e0+0x6f1*-0x4+-0x7*-0x121)+(-0x424*0x1+-0x12b9*-0x1+-0xe93*0x1)]),_0xa80883['set'](_0x24c6af[_0x202d6f*(-0xec4+0x3fb*0x7+0x1*-0xd17)],_0x24c6af[_0x202d6f*(-0x1af3+-0xe44+0x2939)+(0x115c+-0x4ab*0x3+0x42*-0xd)]),_0x47f161['set'](_0x24c6af[_0x2baa2d*(-0x5b4+0xa*0x329+-0x19e4)],_0x24c6af[_0x2baa2d*(-0x2042+-0x1*0x1bb5+-0x1*-0x3bf9)+(0x3f1*-0x3+-0x1944+0x2518)]),_0x392933['set'](_0x24c6af[_0x21004a*(-0xc2c+0x2071+-0x1443)],_0x24c6af[_0x21004a*(0x7*-0x3fd+-0x121c*-0x1+-0x9d1*-0x1)+(-0x16ca+-0x19a1+0x306c)]);const _0x37b63f=_0x48bd4c['x']-_0xe98299['x'],_0x405643=_0x1cbbd1['x']-_0xe98299['x'],_0x126408=_0x48bd4c['y']-_0xe98299['y'],_0x5180d8=_0x1cbbd1['y']-_0xe98299['y'],_0x378b5a=_0x48bd4c['z']-_0xe98299['z'],_0x1cab8e=_0x1cbbd1['z']-_0xe98299['z'],_0x29f1b2=_0x47f161['x']-_0xa80883['x'],_0x21d045=_0x392933['x']-_0xa80883['x'],_0x421a5c=_0x47f161['y']-_0xa80883['y'],_0x4034ce=_0x392933['y']-_0xa80883['y'],_0x3bea7a=_0x29f1b2*_0x4034ce-_0x21d045*_0x421a5c;if(_0x3bea7a===0x1*-0x10fc+-0x1c47+0x2d43)_0x2a9916['set'](-0x13c7+-0x822+0x1be9*0x1,0x1*-0x26ae+-0x269f*-0x1+0x10,-0x1e1a+-0x207d+0x2fb*0x15),_0x16942e['set'](0x2546+0x1b60+-0xf7*0x43,-0x14c*-0x15+0x1997+-0x34d3,0x1005+0x22*0x47+-0x517*0x5);else{const _0x2d4736=(-0x1653+-0x188d+0x2ee1)/_0x3bea7a;_0x2a9916['set']((_0x4034ce*_0x37b63f-_0x421a5c*_0x405643)*_0x2d4736,(_0x4034ce*_0x126408-_0x421a5c*_0x5180d8)*_0x2d4736,(_0x4034ce*_0x378b5a-_0x421a5c*_0x1cab8e)*_0x2d4736),_0x16942e['set']((_0x29f1b2*_0x405643-_0x21d045*_0x37b63f)*_0x2d4736,(_0x29f1b2*_0x5180d8-_0x21d045*_0x126408)*_0x2d4736,(_0x29f1b2*_0x1cab8e-_0x21d045*_0x378b5a)*_0x2d4736);}_0x2f1980[_0x202d6f*(-0x1*0x729+-0x1470+0x1b9c)+(0x2513*-0x1+-0xa3*0x24+0x3bff)]+=_0x2a9916['x'],_0x2f1980[_0x202d6f*(-0x2*0x473+-0x1d0+0x393*0x3)+(0x4e9*-0x5+-0x1f*0x4+0x190a)]+=_0x2a9916['y'],_0x2f1980[_0x202d6f*(-0xb*-0x381+0x14d4+-0x3b5c)+(-0x21c9+-0xd*0x2c8+0x45f3)]+=_0x2a9916['z'],_0x2f1980[_0x2baa2d*(0x1f4e+-0x1542+-0xa09)+(0x11e8+0x1435+-0x261d)]+=_0x2a9916['x'],_0x2f1980[_0x2baa2d*(0xbea+0x976+-0x155d)+(-0x151f+0x1ecf+0x1*-0x9af)]+=_0x2a9916['y'],_0x2f1980[_0x2baa2d*(0x10bb+-0x1d5d*-0x1+-0x2e15)+(-0x463+0x46a+0x1*-0x5)]+=_0x2a9916['z'],_0x2f1980[_0x21004a*(0x1011+0xdc*-0x3+-0xd7a)+(0x18f1+-0x18d8+-0x19)]+=_0x2a9916['x'],_0x2f1980[_0x21004a*(-0x1135+-0x25*0x10a+0x37aa)+(-0x1f2e+-0x1683+0x35b2)]+=_0x2a9916['y'],_0x2f1980[_0x21004a*(0x2134+0x7*-0x251+-0x52*0x35)+(-0x2b2*-0xd+-0x4*0x51b+0x6e*-0x22)]+=_0x2a9916['z'],_0x2e33ff[_0x202d6f*(-0x14a+0x20e+-0xc1)+(0xf56+0x44+-0xf9a)]+=_0x16942e['x'],_0x2e33ff[_0x202d6f*(0x29*0xa6+0x1*0x17d7+-0x326a)+(0x220a+0x136c+0x23*-0x187)]+=_0x16942e['y'],_0x2e33ff[_0x202d6f*(0x2346+-0x26c3+0x70*0x8)+(0x4*-0x81d+-0x1*0x4b2+0x2528)]+=_0x16942e['z'],_0x2e33ff[_0x2baa2d*(-0x2584+0x2574+0x13)+(-0x21d*-0x9+0x1db2+0x30b7*-0x1)]+=_0x16942e['x'],_0x2e33ff[_0x2baa2d*(-0x1*-0xbad+0x9ce+0x1578*-0x1)+(-0x588+0x236b*0x1+-0x1fe*0xf)]+=_0x16942e['y'],_0x2e33ff[_0x2baa2d*(-0x1bc8+0x2ab*0xd+-0x6e4)+(-0x2540+-0x11a7+0x36e9*0x1)]+=_0x16942e['z'],_0x2e33ff[_0x21004a*(-0xb*-0xd+0xfdf*0x1+-0x106b)+(0x1bc6+0x2511+-0xb*0x5e5)]+=_0x16942e['x'],_0x2e33ff[_0x21004a*(0x1518*0x1+0x235a+-0x1*0x386f)+(0x81*-0xb+-0x10a+-0x2*-0x34b)]+=_0x16942e['y'],_0x2e33ff[_0x21004a*(-0xd6*-0x1+-0x13a7+0x12d4)+(0x26c+-0x1254+0xfea)]+=_0x16942e['z'];}const _0x16559f=new T(),_0x3222ee=new T(),_0x1541ea=new T(),_0x20a3a8=new T();for(let _0x2770e7=0x97*0x5+0x237f+-0x2672;_0x2770e7<_0x15e07d;_0x2770e7++){_0x1541ea['set'](_0x2dba08[_0x2770e7*(0x294+-0x432+-0x1a1*-0x1)],_0x2dba08[_0x2770e7*(0x2409+0x26*0xd+-0x4*0x97d)+(-0x4ea+-0x5*-0x2ba+-0x8b7)],_0x2dba08[_0x2770e7*(-0x1891+0xe*0xba+0xe68)+(-0x88*-0x4+-0xd28+0xb0a)]),_0x16559f['set'](_0x2f1980[_0x2770e7*(-0x469+0xa1d+-0x5b1)],_0x2f1980[_0x2770e7*(0x63*0x57+0x2372+-0x2*0x228a)+(-0x111f+-0x1266+0x2386)],_0x2f1980[_0x2770e7*(0x128f*-0x2+0x1*-0x183b+0x3d5c)+(-0x2c+-0x6*-0x27b+0x4*-0x3ad)]),_0x3222ee['set'](_0x2e33ff[_0x2770e7*(0x9*-0x3ab+-0x2*-0x1f1+0x5d4*0x5)],_0x2e33ff[_0x2770e7*(0x2015*-0x1+-0x1532+0x354a)+(-0x1d1d*0x1+-0xa5a+0xd28*0x3)],_0x2e33ff[_0x2770e7*(-0x15c8+-0x788*0x3+0x2c63)+(-0x1401+0xc6f+-0x61*-0x14)]);const _0xa1338=_0x1541ea['dot'](_0x16559f);_0x20a3a8['copy'](_0x1541ea)['mulScalar'](_0xa1338),_0x20a3a8['sub2'](_0x16559f,_0x20a3a8)['normalize'](),_0x547a8b[_0x2770e7*(-0x3*0xbe6+0x21e+0x64*0x56)]=_0x20a3a8['x'],_0x547a8b[_0x2770e7*(-0xecb*0x1+0x2229+-0x135a*0x1)+(-0x1*-0x4d7+0x2e*-0xa0+0x17ea)]=_0x20a3a8['y'],_0x547a8b[_0x2770e7*(0xcc5*0x1+-0x1520*0x1+0x85f)+(-0xd*0x2bd+-0x1a75*-0x1+0x926*0x1)]=_0x20a3a8['z'],_0x20a3a8['cross'](_0x1541ea,_0x16559f),_0x547a8b[_0x2770e7*(0x1f5d+-0x921+-0x1638)+(-0x4*-0x25f+-0x127a+0x901)]=_0x20a3a8['dot'](_0x3222ee)<-0x7*0x1b4+-0x1d2f+0x291b?-(0x227f+0x1*-0x8c3+0x7*-0x3ad):-0x1a29*-0x1+0x1*0x5ad+-0x1fd5;}return _0x547a8b;};class mn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=O0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const $u=(0x37b*0x5+0x166*0x12+-0x1*0x2a8f)/(0x13d*-0x1+-0x5d1*0x1+-0x74e*-0x1),L_=0x1*-0xc7b+-0x1a87+-0x2703*-0x1-$u*(0x1*-0x955+-0x19dc+0x2333);class qu extends mn{constructor(_0x54c61f={}){super();const _0x4cb4c5=_0x54c61f['halfExtent'+'s']??new T(0x1c8e+-0x8e5+0x7*-0x2cf+0.5,0x5*-0x6f3+0x830*-0x1+0x2aef+0.5,0x18a*0x18+-0x2203*0x1+-0x2ed+0.5),_0x605d04=_0x54c61f['widthSegme'+'nts']??-0x1d73+-0x1*-0x12d+0x1c47,_0x4fb472=_0x54c61f['lengthSegm'+'ents']??0x8bc+-0x414+0x18d*-0x3,_0x478f0e=_0x54c61f['heightSegm'+'ents']??0x5e4+0x913*-0x1+0x30*0x11,_0x409111=_0x54c61f['yOffset']??0x17a*-0x12+-0x189b+0x332f*0x1,_0x7c00cc=-_0x4cb4c5['y']+_0x409111,_0x6ce36b=_0x4cb4c5['y']+_0x409111,_0x155fca=[new T(-_0x4cb4c5['x'],_0x7c00cc,_0x4cb4c5['z']),new T(_0x4cb4c5['x'],_0x7c00cc,_0x4cb4c5['z']),new T(_0x4cb4c5['x'],_0x6ce36b,_0x4cb4c5['z']),new T(-_0x4cb4c5['x'],_0x6ce36b,_0x4cb4c5['z']),new T(_0x4cb4c5['x'],_0x7c00cc,-_0x4cb4c5['z']),new T(-_0x4cb4c5['x'],_0x7c00cc,-_0x4cb4c5['z']),new T(-_0x4cb4c5['x'],_0x6ce36b,-_0x4cb4c5['z']),new T(_0x4cb4c5['x'],_0x6ce36b,-_0x4cb4c5['z'])],_0x2c38e2=[[-0x1c19*-0x1+0x3*-0xc34+-0x883*-0x1,0x19c*-0x3+-0x1499+0xd9*0x1e,-0x1e38+0x1*0x23be+-0x583],[0x17d4+-0xf58+-0x878,0x6b*-0x1d+-0x20c2+0x2ce6,-0x237e+0x101b+-0xa*-0x1f1],[-0x11*0x23a+0x20f0+0x4ed,-0x4*-0x1a1+-0x6a0*0x1+0x1e,-0x1299+0xf5d+0x342],[-0x139*-0xc+-0x2*-0xf46+0x5*-0x90b,-0x2*-0x255+-0x1a5b+-0x15b1*-0x1,-0x3*0x3cb+-0x1285+0x1dea],[0xd6d+0x2*0xa8+0x5c*-0x29,0x2117+0x2011*0x1+0x4124*-0x1,-0x2406+0x25*-0xf4+0x2*0x23a6],[-0x16c1*-0x1+-0x8*0x369+0x61*0xc,0x2*-0x12f7+0x1fb1+0x63d,0x19c2+0x4*0x254+0x2*-0x1186]],_0x40060d=[[0x1*-0x266f+0x563+-0xeb*-0x24,0x21a8+0x1e9a+-0x292*0x19,-0x2496+-0x9*-0x369+0x97*0xa],[-0x5b*-0x67+-0xbf+-0x11ef*0x2,0x1c94+-0x23d9+-0x1*-0x745,-(0x1*0x208f+-0x3*0x345+0x3*-0x795)],[-0x3ba+-0xdfb*-0x1+0x4b*-0x23,0x4*-0x644+0x15a8+0x369,-0x3*0x4ac+-0x1*-0x1a74+-0xc70],[0xd09+0x25d2*-0x1+0x18c9,-(0x6b4+-0x217f+-0x157*-0x14),-0x5*0x56d+0x6*0x2f+-0x1*-0x1a07],[-0x1850+0x369+-0xa74*-0x2,-0x14fb*0x1+0x23b5+0x3a*-0x41,-0x5*-0x21b+0x1c3+0x625*-0x2],[-(-0xfb0+-0x1*-0x15fe+-0x64d*0x1),0x1*-0x2683+0x36d*0x1+-0x5d9*-0x6,0x2f*-0x15+0xaeb+-0x710]],_0x8141bb={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x37b1ca=[],_0x1461f0=[],_0x169139=[],_0x397f55=[];let _0x1b7252=0x922+-0x1c5c+0x133a;const _0x562f6f=(_0x398bfd,_0x74a282,_0x1c2470)=>{const _0x289ee2=new T(),_0x52502c=new T(),_0x30670c=new T(),_0x5257d1=new T();for(let _0x43ca8f=-0x1b2*0xc+-0x1068+-0x38*-0xa8;_0x43ca8f<=_0x74a282;_0x43ca8f++)for(let _0x54f1f6=-0x7cd*-0x3+0xa*0x1e7+-0x2a6d;_0x54f1f6<=_0x1c2470;_0x54f1f6++){_0x289ee2['lerp'](_0x155fca[_0x2c38e2[_0x398bfd][-0x1696+0x2598+-0xf02]],_0x155fca[_0x2c38e2[_0x398bfd][0x1918+-0x26d6+0xcf*0x11]],_0x43ca8f/_0x74a282),_0x52502c['lerp'](_0x155fca[_0x2c38e2[_0x398bfd][0x1a7c+-0x162a+-0x452]],_0x155fca[_0x2c38e2[_0x398bfd][-0x197*-0x17+0x13f*-0xf+0x11de*-0x1]],_0x54f1f6/_0x1c2470),_0x30670c['sub2'](_0x52502c,_0x155fca[_0x2c38e2[_0x398bfd][-0x210d+0x25*0x1c+0xa5*0x2d]]),_0x5257d1['add2'](_0x289ee2,_0x30670c);let _0x2812bd=_0x43ca8f/_0x74a282,_0x5d620f=_0x54f1f6/_0x1c2470;_0x37b1ca['push'](_0x5257d1['x'],_0x5257d1['y'],_0x5257d1['z']),_0x1461f0['push'](_0x40060d[_0x398bfd][0x151c+0x100d+-0x2529],_0x40060d[_0x398bfd][-0x10*0x2b+0x2581*-0x1+0x2832],_0x40060d[_0x398bfd][0x2405+0x2*0x59d+-0x2f3d]),_0x169139['push'](_0x2812bd,0x8be+-0x1a56+0x1199-_0x5d620f),_0x2812bd=_0x2812bd*L_+$u,_0x5d620f=_0x5d620f*L_+$u,_0x2812bd/=-0x1*0x1ba7+-0x2525+0x1*0x40cf,_0x5d620f/=-0x76f+-0x997*-0x1+-0x1*0x225,_0x2812bd+=_0x398bfd%(-0x3*-0xc86+0x166a+0x49d*-0xd)/(0x3*0xa06+-0x13*-0x22+-0x2095),_0x5d620f+=Math['floor'](_0x398bfd/(-0xb*-0x2cf+0x3d*0x89+-0x3f87*0x1))/(0xc05*0x3+-0xf7f+-0x148d),_0x43ca8f<_0x74a282&&_0x54f1f6<_0x1c2470&&(_0x397f55['push'](_0x1b7252+_0x1c2470+(0xe4a+-0x23*0x20+-0x2b*0x3b),_0x1b7252+(-0x1265*-0x2+-0x8b4+-0x1c15),_0x1b7252),_0x397f55['push'](_0x1b7252+_0x1c2470+(-0x5*-0x419+0x6*-0x43f+0x4fe),_0x1b7252+_0x1c2470+(0x10*-0x1b2+0x292+0x1890),_0x1b7252+(-0x1727+-0x1a2d+0x3155))),_0x1b7252++;}};_0x562f6f(_0x8141bb['FRONT'],_0x605d04,_0x478f0e),_0x562f6f(_0x8141bb['BACK'],_0x605d04,_0x478f0e),_0x562f6f(_0x8141bb['TOP'],_0x605d04,_0x4fb472),_0x562f6f(_0x8141bb['BOTTOM'],_0x605d04,_0x4fb472),_0x562f6f(_0x8141bb['RIGHT'],_0x4fb472,_0x478f0e),_0x562f6f(_0x8141bb['LEFT'],_0x4fb472,_0x478f0e),this['positions']=_0x37b1ca,this['normals']=_0x1461f0,this['uvs']=_0x169139,this['uvs1']=_0x169139,this['indices']=_0x397f55,_0x54c61f['calculateT'+'angents']&&(this['tangents']=fr(_0x37b1ca,_0x1461f0,_0x169139,_0x397f55));}}class B0 extends mn{constructor(_0x576abc={}){super();const _0x30399a=_0x576abc['radius']??-0x1*0x419+0x20c7+-0x1cae+0.5,_0xfda079=_0x576abc['latitudeBa'+'nds']??-0x6e*-0x18+-0xad*-0x19+-0x1b25,_0x29d1d8=_0x576abc['longitudeB'+'ands']??-0x7ae*0x2+-0x1a76*0x1+-0x6fb*-0x6,_0x10515d=[],_0xec60ea=[],_0x2386b6=[],_0x5a8111=[];for(let _0x4d9d01=-0xc*0x1d1+0x26c7+-0x10fb;_0x4d9d01<=_0xfda079;_0x4d9d01++){const _0x180ad6=_0x4d9d01*Math['PI']/_0xfda079,_0x3b3199=Math['sin'](_0x180ad6),_0x3669be=Math['cos'](_0x180ad6);for(let _0x2fb971=-0x4*-0xca+-0xc01+-0x5*-0x1c5;_0x2fb971<=_0x29d1d8;_0x2fb971++){const _0xc2d56a=_0x2fb971*(-0x1*0xa3d+0x205b+-0x161c)*Math['PI']/_0x29d1d8-Math['PI']/(0x236b*0x1+0x165d+-0x39c6),_0xa8029b=Math['sin'](_0xc2d56a),_0x1710a6=Math['cos'](_0xc2d56a)*_0x3b3199,_0x36f820=_0x3669be,_0x4329f5=_0xa8029b*_0x3b3199,_0x21216d=0x21d2+-0xa86+-0x174b-_0x2fb971/_0x29d1d8,_0x536180=0x1*-0x16bb+0x1c63+-0x5a7-_0x4d9d01/_0xfda079;_0x10515d['push'](_0x1710a6*_0x30399a,_0x36f820*_0x30399a,_0x4329f5*_0x30399a),_0xec60ea['push'](_0x1710a6,_0x36f820,_0x4329f5),_0x2386b6['push'](_0x21216d,-0xef*0x19+-0xbf*0x2b+0x376d-_0x536180);}}for(let _0x40ea59=0x265c+-0x68*0x52+-0x50c;_0x40ea59<_0xfda079;++_0x40ea59)for(let _0x3fa1ff=0xc7*0x18+-0x261e*-0x1+-0x38c6;_0x3fa1ff<_0x29d1d8;++_0x3fa1ff){const _0x58d2a0=_0x40ea59*(_0x29d1d8+(-0x8bb*0x2+-0x1906*0x1+0x2a7d))+_0x3fa1ff,_0x352b08=_0x58d2a0+_0x29d1d8+(0x1253*-0x2+0x770+-0x1d37*-0x1);_0x5a8111['push'](_0x58d2a0+(0x20e4*0x1+-0x52*-0x1a+-0x3*0xdbd),_0x352b08,_0x58d2a0),_0x5a8111['push'](_0x58d2a0+(-0xa7f+-0x1*0x11fb+0x1c7b*0x1),_0x352b08+(0x107d+-0xaa4*0x3+0xf70),_0x352b08);}this['positions']=_0x10515d,this['normals']=_0xec60ea,this['uvs']=_0x2386b6,this['uvs1']=_0x2386b6,this['indices']=_0x5a8111,_0x576abc['calculateT'+'angents']&&(this['tangents']=fr(_0x10515d,_0xec60ea,_0x2386b6,_0x5a8111));}}class p1 extends B0{constructor(_0x19eea5={}){const _0x280554=_0x19eea5['latitudeBa'+'nds']??0x15c*-0x10+-0x118d+0x275d,_0x213691=_0x19eea5['longitudeB'+'ands']??0x1b59+-0x1e8a*0x1+0x7*0x77;super({'radius':0.5,'latitudeBands':_0x280554,'longitudeBands':_0x213691});const _0x3fe670=-0xe5d*-0x1+0x2076+-0x1*0x2ed3+0.1,_0x3d508b=-0x13c3*0x1+-0x2081+-0x3*-0x116c+0.95,_0x47d3f5=_0x3d508b*_0x3d508b,_0x528728=this['positions'];for(let _0x4760d5=0x1bc7+0x682+0x43*-0x83;_0x4760d5<_0x528728['length'];_0x4760d5+=-0x107b+0x3cb*-0x5+-0x139*-0x1d){const _0x4e95db=_0x528728[_0x4760d5]/(0x1741*0x1+-0x3*-0x3ab+-0x2242+0.5);let _0x1d6e30=_0x528728[_0x4760d5+(-0x87d*0x2+-0x1ece+0x1*0x2fc9)]/(0x2*0xd9c+0x24a6+-0x28e*0x19+0.5);const _0x2eed5a=_0x528728[_0x4760d5+(-0x1d1+0xe45+-0x1*0xc72)]/(0x35b*-0x1+0x140b+0x10b*-0x10+0.5);_0x1d6e30<0xdc5+0x53*-0x17+-0x2*0x328&&(_0x1d6e30*=0xbab+0x56d*-0x4+0xa09*0x1+0.3,_0x4e95db*_0x4e95db+_0x2eed5a*_0x2eed5a<_0x47d3f5&&(_0x1d6e30=-(0x53*0x35+0x21ac+0x2f*-0x115+0.1))),_0x1d6e30+=_0x3fe670,_0x1d6e30*=0xf69+0x24c7+-0x29c*0x14+0.5,_0x528728[_0x4760d5+(0x1c0f+0x1*0xef6+-0xac1*0x4)]=_0x1d6e30;}}}class So{static['create'](_0x9fe83c,_0x1e634b){switch(_0x1e634b){case tw:return So['box'](_0x9fe83c);case sw:return So['dome'](_0x9fe83c);}return v['assert'](_0x1e634b===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x1e634b),So['infinite'](_0x9fe83c);}static['infinite'](_0x35057f){return Ie['fromGeomet'+'ry'](_0x35057f,new qu(_0x35057f));}static['box'](_0x45f948){return Ie['fromGeomet'+'ry'](_0x45f948,new qu({'yOffset':0.5}));}static['dome'](_0x9a9571){const _0x11d277=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x11d277['normals']=void(-0x9*-0x20b+0x91*-0x4+0x101f*-0x1),_0x11d277['uvs']=void(-0x7*-0x337+-0x16*-0x1b9+-0x7*0x8a1),Ie['fromGeomet'+'ry'](_0x9a9571,_0x11d277);}}class m1{constructor(_0x313317,_0x15702f,_0x5c4210,_0xf47630,_0x3d1383){c(this,'meshInstan'+'ce',null);const _0x4b0f0c=new Ia({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x4b0f0c['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Ms['decodeFunc'](_0xf47630['encoding'])),_0x3d1383!==xo&&_0x4b0f0c['setDefine']('SKYMESH',''),_0xf47630['cubemap']&&_0x4b0f0c['setDefine']('SKY_CUBEMA'+'P',''),_0x4b0f0c['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x15702f['skyboxHigh'+'lightMulti'+'plier']),_0xf47630['cubemap']?_0x4b0f0c['setParamet'+'er']('texture_cu'+'beMap',_0xf47630):(_0x4b0f0c['setParamet'+'er']('texture_en'+'vAtlas',_0xf47630),_0x4b0f0c['setParamet'+'er']('mipLevel',_0x15702f['skyboxMip'])),_0x4b0f0c['cull']=mo,_0x4b0f0c['depthWrite']=!(0x1173+0x159d+-0x270f);const _0x4f2325=_0x15702f['layers']['getLayerBy'+'Id'](bp);if(_0x4f2325){const _0x362343=So['create'](_0x313317,_0x3d1383),_0x229ffa=new Le(_0x362343,_0x4b0f0c,_0x5c4210);this['meshInstan'+'ce']=_0x229ffa,_0x229ffa['cull']=!(-0x1027+0x1149+-0x121),_0x229ffa['pick']=!(0x527*-0x3+0x1*0x574+-0x2*-0x501),_0x4f2325['addMeshIns'+'tances']([_0x229ffa]),this['skyLayer']=_0x4f2325;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x48bb6a){c(this,'_type',xo),c(this,'_center',new T(0x16b1*-0x1+-0x41b*-0x1+0x1296,0x1*0x1ce+-0x13*-0xfb+0xa37*-0x2,0x20d7+0x104f+-0x1*0x3126)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x48bb6a['device'],this['scene']=_0x48bb6a,this['center']=new T(-0x2*0xb8f+-0xb3*0xe+0x8*0x41d,-0x2b6+-0x317*-0x4+-0x9a5,-0x1*0x23f5+-0x6d6+0x7*0x61d),this['centerArra'+'y']=new Float32Array(-0x103*-0x2+-0x356*-0x8+0x4f*-0x5d),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x25a4d8){this['type']=_0x25a4d8['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x25a4d8['skyMeshPos'+'ition']??[0x5*-0x5d4+0xcd*0xf+-0x1*-0x1121,-0xce2+-0x231f+0x3001,-0xd5f*-0x2+-0x1fd0+0x512])),this['node']['setLocalEu'+'lerAngles'](new T(_0x25a4d8['skyMeshRot'+'ation']??[-0x1473+0xc1c*0x1+0x857,0x1*-0x2635+-0x2361+0x4996,0x141f+-0x25af+0x1*0x1190])),this['node']['setLocalSc'+'ale'](new T(_0x25a4d8['skyMeshSca'+'le']??[0x1c1*0x12+-0x2*-0xfbe+0x1*-0x3f0d,0x3*-0x73+0x9*-0x26+0x2b0*0x1,-0x1*-0x1e35+0x1b6*0x16+-0x87b*0x8])),_0x25a4d8['skyCenter']&&(this['_center']=new T(_0x25a4d8['skyCenter']));}set['type'](_0x5814e4){this['_type']!==_0x5814e4&&(this['_type']=_0x5814e4,this['scene']['updateShad'+'ers']=!(0x4*-0x4fd+0xb*0x31e+-0xe56),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x2e70cf){this['_center']['copy'](_0x2e70cf);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0xee02e3=this['scene']['_getSkybox'+'Tex']();_0xee02e3&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0xee02e3,this['type']),this['scene']['fire']('set:skybox',_0xee02e3));}['resetSkyMe'+'sh'](){var _0x41ca2c;(_0x41ca2c=this['skyMesh'])==null||_0x41ca2c['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x587649,centerArray:_0x4a6367}=this,_0x715acd=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x587649,_0x715acd),_0x4a6367[-0x48e*0x3+-0x2689+-0x17*-0x245]=_0x715acd['x'],_0x4a6367[-0x1f6d+0x1a1d*0x1+0x551]=_0x715acd['y'],_0x4a6367[0x1*0x731+-0x1*-0xf2b+-0x165a]=_0x715acd['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x4a6367);}}}const Wh=new De();Wh['worldTrans'+'form']=q['IDENTITY'],Wh['_dirtyWorl'+'d']=Wh['_dirtyNorm'+'al']=!(-0xef+0x748+-0x658);class g1{constructor(_0x55840b,_0x2250b2,_0x444b22){this['material']=_0x2250b2,this['layer']=_0x444b22,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x55840b),this['meshInstan'+'ce']=null;}['addLines'](_0x42a83e,_0x3bae33){const _0x1962e0=this['positions'],_0x459af0=_0x42a83e['length'];for(let _0x5a475b=0xa*-0x3c7+-0x13de+0x39a4;_0x5a475b<_0x459af0;_0x5a475b++){const _0x556d2c=_0x42a83e[_0x5a475b];_0x1962e0['push'](_0x556d2c['x'],_0x556d2c['y'],_0x556d2c['z']);}const _0x295baf=this['colors'];if(_0x3bae33['length'])for(let _0x3e1b9b=-0x13cf+-0x7*0x15b+0x753*0x4;_0x3e1b9b<_0x459af0;_0x3e1b9b++){const _0x41ce26=_0x3bae33[_0x3e1b9b];_0x295baf['push'](_0x41ce26['r'],_0x41ce26['g'],_0x41ce26['b'],_0x41ce26['a']);}else{for(let _0x65b32e=0x1*-0x22b7+0x855+-0x1*-0x1a62;_0x65b32e<_0x459af0;_0x65b32e++)_0x295baf['push'](_0x3bae33['r'],_0x3bae33['g'],_0x3bae33['b'],_0x3bae33['a']);}}['addLinesAr'+'rays'](_0x481b7e,_0x21b2bb){const _0x213c65=this['positions'];for(let _0x21c365=0x984+-0x6ae+0x6*-0x79;_0x21c365<_0x481b7e['length'];_0x21c365+=0x2*0x14f+-0x909*-0x1+-0xba4)_0x213c65['push'](_0x481b7e[_0x21c365],_0x481b7e[_0x21c365+(0x1cf5+-0x1a*0x13+-0x1*0x1b06)],_0x481b7e[_0x21c365+(0x4a7+-0x1109+-0x4*-0x319)]);const _0x3317c9=this['colors'];if(_0x21b2bb['length']){for(let _0x2acbe5=0x240f+-0x268d+0x27e;_0x2acbe5<_0x21b2bb['length'];_0x2acbe5+=0x1*0x1cf9+-0x23c5+0x6d0)_0x3317c9['push'](_0x21b2bb[_0x2acbe5],_0x21b2bb[_0x2acbe5+(-0x4ea+0xbae+0x1*-0x6c3)],_0x21b2bb[_0x2acbe5+(0x9e5+0x5*-0x486+-0x1*-0xcbb)],_0x21b2bb[_0x2acbe5+(0x5*0xaf+0x1eb7+-0x221f)]);}else{const _0x1c3fe3=_0x481b7e['length']/(0x2239+0x1414+-0x2*0x1b25);for(let _0x5bd16d=0x4*-0x93c+-0x106*-0xd+-0xb*-0x226;_0x5bd16d<_0x1c3fe3;_0x5bd16d++)_0x3317c9['push'](_0x21b2bb['r'],_0x21b2bb['g'],_0x21b2bb['b'],_0x21b2bb['a']);}}['onPreRende'+'r'](_0x259c54,_0x52d380){this['positions']['length']>0x3e4+0x24f2+0x1*-0x28d6&&this['material']['transparen'+'t']===_0x52d380&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Rc,!(-0x2*-0x22+0x590+0x47*-0x15)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Wh)),_0x259c54['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x1*-0xd63+-0x2*-0x881+-0x1e65,this['colors']['length']=-0x11fd+-0x390+0x158d;}}class y1{constructor(_0x52a1c1){this['device']=_0x52a1c1,this['map']=new Map();}['getBatch'](_0x48fd27,_0x6dab1c){let _0x69fcd1=this['map']['get'](_0x48fd27);return _0x69fcd1||(_0x69fcd1=new g1(this['device'],_0x48fd27,_0x6dab1c),this['map']['set'](_0x48fd27,_0x69fcd1)),_0x69fcd1;}['onPreRende'+'r'](_0x5b6c82,_0x2cdb6b){this['map']['forEach'](_0xf86bd2=>{_0xf86bd2['onPreRende'+'r'](_0x5b6c82,_0x2cdb6b);});}['clear'](){this['map']['forEach'](_0x5de5e4=>_0x5de5e4['clear']());}}const ts=[],Fn=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':Et}};class S1{constructor(_0x29793c){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x29793c,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x5c71f8){const _0x1aa7f5=new Ia(x1);return _0x1aa7f5['blendType']=Ot,_0x1aa7f5['depthTest']=_0x5c71f8,_0x1aa7f5['update'](),_0x1aa7f5;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0xef0+0x84a+-0x173a))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x108d*-0x1+0x301*0x7+-0x479))),this['_materialN'+'oDepth'];}['getBatch'](_0x210167,_0x5cef37){let _0x263a47=this['batchesMap']['get'](_0x210167);_0x263a47||(_0x263a47=new y1(this['device']),this['batchesMap']['set'](_0x210167,_0x263a47)),this['allBatches']['add'](_0x263a47);const _0x2cb9a1=_0x5cef37?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x263a47['getBatch'](_0x2cb9a1,_0x210167);}['getShaderD'+'esc'](_0x339188,_0x1f1e20){return this['shaderDesc'+'s']['has'](_0x339188)||this['shaderDesc'+'s']['set'](_0x339188,{'uniqueName':'DebugShade'+'r:'+_0x339188,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x1f1e20,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x339188);}['getTexture'+'ShaderDesc'](_0x33e4c8){const _0x442c7c=Ms['decodeFunc'](_0x33e4c8);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x33e4c8,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x442c7c+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0xc41*-0x3+-0xe25+0xc1*-0x1e+0.5),-(0x219*-0xd+-0x5*0x51+0x1*0x1cda+0.5),0xe9*0x3+-0x725+0x46a,0x79+0x6a7+-0x30*0x26+0.5,-(0x269*0xe+0x96a+-0x2b28+0.5),-0x436+0x1*-0x1e21+-0x1*-0x2257,-(0x458+0x8*-0x1de+0xa98+0.5),0x2500+-0x524+-0x7f7*0x4+0.5,-0x1f71+-0x501+-0x1239*-0x2,-0x905+0x246f+0x27e*-0xb+0.5,0x64f*0x4+-0x1c59+0x31d+0.5,0x1cde*-0x1+-0x1498+0x2*0x18bb]),this['quadMesh']['update'](or)),this['quadMesh'];}['drawMesh'](_0x14fee0,_0x441cf9,_0x2a94be,_0x2c97a2,_0x1c3cb3){if(!_0x2c97a2){const _0x2d40be=this['getGraphNo'+'de'](_0x441cf9);_0x2c97a2=new Le(_0x2a94be,_0x14fee0,_0x2d40be);}let _0x5b96af=this['layerMeshI'+'nstances']['get'](_0x1c3cb3);_0x5b96af||(_0x5b96af=[],this['layerMeshI'+'nstances']['set'](_0x1c3cb3,_0x5b96af)),_0x5b96af['push'](_0x2c97a2);}['drawWireAl'+'ignedBox'](_0x573bd1,_0x3007d9,_0x14972f,_0x300e9d,_0xe8af95,_0x7155ea){if(_0x7155ea){const _0x55f9ab=(_0x4d2fd2,_0x2ae2dd,_0x3b958b)=>{Fn['set'](_0x4d2fd2,_0x2ae2dd,_0x3b958b),_0x7155ea['transformP'+'oint'](Fn,Fn),ts['push'](Fn['x'],Fn['y'],Fn['z']);};_0x55f9ab(_0x573bd1['x'],_0x573bd1['y'],_0x573bd1['z']),_0x55f9ab(_0x573bd1['x'],_0x3007d9['y'],_0x573bd1['z']),_0x55f9ab(_0x573bd1['x'],_0x3007d9['y'],_0x573bd1['z']),_0x55f9ab(_0x3007d9['x'],_0x3007d9['y'],_0x573bd1['z']),_0x55f9ab(_0x3007d9['x'],_0x3007d9['y'],_0x573bd1['z']),_0x55f9ab(_0x3007d9['x'],_0x573bd1['y'],_0x573bd1['z']),_0x55f9ab(_0x3007d9['x'],_0x573bd1['y'],_0x573bd1['z']),_0x55f9ab(_0x573bd1['x'],_0x573bd1['y'],_0x573bd1['z']),_0x55f9ab(_0x573bd1['x'],_0x573bd1['y'],_0x3007d9['z']),_0x55f9ab(_0x573bd1['x'],_0x3007d9['y'],_0x3007d9['z']),_0x55f9ab(_0x573bd1['x'],_0x3007d9['y'],_0x3007d9['z']),_0x55f9ab(_0x3007d9['x'],_0x3007d9['y'],_0x3007d9['z']),_0x55f9ab(_0x3007d9['x'],_0x3007d9['y'],_0x3007d9['z']),_0x55f9ab(_0x3007d9['x'],_0x573bd1['y'],_0x3007d9['z']),_0x55f9ab(_0x3007d9['x'],_0x573bd1['y'],_0x3007d9['z']),_0x55f9ab(_0x573bd1['x'],_0x573bd1['y'],_0x3007d9['z']),_0x55f9ab(_0x573bd1['x'],_0x573bd1['y'],_0x573bd1['z']),_0x55f9ab(_0x573bd1['x'],_0x573bd1['y'],_0x3007d9['z']),_0x55f9ab(_0x573bd1['x'],_0x3007d9['y'],_0x573bd1['z']),_0x55f9ab(_0x573bd1['x'],_0x3007d9['y'],_0x3007d9['z']),_0x55f9ab(_0x3007d9['x'],_0x3007d9['y'],_0x573bd1['z']),_0x55f9ab(_0x3007d9['x'],_0x3007d9['y'],_0x3007d9['z']),_0x55f9ab(_0x3007d9['x'],_0x573bd1['y'],_0x573bd1['z']),_0x55f9ab(_0x3007d9['x'],_0x573bd1['y'],_0x3007d9['z']);}else ts['push'](_0x573bd1['x'],_0x573bd1['y'],_0x573bd1['z'],_0x573bd1['x'],_0x3007d9['y'],_0x573bd1['z'],_0x573bd1['x'],_0x3007d9['y'],_0x573bd1['z'],_0x3007d9['x'],_0x3007d9['y'],_0x573bd1['z'],_0x3007d9['x'],_0x3007d9['y'],_0x573bd1['z'],_0x3007d9['x'],_0x573bd1['y'],_0x573bd1['z'],_0x3007d9['x'],_0x573bd1['y'],_0x573bd1['z'],_0x573bd1['x'],_0x573bd1['y'],_0x573bd1['z'],_0x573bd1['x'],_0x573bd1['y'],_0x3007d9['z'],_0x573bd1['x'],_0x3007d9['y'],_0x3007d9['z'],_0x573bd1['x'],_0x3007d9['y'],_0x3007d9['z'],_0x3007d9['x'],_0x3007d9['y'],_0x3007d9['z'],_0x3007d9['x'],_0x3007d9['y'],_0x3007d9['z'],_0x3007d9['x'],_0x573bd1['y'],_0x3007d9['z'],_0x3007d9['x'],_0x573bd1['y'],_0x3007d9['z'],_0x573bd1['x'],_0x573bd1['y'],_0x3007d9['z'],_0x573bd1['x'],_0x573bd1['y'],_0x573bd1['z'],_0x573bd1['x'],_0x573bd1['y'],_0x3007d9['z'],_0x573bd1['x'],_0x3007d9['y'],_0x573bd1['z'],_0x573bd1['x'],_0x3007d9['y'],_0x3007d9['z'],_0x3007d9['x'],_0x3007d9['y'],_0x573bd1['z'],_0x3007d9['x'],_0x3007d9['y'],_0x3007d9['z'],_0x3007d9['x'],_0x573bd1['y'],_0x573bd1['z'],_0x3007d9['x'],_0x573bd1['y'],_0x3007d9['z']);this['getBatch'](_0xe8af95,_0x300e9d)['addLinesAr'+'rays'](ts,_0x14972f),ts['length']=0x1392+-0x1d50+0x1d*0x56;}['drawWireSp'+'here'](_0x467d55,_0x3a5107,_0x2d8e9c,_0x12732c,_0x59abdd,_0x39a4be){const _0x37ac0a=(-0x1d8+0x2*0x129b+-0x235c*0x1)*Math['PI']/_0x12732c;let _0x535370=0x5d5*0x5+-0x2*-0xd1c+-0x3761;for(let _0x15edd6=0xab8+-0x1efe+0x1*0x1446;_0x15edd6<_0x12732c;_0x15edd6++){const _0xa45182=Math['sin'](_0x535370),_0xfef8e9=Math['cos'](_0x535370);_0x535370+=_0x37ac0a;const _0x4ac833=Math['sin'](_0x535370),_0x169375=Math['cos'](_0x535370);ts['push'](_0x467d55['x']+_0x3a5107*_0xa45182,_0x467d55['y'],_0x467d55['z']+_0x3a5107*_0xfef8e9),ts['push'](_0x467d55['x']+_0x3a5107*_0x4ac833,_0x467d55['y'],_0x467d55['z']+_0x3a5107*_0x169375),ts['push'](_0x467d55['x']+_0x3a5107*_0xa45182,_0x467d55['y']+_0x3a5107*_0xfef8e9,_0x467d55['z']),ts['push'](_0x467d55['x']+_0x3a5107*_0x4ac833,_0x467d55['y']+_0x3a5107*_0x169375,_0x467d55['z']),ts['push'](_0x467d55['x'],_0x467d55['y']+_0x3a5107*_0xa45182,_0x467d55['z']+_0x3a5107*_0xfef8e9),ts['push'](_0x467d55['x'],_0x467d55['y']+_0x3a5107*_0x4ac833,_0x467d55['z']+_0x3a5107*_0x169375);}this['getBatch'](_0x39a4be,_0x59abdd)['addLinesAr'+'rays'](ts,_0x2d8e9c),ts['length']=0x23aa+0x7ec*0x1+0x7*-0x63a;}['getGraphNo'+'de'](_0x3b15c0){const _0x4d050b=new De('ImmediateD'+'ebug');return _0x4d050b['worldTrans'+'form']=_0x3b15c0,_0x4d050b['_dirtyWorl'+'d']=_0x4d050b['_dirtyNorm'+'al']=!(0x8ed+-0x3*0xe5+-0x63d),_0x4d050b;}['onPreRende'+'rLayer'](_0x2babd7,_0x164aea,_0x4e9026){if(this['batchesMap']['forEach']((_0x146bc3,_0x565770)=>{_0x565770===_0x2babd7&&_0x146bc3['onPreRende'+'r'](_0x164aea,_0x4e9026);}),!this['updatedLay'+'ers']['has'](_0x2babd7)){this['updatedLay'+'ers']['add'](_0x2babd7);const _0x1ad8ef=this['layerMeshI'+'nstances']['get'](_0x2babd7);if(_0x1ad8ef){for(let _0x25efaf=-0x2058+-0x739+0x5a7*0x7;_0x25efaf<_0x1ad8ef['length'];_0x25efaf++)_0x164aea['push'](_0x1ad8ef[_0x25efaf]);_0x1ad8ef['length']=0x61f+0x2f*-0x4a+-0x5b*-0x15;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0xe4b1ca=>_0xe4b1ca['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',ka),c(this,'color',new Y(0x1*-0x2707+0x1*0x1ad5+0x2*0x619,-0x239d+0x14f6+0xea7,0x52d+0x16a2+-0x15*0x153)),c(this,'density',-0x1c5*0xe+-0x12*-0x5d+-0x1*-0x123c),c(this,'start',-0x194d+0x1*0x204e+0x4*-0x1c0),c(this,'end',0x1b*0x15+0x1a39+0x4e8*-0x5);}}class ui extends ce{constructor(_0x5dafe1){super(),c(this,'ambientBak'+'e',!(0x1b7f+0x13fb+-0x2f79)),c(this,'ambientBak'+'eOcclusion'+'Brightness',-0x88a+-0x480*-0x2+-0x2*0x3b),c(this,'ambientBak'+'eOcclusion'+'Contrast',-0xa79+0x1eb*0x1+0x6*0x16d),c(this,'ambientLig'+'ht',new Y(-0x13f1+0x2dc*-0xc+-0x331*-0x11,0xb*0x57+0x1035+-0x13f2,0x71d+0x2f1+-0x35a*0x3)),c(this,'ambientLum'+'inance',-0x170+-0xe37*0x1+0x1*0xfa7),c(this,'exposure',0x12cd*-0x1+-0xd1*0x2+0x1470),c(this,'lightmapSi'+'zeMultipli'+'er',-0x32*-0x86+-0x32d*-0x9+0x36c*-0x10),c(this,'lightmapMa'+'xResolutio'+'n',0x1769+0x1555+-0x24be),c(this,'lightmapMo'+'de',dh),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x15c8+0x1*0x1bdf+-0x1*0x616)),c(this,'lightmapHD'+'R',!(-0x179e+-0x45d*0x7+0x1*0x362a)),c(this,'root',null),c(this,'physicalUn'+'its',!(0x1c87+-0x2*-0x127+-0x1ed4)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x5dafe1,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x5dafe1,this['_gravity']=new T(0x148b*-0x1+0x198c+-0x501,-(0xc88+-0x623*0x2+0x39*-0x1+0.8000000000000007),-0xf7*0x25+0xc3a+0x1779),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x8fe*0x1+0x9d*-0x1d+-0x6b2*-0x4,this['_skyboxLum'+'inance']=-0x69b*-0x1+-0x2b4*0x6+0x99d*0x1,this['_skyboxMip']=-0x33*0x6+0x2363*0x1+-0x2231,this['_skyboxHig'+'hlightMult'+'iplier']=-0x13*0x12d+-0x7*0x494+0x2*0x1b32,this['_skyboxRot'+'ationShade'+'rInclude']=!(0xb6f+-0xfcd+0x1*0x45f),this['_skyboxRot'+'ation']=new te(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0x1*-0x26c7+0x236*0x4+-0xe6*0x35,this['_ambientBa'+'keSpherePa'+'rt']=-0x6a0*0x1+0xd*-0xb3+0x3*0x53d+0.4,this['_lightmapF'+'ilterRange']=-0x1*0x3a+0x1e88*-0x1+0x7b3*0x4,this['_lightmapF'+'ilterSmoot'+'hness']=-0x2149*-0x1+0x696+-0x27df+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x6*0x4cd+-0x14*-0x5d+-0x72*0x51),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x1*-0x1a77+0x1b5*0xe+0x291);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x137*0xf+-0x25*0x9c+0x453),this['_shaderVer'+'sion']=-0x4a7*-0x2+-0x1523+0xbd5,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](wp);}set['ambientBak'+'eNumSample'+'s'](_0x629b9c){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x629b9c),-0x12*-0x160+-0xc6b*0x3+0xc82*0x1,-0x365*-0x1+-0x18be+0x1658);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0xf50657){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0xf50657,-0x1*-0x10d0+-0x67c*0x4+-0x2*-0x490+0.001,-0x75d+-0x171f+0x619*0x5);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x548ca1){if(this['device']['isWebGPU']&&!_0x548ca1){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x548ca1){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x548ca1;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x50342b){_0x50342b!==this['_envAtlas']&&(this['_envAtlas']=_0x50342b,_0x50342b&&(_0x50342b['addressU']=ne,_0x50342b['addressV']=ne,_0x50342b['minFilter']=tt,_0x50342b['magFilter']=tt,_0x50342b['mipmaps']=!(0x7a7*0x4+0x1*-0xbb1+-0x1*0x12ea)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x4880b6){const _0x559b77=this['_layers'];this['_layers']=_0x4880b6,this['fire']('set:layers',_0x559b77,_0x4880b6);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x369d8f){this['_lightmapF'+'ilterRange']=Math['max'](_0x369d8f,0x25*0x26+-0x123d+0xfb*0xd+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0xe4bccb){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0xe4bccb,0x12f*0xd+0x286+0x1*-0x11e9+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x3ba23b){_0x3ba23b=_0x3ba23b||[];const _0x53e3f2=this['_prefilter'+'edCubemaps'];(_0x53e3f2['length']!==_0x3ba23b['length']||_0x53e3f2['some']((_0x5d8c03,_0x4dc230)=>_0x5d8c03!==_0x3ba23b[_0x4dc230]))&&(_0x3ba23b['length']===-0x11cb*0x1+-0x12c9+0x249a&&_0x3ba23b['every'](_0x2a6ae4=>!!_0x2a6ae4)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x3ba23b,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x3ba23b['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x4cd773){_0x4cd773!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x4cd773,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x54a05b){_0x54a05b!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x54a05b,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x3a1190){_0x3a1190!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x3a1190,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x362d1a){_0x362d1a!==this['_skyboxMip']&&(this['_skyboxMip']=_0x362d1a,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x4dbd30){_0x4dbd30!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x4dbd30,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x498728){if(!this['_skyboxRot'+'ation']['equals'](_0x498728)){const _0x4782ff=_0x498728['equals'](te['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x498728),_0x4782ff?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x498728,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x4782ff&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x2616*0x1+-0x27c+0x2892),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x3f7785,_0x410c43,_0x39fcfa=Y['WHITE'],_0x4ed6c0=!(0x3*0x9d9+-0x1cc0+0xcb*-0x1),_0x384cfd=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x384cfd,_0x4ed6c0)['addLines']([_0x3f7785,_0x410c43],[_0x39fcfa,_0x39fcfa]);}['drawLines'](_0x327424,_0xdfb240,_0x498be3=!(-0x1ff4*-0x1+-0x826+-0x17ce),_0x39c2f0=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x39c2f0,_0x498be3)['addLines'](_0x327424,_0xdfb240);}['drawLineAr'+'rays'](_0x562460,_0xd4fd30,_0x4f3a6a=!(0x1de7+-0x1b3c+0x1*-0x2ab),_0x5f39f7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5f39f7,_0x4f3a6a)['addLinesAr'+'rays'](_0x562460,_0xd4fd30);}['applySetti'+'ngs'](_0x3b7f3a){const _0x24537=_0x3b7f3a['physics'],_0x119b13=_0x3b7f3a['render'];this['_gravity']['set'](_0x24537['gravity'][0x14d1+-0x790*0x2+-0x5b1],_0x24537['gravity'][-0x459*0x7+-0x1a5a+-0x1*-0x38ca],_0x24537['gravity'][-0x1*-0x162c+-0x2*0x551+-0x3*0x3d8]),this['ambientLig'+'ht']['set'](_0x119b13['global_amb'+'ient'][0xa62+-0x2*-0x7c7+-0x19f0],_0x119b13['global_amb'+'ient'][-0x109b+-0x12f6+0x1d*0x13a],_0x119b13['global_amb'+'ient'][-0x2b*-0x62+0x425*0x3+-0x1ce3]),this['ambientLum'+'inance']=_0x119b13['ambientLum'+'inance'],this['fog']['type']=_0x119b13['fog'],this['fog']['color']['set'](_0x119b13['fog_color'][0x2d*0xb+-0x19ce+0x3*0x7f5],_0x119b13['fog_color'][-0xaf*0x7+-0xb*0x9d+0xb89],_0x119b13['fog_color'][0x2509+-0x2694+-0x1*-0x18d]),this['fog']['start']=_0x119b13['fog_start'],this['fog']['end']=_0x119b13['fog_end'],this['fog']['density']=_0x119b13['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x119b13['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x119b13['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x119b13['lightmapMo'+'de'],this['exposure']=_0x119b13['exposure'],this['_skyboxInt'+'ensity']=_0x119b13['skyboxInte'+'nsity']??0x1b11+0x3*-0x4bf+-0x31*0x43,this['_skyboxLum'+'inance']=_0x119b13['skyboxLumi'+'nance']??-0x3ed1+-0xd*0x251+0xab0e,this['_skyboxMip']=_0x119b13['skyboxMip']??0x21d5+-0x1b57+-0x67e,_0x119b13['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new te()['setFromEul'+'erAngles'](_0x119b13['skyboxRota'+'tion'][0x1*0x160f+-0x423*0x8+-0x19*-0x71],_0x119b13['skyboxRota'+'tion'][-0x135b+-0x1*0x14e3+0x283f],_0x119b13['skyboxRota'+'tion'][-0x9*0x2f5+-0x142f+0x2ece])),this['sky']['applySetti'+'ngs'](_0x119b13),this['clusteredL'+'ightingEna'+'bled']=_0x119b13['clusteredL'+'ightingEna'+'bled']??!(0x874+-0x4f8*0x4+0xb6d),this['lighting']['applySetti'+'ngs'](_0x119b13),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x1c8e74=>{_0x119b13['hasOwnProp'+'erty'](_0x1c8e74)&&(this[_0x1c8e74]=_0x119b13[_0x1c8e74]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x182b46=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x182b46[[0x12e0+-0x825+0xabb*-0x1,-0x1*0x1e09+0x1bb6+-0x12a*-0x2,0x4c1*-0x4+0x1b19*0x1+0x1*-0x812,0x1a2f+0x6e4+-0x210f,-0xd3*0x1+0x2138+-0x2060,-0x1cfa+0xff0+0xd10][this['_skyboxMip']]]||this['_envAtlas']||_0x182b46[0x1abf+-0xdf1+-0xcce]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x182b46[-0x89*-0x13+0xbea*0x1+0x1*-0x1615]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x25f9+0xd*-0x2fe+0xed);}['setSkybox'](_0x23f672){_0x23f672?(this['skybox']=_0x23f672[0x1742+-0x16e5+-0x5d*0x1]||null,_0x23f672[0x1ffa+-0x745+0x5d*-0x44]&&!_0x23f672[0x1ef4+-0x1c11*-0x1+-0xec1*0x4]['cubemap']?this['envAtlas']=_0x23f672[0x1e79+0x21d*-0xd+-0x3b*0xd]:this['prefiltere'+'dCubemaps']=_0x23f672['slice'](0x5+-0x377*-0x3+-0xa69)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ui,'EVENT_SETL'+'AYERS','set:layers'),c(ui,'EVENT_SETS'+'KYBOX','set:skybox'),c(ui,'EVENT_PRER'+'ENDER','prerender'),c(ui,'EVENT_POST'+'RENDER','postrender'),c(ui,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ui,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ui,'EVENT_PREC'+'ULL','precull'),c(ui,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0xc321b,_0x17973d,_0x23cc3f){this['device']=_0xc321b,this['inverseBin'+'dPose']=_0x17973d,this['boneNames']=_0x23cc3f;}}const b1=[0x1*-0x44f+-0x6*-0x33b+-0xf13,0x15e6+-0x2e3+-0x1303,-0x14d6+-0x4*0x7e1+0x345b*0x1,-0xf5*0x22+-0x24d*0x7+-0x30a5*-0x1,-0x2617+0xfd6*0x2+0x66b,0x7*0x28f+0xd1c*0x2+-0x10*0x2c2,0x1f07+-0x2*0x58e+-0x13eb,-0x1d7c+-0x1765+0x34e1,-0x128b*0x1+0x16b4+-0x2*0x214,-0x13fa+0x1266+0x4*0x65,-0x924+0x4f3*-0x1+0x1*0xe17,-0x6b*0x3e+-0x14d8+0x2ec3*0x1],w1=[-0x1*0x15fa+0x1989+0x38f*-0x1,0x4ff+-0x1b32+-0x1c*-0xcb,0x2092+-0x61*0x44+0x6cb*-0x1,-0x2301+-0x1b00+0x3e03,0x2*0xe9+0xbbd*-0x3+0x2168,0x130b+0xeee+-0x21f8];class T1 extends ce{constructor(_0x6fa481,_0xd76bd5){super(),this['_device']=_0x6fa481,this['_pixelsPer'+'Unit']=_0xd76bd5&&_0xd76bd5['pixelsPerU'+'nit']!==void(0x242b+-0xc44*-0x3+0x1*-0x48f7)?_0xd76bd5['pixelsPerU'+'nit']:0x86*-0x22+-0x2b*0x5c+0x2141,this['_renderMod'+'e']=_0xd76bd5&&_0xd76bd5['renderMode']!==void(-0x100f*-0x1+0xb9c*-0x2+0x729)?_0xd76bd5['renderMode']:Ci,this['_atlas']=_0xd76bd5&&_0xd76bd5['atlas']!==void(-0x1273*-0x2+0x29*-0xe9+-0x6b*-0x1)?_0xd76bd5['atlas']:null,this['_frameKeys']=_0xd76bd5&&_0xd76bd5['frameKeys']!==void(0x231*-0xb+0x179e+0x1*0x7d)?_0xd76bd5['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x1bf1+0x1c6f+0x1*-0x385f),this['_meshesDir'+'ty']=!(0x1961+-0xf7*-0xb+0x25*-0xf9),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x295cfc){this['_frameKeys']=_0x295cfc,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x2*0x9af+0x169*0x5+0xc51):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x295cfc);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x585bd0){_0x585bd0!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x585bd0,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x64*-0x44+-0xafc+0x258c):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x585bd0));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x2ae8c4){this['_pixelsPer'+'Unit']!==_0x2ae8c4&&(this['_pixelsPer'+'Unit']=_0x2ae8c4,this['fire']('set:pixels'+'PerUnit',_0x2ae8c4),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1f6e+-0x1b02+0x3a70*0x1):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x4a507a){if(this['_renderMod'+'e']===_0x4a507a)return;const _0x1c73b2=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x4a507a,this['fire']('set:render'+'Mode',_0x4a507a),(_0x1c73b2===Ci||_0x4a507a===Ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2*0x869+-0x1*-0x1348+-0x120d*0x2):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x216cde=this['_meshes']['length'];for(let _0x19cecf=0x2*-0x910+0x1*-0x1f0d+-0x312d*-0x1;_0x19cecf<_0x216cde;_0x19cecf++){const _0x144bcd=this['_meshes'][_0x19cecf];_0x144bcd&&_0x144bcd['destroy']();}const _0x49c808=this['_frameKeys']['length'];this['_meshes']=new Array(_0x49c808);const _0x183e21=this['renderMode']===rt||this['_renderMod'+'e']===Ze?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x2812c2=0x1a*-0x14e+0x1764+0xa88;_0x2812c2<_0x49c808;_0x2812c2++){const _0x1615a5=this['_atlas']['frames'][this['_frameKeys'][_0x2812c2]];this['_meshes'][_0x2812c2]=_0x1615a5?_0x183e21['call'](this,_0x1615a5):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x367a89){const _0x5058c4=_0x367a89['rect'],_0x3da7e8=this['_atlas']['texture']['width'],_0x2879c5=this['_atlas']['texture']['height'],_0x289394=_0x5058c4['z']/this['_pixelsPer'+'Unit'],_0x4f7686=_0x5058c4['w']/this['_pixelsPer'+'Unit'],_0x20cc21=_0x367a89['pivot']['x'],_0x754ea1=_0x367a89['pivot']['y'],_0x2bcea9=[-_0x20cc21*_0x289394,-_0x754ea1*_0x4f7686,-0x221e+0x6db+0x1b43,(-0x780+-0x32b*0x1+0xaac-_0x20cc21)*_0x289394,-_0x754ea1*_0x4f7686,0x428+-0x795+0x1*0x36d,(-0x25cb*0x1+0xbc5+0x3*0x8ad-_0x20cc21)*_0x289394,(-0x1201*-0x2+-0x1ed4+-0x52d-_0x754ea1)*_0x4f7686,0x1cf*0x13+0x10a5+-0x3302,-_0x20cc21*_0x289394,(-0x1*0x1003+-0x1d*-0x6b+-0x1*-0x3e5-_0x754ea1)*_0x4f7686,0x9*-0x1d+0x1863+-0x2*0xbaf],_0x2fbcf5=_0x5058c4['x']/_0x3da7e8,_0x71845e=-0x2371+-0x48*0x6a+-0x2*-0x20a1-_0x5058c4['y']/_0x2879c5,_0x559577=(_0x5058c4['x']+_0x5058c4['z'])/_0x3da7e8,_0x323d74=-0x2*-0x4+0x157b+0xac1*-0x2-(_0x5058c4['y']+_0x5058c4['w'])/_0x2879c5,_0x376ca0=[_0x2fbcf5,_0x71845e,_0x559577,_0x71845e,_0x559577,_0x323d74,_0x2fbcf5,_0x323d74],_0x2c5c9e=new mn();return _0x2c5c9e['positions']=_0x2bcea9,_0x2c5c9e['normals']=b1,_0x2c5c9e['uvs']=_0x376ca0,_0x2c5c9e['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x2c5c9e);}['_create9Sl'+'iceMesh'](){const _0x661b90=W['ONE'],_0x20f064=-0xe5*-0x12+-0xbed+0x1a*-0x29,_0x133ea5=-0x1f*-0xf5+0x3e3*-0x2+-0x15e2,_0x2fd84e=[],_0x451287=[],_0x3b5936=[],_0x24d424=[];let _0x5a0537=0x29*-0x1d+-0x23f9+0x289e;for(let _0x2092ff=-0x83*-0xb+0x1*-0x21fb+-0xe2d*-0x2;_0x2092ff<=_0x20f064;_0x2092ff++){const _0x39bc00=_0x2092ff===-0x49*-0x33+-0x1fcd+0x1*0x1142||_0x2092ff===_0x20f064?-0x181e*-0x1+0x16*-0xd1+0x1*-0x628:0x43*0x5e+0xf2*-0x1f+0x4b5;for(let _0x31a485=0x2157+0x28f*0x1+-0x23e6;_0x31a485<=_0x133ea5;_0x31a485++){const _0x18f851=-_0x661b90['x']+(0x41*0x71+0x1855*-0x1+0x45a*-0x1)*_0x661b90['x']*(_0x2092ff<=-0xc*0x6+0x1*0x1b72+0x1*-0x1b29?0x684+-0x20c0+0x1a3c:-0x15*-0x176+-0x1*-0x18c3+0x376e*-0x1)/_0x20f064,_0x88c419=0x25*0x1b+0x5*0x123+0x1*-0x996,_0xee4dca=-(-_0x661b90['y']+(0x69f+0x1132+-0x17cf*0x1)*_0x661b90['y']*(_0x31a485<=0x1be*-0x1+-0x29b*0x5+-0x1*-0xec6?0x1be1+0x8ba*0x4+-0x3ec9:0x2*0x51a+-0x1a4b+-0xe5*-0x12)/_0x133ea5),_0x482e0d=_0x31a485===-0x829*0x3+0x9bb+0xec0||_0x31a485===_0x133ea5?-0xe*0x78+0x5b3+-0x1*-0xdd:0x1349*-0x1+-0x1c9d+0x2fe7;_0x2fd84e['push'](-_0x18f851,_0x88c419,_0xee4dca),_0x451287['push'](-0x422*-0x1+0x18c*-0x8+0x83e,0x139*-0x1d+0x1*0xeb9+0x14bd*0x1,0x59*-0x4c+0x21a1+0x267*-0x3),_0x3b5936['push'](_0x39bc00,_0x482e0d),_0x2092ff<_0x20f064&&_0x31a485<_0x133ea5&&(_0x24d424['push'](_0x5a0537+_0x133ea5+(0x35*-0x62+0x1a3f+0x6*-0xfe),_0x5a0537+(-0x3f*0x99+-0x1492*0x1+-0x1d1d*-0x2),_0x5a0537),_0x24d424['push'](_0x5a0537+_0x133ea5+(0xa89+-0x1*-0x242+-0xcca),_0x5a0537+_0x133ea5+(0x215e*-0x1+0x1727+0x1*0xa39),_0x5a0537+(0x3*0x70a+-0x118c+-0x391))),_0x5a0537++;}}const _0x3f5cd3=new mn();return _0x3f5cd3['positions']=_0x2fd84e,_0x3f5cd3['normals']=_0x451287,_0x3f5cd3['uvs']=_0x3b5936,_0x3f5cd3['indices']=_0x24d424,Ie['fromGeomet'+'ry'](this['_device'],_0x3f5cd3);}['_onSetFram'+'es'](_0x1f400e){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1ed1+-0x1ff1+0x2*0x1f61):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x3e6cc1,_0x5af990){const _0x2bcad9=this['_frameKeys']['indexOf'](_0x3e6cc1);_0x2bcad9<-0xcd*0x3+-0x1e08+0x206f||(_0x5af990?this['renderMode']===Ci&&(this['_meshes'][_0x2bcad9]=this['_createSim'+'pleMesh'](_0x5af990)):this['_meshes'][_0x2bcad9]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x229c1b){const _0x2525a4=this['_frameKeys']['indexOf'](_0x229c1b);_0x2525a4<0x843+-0x1204+0x9c1||(this['_meshes'][_0x2525a4]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x13da+0x15ef+-0x29*0xd),this['_meshesDir'+'ty']=!(0xa6*0xb+-0x1f45+-0xa*-0x26a);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x17b5+0x268b+-0x5*0xc73),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x2140+-0x14b*-0x2+0x1eab);}['destroy'](){for(const _0x410fcc of this['_meshes'])_0x410fcc&&_0x410fcc['destroy']();this['_meshes']['length']=0x185+-0xb*-0x173+-0x1176;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0xd8c325){this['_texture']=_0xd8c325,this['fire']('set:textur'+'e',_0xd8c325);}get['texture'](){return this['_texture'];}set['frames'](_0x2cff23){this['_frames']=_0x2cff23,this['fire']('set:frames',_0x2cff23);}get['frames'](){return this['_frames'];}['setFrame'](_0x505715,_0x2737a9){let _0x409fc0=this['_frames'][_0x505715];_0x409fc0?(_0x409fc0['rect']['copy'](_0x2737a9['rect']),_0x409fc0['pivot']['copy'](_0x2737a9['pivot']),_0x409fc0['border']['copy'](_0x2737a9['border'])):(_0x409fc0={'rect':_0x2737a9['rect']['clone'](),'pivot':_0x2737a9['pivot']['clone'](),'border':_0x2737a9['border']['clone']()},this['_frames'][_0x505715]=_0x409fc0),this['fire']('set:frame',_0x505715['toString'](),_0x409fc0);}['removeFram'+'e'](_0x15a8c7){const _0x2b7850=this['_frames'][_0x15a8c7];_0x2b7850&&(delete this['_frames'][_0x15a8c7],this['fire']('remove:fra'+'me',_0x15a8c7['toString'](),_0x2b7850));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x3c8c2d,_0x4690c7,_0x2a8354,_0x11521c){this['time']=_0x3c8c2d,this['position']=_0x4690c7,this['rotation']=_0x2a8354,this['scale']=_0x11521c;}}class k_{constructor(){this['_name']='',this['_keys']=[];}}class O_{constructor(){c(this,'name',''),c(this,'duration',0x79*0x3+-0x1216+-0x1*-0x10ab),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x2c4f50){return this['_nodeDict'][_0x2c4f50];}['addNode'](_0x15c6f0){this['_nodes']['push'](_0x15c6f0),this['_nodeDict'][_0x15c6f0['_name']]=_0x15c6f0;}get['nodes'](){return this['_nodes'];}}class C1{constructor(){this['_written']=!(-0x1*0x40a+-0x1*-0xce+-0x33d*-0x1),this['_name']='',this['_keyFrames']=[],this['_quat']=new te(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x4e15af){this['_targetNod'+'e']=_0x4e15af;}}class $d{constructor(_0x21c27d){c(this,'looping',!(0x1e24+-0x3ab*0x9+-0x7*-0x69)),(this['_animation']=null,this['_time']=-0x1*0x1f01+0x1f98+-0x97,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x5b62cb=_0x1bf81c=>{const _0x5814f6=new C1();_0x5814f6['_name']=_0x1bf81c['name'],this['_interpola'+'tedKeys']['push'](_0x5814f6),this['_interpola'+'tedKeyDict'][_0x1bf81c['name']]=_0x5814f6,this['_currKeyIn'+'dices'][_0x1bf81c['name']]=0x112*0x23+-0x2415+-0x161*0x1;for(let _0x5f35fa=-0x9d9+-0xd4a+-0x1*-0x1723;_0x5f35fa<_0x1bf81c['_children']['length'];_0x5f35fa++)_0x5b62cb(_0x1bf81c['_children'][_0x5f35fa]);};_0x5b62cb(_0x21c27d);}set['animation'](_0x37f73c){this['_animation']=_0x37f73c,this['currentTim'+'e']=0x1*-0x9ad+0x1813+-0xc2*0x13;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x1b57a1){this['_time']=_0x1b57a1;const _0x5ec3bf=this['_interpola'+'tedKeys']['length'];for(let _0x370760=-0x30a+-0xa60+0xd6a;_0x370760<_0x5ec3bf;_0x370760++){const _0x1b9dd9=this['_interpola'+'tedKeys'][_0x370760]['_name'];this['_currKeyIn'+'dices'][_0x1b9dd9]=0x1ed1+0x1673+0x4*-0xd51;}this['addTime'](-0x37*-0x83+-0xb9f+-0x9*0x1d6),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x1cefd1){if(this['_animation']!==null){const _0x477da4=this['_animation']['_nodes'],_0x249854=this['_animation']['duration'];if(this['_time']===_0x249854&&!this['looping'])return;if(this['_time']+=_0x1cefd1,this['_time']>_0x249854){this['_time']=this['looping']?-0x2335+0x1*-0x20c5+0x16*0x317:_0x249854;for(let _0x2292ca=0x16f*-0x17+-0x9d0+-0x1*-0x2ac9;_0x2292ca<_0x477da4['length'];_0x2292ca++){const _0x1ea9f9=_0x477da4[_0x2292ca]['_name'];this['_currKeyIn'+'dices'][_0x1ea9f9]=0x1d17+0x283*-0x1+0x3cc*-0x7;}}else{if(this['_time']<-0x1*0x1693+-0x143d+0x2ad0){this['_time']=this['looping']?_0x249854:-0x17ca+-0x153*0x1a+0x3a38;for(let _0x38648c=0x15f4+-0x1*-0x1463+-0x2a57;_0x38648c<_0x477da4['length'];_0x38648c++){const _0x1a1826=_0x477da4[_0x38648c],_0x1f4edf=_0x1a1826['_name'];this['_currKeyIn'+'dices'][_0x1f4edf]=_0x1a1826['_keys']['length']-(-0x3*-0x4f9+0x2323+-0x320c);}}}const _0x5cb14e=_0x1cefd1>=-0x1ba6+-0xf*0xdf+0x28b7?0x1*-0xfd7+0x7+0xfd1*0x1:-(-0x97a+-0xce7+0x1662);for(let _0x49ce2c=0xd22+-0x203d+0x131b;_0x49ce2c<_0x477da4['length'];_0x49ce2c++){const _0xdb36ec=_0x477da4[_0x49ce2c],_0x346866=_0xdb36ec['_name'],_0x5d33d4=_0xdb36ec['_keys'],_0x27cc7f=this['_interpola'+'tedKeyDict'][_0x346866];if(_0x27cc7f===void(-0x20da+0x204f+0x8b)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x346866);continue;}let _0xf8b46e=!(-0x1*-0xf91+0x23a+0x19e*-0xb);if(_0x5d33d4['length']!==-0x13*0x71+0x219c+-0x1938)for(let _0x38e43e=this['_currKeyIn'+'dices'][_0x346866];_0x38e43e<_0x5d33d4['length']-(0x1737*0x1+-0x1537+-0x1*0x1ff)&&_0x38e43e>=0x94*0x7+0x1117+0x1523*-0x1;_0x38e43e+=_0x5cb14e){const _0x4fc630=_0x5d33d4[_0x38e43e],_0x429f33=_0x5d33d4[_0x38e43e+(0x2*-0x1292+0x17*0xd3+0x1230)];if(_0x4fc630['time']<=this['_time']&&_0x429f33['time']>=this['_time']){const _0x233d0d=(this['_time']-_0x4fc630['time'])/(_0x429f33['time']-_0x4fc630['time']);_0x27cc7f['_pos']['lerp'](_0x4fc630['position'],_0x429f33['position'],_0x233d0d),_0x27cc7f['_quat']['slerp'](_0x4fc630['rotation'],_0x429f33['rotation'],_0x233d0d),_0x27cc7f['_scale']['lerp'](_0x4fc630['scale'],_0x429f33['scale'],_0x233d0d),_0x27cc7f['_written']=!(0x90a+0x9b+0x1*-0x9a5),this['_currKeyIn'+'dices'][_0x346866]=_0x38e43e,_0xf8b46e=!(-0xf*0x223+0x8c0+-0x1*-0x174d);break;}}(_0x5d33d4['length']===-0x112d+-0x1*-0xa81+0x6ad||!_0xf8b46e&&this['_time']===0x1*0x1e87+0x31*0x25+-0x14c*0x1d&&this['looping'])&&(_0x27cc7f['_pos']['copy'](_0x5d33d4[0x1*-0x157d+-0xe1b+-0x44*-0x86]['position']),_0x27cc7f['_quat']['copy'](_0x5d33d4[-0x1be9+0xf11+0x18*0x89]['rotation']),_0x27cc7f['_scale']['copy'](_0x5d33d4[-0x1855+0x1b67+-0x2*0x189]['scale']),_0x27cc7f['_written']=!(0xc70+0x3b*0x5f+-0x2255));}}}['blend'](_0x2cc535,_0x4fdc0e,_0xe00b78){const _0x5c9770=this['_interpola'+'tedKeys']['length'];for(let _0x241baa=-0xe24+0x1844+0x3*-0x360;_0x241baa<_0x5c9770;_0x241baa++){const _0x19f20e=_0x2cc535['_interpola'+'tedKeys'][_0x241baa],_0x455cd4=_0x4fdc0e['_interpola'+'tedKeys'][_0x241baa],_0x49e1b4=this['_interpola'+'tedKeys'][_0x241baa];_0x19f20e['_written']&&_0x455cd4['_written']?(_0x49e1b4['_quat']['slerp'](_0x19f20e['_quat'],_0x4fdc0e['_interpola'+'tedKeys'][_0x241baa]['_quat'],_0xe00b78),_0x49e1b4['_pos']['lerp'](_0x19f20e['_pos'],_0x4fdc0e['_interpola'+'tedKeys'][_0x241baa]['_pos'],_0xe00b78),_0x49e1b4['_scale']['lerp'](_0x19f20e['_scale'],_0x455cd4['_scale'],_0xe00b78),_0x49e1b4['_written']=!(0x1*-0x160f+0x5*0x65f+-0x13*0x84)):_0x19f20e['_written']?(_0x49e1b4['_quat']['copy'](_0x19f20e['_quat']),_0x49e1b4['_pos']['copy'](_0x19f20e['_pos']),_0x49e1b4['_scale']['copy'](_0x19f20e['_scale']),_0x49e1b4['_written']=!(-0x67*0x4f+0x14*-0x1b0+0x4189)):_0x455cd4['_written']&&(_0x49e1b4['_quat']['copy'](_0x455cd4['_quat']),_0x49e1b4['_pos']['copy'](_0x455cd4['_pos']),_0x49e1b4['_scale']['copy'](_0x455cd4['_scale']),_0x49e1b4['_written']=!(0x7ba+-0x7b8+-0x2*0x1));}}['setGraph'](_0x5299fa){if(this['graph']=_0x5299fa,_0x5299fa)for(let _0x154248=-0xc78+-0x2*-0xa82+-0x88c;_0x154248<this['_interpola'+'tedKeys']['length'];_0x154248++){const _0x1bf911=this['_interpola'+'tedKeys'][_0x154248],_0x1f11a7=_0x5299fa['findByName'](_0x1bf911['_name']);this['_interpola'+'tedKeys'][_0x154248]['setTarget'](_0x1f11a7);}else{for(let _0x5c62dc=-0xbd*-0x19+0x2*0x52b+-0x15f*0x15;_0x5c62dc<this['_interpola'+'tedKeys']['length'];_0x5c62dc++)this['_interpola'+'tedKeys'][_0x5c62dc]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x1fa7e3=0x1*-0x7e1+0x131b+-0xb3a;_0x1fa7e3<this['_interpola'+'tedKeys']['length'];_0x1fa7e3++){const _0x244dd9=this['_interpola'+'tedKeys'][_0x1fa7e3];if(_0x244dd9['_written']){const _0x321af6=_0x244dd9['getTarget']();_0x321af6['localPosit'+'ion']['copy'](_0x244dd9['_pos']),_0x321af6['localRotat'+'ion']['copy'](_0x244dd9['_quat']),_0x321af6['localScale']['copy'](_0x244dd9['_scale']),_0x321af6['_dirtyLoca'+'l']||_0x321af6['_dirtifyLo'+'cal'](),_0x244dd9['_written']=!(-0x2*-0xbfb+-0x1337*-0x1+-0x133*0x24);}}}}const Ss=(-0x20ed+0x5*0x2a5+0x4ee*0x4)/(0x2449+-0x3*0x3f9+-0x7*0x372),Bs=-0x176c+-0x1*-0x184f+-0xe2-Ss*(0x107a+-0x2*0xff5+-0x293*-0x6);class Np extends mn{constructor(_0x4bbad6,_0x47f4e8,_0x233df6,_0x42e904,_0x2b64e0,_0x399bfb){super();const _0x55ddc2=new T(),_0x202981=new T(),_0x434652=new T(),_0x304627=new T(),_0x51addc=new T(),_0x20b5fa=new T(),_0x301f44=[],_0x256c03=[],_0xf6ee22=[],_0x1b1a03=[],_0x30eb4e=[];let _0x45f656;if(_0x233df6>0x1fe3*0x1+-0x2*0x11a5+0x367){for(let _0x5f3d10=0xb12+-0x1403+-0x1*-0x8f1;_0x5f3d10<=_0x42e904;_0x5f3d10++)for(let _0x9fe2c6=-0x2*-0x257+-0x1*-0x1aa9+-0x1f57;_0x9fe2c6<=_0x2b64e0;_0x9fe2c6++){const _0x16a578=_0x9fe2c6/_0x2b64e0*(0x22*0xe+0x23bd+-0x2597)*Math['PI']-Math['PI'],_0x33ddcb=Math['sin'](_0x16a578),_0x278572=Math['cos'](_0x16a578);_0x51addc['set'](_0x33ddcb*_0x4bbad6,-_0x233df6/(0x1*0x1459+0x1063+0x61f*-0x6),_0x278572*_0x4bbad6),_0x304627['set'](_0x33ddcb*_0x47f4e8,_0x233df6/(-0x3c6*-0x9+-0x1bfc+-0x5f8),_0x278572*_0x47f4e8),_0x55ddc2['lerp'](_0x51addc,_0x304627,_0x5f3d10/_0x42e904),_0x202981['sub2'](_0x304627,_0x51addc)['normalize'](),_0x20b5fa['set'](_0x278572,-0xf94+-0x1bff+0x2b93,-_0x33ddcb),_0x434652['cross'](_0x20b5fa,_0x202981)['normalize'](),_0x301f44['push'](_0x55ddc2['x'],_0x55ddc2['y'],_0x55ddc2['z']),_0x256c03['push'](_0x434652['x'],_0x434652['y'],_0x434652['z']);let _0x3f53f0=_0x9fe2c6/_0x2b64e0,_0x4e644d=_0x5f3d10/_0x42e904;_0xf6ee22['push'](_0x3f53f0,-0x71*-0x34+0x2*-0x812+-0x6cf-_0x4e644d);const _0x3cacf0=_0x4e644d;if(_0x4e644d=_0x3f53f0,_0x3f53f0=_0x3cacf0,_0x3f53f0=_0x3f53f0*Bs+Ss,_0x4e644d=_0x4e644d*Bs+Ss,_0x3f53f0/=0x135d*0x2+0x153e+-0x3bf5*0x1,_0x1b1a03['push'](_0x3f53f0,-0x1a9+-0xbcb+-0x1*-0xd75-_0x4e644d),_0x5f3d10<_0x42e904&&_0x9fe2c6<_0x2b64e0){const _0x5b8f86=_0x5f3d10*(_0x2b64e0+(-0x14ca+-0x1af1+0x2fbc))+_0x9fe2c6,_0x4f709f=_0x5f3d10*(_0x2b64e0+(-0x8e+0x2*0x334+0x1*-0x5d9))+(_0x9fe2c6+(-0xf70+0x467*-0x3+0x1ca6)),_0x2c5018=(_0x5f3d10+(-0x5*0x24f+-0x1375+-0x1f01*-0x1))*(_0x2b64e0+(-0xaf3*-0x1+0x11*0x74+0x3e*-0x4d))+_0x9fe2c6,_0x1d6af4=(_0x5f3d10+(-0x1987+0x1b5+-0x13*-0x141))*(_0x2b64e0+(0x409*0x7+0x10f*0x22+0x100f*-0x4))+(_0x9fe2c6+(0x1263*-0x1+0x197c+-0x718));_0x30eb4e['push'](_0x5b8f86,_0x4f709f,_0x2c5018),_0x30eb4e['push'](_0x4f709f,_0x1d6af4,_0x2c5018);}}}if(_0x399bfb){const _0x51fdf5=Math['floor'](_0x2b64e0/(-0x17f*-0x14+0x1a70+-0x1*0x385a)),_0x2a5995=_0x2b64e0,_0x3209c1=_0x233df6/(-0xe91+-0x1*-0x7ef+-0x1a9*-0x4);for(let _0x63b15=-0x163*-0x9+0x4*0xef+-0x1037;_0x63b15<=_0x51fdf5;_0x63b15++){const _0x36b1db=_0x63b15*Math['PI']*(-0x6d+-0x2471+0x24de+0.5)/_0x51fdf5,_0x20cab4=Math['sin'](_0x36b1db),_0x3323d6=Math['cos'](_0x36b1db);for(let _0x257788=0x436+-0x2f9*0xd+0x226f;_0x257788<=_0x2a5995;_0x257788++){const _0x5d703a=_0x257788*(-0xbc0+0x9eb+0x1d7)*Math['PI']/_0x2a5995-Math['PI']/(0x1cf3*0x1+-0x2581+0x8*0x112),_0x26a0d2=Math['sin'](_0x5d703a),_0x516384=Math['cos'](_0x5d703a)*_0x20cab4,_0x58cd12=_0x3323d6,_0x3b158f=_0x26a0d2*_0x20cab4;let _0x3a09eb=0x3*0x782+-0x1b16+0x491-_0x257788/_0x2a5995,_0x205558=0x2*0x4b+-0x38*0x13+-0xf*-0x3d-_0x63b15/_0x51fdf5;_0x301f44['push'](_0x516384*_0x47f4e8,_0x58cd12*_0x47f4e8+_0x3209c1,_0x3b158f*_0x47f4e8),_0x256c03['push'](_0x516384,_0x58cd12,_0x3b158f),_0xf6ee22['push'](_0x3a09eb,0xb5d+-0xda1*0x1+0x245-_0x205558),_0x3a09eb=_0x3a09eb*Bs+Ss,_0x205558=_0x205558*Bs+Ss,_0x3a09eb/=-0x5c*0x6b+-0x7e8+-0x9*-0x527,_0x205558/=0x1907+-0x1952+0x4e*0x1,_0x3a09eb+=(-0x8af+0x228f+-0x1*0x19df)/(0x1e1c+-0x592*-0x6+-0x3f85),_0x1b1a03['push'](_0x3a09eb,-0x2a6*0x7+0x1*0x1f42+-0xcb7-_0x205558);}}_0x45f656=(_0x42e904+(-0x1*-0xa7b+-0x6f5+-0x385))*(_0x2b64e0+(-0xd0a+0x29*-0xcd+0x2de0));for(let _0x4e5c78=-0x434+0x1247*-0x1+0x47f*0x5;_0x4e5c78<_0x51fdf5;++_0x4e5c78)for(let _0x439957=0x1f*0x10b+-0x144+-0x1f11;_0x439957<_0x2a5995;++_0x439957){const _0x1ec85=_0x4e5c78*(_0x2a5995+(-0x2*0xc97+-0x148f*0x1+0x493*0xa))+_0x439957,_0x2d978b=_0x1ec85+_0x2a5995+(-0x860+-0x6ea*0x1+0xf4b);_0x30eb4e['push'](_0x45f656+_0x1ec85+(-0x1e1*0xa+0x20da+-0x3b*0x3d),_0x45f656+_0x2d978b,_0x45f656+_0x1ec85),_0x30eb4e['push'](_0x45f656+_0x1ec85+(0x6*-0x137+-0x1d48+0x2493),_0x45f656+_0x2d978b+(0x8*-0x19f+-0x18f3*0x1+0x25ec),_0x45f656+_0x2d978b);}for(let _0x573efb=-0x2c*-0x29+0x54d+-0xc59;_0x573efb<=_0x51fdf5;_0x573efb++){const _0xb318dc=Math['PI']*(-0x2f*-0x82+0x246b+-0x3c49+0.5)+_0x573efb*Math['PI']*(0xb*-0x1fc+-0xdbf+0x2393+0.5)/_0x51fdf5,_0x14bff3=Math['sin'](_0xb318dc),_0x25960c=Math['cos'](_0xb318dc);for(let _0x26c796=-0x67d+-0x40d+0x8e*0x13;_0x26c796<=_0x2a5995;_0x26c796++){const _0x171b08=_0x26c796*(0x15b*0x2+0xb*-0x169+-0x1*-0xccf)*Math['PI']/_0x2a5995-Math['PI']/(0x1e*0xef+0x60*0x51+-0x3a60),_0x29126d=Math['sin'](_0x171b08),_0x3fd52b=Math['cos'](_0x171b08)*_0x14bff3,_0x10a1ab=_0x25960c,_0x495108=_0x29126d*_0x14bff3;let _0x1ed020=0x1*-0x2227+0x258f+-0x1*0x367-_0x26c796/_0x2a5995,_0x363b7f=-0xeea+0x1fd*0x1+0xcee-_0x573efb/_0x51fdf5;_0x301f44['push'](_0x3fd52b*_0x47f4e8,_0x10a1ab*_0x47f4e8-_0x3209c1,_0x495108*_0x47f4e8),_0x256c03['push'](_0x3fd52b,_0x10a1ab,_0x495108),_0xf6ee22['push'](_0x1ed020,0x3*-0xd3+0xa9+-0x1f*-0xf-_0x363b7f),_0x1ed020=_0x1ed020*Bs+Ss,_0x363b7f=_0x363b7f*Bs+Ss,_0x1ed020/=-0x1d5*0x3+-0x12ff+0x1881,_0x363b7f/=-0x19e+-0x14*0x1d8+-0x2681*-0x1,_0x1ed020+=(-0x19d6+-0x151d*-0x1+-0x1*-0x4bb)/(0xf63*0x2+-0x5*-0x72a+-0x4295),_0x1b1a03['push'](_0x1ed020,-0x3*0x4f+-0x2626+0x2714-_0x363b7f);}}_0x45f656=(_0x42e904+(0x7*0x475+0x18a9+-0x37db))*(_0x2b64e0+(-0x3*0x569+-0x2551+-0x358d*-0x1))+(_0x2a5995+(0x3*0x481+-0x224c+0x2*0xa65))*(_0x51fdf5+(0x185d+0x5b4+0x10*-0x1e1));for(let _0x2e5d55=-0xfb*0x22+0x117e*0x1+-0x1fb*-0x8;_0x2e5d55<_0x51fdf5;++_0x2e5d55)for(let _0x47e97f=-0x11cc+0x2215+-0x1049;_0x47e97f<_0x2a5995;++_0x47e97f){const _0x22392a=_0x2e5d55*(_0x2a5995+(0x100*-0x25+-0xbf*0x33+0x4b0e))+_0x47e97f,_0x57fc60=_0x22392a+_0x2a5995+(0xadc+-0xb7a*0x2+0xc19);_0x30eb4e['push'](_0x45f656+_0x22392a+(0x8c6*-0x4+-0x11*-0xdb+0x148e),_0x45f656+_0x57fc60,_0x45f656+_0x22392a),_0x30eb4e['push'](_0x45f656+_0x22392a+(0x34c*-0x2+0x1a9e+-0x1405),_0x45f656+_0x57fc60+(-0x2*-0xee3+0x1*-0x3db+-0x19ea),_0x45f656+_0x57fc60);}}else{if(_0x45f656=(_0x42e904+(-0x244f+-0x20*0x35+0x2af0))*(_0x2b64e0+(0x59a+-0x3*0x33+-0x500)),_0x4bbad6>-0x2283+0x74+0x220f)for(let _0x3ca0d4=-0xa29+-0x739*-0x5+-0x4*0x67d;_0x3ca0d4<_0x2b64e0;_0x3ca0d4++){const _0x119056=_0x3ca0d4/_0x2b64e0*(-0xbb3+0x2*-0x12a9+0x3107)*Math['PI'],_0x3f3c02=Math['sin'](_0x119056),_0xc4a1f3=-_0x233df6/(-0x1*0xd0b+-0x1*0x1415+-0x1091*-0x2),_0x38b84b=Math['cos'](_0x119056);let _0x13b00e=0x3f+0x4f*0x2+-0xdc-(_0x3f3c02+(-0x2*-0x4f+-0x467+0x3ca))/(-0x6f*-0xb+0x3*0x45c+-0x1*0x11d7),_0x24ca21=(_0x38b84b+(-0x13cc+-0xd0d+0x20da))/(0x20c5+-0x182*-0x6+-0x29cf);_0x301f44['push'](_0x3f3c02*_0x4bbad6,_0xc4a1f3,_0x38b84b*_0x4bbad6),_0x256c03['push'](-0xa9*-0x4+0x1*0x1f8f+0x203*-0x11,-(-0x105b+-0x24b9+-0x6b*-0x7f),-0x1e5d+0x41*-0x1d+0x25ba),_0xf6ee22['push'](_0x13b00e,0x3cb*0xa+-0x1447+0x9*-0x1f6-_0x24ca21),_0x13b00e=_0x13b00e*Bs+Ss,_0x24ca21=_0x24ca21*Bs+Ss,_0x13b00e/=0x1372*0x2+0x253a+-0x4c1b,_0x24ca21/=-0x2*0x745+0x12*0x196+-0xdff,_0x13b00e+=(-0xb7*-0x31+0x21e8+-0x44ee)/(-0x1506+0x21b5+-0xcac),_0x1b1a03['push'](_0x13b00e,-0x44c*0x1+0x3*0x9ac+-0x18b7-_0x24ca21),_0x3ca0d4>-0x6ec+-0x162e+-0x1d1b*-0x1&&_0x30eb4e['push'](_0x45f656,_0x45f656+_0x3ca0d4,_0x45f656+_0x3ca0d4-(0xc82+0x6a7+-0x1328));}if(_0x45f656+=_0x2b64e0,_0x47f4e8>0x1a02+0xd36+-0x2738)for(let _0x2cc5ff=-0x1*0xefd+-0x1369+0x2266;_0x2cc5ff<_0x2b64e0;_0x2cc5ff++){const _0x592571=_0x2cc5ff/_0x2b64e0*(0xd67+0x1*0x1f5a+-0x2cbf)*Math['PI'],_0x22fa6e=Math['sin'](_0x592571),_0x4b0111=_0x233df6/(-0x13*-0xff+0x299+-0x1584),_0x5a4357=Math['cos'](_0x592571);let _0xc40697=0x29c*-0x6+-0x22a1+0x324a-(_0x22fa6e+(-0x2*-0x143+-0x33*-0xa7+0x1*-0x23ca))/(-0xc1*-0xc+-0x3*-0x5bd+-0x1*0x1a41),_0x5629d8=(_0x5a4357+(-0x2*0xed2+0x314+0x1a91))/(-0x46*0x4+-0x178*0x2+0x40a);_0x301f44['push'](_0x22fa6e*_0x47f4e8,_0x4b0111,_0x5a4357*_0x47f4e8),_0x256c03['push'](-0x79d*0x1+0x15c5+-0x1*0xe28,-0x217*-0xd+-0x4cf*-0x5+0x1*-0x3335,0x216+-0x1c2d+0x1a17),_0xf6ee22['push'](_0xc40697,-0x476*-0x1+-0x390+0x1*-0xe5-_0x5629d8),_0xc40697=_0xc40697*Bs+Ss,_0x5629d8=_0x5629d8*Bs+Ss,_0xc40697/=0xd9c+0x1e80+-0x2c19,_0x5629d8/=-0x9fa+0x1813*-0x1+0x2210,_0xc40697+=(0x1fe+0xfbe+0x11ba*-0x1)/(0x8*0x4a0+0x103*-0x25+0x72),_0x1b1a03['push'](_0xc40697,-0x23de+0x126d+-0x1d*-0x9a-_0x5629d8),_0x2cc5ff>-0x1433*0x1+0x1*-0x2278+0x36ac&&_0x30eb4e['push'](_0x45f656,_0x45f656+_0x2cc5ff-(0x6f1+-0x1783+-0x1093*-0x1),_0x45f656+_0x2cc5ff);}}this['positions']=_0x301f44,this['normals']=_0x256c03,this['uvs']=_0xf6ee22,this['uvs1']=_0x1b1a03,this['indices']=_0x30eb4e;}}class E1 extends Np{constructor(_0x30a724={}){const _0x3c1eed=_0x30a724['radius']??-0x13*-0xf4+0x1e9d+-0x1*0x30b9+0.3,_0x17433e=_0x30a724['height']??0x1fc5+-0x2539+0x575,_0x229d43=_0x30a724['heightSegm'+'ents']??-0x1b5*-0x1+0x1b84+-0x1d38,_0x69d953=_0x30a724['sides']??0x270b+-0x84a+-0x1ead;super(_0x3c1eed,_0x3c1eed,_0x17433e-(0x2*-0xc61+-0xe39+-0xcff*-0x3)*_0x3c1eed,_0x229d43,_0x69d953,!(-0x2621*-0x1+0xaf*0x15+0x1a3e*-0x2)),_0x30a724['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Np{constructor(_0x20c2c4={}){const _0x30aa0d=_0x20c2c4['baseRadius']??0x21b+-0x1717+0x14fc+0.5,_0x332651=_0x20c2c4['peakRadius']??0x1357*0x1+0xf*0xa+-0x13ed,_0x3bc9e1=_0x20c2c4['height']??-0xb37+0x14a2+-0x96a,_0x5c479b=_0x20c2c4['heightSegm'+'ents']??-0x1d*0x101+0x2409+-0x6e7,_0x5b3dbd=_0x20c2c4['capSegment'+'s']??0x1357+-0x1e6*-0x7+0x208f*-0x1;super(_0x30aa0d,_0x332651,_0x3bc9e1,_0x5c479b,_0x5b3dbd,!(0x44b*0x5+-0x1e46+0x8d0)),_0x20c2c4['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Np{constructor(_0x3f443f={}){const _0x3f4215=_0x3f443f['radius']??0x1*0x12b7+-0x2519+0x1262+0.5,_0x12be11=_0x3f443f['height']??-0x1110+-0xc1e+0x1f*0xf1,_0x54b24d=_0x3f443f['heightSegm'+'ents']??0xfbb*-0x1+-0x2121+0x30e1,_0x5b9937=_0x3f443f['capSegment'+'s']??0x9f*-0x1c+0x23ac+-0x5*0x3a4;super(_0x3f4215,_0x3f4215,_0x12be11,_0x54b24d,_0x5b9937,!(-0xd51+-0x558+0x12aa)),_0x3f443f['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends mn{constructor(_0x4d2b2c={}){super();const _0x271097=_0x4d2b2c['halfExtent'+'s']??new W(0x2*-0x529+-0x18ae+-0x8c0*-0x4+0.5,0x175d+-0x23ac+0xc4f+0.5),_0x13027c=_0x4d2b2c['widthSegme'+'nts']??-0xc*-0x111+0x2367+-0x302e,_0x4414b5=_0x4d2b2c['lengthSegm'+'ents']??0xcb+-0xd*0x1fa+0x18ec,_0x17ab50=[],_0x7750f0=[],_0xf1a6dd=[],_0x53dc06=[];let _0x2265aa=-0x335*-0x2+0x1960+0x139*-0x1a;for(let _0x1e64e5=0x79a+-0xf09*-0x1+-0x16a3;_0x1e64e5<=_0x13027c;_0x1e64e5++)for(let _0x3cdf69=-0x908+0x10d*0x9+-0x6d;_0x3cdf69<=_0x4414b5;_0x3cdf69++){const _0x377800=-_0x271097['x']+(0x7*0x38f+0x1c1*-0x2+-0x1565*0x1)*_0x271097['x']*_0x1e64e5/_0x13027c,_0x2134e5=-0x5*-0x1f5+0xa5d*-0x1+-0x4*-0x25,_0x5161a5=-(-_0x271097['y']+(0x7b+0x1c6*0x15+-0x25b7)*_0x271097['y']*_0x3cdf69/_0x4414b5),_0x4fe526=_0x1e64e5/_0x13027c,_0x2c5490=_0x3cdf69/_0x4414b5;_0x17ab50['push'](_0x377800,_0x2134e5,_0x5161a5),_0x7750f0['push'](-0x265b+-0x2*0x397+0x2d89,-0x26bc+-0x1eac+0x4569,0x54b*-0x3+0x17*0x9d+0x1c6),_0xf1a6dd['push'](_0x4fe526,0x5*0x59d+0x502*-0x3+-0xd0a-_0x2c5490),_0x1e64e5<_0x13027c&&_0x3cdf69<_0x4414b5&&(_0x53dc06['push'](_0x2265aa+_0x4414b5+(0x1f1+0x1d3f*-0x1+0x1b4f),_0x2265aa+(0x51c+0x24e9+-0x2a04),_0x2265aa),_0x53dc06['push'](_0x2265aa+_0x4414b5+(0x1ef6*0x1+-0x9*0x3df+-0x2*-0x1f1),_0x2265aa+_0x4414b5+(0x1965+0x773*-0x1+0x2*-0x8f8),_0x2265aa+(-0x18a4+0x5fc*-0x2+0x249d))),_0x2265aa++;}this['positions']=_0x17ab50,this['normals']=_0x7750f0,this['uvs']=_0xf1a6dd,this['uvs1']=_0xf1a6dd,this['indices']=_0x53dc06,_0x4d2b2c['calculateT'+'angents']&&(this['tangents']=fr(_0x17ab50,_0x7750f0,_0xf1a6dd,_0x53dc06));}}class I1 extends mn{constructor(_0x4036a7={}){super();const _0x24ca9a=_0x4036a7['tubeRadius']??-0x19a+-0x1f5+0x38f+0.2,_0x534f63=_0x4036a7['ringRadius']??0xc91*-0x3+-0x769+0xb47*0x4+0.3,_0x1969bd=(_0x4036a7['sectorAngl'+'e']??0x29*0x23+0x13fd+-0x1830)*N['DEG_TO_RAD'],_0x28cf32=_0x4036a7['segments']??-0x4cf+0x1d*0x3+0x496,_0x5192eb=_0x4036a7['sides']??-0x1*0xaed+-0xf1*-0x11+-0x500,_0x4e9cc3=[],_0x515682=[],_0x4129d6=[],_0x81a74a=[];for(let _0x171b33=0x429+-0xa1d*-0x2+-0x3*0x821;_0x171b33<=_0x5192eb;_0x171b33++)for(let _0x44be82=-0x2e7+-0x22f*0x5+0xdd2;_0x44be82<=_0x28cf32;_0x44be82++){const _0x30e9a8=Math['cos'](_0x1969bd*_0x44be82/_0x28cf32)*(_0x534f63+_0x24ca9a*Math['cos']((-0x335*0x1+0xe1b*0x1+-0x572*0x2)*Math['PI']*_0x171b33/_0x5192eb)),_0x201c35=Math['sin']((0x5a2+0x2042+-0x2*0x12f1)*Math['PI']*_0x171b33/_0x5192eb)*_0x24ca9a,_0x5f1f33=Math['sin'](_0x1969bd*_0x44be82/_0x28cf32)*(_0x534f63+_0x24ca9a*Math['cos']((0x1cba+0x213d*-0x1+-0x59*-0xd)*Math['PI']*_0x171b33/_0x5192eb)),_0x204803=Math['cos'](_0x1969bd*_0x44be82/_0x28cf32)*Math['cos']((-0xc7c*-0x2+-0x9a4+-0x25*0x6a)*Math['PI']*_0x171b33/_0x5192eb),_0x505898=Math['sin']((-0x2124*-0x1+-0x1*0x2db+-0x151*0x17)*Math['PI']*_0x171b33/_0x5192eb),_0x45a82a=Math['sin'](_0x1969bd*_0x44be82/_0x28cf32)*Math['cos']((-0x56*-0x4+0x2*0xa8c+-0x166e)*Math['PI']*_0x171b33/_0x5192eb),_0x2686de=_0x171b33/_0x5192eb,_0x220652=-0xfe*0x1c+-0x1e84+0x3a4d-_0x44be82/_0x28cf32;if(_0x4e9cc3['push'](_0x30e9a8,_0x201c35,_0x5f1f33),_0x515682['push'](_0x204803,_0x505898,_0x45a82a),_0x4129d6['push'](_0x2686de,-0x2*0x2f9+-0x2*-0xc7f+-0x130b-_0x220652),_0x171b33<_0x5192eb&&_0x44be82<_0x28cf32){const _0x445b91=_0x171b33*(_0x28cf32+(0x1b*0x1+0x1d1a+-0x1d34))+_0x44be82,_0x2130b7=(_0x171b33+(-0x1b01+-0x15ca+-0x6*-0x822))*(_0x28cf32+(0x1d48+0x1e08+0x7*-0x879))+_0x44be82,_0x31f8c5=_0x171b33*(_0x28cf32+(-0xdf5+-0x14f+-0x1*-0xf45))+(_0x44be82+(0x14b*-0xe+0xc*-0x259+-0x435*-0xb)),_0x1002ca=(_0x171b33+(0x1*0x232c+0x1492+-0x37bd))*(_0x28cf32+(-0x133f+0x12*-0x3+0x1376))+(_0x44be82+(0x5dc+0x19a0+-0x1f7b));_0x81a74a['push'](_0x445b91,_0x2130b7,_0x31f8c5),_0x81a74a['push'](_0x2130b7,_0x1002ca,_0x31f8c5);}}this['positions']=_0x4e9cc3,this['normals']=_0x515682,this['uvs']=_0x4129d6,this['uvs1']=_0x4129d6,this['indices']=_0x81a74a,_0x4036a7['calculateT'+'angents']&&(this['tangents']=fr(_0x4e9cc3,_0x515682,_0x4129d6,_0x81a74a));}}class D1{constructor(_0x1d7ac9,_0x3aaaa5){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x1d7ac9,this['_isClearin'+'gCache']=!(-0x2524+-0x17db*-0x1+-0x2a*-0x51),this['_precached']=!(0x3a4*0x2+0x25be+-0x901*0x5),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Gh(),this['_defaultSt'+'dMatOption'+'Min']=new Gh());const _0x55c527=new A0();_0x3aaaa5['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x55c527,_0x3aaaa5,null,[],yn,null),_0x3aaaa5['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x3aaaa5,null,Ip,null),_0x1d7ac9['on']('destroy:sh'+'ader',_0x4028e8=>{this['removeFrom'+'Cache'](_0x4028e8);});}['destroy'](){this['clearCache']();}['register'](_0x29b513,_0xab1f41){this['_generator'+'s']['has'](_0x29b513)||this['_generator'+'s']['set'](_0x29b513,_0xab1f41);}['unregister'](_0x57b36b){this['_generator'+'s']['has'](_0x57b36b)&&this['_generator'+'s']['delete'](_0x57b36b);}['isRegister'+'ed'](_0x25ca9e){return this['_generator'+'s']['has'](_0x25ca9e);}['generateSh'+'aderDefini'+'tion'](_0x7ced24,_0x53383f,_0x420178,_0x51be39){var _0x347ea5,_0x17d3fb;let _0x1dcf4e=this['definition'+'sCache']['get'](_0x420178);if(!_0x1dcf4e){let _0x470789;(_0x347ea5=_0x51be39['litOptions'])!=null&&_0x347ea5['lights']&&(_0x470789=_0x51be39['litOptions']['lights'],_0x51be39['litOptions']['lights']=_0x470789['map'](_0x9d666e=>{const _0x8a2e60=_0x9d666e['clone']?_0x9d666e['clone']():_0x9d666e;return _0x8a2e60['key']=_0x9d666e['key'],_0x8a2e60;})),this['storeNewPr'+'ogram'](_0x53383f,_0x51be39),(_0x17d3fb=_0x51be39['litOptions'])!=null&&_0x17d3fb['lights']&&(_0x51be39['litOptions']['lights']=_0x470789),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x53383f+'\x20key\x20'+_0x420178+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x35dc83=this['_device'];_0x1dcf4e=_0x7ced24['createShad'+'erDefiniti'+'on'](_0x35dc83,_0x51be39),_0x1dcf4e['name']=_0x1dcf4e['name']??(_0x51be39['pass']?_0x53383f+'-pass:'+_0x51be39['pass']:_0x53383f),this['definition'+'sCache']['set'](_0x420178,_0x1dcf4e);}return _0x1dcf4e;}['getCachedS'+'hader'](_0x1f3373){return this['processedC'+'ache']['get'](_0x1f3373);}['setCachedS'+'hader'](_0x401152,_0x5f279e){this['processedC'+'ache']['set'](_0x401152,_0x5f279e);}['getProgram'](_0xa479e1,_0x449b17,_0x1de5ee,_0x3bb16e){const _0x208111=this['_generator'+'s']['get'](_0xa479e1);if(!_0x208111)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0xa479e1),null;const _0x12838e=_0x208111['generateKe'+'y'](_0x449b17),_0xbff42e=hn(_0x12838e),_0x2c7afa=_0x1de5ee['generateKe'+'y'](this['_device']),_0x460c21=hn(_0x2c7afa),_0x1eb984=_0xbff42e+'#'+_0x460c21;let _0x52159e=this['getCachedS'+'hader'](_0x1eb984);if(!_0x52159e){const _0x83492d=this['generateSh'+'aderDefini'+'tion'](_0x208111,_0xa479e1,_0xbff42e,_0x449b17);v['assert'](_0x83492d);let _0x2954a1='',_0x9afe90;_0x449b17['pass']!==void(-0x24b*-0xd+-0x18d5*-0x1+0x1b52*-0x2)&&(_0x9afe90=Ks['get'](this['_device'])['getByIndex'](_0x449b17['pass']),_0x2954a1='-'+_0x9afe90['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x3bb16e,'shaderPassInfo':_0x9afe90,'definition':_0x83492d});const _0x147e07={'name':''+_0x83492d['name']+_0x2954a1+'-proc','attributes':_0x83492d['attributes'],'vshader':_0x83492d['vshader'],'vincludes':_0x83492d['vincludes'],'fincludes':_0x83492d['fincludes'],'fshader':_0x83492d['fshader'],'processingOptions':_0x1de5ee,'shaderLanguage':_0x83492d['shaderLang'+'uage'],'meshUniformBufferFormat':_0x83492d['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x83492d['meshBindGr'+'oupFormat']};_0x52159e=new i0(this['_device'],_0x147e07),v['call'](()=>{_0x52159e['_generatio'+'nKey']=_0x12838e,_0x52159e['_processin'+'gKey']=_0x2c7afa;}),this['setCachedS'+'hader'](_0x1eb984,_0x52159e);}return _0x52159e;}['storeNewPr'+'ogram'](_0x4f85c6,_0x2e3f79){let _0x467a51={};if(_0x4f85c6==='standard'){const _0x4f7cee=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x2e3f79['pass']);for(const _0x2f2a43 in _0x2e3f79)(_0x2e3f79['hasOwnProp'+'erty'](_0x2f2a43)&&_0x4f7cee[_0x2f2a43]!==_0x2e3f79[_0x2f2a43]||_0x2f2a43==='pass')&&(_0x467a51[_0x2f2a43]=_0x2e3f79[_0x2f2a43]);for(const _0x4289f0 in _0x2e3f79['litOptions'])_0x467a51[_0x4289f0]=_0x2e3f79['litOptions'][_0x4289f0];}else _0x467a51=_0x2e3f79;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x4f85c6,'options':_0x467a51}));}['dumpProgra'+'ms'](){let _0x8e6a9b='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x8e6a9b+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x2*0x6b9+-0x17*-0x8f+0x99]&&(_0x8e6a9b+='\x0a\x09'+this['_programsC'+'ollection'][-0x173e+0x1823+-0xe5]);for(let _0x1f09c8=0x31c+-0xf9c+0xc81;_0x1f09c8<this['_programsC'+'ollection']['length'];++_0x1f09c8)_0x8e6a9b+=',\x0a\x09'+this['_programsC'+'ollection'][_0x1f09c8];_0x8e6a9b+='\x0a];\x0a',_0x8e6a9b+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x8e6a9b+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x8e6a9b+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x31befd=document['createElem'+'ent']('a');_0x31befd['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x8e6a9b)),_0x31befd['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x31befd['style']['display']='none',document['body']['appendChil'+'d'](_0x31befd),_0x31befd['click'](),document['body']['removeChil'+'d'](_0x31befd);}['clearCache'](){this['_isClearin'+'gCache']=!(0xad3+-0x938+-0x3*0x89),this['processedC'+'ache']['forEach'](_0x4799ac=>{_0x4799ac['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x1ad8+-0x268a+0xbb3);}['removeFrom'+'Cache'](_0x1b8fd3){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x3b0cb7,_0x27c3c4)=>{_0x1b8fd3===_0x3b0cb7&&this['processedC'+'ache']['delete'](_0x27c3c4);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x38cf20){const _0x3953aa=Ks['get'](this['_device'])['getByIndex'](_0x38cf20);return _0x38cf20===rl||_0x38cf20===Oa||_0x38cf20===il||_0x3953aa['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x3b195d){if(_0x3b195d){const _0x37a8f7=new Array(_0x3b195d['length']);for(let _0x9c2e5e=-0x48f*0x3+0x545+0x21a*0x4;_0x9c2e5e<_0x3b195d['length'];_0x9c2e5e++){if(_0x3b195d[_0x9c2e5e]['name']==='standard'){const _0x36cfdc=_0x3b195d[_0x9c2e5e]['options'],_0x4836d1=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x36cfdc['pass']);for(const _0x259ac6 in _0x4836d1)_0x4836d1['hasOwnProp'+'erty'](_0x259ac6)&&_0x36cfdc[_0x259ac6]===void(-0x6*0x4e5+-0x2019+0x3d77)&&(_0x36cfdc[_0x259ac6]=_0x4836d1[_0x259ac6]);}_0x37a8f7[_0x9c2e5e]=this['getProgram'](_0x3b195d[_0x9c2e5e]['name'],_0x3b195d[_0x9c2e5e]['options']);}}this['_precached']=!(-0x1*0x1bfd+0x1b48+0xb5);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',k1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',O1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':k1,'bilateralDeNoisePS':O1},kn=new q(),B_=new te(),qd=new _e(),N_=new _e(),B1=new Y(-0x1d8f+0xf3a+-0x2de*-0x5,-0x2291+0x7*0x14b+0x1985,-0x2fa+-0x1f75+0x226f,-0x433+0x36*0xb3+0x1*-0x218f+0.4),Xd=0x542*0x1+-0x9af*0x4+0x217a+0.28209479177387814;class N1{constructor(_0x1cb70b,_0x25c4fa,_0x5f14f8,_0x311e31,_0x52a47f,_0x3ef016){const _0x41ac2c=_0x1cb70b['getProp']('x'),_0x4e15a3=_0x1cb70b['getProp']('y'),_0x5d2ca8=_0x1cb70b['getProp']('z'),_0x4c4c45=_0x1cb70b['getProp']('rot_1'),_0x1db2bb=_0x1cb70b['getProp']('rot_2'),_0x40aec5=_0x1cb70b['getProp']('rot_3'),_0xba4691=_0x1cb70b['getProp']('rot_0'),_0x13851d=_0x1cb70b['getProp']('motion_0'),_0xfacc40=_0x1cb70b['getProp']('motion_1'),_0x35420b=_0x1cb70b['getProp']('motion_2'),_0x57a68f=_0x1cb70b['getProp']('scale_0'),_0x2bbd88=_0x1cb70b['getProp']('scale_1'),_0x468b84=_0x1cb70b['getProp']('scale_2'),_0x525afe=_0x1cb70b['getProp']('f_dc_0'),_0x5631f2=_0x1cb70b['getProp']('f_dc_1'),_0x581a19=_0x1cb70b['getProp']('f_dc_2'),_0x568c7e=_0x1cb70b['getProp']('opacity'),_0x3e3bd2=_0x26397d=>{if(_0x26397d>-0x267f+-0x1*0xc2b+0x2*0x1955)return(-0x1*0xe6f+-0x8c+0xefc)/(0x23db+0x97*0xe+-0x2c1c+Math['exp'](-_0x26397d));const _0x571e46=Math['exp'](_0x26397d);return _0x571e46/(-0x1*-0x1413+0x7e4*-0x1+-0xc2e+_0x571e46);};this['read']=_0x2cdc32=>{_0x25c4fa&&(_0x25c4fa['x']=_0x41ac2c[_0x2cdc32],_0x25c4fa['y']=_0x4e15a3[_0x2cdc32],_0x25c4fa['z']=_0x5d2ca8[_0x2cdc32]),_0x5f14f8&&_0x5f14f8['set'](_0x4c4c45[_0x2cdc32],_0x1db2bb[_0x2cdc32],_0x40aec5[_0x2cdc32],_0xba4691[_0x2cdc32]),_0x311e31&&_0x311e31['set'](Math['exp'](_0x57a68f[_0x2cdc32]),Math['exp'](_0x2bbd88[_0x2cdc32]),Math['exp'](_0x468b84[_0x2cdc32])),_0x3ef016&&_0x13851d&&_0x3ef016['set'](_0x13851d[_0x2cdc32],_0xfacc40[_0x2cdc32],_0x35420b[_0x2cdc32]),_0x52a47f&&_0x52a47f['set'](0x1d*-0xd1+0xfaa+-0x125*-0x7+0.5+_0x525afe[_0x2cdc32]*Xd,-0x10cb*0x1+0x963+-0xed*-0x8+0.5+_0x5631f2[_0x2cdc32]*Xd,-0xf8b+-0x16bb+0x2646+0.5+_0x581a19[_0x2cdc32]*Xd,_0x3e3bd2(_0x568c7e[_0x2cdc32]));};}}const z_=(_0x9a5609,_0x3ac0a5,_0x1476f6)=>{B_['set'](_0x1476f6['x'],_0x1476f6['y'],_0x1476f6['z'],_0x1476f6['w'])['normalize'](),_0x9a5609['setTRS'](_0x3ac0a5,B_,T['ONE']);};class Da{constructor(_0x3bbb51){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x20e901,_0x5797ff,_0x5c8c98;this['elements']=_0x3bbb51,this['numSplats']=(_0x20e901=this['getElement']('vertex'))==null?void(0xc82*0x1+0x47e+0x88*-0x20):_0x20e901['count'],this['is4D']=!!((_0x5c8c98=(_0x5797ff=this['getElement']('vertex'))==null?void(-0x24d1+-0x1186+0x3657):_0x5797ff['properties']['find'](_0x436c76=>_0x436c76['name']==='t'))!=null&&_0x5c8c98['storage']);}['appendGSpl'+'atData'](_0x16d41c,_0x506eb0,_0x13a9a6){const _0x41612a=this['getElement']('vertex')['properties'];_0x41612a['find'](_0x546967=>_0x546967['name']==='time_index')||_0x41612a['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x16d41c['numSplats'];for(let _0x153e4d=-0x18e5*0x1+0x2ef*0x1+0x15f6;_0x153e4d<_0x41612a['length'];_0x153e4d++){const _0x16b493=_0x41612a[_0x153e4d],_0x485cd5=_0x16d41c['getElement']('vertex')['properties']['find'](_0x2693f5=>_0x2693f5['name']===_0x16b493['name']);if(_0x16b493['name']==='time_index'){const _0x4e1c4a=new Float32Array(this['numSplats']);_0x4e1c4a['fill'](_0x506eb0),_0x4e1c4a['set'](_0x16b493['storage'],0x1ed+0x1e90+-0x1*0x207d),_0x16b493['storage']=_0x4e1c4a;}else{if(_0x485cd5&&_0x16b493['name']==='t'){const _0x908acb=new Float32Array(this['numSplats']);if(_0x908acb['set'](_0x16b493['storage'],-0x1*-0xfb5+-0x204e+0x1099),_0x13a9a6){for(let _0x5248c6=_0x16b493['storage']['length'];_0x5248c6<this['numSplats'];_0x5248c6++)_0x908acb[_0x5248c6]=_0x485cd5['storage'][_0x5248c6-_0x16b493['storage']['length']]+_0x13a9a6[(0x34e+-0x259*-0x8+-0x1614)*_0x506eb0];}else _0x908acb['set'](_0x485cd5['storage'],_0x16b493['storage']['length']);_0x16b493['storage']=_0x908acb;}else{if(_0x485cd5){const _0x41ff19=new Float32Array(this['numSplats']);_0x41ff19['set'](_0x16b493['storage'],-0x231c+0x1a*0x17a+-0x348),_0x41ff19['set'](_0x485cd5['storage'],_0x16b493['storage']['length']),_0x16b493['storage']=_0x41ff19;}}}}}static['calcSplatA'+'abb'](_0x1bc826,_0x16ea9f,_0x2affdf,_0x310985){z_(kn,_0x16ea9f,_0x2affdf),qd['center']['set'](0x25*0x1d+-0x197d+0xbc*0x1d,0x22bf*-0x1+0x60a+0x1cb5,-0x8*0x313+-0x2028+-0x20*-0x1c6),qd['halfExtent'+'s']['set'](_0x310985['x']*(0xddf+-0xd78+-0x65),_0x310985['y']*(0x8*0x139+-0x1a5c+0xc1*0x16),_0x310985['z']*(-0x100f+0x12af+-0x86*0x5)),_0x1bc826['setFromTra'+'nsformedAa'+'bb'](qd,kn);}['getProp'](_0x3f0b86,_0x163ca0='vertex'){var _0x5986f5,_0x4d98ec;return(_0x4d98ec=(_0x5986f5=this['getElement'](_0x163ca0))==null?void(0x1657+0x197a+0x2fd1*-0x1):_0x5986f5['properties']['find'](_0x3998b9=>_0x3998b9['name']===_0x3f0b86))==null?void(-0x83b+-0xe6*-0x14+-0x9bd):_0x4d98ec['storage'];}['getElement'](_0x4ef345){return this['elements']['find'](_0x19f06c=>_0x19f06c['name']===_0x4ef345);}['addProp'](_0x436264,_0x356e6c){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x436264,'storage':_0x356e6c,'byteSize':0x4});}['createIter'](_0x5e5d59,_0x289c30,_0x55bf5c,_0x2c8890,_0x4722c6){return new N1(this,_0x5e5d59,_0x289c30,_0x55bf5c,_0x2c8890,_0x4722c6);}['calcAabb'](_0x3984a3,_0x5794f3){let _0x318c40,_0x132e45,_0x37117a,_0x5de2a3,_0x564de7,_0x2fae89,_0x5dc167=!(0x1be6+-0x13bc+0x415*-0x2);const _0x1f4c87=this['getProp']('x'),_0x40cba7=this['getProp']('y'),_0x1c4a16=this['getProp']('z'),_0x361b9d=this['getProp']('scale_0'),_0x3ac57d=this['getProp']('scale_1'),_0x1c719f=this['getProp']('scale_2');for(let _0x4396a1=0x6*-0x269+0x8*0x3ab+-0xee2;_0x4396a1<this['numSplats'];++_0x4396a1){if(_0x5794f3&&!_0x5794f3(_0x4396a1))continue;const _0x46b8d0=(-0x269f+0x6*-0x54c+0x23*0x203)*Math['exp'](Math['max'](_0x361b9d[_0x4396a1],_0x3ac57d[_0x4396a1],_0x1c719f[_0x4396a1])),_0x4310b8=_0x1f4c87[_0x4396a1],_0x1f1458=_0x40cba7[_0x4396a1],_0x849cfa=_0x1c4a16[_0x4396a1];_0x5dc167?(_0x5dc167=!(-0x1d95+-0x23fe*0x1+0xc*0x577),_0x318c40=_0x4310b8-_0x46b8d0,_0x132e45=_0x1f1458-_0x46b8d0,_0x37117a=_0x849cfa-_0x46b8d0,_0x5de2a3=_0x4310b8+_0x46b8d0,_0x564de7=_0x1f1458+_0x46b8d0,_0x2fae89=_0x849cfa+_0x46b8d0):(_0x318c40=Math['min'](_0x318c40,_0x4310b8-_0x46b8d0),_0x132e45=Math['min'](_0x132e45,_0x1f1458-_0x46b8d0),_0x37117a=Math['min'](_0x37117a,_0x849cfa-_0x46b8d0),_0x5de2a3=Math['max'](_0x5de2a3,_0x4310b8+_0x46b8d0),_0x564de7=Math['max'](_0x564de7,_0x1f1458+_0x46b8d0),_0x2fae89=Math['max'](_0x2fae89,_0x849cfa+_0x46b8d0));}return _0x5dc167||(_0x3984a3['center']['set']((_0x318c40+_0x5de2a3)*(0x53*0x78+-0x1b04+-0xbe4*0x1+0.5),(_0x132e45+_0x564de7)*(0x139d*0x1+0x1e07+-0x846*0x6+0.5),(_0x37117a+_0x2fae89)*(0x12c9+-0xea3*0x2+0xa7d+0.5)),_0x3984a3['halfExtent'+'s']['set']((_0x5de2a3-_0x318c40)*(0x1c09*0x1+0x1*0x732+-0x233b+0.5),(_0x564de7-_0x132e45)*(-0x2*-0x25b+0x20d*0x11+0x1*-0x2793+0.5),(_0x2fae89-_0x37117a)*(0x9d+0x12f0*0x1+-0x5*0x3e9+0.5))),!_0x5dc167;}['calcAabbEx'+'act'](_0x2841c6,_0x29516a){const _0xeb2d21=new T(),_0x2ef8ab=new te(),_0x1f3ad3=new T(),_0x29ea5c=this['createIter'](_0xeb2d21,_0x2ef8ab,_0x1f3ad3);let _0x318116=!(-0x1*-0xd0f+-0x2192*0x1+-0x3b*-0x59);for(let _0x41eaf6=0x136b+-0x26c*0x10+0x1355;_0x41eaf6<this['numSplats'];++_0x41eaf6)_0x29516a&&!_0x29516a(_0x41eaf6)||(_0x29ea5c['read'](_0x41eaf6),_0x318116?(_0x318116=!(0x18cb+0x5c*0x35+-0x2*0x15eb),Da['calcSplatA'+'abb'](_0x2841c6,_0xeb2d21,_0x2ef8ab,_0x1f3ad3)):(Da['calcSplatA'+'abb'](N_,_0xeb2d21,_0x2ef8ab,_0x1f3ad3),_0x2841c6['add'](N_)));return!_0x318116;}['getCenters'](_0x33c3a9){const _0x24cb28=this['getProp']('x'),_0x226374=this['getProp']('y'),_0xc3baa2=this['getProp']('z');for(let _0xfb3d35=-0x2f6+-0x4*0x206+0xb0e;_0xfb3d35<this['numSplats'];++_0xfb3d35)_0x33c3a9[_0xfb3d35*(0xcd7+0x1506+0x10ed*-0x2)+(0x3ab*-0x9+0x7d5+0x2*0xc97)]=_0x24cb28[_0xfb3d35],_0x33c3a9[_0xfb3d35*(0x2bf+0xb9e+-0x1*0xe5a)+(-0x51+-0x2*0xbdd+-0xe4*-0x1b)]=_0x226374[_0xfb3d35],_0x33c3a9[_0xfb3d35*(0x1b56+-0x11d7+-0x2*0x4be)+(0x17c6+0x2fa+-0x1abe)]=_0xc3baa2[_0xfb3d35];}['getMuT'](){const _0x5e0382=this['getProp']('t');if(!_0x5e0382)return;const _0x529fa3=new Float32Array(this['numSplats']);for(let _0x1b87fc=0x1c4c+-0x18*0xb3+-0xb84;_0x1b87fc<this['numSplats'];++_0x1b87fc)_0x529fa3[_0x1b87fc]=_0x5e0382[_0x1b87fc];return _0x529fa3;}['getTScale'](){const _0x45c68c=this['getProp']('t_scale');if(!_0x45c68c)return;const _0x510a3f=new Float32Array(this['numSplats']);for(let _0x133925=0x11ab*0x2+0x1*0x1f9+-0x254f;_0x133925<this['numSplats'];++_0x133925)_0x510a3f[_0x133925]=Math['exp'](_0x45c68c[_0x133925]);return _0x510a3f;}['getMotion'](_0x5cd354){const _0x5b0923=this['getProp']('motion_0'),_0xbcc639=this['getProp']('motion_1'),_0x5d779f=this['getProp']('motion_2');if(!(!_0x5b0923||!_0xbcc639||!_0x5d779f)){for(let _0x39d8f3=-0x22d2+-0x7*0x157+-0x9b*-0x49;_0x39d8f3<this['numSplats'];++_0x39d8f3)_0x5cd354[_0x39d8f3*(0x1*0x195c+-0x2*-0xf0d+0x3773*-0x1)+(0x25c8+-0xcd*-0x20+-0x3f68)]=_0x5b0923[_0x39d8f3],_0x5cd354[_0x39d8f3*(0x758+0x547*0x5+-0x21b8)+(0x1*-0x88a+-0x1*-0xfd7+-0x4*0x1d3)]=_0xbcc639[_0x39d8f3],_0x5cd354[_0x39d8f3*(0x1*0x775+0x10f+-0x881)+(-0x1*0x9c+0x5b7+-0x57*0xf)]=_0x5d779f[_0x39d8f3];}}['getTimeInd'+'ex'](_0x5a5f4c){const _0x4ab33a=this['getProp']('time_index');_0x4ab33a&&_0x5a5f4c['set'](_0x4ab33a,-0x1b12+0x83*-0x1+0x1b95);}['calcFocalP'+'oint'](_0x22614b,_0x1b2b2c){const _0x60193b=this['getProp']('x'),_0x1eb313=this['getProp']('y'),_0x374495=this['getProp']('z'),_0x2127c2=this['getProp']('scale_0'),_0x450631=this['getProp']('scale_1'),_0xf84950=this['getProp']('scale_2');_0x22614b['x']=-0xb68+-0x7cd*-0x1+0x39b*0x1,_0x22614b['y']=-0x966*-0x3+0x54f+-0x2181,_0x22614b['z']=0x980+-0x33f+0x641*-0x1;let _0x520adc=-0x1118*0x2+-0x226+-0x1*-0x2456;for(let _0xfe79a8=-0x256a+0x35*0x1b+-0x1*-0x1fd3;_0xfe79a8<this['numSplats'];++_0xfe79a8){if(_0x1b2b2c&&!_0x1b2b2c(_0xfe79a8))continue;const _0x4e2228=(-0x1e6c+-0x863*0x2+-0x119*-0x2b)/(0x2b7*0x1+0x117c+-0x1432+Math['exp'](Math['max'](_0x2127c2[_0xfe79a8],_0x450631[_0xfe79a8],_0xf84950[_0xfe79a8])));_0x22614b['x']+=_0x60193b[_0xfe79a8]*_0x4e2228,_0x22614b['y']+=_0x1eb313[_0xfe79a8]*_0x4e2228,_0x22614b['z']+=_0x374495[_0xfe79a8]*_0x4e2228,_0x520adc+=_0x4e2228;}_0x22614b['mulScalar']((-0x2*0x11db+-0x5*0x3b3+-0x303*-0x12)/_0x520adc);}['renderWire'+'frameBound'+'s'](_0x4a7792,_0x191809){const _0x5b2248=new T(),_0xfd589f=new te(),_0x10984b=new T(),_0x560736=new T(),_0x359f9f=new T(),_0x1b8fe0=this['createIter'](_0x5b2248,_0xfd589f,_0x10984b);for(let _0x487df6=-0x26d5+-0x423*0x5+0x3b84;_0x487df6<this['numSplats'];++_0x487df6)_0x1b8fe0['read'](_0x487df6),z_(kn,_0x5b2248,_0xfd589f),kn['mul2'](_0x191809,kn),_0x560736['set'](_0x10984b['x']*-(-0x1ea9+0x1*0x21fb+-0x350*0x1),_0x10984b['y']*-(-0x3*-0x6a2+0x200a+0x121*-0x2e),_0x10984b['z']*-(0x3*-0xad3+-0x1*0xf92+0x300d)),_0x359f9f['set'](_0x10984b['x']*(0x1642+0x1*0x1f13+-0x3553),_0x10984b['y']*(-0x127d*-0x2+-0x17*0x147+0x43*-0x1d),_0x10984b['z']*(-0xe*0x122+-0xb33*-0x2+-0x26*0x2c)),_0x4a7792['immediate']['drawWireAl'+'ignedBox'](_0x560736,_0x359f9f,B1,!(0x12a5+0x7f2+-0x1a97*0x1),_0x4a7792['defaultDra'+'wLayer'],kn);}get['isCompress'+'ed'](){return!(0x108d+0xf7*-0x20+0xe54*0x1);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x3b2d66=0xd64+-0x1b6b+0xe07;_0x3b2d66<-0x13*0x71+0x2092+-0x1802;++_0x3b2d66)if(!this['getProp']('f_rest_'+_0x3b2d66))return _0x3b2d66;return 0xa2e+-0xb41+0x28*0x8;})())]??-0xf0d*0x2+-0x2*-0xedd+-0x20*-0x3;}['calcMorton'+'Order'](){const _0x5decb2=_0x30a9d8=>{let _0xaa56a0=_0x30a9d8[0x179b+0x25d8+0x1*-0x3d73],_0x2763ca=_0x30a9d8[-0x2*0x16f+0x14b+0x193];for(let _0x125022=0x15e2+-0x649*-0x2+-0x1*0x2273;_0x125022<_0x30a9d8['length'];_0x125022++)_0x30a9d8[_0x125022]<_0xaa56a0&&(_0xaa56a0=_0x30a9d8[_0x125022]),_0x30a9d8[_0x125022]>_0x2763ca&&(_0x2763ca=_0x30a9d8[_0x125022]);return{'min':_0xaa56a0,'max':_0x2763ca};},_0xe7d63a=(_0x199e21,_0x2b85d2,_0x22f815)=>{const _0x58de71=_0x2cd176=>(_0x2cd176&=-0xb80+0x15fc+-0x67d,_0x2cd176=(_0x2cd176^_0x2cd176<<-0x1cdf*0x1+-0x20af+0x3d9e)&0x224e19b*0xd2+0x18dc8d1e6+-0x1*0x25109e20d,_0x2cd176=(_0x2cd176^_0x2cd176<<0x2*-0x3d7+0x1*-0x22c+-0x9e2*-0x1)&-0x1*0xe6872d+0x1*-0x35573b+0x9*0x74fa7f,_0x2cd176=(_0x2cd176^_0x2cd176<<0x234a+-0x245e+-0x46*-0x4)&0x2db834e+-0x2*0x1685fdf+0x3016d33,_0x2cd176=(_0x2cd176^_0x2cd176<<-0xba5+0x185a+-0xcb3)&0x3f36b5b+0xff6*-0xf7c7+0x14a3e928,_0x2cd176);return(_0x58de71(_0x22f815)<<-0x1205*0x2+-0xa65*0x1+0x2e71)+(_0x58de71(_0x2b85d2)<<-0x43*-0x83+0x1dc3*0x1+-0x400b)+_0x58de71(_0x199e21);},_0x308639=this['getProp']('x'),_0x6b1921=this['getProp']('y'),_0x599937=this['getProp']('z'),{min:_0x47567b,max:_0xd8cfe2}=_0x5decb2(_0x308639),{min:_0xb4c956,max:_0x358919}=_0x5decb2(_0x6b1921),{min:_0x366439,max:_0x22c176}=_0x5decb2(_0x599937),_0x3b6ad1=_0x47567b===_0xd8cfe2?0xbb7+-0x19*0x41+-0x55e:(0x22e4+0x11*-0x1e9+-0x87*-0x3)/(_0xd8cfe2-_0x47567b),_0x236a7d=_0xb4c956===_0x358919?-0x4f+-0x3*-0x660+0x1*-0x12d1:(0x14ec*-0x1+0x42e*-0x2+-0xa*-0x354)/(_0x358919-_0xb4c956),_0x21edb5=_0x366439===_0x22c176?0x1ea2+0x17ef+0x3691*-0x1:(-0xbf2+-0x151a+0x250c)/(_0x22c176-_0x366439),_0x11de40=new Map();for(let _0x554ad7=-0x1285+-0x8fa+0x1b7f;_0x554ad7<this['numSplats'];_0x554ad7++){const _0x5d5d3c=Math['floor']((_0x308639[_0x554ad7]-_0x47567b)*_0x3b6ad1),_0x471846=Math['floor']((_0x6b1921[_0x554ad7]-_0xb4c956)*_0x236a7d),_0x2257d5=Math['floor']((_0x599937[_0x554ad7]-_0x366439)*_0x21edb5),_0x7d95cc=_0xe7d63a(_0x5d5d3c,_0x471846,_0x2257d5),_0x3ab39f=_0x11de40['get'](_0x7d95cc);_0x3ab39f?_0x3ab39f['push'](_0x554ad7):_0x11de40['set'](_0x7d95cc,[_0x554ad7]);}const _0xffd6ad=Array['from'](_0x11de40['keys']())['sort']((_0x5ac8ae,_0x3dd24e)=>_0x5ac8ae-_0x3dd24e),_0xfdc12e=new Uint32Array(this['numSplats']);let _0x202931=0xb9d+-0xc74+-0xd7*-0x1;for(let _0x5f5019=0xdd5+0x1929+-0x592*0x7;_0x5f5019<_0xffd6ad['length'];++_0x5f5019){const _0x190517=_0x11de40['get'](_0xffd6ad[_0x5f5019]);for(let _0x18e8ab=-0x1*0x1a2+-0x1*-0x20fb+-0x1*0x1f59;_0x18e8ab<_0x190517['length'];++_0x18e8ab)_0xfdc12e[_0x202931++]=_0x190517[_0x18e8ab];}return _0xfdc12e;}['reorder'](_0x3b9aaf){const _0x3742f8=new Map(),_0x1cf2f4=_0x42a0fb=>{if(_0x3742f8['has'](_0x42a0fb)){const _0x348ee5=_0x3742f8['get'](_0x42a0fb);return _0x3742f8['delete'](_0x42a0fb),_0x348ee5;}return new ArrayBuffer(_0x42a0fb);},_0x3f80fe=_0x275aa4=>{_0x3742f8['set'](_0x275aa4['byteLength'],_0x275aa4);},_0x2bede8=_0x3851f7=>{const _0x63d0f8=new _0x3851f7['constructo'+'r'](_0x1cf2f4(_0x3851f7['byteLength']));for(let _0x55897f=-0x71*0x19+0x776+-0x3*-0x131;_0x55897f<_0x3b9aaf['length'];_0x55897f++)_0x63d0f8[_0x55897f]=_0x3851f7[_0x3b9aaf[_0x55897f]];return _0x3f80fe(_0x3851f7['buffer']),_0x63d0f8;};this['elements']['forEach'](_0x54e1e8=>{_0x54e1e8['properties']['forEach'](_0x4049fc=>{_0x4049fc['storage']&&(_0x4049fc['storage']=_0x2bede8(_0x4049fc['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x12b87b={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x438266=_0x12b87b['dither']??Ds,_0x3acc2e=_0x438266!==Ds,_0x3643bb=new Ia({'uniqueName':'SplatMater'+'ial','vertexCode':_0x12b87b['vertex']??X['gsplatVS'],'fragmentCode':_0x12b87b['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ya}});return _0x3643bb['setDefine']('DITHER_'+_0x438266['toUpperCas'+'e'](),''),_0x3643bb['cull']=mt,_0x3643bb['blendType']=_0x3acc2e?ns:Ot,_0x3643bb['depthWrite']=_0x3acc2e,_0x3643bb['update'](),_0x3643bb;};async function z1(){self['onmessage']=async _0x24a34b=>{const {data:_0x4b927d}=_0x24a34b;switch(_0x4b927d['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x46a585(_0x4b927d['numSplats'],_0x4b927d['shBands'],_0x4b927d['SHData']);break;}};const _0x46a585=(_0x751fb5,_0x2ac4bd,_0x30c00a)=>{const _0x192b00=new Uint32Array(_0x751fb5*(-0x1c87+0x213e+-0x4b3)),_0x197617=new Uint32Array(_0x751fb5*(-0x118d*0x2+0x1*0xa1f+-0x3*-0x855)),_0x19241c=new Uint32Array(_0x751fb5*(-0x17ec+-0x1593+0x1*0x2d83)),_0x31060e=new Uint32Array(_0x751fb5*(-0x25*-0x13+-0x25*0xad+0x1646)),_0x122990={0x1:0x3,0x2:0x8,0x3:0xf}[_0x2ac4bd],_0x2f00b2=_0x30c00a,_0x42d42c=-0xb88+0x1bfa+-0x873,_0x5284a5=0x10fc+0xbaa+-0x18a7,_0x59b739=new Float32Array(0xb5c+0x7e0*-0x4+0x1425),_0x53325e=new Uint32Array(_0x59b739['buffer']),_0xcc0594=new Array(_0x122990*(-0x7e8+-0x2*0x5db+0x13a1))['fill'](-0x13*-0x172+0x1*-0x1fd0+-0x1*-0x45a);for(let _0x112dc4=-0x9f5+-0x6*0x425+0x6f7*0x5;_0x112dc4<_0x751fb5;++_0x112dc4){for(let _0x164377=-0x1*-0x12bf+0x2035+-0x32f4;_0x164377<_0x122990;++_0x164377)_0xcc0594[_0x164377*(-0x114*0x4+0x414*0x3+-0x7e9)]=_0x2f00b2[_0x164377][_0x112dc4],_0xcc0594[_0x164377*(0xd7*0x4+0x3*0xda+-0x1*0x5e7)+(-0x2153+-0x27*-0xe6+-0x49*0x6)]=_0x2f00b2[_0x164377+_0x122990][_0x112dc4],_0xcc0594[_0x164377*(-0x26c4+-0x2295*-0x1+0x432)+(-0x1140+-0xc*0x85+-0x1*-0x177e)]=_0x2f00b2[_0x164377+_0x122990*(0x1b8c*0x1+0x3*-0xcfb+0x15*0x8b)][_0x112dc4];let _0x32a0f4=_0xcc0594[-0x1d6e+-0x26ef+0x445d];for(let _0xef605a=-0x564+0x24d3+-0x1f6e;_0xef605a<_0x122990*(0x1*0x10fc+-0x3*-0x2eb+-0x19ba);++_0xef605a)_0x32a0f4=Math['max'](_0x32a0f4,Math['abs'](_0xcc0594[_0xef605a]));if(_0x32a0f4!==-0x37*-0x51+0x4c6+-0x162d*0x1){for(let _0x4e4df3=-0x224b*-0x1+-0x6a6*0x1+-0x1ba5;_0x4e4df3<_0x122990;++_0x4e4df3)_0xcc0594[_0x4e4df3*(0x306*-0xb+0x26b9+-0x574)+(0xa*0x1b3+-0x21e5*-0x1+-0x32e3)]=Math['max'](-0x194c+0x118b+0x7c1,Math['min'](_0x42d42c,Math['floor']((_0xcc0594[_0x4e4df3*(-0x1e54*-0x1+-0xbdd+-0x1274)+(0x579+0x1e19+-0x2392)]/_0x32a0f4*(-0x1*-0x1c7b+0x1026+-0x8ed*0x5+0.5)+(-0x21f5*-0x1+-0xed*0x7+-0x1b7a*0x1+0.5))*_0x42d42c+(-0x3*-0xa8a+0x1c2b+-0x1*0x3bc9+0.5)))),_0xcc0594[_0x4e4df3*(-0x86a+-0x3c0+0xc2d)+(-0x1a40+0x2515+0x3f*-0x2c)]=Math['max'](-0x2078+0x2*-0x150+-0x2318*-0x1,Math['min'](_0x5284a5,Math['floor']((_0xcc0594[_0x4e4df3*(-0x13ae+0x1a40+-0x17*0x49)+(0x4f2+-0x124f+0xd5e)]/_0x32a0f4*(-0x84f+0x4ca+0x385+0.5)+(0x128e+0x1744+-0x6a*0x65+0.5))*_0x5284a5+(-0xffd*0x1+0x6b0+0x94d+0.5)))),_0xcc0594[_0x4e4df3*(0x5b5*0x5+0x2*-0x75a+-0x2*0x6e9)+(-0x5*-0x79f+0x5f*0x29+-0x3550)]=Math['max'](0xa4f+0x6*0x67a+-0x312b,Math['min'](_0x42d42c,Math['floor']((_0xcc0594[_0x4e4df3*(-0x259c*0x1+0x9cb+-0x2*-0xdea)+(0x18d0*-0x1+0xc6b+0xc67)]/_0x32a0f4*(-0x25d3+-0x2db+0x29*0xfe+0.5)+(0x188e+0xdcc*0x1+-0x265a+0.5))*_0x42d42c+(0x1*-0x5a4+0x1d37+-0x55*0x47+0.5))));_0x59b739[-0x1da9+-0x11*-0x59+-0x4c0*-0x5]=_0x32a0f4,_0x192b00[_0x112dc4*(0x12f9+0xa13*-0x3+0xb44)+(-0x451+-0x1c83+0x20d4)]=_0x53325e[-0xb*0xe4+0x14ef+-0xb23*0x1],_0x192b00[_0x112dc4*(0xad*0x9+-0x4a*0x6d+-0x1971*-0x1)+(-0x1368+-0x1*-0x407+-0x7b1*-0x2)]=_0xcc0594[-0x17*-0x155+0xb*-0x153+-0x1012]<<-0x2b*0xc7+0x2aa*0x9+-0xa*-0xf4|_0xcc0594[0x21ab+-0x1*-0xcdc+0xf*-0x31a]<<0x1*-0xe59+-0x1cbd+-0xb5*-0x3d|_0xcc0594[-0x8e5+0xe39+-0x552],_0x192b00[_0x112dc4*(-0x6*-0x229+0x2d0+-0xfc2)+(0x1735+-0x2*-0x687+-0x1*0x2441)]=_0xcc0594[-0x101d*0x1+-0xa94*-0x1+0x58c]<<-0x1*0xbc3+0x14c*0x13+0x333*-0x4|_0xcc0594[-0x269b+-0xc2*-0x11+-0x19bd*-0x1]<<-0x3a*-0x4d+-0x2*0x129b+-0x1cd*-0xb|_0xcc0594[-0xa45+0x4dc+0x56e],_0x192b00[_0x112dc4*(-0x1ef4+-0x1*0x1ea3+-0x1*-0x3d9b)+(0x1*-0x271+0x1*-0x1a2f+0x1ca3)]=_0xcc0594[0x191e+0x5*0x295+0x1a7*-0x17]<<-0x1*0x15be+-0x35a*-0x1+0x1279|_0xcc0594[-0x6f*-0x51+0x1abf+0x3*-0x149d]<<0xfe2*-0x2+0x23+-0x1*-0x1fac|_0xcc0594[-0x1*0x72b+-0xa*-0x87+0x1ed],_0x2ac4bd>-0x1*0x301+0x1729+-0x1427&&(_0x197617[_0x112dc4*(-0x1f4c+-0x1c37+0x3b87*0x1)+(0x1*-0xca7+-0x1fdd+0x2c84)]=_0xcc0594[-0x242b+-0x1ef5+0x4329]<<-0x4d9+-0x773+0xc61|_0xcc0594[-0x115*0x5+-0x28c*-0xb+-0x35*0x6d]<<-0x135c+-0x71*-0x5+0x2*0x899|_0xcc0594[-0xf2f*0x1+-0x1dfc*0x1+0x2d36],_0x197617[_0x112dc4*(0x26cb+-0x1453+-0x2*0x93a)+(-0x5*-0x4e4+-0x1*0x92b+-0xf48)]=_0xcc0594[-0x1*0x1a51+-0x1*0x18e5+0x19a1*0x2]<<0xf24+0x14dc+-0x5*0x72f|_0xcc0594[0x1b95+-0x3*-0x53+-0x1c81]<<0x16dd+0xb49+-0x1*0x221b|_0xcc0594[0x6c9+0x2*0xf65+-0x1*0x2585],_0x197617[_0x112dc4*(-0x4*-0x577+0x63+-0x3*0x769)+(0xe7c+0x16ed*-0x1+-0x7*-0x135)]=_0xcc0594[0x47*-0x6a+0xbca+-0x11ab*-0x1]<<-0x1b3e+0x925*-0x2+-0x1*-0x2d9d|_0xcc0594[0x147*0x1d+-0xe4b*-0x2+0x175*-0x2d]<<-0x6f8+0x17dd+-0x10da|_0xcc0594[0x10be+0xd92+-0x1e3f],_0x197617[_0x112dc4*(0x1d*0xc5+0x1*0xebe+-0x250b)+(0x312+-0x4*0x18d+0x23*0x17)]=_0xcc0594[-0x19c6+0xb1c+0x52*0x2e]<<0xbd0+0x1d05+-0x28c0|_0xcc0594[-0xa7e+0x1*0x26d1+-0x1c40]<<0x1175+-0x1*0x2669+0xd7*0x19|_0xcc0594[0x1ce1+0x22b*0x9+-0x3050],_0x2ac4bd>0x104c*0x1+-0x652*0x4+0x8fe?(_0x19241c[_0x112dc4*(-0x53*-0x58+0x14d*0x5+-0x2305)+(-0x134d+0x25b*-0x9+0x36*0xc0)]=_0xcc0594[0x1d47+0x7*-0x413+-0x1*0xad]<<0x17cf+0x17b3*-0x1+0x1*-0x7|_0xcc0594[-0x1*-0x94e+0x48f+-0xdc7*0x1]<<0x1ed5*0x1+-0x189f+-0x62b|_0xcc0594[0x79c+0x1ac5+-0x15*0x1a2],_0x19241c[_0x112dc4*(-0x56*-0x61+0x24ee+0x10*-0x458)+(0x4*0xad+0x3*0x656+-0x15b5)]=_0xcc0594[0x17c9+-0x127*0x3+-0x143c]<<-0x1c25+0xc4f*0x1+0xa3*0x19|_0xcc0594[0x2a*-0x5e+-0x12e5*-0x2+0x1645*-0x1]<<-0x1805+0x2440+-0x14*0x9c|_0xcc0594[0x1b93+0x1d*0x9f+-0x2d7c],_0x19241c[_0x112dc4*(0x9b+0x17*-0x9b+-0x6ab*-0x2)+(0x2c9+0xa7*-0x11+0x850)]=_0xcc0594[-0x29*-0x1e+-0x2084+0x1bd1*0x1]<<0x1ee9+0x1350+-0x3224|_0xcc0594[-0x1939*0x1+0x13eb*-0x1+0x40*0xb5]<<-0x472*-0x7+-0x972+-0x15a1|_0xcc0594[-0x2290+-0x2401+0x1*0x46ae],_0x19241c[_0x112dc4*(0xaf4+0x59e+0xd*-0x146)+(-0x17d*0xc+0x1*-0x1105+0x22e4)]=_0xcc0594[-0xeb9*0x1+0xa0*0x10+0x4d7]<<-0x1d27*-0x1+-0x189b+-0x477|_0xcc0594[-0x25eb*-0x1+-0x14cc+-0x1100]<<0x67*-0x16+-0x5*-0x348+-0x783|_0xcc0594[0x225d+-0x14cb+-0x2*0x6b9],_0x31060e[_0x112dc4*(-0x1*0x1e9b+0x7fd+0x16a2*0x1)+(-0x21*-0x109+-0xca6+-0x1583)]=_0xcc0594[-0x25cd*-0x1+0x821*-0x2+-0x156a]<<0x4*0x78e+0x3a6*-0x2+0x3*-0x79d|_0xcc0594[0x3*-0x4b2+0x15c5+-0x78d]<<-0x1ce5*0x1+0x16b7+-0x1*-0x639|_0xcc0594[0x2*0x979+-0x2c*0x4a+0x1*-0x617],_0x31060e[_0x112dc4*(0x1*0x25f6+0x205c+-0x2327*0x2)+(-0x1b5+0x3*0xb5c+-0x3*0xaca)]=_0xcc0594[-0x2f3*0x5+-0x1ce0+0x2bc3*0x1]<<0xe*-0x15d+0x25*0x50+0x79b*0x1|_0xcc0594[0xe8*-0x8+0x6f5*0x1+-0x4*-0x1c]<<0x13*0x9+-0x2636+-0x11*-0x236|_0xcc0594[-0x2044+0x1*-0x200e+-0x101e*-0x4],_0x31060e[_0x112dc4*(-0x1*-0x8e1+-0x1e7*0x13+0x1b48)+(-0x772+-0x670+0xde4)]=_0xcc0594[-0x1c9a+0xad+0x1c14]<<0x249d+-0x1*-0x834+-0x2cbc|_0xcc0594[0x3e*-0x1+-0x3*0x199+0x1bb*0x3]<<-0xfc+0x3*-0x74b+0x16e8|_0xcc0594[0xb2b*0x2+0xbaf+-0x2c*0xc5],_0x31060e[_0x112dc4*(-0x1*0x1582+0x7*0x9c+0x1142)+(0x1*-0x23d+-0x1d02+-0xfa1*-0x2)]=_0xcc0594[-0x52f*-0x2+-0x19e2+0x1be*0x9]<<-0xfd*0x2+-0x1643+0x1*0x1852|_0xcc0594[0x864+-0x11b8+0x97f]<<-0x37a+-0x7eb*0x3+0x1b46*0x1|_0xcc0594[-0x826*0x1+-0x1bb*-0x15+-0x31d*0x9]):_0x19241c[_0x112dc4]=_0xcc0594[0x35*0xa6+-0x1*-0x7d3+-0x62*0x6e]<<0x25f7+0xa51*-0x2+-0x1140|_0xcc0594[0x477*0x1+-0x19*0x13b+0x1a62]<<0x3*0x11+0xb1d*-0x1+0xaf5|_0xcc0594[0xfbd+0x2*-0xc39+0x8cc]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x192b00,'sh4to7Data':_0x197617,'sh8to11Data':_0x19241c,'sh12to15Data':_0x31060e},[_0x192b00['buffer'],_0x197617['buffer'],_0x19241c['buffer'],_0x31060e['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x476ee6=>{if(!this['worker'])return;const {data:_0x55e25d}=_0x476ee6;switch(_0x55e25d['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x55e25d['sh1to3Data'],_0x55e25d['sh4to7Data'],_0x55e25d['sh8to11Dat'+'a'],_0x55e25d['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x3f1532,_0x13a739,_0x13bafe){var _0x16b4ad;(_0x16b4ad=this['worker'])==null||_0x16b4ad['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x3f1532,'shBands':_0x13a739,'SHData':_0x13bafe});}['destroy'](){var _0x270b4d;this['worker']&&((_0x270b4d=this['worker'])==null||_0x270b4d['terminate'](),this['worker']=null);}}const U_=(_0x4dff08,_0x5614c8)=>{const _0x47a636=[];for(let _0x39a9b2=-0xd89+-0x39e*0x6+-0x123*-0x1f;_0x39a9b2<_0x5614c8;++_0x39a9b2)_0x47a636['push'](_0x4dff08['getProp']('f_rest_'+_0x39a9b2));return _0x47a636;};class V1{constructor(_0x19a0de,_0x56ee22){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x58a5e6=_0x56ee22['numSplats'];this['device']=_0x19a0de,this['numSplats']=_0x58a5e6,this['numSplatsV'+'isible']=_0x58a5e6,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x56ee22['numSplats']*(-0x1*0x136+-0xc11+-0x2a*-0x51)),this['motion']=new Float32Array(_0x56ee22['numSplats']*(-0x2ea*-0x2+-0x3eb+-0x1e6)),this['timeIndex']=new Float32Array(_0x56ee22['numSplats']),_0x56ee22['getCenters'](this['centers']),_0x56ee22['getMotion'](this['motion']),_0x56ee22['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x56ee22['getMuT'](this['timeOption']),this['tScale']=_0x56ee22['getTScale'](),this['is4D']=_0x56ee22['is4D'],this['aabb']=new _e(),_0x56ee22['calcAabb'](this['aabb']);const _0x18b82a=this['evalTextur'+'eSize'](_0x58a5e6);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Qe,_0x18b82a),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x18b82a),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Qe,_0x18b82a),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x18b82a),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ye,_0x18b82a),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ye,_0x18b82a)),this['updateColo'+'rData'](_0x56ee22),this['updateTran'+'sformData'](_0x56ee22),this['shBands']=_0x56ee22['shBands'],this['shBands']>-0x9a2+-0x5f*-0x46+0x82c*-0x2&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x18b82a),this['shBands']>-0x172*0x5+0x12ae+0xb73*-0x1&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x18b82a),this['shBands']>0x1*0x1bec+-0xdb5*-0x1+0x1*-0x299f?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x18b82a),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x18b82a)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x18b82a)),this['updateSHDa'+'ta'](_0x56ee22));}['updateData'](_0x18fe22){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x424a28=_0x18fe22['numSplats'];this['numSplats']=_0x424a28,this['numSplatsV'+'isible']=_0x424a28,this['centers']=new Float32Array(_0x18fe22['numSplats']*(-0x53f*-0x2+-0x2*-0x72b+-0x18d1)),this['motion']=new Float32Array(_0x18fe22['numSplats']*(0x63d+0xbed+-0x1227)),this['timeIndex']=new Float32Array(_0x18fe22['numSplats']),_0x18fe22['getCenters'](this['centers']),_0x18fe22['getMotion'](this['motion']),_0x18fe22['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x18fe22['getMuT'](this['timeOption']),this['tScale']=_0x18fe22['getTScale'](),this['is4D']=_0x18fe22['is4D'],this['aabb']=new _e(),_0x18fe22['calcAabb'](this['aabb']);const _0x533ff6=this['evalTextur'+'eSize'](_0x424a28);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Qe,_0x533ff6),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x533ff6),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Qe,_0x533ff6),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x533ff6),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ye,_0x533ff6),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ye,_0x533ff6)),this['updateColo'+'rData'](_0x18fe22),this['updateTran'+'sformData'](_0x18fe22),this['shBands']=_0x18fe22['shBands'],this['shBands']>0x1*0x106f+0x147e+-0x24ed&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x533ff6),this['shBands']>-0x2101+-0xc5*-0x1a+0xd00&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x533ff6),this['shBands']>0x1b6d+-0x2*-0x560+0x3*-0xcb9?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x533ff6),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x533ff6)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x533ff6)),this['updateSHDa'+'ta'](_0x18fe22));}['destroy'](){var _0x27ac6d,_0x19e7ef,_0x1fe429,_0x3ff941,_0x550a79,_0x230cfa,_0x2b45ce,_0x561f47,_0x3fcff7,_0xbca404;(_0x27ac6d=this['colorTextu'+'re'])==null||_0x27ac6d['destroy'](),(_0x19e7ef=this['transformA'+'Texture'])==null||_0x19e7ef['destroy'](),(_0x1fe429=this['transformB'+'Texture'])==null||_0x1fe429['destroy'](),(_0x3ff941=this['transformR'+'Texture'])==null||_0x3ff941['destroy'](),(_0x550a79=this['transformT'+'SpeedTextu'+'re'])==null||_0x550a79['destroy'](),(_0x230cfa=this['transformT'+'Texture'])==null||_0x230cfa['destroy'](),(_0x2b45ce=this['sh1to3Text'+'ure'])==null||_0x2b45ce['destroy'](),(_0x561f47=this['sh4to7Text'+'ure'])==null||_0x561f47['destroy'](),(_0x3fcff7=this['sh8to11Tex'+'ture'])==null||_0x3fcff7['destroy'](),(_0xbca404=this['sh12to15Te'+'xture'])==null||_0xbca404['destroy']();}['createMate'+'rial'](_0x2acb8b){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x3fac01=z0(_0x2acb8b);return _0x3fac01['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x3fac01['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x3fac01['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x3fac01['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x3fac01['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x3fac01['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x3fac01['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x3fac01['setDefine']('SH_BANDS',this['shBands']),_0x3fac01['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x3fac01['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x3fac01['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x3fac01['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x3fac01['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x3fac01;}['evalTextur'+'eSize'](_0x530db9){const _0x2bb3bb=Math['ceil'](Math['sqrt'](_0x530db9)),_0x15a149=Math['ceil'](_0x530db9/_0x2bb3bb);return new W(_0x2bb3bb,_0x15a149);}['createText'+'ure'](_0x40e7d7,_0x204dea,_0x2baa3d){return new he(this['device'],{'name':_0x40e7d7,'width':_0x2baa3d['x'],'height':_0x2baa3d['y'],'format':_0x204dea,'cubemap':!(-0x32*-0xad+-0x34*0x1d+-0x1*0x1be5),'mipmaps':!(0x18c3+0x8*-0x97+-0x140a),'minFilter':de,'magFilter':de,'addressU':ne,'addressV':ne});}['updateColo'+'rData'](_0x14aea3){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x5e88d=this['colorTextu'+'re'];if(!_0x5e88d)return;const _0x54f55f=qt['float2Half'],_0x7b8f1a=_0x5e88d['lock'](),_0x3e8edf=_0x14aea3['getProp']('f_dc_0'),_0xc2238=_0x14aea3['getProp']('f_dc_1'),_0x2074bd=_0x14aea3['getProp']('f_dc_2'),_0x337dba=_0x14aea3['getProp']('opacity'),_0x35d1ff=0xf1d*-0x1+-0x231d+0x10be*0x3+0.28209479177387814;for(let _0x205bab=-0x2415+0x6*0x414+-0xb9d*-0x1;_0x205bab<this['numSplats'];++_0x205bab){const _0x43279b=_0x3e8edf[_0x205bab]*_0x35d1ff+(0x6a5+0x20f9+-0x39a*0xb+0.5),_0x54cb62=_0xc2238[_0x205bab]*_0x35d1ff+(-0x3*0x9e6+0x127d+0x97*0x13+0.5),_0x414951=_0x2074bd[_0x205bab]*_0x35d1ff+(-0x25e7+0x19c8+-0x6b*-0x1d+0.5),_0x2a95c0=(-0x31c+0x12e0+0x10d*-0xf)/(0xd67*0x1+0x2bb+-0x1*0x1021+Math['exp'](-_0x337dba[_0x205bab]));_0x7b8f1a[_0x205bab*(0x7*0x266+0xb11+-0x1bd7)+(-0x1cd*0x7+-0xd*0x295+0x314*0xf)]=_0x54f55f(_0x43279b),_0x7b8f1a[_0x205bab*(-0x26f2+0x268d+0x15*0x5)+(0x113f*0x1+-0x17*-0x14e+0x1b0*-0x1c)]=_0x54f55f(_0x54cb62),_0x7b8f1a[_0x205bab*(-0x658+0x5*0x584+-0x1538)+(-0x891+-0x151*0x1d+0x2ec*0x10)]=_0x54f55f(_0x414951),_0x7b8f1a[_0x205bab*(0x15*-0x11f+-0xfb8+-0x1*-0x2747)+(-0x2157+-0x1*-0xda+0x1040*0x2)]=_0x54f55f(_0x2a95c0);}_0x5e88d['unlock']();}['updateTran'+'sformData'](_0x13711b){var _0x12dbf7,_0x12479f,_0xd1195c,_0x379484;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x49b921=qt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x3fec9b=this['transformA'+'Texture']['lock'](),_0x55b5c2=new Float32Array(_0x3fec9b['buffer']),_0x19414a=this['transformR'+'Texture']['lock'](),_0x2e464a=new Float32Array(_0x19414a['buffer']),_0x570dd5=this['transformB'+'Texture']['lock'](),_0x586d87=(_0x12dbf7=this['transformT'+'SpeedTextu'+'re'])==null?void(-0x10*-0x102+-0x1*-0x147a+-0x752*0x5):_0x12dbf7['lock']();let _0x4a75f4;_0x586d87&&(_0x4a75f4=new Float32Array(_0x586d87['buffer']));const _0x5223a8=(_0x12479f=this['transformT'+'Texture'])==null?void(-0x1947+0x214+0x1733):_0x12479f['lock']();let _0x571961;_0x5223a8&&(_0x571961=new Float32Array(_0x5223a8['buffer']));const _0x1a4e52=new T(),_0x542a50=new te(),_0x5bfb40=new T(),_0xc83547=new T(),_0x295ee4=_0x13711b['createIter'](_0x1a4e52,_0x542a50,_0x5bfb40,null,_0xc83547),_0x3cecfb=_0x13711b['getProp']('t'),_0x5a9008=_0x13711b['getProp']('t_scale');for(let _0x10c0b2=-0x377+0x35*0x17+-0x14c*0x1;_0x10c0b2<this['numSplats'];_0x10c0b2++)_0x295ee4['read'](_0x10c0b2),_0x542a50['normalize'](),_0x542a50['w']<-0x9e5*0x2+-0xc4e+0x2018&&_0x542a50['mulScalar'](-(0x51*0x2+0xdd2*-0x1+0xd31)),_0x55b5c2[_0x10c0b2*(0x314+-0xa*0x1f7+-0x84b*-0x2)+(-0x1af6+-0x4c1*0x2+0x91e*0x4)]=_0x1a4e52['x'],_0x55b5c2[_0x10c0b2*(0x1ce*-0xc+0x1edc+0x70*-0x15)+(-0x180c+0x1f7*0x13+-0xd48)]=_0x1a4e52['y'],_0x55b5c2[_0x10c0b2*(0x1a9e+-0xd*-0xd2+-0x2544)+(-0x16bb+0x962+0xd5b)]=_0x1a4e52['z'],_0x570dd5[_0x10c0b2*(-0x1fde*-0x1+0x112*-0x15+-0x960)+(0x1071+-0x22f7*-0x1+-0x3368)]=_0x49b921(_0x5bfb40['x']),_0x570dd5[_0x10c0b2*(0x15e+0xe1d+-0xf77)+(0x188b+-0x1558+-0x332)]=_0x49b921(_0x5bfb40['y']),_0x570dd5[_0x10c0b2*(-0x1*-0x16d+0x5a*0x49+0xef*-0x1d)+(-0xf52+-0x10*0x42+0x1374)]=_0x49b921(_0x5bfb40['z']),_0x2e464a[_0x10c0b2*(-0x16ea+0xc81+0xa6d)+(-0x87*0x2a+-0x15*0x17+0x15*0x125)]=_0x542a50['x'],_0x2e464a[_0x10c0b2*(-0x3*-0xb7f+0x1*0x6b5+-0x3*0xdba)+(-0x223b+-0x825+0x23b*0x13)]=_0x542a50['y'],_0x2e464a[_0x10c0b2*(0x18de+0x9*0x3d9+0x1*-0x3b7b)+(-0xd+-0x15a0+0x15af)]=_0x542a50['z'],this['is4D']&&_0x4a75f4&&_0x571961&&(_0x4a75f4[_0x10c0b2*(0x1*0x2173+-0x1b75+-0x5fa)+(-0xd*0x63+0x24b*0x2+-0x1*-0x71)]=_0xc83547['x'],_0x4a75f4[_0x10c0b2*(0x1*-0x1edf+0x26ae*-0x1+0x4591)+(0x12e8+0x220*-0x10+0xf19)]=_0xc83547['y'],_0x4a75f4[_0x10c0b2*(0x4*-0x80e+0x1b72+0x265*0x2)+(-0x1aab+-0x74*0x3a+0x11a7*0x3)]=_0xc83547['z'],_0x571961[_0x10c0b2*(-0x2*-0x27d+-0x1e*0x8c+0xb72)+(0x1df4+0x6*0x5f7+0x14a*-0x33)]=_0x3cecfb?_0x3cecfb[_0x10c0b2]:0xc4f+0x49c+-0x10eb,_0x571961[_0x10c0b2*(0xf9*0x1b+-0x12f*-0xb+-0x2744)+(-0xb*0x33f+-0xeec+0x1*0x32a2)]=_0x5a9008?Math['exp'](_0x5a9008[_0x10c0b2]):0x7*-0x418+-0x26c1*-0x1+-0xa19);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0xd1195c=this['transformT'+'SpeedTextu'+'re'])==null||_0xd1195c['unlock'](),(_0x379484=this['transformT'+'Texture'])==null||_0x379484['unlock']();}['updateSHDa'+'ta'](_0x461099){var _0x4c4e01,_0x520533,_0x40c826,_0x57a441,_0x4d2570,_0x21e21c,_0x40ef05;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x2944bc=(_0x4c4e01=this['sh1to3Text'+'ure'])==null?void(-0xc2e*0x2+0xc6b+0xbf1):_0x4c4e01['lock'](),_0x1fcd9f=(_0x520533=this['sh4to7Text'+'ure'])==null?void(-0x193*-0x1+-0x1b7c+0x63*0x43):_0x520533['lock'](),_0x18082d=(_0x40c826=this['sh8to11Tex'+'ture'])==null?void(0x17ac+0x613+-0x1dbf):_0x40c826['lock'](),_0x22c159=(_0x57a441=this['sh12to15Te'+'xture'])==null?void(-0x2*0x107f+0xa10+0x16ee):_0x57a441['lock'](),_0x5a067c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x36b649=U_(_0x461099,_0x5a067c*(0x1ea7+0x162b+-0x34cf)),_0x556e4f=-0x4a1+0x5*-0x781+0x185*0x21,_0x4f2c92=0x173*-0x2+-0xdb5*-0x1+0x4*-0x1b4,_0x5e52af=new Float32Array(0x1a6*0x1+0x1df7*-0x1+0x1c52),_0x593a38=new Uint32Array(_0x5e52af['buffer']),_0x49139f=new Array(_0x5a067c*(0x1c66+0x199f*0x1+-0x3e*0xdf))['fill'](0xf33+0x3*-0x40d+0xc*-0x41);for(let _0x59f3c7=-0x36*-0x5+0x23c2+-0x24d0;_0x59f3c7<_0x461099['numSplats'];++_0x59f3c7){for(let _0x5412a0=0x1634+-0xcf1*-0x1+0x2325*-0x1;_0x5412a0<_0x5a067c;++_0x5412a0)_0x49139f[_0x5412a0*(0x1*-0x159a+-0x1191+0x55*0x76)]=_0x36b649[_0x5412a0][_0x59f3c7],_0x49139f[_0x5412a0*(0x32a*-0xb+0x6*-0x371+0x3777)+(-0x17*0x7f+-0x1ba8+0x2712)]=_0x36b649[_0x5412a0+_0x5a067c][_0x59f3c7],_0x49139f[_0x5412a0*(-0x12ae+0x6fe+-0x257*-0x5)+(-0xd13*-0x2+-0x2b*0xce+0x876)]=_0x36b649[_0x5412a0+_0x5a067c*(0x1b72+-0xd04+-0xe6c)][_0x59f3c7];let _0x3e40b1=_0x49139f[-0x23a*0x10+-0x47a+0x281a];for(let _0x5a0c8e=0x10f*0x17+0x1e16+-0x366e;_0x5a0c8e<_0x5a067c*(-0x245c+0x266*0xd+0x531*0x1);++_0x5a0c8e)_0x3e40b1=Math['max'](_0x3e40b1,Math['abs'](_0x49139f[_0x5a0c8e]));if(_0x3e40b1!==-0x1234+-0x4*-0x6d7+-0x928){for(let _0x5b4084=-0x1a03+-0x5*-0x685+-0x696*0x1;_0x5b4084<_0x5a067c;++_0x5b4084)_0x49139f[_0x5b4084*(0x1ff6+0x1d15+-0x3d08)+(-0xf66+-0x5*0x103+0x1475*0x1)]=Math['max'](-0x1f0c+0x6c7*0x1+-0x1845*-0x1,Math['min'](_0x556e4f,Math['floor']((_0x49139f[_0x5b4084*(0x21b3*-0x1+0x10a0+0x1116)+(-0xaca+0x1542+0x8*-0x14f)]/_0x3e40b1*(0x2455+-0x49*0x2e+-0x11b*0x15+0.5)+(-0x2148+0x13*0xe3+0x1*0x106f+0.5))*_0x556e4f+(-0x109*0x1b+-0x2*0xd72+0x8b*0x65+0.5)))),_0x49139f[_0x5b4084*(-0x2*0xb8+-0x186a+0x19dd)+(-0x2052+-0x1576+0x35c9)]=Math['max'](-0x1069+-0xf4a*0x2+-0x17*-0x20b,Math['min'](_0x4f2c92,Math['floor']((_0x49139f[_0x5b4084*(-0x1621+0x2604+-0xfe0)+(0x4ec+-0x16*0x12+-0x35f)]/_0x3e40b1*(0x3a3*-0x6+-0x5*0x68f+-0x4f7*-0xb+0.5)+(0xd*-0x25e+0x1f40+-0x1*0x7a+0.5))*_0x4f2c92+(-0x1adf+0x91f+0x11c0+0.5)))),_0x49139f[_0x5b4084*(0x50f*-0x3+0xa*-0x396+0x330c)+(-0x1*-0x14d9+-0x738+-0xd9f)]=Math['max'](-0x1dc5+0xc1*-0x33+-0x110e*-0x4,Math['min'](_0x556e4f,Math['floor']((_0x49139f[_0x5b4084*(-0x1acf*-0x1+-0x2065+0x1*0x599)+(-0x50f+-0x21a1*0x1+0x26b2)]/_0x3e40b1*(0xfdc+0xf58+0xf9a*-0x2+0.5)+(0x1d64+-0xcdc*-0x3+0x78*-0x91+0.5))*_0x556e4f+(-0x7b8+0x1*-0x2686+0x2e3e+0.5))));_0x5e52af[-0xd17*-0x1+0xc*-0x234+0xd59]=_0x3e40b1,_0x2944bc[_0x59f3c7*(-0x1d*0x1d+-0x137*0xe+0x6c5*0x3)+(0x7b9+-0x3cf+-0x3ea)]=_0x593a38[-0x8*-0x38d+0x1b44*0x1+-0x37ac],_0x2944bc[_0x59f3c7*(0x1*0x409+-0x2564+0x215f)+(0x26db*-0x1+-0x1*0x13c1+0x3a9d)]=_0x49139f[0x153*-0x19+0x15bb+0xb60]<<0x1580+0x1a2e+-0x2f99|_0x49139f[0x20e2+-0x261e*0x1+0x53d]<<0x1d75*0x1+-0x374+-0x1*0x19f6|_0x49139f[-0xe68+0x336*-0x9+0x2b50],_0x2944bc[_0x59f3c7*(0x1bcc+0x1f*0x89+-0x2c5f)+(0x826*0x3+-0x16e5*0x1+-0x18b)]=_0x49139f[-0x27*0x4d+0x26*-0x8a+0x203a]<<-0x12b*-0x19+0x10*-0x39+-0x198e|_0x49139f[0x902+-0xb05+0x207]<<-0x79c+0x1b82+-0x13db|_0x49139f[0x1ae2+-0xe6*-0x13+-0x2bef],_0x2944bc[_0x59f3c7*(0x342*-0xb+-0x1bb2+0x3f8c*0x1)+(-0x3*-0x3af+0x2b*-0x5f+0x4eb*0x1)]=_0x49139f[-0xb6*0x25+0x2*0xeb3+-0x106*0x3]<<0x1d7f+0x5*0x6b+-0x1f81|_0x49139f[-0x12e1+-0xc*-0x290+-0x2*0x5ec]<<0x121e+0xf4+-0x1307|_0x49139f[-0x23be+-0xaa8+0x2e6e],this['shBands']>0x51b*-0x1+-0xcbb+0x1*0x11d7&&(_0x1fcd9f[_0x59f3c7*(0x1f58+-0x1*0x1774+-0x7e0)+(-0x5*0x8f+0x1901+-0x2*0xb1b)]=_0x49139f[-0x48e*-0x1+0x4*0xc2+-0x1*0x78d]<<-0xb9+-0x4*-0xbf+-0x9*0x3e|_0x49139f[-0x1fd4+0x1*0x1c1c+0x1e1*0x2]<<-0x206b*0x1+-0x173b+0x37b1|_0x49139f[-0xa7f*-0x2+-0x7*0x457+0x96e],_0x1fcd9f[_0x59f3c7*(0xd1*-0x2+-0x10b*0x3+0x1*0x4c7)+(0x2119*-0x1+-0x379*-0x1+0x1da1*0x1)]=_0x49139f[-0xeb8+-0x11b9+0x1*0x207d]<<-0xa35+0x25c9+-0x1b7f|_0x49139f[0xee1+-0x5e5*0x2+-0x30a]<<0x2001+0xadf+-0x3*0xe47|_0x49139f[0x1*0x229b+0x1*0x263b+-0x22*0x224],_0x1fcd9f[_0x59f3c7*(0x1b2d+0x3*0x7d9+-0x127*0x2c)+(0x14cc+0x2234+-0x36fe)]=_0x49139f[-0x2548+-0x4a4+0x29fb]<<0xac3*-0x1+-0x1355+0x1e2d|_0x49139f[0x2652+0xac9*0x3+-0x469d]<<0x7*-0x18d+0x5f3*-0x2+0x16cc|_0x49139f[0x125*0x17+0x8f*0x37+-0x38fb],_0x1fcd9f[_0x59f3c7*(0x1762+-0x15b8+-0x1a6)+(0x1735*-0x1+0x1*0x22b7+0x1b*-0x6d)]=_0x49139f[-0x12a3*0x1+-0x4e0+0x1*0x1795]<<-0x2218+0x6a*0x19+-0x7f1*-0x3|_0x49139f[-0x133f+-0x1c*-0xc7+-0x272]<<0x24be+0x1d2b+-0x41de|_0x49139f[0x899*0x1+0x12*0x171+-0x2277],this['shBands']>0x10cb+-0x12fd+0x234?(_0x18082d[_0x59f3c7*(-0x32*-0x7c+0x1c27+-0x345b)+(0x1*-0x709+-0x1*0x17a8+0x1*0x1eb1)]=_0x49139f[0x646+0x469+-0xa9a]<<0x2207+-0x1e3f+-0x3b3*0x1|_0x49139f[-0x1*0x1b41+-0x127d*0x1+0x2dd4]<<-0x1bc1+-0x1a6c*0x1+0x4*0xd8e|_0x49139f[-0x1506+0x93*0x25+-0x22],_0x18082d[_0x59f3c7*(0x2640+-0xa0a*0x1+-0x1c32)+(-0x1ead+0x2*-0x1127+0x40fc)]=_0x49139f[-0x7a+0x1ed5+0x1*-0x1e43]<<-0xc3e+-0x496+-0x9*-0x1e1|_0x49139f[-0x2514+0x1d51+-0x1*-0x7dc]<<-0x11f+0x2028+-0x1efe|_0x49139f[0x1*0x1615+0x1002+0x5*-0x799],_0x18082d[_0x59f3c7*(0x24d4*0x1+-0x2094+-0x43c)+(-0x13c9+-0x25*-0x108+-0x125d)]=_0x49139f[0x23cc+-0xb56+-0x185b]<<-0x1621+0x1*0x47f+-0x1*-0x11b7|_0x49139f[-0xbcb*0x3+0x2d*-0xa6+0x1d9*0x23]<<0x1d28+-0x208a+0x36d|_0x49139f[0x4f*-0x29+-0xc2d+0x18f1],_0x18082d[_0x59f3c7*(-0x602*0x2+0x2da*0xa+-0x107c)+(-0x13ed*-0x1+0x1f*-0x107+0xbef)]=_0x49139f[0x89e+-0x1*-0x935+-0x5e7*0x3]<<0x1a*0xa4+0x3*-0xcc1+0x1*0x15b0|_0x49139f[-0x52f+-0x23f1+0x293f]<<-0x117c+-0x21f8+0x337f|_0x49139f[0x90*0x32+0x148f*0x1+-0x191*0x1f],_0x22c159[_0x59f3c7*(-0xace*0x3+0x466*-0x5+0x6c*0x81)+(0x12b3+-0x301*-0x3+-0x1bb6)]=_0x49139f[-0x1b08+-0x119*0x17+0x56*0x9c]<<0x340*0xa+-0x6f*-0x3b+-0x3a00|_0x49139f[-0x559+-0x1*0xee3+-0x365*-0x6]<<-0x1*0x698+0x1657+-0xfb4|_0x49139f[-0x1b49+-0x5*-0x652+-0x42e],_0x22c159[_0x59f3c7*(-0xa01+-0x968+0x136d*0x1)+(0x113*0x9+0x313*-0x5+0x5b5)]=_0x49139f[-0x193+0x17db+0xda*-0x1a]<<0x5*0x1c1+-0x973*0x1+0xc3|_0x49139f[0x1cd9+0x1cd8*-0x1+0x24]<<-0x1cce+-0xa9f+0x2778|_0x49139f[0x200+-0x13*-0xaf+-0x1d*0x83],_0x22c159[_0x59f3c7*(-0x31*-0x63+0x1a*-0x43+0x2d*-0x45)+(0xd7a+0x72*0x36+0x2584*-0x1)]=_0x49139f[-0x2b*0x52+0x12ad*0x1+0x4*-0x130]<<0xb09+-0x2655+-0x1*-0x1b61|_0x49139f[-0x1*-0x1b47+0x1cc8+-0x37e7*0x1]<<-0x1e6+-0x4a9*-0x3+-0xc0a|_0x49139f[-0x22d6+-0x11*-0x20e+0x11],_0x22c159[_0x59f3c7*(-0x1896+0x2*-0x9b6+0x2c06)+(0x1*0x1e5c+0x2439+-0x1*0x4292)]=_0x49139f[0x2*-0x68+0x1*0x425+-0x1*0x32b]<<-0x1783+-0x82b*-0x3+-0xe9|_0x49139f[-0x1*0xa36+-0x2a8*0x3+0x1259]<<0x1ec5+0x6a3*0x4+-0x3946|_0x49139f[0x1076+0x4a8*0x6+-0x2c3a]):_0x18082d[_0x59f3c7]=_0x49139f[0x18ed+0x785+-0x205d]<<-0x5b0+-0x20ce+0x7b7*0x5|_0x49139f[0x1d92*0x1+-0x65d+-0x7b5*0x3]<<0x16c+0x6e9*0x5+-0x7*0x522|_0x49139f[0x1e44*0x1+0x413*0x7+-0x3ab2]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x4d2570=this['sh4to7Text'+'ure'])==null||_0x4d2570['unlock'](),(_0x21e21c=this['sh8to11Tex'+'ture'])==null||_0x21e21c['unlock'](),(_0x40ef05=this['sh12to15Te'+'xture'])==null||_0x40ef05['unlock']();}['updateSHDa'+'taByWorker'](_0x25237b){const _0x331e88={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x1aede0=U_(_0x25237b,_0x331e88*(-0x908*-0x4+0xf9+-0x2516));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x25237b['numSplats'],this['shBands'],_0x1aede0),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x4c5817,_0x508e26,_0x1bee50,_0x1e6ba1)=>{var _0x2d2a31,_0x1816e8,_0x48b430,_0x4d8bc8,_0x344290,_0x433528,_0x306176,_0x1b478a,_0x36841b,_0x40a87a;const _0x47bbfb=(_0x2d2a31=this['sh1to3Text'+'ure'])==null?void(0x2369+0x12d9+0x1*-0x3642):_0x2d2a31['lock']();if(new Uint32Array(_0x47bbfb['buffer'])['set'](_0x4c5817),(_0x1816e8=this['sh1to3Text'+'ure'])==null||_0x1816e8['unlock'](),this['shBands']>-0x22*0xb3+0x2598+-0xdd1){const _0x1c7d99=(_0x48b430=this['sh4to7Text'+'ure'])==null?void(0x36d*-0xa+-0x474+-0x7be*-0x5):_0x48b430['lock']();if(new Uint32Array(_0x1c7d99['buffer'])['set'](_0x508e26),(_0x4d8bc8=this['sh4to7Text'+'ure'])==null||_0x4d8bc8['unlock'](),this['shBands']>0x1a1+-0x1330+0x5db*0x3){const _0x3cc3b6=(_0x344290=this['sh8to11Tex'+'ture'])==null?void(0x5fb+-0x12f*-0x9+-0x2*0x851):_0x344290['lock']();new Uint32Array(_0x3cc3b6['buffer'])['set'](_0x1bee50),(_0x433528=this['sh8to11Tex'+'ture'])==null||_0x433528['unlock']();const _0x40e7d0=(_0x306176=this['sh12to15Te'+'xture'])==null?void(-0x1171+0x5*-0x143+0x2f8*0x8):_0x306176['lock']();new Uint32Array(_0x40e7d0['buffer'])['set'](_0x1e6ba1),(_0x1b478a=this['sh12to15Te'+'xture'])==null||_0x1b478a['unlock']();}else{const _0x2e5c30=(_0x36841b=this['sh8to11Tex'+'ture'])==null?void(-0xe84+-0xb8+0xf3c):_0x36841b['lock']();new Uint32Array(_0x2e5c30['buffer'])['set'](_0x1bee50),(_0x40a87a=this['sh8to11Tex'+'ture'])==null||_0x40a87a['unlock']();}}});}}async function G1(){let _0x3b5d42=null,_0x3cb632=null,_0x4152cb=null,_0x5ed69b=null,_0xcadea=null,_0x4d320b=null,_0x5016da=null,_0x5defd6=null,_0x4b4746=null,_0x12626a=null,_0x46cc55=null,_0x3860ed=null,_0x14f098=null,_0x40f3a6=null,_0x444562=null,_0x4157f2=null,_0x121c2e=null,_0x3a1af8=null,_0x3e6eaf=null,_0x4c8c59=null,_0x463cf5=null,_0x3eebfa=null,_0x46776f=null,_0x1d8ea9=null,_0x1ea778=null,_0x41d7c4=Float32Array['BYTES_PER_'+'ELEMENT'],_0x24ee9f=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x593a69=0x2b*0x5+-0xd13*-0x1+-0xdea,_0x350738=!(-0x175*0xb+0x1de1+-0xdda),_0x24f077,_0x58b320,_0x50347e={'x':0x0,'y':0x0,'z':0x0},_0x5388bd={'x':0x0,'y':0x0,'z':0x0},_0xa9c744=!(-0x13b4+0x97*-0x5+0x16a7),_0x4d78f6=!(-0x1cc9+0x17+0x1cb2),_0x1fcc90=!(0x15b*-0x1b+0x22ad+0x1ed),_0x127b9d=!(0x11f*-0x5+-0x171d*0x1+0x1cb9),_0x1b5fd6=0x14*0x35+0x31a*0x7+-0x1*0x19da,_0x14e8d3=-0xbc*0x7+0x745*0x3+-0x10ab*0x1,_0x17fac0=!(-0x4*0x2a2+-0xbc9+-0xb29*-0x2),_0x1795ca=null;self['onmessage']=async _0x63da1c=>{const {data:_0x56abf1}=_0x63da1c;switch(_0x56abf1['type']){case'initWorker':_0x593a69=_0x56abf1['numSplats'],_0x595320(),_0x350738=_0x56abf1['is4d'],await _0x2b51f2(_0x56abf1['sortWasmUr'+'l']),_0x2cda61(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x56abf1['dataReady']){if(_0x4d320b&&_0x56abf1['centers']&&_0x4d320b['length']===_0x56abf1['centers']['length']){const _0x406c3c=new Float32Array(_0x56abf1['centers']);_0x4d320b['set'](_0x406c3c);}if(_0x4b4746&&_0x56abf1['timeIndex']&&_0x4b4746['length']===_0x56abf1['timeIndex']['length']){const _0x3ef2fc=new Uint32Array(_0x56abf1['timeIndex']);_0x4b4746['set'](_0x3ef2fc);}if(_0x3860ed&&_0x56abf1['motion']&&_0x3860ed['length']===_0x56abf1['motion']['length']){const _0x33aa1a=new Float32Array(_0x56abf1['motion']);_0x3860ed['set'](_0x33aa1a);}if(_0x350738&&_0x12626a&&_0x46cc55&&_0x56abf1['muT']&&_0x56abf1['tScale']&&_0x12626a['length']===_0x56abf1['muT']['length']&&_0x46cc55['length']===_0x56abf1['tScale']['length']&&(_0x12626a['set'](_0x56abf1['muT']),_0x46cc55['set'](_0x56abf1['tScale'])),_0x5016da){for(let _0x3dbea5=0x1*0x70b+-0x24f1*-0x1+-0x2bfc;_0x3dbea5<_0x5016da['length'];++_0x3dbea5)_0x5016da[_0x3dbea5]=_0x3dbea5;}_0xcadea&&_0x56abf1['timeOption']&&_0xcadea['set'](_0x56abf1['timeOption']),setTimeout(()=>{_0x12aa47();},0x3fd+-0x17*0xa9+0xb32);}break;case'setTime':_0x24f077=_0x56abf1['time'],_0x518f1f();break;case'setUseTemp'+'oralSort':_0xa9c744=_0x56abf1['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x4d78f6=_0x56abf1['useDynamic'+'Sort'];break;case'sort':if(!_0x4152cb)return;_0x4152cb[0x649+0x6*0x5b5+0x53*-0x7d]=_0x56abf1['cameraPosi'+'tion']['x'],_0x4152cb[0x765+-0x36a*-0x1+-0x3*0x39a]=_0x56abf1['cameraPosi'+'tion']['y'],_0x4152cb[0x2*-0xb+0x2570+0x14*-0x1de]=_0x56abf1['cameraPosi'+'tion']['z'],_0x5ed69b[0x11f9*0x1+-0x4*0x2f3+0x62d*-0x1]=_0x56abf1['cameraDire'+'ction']['x'],_0x5ed69b[0x1*-0x64e+-0x1*0x1085+0x6*0x3ce]=_0x56abf1['cameraDire'+'ction']['y'],_0x5ed69b[0x5c7+0xd*0xea+-0x11a7*0x1]=_0x56abf1['cameraDire'+'ction']['z'],_0x518f1f();break;}};const _0x518f1f=()=>{_0x1795ca&&clearTimeout(_0x1795ca),_0x1795ca=setTimeout(()=>{_0x1795ca=null,_0x1036ec();},0xa43*0x3+0x1*-0xbad+0x4*-0x4c7);},_0x595320=()=>{_0x14e8d3=Math['max'](0x20*0x6+-0x1779+-0x1*-0x16c3,Math['min'](0xd77+0x1fa*0xc+-0x251b*0x1,Math['round'](Math['log2'](_0x593a69/(0x2b*0x11+-0x2dc*-0x1+-0x5b3))))),_0x1b5fd6=(0x1e94+-0x1bb4+-0x1*0x2de)**_0x14e8d3+(-0x1f57+-0x3*-0x8ea+0x49a);},_0x2cda61=()=>(_0x14f098=0x2*-0x1355+0xa23+0x1c87,_0x40f3a6=_0x14f098+_0x593a69*_0x41d7c4*(-0x107e*-0x2+-0x1661+-0xa98),_0x3e6eaf=_0x40f3a6+(0x2268+-0xd1f+-0x14e5)*_0x41d7c4*(0x1b60+-0x4c1*0x4+-0x85a),_0x4c8c59=_0x3e6eaf+_0x593a69*_0x24ee9f,_0x463cf5=_0x4c8c59+(-0x1bbf+-0x1018+0x2bda)*_0x41d7c4,_0x3eebfa=_0x463cf5+(0x10f7*-0x2+0x19b1+0xc*0xb0)*_0x41d7c4,_0x46776f=_0x3eebfa+(-0x1bfa+-0x1d64+0x1*0x3961)*_0x41d7c4,_0x1d8ea9=_0x46776f+(-0x49*0x3+0x10d2*-0x1+0x8*0x236)*_0x41d7c4,_0x1ea778=_0x1d8ea9+_0x593a69*_0x24ee9f,_0x4d320b=new Float32Array(_0x3cb632,_0x14f098,_0x593a69*(-0x1630+0x2355+-0xd22)),_0xcadea=new Float32Array(_0x3cb632,_0x40f3a6,(-0x1fb3+0x7fa*-0x4+0x17d*0x2b)*(0x647*0x5+0xf1*-0x1d+0x3*-0x15c)),_0x5016da=new Uint32Array(_0x3cb632,_0x3e6eaf,_0x593a69),_0x5defd6=new Uint32Array(_0x5016da),_0x4152cb=new Float32Array(_0x3cb632,_0x4c8c59,-0x39b+0x10f2+-0xd54),_0x5ed69b=new Float32Array(_0x3cb632,_0x463cf5,-0x13ef+0x1*-0x1a43+0x2e35),_0x350738&&(_0x121c2e=_0x1ea778+_0x1b5fd6*_0x24ee9f,_0x3a1af8=_0x121c2e+_0x593a69*_0x41d7c4,_0x4157f2=_0x3a1af8+_0x593a69*_0x41d7c4,_0x444562=_0x4157f2+_0x593a69*(-0x6b*-0x8+0x254c+0x1*-0x28a1)*_0x41d7c4,_0x12626a=new Float32Array(_0x3cb632,_0x121c2e,_0x593a69),_0x46cc55=new Float32Array(_0x3cb632,_0x3a1af8,_0x593a69),_0x3860ed=new Float32Array(_0x3cb632,_0x4157f2,_0x593a69*(-0x85*0x20+0x24a1*-0x1+0x3544)),_0x4b4746=new Uint32Array(_0x3cb632,_0x444562,_0x593a69)),{'sharedMemory':_0x3cb632,'layout':{'timeOptionPtr':_0x40f3a6,'timeIndexPtr':_0x444562,'centersPtr':_0x14f098,'motionPtr':_0x4157f2,'muTPtr':_0x121c2e,'tScalePtr':_0x3a1af8,'orderPtr':_0x3e6eaf,'cameraPositionPtr':_0x4c8c59,'cameraDirectionPtr':_0x463cf5,'boundMinPtr':_0x3eebfa,'boundMaxPtr':_0x46776f,'distancesPtr':_0x1d8ea9,'countBufferPtr':_0x1ea778}}),_0x2b51f2=async _0xb28224=>{let _0x30a518=_0x593a69*_0x41d7c4*(0xe25+-0x1*-0x5+0x1*-0xe27);_0x30a518+=_0x593a69*_0x24ee9f,_0x30a518+=(0x14ad+-0x1d7*-0x5+-0x1ddd)*_0x41d7c4,_0x30a518+=(0x1acb+-0x1e09*-0x1+-0x38d1)*_0x41d7c4,_0x30a518+=(-0x236b+-0xeae*-0x1+0x14c*0x10)*_0x41d7c4,_0x30a518+=(0x11a9+0x2b*0xc1+-0x7*0x727)*_0x41d7c4,_0x30a518+=_0x593a69*_0x41d7c4,_0x30a518+=_0x1b5fd6*_0x24ee9f,_0x30a518+=(0x1b61+-0x24a1+0x9a4)*_0x41d7c4*(0x12b5+0x47*-0x89+0x5*0x3dc),_0x30a518+=_0x593a69*_0x24ee9f,_0x350738&&(_0x30a518+=_0x593a69*_0x41d7c4,_0x30a518+=_0x593a69*_0x41d7c4,_0x30a518+=_0x593a69*_0x41d7c4*(0x1*-0xed2+0x1*0x1240+0xaf*-0x5));const _0x10e522=(0x1143+-0x1*0x4eb+-0xc18)*(-0x1539*0x1+0x989+0xfb0),_0x5d2163=Math['ceil'](_0x30a518/_0x10e522),_0x3ecada={'env':{'memory':new WebAssembly['Memory']({'initial':_0x5d2163,'maximum':_0x5d2163,'shared':!(-0x1fe5+-0x4*0xc+0x2015)}),'pthread_self':function(){return-0x1a80+0x23f*0x5+0xf45;},'emscripten_builtin_memalign':function(){return 0x21a4+0x2*0x33d+0x281e*-0x1;},'loggerVec3':(_0x3eb284,_0xcf9814,_0x5ddc6f,_0x7270c5)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x3eb284+']\x200:'+_0xcf9814+'\x201:'+_0x5ddc6f+'\x202:'+_0x7270c5);},'loggerFloat':(_0x534cfa,_0x203657)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x534cfa+']\x20a:'+_0x203657);},'loggerValue':(_0x2cf812,_0x46e0c0,_0x318e74,_0x3f3ff5,_0x15fd2e)=>{console['log']('C++\x20logger'+'Value\x20['+_0x2cf812+']\x20minDist:'+_0x46e0c0+'\x20maxDist:'+_0x318e74+'\x20range:'+_0x3f3ff5+'\x20divider:'+_0x15fd2e);},'loggerCamera':(_0xab4fef,_0x54ad0f,_0x25a894,_0x4d6723,_0x5b0a7b,_0x3b7615,_0x3e2e98)=>{console['log']('C++\x20logger'+'Camera\x20['+_0xab4fef+']\x20x:'+_0x54ad0f+'\x20y:'+_0x25a894+'\x20z:'+_0x4d6723+'\x20dx:'+_0x5b0a7b+'\x20dy:'+_0x3b7615+'\x20dz:'+_0x3e2e98);},'loggerBound':(_0x54f027,_0x26a2e1,_0x7e61ca,_0x2c946a,_0x1f00a1,_0x1b6066)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x54f027+'\x20minY:'+_0x26a2e1+'\x20minZ:'+_0x7e61ca+'\x20maxX:'+_0x2c946a+'\x20maxY:'+_0x1f00a1+'\x20maxZ:'+_0x1b6066);},'loggerDebug':_0x363226=>{console['log']('C++\x20logger'+'Debug\x20['+_0x363226+']');}}};try{const _0x18de9a=await(await fetch(_0xb28224))['arrayBuffe'+'r']();return _0x3b5d42=(await WebAssembly['instantiat'+'e'](_0x18de9a,_0x3ecada))['instance'],_0x3cb632=_0x3ecada['env']['memory']['buffer'],_0x3b5d42;}catch(_0x441e3c){throw console['error']('WASM'+':',_0x441e3c),_0x441e3c;}},_0x12aa47=()=>{if(!_0x3b5d42)return;const {calcAABB:_0x1f435d}=_0x3b5d42['exports'];_0x1f435d(_0x14f098,_0x3eebfa,_0x46776f,_0x593a69);},_0x1036ec=()=>{if(!_0x3b5d42||_0x3e6eaf===null||_0x14f098===null||_0x4c8c59===null||_0x463cf5===null||_0x3eebfa===null||_0x46776f===null)return;const _0x2564a7=_0x4152cb[0x54+0x23*-0xf9+0x21b7*0x1],_0x19160e=_0x4152cb[-0x1463+-0x1778+0x2bdc],_0x32ee9f=_0x4152cb[0x25*0xfe+0x70f+-0x2bc3],_0x13d2c2=_0x5ed69b[0x21f*-0x2+-0x1*0x1f9+0x1*0x637],_0x345707=_0x5ed69b[0x140b+0x2*0xbc6+0x1*-0x2b96],_0x85602c=_0x5ed69b[0x1*-0x1843+-0x22fd+0x3b42],_0x441727=-0x1*0xf1a+-0x1009+0x1f23+0.001;if(!_0x1fcc90&&Math['abs'](_0x2564a7-_0x50347e['x'])<_0x441727&&Math['abs'](_0x19160e-_0x50347e['y'])<_0x441727&&Math['abs'](_0x32ee9f-_0x50347e['z'])<_0x441727&&Math['abs'](_0x13d2c2-_0x5388bd['x'])<_0x441727&&Math['abs'](_0x345707-_0x5388bd['y'])<_0x441727&&Math['abs'](_0x85602c-_0x5388bd['z'])<_0x441727&&Math['abs'](_0x24f077-_0x58b320)<0x2*-0x6c7+-0xfe0+0x1d6e+0.01)return;if(_0x127b9d){_0x17fac0=!(0xc4c+-0xcf9+0xad*0x1);return;}_0x127b9d=!(0x10ff+0x1*-0x2518+0x1419),_0x1fcc90=!(-0x2684+-0x7*-0xc9+-0xb02*-0x3),_0x58b320=_0x24f077,_0x50347e['x']=_0x2564a7,_0x50347e['y']=_0x19160e,_0x50347e['z']=_0x32ee9f,_0x5388bd['x']=_0x13d2c2,_0x5388bd['y']=_0x345707,_0x5388bd['z']=_0x85602c,_0x17fac0=!(-0x1*-0xb66+-0x9a*0x28+0xcab);const {sortIndexes:_0x40f7ac}=_0x3b5d42['exports'];try{const _0x392938=_0x40f7ac(_0x3e6eaf,_0x14f098,_0x4157f2,_0x121c2e,_0x3a1af8,_0x4c8c59,_0x463cf5,_0x3eebfa,_0x46776f,_0x1d8ea9,_0x1ea778,_0x24f077,_0xa9c744,_0x4d78f6,_0x350738,_0x593a69,_0x1b5fd6,_0x14e8d3,_0x40f3a6,_0x444562);_0x5defd6['set'](_0x5016da),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x392938,'order':_0x5defd6});}catch(_0x3d6baf){console['error'](':',_0x3d6baf),self['postMessag'+'e']({'type':'error','error':_0x3d6baf['message']});}_0x127b9d=!(-0x1357*0x2+-0x1a4b+0x40fa),_0x17fac0&&_0x518f1f();};}class H1 extends ce{constructor(_0x3e6280,_0x21c8f9=!(0x1da6+-0xd96*-0x1+-0x2b3c)){super(),c(this,'worker',null),c(this,'numSplats',0x589+-0xad9*-0x1+-0x1062),c(this,'is4d',!(-0x1*0x1ffb+-0x13*-0x1f7+0x55a*-0x1)),c(this,'sortStartT'+'ime',0xc6b+-0x8d*0xf+-0x428),c(this,'orderTextu'+'re'),(this['numSplats']=_0x3e6280,this['is4d']=_0x21c8f9,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x2aac3a=>{if(!this['worker'])return;const {data:_0x3a78b1}=_0x2aac3a;switch(_0x3a78b1['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x3a78b1['order']){const _0x190896=this['orderTextu'+'re']['lock']();new Uint32Array(_0x190896['buffer'])['set'](_0x3a78b1['order']),this['orderTextu'+'re']['unlock']();}let _0x5f4dd6=0x7*0x44d+0x411+-0x6c*0x51;this['sortStartT'+'ime']!==-0x2*0x1ab+0x1d2*-0x5+0xc70&&(_0x5f4dd6=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x2aac3a['data']['count'],_0x5f4dd6),this['sortStartT'+'ime']=0x1b7b+0x317*0x7+0x1c1*-0x1c;break;case'error':console['error']('Worker:',_0x3a78b1['error']),this['fire']('error',_0x3a78b1['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://4d'+'v-frontend'+'.oss-cn-ha'+'ngzhou.ali'+'yuncs.com/'+'static/sor'+'ter-tempor'+'al-dynamic'+'.wasm','numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x17ae9d,_0x410a19,_0x5cf3af,_0xe66fc3,_0x144b11,_0x33a571,_0x437cfd){var _0x14a7d5;(!_0x437cfd||_0x437cfd['length']===-0x1*-0x361+0x116*0x20+-0x2621)&&(_0x437cfd=[-0xb03*0x1+0x1*0x141f+-0x91c,-0x55*-0x56+0x254a+0x1ee*-0x22]),this['orderTextu'+'re']=_0x17ae9d,(_0x14a7d5=this['worker'])==null||_0x14a7d5['postMessag'+'e']({'type':'initData','centers':_0x410a19,'muT':_0x5cf3af,'tScale':_0xe66fc3,'motion':_0x144b11,'timeIndex':_0x33a571,'timeOption':_0x437cfd,'dataReady':!(0xf97+0x423*-0x8+0x1*0x1181)});}['resize'](_0x54bac6){this['destroy'](),this['numSplats']=_0x54bac6,this['_initWorke'+'r']();}['setCamera'](_0x9d1d6c,_0x255ab6){this['worker']&&(this['sortStartT'+'ime']===-0x1*0x1358+0x5b8+0xda0&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x9d1d6c['x'],'y':_0x9d1d6c['y'],'z':_0x9d1d6c['z']},'cameraDirection':{'x':_0x255ab6['x'],'y':_0x255ab6['y'],'z':_0x255ab6['z']}}));}['setCurrent'+'Time'](_0x549497){this['worker']&&(this['sortStartT'+'ime']===0x21*0x25+-0x1*-0x2705+-0x5f*0x76&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x549497}));}['setUseTemp'+'oralSort'](_0x344281){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x344281});}['setUseDyna'+'micSort'](_0x3a7597){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x3a7597});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),Bn=new T(),Hl=[-0x1447+-0x1355+-0x6*-0x69a,0x62*-0x26+0x81b+0x671];class zp{constructor(_0x488905,_0x52f25a){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x67+-0x1*0x1115+0x117c),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x488905['numSplats']),this['splat']=_0x488905,this['options']=Object['assign'](this['options'],_0x52f25a));const _0x511d75=_0x488905['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x194370=0x215*0x11+-0x17*0x16d+-0x21a,_0x2dae03=Math['ceil'](_0x488905['numSplats']/_0x194370)*_0x194370/_0x194370,_0x3aea82=new Uint32Array(_0x2dae03);for(let _0xe1d7f7=-0x2e*0x34+-0x1df*-0x3+-0x3bb*-0x1;_0xe1d7f7<_0x2dae03;++_0xe1d7f7)_0x3aea82[_0xe1d7f7]=_0xe1d7f7*_0x194370;const _0x2cb3af=new Mt(_0x511d75,[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(-0x2*-0xb11+-0x1a95+0x473)}]),_0x4283ad=new hs(_0x511d75,_0x2cb3af,_0x2dae03,{'usage':Kt,'data':_0x3aea82['buffer']}),_0x31307a=new Float32Array((-0x1753+0x4*-0x12f+0x1c1b)*_0x194370),_0x167939=new Uint32Array((-0x15d9+-0x24*0xb1+0x2ec3)*_0x194370);for(let _0x219bd9=-0x1986+-0xd*-0x2ab+-0x929;_0x219bd9<_0x194370;++_0x219bd9){_0x31307a['set']([-(-0x5a2+0xd5*0x1d+-0x127e),-(-0x17*0xf+-0x7af+0x909),_0x219bd9,0x14b0+-0x2561+0x10b2,-(0x6*-0x53e+-0xa46+0x29bb),_0x219bd9,-0x17e2+-0x68*-0x17+0xe8b,-0x2*0x251+0x1*-0x7c9+-0x3c*-0x35,_0x219bd9,-(-0x1*0x1ef3+0x332+0x26*0xbb),-0x1064+0x5*-0x398+-0x13*-0x1cf,_0x219bd9],_0x219bd9*(0x1*-0x1343+-0x161*-0x1+0x11ee));const _0x4e92d1=_0x219bd9*(0x4bb+-0x158f+-0x16*-0xc4);_0x167939['set']([0xd1*-0x17+-0x3aa*0x2+0x1a1b+_0x4e92d1,-0x6*-0x4cf+0xa93*0x1+0x13b6*-0x2+_0x4e92d1,0x2277*-0x1+-0x73a+0x29b3+_0x4e92d1,0x794+0x3d*0x1+-0x17*0x57+_0x4e92d1,0x19d2+-0x1*-0x83f+-0x220f+_0x4e92d1,0xed1*-0x2+-0x1*-0x2216+-0x3*0x17b+_0x4e92d1],_0x219bd9*(-0x9*-0x446+0x5b*-0x1+-0x2615*0x1));}const _0x1593de=new Ie(_0x511d75);_0x1593de['setPositio'+'ns'](_0x31307a,-0x69d*-0x5+-0x1bd5+-0x539),_0x1593de['setIndices'](_0x167939),_0x1593de['update'](),this['mesh']=_0x1593de,this['mesh']['aabb']['copy'](_0x488905['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x4283ad,!(-0x1*0x8af+-0x1993*-0x1+-0x10e4)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x977*0x3+0xc26+-0x288b,(!_0x52f25a['dither']||_0x52f25a['dither']===Ds)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x3a5dbb;(_0x3a5dbb=this['sorter'])==null||_0x3a5dbb['initData'](this['orderTextu'+'re'],_0x488905['centers'],_0x488905['muT'],_0x488905['tScale'],_0x488905['motion'],_0x488905['timeIndex'],_0x488905['timeOption']);}),this['sorter']['on']('updated',_0x5d669d=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x5d669d/_0x194370),this['material']['setParamet'+'er']('numSplats',_0x5d669d);}));}['updateData'](_0x6e6136){var _0x3cd314;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x6e6136['numSplats']),this['splat']=_0x6e6136;const _0x4c8f6f=_0x6e6136['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x1e27e8=-0x4cf*-0x1+-0xec7+-0x10c*-0xa,_0x3775b6=Math['ceil'](_0x6e6136['numSplats']/_0x1e27e8)*_0x1e27e8/_0x1e27e8,_0x4b6bd2=new Uint32Array(_0x3775b6);for(let _0x8f65d5=-0xb81+-0x5*-0x612+-0x12d9;_0x8f65d5<_0x3775b6;++_0x8f65d5)_0x4b6bd2[_0x8f65d5]=_0x8f65d5*_0x1e27e8;const _0x1b614d=new Mt(_0x4c8f6f,[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(0x6d1+0xfa*0xd+0xf*-0x14d)}]),_0x4ce9ea=new hs(_0x4c8f6f,_0x1b614d,_0x3775b6,{'usage':Kt,'data':_0x4b6bd2['buffer']});this['mesh']['aabb']['copy'](_0x6e6136['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x4ce9ea,!(0x7ff*-0x4+-0x1c*0xa3+-0xc74*-0x4)),this['meshInstan'+'ce']['instancing'+'Count']=-0x4*0x472+-0x22bf+0x7*0x781,(_0x3cd314=this['sorter'])==null||_0x3cd314['resize'](_0x6e6136['numSplats']);}['releaseSeq'](_0x22c35a){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x22c35a);}['destroy'](){var _0x13c22c,_0x51a0a6,_0x2225ff;(_0x13c22c=this['material'])==null||_0x13c22c['destroy'](),(_0x51a0a6=this['meshInstan'+'ce'])==null||_0x51a0a6['destroy'](),(_0x2225ff=this['sorter'])==null||_0x2225ff['destroy']();}['clone'](){return new zp(this['splat'],this['options']);}['createMate'+'rial'](_0x5a64e9){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x5a64e9),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x4558d1=this['splat']['device'];if(Hl[-0x1f*-0x4d+0x1ed+0x1*-0xb40]=_0x4558d1['width'],Hl[-0x137b+-0x9*0x16b+0x203f]=_0x4558d1['height'],this['cameras']['length']>-0x1f39*0x1+-0x812+0x274b){const _0x311522=this['cameras'][0x1851+0xc54+-0x24a5]['xr'];_0x311522&&_0x311522['active']&&_0x311522['views']['list']['length']===-0x21c7*0x1+-0x1*-0x22c3+-0xfa&&(Hl[-0x146*-0x5+-0x1*0xc9d+0x1*0x63f]/=0xad4+-0x2cb*0x1+0x89*-0xf);}this['material']['setParamet'+'er']('viewport',Hl);}['sort'](_0x35a012){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x3c9b44=_0x35a012['getWorldTr'+'ansform']();_0x3c9b44['getTransla'+'tion'](On),_0x3c9b44['getZ'](Bn);const _0x19f21c=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x157d3f=W1['invert'](_0x19f21c);_0x157d3f['transformP'+'oint'](On,On),_0x157d3f['transformV'+'ector'](Bn,Bn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Bn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](Bn),this['sorter']['setCamera'](On,Bn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x4*0x3f8+0x1fcc*0x1+0x6c*-0x71){const _0x1c3fa9=this['cameras'][0xdbd*-0x2+0x46d+0x170d];this['sort'](_0x1c3fa9['_node']),this['cameras']['length']=-0x37*-0x1a+-0x142+-0x454;}}['updateTime'](_0x3510dd){this['time']=_0x3510dd;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function Xu(_0x5a1783){U0=_0x5a1783;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x5cd1ae){v['assert'](_0x5cd1ae),_0x5cd1ae['frameUpdat'+'e']();const _0x4994f1=_0x5cd1ae['beforePass'+'es'];for(let _0x30985b=-0x9ff*0x3+-0x1635+0x3432;_0x30985b<_0x4994f1['length'];_0x30985b++){const _0x980740=_0x4994f1[_0x30985b];_0x980740['enabled']&&this['addRenderP'+'ass'](_0x980740);}_0x5cd1ae['enabled']&&this['renderPass'+'es']['push'](_0x5cd1ae);const _0x32fa0b=_0x5cd1ae['afterPasse'+'s'];for(let _0x281e92=0x26e8+-0x1e27+-0x8c1;_0x281e92<_0x32fa0b['length'];_0x281e92++){const _0x183439=_0x32fa0b[_0x281e92];_0x183439['enabled']&&this['addRenderP'+'ass'](_0x183439);}}['reset'](){this['renderPass'+'es']['length']=-0xbaf*-0x1+0x26c1+-0x21a*0x18;}['compile'](){const _0x2727ab=this['renderTarg'+'etMap'],_0x167753=this['renderPass'+'es'];for(let _0x3ef95d=-0xb8d+0x1*0xc94+0x107*-0x1;_0x3ef95d<_0x167753['length'];_0x3ef95d++){const _0x362897=_0x167753[_0x3ef95d],_0x3a4e71=_0x362897['renderTarg'+'et'];if(_0x3a4e71!==void(-0xf59+-0x1f86+0x2edf)){const _0x1d2807=_0x2727ab['get'](_0x3a4e71);if(_0x1d2807){const _0x3e5721=_0x362897['colorArray'+'Ops']['length'];for(let _0x31a0b8=-0x1a3*-0x11+0x3b*-0x6d+-0x4*0xad;_0x31a0b8<_0x3e5721;_0x31a0b8++)_0x362897['colorArray'+'Ops'][_0x31a0b8]['clear']||(_0x1d2807['colorArray'+'Ops'][_0x31a0b8]['store']=!(-0x4a*-0x22+0x136+-0xb0a));_0x362897['depthStenc'+'ilOps']['clearDepth']||(_0x1d2807['depthStenc'+'ilOps']['storeDepth']=!(0xb*0x20e+0x1c95+0x1*-0x332f)),_0x362897['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x1d2807['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x23a0+-0x2c*0xb7+-0x42c));}_0x2727ab['set'](_0x3a4e71,_0x362897);}}for(let _0x4e1984=-0x1*-0x174a+0x1*0xbc1+0x230b*-0x1;_0x4e1984<_0x167753['length']-(-0x1756+0x25bd+-0x13*0xc2);_0x4e1984++){const _0x4dfcbd=_0x167753[_0x4e1984],_0x1fb177=_0x4dfcbd['renderTarg'+'et'],_0x1112c2=_0x167753[_0x4e1984+(-0x7a7+0x2*0xe45+-0x14e2)],_0x49598d=_0x1112c2['renderTarg'+'et'];_0x1fb177!==_0x49598d||_0x1fb177===void(0x26a0+0xd9a*0x1+-0x343a)||_0x1112c2['depthStenc'+'ilOps']['clearDepth']||_0x1112c2['depthStenc'+'ilOps']['clearStenc'+'il']||_0x1112c2['colorArray'+'Ops']['some'](_0x863218=>_0x863218['clear'])||_0x4dfcbd['afterPasse'+'s']['length']>-0x91a+-0x6da+0xff4||_0x1112c2['beforePass'+'es']['length']>0x2*0xb0f+-0x19ad+0x38f*0x1||(_0x4dfcbd['_skipEnd']=!(-0x1bcb+-0x3a6+0x1f71),_0x1112c2['_skipStart']=!(0x177c+-0x1*0x203e+-0x461*-0x2));}let _0x2d00c5=null,_0x10490c=null;for(let _0x70f793=0x25b6+-0x3ed*-0x1+0x11*-0x273;_0x70f793<_0x167753['length'];_0x70f793++){const _0x290a88=_0x167753[_0x70f793],_0x19cd98=_0x290a88['renderTarg'+'et'],_0x40537f=_0x19cd98==null?void(-0x69+-0x3e*0x60+0x17a9):_0x19cd98['colorBuffe'+'r'];if(_0x40537f!=null&&_0x40537f['cubemap']){if(_0x2d00c5===_0x40537f){const _0x1cb9de=_0x10490c['colorArray'+'Ops']['length'];for(let _0x49c116=-0x133*0x12+-0x25f+0x17f5*0x1;_0x49c116<_0x1cb9de;_0x49c116++)_0x10490c['colorArray'+'Ops'][_0x49c116]['mipmaps']=!(-0xa7b+-0x455*0x7+0x28cf);}_0x2d00c5=_0x19cd98['colorBuffe'+'r'],_0x10490c=_0x290a88;}else _0x290a88['requiresCu'+'bemaps']&&(_0x2d00c5=null,_0x10490c=null);}_0x2727ab['clear']();}['render'](_0x6c1fcd){this['compile']();const _0x505cf5=this['renderPass'+'es'];for(let _0x2f193f=-0x130e+0xe09*0x1+0x505;_0x2f193f<_0x505cf5['length'];_0x2f193f++)_0x505cf5[_0x2f193f]['render']();}}class j1{constructor(_0x49fc6c,_0x2293e0){this['texture0']=_0x49fc6c,this['texture1']=_0x2293e0;}['destroy'](){var _0x2115b3,_0x2ea5bf;(_0x2115b3=this['texture0'])==null||_0x2115b3['destroy'](),(_0x2ea5bf=this['texture1'])==null||_0x2ea5bf['destroy']();}}const H_=new Bt();class $r{static['createText'+'ure'](_0x4b89c0,_0x247e4f,_0x295054,_0x404faf=''){return new he(_0x4b89c0,{'name':'AreaLightL'+'UT'+_0x404faf,'width':_0x295054,'height':_0x295054,'format':_0x247e4f,'addressU':ne,'addressV':ne,'type':Fi,'magFilter':tt,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x7*-0x4+-0x72f+-0x1*-0x714)});}static['applyTextu'+'res'](_0x359c23,_0x413a22,_0x316a1e){H_['remove'](_0x359c23),H_['get'](_0x359c23,()=>new j1(_0x413a22,_0x413a22===_0x316a1e?null:_0x316a1e)),_0x359c23['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x413a22),_0x359c23['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x316a1e);}static['createPlac'+'eholder'](_0x541998){const _0x5a47cd=$r['createText'+'ure'](_0x541998,Qe,-0x1*-0x610+-0x1ecc+-0x18be*-0x1,'placeholde'+'r');_0x5a47cd['lock']()['fill'](0x37e+0x11*0x26+0x4d*-0x14),_0x5a47cd['unlock'](),$r['applyTextu'+'res'](_0x541998,_0x5a47cd,_0x5a47cd);}static['set'](_0x7ca90f,_0x4b8dc1,_0x1f9dd5){function _0x474d45(_0x40726d,_0x4dde95,_0xcab01e){const _0x39b4cc=$r['createText'+'ure'](_0x40726d,_0xcab01e,-0xf*0x28f+-0x25*0xb5+0x40ca);return _0x39b4cc['lock']()['set'](_0x4dde95),_0x39b4cc['unlock'](),_0x39b4cc;}function _0x3f38c9(_0x28b085){const _0x4eb050=_0x28b085['length'],_0x217277=new Uint16Array(_0x4eb050),_0x207d6c=qt['float2Half'];for(let _0x4344c0=-0x3a4*0xa+0x462+0x2006;_0x4344c0<_0x4eb050;_0x4344c0++)_0x217277[_0x4344c0]=_0x207d6c(_0x28b085[_0x4344c0]);return _0x217277;}const _0x5e31c=_0x4b8dc1,_0xc0360d=_0x1f9dd5,_0x41c7f3=_0x3f38c9(_0x5e31c),_0x38147b=_0x3f38c9(_0xc0360d),_0x1260e7=_0x474d45(_0x7ca90f,_0x41c7f3,Qe),_0x5e2ce9=_0x474d45(_0x7ca90f,_0x38147b,Qe);$r['applyTextu'+'res'](_0x7ca90f,_0x1260e7,_0x5e2ce9);}}const $h='en-US',qh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Up={};function pr(_0x5965de,_0x453f02){for(let _0x4378f4=-0x7*-0x26+-0xb5b+0xa51,_0x2143ae=_0x5965de['length'];_0x4378f4<_0x2143ae;_0x4378f4++)Up[_0x5965de[_0x4378f4]]=_0x453f02;}function _i(_0x4b8689){const _0x3c56f0=_0x4b8689['indexOf']('-');return _0x3c56f0!==-(0x1156+0x174d+0x1*-0x28a2)?_0x4b8689['substring'](0x153*0xa+0x2*-0xd9f+-0x2*-0x700,_0x3c56f0):_0x4b8689;}function Y1(_0x2d7d66,_0x51dded){const _0x73c5ca=_0x2d7d66['indexOf']('-');return _0x73c5ca!==-(0x1*0x55d+0x1a97*-0x1+-0x153b*-0x1)?_0x51dded+_0x2d7d66['substring'](_0x73c5ca):_0x51dded;}function V0(_0x47c472,_0x39aa){if(_0x39aa[_0x47c472])return _0x47c472;let _0x51fb23=qh[_0x47c472];if(_0x51fb23&&_0x39aa[_0x51fb23])return _0x51fb23;const _0x4c4b45=_i(_0x47c472);return _0x51fb23=qh[_0x4c4b45],_0x39aa[_0x51fb23]?_0x51fb23:_0x39aa[_0x4c4b45]?_0x4c4b45:$h;}pr(['ja','ko','th','vi','zh','id'],_0x325f08=>0x2419+0x1*0xf67+-0xce*0x40),pr(['fa','hi'],_0x426521=>_0x426521>=-0x10ca+-0x44f*-0x4+-0x3*0x26&&_0x426521<=0x9*-0x2cf+0x1a0a+-0xc2?-0x1c*-0xdd+0x21c0+-0x16*0x2a2:-0x47*-0x8+0x1f24+-0x215b),pr(['fr','pt'],_0x319c51=>_0x319c51>=0x2319+0x2228+0x4541*-0x1&&_0x319c51<0x3*-0x144+-0x1*0x16ac+0x1a7a?0x1*0x15b+0x1ec0+-0x201b:0x141*-0x8+0x35*-0xa8+0x2cd1),pr(['da'],_0x135a43=>_0x135a43===-0x1ac4+-0x2*-0x302+0xfd*0x15||!Number['isInteger'](_0x135a43)&&_0x135a43>=0x403+-0x2310+-0x1*-0x1f0d&&_0x135a43<=0x548*0x5+0x1e40+-0x38a7?-0x76a*0x1+0x9c6+0x25c*-0x1:-0x104d+-0x4*-0x5cc+-0x6e2),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x92753b=>_0x92753b===-0x21b+0x15e9+0x13cd*-0x1?-0xaa8+0x3c2+0x6e6:-0x4cf*-0x7+-0x2662+0x4ba),pr(['ru','uk'],_0x5905f8=>{if(Number['isInteger'](_0x5905f8)){const _0x8f4a6b=_0x5905f8%(0x113f*-0x1+-0x21bd+0x2a*0x137),_0x41ad0a=_0x5905f8%(0x16e5+0x994+-0x2015);if(_0x8f4a6b===-0x9fd+0x2*0xfad+-0x155c&&_0x41ad0a!==0x33d*-0x5+-0x992+-0x44d*-0x6)return-0x100c+0x6e5*-0x3+0x1*0x24bb;if(_0x8f4a6b>=-0x529+-0x34*-0x6b+-0x1091&&_0x8f4a6b<=-0x11cd+-0x17e0+0xd*0x335&&(_0x41ad0a<-0x1a53+-0x1*0x2357+0x3db6||_0x41ad0a>0x443*0x5+0x72*0x9+-0x1*0x1943))return 0x19e7*-0x1+0x7*-0x3ff+0x425*0xd;if(_0x8f4a6b===-0x7ad+0x118+0x695||_0x8f4a6b>=-0xda5*-0x2+-0x1*0x1b39+-0xc&&_0x8f4a6b<=-0x1*0x2673+-0x2568+-0x4be4*-0x1||_0x41ad0a>=0xb47+0x1dde+-0x291a&&_0x41ad0a<=0x16bd+-0xf07+-0x5*0x188)return-0x3f+-0x175c+-0x41*-0x5d;}return 0x441*0x5+0x1ce5+-0x1*0x3227;}),pr(['pl'],_0x4a2762=>{if(Number['isInteger'](_0x4a2762)){if(_0x4a2762===0x1f48+-0x1adb+-0x46c)return 0x26a+0x1*-0x869+0x1*0x5ff;const _0x1d4b22=_0x4a2762%(0x478*-0x2+-0xc48+0x1542),_0x3a16c8=_0x4a2762%(-0x97*-0xe+0xf6d+-0x174b);if(_0x1d4b22>=0x93d+0xf*0x70+-0x1*0xfcb&&_0x1d4b22<=-0x1*0x16f1+0x1876+-0x181&&(_0x3a16c8<0x499*-0x7+0xd93+0x12a8||_0x3a16c8>0x1*-0x2581+-0x1064+0x1*0x35f3))return 0x4b2*-0x3+0x2431+-0x161a;if(_0x1d4b22>=-0x235+-0xce2*0x2+-0x1*-0x1bf9&&_0x1d4b22<=0xddc+-0x1*-0x1ac6+-0x3*0xd8b||_0x1d4b22>=0x5*-0x73+0xb*0x325+-0x2053&&_0x1d4b22<=0x1d1*-0xd+-0x1e2c+-0x1ae9*-0x2||_0x3a16c8>=-0x59*-0x55+-0x142*-0x16+0x165*-0x29&&_0x3a16c8<=-0xeef*-0x2+-0x9dc+-0x13f4)return 0x129c*-0x2+-0x12ed+0xb3b*0x5;}return-0x1d70+0xeca*-0x1+0x2c3d;}),pr(['ar'],_0x180669=>{if(_0x180669===-0x25a*-0x6+-0x2d9*0x1+-0x1*0xb43)return-0x7b7*0x1+-0x1*0x1999+0x2150;if(_0x180669===0x1*0x85a+-0x59*0x1+0x400*-0x2)return 0xfa+0x1224+0x3*-0x65f;if(_0x180669===-0x125*0x12+-0x2694*0x1+0x3b30)return 0x4*0x13e+0xa*-0x2+-0x4e2;if(Number['isInteger'](_0x180669)){const _0x27df20=_0x180669%(0x172c+-0xa*-0xa1+0xe89*-0x2);if(_0x27df20>=-0x598+0x10ca+0x1*-0xb2f&&_0x27df20<=0x1bd1+0x11f*0x7+-0x23a0)return 0x74a+0x1*0x1c9b+-0x6*0x5fb;if(_0x27df20>=0xb*-0x9d+0x635+0x95&&_0x27df20<=-0xa*0x2a4+-0x1*0x1683+0x314e)return 0x3e*-0x63+-0x56*0x38+0x2ace*0x1;}return 0x1921*-0x1+-0x117e*0x1+-0xaa9*-0x4;});const K1=Up[_i($h)];function jd(_0x59a7c6){return Up[_0x59a7c6]||K1;}const La=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x2c235c='',_0x1848e9='',_0x159289=null,_0x20714e=null,_0xbe9b74=null,_0xce087c=null){this['url']=_0x2c235c,this['filename']=_0x1848e9,this['hash']=_0x159289,this['size']=_0x20714e,this['opt']=_0xbe9b74,this['contents']=_0xce087c;}['equals'](_0x42018f){return this['url']===_0x42018f['url']&&this['filename']===_0x42018f['filename']&&this['hash']===_0x42018f['hash']&&this['size']===_0x42018f['size']&&this['opt']===_0x42018f['opt']&&this['contents']===_0x42018f['contents'];}}let Q1=-(0x19*0x183+-0x4f*0x47+-0xfe1);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x4b85a8,_0x516400,_0x2613ca,_0xfcb190,_0x1a31ea){super(),this['_id']=Q1--,this['_name']=_0x4b85a8||'',this['type']=_0x516400,this['tags']=new po(this),this['_preload']=!(0x1076+-0x8ee*0x2+-0x1*-0x167),this['_file']=null,this['_data']=_0xfcb190||{},this['options']=_0x1a31ea||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(0x1*0x19d6+-0x1*0xbb3+0xc9*-0x12),this['loading']=!(-0x2338+0x159*-0x15+-0x15a*-0x2f),this['registry']=null,_0x2613ca&&(this['file']=_0x2613ca);}set['id'](_0x28d89f){this['_id']=_0x28d89f;}get['id'](){return this['_id'];}set['name'](_0x1e30f6){if(this['_name']===_0x1e30f6)return;const _0x54796c=this['_name'];this['_name']=_0x1e30f6,this['fire']('name',this,this['_name'],_0x54796c);}get['name'](){return this['_name'];}set['file'](_0x40ac49){var _0x196cb7,_0x548812;if(_0x40ac49&&_0x40ac49['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x3d0+0x32e+0xa3)){const _0x482a96=((_0x548812=(_0x196cb7=this['registry'])==null?void(0x1*0x6eb+0x2*0x577+0x5f3*-0x3):_0x196cb7['_loader'])==null?void(-0x12c5+0x474+0x5*0x2dd):_0x548812['_app'])||tn(),_0x1caf51=_0x482a96==null?void(0x4*0x1fc+0x1*-0x209c+0x18ac):_0x482a96['graphicsDe'+'vice'];if(_0x1caf51)for(let _0x29af80=0x6*-0x60d+-0xf58*0x1+0x4b2*0xb,_0x2b8729=W_['length'];_0x29af80<_0x2b8729;_0x29af80++){const _0x3ca4e4=W_[_0x29af80];if(_0x40ac49['variants'][_0x3ca4e4]&&_0x1caf51[J1[_0x3ca4e4]]){_0x40ac49=_0x40ac49['variants'][_0x3ca4e4];break;}if(_0x482a96['enableBund'+'les']){const _0x2b0665=_0x482a96['bundles']['listBundle'+'sForAsset'](this);if(_0x2b0665&&_0x2b0665['find'](_0x57ae21=>{var _0xcfb74;return(_0xcfb74=_0x57ae21==null?void(0xb78*0x1+-0x6d+0xb0b*-0x1):_0x57ae21['file'])==null?void(0x26a+0x24aa+0x2*-0x138a):_0xcfb74['variants'][_0x3ca4e4];}))break;}}}const _0x269d47=this['_file'],_0x3db167=_0x40ac49?new Z1(_0x40ac49['url'],_0x40ac49['filename'],_0x40ac49['hash'],_0x40ac49['size'],_0x40ac49['opt'],_0x40ac49['contents']):null;(!!_0x3db167!=!!_0x269d47||_0x3db167&&!_0x3db167['equals'](_0x269d47))&&(this['_file']=_0x3db167,this['fire']('change',this,'file',_0x3db167,_0x269d47),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x44090a){const _0xc611c3=this['_data'];this['_data']=_0x44090a,_0x44090a!==_0xc611c3&&(this['fire']('change',this,'data',_0x44090a,_0xc611c3),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x488185){const _0x2e0905=this['_resources'][0xd*0x47+0x100d+0x25*-0x88];this['_resources'][-0x1f09+-0x1b45+0x1b7*0x22]=_0x488185,this['fire']('change',this,'resource',_0x488185,_0x2e0905);}get['resource'](){return this['_resources'][-0x212e+0xf3d+0x11f1];}set['resources'](_0x1e3bd6){const _0x357bf4=this['_resources'];this['_resources']=_0x1e3bd6,this['fire']('change',this,'resources',_0x1e3bd6,_0x357bf4);}get['resources'](){return this['_resources'];}set['preload'](_0x2da320){_0x2da320=!!_0x2da320,this['_preload']!==_0x2da320&&(this['_preload']=_0x2da320,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x257656){_0x257656=!!_0x257656,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x257656!==this['_loadFaces'])&&(this['_loadFaces']=_0x257656,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x2ac48a=this['file'];if(!_0x2ac48a||!_0x2ac48a['url'])return null;let _0x39042a=_0x2ac48a['url'];if(this['registry']&&this['registry']['prefix']&&!La['test'](_0x39042a)&&(_0x39042a=this['registry']['prefix']+_0x39042a),this['type']!=='script'&&_0x2ac48a['hash']){const _0x49b993=_0x39042a['indexOf']('?')!==-(0x2*0x45a+0x4*-0x1a2+0x6f*-0x5)?'&':'?';_0x39042a+=_0x49b993+'t='+_0x2ac48a['hash'];}return _0x39042a;}['getAbsolut'+'eUrl'](_0x2b6f9b){if(_0x2b6f9b['startsWith']('blob:')||_0x2b6f9b['startsWith']('data:'))return _0x2b6f9b;const _0x4a42a3=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x4a42a3,_0x2b6f9b);}['getLocaliz'+'edAssetId'](_0x1e13a3){return _0x1e13a3=V0(_0x1e13a3,this['_i18n']),this['_i18n'][_0x1e13a3]||null;}['addLocaliz'+'edAssetId'](_0x58337e,_0x53c407){this['_i18n'][_0x58337e]=_0x53c407,this['fire']('add:locali'+'zed',_0x58337e,_0x53c407);}['removeLoca'+'lizedAsset'+'Id'](_0x2bf8cc){const _0x11a376=this['_i18n'][_0x2bf8cc];_0x11a376&&(delete this['_i18n'][_0x2bf8cc],this['fire']('remove:loc'+'alized',_0x2bf8cc,_0x11a376));}['ready'](_0x29f0c3,_0x1e8143){_0x1e8143=_0x1e8143||this,this['loaded']?_0x29f0c3['call'](_0x1e8143,this):this['once']('load',_0x449853=>{_0x29f0c3['call'](_0x1e8143,_0x449853);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x1a30+-0xad9*0x1+0x250a),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x1*0x149b+-0x2b2+0x5*0x4a9)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x2ac0d2=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x2339+0xb34*0x1+0x401*0x6),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x17d74d=-0x3f*-0x2e+-0x1aeb+0xf99;_0x17d74d<_0x2ac0d2['length'];++_0x17d74d){const _0x8fd4db=_0x2ac0d2[_0x17d74d];_0x8fd4db&&_0x8fd4db['destroy']&&_0x8fd4db['destroy']();}}static['fetchArray'+'Buffer'](_0x52704c,_0x1d144c,_0x15ef00,_0x241126=-0xc*0xf7+0x219f+0xb*-0x201){var _0x3ad12d;(_0x3ad12d=_0x15ef00==null?void(-0x143*-0x9+-0xc82+0x127):_0x15ef00['file'])!=null&&_0x3ad12d['contents']?setTimeout(()=>{_0x1d144c(null,_0x15ef00['file']['contents']);}):$e['get'](_0x52704c,{'cache':!(-0x1ea7+-0xf0a+0x2db1),'responseType':'arraybuffe'+'r','retry':_0x241126>0x8e*-0x1+-0x7*0x283+0x1223,'maxRetries':_0x241126},_0x1d144c);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x572344=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x572344;}['addItem'](_0x1a7ee4){const _0xae1a86=_0x1a7ee4['tags']['_list'];for(const _0x1f4726 of _0xae1a86)this['add'](_0x1f4726,_0x1a7ee4);}['removeItem'](_0x41d1e9){const _0x3af41c=_0x41d1e9['tags']['_list'];for(const _0x167dd8 of _0x3af41c)this['remove'](_0x167dd8,_0x41d1e9);}['add'](_0x25e74a,_0x1ec6a3){this['_index'][_0x25e74a]&&this['_index'][_0x25e74a]['list']['indexOf'](_0x1ec6a3)!==-(0xeb6+-0x2a2*0xe+0x35*0x6b)||(this['_index'][_0x25e74a]||(this['_index'][_0x25e74a]={'list':[]},this['_key']&&(this['_index'][_0x25e74a]['keys']={})),this['_index'][_0x25e74a]['list']['push'](_0x1ec6a3),this['_key']&&(this['_index'][_0x25e74a]['keys'][_0x1ec6a3[this['_key']]]=_0x1ec6a3));}['remove'](_0x4f470b,_0x53d5f4){if(!this['_index'][_0x4f470b]||this['_key']&&!this['_index'][_0x4f470b]['keys'][_0x53d5f4[this['_key']]])return;const _0x4ef435=this['_index'][_0x4f470b]['list']['indexOf'](_0x53d5f4);_0x4ef435!==-(-0x1594+-0x137*0x3+-0x1*-0x193a)&&(this['_index'][_0x4f470b]['list']['splice'](_0x4ef435,0x1cf7+0x2c5*0x7+0x1*-0x3059),this['_key']&&delete this['_index'][_0x4f470b]['keys'][_0x53d5f4[this['_key']]],this['_index'][_0x4f470b]['list']['length']===-0x1454+0x1d0b+-0x8b7&&delete this['_index'][_0x4f470b]);}['find'](_0x3b5934){const _0xba43ce={},_0xf1902e=[];let _0x48e4dd,_0x2ebb55,_0x2d8845,_0x3ca448,_0x15b6cc;const _0x410f49=(_0xbf4fcf,_0x590344)=>this['_index'][_0xbf4fcf]['list']['length']-this['_index'][_0x590344]['list']['length'];for(let _0x30ad49=-0xfa4+0xf6c+0x38;_0x30ad49<_0x3b5934['length'];_0x30ad49++){if(_0x2ebb55=_0x3b5934[_0x30ad49],_0x2ebb55 instanceof Array){if(_0x2ebb55['length']===0x20b0+0x1354+-0x3404)continue;if(_0x2ebb55['length']===0x13*-0x1bb+-0x1*0x1f4b+0x402d*0x1)_0x2ebb55=_0x2ebb55[0x1b3b*-0x1+-0x4*-0x231+0x1277];else{_0x15b6cc=!(-0x16e*-0x9+-0xbf*0x13+0x150);for(let _0x1ec7b6=0x23d*-0x4+0x276+-0x1*-0x67e;_0x1ec7b6<_0x2ebb55['length'];_0x1ec7b6++)if(!this['_index'][_0x2ebb55[_0x1ec7b6]]){_0x15b6cc=!(0xa5f+-0x60c+-0x171*0x3);break;}if(_0x15b6cc)continue;_0x2d8845=_0x2ebb55['slice'](0x1e69+-0x11a1+-0x1*0xcc8)['sort'](_0x410f49),_0x3ca448=_0x2d8845['slice'](0x1f1f+0x1*-0x58a+-0x1994*0x1),_0x3ca448['length']===0x1d86*-0x1+0x1*-0x527+0x22ae&&(_0x3ca448=_0x3ca448[-0x117a*-0x2+-0xff3*-0x1+-0x1*0x32e7]);for(let _0x5c5458=0x5a2+-0xfd0+0x2*0x517;_0x5c5458<this['_index'][_0x2d8845[0x8*-0x109+0x1102+0x2*-0x45d]]['list']['length'];_0x5c5458++)_0x48e4dd=this['_index'][_0x2d8845[-0x8ef+-0x20df+0x29ce]]['list'][_0x5c5458],(this['_key']?!_0xba43ce[_0x48e4dd[this['_key']]]:_0xf1902e['indexOf'](_0x48e4dd)===-(0x1a51*-0x1+-0x171b+0x316d))&&_0x48e4dd['tags']['has'](_0x3ca448)&&(this['_key']&&(_0xba43ce[_0x48e4dd[this['_key']]]=!(-0x1c53+-0x1*-0x253a+0x35*-0x2b)),_0xf1902e['push'](_0x48e4dd));continue;}}if(_0x2ebb55&&typeof _0x2ebb55=='string'&&this['_index'][_0x2ebb55]){for(let _0x12ca15=-0x1*0x241+0x577*-0x3+0x12a6;_0x12ca15<this['_index'][_0x2ebb55]['list']['length'];_0x12ca15++)_0x48e4dd=this['_index'][_0x2ebb55]['list'][_0x12ca15],this['_key']?_0xba43ce[_0x48e4dd[this['_key']]]||(_0xba43ce[_0x48e4dd[this['_key']]]=!(-0x2071+-0xfb8*-0x2+0x101*0x1),_0xf1902e['push'](_0x48e4dd)):_0xf1902e['indexOf'](_0x48e4dd)===-(-0xaf*0x7+0x4b1*0x3+-0x949)&&_0xf1902e['push'](_0x48e4dd);}}return _0xf1902e;}}class ao extends ce{constructor(_0x4e8ece){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x4e8ece;}['list'](_0x534abb={}){const _0x141d9d=Array['from'](this['_assets']);return _0x534abb['preload']!==void(0x1*0x1aab+0x4df*0x1+-0x1f8a)?_0x141d9d['filter'](_0x2f9c9d=>_0x2f9c9d['preload']===_0x534abb['preload']):_0x141d9d;}['add'](_0x20a5bb){var _0x562592,_0x1fab92;this['_assets']['has'](_0x20a5bb)||(this['_assets']['add'](_0x20a5bb),this['_idToAsset']['set'](_0x20a5bb['id'],_0x20a5bb),(_0x562592=_0x20a5bb['file'])!=null&&_0x562592['url']&&this['_urlToAsse'+'t']['set'](_0x20a5bb['file']['url'],_0x20a5bb),this['_nameToAss'+'et']['has'](_0x20a5bb['name'])||this['_nameToAss'+'et']['set'](_0x20a5bb['name'],new Set()),this['_nameToAss'+'et']['get'](_0x20a5bb['name'])['add'](_0x20a5bb),_0x20a5bb['on']('name',this['_onNameCha'+'nge'],this),_0x20a5bb['registry']=this,this['_tags']['addItem'](_0x20a5bb),_0x20a5bb['tags']['on']('add',this['_onTagAdd'],this),_0x20a5bb['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x20a5bb),this['fire']('add:'+_0x20a5bb['id'],_0x20a5bb),(_0x1fab92=_0x20a5bb['file'])!=null&&_0x1fab92['url']&&this['fire']('add:url:'+_0x20a5bb['file']['url'],_0x20a5bb),_0x20a5bb['preload']&&this['load'](_0x20a5bb));}['remove'](_0x46ebd1){var _0x14822f,_0x9c102e;if(!this['_assets']['has'](_0x46ebd1))return!(-0x1*-0xb49+0x1a38*0x1+-0x2580);if(this['_assets']['delete'](_0x46ebd1),this['_idToAsset']['delete'](_0x46ebd1['id']),(_0x14822f=_0x46ebd1['file'])!=null&&_0x14822f['url']&&this['_urlToAsse'+'t']['delete'](_0x46ebd1['file']['url']),_0x46ebd1['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x46ebd1['name'])){const _0x384e5b=this['_nameToAss'+'et']['get'](_0x46ebd1['name']);_0x384e5b['delete'](_0x46ebd1),_0x384e5b['size']===-0x12ce+-0x1*-0x13c3+-0xf5*0x1&&this['_nameToAss'+'et']['delete'](_0x46ebd1['name']);}return this['_tags']['removeItem'](_0x46ebd1),_0x46ebd1['tags']['off']('add',this['_onTagAdd'],this),_0x46ebd1['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x46ebd1['fire']('remove',_0x46ebd1),this['fire']('remove',_0x46ebd1),this['fire']('remove:'+_0x46ebd1['id'],_0x46ebd1),(_0x9c102e=_0x46ebd1['file'])!=null&&_0x9c102e['url']&&this['fire']('remove:url'+':'+_0x46ebd1['file']['url'],_0x46ebd1),!(0x793+-0x226c*-0x1+-0x29ff*0x1);}['get'](_0x59b72c){return this['_idToAsset']['get'](Number(_0x59b72c));}['getByUrl'](_0x5b4f99){return this['_urlToAsse'+'t']['get'](_0x5b4f99);}['load'](_0x12afd3,_0x21f1bf){if((_0x12afd3['loading']||_0x12afd3['loaded'])&&!(_0x21f1bf!=null&&_0x21f1bf['force']))return;const _0x4b8dfc=_0x12afd3['file'],_0x5b9400=()=>{this['fire']('load',_0x12afd3),this['fire']('load:'+_0x12afd3['id'],_0x12afd3),_0x4b8dfc&&_0x4b8dfc['url']&&this['fire']('load:url:'+_0x4b8dfc['url'],_0x12afd3),_0x12afd3['fire']('load',_0x12afd3);},_0x387664=_0x1c61ad=>{if(_0x1c61ad instanceof Array?_0x12afd3['resources']=_0x1c61ad:_0x12afd3['resource']=_0x1c61ad,this['_loader']['patch'](_0x12afd3,this),_0x12afd3['type']==='bundle'){const _0x3ce17b=_0x12afd3['data']['assets'];for(let _0x4481cb=-0x1769*-0x1+-0xecf+-0x89a;_0x4481cb<_0x3ce17b['length'];_0x4481cb++){const _0x1a3f93=this['_idToAsset']['get'](_0x3ce17b[_0x4481cb]);_0x1a3f93&&!_0x1a3f93['loaded']&&this['load'](_0x1a3f93,{'force':!(0x2*0xa99+0xaae*0x1+-0x1fe0)});}_0x12afd3['resource']['loaded']?_0x5b9400():(this['fire']('load:start',_0x12afd3),this['fire']('load:start'+':'+_0x12afd3['id'],_0x12afd3),_0x4b8dfc&&_0x4b8dfc['url']&&this['fire']('load:start'+':url:'+_0x4b8dfc['url'],_0x12afd3),_0x12afd3['fire']('load:start',_0x12afd3),_0x12afd3['resource']['on']('load',_0x5b9400));}else _0x5b9400();},_0x9bda9b=(_0x45cb04,_0x7f0cb4,_0x12f100)=>{if(_0x12afd3['loaded']=!(0x1bb*0xb+-0x23af+0x10a6),_0x12afd3['loading']=!(0x91*0x1a+0x6f4*0x1+0x1*-0x15ad),_0x45cb04)this['fire']('error',_0x45cb04,_0x12afd3),this['fire']('error:'+_0x12afd3['id'],_0x45cb04,_0x12afd3),_0x12afd3['fire']('error',_0x45cb04,_0x12afd3);else{if(_0x12afd3['type']==='script'){const _0x2470ec=this['_loader']['getHandler']('script');_0x2470ec['_cache'][_0x12afd3['id']]&&_0x2470ec['_cache'][_0x12afd3['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x2470ec['_cache'][_0x12afd3['id']]),_0x2470ec['_cache'][_0x12afd3['id']]=_0x12f100;}_0x387664(_0x7f0cb4);}};if(_0x4b8dfc||_0x12afd3['type']==='cubemap'){this['fire']('load:start',_0x12afd3),this['fire']('load:'+_0x12afd3['id']+':start',_0x12afd3),_0x12afd3['loading']=!(0x99f+-0x2a4*-0xd+-0x2bf3);const _0xd5adcd=_0x12afd3['getFileUrl']();if(_0x12afd3['type']==='bundle'){const _0x5ea085=_0x12afd3['data']['assets'];for(let _0x52098a=0x1c54*-0x1+0x294+0x19c0;_0x52098a<_0x5ea085['length'];_0x52098a++){const _0x55190d=this['_idToAsset']['get'](_0x5ea085[_0x52098a]);_0x55190d&&(_0x55190d['loaded']||_0x55190d['resource']||_0x55190d['loading']||(_0x55190d['loading']=!(0x718+-0x21ea*0x1+0x1ad2)));}}this['_loader']['load'](_0xd5adcd,_0x12afd3['type'],_0x9bda9b,_0x12afd3,_0x21f1bf);}else{const _0xfafc8e=this['_loader']['open'](_0x12afd3['type'],_0x12afd3['data']);_0x12afd3['loaded']=!(0xb74+-0x1c8d+0x1119),_0x387664(_0xfafc8e);}}['loadFromUr'+'l'](_0x4cdc34,_0x23f983,_0x540960){this['loadFromUr'+'lAndFilena'+'me'](_0x4cdc34,null,_0x23f983,_0x540960);}['loadFromUr'+'lAndFilena'+'me'](_0x36ad5d,_0x29a4e6,_0x2d5ab2,_0x27b0c5){const _0x17075b=fe['getBasenam'+'e'](_0x29a4e6||_0x36ad5d),_0x2f7d38={'filename':_0x29a4e6||_0x17075b,'url':_0x36ad5d};let _0x48cb13=this['getByUrl'](_0x36ad5d);if(!_0x48cb13)_0x48cb13=new le(_0x17075b,_0x2d5ab2,_0x2f7d38),this['add'](_0x48cb13);else{if(_0x48cb13['loaded']){_0x27b0c5(_0x48cb13['loadFromUr'+'lError']||null,_0x48cb13);return;}}const _0x77c30c=_0x3812d3=>{_0x3812d3['once']('load',_0x2f69f3=>{_0x2d5ab2==='material'?this['_loadTextu'+'res'](_0x2f69f3,(_0x720456,_0x4a34e5)=>{_0x27b0c5(_0x720456,_0x2f69f3);}):_0x27b0c5(null,_0x2f69f3);}),_0x3812d3['once']('error',_0x37387b=>{_0x37387b&&(this['loadFromUr'+'lError']=_0x37387b),_0x27b0c5(_0x37387b,_0x3812d3);}),this['load'](_0x3812d3);};_0x48cb13['resource']?_0x27b0c5(null,_0x48cb13):_0x2d5ab2==='model'?this['_loadModel'](_0x48cb13,_0x77c30c):_0x77c30c(_0x48cb13);}['_loadModel'](_0x2b040a,_0xe62c63){const _0x537180=_0x2b040a['getFileUrl'](),_0x21853c=fe['getExtensi'+'on'](_0x537180);if(_0x21853c==='.json'||_0x21853c==='.glb'){const _0x4d0fab=fe['getDirecto'+'ry'](_0x537180),_0x2d3734=fe['getBasenam'+'e'](_0x537180),_0x656bcd=fe['join'](_0x4d0fab,_0x2d3734['replace'](_0x21853c,'.mapping.j'+'son'));this['_loader']['load'](_0x656bcd,'json',(_0x54056f,_0x17b4db)=>{_0x54056f?(_0x2b040a['data']={'mapping':[]},_0xe62c63(_0x2b040a)):this['_loadMater'+'ials'](_0x2b040a,_0x17b4db,(_0x4e48b7,_0x2602ea)=>{_0x2b040a['data']=_0x17b4db,_0xe62c63(_0x2b040a);});});}else _0xe62c63(_0x2b040a);}['_loadMater'+'ials'](_0x2f9178,_0x43058f,_0x872eed){const _0x332421=[];let _0x1d23b4=0x1366*0x2+-0x16c3*0x1+-0x5*0x335;const _0x24acc3=(_0x42d0a8,_0x684782)=>{this['_loadTextu'+'res'](_0x684782,(_0x531521,_0x32dd17)=>{_0x332421['push'](_0x684782),_0x332421['length']===_0x1d23b4&&_0x872eed(null,_0x332421);});};for(let _0x4c34be=0x2e*0x8b+0x415*0x8+-0x39a2;_0x4c34be<_0x43058f['mapping']['length'];_0x4c34be++){const _0x1a23bd=_0x43058f['mapping'][_0x4c34be]['path'];if(_0x1a23bd){_0x1d23b4++;const _0xc9615a=_0x2f9178['getAbsolut'+'eUrl'](_0x1a23bd);this['loadFromUr'+'l'](_0xc9615a,'material',_0x24acc3);}}_0x1d23b4===-0xd01+-0x2*-0xb5+0x3dd*0x3&&_0x872eed(null,_0x332421);}['_loadTextu'+'res'](_0x4480d1,_0x3ab1ec){const _0x2d1100=[];let _0x422111=-0x64+0xb0f+-0xaab;const _0x3a5132=_0x4480d1['data'];if(_0x3a5132['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x4480d1['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x3ab1ec(null,_0x2d1100);return;}const _0x245c61=(_0x5652f6,_0x1fba58)=>{_0x5652f6&&console['error'](_0x5652f6),_0x2d1100['push'](_0x1fba58),_0x2d1100['length']===_0x422111&&_0x3ab1ec(null,_0x2d1100);},_0x594af=Zc;for(let _0x1efafd=-0x6e3+-0x1*-0x1a5d+0x22a*-0x9;_0x1efafd<_0x594af['length'];_0x1efafd++){const _0x3e9e44=_0x3a5132[_0x594af[_0x1efafd]];if(_0x3e9e44&&typeof _0x3e9e44=='string'){_0x422111++;const _0x1fbad2=_0x4480d1['getAbsolut'+'eUrl'](_0x3e9e44);this['loadFromUr'+'l'](_0x1fbad2,'texture',_0x245c61);}}_0x422111===0x14ea+-0x2*0x1360+0x11d6&&_0x3ab1ec(null,_0x2d1100);}['_onTagAdd'](_0x5f1d21,_0x129448){this['_tags']['add'](_0x5f1d21,_0x129448);}['_onTagRemo'+'ve'](_0x341f8b,_0x11a052){this['_tags']['remove'](_0x341f8b,_0x11a052);}['_onNameCha'+'nge'](_0xd1c735,_0x5655dd,_0x2b7c10){if(this['_nameToAss'+'et']['has'](_0x2b7c10)){const _0x187b91=this['_nameToAss'+'et']['get'](_0x2b7c10);_0x187b91['delete'](_0xd1c735),_0x187b91['size']===0xc0d+-0x22e0+0x16d3&&this['_nameToAss'+'et']['delete'](_0x2b7c10);}this['_nameToAss'+'et']['has'](_0xd1c735['name'])||this['_nameToAss'+'et']['set'](_0xd1c735['name'],new Set()),this['_nameToAss'+'et']['get'](_0xd1c735['name'])['add'](_0xd1c735);}['findByTag'](..._0x3e5730){return this['_tags']['find'](_0x3e5730);}['filter'](_0x3ef96c){return Array['from'](this['_assets'])['filter'](_0x3423ae=>_0x3ef96c(_0x3423ae));}['find'](_0x4536ed,_0x2dd2b9){const _0x28ebc3=this['_nameToAss'+'et']['get'](_0x4536ed);if(!_0x28ebc3)return null;for(const _0x561248 of _0x28ebc3)if(!_0x2dd2b9||_0x561248['type']===_0x2dd2b9)return _0x561248;return null;}['findAll'](_0x1d7941,_0x34e5e1){const _0x3c1258=this['_nameToAss'+'et']['get'](_0x1d7941);if(!_0x3c1258)return[];const _0x3b719c=Array['from'](_0x3c1258);return _0x34e5e1?_0x3b719c['filter'](_0x27489a=>_0x27489a['type']===_0x34e5e1):_0x3b719c;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x19e2bd){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x19e2bd,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x244082){if(_0x244082['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x244082['id'],_0x244082),this['_assets']['on']('load:start'+':'+_0x244082['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x244082['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x244082['id'],this['_onBundleE'+'rror'],this);const _0x8a1ab3=_0x244082['data']['assets'];for(let _0x6b7c2d=0x16c7+-0x1f1b+-0x1a*-0x52;_0x6b7c2d<_0x8a1ab3['length'];_0x6b7c2d++)this['_indexAsse'+'tInBundle'](_0x8a1ab3[_0x6b7c2d],_0x244082);}else this['_assetToBu'+'ndles']['has'](_0x244082['id'])&&this['_indexAsse'+'tFileUrls'](_0x244082);}['_unbindAss'+'etEvents'](_0x54e7ae){this['_assets']['off']('load:start'+':'+_0x54e7ae,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x54e7ae,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x54e7ae,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x589895,_0x12071a){let _0x5cfc83=this['_assetToBu'+'ndles']['get'](_0x589895);_0x5cfc83||(_0x5cfc83=new Set(),this['_assetToBu'+'ndles']['set'](_0x589895,_0x5cfc83)),_0x5cfc83['add'](_0x12071a);const _0x2c4f65=this['_assets']['get'](_0x589895);_0x2c4f65&&this['_indexAsse'+'tFileUrls'](_0x2c4f65);}['_indexAsse'+'tFileUrls'](_0x47f66b){const _0x474678=this['_getAssetF'+'ileUrls'](_0x47f66b);if(_0x474678)for(let _0x50bae9=0x1712+-0x1c62+-0x50*-0x11;_0x50bae9<_0x474678['length'];_0x50bae9++){const _0x25322b=this['_assetToBu'+'ndles']['get'](_0x47f66b['id']);_0x25322b&&this['_urlsToBun'+'dles']['set'](_0x474678[_0x50bae9],_0x25322b);}}['_getAssetF'+'ileUrls'](_0x2bdf63){let _0x13a5b7=_0x2bdf63['getFileUrl']();if(!_0x13a5b7)return null;_0x13a5b7=_0x13a5b7['split']('?')[0x22f*0xe+0x12c+-0x1fbe];const _0x5c3b57=[_0x13a5b7];if(_0x2bdf63['type']==='font'){const _0x5f1c1e=_0x2bdf63['data']['info']['maps']['length'];for(let _0x37179a=-0x1*0x2702+-0xd*0x2f3+0x4d5a;_0x37179a<_0x5f1c1e;_0x37179a++)_0x5c3b57['push'](_0x13a5b7['replace']('.png',_0x37179a+'.png'));}return _0x5c3b57;}['_onAssetRe'+'move'](_0x2846fb){if(_0x2846fb['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x2846fb['id']),this['_unbindAss'+'etEvents'](_0x2846fb['id']);const _0x13cd35=_0x2846fb['data']['assets'];for(let _0x84db2f=-0x4*-0x497+-0x10*0x2c+-0xf9c;_0x84db2f<_0x13cd35['length'];_0x84db2f++){const _0x557cd2=this['_assetToBu'+'ndles']['get'](_0x13cd35[_0x84db2f]);if(_0x557cd2&&(_0x557cd2['delete'](_0x2846fb),_0x557cd2['size']===-0xffb*0x2+0x2307+-0x311*0x1)){this['_assetToBu'+'ndles']['delete'](_0x13cd35[_0x84db2f]);for(const [_0x5f3519,_0x4b3597]of this['_urlsToBun'+'dles'])_0x4b3597===_0x557cd2&&this['_urlsToBun'+'dles']['delete'](_0x5f3519);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x2846fb['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x2846fb['id']))return;this['_assetToBu'+'ndles']['delete'](_0x2846fb['id']);const _0x1e06ba=this['_getAssetF'+'ileUrls'](_0x2846fb);if(!_0x1e06ba)return;for(let _0x3caa95=0x1f68+0x1*-0x525+-0xf9*0x1b;_0x3caa95<_0x1e06ba['length'];_0x3caa95++)this['_urlsToBun'+'dles']['delete'](_0x1e06ba[_0x3caa95]);}}['_onBundleL'+'oadStart'](_0x2b6f61){_0x2b6f61['resource']['on']('add',(_0x4ac19d,_0x255744)=>{const _0x5dd539=this['_fileReque'+'sts']['get'](_0x4ac19d);if(_0x5dd539){for(let _0xeea5a5=-0x7e1*-0x1+0x2*-0x4c3+-0x1*-0x1a5;_0xeea5a5<_0x5dd539['length'];_0xeea5a5++)_0x5dd539[_0xeea5a5](null,_0x255744);this['_fileReque'+'sts']['delete'](_0x4ac19d);}});}['_onBundleL'+'oad'](_0x42ae08){if(!_0x42ae08['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x42ae08['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x2dcbdf,_0x2645d3]of this['_fileReque'+'sts']){const _0x2c02df=this['_urlsToBun'+'dles']['get'](_0x2dcbdf);if(!_0x2c02df||!_0x2c02df['has'](_0x42ae08))continue;const _0x4eccae=decodeURIComponent(_0x2dcbdf);let _0x47417e,_0x1f9613;if(_0x42ae08['resource']['has'](_0x4eccae))_0x1f9613=_0x42ae08['resource']['get'](_0x4eccae);else{if(_0x42ae08['resource']['loaded'])_0x47417e='Bundle\x20'+_0x42ae08['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x2dcbdf;else continue;}for(let _0x591688=0x8d*-0x16+0x1da5+-0x1187;_0x591688<_0x2645d3['length'];_0x591688++)_0x2645d3[_0x591688](_0x47417e,_0x47417e||_0x1f9613);this['_fileReque'+'sts']['delete'](_0x2dcbdf);}}['_onBundleE'+'rror'](_0x4f2876){for(const [_0x135158,_0x1ab92f]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x135158)){for(let _0x53639e=0x948+-0x169a*0x1+0xa*0x155;_0x53639e<_0x1ab92f['length'];_0x53639e++)_0x1ab92f[_0x53639e](_0x4f2876);this['_fileReque'+'sts']['delete'](_0x135158);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1a7616){const _0x8c9c3f=this['_urlsToBun'+'dles']['get'](_0x1a7616);if(!_0x8c9c3f)return null;let _0x372f5d=null;for(const _0x4df43a of _0x8c9c3f){if(_0x4df43a['loaded']&&_0x4df43a['resource'])return _0x4df43a;_0x4df43a['loading']&&(_0x372f5d=_0x4df43a);}return _0x372f5d;}['listBundle'+'sForAsset'](_0x103a0e){const _0xa2e9b1=this['_assetToBu'+'ndles']['get'](_0x103a0e['id']);return _0xa2e9b1?Array['from'](_0xa2e9b1):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x3f7185){return this['_urlsToBun'+'dles']['has'](_0x3f7185);}['urlIsLoade'+'dOrLoading'](_0x3e762d){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3e762d);}['loadUrl'](_0x30037e,_0x505021){const _0x24fb33=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x30037e);if(!_0x24fb33){_0x505021('URL\x20'+_0x30037e+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x24fb33['loaded']){const _0x293396=decodeURIComponent(_0x30037e);if(_0x24fb33['resource']['has'](_0x293396)){_0x505021(null,_0x24fb33['resource']['get'](_0x293396));return;}else{if(_0x24fb33['resource']['loaded']){_0x505021('Bundle\x20'+_0x24fb33['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x30037e);return;}}}let _0x322430=this['_fileReque'+'sts']['get'](_0x30037e);_0x322430||(_0x322430=[],this['_fileReque'+'sts']['set'](_0x30037e,_0x322430)),_0x322430['push'](_0x505021);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x5c173b of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x5c173b);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x276679){const _0x46c3ef=_0x276679['id'];if(this[_0x46c3ef])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x46c3ef+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x46c3ef]=_0x276679,this['list']['push'](_0x276679);}['remove'](_0x3dc1fa){const _0x503258=_0x3dc1fa['id'];if(!this[_0x503258])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x503258+('\x27\x20register'+'ed'));delete this[_0x503258];const _0x247814=this['list']['indexOf'](this[_0x503258]);_0x247814!==-(-0x61*-0x41+0x14ed+0x3*-0xf2f)&&this['list']['splice'](_0x247814,0xf3*0xc+-0xdb9+0x256);}['destroy'](){this['off']();for(let _0x452fdc=-0xcb6*0x2+-0x165+0x1*0x1ad1;_0x452fdc<this['list']['length'];_0x452fdc++)this['list'][_0x452fdc]['destroy']();}}class ju extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x3*-0xa43+-0xd86+-0x2f*0x5e));}['addFile'](_0x2d216d,_0x50fbe6){this['_index']['has'](_0x2d216d)||(this['_index']['set'](_0x2d216d,_0x50fbe6),this['fire']('add',_0x2d216d,_0x50fbe6));}['has'](_0x3d634e){return this['_index']['has'](_0x3d634e);}['get'](_0x584e72){return this['_index']['get'](_0x584e72)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x40832b){!_0x40832b||this['_loaded']||(this['_loaded']=!(0x4*-0x103+0x1*0x20da+-0x1cce),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(ju,'EVENT_ADD','add'),c(ju,'EVENT_LOAD','load');class iP extends ce{constructor(_0x7ff68,_0x3ee897=''){super(),c(this,'headerSize',0x772*-0x1+0x3*0x6bf+-0xacb),c(this,'paddingSiz'+'e',-0xa2b+0x1*0x1e52+-0x1227),c(this,'bytesRead',0xc9a+0xe7d+-0x5f*0x49),c(this,'bytesRecei'+'ved',-0x551*0x5+0x1*0x1025+-0x4*-0x29c),c(this,'headerRead',!(-0x2*-0xa04+0x1*0x991+-0x1d98)),c(this,'reader',null),c(this,'data',new Uint8Array(0x1*-0x168a+-0x44*0x14+0x1bda)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',-0x1*0x1b0e+-0xb*0x67+0x1f7b),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x3ee897||'',this['reader']=_0x7ff68['body']['getReader'](),this['reader']['read']()['then'](_0x444a54=>{this['pump'](_0x444a54['done'],_0x444a54['value']);})['catch'](_0x1990cb=>{this['fire']('error',_0x1990cb);}));}['pump'](_0x4c8a3b,_0x20961c){if(_0x4c8a3b)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x20961c['byteLength'];const _0x4d2884=new Uint8Array(this['data']['length']+_0x20961c['length']);for(_0x4d2884['set'](this['data']),_0x4d2884['set'](_0x20961c,this['data']['length']),this['data']=_0x4d2884;this['readFile'](););return this['reader']['read']()['then'](_0x37f01e=>{this['pump'](_0x37f01e['done'],_0x37f01e['value']);})['catch'](_0x5de30f=>{this['fire']('error',_0x5de30f);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x2*0xb3e+0x1*-0xc07+-0xa75);const _0x4e48cb=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x55a33a=this['decoder']['decode'](_0x4e48cb);if(this['fileName']=_0x55a33a['substring'](0x1dfd+-0xfca+-0xe33,-0x1add+-0xb9e+0x26df)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x55a33a['substring'](-0x1d6d+-0x3*-0xb2f+-0x3a4,-0x20*-0xe+-0x475+0x33d*0x1),-0xbe7*-0x1+-0x1416*0x1+-0x2bd*-0x3),this['fileType']=_0x55a33a['substring'](-0x1cdf+0x1497+0x8e4,-0x26*0xec+-0x431*-0x9+0x13*-0x1c),this['ustarForma'+'t']=_0x55a33a['substring'](0x721*0x5+-0x1*-0xa6b+0x1*-0x2d0f,-0x2*0x124f+-0x16c1+0x12*0x35b),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x11*0x2b+-0xe*-0xac+-0xc42)){const _0x147c37=_0x55a33a['substring'](0x17f6+0x2668*0x1+-0x3d05,0x35b*0x9+0x1fb0+-0xe5*0x43)['replace'](/\0/g,'');_0x147c37['length']>-0x1765+0x1ae1+-0xdf*0x4&&(this['fileName']=_0x147c37['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0xe*-0x175+-0xd9*0x2+-0x10b4;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0xe*-0x164+-0x17cb+0x2b44);if(this['fileType']===''||this['fileType']==='0'){const _0x1b3940=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x4e6446={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x1b3940};this['fire']('file',_0x4e6446);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0xb13+-0x146+-0x72*0x16);const _0x537df5=this['bytesRead']%this['paddingSiz'+'e'];return _0x537df5!==-0x3*-0x547+-0xa3*-0x3+-0x11be&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x537df5),!(0x2271*-0x1+0x105+0x216c);}return!(0x82d+-0x1*-0x12db+-0x1b07);}}class Be{constructor(_0x48dd96,_0x10ce4e){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0xd42+-0x35b*-0x9+-0x10f1),(this['_app']=_0x48dd96,this['handlerTyp'+'e']=_0x10ce4e);}set['maxRetries'](_0x303514){this['_maxRetrie'+'s']=_0x303514;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x132531,_0x5098f9,_0x1cee37){}['open'](_0xf6cdd,_0x446ec8,_0x41f7d1){return _0x446ec8;}['patch'](_0x55cb91,_0x343862){}}class rP extends Be{constructor(_0x591aa8){super(_0x591aa8,'bundle'),this['_assets']=_0x591aa8['assets'];}['_fetchRetr'+'ies'](_0x5ec829,_0x35b758,_0x12c15a=0x1567+-0xb5e+-0x1*0xa09){return new Promise((_0x30f439,_0x1e339b)=>{const _0x534629=()=>{fetch(_0x5ec829,_0x35b758)['then'](_0x30f439)['catch'](_0x1391e3=>{_0x12c15a++,_0x12c15a<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x12c15a),_0x534629()):_0x1e339b(_0x1391e3);});};_0x534629();});}['load'](_0x5a0d59,_0x5e7088){typeof _0x5a0d59=='string'&&(_0x5a0d59={'load':_0x5a0d59,'original':_0x5a0d59}),this['_fetchRetr'+'ies'](_0x5a0d59['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x51471a=>{const _0x1c2ac4=new ju();_0x5e7088(null,_0x1c2ac4);const _0x13457e=new iP(_0x51471a,this['_assets']['prefix']);_0x13457e['on']('file',_0xe350d9=>{_0x1c2ac4['addFile'](_0xe350d9['name'],_0xe350d9['data']);}),_0x13457e['on']('done',()=>{_0x1c2ac4['loaded']=!(0x1154+0x26ea+0x1c1f*-0x2);}),_0x13457e['on']('error',_0x89e823=>{v['error'](_0x89e823),_0x5e7088(_0x89e823);});})['catch'](_0xa989b9=>{v['error'](_0xa989b9),_0x5e7088(_0xa989b9);});}['open'](_0x51ed66,_0x3a125d){return _0x3a125d;}}class ma{constructor(_0x5c4a03){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x5c4a03;}['addHandler'](_0x498b67,_0x51ce79){this['_handlers'][_0x498b67]=_0x51ce79,_0x51ce79['_loader']=this;}['removeHand'+'ler'](_0x53eaf9){delete this['_handlers'][_0x53eaf9];}['getHandler'](_0x2510bb){return this['_handlers'][_0x2510bb];}static['makeKey'](_0xf8f1c4,_0x20934a){return _0xf8f1c4+'-'+_0x20934a;}['load'](_0xd6a3e3,_0x313eba,_0x3a28cc,_0x2734aa,_0x3b1db5){var _0x3edb27;const _0x2c52bd=this['_handlers'][_0x313eba];if(!_0x2c52bd){const _0x129d0d='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x313eba+('\x27\x20when\x20loa'+'ding\x20[')+_0xd6a3e3+']';v['errorOnce'](_0x129d0d),_0x3a28cc(_0x129d0d);return;}if(!_0xd6a3e3){this['_loadNull'](_0x2c52bd,_0x3a28cc,_0x2734aa);return;}const _0x23799e=ma['makeKey'](_0xd6a3e3,_0x313eba);if(this['_cache'][_0x23799e]!==void(0xc43*0x1+0xf*-0x5a+-0x6fd))_0x3a28cc(null,this['_cache'][_0x23799e]);else{if(this['_requests'][_0x23799e])this['_requests'][_0x23799e]['push'](_0x3a28cc);else{this['_requests'][_0x23799e]=[_0x3a28cc];const _0x3da833=this,_0x4c50b4=function(_0x30abd9,_0x12ec8a){if(_0x30abd9){_0x3da833['_onFailure'](_0x23799e,_0x30abd9);return;}if(_0x12ec8a['load']instanceof DataView){if(_0x2c52bd['openBinary']){if(!_0x3da833['_requests'][_0x23799e])return;try{const _0x1a47dc=_0x2c52bd['openBinary'](_0x12ec8a['load']);_0x3da833['_onSuccess'](_0x23799e,_0x1a47dc);}catch(_0x2551e4){_0x3da833['_onFailure'](_0x23799e,_0x2551e4);}return;}_0x12ec8a['load']=URL['createObje'+'ctURL'](new Blob([_0x12ec8a['load']])),_0x2734aa&&(_0x2734aa['urlObject']&&URL['revokeObje'+'ctURL'](_0x2734aa['urlObject']),_0x2734aa['urlObject']=_0x12ec8a['load']);}_0x2c52bd['load'](_0x12ec8a,(_0x3085b6,_0x49d380,_0x1bc182)=>{if(_0x3da833['_requests'][_0x23799e]){if(_0x3085b6){_0x3da833['_onFailure'](_0x23799e,_0x3085b6);return;}try{_0x3da833['_onSuccess'](_0x23799e,_0x2c52bd['open'](_0x12ec8a['original'],_0x49d380,_0x2734aa),_0x1bc182);}catch(_0x10db68){_0x3da833['_onFailure'](_0x23799e,_0x10db68);}}},_0x2734aa);},_0x55bfd2=_0xd6a3e3['split']('?')[0x9*0x2a5+0x3a4*0x5+-0x1*0x2a01];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x55bfd2)&&!(_0x3b1db5&&_0x3b1db5['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x55bfd2)){const _0x4664f7=this['_app']['bundles']['listBundle'+'sForAsset'](_0x2734aa);let _0x12b19b;_0x3b1db5&&_0x3b1db5['bundlesFil'+'ter']&&(_0x12b19b=_0x3b1db5['bundlesFil'+'ter'](_0x4664f7)),_0x12b19b||(_0x4664f7==null||_0x4664f7['sort']((_0x3f615f,_0x1d63d5)=>_0x3f615f['file']['size']-_0x1d63d5['file']['size']),_0x12b19b=_0x4664f7==null?void(-0x211*0x9+0x11*-0x5c+0x18b5):_0x4664f7[0x1ff2+-0x65*-0x19+-0x7*0x5f9]),_0x12b19b&&((_0x3edb27=this['_app']['assets'])==null||_0x3edb27['load'](_0x12b19b));}this['_app']['bundles']['loadUrl'](_0x55bfd2,(_0x51b9c3,_0x5dad9a)=>{_0x4c50b4(_0x51b9c3,{'load':_0x5dad9a,'original':_0x55bfd2});});}else _0x4c50b4(null,{'load':_0xd6a3e3,'original':_0x2734aa&&_0x2734aa['file']['filename']||_0xd6a3e3});}}}['_loadNull'](_0x422e98,_0x3b3317,_0x276457){const _0x203e57=function(_0x24b65a,_0x1a3e2d,_0x2c2e5f){if(_0x24b65a)_0x3b3317(_0x24b65a);else try{_0x3b3317(null,_0x422e98['open'](null,_0x1a3e2d,_0x276457),_0x2c2e5f);}catch(_0x4df964){_0x3b3317(_0x4df964);}};_0x422e98['load'](null,_0x203e57,_0x276457);}['_onSuccess'](_0x18b84a,_0x35597c,_0x50973f){_0x35597c!==null?this['_cache'][_0x18b84a]=_0x35597c:delete this['_cache'][_0x18b84a];for(let _0x53ca55=-0x1d29+-0x8ea+0x2613;_0x53ca55<this['_requests'][_0x18b84a]['length'];_0x53ca55++)this['_requests'][_0x18b84a][_0x53ca55](null,_0x35597c,_0x50973f);delete this['_requests'][_0x18b84a];}['_onFailure'](_0x2ebc9b,_0x486ab2){if(console['error'](_0x486ab2),this['_requests'][_0x2ebc9b]){for(let _0x660c6c=-0x944*-0x3+0x2570*-0x1+-0x4d2*-0x2;_0x660c6c<this['_requests'][_0x2ebc9b]['length'];_0x660c6c++)this['_requests'][_0x2ebc9b][_0x660c6c](_0x486ab2);delete this['_requests'][_0x2ebc9b];}}['open'](_0x1c8d89,_0x438d5c){const _0x3a6e8f=this['_handlers'][_0x1c8d89];return _0x3a6e8f?_0x3a6e8f['open'](null,_0x438d5c):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1c8d89),_0x438d5c);}['patch'](_0x37a58c,_0x50cf45){const _0x1a51e9=this['_handlers'][_0x37a58c['type']];if(!_0x1a51e9){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x37a58c['type']);return;}_0x1a51e9['patch']&&_0x1a51e9['patch'](_0x37a58c,_0x50cf45);}['clearCache'](_0x19edfc,_0x17e4fb){const _0x3cd388=ma['makeKey'](_0x19edfc,_0x17e4fb);delete this['_cache'][_0x3cd388];}['getFromCac'+'he'](_0x4a0e7f,_0x19583f){const _0x3ad624=ma['makeKey'](_0x4a0e7f,_0x19583f);if(this['_cache'][_0x3ad624])return this['_cache'][_0x3ad624];}['enableRetr'+'y'](_0x3957a9=0x1a*-0x107+-0x2*-0x566+0xfef){_0x3957a9=Math['max'](0x7*-0x14d+-0x5*-0x45+0x7c2,_0x3957a9)||0x2462+0x1d0*-0x13+-0x1f2;for(const _0xe6da47 in this['_handlers'])this['_handlers'][_0xe6da47]['maxRetries']=_0x3957a9;}['disableRet'+'ry'](){for(const _0x54d3d3 in this['_handlers'])this['_handlers'][_0x54d3d3]['maxRetries']=0xc9f+-0x12a*0x6+-0x5a3;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x299a37){if(!_0x299a37['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x299a37['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x299a37['header']['version']!==0x25f7*-0x1+-0x20d9*-0x1+0x51f)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x299a37['data']){if(!Array['isArray'](_0x299a37['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x2709f4=-0x124f+0x4*0x3b1+0x38b,_0x4468ad=_0x299a37['data']['length'];_0x2709f4<_0x4468ad;_0x2709f4++){const _0x71c937=_0x299a37['data'][_0x2709f4];if(!_0x71c937['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x2709f4+('].info\x22\x20fi'+'eld'));if(!_0x71c937['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x2709f4+('].info.loc'+'ale\x22\x20field'));if(typeof _0x71c937['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x2709f4+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x71c937['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x2709f4+('].messages'+'\x22\x20field'));}}['parse'](_0x57436b){return this['_validate'](_0x57436b),_0x57436b['data'];}}class aP extends ce{constructor(_0x31e16d){super(),this['locale']=$h,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x31e16d,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x2e273a){const _0x527185={};for(let _0x53aed3=-0xffd*0x1+-0x1d32+0x2d2f,_0x578080=_0x2e273a['length'];_0x53aed3<_0x578080;_0x53aed3++){const _0x2a6117=_0x2e273a[_0x53aed3]instanceof le?_0x2e273a[_0x53aed3]['id']:_0x2e273a[_0x53aed3];_0x527185[_0x2a6117]=!(-0x13e*0x12+-0x1a8f+-0x6fd*-0x7);}let _0x505da8=this['_assets']['length'];for(;_0x505da8--;){const _0x507a90=this['_assets'][_0x505da8];if(!_0x527185[_0x507a90]){this['_app']['assets']['off']('add:'+_0x507a90,this['_onAssetAd'+'d'],this);const _0x54245b=this['_app']['assets']['get'](_0x507a90);_0x54245b&&this['_onAssetRe'+'move'](_0x54245b),this['_assets']['splice'](_0x505da8,0x2100+-0x9f+-0x2060);}}for(const _0x5f5ce7 in _0x527185){const _0xdcd86d=parseInt(_0x5f5ce7,0x1*0x1b1a+0x1*-0xa7d+-0x1093*0x1);if(this['_assets']['indexOf'](_0xdcd86d)!==-(-0x1*0x1979+-0x2*-0x11a1+-0x1*0x9c8))continue;this['_assets']['push'](_0xdcd86d);const _0x16b5c2=this['_app']['assets']['get'](_0xdcd86d);_0x16b5c2?this['_onAssetAd'+'d'](_0x16b5c2):this['_app']['assets']['once']('add:'+_0xdcd86d,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x2cc593){if(this['_locale']===_0x2cc593)return;let _0x364ca3=_i(_0x2cc593);if(_0x364ca3==='in'&&(_0x364ca3='id',_0x2cc593=Y1(_0x2cc593,_0x364ca3),this['_locale']===_0x2cc593))return;const _0x358cef=this['_locale'];this['_locale']=_0x2cc593,this['_lang']=_0x364ca3,this['_pluralFn']=jd(this['_lang']),this['fire']('set:locale',_0x2cc593,_0x358cef);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x4a294e,_0x15c1b1){return V0(_0x4a294e,_0x15c1b1);}['findAvaila'+'bleLocale'](_0x5005cb){if(this['_translati'+'ons'][_0x5005cb])return _0x5005cb;const _0x5edb61=_i(_0x5005cb);return this['_findFallb'+'ackLocale'](_0x5005cb,_0x5edb61);}['getText'](_0x299f73,_0xb48a2c){let _0x3bb7fc=_0x299f73,_0x4732f9;_0xb48a2c||(_0xb48a2c=this['_locale'],_0x4732f9=this['_lang']);let _0x93c2e8=this['_translati'+'ons'][_0xb48a2c];return _0x93c2e8||(_0x4732f9||(_0x4732f9=_i(_0xb48a2c)),_0xb48a2c=this['_findFallb'+'ackLocale'](_0xb48a2c,_0x4732f9),_0x93c2e8=this['_translati'+'ons'][_0xb48a2c]),_0x93c2e8&&_0x93c2e8['hasOwnProp'+'erty'](_0x299f73)&&(_0x3bb7fc=_0x93c2e8[_0x299f73],Array['isArray'](_0x3bb7fc)&&(_0x3bb7fc=_0x3bb7fc[0x17f*-0x19+-0x4*0x48d+-0x1*-0x379b]),_0x3bb7fc==null&&(_0x3bb7fc=_0x299f73)),_0x3bb7fc;}['getPluralT'+'ext'](_0x4cc20b,_0x4aa225,_0x1693cb){let _0x52e92b=_0x4cc20b,_0x4be43d,_0x2c449a;_0x1693cb?(_0x4be43d=_i(_0x1693cb),_0x2c449a=jd(_0x4be43d)):(_0x1693cb=this['_locale'],_0x4be43d=this['_lang'],_0x2c449a=this['_pluralFn']);let _0x18433a=this['_translati'+'ons'][_0x1693cb];if(_0x18433a||(_0x1693cb=this['_findFallb'+'ackLocale'](_0x1693cb,_0x4be43d),_0x4be43d=_i(_0x1693cb),_0x2c449a=jd(_0x4be43d),_0x18433a=this['_translati'+'ons'][_0x1693cb]),_0x18433a&&_0x18433a[_0x4cc20b]&&_0x2c449a){const _0xf387e7=_0x2c449a(_0x4aa225);_0x52e92b=_0x18433a[_0x4cc20b][_0xf387e7],_0x52e92b==null&&(_0x52e92b=_0x4cc20b);}return _0x52e92b;}['addData'](_0x2fa734){let _0x3c3aa5;try{_0x3c3aa5=this['_parser']['parse'](_0x2fa734);}catch(_0xa4a146){console['error'](_0xa4a146);return;}for(let _0xbcbd39=0x1*-0x684+0x612+0x72,_0x1d31e1=_0x3c3aa5['length'];_0xbcbd39<_0x1d31e1;_0xbcbd39++){const _0x224702=_0x3c3aa5[_0xbcbd39],_0x5b7e05=_0x224702['info']['locale'],_0x4d80ce=_0x224702['messages'];if(!this['_translati'+'ons'][_0x5b7e05]){this['_translati'+'ons'][_0x5b7e05]={};const _0x1ad0da=_i(_0x5b7e05);this['_available'+'Langs'][_0x1ad0da]||(this['_available'+'Langs'][_0x1ad0da]=_0x5b7e05);}Object['assign'](this['_translati'+'ons'][_0x5b7e05],_0x4d80ce),this['fire']('data:add',_0x5b7e05,_0x4d80ce);}}['removeData'](_0x22b066){let _0xc3403a;try{_0xc3403a=this['_parser']['parse'](_0x22b066);}catch(_0x1914a8){console['error'](_0x1914a8);return;}for(let _0x46c7e2=-0x10*0x169+-0x21f2+0x3882,_0x4e6f50=_0xc3403a['length'];_0x46c7e2<_0x4e6f50;_0x46c7e2++){const _0x49d211=_0xc3403a[_0x46c7e2],_0x28f9df=_0x49d211['info']['locale'],_0x307443=this['_translati'+'ons'][_0x28f9df];if(!_0x307443)continue;const _0x1ef1bd=_0x49d211['messages'];for(const _0x4b44b8 in _0x1ef1bd)delete _0x307443[_0x4b44b8];Object['keys'](_0x307443)['length']===-0xf27+-0x416+0x133d&&(delete this['_translati'+'ons'][_0x28f9df],delete this['_available'+'Langs'][_i(_0x28f9df)]),this['fire']('data:remov'+'e',_0x28f9df,_0x1ef1bd);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x59a389,_0x1d702e){let _0x9af30e=qh[_0x59a389];return _0x9af30e&&this['_translati'+'ons'][_0x9af30e]||(_0x9af30e=qh[_0x1d702e],_0x9af30e&&this['_translati'+'ons'][_0x9af30e])||(_0x9af30e=this['_available'+'Langs'][_0x1d702e],_0x9af30e&&this['_translati'+'ons'][_0x9af30e])?_0x9af30e:$h;}['_onAssetAd'+'d'](_0x3877da){_0x3877da['on']('load',this['_onAssetLo'+'ad'],this),_0x3877da['on']('change',this['_onAssetCh'+'ange'],this),_0x3877da['on']('remove',this['_onAssetRe'+'move'],this),_0x3877da['on']('unload',this['_onAssetUn'+'load'],this),_0x3877da['resource']&&this['_onAssetLo'+'ad'](_0x3877da);}['_onAssetLo'+'ad'](_0x274bcb){this['addData'](_0x274bcb['resource']);}['_onAssetCh'+'ange'](_0x4d8af0){_0x4d8af0['resource']&&this['addData'](_0x4d8af0['resource']);}['_onAssetRe'+'move'](_0x24eb7a){_0x24eb7a['off']('load',this['_onAssetLo'+'ad'],this),_0x24eb7a['off']('change',this['_onAssetCh'+'ange'],this),_0x24eb7a['off']('remove',this['_onAssetRe'+'move'],this),_0x24eb7a['off']('unload',this['_onAssetUn'+'load'],this),_0x24eb7a['resource']&&this['removeData'](_0x24eb7a['resource']),this['_app']['assets']['once']('add:'+_0x24eb7a['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x2dffae){_0x2dffae['resource']&&this['removeData'](_0x2dffae['resource']);}}class oP extends ce{constructor(_0x2445bd){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x2445bd;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x3d2ff8,_0x4178a6){_0x4178a6&&this['_scriptSch'+'emas']['set'](_0x3d2ff8,_0x4178a6);}['getSchema'](_0x3a1d99){return this['_scriptSch'+'emas']['get'](_0x3a1d99);}['add'](_0x30bbb2){const _0x4fc310=_0x30bbb2['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x4fc310)?(setTimeout(()=>{if(_0x30bbb2['prototype']['swap']){const _0x221a65=this['_scripts'][_0x4fc310],_0x18964d=this['_list']['indexOf'](_0x221a65);this['_list'][_0x18964d]=_0x30bbb2,this['_scripts'][_0x4fc310]=_0x30bbb2,this['fire']('swap',_0x4fc310,_0x30bbb2),this['fire']('swap:'+_0x4fc310,_0x30bbb2);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x4fc310+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x971+0xc98*-0x1+0x160a)):(this['_scripts'][_0x4fc310]=_0x30bbb2,this['_list']['push'](_0x30bbb2),this['fire']('add',_0x4fc310,_0x30bbb2),this['fire']('add:'+_0x4fc310,_0x30bbb2),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x4fc310)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x5c941b=this['app']['systems']['script']['_component'+'s'];let _0x55abb3;const _0x4d334f=[],_0x42e3c0=[];for(_0x5c941b['loopIndex']=0x83*0xe+0x1*0x12a1+-0xd5*0x1f;_0x5c941b['loopIndex']<_0x5c941b['length'];_0x5c941b['loopIndex']++){const _0x3cea43=_0x5c941b['items'][_0x5c941b['loopIndex']];if(_0x3cea43['_scriptsIn'+'dex'][_0x4fc310]&&_0x3cea43['_scriptsIn'+'dex'][_0x4fc310]['awaiting']){_0x3cea43['_scriptsDa'+'ta']&&_0x3cea43['_scriptsDa'+'ta'][_0x4fc310]&&(_0x55abb3=_0x3cea43['_scriptsDa'+'ta'][_0x4fc310]['attributes']);const _0x311e79=_0x3cea43['create'](_0x4fc310,{'preloading':!(0x11ef+0x2504+-0x1251*0x3),'ind':_0x3cea43['_scriptsIn'+'dex'][_0x4fc310]['ind'],'attributes':_0x55abb3});_0x311e79&&_0x4d334f['push'](_0x311e79);for(const _0x1dadf8 of _0x3cea43['scripts'])_0x3cea43['initialize'+'Attributes'](_0x1dadf8);}}for(let _0x186db4=0xd5*0xf+0x113d+-0x1*0x1db8;_0x186db4<_0x4d334f['length'];_0x186db4++)_0x4d334f[_0x186db4]['enabled']&&(_0x4d334f[_0x186db4]['_initializ'+'ed']=!(0x2631+-0xaac+-0x1b85),_0x42e3c0['push'](_0x4d334f[_0x186db4]),_0x4d334f[_0x186db4]['initialize']&&_0x4d334f[_0x186db4]['initialize']());for(let _0x514465=-0x1e2c+-0x85*0x17+0x107*0x29;_0x514465<_0x42e3c0['length'];_0x514465++)!_0x42e3c0[_0x514465]['enabled']||_0x42e3c0[_0x514465]['_postIniti'+'alized']||(_0x42e3c0[_0x514465]['_postIniti'+'alized']=!(0x1*0x13e2+0x2*-0xd91+-0x3a*-0x20),_0x42e3c0[_0x514465]['postInitia'+'lize']&&_0x42e3c0[_0x514465]['postInitia'+'lize']());}),!(0x533*0x7+-0x2c*0xad+-0x6a9));}['remove'](_0x2599ca){let _0x432dcc=_0x2599ca,_0x4b12c0=_0x2599ca;if(typeof _0x4b12c0!='string'?_0x4b12c0=_0x432dcc['__name']:_0x432dcc=this['get'](_0x4b12c0),this['get'](_0x4b12c0)!==_0x432dcc)return!(-0x1134*-0x1+0xb97+-0xa*0x2e1);delete this['_scripts'][_0x4b12c0];const _0x2a5b5a=this['_list']['indexOf'](_0x432dcc);return this['_list']['splice'](_0x2a5b5a,0x1839+-0x1c12+-0x3da*-0x1),this['fire']('remove',_0x4b12c0,_0x432dcc),this['fire']('remove:'+_0x4b12c0,_0x432dcc),!(-0x35d*0x1+-0x17*-0x48+-0x31b);}['get'](_0x4b3f23){return this['_scripts'][_0x4b3f23]||null;}['has'](_0x11bb55){if(typeof _0x11bb55=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x11bb55);if(!_0x11bb55)return!(0x1e04*-0x1+-0x1ef+0x1ff4);const _0x38415b=_0x11bb55['__name'];return this['_scripts'][_0x38415b]===_0x11bb55;}['list'](){return this['_list'];}}const lP=(_0x4dccb6,_0x1adf83)=>_0x4dccb6['constructo'+'r']['order']-_0x1adf83['constructo'+'r']['order'],hP=_0x5706de=>_0x5706de['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x1d9192=>{_0x1d9192['length']=0x2050+-0x1ed4+-0x17c,G0['push'](_0x1d9192);},oc=class oc extends De{constructor(_0x204227,_0x264151=tn()){super(_0x204227),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0xd06+-0x258c+0x27*0xa1)),c(this,'_guid',null),c(this,'_template',!(-0x7*0x4e5+0x9cb+0x1879)),(v['assert'](_0x264151,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x264151);}['addCompone'+'nt'](_0x2b1221,_0x4905ac){const _0x316224=this['_app']['systems'][_0x2b1221];return _0x316224?this['c'][_0x2b1221]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x2b1221+('\x27\x20componen'+'t')),null):_0x316224['addCompone'+'nt'](this,_0x4905ac):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x2b1221+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x5089c6){const _0x2da355=this['_app']['systems'][_0x5089c6];if(!_0x2da355){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x5089c6+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x5089c6]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x5089c6+('\x27\x20componen'+'t'));return;}_0x2da355['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x43862e){const _0x18caa8=this['findOne'](_0x5cab67=>{var _0x499b3a;return(_0x499b3a=_0x5cab67['c'])==null?void(-0x5f*0x53+-0x17aa+0x3677):_0x499b3a[_0x43862e];});return _0x18caa8&&_0x18caa8['c'][_0x43862e];}['findCompon'+'ents'](_0x26aeb0){return this['find'](_0xd0a424=>{var _0x1e9a08;return(_0x1e9a08=_0xd0a424['c'])==null?void(-0x44f+-0x1*-0x29+0x2*0x213):_0x1e9a08[_0x26aeb0];})['map'](_0xb73b48=>_0xb73b48['c'][_0x26aeb0]);}['findScript'](_0x57084a){const _0x201b0f=this['findOne'](_0x369760=>{var _0x5187dc,_0x45131c;return(_0x45131c=(_0x5187dc=_0x369760['c'])==null?void(-0x244a+-0x116e+-0x17e*-0x24):_0x5187dc['script'])==null?void(0xb3*0x21+-0x4*0x6bc+-0x2b*-0x17):_0x45131c['has'](_0x57084a);});return _0x201b0f==null?void(-0x13d3+0x9*-0x3b+0x15e6):_0x201b0f['c']['script']['get'](_0x57084a);}['findScript'+'s'](_0x129ed6){return this['find'](_0x2c0013=>{var _0x2eac8b,_0xacd2e9;return(_0xacd2e9=(_0x2eac8b=_0x2c0013['c'])==null?void(0xead+0x212b+-0x2*0x17ec):_0x2eac8b['script'])==null?void(-0x1b1d+-0x93f+-0x122e*-0x2):_0xacd2e9['has'](_0x129ed6);})['map'](_0x547360=>_0x547360['c']['script']['get'](_0x129ed6));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x1112bd){const _0xde137c=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0xde137c[this['_guid']],this['_guid']=_0x1112bd,_0xde137c[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x5eeae2,_0x35657f){let _0x280a2d=!(0x191b+-0x2c5+0x1655*-0x1);_0x5eeae2===this&&Za['length']===-0x1*-0x148d+0x4*-0x92b+-0x1*-0x101f&&(_0x280a2d=!(-0xc*-0x77+-0x3e7+-0x1ad)),_0x5eeae2['_beingEnab'+'led']=!(0x11d9*-0x1+0x1*-0x26a9+0x1c41*0x2),_0x5eeae2['_onHierarc'+'hyStateCha'+'nged'](_0x35657f),_0x5eeae2['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x5eeae2);const _0x3b6700=_0x5eeae2['_children'];for(let _0x41f4cb=0x2364+0x4b1*0x4+-0x3628,_0x4f5018=_0x3b6700['length'];_0x41f4cb<_0x4f5018;_0x41f4cb++)_0x3b6700[_0x41f4cb]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x3b6700[_0x41f4cb],_0x35657f);if(_0x5eeae2['_beingEnab'+'led']=!(-0x4e3+-0x13*0xdf+0x1571),_0x280a2d){for(let _0x1e9e59=0x70*-0x3e+-0x98e+0x24ae;_0x1e9e59<Za['length'];_0x1e9e59++)Za[_0x1e9e59]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=-0x406+0x1b6d*-0x1+-0x1f73*-0x1;}}['_onHierarc'+'hyStateCha'+'nged'](_0x3d6fbe){super['_onHierarc'+'hyStateCha'+'nged'](_0x3d6fbe);const _0x90e610=this['_getSorted'+'Components']();for(let _0x186d22=-0x242b*0x1+0x1c3+0x18*0x16f;_0x186d22<_0x90e610['length'];_0x186d22++){const _0x505857=_0x90e610[_0x186d22];_0x505857['enabled']&&(_0x3d6fbe?_0x505857['onEnable']():_0x505857['onDisable']());}$_(_0x90e610);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x173efb=this['_getSorted'+'Components']();for(let _0x31c570=0x21ff*0x1+-0x11f*0xe+-0x124d;_0x31c570<_0x173efb['length'];_0x31c570++)_0x173efb[_0x31c570]['onPostStat'+'eChange']();$_(_0x173efb);}['findByGuid'](_0x125da0){if(this['_guid']===_0x125da0)return this;const _0x4d672c=this['_app']['_entityInd'+'ex'][_0x125da0];return _0x4d672c&&(_0x4d672c===this||_0x4d672c['isDescenda'+'ntOf'](this))?_0x4d672c:null;}['destroy'](){this['_destroyin'+'g']=!(0x21d+0x15c0+0x29*-0x95);for(const _0x3b982f in this['c'])this['c'][_0x3b982f]['enabled']=!(0x2*-0x11a4+0x1d*-0xad+0x5*0xafa);for(const _0x586d1c in this['c'])this['c'][_0x586d1c]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x12d9+0xd39+0x5a1);}['clone'](){const _0x29a886={},_0x59e441=this['_cloneRecu'+'rsively'](_0x29a886);return _0x29a886[this['getGuid']()]=_0x59e441,H0(this,this,_0x59e441,_0x29a886),_0x59e441;}['_getSorted'+'Components'](){const _0x4b34f2=this['c'],_0x5905de=cP();let _0x25049b=0x1cf*0x1+-0xc5c+0xa8d;for(const _0x4028c8 in _0x4b34f2)if(_0x4b34f2['hasOwnProp'+'erty'](_0x4028c8)){const _0x4440f4=_0x4b34f2[_0x4028c8];_0x25049b|=_0x4440f4['constructo'+'r']['order']!==-0x24*-0x60+-0x1ddc+0x3*0x574,_0x5905de['push'](_0x4440f4);}return _0x25049b&&_0x5905de['length']>0x1873+0x1665+-0x7*0x6b1&&hP(_0x5905de),_0x5905de;}['_cloneRecu'+'rsively'](_0x5f18eb){const _0x361cf0=new this['constructo'+'r'](void(0x20b4+-0x1cd1+-0x3e3),this['_app']);super['_cloneInte'+'rnal'](_0x361cf0);for(const _0x18623c in this['c'])this['c'][_0x18623c]['system']['cloneCompo'+'nent'](this,_0x361cf0);for(let _0x493637=-0x14c4+0x3*-0x250+0x1bb4;_0x493637<this['_children']['length'];_0x493637++){const _0x5c6098=this['_children'][_0x493637];if(_0x5c6098 instanceof oc){const _0xfd00a3=_0x5c6098['_cloneRecu'+'rsively'](_0x5f18eb);_0x361cf0['addChild'](_0xfd00a3),_0x5f18eb[_0x5c6098['getGuid']()]=_0xfd00a3;}}return _0x361cf0;}};c(oc,'EVENT_DEST'+'ROY','destroy');let We=oc;function H0(_0x2cb366,_0x437776,_0x2b989e,_0x994d30){if(_0x437776 instanceof We){const _0x11cd7c=_0x437776['c'];for(const _0x1ab897 in _0x11cd7c){const _0x3df441=_0x11cd7c[_0x1ab897],_0x577d62=_0x3df441['system']['getPropert'+'iesOfType']('entity');for(let _0x5c6aae=-0xd03+-0x2*-0xe1d+-0xf37,_0x48cab7=_0x577d62['length'];_0x5c6aae<_0x48cab7;_0x5c6aae++){const _0x614f82=_0x577d62[_0x5c6aae]['name'],_0x49d067=_0x3df441[_0x614f82];if(!!_0x2cb366['findByGuid'](_0x49d067)){const _0x18fe16=_0x994d30[_0x49d067]['getGuid']();_0x18fe16?_0x2b989e['c'][_0x1ab897][_0x614f82]=_0x18fe16:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x11cd7c['script']&&_0x2b989e['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x11cd7c['script'],_0x994d30),_0x11cd7c['render']&&_0x2b989e['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x11cd7c['render'],_0x994d30),_0x11cd7c['button']&&_0x2b989e['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x11cd7c['button'],_0x994d30),_0x11cd7c['scrollview']&&_0x2b989e['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x11cd7c['scrollview'],_0x994d30),_0x11cd7c['scrollbar']&&_0x2b989e['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x11cd7c['scrollbar'],_0x994d30),_0x11cd7c['anim']&&_0x2b989e['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x11cd7c['anim'],_0x994d30);const _0xde7c8=_0x437776['children']['filter'](_0x59e4c4=>_0x59e4c4 instanceof We),_0x27a0aa=_0x2b989e['children']['filter'](_0x3b110b=>_0x3b110b instanceof We);for(let _0x4a7c8b=-0x1*0x235b+-0x13*0x19f+0x4228,_0x2668bf=_0xde7c8['length'];_0x4a7c8b<_0x2668bf;_0x4a7c8b++)H0(_0x2cb366,_0xde7c8[_0x4a7c8b],_0x27a0aa[_0x4a7c8b],_0x994d30);}}class q_{constructor(_0x4862da,_0x26a967){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x3*0x9f0+-0x2*-0x23b+-0x2245)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x4862da,this['url']=_0x26a967);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x3958b8){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x3958b8;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0xad4f5e,_0x4e06b8){if(this['_index']['hasOwnProp'+'erty'](_0xad4f5e))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0xad4f5e),!(0x141b+-0x1*0x471+-0xfa9);const _0x2739a5=new q_(_0xad4f5e,_0x4e06b8),_0x46a3c2=this['_list']['push'](_0x2739a5);return this['_index'][_0x2739a5['name']]=_0x46a3c2-(-0x1f71+-0x1*0x2655+-0x45c7*-0x1),this['_urlIndex'][_0x2739a5['url']]=_0x46a3c2-(0xd15+0xe32+-0x1b46),!(0x87e+0x2*-0xf3d+0x15fc);}['find'](_0x10e62e){return this['_index']['hasOwnProp'+'erty'](_0x10e62e)?this['_list'][this['_index'][_0x10e62e]]:null;}['findByUrl'](_0x4526db){return this['_urlIndex']['hasOwnProp'+'erty'](_0x4526db)?this['_list'][this['_urlIndex'][_0x4526db]]:null;}['remove'](_0x330f67){if(this['_index']['hasOwnProp'+'erty'](_0x330f67)){const _0x246300=this['_index'][_0x330f67];let _0x386659=this['_list'][_0x246300];delete this['_urlIndex'][_0x386659['url']],delete this['_index'][_0x330f67],this['_list']['splice'](_0x246300,-0x494+-0x1*0x215+-0x355*-0x2);for(let _0x5d7345=-0x4*-0x96d+-0x3*0x9a4+-0x8c8;_0x5d7345<this['_list']['length'];_0x5d7345++)_0x386659=this['_list'][_0x5d7345],this['_index'][_0x386659['name']]=_0x5d7345,this['_urlIndex'][_0x386659['url']]=_0x5d7345;}}['_loadScene'+'Data'](_0x47e060,_0x4cce64,_0x142be){const _0x214c4c=this['_app'];let _0x42acc9=_0x47e060;if(typeof _0x47e060=='string'&&(_0x47e060=this['findByUrl'](_0x42acc9)||this['find'](_0x42acc9)||new q_('Untitled',_0x42acc9)),_0x42acc9=_0x47e060['url'],!_0x42acc9){_0x142be('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x47e060['loaded']){_0x142be(null,_0x47e060);return;}_0x214c4c['assets']&&_0x214c4c['assets']['prefix']&&!La['test'](_0x42acc9)&&(_0x42acc9=fe['join'](_0x214c4c['assets']['prefix'],_0x42acc9)),_0x47e060['_onLoadedC'+'allbacks']['push'](_0x142be),_0x47e060['_loading']||_0x214c4c['loader']['getHandler']('hierarchy')['load'](_0x42acc9,(_0x382293,_0x3d03f2)=>{_0x47e060['data']=_0x3d03f2,_0x47e060['_loading']=!(0x1a42+-0x1020+-0xa21);for(let _0x23d3e9=0x2*0x512+0x18*-0x7+0x4be*-0x2;_0x23d3e9<_0x47e060['_onLoadedC'+'allbacks']['length'];_0x23d3e9++)_0x47e060['_onLoadedC'+'allbacks'][_0x23d3e9](_0x382293,_0x47e060);_0x4cce64||(_0x47e060['data']=null),_0x47e060['_onLoadedC'+'allbacks']['length']=-0x197d+-0x4*0x12e+0x1e35;}),_0x47e060['_loading']=!(0x75*0x3d+-0x245d+0x2*0x43e);}['loadSceneD'+'ata'](_0x4e79bd,_0x36893e){this['_loadScene'+'Data'](_0x4e79bd,!(0xcc4+-0x5*0x68b+0x13f3),_0x36893e);}['unloadScen'+'eData'](_0x356f80){typeof _0x356f80=='string'&&(_0x356f80=this['findByUrl'](_0x356f80)),_0x356f80&&(_0x356f80['data']=null);}['_loadScene'+'Hierarchy'](_0x569720,_0x519ecf,_0x1b0091){this['_loadScene'+'Data'](_0x569720,!(-0x1*-0xfad+0x6bf*0x1+-0x1*0x166b),(_0x30777c,_0x24c089)=>{if(_0x30777c){_0x1b0091&&_0x1b0091(_0x30777c);return;}_0x519ecf&&_0x519ecf(_0x24c089);const _0x26cff1=this['_app'],_0x4176d4=()=>{const _0x34c0e5=_0x26cff1['loader']['getHandler']('hierarchy');_0x26cff1['systems']['script']['preloading']=!(0x1eee+0xb69*0x2+-0x14*0x2b0);const _0x2f6bbb=_0x34c0e5['open'](_0x24c089['url'],_0x24c089['data']);_0x26cff1['systems']['script']['preloading']=!(0x11*0x22+-0x74b*-0x2+0x9*-0x1df),_0x26cff1['loader']['clearCache'](_0x24c089['url'],'hierarchy'),_0x26cff1['root']['addChild'](_0x2f6bbb),_0x26cff1['systems']['fire']('initialize',_0x2f6bbb),_0x26cff1['systems']['fire']('postInitia'+'lize',_0x2f6bbb),_0x26cff1['systems']['fire']('postPostIn'+'itialize',_0x2f6bbb),_0x1b0091&&_0x1b0091(null,_0x2f6bbb);};_0x26cff1['_preloadSc'+'ripts'](_0x24c089['data'],_0x4176d4);});}['loadSceneH'+'ierarchy'](_0x46b366,_0x497fa4){this['_loadScene'+'Hierarchy'](_0x46b366,null,_0x497fa4);}['loadSceneS'+'ettings'](_0x18472c,_0x148893){this['_loadScene'+'Data'](_0x18472c,!(-0x2be+-0x1*-0x11fb+-0xf3c),(_0x24afb9,_0x125c7a)=>{_0x24afb9?_0x148893&&_0x148893(_0x24afb9):(this['_app']['applyScene'+'Settings'](_0x125c7a['data']['settings']),_0x148893&&_0x148893(null));});}['changeScen'+'e'](_0x394a63,_0x277391){const _0xfda2aa=this['_app'],_0x3fcf1e=_0x46c6dc=>{const {children:_0x347f43}=_0xfda2aa['root'];for(;_0x347f43['length'];)_0x347f43[0xc60+-0x1*-0x1bdd+-0x283d]['destroy']();_0xfda2aa['applyScene'+'Settings'](_0x46c6dc['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x394a63,_0x3fcf1e,_0x277391);}['loadScene'](_0xe158eb,_0x36e689){const _0x32257a=this['_app'],_0x22b538=_0x32257a['loader']['getHandler']('scene');_0x32257a['assets']&&_0x32257a['assets']['prefix']&&!La['test'](_0xe158eb)&&(_0xe158eb=fe['join'](_0x32257a['assets']['prefix'],_0xe158eb)),_0x22b538['load'](_0xe158eb,(_0x41ecdb,_0x2b73f2)=>{if(_0x41ecdb)_0x36e689&&_0x36e689(_0x41ecdb);else{const _0x2aacc5=()=>{_0x32257a['systems']['script']['preloading']=!(0x1*-0xa4e+-0x252d+0x2f7b);const _0x3b8936=_0x22b538['open'](_0xe158eb,_0x2b73f2),_0x1f79b0=this['findByUrl'](_0xe158eb);_0x1f79b0&&!_0x1f79b0['loaded']&&(_0x1f79b0['data']=_0x2b73f2),_0x32257a['systems']['script']['preloading']=!(-0x250e+-0x1*-0x1088+0x1487),_0x32257a['loader']['clearCache'](_0xe158eb,'scene'),_0x32257a['loader']['patch']({'resource':_0x3b8936,'type':'scene'},_0x32257a['assets']),_0x32257a['root']['addChild'](_0x3b8936['root']),_0x32257a['systems']['rigidbody']&&typeof Ammo<'u'&&_0x32257a['systems']['rigidbody']['gravity']['set'](_0x3b8936['_gravity']['x'],_0x3b8936['_gravity']['y'],_0x3b8936['_gravity']['z']),_0x36e689&&_0x36e689(null,_0x3b8936);};_0x32257a['_preloadSc'+'ripts'](_0x2b73f2,_0x2aacc5);}});}}class uP{constructor(_0x999eb){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x999eb['_shaderSta'+'ts'],this['vram']=_0x999eb['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x5c6f49;return(_0x5c6f49=tn()['lightmappe'+'r'])==null?void(0xb41*-0x1+-0x55d+-0x109e*-0x1):_0x5c6f49['stats'];}get['batcher'](){const _0x1093d6=tn()['_batcher'];return _0x1093d6?_0x1093d6['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x2b7e0e){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(0x2f*-0x57+-0x23a2+-0x2de*-0x12)),c(this,'_inFrameUp'+'date',!(-0x2064+0xbb9*0x1+-0x36*-0x62)),c(this,'_libraries'+'Loaded',!(0x3*0xb57+0xa7a+-0x2c7e)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(-0x213+-0x5b2+0x7c5)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(-0x42e+-0xaad*-0x2+-0x112b)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x6a*0x5b+0x1*0x1513+-0x3ac1),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0x2ad+0x922+-0x674),c(this,'maxDeltaTi'+'me',0xbc1+-0xb9c+0x1*-0x25+0.1),c(this,'frame',-0x20d+-0xdc9+0x7eb*0x2),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x19*0x5e+0xc2+-0x9f0)),c(this,'renderNext'+'Frame',!(-0x5*-0x2d9+-0x2104+0x259*0x8)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new ma(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(-0x148a+0x3fb*-0x2+0x1c80):no['indexOf']('$'))<0x119e+-0x35*0x40+0x2b*-0x1a&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x2b7e0e['id']]=this,Xu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(0xf67*-0x1+-0x1ba9*0x1+0xd*0x350));}['init'](_0x2e20d5){const {assetPrefix:_0x167280,batchManager:_0xebb7a7,componentSystems:_0x2f09a3,elementInput:_0x44d1ff,gamepads:_0x1fb89e,graphicsDevice:_0x2bbc93,keyboard:_0x4ec9a6,lightmapper:_0x4f951d,mouse:_0x550242,resourceHandlers:_0x26bfb7,scriptsOrder:_0x574866,scriptPrefix:_0x2089ba,soundManager:_0xa95f8e,touch:_0x5d3b79,xr:_0x4d1dec}=_0x2e20d5;v['assert'](_0x2bbc93,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x2bbc93,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x2bbc93),this['_soundMana'+'ger']=_0xa95f8e,this['scene']=new ui(_0x2bbc93),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x167280&&(this['assets']['prefix']=_0x167280),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x574866||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Oi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Yt,'enabled':!(-0x1e61+0x1*0x164f+0x813),'opaqueSortMode':uh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':bp,'opaqueSortMode':uh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':wp,'opaqueSortMode':uh});const _0x53bd25=new S_('default');_0x53bd25['pushOpaque'](this['defaultLay'+'erWorld']),_0x53bd25['pushOpaque'](this['defaultLay'+'erDepth']),_0x53bd25['pushOpaque'](this['defaultLay'+'erSkybox']),_0x53bd25['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x53bd25['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x53bd25['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x53bd25['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x53bd25,$r['createPlac'+'eholder'](_0x2bbc93),this['renderer']=new Hh(_0x2bbc93),this['renderer']['scene']=this['scene'],_0x4f951d&&(this['lightmappe'+'r']=new _0x4f951d(_0x2bbc93,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0xebb7a7&&(this['_batcher']=new _0xebb7a7(_0x2bbc93,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x4ec9a6||null,this['mouse']=_0x550242||null,this['touch']=_0x5d3b79||null,this['gamepads']=_0x1fb89e||null,_0x44d1ff&&(this['elementInp'+'ut']=_0x44d1ff,this['elementInp'+'ut']['app']=this),this['xr']=_0x4d1dec?new _0x4d1dec(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x2089ba||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x26bfb7['forEach'](_0x3e16d1=>{const _0xc0da29=new _0x3e16d1(this);this['loader']['addHandler'](_0xc0da29['handlerTyp'+'e'],_0xc0da29);}),_0x2f09a3['forEach'](_0x188a16=>{this['systems']['add'](new _0x188a16(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x10f*0x17+-0x49*0x5c+0x15*0x17)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x7d7*-0x3+-0x1*-0x1b23+-0x32a7))):document['mozHidden']!==void(-0x130d+-0x67+-0x1374*-0x1)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1a12+-0x25d7+0x3fea))):document['msHidden']!==void(0x16d+0x1b0*-0x2+0x1f3)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1e82+-0x6*-0x2c+-0x45*0x75))):document['webkitHidd'+'en']!==void(-0x119e+0x2*0xb1f+-0x4a0)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x28*-0x7c+0xef0+-0x471*-0x1)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x3311c0){return _0x3311c0?Gr['_applicati'+'ons'][_0x3311c0]:tn();}['_initDefau'+'ltMaterial'](){const _0x4e84c4=new us();_0x4e84c4['name']='Default\x20Ma'+'terial',sE(this['graphicsDe'+'vice'],_0x4e84c4);}['_initProgr'+'amLibrary'](){const _0x209aed=new D1(this['graphicsDe'+'vice'],new us());WC(this['graphicsDe'+'vice'],_0x209aed);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4e624c,_0x44b99c){$e['get'](_0x4e624c,(_0x3bb562,_0x518a13)=>{if(_0x3bb562){_0x44b99c(_0x3bb562);return;}const _0x2c8e3e=_0x518a13['applicatio'+'n_properti'+'es'],_0x2888bf=_0x518a13['scenes'],_0x39a190=_0x518a13['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x2c8e3e,_0x4a1faf=>{this['_parseScen'+'es'](_0x2888bf),this['_parseAsse'+'ts'](_0x39a190),_0x44b99c(_0x4a1faf||null);});});}['preload'](_0xa62a94){this['fire']('preload:st'+'art');const _0x2d2891=this['assets']['list']({'preload':!(-0x2f2*-0xd+-0x1bf6+-0xa54)});if(_0x2d2891['length']===-0x10c+-0xdac+0x8*0x1d7){this['fire']('preload:en'+'d'),_0xa62a94();return;}let _0x9edb11=0x2*-0x1b6+0x1a73+-0x1*0x1707;const _0xb9c74b=()=>{_0x9edb11++,this['fire']('preload:pr'+'ogress',_0x9edb11/_0x2d2891['length']),_0x9edb11===_0x2d2891['length']&&(this['fire']('preload:en'+'d'),_0xa62a94());};_0x2d2891['forEach'](_0x3f40a7=>{_0x3f40a7['loaded']?_0xb9c74b():(_0x3f40a7['once']('load',_0xb9c74b),_0x3f40a7['once']('error',_0xb9c74b),this['assets']['load'](_0x3f40a7));});}['_preloadSc'+'ripts'](_0x37cb82,_0x22090c){_0x22090c();}['_parseAppl'+'icationPro'+'perties'](_0x47726b,_0x53301c){if(typeof _0x47726b['maxAssetRe'+'tries']=='number'&&_0x47726b['maxAssetRe'+'tries']>0x1*0x1ee7+-0x3b7*-0x8+0x1*-0x3c9f&&this['loader']['enableRetr'+'y'](_0x47726b['maxAssetRe'+'tries']),_0x47726b['useDeviceP'+'ixelRatio']||(_0x47726b['useDeviceP'+'ixelRatio']=_0x47726b['use_device'+'_pixel_rat'+'io']),_0x47726b['resolution'+'Mode']||(_0x47726b['resolution'+'Mode']=_0x47726b['resolution'+'_mode']),_0x47726b['fillMode']||(_0x47726b['fillMode']=_0x47726b['fill_mode']),this['_width']=_0x47726b['width'],this['_height']=_0x47726b['height'],_0x47726b['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x47726b['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x47726b['fillMode'],this['_width'],this['_height']),_0x47726b['layers']&&_0x47726b['layerOrder']){const _0x2466b2=new S_('applicatio'+'n'),_0x1af8a9={};for(const _0x17ad60 in _0x47726b['layers']){const _0x3d7e91=_0x47726b['layers'][_0x17ad60];_0x3d7e91['id']=parseInt(_0x17ad60,-0x14e*0x6+0x115c+-0x10e*0x9),_0x3d7e91['enabled']=_0x3d7e91['id']!==Yt,_0x1af8a9[_0x17ad60]=new Lr(_0x3d7e91);}for(let _0x230f0a=0x3b*-0x2b+-0x7*0xd+-0x1b6*-0x6,_0x438682=_0x47726b['layerOrder']['length'];_0x230f0a<_0x438682;_0x230f0a++){const _0x51ee6e=_0x47726b['layerOrder'][_0x230f0a],_0x1b0ab4=_0x1af8a9[_0x51ee6e['layer']];_0x1b0ab4&&(_0x51ee6e['transparen'+'t']?_0x2466b2['pushTransp'+'arent'](_0x1b0ab4):_0x2466b2['pushOpaque'](_0x1b0ab4),_0x2466b2['subLayerEn'+'abled'][_0x230f0a]=_0x51ee6e['enabled']);}this['scene']['layers']=_0x2466b2;}if(_0x47726b['batchGroup'+'s']){const _0x4b1db7=this['batcher'];if(_0x4b1db7)for(let _0x554697=-0x442*-0x4+-0x1d1e+-0xe*-0xdd,_0x2dc327=_0x47726b['batchGroup'+'s']['length'];_0x554697<_0x2dc327;_0x554697++){const _0x2430e4=_0x47726b['batchGroup'+'s'][_0x554697];_0x4b1db7['addGroup'](_0x2430e4['name'],_0x2430e4['dynamic'],_0x2430e4['maxAabbSiz'+'e'],_0x2430e4['id'],_0x2430e4['layers']);}}_0x47726b['i18nAssets']&&(this['i18n']['assets']=_0x47726b['i18nAssets']),this['_loadLibra'+'ries'](_0x47726b['libraries'],_0x53301c);}['_loadLibra'+'ries'](_0x24c766,_0x3b9fff){const _0x436308=_0x24c766['length'];let _0x30f51e=_0x436308;const _0xe46fdc=/^https?:\/\//;if(_0x436308){const _0x23b3df=(_0x5a592c,_0x528f74)=>{_0x30f51e--,_0x5a592c?_0x3b9fff(_0x5a592c):_0x30f51e===0x1*0x365+0x4df+0x844*-0x1&&(this['onLibrarie'+'sLoaded'](),_0x3b9fff(null));};for(let _0x358847=0x1766+-0x1*0x1ac1+0x1*0x35b;_0x358847<_0x436308;++_0x358847){let _0x42d82e=_0x24c766[_0x358847];!_0xe46fdc['test'](_0x42d82e['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x42d82e=fe['join'](this['_scriptPre'+'fix'],_0x42d82e)),this['loader']['load'](_0x42d82e,'script',_0x23b3df);}}else this['onLibrarie'+'sLoaded'](),_0x3b9fff(null);}['_parseScen'+'es'](_0xeb88bf){if(_0xeb88bf){for(let _0x415cfd=0x388+-0x2*0x4ca+0x60c;_0x415cfd<_0xeb88bf['length'];_0x415cfd++)this['scenes']['add'](_0xeb88bf[_0x415cfd]['name'],_0xeb88bf[_0x415cfd]['url']);}}['_parseAsse'+'ts'](_0x58adab){const _0x573f04=[],_0x4cfb2={},_0x765088={};for(let _0x89a2f5=0x122*0x11+-0x119c+-0x1a6;_0x89a2f5<this['scriptsOrd'+'er']['length'];_0x89a2f5++){const _0x575c74=this['scriptsOrd'+'er'][_0x89a2f5];_0x58adab[_0x575c74]&&(_0x4cfb2[_0x575c74]=!(0x166e+0x7*-0x404+0x5ae),_0x573f04['push'](_0x58adab[_0x575c74]));}if(this['enableBund'+'les']){for(const _0x109c24 in _0x58adab)_0x58adab[_0x109c24]['type']==='bundle'&&(_0x765088[_0x109c24]=!(-0x36*0xab+0x147a+0xf98),_0x573f04['push'](_0x58adab[_0x109c24]));}for(const _0x3d4e34 in _0x58adab)_0x4cfb2[_0x3d4e34]||_0x765088[_0x3d4e34]||_0x573f04['push'](_0x58adab[_0x3d4e34]);for(let _0x32d0b0=0x4e2+0xc9e+0x14*-0xe0;_0x32d0b0<_0x573f04['length'];_0x32d0b0++){const _0x209fd1=_0x573f04[_0x32d0b0],_0x2a7454=new le(_0x209fd1['name'],_0x209fd1['type'],_0x209fd1['file'],_0x209fd1['data']);if(_0x2a7454['id']=parseInt(_0x209fd1['id'],0x87e+0x9*-0x413+-0x1c37*-0x1),_0x2a7454['preload']=_0x209fd1['preload']?_0x209fd1['preload']:!(0x3b9*-0x1+0x6ed+0x75*-0x7),_0x2a7454['loaded']=_0x209fd1['type']==='script'&&_0x209fd1['data']&&_0x209fd1['data']['loadingTyp'+'e']>-0x1b*-0x167+0x9ad*-0x1+-0x1c30,_0x2a7454['tags']['add'](_0x209fd1['tags']),_0x209fd1['i18n']){for(const _0x310309 in _0x209fd1['i18n'])_0x2a7454['addLocaliz'+'edAssetId'](_0x310309,_0x209fd1['i18n'][_0x310309]);}this['assets']['add'](_0x2a7454);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x811+-0xe30+0x1641);}),this['frame']=0x2fb*-0xb+0x108c+0x103d,this['fire']('start',{'timestamp':re(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x23d078){this['controller']&&this['controller']['update'](_0x23d078),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x5f1d4e){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=re(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x5f1d4e),this['systems']['fire']('animationU'+'pdate',_0x5f1d4e),this['systems']['fire']('postUpdate',_0x5f1d4e),this['fire']('update',_0x5f1d4e),this['inputUpdat'+'e'](_0x5f1d4e),this['stats']['frame']['updateTime']=re()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=re(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Hh['_skipRende'+'rCounter']=-0x14*0xbf+-0x1*-0xb2f+0x21*0x1d,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=re()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x3ffee7){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x3ffee7),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x3ffee7),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x23f251,_0x4fbdff,_0x51eaf5){const _0xd63963=this['stats']['frame'];_0xd63963['dt']=_0x4fbdff,_0xd63963['ms']=_0x51eaf5,_0x23f251>_0xd63963['_timeToCou'+'ntFrames']?(_0xd63963['fps']=_0xd63963['_fpsAccum'],_0xd63963['_fpsAccum']=-0x77a+-0x19cd+0x2147,_0xd63963['_timeToCou'+'ntFrames']=_0x23f251+(-0x182c+0x1*0x19a5+0x26f)):_0xd63963['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x1c1d+0x15a8+-0x31c5;}['_fillFrame'+'Stats'](){let _0x482729=this['stats']['frame'];_0x482729['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x482729['materials']=this['renderer']['_materialS'+'witches'],_0x482729['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x482729['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x482729['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x482729['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x482729['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x1ab06c=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x482729['triangles']=_0x1ab06c[Rs]/(-0x6be+-0x1798+-0x1e59*-0x1)+Math['max'](_0x1ab06c[or]-(-0x34d*0x5+-0x1fad+0x3030),0xc10+0x25*-0x7c+-0x3*-0x1f4)+Math['max'](_0x1ab06c[Yr]-(0x1*0x4a2+0x11c*0x13+0xa*-0x292),0x1d84+0x14cc+-0x3250),_0x482729['cullTime']=this['renderer']['_cullTime'],_0x482729['sortTime']=this['renderer']['_sortTime'],_0x482729['skinTime']=this['renderer']['_skinTime'],_0x482729['morphTime']=this['renderer']['_morphTime'],_0x482729['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x482729['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x482729['otherPrimi'+'tives']=0x2*-0x5d9+-0x25e0+-0xeb*-0x36;for(let _0x47b726=0x2299+0x3*0xc77+-0xbe*0x61;_0x47b726<_0x1ab06c['length'];_0x47b726++)_0x47b726<Rs&&(_0x482729['otherPrimi'+'tives']+=_0x1ab06c[_0x47b726]),_0x1ab06c[_0x47b726]=0x1e7*-0x11+0x1302*0x2+0x1*-0x5ad;this['renderer']['_camerasRe'+'ndered']=-0xa41+0x1080+-0x63f,this['renderer']['_materialS'+'witches']=0x3c7*-0x9+0x1cf*0xa+0xfe9*0x1,this['renderer']['_shadowMap'+'Updates']=0x196+-0xec+0x1*-0xaa,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x1b41+-0xccf*0x3+0xb2c,this['renderer']['_cullTime']=0x1f9e+-0x131*-0xe+-0x304c,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0xced+0x19be+-0xcd1,this['renderer']['_lightClus'+'tersTime']=0x9bc+0x1cd9+-0x583*0x7,this['renderer']['_sortTime']=-0x2*-0xc1f+0x6*0x4a3+-0x3410,this['renderer']['_skinTime']=0x5*0x3b9+-0x582+-0x29f*0x5,this['renderer']['_morphTime']=-0x807+0x20f1+-0x18ea,this['renderer']['_shadowMap'+'Time']=0x929*0x2+-0x2cb+-0xf87,this['renderer']['_depthMapT'+'ime']=-0x1c60+0x1581+-0x1*-0x6df,this['renderer']['_forwardTi'+'me']=0xb96+0x4fc+-0x849*0x2,_0x482729=this['stats']['drawCalls'],_0x482729['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x482729['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x482729['depth']=0xe*0x160+-0x1*0xc5f+-0x6e1,_0x482729['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x482729['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x482729['immediate']=-0x105+-0x57b*0x2+0xbfb,_0x482729['instanced']=-0x6*0x2bd+0xca0+0x3ce,_0x482729['removedByI'+'nstancing']=0x264+0x1db*0x11+0x1*-0x21ef,_0x482729['misc']=_0x482729['total']-(_0x482729['forward']+_0x482729['shadow']),this['renderer']['_depthDraw'+'Calls']=0x2428+0x1bfd+-0x4025,this['renderer']['_shadowDra'+'wCalls']=0x16f*-0x17+0x74*0x42+0x311,this['renderer']['_forwardDr'+'awCalls']=0xa0d+-0x6db+-0x332,this['renderer']['_numDrawCa'+'llsCulled']=-0x760+-0x1*-0x1da7+-0x1647,this['renderer']['_skinDrawC'+'alls']=0x10*-0x17a+0x26*0x91+-0x2*-0x10d,this['renderer']['_immediate'+'Rendered']=0x1e78+-0x1ecc+0x54,this['renderer']['_instanced'+'DrawCalls']=0xc6*-0x3+-0x11d6*0x1+0x1428,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x482729=this['stats']['particles'],_0x482729['updatesPer'+'Frame']=_0x482729['_updatesPe'+'rFrame'],_0x482729['frameTime']=_0x482729['_frameTime'],_0x482729['_updatesPe'+'rFrame']=-0x21c2+0x151d+0xca5,_0x482729['_frameTime']=-0x1168+0x52*-0x36+0x22b4;}['setCanvasF'+'illMode'](_0x494cc6,_0x35e90c,_0x54885e){this['_fillMode']=_0x494cc6,this['resizeCanv'+'as'](_0x35e90c,_0x54885e);}['setCanvasR'+'esolution'](_0x5d1bf5,_0x52deb2,_0x18ea8e){this['_resolutio'+'nMode']=_0x5d1bf5,_0x5d1bf5===G_&&_0x52deb2===void(-0x1b7f+0x1caa+-0x12b)&&(_0x52deb2=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x18ea8e=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x52deb2,_0x18ea8e);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x2dcad4,_0x2bad10){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x156a4a=window['innerWidth'],_0x45e93a=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x5f0864=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x16bad7=_0x156a4a/_0x45e93a;_0x5f0864>_0x16bad7?(_0x2dcad4=_0x156a4a,_0x2bad10=_0x2dcad4/_0x5f0864):(_0x2bad10=_0x45e93a,_0x2dcad4=_0x2bad10*_0x5f0864);}else this['_fillMode']===$1&&(_0x2dcad4=_0x156a4a,_0x2bad10=_0x45e93a);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x2dcad4+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x2bad10+'px',this['updateCanv'+'asSize'](),{'width':_0x2dcad4,'height':_0x2bad10};}['updateCanv'+'asSize'](){var _0x1280f8;if(!(!this['_allowResi'+'ze']||(_0x1280f8=this['xr'])!=null&&_0x1280f8['active'])&&this['_resolutio'+'nMode']===G_){const _0x4eb5fb=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4eb5fb['clientWidt'+'h'],_0x4eb5fb['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x1cb6+-0x18e6+0x359c),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x3142c6){let _0x4c36df;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x292b67,_0x14e09f,_0x22dd1e]=_0x3142c6['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x292b67,_0x14e09f,_0x22dd1e);}this['scene']['applySetti'+'ngs'](_0x3142c6),_0x3142c6['render']['hasOwnProp'+'erty']('skybox')&&(_0x3142c6['render']['skybox']?(_0x4c36df=this['assets']['get'](_0x3142c6['render']['skybox']),_0x4c36df?this['setSkybox'](_0x4c36df):this['assets']['once']('add:'+_0x3142c6['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0xb811ce,_0xa36b63){_0xb811ce&&_0xa36b63?$r['set'](this['graphicsDe'+'vice'],_0xb811ce,_0xa36b63):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x12f97b){if(_0x12f97b!==this['_skyboxAss'+'et']){const _0x34d5ce=()=>{this['setSkybox'](null);},_0x399e60=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x399e60,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x34d5ce,this),this['_skyboxAss'+'et']['off']('change',_0x399e60,this)),this['_skyboxAss'+'et']=_0x12f97b,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x399e60,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x34d5ce,this),this['_skyboxAss'+'et']['on']('change',_0x399e60,this),this['scene']['skyboxMip']===-0x4*0x4c6+-0x1faf*-0x1+-0xc97*0x1&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x1d61+0xc5*0x26+0x23)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x399e60();}}['_firstBake'](){var _0x133877;(_0x133877=this['lightmappe'+'r'])==null||_0x133877['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x2f0f35;(_0x2f0f35=this['batcher'])==null||_0x2f0f35['generate']();}['_processTi'+'mestamp'](_0x5550cf){return _0x5550cf;}['drawLine'](_0x3cceb6,_0x3a1f31,_0x114a7c,_0x2bd5af,_0x4c91d1){this['scene']['drawLine'](_0x3cceb6,_0x3a1f31,_0x114a7c,_0x2bd5af,_0x4c91d1);}['drawLines'](_0x613a39,_0x27f692,_0x2b7983=!(0x9ce+0x1f40+0x836*-0x5),_0x24fae2=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x613a39,_0x27f692,_0x2b7983,_0x24fae2);}['drawLineAr'+'rays'](_0x4f05f4,_0x5821cb,_0x5f1432=!(-0x1a99+-0x79d+0x2236),_0x781d52=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x4f05f4,_0x5821cb,_0x5f1432,_0x781d52);}['drawWireSp'+'here'](_0x3c9fcb,_0x16977a,_0x34c711=Y['WHITE'],_0xa373ae=-0x107d+-0x3*-0xcf+0xe24*0x1,_0x28628a=!(-0x1f5+-0x1236+-0x3*-0x6b9),_0x2ccd7e=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x3c9fcb,_0x16977a,_0x34c711,_0xa373ae,_0x28628a,_0x2ccd7e);}['drawWireAl'+'ignedBox'](_0xd75261,_0x19c60e,_0x2eb346=Y['WHITE'],_0xff4e60=!(0x3*0x8c9+0x2471+-0x3ecc),_0x2de1b5=this['scene']['defaultDra'+'wLayer'],_0x598e24){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0xd75261,_0x19c60e,_0x2eb346,_0xff4e60,_0x2de1b5,_0x598e24);}['drawMeshIn'+'stance'](_0x250874,_0x3ee0ab=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x250874,_0x3ee0ab);}['drawMesh'](_0x16f486,_0x56517a,_0x1672e5,_0x156ad0=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x56517a,_0x1672e5,_0x16f486,null,_0x156ad0);}['drawQuad'](_0x31ef2a,_0x1e8c51,_0x551573=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x1e8c51,_0x31ef2a,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x551573);}['drawTextur'+'e'](_0x1b5bac,_0x58e469,_0x134b70,_0x66878c,_0x5643aa,_0x28a8d1,_0x19af26=this['scene']['defaultDra'+'wLayer'],_0x330cf7=!(0x1*-0x7ad+0x2021+-0x1874)){if(_0x330cf7===!(-0xa04*0x3+0xaf1*0x3+-0x2c6)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x2adcd4=new q();_0x2adcd4['setTRS'](new T(_0x1b5bac,_0x58e469,0x9a1+-0x209+0x3cc*-0x2),te['IDENTITY'],new T(_0x134b70,-_0x66878c,0x1703+0x176+-0x1*0x1879)),_0x28a8d1||(_0x28a8d1=new Ia(),_0x28a8d1['cull']=mt,_0x28a8d1['setParamet'+'er']('colorMap',_0x5643aa),_0x28a8d1['shaderDesc']=_0x330cf7?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x5643aa['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x28a8d1['update']()),this['drawQuad'](_0x2adcd4,_0x28a8d1,_0x19af26);}['drawDepthT'+'exture'](_0xd79363,_0x384cab,_0x513fa3,_0xab0673,_0xc0f024=this['scene']['defaultDra'+'wLayer']){const _0x16bd67=new Ia();_0x16bd67['cull']=mt,_0x16bd67['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x16bd67['update'](),this['drawTextur'+'e'](_0xd79363,_0x384cab,_0x513fa3,_0xab0673,null,_0x16bd67,_0xc0f024);}['destroy'](){var _0x4acfec,_0x37c3e0,_0x4591a9,_0x3cac75;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x21ae*-0x1+-0x1377+0x4bd*-0x3);return;}const _0x14bd63=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x3*-0x912+0xd*-0x27b+0x3b76)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xdf*-0x25+0x113+0x37*-0x9b)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1f5*0x11+-0x14c2+-0x1*0xc82)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x514+0x5c*0xc+0xc5))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x15e635=this['assets']['list']();for(let _0x3f9a46=0xb*0x369+0x37a+0x7*-0x5db;_0x3f9a46<_0x15e635['length'];_0x3f9a46++)_0x15e635[_0x3f9a46]['unload'](),_0x15e635[_0x3f9a46]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x539ee2=this['loader']['getHandler']('script');_0x539ee2==null||_0x539ee2['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x4acfec=this['lightmappe'+'r'])==null||_0x4acfec['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x37c3e0=this['xr'])==null||_0x37c3e0['end'](),(_0x4591a9=this['xr'])==null||_0x4591a9['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x3cac75=this['_soundMana'+'ger'])==null||_0x3cac75['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x14bd63]=null,tn()===this&&Xu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x433b3f){_0x433b3f['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x433b3f['frameReque'+'stId']),_0x433b3f['frameReque'+'stId']=void(-0x695+-0x1e8b+0x2520));}['getEntityF'+'romIndex'](_0x36ae77){return this['_entityInd'+'ex'][_0x36ae77];}['_registerS'+'ceneImmedi'+'ate'](_0x44a58a){this['on']('postrender',_0x44a58a['immediate']['onPostRend'+'er'],_0x44a58a['immediate']);}};c(Gr,'_applicati'+'ons',{});let Xh=Gr;const Yd={},fP=function(_0x1ca0ec){const _0x40dec0=_0x1ca0ec;return function(_0x200d28,_0x4882dc){var _0x22edcf,_0x466f61,_0x5f275a,_0xfaf2a5;if(!_0x40dec0['graphicsDe'+'vice'])return;_0x40dec0['frameReque'+'stId']&&((_0x466f61=(_0x22edcf=_0x40dec0['xr'])==null?void(-0x1ace+-0xa*-0xcc+0x12d6):_0x22edcf['session'])==null||_0x466f61['cancelAnim'+'ationFrame'](_0x40dec0['frameReque'+'stId']),cancelAnimationFrame(_0x40dec0['frameReque'+'stId']),_0x40dec0['frameReque'+'stId']=null),_0x40dec0['_inFrameUp'+'date']=!(0x14*-0x2e+0x14a+-0x76*-0x5),Xu(_0x40dec0);const _0x1db411=_0x40dec0['_processTi'+'mestamp'](_0x200d28)||re(),_0x5b9ae9=_0x1db411-(_0x40dec0['_time']||_0x1db411);let _0x824815=_0x5b9ae9/(-0x15*-0x4d+-0x782*-0x1+-0x9eb*0x1);if(_0x824815=N['clamp'](_0x824815,-0x1f09+0xc0d+-0xf3*-0x14,_0x40dec0['maxDeltaTi'+'me']),_0x824815*=_0x40dec0['timeScale'],_0x40dec0['_time']=_0x1db411,(_0x5f275a=_0x40dec0['xr'])!=null&&_0x5f275a['session']?_0x40dec0['frameReque'+'stId']=_0x40dec0['xr']['session']['requestAni'+'mationFram'+'e'](_0x40dec0['tick']):_0x40dec0['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x40dec0['tick']):null,_0x40dec0['graphicsDe'+'vice']['contextLos'+'t'])return;_0x40dec0['_fillFrame'+'StatsBasic'](_0x1db411,_0x824815,_0x5b9ae9),_0x40dec0['_fillFrame'+'Stats'](),_0x40dec0['fire']('frameupdat'+'e',_0x5b9ae9);let _0x210bc6=!(0x1df8+-0x211e+0x326);_0x4882dc?(_0x210bc6=(_0xfaf2a5=_0x40dec0['xr'])==null?void(-0x1efe*0x1+0xb22+0x13dc):_0xfaf2a5['update'](_0x4882dc),_0x40dec0['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x4882dc['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x40dec0['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x210bc6&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x40dec0['frame']),v['trace'](sd,'--\x20UpdateS'+'tart\x20'+re()['toFixed'](-0x59*-0x2b+-0xe*0x1d5+0x1*0xab5)+'ms'),_0x40dec0['update'](_0x824815),_0x40dec0['fire']('framerende'+'r'),(_0x40dec0['autoRender']||_0x40dec0['renderNext'+'Frame'])&&(v['trace'](sd,'--\x20RenderS'+'tart\x20'+re()['toFixed'](0x265b+0x4d*0x1e+-0x43*0xb5)+'ms'),_0x40dec0['updateCanv'+'asSize'](),_0x40dec0['frameStart'](),_0x40dec0['render'](),_0x40dec0['frameEnd'](),_0x40dec0['renderNext'+'Frame']=!(-0xd7d+-0x1*-0x10ed+-0x36f),v['trace'](sd,'--\x20RenderE'+'nd\x20'+re()['toFixed'](0x1896+0x1d*0x95+-0x2975*0x1)+'ms')),Yd['timestamp']=re(),Yd['target']=_0x40dec0,_0x40dec0['fire']('frameend',Yd)),_0x40dec0['_inFrameUp'+'date']=!(-0x1ce5*0x1+0x2fb+0x19eb),_0x40dec0['_destroyRe'+'quested']&&_0x40dec0['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Ff();class W0{constructor(_0x2038ca,_0x4d3729,_0x1ad6c7){this['scene']=_0x2038ca,this['light']=_0x4d3729,this['store'](),_0x4d3729['numCascade'+'s']=-0x24cf*-0x1+0x1*0x2652+-0x20*0x259,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x4d3729['castShadow'+'s']=_0x4d3729['bakeShadow'+'s']&&_0x1ad6c7['shadowsEna'+'bled']),_0x4d3729['type']!==ae&&(_0x4d3729['_node']['getWorldTr'+'ansform'](),_0x4d3729['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x5e7058=this['light'];_0x5e7058['mask']=this['mask'],_0x5e7058['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x5e7058['enabled']=this['enabled'],_0x5e7058['intensity']=this['intensity'],_0x5e7058['_node']['setLocalRo'+'tation'](this['rotation']),_0x5e7058['numCascade'+'s']=this['numCascade'+'s'],_0x5e7058['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x1df*0x6+-0xe*0x13f+-0x4*-0x72b),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x1cbe0e){const _0x11ae69=this['light'];_0x11ae69['enabled']=!(-0x1*0xe92+0x99d*-0x1+0x1830),_0x11ae69['shadowMap']&&(_0x11ae69['shadowMap']['cached']&&_0x1cbe0e['add'](_0x11ae69,_0x11ae69['shadowMap']),_0x11ae69['shadowMap']=null);}}const Wl=new W();class mP extends W0{constructor(_0x498490,_0x255a7a){super(_0x498490['scene'],_0x255a7a,_0x498490['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ae?this['light']['bakeNumSam'+'ples']:0x22d7+-0x1*-0x1bb9+0xc83*-0x5;}['prepareVir'+'tualLight'](_0x431f7e,_0x478ec4){const _0x2dc124=this['light'];if(_0x2dc124['_node']['setLocalRo'+'tation'](this['rotation']),_0x431f7e>0x58*0x61+-0x113c+-0x101c*0x1){const _0x53be45=_0x2dc124['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Wl,_0x431f7e,_0x478ec4),Wl['mulScalar'](_0x53be45*(-0x24b1+-0x13*0x95+-0xbf0*-0x4+0.5)),_0x2dc124['_node']['rotateLoca'+'l'](Wl['x'],-0x2384*-0x1+-0x150e+-0x6*0x269,Wl['y']);}_0x2dc124['_node']['getWorldTr'+'ansform']();const _0x38ede7=-0x56*-0x4c+-0x19fc+-0x76*-0x1+0.20000000000000018,_0x539291=Math['pow'](this['intensity'],_0x38ede7);_0x2dc124['intensity']=Math['pow'](_0x539291/_0x478ec4,(0x135a+-0x3*-0x50b+-0x227a)/_0x38ede7);}}const X_=new T();class j_ extends W0{constructor(_0x2df63c){const _0x24182e=_0x2df63c['scene'],_0x19ace3=new We('AmbientLig'+'ht');_0x19ace3['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x3*0x6b7+-0x3*0xada+0x34b3),'affectLightmapped':!(-0x3fb+-0x4*0x643+0x1d08),'bake':!(0x765+-0x18fa+0x1195),'bakeNumSamples':_0x24182e['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x1c95+0x1998+0x2fd),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Lt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0xbf*0x11+-0x2*-0x853+-0x755*0x4)}),super(_0x24182e,_0x19ace3['light']['light'],_0x2df63c['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x30a4e3,_0x1672a6){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x30a4e3,_0x1672a6,0x2*-0x4c1+-0x2cf+0x3*0x41b,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(-0x1474+0x1f2a+-0x1*0xab5))),this['light']['_node']['rotateLoca'+'l'](0xae*-0x1a+0x3ab*0x3+0x705,0x5c5+0x1*0x8db+-0xea0,-0x123d+0x5*-0x362+0x2327);const _0x245ddf=0x8*-0x305+-0x56b+0x1d95+0.20000000000000018,_0x41e686=(-0x16f7+-0x2*-0x266+0x1a7*0xb)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x196f16=Math['pow'](_0x41e686,_0x245ddf);this['light']['intensity']=Math['pow'](_0x196f16/_0x1672a6,(-0x61*-0x13+-0xe71+0x73f)/_0x245ddf);}}class $l{constructor(_0x3c64cd,_0x117e3d=null){this['node']=_0x3c64cd,this['component']=_0x3c64cd['render']||_0x3c64cd['model'],_0x117e3d=_0x117e3d||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x117e3d,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0xb22+-0x4e6+-0x62d;class _P{constructor(_0x2533c1){this['device']=_0x2533c1,this['shaderDila'+'te']=Ls(_0x2533c1,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x2533c1['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x2533c1['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0xb45+-0x1dde+0x129b*0x1),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x501de1){this['constantTe'+'xSource']['setValue'](_0x501de1);}['prepare'](_0xe8bd0,_0x2885fe){this['pixelOffse'+'t'][0xa*-0x1bb+-0x39a+0x14e8*0x1]=(0x14*-0x14e+0x58a*-0x3+0x2d*0xf3)/_0xe8bd0,this['pixelOffse'+'t'][0x2d7*0x4+-0x20c4+0x1569]=(0x1c24+0x14f1+-0x3114)/_0x2885fe,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x21dd88,_0x3fa726,_0x1804ee){const _0x5205bd=_0x1804ee?0x55a+0x17a4*-0x1+0x925*0x2:0x23+0x1cd4+-0x2a2*0xb;if(!this['shaderDeno'+'ise'][_0x5205bd]){const _0x11f67c='lmBilatera'+'lDeNoise-'+(_0x1804ee?'hdr':'rgbm'),_0x2f7915=_0x1804ee?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x5205bd]=Ls(this['device'],X['fullscreen'+'QuadVS'],_0x2f7915+vo['bilateralD'+'eNoisePS'],_0x11f67c),this['sigmas']=new Float32Array(0x138c+0x264d+-0x39d7),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x1065+0x2*0xdc9+-0x1*0xb2d]=_0x21dd88,this['sigmas'][-0x2328+0x1*-0x1727+0x3a50]=_0x3fa726,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x21dd88,_0x3fa726);}['getDenoise'](_0x4a6bae){const _0x5b1ab8=_0x4a6bae?-0x1c72+-0x13e6+-0x6e8*-0x7:0x2331+0x9f8+-0xa*0x484;return this['shaderDeno'+'ise'][_0x5b1ab8];}['getDilate'](_0x590573,_0x5b84d6){const _0x1e2285=_0x5b84d6?-0x1a0e+-0x1ddf+0x1*0x37ed:0x24f*0xb+-0x426*0x3+-0xcf2;if(!this['shaderDila'+'te'][_0x1e2285]){const _0x3774f2='lmDilate-'+(_0x5b84d6?'hdr':'rgbm'),_0x18ea51=_0x5b84d6?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x1e2285]=Ls(_0x590573,X['fullscreen'+'QuadVS'],_0x18ea51+vo['dilatePS'],_0x3774f2);}return this['shaderDila'+'te'][_0x1e2285];}['evaluateDe'+'noiseUnifo'+'rms'](_0x3c5483,_0x43e34e){function _0x3240a2(_0x124fd3,_0x3d4234){return(0x1b3d*0x1+0xa51+-0x17*0x1a2+0.39894)*Math['exp'](-(-0x361*-0x5+-0x3ad*-0x4+-0x1f99+0.5)*_0x124fd3*_0x124fd3/(_0x3d4234*_0x3d4234))/_0x3d4234;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x5e9b99=this['kernel'],_0x149f41=Math['floor']((Y_-(-0x1d*-0xb2+-0x21bb+0xd92))/(0x212d+0x1e84+-0x89*0x77));for(let _0x253832=0x2*0xe39+0x384+0x1*-0x1ff6;_0x253832<=_0x149f41;++_0x253832){const _0x1baa30=_0x3240a2(_0x253832,_0x3c5483);_0x5e9b99[_0x149f41+_0x253832]=_0x1baa30,_0x5e9b99[_0x149f41-_0x253832]=_0x1baa30;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x588b89=(-0xa9*-0x10+-0x2664+0x1*0x1bd5)/_0x3240a2(0x1a81+0xe3e*0x2+-0x36fd*0x1,_0x43e34e);this['bZnorm']['setValue'](_0x588b89);}}class gP extends fs{constructor(_0xfd7b3e,_0xc8ff96,_0x335635,_0x52375d,_0x269056,_0x1b4e93){super(_0xfd7b3e),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0xc8ff96,this['camera']=_0x335635,this['worldClust'+'ers']=_0x52375d,this['receivers']=_0x269056,this['lightArray']=_0x1b4e93);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2fd354=>{_0x2fd354['defaultUni'+'formBuffer']['destroy'](),_0x2fd354['destroy']();}),this['viewBindGr'+'oups']['length']=-0x73*-0x3c+-0x4c4+-0x1630;}['execute'](){const _0x3a931e=this['device'];G['pushGpuMar'+'ker'](_0x3a931e,'Lightmappe'+'r');const {renderer:_0x1a191f,camera:_0x2fd000,receivers:_0x2b2a83,renderTarget:_0x2b6672,worldClusters:_0x5ea320,lightArray:_0x3d4d43}=this;_0x1a191f['renderForw'+'ardLayer'](_0x2fd000,_0x2b6672,null,void(-0x21e+-0x757+0x10d*0x9),yn,this['viewBindGr'+'oups'],{'meshInstances':_0x2b2a83,'splitLights':_0x3d4d43,'lightClusters':_0x5ea320}),G['popGpuMark'+'er'](_0x3a931e);}}const yP=0x235+-0x1bb*-0xa+-0x7*0x1a5,xP=-0x463*-0x2+0xa08+-0x12ce*0x1,SP=-0x1bd*-0x11+0x1e0*-0x11+0x4*0x95,ql=new T();class vP{constructor(_0x26645d,_0x3fa171,_0x1b7883,_0x1ce3f4,_0x36f740){this['device']=_0x26645d,this['root']=_0x3fa171,this['scene']=_0x1b7883,this['renderer']=_0x1ce3f4,this['assets']=_0x36f740,this['shadowMapC'+'ache']=_0x1ce3f4['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x203b*-0x1+-0x81b+-0x181f),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3991f5;bi['decRef'](this['blackTex']),this['blackTex']=null,bi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3991f5=this['camera'])==null||_0x3991f5['destroy'](),this['camera']=null;}['initBake'](_0x1715ac){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x253c*-0x1+0x2040+0x4fc),this['lightmapFi'+'lters']=new _P(_0x1715ac),this['constantBa'+'keDir']=_0x1715ac['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),bi['incRef'](this['blackTex']);const _0x522f10=new ol();_0x522f10['clearColor']['set'](-0x188c+-0xfe2+0x286e,-0x20de+0x1061+0x107d,-0xa26+-0x414+0x2*0x71d,0x76+0x1*-0x43c+0x3c6),_0x522f10['clearColor'+'Buffer']=!(-0x444+0x2c5*0x8+0x8f2*-0x2),_0x522f10['clearDepth'+'Buffer']=!(-0xf77+0x5*0x9d+-0x7f*-0x19),_0x522f10['clearStenc'+'ilBuffer']=!(-0xe*-0x62+0x52e+-0xa89),_0x522f10['frustumCul'+'ling']=!(-0x6ce+-0x25b3+0x2c82*0x1),_0x522f10['projection']=fa,_0x522f10['aspectRati'+'o']=0x1*-0x2527+0x67*-0xc+0x2*0x14fe,_0x522f10['node']=new De(),this['camera']=_0x522f10,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Cp;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x1c95d8=new L0(_0x1715ac['supportsAr'+'eaLights'],_0x1715ac['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x1c95d8;const _0x56f48d=this['scene']['lighting'];_0x1c95d8['shadowsEna'+'bled']=_0x56f48d['shadowsEna'+'bled'],_0x1c95d8['shadowAtla'+'sResolutio'+'n']=_0x56f48d['shadowAtla'+'sResolutio'+'n'],_0x1c95d8['cookiesEna'+'bled']=_0x56f48d['cookiesEna'+'bled'],_0x1c95d8['cookieAtla'+'sResolutio'+'n']=_0x56f48d['cookieAtla'+'sResolutio'+'n'],_0x1c95d8['areaLights'+'Enabled']=_0x56f48d['areaLights'+'Enabled'],_0x1c95d8['cells']=new T(0x1adf+-0x1*0xae2+-0xffa,0x1*-0x803+-0x1bd5+0x1*0x23db,-0x2514+-0x1*0x1df+0x2*0x137b),_0x1c95d8['maxLightsP'+'erCell']=-0x302*0x7+-0x1f91+0xa87*0x5,this['worldClust'+'ers']=new Uu(_0x1715ac),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x3c192b){this['materials']=[];function _0x355cb4(_0x22acb7){bi['decRef'](_0x22acb7['colorBuffe'+'r']),_0x22acb7['destroy']();}this['renderTarg'+'ets']['forEach'](_0x4faee0=>{_0x355cb4(_0x4faee0);}),this['renderTarg'+'ets']['clear'](),_0x3c192b['forEach'](_0x252c17=>{_0x252c17['renderTarg'+'ets']['forEach'](_0x2131a1=>{_0x355cb4(_0x2131a1);}),_0x252c17['renderTarg'+'ets']['length']=0x23c9*0x1+0x3*-0xaf5+-0x2ea;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0xb77641,_0x39392c,_0x591a37,_0x31208f){const _0x1c547b=new us();_0x1c547b['name']='lmMaterial'+'-pass:'+_0x591a37+'-ambient:'+_0x31208f,_0x1c547b['chunks']['APIVersion']=di;const _0x1ff236='#define\x20UV'+'1LAYOUT\x0a';if(_0x1c547b['chunks']['transformV'+'S']=_0x1ff236+X['transformV'+'S'],_0x591a37===xP){let _0x2faddb=vo['bakeLmEndP'+'S'];_0x31208f?_0x2faddb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x39392c['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](-0x1aa7+0x1b*-0x64+0x2534)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x39392c['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x4*0x8e2+0x1d55+0x4a2*-0xe)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x2faddb:_0x1c547b['ambient']=new Y(-0x1*0x932+0x87*0x1d+-0x619,-0x3e6+-0x5*-0x45+0x28d,-0x29*0x7+0x1*0x613+-0x4f4),_0x1c547b['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x1c547b['chunks']['endPS']=_0x2faddb,_0x1c547b['lightMap']=this['blackTex'];}else _0x1c547b['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x1c547b['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x1c547b['chunks']['outputAlph'+'aPS']='\x0a',_0x1c547b['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x1c547b['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x1c547b['cull']=mt,_0x1c547b['forceUv1']=!(-0x16a3+0x865*0x2+0x5d9),_0x1c547b['update'](),_0x1c547b;}['createMate'+'rials'](_0x5957cf,_0x4627c7,_0x17ce84){for(let _0x3fbc1f=0x1*-0x69d+0x2039*-0x1+0x26d6;_0x3fbc1f<_0x17ce84;_0x3fbc1f++)this['passMateri'+'als'][_0x3fbc1f]||(this['passMateri'+'als'][_0x3fbc1f]=this['createMate'+'rialForPas'+'s'](_0x5957cf,_0x4627c7,_0x3fbc1f,!(-0x1*0x4bd+0x6be+-0x200)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x5957cf,_0x4627c7,0x19b2+-0x2a2*-0x9+-0x3164*0x1,!(-0x1*0x21fa+0x792+-0x14*-0x152)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x1bb0dc){return _0x1bb0dc['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x11bd+0x174f+-0x592),_0x1bb0dc['litOptions']['separateAm'+'bient']=!(0x1187*0x1+0x1845+-0x29cc),_0x1bb0dc;});}['createText'+'ure'](_0x450c04,_0x29cfb7){return new he(this['device'],{'profilerHint':ky,'width':_0x450c04,'height':_0x450c04,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0xbf1+-0x1643+0x3*0x371),'type':this['bakeHDR']?Fi:on,'minFilter':de,'magFilter':de,'addressU':ne,'addressV':ne,'name':_0x29cfb7});}['collectMod'+'els'](_0x50f3dd,_0x4b84ce,_0xf7251a){var _0x38fd97,_0x45abc6,_0x2f12c8;if(!_0x50f3dd['enabled'])return;let _0x6e1937;if((_0x38fd97=_0x50f3dd['model'])!=null&&_0x38fd97['model']&&((_0x45abc6=_0x50f3dd['model'])!=null&&_0x45abc6['enabled'])&&(_0xf7251a&&_0xf7251a['push'](new $l(_0x50f3dd)),_0x50f3dd['model']['lightmappe'+'d']&&_0x4b84ce&&(_0x6e1937=_0x50f3dd['model']['model']['meshInstan'+'ces'])),(_0x2f12c8=_0x50f3dd['render'])!=null&&_0x2f12c8['enabled']&&(_0xf7251a&&_0xf7251a['push'](new $l(_0x50f3dd)),_0x50f3dd['render']['lightmappe'+'d']&&_0x4b84ce&&(_0x6e1937=_0x50f3dd['render']['meshInstan'+'ces'])),_0x6e1937){let _0x5d6be1=!(-0x1842+-0x29*-0x71+-0x1*-0x629);for(let _0x29bdcd=0x17aa+-0x1*0xe5d+-0x94d;_0x29bdcd<_0x6e1937['length'];_0x29bdcd++)if(!_0x6e1937[_0x29bdcd]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x50f3dd['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x5d6be1=!(-0x10e3+0x2513+-0x142f);break;}if(_0x5d6be1){const _0x29a382=[];for(let _0x91c3ae=0x1c6*0x13+0x2195+-0x3*0x166d;_0x91c3ae<_0x6e1937['length'];_0x91c3ae++){const _0x151d28=_0x6e1937[_0x91c3ae]['mesh'];this['_tempSet']['has'](_0x151d28)?_0x4b84ce['push'](new $l(_0x50f3dd,[_0x6e1937[_0x91c3ae]])):_0x29a382['push'](_0x6e1937[_0x91c3ae]),this['_tempSet']['add'](_0x151d28);}this['_tempSet']['clear'](),_0x29a382['length']>-0x115*-0x1+-0x11dc+0x10c7&&_0x4b84ce['push'](new $l(_0x50f3dd,_0x29a382));}}for(let _0x5dbc4e=0xea6+-0x13d*0x10+-0x295*-0x2;_0x5dbc4e<_0x50f3dd['_children']['length'];_0x5dbc4e++)this['collectMod'+'els'](_0x50f3dd['_children'][_0x5dbc4e],_0x4b84ce,_0xf7251a);}['prepareSha'+'dowCasters'](_0x4cd11b){const _0x2ca93a=[];for(let _0x5b36ad=0x1999+0x22cc+-0x1*0x3c65;_0x5b36ad<_0x4cd11b['length'];_0x5b36ad++){const _0x40bb1e=_0x4cd11b[_0x5b36ad]['component'];if(_0x40bb1e['castShadow'+'s']=_0x40bb1e['castShadow'+'sLightmap'],_0x40bb1e['castShadow'+'sLightmap']){const _0x7c0fab=_0x4cd11b[_0x5b36ad]['meshInstan'+'ces'];for(let _0x3d14fe=-0x202*-0x1+-0x3f*0x37+0xe3*0xd;_0x3d14fe<_0x7c0fab['length'];_0x3d14fe++)_0x7c0fab[_0x3d14fe]['visibleThi'+'sFrame']=!(0x33*-0x73+-0x445+-0x7*-0x3e2),_0x2ca93a['push'](_0x7c0fab[_0x3d14fe]);}}return _0x2ca93a;}['updateTran'+'sforms'](_0x1b472d){for(let _0x9824d7=-0x3d9*0x4+0x420*-0x7+-0xb11*-0x4;_0x9824d7<_0x1b472d['length'];_0x9824d7++){const _0x5731e0=_0x1b472d[_0x9824d7]['meshInstan'+'ces'];for(let _0x222242=0x1db3*0x1+0x20a7*0x1+-0x1*0x3e5a;_0x222242<_0x5731e0['length'];_0x222242++)_0x5731e0[_0x222242]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x27ed40){let _0xf884b4;const _0x5eb02c=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0xc74+0x1*0x17a8+-0x2e*0x3e,_0x583289=ql;let _0x4ede67,_0x1d1c7b;_0x27ed40['model']?(_0x1d1c7b=_0x27ed40['model']['lightmapSi'+'zeMultipli'+'er'],_0x27ed40['model']['asset']?(_0xf884b4=this['assets']['get'](_0x27ed40['model']['asset'])['data'],_0xf884b4['area']&&(_0x4ede67=_0xf884b4['area'])):_0x27ed40['model']['_area']&&(_0xf884b4=_0x27ed40['model'],_0xf884b4['_area']&&(_0x4ede67=_0xf884b4['_area']))):_0x27ed40['render']&&(_0x1d1c7b=_0x27ed40['render']['lightmapSi'+'zeMultipli'+'er'],_0x27ed40['render']['type']!=='asset'&&_0x27ed40['render']['_area']&&(_0xf884b4=_0x27ed40['render'],_0xf884b4['_area']&&(_0x4ede67=_0xf884b4['_area'])));const _0x4a2a25={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x4ede67&&(_0x4a2a25['x']=_0x4ede67['x'],_0x4a2a25['y']=_0x4ede67['y'],_0x4a2a25['z']=_0x4ede67['z'],_0x4a2a25['uv']=_0x4ede67['uv']);const _0x5b210f=_0x1d1c7b||-0x12b6+0x19c7*-0x1+0x11*0x29e;_0x4a2a25['x']*=_0x5b210f,_0x4a2a25['y']*=_0x5b210f,_0x4a2a25['z']*=_0x5b210f;const _0xe7be3e=_0x27ed40['render']||_0x27ed40['model'],_0x41d388=this['computeNod'+'eBounds'](_0xe7be3e['meshInstan'+'ces']);_0x583289['copy'](_0x41d388['halfExtent'+'s']);let _0x8c12c7=_0x4a2a25['x']*_0x583289['y']*_0x583289['z']+_0x4a2a25['y']*_0x583289['x']*_0x583289['z']+_0x4a2a25['z']*_0x583289['x']*_0x583289['y'];return _0x8c12c7/=_0x4a2a25['uv'],_0x8c12c7=Math['sqrt'](_0x8c12c7),Math['min'](N['nextPowerO'+'fTwo'](_0x8c12c7*_0x5eb02c),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x528aea,_0x1cbc07,_0x2fe28e,_0x26c3cc){for(let _0x3c4548=0x1210+0x2*-0x1f+-0x11d2;_0x3c4548<_0x528aea['length'];_0x3c4548++){const _0x150211=_0x528aea[_0x3c4548],_0x2a2a4b=_0x150211['meshInstan'+'ces'];for(let _0x1363c7=-0xba*-0x8+-0x1729+-0x1*-0x1159;_0x1363c7<_0x2a2a4b['length'];_0x1363c7++){const _0x109dde=_0x2a2a4b[_0x1363c7];if(_0x109dde['setLightma'+'pped'](_0x1cbc07),_0x1cbc07){_0x26c3cc&&(_0x109dde['_shaderDef'+'s']|=_0x26c3cc),_0x109dde['mask']=cr;for(let _0x7d4928=-0x1ad1+-0x1*-0x1607+0x4ca;_0x7d4928<_0x2fe28e;_0x7d4928++){const _0x1c6c38=_0x150211['renderTarg'+'ets'][_0x7d4928]['colorBuffe'+'r'];_0x1c6c38['minFilter']=tt,_0x1c6c38['magFilter']=tt,_0x109dde['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x7d4928],_0x1c6c38);}}}}}['bake'](_0xb2bdf3,_0x32e0a9=dh){const _0x3b53e3=this['device'],_0x393809=re();this['scene']['_updateSky'+'Mesh'](),_0x3b53e3['fire']('lightmappe'+'r:start',{'timestamp':_0x393809,'target':this}),this['stats']['renderPass'+'es']=0x17*0x115+-0xb12+-0xdd1,this['stats']['shadowMapT'+'ime']=0x177*0x16+0x17b4+-0x37ee,this['stats']['forwardTim'+'e']=-0x5ff+0x1a5a*0x1+-0x145b;const _0x4c4df5=_0x3b53e3['_shaderSta'+'ts']['linked'],_0x27bdc6=_0x3b53e3['_renderTar'+'getCreatio'+'nTime'],_0x49aeee=_0x3b53e3['_shaderSta'+'ts']['compileTim'+'e'],_0x568b45=[],_0x292888=[];if(_0xb2bdf3){for(let _0x27db41=0x121f*-0x1+-0xfa1*-0x1+-0x1d*-0x16;_0x27db41<_0xb2bdf3['length'];_0x27db41++)this['collectMod'+'els'](_0xb2bdf3[_0x27db41],_0x568b45,null);this['collectMod'+'els'](this['root'],null,_0x292888);}else this['collectMod'+'els'](this['root'],_0x568b45,_0x292888);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x568b45['length']>0xb*-0x5d+-0x93*-0x1+-0x1b6*-0x2){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x263d61=_0x32e0a9===dh?0x1df7+0xa*-0x14e+-0x10e9:0x10c+-0x189b+0x8*0x2f2;this['setLightma'+'pping'](_0x568b45,!(0x24b0+-0x10a7+0x502*-0x4),_0x263d61),this['initBake'](_0x3b53e3),this['bakeIntern'+'al'](_0x263d61,_0x568b45,_0x292888);let _0x2b570c=ku;_0x32e0a9===dh&&(_0x2b570c|=y0),this['scene']['ambientBak'+'e']&&(_0x2b570c|=x0),this['setLightma'+'pping'](_0x568b45,!(-0x4f*-0x69+-0x203b+-0x16*0x2),_0x263d61,_0x2b570c),this['finishBake'](_0x568b45);}G['popGpuMark'+'er'](this['device']);const _0x5431fd=re();this['stats']['totalRende'+'rTime']=_0x5431fd-_0x393809,this['stats']['shadersLin'+'ked']=_0x3b53e3['_shaderSta'+'ts']['linked']-_0x4c4df5,this['stats']['compileTim'+'e']=_0x3b53e3['_shaderSta'+'ts']['compileTim'+'e']-_0x49aeee,this['stats']['fboTime']=_0x3b53e3['_renderTar'+'getCreatio'+'nTime']-_0x27bdc6,this['stats']['lightmapCo'+'unt']=_0x568b45['length'],_0x3b53e3['fire']('lightmappe'+'r:end',{'timestamp':_0x5431fd,'target':this});}['allocateTe'+'xtures'](_0x5ce8b3,_0x1b2ff9){for(let _0x2f9742=0x1dd1*-0x1+0x2bd*-0x2+0x234b;_0x2f9742<_0x5ce8b3['length'];_0x2f9742++){const _0x180c5f=_0x5ce8b3[_0x2f9742],_0x371b2a=this['calculateL'+'ightmapSiz'+'e'](_0x180c5f['node']);for(let _0x313971=-0x1*-0x661+-0x9*0x2c1+0x1268;_0x313971<_0x1b2ff9;_0x313971++){const _0x27fcd2=this['createText'+'ure'](_0x371b2a,'lightmappe'+'r_lightmap'+'_'+_0x2f9742);bi['incRef'](_0x27fcd2),_0x180c5f['renderTarg'+'ets'][_0x313971]=new pt({'colorBuffer':_0x27fcd2,'depth':!(-0x17bc+0x1*-0x121f+0x29dc)});}if(!this['renderTarg'+'ets']['has'](_0x371b2a)){const _0x390ca9=this['createText'+'ure'](_0x371b2a,'lightmappe'+'r_temp_lig'+'htmap_'+_0x371b2a);bi['incRef'](_0x390ca9),this['renderTarg'+'ets']['set'](_0x371b2a,new pt({'colorBuffer':_0x390ca9,'depth':!(-0x1e7c+-0x1*-0x1021+0xe5c)}));}}}['prepareLig'+'htsToBake'](_0x5d9a90,_0x37fd1f){if(this['scene']['ambientBak'+'e']){const _0x2e5341=new j_(this);_0x37fd1f['push'](_0x2e5341);}const _0xbc0cb0=this['renderer']['lights'];for(let _0x34167f=-0x163*-0x4+-0x1caa+0x1*0x171e;_0x34167f<_0xbc0cb0['length'];_0x34167f++){const _0x160064=_0xbc0cb0[_0x34167f],_0x103566=new mP(this,_0x160064);_0x5d9a90['push'](_0x103566),_0x160064['enabled']&&(_0x160064['mask']&nr)!==-0x1ab4+0x9*0x2bc+0x218&&(_0x160064['mask']=nr|cr|ds,_0x160064['shadowUpda'+'teMode']=_0x160064['type']===ae?Rp:dn,_0x37fd1f['push'](_0x103566));}_0x37fd1f['sort']();}['restoreLig'+'hts'](_0x27c2f5){for(let _0x1db5f1=-0x1*-0x403+0x3*0xb7f+-0x2680;_0x1db5f1<_0x27c2f5['length'];_0x1db5f1++)_0x27c2f5[_0x1db5f1]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x745+0x33*-0xb4+-0xb5*-0x3d,0x895+-0x1cd8+0x1443,-0x1*-0x8ef+0x179c+0x3*-0xad9),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x12f5fb){const _0x586d2f=new _e();if(_0x12f5fb['length']>-0x3*-0x81e+-0x1d2e+-0x19c*-0x3){_0x586d2f['copy'](_0x12f5fb[-0x13d*0x8+-0x162c+0x2014]['aabb']);for(let _0x169cf5=-0x176c+-0xc61+0x23ce;_0x169cf5<_0x12f5fb['length'];_0x169cf5++)_0x586d2f['add'](_0x12f5fb[_0x169cf5]['aabb']);}return _0x586d2f;}['computeNod'+'esBounds'](_0x11bc4c){for(let _0x5923b2=-0xaf3*-0x1+0x1a29+-0x251c;_0x5923b2<_0x11bc4c['length'];_0x5923b2++){const _0x45a291=_0x11bc4c[_0x5923b2]['meshInstan'+'ces'];_0x11bc4c[_0x5923b2]['bounds']=this['computeNod'+'eBounds'](_0x45a291);}}['computeBou'+'nds'](_0x595978){const _0x578d80=new _e();for(let _0x4640bb=-0x227c+0x9d*-0x24+0x3890;_0x4640bb<_0x595978['length'];_0x4640bb++){_0x578d80['copy'](_0x595978[-0x51e+0x3*0x93+0x365]['aabb']);for(let _0x38d6ca=-0xc*-0x1f9+-0xdd*0x26+0x923;_0x38d6ca<_0x595978['length'];_0x38d6ca++)_0x578d80['add'](_0x595978[_0x38d6ca]['aabb']);}return _0x578d80;}['backupMate'+'rials'](_0x3214bc){for(let _0x1df97f=-0xa2c+-0x18d2+0x22fe;_0x1df97f<_0x3214bc['length'];_0x1df97f++)this['materials'][_0x1df97f]=_0x3214bc[_0x1df97f]['material'];}['restoreMat'+'erials'](_0x5a7948){for(let _0xc7e5ee=-0x103e+-0x1ed4+0x1e2*0x19;_0xc7e5ee<_0x5a7948['length'];_0xc7e5ee++)_0x5a7948[_0xc7e5ee]['material']=this['materials'][_0xc7e5ee];}['lightCamer'+'aPrepare'](_0x4df745,_0x27233b){const _0x5e0d12=_0x27233b['light'];let _0x4d3173;return _0x5e0d12['type']===Re&&(_0x4d3173=_0x5e0d12['getRenderD'+'ata'](null,0x1836+-0x218d+0x957)['shadowCame'+'ra'],_0x4d3173['_node']['setPositio'+'n'](_0x5e0d12['_node']['getPositio'+'n']()),_0x4d3173['_node']['setRotatio'+'n'](_0x5e0d12['_node']['getRotatio'+'n']()),_0x4d3173['_node']['rotateLoca'+'l'](-(-0x1*-0x1c8b+-0xc46+-0xfeb),-0x94f*-0x4+-0x1088+-0x212*0xa,0x1*0x28b+-0xaf7*0x3+-0x103*-0x1e),_0x4d3173['projection']=Gs,_0x4d3173['nearClip']=_0x5e0d12['attenuatio'+'nEnd']/(0x11ea*0x2+-0xf5e+-0x847*0x2),_0x4d3173['farClip']=_0x5e0d12['attenuatio'+'nEnd'],_0x4d3173['aspectRati'+'o']=0x1ad7*-0x1+0x6f9+0x13df*0x1,_0x4d3173['fov']=_0x5e0d12['_outerCone'+'Angle']*(0x18f6+-0x21*-0xb1+-0x1*0x2fc5),this['renderer']['updateCame'+'raFrustum'](_0x4d3173)),_0x4d3173;}['lightCamer'+'aPrepareAn'+'dCull'](_0x1366ec,_0x1a8e86,_0x3ec838,_0x2e3b6d){const _0x129c9e=_0x1366ec['light'];let _0x4322be=!(-0x2106+-0x11c*-0x18+0x666);if(_0x129c9e['type']===ae){ql['copy'](_0x2e3b6d['center']),ql['y']+=_0x2e3b6d['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](ql),this['camera']['node']['setEulerAn'+'gles'](-(0x408+0x1*-0x1142+0xd94),0x2165+-0x1d95+-0x3d0,0x2324+0x564+-0x2888),this['camera']['nearClip']=-0x1552+-0x198*-0x3+0x108a,this['camera']['farClip']=_0x2e3b6d['halfExtent'+'s']['y']*(0xb31+0x14c8+-0x31*0xa7);const _0x2bb413=Math['max'](_0x2e3b6d['halfExtent'+'s']['x'],_0x2e3b6d['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x2bb413;}else _0x1366ec['lightBound'+'s']['intersects'](_0x1a8e86['bounds'])||(_0x4322be=!(0xbda+0x8e*-0x1d+0x43d));if(_0x129c9e['type']===Re){let _0x1c8679=!(0x1bcb+0x1cd3+-0x1*0x389d);const _0x10b981=_0x1a8e86['meshInstan'+'ces'];for(let _0x333f29=-0x2*0xbb6+0x716+0x82b*0x2;_0x333f29<_0x10b981['length'];_0x333f29++)if(_0x10b981[_0x333f29]['_isVisible'](_0x3ec838)){_0x1c8679=!(-0x7*0x1af+0x1729+-0xb60);break;}_0x1c8679||(_0x4322be=!(-0x229f+-0x2562+-0x2401*-0x2));}return _0x4322be;}['setupLight'+'Array'](_0x1e7251,_0x2d1db8){_0x1e7251[ae]['length']=-0x1161+-0x3a3*-0x1+0x6df*0x2,_0x1e7251[Pe]['length']=0xeb0+-0xf26+0x76,_0x1e7251[Re]['length']=-0x1183*0x1+-0x98a*-0x1+-0x9d*-0xd,_0x1e7251[_0x2d1db8['type']][-0x7b4*0x4+0x1055+-0xe7b*-0x1]=_0x2d1db8,_0x2d1db8['visibleThi'+'sFrame']=!(0x1*-0x6bc+0x249b+-0x1ddf);}['renderShad'+'owMap'](_0x660bb1,_0x19a9ff,_0x27485e,_0x174edf){const _0x5732fa=_0x174edf['light'],_0x305bf0=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x102c45=_0x5732fa['castShadow'+'s']&&(!_0x305bf0||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x19a9ff&&_0x102c45){if(!_0x5732fa['shadowMap']&&!_0x305bf0&&(_0x5732fa['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x5732fa)),_0x5732fa['type']===ae){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x5732fa,_0x660bb1,this['camera'],_0x27485e);const _0x20f16a=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x5732fa,this['camera']);_0x20f16a==null||_0x20f16a['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x1*0xc8f+-0x213e+0xf*0x161);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x5732fa,_0x660bb1,_0x27485e),this['renderer']['shadowRend'+'erer']['render'](_0x5732fa,this['camera'],!(0x1a01+-0x57b*-0x7+0x1*-0x405d));}}return!(0x6b*0x29+-0x3*-0x543+-0x12d*0x1c);}['postproces'+'sTextures'](_0x41b1c7,_0x4758bb,_0x569934){const _0x28bf19=this['lightmapFi'+'lters']['getDilate'](_0x41b1c7,this['bakeHDR']);let _0x4d99f9;const _0x4e45a3=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x4e45a3&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x4d99f9=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x41b1c7['setBlendSt'+'ate'](_t['NOBLEND']),_0x41b1c7['setDepthSt'+'ate'](ls['NODEPTH']),_0x41b1c7['setStencil'+'State'](null,null);for(let _0x4afc09=-0x17*0x18e+-0x9dc+-0x2*-0x16cf;_0x4afc09<_0x4758bb['length'];_0x4afc09++){const _0x58b2fe=_0x4758bb[_0x4afc09];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x4afc09);for(let _0x2da4e8=0x2*-0x1141+0x2*0x21d+0x1e48;_0x2da4e8<_0x569934;_0x2da4e8++){const _0x534e12=_0x58b2fe['renderTarg'+'ets'][_0x2da4e8],_0x203d24=_0x534e12['colorBuffe'+'r'],_0x2b2775=this['renderTarg'+'ets']['get'](_0x203d24['width']),_0x59ff54=_0x2b2775['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x203d24['width'],_0x203d24['height']);for(let _0x566ba=0xa5d+0x1972+0x67*-0x59;_0x566ba<0xa11+0xe7c+-0x623*0x4;_0x566ba++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x203d24),un(_0x41b1c7,_0x2b2775,_0x4e45a3&&_0x2da4e8===-0xd47+0x98a+0x3bd&&_0x566ba===0x49*-0x2f+-0x1e7+0x3*0x51a?_0x4d99f9:_0x28bf19),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x59ff54),un(_0x41b1c7,_0x534e12,_0x28bf19);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x3f2a5f,_0x1afc6a,_0x5c63da){const _0x36b4b2=this['scene'],_0x4f9c80=_0x36b4b2['layers'],_0x53004f=this['device'],_0x10a085=_0x36b4b2['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x53004f,_0x36b4b2,_0x3f2a5f),this['setupScene'](),_0x4f9c80['_update'](),this['computeNod'+'esBounds'](_0x1afc6a),this['allocateTe'+'xtures'](_0x1afc6a,_0x3f2a5f),this['renderer']['collectLig'+'hts'](_0x4f9c80);const _0x4b4e5e=[],_0x34fb28=[];this['prepareLig'+'htsToBake'](_0x4b4e5e,_0x34fb28),this['updateTran'+'sforms'](_0x5c63da);const _0x54e8a2=this['prepareSha'+'dowCasters'](_0x5c63da);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x54e8a2),this['renderer']['gpuUpdate'](_0x54e8a2);const _0x4b6fd9=this['computeBou'+'nds'](_0x54e8a2);let _0xfec9d2,_0x1d03c4,_0x45a572,_0x4de8c7;for(_0xfec9d2=0x2*0x11+-0x1*-0x1f66+-0x1f88;_0xfec9d2<_0x1afc6a['length'];_0xfec9d2++)for(_0x45a572=_0x1afc6a[_0xfec9d2]['meshInstan'+'ces'],_0x1d03c4=0x1e6+0x593*0x7+-0x28eb;_0x1d03c4<_0x45a572['length'];_0x1d03c4++)_0x4de8c7=_0x45a572[_0x1d03c4],_0x4de8c7['setLightma'+'pped'](!(0x11*-0x16d+-0xbc*0x18+0x29de)),_0x4de8c7['mask']=nr,_0x4de8c7['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x9f9+0xcaa+-0x2b1],this['blackTex']),_0x4de8c7['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0xf07*-0x1+-0x1*-0xe2d+-0x49*-0x3],this['blackTex']);for(_0x1d03c4=0x1913+0x2dd*0x7+-0x2*0x168f;_0x1d03c4<_0x34fb28['length'];_0x1d03c4++)_0x34fb28[_0x1d03c4]['light']['enabled']=!(-0x3*0xae+-0x49*-0x14+-0x3a9);const _0x1a63fe=[[],[],[]];let _0x1a5451,_0x45661d,_0x9e1f42=!(0xe*-0x1b1+0x8*-0xe9+-0x1ef7*-0x1);for(_0xfec9d2=0x17d1+0x1a26*0x1+-0x31f7;_0xfec9d2<_0x34fb28['length'];_0xfec9d2++){const _0x27a37b=_0x34fb28[_0xfec9d2],_0x1cde5e=_0x27a37b instanceof j_,_0xa4a5b4=_0x27a37b['light']['type']===ae;let _0x1a1f3e=_0x27a37b['numVirtual'+'Lights'];_0x3f2a5f>0x1952*-0x1+0x1f8f+-0x63c&&_0x1a1f3e>-0x2195+0x1715+-0x1*-0xa81&&_0x27a37b['light']['bakeDir']&&(_0x1a1f3e=-0x214+0x7*0x313+-0x1*0x1370,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x49602f=0x808*0x1+-0x20b7+0x18af;_0x49602f<_0x1a1f3e;_0x49602f++){G['pushGpuMar'+'ker'](_0x53004f,'Light:'+_0x27a37b['light']['_node']['name']+':'+_0x49602f),_0x1a1f3e>0x55b*0x6+-0x1d1a+-0x1*0x307&&_0x27a37b['prepareVir'+'tualLight'](_0x49602f,_0x1a1f3e),_0x27a37b['startBake']();let _0x1a1fd9=!(-0x24e2+0x1*0x14bd+0x1026);const _0x33dbed=this['lightCamer'+'aPrepare'](_0x53004f,_0x27a37b);for(_0x45661d=-0xf*0x3d+-0x24ec+0x287f;_0x45661d<_0x1afc6a['length'];_0x45661d++){const _0x2de0c1=_0x1afc6a[_0x45661d];if(_0x45a572=_0x2de0c1['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x27a37b,_0x2de0c1,_0x33dbed,_0x4b6fd9))continue;this['setupLight'+'Array'](_0x1a63fe,_0x27a37b['light']);const _0x1bf03d=_0xa4a5b4?[]:[_0x27a37b['light']];for(_0x10a085&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x1bf03d,this['lightingPa'+'rams']),_0x1a1fd9=this['renderShad'+'owMap'](_0x4f9c80,_0x1a1fd9,_0x54e8a2,_0x27a37b),_0x10a085&&this['worldClust'+'ers']['update'](_0x1bf03d,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x45a572),_0x1a5451=0x2292+-0x189e*0x1+-0xb6*0xe;_0x1a5451<_0x3f2a5f&&!(_0x1a5451>0x206*0x2+-0x1*-0x2176+0x2*-0x12c1&&_0x49602f>0x3ec+-0x18b5+0x1*0x14c9||_0x1cde5e&&_0x1a5451>-0x2490+0x182a+-0x211*-0x6);_0x1a5451++){G['pushGpuMar'+'ker'](_0x53004f,'LMPass:'+_0x1a5451);const _0x25fa26=_0x2de0c1['renderTarg'+'ets'][_0x1a5451],_0x4275ec=_0x2de0c1['renderTarg'+'ets'][_0x1a5451]['colorBuffe'+'r']['width'],_0x2a5b4e=this['renderTarg'+'ets']['get'](_0x4275ec),_0x323ca1=_0x2a5b4e['colorBuffe'+'r'];_0x1a5451===-0x180c+-0x209a+0x38a6?_0x9e1f42=_0x36b4b2['updateShad'+'ers']:_0x9e1f42&&(_0x36b4b2['updateShad'+'ers']=!(0x2*-0x132b+0x824*-0x1+0x2e7a));let _0x182808=this['passMateri'+'als'][_0x1a5451];for(_0x1cde5e&&_0x49602f+(0x4*-0x926+-0x1*-0x25cd+0xe*-0x16)===_0x1a1f3e&&_0x1a5451===-0x1d08+0x1ac2+0x61*0x6&&(_0x182808=this['ambientAOM'+'aterial']),_0x1d03c4=-0x35*0x11+-0x1173+0x14f8;_0x1d03c4<_0x45a572['length'];_0x1d03c4++)_0x45a572[_0x1d03c4]['material']=_0x182808;if(this['renderer']['updateShad'+'ers'](_0x45a572),_0x1a5451===SP&&this['constantBa'+'keDir']['setValue'](_0x27a37b['light']['bakeDir']?-0x21e6*0x1+-0x2028+0x1605*0x3:-0x1*-0x1572+-0x1*-0x16df+-0x2c51*0x1),_0x53004f['isWebGPU']){const _0x30c411=new gP(_0x53004f,this['renderer'],this['camera'],_0x10a085?this['worldClust'+'ers']:null,_0x45a572,_0x1a63fe);_0x30c411['init'](_0x2a5b4e),_0x30c411['render'](),_0x30c411['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x2a5b4e,!(0xce8+-0x1dcc+-0x5e*-0x2e)),_0x10a085&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x25*-0x3d+0x1*0x1d02+-0x1*0x25d3,this['renderer']['_shadowMap'+'Time']=0x23f0+0x181b+0x1*-0x3c0b,this['renderer']['renderForw'+'ard'](this['camera'],_0x2a5b4e,_0x45a572,_0x1a63fe,yn),_0x53004f['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x2de0c1['renderTarg'+'ets'][_0x1a5451]=_0x2a5b4e,this['renderTarg'+'ets']['set'](_0x4275ec,_0x25fa26),_0x1d03c4=0xad6+-0x37*-0x6b+0x7*-0x4d5;_0x1d03c4<_0x45a572['length'];_0x1d03c4++)_0x4de8c7=_0x45a572[_0x1d03c4],_0x4de8c7['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x1a5451],_0x323ca1),_0x4de8c7['_shaderDef'+'s']|=ku;G['popGpuMark'+'er'](_0x53004f);}this['restoreMat'+'erials'](_0x45a572);}_0x27a37b['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x53004f);}}for(this['postproces'+'sTextures'](_0x53004f,_0x1afc6a,_0x3f2a5f),_0x45661d=-0x17c7+0x561*0x1+0x1266;_0x45661d<_0x5c63da['length'];_0x45661d++)_0x5c63da[_0x45661d]['restore']();this['restoreLig'+'hts'](_0x4b4e5e),this['restoreSce'+'ne'](),_0x10a085||this['shadowMapC'+'ache']['clear']();}}const lc=class lc extends ce{constructor(_0x58bfdc,_0x4ce7ec){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x58bfdc,this['entity']=_0x4ce7ec,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x452b9e,_0x5a6f41,_0x1eb002){this['fire']('set_'+_0x452b9e,_0x452b9e,_0x5a6f41,_0x1eb002);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x1e51bf,_0x4bcc87){_0x4bcc87['forEach'](_0x4f4649=>{const _0x35dcdf=typeof _0x4f4649=='object'?_0x4f4649['name']:_0x4f4649;Object['defineProp'+'erty'](_0x1e51bf,_0x35dcdf,{'get':function(){return this['data'][_0x35dcdf];},'set':function(_0x5666b0){const _0x4cb7eb=this['data'],_0x207139=_0x4cb7eb[_0x35dcdf];_0x4cb7eb[_0x35dcdf]=_0x5666b0,this['fire']('set',_0x35dcdf,_0x207139,_0x5666b0);},'configurable':!(0x1375*0x1+-0x167d+0x308)});}),_0x1e51bf['_accessors'+'Built']=!(-0x1765*0x1+-0x1ac1+0x3226);}['buildAcces'+'sors'](_0x48a793){lc['_buildAcce'+'ssors'](this,_0x48a793);}['onSetEnabl'+'ed'](_0x1e0fce,_0x532158,_0x5ce955){_0x532158!==_0x5ce955&&this['entity']['enabled']&&(_0x5ce955?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x32d1cb=this['system']['store'][this['entity']['getGuid']()];return _0x32d1cb?_0x32d1cb['data']:null;}set['enabled'](_0x4be903){}get['enabled'](){return!(0x1f44+-0x28d*0x3+-0x179d);}};c(lc,'order',-0x96b+0x15da+-0xc6f);let ue=lc;class Xe extends ce{constructor(_0x4c4fa2){super(),this['app']=_0x4c4fa2,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x442aaf,_0x3f41b6={}){const _0x21279c=new this['ComponentT'+'ype'](this,_0x442aaf),_0x5e51d4=new this['DataType']();return this['store'][_0x442aaf['getGuid']()]={'entity':_0x442aaf,'data':_0x5e51d4},_0x442aaf[this['id']]=_0x21279c,_0x442aaf['c'][this['id']]=_0x21279c,this['initialize'+'ComponentD'+'ata'](_0x21279c,_0x3f41b6,[]),this['fire']('add',_0x442aaf,_0x21279c),_0x21279c;}['removeComp'+'onent'](_0xcf3135){const _0x103533=this['id'],_0x1d1c1f=this['store'][_0xcf3135['getGuid']()],_0x20df85=_0xcf3135['c'][_0x103533];_0x20df85['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0xcf3135,_0x20df85),delete this['store'][_0xcf3135['getGuid']()],_0xcf3135[_0x103533]=void(-0xbba+0x1e81+-0x12c7*0x1),delete _0xcf3135['c'][_0x103533],this['fire']('remove',_0xcf3135,_0x1d1c1f['data']);}['cloneCompo'+'nent'](_0x207cdc,_0x3116e7){const _0x5555d0=this['store'][_0x207cdc['getGuid']()];return this['addCompone'+'nt'](_0x3116e7,_0x5555d0['data']);}['initialize'+'ComponentD'+'ata'](_0x52753a,_0x37c5e0={},_0x2437a2){for(let _0x1e66ea=-0x434+0x2352+-0x1f1e,_0x1600c9=_0x2437a2['length'];_0x1e66ea<_0x1600c9;_0x1e66ea++){const _0x374926=_0x2437a2[_0x1e66ea];let _0x51ebc9,_0x257cca;typeof _0x374926=='object'?(_0x51ebc9=_0x374926['name'],_0x257cca=_0x374926['type']):(_0x51ebc9=_0x374926,_0x257cca=void(-0x3*0x6f3+-0x574+0x1a4d));let _0x54331e=_0x37c5e0[_0x51ebc9];_0x54331e!==void(0xab+-0x16d8+0x162d)?(_0x257cca!==void(0x1ae6+0x19fe+-0x34e4)&&(_0x54331e=bP(_0x54331e,_0x257cca)),_0x52753a[_0x51ebc9]=_0x54331e):_0x52753a[_0x51ebc9]=_0x52753a['data'][_0x51ebc9];}_0x52753a['enabled']&&_0x52753a['entity']['enabled']&&_0x52753a['onEnable']();}['getPropert'+'iesOfType'](_0x569a5d){const _0x11bd7c=[];return(this['schema']||[])['forEach'](_0x2eaef1=>{_0x2eaef1&&typeof _0x2eaef1=='object'&&_0x2eaef1['type']===_0x569a5d&&_0x11bd7c['push'](_0x2eaef1);}),_0x11bd7c;}['destroy'](){this['off']();}}function bP(_0x13a9cb,_0x14eb71){if(!_0x13a9cb)return _0x13a9cb;switch(_0x14eb71){case'rgb':return _0x13a9cb instanceof Y?_0x13a9cb['clone']():new Y(_0x13a9cb[0x99+0x17*0x8b+-0xd16],_0x13a9cb[-0x5*-0x2fa+-0xb4*-0x12+-0x1b89],_0x13a9cb[0x1b7+0x1*0x129e+-0x1453]);case'rgba':return _0x13a9cb instanceof Y?_0x13a9cb['clone']():new Y(_0x13a9cb[0xaab*0x2+-0xd2e+-0x828],_0x13a9cb[-0x2491+-0xc1*-0x2f+0x123],_0x13a9cb[-0x79*-0x1f+0x578+-0x141d],_0x13a9cb[-0x1*0x1ad5+0xd*0xa7+0x125d]);case'vec2':return _0x13a9cb instanceof W?_0x13a9cb['clone']():new W(_0x13a9cb[0x1ab9*0x1+-0x1*0xf00+-0xbb9],_0x13a9cb[-0x42d*0x1+-0x1a27+0x1e55]);case'vec3':return _0x13a9cb instanceof T?_0x13a9cb['clone']():new T(_0x13a9cb[0x1106+-0x1aa*-0x9+-0x2000],_0x13a9cb[0x15b6+-0x1a00+0x9d*0x7],_0x13a9cb[-0x2ef+0x17*0x95+-0xa72]);case'vec4':return _0x13a9cb instanceof Q?_0x13a9cb['clone']():new Q(_0x13a9cb[0xd0f+0x26aa*-0x1+0x199b],_0x13a9cb[-0x167b+-0x393+0x7*0x3b9],_0x13a9cb[-0x68*-0x4f+0x4bd*-0x5+0x865*-0x1],_0x13a9cb[-0x2*-0x10a1+-0x1*-0x278+-0x23b7]);case'boolean':case'number':case'string':return _0x13a9cb;case'entity':return _0x13a9cb;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x14eb71);}}const $0=-0x1066+-0x8*-0x20e+0xa*-0x1,Yu=-0x1*-0x11d7+0x1*0x25b7+0x1*-0x378d,Ku=0x3d4*0x3+0x91a*-0x1+0x20*-0x13;class wP{constructor(){this['_left']=(0x1*-0x266+0x33*0x45+-0xb58)/(-0x18f7+0x3*0x99f+-0x3e6),this['_right']=-(-0x2*-0x78e+0x8*0x45+-0x1143)/(-0x3*0x637+-0x876+-0x1b1b*-0x1),this['_len']=0x230c+-0x17*-0x12e+0x1f17*-0x2,this['_recip']=0x21b0+-0x23a0+-0x1f0*-0x1,this['_p0']=0x88e+-0x7ce+-0xc0*0x1,this['_p1']=0xe01+0x40a*-0x2+-0x5ed,this['_t']=0xd*0x1a1+-0x1*0xa37+0x57b*-0x2,this['_hermite']={'valid':!(0x9*-0x257+0xb21+0x9ef),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x244200,_0x17377b){if(_0x244200<this['_left']||_0x244200>=this['_right']){const _0xbf9ef9=_0x17377b['length'];if(!_0xbf9ef9)this['_left']=-(0xd6*0x10+-0x1c89+0xf2a)/(-0x93b*0x2+-0x137+0x13ad),this['_right']=(0x21cd*-0x1+-0x127f*-0x1+-0xf4f*-0x1)/(-0x1002+0x9cc+0x636),this['_len']=-0x21c+0x41*0x1f+-0x5c3,this['_recip']=0x1*-0x1e5f+0xbc+0x1da3,this['_p0']=this['_p1']=0x2123+0x14a9+-0x1*0x35cc;else{if(_0x244200<_0x17377b[0xda+0x1c86+0x50*-0x5e])this['_left']=-(0x1f4f+0x1*-0xe3b+-0x1113*0x1)/(0x297+0x423+-0x6ba),this['_right']=_0x17377b[-0x136f+0x23e+-0x1*-0x1131],this['_len']=-0x2283+-0x2f*0x15+0x265e,this['_recip']=-0x1fb5+-0x1*0x538+0x24ed,this['_p0']=this['_p1']=0x202*-0x7+-0x8f2+0x100*0x17;else{if(_0x244200>=_0x17377b[_0xbf9ef9-(-0x1ba*0x10+0x1106*0x1+0xa9b)])this['_left']=_0x17377b[_0xbf9ef9-(0x9*-0x203+0x219*-0x4+0x1a80)],this['_right']=(-0x8d9+0x6c4+0x59*0x6)/(-0x2f*0x91+0x2*-0xc13+-0x29*-0x13d),this['_len']=-0x1a5d*-0x1+-0x1*-0x1e71+-0xb*0x52a,this['_recip']=0x1*-0x17d5+0xa4f*0x2+0x337*0x1,this['_p0']=this['_p1']=_0xbf9ef9-(-0x529+0x1e7*0xe+-0x3*0x728);else{const _0x8d70b3=this['_findKey'](_0x244200,_0x17377b);this['_left']=_0x17377b[_0x8d70b3],this['_right']=_0x17377b[_0x8d70b3+(-0x3*-0x31c+-0xcf2+0x39f)],this['_len']=this['_right']-this['_left'];const _0x5f0689=(0x1*0x1c21+-0x7*-0x36d+-0x341b)/this['_len'];this['_recip']=isFinite(_0x5f0689)?_0x5f0689:0x26ed*-0x1+0x242d+-0x40*-0xb,this['_p0']=_0x8d70b3,this['_p1']=_0x8d70b3+(-0x25f7*-0x1+0x2152+-0x4*0x11d2);}}}}this['_t']=this['_recip']===0x638*0x1+-0x24c6*0x1+0x1e8e*0x1?-0x22cf+0x17*0x183+0xa:(_0x244200-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x1fcf+-0xe54+0x2e24*0x1);}['_findKey'](_0x5ad1fa,_0x2f721e){let _0x5009fe=-0x255*0x5+0xdfb*-0x1+-0xc*-0x223;for(;_0x5ad1fa>=_0x2f721e[_0x5009fe+(0x4*-0x213+-0xf9*0x15+0x1cba)];)_0x5009fe++;return _0x5009fe;}['eval'](_0x149593,_0x466ff1,_0x18505c){const _0x483d0b=_0x18505c['_data'],_0x5076a1=_0x18505c['_component'+'s'],_0x195a0a=this['_p0']*_0x5076a1;if(_0x466ff1===$0){for(let _0x385f8c=-0x1*-0x14a8+-0x16*-0x8+-0x1558;_0x385f8c<_0x5076a1;++_0x385f8c)_0x149593[_0x385f8c]=_0x483d0b[_0x195a0a+_0x385f8c];}else{const _0x1e984d=this['_t'],_0x48e15c=this['_p1']*_0x5076a1;switch(_0x466ff1){case Yu:for(let _0x3fa610=-0x2149+0x6*0x1ce+0x1675;_0x3fa610<_0x5076a1;++_0x3fa610)_0x149593[_0x3fa610]=N['lerp'](_0x483d0b[_0x195a0a+_0x3fa610],_0x483d0b[_0x48e15c+_0x3fa610],_0x1e984d);break;case Ku:{const _0x3a649d=this['_hermite'];if(!_0x3a649d['valid']){const _0x10bbc2=_0x1e984d*_0x1e984d,_0x1c67c4=_0x1e984d+_0x1e984d,_0x133af0=-0x2*-0xe9b+0x1d26+-0x3a5b*0x1-_0x1e984d,_0x32439d=_0x133af0*_0x133af0;_0x3a649d['valid']=!(-0x7fb*-0x3+0x81*-0x11+-0x4*0x3d8),_0x3a649d['p0']=(0x1cac+-0x2*-0x5a+-0x1d5f+_0x1c67c4)*_0x32439d,_0x3a649d['m0']=_0x1e984d*_0x32439d,_0x3a649d['p1']=_0x10bbc2*(-0x161d*-0x1+0x1*-0x1d7b+0x1*0x761-_0x1c67c4),_0x3a649d['m1']=_0x10bbc2*(_0x1e984d-(-0x1*0x1369+0x21fc+-0xe92));}const _0x1a7533=(this['_p0']*(-0x1*-0x19df+0x3*0xb09+-0x3af7)+(-0x14a1+0x9d*-0x1b+-0x1*-0x2531))*_0x5076a1,_0x32f6e6=(this['_p0']*(0x3*0xac1+0x2f1+-0x2331)+(0x1f30+0x16be+-0x35ec))*_0x5076a1,_0x254d06=(this['_p1']*(-0x2f3+-0x2b+0x321*0x1)+(-0x1f3*0x7+-0x14bc+0x2262))*_0x5076a1,_0x4b0f10=(this['_p1']*(0x252f+-0x226f+-0x2bd)+(0x1eac+-0x53c+-0x1970))*_0x5076a1;for(let _0x49f138=-0x3*-0xbf2+-0x5f5+0x1de1*-0x1;_0x49f138<_0x5076a1;++_0x49f138)_0x149593[_0x49f138]=_0x3a649d['p0']*_0x483d0b[_0x1a7533+_0x49f138]+_0x3a649d['m0']*_0x483d0b[_0x32f6e6+_0x49f138]*this['_len']+_0x3a649d['p1']*_0x483d0b[_0x254d06+_0x49f138]+_0x3a649d['m1']*_0x483d0b[_0x4b0f10+_0x49f138]*this['_len'];break;}}}}}class K_{constructor(_0xabc68d){this['_name']=_0xabc68d['name']+'Snapshot',this['_time']=-(0x23a2+0x2429+-0x47ca),this['_cache']=[],this['_results']=[];for(let _0x447977=0x3f6*-0x1+0x1828+0x16*-0xeb;_0x447977<_0xabc68d['_inputs']['length'];++_0x447977)this['_cache'][_0x447977]=new wP();const _0x2b1d82=_0xabc68d['_curves'],_0x5d8be1=_0xabc68d['_outputs'];for(let _0x30e79c=-0x1391+0x3*0x2e7+0xadc;_0x30e79c<_0x2b1d82['length'];++_0x30e79c){const _0x3cc803=_0x2b1d82[_0x30e79c],_0x200690=_0x5d8be1[_0x3cc803['_output']],_0xe4b0f5=[];for(let _0x2b5760=-0x3da+0x20d+-0x1cd*-0x1;_0x2b5760<_0x200690['_component'+'s'];++_0x2b5760)_0xe4b0f5[_0x2b5760]=-0x4b4+-0xc95+0x1149*0x1;this['_results'][_0x30e79c]=_0xe4b0f5;}}}const Co=class Co{constructor(_0x14e995,_0x5c614a,_0x470a3a,_0xf2b8a,_0x5995f1,_0x5471d6){this['_name']=_0x14e995['name'],this['_track']=_0x14e995,this['_snapshot']=new K_(_0x14e995),this['_playing']=_0xf2b8a,this['_time']=_0x5c614a,this['_speed']=_0x470a3a,this['_loop']=_0x5995f1,this['_blendWeig'+'ht']=-0x1*-0x1bc5+0x18b6*-0x1+-0x11*0x2e,this['_blendOrde'+'r']=-0x1*-0xf06+-0x12a5+-0x3*-0x135,this['_eventHand'+'ler']=_0x5471d6,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x518246){this['_name']=_0x518246;}get['name'](){return this['_name'];}set['track'](_0x4848dd){this['_track']=_0x4848dd,this['_snapshot']=new K_(_0x4848dd);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x48b29e){this['_time']=_0x48b29e,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x3081e2){const _0x3ff8be=Math['sign'](_0x3081e2)!==Math['sign'](this['_speed']);this['_speed']=_0x3081e2,_0x3ff8be&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x5ce54f){this['_loop']=_0x5ce54f;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x18fca3){this['_blendWeig'+'ht']=_0x18fca3;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x2b3c74){this['_blendOrde'+'r']=_0x2b3c74;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x4ffd75){this['_eventCurs'+'or']=_0x4ffd75;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x1*0x15d4+0x1c75+-0x3249:this['_track']['events']['length']-(-0x9ab+-0x86*0x1f+0x19e6);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x25d8+-0x2*0x2a7+0x20e*0x15;}['nextEventA'+'headOfTime'](_0x56c38f){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x56c38f:this['nextEvent']['time']>=_0x56c38f:!(0x1a39*-0x1+-0x8*-0x2b8+0x47a);}['nextEventB'+'ehindTime'](_0x1a4234){return this['nextEvent']?_0x1a4234===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x1a4234:this['nextEvent']['time']<=_0x1a4234:this['isReverse']?this['nextEvent']['time']>_0x1a4234:this['nextEvent']['time']<_0x1a4234:!(-0x1454+-0xa*0x1eb+0x5a5*0x7);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0xa46+0xa7*-0x2f+0x28f0):-0x5*-0x59+0x6a*-0x37+-0x1509*-0x1;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x1*0xac0+-0x3*0x749+0xb1c):0x184e+0x23ba+-0x3c07,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x40c+0x4c*-0x37+-0x6*-0x20c:this['_eventCurs'+'or']<-0x18bf+0x1669*0x1+0x256&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x57+-0x2687+0x2631));}['clipFrameT'+'ime'](_0x7c09f1){const _0x26b6f6=Co['eventFrame'];_0x26b6f6['start']=-0x5*0x4fb+-0x3*0x4b1+0x3*0xcfe,_0x26b6f6['end']=_0x7c09f1,_0x26b6f6['residual']=-0x1*-0x1f39+0x1*-0x317+-0xe11*0x2,this['isReverse']?_0x7c09f1<-0x1d5d+-0x211+0x95*0x36&&(_0x26b6f6['start']=this['track']['duration'],_0x26b6f6['end']=0x591+-0x75*-0x20+0x6bb*-0x3,_0x26b6f6['residual']=_0x7c09f1+this['track']['duration']):_0x7c09f1>this['track']['duration']&&(_0x26b6f6['start']=-0x12e+0x141*-0x13+0x1901,_0x26b6f6['end']=this['track']['duration'],_0x26b6f6['residual']=_0x7c09f1-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x1e5f03,_0x30f53d){return this['nextEventA'+'headOfTime'](_0x1e5f03)&&this['nextEventB'+'ehindTime'](_0x30f53d)?(this['fireNextEv'+'ent'](),!(0x237c+-0xe*-0xc+-0x101*0x24)):!(0x1*-0x59c+-0x347*0x2+0xc2b);}['activeEven'+'tsForFrame'](_0x55a13c,_0x172dd0){const _0x4d8fdd=Co['eventFrame'];this['clipFrameT'+'ime'](_0x172dd0);const _0x5e9c1e=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x55a13c,_0x4d8fdd['end'])&&_0x5e9c1e!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x4d8fdd['residual'])>0x2b6*0x9+-0xa97*-0x2+-0x2d94&&this['activeEven'+'tsForFrame'](_0x4d8fdd['start'],_0x4d8fdd['residual']);}['progressFo'+'rTime'](_0xb7c515){return _0xb7c515*this['_speed']/this['_track']['duration'];}['_update'](_0x42f04f){if(this['_playing']){let _0x28799a=this['_time'];const _0xafe4c7=this['_track']['duration'],_0x3d1de9=this['_speed'],_0x5921cc=this['_loop'];this['_track']['events']['length']>-0x36*-0x9+0x1f88*-0x1+0x1da2&&_0xafe4c7>-0x1*0xd3f+-0x1ad3+0x2812&&this['activeEven'+'tsForFrame'](_0x28799a,_0x28799a+_0x3d1de9*_0x42f04f),_0x28799a+=_0x3d1de9*_0x42f04f,_0x3d1de9>=-0x89*0x14+0x1*0x1f5b+0x14a7*-0x1?_0x28799a>_0xafe4c7&&(_0x5921cc?_0x28799a=_0x28799a%_0xafe4c7||0xa3*0x2f+-0x17ef+-0x1a*0x3b:(_0x28799a=this['_track']['duration'],this['pause']())):_0x28799a<-0x2291*-0x1+0x24a9*-0x1+0x10c*0x2&&(_0x5921cc?_0x28799a=_0xafe4c7+(_0x28799a%_0xafe4c7||-0x789+0x1f28+-0x179f):(_0x28799a=-0x60+-0x39*-0x43+-0xe8b,this['pause']())),this['_time']=_0x28799a;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x207*-0x11+0xb1*0xa+-0x2961),this['_time']=-0x26f0+0x39*-0xb+0x2963;}['stop'](){this['_playing']=!(-0x323+-0x127*-0xf+0x47*-0x33),this['_time']=0x1979+-0xacb*-0x2+-0x2f0f*0x1;}['pause'](){this['_playing']=!(-0x1*0x601+-0x254d+-0x1*-0x2b4f);}['resume'](){this['_playing']=!(-0x1700+0x2407+0x5*-0x29b);}['reset'](){this['_time']=-0x1*-0x2659+-0x337*0x2+-0x1feb;}};c(Co,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let jh=Co;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',CP='PREV_STATE'+'_NEXT_STAT'+'E',EP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',mh='TRIGGER',FP='1D',kP='2D_DIRECTI'+'ONAL',OP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Zu='END',kr='ANY',Yh=[oo,Zu,kr],X0='OVERWRITE',NP='ADDITIVE';class Ct{static['dot'](_0x3f76ce,_0x287247){const _0x444bb1=_0x3f76ce['length'];let _0x175030=-0x31*-0x1a+0x29*-0x47+0x665;for(let _0x264825=-0xeb2+-0x22*-0xa3+-0x6f4;_0x264825<_0x444bb1;++_0x264825)_0x175030+=_0x3f76ce[_0x264825]*_0x287247[_0x264825];return _0x175030;}static['normalize'](_0x5b6bf2){let _0x454392=Ct['dot'](_0x5b6bf2,_0x5b6bf2);if(_0x454392>0x237d+0x114f+-0x34cc){_0x454392=(-0x1cf*0x5+0x3ce*-0x6+0x1fe*0x10)/Math['sqrt'](_0x454392);const _0x3a696e=_0x5b6bf2['length'];for(let _0x5f3b84=0x1215+0x1721+-0x1*0x2936;_0x5f3b84<_0x3a696e;++_0x5f3b84)_0x5b6bf2[_0x5f3b84]*=_0x454392;}}static['set'](_0x120bc,_0x16a8d0,_0x134744){const _0x458252=_0x120bc['length'];if(_0x134744==='quaternion'){let _0x31857f=Ct['dot'](_0x16a8d0,_0x16a8d0);_0x31857f>0x1265+-0x3*0x289+0x1*-0xaca&&(_0x31857f=(-0x144e+-0x18f7+0x1*0x2d46)/Math['sqrt'](_0x31857f));for(let _0x5b8a3b=-0x1*-0x1f9+0x832+-0xa2b;_0x5b8a3b<_0x458252;++_0x5b8a3b)_0x120bc[_0x5b8a3b]=_0x16a8d0[_0x5b8a3b]*_0x31857f;}else{for(let _0x239a8c=0x1b3d+0x1*-0xe66+-0x1*0xcd7;_0x239a8c<_0x458252;++_0x239a8c)_0x120bc[_0x239a8c]=_0x16a8d0[_0x239a8c];}}static['blendVec'](_0x202de5,_0x23cdcb,_0x3f7a8e,_0x13775c){const _0x22d6f2=_0x13775c?0x16d5+0x25*0x1a+-0x1a96:0x376+0xd76+-0x10eb-_0x3f7a8e,_0x20a389=_0x202de5['length'];for(let _0x402322=-0x1d1d+-0xb2d+-0x23d*-0x12;_0x402322<_0x20a389;++_0x402322)_0x202de5[_0x402322]=_0x202de5[_0x402322]*_0x22d6f2+_0x23cdcb[_0x402322]*_0x3f7a8e;}static['blendQuat'](_0x59fbe5,_0x1f34ca,_0xdf428c,_0x34c30f){const _0x3da102=_0x59fbe5['length'],_0x30f506=_0x34c30f?-0x18fb+0x18ea+0x12:-0x1*-0x121d+-0x16fa+0x4de-_0xdf428c;Ct['dot'](_0x59fbe5,_0x1f34ca)<0x2217+-0x1b3e+0x1*-0x6d9&&(_0xdf428c=-_0xdf428c);for(let _0x136a29=-0x60e*0x3+0x2706+0xf*-0x164;_0x136a29<_0x3da102;++_0x136a29)_0x59fbe5[_0x136a29]=_0x59fbe5[_0x136a29]*_0x30f506+_0x1f34ca[_0x136a29]*_0xdf428c;_0x34c30f||Ct['normalize'](_0x59fbe5);}static['blend'](_0x93f950,_0x189dc2,_0x32daa1,_0x4741f6,_0x3ffbaa){_0x4741f6==='quaternion'?Ct['blendQuat'](_0x93f950,_0x189dc2,_0x32daa1,_0x3ffbaa):Ct['blendVec'](_0x93f950,_0x189dc2,_0x32daa1,_0x3ffbaa);}static['stableSort'](_0x35e434,_0x2aac23){const _0x268b13=_0x35e434['length'];for(let _0x1fb593=-0x19e3+-0x8bb+0x5c5*0x6;_0x1fb593<_0x268b13-(0x1211+0xf*0x92+-0x1a9e);++_0x1fb593)for(let _0x1efbe6=_0x1fb593+(-0xcd*-0x1d+0x31*-0x7+0x15e1*-0x1);_0x1efbe6<_0x268b13;++_0x1efbe6)if(_0x2aac23(_0x35e434[_0x1efbe6],_0x35e434[_0x1fb593])){const _0x59c170=_0x35e434[_0x1fb593];_0x35e434[_0x1fb593]=_0x35e434[_0x1efbe6],_0x35e434[_0x1efbe6]=_0x59c170;}}}const ze=class ze{constructor(_0x331f04,_0x40d464){this['_component']=_0x331f04,this['mask']=new Int8Array(_0x331f04['layers']['length']),this['weights']=new Float32Array(_0x331f04['layers']['length']),this['totalWeigh'+'t']=0x17*0x12b+0xd81+-0x285e*0x1,this['counter']=0x38*0xc+-0x1*-0x539+-0x7d9,this['layerCount'+'er']=0x3*0x8c4+0x1a0*-0x1+0x1*-0x18ac,this['valueType']=_0x40d464,this['dirty']=!(0x21*-0xd2+0x21ad*-0x1+0x3cbf),this['value']=_0x40d464===ze['TYPE_QUAT']?[-0x1f55+-0x1f6f+0x6*0xa76,-0x1f20+0x19c8+0x558,-0x891+0x18*0x16+0x681,0x223*-0x10+0x19c1+0x9*0xf0]:[-0x788+0xbf9+-0x471,0x8*-0x9+0x15c0+0x55e*-0x4,-0x22c1+-0xae6+0x2da7*0x1],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x14eeea){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0xc30+-0x26bf*0x1+-0x20b*-0xd||!this['mask'][_0x14eeea]?-0x1e0+-0x1c9*-0x5+-0x70d:this['_normalize'+'Weights']?this['weights'][_0x14eeea]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x14eeea],-0x230f*0x1+0x259*-0x1+0x2568,-0x900+0x1*-0x5e7+0xee8);}['_layerBlen'+'dType'](_0x340d79){return this['_component']['layers'][_0x340d79]['blendType'];}['setMask'](_0x29b973,_0x2976e5){this['mask'][_0x29b973]=_0x2976e5,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x29b973]['blendType']===X0&&(this['mask']=this['mask']['fill'](0x26cd+0x1*0x1e71+-0x453e,-0x12*0x172+0x281+0x1783,_0x29b973)),this['dirty']=!(0x94*-0x13+0x121a+-0x71e));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x7c7*0x4+-0x19*0xff+0x3803;for(let _0x3f1d5b=-0x10f1+0x233*0x2+0xc8b*0x1;_0x3f1d5b<this['weights']['length'];_0x3f1d5b++)this['weights'][_0x3f1d5b]=this['_component']['layers'][_0x3f1d5b]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x3f1d5b]*this['weights'][_0x3f1d5b];this['dirty']=!(-0xadb+0x19f*-0xf+-0x1*-0x232d);}['updateValu'+'e'](_0x29c4dc,_0x4c537c){if(this['counter']===-0x1*-0x1e3b+-0x7b5+0x3c1*-0x6&&(Ct['set'](this['value'],ze['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ct['blend'](this['value'],this['baseValue'],-0x25f6+0x51*-0x15+0x2c9c,this['valueType'])),!(!this['mask'][_0x29c4dc]||this['getWeight'](_0x29c4dc)===0x2065+-0x5*-0xab+-0x23bc)){if(this['_layerBlen'+'dType'](_0x29c4dc)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===ze['TYPE_QUAT']){const _0x16e41b=ze['q1']['set'](this['value'][-0x89*0x25+-0x1c65+0xc7*0x3e],this['value'][0x1fc7+-0x2*-0x1024+-0x400e],this['value'][-0x1b5f+0xcd5*0x1+0xe8c],this['value'][0x2307+0xe1*0x11+-0x31f5]),_0x47d7b6=ze['q2']['set'](this['baseValue'][-0x7*-0x1b9+0x1f42+-0x2b51],this['baseValue'][-0x4f*-0x7+-0x5bc+0x394],this['baseValue'][0x1779*-0x1+-0x193c+0x30b7],this['baseValue'][0x1049+-0x1e22+0xddc*0x1]),_0x30a481=ze['q3']['set'](_0x4c537c[-0x1*-0xcb+-0x1*0xde4+-0x1*-0xd19],_0x4c537c[0x1662+-0x1e63+0x802],_0x4c537c[-0x2334*0x1+-0x249f+0x47d5],_0x4c537c[-0x12d*0x1+-0x1a07*0x1+-0x1b37*-0x1]),_0x34f120=_0x47d7b6['invert']()['mul'](_0x30a481);_0x34f120['slerp'](te['IDENTITY'],_0x34f120,this['getWeight'](_0x29c4dc)),_0x16e41b['mul'](_0x34f120),ze['quatArr'][0x18f4+-0x1b37+0x3*0xc1]=_0x16e41b['x'],ze['quatArr'][0x676+-0x1641+0xfcc]=_0x16e41b['y'],ze['quatArr'][0x2*-0xa84+-0x1754+-0x277*-0x12]=_0x16e41b['z'],ze['quatArr'][-0xafe+0x257*0x7+-0x560]=_0x16e41b['w'],Ct['set'](this['value'],ze['quatArr'],this['valueType']);}else ze['vecArr'][-0x122*-0x1+0x75b+0x29*-0x35]=_0x4c537c[-0x447+0x1773+0x132c*-0x1]-this['baseValue'][0xd93+0x665+0x6a8*-0x3],ze['vecArr'][0x542+-0x2f*0xe+0xe5*-0x3]=_0x4c537c[-0x174+-0x415+0x58a]-this['baseValue'][-0xfd5*-0x2+0xf*0x266+-0x43a3],ze['vecArr'][-0x1*0x55e+0xfe9+-0x5d*0x1d]=_0x4c537c[0x23a2+-0x51c+-0x1e84]-this['baseValue'][-0xd*-0x53+-0x251*0xa+0x12f5*0x1],Ct['blend'](this['value'],ze['vecArr'],this['getWeight'](_0x29c4dc),this['valueType'],!(0x1c3a+-0x1*-0x795+0x23cf*-0x1));}else Ct['blend'](this['value'],_0x4c537c,this['getWeight'](_0x29c4dc),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(ze,'TYPE_QUAT','quaternion'),c(ze,'TYPE_VEC3','vector3'),c(ze,'q1',new te()),c(ze,'q2',new te()),c(ze,'q3',new te()),c(ze,'quatArr',[0xd2+0xade*-0x1+0xa0c,-0x463+-0x289*0x3+-0x5ff*-0x2,0x31*0x8c+0x1708*-0x1+-0x2*0x1e2,-0x25cd+-0x1cd8+0x2153*0x2]),c(ze,'vecArr',[-0x19f8+-0x16f*0x5+0x1*0x2123,-0x1231+-0x1b13*-0x1+-0x3*0x2f6,-0x1e1b+-0x201*0xf+0x3c2a]),c(ze,'IDENTITY_Q'+'UAT_ARR',[-0x1b2+-0x36e*0x4+0x2*0x7b5,-0x1f*-0xd9+-0x43*-0x25+0x2*-0x11fb,-0x2030*-0x1+0x1062+-0x3092,0x11b0+-0x1ee9+0x1*0xd3a]);let bo=ze;class j0{constructor(_0x546e76){this['_binder']=_0x546e76,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x4867fe){const _0x124a1c=this['_targets'],_0x45b270=this['_binder'],_0x3a3660=_0x4867fe['track']['curves'],_0x13058d=_0x4867fe['snapshot'],_0x262a10=[],_0x17f15a=[];for(let _0x54691b=-0x2*-0xc83+-0xd88*-0x2+0x3b*-0xe2;_0x54691b<_0x3a3660['length'];++_0x54691b){const _0x48ab65=_0x3a3660[_0x54691b]['paths'];for(let _0x3a3640=-0xd1c+0x1465+-0x749;_0x3a3640<_0x48ab65['length'];++_0x3a3640){const _0x252046=_0x48ab65[_0x3a3640],_0x4e9eeb=_0x45b270['resolve'](_0x252046);let _0x3f9d9e=_0x124a1c[_0x4e9eeb&&_0x4e9eeb['targetPath']||null];if(!_0x3f9d9e&&_0x4e9eeb){_0x3f9d9e={'target':_0x4e9eeb,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x55d4d5=0x1784+-0x615*0x4+0x1a*0x8;_0x55d4d5<_0x3f9d9e['target']['components'];++_0x55d4d5)_0x3f9d9e['value']['push'](0xee1+0x39*0x67+-0x25d0);if(_0x124a1c[_0x4e9eeb['targetPath']]=_0x3f9d9e,_0x45b270['animCompon'+'ent']){if(!_0x45b270['animCompon'+'ent']['targets'][_0x4e9eeb['targetPath']]){let _0x492579;_0x4e9eeb['targetPath']['substring'](_0x4e9eeb['targetPath']['length']-(-0x1771+-0x1ed0+0x364e))==='localRotat'+'ion'?_0x492579=bo['TYPE_QUAT']:_0x492579=bo['TYPE_VEC3'],_0x45b270['animCompon'+'ent']['targets'][_0x4e9eeb['targetPath']]=new bo(_0x45b270['animCompon'+'ent'],_0x492579);}_0x45b270['animCompon'+'ent']['targets'][_0x4e9eeb['targetPath']]['layerCount'+'er']++,_0x45b270['animCompon'+'ent']['targets'][_0x4e9eeb['targetPath']]['setMask'](_0x45b270['layerIndex'],0xa60+-0x8*0xa4+-0x53f);}}_0x3f9d9e&&(_0x3f9d9e['curves']++,_0x262a10['push'](_0x13058d['_results'][_0x54691b]),_0x17f15a['push'](_0x3f9d9e));}}this['_clips']['push'](_0x4867fe),this['_inputs']['push'](_0x262a10),this['_outputs']['push'](_0x17f15a);}['removeClip'](_0x163a89){const _0x298e18=this['_targets'],_0x8b3fe3=this['_binder'],_0x49457e=this['_clips'],_0x38b2e2=_0x49457e[_0x163a89]['track']['curves'];for(let _0x232fa7=-0x847+-0x4f*-0x47+-0xda2;_0x232fa7<_0x38b2e2['length'];++_0x232fa7){const _0x40d36b=_0x38b2e2[_0x232fa7]['paths'];for(let _0x281ad6=0x1*0x1ddb+-0x23dc+0x601;_0x281ad6<_0x40d36b['length'];++_0x281ad6){const _0x7136e1=_0x40d36b[_0x281ad6],_0x25b90b=this['_binder']['resolve'](_0x7136e1);_0x25b90b&&(_0x25b90b['curves']--,_0x25b90b['curves']===-0xefe+-0x1f94+0x2e92&&(_0x8b3fe3['unresolve'](_0x7136e1),delete _0x298e18[_0x25b90b['targetPath']],_0x8b3fe3['animCompon'+'ent']&&_0x8b3fe3['animCompon'+'ent']['targets'][_0x25b90b['targetPath']]['layerCount'+'er']--));}}_0x49457e['splice'](_0x163a89,0x1eb6+0x1*0xd1c+-0x2bd1),this['_inputs']['splice'](_0x163a89,0x18fb+0x827+-0x21*0x101),this['_outputs']['splice'](_0x163a89,0x2184+0x729+-0x4c*0x89);}['removeClip'+'s'](){for(;this['_clips']['length']>0x1ca1+-0x503*0x3+-0xd98;)this['removeClip'](-0x26de+-0x2335+0x4a13);}['updateClip'+'Track'](_0x4a744e,_0x4b3bbf){this['_clips']['forEach'](_0x554ca1=>{_0x554ca1['name']['includes'](_0x4a744e)&&(_0x554ca1['track']=_0x4b3bbf);}),this['rebind']();}['findClip'](_0x26c575){const _0x5339bd=this['_clips'];for(let _0x1bfc92=-0xe*0x4c+-0xc80+-0x68*-0x29;_0x1bfc92<_0x5339bd['length'];++_0x1bfc92){const _0x364a5a=_0x5339bd[_0x1bfc92];if(_0x364a5a['name']===_0x26c575)return _0x364a5a;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0xa39550=[...this['clips']];this['removeClip'+'s'](),_0xa39550['forEach'](_0x2b038b=>{this['addClip'](_0x2b038b);});}['assignMask'](_0x33bfae){return this['_binder']['assignMask'](_0x33bfae);}['update'](_0x41f856,_0x699515=!(-0x1904+0x1d*0x59+0x1*0xeef)){const _0x7b7840=this['_clips'],_0x5863e3=_0x7b7840['map']((_0xda5739,_0x27b50d)=>_0x27b50d);Ct['stableSort'](_0x5863e3,(_0x3fa5ce,_0x177989)=>_0x7b7840[_0x3fa5ce]['blendOrder']<_0x7b7840[_0x177989]['blendOrder']);for(let _0x12a370=-0x25d3+0x164d+0xf86;_0x12a370<_0x5863e3['length'];++_0x12a370){const _0x5b447d=_0x5863e3[_0x12a370],_0x6255fc=_0x7b7840[_0x5b447d],_0x258706=this['_inputs'][_0x5b447d],_0x3420ac=this['_outputs'][_0x5b447d],_0x38a2c3=_0x6255fc['blendWeigh'+'t'];if(_0x38a2c3>0xc1d+0x207*0x2+-0x102b&&_0x6255fc['_update'](_0x41f856),!_0x699515)break;let _0x533ab2,_0x2cf0cd,_0x36ab2e;if(_0x38a2c3>=-0x72b+-0xd*0xb2+0x53*0x32){for(let _0x40da53=-0x62+0x2365+-0x2303*0x1;_0x40da53<_0x258706['length'];++_0x40da53)_0x533ab2=_0x258706[_0x40da53],_0x2cf0cd=_0x3420ac[_0x40da53],_0x36ab2e=_0x2cf0cd['value'],Ct['set'](_0x36ab2e,_0x533ab2,_0x2cf0cd['target']['type']),_0x2cf0cd['blendCount'+'er']++;}else{if(_0x38a2c3>-0x236e+-0x1c2*-0xf+0x910){for(let _0x24846d=0x105d*0x1+-0x52e+0x199*-0x7;_0x24846d<_0x258706['length'];++_0x24846d)_0x533ab2=_0x258706[_0x24846d],_0x2cf0cd=_0x3420ac[_0x24846d],_0x36ab2e=_0x2cf0cd['value'],_0x2cf0cd['blendCount'+'er']===0x75f+-0x1*0x1f5a+-0x7*-0x36d?Ct['set'](_0x36ab2e,_0x533ab2,_0x2cf0cd['target']['type']):Ct['blend'](_0x36ab2e,_0x533ab2,_0x38a2c3,_0x2cf0cd['target']['type']),_0x2cf0cd['blendCount'+'er']++;}}}const _0x1484e8=this['_targets'],_0x28c66d=this['_binder'];for(const _0x2cacd3 in _0x1484e8)if(_0x1484e8['hasOwnProp'+'erty'](_0x2cacd3)){const _0xf75782=_0x1484e8[_0x2cacd3];if(_0x28c66d['animCompon'+'ent']&&_0xf75782['target']['isTransfor'+'m']){const _0x24255a=_0x28c66d['animCompon'+'ent']['targets'][_0x2cacd3];_0x24255a['counter']===_0x24255a['layerCount'+'er']&&(_0x24255a['counter']=-0x521*0x1+0x267c*0x1+-0x215b),_0x24255a['path']||(_0x24255a['path']=_0x2cacd3,_0x24255a['baseValue']=_0xf75782['target']['get'](),_0x24255a['setter']=_0xf75782['target']['set']),_0x24255a['updateValu'+'e'](_0x28c66d['layerIndex'],_0xf75782['value']),_0x24255a['counter']++;}else _0xf75782['target']['set'](_0xf75782['value']);_0xf75782['blendCount'+'er']=0xe4a+0x2*0x314+0xa39*-0x2;}this['_binder']['update'](_0x41f856);}}class Y0{constructor(_0x5f2a9d){this['_events']=[..._0x5f2a9d],this['_events']['sort']((_0x4613ff,_0x5060df)=>_0x4613ff['time']-_0x5060df['time']);}get['events'](){return this['_events'];}}const hc=class hc{constructor(_0x339aa9,_0x2f7e2b,_0x544157,_0x17a819,_0x1abbe6,_0x354759=new Y0([])){this['_name']=_0x339aa9,this['_duration']=_0x2f7e2b,this['_inputs']=_0x544157,this['_outputs']=_0x17a819,this['_curves']=_0x1abbe6,this['_animEvent'+'s']=_0x354759;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x45af2b){this['_animEvent'+'s']=_0x45af2b;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x4caf62,_0x5e9725){_0x5e9725['_time']=_0x4caf62;const _0x88c6c8=this['_inputs'],_0x36ddda=this['_outputs'],_0x267d92=this['_curves'],_0x403701=_0x5e9725['_cache'],_0x4cd70f=_0x5e9725['_results'];for(let _0xd357b=-0x1*0x159e+-0x2*0x4bd+0x1f18;_0xd357b<_0x88c6c8['length'];++_0xd357b)_0x403701[_0xd357b]['update'](_0x4caf62,_0x88c6c8[_0xd357b]['_data']);for(let _0x59577c=0x14d1+-0x117d+0xd5*-0x4;_0x59577c<_0x267d92['length'];++_0x59577c){const _0x262167=_0x267d92[_0x59577c],_0x327495=_0x36ddda[_0x262167['_output']],_0x12d9cc=_0x4cd70f[_0x59577c];_0x403701[_0x262167['_input']]['eval'](_0x12d9cc,_0x262167['_interpola'+'tion'],_0x327495);}}};c(hc,'EMPTY',Object['freeze'](new hc('empty',Number['MAX_VALUE'],[],[],[])));let Di=hc;class qr{static['joinPath'](_0x45b1b1,_0x557cdc){_0x557cdc=_0x557cdc||'.';const _0xbe0f7a=function(_0x1eab6f){return _0x1eab6f['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x557cdc,'g'),'\x5c'+_0x557cdc);};return _0x45b1b1['map'](_0xbe0f7a)['join'](_0x557cdc);}static['splitPath'](_0x1da2dd,_0x3ea99e){_0x3ea99e=_0x3ea99e||'.';const _0x367181=[];let _0x77a29f='',_0x1558af=0x110e+0x32b*0xb+0x81*-0x67;for(;_0x1558af<_0x1da2dd['length'];){let _0x583cf7=_0x1da2dd[_0x1558af++];_0x583cf7==='\x5c'&&_0x1558af<_0x1da2dd['length']?(_0x583cf7=_0x1da2dd[_0x1558af++],_0x583cf7==='\x5c'||_0x583cf7===_0x3ea99e?_0x77a29f+=_0x583cf7:_0x77a29f+='\x5c'+_0x583cf7):_0x583cf7===_0x3ea99e?(_0x367181['push'](_0x77a29f),_0x77a29f=''):_0x77a29f+=_0x583cf7;}return _0x77a29f['length']>0x5c*-0x3b+0x1d26+-0x7f2&&_0x367181['push'](_0x77a29f),_0x367181;}static['encode'](_0x230426,_0xe32eb4,_0x3c4d12){return(Array['isArray'](_0x230426)?_0x230426['join']('/'):_0x230426)+'/'+_0xe32eb4+'/'+(Array['isArray'](_0x3c4d12)?_0x3c4d12['join']('/'):_0x3c4d12);}['resolve'](_0x88fa15){return null;}['unresolve'](_0x53a48b){}['update'](_0xa0401e){}}class Qu{constructor(_0x20fe17,_0x1cc7e0,_0x565ab0,_0xef4c2){_0x20fe17['set']?(this['_set']=_0x20fe17['set'],this['_get']=_0x20fe17['get']):this['_set']=_0x20fe17,this['_type']=_0x1cc7e0,this['_component'+'s']=_0x565ab0,this['_targetPat'+'h']=_0xef4c2,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x13*-0x10a+-0x1*0x24d9+0x3a*0xfa))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1edb+0xbb*0xd+-0x284d))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1*0x19e1+-0x4f*0x15+-0x135c))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class er{constructor(_0x419db8){c(this,'_isPathInM'+'ask',(_0x3db47e,_0x42c858)=>{const _0x436f77=this['_mask'][_0x3db47e];if(_0x436f77){if(_0x436f77['children']||_0x42c858&&_0x436f77['value']!==!(0x15f4+-0x23a8+-0x13f*-0xb))return!(-0x1cf*-0x2+-0x3*0x969+0x189d);}else return!(-0x1ea3+-0x1bb3*-0x1+0x2f1);return!(0x21c1+-0x9af*0x1+-0x3d*0x65);});if(this['graph']=_0x419db8,!_0x419db8)return;this['_mask']=null;const _0x3a2b51={},_0x1b9808=function(_0x7a4a2){_0x3a2b51[_0x7a4a2['name']]=_0x7a4a2;for(let _0x3880d1=0x24de+-0xc6a+0x1*-0x1874;_0x3880d1<_0x7a4a2['children']['length'];++_0x3880d1)_0x1b9808(_0x7a4a2['children'][_0x3880d1]);};_0x1b9808(_0x419db8),this['nodes']=_0x3a2b51,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x549818=function(_0x2ad1c5){let _0x2ad520=_0x2ad1c5;for(;_0x2ad520&&!(_0x2ad520 instanceof We);)_0x2ad520=_0x2ad520['parent'];let _0x560050;return _0x2ad520&&(_0x2ad520['render']?_0x560050=_0x2ad520['render']['meshInstan'+'ces']:_0x2ad520['model']&&(_0x560050=_0x2ad520['model']['meshInstan'+'ces'])),_0x560050;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x54c889){const _0x8b7453=_0x54c889['localPosit'+'ion'],_0x46ab1c=function(_0x3a0866){_0x8b7453['set'](..._0x3a0866);};return er['createAnim'+'Target'](_0x46ab1c,'vector',0x40*0x65+0x1870+-0x31ad,_0x54c889,'localPosit'+'ion');},'localRotation':function(_0x28c74a){const _0x222d9d=_0x28c74a['localRotat'+'ion'],_0x212008=function(_0x4c9df1){_0x222d9d['set'](..._0x4c9df1);};return er['createAnim'+'Target'](_0x212008,'quaternion',-0x83e*0x4+-0x1223*-0x1+0xed9,_0x28c74a,'localRotat'+'ion');},'localScale':function(_0x1d2d5e){const _0x194979=_0x1d2d5e['localScale'],_0x1897fa=function(_0x4c52c6){_0x194979['set'](..._0x4c52c6);};return er['createAnim'+'Target'](_0x1897fa,'vector',-0x225f+0x767*0x2+0xe*0x166,_0x1d2d5e,'localScale');},'weight':function(_0x31a762,_0x3223ac){_0x3223ac['indexOf']('name.')===0xc37+0xb*-0x5b+-0x84e?_0x3223ac=_0x3223ac['replace']('name.',''):_0x3223ac=Number(_0x3223ac);const _0x3ce46f=_0x549818(_0x31a762);let _0x32b575;if(_0x3ce46f){for(let _0x26cec4=0x4*0x515+-0x1*-0x190e+-0x2d62;_0x26cec4<_0x3ce46f['length'];++_0x26cec4)if(_0x3ce46f[_0x26cec4]['node']['name']===_0x31a762['name']&&_0x3ce46f[_0x26cec4]['morphInsta'+'nce']){const _0x17cdec=_0x3ce46f[_0x26cec4]['morphInsta'+'nce'],_0x11bbd1=_0x262244=>{_0x17cdec['setWeight'](_0x3223ac,_0x262244[-0x8*-0x378+0x84e+-0x8e*0x41]);};_0x32b575||(_0x32b575=[]),_0x32b575['push'](_0x11bbd1);}}if(_0x32b575){const _0x4c8bb9=_0x31a92a=>{for(let _0x26d55f=-0x17c3+0x1*-0x1e3b+0x1aff*0x2;_0x26d55f<_0x32b575['length'];++_0x26d55f)_0x32b575[_0x26d55f](_0x31a92a);};return er['createAnim'+'Target'](_0x4c8bb9,'number',0xe3a+-0x2b*-0x56+-0x1cab,_0x31a762,'weight.'+_0x3223ac);}return null;},'materialTexture':(_0x1e2268,_0x5342f3)=>{const _0x523b02=_0x549818(_0x1e2268);if(_0x523b02){let _0x1797d8;for(let _0x20a6bd=0x62e*0x5+-0xbb9*-0x1+-0x2a9f;_0x20a6bd<_0x523b02['length'];++_0x20a6bd)if(_0x523b02[_0x20a6bd]['node']['name']===_0x1e2268['name']){_0x1797d8=_0x523b02[_0x20a6bd];break;}if(_0x1797d8){const _0x5316b4=_0x7d6e33=>{const _0x8e01f7=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x7d6e33[0x3*0x131+0x1212+-0x3*0x737]);_0x8e01f7&&_0x8e01f7['resource']&&_0x8e01f7['type']==='texture'&&(_0x1797d8['material'][_0x5342f3]=_0x8e01f7['resource'],_0x1797d8['material']['update']());};return er['createAnim'+'Target'](_0x5316b4,'vector',-0x994+-0x9b8+0x134d,_0x1e2268,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x12b63e){if(!this['_mask'])return!(-0xd70+-0x12b6+0x2*0x1013);const _0x2ba9f6=[_0x12b63e['entityPath'][0x9f5*-0x1+0x1544*-0x1+0x1f39],this['graph']['name']];for(let _0x25dac3=0x213a+-0x2*0x7+-0xc1*0x2c;_0x25dac3<_0x2ba9f6['length'];++_0x25dac3){let _0xc981a9=_0x2ba9f6[_0x25dac3];if(this['_isPathInM'+'ask'](_0xc981a9,_0x12b63e['entityPath']['length']===0x1*0x215b+0x1eb2+-0x400c))return!(-0x565*0x1+-0x1d67+0x22cc);for(let _0x296908=0x1e4f+-0xfe+-0x8*0x3aa;_0x296908<_0x12b63e['entityPath']['length'];_0x296908++)if(_0xc981a9+='/'+_0x12b63e['entityPath'][_0x296908],this['_isPathInM'+'ask'](_0xc981a9,_0x296908===_0x12b63e['entityPath']['length']-(0x25c3+-0x158f+0x8f*-0x1d)))return!(-0x1e6c+0x108e+0xdde);}return!(0x829+-0x2c9+0x7d*-0xb);}['findNode'](_0x1f38b8){if(!this['_isPathAct'+'ive'](_0x1f38b8))return null;let _0x478044;if(this['graph']&&(_0x478044=this['graph']['findByPath'](_0x1f38b8['entityPath']),_0x478044||(_0x478044=this['graph']['findByPath'](_0x1f38b8['entityPath']['slice'](-0xc5*-0x27+0x1c32+-0x3a34)))),!_0x478044){_0x478044=this['nodes'][_0x1f38b8['entityPath'][_0x1f38b8['entityPath']['length']-(0x24*0x2c+0x25*-0x8d+0xe32)]||''];const _0x9106ab=qr['encode'](_0x1f38b8['entityPath'][_0x1f38b8['entityPath']['length']-(0x209f+-0x8*-0x42a+0x61*-0xae)]||'','graph',_0x1f38b8['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x9106ab]===0x1*-0x38f+0x2657+-0x22c7&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x9106ab+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x9106ab])?this['visitedFal'+'lbackGraph'+'Paths'][_0x9106ab]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x9106ab]=0x2*-0xe2d+0x733+0x1527;}return _0x478044;}static['createAnim'+'Target'](_0x35ced9,_0x3ee788,_0x3586a6,_0x51068c,_0x316438,_0x31b260){const _0x255ba1=qr['encode'](_0x51068c['path'],_0x31b260||'entity',_0x316438);return new Qu(_0x35ced9,_0x3ee788,_0x3586a6,_0x255ba1);}['resolve'](_0x305f30){const _0x948850=qr['encode'](_0x305f30['entityPath'],_0x305f30['component'],_0x305f30['propertyPa'+'th']);let _0x30e910=this['targetCach'+'e'][_0x948850];if(_0x30e910)return _0x30e910;const _0x22e8a9=this['findNode'](_0x305f30);if(!_0x22e8a9)return null;const _0x1eb0e0=this['handlers'][_0x305f30['propertyPa'+'th']];return!_0x1eb0e0||(_0x30e910=_0x1eb0e0(_0x22e8a9),!_0x30e910)?null:(this['targetCach'+'e'][_0x948850]=_0x30e910,this['nodeCounts'][_0x22e8a9['path']]?this['nodeCounts'][_0x22e8a9['path']]++:(this['activeNode'+'s']['push'](_0x22e8a9),this['nodeCounts'][_0x22e8a9['path']]=0x1244+-0x931+0x6*-0x183),_0x30e910);}['unresolve'](_0x23fa22){if(_0x23fa22['component']!=='graph')return;const _0xa2a86c=this['nodes'][_0x23fa22['entityPath'][_0x23fa22['entityPath']['length']-(0x1959*-0x1+-0x47a+0x1dd4)]||''];if(this['nodeCounts'][_0xa2a86c['path']]--,this['nodeCounts'][_0xa2a86c['path']]===0x22cb+-0x5e*-0x6a+-0x49b7){const _0x35c8e9=this['activeNode'+'s'],_0xf98d31=_0x35c8e9['indexOf'](_0xa2a86c['node']),_0x236dde=_0x35c8e9['length'];_0xf98d31<_0x236dde-(0x2068+-0x20*0x21+0x7f*-0x39)&&(_0x35c8e9[_0xf98d31]=_0x35c8e9[_0x236dde-(0x3b6+-0x25db+0x3e*0x8d)]),_0x35c8e9['pop']();}}['update'](_0x44df33){const _0xc5575e=this['activeNode'+'s'];for(let _0xb3dd68=0x28d*0x9+0xb25+-0xb5e*0x3;_0xb3dd68<_0xc5575e['length'];++_0xb3dd68)_0xc5575e[_0xb3dd68]['_dirtifyLo'+'cal']();}['assignMask'](_0x394d8a){return _0x394d8a!==this['_mask']?(this['_mask']=_0x394d8a,!(-0x2046+0x35*-0x11+0x1*0x23cb)):!(-0xd3*-0x1d+0x1d79+0x41b*-0xd);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x68b+0x4*-0x115+0xadf)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x896+-0xfec+0x756),c(this,'blending',!(-0x2*0x517+-0x1e0b*-0x1+-0x13dc)),c(this,'blendSpeed',-0x1b50+0x1706+0xb7*0x6),c(this,'activate',!(-0x2d7+-0x261b+0x2*0x1479)),c(this,'speed',0x145a+-0x1653+-0xb*-0x2e);}set['animations'](_0x40a17c){this['_animation'+'s']=_0x40a17c,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x4c2ef1){const _0x1e2c3b=this['_assets'];if(_0x1e2c3b&&_0x1e2c3b['length']){for(let _0x1a630d=0x1f1b+-0x1bd0+-0x34b;_0x1a630d<_0x1e2c3b['length'];_0x1a630d++)if(_0x1e2c3b[_0x1a630d]){const _0x3edd76=this['system']['app']['assets']['get'](_0x1e2c3b[_0x1a630d]);if(_0x3edd76){_0x3edd76['off']('change',this['onAssetCha'+'nged'],this),_0x3edd76['off']('remove',this['onAssetRem'+'oved'],this);const _0x1bd5fb=this['animations'+'Index'][_0x3edd76['id']];this['currAnim']===_0x1bd5fb&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x1bd5fb],delete this['animations'+'Index'][_0x3edd76['id']];}}}this['_assets']=_0x4c2ef1;const _0x18406b=_0x4c2ef1['map'](_0x594a62=>_0x594a62 instanceof le?_0x594a62['id']:_0x594a62);this['loadAnimat'+'ionAssets'](_0x18406b);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x4780f0){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x4780f0,this['skeleton']['addTime'](0x2091+0x4ae*0x7+-0x4153),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x5e218a=this['animEvalua'+'tor']['clips'];for(let _0x38a1fd=-0xad1+0x2380+-0x18af;_0x38a1fd<_0x5e218a['length'];++_0x38a1fd)_0x5e218a[_0x38a1fd]['time']=_0x4780f0;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x1430b0=this['animEvalua'+'tor']['clips'];if(_0x1430b0['length']>-0x254+0x1*0xa07+-0x1*0x7b3)return _0x1430b0[_0x1430b0['length']-(-0x1*-0xb51+-0x2*-0x6d1+-0x18f2)]['time'];}return 0x7*0x4b9+-0x874+-0x189b;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x1438+-0x3*-0xf0+-0x45a*-0x4);}set['loop'](_0x369e32){if(this['_loop']=_0x369e32,this['skeleton']&&(this['skeleton']['looping']=_0x369e32),this['animEvalua'+'tor']){for(let _0x1a91e8=-0x201e+0x1d96+0x288;_0x1a91e8<this['animEvalua'+'tor']['clips']['length'];++_0x1a91e8)this['animEvalua'+'tor']['clips'][_0x1a91e8]['loop']=_0x369e32;}}get['loop'](){return this['_loop'];}['play'](_0x42f4b5,_0x13cd8a=0xbf*-0x23+-0x3dc*0x1+-0x1*-0x1df9){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x42f4b5]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x42f4b5+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x42f4b5,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0xc76942=this['animations'][this['prevAnim']],_0x988110=this['animations'][this['currAnim']];if(this['blending']=_0x13cd8a>-0x19d*0x13+-0x23fe+0x42a5&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x2*-0x8+0x1ed+-0x1*0x1fd,this['blendSpeed']=(-0x69*0x31+-0x15b*0x8+0x1ef2)/_0x13cd8a),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0xc76942,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x988110):this['skeleton']['animation']=_0x988110),this['animEvalua'+'tor']){const _0x5c3459=this['animEvalua'+'tor'];if(this['blending']){for(;_0x5c3459['clips']['length']>-0x1cd8+-0xbeb+0x28c4;)_0x5c3459['removeClip'](-0x1*0x1b25+-0x3*-0x3df+0x8*0x1f1);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x1623fd=new jh(this['animations'][this['currAnim']],0x3d4+0x6d9*0x4+-0x6*0x534,0x23f7+0x374+-0x276a,!(-0x177a+0x2d*-0xa1+0x33c7),this['loop']);_0x1623fd['name']=this['currAnim'],_0x1623fd['blendWeigh'+'t']=this['blending']?0x73d+-0x2*-0x1079+0x17d*-0x1b:-0x1f45+0x1c7e*-0x1+0x3bc4,_0x1623fd['reset'](),this['animEvalua'+'tor']['addClip'](_0x1623fd);}}this['playing']=!(0x1cf3*-0x1+-0x1*-0x3d+0x1cb6);}}['getAnimati'+'on'](_0x21e15c){return this['animations'][_0x21e15c];}['setModel'](_0x104d64){_0x104d64!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x104d64,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x31412b=this['entity']['model'];if(_0x31412b){const _0x1d60c5=_0x31412b['model'];_0x1d60c5&&_0x1d60c5!==this['model']&&this['setModel'](_0x1d60c5);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x5d3845=Object['keys'](this['_animation'+'s']);_0x5d3845['length']>0x1*0x2148+-0x395+0x1*-0x1db3&&this['play'](_0x5d3845[-0x77b+-0x1c15+0x239*0x10]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x4033fd=this['model'],_0x222de2=this['animations'];let _0x392a87=!(-0x1*0xdff+-0x2ad*0x6+-0xf07*-0x2),_0x1cc85b=!(-0x8a0+-0x1b*0x3b+0xeda);for(const _0x5565cf in _0x222de2)_0x222de2['hasOwnProp'+'erty'](_0x5565cf)&&(_0x222de2[_0x5565cf]['constructo'+'r']===Di?_0x1cc85b=!(-0x1*0xdc1+0x49*0x2a+0x41*0x7):_0x392a87=!(-0x1b*-0x25+-0x1bfa+-0x1*-0x1813));const _0x2042d0=_0x4033fd['getGraph']();_0x392a87?(this['fromSkel']=new $d(_0x2042d0),this['toSkel']=new $d(_0x2042d0),this['skeleton']=new $d(_0x2042d0),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x2042d0)):_0x1cc85b&&(this['animEvalua'+'tor']=new j0(new er(this['entity'])));}['loadAnimat'+'ionAssets'](_0x3ce0f4){if(!_0x3ce0f4||!_0x3ce0f4['length'])return;const _0x3413c7=this['system']['app']['assets'],_0x2b0267=_0x3a1bd3=>{if(_0x3a1bd3['resources']['length']>-0x247f+0xefd+0x1583){for(let _0x309691=-0x5*0x300+0x1*-0x1961+0x2861;_0x309691<_0x3a1bd3['resources']['length'];_0x309691++)this['animations'][_0x3a1bd3['resources'][_0x309691]['name']]=_0x3a1bd3['resources'][_0x309691],this['animations'+'Index'][_0x3a1bd3['id']]=_0x3a1bd3['resources'][_0x309691]['name'];}else this['animations'][_0x3a1bd3['name']]=_0x3a1bd3['resource'],this['animations'+'Index'][_0x3a1bd3['id']]=_0x3a1bd3['name'];this['animations']=this['animations'];},_0x555224=_0x4a4c1d=>{_0x4a4c1d['off']('change',this['onAssetCha'+'nged'],this),_0x4a4c1d['on']('change',this['onAssetCha'+'nged'],this),_0x4a4c1d['off']('remove',this['onAssetRem'+'oved'],this),_0x4a4c1d['on']('remove',this['onAssetRem'+'oved'],this),_0x4a4c1d['resource']?_0x2b0267(_0x4a4c1d):(_0x4a4c1d['once']('load',_0x2b0267,this),this['enabled']&&this['entity']['enabled']&&_0x3413c7['load'](_0x4a4c1d));};for(let _0x42df75=0x24e7*-0x1+0x2*-0x919+0x43d*0xd,_0x56dbcf=_0x3ce0f4['length'];_0x42df75<_0x56dbcf;_0x42df75++){const _0x1e8fdf=_0x3413c7['get'](_0x3ce0f4[_0x42df75]);_0x1e8fdf?_0x555224(_0x1e8fdf):_0x3413c7['on']('add:'+_0x3ce0f4[_0x42df75],_0x555224);}}['onAssetCha'+'nged'](_0x293b55,_0x292bf8,_0x31795e,_0x75d683){if(_0x292bf8==='resource'||_0x292bf8==='resources'){if(_0x292bf8==='resources'&&_0x31795e&&_0x31795e['length']===-0x6b*-0x53+0x3*0x879+-0x3c1c&&(_0x31795e=null),_0x31795e){let _0x36e922=!(-0x18ad+-0x117e+-0x4*-0xa8b);if(_0x31795e['length']>0x17*0xeb+0x29*0x3+-0x1*0x1597){if(_0x75d683&&_0x75d683['length']>-0x1c24+0x3e*-0x2b+-0x1*-0x268f){for(let _0x59c519=0x25f0+-0x4*0xe6+-0x2258;_0x59c519<_0x75d683['length'];_0x59c519++)delete this['animations'][_0x75d683[_0x59c519]['name']];}else delete this['animations'][_0x293b55['name']];_0x36e922=!(-0x1f26+-0xd*-0x29+0x3d*0x7a);for(let _0x2ab4e5=-0x73*-0x1f+0x1a5a+-0x1*0x2847;_0x2ab4e5<_0x31795e['length'];_0x2ab4e5++)this['animations'][_0x31795e[_0x2ab4e5]['name']]=_0x31795e[_0x2ab4e5],!_0x36e922&&this['currAnim']===_0x31795e[_0x2ab4e5]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x36e922=!(0x159*0x3+0x26bd*-0x1+0x22b2*0x1),this['play'](_0x31795e[_0x2ab4e5]['name']));_0x36e922||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x75d683&&_0x75d683['length']>0xb1e+0xd31+-0x184e){for(let _0x6efee3=0x1*0x1dc2+-0x2238+-0x2*-0x23b;_0x6efee3<_0x75d683['length'];_0x6efee3++)delete this['animations'][_0x75d683[_0x6efee3]['name']];}this['animations'][_0x293b55['name']]=_0x31795e[-0xa3*-0x25+-0x14*-0x128+-0x25*0x143]||_0x31795e,_0x36e922=!(0x7*-0x2d1+-0x1d*0x86+0x22e6),this['currAnim']===_0x293b55['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x36e922=!(0xbd1+-0x246a+0x1899),this['play'](_0x293b55['name'])),_0x36e922||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x293b55['id']]=_0x293b55['name'];}else{if(_0x75d683['length']>0x65*-0x2b+-0xd3*-0x1f+0xa9*-0xd){for(let _0x515606=-0x23cc+0x1df4+0x5d8*0x1;_0x515606<_0x75d683['length'];_0x515606++)delete this['animations'][_0x75d683[_0x515606]['name']],this['currAnim']===_0x75d683[_0x515606]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x293b55['name']],this['currAnim']===_0x293b55['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x293b55['id']];}}}['onAssetRem'+'oved'](_0x3519d8){if(_0x3519d8['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x3519d8['resources']['length']>0x2e4+0x6ca+-0x9ad){for(let _0x50e864=-0xb86+-0xcc7*0x1+-0x1*-0x184d;_0x50e864<_0x3519d8['resources']['length'];_0x50e864++)delete this['animations'][_0x3519d8['resources'][_0x50e864]['name']],this['currAnim']===_0x3519d8['resources'][_0x50e864]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x3519d8['name']],this['currAnim']===_0x3519d8['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x3519d8['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x2567+-0x2130+0x436*-0x1),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x1c9*0x12+-0x2650+0x47*0xfe,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x40dd93=0x13e*0xe+-0x159d+0x439;_0x40dd93<this['animEvalua'+'tor']['clips']['length'];++_0x40dd93)this['animEvalua'+'tor']['clips'][_0x40dd93]['stop']();this['animEvalua'+'tor']['update'](0x10f+0x15c2+0x3b*-0x63),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x1aebde=this['assets'],_0x517270=this['system']['app']['assets'];if(_0x1aebde)for(let _0x228dd0=-0x8f6+-0x3d7*0x1+0xccd,_0xb31f2e=_0x1aebde['length'];_0x228dd0<_0xb31f2e;_0x228dd0++){let _0xd6cdd7=_0x1aebde[_0x228dd0];_0xd6cdd7 instanceof le||(_0xd6cdd7=_0x517270['get'](_0xd6cdd7)),_0xd6cdd7&&!_0xd6cdd7['resource']&&_0x517270['load'](_0xd6cdd7);}if(this['activate']&&!this['currAnim']){const _0x95fcf4=Object['keys'](this['animations']);_0x95fcf4['length']>0x61f+-0x181*0x16+-0x9*-0x2ff&&this['play'](_0x95fcf4[-0x7*0x429+0x1*-0x1e36+0x3b55]);}}['onBeforeRe'+'move'](){for(let _0x1d818b=0x56*0x4f+0x53d*0x3+0x2a41*-0x1;_0x1d818b<this['assets']['length'];_0x1d818b++){let _0x373549=this['assets'][_0x1d818b];typeof _0x373549=='number'&&(_0x373549=this['system']['app']['assets']['get'](_0x373549)),_0x373549&&(_0x373549['off']('change',this['onAssetCha'+'nged'],this),_0x373549['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x2393bc){if(this['blending']&&(this['blend']+=_0x2393bc*this['blendSpeed'],this['blend']>=-0x52d*-0x2+0x4ec+-0xf45&&(this['blend']=-0x1*0x200e+0x26bd*-0x1+0x46cc)),this['playing']){const _0x4318c4=this['skeleton'];if(_0x4318c4!==null&&this['model']!==null){if(this['blending'])_0x4318c4['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x367d8f=_0x2393bc*this['speed'];_0x4318c4['addTime'](_0x367d8f),this['speed']>0x1b67+0x49+0x1bb0*-0x1&&_0x4318c4['_time']===_0x4318c4['animation']['duration']&&!this['loop']?this['playing']=!(-0x1e7c+-0x160f+0x348c):this['speed']<0x1a25+0xe7d*-0x2+0x91*0x5&&_0x4318c4['_time']===0x1c3a*-0x1+0x1*0x1b6b+-0xcf*-0x1&&!this['loop']&&(this['playing']=!(-0x75b+0xb3*-0x2+0x8c2));}this['blending']&&this['blend']===-0x137c+-0x2082+0x57*0x99&&(_0x4318c4['animation']=this['toSkel']['animation']),_0x4318c4['updateGrap'+'h']();}}const _0x547924=this['animEvalua'+'tor'];if(_0x547924){for(let _0x3548ea=0x246a+-0x249+-0x2221;_0x3548ea<_0x547924['clips']['length'];++_0x3548ea){const _0x2e6fca=_0x547924['clips'][_0x3548ea];_0x2e6fca['speed']=this['speed'],this['playing']?_0x2e6fca['resume']():_0x2e6fca['pause']();}this['blending']&&_0x547924['clips']['length']>-0x139+0x3*0xb2a+0x3b*-0x8c&&(_0x547924['clips'][0x1e24+-0x9b0+-0x1*0x1473]['blendWeigh'+'t']=this['blend']),_0x547924['update'](_0x2393bc);}this['blending']&&this['blend']===0x4d0+0x1974+0x3d*-0x7f&&(this['blending']=!(0xf6b*0x1+0x915+-0x187f));}}class zP{constructor(){this['enabled']=!(0x14ce*0x1+0x1d93+-0x10cb*0x3);}}const Ju=['enabled'];class UP extends Xe{constructor(_0x1328a7){super(_0x1328a7),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Ju,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x24a4d6,_0x2e049f,_0x301cf7){_0x301cf7=['activate','enabled','loop','speed','assets'];for(const _0x176c5c of _0x301cf7)_0x2e049f['hasOwnProp'+'erty'](_0x176c5c)&&(_0x24a4d6[_0x176c5c]=_0x2e049f[_0x176c5c]);super['initialize'+'ComponentD'+'ata'](_0x24a4d6,_0x2e049f,Ju);}['cloneCompo'+'nent'](_0x70edf5,_0x48f8bd){this['addCompone'+'nt'](_0x48f8bd,{}),_0x48f8bd['animation']['assets']=_0x70edf5['animation']['assets']['slice'](),_0x48f8bd['animation']['speed']=_0x70edf5['animation']['speed'],_0x48f8bd['animation']['loop']=_0x70edf5['animation']['loop'],_0x48f8bd['animation']['activate']=_0x70edf5['animation']['activate'],_0x48f8bd['animation']['enabled']=_0x70edf5['animation']['enabled'];const _0x41f394={},_0x183571=_0x70edf5['animation']['animations'];for(const _0x106026 in _0x183571)_0x183571['hasOwnProp'+'erty'](_0x106026)&&(_0x41f394[_0x106026]=_0x183571[_0x106026]);_0x48f8bd['animation']['animations']=_0x41f394;const _0x5250a7={},_0x38981c=_0x70edf5['animation']['animations'+'Index'];for(const _0xbb160d in _0x38981c)_0x38981c['hasOwnProp'+'erty'](_0xbb160d)&&(_0x5250a7[_0xbb160d]=_0x38981c[_0xbb160d]);return _0x48f8bd['animation']['animations'+'Index']=_0x5250a7,_0x48f8bd['animation'];}['onBeforeRe'+'move'](_0x136c1e,_0x59f79d){_0x59f79d['onBeforeRe'+'move']();}['onUpdate'](_0x473f73){const _0x4e39f9=this['store'];for(const _0x10f222 in _0x4e39f9)if(_0x4e39f9['hasOwnProp'+'erty'](_0x10f222)){const _0x589d28=_0x4e39f9[_0x10f222];_0x589d28['data']['enabled']&&_0x589d28['entity']['enabled']&&_0x589d28['entity']['animation']['update'](_0x473f73);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Ju);class Uo{constructor(_0x1d6e50,_0x4311df,_0x4cc36d,_0x41a24e,_0x591f16=-0x1*0x247f+0x7*-0x279+0x35cf){this['_state']=_0x1d6e50,this['_parent']=_0x4311df,this['_name']=_0x4cc36d,Array['isArray'](_0x41a24e)?(this['_point']=new W(_0x41a24e[-0xc4b+0xa*0x14d+-0xb7],_0x41a24e[-0x7c4+-0x229b+-0xe2*-0x30]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x41a24e,this['_pointLeng'+'th']=_0x41a24e),this['_speed']=_0x591f16,this['_weightedS'+'peed']=-0x24f5+-0x2177+-0x667*-0xb,this['_weight']=0x2*0xd91+0x151*-0x17+-0x193*-0x2,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x198ebd){this['_weight']=_0x198ebd;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x445025=this['_state']['totalWeigh'+'t'];return _0x445025===0x1*0x8c7+0x2e1*0x1+-0xba8*0x1?0x218*-0x8+0x13aa+0x2ea*-0x1:this['weight']/_0x445025;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x4c19c9){this['_weightedS'+'peed']=_0x4c19c9;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x116839){this['_animTrack']=_0x116839;}get['animTrack'](){return this['_animTrack'];}}class Na extends Uo{constructor(_0x5a057c,_0x4b1045,_0x23f80b,_0x5090ad,_0x566905,_0x42d478,_0x3fd31f,_0x43caf9,_0x1385cc){super(_0x5a057c,_0x4b1045,_0x23f80b,_0x5090ad),this['_parameter'+'s']=_0x566905,this['_parameter'+'Values']=new Array(_0x566905['length']),this['_children']=[],this['_findParam'+'eter']=_0x1385cc,this['_syncAnima'+'tions']=_0x3fd31f!==!(0x114*-0x1d+-0x19a9+0x38ee),this['_pointCach'+'e']={};for(let _0x101211=-0xe8*-0x10+0xdff+-0x1c7f;_0x101211<_0x42d478['length'];_0x101211++){const _0x5d99bd=_0x42d478[_0x101211];_0x5d99bd['children']?this['_children']['push'](_0x43caf9(_0x5d99bd['type'],_0x5a057c,this,_0x5d99bd['name'],-0x1915+0x623+0xb*0x1b9,_0x5d99bd['parameter']?[_0x5d99bd['parameter']]:_0x5d99bd['parameters'],_0x5d99bd['children'],_0x5d99bd['syncAnimat'+'ions'],_0x43caf9,_0x1385cc)):this['_children']['push'](new Uo(_0x5a057c,this,_0x5d99bd['name'],_0x5d99bd['point'],_0x5d99bd['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0xd86b42){for(let _0x42be39=0x26b1+0x67*0x54+-0x7*0xa5b;_0x42be39<this['_children']['length'];_0x42be39++)if(this['_children'][_0x42be39]['name']===_0xd86b42)return this['_children'][_0x42be39];return null;}['updatePara'+'meterValue'+'s'](){let _0x46d0fb=!(0x2441+0x1bfe+-0x403f);for(let _0x57421e=0x11*-0x9d+0x176b+-0x2*0x67f;_0x57421e<this['_parameter'+'Values']['length'];_0x57421e++){const _0x52e237=this['_findParam'+'eter'](this['_parameter'+'s'][_0x57421e])['value'];this['_parameter'+'Values'][_0x57421e]!==_0x52e237&&(this['_parameter'+'Values'][_0x57421e]=_0x52e237,_0x46d0fb=!(0x1098*0x1+-0x1cf*-0xe+-0x29e9));}return _0x46d0fb;}['getNodeWei'+'ghtedDurat'+'ion'](_0x2c489d){return this['_children'][_0x2c489d]['animTrack']['duration']/this['_children'][_0x2c489d]['speedMulti'+'plier']*this['_children'][_0x2c489d]['weight'];}['getNodeCou'+'nt'](){let _0x167621=0x1d7+0x42*-0x3+0x5b*-0x3;for(let _0x2d9a53=-0x39*0x17+0x1c78+-0x1759;_0x2d9a53<this['_children']['length'];_0x2d9a53++)this['_children'][_0x2d9a53]['constructo'+'r']===Na?_0x167621+=this['_children'][_0x2d9a53]['getNodeCou'+'nt']():_0x167621++;return _0x167621;}}class VP extends Na{constructor(_0x4f43b8,_0x18c21c,_0x564083,_0x2ffeac,_0x361ef9,_0xad058c,_0x47d993,_0xfee439,_0xc9d978){_0xad058c['sort']((_0x2b86e6,_0x12bd18)=>_0x2b86e6['point']-_0x12bd18['point']),super(_0x4f43b8,_0x18c21c,_0x564083,_0x2ffeac,_0x361ef9,_0xad058c,_0x47d993,_0xfee439,_0xc9d978);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x160ce9=-0x2348+0x1af8+0x850;this['_children'][0x814*-0x3+-0x1752*0x1+0x1*0x2f8e]['weight']=-0x6*0x4f+-0x1*-0x51d+-0x343;for(let _0x37be45=-0x886+-0xcde+0x1564;_0x37be45<this['_children']['length'];_0x37be45++){const _0x1528cf=this['_children'][_0x37be45];if(_0x37be45!==this['_children']['length']-(-0x2133+-0xffe+-0x6*-0x833)){const _0x56b5ec=this['_children'][_0x37be45+(0x1f2d+-0x2*-0xb51+-0x35ce)];if(_0x1528cf['point']===_0x56b5ec['point'])_0x1528cf['weight']=0xf*0x146+0x24a7+-0x7*0x7f7+0.5,_0x56b5ec['weight']=-0x1171+0x3b*-0x4b+0x22ba+0.5;else{if(N['between'](this['_parameter'+'Values'][-0x5*-0x517+0x1*0xf28+-0x289b*0x1],_0x1528cf['point'],_0x56b5ec['point'],!(0x1*0x568+0x5*0x232+-0x1062))){const _0x1e5763=Math['abs'](_0x1528cf['point']-_0x56b5ec['point']),_0x50b0aa=Math['abs'](_0x1528cf['point']-this['_parameter'+'Values'][-0x1*0x1a83+0x19*0x2d+0x161e]),_0x277655=(_0x1e5763-_0x50b0aa)/_0x1e5763;_0x1528cf['weight']=_0x277655,_0x56b5ec['weight']=-0x1474+0x1eea+-0xa75-_0x277655;}else _0x56b5ec['weight']=0x22*0x95+0x13a2+0x349*-0xc;}}this['_syncAnima'+'tions']&&(_0x160ce9+=_0x1528cf['animTrack']['duration']/_0x1528cf['absoluteSp'+'eed']*_0x1528cf['weight']);}if(this['_syncAnima'+'tions'])for(let _0x529766=-0x13c7*0x1+0x1539+-0x2*0xb9;_0x529766<this['_children']['length'];_0x529766++){const _0x23c65b=this['_children'][_0x529766];_0x23c65b['weightedSp'+'eed']=_0x23c65b['animTrack']['duration']/_0x23c65b['absoluteSp'+'eed']/_0x160ce9;}}}const xi=class xi extends Na{['pointDista'+'nceCache'](_0x3a865b,_0x31b9f1){const _0x448be5=''+_0x3a865b+_0x31b9f1;return this['_pointCach'+'e'][_0x448be5]||(this['_pointCach'+'e'][_0x448be5]=this['_children'][_0x31b9f1]['point']['clone']()['sub'](this['_children'][_0x3a865b]['point'])),this['_pointCach'+'e'][_0x448be5];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x56652c,_0x22b26d;xi['_p']['set'](...this['_parameter'+'Values']),_0x56652c=0x133*0x11+-0x158+-0x130b,_0x22b26d=-0x1106+-0x3b9*0x2+0x1878;for(let _0x1ef6a7=-0x2ca+-0x688+0x4a9*0x2;_0x1ef6a7<this['_children']['length'];_0x1ef6a7++){const _0x2e11c8=this['_children'][_0x1ef6a7],_0x1c0115=_0x2e11c8['point'];xi['_pip']['set'](xi['_p']['x'],xi['_p']['y'])['sub'](_0x1c0115);let _0x18ed2f=Number['MAX_VALUE'];for(let _0xaafc1b=-0x118d*0x1+0x8*-0x161+0x1c95;_0xaafc1b<this['_children']['length'];_0xaafc1b++){if(_0x1ef6a7===_0xaafc1b)continue;const _0xdf910e=this['pointDista'+'nceCache'](_0x1ef6a7,_0xaafc1b),_0x4f3433=N['clamp'](-0x8fd*-0x3+-0x1*-0x1a75+-0x19*0x223-xi['_pip']['dot'](_0xdf910e)/_0xdf910e['lengthSq'](),-0x1*-0x699+-0x1e98+0x17ff,0x73+0x4c1*-0x3+-0x49b*-0x3);_0x4f3433<_0x18ed2f&&(_0x18ed2f=_0x4f3433);}_0x2e11c8['weight']=_0x18ed2f,_0x56652c+=_0x18ed2f,this['_syncAnima'+'tions']&&(_0x22b26d+=_0x2e11c8['animTrack']['duration']/_0x2e11c8['absoluteSp'+'eed']*_0x2e11c8['weight']);}for(let _0x23bb73=-0x9fe+-0x10a1+0x1a9f;_0x23bb73<this['_children']['length'];_0x23bb73++){const _0x32d7aa=this['_children'][_0x23bb73];_0x32d7aa['weight']=_0x32d7aa['_weight']/_0x56652c,this['_syncAnima'+'tions']&&(_0x32d7aa['weightedSp'+'eed']=_0x32d7aa['animTrack']['duration']/_0x32d7aa['absoluteSp'+'eed']/_0x22b26d);}}};c(xi,'_p',new W()),c(xi,'_pip',new W());let ef=xi;const Si=class Si extends Na{['pointCache'](_0x4941d4,_0x25a2f5){const _0x4c24e5=''+_0x4941d4+_0x25a2f5;return this['_pointCach'+'e'][_0x4c24e5]||(this['_pointCach'+'e'][_0x4c24e5]=new W((this['_children'][_0x25a2f5]['pointLengt'+'h']-this['_children'][_0x4941d4]['pointLengt'+'h'])/((this['_children'][_0x25a2f5]['pointLengt'+'h']+this['_children'][_0x4941d4]['pointLengt'+'h'])/(0x2485*-0x1+-0x40f*-0x5+0x1*0x103c)),W['angleRad'](this['_children'][_0x4941d4]['point'],this['_children'][_0x25a2f5]['point'])*(-0x821*-0x2+0x1*0x3af+0x2d9*-0x7))),this['_pointCach'+'e'][_0x4c24e5];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x54e601,_0x59ecb1;Si['_p']['set'](...this['_parameter'+'Values']);const _0x55284f=Si['_p']['length']();_0x54e601=-0x2507+-0x5*0x62f+0x6*0xb53,_0x59ecb1=-0xdbc+-0x1+0xdbd;for(let _0x5292f5=0x25*-0xbf+0x61+0x1b3a;_0x5292f5<this['_children']['length'];_0x5292f5++){const _0x2be826=this['_children'][_0x5292f5],_0x53db00=_0x2be826['point'],_0x12ade2=_0x2be826['pointLengt'+'h'];let _0x3f9983=Number['MAX_VALUE'];for(let _0x4501a3=0x11eb+-0x1e6*0x1+-0x1005;_0x4501a3<this['_children']['length'];_0x4501a3++){if(_0x5292f5===_0x4501a3)continue;const _0x47dce9=this['pointCache'](_0x5292f5,_0x4501a3),_0x32b0e6=this['_children'][_0x4501a3]['pointLengt'+'h'];Si['_pip']['set']((_0x55284f-_0x12ade2)/((_0x32b0e6+_0x12ade2)/(-0x2553+-0x1d96+-0x1cf*-0x25)),W['angleRad'](_0x53db00,Si['_p'])*(-0x21e6*0x1+0x621+0x1bc7));const _0x14224b=N['clamp'](0x1677+-0x8f7+-0xd7f-Math['abs'](Si['_pip']['dot'](_0x47dce9)/_0x47dce9['lengthSq']()),-0x46*0x8+0x1423+-0x11f3,-0xc3f+-0xe1d*0x1+0x1a5d);_0x14224b<_0x3f9983&&(_0x3f9983=_0x14224b);}_0x2be826['weight']=_0x3f9983,_0x54e601+=_0x3f9983,this['_syncAnima'+'tions']&&(_0x59ecb1+=_0x2be826['animTrack']['duration']/_0x2be826['absoluteSp'+'eed']*_0x2be826['weight']);}for(let _0x4c4ea8=-0x83a+-0x11fd+0x1a37;_0x4c4ea8<this['_children']['length'];_0x4c4ea8++){const _0x4ade53=this['_children'][_0x4c4ea8];if(_0x4ade53['weight']=_0x4ade53['_weight']/_0x54e601,this['_syncAnima'+'tions']){const _0x2fac7e=_0x4ade53['animTrack']['duration']/_0x59ecb1*_0x54e601;_0x4ade53['weightedSp'+'eed']=_0x4ade53['absoluteSp'+'eed']*_0x2fac7e;}}}};c(Si,'_p',new W()),c(Si,'_pip',new W());let tf=Si;class GP extends Na{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x55e250=-0x56*-0x63+-0x1c6*0x2+-0x1db6,_0x1069fb=-0x1cb2*-0x1+0x26e8+-0x439a;for(let _0x2a9490=0x1*0xd2c+0xef7+-0x1c23;_0x2a9490<this['_children']['length'];_0x2a9490++)if(_0x55e250+=Math['max'](this['_parameter'+'Values'][_0x2a9490],-0x7e1+0x1*0xbd3+-0x3f2),this['_syncAnima'+'tions']){const _0xf680d1=this['_children'][_0x2a9490];_0x1069fb+=_0xf680d1['animTrack']['duration']/_0xf680d1['absoluteSp'+'eed']*_0xf680d1['weight'];}for(let _0x3b5747=0x5*0x435+-0x5*-0xa4+-0x183d;_0x3b5747<this['_children']['length'];_0x3b5747++){const _0x18c5b8=this['_children'][_0x3b5747],_0xac6b30=Math['max'](this['_parameter'+'Values'][_0x3b5747],0x1171+-0x46b+-0xd06*0x1);_0x55e250?(_0x18c5b8['weight']=_0xac6b30/_0x55e250,this['_syncAnima'+'tions']&&(_0x18c5b8['weightedSp'+'eed']=_0x18c5b8['animTrack']['duration']/_0x18c5b8['absoluteSp'+'eed']/_0x1069fb)):(_0x18c5b8['weight']=-0x35*-0xa2+-0x736*-0x2+0x7*-0x6da,this['_syncAnima'+'tions']&&(_0x18c5b8['weightedSp'+'eed']=-0x12f4*0x1+-0x1*-0x11c2+-0x99*-0x2));}}}class eg{constructor(_0x37d762,_0x2e9bda,_0x57cfa0=-0x255d*0x1+-0x4e1+-0x23*-0x135,_0x5c5a9b=!(0x202d*-0x1+-0x15a0+0x35cd),_0x5e67d7){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x37d762,this['_name']=_0x2e9bda,this['_speed']=_0x57cfa0,this['_loop']=_0x5c5a9b,this['_hasAnimat'+'ions']=!(0x30a+0x930+-0xc39),_0x5e67d7?this['_blendTree']=this['_createTre'+'e'](_0x5e67d7['type'],this,null,_0x2e9bda,-0x1de7*0x1+-0x19c6+0x37ae,_0x5e67d7['parameter']?[_0x5e67d7['parameter']]:_0x5e67d7['parameters'],_0x5e67d7['children'],_0x5e67d7['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x2e9bda,0x1e*0xdf+0x1*0x6e+0xd*-0x20b,_0x57cfa0));}['_createTre'+'e'](_0x55c6fe,_0x4d14bb,_0x45a87d,_0x4ef2c5,_0x31b708,_0x21c06e,_0x40414a,_0x362031,_0x125a9d,_0xb6fb1){switch(_0x55c6fe){case FP:return new VP(_0x4d14bb,_0x45a87d,_0x4ef2c5,_0x31b708,_0x21c06e,_0x40414a,_0x362031,_0x125a9d,_0xb6fb1);case OP:return new ef(_0x4d14bb,_0x45a87d,_0x4ef2c5,_0x31b708,_0x21c06e,_0x40414a,_0x362031,_0x125a9d,_0xb6fb1);case kP:return new tf(_0x4d14bb,_0x45a87d,_0x4ef2c5,_0x31b708,_0x21c06e,_0x40414a,_0x362031,_0x125a9d,_0xb6fb1);case BP:return new GP(_0x4d14bb,_0x45a87d,_0x4ef2c5,_0x31b708,_0x21c06e,_0x40414a,_0x362031,_0x125a9d,_0xb6fb1);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x55c6fe);}['_getNodeFr'+'omPath'](_0x6622b7){let _0x2e9be7=this['_blendTree'];for(let _0x480704=-0x233*0x3+0x385*0x1+0x315;_0x480704<_0x6622b7['length'];_0x480704++)_0x2e9be7=_0x2e9be7['getChild'](_0x6622b7[_0x480704]);return _0x2e9be7;}['addAnimati'+'on'](_0x2b1771,_0x3ecfb7){const _0x1fe94a=_0x2b1771['join']('.'),_0x1514ae=this['_animation'+'List']['findIndex'](_0x2512f3=>_0x2512f3['path']===_0x1fe94a);if(_0x1514ae>=0x1*-0x2106+-0xd5a+0x2e60)this['_animation'+'List'][_0x1514ae]['animTrack']=_0x3ecfb7;else{const _0x2a714b=this['_getNodeFr'+'omPath'](_0x2b1771);_0x2a714b['animTrack']=_0x3ecfb7,this['_animation'+'List']['push'](_0x2a714b);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x22af+-0x1931*0x1+-0x6*0x195&&this['_animation'+'List']['every'](_0x320bf2=>_0x320bf2['animTrack']&&_0x320bf2['animTrack']!==Di['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x22c233){this['_animation'+'List']=_0x22c233,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x2140b4){this['_speed']=_0x2140b4;}get['speed'](){return this['_speed'];}set['loop'](_0x395ff4){this['_loop']=_0x395ff4;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?-0x25fc+0x8*-0x455+0x48a5*0x1:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Yh['indexOf'](this['name'])!==-(-0x1899+0x1bf*-0x9+0x2851*0x1)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x208a+-0x9*0x37+0x1*0x2279){const _0x877901=this['name']+'.'+this['animations'][-0x1*0x200d+0x59d*-0x3+0x30e4]['animTrack']['name'],_0x28042e=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x877901);if(_0x28042e)return _0x28042e['loop'];}return!(0x126+0x89f+-0x9c4);}get['totalWeigh'+'t'](){let _0x1580eb=0x1*-0x14c+-0x110b*-0x1+-0xfbf;for(let _0x3a426f=0x38d*-0x1+0x11*0xa6+-0x779;_0x3a426f<this['animations']['length'];_0x3a426f++)_0x1580eb+=this['animations'][_0x3a426f]['weight'];return _0x1580eb;}get['timelineDu'+'ration'](){let _0x997048=-0x1*-0x20ef+-0x2*0x4bd+-0x1775;for(let _0xc98fce=-0x74+0xaa1+-0xa2d;_0xc98fce<this['animations']['length'];_0xc98fce++){const _0x41423c=this['animations'][_0xc98fce];_0x41423c['animTrack']['duration']>_0x997048&&(_0x997048=_0x41423c['animTrack']['duration']);}return _0x997048;}}class Kh{constructor({from:_0x158067,to:_0x3a5b61,time:_0x547deb=-0x1bc7+-0x1fa2*-0x1+0x1*-0x3db,priority:_0x6f603c=-0x1*-0x22b7+0x1f96+-0x424d,conditions:_0x489928=[],exitTime:_0x22c4e8=null,transitionOffset:_0x2ead05=null,interruptionSource:_0x5ae54a=q0}){this['_from']=_0x158067,this['_to']=_0x3a5b61,this['_time']=_0x547deb,this['_priority']=_0x6f603c,this['_condition'+'s']=_0x489928,this['_exitTime']=_0x22c4e8,this['_transitio'+'nOffset']=_0x2ead05,this['_interrupt'+'ionSource']=_0x5ae54a;}get['from'](){return this['_from'];}set['to'](_0x372555){this['_to']=_0x372555;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x253dd6,_0x6e6cd8,_0x20c10e,_0x30fde8,_0x345920,_0x14693c,_0x4d7878){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x12a4+0xd94+-0x18*-0x36),c(this,'_activeSta'+'teDuration'+'Dirty',!(0x20ad+-0x13d5*-0x1+0xd*-0x40a)),c(this,'_playing',!(-0x21dc+-0x6*-0x487+0x6b3)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0xd*-0xd3+0x8af+0x1*0x209),c(this,'_totalTran'+'sitionTime',0x1ed*-0x1+0x1715+-0x1527),c(this,'_isTransit'+'ioning',!(0x1*-0x1876+-0x13*-0x1f9+-0xd04)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0xfcb+0x14f2+0x37*-0xab),c(this,'_timeInSta'+'teBefore',0x1*0x621+-0xd73+0x752),c(this,'findParame'+'ter',_0x50988f=>this['_findParam'+'eter'](_0x50988f)),(this['_animEvalu'+'ator']=_0x253dd6,this['_eventHand'+'ler']=_0x345920,this['_findParam'+'eter']=_0x14693c,this['_consumeTr'+'igger']=_0x4d7878);for(let _0x5604f2=-0x2*-0x7f+0x1*-0x3a4+0x2a6*0x1;_0x5604f2<_0x6e6cd8['length'];_0x5604f2++)this['_states'][_0x6e6cd8[_0x5604f2]['name']]=new eg(this,_0x6e6cd8[_0x5604f2]['name'],_0x6e6cd8[_0x5604f2]['speed'],_0x6e6cd8[_0x5604f2]['loop'],_0x6e6cd8[_0x5604f2]['blendTree']),this['_stateName'+'s']['push'](_0x6e6cd8[_0x5604f2]['name']);this['_transitio'+'ns']=_0x20c10e['map'](_0xb557f4=>new Kh({..._0xb557f4})),this['_activate']=_0x30fde8;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x175b7d){this['_activeSta'+'teName']=_0x175b7d;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x4a9e38){this['_previousS'+'tateName']=_0x4a9e38;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x74c477=!(-0x1d2a+0xab*-0x6+0x212c);for(let _0x47232c=-0x5*0x72d+0x909+0x8*0x35b;_0x47232c<this['_stateName'+'s']['length'];_0x47232c++)this['_states'][this['_stateName'+'s'][_0x47232c]]['playable']||(_0x74c477=!(0x1b56+0x2390+0x1*-0x3ee5));return _0x74c477;}set['playing'](_0x504c79){this['_playing']=_0x504c79;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x517440=0x2568+0xedf*-0x1+-0x783*0x3;for(let _0x829b2=0x24bc*0x1+0x1c57+-0x4113;_0x829b2<this['activeStat'+'eAnimation'+'s']['length'];_0x829b2++){const _0x3a318b=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x829b2]['name']);_0x3a318b&&(_0x517440=Math['max'](_0x517440,_0x3a318b['track']['duration']));}this['_activeSta'+'teDuration']=_0x517440,this['_activeSta'+'teDuration'+'Dirty']=!(-0x2*-0x1082+0x3eb+-0x24ee);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x2c5181){this['_timeInSta'+'teBefore']=_0x2c5181,this['_timeInSta'+'te']=_0x2c5181;for(let _0x70cd8a=-0x26e8+-0x16dc+0x43*0xec;_0x70cd8a<this['activeStat'+'eAnimation'+'s']['length'];_0x70cd8a++){const _0x409bac=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x70cd8a]['name']);_0x409bac&&(_0x409bac['time']=_0x2c5181);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x2864ce){return this['_animEvalu'+'ator']['assignMask'](_0x2864ce);}['_findState'](_0x29bcd2){return this['_states'][_0x29bcd2];}['_getActive'+'StateProgr'+'essForTime'](_0x15df99){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Zu||this['activeStat'+'eName']===kr)return 0x99*-0x29+0x2605*0x1+-0xd83*0x1;const _0x556e36=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x26e6+-0x11b7+-0x152f]['name']);return _0x556e36?_0x556e36['progressFo'+'rTime'](_0x15df99):null;}['_findTrans'+'itionsFrom'+'State'](_0x51c1c8){let _0x56d084=this['_findTrans'+'itionsFrom'+'StateCache'][_0x51c1c8];return _0x56d084||(_0x56d084=this['_transitio'+'ns']['filter'](_0x101cd1=>_0x101cd1['from']===_0x51c1c8),No(_0x56d084),this['_findTrans'+'itionsFrom'+'StateCache'][_0x51c1c8]=_0x56d084),_0x56d084;}['_findTrans'+'itionsBetw'+'eenStates'](_0x1bd1ce,_0xd7d36){let _0x110838=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1bd1ce+'->'+_0xd7d36];return _0x110838||(_0x110838=this['_transitio'+'ns']['filter'](_0x100c0f=>_0x100c0f['from']===_0x1bd1ce&&_0x100c0f['to']===_0xd7d36),No(_0x110838),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1bd1ce+'->'+_0xd7d36]=_0x110838),_0x110838;}['_transitio'+'nHasCondit'+'ionsMet'](_0x5cd242){const _0x582e5a=_0x5cd242['conditions'];for(let _0x26458c=0x487+-0x1ccd*0x1+0x1846;_0x26458c<_0x582e5a['length'];_0x26458c++){const _0x456406=_0x582e5a[_0x26458c],_0x1052e7=this['_findParam'+'eter'](_0x456406['parameterN'+'ame']);switch(_0x456406['predicate']){case MP:if(!(_0x1052e7['value']>_0x456406['value']))return!(0x1*-0x225a+0x648+0x1c13);break;case PP:if(!(_0x1052e7['value']<_0x456406['value']))return!(0x1*-0x192b+-0x66*0x59+0x3ca2);break;case RP:if(!(_0x1052e7['value']>=_0x456406['value']))return!(-0x2a5*-0x3+0x1be3+-0x23d1);break;case IP:if(!(_0x1052e7['value']<=_0x456406['value']))return!(0xd9d+-0x32*0x7b+0xa6a);break;case DP:if(_0x1052e7['value']!==_0x456406['value'])return!(0x694+0xe1a+-0x14ad);break;case LP:if(_0x1052e7['value']===_0x456406['value'])return!(-0x1a7a+-0x1881+-0x1*-0x32fc);break;}}return!(0x2*-0x542+0x1808+0x6c2*-0x2);}['_findTrans'+'ition'](_0x1b7849,_0x335d3a){let _0x521a9c=[];if(_0x1b7849&&_0x335d3a)_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x1b7849,_0x335d3a));else{if(!this['_isTransit'+'ioning'])_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](kr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](kr));break;case AP:_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](kr));break;case CP:_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](kr));break;case EP:_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x521a9c=_0x521a9c['concat'](this['_findTrans'+'itionsFrom'+'State'](kr));break;}}if(_0x521a9c=_0x521a9c['filter'](_0x445a91=>{if(_0x445a91['to']===this['activeStat'+'eName'])return!(-0x29*-0xa3+-0x379+-0x16a1);if(_0x445a91['hasExitTim'+'e']){let _0x4ccaaa=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x52ca6a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x445a91['exitTime']<0x1*-0xec+-0x2372+0x1*0x245f&&this['activeStat'+'e']['loop']&&(_0x4ccaaa-=Math['floor'](_0x4ccaaa),_0x52ca6a-=Math['floor'](_0x52ca6a)),_0x52ca6a===_0x4ccaaa){if(_0x52ca6a!==_0x445a91['exitTime'])return null;}else{if(!(_0x445a91['exitTime']>_0x4ccaaa&&_0x445a91['exitTime']<=_0x52ca6a))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x445a91);}),_0x521a9c['length']>-0x169c+0x123b+-0x461*-0x1){const _0x37cdd5=_0x521a9c[-0x1101+0x179f+0xe*-0x79];if(_0x37cdd5['to']===Zu){const _0x30b1c4=this['_findTrans'+'itionsFrom'+'State'](oo)[-0x503*0x1+0x2579+-0x2076];_0x37cdd5['to']=_0x30b1c4['to'];}return _0x37cdd5;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x409400){let _0xb10d4a,_0x3d7f9c,_0x3f6931;this['previousSt'+'ate']=_0x409400['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x409400['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x17*0xc7+0x29f+-0x1480*0x1);for(let _0x155c64=0x14f3+-0x1*0x1933+0x440;_0x155c64<_0x409400['conditions']['length'];_0x155c64++){const _0x4527fc=_0x409400['conditions'][_0x155c64];this['_findParam'+'eter'](_0x4527fc['parameterN'+'ame'])['type']===mh&&this['_consumeTr'+'igger'](_0x4527fc['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x145b87=Math['min'](this['_totalTran'+'sitionTime']!==-0x915+-0x32d*0x8+0x227d?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1d53+0x1cc7+-0x3a19,-0x1c6*-0x1+0x203d+0x5ab*-0x6);for(let _0x50c081=-0xc06+0x1866+-0xc60;_0x50c081<this['_transitio'+'nPreviousS'+'tates']['length'];_0x50c081++){this['_isTransit'+'ioning']?_0x50c081!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x320+0x43a*0x9+-0x101*0x29)?this['_transitio'+'nPreviousS'+'tates'][_0x50c081]['weight']*=0x2a6+0x1eca+-0x216f-_0x145b87:this['_transitio'+'nPreviousS'+'tates'][_0x50c081]['weight']=_0x145b87:this['_transitio'+'nPreviousS'+'tates'][_0x50c081]['weight']=-0x23d7+-0x391*-0x5+0x1203,_0xb10d4a=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x50c081]['name']);for(let _0xcd1ec0=-0x10d6+-0x13bd+0x2493;_0xcd1ec0<_0xb10d4a['animations']['length'];_0xcd1ec0++)_0x3d7f9c=_0xb10d4a['animations'][_0xcd1ec0],_0x3f6931=this['_animEvalu'+'ator']['findClip'](_0x3d7f9c['name']+'.previous.'+_0x50c081),_0x3f6931||(_0x3f6931=this['_animEvalu'+'ator']['findClip'](_0x3d7f9c['name']),_0x3f6931['name']=_0x3d7f9c['name']+'.previous.'+_0x50c081),_0x50c081!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x9*-0x3f+0x2341+-0x2109*0x1)&&_0x3f6931['pause']();}}this['_isTransit'+'ioning']=!(-0x90e+0x771+0x1*0x19d),this['_totalTran'+'sitionTime']=_0x409400['time'],this['_currTrans'+'itionTime']=-0xc79+0x31*-0xc1+0x316a,this['_transitio'+'nInterrupt'+'ionSource']=_0x409400['interrupti'+'onSource'];const _0x4200ac=this['activeStat'+'e'],_0x57c740=_0x409400['transition'+'Offset']&&_0x409400['transition'+'Offset']>0x2021+0x10bc+-0x30dd&&_0x409400['transition'+'Offset']<0x1*-0x1220+0xeac+0x375;let _0x3b790f=-0xe*-0x2c2+0x19f1+-0x19*0x295,_0x11b699=0x509*-0x3+-0xd56*-0x2+-0x15*0x8d;if(_0x57c740){const _0x1ece97=_0x4200ac['timelineDu'+'ration']*_0x409400['transition'+'Offset'];_0x3b790f=_0x1ece97,_0x11b699=_0x1ece97;}this['_timeInSta'+'te']=_0x3b790f,this['_timeInSta'+'teBefore']=_0x11b699;for(let _0x21fe93=0x2c2*-0x1+0x1*-0x21b3+0x2475;_0x21fe93<_0x4200ac['animations']['length'];_0x21fe93++){if(_0x3f6931=this['_animEvalu'+'ator']['findClip'](_0x4200ac['animations'][_0x21fe93]['name']),_0x3f6931)_0x3f6931['reset']();else{const _0x2e90c0=Number['isFinite'](_0x4200ac['animations'][_0x21fe93]['speed'])?_0x4200ac['animations'][_0x21fe93]['speed']:_0x4200ac['speed'];_0x3f6931=new jh(_0x4200ac['animations'][_0x21fe93]['animTrack'],this['_timeInSta'+'te'],_0x2e90c0,!(0x1fda+-0x2531*-0x1+0x23*-0x1f9),_0x4200ac['loop'],this['_eventHand'+'ler']),_0x3f6931['name']=_0x4200ac['animations'][_0x21fe93]['name'],this['_animEvalu'+'ator']['addClip'](_0x3f6931);}if(_0x409400['time']>0x1173+-0xf5*0x1+0x2*-0x83f?_0x3f6931['blendWeigh'+'t']=0x1*-0x10cb+-0x3*0x977+0x2d30:_0x3f6931['blendWeigh'+'t']=_0x4200ac['animations'][_0x21fe93]['normalized'+'Weight'],_0x3f6931['play'](),_0x57c740)_0x3f6931['time']=_0x4200ac['timelineDu'+'ration']*_0x409400['transition'+'Offset'];else{const _0x327d08=_0x4200ac['speed']>=0xbcf+0x15c5+-0x2194?-0x25*-0x2+0x225+0x26f*-0x1:this['activeStat'+'eDuration'];_0x3f6931['time']=_0x327d08;}}}['_transitio'+'nToState'](_0x5cee2a){if(!this['_findState'](_0x5cee2a))return;let _0xd1762d=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x5cee2a);_0xd1762d||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0xd1762d=new Kh({'from':null,'to':_0x5cee2a})),this['updateStat'+'eFromTrans'+'ition'](_0xd1762d);}['assignAnim'+'ation'](_0x14e710,_0x2f6441,_0x4e5e48,_0x219e28){const _0x441261=_0x14e710['split']('.');let _0x2ec7de=this['_findState'](_0x441261[0xa1*0x39+-0x2456+0x5*0x19]);_0x2ec7de||(_0x2ec7de=new eg(this,_0x441261[0x1a32+0x2088+0x1d5d*-0x2],_0x4e5e48),this['_states'][_0x441261[-0x3ca*-0x7+0x1951+-0x33d7]]=_0x2ec7de,this['_stateName'+'s']['push'](_0x441261[-0x583+0x624*0x2+-0x6c5*0x1])),_0x2ec7de['addAnimati'+'on'](_0x441261,_0x2f6441),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x2ec7de['name'],_0x2f6441),_0x4e5e48!==void(-0x266*-0x1+-0x1*0x215c+0x1ef6)&&(_0x2ec7de['speed']=_0x4e5e48),_0x219e28!==void(-0x1b34+0x3*-0xce3+0x41dd)&&(_0x2ec7de['loop']=_0x219e28),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x3*-0x749+0x131a*0x2+-0x1059);}['removeNode'+'Animations'](_0x5a4e0e){if(Yh['indexOf'](_0x5a4e0e)!==-(0x20ba+-0x3*0x286+-0x1927))return!(-0x9e2+-0xc*-0x158+0x1*-0x63d);const _0x50163a=this['_findState'](_0x5a4e0e);return _0x50163a?(_0x50163a['animations']=[],!(-0x258a+0x41c*0x1+-0x10b7*-0x2)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x5a4e0e),!(0x4eb*0x5+-0x19d1*-0x1+0x2f7*-0x11));}['play'](_0x32662c){_0x32662c&&this['_transitio'+'nToState'](_0x32662c),this['_playing']=!(-0x258a+0x24ef+0x9b);}['pause'](){this['_playing']=!(0x156b*-0x1+0x1a6d+0xb7*-0x7);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0x13d*-0xd+0x6*0x1d+0xf6c),this['_currTrans'+'itionTime']=-0x1d32+0x6d*-0x1+-0x278*-0xc,this['_totalTran'+'sitionTime']=-0x3*-0xb09+-0x1e13+0x307*-0x1,this['_isTransit'+'ioning']=!(-0x1*-0x1da2+0x659*-0x1+-0x1748),this['_timeInSta'+'te']=-0x7*0x559+-0x2*-0x9c2+0x5f9*0x3,this['_timeInSta'+'teBefore']=0x2*0xfa7+0x1050+-0x2f9e,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x48359a){if(!this['_playing'])return;let _0x1ce03a,_0x6e680e,_0xe2d7bc;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x48359a*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x48359a=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x315511=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x315511&&this['updateStat'+'eFromTrans'+'ition'](_0x315511),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x48359a,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x36fb35=this['_totalTran'+'sitionTime']!==-0x8e5+-0x9a2+0x3*0x62d?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x24b*0x11+-0x1*-0x13a3+0xbb9*-0x5;for(let _0x1d5a59=0xb3d+0x1e87+0x252*-0x12;_0x1d5a59<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1d5a59++){_0x1ce03a=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1d5a59]['name']);const _0xaec930=this['_transitio'+'nPreviousS'+'tates'][_0x1d5a59]['weight'];for(let _0x5351a3=0x1*0x403+-0x1932+0x1d*0xbb;_0x5351a3<_0x1ce03a['animations']['length'];_0x5351a3++)_0x6e680e=_0x1ce03a['animations'][_0x5351a3],_0xe2d7bc=this['_animEvalu'+'ator']['findClip'](_0x6e680e['name']+'.previous.'+_0x1d5a59),_0xe2d7bc&&(_0xe2d7bc['blendWeigh'+'t']=(0x5d*0x3a+-0x3b*0x7f+0x834-_0x36fb35)*_0x6e680e['normalized'+'Weight']*_0xaec930);}_0x1ce03a=this['activeStat'+'e'];for(let _0x3e6792=0x1*-0x881+-0x1*-0x1177+0x8f6*-0x1;_0x3e6792<_0x1ce03a['animations']['length'];_0x3e6792++)_0x6e680e=_0x1ce03a['animations'][_0x3e6792],this['_animEvalu'+'ator']['findClip'](_0x6e680e['name'])['blendWeigh'+'t']=_0x36fb35*_0x6e680e['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x8b7+-0x9f3*0x1+-0x13d*-0x1);const _0x170c9b=this['activeStat'+'eAnimation'+'s']['length'],_0x4f6768=this['_animEvalu'+'ator']['clips']['length'];for(let _0x5c4f11=0x139b+0x2*-0x362+-0xcd7;_0x5c4f11<_0x4f6768-_0x170c9b;_0x5c4f11++)this['_animEvalu'+'ator']['removeClip'](0x23ce+0x25df+0x188f*-0x3);this['_transitio'+'nPreviousS'+'tates']=[],_0x1ce03a=this['activeStat'+'e'];for(let _0x28d434=0x38*0x74+0x2571+-0x4d5*0xd;_0x28d434<_0x1ce03a['animations']['length'];_0x28d434++)_0x6e680e=_0x1ce03a['animations'][_0x28d434],_0xe2d7bc=this['_animEvalu'+'ator']['findClip'](_0x6e680e['name']),_0xe2d7bc&&(_0xe2d7bc['blendWeigh'+'t']=_0x6e680e['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x1ce03a=this['activeStat'+'e'];for(let _0x1d6eaf=0x1630*-0x1+-0x1*-0x1f46+-0x916;_0x1d6eaf<_0x1ce03a['animations']['length'];_0x1d6eaf++)_0x6e680e=_0x1ce03a['animations'][_0x1d6eaf],_0xe2d7bc=this['_animEvalu'+'ator']['findClip'](_0x6e680e['name']),_0xe2d7bc&&(_0xe2d7bc['blendWeigh'+'t']=_0x6e680e['normalized'+'Weight'],_0x6e680e['parent']['syncAnimat'+'ions']&&(_0xe2d7bc['speed']=_0x6e680e['speed']));}}this['_animEvalu'+'ator']['update'](_0x48359a,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Kd=new W(),Xl=new T(),Ja=new Q(),eo=new Y(),to=new te();class gi extends er{constructor(_0x2b1aa1,_0x209b8f,_0x149f00,_0x56734e,_0x417a74){super(_0x209b8f),this['animCompon'+'ent']=_0x2b1aa1,this['_mask']=_0x56734e,this['layerName']=_0x149f00,this['layerIndex']=_0x417a74;}static['_packFloat'](_0x278cf2){return _0x278cf2[-0x252d+0x2*0x69c+0x17f5];}static['_packBoole'+'an'](_0x274ae5){return!!_0x274ae5[0x82*0x12+0x3f*-0xd+0x1*-0x5f1];}static['_packVec2'](_0x2fea80){return Kd['x']=_0x2fea80[-0x11c3*0x1+-0xb2*-0x11+0x5f1],Kd['y']=_0x2fea80[-0x37e*0x4+0x2d*-0x3d+0x18b2],Kd;}static['_packVec3'](_0x5e0012){return Xl['x']=_0x5e0012[0x2*-0x7b+0x28*0x6e+-0x103a],Xl['y']=_0x5e0012[-0x24e2+-0x2207+0x46ea],Xl['z']=_0x5e0012[0x1c*-0x116+0x6ce*0x5+-0x39c],Xl;}static['_packVec4'](_0x140aaa){return Ja['x']=_0x140aaa[0x24b6+0x1106+-0x35bc],Ja['y']=_0x140aaa[-0x948*0x3+0x301*0x1+0x18d8],Ja['z']=_0x140aaa[-0xa31*-0x2+-0x211*-0x2+0xc41*-0x2],Ja['w']=_0x140aaa[-0x227+-0x560+0x182*0x5],Ja;}static['_packColor'](_0x35561a){return eo['r']=_0x35561a[-0x16e*0x4+0x1455*0x1+0x2b*-0x57],eo['g']=_0x35561a[0x1*-0x2303+0x1*0x1354+-0x1*-0xfb0],eo['b']=_0x35561a[-0x1*0xded+-0x2214+0x2d3*0x11],eo['a']=_0x35561a[-0x14b1+0x169*0xf+-0x73],eo;}static['_packQuat'](_0xcef16a){return to['x']=_0xcef16a[-0x556+-0x4cd+0xa23],to['y']=_0xcef16a[0x146b*-0x1+-0x90a*-0x2+0x12c*0x2],to['z']=_0xcef16a[0x117a*0x2+0xd9a+-0x308c],to['w']=_0xcef16a[-0x88f*-0x4+0x1319*0x1+-0x1c7*0x1e],to;}['resolve'](_0x26dcad){const _0xe541ed=qr['encode'](_0x26dcad['entityPath'],_0x26dcad['component'],_0x26dcad['propertyPa'+'th']);let _0xa3a1cf=this['targetCach'+'e'][_0xe541ed];if(_0xa3a1cf)return _0xa3a1cf;let _0x51d4cd,_0x5843bf,_0x2f9de5;switch(_0x26dcad['component']){case'entity':_0x51d4cd=this['_getEntity'+'FromHierar'+'chy'](_0x26dcad['entityPath']),_0x2f9de5=qr['encode'](_0x51d4cd['path'],'entity',_0x26dcad['propertyPa'+'th']),_0x5843bf=_0x51d4cd;break;case'graph':if(_0x5843bf=this['findNode'](_0x26dcad),!_0x5843bf)return null;_0x2f9de5=qr['encode'](_0x5843bf['path'],'graph',_0x26dcad['propertyPa'+'th']);break;default:if(_0x51d4cd=this['_getEntity'+'FromHierar'+'chy'](_0x26dcad['entityPath']),_0x5843bf=_0x51d4cd['findCompon'+'ent'](_0x26dcad['component']),!_0x5843bf)return null;_0x2f9de5=qr['encode'](_0x51d4cd['path'],_0x26dcad['component'],_0x26dcad['propertyPa'+'th']);break;}return _0xa3a1cf=this['_createAni'+'mTargetFor'+'Property'](_0x5843bf,_0x26dcad['propertyPa'+'th'],_0x2f9de5),this['targetCach'+'e'][_0xe541ed]=_0xa3a1cf,_0xa3a1cf;}['update'](_0x30feca){const _0x589f0c=this['activeNode'+'s'];if(_0x589f0c){for(let _0x55174c=-0xcbc+-0x2*0x6fa+0x7*0x3d0;_0x55174c<_0x589f0c['length'];_0x55174c++)_0x589f0c[_0x55174c]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x475bdc){if(!this['animCompon'+'ent']['entity']['name']===_0x475bdc[0x1f*0x10b+0x2077+-0xb*0x5e4])return null;const _0x4407bf=this['animCompon'+'ent']['entity'];return _0x475bdc['length']===-0x3c*0x76+0xa6f+0x113a?_0x4407bf:_0x4407bf['_parent']['findByPath'](_0x475bdc);}['_resolvePa'+'th'](_0x2999d7,_0x94055e,_0x4dcfa5){const _0x226969=_0x94055e['length']-(_0x4dcfa5?0x64*0x53+0x1d73+0x3ddf*-0x1:-0x99f*0x3+-0x1a05*0x1+-0x1*-0x36e3);for(let _0x39a0ca=-0x3c1*0x6+-0x1*0x883+0x1f09;_0x39a0ca<_0x226969;_0x39a0ca++)_0x2999d7=_0x2999d7[_0x94055e[_0x39a0ca]];return _0x2999d7;}['_setter'](_0x799129,_0x4bf01d,_0x309fdb){const _0x38b13c=this['_resolvePa'+'th'](_0x799129,_0x4bf01d),_0x3cfe1b=_0x4bf01d[_0x4bf01d['length']-(0x3*0x40e+0x451+0x72*-0x25)],_0x16a052='set'+_0x3cfe1b['substring'](0x14c0+0x1070+0x154*-0x1c,0x49*0x6e+-0x5de+-0x197f)['toUpperCas'+'e']()+_0x3cfe1b['substring'](0x3*-0xb41+0x130*-0x7+0x2a14);if(_0x38b13c[_0x16a052]){let _0x4ca150=_0x38b13c['get'+_0x3cfe1b['substring'](-0x1*0x2045+0x1bdf*-0x1+0x3c24,0x77*-0x43+-0x1*-0x353+0x1a3*0x11)['toUpperCas'+'e']()+_0x3cfe1b['substring'](0x6b7*0x3+-0x1*0x159d+0x179*0x1)]['bind'](_0x38b13c)();_0x4ca150=[_0x4ca150['x'],_0x4ca150['y'],_0x4ca150['z'],_0x4ca150['w']];const _0x2096df=_0x38b13c[_0x16a052]['bind'](_0x38b13c);return{'set':_0x20becf=>{_0x2096df(_0x309fdb(_0x20becf));},'get':()=>_0x4ca150};}const _0x553e2e=_0x38b13c[_0x3cfe1b];if(typeof _0x553e2e=='object'&&_0x553e2e['hasOwnProp'+'erty']('copy'))return function(_0x1408c1){_0x553e2e['copy'](_0x309fdb(_0x1408c1));};if([W,T,Q,Y,te]['indexOf'](_0x38b13c['constructo'+'r'])!==-(-0x1*-0x1b7d+-0x1*-0xe43+-0x29bf)&&_0x4bf01d['length']>-0x2131*0x1+-0x14f9+0x362b){const _0xa31b20=_0x4bf01d['length']>-0x1*0xc1d+-0x2162+0xf2b*0x3?this['_resolvePa'+'th'](_0x799129,_0x4bf01d['slice'](0x756+0x12b2+-0x1a08,-(-0x151+-0x89*-0xf+-0x6b5))):_0x799129,_0x46fd8b=_0x4bf01d[_0x4bf01d['length']-(-0x1793+0x1*0x200b+-0x72*0x13)];return function(_0x57994e){_0x38b13c[_0x3cfe1b]=_0x309fdb(_0x57994e),_0xa31b20[_0x46fd8b]=_0x38b13c;};}return function(_0x570b1d){_0x38b13c[_0x3cfe1b]=_0x309fdb(_0x570b1d);};}['_createAni'+'mTargetFor'+'Property'](_0x499d69,_0x553db2,_0x11c90d){if(this['handlers']&&_0x553db2[0x1b6b+-0x1e2*0xd+-0x2f1]['startsWith']('weight.'))return this['handlers']['weight'](_0x499d69,_0x553db2[-0xad5*0x1+-0x68e+0x1163*0x1]['replace']('weight.',''));if(this['handlers']&&_0x553db2[0x1*-0x95b+0x7a2+0x1b9]==='material'&&_0x553db2['length']===-0x2*0x8d3+0xfad+0x1*0x1fb){const _0x3d06d2=_0x553db2[-0x101d+0x1*-0x18bc+-0x12*-0x245];if(_0x3d06d2['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x499d69,_0x3d06d2);}const _0x5d6d98=this['_resolvePa'+'th'](_0x499d69,_0x553db2,!(0x20bb*0x1+-0x2b*0x65+-0xfc4));if(typeof _0x5d6d98>'u')return null;let _0x5833e6,_0x134c78,_0x573ade;if(typeof _0x5d6d98=='number')_0x5833e6=this['_setter'](_0x499d69,_0x553db2,gi['_packFloat']),_0x134c78='vector',_0x573ade=0x2*-0x43e+-0x1a8f*0x1+-0x8c3*-0x4;else{if(typeof _0x5d6d98=='boolean')_0x5833e6=this['_setter'](_0x499d69,_0x553db2,gi['_packBoole'+'an']),_0x134c78='vector',_0x573ade=0x1f6+0x2e+-0x223*0x1;else{if(typeof _0x5d6d98=='object')switch(_0x5d6d98['constructo'+'r']){case W:_0x5833e6=this['_setter'](_0x499d69,_0x553db2,gi['_packVec2']),_0x134c78='vector',_0x573ade=-0x12ec*0x1+-0x1*0x1259+0x1*0x2547;break;case T:_0x5833e6=this['_setter'](_0x499d69,_0x553db2,gi['_packVec3']),_0x134c78='vector',_0x573ade=-0x1a4a+-0x726+0x2173;break;case Q:_0x5833e6=this['_setter'](_0x499d69,_0x553db2,gi['_packVec4']),_0x134c78='vector',_0x573ade=-0x43f*-0x1+-0x1292*-0x1+0x16cd*-0x1;break;case Y:_0x5833e6=this['_setter'](_0x499d69,_0x553db2,gi['_packColor']),_0x134c78='vector',_0x573ade=-0x2*0xcd7+-0x1457+-0x5*-0x935;break;case te:_0x5833e6=this['_setter'](_0x499d69,_0x553db2,gi['_packQuat']),_0x134c78='quaternion',_0x573ade=-0x1b*0x1a+0x123b+-0xf79;break;default:return null;}}}return _0x553db2['indexOf']('material')!==-(-0x20e9+0x1*0xa7f+0x779*0x3)?new Qu(_0x3f59be=>{_0x5833e6(_0x3f59be),_0x499d69['material']['update']();},_0x134c78,_0x573ade,_0x11c90d):new Qu(_0x5833e6,_0x134c78,_0x573ade,_0x11c90d);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x31b5d3={},_0x56855e=function(_0x240868){_0x31b5d3[_0x240868['name']]=_0x240868;for(let _0x1ae111=0xd27+-0x16a3+-0x1*-0x97c;_0x1ae111<_0x240868['children']['length'];++_0x1ae111)_0x56855e(_0x240868['children'][_0x1ae111]);};_0x56855e(this['graph']),this['nodes']=_0x31b5d3;}}class WP{constructor(_0x37c726,_0x4a4dca,_0x4e0293,_0x45a2bd=0x1*-0x13b2+0x2430+-0x107d,_0xfdbe90=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0xdd*-0x11+-0x1888*-0x1+-0x9db*0x1),c(this,'_blendTime'+'Elapsed',0x1e0f+0x26d3+-0x44e2),c(this,'_startingW'+'eight',-0x4e5*0x4+0x34a*-0x4+0xa*0x346),c(this,'_targetWei'+'ght',0xa71+0x3*-0xcbd+0x1bc6),(this['_name']=_0x37c726,this['_controlle'+'r']=_0x4a4dca,this['_component']=_0x4e0293,this['_weight']=_0x45a2bd,this['_blendType']=_0xfdbe90);}get['name'](){return this['_name'];}set['playing'](_0x442d10){this['_controlle'+'r']['playing']=_0x442d10;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x43c496){const _0x2dbbe6=this['_controlle'+'r'],_0x205e81=_0x2dbbe6['playing'];_0x2dbbe6['playing']=!(-0xdbf+0x11d+-0x21*-0x62),_0x2dbbe6['activeStat'+'eCurrentTi'+'me']=_0x43c496,_0x205e81||_0x2dbbe6['update'](-0x2d5+-0x2d1+0x5a6),_0x2dbbe6['playing']=_0x205e81;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x3888e7){this['_weight']=_0x3888e7,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x56bbf2){_0x56bbf2!==this['_blendType']&&(this['_blendType']=_0x56bbf2,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x6977b7){this['_controlle'+'r']['assignMask'](_0x6977b7)&&this['_component']['rebind'](),this['_mask']=_0x6977b7;}get['mask'](){return this['_mask'];}['play'](_0x2acc4c){this['_controlle'+'r']['play'](_0x2acc4c);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x330796){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x330796):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x6c3+-0x15*-0x171+0x1*-0x1782,this['_blendTime'+'Elapsed']=0x896+0x7*0x18d+-0x229*0x9,this['_startingW'+'eight']=-0x26fe+-0x2063+0x4761,this['_targetWei'+'ght']=-0x1a27+0x182a+0x1fd*0x1)),this['_controlle'+'r']['update'](_0x330796);}['blendToWei'+'ght'](_0x1e79af,_0x5f5b8f){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x1e79af,this['_blendTime']=Math['max'](-0x1*-0x1b8e+-0x10b*-0x2+0x2*-0xed2,_0x5f5b8f),this['_blendTime'+'Elapsed']=-0x1f51+0x889+0x16c8;}['assignAnim'+'ation'](_0x14c613,_0x194fc1,_0x5d3d2,_0x24622b){if(!(_0x194fc1 instanceof Di)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x14c613,_0x194fc1,_0x5d3d2,_0x24622b),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x21*-0x121+-0x2502+-0x3f&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Kh({'from':'START','to':_0x14c613})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x1ac3+-0x17*0x14e+0x33f*0x1));}['removeNode'+'Animations'](_0x8a1ebd){this['_controlle'+'r']['removeNode'+'Animations'](_0x8a1ebd)&&(this['_component']['playing']=!(-0x1dcd+0x16b9+0x715));}['getAnimati'+'onAsset'](_0xf96d43){return this['_component']['animationA'+'ssets'][this['name']+':'+_0xf96d43];}['transition'](_0x4dc25f,_0x136c08=0x270*-0x4+-0x1e44+0x2804,_0x4785bd=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Kh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x4dc25f,'time':_0x136c08,'transitionOffset':_0x4785bd}));}}class _h{constructor(_0x5420a2){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x5420a2['layers']))this['_layers']=_0x5420a2['layers'];else for(const _0x3f9332 in _0x5420a2['layers']){const _0x45bbbe=_0x5420a2['layers'][_0x3f9332],_0x4c24db={'name':_0x45bbbe['name'],'blendType':_0x45bbbe['blendType'],'weight':_0x45bbbe['weight'],'states':[],'transitions':[]};for(let _0x7a74b0=0x3*0xa82+-0x7e1+-0x17a5;_0x7a74b0<_0x45bbbe['states']['length'];_0x7a74b0++)_0x4c24db['states']['push'](_0x5420a2['states'][_0x45bbbe['states'][_0x7a74b0]]);for(let _0x124353=0x5f7*-0x5+-0xa06+-0x65*-0x65;_0x124353<_0x45bbbe['transition'+'s']['length'];_0x124353++){const _0x2dc530=_0x5420a2['transition'+'s'][_0x45bbbe['transition'+'s'][_0x124353]];if(_0x2dc530['conditions']&&!Array['isArray'](_0x2dc530['conditions'])){const _0x18c93b=Object['keys'](_0x2dc530['conditions']),_0x5e6fac=[];for(let _0x3739cb=-0x1f*-0x91+0x173*0x2+-0x1475*0x1;_0x3739cb<_0x18c93b['length'];_0x3739cb++){const _0x4a8093=_0x2dc530['conditions'][_0x18c93b[_0x3739cb]];_0x4a8093['parameterN'+'ame']&&_0x5e6fac['push'](_0x4a8093);}_0x2dc530['conditions']=_0x5e6fac;}Number['isInteger'](_0x2dc530['from'])&&(_0x2dc530['from']=_0x5420a2['states'][_0x2dc530['from']]['name']),Number['isInteger'](_0x2dc530['to'])&&(_0x2dc530['to']=_0x5420a2['states'][_0x2dc530['to']]['name']),_0x4c24db['transition'+'s']['push'](_0x2dc530);}this['_layers']['push'](_0x4c24db);}for(const _0x5c6dbe in _0x5420a2['parameters']){const _0x3f0b6d=_0x5420a2['parameters'][_0x5c6dbe];this['_parameter'+'s'][_0x3f0b6d['name']]={'type':_0x3f0b6d['type'],'value':_0x3f0b6d['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0xacb+0x452+0x1*0x67a),c(this,'_activate',!(-0x3*0x4aa+0x14ce+-0x1*0x6d0)),c(this,'_playing',!(-0x1554+-0x4*0x38a+0x237d)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(0x1527+0x14db+-0x2a01)),c(this,'findParame'+'ter',_0x569a6b=>this['_parameter'+'s'][_0x569a6b]),c(this,'consumeTri'+'gger',_0x4f9d4a=>{this['_consumedT'+'riggers']['add'](_0x4f9d4a);});}set['stateGraph'+'Asset'](_0x1fb6d5){if(_0x1fb6d5===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x5087bf,_0x46be68;_0x1fb6d5 instanceof le?(_0x5087bf=_0x1fb6d5['id'],_0x46be68=this['system']['app']['assets']['get'](_0x5087bf),_0x46be68||(this['system']['app']['assets']['add'](_0x1fb6d5),_0x46be68=this['system']['app']['assets']['get'](_0x5087bf))):(_0x5087bf=_0x1fb6d5,_0x46be68=this['system']['app']['assets']['get'](_0x5087bf)),!(!_0x46be68||this['_stateGrap'+'hAsset']===_0x5087bf)&&(_0x46be68['resource']?(this['_stateGrap'+'h']=_0x46be68['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x46be68['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x46be68['once']('load',_0x65efa5=>{this['_stateGrap'+'h']=_0x65efa5['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x46be68['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x46be68)),this['_stateGrap'+'hAsset']=_0x5087bf);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x563a2e){this['_normalize'+'Weights']=_0x563a2e,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x15ee75){this['_animation'+'Assets']=_0x15ee75,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x4d81e3){this['_speed']=_0x4d81e3;}get['speed'](){return this['_speed'];}set['activate'](_0x450fde){this['_activate']=_0x450fde;}get['activate'](){return this['_activate'];}set['playing'](_0xb295aa){this['_playing']=_0xb295aa;}get['playing'](){return this['_playing'];}set['rootBone'](_0x8e46b5){if(typeof _0x8e46b5=='string'){const _0x2dc56a=this['entity']['root']['findByGuid'](_0x8e46b5);v['assert'](_0x2dc56a,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x8e46b5+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x2dc56a;}else _0x8e46b5 instanceof We?this['_rootBone']=_0x8e46b5:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x5bdd0f){this['_stateGrap'+'h']=_0x5bdd0f;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x3cbc0f){this['_layerIndi'+'ces']=_0x3cbc0f;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x143625){this['_parameter'+'s']=_0x143625;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x461c1d){this['_targets']=_0x461c1d;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x4f19fb=0xdf9+0x1*0x374+-0x116d;_0x4f19fb<this['_layers']['length'];_0x4f19fb++)if(!this['_layers'][_0x4f19fb]['playable'])return!(-0x1*0x1d85+0x7*0x275+0xc53);return!(0x1*0x1594+0x2*0x65+-0x165e);}get['baseLayer'](){return this['_layers']['length']>0x549+-0x1ba2+-0x1*-0x1659?this['_layers'][0x4*-0x92c+0x24a2+0xe]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x4cd812){const _0x36dd98=this['animationA'+'ssets'],_0x583d0a=this['layers']['map'](_0x549d80=>_0x549d80['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new _h(_0x4cd812['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x36dd98,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x204a67,_0x15b907)=>{_0x204a67['mask']=_0x583d0a[_0x15b907];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x58b6b9=Object['values'](this['_targets']);for(let _0x191f15=0x1*0x1+-0xc20+0xc1f;_0x191f15<_0x58b6b9['length'];_0x191f15++)_0x58b6b9[_0x191f15]['dirty']=!(-0x21d0*-0x1+-0xeea*-0x1+-0x42*0xbd);}['_addLayer']({name:_0x54ad7b,states:_0x45800f,transitions:_0x3e5a66,weight:_0x3726df,mask:_0x5dc9c9,blendType:_0x8e9e43}){let _0x10b10b;this['rootBone']?_0x10b10b=this['rootBone']:_0x10b10b=this['entity'];const _0x1a649a=this['_layers']['length'],_0x42638=new gi(this,_0x10b10b,_0x54ad7b,_0x5dc9c9,_0x1a649a),_0x4b815b=new j0(_0x42638),_0x3d63a4=new HP(_0x4b815b,_0x45800f,_0x3e5a66,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x54ad7b,_0x3d63a4,this,_0x3726df,_0x8e9e43)),this['_layerIndi'+'ces'][_0x54ad7b]=_0x1a649a,this['_layers'][_0x1a649a];}['addLayer'](_0x24d102,_0xdea09d,_0xf29c1e,_0x2070a8){const _0x4a1586=this['findAnimat'+'ionLayer'](_0x24d102);if(_0x4a1586)return _0x4a1586;const _0x5c0f85=[{'name':'START','speed':0x1}],_0x70694e=[];return this['_addLayer']({'name':_0x24d102,'states':_0x5c0f85,'transitions':_0x70694e,'weight':_0xdea09d,'mask':_0xf29c1e,'blendType':_0x2070a8});}['_assignPar'+'ameters'](_0x3e19e5){this['_parameter'+'s']={};const _0x5e65b0=Object['keys'](_0x3e19e5['parameters']);for(let _0x4f4fec=0x241b+0x1e0c+-0x4227;_0x4f4fec<_0x5e65b0['length'];_0x4f4fec++){const _0x57a0ac=_0x5e65b0[_0x4f4fec];this['_parameter'+'s'][_0x57a0ac]={'type':_0x3e19e5['parameters'][_0x57a0ac]['type'],'value':_0x3e19e5['parameters'][_0x57a0ac]['value']};}}['loadStateG'+'raph'](_0x3ae415){this['_stateGrap'+'h']=_0x3ae415,this['_assignPar'+'ameters'](_0x3ae415),this['_layers']=[];let _0x536067=!(-0xdfd*0x2+0x164e*-0x1+0x3249);for(let _0x5ec76b=-0xb45*0x3+0x88b*0x3+0x2*0x417;_0x5ec76b<_0x3ae415['layers']['length'];_0x5ec76b++){const _0x42534a=_0x3ae415['layers'][_0x5ec76b];this['_addLayer']({..._0x42534a}),_0x42534a['states']['some'](_0x2de8b6=>_0x2de8b6['blendTree'])&&(_0x536067=!(-0x2de+0x3fe*-0x1+0x6dc));}_0x536067||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0xe1a724=-0x121+-0x10*0x154+0x1*0x1661;_0xe1a724<this['_layers']['length'];_0xe1a724++){const _0xca88df=this['_layers'][_0xe1a724],_0x5958d6=_0xca88df['name'];for(let _0x2625a3=-0xb8f+-0x2*0xac1+0x69d*0x5;_0x2625a3<_0xca88df['states']['length'];_0x2625a3++){const _0x275973=_0xca88df['states'][_0x2625a3];if(Yh['indexOf'](_0x275973)===-(0x1*-0x1d+0x6*0x27d+-0xed0)){const _0x3c8cb8=_0x5958d6+':'+_0x275973;this['_animation'+'Assets'][_0x3c8cb8]||(this['_animation'+'Assets'][_0x3c8cb8]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x3a730e=0x1a9b*0x1+-0x1*0x766+-0x95*0x21;_0x3a730e<this['_layers']['length'];_0x3a730e++){const _0x537f7f=this['_layers'][_0x3a730e];for(let _0x228e65=-0x10*-0xbf+0x1*0xb29+-0x1719;_0x228e65<_0x537f7f['states']['length'];_0x228e65++){const _0x278897=_0x537f7f['states'][_0x228e65];if(Yh['indexOf'](_0x278897)!==-(-0x4e7*0x3+-0x1884+-0x2*-0x139d))continue;const _0x523afa=this['_animation'+'Assets'][_0x537f7f['name']+':'+_0x278897];if(!_0x523afa||!_0x523afa['asset']){this['findAnimat'+'ionLayer'](_0x537f7f['name'])['assignAnim'+'ation'](_0x278897,Di['EMPTY']);continue;}const _0xbdc45e=_0x523afa['asset'],_0x16c13c=this['system']['app']['assets']['get'](_0xbdc45e);_0x16c13c&&(_0x16c13c['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x537f7f['name'],_0x278897,_0x16c13c):(_0x16c13c['once']('load',function(_0x51095e,_0x13b760){return function(_0x5a3cac){this['onAnimatio'+'nAssetLoad'+'ed'](_0x51095e,_0x13b760,_0x5a3cac);}['bind'](this);}['bind'](this)(_0x537f7f['name'],_0x278897)),this['system']['app']['assets']['load'](_0x16c13c)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x3ca5b1,_0x2f2c4f,_0x5d032f){this['findAnimat'+'ionLayer'](_0x3ca5b1)['assignAnim'+'ation'](_0x2f2c4f,_0x5d032f['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x1d21+0x1dbc+0xeb7*-0x4),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x36bb91=-0x1c87+0x4*0x86+0x1a6f;_0x36bb91<this['_layers']['length'];_0x36bb91++){const _0xb99e51=this['_layers'][_0x36bb91]['playing'];this['_layers'][_0x36bb91]['reset'](),this['_layers'][_0x36bb91]['playing']=_0xb99e51;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x4daee9=>{this['_targets'][_0x4daee9]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x38eed3=0x2e9*0x5+-0x1*-0xc41+-0x1ace;_0x38eed3<this['_layers']['length'];_0x38eed3++)this['_layers'][_0x38eed3]['rebind']();}['findAnimat'+'ionLayer'](_0x66275f){const _0x25aaef=this['_layerIndi'+'ces'][_0x66275f];return this['_layers'][_0x25aaef]||null;}['addAnimati'+'onState'](_0x35c00b,_0x165472,_0x475394=0x16c3+-0x1fec+0x92a*0x1,_0x1d7eee=!(0x163*-0x19+0x254f*-0x1+0x47fa),_0x12dc5e='Base'){var _0x58cee1;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new _h({'layers':[{'name':_0x12dc5e,'states':[{'name':'START','speed':0x1},{'name':_0x35c00b,'speed':_0x475394,'loop':_0x1d7eee,'defaultState':!(-0x862*0x4+-0x7f*0x2+0x2286)}],'transitions':[{'from':'START','to':_0x35c00b}]}],'parameters':{}}));const _0x58501d=this['findAnimat'+'ionLayer'](_0x12dc5e);_0x58501d?_0x58501d['assignAnim'+'ation'](_0x35c00b,_0x165472,_0x475394,_0x1d7eee):(_0x58cee1=this['addLayer'](_0x12dc5e))==null||_0x58cee1['assignAnim'+'ation'](_0x35c00b,_0x165472,_0x475394,_0x1d7eee);}['assignAnim'+'ation'](_0x2447b8,_0x585cf9,_0x4a1421,_0x3a06e2=0x133b*-0x1+0x2d7*-0x8+0xf*0x2cc,_0x3b5ea9=!(0x75e+0x1*-0x4a5+-0x2b9*0x1)){if(!this['_stateGrap'+'h']&&_0x2447b8['indexOf']('.')===-(0x1*0x1b19+0x61f+-0x2137)){this['loadStateG'+'raph'](new _h({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x2447b8,'speed':_0x3a06e2,'loop':_0x3b5ea9,'defaultState':!(0xba2*-0x1+-0x15c4+0x2166)}],'transitions':[{'from':'START','to':_0x2447b8}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x2447b8,_0x585cf9);return;}const _0x40bcfd=_0x4a1421?this['findAnimat'+'ionLayer'](_0x4a1421):this['baseLayer'];if(!_0x40bcfd){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x40bcfd['assignAnim'+'ation'](_0x2447b8,_0x585cf9,_0x3a06e2,_0x3b5ea9);}['removeNode'+'Animations'](_0x568b06,_0x307add){const _0x39ab58=_0x307add?this['findAnimat'+'ionLayer'](_0x307add):this['baseLayer'];if(!_0x39ab58){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x39ab58['removeNode'+'Animations'](_0x568b06);}['getParamet'+'erValue'](_0x597c8d,_0x382a5f){const _0x3e1da5=this['_parameter'+'s'][_0x597c8d];if(_0x3e1da5&&_0x3e1da5['type']===_0x382a5f)return _0x3e1da5['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x597c8d+('\x22\x20of\x20type\x20'+'\x22')+_0x382a5f+'\x22');}['setParamet'+'erValue'](_0x2b8010,_0x48ec7a,_0x45ac52){const _0x481f63=this['_parameter'+'s'][_0x2b8010];if(_0x481f63&&_0x481f63['type']===_0x48ec7a){_0x481f63['value']=_0x45ac52;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x2b8010+('\x22\x20of\x20type\x20'+'\x22')+_0x48ec7a+'\x22');}['getFloat'](_0x19e158){return this['getParamet'+'erValue'](_0x19e158,Q_);}['setFloat'](_0xabe988,_0x4a4bea){this['setParamet'+'erValue'](_0xabe988,Q_,_0x4a4bea);}['getInteger'](_0x2a051e){return this['getParamet'+'erValue'](_0x2a051e,Z_);}['setInteger'](_0x17b2ee,_0x37ea89){typeof _0x37ea89=='number'&&_0x37ea89%(0x8*-0x32b+-0x47*0x6b+0x3706)===0x1d11+-0x156a+-0x28d*0x3?this['setParamet'+'erValue'](_0x17b2ee,Z_,_0x37ea89):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x17b2ee,_0x37ea89);}['getBoolean'](_0x37afdf){return this['getParamet'+'erValue'](_0x37afdf,J_);}['setBoolean'](_0x2169a8,_0x8f0034){this['setParamet'+'erValue'](_0x2169a8,J_,!!_0x8f0034);}['getTrigger'](_0x34cf97){return this['getParamet'+'erValue'](_0x34cf97,mh);}['setTrigger'](_0xd672d2,_0x543f67=!(0xa11+-0x97c+-0x4a*0x2)){this['setParamet'+'erValue'](_0xd672d2,mh,!(0x9*-0x265+-0x4*-0x881+-0xc77)),_0x543f67&&this['_consumedT'+'riggers']['add'](_0xd672d2);}['resetTrigg'+'er'](_0x5bd018){this['setParamet'+'erValue'](_0x5bd018,mh,!(0x1*0x1646+-0x19c6+0x381));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x4d3ed3){for(let _0x4f7bff=-0x1f90*0x1+-0x1661+0x35f1;_0x4f7bff<this['layers']['length'];_0x4f7bff++)this['layers'][_0x4f7bff]['update'](_0x4d3ed3*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x13ee41=>{this['parameters'][_0x13ee41]['value']=!(0x106*-0x19+-0xc42+0x25d9);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xc842b2,_0x4b8f39){_0xc842b2['rootBone']&&_0x4b8f39[_0xc842b2['rootBone']['getGuid']()]?this['rootBone']=_0x4b8f39[_0xc842b2['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(-0x2516*0x1+0xb*-0x2cf+0x43fb);}}const sf=['enabled'];class qP extends Xe{constructor(_0x58b96b){super(_0x58b96b),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=sf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x359df2,_0x46ea79,_0x55159d){super['initialize'+'ComponentD'+'ata'](_0x359df2,_0x46ea79,sf);const _0x3975c6=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x46ea79)['forEach'](_0x3f4b45=>{_0x3975c6['includes'](_0x3f4b45)||(_0x359df2[_0x3f4b45]=_0x46ea79[_0x3f4b45]);}),_0x46ea79['stateGraph']&&(_0x359df2['stateGraph']=_0x46ea79['stateGraph'],_0x359df2['loadStateG'+'raph'](_0x359df2['stateGraph'])),_0x46ea79['layers']&&_0x46ea79['layers']['forEach']((_0x18eeef,_0x50cef1)=>{_0x18eeef['_controlle'+'r']['states']['forEach'](_0x43624b=>{_0x18eeef['_controlle'+'r']['_states'][_0x43624b]['_animation'+'List']['forEach'](_0x137739=>{if(!_0x137739['animTrack']||_0x137739['animTrack']===Di['EMPTY']){const _0x4e7620=this['app']['assets']['get'](_0x18eeef['_component']['_animation'+'Assets'][_0x18eeef['name']+':'+_0x137739['name']]['asset']);_0x4e7620&&!_0x4e7620['loaded']&&_0x4e7620['once']('load',()=>{_0x359df2['layers'][_0x50cef1]['assignAnim'+'ation'](_0x137739['name'],_0x4e7620['resource']);});}else _0x359df2['layers'][_0x50cef1]['assignAnim'+'ation'](_0x137739['name'],_0x137739['animTrack']);});});}),_0x46ea79['animationA'+'ssets']&&(_0x359df2['animationA'+'ssets']=Object['assign'](_0x359df2['animationA'+'ssets'],_0x46ea79['animationA'+'ssets'])),_0x46ea79['masks']&&Object['keys'](_0x46ea79['masks'])['forEach'](_0x3dace6=>{if(_0x359df2['layers'][_0x3dace6]){const _0x537128=_0x46ea79['masks'][_0x3dace6]['mask'],_0x46650a={};Object['keys'](_0x537128)['forEach'](_0x5edf34=>{_0x46650a[decodeURI(_0x5edf34)]=_0x537128[_0x5edf34];}),_0x359df2['layers'][_0x3dace6]['mask']=_0x46650a;}});}['onAnimatio'+'nUpdate'](_0x3194de){const _0x313df7=this['store'];for(const _0x4dffe9 in _0x313df7)if(_0x313df7['hasOwnProp'+'erty'](_0x4dffe9)){const _0x8ad18=_0x313df7[_0x4dffe9]['entity']['anim'];_0x8ad18['data']['enabled']&&_0x8ad18['entity']['enabled']&&_0x8ad18['playing']&&_0x8ad18['update'](_0x3194de);}}['cloneCompo'+'nent'](_0x43e2d2,_0x11aabb){let _0x4cecff;(!_0x43e2d2['anim']['rootBone']||_0x43e2d2['anim']['rootBone']===_0x43e2d2)&&(_0x4cecff={},_0x43e2d2['anim']['layers']['forEach']((_0x2fa230,_0x3778d2)=>{if(_0x2fa230['mask']){const _0x39acde={};Object['keys'](_0x2fa230['mask'])['forEach'](_0xa2227=>{const _0xcd6bbb=_0xa2227['split']('/');_0xcd6bbb['shift']();const _0x53c9f9=[_0x11aabb['name'],..._0xcd6bbb]['join']('/');_0x39acde[_0x53c9f9]=_0x2fa230['mask'][_0xa2227];}),_0x4cecff[_0x3778d2]={'mask':_0x39acde};}}));const _0x4076ea={'enabled':_0x43e2d2['anim']['enabled'],'stateGraphAsset':_0x43e2d2['anim']['stateGraph'+'Asset'],'animationAssets':_0x43e2d2['anim']['animationA'+'ssets'],'speed':_0x43e2d2['anim']['speed'],'activate':_0x43e2d2['anim']['activate'],'playing':_0x43e2d2['anim']['playing'],'rootBone':_0x43e2d2['anim']['rootBone'],'stateGraph':_0x43e2d2['anim']['stateGraph'],'layers':_0x43e2d2['anim']['layers'],'layerIndices':_0x43e2d2['anim']['layerIndic'+'es'],'parameters':_0x43e2d2['anim']['parameters'],'normalizeWeights':_0x43e2d2['anim']['normalizeW'+'eights'],'masks':_0x4cecff};return this['addCompone'+'nt'](_0x11aabb,_0x4076ea);}['onBeforeRe'+'move'](_0x41675d,_0x5dc751){_0x5dc751['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],sf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x307d3d=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x307d3d);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(0x1*0xe68+0x1*-0x14b7+0x64f);}}const J0=['enabled'];class jP extends Xe{constructor(_0xd63958){super(_0xd63958),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0xd63958['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5b3c2c,_0x5852ee,_0x53bd96){_0x53bd96=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x5b3c2c,_0x5852ee,_0x53bd96);}['onUpdate'](_0x5d9f13){if(this['current']){const _0x201d00=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x201d00);const _0x5df04a=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x5df04a);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const rf=0x8*0x421+0x2583+-0x468b*0x1,tg=0x1dbb+-0x6fa+-0x40*0x5b,gh='group',nf='image',ex='text',yh='stretch',YP='contain',KP='cover',je={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[je['DEFAULT']]='_defaultTi'+'nt',hl[je['HOVER']]='hoverTint',hl[je['PRESSED']]='pressedTin'+'t',hl[je['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[je['DEFAULT']]='_defaultSp'+'riteAsset',cl[je['HOVER']]='hoverSprit'+'eAsset',cl[je['PRESSED']]='pressedSpr'+'iteAsset',cl[je['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[je['DEFAULT']]='_defaultSp'+'riteFrame',dl[je['HOVER']]='hoverSprit'+'eFrame',dl[je['PRESSED']]='pressedSpr'+'iteFrame',dl[je['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x17adc2,_0x564470){super(_0x17adc2,_0x564470),c(this,'_visualSta'+'te',je['DEFAULT']),c(this,'_isHoverin'+'g',!(0x1b83*0x1+-0x2*-0xfb7+-0x3af0)),c(this,'_hoveringC'+'ounter',0x89*0x3e+-0x664+-0x1aca),c(this,'_isPressed',!(-0x3*-0x2a5+0x57d+-0xd6b)),c(this,'_defaultTi'+'nt',new Y(0x1071+-0x61*-0x39+-0xd*0x2ed,0x1a76+0x45d*-0x2+0x3*-0x5e9,-0x267a+-0x16*-0x9b+0x71*0x39,0xfc6+0x12d*-0xe+0xb1)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',-0xc*0x115+-0xe9b*0x2+0x2a32*0x1),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=je['DEFAULT'],this['_isHoverin'+'g']=!(-0x2485*0x1+-0x20*-0x24+0x2006),this['_hoveringC'+'ounter']=-0x131d+-0xae*-0x4+0x1065,this['_isPressed']=!(0x2057+-0x974+0x3a*-0x65),this['_defaultTi'+'nt']=new Y(-0x1*0x172e+0x315*0x5+0x7c6*0x1,0x2692*0x1+0x14c5+-0x87a*0x7,0x22*0x107+0x74*-0x13+0x1a51*-0x1,0x21*-0x12e+0x218b+0x3c*0x17),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x1bbf*0x1+-0x65*0x29+0x2bec,this['_toggleLif'+'ecycleList'+'eners']('on',_0x17adc2));}get['data'](){const _0x199e60=this['system']['store'][this['entity']['getGuid']()];return _0x199e60?_0x199e60['data']:null;}set['enabled'](_0xfd0439){this['_setValue']('enabled',_0xfd0439);}get['enabled'](){return this['data']['enabled'];}set['active'](_0xb98b1b){this['_setValue']('active',_0xb98b1b);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x4a3812){if(this['_imageEnti'+'ty']!==_0x4a3812){const _0x1e52f2=typeof _0x4a3812=='string';if(this['_imageEnti'+'ty']&&_0x1e52f2&&this['_imageEnti'+'ty']['getGuid']()===_0x4a3812)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x4a3812 instanceof De?this['_imageEnti'+'ty']=_0x4a3812:_0x1e52f2?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x4a3812)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x1e52f2&&_0x4a3812&&(this['data']['imageEntit'+'y']=_0x4a3812);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x24f112){this['_setValue']('hitPadding',_0x24f112);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x412906){this['_setValue']('transition'+'Mode',_0x412906);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x42b47d){this['_setValue']('hoverTint',_0x42b47d);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x35e32d){this['_setValue']('pressedTin'+'t',_0x35e32d);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x31ee30){this['_setValue']('inactiveTi'+'nt',_0x31ee30);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x17a152){this['_setValue']('fadeDurati'+'on',_0x17a152);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x5db7e3){this['_setValue']('hoverSprit'+'eAsset',_0x5db7e3);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x105515){this['_setValue']('hoverSprit'+'eFrame',_0x105515);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x45e4f6){this['_setValue']('pressedSpr'+'iteAsset',_0x45e4f6);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0xd98e32){this['_setValue']('pressedSpr'+'iteFrame',_0xd98e32);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x46f732){this['_setValue']('inactiveSp'+'riteAsset',_0x46f732);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x45b7b2){this['_setValue']('inactiveSp'+'riteFrame',_0x45b7b2);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x2033ac,_0x483e40){const _0xbecd2a=this['data'],_0x4b1b14=_0xbecd2a[_0x2033ac];_0xbecd2a[_0x2033ac]=_0x483e40,this['fire']('set',_0x2033ac,_0x4b1b14,_0x483e40);}['_toggleLif'+'ecycleList'+'eners'](_0x43e931,_0x505fc1){var _0x2b355b;this[_0x43e931]('set_active',this['_onSetActi'+'ve'],this),this[_0x43e931]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x43e931]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x43e931]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x43e931]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x43e931]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x43e931]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x43e931]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x43e931]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x43e931]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x43e931]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x43e931==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x2b355b=this['_evtElemen'+'tAdd'])==null||_0x2b355b['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0xa1b6b0,_0x4463de,_0x34b534){_0x4463de!==_0x34b534&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x571429,_0xe2638a,_0x1bfebb){_0xe2638a!==_0x1bfebb&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0xe2638a),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x563a23,_0x4bfac0,_0x540ae6){_0x4bfac0!==_0x540ae6&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0xfeb961,_0x4357b0;(_0xfeb961=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0xfeb961['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x4357b0=this['_imageEnti'+'ty'])!=null&&_0x4357b0['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x341c4c=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x341c4c['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x341c4c['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x341c4c['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x341c4c['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x341c4c['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x1d99a8,_0x4c58dc,_0xa0a836,_0x5b244a,_0x3c5bf1;(_0x1d99a8=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x1d99a8['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x4c58dc=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x4c58dc['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0xa0a836=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0xa0a836['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x5b244a=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x5b244a['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x3c5bf1=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x3c5bf1['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x4df54f){if(this['entity']['element']){const _0x2b434d=_0x4df54f==='on';if(_0x2b434d&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x4df54f]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x4df54f]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x4df54f]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x4df54f]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x4df54f]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x4df54f]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x4df54f]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x4df54f]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x4df54f]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x4df54f]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x4df54f]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x4df54f]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x4df54f]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x4df54f]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x2b434d;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x5bad73;const _0x24b175=(_0x5bad73=this['_imageEnti'+'ty'])==null?void(-0x85c+0x12f1+0x12d*-0x9):_0x5bad73['element'];!_0x24b175||_0x24b175['type']===gh||(this['_storeDefa'+'ultColor'](_0x24b175['color']),this['_storeDefa'+'ultOpacity'](_0x24b175['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x24b175['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x24b175['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x22ead4){this['_defaultTi'+'nt']['r']=_0x22ead4['r'],this['_defaultTi'+'nt']['g']=_0x22ead4['g'],this['_defaultTi'+'nt']['b']=_0x22ead4['b'];}['_storeDefa'+'ultOpacity'](_0x58d989){this['_defaultTi'+'nt']['a']=_0x58d989;}['_storeDefa'+'ultSpriteA'+'sset'](_0xeac3a5){this['_defaultSp'+'riteAsset']=_0xeac3a5;}['_storeDefa'+'ultSpriteF'+'rame'](_0x321e1a){this['_defaultSp'+'riteFrame']=_0x321e1a;}['_onSetColo'+'r'](_0x2242b8){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x2242b8),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x4ca915){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x4ca915),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x52841f){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x52841f),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x56965a){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x56965a),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x4b8194){this['_isHoverin'+'g']=!(0x1*0xc1f+-0x2202+0x15e3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x4b8194);}['_onMouseLe'+'ave'](_0x2d807f){this['_isHoverin'+'g']=!(0xd23+0x1b*0x61+-0x175d),this['_isPressed']=!(0x401+0x2064+0x112*-0x22),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x2d807f);}['_onMouseDo'+'wn'](_0x316971){this['_isPressed']=!(0x36*-0x2b+0x6ab+-0xf*-0x29),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x316971);}['_onMouseUp'](_0x44a609){this['_isPressed']=!(0x1337*0x2+-0x1461+-0x120c),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x44a609);}['_onTouchSt'+'art'](_0x215a60){this['_isPressed']=!(-0x25a3+0x24*0x32+0x1*0x1e9b),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x215a60);}['_onTouchEn'+'d'](_0x1d3b91){_0x1d3b91['event']['preventDef'+'ault'](),this['_isPressed']=!(0x264c+0x4*0x35f+-0x33c7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x1d3b91);}['_onTouchLe'+'ave'](_0x219b1c){this['_isPressed']=!(0x1bca*0x1+-0x73f+-0x148a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x219b1c);}['_onTouchCa'+'ncel'](_0x54455b){this['_isPressed']=!(0x1faa+-0x1f35+0x4*-0x1d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x54455b);}['_onSelectS'+'tart'](_0xfe8657){this['_isPressed']=!(-0x1283+0x1193*0x2+-0x10a3*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0xfe8657);}['_onSelectE'+'nd'](_0x2c6d01){this['_isPressed']=!(-0x22*0x53+-0x1871*-0x1+-0xd6a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x2c6d01);}['_onSelectE'+'nter'](_0x183c93){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x1619*0x1+0x7c*-0x1f+0x251e&&(this['_isHoverin'+'g']=!(0x310*-0x9+-0x9f*0x2a+0x35a6),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x183c93);}['_onSelectL'+'eave'](_0x21f111){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x1edc+-0x1069*0x2+0x1*0x1f6&&(this['_isHoverin'+'g']=!(-0x201f+-0xdbc+0x92c*0x5),this['_isPressed']=!(0x124a+0xaa*-0x31+0xe41),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x21f111);}['_onClick'](_0x15f6cf){this['_fireIfAct'+'ive']('click',_0x15f6cf);}['_fireIfAct'+'ive'](_0x1002b4,_0x5a2577){this['data']['active']&&this['fire'](_0x1002b4,_0x5a2577);}['_updateVis'+'ualState'](_0xd7b0ed){const _0x238a9a=this['_visualSta'+'te'],_0x3c56d0=this['_determine'+'VisualStat'+'e']();if((_0x238a9a!==_0x3c56d0||_0xd7b0ed)&&this['enabled'])switch(this['_visualSta'+'te']=_0x3c56d0,_0x238a9a===je['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x238a9a===je['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x3c56d0===je['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x3c56d0===je['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case rf:{const _0x4d4f6a=hl[this['_visualSta'+'te']],_0x658dad=this[_0x4d4f6a];this['_applyTint'](_0x658dad);break;}case tg:{const _0xbb7147=cl[this['_visualSta'+'te']],_0x404d11=dl[this['_visualSta'+'te']],_0x17716d=this[_0xbb7147],_0x104cec=this[_0x404d11];this['_applySpri'+'te'](_0x17716d,_0x104cec);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x2193+-0xca1+0x2e34*0x1));}['_resetToDe'+'faultVisua'+'lState'](_0x151613){var _0xbc998e;if((_0xbc998e=this['_imageEnti'+'ty'])!=null&&_0xbc998e['element'])switch(_0x151613){case rf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return je['PRESSED'];if(this['_isHoverin'+'g'])return je['HOVER'];}else return je['INACTIVE'];return je['DEFAULT'];}['_applySpri'+'te'](_0x206aa3,_0x58fb6b){var _0x4811b1;const _0x2eb48b=(_0x4811b1=this['_imageEnti'+'ty'])==null?void(0x2f*0x6d+0x95*0x19+0x13c*-0x1c):_0x4811b1['element'];_0x2eb48b&&(_0x58fb6b=_0x58fb6b||0x1*-0x1c91+-0x1*0x244c+-0x1b*-0x267,this['_isApplyin'+'gSprite']=!(0xb14*-0x1+0x17*-0x53+0x1289),_0x2eb48b['spriteAsse'+'t']!==_0x206aa3&&(_0x2eb48b['spriteAsse'+'t']=_0x206aa3),_0x2eb48b['spriteFram'+'e']!==_0x58fb6b&&(_0x2eb48b['spriteFram'+'e']=_0x58fb6b),this['_isApplyin'+'gSprite']=!(0xd*0x49+-0x174c+-0x39*-0x58));}['_applyTint'](_0x30afb7){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x1bf5+0x7ff+-0x23f4?this['_applyTint'+'Immediatel'+'y'](_0x30afb7):this['_applyTint'+'WithTween'](_0x30afb7);}['_applyTint'+'Immediatel'+'y'](_0x1a71a2){var _0x54c324;const _0x170b19=(_0x54c324=this['_imageEnti'+'ty'])==null?void(-0x45d+0xa*-0x17d+0x133f):_0x54c324['element'];if(!_0x1a71a2||!_0x170b19||_0x170b19['type']===gh)return;const _0x5f298d=sg(_0x1a71a2);this['_isApplyin'+'gTint']=!(-0xcef+0x3b*0x4f+-0x546),_0x5f298d['equals'](_0x170b19['color'])||(_0x170b19['color']=_0x5f298d),_0x170b19['opacity']!==_0x1a71a2['a']&&(_0x170b19['opacity']=_0x1a71a2['a']),this['_isApplyin'+'gTint']=!(-0x7*-0x367+0x12f*-0x21+0xf3f);}['_applyTint'+'WithTween'](_0x4cd50f){var _0x506136;const _0x2fee2b=(_0x506136=this['_imageEnti'+'ty'])==null?void(-0x1*-0x24a3+0x50c*-0x2+-0x1a8b):_0x506136['element'];if(!_0x4cd50f||!_0x2fee2b||_0x2fee2b['type']===gh)return;const _0x3dff25=sg(_0x4cd50f),_0x78afc3=_0x2fee2b['color'],_0x3b9934=_0x2fee2b['opacity'];_0x3dff25['equals'](_0x78afc3)&&_0x4cd50f['a']===_0x3b9934||(this['_tweenInfo']={'startTime':re(),'from':new Y(_0x78afc3['r'],_0x78afc3['g'],_0x78afc3['b'],_0x3b9934),'to':_0x4cd50f['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x3c3f3f=re()-this['_tweenInfo']['startTime'];let _0x1d57c5=this['fadeDurati'+'on']===0x1362+-0x670*-0x3+-0x26b2?-0x1*0xd2b+0x830+0x4fc:_0x3c3f3f/this['fadeDurati'+'on'];if(_0x1d57c5=N['clamp'](_0x1d57c5,0x2222+-0x2020+0x1*-0x202,0xa*0x1c6+-0x2686+0x14cb),Math['abs'](_0x1d57c5-(0x7*0x2b+0x83d+-0x969))>0x1584+-0x1bf*0x5+-0xcc9+0.00001){const _0x4070e7=this['_tweenInfo']['lerpColor'];_0x4070e7['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x1d57c5),this['_applyTint'+'Immediatel'+'y'](new Y(_0x4070e7['r'],_0x4070e7['g'],_0x4070e7['b'],_0x4070e7['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0xe2d+-0x260*-0xd+-0xba*0x3e),this['_hoveringC'+'ounter']=0x131c+-0x60e+-0xd0e,this['_isPressed']=!(-0x1185+0x1*0x1daf+-0xc29),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xd0d74d,_0x49ee26){_0xd0d74d['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x49ee26[_0xd0d74d['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x15de5d){return new Y(_0x15de5d['r'],_0x15de5d['g'],_0x15de5d['b']);}class ZP{constructor(){this['enabled']=!(-0x4*0x63+0xa06*-0x2+0x1*0x1598),this['active']=!(0x12ad+-0x9d1+-0x8dc),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=rf,this['hoverTint']=new Y(0x374+-0x2512+-0x1*-0x219e+0.75,0x691*-0x1+-0x215c+-0x1*-0x27ed+0.75,0x14e*0x17+0x1ea9+0x1439*-0x3+0.75),this['pressedTin'+'t']=new Y(0xba3+-0x7*-0x507+-0x2ed4+0.5,-0x29*0x17+-0xacb*-0x2+-0x1*0x11e7+0.5,-0xc1a*0x3+0x2e*-0x92+0x3e8a+0.5),this['inactiveTi'+'nt']=new Y(-0x2*-0xfe9+0x3*0x151+-0x23c5+0.25,0xaa+-0x9b*-0x14+0xa*-0x147+0.25,-0x21*0x5b+0xefb*0x1+0x1*-0x340+0.25),this['fadeDurati'+'on']=-0x12a+0xdd1+-0xca7,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0xfb5+-0x2581*-0x1+0x3*-0x744,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x59*0xe+-0x804+0x326,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x23f4+0x264b+-0x257;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x1668e0){super(_0x1668e0),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3d3d79,_0x532fa0,_0x23bd99){_0x3d3d79['imageEntit'+'y']=_0x532fa0['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x3d3d79,_0x532fa0,ig);}['onUpdate'](_0x809701){const _0x518a02=this['store'];for(const _0x57dad3 in _0x518a02){const _0x47be5d=_0x518a02[_0x57dad3]['entity'],_0x3d53c0=_0x47be5d['button'];_0x3d53c0['enabled']&&_0x47be5d['enabled']&&_0x3d53c0['onUpdate']();}}['_onRemoveC'+'omponent'](_0x29c88a,_0xf9734d){_0xf9734d['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new te();class Kn extends ue{constructor(_0x5f5d63,_0x5874e1){super(_0x5f5d63,_0x5874e1),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0x3*-0xceb+0xe5d+-0x351d)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x295eee=this['system']['store'][this['entity']['getGuid']()];return _0x295eee?_0x295eee['data']:null;}set['enabled'](_0x3de3b5){this['_setValue']('enabled',_0x3de3b5);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x277f66){this['_setValue']('type',_0x277f66);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x305ff7){this['_setValue']('halfExtent'+'s',_0x305ff7);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x4fe5b1){this['_setValue']('linearOffs'+'et',_0x4fe5b1);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x9ac525){this['_setValue']('angularOff'+'set',_0x9ac525);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x55acae){this['_setValue']('radius',_0x55acae);}get['radius'](){return this['data']['radius'];}set['axis'](_0x319cae){this['_setValue']('axis',_0x319cae);}get['axis'](){return this['data']['axis'];}set['height'](_0x9701dc){this['_setValue']('height',_0x9701dc);}get['height'](){return this['data']['height'];}set['asset'](_0x251fef){this['_setValue']('asset',_0x251fef);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0xf98cf0){this['_setValue']('renderAsse'+'t',_0xf98cf0);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0xb53129){this['_setValue']('convexHull',_0xb53129);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0xa64c70){this['_setValue']('shape',_0xa64c70);}get['shape'](){return this['data']['shape'];}set['model'](_0x1b0878){this['_setValue']('model',_0x1b0878);}get['model'](){return this['data']['model'];}set['render'](_0x2e249d){this['_setValue']('render',_0x2e249d);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x5a1896){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x5a1896);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0xd47e66,_0x3464a1){const _0x25544c=this['data'],_0x5b24dc=_0x25544c[_0xd47e66];_0x25544c[_0xd47e66]=_0x3464a1,this['fire']('set',_0xd47e66,_0x5b24dc,_0x3464a1);}['onSetType'](_0xf80e3,_0x146154,_0x5bad80){_0x146154!==_0x5bad80&&this['system']['changeType'](this,_0x146154,_0x5bad80);}['onSetHalfE'+'xtents'](_0x638575,_0x44e19c,_0x293532){const _0x38582f=this['data']['type'];this['data']['initialize'+'d']&&_0x38582f==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0xd8cb58,_0x2d4b69,_0x4b8930){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](te['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x19f0d5,_0x273c0d,_0x12b8b5){const _0x402496=this['data']['type'];this['data']['initialize'+'d']&&(_0x402496==='sphere'||_0x402496==='capsule'||_0x402496==='cylinder'||_0x402496==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x1fcea3,_0x5acdd8,_0x4861e4){const _0x410978=this['data']['type'];this['data']['initialize'+'d']&&(_0x410978==='capsule'||_0x410978==='cylinder'||_0x410978==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x4c14fb,_0x4b056c,_0x19ca40){const _0x4a35eb=this['data']['type'];this['data']['initialize'+'d']&&(_0x4a35eb==='capsule'||_0x4a35eb==='cylinder'||_0x4a35eb==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x3c34ad,_0x48c085,_0x1c2c84){const _0x4397f8=this['system']['app']['assets'];if(_0x48c085){const _0x40780b=_0x4397f8['get'](_0x48c085);_0x40780b&&_0x40780b['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x1c2c84){_0x1c2c84 instanceof le&&(this['data']['asset']=_0x1c2c84['id']);const _0x5da236=_0x4397f8['get'](this['data']['asset']);_0x5da236&&(_0x5da236['off']('remove',this['onAssetRem'+'oved'],this),_0x5da236['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x1c2c84||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x2d4559,_0xc601cf,_0x186551){const _0x37fcf1=this['system']['app']['assets'];if(_0xc601cf){const _0x116165=_0x37fcf1['get'](_0xc601cf);_0x116165&&_0x116165['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x186551){_0x186551 instanceof le&&(this['data']['renderAsse'+'t']=_0x186551['id']);const _0x2c9a64=_0x37fcf1['get'](this['data']['renderAsse'+'t']);_0x2c9a64&&(_0x2c9a64['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x2c9a64['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x186551||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x316ae2,_0x3e33e9,_0x23ea1e){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0xdf3763,_0xe7e196,_0xc76268){this['onSetModel'](_0xdf3763,_0xe7e196,_0xc76268);}['onAssetRem'+'oved'](_0x3e4c30){_0x3e4c30['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x3e4c30['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x5074ba){_0x5074ba['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x5074ba['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x344c77){const _0x62b02f=this['data']['shape'],_0x44bdb4=_0x62b02f['getNumChil'+'dShapes']();for(let _0x203128=-0x1dcb+-0x1deb+-0x1*-0x3bb6;_0x203128<_0x44bdb4;_0x203128++){const _0x38a02d=_0x62b02f['getChildSh'+'ape'](_0x203128);if(Ammo['getPointer'](_0x38a02d)===Ammo['getPointer'](_0x344c77))return _0x203128;}return null;}['_onInsert'](_0x382d03){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x2b05aa=this['entity']['parent'];for(;_0x2b05aa;){if(_0x2b05aa['collision']&&_0x2b05aa['collision']['type']==='compound'){_0x2b05aa['collision']['shape']['getNumChil'+'dShapes']()===0x6f2+-0x162f+0xf3d?this['system']['recreatePh'+'ysicalShap'+'es'](_0x2b05aa['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x2b05aa=_0x2b05aa['parent'];}}}}}['_updateCom'+'pound'](){const _0x3ffbdc=this['entity'];if(_0x3ffbdc['_dirtyWorl'+'d']){let _0x45d935=_0x3ffbdc['_dirtyLoca'+'l'],_0x542d13=_0x3ffbdc;for(;_0x542d13&&!_0x45d935&&!(_0x542d13['collision']&&_0x542d13['collision']===this['_compoundP'+'arent']);)_0x542d13['_dirtyLoca'+'l']&&(_0x45d935=!(-0xc*0xd9+0x1*0x26f4+-0x1cc8)),_0x542d13=_0x542d13['parent'];if(_0x45d935){_0x3ffbdc['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x3ffbdc);const _0x1cc1fa=this['_compoundP'+'arent']['entity']['rigidbody'];_0x1cc1fa&&_0x1cc1fa['activate']();}}}['getShapePo'+'sition'](){const _0x46d1fb=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x26053b=this['entity']['getRotatio'+'n'](),_0x498be6=this['data']['linearOffs'+'et'];return ng['copy'](_0x26053b)['transformV'+'ector'](_0x498be6,rg),rg['add'](_0x46d1fb);}return _0x46d1fb;}['getShapeRo'+'tation'](){const _0x379760=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x379760)['mul'](this['data']['angularOff'+'set']):_0x379760;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x303617=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x303617&&(!_0x303617['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x123e+0x16da+-0x5*0x838)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x1381c7=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x1381c7,this['data']['shape']),Ammo['destroy'](_0x1381c7),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Kn,'EVENT_CONT'+'ACT','contact'),c(Kn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Kn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Kn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Kn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(-0x1*0x2257+-0x15a4+0x37fb),this['type']='box',this['halfExtent'+'s']=new T(-0x2*0xe59+0x1b4d+0x165+0.5,0x2141+0xb3e*-0x3+0x79+0.5,-0x6cd*0x5+0x89*-0x1f+0x1*0x3298+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new te(),this['radius']=-0x1fd8+-0x2283+0x425b*0x1+0.5,this['axis']=0x10e0+-0x26c7+0x4*0x57a,this['height']=-0xb02+0x1d*-0x59+0x1519,this['convexHull']=!(0x7*0x19+-0x1458+-0x9d5*-0x2),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x21dc+0xceb*-0x2+0x3bb2),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x182d+0x5f1+0x1e1d*-0x1);}}const so='static',gs='dynamic',Nn='kinematic',eR=-0x148e+0xd6*0x5+-0x3*-0x576,lo=0x157f+-0x8ec+-0x283*0x5,af=0xb41+-0x2f*0x59+0x517,ag=0x1932+0x1a8f+-0x33bd,tx=-0xa97*-0x3+-0x2441*0x1+-0x1*-0x481,tR=-0x2*0xdfa+0x95c+-0x17*-0xcf,og=0x3c7*-0x7+-0x1bc0+0x19*0x22b,sR=-0x23a8+0x1*0x90d+0x1a9f,lg=-0x1*0x1697+0x87+0x1620,hg=0x1f080+-0xac67+-0x441a,of=-0x1a02d*-0x1+0x9687+-0x136b7;let ys,Cr,zn;class sx{constructor(_0x1e86f0,_0x3fd43d,_0x2035c3){this['entity']=_0x3fd43d['entity'],this['component']=_0x3fd43d,this['app']=_0x1e86f0,typeof Ammo<'u'&&!ys&&(ys=new Ammo['btVector3'](),Cr=new Ammo['btQuaterni'+'on'](),zn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x2035c3);}['initialize'](_0x57922c){const _0x4ad791=this['entity'],_0x46fb12=_0x57922c['shape'];if(_0x46fb12&&typeof Ammo<'u'){_0x4ad791['trigger']&&_0x4ad791['trigger']['destroy']();const _0x3427b6=0x23db+-0x1*0xae4+-0x18f6,_0x3b1da3=this['component'];if(_0x3b1da3){const _0x132242=_0x3b1da3['getShapePo'+'sition'](),_0x5e052f=_0x3b1da3['getShapeRo'+'tation']();ys['setValue'](_0x132242['x'],_0x132242['y'],_0x132242['z']),Cr['setValue'](_0x5e052f['x'],_0x5e052f['y'],_0x5e052f['z'],_0x5e052f['w']);}else{const _0x249d14=_0x4ad791['getPositio'+'n'](),_0x4ffbc1=_0x4ad791['getRotatio'+'n']();ys['setValue'](_0x249d14['x'],_0x249d14['y'],_0x249d14['z']),Cr['setValue'](_0x4ffbc1['x'],_0x4ffbc1['y'],_0x4ffbc1['z'],_0x4ffbc1['w']);}zn['setOrigin'](ys),zn['setRotatio'+'n'](Cr);const _0x4bf9ac=this['app']['systems']['rigidbody']['createBody'](_0x3427b6,_0x46fb12,zn);_0x4bf9ac['setRestitu'+'tion'](-0x1338+-0x1712+0x2a4a),_0x4bf9ac['setFrictio'+'n'](0x1*-0xe4a+0x1*0x20ed+-0xd*0x16f),_0x4bf9ac['setDamping'](0x1*0x1698+0x39*-0x2a+-0xd3e,0x3cf*0x3+0x621+-0x282*0x7),ys['setValue'](0x1b91*0x1+0x2ff*0x1+-0x18*0x146,0x203c+0x2*-0xde0+-0x47c,0x1211+-0xd8+-0x1139),_0x4bf9ac['setLinearF'+'actor'](ys),_0x4bf9ac['setAngular'+'Factor'](ys),_0x4bf9ac['setCollisi'+'onFlags'](_0x4bf9ac['getCollisi'+'onFlags']()|lo),_0x4bf9ac['entity']=_0x4ad791,this['body']=_0x4bf9ac,this['component']['enabled']&&_0x4ad791['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x26376a){const _0x1649f1=this['component'];if(_0x1649f1){const _0x5ca376=_0x1649f1['getShapePo'+'sition'](),_0x26ae80=_0x1649f1['getShapeRo'+'tation']();ys['setValue'](_0x5ca376['x'],_0x5ca376['y'],_0x5ca376['z']),Cr['setValue'](_0x26ae80['x'],_0x26ae80['y'],_0x26ae80['z'],_0x26ae80['w']);}else{const _0xf3f2d6=this['entity']['getPositio'+'n'](),_0x40c491=this['entity']['getRotatio'+'n']();ys['setValue'](_0xf3f2d6['x'],_0xf3f2d6['y'],_0xf3f2d6['z']),Cr['setValue'](_0x40c491['x'],_0x40c491['y'],_0x40c491['z'],_0x40c491['w']);}_0x26376a['setOrigin'](ys),_0x26376a['setRotatio'+'n'](Cr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](zn);const _0x592aea=this['body'];_0x592aea['setWorldTr'+'ansform'](zn),_0x592aea['activate']();}['enable'](){const _0x656680=this['body'];if(!_0x656680)return;const _0x201176=this['app']['systems']['rigidbody'];_0x201176['_triggers']['indexOf'](this)<0x4fa+0x12c+-0x626&&(_0x201176['addBody'](_0x656680,lg,of^lg),_0x201176['_triggers']['push'](this)),_0x656680['forceActiv'+'ationState'](af),this['updateTran'+'sform']();}['disable'](){const _0x56aeb4=this['body'];if(!_0x56aeb4)return;const _0x2b316d=this['app']['systems']['rigidbody'],_0x41519b=_0x2b316d['_triggers']['indexOf'](this);_0x41519b>-(0x8a1+-0x1*0x251a+0x1c7a)&&(_0x2b316d['removeBody'](_0x56aeb4),_0x2b316d['_triggers']['splice'](_0x41519b,-0x977*-0x1+0x10d2+0xd24*-0x2)),_0x56aeb4['forceActiv'+'ationState'](tx);}}const jl=new q(),iR=new T(),rR=new T(),Er=new te(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Sn{constructor(_0x31d824){this['system']=_0x31d824;}['beforeInit'+'ialize'](_0x2433bc,_0x22642d){_0x22642d['shape']=null,_0x22642d['model']=new Bi(),_0x22642d['model']['graph']=new De();}['afterIniti'+'alize'](_0x1173f5,_0x2a7568){this['recreatePh'+'ysicalShap'+'es'](_0x1173f5),_0x1173f5['data']['initialize'+'d']=!(-0x5e4+0x1968+0x1384*-0x1);}['reset'](_0x1dcf91,_0x192008){this['beforeInit'+'ialize'](_0x1dcf91,_0x192008),this['afterIniti'+'alize'](_0x1dcf91,_0x192008);}['recreatePh'+'ysicalShap'+'es'](_0x1173aa){const _0x57d975=_0x1173aa['entity'],_0x3ed583=_0x1173aa['data'];if(typeof Ammo<'u'){_0x57d975['trigger']&&(_0x57d975['trigger']['destroy'](),delete _0x57d975['trigger']),_0x3ed583['shape']&&(_0x1173aa['_compoundP'+'arent']&&(_0x1173aa!==_0x1173aa['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x1173aa['_compoundP'+'arent'],_0x3ed583['shape']),_0x1173aa['_compoundP'+'arent']['entity']['rigidbody']&&_0x1173aa['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x3ed583)),_0x3ed583['shape']=this['createPhys'+'icalShape'](_0x1173aa['entity'],_0x3ed583);const _0x27c0c7=!_0x1173aa['_compoundP'+'arent'];if(_0x3ed583['type']==='compound'&&(!_0x1173aa['_compoundP'+'arent']||_0x1173aa===_0x1173aa['_compoundP'+'arent']))_0x1173aa['_compoundP'+'arent']=_0x1173aa,_0x57d975['forEach'](this['_addEachDe'+'scendant'],_0x1173aa);else{if(_0x3ed583['type']!=='compound'&&!_0x1173aa['rigidbody']){_0x1173aa['_compoundP'+'arent']=null;let _0x23726a=_0x57d975['parent'];for(;_0x23726a;){if(_0x23726a['collision']&&_0x23726a['collision']['type']==='compound'){_0x1173aa['_compoundP'+'arent']=_0x23726a['collision'];break;}_0x23726a=_0x23726a['parent'];}}}_0x1173aa['_compoundP'+'arent']&&_0x1173aa!==_0x1173aa['_compoundP'+'arent']&&(_0x27c0c7&&_0x1173aa['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x5b7+-0x133*-0x1+-0x121*-0x4?this['system']['recreatePh'+'ysicalShap'+'es'](_0x1173aa['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x57d975,!(-0x1fc9+0x2e6+0x1ce3)),_0x1173aa['_compoundP'+'arent']['entity']['rigidbody']&&_0x1173aa['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x57d975['rigidbody']?(_0x57d975['rigidbody']['disableSim'+'ulation'](),_0x57d975['rigidbody']['createBody'](),_0x57d975['enabled']&&_0x57d975['rigidbody']['enabled']&&_0x57d975['rigidbody']['enableSimu'+'lation']()):_0x1173aa['_compoundP'+'arent']||(_0x57d975['trigger']?_0x57d975['trigger']['initialize'](_0x3ed583):_0x57d975['trigger']=new sx(this['system']['app'],_0x1173aa,_0x3ed583));}}['createPhys'+'icalShape'](_0xeafd53,_0x14ca27){}['updateTran'+'sform'](_0x4fe717,_0x1afd69,_0x9ad21c,_0x5bac45){_0x4fe717['entity']['trigger']&&_0x4fe717['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x1c9eb8){_0x1c9eb8['shape']&&(Ammo['destroy'](_0x1c9eb8['shape']),_0x1c9eb8['shape']=null);}['beforeRemo'+'ve'](_0x3eb38a,_0x68696b){_0x68696b['data']['shape']&&(_0x68696b['_compoundP'+'arent']&&!_0x68696b['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x68696b['_compoundP'+'arent'],_0x68696b['data']['shape']),_0x68696b['_compoundP'+'arent']['entity']['rigidbody']&&_0x68696b['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x68696b['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x68696b['data']));}['remove'](_0x414b56,_0x4f8f20){_0x414b56['rigidbody']&&_0x414b56['rigidbody']['body']&&_0x414b56['rigidbody']['disableSim'+'ulation'](),_0x414b56['trigger']&&(_0x414b56['trigger']['destroy'](),delete _0x414b56['trigger']);}['clone'](_0x3d1db8,_0x3e54ca){const _0x34bdc7=this['system']['store'][_0x3d1db8['getGuid']()],_0x404085={'enabled':_0x34bdc7['data']['enabled'],'type':_0x34bdc7['data']['type'],'halfExtents':[_0x34bdc7['data']['halfExtent'+'s']['x'],_0x34bdc7['data']['halfExtent'+'s']['y'],_0x34bdc7['data']['halfExtent'+'s']['z']],'linearOffset':[_0x34bdc7['data']['linearOffs'+'et']['x'],_0x34bdc7['data']['linearOffs'+'et']['y'],_0x34bdc7['data']['linearOffs'+'et']['z']],'angularOffset':[_0x34bdc7['data']['angularOff'+'set']['x'],_0x34bdc7['data']['angularOff'+'set']['y'],_0x34bdc7['data']['angularOff'+'set']['z'],_0x34bdc7['data']['angularOff'+'set']['w']],'radius':_0x34bdc7['data']['radius'],'axis':_0x34bdc7['data']['axis'],'height':_0x34bdc7['data']['height'],'convexHull':_0x34bdc7['data']['convexHull'],'asset':_0x34bdc7['data']['asset'],'renderAsset':_0x34bdc7['data']['renderAsse'+'t'],'model':_0x34bdc7['data']['model'],'render':_0x34bdc7['data']['render'],'checkVertexDuplicates':_0x34bdc7['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x3e54ca,_0x404085);}}class aR extends Sn{['createPhys'+'icalShape'](_0x976a1e,_0x19bf4e){if(typeof Ammo<'u'){const _0x4438ae=_0x19bf4e['halfExtent'+'s'],_0x1c1ac7=new Ammo['btVector3'](_0x4438ae?_0x4438ae['x']:0x44e*0x9+0x1829+0x1*-0x3ee7+0.5,_0x4438ae?_0x4438ae['y']:0xa9e+-0xc68+0x1ca+0.5,_0x4438ae?_0x4438ae['z']:0x2026+0x7*-0x139+-0x63*0x3d+0.5),_0x3d944f=new Ammo['btBoxShape'](_0x1c1ac7);return Ammo['destroy'](_0x1c1ac7),_0x3d944f;}}}class oR extends Sn{['createPhys'+'icalShape'](_0x46a417,_0x2503e3){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x2503e3['radius']);}}class lR extends Sn{['createPhys'+'icalShape'](_0x1b7da8,_0x219c7f){const _0x4380b4=_0x219c7f['axis']??0x2*0xd2c+-0x6*0x1e6+0x2b*-0x59,_0x1cc549=_0x219c7f['radius']??0x1*0x1987+-0x19d1+0x4a*0x1+0.5,_0xaf6f3=Math['max']((_0x219c7f['height']??0x213+0xcd7*-0x3+0x4*0x91d)-(0x2*-0x626+-0xc68+0x18b6)*_0x1cc549,0x1*-0x23a4+-0x14a1*0x1+0x3845);let _0x4c2a63=null;if(typeof Ammo<'u')switch(_0x4380b4){case-0x24f6+0xd1e+0x2*0xbec:_0x4c2a63=new Ammo['btCapsuleS'+'hapeX'](_0x1cc549,_0xaf6f3);break;case-0x1*-0x10ee+0xb94+0x1*-0x1c81:_0x4c2a63=new Ammo['btCapsuleS'+'hape'](_0x1cc549,_0xaf6f3);break;case-0xb*-0xad+0x1*0x13bd+-0xb7*0x26:_0x4c2a63=new Ammo['btCapsuleS'+'hapeZ'](_0x1cc549,_0xaf6f3);break;}return _0x4c2a63;}}class hR extends Sn{['createPhys'+'icalShape'](_0x2079d3,_0x556e54){const _0x5de1cd=_0x556e54['axis']??-0x1f54+0x1083+-0x7*-0x21e,_0x158cc8=_0x556e54['radius']??0x1996*0x1+0x10d5+-0x1*0x2a6b+0.5,_0x2d9773=_0x556e54['height']??-0x1f6d+-0x1*0x16e8+-0x1b2b*-0x2;let _0x496285=null,_0x4f9a86=null;if(typeof Ammo<'u')switch(_0x5de1cd){case-0xe01+-0xd62+-0x9*-0x30b:_0x496285=new Ammo['btVector3'](_0x2d9773*(-0x22cf+0x1cc1+0x60e+0.5),_0x158cc8,_0x158cc8),_0x4f9a86=new Ammo['btCylinder'+'ShapeX'](_0x496285);break;case-0xb1d*-0x1+0x1f*0x1+-0xb3b:_0x496285=new Ammo['btVector3'](_0x158cc8,_0x2d9773*(-0x88e+-0x1*-0x469+-0x425*-0x1+0.5),_0x158cc8),_0x4f9a86=new Ammo['btCylinder'+'Shape'](_0x496285);break;case-0x4d*0x45+0x928*-0x1+-0x9*-0x353:_0x496285=new Ammo['btVector3'](_0x158cc8,_0x158cc8,_0x2d9773*(-0x1ac8+0x4c7*-0x1+-0x1f8f*-0x1+0.5)),_0x4f9a86=new Ammo['btCylinder'+'ShapeZ'](_0x496285);break;}return _0x496285&&Ammo['destroy'](_0x496285),_0x4f9a86;}}class cR extends Sn{['createPhys'+'icalShape'](_0x19c61f,_0x183d67){const _0x10e38f=_0x183d67['axis']??0x12f9+0x16dc+-0x29d4,_0x4d3665=_0x183d67['radius']??0x2077+-0x2*0x3b5+-0x190d+0.5,_0x55d860=_0x183d67['height']??0x2e*-0x29+-0x698+0xdf7;let _0x158e69=null;if(typeof Ammo<'u')switch(_0x10e38f){case-0x1*0x2467+-0x119c+0x3603:_0x158e69=new Ammo['btConeShap'+'eX'](_0x4d3665,_0x55d860);break;case-0x71f*0x3+0x38*0xf+0x1216:_0x158e69=new Ammo['btConeShap'+'e'](_0x4d3665,_0x55d860);break;case 0x1*0x18c8+0x24*0xe7+0xe*-0x417:_0x158e69=new Ammo['btConeShap'+'eZ'](_0x4d3665,_0x55d860);break;}return _0x158e69;}}class dR extends Sn{['beforeInit'+'ialize'](_0x55d801,_0x4a4b28){}['createAmmo'+'Hull'](_0x52d3fd,_0x4c867a,_0x548f0c,_0x15180b){const _0x3f9f63=new Ammo['btConvexHu'+'llShape'](),_0x5c84b2=new Ammo['btVector3'](),_0xedde53=[];_0x52d3fd['getPositio'+'ns'](_0xedde53);for(let _0x4a228f=0x5*0x611+0x2*0x2a5+0x33d*-0xb;_0x4a228f<_0xedde53['length'];_0x4a228f+=0x1ec9+0x131e+0xce*-0x3e)_0x5c84b2['setValue'](_0xedde53[_0x4a228f]*_0x15180b['x'],_0xedde53[_0x4a228f+(0x2129+-0x1*-0xb9e+-0x2cc6)]*_0x15180b['y'],_0xedde53[_0x4a228f+(-0x25c*0x1+0x8d*0x40+-0x20e2)]*_0x15180b['z']),_0x3f9f63['addPoint'](_0x5c84b2,!(0x9de+-0x1630+0xc53));Ammo['destroy'](_0x5c84b2),_0x3f9f63['recalcLoca'+'lAabb'](),_0x3f9f63['setMargin'](0x10*0x1e9+0xe4*-0x15+0xb*-0x114+0.01);const _0x4166aa=this['system']['_getNodeTr'+'ansform'](_0x4c867a);_0x548f0c['addChildSh'+'ape'](_0x4166aa,_0x3f9f63),Ammo['destroy'](_0x4166aa);}['createAmmo'+'Mesh'](_0x411755,_0x14bf52,_0x58556b,_0x55eeb1,_0x27b954=!(-0x2661+-0x18aa+-0x3f0b*-0x1)){const _0x45fe26=this['system'];let _0x5ef2af;if(_0x45fe26['_triMeshCa'+'che'][_0x411755['id']])_0x5ef2af=_0x45fe26['_triMeshCa'+'che'][_0x411755['id']];else{const _0xd7c6f1=_0x411755['vertexBuff'+'er'],_0x4cf1b9=_0xd7c6f1['getFormat']();let _0x2d8d7f,_0x232206;for(let _0x1a8a39=-0xdee+-0x464+-0x5*-0x3aa;_0x1a8a39<_0x4cf1b9['elements']['length'];_0x1a8a39++){const _0x3fb482=_0x4cf1b9['elements'][_0x1a8a39];if(_0x3fb482['name']===He){_0x232206=new Float32Array(_0xd7c6f1['lock'](),_0x3fb482['offset']),_0x2d8d7f=_0x3fb482['stride']/(0x1271+0xda3+0xd8*-0x26);break;}}const _0x252463=[];_0x411755['getIndices'](_0x252463);const _0x1e964d=_0x411755['primitive'][-0x136e+-0xb06+0x1e74]['count']/(-0x187+0x38c+-0x2*0x101),_0x1938e7=new Ammo['btVector3']();let _0x3b1d3e,_0xdb67a5,_0x400485;const _0x53340f=_0x411755['primitive'][0x2e*0x53+0x8*-0x228+0x256]['base'];_0x5ef2af=new Ammo['btTriangle'+'Mesh'](),_0x45fe26['_triMeshCa'+'che'][_0x411755['id']]=_0x5ef2af;const _0x23ac20=new Map();v['assert'](typeof _0x5ef2af['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x25981c=_0x5ef2af['getIndexed'+'MeshArray']();_0x25981c['at'](-0x2554+0x51f+0x2035)['m_numTrian'+'gles']=_0x1e964d;const _0x5ab579=_0x55eeb1?_0x55eeb1['x']:0x9*0x2c5+-0x3*-0xa90+-0x389c,_0x3f5b57=_0x55eeb1?_0x55eeb1['y']:0x86f*-0x2+0x136d+-0x28e,_0xd0c173=_0x55eeb1?_0x55eeb1['z']:0x1eec+-0x1*-0x24bb+0x4d5*-0xe,_0x177b22=_0x345547=>{const _0x26a411=_0x232206[_0x345547*_0x2d8d7f]*_0x5ab579,_0x830a7c=_0x232206[_0x345547*_0x2d8d7f+(0x2*-0x124b+-0x23a+-0x13*-0x20b)]*_0x3f5b57,_0xca2a97=_0x232206[_0x345547*_0x2d8d7f+(-0xf5b+0x7*-0x337+0x25de)]*_0xd0c173;let _0x1f44ce;if(_0x27b954){const _0x3c86b8=_0x26a411+':'+_0x830a7c+':'+_0xca2a97;if(_0x1f44ce=_0x23ac20['get'](_0x3c86b8),_0x1f44ce!==void(0x1*0x515+-0x164d+0x1138))return _0x1f44ce;_0x1938e7['setValue'](_0x26a411,_0x830a7c,_0xca2a97),_0x1f44ce=_0x5ef2af['findOrAddV'+'ertex'](_0x1938e7,!(0x1c4c+0x21b*-0xd+-0x3b*0x4)),_0x23ac20['set'](_0x3c86b8,_0x1f44ce);}else _0x1938e7['setValue'](_0x26a411,_0x830a7c,_0xca2a97),_0x1f44ce=_0x5ef2af['findOrAddV'+'ertex'](_0x1938e7,!(-0x75d+0x1d69*-0x1+0x1*0x24c7));return _0x1f44ce;};for(let _0x3bf211=0x1429*-0x1+0x1*-0x1fa2+0x1*0x33cb;_0x3bf211<_0x1e964d;_0x3bf211++)_0x3b1d3e=_0x177b22(_0x252463[_0x53340f+_0x3bf211*(0x31f+0x1bb9+-0x1ed5*0x1)]),_0xdb67a5=_0x177b22(_0x252463[_0x53340f+_0x3bf211*(-0x1132*0x1+-0x2490+-0x1*-0x35c5)+(0x25c1+0xb01+-0x30c1)]),_0x400485=_0x177b22(_0x252463[_0x53340f+_0x3bf211*(-0x1183+-0x21b7+-0x1*-0x333d)+(-0x2*0xf38+0x413*-0x1+0x2285)]),_0x5ef2af['addIndex'](_0x3b1d3e),_0x5ef2af['addIndex'](_0xdb67a5),_0x5ef2af['addIndex'](_0x400485);Ammo['destroy'](_0x1938e7);}const _0xb5b6f=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x5ef2af,!(-0x4*0x7a2+0x5*0x166+0x178a*0x1));if(!_0x55eeb1){const _0x1eb679=_0x45fe26['_getNodeSc'+'aling'](_0x14bf52);_0xb5b6f['setLocalSc'+'aling'](_0x1eb679),Ammo['destroy'](_0x1eb679);}const _0x3afd98=_0x45fe26['_getNodeTr'+'ansform'](_0x14bf52);_0x58556b['addChildSh'+'ape'](_0x3afd98,_0xb5b6f),Ammo['destroy'](_0x3afd98);}['createPhys'+'icalShape'](_0x205b1f,_0x46e7ed){if(!(typeof Ammo>'u')&&(_0x46e7ed['model']||_0x46e7ed['render'])){const _0x43b382=new Ammo['btCompound'+'Shape'](),_0x2786e8=_0x205b1f['getWorldTr'+'ansform']()['getScale']();if(_0x46e7ed['render']){const _0x520cb9=_0x46e7ed['render']['meshes'];for(let _0x3e059e=0x33*0x58+-0x251f+0x127*0x11;_0x3e059e<_0x520cb9['length'];_0x3e059e++)_0x46e7ed['convexHull']?this['createAmmo'+'Hull'](_0x520cb9[_0x3e059e],cg,_0x43b382,_0x2786e8):this['createAmmo'+'Mesh'](_0x520cb9[_0x3e059e],cg,_0x43b382,_0x2786e8,_0x46e7ed['checkVerte'+'xDuplicate'+'s']);}else{if(_0x46e7ed['model']){const _0x5b0629=_0x46e7ed['model']['meshInstan'+'ces'];for(let _0x43695a=-0x719*0x2+0x2a0+0xb92;_0x43695a<_0x5b0629['length'];_0x43695a++)this['createAmmo'+'Mesh'](_0x5b0629[_0x43695a]['mesh'],_0x5b0629[_0x43695a]['node'],_0x43b382,null,_0x46e7ed['checkVerte'+'xDuplicate'+'s']);const _0x2fa0e8=new Ammo['btVector3'](_0x2786e8['x'],_0x2786e8['y'],_0x2786e8['z']);_0x43b382['setLocalSc'+'aling'](_0x2fa0e8),Ammo['destroy'](_0x2fa0e8);}}return _0x43b382;}}['recreatePh'+'ysicalShap'+'es'](_0x36a642){const _0x43ed79=_0x36a642['data'];if((_0x43ed79['renderAsse'+'t']||_0x43ed79['asset'])&&_0x36a642['enabled']&&_0x36a642['entity']['enabled']){this['loadAsset'](_0x36a642,_0x43ed79['renderAsse'+'t']||_0x43ed79['asset'],_0x43ed79['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x36a642);}['loadAsset'](_0x807286,_0x2f50a9,_0x4e53e8){const _0x2c95e7=_0x807286['data'],_0x54a7bc=this['system']['app']['assets'],_0xfcb5f4=_0x2c95e7[_0x4e53e8],_0x139c6a=_0x59af7c=>{_0x2c95e7[_0x4e53e8]===_0xfcb5f4&&(_0x2c95e7[_0x4e53e8]=_0x59af7c['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x807286));},_0x1a68bc=_0x2e0123=>{_0x2e0123['ready'](_0x1be131=>{if(_0x1be131['data']['containerA'+'sset']){const _0x381ae3=_0x54a7bc['get'](_0x1be131['data']['containerA'+'sset']);_0x381ae3['loaded']?_0x139c6a(_0x1be131):(_0x381ae3['ready'](()=>{_0x139c6a(_0x1be131);}),_0x54a7bc['load'](_0x381ae3));}else _0x139c6a(_0x1be131);}),_0x54a7bc['load'](_0x2e0123);},_0x4691f4=_0x54a7bc['get'](_0x2f50a9);_0x4691f4?_0x1a68bc(_0x4691f4):_0x54a7bc['once']('add:'+_0x2f50a9,_0x1a68bc);}['doRecreate'+'PhysicalSh'+'ape'](_0x20db67){const _0xbb73bd=_0x20db67['entity'],_0xff41cb=_0x20db67['data'];_0xff41cb['model']||_0xff41cb['render']?(this['destroySha'+'pe'](_0xff41cb),_0xff41cb['shape']=this['createPhys'+'icalShape'](_0xbb73bd,_0xff41cb),_0xbb73bd['rigidbody']?(_0xbb73bd['rigidbody']['disableSim'+'ulation'](),_0xbb73bd['rigidbody']['createBody'](),_0xbb73bd['enabled']&&_0xbb73bd['rigidbody']['enabled']&&_0xbb73bd['rigidbody']['enableSimu'+'lation']()):_0xbb73bd['trigger']?_0xbb73bd['trigger']['initialize'](_0xff41cb):_0xbb73bd['trigger']=new sx(this['system']['app'],_0x20db67,_0xff41cb)):(this['beforeRemo'+'ve'](_0xbb73bd,_0x20db67),this['remove'](_0xbb73bd,_0xff41cb));}['updateTran'+'sform'](_0x15aa31,_0x4d56a8,_0x47c239,_0x530b3f){if(_0x15aa31['shape']){const _0x7cc3c=_0x15aa31['entity']['getWorldTr'+'ansform']()['getScale'](),_0x183c99=_0x15aa31['shape']['getLocalSc'+'aling']();(_0x7cc3c['x']!==_0x183c99['x']()||_0x7cc3c['y']!==_0x183c99['y']()||_0x7cc3c['z']!==_0x183c99['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x15aa31);}super['updateTran'+'sform'](_0x15aa31,_0x4d56a8,_0x47c239,_0x530b3f);}['destroySha'+'pe'](_0x2fe1cf){if(!_0x2fe1cf['shape'])return;const _0x2d4e02=_0x2fe1cf['shape']['getNumChil'+'dShapes']();for(let _0x8e08bf=-0x45*-0x3f+-0x2471+0x1376;_0x8e08bf<_0x2d4e02;_0x8e08bf++){const _0x5a3119=_0x2fe1cf['shape']['getChildSh'+'ape'](_0x8e08bf);Ammo['destroy'](_0x5a3119);}Ammo['destroy'](_0x2fe1cf['shape']),_0x2fe1cf['shape']=null;}}class uR extends Sn{['createPhys'+'icalShape'](_0x5cfb35,_0x1857eb){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x3d3a31){!_0x3d3a31['collision']||_0x3d3a31['rigidbody']||(_0x3d3a31['collision']['_compoundP'+'arent']=this,_0x3d3a31!==this['entity']&&_0x3d3a31['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x3d3a31['collision']));}['_updateEac'+'hDescendan'+'t'](_0x37d9de){_0x37d9de['collision']&&_0x37d9de['collision']['_compoundP'+'arent']===this&&(_0x37d9de['collision']['_compoundP'+'arent']=null,_0x37d9de!==this['entity']&&!_0x37d9de['rigidbody']&&_0x37d9de['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x37d9de['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x43b7e7){!_0x43b7e7['collision']||_0x43b7e7['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x43b7e7,!(-0x2656+0x2*-0xadf+-0x3c15*-0x1));}}class fR extends Xe{constructor(_0x1e7aaf){super(_0x1e7aaf),this['id']='collision',this['ComponentT'+'ype']=Kn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x98f17b,_0xaa0a0e,_0x5322c8){_0x5322c8=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x671cb9={};for(let _0x58aeb3=0xd3*0x12+0x21d5+0x1039*-0x3,_0x507e66=_0x5322c8['length'];_0x58aeb3<_0x507e66;_0x58aeb3++){const _0xb01de8=_0x5322c8[_0x58aeb3];_0x671cb9[_0xb01de8]=_0xaa0a0e[_0xb01de8];}let _0x24cb79;if(_0xaa0a0e['hasOwnProp'+'erty']('asset')?(_0x24cb79=_0x5322c8['indexOf']('model'),_0x24cb79!==-(0x1*0x67a+0x16b2+-0x1d2b)&&_0x5322c8['splice'](_0x24cb79,-0x8b5*-0x3+-0x175*-0x1+-0x27*0xb5),_0x24cb79=_0x5322c8['indexOf']('render'),_0x24cb79!==-(-0x9*-0x322+-0x1*0x12a4+0x1e9*-0x5)&&_0x5322c8['splice'](_0x24cb79,-0x38*-0x81+-0x1adc+-0x15b)):_0xaa0a0e['hasOwnProp'+'erty']('model')&&(_0x24cb79=_0x5322c8['indexOf']('asset'),_0x24cb79!==-(0x19e2+0xe44+-0x2825)&&_0x5322c8['splice'](_0x24cb79,-0x1129*-0x1+-0xcc*-0xe+-0x1c50)),_0x671cb9['type']||(_0x671cb9['type']=_0x98f17b['data']['type']),_0x98f17b['data']['type']=_0x671cb9['type'],Array['isArray'](_0x671cb9['halfExtent'+'s'])&&(_0x671cb9['halfExtent'+'s']=new T(_0x671cb9['halfExtent'+'s'])),Array['isArray'](_0x671cb9['linearOffs'+'et'])&&(_0x671cb9['linearOffs'+'et']=new T(_0x671cb9['linearOffs'+'et'])),Array['isArray'](_0x671cb9['angularOff'+'set'])){const _0xe4ae89=_0x671cb9['angularOff'+'set'];_0xe4ae89['length']===-0x4e*-0x61+-0x5fd+0x3ed*-0x6?_0x671cb9['angularOff'+'set']=new te()['setFromEul'+'erAngles'](_0xe4ae89[-0x33*0x3e+-0xe84+0x1ade],_0xe4ae89[0x2579+0x3*0x557+0x357d*-0x1],_0xe4ae89[-0x177e+-0x3*0x79c+0x2e54]):_0x671cb9['angularOff'+'set']=new te(_0x671cb9['angularOff'+'set']);}const _0x24fff4=this['_createImp'+'lementatio'+'n'](_0x671cb9['type']);_0x24fff4['beforeInit'+'ialize'](_0x98f17b,_0x671cb9),super['initialize'+'ComponentD'+'ata'](_0x98f17b,_0x671cb9,_0x5322c8),_0x24fff4['afterIniti'+'alize'](_0x98f17b,_0x671cb9);}['_createImp'+'lementatio'+'n'](_0x3acb2a){if(this['implementa'+'tions'][_0x3acb2a]===void(-0x1e7*-0xb+0x1122*-0x1+-0x3cb*0x1)){let _0x4c930f;switch(_0x3acb2a){case'box':_0x4c930f=new aR(this);break;case'sphere':_0x4c930f=new oR(this);break;case'capsule':_0x4c930f=new lR(this);break;case'cylinder':_0x4c930f=new hR(this);break;case'cone':_0x4c930f=new cR(this);break;case'mesh':_0x4c930f=new dR(this);break;case'compound':_0x4c930f=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x3acb2a);}this['implementa'+'tions'][_0x3acb2a]=_0x4c930f;}return this['implementa'+'tions'][_0x3acb2a];}['_getImplem'+'entation'](_0x461192){return this['implementa'+'tions'][_0x461192['collision']['data']['type']];}['cloneCompo'+'nent'](_0x6b592a,_0x36a2c5){return this['_getImplem'+'entation'](_0x6b592a)['clone'](_0x6b592a,_0x36a2c5);}['onBeforeRe'+'move'](_0x41e7d8,_0x5366e5){this['implementa'+'tions'][_0x5366e5['data']['type']]['beforeRemo'+'ve'](_0x41e7d8,_0x5366e5),_0x5366e5['onBeforeRe'+'move']();}['onRemove'](_0xbd00d3,_0x2cf905){this['implementa'+'tions'][_0x2cf905['type']]['remove'](_0xbd00d3,_0x2cf905);}['updateComp'+'oundChildT'+'ransform'](_0xcdbd54,_0x74c2e5){const _0x41305a=_0xcdbd54['collision']['_compoundP'+'arent'];if(_0x41305a!==_0xcdbd54['collision']&&_0xcdbd54['enabled']&&_0xcdbd54['collision']['enabled']&&(_0xcdbd54['_dirtyLoca'+'l']||_0x74c2e5)){const _0x55f39d=this['_getNodeTr'+'ansform'](_0xcdbd54,_0x41305a['entity']),_0x439448=_0x41305a['getCompoun'+'dChildShap'+'eIndex'](_0xcdbd54['collision']['shape']);_0x439448===null?_0x41305a['shape']['addChildSh'+'ape'](_0x55f39d,_0xcdbd54['collision']['data']['shape']):_0x41305a['shape']['updateChil'+'dTransform'](_0x439448,_0x55f39d,!(0x1fc3+0x1387*-0x2+0x74b)),Ammo['destroy'](_0x55f39d);}}['_removeCom'+'poundChild'](_0x47c388,_0x4a4bf8){if(_0x47c388['shape']['getNumChil'+'dShapes']()!==-0x1e19+-0xfcd*0x1+0xa*0x497){if(_0x47c388['shape']['removeChil'+'dShape'])_0x47c388['shape']['removeChil'+'dShape'](_0x4a4bf8);else{const _0x18337e=_0x47c388['getCompoun'+'dChildShap'+'eIndex'](_0x4a4bf8);_0x18337e!==null&&_0x47c388['shape']['removeChil'+'dShapeByIn'+'dex'](_0x18337e);}}}['onTransfor'+'mChanged'](_0x1e0e3f,_0x5b52a6,_0x5a6a0a,_0x2992cf){this['implementa'+'tions'][_0x1e0e3f['data']['type']]['updateTran'+'sform'](_0x1e0e3f,_0x5b52a6,_0x5a6a0a,_0x2992cf);}['changeType'](_0x3a8ec1,_0x389e42,_0x329b4c){this['implementa'+'tions'][_0x389e42]['beforeRemo'+'ve'](_0x3a8ec1['entity'],_0x3a8ec1),this['implementa'+'tions'][_0x389e42]['remove'](_0x3a8ec1['entity'],_0x3a8ec1['data']),this['_createImp'+'lementatio'+'n'](_0x329b4c)['reset'](_0x3a8ec1,_0x3a8ec1['data']);}['recreatePh'+'ysicalShap'+'es'](_0x141549){this['implementa'+'tions'][_0x141549['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x141549);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x27fe16,_0x2aea7d){if(_0x27fe16===_0x2aea7d){const _0x5548a1=_0x27fe16['getWorldTr'+'ansform']()['getScale']();jl['setScale'](_0x5548a1['x'],_0x5548a1['y'],_0x5548a1['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x27fe16['parent'],_0x2aea7d),jl['mul'](_0x27fe16['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x20edcf){const _0x3686d4=_0x20edcf['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x3686d4['x'],_0x3686d4['y'],_0x3686d4['z']);}['_getNodeTr'+'ansform'](_0x16b2a6,_0x411cdd){let _0x4953a6,_0x257da4;_0x411cdd?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x16b2a6,_0x411cdd),_0x4953a6=iR,_0x257da4=Er,jl['getTransla'+'tion'](_0x4953a6),_0x257da4['setFromMat'+'4'](jl)):(_0x4953a6=_0x16b2a6['getPositio'+'n'](),_0x257da4=_0x16b2a6['getRotatio'+'n']());const _0x993e79=new Ammo['btQuaterni'+'on'](),_0x2ce639=new Ammo['btTransfor'+'m']();_0x2ce639['setIdentit'+'y']();const _0x4ad1d4=_0x2ce639['getOrigin'](),_0x2874ba=_0x16b2a6['collision'];if(_0x2874ba&&_0x2874ba['_hasOffset']){const _0x2ffbb9=_0x2874ba['data']['linearOffs'+'et'],_0x27897c=_0x2874ba['data']['angularOff'+'set'],_0xb5f770=rR;Er['copy'](_0x257da4)['transformV'+'ector'](_0x2ffbb9,_0xb5f770),_0xb5f770['add'](_0x4953a6),Er['copy'](_0x257da4)['mul'](_0x27897c),_0x4ad1d4['setValue'](_0xb5f770['x'],_0xb5f770['y'],_0xb5f770['z']),_0x993e79['setValue'](Er['x'],Er['y'],Er['z'],Er['w']);}else _0x4ad1d4['setValue'](_0x4953a6['x'],_0x4953a6['y'],_0x4953a6['z']),_0x993e79['setValue'](_0x257da4['x'],_0x257da4['y'],_0x257da4['z'],_0x257da4['w']);return _0x2ce639['setRotatio'+'n'](_0x993e79),Ammo['destroy'](_0x993e79),_0x2ce639;}['destroy'](){for(const _0x1c2aec in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x1c2aec]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Yl=new Y(),pR=new Bt();class mR{constructor(_0x4b4bd8,_0x32d6ec,_0x4edd7f){this['_entity']=_0x4b4bd8,this['_element']=_0x4b4bd8['element'],this['model']=new Bi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x32d6ec,this['meshInstan'+'ce']=new Le(this['mesh'],_0x4edd7f,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x4b4bd8['name'],this['meshInstan'+'ce']['castShadow']=!(0x25*0x42+0x14b6+0x10b*-0x1d),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x22*0xa1+-0x1232+0xa3*-0x5),this['_meshDirty']=!(-0x246a*-0x1+-0x31*-0x17+-0x28d0),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x13082b,_0xcca1ef;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x13082b=this['meshInstan'+'ce'])==null||_0x13082b['destroy'](),this['meshInstan'+'ce']=null,(_0xcca1ef=this['unmaskMesh'+'Instance'])==null||_0xcca1ef['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x22f558){this['meshInstan'+'ce']&&(this['mesh']=_0x22f558,this['meshInstan'+'ce']['mesh']=_0x22f558,this['meshInstan'+'ce']['visible']=!!_0x22f558,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x22f558),this['forceUpdat'+'eAabb']());}['setMask'](_0x6854b5){var _0x6eeb8e;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x6854b5){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x14f0+-0x1711+0x2*0x1601),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0xe0b*0x1+-0x2020+0x2e2c),this['unmaskMesh'+'Instance']['pick']=!(-0x4c*-0x32+0x23c5+-0x329c),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x57e4cf in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x57e4cf,this['meshInstan'+'ce']['parameters'][_0x57e4cf]['data']);}else{const _0x51e5c5=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x51e5c5>=-0x163*-0x1+-0x2084+0x1f21&&this['model']['meshInstan'+'ces']['splice'](_0x51e5c5,0x23d8+-0x2b*0x7d+-0xed8);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x6854b5||((_0x6eeb8e=this['unmaskMesh'+'Instance'])==null||_0x6eeb8e['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x433215){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x433215,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x433215));}['setParamet'+'er'](_0xe51352,_0x415272){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0xe51352,_0x415272),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0xe51352,_0x415272));}['deletePara'+'meter'](_0x11ad0e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x11ad0e),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x11ad0e));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x4b165d=function(_0x282252){let _0x4a3d40;const _0xa652be=_0x282252['children'],_0x507401=_0xa652be['length'];if(_0x507401){for(let _0x309785=0xbcc*-0x1+0x24b9+-0x9*0x2c5;_0x309785<_0x507401;_0x309785++)_0xa652be[_0x309785]['element']&&(_0x4a3d40=_0xa652be[_0x309785]);if(!_0x4a3d40)return null;const _0x58e754=_0x4b165d(_0x4a3d40);return _0x58e754||_0x4a3d40;}return null;};if(this['unmaskMesh'+'Instance']){const _0x1a1e86=_0x4b165d(this['_entity']);_0x1a1e86&&_0x1a1e86['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x1a1e86['element']['drawOrder']+_0x1a1e86['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](bs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x2a03a6){this['meshInstan'+'ce']&&(v['trace'](bs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x2a03a6),this['meshInstan'+'ce']['drawOrder']=_0x2a03a6);}['setCull'](_0x402c2c){if(!this['meshInstan'+'ce'])return;const _0x16dd56=this['_element'];let _0x4292b4=null;_0x402c2c&&_0x16dd56['_isScreenS'+'pace']()&&(_0x4292b4=function(_0x5a4300){return _0x16dd56['isVisibleF'+'orCamera'](_0x5a4300);}),this['meshInstan'+'ce']['cull']=_0x402c2c,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x4292b4,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x402c2c,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x4292b4);}['setScreenS'+'pace'](_0x5035d7){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x5035d7,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x5035d7));}['setLayer'](_0x87d537){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x87d537,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x87d537));}['forceUpdat'+'eAabb'](_0x498b3a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x7*-0x187+0x132b+-0x1ddb*0x1),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x1*0x48b+-0x1*0xa54+0x5ca)));}['setAabbFun'+'c'](_0x127374){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x127374,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x127374));}}class _R{constructor(_0x8cface){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x8cface,this['_entity']=_0x8cface['entity'],this['_system']=_0x8cface['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x1*-0x156b+-0x1c21+0x35b*0x2,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x70f*-0x2+-0x2d4*-0x5+0x5*-0x1),this['_rect']=new Q(-0x236+-0x4b7*0x1+-0x1*-0x6ed,-0x67a+0x1*0x4c1+-0x31*-0x9,-0x1*-0xa4+0xad6+0xb*-0x10b,-0x1*-0x278+-0x1*0x981+0x1*0x70a),this['_mask']=!(-0x59e*-0x5+-0x1c78+0x63),this['_maskRef']=0x22d3*0x1+0x2b3+-0x641*0x6,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0xc40+-0xacf+0x1*-0x16f),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0x1*-0x8bd+0x21b1*-0x1+0x713*0x6),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x2413+-0x47*0x4a+0x29*-0x61),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0x256a+-0x1*0x1177+-0x13f2,-0x1*-0x15ec+-0x7*-0x484+-0x3587,-0xe*0x65+-0x2499*-0x1+-0x1f12,0xedd+0x751+-0x162d),this['_colorUnif'+'orm']=new Float32Array([-0x29f*0xb+-0x222f+-0x11*-0x3b5,-0x26d8+-0x893*-0x3+0xd20,0xc05+-0xd*0x2cc+-0x52*-0x4c]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x5*0x41e+-0x95*0x25+-0x151*-0x20),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x4aa2d4){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x27eee2){this['_updateMat'+'erial'](_0x27eee2);}['_onScreenC'+'hange'](_0x39a144,_0xbd36b9){_0x39a144?this['_updateMat'+'erial'](_0x39a144['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0xa29+-0x4c*-0x6d+-0x1632*0x1));}['_onDrawOrd'+'erChange'](_0x38f6a8){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x38f6a8),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0xd*-0x20e+-0x60+0x1b17);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===rt||this['sprite']['renderMode']===Ze);}['_updateMat'+'erial'](_0xcc4555){const _0x18448e=!!this['_mask'],_0xee7bb=!!(this['sprite']&&this['sprite']['renderMode']===rt),_0x429350=!!(this['sprite']&&this['sprite']['renderMode']===Ze);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0xcc4555,_0x18448e,_0xee7bb,_0x429350)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0xcc4555),this['_renderabl'+'e']['setLayer'](_0xcc4555?Ub:c0));}['_createMes'+'h'](){const _0x277413=this['_element'],_0x41f6de=_0x277413['calculated'+'Width'],_0x3fd1d0=_0x277413['calculated'+'Height'],_0xce54e9=this['_rect'],_0x1a0d7b=this['_system']['app']['graphicsDe'+'vice'],_0x2e58d4=new Float32Array([_0x41f6de,0x13*0xe+0x789*-0x5+-0x1*-0x24a3,-0x1*-0x22d+0x4*-0x6da+-0x869*-0x3,0x1*-0x2f+0x136e*-0x1+0x139d,0x487*0x3+0xd93*0x2+0x28bb*-0x1,0x1b8b+0x1926+-0x34b0,_0xce54e9['x']+_0xce54e9['z'],0x15*0x1a3+-0x79d+-0x3*0x8eb-_0xce54e9['y'],_0x41f6de,_0x3fd1d0,0x1*0x2461+-0x11*-0x98+0x1*-0x2e79,0x3*-0x840+-0x7*0x138+-0x238*-0xf,0x20eb+-0x1ebc+-0x22f,-0xe77*-0x1+0x1*0x76f+0x1*-0x15e5,_0xce54e9['x']+_0xce54e9['z'],-0x1*0x5cc+-0xd0b+0x12d8-(_0xce54e9['y']+_0xce54e9['w']),-0x107f+0x180f+0x8*-0xf2,-0x1*-0x1cb4+0x2f*0xc1+-0x4023,0x4e5*0x7+-0xc2a*0x2+0x9ef*-0x1,0x104d+0x1c*-0xb3+0x347,-0xbb*0xc+-0x64d*0x3+0x939*0x3,-0x2528+-0x148d+-0xa6*-0x59,_0xce54e9['x'],0x525*0x7+0x17e0+-0x5*0xbfa-_0xce54e9['y'],0xd59+-0x26d2+0x1979,_0x3fd1d0,-0xcb*-0x1+0xc31+-0x454*0x3,0x1e2*-0x5+-0xc*0x82+0xf82,-0x1c*-0x19+0x8*0x466+-0x25ec,0x32f*0x3+0x866+0x11f2*-0x1,_0xce54e9['x'],-0xcb*0x6+0x111a+-0x51*0x27-(_0xce54e9['y']+_0xce54e9['w'])]),_0x4ab40f=pR['get'](_0x1a0d7b,()=>new Mt(_0x1a0d7b,[{'semantic':He,'components':0x3,'type':Ce},{'semantic':Zt,'components':0x3,'type':Ce},{'semantic':os,'components':0x2,'type':Ce}])),_0x1d90d6=new hs(_0x1a0d7b,_0x4ab40f,0xc*-0x25f+-0x1d*-0x118+0x40*-0xd,{'data':_0x2e58d4['buffer']}),_0x1133b4=new Ie(_0x1a0d7b);return _0x1133b4['vertexBuff'+'er']=_0x1d90d6,_0x1133b4['primitive'][-0x1*0x6ba+-0x2418+0x2ad2]['type']=or,_0x1133b4['primitive'][0x1c59+-0x136f+0x475*-0x2]['base']=0xbe7*-0x3+0x104d+0xd8*0x17,_0x1133b4['primitive'][-0x66d+-0x3*-0x544+-0x95f]['count']=0x1ccd+-0x4d6+-0x17f3,_0x1133b4['primitive'][0x2246+0x313*0x8+0x5e3*-0xa]['indexed']=!(-0xa3d*-0x1+-0x667*0x5+0x15c7),_0x1133b4['aabb']['setMinMax'](T['ZERO'],new T(_0x41f6de,_0x3fd1d0,-0xc55+-0x4*0x5ca+0x17*0x18b)),this['_updateMes'+'h'](_0x1133b4),_0x1133b4;}['_updateMes'+'h'](_0x1f788c){const _0x17aa8e=this['_element'];let _0x80667f=_0x17aa8e['calculated'+'Width'],_0x40de14=_0x17aa8e['calculated'+'Height'];if(_0x17aa8e['fitMode']!==yh&&this['_targetAsp'+'ectRatio']>-0x468+0x1048+-0x20*0x5f){const _0xd63ced=_0x17aa8e['calculated'+'Width']/_0x17aa8e['calculated'+'Height'];_0x17aa8e['fitMode']===YP&&_0xd63ced>this['_targetAsp'+'ectRatio']||_0x17aa8e['fitMode']===KP&&_0xd63ced<this['_targetAsp'+'ectRatio']?_0x80667f=_0x17aa8e['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x40de14=_0x17aa8e['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x593be6=_0x17aa8e['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x593be6),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===rt||this['sprite']['renderMode']===Ze)){const _0x8ea80e=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x577930=(-0x1a3*-0x5+0x1d28+-0x2555)/_0x8ea80e['rect']['z'],_0x47f2ef=(-0xec9+-0x248d*-0x1+-0x22d*0xa)/_0x8ea80e['rect']['w'];this['_innerOffs'+'et']['set'](_0x8ea80e['border']['x']*_0x577930,_0x8ea80e['border']['y']*_0x47f2ef,_0x8ea80e['border']['z']*_0x577930,_0x8ea80e['border']['w']*_0x47f2ef);const _0x5cc9ea=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x8ea80e['rect']['x']/_0x5cc9ea['width'],_0x8ea80e['rect']['y']/_0x5cc9ea['height'],_0x8ea80e['rect']['z']/_0x5cc9ea['width'],_0x8ea80e['rect']['w']/_0x5cc9ea['height']);const _0x2aebe3=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x372682=_0x8ea80e['rect']['z']/_0x2aebe3,_0x32099b=_0x8ea80e['rect']['w']/_0x2aebe3;this['_outerScal'+'e']['set'](Math['max'](_0x80667f,this['_innerOffs'+'et']['x']*_0x372682),Math['max'](_0x40de14,this['_innerOffs'+'et']['y']*_0x32099b));let _0x4b150a=_0x372682,_0x44db63=_0x32099b;this['_outerScal'+'e']['x']/=_0x372682,this['_outerScal'+'e']['y']/=_0x32099b,_0x4b150a*=N['clamp'](_0x80667f/(this['_innerOffs'+'et']['x']*_0x372682),0xa66+0x61*0x2b+-0x1ab1*0x1+0.0001,0x1aa+0x2*0xb5f+-0x1867),_0x44db63*=N['clamp'](_0x40de14/(this['_innerOffs'+'et']['y']*_0x32099b),-0x209b+0x21f9+0xaf*-0x2+0.0001,0xd*-0x19b+0x1ae*0x4+-0x97*-0x18),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x15ff+0x21*-0xc1+0x2ee0]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x3*0x15d+0x885+0xb*-0x67]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0xf9f+0x5fb*0x5+-0x2d84]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x3*0xbcb+0x1126+-0x3a6*-0x5]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x21*0xb7+0x1505+-0x4*0xb27]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1f*-0x3+0x60a*0x2+-0x10*0xc7]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x7d2+-0xdf7+0x627]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x1*0x1ea7+-0x165b+-0x2c3*0x3]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0xb*-0x1c1+-0xddf*-0x2+-0x2f09]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1c3d*-0x1+-0x16b+-0x1*0x1ad1]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x4b150a,_0x44db63,-0x243*0xc+0x183f+0x1*0x2e6),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x17fd+0x231a*-0x1+0x3b17+0.5-_0x17aa8e['pivot']['x'])*_0x80667f,(0x24a8+-0x11a1+0x1*-0x1307+0.5-_0x17aa8e['pivot']['y'])*_0x40de14,-0x1c61+0x20c8+-0x467));}else{const _0x2ecc87=_0x1f788c['vertexBuff'+'er'],_0x30874f=new Float32Array(_0x2ecc87['lock']()),_0x5af7da=_0x17aa8e['pivot']['x'],_0x336f23=_0x17aa8e['pivot']['y'];_0x30874f[-0x13ee*-0x1+0xd6*-0x2e+-0x2*-0x943]=_0x80667f-_0x5af7da*_0x80667f,_0x30874f[-0x5*-0x110+-0x10c1+-0x2*-0x5b9]=-0x57a*-0x4+-0x1*-0x1de+-0x166*0x11-_0x336f23*_0x40de14,_0x30874f[0x1eb6+-0x1014+-0xe9a]=_0x80667f-_0x5af7da*_0x80667f,_0x30874f[0x33a*-0xa+0x49*-0x63+0x12a*0x34]=_0x40de14-_0x336f23*_0x40de14,_0x30874f[0x59*-0x6f+0x1657+0x1050]=-0x1*-0x1801+0x7bf+-0x1fc0-_0x5af7da*_0x80667f,_0x30874f[0x206d+0x20e7*-0x1+0x8b]=-0x12b3+-0x2508+0x511*0xb-_0x336f23*_0x40de14,_0x30874f[-0x182a+0xd84+0xabe]=-0x1*0xce2+0x8bd+0x425-_0x5af7da*_0x80667f,_0x30874f[-0x94*0x34+0xfd8+0xe51]=_0x40de14-_0x336f23*_0x40de14;let _0x25a079=-0x457+-0x1016+0x20b*0xa,_0x28719d=-0x89b+-0x213d+0x29d9,_0x1c6767=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x3e971c=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x3e971c&&(_0x1c6767=_0x3e971c['rect'],_0x25a079=this['_sprite']['atlas']['texture']['width'],_0x28719d=this['_sprite']['atlas']['texture']['height']);}_0x30874f[0x4*0x1f6+0x1*0x19a3+-0x1*0x2175]=(_0x1c6767['x']+_0x1c6767['z'])/_0x25a079,_0x30874f[-0x1e34+-0x10*0x170+0x353b]=0x140b+-0x74e*-0x4+-0x61*0x82-_0x1c6767['y']/_0x28719d,_0x30874f[0x18c8*0x1+0x13a8+-0x1*0x2c62]=(_0x1c6767['x']+_0x1c6767['z'])/_0x25a079,_0x30874f[0xd1c+0x1d09+-0x1*0x2a16]=-0x2003+-0x9d3+0x29d7*0x1-(_0x1c6767['y']+_0x1c6767['w'])/_0x28719d,_0x30874f[-0x1dc8+-0x10f5+0x2ed3]=_0x1c6767['x']/_0x25a079,_0x30874f[-0x4db*0x3+-0x2573+0x341b]=0xf98+0x149d*0x1+-0x2434-_0x1c6767['y']/_0x28719d,_0x30874f[-0x4*-0x9aa+-0x1cb1+-0x9d9]=_0x1c6767['x']/_0x25a079,_0x30874f[-0x14f2+-0x24*-0x4+-0xb5*-0x1d]=0x67f+-0xaec+-0x12*-0x3f-(_0x1c6767['y']+_0x1c6767['w'])/_0x28719d,_0x2ecc87['unlock']();const _0x1bcfb9=new T(0x8c9+0xfb*-0x1f+0x159c-_0x5af7da*_0x80667f,0x134f+-0x127b+0x6a*-0x2-_0x336f23*_0x40de14,0x9b5*0x2+-0x8ae*-0x2+-0xc42*0x3),_0x400538=new T(_0x80667f-_0x5af7da*_0x80667f,_0x40de14-_0x336f23*_0x40de14,0x1ea7*0x1+0x143a+-0x32e1);_0x1f788c['aabb']['setMinMax'](_0x1bcfb9,_0x400538),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x11b5+0x2*0x26b+-0x168a,0x17*-0x3+0x1940+0x8b*-0x2e,0x69d+0xd*-0x16a+0xb*0x112),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x140b+0x49*0x4f+-0x2a92,-0xb1e+0x9a*-0x8+0x2*0x7f7,-0x851*0x1+-0x1bf7+-0x6*-0x60c),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x26ef+0x2702*0x1+0x12*-0x1);}['_updateSpr'+'ite'](){let _0x1178ea=!(0x20b2+-0x2*0xc32+-0x19*0x55),_0x8e45d3=null;if(this['_targetAsp'+'ectRatio']=-(-0x1bab+0x3*0x283+0x1423),this['_sprite']&&this['_sprite']['atlas']){_0x8e45d3=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x1178ea=this['_sprite']['renderMode']===rt||this['_sprite']['renderMode']===Ze;const _0x64f738=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x64f738==null?void(-0x8*0x201+-0x141f+0x2427):_0x64f738['rect']['w'])>-0x1c*-0x6a+-0x2515+0x197d&&(this['_targetAsp'+'ectRatio']=_0x64f738['rect']['z']/_0x64f738['rect']['w']);}this['mesh']=_0x1178ea?_0x8e45d3:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x289*0x4+0x38e*0x5+-0xdf5*0x2):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x595b1a){return _0x595b1a['center']['set'](-0x1*0x232f+-0x13*0x17a+0x3f3d,0x17fa+0x1*0x21fb+-0x39f5,-0x2465+-0x956+0x2dbb),_0x595b1a['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x22dd+0x17f5+0xae8+0.5),this['_outerScal'+'e']['y']*(-0x26a1+-0x2a1*-0x1+-0x1200*-0x2+0.5),-0x1cf6+-0x24b3*-0x1+-0x7*0x11b+0.001),_0x595b1a['setFromTra'+'nsformedAa'+'bb'](_0x595b1a,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x595b1a;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x4e92eb=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4e92eb),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x547922){this['material']=_0x547922['resource'];}['_onMateria'+'lAdded'](_0x14a4a3){this['_system']['app']['assets']['off']('add:'+_0x14a4a3['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x14a4a3['id']&&this['_bindMater'+'ialAsset'](_0x14a4a3);}['_bindMater'+'ialAsset'](_0x4ef74c){this['_entity']['enabled']&&(_0x4ef74c['on']('load',this['_onMateria'+'lLoad'],this),_0x4ef74c['on']('change',this['_onMateria'+'lChange'],this),_0x4ef74c['on']('remove',this['_onMateria'+'lRemove'],this),_0x4ef74c['resource']?this['_onMateria'+'lLoad'](_0x4ef74c):this['_system']['app']['assets']['load'](_0x4ef74c));}['_unbindMat'+'erialAsset'](_0x5b38a3){_0x5b38a3['off']('load',this['_onMateria'+'lLoad'],this),_0x5b38a3['off']('change',this['_onMateria'+'lChange'],this),_0x5b38a3['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x481088){this['_system']['app']['assets']['off']('add:'+_0x481088['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x481088['id']&&this['_bindTextu'+'reAsset'](_0x481088);}['_bindTextu'+'reAsset'](_0x344f2f){this['_entity']['enabled']&&(_0x344f2f['on']('load',this['_onTexture'+'Load'],this),_0x344f2f['on']('change',this['_onTexture'+'Change'],this),_0x344f2f['on']('remove',this['_onTexture'+'Remove'],this),_0x344f2f['resource']?this['_onTexture'+'Load'](_0x344f2f):this['_system']['app']['assets']['load'](_0x344f2f));}['_unbindTex'+'tureAsset'](_0x14ba3a){_0x14ba3a['off']('load',this['_onTexture'+'Load'],this),_0x14ba3a['off']('change',this['_onTexture'+'Change'],this),_0x14ba3a['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x43dad4){this['texture']=_0x43dad4['resource'];}['_onTexture'+'Change'](_0xb41dac){}['_onTexture'+'Remove'](_0x3dd997){}['_onSpriteA'+'ssetAdded'](_0x511a99){this['_system']['app']['assets']['off']('add:'+_0x511a99['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x511a99['id']&&this['_bindSprit'+'eAsset'](_0x511a99);}['_bindSprit'+'eAsset'](_0xcfef87){this['_entity']['enabled']&&(_0xcfef87['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0xcfef87['on']('change',this['_onSpriteA'+'ssetChange'],this),_0xcfef87['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0xcfef87['resource']?this['_onSpriteA'+'ssetLoad'](_0xcfef87):this['_system']['app']['assets']['load'](_0xcfef87));}['_unbindSpr'+'iteAsset'](_0x3a8fc9){_0x3a8fc9['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x3a8fc9['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x3a8fc9['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x3a8fc9['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x3a8fc9['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x19d6db){if(!_0x19d6db||!_0x19d6db['resource'])this['sprite']=null;else{if(_0x19d6db['resource']['atlas'])this['sprite']=_0x19d6db['resource'];else{const _0x2c568e=_0x19d6db['data']['textureAtl'+'asAsset'];if(_0x2c568e){const _0x2c0d58=this['_system']['app']['assets'];_0x2c0d58['off']('load:'+_0x2c568e,this['_onTexture'+'AtlasLoad'],this),_0x2c0d58['once']('load:'+_0x2c568e,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x2faaea){this['_onSpriteA'+'ssetLoad'](_0x2faaea);}['_onSpriteA'+'ssetRemove'](_0x177990){}['_bindSprit'+'e'](_0xc77199){this['_evtSetMes'+'hes']=_0xc77199['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0xc77199['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0xc77199['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0xc77199['atlas']&&_0xc77199['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x546976){var _0x4edf14;(_0x4edf14=this['_evtSetMes'+'hes'])==null||_0x4edf14['off'](),this['_evtSetMes'+'hes']=null,_0x546976['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x546976['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x546976['atlas']&&_0x546976['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x0+0x5*0x182+-0xc1*0xa,this['_sprite']['frameKeys']['length']-(0xe3e*0x1+-0x2b*0x25+0x403*-0x2))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x287efe){const _0x17a487=this['_spriteAss'+'et'];_0x17a487 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x17a487):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x17a487));}['onEnable'](){if(this['_materialA'+'sset']){const _0x582ed3=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x582ed3&&_0x582ed3['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x582ed3);}if(this['_textureAs'+'set']){const _0x19b02f=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x19b02f&&_0x19b02f['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x19b02f);}if(this['_spriteAss'+'et']){const _0x34380a=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x34380a&&_0x34380a['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x34380a);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x115e73){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x115e73,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x115e73;let _0x90715f=-0x2550+0x1f81+-0x1*-0x5cf;if(this['_element']['maskedBy']&&(_0x90715f=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x2ed07b=new qs({'ref':_0x90715f+(-0xa3+-0x51*0x46+0x1*0x16ca),'func':Mh,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x2ed07b,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x2ed07b;}}['_updateRen'+'derableEmi'+'ssive'](){Yl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x690+0x21*0x3b+0x3*-0x59]=Yl['r'],this['_colorUnif'+'orm'][-0x1bdb+0x2*0xd73+0xf6]=Yl['g'],this['_colorUnif'+'orm'][0x1412+0xe6b+0x1*-0x227b]=Yl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x301d2a){this['_color']===_0x301d2a&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x2bedd7,g:_0x5779b4,b:_0x5d819d}=_0x301d2a;(this['_color']['r']!==_0x2bedd7||this['_color']['g']!==_0x5779b4||this['_color']['b']!==_0x5d819d)&&(this['_color']['r']=_0x2bedd7,this['_color']['g']=_0x5779b4,this['_color']['b']=_0x5d819d,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x4525a6){_0x4525a6!==this['_color']['a']&&(this['_color']['a']=_0x4525a6,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x4525a6)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x4525a6);}get['opacity'](){return this['_color']['a'];}set['rect'](_0xf6ecb){this['_rect']===_0xf6ecb&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x33b303,_0x17cd70,_0x5f3787,_0x1c973f;_0xf6ecb instanceof Q?(_0x33b303=_0xf6ecb['x'],_0x17cd70=_0xf6ecb['y'],_0x5f3787=_0xf6ecb['z'],_0x1c973f=_0xf6ecb['w']):(_0x33b303=_0xf6ecb[-0x632*-0x1+-0x2162+-0xa*-0x2b8],_0x17cd70=_0xf6ecb[-0x3fd*-0x2+0x1b0d+0x2*-0x1183],_0x5f3787=_0xf6ecb[0xa1a+-0x92*0x22+0x94c],_0x1c973f=_0xf6ecb[-0xc*0xb3+0x3d*0x22+0x4d]),!(_0x33b303===this['_rect']['x']&&_0x17cd70===this['_rect']['y']&&_0x5f3787===this['_rect']['z']&&_0x1c973f===this['_rect']['w'])&&(this['_rect']['set'](_0x33b303,_0x17cd70,_0x5f3787,_0x1c973f),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x146*0x1a+-0x1486+-0x166*0x9):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x2c8627=this['_system']['app']['assets'];_0x2c8627['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x4f8a85=_0x2c8627['get'](this['_materialA'+'sset']);_0x4f8a85&&(_0x4f8a85['off']('load',this['_onMateria'+'lLoad'],this),_0x4f8a85['off']('change',this['_onMateria'+'lChange'],this),_0x4f8a85['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x36adc5){if(this['_material']!==_0x36adc5){if(!_0x36adc5){const _0x4961b4=this['_element']['_isScreenS'+'pace']();this['mask']?_0x36adc5=_0x4961b4?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x36adc5=_0x4961b4?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x36adc5,this['_materialA'+'sset']){const _0x1e5e3f=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x1e5e3f||_0x1e5e3f['resource']!==_0x36adc5)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x36adc5&&(this['_renderabl'+'e']['setMateria'+'l'](_0x36adc5),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x3b703c){const _0x8877a1=this['_system']['app']['assets'];let _0x1b2cb7=_0x3b703c;if(_0x3b703c instanceof le&&(_0x1b2cb7=_0x3b703c['id']),this['_materialA'+'sset']!==_0x1b2cb7){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x1b2cb7,this['_materialA'+'sset']){const _0x24651f=_0x8877a1['get'](this['_materialA'+'sset']);_0x24651f?this['_bindMater'+'ialAsset'](_0x24651f):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x1b2cb7,_0x8877a1['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x1b2cb7;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x1ef65c){if(this['_texture']!==_0x1ef65c){if(this['_textureAs'+'set']){const _0xff0ae0=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0xff0ae0&&_0xff0ae0['resource']!==_0x1ef65c&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x1ef65c,_0x1ef65c){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x2b15b8=this['_texture']['width']/this['_texture']['height'];_0x2b15b8!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x2b15b8,this['_element']['fitMode']!==yh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x55*-0x31+0x920+-0x2*-0x393),this['_element']['fitMode']!==yh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x2692cc){const _0x2b54ee=this['_system']['app']['assets'];let _0x19db49=_0x2692cc;if(_0x2692cc instanceof le&&(_0x19db49=_0x2692cc['id']),this['_textureAs'+'set']!==_0x19db49){if(this['_textureAs'+'set']){_0x2b54ee['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x58390e=_0x2b54ee['get'](this['_textureAs'+'set']);_0x58390e&&(_0x58390e['off']('load',this['_onTexture'+'Load'],this),_0x58390e['off']('change',this['_onTexture'+'Change'],this),_0x58390e['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x19db49,this['_textureAs'+'set']){const _0x3c39ee=_0x2b54ee['get'](this['_textureAs'+'set']);_0x3c39ee?this['_bindTextu'+'reAsset'](_0x3c39ee):(this['texture']=null,_0x2b54ee['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x36f2f9){const _0x53b1a0=this['_system']['app']['assets'];let _0x2db565=_0x36f2f9;if(_0x36f2f9 instanceof le&&(_0x2db565=_0x36f2f9['id']),this['_spriteAss'+'et']!==_0x2db565){if(this['_spriteAss'+'et']){_0x53b1a0['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x518bed=_0x53b1a0['get'](this['_spriteAss'+'et']);_0x518bed&&this['_unbindSpr'+'iteAsset'](_0x518bed);}if(this['_spriteAss'+'et']=_0x2db565,this['_spriteAss'+'et']){const _0x4460cc=_0x53b1a0['get'](this['_spriteAss'+'et']);_0x4460cc?this['_bindSprit'+'eAsset'](_0x4460cc):(this['sprite']=null,_0x53b1a0['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x2db565);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x3564ae){if(this['_sprite']!==_0x3564ae){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x1208c9=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x1208c9&&_0x1208c9['resource']!==_0x3564ae&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x3564ae,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x2108+-0x1c81*0x1+0x3d89,this['_sprite']['frameKeys']['length']-(-0x1c31*-0x1+-0xb9c+-0x1094))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x4837fc){const _0x18997c=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x4837fc,-0xb*0x2f9+0x1*-0xb03+0x2bb6,this['_sprite']['frameKeys']['length']-(0x116e+0xd*0x2e7+-0x3728)):this['_spriteFra'+'me']=_0x4837fc,this['_spriteFra'+'me']!==_0x18997c&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x4837fc);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x40f4f9){this['_renderabl'+'e']['setMesh'](_0x40f4f9),this['_defaultMe'+'sh']===_0x40f4f9?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x380e4c){this['_mask']!==_0x380e4c&&(this['_mask']=_0x380e4c,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x399594){this['_pixelsPer'+'Unit']!==_0x399594&&(this['_pixelsPer'+'Unit']=_0x399594,this['_sprite']&&(this['_sprite']['renderMode']===rt||this['_sprite']['renderMode']===Ze)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x6b9bdd){super(),this['_app']=_0x6b9bdd,_0x6b9bdd['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x477+0x56*0x72+-0x21d4),this['_disableLo'+'calization']=!(-0x5*0x76d+-0x5*-0x743+0xd3),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x2a982d){const _0x5c0209=_0x2a982d instanceof le?_0x2a982d['id']:_0x2a982d;this['_defaultAs'+'set']!==_0x5c0209&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x5c0209,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x3f9c45){const _0x4732fc=_0x3f9c45 instanceof le?_0x3f9c45['id']:_0x3f9c45;this['_localized'+'Asset']!==_0x4732fc&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x4732fc,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x3cfe99){this['_autoLoad']!==_0x3cfe99&&(this['_autoLoad']=_0x3cfe99,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x4f38f5){this['_disableLo'+'calization']!==_0x4f38f5&&(this['_disableLo'+'calization']=_0x4f38f5,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x1fb7fb=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x1fb7fb?this['_onDefault'+'AssetAdd'](_0x1fb7fb):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x5c4136=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x5c4136&&(_0x5c4136['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x5c4136['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x5c4136['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x6dae2d){this['_defaultAs'+'set']===_0x6dae2d['id']&&(_0x6dae2d['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x6dae2d['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x6dae2d['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x4225e9){this['_defaultAs'+'set']===_0x4225e9['id']&&(_0x4225e9['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x4225e9['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x1f6dae=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x1f6dae&&(_0x1f6dae['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x1f6dae['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x1f6dae['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x1f6dae['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x1f6dae):this['_app']['assets']['load'](_0x1f6dae));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x4b7468=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x4b7468&&(_0x4b7468['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x4b7468['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x4b7468['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x10dcfe){this['_localized'+'Asset']===_0x10dcfe['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x9bcead){this['fire']('load',_0x9bcead);}['_onLocaliz'+'edAssetCha'+'nge'](_0x1bb81a,_0x4e7d36,_0x4ab2f8,_0x42efad){this['fire']('change',_0x1bb81a,_0x4e7d36,_0x4ab2f8,_0x42efad);}['_onLocaliz'+'edAssetRem'+'ove'](_0x58a1f4){this['_localized'+'Asset']===_0x58a1f4['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x58a1f4);}['_onLocaleA'+'dd'](_0x14df64,_0x5e739b){this['_app']['i18n']['locale']===_0x14df64&&this['_onSetLoca'+'le'](_0x14df64);}['_onLocaleR'+'emove'](_0x3bae21,_0x233793){this['_app']['i18n']['locale']===_0x3bae21&&this['_onSetLoca'+'le'](_0x3bae21);}['_onSetLoca'+'le'](_0x3054f8){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x53e6f8=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x53e6f8||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0xe8fd14=_0x53e6f8['getLocaliz'+'edAssetId'](_0x3054f8);if(!_0xe8fd14){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0xe8fd14;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Zh='msdf',yR='bitmap',ho=0x7d1+-0x2*0x25+-0x787,Zn=0x1332+-0x1095+-0x14e*0x2,lf=-0xc7*0x26+0xca2+0x10ea,ix=-0x24fb+0x21e3+-0xf*-0x35,hf=0x1588+-0x4c6+-0x1*0x10be,cf=-0x49d*-0x3+0xed*-0x1b+0xb2d*0x1,df=0x1d2a+0x1*-0x124d+-0x25*0x4b,uf=0x81a*-0x4+-0x1*-0x209f+-0x30,dg=-0x700+-0x24f*-0x7+-0x921,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x29d5c2){this['_symbols']=_0x29d5c2,this['_index']=0x3*-0x985+0x257*0xf+-0x68a,this['_last']=-0x2*0x2e6+0x1acd+-0x1501,this['_cur']=this['_symbols']['length']>0x2*0x1327+-0x101d+-0x1631*0x1?this['_symbols'][-0x17*0x137+-0x1b3b*-0x1+0xb6]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x9f79=this['_read']();for(;_0x9f79===dg;)_0x9f79=this['_read']();return _0x9f79!==ho&&_0x9f79!==Zn&&(this['_last']=this['_index']),_0x9f79;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x1f0cfe=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x27a800=this['read'](),_0x3c36c7='';for(;_0x3c36c7+=(_0x3c36c7['length']>0x872+0x1f51+-0xd41*0x3?'\x0a':'')+_0x1f0cfe[_0x27a800]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x27a800===ho||_0x27a800===Zn);)_0x27a800=this['read']();return _0x3c36c7;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x2*0x973+0x1297+0x4f?lf:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0x2b*0x35+0x2e7*0x9+-0x2306?lf:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Zn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',hf;case'=':return this['_store'](),cf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Zn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(0x218c+-0x1*0x2537+0x2*0x1d6);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Zn;case'\x22':return this['_next'](),df;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return uf;}['_isIdentif'+'ierSymbol'](_0x455ded){return _0x455ded['length']===-0xc*-0x21a+-0x10c2+-0x875&&_0x455ded['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0xff847e){this['_buf']['push'](_0xff847e);}}class bR{constructor(_0x441a3d){this['_scanner']=new vR(_0x441a3d),this['_error']=null;}['parse'](_0x26b1b5,_0x35ae2f){for(;;)switch(this['_scanner']['read']()){case ho:return!(-0x1a02+0x17ef*-0x1+0x31f1);case Zn:return!(-0x659+-0x24f2+-0x44*-0xa3);case lf:Array['prototype']['push']['apply'](_0x26b1b5,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x26b1b5,_0x35ae2f))return!(-0x1fde+0x2227+-0x4*0x92);break;default:return!(0x1*-0x21e6+0x1*0x25f4+0x11*-0x3d);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x48db3e,_0x2a840a){let _0xbfe324=this['_scanner']['read']();if(_0xbfe324!==uf)return this['_error']='expected\x20i'+'dentifier',!(0x3c*0x27+-0x1cf*0x11+0x159c);const _0x3fe8d0=this['_scanner']['buf']()['join']('');if(_0x3fe8d0[0x3*0x459+-0x200c+-0x3cd*-0x5]==='/'){for(let _0x42a94d=_0x2a840a['length']-(-0x1e5e+-0x15*0x3f+-0x238a*-0x1);_0x42a94d>=-0x23d8*0x1+-0x4b+0x2423;--_0x42a94d)if(_0x3fe8d0==='/'+_0x2a840a[_0x42a94d]['name']&&_0x2a840a[_0x42a94d]['end']===null)return _0x2a840a[_0x42a94d]['end']=_0x48db3e['length'],_0xbfe324=this['_scanner']['read'](),_0xbfe324!==hf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x8b5+-0x18a5+-0x1*-0x215b)):!(-0x1df1+-0x518*-0x1+-0x18d9*-0x1);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x118d+-0xae*0x2b+0x2ec8);}const _0x2a0c33={'name':_0x3fe8d0,'value':null,'attributes':{},'start':_0x48db3e['length'],'end':null};if(_0xbfe324=this['_scanner']['read'](),_0xbfe324===cf){if(_0xbfe324=this['_scanner']['read'](),_0xbfe324!==df)return this['_error']='expected\x20s'+'tring',!(-0x3*0x11+-0x1509+0x153d*0x1);_0x2a0c33['value']=this['_scanner']['buf']()['join'](''),_0xbfe324=this['_scanner']['read']();}for(;;){switch(_0xbfe324){case hf:return _0x2a840a['push'](_0x2a0c33),!(-0x437+-0x1ab7+0x1eee);case uf:{const _0x248c05=this['_scanner']['buf']()['join']('');if(_0xbfe324=this['_scanner']['read'](),_0xbfe324!==cf)return this['_error']='expected\x20e'+'quals',!(-0x24d7+0x7bd*0x2+0x155e);if(_0xbfe324=this['_scanner']['read'](),_0xbfe324!==df)return this['_error']='expected\x20s'+'tring',!(-0x171b+0x22a5*-0x1+0x39c1*0x1);const _0x1c9072=this['_scanner']['buf']()['join']('');_0x2a0c33['attributes'][_0x248c05]=_0x1c9072;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x290*-0x8+0xeec+0x595);}_0xbfe324=this['_scanner']['read']();}}}function rx(_0x6e1ae,_0x2e22c0){for(const _0x27620e in _0x2e22c0){if(!_0x2e22c0['hasOwnProp'+'erty'](_0x27620e))continue;const _0x3df705=_0x2e22c0[_0x27620e];_0x3df705 instanceof Object?(_0x6e1ae['hasOwnProp'+'erty'](_0x27620e)||(_0x6e1ae[_0x27620e]={}),rx(_0x6e1ae[_0x27620e],_0x2e22c0[_0x27620e])):_0x6e1ae[_0x27620e]=_0x3df705;}}function wR(_0x5c1c0b){if(_0x5c1c0b['length']===-0x240c+-0x14e9+0x38f5)return null;const _0x1fc466={};for(let _0x5f41b8=-0x24e2+-0xc92+0x3174;_0x5f41b8<_0x5c1c0b['length'];++_0x5f41b8){const _0x3593be=_0x5c1c0b[_0x5f41b8],_0x5b8f20={};_0x5b8f20[_0x3593be['name']]={'value':_0x3593be['value'],'attributes':_0x3593be['attributes']},rx(_0x1fc466,_0x5b8f20);}return _0x1fc466;}function TR(_0x32b14d,_0x5bd604){if(_0x32b14d['length']===0x37*0x91+-0x1091+0xe96*-0x1)return null;const _0x19f00e={};for(let _0x4d260c=0x895*-0x4+-0xd27+-0x451*-0xb;_0x4d260c<_0x32b14d['length'];++_0x4d260c){const _0x22c540=_0x32b14d[_0x4d260c];_0x19f00e['hasOwnProp'+'erty'](_0x22c540['start'])?_0x19f00e[_0x22c540['start']]['open']===null?_0x19f00e[_0x22c540['start']]['open']=[_0x22c540]:_0x19f00e[_0x22c540['start']]['open']['push'](_0x22c540):_0x19f00e[_0x22c540['start']]={'open':[_0x22c540],'close':null},_0x19f00e['hasOwnProp'+'erty'](_0x22c540['end'])?_0x19f00e[_0x22c540['end']]['close']===null?_0x19f00e[_0x22c540['end']]['close']=[_0x22c540]:_0x19f00e[_0x22c540['end']]['close']['push'](_0x22c540):_0x19f00e[_0x22c540['end']]={'open':null,'close':[_0x22c540]};}let _0x304885=[];function _0x4ba1fb(_0x103074){_0x304885=_0x304885['filter'](_0x4b93ca=>_0x103074['find'](_0x217851=>_0x217851===_0x4b93ca)===void(-0x55b*-0x1+-0x11fd+-0xe*-0xe7));}function _0x2cbc26(_0x476bdb){for(let _0x158bf6=0x6*0x60+0x19*-0x26+0x176;_0x158bf6<_0x476bdb['length'];++_0x158bf6)_0x304885['push'](_0x476bdb[_0x158bf6]);}const _0x5ae5f9=Object['keys'](_0x19f00e)['sort']((_0x58cbf0,_0x2ae9b1)=>_0x58cbf0-_0x2ae9b1),_0x3e352f=[];for(let _0x5b5991=0x18f9+0x1388+-0x2c81;_0x5b5991<_0x5ae5f9['length'];++_0x5b5991){const _0x12bcf8=_0x19f00e[_0x5ae5f9[_0x5b5991]];_0x12bcf8['close']!==null&&_0x4ba1fb(_0x12bcf8['close']),_0x12bcf8['open']!==null&&_0x2cbc26(_0x12bcf8['open']),_0x3e352f['push']({'start':_0x5ae5f9[_0x5b5991],'tags':wR(_0x304885)});}const _0x5afa8b=[];let _0x3952b6=null;for(let _0x1ad67a=-0xd6d+0x77*0x47+-0x1394;_0x1ad67a<_0x3e352f['length'];++_0x1ad67a){const _0x4e4975=_0x3e352f[_0x1ad67a];for(;_0x5afa8b['length']<_0x4e4975['start'];)_0x5afa8b['push'](_0x3952b6?_0x3952b6['tags']:null);_0x3952b6=_0x4e4975;}for(;_0x5afa8b['length']<_0x5bd604;)_0x5afa8b['push'](null);return _0x5afa8b;}function AR(_0x5b4aad){const _0x276721=new bR(_0x5b4aad),_0x546b5f=[],_0x4787ba=[];if(!_0x276721['parse'](_0x546b5f,_0x4787ba))return console['warn'](_0x276721['error']()),{'symbols':_0x5b4aad,'tags':null};const _0x15ad8f=_0x4787ba['find'](_0x405765=>_0x405765['end']===null);if(_0x15ad8f)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x15ad8f['name']+'\x27'),{'symbols':_0x5b4aad,'tags':null};const _0x4e05a4=TR(_0x4787ba,_0x546b5f['length']);return{'symbols':_0x546b5f,'tags':_0x4e05a4};}class CR{static['evaluate'](_0x47ccab){return AR(_0x47ccab);}}class ER{constructor(){this['count']=0x13ea+0x1*0x70a+-0x1af4*0x1,this['quad']=-0x21f9+0x35b*0xb+-0x2f0,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x452f55,_0x56acca){const _0x5c5b87=new Ie(_0x452f55);return _0x5c5b87['setPositio'+'ns'](_0x56acca['positions']),_0x5c5b87['setNormals'](_0x56acca['normals']),_0x5c5b87['setColors3'+'2'](_0x56acca['colors']),_0x5c5b87['setUvs'](-0x4*0x30a+-0x6*0x621+0x30ee,_0x56acca['uvs']),_0x5c5b87['setIndices'](_0x56acca['indices']),_0x5c5b87['setVertexS'+'tream'](Po,_0x56acca['outlines'],0x656*0x5+0xd6*-0x10+-0x29d*0x7,void(-0x229d*-0x1+-0x1e5e+0x1*-0x43f),Ce,!(0x714+-0x2*-0xee4+-0x24db)),_0x5c5b87['setVertexS'+'tream'](Ro,_0x56acca['shadows'],0x15*-0x63+-0xfa6+-0xbe4*-0x2,void(-0x1b53+-0x1ad5+0x6c5*0x8),Ce,!(0x1*0x1fa1+-0xdb5+-0x1*0x11eb)),_0x5c5b87['update'](),_0x5c5b87;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[]$/,DR=['','','','','','','','','','','','',''],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class kR{constructor(_0x3a8b46){this['_element']=_0x3a8b46,this['_system']=_0x3a8b46['system'],this['_entity']=_0x3a8b46['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x26b1+-0xe27+0x2*0x1a6c),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(0x1604+-0x153+0x52c*-0x4,-0x154c+0x361*0x5+-0x234*-0x2,-0x11*0x1d2+-0x1ac*0x8+0x2c53,0x241*0x11+0x113b+0xf1*-0x3b),this['_colorUnif'+'orm']=new Float32Array(-0xe*-0x61+-0x1e85+0x193a*0x1),this['_spacing']=0x1777+-0x164*-0x11+-0x2f1a,this['_fontSize']=-0x71*0x22+0x172*0xb+-0xc4,this['_fontMinY']=-0x3*0x86d+-0x1a3e+-0x4af*-0xb,this['_fontMaxY']=-0x1320+0x1ee8+-0xbc8,this['_originalF'+'ontSize']=0xee4+0x3b*-0x18+-0x49e*0x2,this['_maxFontSi'+'ze']=0x202c+-0x1*0x1883+-0x789,this['_minFontSi'+'ze']=0xdb1+0x21a2+0x2f4b*-0x1,this['_autoFitWi'+'dth']=!(0x185f*0x1+-0x3*0xcf+-0x15f1),this['_autoFitHe'+'ight']=!(0x6d*-0x11+0x2603+-0x1ec5),this['_maxLines']=-(-0xd*0x132+0x482*-0x1+0x3b*0x57),this['_lineHeigh'+'t']=-0x18a2+-0x24*-0x69+-0x1*-0x9fe,this['_scaledLin'+'eHeight']=0x1*-0x24e2+-0x3*-0x44d+0x21*0xbb,this['_wrapLines']=!(0x164b+-0x19f5+-0x1*-0x3ab),this['_drawOrder']=-0x17e9+-0x2590+0x3d79,this['_alignment']=new W(-0x2f6*0xc+0x34*0x34+0x18f8+0.5,0x18d1+0xed+-0x19be+0.5),this['_autoWidth']=!(-0x1170+-0x359+0x14c9),this['_autoHeigh'+'t']=!(0x1256+0x57*0x3d+0x2711*-0x1),this['width']=-0x1*0x288+-0x2684+-0xa43*-0x4,this['height']=0xd*-0x35+0x83c+-0x1d9*0x3,this['_node']=new De(),this['_model']=new Bi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x246*-0x1+-0x8bf*0x3+0x199*0xf),this['_aabb']=new _e(),this['_noResize']=!(-0x156a+0x1ebf+-0x954),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x2551+0x12ec+-0x1d7*-0xa),this['_unicodeCo'+'nverter']=!(-0x1*0x515+0xc53+-0x73d),this['_rtl']=!(-0xde7+-0x1d49+-0x2b31*-0x1),this['_outlineCo'+'lor']=new Y(-0x22e+-0x1*-0xd62+-0xb34,-0x16*0x3c+0x1b40+-0x1618,-0x7*0x3d1+0x191*-0xb+-0xe1*-0x32,0x90c+-0x2*-0x919+-0x13*0x16f),this['_outlineCo'+'lorUniform']=new Float32Array(-0x1d3e+0x82*0x26+0x1*0x9f6),this['_outlineTh'+'icknessSca'+'le']=-0x1*0x577+0x7c1*-0x4+-0x21*-0x11b+0.2,this['_outlineTh'+'ickness']=0x43c*0x4+0x17c2*-0x1+0x6d2,this['_shadowCol'+'or']=new Y(-0x1567+0x2159+-0xbf2,-0x144b+0x1378+-0xd3*-0x1,0x246+-0x1c6b+0x1a25,-0x22d2*-0x1+0x1c89+-0x3f5a),this['_shadowCol'+'orUniform']=new Float32Array(-0x17f9+0x223f+-0xa42),this['_shadowOff'+'setScale']=0x1b57+-0x2229+0x6d2+0.005,this['_shadowOff'+'set']=new W(0x1e70*-0x1+0x1359+0xb17,-0x20c2+0xd4f+0x1373),this['_shadowOff'+'setUniform']=new Float32Array(-0x13ef+0x2395*-0x1+0x3786),this['_enableMar'+'kup']=!(0xe43+0xbb5+-0x11*0x187),this['_onScreenC'+'hange'](this['_element']['screen']),_0x3a8b46['on']('resize',this['_onParentR'+'esize'],this),_0x3a8b46['on']('set:screen',this['_onScreenC'+'hange'],this),_0x3a8b46['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x3a8b46['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x3a8b46['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x1*-0x1498+0xde7+0x3*0x23b,this['_rangeEnd']=0x1d49+0x1c19+-0x3962;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x4d0614,_0x4080c1){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x26183b){_0x26183b?this['_updateMat'+'erial'](_0x26183b['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1ced+0xe9c+-0x4c6*-0x3));}['_onScreenS'+'paceChange'](_0x16c36f){this['_updateMat'+'erial'](_0x16c36f);}['_onDrawOrd'+'erChange'](_0x30697d){if(this['_drawOrder']=_0x30697d,this['_model']){for(let _0x252b1e=0x1*-0x1c1b+-0xc86+0x28a1,_0x4afa46=this['_model']['meshInstan'+'ces']['length'];_0x252b1e<_0x4afa46;_0x252b1e++)this['_model']['meshInstan'+'ces'][_0x252b1e]['drawOrder']=_0x30697d;}}['_onPivotCh'+'ange'](_0x2f564d){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x446c73){if(this['_i18nKey']){if(this['fontAsset']){const _0xc2afd0=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0xc2afd0||!_0xc2afd0['resource']||_0xc2afd0['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x24ad3e,_0x1f741f){this['_i18nKey']&&_0x1f741f[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x8c62a9){if(this['unicodeCon'+'verter']){const _0x5b8de4=this['_system']['getUnicode'+'Converter']();_0x5b8de4?_0x8c62a9=_0x5b8de4(_0x8c62a9):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x8c62a9&&(this['_font']&&this['_updateTex'+'t'](_0x8c62a9),this['_text']=_0x8c62a9);}['_updateTex'+'t'](_0x471342){let _0x4572d5;if(_0x471342===void(0x14c1+-0x1*-0x266b+-0xecb*0x4)&&(_0x471342=this['_text']),this['_symbols']=oh['getSymbols'](_0x471342['normalize']?_0x471342['normalize']('NFC'):_0x471342),this['_symbols']['length']===-0x1*-0x77b+-0x2030+0x18b5&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x1313be=CR['evaluate'](this['_symbols']);this['_symbols']=_0x1313be['symbols'],_0x4572d5=_0x1313be['tags']||[];}if(this['_rtlReorde'+'r']){const _0x436e74=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x436e74){const _0x531784=_0x436e74(this['_symbols']);this['_rtl']=_0x531784['rtl'],this['_symbols']=_0x531784['mapping']['map'](function(_0x19d216){return this['_symbols'][_0x19d216];},this),_0x4572d5&&(_0x4572d5=_0x531784['mapping']['map'](_0x2f891a=>_0x4572d5[_0x2f891a]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x3b5*0x4+0x2*-0x1225+0x1577);const _0x73d2e0=(_0x38c8ee,_0x1ff8cf)=>_0x38c8ee['toString'](!(-0x1f94+0x1b1b+0x479))['toLowerCas'+'e']()+':'+_0x1ff8cf['toFixed'](0x8*0x4ab+0x1*0x970+-0x2ec6),_0x1f1757=(_0x5829a6,_0x1931db)=>_0x5829a6['toString'](!(-0xa02+-0x61*0x5b+0x2c7d))['toLowerCas'+'e']()+':'+_0x1931db['x']['toFixed'](0x1ba*-0x2+0x2*0x30d+-0x2a4)+':'+_0x1931db['y']['toFixed'](-0x1d*-0xad+-0x17b*-0x3+-0x1808);if(_0x4572d5){const _0x15d9b4={},_0x355fba={},_0x51d56e={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0xecb*0x1+-0x20b3*0x1+0x64d*0x3)),Math['round'](this['_color']['g']*(0x10*-0x1eb+0xb7*-0x28+-0xd*-0x4a3)),Math['round'](this['_color']['b']*(-0x3*0x462+-0x1*0x7e1+0x1606*0x1))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x1baa+-0x629+-0x2*-0x1169)),Math['round'](this['_outlineCo'+'lor']['g']*(0x7*0x73+0xa7a+-0xca0)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x34e+-0x137*-0x19+-0x1a12)),Math['round'](this['_outlineCo'+'lor']['a']*(0x2*-0x1345+0x25ba+0x1cf)),Math['round'](this['_outlineTh'+'ickness']*(0xc55+-0x362+0x1fd*-0x4))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x36d+0x18*0xa5+-0x1*0x11e6)),Math['round'](this['_shadowCol'+'or']['g']*(0x2a5*-0xc+0x26*0xc7+0x331)),Math['round'](this['_shadowCol'+'or']['b']*(0x2282+0x815*-0x1+-0x1b2*0xf)),Math['round'](this['_shadowCol'+'or']['a']*(0xdd5+-0x1*-0x17ff+-0x24d5)),Math['round'](this['_shadowOff'+'set']['x']*(0x15d*0x14+-0x23b6+0x8f1)),Math['round'](this['_shadowOff'+'set']['y']*(-0x24bd*-0x1+-0x1*-0x7e3+-0x365*0xd))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x15d9b4[this['_color']['toString'](!(0x595*0x2+0xd*-0x207+0xf32))['toLowerCas'+'e']()]=-0x96d+0x2241*0x1+-0x18d4,_0x355fba[_0x73d2e0(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0x6*-0xf1+-0x11e1+-0x65*-0x1f,_0x51d56e[_0x1f1757(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0xc8e*-0x1+0xee6*0x2+0x8b*-0x4e;for(let _0x263726=-0xfb*-0x1+-0x12*-0x8d+-0xae5,_0x4daba4=this['_symbols']['length'];_0x263726<_0x4daba4;++_0x263726){const _0x4b44df=_0x4572d5[_0x263726];let _0x19ece5=0x2*-0x6ed+0xa*-0x33d+-0xb*-0x434;if(_0x4b44df&&_0x4b44df['color']&&_0x4b44df['color']['value']){const _0x2669d5=_0x4b44df['color']['value'];if(_0x2669d5['length']===0x1*-0x2504+0x1*0x21b5+-0x2*-0x1ab&&_0x2669d5[-0x1c9f+0x2*-0x385+0x23a9]==='#'){const _0x42172a=_0x2669d5['substring'](-0xbfd+-0x446*0x5+0x215c)['toLowerCas'+'e']();_0x15d9b4['hasOwnProp'+'erty'](_0x42172a)?_0x19ece5=_0x15d9b4[_0x42172a]:/^[0-9a-f]{6}$/['test'](_0x42172a)&&(_0x19ece5=this['_colorPale'+'tte']['length']/(0x12b0+0x10ee+-0x239b),_0x15d9b4[_0x42172a]=_0x19ece5,this['_colorPale'+'tte']['push'](parseInt(_0x42172a['substring'](0x192*-0xc+0x1827+-0x9*0x97,-0x96c+-0x323+0xc91),-0x1116+-0x27*-0xa4+-0x7d6)),this['_colorPale'+'tte']['push'](parseInt(_0x42172a['substring'](0x1f*0xd7+0x7*0x585+0x40aa*-0x1,0x176c+0x1ac5+-0x7*0x72b),0xc47*-0x1+0x1803+-0xbac)),this['_colorPale'+'tte']['push'](parseInt(_0x42172a['substring'](0x6ef+0x1e8+-0x1*0x8d3,0x171f+-0x210b*0x1+-0x2*-0x4f9),-0x1*-0x21f+0x5b*-0xe+0x2eb)));}}this['_symbolCol'+'ors']['push'](_0x19ece5);let _0x159da5=-0x23bc+0x1558+0xc*0x133;if(_0x4b44df&&_0x4b44df['outline']&&(_0x4b44df['outline']['attributes']['color']||_0x4b44df['outline']['attributes']['thickness'])){let _0x2fc011=_0x4b44df['outline']['attributes']['color']?mg['fromString'](_0x4b44df['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x53de4=Number(_0x4b44df['outline']['attributes']['thickness']);(Number['isNaN'](_0x2fc011['r'])||Number['isNaN'](_0x2fc011['g'])||Number['isNaN'](_0x2fc011['b'])||Number['isNaN'](_0x2fc011['a']))&&(_0x2fc011=this['_outlineCo'+'lor']),Number['isNaN'](_0x53de4)&&(_0x53de4=this['_outlineTh'+'ickness']);const _0x2e7c06=_0x73d2e0(_0x2fc011,_0x53de4);_0x355fba['hasOwnProp'+'erty'](_0x2e7c06)?_0x159da5=_0x355fba[_0x2e7c06]:(_0x159da5=this['_outlinePa'+'lette']['length']/(-0x1*0x67c+0x186a+-0x11e9),_0x355fba[_0x2e7c06]=_0x159da5,this['_outlinePa'+'lette']['push'](Math['round'](_0x2fc011['r']*(0xc37+-0x316+-0x2b6*0x3)),Math['round'](_0x2fc011['g']*(0x1a80+-0x2700+0xd7f)),Math['round'](_0x2fc011['b']*(0x317*0x1+0x1*0x150a+-0x1722)),Math['round'](_0x2fc011['a']*(-0xa92+0x3e2*-0x7+0x7*0x589)),Math['round'](_0x53de4*(-0x190c+0x2127+-0x82*0xe))));}this['_symbolOut'+'lineParams']['push'](_0x159da5);let _0x3eee78=-0xe98+0x1412+-0x57a;if(_0x4b44df&&_0x4b44df['shadow']&&(_0x4b44df['shadow']['attributes']['color']||_0x4b44df['shadow']['attributes']['offset']||_0x4b44df['shadow']['attributes']['offsetX']||_0x4b44df['shadow']['attributes']['offsetY'])){let _0x570b8f=_0x4b44df['shadow']['attributes']['color']?mg['fromString'](_0x4b44df['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x3999ce=Number(_0x4b44df['shadow']['attributes']['offset']),_0x115928=Number(_0x4b44df['shadow']['attributes']['offsetX']),_0x3f49b0=Number(_0x4b44df['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x570b8f['r'])||Number['isNaN'](_0x570b8f['g'])||Number['isNaN'](_0x570b8f['b'])||Number['isNaN'](_0x570b8f['a']))&&(_0x570b8f=this['_shadowCol'+'or']);const _0x2f904a=FR['set'](Number['isNaN'](_0x115928)?Number['isNaN'](_0x3999ce)?this['_shadowOff'+'set']['x']:_0x3999ce:_0x115928,Number['isNaN'](_0x3f49b0)?Number['isNaN'](_0x3999ce)?this['_shadowOff'+'set']['y']:_0x3999ce:_0x3f49b0),_0x216b11=_0x1f1757(_0x570b8f,_0x2f904a);_0x51d56e['hasOwnProp'+'erty'](_0x216b11)?_0x3eee78=_0x51d56e[_0x216b11]:(_0x3eee78=this['_shadowPal'+'ette']['length']/(-0x1b*-0x2d+0x6f1*0x2+-0x129b),_0x51d56e[_0x216b11]=_0x3eee78,this['_shadowPal'+'ette']['push'](Math['round'](_0x570b8f['r']*(-0x1dc*0x3+0x1c8a+-0x15f7)),Math['round'](_0x570b8f['g']*(-0x3*0x959+-0x1072+0x52*0x8e)),Math['round'](_0x570b8f['b']*(-0x1*0x2702+-0x1e5a+0x465b)),Math['round'](_0x570b8f['a']*(0x1f0b+0x124b+-0x9ab*0x5)),Math['round'](_0x2f904a['x']*(0x26d1+0x1*-0x3fe+-0x2254)),Math['round'](_0x2f904a['y']*(-0x4f*0x5f+-0xe*-0x101+0xfc2))));}this['_symbolSha'+'dowParams']['push'](_0x3eee78);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x473281=this['_calculate'+'CharsPerTe'+'xture']();let _0x114af3=!(0x5ae+0x3b*0x1f+0x3*-0x446);const _0x102782=this['_element'],_0x3d9275=_0x102782['_isScreenS'+'pace'](),_0x456a95=_0x102782['_isScreenC'+'ulled'](),_0x2d9c38=function(_0x86e256){return _0x102782['isVisibleF'+'orCamera'](_0x86e256);};for(let _0x28e7d6=-0x1b48+-0x2111+0x3c59*0x1,_0x21fd37=this['_meshInfo']['length'];_0x28e7d6<_0x21fd37;_0x28e7d6++){const _0x4497c9=_0x473281[_0x28e7d6]||-0x511+0x2*-0xd09+0x1f23,_0x3cb77c=this['_meshInfo'][_0x28e7d6];if(_0x3cb77c['count']!==_0x4497c9){if(_0x114af3||(_0x102782['removeMode'+'lFromLayer'+'s'](this['_model']),_0x114af3=!(0x1cb5+0x203a+-0x3cef)),_0x3cb77c['count']=_0x4497c9,_0x3cb77c['positions']['length']=_0x3cb77c['normals']['length']=_0x4497c9*(0x143f*-0x1+0x19d6+0x1dc*-0x3)*(-0x1b83+0xed6*0x2+-0x225*0x1),_0x3cb77c['indices']['length']=_0x4497c9*(-0x15a8+0xfd4+0x5d7)*(-0x121a+0x1*0xc2f+0x5ed*0x1),_0x3cb77c['uvs']['length']=_0x4497c9*(-0x2e9*0x1+0x232b+-0x2040)*(-0x1*0x2007+-0xbfd*-0x1+0x1*0x140e),_0x3cb77c['colors']['length']=_0x4497c9*(0x239d+-0x57*-0x51+-0x3f20)*(0x10ee+0x2135+0x10b5*-0x3),_0x3cb77c['outlines']['length']=_0x4497c9*(0x1*-0xdb2+0x8d6+0x27*0x20)*(-0x1904+-0x1430+0x2d37),_0x3cb77c['shadows']['length']=_0x4497c9*(0x2*-0x12c1+0x7*0x569+-0x59)*(0x1d99+0xfcb+-0x2d61),_0x3cb77c['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x3cb77c['meshInstan'+'ce']),_0x4497c9===-0x1*-0x140e+0x1848+0x32*-0xe3){_0x3cb77c['meshInstan'+'ce']=null;continue;}for(let _0x2122d6=0x151c+0x2472+-0x8b*0x6a;_0x2122d6<_0x4497c9;_0x2122d6++)_0x3cb77c['indices'][_0x2122d6*(-0x259e+0x1652+0xf4f)*(-0x1112+0x1*-0x5c9+0x16dd)+(0x2*-0x4d4+-0x820+0x4*0x472)]=_0x2122d6*(0x11d9+-0x1e1*-0x8+-0x20dd),_0x3cb77c['indices'][_0x2122d6*(-0x5*0x16+-0x3af+-0x2*-0x210)*(-0x22c1+0x5e+0x2265)+(0x945+-0x20e*0xa+0xb48)]=_0x2122d6*(-0xcc+0x23d1+-0x2301)+(-0x3d*-0x17+-0x19c4+-0x7*-0x2e6),_0x3cb77c['indices'][_0x2122d6*(-0x2247+0xede+-0x4db*-0x4)*(0x122c+-0x1edf+0xcb5)+(0x21fd+-0x1*-0x565+-0x2760)]=_0x2122d6*(-0x3*-0x23b+-0x1395+0xce8)+(0x1ad9+-0x162b+0xef*-0x5),_0x3cb77c['indices'][_0x2122d6*(-0x7cc+0x19f0+0x165*-0xd)*(0x4*0x6ec+0x1*-0x2683+-0x1*-0xad5)+(0x18e2+-0x1283+-0x65c)]=_0x2122d6*(0x2057*0x1+0xc*-0x1b5+-0x7*0x1b1)+(0x647*-0x5+0x1*-0x5e+0x1fc3*0x1),_0x3cb77c['indices'][_0x2122d6*(0x6c3*0x3+0x5*0x5b3+-0x30c5)*(-0x1011+-0x39a+0x45*0x49)+(-0x203c+0x6*-0x267+-0x21f*-0x16)]=_0x2122d6*(0x13+0x1821+-0x204*0xc)+(-0x47b+0x2160+-0x1ce2),_0x3cb77c['indices'][_0x2122d6*(0x11bf*-0x1+0x78d+0xa35)*(0x1615*-0x1+0x24af*0x1+-0xe98)+(-0x1*-0x15b2+0x1e0c+-0x33b9)]=_0x2122d6*(-0x1e9c+0x85d*-0x3+0x37b7)+(0x337*0x5+0xcbb*0x2+0x18*-0x1bb),_0x3cb77c['normals'][_0x2122d6*(-0xfd*0x2+-0x3*0x2ce+0xc*0xde)*(0x2058+-0x1452+0x7b*-0x19)+(-0x138c+-0xbec+0x1f78)]=-0x949+-0xb7*-0x23+-0xfbc,_0x3cb77c['normals'][_0x2122d6*(-0x526+-0x2446+0xdd0*0x3)*(0x1508+-0xe20+-0x6e5)+(-0xaa*0x28+-0x316+0x1da7*0x1)]=0x1f9a+-0x167f+-0x91b,_0x3cb77c['normals'][_0x2122d6*(-0x377+-0x1129+0x14a4)*(-0x34*-0x36+0x11ab*-0x1+0x6b6*0x1)+(-0x1*-0xc2f+0x180e*-0x1+0xbe1)]=-(0xf82+0x25dd+-0x355e),_0x3cb77c['normals'][_0x2122d6*(-0xe7b+-0x1a72*0x1+0x28f1)*(0xb49+0x537+0xc9*-0x15)+(0x826+-0x2024+0x1*0x1801)]=-0x1e19+0x1*-0x709+0x2522,_0x3cb77c['normals'][_0x2122d6*(0x13c5+0x19d6+-0x2d97)*(0xa0d*-0x1+-0x1*-0x206d+0x165d*-0x1)+(0x1*-0x1445+-0x1e23+0x326c)]=0x1*0x3fd+0x2*-0x12a0+0x1*0x2143,_0x3cb77c['normals'][_0x2122d6*(-0x12db+0x1285+-0x5a*-0x1)*(-0x1*0x1a2e+0xccc+-0x17d*-0x9)+(-0x2c*-0x65+-0x1a32+0x8db)]=-(-0x1*0x7bb+-0x186a+0x2026),_0x3cb77c['normals'][_0x2122d6*(-0x274*0x3+0x2382+-0x1c22)*(-0x10ba+0x1ac*-0x10+0x2b7d)+(-0x45*0x7+-0x2c1+-0x255*-0x2)]=0x8f4+0x2429+-0x2d1d*0x1,_0x3cb77c['normals'][_0x2122d6*(0x20dd+0x1cb6+0x67*-0x99)*(0xb95*-0x1+-0x5d*0x4+0xd0c)+(-0xc11+-0x1218+0x70*0x45)]=-0x6*-0x305+0x1c72+-0x2e90,_0x3cb77c['normals'][_0x2122d6*(-0xdf3+-0x16fc+-0xc51*-0x3)*(0x2060+-0x180d+-0x850)+(-0xd*0x1b6+-0x3a*0x1+0x1680)]=-(-0x1*-0x26a4+0x1*0xccb+0x1d*-0x1c6),_0x3cb77c['normals'][_0x2122d6*(0xe*-0x8e+0x1e33+0x3*-0x779)*(0x1ad3+-0x1900+-0x10*0x1d)+(0x1598*-0x1+0xa*0x24b+0x9*-0x25)]=-0xa5e+-0x187f+0x253*0xf,_0x3cb77c['normals'][_0x2122d6*(-0xb6f+-0xf59+0x1acc)*(-0x2125+-0x199*0xf+0x391f)+(-0x1*-0x8f+0x399+-0x41e)]=0x45*-0x71+-0x1375+0x31ea,_0x3cb77c['normals'][_0x2122d6*(0x1*0x8e6+0x43a*-0x2+-0x1*0x6e)*(0x1e9d+-0x4*0xd3+0x91a*-0x3)+(-0x1486+-0x1*0x201b+0x34ac)]=-(-0x232a+0xd3*0x17+0x1036);const _0x11647e=MR(this['_system']['app']['graphicsDe'+'vice'],_0x3cb77c),_0x5395ba=new Le(_0x11647e,this['_material'],this['_node']);if(_0x5395ba['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x5395ba['castShadow']=!(-0x1*0x1159+-0x2*-0x266+0xc8e),_0x5395ba['receiveSha'+'dow']=!(0xe3c+0x11c7+-0x2002),_0x5395ba['cull']=!_0x3d9275,_0x5395ba['screenSpac'+'e']=_0x3d9275,_0x5395ba['drawOrder']=this['_drawOrder'],_0x456a95&&(_0x5395ba['cull']=!(-0xc6d+-0x84c*-0x4+0x5*-0x427),_0x5395ba['isVisibleF'+'unc']=_0x2d9c38),this['_setTextur'+'eParams'](_0x5395ba,this['_font']['textures'][_0x28e7d6]),_0x5395ba['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x5395ba['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x5395ba['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x5395ba['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x5395ba['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x28e7d6]['width']),_0x5395ba['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x5395ba['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x5395ba['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x1793+-0x1582+0x211*-0x1]=0x9c4+-0x11c*-0x8+0x4*-0x4a9,this['_shadowOff'+'setUniform'][0x29*0x73+-0x14+-0x1256*0x1]=-0x26c1+-0x25fd+-0x265f*-0x2;else{const _0x4c0b45=-this['_font']['data']['info']['maps'][_0x28e7d6]['width']/this['_font']['data']['info']['maps'][_0x28e7d6]['height'];this['_shadowOff'+'setUniform'][-0x1f03+0x1*0x917+-0x2e*-0x7a]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x2*0x137b+0x2*-0xb59+0x3da9]=_0x4c0b45*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x5395ba['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x3cb77c['meshInstan'+'ce']=_0x5395ba,this['_model']['meshInstan'+'ces']['push'](_0x5395ba);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x114af3&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x1a28+-0x3d*0x6d+-0x5*-0xa6d,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x47bba2){_0x47bba2['destroy']();const _0x158900=this['_model']['meshInstan'+'ces']['indexOf'](_0x47bba2);_0x158900!==-(-0x7ab+-0x7*0x29+0x8cb*0x1)&&this['_model']['meshInstan'+'ces']['splice'](_0x158900,-0x9*-0x40+-0x155*0x1+-0x12*0xd);}['_setMateri'+'al'](_0x46bd05){if(this['_material']=_0x46bd05,this['_model'])for(let _0x1c3754=-0x1293*0x1+0x1467+-0x6*0x4e,_0x3b7d2a=this['_model']['meshInstan'+'ces']['length'];_0x1c3754<_0x3b7d2a;_0x1c3754++){const _0x2dcb48=this['_model']['meshInstan'+'ces'][_0x1c3754];_0x2dcb48['material']=_0x46bd05;}}['_updateMat'+'erial'](_0x43b57b){const _0x3765d9=this['_element'],_0x5bccad=_0x3765d9['_isScreenC'+'ulled'](),_0x4a4fca=function(_0x29cc0b){return _0x3765d9['isVisibleF'+'orCamera'](_0x29cc0b);},_0x407c08=this['_font']&&this['_font']['type']===Zh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x43b57b,_0x407c08,this['_enableMar'+'kup']),this['_model'])for(let _0x58d789=-0x1*-0xffd+0x65b*0x3+0x1187*-0x2,_0x321f62=this['_model']['meshInstan'+'ces']['length'];_0x58d789<_0x321f62;_0x58d789++){const _0x1263bf=this['_model']['meshInstan'+'ces'][_0x58d789];_0x1263bf['cull']=!_0x43b57b,_0x1263bf['material']=this['_material'],_0x1263bf['screenSpac'+'e']=_0x43b57b,_0x5bccad?(_0x1263bf['cull']=!(-0x33*0x3b+-0x2159+0x1f6*0x17),_0x1263bf['isVisibleF'+'unc']=_0x4a4fca):_0x1263bf['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x1*0x26b2+0x3*-0xa52+0x45a8]=0x89b+0x2083+-0x1a5*0x19,this['_colorUnif'+'orm'][0x2f9*-0x1+0x10*-0x116+-0xa*-0x209]=-0x1a63+0x22dc+0x8*-0x10f,this['_colorUnif'+'orm'][0xb*0x253+-0x899+-0x10f6]=0x1c34+0x1*-0x1753+0x27*-0x20):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x13*-0x2+0x210d+-0x20e7*0x1]=Me['r'],this['_colorUnif'+'orm'][0x59*-0x19+0x257+-0x65b*-0x1]=Me['g'],this['_colorUnif'+'orm'][-0x1ad+0x59*-0x6b+0x26e2]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x1*-0x95d+0x5fe*-0x5+-0x2753*-0x1]=-0xb7*-0x3+0x43*0x2+-0x2ab*0x1,this['_outlineCo'+'lorUniform'][0xb2*-0x4+0x8bd+-0xfe*0x6]=0x22*0x125+-0x204a+-0x350*0x2,this['_outlineCo'+'lorUniform'][0xa*-0x246+-0x3*-0x66a+0x380]=0x95*-0x11+0x3f8+0x5ed,this['_outlineCo'+'lorUniform'][-0x1e7b+-0x1*0x1517+0x3395]=0x1961+-0x1*-0x24a9+0x1*-0x3e09):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x1bdf*-0x1+-0x19d*0x9+0x2a64]=Me['r'],this['_outlineCo'+'lorUniform'][0x11d5+-0x16b3*-0x1+-0x2887]=Me['g'],this['_outlineCo'+'lorUniform'][-0x7*0xc7+-0xe4c+-0xf*-0x151]=Me['b'],this['_outlineCo'+'lorUniform'][-0x3c+-0xd*-0x2d3+-0x2478]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x16*-0x1c6+-0x4*0x611+-0xec0]=0x9df+0x14b9+0x2*-0xf4c,this['_shadowCol'+'orUniform'][0x1*-0x14b7+0xb95*0x1+0x923]=0x107e+-0x1626+-0x4*-0x16a,this['_shadowCol'+'orUniform'][0x805+0x5fe*-0x1+-0x205]=-0x141*-0x3+-0x25e7+0x2224,this['_shadowCol'+'orUniform'][-0x19b3+-0x1*-0x192b+0x8b*0x1]=0x95*-0x13+-0x4d*0x58+0x2587):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x14de+-0x1ab9+0x83*0x5d]=Me['r'],this['_shadowCol'+'orUniform'][-0x90d+-0x2*0xe17+0x253c]=Me['g'],this['_shadowCol'+'orUniform'][-0xa63+-0x52e+0xf93]=Me['b'],this['_shadowCol'+'orUniform'][-0x2355+0x1fb7*-0x1+-0x430f*-0x1]=Me['a']);}['_isWordBou'+'ndary'](_0x522965){return fg['test'](_0x522965);}['_isValidNe'+'xtChar'](_0x514fb8){return _0x514fb8!==null&&!IR['test'](_0x514fb8);}['_isNextCJK'+'Boundary'](_0x3e8066,_0x1f3ebc){return pg['test'](_0x3e8066)&&(fg['test'](_0x1f3ebc)||RR['test'](_0x1f3ebc));}['_isNextCJK'+'WholeWord'](_0x362539){return pg['test'](_0x362539);}['_updateMes'+'hes'](){const _0x24784a=this['_font']['data'],_0x56d86a=this,_0x459905=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x2431c3=this['_maxFontSi'+'ze'],_0x437394=this['_shouldAut'+'oFit']();_0x437394&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x5c8e6b=0x11*-0xc2+0x10*0x8+0xc82,_0x2385a6=this['_symbols']['length'];let _0x4ac52b=0x4*0x770+0x1327+-0x30e7*0x1,_0x2814f8=0x2350+0x112d+0x117f*-0x3,_0x5e5bad=0x19c1+-0xecd*0x1+-0xaf4,_0x5e6dd7=0x4*-0x97f+-0x1ab6+0x40b2,_0xc4d78d=0xa80+-0xed6+0x457*0x1,_0x3bcfe4=-0x21f+-0x1*-0x2430+-0x2211,_0xc8861f=-0x41*0x11+-0x24ab+0x56*0x7a,_0x5b80b8=-0x1*-0x923+-0x21d0+0x18ad,_0x54698d=-0x13*0x1a1+-0x52*0x4d+0x379d*0x1,_0x9fdcd6=0x1615+-0x1*0x12+0xf5*-0x17,_0x4d8bb8=0x125f+-0x477*0x1+-0xde8;const _0x46eea4=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x1c98+-0x490+-0x1808+0.0001;let _0x4a500b=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x46eea4||!this['_wrapLines'])&&(_0x4a500b=Number['POSITIVE_I'+'NFINITY']);let _0x67ad9e=0x1*-0x23e1+0x1a85+0x95c,_0x497dea=0xfed+0x5ea*0x6+-0x3369,_0x226bac,_0x1ae541,_0x206a6b,_0x46b4eb;function _0x4d9d77(_0x2b45ed,_0x41ee43,_0x2898d9){_0x56d86a['_lineWidth'+'s']['push'](Math['abs'](_0x2898d9));const _0x18f986=_0x5b80b8>_0x41ee43?_0x41ee43+(-0x1f47+-0xf*0x19d+-0x7*-0x7ed):_0x5b80b8,_0x17368d=_0x5b80b8>_0x41ee43?_0x5b80b8+(-0x40a+0x158c*-0x1+0x1*0x1997):_0x41ee43,_0x22d74a=_0x2b45ed['slice'](_0x18f986,_0x17368d);if(_0x4d8bb8){let _0x535986=_0x22d74a['length'];for(;_0x535986--&&_0x4d8bb8>0x1c13+-0x1857+0x2*-0x1de;)ug['test'](_0x22d74a[_0x535986])&&(_0x22d74a['splice'](_0x535986,-0x14f5+0x6*0x51+0x1310),_0x4d8bb8--);}_0x56d86a['_lineConte'+'nts']['push'](_0x22d74a['join']('')),_0x4ac52b=-0x1e3*0x2+-0xbcb*-0x1+-0x805,_0x2814f8-=_0x56d86a['_scaledLin'+'eHeight'],_0xc4d78d++,_0x54698d=0xd66*0x1+-0x19a5+-0x415*-0x3,_0x9fdcd6=0x9a*-0x24+0x1c*-0x11f+0x350c,_0x4d8bb8=-0x6b*-0x2f+0xd8f+0x14*-0x1a9,_0x3bcfe4=0xe66+-0x2105+0x129f,_0x5b80b8=_0x41ee43;}let _0x5aec62=!(0xa63+0x9b7+-0x141a);for(;_0x5aec62;){_0x5aec62=!(0x3b*-0x89+-0x3d*0x61+-0x167*-0x27),_0x437394?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x1*-0x93a+0xad*0xf+-0xe9+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0x333*-0x1+-0x1662+0x132f*0x1,this['height']=0xc75+0x1*-0x1ab7+0xe42*0x1,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x4ac52b=0x562+-0x138b*0x1+0xe29,_0x2814f8=0x107*-0x1a+-0x1922+0x1c*0x1da,_0x5e5bad=-0x1681+-0x23ac*0x1+0x3a2d,_0x5e6dd7=-0x1ade+-0x22f*0x2+0x1f3c,_0xc4d78d=-0x23ca+-0x8c5*0x1+0x2c90,_0x3bcfe4=0xbc*-0x15+0x2*-0x569+0x1a3e,_0xc8861f=-0x20f2*0x1+0x1*0x263f+-0x54d,_0x5b80b8=0x209+0x91c+-0xb25,_0x54698d=0x209*0xe+-0x505+-0x7d3*0x3,_0x9fdcd6=0x2*0x162+-0xd*-0x17+-0x3ef,_0x4d8bb8=0x1*0xad9+-0x1e17+0x133e;const _0x2e85da=this['_fontSize']/_0x5c8e6b;_0x67ad9e=this['_fontMinY']*_0x2e85da,_0x497dea=this['_fontMaxY']*_0x2e85da;for(let _0xb43b80=0x52*-0x38+0x25b6*-0x1+0x346*0x11;_0xb43b80<this['_meshInfo']['length'];_0xb43b80++)this['_meshInfo'][_0xb43b80]['quad']=-0x105b*-0x1+0x7f3+-0x184e,this['_meshInfo'][_0xb43b80]['lines']={};let _0x52c5bd=0x2b1*0xd+-0x266*-0x2+-0xa*0x3e1,_0x489021=0x3*0x9f9+-0x87*-0x12+-0x266a,_0x482d51=-0x7b9*0x2+-0x128c+-0x35*-0xa9,_0x76d589=0x10d8+-0x9cd+-0x60c+(0x140c*-0x1+0xdfe*-0x1+0x1*0x2309)*(0x3*0x90a+-0x564*0x1+0x7*-0x2f6),_0x4591c8=-0x1*0x529+0x111c+0x57a*-0x2+(-0x404*0x6+0x1b24+-0x20d)*(-0x25e1+-0x15f1*-0x1+0x10f*0x10),_0x23577c=0x3b6+0x1*0x1405+-0x2d*0x87,_0x27b307=0x6fb+-0x1cdf+0x16e3+(0xf*-0xab+0x1618+-0x2*0x58a)*(0x2*-0x129d+0x803+-0x1*-0x1e37),_0xe09ccf=-0x1*0xa81+0x20a3+-0x1523+(-0xe3a+0x1403+0x2*-0x265)*(-0x1f7c+0x5ad*-0x5+0x3cdd*0x1),_0x4adaf6=0x2*0x250+0x1b46+-0x1*0x1f67+(0x24*-0x3b+-0x38*-0x2e+-0x145)*(-0x187d*0x1+0x755+0x1228);for(let _0x413661=0xf*-0xb9+-0x2457+0x2f2e;_0x413661<_0x2385a6;_0x413661++){if(_0x226bac=this['_symbols'][_0x413661],_0x46b4eb=_0x413661+(-0x1b3a+0x602+0x1539)>=_0x2385a6?null:this['_symbols'][_0x413661+(-0x1*0x95+-0x43*0x1b+0x7a7)],ug['test'](_0x226bac)){_0x4d8bb8++,(!this['_wrapLines']||this['_maxLines']<0x80e+0x7*-0x507+0x1*0x1b23||_0xc4d78d<this['_maxLines'])&&(_0x4d9d77(this['_symbols'],_0x413661,_0x5e6dd7),_0xc8861f=_0x413661+(-0x9ee+0x11b7+0x1f2*-0x4),_0x5b80b8=_0x413661+(0x23*-0xb+0xa*0x44+-0x126));continue;}let _0x198a64=0xc77+0x1764*-0x1+-0x1*-0xaed,_0x1be85d=0x1bf+0x217*0x7+0x830*-0x2,_0x5b98e9=-0x15*-0x121+-0x1449+-0x36c,_0x494dd4=0x2*0x1060+0x6*0x557+-0x40c9,_0x5cd805,_0x318e19;if(_0x1ae541=_0x24784a['chars'][_0x226bac],!_0x1ae541){if(DR['indexOf'](_0x226bac)!==-(0x1*-0x951+0x129e*0x2+0x9*-0x31a))_0x1ae541=LR;else{if(_0x24784a['chars']['\x20'])_0x1ae541=_0x24784a['chars']['\x20'];else for(const _0x42b3dd in _0x24784a['chars']){_0x1ae541=_0x24784a['chars'][_0x42b3dd];break;}_0x24784a['missingCha'+'rs']||(_0x24784a['missingCha'+'rs']=new Set()),_0x24784a['missingCha'+'rs']['has'](_0x226bac)||(console['warn']('Character\x20'+'\x27'+_0x226bac+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x24784a['info']['face']),_0x24784a['missingCha'+'rs']['add'](_0x226bac));}}if(_0x1ae541){let _0x14035c=-0x12f2*-0x2+-0x19cb+-0x13*0xa3;if(_0x9fdcd6>-0x12e9+-0x48f*0x1+-0xbbc*-0x2){const _0x19eb21=this['_font']['data']['kerning'];if(_0x19eb21){const _0x420eb4=_0x19eb21[oh['getCodePoi'+'nt'](this['_symbols'][_0x413661-(-0x2278*0x1+-0x1e17+0x4090)])||0x6ed+0x1*-0x23d5+0x4*0x73a];_0x420eb4&&(_0x14035c=_0x420eb4[oh['getCodePoi'+'nt'](this['_symbols'][_0x413661])||-0x1*0x84b+0x745*0x3+0x1*-0xd84]||-0x1*-0x1bcd+-0x3d*-0x7f+0x3a10*-0x1);}}_0x5cd805=_0x1ae541['scale']||0x1*-0x833+0xa6e+-0x23a,_0x318e19=(_0x1ae541['width']+_0x1ae541['height'])/(0x52*-0x26+-0xe75+0x1aa3),_0x494dd4=_0x2e85da*_0x318e19/_0x5cd805,_0x5b98e9=(_0x1ae541['xadvance']+_0x14035c)*_0x2e85da,_0x198a64=(_0x1ae541['xoffset']-_0x14035c)*_0x2e85da,_0x1be85d=_0x1ae541['yoffset']*_0x2e85da;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x226bac+'\x27');const _0x58e4ae=PR['test'](_0x226bac),_0x37d79a=_0x1ae541&&_0x1ae541['map']||0x3*-0xc6a+-0x263b*-0x1+-0xfd,_0x1a5e78=-this['_font']['data']['info']['maps'][_0x37d79a]['width']/this['_font']['data']['info']['maps'][_0x37d79a]['height'],_0x353093=this['_meshInfo'][_0x37d79a],_0x2b6f9a=_0x4ac52b+this['_spacing']*_0x5b98e9;if(_0x2b6f9a>_0x4a500b&&_0x9fdcd6>0x2321+-0x166b*0x1+-0xcb6&&!_0x58e4ae&&(this['_maxLines']<-0x1aa3*0x1+-0xee+0x1b91||_0xc4d78d<this['_maxLines'])){if(_0x54698d===-0xd*-0x12f+0xae*0x1e+-0x23c7)_0xc8861f=_0x413661,_0x4d9d77(this['_symbols'],_0x413661,_0x5e6dd7);else{const _0x2e54be=Math['max'](_0x413661-_0xc8861f,-0x2129+0x1741+-0x8*-0x13d);if(this['_meshInfo']['length']<=-0x1f70+0x147f+0xaf2)_0x353093['lines'][_0xc4d78d-(-0x1*0x107b+-0x1550*-0x1+-0x4d4)]-=_0x2e54be,_0x353093['quad']-=_0x2e54be;else{const _0xd49571=_0xc8861f,_0x18fcf6=_0x413661;for(let _0x144ba0=_0xd49571;_0x144ba0<_0x18fcf6;_0x144ba0++){const _0x5c2def=this['_symbols'][_0x144ba0],_0x5e793d=_0x24784a['chars'][_0x5c2def],_0x5a25cd=this['_meshInfo'][_0x5e793d&&_0x5e793d['map']||-0xdab+-0x21d7+-0x2*-0x17c1];_0x5a25cd['lines'][_0xc4d78d-(0xdd*0x2b+-0x1f4e+-0x8*0xba)]-=0x2091+0x517*0x7+-0x4431,_0x5a25cd['quad']-=-0x2629+-0x161*0x14+0x41be;}}_0x413661-=_0x2e54be+(0x3e6*0xa+0x174e+-0x3*0x14c3),_0x4d9d77(this['_symbols'],_0xc8861f,_0x3bcfe4);continue;}}_0x206a6b=_0x353093['quad'],_0x353093['lines'][_0xc4d78d-(0x1183+0x26a6+0x1c14*-0x2)]=_0x206a6b;let _0x35b386=_0x4ac52b-_0x198a64,_0x372128=_0x35b386+_0x494dd4;const _0x9b0259=_0x2814f8-_0x1be85d,_0x4d15a8=_0x9b0259+_0x494dd4;if(this['_rtl']){const _0x3ee38d=_0x494dd4-_0x198a64-this['_spacing']*_0x5b98e9-_0x198a64;_0x35b386-=_0x3ee38d,_0x372128-=_0x3ee38d;}_0x353093['positions'][_0x206a6b*(0x2008+-0xc41*-0x2+-0x3886)*(-0x2530+-0x1d1d+0x10*0x425)+(-0x1dd6+-0x1664+-0xbf*-0x46)]=_0x35b386,_0x353093['positions'][_0x206a6b*(-0x8d7*0x3+0x19f+-0x427*-0x6)*(-0x12*-0x28+-0x51+0xc*-0x35)+(0x1*-0x1281+-0x3ca*0x5+0x2574)]=_0x9b0259,_0x353093['positions'][_0x206a6b*(-0x1bb3+-0x1a0f+0x35c6)*(0x5e3+-0x2106+0x1b26)+(-0x27b*0x1+0x342*0xa+-0x1e17*0x1)]=_0x5e5bad,_0x353093['positions'][_0x206a6b*(0x1441+-0x15a3+0x2*0xb3)*(-0x41*0x5e+0x469*0x2+-0x101*-0xf)+(-0x1*-0x1756+0x24f5*-0x1+0xda2)]=_0x372128,_0x353093['positions'][_0x206a6b*(-0x24bb*0x1+-0x277*-0xb+0x9a2)*(-0x72e+0x2051+-0x20*0xc9)+(0xfdd+-0x1e05+0xe2c)]=_0x9b0259,_0x353093['positions'][_0x206a6b*(0x1*0x623+-0x758+0x139)*(0x2c9*-0x1+-0xfbb*-0x1+-0x1*0xcef)+(-0x1dde*-0x1+0x9*-0x54+0x561*-0x5)]=_0x5e5bad,_0x353093['positions'][_0x206a6b*(-0x11*-0x187+0x7ff+-0x21f2)*(0x8f5+-0x2211+-0x191f*-0x1)+(0xc41*0x3+-0x118*0x14+-0xedd)]=_0x372128,_0x353093['positions'][_0x206a6b*(-0x2276+0x1012+-0x934*-0x2)*(0xc3+0x2659+0x1*-0x2719)+(0x1*-0xfbb+-0x3*-0x629+-0x2b9)]=_0x4d15a8,_0x353093['positions'][_0x206a6b*(0x2e*-0x35+0x6c5*0x1+0x2c5)*(0x2562+0xf43*0x1+-0x34a2)+(-0xbab+0xc1+0xaf2)]=_0x5e5bad,_0x353093['positions'][_0x206a6b*(0xe5*-0x20+0x1*-0x2351+0x3ff5)*(0x26a+0x64*0x12+-0x96f)+(-0x1467+-0xdf7+0x2267)]=_0x35b386,_0x353093['positions'][_0x206a6b*(-0x630+-0x260b*-0x1+-0x1fd7)*(-0x24ad+-0x1*-0x16eb+-0x3*-0x497)+(0x1*-0xc82+0x2047+-0x13bb)]=_0x4d15a8,_0x353093['positions'][_0x206a6b*(0x207*-0xd+-0x15f9+0x4*0xc16)*(-0x1e2a+-0x1*0x23c3+0x41f0)+(0x84b*0x4+-0x2*-0x29+0x2173*-0x1)]=_0x5e5bad,this['width']=Math['max'](this['width'],_0x2b6f9a);let _0x157549;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x157549=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x1*0xd9e+0x161b*0x1+-0x87d+0.0001)),_0x157549=N['clamp'](_0x157549,_0x459905,_0x2431c3),_0x157549!==this['_element']['fontSize'])){this['_fontSize']=_0x157549,_0x5aec62=!(0x201f*0x1+0x197d+-0x399c);break;}if(this['height']=Math['max'](this['height'],_0x497dea-(_0x2814f8+_0x67ad9e)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x157549=N['clamp'](this['_fontSize']-(0x193e+-0x2ad*0x8+-0x3d5),_0x459905,_0x2431c3),_0x157549!==this['_element']['fontSize'])){this['_fontSize']=_0x157549,_0x5aec62=!(-0x2093+0x385+0xe87*0x2);break;}_0x4ac52b+=this['_spacing']*_0x5b98e9,_0x58e4ae||(_0x5e6dd7=_0x4ac52b),(this['_isWordBou'+'ndary'](_0x226bac)||this['_isValidNe'+'xtChar'](_0x46b4eb)&&(this['_isNextCJK'+'Boundary'](_0x226bac,_0x46b4eb)||this['_isNextCJK'+'WholeWord'](_0x46b4eb)))&&(_0x54698d++,_0x3bcfe4=_0x5e6dd7,_0xc8861f=_0x413661+(0x18bc+-0xb51+0x1*-0xd6a)),_0x9fdcd6++;const _0x170676=this['_getUv'](_0x226bac);if(_0x353093['uvs'][_0x206a6b*(0x4*-0x533+0x3*-0x37f+0x1f4d)*(-0xb23*-0x1+0xdcb+-0x18ec)+(-0x1*0x18a7+-0x32*0x56+0x2973)]=_0x170676[0x8*-0x2ee+-0x1b70+-0x20*-0x197],_0x353093['uvs'][_0x206a6b*(0x1df1+-0x53a+-0x18b3)*(0xcab*-0x3+0x4f8+-0xb*-0x301)+(-0x2*0x3a8+0x2b*-0x5+0x828)]=-0x21ec+-0x1cc6+0x7*0x8f5-_0x170676[-0x1*-0xec1+0xd42+-0x1c02],_0x353093['uvs'][_0x206a6b*(0x2137+0x190a+-0x3a3d*0x1)*(0x1*0x1096+-0xd5a+0x1*-0x33a)+(-0x1d88+0x1374+0x50b*0x2)]=_0x170676[-0x21a3*0x1+-0x1f2b+0x40d0],_0x353093['uvs'][_0x206a6b*(-0x7b7*0x5+-0x93a+0x2fd1)*(0x19e9+-0xb69+0x46*-0x35)+(0xff6+0x453*-0x5+-0x4*-0x16b)]=-0x1844+-0x30a+0x1b4f-_0x170676[-0x1*0x1e75+-0x2100+0x3f76],_0x353093['uvs'][_0x206a6b*(0x35*-0x78+0x10f*0x1+-0x9*-0x2a5)*(-0x1545+-0x1*-0x1987+-0x440)+(0x2008+0x13ea+-0x30e*0x11)]=_0x170676[0xa8+-0x1455+0x13af],_0x353093['uvs'][_0x206a6b*(-0x22c6+-0x7*0x1f3+-0x3*-0x1025)*(0x779+0x5a7+0x68f*-0x2)+(0xf66+0x20c1+-0x3022)]=-0x243e+0xd76+0x16c9-_0x170676[0xd27*0x1+-0x436+-0x8ee],_0x353093['uvs'][_0x206a6b*(0xf81+0x129e+-0x221b)*(0x57a+0x1ea1+-0x2419)+(-0x966+0x1*0xbb9+0x1*-0x24d)]=_0x170676[-0x207e+0x4*-0x14b+0xc8e*0x3],_0x353093['uvs'][_0x206a6b*(-0x36*-0x4a+-0x33*-0x31+-0x195b)*(-0x11*-0x236+-0x2263+0x1*-0x331)+(0x1c30+-0x59*-0x6d+-0x13*0x37a)]=0x2637+0x869*0x1+-0x2e9f-_0x170676[0x4*0x85f+-0x13a7+-0xdd2],this['_symbolCol'+'ors']){const _0x500b6c=this['_symbolCol'+'ors'][_0x413661]*(-0x2537+-0xd1b+-0x3255*-0x1);_0x52c5bd=this['_colorPale'+'tte'][_0x500b6c],_0x489021=this['_colorPale'+'tte'][_0x500b6c+(0xd*0x243+-0x101f+-0xd47)],_0x482d51=this['_colorPale'+'tte'][_0x500b6c+(0xbfc+0x17cd+0x81*-0x47)];}if(_0x353093['colors'][_0x206a6b*(-0x37b+-0x2c5*0x1+0x644)*(0xfb9+0x29*-0xbb+-0xe3e*-0x1)+(-0x51*0x25+-0x2394+-0x9*-0x541)]=_0x52c5bd,_0x353093['colors'][_0x206a6b*(-0xe9d+-0x192d*-0x1+-0xa8c)*(-0x118a+-0x12ae*-0x2+-0x13ce)+(0x115*0x23+0x472*-0x7+-0x6c0)]=_0x489021,_0x353093['colors'][_0x206a6b*(-0xa2*0x3b+0x106+0x2454)*(-0x2*0xe67+-0x2467*-0x1+0x3*-0x287)+(0xa*0xd4+-0x1a25+0x11df*0x1)]=_0x482d51,_0x353093['colors'][_0x206a6b*(-0x24f*-0x4+0x20ff+0x1*-0x2a37)*(0x32*0xc4+-0x1*-0x1546+-0x3b8a)+(0x104a*0x1+0x1*-0x138+-0xf0f)]=0x1*0x225a+0x233*-0x3+-0x5*0x55a,_0x353093['colors'][_0x206a6b*(0xc6c+-0x1de9+0x1181)*(-0x1bae+-0xd22+0x28d4)+(-0x17f3+0x9f3+0xe04)]=_0x52c5bd,_0x353093['colors'][_0x206a6b*(-0x7d*-0x19+-0x11a0+0x56f*0x1)*(-0x9f0+-0x744+0x1138)+(-0x40a+-0x10*-0x131+-0xf01)]=_0x489021,_0x353093['colors'][_0x206a6b*(-0x1*0x135a+0x23be+-0x1060)*(-0x18d+-0x1*0x329+0x4ba)+(-0x99d+0x2174+0x367*-0x7)]=_0x482d51,_0x353093['colors'][_0x206a6b*(0x1f3a+-0x3*0x6a1+-0xdf*0xd)*(0x26c4+-0x248+-0x6*0x614)+(-0x578+0x1144+-0xbc5)]=-0x608*0x2+-0x16cf+0x23de,_0x353093['colors'][_0x206a6b*(-0x1*0x164f+0x10f*-0x11+0x2852)*(-0x1fb4+-0x23d7*0x1+0x438f)+(0x17d0+-0x1360+-0x468)]=_0x52c5bd,_0x353093['colors'][_0x206a6b*(-0xc49+-0x4*0x139+0x1131)*(-0x20+0x5*0x15b+-0x6a3*0x1)+(-0xb19+0xa*0xee+0x1d6)]=_0x489021,_0x353093['colors'][_0x206a6b*(0x2618+0x8cf+-0x2ee3)*(0xaa2*-0x3+0xa*-0x347+0x48*0xe6)+(-0x61*0x1e+-0x2*0xef9+-0x4f*-0x86)]=_0x482d51,_0x353093['colors'][_0x206a6b*(0x8ab+0x11e0+0x1a87*-0x1)*(0xe2*-0x16+-0x1baf+0x2f1f)+(-0x1ed2+0x1*0x106f+0xe6e)]=0x11*-0x1e9+0xed8+-0x20*-0x95,_0x353093['colors'][_0x206a6b*(0x2255*0x1+-0x1*-0x16ce+-0x391f)*(-0x53*0x23+-0x2172+0x2ccf)+(0x754+-0xd0*0x1a+0xdd8)]=_0x52c5bd,_0x353093['colors'][_0x206a6b*(0x1c1b+0x1f*-0x65+-0x74*0x23)*(-0x1a69+0x43f*0x4+-0x1*-0x971)+(-0x21b7+-0x119b+0x335f)]=_0x489021,_0x353093['colors'][_0x206a6b*(-0x2*0x11d8+-0x2*0xe91+0x40d6)*(0x162*0x1c+-0x179*0x1+-0x253b)+(-0xa1f+-0xb*0x8b+0x1026)]=_0x482d51,_0x353093['colors'][_0x206a6b*(0x7*-0x58e+0x24b5+0x231)*(0xa24+-0x2*-0x713+0x1a*-0xef)+(-0x5*-0x21e+0x1d*-0x4d+0xe7*-0x2)]=-0x89d+0x2c*-0xbf+0x8*0x54e,this['_symbolOut'+'lineParams']){const _0x5ea8ee=this['_symbolOut'+'lineParams'][_0x413661]*(0xc41*0x2+-0x359*-0xa+-0x39f7);_0x76d589=this['_outlinePa'+'lette'][_0x5ea8ee]+this['_outlinePa'+'lette'][_0x5ea8ee+(0xce*0x2+0x227d+0x2418*-0x1)]*(-0x1b2+-0xb*0x33f+0x2667),_0x4591c8=this['_outlinePa'+'lette'][_0x5ea8ee+(0x1*-0x20f6+0xb65*-0x1+0x2c5d)]+this['_outlinePa'+'lette'][_0x5ea8ee+(-0x168b*0x1+-0x1*0x241+0x18cf)]*(0xd*-0x96+-0x1b09+0x23a7),_0x23577c=this['_outlinePa'+'lette'][_0x5ea8ee+(0x3b*-0x23+0x1678+-0xe63)];}if(_0x353093['outlines'][_0x206a6b*(0x6fd+0x1*0x2219+-0x2ef*0xe)*(0x16fc*-0x1+0x10c2+-0x63d*-0x1)+(-0x1d84+0x2676*0x1+-0x8f2)]=_0x76d589,_0x353093['outlines'][_0x206a6b*(0x3*-0x2a2+-0x1*-0x48f+0x35b)*(-0x2001*-0x1+-0x1512+-0xaec)+(0x602*0x3+0x1107+-0x4*0x8c3)]=_0x4591c8,_0x353093['outlines'][_0x206a6b*(0x409+0x13*-0x6+-0x393)*(0x1*0x26cb+-0x3*-0x377+-0x312d)+(-0x17d*0x17+-0x640+0x287d)]=_0x23577c,_0x353093['outlines'][_0x206a6b*(-0x7*-0x2f7+0x159c+-0x125*0x25)*(-0x2514+-0x10*-0x18a+0xc77)+(-0x2493+-0xd*-0x129+0x1581)]=_0x76d589,_0x353093['outlines'][_0x206a6b*(0xc64+0x2d3+-0x511*0x3)*(0x3*-0x77e+0x14*0x66+0xb1*0x15)+(0x9*0x282+0x1*0x7+-0x3*0x787)]=_0x4591c8,_0x353093['outlines'][_0x206a6b*(0x7f3*0x2+0x1*-0xa93+-0x54f)*(-0x7*-0xa7+0x3*-0x6fd+0x1*0x1069)+(-0xb96+-0x1869+0x2404)]=_0x23577c,_0x353093['outlines'][_0x206a6b*(0x8*0x3a+-0x1ae6+-0x1b*-0xee)*(0x22ee+-0x1*-0x9bd+-0x2ca8*0x1)+(0x1d*0x45+-0xf3e+-0x1*-0x773)]=_0x76d589,_0x353093['outlines'][_0x206a6b*(0x206a+-0x68a*-0x2+-0x2d7a)*(0x110c+0x3a3+0x52b*-0x4)+(0x1*-0x6eb+0x693+-0x13*-0x5)]=_0x4591c8,_0x353093['outlines'][_0x206a6b*(-0x2*0x5d3+-0x1f84+0x2b2e)*(0x35*0x4d+0x76+-0x1064)+(-0x1a50+-0x2*0x1089+0x3b6a)]=_0x23577c,_0x353093['outlines'][_0x206a6b*(0x1*-0x18a9+-0x12d+0x19da)*(0x97b+0x1b22+-0x249a)+(-0x5*-0x422+-0x10c9*0x1+-0x18*0x29)]=_0x76d589,_0x353093['outlines'][_0x206a6b*(0x11a*-0x2+-0x5*0x5a1+-0xa1f*-0x3)*(-0x1f4c+0x15ff+0x950)+(0x1*0x14f7+0x1007+-0x127a*0x2)]=_0x4591c8,_0x353093['outlines'][_0x206a6b*(-0x136*0x9+-0xec3+0x88f*0x3)*(-0x1*-0x9e7+-0x25c8+0x1be4)+(0x1*0x1b03+0x2501*-0x1+-0x1*-0xa09)]=_0x23577c,this['_symbolSha'+'dowParams']){const _0x446a05=this['_symbolSha'+'dowParams'][_0x413661]*(-0x1d22*0x1+-0x13ce+-0x187b*-0x2);_0x27b307=this['_shadowPal'+'ette'][_0x446a05]+this['_shadowPal'+'ette'][_0x446a05+(-0x1721*0x1+0x1*-0x2093+-0xd*-0x449)]*(-0x6*0xd+0x170d+-0x13*0x125),_0xe09ccf=this['_shadowPal'+'ette'][_0x446a05+(0x3d4*-0x8+0xd*0x12f+0xf3f)]+this['_shadowPal'+'ette'][_0x446a05+(-0x9f4*0x1+-0x2b*0x7+0x7c*0x17)]*(0x83*0x1f+0x12f2+-0xf*0x241),_0x4adaf6=this['_shadowPal'+'ette'][_0x446a05+(0xe0+-0x214a*-0x1+-0x8d*0x3e)]+(-0x23bc*-0x1+-0xe34+-0x1509)+Math['round'](_0x1a5e78*this['_shadowPal'+'ette'][_0x446a05+(0xc2f*0x2+-0x10a3+0x2*-0x3db)]+(0x3*0xaae+-0x1a37*0x1+-0x1f*0x2c))*(0xc0e*-0x1+0x1886+0xb78*-0x1);}_0x353093['shadows'][_0x206a6b*(-0x2d0*0x4+-0x20b*0x1+0xd4f)*(-0x166d+0x38*-0x88+0x3430)+(-0x2153+0x1031+0x1122)]=_0x27b307,_0x353093['shadows'][_0x206a6b*(-0x13c8+-0x572+0x193e)*(0x4*0x790+-0x297+-0x1ba6)+(-0x18ad+-0x1*0xe35+0x26e3)]=_0xe09ccf,_0x353093['shadows'][_0x206a6b*(0x11a7+-0x1bb5*-0x1+-0x2*0x16ac)*(0x1*0x1633+0x92*0xe+0x4*-0x78b)+(0x1e18+0x1*0x25e5+0x1*-0x43fb)]=_0x4adaf6,_0x353093['shadows'][_0x206a6b*(-0x813+0x37*-0x6d+0x4a*0x6d)*(0x56f*-0x5+0x2401+-0x8d3)+(0x13f*0x13+-0x1be8+0x43e)]=_0x27b307,_0x353093['shadows'][_0x206a6b*(0x164*0x4+-0x1cf*-0x7+-0x1235)*(0x81c+-0x1d6*-0x10+-0x2579)+(-0x14d6+-0x201d*0x1+0x791*0x7)]=_0xe09ccf,_0x353093['shadows'][_0x206a6b*(-0x184*-0xc+-0x448+-0xde4)*(0x1279+0x3ab*-0x3+-0x775)+(0x5bd+0x13*-0x10b+0xe19)]=_0x4adaf6,_0x353093['shadows'][_0x206a6b*(-0x443*0x1+0x979*0x1+-0x532)*(0x5d1+-0x1*0xa15+-0x447*-0x1)+(-0x1*-0x1ad7+0x77c*0x3+-0x3145)]=_0x27b307,_0x353093['shadows'][_0x206a6b*(0x45a+0x1062+-0x14b8)*(-0x1552+0x139d+0xb*0x28)+(0x1*-0x104d+0x2*0x9e3+-0x372)]=_0xe09ccf,_0x353093['shadows'][_0x206a6b*(0x1*0x10a6+0x13e5+-0x2487*0x1)*(-0x1*0x2302+0x3*-0xe9+0x4b8*0x8)+(-0xe5f*0x1+0x11*0xaf+0x2c8)]=_0x4adaf6,_0x353093['shadows'][_0x206a6b*(0xb47+0x1557+-0x209a)*(-0x27*0x24+0x3ed+-0x3*-0x86)+(0x8*0x169+0x4*0x46b+-0x1ceb)]=_0x27b307,_0x353093['shadows'][_0x206a6b*(0x2587+-0x516+-0x206d*0x1)*(0x593+-0x19*0xf+-0x419)+(-0x22b3+-0x243e*-0x1+-0x181)]=_0xe09ccf,_0x353093['shadows'][_0x206a6b*(0x1c1*0xf+-0x152b*-0x1+-0x1c2*0x1b)*(0x6eb+-0x2d*0x2b+-0x1*-0xa7)+(0x1a5f+-0x2*0x108+0x1*-0x1844)]=_0x4adaf6,_0x353093['quad']++;}_0x5aec62||_0x5b80b8<_0x2385a6&&_0x4d9d77(this['_symbols'],_0x2385a6,_0x4ac52b);}this['_noResize']=!(0x35b*-0x1+0x56c*-0x3+0x139f),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x4*-0x200+-0x11f6*-0x2+-0x1beb);const _0x1da7f7=this['_element']['pivot']['x'],_0x40f99d=this['_element']['pivot']['y'],_0x55b151=this['_alignment']['x'],_0x3cebae=this['_alignment']['y'];for(let _0x1fdbd1=-0x1c65+-0x2517+0x417c;_0x1fdbd1<this['_meshInfo']['length'];_0x1fdbd1++){if(this['_meshInfo'][_0x1fdbd1]['count']===-0x84e+0x2686+-0x1e38)continue;let _0x45c7ba=0x9c+-0x11d5+0x1*0x1139;for(const _0x55d353 in this['_meshInfo'][_0x1fdbd1]['lines']){const _0x3a6174=this['_meshInfo'][_0x1fdbd1]['lines'][_0x55d353],_0xd699b3=this['_lineWidth'+'s'][parseInt(_0x55d353,0x1ed2+0x2496+-0x435e)],_0x27d0b6=-_0x1da7f7*this['_element']['calculated'+'Width']+_0x55b151*(this['_element']['calculated'+'Width']-_0xd699b3)*(this['_rtl']?-(-0xf8*-0x1+-0xa*0x5+-0xc5):0x1e3a+-0x14e8+0x3*-0x31b),_0x251e74=(-0x9*-0x146+-0x13c5+0x850-_0x40f99d)*this['_element']['calculated'+'Height']-_0x497dea-(-0x5*-0x755+-0xe62+-0x1*0x1646-_0x3cebae)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x5cff1e=_0x45c7ba;_0x5cff1e<=_0x3a6174;_0x5cff1e++)this['_meshInfo'][_0x1fdbd1]['positions'][_0x5cff1e*(0x26d2+0x106+-0x27d4)*(-0xae*-0x2b+0x28a*-0xa+-0x1*0x3d3)]+=_0x27d0b6,this['_meshInfo'][_0x1fdbd1]['positions'][_0x5cff1e*(0x2*0x7f7+0x2dd*-0x3+-0x753)*(-0x2*-0xedb+0x3*-0xad8+0x2d5)+(0x240b+-0x227*0x9+-0x10a9)]+=_0x27d0b6,this['_meshInfo'][_0x1fdbd1]['positions'][_0x5cff1e*(0x236*0xc+0x2607+-0x193*0x29)*(0xb20+-0x1342+-0x825*-0x1)+(0xef6*-0x1+-0x22f9+0x31f5)]+=_0x27d0b6,this['_meshInfo'][_0x1fdbd1]['positions'][_0x5cff1e*(0x66a+-0x1f80+-0x66*-0x3f)*(-0x233c+0x559*0x3+0x1334)+(-0x51+-0x1e4*-0x1+0x18a*-0x1)]+=_0x27d0b6,this['_meshInfo'][_0x1fdbd1]['positions'][_0x5cff1e*(0xd3a+-0x15b5+0x87f)*(-0x1*-0xb5f+0x14f9+-0x2055)+(0x53a+0x5*-0x5c9+-0x4a*-0x52)]+=_0x251e74,this['_meshInfo'][_0x1fdbd1]['positions'][_0x5cff1e*(0xc7e+-0x86*-0x15+-0x1778)*(-0x971+-0x1546+-0x17*-0x156)+(0xbe3+-0x25aa+-0x3*-0x899)]+=_0x251e74,this['_meshInfo'][_0x1fdbd1]['positions'][_0x5cff1e*(-0x1214+0x10d1+0x147)*(-0x56*-0x4f+-0x4a*0xd+0x1*-0x16c5)+(0x1af+-0xb*-0x81+-0x733)]+=_0x251e74,this['_meshInfo'][_0x1fdbd1]['positions'][_0x5cff1e*(0x24f4+-0x1e2f*0x1+0x13*-0x5b)*(-0x23d4+0x981+0x1a56)+(0x1*0x18ad+0x212b*-0x1+0x888)]+=_0x251e74;if(this['_rtl'])for(let _0x19044c=_0x45c7ba;_0x19044c<=_0x3a6174;_0x19044c++){const _0x3e59c4=_0x19044c*(0x4ab*-0x7+-0x169c+0x27*0x16b)*(-0x13f+0x1425+-0x5*0x3c7);for(let _0x59fdda=0xdca+-0x112f*-0x2+-0x3028;_0x59fdda<-0x25e+-0x25ca+0x282c;++_0x59fdda)this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+_0x59fdda*(0x10c9+0x158a+-0x2650)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+_0x59fdda*(-0x141b+0x132f+-0x1*-0xef)]+_0x27d0b6*(0x277*0x1+0x1b52+-0x1dc7);const _0x3f9be4=this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+(-0x47*0x3+0x92*0x20+0x4*-0x45a)],_0x15c6fe=this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+(0x2*-0x482+0x6a6+0x6*0x66)];this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+(0x336+-0x731*-0x2+-0x1195)]=this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+(-0x1a15*-0x1+0xea+-0x1aff)],this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+(-0x237b+-0x2365+0x46e6)]=this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+(-0x36*-0x3+0x180+-0x219)],this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+(-0x36*-0x59+-0x240f+0x5c3*0x3)]=_0x3f9be4,this['_meshInfo'][_0x1fdbd1]['positions'][_0x3e59c4+(0x16*0x119+0x2664+-0x3e81*0x1)]=_0x15c6fe;}_0x45c7ba=_0x3a6174+(-0x64b+-0x120d*-0x1+-0xbc1);}const _0x4dea0c=this['_meshInfo'][_0x1fdbd1]['count']*(-0x5*0x97+-0x15e5+-0x2b*-0x94),_0x127b07=this['_meshInfo'][_0x1fdbd1]['quad']*(0x1672+0x20*0x22+0x1*-0x1aae),_0x22f737=new go(this['_meshInfo'][_0x1fdbd1]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x8bbee7=-0x15be+0x1d51+-0x793;_0x8bbee7<_0x4dea0c;_0x8bbee7++)_0x8bbee7>=_0x127b07?(_0x22f737['element'][He]['set'](0x2*0xfd3+0x581*-0x5+-0x421,-0x298+-0x196d*0x1+0x1c05,0x12*0x14b+0x2b*0x3b+-0x212f),_0x22f737['element'][os]['set'](-0x21a8+0x1ef4+-0xad*-0x4,-0x1ae7*-0x1+0x2*-0x655+-0xe3d),_0x22f737['element'][Et]['set'](0x887*-0x2+0x215c+-0x104e,-0x1f61+-0x120+0x2081,0x2*-0x75f+-0x1cb*0x6+0x1980,0x1b25+-0x1346+-0x7df),_0x22f737['element'][Po]['set'](0xeb+0xa6*-0x13+0xb67,-0x88*-0x16+-0x55d*-0x1+-0x3*0x5af,-0x23+-0x121*-0x17+-0x3a*0x72,-0x42c+0x7f6+0x5*-0xc2),_0x22f737['element'][Ro]['set'](0x1a7c+0xb55+0x3*-0xc9b,0x126c+0x257f*0x1+-0x199*0x23,-0x259e+0x2056+0x548,-0x24b2+-0x3*0x277+0x2c17)):(_0x22f737['element'][He]['set'](this['_meshInfo'][_0x1fdbd1]['positions'][_0x8bbee7*(-0x743+0x1*0x1cf3+0xb3*-0x1f)+(0x1aff+0x86*-0x3d+0x4ef)],this['_meshInfo'][_0x1fdbd1]['positions'][_0x8bbee7*(0x1*-0x180f+-0xe*0xa6+-0x1*-0x2126)+(-0x1f6e+0xa6*-0xd+0x27dd)],this['_meshInfo'][_0x1fdbd1]['positions'][_0x8bbee7*(-0x1f3+0x36*0x27+0x1*-0x644)+(0x2ad*0xb+-0x25b3+0x846)]),_0x22f737['element'][os]['set'](this['_meshInfo'][_0x1fdbd1]['uvs'][_0x8bbee7*(0xf9b+0x681+-0x161a)+(-0x119*0x14+0xb58+0xa9c)],this['_meshInfo'][_0x1fdbd1]['uvs'][_0x8bbee7*(-0xf4d*-0x1+-0x1823+0x2*0x46c)+(0x7*0x2a7+0xd*-0x133+-0x2f9*0x1)]),_0x22f737['element'][Et]['set'](this['_meshInfo'][_0x1fdbd1]['colors'][_0x8bbee7*(-0x2b+-0x1*-0x615+-0x5e6)+(0x1928+-0x230d+-0x11*-0x95)],this['_meshInfo'][_0x1fdbd1]['colors'][_0x8bbee7*(0x218f+0x1d51+0x1bf*-0x24)+(-0x8f5*0x4+-0x1*0x63a+0x1*0x2a0f)],this['_meshInfo'][_0x1fdbd1]['colors'][_0x8bbee7*(-0x15a0+-0x19d7+0x451*0xb)+(-0x1*0x1c69+0x6f*-0x5+0x57*0x5a)],this['_meshInfo'][_0x1fdbd1]['colors'][_0x8bbee7*(-0x7*-0x241+-0x59d*0x5+0xc4e)+(-0x17*0x27+0xd8d*-0x2+-0x1e9e*-0x1)]),_0x22f737['element'][Po]['set'](this['_meshInfo'][_0x1fdbd1]['outlines'][_0x8bbee7*(0x1433*-0x1+0x112*0x7+-0x25*-0x58)+(-0x1127+-0x19ba+0x2ae1)],this['_meshInfo'][_0x1fdbd1]['outlines'][_0x8bbee7*(-0x1907+-0xf3b*0x1+0xd*0x319)+(0x43b+0x5a1*0x5+-0x205f)],this['_meshInfo'][_0x1fdbd1]['outlines'][_0x8bbee7*(0x36d*0x7+0x3c0+0x2*-0xddc)+(0x1*0xa6f+-0x25ab*0x1+-0x16*-0x13d)]),_0x22f737['element'][Ro]['set'](this['_meshInfo'][_0x1fdbd1]['shadows'][_0x8bbee7*(-0xf46+0x940+-0x67*-0xf)+(0x16aa+-0x13c2+-0x2e8)],this['_meshInfo'][_0x1fdbd1]['shadows'][_0x8bbee7*(0x3a4*-0x9+0x7*0x174+0x9*0x283)+(-0x237e+-0x131b+-0x1d*-0x1e2)],this['_meshInfo'][_0x1fdbd1]['shadows'][_0x8bbee7*(-0x83*0x3a+-0x257*0x4+-0xd*-0x301)+(-0x93e+-0x1456+0x1d96)])),_0x22f737['next']();_0x22f737['end'](),this['_meshInfo'][_0x1fdbd1]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x1fdbd1]['positions']),this['_meshInfo'][_0x1fdbd1]['meshInstan'+'ce']['_aabbVer']=-(0x16b5*0x1+-0x75b*0x1+-0xf59);}this['_aabbDirty']=!(-0x19b*-0x5+-0x173f*-0x1+-0x1f46);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x3e9ef2){this['font']!==_0x3e9ef2['resource']&&(this['font']=_0x3e9ef2['resource']);}['_onFontCha'+'nge'](_0x433144,_0x3ae09f,_0x49bf41,_0x34029e){if(_0x3ae09f==='data'){this['_font']['data']=_0x49bf41;const _0x371b3a=this['_font']['data']['info']['maps']['length'];for(let _0x3d5436=-0x263f+-0xe50+0x27*0x159;_0x3d5436<_0x371b3a;_0x3d5436++){if(!this['_meshInfo'][_0x3d5436])continue;const _0x1705f9=this['_meshInfo'][_0x3d5436]['meshInstan'+'ce'];_0x1705f9&&(_0x1705f9['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x1705f9['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x1705f9['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3d5436]['width']));}}}['_onFontRem'+'ove'](_0x1b28a7){}['_setTextur'+'eParams'](_0x939d88,_0x10eb6a){this['_font']&&(this['_font']['type']===Zh?(_0x939d88['deletePara'+'meter']('texture_em'+'issiveMap'),_0x939d88['deletePara'+'meter']('texture_op'+'acityMap'),_0x939d88['setParamet'+'er']('texture_ms'+'dfMap',_0x10eb6a)):this['_font']['type']===yR&&(_0x939d88['deletePara'+'meter']('texture_ms'+'dfMap'),_0x939d88['setParamet'+'er']('texture_em'+'issiveMap',_0x10eb6a),_0x939d88['setParamet'+'er']('texture_op'+'acityMap',_0x10eb6a)));}['_getPxRang'+'e'](_0x18fa61){const _0xa43b14=Object['keys'](this['_font']['data']['chars']);for(let _0x23885f=0x289+-0x2db+0x52;_0x23885f<_0xa43b14['length'];_0x23885f++){const _0x9e746f=this['_font']['data']['chars'][_0xa43b14[_0x23885f]];if(_0x9e746f['range'])return(_0x9e746f['scale']||0x5*-0x4ed+0x607*-0x1+0x1ea9)*_0x9e746f['range'];}return 0x1eb+0x14f*-0xd+0xf1a;}['_getUv'](_0x6b1bf){const _0x3c9b25=this['_font']['data'];if(!_0x3c9b25['chars'][_0x6b1bf]){const _0x2b3477='\x20';return _0x3c9b25['chars'][_0x2b3477]?this['_getUv'](_0x2b3477):[-0x7e0+-0x1388+-0x36d*-0x8,-0xa3*0x1f+-0x13*-0x1c1+0x2*-0x6cb,0x1*-0x2007+0xd72+0x1295,0x2e+-0x34f+0x321];}const _0x3d8e68=_0x3c9b25['chars'][_0x6b1bf]['map'],_0x20ce66=_0x3c9b25['info']['maps'][_0x3d8e68]['width'],_0x334c8f=_0x3c9b25['info']['maps'][_0x3d8e68]['height'],_0x27c20e=_0x3c9b25['chars'][_0x6b1bf]['x'],_0x4fdd1e=_0x3c9b25['chars'][_0x6b1bf]['y'],_0x4854f0=_0x27c20e,_0x504108=_0x4fdd1e,_0x4a251a=_0x27c20e+_0x3c9b25['chars'][_0x6b1bf]['width'],_0x4abd53=_0x4fdd1e-_0x3c9b25['chars'][_0x6b1bf]['height'],_0x5ea3ad=0x2371+0x353*-0x3+-0x1977-_0x3c9b25['chars'][_0x6b1bf]['height']/_0x334c8f;return[_0x4854f0/_0x20ce66,_0x5ea3ad-_0x504108/_0x334c8f,_0x4a251a/_0x20ce66,_0x5ea3ad-_0x4abd53/_0x334c8f];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0xfac+-0x26a3+0x364f*0x1),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x25c5+-0x23dd+0x1*-0x1e7),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x26ea77){if(this['_model']){const _0x495f36=this['_model']['meshInstan'+'ces'];for(let _0x102d0e=-0x1e96+0x3f8+0x1a9e;_0x102d0e<_0x495f36['length'];_0x102d0e++)_0x495f36[_0x102d0e]['stencilFro'+'nt']=_0x26ea77,_0x495f36[_0x102d0e]['stencilBac'+'k']=_0x26ea77;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x463fb8){const _0x2434a9={};_0x463fb8===void(0x207c+-0x21*-0x9a+0x21*-0x196)&&(_0x463fb8=this['_symbols']['length']);for(let _0x11aba9=-0x1*0x247f+0x1989+0xaf6,_0x48a912=_0x463fb8;_0x11aba9<_0x48a912;_0x11aba9++){const _0x227c45=this['_symbols'][_0x11aba9];let _0x1a1dbd=this['_font']['data']['chars'][_0x227c45];_0x1a1dbd||(_0x1a1dbd=this['_font']['data']['chars']['\x20'],_0x1a1dbd||(_0x1a1dbd=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x1251+0x76b+-0x2d*-0x3e]]));const _0x54d54d=_0x1a1dbd['map'];_0x2434a9[_0x54d54d]?_0x2434a9[_0x54d54d]++:_0x2434a9[_0x54d54d]=-0x5*0xed+-0x1*-0x11cb+-0xd29*0x1;}return _0x2434a9;}['_updateRen'+'derRange'](){const _0xfc9b74=this['_rangeStar'+'t']===0xda5*0x2+0x4f1*-0x1+-0x1659?0x1d03*0x1+0x26bd+-0x43c0:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x1e7b7b=this['_rangeEnd']===-0x2*-0xc02+-0x5*-0x63e+-0x373a?-0x417+-0x845*0x2+-0x1*-0x14a1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x2cd09b=-0x3b9*0x7+-0x13*-0x6b+-0x6*-0x305,_0xcc55ef=this['_meshInfo']['length'];_0x2cd09b<_0xcc55ef;_0x2cd09b++){const _0x462714=_0xfc9b74[_0x2cd09b]||-0x18d7*0x1+-0xac3+0x239a*0x1,_0x22eb3a=_0x1e7b7b[_0x2cd09b]||-0x9e0+-0x1011+-0x19f1*-0x1,_0xef36fd=this['_meshInfo'][_0x2cd09b]['meshInstan'+'ce'];if(_0xef36fd){const _0x538da4=_0xef36fd['mesh'];_0x538da4&&(_0x538da4['primitive'][0xa*0x347+-0xeb7*-0x1+-0x1*0x2f7d]['base']=_0x462714*(0x1d94+0x899*-0x1+-0xa7c*0x2)*(-0x1363+-0x16fa+0x1*0x2a5f),_0x538da4['primitive'][-0x112*0x13+0x849+0xc0d]['count']=(_0x22eb3a-_0x462714)*(0x238d+0x1b7d+-0x3f07)*(-0x11c*0x1+0x6*-0x179+0x9f4*0x1));}}}set['text'](_0x52aa24){this['_i18nKey']=null;const _0x28c2aa=_0x52aa24!=null&&_0x52aa24['toString']()||'';this['_setText'](_0x28c2aa);}get['text'](){return this['_text'];}set['key'](_0x51ed47){const _0x4c3de5=_0x51ed47!==null?_0x51ed47['toString']():null;this['_i18nKey']!==_0x4c3de5&&(this['_i18nKey']=_0x4c3de5,_0x4c3de5?(this['_fontAsset']['disableLoc'+'alization']=!(-0x202e+-0x97f+0x29ae),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x1c27*0x1+0x1963+-0x4*-0xb1));}get['key'](){return this['_i18nKey'];}set['color'](_0x3dd685){const _0x2b01ad=_0x3dd685['r'],_0x46468f=_0x3dd685['g'],_0x12b9c4=_0x3dd685['b'];if(this['_color']===_0x3dd685&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x2b01ad&&this['_color']['g']===_0x46468f&&this['_color']['b']===_0x12b9c4)&&(this['_color']['r']=_0x2b01ad,this['_color']['g']=_0x46468f,this['_color']['b']=_0x12b9c4,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x2416+0x1*0x10af+0x1367*0x1]=Me['r'],this['_colorUnif'+'orm'][0xf*-0xb+-0x33*0xb3+-0x1*-0x244f]=Me['g'],this['_colorUnif'+'orm'][-0x5*-0x767+0x131*-0xd+-0x1584]=Me['b'];for(let _0x1bccdb=-0x415*-0x9+-0x219e+-0x11*0x2f,_0x264384=this['_model']['meshInstan'+'ces']['length'];_0x1bccdb<_0x264384;_0x1bccdb++)this['_model']['meshInstan'+'ces'][_0x1bccdb]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x2ebcf8){if(this['_color']['a']!==_0x2ebcf8&&(this['_color']['a']=_0x2ebcf8,this['_model'])){for(let _0x541a7d=-0x174e+-0x245e+-0x3bac*-0x1,_0x3993eb=this['_model']['meshInstan'+'ces']['length'];_0x541a7d<_0x3993eb;_0x541a7d++)this['_model']['meshInstan'+'ces'][_0x541a7d]['setParamet'+'er']('material_o'+'pacity',_0x2ebcf8);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x2ebcf8);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x1c6066){const _0x48528d=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x1c6066,this['_scaledLin'+'eHeight']=_0x1c6066,_0x48528d!==_0x1c6066&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x1ab038){const _0x7377f4=this['_wrapLines'];this['_wrapLines']=_0x1ab038,_0x7377f4!==_0x1ab038&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x528557){const _0x1d484a=this['_spacing'];this['_spacing']=_0x528557,_0x1d484a!==_0x528557&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x281078){const _0x426089=this['_fontSize'];this['_fontSize']=_0x281078,this['_originalF'+'ontSize']=_0x281078,_0x426089!==_0x281078&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x1f1b63){this['_fontAsset']['defaultAss'+'et']=_0x1f1b63;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x40a0bf){let _0x2d8179;if(this['_font']&&(_0x2d8179=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x40a0bf,this['_fontMinY']=0x1*0x1cc9+-0x893+-0x18e*0xd,this['_fontMaxY']=-0x234+-0x5*-0x165+-0x3*0x197,!_0x40a0bf)return;const _0x5d098c=this['_font']['data'];for(const _0x557c40 in _0x5d098c['chars']){const _0x58431a=_0x5d098c['chars'][_0x557c40];_0x58431a['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x58431a['bounds'][0x3c8+0x63d+-0xa04]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x58431a['bounds'][-0x2*-0x8e0+0x2346+0x14b*-0x29]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x40a0bf['type']!==_0x2d8179){const _0x4ce2e5=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4ce2e5);}for(let _0x54f824=0x902+0x267b+-0x2f7d*0x1,_0x4029a1=this['_font']['textures']['length'];_0x54f824<_0x4029a1;_0x54f824++)if(!this['_meshInfo'][_0x54f824])this['_meshInfo'][_0x54f824]=new ER();else{const _0xb29a3=this['_meshInfo'][_0x54f824]['meshInstan'+'ce'];_0xb29a3&&(_0xb29a3['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0xb29a3['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0xb29a3['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x54f824]['width']),this['_setTextur'+'eParams'](_0xb29a3,this['_font']['textures'][_0x54f824]));}let _0x30ec89=!(-0x1c46+0x1fd*-0x4+0x243b);for(let _0x27f367=this['_font']['textures']['length'];_0x27f367<this['_meshInfo']['length'];_0x27f367++)this['_meshInfo'][_0x27f367]['meshInstan'+'ce']&&(_0x30ec89||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x30ec89=!(0x15*0x62+0x214a+-0x2954)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x27f367]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x1cde15){_0x1cde15 instanceof W?this['_alignment']['set'](_0x1cde15['x'],_0x1cde15['y']):this['_alignment']['set'](_0x1cde15[-0x191*-0x10+0xb59+-0x3*0xc23],_0x1cde15[0x1545+-0x9*-0x2ab+-0x2d47*0x1]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x3159cd){const _0x1c4abf=this['_autoWidth'];if(this['_autoWidth']=_0x3159cd,_0x3159cd&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x146b*0x1+0x1*0x7d+-0x14e8+0.0001&&(this['_element']['width']=this['width']),_0x1c4abf!==_0x3159cd){const _0x16692f=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x16692f!==this['_fontSize']&&(this['_fontSize']=_0x16692f,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x277ee9){const _0x57c212=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x277ee9,_0x277ee9&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x8*0xad+0x9b*-0xb+0x1*0xc11+0.0001&&(this['_element']['height']=this['height']),_0x57c212!==_0x277ee9){const _0x3afea0=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3afea0!==this['_fontSize']&&(this['_fontSize']=_0x3afea0,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x4d6117){this['_rtlReorde'+'r']!==_0x4d6117&&(this['_rtlReorde'+'r']=_0x4d6117,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x2c20e7){this['_unicodeCo'+'nverter']!==_0x2c20e7&&(this['_unicodeCo'+'nverter']=_0x2c20e7,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x235d00=!(0x1685+0x211a+-0x379e);for(let _0x31d35e=-0x1*-0x739+0x18d1*0x1+0xaae*-0x3;_0x31d35e<this['_meshInfo']['length'];_0x31d35e++)this['_meshInfo'][_0x31d35e]['meshInstan'+'ce']&&(_0x235d00?this['_aabb']['add'](this['_meshInfo'][_0x31d35e]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x31d35e]['meshInstan'+'ce']['aabb']),_0x235d00=!(0xf5c+-0x13ac+0x5c*0xc)));this['_aabbDirty']=!(0x3*0x3d1+-0x43f+-0x733);}return this['_aabb'];}set['outlineCol'+'or'](_0x3c26ae){const _0x28c9eb=_0x3c26ae instanceof Y?_0x3c26ae['r']:_0x3c26ae[0x1fba+0x1c6d+-0x3c27],_0x5ef3b5=_0x3c26ae instanceof Y?_0x3c26ae['g']:_0x3c26ae[0x11*-0xef+-0xd03*-0x3+0x7*-0x34f],_0x17b56f=_0x3c26ae instanceof Y?_0x3c26ae['b']:_0x3c26ae[-0x1732+-0xfd*0x25+0x3bc5],_0x1651eb=_0x3c26ae instanceof Y?_0x3c26ae['a']:_0x3c26ae[-0x947*-0x1+-0x1b4f+0x120b];if(this['_outlineCo'+'lor']===_0x3c26ae&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x28c9eb&&this['_outlineCo'+'lor']['g']===_0x5ef3b5&&this['_outlineCo'+'lor']['b']===_0x17b56f&&this['_outlineCo'+'lor']['a']===_0x1651eb)&&(this['_outlineCo'+'lor']['r']=_0x28c9eb,this['_outlineCo'+'lor']['g']=_0x5ef3b5,this['_outlineCo'+'lor']['b']=_0x17b56f,this['_outlineCo'+'lor']['a']=_0x1651eb,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x23f9+-0x79*-0x40+0x3*-0x1613]=Me['r'],this['_outlineCo'+'lorUniform'][0x1e36+0x569+-0x239e]=Me['g'],this['_outlineCo'+'lorUniform'][0x13bf+-0x12*0x137+0x221]=Me['b'],this['_outlineCo'+'lorUniform'][-0x2545+-0x15*0x135+0x3ea1]=Me['a'];for(let _0x4347fe=0x1af*0xb+-0x22ad+0x1028,_0x2e97ca=this['_model']['meshInstan'+'ces']['length'];_0x4347fe<_0x2e97ca;_0x4347fe++)this['_model']['meshInstan'+'ces'][_0x4347fe]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x4c6d4e){const _0x46476f=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x4c6d4e,_0x46476f!==_0x4c6d4e&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0xfd23f5=-0x1*-0x158b+0x2*0xbdf+-0x1*0x2d49,_0x6d5f9=this['_model']['meshInstan'+'ces']['length'];_0xfd23f5<_0x6d5f9;_0xfd23f5++)this['_model']['meshInstan'+'ces'][_0xfd23f5]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x4d6082){const _0x561de7=_0x4d6082 instanceof Y?_0x4d6082['r']:_0x4d6082[0x1*-0x226d+-0xa*0x276+0x3b09],_0x4582e7=_0x4d6082 instanceof Y?_0x4d6082['g']:_0x4d6082[0x153b+0x23ce+-0x3908],_0x1d2a98=_0x4d6082 instanceof Y?_0x4d6082['b']:_0x4d6082[-0x97a*0x1+0x13f4+-0x53c*0x2],_0x33a424=_0x4d6082 instanceof Y?_0x4d6082['a']:_0x4d6082[0xc7*0x1e+0x22*0xfe+-0x390b];if(this['_shadowCol'+'or']===_0x4d6082&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x561de7&&this['_shadowCol'+'or']['g']===_0x4582e7&&this['_shadowCol'+'or']['b']===_0x1d2a98&&this['_shadowCol'+'or']['a']===_0x33a424)&&(this['_shadowCol'+'or']['r']=_0x561de7,this['_shadowCol'+'or']['g']=_0x4582e7,this['_shadowCol'+'or']['b']=_0x1d2a98,this['_shadowCol'+'or']['a']=_0x33a424,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0xe9c+0x267a+-0x1c5*0x1e]=Me['r'],this['_shadowCol'+'orUniform'][0xa*0x39a+-0x139d*0x1+0x1066*-0x1]=Me['g'],this['_shadowCol'+'orUniform'][0x721+0xddc+-0x14fb]=Me['b'],this['_shadowCol'+'orUniform'][0x146*0x1e+0xb2c+0x1*-0x315d]=Me['a'];for(let _0x144c54=0x8e1+-0x712+-0x1*0x1cf,_0x415d0d=this['_model']['meshInstan'+'ces']['length'];_0x144c54<_0x415d0d;_0x144c54++)this['_model']['meshInstan'+'ces'][_0x144c54]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0xe838c8){const _0x816987=_0xe838c8 instanceof W?_0xe838c8['x']:_0xe838c8[0xd46+-0x12*0x47+-0x848],_0x3ba8ca=_0xe838c8 instanceof W?_0xe838c8['y']:_0xe838c8[0x1*-0x12a1+0xad*-0xd+-0x1*-0x1b6b];if(!(this['_shadowOff'+'set']['x']===_0x816987&&this['_shadowOff'+'set']['y']===_0x3ba8ca)&&(this['_shadowOff'+'set']['set'](_0x816987,_0x3ba8ca),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x7a6210=0x1b18+-0x2*0x59a+0x54c*-0x3,_0x142408=this['_model']['meshInstan'+'ces']['length'];_0x7a6210<_0x142408;_0x7a6210++){const _0x2e0043=-this['_font']['data']['info']['maps'][_0x7a6210]['width']/this['_font']['data']['info']['maps'][_0x7a6210]['height'];this['_shadowOff'+'setUniform'][-0x3b5+0xc17+-0x862]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1*-0x158c+-0x1*0x1ba2+0x617]=_0x2e0043*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x7a6210]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x241090){this['_minFontSi'+'ze']!==_0x241090&&(this['_minFontSi'+'ze']=_0x241090,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x37bd08){this['_maxFontSi'+'ze']!==_0x37bd08&&(this['_maxFontSi'+'ze']=_0x37bd08,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x1607b1){this['_autoFitWi'+'dth']!==_0x1607b1&&(this['_autoFitWi'+'dth']=_0x1607b1,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x18e724){this['_autoFitHe'+'ight']!==_0x18e724&&(this['_autoFitHe'+'ight']=_0x18e724,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x27a897){this['_maxLines']!==_0x27a897&&(_0x27a897===null&&this['_maxLines']===-(-0x3*-0x59f+-0x1fd*-0x1+-0x12d9)||(this['_maxLines']=_0x27a897===null?-(0x181*-0x2+0x2181+-0x1e7e*0x1):_0x27a897,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x4c8161){if(_0x4c8161=!!_0x4c8161,this['_enableMar'+'kup']===_0x4c8161)return;this['_enableMar'+'kup']=_0x4c8161,this['font']&&this['_updateTex'+'t']();const _0x2eae2b=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x2eae2b);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x10f70d){return this['_colorPale'+'tte']['slice'](_0x10f70d*(0x31*0xc9+-0x1*0x1fa2+-0x6d4),_0x10f70d*(0x18d8+0xbff*-0x2+0xd7*-0x1)+(-0x23e2+-0x1*0xa93+0x173c*0x2));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x109e94){return this['_outlinePa'+'lette']['slice'](_0x109e94*(-0xd8b*-0x1+0xe6*-0x2a+0x1836),_0x109e94*(-0x7*0x38b+0x1226+0x6ac)+(-0x4d*-0x62+0xf0b+0x164*-0x20));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x549c93){return this['_shadowPal'+'ette']['slice'](_0x549c93*(-0x1*-0x1945+0x1*0x6ad+-0x1fec),_0x549c93*(-0x1*0x1d09+-0x1ec2+0x3bd1)+(0x9ce+-0x261a+0x1c52));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x19ac7b){_0x19ac7b=Math['max'](0x6b*-0x2e+-0x1047+0x2381,Math['min'](_0x19ac7b,this['_symbols']['length'])),_0x19ac7b!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x19ac7b,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x25c3f0){_0x25c3f0=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x25c3f0,this['_symbols']['length'])),_0x25c3f0!==this['_rangeEnd']&&(this['_rangeEnd']=_0x25c3f0,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Zd=new T(),_g=new q(),oi=new T(),OR=new T(),ss=new q(),Kl=new q(),Zl=new q(),Un=new q();class Wt extends ue{constructor(_0x94e839,_0x16e720){super(_0x94e839,_0x16e720),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x2224+-0x2*-0xd67+-0x3cf1),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=0xa90+0x62d+-0x1*0x109d,this['_height']=this['_calculate'+'dHeight']=-0x25db+-0x1*-0x69d+-0x49*-0x6e,this['_margin']=new Q(0x533*0x4+0x2d*0xc3+0x1*-0x3713,0x2*0x1111+0x2*-0x1137+-0x13*-0x4,-(-0x24bc+0x2405+0xd7),-(-0x6*-0x187+0x1fc2+-0x28cc)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x9b7+-0x4*0x8bb+-0x1*-0x1935),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(-0x1df*-0x7+0x94a*0x1+-0x1*0x1663),this['_canvasCor'+'nersDirty']=!(-0x66b+-0x215e+-0x23*-0x123),this['_worldCorn'+'ersDirty']=!(0x1*-0x2303+-0x57*-0x4f+0x82a*0x1),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=gh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x4*-0x287+-0x61*-0x1+0x1*0x9bb,this['_fitMode']=yh,this['_useInput']=!(-0x1*-0xeb4+0x10be+-0x1f71),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x1*0x1dec+-0x69a+-0x9*-0x40f),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x7*0x1eb+-0xed*-0x29+-0x3362,this['_maskOffse'+'t']=0x25fd+-0x6b1*0x3+-0x11ea+0.5,this['_maskedBy']=null);}get['data'](){const _0x2a5b1a=this['system']['store'][this['entity']['getGuid']()];return _0x2a5b1a?_0x2a5b1a['data']:null;}set['enabled'](_0x259615){const _0x5c44dc=this['data'],_0xbc7eb3=_0x5c44dc['enabled'];_0x5c44dc['enabled']=_0x259615,this['fire']('set','enabled',_0xbc7eb3,_0x259615);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x2214+-0x259*-0x8+0x2*-0x1a6e+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0xf26+0x20d3+-0x2ff9+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x174aaf){_0x174aaf instanceof Q?this['_anchor']['copy'](_0x174aaf):this['_anchor']['set'](..._0x174aaf),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x93c+0x2006+0x16ca*-0x1),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x1851c1){var _0x35b000,_0x433a30;this['_batchGrou'+'pId']!==_0x1851c1&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x9e*-0x25+-0x6a8+0x26*-0x6d&&((_0x35b000=this['system']['app']['batcher'])==null||_0x35b000['remove'](Je['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x1851c1>=-0x1555+0x1*-0x1ea5+0x33fa&&((_0x433a30=this['system']['app']['batcher'])==null||_0x433a30['insert'](Je['ELEMENT'],_0x1851c1,this['entity'])),_0x1851c1<0x23cc+-0x10a4+-0x1328&&this['_batchGrou'+'pId']>=-0xe24+-0x1dc1*0x1+0x2be5&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x1851c1);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x52fce3){this['_margin']['y']=_0x52fce3;const _0x4aed71=this['entity']['getLocalPo'+'sition'](),_0x360404=this['_absTop'],_0x17345b=this['_localAnch'+'or']['y']+_0x52fce3;this['_setHeight'](_0x360404-_0x17345b),_0x4aed71['y']=_0x52fce3+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x4aed71);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x5d253e){this['_setCalcul'+'atedWidth'](_0x5d253e,!(-0x5e6+-0x24c+0x832));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x2567d8){this['_setCalcul'+'atedHeight'](_0x2567d8,!(0x66f*0x1+0x11c9*0x1+-0x1838*0x1));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x466e1d=this['system']['app']['graphicsDe'+'vice'],_0x33120e=this['screenCorn'+'ers'],_0x84f345=_0x466e1d['canvas']['clientWidt'+'h']/_0x466e1d['width'],_0x50ef14=_0x466e1d['canvas']['clientHeig'+'ht']/_0x466e1d['height'];for(let _0x37112c=0xc8e+-0x6d0+-0x5be;_0x37112c<0xae+0x35*0x35+-0xba3;_0x37112c++)this['_canvasCor'+'ners'][_0x37112c]['set'](_0x33120e[_0x37112c]['x']*_0x84f345,(_0x466e1d['height']-_0x33120e[_0x37112c]['y'])*_0x50ef14);return this['_canvasCor'+'nersDirty']=!(-0x1*0x596+-0x5e3*-0x1+-0x4c),this['_canvasCor'+'ners'];}set['drawOrder'](_0x34fb74){let _0x37c934=-0x1*-0x125f+-0xe15+-0x3*0x16e;this['screen']&&(_0x37c934=this['screen']['screen']['priority']),_0x34fb74>-0xd3ede*-0x21+0x1c38cd4+0x278a773*-0x1&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x34fb74=-0x557144+0x1e8731d+-0x9301da),this['_drawOrder']=(_0x37c934<<0x15cb+-0x12*-0x3a+-0x19c7)+_0x34fb74,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x530c9e){this['_height']=_0x530c9e,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x530c9e,!(-0x6*0x626+0x1637+-0xead*-0x1)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x6ff5d5){if(this['_addedMode'+'ls']['length'])for(let _0x166dfc=0x231b+-0x305*0x5+-0x1402;_0x166dfc<this['_layers']['length'];_0x166dfc++){const _0xcdc6de=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x166dfc]);if(_0xcdc6de){for(let _0x211380=-0x27*-0xc7+-0xeae*-0x2+-0x3bad;_0x211380<this['_addedMode'+'ls']['length'];_0x211380++)_0xcdc6de['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x211380]['meshInstan'+'ces']);}}if(this['_layers']=_0x6ff5d5,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x50e482=-0x3d1*-0x3+0x5d0+-0x1143;_0x50e482<this['_layers']['length'];_0x50e482++){const _0x2e33d1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x50e482]);if(_0x2e33d1){for(let _0x2518ac=-0x24b4+0x29*-0x47+0x3013;_0x2518ac<this['_addedMode'+'ls']['length'];_0x2518ac++)_0x2e33d1['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x2518ac]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x4ac2c1){this['_margin']['x']=_0x4ac2c1;const _0x20bca7=this['entity']['getLocalPo'+'sition'](),_0x260ea3=this['_absRight'],_0x514ca7=this['_localAnch'+'or']['x']+_0x4ac2c1;this['_setWidth'](_0x260ea3-_0x514ca7),_0x20bca7['x']=_0x4ac2c1+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x20bca7);}get['left'](){return this['_margin']['x'];}set['margin'](_0x576688){this['_margin']['copy'](_0x576688),this['_calculate'+'Size'](!(-0x1569*0x1+-0x204d+0x37*0xfa),!(-0x472+-0x4*0x7ea+-0x2*-0x120d)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x48176c){const {pivot:_0x5015a9,margin:_0xba7684}=this,_0xfa903f=_0x5015a9['x'],_0x1d1a98=_0x5015a9['y'];_0x48176c instanceof W?_0x5015a9['copy'](_0x48176c):_0x5015a9['set'](..._0x48176c);const _0x224b2b=_0xba7684['x']+_0xba7684['z'],_0x250549=_0x5015a9['x']-_0xfa903f;_0xba7684['x']+=_0x224b2b*_0x250549,_0xba7684['z']-=_0x224b2b*_0x250549;const _0x4a9125=_0xba7684['y']+_0xba7684['w'],_0x1f4012=_0x5015a9['y']-_0x1d1a98;_0xba7684['y']+=_0x4a9125*_0x1f4012,_0xba7684['w']-=_0x4a9125*_0x1f4012,this['_anchorDir'+'ty']=!(0x128b+0x102a+-0x5*0x6f1),this['_cornersDi'+'rty']=!(-0x10f*0xd+-0x26b4+0x3477),this['_worldCorn'+'ersDirty']=!(-0x232d+0x5c5+-0x1d68*-0x1),this['_calculate'+'Size'](!(-0x26c6+-0x14*0xa7+0x33d3),!(0x198+0x781*-0x2+-0x5*-0x2af)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x5015a9);}get['pivot'](){return this['_pivot'];}set['right'](_0x2ed95f){this['_margin']['z']=_0x2ed95f;const _0x306375=this['entity']['getLocalPo'+'sition'](),_0x14bd70=this['_absLeft'],_0x2e181c=this['_localAnch'+'or']['z']-_0x2ed95f;this['_setWidth'](_0x2e181c-_0x14bd70),_0x306375['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x2ed95f-this['_calculate'+'dWidth']*(-0xca*-0xd+0x1*0x1107+-0x1b48-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x306375);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x4f25e7=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x57a*-0x4+-0x716+-0x1*0xed2];this['_screenCor'+'ners'][0x23d9+-0x249c+0x41*0x3]['set'](this['_absLeft'],this['_absBottom'],-0x787+-0x1a8b+0x26f*0xe),this['_screenCor'+'ners'][-0x4*0x88c+0x172d+0x14*0x8d]['set'](this['_absRight'],this['_absBottom'],-0x1871+-0x179b+0x300c),this['_screenCor'+'ners'][0x39*-0x51+-0xa*0x1e3+-0x1*-0x24e9]['set'](this['_absRight'],this['_absTop'],-0x3*-0x83f+0x9b5+-0x2272),this['_screenCor'+'ners'][0x16ca+-0x1*0x2033+-0x24*-0x43]['set'](this['_absLeft'],this['_absTop'],-0x14*0x1bb+0x13e8+-0xeb4*-0x1);const _0x142c08=this['screen']['screen']['screenSpac'+'e'];for(let _0x23c7b9=0x1426+0x22*0xdd+-0x3180;_0x23c7b9<0xb4*-0x1f+0x43+0x158d;_0x23c7b9++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x23c7b9],this['_screenCor'+'ners'][_0x23c7b9]),_0x142c08&&this['_screenCor'+'ners'][_0x23c7b9]['mulScalar'](this['screen']['screen']['scale']),_0x4f25e7&&this['_screenCor'+'ners'][_0x23c7b9]['add'](_0x4f25e7);return this['_cornersDi'+'rty']=!(0x2343+0xda+-0x907*0x4),this['_canvasCor'+'nersDirty']=!(0x1942+0x22fe+-0x3c40),this['_worldCorn'+'ersDirty']=!(-0x617+0x1859*0x1+-0x52*0x39),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x6f*-0x13+-0x605*-0x4+0x1*-0x2051;}get['textHeight'](){return this['_text']?this['_text']['height']:0xc5*-0x2f+-0x175*0x5+0x2b74;}set['top'](_0x3cd9bc){this['_margin']['w']=_0x3cd9bc;const _0x1c04ed=this['entity']['getLocalPo'+'sition'](),_0x22cf16=this['_absBottom'],_0x3b1d17=this['_localAnch'+'or']['w']-_0x3cd9bc;this['_setHeight'](_0x3b1d17-_0x22cf16),_0x1c04ed['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x3cd9bc-this['_calculate'+'dHeight']*(0x24f*0xa+0x1*0xbe4+-0x22f9-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x1c04ed);}get['top'](){return this['_margin']['w'];}set['type'](_0x1a6d7f){_0x1a6d7f!==this['_type']&&(this['_type']=_0x1a6d7f,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x1a6d7f===nf?this['_image']=new _R(this):_0x1a6d7f===ex&&(this['_text']=new kR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x1e5009){this['_useInput']!==_0x1e5009&&(this['_useInput']=_0x1e5009,this['system']['app']['elementInp'+'ut']?_0x1e5009?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x1354+0x493*0x7+-0x3359)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x1e5009));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x942cd1){this['_fitMode']=_0x942cd1,this['_calculate'+'Size'](!(-0x2*-0x7f6+0xd3f+-0x1*0x1d2b),!(0x27*0xf9+0x1e62+0x1*-0x4451)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x370dbd){this['_width']=_0x370dbd,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x370dbd,!(0x1c3a+0x1c94+-0x16*0x295)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x22252b=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ss['copy'](this['screen']['screen']['_screenMat'+'rix']),ss['data'][-0x2361+0x7df+0x1b8f]=-ss['data'][-0xe65+-0xcb9+0x1b2b],ss['mul2'](this['screen']['getWorldTr'+'ansform'](),ss);for(let _0x4c36d7=0x6*0x39b+-0x1cd5+0x733;_0x4c36d7<-0xa49+-0x274+0xcc1;_0x4c36d7++)ss['transformP'+'oint'](_0x22252b[_0x4c36d7],this['_worldCorn'+'ers'][_0x4c36d7]);}}else{const _0x1aa52c=this['entity']['getLocalPo'+'sition']();ss['setTransla'+'te'](-_0x1aa52c['x'],-_0x1aa52c['y'],-_0x1aa52c['z']),Kl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Zl['setTransla'+'te'](_0x1aa52c['x'],_0x1aa52c['y'],_0x1aa52c['z']);const _0x596b71=this['entity']['parent']?this['entity']['parent']:this['entity'];Un['copy'](_0x596b71['getWorldTr'+'ansform']()),Un['mul'](Zl)['mul'](Kl)['mul'](ss),oi['set'](_0x1aa52c['x']-this['pivot']['x']*this['calculated'+'Width'],_0x1aa52c['y']-this['pivot']['y']*this['calculated'+'Height'],_0x1aa52c['z']),Un['transformP'+'oint'](oi,this['_worldCorn'+'ers'][-0x261+-0xa1c+0xc7d]),oi['set'](_0x1aa52c['x']+(-0x17f+-0xa37*0x3+0x2025-this['pivot']['x'])*this['calculated'+'Width'],_0x1aa52c['y']-this['pivot']['y']*this['calculated'+'Height'],_0x1aa52c['z']),Un['transformP'+'oint'](oi,this['_worldCorn'+'ers'][-0x3ea+-0x23a0+0x278b]),oi['set'](_0x1aa52c['x']+(-0x1c25+0x392*-0x9+0x3c48-this['pivot']['x'])*this['calculated'+'Width'],_0x1aa52c['y']+(0x2*0x4cf+-0x1c25+0x1288-this['pivot']['y'])*this['calculated'+'Height'],_0x1aa52c['z']),Un['transformP'+'oint'](oi,this['_worldCorn'+'ers'][-0xf7*0xd+0x4d4+-0x3*-0x293]),oi['set'](_0x1aa52c['x']-this['pivot']['x']*this['calculated'+'Width'],_0x1aa52c['y']+(0x530*-0x1+-0xffa+0x152b*0x1-this['pivot']['y'])*this['calculated'+'Height'],_0x1aa52c['z']),Un['transformP'+'oint'](oi,this['_worldCorn'+'ers'][-0x2209+0xde7+0x23d*0x9]);}return this['_worldCorn'+'ersDirty']=!(-0x17*0x4f+-0x1b54+0x226e),this['_worldCorn'+'ers'];}set['fontSize'](_0x1a0c23){this['_setValue']('fontSize',_0x1a0c23);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x150606){this['_setValue']('minFontSiz'+'e',_0x150606);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x56a722){this['_setValue']('maxFontSiz'+'e',_0x56a722);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x5c8298){this['_setValue']('maxLines',_0x5c8298);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x321e8c){this['_setValue']('autoFitWid'+'th',_0x321e8c);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x32fabb){this['_setValue']('autoFitHei'+'ght',_0x32fabb);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x272c91){this['_setValue']('color',_0x272c91);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0xd9064b){this['_setValue']('font',_0xd9064b);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x1826d9){this['_setValue']('fontAsset',_0x1826d9);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x3c9c38){this['_setValue']('spacing',_0x3c9c38);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x307efe){this['_setValue']('lineHeight',_0x307efe);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x1a021d){this['_setValue']('wrapLines',_0x1a021d);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x46b39a){this['_setValue']('lines',_0x46b39a);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x306f63){this['_setValue']('alignment',_0x306f63);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x307447){this['_setValue']('autoWidth',_0x307447);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x43de05){this['_setValue']('autoHeight',_0x43de05);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x29c7ec){this['_setValue']('rtlReorder',_0x29c7ec);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x82e30b){this['_setValue']('unicodeCon'+'verter',_0x82e30b);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x585759){this['_setValue']('text',_0x585759);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x572a07){this['_setValue']('key',_0x572a07);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x429386){this['_setValue']('texture',_0x429386);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x2518da){this['_setValue']('textureAss'+'et',_0x2518da);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x577505){this['_setValue']('material',_0x577505);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x5813a4){this['_setValue']('materialAs'+'set',_0x5813a4);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x373442){this['_setValue']('sprite',_0x373442);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x24bffc){this['_setValue']('spriteAsse'+'t',_0x24bffc);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x3f70b0){this['_setValue']('spriteFram'+'e',_0x3f70b0);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x548283){this['_setValue']('pixelsPerU'+'nit',_0x548283);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0xb46947){this['_setValue']('opacity',_0xb46947);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x2bb066){this['_setValue']('rect',_0x2bb066);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x80aff7){this['_setValue']('mask',_0x80aff7);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x49b986){this['_setValue']('outlineCol'+'or',_0x49b986);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x5daf36){this['_setValue']('outlineThi'+'ckness',_0x5daf36);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x207745){this['_setValue']('shadowColo'+'r',_0x207745);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x49260f){this['_setValue']('shadowOffs'+'et',_0x49260f);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x10940d){this['_setValue']('enableMark'+'up',_0x10940d);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x597961){this['_setValue']('rangeStart',_0x597961);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x21d34b){this['_setValue']('rangeEnd',_0x21d34b);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x8fa03a,_0x57a3ce){this['_text']?(this['_text'][_0x8fa03a]!==_0x57a3ce&&this['_dirtyBatc'+'h'](),this['_text'][_0x8fa03a]=_0x57a3ce):this['_image']&&(this['_image'][_0x8fa03a]!==_0x57a3ce&&this['_dirtyBatc'+'h'](),this['_image'][_0x8fa03a]=_0x57a3ce);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0xfb64e6,_0x147da4,_0x8dbd9d){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0xfb64e6,_0x147da4,_0x8dbd9d);return;}_0xfb64e6 instanceof T?Zd['copy'](_0xfb64e6):Zd['set'](_0xfb64e6,_0x147da4,_0x8dbd9d),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Zd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x55c52f,_0x5c9b56,_0x4e028d){_0x55c52f instanceof T?this['localPosit'+'ion']['copy'](_0x55c52f):this['localPosit'+'ion']['set'](_0x55c52f,_0x5c9b56,_0x4e028d);const _0x1b33dd=this['element'],_0x3cd169=this['localPosit'+'ion'],_0x3b8b0f=_0x1b33dd['_pivot'];_0x1b33dd['_margin']['x']=_0x3cd169['x']-_0x1b33dd['_calculate'+'dWidth']*_0x3b8b0f['x'],_0x1b33dd['_margin']['z']=_0x1b33dd['_localAnch'+'or']['z']-_0x1b33dd['_localAnch'+'or']['x']-_0x1b33dd['_calculate'+'dWidth']-_0x1b33dd['_margin']['x'],_0x1b33dd['_margin']['y']=_0x3cd169['y']-_0x1b33dd['_calculate'+'dHeight']*_0x3b8b0f['y'],_0x1b33dd['_margin']['w']=_0x1b33dd['_localAnch'+'or']['w']-_0x1b33dd['_localAnch'+'or']['y']-_0x1b33dd['_calculate'+'dHeight']-_0x1b33dd['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x5304bd=this['element'],_0x11ab76=_0x5304bd['screen'];if(_0x11ab76){if(_0x5304bd['_anchorDir'+'ty']){let _0x372907=-0x156c+0x5*-0x191+-0x1*-0x1d41,_0xa9f66a=-0x1*-0x10b7+0xac0+-0x1b77,_0x42078c=-0x199d*0x1+-0x270d+-0xb2*-0x5d,_0x41ddff=0x704*-0x1+-0x1*0x1b69+-0x1*-0x226e;if(this['_parent']&&this['_parent']['element'])_0x372907=this['_parent']['element']['calculated'+'Width'],_0xa9f66a=this['_parent']['element']['calculated'+'Height'],_0x42078c=this['_parent']['element']['pivot']['x'],_0x41ddff=this['_parent']['element']['pivot']['y'];else{const _0x4c577a=_0x11ab76['screen']['resolution'];_0x372907=_0x4c577a['x']/_0x11ab76['screen']['scale'],_0xa9f66a=_0x4c577a['y']/_0x11ab76['screen']['scale'];}_0x5304bd['_anchorTra'+'nsform']['setTransla'+'te'](_0x372907*(_0x5304bd['anchor']['x']-_0x42078c),-(_0xa9f66a*(_0x41ddff-_0x5304bd['anchor']['y'])),0x1519*0x1+-0x225d+-0x11b*-0xc),_0x5304bd['_anchorDir'+'ty']=!(-0x1c5c+-0x118*-0xb+0x1055),_0x5304bd['_calculate'+'LocalAncho'+'rs']();}_0x5304bd['_sizeDirty']&&_0x5304bd['_calculate'+'Size'](!(-0x6*-0x1b6+-0x1*0x220d+0x15*0x122),!(-0x879+0xa57+0x9f*-0x3));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0xbce843=this['localPosit'+'ion'],_0x50d86f=_0x5304bd['_pivot'];_0x5304bd['_margin']['x']=_0xbce843['x']-_0x5304bd['_calculate'+'dWidth']*_0x50d86f['x'],_0x5304bd['_margin']['z']=_0x5304bd['_localAnch'+'or']['z']-_0x5304bd['_localAnch'+'or']['x']-_0x5304bd['_calculate'+'dWidth']-_0x5304bd['_margin']['x'],_0x5304bd['_margin']['y']=_0xbce843['y']-_0x5304bd['_calculate'+'dHeight']*_0x50d86f['y'],_0x5304bd['_margin']['w']=_0x5304bd['_localAnch'+'or']['w']-_0x5304bd['_localAnch'+'or']['y']-_0x5304bd['_calculate'+'dHeight']-_0x5304bd['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x845+0x3*-0x74b+-0x53*-0x5d);}if(!_0x11ab76){this['_dirtyWorl'+'d']&&(_0x5304bd['_cornersDi'+'rty']=!(-0x2271+-0xdb6+0x3027),_0x5304bd['_canvasCor'+'nersDirty']=!(0x1*-0x2205+-0x779*-0x1+-0x4*-0x6a3),_0x5304bd['_worldCorn'+'ersDirty']=!(-0x87*0x31+0xba7+0xe30)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x5304bd['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x5304bd['_anchorTra'+'nsform']):_0x5304bd['_screenToW'+'orld']['copy'](_0x5304bd['_anchorTra'+'nsform']),_0x5304bd['_modelTran'+'sform']['mul2'](_0x5304bd['_screenToW'+'orld'],this['localTrans'+'form']),_0x11ab76){_0x5304bd['_screenToW'+'orld']['mul2'](_0x11ab76['screen']['_screenMat'+'rix'],_0x5304bd['_screenToW'+'orld']),_0x11ab76['screen']['screenSpac'+'e']||_0x5304bd['_screenToW'+'orld']['mul2'](_0x11ab76['worldTrans'+'form'],_0x5304bd['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x5304bd['_screenToW'+'orld'],this['localTrans'+'form']);const _0x29245d=_0x5304bd['_parentWor'+'ldTransfor'+'m'];_0x29245d['setIdentit'+'y']();const _0x4e48fe=this['_parent'];_0x4e48fe&&_0x4e48fe['element']&&_0x4e48fe!==_0x11ab76&&(ss['setTRS'](T['ZERO'],_0x4e48fe['getLocalRo'+'tation'](),_0x4e48fe['getLocalSc'+'ale']()),_0x29245d['mul2'](_0x4e48fe['element']['_parentWor'+'ldTransfor'+'m'],ss));const _0x3a03b5=oi;_0x3a03b5['set'](-0x53*0x1+0x182c+0xa5*-0x25,-0x15dc+0x13eb*0x1+0x7*0x47,this['localPosit'+'ion']['z']);const _0xe6cb38=OR;_0xe6cb38['set'](_0x5304bd['_absLeft']+_0x5304bd['_pivot']['x']*_0x5304bd['calculated'+'Width'],_0x5304bd['_absBottom']+_0x5304bd['_pivot']['y']*_0x5304bd['calculated'+'Height'],-0x16*-0x2a+-0xe*-0x87+-0xafe),ss['setTransla'+'te'](-_0xe6cb38['x'],-_0xe6cb38['y'],-_0xe6cb38['z']),Kl['setTRS'](_0x3a03b5,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Zl['setTransla'+'te'](_0xe6cb38['x'],_0xe6cb38['y'],_0xe6cb38['z']),_0x5304bd['_screenTra'+'nsform']['mul2'](_0x5304bd['_parentWor'+'ldTransfor'+'m'],Zl)['mul'](Kl)['mul'](ss),_0x5304bd['_cornersDi'+'rty']=!(-0x886*0x2+-0x51b+-0x35*-0x6b),_0x5304bd['_canvasCor'+'nersDirty']=!(0x154b+-0x1073+-0x4d8),_0x5304bd['_worldCorn'+'ersDirty']=!(0x26fa+-0x17e*0x7+0x16*-0x14c);}else this['worldTrans'+'form']['copy'](_0x5304bd['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x455+-0x4*0x4c2+0xeb4);}}['_onInsert'](_0x2c698b){const _0x36e49b=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x36e49b['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x2857a1=this['entity'];for(;_0x2857a1;){const _0x246c63=_0x2857a1['parent'];if((_0x246c63===null||_0x246c63['screen'])&&_0x2857a1['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](bs,'register\x20p'+'rerender'));const _0x1edd7e=this['system']['_prerender']['indexOf'](this['entity']);_0x1edd7e>=-0x1*0x24f5+0x3*0xa33+0x65c&&this['system']['_prerender']['splice'](_0x1edd7e,0x1bd1*0x1+0x7f*-0x13+-0x1263),this['system']['_prerender']['indexOf'](_0x2857a1)<-0x36*0x9e+0x75f+0x1*0x19f5&&this['system']['_prerender']['push'](_0x2857a1),v['trace'](bs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x2857a1['name']);}_0x2857a1=_0x246c63;}}['_onPrerend'+'er'](){for(let _0x255452=-0xb*-0x22c+0x2*0xad0+-0x2d84;_0x255452<this['system']['_prerender']['length'];_0x255452++){const _0x27dbc8=this['system']['_prerender'][_0x255452];v['trace'](bs,'prerender\x20'+'from:\x20'+_0x27dbc8['name']),_0x27dbc8['element']&&_0x27dbc8['element']['syncMask'](-0x46*-0x66+-0x7a2*-0x3+0x1*-0x32c9);}this['system']['_prerender']['length']=0x2224+-0x11f4+0x103*-0x10;}['_bindScree'+'n'](_0x2c8ada){_0x2c8ada['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x3d1c96){_0x3d1c96['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x4a33d1){this['screen']&&this['screen']!==_0x4a33d1&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x228a7c=this['screen'];this['screen']=_0x4a33d1,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x228a7c),this['_anchorDir'+'ty']=!(0x1473+0x2f*0x83+-0x2c80);const _0x4b10a8=this['entity']['children'];for(let _0x1ed65=0x1a*-0x39+-0x1992+0x1f5c,_0x2c561a=_0x4b10a8['length'];_0x1ed65<_0x2c561a;_0x1ed65++)_0x4b10a8[_0x1ed65]['element']&&_0x4b10a8[_0x1ed65]['element']['_updateScr'+'een'](_0x4a33d1);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x1dd710){const _0x1c8989=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x1c8989['mask'],_0x1dd710);}['_setMasked'+'By'](_0x426709){const _0x3c2061=this['_image']||this['_text'];if(_0x426709){const _0x573944=_0x426709['element']['_image']['_maskRef'];v['trace'](bs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x573944),_0x3c2061==null||_0x3c2061['_setStenci'+'l'](new qs({'ref':_0x573944,'func':Mh})),this['_maskedBy']=_0x426709;}else v['trace'](bs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x3c2061==null||_0x3c2061['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x4e5aea,_0x498357){var _0x48f76e,_0x11631c;if(_0x4e5aea){if(this['_setMasked'+'By'](_0x4e5aea),this['mask']){const _0x3e1dda=_0x4e5aea['element']['_image']['_maskRef'],_0x369609=new qs({'ref':_0x3e1dda,'func':Mh,'zpass':HS});this['_image']['_setStenci'+'l'](_0x369609),this['_image']['_maskRef']=_0x498357,_0x498357++,v['trace'](bs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x369609['ref']+(0x961*0x1+0x5*0x1f+-0x9fb))),v['trace'](bs,'depth++\x20to'+':\x20',_0x498357),_0x4e5aea=this['entity'];}const _0x4cf61b=this['entity']['children'];for(let _0x2757e9=0x5f*-0x57+0x16b4+0x1*0x995,_0x3a4219=_0x4cf61b['length'];_0x2757e9<_0x3a4219;_0x2757e9++)(_0x48f76e=_0x4cf61b[_0x2757e9]['element'])==null||_0x48f76e['_updateMas'+'k'](_0x4e5aea,_0x498357);this['mask']&&_0x498357--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x2b4a21=new qs({'ref':_0x498357,'func':Ei,'zpass':GS});this['_image']['_setStenci'+'l'](_0x2b4a21),this['_image']['_maskRef']=_0x498357,_0x498357++,v['trace'](bs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x2b4a21['ref']),v['trace'](bs,'depth++\x20to'+':\x20',_0x498357),_0x4e5aea=this['entity'];}const _0x4b1b73=this['entity']['children'];for(let _0x346141=-0x4fb+-0x755*0x2+-0x13a5*-0x1,_0x537d02=_0x4b1b73['length'];_0x346141<_0x537d02;_0x346141++)(_0x11631c=_0x4b1b73[_0x346141]['element'])==null||_0x11631c['_updateMas'+'k'](_0x4e5aea,_0x498357);this['mask']&&_0x498357--;}}['_parseUpTo'+'Screen'](){const _0x205afb={'screen':null,'mask':null};let _0x2fb2f4=this['entity']['_parent'];for(;_0x2fb2f4&&!_0x2fb2f4['screen'];)_0x2fb2f4['element']&&_0x2fb2f4['element']['mask']&&(_0x205afb['mask']||(_0x205afb['mask']=_0x2fb2f4)),_0x2fb2f4=_0x2fb2f4['parent'];return _0x2fb2f4&&_0x2fb2f4['screen']&&(_0x205afb['screen']=_0x2fb2f4),_0x205afb;}['_onScreenR'+'esize'](_0x382a19){this['_anchorDir'+'ty']=!(0x1*-0x27a+-0x4e8+0x1*0x762),this['_cornersDi'+'rty']=!(-0x18a3+0x542+0x1361),this['_worldCorn'+'ersDirty']=!(-0x13f6+-0x177c+0x2b72),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x382a19);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x2d7537=-0x63e+-0x5f2+0x28*0x67,_0x1724c8=-0x8*-0x425+-0x1fcd+-0x1*-0x28d;const _0xf3a548=this['entity']['_parent'];if(_0xf3a548&&_0xf3a548['element'])_0x2d7537=_0xf3a548['element']['calculated'+'Width'],_0x1724c8=_0xf3a548['element']['calculated'+'Height'];else{if(this['screen']){const _0x1d89dc=this['screen']['screen']['resolution'],_0x3a9733=this['screen']['screen']['scale'];_0x2d7537=_0x1d89dc['x']/_0x3a9733,_0x1724c8=_0x1d89dc['y']/_0x3a9733;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x2d7537,this['_anchor']['y']*_0x1724c8,this['_anchor']['z']*_0x2d7537,this['_anchor']['w']*_0x1724c8);}['getOffsetP'+'osition'](_0x29c510,_0x1b7b89){const _0x230c0c=this['entity']['getLocalPo'+'sition']()['clone']();return _0x230c0c['x']+=_0x29c510,_0x230c0c['y']+=_0x1b7b89,this['_screenToW'+'orld']['transformP'+'oint'](_0x230c0c,_0x230c0c),_0x230c0c;}['onLayersCh'+'anged'](_0x3ed3a3,_0x52e3c2){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x3ed3a3['off']('add',this['onLayerAdd'+'ed'],this),_0x3ed3a3['off']('remove',this['onLayerRem'+'oved'],this),_0x52e3c2['on']('add',this['onLayerAdd'+'ed'],this),_0x52e3c2['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2fc5ed){this['layers']['indexOf'](_0x2fc5ed['id'])<0x34c+-0x215e*0x1+-0x1e12*-0x1||(this['_image']?_0x2fc5ed['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2fc5ed['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x2f086d){this['layers']['indexOf'](_0x2f086d['id'])<-0x1c89+-0xe3c+0x2ac5||(this['_image']?_0x2f086d['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2f086d['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x400059;const _0x250d50=this['system']['app']['scene'],_0x4dccd9=_0x250d50['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x250d50['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4dccd9&&(this['_evtLayerA'+'dded']=_0x4dccd9['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4dccd9['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x12ad+0x1099+0x214&&((_0x400059=this['system']['app']['batcher'])==null||_0x400059['insert'](Je['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x4ee8d8,_0x909228,_0x242785,_0x1f2102;const _0x39a595=this['system']['app']['scene']['layers'];(_0x4ee8d8=this['_evtLayers'+'Changed'])==null||_0x4ee8d8['off'](),this['_evtLayers'+'Changed']=null,_0x39a595&&((_0x909228=this['_evtLayerA'+'dded'])==null||_0x909228['off'](),this['_evtLayerA'+'dded']=null,(_0x242785=this['_evtLayerR'+'emoved'])==null||_0x242785['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x1676+-0x164f+-0x27&&((_0x1f2102=this['system']['app']['batcher'])==null||_0x1f2102['remove'](Je['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x35513d,_0x2d7104){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x4860b4=this['_absRight']-this['_absLeft'],_0x571291=this['_absTop']-this['_absBottom'];_0x35513d?this['_setWidth'](_0x4860b4):this['_setCalcul'+'atedWidth'](_0x4860b4,!(0x87f+-0x146f+0xbf1)),_0x2d7104?this['_setHeight'](_0x571291):this['_setCalcul'+'atedHeight'](_0x571291,!(-0x2e2*0x3+-0x14da+-0x53*-0x5b));const _0x334d82=this['entity']['getLocalPo'+'sition']();_0x334d82['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x334d82['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x334d82),this['_sizeDirty']=!(-0x2511*-0x1+-0x3*0x941+0x94d*-0x1);}['_setWidth'](_0x3405ef){this['_width']=_0x3405ef,this['_setCalcul'+'atedWidth'](_0x3405ef,!(-0x22b5+-0x142*0x6+0xe16*0x3)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x284ee2){this['_height']=_0x284ee2,this['_setCalcul'+'atedHeight'](_0x284ee2,!(0x37b+-0x509+0x18f)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x4f8cb9,_0x170ea4){if(!(Math['abs'](_0x4f8cb9-this['_calculate'+'dWidth'])<=0x2225+-0x121c+-0x1009+0.0001)){if(this['_calculate'+'dWidth']=_0x4f8cb9,this['entity']['_dirtifyLo'+'cal'](),_0x170ea4){const _0x5aa629=this['entity']['getLocalPo'+'sition'](),_0xde94db=this['_pivot'];this['_margin']['x']=_0x5aa629['x']-this['_calculate'+'dWidth']*_0xde94db['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x2c3c9a,_0x48272f){if(!(Math['abs'](_0x2c3c9a-this['_calculate'+'dHeight'])<=0x9af*-0x1+0x37*-0x18+0x83*0x1d+0.0001)){if(this['_calculate'+'dHeight']=_0x2c3c9a,this['entity']['_dirtifyLo'+'cal'](),_0x48272f){const _0x252e32=this['entity']['getLocalPo'+'sition'](),_0x1be0d4=this['_pivot'];this['_margin']['y']=_0x252e32['y']-this['_calculate'+'dHeight']*_0x1be0d4['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x138be5=this['entity']['_children'];for(let _0x2db172=0x1278+0x1*-0x1d32+0xaba,_0x5b26db=_0x138be5['length'];_0x2db172<_0x5b26db;_0x2db172++)_0x138be5[_0x2db172]['element']&&(_0x138be5[_0x2db172]['element']['_anchorDir'+'ty']=!(-0x2b8+0xf5b+-0xca3),_0x138be5[_0x2db172]['element']['_sizeDirty']=!(0x14a1+0x31a*0x5+-0x2423));}['addModelTo'+'Layers'](_0x8ac700){this['_addedMode'+'ls']['push'](_0x8ac700);for(let _0x5bf140=0x2ce+0x1b36+-0x71*0x44;_0x5bf140<this['layers']['length'];_0x5bf140++){const _0x2fd04e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5bf140]);_0x2fd04e&&_0x2fd04e['addMeshIns'+'tances'](_0x8ac700['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x15f1d1){const _0x56f39c=this['_addedMode'+'ls']['indexOf'](_0x15f1d1);_0x56f39c>=-0x52*0x1c+0x23ec+-0x1af4&&this['_addedMode'+'ls']['splice'](_0x56f39c,0x25*0x9d+0x1*0x3f5+-0x167*0x13);for(let _0x3bf1ef=0x1d90+-0x7*0x437+0xf*-0x1;_0x3bf1ef<this['layers']['length'];_0x3bf1ef++){const _0x56b313=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3bf1ef]);_0x56b313&&_0x56b313['removeMesh'+'Instances'](_0x15f1d1['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x269b3c=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x269b3c&&(this['_maskOffse'+'t']=0x2332+0x845*0x4+-0x4446+0.5,this['_offsetRea'+'dAt']=_0x269b3c);const _0x58b117=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x65*0x26+0x5*0x404+-0x516+0.001,_0x58b117;}['isVisibleF'+'orCamera'](_0x5c3263){let _0x5d9e11,_0x3ff979,_0x13fce5,_0x2fd6d4;if(this['maskedBy']){const _0x545df5=this['maskedBy']['element']['screenCorn'+'ers'];_0x5d9e11=Math['min'](Math['min'](_0x545df5[0x2595+0x1*-0x24a9+-0xec]['x'],_0x545df5[-0x1*0x1405+-0x1*0x1e8f+0x233*0x17]['x']),Math['min'](_0x545df5[-0x2*0x7fd+0x16e3*-0x1+-0x1*-0x26df]['x'],_0x545df5[0x279*0xb+-0x1349+-0x7e7]['x'])),_0x3ff979=Math['max'](Math['max'](_0x545df5[0x9a3+0x19ea+-0x238d]['x'],_0x545df5[-0x24ff+-0x1*-0x255+0x7d*0x47]['x']),Math['max'](_0x545df5[-0x29*0x17+0x1a51*-0x1+0x2*0xf01]['x'],_0x545df5[-0x1*0x1505+-0x24f4+0x39fc]['x'])),_0x2fd6d4=Math['min'](Math['min'](_0x545df5[-0x134f+-0x5*-0x1d6+0xa21]['y'],_0x545df5[0x230*0x4+0x966*0x1+-0x1*0x1225]['y']),Math['min'](_0x545df5[0x2*0xaab+0x1a66+0x1*-0x2fba]['y'],_0x545df5[-0x1*0x8ad+0x40*-0x69+-0x8*-0x45e]['y'])),_0x13fce5=Math['max'](Math['max'](_0x545df5[0x24a1+0x1b*0x105+-0x4028]['y'],_0x545df5[-0x61*0x5+0xa29*0x2+-0x126c]['y']),Math['max'](_0x545df5[0xf8+0x1c63+-0x1d59]['y'],_0x545df5[-0x69*0x2c+0x567*0x5+-0x8f4]['y']));}else{const _0x4ac54c=this['system']['app']['graphicsDe'+'vice']['width'],_0x3ec830=this['system']['app']['graphicsDe'+'vice']['height'],_0x425526=_0x5c3263['_rect']['z']*_0x4ac54c,_0x773f2a=_0x5c3263['_rect']['w']*_0x3ec830;_0x5d9e11=_0x5c3263['_rect']['x']*_0x4ac54c,_0x3ff979=_0x5d9e11+_0x425526,_0x13fce5=(-0x3ee+0x1c31*0x1+-0x1842-_0x5c3263['_rect']['y'])*_0x3ec830,_0x2fd6d4=_0x13fce5-_0x773f2a;}const _0x4c692c=this['screenCorn'+'ers'],_0x17e807=Math['min'](Math['min'](_0x4c692c[-0x19f9*0x1+-0x4da+-0x1*-0x1ed3]['x'],_0x4c692c[-0xfaf+0x1*-0x2084+0x2*0x181a]['x']),Math['min'](_0x4c692c[-0x2551+-0x1b3d+-0x2048*-0x2]['x'],_0x4c692c[-0x1e9d+0x7*0x1b7+0x129f]['x'])),_0x1f2b59=Math['max'](Math['max'](_0x4c692c[0x10f*0xd+0x10ec+0x1*-0x1eaf]['x'],_0x4c692c[-0x1168+-0x10f1*-0x2+-0x1079]['x']),Math['max'](_0x4c692c[0x11a3+-0x6b1*-0x2+-0x1f03]['x'],_0x4c692c[0x1d*-0x3b+-0x2b*-0xd1+-0x1c69]['x'])),_0x339fce=Math['min'](Math['min'](_0x4c692c[0x10cd+-0x2233+-0x1166*-0x1]['y'],_0x4c692c[0x977+-0x1a9*0x17+0x1cb9]['y']),Math['min'](_0x4c692c[-0x1355*-0x1+-0x11*-0x113+-0x11b*0x22]['y'],_0x4c692c[0x1058+-0x1b4f+0xafa]['y'])),_0x5753b3=Math['max'](Math['max'](_0x4c692c[-0xe9*-0x4+0x4*-0x2f7+-0x20e*-0x4]['y'],_0x4c692c[0x553+-0x2341+-0x61*-0x4f]['y']),Math['max'](_0x4c692c[-0x1*0xb66+0x222f+0x7*-0x341]['y'],_0x4c692c[-0x1e8b+-0x25*-0x9+0x1d41]['y']));return!(_0x1f2b59<_0x5d9e11||_0x17e807>_0x3ff979||_0x339fce>_0x13fce5||_0x5753b3<_0x2fd6d4);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x15e4+-0x26db+0x10f8);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x229b*-0x1+-0xa57+0x2cf3);}['_dirtyBatc'+'h'](){var _0x15f151;this['batchGroup'+'Id']!==-(0x103c+-0x18ce*0x1+-0x893*-0x1)&&((_0x15f151=this['system']['app']['batcher'])==null||_0x15f151['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Wt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Wt,'EVENT_MOUS'+'EUP','mouseup'),c(Wt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Wt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Wt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Wt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Wt,'EVENT_CLIC'+'K','click'),c(Wt,'EVENT_TOUC'+'HSTART','touchstart'),c(Wt,'EVENT_TOUC'+'HEND','touchend'),c(Wt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Wt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0x1b30+0x585*-0x5+-0xf*-0x7);}}const NR=['enabled'];class zR extends Xe{constructor(_0x59fc9e){super(_0x59fc9e),this['id']='element',this['ComponentT'+'ype']=Wt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x59fc9e['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':as,'name':'element-sy'+'stem'});const _0x8ab803=this['_defaultTe'+'xture']['lock'](),_0x3c9faf=new Uint8Array(-0x16c*-0x8+0x20b3+-0x2c0f);_0x3c9faf[-0x1*-0x1edb+-0x1a7+0x54*-0x59]=-0x22e5+0x1*-0x2291+-0x1*-0x4675,_0x3c9faf[-0x9*0x17+0x869*0x1+-0x799]=0x1725+-0xe77+-0x7af,_0x3c9faf[0x1601+-0x74f+-0xeb0]=0x62*0x45+0x2*-0x105c+0x74d,_0x3c9faf[-0xf3c+0x3cc+0x1*0xb73]=-0x7f*0x3+-0xd*0x23+0x443,_0x8ab803['set'](_0x3c9faf),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x151548,_0x16d6b9,_0x38e6ba){_0x151548['_beingInit'+'ialized']=!(0x5c6*-0x1+-0xe5*0xe+0x124c),_0x16d6b9['anchor']!==void(0x1dd6+-0x1cad+0x1*-0x129)&&(_0x16d6b9['anchor']instanceof Q?_0x151548['anchor']['copy'](_0x16d6b9['anchor']):_0x151548['anchor']['set'](_0x16d6b9['anchor'][-0x39d*0x2+-0x2d1+0xa0b],_0x16d6b9['anchor'][-0x10fd+-0xa77+0xb*0x27f],_0x16d6b9['anchor'][0x1972+-0xf8b+-0x9e5*0x1],_0x16d6b9['anchor'][0x17e5+-0x15d2+-0x210])),_0x16d6b9['pivot']!==void(0x4*-0x773+-0x78b*-0x2+-0x7*-0x21a)&&(_0x16d6b9['pivot']instanceof W?_0x151548['pivot']['copy'](_0x16d6b9['pivot']):_0x151548['pivot']['set'](_0x16d6b9['pivot'][-0x11*0x59+0x1*0x1aa7+0xb1*-0x1e],_0x16d6b9['pivot'][0x1*-0x202+-0x1648+0x184b]));const _0x1a0f35=Math['abs'](_0x151548['anchor']['x']-_0x151548['anchor']['z'])>-0x1*-0x1e9b+0x1918+-0x37b3+0.001,_0x22fb10=Math['abs'](_0x151548['anchor']['y']-_0x151548['anchor']['w'])>-0x663+0x2*-0xf05+0x246d+0.001;let _0x4137d3=!(-0x62c+-0xc02+0x122f),_0x3c8120;_0x16d6b9['margin']!==void(-0xe9*0x9+-0x700+0xf31*0x1)&&(_0x16d6b9['margin']instanceof Q?_0x151548['margin']['copy'](_0x16d6b9['margin']):_0x151548['_margin']['set'](_0x16d6b9['margin'][0x1*-0x470+-0x2353+0x1b*0x179],_0x16d6b9['margin'][0x80b*0x3+0x1e76+-0x2*0x1b4b],_0x16d6b9['margin'][-0x353+0x1fd*-0xc+0x1b31],_0x16d6b9['margin'][0x4c7*0x3+0x2*-0x8b0+-0x17*-0x22]),_0x4137d3=!(-0x1be9+-0x1a3a+0x3623)),_0x16d6b9['left']!==void(0x22d3+-0x7*-0x16c+-0x2cc7)&&(_0x151548['_margin']['x']=_0x16d6b9['left'],_0x4137d3=!(-0x1*0x129a+0x11d3+-0xc7*-0x1)),_0x16d6b9['bottom']!==void(-0xf9b+0x15c0+-0x79*0xd)&&(_0x151548['_margin']['y']=_0x16d6b9['bottom'],_0x4137d3=!(0x1*0x22be+-0xb43+-0x177b*0x1)),_0x16d6b9['right']!==void(0xb5+-0x1e3c+0x1d87)&&(_0x151548['_margin']['z']=_0x16d6b9['right'],_0x4137d3=!(-0xe71*0x2+-0x9*0xc7+-0x23e1*-0x1)),_0x16d6b9['top']!==void(0x27a*0x9+-0x1dba+-0x11*-0x70)&&(_0x151548['_margin']['w']=_0x16d6b9['top'],_0x4137d3=!(0x40*-0x3e+-0x25f3+-0x3*-0x11d1)),_0x4137d3&&(_0x151548['margin']=_0x151548['_margin']);let _0x58a9c5=!(-0x2096*-0x1+0x2*-0xae1+-0xad3);_0x16d6b9['width']!==void(0x73*-0x3b+-0xd13*-0x1+0xd6e)&&!_0x1a0f35?_0x151548['width']=_0x16d6b9['width']:_0x1a0f35&&(_0x58a9c5=!(-0x1*0x1f07+0x20f8+-0x1f1*0x1)),_0x16d6b9['height']!==void(0x8d1+0x1*0x989+0x61e*-0x3)&&!_0x22fb10?_0x151548['height']=_0x16d6b9['height']:_0x22fb10&&(_0x58a9c5=!(0x1*-0x1505+0x21af+-0xcaa)),_0x58a9c5&&(_0x151548['anchor']=_0x151548['anchor']),_0x16d6b9['enabled']!==void(0x13+-0xb9*-0x1+-0x66*0x2)&&(_0x151548['enabled']=_0x16d6b9['enabled']),_0x16d6b9['useInput']!==void(0x10ff*0x2+-0x19a6+-0x858)&&(_0x151548['useInput']=_0x16d6b9['useInput']),_0x16d6b9['fitMode']!==void(-0x79d+-0x1*0x22d1+0x2a6e)&&(_0x151548['fitMode']=_0x16d6b9['fitMode']),_0x151548['batchGroup'+'Id']=_0x16d6b9['batchGroup'+'Id']===void(0x268+-0x134d+0x10e5)||_0x16d6b9['batchGroup'+'Id']===null?-(0x112c+0x1b5f+-0x2c8a):_0x16d6b9['batchGroup'+'Id'],_0x16d6b9['layers']&&Array['isArray'](_0x16d6b9['layers'])&&(_0x151548['layers']=_0x16d6b9['layers']['slice'](0x1e1b+-0x1ed5+-0xba*-0x1)),_0x16d6b9['type']!==void(0x16*-0xe+0x14e5*0x1+-0x47*0x47)&&(_0x151548['type']=_0x16d6b9['type']),_0x151548['type']===nf?(_0x16d6b9['rect']!==void(-0x17a1+-0x5*0x5c9+0x1*0x348e)&&(_0x151548['rect']=_0x16d6b9['rect']),_0x16d6b9['color']!==void(0x1ab*0x5+-0x413*0x5+-0x181*-0x8)&&(_0x3c8120=_0x16d6b9['color'],_0x3c8120 instanceof Y||(_0x3c8120=new Y(_0x16d6b9['color'][0x260a+-0x436+-0x21d4],_0x16d6b9['color'][-0xcb6+0x1bd+0xafa],_0x16d6b9['color'][-0x17*-0xd9+0x1156+0x1*-0x24d3])),_0x151548['color']=_0x3c8120),_0x16d6b9['opacity']!==void(0x977+-0x26e4+0x1d6d)&&(_0x151548['opacity']=_0x16d6b9['opacity']),_0x16d6b9['textureAss'+'et']!==void(-0x4*-0x15b+-0x15f3+0x1087)&&(_0x151548['textureAss'+'et']=_0x16d6b9['textureAss'+'et']),_0x16d6b9['texture']&&(_0x151548['texture']=_0x16d6b9['texture']),_0x16d6b9['spriteAsse'+'t']!==void(-0x89+-0x1dd0+0x1e59)&&(_0x151548['spriteAsse'+'t']=_0x16d6b9['spriteAsse'+'t']),_0x16d6b9['sprite']&&(_0x151548['sprite']=_0x16d6b9['sprite']),_0x16d6b9['spriteFram'+'e']!==void(0x1f72+-0x1*-0x17fc+-0x376e)&&(_0x151548['spriteFram'+'e']=_0x16d6b9['spriteFram'+'e']),_0x16d6b9['pixelsPerU'+'nit']!==void(0x310+-0x1*-0x11b1+0x6eb*-0x3)&&_0x16d6b9['pixelsPerU'+'nit']!==null&&(_0x151548['pixelsPerU'+'nit']=_0x16d6b9['pixelsPerU'+'nit']),_0x16d6b9['materialAs'+'set']!==void(0x1*-0xd6e+-0xdba+-0x1*-0x1b28)&&(_0x151548['materialAs'+'set']=_0x16d6b9['materialAs'+'set']),_0x16d6b9['material']&&(_0x151548['material']=_0x16d6b9['material']),_0x16d6b9['mask']!==void(0x24e0+0x202d+0x647*-0xb)&&(_0x151548['mask']=_0x16d6b9['mask'])):_0x151548['type']===ex&&(_0x16d6b9['autoWidth']!==void(0x7*-0x551+0x2aa*0x1+0x6e9*0x5)&&(_0x151548['autoWidth']=_0x16d6b9['autoWidth']),_0x16d6b9['autoHeight']!==void(0x49b+-0x1c22+0x1787)&&(_0x151548['autoHeight']=_0x16d6b9['autoHeight']),_0x16d6b9['rtlReorder']!==void(-0x2*-0x20c+-0x2*-0x8e4+-0x15e0)&&(_0x151548['rtlReorder']=_0x16d6b9['rtlReorder']),_0x16d6b9['unicodeCon'+'verter']!==void(-0x1441+-0x2476+0x38b7)&&(_0x151548['unicodeCon'+'verter']=_0x16d6b9['unicodeCon'+'verter']),_0x16d6b9['text']!==null&&_0x16d6b9['text']!==void(0x33*-0x35+-0x7*0x526+0x2e99)?_0x151548['text']=_0x16d6b9['text']:_0x16d6b9['key']!==null&&_0x16d6b9['key']!==void(-0x4c*-0x44+-0xd7*-0x1d+0xed9*-0x3)&&(_0x151548['key']=_0x16d6b9['key']),_0x16d6b9['color']!==void(-0x53a*0x6+0x4*-0xd9+0x22c0*0x1)&&(_0x3c8120=_0x16d6b9['color'],_0x3c8120 instanceof Y||(_0x3c8120=new Y(_0x3c8120[0x10*0xf9+-0x2117+0x1187],_0x3c8120[-0x683+-0x1*-0x94f+-0x2cb],_0x3c8120[0x18d9+0x1c43+-0x1*0x351a])),_0x151548['color']=_0x3c8120),_0x16d6b9['opacity']!==void(0x14f2+0x2*0xb99+-0x1*0x2c24)&&(_0x151548['opacity']=_0x16d6b9['opacity']),_0x16d6b9['spacing']!==void(0x1*-0x2126+0x3a3+0x5e7*0x5)&&(_0x151548['spacing']=_0x16d6b9['spacing']),_0x16d6b9['fontSize']!==void(-0x1b1a*-0x1+0x158e+-0x30a8)&&(_0x151548['fontSize']=_0x16d6b9['fontSize'],_0x16d6b9['lineHeight']||(_0x151548['lineHeight']=_0x16d6b9['fontSize'])),_0x16d6b9['lineHeight']!==void(-0x1678+0x43*0x91+-0xf7b)&&(_0x151548['lineHeight']=_0x16d6b9['lineHeight']),_0x16d6b9['maxLines']!==void(0x161f+-0x2*0x1317+0x100f)&&(_0x151548['maxLines']=_0x16d6b9['maxLines']),_0x16d6b9['wrapLines']!==void(0x1*0x67f+0x263b*-0x1+-0x1*-0x1fbc)&&(_0x151548['wrapLines']=_0x16d6b9['wrapLines']),_0x16d6b9['minFontSiz'+'e']!==void(0x664*0x3+0x1*0xd03+-0x7*0x499)&&(_0x151548['minFontSiz'+'e']=_0x16d6b9['minFontSiz'+'e']),_0x16d6b9['maxFontSiz'+'e']!==void(0x269*0x1+0x1c15+-0x3*0xa2a)&&(_0x151548['maxFontSiz'+'e']=_0x16d6b9['maxFontSiz'+'e']),_0x16d6b9['autoFitWid'+'th']&&(_0x151548['autoFitWid'+'th']=_0x16d6b9['autoFitWid'+'th']),_0x16d6b9['autoFitHei'+'ght']&&(_0x151548['autoFitHei'+'ght']=_0x16d6b9['autoFitHei'+'ght']),_0x16d6b9['fontAsset']!==void(0x110b*0x1+0x18ae+-0x29b9)&&(_0x151548['fontAsset']=_0x16d6b9['fontAsset']),_0x16d6b9['font']!==void(-0x1cb6+0x620*0x1+-0x31*-0x76)&&(_0x151548['font']=_0x16d6b9['font']),_0x16d6b9['alignment']!==void(-0x1fa6+0x73*-0x18+0x1*0x2a6e)&&(_0x151548['alignment']=_0x16d6b9['alignment']),_0x16d6b9['outlineCol'+'or']!==void(-0x1763*-0x1+0x1841*0x1+-0x17d2*0x2)&&(_0x151548['outlineCol'+'or']=_0x16d6b9['outlineCol'+'or']),_0x16d6b9['outlineThi'+'ckness']!==void(0xed+0x1a*-0x17f+0x25f9*0x1)&&(_0x151548['outlineThi'+'ckness']=_0x16d6b9['outlineThi'+'ckness']),_0x16d6b9['shadowColo'+'r']!==void(0x65f+-0x21*0x62+0xe5*0x7)&&(_0x151548['shadowColo'+'r']=_0x16d6b9['shadowColo'+'r']),_0x16d6b9['shadowOffs'+'et']!==void(0x1c36+0x1ee0+0x3*-0x13b2)&&(_0x151548['shadowOffs'+'et']=_0x16d6b9['shadowOffs'+'et']),_0x16d6b9['enableMark'+'up']!==void(-0xd*-0xeb+-0x2f*0x3+-0xb62)&&(_0x151548['enableMark'+'up']=_0x16d6b9['enableMark'+'up']));const _0x5ef7fd=_0x151548['_parseUpTo'+'Screen']();_0x5ef7fd['screen']&&_0x151548['_updateScr'+'een'](_0x5ef7fd['screen']),super['initialize'+'ComponentD'+'ata'](_0x151548,_0x16d6b9,_0x38e6ba),_0x151548['_beingInit'+'ialized']=!(0x4*-0x8b0+-0x74*-0x29+0x102d),_0x151548['type']===nf&&_0x151548['_image']['_meshDirty']&&_0x151548['_image']['_updateMes'+'h'](_0x151548['_image']['mesh']);}['onAddCompo'+'nent'](_0x4d7df2,_0x3fa434){_0x4d7df2['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x5799b3,_0x52a232){_0x52a232['onRemove']();}['cloneCompo'+'nent'](_0x38a8b6,_0x276c24){const _0xca8e19=_0x38a8b6['element'],_0x453144={'enabled':_0xca8e19['enabled'],'width':_0xca8e19['width'],'height':_0xca8e19['height'],'anchor':_0xca8e19['anchor']['clone'](),'pivot':_0xca8e19['pivot']['clone'](),'margin':_0xca8e19['margin']['clone'](),'alignment':_0xca8e19['alignment']&&_0xca8e19['alignment']['clone']()||_0xca8e19['alignment'],'autoWidth':_0xca8e19['autoWidth'],'autoHeight':_0xca8e19['autoHeight'],'type':_0xca8e19['type'],'rect':_0xca8e19['rect']&&_0xca8e19['rect']['clone']()||_0xca8e19['rect'],'rtlReorder':_0xca8e19['rtlReorder'],'unicodeConverter':_0xca8e19['unicodeCon'+'verter'],'materialAsset':_0xca8e19['materialAs'+'set'],'material':_0xca8e19['material'],'color':_0xca8e19['color']&&_0xca8e19['color']['clone']()||_0xca8e19['color'],'opacity':_0xca8e19['opacity'],'textureAsset':_0xca8e19['textureAss'+'et'],'texture':_0xca8e19['texture'],'spriteAsset':_0xca8e19['spriteAsse'+'t'],'sprite':_0xca8e19['sprite'],'spriteFrame':_0xca8e19['spriteFram'+'e'],'pixelsPerUnit':_0xca8e19['pixelsPerU'+'nit'],'spacing':_0xca8e19['spacing'],'lineHeight':_0xca8e19['lineHeight'],'wrapLines':_0xca8e19['wrapLines'],'layers':_0xca8e19['layers'],'fontSize':_0xca8e19['fontSize'],'minFontSize':_0xca8e19['minFontSiz'+'e'],'maxFontSize':_0xca8e19['maxFontSiz'+'e'],'autoFitWidth':_0xca8e19['autoFitWid'+'th'],'autoFitHeight':_0xca8e19['autoFitHei'+'ght'],'maxLines':_0xca8e19['maxLines'],'fontAsset':_0xca8e19['fontAsset'],'font':_0xca8e19['font'],'useInput':_0xca8e19['useInput'],'fitMode':_0xca8e19['fitMode'],'batchGroupId':_0xca8e19['batchGroup'+'Id'],'mask':_0xca8e19['mask'],'outlineColor':_0xca8e19['outlineCol'+'or']&&_0xca8e19['outlineCol'+'or']['clone']()||_0xca8e19['outlineCol'+'or'],'outlineThickness':_0xca8e19['outlineThi'+'ckness'],'shadowColor':_0xca8e19['shadowColo'+'r']&&_0xca8e19['shadowColo'+'r']['clone']()||_0xca8e19['shadowColo'+'r'],'shadowOffset':_0xca8e19['shadowOffs'+'et']&&_0xca8e19['shadowOffs'+'et']['clone']()||_0xca8e19['shadowOffs'+'et'],'enableMarkup':_0xca8e19['enableMark'+'up']};return _0xca8e19['key']!==void(-0x8e*-0x9+0x1eda+0x2*-0x11ec)&&_0xca8e19['key']!==null?_0x453144['key']=_0xca8e19['key']:_0x453144['text']=_0xca8e19['text'],this['addCompone'+'nt'](_0x276c24,_0x453144);}['getTextEle'+'mentMateri'+'al'](_0x4590ab,_0x90bf4,_0x20878e){const _0x4393d1=(_0x4590ab&&-0xfaa*-0x2+-0x2e4+-0x1c6f)|(_0x90bf4&&0x329*-0x1+0x4*0x241+-0x1f3*0x3)|(_0x20878e&&0x4f*-0xd+0x241e+0x109*-0x1f);let _0x356e91=this['_defaultTe'+'xtMaterial'+'s'][_0x4393d1];if(_0x356e91)return _0x356e91;let _0xd83fec='TextMateri'+'al';return _0x356e91=new us(),_0x90bf4?(_0x356e91['msdfMap']=this['_defaultTe'+'xture'],_0x356e91['msdfTextAt'+'tribute']=_0x20878e,_0x356e91['emissive']['set'](0x108c+0x2*0x38b+-0x107*0x17,-0x1*0x1304+-0x6f8+0x19fd*0x1,-0x8de+-0x1*-0x1582+-0x5*0x287)):(_0xd83fec='Bitmap'+_0xd83fec,_0x356e91['emissive']['set'](0x2541+0x1*0xae1+0x3021*-0x1,-0x22d*0xe+-0x13*-0x157+0x502,0x722+-0x4d*0x3f+0x22*0x59),_0x356e91['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x356e91['opacityMap']=this['_defaultTe'+'xture'],_0x356e91['opacityMap'+'Channel']='a'),_0x4590ab&&(_0xd83fec='ScreenSpac'+'e'+_0xd83fec,_0x356e91['depthTest']=!(-0x1*0x40a+-0x300+-0x259*-0x3)),_0x356e91['name']='default'+_0xd83fec,_0x356e91['useLightin'+'g']=!(-0x159e+0x2543+-0xfa4),_0x356e91['useTonemap']=!(-0x25ad*0x1+-0x11e9+0x7f1*0x7),_0x356e91['useFog']=!(-0x17a5*0x1+0x4c5*-0x1+0x1e5*0xf),_0x356e91['useSkybox']=!(-0x4e2+-0xe*-0x166+0xeb1*-0x1),_0x356e91['diffuse']['set'](-0xc95*0x2+0x1*0x1c35+-0x30b,-0x252+0x13fc+-0x22*0x85,-0x7*-0x129+-0x5d2+-0x13*0x1f),_0x356e91['opacity']=-0x7*0x467+-0x864+-0x1*-0x2735+0.5,_0x356e91['blendType']=cn,_0x356e91['depthWrite']=!(-0x140d+0x15ed*0x1+-0x1*0x1df),_0x356e91['emissiveVe'+'rtexColor']=!(0x1*-0x11cb+-0x1*0x156b+-0xe*-0x2cd),_0x356e91['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x4393d1]=_0x356e91,_0x356e91;}['_createBas'+'eImageMate'+'rial'](){const _0x2344be=new us();return _0x2344be['diffuse']['set'](0x24f4+0x1d90+0x162c*-0x3,0x273+-0x24a6+0x2233,-0x150a*-0x1+-0x177b+0x7d*0x5),_0x2344be['emissive']['set'](0x2*-0x215+0x1b7b+0x8*-0x2ea,-0x1a41*0x1+0xbc4+0xe7e,0xd*0x14+0x25c5+0x248*-0x11),_0x2344be['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x2344be['opacityMap']=this['_defaultTe'+'xture'],_0x2344be['opacityMap'+'Channel']='a',_0x2344be['useLightin'+'g']=!(0x2*0x6d2+-0x2*0x429+-0x551),_0x2344be['useTonemap']=!(0xa86*0x2+-0xe2+0xd*-0x18d),_0x2344be['useFog']=!(0x21ba+-0x1e4b+0x2*-0x1b7),_0x2344be['useSkybox']=!(0x1*-0xb26+-0x1c8c+0x1*0x27b3),_0x2344be['blendType']=cn,_0x2344be['depthWrite']=!(-0x1e91+-0x4f8+0x238a),_0x2344be;}['getImageEl'+'ementMater'+'ial'](_0x2e2daa,_0x13773e,_0x198f2d,_0x4600ca){return _0x2e2daa?_0x13773e?_0x198f2d?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=rt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x2*0x28d+-0x1b3a+0x2055),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x12c1*0x2+-0xb07+-0x1a7a,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x91*0x1+0x2*0x99e+-0x12aa),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x4*0x602+0x25e2+-0x3de9),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x259*0x1+0x17*-0xa7+0x5c9*0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x52*0x5c+0x13e7*0x1+-0x315e),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x4600ca?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Ze,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x1f45*-0x1+-0x9*-0x2d4+0x5d2),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0xb12+-0x435*-0x1+-0x2*-0x36f,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x1*0x293+0x671*0x4+0x1*-0x1730),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0xd8d*-0x1+-0x3*0x944+-0x8*-0x1c8),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0xb7*-0x31+0x654+0x295a*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0xb47*-0x2+-0x26a+-0x1423*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x1f2e+0x13*-0x1b1+0xf6),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x9+0x48b*0x3+-0xd97,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x2192+-0x22a1+0x22*0x8),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x17*-0xb+-0xb4b+-0xd*-0xcb),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x16a8+0x755+0x77f*-0x4),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x1a06*0x1+-0x1*-0x163a+0x3cd),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x198f2d?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=rt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x108d*0x2+-0x150c+0x269*-0x5),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x4600ca?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Ze,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x534+0x2*-0x12c8+-0x2ac5*-0x1),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x15e+0x1987+-0x305*0x8),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x13773e?_0x198f2d?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=rt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x94a+-0x9b0+-0x12fb*-0x1,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x1b10+-0x1*-0x13a3+0x6*0x13d),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x22fa+-0x5*-0xc5+-0x26d2*0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x1e9*-0x7+0x2160+-0x2ebe),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x17bb+0x1*-0xed7+0x18b*0x19),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x4600ca?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Ze,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x21ad+-0x1*-0xaf1+0x16bd,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x2*-0x1082+0x1ce7+0x41e),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x207a+-0x1*0x341+-0x1d38),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x1*-0x113e+-0x1*-0x111f+-0x225c),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x1549*-0x1+-0x7*-0x15d+0x61*0x1f),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x2*0x72d+0x7*-0x255+-0x1fa*-0x1,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x63c+0x1619+-0x1c54),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x6e5*-0x1+-0xce7+0x603*0x1),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x5*-0x775+-0x1*0x1d1b+-0x82d),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0xe*-0x17d+-0x820*-0x3+-0x2d35),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x198f2d?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=rt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x4600ca?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Ze,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x514225){this['_unicodeCo'+'nverter']=_0x514225;}['registerRt'+'lReorder'](_0x49d296){this['_rtlReorde'+'r']=_0x49d296;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Vn='free',Gn='limited',Hn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Vp extends ue{constructor(_0x3a2bf8,_0x4f7637){super(_0x3a2bf8,_0x4f7637),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x5ab*-0x3+-0x2119+-0x8*-0x203),this['_linearMot'+'ionX']=Hn,this['_linearLim'+'itsX']=new W(-0x3a*-0x3f+-0x394*0x7+0xac6,-0x2*-0x745+0x79*-0x1+-0xe11),this['_linearSpr'+'ingX']=!(0x394+-0x5*-0x6bd+-0x2544),this['_linearSti'+'ffnessX']=0x1*0x2252+0x3b2*0x5+-0x1*0x34cc,this['_linearDam'+'pingX']=-0x774+0x625+0x150,this['_linearEqu'+'ilibriumX']=0x1d*-0x9f+0xe3*0x3+-0x312*-0x5,this['_linearMot'+'ionY']=Hn,this['_linearLim'+'itsY']=new W(-0xb*-0x283+-0x26*-0xef+-0x3f1b,-0x11f3+-0x43*0x4f+0x26a0),this['_linearSpr'+'ingY']=!(-0x5a7*-0x1+-0xc0d+0x667),this['_linearSti'+'ffnessY']=0x1d5e+0x2*0x11a+-0x1f92,this['_linearDam'+'pingY']=-0x2*-0x72+0x1dd4+-0x1eb7,this['_linearEqu'+'ilibriumY']=0x27e+0xb*0x293+-0x1ecf,this['_linearMot'+'ionZ']=Hn,this['_linearLim'+'itsZ']=new W(-0x687+-0xbeb+0x313*0x6,-0x20ce+0x3*0xb8f+0x1df*-0x1),this['_linearSpr'+'ingZ']=!(0x1116+-0xe7f*0x2+0xbe9),this['_linearSti'+'ffnessZ']=-0x2672+0x404*-0x6+0x641*0xa,this['_linearDam'+'pingZ']=-0x7c8*0x5+0x3*0x16a+-0x5*-0x6ef,this['_linearEqu'+'ilibriumZ']=-0xdf*-0x1a+-0xf17*-0x1+0x25bd*-0x1,this['_angularMo'+'tionX']=Hn,this['_angularLi'+'mitsX']=new W(-0x158f+0x2*0xde3+-0x25*0x2b,0x1042+-0x2f3*0x3+-0x769),this['_angularSp'+'ringX']=!(0x9*0xc0+0x31d+-0x9dc),this['_angularSt'+'iffnessX']=-0x1bc4+-0x1415+0x2fd9,this['_angularDa'+'mpingX']=-0x856*-0x3+0x1559+-0x11*0x2ba,this['_angularEq'+'uilibriumX']=0x2562+0xce2*0x1+-0x2*0x1922,this['_angularMo'+'tionY']=Hn,this['_angularLi'+'mitsY']=new W(-0x68a+0xe2*0xb+-0x32c,-0x7b1*0x4+-0x2461+0x4325),this['_angularSp'+'ringY']=!(0x5*0x11+-0x268*-0x8+-0x1394),this['_angularSt'+'iffnessY']=0x19*-0x16d+-0x25f7+0x499c,this['_angularDa'+'mpingY']=0x2141*0x1+-0x119e+-0x1d*0x8a,this['_angularEq'+'uilibriumY']=-0x10*0x14+-0x1*-0x666+-0x526,this['_angularMo'+'tionZ']=Hn,this['_angularLi'+'mitsZ']=new W(0x1*-0x213a+0x34*-0x59+0x6*0x88d,-0xa4d*-0x2+-0x18d0+-0x1*-0x436),this['_angularSp'+'ringZ']=!(0x2269*-0x1+0xcc4+0x15a6),this['_angularEq'+'uilibriumZ']=0x16*-0x1af+-0x138d+0x3897,this['_angularDa'+'mpingZ']=0x1*-0xc6d+-0x12*0xd+0xd58,this['_angularSt'+'iffnessZ']=0x11f2+-0x1805*0x1+0x137*0x5,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x544bab){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x544bab,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x4ec87b){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x4ec87b,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x411897){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x411897&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x411897),this['_breakForc'+'e']=_0x411897);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x495a99){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x495a99,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x2ed4f9){this['_angularLi'+'mitsX']['equals'](_0x2ed4f9)||(this['_angularLi'+'mitsX']['copy'](_0x2ed4f9),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x249b46){this['_angularMo'+'tionX']!==_0x249b46&&(this['_angularMo'+'tionX']=_0x249b46,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x2aa407){this['_angularLi'+'mitsY']['equals'](_0x2aa407)||(this['_angularLi'+'mitsY']['copy'](_0x2aa407),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x505b5e){this['_angularMo'+'tionY']!==_0x505b5e&&(this['_angularMo'+'tionY']=_0x505b5e,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x1279d2){this['_angularLi'+'mitsZ']['equals'](_0x1279d2)||(this['_angularLi'+'mitsZ']['copy'](_0x1279d2),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x3b64a2){this['_angularMo'+'tionZ']!==_0x3b64a2&&(this['_angularMo'+'tionZ']=_0x3b64a2,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x44aa90){this['_linearLim'+'itsX']['equals'](_0x44aa90)||(this['_linearLim'+'itsX']['copy'](_0x44aa90),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x2aade){this['_linearMot'+'ionX']!==_0x2aade&&(this['_linearMot'+'ionX']=_0x2aade,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0xaedd78){this['_linearLim'+'itsY']['equals'](_0xaedd78)||(this['_linearLim'+'itsY']['copy'](_0xaedd78),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x1e6306){this['_linearMot'+'ionY']!==_0x1e6306&&(this['_linearMot'+'ionY']=_0x1e6306,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x32295d){this['_linearLim'+'itsZ']['equals'](_0x32295d)||(this['_linearLim'+'itsZ']['copy'](_0x32295d),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x2b2bc4){this['_linearMot'+'ionZ']!==_0x2b2bc4&&(this['_linearMot'+'ionZ']=_0x2b2bc4,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x465959,_0x3c3aef){const _0x494625=_0x465959['getTransla'+'tion'](),_0x984ad=new te();_0x984ad['setFromMat'+'4'](_0x465959);const _0x2ee121=new Ammo['btVector3'](_0x494625['x'],_0x494625['y'],_0x494625['z']),_0x23cb59=new Ammo['btQuaterni'+'on'](_0x984ad['x'],_0x984ad['y'],_0x984ad['z'],_0x984ad['w']);_0x3c3aef['setOrigin'](_0x2ee121),_0x3c3aef['setRotatio'+'n'](_0x23cb59),Ammo['destroy'](_0x2ee121),Ammo['destroy'](_0x23cb59);}['_updateAng'+'ularLimits'](){const _0xf1ac62=this['_constrain'+'t'];if(_0xf1ac62){let _0x4aff17,_0x126737,_0x4dffa5,_0x503777,_0x3924e3,_0x3828a1;this['_angularMo'+'tionX']===Gn?(_0x4aff17=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x503777=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Vn?(_0x4aff17=0x179b*-0x1+0x1a2f+0x293*-0x1,_0x503777=0x1f09+-0x43f*0x5+-0x9ce):_0x4aff17=_0x503777=0x17*0x131+0x1*0x1543+-0x30aa,this['_angularMo'+'tionY']===Gn?(_0x126737=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x3924e3=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Vn?(_0x126737=0x1b65+0xb3f*0x1+-0xce1*0x3,_0x3924e3=0xa7c+-0x1635+0xbb9):_0x126737=_0x3924e3=-0x21ad*0x1+-0x1644+0x37f1,this['_angularMo'+'tionZ']===Gn?(_0x4dffa5=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x3828a1=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Vn?(_0x4dffa5=-0x183c+-0x112*0x1+0x24d*0xb,_0x3828a1=0x1*0x2432+0x3*0x291+0x11*-0x295):_0x4dffa5=_0x3828a1=0x23d0+-0x6d8*0x1+-0x67*0x48;const _0x43869c=new Ammo['btVector3'](_0x4aff17,_0x126737,_0x4dffa5);_0xf1ac62['setAngular'+'LowerLimit'](_0x43869c),_0x43869c['setValue'](_0x503777,_0x3924e3,_0x3828a1),_0xf1ac62['setAngular'+'UpperLimit'](_0x43869c),Ammo['destroy'](_0x43869c);}}['_updateLin'+'earLimits'](){const _0x49c82b=this['_constrain'+'t'];if(_0x49c82b){let _0x448d4c,_0x479835,_0x569898,_0x24b046,_0xa0b14,_0x1e79fe;this['_linearMot'+'ionX']===Gn?(_0x448d4c=this['_linearLim'+'itsX']['x'],_0x24b046=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Vn?(_0x448d4c=-0x1162+0x1bb+0xfa8,_0x24b046=0x3*0x207+-0x1*0x1863+0x124e):_0x448d4c=_0x24b046=-0x952+0x1373+-0xa21,this['_linearMot'+'ionY']===Gn?(_0x479835=this['_linearLim'+'itsY']['x'],_0xa0b14=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Vn?(_0x479835=0x9bd+-0x1*-0x1735+0x1*-0x20f1,_0xa0b14=0xef6*0x1+-0x10b2+0x1bc):_0x479835=_0xa0b14=-0x2099+0x35*0x71+0x934,this['_linearMot'+'ionZ']===Gn?(_0x569898=this['_linearLim'+'itsZ']['x'],_0x1e79fe=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Vn?(_0x569898=-0xd*0x24a+-0x386+-0x1*-0x2149,_0x1e79fe=0x220a+-0x25ca+-0x18*-0x28):_0x569898=_0x1e79fe=-0x196d+0x1e86*-0x1+0x37f3*0x1;const _0x3fc590=new Ammo['btVector3'](_0x448d4c,_0x479835,_0x569898);_0x49c82b['setLinearL'+'owerLimit'](_0x3fc590),_0x3fc590['setValue'](_0x24b046,_0xa0b14,_0x1e79fe),_0x49c82b['setLinearU'+'pperLimit'](_0x3fc590),Ammo['destroy'](_0x3fc590);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x1e8044=new q(),_0x58af6c=this['_entityA']['rigidbody']['body'];_0x58af6c['activate']();const _0x125781=this['entity']['getWorldTr'+'ansform'](),_0xf9f63e=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x1e8044['mul2'](_0xf9f63e,_0x125781);const _0x44b146=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x1e8044,_0x44b146),this['_entityB']&&this['_entityB']['rigidbody']){const _0x2582ae=this['_entityB']['rigidbody']['body'];_0x2582ae['activate']();const _0x235f7b=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x1e8044['mul2'](_0x235f7b,_0x125781);const _0x3a4389=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x1e8044,_0x3a4389),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x58af6c,_0x2582ae,_0x44b146,_0x3a4389,!this['_enableCol'+'lision']),Ammo['destroy'](_0x3a4389);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x58af6c,_0x44b146,!this['_enableCol'+'lision']);Ammo['destroy'](_0x44b146);const _0x2c05a8=['X','Y','Z','X','Y','Z'];for(let _0x11c4ce=0x7bc+-0xe52+0x696;_0x11c4ce<-0x32b*-0x2+0xe*0xc3+0x10fa*-0x1;_0x11c4ce++){const _0x50c2c0=_0x11c4ce<0xae*-0x7+-0xc61+-0xa*-0x1b7?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x11c4ce,this[_0x50c2c0+'Spring'+_0x2c05a8[_0x11c4ce]]),this['_constrain'+'t']['setDamping'](_0x11c4ce,this[_0x50c2c0+'Damping'+_0x2c05a8[_0x11c4ce]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x11c4ce,this[_0x50c2c0+('Equilibriu'+'m')+_0x2c05a8[_0x11c4ce]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x11c4ce,this[_0x50c2c0+'Stiffness'+_0x2c05a8[_0x11c4ce]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x4074f3){for(const _0x49ffd8 of UR)_0x4074f3['hasOwnProp'+'erty'](_0x49ffd8)&&(_0x4074f3[_0x49ffd8]instanceof W?this['_'+_0x49ffd8]['copy'](_0x4074f3[_0x49ffd8]):this['_'+_0x49ffd8]=_0x4074f3[_0x49ffd8]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0xed7e6b,_0x393bf0,_0x3ebcc7){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x8f4014=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x9bf703=>{['X','Y','Z']['forEach'](_0x5d02c1=>{const _0x91ef33=_0x8f4014+_0x9bf703+_0x5d02c1,_0x12658b='_'+_0x91ef33;let _0x501133=_0x8f4014==='linear'?0x1*-0x215a+0x13c7+0xd93:0x22cc+-0x154*-0x2+-0x2571*0x1;_0x5d02c1==='Y'&&(_0x501133+=0xa9b+0x1*0xfcb+0x1a65*-0x1),_0x5d02c1==='Z'&&(_0x501133+=0xd13*-0x1+0x1ef6+0x1*-0x11e1),Object['defineProp'+'erty'](Vp['prototype'],_0x91ef33,{'get':function(){return this[_0x12658b];},'set':function(_0x1bfca2){this[_0x12658b]!==_0x1bfca2&&(this[_0x12658b]=_0x1bfca2,this['_constrain'+'t'][VR[_0x9bf703]](_0x501133,_0x1bfca2));}});});});});class GR{constructor(){this['enabled']=!(0xa95+-0xa3*-0x1e+-0x1daf);}}const ff=['enabled'];class HR extends Xe{constructor(_0x15f6e2){super(_0x15f6e2),this['id']='joint',this['app']=_0x15f6e2,this['ComponentT'+'ype']=Vp,this['DataType']=GR,this['schema']=ff;}['initialize'+'ComponentD'+'ata'](_0x4cc474,_0x10b10e,_0x36b99c){_0x4cc474['initFromDa'+'ta'](_0x10b10e),super['initialize'+'ComponentD'+'ata'](_0x4cc474,_0x10b10e,ff);}}ue['_buildAcce'+'ssors'](Vp['prototype'],ff);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',0x7ca+-0xac1*-0x2+-0xf*0x1f4),c(this,'_minHeight',0x1*0xae5+-0x8*-0x3e6+-0x2a15),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x56*0x4+0x257c+0x9b5*-0x4),c(this,'_fitHeight'+'Proportion',0x1f*-0x29+0xfe*-0x16+0x1acb),c(this,'_excludeFr'+'omLayout',!(-0x1*-0x17dd+-0x712+-0x10ca));}set['minWidth'](_0xdd698){_0xdd698!==this['_minWidth']&&(this['_minWidth']=_0xdd698,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x2cd0b6){_0x2cd0b6!==this['_minHeight']&&(this['_minHeight']=_0x2cd0b6,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x425a7d){_0x425a7d!==this['_maxWidth']&&(this['_maxWidth']=_0x425a7d,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x33b244){_0x33b244!==this['_maxHeight']&&(this['_maxHeight']=_0x33b244,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x478efd){_0x478efd!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x478efd,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x1a5d57){_0x1a5d57!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x1a5d57,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x2e8571){_0x2e8571!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x2e8571,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(0x37*0x27+0x1*-0x43+-0x81e);}}const ax=['enabled'];class $R extends Xe{constructor(_0x4cfa81){super(_0x4cfa81),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x420a2c,_0x3eb813,_0x481852){_0x3eb813['enabled']!==void(0x1f78+-0x3*-0x605+-0x1f*0x199)&&(_0x420a2c['enabled']=_0x3eb813['enabled']),_0x3eb813['minWidth']!==void(0x1*0x191+0x24*0xd7+0x1fcd*-0x1)&&(_0x420a2c['minWidth']=_0x3eb813['minWidth']),_0x3eb813['minHeight']!==void(-0x19b6+0x411*-0x1+-0x1*-0x1dc7)&&(_0x420a2c['minHeight']=_0x3eb813['minHeight']),_0x3eb813['maxWidth']!==void(0x157e+-0xb*0x365+0x1*0xfd9)&&(_0x420a2c['maxWidth']=_0x3eb813['maxWidth']),_0x3eb813['maxHeight']!==void(0x23f*0xb+0x6b9+-0x1f6e)&&(_0x420a2c['maxHeight']=_0x3eb813['maxHeight']),_0x3eb813['fitWidthPr'+'oportion']!==void(0x23f3+0x1070+-0x3463)&&(_0x420a2c['fitWidthPr'+'oportion']=_0x3eb813['fitWidthPr'+'oportion']),_0x3eb813['fitHeightP'+'roportion']!==void(-0xb*0x32f+-0x1*0x23d+0x1*0x2542)&&(_0x420a2c['fitHeightP'+'roportion']=_0x3eb813['fitHeightP'+'roportion']),_0x3eb813['excludeFro'+'mLayout']!==void(-0xad8*-0x3+0x628*0x3+-0x11*0x300)&&(_0x420a2c['excludeFro'+'mLayout']=_0x3eb813['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x420a2c,_0x3eb813,_0x481852);}['cloneCompo'+'nent'](_0x1b1d14,_0x4518b9){const _0x53847e=_0x1b1d14['layoutchil'+'d'];return this['addCompone'+'nt'](_0x4518b9,{'enabled':_0x53847e['enabled'],'minWidth':_0x53847e['minWidth'],'minHeight':_0x53847e['minHeight'],'maxWidth':_0x53847e['maxWidth'],'maxHeight':_0x53847e['maxHeight'],'fitWidthProportion':_0x53847e['fitWidthPr'+'oportion'],'fitHeightProportion':_0x53847e['fitHeightP'+'roportion'],'excludeFromLayout':_0x53847e['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const pf=0x48*0x2+-0x1de0+0x1c*0x10c,qR=-0x215e+-0x947+-0x6a*-0x67,gg=-0x49d+0xeb6+0x29*-0x3f,XR=-0xb*0x13a+0xf1*0x1+-0x3*-0x430,Qh={};Qh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Qh[Oe]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Gp={};Gp[pe]=Oe,Gp[Oe]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},Vt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Gt=new W();function ox(_0x3867cd){let _0x379b02;const _0x51c309=Qh[_0x3867cd],_0x126b47=Qh[Gp[_0x3867cd]];function _0x2b7cc1(_0x55b4a3,_0x5ec8e4){return-_0x5ec8e4[_0x51c309['size']]*_0x55b4a3['pivot'][_0x51c309['axis']];}function _0x290cb9(_0x18d84c,_0x5adf67){return-_0x5adf67[_0x126b47['size']]*_0x18d84c['pivot'][_0x126b47['axis']];}function _0x1b50b6(_0x42633d,_0x2dd595){return _0x2dd595[_0x51c309['size']]*(0x1*0x25c7+0x112d*0x2+-0x2*0x2410-_0x42633d['pivot'][_0x51c309['axis']]);}function _0x3e0d80(_0x194754,_0x801837){_0x194754=_0x194754['filter'](_0x440a7f),_0x379b02=_0x801837,Gt['x']=_0x379b02['containerS'+'ize']['x']-_0x379b02['padding']['x']-_0x379b02['padding']['z'],Gt['y']=_0x379b02['containerS'+'ize']['y']-_0x379b02['padding']['y']-_0x379b02['padding']['w'],_0x320bad(_0x194754);const _0x4b168e=_0x137b25(_0x450614(_0x194754)),_0x228f69=_0x4fcaa1(_0x4b168e,_0x33bc13(_0x4b168e)),_0x53a496=_0xae67ab(_0x4b168e,_0x228f69);return _0x45b3d1(_0x4b168e,_0x228f69,_0x53a496),_0x172caa(_0x4b168e,_0x228f69,_0x53a496),_0x32b750(_0x4b168e);}function _0x440a7f(_0x2da948){const _0x5be3e9=_0x2da948['entity']['layoutchil'+'d'];return!_0x5be3e9||!_0x5be3e9['enabled']||!_0x5be3e9['excludeFro'+'mLayout'];}function _0x320bad(_0x53c5b2){for(let _0x2de1c9=0x18d7+-0xb3b+-0xd9c;_0x2de1c9<_0x53c5b2['length'];++_0x2de1c9){const _0x2d676e=_0x53c5b2[_0x2de1c9],_0x57d681=_0x2d676e['anchor'];(_0x57d681['x']!==-0x1c*-0x57+-0x7*-0x4e9+-0x2be3||_0x57d681['y']!==-0x1da7+-0x3*-0xc0b+-0x2*0x33d||_0x57d681['z']!==0x1658+-0x19aa+-0x22*-0x19||_0x57d681['w']!==-0x2b*0x51+-0x22f8+0x3093)&&(_0x2d676e['anchor']=Q['ZERO']);}}function _0x450614(_0x59382e){if(!_0x379b02['wrap'])return[_0x59382e];const _0x126ce6=[[]],_0x208e13=_0x90b4ed(_0x59382e);let _0xb7156f=-0x6c3+0x4*0x2b9+-0x421;const _0x10ca88=_0x379b02[_0x51c309['fitting']]===gg;for(let _0x2dba2f=0xe7a+0xb11*0x3+-0x2fad;_0x2dba2f<_0x59382e['length'];++_0x2dba2f){_0x126ce6[_0x126ce6['length']-(-0x1e22+-0x1f*0xbf+0x3544)]['length']>0xe*0x50+-0x1fb*-0x9+-0x1633&&(_0xb7156f+=_0x379b02['spacing'][_0x51c309['axis']]);const _0x220091=_0x208e13[_0x2dba2f][_0x51c309['size']];_0xb7156f+=_0x220091,!_0x10ca88&&_0xb7156f>Gt[_0x51c309['axis']]&&_0x126ce6[_0x126ce6['length']-(0x7*0x45a+0xfd*0x3+0x3*-0xb24)]['length']!==-0x47b+0x1f9b+0x70*-0x3e&&(_0xb7156f=_0x220091,_0x126ce6['push']([])),_0x126ce6[_0x126ce6['length']-(0x17ae+0xad+-0x185a*0x1)]['push'](_0x59382e[_0x2dba2f]),_0x10ca88&&_0xb7156f>Gt[_0x51c309['axis']]&&_0x2dba2f!==_0x59382e['length']-(-0x3af*0x8+0x1c43*-0x1+-0x14*-0x2e3)&&(_0xb7156f=0x1f2+0x5*-0x78e+0x8f5*0x4,_0x126ce6['push']([]));}return _0x126ce6;}function _0x137b25(_0x2750d7){const _0x180aa2=_0x379b02['orientatio'+'n']===pe&&_0x379b02['reverseX']||_0x379b02['orientatio'+'n']===Oe&&_0x379b02['reverseY'],_0xbda96b=_0x379b02['orientatio'+'n']===pe&&_0x379b02['reverseY']||_0x379b02['orientatio'+'n']===Oe&&_0x379b02['reverseX'];if(_0x180aa2){for(let _0x47ea78=0x7*-0x53a+0x100*0xd+0x1796;_0x47ea78<_0x2750d7['length'];++_0x47ea78)_0x180aa2&&_0x2750d7[_0x47ea78]['reverse']();}return _0xbda96b&&_0x2750d7['reverse'](),_0x2750d7;}function _0x33bc13(_0x3f9b4c){const _0x25a2fe=[];for(let _0x445273=-0xf08+0x1e5*0xe+0x2*-0x5bf;_0x445273<_0x3f9b4c['length'];++_0x445273){const _0x575a15=_0x3f9b4c[_0x445273],_0x378d13=_0x90b4ed(_0x575a15),_0x19f30c=_0x26aafb(_0x378d13,_0x51c309),_0x1793ac=_0x39f5c4(_0x379b02[_0x51c309['fitting']],_0x19f30c,Gt[_0x51c309['axis']]);_0x1793ac===Vt['APPLY_STRE'+'TCHING']?_0x24cf10(_0x378d13,_0x19f30c,_0x51c309):_0x1793ac===Vt['APPLY_SHRI'+'NKING']&&_0x378e12(_0x378d13,_0x19f30c,_0x51c309),_0x25a2fe['push'](_0x378d13);}return _0x25a2fe;}function _0x4fcaa1(_0x4e996a,_0x14f42c){const _0x86220e=[],_0x376f8a=[];for(let _0x391780=0x1ecb+0x1e32+-0x3cfd;_0x391780<_0x4e996a['length'];++_0x391780){const _0x289116=_0x4e996a[_0x391780];_0x289116['largestEle'+'ment']=null,_0x289116['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x2c0c46=0x1*-0x872+-0x1878+0x20ea;_0x2c0c46<_0x289116['length'];++_0x2c0c46){const _0x37f041=_0x14f42c[_0x391780][_0x2c0c46];_0x37f041[_0x126b47['size']]>_0x289116['largestSiz'+'e'][_0x126b47['size']]&&(_0x289116['largestEle'+'ment']=_0x289116[_0x2c0c46],_0x289116['largestSiz'+'e']=_0x37f041);}_0x86220e['push'](_0x289116['largestEle'+'ment']),_0x376f8a['push'](_0x289116['largestSiz'+'e']);}const _0x4823fd=_0x26aafb(_0x376f8a,_0x126b47),_0x8025db=_0x39f5c4(_0x379b02[_0x126b47['fitting']],_0x4823fd,Gt[_0x126b47['axis']]);_0x8025db===Vt['APPLY_STRE'+'TCHING']?_0x24cf10(_0x376f8a,_0x4823fd,_0x126b47):_0x8025db===Vt['APPLY_SHRI'+'NKING']&&_0x378e12(_0x376f8a,_0x4823fd,_0x126b47);for(let _0x3fd10e=-0x1bb5+-0x1888+0x343d;_0x3fd10e<_0x4e996a['length'];++_0x3fd10e){const _0x4339a3=_0x4e996a[_0x3fd10e];for(let _0x112c8d=-0x26ab*0x1+-0x1eb4+-0x455f*-0x1;_0x112c8d<_0x4339a3['length'];++_0x112c8d){const _0x5cf8a6=_0x14f42c[_0x3fd10e][_0x112c8d],_0x900b96=_0x5cf8a6[_0x126b47['size']],_0x48d467=_0x4e996a['length']===0x17d+0x1*-0x1e7+-0x1*-0x6b?Gt[_0x126b47['axis']]:_0x4339a3['largestSiz'+'e'][_0x126b47['size']],_0x3b8e21=_0x39f5c4(_0x379b02[_0x126b47['fitting']],_0x900b96,_0x48d467);_0x3b8e21===Vt['APPLY_STRE'+'TCHING']?_0x5cf8a6[_0x126b47['size']]=Math['min'](_0x48d467,_0x5cf8a6[_0x126b47['maxSize']]):_0x3b8e21===Vt['APPLY_SHRI'+'NKING']&&(_0x5cf8a6[_0x126b47['size']]=Math['max'](_0x48d467,_0x5cf8a6[_0x126b47['minSize']]));}}return _0x14f42c;}function _0x39f5c4(_0x5535d3,_0x1d2496,_0x2712ba){switch(_0x5535d3){case pf:return Vt['NONE'];case qR:return _0x1d2496<_0x2712ba?Vt['APPLY_STRE'+'TCHING']:Vt['NONE'];case gg:return _0x1d2496>=_0x2712ba?Vt['APPLY_SHRI'+'NKING']:Vt['NONE'];case XR:return _0x1d2496<_0x2712ba?Vt['APPLY_STRE'+'TCHING']:Vt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x5535d3);}}function _0x26aafb(_0x5b43f8,_0xae05b5){const _0x5cbd19=_0x506b24(_0x5b43f8,_0xae05b5['size']),_0x3028a4=(_0x5b43f8['length']-(-0x1485+-0x25a1+-0x1*-0x3a27))*_0x379b02['spacing'][_0xae05b5['axis']];return _0x5cbd19+_0x3028a4;}function _0x24cf10(_0x4e1a5f,_0x1f176d,_0x254f21){const _0x476912=_0x2caa33(_0x4e1a5f,_0x254f21['maxSize']),_0xe493af=_0x5d943a(_0x4e1a5f,_0x254f21['fittingPro'+'portion']),_0x261ee4=_0x259628(_0xe493af,_0x476912);let _0x4e6af8=Gt[_0x254f21['axis']]-_0x1f176d;for(let _0x2a28c8=0x13d3+-0x13c5+-0x2*0x7;_0x2a28c8<_0x4e1a5f['length'];++_0x2a28c8){const _0x1b6b38=_0x476912[_0x2a28c8],_0x4011cc=_0x132fcb(_0x1b6b38,_0x4e6af8,_0xe493af,_0x261ee4),_0x21021a=_0x4e1a5f[_0x1b6b38][_0x254f21['size']]+_0x4011cc,_0x311a6d=_0x4e1a5f[_0x1b6b38][_0x254f21['maxSize']],_0x4681fd=Math['min'](_0x21021a,_0x311a6d);_0x4e1a5f[_0x1b6b38][_0x254f21['size']]=_0x4681fd;const _0x3eb3ac=Math['max'](_0x21021a-_0x4681fd,-0x12de+0x9cd+0x911),_0x158cdc=_0x4011cc-_0x3eb3ac;_0x4e6af8-=_0x158cdc;}}function _0x378e12(_0x43dd93,_0x4a9f04,_0x30698){const _0x35b709=_0x2caa33(_0x43dd93,_0x30698['minSize'],!(0x73c+-0x203c+0x1900)),_0x47f371=_0x5d943a(_0x43dd93,_0x30698['fittingPro'+'portion']),_0x41b46d=_0x15f846(_0x47f371),_0x50225e=_0x259628(_0x41b46d,_0x35b709);let _0x532209=_0x4a9f04-Gt[_0x30698['axis']];for(let _0x4d4b9b=0x3a1*0x2+-0x2659+-0x471*-0x7;_0x4d4b9b<_0x43dd93['length'];++_0x4d4b9b){const _0x30aeec=_0x35b709[_0x4d4b9b],_0x2c8fd4=_0x132fcb(_0x30aeec,_0x532209,_0x41b46d,_0x50225e),_0x55043b=_0x43dd93[_0x30aeec][_0x30698['size']]-_0x2c8fd4,_0x2f7982=_0x43dd93[_0x30aeec][_0x30698['minSize']],_0x8aa58c=Math['max'](_0x55043b,_0x2f7982);_0x43dd93[_0x30aeec][_0x30698['size']]=_0x8aa58c;const _0x124a83=Math['max'](_0x8aa58c-_0x55043b,0xa54+-0x21f*0x7+0x485*0x1),_0x3753d1=_0x2c8fd4-_0x124a83;_0x532209-=_0x3753d1;}}function _0x132fcb(_0x43d262,_0x384022,_0x4db780,_0x127f04){const _0x15bb6c=_0x4db780[_0x43d262],_0x45c5e3=_0x127f04[_0x43d262];return Math['abs'](_0x15bb6c)<0x1b50+0x975+-0x24c5+0.00001&&Math['abs'](_0x45c5e3)<-0x276+-0xa68+-0x1*-0xcde+0.00001?_0x384022:_0x384022*_0x15bb6c/_0x45c5e3;}function _0xae67ab(_0x24e182,_0x1942bb){const _0x52659c={};_0x52659c[_0x51c309['axis']]=0x32d+-0xb7f+0x852*0x1,_0x52659c[_0x126b47['axis']]=0x1a75+0x803+-0x2278,_0x24e182[_0x51c309['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x2b99a8=[];for(let _0x4ff487=0x1ab1+-0x780+-0x1331;_0x4ff487<_0x24e182['length'];++_0x4ff487){const _0x4ebe4=_0x24e182[_0x4ff487];if(_0x4ebe4['length']===-0x7*0x2d3+0xa4d*0x2+-0xd5){_0x2b99a8['push']([]);continue;}const _0x243ddd=[],_0x129d0c=_0x1942bb[_0x4ff487];for(let _0x3f1639=-0x1c0d+0x2*0x1205+-0x7fd;_0x3f1639<_0x4ebe4['length'];++_0x3f1639){const _0xa42b2=_0x4ebe4[_0x3f1639],_0x46ccb3=_0x129d0c[_0x3f1639];_0x52659c[_0x126b47['axis']]-=_0x290cb9(_0xa42b2,_0x46ccb3),_0x52659c[_0x51c309['axis']]-=_0x2b7cc1(_0xa42b2,_0x46ccb3),_0x243ddd[_0x3f1639]={},_0x243ddd[_0x3f1639][_0x51c309['axis']]=_0x52659c[_0x51c309['axis']],_0x243ddd[_0x3f1639][_0x126b47['axis']]=_0x52659c[_0x126b47['axis']],_0x52659c[_0x126b47['axis']]+=_0x290cb9(_0xa42b2,_0x46ccb3),_0x52659c[_0x51c309['axis']]+=_0x1b50b6(_0xa42b2,_0x46ccb3)+_0x379b02['spacing'][_0x51c309['axis']];}_0x4ebe4[_0x51c309['size']]=_0x52659c[_0x51c309['axis']]-_0x379b02['spacing'][_0x51c309['axis']],_0x4ebe4[_0x126b47['size']]=_0x4ebe4['largestSiz'+'e'][_0x126b47['size']],_0x24e182[_0x51c309['size']]=Math['max'](_0x24e182[_0x51c309['size']],_0x4ebe4[_0x51c309['size']]),_0x52659c[_0x51c309['axis']]=0x2*-0xb32+-0xe5*-0xe+-0x1*-0x9de,_0x52659c[_0x126b47['axis']]+=_0x4ebe4[_0x126b47['size']]+_0x379b02['spacing'][_0x126b47['axis']],_0x2b99a8['push'](_0x243ddd);}return _0x24e182[_0x126b47['size']]=_0x52659c[_0x126b47['axis']]-_0x379b02['spacing'][_0x126b47['axis']],_0x2b99a8;}function _0x45b3d1(_0x4ec62c,_0x644dec,_0xf2714d){const _0x53f2af=_0x379b02['alignment'][_0x51c309['axis']],_0x6500a8=_0x379b02['alignment'][_0x126b47['axis']],_0xe33fa6=_0x379b02['padding'][_0x51c309['axis']],_0x2c2b1f=_0x379b02['padding'][_0x126b47['axis']];for(let _0x1916ec=0xb*-0x21d+-0x25*0x9b+0x2da6*0x1;_0x1916ec<_0x4ec62c['length'];++_0x1916ec){const _0x27df4a=_0x4ec62c[_0x1916ec],_0x3e0d2b=_0x644dec[_0x1916ec],_0x144239=_0xf2714d[_0x1916ec],_0x4c3bc4=(Gt[_0x51c309['axis']]-_0x27df4a[_0x51c309['size']])*_0x53f2af+_0xe33fa6,_0x2e1bda=(Gt[_0x126b47['axis']]-_0x4ec62c[_0x126b47['size']])*_0x6500a8+_0x2c2b1f;for(let _0x3b55d5=0x2306+0x1*0x81b+-0x2b21;_0x3b55d5<_0x27df4a['length'];++_0x3b55d5){const _0x4a3b0b=(_0x27df4a[_0x126b47['size']]-_0x3e0d2b[_0x3b55d5][_0x126b47['size']])*_0x379b02['alignment'][_0x126b47['axis']];_0x144239[_0x3b55d5][_0x51c309['axis']]+=_0x4c3bc4,_0x144239[_0x3b55d5][_0x126b47['axis']]+=_0x2e1bda+_0x4a3b0b;}}}function _0x172caa(_0x26050e,_0x3e2933,_0x47ad0d){for(let _0xc4df9f=0x16*-0x15+0x2*0xcd4+-0x17da;_0xc4df9f<_0x26050e['length'];++_0xc4df9f){const _0x19a302=_0x26050e[_0xc4df9f],_0x370122=_0x3e2933[_0xc4df9f],_0x497573=_0x47ad0d[_0xc4df9f];for(let _0x5165d2=0x1028+-0x1f2b+0xf03;_0x5165d2<_0x19a302['length'];++_0x5165d2){const _0x1ea15=_0x19a302[_0x5165d2];_0x1ea15[_0x51c309['calculated'+'Size']]=_0x370122[_0x5165d2][_0x51c309['size']],_0x1ea15[_0x126b47['calculated'+'Size']]=_0x370122[_0x5165d2][_0x126b47['size']],_0x379b02['orientatio'+'n']===pe?_0x1ea15['entity']['setLocalPo'+'sition'](_0x497573[_0x5165d2][_0x51c309['axis']],_0x497573[_0x5165d2][_0x126b47['axis']],_0x1ea15['entity']['getLocalPo'+'sition']()['z']):_0x1ea15['entity']['setLocalPo'+'sition'](_0x497573[_0x5165d2][_0x126b47['axis']],_0x497573[_0x5165d2][_0x51c309['axis']],_0x1ea15['entity']['getLocalPo'+'sition']()['z']);}}}function _0x32b750(_0x364a6c){const _0x5e9b81=_0x364a6c['width'],_0xf69604=_0x364a6c['height'],_0x452661=(Gt['x']-_0x5e9b81)*_0x379b02['alignment']['x']+_0x379b02['padding']['x'],_0x6548a2=(Gt['y']-_0xf69604)*_0x379b02['alignment']['y']+_0x379b02['padding']['y'];return{'bounds':new Q(_0x452661,_0x6548a2,_0x5e9b81,_0xf69604)};}function _0x90b4ed(_0x5287e8){const _0x432b2d=[];for(let _0x5edaf8=-0x15e4+0x1*-0x25e1+0x3bc5;_0x5edaf8<_0x5287e8['length'];++_0x5edaf8){const _0x382c9b=_0x5287e8[_0x5edaf8],_0x1cb00e=Math['max'](_0x1d3ffb(_0x382c9b,'minWidth'),0x1*0x125b+-0x3a0+0x1a3*-0x9),_0x1c4928=Math['max'](_0x1d3ffb(_0x382c9b,'minHeight'),0x8e*0x8+-0x7*-0x274+-0x159c),_0x2f3727=Math['max'](_0x1d3ffb(_0x382c9b,'maxWidth'),_0x1cb00e),_0x461fe6=Math['max'](_0x1d3ffb(_0x382c9b,'maxHeight'),_0x1c4928),_0x337eb3=_0x5f40d5(_0x1d3ffb(_0x382c9b,'width'),_0x1cb00e,_0x2f3727),_0x217203=_0x5f40d5(_0x1d3ffb(_0x382c9b,'height'),_0x1c4928,_0x461fe6),_0x42f117=_0x1d3ffb(_0x382c9b,'fitWidthPr'+'oportion'),_0x144437=_0x1d3ffb(_0x382c9b,'fitHeightP'+'roportion');_0x432b2d['push']({'minWidth':_0x1cb00e,'minHeight':_0x1c4928,'maxWidth':_0x2f3727,'maxHeight':_0x461fe6,'width':_0x337eb3,'height':_0x217203,'fitWidthProportion':_0x42f117,'fitHeightProportion':_0x144437});}return _0x432b2d;}function _0x1d3ffb(_0x578bce,_0x12c61f){const _0x45c794=_0x578bce['entity']['layoutchil'+'d'];return _0x45c794&&_0x45c794['enabled']&&_0x45c794[_0x12c61f]!==void(-0x2349+-0x17*-0x146+-0x1*-0x5ff)&&_0x45c794[_0x12c61f]!==null?_0x45c794[_0x12c61f]:_0x578bce[_0x12c61f]!==void(0x7b2+-0x1*-0x1f67+-0x1*0x2719)?_0x578bce[_0x12c61f]:jR[_0x12c61f];}function _0x5f40d5(_0x50f565,_0x4fa10c,_0x470b3d){return Math['min'](Math['max'](_0x50f565,_0x4fa10c),_0x470b3d);}function _0x506b24(_0x455853,_0x4ff423){return _0x455853['reduce']((_0x565793,_0x90c532)=>_0x565793+_0x90c532[_0x4ff423],0x2419+0x1a0f*-0x1+0x2*-0x505);}function _0x5d943a(_0x49460b,_0x5c6c1f){const _0x1613aa=_0x506b24(_0x49460b,_0x5c6c1f),_0x59cb49=[],_0x2f5f7e=_0x49460b['length'];if(_0x1613aa===-0xb8*0x15+0x2473+-0x155b){for(let _0x18c946=-0xd64*0x2+-0x62*-0x5d+-0x8d2;_0x18c946<_0x2f5f7e;++_0x18c946)_0x59cb49['push']((-0xd57+-0x2*-0x1234+0x3*-0x7b0)/_0x2f5f7e);}else{for(let _0x1ed381=0x2*-0x132d+-0x8e9+0x2f43;_0x1ed381<_0x2f5f7e;++_0x1ed381)_0x59cb49['push'](_0x49460b[_0x1ed381][_0x5c6c1f]/_0x1613aa);}return _0x59cb49;}function _0x15f846(_0x14388d){if(_0x14388d['length']===0x6*-0x2f9+-0x3*0x42e+-0x4d*-0x65)return[0x1165+0x1be0*-0x1+0xa7c];const _0x476079=[],_0x163a5f=_0x14388d['length'];for(let _0x110e6b=-0x50*0xd+-0x1b6b+0x1*0x1f7b;_0x110e6b<_0x163a5f;++_0x110e6b)_0x476079['push']((0xcf1*0x2+0x241*0x9+0x2*-0x1715-_0x14388d[_0x110e6b])/(_0x163a5f-(0x1ab2+-0x752+-0x135f)));return _0x476079;}function _0x2caa33(_0x12ba61,_0x5f46a0,_0x405916){return _0x12ba61['forEach'](_0x2ba531),_0x12ba61['slice']()['sort']((_0x189173,_0x2f029e)=>_0x405916?_0x2f029e[_0x5f46a0]-_0x189173[_0x5f46a0]:_0x189173[_0x5f46a0]-_0x2f029e[_0x5f46a0])['map'](_0x81dbec);}function _0x2ba531(_0x444efd,_0x286e76){_0x444efd['index']=_0x286e76;}function _0x81dbec(_0x3105be){return _0x3105be['index'];}function _0x259628(_0x53156d,_0x9affa7){const _0x1abfb1=[];_0x1abfb1[_0x9affa7[_0x53156d['length']-(-0x248a+-0x21bf+0xbb7*0x6)]]=_0x53156d[_0x9affa7[_0x53156d['length']-(-0x1f71*-0x1+0x2372+-0x42e2)]];for(let _0x5a1cd4=_0x53156d['length']-(0xdc6+0x12e6*-0x1+-0x49*-0x12);_0x5a1cd4>=-0x110b*-0x1+0x1138+0x31*-0xb3;--_0x5a1cd4)_0x1abfb1[_0x9affa7[_0x5a1cd4]]=_0x1abfb1[_0x9affa7[_0x5a1cd4+(-0x10*-0x55+-0x84e*-0x4+-0x2687)]]+_0x53156d[_0x9affa7[_0x5a1cd4]];return _0x1abfb1;}return _0x3e0d80;}const Hp={};Hp[pe]=ox(pe),Hp[Oe]=ox(Oe);class YR{['calculateL'+'ayout'](_0xb78695,_0x372317){const _0x19ac16=Hp[_0x372317['orientatio'+'n']];if(_0x19ac16)return _0x19ac16(_0xb78695,_0x372317);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x372317['orientatio'+'n']);}}function yg(_0x3ff688){return _0x3ff688['element'];}function KR(_0x5efa7a){return _0x5efa7a['enabled']&&_0x5efa7a['element']&&_0x5efa7a['element']['enabled'];}class lx extends ue{constructor(_0x88a2c4,_0x34c78a){super(_0x88a2c4,_0x34c78a),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0xb36+0x1092+-0x1bc7)),c(this,'_reverseY',!(-0x59+-0x1e1a+0x1e73)),c(this,'_alignment',new W(0x15c8+-0xefb+-0x6cd*0x1,-0x2b8+-0xd33+0xfec)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',pf),c(this,'_heightFit'+'ting',pf),c(this,'_wrap',!(0x1*-0x207e+0x1cd*0x7+-0x4*-0x4f9)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x34f4ea=>{this['_listenFor'+'ReflowEven'+'ts'](_0x34f4ea,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x88a2c4['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x88a2c4['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x88a2c4['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x88a2c4['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x88a2c4['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x88a2c4['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x2bb4c5){_0x2bb4c5!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x2bb4c5,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x4920d6){_0x4920d6!==this['_reverseX']&&(this['_reverseX']=_0x4920d6,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x45b7e2){_0x45b7e2!==this['_reverseY']&&(this['_reverseY']=_0x45b7e2,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x2022b8){_0x2022b8['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x2022b8),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x32377f){_0x32377f['equals'](this['_padding'])||(this['_padding']['copy'](_0x32377f),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x57337c){_0x57337c['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x57337c),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x229bcb){_0x229bcb!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x229bcb,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x45a56e){_0x45a56e!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x45a56e,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x4c3a56){_0x4c3a56!==this['_wrap']&&(this['_wrap']=_0x4c3a56,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x26c17c){return _0x26c17c===this['entity']||this['entity']['children']['indexOf'](_0x26c17c)!==-(-0x1d30+0x263c+0x1cf*-0x5);}['_listenFor'+'ReflowEven'+'ts'](_0x3b0f81,_0x1612d3){_0x3b0f81['element']&&(_0x3b0f81['element'][_0x1612d3]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x3b0f81['element'][_0x1612d3]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x3b0f81['element'][_0x1612d3]('resize',this['_scheduleR'+'eflow'],this),_0x3b0f81['element'][_0x1612d3]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x3b0f81['layoutchil'+'d']&&(_0x3b0f81['layoutchil'+'d'][_0x1612d3]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x3b0f81['layoutchil'+'d'][_0x1612d3]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x3e7d6f){this['_isSelfOrC'+'hild'](_0x3e7d6f)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x3e7d6f,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x775e26){this['_isSelfOrC'+'hild'](_0x775e26)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x775e26,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0xe15ebc){this['_listenFor'+'ReflowEven'+'ts'](_0xe15ebc,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x2fbf45){this['_listenFor'+'ReflowEven'+'ts'](_0x2fbf45,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x1dc680=yg(this['entity']),_0x5c8077=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x1dc680||_0x5c8077['length']===0x10f+-0x1d96+0x1c87*0x1)return;const _0x437cb=Math['max'](_0x1dc680['calculated'+'Width'],0x3*-0x849+-0xb1d*-0x3+-0x2*0x43e),_0x313c68=Math['max'](_0x1dc680['calculated'+'Height'],0x21f5+-0x6*0xe4+-0x1c9d),_0x5660b2={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x437cb,_0x313c68)};this['_isPerform'+'ingReflow']=!(-0x1345+0x16be+-0x379);const _0x3bc4ae=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x5c8077,_0x5660b2);this['_isPerform'+'ingReflow']=!(-0x11*-0x1fa+0x1678*0x1+-0x3811),this['fire']('reflow',_0x3bc4ae);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x4c2fa8=>{this['_listenFor'+'ReflowEven'+'ts'](_0x4c2fa8,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(-0xa83+-0x1a5*-0x4+0x1*0x3ef);}}const hx=['enabled'],QR=-0x1abf+0x25ec+-0xac9;class JR extends Xe{constructor(_0x401b57){super(_0x401b57),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x57eb16,_0x6f28b6,_0x4b50bf){_0x6f28b6['enabled']!==void(-0xc8f*-0x2+-0x5*-0x35+0x203*-0xd)&&(_0x57eb16['enabled']=_0x6f28b6['enabled']),_0x6f28b6['orientatio'+'n']!==void(-0x1*0x1f7f+0x254c+-0x5cd)&&(_0x57eb16['orientatio'+'n']=_0x6f28b6['orientatio'+'n']),_0x6f28b6['reverseX']!==void(0x1997+0x1b02+-0x3499)&&(_0x57eb16['reverseX']=_0x6f28b6['reverseX']),_0x6f28b6['reverseY']!==void(0x1421*0x1+-0xdcd*0x2+0x779)&&(_0x57eb16['reverseY']=_0x6f28b6['reverseY']),_0x6f28b6['alignment']!==void(0x214e*-0x1+-0x935*0x1+-0x1*-0x2a83)&&(_0x57eb16['alignment']=Array['isArray'](_0x6f28b6['alignment'])?new W(_0x6f28b6['alignment']):_0x6f28b6['alignment']),_0x6f28b6['padding']!==void(0x153f+-0x2c4+-0x127b)&&(_0x57eb16['padding']=Array['isArray'](_0x6f28b6['padding'])?new Q(_0x6f28b6['padding']):_0x6f28b6['padding']),_0x6f28b6['spacing']!==void(0x37*0xa9+0xfa3+-0x33f2)&&(_0x57eb16['spacing']=Array['isArray'](_0x6f28b6['spacing'])?new W(_0x6f28b6['spacing']):_0x6f28b6['spacing']),_0x6f28b6['widthFitti'+'ng']!==void(0x1d9d+0x1233+-0x24*0x154)&&(_0x57eb16['widthFitti'+'ng']=_0x6f28b6['widthFitti'+'ng']),_0x6f28b6['heightFitt'+'ing']!==void(0x1ed5+0xac6+-0x299b*0x1)&&(_0x57eb16['heightFitt'+'ing']=_0x6f28b6['heightFitt'+'ing']),_0x6f28b6['wrap']!==void(-0xbab+-0x5*-0x677+-0x14a8)&&(_0x57eb16['wrap']=_0x6f28b6['wrap']),super['initialize'+'ComponentD'+'ata'](_0x57eb16,_0x6f28b6,_0x4b50bf);}['cloneCompo'+'nent'](_0x3821a2,_0x50ea5c){const _0x5228d1=_0x3821a2['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x50ea5c,{'enabled':_0x5228d1['enabled'],'orientation':_0x5228d1['orientatio'+'n'],'reverseX':_0x5228d1['reverseX'],'reverseY':_0x5228d1['reverseY'],'alignment':_0x5228d1['alignment'],'padding':_0x5228d1['padding'],'spacing':_0x5228d1['spacing'],'widthFitting':_0x5228d1['widthFitti'+'ng'],'heightFitting':_0x5228d1['heightFitt'+'ing'],'wrap':_0x5228d1['wrap']});}['scheduleRe'+'flow'](_0x218a09){this['_reflowQue'+'ue']['indexOf'](_0x218a09)===-(0x1*-0x19d1+-0x1cc+-0xe*-0x1f9)&&this['_reflowQue'+'ue']['push'](_0x218a09);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x1*0x1079+0x1267+-0x22e0)return;let _0x1c7074=0x1308+-0xb29*-0x3+-0x1*0x3483;for(;this['_reflowQue'+'ue']['length']>-0x2*0xafd+-0x87d+0x1e77*0x1;){const _0x46f00a=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x587+-0x3*0x7d5+0x11f8,_0x46f00a['sort']((_0x170653,_0x2bf170)=>_0x170653['entity']['graphDepth']-_0x2bf170['entity']['graphDepth']);for(let _0x199212=0x148b+-0xce4+-0x3*0x28d;_0x199212<_0x46f00a['length'];++_0x199212)_0x46f00a[_0x199212]['reflow']();if(++_0x1c7074>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x17866a,_0x3b4cbc){_0x3b4cbc['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x334942){this['map']['forEach'](_0x4e3acf=>_0x4e3acf['mesh']['destroy']());}}const tI=new Bt(),cx=(_0x1068d8,_0x93e32)=>{const _0x3ba86f=tI['get'](_0x1068d8,()=>new eI());let _0x57f36e=_0x3ba86f['map']['get'](_0x93e32);if(!_0x57f36e){let _0x7583e1,_0x40c745;switch(_0x93e32){case'box':_0x7583e1=Ie['fromGeomet'+'ry'](_0x1068d8,new qu()),_0x40c745={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x14*0x76+0x8f9*0x1+0x41)/(0x1504+0x1315+-0x2816)};break;case'capsule':_0x7583e1=Ie['fromGeomet'+'ry'](_0x1068d8,new E1({'radius':0.5,'height':0x2})),_0x40c745={'x':Math['PI']*(-0x7*0x85+-0xd3c+0x1*0x10e1),'y':Math['PI'],'z':Math['PI']*(-0x259f+-0x1554+0x3af5),'uv':(-0x28b+-0x1d6e+0x1ffa)/(0x261f+0x107d+-0x3699)+(-0x1*0xb6c+-0x9ab+0x6*0x384)/(0x58f+-0x19e9*0x1+-0x145d*-0x1)/(-0x11*0x7d+0x1*-0x1837+-0x2087*-0x1)*(0x1856*-0x1+-0xb04+0x2*0x11ae)};break;case'cone':_0x7583e1=Ie['fromGeomet'+'ry'](_0x1068d8,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x40c745={'x':2.54,'y':2.54,'z':2.54,'uv':(0xa1e+0x1*-0x247d+-0x8*-0x34c)/(0x22ae+0x1*-0x1cc3+-0x5e8)+(0x1525+-0xaba+-0xa6a)/(0x1*-0x4a0+0x455*-0x3+0x25*0x7a)/(0x21f3+-0x1339*-0x1+-0x1*0x3529)};break;case'cylinder':_0x7583e1=Ie['fromGeomet'+'ry'](_0x1068d8,new P1({'radius':0.5,'height':0x1})),_0x40c745={'x':Math['PI'],'y':(0x4*0x228+0xe35*-0x1+0x1*0x595+0.79)*(-0x25*0xa3+-0x126a+0x29fb),'z':Math['PI'],'uv':(0x7c1*0x5+-0x2223+0xf*-0x4f)/(-0x1bb*0x9+0x136+0xe60)+(0xe*-0x235+-0x92*-0x16+0x125b)/(-0x2249+-0x3*0x15a+0x265a)/(-0x3*-0x2f1+-0x9*0x1f3+0x8bb)*(0x1014+0x684+-0x1696)};break;case'plane':_0x7583e1=Ie['fromGeomet'+'ry'](_0x1068d8,new R1({'halfExtents':new W(0x98a+0x209*-0x5+0xa3+0.5,-0xf2f+-0x4*-0x863+0x125d*-0x1+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x40c745={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x7583e1=Ie['fromGeomet'+'ry'](_0x1068d8,new B0({'radius':0.5})),_0x40c745={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x7583e1=Ie['fromGeomet'+'ry'](_0x1068d8,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x40c745={'x':Math['PI']*(-0x2*-0x1df+0x1d3*0x3+-0x937+0.5)*(-0xfcc+0x1a90+-0xac4+0.5)-Math['PI']*(-0x3ea*-0x4+0x9b3+-0x195b+0.1)*(-0x77*0xb+0x1bdc+-0x16bf+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x93e32);}_0x7583e1['incRefCoun'+'t'](),_0x57f36e={'mesh':_0x7583e1,'area':_0x40c745},_0x3ba86f['map']['set'](_0x93e32,_0x57f36e);}return _0x57f36e;};class dx extends ue{constructor(_0x5e0e4c,_0x5a59c1){super(_0x5e0e4c,_0x5a59c1),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0x617*0x4+0x2*-0xfd9+0x380e*0x1)),c(this,'_receiveSh'+'adows',!(0x2356+-0x1*0x1a88+-0x62*0x17)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0x5*-0x5f7+-0x2db+0x35f*-0x8)),c(this,'_lightmapp'+'ed',!(0x120f+0x16ab+0x825*-0x5)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0xd6d+-0x11a1*0x1+0x1f0f),c(this,'isStatic',!(-0xed6+0x8ff+0x5d8)),c(this,'_layers',[Oi]),c(this,'_batchGrou'+'pId',-(0x1*-0x106f+-0x46f+0x19b*0xd)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0x2ea*0xb+-0x127b+0x328a)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x5e0e4c['defaultMat'+'erial'],_0x5a59c1['on']('remove',this['onRemoveCh'+'ild'],this),_0x5a59c1['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x5a59c1['on']('insert',this['onInsertCh'+'ild'],this),_0x5a59c1['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x315376){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x315376);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0xc38020){if(this['_customAab'+'b']=_0xc38020,this['_model']){const _0x2836a3=this['_model']['meshInstan'+'ces'];if(_0x2836a3){for(let _0x2fe9e0=-0x4bb+0x1497+0x1*-0xfdc;_0x2fe9e0<_0x2836a3['length'];_0x2fe9e0++)_0x2836a3[_0x2fe9e0]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x3012d3){if(this['_type']!==_0x3012d3){if(this['_area']=null,this['_type']=_0x3012d3,_0x3012d3==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x2298df=cx(this['system']['app']['graphicsDe'+'vice'],_0x3012d3);this['_area']=_0x2298df['area'];const _0x1ec676=_0x2298df['mesh'],_0xe05d99=new De(),_0x5210e6=new Bi();_0x5210e6['graph']=_0xe05d99,_0x5210e6['meshInstan'+'ces']=[new Le(_0x1ec676,this['_material'],_0xe05d99)],this['model']=_0x5210e6,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x110865){const _0x2a9279=this['system']['app']['assets'];let _0x199e8b=_0x110865;if(_0x110865 instanceof le&&(_0x199e8b=_0x110865['id']),this['_asset']!==_0x199e8b){if(this['_asset']){_0x2a9279['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x5590db=_0x2a9279['get'](this['_asset']);_0x5590db&&this['_unbindMod'+'elAsset'](_0x5590db);}if(this['_asset']=_0x199e8b,this['_asset']){const _0x3d7d73=_0x2a9279['get'](this['_asset']);_0x3d7d73?this['_bindModel'+'Asset'](_0x3d7d73):(this['model']=null,_0x2a9279['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x3d2f1b){if(this['_model']!==_0x3d2f1b){if(_0x3d2f1b&&_0x3d2f1b['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0xd*0x2c5+0xe*-0x19f+-0x34*-0x121),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x2246+-0x1690+-0x1b*0x6f))),this['_model']=_0x3d2f1b,this['_model']){this['_model']['_immutable']=!(-0xac5+-0x120d*-0x2+0x1955*-0x1);const _0x2ce360=this['_model']['meshInstan'+'ces'];for(let _0x428eb9=-0x24cd+-0x1bbb+-0x811*-0x8;_0x428eb9<_0x2ce360['length'];_0x428eb9++)_0x2ce360[_0x428eb9]['castShadow']=this['_castShado'+'ws'],_0x2ce360[_0x428eb9]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x2ce360[_0x428eb9]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x45b0b9){if(_0x45b0b9!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x45b0b9,this['_model'])){const _0x46c340=this['_model']['meshInstan'+'ces'];for(let _0x5ab3d6=0x237f+0x131*-0xd+-0x1402;_0x5ab3d6<_0x46c340['length'];_0x5ab3d6++)_0x46c340[_0x5ab3d6]['setLightma'+'pped'](_0x45b0b9);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x24c51b){if(this['_castShado'+'ws']===_0x24c51b)return;const _0x17c545=this['_model'];if(_0x17c545){const _0xf0a4f4=this['layers'],_0x1d43e6=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x24c51b)for(let _0x4add44=-0x1*-0x1c07+0x12c7+-0x2ece;_0x4add44<_0xf0a4f4['length'];_0x4add44++){const _0x331106=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4add44]);_0x331106&&_0x331106['removeShad'+'owCasters'](_0x17c545['meshInstan'+'ces']);}const _0x17093d=_0x17c545['meshInstan'+'ces'];for(let _0xe9b65=0x856+0x2*0xedb+-0xa*0x3ce;_0xe9b65<_0x17093d['length'];_0xe9b65++)_0x17093d[_0xe9b65]['castShadow']=_0x24c51b;if(!this['_castShado'+'ws']&&_0x24c51b)for(let _0x4fbcdc=0xd2e+0xb+-0xd39;_0x4fbcdc<_0xf0a4f4['length'];_0x4fbcdc++){const _0x5274c5=_0x1d43e6['layers']['getLayerBy'+'Id'](_0xf0a4f4[_0x4fbcdc]);_0x5274c5&&_0x5274c5['addShadowC'+'asters'](_0x17c545['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x24c51b;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1bb944){if(this['_receiveSh'+'adows']!==_0x1bb944&&(this['_receiveSh'+'adows']=_0x1bb944,this['_model'])){const _0x2ffa85=this['_model']['meshInstan'+'ces'];for(let _0x139e2a=0x5af*0x1+-0xc*-0x32b+-0x2bb3,_0x384dac=_0x2ffa85['length'];_0x139e2a<_0x384dac;_0x139e2a++)_0x2ffa85[_0x139e2a]['receiveSha'+'dow']=_0x1bb944;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x33898e){this['_castShado'+'wsLightmap']=_0x33898e;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x1a6a0c){this['_lightmapS'+'izeMultipl'+'ier']=_0x1a6a0c;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x33b604){const _0x46d3e2=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x4df339=0xbf1*-0x1+-0x1e58+-0x5*-0x875;_0x4df339<this['_layers']['length'];_0x4df339++){const _0x5328e9=_0x46d3e2['getLayerBy'+'Id'](this['_layers'][_0x4df339]);_0x5328e9&&_0x5328e9['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0xc5b*0x1+0x4e9+0x772;for(let _0x10daab=0xdac+-0x21f8+-0xa26*-0x2;_0x10daab<_0x33b604['length'];_0x10daab++)this['_layers'][_0x10daab]=_0x33b604[_0x10daab];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x27a1e5=0x47d*-0x6+0x193f+0x1af*0x1;_0x27a1e5<this['_layers']['length'];_0x27a1e5++){const _0xef637a=_0x46d3e2['getLayerBy'+'Id'](this['_layers'][_0x27a1e5]);_0xef637a&&_0xef637a['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x147584){var _0x3090aa,_0x399023;this['_batchGrou'+'pId']!==_0x147584&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1*-0x531+0x22fa+-0x282b&&((_0x3090aa=this['system']['app']['batcher'])==null||_0x3090aa['remove'](Je['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x147584>=-0x23*-0x1c+0x1c40+-0x2014&&((_0x399023=this['system']['app']['batcher'])==null||_0x399023['insert'](Je['MODEL'],_0x147584,this['entity'])),_0x147584<0x9d5+0x2f+-0xa04&&this['_batchGrou'+'pId']>=-0x4*-0x517+-0x2329*0x1+-0x1*-0xecd&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x147584);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x590734){let _0x33b741=_0x590734;_0x590734 instanceof le&&(_0x33b741=_0x590734['id']);const _0x519014=this['system']['app']['assets'];if(_0x33b741!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x519014['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x14e020=_0x519014['get'](this['_materialA'+'sset']);_0x14e020&&this['_unbindMat'+'erialAsset'](_0x14e020);}if(this['_materialA'+'sset']=_0x33b741,this['_materialA'+'sset']){const _0x384dfc=_0x519014['get'](this['_materialA'+'sset']);_0x384dfc?this['_bindMater'+'ialAsset'](_0x384dfc):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x519014['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x1187c6){this['_material']!==_0x1187c6&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x1187c6));}get['material'](){return this['_material'];}set['mapping'](_0x203add){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x203add||(_0x203add={}),this['_mapping']=_0x203add,!this['_model']))return;const _0x358a1e=this['_model']['meshInstan'+'ces'],_0x1f4193=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x14b67c=_0x1f4193?_0x1f4193['data']['mapping']:null;let _0x139fbe=null;for(let _0x52625e=0x816+0xf1+0x907*-0x1,_0x8d5b4c=_0x358a1e['length'];_0x52625e<_0x8d5b4c;_0x52625e++)if(_0x203add[_0x52625e]!==void(-0xb*-0x35+-0x9af+-0x13c*-0x6))_0x203add[_0x52625e]?(_0x139fbe=this['system']['app']['assets']['get'](_0x203add[_0x52625e]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x139fbe,_0x358a1e[_0x52625e],_0x52625e)):_0x358a1e[_0x52625e]['material']=this['system']['defaultMat'+'erial'];else{if(_0x14b67c){if(_0x14b67c[_0x52625e]&&(_0x14b67c[_0x52625e]['material']||_0x14b67c[_0x52625e]['path'])){if(_0x14b67c[_0x52625e]['material']!==void(0x1d*-0xd9+0x1f*-0x5e+0x23f7))_0x139fbe=this['system']['app']['assets']['get'](_0x14b67c[_0x52625e]['material']);else{if(_0x14b67c[_0x52625e]['path']!==void(-0x1401*0x1+0x4b*0x5+-0x2a6*-0x7)){const _0x4bf1a8=this['_getMateri'+'alAssetUrl'](_0x14b67c[_0x52625e]['path']);_0x4bf1a8&&(_0x139fbe=this['system']['app']['assets']['getByUrl'](_0x4bf1a8));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x139fbe,_0x358a1e[_0x52625e],_0x52625e);}else _0x358a1e[_0x52625e]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x50012c=this['system']['app']['scene']['layers'];for(let _0x3999b2=-0x224e+-0x20ab*0x1+0x42f9;_0x3999b2<this['_layers']['length'];_0x3999b2++){const _0x2d0283=_0x50012c['getLayerBy'+'Id'](this['_layers'][_0x3999b2]);_0x2d0283&&_0x2d0283['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0xc9daa5=this['system']['app']['scene']['layers'];for(let _0x56fcad=0x5ea*-0x4+-0x2330+0x38*0x10d;_0x56fcad<this['_layers']['length'];_0x56fcad++){const _0x5456f1=_0xc9daa5['getLayerBy'+'Id'](this['_layers'][_0x56fcad]);_0x5456f1&&_0x5456f1['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x15b939,_0x90481){this['addModelTo'+'Layers'](),_0x15b939['off']('add',this['onLayerAdd'+'ed'],this),_0x15b939['off']('remove',this['onLayerRem'+'oved'],this),_0x90481['on']('add',this['onLayerAdd'+'ed'],this),_0x90481['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x303529){this['layers']['indexOf'](_0x303529['id'])<0x3*-0x73b+0x3*0x745+0xf*-0x2||_0x303529['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x413ae3){this['layers']['indexOf'](_0x413ae3['id'])<-0x1d41+0x21b2*0x1+-0x17b*0x3||_0x413ae3['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x172368,_0x25f1bc,_0x489733,_0x2b42c0){const _0x429595=_0x25f1bc+':'+_0x489733;this['system']['app']['assets']['on'](_0x429595,_0x2b42c0,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x172368]||(this['_materialE'+'vents'][_0x172368]={}),this['_materialE'+'vents'][_0x172368][_0x429595]={'id':_0x489733,'handler':_0x2b42c0};}['_unsetMate'+'rialEvents'](){const _0x350187=this['system']['app']['assets'],_0x3fc5da=this['_materialE'+'vents'];if(_0x3fc5da){for(let _0x2e66af=-0x12c8+0x3*0x5fe+-0x2*-0x67,_0x2a9971=_0x3fc5da['length'];_0x2e66af<_0x2a9971;_0x2e66af++){if(!_0x3fc5da[_0x2e66af])continue;const _0x496ed9=_0x3fc5da[_0x2e66af];for(const _0x476a71 in _0x496ed9)_0x350187['off'](_0x476a71,_0x496ed9[_0x476a71]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x58383e){let _0x4f9190=null;if(!isNaN(parseInt(_0x58383e,-0xb35+0x207a+0x153b*-0x1)))_0x4f9190=this['system']['app']['assets']['get'](_0x58383e);else{if(this['asset']){const _0x539a96=this['_getMateri'+'alAssetUrl'](_0x58383e);_0x539a96&&(_0x4f9190=this['system']['app']['assets']['getByUrl'](_0x539a96));}}return _0x4f9190;}['_getMateri'+'alAssetUrl'](_0x9087c9){if(!this['asset'])return null;const _0x43950b=this['system']['app']['assets']['get'](this['asset']);return _0x43950b?_0x43950b['getAbsolut'+'eUrl'](_0x9087c9):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2743bb,_0x4b7387,_0xb53e08){const _0xbb84df=this['system']['app']['assets'];_0x2743bb&&(_0x2743bb['resource']?(_0x4b7387['material']=_0x2743bb['resource'],this['_setMateri'+'alEvent'](_0xb53e08,'remove',_0x2743bb['id'],function(){_0x4b7387['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0xb53e08,'load',_0x2743bb['id'],function(_0x36af96){_0x4b7387['material']=_0x36af96['resource'],this['_setMateri'+'alEvent'](_0xb53e08,'remove',_0x2743bb['id'],function(){_0x4b7387['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0xbb84df['load'](_0x2743bb)));}['onEnable'](){var _0x196d7d;const _0x189183=this['system']['app'],_0x5c06c5=_0x189183['scene'],_0x275631=_0x5c06c5==null?void(-0x237e+0x88f+0x1aef):_0x5c06c5['layers'];this['_evtLayers'+'Changed']=_0x5c06c5['on']('set:layers',this['onLayersCh'+'anged'],this),_0x275631&&(this['_evtLayerA'+'dded']=_0x275631['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x275631['on']('remove',this['onLayerRem'+'oved'],this));const _0x6461b0=this['_type']==='asset';let _0x24e16e;if(this['_model']?this['addModelTo'+'Layers']():_0x6461b0&&this['_asset']&&(_0x24e16e=_0x189183['assets']['get'](this['_asset']),_0x24e16e&&_0x24e16e['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x24e16e)),this['_materialA'+'sset']&&(_0x24e16e=_0x189183['assets']['get'](this['_materialA'+'sset']),_0x24e16e&&_0x24e16e['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x24e16e)),_0x6461b0&&this['_mapping']){for(const _0x58be00 in this['_mapping'])this['_mapping'][_0x58be00]&&(_0x24e16e=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x58be00]),_0x24e16e&&!_0x24e16e['resource']&&_0x189183['assets']['load'](_0x24e16e));}this['_batchGrou'+'pId']>=0x1444+0xd3f*0x1+-0x2183*0x1&&((_0x196d7d=_0x189183['batcher'])==null||_0x196d7d['insert'](Je['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x487df7,_0x537207,_0x459521,_0x22efa8;const _0x97b126=this['system']['app'],_0x49c74a=_0x97b126['scene']['layers'];(_0x487df7=this['_evtLayers'+'Changed'])==null||_0x487df7['off'](),this['_evtLayers'+'Changed']=null,_0x49c74a&&((_0x537207=this['_evtLayerA'+'dded'])==null||_0x537207['off'](),this['_evtLayerA'+'dded']=null,(_0x459521=this['_evtLayerR'+'emoved'])==null||_0x459521['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0xea5+0x81*0x39+-0x2b5e&&((_0x22efa8=_0x97b126['batcher'])==null||_0x22efa8['remove'](Je['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x55e49d=this['_model']['meshInstan'+'ces'];for(let _0x2b0bbf=0x2410+-0x26ed+-0x2dd*-0x1,_0x161233=_0x55e49d['length'];_0x2b0bbf<_0x161233;_0x2b0bbf++)_0x55e49d[_0x2b0bbf]['visible']=!(-0x36d*0x3+-0x1a94+0x2*0x126e);}}['show'](){if(this['_model']){const _0x5e788b=this['_model']['meshInstan'+'ces'];for(let _0x2b8952=-0x14e9+0x1*-0x1e89+0x2*0x19b9,_0x5524ae=_0x5e788b['length'];_0x2b8952<_0x5524ae;_0x2b8952++)_0x5e788b[_0x2b8952]['visible']=!(-0x200d+0x3*0x6b5+0x1fd*0x6);}}['_bindMater'+'ialAsset'](_0x3f2242){if(_0x3f2242['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x3f2242['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x3f2242['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x3f2242['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x3f2242['resource'])this['_onMateria'+'lAssetLoad'](_0x3f2242);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3f2242);}}['_unbindMat'+'erialAsset'](_0x15c26a){_0x15c26a['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x15c26a['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x15c26a['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x15c26a['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x31d3a5){this['system']['app']['assets']['off']('add:'+_0x31d3a5['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x31d3a5['id']&&this['_bindMater'+'ialAsset'](_0x31d3a5);}['_onMateria'+'lAssetLoad'](_0x5ac3ce){this['_setMateri'+'al'](_0x5ac3ce['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x44f24a){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0xe53ea5){this['_onMateria'+'lAssetUnlo'+'ad'](_0xe53ea5);}['_onMateria'+'lAssetChan'+'ge'](_0x1b8755){}['_bindModel'+'Asset'](_0x198eaf){if(this['_unbindMod'+'elAsset'](_0x198eaf),_0x198eaf['on']('load',this['_onModelAs'+'setLoad'],this),_0x198eaf['on']('unload',this['_onModelAs'+'setUnload'],this),_0x198eaf['on']('change',this['_onModelAs'+'setChange'],this),_0x198eaf['on']('remove',this['_onModelAs'+'setRemove'],this),_0x198eaf['resource'])this['_onModelAs'+'setLoad'](_0x198eaf);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x198eaf);}}['_unbindMod'+'elAsset'](_0x24a9df){_0x24a9df['off']('load',this['_onModelAs'+'setLoad'],this),_0x24a9df['off']('unload',this['_onModelAs'+'setUnload'],this),_0x24a9df['off']('change',this['_onModelAs'+'setChange'],this),_0x24a9df['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x183131){this['system']['app']['assets']['off']('add:'+_0x183131['id'],this['_onModelAs'+'setAdded'],this),_0x183131['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x183131);}['_onModelAs'+'setLoad'](_0x14664e){this['model']=_0x14664e['resource']['clone'](),this['_clonedMod'+'el']=!(-0x1*0x20b9+0x3*-0x109+-0x1*-0x23d4);}['_onModelAs'+'setUnload'](_0x424219){this['model']=null;}['_onModelAs'+'setChange'](_0x3aa889,_0x5ca063,_0x15cb0d,_0x337076){_0x5ca063==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x23e6f5){this['model']=null;}['_setMateri'+'al'](_0x281a7e){if(this['_material']===_0x281a7e)return;this['_material']=_0x281a7e;const _0x498ac6=this['_model'];if(_0x498ac6&&this['_type']!=='asset'){const _0x61e54c=_0x498ac6['meshInstan'+'ces'];for(let _0x5a0ad4=-0x1df0+-0x1cc3+-0x3ab3*-0x1,_0x1ef267=_0x61e54c['length'];_0x5a0ad4<_0x1ef267;_0x5a0ad4++)_0x61e54c[_0x5a0ad4]['material']=_0x281a7e;}}}class sI{constructor(){this['enabled']=!(0xc19+0x12ef+0x1f08*-0x1);}}const ux=['enabled'];class iI extends Xe{constructor(_0x147622){super(_0x147622),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x147622['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x14c7b9,_0x2231b6,_0x26c313){_0x26c313=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x2231b6['batchGroup'+'Id']===null||_0x2231b6['batchGroup'+'Id']===void(-0x1f1+0x9f6+-0x805))&&(_0x2231b6['batchGroup'+'Id']=-(0xf72+-0xbea+-0x387)),_0x2231b6['layers']&&_0x2231b6['layers']['length']&&(_0x2231b6['layers']=_0x2231b6['layers']['slice'](-0x1*0x1b37+-0x5*-0x2e9+0xcaa));for(let _0x490ed0=0x5d8+-0xa71*0x2+0xf0a;_0x490ed0<_0x26c313['length'];_0x490ed0++)_0x2231b6['hasOwnProp'+'erty'](_0x26c313[_0x490ed0])&&(_0x14c7b9[_0x26c313[_0x490ed0]]=_0x2231b6[_0x26c313[_0x490ed0]]);_0x2231b6['aabbCenter']&&_0x2231b6['aabbHalfEx'+'tents']&&(_0x14c7b9['customAabb']=new _e(new T(_0x2231b6['aabbCenter']),new T(_0x2231b6['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x14c7b9,_0x2231b6,['enabled']);}['cloneCompo'+'nent'](_0x63bac0,_0x2003f2){const _0x4c608c={'type':_0x63bac0['model']['type'],'asset':_0x63bac0['model']['asset'],'castShadows':_0x63bac0['model']['castShadow'+'s'],'receiveShadows':_0x63bac0['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x63bac0['model']['castShadow'+'sLightmap'],'lightmapped':_0x63bac0['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x63bac0['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x63bac0['model']['isStatic'],'enabled':_0x63bac0['model']['enabled'],'layers':_0x63bac0['model']['layers'],'batchGroupId':_0x63bac0['model']['batchGroup'+'Id'],'mapping':bh({},_0x63bac0['model']['mapping'])};let _0xc18fd3=_0x63bac0['model']['materialAs'+'set'];!(_0xc18fd3 instanceof le)&&_0xc18fd3!=null&&(_0xc18fd3=this['app']['assets']['get'](_0xc18fd3));const _0x420124=_0x63bac0['model']['material'];(!_0x420124||_0x420124===this['defaultMat'+'erial']||!_0xc18fd3||_0x420124===_0xc18fd3['resource'])&&(_0x4c608c['materialAs'+'set']=_0xc18fd3);const _0xa83a58=this['addCompone'+'nt'](_0x2003f2,_0x4c608c);if(_0x63bac0['model']['model']&&_0x63bac0['model']['type']==='asset'&&!_0x63bac0['model']['asset']&&(_0xa83a58['model']=_0x63bac0['model']['model']['clone'](),_0xa83a58['_clonedMod'+'el']=!(0x11be+-0x4d2+-0x2*0x676)),_0x4c608c['materialAs'+'set']||(_0xa83a58['material']=_0x420124),_0x63bac0['model']['model']){const _0x247d96=_0x63bac0['model']['model']['meshInstan'+'ces'],_0x142bfe=_0xa83a58['model']['meshInstan'+'ces'];for(let _0x4e1129=0x12b4+0x36*-0x2b+-0x9a2;_0x4e1129<_0x247d96['length'];_0x4e1129++)_0x142bfe[_0x4e1129]['mask']=_0x247d96[_0x4e1129]['mask'],_0x142bfe[_0x4e1129]['material']=_0x247d96[_0x4e1129]['material'],_0x142bfe[_0x4e1129]['layer']=_0x247d96[_0x4e1129]['layer'],_0x142bfe[_0x4e1129]['receiveSha'+'dow']=_0x247d96[_0x4e1129]['receiveSha'+'dow'];}return _0x63bac0['model']['customAabb']&&(_0xa83a58['customAabb']=_0x63bac0['model']['customAabb']['clone']()),_0xa83a58;}['onRemove'](_0x122182,_0x4aee89){_0x4aee89['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Ql=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Wn;class oI extends ue{constructor(_0x30b483,_0x2ef91c){super(_0x30b483,_0x2ef91c),c(this,'_requested'+'Depth',!(0x253f+0x549+-0x2a87)),c(this,'_drawOrder',-0x2568+-0xac5*0x2+0x3*0x13a6),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x12b81f=>{this['on']('set_'+_0x12b81f,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x2c34a4=>{this['on']('set_'+_0x2c34a4,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x297841=>{this['on']('set_'+_0x297841,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x3250f3=this['system']['store'][this['entity']['getGuid']()];return _0x3250f3?_0x3250f3['data']:null;}set['enabled'](_0x458795){this['_setValue']('enabled',_0x458795);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x2bacb1){this['_setValue']('autoPlay',_0x2bacb1);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x870e32){this['_setValue']('numParticl'+'es',_0x870e32);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x1fcafd){this['_setValue']('lifetime',_0x1fcafd);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x222e8c){this['_setValue']('rate',_0x222e8c);}get['rate'](){return this['data']['rate'];}set['rate2'](_0xe7a9c5){this['_setValue']('rate2',_0xe7a9c5);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x3ff8fd){this['_setValue']('startAngle',_0x3ff8fd);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x32a3a0){this['_setValue']('startAngle'+'2',_0x32a3a0);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x47dcbd){this['_setValue']('loop',_0x47dcbd);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x434100){this['_setValue']('preWarm',_0x434100);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x3f0e69){this['_setValue']('lighting',_0x3f0e69);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x39b463){this['_setValue']('halfLamber'+'t',_0x39b463);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x297790){this['_setValue']('intensity',_0x297790);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0xe6a62b){this['_setValue']('depthWrite',_0xe6a62b);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x2e4eff){this['_setValue']('noFog',_0x2e4eff);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x57b63a){this['_setValue']('depthSofte'+'ning',_0x57b63a);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x1f37f6){this['_setValue']('sort',_0x1f37f6);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x1006d3){this['_setValue']('blendType',_0x1006d3);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x2d27a8){this['_setValue']('stretch',_0x2d27a8);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0xd815d6){this['_setValue']('alignToMot'+'ion',_0xd815d6);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x55af9a){this['_setValue']('emitterSha'+'pe',_0x55af9a);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x4f1fa5){this['_setValue']('emitterExt'+'ents',_0x4f1fa5);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x26f5ea){this['_setValue']('emitterExt'+'entsInner',_0x26f5ea);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x3c7e39){this['_setValue']('emitterRad'+'ius',_0x3c7e39);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x4dd283){this['_setValue']('emitterRad'+'iusInner',_0x4dd283);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x4cb21d){this['_setValue']('initialVel'+'ocity',_0x4cb21d);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x547513){this['_setValue']('wrap',_0x547513);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0xc312d1){this['_setValue']('wrapBounds',_0xc312d1);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x34d3d5){this['_setValue']('localSpace',_0x34d3d5);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x186f63){this['_setValue']('screenSpac'+'e',_0x186f63);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x18d3b8){this['_setValue']('colorMapAs'+'set',_0x18d3b8);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x358681){this['_setValue']('normalMapA'+'sset',_0x358681);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x47f1a0){this['_setValue']('mesh',_0x47f1a0);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x44ec1d){this['_setValue']('meshAsset',_0x44ec1d);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x44ac1f){this['_setValue']('renderAsse'+'t',_0x44ac1f);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x31cb11){this['_setValue']('orientatio'+'n',_0x31cb11);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x3a6fc0){this['_setValue']('particleNo'+'rmal',_0x3a6fc0);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x507505){this['_setValue']('localVeloc'+'ityGraph',_0x507505);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x2143af){this['_setValue']('localVeloc'+'ityGraph2',_0x2143af);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x4249b5){this['_setValue']('velocityGr'+'aph',_0x4249b5);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x4a01bf){this['_setValue']('velocityGr'+'aph2',_0x4a01bf);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x3bae72){this['_setValue']('rotationSp'+'eedGraph',_0x3bae72);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x2661b8){this['_setValue']('rotationSp'+'eedGraph2',_0x2661b8);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x137640){this['_setValue']('radialSpee'+'dGraph',_0x137640);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x5597c0){this['_setValue']('radialSpee'+'dGraph2',_0x5597c0);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x46d746){this['_setValue']('scaleGraph',_0x46d746);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x40e71b){this['_setValue']('scaleGraph'+'2',_0x40e71b);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x178241){this['_setValue']('colorGraph',_0x178241);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x4e2988){this['_setValue']('colorGraph'+'2',_0x4e2988);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x5c5e35){this['_setValue']('alphaGraph',_0x5c5e35);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x26a56b){this['_setValue']('alphaGraph'+'2',_0x26a56b);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x39b95d){this['_setValue']('colorMap',_0x39b95d);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x1b50f9){this['_setValue']('normalMap',_0x1b50f9);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x59cc7b){this['_setValue']('animTilesX',_0x59cc7b);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x27f678){this['_setValue']('animTilesY',_0x27f678);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x548592){this['_setValue']('animStartF'+'rame',_0x548592);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x1227d2){this['_setValue']('animNumFra'+'mes',_0x1227d2);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4c2108){this['_setValue']('animNumAni'+'mations',_0x4c2108);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x1c5aca){this['_setValue']('animIndex',_0x1c5aca);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x566334){this['_setValue']('randomizeA'+'nimIndex',_0x566334);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x1d6ae6){this['_setValue']('animSpeed',_0x1d6ae6);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x2d8b0e){this['_setValue']('animLoop',_0x2d8b0e);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x1a2558){this['_setValue']('layers',_0x1a2558);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x4a2617){this['_drawOrder']=_0x4a2617,this['emitter']&&(this['emitter']['drawOrder']=_0x4a2617);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x16cdf9,_0x237044){const _0x3a7201=this['data'],_0x4b5f49=_0x3a7201[_0x16cdf9];_0x3a7201[_0x16cdf9]=_0x237044,this['fire']('set',_0x16cdf9,_0x4b5f49,_0x237044);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x312dbe=0xd*-0x76+-0x794+-0x9*-0x182;_0x312dbe<this['layers']['length'];_0x312dbe++){const _0x4ab8f9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x312dbe]);_0x4ab8f9&&(_0x4ab8f9['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x4ab8f9);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x415b44=-0x1539+0x13*-0x1b3+0x3*0x11d6;_0x415b44<this['layers']['length'];_0x415b44++){const _0x92b1b6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x415b44]);_0x92b1b6&&_0x92b1b6['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x156abe,_0x38237f,_0x10fc08){if(this['emitter']){for(let _0x4fe503=0x7df+0x2*0xf87+-0x7c9*0x5;_0x4fe503<_0x38237f['length'];_0x4fe503++){const _0xa08960=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x38237f[_0x4fe503]);_0xa08960&&_0xa08960['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x91efa9=0x1*-0xddf+0x1b*0x56+0x4cd;_0x91efa9<_0x10fc08['length'];_0x91efa9++){const _0x562b27=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x10fc08[_0x91efa9]);_0x562b27&&_0x562b27['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x46a40d,_0x51e73f){this['addMeshIns'+'tanceToLay'+'ers'](),_0x46a40d['off']('add',this['onLayerAdd'+'ed'],this),_0x46a40d['off']('remove',this['onLayerRem'+'oved'],this),_0x51e73f['on']('add',this['onLayerAdd'+'ed'],this),_0x51e73f['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x48af98){!this['emitter']||this['layers']['indexOf'](_0x48af98['id'])<-0xb2f+0x83d+0x3a*0xd||_0x48af98['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x2c1fcf){!this['emitter']||this['layers']['indexOf'](_0x2c1fcf['id'])<-0x7*0x157+0x2295+0x4*-0x64d||_0x2c1fcf['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x361392){if(_0x361392['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x361392['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x361392['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x361392['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x361392['resource'])this['_onColorMa'+'pAssetLoad'](_0x361392);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x361392);}}['_unbindCol'+'orMapAsset'](_0x40d352){_0x40d352['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x40d352['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x40d352['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x40d352['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x2269aa){this['colorMap']=_0x2269aa['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x1bf89b){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x241c37){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x241c37);}['_onColorMa'+'pAssetChan'+'ge'](_0x12dc6b){}['onSetColor'+'MapAsset'](_0x25f7b6,_0x3121a4,_0x57c47e){const _0x2d3809=this['system']['app']['assets'];if(_0x3121a4){const _0x13f952=_0x2d3809['get'](_0x3121a4);_0x13f952&&this['_unbindCol'+'orMapAsset'](_0x13f952);}if(_0x57c47e){_0x57c47e instanceof le&&(this['data']['colorMapAs'+'set']=_0x57c47e['id'],_0x57c47e=_0x57c47e['id']);const _0x1c4e5a=_0x2d3809['get'](_0x57c47e);_0x1c4e5a?this['_bindColor'+'MapAsset'](_0x1c4e5a):_0x2d3809['once']('add:'+_0x57c47e,_0x5ed7e4=>{this['_bindColor'+'MapAsset'](_0x5ed7e4);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0xfc785f){if(_0xfc785f['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0xfc785f['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0xfc785f['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0xfc785f['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0xfc785f['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0xfc785f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xfc785f);}}['_unbindNor'+'malMapAsse'+'t'](_0x38a624){_0x38a624['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x38a624['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x38a624['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x38a624['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x4fe951){this['normalMap']=_0x4fe951['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x5969d9){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x37df08){this['_onNormalM'+'apAssetUnl'+'oad'](_0x37df08);}['_onNormalM'+'apAssetCha'+'nge'](_0x50123a){}['onSetNorma'+'lMapAsset'](_0x36ad40,_0x288b16,_0x313617){const _0x4d2dd5=this['system']['app']['assets'];if(_0x288b16){const _0x5e6e89=_0x4d2dd5['get'](_0x288b16);_0x5e6e89&&this['_unbindNor'+'malMapAsse'+'t'](_0x5e6e89);}if(_0x313617){_0x313617 instanceof le&&(this['data']['normalMapA'+'sset']=_0x313617['id'],_0x313617=_0x313617['id']);const _0x5e5d8f=_0x4d2dd5['get'](_0x313617);_0x5e5d8f?this['_bindNorma'+'lMapAsset'](_0x5e5d8f):_0x4d2dd5['once']('add:'+_0x313617,_0x28b815=>{this['_bindNorma'+'lMapAsset'](_0x28b815);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x11155c){if(_0x11155c['on']('load',this['_onMeshAss'+'etLoad'],this),_0x11155c['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x11155c['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x11155c['on']('change',this['_onMeshAss'+'etChange'],this),_0x11155c['resource'])this['_onMeshAss'+'etLoad'](_0x11155c);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x11155c);}}['_unbindMes'+'hAsset'](_0x2e362e){_0x2e362e['off']('load',this['_onMeshAss'+'etLoad'],this),_0x2e362e['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x2e362e['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x2e362e['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x1dc473){this['_onMeshCha'+'nged'](_0x1dc473['resource']);}['_onMeshAss'+'etUnload'](_0x1b6e5b){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x3dbf6e){this['_onMeshAss'+'etUnload'](_0x3dbf6e);}['_onMeshAss'+'etChange'](_0x2e5ff9){}['onSetMeshA'+'sset'](_0x52d67f,_0x358fb7,_0x4f113e){const _0x489ad6=this['system']['app']['assets'];if(_0x358fb7){const _0xb6a2b=_0x489ad6['get'](_0x358fb7);_0xb6a2b&&this['_unbindMes'+'hAsset'](_0xb6a2b);}if(_0x4f113e){_0x4f113e instanceof le&&(this['data']['meshAsset']=_0x4f113e['id'],_0x4f113e=_0x4f113e['id']);const _0x17e2fb=_0x489ad6['get'](_0x4f113e);_0x17e2fb&&this['_bindMeshA'+'sset'](_0x17e2fb);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x951364,_0x4191d8,_0x2e3183){!_0x2e3183||_0x2e3183 instanceof le||typeof _0x2e3183=='number'?this['meshAsset']=_0x2e3183:this['_onMeshCha'+'nged'](_0x2e3183);}['_onMeshCha'+'nged'](_0x26a365){_0x26a365&&!(_0x26a365 instanceof Ie)&&(_0x26a365['meshInstan'+'ces'][0x1b6c+0x42c+-0x1f98]?_0x26a365=_0x26a365['meshInstan'+'ces'][-0x2*-0x647+-0x1fe0+0x1352]['mesh']:_0x26a365=null),this['data']['mesh']=_0x26a365,this['emitter']&&(this['emitter']['mesh']=_0x26a365,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x57cf0a,_0x128d74,_0x18a43f){const _0x567434=this['system']['app']['assets'];if(_0x128d74){const _0x4bd491=_0x567434['get'](_0x128d74);_0x4bd491&&this['_unbindRen'+'derAsset'](_0x4bd491);}if(_0x18a43f){_0x18a43f instanceof le&&(this['data']['renderAsse'+'t']=_0x18a43f['id'],_0x18a43f=_0x18a43f['id']);const _0x38b705=_0x567434['get'](_0x18a43f);_0x38b705&&this['_bindRende'+'rAsset'](_0x38b705);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x314047){if(_0x314047['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x314047['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x314047['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x314047['resource'])this['_onRenderA'+'ssetLoad'](_0x314047);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x314047);}}['_unbindRen'+'derAsset'](_0x20c64c){var _0x5df946;_0x20c64c['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x20c64c['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x20c64c['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x5df946=this['_evtSetMes'+'hes'])==null||_0x5df946['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x5df6d9){this['_onRenderC'+'hanged'](_0x5df6d9['resource']);}['_onRenderA'+'ssetUnload'](_0x8ca510){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x595f19){this['_onRenderA'+'ssetUnload'](_0x595f19);}['_onRenderC'+'hanged'](_0x2c1433){var _0x3f0811;if(!_0x2c1433){this['_onMeshCha'+'nged'](null);return;}(_0x3f0811=this['_evtSetMes'+'hes'])==null||_0x3f0811['off'](),this['_evtSetMes'+'hes']=_0x2c1433['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x2c1433['meshes']&&this['_onRenderS'+'etMeshes'](_0x2c1433['meshes']);}['_onRenderS'+'etMeshes'](_0x156ed9){this['_onMeshCha'+'nged'](_0x156ed9&&_0x156ed9[-0x206c+-0x1041*-0x1+0x102b]);}['onSetLoop'](_0x20fb69,_0x4bb63b,_0x46ae9f){this['emitter']&&(this['emitter'][_0x20fb69]=_0x46ae9f,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x4a5cb5,_0x2939f8,_0x540b9f){this['emitter']&&(this['emitter'][_0x4a5cb5]=_0x540b9f,this['emitter']['material']['blendType']=_0x540b9f,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Wn||(Wn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Yt)),Wn&&(Wn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x2453+0x1c03*0x1+-0x4056)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Wn&&(Wn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1c1*-0x11+0x1685+0x74d));}['onSetDepth'+'Softening'](_0x45f213,_0x10e4bf,_0xb0c6eb){_0x10e4bf!==_0xb0c6eb&&(_0xb0c6eb?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x45f213]=_0xb0c6eb)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x45f213]=_0xb0c6eb)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x3aa35b,_0x43998f,_0xe82587){this['emitter']&&(this['emitter'][_0x3aa35b]=_0xe82587,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x22f63c,_0x32e4b9,_0x127893){this['emitter']&&(this['emitter'][_0x22f63c]=_0x127893,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x2b2ed9,_0x55e56e,_0x3f7f5e){this['emitter']&&(this['emitter'][_0x2b2ed9]=_0x3f7f5e,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x45ca41=this['system']['app']['scene'],_0x56eb3e=_0x45ca41['layers'],_0x2e6b4d=this['data'];for(let _0x3e78e7=-0x1*-0x19e9+-0x139d+0xd*-0x7c,_0x5e0f77=Ql['length'];_0x3e78e7<_0x5e0f77;_0x3e78e7++){let _0x109edd=_0x2e6b4d[Ql[_0x3e78e7]];if(_0x109edd){if(!(_0x109edd instanceof le)){if(parseInt(_0x109edd,0x1236+0x1*0xaa+-0x12d6)>=-0xd03*-0x1+0x571*0x3+-0x2ef*0xa)_0x109edd=this['system']['app']['assets']['get'](_0x109edd);else continue;}_0x109edd&&!_0x109edd['resource']&&this['system']['app']['assets']['load'](_0x109edd);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x3be2c5=_0x2e6b4d['mesh'];_0x3be2c5 instanceof Ie||(_0x3be2c5=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x2e6b4d['numParticl'+'es'],'emitterExtents':_0x2e6b4d['emitterExt'+'ents'],'emitterExtentsInner':_0x2e6b4d['emitterExt'+'entsInner'],'emitterRadius':_0x2e6b4d['emitterRad'+'ius'],'emitterRadiusInner':_0x2e6b4d['emitterRad'+'iusInner'],'emitterShape':_0x2e6b4d['emitterSha'+'pe'],'initialVelocity':_0x2e6b4d['initialVel'+'ocity'],'wrap':_0x2e6b4d['wrap'],'localSpace':_0x2e6b4d['localSpace'],'screenSpace':_0x2e6b4d['screenSpac'+'e'],'wrapBounds':_0x2e6b4d['wrapBounds'],'lifetime':_0x2e6b4d['lifetime'],'rate':_0x2e6b4d['rate'],'rate2':_0x2e6b4d['rate2'],'orientation':_0x2e6b4d['orientatio'+'n'],'particleNormal':_0x2e6b4d['particleNo'+'rmal'],'animTilesX':_0x2e6b4d['animTilesX'],'animTilesY':_0x2e6b4d['animTilesY'],'animStartFrame':_0x2e6b4d['animStartF'+'rame'],'animNumFrames':_0x2e6b4d['animNumFra'+'mes'],'animNumAnimations':_0x2e6b4d['animNumAni'+'mations'],'animIndex':_0x2e6b4d['animIndex'],'randomizeAnimIndex':_0x2e6b4d['randomizeA'+'nimIndex'],'animSpeed':_0x2e6b4d['animSpeed'],'animLoop':_0x2e6b4d['animLoop'],'startAngle':_0x2e6b4d['startAngle'],'startAngle2':_0x2e6b4d['startAngle'+'2'],'scaleGraph':_0x2e6b4d['scaleGraph'],'scaleGraph2':_0x2e6b4d['scaleGraph'+'2'],'colorGraph':_0x2e6b4d['colorGraph'],'colorGraph2':_0x2e6b4d['colorGraph'+'2'],'alphaGraph':_0x2e6b4d['alphaGraph'],'alphaGraph2':_0x2e6b4d['alphaGraph'+'2'],'localVelocityGraph':_0x2e6b4d['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x2e6b4d['localVeloc'+'ityGraph2'],'velocityGraph':_0x2e6b4d['velocityGr'+'aph'],'velocityGraph2':_0x2e6b4d['velocityGr'+'aph2'],'rotationSpeedGraph':_0x2e6b4d['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x2e6b4d['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x2e6b4d['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x2e6b4d['radialSpee'+'dGraph2'],'colorMap':_0x2e6b4d['colorMap'],'normalMap':_0x2e6b4d['normalMap'],'loop':_0x2e6b4d['loop'],'preWarm':_0x2e6b4d['preWarm'],'sort':_0x2e6b4d['sort'],'stretch':_0x2e6b4d['stretch'],'alignToMotion':_0x2e6b4d['alignToMot'+'ion'],'lighting':_0x2e6b4d['lighting'],'halfLambert':_0x2e6b4d['halfLamber'+'t'],'intensity':_0x2e6b4d['intensity'],'depthSoftening':_0x2e6b4d['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x3be2c5,'depthWrite':_0x2e6b4d['depthWrite'],'noFog':_0x2e6b4d['noFog'],'node':this['entity'],'blendType':_0x2e6b4d['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x2e6b4d['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x9ee+0x17eb+-0xdfc));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x45ca41['on']('set:layers',this['onLayersCh'+'anged'],this),_0x56eb3e&&(this['_evtLayerA'+'dded']=_0x56eb3e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x56eb3e['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x2e6b4d['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x24277d,_0x232543,_0x55c8b6;const _0x2b2ec2=this['system']['app']['scene']['layers'];(_0x24277d=this['_evtLayers'+'Changed'])==null||_0x24277d['off'](),this['_evtLayers'+'Changed']=null,_0x2b2ec2&&((_0x232543=this['_evtLayerA'+'dded'])==null||_0x232543['off'](),this['_evtLayerA'+'dded']=null,(_0x55c8b6=this['_evtLayerR'+'emoved'])==null||_0x55c8b6['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x1*0x20c6+-0x16af+0x2*0x1bbb)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x1eb0f6=-0x1d*-0x57+0x2*0x6ce+0x1777*-0x1;_0x1eb0f6<Ql['length'];_0x1eb0f6++){const _0x252d35=Ql[_0x1eb0f6];this['data'][_0x252d35]&&(this[_0x252d35]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x267f+0x107*0x10+-0x161*-0x10),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x18c3+0x1*0x637+0x4a3*0x4,!(-0x2*-0x975+0x1*-0x1b1+-0x1139)));}['pause'](){this['data']['paused']=!(-0x64d*-0x5+0x1a62+-0x39e3);}['unpause'](){this['data']['paused']=!(-0x1ece+-0x21b9+-0xec*-0x46);}['play'](){this['data']['paused']=!(0x1bb8+-0x1*-0x1349+0x2f*-0x100),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0xa95+0x19a3*-0x1+0x2438),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x2*-0x11a5+0x3*-0x7b6+-0xc27):this['emitter']&&this['emitter']['loop']?!(0x78e+0x35*0x39+0x3df*-0x5):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0xa67784}=this;_0xa67784&&!_0xa67784['inTools']&&(_0xa67784['inTools']=!(0x26a0+-0x373*0xa+0x17*-0x2e),this['rebuild']());}['rebuild'](){const _0x2e3008=this['enabled'];this['enabled']=!(-0x4f*-0x3f+-0x15a2+0x2*0x119),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x2e3008;}}class lI{constructor(){this['numParticl'+'es']=0xc*-0x111+0x6*-0x3a4+0x22a5,this['rate']=0x2612+-0xb*0x29f+-0xc5*0xc,this['rate2']=null,this['startAngle']=-0x22d6+0x1*0x1d3+0x2103,this['startAngle'+'2']=null,this['lifetime']=-0x320+0x6*0x4e1+0x2c*-0x97,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=-0xccd*0x1+0x60*-0x1+0xd2d,this['emitterRad'+'iusInner']=0x1cf3+-0x63*-0xf+-0x22c0,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0x11*-0x1bd+-0xee*0x26+-0x11*-0x57,this['wrap']=!(0x2154+0x320*0x4+-0x2dd3*0x1),this['wrapBounds']=new T(),this['localSpace']=!(-0xf17*-0x1+0x142e+-0x3d*0x94),this['screenSpac'+'e']=!(-0x28*0x54+0x7da+-0x7*-0xc1),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x2514+0x3*-0xabb+0x4545),this['preWarm']=!(0xddc+0xbc5+-0x19a0),this['sort']=-0x3*0x167+0x1fb+0x23a,this['mode']=d0,this['scene']=null,this['lighting']=!(-0x1a69+-0x725*-0x5+-0x94f),this['halfLamber'+'t']=!(0xa2f+0x2300+0x1*-0x2d2e),this['intensity']=-0x8a*0x20+-0x3e*-0x44+-0xc9*-0x1,this['stretch']=-0xeb9*0x2+0x1*-0x1d5f+0x3ad1,this['alignToMot'+'ion']=!(0xac8+-0x54*-0x52+-0x25af),this['depthSofte'+'ning']=0xef3+0x12f3+-0x21e6,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x1*-0x12f1+-0x1*-0x17cb+0x4d9*-0x1),this['noFog']=!(0x7da+-0xe5d+0x684),this['orientatio'+'n']=Vh,this['particleNo'+'rmal']=new T(-0xb2*-0x2f+-0x219b+0x4f*0x3,-0x14e8+-0x1154+0x263d,0x360*-0x4+0x1b*0x101+0x81*-0x1b),this['animTilesX']=0x1c5*-0x7+-0x1516+0x217a,this['animTilesY']=-0x426*-0x8+-0x1dd1+-0x35e,this['animStartF'+'rame']=-0x23a4+-0x1986+-0x3d2a*-0x1,this['animNumFra'+'mes']=0x2003+-0x303+0x1*-0x1cff,this['animNumAni'+'mations']=0x1123+0x3*-0x8b1+0x147*0x7,this['animIndex']=0x868*0x1+0x2552+-0x2dba,this['randomizeA'+'nimIndex']=!(-0x78a+-0x75*0x3f+0x2456),this['animSpeed']=-0xf94+0x213e+-0x11a9,this['animLoop']=!(0x16f3+0x103c+0x272f*-0x1),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Ot,this['enabled']=!(0xa*-0x30e+0x17c9*-0x1+0x3655),this['paused']=!(0x2580+-0x93*-0x3d+-0x4886),this['autoPlay']=!(0xc6d*-0x3+-0x2d*0x5a+0x3519),this['layers']=[Oi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x2c5fee){super(_0x2c5fee),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4500ca,_0x3bfede,_0x4b88ee){const _0x52752b={};_0x4b88ee=[];const _0x393e65=this['propertyTy'+'pes'];(_0x3bfede['mesh']instanceof le||typeof _0x3bfede['mesh']=='number')&&(_0x3bfede['meshAsset']=_0x3bfede['mesh'],delete _0x3bfede['mesh']);for(const _0x7df90f in _0x3bfede){if(_0x3bfede['hasOwnProp'+'erty'](_0x7df90f)&&(_0x4b88ee['push'](_0x7df90f),_0x52752b[_0x7df90f]=_0x3bfede[_0x7df90f]),_0x393e65[_0x7df90f]==='vec3')Array['isArray'](_0x52752b[_0x7df90f])&&(_0x52752b[_0x7df90f]=new T(_0x52752b[_0x7df90f][0x2*-0xd1e+0xf*-0x15d+0x275*0x13],_0x52752b[_0x7df90f][-0x5*-0x661+-0x1cf1+-0x2f3],_0x52752b[_0x7df90f][0xf1*0x1+0x209f+-0x218e]));else{if(_0x393e65[_0x7df90f]==='curve'){if(!(_0x52752b[_0x7df90f]instanceof Ps)){const _0xe24a37=_0x52752b[_0x7df90f]['type'];_0x52752b[_0x7df90f]=new Ps(_0x52752b[_0x7df90f]['keys']),_0x52752b[_0x7df90f]['type']=_0xe24a37;}}else{if(_0x393e65[_0x7df90f]==='curveset'&&!(_0x52752b[_0x7df90f]instanceof jr)){const _0x2e3a24=_0x52752b[_0x7df90f]['type'];_0x52752b[_0x7df90f]=new jr(_0x52752b[_0x7df90f]['keys']),_0x52752b[_0x7df90f]['type']=_0x2e3a24;}}}_0x52752b['layers']&&Array['isArray'](_0x52752b['layers'])&&(_0x52752b['layers']=_0x52752b['layers']['slice'](-0x2124+-0x611*0x1+0x2735*0x1));}super['initialize'+'ComponentD'+'ata'](_0x4500ca,_0x52752b,_0x4b88ee);}['cloneCompo'+'nent'](_0x298659,_0x15d4fc){const _0x4ca976=_0x298659['particlesy'+'stem']['data'],_0x2fd962=this['schema'],_0x5f3c30={};for(let _0x1e368a=-0x1697+0x10b*-0x12+0x295d,_0x137fe1=_0x2fd962['length'];_0x1e368a<_0x137fe1;_0x1e368a++){const _0x32afdc=_0x2fd962[_0x1e368a];let _0x410136=_0x4ca976[_0x32afdc];_0x410136 instanceof T||_0x410136 instanceof Ps||_0x410136 instanceof jr?(_0x410136=_0x410136['clone'](),_0x5f3c30[_0x32afdc]=_0x410136):_0x32afdc==='layers'?_0x5f3c30['layers']=_0x4ca976['layers']['slice'](-0x22e7+0x10ee+0x11f9):_0x410136!=null&&(_0x5f3c30[_0x32afdc]=_0x410136);}return this['addCompone'+'nt'](_0x15d4fc,_0x5f3c30);}['onUpdate'](_0xa9b50d){const _0x301b71=this['store'];let _0xed9d52;const _0x3da178=this['app']['stats']['particles'],_0x3024ac=this['app']['scene']['layers'];for(let _0x2abc14=0x2*0xc7+-0x42a+0x14e*0x2;_0x2abc14<_0x3024ac['layerList']['length'];_0x2abc14++)_0x3024ac['layerList'][_0x2abc14]['requiresLi'+'ghtCube']=!(0x1ab*0x3+0xe4+-0x5e4);for(const _0x2502fc in _0x301b71)if(_0x301b71['hasOwnProp'+'erty'](_0x2502fc)){const _0x4c39fa=_0x301b71[_0x2502fc],_0x6c4ee5=_0x4c39fa['entity'],_0x14e5d4=_0x4c39fa['data'];if(_0x14e5d4['enabled']&&_0x6c4ee5['enabled']){const _0x3c87e7=_0x6c4ee5['particlesy'+'stem']['emitter'];if(!(_0x3c87e7!=null&&_0x3c87e7['meshInstan'+'ce']['visible']))continue;if(_0x3c87e7['lighting']){const _0x36b780=_0x14e5d4['layers'];for(let _0x40e6b6=-0x2*-0x108d+-0x376+-0x1da4;_0x40e6b6<_0x36b780['length'];_0x40e6b6++){const _0x57199e=_0x3024ac['getLayerBy'+'Id'](_0x36b780[_0x40e6b6]);_0x57199e&&(_0x57199e['requiresLi'+'ghtCube']=!(0x437+0x25ee+-0x2a25*0x1));}}if(!_0x14e5d4['paused']){if(_0x3c87e7['simTime']+=_0xa9b50d,_0x3c87e7['simTime']>_0x3c87e7['fixedTimeS'+'tep']&&(_0xed9d52=Math['floor'](_0x3c87e7['simTime']/_0x3c87e7['fixedTimeS'+'tep']),_0x3c87e7['simTime']-=_0xed9d52*_0x3c87e7['fixedTimeS'+'tep']),_0xed9d52){_0xed9d52=Math['min'](_0xed9d52,_0x3c87e7['maxSubStep'+'s']);for(let _0xa89f30=-0xa*0x1e5+-0xc6b*-0x2+-0x5e4;_0xa89f30<_0xed9d52;_0xa89f30++)_0x3c87e7['addTime'](_0x3c87e7['fixedTimeS'+'tep'],!(-0x1*0x1e73+-0x205e+0x3ed2));_0x3da178['_updatesPe'+'rFrame']+=_0xed9d52,_0x3da178['_frameTime']+=_0x3c87e7['_addTimeTi'+'me'],_0x3c87e7['_addTimeTi'+'me']=-0xbe3+-0x37c*-0x1+0x867;}_0x3c87e7['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x2492eb,_0x43cd1e){_0x43cd1e['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Hc{constructor(_0x253809,_0x10f5e4){super(),this['skin']=_0x253809,this['skinInstan'+'ce']=_0x10f5e4;}}const Ts=class Ts{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Ts['_skinInsta'+'nceCache']['forEach']((_0x31b816,_0x208c61)=>{console['log'](_0x208c61['name']+':\x20Array('+_0x31b816['length']+')');for(let _0x35b6b8=0x5*-0x167+-0x46e+-0xb71*-0x1;_0x35b6b8<_0x31b816['length'];_0x35b6b8++)console['log']('\x20\x20'+_0x35b6b8+(':\x20RefCount'+'\x20')+_0x31b816[_0x35b6b8]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x40ee5c,_0x4b6674,_0x24fe8a){let _0x5ce2ce=Ts['getCachedS'+'kinInstanc'+'e'](_0x40ee5c,_0x4b6674);return _0x5ce2ce||(_0x5ce2ce=new nl(_0x40ee5c),_0x5ce2ce['resolve'](_0x4b6674,_0x24fe8a),Ts['addCachedS'+'kinInstanc'+'e'](_0x40ee5c,_0x4b6674,_0x5ce2ce)),_0x5ce2ce;}static['getCachedS'+'kinInstanc'+'e'](_0x41abe2,_0x2deeae){let _0x576f47=null;const _0x379edd=Ts['_skinInsta'+'nceCache']['get'](_0x2deeae);if(_0x379edd){const _0x543bcf=_0x379edd['find'](_0x2d1d3c=>_0x2d1d3c['skin']===_0x41abe2);_0x543bcf&&(_0x543bcf['incRefCoun'+'t'](),_0x576f47=_0x543bcf['skinInstan'+'ce']);}return _0x576f47;}static['addCachedS'+'kinInstanc'+'e'](_0x468878,_0x32afc8,_0x26b418){let _0x528055=Ts['_skinInsta'+'nceCache']['get'](_0x32afc8);_0x528055||(_0x528055=[],Ts['_skinInsta'+'nceCache']['set'](_0x32afc8,_0x528055));let _0x5c47ec=_0x528055['find'](_0xa44b1=>_0xa44b1['skin']===_0x468878);_0x5c47ec||(_0x5c47ec=new dI(_0x468878,_0x26b418),_0x528055['push'](_0x5c47ec)),_0x5c47ec['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x3999fc){if(_0x3999fc){const _0x748594=_0x3999fc['rootBone'];if(_0x748594){const _0x3dad5e=Ts['_skinInsta'+'nceCache']['get'](_0x748594);if(_0x3dad5e){const _0x4b0612=_0x3dad5e['findIndex'](_0x225093=>_0x225093['skinInstan'+'ce']===_0x3999fc);if(_0x4b0612>=0x20b6+0x7+-0x20bd){const _0x13ffb2=_0x3dad5e[_0x4b0612];_0x13ffb2['decRefCoun'+'t'](),_0x13ffb2['refCount']===0x45a+0x1*-0x43f+-0x1b&&(_0x3dad5e['splice'](_0x4b0612,0x1a*-0x10b+0x33*-0x3f+0x1*0x27ac),_0x3dad5e['length']||Ts['_skinInsta'+'nceCache']['delete'](_0x748594),_0x3999fc&&(_0x3999fc['destroy'](),_0x13ffb2['skinInstan'+'ce']=null));}}}}}};c(Ts,'_skinInsta'+'nceCache',new Map());let Vo=Ts;class Go{constructor(_0x5ebdf6,_0x487136,_0x5d7d36,_0x1731db,_0x5386ab){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x5ebdf6,this['parent']=_0x487136,this['_scope']=_0x5386ab,this['_registry']=_0x5d7d36,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x1731db['load'],this['_onAssetAd'+'d']=_0x1731db['add'],this['_onAssetRe'+'move']=_0x1731db['remove'],this['_onAssetUn'+'load']=_0x1731db['unload']);}set['id'](_0x3c7b9a){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x3c7b9a,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x35b84d){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x35b84d,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x5a823c,_0x43bb5b,_0xe8400,_0x2b7c88,_0x3b79ad,_0x47d03a,_0x22f4e7;this['id']&&((_0x5a823c=this['_evtLoadBy'+'Id'])==null||_0x5a823c['off'](),this['_evtLoadBy'+'Id']=null,(_0x43bb5b=this['_evtAddByI'+'d'])==null||_0x43bb5b['off'](),this['_evtAddByI'+'d']=null,(_0xe8400=this['_evtRemove'+'ById'])==null||_0xe8400['off'](),this['_evtRemove'+'ById']=null,(_0x2b7c88=this['_evtUnload'+'ById'])==null||_0x2b7c88['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x3b79ad=this['_evtLoadBy'+'Url'])==null||_0x3b79ad['off'](),this['_evtLoadBy'+'Url']=null,(_0x47d03a=this['_evtAddByU'+'rl'])==null||_0x47d03a['off'](),this['_evtAddByU'+'rl']=null,(_0x22f4e7=this['_evtRemove'+'ByUrl'])==null||_0x22f4e7['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x40c6af){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x40c6af);}['_onAdd'](_0x5c3888){this['asset']=_0x5c3888,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5c3888);}['_onRemove'](_0x326c68){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x326c68),this['asset']=null;}['_onUnload'](_0x463f62){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x463f62);}}class fx extends ue{constructor(_0x1948e0,_0x1df227){super(_0x1948e0,_0x1df227),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(0xcb6*-0x1+0xea8*0x1+-0x1f2)),c(this,'_receiveSh'+'adows',!(0x70*-0x7+0x2120+-0x1e10)),c(this,'_castShado'+'wsLightmap',!(-0x3*0x22d+-0x10da*-0x1+0x1*-0xa53)),c(this,'_lightmapp'+'ed',!(-0xe*-0x140+0xc4b+-0x1dca)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x1adb+-0x1525+0x3001*0x1),c(this,'isStatic',!(-0x14e*0x1d+0xa46+0x1b91)),c(this,'_batchGrou'+'pId',-(-0x9*0x3fd+-0x1b2+0x2598)),c(this,'_layers',[Oi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x1948e0['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x1948e0['defaultMat'+'erial'],_0x1df227['on']('remove',this['onRemoveCh'+'ild'],this),_0x1df227['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1df227['on']('insert',this['onInsertCh'+'ild'],this),_0x1df227['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x5bf2e6){this['_renderSty'+'le']!==_0x5bf2e6&&(this['_renderSty'+'le']=_0x5bf2e6,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x5bf2e6));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x4a409c){this['_customAab'+'b']=_0x4a409c;const _0xd8074a=this['_meshInsta'+'nces'];if(_0xd8074a){for(let _0x53f6ca=-0xd79+0x49*-0x16+0x695*0x3;_0x53f6ca<_0xd8074a['length'];_0x53f6ca++)_0xd8074a[_0x53f6ca]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x28702d){if(this['_type']!==_0x28702d&&(this['_area']=null,this['_type']=_0x28702d,this['destroyMes'+'hInstances'](),_0x28702d!=='asset')){let _0x438dfa=this['_material'];(!_0x438dfa||_0x438dfa===this['system']['defaultMat'+'erial'])&&(_0x438dfa=this['_materialR'+'eferences'][-0x1*-0x107b+-0x2398+-0xe9*-0x15]&&this['_materialR'+'eferences'][0x1*-0x8cf+-0x213c+0x2a0b]['asset']&&this['_materialR'+'eferences'][-0x54b+0x8*-0x255+-0x1*-0x17f3]['asset']['resource']);const _0x4b83ce=cx(this['system']['app']['graphicsDe'+'vice'],_0x28702d);this['_area']=_0x4b83ce['area'],this['meshInstan'+'ces']=[new Le(_0x4b83ce['mesh'],_0x438dfa||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x550639){if(v['assert'](Array['isArray'](_0x550639),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x550639,this['_meshInsta'+'nces']){const _0x55c6ad=this['_meshInsta'+'nces'];for(let _0x411212=-0xe95*0x1+-0x2*0xefd+-0x40d*-0xb;_0x411212<_0x55c6ad['length'];_0x411212++)_0x55c6ad[_0x411212]['node']||(_0x55c6ad[_0x411212]['node']=this['entity']),_0x55c6ad[_0x411212]['castShadow']=this['_castShado'+'ws'],_0x55c6ad[_0x411212]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x55c6ad[_0x411212]['renderStyl'+'e']=this['_renderSty'+'le'],_0x55c6ad[_0x411212]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x55c6ad[_0x411212]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x11794b){if(_0x11794b!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x11794b;const _0x202e81=this['_meshInsta'+'nces'];if(_0x202e81){for(let _0x1e6fd9=0x3*0x49+0x1823+-0x18fe;_0x1e6fd9<_0x202e81['length'];_0x1e6fd9++)_0x202e81[_0x1e6fd9]['setLightma'+'pped'](_0x11794b);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x4ff5c4){if(this['_castShado'+'ws']!==_0x4ff5c4){const _0x12b111=this['_meshInsta'+'nces'];if(_0x12b111){const _0x2fc614=this['layers'],_0x1dc38a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x4ff5c4)for(let _0x4f1d4d=-0x1cf*0x3+0x2562+0x9*-0x38d;_0x4f1d4d<_0x2fc614['length'];_0x4f1d4d++){const _0x4b86d7=_0x1dc38a['layers']['getLayerBy'+'Id'](this['layers'][_0x4f1d4d]);_0x4b86d7&&_0x4b86d7['removeShad'+'owCasters'](_0x12b111);}for(let _0x92dc82=0x44f*-0x8+-0xfb5*-0x1+0x12c3*0x1;_0x92dc82<_0x12b111['length'];_0x92dc82++)_0x12b111[_0x92dc82]['castShadow']=_0x4ff5c4;if(!this['_castShado'+'ws']&&_0x4ff5c4)for(let _0x26aaac=-0x8*-0x10f+-0x10*0x16+-0x718;_0x26aaac<_0x2fc614['length'];_0x26aaac++){const _0x11704a=_0x1dc38a['layers']['getLayerBy'+'Id'](_0x2fc614[_0x26aaac]);_0x11704a&&_0x11704a['addShadowC'+'asters'](_0x12b111);}}this['_castShado'+'ws']=_0x4ff5c4;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2d501b){if(this['_receiveSh'+'adows']!==_0x2d501b){this['_receiveSh'+'adows']=_0x2d501b;const _0x551f6a=this['_meshInsta'+'nces'];if(_0x551f6a){for(let _0x346bfc=0x28d+-0xe60+0xbd3;_0x346bfc<_0x551f6a['length'];_0x346bfc++)_0x551f6a[_0x346bfc]['receiveSha'+'dow']=_0x2d501b;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x186269){this['_castShado'+'wsLightmap']=_0x186269;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x7a6bfa){this['_lightmapS'+'izeMultipl'+'ier']=_0x7a6bfa;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x5351f3){const _0x8d2575=this['system']['app']['scene']['layers'];let _0x1872cd;if(this['_meshInsta'+'nces']){for(let _0x4ec46a=0x841+0x168a+-0x1*0x1ecb;_0x4ec46a<this['_layers']['length'];_0x4ec46a++)_0x1872cd=_0x8d2575['getLayerBy'+'Id'](this['_layers'][_0x4ec46a]),_0x1872cd&&_0x1872cd['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0xed8*0x1+0x186c+-0x1*0x994;for(let _0x3c5da9=-0x18d+-0x6d*-0xf+0x4d6*-0x1;_0x3c5da9<_0x5351f3['length'];_0x3c5da9++)this['_layers'][_0x3c5da9]=_0x5351f3[_0x3c5da9];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x4a476a=0x2*0x337+0x1f9e+-0x260c;_0x4a476a<this['_layers']['length'];_0x4a476a++)_0x1872cd=_0x8d2575['getLayerBy'+'Id'](this['_layers'][_0x4a476a]),_0x1872cd&&_0x1872cd['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x522ed8){var _0x52cc71,_0x1c5b34;this['_batchGrou'+'pId']!==_0x522ed8&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1*0x1b0e+0x1*-0xcf5+-0xe19&&((_0x52cc71=this['system']['app']['batcher'])==null||_0x52cc71['remove'](Je['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x522ed8>=0x1*0x155+0x1*0x1d96+-0x1eeb&&((_0x1c5b34=this['system']['app']['batcher'])==null||_0x1c5b34['insert'](Je['RENDER'],_0x522ed8,this['entity'])),_0x522ed8<0x1664+0x2280+-0xb*0x52c&&this['_batchGrou'+'pId']>=0xd6*0x1a+-0xdd3+-0x7e9&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x522ed8);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0xc46082){if(this['_material']!==_0xc46082&&(this['_material']=_0xc46082,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x1198e3=-0x1*0x1983+-0x3*0xb34+0x3b1f;_0x1198e3<this['_meshInsta'+'nces']['length'];_0x1198e3++)this['_meshInsta'+'nces'][_0x1198e3]['material']=_0xc46082;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x433e95=[]){if(this['_materialR'+'eferences']['length']>_0x433e95['length']){for(let _0x24580a=_0x433e95['length'];_0x24580a<this['_materialR'+'eferences']['length'];_0x24580a++)this['_materialR'+'eferences'][_0x24580a]['id']=null;this['_materialR'+'eferences']['length']=_0x433e95['length'];}for(let _0x68a3c2=-0x8e9+-0xac3+0x13ac;_0x68a3c2<_0x433e95['length'];_0x68a3c2++)if(this['_materialR'+'eferences'][_0x68a3c2]||this['_materialR'+'eferences']['push'](new Go(_0x68a3c2,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x433e95[_0x68a3c2]){const _0x41d1be=_0x433e95[_0x68a3c2]instanceof le?_0x433e95[_0x68a3c2]['id']:_0x433e95[_0x68a3c2];this['_materialR'+'eferences'][_0x68a3c2]['id']!==_0x41d1be&&(this['_materialR'+'eferences'][_0x68a3c2]['id']=_0x41d1be),this['_materialR'+'eferences'][_0x68a3c2]['asset']&&this['_onMateria'+'lAdded'](_0x68a3c2,this,this['_materialR'+'eferences'][_0x68a3c2]['asset']);}else this['_materialR'+'eferences'][_0x68a3c2]['id']=null,this['_meshInsta'+'nces'][_0x68a3c2]&&(this['_meshInsta'+'nces'][_0x68a3c2]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x302f89=>_0x302f89['id']);}set['asset'](_0x49ac44){const _0x24c061=_0x49ac44 instanceof le?_0x49ac44['id']:_0x49ac44;this['_assetRefe'+'rence']['id']!==_0x24c061&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x24c061,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x3df2c5){const _0xe6f4a7=_0x3df2c5 instanceof le?_0x3df2c5['id']:_0x3df2c5;this['_assetRefe'+'rence']['id']=_0xe6f4a7;}set['rootBone'](_0x358781){if(this['_rootBone']!==_0x358781){const _0xc7074=typeof _0x358781=='string';if(this['_rootBone']&&_0xc7074&&this['_rootBone']['getGuid']()===_0x358781)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x358781 instanceof De?this['_rootBone']=_0x358781:_0xc7074?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x358781)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x1eb8c2=this['_meshInsta'+'nces'];if(_0x1eb8c2){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x3d3357=-0x9e9*0x1+-0x7*-0x54e+0x17*-0x12f;_0x3d3357<_0x1eb8c2['length'];_0x3d3357++)_0x1eb8c2[_0x3d3357]['destroy']();this['_meshInsta'+'nces']['length']=0x95b+0x25b+-0x2*0x5db;}}['addToLayer'+'s'](){const _0x2e5702=this['system']['app']['scene']['layers'];for(let _0x5da6d5=-0x1322+-0x26d5*-0x1+0x3*-0x691;_0x5da6d5<this['_layers']['length'];_0x5da6d5++){const _0x5c3061=_0x2e5702['getLayerBy'+'Id'](this['_layers'][_0x5da6d5]);_0x5c3061&&_0x5c3061['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x213f99=this['system']['app']['scene']['layers'];for(let _0x386373=-0x5*-0x53b+0x6fa*-0x1+-0x132d*0x1;_0x386373<this['_layers']['length'];_0x386373++){const _0x521fe4=_0x213f99['getLayerBy'+'Id'](this['_layers'][_0x386373]);_0x521fe4&&_0x521fe4['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x25f148=0x35b*0x6+0xe95*-0x1+-0x58d;_0x25f148<this['_materialR'+'eferences']['length'];_0x25f148++)this['_materialR'+'eferences'][_0x25f148]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x264d27,_0x11e6dd){this['addToLayer'+'s'](),_0x264d27['off']('add',this['onLayerAdd'+'ed'],this),_0x264d27['off']('remove',this['onLayerRem'+'oved'],this),_0x11e6dd['on']('add',this['onLayerAdd'+'ed'],this),_0x11e6dd['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x14af01){this['layers']['indexOf'](_0x14af01['id'])<0x1554+0x437+0x198b*-0x1||_0x14af01['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x29988){this['layers']['indexOf'](_0x29988['id'])<-0x24ce+0x4*0x448+0x16*0xe5||_0x29988['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x595afc;const _0x24b2de=this['system']['app'],_0x2cde17=_0x24b2de['scene'],_0x328dcf=_0x2cde17['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x2cde17['on']('set:layers',this['onLayersCh'+'anged'],this),_0x328dcf&&(this['_evtLayerA'+'dded']=_0x328dcf['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x328dcf['on']('remove',this['onLayerRem'+'oved'],this));const _0x2de44e=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x2de44e&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x52c039=0x833+0xc1*0x5+-0xbf8;_0x52c039<this['_materialR'+'eferences']['length'];_0x52c039++)this['_materialR'+'eferences'][_0x52c039]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x52c039]['asset']);this['_batchGrou'+'pId']>=0x1498+-0x123f*-0x1+-0xa3*0x3d&&((_0x595afc=_0x24b2de['batcher'])==null||_0x595afc['insert'](Je['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x11e3a1,_0x2d0057,_0x127e2d,_0x24ca53;const _0x43e749=this['system']['app'],_0x3b1b3a=_0x43e749['scene']['layers'];(_0x11e3a1=this['_evtLayers'+'Changed'])==null||_0x11e3a1['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x3b1b3a&&((_0x2d0057=this['_evtLayerA'+'dded'])==null||_0x2d0057['off'](),this['_evtLayerA'+'dded']=null,(_0x127e2d=this['_evtLayerR'+'emoved'])==null||_0x127e2d['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x19d3*-0x1+0x1069+-0x2a3c&&((_0x24ca53=_0x43e749['batcher'])==null||_0x24ca53['remove'](Je['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x58e700=-0x491+0x1*-0x705+0xb96;_0x58e700<this['_meshInsta'+'nces']['length'];_0x58e700++)this['_meshInsta'+'nces'][_0x58e700]['visible']=!(0xf58+0x2412+-0x3369);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0xb425ff=0x19f0+-0x67*-0x25+-0x28d3;_0xb425ff<this['_meshInsta'+'nces']['length'];_0xb425ff++)this['_meshInsta'+'nces'][_0xb425ff]['visible']=!(-0x13*-0x9a+0x8*-0x2c0+0xa92);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x316a81;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0xc0007d=this['_assetRefe'+'rence']['asset']['resource'];(_0x316a81=this['_evtSetMes'+'hes'])==null||_0x316a81['off'](),this['_evtSetMes'+'hes']=_0xc0007d['on']('set:meshes',this['_onSetMesh'+'es'],this),_0xc0007d['meshes']&&this['_onSetMesh'+'es'](_0xc0007d['meshes']);}}['_onSetMesh'+'es'](_0x7a35ad){this['_cloneMesh'+'es'](_0x7a35ad);}['_clearSkin'+'Instances'](){for(let _0x1e6b74=-0x24d*-0x7+-0x893*-0x4+-0x3267;_0x1e6b74<this['_meshInsta'+'nces']['length'];_0x1e6b74++){const _0x3bf986=this['_meshInsta'+'nces'][_0x1e6b74];Vo['removeCach'+'edSkinInst'+'ance'](_0x3bf986['skinInstan'+'ce']),_0x3bf986['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0xb39e8d=-0xeff+0x4*0x2a7+0x463;_0xb39e8d<this['_meshInsta'+'nces']['length'];_0xb39e8d++){const _0x55205b=this['_meshInsta'+'nces'][_0xb39e8d],_0x444675=_0x55205b['mesh'];_0x444675['skin']&&!_0x55205b['skinInstan'+'ce']&&(_0x55205b['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x444675['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x4808a3){if(_0x4808a3&&_0x4808a3['length']){const _0x32659a=[];for(let _0xbcf538=0x1*-0xf7f+0x61*0x35+0x24b*-0x2;_0xbcf538<_0x4808a3['length'];_0xbcf538++){const _0x3b4d39=_0x4808a3[_0xbcf538],_0x1bf4e1=this['_materialR'+'eferences'][_0xbcf538]&&this['_materialR'+'eferences'][_0xbcf538]['asset']&&this['_materialR'+'eferences'][_0xbcf538]['asset']['resource'],_0x256cb2=new Le(_0x3b4d39,_0x1bf4e1||this['system']['defaultMat'+'erial'],this['entity']);_0x32659a['push'](_0x256cb2),_0x3b4d39['morph']&&(_0x256cb2['morphInsta'+'nce']=new pn(_0x3b4d39['morph']));}this['meshInstan'+'ces']=_0x32659a,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x593fe7;(_0x593fe7=this['_evtSetMes'+'hes'])==null||_0x593fe7['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x5f4d5b,_0x27e3db,_0xfb3d81){_0xfb3d81['resource']?this['_onMateria'+'lLoad'](_0x5f4d5b,_0x27e3db,_0xfb3d81):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0xfb3d81);}['_updateMai'+'nMaterial'](_0x225ed8,_0x3f037e){_0x225ed8===-0x926+0x1f*0x25+0x4ab&&(this['material']=_0x3f037e);}['_onMateria'+'lLoad'](_0x49a8e7,_0x205728,_0x4a9abc){this['_meshInsta'+'nces'][_0x49a8e7]&&(this['_meshInsta'+'nces'][_0x49a8e7]['material']=_0x4a9abc['resource']),this['_updateMai'+'nMaterial'](_0x49a8e7,_0x4a9abc['resource']);}['_onMateria'+'lRemove'](_0x34d406,_0x48e608,_0x3d28c4){this['_meshInsta'+'nces'][_0x34d406]&&(this['_meshInsta'+'nces'][_0x34d406]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x34d406,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x237cdb,_0x3b536d,_0x133f69){this['_meshInsta'+'nces'][_0x237cdb]&&(this['_meshInsta'+'nces'][_0x237cdb]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x237cdb,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x56f7b9,_0x15fb37){_0x56f7b9['rootBone']&&(this['rootBone']=_0x15fb37[_0x56f7b9['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(0x198d+0x1780+-0x310d);}}const mf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x1ec7ce){super(_0x1ec7ce),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=mf,this['defaultMat'+'erial']=al(_0x1ec7ce['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1bb5de,_0x495b38,_0x40db1f){(_0x495b38['batchGroup'+'Id']===null||_0x495b38['batchGroup'+'Id']===void(0x3*-0x25+0x1*-0x1222+0x7*0x2a7))&&(_0x495b38['batchGroup'+'Id']=-(-0xe*0x1be+0xd*-0x25f+0x7c*0x72)),_0x495b38['layers']&&_0x495b38['layers']['length']&&(_0x495b38['layers']=_0x495b38['layers']['slice'](0x2315+-0x5c7*0x6+-0x6b));for(let _0x1d428c=0x65b*-0x1+-0x1760+0x1dbb;_0x1d428c<Mr['length'];_0x1d428c++)_0x495b38['hasOwnProp'+'erty'](Mr[_0x1d428c])&&(_0x1bb5de[Mr[_0x1d428c]]=_0x495b38[Mr[_0x1d428c]]);_0x495b38['aabbCenter']&&_0x495b38['aabbHalfEx'+'tents']&&(_0x1bb5de['customAabb']=new _e(new T(_0x495b38['aabbCenter']),new T(_0x495b38['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x1bb5de,_0x495b38,mf);}['cloneCompo'+'nent'](_0xdda1b4,_0x216299){const _0x3fd6f1={};for(let _0x1b696c=0x8*0x75+-0xdd*-0x7+-0x9b3;_0x1b696c<Mr['length'];_0x1b696c++)_0x3fd6f1[Mr[_0x1b696c]]=_0xdda1b4['render'][Mr[_0x1b696c]];_0x3fd6f1['enabled']=_0xdda1b4['render']['enabled'],delete _0x3fd6f1['meshInstan'+'ces'];const _0x3b5257=this['addCompone'+'nt'](_0x216299,_0x3fd6f1),_0x382db6=_0xdda1b4['render']['meshInstan'+'ces'],_0x2bd28c=_0x382db6['map'](_0x23e08a=>_0x23e08a['mesh']);_0x3b5257['_onSetMesh'+'es'](_0x2bd28c);for(let _0x47e55e=-0xc7*-0x1e+-0x1e7a*0x1+0x728;_0x47e55e<_0x382db6['length'];_0x47e55e++)_0x3b5257['meshInstan'+'ces'][_0x47e55e]['material']=_0x382db6[_0x47e55e]['material'];return _0xdda1b4['render']['customAabb']&&(_0x3b5257['customAabb']=_0xdda1b4['render']['customAabb']['clone']()),_0x3b5257;}['onRemove'](_0x4db4ea,_0x5203dd){_0x5203dd['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],mf);class Qd{constructor(_0x589f71,_0x299007){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',-0x1f12+-0xb1b*0x1+0x2a2d),(this['_construct'+'or']=_0x589f71,this['_resize'](_0x299007));}['_resize'](_0x4a626a){if(_0x4a626a>this['_pool']['length']){for(let _0x37c489=this['_pool']['length'];_0x37c489<_0x4a626a;_0x37c489++)this['_pool'][_0x37c489]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x126*-0x2+-0x8b*-0x23+-0x154b)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x1*-0xfc5+0x20*0x47+-0x18a5;}}let Ht,xe,xs,$n;const pI=new te(),mI=new te(),Jl=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x869*-0x2+0x1*-0x319+0x13eb),c(this,'_angularFa'+'ctor',new T(0x24c1+0x1615*-0x1+0xeab*-0x1,-0x52*0x5+-0xbd0+-0xe5*-0xf,0x1426+-0x1739+-0x1*-0x314)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',-0x12dd+0x1*0x1a36+-0x13*0x63+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x90*-0x20+-0x8cc*-0x1+0x3e*0x26),c(this,'_linearFac'+'tor',new T(-0x19ce+0x26+0x19a9,0x7e0+-0x1*0x1fc1+0x3*0x7f6,0x19d2+0x3*-0x851+-0xde)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',of),c(this,'_mass',0x2ce+0x1*-0x91e+0x651),c(this,'_restituti'+'on',-0x2*0xba+0x187c+0x1*-0x1708),c(this,'_rollingFr'+'iction',0x1cec+0xed*-0x2+-0x1b12),c(this,'_simulatio'+'nEnabled',!(-0xa5b+-0xac*0x26+-0x1*-0x23e4)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Ht=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),xs=new Ammo['btVector3'](),$n=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Ht),Ammo['destroy'](xe),Ammo['destroy'](xs),Ammo['destroy']($n),Ht=null,xe=null,xs=null,$n=null;}set['angularDam'+'ping'](_0x393e06){this['_angularDa'+'mping']!==_0x393e06&&(this['_angularDa'+'mping']=_0x393e06,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x393e06));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x87aa33){this['_angularFa'+'ctor']['equals'](_0x87aa33)||(this['_angularFa'+'ctor']['copy'](_0x87aa33),this['_body']&&this['_type']===gs&&(xe['setValue'](_0x87aa33['x'],_0x87aa33['y'],_0x87aa33['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x550f6e){this['_body']&&this['_type']===gs&&(this['_body']['activate'](),xe['setValue'](_0x550f6e['x'],_0x550f6e['y'],_0x550f6e['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x550f6e));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===gs){const _0x309186=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x309186['x'](),_0x309186['y'](),_0x309186['z']());}return this['_angularVe'+'locity'];}set['body'](_0x2edc0f){this['_body']!==_0x2edc0f&&(this['_body']=_0x2edc0f,_0x2edc0f&&this['_simulatio'+'nEnabled']&&_0x2edc0f['activate']());}get['body'](){return this['_body'];}set['friction'](_0x5af785){this['_friction']!==_0x5af785&&(this['_friction']=_0x5af785,this['_body']&&this['_body']['setFrictio'+'n'](_0x5af785));}get['friction'](){return this['_friction'];}set['group'](_0x1adddf){this['_group']!==_0x1adddf&&(this['_group']=_0x1adddf,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x172b73){this['_linearDam'+'ping']!==_0x172b73&&(this['_linearDam'+'ping']=_0x172b73,this['_body']&&this['_body']['setDamping'](_0x172b73,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x13e2e5){this['_linearFac'+'tor']['equals'](_0x13e2e5)||(this['_linearFac'+'tor']['copy'](_0x13e2e5),this['_body']&&this['_type']===gs&&(xe['setValue'](_0x13e2e5['x'],_0x13e2e5['y'],_0x13e2e5['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x2c16bd){this['_body']&&this['_type']===gs&&(this['_body']['activate'](),xe['setValue'](_0x2c16bd['x'],_0x2c16bd['y'],_0x2c16bd['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x2c16bd));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===gs){const _0x2e51b7=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x2e51b7['x'](),_0x2e51b7['y'](),_0x2e51b7['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x1a8e12){this['_mask']!==_0x1a8e12&&(this['_mask']=_0x1a8e12,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x1b1e26){if(this['_mass']!==_0x1b1e26&&(this['_mass']=_0x1b1e26,this['_body']&&this['_type']===gs)){const _0x1c1cb1=this['enabled']&&this['entity']['enabled'];_0x1c1cb1&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x1b1e26,xe),this['_body']['setMassPro'+'ps'](_0x1b1e26,xe),this['_body']['updateIner'+'tiaTensor'](),_0x1c1cb1&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x253e11){this['_restituti'+'on']!==_0x253e11&&(this['_restituti'+'on']=_0x253e11,this['_body']&&this['_body']['setRestitu'+'tion'](_0x253e11));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x38772c){this['_rollingFr'+'iction']!==_0x38772c&&(this['_rollingFr'+'iction']=_0x38772c,this['_body']&&this['_body']['setRolling'+'Friction'](_0x38772c));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x1989f5){if(this['_type']!==_0x1989f5){switch(this['_type']=_0x1989f5,this['disableSim'+'ulation'](),_0x1989f5){case gs:this['_group']=tR,this['_mask']=hg;break;case Nn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=of;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x569e97=this['entity'];let _0x4dd91a;if(_0x569e97['collision']&&(_0x4dd91a=_0x569e97['collision']['shape'],_0x569e97['trigger']&&(_0x569e97['trigger']['destroy'](),delete _0x569e97['trigger'])),_0x4dd91a){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x548887=this['_type']===gs?this['_mass']:-0x20*0x8+0x2275+-0x2175;this['_getEntity'+'Transform'](Ht);const _0x49a32c=this['system']['createBody'](_0x548887,_0x4dd91a,Ht);if(_0x49a32c['setRestitu'+'tion'](this['_restituti'+'on']),_0x49a32c['setFrictio'+'n'](this['_friction']),_0x49a32c['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x49a32c['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===gs){const _0x31fe36=this['_linearFac'+'tor'];xe['setValue'](_0x31fe36['x'],_0x31fe36['y'],_0x31fe36['z']),_0x49a32c['setLinearF'+'actor'](xe);const _0x187525=this['_angularFa'+'ctor'];xe['setValue'](_0x187525['x'],_0x187525['y'],_0x187525['z']),_0x49a32c['setAngular'+'Factor'](xe);}else this['_type']===Nn&&(_0x49a32c['setCollisi'+'onFlags'](_0x49a32c['getCollisi'+'onFlags']()|eR),_0x49a32c['setActivat'+'ionState'](ag));_0x49a32c['entity']=_0x569e97,this['body']=_0x49a32c,this['enabled']&&_0x569e97['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x109a+0x5e6*0x4+0x1*-0x2831);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0xdc3b0b=this['entity'];if(_0xdc3b0b['collision']&&_0xdc3b0b['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x274ad8=this['_body'];if(_0x274ad8){switch(this['system']['addBody'](_0x274ad8,this['_group'],this['_mask']),this['_type']){case gs:this['system']['_dynamic']['push'](this),_0x274ad8['forceActiv'+'ationState'](af),this['syncEntity'+'ToBody']();break;case Nn:this['system']['_kinematic']['push'](this),_0x274ad8['forceActiv'+'ationState'](ag);break;case so:_0x274ad8['forceActiv'+'ationState'](af),this['syncEntity'+'ToBody']();break;}_0xdc3b0b['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0xdc3b0b['collision']),_0x274ad8['activate'](),this['_simulatio'+'nEnabled']=!(0x1*-0x413+-0x1*-0x54b+-0x138);}}}['disableSim'+'ulation'](){const _0x44088f=this['_body'];if(_0x44088f&&this['_simulatio'+'nEnabled']){const _0x53737d=this['system'];let _0x35006d=_0x53737d['_compounds']['indexOf'](this['entity']['collision']);_0x35006d>-(0x2495+-0x1*0x17b9+-0xcdb)&&_0x53737d['_compounds']['splice'](_0x35006d,-0x5ef+0x26f1*-0x1+0x2ce1),_0x35006d=_0x53737d['_dynamic']['indexOf'](this),_0x35006d>-(0x1a0b+0x1*-0x1fb9+-0x61*-0xf)&&_0x53737d['_dynamic']['splice'](_0x35006d,0x5*-0x75a+0x1*0x1e0b+0x6b8),_0x35006d=_0x53737d['_kinematic']['indexOf'](this),_0x35006d>-(0xa50+0x303*0x1+-0x1f*0x6e)&&_0x53737d['_kinematic']['splice'](_0x35006d,-0xcec+0x4*0x209+0x4c9),_0x53737d['removeBody'](_0x44088f),_0x44088f['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(0x2a7+-0xa2*-0x11+-0x1a*0x84);}}['applyForce'](_0x569dab,_0x5a026f,_0x53edc7,_0x2ea39a,_0x4f58e8,_0xc2950f){const _0x4f9364=this['_body'];_0x4f9364&&(_0x4f9364['activate'](),_0x569dab instanceof T?xe['setValue'](_0x569dab['x'],_0x569dab['y'],_0x569dab['z']):xe['setValue'](_0x569dab,_0x5a026f,_0x53edc7),_0x5a026f instanceof T?xs['setValue'](_0x5a026f['x'],_0x5a026f['y'],_0x5a026f['z']):_0x2ea39a!==void(0x25ec+-0x1*0x1d32+-0x8ba)?xs['setValue'](_0x2ea39a,_0x4f58e8,_0xc2950f):xs['setValue'](0x163d+-0x4*0x916+-0xe1b*-0x1,-0x20e3+-0x43*0x2a+0x2be1,0x1*0x1ddf+-0x1675+-0x1*0x76a),_0x4f9364['applyForce'](xe,xs));}['applyTorqu'+'e'](_0x560b4d,_0x4ae106,_0x1b5727){const _0x32a81a=this['_body'];_0x32a81a&&(_0x32a81a['activate'](),_0x560b4d instanceof T?xe['setValue'](_0x560b4d['x'],_0x560b4d['y'],_0x560b4d['z']):xe['setValue'](_0x560b4d,_0x4ae106,_0x1b5727),_0x32a81a['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x57a76f,_0x43fd3a,_0x2e8342,_0x2b3da5,_0x55b821,_0x45ecd1){const _0x3ea9f2=this['_body'];_0x3ea9f2&&(_0x3ea9f2['activate'](),_0x57a76f instanceof T?xe['setValue'](_0x57a76f['x'],_0x57a76f['y'],_0x57a76f['z']):xe['setValue'](_0x57a76f,_0x43fd3a,_0x2e8342),_0x43fd3a instanceof T?xs['setValue'](_0x43fd3a['x'],_0x43fd3a['y'],_0x43fd3a['z']):_0x2b3da5!==void(-0x1*0xbff+-0x6*0x2f+0xd19*0x1)?xs['setValue'](_0x2b3da5,_0x55b821,_0x45ecd1):xs['setValue'](0x12fc+0xc1+-0x13bd,-0x1*0x1488+-0xa32+0x1eba,-0xfe*0xd+0x12fa+-0x614*0x1),_0x3ea9f2['applyImpul'+'se'](xe,xs));}['applyTorqu'+'eImpulse'](_0x33668e,_0x559fd7,_0x1af2b0){const _0x134e63=this['_body'];_0x134e63&&(_0x134e63['activate'](),_0x33668e instanceof T?xe['setValue'](_0x33668e['x'],_0x33668e['y'],_0x33668e['z']):xe['setValue'](_0x33668e,_0x559fd7,_0x1af2b0),_0x134e63['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Nn;}['isKinemati'+'c'](){return this['_type']===Nn;}['_getEntity'+'Transform'](_0x316a66){const _0x769098=this['entity'],_0x2a5ae7=_0x769098['collision'];if(_0x2a5ae7){const _0x2c7795=_0x2a5ae7['getShapePo'+'sition'](),_0xbad448=_0x2a5ae7['getShapeRo'+'tation']();xe['setValue'](_0x2c7795['x'],_0x2c7795['y'],_0x2c7795['z']),$n['setValue'](_0xbad448['x'],_0xbad448['y'],_0xbad448['z'],_0xbad448['w']);}else{const _0x4f8488=_0x769098['getPositio'+'n'](),_0x9435d9=_0x769098['getRotatio'+'n']();xe['setValue'](_0x4f8488['x'],_0x4f8488['y'],_0x4f8488['z']),$n['setValue'](_0x9435d9['x'],_0x9435d9['y'],_0x9435d9['z'],_0x9435d9['w']);}_0x316a66['setOrigin'](xe),_0x316a66['setRotatio'+'n']($n);}['syncEntity'+'ToBody'](){const _0x396fa1=this['_body'];if(_0x396fa1){if(this['_getEntity'+'Transform'](Ht),_0x396fa1['setWorldTr'+'ansform'](Ht),this['_type']===Nn){const _0x23e19a=_0x396fa1['getMotionS'+'tate']();_0x23e19a&&_0x23e19a['setWorldTr'+'ansform'](Ht);}_0x396fa1['activate']();}}['_updateDyn'+'amic'](){const _0x52db86=this['_body'];if(_0x52db86['isActive']()){const _0x253d1e=_0x52db86['getMotionS'+'tate']();if(_0x253d1e){const _0x494b9b=this['entity'];_0x253d1e['getWorldTr'+'ansform'](Ht);const _0x17cb23=Ht['getOrigin'](),_0x135748=Ht['getRotatio'+'n'](),_0x225ced=_0x494b9b['collision'];if(_0x225ced&&_0x225ced['_hasOffset']){const _0x26bcb7=_0x225ced['data']['linearOffs'+'et'],_0x382de6=_0x225ced['data']['angularOff'+'set'],_0x53d45c=mI['copy'](_0x382de6)['invert'](),_0xa0b376=pI['set'](_0x135748['x'](),_0x135748['y'](),_0x135748['z'](),_0x135748['w']())['mul'](_0x53d45c);_0xa0b376['transformV'+'ector'](_0x26bcb7,Jl),_0x494b9b['setPositio'+'n'](_0x17cb23['x']()-Jl['x'],_0x17cb23['y']()-Jl['y'],_0x17cb23['z']()-Jl['z']),_0x494b9b['setRotatio'+'n'](_0xa0b376);}else _0x494b9b['setPositio'+'n'](_0x17cb23['x'](),_0x17cb23['y'](),_0x17cb23['z']()),_0x494b9b['setRotatio'+'n'](_0x135748['x'](),_0x135748['y'](),_0x135748['z'](),_0x135748['w']());}}}['_updateKin'+'ematic'](){const _0x517fdc=this['_body']['getMotionS'+'tate']();_0x517fdc&&(this['_getEntity'+'Transform'](Ht),_0x517fdc['setWorldTr'+'ansform'](Ht));}['teleport'](_0x277023,_0x2060c7,_0x22b9c7,_0x41e001,_0x49e8ff,_0xd357a8){_0x277023 instanceof T?this['entity']['setPositio'+'n'](_0x277023):this['entity']['setPositio'+'n'](_0x277023,_0x2060c7,_0x22b9c7),_0x2060c7 instanceof te?this['entity']['setRotatio'+'n'](_0x2060c7):_0x2060c7 instanceof T?this['entity']['setEulerAn'+'gles'](_0x2060c7):_0x41e001!==void(0x15cb+-0xca*0xe+-0xabf*0x1)&&this['entity']['setEulerAn'+'gles'](_0x41e001,_0x49e8ff,_0xd357a8),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(0x2fe*-0x5+0x2224+-0x132d));class _I{constructor(){this['enabled']=!(0x1a34+0x1606+0x2*-0x181d);}}let li,hi;class xg{constructor(_0x3917ec,_0x2cd104,_0x530a1b,_0x562324){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x3917ec,this['point']=_0x2cd104,this['normal']=_0x530a1b,this['hitFractio'+'n']=_0x562324);}}class gI{constructor(_0x362b6d,_0x250c0f,_0x1ba7f5){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==0x18a*-0x16+0x1eea+0x2f2?(this['a']=_0x362b6d,this['b']=_0x250c0f,this['impulse']=_0x1ba7f5['impulse'],this['localPoint'+'A']=_0x1ba7f5['localPoint'],this['localPoint'+'B']=_0x1ba7f5['localPoint'+'Other'],this['pointA']=_0x1ba7f5['point'],this['pointB']=_0x1ba7f5['pointOther'],this['normal']=_0x1ba7f5['normal']):(this['a']=null,this['b']=null,this['impulse']=-0xf04+-0x1*-0x2195+-0x1291,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x53bd12=new T(),_0x10255a=new T(),_0x1b025d=new T(),_0x27b6e0=new T(),_0x461ffd=new T(),_0x8044d7=-0x15f+-0x1*0x1511+0x1670){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x53bd12,this['localPoint'+'Other']=_0x10255a,this['point']=_0x1b025d,this['pointOther']=_0x27b6e0,this['normal']=_0x461ffd,this['impulse']=_0x8044d7);}}class xI{constructor(_0x345bb1,_0x460532){c(this,'other'),c(this,'contacts'),(this['other']=_0x345bb1,this['contacts']=_0x460532);}}const px=['enabled'];class mx extends Xe{constructor(_0x5f52eb){super(_0x5f52eb),c(this,'maxSubStep'+'s',0x2*0x11df+-0x4*0xb3+-0x24*0xea),c(this,'fixedTimeS'+'tep',(0x1*0x1274+-0xa98*-0x1+0x5cf*-0x5)/(-0x94f*0x1+-0x407*-0x1+0x584)),c(this,'gravity',new T(-0x1a98+-0x1030+0x8*0x559,-(-0x2669+0xdc3+0x18af*0x1+0.8100000000000005),-0xf30+0x23ab+-0x147b)),c(this,'_gravityFl'+'oat32',new Float32Array(0x478+0x991+0x1*-0xe06)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x5f52eb['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x4e4765=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x4e4765);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');li=new Ammo['btVector3'](),hi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Qd(yI,-0x1*0xf34+0xb14*-0x1+0x8c3*0x3),this['contactRes'+'ultPool']=new Qd(xI,-0x1468+0x111*0x3+-0x1136*-0x1),this['singleCont'+'actResultP'+'ool']=new Qd(gI,-0x589*0x2+-0x2273+0x16c3*0x2),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x343428,_0x3de0e6,_0x10ab4e){const _0x8cc7cf=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x26f1a1 of _0x8cc7cf)if(_0x3de0e6['hasOwnProp'+'erty'](_0x26f1a1)){const _0x11438e=_0x3de0e6[_0x26f1a1];Array['isArray'](_0x11438e)?_0x343428[_0x26f1a1]=new T(_0x11438e[-0x781*0x2+-0x45*-0x10+0x4a*0x25],_0x11438e[0x1bb6*0x1+0x2*-0xefb+0x1*0x241],_0x11438e[0x1e1f+-0xfca+-0xe53]):_0x343428[_0x26f1a1]=_0x11438e;}super['initialize'+'ComponentD'+'ata'](_0x343428,_0x3de0e6,['enabled']);}['cloneCompo'+'nent'](_0x2b1687,_0xb24575){const _0x1671d2=_0x2b1687['rigidbody'],_0x2d6610={'enabled':_0x1671d2['enabled'],'mass':_0x1671d2['mass'],'linearDamping':_0x1671d2['linearDamp'+'ing'],'angularDamping':_0x1671d2['angularDam'+'ping'],'linearFactor':[_0x1671d2['linearFact'+'or']['x'],_0x1671d2['linearFact'+'or']['y'],_0x1671d2['linearFact'+'or']['z']],'angularFactor':[_0x1671d2['angularFac'+'tor']['x'],_0x1671d2['angularFac'+'tor']['y'],_0x1671d2['angularFac'+'tor']['z']],'friction':_0x1671d2['friction'],'rollingFriction':_0x1671d2['rollingFri'+'ction'],'restitution':_0x1671d2['restitutio'+'n'],'type':_0x1671d2['type'],'group':_0x1671d2['group'],'mask':_0x1671d2['mask']};return this['addCompone'+'nt'](_0xb24575,_0x2d6610);}['onBeforeRe'+'move'](_0x2b017e,_0x837a6a){_0x837a6a['enabled']&&(_0x837a6a['enabled']=!(-0x7bb+-0x605+0xdc1)),_0x837a6a['body']&&(this['destroyBod'+'y'](_0x837a6a['body']),_0x837a6a['body']=null);}['addBody'](_0x47df4c,_0x63258b,_0x235465){_0x63258b!==void(0x1e50+-0xa39+0x25*-0x8b)&&_0x235465!==void(-0x22e5+-0x1441+-0x21f*-0x1a)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x47df4c,_0x63258b,_0x235465):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x47df4c);}['removeBody'](_0x245abf){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x245abf);}['createBody'](_0x46b19c,_0x23cc38,_0x12ebda){const _0x44acd3=new Ammo['btVector3'](0x1680+0x2*-0xb9c+0xb8,0x2f6+-0x1369*-0x1+-0x165f,-0xcd5+-0x8ee+0x15c3);_0x46b19c!==0x201e+-0x1d57+0x4f*-0x9&&_0x23cc38['calculateL'+'ocalInerti'+'a'](_0x46b19c,_0x44acd3);const _0x34f438=new Ammo['btDefaultM'+'otionState'](_0x12ebda),_0x3f784a=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x46b19c,_0x34f438,_0x23cc38,_0x44acd3),_0x3f8e1d=new Ammo['btRigidBod'+'y'](_0x3f784a);return Ammo['destroy'](_0x3f784a),Ammo['destroy'](_0x44acd3),_0x3f8e1d;}['destroyBod'+'y'](_0x1d21c2){const _0x1144f5=_0x1d21c2['getMotionS'+'tate']();_0x1144f5&&Ammo['destroy'](_0x1144f5),Ammo['destroy'](_0x1d21c2);}['raycastFir'+'st'](_0x4ecc9a,_0x19c2a5,_0x4c8fd3={}){if(_0x4c8fd3['filterTags']||_0x4c8fd3['filterCall'+'back'])return _0x4c8fd3['sort']=!(-0x17b3+-0x25a1+0x3d54),this['raycastAll'](_0x4ecc9a,_0x19c2a5,_0x4c8fd3)[-0xe5*-0x27+-0x1e10+0x41*-0x13]||null;let _0x1f2ed0=null;li['setValue'](_0x4ecc9a['x'],_0x4ecc9a['y'],_0x4ecc9a['z']),hi['setValue'](_0x19c2a5['x'],_0x19c2a5['y'],_0x19c2a5['z']);const _0xdd8c5=new Ammo['ClosestRay'+'ResultCall'+'back'](li,hi);if(typeof _0x4c8fd3['filterColl'+'isionGroup']=='number'&&_0xdd8c5['set_m_coll'+'isionFilte'+'rGroup'](_0x4c8fd3['filterColl'+'isionGroup']),typeof _0x4c8fd3['filterColl'+'isionMask']=='number'&&_0xdd8c5['set_m_coll'+'isionFilte'+'rMask'](_0x4c8fd3['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](li,hi,_0xdd8c5),_0xdd8c5['hasHit']()){const _0x7dd4cb=_0xdd8c5['get_m_coll'+'isionObjec'+'t'](),_0x4b932d=Ammo['castObject'](_0x7dd4cb,Ammo['btRigidBod'+'y']);if(_0x4b932d){const _0x5bcec2=_0xdd8c5['get_m_hitP'+'ointWorld'](),_0x5e28d6=_0xdd8c5['get_m_hitN'+'ormalWorld']();_0x1f2ed0=new xg(_0x4b932d['entity'],new T(_0x5bcec2['x'](),_0x5bcec2['y'](),_0x5bcec2['z']()),new T(_0x5e28d6['x'](),_0x5e28d6['y'](),_0x5e28d6['z']()),_0xdd8c5['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0xdd8c5),_0x1f2ed0;}['raycastAll'](_0x46f82b,_0x1c3540,_0x4ae0bf={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0xb9eb5a=[];li['setValue'](_0x46f82b['x'],_0x46f82b['y'],_0x46f82b['z']),hi['setValue'](_0x1c3540['x'],_0x1c3540['y'],_0x1c3540['z']);const _0x587ebe=new Ammo['AllHitsRay'+'ResultCall'+'back'](li,hi);if(typeof _0x4ae0bf['filterColl'+'isionGroup']=='number'&&_0x587ebe['set_m_coll'+'isionFilte'+'rGroup'](_0x4ae0bf['filterColl'+'isionGroup']),typeof _0x4ae0bf['filterColl'+'isionMask']=='number'&&_0x587ebe['set_m_coll'+'isionFilte'+'rMask'](_0x4ae0bf['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](li,hi,_0x587ebe),_0x587ebe['hasHit']()){const _0x354557=_0x587ebe['get_m_coll'+'isionObjec'+'ts'](),_0x48bf01=_0x587ebe['get_m_hitP'+'ointWorld'](),_0x436c7a=_0x587ebe['get_m_hitN'+'ormalWorld'](),_0x27402c=_0x587ebe['get_m_hitF'+'ractions'](),_0x52b6ff=_0x354557['size']();for(let _0x2414f2=-0x71e+-0x25f0*0x1+-0x2*-0x1687;_0x2414f2<_0x52b6ff;_0x2414f2++){const _0x19ad9b=Ammo['castObject'](_0x354557['at'](_0x2414f2),Ammo['btRigidBod'+'y']);if(_0x19ad9b&&_0x19ad9b['entity']){if(_0x4ae0bf['filterTags']&&!_0x19ad9b['entity']['tags']['has'](..._0x4ae0bf['filterTags'])||_0x4ae0bf['filterCall'+'back']&&!_0x4ae0bf['filterCall'+'back'](_0x19ad9b['entity']))continue;const _0x21a76f=_0x48bf01['at'](_0x2414f2),_0x1f6360=_0x436c7a['at'](_0x2414f2),_0x443466=new xg(_0x19ad9b['entity'],new T(_0x21a76f['x'](),_0x21a76f['y'](),_0x21a76f['z']()),new T(_0x1f6360['x'](),_0x1f6360['y'](),_0x1f6360['z']()),_0x27402c['at'](_0x2414f2));_0xb9eb5a['push'](_0x443466);}}_0x4ae0bf['sort']&&_0xb9eb5a['sort']((_0x9c4478,_0x23fe31)=>_0x9c4478['hitFractio'+'n']-_0x23fe31['hitFractio'+'n']);}return Ammo['destroy'](_0x587ebe),_0xb9eb5a;}['_storeColl'+'ision'](_0x2f318d,_0xd2571a){let _0x1e4a10=!(0x14d5+0x1086+-0x2*0x12ad);const _0xbbf1e2=_0x2f318d['getGuid']();return this['collisions'][_0xbbf1e2]=this['collisions'][_0xbbf1e2]||{'others':[],'entity':_0x2f318d},this['collisions'][_0xbbf1e2]['others']['indexOf'](_0xd2571a)<0x22f*-0xf+0x12*-0x87+0x5*0x873&&(this['collisions'][_0xbbf1e2]['others']['push'](_0xd2571a),_0x1e4a10=!(0x107*0x3+-0x3f4+0xdf)),this['frameColli'+'sions'][_0xbbf1e2]=this['frameColli'+'sions'][_0xbbf1e2]||{'others':[],'entity':_0x2f318d},this['frameColli'+'sions'][_0xbbf1e2]['others']['push'](_0xd2571a),_0x1e4a10;}['_createCon'+'tactPointF'+'romAmmo'](_0x400cd8){const _0x35c958=_0x400cd8['get_m_loca'+'lPointA'](),_0x205fdd=_0x400cd8['get_m_loca'+'lPointB'](),_0x284954=_0x400cd8['getPositio'+'nWorldOnA'](),_0x21f108=_0x400cd8['getPositio'+'nWorldOnB'](),_0x39c960=_0x400cd8['get_m_norm'+'alWorldOnB'](),_0x3387f5=this['contactPoi'+'ntPool']['allocate']();return _0x3387f5['localPoint']['set'](_0x35c958['x'](),_0x35c958['y'](),_0x35c958['z']()),_0x3387f5['localPoint'+'Other']['set'](_0x205fdd['x'](),_0x205fdd['y'](),_0x205fdd['z']()),_0x3387f5['point']['set'](_0x284954['x'](),_0x284954['y'](),_0x284954['z']()),_0x3387f5['pointOther']['set'](_0x21f108['x'](),_0x21f108['y'](),_0x21f108['z']()),_0x3387f5['normal']['set'](_0x39c960['x'](),_0x39c960['y'](),_0x39c960['z']()),_0x3387f5['impulse']=_0x400cd8['getApplied'+'Impulse'](),_0x3387f5;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x123511){const _0x18392f=_0x123511['get_m_loca'+'lPointA'](),_0x40b925=_0x123511['get_m_loca'+'lPointB'](),_0x305933=_0x123511['getPositio'+'nWorldOnA'](),_0x5421df=_0x123511['getPositio'+'nWorldOnB'](),_0x37a786=_0x123511['get_m_norm'+'alWorldOnB'](),_0x22e5e0=this['contactPoi'+'ntPool']['allocate']();return _0x22e5e0['localPoint'+'Other']['set'](_0x18392f['x'](),_0x18392f['y'](),_0x18392f['z']()),_0x22e5e0['localPoint']['set'](_0x40b925['x'](),_0x40b925['y'](),_0x40b925['z']()),_0x22e5e0['pointOther']['set'](_0x305933['x'](),_0x305933['y'](),_0x305933['z']()),_0x22e5e0['point']['set'](_0x5421df['x'](),_0x5421df['y'](),_0x5421df['z']()),_0x22e5e0['normal']['set'](_0x37a786['x'](),_0x37a786['y'](),_0x37a786['z']()),_0x22e5e0['impulse']=_0x123511['getApplied'+'Impulse'](),_0x22e5e0;}['_createSin'+'gleContact'+'Result'](_0x94138b,_0x1f39cd,_0x5b3aa3){const _0xf8dafc=this['singleCont'+'actResultP'+'ool']['allocate']();return _0xf8dafc['a']=_0x94138b,_0xf8dafc['b']=_0x1f39cd,_0xf8dafc['localPoint'+'A']=_0x5b3aa3['localPoint'],_0xf8dafc['localPoint'+'B']=_0x5b3aa3['localPoint'+'Other'],_0xf8dafc['pointA']=_0x5b3aa3['point'],_0xf8dafc['pointB']=_0x5b3aa3['pointOther'],_0xf8dafc['normal']=_0x5b3aa3['normal'],_0xf8dafc['impulse']=_0x5b3aa3['impulse'],_0xf8dafc;}['_createCon'+'tactResult'](_0x260772,_0x95f391){const _0x5785bd=this['contactRes'+'ultPool']['allocate']();return _0x5785bd['other']=_0x260772,_0x5785bd['contacts']=_0x95f391,_0x5785bd;}['_cleanOldC'+'ollisions'](){for(const _0x5f4195 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x5f4195)){const _0x53597f=this['frameColli'+'sions'][_0x5f4195],_0x3d015f=this['collisions'][_0x5f4195],_0x2e4e59=_0x3d015f['entity'],_0x3be605=_0x2e4e59['collision'],_0x2a2ec5=_0x2e4e59['rigidbody'],_0xf1d277=_0x3d015f['others'];let _0xe7817a=_0xf1d277['length'];for(;_0xe7817a--;){const _0x1d73be=_0xf1d277[_0xe7817a];(!_0x53597f||_0x53597f['others']['indexOf'](_0x1d73be)<0x1d4+0xeef+-0x10c3*0x1)&&(_0xf1d277['splice'](_0xe7817a,0x21e0+0x1878+-0x3a57),_0x2e4e59['trigger']?(_0x3be605&&_0x3be605['fire']('triggerlea'+'ve',_0x1d73be),_0x1d73be['rigidbody']&&_0x1d73be['rigidbody']['fire']('triggerlea'+'ve',_0x2e4e59)):_0x1d73be['trigger']||(_0x2a2ec5&&_0x2a2ec5['fire']('collisione'+'nd',_0x1d73be),_0x3be605&&_0x3be605['fire']('collisione'+'nd',_0x1d73be)));}_0xf1d277['length']===0x1450+0xd*-0x235+0x861&&delete this['collisions'][_0x5f4195];}}['_hasContac'+'tEvent'](_0x1bf6c1){const _0x5d9ba2=_0x1bf6c1['collision'];if(_0x5d9ba2&&(_0x5d9ba2['hasEvent']('collisions'+'tart')||_0x5d9ba2['hasEvent']('collisione'+'nd')||_0x5d9ba2['hasEvent']('contact')))return!(-0x1a79+0xad2+0xfa7);const _0x173bef=_0x1bf6c1['rigidbody'];return _0x173bef&&(_0x173bef['hasEvent']('collisions'+'tart')||_0x173bef['hasEvent']('collisione'+'nd')||_0x173bef['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x29d5f5,_0x3bf7dc){const _0x147ead=Ammo['wrapPointe'+'r'](_0x29d5f5,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x3c9730=_0x147ead['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x5af94e=-0x2*0x283+-0x62a+-0x2*-0x598;_0x5af94e<_0x3c9730;_0x5af94e++){const _0x152b5c=_0x147ead['getManifol'+'dByIndexIn'+'ternal'](_0x5af94e),_0x29b58b=_0x152b5c['getBody0'](),_0x4a3d9a=_0x152b5c['getBody1'](),_0x9b07ef=Ammo['castObject'](_0x29b58b,Ammo['btRigidBod'+'y']),_0x580599=Ammo['castObject'](_0x4a3d9a,Ammo['btRigidBod'+'y']),_0x21276b=_0x9b07ef['entity'],_0x245198=_0x580599['entity'];if(!_0x21276b||!_0x245198)continue;const _0x4c16d2=_0x9b07ef['getCollisi'+'onFlags'](),_0x35049e=_0x580599['getCollisi'+'onFlags'](),_0xa3ac7=_0x152b5c['getNumCont'+'acts'](),_0x290f6c=[],_0x199b35=[];let _0x123aee;if(_0xa3ac7>-0x25c1+0xaaf*0x1+0x483*0x6){if(_0x4c16d2&lo||_0x35049e&lo){const _0x22d29c=_0x21276b['collision']&&(_0x21276b['collision']['hasEvent']('triggerent'+'er')||_0x21276b['collision']['hasEvent']('triggerlea'+'ve')),_0x3f050a=_0x245198['collision']&&(_0x245198['collision']['hasEvent']('triggerent'+'er')||_0x245198['collision']['hasEvent']('triggerlea'+'ve')),_0x2dfd08=_0x21276b['rigidbody']&&(_0x21276b['rigidbody']['hasEvent']('triggerent'+'er')||_0x21276b['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x3b1acf=_0x245198['rigidbody']&&(_0x245198['rigidbody']['hasEvent']('triggerent'+'er')||_0x245198['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x22d29c&&(_0x123aee=this['_storeColl'+'ision'](_0x21276b,_0x245198),_0x123aee&&!(_0x35049e&lo)&&_0x21276b['collision']['fire']('triggerent'+'er',_0x245198)),_0x3f050a&&(_0x123aee=this['_storeColl'+'ision'](_0x245198,_0x21276b),_0x123aee&&!(_0x4c16d2&lo)&&_0x245198['collision']['fire']('triggerent'+'er',_0x21276b)),_0x2dfd08&&(_0x123aee||(_0x123aee=this['_storeColl'+'ision'](_0x245198,_0x21276b)),_0x123aee&&_0x21276b['rigidbody']['fire']('triggerent'+'er',_0x245198)),_0x3b1acf&&(_0x123aee||(_0x123aee=this['_storeColl'+'ision'](_0x21276b,_0x245198)),_0x123aee&&_0x245198['rigidbody']['fire']('triggerent'+'er',_0x21276b));}else{const _0x43dfce=this['_hasContac'+'tEvent'](_0x21276b),_0x6f7700=this['_hasContac'+'tEvent'](_0x245198),_0x33cddd=this['hasEvent']('contact');if(_0x33cddd||_0x43dfce||_0x6f7700){for(let _0x52ed00=-0x88*-0xd+-0x206e+0x1986;_0x52ed00<_0xa3ac7;_0x52ed00++){const _0x123667=_0x152b5c['getContact'+'Point'](_0x52ed00),_0x45382b=this['_createCon'+'tactPointF'+'romAmmo'](_0x123667);if(_0x43dfce||_0x6f7700){_0x290f6c['push'](_0x45382b);const _0x52dd17=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x123667);_0x199b35['push'](_0x52dd17);}if(_0x33cddd){const _0x44e363=this['_createSin'+'gleContact'+'Result'](_0x21276b,_0x245198,_0x45382b);this['fire']('contact',_0x44e363);}}if(_0x43dfce){const _0x4159c8=this['_createCon'+'tactResult'](_0x245198,_0x290f6c);_0x123aee=this['_storeColl'+'ision'](_0x21276b,_0x245198),_0x21276b['collision']&&(_0x21276b['collision']['fire']('contact',_0x4159c8),_0x123aee&&_0x21276b['collision']['fire']('collisions'+'tart',_0x4159c8)),_0x21276b['rigidbody']&&(_0x21276b['rigidbody']['fire']('contact',_0x4159c8),_0x123aee&&_0x21276b['rigidbody']['fire']('collisions'+'tart',_0x4159c8));}if(_0x6f7700){const _0x180564=this['_createCon'+'tactResult'](_0x21276b,_0x199b35);_0x123aee=this['_storeColl'+'ision'](_0x245198,_0x21276b),_0x245198['collision']&&(_0x245198['collision']['fire']('contact',_0x180564),_0x123aee&&_0x245198['collision']['fire']('collisions'+'tart',_0x180564)),_0x245198['rigidbody']&&(_0x245198['rigidbody']['fire']('contact',_0x180564),_0x123aee&&_0x245198['rigidbody']['fire']('collisions'+'tart',_0x180564));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x12814b){let _0x28ce16,_0x317bc6;this['_stats']['physicsSta'+'rt']=re(),this['_gravityFl'+'oat32'][-0x5d1*-0x1+-0xe13*-0x1+-0x10c*0x13]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x9d*-0x3e+-0x1e8b+-0xb*0xae]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x3*0xd5+-0x12*-0x25+-0x19]=this['gravity']['z'];const _0x535f11=this['dynamicsWo'+'rld']['getGravity']();(_0x535f11['x']()!==this['_gravityFl'+'oat32'][-0x1746+-0x615+0x1d5b]||_0x535f11['y']()!==this['_gravityFl'+'oat32'][-0x1891+0x1583+0x30f]||_0x535f11['z']()!==this['_gravityFl'+'oat32'][-0x9*0x16+0x7f7+-0x72f])&&(_0x535f11['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x535f11));const _0x1c8385=this['_triggers'];for(_0x28ce16=-0xd6*0x25+0x11a6+0x14*0xaa,_0x317bc6=_0x1c8385['length'];_0x28ce16<_0x317bc6;_0x28ce16++)_0x1c8385[_0x28ce16]['updateTran'+'sform']();const _0x504779=this['_compounds'];for(_0x28ce16=-0x1af*-0xf+0x2*0xa43+0x2dc7*-0x1,_0x317bc6=_0x504779['length'];_0x28ce16<_0x317bc6;_0x28ce16++)_0x504779[_0x28ce16]['_updateCom'+'pound']();const _0xc14bc0=this['_kinematic'];for(_0x28ce16=0x649*-0x2+0x1*0x1f40+-0x12ae,_0x317bc6=_0xc14bc0['length'];_0x28ce16<_0x317bc6;_0x28ce16++)_0xc14bc0[_0x28ce16]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x12814b,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x441071=this['_dynamic'];for(_0x28ce16=-0x1e88+-0x149b+0x3323,_0x317bc6=_0x441071['length'];_0x28ce16<_0x317bc6;_0x28ce16++)_0x441071[_0x28ce16]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x12814b),this['_stats']['physicsTim'+'e']=re()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](li),Ammo['destroy'](hi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,li=null,hi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const qn='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0xc832c9,_0x2919c2){super(_0xc832c9,_0x2919c2),this['_resolutio'+'n']=new W(-0x5*0x412+0x15d*-0x1+0x1837*0x1,-0xe89+-0x1e1*-0x11+-0x1028),this['_reference'+'Resolution']=new W(-0x19d0+0x2555+-0x905,-0x1a6b+0x1*0x2501+0x1*-0x956),this['_scaleMode']=qn,this['scale']=0x26ff+-0x1c*0x115+-0x8b2,this['_scaleBlen'+'d']=-0x6df*-0x5+-0x1*-0x323+-0x257e*0x1+0.5,this['_priority']=0x6e1+-0x2008+0x1927,this['_screenSpa'+'ce']=!(-0x79b+0x20cd+-0x1931),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0xc832c9['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x33b1c8,_0x38513b){var _0x379c5a;if(!(_0x33b1c8 instanceof We))return _0x38513b;if(_0x33b1c8['element']){const _0xc66f3e=_0x33b1c8['element']['drawOrder'];_0x33b1c8['element']['drawOrder']=_0x38513b++,_0x33b1c8['element']['_batchGrou'+'pId']>=-0x1627+0x4a*0x44+0x27f&&_0xc66f3e!==_0x33b1c8['element']['drawOrder']&&((_0x379c5a=this['system']['app']['batcher'])==null||_0x379c5a['markGroupD'+'irty'](_0x33b1c8['element']['_batchGrou'+'pId']));}_0x33b1c8['particlesy'+'stem']&&(_0x33b1c8['particlesy'+'stem']['drawOrder']=_0x38513b++);const _0x38792d=_0x33b1c8['children'];for(let _0xe8ea01=-0x1fda+0x1895*-0x1+-0x1*-0x386f;_0xe8ea01<_0x38792d['length'];_0xe8ea01++)_0x38513b=this['_recurseDr'+'awOrderSyn'+'c'](_0x38792d[_0xe8ea01],_0x38513b);return _0x38513b;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x12c1*0x1+-0x71*0x7+0x15d9),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x4d5ee6=this['_resolutio'+'n']['x']/this['scale'],_0x3279de=this['_resolutio'+'n']['y']/this['scale'],_0x12b1e7=0x26fe+-0x534+-0x21ca,_0x22987a=_0x4d5ee6,_0x37feb5=-_0x3279de;this['_screenMat'+'rix']['setOrtho'](_0x12b1e7,_0x22987a,_0x37feb5,-0xd0f+-0x66*0x1b+0x17d1,-0xd*-0x2e9+-0x1070*-0x2+-0x2*0x235a,-(-0x1534+-0x1e17*0x1+0x7*0x754)),this['_screenSpa'+'ce']||(Sg['setScale']((-0x36f*-0xa+0x1b9a+-0xf7c*0x4+0.5)*_0x4d5ee6,(-0x1986+0xdf0+0xb96+0.5)*_0x3279de,-0x8a*-0x43+0x18a7+-0x2*0x1e62),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x3ab979,_0xf08dde){const _0x9dbeb4=Math['log2']((_0x3ab979['x']||-0x19c1+-0x10ff+-0x3e3*-0xb)/_0xf08dde['x']),_0x43d334=Math['log2']((_0x3ab979['y']||-0x2d8+-0xe47+0x4*0x448)/_0xf08dde['y']);return Math['pow'](-0x1*0x52a+-0x2*-0x125b+-0x1f8a,_0x9dbeb4*(0x13*0x43+0x9df+0x1d*-0x83-this['_scaleBlen'+'d'])+_0x43d334*this['_scaleBlen'+'d']);}['_onResize'](_0x4ec0b3,_0x6ac4c4){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x4ec0b3,_0x6ac4c4),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0xaa9eb){this['_elements']['add'](_0xaa9eb);}['_unbindEle'+'ment'](_0x42b3de){this['_elements']['delete'](_0x42b3de);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x226171=>_0x226171['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x156722){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x156722['x'],_0x156722['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x70dfc5=>_0x70dfc5['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x34c758){this['_reference'+'Resolution']['set'](_0x34c758['x'],_0x34c758['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x2b472a=>_0x2b472a['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===qn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x130894){this['_screenSpa'+'ce']=_0x130894,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x465ace=>_0x465ace['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x426ab5){_0x426ab5!==qn&&_0x426ab5!==SI&&(_0x426ab5=qn),!this['_screenSpa'+'ce']&&_0x426ab5!==qn&&(_0x426ab5=qn),this['_scaleMode']=_0x426ab5,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x573096){this['_scaleBlen'+'d']=_0x573096,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x2b686a=>_0x2b686a['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x107080){_0x107080>0x1a29+0xe73+-0x1*0x279d&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x107080+'\x20to\x20255'),_0x107080=-0x273+0x44*0xd+-0x2),this['_priority']!==_0x107080&&(this['_priority']=_0x107080,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0x247e+-0x16a5+0x3b23);}}const _f=['enabled'];class bI extends Xe{constructor(_0x2c495d){super(_0x2c495d),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=_f,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x37930c,_0x3e96fc,_0x13bf87){_0x3e96fc['priority']!==void(0x33c*0xc+0x10f*-0x8+0x4*-0x796)&&(_0x37930c['priority']=_0x3e96fc['priority']),_0x3e96fc['screenSpac'+'e']!==void(-0x2215+-0x17ed+0xb*0x546)&&(_0x37930c['screenSpac'+'e']=_0x3e96fc['screenSpac'+'e']),_0x37930c['cull']=_0x37930c['screenSpac'+'e'],_0x3e96fc['scaleMode']!==void(-0x16*0x189+0x15c+0x3*0xace)&&(_0x37930c['scaleMode']=_0x3e96fc['scaleMode']),_0x3e96fc['scaleBlend']!==void(-0x39*0xa3+0x47*-0x83+0x48a0)&&(_0x37930c['scaleBlend']=_0x3e96fc['scaleBlend']),_0x3e96fc['resolution']!==void(-0x2591+-0x5c3*-0x1+0x1fce)&&(_0x3e96fc['resolution']instanceof W?_0x37930c['_resolutio'+'n']['copy'](_0x3e96fc['resolution']):_0x37930c['_resolutio'+'n']['set'](_0x3e96fc['resolution'][0xad*0x17+0xcf4+0x5*-0x5b3],_0x3e96fc['resolution'][0x7*-0x23f+0x3*-0xcbb+0x35eb]),_0x37930c['resolution']=_0x37930c['_resolutio'+'n']),_0x3e96fc['referenceR'+'esolution']!==void(0x1127*-0x1+-0x8a1*-0x2+-0x9*0x3)&&(_0x3e96fc['referenceR'+'esolution']instanceof W?_0x37930c['_reference'+'Resolution']['copy'](_0x3e96fc['referenceR'+'esolution']):_0x37930c['_reference'+'Resolution']['set'](_0x3e96fc['referenceR'+'esolution'][-0x1be0+-0xb1*0x31+0x3dc1*0x1],_0x3e96fc['referenceR'+'esolution'][-0x82f*0x1+-0xd*-0xc5+-0xf*0x1f]),_0x37930c['referenceR'+'esolution']=_0x37930c['_reference'+'Resolution']),_0x37930c['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x37930c,_0x3e96fc,_f);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x386c9e){const _0x2da9fb=this['store'];for(const _0x3451af in _0x2da9fb)_0x2da9fb[_0x3451af]['entity']['screen']['update']&&_0x2da9fb[_0x3451af]['entity']['screen']['update'](_0x386c9e);}['_onResize'](_0xd8258b,_0x78716d){this['windowReso'+'lution']['x']=_0xd8258b,this['windowReso'+'lution']['y']=_0x78716d;}['cloneCompo'+'nent'](_0x5e5139,_0x2d1c2a){const _0x18d5a1=_0x5e5139['screen'];return this['addCompone'+'nt'](_0x2d1c2a,{'enabled':_0x18d5a1['enabled'],'screenSpace':_0x18d5a1['screenSpac'+'e'],'scaleMode':_0x18d5a1['scaleMode'],'resolution':_0x18d5a1['resolution']['clone'](),'referenceResolution':_0x18d5a1['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x2e7a51,_0xaea4f3){_0xaea4f3['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x1cb77e=this['_drawOrder'+'SyncQueue']['list']();for(let _0x44ccbf=0x1*-0x1983+-0x1c8b*-0x1+-0x1*0x308;_0x44ccbf<_0x1cb77e['length'];_0x44ccbf++){const _0x2ccb64=_0x1cb77e[_0x44ccbf];_0x2ccb64['callback']['call'](_0x2ccb64['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x144302,_0x4ee3a9,_0x2cb799){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x144302)||this['_drawOrder'+'SyncQueue']['push'](_0x144302,{'callback':_0x4ee3a9,'scope':_0x2cb799});}}ue['_buildAcce'+'ssors'](_x['prototype'],_f);const Xi=new W(),vg=new T(),Pr=new fu(),bg=new hy(),wg=new T(),io=new T(),wI=new te(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x5dc384,_0x299c8e){if(super(),!_0x5dc384||!(_0x5dc384 instanceof Wt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x299c8e&&_0x299c8e!=='x'&&_0x299c8e!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x299c8e);this['_element']=_0x5dc384,this['_app']=_0x5dc384['system']['app'],this['_axis']=_0x299c8e||null,this['_enabled']=!(-0x25f9+-0x15a9+0x3ba2),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(0x19*0x161+-0x1f*0x11+-0x2069),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x2b6875){this['_element'][_0x2b6875]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2b6875]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2b6875]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x411424){const _0x2a4281=_0x411424==='on';this['_hasDragLi'+'steners']&&_0x2a4281||(this['_app']['mouse']&&(this['_element'][_0x411424]('mousemove',this['_onMove'],this),this['_element'][_0x411424]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x411424]('touchmove',this['_onMove'],this),this['_element'][_0x411424]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x411424]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x411424]('selectmove',this['_onMove'],this),this['_element'][_0x411424]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x2a4281);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x55a252){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x55a252['camera'],this['_calculate'+'DragScale']();const _0x428c6d=this['_screenToL'+'ocal'](_0x55a252);_0x428c6d&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x3*0x3e+-0x42c+-0x273*-0x2),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x428c6d),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x2bb+-0x187+0x443),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x151f06){return _0x151f06['inputSourc'+'e']?Pr['set'](_0x151f06['inputSourc'+'e']['getOrigin'](),_0x151f06['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x151f06),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x2537+-0x1c20+-0x48b*0x2)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x56001c){const _0x485d37=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x56001c['x']<'u'&&typeof _0x56001c['y']<'u'?(Xi['x']=_0x56001c['x']*_0x485d37,Xi['y']=_0x56001c['y']*_0x485d37):_0x56001c['changedTou'+'ches']?(Xi['x']=_0x56001c['changedTou'+'ches'][0x871+0x1829+-0x6*0x56f]['x']*_0x485d37,Xi['y']=_0x56001c['changedTou'+'ches'][0x59a*-0x4+0x1f6a+0x1*-0x902]['y']*_0x485d37):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](Xi['x'],-Xi['y'],0x10*-0x1ac+0x179+-0x1*-0x1947),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](Xi['x'],Xi['y'],-0x4e+0x1d30+-0x1ce1)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x3fdda7=this['_element']['entity']['parent'];const _0x3e0edc=this['_element']['screen']&&this['_element']['screen']['screen'],_0x118abc=_0x3e0edc&&_0x3e0edc['screenSpac'+'e'],_0x14987c=_0x118abc?_0x3e0edc['scale']:-0x2576+0x10ef+0x1488,_0x4dd5c3=this['_dragScale'];for(_0x4dd5c3['set'](_0x14987c,_0x14987c,_0x14987c);_0x3fdda7&&(_0x4dd5c3['mul'](_0x3fdda7['getLocalSc'+'ale']()),_0x3fdda7=_0x3fdda7['parent'],!(_0x118abc&&_0x3fdda7['screen'])););_0x4dd5c3['x']=(-0x11a4*0x1+0xfa*-0x2+0x1*0x1399)/_0x4dd5c3['x'],_0x4dd5c3['y']=(0x18ba+-0x18d*0x17+0xaf2)/_0x4dd5c3['y'],_0x4dd5c3['z']=0x22c9+0x1218+-0x34e1*0x1;}['_onMove'](_0x381d53){const {_element:_0x190dcb,_deltaMousePosition:_0x171bfa,_deltaHandlePosition:_0x223510,_axis:_0x2b83fa}=this;if(_0x190dcb&&this['_isDraggin'+'g']&&this['enabled']&&_0x190dcb['enabled']&&_0x190dcb['entity']['enabled']){const _0x2c4454=this['_screenToL'+'ocal'](_0x381d53);if(_0x2c4454){if(_0x171bfa['sub2'](_0x2c4454,this['_dragStart'+'MousePosit'+'ion']),_0x223510['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x171bfa),_0x2b83fa){const _0x55226a=_0x190dcb['entity']['getLocalPo'+'sition'](),_0x16089f=TI[_0x2b83fa];_0x223510[_0x16089f]=_0x55226a[_0x16089f];}_0x190dcb['entity']['setLocalPo'+'sition'](_0x223510),this['fire']('drag:move',_0x223510);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x5ec269){this['_enabled']=_0x5ec269;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=0x1*-0x1fe1+-0x1618+0x35f9,Tg=0x1*-0x3f3+-0xf2e*0x2+-0x16e*-0x18,CI=-0x1e19+0xad*0xe+-0x14a5*-0x1,EI=-0x20e2+0x433*0x3+0x3*0x6c3,MI=0x10*0x100+-0x5cf*-0x4+-0x273b,ro=new W();class gx extends ue{constructor(_0x53cd27,_0x418164){super(_0x53cd27,_0x418164),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][Oe]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x1eea+0x43*0x4e+0x755*-0x7),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x64e661=this['system']['store'][this['entity']['getGuid']()];return _0x64e661?_0x64e661['data']:null;}set['enabled'](_0x32fa1b){this['_setValue']('enabled',_0x32fa1b);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x257a3d){this['_setValue']('horizontal',_0x257a3d);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x3058a5){this['_setValue']('vertical',_0x3058a5);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0xc89ed8){this['_setValue']('scrollMode',_0xc89ed8);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0xa42d32){this['_setValue']('bounceAmou'+'nt',_0xa42d32);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x2bd13f){this['_setValue']('friction',_0x2bd13f);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x3f12c0){this['_setValue']('dragThresh'+'old',_0x3f12c0);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x2f2b3e){this['_setValue']('useMouseWh'+'eel',_0x2f2b3e);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x40e126){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x40e126);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x58f172){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x58f172);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x607c9f){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x607c9f);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x53a53c){if(this['_viewportE'+'ntity']===_0x53a53c)return;const _0x1d92f0=typeof _0x53a53c=='string';this['_viewportE'+'ntity']&&_0x1d92f0&&this['_viewportE'+'ntity']['getGuid']()===_0x53a53c||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x53a53c instanceof De?this['_viewportE'+'ntity']=_0x53a53c:_0x1d92f0?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x53a53c)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x1d92f0&&_0x53a53c&&(this['data']['viewportEn'+'tity']=_0x53a53c));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0xfc0471){if(this['_contentEn'+'tity']===_0xfc0471)return;const _0x307bd1=typeof _0xfc0471=='string';this['_contentEn'+'tity']&&_0x307bd1&&this['_contentEn'+'tity']['getGuid']()===_0xfc0471||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0xfc0471 instanceof De?this['_contentEn'+'tity']=_0xfc0471:_0x307bd1?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0xfc0471)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x307bd1&&_0xfc0471&&(this['data']['contentEnt'+'ity']=_0xfc0471));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x1467fc){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x1467fc)return;const _0x1e723e=typeof _0x1467fc=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x1e723e&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x1467fc||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x1467fc instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x1467fc:_0x1e723e?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x1467fc)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x1e723e&&_0x1467fc&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x1467fc));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x15b9b0){if(this['_verticalS'+'crollbarEn'+'tity']===_0x15b9b0)return;const _0x2a95d7=typeof _0x15b9b0=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x2a95d7&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x15b9b0||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x15b9b0 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x15b9b0:_0x2a95d7?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x15b9b0)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][Oe]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x2a95d7&&_0x15b9b0&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x15b9b0));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x1bea48){this['_onSetScro'+'ll'](_0x1bea48['x'],_0x1bea48['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x3f82d5,_0x4f7721){const _0xdd96ca=this['data'],_0x54ddb7=_0xdd96ca[_0x3f82d5];_0xdd96ca[_0x3f82d5]=_0x4f7721,this['fire']('set',_0x3f82d5,_0x54ddb7,_0x4f7721);}['_toggleLif'+'ecycleList'+'eners'](_0x5d9608){this[_0x5d9608]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x5d9608]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x5d9608]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x460429){if(this['entity']['element']){if(_0x460429==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x460429]('resize',this['_syncAll'],this),this['entity']['element'][_0x460429](Pu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x460429==='on';}}['_onElement'+'ComponentA'+'dd'](_0x217389){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0xff9617){var _0x5af2a2;(_0x5af2a2=this['_evtElemen'+'tRemove'])==null||_0x5af2a2['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x4bf07f,_0xfe41ba;(_0x4bf07f=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x4bf07f['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0xfe41ba=this['_viewportE'+'ntity'])!=null&&_0xfe41ba['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x3f3679=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x3f3679['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x3f3679['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x11f45a,_0x5caaa7;(_0x11f45a=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x11f45a['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x5caaa7=this['_evtViewpo'+'rtResize'])==null||_0x5caaa7['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x21e849,_0x4cdc77;(_0x21e849=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x21e849['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x4cdc77=this['_contentEn'+'tity'])!=null&&_0x4cdc77['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x36e8f8=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x36e8f8['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x36e8f8['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x2ae213,_0x2038e6;(_0x2ae213=this['_evtConten'+'tElementRe'+'move'])==null||_0x2ae213['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x2038e6=this['_evtConten'+'tResize'])==null||_0x2038e6['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][Oe]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x37f66a){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0xa50+-0x1*0x1c3f+0x11ef*0x1),this['_setScroll'+'FromConten'+'tPosition'](_0x37f66a),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x37f66a),!this['_disabledC'+'ontentInpu'+'t'])){const _0x996180=_0x37f66a['x']-this['_dragStart'+'Position']['x'],_0x5271fe=_0x37f66a['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x996180)>this['dragThresh'+'old']||Math['abs'](_0x5271fe)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x2f89b8;(_0x2f89b8=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x2f89b8['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x680049;(_0x680049=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x680049['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x53d8ad){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x53d8ad,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x4b692d){!this['_scrollbar'+'UpdateFlag'+'s'][Oe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x4b692d);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x2bd697;const _0x12e802=(_0x2bd697=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x1bea+0x2*-0xa30+0x304a):_0x2bd697['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x12e802['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x12e802['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x116402;const _0x509244=(_0x116402=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x416*0x1+0x24b5*-0x1+-0x28cb*-0x1):_0x116402['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x509244['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x509244['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Oe),this['_syncScrol'+'lbarPositi'+'on'](Oe);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x412760,_0x2ce241;(_0x412760=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x412760['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x2ce241=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x2ce241['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x5939b4,_0x485e94;(_0x5939b4=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x5939b4['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x485e94=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x485e94['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](Oe);}['_onSetScro'+'ll'](_0x154752,_0x26e2c1,_0xb4f655){_0xb4f655!==!(-0x19cb+-0x2473+0x3e3f*0x1)&&this['_velocity']['set'](-0x11f0+0x2*-0xcd1+0xa9*0x42,0x220b*-0x1+0x5a2+-0x7*-0x40f,-0x240b+0x9*0x9e+0x5*0x619);const _0x4f7715=this['_updateAxi'+'s'](_0x154752,'x',pe),_0x3fe3fc=this['_updateAxi'+'s'](_0x26e2c1,'y',Oe);(_0x4f7715||_0x3fe3fc)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x538e73,_0x509dfe,_0x377755){const _0x3cc242=_0x538e73!==null&&Math['abs'](_0x538e73-this['_scroll'][_0x509dfe])>-0x15*-0x182+0x1f0*-0xb+-0x5*0x212+0.00001;return(_0x3cc242||this['_isDraggin'+'g']()||_0x538e73===0x9fc+0x145*-0x1c+0x1990)&&(this['_scroll'][_0x509dfe]=this['_determine'+'NewScrollV'+'alue'](_0x538e73,_0x509dfe,_0x377755),this['_syncConte'+'ntPosition'](_0x377755),this['_syncScrol'+'lbarPositi'+'on'](_0x377755)),_0x3cc242;}['_determine'+'NewScrollV'+'alue'](_0x1c6fa5,_0x4b4cb3,_0x2cc607){if(!this['_getScroll'+'ingEnabled'](_0x2cc607))return this['_scroll'][_0x4b4cb3];switch(this['scrollMode']){case AI:return N['clamp'](_0x1c6fa5,-0x1*0x1def+0x121d+0x1*0xbd2,this['_getMaxScr'+'ollValue'](_0x2cc607));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x1c6fa5,_0x4b4cb3,_0x2cc607),_0x1c6fa5;case CI:return _0x1c6fa5;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x1c6fa5;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](Oe),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](Oe),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](Oe);}['_syncConte'+'ntPosition'](_0x354903){if(!this['_contentEn'+'tity'])return;const _0x420d23=this['_getAxis'](_0x354903),_0x32f1f7=this['_getSign'](_0x354903),_0x294058=this['_prevConte'+'ntSizes'][_0x354903],_0x1e397a=this['_getConten'+'tSize'](_0x354903);if(_0x294058!==null&&Math['abs'](_0x294058-_0x1e397a)>-0x3c3+0x1990+-0x1*0x15cd+0.0001){const _0x2b7c25=this['_getMaxOff'+'set'](_0x354903,_0x294058),_0x1ee225=this['_getMaxOff'+'set'](_0x354903,_0x1e397a);_0x1ee225===-0x19*-0xb2+-0x18e*0x8+0x6*-0xd3?this['_scroll'][_0x420d23]=-0x1411*-0x1+-0x1*0x85d+-0xbb3:this['_scroll'][_0x420d23]=N['clamp'](this['_scroll'][_0x420d23]*_0x2b7c25/_0x1ee225,-0x32e*-0x2+0x26*-0xa8+-0x3a*-0x52,0xdfb+0x2*0xb1e+-0x2436);}const _0x1b5216=this['_scroll'][_0x420d23]*this['_getMaxOff'+'set'](_0x354903),_0x4a1dca=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x4a1dca[_0x420d23]=_0x1b5216*_0x32f1f7,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x4a1dca),this['_prevConte'+'ntSizes'][_0x354903]=_0x1e397a;}['_syncScrol'+'lbarPositi'+'on'](_0x545764){const _0x34a209=this['_scrollbar'+'Entities'][_0x545764];if(!(_0x34a209!=null&&_0x34a209['scrollbar']))return;const _0x1bf0f9=this['_getAxis'](_0x545764);this['_scrollbar'+'UpdateFlag'+'s'][_0x545764]=!(-0x24f+0x1c27*0x1+-0x19d8),_0x34a209['scrollbar']['value']=this['_scroll'][_0x1bf0f9],_0x34a209['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x1bf0f9,_0x545764),this['_scrollbar'+'UpdateFlag'+'s'][_0x545764]=!(-0x1503+0x15dd*-0x1+-0xe4b*-0x3);}['_syncScrol'+'lbarEnable'+'dState'](_0x15eb32){const _0x5b7cf1=this['_scrollbar'+'Entities'][_0x15eb32];if(!_0x5b7cf1)return;const _0x21a2c2=this['_getScroll'+'ingEnabled'](_0x15eb32),_0x343ef=this['_getScroll'+'barVisibil'+'ity'](_0x15eb32);switch(_0x343ef){case EI:_0x5b7cf1['enabled']=_0x21a2c2;return;case MI:_0x5b7cf1['enabled']=_0x21a2c2&&this['_contentIs'+'LargerThan'+'Viewport'](_0x15eb32);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x343ef),_0x5b7cf1['enabled']=_0x21a2c2;}}['_contentIs'+'LargerThan'+'Viewport'](_0x59a523){return this['_getConten'+'tSize'](_0x59a523)>this['_getViewpo'+'rtSize'](_0x59a523);}['_contentPo'+'sitionToSc'+'rollValue'](_0x3dbc5c){const _0x4a1496=this['_getMaxOff'+'set'](pe),_0x1ac9a6=this['_getMaxOff'+'set'](Oe);return _0x4a1496===0x2*-0xc47+0x14ed+0x3a1?ro['x']=-0x1fe5*0x1+-0x693*0x1+0x2678:ro['x']=_0x3dbc5c['x']/_0x4a1496,_0x1ac9a6===0x8*0x66+0x10c8+0x354*-0x6?ro['y']=-0x46*0x7+0xf04*0x1+0x81*-0x1a:ro['y']=_0x3dbc5c['y']/-_0x1ac9a6,ro;}['_getMaxOff'+'set'](_0x5f4d11,_0xa110ae){_0xa110ae=_0xa110ae===void(0xcfa*0x1+-0x511*0x7+0x167d)?this['_getConten'+'tSize'](_0x5f4d11):_0xa110ae;const _0x2fcb9c=this['_getViewpo'+'rtSize'](_0x5f4d11);return _0xa110ae<_0x2fcb9c?-this['_getViewpo'+'rtSize'](_0x5f4d11):_0x2fcb9c-_0xa110ae;}['_getMaxScr'+'ollValue'](_0x1c4e41){return this['_contentIs'+'LargerThan'+'Viewport'](_0x1c4e41)?0x206d+-0x1*-0x19b5+-0x3a21:-0x409*-0x1+0x2474+0x287d*-0x1;}['_getScroll'+'barHandleS'+'ize'](_0x184d23,_0x16e8aa){const _0x201eb6=this['_getViewpo'+'rtSize'](_0x16e8aa),_0x342089=this['_getConten'+'tSize'](_0x16e8aa);if(Math['abs'](_0x342089)<-0x1*-0x1009+0x1874+-0x5*0x819+0.001)return-0xfbb*0x2+0x1361+0xc16;const _0x5dbe8a=Math['min'](_0x201eb6/_0x342089,0x6*0x2ce+-0x2541+0x2*0xa37),_0x562ded=this['_toOversho'+'ot'](this['_scroll'][_0x184d23],_0x16e8aa);return _0x562ded===0x249e+-0x269+0x3f*-0x8b?_0x5dbe8a:_0x5dbe8a/(0x4*0x508+0x63d*0x1+-0x1a5c+Math['abs'](_0x562ded));}['_getViewpo'+'rtSize'](_0x5ea053){return this['_getSize'](_0x5ea053,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x42bf98){return this['_getSize'](_0x42bf98,this['_contentEn'+'tity']);}['_getSize'](_0x5907a4,_0x598cd6){return _0x598cd6!=null&&_0x598cd6['element']?_0x598cd6['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x5907a4)]:-0x5*-0x100+0xb8f*-0x2+0x2*0x90f;}['_getScroll'+'ingEnabled'](_0x45da3d){if(_0x45da3d===pe)return this['horizontal'];if(_0x45da3d===Oe)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x45da3d);}['_getScroll'+'barVisibil'+'ity'](_0x31bb31){if(_0x31bb31===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x31bb31===Oe)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x31bb31);}['_getSign'](_0x3ca954){return _0x3ca954===pe?0x9dd+0x1*-0x23c9+0x19ed:-(0x5*-0x3d9+0xeac+0x492);}['_getAxis'](_0xe82f2b){return _0xe82f2b===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x2a9f57){return _0x2a9f57===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](Oe));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',Oe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',Oe)),Math['abs'](this['_velocity']['x'])>0xff7+0x231e+0x1107*-0x3+0.0001||Math['abs'](this['_velocity']['y'])>-0x412*-0x8+0x234c+-0x43dc+0.0001){const _0x209b09=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x209b09['x']+=this['_velocity']['x'],_0x209b09['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x209b09),this['_setScroll'+'FromConten'+'tPosition'](_0x209b09);}this['_velocity']['x']*=-0x2da*-0xd+0x94*0x2a+0x6d1*-0x9-this['friction'],this['_velocity']['y']*=0x36e*-0x4+-0x67a+0x1433-this['friction'];}}['_hasOversh'+'oot'](_0x2c17c8,_0x9b310b){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x2c17c8],_0x9b310b))>0x14fa+0x2308+0x2*-0x1c01+0.001;}['_toOversho'+'ot'](_0x1be097,_0x544b66){const _0x218b14=this['_getMaxScr'+'ollValue'](_0x544b66);return _0x1be097<0x15d7*0x1+-0x3*-0x73d+-0x5*0x8b6?_0x1be097:_0x1be097>_0x218b14?_0x1be097-_0x218b14:0x1*-0x1a74+-0xf26+0x299a;}['_setVeloci'+'tyFromOver'+'shoot'](_0x4ad84b,_0x3214c9,_0x1c9631){const _0x34dda5=this['_toOversho'+'ot'](_0x4ad84b,_0x1c9631)*this['_getMaxOff'+'set'](_0x1c9631)*this['_getSign'](_0x1c9631);Math['abs'](_0x34dda5)>-0x977+-0x1c7d+0x1*0x25f4&&(this['_velocity'][_0x3214c9]=-_0x34dda5/(this['bounceAmou'+'nt']*(-0x1*0x1723+0xdc*0x25+0xb*-0xc5)+(-0x1*-0x5f+0x8fa+-0x12b*0x8)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x52579e){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x52579e,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x52579e)):(this['_velocity']['set'](0x1447+-0xdde+-0x3*0x223,-0xa92+0x58d*-0x7+0x316d*0x1,0x783+-0x17b*0x19+0x1d80),this['_prevConte'+'ntDragPosi'+'tion']=_0x52579e['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x136cec){let _0xe5d547=this['_contentPo'+'sitionToSc'+'rollValue'](_0x136cec);this['_isDraggin'+'g']()&&(_0xe5d547=this['_applyScro'+'llValueTen'+'sion'](_0xe5d547)),this['_onSetScro'+'ll'](_0xe5d547['x'],_0xe5d547['y'],!(-0x72a+0x5b*0x57+-0x17c2));}['_applyScro'+'llValueTen'+'sion'](_0x3785d0){let _0x53dc47=this['_getMaxScr'+'ollValue'](pe),_0x368c06=this['_toOversho'+'ot'](_0x3785d0['x'],pe);return _0x368c06>0x2a8*0x5+0x6f0+-0x1438?_0x3785d0['x']=_0x53dc47+(-0x2*-0x1020+0x78*0x7+-0x2387)*Math['log10'](0x8f9*-0x1+0x2*0xf76+-0xaf9*0x2+_0x368c06):_0x368c06<-0x283*-0x2+0x71*-0x49+-0x21*-0xd3&&(_0x3785d0['x']=-(-0x2ab*-0x1+-0x1*-0x17ef+-0x1a99)*Math['log10'](0x64d*0x2+-0xa39+-0x260-_0x368c06)),_0x53dc47=this['_getMaxScr'+'ollValue'](Oe),_0x368c06=this['_toOversho'+'ot'](_0x3785d0['y'],Oe),_0x368c06>-0x18a9+-0x168+-0x1a11*-0x1?_0x3785d0['y']=_0x53dc47+(0x1*-0x139f+0xa5a+-0x4a3*-0x2)*Math['log10'](0x75e+0x1587+-0x1ce4+_0x368c06):_0x368c06<0x205d+-0x1798+0x8c5*-0x1&&(_0x3785d0['y']=-(-0x49b*-0x3+0x20cf+-0x2e9f)*Math['log10'](-0x23c2+-0x4*0x633+-0x3c8f*-0x1-_0x368c06)),_0x3785d0;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x311b8f){var _0x5314b1,_0x4e6556;(_0x5314b1=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x5314b1['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x311b8f),(_0x4e6556=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x4e6556['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x311b8f);}['_setConten'+'tDraggingE'+'nabled'](_0x5c70d7){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x5c70d7);}['_onMouseWh'+'eel'](_0x3cd91e){var _0x5a54d9;if(!this['useMouseWh'+'eel']||!((_0x5a54d9=this['_contentEn'+'tity'])!=null&&_0x5a54d9['element']))return;const _0x1436bf=_0x3cd91e['event'],_0x29625c=_0x1436bf['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x455f4e=_0x1436bf['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x4b436f=N['clamp'](this['_scroll']['x']+_0x29625c,-0x1c11+-0x834+0x1*0x2445,this['_getMaxScr'+'ollValue'](pe)),_0xe6ea75=N['clamp'](this['_scroll']['y']+_0x455f4e,0xc9b+0xe*-0x46+-0x8c7,this['_getMaxScr'+'ollValue'](Oe));this['scroll']=new W(_0x4b436f,_0xe6ea75);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x32cbaa=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x32cbaa['element']&&(_0x32cbaa['element']['useInput']=!(0x12b9*0x1+-0x335*-0x4+-0x1f8d));}this['_disabledC'+'ontentInpu'+'t']=!(0x1*0x2099+0x20ee+0x20c3*-0x2);}['_disableCo'+'ntentInput'](){const _0x22652f=_0x5cb7ca=>{_0x5cb7ca['element']&&_0x5cb7ca['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x5cb7ca),_0x5cb7ca['element']['useInput']=!(-0x2*0x79+0x1*-0x259d+0x2690));const _0x1fba89=_0x5cb7ca['children'];for(let _0x4bcf5d=-0x200d+-0x1*0xec3+-0x1768*-0x2,_0x1570c4=_0x1fba89['length'];_0x4bcf5d<_0x1570c4;_0x4bcf5d++)_0x22652f(_0x1fba89[_0x4bcf5d]);};if(this['_contentEn'+'tity']){const _0x2feaf0=this['_contentEn'+'tity']['children'];for(let _0x26b97e=-0x1d9*-0x9+-0x1b3b+0xa9a,_0x30ae09=_0x2feaf0['length'];_0x26b97e<_0x30ae09;_0x26b97e++)_0x22652f(_0x2feaf0[_0x26b97e]);}this['_disabledC'+'ontentInpu'+'t']=!(0x1acd+0x13cb+-0x3e2*0xc);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1*-0x19ea+-0x2*0xd97+-0xd46*-0x4)),this['_setConten'+'tDraggingE'+'nabled'](!(-0xd6e*-0x2+0xf73*0x1+-0x2a4f*0x1)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x2595+-0x87d+0x2a5*-0xb)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x3*-0x935+0xb1b+-0x26b9));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x494efe,_0x6f51fd){_0x494efe['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x6f51fd[_0x494efe['viewportEn'+'tity']['getGuid']()]),_0x494efe['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x6f51fd[_0x494efe['contentEnt'+'ity']['getGuid']()]),_0x494efe['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x6f51fd[_0x494efe['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x494efe['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x6f51fd[_0x494efe['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0x9c3+0x355+0x678;class RI{constructor(){c(this,'enabled',!(0x1c19*-0x1+-0x3*-0x44+-0xf1*-0x1d)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x141*-0x15+0x1df*-0x1+0x17c*0x13)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(0x1470+0x203*-0x3+-0xc2*0x13,0x16b3+-0x188e+0x1dc)),c(this,'horizontal'+'ScrollbarV'+'isibility',0x13f+-0x5*-0x652+0x1*-0x20d9),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x1*-0x2177+-0x1fcb+0x1ac*-0x1),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=-0x2*-0x4ff+-0x1549+0xb55;class DI extends Xe{constructor(_0x2176ed){super(_0x2176ed),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x52619f,_0x4386d1,_0x1929d7){_0x4386d1['dragThresh'+'old']===void(-0x3*-0x61+0x1933+-0x1a56*0x1)&&(_0x4386d1['dragThresh'+'old']=II),_0x4386d1['useMouseWh'+'eel']===void(0x1b01+0x1*-0x4a3+-0x165e)&&(_0x4386d1['useMouseWh'+'eel']=!(-0x1d7d+0x215d+-0x3e0)),_0x4386d1['mouseWheel'+'Sensitivit'+'y']===void(-0x12dd+0x9*0x27+-0x1*-0x117e)&&(_0x4386d1['mouseWheel'+'Sensitivit'+'y']=new W(-0xeef*0x1+-0x22d*0x2+-0x66e*-0x3,0x1*-0x15a5+0x3b3*0xa+-0x8*0x1eb)),super['initialize'+'ComponentD'+'ata'](_0x52619f,_0x4386d1,Ag),_0x52619f['viewportEn'+'tity']=_0x4386d1['viewportEn'+'tity'],_0x52619f['contentEnt'+'ity']=_0x4386d1['contentEnt'+'ity'],_0x52619f['horizontal'+'ScrollbarE'+'ntity']=_0x4386d1['horizontal'+'ScrollbarE'+'ntity'],_0x52619f['verticalSc'+'rollbarEnt'+'ity']=_0x4386d1['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x2f1b6e){const _0x492afd=this['store'];for(const _0x47eabf in _0x492afd){const _0x170781=_0x492afd[_0x47eabf]['entity'],_0x442d58=_0x170781['scrollview'];_0x442d58['enabled']&&_0x170781['enabled']&&_0x442d58['onUpdate']();}}['_onRemoveC'+'omponent'](_0x4af030,_0x2de309){_0x2de309['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x105958,_0x571453){super(_0x105958,_0x571453),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x5e711b=this['system']['store'][this['entity']['getGuid']()];return _0x5e711b?_0x5e711b['data']:null;}set['enabled'](_0x15980d){this['_setValue']('enabled',_0x15980d);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x4a22f2){this['_setValue']('orientatio'+'n',_0x4a22f2);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x415a6f){this['_setValue']('value',_0x415a6f);}get['value'](){return this['data']['value'];}set['handleSize'](_0x51acec){this['_setValue']('handleSize',_0x51acec);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0xd06a3f){if(this['_handleEnt'+'ity']===_0xd06a3f)return;const _0xbe4ea8=typeof _0xd06a3f=='string';this['_handleEnt'+'ity']&&_0xbe4ea8&&this['_handleEnt'+'ity']['getGuid']()===_0xd06a3f||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0xd06a3f instanceof De?this['_handleEnt'+'ity']=_0xd06a3f:_0xbe4ea8?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0xd06a3f)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0xbe4ea8&&_0xd06a3f&&(this['data']['handleEnti'+'ty']=_0xd06a3f));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0xd58166,_0x457bc3){const _0x983528=this['data'],_0x2d8df3=_0x983528[_0xd58166];_0x983528[_0xd58166]=_0x457bc3,this['fire']('set',_0xd58166,_0x2d8df3,_0x457bc3);}['_toggleLif'+'ecycleList'+'eners'](_0x44df62){this[_0x44df62]('set_value',this['_onSetValu'+'e'],this),this[_0x44df62]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x44df62]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x92d32d,_0x116e86;(_0x92d32d=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x92d32d['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x116e86=this['_handleEnt'+'ity'])!=null&&_0x116e86['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x4c3478=this['_handleEnt'+'ity']['element'],_0x829c74=this['_evtHandle'+'EntityChan'+'ges'];_0x829c74['push'](_0x4c3478['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x829c74['push'](_0x4c3478['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x829c74['push'](_0x4c3478['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x829c74['push'](_0x4c3478['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x58f4e9=-0x3d*-0x5c+0x1*-0x14a8+-0x144;_0x58f4e9<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x58f4e9++)this['_evtHandle'+'EntityChan'+'ges'][_0x58f4e9]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x1fa7+0x1b*0x133+-0xba;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x59872c){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x59872c[this['_getAxis']()]));}['_onSetValu'+'e'](_0xd3be19,_0x4bb0a3,_0x1b29da){Math['abs'](_0x1b29da-_0x4bb0a3)>0xfe9*0x1+-0x5c*-0xb+-0x13dd+0.00001&&(this['data']['value']=N['clamp'](_0x1b29da,-0x173b+-0x49*0x4a+0x2c55,-0x614+-0x89*0x29+0x1a6*0x11),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x486c4c,_0x2ed1ba,_0x349b71){Math['abs'](_0x349b71-_0x2ed1ba)>0x18f*-0x18+0x16ba+0x757*0x2+0.00001&&(this['data']['handleSize']=N['clamp'](_0x349b71,0x1aa2+0x127+-0x1bc9,-0x502+-0x249+0x2*0x3a6),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x3e2775,_0xe950f6,_0x56a7d7){var _0x3291ec;_0x56a7d7!==_0xe950f6&&((_0x3291ec=this['_handleEnt'+'ity'])!=null&&_0x3291ec['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x17a1+0x8c2+0x3*0x4f5);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x1e19f8=this['_handleEnt'+'ity'],_0xd1338=_0x1e19f8==null?void(0x18c1+-0x2377+0xab6):_0x1e19f8['element'];if(_0x1e19f8){const _0x11bcfb=_0x1e19f8['getLocalPo'+'sition']();_0x11bcfb[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x1e19f8['setLocalPo'+'sition'](_0x11bcfb);}_0xd1338&&(_0xd1338[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x4238f9){return _0x4238f9*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x5981ee){return _0x5981ee*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x1*0x11ec+-0x1a49+-0x2c35*-0x1+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0xde5+0x2044+-0x2e29;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?0x9bb*0x2+-0x1*0x12a9+-0x22*0x6:-(-0x373*0x5+-0xef*0x3+0x140d);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x5cf2a9){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x5cf2a9);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x7*-0xb3+0x2*-0x32f+0xb43*0x1));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1*0x25b7+-0x4e9*0x7+0x5*0xe6b));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x146f8e,_0x1a8899){_0x146f8e['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x1a8899[_0x146f8e['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(-0x1f1c+0x665*0x5+0xd*-0x11)),c(this,'orientatio'+'n',pe),c(this,'value',0x1*-0x60d+-0x1319+0x1926),c(this,'handleSize',0x20d4+-0x1a96+-0x31f*0x2),c(this,'handleEnti'+'ty',null);}}const Cg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x5a9b73){super(_0x5a9b73),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Cg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x1e5591,_0x5c5d5d,_0x136fa2){super['initialize'+'ComponentD'+'ata'](_0x1e5591,_0x5c5d5d,Cg),_0x1e5591['handleEnti'+'ty']=_0x5c5d5d['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x516067){_0x516067['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x2b99d7,_0x34fcb1){_0x34fcb1['onRemove']();}}const kI={'volume':0x0,'pitch':0x0,'loop':!(-0x126+0x1*-0x1dae+0x1ed5*0x1),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class tr extends ce{constructor(_0x57cecb,_0x6a1e4c='Untitled',_0x105eba={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x57cecb,this['_assets']=_0x57cecb['system']['app']['assets'],this['_manager']=_0x57cecb['system']['manager'],this['name']=_0x6a1e4c,this['_volume']=_0x105eba['volume']!==void(-0x27d*-0x7+0x10f+-0x127a)?N['clamp'](Number(_0x105eba['volume'])||-0x6fb+0x20fd*0x1+-0x1a02,0x1*0x1cb5+0x14ea*-0x1+0x85*-0xf,0x6d*-0x1+-0x443*0x2+0x1*0x8f4):-0x11eb*0x1+0x8af+0x93d,this['_pitch']=_0x105eba['pitch']!==void(-0x1*-0x979+0xc7*-0x1c+0xc4b*0x1)?Math['max'](0x22f6+-0x1ce2+0x30a*-0x2+0.01,Number(_0x105eba['pitch'])||-0x16*-0x104+0x7b9+-0x1e11):0x92e+0x1*0x1841+0x1*-0x216e,this['_loop']=!!(_0x105eba['loop']!==void(-0xbb9+-0x1*0x293+0x5*0x2dc)&&_0x105eba['loop']),this['_duration']=_0x105eba['duration']>-0x1b01+0x1*0x26df+-0xbde?_0x105eba['duration']:null,this['_startTime']=Math['max'](-0x3bc+0x34*-0x87+0x1f28,Number(_0x105eba['startTime'])||-0xb63+-0x2*-0x3f1+-0x381*-0x1),this['_overlap']=!!_0x105eba['overlap'],this['_autoPlay']=!!_0x105eba['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x105eba['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x525bfc){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x251e71=_0x525bfc;if(_0x251e71||(_0x251e71=this['_createIns'+'tance'](),this['instances']['push'](_0x251e71)),this['isLoaded'])_0x251e71['play']();else{const _0x24ee4d=function(_0x5f2a9a){const _0x49cfcf=_0x251e71['_playWhenL'+'oaded'];_0x251e71['sound']=_0x5f2a9a,_0x49cfcf&&_0x251e71['play']();};this['off']('load',_0x24ee4d),this['once']('load',_0x24ee4d),this['load']();}return _0x251e71;}['pause'](){let _0xdc276f=!(-0x603+-0x35*-0x1+0x1*0x5cf);const _0x567403=this['instances'];for(let _0x48e5d9=-0x1*0x1da2+-0x153e+0x4a0*0xb,_0x2db1ad=_0x567403['length'];_0x48e5d9<_0x2db1ad;_0x48e5d9++)_0x567403[_0x48e5d9]['pause']()&&(_0xdc276f=!(0x542+-0xb73*0x3+0x1*0x1d17));return _0xdc276f;}['resume'](){let _0x249bd8=!(-0xe13+0x1*-0x199+0x1*0xfad);const _0x33e910=this['instances'];for(let _0x180f3c=0x2675+0x998*0x4+-0x485*0x11,_0x30ecd2=_0x33e910['length'];_0x180f3c<_0x30ecd2;_0x180f3c++)_0x33e910[_0x180f3c]['resume']()&&(_0x249bd8=!(0x6d9*-0x1+-0x1*0x1bb+-0x12*-0x7a));return _0x249bd8;}['stop'](){let _0x3ad2dc=!(-0x756+-0xb7f+-0x2*-0x96b);const _0x26c1d1=this['instances'];let _0x29345b=_0x26c1d1['length'];for(;_0x29345b--;)_0x26c1d1[_0x29345b]['stop'](),_0x3ad2dc=!(-0xbf*-0x9+0x1fa*0xb+-0x1*0x1c75);return _0x26c1d1['length']=-0x2ff+0x159f+-0x12a0,_0x3ad2dc;}['load'](){if(!this['_hasAsset']())return;const _0x302bf6=this['_assets']['get'](this['_asset']);if(!_0x302bf6){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x302bf6['off']('remove',this['_onAssetRe'+'moved'],this),_0x302bf6['on']('remove',this['_onAssetRe'+'moved'],this),!_0x302bf6['resource']){_0x302bf6['off']('load',this['_onAssetLo'+'ad'],this),_0x302bf6['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x302bf6);return;}this['fire']('load',_0x302bf6['resource']);}['setExterna'+'lNodes'](_0x534633,_0x544b55){if(!_0x534633){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x544b55||(_0x544b55=_0x534633),this['_firstNode']=_0x534633,this['_lastNode']=_0x544b55,!this['_overlap']){const _0x15d64a=this['instances'];for(let _0x4ba11c=0x184f+-0x1d2f+0x60*0xd,_0x44df73=_0x15d64a['length'];_0x4ba11c<_0x44df73;_0x4ba11c++)_0x15d64a[_0x4ba11c]['setExterna'+'lNodes'](_0x534633,_0x544b55);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x4287d7=this['instances'];for(let _0x5dd39f=-0x7*-0x50e+0x1*0x8aa+-0x2c0c*0x1,_0x15f9ac=_0x4287d7['length'];_0x5dd39f<_0x15f9ac;_0x5dd39f++)_0x4287d7[_0x5dd39f]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x4cfd81=null;const _0x465b9a=this['_component'];let _0x5c7cf5=null;if(this['_hasAsset']()){const _0x9630ac=this['_assets']['get'](this['_asset']);_0x9630ac&&(_0x5c7cf5=_0x9630ac['resource']);}const _0x5445c2=kI;return _0x5445c2['volume']=this['_volume']*_0x465b9a['volume'],_0x5445c2['pitch']=this['_pitch']*_0x465b9a['pitch'],_0x5445c2['loop']=this['_loop'],_0x5445c2['startTime']=this['_startTime'],_0x5445c2['duration']=this['_duration'],_0x5445c2['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x5445c2['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x5445c2['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x5445c2['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x5445c2['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x465b9a['positional']?(_0x5445c2['position']['copy'](_0x465b9a['entity']['getPositio'+'n']()),_0x5445c2['maxDistanc'+'e']=_0x465b9a['maxDistanc'+'e'],_0x5445c2['refDistanc'+'e']=_0x465b9a['refDistanc'+'e'],_0x5445c2['rollOffFac'+'tor']=_0x465b9a['rollOffFac'+'tor'],_0x5445c2['distanceMo'+'del']=_0x465b9a['distanceMo'+'del'],_0x4cfd81=new Yn(this['_manager'],_0x5c7cf5,_0x5445c2)):_0x4cfd81=new rs(this['_manager'],_0x5c7cf5,_0x5445c2),this['_firstNode']&&_0x4cfd81['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x4cfd81;}['_onInstanc'+'ePlay'](_0x37d359){this['fire']('play',_0x37d359),this['_component']['fire']('play',this,_0x37d359);}['_onInstanc'+'ePause'](_0x4aa7b1){this['fire']('pause',_0x4aa7b1),this['_component']['fire']('pause',this,_0x4aa7b1);}['_onInstanc'+'eResume'](_0x5d0fb9){this['fire']('resume',_0x5d0fb9),this['_component']['fire']('resume',this,_0x5d0fb9);}['_onInstanc'+'eStop'](_0x356069){const _0x83bde9=this['instances']['indexOf'](_0x356069);_0x83bde9!==-(0xe9e+0x187*0x7+-0x52*0x4f)&&this['instances']['splice'](_0x83bde9,-0x1cfb+-0x1005+0x2d01),this['fire']('stop',_0x356069),this['_component']['fire']('stop',this,_0x356069);}['_onInstanc'+'eEnd'](_0x9c6df3){const _0x247747=this['instances']['indexOf'](_0x9c6df3);_0x247747!==-(0x26a1*0x1+0x15f4+0x4*-0xf25)&&this['instances']['splice'](_0x247747,0x641*-0x2+0x1352+-0x6cf),this['fire']('end',_0x9c6df3),this['_component']['fire']('end',this,_0x9c6df3);}['_onAssetAd'+'d'](_0x4795fb){this['load']();}['_onAssetLo'+'ad'](_0x143361){this['load']();}['_onAssetRe'+'moved'](_0xddd345){_0xddd345['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0xddd345['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0xd66731){const _0x1dac8f=this['instances'];for(let _0xc7472b=0x2*-0xca5+-0xe08+0x2752,_0xc2a8b1=_0x1dac8f['length'];_0xc7472b<_0xc2a8b1;_0xc7472b++)_0x1dac8f[_0xc7472b]['position']=_0xd66731;}set['asset'](_0x4beb79){const _0x691ad9=this['_asset'];if(_0x691ad9){this['_assets']['off']('add:'+_0x691ad9,this['_onAssetAd'+'d'],this);const _0x5209d0=this['_assets']['get'](_0x691ad9);_0x5209d0&&_0x5209d0['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x4beb79,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x39dafd){this['_autoPlay']=!!_0x39dafd;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x157ca1){if(this['_duration']=Math['max'](-0x413+-0xb7d+0xf90,Number(_0x157ca1)||-0x7ad+0x15cb+-0xe1e)||null,!this['_overlap']){const _0x13d1fc=this['instances'];for(let _0x75735e=0x7ed*-0x4+0x35*0x1d+0x19b3,_0x451c24=_0x13d1fc['length'];_0x75735e<_0x451c24;_0x75735e++)_0x13d1fc[_0x75735e]['duration']=this['_duration'];}}get['duration'](){let _0x2669b1=0x50*0x2b+-0x980+-0x150*0x3;if(this['_hasAsset']()){const _0x198ad5=this['_assets']['get'](this['_asset']);_0x2669b1=_0x198ad5!=null&&_0x198ad5['resource']?_0x198ad5['resource']['duration']:-0x1c89*0x1+0xe32*0x1+0xe57;}return this['_duration']!=null?this['_duration']%(_0x2669b1||-0x220a+-0x17c8+0x39d3):_0x2669b1;}get['isLoaded'](){if(this['_hasAsset']()){const _0x343708=this['_assets']['get'](this['_asset']);if(_0x343708)return!!_0x343708['resource'];}return!(0xdce+-0xde*0xa+-0x1*0x521);}get['isPaused'](){const _0x4a43bd=this['instances'],_0x54eddf=_0x4a43bd['length'];if(_0x54eddf===0x28*-0xb7+-0x1*-0x607+-0x1691*-0x1)return!(-0x152a+-0xb08*-0x2+0xe5*-0x1);for(let _0xee8c47=0xe13+-0xc96+-0x17d;_0xee8c47<_0x54eddf;_0xee8c47++)if(!_0x4a43bd[_0xee8c47]['isPaused'])return!(0x1c88+-0x22ee*0x1+0x667);return!(0x18de+0x994*0x4+-0x3f2e);}get['isPlaying'](){const _0x49fc7c=this['instances'];for(let _0x6f956d=0x82b+-0x44d+-0x3de,_0x11986f=_0x49fc7c['length'];_0x6f956d<_0x11986f;_0x6f956d++)if(_0x49fc7c[_0x6f956d]['isPlaying'])return!(0x26*-0x95+-0x1*0x20e+0xe*0x1ba);return!(0x243e+0x59*-0x20+-0x191d);}get['isStopped'](){const _0x2c9d2d=this['instances'];for(let _0x17d9a1=0x52*0x41+-0x907*-0x4+-0x38ee,_0x2e292f=_0x2c9d2d['length'];_0x17d9a1<_0x2e292f;_0x17d9a1++)if(!_0x2c9d2d[_0x17d9a1]['isStopped'])return!(0x1b3e+0xce6+0x4b*-0x89);return!(0x26b+-0x1*-0x1891+0x2c*-0x9d);}set['loop'](_0xffe01e){this['_loop']=!!_0xffe01e;const _0xdd4fed=this['instances'];for(let _0x127ad0=0x1b0+0x12d*0x1b+-0x216f,_0x24d6da=_0xdd4fed['length'];_0x127ad0<_0x24d6da;_0x127ad0++)_0xdd4fed[_0x127ad0]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x5a368b){this['_overlap']=!!_0x5a368b;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x52c7c1){if(this['_pitch']=Math['max'](Number(_0x52c7c1)||-0xe37+-0x28a*-0x5+0x185,0x1eb5+0x41*-0x3b+0x16*-0xb7+0.01),!this['_overlap']){const _0x2c79a5=this['instances'];for(let _0x39155f=-0x1c2e+0x3cb+0x1863*0x1,_0x52517e=_0x2c79a5['length'];_0x39155f<_0x52517e;_0x39155f++)_0x2c79a5[_0x39155f]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x3a9327){if(this['_startTime']=Math['max'](-0x145f+-0x2b8*0x3+0x43*0x6d,Number(_0x3a9327)||0x1*0xf3a+0x7*0x19+0xfe9*-0x1),!this['_overlap']){const _0x3a3a02=this['instances'];for(let _0x2c8107=-0x8*0x1d6+0x405*-0x2+0x2*0xb5d,_0xec0f79=_0x3a3a02['length'];_0x2c8107<_0xec0f79;_0x2c8107++)_0x3a3a02[_0x2c8107]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x421311){if(this['_volume']=N['clamp'](Number(_0x421311)||0x118b+0x76b*0x1+-0x18f6,0x46d*0x8+-0x26c6+0x35e,-0x1efe*0x1+-0x17fa+0x36f9),!this['_overlap']){const _0x193b08=this['instances'];for(let _0x4deaed=-0xb*-0xb3+-0x111d+0x96c*0x1,_0x13d315=_0x193b08['length'];_0x4deaed<_0x13d315;_0x4deaed++)_0x193b08[_0x4deaed]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(tr,'EVENT_PLAY','play'),c(tr,'EVENT_PAUS'+'E','pause'),c(tr,'EVENT_RESU'+'ME','resume'),c(tr,'EVENT_STOP','stop'),c(tr,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',0x1d63+0x8fe+-0x2660),c(this,'_pitch',0x1b3b*0x1+-0xd9b+-0xd9f),c(this,'_positiona'+'l',!(0x4*-0x515+-0x2539+0x398d*0x1)),c(this,'_refDistan'+'ce',-0x1600+0x1eca+-0x8c9),c(this,'_maxDistan'+'ce',0x1*-0xf1+-0x3c0b*-0x1+-0xab*0x1e),c(this,'_rollOffFa'+'ctor',0x259a+0x3*0x12a+-0x1*0x2917),c(this,'_distanceM'+'odel',dc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x17d3fd,_0x1b26bc,_0x3e7e01){const _0x54423c=this['_slots'];for(const _0x8b66ad in _0x54423c){const _0x561000=_0x54423c[_0x8b66ad];if(!_0x561000['overlap']){const _0x1d5ce2=_0x561000['instances'];for(let _0x770c8=0x24d2+-0x3*-0xad9+0x455d*-0x1,_0x4bfcc7=_0x1d5ce2['length'];_0x770c8<_0x4bfcc7;_0x770c8++)_0x1d5ce2[_0x770c8][_0x17d3fd]=_0x3e7e01?_0x561000[_0x17d3fd]*_0x1b26bc:_0x1b26bc;}}}set['distanceMo'+'del'](_0x576720){this['_distanceM'+'odel']=_0x576720,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x576720,!(0x1*0x269+0x1445+0x3*-0x78f));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x4d1a93){this['_maxDistan'+'ce']=_0x4d1a93,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x4d1a93,!(-0xfbf+-0x1b80+0x2b40));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x101e2b){this['_refDistan'+'ce']=_0x101e2b,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x101e2b,!(0x2*-0xaa7+-0x18*0xcb+0x2857));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x42a412){this['_rollOffFa'+'ctor']=_0x42a412,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x42a412,!(-0xb9*0x14+0xe86+-0x1*0x11));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x18e435){this['_pitch']=_0x18e435,this['_updateSou'+'ndInstance'+'s']('pitch',_0x18e435,!(0x13b+-0x23ee*0x1+0x3*0xb91));}get['pitch'](){return this['_pitch'];}set['volume'](_0x53dfae){this['_volume']=_0x53dfae,this['_updateSou'+'ndInstance'+'s']('volume',_0x53dfae,!(-0x8*0x424+0x1a46+0x6da));}get['volume'](){return this['_volume'];}set['positional'](_0x4ceb6f){this['_positiona'+'l']=_0x4ceb6f;const _0x23c265=this['_slots'];for(const _0x3c50b1 in _0x23c265){const _0x2df066=_0x23c265[_0x3c50b1];if(!_0x2df066['overlap']){const _0x49cc62=_0x2df066['instances'],_0x3dbd36=_0x49cc62['length'];for(let _0x4f5857=_0x3dbd36-(0x1aaa+0x115*-0xe+-0x1a5*0x7);_0x4f5857>=0x2392+-0x67*-0x2f+-0x367b;_0x4f5857--){const _0x5dff89=_0x49cc62[_0x4f5857]['isPlaying']||_0x49cc62[_0x4f5857]['isSuspende'+'d'],_0x2219fa=_0x49cc62[_0x4f5857]['currentTim'+'e'];_0x5dff89&&_0x49cc62[_0x4f5857]['stop']();const _0x4d7b18=_0x2df066['_createIns'+'tance']();_0x5dff89&&(_0x4d7b18['play'](),_0x4d7b18['currentTim'+'e']=_0x2219fa),_0x49cc62['push'](_0x4d7b18);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x5a343a){const _0x3c18d0=this['_slots'];if(_0x3c18d0){for(const _0x25807a in _0x3c18d0)_0x3c18d0[_0x25807a]['stop']();}const _0x31f51f={};for(const _0x3f6a5b in _0x5a343a)_0x5a343a[_0x3f6a5b]instanceof tr?_0x31f51f[_0x5a343a[_0x3f6a5b]['name']]=_0x5a343a[_0x3f6a5b]:_0x5a343a[_0x3f6a5b]['name']&&(_0x31f51f[_0x5a343a[_0x3f6a5b]['name']]=new tr(this,_0x5a343a[_0x3f6a5b]['name'],_0x5a343a[_0x3f6a5b]));this['_slots']=_0x31f51f,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x2c2fa4=this['_slots'],_0xa549a=this['_playingBe'+'foreDisabl'+'e'];for(const _0x49c664 in _0x2c2fa4){const _0x29d41f=_0x2c2fa4[_0x49c664];_0x29d41f['autoPlay']&&_0x29d41f['isStopped']?_0x29d41f['play']():_0xa549a[_0x49c664]?_0x29d41f['resume']():_0x29d41f['isLoaded']||_0x29d41f['load']();}}['onDisable'](){const _0x47336d=this['_slots'],_0x3d6803={};for(const _0x1b143f in _0x47336d)_0x47336d[_0x1b143f]['overlap']||_0x47336d[_0x1b143f]['isPlaying']&&(_0x47336d[_0x1b143f]['pause'](),_0x3d6803[_0x1b143f]=!(0xd*0xe3+0x20fb*0x1+-0x2c82));this['_playingBe'+'foreDisabl'+'e']=_0x3d6803;}['onRemove'](){this['off']();}['addSlot'](_0x405829,_0x3ee6e1){const _0x3fe499=this['_slots'];if(_0x3fe499[_0x405829])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x405829+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0xf38404=new tr(this,_0x405829,_0x3ee6e1);return _0x3fe499[_0x405829]=_0xf38404,_0xf38404['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0xf38404['play'](),_0xf38404;}['removeSlot'](_0x44dd16){const _0x35a568=this['_slots'];_0x35a568[_0x44dd16]&&(_0x35a568[_0x44dd16]['stop'](),delete _0x35a568[_0x44dd16]);}['slot'](_0x13d0a5){return this['_slots'][_0x13d0a5];}['_getSlotPr'+'operty'](_0xe71c14,_0x638872){if(!this['enabled']||!this['entity']['enabled'])return;const _0x5b7ea8=this['_slots'][_0xe71c14];if(!_0x5b7ea8){v['warn']('Trying\x20to\x20'+'get\x20'+_0x638872+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0xe71c14+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x5b7ea8[_0x638872];}['isPlaying'](_0x11ac15){return this['_getSlotPr'+'operty'](_0x11ac15,'isPlaying')||!(0x20ad+0x1613+-0x36bf);}['isLoaded'](_0x3d1230){return this['_getSlotPr'+'operty'](_0x3d1230,'isLoaded')||!(-0x2633+-0x1*0xcdc+0x1*0x3310);}['isPaused'](_0x152edc){return this['_getSlotPr'+'operty'](_0x152edc,'isPaused')||!(0x2707+-0x5*0x75a+-0x244*0x1);}['isStopped'](_0x454d){return this['_getSlotPr'+'operty'](_0x454d,'isStopped')||!(0xb90+0x1433*-0x1+0x4*0x229);}['play'](_0x6b4884){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x51c048=this['_slots'][_0x6b4884];return _0x51c048?_0x51c048['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x6b4884+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x595f1a){const _0x484a5b=this['_slots'];if(_0x595f1a){const _0x54e1f3=_0x484a5b[_0x595f1a];if(!_0x54e1f3){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x595f1a+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x54e1f3['pause']();}else{for(const _0x1ba631 in _0x484a5b)_0x484a5b[_0x1ba631]['pause']();}}['resume'](_0x1cab73){const _0x11dcbe=this['_slots'];if(_0x1cab73){const _0xb47324=_0x11dcbe[_0x1cab73];if(!_0xb47324){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x1cab73+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xb47324['isPaused']&&_0xb47324['resume']();}else{for(const _0x1a6f0c in _0x11dcbe)_0x11dcbe[_0x1a6f0c]['resume']();}}['stop'](_0x3b2521){const _0x5d54b7=this['_slots'];if(_0x3b2521){const _0x351ee6=_0x5d54b7[_0x3b2521];if(!_0x351ee6){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x3b2521+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x351ee6['stop']();}else{for(const _0x50cfda in _0x5d54b7)_0x5d54b7[_0x50cfda]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class OI{constructor(){this['enabled']=!(-0x3*-0xbe1+-0x1b9a*0x1+-0x809);}}const xx=['enabled'];class BI extends Xe{constructor(_0x4dabdf){super(_0x4dabdf),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=OI,this['schema']=xx,this['manager']=_0x4dabdf['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x347df3){this['manager']['volume']=_0x347df3;}get['volume'](){return this['manager']['volume'];}get['context'](){return ki()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x3b093a,_0x2c5e6c,_0xd46bb6){_0xd46bb6=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x26359c=-0x705+-0x43*0x53+0x1cbe;_0x26359c<_0xd46bb6['length'];_0x26359c++)_0x2c5e6c['hasOwnProp'+'erty'](_0xd46bb6[_0x26359c])&&(_0x3b093a[_0xd46bb6[_0x26359c]]=_0x2c5e6c[_0xd46bb6[_0x26359c]]);super['initialize'+'ComponentD'+'ata'](_0x3b093a,_0x2c5e6c,['enabled']);}['cloneCompo'+'nent'](_0x16837b,_0x236a06){const _0x1f961b=_0x16837b['sound'],_0xc7b63d=_0x1f961b['slots'],_0x3c8c83={};for(const _0x5e83d5 in _0xc7b63d){const _0x13f3e6=_0xc7b63d[_0x5e83d5];_0x3c8c83[_0x5e83d5]={'name':_0x13f3e6['name'],'volume':_0x13f3e6['volume'],'pitch':_0x13f3e6['pitch'],'loop':_0x13f3e6['loop'],'duration':_0x13f3e6['duration'],'startTime':_0x13f3e6['startTime'],'overlap':_0x13f3e6['overlap'],'autoPlay':_0x13f3e6['autoPlay'],'asset':_0x13f3e6['asset']};}const _0x20b7d3={'distanceModel':_0x1f961b['distanceMo'+'del'],'enabled':_0x1f961b['enabled'],'maxDistance':_0x1f961b['maxDistanc'+'e'],'pitch':_0x1f961b['pitch'],'positional':_0x1f961b['positional'],'refDistance':_0x1f961b['refDistanc'+'e'],'rollOffFactor':_0x1f961b['rollOffFac'+'tor'],'slots':_0x3c8c83,'volume':_0x1f961b['volume']};return this['addCompone'+'nt'](_0x236a06,_0x20b7d3);}['onUpdate'](_0x199bf3){const _0x20aa6f=this['store'];for(const _0x3cc776 in _0x20aa6f)if(_0x20aa6f['hasOwnProp'+'erty'](_0x3cc776)){const _0x55cd94=_0x20aa6f[_0x3cc776]['entity'];if(_0x55cd94['enabled']){const _0x476260=_0x55cd94['sound'];if(_0x476260['enabled']&&_0x476260['positional']){const _0x3adcb6=_0x55cd94['getPositio'+'n'](),_0x30b6a8=_0x476260['slots'];for(const _0x597c3a in _0x30b6a8)_0x30b6a8[_0x597c3a]['updatePosi'+'tion'](_0x3adcb6);}}}}['onBeforeRe'+'move'](_0x4b5f6d,_0x5350ab){const _0x45f8d1=_0x5350ab['slots'];for(const _0x162449 in _0x45f8d1)_0x45f8d1[_0x162449]['overlap']||_0x45f8d1[_0x162449]['stop']();_0x5350ab['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Eg='simple',Mg='animated';class Ti extends ce{constructor(_0x3ff275,_0x1f12ed){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x3ff275,this['_frame']=0x1d*-0x9f+-0x2309+-0x1c*-0x1e5,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x1f12ed['spriteAsse'+'t'],this['name']=_0x1f12ed['name'],this['fps']=_0x1f12ed['fps']||0xad0+-0x1a*-0x157+-0x2da6*0x1,this['loop']=_0x1f12ed['loop']||!(0x19f1+0xa3*-0x3d+0xce7),this['_playing']=!(-0x1960+0xdb0*-0x2+0x34c1),this['_paused']=!(-0x7*0x26f+0xc4b*0x1+0x4bf),this['_time']=-0x819+-0x24df+0x2cf8);}get['duration'](){if(this['_sprite']){const _0x4c4d85=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x4c4d85);}return-0x7cd+0x4e9*-0x5+-0xca*-0x29;}set['frame'](_0x375ea8){this['_setFrame'](_0x375ea8);const _0x5f1772=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x5f1772);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x28e22e){var _0x189505;if(this['_sprite']&&((_0x189505=this['_evtSetMes'+'hes'])==null||_0x189505['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x28e22e,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x1afd03;!_0x28e22e||!_0x28e22e['atlas']?(_0x1afd03=this['_component']['_meshInsta'+'nce'],_0x1afd03&&(_0x1afd03['deletePara'+'meter']('texture_em'+'issiveMap'),_0x1afd03['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x28e22e['atlas']['texture']&&(_0x1afd03=this['_component']['_meshInsta'+'nce'],_0x1afd03&&(_0x1afd03['setParamet'+'er']('texture_em'+'issiveMap',_0x28e22e['atlas']['texture']),_0x1afd03['setParamet'+'er']('texture_op'+'acityMap',_0x28e22e['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x260aad){const _0x1f61fb=this['_component']['system']['app']['assets'];let _0x111385=_0x260aad;if(_0x260aad instanceof le&&(_0x111385=_0x260aad['id']),this['_spriteAss'+'et']!==_0x111385){if(this['_spriteAss'+'et']){const _0x18681d=_0x1f61fb['get'](this['_spriteAss'+'et']);_0x18681d&&this['_unbindSpr'+'iteAsset'](_0x18681d);}if(this['_spriteAss'+'et']=_0x111385,this['_spriteAss'+'et']){const _0x2ad8e6=_0x1f61fb['get'](this['_spriteAss'+'et']);_0x2ad8e6?this['_bindSprit'+'eAsset'](_0x2ad8e6):(this['sprite']=null,_0x1f61fb['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x2965d7){this['_setTime'](_0x2965d7),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x2151*-0x1+-0x293*0xa+0x168*0x2a),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x938*0x2+0x95f*-0x4+0x6a*0x2e;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x50a13b){this['_component']['system']['app']['assets']['off']('add:'+_0x50a13b['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x50a13b['id']&&this['_bindSprit'+'eAsset'](_0x50a13b);}['_bindSprit'+'eAsset'](_0x4b7a01){_0x4b7a01['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4b7a01['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4b7a01['resource']?this['_onSpriteA'+'ssetLoad'](_0x4b7a01):this['_component']['system']['app']['assets']['load'](_0x4b7a01);}['_unbindSpr'+'iteAsset'](_0x5aa139){_0x5aa139&&(_0x5aa139['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5aa139['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5aa139['resource']&&!_0x5aa139['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x5aa139['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x12edf6){if(!_0x12edf6['resource'])this['sprite']=null;else{if(_0x12edf6['resource']['atlas'])this['sprite']=_0x12edf6['resource'];else{const _0x1552f7=_0x12edf6['data']['textureAtl'+'asAsset'],_0x2f7614=this['_component']['system']['app']['assets'];_0x2f7614['off']('load:'+_0x1552f7,this['_onTexture'+'AtlasLoad'],this),_0x2f7614['once']('load:'+_0x1552f7,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x4b9580){const _0x93cc80=this['_spriteAss'+'et'];_0x93cc80 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x93cc80):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x93cc80));}['_onSpriteA'+'ssetRemove'](_0x44cd9e){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x64e254){if(this['fps']===-0x144e+0x1*0x26f4+-0x12a6||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0xef12a9=this['fps']<-0x16c8+0x2*0xd3a+0x14*-0x2f?-(-0x15f2+-0xec*-0xf+0x81f):-0x2196+0x1f65+0x232,_0x2b9205=this['_time']+_0x64e254*this['_component']['speed']*_0xef12a9,_0x25d2d7=this['duration'],_0x2e5d9d=_0x2b9205>_0x25d2d7||_0x2b9205<0x20*0x10f+-0x2*-0x24e+-0x267c;this['_setTime'](_0x2b9205);let _0x1d2599=this['frame'];this['_sprite']?_0x1d2599=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x25d2d7):_0x1d2599=-0x2091+-0xd00+0x5*0x91d,_0x1d2599!==this['_frame']&&this['_setFrame'](_0x1d2599),_0x2e5d9d&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1*0xa3d+-0xc50*-0x2+-0x184*0x17),this['_paused']=!(0x17b1+-0x1*-0x4eb+-0x989*0x3),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0xc4906b){this['_time']=_0xc4906b;const _0x642217=this['duration'];this['_time']<0xf87+-0x490+-0xaf7?this['loop']?this['_time']=this['_time']%_0x642217+_0x642217:this['_time']=0x236e+-0x1*0x130d+-0x1061:this['_time']>_0x642217&&(this['loop']?this['_time']%=_0x642217:this['_time']=_0x642217);}['_setFrame'](_0x115f97){this['_sprite']?this['_frame']=N['clamp'](_0x115f97,0x24de+-0x164f*-0x1+-0x3b2d*0x1,this['_sprite']['frameKeys']['length']-(-0x1*-0xc2d+0xb8f+0x2d*-0x87)):this['_frame']=_0x115f97,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x33b42d=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x33b42d['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x5*0x3fb+-0x6bd+-0xd2a),this['_paused']=!(-0x1*-0x1877+-0x608+-0x937*0x2),this['frame']=-0xb69+-0xe3*-0x11+-0x3aa,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x3b*-0x3e+0xe6d+0x1*-0x1cb7),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x13bd+0x175f+-0x3a1),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x1218+0xffa+-0x2211),this['_paused']=!(0x24c8+0x232f*-0x1+-0x198),this['_time']=-0x19aa+0x11c9*-0x1+0x2b73,this['frame']=0x536*0x1+-0xd5c+0x826,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(Ti,'EVENT_PLAY','play'),c(Ti,'EVENT_PAUS'+'E','pause'),c(Ti,'EVENT_RESU'+'ME','resume'),c(Ti,'EVENT_STOP','stop'),c(Ti,'EVENT_END','end'),c(Ti,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class Yi extends ue{constructor(_0x3f78ad,_0x186eec){super(_0x3f78ad,_0x186eec),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Eg,this['_material']=_0x3f78ad['defaultMat'+'erial'],this['_color']=new Y(-0x2521*-0x1+0x1a5f+0x1*-0x3f7f,0x6be+-0xc*-0x7f+-0xcb1,-0xf8*0xd+0xbaa*0x2+-0xabb,-0x7*-0x4e8+-0x7*0xe4+0x1c1b*-0x1),this['_colorUnif'+'orm']=new Float32Array(-0xce4+-0xf*0x49+-0x2*-0x897),this['_speed']=0x1*0x5bd+-0xc9*0x2+-0x42a,this['_flipX']=!(0xb9c*0x2+-0x1c6a+0x533),this['_flipY']=!(-0x86+-0xc95*-0x2+-0x18a3),this['_width']=0x1845+-0x1c50+0x40c,this['_height']=0x188f+0xa*0x32+-0x1a82,this['_drawOrder']=0x1364+-0x446*0x1+-0xf1e,this['_layers']=[Oi],this['_outerScal'+'e']=new W(0x9bf*0x1+-0x25a3+0x1be5,0xb30*-0x3+-0x1951+0x1*0x3ae2),this['_outerScal'+'eUniform']=new Float32Array(0xa5*0xb+0x1f37*0x1+-0x264c),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0xc*0x328+0x2159*-0x1+-0x1*-0x473d),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x203+-0x1ab1*-0x1+-0x1cb0),this['_batchGrou'+'pId']=-(-0x8*0x7f+0x1bc0+0x17c7*-0x1),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Bi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x186eec['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x186eec,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1977+-0x11ae+-0x7c8),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Ti(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x8bf*-0x1+0xf9b*0x1+0x17*-0x10f),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x465d78){this['_type']!==_0x465d78&&(this['_type']=_0x465d78,this['_type']===Eg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x6dcf91){this['_currentCl'+'ip']['frame']=_0x6dcf91;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x88d2c4){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x88d2c4;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x25fa48){this['_currentCl'+'ip']['sprite']=_0x25fa48;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x40d46c){this['_material']=_0x40d46c,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x40d46c);}get['material'](){return this['_material'];}set['color'](_0x548c20){this['_color']['r']=_0x548c20['r'],this['_color']['g']=_0x548c20['g'],this['_color']['b']=_0x548c20['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x18c0+0x30*0xb+0x16b0*0x1]=this['_color']['r'],this['_colorUnif'+'orm'][0xeb4+-0x1633+0x14*0x60]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1a58+0xe05+0xc55]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x4bdf3e){this['_color']['a']=_0x4bdf3e,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x4bdf3e);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x4b4944){if(!_0x4b4944){for(const _0xceca92 in this['_clips'])this['removeClip'](_0xceca92);return;}for(const _0x376580 in this['_clips']){let _0x44f8f2=!(0x1b8b*0x1+0xf27+-0x2ab1*0x1);for(const _0xfd0ccc in _0x4b4944)if(_0x4b4944[_0xfd0ccc]['name']===_0x376580){_0x44f8f2=!(0x19e8+0x1776+0x59*-0x8e),this['_clips'][_0x376580]['fps']=_0x4b4944[_0xfd0ccc]['fps'],this['_clips'][_0x376580]['loop']=_0x4b4944[_0xfd0ccc]['loop'],_0x4b4944[_0xfd0ccc]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x376580]['sprite']=_0x4b4944[_0xfd0ccc]['sprite']:_0x4b4944[_0xfd0ccc]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x376580]['spriteAsse'+'t']=_0x4b4944[_0xfd0ccc]['spriteAsse'+'t']);break;}_0x44f8f2||this['removeClip'](_0x376580);}for(const _0x5f178c in _0x4b4944)this['_clips'][_0x4b4944[_0x5f178c]['name']]||this['addClip'](_0x4b4944[_0x5f178c]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0xe7e960){this['_speed']=_0xe7e960;}get['speed'](){return this['_speed'];}set['flipX'](_0xe34297){this['_flipX']!==_0xe34297&&(this['_flipX']=_0xe34297,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x4eb8c0){this['_flipY']!==_0x4eb8c0&&(this['_flipY']=_0x4eb8c0,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x101789){_0x101789!==this['_width']&&(this['_width']=_0x101789,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Ze||this['sprite']['renderMode']===rt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0xbeecd6){_0xbeecd6!==this['_height']&&(this['_height']=_0xbeecd6,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Ze||this['sprite']['renderMode']===rt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0xfb9266){var _0x3d71ba,_0x66a921;if(this['_batchGrou'+'pId']===_0xfb9266)return;const _0x397f44=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0xfb9266,this['entity']['enabled']&&_0x397f44>=-0x93e+0x35b*-0x1+-0x285*-0x5&&((_0x3d71ba=this['system']['app']['batcher'])==null||_0x3d71ba['remove'](Je['SPRITE'],_0x397f44,this['entity'])),this['entity']['enabled']&&_0xfb9266>=-0x7*-0x35f+-0x218f+0x9f6?(_0x66a921=this['system']['app']['batcher'])==null||_0x66a921['insert'](Je['SPRITE'],_0xfb9266,this['entity']):_0x397f44>=-0x136d+-0x1eb2+0x15*0x263&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x318844){this['_autoPlayC'+'lip']=_0x318844 instanceof Ti?_0x318844['name']:_0x318844,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x2f81d6){this['_drawOrder']=_0x2f81d6,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x2f81d6);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x236821){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x236821,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x55e6ee;const _0x5ef54d=this['system']['app'],_0xf55b5f=_0x5ef54d['scene'],_0x3721a7=_0xf55b5f['layers'];this['_evtLayers'+'Changed']=_0xf55b5f['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x3721a7&&(this['_evtLayerA'+'dded']=_0x3721a7['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x3721a7['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0xa5e*-0x3+-0x26a+0x2184&&((_0x55e6ee=_0x5ef54d['batcher'])==null||_0x55e6ee['insert'](Je['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x58e5b3,_0x57a97d,_0x433272,_0x59a274;const _0x4434ca=this['system']['app'],_0x4c85f9=_0x4434ca['scene']['layers'];(_0x58e5b3=this['_evtLayers'+'Changed'])==null||_0x58e5b3['off'](),this['_evtLayers'+'Changed']=null,_0x4c85f9&&((_0x57a97d=this['_evtLayerA'+'dded'])==null||_0x57a97d['off'](),this['_evtLayerA'+'dded']=null,(_0x433272=this['_evtLayerR'+'emoved'])==null||_0x433272['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0xbe2+-0x1*0xdb0+0x1ce&&((_0x59a274=_0x4434ca['batcher'])==null||_0x59a274['remove'](Je['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x38bc08;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x4a826b in this['_clips'])this['_clips'][_0x4a826b]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x38bc08=this['_node'])==null||_0x38bc08['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x2c000a=[this['_meshInsta'+'nce']];for(let _0x4821e9=0x4*-0x843+-0x17f0+0x7*0x824,_0x88098f=this['_layers']['length'];_0x4821e9<_0x88098f;_0x4821e9++){const _0x39c315=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4821e9]);_0x39c315&&_0x39c315['addMeshIns'+'tances'](_0x2c000a);}this['_addedMode'+'l']=!(0x8b*0x29+0x71e*0x2+-0x247f);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x27a33b=[this['_meshInsta'+'nce']];for(let _0x2273a7=0x9*0x1fc+-0x223*0xd+-0x9eb*-0x1,_0x5bb97f=this['_layers']['length'];_0x2273a7<_0x5bb97f;_0x2273a7++){const _0x318ee7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x2273a7]);_0x318ee7&&_0x318ee7['removeMesh'+'Instances'](_0x27a33b);}this['_addedMode'+'l']=!(0x60+-0x5a2*-0x2+-0x1*0xba3);}['_showFrame'](_0x54acc0){if(!this['sprite'])return;const _0x164327=this['sprite']['meshes'][_0x54acc0];if(!_0x164327){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x17f*-0x11+-0x1c6*0x14+0x101*0xa));return;}let _0x46a440;if(this['sprite']['renderMode']===rt?_0x46a440=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Ze?_0x46a440=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x46a440=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x164327,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0xb4e+-0x41*-0x55+-0xa*0x107),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x934+-0x108d*0x1+0x19c2),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x3f4+-0x4fd+0x109]=this['_color']['r'],this['_colorUnif'+'orm'][-0xf8*-0x17+-0x1009+-0x63e]=this['_color']['g'],this['_colorUnif'+'orm'][-0x543+-0x20ca+0x260f]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x46a440&&(this['_meshInsta'+'nce']['material']=_0x46a440),this['_meshInsta'+'nce']['mesh']!==_0x164327&&(this['_meshInsta'+'nce']['mesh']=_0x164327,this['_meshInsta'+'nce']['visible']=!(-0x2455+0x8b1+-0x74*-0x3d),this['_meshInsta'+'nce']['_aabbVer']=-(-0xdb2+0x2ad+0x22*0x53)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===rt||this['sprite']['renderMode']===Ze)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x5f395b=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x54acc0]];if(_0x5f395b){const _0x1edab4=(0x5b4+0x443*0x2+0x82*-0x1c)/_0x5f395b['rect']['z'],_0x3b422a=(0xde8+-0x3*-0x5b3+-0x1eff)/_0x5f395b['rect']['w'];this['_innerOffs'+'et']['set'](_0x5f395b['border']['x']*_0x1edab4,_0x5f395b['border']['y']*_0x3b422a,_0x5f395b['border']['z']*_0x1edab4,_0x5f395b['border']['w']*_0x3b422a);const _0x1c7b79=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x5f395b['rect']['x']/_0x1c7b79['width'],_0x5f395b['rect']['y']/_0x1c7b79['height'],_0x5f395b['rect']['z']/_0x1c7b79['width'],_0x5f395b['rect']['w']/_0x1c7b79['height']);}else this['_innerOffs'+'et']['set'](0x5c0+-0x2*0x427+-0x6*-0x6d,0x1*-0x23de+0x1979*-0x1+0x29*0x17f,-0x23b3*-0x1+-0x1*0x1824+-0xb*0x10d,-0x218+-0x1ba1+0x1db9*0x1);this['_innerOffs'+'etUniform'][0x18d+-0x31*-0x75+-0x17f2]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x26ce+0x1be*-0x16+0x4d23]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x359+0x7f2+-0x497]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x21f*-0xe+-0x3*-0x9b9+0xba*-0x51]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0xf3e*0x2+-0x189+-0x7*-0x493]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x8*0x4a3+-0xe06+0x49d*-0x5]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x13*0x7+-0x614+0x69b]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x309+-0xd39+0xa33]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x32f049=this['flipX']?-(0xbe5+-0xf99+-0xd*-0x49):-0x10f6+-0x2691+0x3788,_0x31e6da=this['flipY']?-(0x882+-0x5ea+0x33*-0xd):-0x14c2+-0x1*-0x9d+0x1426,_0x29c804=-0x24c5+-0x44*0x17+-0x1*-0x2ae1,_0x36d7de=-0x1100+0xe8+0x8*0x203;if(this['sprite']&&(this['sprite']['renderMode']===rt||this['sprite']['renderMode']===Ze)){let _0x1285f3=-0x5*-0x81+0x1d86*0x1+-0x1*0x200a,_0x4d0bea=-0x1*0x15e6+0x7dc*0x1+0xe0b;if(this['sprite']['atlas']){const _0x150d6e=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x150d6e&&(_0x1285f3=_0x150d6e['rect']['z'],_0x4d0bea=_0x150d6e['rect']['w'],_0x29c804=(0x24c+0x1*-0x2141+0x1ef5*0x1+0.5-_0x150d6e['pivot']['x'])*this['_width'],_0x36d7de=(-0x195a+0x43*-0x16+-0xf8e*-0x2+0.5-_0x150d6e['pivot']['y'])*this['_height']);}const _0x1727cb=_0x1285f3/this['sprite']['pixelsPerU'+'nit'],_0x31f043=_0x4d0bea/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x1727cb),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x31f043)),_0x32f049*=_0x1727cb,_0x31e6da*=_0x31f043,this['_outerScal'+'e']['x']/=_0x1727cb,this['_outerScal'+'e']['y']/=_0x31f043,_0x32f049*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x1727cb),-0x2fa+0x1f*-0xc+0x46e+0.0001,0x7*-0x251+-0x2c*-0x47+-0x202*-0x2),_0x31e6da*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x31f043),-0xcd6*-0x1+0x20d9+0x5*-0x923+0.0001,0x2030+-0x9*-0xb1+-0x2668),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x121*0x1d+-0x25b*0xb+-0x1*-0x3aa6]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x2210*0x1+0x19bf+-0x5fb*0xa]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x32f049,_0x31e6da,-0x30b*-0x8+-0xe49+0x1ad*-0x6),this['_node']['setLocalPo'+'sition'](_0x29c804,_0x36d7de,-0x2*0x6fb+-0x1a21*0x1+0x2817);}['_updateAab'+'b'](_0x1052d7){return _0x1052d7['center']['set'](-0x239b+-0xdd7+0x3172,-0x2357+0xb*0xe9+-0x2*-0xcaa,0x67c+0x2e*0x7+-0x7be),_0x1052d7['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x187e+-0x1a7*-0x7+0xced+0.5),this['_outerScal'+'e']['y']*(0x1ae0+0x29*-0xaf+0x5*0x3b+0.5),0x1193+0x202*0x11+0x33b5*-0x1+0.001),_0x1052d7['setFromTra'+'nsformedAa'+'bb'](_0x1052d7,this['_node']['getWorldTr'+'ansform']()),_0x1052d7;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x1d484d=this['_clips'][this['_autoPlayC'+'lip']];_0x1d484d&&!_0x1d484d['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x1d484d['name']);}['_onLayersC'+'hanged'](_0x15de76,_0x47025c){_0x15de76['off']('add',this['onLayerAdd'+'ed'],this),_0x15de76['off']('remove',this['onLayerRem'+'oved'],this),_0x47025c['on']('add',this['onLayerAdd'+'ed'],this),_0x47025c['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x256cfc){this['layers']['indexOf'](_0x256cfc['id'])<0x1*-0x1989+0x43*-0x5+0xd6c*0x2||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x256cfc['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x2af288){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x2af288['id'])<0x851*-0x4+0xf4*0xb+0x16c8||_0x2af288['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x564e32=0xcf*-0x29+0x1*0x1eb3+0x274;_0x564e32<this['layers']['length'];_0x564e32++){const _0x31f913=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x564e32]);_0x31f913&&_0x31f913['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x321b30){const _0x2e2c37=new Ti(this,{'name':_0x321b30['name'],'fps':_0x321b30['fps'],'loop':_0x321b30['loop'],'spriteAsset':_0x321b30['spriteAsse'+'t']});return this['_clips'][_0x321b30['name']]=_0x2e2c37,_0x2e2c37['name']&&_0x2e2c37['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x2e2c37;}['removeClip'](_0x1c67ab){delete this['_clips'][_0x1c67ab];}['clip'](_0x3900a9){return this['_clips'][_0x3900a9];}['play'](_0x3172f8){const _0x55d023=this['_clips'][_0x3172f8],_0x6a2472=this['_currentCl'+'ip'];return _0x6a2472&&_0x6a2472!==_0x55d023&&(_0x6a2472['_playing']=!(-0x1*0x148d+-0x1*0x1423+0x28b1)),this['_currentCl'+'ip']=_0x55d023,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x55d023,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x3172f8+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x55d023;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(Yi,'EVENT_PLAY','play'),c(Yi,'EVENT_PAUS'+'E','pause'),c(Yi,'EVENT_RESU'+'ME','resume'),c(Yi,'EVENT_STOP','stop'),c(Yi,'EVENT_END','end'),c(Yi,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x14f3+0x3a*0x65+0x2bd5*-0x1);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x5be81f){super(_0x5be81f),this['id']='sprite',this['ComponentT'+'ype']=Yi,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x1ed299){this['_defaultMa'+'terial']=_0x1ed299;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x50aa68=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x579019=new Uint8Array(_0x50aa68['lock']());_0x579019[0x1*0x1cb3+-0x141f+-0x9*0xf4]=_0x579019[0xc15+-0x1b44+0x510*0x3]=_0x579019[0x2*-0x9d2+0x1710+-0x36a]=_0x579019[0x2a1+-0x9df+-0x741*-0x1]=0xc3c+-0x19af+0xe72,_0x50aa68['unlock']();const _0xd6ae60=new us();_0xd6ae60['diffuse']['set'](0x3b1*-0x7+-0xcf7*-0x1+0x67*0x20,-0x25d9*-0x1+-0x14b*-0x13+-0x3e6a,0x1786+-0x5ca+-0x14*0xe3),_0xd6ae60['emissive']['set'](0x1b93+0x1f*-0x33+-0x1565*0x1,-0x162e+0xc22+0x1*0xa0d,-0x2*0xb6+0x1b85*-0x1+0x1cf2),_0xd6ae60['emissiveMa'+'p']=_0x50aa68,_0xd6ae60['opacityMap']=_0x50aa68,_0xd6ae60['opacityMap'+'Channel']='a',_0xd6ae60['useLightin'+'g']=!(0xf5+-0x5*0x76d+0x242d),_0xd6ae60['useTonemap']=!(-0x2100+0xbc*-0x24+0x3b71),_0xd6ae60['useFog']=!(0x935+-0x65*-0x19+0x1311*-0x1),_0xd6ae60['useSkybox']=!(-0x4*-0x1ce+-0x1*0x3+-0x734),_0xd6ae60['blendType']=cn,_0xd6ae60['depthWrite']=!(0x13e3+-0x24bb*0x1+0x1*0x10d9),_0xd6ae60['pixelSnap']=!(0x153+-0x17f1+0x169f),_0xd6ae60['cull']=mt,_0xd6ae60['update'](),this['_defaultTe'+'xture']=_0x50aa68,this['_defaultMa'+'terial']=_0xd6ae60;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x369c98){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x369c98;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x2e7567=this['defaultMat'+'erial']['clone']();_0x2e7567['nineSliced'+'Mode']=rt,_0x2e7567['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x2e7567;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x3052dc){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3052dc;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x4f1016=this['defaultMat'+'erial']['clone']();_0x4f1016['nineSliced'+'Mode']=Ze,_0x4f1016['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x4f1016;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x38a82c,_0x39ad4f,_0x41c3b2){if(_0x39ad4f['enabled']!==void(-0xe7e+0x278*-0x2+0x136e)&&(_0x38a82c['enabled']=_0x39ad4f['enabled']),_0x38a82c['type']=_0x39ad4f['type'],_0x39ad4f['layers']&&Array['isArray'](_0x39ad4f['layers'])&&(_0x38a82c['layers']=_0x39ad4f['layers']['slice'](0x11*0xa9+0x2294+-0x68b*0x7)),_0x39ad4f['drawOrder']!==void(-0x5f*0x36+0x22d6+-0xecc)&&(_0x38a82c['drawOrder']=_0x39ad4f['drawOrder']),_0x39ad4f['color']!==void(-0x969+0x5*-0x60a+0x1*0x279b)&&(_0x39ad4f['color']instanceof Y?_0x38a82c['color']['set'](_0x39ad4f['color']['r'],_0x39ad4f['color']['g'],_0x39ad4f['color']['b'],_0x39ad4f['opacity']??-0x17c9+-0x5*0x65b+0x3791):_0x38a82c['color']['set'](_0x39ad4f['color'][-0x197c+-0xacd*-0x2+0x3e2],_0x39ad4f['color'][0x21bd+-0x1*-0x1efd+-0x40b9],_0x39ad4f['color'][-0x1*-0x960+0x3a+-0x8*0x133],_0x39ad4f['opacity']??0x2444+0x226d+-0x46b0),_0x38a82c['color']=_0x38a82c['color']),_0x39ad4f['opacity']!==void(-0x1*0x1559+-0x2*-0x709+-0x1*-0x747)&&(_0x38a82c['opacity']=_0x39ad4f['opacity']),_0x39ad4f['flipX']!==void(0x5*0x4fa+0x16a*-0xe+0x3e*-0x15)&&(_0x38a82c['flipX']=_0x39ad4f['flipX']),_0x39ad4f['flipY']!==void(0x1*0xaf9+-0x9a2+0x7*-0x31)&&(_0x38a82c['flipY']=_0x39ad4f['flipY']),_0x39ad4f['width']!==void(0x2588+0x3c*-0x2b+-0x1b74)&&(_0x38a82c['width']=_0x39ad4f['width']),_0x39ad4f['height']!==void(-0xe8a+-0xfc+0xf86)&&(_0x38a82c['height']=_0x39ad4f['height']),_0x39ad4f['spriteAsse'+'t']!==void(0x1*-0x15d7+-0x1252+0x2829)&&(_0x38a82c['spriteAsse'+'t']=_0x39ad4f['spriteAsse'+'t']),_0x39ad4f['sprite']&&(_0x38a82c['sprite']=_0x39ad4f['sprite']),_0x39ad4f['frame']!==void(-0x1c7f*-0x1+0xb*-0x25e+-0x275)&&(_0x38a82c['frame']=_0x39ad4f['frame']),_0x39ad4f['clips']){for(const _0x36d715 in _0x39ad4f['clips'])_0x38a82c['addClip'](_0x39ad4f['clips'][_0x36d715]);}_0x39ad4f['speed']!==void(-0x5*-0x75f+0x1d5c+-0x1*0x4237)&&(_0x38a82c['speed']=_0x39ad4f['speed']),_0x39ad4f['autoPlayCl'+'ip']&&(_0x38a82c['autoPlayCl'+'ip']=_0x39ad4f['autoPlayCl'+'ip']),_0x38a82c['batchGroup'+'Id']=_0x39ad4f['batchGroup'+'Id']===void(-0x1ce9+0xfb8+0xd31)||_0x39ad4f['batchGroup'+'Id']===null?-(-0x254e+0x1*0x1415+0x113a):_0x39ad4f['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x38a82c,_0x39ad4f,_0x41c3b2);}['cloneCompo'+'nent'](_0x1a8786,_0xe8c955){const _0x46a3b=_0x1a8786['sprite'];return this['addCompone'+'nt'](_0xe8c955,{'enabled':_0x46a3b['enabled'],'type':_0x46a3b['type'],'spriteAsset':_0x46a3b['spriteAsse'+'t'],'sprite':_0x46a3b['sprite'],'width':_0x46a3b['width'],'height':_0x46a3b['height'],'frame':_0x46a3b['frame'],'color':_0x46a3b['color']['clone'](),'opacity':_0x46a3b['opacity'],'flipX':_0x46a3b['flipX'],'flipY':_0x46a3b['flipY'],'speed':_0x46a3b['speed'],'clips':_0x46a3b['clips'],'autoPlayClip':_0x46a3b['autoPlayCl'+'ip'],'batchGroupId':_0x46a3b['batchGroup'+'Id'],'drawOrder':_0x46a3b['drawOrder'],'layers':_0x46a3b['layers']['slice'](-0x542+0x4*-0x8fa+0x292a)});}['onUpdate'](_0x307b37){const _0x498bc6=this['store'];for(const _0x144ea8 in _0x498bc6)if(_0x498bc6['hasOwnProp'+'erty'](_0x144ea8)){const _0x2de3b9=_0x498bc6[_0x144ea8];if(_0x2de3b9['data']['enabled']&&_0x2de3b9['entity']['enabled']){const _0x46b730=_0x2de3b9['entity']['sprite'];_0x46b730['_currentCl'+'ip']&&_0x46b730['_currentCl'+'ip']['_update'](_0x307b37);}}}['onBeforeRe'+'move'](_0x39d48a,_0x4ca20d){_0x4ca20d['onDestroy']();}}ue['_buildAcce'+'ssors'](Yi['prototype'],Sx);class na extends ue{constructor(_0x4aba57,_0x263315){super(_0x4aba57,_0x263315),this['_oldState']=!(0xa43*0x1+-0x10*0x156+0xb1d),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x15a65c){_0x15a65c instanceof T?this['_size']['copy'](_0x15a65c):_0x15a65c instanceof Array&&_0x15a65c['length']>=0x2f*-0xb1+-0x1*0x50e+-0x4*-0x964&&this['size']['set'](_0x15a65c[0x1*0x3da+0x1*0x1df5+-0x21cf],_0x15a65c[-0x3df+0x1*0x240b+-0xab9*0x3],_0x15a65c[0x1251*0x1+-0xb*0x17d+-0x1f0]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0xb73a44,_0x36b4fe,_0x96909b){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x2369e2=this['enabled']&&this['entity']['enabled'];_0x2369e2!==this['_oldState']&&(this['_oldState']=_0x2369e2,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(na,'EVENT_ENAB'+'LE','enable'),c(na,'EVENT_DISA'+'BLE','disable'),c(na,'EVENT_STAT'+'E','state'),c(na,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(-0x202*-0x1+0xe5*-0x16+0x6*0x2f2);}}const vx=['enabled'];class WI extends Xe{constructor(_0x18a415){super(_0x18a415),this['id']='zone',this['ComponentT'+'ype']=na,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x3bf7c3,_0x5a42e8,_0x19046b){_0x3bf7c3['enabled']=_0x5a42e8['hasOwnProp'+'erty']('enabled')?!!_0x5a42e8['enabled']:!(-0x6*-0x45+-0xc73+0xad5),_0x5a42e8['size']&&(_0x5a42e8['size']instanceof T?_0x3bf7c3['size']['copy'](_0x5a42e8['size']):_0x5a42e8['size']instanceof Array&&_0x5a42e8['size']['length']>=-0x1*0x883+0x25de*0x1+-0x3ab*0x8&&_0x3bf7c3['size']['set'](_0x5a42e8['size'][-0xd03+0x695*-0x3+-0x1*-0x20c2],_0x5a42e8['size'][0x3b*0x5d+-0xe*0x1e+-0x13ca],_0x5a42e8['size'][0x1*-0x1c21+-0x874*-0x1+0x13af]));}['cloneCompo'+'nent'](_0x35cb11,_0x4ac449){const _0x427de6={'enabled':_0x35cb11['zone']['enabled'],'size':_0x35cb11['zone']['size']};return this['addCompone'+'nt'](_0x4ac449,_0x427de6);}['_onBeforeR'+'emove'](_0x40d3fc,_0x13b9af){_0x13b9af['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](na['prototype'],vx);class $I{constructor(_0x95e0be,_0x576a48){this['effect']=_0x95e0be,this['inputTarge'+'t']=_0x576a48,this['outputTarg'+'et']=null,this['name']=_0x95e0be['constructo'+'r']['name'];}}class qI{constructor(_0x414975,_0x3adbbc){this['app']=_0x414975,this['camera']=_0x3adbbc,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x4bb*0x6+0x213+0x4*0x694),this['depthTarge'+'t']=null,_0x3adbbc['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0xcda559,_0x2c3edf){const _0x4071e6=this['camera']['rect'],_0x2368dc=this['destinatio'+'nRenderTar'+'get'],_0x675227=this['app']['graphicsDe'+'vice'],_0x54766c=Math['floor'](_0x4071e6['z']*((_0x2368dc==null?void(-0x100e+-0x32*-0x28+0x83e):_0x2368dc['width'])??_0x675227['width'])),_0x3bbadb=Math['floor'](_0x4071e6['w']*((_0x2368dc==null?void(-0x19cd+-0x1*-0x107+0x18c6):_0x2368dc['height'])??_0x675227['height']));return new he(_0x675227,{'name':_0x2c3edf,'format':_0xcda559,'width':_0x54766c,'height':_0x3bbadb,'mipmaps':!(0x5*0x316+-0x17*-0xa1+-0x1de4),'minFilter':de,'magFilter':de,'addressU':ne,'addressV':ne});}['_createOff'+'screenTarg'+'et'](_0x725852,_0xe84198){const _0x2a2174=this['app']['graphicsDe'+'vice'],_0x24a503=(this['destinatio'+'nRenderTar'+'get']??_0x2a2174['backBuffer'])['isColorBuf'+'ferSrgb'](0x151f*0x1+0x16*-0x27+0x1*-0x11c5),_0x2f801c=(_0xe84198&&_0x2a2174['getRendera'+'bleHdrForm'+'at']([Qe,Ye],!(-0x468+0x1e11+-0x19a9)))??(_0x24a503?as:Se),_0x43edd3=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x9e33e3=this['_allocateC'+'olorBuffer'](_0x2f801c,_0x43edd3);return new pt({'colorBuffer':_0x9e33e3,'depth':_0x725852,'stencil':_0x725852&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x725852?_0x2a2174['samples']:-0x1f*0xc5+-0x198d+0x3169});}['_resizeOff'+'screenTarg'+'et'](_0x4a63e6){const _0x3f2d9c=_0x4a63e6['colorBuffe'+'r']['format'],_0x88c834=_0x4a63e6['colorBuffe'+'r']['name'];_0x4a63e6['destroyFra'+'meBuffers'](),_0x4a63e6['destroyTex'+'tureBuffer'+'s'](),_0x4a63e6['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x3f2d9c,_0x88c834),_0x4a63e6['_colorBuff'+'ers']=[_0x4a63e6['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x420e93){_0x420e93['destroyTex'+'tureBuffer'+'s'](),_0x420e93['destroy']();}['addEffect'](_0x51eb02){const _0x571539=this['effects'],_0x448407=_0x571539['length']===0xb2b*0x3+-0x248+0x1*-0x1f39,_0x50f7a3=this['_createOff'+'screenTarg'+'et'](_0x448407,_0x51eb02['hdr']),_0x3d4c1c=new $I(_0x51eb02,_0x50f7a3);_0x571539['push'](_0x3d4c1c),this['_sourceTar'+'get']=_0x3d4c1c['inputTarge'+'t'],_0x571539['length']>-0x1*-0x789+-0x6c6*0x3+0xcca&&(_0x571539[_0x571539['length']-(-0x4*-0x3a6+-0x4*-0x1f9+-0x167a)]['outputTarg'+'et']=_0x3d4c1c['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x51eb02,_0x51eb02['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x110e+-0x3*-0x841+0x1*-0x7b5);}['removeEffe'+'ct'](_0x5cbbbc){let _0x47fa5b=-(-0x4*-0x31c+0x1415+0x2084*-0x1);for(let _0xca5547=-0x1*-0x1145+-0x1d*-0x9+-0x124a,_0x54d9be=this['effects']['length'];_0xca5547<_0x54d9be;_0xca5547++)if(this['effects'][_0xca5547]['effect']===_0x5cbbbc){_0x47fa5b=_0xca5547;break;}_0x47fa5b>=-0x11*0x2b+-0x1193+0x146e&&(_0x47fa5b>-0x1052+0xa7d+0x5d5?this['effects'][_0x47fa5b-(0x181f+-0x165*0x15+0x52b)]['outputTarg'+'et']=_0x47fa5b+(0x5*-0x6bc+-0x4da*0x7+0x43a3)<this['effects']['length']?this['effects'][_0x47fa5b+(0xb*-0x33d+0x1bf0+0x29*0x30)]['inputTarge'+'t']:null:this['effects']['length']>-0x248a+0x2*0x12f6+-0x161&&(this['effects'][0x1*0x1f1b+-0x7b1+-0x1769]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x12d1*0x1+-0x1*-0x48d+-0x175d*0x1]['inputTarge'+'t']),this['effects'][0x9f*-0x31+0x186e+0x602]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x64c*-0x4+-0x133*0xd+-0x999),this['effects'][-0x1764+-0x88*-0x2e+-0x1*0x10b]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x14*0x2b+0x1*-0x247e+0x27db*0x1]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0xeae+0x2436+0x3*-0x72d]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x47fa5b]['inputTarge'+'t']),this['effects']['splice'](_0x47fa5b,-0x1*-0x23+0x10*-0x55+0x52e*0x1)),this['enabled']&&_0x5cbbbc['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x125e+0x1b6d+-0x90f&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0xefb2f=-0xcd*0x25+-0x1ce2*-0x1+-0xbf*-0x1,_0x1bbe3c=this['effects']['length'];_0xefb2f<_0x1bbe3c;_0xefb2f++){const _0x11c0e3=this['effects'][_0xefb2f]['effect'];this['_newPostEf'+'fect']!==_0x11c0e3&&_0x11c0e3['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x138e0a=-0x3*0x2bf+0x2209*-0x1+-0x1523*-0x2,_0x4da3a7=this['effects']['length'];_0x138e0a<_0x4da3a7;_0x138e0a++)this['effects'][_0x138e0a]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x5a67c4=this['app']['scene']['layers']['getLayerBy'+'Id'](Yt);_0x5a67c4&&(_0x5a67c4['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x93b+0x1*-0xc2f+-0xab5*-0x2)));}['_releaseDe'+'pthMap'](){const _0x29aa94=this['app']['scene']['layers']['getLayerBy'+'Id'](Yt);_0x29aa94&&(_0x29aa94['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x1b+0x22*0xf5+0x251*-0xe)));}['destroy'](){for(let _0x2c6196=-0x6*-0x285+-0x4*-0x22a+-0x17c6,_0x455fc2=this['effects']['length'];_0x2c6196<_0x455fc2;_0x2c6196++)this['effects'][_0x2c6196]['inputTarge'+'t']['destroy']();this['effects']['length']=0xc31*-0x1+0x909+0x4*0xca,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x7c6+-0x1b3c+0x1376),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x12f5*-0x1+-0x1490+0x19b]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x5d5604=null;const _0x1d64a6=this['effects']['length'];if(_0x1d64a6)for(let _0x4e86d2=-0x12a4+0x185*0x6+0x986;_0x4e86d2<_0x1d64a6;_0x4e86d2++){const _0x54b9b7=this['effects'][_0x4e86d2];let _0x5d93ee=_0x54b9b7['outputTarg'+'et'];_0x4e86d2===_0x1d64a6-(0x9d*0x2+-0x1*0x1ba9+0x1a70)&&(_0x5d5604=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x5d93ee=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x54b9b7['name']),_0x54b9b7['effect']['render'](_0x54b9b7['inputTarge'+'t'],_0x5d93ee,_0x5d5604),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x21f1+-0xc61*0x1+-0x158f),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x5324aa,_0x1086d2){const _0xaaf17e=this['camera']['rect'],_0x13b9c5=this['destinatio'+'nRenderTar'+'get'];_0x5324aa=(_0x13b9c5==null?void(-0x193+-0x3*-0x336+-0x80f):_0x13b9c5['width'])??_0x5324aa,_0x1086d2=(_0x13b9c5==null?void(0x25d6+0x2f*0x26+-0xc*0x3bc):_0x13b9c5['height'])??_0x1086d2,this['camera']['camera']['aspectRati'+'o']=_0x5324aa*_0xaaf17e['z']/(_0x1086d2*_0xaaf17e['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x274d0e=this['app']['graphicsDe'+'vice'],_0x159362=this['destinatio'+'nRenderTar'+'get'],_0xc37d66=(_0x159362==null?void(0x5*-0x3dd+0x1399+-0x4*0x12):_0x159362['width'])??_0x274d0e['width'],_0x4890a2=(_0x159362==null?void(-0x2*-0x76a+0x1950+-0x4*0xa09):_0x159362['height'])??_0x274d0e['height'],_0x2ee4c1=this['camera']['rect'],_0x3f6284=Math['floor'](_0x2ee4c1['z']*_0xc37d66),_0x141fd3=Math['floor'](_0x2ee4c1['w']*_0x4890a2),_0x1fe294=this['effects'];for(let _0xd5a31c=-0x130c*0x1+-0x9*0x27d+0x2971,_0x4ce24b=_0x1fe294['length'];_0xd5a31c<_0x4ce24b;_0xd5a31c++){const _0xef15e5=_0x1fe294[_0xd5a31c];(_0xef15e5['inputTarge'+'t']['width']!==_0x3f6284||_0xef15e5['inputTarge'+'t']['height']!==_0x141fd3)&&this['_resizeOff'+'screenTarg'+'et'](_0xef15e5['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x212491,_0x5ee6d4,_0x59910e){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x506789,_0x4f6e07){super(_0x506789,_0x4f6e07),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',-0x1b21+0x86*-0x3f+0x45*0xdf),c(this,'_renderSce'+'neColorMap',-0xc9b*-0x1+0x1050+0x2a1*-0xb),c(this,'_sceneDept'+'hMapReques'+'ted',!(0x20c*0x2+-0x25fc+0x1*0x21e5)),c(this,'_sceneColo'+'rMapReques'+'ted',!(-0x1b49+0x2611+0x1*-0xac7)),c(this,'_priority',0x17*0x10c+-0x81d+-0xff7),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x4f6e07,this['_postEffec'+'ts']=new qI(_0x506789['app'],this));}['setShaderP'+'ass'](_0x12fdc3){const _0x37d1cd=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x55cf7d=_0x12fdc3?_0x37d1cd['allocate'](_0x12fdc3,{'isForward':!(0x2b*-0x17+-0x2375+0x2752)}):null;return this['_camera']['shaderPass'+'Info']=_0x55cf7d,_0x55cf7d['index'];}['getShaderP'+'ass'](){var _0x7cb3f0;return(_0x7cb3f0=this['_camera']['shaderPass'+'Info'])==null?void(0x18bb+-0x1*0xbcf+0x33b*-0x4):_0x7cb3f0['name'];}set['renderPass'+'es'](_0x2f5b0f){this['_camera']['renderPass'+'es']=_0x2f5b0f||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0xaec+-0x278*0x9+0x2124);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x2d29fa){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x2d29fa;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x2e1de0){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x2e1de0;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x44d794){this['_camera']['fogParams']=_0x44d794;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x3cc211){this['_camera']['aperture']=_0x3cc211;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x14ff03){this['_camera']['aspectRati'+'o']=_0x14ff03;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x2a26e7){this['_camera']['aspectRati'+'oMode']=_0x2a26e7;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x567397){this['_camera']['calculateP'+'rojection']=_0x567397;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x26b0e4){this['_camera']['calculateT'+'ransform']=_0x26b0e4;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x5b62e9){this['_camera']['clearColor']=_0x5b62e9;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x1c06ee){this['_camera']['clearColor'+'Buffer']=_0x1c06ee,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x305cba){this['_camera']['clearDepth'+'Buffer']=_0x305cba,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x40e136){this['_camera']['clearStenc'+'ilBuffer']=_0x40e136,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x509710){this['_camera']['cullFaces']=_0x509710;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x4b45c9){this['_disablePo'+'stEffectsL'+'ayer']=_0x4b45c9,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x3797f0){this['_camera']['farClip']=_0x3797f0;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x5b2d97){this['_camera']['flipFaces']=_0x5b2d97;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x517a8d){this['_camera']['fov']=_0x517a8d;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x23ae7e){this['_camera']['frustumCul'+'ling']=_0x23ae7e;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x31ca4a){this['_camera']['horizontal'+'Fov']=_0x31ca4a;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x14551a){const _0x4c2466=this['_camera']['layers'],_0x11bb99=this['system']['app']['scene'];_0x4c2466['forEach'](_0x3fa157=>{const _0x25a4b4=_0x11bb99['layers']['getLayerBy'+'Id'](_0x3fa157);_0x25a4b4==null||_0x25a4b4['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x14551a,this['enabled']&&this['entity']['enabled']&&_0x14551a['forEach'](_0x1140b5=>{const _0x53f411=_0x11bb99['layers']['getLayerBy'+'Id'](_0x1140b5);_0x53f411==null||_0x53f411['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x348ef1){this['_camera']['jitter']=_0x348ef1;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x346827){this['_camera']['nearClip']=_0x346827;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0xce3ec0){this['_camera']['orthoHeigh'+'t']=_0xce3ec0;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x45fbb7){this['_priority']=_0x45fbb7,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x3606fb){this['_camera']['projection']=_0x3606fb;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x5e132d){this['_camera']['rect']=_0x5e132d,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x59cb3d){_0x59cb3d&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0xc73*0x3+-0x1848+-0xd11)),this['_sceneColo'+'rMapReques'+'ted']=!(0x1*0x1631+-0x3*0x6ed+-0x16a)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x1076*0x2+-0xff1+0x30de)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xce3+-0x13de+0x257*0xe));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x9c*-0x33+0x1f9e+-0x3eb2;}set['renderScen'+'eDepthMap'](_0x689b63){_0x689b63&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0x119a+-0xaab+0x1c45)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x1*-0x1493+-0x1*-0x1b0a+-0xef*0x33)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x1c3c+-0x19ae+-0x28d)),this['_sceneDept'+'hMapReques'+'ted']=!(0xd63*0x1+0x2619+-0x337b));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>-0x1*0x1d27+0x878+0x423*0x5;}set['renderTarg'+'et'](_0x5f24d9){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x13c1+-0x12e5*0x2+0x398b&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x5f24d9,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x1644e1){this['_camera']['scissorRec'+'t']=_0x1644e1;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x3173d7){this['_camera']['sensitivit'+'y']=_0x3173d7;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x2351ad){this['_camera']['shutter']=_0x2351ad;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x26af52){if(this['layers']['find'](_0x28b51b=>_0x28b51b===Yt)){const _0x18d4ab=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Yt);_0x26af52?_0x18d4ab==null||_0x18d4ab['incrementC'+'ounter']():_0x18d4ab==null||_0x18d4ab['decrementC'+'ounter']();}else{if(_0x26af52)return!(-0x47+-0x3*-0x55d+-0xfcf);}return!(-0x118b+0x11*-0x73+0x192e);}['requestSce'+'neColorMap'](_0x1a3050){this['_renderSce'+'neColorMap']+=_0x1a3050?0x13*-0x5b+0x20c1+0x25d*-0xb:-(0x119f+0x1*-0xf1+-0x10ad),v['assert'](this['_renderSce'+'neColorMap']>=0x1*-0x7bb+0x14a4+0x295*-0x5),this['_enableDep'+'thLayer'](_0x1a3050)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x428121){this['_renderSce'+'neDepthMap']+=_0x428121?-0x698+0xd8a+-0x6f1:-(-0x25e4+-0x5*0x60d+-0x4426*-0x1),v['assert'](this['_renderSce'+'neDepthMap']>=0xc7*0x2b+-0x121*-0x1+0x1*-0x228e),this['_enableDep'+'thLayer'](_0x428121)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x4f8eb0=this['system']['app']['scene']['layers'];_0x4f8eb0['_dirty']=!(-0x2c7+0x1c09*-0x1+-0x10*-0x1ed);}['screenToWo'+'rld'](_0xd86740,_0x597590,_0x3da7f3,_0x4f86ed){const _0xa8b734=this['system']['app']['graphicsDe'+'vice'],{width:_0x47e203,height:_0x3454f4}=_0xa8b734['clientRect'];return this['_camera']['screenToWo'+'rld'](_0xd86740,_0x597590,_0x3da7f3,_0x47e203,_0x3454f4,_0x4f86ed);}['worldToScr'+'een'](_0x532c45,_0x13c689){const _0x366bb3=this['system']['app']['graphicsDe'+'vice'],{width:_0x1e2fdf,height:_0x110355}=_0x366bb3['clientRect'];return this['_camera']['worldToScr'+'een'](_0x532c45,_0x1e2fdf,_0x110355,_0x13c689);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0xc30+0x41d+0x1*-0x104d),this['_camera']['_viewProjM'+'atDirty']=!(0x23e0+-0x1*-0xc4d+0x1*-0x302d);}['addCameraT'+'oLayers'](){const _0xa718=this['layers'];for(let _0x25cd57=0x10*0x1f7+-0x13e9*0x1+-0xb87;_0x25cd57<_0xa718['length'];_0x25cd57++){const _0x2ac659=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xa718[_0x25cd57]);_0x2ac659&&_0x2ac659['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x1beb67=this['layers'];for(let _0x2c333b=0xc3+0x2485+-0x12a4*0x2;_0x2c333b<_0x1beb67['length'];_0x2c333b++){const _0x260586=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1beb67[_0x2c333b]);_0x260586&&_0x260586['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x3352c4,_0x5bbd26){this['addCameraT'+'oLayers'](),_0x3352c4['off']('add',this['onLayerAdd'+'ed'],this),_0x3352c4['off']('remove',this['onLayerRem'+'oved'],this),_0x5bbd26['on']('add',this['onLayerAdd'+'ed'],this),_0x5bbd26['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5a15d7){this['layers']['indexOf'](_0x5a15d7['id'])<-0xbfc+-0x2261+-0x8f*-0x53||_0x5a15d7['addCamera'](this);}['onLayerRem'+'oved'](_0x3d5968){this['layers']['indexOf'](_0x3d5968['id'])<0x2030*0x1+0x6a1+-0x13*0x20b||_0x3d5968['removeCame'+'ra'](this);}['onEnable'](){var _0x54fa5d,_0x2736d6,_0xc0aaa9;const _0x5dd573=this['system']['app']['scene'],_0x1f06e7=_0x5dd573['layers'];this['system']['addCamera'](this),(_0x54fa5d=this['_evtLayers'+'Changed'])==null||_0x54fa5d['off'](),this['_evtLayers'+'Changed']=_0x5dd573['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1f06e7&&((_0x2736d6=this['_evtLayerA'+'dded'])==null||_0x2736d6['off'](),this['_evtLayerA'+'dded']=_0x1f06e7['on']('add',this['onLayerAdd'+'ed'],this),(_0xc0aaa9=this['_evtLayerR'+'emoved'])==null||_0xc0aaa9['off'](),this['_evtLayerR'+'emoved']=_0x1f06e7['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x40ba22,_0xb7954a,_0x18d186;const _0x266f9b=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x40ba22=this['_evtLayers'+'Changed'])==null||_0x40ba22['off'](),this['_evtLayers'+'Changed']=null,_0x266f9b&&((_0xb7954a=this['_evtLayerA'+'dded'])==null||_0xb7954a['off'](),this['_evtLayerA'+'dded']=null,(_0x18d186=this['_evtLayerR'+'emoved'])==null||_0x18d186['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x2f4cbe){const _0x4cf0c9=this['system']['app']['graphicsDe'+'vice'],_0x1548b7=_0x2f4cbe?_0x2f4cbe['width']:_0x4cf0c9['width'],_0x521f06=_0x2f4cbe?_0x2f4cbe['height']:_0x4cf0c9['height'];return _0x1548b7*this['rect']['z']/(_0x521f06*this['rect']['w']);}['frameUpdat'+'e'](_0x1bcd7e){this['aspectRati'+'oMode']===Dp&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x1bcd7e));}['startXr'](_0x17bbd0,_0x41c49e,_0x5d5630){this['system']['app']['xr']['start'](this,_0x17bbd0,_0x41c49e,_0x5d5630);}['endXr'](_0x30ef28){if(!this['_camera']['xr']){_0x30ef28&&_0x30ef28(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x30ef28);}['copy'](_0x1bd069){this['aperture']=_0x1bd069['aperture'],this['aspectRati'+'o']=_0x1bd069['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x1bd069['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x1bd069['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x1bd069['calculateT'+'ransform'],this['clearColor']=_0x1bd069['clearColor'],this['clearColor'+'Buffer']=_0x1bd069['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x1bd069['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x1bd069['clearStenc'+'ilBuffer'],this['cullFaces']=_0x1bd069['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x1bd069['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x1bd069['farClip'],this['flipFaces']=_0x1bd069['flipFaces'],this['fov']=_0x1bd069['fov'],this['frustumCul'+'ling']=_0x1bd069['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x1bd069['horizontal'+'Fov'],this['layers']=_0x1bd069['layers'],this['nearClip']=_0x1bd069['nearClip'],this['orthoHeigh'+'t']=_0x1bd069['orthoHeigh'+'t'],this['priority']=_0x1bd069['priority'],this['projection']=_0x1bd069['projection'],this['rect']=_0x1bd069['rect'],this['renderTarg'+'et']=_0x1bd069['renderTarg'+'et'],this['scissorRec'+'t']=_0x1bd069['scissorRec'+'t'],this['sensitivit'+'y']=_0x1bd069['sensitivit'+'y'],this['shutter']=_0x1bd069['shutter'];}}class XI{constructor(){this['enabled']=!(-0xffb+0xb*-0x15d+0x1efa);}}const wx=['enabled'];class jI extends Xe{constructor(_0x443b98){super(_0x443b98),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x2e8784,_0x328d21,_0x4d2177){_0x4d2177=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x3024e3=0xaf1+-0x132b*-0x2+-0x3147;_0x3024e3<_0x4d2177['length'];_0x3024e3++){const _0x440dbf=_0x4d2177[_0x3024e3];if(_0x328d21['hasOwnProp'+'erty'](_0x440dbf)){const _0x2485bf=_0x328d21[_0x440dbf];switch(_0x440dbf){case'rect':case'scissorRec'+'t':Array['isArray'](_0x2485bf)?_0x2e8784[_0x440dbf]=new Q(_0x2485bf[-0x37c*0xb+-0x1da4+-0x12c*-0x3a],_0x2485bf[-0x1015*-0x2+0x8f5+0x13*-0x22a],_0x2485bf[-0xba9+0x1ac*-0x2+0xf03],_0x2485bf[-0x1024*0x2+0x240f+0xf1*-0x4]):_0x2e8784[_0x440dbf]=_0x2485bf;break;case'clearColor':Array['isArray'](_0x2485bf)?_0x2e8784[_0x440dbf]=new Y(_0x2485bf[0x1d8c+0x2647+0x61*-0xb3],_0x2485bf[0x267f+0x1b25+-0x41a3],_0x2485bf[-0x85c+0x6f+0x2a5*0x3],_0x2485bf[0xb*0x12a+-0x254*0xd+-0x1179*-0x1]):_0x2e8784[_0x440dbf]=_0x2485bf;break;default:_0x2e8784[_0x440dbf]=_0x2485bf;break;}}}super['initialize'+'ComponentD'+'ata'](_0x2e8784,_0x328d21,['enabled']);}['cloneCompo'+'nent'](_0x1d5e05,_0x640a49){const _0x115c30=_0x1d5e05['camera'];return this['addCompone'+'nt'](_0x640a49,{'aspectRatio':_0x115c30['aspectRati'+'o'],'aspectRatioMode':_0x115c30['aspectRati'+'oMode'],'calculateProjection':_0x115c30['calculateP'+'rojection'],'calculateTransform':_0x115c30['calculateT'+'ransform'],'clearColor':_0x115c30['clearColor'],'clearColorBuffer':_0x115c30['clearColor'+'Buffer'],'clearDepthBuffer':_0x115c30['clearDepth'+'Buffer'],'clearStencilBuffer':_0x115c30['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x115c30['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x115c30['renderScen'+'eColorMap'],'cullFaces':_0x115c30['cullFaces'],'enabled':_0x115c30['enabled'],'farClip':_0x115c30['farClip'],'flipFaces':_0x115c30['flipFaces'],'fov':_0x115c30['fov'],'frustumCulling':_0x115c30['frustumCul'+'ling'],'horizontalFov':_0x115c30['horizontal'+'Fov'],'layers':_0x115c30['layers'],'renderTarget':_0x115c30['renderTarg'+'et'],'nearClip':_0x115c30['nearClip'],'orthoHeight':_0x115c30['orthoHeigh'+'t'],'projection':_0x115c30['projection'],'priority':_0x115c30['priority'],'rect':_0x115c30['rect'],'scissorRect':_0x115c30['scissorRec'+'t'],'aperture':_0x115c30['aperture'],'sensitivity':_0x115c30['sensitivit'+'y'],'shutter':_0x115c30['shutter'],'gammaCorrection':_0x115c30['gammaCorre'+'ction'],'toneMapping':_0x115c30['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x344486,_0x23f72e){this['removeCame'+'ra'](_0x23f72e),_0x23f72e['onRemove']();}['onAppPrere'+'nder'](){for(let _0x3d0857=0xfbc+-0x83d+-0x77f,_0x32d8a3=this['cameras']['length'];_0x3d0857<_0x32d8a3;_0x3d0857++)this['cameras'][_0x3d0857]['onAppPrere'+'nder']();}['addCamera'](_0x33b6d3){this['cameras']['push'](_0x33b6d3),No(this['cameras']);}['removeCame'+'ra'](_0x5d9a17){const _0x59500b=this['cameras']['indexOf'](_0x5d9a17);_0x59500b>=-0x174f+0x1364+0x3eb&&(this['cameras']['splice'](_0x59500b,-0x1431*0x1+-0x16c2+0x1*0x2af4),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(-0xc6b*0x2+-0xe72+0x2748)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0x1a*0x169+-0x335+0x85d*-0x4,0x977*0x1+-0x266e+0x39f*0x8,0x1*-0x1d9c+0x627+0x1776)),c(this,'intensity',-0x1f3*0x6+-0x12b6+0x1e69*0x1),c(this,'luminance',0x3*-0x39a+-0xc46+-0x1714*-0x1),c(this,'shape',xt),c(this,'affectSpec'+'ularity',!(-0xb3*0xd+-0x192*-0x12+-0x132d)),c(this,'castShadow'+'s',!(-0x1e64+-0xcc7*-0x3+0x8*-0xfe)),c(this,'shadowDist'+'ance',0xda0+-0x11e4+0x46c),c(this,'shadowInte'+'nsity',0x10*-0xf5+-0x3*-0xae1+-0x3*0x5c6),c(this,'shadowReso'+'lution',0x1283+0x4d*-0x1+0xe36*-0x1),c(this,'shadowBias',-0x1d62+0x604+-0x3e5*-0x6+0.05),c(this,'numCascade'+'s',0x1097+-0x1054+-0x42),c(this,'cascadeBle'+'nd',0xb*-0x10d+0x10f7+0x2b4*-0x2),c(this,'bakeNumSam'+'ples',0x25d*0x8+0x219d+-0x1a42*0x2),c(this,'bakeArea',0x1*0x1d69+-0x1*-0x1b8d+-0x38f6),c(this,'cascadeDis'+'tribution',-0x2*0x914+0x16f*0x1b+-0x148d*0x1+0.5),c(this,'normalOffs'+'etBias',0x10fb+-0x4df+-0xc1c),c(this,'range',0x2414+0x1ca3+-0x1*0x40ad),c(this,'innerConeA'+'ngle',-0x1c90+-0x1161+-0x1*-0x2e19),c(this,'outerConeA'+'ngle',-0x18*0xec+0xaa9*0x1+-0x254*-0x5),c(this,'falloffMod'+'e',Tp),c(this,'shadowType',Lt),c(this,'vsmBlurSiz'+'e',0x3e3*0x3+-0x17fc+0xc5e),c(this,'vsmBlurMod'+'e',Ap),c(this,'vsmBias',(-0x1*0x2345+-0x15*0x4b+0x296c+0.01)*(0x38d*-0x4+0x3*-0x8d+0xfdb+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0x9d7+-0xeb1*-0x2+-0x138a),c(this,'cookieFall'+'off',!(0x26a*0xb+-0x684+-0x140a)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',-0x1*0x161b+-0xeff+0x251a),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Rp),c(this,'mask',-0x12f7*0x2+0x9*-0x15a+0x3219),c(this,'affectDyna'+'mic',!(0x4f2*0x3+0x14fa+-0x23d*0x10)),c(this,'affectLigh'+'tmapped',!(-0x114*-0xd+0x755+-0x1558)),c(this,'bake',!(-0x1342+0x16ac+-0x123*0x3)),c(this,'bakeDir',!(0xf14+-0x61*-0x34+-0x54*0x6a)),c(this,'isStatic',!(0x2079+-0x7a*0x4c+0x3c0)),c(this,'layers',[Oi]),c(this,'penumbraSi'+'ze',-0x26cc+0x1978+0xd55*0x1),c(this,'penumbraFa'+'lloff',0x1*0x169+0x4*0x517+-0x4*0x571),c(this,'shadowSamp'+'les',0x1feb+0x86b*-0x4+0x5*0x5d),c(this,'shadowBloc'+'kerSamples',-0xe5f+-0x52*-0x3+0xd79);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x1b70+0x255a+-0x6b*0x9b)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x3ac499=this['system']['store'][this['entity']['getGuid']()];return _0x3ac499?_0x3ac499['data']:null;}set['enabled'](_0xc1e2b7){this['_setValue']('enabled',_0xc1e2b7,function(_0x5f16c9,_0x56a8b7){this['onSetEnabl'+'ed'](null,_0x56a8b7,_0x5f16c9);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x339850){this['_setValue']('light',_0x339850);}get['light'](){return this['data']['light'];}set['type'](_0x54df4b){this['_setValue']('type',_0x54df4b,function(_0x13e385,_0x275cde){this['system']['changeType'](this,_0x275cde,_0x13e385),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0xffe2d2){this['_setValue']('color',_0xffe2d2,function(_0x11f150,_0x432dc7){this['light']['setColor'](_0x11f150);},!(0xf08+0x2b7*0x1+-0x11bf));}get['color'](){return this['data']['color'];}set['intensity'](_0x4fcee4){this['_setValue']('intensity',_0x4fcee4,function(_0x5c60d3,_0x5ba805){this['light']['intensity']=_0x5c60d3;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x122918){this['_setValue']('luminance',_0x122918,function(_0x3cdb14,_0x2a1c86){this['light']['luminance']=_0x3cdb14;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x35a67c){this['_setValue']('shape',_0x35a67c,function(_0xf113bc,_0x4ed9e0){this['light']['shape']=_0xf113bc;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0xf995cc){this['_setValue']('affectSpec'+'ularity',_0xf995cc,function(_0x216571,_0x29cb25){this['light']['affectSpec'+'ularity']=_0x216571;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x5d878a){this['_setValue']('castShadow'+'s',_0x5d878a,function(_0x43f1dc,_0x30ea4f){this['light']['castShadow'+'s']=_0x43f1dc;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x3537b3){this['_setValue']('shadowDist'+'ance',_0x3537b3,function(_0x8aa64d,_0x552f3d){this['light']['shadowDist'+'ance']=_0x8aa64d;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x4403a9){this['_setValue']('shadowInte'+'nsity',_0x4403a9,function(_0x1b4220,_0x106bfc){this['light']['shadowInte'+'nsity']=_0x1b4220;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x2822ac){this['_setValue']('shadowReso'+'lution',_0x2822ac,function(_0x21849a,_0x2beea6){this['light']['shadowReso'+'lution']=_0x21849a;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x3563ae){this['_setValue']('shadowBias',_0x3563ae,function(_0x52a518,_0x93b876){this['light']['shadowBias']=-(-0xab6+0x2e2+0x7d4+0.01)*N['clamp'](_0x52a518,0x2461*-0x1+0x1bf+-0x193*-0x16,-0x146f+0x2*-0xecc+0x1904*0x2);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x1fcf6a){this['_setValue']('numCascade'+'s',_0x1fcf6a,function(_0x3bc507,_0x1e3966){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x3bc507),0xf2f*-0x2+0x412+0x1a4d,-0x17b8+0xe67+0x955);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0xe033ca){this['_setValue']('cascadeBle'+'nd',_0xe033ca,function(_0x12df57,_0x1df44c){this['light']['cascadeBle'+'nd']=N['clamp'](_0x12df57,0x6a3+0x181a+-0x1ebd,0x6*-0x34a+0x266e+-0x21*0x91);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0xa5249f){this['_setValue']('bakeNumSam'+'ples',_0xa5249f,function(_0x5370ac,_0x550cad){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x5370ac),0xcbd*0x3+-0x4*0x35+-0x2562,-0x199f*0x1+0x24fb+-0xa5d);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x436340){this['_setValue']('bakeArea',_0x436340,function(_0x5cb81a,_0x556318){this['light']['bakeArea']=N['clamp'](_0x5cb81a,-0x150*0x13+-0x96f+0x225f,0x15*0xf6+0x1648+-0x29c2);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x2ac5c7){this['_setValue']('cascadeDis'+'tribution',_0x2ac5c7,function(_0x2df2d1,_0x863ac6){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x2df2d1,-0x13f+0x1393*0x1+-0x1254,-0x2496+-0xd3*-0x25+0x1e*0x34);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x447661){this['_setValue']('normalOffs'+'etBias',_0x447661,function(_0x5b8b36,_0x354e10){this['light']['normalOffs'+'etBias']=N['clamp'](_0x5b8b36,0x184a+0x540+-0x1d8a,0x1dee+0x1c6b+-0xe96*0x4);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x2d618e){this['_setValue']('range',_0x2d618e,function(_0x5325c2,_0x539eb9){this['light']['attenuatio'+'nEnd']=_0x5325c2;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x4d5763){this['_setValue']('innerConeA'+'ngle',_0x4d5763,function(_0x1c1029,_0x5a8c7b){this['light']['innerConeA'+'ngle']=_0x1c1029;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0xf111c4){this['_setValue']('outerConeA'+'ngle',_0xf111c4,function(_0x50ee68,_0x2a5a6c){this['light']['outerConeA'+'ngle']=_0x50ee68;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x5904da){this['_setValue']('falloffMod'+'e',_0x5904da,function(_0x404515,_0x4c7180){this['light']['falloffMod'+'e']=_0x404515;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x4f2df5){this['_setValue']('shadowType',_0x4f2df5,function(_0x3b88ca,_0x4f451a){this['light']['shadowType']=_0x3b88ca;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x5347de){this['_setValue']('vsmBlurSiz'+'e',_0x5347de,function(_0x211d73,_0x4a1dfd){this['light']['vsmBlurSiz'+'e']=_0x211d73;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x138979){this['_setValue']('vsmBlurMod'+'e',_0x138979,function(_0xd65192,_0x485d06){this['light']['vsmBlurMod'+'e']=_0xd65192;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x41ce10){this['_setValue']('vsmBias',_0x41ce10,function(_0x3cee4b,_0x55bc59){this['light']['vsmBias']=N['clamp'](_0x3cee4b,-0x1cc2+0x12e4+0x9de,0x2e0+-0x102a+0xd4b);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x52edd7){this['_setValue']('cookieAsse'+'t',_0x52edd7,function(_0x1119d8,_0x18d9c7){if(!(this['_cookieAss'+'etId']&&(_0x1119d8 instanceof le&&_0x1119d8['id']===this['_cookieAss'+'etId']||_0x1119d8===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x1119d8 instanceof le)this['data']['cookieAsse'+'t']=_0x1119d8['id'],this['_cookieAss'+'etId']=_0x1119d8['id'],this['onCookieAs'+'setAdd'](_0x1119d8);else{if(typeof _0x1119d8=='number'){this['_cookieAss'+'etId']=_0x1119d8;const _0x28c3ac=this['system']['app']['assets']['get'](_0x1119d8);_0x28c3ac?this['onCookieAs'+'setAdd'](_0x28c3ac):(this['_cookieAss'+'etAdd']=!(-0x2664+0x167b+0x1*0xfe9),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x53fdb6){this['_setValue']('cookie',_0x53fdb6,function(_0x3c1e87,_0xb25287){this['light']['cookie']=_0x3c1e87;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x5b247a){this['_setValue']('cookieInte'+'nsity',_0x5b247a,function(_0x3c577d,_0x2ad889){this['light']['cookieInte'+'nsity']=N['clamp'](_0x3c577d,-0xe*-0xd7+0x1*-0x1bbe+-0x3ff*-0x4,-0x21d5*-0x1+0x1*0x17b4+-0x3988);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x640f89){this['_setValue']('cookieFall'+'off',_0x640f89,function(_0x3e76f9,_0x3dab7a){this['light']['cookieFall'+'off']=_0x3e76f9;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x5e4ad0){this['_setValue']('cookieChan'+'nel',_0x5e4ad0,function(_0x209ab9,_0x1d10b0){this['light']['cookieChan'+'nel']=_0x209ab9;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x33c736){this['_setValue']('cookieAngl'+'e',_0x33c736,function(_0x44cb5a,_0x28adf1){if(_0x44cb5a!==0x1*0x148d+0x246f+-0x38fc||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x4da8d2=-0x15d9+0x214d+0x3d1*-0x3,_0x44d191=0x7d*0x46+-0xce3+0x221*-0xa;this['cookieScal'+'e']&&(_0x4da8d2=this['cookieScal'+'e']['x'],_0x44d191=this['cookieScal'+'e']['y']);const _0x4be9db=Math['cos'](_0x44cb5a*N['DEG_TO_RAD']),_0xfd7ce1=Math['sin'](_0x44cb5a*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x4be9db/_0x4da8d2,-_0xfd7ce1/_0x4da8d2,_0xfd7ce1/_0x44d191,_0x4be9db/_0x44d191),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x2b85e5){this['_setValue']('cookieScal'+'e',_0x2b85e5,function(_0x70bf3f,_0xdfd6b5){if(_0x70bf3f!==null||this['cookieAngl'+'e']!==0x1d*-0x19+0xd20+-0x20f*0x5){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x4a3225=_0x70bf3f['x'],_0x2fb00a=_0x70bf3f['y'],_0x3d34bd=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x119629=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x3d34bd/_0x4a3225,-_0x119629/_0x4a3225,_0x119629/_0x2fb00a,_0x3d34bd/_0x2fb00a),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x74*0x2c+0xa7*-0x4+0x168c));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0xad7da1){this['_setValue']('cookieOffs'+'et',_0xad7da1,function(_0x4d8236,_0x5ad9af){this['light']['cookieOffs'+'et']=_0x4d8236;},!(-0xc32+-0x1aa7*0x1+-0x3*-0xcf3));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x2a32d4){this['_setValue']('shadowUpda'+'teMode',_0x2a32d4,function(_0x3be1f4,_0x3b4164){this['light']['shadowUpda'+'teMode']=_0x3be1f4;},!(-0x1ba1+-0xc*0x24a+0x3719));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x544e43){this['_setValue']('mask',_0x544e43,function(_0x32fb23,_0x563852){this['light']['mask']=_0x32fb23;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0xe55718){this['_setValue']('affectDyna'+'mic',_0xe55718,function(_0x4070fa,_0xf8ddd6){_0x4070fa?this['light']['mask']|=ds:this['light']['mask']&=-(0x1*-0x1e8f+0xd67+-0x1*-0x112a),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x51afc4){this['_setValue']('affectLigh'+'tmapped',_0x51afc4,function(_0x42e983,_0x42279b){_0x42e983?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(-0xb*-0x37a+-0x212a+-0x50f))):(this['light']['mask']&=-(0x1a48+-0xb*-0x2ab+-0x379e),this['bake']&&(this['light']['mask']|=nr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x52f3bb){this['_setValue']('bake',_0x52f3bb,function(_0x1b03d2,_0x49ad3a){_0x1b03d2?(this['light']['mask']|=nr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0xbb2+-0x611*0x3+0x684))):(this['light']['mask']&=-(0xb1+0x7*0x4ab+-0x2159),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x213ec9){this['_setValue']('bakeDir',_0x213ec9,function(_0x52dc50,_0x3cba73){this['light']['bakeDir']=_0x52dc50;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x3d9e3a){this['_setValue']('isStatic',_0x3d9e3a,function(_0x194feb,_0x46de22){this['light']['isStatic']=_0x194feb;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x19e272){this['_setValue']('layers',_0x19e272,function(_0x33df19,_0x2868c7){for(let _0x345c7e=0x991+0x245a+-0x1*0x2deb;_0x345c7e<_0x2868c7['length'];_0x345c7e++){const _0x30624e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2868c7[_0x345c7e]);_0x30624e&&(_0x30624e['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x30624e));}for(let _0x4c10f2=-0x1edd+-0x343+-0x5b*-0x60;_0x4c10f2<_0x33df19['length'];_0x4c10f2++){const _0x23efa9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x33df19[_0x4c10f2]);_0x23efa9&&this['enabled']&&this['entity']['enabled']&&(_0x23efa9['addLight'](this),this['light']['addLayer'](_0x23efa9));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x54ed29){this['light']['shadowUpda'+'teOverride'+'s']=_0x54ed29;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x349bb1){this['light']['shadowSamp'+'les']=_0x349bb1;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x39e7e2){this['light']['shadowBloc'+'kerSamples']=_0x39e7e2;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x5f0450){this['light']['penumbraSi'+'ze']=_0x5f0450;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0xe1058){this['light']['penumbraFa'+'lloff']=_0xe1058;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x4fdd1b,_0x59e465,_0x10b6f7,_0x503cea){const _0x16eeac=this['data'],_0x4f8877=_0x16eeac[_0x4fdd1b];!_0x503cea&&_0x4f8877===_0x59e465||(_0x16eeac[_0x4fdd1b]=_0x59e465,_0x10b6f7&&_0x10b6f7['call'](this,_0x59e465,_0x4f8877));}['addLightTo'+'Layers'](){for(let _0xe6633b=-0x641*-0x1+0x8f5*-0x2+-0xba9*-0x1;_0xe6633b<this['layers']['length'];_0xe6633b++){const _0x205ae7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xe6633b]);_0x205ae7&&(_0x205ae7['addLight'](this),this['light']['addLayer'](_0x205ae7));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x27627f=-0xa97+0x26c0+0x321*-0x9;_0x27627f<this['layers']['length'];_0x27627f++){const _0x2f0780=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x27627f]);_0x2f0780&&(_0x2f0780['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x2f0780));}}['onLayersCh'+'anged'](_0x16e2a3,_0xe55594){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x16e2a3['off']('add',this['onLayerAdd'+'ed'],this),_0x16e2a3['off']('remove',this['onLayerRem'+'oved'],this),_0xe55594['on']('add',this['onLayerAdd'+'ed'],this),_0xe55594['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x17a056){this['layers']['indexOf'](_0x17a056['id'])>=0xcb*-0x3+0x1*0x1392+-0x3*0x5bb&&this['enabled']&&this['entity']['enabled']&&(_0x17a056['addLight'](this),this['light']['addLayer'](_0x17a056));}['onLayerRem'+'oved'](_0x5949d8){this['layers']['indexOf'](_0x5949d8['id'])>=-0x14a6+-0x539+-0x1*-0x19df&&(_0x5949d8['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x5949d8));}['refreshPro'+'perties'](){for(let _0x2cd473=0x3*-0x747+-0x63*-0x2c+0x4d1;_0x2cd473<To['length'];_0x2cd473++){const _0x4b3142=To[_0x2cd473];this[_0x4b3142]=this[_0x4b3142];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x11ef39=!(0x88f+0x78e*0x1+-0x101c);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x26ff+0x1*-0x1655+0x3d54),_0x11ef39=!(-0x1e2a+0x1e8+-0x1c42*-0x1)),(!this['_cookieAss'+'et']['resource']||_0x11ef39)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x21b0b3){this['_cookieAss'+'etId']===_0x21b0b3['id']&&(this['_cookieAss'+'et']=_0x21b0b3,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x1d90+-0x4f9*-0x6+0x17*-0x3)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x4eee72=this['system']['app']['scene'],_0x2244f4=_0x4eee72['layers'];this['light']['enabled']=!(-0x1*-0x198d+-0x209*0x2+-0x157b),this['_evtLayers'+'Changed']=_0x4eee72['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2244f4&&(this['_evtLayerA'+'dded']=_0x2244f4['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2244f4['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x1787f1,_0x36cf9e,_0x6d0127;const _0x34c24e=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x2*-0x11b3+0x2490+-0x129),(_0x1787f1=this['_evtLayers'+'Changed'])==null||_0x1787f1['off'](),this['_evtLayers'+'Changed']=null,_0x34c24e&&((_0x36cf9e=this['_evtLayerA'+'dded'])==null||_0x36cf9e['off'](),this['_evtLayerA'+'dded']=null,(_0x6d0127=this['_evtLayerR'+'emoved'])==null||_0x6d0127['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x1c0a79){super(_0x1c0a79),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3c83f8,_0x4143b5){const _0x38f352={..._0x4143b5};_0x38f352['type']||(_0x38f352['type']=_0x3c83f8['data']['type']),_0x3c83f8['data']['type']=_0x38f352['type'],_0x38f352['layers']&&Array['isArray'](_0x38f352['layers'])&&(_0x38f352['layers']=_0x38f352['layers']['slice'](-0x44f*-0x7+0x1*0x1c45+-0x3a6e)),_0x38f352['color']&&Array['isArray'](_0x38f352['color'])&&(_0x38f352['color']=new Y(_0x38f352['color'][-0x24bf+0x2*0x4ff+0x1*0x1ac1],_0x38f352['color'][-0xc6f+-0x2ec+0xf5c],_0x38f352['color'][-0x3bb*0xa+-0xa3*-0xb+0x1e4f])),_0x38f352['cookieOffs'+'et']&&_0x38f352['cookieOffs'+'et']instanceof Array&&(_0x38f352['cookieOffs'+'et']=new W(_0x38f352['cookieOffs'+'et'][0x237b+0x1928+0x2b*-0x169],_0x38f352['cookieOffs'+'et'][0x4*0x75a+-0x8e1+-0x1486])),_0x38f352['cookieScal'+'e']&&_0x38f352['cookieScal'+'e']instanceof Array&&(_0x38f352['cookieScal'+'e']=new W(_0x38f352['cookieScal'+'e'][0x24f0+0x249b+-0x43*0x119],_0x38f352['cookieScal'+'e'][0x8b*-0x44+0x1*0x1193+0x135a])),_0x38f352['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x38f352['enabled']=_0x38f352['enable']),_0x38f352['shape']||(_0x38f352['shape']=xt);const _0x2e1eeb=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x2e1eeb['type']=Hu[_0x38f352['type']],_0x2e1eeb['_node']=_0x3c83f8['entity'],_0x3c83f8['data']['light']=_0x2e1eeb,super['initialize'+'ComponentD'+'ata'](_0x3c83f8,_0x38f352,To);}['_onRemoveC'+'omponent'](_0x4b5d41,_0x3b0350){_0x3b0350['onRemove']();}['cloneCompo'+'nent'](_0xb1a591,_0x30ea34){const _0x4c6461=_0xb1a591['light'],_0x24636d=[];let _0x1bac6e;for(let _0x5a76d6=0x7*0x284+-0x9*0x134+-0x6c8;_0x5a76d6<To['length'];_0x5a76d6++)_0x1bac6e=To[_0x5a76d6],_0x1bac6e!=='light'&&(_0x4c6461[_0x1bac6e]&&_0x4c6461[_0x1bac6e]['clone']?_0x24636d[_0x1bac6e]=_0x4c6461[_0x1bac6e]['clone']():_0x24636d[_0x1bac6e]=_0x4c6461[_0x1bac6e]);return this['addCompone'+'nt'](_0x30ea34,_0x24636d);}['changeType'](_0x551e3d,_0x1fa0ae,_0x1a729b){_0x1fa0ae!==_0x1a729b&&(_0x551e3d['light']['type']=Hu[_0x1a729b]);}}const ZI=['x','y','z','w'],QI=[void(0x2513*-0x1+-0xf16*-0x1+0x1b1*0xd),void(0x918+-0xd21+0x409),W,T,Q];function Fa(_0x5e4797,_0x3cf083,_0x4233d6,_0xf17803){switch(_0x3cf083['type']){case'boolean':return!!_0x4233d6;case'number':if(typeof _0x4233d6=='number')return _0x4233d6;if(typeof _0x4233d6=='string'){const _0x1146e3=parseInt(_0x4233d6,-0xe49+-0x217a*0x1+0x2fcd);return isNaN(_0x1146e3)?null:_0x1146e3;}else{if(typeof _0x4233d6=='boolean')return-0x1*-0xf51+0x59*-0x58+0x1*0xf47+_0x4233d6;}return null;case'json':{const _0x491eff={};if(Array['isArray'](_0x3cf083['schema'])){(!_0x4233d6||typeof _0x4233d6!='object')&&(_0x4233d6={});for(let _0x612e20=0x125b+0x91*0xf+-0x1ada;_0x612e20<_0x3cf083['schema']['length'];_0x612e20++){const _0x5c11ec=_0x3cf083['schema'][_0x612e20];if(_0x5c11ec['name']){if(_0x5c11ec['array']){_0x491eff[_0x5c11ec['name']]=[];const _0x3fa121=Array['isArray'](_0x4233d6[_0x5c11ec['name']])?_0x4233d6[_0x5c11ec['name']]:[];for(let _0xf4807c=0x4*-0x287+0xd25+0x1*-0x309;_0xf4807c<_0x3fa121['length'];_0xf4807c++)_0x491eff[_0x5c11ec['name']]['push'](Fa(_0x5e4797,_0x5c11ec,_0x3fa121[_0xf4807c]));}else{const _0x1b3d67=_0x4233d6['hasOwnProp'+'erty'](_0x5c11ec['name'])?_0x4233d6[_0x5c11ec['name']]:_0x5c11ec['default'];_0x491eff[_0x5c11ec['name']]=Fa(_0x5e4797,_0x5c11ec,_0x1b3d67);}}}}return _0x491eff;}case'asset':return _0x4233d6 instanceof le?_0x4233d6:typeof _0x4233d6=='number'?_0x5e4797['assets']['get'](_0x4233d6)||null:typeof _0x4233d6=='string'&&_0x5e4797['assets']['get'](parseInt(_0x4233d6,-0x1b*-0xcd+-0x26a*-0x3+-0x2f*0x9d))||null;case'entity':return _0x4233d6 instanceof De?_0x4233d6:typeof _0x4233d6=='string'?_0x5e4797['getEntityF'+'romIndex'](_0x4233d6):null;case'rgb':case'rgba':if(_0x4233d6 instanceof Y)return _0xf17803 instanceof Y?(_0xf17803['copy'](_0x4233d6),_0xf17803):_0x4233d6['clone']();if(_0x4233d6 instanceof Array&&_0x4233d6['length']>=-0x24ef+-0xfe0+0x1a69*0x2&&_0x4233d6['length']<=-0x1d7*0x15+0x40e+0x2299){for(let _0x131dad=0x1d9f*0x1+0x1507+0x2*-0x1953;_0x131dad<_0x4233d6['length'];_0x131dad++)if(typeof _0x4233d6[_0x131dad]!='number')return null;return _0xf17803||(_0xf17803=new Y()),_0xf17803['r']=_0x4233d6[0x10ab+0x1*0xbe3+-0x1c8e],_0xf17803['g']=_0x4233d6[-0x7*-0x2f0+0x1ff9+0xa4*-0x52],_0xf17803['b']=_0x4233d6[0x2070+-0x50+0x201e*-0x1],_0xf17803['a']=_0x4233d6['length']===0x1*-0xa30+-0x12b3*0x1+-0x12*-0x19b?0x84*-0x47+-0xdfb+0x8*0x653:_0x4233d6[0x211a+0x11ea+-0x3301],_0xf17803;}else{if(typeof _0x4233d6=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x4233d6))return _0xf17803||(_0xf17803=new Y()),_0xf17803['fromString'](_0x4233d6),_0xf17803;}return null;case'vec2':case'vec3':case'vec4':{const _0x547c86=parseInt(_0x3cf083['type']['slice'](0xff2*-0x1+-0x2*0x104e+0x3091),-0x512+-0x24f2+-0x602*-0x7),_0x2d3e66=QI[_0x547c86];if(_0x4233d6 instanceof _0x2d3e66)return _0xf17803 instanceof _0x2d3e66?(_0xf17803['copy'](_0x4233d6),_0xf17803):_0x4233d6['clone']();if(_0x4233d6 instanceof Array&&_0x4233d6['length']===_0x547c86){for(let _0x5754f4=0x3b+0x238f+-0x23ca;_0x5754f4<_0x4233d6['length'];_0x5754f4++)if(typeof _0x4233d6[_0x5754f4]!='number')return null;_0xf17803||(_0xf17803=new _0x2d3e66());for(let _0x5f390a=-0x5f7*0x3+0x1f11+-0xd2c;_0x5f390a<_0x547c86;_0x5f390a++)_0xf17803[ZI[_0x5f390a]]=_0x4233d6[_0x5f390a];return _0xf17803;}return null;}case'curve':if(_0x4233d6){let _0x37a329;if(_0x4233d6 instanceof Ps||_0x4233d6 instanceof jr)_0x37a329=_0x4233d6['clone']();else{const _0x4a63eb=_0x4233d6['keys'][0x3*0x4a7+0x1a5*-0x3+0xa5*-0xe]instanceof Array?jr:Ps;_0x37a329=new _0x4a63eb(_0x4233d6['keys']),_0x37a329['type']=_0x4233d6['type'];}return _0x37a329;}break;}return _0x4233d6;}function Ax(_0x22af90,_0x43f559,_0x14348c,_0x148934){return _0x43f559['array']?_0x14348c['map']((_0x2e9910,_0x45e6bb)=>Fa(_0x22af90,_0x43f559,_0x2e9910,_0x148934?_0x148934[_0x45e6bb]:null)):Fa(_0x22af90,_0x43f559,_0x14348c,_0x148934);}function Cx(_0x339005,_0x4349ea,_0x363f59,_0x570be3){if(_0x363f59)for(const _0x3a222d in _0x4349ea){const _0x24c2ba=_0x4349ea[_0x3a222d],_0x717f75=_0x363f59[_0x3a222d];_0x717f75!==void(0x2106*0x1+-0x89f*-0x1+0x7*-0x5f3)&&(_0x570be3[_0x3a222d]=Ax(_0x339005,_0x24c2ba,_0x717f75,_0x570be3[_0x3a222d]));}}const la=class la{constructor(_0x54f066){this['scriptType']=_0x54f066,this['index']={};}['add'](_0x1ec331,_0x5b0660){if(this['index'][_0x1ec331]){v['warn']('attribute\x20'+'\x27'+_0x1ec331+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(la['reservedNa'+'mes']['has'](_0x1ec331)){v['warn']('attribute\x20'+'\x27'+_0x1ec331+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x1ec331]=_0x5b0660,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x1ec331,{'get':function(){return this['__attribut'+'es'][_0x1ec331];},'set':function(_0x4ff43f){const _0x184c28='attr',_0x48f9b8='attr:'+_0x1ec331,_0x5b0262=this['__attribut'+'es'][_0x1ec331];let _0x459662=_0x5b0262;if(_0x5b0262&&_0x5b0660['type']!=='json'&&_0x5b0660['type']!=='entity'&&_0x5b0262['clone']&&(this['hasEvent'](_0x184c28)||this['hasEvent'](_0x48f9b8))&&(_0x459662=_0x5b0262['clone']()),_0x5b0660['array']){if(this['__attribut'+'es'][_0x1ec331]=[],_0x4ff43f){for(let _0x425a71=-0x5da*-0x3+0x277*-0xc+-0x2*-0x603,_0x2b4dfa=_0x4ff43f['length'];_0x425a71<_0x2b4dfa;_0x425a71++)this['__attribut'+'es'][_0x1ec331]['push'](Fa(this['app'],_0x5b0660,_0x4ff43f[_0x425a71],_0x5b0262?_0x5b0262[_0x425a71]:null));}}else this['__attribut'+'es'][_0x1ec331]=Fa(this['app'],_0x5b0660,_0x4ff43f,_0x5b0262);this['fire'](_0x184c28,_0x1ec331,this['__attribut'+'es'][_0x1ec331],_0x459662),this['fire'](_0x48f9b8,this['__attribut'+'es'][_0x1ec331],_0x459662);}});}['remove'](_0x221fb8){return this['index'][_0x221fb8]?(delete this['index'][_0x221fb8],delete this['scriptType']['prototype'][_0x221fb8],!(0x22d1*-0x1+-0x1e23+0x40f4)):!(-0x2*0x71e+-0x4d3+0x1310);}['has'](_0x106ff8){return!!this['index'][_0x106ff8];}['get'](_0x58aace){return this['index'][_0x58aace]||null;}};c(la,'assignAttr'+'ibutesToSc'+'ript',Cx),c(la,'attributeT'+'oValue',Ax),c(la,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=la;const gf='initialize',yf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class $t extends ce{constructor(_0x307fc7){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x307fc7);}set['enabled'](_0x84e292){this['_enabled']=!!_0x84e292,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x5c3+0x12e2+-0x18a5*0x1),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x15cf+-0xf06+0x24d5*0x1),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,yf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x169f85){const _0x151254=this['constructo'+'r'];v['assert'](_0x169f85&&_0x169f85['app']&&_0x169f85['entity'],'script\x20['+_0x151254['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x169f85['app'],this['entity']=_0x169f85['entity'],this['_enabled']=typeof _0x169f85['enabled']=='boolean'?_0x169f85['enabled']:!(0x1789+0xf0*-0x1b+0x1c7),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x5ac+-0x21a5+-0x2cf*-0xe),this['__scriptTy'+'pe']=_0x151254,this['__executio'+'nOrder']=-(-0x12df+0x12+0x12ce);}static get['scriptName'](){return this['__name'];}}c($t,'EVENT_ENAB'+'LE','enable'),c($t,'EVENT_DISA'+'BLE','disable'),c($t,'EVENT_STAT'+'E','state'),c($t,'EVENT_DEST'+'ROY','destroy'),c($t,'EVENT_ATTR','attr'),c($t,'EVENT_ERRO'+'R','error'),c($t,'__name',null),c($t,'__getScrip'+'tName',Ex);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Ex(_0x36b833){if(typeof _0x36b833!='function')return;if('name'in Function['prototype'])return _0x36b833['name'];if(_0x36b833===Function||_0x36b833===Function['prototype']['constructo'+'r'])return'Function';const _0x379f64=(''+_0x36b833)['match'](sD);return _0x379f64?_0x379f64[0x6*-0x3fc+0x1935+-0xa6*0x2]:void(0x34d+-0x41b*0x7+-0x2*-0xcb8);}class Jh extends $t{constructor(_0x3f4c83){super(_0x3f4c83),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x3f4c83);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x4fd3c5){$t['prototype']['initScript']['call'](this,_0x4fd3c5),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x4fd3c5['attributes']||{};}['initScript'+'Type'](_0x6cdf3d){this['initScript'](_0x6cdf3d);}['__initiali'+'zeAttribut'+'es'](_0x557213){if(!(!_0x557213&&!this['__attribut'+'esRaw'])){for(const _0x1237b5 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x1237b5)?this[_0x1237b5]=this['__attribut'+'esRaw'][_0x1237b5]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x1237b5)||(this['__scriptTy'+'pe']['attributes']['index'][_0x1237b5]['hasOwnProp'+'erty']('default')?this[_0x1237b5]=this['__scriptTy'+'pe']['attributes']['index'][_0x1237b5]['default']:this[_0x1237b5]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x387bd3){for(const _0x2547fb in _0x387bd3)_0x387bd3['hasOwnProp'+'erty'](_0x2547fb)&&(this['prototype'][_0x2547fb]=_0x387bd3[_0x2547fb]);}}const iD=_0x432216=>_0x432216[-0x9aa+-0xfe5+0x198f]['toLowerCas'+'e']()+_0x432216['substring'](-0x11a6+-0x235d+0x3504);class fi extends ue{constructor(_0x46c866,_0x473ec2){super(_0x46c866,_0x473ec2),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new Th({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new Th({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x11*0x12f+0x4d+-0xcb*-0x19),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x18f8+0x1ff8*0x1+-0x700),this['_enabled']=!(-0x1be*0x13+0x1be+0x1f5c),this['_beingEnab'+'led']=!(-0xfc4+0x8*0x2cc+-0x59*0x13),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x2b*-0x29+0x455*-0x1+-0x28d),this['_execution'+'Order']=-(0xe*0x106+-0x463+0x9f0*-0x1),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x27c608){this['_scriptsDa'+'ta']=_0x27c608;for(const _0x553693 in _0x27c608){if(!_0x27c608['hasOwnProp'+'erty'](_0x553693))continue;const _0x39325a=this['_scriptsIn'+'dex'][_0x553693];if(_0x39325a){if(typeof _0x27c608[_0x553693]['enabled']=='boolean'&&(_0x39325a['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x39325a);}),_0x39325a['enabled']=!!_0x27c608[_0x553693]['enabled']),typeof _0x27c608[_0x553693]['attributes']=='object'){for(const _0x13dad5 in _0x27c608[_0x553693]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x13dad5)){if(!_0x39325a['__attribut'+'es']['hasOwnProp'+'erty'](_0x13dad5)){const _0x429aa7=this['system']['app']['scripts']['get'](_0x553693);_0x429aa7&&_0x429aa7['attributes']['add'](_0x13dad5,{});}_0x39325a[_0x13dad5]=_0x27c608[_0x553693]['attributes'][_0x13dad5];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x481e3f){const _0x512168=this['_enabled'];this['_enabled']=_0x481e3f,this['fire']('set','enabled',_0x512168,_0x481e3f);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x6be+0x248b+-0x2b49),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0xa*-0x14c+0x2e1*-0xd+0x3266);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x1a2b2c=this['_beginLoop'+'ing']();for(let _0x1a3271=0x106*0xa+-0x61*-0x5c+-0x2d18,_0x54a8a6=this['scripts']['length'];_0x1a3271<_0x54a8a6;_0x1a3271++){const _0x1e2460=this['scripts'][_0x1a3271];_0x1e2460['_initializ'+'ed']&&!_0x1e2460['_postIniti'+'alized']&&_0x1e2460['enabled']&&(_0x1e2460['_postIniti'+'alized']=!(0x1*-0x1e09+0x1aa2+0x1*0x367),_0x1e2460['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1e2460,yf));}this['_endLoopin'+'g'](_0x1a2b2c);}['_beginLoop'+'ing'](){const _0x11c91a=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x1fdd*-0x1+0x21dc+-0x41b9),_0x11c91a;}['_endLoopin'+'g'](_0x433709){this['_isLooping'+'ThroughScr'+'ipts']=_0x433709,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x3c57d5,_0x159b03,_0x21066b){this['_beingEnab'+'led']=!(0x4c6*-0x4+0x1451+0x139*-0x1),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x2*0xec9+0xad*0x34+0x4b*-0x13);}['_checkStat'+'e'](){const _0x1d8362=this['enabled']&&this['entity']['enabled'];if(_0x1d8362===this['_oldState'])return;this['_oldState']=_0x1d8362,this['fire'](_0x1d8362?'enable':'disable'),this['fire']('state',_0x1d8362),_0x1d8362?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x1993e8=this['_beginLoop'+'ing']();for(let _0x2866e6=-0x1175+0x1*-0xe39+0x1fae,_0x1a0569=this['scripts']['length'];_0x2866e6<_0x1a0569;_0x2866e6++){const _0x42abfd=this['scripts'][_0x2866e6];_0x42abfd['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x42abfd);}),_0x42abfd['enabled']=_0x42abfd['_enabled'];}this['_endLoopin'+'g'](_0x1993e8);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x306a5e=this['_beginLoop'+'ing']();for(let _0x4a1b70=-0x9a4*-0x4+-0x10f5+0x1*-0x159b;_0x4a1b70<this['scripts']['length'];_0x4a1b70++){const _0x54277e=this['scripts'][_0x4a1b70];_0x54277e&&this['destroy'](_0x54277e['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x306a5e);}['_removeDes'+'troyedScri'+'pts'](){const _0x1c6098=this['_destroyed'+'Scripts']['length'];if(_0x1c6098){for(let _0x519884=-0x29*0x2a+-0x1*0x1391+0x1a4b;_0x519884<_0x1c6098;_0x519884++){const _0x3b0a09=this['_destroyed'+'Scripts'][_0x519884];this['_removeScr'+'iptInstanc'+'e'](_0x3b0a09);}this['_destroyed'+'Scripts']['length']=-0x1c1e+0x10d9+0xb45,this['_resetExec'+'utionOrder'](0x1cd*0x11+-0x6c3+-0x17da,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x26b01e=0x2024+-0x542*-0x6+0x10*-0x3fb,_0x4904d4=this['scripts']['length'];_0x26b01e<_0x4904d4;_0x26b01e++){const _0x1f2c54=this['scripts'][_0x26b01e];this['initialize'+'Attributes'](_0x1f2c54);}}['initialize'+'Attributes'](_0x2ce616){var _0x118669;if(_0x2ce616 instanceof Jh)_0x2ce616['__initiali'+'zeAttribut'+'es']();else{const _0x141efb=_0x2ce616['__scriptTy'+'pe']['__name'],_0x453e0e=this['_attribute'+'DataMap']['get'](_0x141efb);if(!_0x453e0e)return;const _0x51b9b3=(_0x118669=this['system']['app']['scripts'])==null?void(0xe9*0x21+-0x9f8*-0x1+-0x1*0x2801):_0x118669['getSchema'](_0x141efb);_0x51b9b3||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x141efb+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Cx(this['system']['app'],_0x51b9b3['attributes'],_0x453e0e,_0x2ce616);}}['_scriptMet'+'hod'](_0x2015ac,_0x13e4c6,_0x14ffbf){try{_0x2015ac[_0x13e4c6](_0x14ffbf);}catch(_0x4a56a2){_0x2015ac['enabled']=!(-0x246f+0x2*0x50+0x23d0),_0x2015ac['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x13e4c6+'\x22\x20for\x20\x22'+_0x2015ac['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x4a56a2),console['error'](_0x4a56a2)),_0x2015ac['fire']('error',_0x4a56a2,_0x13e4c6),this['fire']('error',_0x2015ac,_0x4a56a2,_0x13e4c6);}}['_onInitial'+'ize'](){const _0x500efc=this['_scripts'],_0x3ba253=this['_beginLoop'+'ing']();for(let _0x4c8781=0x2*0xe05+-0xfa8+-0xc62,_0x45f2c6=_0x500efc['length'];_0x4c8781<_0x45f2c6;_0x4c8781++){const _0x17a802=_0x500efc[_0x4c8781];!_0x17a802['_initializ'+'ed']&&_0x17a802['enabled']&&(_0x17a802['_initializ'+'ed']=!(-0x1917*-0x1+-0x1*0x1733+-0x1e4),_0x17a802['initialize']&&this['_scriptMet'+'hod'](_0x17a802,gf));}this['_endLoopin'+'g'](_0x3ba253);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x21b004){const _0x37f5c6=this['_updateLis'+'t'];if(!_0x37f5c6['length'])return;const _0x54d36e=this['_beginLoop'+'ing']();for(_0x37f5c6['loopIndex']=0x13*-0xbe+-0x187d+0x1*0x2697;_0x37f5c6['loopIndex']<_0x37f5c6['length'];_0x37f5c6['loopIndex']++){const _0x181cfa=_0x37f5c6['items'][_0x37f5c6['loopIndex']];_0x181cfa['enabled']&&this['_scriptMet'+'hod'](_0x181cfa,JI,_0x21b004);}this['_endLoopin'+'g'](_0x54d36e);}['_onPostUpd'+'ate'](_0x2c8576){const _0x5a7077=this['_postUpdat'+'eList'];if(!_0x5a7077['length'])return;const _0x572c9f=this['_beginLoop'+'ing']();for(_0x5a7077['loopIndex']=0x8*0x4d0+0x1e06+-0x4486;_0x5a7077['loopIndex']<_0x5a7077['length'];_0x5a7077['loopIndex']++){const _0x5b3c37=_0x5a7077['items'][_0x5a7077['loopIndex']];_0x5b3c37['enabled']&&this['_scriptMet'+'hod'](_0x5b3c37,eD,_0x2c8576);}this['_endLoopin'+'g'](_0x572c9f);}['_insertScr'+'iptInstanc'+'e'](_0x1a9520,_0x454c58,_0xf86dbf){_0x454c58===-(-0x23ca+-0x18d1+-0x6bc*-0x9)?(this['_scripts']['push'](_0x1a9520),_0x1a9520['__executio'+'nOrder']=_0xf86dbf,_0x1a9520['update']&&this['_updateLis'+'t']['append'](_0x1a9520),_0x1a9520['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x1a9520)):(this['_scripts']['splice'](_0x454c58,-0x1b90+-0x7f*0xb+0x6b*0x4f,_0x1a9520),_0x1a9520['__executio'+'nOrder']=_0x454c58,this['_resetExec'+'utionOrder'](_0x454c58+(-0x3*-0x23+-0x2549+0x24e1),_0xf86dbf+(-0xe*-0x5d+-0x2*-0xe9+-0x6e7)),_0x1a9520['update']&&this['_updateLis'+'t']['insert'](_0x1a9520),_0x1a9520['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x1a9520));}['_removeScr'+'iptInstanc'+'e'](_0x4690ea){const _0x3a064a=this['_scripts']['indexOf'](_0x4690ea);return _0x3a064a===-(-0x8e6+-0x76d+0x1054)||(this['_scripts']['splice'](_0x3a064a,0x1*0x1fd8+-0x3*0x7f+0x23*-0xde),_0x4690ea['update']&&this['_updateLis'+'t']['remove'](_0x4690ea),_0x4690ea['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x4690ea)),_0x3a064a;}['_resetExec'+'utionOrder'](_0x166cce,_0x22e36c){for(let _0xa59e3e=_0x166cce;_0xa59e3e<_0x22e36c;_0xa59e3e++)this['_scripts'][_0xa59e3e]['__executio'+'nOrder']=_0xa59e3e;}['_resolveEn'+'tityScript'+'Attribute'](_0x5422ee,_0x3116fe,_0x156dc2,_0x1df1e3,_0x112dfb,_0x1a0d15){if(_0x5422ee['array']){const _0x382bfa=_0x156dc2['length'];if(!_0x382bfa)return;const _0x2903c8=_0x156dc2['slice']();for(let _0x400707=0x6cf*-0x2+0x2a2+-0x13*-0x94;_0x400707<_0x382bfa;_0x400707++){const _0x4d94e8=_0x2903c8[_0x400707]instanceof We?_0x2903c8[_0x400707]['getGuid']():_0x2903c8[_0x400707];_0x1a0d15[_0x4d94e8]&&(_0x2903c8[_0x400707]=_0x1df1e3?_0x1a0d15[_0x4d94e8]['getGuid']():_0x1a0d15[_0x4d94e8]);}_0x112dfb[_0x3116fe]=_0x2903c8;}else{if(_0x156dc2 instanceof We)_0x156dc2=_0x156dc2['getGuid']();else{if(typeof _0x156dc2!='string')return;}_0x1a0d15[_0x156dc2]&&(_0x112dfb[_0x3116fe]=_0x1a0d15[_0x156dc2]);}}['has'](_0x1f8228){if(typeof _0x1f8228=='string')return!!this['_scriptsIn'+'dex'][_0x1f8228];if(!_0x1f8228)return!(-0xf7*0x21+0x2da+0x1cfe);const _0x55af59=_0x1f8228,_0x33d9fb=_0x55af59['__name'],_0x126a08=this['_scriptsIn'+'dex'][_0x33d9fb];return(_0x126a08&&_0x126a08['instance'])instanceof _0x55af59;}['get'](_0x424bee){if(typeof _0x424bee=='string'){const _0x1f82be=this['_scriptsIn'+'dex'][_0x424bee];return _0x1f82be?_0x1f82be['instance']:null;}if(!_0x424bee)return null;const _0x704f98=_0x424bee,_0x44385f=_0x704f98['__name'],_0x13c51a=this['_scriptsIn'+'dex'][_0x44385f],_0x2d055d=_0x13c51a&&_0x13c51a['instance'];return _0x2d055d instanceof _0x704f98?_0x2d055d:null;}['create'](_0xf4e42a,_0x2eb293={}){const _0x5e6253=this;let _0x394570=_0xf4e42a,_0x50029a=_0xf4e42a;if(typeof _0x394570=='string'?_0x394570=this['system']['app']['scripts']['get'](_0x394570):_0x394570&&(_0x50029a=_0x394570['__name']??(_0x394570['__name']=iD(Ex(_0x394570)))),_0x394570){if(!this['_scriptsIn'+'dex'][_0x50029a]||!this['_scriptsIn'+'dex'][_0x50029a]['instance']){const _0x3ecb4c=new _0x394570({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x2eb293['hasOwnProp'+'erty']('enabled')?_0x2eb293['enabled']:!(-0x6e*-0x19+-0x1905+0xe47),'attributes':_0x2eb293['attributes']||{}});_0x2eb293['properties']&&typeof _0x2eb293['properties']=='object'&&Object['assign'](_0x3ecb4c,_0x2eb293['properties']),_0x3ecb4c instanceof Jh||this['_attribute'+'DataMap']['set'](_0x50029a,_0x2eb293['attributes']);const _0xaeef7=this['_scripts']['length'];let _0x48f021=-(0x5*-0x41b+-0x2409+-0x1*-0x3891);return typeof _0x2eb293['ind']=='number'&&_0x2eb293['ind']!==-(-0x42*0x3a+-0x1*-0xa99+0x45c)&&_0xaeef7>_0x2eb293['ind']&&(_0x48f021=_0x2eb293['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x3ecb4c,_0x48f021,_0xaeef7),this['_scriptsIn'+'dex'][_0x50029a]={'instance':_0x3ecb4c,'onSwap':function(){_0x5e6253['swap'](_0x50029a);}},this[_0x50029a]=_0x3ecb4c,_0x2eb293['preloading']||this['initialize'+'Attributes'](_0x3ecb4c),this['fire']('create',_0x50029a,_0x3ecb4c),this['fire']('create:'+_0x50029a,_0x3ecb4c),this['system']['app']['scripts']['on']('swap:'+_0x50029a,this['_scriptsIn'+'dex'][_0x50029a]['onSwap']),_0x2eb293['preloading']||(_0x3ecb4c['enabled']&&!_0x3ecb4c['_initializ'+'ed']&&(_0x3ecb4c['_initializ'+'ed']=!(-0xc15+-0x191b*0x1+-0x70*-0x55),_0x3ecb4c['initialize']&&this['_scriptMet'+'hod'](_0x3ecb4c,gf)),_0x3ecb4c['enabled']&&!_0x3ecb4c['_postIniti'+'alized']&&(_0x3ecb4c['_postIniti'+'alized']=!(0x1*0x6ab+-0x1*-0x2341+-0x14f6*0x2),_0x3ecb4c['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x3ecb4c,yf))),_0x3ecb4c;}v['warn']('script\x20\x27'+_0x50029a+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x50029a]={'awaiting':!(-0xd40+-0x1b*0x13d+0x275*0x13),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x50029a+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x208cbe){let _0x3f7b12=_0x208cbe,_0x5c7d1c=_0x208cbe;typeof _0x5c7d1c=='string'?_0x5c7d1c=this['system']['app']['scripts']['get'](_0x5c7d1c):_0x5c7d1c&&(_0x3f7b12=_0x5c7d1c['__name']);const _0x4eb703=this['_scriptsIn'+'dex'][_0x3f7b12];if(delete this['_scriptsIn'+'dex'][_0x3f7b12],!_0x4eb703)return!(-0x577*-0x4+-0x1e36+0x2c9*0x3);this['_attribute'+'DataMap']['delete'](_0x3f7b12);const _0x1371f1=_0x4eb703['instance'];if(_0x1371f1&&!_0x1371f1['_destroyed']){if(_0x1371f1['enabled']=!(0xb4+0x1cdd+-0xb0*0x2b),_0x1371f1['_destroyed']=!(0xa83+0xb3*-0xf+-0x6),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x1371f1);else{const _0x133266=this['_removeScr'+'iptInstanc'+'e'](_0x1371f1);_0x133266>=0x66f+0x9f*-0x13+0x55e&&this['_resetExec'+'utionOrder'](_0x133266,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3f7b12,_0x4eb703['onSwap']),delete this[_0x3f7b12],this['fire']('destroy',_0x3f7b12,_0x1371f1||null),this['fire']('destroy:'+_0x3f7b12,_0x1371f1||null),_0x1371f1&&_0x1371f1['fire']('destroy'),!(-0x10c7+0xb*0x371+0x47*-0x4c);}['swap'](_0x409b87){let _0x3f9062=_0x409b87,_0x14b74e=_0x409b87;typeof _0x14b74e=='string'?_0x14b74e=this['system']['app']['scripts']['get'](_0x14b74e):_0x14b74e&&(_0x3f9062=_0x14b74e['__name']);const _0x5df44e=this['_scriptsIn'+'dex'][_0x3f9062];if(!_0x5df44e||!_0x5df44e['instance'])return!(0x3*0x669+0x934+-0x1c6e);const _0x301530=_0x5df44e['instance'],_0x154523=this['_scripts']['indexOf'](_0x301530),_0x214b36=new _0x14b74e({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x301530['enabled'],'attributes':_0x301530['__attribut'+'es']});return _0x214b36['swap']?(this['initialize'+'Attributes'](_0x214b36),this['_scripts'][_0x154523]=_0x214b36,this['_scriptsIn'+'dex'][_0x3f9062]['instance']=_0x214b36,this[_0x3f9062]=_0x214b36,_0x214b36['__executio'+'nOrder']=_0x154523,_0x301530['update']&&this['_updateLis'+'t']['remove'](_0x301530),_0x301530['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x301530),_0x214b36['update']&&this['_updateLis'+'t']['insert'](_0x214b36),_0x214b36['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x214b36),this['_scriptMet'+'hod'](_0x214b36,tD,_0x301530),this['fire']('swap',_0x3f9062,_0x214b36),this['fire']('swap:'+_0x3f9062,_0x214b36),!(-0x2*-0x175+0x1*-0x2507+0x221d)):!(0x5*-0x712+0x19cb+0x990);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4bedd4,_0x4008a3){const _0xbfb477=this['entity']['script'];for(const _0xb1b9ce in _0x4bedd4['_scriptsIn'+'dex']){const _0x2bab38=this['system']['app']['scripts']['get'](_0xb1b9ce);if(!_0x2bab38)continue;const _0x546fc0=_0x4bedd4['_scriptsIn'+'dex'][_0xb1b9ce];if(!_0x546fc0||!_0x546fc0['instance'])continue;const _0x173f02=_0xbfb477[_0xb1b9ce]['__attribut'+'esRaw'],_0x58feed=_0xbfb477[_0xb1b9ce]['__attribut'+'es'];if(!_0x173f02&&!_0x58feed)continue;const _0x3bc1af=!!_0x173f02,_0x2ff500=_0x546fc0['instance']['__attribut'+'es'];for(const _0x1f4a6a in _0x2ff500){if(!_0x2ff500[_0x1f4a6a])continue;const _0x57fac7=_0x2bab38['attributes']['get'](_0x1f4a6a);if(_0x57fac7){if(_0x57fac7['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x57fac7,_0x1f4a6a,_0x2ff500[_0x1f4a6a],_0x3bc1af,_0x173f02||_0x58feed,_0x4008a3);else{if(_0x57fac7['type']==='json'&&Array['isArray'](_0x57fac7['schema'])){const _0x1af4eb=_0x2ff500[_0x1f4a6a],_0x2d8450=_0x173f02?_0x173f02[_0x1f4a6a]:_0x58feed[_0x1f4a6a];for(let _0x2d6f1d=-0x10b8+-0x178+0x918*0x2;_0x2d6f1d<_0x57fac7['schema']['length'];_0x2d6f1d++){const _0x59a197=_0x57fac7['schema'][_0x2d6f1d];if(_0x59a197['type']==='entity'){if(_0x57fac7['array']){for(let _0xd8c182=0x145*-0x13+-0x1408+-0x7f*-0x59;_0xd8c182<_0x1af4eb['length'];_0xd8c182++)this['_resolveEn'+'tityScript'+'Attribute'](_0x59a197,_0x59a197['name'],_0x1af4eb[_0xd8c182][_0x59a197['name']],_0x3bc1af,_0x2d8450[_0xd8c182],_0x4008a3);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x59a197,_0x59a197['name'],_0x1af4eb[_0x59a197['name']],_0x3bc1af,_0x2d8450,_0x4008a3);}}}}}}}}['move'](_0x25ec14,_0x19ae4e){const _0x2c727f=this['_scripts']['length'];if(_0x19ae4e>=_0x2c727f||_0x19ae4e<-0x132e+-0x203*0x11+0x3561)return!(0x18f7+-0x7da*0x3+0x18*-0xf);let _0x3fb192=_0x25ec14,_0x30103a=_0x25ec14;typeof _0x30103a!='string'?_0x30103a=_0x25ec14['__name']:_0x3fb192=null;const _0x3878ea=this['_scriptsIn'+'dex'][_0x30103a];if(!_0x3878ea||!_0x3878ea['instance'])return!(-0x12f2+0x1445+-0x1*0x152);const _0xaa9186=_0x3878ea['instance'];if(_0x3fb192&&!(_0xaa9186 instanceof _0x3fb192))return!(-0x1405+-0x16e5+0x2aeb);const _0x5a434a=this['_scripts']['indexOf'](_0xaa9186);return _0x5a434a===-(-0x159c+-0x1951+-0x2eee*-0x1)||_0x5a434a===_0x19ae4e?!(0x16c+-0x1359+0x11ee):(this['_scripts']['splice'](_0x19ae4e,0x7ec+-0x221b+-0x1*-0x1a2f,this['_scripts']['splice'](_0x5a434a,0x5ca+0xf2a+-0x14f3)[-0xabc+0x24a1+-0x19e5*0x1]),this['_resetExec'+'utionOrder'](0x29b*0xd+0x1*0x113d+-0x331c,_0x2c727f),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x30103a,_0xaa9186,_0x19ae4e,_0x5a434a),this['fire']('move:'+_0x30103a,_0xaa9186,_0x19ae4e,_0x5a434a),!(-0x265c+-0x118b*-0x1+0x14d1*0x1));}}c(fi,'EVENT_CREA'+'TE','create'),c(fi,'EVENT_DEST'+'ROY','destroy'),c(fi,'EVENT_ENAB'+'LE','enable'),c(fi,'EVENT_DISA'+'BLE','disable'),c(fi,'EVENT_REMO'+'VE','remove'),c(fi,'EVENT_STAT'+'E','state'),c(fi,'EVENT_MOVE','move'),c(fi,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(-0x1a55+0x164c+-0x1*-0x409);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let eh=0x537+0x51b*-0x1+-0x1c;class cD extends Xe{constructor(_0x359053){super(_0x359053),this['id']='script',this['ComponentT'+'ype']=fi,this['DataType']=rD,this['_component'+'s']=new Th({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new Th({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x620+0x13be+-0x19de),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x351529,_0x1d253d){if(_0x351529['_execution'+'Order']=eh++,this['_component'+'s']['append'](_0x351529),eh>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x351529['enabled']=_0x1d253d['hasOwnProp'+'erty']('enabled')?!!_0x1d253d['enabled']:!(-0x566*0x5+-0xb51*0x1+0x264f),_0x351529['enabled']&&_0x351529['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x351529),_0x1d253d['hasOwnProp'+'erty']('order')&&_0x1d253d['hasOwnProp'+'erty']('scripts')){_0x351529['_scriptsDa'+'ta']=_0x1d253d['scripts'];for(let _0x26c4f9=0xb24*0x3+0xcaa+0x11*-0x2b6;_0x26c4f9<_0x1d253d['order']['length'];_0x26c4f9++)_0x351529['create'](_0x1d253d['order'][_0x26c4f9],{'enabled':_0x1d253d['scripts'][_0x1d253d['order'][_0x26c4f9]]['enabled'],'attributes':_0x1d253d['scripts'][_0x1d253d['order'][_0x26c4f9]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x15b2b8,_0x1a06fa){var _0x27fd3e;const _0x4528f6=[],_0x462189={};for(let _0x59c7f4=-0x1*0x1933+-0x1df3+0x3726;_0x59c7f4<_0x15b2b8['script']['_scripts']['length'];_0x59c7f4++){const _0x59861f=_0x15b2b8['script']['_scripts'][_0x59c7f4],_0x585f6d=_0x59861f['__scriptTy'+'pe']['__name'];_0x4528f6['push'](_0x585f6d);const _0x16b76a=((_0x27fd3e=_0x15b2b8['script']['_attribute'+'DataMap'])==null?void(0x2f*0x6d+-0x59d+-0xe66):_0x27fd3e['get'](_0x585f6d))||{};for(const _0x4f002c in _0x59861f['__attribut'+'es'])_0x16b76a[_0x4f002c]=_0x59861f['__attribut'+'es'][_0x4f002c];_0x462189[_0x585f6d]={'enabled':_0x59861f['_enabled'],'attributes':_0x16b76a};}for(const _0x32c57e in _0x15b2b8['script']['_scriptsIn'+'dex'])_0x32c57e['awaiting']&&_0x4528f6['splice'](_0x32c57e['ind'],0x2*0xcf7+0x9af+-0x239d,_0x32c57e);const _0xb895e6={'enabled':_0x15b2b8['script']['enabled'],'order':_0x4528f6,'scripts':_0x462189};return this['addCompone'+'nt'](_0x1a06fa,_0xb895e6);}['_resetExec'+'utionOrder'](){eh=0x1a22+-0xd*-0x1ad+-0x2feb;for(let _0x4ba4ea=0x1906+-0x1*0x5a7+0x135f*-0x1,_0x397843=this['_component'+'s']['length'];_0x4ba4ea<_0x397843;_0x4ba4ea++)this['_component'+'s']['items'][_0x4ba4ea]['_execution'+'Order']=eh++;}['_callCompo'+'nentMethod'](_0x214b77,_0x1680d3,_0x621f05){for(_0x214b77['loopIndex']=-0x1a7*-0x15+0x1d*0x147+-0x23df*0x2;_0x214b77['loopIndex']<_0x214b77['length'];_0x214b77['loopIndex']++)_0x214b77['items'][_0x214b77['loopIndex']][_0x1680d3](_0x621f05);}['_onInitial'+'ize'](){this['preloading']=!(0x51b+-0x597+0x1*0x7d),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x177784){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x177784);}['_onPostUpd'+'ate'](_0x6fb7c5){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x6fb7c5);}['_addCompon'+'entToEnabl'+'ed'](_0x3e48de){this['_enabledCo'+'mponents']['insert'](_0x3e48de);}['_removeCom'+'ponentFrom'+'Enabled'](_0x3fa56d){this['_enabledCo'+'mponents']['remove'](_0x3fa56d);}['_onBeforeR'+'emove'](_0x1135c7,_0x579c28){this['_component'+'s']['items']['indexOf'](_0x579c28)>=-0xf*0xf4+0xcde*-0x1+0x1b2a&&_0x579c28['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x579c28),this['_component'+'s']['remove'](_0x579c28);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x47ce2d,_0xac1978){super(_0x47ce2d,_0xac1978),c(this,'_layers',[Oi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x47ce2d['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0xac1978['on']('remove',this['onRemoveCh'+'ild'],this),_0xac1978['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xac1978['on']('insert',this['onInsertCh'+'ild'],this),_0xac1978['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x345ab7){var _0x3f7383,_0x5637da;this['_customAab'+'b']=_0x345ab7,(_0x5637da=(_0x3f7383=this['_instance'])==null?void(0x2301+-0x1*-0x1b55+0x65*-0x9e):_0x3f7383['meshInstan'+'ce'])==null||_0x5637da['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x404d40){var _0x353cc3;if(this['destroyIns'+'tance'](),this['_instance']=_0x404d40,(_0x353cc3=this['_instance'])!=null&&_0x353cc3['meshInstan'+'ce']){const _0x2a4fa3=this['_instance']['meshInstan'+'ce'];_0x2a4fa3['node']||(_0x2a4fa3['node']=this['entity']),_0x2a4fa3['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x200ad4){this['_materialO'+'ptions']=Object['assign']({},_0x200ad4),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x10b79b;return(_0x10b79b=this['_instance'])==null?void(0x1*0x62b+0xfae+-0x15d9):_0x10b79b['material'];}set['layers'](_0x40801d){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x7*0xd7+-0x1b61+0x2142;for(let _0x3e2322=-0x1cbb+0x427*-0x5+0x712*0x7;_0x3e2322<_0x40801d['length'];_0x3e2322++)this['_layers'][_0x3e2322]=_0x40801d[_0x3e2322];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0xb48611){const _0x284410=_0xb48611 instanceof le?_0xb48611['id']:_0xb48611;this['_assetRefe'+'rence']['id']!==_0x284410&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x284410,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0xbb3ad9){const _0x458f73=_0xbb3ad9 instanceof le?_0xbb3ad9['id']:_0xbb3ad9;this['_assetRefe'+'rence']['id']=_0x458f73;}['destroyIns'+'tance'](){var _0x42348a;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x42348a=this['_instance'])==null||_0x42348a['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x271fd1,_0x1f30b9;const _0x3745c9=(_0x271fd1=this['instance'])==null?void(-0x18b2+-0x1645+-0x2ef7*-0x1):_0x271fd1['meshInstan'+'ce'];if(_0x3745c9){const _0x182365=this['system']['app']['scene']['layers'];for(let _0x4b5b4c=0xf1*0x1f+-0x1*0x200f+0x2e0;_0x4b5b4c<this['_layers']['length'];_0x4b5b4c++)(_0x1f30b9=_0x182365['getLayerBy'+'Id'](this['_layers'][_0x4b5b4c]))==null||_0x1f30b9['addMeshIns'+'tances']([_0x3745c9]);}}['removeFrom'+'Layers'](){var _0x347bce,_0x4e81fb;const _0x2a5541=(_0x347bce=this['instance'])==null?void(-0x4e*-0x2+0x1*0x1ee3+-0x1f7f):_0x347bce['meshInstan'+'ce'];if(_0x2a5541){const _0x1a3b7a=this['system']['app']['scene']['layers'];for(let _0x5ec0ea=0x25a0+-0x2*0xe5b+-0x1*0x8ea;_0x5ec0ea<this['_layers']['length'];_0x5ec0ea++)(_0x4e81fb=_0x1a3b7a['getLayerBy'+'Id'](this['_layers'][_0x5ec0ea]))==null||_0x4e81fb['removeMesh'+'Instances']([_0x2a5541]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x557626,_0x4c94b2){this['addToLayer'+'s'](),_0x557626['off']('add',this['onLayerAdd'+'ed'],this),_0x557626['off']('remove',this['onLayerRem'+'oved'],this),_0x4c94b2['on']('add',this['onLayerAdd'+'ed'],this),_0x4c94b2['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5c7874){this['layers']['indexOf'](_0x5c7874['id'])<0x532+-0x1277*0x1+0xd45||this['_instance']&&_0x5c7874['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x1a8b87){this['layers']['indexOf'](_0x1a8b87['id'])<0xe2a+0x24+-0x2*0x727||this['_instance']&&_0x1a8b87['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x4c253e=this['system']['app']['scene'],_0xec01c1=_0x4c253e['layers'];this['_evtLayers'+'Changed']=_0x4c253e['on']('set:layers',this['onLayersCh'+'anged'],this),_0xec01c1&&(this['_evtLayerA'+'dded']=_0xec01c1['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xec01c1['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x5beb4d,_0x447d33,_0x3d9d92;const _0x5d2a48=this['system']['app']['scene']['layers'];(_0x5beb4d=this['_evtLayers'+'Changed'])==null||_0x5beb4d['off'](),this['_evtLayers'+'Changed']=null,_0x5d2a48&&((_0x447d33=this['_evtLayerA'+'dded'])==null||_0x447d33['off'](),this['_evtLayerA'+'dded']=null,(_0x3d9d92=this['_evtLayerR'+'emoved'])==null||_0x3d9d92['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1b6e+-0x4*-0x31c+0xb*0x15d));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x45d*0x1+0xf8d*0x1+-0x2*0x9f5));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x1b13d7=this['_assetRefe'+'rence']['asset'];_0x1b13d7&&(this['instance']=_0x1b13d7['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(-0xc9*0x2b+0x37*-0x3c+0x2ea7);}}const xf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x4852dc){super(_0x4852dc),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=xf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x103b46,_0x401760,_0x1827da){_0x401760['layers']&&_0x401760['layers']['length']&&(_0x401760['layers']=_0x401760['layers']['slice'](0xcfa*-0x1+-0x2b7*-0x9+-0xb75));for(let _0x349607=-0x1*0x224c+-0x1cfb+0xa7*0x61;_0x349607<Rr['length'];_0x349607++)_0x401760['hasOwnProp'+'erty'](Rr[_0x349607])&&(_0x103b46[Rr[_0x349607]]=_0x401760[Rr[_0x349607]]);_0x401760['aabbCenter']&&_0x401760['aabbHalfEx'+'tents']&&(_0x103b46['customAabb']=new _e(new T(_0x401760['aabbCenter']),new T(_0x401760['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x103b46,_0x401760,xf);}['cloneCompo'+'nent'](_0x513a33,_0x28b138){const _0x3c5e46=_0x513a33['gsplat'],_0x1081a0={};for(let _0x399670=-0x1d51*0x1+0xe25*-0x2+0x399b;_0x399670<Rr['length'];_0x399670++)_0x1081a0[Rr[_0x399670]]=_0x3c5e46[Rr[_0x399670]];_0x1081a0['enabled']=_0x3c5e46['enabled'],delete _0x1081a0['instance'];const _0x224407=this['addCompone'+'nt'](_0x28b138,_0x1081a0);return _0x224407['instance']=_0x3c5e46['instance']['clone'](),_0x3c5e46['customAabb']&&(_0x224407['customAabb']=_0x3c5e46['customAabb']['clone']()),_0x224407;}['onRemove'](_0xadaf84,_0x3a1bfd){_0x3a1bfd['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],xf);class Wp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x595f3e){this['decRefMesh'+'es'](),this['_meshes']=_0x595f3e,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x595f3e);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x56ba86;(_0x56ba86=this['_meshes'])==null||_0x56ba86['forEach']((_0x3a92a8,_0x3e74ff)=>{_0x3a92a8&&(_0x3a92a8['decRefCoun'+'t'](),_0x3a92a8['refCount']<0x29*0x24+0x2da+-0x89d&&(_0x3a92a8['destroy'](),this['_meshes'][_0x3e74ff]=null));});}['incRefMesh'+'es'](){var _0x46fe81;(_0x46fe81=this['_meshes'])==null||_0x46fe81['forEach'](_0x32b229=>{_0x32b229==null||_0x32b229['incRefCoun'+'t']();});}}c(Wp,'EVENT_SETM'+'ESHES','set:meshes');function xh(_0x464d91){const _0x1cd567=this;if(!_0x1cd567['resource'])return;const _0x27c576=_0x464d91['resource'],_0x4f2bb9=_0x27c576['renders']&&_0x27c576['renders'][_0x1cd567['data']['renderInde'+'x']];_0x4f2bb9&&(_0x1cd567['resource']['meshes']=_0x4f2bb9['resource']['meshes']);}function Lg(_0x5c13e6){const _0x348bf8=this;_0x348bf8['registry']['off']('load:'+_0x5c13e6['id'],xh,_0x348bf8),_0x348bf8['registry']['on']('load:'+_0x5c13e6['id'],xh,_0x348bf8),_0x348bf8['registry']['off']('remove:'+_0x5c13e6['id'],Fg,_0x348bf8),_0x348bf8['registry']['once']('remove:'+_0x5c13e6['id'],Fg,_0x348bf8),_0x5c13e6['resource']?xh['call'](_0x348bf8,_0x5c13e6):_0x348bf8['registry']['load'](_0x5c13e6);}function Fg(_0x27e79d){const _0x1af870=this;_0x1af870['registry']['off']('load:'+_0x27e79d['id'],xh,_0x1af870),_0x1af870['resource']&&_0x1af870['resource']['destroy']();}class fD extends Be{constructor(_0x983747){super(_0x983747,'render'),this['_registry']=_0x983747['assets'];}['open'](_0x482a11,_0x4839e0){return new Wp();}['patch'](_0xf52ca,_0x42609f){if(!_0xf52ca['data']['containerA'+'sset'])return;const _0x3a354b=_0x42609f['get'](_0xf52ca['data']['containerA'+'sset']);if(!_0x3a354b){_0x42609f['once']('add:'+_0xf52ca['data']['containerA'+'sset'],Lg,_0xf52ca);return;}Lg['call'](_0xf52ca,_0x3a354b);}}class Px{constructor(_0x40980f,_0x9cadfa,_0x193ea0,_0x2e8a33){this['_paths']=_0x40980f,this['_input']=_0x9cadfa,this['_output']=_0x193ea0,this['_interpola'+'tion']=_0x2e8a33;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class ec{constructor(_0x556bec,_0x293bb3){this['_component'+'s']=_0x556bec,this['_data']=_0x293bb3;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x1d5a31,_0x2af95d){let _0x569c56;const _0x516ea7=(_0x18c877,_0x2b542f)=>{switch(_0x2b542f){case _0x569c56['DT_INT8']:return new Int8Array(_0x18c877['buffer'],_0x18c877['byteOffset'],_0x18c877['byteLength']);case _0x569c56['DT_INT16']:return new Int16Array(_0x18c877['buffer'],_0x18c877['byteOffset'],_0x18c877['byteLength']/(-0x1*-0x1c97+0xde0+-0x2a75*0x1));case _0x569c56['DT_INT32']:return new Int32Array(_0x18c877['buffer'],_0x18c877['byteOffset'],_0x18c877['byteLength']/(0x9*0x389+0x12b9*0x2+0x3*-0x1715));case _0x569c56['DT_UINT8']:return new Uint8Array(_0x18c877['buffer'],_0x18c877['byteOffset'],_0x18c877['byteLength']);case _0x569c56['DT_UINT16']:return new Uint16Array(_0x18c877['buffer'],_0x18c877['byteOffset'],_0x18c877['byteLength']/(-0xa0a+-0x573+0xf7f));case _0x569c56['DT_UINT32']:return new Uint32Array(_0x18c877['buffer'],_0x18c877['byteOffset'],_0x18c877['byteLength']/(-0x214c+-0x3d*0x4a+0x32f2));case _0x569c56['DT_FLOAT32']:return new Float32Array(_0x18c877['buffer'],_0x18c877['byteOffset'],_0x18c877['byteLength']/(-0x4*-0x305+-0x19f*-0x5+0x6b9*-0x3));}return null;},_0x12cfc0=_0x46d476=>{switch(_0x46d476){case _0x569c56['DT_INT8']:return-0x78d*0x1+0x3*0x9b7+0x1597*-0x1;case _0x569c56['DT_INT16']:return-0x2299+-0x1deb+0x1*0x4086;case _0x569c56['DT_INT32']:return 0x4*-0x551+0x3c5*0x5+0x26f*0x1;case _0x569c56['DT_UINT8']:return 0x1be5+0x9c2+-0x25a6;case _0x569c56['DT_UINT16']:return 0x26e8+-0x2191+-0x555;case _0x569c56['DT_UINT32']:return-0x24a+0x1b88+-0x2*0xc9d;case _0x569c56['DT_FLOAT32']:return-0xbbd+0x10a7+-0x4e6;}return 0x13e7*-0x1+-0x1*0xab6+0x2*0xf4f;},_0x2ea1d4=_0x3f9f19=>_0x3f9f19['num_compon'+'ents']()*_0x12cfc0(_0x3f9f19['data_type']()),_0x413da6={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x3c7871=(_0x3649cc,_0x3ee90f)=>{const _0x478671=(_0x90e809,_0xe286e9,_0x307a30)=>{_0x90e809[-0x1beb+-0x1936+-0x7*-0x797]=_0xe286e9[-0xbda+-0x56*0x49+0x246*0x10]-_0x307a30[-0x17a0+-0x1*0x2fc+0x6a7*0x4],_0x90e809[0x18d2+-0x6e8+-0x11e9]=_0xe286e9[0x25ab+-0x11ec+-0x13be]-_0x307a30[-0xa*-0x3d+-0x25c1+0x8*0x46c],_0x90e809[-0x7*-0x53a+-0x20fe+0x132*-0x3]=_0xe286e9[-0x235a+-0x14*0x5f+-0x4a*-0x94]-_0x307a30[-0x14e2+0xb*-0x17b+0x252d];},_0x56d924=(_0x1bd207,_0x3e26cd,_0x4a8e78)=>{_0x1bd207[0x11d2+0x31*-0xb+-0xfb7]=_0x3e26cd[-0x21ba+0x22ec+-0x131*0x1]*_0x4a8e78[0x1f42+0x1*0x1ed3+-0x3e13]-_0x4a8e78[0x1b*0x8d+0x539+-0x1417]*_0x3e26cd[0x1383+0x1d6f+-0x30f0],_0x1bd207[-0x754*0x2+0x25bf+0xf*-0x18a]=_0x3e26cd[0x293*-0xa+-0x104+-0x1ac4*-0x1]*_0x4a8e78[0x2608+-0xea0+-0x1ac*0xe]-_0x4a8e78[0x1*-0x112d+0x296+0xe99]*_0x3e26cd[-0x7*0x545+0x4de*-0x7+0x46f5],_0x1bd207[-0x3a*-0x6+-0x4c3*-0x6+-0x1dec*0x1]=_0x3e26cd[-0x1d*0x115+0x1ad5+0x6*0xc2]*_0x4a8e78[-0x2703+-0x89d+-0x1*-0x2fa1]-_0x4a8e78[-0xe1*-0xf+0x2061+-0x2d90]*_0x3e26cd[-0x11d+-0x96d+0xa8b];},_0x58801c=(_0x3bf151,_0x57e8e1)=>{const _0x47fe2f=_0x3bf151[_0x57e8e1+(0x1*-0x71e+0xdf+0x63f)],_0x47fc58=_0x3bf151[_0x57e8e1+(-0x8*-0x108+-0x518+-0x327)],_0x86c1d3=_0x3bf151[_0x57e8e1+(-0x244f+0x10f1+0x1360)],_0x4708cb=(0xc6a+-0x91f*0x1+-0x34a)/Math['sqrt'](_0x47fe2f*_0x47fe2f+_0x47fc58*_0x47fc58+_0x86c1d3*_0x86c1d3);_0x3bf151[_0x57e8e1+(-0x1695+0x1071+-0x312*-0x2)]*=_0x4708cb,_0x3bf151[_0x57e8e1+(0x1273*0x2+-0x269*0x2+-0x2013)]*=_0x4708cb,_0x3bf151[_0x57e8e1+(-0xc7*-0x2f+-0x3*-0x2c+-0x147*0x1d)]*=_0x4708cb;},_0x3b2a30=(_0x2775c3,_0x79895e,_0x4de846)=>{for(let _0x1f3f70=-0x2e+-0x861+0x7*0x139;_0x1f3f70<0x25b5+-0xb*0xdb+-0x1c49*0x1;++_0x1f3f70)_0x2775c3[_0x1f3f70]=_0x79895e[_0x4de846+_0x1f3f70];},_0x6aa820=_0x3ee90f['length']/(-0x905*-0x1+-0xa*0x1bd+0x10*0x86),_0x5f408d=_0x3649cc['length']/(-0x3fc+-0x13ed*0x1+0x17ec),_0x490c32=new Float32Array(_0x3649cc['length']),_0x1c603f=[-0x1*-0x2029+0x70*-0x30+-0xb29*0x1,0x4*0x46a+0x41*-0x95+0x142d,0x909+-0x203a+0x1731],_0x29fdf8=[-0x1*0x3a9+-0x107f+-0x1e*-0xac,-0xead*0x2+-0xb*0x1c+0x1e8e,-0x93f+-0x1*0x1e73+-0x1*-0x27b2],_0x1a8d63=[0x19dc+0x14c*0xe+-0x6*0x756,-0xb45+0x2060+-0x3*0x709,0x258a+0x253b+-0x1*0x4ac5],_0xdbba03=[-0x7b4+-0x2d7+0xa8b,0x65*-0x40+-0x22a6+0x3be6,0x1a08+0x25d1+-0x7*0x91f],_0x1ae11c=[0x10bc+0x461+-0x151d,0xc59*0x2+0x4*-0x6dc+-0x4e*-0x9,0x98e*0x1+-0x713*0x2+0xc*0x62],_0x314c5f=[-0x221*0xf+-0x1ab+0x219a,-0x22cc+-0x225b*0x1+0x4527,0x15ee+-0x63a+0x29e*-0x6];for(let _0x262ed1=-0x2*-0x1d7+0x2*0x1082+-0x24b2;_0x262ed1<_0x6aa820;++_0x262ed1){const _0x46a09b=_0x3ee90f[_0x262ed1*(-0x1a91+-0x13*0x2f+0x1e11)+(-0x156+-0xa*-0x295+0x2*-0xc3e)]*(0x2a5+0x194b+-0x1bed),_0x378439=_0x3ee90f[_0x262ed1*(0x8*0x2a1+0x1d87+-0x328c)+(-0x41*-0x13+0x1*0x911+-0xde3)]*(-0x2*-0x79+-0x4e9*0x1+-0x1fd*-0x2),_0x24cd65=_0x3ee90f[_0x262ed1*(-0x53*0x18+0x20b9+-0x18ee)+(0x9*0x26b+0x1e97+-0x3458)]*(0x7*0x8+-0x4*-0x7d+-0x229);_0x3b2a30(_0x1c603f,_0x3649cc,_0x46a09b),_0x3b2a30(_0x29fdf8,_0x3649cc,_0x378439),_0x3b2a30(_0x1a8d63,_0x3649cc,_0x24cd65),_0x478671(_0xdbba03,_0x29fdf8,_0x1c603f),_0x478671(_0x1ae11c,_0x1a8d63,_0x1c603f),_0x56d924(_0x314c5f,_0xdbba03,_0x1ae11c),_0x58801c(_0x314c5f,-0x5*0x666+-0x236a+0x4368);for(let _0x1611a6=-0x1*0xe0+-0x119a*-0x1+0x85d*-0x2;_0x1611a6<-0xba3+-0x328*-0x7+-0x17e*0x7;++_0x1611a6)_0x490c32[_0x46a09b+_0x1611a6]+=_0x314c5f[_0x1611a6],_0x490c32[_0x378439+_0x1611a6]+=_0x314c5f[_0x1611a6],_0x490c32[_0x24cd65+_0x1611a6]+=_0x314c5f[_0x1611a6];}for(let _0x2ec1bb=0x474+-0x1*-0x11fb+-0x1*0x166f;_0x2ec1bb<_0x5f408d;++_0x2ec1bb)_0x58801c(_0x490c32,_0x2ec1bb*(-0x9c6*0x2+0x37*-0x7d+0x2e6a));return new Uint8Array(_0x490c32['buffer']);},_0x4dd461=_0x955867=>{const _0x51244c={},_0x2790d6=new _0x569c56['DecoderBuf'+'fer']();_0x2790d6['Init'](_0x955867,_0x955867['length']);const _0x2dd0e1=new _0x569c56['Decoder']();if(_0x2dd0e1['GetEncoded'+'GeometryTy'+'pe'](_0x2790d6)!==_0x569c56['TRIANGULAR'+'_MESH'])return _0x51244c['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x51244c;const _0x2bd99f=new _0x569c56['Mesh'](),_0x39fabb=_0x2dd0e1['DecodeBuff'+'erToMesh'](_0x2790d6,_0x2bd99f);if(!_0x39fabb||!_0x39fabb['ok']()||_0x569c56['getPointer'](_0x2bd99f)===0x11*0x3b+0xacf+-0xeba)return _0x51244c['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x51244c;const _0x803396=_0x2bd99f['num_faces']()*(-0x416*0x2+0x413*0x3+-0x40a),_0x12a599=_0x2bd99f['num_points']()<=-0x546+-0xa528+-0x7*-0x3ceb,_0x3f0ef2=_0x803396*(_0x12a599?0x1*-0xb36+-0x7a*0x28+-0x792*-0x4:-0x8f5+-0x71f+0x28*0x67),_0x1149c0=_0x569c56['_malloc'](_0x3f0ef2);_0x12a599?(_0x2dd0e1['GetTriangl'+'esUInt16Ar'+'ray'](_0x2bd99f,_0x3f0ef2,_0x1149c0),_0x51244c['indices']=new Uint16Array(_0x569c56['HEAPU16']['buffer'],_0x1149c0,_0x803396)['slice']()['buffer']):(_0x2dd0e1['GetTriangl'+'esUInt32Ar'+'ray'](_0x2bd99f,_0x3f0ef2,_0x1149c0),_0x51244c['indices']=new Uint32Array(_0x569c56['HEAPU32']['buffer'],_0x1149c0,_0x803396)['slice']()['buffer']),_0x569c56['_free'](_0x1149c0);const _0x408f98=[];for(let _0x589c8e=0x1dd1+0x198c+-0x375d;_0x589c8e<_0x2bd99f['num_attrib'+'utes']();++_0x589c8e)_0x408f98['push'](_0x2dd0e1['GetAttribu'+'te'](_0x2bd99f,_0x589c8e));_0x408f98['sort']((_0x38c0d3,_0x1abab5)=>(_0x413da6[_0x38c0d3['attribute_'+'type']()]??_0x413da6['length'])-(_0x413da6[_0x1abab5['attribute_'+'type']()]??_0x413da6['length'])),_0x51244c['attributes']=_0x408f98['map'](_0x113330=>_0x113330['unique_id']());let _0x5bc008=0x4e5+-0x916+0x431;const _0x1680f2=_0x408f98['map'](_0x46eafc=>{const _0xf101b1=_0x5bc008;return _0x5bc008+=Math['ceil'](_0x2ea1d4(_0x46eafc)/(-0x1e86*-0x1+0x2*0xd23+-0x38c8))*(-0x8f0+-0x1bfa+0x24ee),_0xf101b1;}),_0x5a98f5=_0x408f98['some'](_0x1a67f4=>_0x1a67f4['attribute_'+'type']()===-0xf3d*-0x2+-0x65*-0x60+-0x4459),_0x1bfda5=_0x1680f2[0x1d*0x2+-0xb47+-0x1*-0xb0e];if(!_0x5a98f5){for(let _0x3075f9=-0x26e*-0x6+-0x24fa*0x1+0x5*0x47b;_0x3075f9<_0x1680f2['length'];++_0x3075f9)_0x1680f2[_0x3075f9]+=-0x2415+0x1e9c+0x585;_0x5bc008+=0xc87+-0x161*0x5+0x2cb*-0x2;}_0x51244c['vertices']=new ArrayBuffer(_0x2bd99f['num_points']()*_0x5bc008);const _0x34035b=new Uint8Array(_0x51244c['vertices']);for(let _0x1cb55e=0x53*0x25+0x23c5+0x7f6*-0x6;_0x1cb55e<_0x2bd99f['num_attrib'+'utes']();++_0x1cb55e){const _0x52aadb=_0x408f98[_0x1cb55e],_0x572342=_0x2ea1d4(_0x52aadb),_0x39e015=_0x2bd99f['num_points']()*_0x572342,_0x209d99=_0x569c56['_malloc'](_0x39e015);_0x2dd0e1['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2bd99f,_0x52aadb,_0x52aadb['data_type'](),_0x39e015,_0x209d99);const _0x4746e0=new Uint8Array(_0x569c56['HEAPU8']['buffer'],_0x209d99,_0x39e015);for(let _0x2f2452=-0x11a*0xf+0x3*0x945+-0xb49*0x1;_0x2f2452<_0x2bd99f['num_points']();++_0x2f2452)for(let _0x12bc73=0xef*0xc+-0x2*-0x105a+-0x232*0x14;_0x12bc73<_0x572342;++_0x12bc73)_0x34035b[_0x2f2452*_0x5bc008+_0x1680f2[_0x1cb55e]+_0x12bc73]=_0x4746e0[_0x2f2452*_0x572342+_0x12bc73];if(!_0x5a98f5&&_0x52aadb['attribute_'+'type']()===-0x16f5+-0x1632+-0xf0d*-0x3){const _0x1af0cf=_0x3c7871(_0x516ea7(_0x4746e0,_0x52aadb['data_type']()),_0x12a599?new Uint16Array(_0x51244c['indices']):new Uint32Array(_0x51244c['indices']));for(let _0x438637=0x754+-0x85c*0x3+-0x8e0*-0x2;_0x438637<_0x2bd99f['num_points']();++_0x438637)for(let _0x1258b2=0x18ec+-0xc41+-0xcab;_0x1258b2<-0x18*0xb5+0x7f9+0x90b;++_0x1258b2)_0x34035b[_0x438637*_0x5bc008+_0x1bfda5+_0x1258b2]=_0x1af0cf[_0x438637*(-0x15*-0xed+0x870+-0x1bd5)+_0x1258b2];}_0x569c56['_free'](_0x209d99);}return _0x569c56['destroy'](_0x2bd99f),_0x569c56['destroy'](_0x2dd0e1),_0x569c56['destroy'](_0x2790d6),_0x51244c;},_0x298396=_0x158c2a=>{const _0x472c04=_0x4dd461(new Uint8Array(_0x158c2a['buffer']));self['postMessag'+'e']({'jobId':_0x158c2a['jobId'],'error':_0x472c04['error'],'indices':_0x472c04['indices'],'vertices':_0x472c04['vertices'],'attributes':_0x472c04['attributes']},[_0x472c04['indices'],_0x472c04['vertices']]['filter'](_0x45cd65=>_0x45cd65!=null));},_0x2fcf99=[];self['onmessage']=_0x4f59ae=>{const _0x3fdacf=_0x4f59ae['data'];switch(_0x3fdacf['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x1e2e46,_0x525bff)=>(WebAssembly['instantiat'+'e'](_0x3fdacf['module'],_0x1e2e46)['then'](_0x48d3aa=>_0x525bff(_0x48d3aa))['catch'](_0x5beb4e=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x5beb4e)),{})})['then'](_0x12c0a0=>{_0x569c56=_0x12c0a0,_0x2fcf99['forEach'](_0x237855=>_0x298396(_0x237855));});break;case'decodeMesh':_0x569c56?_0x298396(_0x3fdacf):_0x2fcf99['push'](_0x3fdacf);break;}};}const kg=0x12e0*-0x1+-0x8d8+0x1f*0xe5;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x1540+0x625+-0x3*-0x509,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x43169c,_0x42bd8a)=>{_0x43169c['postMessag'+'e']({'type':'decodeMesh','jobId':_0x42bd8a['jobId'],'buffer':_0x42bd8a['buffer']},[_0x42bd8a['buffer']]);};}['init'](_0x36e045){for(_0x36e045['forEach'](_0x12df4e=>{_0x12df4e['addEventLi'+'stener']('message',_0x4a3a42=>{const _0x54a9be=_0x4a3a42['data'],_0x564699=this['jobCallbac'+'ks']['get'](_0x54a9be['jobId']);if(_0x564699&&_0x564699(_0x54a9be['error'],{'indices':_0x54a9be['indices'],'vertices':_0x54a9be['vertices'],'attributes':_0x54a9be['attributes']}),this['jobCallbac'+'ks']['delete'](_0x54a9be['jobId']),this['jobQueue']['length']>-0x2ae*-0x8+-0x1*-0x132f+-0x289f*0x1){const _0x57c04b=this['jobQueue']['shift']();this['run'](_0x12df4e,_0x57c04b);}else{const _0x126f52=this['workers'][0x8e7+-0x98a*0x4+0x1d43]['indexOf'](_0x12df4e);if(_0x126f52!==-(-0x21f7+-0xa3c+0x2c34))this['workers'][-0x10b*0x11+-0x1*0xa98+-0x1*-0x1c55]['splice'](_0x126f52,0x1914+-0x4f7+-0x1ad*0xc),this['workers'][-0x298*-0xc+0x1*-0x13b6+-0x7f*0x17]['push'](_0x12df4e);else{const _0x477006=this['workers'][0x14b+-0x1e7b+0x1d31]['indexOf'](_0x12df4e);_0x477006!==-(0x229*-0x4+-0x3*0x5e5+0x1a54*0x1)?(this['workers'][-0x3df+-0x50b*0x7+0x3*0xd0f]['splice'](_0x477006,0x2*0x81a+-0x1cf2+0xfb*0xd),this['workers'][0x7*-0x36f+-0xa8e+0x2297]['push'](_0x12df4e)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1f1*0x4+-0xed*-0xb+-0x1*0x11f3]=_0x36e045;this['jobQueue']['length']&&(this['workers'][-0xbd5+-0x245*0x8+-0x3*-0x9ff]['length']||this['workers'][0x840*-0x3+0x1*0x62b+-0xd*-0x16e]['length']);){const _0x4ce862=this['jobQueue']['shift']();if(this['workers'][0x24a4+0x5*-0x4f4+-0x17c*0x8]['length']>-0x114b+0xd*0xd9+-0x323*-0x2){const _0x245624=this['workers'][0x42d*0x7+-0x32f*-0x6+0x3055*-0x1]['shift']();this['workers'][0x17bf+-0x1012+-0x1eb*0x4]['push'](_0x245624),this['run'](_0x245624,_0x4ce862);}else{const _0x2916ef=this['workers'][0x817*-0x1+-0x26b1+0x2ec9]['shift']();this['workers'][0x1215+0x98f*0x3+-0x2ec0*0x1]['push'](_0x2916ef),this['run'](_0x2916ef,_0x4ce862);}}}['enqueueJob'](_0x2ebc99,_0x5df020){const _0x6e64b={'jobId':this['jobId']++,'buffer':_0x2ebc99};if(this['jobCallbac'+'ks']['set'](_0x6e64b['jobId'],_0x5df020),this['workers'][0x4*-0xd0+-0xb6d+0xead]['length']>-0xa5a*0x2+-0xb6b+-0x201f*-0x1){const _0x254585=this['workers'][-0x45a*0x5+-0x65*0x29+-0x75*-0x53]['shift']();this['workers'][-0x76*0x43+-0x1*-0x205a+-0x177]['push'](_0x254585),this['run'](_0x254585,_0x6e64b);}else{if(this['workers'][-0x237f+0x99b*0x1+0x19e5]['length']>0x236b*0x1+0x2*0x3d8+-0x2b1b){const _0x29b890=this['workers'][-0x1c2c*-0x1+0x5de+0x2209*-0x1]['shift']();this['workers'][0x1b9b+0x4e2*-0x2+-0x11d5]['push'](_0x29b890),this['run'](_0x29b890,_0x6e64b);}else this['jobQueue']['push'](_0x6e64b);}}}const _D=_0x4d4ea9=>new Promise((_0x21db8c,_0xffaf87)=>{const _0xd6d02f={'cache':!(0x1d0*0x11+0xd78+-0x4*0xb12),'responseType':'text','retry':kg>0xa0*0x3b+0x2418+-0x48f8,'maxRetries':kg};$e['get'](_0x4d4ea9,_0xd6d02f,(_0x50f093,_0x1f89fc)=>{_0x50f093?_0xffaf87(_0x50f093):_0x21db8c(_0x1f89fc);});}),gD=_0x544385=>{const _0x663d5f=()=>fetch(_0x544385)['then'](_0x4205e9=>_0x4205e9['arrayBuffe'+'r']())['then'](_0x18c111=>WebAssembly['compile'](_0x18c111)),_0x39d9aa=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x544385))['catch'](_0x20a29d=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x544385+'\x20('+_0x20a29d+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x663d5f()));return WebAssembly['compileStr'+'eaming']?_0x39d9aa():_0x663d5f();},Og=-0xd33+0xc6+0xc6e;let Sh;const yD=_0x50274b=>{if(Sh)return!(0x94*-0xc+0x1390+-0xca0);if(!_0x50274b){const _0x302db8=ay['getConfig']('DracoDecod'+'erModule');_0x302db8?_0x50274b={'jsUrl':_0x302db8['glueUrl'],'wasmUrl':_0x302db8['wasmUrl'],'numWorkers':_0x302db8['numWorkers']}:_0x50274b={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':Og};}return!_0x50274b['jsUrl']||!_0x50274b['wasmUrl']?!(-0x24c9+0x7f*0xd+-0x9*-0x35f):(Sh=new mD(),Promise['all']([_D(_0x50274b['jsUrl']),gD(_0x50274b['wasmUrl'])])['then'](([_0xe5a66,_0x1701bf])=>{const _0x166c68=['/*\x20draco\x20*'+'/',_0xe5a66,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x437ed8=new Blob([_0x166c68],{'type':'applicatio'+'n/javascri'+'pt'}),_0xdea4fa=URL['createObje'+'ctURL'](_0x437ed8),_0x28527e=Math['max'](0xd*0x164+-0x12b2*0x2+0x2b*0x73,Math['min'](0xb*0x163+0x2668+-0x3599*0x1,_0x50274b['numWorkers']||Og)),_0x34815a=[];for(let _0x59fd81=-0xab4+-0x3d6*-0x7+0x2*-0x813;_0x59fd81<_0x28527e;++_0x59fd81){const _0x565122=new Worker(_0xdea4fa);_0x565122['postMessag'+'e']({'type':'init','module':_0x1701bf}),_0x34815a['push'](_0x565122);}Sh['init'](_0x34815a);}),!(0x52b*0x4+0x4*-0x72e+0x80c));},xD=(_0x4cba3c,_0x4db038)=>yD()?(Sh['enqueueJob'](_0x4cba3c,_0x4db038),!(-0x25e2+-0x7c4+0x16d3*0x2)):!(0x1188+-0x19de+0x857);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x5ab05f=>{_0x5ab05f['meshes']=null;});}}const Rx=_0x1157ed=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x1157ed),vD=_0x48f807=>_0x48f807['substring'](_0x48f807['indexOf'](':')+(-0xc04+0x130+0xad5),_0x48f807['indexOf'](';')),Wo=_0x4a0fa7=>{switch(_0x4a0fa7){case'SCALAR':return-0xc0c+0x69+-0x2*-0x5d2;case'VEC2':return-0x1e16*-0x1+-0x1414+0x8*-0x140;case'VEC3':return-0xc20*-0x1+-0xb08+-0x115;case'VEC4':return-0x239*-0xd+-0x1ede+0x1fd;case'MAT2':return-0x200b+0x255+0x1dba;case'MAT3':return-0x79*-0x47+-0x553+0x1*-0x1c33;case'MAT4':return-0x10b5+-0x1434+-0x5*-0x765;default:return-0x1ff8+-0xa9*-0x23+-0x8e*-0x10;}},ed=_0x38dc7c=>{switch(_0x38dc7c){case-0x18dd+-0x1a1b+0x5ea*0xc:return Ic;case 0x834+0x2c0+0x90d:return Kr;case-0x22e7+0x32*-0xc1+0x5c9b:return Dc;case 0x4*0x2c4+-0x728+-0x1f*-0x85:return el;case-0x47f*0x8+-0xfa8+0x47a4:return By;case-0x2369+-0x1b1b+0x5289:return Do;case 0xd39*0x1+-0x5*0xd+0x70e:return Ce;default:return-0xce7+0x1d5d+0x31*-0x56;}},bD=_0x4b35cf=>{switch(_0x4b35cf){case 0x16e2+0x3c9*0x2+-0xa74*0x1:return 0x2*0xe6e+0x1ed6*-0x1+0x1fb;case 0xac7+0x7c6+0x174:return 0x12f6+-0x3*0x4c9+-0x49a;case-0x18ee+-0x21ab+-0x1*-0x4e9b:return 0xf5f*-0x1+-0x7dc+0x173d;case-0x2473+-0x2665*-0x1+0xb9*0x19:return-0x4*0x2e0+0x53f*-0x5+0x25bd*0x1;case-0x499+0xb5a+-0x1e5*-0x7:return-0x6cf+0x65*0x11+0xf*0x2;case 0x1465+-0x1*-0x122b+-0x65*0x2f:return-0xf1*-0x27+-0x96e+-0x1b45;case-0x1baa*0x1+-0x123*-0x4+0x2b24:return-0x9e4+0x3b1*0x9+-0x1751;default:return 0x67c+0x1577+-0x2d*0x9f;}},wD=_0x7e1e02=>{switch(_0x7e1e02){case-0x3*-0xb0+-0x1938+-0x1594*-0x2:return Int8Array;case-0x2*-0x21f+0x634*0x4+0x7*-0x14b:return Uint8Array;case-0x277*0x5+-0xdd3*0x2+0x3bfb:return Int16Array;case-0x1051*-0x2+0xcb3+-0x1952:return Uint16Array;case-0x11fd+-0x3aa+0x29ab:return Int32Array;case 0x17c9*-0x1+0xf66+0x1c68:return Uint32Array;case-0x151f+-0x2ac*-0x1+0x2679:return Float32Array;default:return null;}},tc={'POSITION':He,'NORMAL':Zt,'TANGENT':Zs,'COLOR_0':Et,'JOINTS_0':jt,'WEIGHTS_0':Ys,'TEXCOORD_0':os,'TEXCOORD_1':gn,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:0xb13*0x3+-0x16a3*-0x1+0x82*-0x6e,[Zt]:-0x255+-0x1*0x289+0x4df,[Zs]:-0x3e3+0x7d3+-0x1f7*0x2,[Et]:-0x2de+-0x1*0xa17+0x19f*0x8,[jt]:0x158b*0x1+-0x16b*0xf+0x3*-0x16,[Ys]:-0x6ba+-0x1b2e+0x1*0x21ed,[os]:-0x58d+0xe05+-0x872,[gn]:0x1*0xa3+0x3a*-0x44+0x2*0x766,[jo]:0x24d8+0x203+-0x26d3,[Yo]:-0x1*0x1cb8+-0xcc2*-0x2+0x33d,[Ko]:0x1674+-0x1f98+0x92e,[Zo]:0x10*0x246+0x1fd3+-0x4428,[Qo]:-0x5*0x1cc+-0x9b*0x1f+-0xb*-0x287,[Jo]:-0xf07+-0xd0*0xd+0x19a4},TD=_0x49f3d6=>{switch(_0x49f3d6){case Ic:return _0x18ee1b=>Math['max'](_0x18ee1b/(-0x4*-0x176+-0x1*0x11+-0x548),-(0x1*-0x181d+0xaeb+0xd33));case Kr:return _0x305592=>_0x305592/(0x1df2*0x1+-0x105c+-0xc97);case Dc:return _0x5db79b=>Math['max'](_0x5db79b/(-0xe837+0x100f*-0x4+0x79*0x382),-(0x6*0x502+-0x13a8+-0xa63));case el:return _0x2e2222=>_0x2e2222/(-0x40d*-0x5e+-0x13*-0x3fe+0xc8a1*-0x1);default:return _0x9da238=>_0x9da238;}},Sf=(_0x1ccb84,_0x1fd719,_0x204eca)=>{const _0x54aee8=TD(_0x204eca),_0x43d1e5=_0x1fd719['length'];for(let _0x304ca2=-0xf8b+-0x1a*-0x57+-0x65*-0x11;_0x304ca2<_0x43d1e5;++_0x304ca2)_0x1ccb84[_0x304ca2]=_0x54aee8(_0x1fd719[_0x304ca2]);return _0x1ccb84;},sn=(_0x24f6da,_0xb055a3,_0xcc63e8=!(0x12*-0xcf+0xd2d*0x1+-0xb1*-0x2))=>{const _0xc296aa=Wo(_0x24f6da['type']),_0x14d6fa=wD(_0x24f6da['componentT'+'ype']);if(!_0x14d6fa)return null;let _0x5a9222;if(_0x24f6da['sparse']){const _0x1dc4b6=_0x24f6da['sparse'],_0x37c79a={'count':_0x1dc4b6['count'],'type':'SCALAR'},_0x90be2d=sn(Object['assign'](_0x37c79a,_0x1dc4b6['indices']),_0xb055a3,!(-0x1579+-0x1654+-0x1*-0x2bcd)),_0x4aa9a0={'count':_0x1dc4b6['count'],'type':_0x24f6da['type'],'componentType':_0x24f6da['componentT'+'ype']},_0x4b75ba=sn(Object['assign'](_0x4aa9a0,_0x1dc4b6['values']),_0xb055a3,!(0x21d7+0x5f*0x1f+-0x16ac*0x2));if(_0x24f6da['hasOwnProp'+'erty']('bufferView')){const _0x3d97a2={'bufferView':_0x24f6da['bufferView'],'byteOffset':_0x24f6da['byteOffset'],'componentType':_0x24f6da['componentT'+'ype'],'count':_0x24f6da['count'],'type':_0x24f6da['type']};_0x5a9222=sn(_0x3d97a2,_0xb055a3,!(0x7e*-0x2f+-0x10d6+0x27f8))['slice']();}else _0x5a9222=new _0x14d6fa(_0x24f6da['count']*_0xc296aa);for(let _0x18237a=0x14e*0x9+-0x1976+0xdb8;_0x18237a<_0x1dc4b6['count'];++_0x18237a){const _0x106212=_0x90be2d[_0x18237a];for(let _0x4831c0=0x4f9*-0x2+-0x20bd+0x2aaf;_0x4831c0<_0xc296aa;++_0x4831c0)_0x5a9222[_0x106212*_0xc296aa+_0x4831c0]=_0x4b75ba[_0x18237a*_0xc296aa+_0x4831c0];}}else{if(_0x24f6da['hasOwnProp'+'erty']('bufferView')){const _0x186478=_0xb055a3[_0x24f6da['bufferView']];if(_0xcc63e8&&_0x186478['hasOwnProp'+'erty']('byteStride')){const _0x174d02=_0xc296aa*_0x14d6fa['BYTES_PER_'+'ELEMENT'],_0x464d4f=new ArrayBuffer(_0x24f6da['count']*_0x174d02),_0x37986b=new Uint8Array(_0x464d4f);let _0x1abab4=0x1149+-0x1787+0x11*0x5e;for(let _0x597d83=0x869+0x14b1*0x1+-0xe8d*0x2;_0x597d83<_0x24f6da['count'];++_0x597d83){let _0x47b08a=(_0x24f6da['byteOffset']||0x47b+0xe35+0xb8*-0x1a)+_0x597d83*_0x186478['byteStride'];for(let _0x9cf276=-0x579*0x5+0x1*0x565+0x4c*0x4a;_0x9cf276<_0x174d02;++_0x9cf276)_0x37986b[_0x1abab4++]=_0x186478[_0x47b08a++];}_0x5a9222=new _0x14d6fa(_0x464d4f);}else _0x5a9222=new _0x14d6fa(_0x186478['buffer'],_0x186478['byteOffset']+(_0x24f6da['byteOffset']||0x258d*0x1+-0x17fb+0x6c9*-0x2),_0x24f6da['count']*_0xc296aa);}else _0x5a9222=new _0x14d6fa(_0x24f6da['count']*_0xc296aa);}return _0x5a9222;},_a=(_0x56833d,_0x3bd502)=>{const _0x5b1138=sn(_0x56833d,_0x3bd502,!(0x11f3*-0x1+-0x1d3e*-0x1+-0x31*0x3b));if(_0x5b1138 instanceof Float32Array||!_0x56833d['normalized'])return _0x5b1138;const _0x3b38bc=new Float32Array(_0x5b1138['length']);return Sf(_0x3b38bc,_0x5b1138,ed(_0x56833d['componentT'+'ype'])),_0x3b38bc;},vf=_0x1ea020=>{let _0x4f61e1=_0x1ea020['min'],_0x525fdd=_0x1ea020['max'];if(!_0x4f61e1||!_0x525fdd)return null;if(_0x1ea020['normalized']){const _0x835fdb=ed(_0x1ea020['componentT'+'ype']);_0x4f61e1=Sf([],_0x4f61e1,_0x835fdb),_0x525fdd=Sf([],_0x525fdd,_0x835fdb);}return new _e(new T((_0x525fdd[0x4*0x104+-0x22a7+0xbf*0x29]+_0x4f61e1[0x1b59+0x8b9+-0x6*0x603])*(-0x5c3+0x1*-0x1549+0x4*0x6c3+0.5),(_0x525fdd[-0x15b4+0x1a8a+-0x4d5]+_0x4f61e1[-0x21c1*-0x1+-0xea5+0x49*-0x43])*(-0x240d+0x1*-0x1721+-0x6*-0x9dd+0.5),(_0x525fdd[0x17f*-0x1+0x9ed+0x62*-0x16]+_0x4f61e1[0x1ba4+-0x23a5+0x125*0x7])*(0x109*-0x3+-0x270d*-0x1+-0x6b*0x56+0.5)),new T((_0x525fdd[0x1568+0x6+-0x156e]-_0x4f61e1[-0x15f0+0x96c+0xc84])*(0x8be+0xc78+-0x1536+0.5),(_0x525fdd[-0x4*0x4c+0x1825+-0x16f4]-_0x4f61e1[-0x71*-0x2+0x2ee*0xa+-0x1e2d])*(0x856+0x1a2+-0x9f8+0.5),(_0x525fdd[0x2*-0x10e2+-0x1f65+0x412b]-_0x4f61e1[0x5*0x7b9+0x2221+-0x48bc])*(0xad*0x27+-0x14f9+-0x6a*0xd+0.5)));},Ix=_0xf6c6c2=>{if(!_0xf6c6c2['hasOwnProp'+'erty']('mode'))return Rs;switch(_0xf6c6c2['mode']){case 0x248b+-0xa20+-0x1a6b:return Pc;case 0x1*0x269+0x2*-0x48b+0x6ae:return Rc;case 0x11c*0x1a+0x1268+-0x2f3e:return My;case-0x2056*0x1+0xaa1+0x15b8:return Py;case 0xabc+0x3*0x485+0x71*-0x37:return Rs;case-0x1d06+0x1ad3+0x1*0x238:return or;case 0xfaf+-0x15a6+0x5fd:return Yr;default:return Rs;}},AD=_0x206f06=>{const _0x27e194=new Uint16Array(_0x206f06);for(let _0x452239=-0x1bb*0x10+0x9db+0x53*0x37;_0x452239<_0x206f06;_0x452239++)_0x27e194[_0x452239]=_0x452239;return _0x27e194;},CD=(_0x2d4bd6,_0xdcdbc3)=>{const _0x57ddc0=_0x2d4bd6[He];if(!_0x57ddc0||_0x57ddc0['components']!==0x2262+0x8*0x2af+-0x37d7)return;let _0x568875;if(_0x57ddc0['size']!==_0x57ddc0['stride']){const _0x3e7ec1=_0x57ddc0['stride']/_o[_0x57ddc0['type']],_0x3badc4=new ua[_0x57ddc0['type']](_0x57ddc0['buffer'],_0x57ddc0['offset'],_0x57ddc0['count']*_0x3e7ec1);_0x568875=new ua[_0x57ddc0['type']](_0x57ddc0['count']*(0x1e*0x1+0x5*0x46b+-0x766*0x3));for(let _0x3c2492=-0x33f+0x1486+-0x1147;_0x3c2492<_0x57ddc0['count'];++_0x3c2492)_0x568875[_0x3c2492*(-0x2196+-0x1*-0x1ef7+-0x151*-0x2)+(0x5*-0x8b+-0x77*0x43+0x21dc)]=_0x3badc4[_0x3c2492*_0x3e7ec1+(-0x47*0x10+-0x1*-0x17b9+-0x1*0x1349)],_0x568875[_0x3c2492*(0x1bed+0x2*-0x812+0x1*-0xbc6)+(-0x4*0x28d+0x1a68+-0x1033)]=_0x3badc4[_0x3c2492*_0x3e7ec1+(0x2653*0x1+0x56*-0x11+-0x104e*0x2)],_0x568875[_0x3c2492*(-0x2*0x72e+-0x23d1+0x3230)+(0x3ff+0x9d4+-0x49b*0x3)]=_0x3badc4[_0x3c2492*_0x3e7ec1+(-0x1df*-0x1+0x120c+-0x13e9)];}else _0x568875=new ua[_0x57ddc0['type']](_0x57ddc0['buffer'],_0x57ddc0['offset'],_0x57ddc0['count']*(0xf48+0x1378+0x1*-0x22bd));const _0x1b92a7=_0x57ddc0['count'];_0xdcdbc3||(_0xdcdbc3=AD(_0x1b92a7));const _0x2d8cbb=O0(_0x568875,_0xdcdbc3),_0xea7e82=new Float32Array(_0x2d8cbb['length']);_0xea7e82['set'](_0x2d8cbb),_0x2d4bd6[Zt]={'buffer':_0xea7e82['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x1b92a7,'components':0x3,'type':Ce};},ED=_0x13c322=>{const _0x48313f=_0x3f78b3=>{const _0x580a61=[];for(let _0x955079=-0x2*0x1048+-0x97*0x28+0x95c*0x6;_0x955079<_0x3f78b3['_levels']['length'];++_0x955079){let _0x4e419b=[];if(_0x3f78b3['cubemap']){for(let _0x5c265c=-0x260f+0x7*0x1f7+0x184e;_0x5c265c<-0x50e*-0x7+-0x1584+-0x6ec*0x2;++_0x5c265c)_0x4e419b['push'](_0x3f78b3['_levels'][_0x955079][_0x5c265c]);}else _0x4e419b=_0x3f78b3['_levels'][_0x955079];_0x580a61['push'](_0x4e419b);}return _0x580a61;},_0x3264c9=new he(_0x13c322['device'],_0x13c322);return _0x3264c9['_levels']=_0x48313f(_0x13c322),_0x3264c9;},MD=_0x18cbd6=>{const _0x2908a1=new le(_0x18cbd6['name']+'_clone',_0x18cbd6['type'],_0x18cbd6['file'],_0x18cbd6['data'],_0x18cbd6['options']);return _0x2908a1['loaded']=!(0x9c7*0x3+-0x6f4+-0x1661),_0x2908a1['resource']=ED(_0x18cbd6['resource']),_0x18cbd6['registry']['add'](_0x2908a1),_0x2908a1;},PD=(_0x1f1542,_0xcd9959)=>{const _0x1402f5=_0xcd9959[He];if(!_0x1402f5)return null;const _0x4dc275=_0x1402f5['count'],_0x4b9706=[];for(const _0x32f43f in _0xcd9959)if(_0xcd9959['hasOwnProp'+'erty'](_0x32f43f)){const _0x12fba2={'semantic':_0x32f43f,'components':_0xcd9959[_0x32f43f]['components'],'type':_0xcd9959[_0x32f43f]['type'],'normalize':!!_0xcd9959[_0x32f43f]['normalize']};Mt['isElementV'+'alid'](_0x1f1542,_0x12fba2)||_0x12fba2['components']++,_0x4b9706['push'](_0x12fba2);}_0x4b9706['sort']((_0x42ffb4,_0x3b3a3a)=>Bg[_0x42ffb4['semantic']]-Bg[_0x3b3a3a['semantic']]);let _0x4c3b77,_0x2cd81e,_0x27125e,_0x51b243,_0x2cc0ca,_0x2bcfdd;const _0x1277d9=new Mt(_0x1f1542,_0x4b9706);let _0x525a53=!(-0xa*0x3b0+0x1e10+-0x1b4*-0x4);for(_0x4c3b77=-0x7*0x496+0x6cd*-0x1+0x26e7;_0x4c3b77<_0x1277d9['elements']['length'];++_0x4c3b77)if(_0x2cc0ca=_0x1277d9['elements'][_0x4c3b77],_0x51b243=_0xcd9959[_0x2cc0ca['name']],_0x2bcfdd=_0x51b243['offset']-_0x1402f5['offset'],_0x51b243['buffer']!==_0x1402f5['buffer']||_0x51b243['stride']!==_0x2cc0ca['stride']||_0x51b243['size']!==_0x2cc0ca['size']||_0x2bcfdd!==_0x2cc0ca['offset']){_0x525a53=!(-0x499*0x1+0x1*-0x190b+0x1da5);break;}const _0x39faf9=new hs(_0x1f1542,_0x1277d9,_0x4dc275),_0x42e120=_0x39faf9['lock'](),_0xe5ee1e=new Uint32Array(_0x42e120);let _0x39c41e;if(_0x525a53)_0x39c41e=new Uint32Array(_0x1402f5['buffer'],_0x1402f5['offset'],_0x4dc275*_0x39faf9['format']['size']/(0x7*-0xca+0x13e7+-0xe5d)),_0xe5ee1e['set'](_0x39c41e);else{let _0x4c4b8f,_0x25a062;for(_0x4c3b77=0x1fb4+-0x210+-0xe*0x21e;_0x4c3b77<_0x39faf9['format']['elements']['length'];++_0x4c3b77){_0x2cc0ca=_0x39faf9['format']['elements'][_0x4c3b77],_0x4c4b8f=_0x2cc0ca['stride']/(-0x1821+-0x2685+0x1f55*0x2),_0x51b243=_0xcd9959[_0x2cc0ca['name']],_0x25a062=_0x51b243['stride']/(-0x771+-0xee7+-0x6c*-0x35),_0x39c41e=new Uint32Array(_0x51b243['buffer'],_0x51b243['offset'],(_0x51b243['count']-(0x7b5+-0x202*-0x1+-0x9b6))*_0x25a062+(_0x51b243['size']+(0xd*-0x17b+0x259f*0x1+0x3*-0x61f))/(0x1*-0x827+-0x1e22+0x7a9*0x5));let _0x1ddfd3=-0x1*-0xbee+-0x1*-0x9d0+0xb*-0x1fa,_0x76a5b6=_0x2cc0ca['offset']/(0x1*0x1c8b+0x14d*0xb+0x2*-0x156b);const _0x449848=Math['floor']((_0x51b243['size']+(-0x15f7+-0x1871+0x2e6b))/(0x9d5*-0x1+0xb56+0x1*-0x17d));for(_0x2cd81e=-0x2511+0x10e1+-0x50c*-0x4;_0x2cd81e<_0x4dc275;++_0x2cd81e){for(_0x27125e=0x1579+0x13bc+0x5e3*-0x7;_0x27125e<_0x449848;++_0x27125e)_0xe5ee1e[_0x76a5b6+_0x27125e]=_0x39c41e[_0x1ddfd3+_0x27125e];_0x1ddfd3+=_0x25a062,_0x76a5b6+=_0x4c4b8f;}}}return _0x39faf9['unlock'](),_0x39faf9;},RD=(_0x38e576,_0x593ca1,_0x2f14b3,_0x1aab83,_0x477b2e,_0x119243)=>{const _0x350e47={},_0x521b9a=[];for(const _0x2f1ec4 in _0x593ca1)_0x593ca1['hasOwnProp'+'erty'](_0x2f1ec4)&&tc['hasOwnProp'+'erty'](_0x2f1ec4)&&(_0x350e47[_0x2f1ec4]=_0x593ca1[_0x2f1ec4],_0x521b9a['push'](_0x2f1ec4+':'+_0x593ca1[_0x2f1ec4]));_0x521b9a['sort']();const _0x14cee7=_0x521b9a['join']();let _0x5b23c7=_0x119243[_0x14cee7];if(!_0x5b23c7){const _0xe5b67f={};for(const _0x30ed86 in _0x350e47){const _0x41f6ac=_0x1aab83[_0x593ca1[_0x30ed86]],_0x5f1cfb=sn(_0x41f6ac,_0x477b2e),_0x1b4f19=_0x477b2e[_0x41f6ac['bufferView']],_0x44f435=tc[_0x30ed86],_0xdecf26=Wo(_0x41f6ac['type'])*bD(_0x41f6ac['componentT'+'ype']),_0x473dba=_0x1b4f19&&_0x1b4f19['hasOwnProp'+'erty']('byteStride')?_0x1b4f19['byteStride']:_0xdecf26;_0xe5b67f[_0x44f435]={'buffer':_0x5f1cfb['buffer'],'size':_0xdecf26,'offset':_0x5f1cfb['byteOffset'],'stride':_0x473dba,'count':_0x41f6ac['count'],'components':Wo(_0x41f6ac['type']),'type':ed(_0x41f6ac['componentT'+'ype']),'normalize':_0x41f6ac['normalized']};}_0xe5b67f['hasOwnProp'+'erty'](Zt)||CD(_0xe5b67f,_0x2f14b3),_0x5b23c7=PD(_0x38e576,_0xe5b67f),_0x119243[_0x14cee7]=_0x5b23c7;}return _0x5b23c7;},ID=(_0x50dd0e,_0x4ccb56,_0x436894,_0x1fd5d6,_0x3d8e0a,_0x49ba18)=>{let _0x3b1d39,_0x4df27b,_0x5ee63e;const _0x556c40=_0x4ccb56['joints'],_0x3c8442=_0x556c40['length'],_0x4c32cd=[];if(_0x4ccb56['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x58fcc4=_0x4ccb56['inverseBin'+'dMatrices'],_0x1a2fc7=sn(_0x436894[_0x58fcc4],_0x1fd5d6,!(-0x1311+-0x151f*0x1+0x2830)),_0x25dd4c=[];for(_0x3b1d39=0x1c5e+-0x19d5+0x289*-0x1;_0x3b1d39<_0x3c8442;_0x3b1d39++){for(_0x4df27b=0x3*0x3d1+0x72b*0x5+-0x2f4a;_0x4df27b<-0x73e+0x10c*-0x1b+0x2392;_0x4df27b++)_0x25dd4c[_0x4df27b]=_0x1a2fc7[_0x3b1d39*(0x464+0x6b*0x52+-0x134d*0x2)+_0x4df27b];_0x5ee63e=new q(),_0x5ee63e['set'](_0x25dd4c),_0x4c32cd['push'](_0x5ee63e);}}else{for(_0x3b1d39=-0x1*-0x1a6b+0x1e29*-0x1+-0x1*-0x3be;_0x3b1d39<_0x3c8442;_0x3b1d39++)_0x5ee63e=new q(),_0x4c32cd['push'](_0x5ee63e);}const _0x2162e5=[];for(_0x3b1d39=-0x1*-0x1843+0x492+0x3d*-0x79;_0x3b1d39<_0x3c8442;_0x3b1d39++)_0x2162e5[_0x3b1d39]=_0x3d8e0a[_0x556c40[_0x3b1d39]]['name'];const _0x2a87c7=_0x2162e5['join']('#');let _0x150a1c=_0x49ba18['get'](_0x2a87c7);return _0x150a1c||(_0x150a1c=new N0(_0x50dd0e,_0x4c32cd,_0x2162e5),_0x49ba18['set'](_0x2a87c7,_0x150a1c)),_0x150a1c;},DD=(_0x16383b,_0x466c71,_0x5bcf21,_0x14763c,_0x31c60e,_0x71a0de,_0x4b8f89)=>{var _0x6281ec;const _0x4403ee=new Ie(_0x16383b);_0x4403ee['aabb']=vf(_0x5bcf21[_0x466c71['attributes']['POSITION']]);const _0x29b320=[];for(const [_0xd857dd,_0x43821d]of Object['entries'](_0x466c71['attributes'])){const _0x1347aa=_0x5bcf21[_0x43821d],_0x4bedab=tc[_0xd857dd],_0x8fdfb7=ed(_0x1347aa['componentT'+'ype']);_0x29b320['push']({'semantic':_0x4bedab,'components':Wo(_0x1347aa['type']),'type':_0x8fdfb7,'normalize':_0x1347aa['normalized']??(_0x4bedab===Et&&(_0x8fdfb7===Kr||_0x8fdfb7===el))});}if(_0x4b8f89['push'](new Promise((_0xfa6d7e,_0x4a6a59)=>{const _0x3307da=_0x466c71['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x14763c[_0x3307da['bufferView']]['slice']()['buffer'],(_0x6f1c1,_0x2ebb96)=>{var _0x57dd7d;if(_0x6f1c1)console['log'](_0x6f1c1),_0x4a6a59(_0x6f1c1);else{const _0xa17e38={};for(const [_0x297adc,_0x425765]of Object['entries'](_0x3307da['attributes']))_0xa17e38[tc[_0x297adc]]=_0x2ebb96['attributes']['indexOf'](_0x425765);_0x29b320['sort']((_0x3f3b66,_0x4fe654)=>_0xa17e38[_0x3f3b66['semantic']]-_0xa17e38[_0x4fe654['semantic']]),(_0x57dd7d=_0x466c71['attributes'])!=null&&_0x57dd7d['NORMAL']||_0x29b320['splice'](0x1*-0x10f+0x149d+-0x138d,0x22e4+-0x207*-0xd+0x1*-0x3d3f,{'semantic':'NORMAL','components':0x3,'type':Ce});const _0x4811e6=new Mt(_0x16383b,_0x29b320),_0x346c35=_0x2ebb96['vertices']['byteLength']/_0x4811e6['size'],_0x400d1c=_0x346c35<=-0x61df+0x1332e+-0xf9*-0x30?Ii:ar,_0x7e63c0=_0x2ebb96['indices']['byteLength']/(_0x346c35<=0x2*0x3ebc+0x1cc56+-0x149cf?-0x3e0*0xa+-0xd21*0x1+0x33e3:-0x53f+-0x1*-0x1fca+0x1a87*-0x1);v['call'](()=>{_0x346c35!==_0x5bcf21[_0x466c71['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x7e63c0!==_0x5bcf21[_0x466c71['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x13c561=new hs(_0x16383b,_0x4811e6,_0x346c35,{'data':_0x2ebb96['vertices']}),_0x1305c6=new hr(_0x16383b,_0x400d1c,_0x7e63c0,Kt,_0x2ebb96['indices']);_0x4403ee['vertexBuff'+'er']=_0x13c561,_0x4403ee['indexBuffe'+'r'][0x4*-0x8d7+-0x3*-0x658+0x1054]=_0x1305c6,_0x4403ee['primitive'][-0x109*-0xf+-0xc7*0x19+-0x32*-0x14]['type']=Ix(_0x466c71),_0x4403ee['primitive'][-0x9f2+-0x1*-0xc1b+0x229*-0x1]['base']=-0x572*-0x7+-0x14a+-0x24d4,_0x4403ee['primitive'][-0x4a2*-0x6+-0xcf2*0x2+-0x8*0x3d]['count']=_0x1305c6?_0x7e63c0:_0x346c35,_0x4403ee['primitive'][0x2f4+-0x1887+-0x1*-0x1593]['indexed']=!!_0x1305c6,_0xfa6d7e();}});})),(_0x6281ec=_0x466c71==null?void(-0x969+-0xdf4+-0x175d*-0x1):_0x466c71['extensions'])!=null&&_0x6281ec['KHR_materi'+'als_varian'+'ts']){const _0x43adbf=_0x466c71['extensions']['KHR_materi'+'als_varian'+'ts'],_0x292db7={};_0x43adbf['mappings']['forEach'](_0x531770=>{_0x531770['variants']['forEach'](_0x2e1588=>{_0x292db7[_0x2e1588]=_0x531770['material'];});}),_0x31c60e[_0x4403ee['id']]=_0x292db7;}return _0x71a0de[_0x4403ee['id']]=_0x466c71['material'],_0x4403ee;},LD=(_0x195730,_0x57b01f,_0x20f441,_0x4c0256,_0xea6744,_0x38365f,_0xb9b08f,_0x2c1ec6,_0x1ddd84)=>{const _0x154e81=[];return _0x57b01f['primitives']['forEach'](_0x57c125=>{var _0x3e8097;if((_0x3e8097=_0x57c125['extensions'])!=null&&_0x3e8097['KHR_draco_'+'mesh_compr'+'ession'])_0x154e81['push'](DD(_0x195730,_0x57c125,_0x20f441,_0x4c0256,_0x38365f,_0xb9b08f,_0x1ddd84));else{let _0x338a30=_0x57c125['hasOwnProp'+'erty']('indices')?sn(_0x20f441[_0x57c125['indices']],_0x4c0256,!(-0x1931+0xe5*-0x18+-0x1*-0x2ea9)):null;const _0x3787e4=RD(_0x195730,_0x57c125['attributes'],_0x338a30,_0x20f441,_0x4c0256,_0xea6744),_0x221be6=Ix(_0x57c125),_0x24af02=new Ie(_0x195730);if(_0x24af02['vertexBuff'+'er']=_0x3787e4,_0x24af02['primitive'][0x22*0xe2+-0x7*0x1bf+0x38f*-0x5]['type']=_0x221be6,_0x24af02['primitive'][-0x1*-0x159d+0x13f1+-0x12*0x24f]['base']=0x2028+0x13a4+-0x33cc,_0x24af02['primitive'][-0xba3+0x19e8+-0x119*0xd]['indexed']=_0x338a30!==null,_0x338a30!==null){let _0x5d6854;_0x338a30 instanceof Uint8Array?_0x5d6854=mu:_0x338a30 instanceof Uint16Array?_0x5d6854=Ii:_0x5d6854=ar,_0x5d6854===mu&&_0x195730['isWebGPU']&&(_0x5d6854=Ii,_0x338a30=new Uint16Array(_0x338a30));const _0x776557=new hr(_0x195730,_0x5d6854,_0x338a30['length'],Kt,_0x338a30);_0x24af02['indexBuffe'+'r'][0x1cf2+0x1407+-0x571*0x9]=_0x776557,_0x24af02['primitive'][-0xfba+-0x1*0x1bb+-0x6d*-0x29]['count']=_0x338a30['length'];}else _0x24af02['primitive'][-0x178f+-0x1da5+0x8de*0x6]['count']=_0x3787e4['numVertice'+'s'];if(_0x57c125['hasOwnProp'+'erty']('extensions')&&_0x57c125['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0xa58c30=_0x57c125['extensions']['KHR_materi'+'als_varian'+'ts'],_0x30cb9d={};_0xa58c30['mappings']['forEach'](_0x75b412=>{_0x75b412['variants']['forEach'](_0x5877c4=>{_0x30cb9d[_0x5877c4]=_0x75b412['material'];});}),_0x38365f[_0x24af02['id']]=_0x30cb9d;}_0xb9b08f[_0x24af02['id']]=_0x57c125['material'];let _0x1bcabc=_0x20f441[_0x57c125['attributes']['POSITION']];if(_0x24af02['aabb']=vf(_0x1bcabc),_0x57c125['hasOwnProp'+'erty']('targets')){const _0x4ca364=[];_0x57c125['targets']['forEach']((_0x28b16c,_0x515fac)=>{const _0x41e901={};_0x28b16c['hasOwnProp'+'erty']('POSITION')&&(_0x1bcabc=_0x20f441[_0x28b16c['POSITION']],_0x41e901['deltaPosit'+'ions']=_a(_0x1bcabc,_0x4c0256),_0x41e901['aabb']=vf(_0x1bcabc)),_0x28b16c['hasOwnProp'+'erty']('NORMAL')&&(_0x1bcabc=_0x20f441[_0x28b16c['NORMAL']],_0x41e901['deltaNorma'+'ls']=_a(_0x1bcabc,_0x4c0256)),_0x57b01f['hasOwnProp'+'erty']('extras')&&_0x57b01f['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x41e901['name']=_0x57b01f['extras']['targetName'+'s'][_0x515fac]:_0x41e901['name']=_0x515fac['toString'](-0x60d*-0x1+0x2*0x15e+-0x8bf),_0x57b01f['hasOwnProp'+'erty']('weights')&&(_0x41e901['defaultWei'+'ght']=_0x57b01f['weights'][_0x515fac]),_0x41e901['preserveDa'+'ta']=_0x2c1ec6['morphPrese'+'rveData'],_0x4ca364['push'](new Jc(_0x41e901));}),_0x24af02['morph']=new F0(_0x4ca364,_0x195730,{'preferHighPrecision':_0x2c1ec6['morphPrefe'+'rHighPreci'+'sion']});}_0x154e81['push'](_0x24af02);}}),_0x154e81;},ft=(_0x46cfcb,_0x47a8bf,_0xccae1c)=>{var _0x135967;let _0x2124c5;const _0x2c7146=_0x46cfcb['texCoord'];if(_0x2c7146){for(_0x2124c5=-0x3be+-0xb82+0xf40;_0x2124c5<_0xccae1c['length'];++_0x2124c5)_0x47a8bf[_0xccae1c[_0x2124c5]+'MapUv']=_0x2c7146;}const _0xdd0c07=[-0x1*-0x19ab+-0x58*0x64+-0x2e7*-0x3,-0x1b88+0x1d8e*-0x1+0x3916],_0xee1f00=[-0x230d+-0x23d6+0x34*0x15d,-0x2*-0xbcc+0x3b4+-0x1b4b],_0x113823=(_0x135967=_0x46cfcb['extensions'])==null?void(-0xef9+0x1051+-0x1*0x158):_0x135967['KHR_textur'+'e_transfor'+'m'];if(_0x113823){const _0x4d3e43=_0x113823['offset']||_0xdd0c07,_0x1fc073=_0x113823['scale']||_0xee1f00,_0xa640ef=_0x113823['rotation']?-_0x113823['rotation']*N['RAD_TO_DEG']:0x1*0x6f7+0x216d*-0x1+0x1a76,_0xb93dc1=new W(_0x1fc073[0x17b*-0x3+0x2233+-0x1dc2],_0x1fc073[0x1ca*-0x7+-0x1cb6+0x1*0x293d]),_0x1d8218=new W(_0x4d3e43[-0xce9+-0x25f4+-0x32dd*-0x1],-0x113e*0x1+0x5d4*-0x4+-0x3*-0xd85-_0x1fc073[0x13*0x22+0x5*0x6d6+-0x24b3]-_0x4d3e43[0x3*-0x485+-0x291*-0x9+-0x989]);for(_0x2124c5=-0x38*0x33+-0x19cb+0x24f3;_0x2124c5<_0xccae1c['length'];++_0x2124c5)_0x47a8bf[_0xccae1c[_0x2124c5]+'MapTiling']=_0xb93dc1,_0x47a8bf[_0xccae1c[_0x2124c5]+'MapOffset']=_0x1d8218,_0x47a8bf[_0xccae1c[_0x2124c5]+('MapRotatio'+'n')]=_0xa640ef;}},FD=(_0x15b3f7,_0x5919f0,_0x5d7aee)=>{let _0x1b5233,_0x180725;if(_0x15b3f7['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x1b5233=_0x15b3f7['diffuseFac'+'tor'],_0x5919f0['diffuse']['set'](Math['pow'](_0x1b5233[0x1c42+-0x136f+-0x9*0xfb],(0x3d7+-0xae+0xca*-0x4)/(0x2*-0xdb8+0x231+0x1941+0.20000000000000018)),Math['pow'](_0x1b5233[0x13f0+0x5*0x2+0x1*-0x13f9],(0x2*0x9ee+0x61f+-0x19fa)/(-0x1f*-0x2b+-0x1*-0x233b+-0x286e+0.20000000000000018)),Math['pow'](_0x1b5233[0x1*0x1b55+-0x6*0x481+-0x4d*0x1],(-0x636+0x1a7b+-0x1444)/(-0x1469+-0x2547*-0x1+0x437*-0x4+0.20000000000000018))),_0x5919f0['opacity']=_0x1b5233[0x26e1+-0x27*0x29+-0x209f]):(_0x5919f0['diffuse']['set'](0x1f3d*0x1+0x1*0x1501+-0x2b*0x137,0x1f19+-0x4*-0x17b+-0x17*0x19c,-0x1430+0x9ad+0x4*0x2a1),_0x5919f0['opacity']=-0x21a4+0x106c+0x1139),_0x15b3f7['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x4ddec0=_0x15b3f7['diffuseTex'+'ture'];_0x180725=_0x5d7aee[_0x4ddec0['index']],_0x5919f0['diffuseMap']=_0x180725,_0x5919f0['diffuseMap'+'Channel']='rgb',_0x5919f0['opacityMap']=_0x180725,_0x5919f0['opacityMap'+'Channel']='a',ft(_0x4ddec0,_0x5919f0,['diffuse','opacity']);}if(_0x5919f0['useMetalne'+'ss']=!(-0x234b+-0x2*-0x1044+0x2c4),_0x15b3f7['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x1b5233=_0x15b3f7['specularFa'+'ctor'],_0x5919f0['specular']['set'](Math['pow'](_0x1b5233[0x26b9+0x74b*-0x4+-0x32f*0x3],(-0x2f6+-0x18*-0x2d+-0x141*0x1)/(-0xeb5+-0x1d*-0xa3+-0x3c0+0.20000000000000018)),Math['pow'](_0x1b5233[0xaee+0x416+-0xf03],(0xae9+-0x1d2*0x5+-0xb*0x2a)/(-0x2*-0xe56+0x1*0x829+0x359*-0xb+0.20000000000000018)),Math['pow'](_0x1b5233[-0xc16+-0x4*-0x21d+-0x1d2*-0x2],(-0x92e+-0xd31+-0x166*-0x10)/(0x109a+-0x89*-0x13+-0x1ac3+0.20000000000000018)))):_0x5919f0['specular']['set'](-0x1f23+-0x1e7*-0x9+0xe05*0x1,-0x21d0+0x175*0x1+0x205c*0x1,0x1cf*-0x1+-0x52c+-0x6*-0x12a),_0x15b3f7['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x5919f0['gloss']=_0x15b3f7['glossiness'+'Factor']:_0x5919f0['gloss']=-0x957+-0x14fd+0x5*0x611,_0x15b3f7['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x31ade6=_0x15b3f7['specularGl'+'ossinessTe'+'xture'];_0x5919f0['specularEn'+'coding']='srgb',_0x5919f0['specularMa'+'p']=_0x5919f0['glossMap']=_0x5d7aee[_0x31ade6['index']],_0x5919f0['specularMa'+'pChannel']='rgb',_0x5919f0['glossMapCh'+'annel']='a',ft(_0x31ade6,_0x5919f0,['gloss','metalness']);}},kD=(_0x251a86,_0x49b859,_0x5070f7)=>{if(_0x251a86['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x49b859['clearCoat']=_0x251a86['clearcoatF'+'actor']*(-0x367+-0x756*0x1+0xabd+0.25):_0x49b859['clearCoat']=-0xe47+0x1b1b+-0xcd4*0x1,_0x251a86['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x17d986=_0x251a86['clearcoatT'+'exture'];_0x49b859['clearCoatM'+'ap']=_0x5070f7[_0x17d986['index']],_0x49b859['clearCoatM'+'apChannel']='r',ft(_0x17d986,_0x49b859,['clearCoat']);}if(_0x251a86['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x49b859['clearCoatG'+'loss']=_0x251a86['clearcoatR'+'oughnessFa'+'ctor']:_0x49b859['clearCoatG'+'loss']=0x9b*-0xc+0x13b0+-0x3*0x424,_0x251a86['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x57d799=_0x251a86['clearcoatR'+'oughnessTe'+'xture'];_0x49b859['clearCoatG'+'lossMap']=_0x5070f7[_0x57d799['index']],_0x49b859['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x57d799,_0x49b859,['clearCoatG'+'loss']);}if(_0x251a86['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x553a3a=_0x251a86['clearcoatN'+'ormalTextu'+'re'];_0x49b859['clearCoatN'+'ormalMap']=_0x5070f7[_0x553a3a['index']],ft(_0x553a3a,_0x49b859,['clearCoatN'+'ormal']),_0x553a3a['hasOwnProp'+'erty']('scale')&&(_0x49b859['clearCoatB'+'umpiness']=_0x553a3a['scale']);}_0x49b859['clearCoatG'+'lossInvert']=!(0x2*-0x1321+0x25f2+0x4*0x14);},OD=(_0x134872,_0x4f7cc2,_0x1efcfc)=>{_0x4f7cc2['useLightin'+'g']=!(0x1745+0x3*0x49c+-0x128c*0x2),_0x4f7cc2['emissive']['copy'](_0x4f7cc2['diffuse']),_0x4f7cc2['emissiveMa'+'p']=_0x4f7cc2['diffuseMap'],_0x4f7cc2['emissiveMa'+'pUv']=_0x4f7cc2['diffuseMap'+'Uv'],_0x4f7cc2['emissiveMa'+'pTiling']['copy'](_0x4f7cc2['diffuseMap'+'Tiling']),_0x4f7cc2['emissiveMa'+'pOffset']['copy'](_0x4f7cc2['diffuseMap'+'Offset']),_0x4f7cc2['emissiveMa'+'pRotation']=_0x4f7cc2['diffuseMap'+'Rotation'],_0x4f7cc2['emissiveMa'+'pChannel']=_0x4f7cc2['diffuseMap'+'Channel'],_0x4f7cc2['emissiveVe'+'rtexColor']=_0x4f7cc2['diffuseVer'+'texColor'],_0x4f7cc2['emissiveVe'+'rtexColorC'+'hannel']=_0x4f7cc2['diffuseVer'+'texColorCh'+'annel'],_0x4f7cc2['useLightin'+'g']=!(-0x668+0x1fcf+-0x1966),_0x4f7cc2['useSkybox']=!(-0x913*0x3+-0x45c+0x1f96),_0x4f7cc2['diffuse']['set'](-0x4e1+-0x1846+0x3*0x9b8,-0x2*-0xea5+-0x166f*-0x1+-0x677*0x8,0x3c1*-0x2+-0x3*-0xb2f+-0x1a0a),_0x4f7cc2['diffuseMap']=null,_0x4f7cc2['diffuseVer'+'texColor']=!(-0x142f+-0x22c6+0x36f6);},BD=(_0x50653b,_0x62de78,_0x3ca0ac)=>{if(_0x62de78['useMetalne'+'ssSpecular'+'Color']=!(0xecb+0xbf*-0x1b+0x5*0x112),_0x50653b['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x62de78['specularEn'+'coding']='srgb',_0x62de78['specularMa'+'p']=_0x3ca0ac[_0x50653b['specularCo'+'lorTexture']['index']],_0x62de78['specularMa'+'pChannel']='rgb',ft(_0x50653b['specularCo'+'lorTexture'],_0x62de78,['specular'])),_0x50653b['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x18589a=_0x50653b['specularCo'+'lorFactor'];_0x62de78['specular']['set'](Math['pow'](_0x18589a[-0x1b95*0x1+-0x3*0x67d+0x2f0c],(0x26e5+0x10b3+-0x3797)/(0x24ad+-0x781*-0x1+-0x2c*0x101+0.20000000000000018)),Math['pow'](_0x18589a[0x9c7+0x4*0x505+-0x2*0xeed],(0x1e5f+0x1*-0x262e+0x7d0)/(-0x92b*0x1+-0x1258+-0x1*-0x1b85+0.20000000000000018)),Math['pow'](_0x18589a[0x137*-0x5+-0xe81+0x1496],(-0x2345*-0x1+-0x20c6+-0x27e*0x1)/(0x218a*-0x1+-0x7*-0x2e3+0xd57+0.20000000000000018)));}else _0x62de78['specular']['set'](0x2557+0x1a43*-0x1+-0xb13,-0x4f*0x11+-0xc7*-0x1+0x479,0x1464+-0x17bb+0x1ac*0x2);_0x50653b['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x62de78['specularit'+'yFactor']=_0x50653b['specularFa'+'ctor']:_0x62de78['specularit'+'yFactor']=0xac9+0x1a5*0x1+-0xc6d,_0x50653b['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x62de78['specularit'+'yFactorMap'+'Channel']='a',_0x62de78['specularit'+'yFactorMap']=_0x3ca0ac[_0x50653b['specularTe'+'xture']['index']],ft(_0x50653b['specularTe'+'xture'],_0x62de78,['specularit'+'yFactor']));},ND=(_0x38e9d2,_0x19bb70,_0x405f95)=>{_0x38e9d2['hasOwnProp'+'erty']('ior')&&(_0x19bb70['refraction'+'Index']=(0x125b+-0x7d8+-0xa82)/_0x38e9d2['ior']);},zD=(_0x817507,_0x5ad725,_0x407dcc)=>{_0x817507['hasOwnProp'+'erty']('dispersion')&&(_0x5ad725['dispersion']=_0x817507['dispersion']);},UD=(_0x5b2f1a,_0x33b175,_0x41df80)=>{_0x33b175['blendType']=Ot,_0x33b175['useDynamic'+'Refraction']=!(-0x17*-0x97+0xe68*-0x2+0xf3f),_0x5b2f1a['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x33b175['refraction']=_0x5b2f1a['transmissi'+'onFactor']),_0x5b2f1a['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x33b175['refraction'+'MapChannel']='r',_0x33b175['refraction'+'Map']=_0x41df80[_0x5b2f1a['transmissi'+'onTexture']['index']],ft(_0x5b2f1a['transmissi'+'onTexture'],_0x33b175,['refraction']));},VD=(_0x2c71a3,_0x3a03ba,_0x14d22d)=>{if(_0x3a03ba['useSheen']=!(-0x153a+0x1e*0xc1+-0x164),_0x2c71a3['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x5eb81c=_0x2c71a3['sheenColor'+'Factor'];_0x3a03ba['sheen']['set'](Math['pow'](_0x5eb81c[0x1ef7*-0x1+-0x40f+0x2306],(-0x1*-0x806+-0x735+-0xd0)/(0xb75+-0x24e3+0x1970+0.20000000000000018)),Math['pow'](_0x5eb81c[-0x1155*0x1+0x12f*-0x21+0x3865],(0x1*0x336+-0x919+0x5e4)/(-0xc*0x223+0x328+-0x167e*-0x1+0.20000000000000018)),Math['pow'](_0x5eb81c[0x14ba+0x373+-0x10d*0x17],(-0x1414+-0x120f+0x2624)/(0x1615+0x1*0x80+-0x1693+0.20000000000000018)));}else _0x3a03ba['sheen']['set'](-0xf5f*0x2+0xae7+-0x4*-0x4f6,-0x90c+0x1afa+-0x11ed,0x598*0x1+0x1e3d*-0x1+0x1*0x18a6);_0x2c71a3['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x3a03ba['sheenMap']=_0x14d22d[_0x2c71a3['sheenColor'+'Texture']['index']],_0x3a03ba['sheenEncod'+'ing']='srgb',ft(_0x2c71a3['sheenColor'+'Texture'],_0x3a03ba,['sheen'])),_0x3a03ba['sheenGloss']=_0x2c71a3['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x2c71a3['sheenRough'+'nessFactor']:0x87+0x246d+0x93d*-0x4,_0x2c71a3['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x3a03ba['sheenGloss'+'Map']=_0x14d22d[_0x2c71a3['sheenRough'+'nessTextur'+'e']['index']],_0x3a03ba['sheenGloss'+'MapChannel']='a',ft(_0x2c71a3['sheenRough'+'nessTextur'+'e'],_0x3a03ba,['sheenGloss'])),_0x3a03ba['sheenGloss'+'Invert']=!(-0x1a6c+0x251a+-0x1*0xaae);},GD=(_0x7bdf7,_0x415c06,_0x5721f8)=>{if(_0x415c06['blendType']=Ot,_0x415c06['useDynamic'+'Refraction']=!(0x1cd8+0xd9+0x1*-0x1db1),_0x7bdf7['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x415c06['thickness']=_0x7bdf7['thicknessF'+'actor']),_0x7bdf7['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x415c06['thicknessM'+'ap']=_0x5721f8[_0x7bdf7['thicknessT'+'exture']['index']],_0x415c06['thicknessM'+'apChannel']='g',ft(_0x7bdf7['thicknessT'+'exture'],_0x415c06,['thickness'])),_0x7bdf7['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x415c06['attenuatio'+'nDistance']=_0x7bdf7['attenuatio'+'nDistance']),_0x7bdf7['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x3c14a0=_0x7bdf7['attenuatio'+'nColor'];_0x415c06['attenuatio'+'n']['set'](Math['pow'](_0x3c14a0[-0x1595+0x153*0x1d+0x2*-0x869],(0x2*0x8c7+0x256*0x4+-0x1ae5)/(0x33*0xb2+-0x18a3+0x47*-0x27+0.20000000000000018)),Math['pow'](_0x3c14a0[0x1554+-0x20df+0xb8c],(-0x1*0xc5+0x1*0xf17+0x2dd*-0x5)/(-0x3*-0x957+-0x14*0x1a+-0x3*0x8a9+0.20000000000000018)),Math['pow'](_0x3c14a0[-0x244f+0x1f64+-0x61*-0xd],(0x631+0x1*0xf45+-0x3*0x727)/(0x206+-0x24c4+0x22c0+0.20000000000000018)));}},HD=(_0x3a1067,_0xfe68e,_0xe82ce7)=>{_0x3a1067['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0xfe68e['emissiveIn'+'tensity']=_0x3a1067['emissiveSt'+'rength']);},WD=(_0x2c271c,_0x10029b,_0x341e96)=>{_0x10029b['useIridesc'+'ence']=!(-0x1*0x1cb7+0x1e3c+0x185*-0x1),_0x2c271c['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x10029b['iridescenc'+'e']=_0x2c271c['iridescenc'+'eFactor']),_0x2c271c['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x10029b['iridescenc'+'eMapChanne'+'l']='r',_0x10029b['iridescenc'+'eMap']=_0x341e96[_0x2c271c['iridescenc'+'eTexture']['index']],ft(_0x2c271c['iridescenc'+'eTexture'],_0x10029b,['iridescenc'+'e'])),_0x2c271c['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x10029b['iridescenc'+'eRefractio'+'nIndex']=_0x2c271c['iridescenc'+'eIor']),_0x2c271c['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x10029b['iridescenc'+'eThickness'+'Min']=_0x2c271c['iridescenc'+'eThickness'+'Minimum']),_0x2c271c['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x10029b['iridescenc'+'eThickness'+'Max']=_0x2c271c['iridescenc'+'eThickness'+'Maximum']),_0x2c271c['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x10029b['iridescenc'+'eThickness'+'MapChannel']='g',_0x10029b['iridescenc'+'eThickness'+'Map']=_0x341e96[_0x2c271c['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x2c271c['iridescenc'+'eThickness'+'Texture'],_0x10029b,['iridescenc'+'eThickness']));},Dx=(_0x271fab,_0x36daed)=>{const _0x612351=new us();_0x271fab['hasOwnProp'+'erty']('name')&&(_0x612351['name']=_0x271fab['name']),_0x612351['occludeSpe'+'cular']=Bo,_0x612351['diffuseVer'+'texColor']=!(0x57*-0x5b+-0x11f5*-0x2+-0x4fd),_0x612351['specularTi'+'nt']=!(-0x860+0x187+0x6d9*0x1),_0x612351['specularVe'+'rtexColor']=!(-0x741*-0x1+0x531+-0xc72),_0x612351['specular']['set'](0x253e+0x1*0x869+-0x2da6,-0x1*-0x99f+0x692+-0x1030,0x409*-0x5+0xa5+0x1389),_0x612351['gloss']=-0x1919+-0x344*0x2+0x1*0x1fa2,_0x612351['glossInver'+'t']=!(0x501+-0x6f7*-0x5+0x9f5*-0x4),_0x612351['useMetalne'+'ss']=!(-0x2236+0xac7+0x176f);let _0x5905f9,_0x3bf595;if(_0x271fab['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x208a02=_0x271fab['pbrMetalli'+'cRoughness'];if(_0x208a02['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x5905f9=_0x208a02['baseColorF'+'actor'],_0x612351['diffuse']['set'](Math['pow'](_0x5905f9[0x8c6+-0x1*0x1597+0xc1*0x11],(-0xfa7*0x1+0x77*-0x1+-0x101f*-0x1)/(0x1*-0x2376+0xb93+0x7f7*0x3+0.20000000000000018)),Math['pow'](_0x5905f9[0x1e6+0x1*0x1cf1+-0x1ed6],(0x15*-0xc9+0x2c*-0x5e+-0xe*-0x255)/(-0x1c03*-0x1+0x17a9*-0x1+-0x8b*0x8+0.20000000000000018)),Math['pow'](_0x5905f9[-0xf50+0x27a*-0x3+0x10*0x16c],(0x84c+0x1*-0x11ea+0x99f)/(0x24de+0x2002+0x2*-0x226f+0.20000000000000018))),_0x612351['opacity']=_0x5905f9[-0x1070+-0x25dc+0x364f*0x1]),_0x208a02['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x4db493=_0x208a02['baseColorT'+'exture'];_0x3bf595=_0x36daed[_0x4db493['index']],_0x612351['diffuseMap']=_0x3bf595,_0x612351['diffuseMap'+'Channel']='rgb',_0x612351['opacityMap']=_0x3bf595,_0x612351['opacityMap'+'Channel']='a',ft(_0x4db493,_0x612351,['diffuse','opacity']);}if(_0x208a02['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x612351['metalness']=_0x208a02['metallicFa'+'ctor']),_0x208a02['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x612351['gloss']=_0x208a02['roughnessF'+'actor']),_0x208a02['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x1ba5d0=_0x208a02['metallicRo'+'ughnessTex'+'ture'];_0x612351['metalnessM'+'ap']=_0x612351['glossMap']=_0x36daed[_0x1ba5d0['index']],_0x612351['metalnessM'+'apChannel']='b',_0x612351['glossMapCh'+'annel']='g',ft(_0x1ba5d0,_0x612351,['gloss','metalness']);}}if(_0x271fab['hasOwnProp'+'erty']('normalText'+'ure')){const _0x4b147d=_0x271fab['normalText'+'ure'];_0x612351['normalMap']=_0x36daed[_0x4b147d['index']],ft(_0x4b147d,_0x612351,['normal']),_0x4b147d['hasOwnProp'+'erty']('scale')&&(_0x612351['bumpiness']=_0x4b147d['scale']);}if(_0x271fab['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x2613c2=_0x271fab['occlusionT'+'exture'];_0x612351['aoMap']=_0x36daed[_0x2613c2['index']],_0x612351['aoMapChann'+'el']='r',ft(_0x2613c2,_0x612351,['ao']);}if(_0x271fab['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x5905f9=_0x271fab['emissiveFa'+'ctor'],_0x612351['emissive']['set'](Math['pow'](_0x5905f9[0x58a+0x1c73*-0x1+0x16e9],(-0x245b+-0x25d3+0xa99*0x7)/(0xbe1*0x3+0x31*-0x58+-0x3*0x643+0.20000000000000018)),Math['pow'](_0x5905f9[0x1163+0x137+-0x45*0x45],(-0x3*-0x425+0xa7*-0xb+-0x5*0x10d)/(0x3a1*-0x4+0x1383+-0x4fd+0.20000000000000018)),Math['pow'](_0x5905f9[0x81f+0x1b57*-0x1+0x133a],(0x6b2+-0x207e+0x19cd)/(-0x224a+0x45*-0x3a+-0x18f7*-0x2+0.20000000000000018)))),_0x271fab['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x407335=_0x271fab['emissiveTe'+'xture'];_0x612351['emissiveMa'+'p']=_0x36daed[_0x407335['index']],ft(_0x407335,_0x612351,['emissive']);}if(_0x271fab['hasOwnProp'+'erty']('alphaMode'))switch(_0x271fab['alphaMode']){case'MASK':_0x612351['blendType']=ns,_0x271fab['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x612351['alphaTest']=_0x271fab['alphaCutof'+'f']:_0x612351['alphaTest']=0x1*0x1646+-0x1e71+0x29*0x33+0.5;break;case'BLEND':_0x612351['blendType']=Ot,_0x612351['depthWrite']=!(0xb3c+0x11e3*0x1+-0xe8f*0x2);break;default:case'OPAQUE':_0x612351['blendType']=ns;break;}else _0x612351['blendType']=ns;_0x271fab['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x612351['twoSidedLi'+'ghting']=_0x271fab['doubleSide'+'d'],_0x612351['cull']=_0x271fab['doubleSide'+'d']?mt:rn):(_0x612351['twoSidedLi'+'ghting']=!(0x41*-0x13+0x7d1+-0x2fd*0x1),_0x612351['cull']=rn);const _0x281c9f={'KHR_materials_clearcoat':kD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':OD,'KHR_materials_volume':GD};if(_0x271fab['hasOwnProp'+'erty']('extensions'))for(const _0x53aa63 in _0x271fab['extensions']){const _0xd78761=_0x281c9f[_0x53aa63];_0xd78761!==void(-0x19a2+-0xca7*0x3+0x1*0x3f97)&&_0xd78761(_0x271fab['extensions'][_0x53aa63],_0x612351,_0x36daed);}return _0x612351['update'](),_0x612351;},$D=(_0x1903eb,_0x31cd5a,_0x2d71ee,_0x391ec6,_0x18fea0,_0x54e237,_0x5ccaa4)=>{const _0x6fbd6c=_0x23a066=>new ec(Wo(_0x23a066['type']),_a(_0x23a066,_0x391ec6)),_0xdd51e7={'STEP':$0,'LINEAR':Yu,'CUBICSPLINE':Ku},_0x26d30f={},_0x222322={},_0x4622f2={};let _0xce5397=0x32d+-0xead+0x1*0xb81,_0x1bf7f9;for(_0x1bf7f9=-0x24b7+0x11a7+0x1e8*0xa;_0x1bf7f9<_0x1903eb['samplers']['length'];++_0x1bf7f9){const _0x4c20e1=_0x1903eb['samplers'][_0x1bf7f9];_0x26d30f['hasOwnProp'+'erty'](_0x4c20e1['input'])||(_0x26d30f[_0x4c20e1['input']]=_0x6fbd6c(_0x2d71ee[_0x4c20e1['input']])),_0x222322['hasOwnProp'+'erty'](_0x4c20e1['output'])||(_0x222322[_0x4c20e1['output']]=_0x6fbd6c(_0x2d71ee[_0x4c20e1['output']]));const _0x2257c8=_0x4c20e1['hasOwnProp'+'erty']('interpolat'+'ion')&&_0xdd51e7['hasOwnProp'+'erty'](_0x4c20e1['interpolat'+'ion'])?_0xdd51e7[_0x4c20e1['interpolat'+'ion']]:Yu,_0x45efe6={'paths':[],'input':_0x4c20e1['input'],'output':_0x4c20e1['output'],'interpolation':_0x2257c8};_0x4622f2[_0x1bf7f9]=_0x45efe6;}const _0xf4b56b=[],_0x2a828c={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x1e41c6=_0x3696bf=>{const _0x331778=[];for(;_0x3696bf;)_0x331778['unshift'](_0x3696bf['name']),_0x3696bf=_0x3696bf['parent'];return _0x331778;},_0x1fc1bc=(_0x38ffc5,_0x1de162,_0x14eb42)=>{const _0x56aad6=_0x222322[_0x38ffc5['output']];if(!_0x56aad6){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x14eb42+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x2ae377;if(_0x54e237&&_0x54e237[_0x1de162['mesh']]){const _0x5bc470=_0x54e237[_0x1de162['mesh']];_0x5bc470['hasOwnProp'+'erty']('extras')&&_0x5bc470['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x2ae377=_0x5bc470['extras']['targetName'+'s']);}const _0x493f4e=_0x56aad6['data'],_0x2cc2b1=_0x493f4e['length']/_0x26d30f[_0x38ffc5['input']]['data']['length'],_0x25059c=_0x493f4e['length']/_0x2cc2b1,_0x5953da=_0x25059c*(0x6e7+0x1*0x2444+-0x2b27*0x1),_0x30a69d=new ArrayBuffer(_0x5953da*_0x2cc2b1);for(let _0x16bd38=0x68a*-0x3+0xdf5+0x5a9;_0x16bd38<_0x2cc2b1;_0x16bd38++){const _0x421156=new Float32Array(_0x30a69d,_0x5953da*_0x16bd38,_0x25059c);for(let _0x3efe1a=0x943+-0x1e21+0x1*0x14de;_0x3efe1a<_0x25059c;_0x3efe1a++)_0x421156[_0x3efe1a]=_0x493f4e[_0x3efe1a*_0x2cc2b1+_0x16bd38];const _0xbbaa24=new ec(-0xc4+-0x23b3+0x2478,_0x421156),_0x42324f=_0x2ae377!=null&&_0x2ae377[_0x16bd38]?'name.'+_0x2ae377[_0x16bd38]:_0x16bd38;_0x222322[-_0xce5397]=_0xbbaa24;const _0xc881a1={'paths':[{'entityPath':_0x14eb42,'component':'graph','propertyPath':['weight.'+_0x42324f]}],'input':_0x38ffc5['input'],'output':-_0xce5397,'interpolation':_0x38ffc5['interpolat'+'ion']};_0xce5397++,_0x4622f2['morphCurve'+'-'+_0x1bf7f9+'-'+_0x16bd38]=_0xc881a1;}};for(_0x1bf7f9=-0x8e3+-0x1d91+0x2674;_0x1bf7f9<_0x1903eb['channels']['length'];++_0x1bf7f9){const _0x12dba1=_0x1903eb['channels'][_0x1bf7f9],_0x5e5cab=_0x12dba1['target'],_0x2e67dc=_0x4622f2[_0x12dba1['sampler']],_0x13e71c=_0x18fea0[_0x5e5cab['node']],_0x91296e=_0x5ccaa4[_0x5e5cab['node']],_0x1f1298=_0x1e41c6(_0x13e71c);_0x5e5cab['path']['startsWith']('weights')?(_0x1fc1bc(_0x2e67dc,_0x91296e,_0x1f1298),_0x4622f2[_0x12dba1['sampler']]['morphCurve']=!(-0x1ce1+-0x9f*0x7+0x213a)):_0x2e67dc['paths']['push']({'entityPath':_0x1f1298,'component':'graph','propertyPath':[_0x2a828c[_0x5e5cab['path']]]});}const _0x9a1c4=[],_0x5eebd3=[],_0x2e019f=[];for(const _0x545ea9 in _0x26d30f)_0x9a1c4['push'](_0x26d30f[_0x545ea9]),_0x26d30f[_0x545ea9]=_0x9a1c4['length']-(0xd*-0xbe+0x2321*0x1+-0x197a);for(const _0x215ad8 in _0x222322)_0x5eebd3['push'](_0x222322[_0x215ad8]),_0x222322[_0x215ad8]=_0x5eebd3['length']-(-0xced+0xf2a+-0xb*0x34);for(const _0x1675ea in _0x4622f2){const _0x2f3acf=_0x4622f2[_0x1675ea];_0x2f3acf['morphCurve']||(_0x2e019f['push'](new Px(_0x2f3acf['paths'],_0x26d30f[_0x2f3acf['input']],_0x222322[_0x2f3acf['output']],_0x2f3acf['interpolat'+'ion'])),_0x2f3acf['paths']['length']>-0x4c+0x7*-0x30f+0x15b5*0x1&&_0x2f3acf['paths'][-0x6f7*0x3+0x1d01+-0xc*0xad]['propertyPa'+'th'][-0x165*0xd+-0x7*0x10d+0x197c]==='localRotat'+'ion'&&_0x2f3acf['interpolat'+'ion']!==Ku&&_0xf4b56b['push'](_0x2e019f[_0x2e019f['length']-(0x3*0x2d7+0x2652+0xa*-0x4af)]['output']));}_0xf4b56b['sort']();let _0x59f269=null,_0x6329a1;for(_0x1bf7f9=0x3a9*-0x3+0xb1+0xa4a*0x1;_0x1bf7f9<_0xf4b56b['length'];++_0x1bf7f9){const _0x11bfd6=_0xf4b56b[_0x1bf7f9];if(_0x1bf7f9===0x1296+-0x1a5a+0x7c4||_0x11bfd6!==_0x59f269){if(_0x6329a1=_0x5eebd3[_0x11bfd6],_0x6329a1['components']===-0x7*-0x1aa+-0xcd*-0x11+-0x193f){const _0x217a95=_0x6329a1['data'],_0x202180=_0x217a95['length']-(-0x1237+0x3*0xcf7+-0x14aa);for(let _0x2507f0=0x2163+0x1ac1+-0xc*0x503;_0x2507f0<_0x202180;_0x2507f0+=0x1337+0xa3*0x11+-0x1e06)_0x217a95[_0x2507f0+(0x1851+0x638*-0x2+-0xbe1)]*_0x217a95[_0x2507f0+(0x171*-0xd+0x282*0x9+0x3d1*-0x1)]+_0x217a95[_0x2507f0+(-0x19b7+0x1*0xd49+0xc6f)]*_0x217a95[_0x2507f0+(-0x26f+0x1fb5*-0x1+0x2229)]+_0x217a95[_0x2507f0+(0x1de9*0x1+0x2105+-0x3eec)]*_0x217a95[_0x2507f0+(0xfea+0x5*0x41+0x1129*-0x1)]+_0x217a95[_0x2507f0+(0x221*-0xb+0x1*0x9a9+-0x5*-0x2c1)]*_0x217a95[_0x2507f0+(0x2*-0x6ed+0x1c6b+-0x2*0x745)]<0x1cf*0x4+-0x1d58+0x161c&&(_0x217a95[_0x2507f0+(0x7c*-0x20+-0x2622+0x35a6)]*=-(-0x77*0x8+0x7*0x3eb+-0x17b4*0x1),_0x217a95[_0x2507f0+(0x1b97+-0x14fe*0x1+-0x694)]*=-(0x3*-0x635+0x2*0xdb7+0x17*-0x62),_0x217a95[_0x2507f0+(0x188b+0x2192+-0x3a17)]*=-(-0xba8+-0xa*0x393+-0x5*-0x97b),_0x217a95[_0x2507f0+(0x1*0x25eb+-0x2cf+0x7*-0x503)]*=-(-0x11df*-0x2+0x34*-0xb+-0xb2b*0x3));}_0x59f269=_0x11bfd6;}}let _0x56e51e=0x1102+-0x1*-0x1433+-0x2535;for(_0x1bf7f9=-0xb00+0x1*0x2dd+0x823;_0x1bf7f9<_0x9a1c4['length'];_0x1bf7f9++)_0x6329a1=_0x9a1c4[_0x1bf7f9]['_data'],_0x56e51e=Math['max'](_0x56e51e,_0x6329a1['length']===-0x26a5+0xd*-0x149+-0xd*-0x442?-0x167e*-0x1+0xe25+-0x53*0x71:_0x6329a1[_0x6329a1['length']-(0x5*-0x513+-0x2*-0x47+-0x161*-0x12)]);return new Di(_0x1903eb['hasOwnProp'+'erty']('name')?_0x1903eb['name']:'animation_'+_0x31cd5a,_0x56e51e,_0x9a1c4,_0x5eebd3,_0x2e019f);},th=new q(),Xn=new T(),qD=(_0x311506,_0x37b456,_0x683cb4)=>{const _0x1f2716=new De();if(_0x311506['hasOwnProp'+'erty']('name')&&_0x311506['name']['length']>-0x338*-0x6+0x1*-0x2485+0x5*0x371?_0x1f2716['name']=_0x311506['name']:_0x1f2716['name']='node_'+_0x37b456,_0x311506['hasOwnProp'+'erty']('matrix')&&(th['data']['set'](_0x311506['matrix']),th['getTransla'+'tion'](Xn),_0x1f2716['setLocalPo'+'sition'](Xn),th['getEulerAn'+'gles'](Xn),_0x1f2716['setLocalEu'+'lerAngles'](Xn),th['getScale'](Xn),_0x1f2716['setLocalSc'+'ale'](Xn)),_0x311506['hasOwnProp'+'erty']('rotation')){const _0x3878d2=_0x311506['rotation'];_0x1f2716['setLocalRo'+'tation'](_0x3878d2[-0x269a*0x1+-0x2308+0x49a2],_0x3878d2[-0x4ca*-0x7+-0x43d+-0x752*0x4],_0x3878d2[0x4*-0x949+0xa4b+0x1adb],_0x3878d2[0x9a7+-0x1acc+0x16e*0xc]);}if(_0x311506['hasOwnProp'+'erty']('translatio'+'n')){const _0x237bb4=_0x311506['translatio'+'n'];_0x1f2716['setLocalPo'+'sition'](_0x237bb4[0xe40+0x5cf*0x4+0x95f*-0x4],_0x237bb4[0x21ce+0x6c7*0x5+-0x43b0],_0x237bb4[0x1*0xbe9+-0x13a3+-0x1ef*-0x4]);}if(_0x311506['hasOwnProp'+'erty']('scale')){const _0x542038=_0x311506['scale'];_0x1f2716['setLocalSc'+'ale'](_0x542038[-0x77*0x2f+0x23d4*0x1+-0xdfb],_0x542038[-0x1376+-0x3*-0x13c+0x541*0x3],_0x542038[0x934+-0x1876+0xf44]);}return _0x311506['hasOwnProp'+'erty']('extensions')&&_0x311506['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x683cb4['set'](_0x311506,{'ext':_0x311506['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x1f2716;},XD=(_0x2d0e86,_0x1b3526)=>{const _0x2268b9=_0x2d0e86['type']==='orthograph'+'ic'?fa:Gs,_0x32571d=_0x2268b9===fa?_0x2d0e86['orthograph'+'ic']:_0x2d0e86['perspectiv'+'e'],_0x1895cd={'enabled':!(-0x2cc+0x1*-0x245+0x512),'projection':_0x2268b9,'nearClip':_0x32571d['znear'],'aspectRatioMode':Dp};_0x32571d['zfar']&&(_0x1895cd['farClip']=_0x32571d['zfar']),_0x2268b9===fa?(_0x1895cd['orthoHeigh'+'t']=(-0x55*-0x37+-0x20a0+0xe5d+0.5)*_0x32571d['ymag'],_0x32571d['ymag']&&(_0x1895cd['aspectRati'+'oMode']=Nu,_0x1895cd['aspectRati'+'o']=_0x32571d['xmag']/_0x32571d['ymag'])):(_0x1895cd['fov']=_0x32571d['yfov']*N['RAD_TO_DEG'],_0x32571d['aspectRati'+'o']&&(_0x1895cd['aspectRati'+'oMode']=Nu,_0x1895cd['aspectRati'+'o']=_0x32571d['aspectRati'+'o']));const _0x23b6e2=new We(_0x2d0e86['name']);return _0x23b6e2['addCompone'+'nt']('camera',_0x1895cd),_0x23b6e2;},jD=(_0x33bb2a,_0x1bb2ff)=>{const _0x2f7793={'enabled':!(0x138f+0x2145+0x34d3*-0x1),'type':_0x33bb2a['type']==='point'?'omni':_0x33bb2a['type'],'color':_0x33bb2a['hasOwnProp'+'erty']('color')?new Y(_0x33bb2a['color']):Y['WHITE'],'range':_0x33bb2a['hasOwnProp'+'erty']('range')?_0x33bb2a['range']:0x136f+-0x1638+-0x14ec*-0x2,'falloffMode':$b,'intensity':_0x33bb2a['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x33bb2a['intensity'],0x9b*-0x1+-0xc*-0x3a+0x1*-0x21d,-0x253a*0x1+0x20d*0x7+-0x16e1*-0x1):-0x13bd*-0x1+0x1e4a+-0x3206};_0x33bb2a['hasOwnProp'+'erty']('spot')&&(_0x2f7793['innerConeA'+'ngle']=_0x33bb2a['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x33bb2a['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:-0xdd*0x1e+0x1f2d+-0x547,_0x2f7793['outerConeA'+'ngle']=_0x33bb2a['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x33bb2a['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(-0x1ca7+0xf7c*0x2+-0x24d)),_0x33bb2a['hasOwnProp'+'erty']('intensity')&&(_0x2f7793['luminance']=_0x33bb2a['intensity']*zo['getLightUn'+'itConversi'+'on'](Hu[_0x2f7793['type']],_0x2f7793['outerConeA'+'ngle'],_0x2f7793['innerConeA'+'ngle']));const _0x5c2ee=new We(_0x1bb2ff['name']);return _0x5c2ee['rotateLoca'+'l'](0x15e7+0xd68+-0x3*0xba7,0x1fc3+-0x5*0x749+0x4aa,-0x1*-0x1e2f+-0x236f+0x540),_0x5c2ee['addCompone'+'nt']('light',_0x2f7793),_0x5c2ee;},YD=(_0x22e66d,_0x32a555,_0x45fd0b,_0x483085)=>{if(!_0x32a555['hasOwnProp'+'erty']('skins')||_0x32a555['skins']['length']===0xed*-0x13+0x26a0+-0x1509)return[];const _0x27b91a=new Map();return _0x32a555['skins']['map'](_0x5b75fa=>ID(_0x22e66d,_0x5b75fa,_0x32a555['accessors'],_0x483085,_0x45fd0b,_0x27b91a));},KD=(_0x5b0a5c,_0x2e9f22,_0x1b534c,_0x5efc61)=>{var _0x5a5055,_0x223e19,_0x739c1;const _0x3335a7={},_0x9eb424={},_0x25029b={},_0x2e7e53=[];return{'meshes':!_0x5efc61['skipMeshes']&&((_0x5a5055=_0x2e9f22==null?void(-0x1*0x18a5+-0x7*-0x559+-0xcca):_0x2e9f22['meshes'])==null?void(0x1bd2+-0x14ae+-0x724):_0x5a5055['length'])&&((_0x223e19=_0x2e9f22==null?void(0x176f+-0x1caa+-0x53b*-0x1):_0x2e9f22['accessors'])==null?void(-0x27*0x9d+-0x15bf+0x2daa):_0x223e19['length'])&&((_0x739c1=_0x2e9f22==null?void(0x595*0x5+-0x16e2+0xd*-0x63):_0x2e9f22['bufferView'+'s'])==null?void(0x49d*0x6+0x1993*-0x1+0x7*-0x4d):_0x739c1['length'])?_0x2e9f22['meshes']['map'](_0x4b7877=>LD(_0x5b0a5c,_0x4b7877,_0x2e9f22['accessors'],_0x1b534c,_0x3335a7,_0x9eb424,_0x25029b,_0x5efc61,_0x2e7e53)):[],'meshVariants':_0x9eb424,'meshDefaultMaterials':_0x25029b,'promises':_0x2e7e53};},ZD=(_0x3a20cf,_0x10aec5,_0x4ce631)=>{var _0x4be682,_0x3d4dc7,_0x3f4842;if(!_0x3a20cf['hasOwnProp'+'erty']('materials')||_0x3a20cf['materials']['length']===0xe68+0x1942+-0x2*0x13d5)return[];const _0x2ee101=(_0x4be682=_0x4ce631==null?void(0x23eb*-0x1+-0x1f7c+0x9a1*0x7):_0x4ce631['material'])==null?void(0x183c+-0x9*0x293+-0x111):_0x4be682['preprocess'],_0x392e07=((_0x3d4dc7=_0x4ce631==null?void(0x15*-0x156+-0x21d4+0x59*0xb2):_0x4ce631['material'])==null?void(0x6a*-0x51+-0x266e+0x47f8):_0x3d4dc7['process'])??Dx,_0x46e263=(_0x3f4842=_0x4ce631==null?void(0x18a0+0x9c+-0x193c):_0x4ce631['material'])==null?void(-0x20c6+-0x1*-0x659+0x1a6d):_0x3f4842['postproces'+'s'];return _0x3a20cf['materials']['map'](_0x384720=>{_0x2ee101&&_0x2ee101(_0x384720);const _0x303d00=_0x392e07(_0x384720,_0x10aec5);return _0x46e263&&_0x46e263(_0x384720,_0x303d00),_0x303d00;});},QD=_0x2761b1=>{if(!_0x2761b1['hasOwnProp'+'erty']('extensions')||!_0x2761b1['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0xcf283=_0x2761b1['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0xc3b259={};for(let _0x484b5c=0x3*-0x466+-0x1*-0xc19+0x119*0x1;_0x484b5c<_0xcf283['length'];_0x484b5c++)_0xc3b259[_0xcf283[_0x484b5c]['name']]=_0x484b5c;return _0xc3b259;},JD=(_0x4f3170,_0x4589e4,_0x3a4ad6,_0x138a9f)=>{var _0x1b6a98,_0x4a1c26;if(!_0x4f3170['hasOwnProp'+'erty']('animations')||_0x4f3170['animations']['length']===0x1ed9+-0x2*0xcfc+-0x4e1)return[];const _0x1d3e75=(_0x1b6a98=_0x138a9f==null?void(0x97*0x2f+0xbe5+-0x13cf*0x2):_0x138a9f['animation'])==null?void(0xd2e+-0x1b39+-0x1*-0xe0b):_0x1b6a98['preprocess'],_0x532492=(_0x4a1c26=_0x138a9f==null?void(-0x79f+0x2031*0x1+-0x1892):_0x138a9f['animation'])==null?void(-0x18b0+-0x2*-0x1136+-0x9bc):_0x4a1c26['postproces'+'s'];return _0x4f3170['animations']['map']((_0x29f400,_0x3d0c55)=>{_0x1d3e75&&_0x1d3e75(_0x29f400);const _0x44024c=$D(_0x29f400,_0x3d0c55,_0x4f3170['accessors'],_0x3a4ad6,_0x4589e4,_0x4f3170['meshes'],_0x4f3170['nodes']);return _0x532492&&_0x532492(_0x29f400,_0x44024c),_0x44024c;});},e2=(_0x1c4eca,_0x2bfb56,_0x1915fb,_0x5a36f0)=>{const _0x5759bd=_0x2bfb56['accessors'];_0x1915fb['forEach']((_0x5ba855,_0x25c92b)=>{const _0x35da62=_0x5ba855['ext']['attributes'];let _0x25af3e;if(_0x35da62['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x321dcd=_0x5759bd[_0x35da62['TRANSLATIO'+'N']];_0x25af3e=_a(_0x321dcd,_0x5a36f0);}let _0x21d27d;if(_0x35da62['hasOwnProp'+'erty']('ROTATION')){const _0x3c4158=_0x5759bd[_0x35da62['ROTATION']];_0x21d27d=_a(_0x3c4158,_0x5a36f0);}let _0x13289c;if(_0x35da62['hasOwnProp'+'erty']('SCALE')){const _0x25a122=_0x5759bd[_0x35da62['SCALE']];_0x13289c=_a(_0x25a122,_0x5a36f0);}const _0x5179aa=(_0x25af3e?_0x25af3e['length']/(0x619+0x2023+0x2639*-0x1):-0x557+0x38*0x11+0x19f)||(_0x21d27d?_0x21d27d['length']/(0x2*-0xfb3+-0x3*0xc0b+0x1*0x438b):0x9df+-0x1b38+0x1159*0x1)||(_0x13289c?_0x13289c['length']/(-0x1475+-0x5*-0xb2+0x10fe):-0x1fe4*-0x1+0x7*-0x247+-0x3*0x551);if(_0x5179aa){const _0x594357=new Float32Array(_0x5179aa*(-0x1cba*-0x1+0x35*0x65+-0x3193)),_0x4069a7=new T(),_0x33f5df=new te(),_0x42cd1e=new T(0xa48+0x171e+-0x2165,0xa51+0xa54+-0x14a4,-0x263*0x2+0xe6e+-0x7*0x161),_0x795aae=new q();let _0x32be66=-0xc61+-0x1be*0x6+-0x16d5*-0x1;for(let _0x17d8b0=-0x1065+0x5a7*0x1+0xabe*0x1;_0x17d8b0<_0x5179aa;_0x17d8b0++){const _0x50a833=_0x17d8b0*(0x2104+-0x2*-0x1b7+-0x246f);if(_0x25af3e&&_0x4069a7['set'](_0x25af3e[_0x50a833],_0x25af3e[_0x50a833+(0x4d6+0x17d3+0x1c*-0x106)],_0x25af3e[_0x50a833+(0x1741*0x1+0x94*-0x8+-0x3*0x635)]),_0x21d27d){const _0x1c9be3=_0x17d8b0*(-0x1*-0x2141+-0x11*0xbf+-0x36d*0x6);_0x33f5df['set'](_0x21d27d[_0x1c9be3],_0x21d27d[_0x1c9be3+(-0x35e*-0x2+0x35*-0x1c+-0xef)],_0x21d27d[_0x1c9be3+(-0x5e6*-0x5+0x255b+-0x42d7)],_0x21d27d[_0x1c9be3+(-0x35*-0xb5+0x2162+-0x46d8)]);}_0x13289c&&_0x42cd1e['set'](_0x13289c[_0x50a833],_0x13289c[_0x50a833+(0x1ab3+0x1331+0x1*-0x2de3)],_0x13289c[_0x50a833+(-0xf36+0xfcd+0x95*-0x1)]),_0x795aae['setTRS'](_0x4069a7,_0x33f5df,_0x42cd1e);for(let _0x524ddb=0x20f0+0x1*0x17f5+-0x38e5;_0x524ddb<0x1386+0x57b+-0x18f1;_0x524ddb++)_0x594357[_0x32be66++]=_0x795aae['data'][_0x524ddb];}_0x5ba855['matrices']=_0x594357;}});},t2=(_0x235619,_0x44e184,_0xc564df)=>{var _0x57d56b,_0x2997cb,_0x164837;if(!_0x235619['hasOwnProp'+'erty']('nodes')||_0x235619['nodes']['length']===-0x2*-0x83d+0xccd+0x5*-0x5db)return[];const _0x58426d=(_0x57d56b=_0x44e184==null?void(0x1*-0x5e+0x2566*0x1+-0x316*0xc):_0x44e184['node'])==null?void(0x314*0x5+0x3a9+-0x130d):_0x57d56b['preprocess'],_0x2c001a=((_0x2997cb=_0x44e184==null?void(0x1259*0x1+-0xccb+-0x12*0x4f):_0x44e184['node'])==null?void(0x3*0x662+0x21f5*-0x1+0xecf):_0x2997cb['process'])??qD,_0x4149e3=(_0x164837=_0x44e184==null?void(-0x508+-0x9*-0x260+-0x1058):_0x44e184['node'])==null?void(-0x1d*0x3b+0x1733+-0x1*0x1084):_0x164837['postproces'+'s'],_0x54c1fb=_0x235619['nodes']['map']((_0x3a0acf,_0x39ae42)=>{_0x58426d&&_0x58426d(_0x3a0acf);const _0x186951=_0x2c001a(_0x3a0acf,_0x39ae42,_0xc564df);return _0x4149e3&&_0x4149e3(_0x3a0acf,_0x186951),_0x186951;});for(let _0x2eae14=0x26*-0xeb+-0x16*-0x115+-0x58a*-0x2;_0x2eae14<_0x235619['nodes']['length'];++_0x2eae14){const _0x9cbbb=_0x235619['nodes'][_0x2eae14];if(_0x9cbbb['hasOwnProp'+'erty']('children')){const _0x56e560=_0x54c1fb[_0x2eae14],_0x5ba52c={};for(let _0x146d77=0xed0+-0x26c9+0x17f9;_0x146d77<_0x9cbbb['children']['length'];++_0x146d77){const _0x4c92cb=_0x54c1fb[_0x9cbbb['children'][_0x146d77]];_0x4c92cb['parent']||(_0x5ba52c['hasOwnProp'+'erty'](_0x4c92cb['name'])?_0x4c92cb['name']+=_0x5ba52c[_0x4c92cb['name']]++:_0x5ba52c[_0x4c92cb['name']]=-0x1d81+0x17b4+0x5ce,_0x56e560['addChild'](_0x4c92cb));}}}return _0x54c1fb;},s2=(_0x409d9a,_0x418d56)=>{var _0x1eb6f6;const _0xe7a419=[],_0x4d30be=_0x409d9a['scenes']['length'];if(_0x4d30be===-0x2114+-0x1ba7+0x3cbc&&((_0x1eb6f6=_0x409d9a['scenes'][0x2305*0x1+-0x69d*-0x3+0x1b6e*-0x2]['nodes'])==null?void(-0x1b07+-0x854+0x235b):_0x1eb6f6['length'])===-0xc22+0x6ab+-0x19*-0x38){const _0x495d3d=_0x409d9a['scenes'][-0x21ae+0x1907+-0x8a7*-0x1]['nodes'][0xe4+-0x256f*0x1+0x248b];_0xe7a419['push'](_0x418d56[_0x495d3d]);}else for(let _0x5a5413=-0x1c*0x2+0x360*0x8+-0x1ac8;_0x5a5413<_0x4d30be;_0x5a5413++){const _0x3bd8e2=_0x409d9a['scenes'][_0x5a5413];if(_0x3bd8e2['nodes']){const _0x3a50df=new De(_0x3bd8e2['name']);for(let _0x478730=-0x27b*0xf+0x571*-0x7+-0x9e*-0x7a;_0x478730<_0x3bd8e2['nodes']['length'];_0x478730++){const _0x1c9cd3=_0x418d56[_0x3bd8e2['nodes'][_0x478730]];_0x3a50df['addChild'](_0x1c9cd3);}_0xe7a419['push'](_0x3a50df);}}return _0xe7a419;},i2=(_0xdc0e0a,_0x15a6d4,_0x432017)=>{var _0x241f20,_0x3f21fa,_0x159925;let _0x38b5d3=null;if(_0xdc0e0a['hasOwnProp'+'erty']('nodes')&&_0xdc0e0a['hasOwnProp'+'erty']('cameras')&&_0xdc0e0a['cameras']['length']>0x12df+0x1*-0x232f+0xe8*0x12){const _0x596475=(_0x241f20=_0x432017==null?void(0x21da*-0x1+0x13ed+-0x17*-0x9b):_0x432017['camera'])==null?void(-0x264+0x21b4+0x6*-0x538):_0x241f20['preprocess'],_0x35d264=((_0x3f21fa=_0x432017==null?void(-0x1bef+0x30*0x8b+-0x1df*-0x1):_0x432017['camera'])==null?void(0x17a1+0x8c1*0x1+-0x2062):_0x3f21fa['process'])??XD,_0x3e15f2=(_0x159925=_0x432017==null?void(0x1705+0x24a7+-0x3bac):_0x432017['camera'])==null?void(-0x71a+0x1d29+-0x160f):_0x159925['postproces'+'s'];_0xdc0e0a['nodes']['forEach']((_0x4034c8,_0x14690b)=>{if(_0x4034c8['hasOwnProp'+'erty']('camera')){const _0x49ecba=_0xdc0e0a['cameras'][_0x4034c8['camera']];if(_0x49ecba){_0x596475&&_0x596475(_0x49ecba);const _0x1d7c39=_0x35d264(_0x49ecba,_0x15a6d4[_0x14690b]);_0x3e15f2&&_0x3e15f2(_0x49ecba,_0x1d7c39),_0x1d7c39&&(_0x38b5d3||(_0x38b5d3=new Map()),_0x38b5d3['set'](_0x4034c8,_0x1d7c39));}}});}return _0x38b5d3;},r2=(_0x5169f0,_0x294f3a,_0x70060)=>{var _0x5dfe78,_0xe14eac,_0x36ec6e;let _0x5a0e85=null;if(_0x5169f0['hasOwnProp'+'erty']('nodes')&&_0x5169f0['hasOwnProp'+'erty']('extensions')&&_0x5169f0['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x5169f0['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x1e48b6=_0x5169f0['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x1e48b6['length']){const _0x3edc00=(_0x5dfe78=_0x70060==null?void(-0x1*-0x25a9+-0xd2b+0x82a*-0x3):_0x70060['light'])==null?void(-0x1cda+-0x144d+-0x1*-0x3127):_0x5dfe78['preprocess'],_0x122390=((_0xe14eac=_0x70060==null?void(0x5b9*-0x2+0x1*0x701+0x471):_0x70060['light'])==null?void(-0x31*0x53+-0x1*-0x1de3+-0xe00):_0xe14eac['process'])??jD,_0x1c4af9=(_0x36ec6e=_0x70060==null?void(0x1567*-0x1+0xb*-0x67+0x19d4):_0x70060['light'])==null?void(0x1*-0xa6c+0x1299+-0x82d):_0x36ec6e['postproces'+'s'];_0x5169f0['nodes']['forEach']((_0x816734,_0x1871d1)=>{if(_0x816734['hasOwnProp'+'erty']('extensions')&&_0x816734['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x816734['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x419194=_0x816734['extensions']['KHR_lights'+'_punctual']['light'],_0x440216=_0x1e48b6[_0x419194];if(_0x440216){_0x3edc00&&_0x3edc00(_0x440216);const _0x20330a=_0x122390(_0x440216,_0x294f3a[_0x1871d1]);_0x1c4af9&&_0x1c4af9(_0x440216,_0x20330a),_0x20330a&&(_0x5a0e85||(_0x5a0e85=new Map()),_0x5a0e85['set'](_0x816734,_0x20330a));}}});}}return _0x5a0e85;},n2=(_0x1eb93f,_0x3d7efe,_0x186a23)=>{_0x1eb93f['nodes']['forEach'](_0x4e356d=>{_0x4e356d['hasOwnProp'+'erty']('mesh')&&_0x4e356d['hasOwnProp'+'erty']('skin')&&_0x3d7efe[_0x4e356d['mesh']]['meshes']['forEach'](_0x24961c=>{_0x24961c['skin']=_0x186a23[_0x4e356d['skin']];});});},a2=async(_0x5ddc69,_0x35bf7d,_0x3a6356,_0x5bd1a6,_0xfcbe5a)=>{var _0x5dbd38,_0x20bbbf;const _0x57e0dc=(_0x5dbd38=_0xfcbe5a==null?void(-0x1*-0x1e82+0x2531*0x1+-0x43b3):_0xfcbe5a['global'])==null?void(-0x221d+0x73f+0x1ade):_0x5dbd38['preprocess'],_0x34c38=(_0x20bbbf=_0xfcbe5a==null?void(0x1e3d+0x21a*-0x10+-0x1*-0x363):_0xfcbe5a['global'])==null?void(-0xf2+-0x1e4a+0x1f3c):_0x20bbbf['postproces'+'s'];_0x57e0dc&&_0x57e0dc(_0x35bf7d),_0x35bf7d['asset']&&_0x35bf7d['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x3e86b9=new Map(),_0x409dfb=t2(_0x35bf7d,_0xfcbe5a,_0x3e86b9),_0x31bb83=s2(_0x35bf7d,_0x409dfb),_0x3db74c=r2(_0x35bf7d,_0x409dfb,_0xfcbe5a),_0xfb6439=i2(_0x35bf7d,_0x409dfb,_0xfcbe5a),_0x38c314=QD(_0x35bf7d),_0x3c6fc6=await Promise['all'](_0x3a6356),{meshes:_0x3f4894,meshVariants:_0x31b4b8,meshDefaultMaterials:_0x3ddbe1,promises:_0x2725e2}=KD(_0x5ddc69,_0x35bf7d,_0x3c6fc6,_0xfcbe5a),_0x59aba5=JD(_0x35bf7d,_0x409dfb,_0x3c6fc6,_0xfcbe5a);e2(_0x5ddc69,_0x35bf7d,_0x3e86b9,_0x3c6fc6);const _0x10770a=await Promise['all'](_0x5bd1a6),_0x12b835=_0x10770a['map'](_0x2e5099=>_0x2e5099['resource']),_0x45aef6=ZD(_0x35bf7d,_0x12b835,_0xfcbe5a),_0x3e1bce=YD(_0x5ddc69,_0x35bf7d,_0x409dfb,_0x3c6fc6),_0x5a4bf4=[];for(let _0x5493e2=0x1c89+0x43*-0x3+-0x1bc0;_0x5493e2<_0x3f4894['length'];_0x5493e2++)_0x5a4bf4[_0x5493e2]=new Wp(),_0x5a4bf4[_0x5493e2]['meshes']=_0x3f4894[_0x5493e2];n2(_0x35bf7d,_0x5a4bf4,_0x3e1bce);const _0x134d07=new SD();return _0x134d07['gltf']=_0x35bf7d,_0x134d07['nodes']=_0x409dfb,_0x134d07['scenes']=_0x31bb83,_0x134d07['animations']=_0x59aba5,_0x134d07['textures']=_0x10770a,_0x134d07['materials']=_0x45aef6,_0x134d07['variants']=_0x38c314,_0x134d07['meshVarian'+'ts']=_0x31b4b8,_0x134d07['meshDefaul'+'tMaterials']=_0x3ddbe1,_0x134d07['renders']=_0x5a4bf4,_0x134d07['skins']=_0x3e1bce,_0x134d07['lights']=_0x3db74c,_0x134d07['cameras']=_0xfb6439,_0x134d07['nodeInstan'+'cingMap']=_0x3e86b9,_0x34c38&&_0x34c38(_0x35bf7d,_0x134d07),await Promise['all'](_0x2725e2),_0x134d07;},o2=(_0xbda5e6,_0x2009b5)=>{const _0x216e32=(_0x4253be,_0xaedba2)=>{switch(_0x4253be){case 0x3914+0x2f*0xd6+0x3e*-0xf1:return de;case-0x3a*-0xc7+-0x231a+0x1c05:return tt;case 0x4579*-0x1+-0xdd0+0x7a49:return pc;case 0x12*-0x301+0x62*-0xad+0xd*0xc41:return _c;case-0x245b*-0x1+-0x1*-0x3517+0xc*-0x434:return mc;case-0xcc5*-0x1+0x3bd+0x1681:return nn;default:return _0xaedba2;}},_0x489178=(_0x3bac1d,_0x336f02)=>{switch(_0x3bac1d){case-0x11e*0x2b+0x39f*0x2f+0x708:return ne;case 0xc754+-0x10650+0xc26c:return Of;case-0x1*-0x38c5+0x18ac+-0x287*0x10:return et;default:return _0x336f02;}};_0xbda5e6&&(_0x2009b5=_0x2009b5??{},_0xbda5e6['minFilter']=_0x216e32(_0x2009b5['minFilter'],nn),_0xbda5e6['magFilter']=_0x216e32(_0x2009b5['magFilter'],tt),_0xbda5e6['addressU']=_0x489178(_0x2009b5['wrapS'],et),_0xbda5e6['addressV']=_0x489178(_0x2009b5['wrapT'],et));};let l2=-0x2*-0xdaf+0x1f3d+-0x3a9b;const bf=_0x396995=>{var _0xebca8c,_0x55ab60,_0x1601a1,_0x150b28;return((_0x55ab60=(_0xebca8c=_0x396995['extensions'])==null?void(0x1*0x1141+0x83*-0xb+0x20*-0x5d):_0xebca8c['KHR_textur'+'e_basisu'])==null?void(-0x6*0x191+-0x129d+0x1c03):_0x55ab60['source'])??((_0x150b28=(_0x1601a1=_0x396995['extensions'])==null?void(-0x110*-0x8+-0x16ef*0x1+0xe6f):_0x1601a1['EXT_textur'+'e_webp'])==null?void(-0x383*-0x9+-0x101f+-0xf7c):_0x150b28['source'])??_0x396995['source'];},h2=(_0x34783e,_0xf655a4,_0x2f8904,_0x2872a8,_0x2297b5)=>{var _0x2b0af6,_0x2c326d,_0x286010;if(!_0x34783e['images']||_0x34783e['images']['length']===-0x1747+0x5c*0x13+-0x1073*-0x1)return[];const _0x282dfb=(_0x2b0af6=_0x2297b5==null?void(-0x1*-0x608+0x260b*-0x1+-0x667*-0x5):_0x2297b5['image'])==null?void(-0x1272+0x229e+-0x102c*0x1):_0x2b0af6['preprocess'],_0x4e0c98=(_0x2c326d=_0x2297b5==null?void(-0x2*-0x6be+0x2281+-0x2ffd):_0x2297b5['image'])==null?void(-0xd*0x8d+-0xb62+0x128b):_0x2c326d['processAsy'+'nc'],_0x35ddf4=(_0x286010=_0x2297b5==null?void(0x1*0x1225+-0x6fd*0x3+0x2d2):_0x2297b5['image'])==null?void(-0x219*-0x2+0x25*0x16+0x1*-0x760):_0x286010['postproces'+'s'],_0x3869a={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x25227a=_0x19d7de=>{const _0x25cb7c=new Set();return _0x19d7de['hasOwnProp'+'erty']('materials')&&_0x19d7de['materials']['forEach'](_0x162e29=>{if(_0x162e29['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x37e44a=_0x162e29['pbrMetalli'+'cRoughness'];if(_0x37e44a['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x41f6cf=_0x19d7de['textures'][_0x37e44a['baseColorT'+'exture']['index']];_0x25cb7c['add'](bf(_0x41f6cf));}}if(_0x162e29['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x1626c8=_0x19d7de['textures'][_0x162e29['emissiveTe'+'xture']['index']];_0x25cb7c['add'](bf(_0x1626c8));}}),_0x25cb7c;},_0x5451fd=(_0x133158,_0x22eeb2,_0x41082a,_0x368ab1,_0x4ee673,_0x54c64c)=>new Promise((_0x3bbd56,_0x342267)=>{const _0x2ebf68=_0x1a3da4=>{const _0x3d6681=(_0x133158['name']||'gltf-textu'+'re')+'-'+l2++,_0x383ebe={'url':_0x22eeb2||_0x3d6681};if(_0x1a3da4&&(_0x383ebe['contents']=_0x1a3da4['slice'](0x25*0x19+0x31*0xb1+-0x257e)['buffer']),_0x368ab1){const _0x53dba9=_0x3869a[_0x368ab1];_0x53dba9&&(_0x383ebe['filename']=_0x383ebe['url']+'.'+_0x53dba9);}const _0x30a5f0={'srgb':_0x54c64c},_0x3102f7=new le(_0x3d6681,'texture',_0x383ebe,_0x30a5f0,_0x4ee673);_0x3102f7['on']('load',_0x94ced4=>_0x3bbd56(_0x94ced4)),_0x3102f7['on']('error',_0x45d671=>_0x342267(_0x45d671)),_0x2872a8['add'](_0x3102f7),_0x2872a8['load'](_0x3102f7);};_0x41082a?_0x41082a['then'](_0x4680ea=>_0x2ebf68(_0x4680ea)):_0x2ebf68(null);}),_0x570477=_0x25227a(_0x34783e);return _0x34783e['images']['map']((_0x291b6b,_0x10d5f3)=>{_0x282dfb&&_0x282dfb(_0x291b6b);let _0x2eee57;return _0x4e0c98?_0x2eee57=new Promise((_0x5635f6,_0xf83724)=>{_0x4e0c98(_0x291b6b,(_0x369572,_0x2957e0)=>{_0x369572?_0xf83724(_0x369572):_0x5635f6(_0x2957e0);});}):_0x2eee57=new Promise(_0x31019e=>{_0x31019e(null);}),_0x2eee57=_0x2eee57['then'](_0x242ce1=>{const _0x1c936b=_0x570477['has'](_0x10d5f3);return _0x242ce1||(_0x291b6b['hasOwnProp'+'erty']('uri')?Rx(_0x291b6b['uri'])?_0x5451fd(_0x291b6b,_0x291b6b['uri'],null,vD(_0x291b6b['uri']),null,_0x1c936b):_0x5451fd(_0x291b6b,La['test'](_0x291b6b['uri'])?_0x291b6b['uri']:fe['join'](_0x2f8904,_0x291b6b['uri']),null,null,{'crossOrigin':'anonymous'},_0x1c936b):_0x291b6b['hasOwnProp'+'erty']('bufferView')&&_0x291b6b['hasOwnProp'+'erty']('mimeType')?_0x5451fd(_0x291b6b,null,_0xf655a4[_0x291b6b['bufferView']],_0x291b6b['mimeType'],null,_0x1c936b):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x10d5f3)));}),_0x35ddf4&&(_0x2eee57=_0x2eee57['then'](_0x233aa8=>(_0x35ddf4(_0x291b6b,_0x233aa8),_0x233aa8))),_0x2eee57;});},c2=(_0x405f59,_0x1c3f34,_0x3dedf0)=>{var _0x546e26,_0x42bf4d,_0x27210e,_0x34b65b,_0xfe8110;if(!((_0x546e26=_0x405f59==null?void(0x4*0x96c+-0x263f*-0x1+-0x4bef):_0x405f59['images'])!=null&&_0x546e26['length'])||!((_0x42bf4d=_0x405f59==null?void(0x562+0xd6+-0x2*0x31c):_0x405f59['textures'])!=null&&_0x42bf4d['length']))return[];const _0x3e04c6=(_0x27210e=_0x3dedf0==null?void(0x1692+0x1ac+-0x3a*0x6b):_0x3dedf0['texture'])==null?void(0x1211+-0x56e*0x4+0xbb*0x5):_0x27210e['preprocess'],_0x191d09=(_0x34b65b=_0x3dedf0==null?void(0x569+-0x23f*0x9+-0x2*-0x767):_0x3dedf0['texture'])==null?void(-0x22bc+0xc34+-0x38*-0x67):_0x34b65b['processAsy'+'nc'],_0x20ae2b=(_0xfe8110=_0x3dedf0==null?void(0x2f*0x4+-0x19*-0x1f+-0x3*0x141):_0x3dedf0['texture'])==null?void(0x6c5*0x1+0x23e2+-0x2aa7):_0xfe8110['postproces'+'s'],_0x3b1633=new Set();return _0x405f59['textures']['map'](_0x3b60b8=>{_0x3e04c6&&_0x3e04c6(_0x3b60b8);let _0x2e05f2;return _0x191d09?_0x2e05f2=new Promise((_0x4fd35d,_0x5079b1)=>{_0x191d09(_0x3b60b8,_0x405f59['images'],(_0x1f6935,_0x1b225d)=>{_0x1f6935?_0x5079b1(_0x1f6935):_0x4fd35d(_0x1b225d);});}):_0x2e05f2=new Promise(_0x3bedef=>{_0x3bedef(null);}),_0x2e05f2=_0x2e05f2['then'](_0x8f1d5f=>{_0x8f1d5f=_0x8f1d5f??bf(_0x3b60b8);const _0x45831c=_0x3b1633['has'](_0x8f1d5f);return _0x3b1633['add'](_0x8f1d5f),_0x1c3f34[_0x8f1d5f]['then'](_0x2316f6=>{const _0x37ff45=_0x45831c?MD(_0x2316f6):_0x2316f6;return o2(_0x37ff45['resource'],(_0x405f59['samplers']??[])[_0x3b60b8['sampler']]),_0x37ff45;});}),_0x20ae2b&&(_0x2e05f2=_0x2e05f2['then'](_0x5edc02=>(_0x20ae2b(_0x3b60b8,_0x5edc02),_0x5edc02))),_0x2e05f2;});},d2=(_0x364858,_0x196bbb,_0x3b24fa,_0x1964a6)=>{var _0x2dedcb,_0x3bfa5a,_0x39a6eb;if(!_0x364858['buffers']||_0x364858['buffers']['length']===0x1*-0x4a7+-0x17ea*0x1+-0x47*-0x67)return[];const _0x4df67e=(_0x2dedcb=_0x1964a6==null?void(0x1ec8+-0x506+-0x896*0x3):_0x1964a6['buffer'])==null?void(0x3*-0x6fd+0x4ba+0x103d):_0x2dedcb['preprocess'],_0x38d488=(_0x3bfa5a=_0x1964a6==null?void(-0x571+-0x1309+0x187a):_0x1964a6['buffer'])==null?void(0x12*0x1ca+0x408+0xc*-0x305):_0x3bfa5a['processAsy'+'nc'],_0x55e731=(_0x39a6eb=_0x1964a6==null?void(-0x1c5*-0x6+0x1835+-0x22d3):_0x1964a6['buffer'])==null?void(0x1487+-0x2*0x89+-0x1375):_0x39a6eb['postproces'+'s'];return _0x364858['buffers']['map']((_0x34d17e,_0x4e659b)=>{_0x4df67e&&_0x4df67e(_0x34d17e);let _0x1dc01f;return _0x38d488?_0x1dc01f=new Promise((_0x10ca2b,_0x3afd77)=>{_0x38d488(_0x34d17e,(_0x565533,_0x3ddfdb)=>{_0x565533?_0x3afd77(_0x565533):_0x10ca2b(_0x3ddfdb);});}):_0x1dc01f=new Promise(_0x49c441=>{_0x49c441(null);}),_0x1dc01f=_0x1dc01f['then'](_0x1eb56b=>{if(_0x1eb56b)return _0x1eb56b;if(_0x34d17e['hasOwnProp'+'erty']('uri')){if(Rx(_0x34d17e['uri'])){const _0x5c62ea=atob(_0x34d17e['uri']['split'](',')[-0x1603+0x2b6*0x1+0x134e]),_0xe97ea8=new Uint8Array(_0x5c62ea['length']);for(let _0x172d48=0x3*-0xcf9+-0x2384+0xb9*0x67;_0x172d48<_0x5c62ea['length'];_0x172d48++)_0xe97ea8[_0x172d48]=_0x5c62ea['charCodeAt'](_0x172d48);return _0xe97ea8;}return new Promise((_0x42719a,_0x3f57d6)=>{$e['get'](La['test'](_0x34d17e['uri'])?_0x34d17e['uri']:fe['join'](_0x3b24fa,_0x34d17e['uri']),{'cache':!(0x1cf0+0x21*0x8b+0x2edb*-0x1),'responseType':'arraybuffe'+'r','retry':!(-0xc*0x155+-0x6a*0x6+0x1*0x1279)},(_0x3a1666,_0x4d8e93)=>{_0x3a1666?_0x3f57d6(_0x3a1666):_0x42719a(new Uint8Array(_0x4d8e93));});});}return _0x196bbb;}),_0x55e731&&(_0x1dc01f=_0x1dc01f['then'](_0x28292f=>(_0x55e731(_0x364858['buffers'][_0x4e659b],_0x28292f),_0x28292f))),_0x1dc01f;});},u2=(_0x2eef40,_0x12cff0)=>{const _0x114829=JSON['parse']((_0x1455d8=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x1455d8);let _0x542925='';for(let _0x490aaf=0x9*0x26+0x268a+0x4*-0x9f8;_0x490aaf<_0x1455d8['length'];_0x490aaf++)_0x542925+=String['fromCharCo'+'de'](_0x1455d8[_0x490aaf]);return decodeURIComponent(escape(_0x542925));})(_0x2eef40));if(_0x114829['asset']&&_0x114829['asset']['version']&&parseFloat(_0x114829['asset']['version'])<-0x2649+0x1789+-0x1*-0xec2){_0x12cff0('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x114829['asset']['version']+'\x27.');return;}_0x12cff0(null,_0x114829);},f2=(_0x51378d,_0xeea504)=>{const _0x563bc7=_0x51378d instanceof ArrayBuffer?new DataView(_0x51378d):new DataView(_0x51378d['buffer'],_0x51378d['byteOffset'],_0x51378d['byteLength']),_0x2d473c=_0x563bc7['getUint32'](0x25e4+0x3c*0x8f+-0x4768,!(-0x108a+0x1*-0x9bb+0x1a45)),_0x2daa8c=_0x563bc7['getUint32'](0x9e1*0x3+-0x2cf*0x4+0x1263*-0x1,!(-0xac1*0x1+-0x1445*0x1+-0x1a2*-0x13)),_0x2f9f1d=_0x563bc7['getUint32'](0x1*-0x24a6+0x241*0x1+0x4eb*0x7,!(0x5*-0x5c9+0x191*-0x5+0x5*0x75a));if(_0x2d473c!==0x1e8d9ef*0x17+-0x79543b5*-0x1+0x755*0x29155){_0xeea504('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x2d473c['toString'](-0x1019*0x1+-0xbab*0x1+0x4*0x6f5));return;}if(_0x2daa8c!==0x1*0x1576+-0x5*-0x257+-0x17*0x171){_0xeea504('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x2daa8c);return;}if(_0x2f9f1d<=-0x191a+0x41*-0x76+0x3710*0x1||_0x2f9f1d>_0x563bc7['byteLength']){_0xeea504('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x2f9f1d);return;}const _0x566f22=[];let _0x310632=0x7b1+-0x1961+0x11bc;for(;_0x310632<_0x2f9f1d;){const _0x2ac143=_0x563bc7['getUint32'](_0x310632,!(0x341+-0x51*-0x59+-0x1f6a*0x1));_0x310632+_0x2ac143+(0x1621+0x1*0x12eb+-0x2904)>_0x563bc7['byteLength']&&_0xeea504('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x2ac143);const _0x4bb6d1=_0x563bc7['getUint32'](_0x310632+(0x1*0xfb3+0x17c1+-0x2770),!(0xb0d*0x3+0x1aa+-0x22d1)),_0x5c4465=new Uint8Array(_0x563bc7['buffer'],_0x563bc7['byteOffset']+_0x310632+(-0x8df*0x4+0x3f+0x2345),_0x2ac143);_0x566f22['push']({'length':_0x2ac143,'type':_0x4bb6d1,'data':_0x5c4465}),_0x310632+=_0x2ac143+(-0xc9*-0x6+-0x1d6f+0x18c1);}if(_0x566f22['length']!==0x1*0x214e+0x15e4+-0x3731&&_0x566f22['length']!==-0x14f*-0x17+-0x269a+-0x883*-0x1){_0xeea504('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x566f22[0xb0a+-0xeb8*0x2+0x1266]['type']!==0x51241439*-0x1+-0x3f0144d0+-0x7*-0x1fc78655){_0xeea504('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x566f22[-0x6aa+-0x1c1e*0x1+0x22c8]['type']['toString'](-0x8*0x2eb+-0x1bcd+0x3335));return;}if(_0x566f22['length']>-0x25b2+-0x251e*0x1+0x4ad1&&_0x566f22[0x1c54+-0x1*-0x18a7+-0x34fa]['type']!==0x19da3*0x29+0x1*0x976979+-0x8b5f52){_0xeea504('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x566f22[-0x15cf+0x293+0x133d]['type']['toString'](-0x1209+0xce*0x4+0x125*0xd));return;}_0xeea504(null,{'gltfChunk':_0x566f22[0xd4a*-0x2+0x5ef+-0x14a5*-0x1]['data'],'binaryChunk':_0x566f22['length']===-0x1*0x25a8+0xd88*0x2+0xa9a?_0x566f22[0x1a86*0x1+-0x24a5+0xa20]['data']:null});},p2=(_0x49840e,_0x4f0cdd,_0x10c8af)=>{const _0x3032f7=()=>{const _0x48e5d2=new Uint8Array(_0x4f0cdd);return _0x48e5d2[0x2437+-0x1*0xa47+0xa6*-0x28]===0x125*-0x1d+-0x1ef8+0x1024*0x4&&_0x48e5d2[-0x14*-0x7f+0x33*0x65+-0x1e0a]===0x1f6a+0xb5a+-0x21e*0x14&&_0x48e5d2[0x1abc+0x1e0f+-0x38c9]===-0xdeb*0x1+0x9e6+0x459&&_0x48e5d2[-0xd2e+-0x29*0x1d+-0x11d6*-0x1]===0xadc+0x1f3d+-0x3*0xdf1;};_0x49840e&&_0x49840e['toLowerCas'+'e']()['endsWith']('.glb')||_0x3032f7()?f2(_0x4f0cdd,_0x10c8af):_0x10c8af(null,{'gltfChunk':_0x4f0cdd,'binaryChunk':null});},m2=(_0x3993a0,_0x1a2928,_0x4e6f90)=>{var _0x2a5113,_0x1b3cb0,_0x4aab7e,_0x475407;const _0x445a94=[],_0x5292e0=(_0x2a5113=_0x4e6f90==null?void(-0x1822+-0x6fc+0xf8f*0x2):_0x4e6f90['bufferView'])==null?void(-0xd30+0x9e3*-0x2+0x20f6):_0x2a5113['preprocess'],_0xf9330e=(_0x1b3cb0=_0x4e6f90==null?void(-0x1*0x1e8b+0x1c83+0x208):_0x4e6f90['bufferView'])==null?void(-0x206d+0x1d1b+0x352):_0x1b3cb0['processAsy'+'nc'],_0x4a906e=(_0x4aab7e=_0x4e6f90==null?void(-0x11c0+0x16f1+0x1*-0x531):_0x4e6f90['bufferView'])==null?void(-0x3d*-0xa3+-0x946+-0x1d91):_0x4aab7e['postproces'+'s'];if(!((_0x475407=_0x3993a0['bufferView'+'s'])!=null&&_0x475407['length']))return _0x445a94;for(let _0x173dd2=-0x2250+-0x1d64+-0x153c*-0x3;_0x173dd2<_0x3993a0['bufferView'+'s']['length'];++_0x173dd2){const _0x1cafee=_0x3993a0['bufferView'+'s'][_0x173dd2];_0x5292e0&&_0x5292e0(_0x1cafee);let _0x1de286;_0xf9330e?_0x1de286=new Promise((_0xbed233,_0x36fbe6)=>{_0xf9330e(_0x1cafee,_0x1a2928,(_0x3799ca,_0x33a4e3)=>{_0x3799ca?_0x36fbe6(_0x3799ca):_0xbed233(_0x33a4e3);});}):_0x1de286=new Promise(_0x5d2696=>{_0x5d2696(null);}),_0x1de286=_0x1de286['then'](_0x1ff3c5=>_0x1ff3c5||_0x1a2928[_0x1cafee['buffer']]['then'](_0x13082e=>new Uint8Array(_0x13082e['buffer'],_0x13082e['byteOffset']+(_0x1cafee['byteOffset']||-0x5*-0x35c+-0x166*-0x12+-0x29f8),_0x1cafee['byteLength']))),_0x1cafee['hasOwnProp'+'erty']('byteStride')&&(_0x1de286=_0x1de286['then'](_0x405548=>(_0x405548['byteStride']=_0x1cafee['byteStride'],_0x405548))),_0x4a906e&&(_0x1de286=_0x1de286['then'](_0x4d7a1f=>(_0x4a906e(_0x1cafee,_0x4d7a1f),_0x4d7a1f))),_0x445a94['push'](_0x1de286);}return _0x445a94;};class sc{static['parse'](_0x5e9869,_0x153e3c,_0x32e278,_0x181400,_0x299d93,_0x274ebb,_0x281027){p2(_0x5e9869,_0x32e278,(_0x5cd1f8,_0x58b04d)=>{if(_0x5cd1f8){_0x281027(_0x5cd1f8);return;}u2(_0x58b04d['gltfChunk'],(_0x4621eb,_0x953641)=>{if(_0x4621eb){_0x281027(_0x4621eb);return;}const _0x41b9ff=d2(_0x953641,_0x58b04d['binaryChun'+'k'],_0x153e3c,_0x274ebb),_0x398494=m2(_0x953641,_0x41b9ff,_0x274ebb),_0x361676=h2(_0x953641,_0x398494,_0x153e3c,_0x299d93,_0x274ebb),_0x39eaa5=c2(_0x953641,_0x361676,_0x274ebb);a2(_0x181400,_0x953641,_0x398494,_0x39eaa5,_0x274ebb)['then'](_0x5f2ed6=>_0x281027(null,_0x5f2ed6))['catch'](_0x1e246d=>_0x281027(_0x1e246d));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Be{constructor(_0x24981a){super(_0x24981a,'animation'),this['device']=_0x24981a['graphicsDe'+'vice'],this['assets']=_0x24981a['assets'];}['load'](_0x55a3fe,_0x5d1fe9,_0x24915f){typeof _0x55a3fe=='string'&&(_0x55a3fe={'load':_0x55a3fe,'original':_0x55a3fe});const _0xc1bf5e={'retry':this['maxRetries']>0x1*0x200+-0x469+0x1*0x269,'maxRetries':this['maxRetries']};(_0x55a3fe['load']['startsWith']('blob:')||_0x55a3fe['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x55a3fe['original'])['toLowerCas'+'e']()==='.glb'?_0xc1bf5e['responseTy'+'pe']=cs['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0xc1bf5e['responseTy'+'pe']=cs['ResponseTy'+'pe']['JSON']),$e['get'](_0x55a3fe['load'],_0xc1bf5e,(_0x460e67,_0xc19b44)=>{_0x460e67?_0x5d1fe9('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x55a3fe['original']+'\x20['+_0x460e67+']'):fe['getExtensi'+'on'](_0x55a3fe['original'])['toLowerCas'+'e']()==='.glb'?sc['parse']('filename.g'+'lb','',_0xc19b44,this['device'],this['assets'],(_0x24915f==null?void(-0x2679+-0x279+-0x28f2*-0x1):_0x24915f['options'])??{},(_0x205a29,_0xbda1b4)=>{var _0x1f08c8;if(_0x205a29)_0x5d1fe9(_0x205a29);else{const _0xf5220=_0xbda1b4['animations'];if((_0x1f08c8=_0x24915f==null?void(0x2*-0x135d+-0x1363+0x57*0xab):_0x24915f['data'])!=null&&_0x1f08c8['events']){for(let _0x449c95=-0x10cf*0x1+0x1*-0x878+0x1947;_0x449c95<_0xf5220['length'];_0x449c95++)_0xf5220[_0x449c95]['events']=new Y0(Object['values'](_0x24915f['data']['events']));}_0xbda1b4['destroy'](),_0x5d1fe9(null,_0xf5220);}}):_0x5d1fe9(null,this['_parseAnim'+'ationV'+_0xc19b44['animation']['version']](_0xc19b44));});}['open'](_0x27d234,_0x2733be,_0x2e5941){return _0x2733be;}['_parseAnim'+'ationV3'](_0x3462cf){const _0x3e95d1=_0x3462cf['animation'],_0x432061=new O_();_0x432061['name']=_0x3e95d1['name'],_0x432061['duration']=_0x3e95d1['duration'];for(let _0x1348f0=0x17d4+-0xfda+-0x7fa*0x1;_0x1348f0<_0x3e95d1['nodes']['length'];_0x1348f0++){const _0x453641=new k_(),_0x205205=_0x3e95d1['nodes'][_0x1348f0];_0x453641['_name']=_0x205205['name'];for(let _0x189819=0x1*-0xe33+0x2001+0x2*-0x8e7;_0x189819<_0x205205['keys']['length'];_0x189819++){const _0x391767=_0x205205['keys'][_0x189819],_0x2e929c=_0x391767['time'],_0x24e7d4=_0x391767['pos'],_0x5c477e=_0x391767['rot'],_0x841324=_0x391767['scale'],_0x51a29a=new T(_0x24e7d4[-0x3*0x27d+-0x29b+0x1*0xa12],_0x24e7d4[-0x17+-0x253e+-0x2556*-0x1],_0x24e7d4[0x1a*0x137+-0xbe1+-0x13b3]),_0x52211a=new te()['setFromEul'+'erAngles'](_0x5c477e[0x7f6+0x221b+-0x2a11],_0x5c477e[0x2*0x3b8+0x1a1+-0x910],_0x5c477e[0x1701+-0x56b*-0x2+-0x21d5]),_0x4a00b0=new T(_0x841324[0xc4*-0x10+0x3*0x1ee+0x676],_0x841324[0x77b+0x61c*-0x3+0xada],_0x841324[-0x25ab+0x1958+-0x11f*-0xb]),_0x5b765a=new F_(_0x2e929c,_0x51a29a,_0x52211a,_0x4a00b0);_0x453641['_keys']['push'](_0x5b765a);}_0x432061['addNode'](_0x453641);}return _0x432061;}['_parseAnim'+'ationV4'](_0x3a55c9){const _0x2bf789=_0x3a55c9['animation'],_0x55468e=new O_();_0x55468e['name']=_0x2bf789['name'],_0x55468e['duration']=_0x2bf789['duration'];for(let _0x4b5198=0x1*0x1b71+0x1*0x24b1+-0x4022;_0x4b5198<_0x2bf789['nodes']['length'];_0x4b5198++){const _0x44a7ba=new k_(),_0x2126dc=_0x2bf789['nodes'][_0x4b5198];_0x44a7ba['_name']=_0x2126dc['name'];const _0x574205=_0x2126dc['defaults']['p'],_0xad3efc=_0x2126dc['defaults']['r'],_0x4cccd7=_0x2126dc['defaults']['s'];for(let _0x552208=-0xa92+-0x4*0x5bb+-0x217e*-0x1;_0x552208<_0x2126dc['keys']['length'];_0x552208++){const _0x42afe3=_0x2126dc['keys'][_0x552208],_0x447c42=_0x42afe3['t'],_0x1458a7=_0x574205||_0x42afe3['p'],_0x2f9615=_0xad3efc||_0x42afe3['r'],_0x53ac68=_0x4cccd7||_0x42afe3['s'],_0x1066c7=new T(_0x1458a7[-0x1d*-0xb3+0x2db*0x7+-0x2844],_0x1458a7[-0xebc+-0x2*0x38f+0x15db],_0x1458a7[0x2*-0xe2f+-0x5*0xbb+0x2007]),_0x42ca95=new te()['setFromEul'+'erAngles'](_0x2f9615[-0x1*-0xb19+-0x7f*-0x27+-0x9*0x362],_0x2f9615[-0xe3*-0xf+0x22d8+-0x3024],_0x2f9615[-0xb89+0x22e3+-0x1758]),_0x1137e6=new T(_0x53ac68[-0x1*0x4b1+0x1967*-0x1+0x1e18],_0x53ac68[0x13*0x1fc+-0xb8a+-0x1a29],_0x53ac68[0x2c0*0x1+0x10b1+0x1*-0x136f]),_0x118d5f=new F_(_0x447c42,_0x1066c7,_0x42ca95,_0x1137e6);_0x44a7ba['_keys']['push'](_0x118d5f);}_0x55468e['addNode'](_0x44a7ba);}return _0x55468e;}}class g2 extends Be{constructor(_0x3372c6){super(_0x3372c6,'animclip');}['load'](_0x65fd66,_0x5414c2){typeof _0x65fd66=='string'&&(_0x65fd66={'load':_0x65fd66,'original':_0x65fd66});const _0x7f8b86={'retry':this['maxRetries']>0x144a+0x1ba8+-0x143*0x26,'maxRetries':this['maxRetries']};_0x65fd66['load']['startsWith']('blob:')&&(_0x7f8b86['responseTy'+'pe']=cs['ResponseTy'+'pe']['JSON']),$e['get'](_0x65fd66['load'],_0x7f8b86,(_0x30bc40,_0x27b4db)=>{_0x30bc40?_0x5414c2('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x65fd66['original']+'\x20['+_0x30bc40+']'):_0x5414c2(null,_0x27b4db);});}['open'](_0x40ec97,_0x2ba250){const _0x2d4792=_0x2ba250['name'],_0x185209=_0x2ba250['duration'],_0x140c47=_0x2ba250['inputs']['map'](_0x33da3b=>new ec(0x17c9+-0x77*0x33+-0x13,_0x33da3b)),_0x2cba94=_0x2ba250['outputs']['map'](_0x160222=>new ec(_0x160222['components'],_0x160222['data'])),_0x422a21=_0x2ba250['curves']['map'](_0x3a681d=>new Px([_0x3a681d['path']],_0x3a681d['inputIndex'],_0x3a681d['outputInde'+'x'],_0x3a681d['interpolat'+'ion']));return new Di(_0x2d4792,_0x185209,_0x140c47,_0x2cba94,_0x422a21);}}class y2 extends Be{constructor(_0x4316c2){super(_0x4316c2,'animstateg'+'raph');}['load'](_0x3396ac,_0x57b302){typeof _0x3396ac=='string'&&(_0x3396ac={'load':_0x3396ac,'original':_0x3396ac});const _0x4cd9f0={'retry':this['maxRetries']>-0x1379+0x6fa*0x3+-0x175,'maxRetries':this['maxRetries']};_0x3396ac['load']['startsWith']('blob:')&&(_0x4cd9f0['responseTy'+'pe']=cs['ResponseTy'+'pe']['JSON']),$e['get'](_0x3396ac['load'],_0x4cd9f0,(_0x3437d3,_0x52aea5)=>{_0x3437d3?_0x57b302('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x3396ac['original']+'\x20['+_0x3437d3+']'):_0x57b302(null,_0x52aea5);});}['open'](_0x32beea,_0x361b7d){return new _h(_0x361b7d);}}const Jd=(function(){if(typeof window>'u')return!(0x11b+0x3a*-0xa3+0x23d4);const _0x5a6655=window['navigator']['userAgent'],_0x5ec50b=_0x5a6655['indexOf']('MSIE\x20');if(_0x5ec50b>0x1224+0x2369+-0x1*0x358d)return parseInt(_0x5a6655['substring'](_0x5ec50b+(0x1*-0x12b9+0x1e2f+-0xb71),_0x5a6655['indexOf']('.',_0x5ec50b)),0xd9*0x1+-0x1c21+0x1b52*0x1);if(_0x5a6655['indexOf']('Trident/')>-0x1*0x1de0+0x18d6+0x50a){const _0xb23810=_0x5a6655['indexOf']('rv:');return parseInt(_0x5a6655['substring'](_0xb23810+(0x21b9+-0x501*0x3+-0x12b3),_0x5a6655['indexOf']('.',_0xb23810)),-0x2b3*0xd+-0x2640+-0xdd*-0x55);}return!(0x2*-0x2ae+0x25e6+-0x2089*0x1);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Be{constructor(_0x5c2c43){super(_0x5c2c43,'audio'),this['manager']=_0x5c2c43['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x42d333){const _0x5dc281=fe['getExtensi'+'on'](_0x42d333);return x2['indexOf'](_0x5dc281)>-(0xb07*-0x1+0x1*-0xdf+0xbe7)||_0x42d333['startsWith']('blob:');}['load'](_0xc4ef8a,_0x46824c){typeof _0xc4ef8a=='string'&&(_0xc4ef8a={'load':_0xc4ef8a,'original':_0xc4ef8a});const _0x50f683=function(_0x45f0f0){_0x46824c(null,new Bb(_0x45f0f0));},_0x8cee55=function(_0x475673){let _0x19ee9a='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0xc4ef8a['original'];_0x475673&&(_0x19ee9a+=':\x20'+(_0x475673['message']||_0x475673)),console['warn'](_0x19ee9a),_0x46824c(_0x19ee9a);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0xc4ef8a['original'])){_0x8cee55('Audio\x20form'+'at\x20for\x20'+_0xc4ef8a['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0xc4ef8a['load'],_0x50f683,_0x8cee55);}else _0x8cee55(null);}['_createSou'+'nd'](_0x5192e6,_0x15d22a,_0x1dfd6a){if(ki()){const _0x572f11=this['manager'];if(!_0x572f11['context']){_0x1dfd6a('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x26eb77={'retry':this['maxRetries']>-0x10c2+0x2dc+0xde6,'maxRetries':this['maxRetries']};(_0x5192e6['startsWith']('blob:')||_0x5192e6['startsWith']('data:'))&&(_0x26eb77['responseTy'+'pe']=cs['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x5192e6,_0x26eb77,(_0x1dbb0b,_0x1d6db3)=>{if(_0x1dbb0b){_0x1dfd6a(_0x1dbb0b);return;}_0x572f11['context']['decodeAudi'+'oData'](_0x1d6db3,_0x15d22a,_0x1dfd6a);});}else{let _0x1fc890=null;try{_0x1fc890=new Audio();}catch{_0x1dfd6a('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Jd&&document['body']['appendChil'+'d'](_0x1fc890);const _0x1fef70=function(){_0x1fc890['removeEven'+'tListener']('canplaythr'+'ough',_0x1fef70),Jd&&document['body']['removeChil'+'d'](_0x1fc890),_0x15d22a(_0x1fc890);};_0x1fc890['onerror']=function(){_0x1fc890['onerror']=null,Jd&&document['body']['removeChil'+'d'](_0x1fc890),_0x1dfd6a();},_0x1fc890['addEventLi'+'stener']('canplaythr'+'ough',_0x1fef70),_0x1fc890['src']=_0x5192e6;}}}class v2 extends Be{constructor(_0xe2214a){super(_0xe2214a,'binary');}['load'](_0x24a31b,_0x5ed501){typeof _0x24a31b=='string'&&(_0x24a31b={'load':_0x24a31b,'original':_0x24a31b}),$e['get'](_0x24a31b['load'],{'responseType':cs['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0xe98+-0x2*0x12bd+-0x3a*-0x65,'maxRetries':this['maxRetries']},(_0x1cfc6c,_0x230e1c)=>{_0x1cfc6c?_0x5ed501('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x24a31b['original']+'\x20['+_0x1cfc6c+']'):_0x5ed501(null,_0x230e1c);});}['openBinary'](_0x22c54f){return _0x22c54f['buffer'];}}class sr{constructor(_0x68195,_0x26e4a2,_0x2c76ef,_0xab830d){const _0xda4ea4=function(_0x2f3fdf,_0x3065ed,_0x30f8d4){const _0xff71ac=sr['createAsse'+'t'](_0x26e4a2['name'],_0x2f3fdf,_0x3065ed,_0x30f8d4);return _0x2c76ef['add'](_0xff71ac),_0xff71ac;},_0x73da41=[];for(let _0x2283dd=0x2212+-0xf40+-0x1b6*0xb;_0x2283dd<_0x68195['renders']['length'];++_0x2283dd)_0x73da41['push'](_0xda4ea4('render',_0x68195['renders'][_0x2283dd],_0x2283dd));const _0x254e16=[];for(let _0x1a4198=-0x3b*0x1+0x851*0x1+-0xe6*0x9;_0x1a4198<_0x68195['materials']['length'];++_0x1a4198)_0x254e16['push'](_0xda4ea4('material',_0x68195['materials'][_0x1a4198],_0x1a4198));const _0x177c8a=[];for(let _0x4b3fb2=-0x1354+0x1cd5+-0x981*0x1;_0x4b3fb2<_0x68195['animations']['length'];++_0x4b3fb2)_0x177c8a['push'](_0xda4ea4('animation',_0x68195['animations'][_0x4b3fb2],_0x4b3fb2));this['data']=_0x68195,this['_model']=null,this['_assetName']=_0x26e4a2['name'],this['_assets']=_0x2c76ef,this['_defaultMa'+'terial']=_0xab830d,this['renders']=_0x73da41,this['materials']=_0x254e16,this['textures']=_0x68195['textures'],this['animations']=_0x177c8a;}get['model'](){if(!this['_model']){const _0x95cfde=sr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x137d46=sr['createAsse'+'t'](this['_assetName'],'model',_0x95cfde,0x1555+0x281*0x2+-0x1a57);this['_assets']['add'](_0x137d46),this['_model']=_0x137d46;}return this['_model'];}static['createAsse'+'t'](_0xe8ebb6,_0x4ecf6d,_0x493db5,_0x421ef8){const _0x570b0c=new le(_0xe8ebb6+'/'+_0x4ecf6d+'/'+_0x421ef8,_0x4ecf6d,{'url':''});return _0x570b0c['resource']=_0x493db5,_0x570b0c['loaded']=!(-0xc25+0xbe7+0x3e),_0x570b0c;}['instantiat'+'eModelEnti'+'ty'](_0x57b24a){const _0x4449e3=new We();return _0x4449e3['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x57b24a)),_0x4449e3;}['instantiat'+'eRenderEnt'+'ity'](_0x4132de){const _0x4581d6=this['_defaultMa'+'terial'],_0x39103e=[],_0x39b632=function(_0x528071,_0x30609f,_0x276255,_0x267020,_0x37ebf8,_0x53367d,_0x45058c,_0x5a5f87){const _0x29b062=_0x37ebf8[_0x276255['id']],_0x2fd1f9=_0x29b062===void(0x1b89+-0xe89+-0xd00)?_0x4581d6:_0x267020[_0x29b062],_0x100221=new Le(_0x276255,_0x2fd1f9);_0x276255['morph']&&(_0x100221['morphInsta'+'nce']=new pn(_0x276255['morph'])),_0x45058c['hasOwnProp'+'erty']('skin')&&_0x39103e['push']({'meshInstance':_0x100221,'rootBone':_0x528071,'entity':_0x30609f});const _0xc1c64e=_0x5a5f87['get'](_0x45058c);if(_0xc1c64e){const _0x41234d=_0xc1c64e['matrices'],_0x73c228=Mt['getDefault'+'Instancing'+'Format'](_0x276255['device']),_0x2cb19d=new hs(_0x276255['device'],_0x73c228,_0x41234d['length']/(-0x4*0x667+0x24b4+-0xb08*0x1),{'data':_0x41234d});_0x100221['setInstanc'+'ing'](_0x2cb19d),_0x100221['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x35*-0x97+-0x253b+-0x447e*-0x1);}return _0x100221;},_0x503f41=(_0x1ced52,_0x561d73,_0x3de4e8)=>{const _0x2f77a8=new We();_0x561d73['_cloneInte'+'rnal'](_0x2f77a8),_0x1ced52||(_0x1ced52=_0x2f77a8);let _0x2e0b7b=null,_0x12c205=null;for(let _0x2165d3=-0x858+0xbf+0x799;_0x2165d3<_0x3de4e8['nodes']['length'];_0x2165d3++)if(_0x3de4e8['nodes'][_0x2165d3]===_0x561d73){const _0x18cea3=_0x3de4e8['gltf']['nodes'][_0x2165d3];if(_0x18cea3['hasOwnProp'+'erty']('mesh')){const _0x204ac7=_0x3de4e8['renders'][_0x18cea3['mesh']]['meshes'];_0x12c205=this['renders'][_0x18cea3['mesh']];for(let _0x121a6d=-0xfee+0xe60+0x2*0xc7;_0x121a6d<_0x204ac7['length'];_0x121a6d++){const _0x57bdb9=_0x204ac7[_0x121a6d];if(_0x57bdb9){const _0x44a032=_0x39b632(_0x1ced52,_0x2f77a8,_0x57bdb9,_0x3de4e8['materials'],_0x3de4e8['meshDefaul'+'tMaterials'],_0x3de4e8['skins'],_0x18cea3,_0x3de4e8['nodeInstan'+'cingMap']);_0x2e0b7b||(_0x2e0b7b=[]),_0x2e0b7b['push'](_0x44a032);}}}if(_0x3de4e8['lights']){const _0x502dbc=_0x3de4e8['lights']['get'](_0x18cea3);_0x502dbc&&_0x2f77a8['addChild'](_0x502dbc['clone']());}if(_0x3de4e8['cameras']){const _0x2c24c2=_0x3de4e8['cameras']['get'](_0x18cea3);_0x2c24c2&&_0x2c24c2['camera']['system']['cloneCompo'+'nent'](_0x2c24c2,_0x2f77a8);}}_0x2e0b7b&&(_0x2f77a8['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x2e0b7b},_0x4132de)),_0x2f77a8['render']['assignAsse'+'t'](_0x12c205));const _0x3e0b0b=_0x561d73['children'];for(let _0x5d37cf=0xa68+-0x1b9c+0x1134;_0x5d37cf<_0x3e0b0b['length'];_0x5d37cf++){const _0x39384f=_0x503f41(_0x1ced52,_0x3e0b0b[_0x5d37cf],_0x3de4e8);_0x2f77a8['addChild'](_0x39384f);}return _0x2f77a8;},_0x49b034=[];for(const _0x195237 of this['data']['scenes'])_0x49b034['push'](_0x503f41(null,_0x195237,this['data']));return _0x39103e['forEach'](_0x1d2de5=>{_0x1d2de5['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x1d2de5['meshInstan'+'ce']['mesh']['skin'],_0x1d2de5['rootBone'],_0x1d2de5['entity']),_0x1d2de5['meshInstan'+'ce']['node']['render']['rootBone']=_0x1d2de5['rootBone'];}),sr['createScen'+'eHierarchy'](_0x49b034,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x5dbeab,_0x34e8f4){const _0x43cb07=_0x34e8f4?this['data']['variants'][_0x34e8f4]:null;if(_0x43cb07===void(-0x175*-0x3+0x5*0x65e+0x2435*-0x1)){v['warn']('No\x20variant'+'\x20named\x20'+_0x34e8f4+('\x20exists\x20in'+'\x20resource'));return;}const _0x4e2014=_0x5dbeab['findCompon'+'ents']('render');for(let _0x16cbc9=0xb1a+-0x1*-0x39a+-0xeb4;_0x16cbc9<_0x4e2014['length'];_0x16cbc9++){const _0x191d21=_0x4e2014[_0x16cbc9];this['_applyMate'+'rialVarian'+'t'](_0x43cb07,_0x191d21['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0xe875b1,_0x54cf25){const _0x30b408=_0x54cf25?this['data']['variants'][_0x54cf25]:null;if(_0x30b408===void(-0xea1+0x1e1d+-0xf7c)){v['warn']('No\x20variant'+'\x20named\x20'+_0x54cf25+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x30b408,_0xe875b1);}['_applyMate'+'rialVarian'+'t'](_0x54460e,_0x2fbf90){_0x2fbf90['forEach'](_0xc53762=>{if(_0x54460e===null)_0xc53762['material']=this['_defaultMa'+'terial'];else{const _0x393312=this['data']['meshVarian'+'ts'][_0xc53762['mesh']['id']];_0x393312&&(_0xc53762['material']=this['data']['materials'][_0x393312[_0x54460e]]);}v['assert'](_0xc53762['material']);});}static['createScen'+'eHierarchy'](_0x542783,_0xabaebf){let _0x275e8a=null;if(_0x542783['length']===-0x1f81+0x74*0xb+0x1e5*0xe)_0x275e8a=_0x542783[0x2267*-0x1+-0x1*0xa8a+0xefb*0x3];else{_0x275e8a=new _0xabaebf('SceneGroup');for(const _0x18ab99 of _0x542783)_0x275e8a['addChild'](_0x18ab99);}return _0x275e8a;}static['createMode'+'l'](_0x14d883,_0x2a5b9a){const _0x5f592e=function(_0x473598,_0x578fd6,_0x2c2d8b,_0x46c351,_0x423dbf,_0x209208,_0x1327cf){const _0x4dc63a=_0x14d883['meshDefaul'+'tMaterials'][_0x578fd6['id']],_0x10f253=_0x4dc63a===void(-0xd*0x234+0x2*0x1181+-0x1*0x65e)?_0x2a5b9a:_0x423dbf[_0x4dc63a],_0x16ffb=new Le(_0x578fd6,_0x10f253,_0x209208);if(_0x578fd6['morph']){const _0x2131cb=new pn(_0x578fd6['morph']);_0x16ffb['morphInsta'+'nce']=_0x2131cb,_0x473598['morphInsta'+'nces']['push'](_0x2131cb);}if(_0x1327cf['hasOwnProp'+'erty']('skin')){const _0x5d217e=_0x1327cf['skin'],_0x1757fb=_0x2c2d8b[_0x5d217e];_0x578fd6['skin']=_0x1757fb;const _0x52a4dd=_0x46c351[_0x5d217e];_0x16ffb['skinInstan'+'ce']=_0x52a4dd,_0x473598['skinInstan'+'ces']['push'](_0x52a4dd);}_0x473598['meshInstan'+'ces']['push'](_0x16ffb);},_0x6c81=new Bi(),_0x59e1c7=[];for(const _0xc1bf4b of _0x14d883['skins']){const _0xf14557=new nl(_0xc1bf4b);_0xf14557['bones']=_0xc1bf4b['bones'],_0x59e1c7['push'](_0xf14557);}_0x6c81['graph']=sr['createScen'+'eHierarchy'](_0x14d883['scenes'],De);for(let _0x45322a=0x4e5*0x2+0x1068+-0x1a32;_0x45322a<_0x14d883['nodes']['length'];_0x45322a++){const _0x4f0c91=_0x14d883['nodes'][_0x45322a];if(_0x4f0c91['root']===_0x6c81['graph']){const _0x1bf52b=_0x14d883['gltf']['nodes'][_0x45322a];if(_0x1bf52b['hasOwnProp'+'erty']('mesh')){const _0x153f8b=_0x14d883['renders'][_0x1bf52b['mesh']]['meshes'];for(let _0x373e84=-0x767+-0x1b22+0x7*0x4ef;_0x373e84<_0x153f8b['length'];_0x373e84++){const _0x2198b8=_0x153f8b[_0x373e84];_0x2198b8&&_0x5f592e(_0x6c81,_0x2198b8,_0x14d883['skins'],_0x59e1c7,_0x14d883['materials'],_0x4f0c91,_0x1bf52b);}}}}return _0x6c81;}['destroy'](){const _0x33cdc7=this['_assets'],_0xc540a7=function(_0x43ed47){_0x33cdc7['remove'](_0x43ed47),_0x43ed47['unload']();},_0x4fa51b=function(_0x401838){_0x401838['forEach'](_0xc29a84=>{_0xc540a7(_0xc29a84);});};this['animations']&&(_0x4fa51b(this['animations']),this['animations']=null),this['textures']&&(_0x4fa51b(this['textures']),this['textures']=null),this['materials']&&(_0x4fa51b(this['materials']),this['materials']=null),this['renders']&&(_0x4fa51b(this['renders']),this['renders']=null),this['_model']&&(_0xc540a7(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x461ef2,_0x204c51,_0x40efa6){this['_device']=_0x461ef2,this['_assets']=_0x204c51,this['_defaultMa'+'terial']=sc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x40efa6;}['_getUrlWit'+'houtParams'](_0x5392b0){return _0x5392b0['indexOf']('?')>=-0x408+0x2a*0xc8+-0x1cc8?_0x5392b0['split']('?')[0x1b0c+-0x1*0x152b+0xd7*-0x7]:_0x5392b0;}['load'](_0x1a1e39,_0x5e499b,_0x3750d3){le['fetchArray'+'Buffer'](_0x1a1e39['load'],(_0x356e69,_0x4a86cb)=>{_0x356e69?_0x5e499b(_0x356e69):sc['parse'](this['_getUrlWit'+'houtParams'](_0x1a1e39['original']),fe['extractPat'+'h'](_0x1a1e39['load']),_0x4a86cb,this['_device'],_0x3750d3['registry'],_0x3750d3['options'],(_0x90a266,_0x289b4f)=>{_0x90a266?_0x5e499b(_0x90a266):_0x5e499b(null,new sr(_0x289b4f,_0x3750d3,this['_assets'],this['_defaultMa'+'terial']));});},_0x3750d3,this['maxRetries']);}['open'](_0x27f3dd,_0xe92597,_0x5a0ccc){return _0xe92597;}['patch'](_0x37b0a7,_0x52441e){}}class w2 extends Be{constructor(_0x157f89){super(_0x157f89,'container'),this['glbContain'+'erParser']=new b2(_0x157f89['graphicsDe'+'vice'],_0x157f89['assets'],-0x164f*0x1+0x1a0+0x14af),this['parsers']={};}set['maxRetries'](_0x672eb3){this['glbContain'+'erParser']['maxRetries']=_0x672eb3;for(const _0x46fbe0 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x46fbe0)&&(this['parsers'][_0x46fbe0]['maxRetries']=_0x672eb3);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x594a25){return _0x594a25['indexOf']('?')>=-0xb0d*0x1+0x1f52+-0x1445?_0x594a25['split']('?')[0x2592+-0x1b67+-0x89*0x13]:_0x594a25;}['_getParser'](_0x3b893d){const _0x116df9=_0x3b893d?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x3b893d))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x116df9]||this['glbContain'+'erParser'];}['load'](_0x191b4a,_0x2f7c58,_0x4bd91f){typeof _0x191b4a=='string'&&(_0x191b4a={'load':_0x191b4a,'original':_0x191b4a}),this['_getParser'](_0x191b4a['original'])['load'](_0x191b4a,_0x2f7c58,_0x4bd91f);}['open'](_0x271703,_0x472b95,_0x4e3240){return this['_getParser'](_0x271703)['open'](_0x271703,_0x472b95,_0x4e3240);}}class T2 extends Be{constructor(_0xec6d64){super(_0xec6d64,'css'),c(this,'decoder',null);}['load'](_0x3f92ad,_0xed55c2){typeof _0x3f92ad=='string'&&(_0x3f92ad={'load':_0x3f92ad,'original':_0x3f92ad}),$e['get'](_0x3f92ad['load'],{'retry':this['maxRetries']>-0x14d8+0x1*0x24d+-0x128b*-0x1,'maxRetries':this['maxRetries']},(_0x4f01ff,_0x49e14f)=>{_0x4f01ff?_0xed55c2('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x3f92ad['original']+'\x20['+_0x4f01ff+']'):_0xed55c2(null,_0x49e14f);});}['openBinary'](_0x44a429){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x44a429);}}class A2 extends Be{constructor(_0x45fa3d){super(_0x45fa3d,'cubemap'),this['_device']=_0x45fa3d['graphicsDe'+'vice'],this['_registry']=_0x45fa3d['assets'],this['_loader']=_0x45fa3d['loader'];}['load'](_0x4325a9,_0xb00392,_0x1e95a1){this['loadAssets'](_0x1e95a1,_0xb00392);}['open'](_0x4da1bf,_0x515509,_0x278eb9){return _0x278eb9?_0x278eb9['resource']:null;}['patch'](_0x192a1c,_0x20320b){this['loadAssets'](_0x192a1c,(_0x5c43bc,_0x10c547)=>{_0x5c43bc&&(_0x20320b['fire']('error',_0x192a1c),_0x20320b['fire']('error:'+_0x192a1c['id'],_0x5c43bc,_0x192a1c),_0x192a1c['fire']('error',_0x192a1c));});}['getAssetId'+'s'](_0x3b1193){const _0x5257d9=[];if(_0x5257d9[0x3*0x35b+-0x15dc+0xbcb]=_0x3b1193['file'],(_0x3b1193['loadFaces']||!_0x3b1193['file'])&&_0x3b1193['data']&&_0x3b1193['data']['textures']){for(let _0x4d39df=0x862+0x3b9*-0x7+0x11ad;_0x4d39df<-0x2*0x111a+0x5*-0x54e+0x18*0x288;++_0x4d39df)_0x5257d9[_0x4d39df+(0x1*0x5b+0xe6c+-0x1f*0x7a)]=_0x3b1193['data']['textures'][_0x4d39df];}else _0x5257d9[0xfb0+-0x35*-0x37+0x3de*-0x7]=_0x5257d9[0x1*0x1d9e+0xf*-0x4f+-0x18fb]=_0x5257d9[0x1*-0xefd+-0x335+-0x3b*-0x4f]=_0x5257d9[0x1*0xda6+-0x125f+0x4bd]=_0x5257d9[0x2ba+0x33f+-0x1*0x5f4]=_0x5257d9[0x1a46+-0x2*0x493+-0x111a]=null;return _0x5257d9;}['compareAss'+'etIds'](_0x15851e,_0x221a8a){return _0x15851e&&_0x221a8a?parseInt(_0x15851e,-0x2119+-0x3*-0x139+0x1d78)===_0x15851e||typeof _0x15851e=='string'?_0x15851e===_0x221a8a:_0x15851e['url']===_0x221a8a['url']:_0x15851e!==null==(_0x221a8a!==null);}['update'](_0x10341e,_0x5dc4d,_0x5f0c93){const _0x1adf7c=_0x10341e['data']||{},_0x3a2417=_0x10341e['_handlerSt'+'ate']['assets'],_0x3cd121=_0x10341e['_resources'];let _0x13c9b9,_0x4a3ed0,_0x312a04;const _0xee23a7=[null,null,null,null,null,null,null],_0x264912=function(){return _0x1adf7c['hasOwnProp'+'erty']('type')?_0x1adf7c['type']:_0x1adf7c['hasOwnProp'+'erty']('rgbm')?_0x1adf7c['rgbm']?on:Fi:null;};if(!_0x10341e['loaded']||_0x5f0c93[-0x2*-0x4f7+0x79*0x5+-0xc4b]!==_0x3a2417[-0xf8*-0x10+-0x37*-0x22+-0x6*0x3cd]){if(_0x5f0c93[0x196f+0x1864+-0x31d3]){if(_0x13c9b9=_0x5f0c93[0x1433*-0x1+-0x5*0x239+0x538*0x6]['resource'],_0x13c9b9['cubemap']){for(_0x312a04=0x571*0x1+-0x1216+0xca5;_0x312a04<0x251*0xa+-0x2367+0xc43;++_0x312a04)_0xee23a7[_0x312a04+(-0x173a+-0x425+0x1b60)]=new he(this['_device'],{'name':_0x10341e['name']+('_prelitCub'+'emap')+(_0x13c9b9['width']>>_0x312a04),'cubemap':!(0x139c+0x481*-0x7+0x1*0xbeb),'type':_0x264912()||_0x13c9b9['type'],'width':_0x13c9b9['width']>>_0x312a04,'height':_0x13c9b9['height']>>_0x312a04,'format':_0x13c9b9['format'],'levels':[_0x13c9b9['_levels'][_0x312a04]],'addressU':ne,'addressV':ne,'mipmaps':_0x312a04===0x186*-0xa+0x1*-0xb87+0x1ac3});}else _0xee23a7[0xf5f+-0x1bf6+-0x326*-0x4]=_0x13c9b9;}}else _0xee23a7[0x779*-0x1+0x1*0x12e+0x64c]=_0x3cd121[-0x1756+-0x1c72+0x3*0x1143]||null,_0xee23a7[-0x1930+0x1e46+-0x514]=_0x3cd121[0xc6*0x8+0x16cf+0x1*-0x1cfd]||null,_0xee23a7[0x1a9e*-0x1+0x1539+-0x568*-0x1]=_0x3cd121[-0x19*0xb2+0x1*0x33d+0xe28]||null,_0xee23a7[0x124+0x1a9d+-0x3*0x93f]=_0x3cd121[-0x2436+-0x3b6+0x238*0x12]||null,_0xee23a7[-0x107f+0x5*-0x265+0x1c7d]=_0x3cd121[-0x180b+0x6*-0xf6+0x775*0x4]||null,_0xee23a7[0xd*-0x1a3+0x862+0xceb]=_0x3cd121[-0x1d3a+-0x216f+0x3eaf]||null;const _0x41e42c=_0x5f0c93['slice'](-0xde1+0x89*0x2d+-0xa33);if(!_0x10341e['loaded']||!this['cmpArrays'](_0x41e42c,_0x3a2417['slice'](-0x1e5e+-0xb90+0x29ef))){if(_0x41e42c['indexOf'](null)===-(0x19bb+0x1b42+0x1a7e*-0x2)){const _0x2c83de=_0x41e42c['map'](_0x57ef1f=>_0x57ef1f['resource']),_0xd1b987=[];for(_0x4a3ed0=-0x17e*0x14+-0x114c+0x1af*0x1c;_0x4a3ed0<_0x2c83de[-0x397+-0x1*0x955+0x4*0x33b]['_levels']['length'];++_0x4a3ed0)_0xd1b987['push'](_0x2c83de['map'](_0x28fff5=>_0x28fff5['_levels'][_0x4a3ed0]));const _0x681cf1=_0x2c83de[0x19bd+0x44*-0x81+0x887]['format'],_0x353f60=new he(this['_device'],{'name':_0x10341e['name']+'_faces','cubemap':!(0x26*-0x5d+0x12ab+-0x4dd),'type':_0x264912()||_0x2c83de[-0x5d0+-0x1*0x1e52+0xa*0x39d]['type'],'width':_0x2c83de[0x1c*-0x136+-0x719*-0x1+0x1acf]['width'],'height':_0x2c83de[-0x244+0x1*0xdba+-0x3*0x3d2]['height'],'format':_0x681cf1===dr?Se:_0x681cf1,'mipmaps':_0x1adf7c['mipmaps']??!(0x1d1b+0xa0a+0xb*-0x38f),'levels':_0xd1b987,'minFilter':_0x1adf7c['hasOwnProp'+'erty']('minFilter')?_0x1adf7c['minFilter']:_0x2c83de[0x1be*0x1+-0x40d+0x24f*0x1]['minFilter'],'magFilter':_0x1adf7c['hasOwnProp'+'erty']('magFilter')?_0x1adf7c['magFilter']:_0x2c83de[0x161*-0x3+0x1ea8+0x5d*-0x49]['magFilter'],'anisotropy':_0x1adf7c['hasOwnProp'+'erty']('anisotropy')?_0x1adf7c['anisotropy']:-0x2074+-0x12*-0x107+0xdf7,'addressU':ne,'addressV':ne});_0xee23a7[0x1f*-0x6b+-0xb*-0x62+0x8bf]=_0x353f60;}}else _0xee23a7[-0x6*0x47f+0x2029+-0x1*0x52f]=_0x3cd121[0x15cb*-0x1+-0xca4+0x226f]||null;if(!this['cmpArrays'](_0xee23a7,_0x3cd121)){for(_0x10341e['resources']=_0xee23a7,_0x10341e['_handlerSt'+'ate']['assetIds']=_0x5dc4d,_0x10341e['_handlerSt'+'ate']['assets']=_0x5f0c93,_0x312a04=-0x404+0x4f*-0x2f+-0x1285*-0x1;_0x312a04<_0x3cd121['length'];++_0x312a04)_0x3cd121[_0x312a04]!==null&&_0xee23a7['indexOf'](_0x3cd121[_0x312a04])===-(-0xfd7+-0xf*-0x103+0xab)&&_0x3cd121[_0x312a04]['destroy']();}for(_0x312a04=-0x4*-0x915+-0x2b*-0xe3+-0x4a75;_0x312a04<_0x3a2417['length'];++_0x312a04)_0x3a2417[_0x312a04]!==null&&_0x5f0c93['indexOf'](_0x3a2417[_0x312a04])===-(-0xde+-0x1859+0x1938)&&_0x3a2417[_0x312a04]['unload']();}['cmpArrays'](_0xba668a,_0xecb0a1){if(_0xba668a['length']!==_0xecb0a1['length'])return!(-0x1*0x6df+0x6*0x37a+-0xdfc);for(let _0x38345f=-0x4*-0x68c+-0x2*-0x100+-0x1c30;_0x38345f<_0xba668a['length'];++_0x38345f)if(_0xba668a[_0x38345f]!==_0xecb0a1[_0x38345f])return!(0x2290+0x268f*0x1+-0x491e);return!(-0xcb1+0x3ab*-0x1+-0x417*-0x4);}['resolveId'](_0x4f15ab){const _0x1e8c33=parseInt(_0x4f15ab,-0x1797+0x2528+-0xd87);return _0x1e8c33===_0x4f15ab||_0x1e8c33['toString']()===_0x4f15ab?_0x1e8c33:_0x4f15ab;}['loadAssets'](_0x2572bc,_0x298b25){_0x2572bc['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x2572bc['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x2fbb43=this,_0x3ce9d7=_0x2fbb43['getAssetId'+'s'](_0x2572bc),_0x371507=[null,null,null,null,null,null,null],_0x5ddf24=_0x2572bc['_handlerSt'+'ate']['assetIds'],_0x48f6c2=_0x2572bc['_handlerSt'+'ate']['assets'],_0x26a043=_0x2fbb43['_registry'];let _0x1f673e=-0x23c7+-0x3b7*-0x3+0x18a9;const _0x3bcdb5=function(_0x2b2f24,_0x1148e7){_0x371507[_0x2b2f24]=_0x1148e7,_0x1f673e--,_0x1f673e===0xf10+0xa56+0xcb3*-0x2&&(_0x2fbb43['update'](_0x2572bc,_0x3ce9d7,_0x371507),_0x298b25(null,_0x2572bc['resources']));},_0x1e12ca=function(_0x34cb59,_0x3c5843,_0xef69e7){_0x298b25(_0x3c5843);},_0x3aa442=function(_0x55b2af,_0x4002bb){_0x4002bb['loaded']?_0x3bcdb5(_0x55b2af,_0x4002bb):(_0x26a043['once']('load:'+_0x4002bb['id'],_0x3bcdb5['bind'](_0x2fbb43,_0x55b2af)),_0x26a043['once']('error:'+_0x4002bb['id'],_0x1e12ca['bind'](_0x2fbb43,_0x55b2af)),_0x4002bb['loading']||_0x26a043['load'](_0x4002bb));};let _0x5ecf04;for(let _0x3cee5a=-0xd*-0x235+0x1*-0x1d07+0x2*0x2b;_0x3cee5a<0x16dc+-0x90d+-0xdc8;++_0x3cee5a){const _0x91ac5e=this['resolveId'](_0x3ce9d7[_0x3cee5a]);if(!_0x91ac5e)_0x3bcdb5(_0x3cee5a,null);else{if(_0x2fbb43['compareAss'+'etIds'](_0x91ac5e,_0x5ddf24[_0x3cee5a]))_0x3aa442(_0x3cee5a,_0x48f6c2[_0x3cee5a]);else{if(parseInt(_0x91ac5e,0xe9e+-0x1*0x1871+-0x65*-0x19)===_0x91ac5e)_0x5ecf04=_0x26a043['get'](_0x91ac5e),_0x5ecf04?_0x3aa442(_0x3cee5a,_0x5ecf04):setTimeout(((_0x314413,_0x40e4c4)=>{const _0x1e582d=_0x26a043['get'](_0x40e4c4);_0x1e582d?_0x3aa442(_0x314413,_0x1e582d):_0x1e12ca(_0x314413,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x40e4c4);})['bind'](null,_0x3cee5a,_0x91ac5e));else{const _0x2f3bde=typeof _0x91ac5e=='string'?{'url':_0x91ac5e,'filename':_0x91ac5e}:_0x91ac5e,_0x1701c2=_0x2f3bde['url']['search']('.dds')===-(-0xd7d+0xebe+0x5*-0x40)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1658+-0xb84+-0xad3)}:null;_0x5ecf04=new le(_0x2572bc['name']+'_part_'+_0x3cee5a,'texture',_0x2f3bde,_0x1701c2),_0x26a043['add'](_0x5ecf04),_0x3aa442(_0x3cee5a,_0x5ecf04);}}}}}}class C2 extends Be{constructor(_0x255b6f){super(_0x255b6f,'folder');}['load'](_0x1d1edb,_0x4b364f){_0x4b364f(null,null);}}class Ng{constructor(_0xcbc156,_0x147a7b){this['type']=_0x147a7b&&_0x147a7b['type']||Zh,this['em']=-0x26fc+-0x1*-0x1c55+0xaa8,this['textures']=_0xcbc156,this['intensity']=-0x1561+0x4*0x505+-0x14d*-0x1,this['_data']=null,this['data']=_0x147a7b;}set['data'](_0x301b03){if(this['_data']=_0x301b03,!!_0x301b03&&(this['_data']['intensity']!==void(-0x2a4+-0x4e9+0x1*0x78d)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0xf9+-0x1f2f+0x1e38)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x28af7b in this['_data']['chars'])this['_data']['chars'][_0x28af7b]['map']=0x27a+0xf63+0x10d*-0x11;}}get['data'](){return this['_data'];}}function eu(_0x3f0898){return _0x3f0898['version']<-0x8ed*-0x1+0x256b+-0x199*0x1d&&(_0x3f0898['version']<0x1*-0x1a38+0x4*0x9a+0x2*0xbe9&&(_0x3f0898['info']['maps']=_0x3f0898['info']['maps']||[{'width':_0x3f0898['info']['width'],'height':_0x3f0898['info']['height']}]),_0x3f0898['chars']=Object['keys'](_0x3f0898['chars']||{})['reduce']((_0x2cf70f,_0x3be5c6)=>{const _0x33ec61=_0x3f0898['chars'][_0x3be5c6],_0xb8dbf8=_0x33ec61['letter']!==void(0x6c8+0xf1*-0xd+-0x1*-0x575)?_0x33ec61['letter']:oh['fromCodePo'+'int'](_0x3be5c6);return _0x3f0898['version']<-0x3ae+0xe9*-0x29+0x2901&&(_0x33ec61['map']=_0x33ec61['map']||0x2580+-0x189a+-0xce6),_0x2cf70f[_0xb8dbf8]=_0x33ec61,_0x2cf70f;},{}),_0x3f0898['version']=-0x242e+-0x1a02*0x1+0x3e33),_0x3f0898;}class E2 extends Be{constructor(_0x2e9afa){super(_0x2e9afa,'font'),this['_loader']=_0x2e9afa['loader'],this['maxRetries']=-0x22c0+0x12c*-0x2+-0x946*-0x4;}['load'](_0x4e2795,_0x4310cb,_0x53ccdc){typeof _0x4e2795=='string'&&(_0x4e2795={'load':_0x4e2795,'original':_0x4e2795});const _0x304617=this;fe['getExtensi'+'on'](_0x4e2795['original'])==='.json'?$e['get'](_0x4e2795['load'],{'retry':this['maxRetries']>-0xd95+-0x332+-0x35b*-0x5,'maxRetries':this['maxRetries']},(_0x4ba7cb,_0x3a0686)=>{if(_0x4ba7cb)_0x4310cb('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x4e2795['original']+'\x20['+_0x4ba7cb+']');else{const _0x4b6cab=eu(_0x3a0686);_0x304617['_loadTextu'+'res'](_0x4e2795['load']['replace']('.json','.png'),_0x4b6cab,(_0x127452,_0x2a9ac7)=>{_0x127452?_0x4310cb(_0x127452):_0x4310cb(null,{'data':_0x4b6cab,'textures':_0x2a9ac7});});}}):(_0x53ccdc&&_0x53ccdc['data']&&(_0x53ccdc['data']=eu(_0x53ccdc['data'])),this['_loadTextu'+'res'](_0x4e2795['load'],_0x53ccdc&&_0x53ccdc['data'],_0x4310cb));}['_loadTextu'+'res'](_0x288db5,_0x16e337,_0x369bd1){const _0xe0da42=_0x16e337['info']['maps']['length'];let _0x2b5ad9=-0xa40+0x1c*-0x20+0x2c0*0x5,_0x31fb56=null;const _0x14b5a7=new Array(_0xe0da42),_0x5588fa=this['_loader'],_0xfe4a26=function(_0x1a8825){const _0x13308a=function(_0x5d1fd3,_0x21e8d3){if(!_0x31fb56){if(_0x5d1fd3){_0x31fb56=_0x5d1fd3,_0x369bd1(_0x5d1fd3);return;}_0x21e8d3['upload'](),_0x14b5a7[_0x1a8825]=_0x21e8d3,_0x2b5ad9++,_0x2b5ad9===_0xe0da42&&_0x369bd1(null,_0x14b5a7);}};_0x1a8825===0x1*-0x1e89+-0x14b3+-0x4*-0xccf?_0x5588fa['load'](_0x288db5,'texture',_0x13308a):_0x5588fa['load'](_0x288db5['replace']('.png',_0x1a8825+'.png'),'texture',_0x13308a);};for(let _0x481b9f=0x8d*-0x2+0x9e*0x2a+-0x18d2;_0x481b9f<_0xe0da42;_0x481b9f++)_0xfe4a26(_0x481b9f);}['open'](_0x7a083,_0x4de041,_0x2146f4){let _0x491b2b;return _0x4de041['textures']?_0x491b2b=new Ng(_0x4de041['textures'],_0x4de041['data']):_0x491b2b=new Ng(_0x4de041,null),_0x491b2b;}['patch'](_0x408664,_0x29fe2b){const _0x2c0fc2=_0x408664['resource'];!_0x2c0fc2['data']&&_0x408664['data']?_0x2c0fc2['data']=_0x408664['data']:!_0x408664['data']&&_0x2c0fc2['data']&&(_0x408664['data']=_0x2c0fc2['data']),_0x408664['data']&&(_0x408664['data']=eu(_0x408664['data']));}}async function M2(){const _0x500793=-0x626+-0x23d+0x863+0.28209479177387814;class _0x425815{constructor(_0x58c20d,_0x1bc19f,_0x2b60be){this['x']=_0x58c20d,this['y']=_0x1bc19f,this['z']=_0x2b60be;}}class _0x213280{constructor(_0x48e147,_0x1e46bb,_0x288856,_0x5bb0e6){this['x']=_0x48e147,this['y']=_0x1e46bb,this['z']=_0x288856,this['w']=_0x5bb0e6;}}class _0x36f348{constructor(_0x15b134,_0x123882,_0xd0a46,_0x68d1c5){this['x']=_0x15b134,this['y']=_0x123882,this['z']=_0xd0a46,this['w']=_0x68d1c5;}['set'](_0x55a815,_0x41b566,_0x35e800,_0x21ba28){this['x']=_0x55a815,this['y']=_0x41b566,this['z']=_0x35e800,this['w']=_0x21ba28;}}class _0x185091{constructor(_0x291d99,_0x2d19a5,_0xe965f2,_0x385ed8,_0x790825,_0x127ba9,_0x3294f1,_0x5d6354,_0x260b41,_0x144c34,_0x3c2b10,_0x2b2e2a){const _0x4c60f5=(_0x284372,_0x315c4d)=>{const _0x16332b=(-0xb*0x35+-0x13be+0x1606<<_0x315c4d)-(0xf1*0x21+0x531*0x1+-0x2441);return(_0x284372&_0x16332b)/_0x16332b;},_0xaa47b6=(_0x1ee4e6,_0x4c636b)=>{_0x1ee4e6['x']=_0x4c60f5(_0x4c636b>>>0x19e2*-0x1+0x228e+0x3*-0x2dd,0x666*0x2+0x145+-0xe06),_0x1ee4e6['y']=_0x4c60f5(_0x4c636b>>>0x5*0x7d+0x8d4+0xb3a*-0x1,0x1c9d+0x168a*0x1+-0xa39*0x5),_0x1ee4e6['z']=_0x4c60f5(_0x4c636b,0x12e1+-0x4ea*-0x4+-0x267e);},_0x5e2e1f=(_0x4fb74f,_0x5b68d3)=>{_0x4fb74f['x']=_0x4c60f5(_0x5b68d3>>>-0x3*0xc9f+-0x2f6*-0x1+-0x121*-0x1f,0x2fb*0xd+0x6a*0x16+0x9f*-0x4d),_0x4fb74f['y']=_0x4c60f5(_0x5b68d3>>>-0x2*0x237+-0x2185*0x1+-0x1*-0x2603,-0xbd*0x5+0x201d+-0x1c64),_0x4fb74f['z']=_0x4c60f5(_0x5b68d3>>>0x1b2*-0xd+0x2136+-0xb24,-0xb66+0x1ac5+0x33*-0x4d),_0x4fb74f['w']=_0x4c60f5(_0x5b68d3,-0x1f02+-0x33*-0x79+0x6ef);},_0x144c0d=(_0x3afadd,_0x44b686)=>{const _0x13cadc=(0x2*0xcaa+0x24eb*0x1+0x1f1f*-0x2)/(Math['sqrt'](0xf5b*0x1+-0x7*0x2a1+-0x22*-0x17)*(0x23*0xe9+0x5ab*0x1+0xc82*-0x3+0.5)),_0x6112d6=(_0x4c60f5(_0x44b686>>>0x1da2+-0x417*-0x1+-0x21a5,-0x1*0xb57+-0x223b+-0x1*-0x2d9c)-(0x1a8d+0xc1b+-0x26a8+0.5))*_0x13cadc,_0x2308b2=(_0x4c60f5(_0x44b686>>>0x1*0x1665+-0xe5*-0x12+-0x37*0xb3,-0x6a3+0x1d04+-0x85*0x2b)-(0xb42+0x16a+-0xcac+0.5))*_0x13cadc,_0x5809ae=(_0x4c60f5(_0x44b686,-0x150e+-0x18a1+-0x925*-0x5)-(0xed2+-0x1869+0x997+0.5))*_0x13cadc,_0x4f4b95=Math['sqrt'](-0x1d65+0x1d8a+-0x24-(_0x6112d6*_0x6112d6+_0x2308b2*_0x2308b2+_0x5809ae*_0x5809ae));switch(_0x44b686>>>-0x3*0xb35+-0xdbb+0x2f78){case-0x1*-0x1345+0x8*-0x7a+-0x3*0x527:_0x3afadd['set'](_0x6112d6,_0x2308b2,_0x5809ae,_0x4f4b95);break;case-0x3*0x6bb+-0x26e+0x10*0x16a:_0x3afadd['set'](_0x4f4b95,_0x2308b2,_0x5809ae,_0x6112d6);break;case 0x3b*-0xa3+-0x1b49+0x40dc:_0x3afadd['set'](_0x2308b2,_0x4f4b95,_0x5809ae,_0x6112d6);break;case 0x1*-0xb7b+-0x9f+0xc1d:_0x3afadd['set'](_0x2308b2,_0x5809ae,_0x4f4b95,_0x6112d6);break;}},_0x1e86be=(_0x3f468a,_0x1186e0,_0xdc1737)=>_0x3f468a*(0x14fc+0x41b*0x7+-0xc6e*0x4-_0xdc1737)+_0x1186e0*_0xdc1737,_0x24e993=[-0x1606*-0x1+-0x229a+0xc97,-0xa78+0x595+0x4eb,-0x1*-0x832+-0x8f3*0x3+0x5*0x3be][_0x790825-(-0xf0e*0x1+0x6d3*0x2+0x169)],_0x372efa=-0x1*0x258b+-0x2144+0x46d5;this['read']=_0x22c3d2=>{const _0x54e409=Math['floor'](_0x22c3d2/(0x226a*-0x1+0x1b1f+0x84b*0x1))*_0x2d19a5;if(_0x127ba9&&(_0xaa47b6(_0x127ba9,_0xe965f2[_0x22c3d2*_0x372efa+(-0xa30+-0xd*0x25e+0x31*0xd6)]),_0x127ba9['x']=_0x1e86be(_0x291d99[_0x54e409+(-0x686+0x5f*0x43+0x3*-0x61d)],_0x291d99[_0x54e409+(-0x240d+0x1*0x15b7+-0x1*-0xe59)],_0x127ba9['x']),_0x127ba9['y']=_0x1e86be(_0x291d99[_0x54e409+(-0x4ff*-0x1+-0x1*0x1f6f+0x1a71)],_0x291d99[_0x54e409+(0x191+0x2279*0x1+-0x2406)],_0x127ba9['y']),_0x127ba9['z']=_0x1e86be(_0x291d99[_0x54e409+(0x1479+0x1799+-0x2c10)],_0x291d99[_0x54e409+(-0x1457+0x3*-0x15b+0x186d*0x1)],_0x127ba9['z'])),_0x3294f1&&_0x144c0d(_0x3294f1,_0xe965f2[_0x22c3d2*_0x372efa+(0x2696+-0xc1*-0x1f+-0x1*0x3df4)]),_0x5d6354&&(_0xaa47b6(_0x5d6354,_0xe965f2[_0x22c3d2*_0x372efa+(-0x8*-0x382+-0xc2b+-0xfe3)]),_0x5d6354['x']=_0x1e86be(_0x291d99[_0x54e409+(-0x2*0x595+-0x85*0xa+0x1062)],_0x291d99[_0x54e409+(0x79*0x1+0x1ebd+0x15b*-0x17)],_0x5d6354['x']),_0x5d6354['y']=_0x1e86be(_0x291d99[_0x54e409+(0x1b8b+0x212d+-0x3cb1)],_0x291d99[_0x54e409+(0x1252+0x15fb+-0x2843)],_0x5d6354['y']),_0x5d6354['z']=_0x1e86be(_0x291d99[_0x54e409+(-0x9*-0x1cd+0xe60+-0x1e8d)],_0x291d99[_0x54e409+(0x3eb+-0xae2+0x702)],_0x5d6354['z'])),_0x260b41&&(_0x5e2e1f(_0x260b41,_0xe965f2[_0x22c3d2*_0x372efa+(0x18dc+-0xa3d+-0xe9c)]),_0x2d19a5>-0x1*0x14cf+-0x7*0x293+0x26e0&&(_0x260b41['x']=_0x1e86be(_0x291d99[_0x54e409+(-0x20b3+-0x18a8+0x3967)],_0x291d99[_0x54e409+(-0x8f*-0x1a+-0x160d+0x796)],_0x260b41['x']),_0x260b41['y']=_0x1e86be(_0x291d99[_0x54e409+(-0x67*0xb+-0x25e1+0x1*0x2a5b)],_0x291d99[_0x54e409+(-0x23d7*-0x1+0x1c41+-0x4008)],_0x260b41['y']),_0x260b41['z']=_0x1e86be(_0x291d99[_0x54e409+(-0xf69+-0x2*-0x102+0xd73)],_0x291d99[_0x54e409+(0x2*-0xa6c+0x1ebd+-0x11*0x94)],_0x260b41['z']))),_0x144c34&&(_0xaa47b6(_0x144c34,_0xe965f2[_0x22c3d2*_0x372efa+(-0x1dfd+0x43b+0x19c6)]),_0x144c34['x']=_0x1e86be(_0x291d99[_0x54e409+(-0x127*0x5+-0x12*0x171+-0x1*-0x1fc7)],_0x291d99[_0x54e409+(-0x660+-0x89*-0x2a+0x1*-0x1005)],_0x144c34['x']),_0x144c34['y']=_0x1e86be(_0x291d99[_0x54e409+(0xa1*-0x31+0x1b30+-0x9e*-0x6)],_0x291d99[_0x54e409+(-0x4e9+-0xc81+0x1180)],_0x144c34['y']),_0x144c34['z']=_0x1e86be(_0x291d99[_0x54e409+(0xb92+-0xb6a+-0x5*0x4)],_0x291d99[_0x54e409+(-0x2550+0x17c7*0x1+0xda0)],_0x144c34['z'])),_0x3c2b10&&(_0xaa47b6(_0x3c2b10,_0xe965f2[_0x22c3d2*_0x372efa+(-0x250f*0x1+0x387+0x3*0xb2f)]),_0x3c2b10['x']=_0x1e86be(_0x291d99[_0x54e409+(-0x13da+0x611+0xde1*0x1)],_0x291d99[_0x54e409+(0x18ba+0x19f+-0x1a40)],_0x3c2b10['x']),_0x3c2b10['y']=_0x1e86be(_0x291d99[_0x54e409+(-0x1050+0x1ebc+-0x5e*0x27)],_0x291d99[_0x54e409+(-0xb95+-0xacc+-0x59f*-0x4)],_0x3c2b10['y'])),_0x2b2e2a&&_0x790825>0x4*0x51b+-0x1897+0xb*0x61){for(let _0x1a5b12=-0x75c*-0x5+-0x5*0x463+-0xedd;_0x1a5b12<-0x322+0x260e+-0x22e9;++_0x1a5b12)for(let _0x404aa5=0x18ad*0x1+-0x1eef*0x1+0x3*0x216;_0x404aa5<0x1*-0x105d+0xbc*-0x17+0x148*0x1a;++_0x404aa5)_0x2b2e2a[_0x1a5b12*(-0xfa8+-0x1a1*-0x17+-0x2*0xae0)+_0x404aa5]=_0x404aa5<_0x24e993?_0x385ed8[(_0x22c3d2*(0x6ca+-0x2f3*-0x2+0x37*-0x3b)+_0x1a5b12)*_0x24e993+_0x404aa5]*((-0xca*0x1f+0x1efc+0x33f*-0x2)/(0x2682+-0x1352+0x1231*-0x1))-(-0x432+-0x8d*-0x35+0x5*-0x4ff):-0x3*-0x925+-0x821*0x2+-0x1*0xb2d;}};}}self['onmessage']=async _0x4aacf8=>{const {data:_0x253714}=_0x4aacf8;switch(_0x253714['type']){case'initWorker':break;case'decompress':_0xc76f01(_0x253714['numSplats'],_0x253714['chunkData'],_0x253714['chunkSize'],_0x253714['vertexData'],_0x253714['shData'],_0x253714['shBands']);break;}};const _0xc76f01=(_0x34b765,_0x2fab39,_0xe4325a,_0x579e89,_0x28fe8b,_0x3c4e3b)=>{const _0x541027=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x3c4e3b>-0x23*-0x11+0x428+0x229*-0x3){const _0x484098=[];for(let _0x42130a=-0x1a25+0x22d8+0x1*-0x8b3;_0x42130a<0x6c*-0x59+-0x1*0xe8b+-0x3444*-0x1;++_0x42130a)_0x484098['push']('f_rest_'+_0x42130a);_0x541027['splice'](_0x541027['indexOf']('f_dc_0')+(-0x1183*-0x1+-0x65d*-0x2+-0x1e3c),0x1482+-0x2*-0xb9b+0x4*-0xaee,..._0x484098);}const _0x18d747={};_0x541027['forEach'](_0x4533ad=>{_0x18d747[_0x4533ad]=new Float32Array(_0x34b765);}),console['log']('decompress');const _0x25f848=new _0x425815(),_0x2647c6=new _0x36f348(),_0x26e3ba=new _0x425815(),_0x11d653=new _0x213280(),_0x110032=new _0x425815(),_0x36ad54=new _0x425815(),_0x7af70a=_0x3c4e3b>0x9c3+-0x24cb+0x1b08?new Float32Array(0xa9a+-0x1174*0x2+0x187b):null,_0x54ee7e=new _0x185091(_0x2fab39,_0xe4325a,_0x579e89,_0x28fe8b,_0x3c4e3b,_0x25f848,_0x2647c6,_0x26e3ba,_0x11d653,_0x110032,_0x36ad54,_0x7af70a);for(let _0x485387=0xb5d*-0x1+-0x6*-0x314+-0x71b;_0x485387<_0x34b765;++_0x485387)if(_0x54ee7e['read'](_0x485387),_0x18d747['x'][_0x485387]=_0x25f848['x'],_0x18d747['y'][_0x485387]=_0x25f848['y'],_0x18d747['z'][_0x485387]=_0x25f848['z'],_0x18d747['rot_1'][_0x485387]=_0x2647c6['x'],_0x18d747['rot_2'][_0x485387]=_0x2647c6['y'],_0x18d747['rot_3'][_0x485387]=_0x2647c6['z'],_0x18d747['rot_0'][_0x485387]=_0x2647c6['w'],_0x18d747['scale_0'][_0x485387]=_0x26e3ba['x'],_0x18d747['scale_1'][_0x485387]=_0x26e3ba['y'],_0x18d747['scale_2'][_0x485387]=_0x26e3ba['z'],_0x18d747['motion_0'][_0x485387]=_0x110032['x'],_0x18d747['motion_1'][_0x485387]=_0x110032['y'],_0x18d747['motion_2'][_0x485387]=_0x110032['z'],_0x18d747['t_scale'][_0x485387]=_0x36ad54['x'],_0x18d747['t'][_0x485387]=_0x36ad54['y'],_0x18d747['f_dc_0'][_0x485387]=(_0x11d653['x']-(0x23d2+0x1b33+-0x3f05+0.5))/_0x500793,_0x18d747['f_dc_1'][_0x485387]=(_0x11d653['y']-(-0x1b3f+-0x119*0xb+0x2752+0.5))/_0x500793,_0x18d747['f_dc_2'][_0x485387]=(_0x11d653['z']-(-0x29*-0x3e+-0x7ad+0x1*-0x241+0.5))/_0x500793,_0x18d747['opacity'][_0x485387]=_0x11d653['w']<=-0x1*0xd83+0x12b9*-0x1+-0x203c*-0x1?-(0x4d6+0x21b7+-0x2665):_0x11d653['w']>=-0x59d+-0xa75*0x1+0x1013*0x1?-0xbe4*0x1+0xc*-0x11b+0x1950:-Math['log']((-0x19e8+0x440+0x15a9)/_0x11d653['w']-(0x51b+-0x22a5+0x1d8b)),_0x7af70a){for(let _0x30dcee=0x1bb8+0x3*0xc6f+0x5*-0xd01;_0x30dcee<0x2171+0x25ac*0x1+-0x46f0;++_0x30dcee)_0x18d747['f_rest_'+_0x30dcee][_0x485387]=_0x7af70a[_0x30dcee];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x18d747});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x188c08=>{if(!this['worker'])return;const {data:_0xa0e7ec}=_0x188c08;switch(_0xa0e7ec['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0xa0e7ec['data']);break;}};}['decompress'](_0x41174a,_0xc01775,_0x2e4eb2,_0x456772,_0x3abec7,_0x17d9db,_0x1ccc40){this['chunkData']=new Float32Array(_0xc01775)['slice'](),this['vertexData']=new Uint32Array(_0x456772)['slice'](),this['shData']=new Uint8Array(_0x3abec7)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x41174a,'chunkData':this['chunkData'],'chunkSize':_0x2e4eb2,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x17d9db});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x168411,_0x119229,_0x47bc2a,_0x230c50,_0x4579ae,_0x41f3ef,_0x4c889e,_0x70471){const _0x2d2519=(_0x3866cb,_0x23f616)=>{const _0x5e294b=(-0x101b*0x1+0x1605+0x59*-0x11<<_0x23f616)-(-0x651+0x2*0x519+-0x3e0);return(_0x3866cb&_0x5e294b)/_0x5e294b;},_0x57ec46=(_0x2f970c,_0x3e3e3e)=>{_0x2f970c['x']=_0x2d2519(_0x3e3e3e>>>-0x252b+0x1*0x515+0x202b,0x1*0xc87+-0x1*-0xc9b+-0x3*0x85d),_0x2f970c['y']=_0x2d2519(_0x3e3e3e>>>0x1b91+0xd49*0x1+-0x28cf,-0x1b6*-0x5+-0x641*-0x4+-0x4*0x862),_0x2f970c['z']=_0x2d2519(_0x3e3e3e,0x1f5f+0x3*0x3d5+-0x2ad3);},_0x570a9f=(_0x50ad6b,_0x15abb5)=>{_0x50ad6b['x']=_0x2d2519(_0x15abb5>>>-0x2*0x113b+0x2d3*-0x5+0x30ad,0x1*0x91f+0x78*-0xe+-0x287),_0x50ad6b['y']=_0x2d2519(_0x15abb5>>>-0x1fd4+-0x1*-0xd21+0x3*0x641,-0x234*-0x1+0xb8a+-0x9*0x186),_0x50ad6b['z']=_0x2d2519(_0x15abb5>>>0x1840+-0x5*-0x44e+-0x2dbe,-0x435+0x1c45+-0x1808),_0x50ad6b['w']=_0x2d2519(_0x15abb5,0x7e0+0x1b*-0x1f+-0x493);},_0x13d290=(_0x40689f,_0x461e77)=>{const _0x4c4e43=(0x1*0x1f83+0x107*0x7+-0x1*0x26b3)/(Math['sqrt'](-0x10ca+-0x1*-0x2487+-0x1*0x13bb)*(0x125b+0x9b7+-0x1c12*0x1+0.5)),_0x57a365=(_0x2d2519(_0x461e77>>>-0x2*-0xde1+-0x2088+-0x8a*-0x9,-0x2700+0x293*0xb+-0x2d*-0x3d)-(-0x1a36+-0x115+0x1b4b+0.5))*_0x4c4e43,_0x5e9218=(_0x2d2519(_0x461e77>>>-0x1222+-0xaf3*-0x2+-0x9f*0x6,0x1*-0x1aa7+0x1abe+-0x1*0xd)-(0x11e4+-0x26f1*-0x1+-0x1*0x38d5+0.5))*_0x4c4e43,_0x56075d=(_0x2d2519(_0x461e77,0x1c33*0x1+-0x1d6c+-0x13*-0x11)-(-0x1434+-0x1c06+-0x303a*-0x1+0.5))*_0x4c4e43,_0x11cf0c=Math['sqrt'](-0x2317+-0x1*0x230b+0x4623-(_0x57a365*_0x57a365+_0x5e9218*_0x5e9218+_0x56075d*_0x56075d));switch(_0x461e77>>>-0x3cf+-0x638+0xa25){case-0x1f4d+-0x308+0x2255:_0x40689f['set'](_0x57a365,_0x5e9218,_0x56075d,_0x11cf0c);break;case 0x1edb*-0x1+-0x2*0x3bf+-0x132d*-0x2:_0x40689f['set'](_0x11cf0c,_0x5e9218,_0x56075d,_0x57a365);break;case-0x2*-0xb0f+-0x11d6+-0x446:_0x40689f['set'](_0x5e9218,_0x11cf0c,_0x56075d,_0x57a365);break;case-0x13*0xe6+-0x542+-0x1657*-0x1:_0x40689f['set'](_0x5e9218,_0x56075d,_0x11cf0c,_0x57a365);break;}},_0xf328dc=(_0x207755,_0xfbf0c6,_0x54c449)=>_0x207755*(0x19e6+0x2*-0x74b+-0xb4f-_0x54c449)+_0xfbf0c6*_0x54c449,{chunkData:_0x3c63a6,chunkSize:_0x5cf11b,vertexData:_0x4ce5f5,shData:_0xade3b9,shBands:_0x56fa8d}=_0x168411,_0x2a1989=[-0x13b*0x12+-0x36*-0x17+-0x15*-0xd3,-0x2c0+0x1*-0x83b+-0xb03*-0x1,0x1206+-0x2436+0x123f][_0x56fa8d-(0x1*0x12d8+0xc61*-0x1+-0x676)],_0x1234a8=0x1925+0x11*-0x27+-0x1688;this['read']=_0x10113a=>{const _0x229ebd=Math['floor'](_0x10113a/(-0x147*-0x14+0x19c9+-0x1*0x3255))*_0x5cf11b;if(_0x119229&&(_0x57ec46(_0x119229,_0x4ce5f5[_0x10113a*_0x1234a8+(0x104d+-0x26cb*-0x1+-0x3718)]),_0x119229['x']=_0xf328dc(_0x3c63a6[_0x229ebd+(0xbf*-0x9+-0x84a+-0x1*-0xf01)],_0x3c63a6[_0x229ebd+(-0x1*-0xe3f+0x223a+-0x3076)],_0x119229['x']),_0x119229['y']=_0xf328dc(_0x3c63a6[_0x229ebd+(0xc25+-0x9b7+-0x26d)],_0x3c63a6[_0x229ebd+(0x161c+0x1644+-0x2c5c)],_0x119229['y']),_0x119229['z']=_0xf328dc(_0x3c63a6[_0x229ebd+(-0x149f+0x6b9+0xde8)],_0x3c63a6[_0x229ebd+(0x17*0x11a+-0x353+-0x15fe)],_0x119229['z'])),_0x47bc2a&&_0x13d290(_0x47bc2a,_0x4ce5f5[_0x10113a*_0x1234a8+(0x1*-0x6d3+-0xcd5+0x2cf*0x7)]),_0x230c50&&(_0x57ec46(_0x230c50,_0x4ce5f5[_0x10113a*_0x1234a8+(-0xdf*0x13+0x1*0x1d2a+-0xc9b)]),_0x230c50['x']=_0xf328dc(_0x3c63a6[_0x229ebd+(0x19b1+-0x908+-0x10a3*0x1)],_0x3c63a6[_0x229ebd+(-0x11*-0x97+0x1c+-0xa1a)],_0x230c50['x']),_0x230c50['y']=_0xf328dc(_0x3c63a6[_0x229ebd+(0xcb8+-0x75e+-0x553)],_0x3c63a6[_0x229ebd+(-0x1*0x109+-0x9*0x172+0xe15)],_0x230c50['y']),_0x230c50['z']=_0xf328dc(_0x3c63a6[_0x229ebd+(-0x1*0x713+0x23e+0x4dd)],_0x3c63a6[_0x229ebd+(0x1f6b+-0x1*0x114c+0xe14*-0x1)],_0x230c50['z'])),_0x4579ae&&(_0x570a9f(_0x4579ae,_0x4ce5f5[_0x10113a*_0x1234a8+(-0x160d+0x1*0x2681+-0x45*0x3d)]),_0x5cf11b>-0xf07+0x1d64+-0xe51&&(_0x4579ae['x']=_0xf328dc(_0x3c63a6[_0x229ebd+(-0x2*-0x1102+-0x7*0x4eb+0x75*0x1)],_0x3c63a6[_0x229ebd+(0x233b*0x1+-0x1ac9+-0x863)],_0x4579ae['x']),_0x4579ae['y']=_0xf328dc(_0x3c63a6[_0x229ebd+(-0x1077+-0x1148+0x26a*0xe)],_0x3c63a6[_0x229ebd+(0x1c00+-0x2336*0x1+0x746)],_0x4579ae['y']),_0x4579ae['z']=_0xf328dc(_0x3c63a6[_0x229ebd+(0x9d6*0x1+-0x2235+-0x1*-0x186d)],_0x3c63a6[_0x229ebd+(0x93*0xb+0x1c86+0x22c6*-0x1)],_0x4579ae['z']))),_0x41f3ef&&(_0x57ec46(_0x41f3ef,_0x4ce5f5[_0x10113a*_0x1234a8+(-0x17e7+-0x479*-0x3+0xa80)]),_0x41f3ef['x']=_0xf328dc(_0x3c63a6[_0x229ebd+(-0x17b6*-0x1+0x4*-0x6a1+0x170*0x2)],_0x3c63a6[_0x229ebd+(-0x11af+-0x26*0xef+0x353e)],_0x41f3ef['x']),_0x41f3ef['y']=_0xf328dc(_0x3c63a6[_0x229ebd+(-0x6a9+-0x226*-0x3+0x4a*0x1)],_0x3c63a6[_0x229ebd+(-0x26c7+-0xedb+0xc*0x47a)],_0x41f3ef['y']),_0x41f3ef['z']=_0xf328dc(_0x3c63a6[_0x229ebd+(0x373+-0x128a+0xf2b)],_0x3c63a6[_0x229ebd+(-0x2001+0x1*-0x287+0x1*0x229f)],_0x41f3ef['z'])),_0x4c889e&&(_0x57ec46(_0x4c889e,_0x4ce5f5[_0x10113a*_0x1234a8+(-0x1*-0x1db6+-0x22cf+0x51e)]),_0x4c889e['x']=_0xf328dc(_0x3c63a6[_0x229ebd+(-0x1*-0x20a2+-0x1d2+0x1eb8*-0x1)],_0x3c63a6[_0x229ebd+(-0x12d7+0x25e+0x1092)],_0x4c889e['x']),_0x4c889e['y']=_0xf328dc(_0x3c63a6[_0x229ebd+(0x2656+-0x200c+-0x10*0x63)],_0x3c63a6[_0x229ebd+(0x17a2+-0x358*0x8+-0x37*-0xf)],_0x4c889e['y'])),_0x70471&&_0x56fa8d>-0x1*-0x1f97+-0xc6f*-0x3+-0x44e4){for(let _0x1d0a8a=-0x16a3+0x2d5+0x13ce;_0x1d0a8a<-0x1*-0x9da+0x1bc5*0x1+-0x259c;++_0x1d0a8a)for(let _0x4685c7=-0x8fe+-0xe2b+0x1*0x1729;_0x4685c7<-0x7c*-0x1+-0xe45*0x2+0x1c1d;++_0x4685c7)_0x70471[_0x1d0a8a*(0xa*0x352+0xc74*0x1+0x511*-0x9)+_0x4685c7]=_0x4685c7<_0x2a1989?_0xade3b9[(_0x10113a*(0x1cb8+0x99*-0x6+-0x191f)+_0x1d0a8a)*_0x2a1989+_0x4685c7]*((-0x1b1b+-0x160*0xc+0x2ba3)/(-0xfe6+-0x2c6*-0x2+0x245*0x5))-(0xba4*0x1+-0xa41*0x1+-0x15f):0x1fa*-0x8+0xa5+0xb*0x161;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x15adf,_0x194dee,_0x30e3f9,_0x33312b,_0x2f9110,_0xc307e8,_0x4693a1){return new R2(this,_0x15adf,_0x194dee,_0x30e3f9,_0x33312b,_0x2f9110,_0xc307e8,_0x4693a1);}['calcAabb'](_0xf7f8c5){const {chunkData:_0x5bcd76,numChunks:_0x2b57e9,chunkSize:_0x37eb62}=this;let _0x477d12=Math['exp'](Math['max'](_0x5bcd76[0x1e7f+0x1*-0x4d2+-0x19a4],_0x5bcd76[0x7*-0xd6+-0x2a6+-0x88a*-0x1],_0x5bcd76[0x1a34+-0x64*0x50+0x517])),_0x291d74=_0x5bcd76[-0xc4*0x2+-0x1d22+0x1*0x1eaa]-_0x477d12,_0x2c3432=_0x5bcd76[0x1445+-0x2*0x58f+-0x926]-_0x477d12,_0x49b99c=_0x5bcd76[0x11*0x53+0x922+0x1*-0xea3]-_0x477d12,_0x4d4fb2=_0x5bcd76[0x7db+0x1ae6+-0x22be]+_0x477d12,_0x560e55=_0x5bcd76[-0x8a5+0xb53+0x16*-0x1f]+_0x477d12,_0x2d16d1=_0x5bcd76[-0x9*0x2e0+-0x8f*-0x19+0xbee]+_0x477d12;for(let _0x1d084e=0x1813*-0x1+0x967*0x2+0x546;_0x1d084e<_0x2b57e9;++_0x1d084e){const _0x2d6f58=_0x1d084e*_0x37eb62;_0x477d12=Math['exp'](Math['max'](_0x5bcd76[_0x2d6f58+(0xc01*0x1+0x964+-0x155c)],_0x5bcd76[_0x2d6f58+(-0x240c+-0x2003*-0x1+0x413)],_0x5bcd76[_0x2d6f58+(-0x1cd+0x18b1+0x1*-0x16d9)])),_0x291d74=Math['min'](_0x291d74,_0x5bcd76[_0x2d6f58+(-0x16e1*-0x1+0x210f+-0x5*0xb30)]-_0x477d12),_0x2c3432=Math['min'](_0x2c3432,_0x5bcd76[_0x2d6f58+(0x338*-0xa+0x2534+-0x503)]-_0x477d12),_0x49b99c=Math['min'](_0x49b99c,_0x5bcd76[_0x2d6f58+(-0x1*-0x221b+-0xe9*0x13+-0x10ce)]-_0x477d12),_0x4d4fb2=Math['max'](_0x4d4fb2,_0x5bcd76[_0x2d6f58+(-0x1*0xf5f+0x242d+-0x1*0x14cb)]+_0x477d12),_0x560e55=Math['max'](_0x560e55,_0x5bcd76[_0x2d6f58+(0x1*-0x26e3+-0x300+0x29e7)]+_0x477d12),_0x2d16d1=Math['max'](_0x2d16d1,_0x5bcd76[_0x2d6f58+(-0x11*0x13+-0x331+0x479*0x1)]+_0x477d12);}return _0xf7f8c5['center']['set']((_0x291d74+_0x4d4fb2)*(0x8c5+0x1abc+0x3d*-0x95+0.5),(_0x2c3432+_0x560e55)*(0x1*-0x1bce+0x14fb+0x6d3+0.5),(_0x49b99c+_0x2d16d1)*(-0xf9f+-0xe5c+-0x1*-0x1dfb+0.5)),_0xf7f8c5['halfExtent'+'s']['set']((_0x4d4fb2-_0x291d74)*(-0x97+-0x183a+-0x1*-0x18d1+0.5),(_0x560e55-_0x2c3432)*(0x1f8d+0xbfc*-0x1+0x1391*-0x1+0.5),(_0x2d16d1-_0x49b99c)*(-0x10ea*-0x1+0x2125*0x1+0x1*-0x320f+0.5)),!(0x224a+0x22c3+-0x450d);}['getCenters'](_0xeddd7){const {vertexData:_0x31be31,chunkData:_0x475e16,numChunks:_0x263690,chunkSize:_0x3a825b}=this;let _0x1d7ad4,_0x1aec25,_0x3b66fc,_0x1741e4,_0x39406a,_0x4a88a9;for(let _0x26d2a9=0x1068+-0x2*0x1373+-0xb3f*-0x2;_0x26d2a9<_0x263690;++_0x26d2a9){const _0x4c7120=_0x26d2a9*_0x3a825b;_0x1d7ad4=_0x475e16[_0x4c7120+(0x3*0xc9+0x1ef*0x11+0x9*-0x3ea)],_0x1aec25=_0x475e16[_0x4c7120+(-0x262b*-0x1+-0x1ca7+-0x983)],_0x3b66fc=_0x475e16[_0x4c7120+(0x32*0x9+-0x33*-0x40+-0xe80*0x1)],_0x1741e4=_0x475e16[_0x4c7120+(-0xa*0x109+0x2151+-0x16f4)],_0x39406a=_0x475e16[_0x4c7120+(0x6b0+0x4e6+-0xb92)],_0x4a88a9=_0x475e16[_0x4c7120+(0x246f*0x1+0x240d+0x593*-0xd)];const _0x46e3ff=Math['min'](this['numSplats'],(_0x26d2a9+(0x757+0xca0+-0x13f6))*(0x21d*-0x8+0x43b+-0x48f*-0x3));for(let _0x34b758=_0x26d2a9*(-0x1*0x255+0xb12*-0x1+0xe67);_0x34b758<_0x46e3ff;++_0x34b758){const _0x525776=_0x31be31[_0x34b758*(-0x725+-0x223e+0x2967)],_0x35ca3e=(_0x525776>>>-0x488+0x15ba+-0xd*0x151)/(0x1*0xacc+0x1720+0x1*-0x19ed),_0x34e8d2=(_0x525776>>>0x1*0x745+0x57a+-0xcb4&-0xa8e+-0x812+0x169f)/(0x50*0x64+-0x677+-0x2*0xa65),_0xcfc835=(_0x525776&0x23b4+-0xf2*-0x1+0x1e9*-0xf)/(0x235d+-0x1*0xe18+0xd46*-0x1);_0xeddd7[_0x34b758*(-0x13d0+-0x1dce+0x31a1*0x1)+(0x12ef+-0xfee+0x1*-0x301)]=(0x1837+0x2359+-0x3b8f-_0x35ca3e)*_0x1d7ad4+_0x35ca3e*_0x1741e4,_0xeddd7[_0x34b758*(-0x513+-0x20f7+0x260d)+(0x1781+-0xdf6*0x1+-0x98a)]=(0x1e5f+-0x26*-0x6d+-0x2e8c-_0x34e8d2)*_0x1aec25+_0x34e8d2*_0x39406a,_0xeddd7[_0x34b758*(0x14fb+-0x1a27+0x52f)+(0x79+0x22*0xc5+-0x1aa1*0x1)]=(0x1df*0xb+0x1a07+-0x123*0x29-_0xcfc835)*_0x3b66fc+_0xcfc835*_0x4a88a9;}}}['calcFocalP'+'oint'](_0x59593a){const {chunkData:_0x5e40f3,numChunks:_0x31c8d7,chunkSize:_0x118c8f}=this;_0x59593a['x']=0x201c+-0x18c5+0x1*-0x757,_0x59593a['y']=0x10e2+-0x200d+0xf2b,_0x59593a['z']=-0x74b*-0x2+0x2523+-0x1*0x33b9;for(let _0x170702=-0x195f+0x535*0x2+-0x7*-0x223;_0x170702<_0x31c8d7;++_0x170702){const _0x22f06f=_0x170702*_0x118c8f;_0x59593a['x']+=_0x5e40f3[_0x22f06f+(0x19e*0x1+0x235c+-0x24fa)]+_0x5e40f3[_0x22f06f+(0x1420+-0x15d8+0x1*0x1bb)],_0x59593a['y']+=_0x5e40f3[_0x22f06f+(0x59*-0x3a+-0x1*0x1d7d+-0x1*-0x31a8)]+_0x5e40f3[_0x22f06f+(-0xa85+0x36e*-0x8+0x1*0x25f9)],_0x59593a['z']+=_0x5e40f3[_0x22f06f+(0x1cf*0x2+0x2344+-0x4*0x9b8)]+_0x5e40f3[_0x22f06f+(-0x2*0xf+-0xbeb+0xc0e)];}_0x59593a['mulScalar']((-0x43d*0x2+-0x1*-0x2090+0x1816*-0x1+0.5)/_0x31c8d7);}get['isCompress'+'ed'](){return!(0x21*-0x109+-0x23e7+0x461*0x10);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x23ef+-0x233f+0x482e));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0xa0f777;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0xa0f777=this['shData'])==null?void(-0x1*-0xb85+0x5e2+0xb*-0x195):_0xa0f777['length'])/this['numSplats']/(-0x1751+-0x1ec3+-0x3617*-0x1)]??0x2*0xf1b+-0x215f*-0x1+0x1*-0x3f95;}async['decompress'](){const _0x146416=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x15cf50}=this;if(_0x15cf50>-0x5c9+0x5*-0x65f+-0x36c*-0xb){const _0x4289ec=[];for(let _0x1678e8=-0x10f0+0x3d3+0xd1d;_0x1678e8<-0x1752+0x1341+-0x21f*-0x2;++_0x1678e8)_0x4289ec['push']('f_rest_'+_0x1678e8);_0x146416['splice'](_0x146416['indexOf']('f_dc_0')+(0x135f+0x2f3+-0x1651),0x95d+-0x880+-0xdd,..._0x4289ec);}const _0x1ca01f={};_0x146416['forEach'](_0x2ccb4d=>{_0x1ca01f[_0x2ccb4d]=new Float32Array(this['numSplats']);});const _0x425c3e=new P2();return _0x425c3e['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x1ca01f),new Promise((_0x3e724e,_0x195780)=>{_0x425c3e['on']('decompress'+'ed',_0x581c3b=>{_0x425c3e['destroy'](),_0x3e724e(new Da([{'name':'vertex','count':this['numSplats'],'properties':_0x146416['map'](_0x13f532=>({'name':_0x13f532,'type':'float','byteSize':0x4,'storage':_0x581c3b[_0x13f532]}))}]));});});}}const D2=(_0x8f533c,_0x4c4d7a,_0x17edd2,_0x13bcce,_0x428bb9)=>{for(let _0x3f3589=0x495+-0xc0a+0x775;_0x3f3589<_0x428bb9;++_0x3f3589)for(let _0x243a50=0x1ffb+0x5*0x655+-0xfe9*0x4;_0x243a50<_0x13bcce;++_0x243a50)_0x8f533c[_0x3f3589*_0x4c4d7a+_0x243a50]=_0x17edd2[_0x3f3589*_0x13bcce+_0x243a50];},zg=(_0x436d97,_0x41395d,_0x37853a,_0x95ef3c,_0x28250c,_0x3b70d8)=>{for(let _0x2edce3=0x555*-0x5+0x7d3*0x3+0x6*0x88;_0x2edce3<_0x28250c;++_0x2edce3)for(let _0x230f1a=0x4f*-0x3e+0x938+0x9ea;_0x230f1a<_0x95ef3c;++_0x230f1a)_0x436d97[_0x2edce3*_0x41395d+_0x230f1a]=_0x37853a[_0x2edce3*_0x95ef3c+_0x230f1a+_0x3b70d8];};class L2{constructor(_0x3545ab,_0x2d0e55){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x27b82b,chunkSize:_0x4d0f3b,numChunks:_0x41f1c3,numSplats:_0x41d203,vertexData:_0x331621,shBands:_0x3f8b89,is4D:_0x4f2090}=_0x2d0e55;this['device']=_0x3545ab,this['numSplats']=_0x41d203,this['numVisible'+'Splats']=_0x41d203,this['is4D']=_0x4f2090,this['aabb']=new _e(),_0x2d0e55['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x41d203*(0x1dbe+0x1430+-0x31eb)),_0x2d0e55['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x41d203));const _0x1a7e69=this['packedText'+'ure']['lock']();zg(_0x1a7e69,-0x19b+0x635*0x2+-0xacb,_0x331621,-0x505*-0x2+-0x11fb+-0x1*-0x7f7,_0x41d203,-0x908+0x181c+-0xf14),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x41d203));const _0x57f56d=this['packedTime'+'Texture']['lock']();zg(_0x57f56d,0x240d+0x8ad*-0x1+-0x1*0x1b5e,_0x331621,-0x22c3+-0x1*0xbf7+0x2ec0,_0x41d203,0x1c64+-0x1a7f+-0x1e1);const _0x2edbff=this['evalTextur'+'eSize'](_0x41f1c3);_0x2edbff['x']*=-0x10fb+-0x1c7*-0x4+0x4f3*0x2,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ye,_0x2edbff);const _0x5a587e=this['chunkTextu'+'re']['lock']();if(D2(_0x5a587e,(-0x53*-0x37+0x22e5*-0x1+0x1114)*(-0x1284+0x7*0x4d8+0xf5d*-0x1),_0x27b82b,_0x4d0f3b,_0x41f1c3),_0x4d0f3b===0x2068+0xd71+-0x2dcd){for(let _0x1c2e16=0x1e65+-0xf15+-0xf50;_0x1c2e16<_0x41f1c3;++_0x1c2e16)_0x5a587e[_0x1c2e16*(0x119a+0x9be+-0x1b44)+(0xdf0+-0xb3*-0x35+0x5*-0xa30)]=0xc69*0x1+-0x25c8+-0x196*-0x10,_0x5a587e[_0x1c2e16*(0x3*-0x5d5+0x173c+-0x5a9)+(0x2224+0xa6b+-0x2c7f)]=-0x734+0x830+-0x1*0xfb,_0x5a587e[_0x1c2e16*(0x1e2d*-0x1+-0x354+-0x1*-0x2195)+(0x174f+-0x25aa+0xe6c)]=0x26a1+-0x1a1c*0x1+-0xc84;}if(this['chunkTextu'+'re']['unlock'](),_0x3f8b89>0x20ef+0xa33+-0x2b22){const {shData:_0x369abf}=_0x2d0e55,_0x2e82be=this['evalTextur'+'eSize'](_0x41d203),_0x38401a=this['createText'+'ure']('shTexture0',ut,_0x2e82be),_0xa17cd8=this['createText'+'ure']('shTexture1',ut,_0x2e82be),_0x205bed=this['createText'+'ure']('shTexture2',ut,_0x2e82be),_0x2c36f9=_0x38401a['lock'](),_0x383693=_0xa17cd8['lock'](),_0x2d631a=_0x205bed['lock'](),_0x3a73d4=new Uint8Array(_0x2c36f9['buffer']),_0x1d34cb=new Uint8Array(_0x383693['buffer']),_0x23a05e=new Uint8Array(_0x2d631a['buffer']),_0x30e6a9=[-0x24*0xad+-0x108d+-0x4*-0xa39,-0x1435+0x1*-0x1b01+0x2f3e,-0x4*-0x6c5+0x25f*0x2+0x1fc3*-0x1][_0x3f8b89-(0x899*-0x4+0x9*-0x27a+-0x15*-0x2b3)];for(let _0x4d63e9=0x382+-0x3*0xa31+0x1b11;_0x4d63e9<_0x41d203;++_0x4d63e9)for(let _0x19e2b7=-0xa06+0x1*0x1ddb+-0x13d5*0x1;_0x19e2b7<0x4*0xff+-0x17c+-0x271;++_0x19e2b7)_0x3a73d4[_0x4d63e9*(-0xc87*0x1+-0x1f38+-0x8c3*-0x5)+_0x19e2b7]=_0x19e2b7<_0x30e6a9?_0x369abf[(_0x4d63e9*(-0x1ba7+-0x513+-0x1d*-0x121)+(-0x2a4*0x7+0x25*0xe5+-0x2b*0x57))*_0x30e6a9+_0x19e2b7]:-0x5a*0x6+-0x5*0x43f+-0x7f2*-0x3,_0x1d34cb[_0x4d63e9*(-0x1736+-0xd99+0x24df)+_0x19e2b7]=_0x19e2b7<_0x30e6a9?_0x369abf[(_0x4d63e9*(0x2300+0x1ff+0xc*-0x315)+(0x7aa+0x96*-0x3+-0x5e7))*_0x30e6a9+_0x19e2b7]:0x3f0+0x1*-0x644+0x2d3,_0x23a05e[_0x4d63e9*(0x1948+0x12db*-0x2+-0x42a*-0x3)+_0x19e2b7]=_0x19e2b7<_0x30e6a9?_0x369abf[(_0x4d63e9*(-0x1968+-0x2*0x1c8+0x1cfb)+(-0x3*-0x517+-0x4*0x3ef+0x79))*_0x30e6a9+_0x19e2b7]:-0x150b+-0x887+0x1e11;_0x38401a['unlock'](),_0xa17cd8['unlock'](),_0x205bed['unlock'](),this['shTexture0']=_0x38401a,this['shTexture1']=_0xa17cd8,this['shTexture2']=_0x205bed;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x313e62,_0x43e745,_0x5d5466,_0x3e5fe2,_0x782870,_0x494c65;(_0x313e62=this['packedText'+'ure'])==null||_0x313e62['destroy'](),(_0x43e745=this['packedTime'+'Texture'])==null||_0x43e745['destroy'](),(_0x5d5466=this['chunkTextu'+'re'])==null||_0x5d5466['destroy'](),(_0x3e5fe2=this['shTexture0'])==null||_0x3e5fe2['destroy'](),(_0x782870=this['shTexture1'])==null||_0x782870['destroy'](),(_0x494c65=this['shTexture2'])==null||_0x494c65['destroy']();}['createMate'+'rial'](_0x3710f0){const _0x48dade=z0(_0x3710f0);return _0x48dade['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(0x2*-0x774+0x16de+-0x7f6)),_0x48dade['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x48dade['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x48dade['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x48dade['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x48dade['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x48dade['setDefine']('SH_BANDS',0x16c4+0xf8+-0x17b9),_0x48dade['setParamet'+'er']('shTexture0',this['shTexture0']),_0x48dade['setParamet'+'er']('shTexture1',this['shTexture1']),_0x48dade['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x48dade['setDefine']('SH_BANDS',-0x1a*0xec+-0x5*0x7c3+0x1*0x3ec7),_0x48dade;}['evalTextur'+'eSize'](_0x50b832){const _0xdf009a=Math['ceil'](Math['sqrt'](_0x50b832)),_0x2e16f7=Math['ceil'](_0x50b832/_0xdf009a);return new W(_0xdf009a,_0x2e16f7);}['createText'+'ure'](_0x503bbc,_0x22c61a,_0x2865d3,_0x5c78ad){return new he(this['device'],{'name':_0x503bbc,'width':_0x2865d3['x'],'height':_0x2865d3['y'],'format':_0x22c61a,'cubemap':!(0x15*0xef+-0x7*-0x293+-0x259f*0x1),'mipmaps':!(0x8b*-0x1e+0x16*0xd4+-0x1ed),'minFilter':de,'magFilter':de,'addressU':ne,'addressV':ne,..._0x5c78ad?{'levels':[_0x5c78ad]}:{}});}}class F2{constructor(_0x285cdc,_0x5dc961,_0x11d472){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x285cdc,this['splatData']=_0x5dc961,this['comments']=_0x11d472);}['destroy'](){var _0x517d6b;this['device']=null,this['splatData']=null,(_0x517d6b=this['splat'])==null||_0x517d6b['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x502754,_0x60df89,_0x5b6e59){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x60df89,this['splatData']['appendGSpl'+'atData'](_0x502754,_0x5b6e59,_0x60df89),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x47b97d={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x47b97d);const _0x4041e1=new We(),_0x2095e7=_0x4041e1['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x4041e1['setLocalEu'+'lerAngles'](0xc5*-0x2+0x1035*-0x1+0x11bf,-0x2177+-0x1*0x18f5+0x3a6c,-0x1*-0x166f+-0x17*0xf+0x1516*-0x1),_0x2095e7['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x4041e1;}['createInst'+'ance'](_0xa17344={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x453930=this['createSpla'+'t']();return new zp(_0x453930,_0xa17344);}}const k2='super4d-ca'+'che-v1',O2={'maxAge':(0x6e5+0x293*0xe+-0x2ad1)*(-0x2383+-0x1*-0x1387+0x1014)*(-0x106f*-0x1+0x1263+-0x2296)*(-0x2682+0x9*-0x68+0x2a66)*(-0x7*-0x3be+-0x1*-0x1ad7+-0x3121*0x1),'maxSize':(-0x308*0x4+0x1*-0x1a93+0x26bd)*(-0x31*0xe+-0x25a7+-0x9*-0x4ed)*(0x1b5e+-0x51*-0x1+-0x1*0x17af)*(0x107*0x21+-0x91d+0x3*-0x6ee)};class B2{constructor(_0x5bef49={}){this['options']={...O2,..._0x5bef49},this['cache']=null,this['init']();}async['init'](){try{this['cache']=await caches['open'](k2);}catch(_0x55ef4c){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x55ef4c);}}async['get'](_0x30659a){if(!this['cache'])return null;try{const _0x250440=await this['cache']['match'](_0x30659a);if(!_0x250440)return null;const _0x1b1e16=_0x250440['headers']['get']('x-cache-ti'+'me');return _0x1b1e16&&Date['now']()-parseInt(_0x1b1e16)>this['options']['maxAge']?(await this['delete'](_0x30659a),null):(console['log']('____\x20ENGIN'+'E\x20IVAN','cache\x20hit',_0x30659a),_0x250440);}catch(_0x5ba2d6){return console['error']('Cache\x20get\x20'+'error:',_0x5ba2d6),null;}}async['set'](_0x163f5b,_0x3490a3){if(!(!this['cache']||_0x163f5b['startsWith']('blob:')))try{const _0x2b88b6=_0x3490a3['clone'](),_0x29fb81=new Headers(_0x2b88b6['headers']);_0x29fb81['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x52d23f=new Response(await _0x2b88b6['blob'](),{'status':_0x2b88b6['status'],'statusText':_0x2b88b6['statusText'],'headers':_0x29fb81});await this['cache']['put'](_0x163f5b,_0x52d23f);}catch(_0x4bb40b){console['error']('Cache\x20set\x20'+'error:',_0x4bb40b);}}async['delete'](_0x3ebbb1){if(this['cache'])try{await this['cache']['delete'](_0x3ebbb1);}catch(_0xff17d4){console['error']('Cache\x20dele'+'te\x20error:',_0xff17d4);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0xc3a173=>Promise['all'](_0xc3a173['map'](_0x2d1a68=>this['cache']['delete'](_0x2d1a68))));}catch(_0x4bae7c){console['error']('Cache\x20clea'+'r\x20error:',_0x4bae7c);}}}class N2{constructor(_0x530d4d={}){this['cacheManag'+'er']=new B2(_0x530d4d['cache']),this['retryCount']=_0x530d4d['retryCount']||-0x253d+0x19b2+-0x22*-0x57,this['retryDelay']=_0x530d4d['retryDelay']||-0x2*0xc7+-0xe55+0x9*0x233;}async['fetch'](_0x499045,_0x4ae33a={}){const {useCache:_0x48d84b=!(-0x42*-0xc+-0x179f+0x1487),forceRefresh:_0x5c3368=!(-0x25ce+-0xd*0xcb+0x301e),..._0x20bfd0}=_0x4ae33a;if(_0x5c3368&&await this['cacheManag'+'er']['delete'](_0x499045),_0x48d84b){const _0x34f880=await this['cacheManag'+'er']['get'](_0x499045);if(_0x34f880)return _0x34f880;}let _0x458590;for(let _0x558313=0x186e+-0x4c7*-0x8+-0x3ea6;_0x558313<this['retryCount'];_0x558313++)try{const _0x713877=await fetch(_0x499045,_0x20bfd0);if(!_0x713877['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x713877['status']);return _0x48d84b&&await this['cacheManag'+'er']['set'](_0x499045,_0x713877['clone']()),_0x713877;}catch(_0x9f97b7){_0x458590=_0x9f97b7,_0x558313<this['retryCount']-(0x53*-0x52+-0x11c0+0x2c57)&&await new Promise(_0x4b1ae0=>setTimeout(_0x4b1ae0,this['retryDelay']*(_0x558313+(-0x4a0+0x656+0x13*-0x17))));}throw _0x458590;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}}const z2=new N2(),Ug=new Uint8Array([-0xd*0x265+0x2*0x439+0x171f,0x12*0x108+-0x6f2+0x2*-0x599,0x5*0x542+-0xab*-0x25+-0x3288,0x5ab*-0x5+0x68+0x5d*0x4d]),Vg=new Uint8Array([0x17e6+0xef*0x1c+-0x32*0x100,-0x6a*0x11+0xcca+-0x55b,-0xb5a+0x1ee6+0x2*-0x98f,-0x25af+-0x2700+0x4d13,0x3d4*-0x4+0x260f+-0x1*0x1660,-0x1*-0x9cd+0xcaf+-0x1614,0x812*-0x3+0x117f+0x71c,-0xb3*-0x27+-0x48c+-0x16*0x104,-0x235b+-0x10b+0x24ca,-0x1459+0x173*0x4+0xef2,-0x1a5*-0x4+-0x2*0x113+-0x3fc,-0x337*-0x1+-0x3*0xb4e+-0x3d*-0x81]),wf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class U2{constructor(_0x37e247,_0x58a815){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0x1*-0x222a+-0xb3*0xa+-0x4*0x6cb),c(this,'tail',0xe38+0x451+-0x3b5*0x5),(this['reader']=_0x37e247,this['progressFu'+'nc']=_0x58a815);}async['read'](){var _0x3121ca;const {value:_0x131c16,done:_0x1e1d07}=await this['reader']['read']();if(_0x1e1d07)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x131c16),(_0x3121ca=this['progressFu'+'nc'])==null||_0x3121ca['call'](this,_0x131c16['byteLength']);}['push'](_0x4d6a85){if(!this['data'])this['data']=_0x4d6a85,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x4d6a85['length'];else{const _0x71015c=this['tail']-this['head'],_0x3aaec7=_0x71015c+_0x4d6a85['length'];if(this['data']['length']>=_0x3aaec7)this['head']>-0x11bc+-0x1e5b*-0x1+-0xc9f?(this['data']['copyWithin'](0xae6+-0xad9*-0x1+0x15bf*-0x1,this['head'],this['tail']),this['data']['set'](_0x4d6a85,_0x71015c),this['head']=0x13d4+-0x9*-0x371+0x33*-0xff,this['tail']=_0x3aaec7):(this['data']['set'](_0x4d6a85,this['tail']),this['tail']+=_0x4d6a85['length']);else{const _0x154308=new Uint8Array(_0x3aaec7);this['head']>-0x187*0x3+0x1e24*0x1+-0x198f*0x1||this['tail']<this['data']['length']?_0x154308['set'](this['data']['subarray'](this['head'],this['tail']),0x650+0x1e07*-0x1+-0x1*-0x17b7):_0x154308['set'](this['data'],-0x1a79+-0x9*0x10b+0x1*0x23dc),_0x154308['set'](_0x4d6a85,_0x71015c),this['data']=_0x154308,this['view']=new DataView(this['data']['buffer']),this['head']=0x18d3+-0xbb5+0x2e*-0x49,this['tail']=_0x3aaec7;}}}['compact'](){this['head']>-0x3a9+0x62*-0x65+0xc5*0x37&&(this['data']['copyWithin'](0xd8e+-0x1608+0x87a,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x226e+-0x9*0x40a+0x1ec);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x17b2fa=this['view']['getInt8'](this['head']);return this['head']++,_0x17b2fa;}['getUint8'](){const _0x295634=this['view']['getUint8'](this['head']);return this['head']++,_0x295634;}['getInt16'](){const _0x39c4c0=this['view']['getInt16'](this['head'],!(0x22eb+0x1363*-0x1+-0xf88));return this['head']+=-0x16*-0x1a6+-0x4*-0x10+0x1241*-0x2,_0x39c4c0;}['getUint16'](){const _0x28c241=this['view']['getUint16'](this['head'],!(-0x17*-0x131+0x20eb+-0x3c52));return this['head']+=0x26e+-0x1818+0x15ac,_0x28c241;}['getInt32'](){const _0x562b11=this['view']['getInt32'](this['head'],!(0x1a00+0x1*-0x353+-0x16ad));return this['head']+=0x4*0x89a+0x2*0x20+-0x22a4,_0x562b11;}['getUint32'](){const _0x4415ce=this['view']['getUint32'](this['head'],!(-0x33b*0x3+-0x8c2+-0x1273*-0x1));return this['head']+=-0x2fc+0xc94+-0x994,_0x4415ce;}['getFloat32'](){const _0x5a15e2=this['view']['getFloat32'](this['head'],!(0x65*0x1+-0x12f3+0x1db*0xa));return this['head']+=0x1b0+0x2430+-0x25dc,_0x5a15e2;}['getFloat64'](){const _0x46fd6e=this['view']['getFloat64'](this['head'],!(0x1*-0xf5f+-0x13a9+0x2308));return this['head']+=-0x192c+0x2260+-0x2*0x496,_0x46fd6e;}}const V2=_0x10e9f4=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x118b4f=[],_0x5b5de7=[];let _0x18e9bd;for(let _0x2f1d60=0x77*-0x51+0x19*-0x88+-0x1978*-0x2;_0x2f1d60<_0x10e9f4['length'];++_0x2f1d60){const _0x187389=_0x10e9f4[_0x2f1d60]['split']('\x20');switch(_0x187389[-0x19ed+0x3*-0x9b9+0x4*0xdc6]){case'comment':_0x5b5de7['push'](_0x187389['slice'](-0x1272+-0x2235+0x34a8)['join']('\x20'));break;case'format':_0x18e9bd=_0x187389[-0x19eb+-0x17*0x62+-0x7*-0x4f6];break;case'element':_0x118b4f['push']({'name':_0x187389[0x11*-0x209+0x2*0x16f+0xa94*0x3],'count':parseInt(_0x187389[0x228c+0xd*0x2bc+0x4616*-0x1],-0x1*0x3b+-0x1930+0x1975),'properties':[]});break;case'property':{if(!wf['has'](_0x187389[0xc32+0x1*-0x1ecb+0x129a]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x187389[0x17*0x133+0x49*0x12+-0x20b6]+('\x27\x20in\x20ply\x20h'+'eader'));_0x118b4f[_0x118b4f['length']-(-0x1e50+0x13dd+0x4*0x29d)]['properties']['push']({'type':_0x187389[-0x162e+-0xa*-0x7+0x15e9],'name':_0x187389[0x25c8+0x13d*0xd+-0x35df],'storage':null,'byteSize':wf['get'](_0x187389[0x8d*-0x3b+-0x263b*0x1+0x46bb])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x187389[-0x26db*0x1+0xc90+0x35*0x7f]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x118b4f,'format':_0x18e9bd,'comments':_0x5b5de7};},G2=_0x316a8f=>{const _0x1e88b4=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x22dd80=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x541f89=new Array(-0x1d28+0x807*-0x4+0x2ed*0x15)['fill']('')['map']((_0x3590e0,_0x57828a)=>'f_rest_'+_0x57828a),_0x419eab=()=>_0x316a8f[-0x721+-0x243e+0x3*0xe75]['name']==='chunk'&&_0x316a8f[-0xbf5*0x1+-0x7*0x295+0x1e08]['properties']['every']((_0x3566b3,_0x26ff4b)=>_0x3566b3['name']===_0x1e88b4[_0x26ff4b]&&_0x3566b3['type']==='float')&&_0x316a8f[-0x22eb+-0x494+-0x80*-0x4f]['name']==='vertex'&&_0x316a8f[-0x663+-0x1*0x78d+0xdf1]['properties']['every']((_0x28f0dd,_0x451c7a)=>_0x28f0dd['name']===_0x22dd80[_0x451c7a]&&_0x28f0dd['type']==='uint'),_0x13ec62=()=>_0x316a8f[-0x3d*0x71+-0x824*-0x2+0xaa7]['name']==='sh'&&[-0x25de+-0x1*0x1b87+0x416e,0xd95*-0x2+-0xf*-0x3f+0x1791,0x698+-0x9b1*0x2+-0x1*-0xcf7]['indexOf'](_0x316a8f[-0x3c1+-0x2480+0x2843]['properties']['length'])!==-(-0x2*-0x50c+-0x111*0x1b+-0x63c*-0x3)&&_0x316a8f[0x15c8+0x1dc3+-0xa7*0x4f]['properties']['every']((_0x2aa5eb,_0xb1cbc)=>_0x2aa5eb['name']===_0x541f89[_0xb1cbc]&&_0x2aa5eb['type']==='uchar');return _0x316a8f['length']===0x4d0+0x215+-0x1*0x6e3&&_0x419eab()||_0x316a8f['length']===0x3*-0xbc5+0x1948+0xa0a&&_0x419eab()&&_0x13ec62();},H2=_0x29746f=>_0x29746f['length']===-0xd80+0x92f*0x1+0x452&&_0x29746f[-0x1046+-0x1*-0x1f6c+-0x1*0xf26]['name']==='vertex'&&_0x29746f[-0x1b1*0xd+0x1084+0x3*0x1d3]['properties']['every'](_0x25b703=>_0x25b703['type']==='float'),W2=async(_0xfd9f3d,_0x5a6a32)=>{const _0x4dbdda=new I2(),_0x2a36d6=_0x5a6a32[0xd*-0x138+0x1*-0x17a5+0x277d]['count'],_0x11f8f2=_0x5a6a32[0x89b*0x1+0xc4d+-0xa74*0x2]['properties']['length'],_0x43db86=_0x5a6a32[0x3ad*0x1+-0x7b3+-0x1*-0x407]['count'],_0x4bc49f=_0x5a6a32[0x5ec*-0x6+0x43e+0x1*0x1f4b]['properties']['some'](_0x275e31=>_0x275e31['name']==='packed_tim'+'e'),_0x3731fe=_0x581197=>{const _0x20e6fc=Math['ceil'](Math['sqrt'](_0x581197)),_0xff6364=Math['ceil'](_0x581197/_0x20e6fc);return _0x20e6fc*_0xff6364;};_0x4dbdda['numSplats']=_0x43db86,_0x4dbdda['is4D']=_0x4bc49f,_0x4dbdda['chunkData']=new Float32Array(_0x2a36d6*_0x11f8f2),_0x4dbdda['vertexData']=new Uint32Array(_0x3731fe(_0x43db86)*(0x77b+-0x50+-0x725));const _0x5c3956=async(_0x31ffca,_0x3e3fd4)=>{const _0x4cd01e=new Uint8Array(_0x31ffca);let _0x2162ff=-0xa51*-0x1+-0x43b*0x1+0x616*-0x1;for(;_0x2162ff<_0x3e3fd4;){for(;_0xfd9f3d['remaining']===0x1920+0x329*-0x1+-0x15f7;)await _0xfd9f3d['read']();const _0x4ec11c=Math['min'](_0x3e3fd4-_0x2162ff,_0xfd9f3d['remaining']),_0x1a8d53=_0xfd9f3d['data'];for(let _0x313ce1=-0xb09+-0x1*-0x832+0x2d7;_0x313ce1<_0x4ec11c;++_0x313ce1)_0x4cd01e[_0x2162ff++]=_0x1a8d53[_0xfd9f3d['head']++];}};return await _0x5c3956(_0x4dbdda['chunkData']['buffer'],_0x2a36d6*_0x11f8f2*(-0x2*-0x9bb+0xf92*0x2+0x5*-0xa1e)),await _0x5c3956(_0x4dbdda['vertexData']['buffer'],_0x43db86*(-0x956+0x1*0x1b85+-0x1229)*(0x1*-0x191a+0x1b82+-0x264)),_0x5a6a32['length']===-0xdc4*-0x2+-0xbda+0x3*-0x539&&(_0x4dbdda['shData']=new Uint8Array(_0x5a6a32[-0xc02+0x9cf*-0x3+0x2971]['count']*_0x5a6a32[0x34d*0x9+-0x2310+-0x1*-0x55d]['properties']['length']),await _0x5c3956(_0x4dbdda['shData']['buffer'],_0x4dbdda['shData']['byteLength'])),_0x4dbdda;},$2=async(_0xfb9db2,_0x3b3bbc)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x5af1e0=_0x3b3bbc[0x44*0x83+0x1*0x15da+0x38a6*-0x1],_0x5789d8=_0x5af1e0['properties'],_0x49dd8b=_0x5789d8['length'],_0x4a540d=_0x5789d8['map'](_0x5ab878=>_0x5ab878['storage']),_0x4fb6d8=_0x5789d8['reduce']((_0x2e8f85,_0x5eb6c4)=>_0x2e8f85+_0x5eb6c4['byteSize'],-0x21*-0xb2+0x29b+-0x198d);let _0x204a0c=-0x1*-0x26b+-0x24e0+0x2275*0x1,_0x3a8db4;const _0x4cfd67=()=>{const _0x5c5a46=_0xfb9db2['data']['buffer'];(_0x3a8db4==null?void(0x3ea*-0x8+0x37+0x1*0x1f19):_0x3a8db4['buffer'])!==_0x5c5a46&&(_0x3a8db4=new Float32Array(_0x5c5a46,-0x18e2+0x696*-0x5+0x39d0,_0x5c5a46['byteLength']/(0x587*0x2+-0x14e6+0x9dc)));};for(_0x4cfd67();_0x204a0c<_0x5af1e0['count'];){for(;_0xfb9db2['remaining']<_0x4fb6d8;)await _0xfb9db2['read'](),_0x4cfd67();const _0x1fc99f=Math['min'](_0x5af1e0['count']-_0x204a0c,Math['floor'](_0xfb9db2['remaining']/_0x4fb6d8));for(let _0x5a764c=0x561*-0x1+-0x1562+-0xdd*-0x1f;_0x5a764c<_0x49dd8b;++_0x5a764c){const _0x499900=_0x4a540d[_0x5a764c];for(let _0x16436b=0x23c5+0x65*-0x56+-0x1*0x1d7;_0x16436b<_0x1fc99f;++_0x16436b)_0x499900[_0x16436b+_0x204a0c]=_0x3a8db4[_0x16436b*_0x49dd8b+_0x5a764c];}_0x204a0c+=_0x1fc99f,_0xfb9db2['head']+=_0x1fc99f*_0x4fb6d8;}return new Da(_0x3b3bbc);},q2=async(_0x4a127d,_0x318e1c)=>{for(let _0x2ed58e=-0xf7*0x13+0x2*-0xe36+-0x1*-0x2ec1;_0x2ed58e<_0x318e1c['length'];++_0x2ed58e){const _0x96a04b=_0x318e1c[_0x2ed58e],_0x5e7026=_0x96a04b['properties']['reduce']((_0x4fa590,_0x368549)=>_0x4fa590+_0x368549['byteSize'],-0x111a+-0xde8+0x1f02),_0x1133e8=_0x96a04b['properties']['map'](_0x26d571=>{if(_0x26d571['storage'])switch(_0x26d571['type']){case'char':return(_0x54cbdc,_0x194a4f)=>{_0x26d571['storage'][_0x194a4f]=_0x54cbdc['getInt8']();};case'uchar':return(_0x4bbfc6,_0x2b4d1e)=>{_0x26d571['storage'][_0x2b4d1e]=_0x4bbfc6['getUint8']();};case'short':return(_0xe5213,_0x4814bc)=>{_0x26d571['storage'][_0x4814bc]=_0xe5213['getInt16']();};case'ushort':return(_0xa9ff2c,_0x43420f)=>{_0x26d571['storage'][_0x43420f]=_0xa9ff2c['getUint16']();};case'int':return(_0x234fca,_0x1194c8)=>{_0x26d571['storage'][_0x1194c8]=_0x234fca['getInt32']();};case'uint':return(_0x4dfe66,_0xb5f92c)=>{_0x26d571['storage'][_0xb5f92c]=_0x4dfe66['getUint32']();};case'float':return(_0x2ccaa0,_0x59c2e6)=>{_0x26d571['storage'][_0x59c2e6]=_0x2ccaa0['getFloat32']();};case'double':return(_0x2dc382,_0x3baa80)=>{_0x26d571['storage'][_0x3baa80]=_0x2dc382['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x26d571['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0xbf3257=>{_0xbf3257['head']+=_0x26d571['byteSize'];};});let _0x188443=-0x462*-0x3+-0x8b*-0x3e+-0x2ed0;for(;_0x188443<_0x96a04b['count'];){for(;_0x4a127d['remaining']<_0x5e7026;)await _0x4a127d['read']();const _0x65c229=Math['min'](_0x96a04b['count']-_0x188443,Math['floor'](_0x4a127d['remaining']/_0x5e7026));for(let _0xcf911b=-0x9*0x26+-0x1851+0x19a7;_0xcf911b<_0x65c229;++_0xcf911b){for(let _0x29e713=-0x77b*0x3+-0x1dd6+0x3447;_0x29e713<_0x96a04b['properties']['length'];++_0x29e713)_0x1133e8[_0x29e713](_0x4a127d,_0x188443);_0x188443++;}}}return new Da(_0x318e1c);},X2=async(_0x1bf8c7,_0x43c39d=null,_0x192604=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x5037c2=(_0x5920dd,_0x29a75b)=>{const _0x4ca634=_0x5920dd['length']-_0x29a75b['length'];let _0x346029,_0x4270bd;for(_0x346029=-0x138c+0x1ad1+0x745*-0x1;_0x346029<=_0x4ca634;++_0x346029){for(_0x4270bd=-0x1656+0x219e+-0xb48;_0x4270bd<_0x29a75b['length']&&_0x5920dd[_0x346029+_0x4270bd]===_0x29a75b[_0x4270bd];++_0x4270bd);if(_0x4270bd===_0x29a75b['length'])return _0x346029;}return-(0x864+-0x1*0x58f+-0x2d4);},_0x667e06=(_0x431e73,_0x587acf)=>{if(_0x431e73['length']<_0x587acf['length'])return!(-0x1560+-0x1861*-0x1+0x2*-0x180);for(let _0x362c4a=-0x2*-0x946+0x1*-0x2505+-0x1*-0x1279;_0x362c4a<_0x587acf['length'];++_0x362c4a)if(_0x431e73[_0x362c4a]!==_0x587acf[_0x362c4a])return!(0x1cf*-0x11+0x270+0x714*0x4);return!(-0x790*-0x5+-0x1a48+-0xb88);},_0x2865c7=new U2(_0x1bf8c7,_0x192604);let _0x9ba657;for(;;){if(await _0x2865c7['read'](),_0x2865c7['tail']>=Ug['length']&&!_0x667e06(_0x2865c7['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x9ba657=_0x5037c2(_0x2865c7['data'],Vg),_0x9ba657!==-(-0x12c3+-0x85f*0x3+0x2be1*0x1))break;}const _0x281cf8=new TextDecoder('ascii')['decode'](_0x2865c7['data']['subarray'](0x1*0x785+-0x1fd*-0x5+-0x1176,_0x9ba657))['split']('\x0a'),{elements:_0x4da19d,format:_0x51f970,comments:_0x25aacb}=V2(_0x281cf8);if(_0x51f970!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x2865c7['head']=_0x9ba657+Vg['length'],_0x2865c7['compact'](),{'data':await((async()=>G2(_0x4da19d)?await W2(_0x2865c7,_0x4da19d):(_0x4da19d['forEach'](_0x827e90=>{_0x827e90['properties']['forEach'](_0x43f1ca=>{const _0x9082fa=wf['get'](_0x43f1ca['type']);if(_0x9082fa){const _0xbafcc1=!_0x43c39d||_0x43c39d(_0x43f1ca['name'])?new _0x9082fa(_0x827e90['count']):null;_0x43f1ca['storage']=_0xbafcc1;}});}),H2(_0x4da19d)?await $2(_0x2865c7,_0x4da19d):await q2(_0x2865c7,_0x4da19d)))()),'comments':_0x25aacb};},j2=_0x3b19ff=>!(-0x250*-0xe+0x31*0x1+-0x18d*0x15);class Y2{constructor(_0x4ddc73,_0x1f5870,_0x128c79){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x4ddc73,this['assets']=_0x1f5870,this['maxRetries']=_0x128c79,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x1*-0x1d23+0x775*0x5+0x2*-0x2136);}async['load'](_0x325f84,_0x35d52e,_0x2330bb){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x325f84['load']['includes'](',')?this['urlList']=_0x325f84['load']['split'](','):this['urlList']['push'](_0x325f84['load']);const _0x160bb9=_0x2330bb['data']['loadAllSeq']?this['urlList']['length']:0x13a3+-0x3fa+-0x3ea*0x4,_0x57341b=_0x2330bb['data']['timeOption'],_0x5def0c=_0x2330bb['data']['events'];for(let _0x37f999=-0x1bc5+0x1*0x6e7+0x14de;_0x37f999<_0x160bb9;_0x37f999++)await this['loadGsplat'+'Data'](this['urlList'],_0x35d52e,_0x2330bb,_0x37f999,_0x57341b,_0x5def0c,_0x160bb9);_0x5def0c['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x1dffe7,_0x18c5f8,_0x16ea7d,_0x25856d,_0x14a575,_0x4bb904,_0x34c2e5){var _0x3cdaa6;const _0x4f76e1=_0x1dffe7[_0x25856d]['trim']();try{const _0x5409d8=await z2['fetch'](_0x4f76e1);if(!_0x5409d8||!_0x5409d8['body'])_0x18c5f8('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x42ef14=parseInt(_0x5409d8['headers']['get']('content-le'+'ngth')??'0',-0x1*-0x1723+-0x1f09+0x8*0xfe),{data:_0xfae360,comments:_0x328272}=await X2(_0x5409d8['body']['getReader'](),_0x16ea7d['data']['elementFil'+'ter']??j2,_0x2d1698=>{this['totalRecei'+'ved']+=_0x2d1698,_0x16ea7d&&_0x4bb904['fire']('progress',this['totalRecei'+'ved'],_0x42ef14*_0x34c2e5);});_0xfae360['isCompress'+'ed']||_0x16ea7d['data']['reorder'],this['gsplatReso'+'urce']&&((_0x3cdaa6=this['gsplatReso'+'urce'])!=null&&_0x3cdaa6['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0xfae360['isCompress'+'ed']&&_0x16ea7d['data']['decompress']?await _0xfae360['decompress']():_0xfae360,_0x14a575,_0x25856d):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0xfae360['isCompress'+'ed']&&_0x16ea7d['data']['decompress']?await _0xfae360['decompress']():_0xfae360,_0x328272),this['gsplatReso'+'urce']['timeOption']=_0x14a575),_0x18c5f8(null,this['gsplatReso'+'urce']);}}catch(_0x1891b9){_0x18c5f8(_0x1891b9,null);}}['open'](_0x24307d,_0x163aa7){return _0x163aa7;}}class K2 extends Be{constructor(_0x3c4911){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x3c4911,'gsplat'),this['parser']=new Y2(_0x3c4911['graphicsDe'+'vice'],_0x3c4911['assets'],-0x1a5*-0xb+0x1674+0x2*-0x1444);}['load'](_0x580521,_0x5b0982,_0x16b595){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x580521=='string'&&(_0x580521={'load':_0x580521,'original':_0x580521}),this['parser']['load'](_0x580521,_0x5b0982,_0x16b595);}['open'](_0x1c7c3e,_0x54013f,_0x3702c7){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x1c7c3e,_0x54013f,_0x3702c7);}}class Tf{static['setCompres'+'sedPRS'](_0x287c08,_0x4edcf6,_0x200790){const _0x548a91=_0x200790['singleVecs'];let _0x2de744,_0x53ca12;const _0x4a7ce6=_0x4edcf6['___1'];_0x4a7ce6||(_0x2de744=_0x200790['tripleVecs'],_0x53ca12=_0x4edcf6['___2']);let _0x4c71fe=_0x4a7ce6?_0x4a7ce6[0x11*-0x117+0x40e+0xe79]:_0x2de744[_0x53ca12];_0x287c08['setLocalPo'+'sition'](_0x548a91[_0x4c71fe],_0x548a91[_0x4c71fe+(-0x2f2+0x1*-0x749+0x14*0x83)],_0x548a91[_0x4c71fe+(0x7ae+-0x1bcc+0x20*0xa1)]),_0x4c71fe=_0x4a7ce6?_0x4a7ce6[-0xd39*-0x1+-0x6*0x32b+0x5ca]:_0x2de744[_0x53ca12+(0x3*0x835+0x1*-0x2368+0x565*0x2)],_0x287c08['setLocalEu'+'lerAngles'](_0x548a91[_0x4c71fe],_0x548a91[_0x4c71fe+(-0x113b+0x1*-0xc51+-0x11*-0x1bd)],_0x548a91[_0x4c71fe+(0x56*0x2e+-0x1409*-0x1+0x1*-0x237b)]),_0x4c71fe=_0x4a7ce6?_0x4a7ce6[-0x1ed+0x30f+0x6*-0x30]:_0x2de744[_0x53ca12+(0x11b8+0x1*0xb1+0x7*-0x2a1)],_0x287c08['setLocalSc'+'ale'](_0x548a91[_0x4c71fe],_0x548a91[_0x4c71fe+(-0x1*-0x99e+-0x2*-0x6a1+0x16df*-0x1)],_0x548a91[_0x4c71fe+(-0x265c+-0x559*0x1+0x2bb7)]);}static['oneCharToK'+'ey'](_0x2ef04f,_0x73d48a){const _0x4a37f7=_0x2ef04f['charCodeAt'](-0x570+0x88d+0x31d*-0x1)-_0x73d48a['fieldFirst'+'Code'];return _0x73d48a['fieldArray'][_0x4a37f7];}static['multCharTo'+'Key'](_0x900d37,_0x9ad4e4){let _0x4d9333=-0x1*0x24e6+0xe33+0x16b3;for(let _0xd3433=-0x2251+0x20a8+0x1a9;_0xd3433<_0x900d37['length'];_0xd3433++)_0x4d9333=_0x4d9333*_0x9ad4e4['fieldCodeB'+'ase']+_0x900d37['charCodeAt'](_0xd3433)-_0x9ad4e4['fieldFirst'+'Code'];return _0x9ad4e4['fieldArray'][_0x4d9333];}}class ic{constructor(_0x285e33,_0x18b16a){this['_node']=_0x285e33,this['_data']=_0x18b16a;}['run'](){const _0xdb9516=Object['prototype']['toString']['call'](this['_node']);return _0xdb9516==='[object\x20Ob'+'ject]'?this['_handleMap']():_0xdb9516==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x219868){let _0x2b7d63=_0x219868;const _0x8b1c47=_0x219868['length'];_0x8b1c47===-0x5f*0xb+-0x1d3*0x1+0x5e9?_0x2b7d63=Tf['oneCharToK'+'ey'](_0x219868,this['_data']):_0x8b1c47===-0x19df*-0x1+-0x14bc+-0x1*0x521&&(_0x2b7d63=Tf['multCharTo'+'Key'](_0x219868,this['_data'])),this['_result'][_0x2b7d63]=new ic(this['_node'][_0x219868],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x30ba79){const _0x3f2e51=new ic(_0x30ba79,this['_data'])['run']();this['_result']['push'](_0x3f2e51);}}class $p{constructor(_0x423f85,_0x4b670e){this['_app']=_0x423f85,this['_isTemplat'+'e']=_0x4b670e;}['parse'](_0x177cfb){const _0x31c7c0={};let _0x28e26e=null;const _0x3bea20=_0x177cfb['compressed'+'Format'];_0x3bea20&&!_0x177cfb['entDecompr'+'essed']&&(_0x177cfb['entDecompr'+'essed']=!(-0x1c95+-0xba8+-0x1*-0x283d),_0x177cfb['entities']=new ic(_0x177cfb['entities'],_0x3bea20)['run']());for(const _0x18967e in _0x177cfb['entities']){const _0x1b49bd=_0x177cfb['entities'][_0x18967e],_0x3f49e0=this['_createEnt'+'ity'](_0x1b49bd,_0x3bea20);_0x31c7c0[_0x18967e]=_0x3f49e0,_0x1b49bd['parent']===null&&(_0x28e26e=_0x3f49e0);}for(const _0x543a62 in _0x177cfb['entities']){const _0x59d006=_0x31c7c0[_0x543a62],_0x730d03=_0x177cfb['entities'][_0x543a62]['children'],_0x260717=_0x730d03['length'];for(let _0x453308=0x1660+-0x75*0x1f+-0x835;_0x453308<_0x260717;_0x453308++){const _0x56ccb0=_0x31c7c0[_0x730d03[_0x453308]];_0x56ccb0&&_0x59d006['addChild'](_0x56ccb0);}}return this['_openCompo'+'nentData'](_0x28e26e,_0x177cfb['entities']),_0x28e26e;}['_createEnt'+'ity'](_0x40a213,_0x4b8bec){const _0x470b48=new We(_0x40a213['name'],this['_app']);if(_0x470b48['setGuid'](_0x40a213['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x470b48,_0x40a213,_0x4b8bec),_0x470b48['_enabled']=_0x40a213['enabled']??!(-0x180d+0x1e83*0x1+-0x676*0x1),this['_isTemplat'+'e']?_0x470b48['_template']=!(-0x26b6+0x1b5d+-0x5*-0x245):_0x470b48['_enabledIn'+'Hierarchy']=_0x470b48['_enabled'],_0x470b48['template']=_0x40a213['template'],_0x40a213['tags']){for(let _0xfb6fb2=-0x236e+0x1*-0x25cd+-0x3*-0x1869;_0xfb6fb2<_0x40a213['tags']['length'];_0xfb6fb2++)_0x470b48['tags']['add'](_0x40a213['tags'][_0xfb6fb2]);}return _0x470b48;}['_setPosRot'+'Scale'](_0x4506bc,_0x4c029f,_0x3127dd){if(_0x3127dd)Tf['setCompres'+'sedPRS'](_0x4506bc,_0x4c029f,_0x3127dd);else{const _0x589087=_0x4c029f['position'],_0x32df55=_0x4c029f['rotation'],_0x434a1b=_0x4c029f['scale'];_0x4506bc['setLocalPo'+'sition'](_0x589087[-0x1*-0x6b7+-0x7f4+0x13d],_0x589087[-0x1bbb*-0x1+-0x20d0+0x3*0x1b2],_0x589087[-0xa54+0x6e0*0x2+-0x36a]),_0x4506bc['setLocalEu'+'lerAngles'](_0x32df55[-0x5eb+0x3b*0x3f+0x6*-0x16f],_0x32df55[0x2119+-0x183c+-0x8dc],_0x32df55[0x1*0xf5f+0x261+-0x11be*0x1]),_0x4506bc['setLocalSc'+'ale'](_0x434a1b[-0x18bb*-0x1+0x2e*-0xcd+0xc1b],_0x434a1b[0x3e5*-0x5+-0x127b+0x25f5],_0x434a1b[-0x2162*0x1+-0x3*-0x595+0x10a5]);}}['_openCompo'+'nentData'](_0x1a5a37,_0x57ed41){const _0x562f1a=this['_app']['systems']['list'];let _0x31e1bd=_0x562f1a['length'];const _0x4c8554=_0x57ed41[_0x1a5a37['getGuid']()];for(let _0x3f3391=-0x1d69+-0x2*-0x12d+0x1b0f;_0x3f3391<_0x31e1bd;_0x3f3391++){const _0x5ee634=_0x562f1a[_0x3f3391],_0x36d316=_0x4c8554['components'][_0x5ee634['id']];_0x36d316&&_0x5ee634['addCompone'+'nt'](_0x1a5a37,_0x36d316);}_0x31e1bd=_0x4c8554['children']['length'];const _0x22bfe1=_0x1a5a37['_children'];for(let _0x5ee8a1=0x102e+0x17b9*-0x1+0x78b;_0x5ee8a1<_0x31e1bd;_0x5ee8a1++)_0x22bfe1[_0x5ee8a1]?_0x22bfe1[_0x5ee8a1]=this['_openCompo'+'nentData'](_0x22bfe1[_0x5ee8a1],_0x57ed41):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x1a5a37['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x1a5a37;}}class Lx{static['load'](_0x3e12ff,_0x1cc25c,_0x4a3ede){typeof _0x3e12ff=='string'&&(_0x3e12ff={'load':_0x3e12ff,'original':_0x3e12ff}),$e['get'](_0x3e12ff['load'],{'retry':_0x1cc25c>-0xb*-0x344+-0xa73*-0x1+-0x9*0x527,'maxRetries':_0x1cc25c},(_0x5157d7,_0x2d15d5)=>{if(!_0x5157d7)_0x4a3ede(_0x5157d7,_0x2d15d5);else{let _0x3c349c='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x3e12ff['original'];_0x5157d7['message']?(_0x3c349c+=':\x20'+_0x5157d7['message'],_0x5157d7['stack']&&(_0x3c349c+='\x0a'+_0x5157d7['stack'])):_0x3c349c+=':\x20'+_0x5157d7,_0x4a3ede(_0x3c349c);}});}}class Z2 extends Be{constructor(_0x302273){super(_0x302273,'hierarchy');}['load'](_0x2ed1d7,_0x5b40ec){Lx['load'](_0x2ed1d7,this['maxRetries'],_0x5b40ec);}['open'](_0x28117e,_0x779d9a){this['_app']['systems']['script']['preloading']=!(-0x294+0x394*0x2+0x125*-0x4);const _0x7966c3=new $p(this['_app'],!(-0x1905+0x1087*-0x2+-0x1c*-0x213))['parse'](_0x779d9a);return this['_app']['systems']['script']['preloading']=!(-0x109c+-0x258f*-0x1+-0x14f2),_0x7966c3;}}class Q2 extends Be{constructor(_0x4df451){super(_0x4df451,'html'),c(this,'decoder',null);}['load'](_0x4bcac3,_0x5cbab2){typeof _0x4bcac3=='string'&&(_0x4bcac3={'load':_0x4bcac3,'original':_0x4bcac3}),$e['get'](_0x4bcac3['load'],{'retry':this['maxRetries']>0x347*0x2+0x2f*0x92+-0x3d*0x8c,'maxRetries':this['maxRetries']},(_0x203f68,_0x42f6cf)=>{_0x203f68?_0x5cbab2('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x4bcac3['original']+'\x20['+_0x203f68+']'):_0x5cbab2(null,_0x42f6cf);});}['openBinary'](_0x1f0068){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1f0068);}}class J2 extends Be{constructor(_0x358407){super(_0x358407,'json'),c(this,'decoder',null);}['load'](_0x25a78e,_0x5e41a8){typeof _0x25a78e=='string'&&(_0x25a78e={'load':_0x25a78e,'original':_0x25a78e});const _0x445c20={'retry':this['maxRetries']>0x2051+0xb29+-0x2b7a,'maxRetries':this['maxRetries']};_0x25a78e['load']['startsWith']('blob:')&&(_0x445c20['responseTy'+'pe']=cs['ResponseTy'+'pe']['JSON']),$e['get'](_0x25a78e['load'],_0x445c20,(_0x58d922,_0x2febc1)=>{_0x58d922?_0x5e41a8('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x25a78e['original']+'\x20['+_0x58d922+']'):_0x5e41a8(null,_0x2febc1);});}['openBinary'](_0x453aa3){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x453aa3));}}class eL{constructor(){this['removeInva'+'lid']=!(0xf74*-0x2+0x1*0x18c7+0x621),this['valid']=!(-0x1dda+-0xfe6+0x2dc0),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Fu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,xp,Ot,ns,cn,Sp,Wc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Mh,pu,DS,LS,FS,Ei])};}['setInvalid'](_0x16d952,_0x1f7fd9){this['valid']=!(-0x56a+0x3*-0xbe3+0x3bc*0xb),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x16d952,_0x1f7fd9[_0x16d952]),this['removeInva'+'lid']&&delete _0x1f7fd9[_0x16d952];}['validate'](_0x2adfb0){const _0x19a6d5=Ra,_0x14dfeb=QE,_0x3a6696=_0x2adfb0['mappingFor'+'mat']==='path';for(const _0xcd5b08 in _0x2adfb0){const _0x6436a6=_0x19a6d5[_0xcd5b08];if(!_0x6436a6){_0x14dfeb[_0xcd5b08]?delete _0x2adfb0[_0xcd5b08]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0xcd5b08),this['valid']=!(-0x16a6+0x1e83+-0x7dc));continue;}if(_0x6436a6['startsWith']('enum')){const _0x20bc7e=_0x6436a6['split'](':')[-0x1e4f+0x1*0x1982+-0x6*-0xcd];this['enumValida'+'tors'][_0x20bc7e]&&(this['enumValida'+'tors'][_0x20bc7e](_0x2adfb0[_0xcd5b08])||this['setInvalid'](_0xcd5b08,_0x2adfb0));}else{if(_0x6436a6==='number')typeof _0x2adfb0[_0xcd5b08]!='number'&&this['setInvalid'](_0xcd5b08,_0x2adfb0);else{if(_0x6436a6==='boolean')typeof _0x2adfb0[_0xcd5b08]!='boolean'&&this['setInvalid'](_0xcd5b08,_0x2adfb0);else{if(_0x6436a6==='string')typeof _0x2adfb0[_0xcd5b08]!='string'&&this['setInvalid'](_0xcd5b08,_0x2adfb0);else{if(_0x6436a6==='vec2')_0x2adfb0[_0xcd5b08]instanceof Array&&_0x2adfb0[_0xcd5b08]['length']===0x18a2+0x1414+0x4*-0xb2d||this['setInvalid'](_0xcd5b08,_0x2adfb0);else{if(_0x6436a6==='rgb')_0x2adfb0[_0xcd5b08]instanceof Array&&_0x2adfb0[_0xcd5b08]['length']===-0x5d*-0x57+0x5*-0x3be+-0xce2||this['setInvalid'](_0xcd5b08,_0x2adfb0);else{if(_0x6436a6==='texture')_0x3a6696?typeof _0x2adfb0[_0xcd5b08]=='string'||_0x2adfb0[_0xcd5b08]===null||_0x2adfb0[_0xcd5b08]instanceof he||this['setInvalid'](_0xcd5b08,_0x2adfb0):typeof _0x2adfb0[_0xcd5b08]=='number'||_0x2adfb0[_0xcd5b08]===null||_0x2adfb0[_0xcd5b08]instanceof he||this['setInvalid'](_0xcd5b08,_0x2adfb0);else{if(_0x6436a6==='boundingbo'+'x')_0x2adfb0[_0xcd5b08]['center']&&_0x2adfb0[_0xcd5b08]['center']instanceof Array&&_0x2adfb0[_0xcd5b08]['center']['length']===0x1*-0x6c7+0x308*0x3+0x1*-0x24e||this['setInvalid'](_0xcd5b08,_0x2adfb0),_0x2adfb0[_0xcd5b08]['halfExtent'+'s']&&_0x2adfb0[_0xcd5b08]['halfExtent'+'s']instanceof Array&&_0x2adfb0[_0xcd5b08]['halfExtent'+'s']['length']===-0x2470+-0x18a1+0x3d14||this['setInvalid'](_0xcd5b08,_0x2adfb0);else{if(_0x6436a6==='cubemap')typeof _0x2adfb0[_0xcd5b08]=='number'||_0x2adfb0[_0xcd5b08]===null||_0x2adfb0[_0xcd5b08]===void(-0x1719+-0xa*-0x36+-0x1*-0x14fd)||_0x2adfb0[_0xcd5b08]instanceof he&&_0x2adfb0[_0xcd5b08]['cubemap']||this['setInvalid'](_0xcd5b08,_0x2adfb0);else{if(_0x6436a6==='chunks'){const _0x4a918a=Object['keys'](_0x2adfb0[_0xcd5b08]);for(let _0x422a97=0x1*0x1dc5+0x1d84+-0x3*0x13c3;_0x422a97<_0x4a918a['length'];_0x422a97++)typeof _0x2adfb0[_0xcd5b08][_0x4a918a[_0x422a97]]!='string'&&this['setInvalid'](_0x4a918a[_0x422a97],_0x2adfb0[_0xcd5b08]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x6436a6);}}}}}}}}}}return _0x2adfb0['validated']=!(0x1*-0x17bf+0x20c*-0x2+0x1bd7),this['valid'];}['_createEnu'+'mValidator'](_0xde8f4b){return function(_0x6ba456){return _0xde8f4b['indexOf'](_0x6ba456)>=-0x1*0xe3e+0xfc5+0x187*-0x1;};}}class tL{constructor(){this['_validator']=null;}['parse'](_0x5cc30e){const _0x4f1dfb=this['migrate'](_0x5cc30e),_0x5b71f7=this['_validate'](_0x4f1dfb),_0x46dcb3=new us();return this['initialize'](_0x46dcb3,_0x5b71f7),_0x46dcb3;}['initialize'](_0x5c4664,_0x10786d){_0x10786d['validated']||(_0x10786d=this['_validate'](_0x10786d)),_0x10786d['chunks']&&(_0x5c4664['chunks']={..._0x10786d['chunks']});for(const _0x119762 in _0x10786d){const _0x5bc7c1=Ra[_0x119762],_0x14b958=_0x10786d[_0x119762];if(_0x5bc7c1==='vec2')_0x5c4664[_0x119762]=new W(_0x14b958[-0xb25+0x462+0x6c3*0x1],_0x14b958[-0x234a+-0x4*-0xa1+0x20c7]);else{if(_0x5bc7c1==='rgb')_0x5c4664[_0x119762]=new Y(_0x14b958[-0x22fb+-0x247a+0x4775],_0x14b958[0xadf*0x3+0xf95+0x3b5*-0xd],_0x14b958[-0x15da+0x14a6+0x9b*0x2]);else{if(_0x5bc7c1==='texture')_0x14b958 instanceof he?_0x5c4664[_0x119762]=_0x14b958:_0x5c4664[_0x119762]instanceof he&&typeof _0x14b958=='number'&&_0x14b958>-0x11d*-0x21+0x1*0x503+0x538*-0x8||(_0x5c4664[_0x119762]=null);else{if(_0x5bc7c1==='cubemap')_0x14b958 instanceof he?_0x5c4664[_0x119762]=_0x14b958:_0x5c4664[_0x119762]instanceof he&&typeof _0x14b958=='number'&&_0x14b958>0xd19+-0x1345*0x1+0x62c||(_0x5c4664[_0x119762]=null),_0x119762==='cubeMap'&&!_0x14b958&&(_0x5c4664['prefiltere'+'dCubemaps']=null);else{if(_0x5bc7c1==='boundingbo'+'x'){const _0x3462e1=new T(_0x14b958['center'][0x11*-0x6+0x2c*-0x7+-0x19a*-0x1],_0x14b958['center'][-0x134*-0x5+0x1d9e*0x1+-0x23a1],_0x14b958['center'][0x715+-0x2665+-0x2*-0xfa9]),_0x3c8e98=new T(_0x14b958['halfExtent'+'s'][0x52f+-0x1355+0xe26],_0x14b958['halfExtent'+'s'][-0x10df+0x6*0xe5+0xb82],_0x14b958['halfExtent'+'s'][0x4d5+0x19fc*0x1+-0x1ecf]);_0x5c4664[_0x119762]=new _e(_0x3462e1,_0x3c8e98);}else _0x5c4664[_0x119762]=_0x10786d[_0x119762];}}}}}_0x5c4664['update']();}['migrate'](_0x3366dd){_0x3366dd['shader']&&delete _0x3366dd['shader'],_0x3366dd['mapping_fo'+'rmat']&&(_0x3366dd['mappingFor'+'mat']=_0x3366dd['mapping_fo'+'rmat'],delete _0x3366dd['mapping_fo'+'rmat']);let _0x2ea3ed;const _0x4301a5=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x2ea3ed=0x3*0xa1f+0x1*0x26ca+-0x4527;_0x2ea3ed<_0x4301a5['length'];_0x2ea3ed++){const _0x492f42=_0x4301a5[_0x2ea3ed][0x1d69*0x1+-0x2*0x12c4+0x81f],_0x41873e=_0x4301a5[_0x2ea3ed][0x769*0x1+0x301*0x5+0x166d*-0x1];_0x3366dd[_0x492f42]!==void(-0x245+-0x1*-0x2039+-0x1df4)&&(_0x3366dd[_0x41873e]===void(-0x804+0x99*-0xa+0x18e*0x9)&&(_0x3366dd[_0x41873e]=_0x3366dd[_0x492f42]),delete _0x3366dd[_0x492f42]);}const _0x40d4fa=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x2ea3ed=-0xb49+0x737*-0x1+0x1280;_0x2ea3ed<_0x40d4fa['length'];_0x2ea3ed++){const _0x52dbc2=_0x40d4fa[_0x2ea3ed];_0x3366dd['hasOwnProp'+'erty'](_0x52dbc2)&&delete _0x3366dd[_0x52dbc2];}return _0x3366dd;}['_validate'](_0x4ee129){return _0x4ee129['validated']||(this['_validator']||(this['_validator']=new eL()),this['_validator']['validate'](_0x4ee129)),_0x4ee129;}}const sL={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class iL extends Be{constructor(_0x4d4022){super(_0x4d4022,'material'),this['_assets']=_0x4d4022['assets'],this['_device']=_0x4d4022['graphicsDe'+'vice'],this['_parser']=new tL();}['load'](_0x20c969,_0x48291e){typeof _0x20c969=='string'&&(_0x20c969={'load':_0x20c969,'original':_0x20c969}),$e['get'](_0x20c969['load'],{'retry':this['maxRetries']>0x5d7*0x1+0x2*0xc6f+0x463*-0x7,'maxRetries':this['maxRetries']},(_0x1a32b5,_0x5440dd)=>{_0x1a32b5?_0x48291e&&_0x48291e('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x20c969['original']+'\x20['+_0x1a32b5+']'):_0x48291e&&(_0x5440dd['_engine']=!(0x409*0x8+0x1b78+0x3bc0*-0x1),_0x48291e(null,_0x5440dd));});}['open'](_0x262771,_0x4994b0){const _0x508156=this['_parser']['parse'](_0x4994b0);return _0x4994b0['_engine']&&(_0x508156['_data']=_0x4994b0,delete _0x4994b0['_engine']),_0x508156;}['patch'](_0x526532,_0x25da1a){_0x526532['resource']['_data']&&(_0x526532['_data']=_0x526532['resource']['_data'],delete _0x526532['resource']['_data']),_0x526532['data']['name']=_0x526532['name'],_0x526532['resource']['name']=_0x526532['name'],this['_bindAndAs'+'signAssets'](_0x526532,_0x25da1a),_0x526532['off']('unload',this['_onAssetUn'+'load'],this),_0x526532['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x33c708){delete _0x33c708['data']['parameters'],delete _0x33c708['data']['chunks'],delete _0x33c708['data']['name'];}['_assignTex'+'ture'](_0x1f1bdb,_0x462b7f,_0x2f6a39){_0x462b7f['resource'][_0x1f1bdb]=_0x2f6a39;}['_getPlaceh'+'olderTextu'+'re'](_0x4f18e5){const _0x5985d0=sL[_0x4f18e5];return v['assert'](_0x5985d0,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x4f18e5),en(this['_device'],_0x5985d0);}['_assignPla'+'ceholderTe'+'xture'](_0x2e1d28,_0x4fc219){_0x4fc219['resource'][_0x2e1d28]=this['_getPlaceh'+'olderTextu'+'re'](_0x2e1d28);}['_onTexture'+'Load'](_0x38313f,_0x457793,_0x1268f6){this['_assignTex'+'ture'](_0x38313f,_0x457793,_0x1268f6['resource']),_0x457793['resource']['update']();}['_onTexture'+'Add'](_0x57be73,_0x470247,_0x401ec6){this['_assets']['load'](_0x401ec6);}['_onTexture'+'RemoveOrUn'+'load'](_0x3768eb,_0x57a49a,_0x5063ca){const _0x260fa0=_0x57a49a['resource'];_0x260fa0&&_0x57a49a['resource'][_0x3768eb]===_0x5063ca['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x3768eb,_0x57a49a),_0x260fa0['update']());}['_assignCub'+'emap'](_0x6567ba,_0x2d7604,_0x5eb708){if(_0x2d7604['resource'][_0x6567ba]=_0x5eb708[-0x1546+0xb3*-0x25+0x1bf*0x1b],_0x6567ba==='cubeMap'){const _0xe1b260=_0x5eb708['slice'](-0x2*0x635+-0x3a7+0x1012);_0xe1b260['every'](_0x363187=>_0x363187)?_0x2d7604['resource']['prefiltere'+'dCubemaps']=_0xe1b260:_0xe1b260[-0x16a7*0x1+-0x87e*-0x1+0xe29]&&(_0x2d7604['resource']['envAtlas']=_0xe1b260[0x6d+-0x21f*-0x3+-0x6ca]);}}['_onCubemap'+'Load'](_0x534a5f,_0x254632,_0x24e741){this['_assignCub'+'emap'](_0x534a5f,_0x254632,_0x24e741['resources']),this['_parser']['initialize'](_0x254632['resource'],_0x254632['data']);}['_onCubemap'+'Add'](_0x3cb6fa,_0x4be25,_0x5c401f){this['_assets']['load'](_0x5c401f);}['_onCubemap'+'RemoveOrUn'+'load'](_0x1eec03,_0x925913,_0x2d5091){const _0x267619=_0x925913['resource'];_0x925913['data']['prefiltere'+'dCubeMap12'+'8']===_0x2d5091['resources'][0x1189+-0x1e*-0xfa+-0x2ed4]&&(this['_assignCub'+'emap'](_0x1eec03,_0x925913,[null,null,null,null,null,null,null]),_0x267619['update']());}['_bindAndAs'+'signAssets'](_0xd31a14,_0x4eeb5b){const _0x32fd3a=this['_parser']['migrate'](_0xd31a14['data']),_0x57c117=_0xd31a14['resource'],_0x32e9d7=_0x32fd3a['mappingFor'+'mat']==='path',_0x2c5fe6=Zc;let _0x38fed8,_0x2d5ef3,_0x85002d;for(_0x38fed8=-0x17b8+-0xd*-0x28d+-0x971;_0x38fed8<_0x2c5fe6['length'];_0x38fed8++){_0x2d5ef3=_0x2c5fe6[_0x38fed8],_0x85002d=_0x57c117['_assetRefe'+'rences'][_0x2d5ef3];const _0x529afd=_0x32fd3a[_0x2d5ef3],_0x51db79=_0x57c117[_0x2d5ef3],_0x3cf563=_0x51db79===this['_getPlaceh'+'olderTextu'+'re'](_0x2d5ef3),_0x3da3cb=_0x32fd3a['validated'];_0x529afd&&(!_0x51db79||!_0x3da3cb||_0x3cf563)?(_0x85002d||(_0x85002d=new Go(_0x2d5ef3,_0xd31a14,_0x4eeb5b,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x57c117['_assetRefe'+'rences'][_0x2d5ef3]=_0x85002d),_0x32e9d7?_0x85002d['url']=_0xd31a14['getAbsolut'+'eUrl'](_0x529afd):_0x85002d['id']=_0x529afd,_0x85002d['asset']&&(_0x85002d['asset']['resource']?this['_assignTex'+'ture'](_0x2d5ef3,_0xd31a14,_0x85002d['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x2d5ef3,_0xd31a14),_0x4eeb5b['load'](_0x85002d['asset']))):_0x85002d&&(_0x32e9d7?_0x85002d['url']=null:_0x85002d['id']=null);}const _0xbd639a=kp;for(_0x38fed8=-0x45e+-0x176c+0x1bca;_0x38fed8<_0xbd639a['length'];_0x38fed8++)_0x2d5ef3=_0xbd639a[_0x38fed8],_0x85002d=_0x57c117['_assetRefe'+'rences'][_0x2d5ef3],_0x32fd3a[_0x2d5ef3]&&!_0xd31a14['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x85002d||(_0x85002d=new Go(_0x2d5ef3,_0xd31a14,_0x4eeb5b,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x57c117['_assetRefe'+'rences'][_0x2d5ef3]=_0x85002d),_0x32e9d7?_0x85002d['url']=_0x32fd3a[_0x2d5ef3]:_0x85002d['id']=_0x32fd3a[_0x2d5ef3],_0x85002d['asset']&&(_0x85002d['asset']['loaded']&&this['_assignCub'+'emap'](_0x2d5ef3,_0xd31a14,_0x85002d['asset']['resources']),_0x4eeb5b['load'](_0x85002d['asset'])));this['_parser']['initialize'](_0x57c117,_0x32fd3a);}}class rL{constructor(_0x442412){this['_device']=_0x442412['device'],this['_defaultMa'+'terial']=_0x442412['defaultMat'+'erial'],this['_assets']=_0x442412['assets'];}['parse'](_0x140e50,_0x53ccce,_0xaf2c47){sc['parse']('filename.g'+'lb','',_0x140e50,this['_device'],this['_assets'],(_0xaf2c47==null?void(-0xed4+0x43a*-0x1+0x130e):_0xaf2c47['options'])??{},(_0x172162,_0x4c08d3)=>{if(_0x172162)_0x53ccce(_0x172162);else{const _0x2c0e21=sr['createMode'+'l'](_0x4c08d3,this['_defaultMa'+'terial']);_0x4c08d3['destroy'](),_0x53ccce(null,_0x2c0e21);}});}}const nL={'points':Pc,'lines':Rc,'lineloop':My,'linestrip':Py,'triangles':Rs,'trianglestrip':or,'trianglefan':Yr},aL={'int8':Ic,'uint8':Kr,'int16':Dc,'uint16':el,'int32':By,'uint32':Do,'float32':Ce};class oL{constructor(_0x3989c8){this['_device']=_0x3989c8['device'],this['_defaultMa'+'terial']=_0x3989c8['defaultMat'+'erial'];}['parse'](_0x1836c0,_0x592636){const _0x4726a2=_0x1836c0['model'];if(!_0x4726a2){_0x592636(null,null);return;}if(_0x4726a2['version']<=-0x1535*-0x1+-0x82d*0x2+0x4da*-0x1){_0x592636('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x4b546c=this['_parseNode'+'s'](_0x1836c0),_0x81b20a=this['_parseSkin'+'s'](_0x1836c0,_0x4b546c),_0x3d97a5=this['_parseVert'+'exBuffers'](_0x1836c0),_0x7c0adf=this['_parseInde'+'xBuffers'](_0x1836c0,_0x3d97a5),_0x9d23f3=this['_parseMorp'+'hs'](_0x1836c0,_0x4b546c,_0x3d97a5),_0x33e269=this['_parseMesh'+'es'](_0x1836c0,_0x81b20a['skins'],_0x9d23f3['morphs'],_0x3d97a5,_0x7c0adf['buffer'],_0x7c0adf['data']),_0x2b82c9=this['_parseMesh'+'Instances'](_0x1836c0,_0x4b546c,_0x33e269,_0x81b20a['skins'],_0x81b20a['instances'],_0x9d23f3['morphs'],_0x9d23f3['instances']),_0x1a228e=new Bi();_0x1a228e['graph']=_0x4b546c[0x251f+-0x268*0x2+-0xac5*0x3],_0x1a228e['meshInstan'+'ces']=_0x2b82c9,_0x1a228e['skinInstan'+'ces']=_0x81b20a['instances'],_0x1a228e['morphInsta'+'nces']=_0x9d23f3['instances'],_0x1a228e['getGraph']()['syncHierar'+'chy'](),_0x592636(null,_0x1a228e);}['_parseNode'+'s'](_0x3d89f1){const _0x36386f=_0x3d89f1['model'],_0x33ebdc=[];let _0x42f815;for(_0x42f815=-0x62b*-0x6+0x1a1d+-0x1*0x3f1f;_0x42f815<_0x36386f['nodes']['length'];_0x42f815++){const _0x338061=_0x36386f['nodes'][_0x42f815],_0x2490e3=new De(_0x338061['name']);_0x2490e3['setLocalPo'+'sition'](_0x338061['position'][-0x1b01+0x3a9*-0xa+0x13*0x359],_0x338061['position'][0x9e8+0x1*-0xdbe+0x3d7],_0x338061['position'][0x1089+0x2618+-0x1235*0x3]),_0x2490e3['setLocalEu'+'lerAngles'](_0x338061['rotation'][-0xce5+0x1a0b+-0xd26],_0x338061['rotation'][0x1*0xad2+-0x8f0*-0x3+-0xd*0x2e5],_0x338061['rotation'][0x31+0x1af8+0x7*-0x3e1]),_0x2490e3['setLocalSc'+'ale'](_0x338061['scale'][-0x2341+0xc4*-0x17+0x34dd],_0x338061['scale'][0x23dd+0x1*0x4d2+-0x28ae],_0x338061['scale'][0xc*0x4+0x2353+-0x95*0x3d]),_0x2490e3['scaleCompe'+'nsation']=!!_0x338061['scaleCompe'+'nsation'],_0x33ebdc['push'](_0x2490e3);}for(_0x42f815=0x1d16+-0xcab+-0x106a*0x1;_0x42f815<_0x36386f['parents']['length'];_0x42f815++)_0x33ebdc[_0x36386f['parents'][_0x42f815]]['addChild'](_0x33ebdc[_0x42f815]);return _0x33ebdc;}['_parseSkin'+'s'](_0x4fa8e9,_0x5d5dd6){const _0x3626ab=_0x4fa8e9['model'],_0x1bf12f=[],_0x50f5a0=[];let _0x5da248,_0x165607;for(_0x5da248=-0x4*0x4fc+0x35*-0x66+0x290e*0x1;_0x5da248<_0x3626ab['skins']['length'];_0x5da248++){const _0xff10bc=_0x3626ab['skins'][_0x5da248],_0x12e63f=[];for(_0x165607=-0x1c34+0x1*-0x6ad+0x22e1;_0x165607<_0xff10bc['inverseBin'+'dMatrices']['length'];_0x165607++){const _0x48c9ae=_0xff10bc['inverseBin'+'dMatrices'][_0x165607];_0x12e63f[_0x165607]=new q()['set'](_0x48c9ae);}const _0x2026d0=new N0(this['_device'],_0x12e63f,_0xff10bc['boneNames']);_0x1bf12f['push'](_0x2026d0);const _0x30a815=new nl(_0x2026d0),_0x80d256=[];for(_0x165607=-0x1081+0x1324+-0x2a3;_0x165607<_0x2026d0['boneNames']['length'];_0x165607++){const _0x5de3c8=_0x2026d0['boneNames'][_0x165607],_0x233012=_0x5d5dd6[0x920*0x2+0x1*0xbf1+0x1e31*-0x1]['findByName'](_0x5de3c8);_0x80d256['push'](_0x233012);}_0x30a815['bones']=_0x80d256,_0x50f5a0['push'](_0x30a815);}return{'skins':_0x1bf12f,'instances':_0x50f5a0};}['_getMorphV'+'ertexCount'](_0x7f0e28,_0x1bb6d7,_0x9931a4){for(let _0x2ab562=0x1*0x1b05+-0x1*-0x61f+-0x2124;_0x2ab562<_0x7f0e28['meshes']['length'];_0x2ab562++){const _0x19c04a=_0x7f0e28['meshes'][_0x2ab562];if(_0x19c04a['morph']===_0x1bb6d7)return _0x9931a4[_0x19c04a['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x1e9e9b,_0x318c1d,_0x54600d){const _0x5dd032=_0x1e9e9b['model'],_0x8b8831=[],_0x47ac85=[];let _0x4a8dbe,_0x1234b1,_0x38aabb,_0x359ee3,_0x28148e,_0x4a13fa;if(_0x5dd032['morphs']){const _0x247528=function(_0x4d3c1e,_0x54b62e,_0x496ae9){const _0x2621e0=new Float32Array(_0x496ae9*(-0xdc8+-0x2*0xf4a+0x2c5f));for(let _0x3d7af0=-0x1d7c+0x1352+0xa2a;_0x3d7af0<_0x54b62e['length'];_0x3d7af0++){const _0x5f2fcc=_0x54b62e[_0x3d7af0]*(-0x4c*0x39+-0x1*-0x2669+-0xabd*0x2);_0x2621e0[_0x5f2fcc]=_0x4d3c1e[_0x3d7af0*(0x1a45+0x1d*-0x13d+0x7*0x161)],_0x2621e0[_0x5f2fcc+(-0x3*-0xa2e+-0x1f8a+0x101)]=_0x4d3c1e[_0x3d7af0*(0x61b*0x3+-0x6fc*-0x1+-0x1f2*0xd)+(0x2*-0xf4f+-0x1e2*-0x14+0x1*-0x709)],_0x2621e0[_0x5f2fcc+(-0x23d8+0x5*0x786+0x1c4*-0x1)]=_0x4d3c1e[_0x3d7af0*(-0x2f5*-0x4+-0x4*0x3d4+0x37f)+(0x1048*0x1+-0x18e5+-0x89f*-0x1)];}return _0x2621e0;};for(_0x4a8dbe=0x439*0x1+-0x1c9a+0x1*0x1861;_0x4a8dbe<_0x5dd032['morphs']['length'];_0x4a8dbe++){for(_0x359ee3=_0x5dd032['morphs'][_0x4a8dbe]['targets'],_0x4a13fa=[],_0x38aabb=this['_getMorphV'+'ertexCount'](_0x5dd032,_0x4a8dbe,_0x54600d),_0x1234b1=0xb01+-0x1edc+0xdd*0x17;_0x1234b1<_0x359ee3['length'];_0x1234b1++){const _0x13b41a=_0x359ee3[_0x1234b1]['aabb'],_0xc906bf=_0x13b41a['min'],_0xf030e8=_0x13b41a['max'],_0x2f30c7=new _e(new T((_0xf030e8[0xf4*0x22+0x61f+-0x2687]+_0xc906bf[0xa33+-0x1284+-0x1*-0x851])*(0xf83*0x2+0x1937+-0x383d+0.5),(_0xf030e8[0x11bb+0x38*0x80+-0x2dba]+_0xc906bf[-0xe5b+-0x5*-0x245+-0x101*-0x3])*(-0x175e+-0x2045+0x37a3+0.5),(_0xf030e8[0x1*0x48b+-0x1360+0x1*0xed7]+_0xc906bf[0x3*-0x48f+-0x1*-0xc46+0x169])*(0x1*-0x13e7+0x1e2*-0x5+0x1d51+0.5)),new T((_0xf030e8[0x1*0x1042+-0x6c4*0x2+-0x2ba]-_0xc906bf[0x247f*-0x1+-0x26c4+-0x4b43*-0x1])*(0x53*-0x3a+-0x58*0x59+0x3166+0.5),(_0xf030e8[0x76f+0x17*-0x179+0x1a71]-_0xc906bf[-0x5*0x5f2+0x216*-0x9+0x3081])*(0x1f*0x73+-0xf4e+0x161+0.5),(_0xf030e8[0x1*-0x185b+-0x23*-0x56+0xc9b]-_0xc906bf[-0x2*0x556+0x1d73+0x1f*-0x9b])*(0x2223+-0x2362+0x1*0x13f+0.5))),_0x16455a=_0x359ee3[_0x1234b1]['indices'];let _0x3d9b38=_0x359ee3[_0x1234b1]['deltaPosit'+'ions'],_0xfa6490=_0x359ee3[_0x1234b1]['deltaNorma'+'ls'];_0x16455a&&(_0x3d9b38=_0x247528(_0x3d9b38,_0x16455a,_0x38aabb),_0xfa6490=_0x247528(_0xfa6490,_0x16455a,_0x38aabb)),_0x28148e=new Jc({'deltaPositions':_0x3d9b38,'deltaNormals':_0xfa6490,'name':_0x359ee3[_0x1234b1]['name'],'aabb':_0x2f30c7}),_0x4a13fa['push'](_0x28148e);}const _0x4b55df=new F0(_0x4a13fa,this['_device']);_0x8b8831['push'](_0x4b55df);const _0x8481d1=new pn(_0x4b55df);_0x47ac85['push'](_0x8481d1);}}return{'morphs':_0x8b8831,'instances':_0x47ac85};}['_parseVert'+'exBuffers'](_0x498878){const _0x1a1e02=_0x498878['model'],_0x4fac9d=[],_0x371e47={'position':He,'normal':Zt,'tangent':Zs,'blendWeight':Ys,'blendIndices':jt,'color':Et,'texCoord0':os,'texCoord1':gn,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x5b4321=-0xaf7+-0x2484+0x11*0x2cb;_0x5b4321<_0x1a1e02['vertices']['length'];_0x5b4321++){const _0x407a40=_0x1a1e02['vertices'][_0x5b4321],_0x4ce1f7=[];for(const _0x34c16c in _0x407a40){const _0x43cf18=_0x407a40[_0x34c16c];_0x4ce1f7['push']({'semantic':_0x371e47[_0x34c16c],'components':_0x43cf18['components'],'type':aL[_0x43cf18['type']],'normalize':_0x371e47[_0x34c16c]===Et});}const _0x113571=new Mt(this['_device'],_0x4ce1f7),_0x28c2eb=_0x407a40['position']['data']['length']/_0x407a40['position']['components'],_0x276d07=new hs(this['_device'],_0x113571,_0x28c2eb),_0x54545d=new go(_0x276d07);for(let _0x49d6db=-0xd87+-0x19e3+-0xa*-0x3f1;_0x49d6db<_0x28c2eb;_0x49d6db++){for(const _0xce1c81 in _0x407a40){const _0x129466=_0x407a40[_0xce1c81];switch(_0x129466['components']){case-0x1d63*-0x1+0x31*0x8d+-0x385f:_0x54545d['element'][_0x371e47[_0xce1c81]]['set'](_0x129466['data'][_0x49d6db]);break;case 0x1ae*0xa+0x2*0x10d6+-0x3276:_0x54545d['element'][_0x371e47[_0xce1c81]]['set'](_0x129466['data'][_0x49d6db*(0x17*0x11f+-0x1*0xb3c+-0xe8b*0x1)],-0x26be+-0x43*0x7c+-0x679*-0xb-_0x129466['data'][_0x49d6db*(0x3b3*0x1+-0x500+-0x14f*-0x1)+(0x118d+-0x1ee4+0x38*0x3d)]);break;case 0x113e+-0x29*0x5d+-0x256:_0x54545d['element'][_0x371e47[_0xce1c81]]['set'](_0x129466['data'][_0x49d6db*(-0x86e+0x7f*0x43+-0x3*0x844)],_0x129466['data'][_0x49d6db*(0x836*-0x4+-0x1363+0x2e7*0x12)+(0x1ee4+-0xda6+-0x113d)],_0x129466['data'][_0x49d6db*(-0x1fe1+-0x97*-0x31+0x1*0x2fd)+(-0x16bc+-0x286+0x1944)]);break;case 0xcc3+0x338+-0x1*0xff7:_0x54545d['element'][_0x371e47[_0xce1c81]]['set'](_0x129466['data'][_0x49d6db*(-0x11d6+-0x2f9+-0x1*-0x14d3)],_0x129466['data'][_0x49d6db*(-0x7*0x44e+0x7e6+0x1640)+(0x3*-0x159+0xb6d+-0x761)],_0x129466['data'][_0x49d6db*(0xbb+0xdc8+-0xe7f)+(-0xa89+0x1cb9+-0x122e)],_0x129466['data'][_0x49d6db*(-0x2ff*-0x2+0x4fa+0x4*-0x2bd)+(0x275+0x1974+-0x1be6)]);break;}}_0x54545d['next']();}_0x54545d['end'](),_0x4fac9d['push'](_0x276d07);}return _0x4fac9d;}['_parseInde'+'xBuffers'](_0x3fb6b8,_0x29b34f){const _0x6057f3=_0x3fb6b8['model'];let _0x23ce78=null,_0x2a8c93=null,_0x4f7351,_0x2905eb=0x1323+-0x26b7*0x1+-0x9ca*-0x2;for(_0x4f7351=0x264c+0x3b*0x49+-0x371f;_0x4f7351<_0x6057f3['meshes']['length'];_0x4f7351++){const _0x60e54f=_0x6057f3['meshes'][_0x4f7351];_0x60e54f['indices']!==void(-0x14ae+-0x1e61+-0x1105*-0x3)&&(_0x2905eb+=_0x60e54f['indices']['length']);}let _0x45f551=0x1*0x19cf+-0x3*-0x5a6+-0x1*0x2ac1;for(_0x4f7351=-0x1877+0x697*0x3+0x4b2;_0x4f7351<_0x29b34f['length'];_0x4f7351++)_0x45f551=Math['max'](_0x45f551,_0x29b34f[_0x4f7351]['numVertice'+'s']);return _0x2905eb>0x1b7+0x3*0x7b9+0x2*-0xc71&&(_0x45f551>-0x14739+0xc142+0x14f*0x12a?(_0x23ce78=new hr(this['_device'],ar,_0x2905eb),_0x2a8c93=new Uint32Array(_0x23ce78['lock']())):(_0x23ce78=new hr(this['_device'],Ii,_0x2905eb),_0x2a8c93=new Uint16Array(_0x23ce78['lock']()))),{'buffer':_0x23ce78,'data':_0x2a8c93};}['_parseMesh'+'es'](_0x13581a,_0x28f163,_0x9e42bc,_0x3b1349,_0x448313,_0x54a472){const _0x4a69ed=_0x13581a['model'],_0x19d6c0=[];let _0x3b36d3=0x193c+-0x2123+-0x11*-0x77;for(let _0x331313=0x250c+-0xf9e+0x1a*-0xd3;_0x331313<_0x4a69ed['meshes']['length'];_0x331313++){const _0x11b9e5=_0x4a69ed['meshes'][_0x331313],_0x2c5fa9=_0x11b9e5['aabb'],_0x54bedc=_0x2c5fa9['min'],_0xb8688e=_0x2c5fa9['max'],_0x4e21ce=new _e(new T((_0xb8688e[-0x4f+0xd9e+-0xd4f]+_0x54bedc[-0x1823+0x3f*0x22+0x1*0xfc5])*(-0x1c2b+0x1875+0x3b6+0.5),(_0xb8688e[-0xdcb+0x1*0xd3f+0x8d]+_0x54bedc[0xcc5+0x57*-0x33+0x491*0x1])*(-0x22b2*0x1+0x945+0x1*0x196d+0.5),(_0xb8688e[0x2*-0xe75+-0x103d*0x1+0x2d29]+_0x54bedc[0x2*0x1079+0x5*-0x63d+-0x1bf])*(-0xc8b+-0x15cc+0x2257*0x1+0.5)),new T((_0xb8688e[0x1*0x1bb9+-0xb5*0x14+-0xd95]-_0x54bedc[0x130a+0x11fd+-0x2507])*(-0x147*-0x1b+-0x13ff+-0x173*0xa+0.5),(_0xb8688e[-0x10fc+-0x1b0*0x12+0x2f5d]-_0x54bedc[0x404*-0x5+0x185*0x1+-0x4a4*-0x4])*(0xf2d+-0xa0+-0xe8d+0.5),(_0xb8688e[0x1e63*0x1+-0x241d+0x5bc]-_0x54bedc[0x4c7+0x1a2*-0x16+0x1f27])*(-0x1e83+-0x74f+0x25d2+0.5))),_0x24f534=_0x11b9e5['indices']!==void(0x33+0x627+0x3*-0x21e),_0x59603f=new Ie(this['_device']);_0x59603f['vertexBuff'+'er']=_0x3b1349[_0x11b9e5['vertices']],_0x59603f['indexBuffe'+'r'][0x3*0x44+-0x145*0x4+0x1*0x448]=_0x24f534?_0x448313:null,_0x59603f['primitive'][-0x1c5a+-0x139b+0x2ff5*0x1]['type']=nL[_0x11b9e5['type']],_0x59603f['primitive'][0x4e*-0x39+0x199a+-0x11*0x7c]['base']=_0x24f534?_0x11b9e5['base']+_0x3b36d3:_0x11b9e5['base'],_0x59603f['primitive'][0x2*0x112e+0x3*0xaf2+-0x4332]['count']=_0x11b9e5['count'],_0x59603f['primitive'][0xb*-0x1+0x15d1+-0x15c6]['indexed']=_0x24f534,_0x59603f['skin']=_0x11b9e5['skin']!==void(0x1ad+0x2*-0xa86+0x105*0x13)?_0x28f163[_0x11b9e5['skin']]:null,_0x59603f['morph']=_0x11b9e5['morph']!==void(0xc7a*0x2+0x191*-0xb+0x3*-0x293)?_0x9e42bc[_0x11b9e5['morph']]:null,_0x59603f['aabb']=_0x4e21ce,_0x24f534&&(_0x54a472['set'](_0x11b9e5['indices'],_0x3b36d3),_0x3b36d3+=_0x11b9e5['indices']['length']),_0x19d6c0['push'](_0x59603f);}return _0x448313!==null&&_0x448313['unlock'](),_0x19d6c0;}['_parseMesh'+'Instances'](_0x2b804d,_0x24d53a,_0xfbd12c,_0x3d2460,_0x368d21,_0x11324b,_0x32dae2){const _0x369693=_0x2b804d['model'],_0x2672ab=[];let _0x502c3a;for(_0x502c3a=-0x4d1+0x1*-0xa42+-0x11*-0xe3;_0x502c3a<_0x369693['meshInstan'+'ces']['length'];_0x502c3a++){const _0xa6b708=_0x369693['meshInstan'+'ces'][_0x502c3a],_0x5d7fcc=_0x24d53a[_0xa6b708['node']],_0x2f7c2b=_0xfbd12c[_0xa6b708['mesh']],_0x2b2dfe=new Le(_0x2f7c2b,this['_defaultMa'+'terial'],_0x5d7fcc);if(_0x2f7c2b['skin']){const _0x43e935=_0x3d2460['indexOf'](_0x2f7c2b['skin']);if(_0x43e935===-(-0xc73+0x2469+0x1*-0x17f5))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x2b2dfe['skinInstan'+'ce']=_0x368d21[_0x43e935];}if(_0x2f7c2b['morph']){const _0x37ce5a=_0x11324b['indexOf'](_0x2f7c2b['morph']);if(_0x37ce5a===-(0x1cf4+-0x733+-0xae*0x20))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x2b2dfe['morphInsta'+'nce']=_0x32dae2[_0x37ce5a];}_0x2672ab['push'](_0x2b2dfe);}return _0x2672ab;}}class lL extends Be{constructor(_0x3a65ce){super(_0x3a65ce,'model'),this['_parsers']=[],this['device']=_0x3a65ce['graphicsDe'+'vice'],this['assets']=_0x3a65ce['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new oL(this),(_0x4c806e,_0x120dd5)=>fe['getExtensi'+'on'](_0x4c806e)==='.json'),this['addParser'](new rL(this),(_0x37f994,_0x40e772)=>fe['getExtensi'+'on'](_0x37f994)==='.glb');}['load'](_0x44fc29,_0x13136a,_0x393554){typeof _0x44fc29=='string'&&(_0x44fc29={'load':_0x44fc29,'original':_0x44fc29});const _0x533080={'retry':this['maxRetries']>-0x6c1*-0x4+-0x5c+-0x4*0x6aa,'maxRetries':this['maxRetries']};(_0x44fc29['load']['startsWith']('blob:')||_0x44fc29['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x44fc29['original'])['toLowerCas'+'e']()==='.glb'?_0x533080['responseTy'+'pe']=cs['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x533080['responseTy'+'pe']=cs['ResponseTy'+'pe']['JSON']),$e['get'](_0x44fc29['load'],_0x533080,(_0x5e04bd,_0x2b1295)=>{if(_0x13136a){if(_0x5e04bd)_0x13136a('Error\x20load'+'ing\x20model:'+'\x20'+_0x44fc29['original']+'\x20['+_0x5e04bd+']');else{for(let _0x4156df=-0x124*0x11+-0x98f*-0x2+0x46;_0x4156df<this['_parsers']['length'];_0x4156df++){const _0x353baa=this['_parsers'][_0x4156df];if(_0x353baa['decider'](_0x44fc29['original'],_0x2b1295)){_0x353baa['parser']['parse'](_0x2b1295,(_0xd1e001,_0x39dcd8)=>{_0xd1e001?_0x13136a(_0xd1e001):_0x13136a(null,_0x39dcd8);},_0x393554);return;}}_0x13136a('No\x20parsers'+'\x20found');}}});}['open'](_0x2719dd,_0x4ad1b3){return _0x4ad1b3;}['patch'](_0xabf491,_0x21aa27){if(!_0xabf491['resource'])return;const _0x35da6b=_0xabf491['data'],_0x5a46a7=this;_0xabf491['resource']['meshInstan'+'ces']['forEach']((_0x1c4c88,_0x8d461a)=>{if(_0x35da6b['mapping']){const _0x260a6a=function(_0xdbf7bf){_0xdbf7bf['resource']?_0x1c4c88['material']=_0xdbf7bf['resource']:(_0xdbf7bf['once']('load',_0x260a6a),_0x21aa27['load'](_0xdbf7bf)),_0xdbf7bf['once']('remove',_0x38e5b1=>{_0x1c4c88['material']===_0x38e5b1['resource']&&(_0x1c4c88['material']=_0x5a46a7['defaultMat'+'erial']);});};if(!_0x35da6b['mapping'][_0x8d461a]){_0x1c4c88['material']=_0x5a46a7['defaultMat'+'erial'];return;}const _0x326f58=_0x35da6b['mapping'][_0x8d461a]['material'],_0x5874aa=_0x35da6b['mapping'][_0x8d461a]['path'];let _0xa57bac;if(_0x326f58!==void(-0x1697+-0x53*-0x32+-0x17*-0x47))_0x326f58?(_0xa57bac=_0x21aa27['get'](_0x326f58),_0xa57bac?_0x260a6a(_0xa57bac):_0x21aa27['once']('add:'+_0x326f58,_0x260a6a)):_0x1c4c88['material']=_0x5a46a7['defaultMat'+'erial'];else{if(_0x5874aa){const _0xb62625=_0xabf491['getAbsolut'+'eUrl'](_0x35da6b['mapping'][_0x8d461a]['path']);_0xa57bac=_0x21aa27['getByUrl'](_0xb62625),_0xa57bac?_0x260a6a(_0xa57bac):_0x21aa27['once']('add:url:'+_0xb62625,_0x260a6a);}}}});}['addParser'](_0x5e4b38,_0x4c4302){this['_parsers']['push']({'parser':_0x5e4b38,'decider':_0x4c4302});}}class hL extends Be{constructor(_0x581369){super(_0x581369,'scene');}['load'](_0x11d590,_0x4cd1ab){Lx['load'](_0x11d590,this['maxRetries'],_0x4cd1ab);}['open'](_0x5a3b70,_0xd57a90){this['_app']['systems']['script']['preloading']=!(-0x7c7*-0x1+0x2cf*-0xd+0x265*0xc);const _0x58f0b2=new $p(this['_app'],!(-0x1*-0x221d+-0x680+-0x1b9c))['parse'](_0xd57a90),_0x58d84a=this['_app']['scene'];return _0x58d84a['root']=_0x58f0b2,this['_app']['applyScene'+'Settings'](_0xd57a90['settings']),this['_app']['systems']['script']['preloading']=!(0xf89+-0x1*-0x1459+0x37*-0xa7),_0x58d84a;}}const cc=class cc{static['push'](_0x2c0398){cc['_types']['push'](_0x2c0398);}};c(cc,'_types',[]);let Xr=cc;const cL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),dL={};Ho['reservedNa'+'mes']['forEach']((_0x3c2af1,_0xd4279f,_0x4cd853)=>{dL[_0x3c2af1]=0x1*-0x75c+-0x1*0x1542+-0x1af*-0x11;});function uL(_0x5870d4,_0x6ea06,_0x3ba076){if(typeof _0x5870d4!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x5870d4+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x5870d4['prototype']instanceof $t))throw new Error('script\x20cla'+'ss:\x20\x27'+Jh['__getScrip'+'tName'](_0x5870d4)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x6ea06=_0x6ea06||_0x5870d4['__name']||Jh['__getScrip'+'tName'](_0x5870d4),cL['has'](_0x6ea06))throw new Error('script\x20nam'+'e:\x20\x27'+_0x6ea06+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x5870d4['__name']=_0x6ea06,Xh['getApplica'+'tion']()['scripts']['add'](_0x5870d4),Xr['push'](_0x5870d4);}const fL=_0x165924=>_0x165924[0x267+0x2060+0x1*-0x22c7]['toLowerCas'+'e']()+_0x165924['substring'](-0xa*0x43+0x543*-0x1+0x7e2);class pL extends Be{constructor(_0xedb9){super(_0xedb9,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x33c2f9 in this['_cache']){const _0xa781a5=this['_cache'][_0x33c2f9],_0x4d6c45=_0xa781a5['parentNode'];_0x4d6c45&&_0x4d6c45['removeChil'+'d'](_0xa781a5);}this['_cache']={};}['load'](_0x51d74a,_0x36b7f5){typeof _0x51d74a=='string'&&(_0x51d74a={'load':_0x51d74a,'original':_0x51d74a});const _0x788246=this;this['_app'];const _0x285e34=(_0x51d74a['load'],(_0x54c746,_0x558b06,_0x2ea8ae)=>{if(_0x54c746)_0x36b7f5(_0x54c746);else{const _0x1836c2={};for(let _0x4ff825=-0x1a6+-0xc0f+0xdb5;_0x4ff825<Xr['_types']['length'];_0x4ff825++)_0x1836c2[Xr['_types'][_0x4ff825]['name']]=Xr['_types'][_0x4ff825];Xr['_types']['length']=0x259b+-0x2409+0x86*-0x3,_0x36b7f5(null,_0x1836c2,_0x2ea8ae);const _0x3c8e28=_0x558b06['split']('&hash=')[0x5e+-0x1c7c+0x3b*0x7a];delete _0x788246['_loader']['_cache'][ma['makeKey'](_0x3c8e28,'script')];}}),[_0x1f743c]=_0x51d74a['load']['split']('?');_0x1f743c['endsWith']('.mjs')?this['_loadModul'+'e'](_0x1f743c,_0x285e34):this['_loadScrip'+'t'](_0x51d74a['load'],_0x285e34);}['open'](_0x46aad4,_0x40b4b6){return _0x40b4b6;}['patch'](_0x58e2b0,_0x209290){}['_loadScrip'+'t'](_0x338702,_0x5cd57b){const _0x203283=document['head'],_0x539027=document['createElem'+'ent']('script');this['_cache'][_0x338702]=_0x539027,_0x539027['async']=!(-0x1*-0x3d0+0x89*-0x2f+-0x1558*-0x1),_0x539027['addEventLi'+'stener']('error',_0x593383=>{_0x5cd57b('Script:\x20'+_0x593383['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x428*0x7+-0x9*0x42c+0x42a5));let _0x984827=!(-0x1d85*0x1+0xef6+-0x1*-0xe90);_0x539027['onload']=_0x539027['onreadysta'+'techange']=function(){!_0x984827&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x984827=!(0x420+0x4*0x2d4+-0xf70),_0x5cd57b(null,_0x338702,_0x539027));},_0x539027['src']=_0x338702,_0x203283['appendChil'+'d'](_0x539027);}['_loadModul'+'e'](_0xa98a02,_0x42c11a){const _0x354acf=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x294e85=new URL(_0xa98a02,_0x354acf);import(_0x294e85['toString']())['then'](_0x5a8077=>{var _0x249be1,_0x1223f7;const _0x73ff73=_0x294e85['pathname']['split']('/')['pop'](),_0x4614ca=(_0x1223f7=(_0x249be1=this['_app']['assets']['find'](_0x73ff73,'script'))==null?void(0x1283*-0x1+0x1493+-0x210):_0x249be1['data'])==null?void(0xc61*-0x1+-0xc76+0x18d7):_0x1223f7['scripts'];for(const _0x23a257 in _0x5a8077){const _0x27167c=_0x5a8077[_0x23a257];if(_0x27167c['prototype']instanceof $t){const _0x425e97=fL(_0x27167c['name']);uL(_0x27167c,_0x425e97),_0x4614ca&&this['_app']['scripts']['addSchema'](_0x425e97,_0x4614ca[_0x425e97]);}}_0x42c11a(null,_0xa98a02,null);})['catch'](_0x1a8e51=>{_0x42c11a(_0x1a8e51);});}}class mL extends Be{constructor(_0x2a7aaa){super(_0x2a7aaa,'shader'),c(this,'decoder',null);}['load'](_0x1b8e3e,_0x13b54f){typeof _0x1b8e3e=='string'&&(_0x1b8e3e={'load':_0x1b8e3e,'original':_0x1b8e3e}),$e['get'](_0x1b8e3e['load'],{'retry':this['maxRetries']>-0x1d68+-0xb3+-0x16f*-0x15,'maxRetries':this['maxRetries']},(_0x1f2010,_0x1361e7)=>{_0x1f2010?_0x13b54f('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x1b8e3e['original']+'\x20['+_0x1f2010+']'):_0x13b54f(null,_0x1361e7);});}['openBinary'](_0x12fde9){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x12fde9);}}function tu(_0x7b444c){const _0x3d3923=this;_0x3d3923['resource']&&(_0x3d3923['resource']['atlas']=_0x7b444c['resource']);}function su(_0x243e1e){this['registry']['load'](_0x243e1e);}class _L extends Be{constructor(_0x167005){super(_0x167005,'sprite'),this['_assets']=_0x167005['assets'],this['_device']=_0x167005['graphicsDe'+'vice'];}['load'](_0x2e68ab,_0x578858){typeof _0x2e68ab=='string'&&(_0x2e68ab={'load':_0x2e68ab,'original':_0x2e68ab}),fe['getExtensi'+'on'](_0x2e68ab['original'])==='.json'&&$e['get'](_0x2e68ab['load'],{'retry':this['maxRetries']>-0x6df*0x5+-0xf3a+0x1*0x3195,'maxRetries':this['maxRetries']},(_0x2faac2,_0x97e4cc)=>{_0x2faac2?_0x578858(_0x2faac2):_0x578858(null,_0x97e4cc);});}['open'](_0x440aee,_0x46eecb){const _0x5667b1=new T1(this['_device']);return _0x440aee&&(_0x5667b1['__data']=_0x46eecb),_0x5667b1;}['patch'](_0x3da35d,_0x1fa23b){const _0x597bf6=_0x3da35d['resource'];if(_0x597bf6['__data']&&(_0x3da35d['data']['pixelsPerU'+'nit']=_0x597bf6['__data']['pixelsPerU'+'nit'],_0x3da35d['data']['renderMode']=_0x597bf6['__data']['renderMode'],_0x3da35d['data']['frameKeys']=_0x597bf6['__data']['frameKeys'],_0x597bf6['__data']['textureAtl'+'asAsset'])){const _0x164792=_0x1fa23b['getByUrl'](_0x597bf6['__data']['textureAtl'+'asAsset']);_0x164792?_0x3da35d['data']['textureAtl'+'asAsset']=_0x164792['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x597bf6['__data']['textureAtl'+'asAsset']);}_0x597bf6['startUpdat'+'e'](),_0x597bf6['renderMode']=_0x3da35d['data']['renderMode'],_0x597bf6['pixelsPerU'+'nit']=_0x3da35d['data']['pixelsPerU'+'nit'],_0x597bf6['frameKeys']=_0x3da35d['data']['frameKeys'],this['_updateAtl'+'as'](_0x3da35d),_0x597bf6['endUpdate'](),_0x3da35d['off']('change',this['_onAssetCh'+'ange'],this),_0x3da35d['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x292fbe){const _0x470abf=_0x292fbe['resource'];if(!_0x292fbe['data']['textureAtl'+'asAsset']){_0x470abf['atlas']=null;return;}this['_assets']['off']('load:'+_0x292fbe['data']['textureAtl'+'asAsset'],tu,_0x292fbe),this['_assets']['on']('load:'+_0x292fbe['data']['textureAtl'+'asAsset'],tu,_0x292fbe);const _0x35fd51=this['_assets']['get'](_0x292fbe['data']['textureAtl'+'asAsset']);_0x35fd51&&_0x35fd51['resource']?_0x470abf['atlas']=_0x35fd51['resource']:_0x35fd51?this['_assets']['load'](_0x35fd51):(this['_assets']['off']('add:'+_0x292fbe['data']['textureAtl'+'asAsset'],su,_0x292fbe),this['_assets']['on']('add:'+_0x292fbe['data']['textureAtl'+'asAsset'],su,_0x292fbe));}['_onAssetCh'+'ange'](_0x4f89f3,_0x2ee8a8,_0x40daf3,_0x4dbbba){_0x2ee8a8==='data'&&_0x40daf3&&_0x40daf3['textureAtl'+'asAsset']&&_0x4dbbba&&_0x40daf3['textureAtl'+'asAsset']!==_0x4dbbba['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x4dbbba['textureAtl'+'asAsset'],tu,_0x4f89f3),this['_assets']['off']('add:'+_0x4dbbba['textureAtl'+'asAsset'],su,_0x4f89f3));}}class Gg{constructor(_0x5e46fc,_0xe7b7f1){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x5e46fc,this['_data']=_0xe7b7f1);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x15327f=new $p(this['_app'],!(0x3*-0xc23+-0x1*-0x10df+0x138a));this['_templateR'+'oot']=_0x15327f['parse'](this['_data']);}}class gL extends Be{constructor(_0x4ed2f9){super(_0x4ed2f9,'template'),c(this,'decoder',null);}['load'](_0x1a6aa4,_0x485f1c){typeof _0x1a6aa4=='string'&&(_0x1a6aa4={'load':_0x1a6aa4,'original':_0x1a6aa4});const _0x70f77={'retry':this['maxRetries']>-0x1b77+0xe13+0xd64,'maxRetries':this['maxRetries']};$e['get'](_0x1a6aa4['load'],_0x70f77,(_0x29f5e6,_0x5e8fc3)=>{_0x29f5e6?_0x485f1c('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x1a6aa4['original']):_0x485f1c(_0x29f5e6,_0x5e8fc3);});}['open'](_0x17d0de,_0x5034ef){return new Gg(this['_app'],_0x5034ef);}['openBinary'](_0x48b212){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x48b212)));}}class yL extends Be{constructor(_0x59f6d3){super(_0x59f6d3,'text'),c(this,'decoder',null);}['load'](_0x113d54,_0x2ecf72){typeof _0x113d54=='string'&&(_0x113d54={'load':_0x113d54,'original':_0x113d54}),$e['get'](_0x113d54['load'],{'retry':this['maxRetries']>-0x1154+-0xf83+0x20d7,'maxRetries':this['maxRetries']},(_0x24b7fc,_0x2f73d8)=>{_0x24b7fc?_0x2ecf72('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x113d54['original']+'\x20['+_0x24b7fc+']'):_0x2ecf72(null,_0x2f73d8);});}['openBinary'](_0x16df18){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x16df18);}}const sh={'repeat':et,'clamp':ne,'mirror':Of},ih={'nearest':de,'linear':tt,'nearest_mip_nearest':pc,'linear_mip_nearest':_c,'nearest_mip_linear':mc,'linear_mip_linear':nn},xL=/^data\.frames\.(\d+)$/;class SL extends Be{constructor(_0x400323){super(_0x400323,'textureatl'+'as'),this['_loader']=_0x400323['loader'];}['load'](_0x440386,_0x1a1128){typeof _0x440386=='string'&&(_0x440386={'load':_0x440386,'original':_0x440386});const _0x285c00=this,_0x265838=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x440386['original'])==='.json'?$e['get'](_0x440386['load'],{'retry':this['maxRetries']>0x1*0x1ec4+0xb90+-0x2a54,'maxRetries':this['maxRetries']},(_0x4736b2,_0x5d21c8)=>{if(_0x4736b2)_0x1a1128(_0x4736b2);else{const _0x138d14=_0x440386['original']['replace']('.json','.png');_0x285c00['_loader']['load'](_0x138d14,'texture',(_0x169cf8,_0x16ebf4)=>{_0x169cf8?_0x1a1128(_0x169cf8):_0x1a1128(null,{'data':_0x5d21c8,'texture':_0x16ebf4});});}}):_0x265838['load'](_0x440386,_0x1a1128);}['open'](_0x205ac5,_0x5ab192,_0xa78c9d){const _0x66a524=new A1();if(_0x5ab192['texture']&&_0x5ab192['data'])_0x66a524['texture']=_0x5ab192['texture'],_0x66a524['__data']=_0x5ab192['data'];else{const _0x14aa86=this['_loader']['getHandler']('texture')['open'](_0x205ac5,_0x5ab192,_0xa78c9d);if(!_0x14aa86)return null;_0x66a524['texture']=_0x14aa86;}return _0x66a524;}['patch'](_0xb03231,_0xe23584){if(!_0xb03231['resource'])return;_0xb03231['resource']['__data']&&(_0xb03231['resource']['__data']['minfilter']!==void(0x39d+-0x2*0x2e9+0x1*0x235)&&(_0xb03231['data']['minfilter']=_0xb03231['resource']['__data']['minfilter']),_0xb03231['resource']['__data']['magfilter']!==void(-0x18b9+0x1dc2*0x1+0x509*-0x1)&&(_0xb03231['data']['magfilter']=_0xb03231['resource']['__data']['magfilter']),_0xb03231['resource']['__data']['addressu']!==void(0x1b32+0xaa9*0x1+-0x25db)&&(_0xb03231['data']['addressu']=_0xb03231['resource']['__data']['addressu']),_0xb03231['resource']['__data']['addressv']!==void(-0x785+-0x24fa+-0x3*-0xed5)&&(_0xb03231['data']['addressv']=_0xb03231['resource']['__data']['addressv']),_0xb03231['resource']['__data']['mipmaps']!==void(-0x2164+-0x1*0x1d3c+0x3ea0)&&(_0xb03231['data']['mipmaps']=_0xb03231['resource']['__data']['mipmaps']),_0xb03231['resource']['__data']['anisotropy']!==void(-0xb*0x358+0x1bc3*-0x1+-0x408b*-0x1)&&(_0xb03231['data']['anisotropy']=_0xb03231['resource']['__data']['anisotropy']),_0xb03231['resource']['__data']['rgbm']!==void(0x1*-0x17c0+0xfaf+0x811)&&(_0xb03231['data']['rgbm']=!!_0xb03231['resource']['__data']['rgbm']),_0xb03231['data']['frames']=_0xb03231['resource']['__data']['frames'],delete _0xb03231['resource']['__data']);const _0x67b30b=_0xb03231['resource']['texture'];if(_0x67b30b&&(_0x67b30b['name']=_0xb03231['name'],_0xb03231['data']['hasOwnProp'+'erty']('minfilter')&&_0x67b30b['minFilter']!==ih[_0xb03231['data']['minfilter']]&&(_0x67b30b['minFilter']=ih[_0xb03231['data']['minfilter']]),_0xb03231['data']['hasOwnProp'+'erty']('magfilter')&&_0x67b30b['magFilter']!==ih[_0xb03231['data']['magfilter']]&&(_0x67b30b['magFilter']=ih[_0xb03231['data']['magfilter']]),_0xb03231['data']['hasOwnProp'+'erty']('addressu')&&_0x67b30b['addressU']!==sh[_0xb03231['data']['addressu']]&&(_0x67b30b['addressU']=sh[_0xb03231['data']['addressu']]),_0xb03231['data']['hasOwnProp'+'erty']('addressv')&&_0x67b30b['addressV']!==sh[_0xb03231['data']['addressv']]&&(_0x67b30b['addressV']=sh[_0xb03231['data']['addressv']]),_0xb03231['data']['hasOwnProp'+'erty']('mipmaps')&&_0x67b30b['mipmaps']!==_0xb03231['data']['mipmaps']&&(_0x67b30b['mipmaps']=_0xb03231['data']['mipmaps']),_0xb03231['data']['hasOwnProp'+'erty']('anisotropy')&&_0x67b30b['anisotropy']!==_0xb03231['data']['anisotropy']&&(_0x67b30b['anisotropy']=_0xb03231['data']['anisotropy']),_0xb03231['data']['hasOwnProp'+'erty']('rgbm'))){const _0x59913c=_0xb03231['data']['rgbm']?on:Fi;_0x67b30b['type']!==_0x59913c&&(_0x67b30b['type']=_0x59913c);}_0xb03231['resource']['texture']=_0x67b30b;const _0x589bb2={};for(const _0x44405c in _0xb03231['data']['frames']){const _0x5dab59=_0xb03231['data']['frames'][_0x44405c];_0x589bb2[_0x44405c]={'rect':new Q(_0x5dab59['rect']),'pivot':new W(_0x5dab59['pivot']),'border':new Q(_0x5dab59['border'])};}_0xb03231['resource']['frames']=_0x589bb2,_0xb03231['off']('change',this['_onAssetCh'+'ange'],this),_0xb03231['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x4a0e37,_0x57f090,_0x4edc2a){let _0x3bbc87;if(_0x57f090==='data'||_0x57f090==='data.frame'+'s'){const _0x4abaa0={};for(const _0x5b0dc4 in _0x4edc2a['frames'])_0x3bbc87=_0x4edc2a['frames'][_0x5b0dc4],_0x4abaa0[_0x5b0dc4]={'rect':new Q(_0x3bbc87['rect']),'pivot':new W(_0x3bbc87['pivot']),'border':new Q(_0x3bbc87['border'])};_0x4a0e37['resource']['frames']=_0x4abaa0;}else{const _0x381f2c=_0x57f090['match'](xL);if(_0x381f2c){const _0x4501b0=_0x381f2c[-0xa22+-0x3da+-0xdfd*-0x1];_0x4edc2a?(_0x4a0e37['resource']['frames'][_0x4501b0]?(_0x3bbc87=_0x4a0e37['resource']['frames'][_0x4501b0],_0x3bbc87['rect']['set'](_0x4edc2a['rect'][-0x11cb+-0x775*0x1+0x1940],_0x4edc2a['rect'][-0x738+0x1dc+0x55d],_0x4edc2a['rect'][0x3*-0x8b4+-0x1ca2+0xc0*0x49],_0x4edc2a['rect'][0x3a*-0x70+-0x19b1+0x3314]),_0x3bbc87['pivot']['set'](_0x4edc2a['pivot'][-0x5e*-0x15+0x1d7c+0x422*-0x9],_0x4edc2a['pivot'][0x1189+-0x2288+-0x80*-0x22]),_0x3bbc87['border']['set'](_0x4edc2a['border'][-0x192f+-0x1748+0x3077],_0x4edc2a['border'][0x13d0*-0x1+-0x91*0x39+0x341a],_0x4edc2a['border'][0x5a2+0x2258+-0x27f8],_0x4edc2a['border'][0x7e*0x9+-0x552+0xe7])):_0x4a0e37['resource']['frames'][_0x4501b0]={'rect':new Q(_0x4edc2a['rect']),'pivot':new W(_0x4edc2a['pivot']),'border':new Q(_0x4edc2a['border'])},_0x4a0e37['resource']['fire']('set:frame',_0x4501b0,_0x4a0e37['resource']['frames'][_0x4501b0])):_0x4a0e37['resource']['frames'][_0x4501b0]&&(delete _0x4a0e37['resource']['frames'][_0x4501b0],_0x4a0e37['resource']['fire']('remove:fra'+'me',_0x4501b0));}}}}function vL(){const _0x1f7cbd={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x3109d2={'astc':_0x1f7cbd['cTFASTC_4x'+'4'],'dxt':_0x1f7cbd['cTFBC1'],'etc1':_0x1f7cbd['cTFETC1'],'etc2':_0x1f7cbd['cTFETC1'],'pvr':_0x1f7cbd['cTFPVRTC1_'+'4_RGB'],'atc':_0x1f7cbd['cTFATC_RGB'],'none':_0x1f7cbd['cTFRGB565']},_0x37e0e6={'astc':_0x1f7cbd['cTFASTC_4x'+'4'],'dxt':_0x1f7cbd['cTFBC3'],'etc1':_0x1f7cbd['cTFRGBA444'+'4'],'etc2':_0x1f7cbd['cTFETC2'],'pvr':_0x1f7cbd['cTFPVRTC1_'+'4_RGBA'],'atc':_0x1f7cbd['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x1f7cbd['cTFRGBA444'+'4']},_0x5df52d={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x4e9621=(_0x2425e8,_0x812ca0)=>{switch(_0x2425e8){case _0x1f7cbd['cTFETC1']:return _0x812ca0['formats']['etc2']?_0x5df52d['ETC2_RGB']:_0x5df52d['ETC1'];case _0x1f7cbd['cTFETC2']:return _0x5df52d['ETC2_RGBA'];case _0x1f7cbd['cTFBC1']:return _0x5df52d['DXT1'];case _0x1f7cbd['cTFBC3']:return _0x5df52d['DXT5'];case _0x1f7cbd['cTFPVRTC1_'+'4_RGB']:return _0x5df52d['PVRTC_4BPP'+'_RGB_1'];case _0x1f7cbd['cTFPVRTC1_'+'4_RGBA']:return _0x5df52d['PVRTC_4BPP'+'_RGBA_1'];case _0x1f7cbd['cTFASTC_4x'+'4']:return _0x5df52d['ASTC_4x4'];case _0x1f7cbd['cTFATC_RGB']:return _0x5df52d['ATC_RGB'];case _0x1f7cbd['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x5df52d['ATC_RGBA'];case _0x1f7cbd['cTFRGBA32']:return _0x5df52d['R8_G8_B8_A'+'8'];case _0x1f7cbd['cTFRGB565']:return _0x5df52d['R5_G6_B5'];case _0x1f7cbd['cTFRGBA444'+'4']:return _0x5df52d['R4_G4_B4_A'+'4'];}},_0xad8f98=_0x3362ae=>{const _0x4d1b93=function(_0x49b93d,_0x2a613a){const _0x42c3ec=_0x49b93d*(-0x270a+-0x14f6+0x3c00+0.00784313725490196)-(-0x1*0x2467+0xf*0x297+0x5*-0x7d),_0x399a92=_0x2a613a*((-0x2a0+-0x18b+0x42d)/(-0x691+-0x1778+0x1f08))-(-0x739+0x1af5+-0x13bb*0x1),_0x1b1977=Math['sqrt'](-0x15bb+0x13*-0x7f+0xa63*0x3-Math['min'](0x292+-0x75a+0x4c9,_0x42c3ec*_0x42c3ec+_0x399a92*_0x399a92));return Math['max'](0x1779+0x43*-0x3b+-0x808,Math['min'](-0x14b*-0xe+-0x1a3c+0x921,Math['floor']((_0x1b1977+(-0x17a2+-0x1e34+0x35d7))*(-0x216*0x4+0x2ff*-0x3+0x1155+0.5)*(0x2669*0x1+0x1acb+-0x4035))));};for(let _0x2301e4=0x11*-0x12a+0x1c9e+-0x14*0x71;_0x2301e4<_0x3362ae['length'];_0x2301e4+=0x1*0x6fd+0x1410+-0x903*0x3){const _0x4e3b51=_0x3362ae[_0x2301e4+(0x26c2+0x1*0x772+-0x2e31)],_0x178f80=_0x3362ae[_0x2301e4+(-0x1851+-0x16df+0x2f31)];_0x3362ae[_0x2301e4+(0x1*-0x12a7+0x230c+-0x1065)]=_0x4e3b51,_0x3362ae[_0x2301e4+(-0x1b6c+-0xef*-0x5+0x1*0x16c3)]=_0x4d1b93(_0x4e3b51,_0x178f80),_0x3362ae[_0x2301e4+(-0xef8+-0x3b0+0x12ab)]=-0x26c+-0x1*-0x2699+-0x232e;}return _0x3362ae;},_0x23566a=_0xd5ccc6=>{const _0xd830d8=new Uint16Array(_0xd5ccc6['length']/(0x1e7*-0xd+-0x12bf+0x2b7e));for(let _0x35d568=-0x1c6f+-0x5*0x463+0x325e;_0x35d568<_0xd5ccc6['length'];_0x35d568+=-0x23c*-0x1+0x16db*-0x1+-0x14a3*-0x1){const _0x56c5c2=_0xd5ccc6[_0x35d568+(-0x1f8d+0xf8+0x1e95)],_0x7f3cc0=_0xd5ccc6[_0x35d568+(-0x1*0x338+-0x21e4+0xc5f*0x3)],_0x406d40=_0xd5ccc6[_0x35d568+(0x946+-0x1cb4+0x1370)];_0xd830d8[_0x35d568/(0x1*0x6df+-0x1c7e*0x1+0x15a3)]=(_0x56c5c2&0x2*0x131e+0x1*-0x283+-0x22c1)<<0x34a*-0x7+0x1155+0x5*0x125|(_0x7f3cc0&0x192e+0x1*0x1bfe+0x8*-0x686)<<-0x6d5+0x1c54+-0x44c*0x5|_0x406d40>>-0x155*0x3+-0x1*-0xbe+0x344;}return _0xd830d8;},_0x54dc22=(_0x4a7c58,_0x39d870)=>(_0x4a7c58&_0x4a7c58-(-0x1*-0x595+0x486*-0x3+-0xb*-0xba))===0x4*-0x1cd+0x548+-0x4*-0x7b&&(_0x39d870&_0x39d870-(-0x3*0x77d+-0x59d*0x5+0x1*0x3289))===-0x26ce+0x1908+0x2b*0x52,_0x36bed9=()=>typeof performance<'u'?performance['now']():0xb33+0x26bb+-0x4d*0xa6;let _0x1d21c1,_0x5e5ed2,_0x21aa93;const _0x4fdf27=(_0xdf3fa5,_0x283335,_0x51e285)=>{if(_0x51e285){if(_0xdf3fa5['formats']['astc'])return'astc';}else{if(_0x283335){if(_0xdf3fa5['formats']['etc2'])return'etc2';}else{if(_0xdf3fa5['formats']['etc2'])return'etc2';if(_0xdf3fa5['formats']['etc1'])return'etc1';}}return(_0x3142ba=>{for(let _0x29018d=0x1*0x369+-0x404*-0x7+-0x1f85;_0x29018d<_0x3142ba['length'];++_0x29018d){const _0x1643f3=_0x3142ba[_0x29018d];if(_0xdf3fa5['formats'][_0x1643f3])return _0x1643f3;}return'none';})(_0x283335?_0x21aa93:_0x5e5ed2);},_0x4f7d8d=(_0x1d9ebe,_0x42dcbf,_0x2f870d)=>{switch(_0x2f870d){case _0x1f7cbd['cTFETC1']:case _0x1f7cbd['cTFETC2']:return!(-0x5*-0x7ae+-0x2*0x671+-0x1984);case _0x1f7cbd['cTFBC1']:case _0x1f7cbd['cTFBC3']:return(_0x1d9ebe&-0x8b*-0x1e+-0x10a0+0x59)===-0x1d44+0x2c*0x2c+-0xc*-0x1cf&&(_0x42dcbf&0x47b*0x1+-0x1124+0x656*0x2)===0xe49+0x5*0x7be+-0x34ff;case _0x1f7cbd['cTFPVRTC1_'+'4_RGB']:case _0x1f7cbd['cTFPVRTC1_'+'4_RGBA']:return _0x54dc22(_0x1d9ebe,_0x42dcbf);case _0x1f7cbd['cTFASTC_4x'+'4']:return!(-0x25c0*-0x1+0x19bd*-0x1+-0xc03);case _0x1f7cbd['cTFATC_RGB']:case _0x1f7cbd['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x15*-0x103+-0x31a*0x1+0x1859);}return!(0x6c*-0x22+0x15*-0x9f+-0xdb2*-0x2);},_0x22688b=(_0x18f661,_0x335ac5,_0x3d0c16)=>{if(!_0x1d21c1['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x8a5bae=_0x36bed9(),_0x1ce8a5=new _0x1d21c1['KTX2File'](new Uint8Array(_0x335ac5)),_0x581156=_0x1ce8a5['getWidth'](),_0x1363da=_0x1ce8a5['getHeight'](),_0x39e4f6=_0x1ce8a5['getLevels'](),_0x2ff26d=!!_0x1ce8a5['getHasAlph'+'a'](),_0x1e5588=_0x1ce8a5['isUASTC']&&_0x1ce8a5['isUASTC']();if(!_0x581156||!_0x1363da||!_0x39e4f6)throw _0x1ce8a5['close'](),_0x1ce8a5['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x18f661+'\x20width='+_0x581156+'\x20height='+_0x1363da+'\x20levels='+_0x39e4f6);const _0x5de065=_0x4fdf27(_0x3d0c16['deviceDeta'+'ils'],_0x2ff26d,_0x1e5588),_0x3202a6=!!_0x3d0c16['isGGGR']&&_0x5de065==='pvr';let _0x591a66;if(_0x3202a6?_0x591a66=_0x1f7cbd['cTFRGBA32']:(_0x591a66=_0x2ff26d?_0x37e0e6[_0x5de065]:_0x3109d2[_0x5de065],_0x4f7d8d(_0x581156,_0x1363da,_0x591a66)||(_0x591a66=_0x2ff26d?_0x1f7cbd['cTFRGBA32']:_0x1f7cbd['cTFRGB565'])),!_0x1ce8a5['startTrans'+'coding']())throw _0x1ce8a5['close'](),_0x1ce8a5['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x18f661);let _0x123fda;const _0x180eac=[];for(let _0x22eebd=-0x580+0xf*0x10f+-0x1*0xa61;_0x22eebd<_0x39e4f6;++_0x22eebd){const _0x4f2917=_0x1ce8a5['getImageTr'+'anscodedSi'+'zeInBytes'](_0x22eebd,0x949*0x3+0x1450+0x3b*-0xd1,-0x214b+-0x1540+0x368b,_0x591a66),_0x2bfd8f=new Uint8Array(_0x4f2917);if(!_0x1ce8a5['transcodeI'+'mage'](_0x2bfd8f,_0x22eebd,-0x59f*-0x4+-0x1df8+0x77c,0x1e6a+0x2043+-0x3ead,_0x591a66,-0x1*0x2273+0x1542+-0x1*-0xd31,-(0x1a5d*0x1+0x5*-0x9b+-0x1755),-(0x3af*0x5+-0x3*0x827+0x60b)))throw _0x1ce8a5['close'](),_0x1ce8a5['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x18f661);const _0x151d6a=_0x591a66===_0x1f7cbd['cTFRGB565']||_0x591a66===_0x1f7cbd['cTFRGBA444'+'4'];_0x180eac['push'](_0x151d6a?new Uint16Array(_0x2bfd8f['buffer']):_0x2bfd8f);}if(_0x1ce8a5['close'](),_0x1ce8a5['delete'](),_0x3202a6){for(_0x591a66=_0x1f7cbd['cTFRGB565'],_0x123fda=-0x1b6b+0x25fb+-0x8*0x152;_0x123fda<_0x180eac['length'];++_0x123fda)_0x180eac[_0x123fda]=_0x23566a(_0xad8f98(_0x180eac[_0x123fda]));}return{'format':_0x4e9621(_0x591a66,_0x3d0c16['deviceDeta'+'ils']),'width':_0x581156,'height':_0x1363da,'levels':_0x180eac,'cubemap':!(0x1108+-0x1b*0x12f+-0x31*-0x4e),'transcodeTime':_0x36bed9()-_0x8a5bae,'url':_0x18f661,'unswizzledGGGR':_0x3202a6};},_0x9da1f0=(_0x391b4d,_0x3b5edd,_0x5c8e63)=>{const _0x736c21=_0x36bed9(),_0x22b0ee=new _0x1d21c1['BasisFile'](new Uint8Array(_0x3b5edd)),_0x180a98=_0x22b0ee['getImageWi'+'dth'](0x1*0x1a44+-0x895+-0x11af,-0xec*0x2+0x1324+0x12*-0xf6),_0x40b68f=_0x22b0ee['getImageHe'+'ight'](0x245b*-0x1+0xb3b+0x1920,0x1673+-0xd9*-0x7+0x207*-0xe),_0x4a9974=_0x22b0ee['getNumImag'+'es'](),_0x83d393=_0x22b0ee['getNumLeve'+'ls'](-0x1283+-0x74b*-0x4+0x1*-0xaa9),_0x38458a=!!_0x22b0ee['getHasAlph'+'a'](),_0x45f40e=_0x22b0ee['isUASTC']&&_0x22b0ee['isUASTC']();if(!_0x180a98||!_0x40b68f||!_0x4a9974||!_0x83d393)throw _0x22b0ee['close'](),_0x22b0ee['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x391b4d+'\x20width='+_0x180a98+'\x20height='+_0x40b68f+'\x20images='+_0x4a9974+'\x20levels='+_0x83d393);const _0x3527a3=_0x4fdf27(_0x5c8e63['deviceDeta'+'ils'],_0x38458a,_0x45f40e),_0x28d8ee=!!_0x5c8e63['isGGGR']&&_0x3527a3==='pvr';let _0x219fe0;if(_0x28d8ee?_0x219fe0=_0x1f7cbd['cTFRGBA32']:(_0x219fe0=_0x38458a?_0x37e0e6[_0x3527a3]:_0x3109d2[_0x3527a3],_0x4f7d8d(_0x180a98,_0x40b68f,_0x219fe0)||(_0x219fe0=_0x38458a?_0x1f7cbd['cTFRGBA32']:_0x1f7cbd['cTFRGB565'])),!_0x22b0ee['startTrans'+'coding']())throw _0x22b0ee['close'](),_0x22b0ee['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x391b4d);let _0x136705;const _0x2bc12e=[];for(let _0x3e2ca1=0xd9*0x1f+0x14*0xd7+0x2b13*-0x1;_0x3e2ca1<_0x83d393;++_0x3e2ca1){const _0x2011fc=_0x22b0ee['getImageTr'+'anscodedSi'+'zeInBytes'](0x14c2+0x155*-0x5+-0xe19,_0x3e2ca1,_0x219fe0),_0x2c8d58=new Uint8Array(_0x2011fc);if(!_0x22b0ee['transcodeI'+'mage'](_0x2c8d58,0x1c55*-0x1+0x2a*-0x47+0x17*0x1bd,_0x3e2ca1,_0x219fe0,0xe00+0x1e39+-0x2c39,-0x7f*-0x24+0x1c5b+-0x2e37)){if(_0x3e2ca1===_0x83d393-(0x2*0xd84+0x23*0xaf+-0x32f4)&&_0x2011fc===_0x2bc12e[_0x3e2ca1-(0xb6a+-0x24b3*-0x1+-0x301c)]['buffer']['byteLength'])_0x2c8d58['set'](new Uint8Array(_0x2bc12e[_0x3e2ca1-(-0x4*0x373+0x13d*-0x5+0x2*0x9ff)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x391b4d);else throw _0x22b0ee['close'](),_0x22b0ee['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x391b4d);}const _0x4bdd99=_0x219fe0===_0x1f7cbd['cTFRGB565']||_0x219fe0===_0x1f7cbd['cTFRGBA444'+'4'];_0x2bc12e['push'](_0x4bdd99?new Uint16Array(_0x2c8d58['buffer']):_0x2c8d58);}if(_0x22b0ee['close'](),_0x22b0ee['delete'](),_0x28d8ee){for(_0x219fe0=_0x1f7cbd['cTFRGB565'],_0x136705=-0x27*-0x1d+-0x1c39+-0x1*-0x17ce;_0x136705<_0x2bc12e['length'];++_0x136705)_0x2bc12e[_0x136705]=_0x23566a(_0xad8f98(_0x2bc12e[_0x136705]));}return{'format':_0x4e9621(_0x219fe0,_0x5c8e63['deviceDeta'+'ils']),'width':_0x180a98,'height':_0x40b68f,'levels':_0x2bc12e,'cubemap':!(-0x2658+0x7*0x2f5+0x11a6),'transcodeTime':_0x36bed9()-_0x736c21,'url':_0x391b4d,'unswizzledGGGR':_0x28d8ee};},_0x14398b=(_0x5c08a9,_0x5571ad,_0x30866)=>_0x30866['isKTX2']?_0x22688b(_0x5c08a9,_0x5571ad,_0x30866):_0x9da1f0(_0x5c08a9,_0x5571ad,_0x30866),_0x2b6b7b=(_0x458a29,_0x39a6d9,_0x29df95)=>{try{const _0x5c8c31=_0x14398b(_0x458a29,_0x39a6d9,_0x29df95);_0x5c8c31['levels']=_0x5c8c31['levels']['map'](_0x26eb80=>_0x26eb80['buffer']),self['postMessag'+'e']({'url':_0x458a29,'data':_0x5c8c31},_0x5c8c31['levels']);}catch(_0x54676d){self['postMessag'+'e']({'url':_0x458a29,'err':_0x54676d},null);}},_0x3e3ba6=(_0x3200d8,_0x188ab5)=>{const _0x2e8245=(_0x41bcc6,_0x286ea0)=>(WebAssembly['instantiat'+'e'](_0x3200d8['module'],_0x41bcc6)['then'](_0x585945=>{_0x286ea0(_0x585945);})['catch'](_0x5a48cc=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x5a48cc);}),{});self['BASIS'](_0x3200d8['module']?{'instantiateWasm':_0x2e8245}:null)['then'](_0x379450=>{_0x379450['initialize'+'Basis'](),_0x1d21c1=_0x379450,_0x5e5ed2=_0x3200d8['rgbPriorit'+'y'],_0x21aa93=_0x3200d8['rgbaPriori'+'ty'],_0x188ab5(null);});},_0x59b89f=[];self['onmessage']=_0x46f4ac=>{const _0x3f8c79=_0x46f4ac['data'];switch(_0x3f8c79['type']){case'init':_0x3e3ba6(_0x3f8c79['config'],()=>{for(let _0x58f3d7=0x99c+0x15a6+-0x1f42;_0x58f3d7<_0x59b89f['length'];++_0x58f3d7)_0x2b6b7b(_0x59b89f[_0x58f3d7]['url'],_0x59b89f[_0x58f3d7]['data'],_0x59b89f[_0x58f3d7]['options']);_0x59b89f['length']=0x122*0x10+0x3*0x89b+-0x2bf1;});break;case'transcode':_0x1d21c1?_0x2b6b7b(_0x3f8c79['url'],_0x3f8c79['data'],_0x3f8c79['options']):_0x59b89f['push'](_0x3f8c79);break;}};}const bL=_0x26cdcc=>({'astc':!!_0x26cdcc['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x26cdcc['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x26cdcc['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x26cdcc['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x26cdcc['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x26cdcc['extCompres'+'sedTexture'+'PVRTC']}),wL=(_0xa687ed,_0x223a6c)=>{const _0x69779b=_0x5623f6=>{const _0x4bf24d=['/*\x20basis\x20*'+'/',_0x5623f6,'','('+vL['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x4bf24d],{'type':'applicatio'+'n/javascri'+'pt'});},_0x141147=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x4b60d1=new WebAssembly['Module'](Uint8Array['of'](-0x1d88+0xdfc+-0xa*-0x18e,0x56*-0x47+-0x1429+0x2c64,0x1d82+-0x1364+-0x9*0x113,0x11*-0x195+-0x933*0x2+-0x4c*-0x9a,0x8d*0x2b+0x828+-0x1fd6,0x2577*0x1+0x2b5*0x5+0xcc*-0x40,0x71*0x29+0x6cc+0x18e5*-0x1,0x12f+-0x1b+-0x114));if(_0x4b60d1 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x4b60d1)instanceof WebAssembly['Instance'];}}catch{}return!(-0x12e+0x4ee*0x1+-0x3bf);},_0x33df91=(_0x4adb32,_0x50bfab)=>{_0x223a6c(null,{'workerUrl':URL['createObje'+'ctURL'](_0x69779b(_0x4adb32)),'module':_0x50bfab,'rgbPriority':_0xa687ed['rgbPriorit'+'y'],'rgbaPriority':_0xa687ed['rgbaPriori'+'ty']});},_0x3727e7={'cache':!(-0xfc2+0x7*-0x3dc+-0x92*-0x4b),'responseType':'text','retry':_0xa687ed['maxRetries']>-0x1*-0x2479+0x175d+-0x3bd6*0x1,'maxRetries':_0xa687ed['maxRetries']};if(_0xa687ed['glueUrl']&&_0xa687ed['wasmUrl']&&_0x141147()){let _0x2e67d7=null,_0x17f0c4=null;$e['get'](_0xa687ed['glueUrl'],_0x3727e7,(_0x1bbfa6,_0x971183)=>{_0x1bbfa6?_0x223a6c(_0x1bbfa6):_0x17f0c4?_0x33df91(_0x971183,_0x17f0c4):_0x2e67d7=_0x971183;});const _0x565d86=fetch(_0xa687ed['wasmUrl']),_0x5d6ab7=()=>{_0x565d86['then'](_0x13a728=>_0x13a728['arrayBuffe'+'r']())['then'](_0xfdb1a3=>WebAssembly['compile'](_0xfdb1a3))['then'](_0x254c3a=>{_0x2e67d7?_0x33df91(_0x2e67d7,_0x254c3a):_0x17f0c4=_0x254c3a;})['catch'](_0x54f18f=>{_0x223a6c(_0x54f18f,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x565d86)['then'](_0x21b284=>{_0x2e67d7?_0x33df91(_0x2e67d7,_0x21b284):_0x17f0c4=_0x21b284;})['catch'](_0x4a65b8=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0xa687ed['wasmUrl']+'\x20('+_0x4a65b8+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5d6ab7();}):_0x5d6ab7();}else $e['get'](_0xa687ed['fallbackUr'+'l'],_0x3727e7,(_0x3d675a,_0x38dc90)=>{_0x3d675a?_0x223a6c(_0x3d675a,null):_0x33df91(_0x38dc90,null);});};class TL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x587189,_0x1c3489,_0x334bce,_0x5cb982){if(this['callbacks']['hasOwnProp'+'erty'](_0x587189))this['callbacks'][_0x587189]['push'](_0x334bce);else{this['callbacks'][_0x587189]=[_0x334bce];const _0x2e92e4={'url':_0x587189,'data':_0x1c3489,'options':_0x5cb982};this['clients']['length']>-0x1*0x158b+-0x15e8+-0x635*-0x7?this['clients']['shift']()['run'](_0x2e92e4):this['queue']['push'](_0x2e92e4);}}['enqueueCli'+'ent'](_0x4e81b6){this['queue']['length']>-0xd*0xf7+0x5*-0x236+-0x1*-0x1799?_0x4e81b6['run'](this['queue']['shift']()):this['clients']['push'](_0x4e81b6);}['handleResp'+'onse'](_0xe6048c,_0x2c9ff6,_0x4f5e0c){const _0x5d10f2=this['callbacks'][_0xe6048c];if(_0x2c9ff6){for(let _0x589994=-0x443+-0x1b*0x135+0x24da;_0x589994<_0x5d10f2['length'];++_0x589994)_0x5d10f2[_0x589994](_0x2c9ff6);}else{_0x4f5e0c['format']===gc||_0x4f5e0c['format']===yc?_0x4f5e0c['levels']=_0x4f5e0c['levels']['map'](_0x2a8daf=>new Uint16Array(_0x2a8daf)):_0x4f5e0c['levels']=_0x4f5e0c['levels']['map'](_0x22675e=>new Uint8Array(_0x22675e));for(let _0xa57224=0xd3*-0x15+-0x4*-0x441+0x4b;_0xa57224<_0x5d10f2['length'];++_0xa57224)_0x5d10f2[_0xa57224](null,_0x4f5e0c);}delete this['callbacks'][_0xe6048c];}}class AL{constructor(_0x61e593,_0x25320b,_0x1f9849){this['queue']=_0x61e593,this['worker']=new Worker(_0x25320b['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x13a800=>{const _0x5e8ec2=_0x13a800['data'];this['queue']['handleResp'+'onse'](_0x5e8ec2['url'],_0x5e8ec2['err'],_0x5e8ec2['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x25320b}),this['eager']=_0x1f9849;}['run'](_0x5e1d4a){const _0x4d30f6=[];_0x5e1d4a['data']instanceof ArrayBuffer&&_0x4d30f6['push'](_0x5e1d4a['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x5e1d4a['url'],'format':_0x5e1d4a['format'],'data':_0x5e1d4a['data'],'options':_0x5e1d4a['options']},_0x4d30f6),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const CL=-0x1c93+-0x1057+-0x2ceb*-0x1,EL=['etc2','etc1','astc','dxt','pvr','atc'],ML=['astc','dxt','etc2','pvr','atc'],PL=0x1*-0x231d+-0x9b*0x1c+0x2*0x1a0b,Af=new TL();let Hg=null,Cf=!(-0x9f1+-0x1723+0x2115);function RL(_0xa2afeb){if(!Cf){if(!_0xa2afeb)_0xa2afeb=Hg||{};else{if(_0xa2afeb['lazyInit']){Hg=_0xa2afeb;return;}}if(!_0xa2afeb['glueUrl']||!_0xa2afeb['wasmUrl']||!_0xa2afeb['fallbackUr'+'l']){const _0x447583=ay['getConfig']('BASIS');_0x447583&&(_0xa2afeb={'glueUrl':_0x447583['glueUrl'],'wasmUrl':_0x447583['wasmUrl'],'fallbackUrl':_0x447583['fallbackUr'+'l'],'numWorkers':_0x447583['numWorkers']});}if(_0xa2afeb['glueUrl']||_0xa2afeb['wasmUrl']||_0xa2afeb['fallbackUr'+'l']){Cf=!(0x13*-0x72+0x5b5*-0x5+0x24ff);const _0x24c756=Math['max'](0x2288*0x1+0x1c27+-0x1f57*0x2,Math['min'](0x1*0x712+0x28e*0xd+0x8f*-0x48,_0xa2afeb['numWorkers']||CL)),_0x17d758=_0xa2afeb['numWorkers']===0x152c+-0x1d92+-0x1*-0x867||(_0xa2afeb['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0xa2afeb['eagerWorke'+'rs']:!(-0x6f1*0x3+-0x5f6+-0x1ac9*-0x1));_0xa2afeb['rgbPriorit'+'y']=_0xa2afeb['rgbPriorit'+'y']||EL,_0xa2afeb['rgbaPriori'+'ty']=_0xa2afeb['rgbaPriori'+'ty']||ML,_0xa2afeb['maxRetries']=_0xa2afeb['hasOwnProp'+'erty']('maxRetries')?_0xa2afeb['maxRetries']:PL,wL(_0xa2afeb,(_0x18e791,_0x10ca98)=>{if(_0x18e791)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x18e791);else{for(let _0xc4f57e=-0xe2*-0x23+0x1ab9+-0x399f;_0xc4f57e<_0x24c756;++_0xc4f57e)Af['enqueueCli'+'ent'](new AL(Af,_0x10ca98,_0x17d758));}});}}}let iu=null;function Fx(_0x32346a,_0x5da75d,_0xfef9fd,_0x5008c8,_0xa55571){return RL(),iu||(iu={'formats':bL(_0x32346a)}),Af['enqueueJob'](_0x5da75d,_0xfef9fd,_0x5008c8,{'deviceDetails':iu,'isGGGR':!!(_0xa55571!=null&&_0xa55571['isGGGR']),'isKTX2':!!(_0xa55571!=null&&_0xa55571['isKTX2'])}),Cf;}class za{['load'](_0x31bdf0,_0x1c374d,_0xfa43fd){throw new Error('not\x20implem'+'ented');}['open'](_0x497ba2,_0x585df4,_0x3d4f34){throw new Error('not\x20implem'+'ented');}}class IL extends za{constructor(_0x58372b,_0x2b5a5d){super(),this['device']=_0x2b5a5d,this['maxRetries']=0x22ef+0x22*0x5+-0x2399;}['load'](_0x43e598,_0x36911a,_0xa94da8){const _0x5b64ec=this['device'],_0x2d5a91=_0x74f02b=>{var _0x216925,_0x6295ce,_0x1133bd;Fx(_0x5b64ec,_0x43e598['load'],_0x74f02b,_0x36911a,{'isGGGR':(((_0x1133bd=(_0x6295ce=(_0x216925=_0xa94da8==null?void(0x2341+0x1c*-0x82+-0x703*0x3):_0xa94da8['file'])==null?void(0x257c+-0x1321*-0x1+0x1*-0x389d):_0x216925['variants'])==null?void(0x30f+0x4f6+-0x805):_0x6295ce['basis'])==null?void(-0x2*-0x11fd+0x1*-0x2397+-0x3*0x21):_0x1133bd['opt'])&-0x18c+0x40*0x1b+0x2*-0x296)!==0x1*0x5+-0x1bc3*-0x1+-0x1*0x1bc8})||_0x36911a('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0xa94da8['name']+']('+_0xa94da8['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x43e598['load'],(_0x3039bc,_0x52c9e1)=>{_0x3039bc?_0x36911a(_0x3039bc):_0x2d5a91(_0x52c9e1);},_0xa94da8,this['maxRetries']);}['open'](_0x3d3281,_0x49712e,_0x15874f,_0x1a0248={}){const _0x351da1=_0x1a0248['srgb']?Mc(_0x49712e['format']):_0x49712e['format'],_0x23fb65=new he(_0x15874f,{'name':_0x3d3281,'profilerHint':ur,'addressU':_0x49712e['cubemap']?ne:et,'addressV':_0x49712e['cubemap']?ne:et,'width':_0x49712e['width'],'height':_0x49712e['height'],'format':_0x351da1,'cubemap':_0x49712e['cubemap'],'levels':_0x49712e['levels'],..._0x1a0248});return _0x23fb65['upload'](),_0x23fb65;}}const kx=new Uint8Array([0x103*0x6+0x1ba1*0x1+-0x11b*0x1e,0x2*-0x3eb+-0x1f51+0x2777,0xf69+0x144b+-0xc5*0x2e,-0x6*0xcb+0xae5+0x4*-0x177,-0xc5e*0x3+0xdcd*-0x1+-0x4*-0xcbd,-0x48*0x3b+0x1af8+-0x1*0xa56,0xea2+0x2a+0x9*-0x1a2,-0x1cfa+-0x9*0x14b+0x28a7,-0x361*0x2+-0x16af+0x1d71,0x16*0xd6+-0x41*-0x56+-0x283a,0x141b*0x1+-0x56f+-0xeac,-0x547+-0x8f5+-0x4c3*-0x3,-0xc84+0x1a8f*0x1+-0xdc2,0x5e0+-0xd9c+0x804,0xf94*-0x1+-0x943*-0x1+0x695,-0x1*-0x228a+-0x13a7+0xb*-0x153,-0x19f3*-0x1+-0x1*0x175b+0x4*-0xa6,0x1324+-0x1cea+0x116*0x9,0x1ba7+-0xdf*0x2b+-0x4e7*-0x2,-0x2164+0x7a9+-0x6*-0x44a,0xa*0xcd+-0x6c*-0x37+0x2*-0xf9b,-0x26c0+0x62*-0x16+0x1796*0x2,0xdfa*-0x1+-0x7*-0x6d+0xaff,0x4*-0x387+0x5c2+0x85b,0x17*-0x157+0x25*0xe5+-0x240,0x1c*0x10f+-0x934*-0x1+-0x26d2,-0x1b4*-0xa+0x10a1+-0x21a9,-0x1396+0x143*-0x10+0x27c6,-0x21b8+0x182f+-0x989*-0x1,0xba7+-0x570+-0x618,-0x1*-0x1989+-0x18f8+-0x7c,0x1*-0x83b+0x19b1+-0x10b2,-0x1517+0xd5b*0x1+0x1*0x845,0x1c29+-0x1d*0x5b+0x1c9*-0xa,0x1*-0x22bb+-0x1727+-0x39e2*-0x1,0x1325+-0x1*0x2404+0x10df,0x2071+0x2b*-0x89+-0x7*0x157,-0x1*-0x20a1+-0x95b*-0x3+-0xc15*0x5,0x3*-0x60b+0x1*-0x935+0x1b9a,-0x2166+0x16b+0x203c,0x3*-0x926+-0x2203*-0x1+-0x1*0x63d,-0xaa0+-0x18fb*-0x1+-0xde3*0x1,0x28d*0x1+-0x217c+0x1fc9,0x1d9*0xb+0xb1*-0x6+0x1*-0xfca,0x1271+0x3d*0xa+-0x146f,0x19e5+0x1*0x5cf+-0x1f50,0x241e+0x1*-0x25b7+0x1fb*0x1,0x29*-0x3b+0x7*0x25c+-0x65b*0x1,-0xbb4+0x958+-0xd*-0x2f,-0x703+0x25fe+-0x1efb,-0x127f+0x793*-0x3+0x2938,-0x2051+-0x1de1*-0x1+0x1f*0x17,-0xcb8+-0x2234+-0x1ad*-0x1c,-0x11*0x23b+0xbf8*-0x1+0x322a,-0x69c+-0x23d4*0x1+-0x1*-0x2ab3,0x127b+-0x70e+0x2*-0x574,0x617+-0x1244+0x1*0xcc1,-0x1*-0x917+0x7*0x71+0x1*-0xb41,-0x2d8*0x1+0x1fd*-0x2+-0x6*-0x123,-0x30d*-0x1+0xce6+0xff3*-0x1,-0x92*0x1d+0xf09+0xb*0x23,0x485*0x6+-0x17a0+-0x37e,0xc0b*-0x2+0x3af*0x7+-0x16a,0x1fa+0x441+-0x5f6,-0x1*0xc79+-0x5*-0x712+-0x1693,0x1a04+-0xd91*-0x1+0x2751*-0x1,0xd*-0x2c1+0x1e2*-0xd+0xc31*0x5,-0xc9f+0xc7f*-0x3+0x325e,0x1c5d+0x261a*0x1+-0x4217,-0x126a+0x2436+-0x2*0x8a5]),Ox=(_0x4fe5f2,_0x1473c9)=>{const _0x550a3c=new he(_0x4fe5f2,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(-0x2*0x8d4+-0x26e9+0x3892),'levels':[_0x1473c9]}),_0xe0bfde=new pt({'colorBuffer':_0x550a3c,'depth':!(0x23dd+0x65*0x1a+-0x2e1e)});_0x4fe5f2['setFramebu'+'ffer'](_0xe0bfde['impl']['_glFrameBu'+'ffer']),_0x4fe5f2['initRender'+'Target'](_0xe0bfde);const _0x137445=new Uint8ClampedArray(0x22f5+0x9c7+-0x2cb8);return _0x4fe5f2['gl']['readPixels'](0x752+0x1d9e+-0x24f0,-0x1*0xf56+0x12f7+-0x3a1,0x1244+0x16ca+-0x290d,0x1ac3+-0x3*-0x2c9+-0x59*0x65,_0x4fe5f2['gl']['RGBA'],_0x4fe5f2['gl']['UNSIGNED_B'+'YTE'],_0x137445),_0xe0bfde['destroy'](),_0x550a3c['destroy'](),_0x137445[0x267+-0x24fa+0x2293]===-0x1f5b+0x1332+0x3*0x40e&&_0x137445[-0x36*-0xa9+-0x106*0x3+0x1*-0x2093]===0x24b0+-0xbf+-0x23ef&&_0x137445[-0x87c+0xaa1+-0x223*0x1]===-0xd9c+0x3f1+0x9ae&&_0x137445[0x12a8*-0x1+0xcbd+0x17*0x42]===-0x2563+-0x1c21+0x1e1*0x23;},DL=_0x2a292c=>createImageBitmap(new Blob([kx],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x5dd2ed=>Ox(_0x2a292c,_0x5dd2ed))['catch'](_0x20ecfe=>!(-0x1*0x19e3+0x1e92+-0x4ae)),LL=_0x1e87d7=>new Promise((_0x3acfc6,_0x26ac49)=>{const _0x1aa0fa=new Image();_0x1aa0fa['src']=URL['createObje'+'ctURL'](new Blob([kx])),_0x1aa0fa['onload']=()=>{_0x3acfc6(Ox(_0x1e87d7,_0x1aa0fa));};});class FL{static['run'](_0x326ad2){DL(_0x326ad2)['then'](_0x59f5a7=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x59f5a7);}),LL(_0x326ad2)['then'](_0x37e9d0=>{console['log']('imgElement'+'IsCorrect='+_0x37e9d0);});}}class kL extends za{constructor(_0x5b27d2,_0x56f1d0){super(),this['crossOrigi'+'n']=_0x5b27d2['prefix']?'anonymous':null,this['maxRetries']=-0xfd*0x6+-0x155b+-0x1*-0x1b49,this['device']=_0x56f1d0,Xs['get']('IMG_ALPHA_'+'TEST')&&FL['run'](this['device']);}['load'](_0x729196,_0x5017d4,_0x1380ea){var _0x22210d;const _0x599519=!!((_0x22210d=_0x1380ea==null?void(-0x508+-0x5f0*-0x5+-0x18a8):_0x1380ea['file'])!=null&&_0x22210d['contents']);if(_0x599519){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x1380ea['file']['contents']]),_0x5017d4);return;}_0x729196={'load':URL['createObje'+'ctURL'](new Blob([_0x1380ea['file']['contents']])),'original':_0x729196['original']};}const _0x1ce5f0=(_0x2288a5,_0x444c16)=>{_0x599519&&URL['revokeObje'+'ctURL'](_0x729196['load']),_0x5017d4(_0x2288a5,_0x444c16);};let _0x2b78ca;_0x1380ea&&_0x1380ea['options']&&_0x1380ea['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x2b78ca=_0x1380ea['options']['crossOrigi'+'n']:La['test'](_0x729196['load'])&&(_0x2b78ca=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x729196['load'],_0x729196['original'],_0x2b78ca,_0x1ce5f0):this['_loadImage'](_0x729196['load'],_0x729196['original'],_0x2b78ca,_0x1ce5f0);}['open'](_0xec258d,_0x45c1c2,_0x1c4e21,_0x246106={}){const _0x1f90a6=new he(_0x1c4e21,{'name':_0xec258d,'profilerHint':ur,'width':_0x45c1c2['width'],'height':_0x45c1c2['height'],'format':_0x246106['srgb']?as:Se,..._0x246106});return _0x1f90a6['setSource'](_0x45c1c2),_0x1f90a6;}['_loadImage'](_0x3684e3,_0x41429a,_0x4a9296,_0x5a1802){const _0x54f966=new Image();_0x4a9296&&(_0x54f966['crossOrigi'+'n']=_0x4a9296);let _0x57227f=-0x859+0x1ce7+0xa47*-0x2;const _0x52519e=this['maxRetries'];let _0x2cc3b9;_0x54f966['onload']=function(){_0x5a1802(null,_0x54f966);},_0x54f966['onerror']=function(){if(!_0x2cc3b9){if(_0x52519e>-0x1*0x2478+0x1269*-0x1+0x36e1&&++_0x57227f<=_0x52519e){const _0x9352e0=Math['pow'](0x19c7+0x11a3+-0x2b68,_0x57227f)*(-0x26ed*0x1+0x14*-0x13a+0xcc5*0x5);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x41429a+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x9352e0+'ms...');const _0x16224b=_0x3684e3['indexOf']('?')>=0x1fd8+0x2*0x2f3+-0x25be?'&':'?';_0x2cc3b9=setTimeout(()=>{_0x54f966['src']=_0x3684e3+_0x16224b+'retry='+Date['now'](),_0x2cc3b9=null;},_0x9352e0);}else _0x5a1802('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x41429a+'\x27');}},_0x54f966['src']=_0x3684e3;}['_loadImage'+'Bitmap'](_0x10515c,_0x383caf,_0x52cdcc,_0x14890f){const _0xa011e7={'cache':!(-0xba9+0x746+0x463),'responseType':'blob','retry':this['maxRetries']>0x2039*-0x1+0x7*0x256+0xfdf*0x1,'maxRetries':this['maxRetries']};$e['get'](_0x10515c,_0xa011e7,(_0x3a16bb,_0x22b9b4)=>{_0x3a16bb?_0x14890f(_0x3a16bb):this['_loadImage'+'BitmapFrom'+'Blob'](_0x22b9b4,_0x14890f);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x1beb66,_0xd3fdaa){createImageBitmap(_0x1beb66,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x2b75e9=>_0xd3fdaa(null,_0x2b75e9))['catch'](_0x262544=>_0xd3fdaa(_0x262544));}}const ru=[0x1b8cd4da+0x4630aee0+-0x969380f,0x3*0x44da84da+0x9f7*-0x8185d+-0x493*-0xd669f,-0x2*0x3c378f1+-0x4ad2cc+-0x3f*-0x48d285],OL={0x83f0:xc,0x83f2:Uf,0x83f3:$o,0x8d64:wc,0x9274:Gf,0x9278:Hf,0x8c00:Tc,0x8c01:qo,0x8c02:Ac,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Vf,0x8c43:as,0x8c3a:ga,0x881b:Sc,0x881a:Qe};function BL(_0x1b8ef3,_0x4bd6b4,_0x937b1e,_0x395b6d){return _0x1b8ef3===ga?new Uint32Array(_0x4bd6b4,_0x937b1e,_0x395b6d/(-0x1e82+-0xda*-0x26+-0x1*0x1d6)):new Uint8Array(_0x4bd6b4,_0x937b1e,_0x395b6d);}class NL extends za{constructor(_0x184ccb){super(),this['maxRetries']=0x1688+0x3*-0x9e6+-0x106*-0x7;}['load'](_0x3ffed5,_0x4fb9fd,_0x54cb6d){le['fetchArray'+'Buffer'](_0x3ffed5['load'],_0x4fb9fd,_0x54cb6d,this['maxRetries']);}['open'](_0x1dd4f7,_0x3e058c,_0x35a028,_0x598797={}){const _0x2b5bea=this['parse'](_0x3e058c);if(!_0x2b5bea)return null;const _0x3be77d=_0x598797['srgb']?Mc(_0x2b5bea['format']):_0x2b5bea['format'],_0x24ad88=new he(_0x35a028,{'name':_0x1dd4f7,'profilerHint':ur,'addressU':_0x2b5bea['cubemap']?ne:et,'addressV':_0x2b5bea['cubemap']?ne:et,'width':_0x2b5bea['width'],'height':_0x2b5bea['height'],'format':_0x3be77d,'cubemap':_0x2b5bea['cubemap'],'levels':_0x2b5bea['levels'],..._0x598797});return _0x24ad88['upload'](),_0x24ad88;}['parse'](_0x2204d9){const _0x30c966=new Uint32Array(_0x2204d9);if(ru[0x1*-0x16ad+0x4ed*0x3+0x7e6]!==_0x30c966[0x258b+-0x226b+-0x320]||ru[-0xf6*0x25+-0x184+0x2513*0x1]!==_0x30c966[0x23*-0x106+0x24a+-0x6b5*-0x5]||ru[-0x1d81+-0x36d*0x1+0x3e*0x88]!==_0x30c966[0x25*-0x26+-0x39e+0x91e])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x561df9={'endianness':_0x30c966[0x1947+0x37*-0x86+0x386],'glType':_0x30c966[-0xd70+0x982+0x3f2],'glTypeSize':_0x30c966[0x1871*0x1+0x2c3+-0x1b2f*0x1],'glFormat':_0x30c966[-0x113b+0x3*-0xa3+0x132a],'glInternalFormat':_0x30c966[0x9*-0xf2+-0x523+0xdac],'glBaseInternalFormat':_0x30c966[-0x20ae+-0x1*0x1223+0x32d9],'pixelWidth':_0x30c966[0xc3e+0x1ec6+0x1*-0x2afb],'pixelHeight':_0x30c966[0x1955+-0x617+-0x1334],'pixelDepth':_0x30c966[0x266+-0x71f*0x1+-0x262*-0x2],'numberOfArrayElements':_0x30c966[-0x24c4+-0xe2*-0x8+0x1dc0],'numberOfFaces':_0x30c966[-0x1005*-0x1+0x1967+-0x295f],'numberOfMipmapLevels':_0x30c966[0x22b0+0x1e7e+-0x1048*0x4],'bytesOfKeyValueData':_0x30c966[-0x2023+-0x10e*0x9+0x29b0]};if(_0x561df9['pixelDepth']>0x1f7+0xdd4*0x1+0x1*-0xfca)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x561df9['numberOfAr'+'rayElement'+'s']!==-0x10da+-0x128f+0x25*0xf5)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x3b992c=OL[_0x561df9['glInternal'+'Format']];if(_0x3b992c===void(0x82d+-0x1760+0xf33))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x561df9['glInternal'+'Format']),null;let _0x1887ef=0x1e8d+0x983*0x1+-0x400*0xa+_0x561df9['bytesOfKey'+'ValueData']/(0x35e*-0x2+-0x20ef+-0x27af*-0x1);const _0x28e6af=_0x561df9['numberOfFa'+'ces']>0x1fab+-0x16c5+-0x8e5,_0x556e2b=[];for(let _0x203fba=-0x21bc+-0xcde+0x174d*0x2;_0x203fba<(_0x561df9['numberOfMi'+'pmapLevels']||0x4dc+-0x1*-0x19ff+-0x16*0x167);_0x203fba++){const _0x481049=_0x30c966[_0x1887ef++];_0x28e6af&&_0x556e2b['push']([]);const _0x763f0f=_0x28e6af?_0x556e2b[_0x203fba]:_0x556e2b;for(let _0x1ea13a=-0x1471+-0xd68+0x21d9;_0x1ea13a<(_0x28e6af?0x1ca5+-0x2*-0x6e2+-0x2a63:0x360+0x26ad*-0x1+0x234e);++_0x1ea13a)_0x763f0f['push'](BL(_0x3b992c,_0x2204d9,_0x1887ef*(-0x1446+-0x1*-0x647+0xe03),_0x481049)),_0x1887ef+=_0x481049+(-0x8e*0x44+0x1618+0xfa3)>>-0x45*-0x56+-0x32b*-0x5+-0x1*0x2703;}return{'format':_0x3b992c,'width':_0x561df9['pixelWidth'],'height':_0x561df9['pixelHeigh'+'t'],'levels':_0x556e2b,'cubemap':_0x28e6af};}}const zL={'KHR_DF_MODEL_UASTC':0xa6};class UL extends za{constructor(_0x4b27f2,_0x21fc10){super(),this['maxRetries']=-0x47e*-0x2+0x2005+0x1*-0x2901,this['device']=_0x21fc10;}['load'](_0x35ee01,_0x380ba7,_0x18913b){le['fetchArray'+'Buffer'](_0x35ee01['load'],(_0x2ddfc6,_0x14f0ea)=>{_0x2ddfc6?_0x380ba7(_0x2ddfc6,_0x14f0ea):this['parse'](_0x14f0ea,_0x35ee01,_0x380ba7,_0x18913b);},_0x18913b,this['maxRetries']);}['open'](_0x7be84d,_0x5dcee4,_0x82236e,_0x188a3c={}){const _0x379b50=_0x188a3c['srgb']?Mc(_0x5dcee4['format']):_0x5dcee4['format'],_0x411240=new he(_0x82236e,{'name':_0x7be84d,'profilerHint':ur,'addressU':_0x5dcee4['cubemap']?ne:et,'addressV':_0x5dcee4['cubemap']?ne:et,'width':_0x5dcee4['width'],'height':_0x5dcee4['height'],'format':_0x379b50,'cubemap':_0x5dcee4['cubemap'],'levels':_0x5dcee4['levels'],..._0x188a3c});return _0x411240['upload'](),_0x411240;}['parse'](_0x239cd9,_0x2fbf77,_0x139230,_0x921c1d){var _0x563b08,_0x32112a,_0x40b6c1;const _0x212bfd=new oy(_0x239cd9),_0x107cd7=[_0x212bfd['readU32be'](),_0x212bfd['readU32be'](),_0x212bfd['readU32be']()];if(_0x107cd7[-0x1bb2+-0xdcc+0x297e]!==0x9fb15884+0x3a025640+0x4*-0xb9a169b||_0x107cd7[-0x2d5+0x140*-0xb+0x84b*0x2]!==0x149b4107+-0x182baab7+0x19*0x16e2f23||_0x107cd7[-0x1*0x1525+-0x2016+0x353d]!==-0xd51ca93+-0x2aa2c8*0x22+0x2005832d)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x1c5550={'vkFormat':_0x212bfd['readU32'](),'typeSize':_0x212bfd['readU32'](),'pixelWidth':_0x212bfd['readU32'](),'pixelHeight':_0x212bfd['readU32'](),'pixelDepth':_0x212bfd['readU32'](),'layerCount':_0x212bfd['readU32'](),'faceCount':_0x212bfd['readU32'](),'levelCount':_0x212bfd['readU32'](),'supercompressionScheme':_0x212bfd['readU32']()},_0x1eff9d={'dfdByteOffset':_0x212bfd['readU32'](),'dfdByteLength':_0x212bfd['readU32'](),'kvdByteOffset':_0x212bfd['readU32'](),'kvdByteLength':_0x212bfd['readU32'](),'sgdByteOffset':_0x212bfd['readU64'](),'sgdByteLength':_0x212bfd['readU64']()},_0x56c148=[];for(let _0x3c6cb9=0x8c2+0x61+-0x923;_0x3c6cb9<Math['max'](-0x1*0xd77+0x1*0x23bb+-0x1643,_0x1c5550['levelCount']);++_0x3c6cb9)_0x56c148['push']({'byteOffset':_0x212bfd['readU64'](),'byteLength':_0x212bfd['readU64'](),'uncompressedByteLength':_0x212bfd['readU64']()});if(_0x212bfd['readU32']()!==_0x1eff9d['kvdByteOff'+'set']-_0x1eff9d['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x212bfd['skip'](0x7*0x48c+-0x92f+0x33b*-0x7);const _0x39d520=_0x212bfd['readU8']();_0x212bfd['skip'](_0x1eff9d['dfdByteLen'+'gth']-(0x464*0x1+0xe*0x1bb+-0x1c95)),_0x212bfd['skip'](_0x1eff9d['kvdByteLen'+'gth']),_0x1c5550['supercompr'+'essionSche'+'me']===0x1b1a+-0x1abd+-0x2e*0x2||_0x39d520===zL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x2fbf77['load'],_0x239cd9,_0x139230,{'isGGGR':(((_0x40b6c1=(_0x32112a=(_0x563b08=_0x921c1d==null?void(-0x8d3*-0x1+0x161d+-0x1ef0):_0x921c1d['file'])==null?void(-0x46a+-0x8ed+-0xd57*-0x1):_0x563b08['variants'])==null?void(-0x115*0x1d+0x2*0x104f+-0x1*0x13d):_0x32112a['basis'])==null?void(-0x26d+-0x23*-0x2f+0x100*-0x4):_0x40b6c1['opt'])&-0x43*0x77+-0x267f+0x45ac)!==0xc6e*-0x1+0x6c1+-0x1*-0x5ad,'isKTX2':!(-0xeb7*0x2+0x601+0x176d)})||_0x139230('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x921c1d['name']+']('+_0x921c1d['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x139230('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class VL extends za{constructor(_0x3e998d){super(),this['maxRetries']=-0x14c7+0xc9*-0x1f+0x5*0x906;}['load'](_0x23eacd,_0x29b278,_0x2cf269){le['fetchArray'+'Buffer'](_0x23eacd['load'],_0x29b278,_0x2cf269,this['maxRetries']);}['open'](_0x2382fa,_0x239bfd,_0x404a3c,_0x1e3af9={}){const _0x2856bc=new Uint32Array(_0x239bfd,-0xd*0x241+-0x1591+0x32de,0x14d1+0x2*0x788+0x23c1*-0x1),_0x30e1a6=_0x2856bc[0xd17*0x1+0x1c82+0x851*-0x5],_0x5a1b1e=_0x2856bc[-0x9ef*0x1+0x2349+-0x1957],_0x3c778b=Math['max'](_0x2856bc[-0x4*-0x1c5+-0x12a7+0xb9a],0x148c+0x635*0x6+0x3*-0x1343),_0x256f26=_0x2856bc[-0x8ae*-0x3+0x14e1+-0x2ed7]===-0x58c*-0x5+0xf14+-0x2acc,_0x50fae9=_0x2856bc[0x658+-0xcd*0x1+0x6*-0xe9],_0x19b3e6=_0x2856bc[0x1*-0x493+0x63*0x7+-0x4*-0x7d],_0x1ecfd2=_0x2856bc[0x5*-0x14e+0x2*-0xbfb+0x2c*0xb2]===-0x1*-0x7cb3+0x9ef*0x1+0x775e,_0x32aca1=0x2b7d7aaf+-0x5394fdc3+0x596bdb58,_0x8eedf=0x684ad27f+-0x3b1dc9df*0x1+0x8274fa4,_0x20cc6b=-0x1390+-0x11*-0x217+-0xf86,_0x311458=0xd*0x59+-0x1a78+0x1667,_0xc821af=0x3d9d89b8+-0x4f0*0xc27f5+-0x169*-0x21cdb5,_0x220675=0x47958769+0x361c7037+-0x4c7ec550,_0x17bbbe=0x242171ef+0x2746cabd+-0x1caab6*0xea,_0x4a491a=-0x2*0x2913178f+0x3*0x174b397a+0x3d77b700,_0x35ca0e=0xaa8a*-0x592b+0x3ffef*0x13e3+0x1*0x1d102591;let _0x48e925=!(-0x868+0x9*-0x2cc+0x2195*0x1),_0x1a1432=!(-0x105*-0x11+-0x23b5+0x1261),_0x373f28=!(0xc6*0x11+-0x1173+0x44e),_0x109d43=!(-0x1d67+0x261*0x1+0x1b07),_0x516d53=null,_0x2400b5=-0x1b5c+-0x1bf5+-0x61*-0x92,_0x5c07b6;if(_0x256f26?_0x50fae9===_0x32aca1?(_0x516d53=xc,_0x48e925=!(-0x6*-0x215+-0x95c+-0x322)):_0x50fae9===_0x8eedf?(_0x516d53=$o,_0x48e925=!(-0x1*-0x243f+0x739*-0x1+0x5ce*-0x5)):_0x50fae9===_0x20cc6b?(_0x516d53=Qe,_0x2400b5=-0xc*0x44+-0x1f21+-0x57*-0x65):_0x50fae9===_0x311458?(_0x516d53=Ye,_0x2400b5=0x2*0xa48+0x1947+0x2dd3*-0x1):_0x50fae9===_0xc821af?(_0x516d53=wc,_0x48e925=!(0x1e50+-0xa37+-0x1419),_0x1a1432=!(-0x1*-0x120d+0xd88+-0x1f95)):_0x50fae9===_0x220675||_0x50fae9===_0x17bbbe?(_0x516d53=_0x50fae9===_0x220675?qo:Xo,_0x48e925=!(0x1e03+-0x2*-0x1159+-0x5*0xcf1),_0x373f28=!(-0x1940+0x1097+0x8a9)):(_0x50fae9===_0x4a491a||_0x50fae9===_0x35ca0e)&&(_0x516d53=_0x50fae9===_0x4a491a?Tc:Ac,_0x48e925=!(0x1622+0x1c92+0x195a*-0x2),_0x109d43=!(0xa38+-0x4c5*0x7+0x172b)):_0x19b3e6===0x1193*-0x2+0x1360+0xfe6&&(_0x516d53=Se),!_0x516d53)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x2382fa+'.'),_0x5c07b6=new he(_0x404a3c,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x5c07b6;_0x5c07b6=new he(_0x404a3c,{'name':_0x2382fa,'profilerHint':ur,'addressU':_0x1ecfd2?ne:et,'addressV':_0x1ecfd2?ne:et,'width':_0x30e1a6,'height':_0x5a1b1e,'format':_0x516d53,'cubemap':_0x1ecfd2,'mipmaps':_0x3c778b>-0xa10+0x1*-0x1d7b+-0x2*-0x13c6,..._0x1e3af9});let _0x394949=0x249*0x7+-0x11*0xeb+0x1*0x1c;const _0xf3ff15=_0x1ecfd2?0x44*0x3d+0x356+-0x1384:-0x2460+0x48*-0x20+0x2d61;let _0x5b30f1;const _0x5d4863=0x935*-0x1+0xb0a*0x1+-0x1d1,_0x4ac6f1=-0x213f+-0x41*-0x3d+-0xe*-0x145,_0x838ce=_0x50fae9===_0x32aca1?0xa*-0x3bf+-0x1*-0x227e+0x300:0x2705+-0x8c7*-0x1+-0x1a*0x1d6;let _0x54f865,_0x27c840,_0x3b5a30;for(let _0x43bed2=-0x419+0xbbb+-0x7a2;_0x43bed2<_0xf3ff15;_0x43bed2++){let _0x2cca9b=_0x30e1a6,_0x422f95=_0x5a1b1e;for(let _0x22c797=0x2648+0xd3*0x14+-0x36c4;_0x22c797<_0x3c778b;_0x22c797++){_0x48e925?_0x1a1432?_0x5b30f1=Math['floor']((_0x2cca9b+(-0xfcd+0x1eed+-0xf1d))/(-0x1b0f*-0x1+0x16f3*-0x1+0x2*-0x20c))*Math['floor']((_0x422f95+(-0x1*0xe25+0x1d32+-0xf0a))/(-0x2388+-0x4*0xca+-0x9ad*-0x4))*(0x2267*-0x1+0x1ddf+0x10*0x49):_0x373f28?_0x5b30f1=Math['max'](_0x2cca9b,0x19b+0x1504+-0x20d*0xb)*Math['max'](_0x422f95,0xd8b+0x769+-0x14ec)/(0x61a+-0x133*0x16+0x4*0x513):_0x109d43?_0x5b30f1=Math['max'](_0x2cca9b,-0x1bb7+-0x1e96*-0x1+-0x2d7)*Math['max'](_0x422f95,-0x1234+0x232e+-0x10f2)/(-0x1c03+0x12aa+0x95b):(_0x54f865=Math['floor']((_0x2cca9b+_0x5d4863-(-0xa*0x2b+0x2042+-0x3*0xa31))/_0x5d4863),_0x27c840=Math['floor']((_0x422f95+_0x4ac6f1-(-0x29a+0x80*-0x2e+-0x45*-0x5f))/_0x4ac6f1),_0x3b5a30=_0x54f865*_0x27c840,_0x5b30f1=_0x3b5a30*_0x838ce):_0x5b30f1=_0x2cca9b*_0x422f95*(-0x1ee8+-0x4a7+0x2393);const _0x140530=_0x516d53===Ye?new Float32Array(_0x239bfd,_0x394949,_0x5b30f1):_0x516d53===Qe?new Uint16Array(_0x239bfd,_0x394949,_0x5b30f1):new Uint8Array(_0x239bfd,_0x394949,_0x5b30f1);_0x1ecfd2?(_0x5c07b6['_levels'][_0x22c797]||(_0x5c07b6['_levels'][_0x22c797]=[]),_0x5c07b6['_levels'][_0x22c797][_0x43bed2]=_0x140530):_0x5c07b6['_levels'][_0x22c797]=_0x140530,_0x394949+=_0x5b30f1*_0x2400b5,_0x2cca9b=Math['max'](_0x2cca9b*(0x21b9+-0x1*-0x1e4d+-0x4006+0.5),-0x254a+-0x1075*-0x2+0x461),_0x422f95=Math['max'](_0x422f95*(-0x535+0xca*-0x29+0x5*0x783+0.5),-0xa*0x3be+0x16b9+0xeb4);}}return _0x5c07b6['upload'](),_0x5c07b6;}}class GL extends za{constructor(_0x35da66){super(),this['maxRetries']=-0xb3*0x7+0x6*-0x1e8+-0x25*-0x71;}['load'](_0x12429b,_0x85cdcf,_0x22eb92){le['fetchArray'+'Buffer'](_0x12429b['load'],_0x85cdcf,_0x22eb92,this['maxRetries']);}['open'](_0x2cb958,_0x263f47,_0x47ce4e,_0x43d5b3={}){const _0xd0424d=this['parse'](_0x263f47);if(!_0xd0424d)return null;const _0x455f9d=new he(_0x47ce4e,{'name':_0x2cb958,'profilerHint':ur,'addressU':et,'addressV':ne,'minFilter':de,'magFilter':de,'width':_0xd0424d['width'],'height':_0xd0424d['height'],'levels':_0xd0424d['levels'],'format':Se,'type':op,'mipmaps':!(-0x21*0x3+0x331*0x6+-0x1*0x12c2),..._0x43d5b3});return _0x455f9d['upload'](),_0x455f9d;}['parse'](_0x313914){const _0xd38b05=new oy(_0x313914);if(!_0xd38b05['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x554d80={};for(;;){const _0x49e31c=_0xd38b05['readLine']();if(_0x49e31c['length']===0x1cff+0x4e*-0x51+-0x451)break;{const _0x2cbea8=_0x49e31c['split']('=');_0x2cbea8['length']===-0x24e+-0x16c7+0x1917&&(_0x554d80[_0x2cbea8[-0xaad*0x1+-0x1cdc+0x2789]]=_0x2cbea8[0x1ac+-0x14f*0x1c+0x1*0x22f9]);}}if(!_0x554d80['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x2572e6=_0xd38b05['readLine']()['split']('\x20');if(_0x2572e6['length']!==0x3d0+0x3*-0xc85+0x21c3)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x365152=parseInt(_0x2572e6[-0x18b*-0x7+-0x1*-0x1634+0x58*-0x60],0x7*0x28b+0x1166+-0x2329),_0x36599e=parseInt(_0x2572e6[-0x4a*-0x77+0x88a+0x129*-0x25],0x1*0x161+-0x1*-0x1eb5+-0x200c),_0x22f889=this['_readPixel'+'s'](_0xd38b05,_0x36599e,_0x365152,_0x2572e6[-0xb6b+0x1dce*0x1+-0x1263]==='-Y');return _0x22f889?{'width':_0x36599e,'height':_0x365152,'levels':[_0x22f889]}:null;}['_readPixel'+'s'](_0x516da9,_0x5322e1,_0x265c55,_0x47a507){if(_0x5322e1<-0xd09+0x1*-0x1669+0x237a||_0x5322e1>-0xa1c3+-0x7131+0x192f3)return this['_readPixel'+'sFlat'](_0x516da9,_0x5322e1,_0x265c55);const _0x442be8=[-0x4d*-0xe+0x1*-0x2126+-0x8*-0x39e,-0x1*-0x8b9+-0xc41+0x388,0x1*0x1e3a+-0x1cc7+-0x173,0x1b00+0x1ed4*-0x1+0x3d4];if(_0x516da9['readArray'](_0x442be8),_0x442be8[-0x28f*-0xe+0x175d+-0x3b2f]!==0x1*-0x9b1+0x223*-0x1+0x12f*0xa||_0x442be8[0x1*0x1df9+0xb27*-0x2+-0x6d*0x12]!==-0x2*0x2e2+0x2543*-0x1+0x2b09||(_0x442be8[0x1e2a+-0x2551+0x729]&0x831+-0xcc2*0x2+0x11d3)!==0x1457+0x4cb*0x6+-0x1*0x3119)return _0x516da9['skip'](-(-0x1*0x1f00+0x1*-0x1741+-0x1a5*-0x21)),this['_readPixel'+'sFlat'](_0x516da9,_0x5322e1,_0x265c55);const _0x4e0a2c=new ArrayBuffer(_0x5322e1*_0x265c55*(0x1727*0x1+0xeb7+-0x25da)),_0x131191=new Uint8Array(_0x4e0a2c);let _0x199d9c=_0x47a507?-0x50*-0x2e+-0x3e5*-0x1+-0x617*0x3:_0x5322e1*(0x2416+-0x1*0x1f7+-0x221b)*(_0x265c55-(0x22ef+-0x1d8d+-0x561)),_0x5146d2,_0x40bab2,_0x4ca144,_0x35a8a1,_0x398fb1,_0x31932e;for(_0x40bab2=0xd21+0x1855+0x55a*-0x7;_0x40bab2<_0x265c55;++_0x40bab2){if(_0x40bab2&&_0x516da9['readArray'](_0x442be8),(_0x442be8[-0x1*0x1de3+0x6b6*-0x1+-0x249b*-0x1]<<-0x11ce+0x2d3*0x1+0x7*0x225)+_0x442be8[0x5a2*0x4+-0x1*-0x16ed+-0x2*0x16b9]!==_0x5322e1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x35a8a1=0xb18+-0xca*-0x5+-0xf0a;_0x35a8a1<-0x12f2+0x17d9+0x1*-0x4e3;++_0x35a8a1)for(_0x5146d2=0x1cf+-0x3*-0xbff+-0x25cc;_0x5146d2<_0x5322e1;)if(_0x398fb1=_0x516da9['readU8'](),_0x398fb1>-0x90a+-0x7c*-0x19+-0x1*0x292){if(_0x398fb1-=0xc+0xe65+0xdf1*-0x1,_0x5146d2+_0x398fb1>_0x5322e1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x31932e=_0x516da9['readU8'](),_0x4ca144=0x230c+-0x1*0x9c3+-0x1949;_0x4ca144<_0x398fb1;++_0x4ca144)_0x131191[_0x199d9c+_0x35a8a1+(0x6bb*0x2+0x1dfc+0x22*-0x147)*_0x5146d2++]=_0x31932e;}else{if(_0x398fb1===-0x49*0x9+0x27d*0xd+0x1*-0x1dc8||_0x5146d2+_0x398fb1>_0x5322e1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x4ca144=0xb7*-0x4+-0x15*0x15a+0x1f3e;_0x4ca144<_0x398fb1;++_0x4ca144)_0x131191[_0x199d9c+_0x35a8a1+(0x12a6+-0x102f+-0x21*0x13)*_0x5146d2++]=_0x516da9['readU8']();}_0x199d9c+=_0x5322e1*(0x66c*-0x3+0xa*0x255+-0x40a)*(_0x47a507?0x65*-0x1+-0xd76+0xddc:-(-0x12f7+0x1*-0xd16+-0x200e*-0x1));}return _0x131191;}['_readPixel'+'sFlat'](_0x7512f5,_0x25e2b5,_0x27d397){return _0x7512f5['remainingB'+'ytes']===_0x25e2b5*_0x27d397*(-0x1*0x7b5+-0x13d6+-0x1b8f*-0x1)?new Uint8Array(_0x7512f5['arraybuffe'+'r'],_0x7512f5['offset']):null;}}const Wg={'repeat':et,'clamp':ne,'mirror':Of},$g={'nearest':de,'linear':tt,'nearest_mip_nearest':pc,'linear_mip_nearest':_c,'nearest_mip_linear':mc,'linear_mip_linear':nn},HL={'default':Fi,'rgbm':on,'rgbe':op,'rgbp':Io,'swizzleGGGR':lp},WL=function(_0x1669f8){const _0x5e0647=Ri['calcMipLev'+'elsCount'](_0x1669f8['_width'],_0x1669f8['_height']),_0x17daa3=function(_0x29632e){return _0x29632e instanceof HTMLCanvasElement||_0x29632e instanceof HTMLImageElement||_0x29632e instanceof HTMLVideoElement;};if(!(_0x1669f8['_format']===Se||_0x1669f8['_format']===Ye)||_0x1669f8['_volume']||_0x1669f8['_compresse'+'d']||_0x1669f8['_levels']['length']===-0xa22+-0x54b+0xf6e||_0x1669f8['_levels']['length']===_0x5e0647||_0x17daa3(_0x1669f8['_cubemap']?_0x1669f8['_levels'][-0x4de*-0x3+-0x257e+-0x494*-0x5][-0x11*0x107+-0xe23+-0x1*-0x1f9a]:_0x1669f8['_levels'][-0x4e9*0x7+-0x2b*-0x61+0x1214]))return;const _0x4bd010=function(_0x15b9a4,_0x5e932d,_0x9d87a7){const _0x156067=Math['max'](0x2ae*-0x3+0x2b4*-0x4+0x12db,_0x15b9a4>>0x25c0+0x1406+-0x39c5),_0x4398a1=Math['max'](-0x1664*-0x1+0x13*0x161+-0x3096,_0x5e932d>>0x4*0x7d9+-0x1*-0x7eb+-0x56*0x75),_0x4c5755=new _0x9d87a7['constructo'+'r'](_0x156067*_0x4398a1*(-0x4b7*-0x4+0x2*-0x1262+0x11ec)),_0x2146c9=Math['floor'](_0x15b9a4/_0x156067),_0x45fe7f=Math['floor'](_0x5e932d/_0x4398a1),_0x306b1b=_0x2146c9*_0x45fe7f;for(let _0x125685=-0x1432*0x1+0x46d+0x1*0xfc5;_0x125685<_0x4398a1;++_0x125685)for(let _0x65d926=-0x18d4+-0x13*-0x31+0x1531;_0x65d926<_0x156067;++_0x65d926)for(let _0x247b82=-0x1*0x116f+-0x1*-0x31b+-0xe54*-0x1;_0x247b82<-0x1819*0x1+0xbf3+0xc2a;++_0x247b82){let _0x4c6427=0x16c4+-0x1f0d+0x849;for(let _0x25240e=-0x3d*-0x83+-0x646+-0x1*0x18f1;_0x25240e<_0x45fe7f;++_0x25240e)for(let _0x459681=-0x8ef*0x2+0xc2*0x29+-0xd34;_0x459681<_0x2146c9;++_0x459681)_0x4c6427+=_0x9d87a7[(_0x65d926*_0x2146c9+_0x459681+(_0x125685*_0x45fe7f+_0x25240e)*_0x15b9a4)*(0x2532+0x643*0x1+-0x2b71)+_0x247b82];_0x4c5755[(_0x65d926+_0x125685*_0x156067)*(0x60f*-0x4+-0x2f0*-0x4+0xc80)+_0x247b82]=_0x4c6427/_0x306b1b;}return _0x4c5755;};for(let _0x594b1f=_0x1669f8['_levels']['length'];_0x594b1f<_0x5e0647;++_0x594b1f){const _0x23d1b8=Math['max'](-0x25*-0xd6+0x11d4+-0x30c1,_0x1669f8['_width']>>_0x594b1f-(-0x18+0x7de+-0x7c5)),_0x5b45ae=Math['max'](-0x1c73+0x50+0x1c24,_0x1669f8['_height']>>_0x594b1f-(0x62*0x3d+-0xad*0x9+-0x1144));if(_0x1669f8['_cubemap']){const _0x699f6b=[];for(let _0x5df8ee=0x1058+-0x257*0x1+0xf*-0xef;_0x5df8ee<0xdde+-0x18f2+0x2*0x58d;++_0x5df8ee)_0x699f6b['push'](_0x4bd010(_0x23d1b8,_0x5b45ae,_0x1669f8['_levels'][_0x594b1f-(-0x106*0x1d+-0x51f+-0x3*-0xb9a)][_0x5df8ee]));_0x1669f8['_levels']['push'](_0x699f6b);}else _0x1669f8['_levels']['push'](_0x4bd010(_0x23d1b8,_0x5b45ae,_0x1669f8['_levels'][_0x594b1f-(0x21a0+-0x178c+0x1*-0xa13)]));}_0x1669f8['_levelsUpd'+'ated']=_0x1669f8['_cubemap']?[[!(-0x68d*0x2+0x29*-0x80+-0xfd*-0x22),!(-0x1c31+0x266f+-0xa3e),!(0xf95*0x1+0x3a+0x39*-0x47),!(-0x3*0x981+-0x87*-0x2f+0x3ba),!(-0x336+-0x25b+0x591),!(0x2*0xcae+0x1*0xe82+-0x27de)]]:[!(0x1*-0x1ca7+-0x1*0x1619+0x32c0)];};class $L extends Be{constructor(_0x4c275e){super(_0x4c275e,'texture');const _0x4e35ce=_0x4c275e['assets'],_0x54ddc9=_0x4c275e['graphicsDe'+'vice'];this['_device']=_0x54ddc9,this['_assets']=_0x4e35ce,this['imgParser']=new kL(_0x4e35ce,_0x54ddc9),this['parsers']={'dds':new VL(_0x4e35ce),'ktx':new NL(_0x4e35ce),'ktx2':new UL(_0x4e35ce,_0x54ddc9),'basis':new IL(_0x4e35ce,_0x54ddc9),'hdr':new GL(_0x4e35ce)};}set['crossOrigi'+'n'](_0x50d9d7){this['imgParser']['crossOrigi'+'n']=_0x50d9d7;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x1ef77a){this['imgParser']['maxRetries']=_0x1ef77a;for(const _0xd824f4 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0xd824f4)&&(this['parsers'][_0xd824f4]['maxRetries']=_0x1ef77a);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x4f639e){return _0x4f639e['indexOf']('?')>=-0x2637+-0x2b3*0x6+0x3669?_0x4f639e['split']('?')[0x91+-0x1d27*-0x1+-0x76e*0x4]:_0x4f639e;}['_getParser'](_0x36ca60){const _0x77d84d=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x36ca60))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x77d84d]||this['imgParser'];}['_getTextur'+'eOptions'](_0x5f26ee){var _0x48cbaa;const _0x3c6da1={'profilerHint':ur};if(_0x5f26ee){((_0x48cbaa=_0x5f26ee['name'])==null?void(-0x6fb*0x1+-0x2*0x112+-0x1*-0x91f):_0x48cbaa['length'])>-0x33*0x59+0xb35+-0x343*-0x2&&(_0x3c6da1['name']=_0x5f26ee['name']);const _0x461e8f=_0x5f26ee['data'];_0x461e8f['hasOwnProp'+'erty']('minfilter')&&(_0x3c6da1['minFilter']=$g[_0x461e8f['minfilter']]),_0x461e8f['hasOwnProp'+'erty']('magfilter')&&(_0x3c6da1['magFilter']=$g[_0x461e8f['magfilter']]),_0x461e8f['hasOwnProp'+'erty']('addressu')&&(_0x3c6da1['addressU']=Wg[_0x461e8f['addressu']]),_0x461e8f['hasOwnProp'+'erty']('addressv')&&(_0x3c6da1['addressV']=Wg[_0x461e8f['addressv']]),_0x461e8f['hasOwnProp'+'erty']('mipmaps')&&(_0x3c6da1['mipmaps']=_0x461e8f['mipmaps']),_0x461e8f['hasOwnProp'+'erty']('anisotropy')&&(_0x3c6da1['anisotropy']=_0x461e8f['anisotropy']),_0x461e8f['hasOwnProp'+'erty']('flipY')&&(_0x3c6da1['flipY']=!!_0x461e8f['flipY']),_0x461e8f['hasOwnProp'+'erty']('srgb')&&(_0x3c6da1['srgb']=!!_0x461e8f['srgb']),_0x461e8f['hasOwnProp'+'erty']('type')?_0x3c6da1['type']=HL[_0x461e8f['type']]:_0x461e8f['hasOwnProp'+'erty']('rgbm')&&_0x461e8f['rgbm']?_0x3c6da1['type']=on:_0x5f26ee['file']&&(_0x5f26ee['file']['opt']&0x229+0x5b3+0xa7*-0xc)!==0x3*-0x243+0x41c+-0x2ad*-0x1&&(_0x3c6da1['type']=lp);}return _0x3c6da1;}['load'](_0x52ece4,_0x3fdf96,_0x1bc493){typeof _0x52ece4=='string'&&(_0x52ece4={'load':_0x52ece4,'original':_0x52ece4}),this['_getParser'](_0x52ece4['original'])['load'](_0x52ece4,_0x3fdf96,_0x1bc493);}['open'](_0x539584,_0x372aa8,_0x4163f5){if(!_0x539584)return;const _0x53b4f5=this['_getTextur'+'eOptions'](_0x4163f5);let _0x2dd206=this['_getParser'](_0x539584)['open'](_0x539584,_0x372aa8,this['_device'],_0x53b4f5);return _0x2dd206===null?_0x2dd206=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(WL(_0x2dd206),_0x372aa8['unswizzled'+'GGGR']&&(_0x4163f5['file']['variants']['basis']['opt']&=-(0x1*0xf7b+0x3*0x3d2+-0x1ae8))),_0x2dd206;}['patch'](_0x14c7e5,_0x26d44a){const _0x4aa919=_0x14c7e5['resource'];if(!_0x4aa919)return;const _0x411e00=this['_getTextur'+'eOptions'](_0x14c7e5);for(const _0x357fc9 of Object['keys'](_0x411e00))_0x4aa919[_0x357fc9]=_0x411e00[_0x357fc9];}}const qL='inline',XL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',jL='left',YL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class KL{constructor(_0x7b8a15){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0x7b8a15;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x3bdad6){!this['_supported']||this['_manager']['active']||(this['_root']=_0x3bdad6);}get['root'](){return this['_root'];}}const rh=[],Xg=[];class Ef extends ce{constructor(_0x30cbc7,_0x1d45b7,_0x35082e,_0xc68097=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x30cbc7,this['_xrHitTest'+'Source']=_0x1d45b7,this['_transient']=_0x35082e,this['_inputSour'+'ce']=_0xc68097);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x3f56e3=this['manager']['hitTest']['sources'],_0x492f8f=_0x3f56e3['indexOf'](this);_0x492f8f!==-(0x1*0x12af+0xd3+0x1*-0x1381)&&_0x3f56e3['splice'](_0x492f8f,-0x15ab+0x20eb+-0xb3f),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x4d14d6){if(this['_transient']){const _0x1fd1af=_0x4d14d6['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x2d2ccf=-0x18d*-0x2+-0xb58+-0x1*-0x83e;_0x2d2ccf<_0x1fd1af['length'];_0x2d2ccf++){const _0x7076d=_0x1fd1af[_0x2d2ccf];if(!_0x7076d['results']['length'])continue;let _0x3e5cb3;_0x7076d['inputSourc'+'e']&&(_0x3e5cb3=this['manager']['input']['_getByInpu'+'tSource'](_0x7076d['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x7076d['results'],_0x3e5cb3);}}else{const _0x5e4043=_0x4d14d6['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x5e4043['length'])return;this['updateHitR'+'esults'](_0x5e4043);}}['updateHitR'+'esults'](_0x41aa58,_0x479d6f){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x479d6f)return;const _0x3fcb3f=rh['pop']()??new T();_0x479d6f?_0x3fcb3f['copy'](_0x479d6f['getOrigin']()):_0x3fcb3f['copy'](this['manager']['camera']['getPositio'+'n']());let _0x3380e2=(-0x3*-0xa7e+0xa3e+-0x29b7)/(0x4*-0x3d7+-0x16ed+0x2649),_0x93cfa9=null;const _0x19d157=rh['pop']()??new T(),_0x296af4=Xg['pop']()??new te();for(let _0x3d9f23=0x1*0x80+-0xeb6+-0x2*-0x71b;_0x3d9f23<_0x41aa58['length'];_0x3d9f23++){const _0x46cd46=_0x41aa58[_0x3d9f23]['getPose'](this['manager']['_reference'+'Space']),_0x493f4b=_0x3fcb3f['distance'](_0x46cd46['transform']['position']);_0x493f4b>=_0x3380e2||(_0x3380e2=_0x493f4b,_0x93cfa9=_0x41aa58[_0x3d9f23],_0x19d157['copy'](_0x46cd46['transform']['position']),_0x296af4['copy'](_0x46cd46['transform']['orientatio'+'n']));}this['fire']('result',_0x19d157,_0x296af4,_0x479d6f||this['_inputSour'+'ce'],_0x93cfa9),this['manager']['hitTest']['fire']('result',this,_0x19d157,_0x296af4,_0x479d6f||this['_inputSour'+'ce'],_0x93cfa9),rh['push'](_0x3fcb3f),rh['push'](_0x19d157),Xg['push'](_0x296af4);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class Or extends ce{constructor(_0x5bb867){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(0xd*-0x4b+0x159+0x277)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x838+-0x3b*-0x6d+-0x10e6)),c(this,'sources',[]),(this['manager']=_0x5bb867,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x10f5db=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x1e95*-0x1+-0xbb*0x2f+-0x1*-0x40eb);if(!_0x10f5db)return;this['_available']=_0x10f5db,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0xe*0x1e7+0x29*-0x5f+-0x1*-0x29d9),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x1256f2=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x1256f2})['then'](_0x7e02b4=>{_0x7e02b4['cancel'](),this['manager']['active']&&(this['_available']=!(-0x3*0xb17+-0x1eb*0x1+0x2330),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1*0x1e12+0x1b76+0x29d);for(let _0x55fcd8=0x7c7+-0x1aa6*-0x1+-0x226d;_0x55fcd8<this['sources']['length'];_0x55fcd8++)this['sources'][_0x55fcd8]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x219e74={}){var _0x27b551,_0x50de0e;if(!this['_supported']){(_0x27b551=_0x219e74['callback'])==null||_0x27b551['call'](_0x219e74,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x50de0e=_0x219e74['callback'])==null||_0x50de0e['call'](_0x219e74,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x219e74['profile']&&!_0x219e74['spaceType']&&(_0x219e74['spaceType']=qg);let _0x84092d;const _0x16d913=_0x219e74['offsetRay'];if(_0x16d913){const _0x248e79=new DOMPoint(_0x16d913['origin']['x'],_0x16d913['origin']['y'],_0x16d913['origin']['z'],0x21ab+-0x1784+-0xa26),_0x3ee383=new DOMPoint(_0x16d913['direction']['x'],_0x16d913['direction']['y'],_0x16d913['direction']['z'],0x2*-0x95+-0x4*0x13+-0x22*-0xb);_0x84092d=new XRRay(_0x248e79,_0x3ee383);}const _0xa08239=_0x219e74['callback'];_0x219e74['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x219e74['spaceType'])['then'](_0xfa8c71=>{if(!this['manager']['session']){const _0x54937a=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0xa08239&&_0xa08239(_0x54937a),this['fire']('error',_0x54937a);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0xfa8c71,'entityTypes':_0x219e74['entityType'+'s']||void(-0x61b*-0x5+-0x5d4*0x4+-0x1*0x737),'offsetRay':_0x84092d})['then'](_0x5e0b74=>{this['_onHitTest'+'Source'](_0x5e0b74,!(0x14f2+-0x12b9+-0x8e*0x4),_0x219e74['inputSourc'+'e'],_0xa08239);})['catch'](_0x2535a4=>{_0xa08239&&_0xa08239(_0x2535a4),this['fire']('error',_0x2535a4);});})['catch'](_0x3111b8=>{_0xa08239&&_0xa08239(_0x3111b8),this['fire']('error',_0x3111b8);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x219e74['profile'],'entityTypes':_0x219e74['entityType'+'s']||void(0x1e49+-0x1ee5+-0xc*-0xd),'offsetRay':_0x84092d})['then'](_0x2ac4bc=>{this['_onHitTest'+'Source'](_0x2ac4bc,!(-0x86*0x17+-0x1a2e*-0x1+-0xe24),_0x219e74['inputSourc'+'e'],_0xa08239);})['catch'](_0x31b726=>{_0xa08239&&_0xa08239(_0x31b726),this['fire']('error',_0x31b726);});}['_onHitTest'+'Source'](_0x500c3c,_0x46a5aa,_0x532c40,_0x310722){if(!this['manager']['session']){_0x500c3c['cancel']();const _0xac619b=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x310722&&_0x310722(_0xac619b),this['fire']('error',_0xac619b);return;}const _0x2265f0=new Ef(this['manager'],_0x500c3c,_0x46a5aa,_0x532c40??null);this['sources']['push'](_0x2265f0),_0x310722&&_0x310722(null,_0x2265f0),this['fire']('add',_0x2265f0);}['update'](_0x390785){if(this['_available']){for(let _0x2f0d5d=0x48*0x58+0xb2*0x16+-0x280c;_0x2f0d5d<this['sources']['length'];_0x2f0d5d++)this['sources'][_0x2f0d5d]['update'](_0x390785);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(Or,'EVENT_AVAI'+'LABLE','available'),c(Or,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Or,'EVENT_ADD','add'),c(Or,'EVENT_REMO'+'VE','remove'),c(Or,'EVENT_RESU'+'LT','result'),c(Or,'EVENT_ERRO'+'R','error');class Mf extends ce{constructor(_0x524511,_0x1c10b0){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x9*0x79+-0x795+0x354*0x1),c(this,'_trackable',!(0x2623*0x1+-0x47*-0x7b+-0x483f)),c(this,'_tracking',!(-0x106f*0x1+-0x26c2+0x1*0x3732)),c(this,'_emulated',!(0x152f+0x723*0x3+-0x2a97*0x1)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new te()),(this['_image']=_0x524511,this['_width']=_0x1c10b0);}get['image'](){return this['_image'];}set['width'](_0x1fb4e7){this['_width']=_0x1fb4e7;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x176c71=>(this['_bitmap']=_0x176c71,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Mf,'EVENT_TRAC'+'KED','tracked'),c(Mf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x4308c6){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(0x2a*0x15+0x14de+0x379*-0x7)),c(this,'_images',[]),(this['_manager']=_0x4308c6,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x4d9408,_0x19fae5){if(!this['_supported']||this['_manager']['active'])return null;const _0x2d6fb8=new Mf(_0x4d9408,_0x19fae5);return this['_images']['push'](_0x2d6fb8),_0x2d6fb8;}['remove'](_0x38e9ea){if(this['_manager']['active'])return;const _0x36eb71=this['_images']['indexOf'](_0x38e9ea);_0x36eb71!==-(-0x6*-0x18+0x128c+-0x131b)&&(_0x38e9ea['destroy'](),this['_images']['splice'](_0x36eb71,0x1*-0x103f+-0x1c77+0x2cb7));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x1587f3=>{this['_available']=!(-0x1a66+0x1fd6+-0x570);for(let _0x32189b=0x1612+0x18f*-0x11+0x46d;_0x32189b<_0x1587f3['length'];_0x32189b++)this['_images'][_0x32189b]['_trackable']=_0x1587f3[_0x32189b]==='trackable';})['catch'](_0x527c59=>{this['_available']=!(-0x3aa+-0x2613+0x29be),this['fire']('error',_0x527c59);});}['_onSession'+'End'](){this['_available']=!(0x18d*-0x17+-0xb*-0xed+0x197d);for(let _0x3b25cf=0x8c7*-0x1+0x624+0x2a3;_0x3b25cf<this['_images']['length'];_0x3b25cf++){const _0x5761b0=this['_images'][_0x3b25cf];_0x5761b0['_pose']=null,_0x5761b0['_measuredW'+'idth']=-0x1659*0x1+-0x97b*0x3+0x32ca,_0x5761b0['_tracking']&&(_0x5761b0['_tracking']=!(0x1*-0x1182+-0x141*-0x13+-0x650),_0x5761b0['fire']('untracked'));}}['prepareIma'+'ges'](_0x36a38d){this['_images']['length']?Promise['all'](this['_images']['map'](_0x514053=>_0x514053['prepare']()))['then'](_0x598ec2=>{_0x36a38d(null,_0x598ec2);})['catch'](_0xe4b7f1=>{_0x36a38d(_0xe4b7f1,null);}):_0x36a38d(null,null);}['update'](_0x384278){if(!this['_available'])return;const _0x305ba7=_0x384278['getImageTr'+'ackingResu'+'lts'](),_0xecd1c8={};for(let _0x5d60fa=0x15f+-0xe73+0xd14;_0x5d60fa<_0x305ba7['length'];_0x5d60fa++){_0xecd1c8[_0x305ba7[_0x5d60fa]['index']]=_0x305ba7[_0x5d60fa];const _0x17d508=this['_images'][_0x305ba7[_0x5d60fa]['index']];_0x17d508['_emulated']=_0x305ba7[_0x5d60fa]['trackingSt'+'ate']==='emulated',_0x17d508['_measuredW'+'idth']=_0x305ba7[_0x5d60fa]['measuredWi'+'dthInMeter'+'s'],_0x17d508['_pose']=_0x384278['getPose'](_0x305ba7[_0x5d60fa]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x18c2d9=-0x1*-0x10bb+0x13ae+-0x2469;_0x18c2d9<this['_images']['length'];_0x18c2d9++)this['_images'][_0x18c2d9]['_tracking']&&!_0xecd1c8[_0x18c2d9]?(this['_images'][_0x18c2d9]['_tracking']=!(-0x9c*0x2f+0x1ef8+-0x253),this['_images'][_0x18c2d9]['fire']('untracked')):!this['_images'][_0x18c2d9]['_tracking']&&_0xecd1c8[_0x18c2d9]&&(this['_images'][_0x18c2d9]['_tracking']=!(0x1*0xdf+-0x101b+0xf3c),this['_images'][_0x18c2d9]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class ZL{constructor(_0x48e938,_0x597528){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x48e938,this['_hand']=_0x597528,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=0x11*0xe3+0x78*-0x32+0x1*0x85d;l<jg['length'];l++)Gx[jg[l]]=!(0x3cc+0x99b*0x2+-0x1702);class Yg{constructor(_0x5694c8,_0x435694,_0x132807,_0x10ff4b=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new te()),c(this,'_position',new T()),c(this,'_rotation',new te()),c(this,'_dirtyLoca'+'l',!(0x1*-0x2449+-0x71*0x57+0x4ab0)),(this['_index']=_0x5694c8,this['_id']=_0x435694,this['_hand']=_0x132807,this['_finger']=_0x10ff4b,this['_wrist']=_0x435694==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x435694]);}['update'](_0x163bdf){this['_dirtyLoca'+'l']=!(0x5*0x775+-0x13c*-0x16+-0x4071),this['_radius']=_0x163bdf['radius'],this['_localPosi'+'tion']['copy'](_0x163bdf['transform']['position']),this['_localRota'+'tion']['copy'](_0x163bdf['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0xa*0x123+-0x3f4+-0x7*0x10f),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x406198=this['_hand']['_manager']['camera']['parent'];_0x406198?this['_worldTran'+'sform']['mul2'](_0x406198['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x445*-0x2+-0x1*0x152e+0xca4+0.005;}}let vh=[];const Ir=new T(),nh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(vh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Pf extends ce{constructor(_0x5ca207){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(-0x1*-0x90d+0x22d*0xb+0x20fb*-0x1)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x44226e=_0x5ca207['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x5ca207['_manager'],this['_inputSour'+'ce']=_0x5ca207,_0x44226e['get']('wrist')){const _0x357337=new Yg(-0x1*0xa86+0x193c+-0xeb6,'wrist',this,null);this['_wrist']=_0x357337,this['_joints']['push'](_0x357337),this['_jointsByI'+'d']['wrist']=_0x357337;}for(let _0x127f10=0x5*-0x265+-0x1343*0x2+-0x8b*-0x5d;_0x127f10<vh['length'];_0x127f10++){const _0x4260b7=new ZL(_0x127f10,this);for(let _0x569aa1=0x1552+0x72b*0x1+0xd*-0x231;_0x569aa1<vh[_0x127f10]['length'];_0x569aa1++){const _0x1041d8=vh[_0x127f10][_0x569aa1];if(!_0x44226e['get'](_0x1041d8))continue;const _0x5e0b7e=new Yg(_0x569aa1,_0x1041d8,this,_0x4260b7);this['_joints']['push'](_0x5e0b7e),this['_jointsByI'+'d'][_0x1041d8]=_0x5e0b7e,_0x5e0b7e['tip']&&(this['_tips']['push'](_0x5e0b7e),_0x4260b7['_tip']=_0x5e0b7e),_0x4260b7['_joints']['push'](_0x5e0b7e);}}}['update'](_0x27d558){const _0x4a4706=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0xac7c6e=0x19+0x503*0x7+-0x39*0x9e;_0xac7c6e<this['_joints']['length'];_0xac7c6e++){const _0x28b309=this['_joints'][_0xac7c6e],_0x572e05=_0x4a4706['hand']['get'](_0x28b309['_id']);if(_0x572e05){let _0x59a420;if(_0x27d558['session']['visibility'+'State']!=='hidden'&&(_0x59a420=_0x27d558['getJointPo'+'se'](_0x572e05,this['_manager']['_reference'+'Space'])),_0x59a420)_0x28b309['update'](_0x59a420),_0x28b309['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x7cc+-0x2a*0x4e+0x500),this['fire']('tracking'));else{if(_0x28b309['wrist']){this['_tracking']&&(this['_tracking']=!(0x43*-0x90+-0x11ec+0x1*0x379d),this['fire']('trackinglo'+'st'));break;}}}}const _0x19df1a=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x46c0a9=this['_jointsByI'+'d']['thumb-tip'],_0x2bbf65=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x434a83=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0xf9ad82=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x12128b=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x19df1a&&_0x46c0a9&&_0x2bbf65&&_0x434a83&&_0xf9ad82&&_0x12128b){this['_inputSour'+'ce']['_dirtyRay']=!(-0x15cd*-0x1+0x1360+-0x7f*0x53),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x46c0a9['_localPosi'+'tion'],_0x434a83['_localPosi'+'tion'],-0x1*0xc95+-0x1bd9+0x286e+0.5);let _0x43f84a=_0x19df1a,_0x39b6b6=_0x12128b;if(this['_inputSour'+'ce']['handedness']===jL){const _0x20df18=_0x43f84a;_0x43f84a=_0x39b6b6,_0x39b6b6=_0x20df18;}Ir['sub2'](_0x43f84a['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),nh['sub2'](_0x39b6b6['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,nh)['normalize'](),Ir['lerp'](_0x2bbf65['_localPosi'+'tion'],_0xf9ad82['_localPosi'+'tion'],0xdfa+0xd8d*0x2+-0x2914+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,-0xfdb+0x1dd3*0x1+-0xdf8+0.5)['normalize']();}this['_fingerIsC'+'losed'](0x109a+-0x9*0x386+-0xf1d*-0x1)&&this['_fingerIsC'+'losed'](-0x1684+-0x1*0x2466+0x3aec)&&this['_fingerIsC'+'losed'](-0x1d44*-0x1+0x1*-0x427+-0x191a)&&this['_fingerIsC'+'losed'](0x260e+-0xfc8+-0x1642)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x23e5*-0x1+-0x1580+0x2e1*-0x5),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x1*-0x11e3+0x1215+-0x23f7),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x39bdae){const _0x4ef972=this['_fingers'][_0x39bdae];return Ir['sub2'](_0x4ef972['joints'][0x284*0x7+0x8e9+0x49*-0x5d]['_localPosi'+'tion'],_0x4ef972['joints'][-0x1a44+0x16dc+-0x61*-0x9]['_localPosi'+'tion'])['normalize'](),nh['sub2'](_0x4ef972['joints'][-0xb5*-0xb+-0x1*-0x713+-0xed8]['_localPosi'+'tion'],_0x4ef972['joints'][-0x1766+0x2*0x382+0x1065]['_localPosi'+'tion'])['normalize'](),Ir['dot'](nh)<-(-0x9e5+0x7fd+0x4*0x7a+0.8);}['getJointBy'+'Id'](_0x170c4c){return this['_jointsByI'+'d'][_0x170c4c]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Pf,'EVENT_TRAC'+'KING','tracking'),c(Pf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new te();let QL=0xc*-0x33c+0x1*-0x2599+-0x1f*-0x277;class vs extends ce{constructor(_0x55a1c0,_0xc3c011){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new fu()),c(this,'_rayLocal',new fu()),c(this,'_grip',!(-0x8a5*-0x2+-0x8db*0x2+0x6d)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0x246c+0x1*-0x905+0x2d72)),c(this,'_velocitie'+'sTimestamp',re()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new te()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x1e19+-0x1c07+-0x212)),c(this,'_dirtyRay',!(-0x5*-0x18a+0x23e4+0x3*-0xe87)),c(this,'_selecting',!(0x25c9*0x1+-0x1186+-0x1442*0x1)),c(this,'_squeezing',!(-0x7*0x34b+0x1f57*-0x1+0x3665)),c(this,'_elementIn'+'put',!(-0x909+0x1*0x2426+-0x1b1d*0x1)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++QL,this['_manager']=_0x55a1c0,this['_xrInputSo'+'urce']=_0xc3c011,_0xc3c011['hand']&&(this['_hand']=new Pf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x234390){this['_elementIn'+'put']!==_0x234390&&(this['_elementIn'+'put']=_0x234390,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x2bea15){if(this['_hand'])this['_hand']['update'](_0x2bea15);else{const _0x178f0c=this['_xrInputSo'+'urce']['gripSpace'];if(_0x178f0c){const _0x5b3e01=_0x2bea15['getPose'](_0x178f0c,this['_manager']['_reference'+'Space']);if(_0x5b3e01){this['_grip']||(this['_grip']=!(-0x1bec*-0x1+-0x9f*0x3a+-0x1*-0x81a),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new te(),this['_linearVel'+'ocity']=new T());const _0x55292f=re(),_0x3948ce=(_0x55292f-this['_velocitie'+'sTimestamp'])/(0x1f*0xad+0x3fe+-0x1509);this['_velocitie'+'sTimestamp']=_0x55292f,this['_dirtyLoca'+'l']=!(0x178e+-0x1afa+0x1*0x36c),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x5b3e01['transform']['position']),this['_localRota'+'tion']['copy'](_0x5b3e01['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x136*-0x13+0x1c41+-0x53f),this['_manager']['input']['velocities'+'Supported']&&_0x5b3e01['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x5b3e01['linearVelo'+'city']):_0x3948ce>-0x7a3+-0x23ce+-0xb*-0x3f3&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x3948ce),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,-0x122c+-0xf0d+0x2139+0.15));}else this['_velocitie'+'sAvailable']=!(0x213a*-0x1+-0x11c9+0x14*0x28d);}const _0x147415=_0x2bea15['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x147415&&(this['_dirtyRay']=!(-0x14d7+0x2ba*0x1+-0x121d*-0x1),this['_rayLocal']['origin']['copy'](_0x147415['transform']['position']),this['_rayLocal']['direction']['set'](0x1f75+-0xb7b+-0x13fa,-0x1*-0x2586+0xd9*-0x11+-0x171d,-(-0xfad+-0x283+0x1231)),Qg['copy'](_0x147415['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x484*0x1+0x1a0f+-0x1e92),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x2a0be5=this['_manager']['camera']['parent'];_0x2a0be5?this['_worldTran'+'sform']['mul2'](_0x2a0be5['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x1d32ea=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x1b59+-0x2437+0x3f91*0x1),this['_manager']['camera']['parent']){const _0x381921=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x381921['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x381921),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x1d32ea&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x4b481f={}){_0x4b481f['inputSourc'+'e']=this,_0x4b481f['profile']=this['_xrInputSo'+'urce']['profiles'][-0x22fd+0x1d*-0x101+0x401a];const _0x356a69=_0x4b481f['callback'];_0x4b481f['callback']=(_0x160d47,_0x27e9af)=>{_0x27e9af&&this['onHitTestS'+'ourceAdd'](_0x27e9af),_0x356a69&&_0x356a69(_0x160d47,_0x27e9af);},this['_manager']['hitTest']['start'](_0x4b481f);}['onHitTestS'+'ourceAdd'](_0x3019a2){this['_hitTestSo'+'urces']['push'](_0x3019a2),this['fire']('hittest:ad'+'d',_0x3019a2),_0x3019a2['on']('result',(_0x2f33ab,_0x1bff1f,_0x1d1dbf,_0x28212b)=>{_0x1d1dbf===this&&this['fire']('hittest:re'+'sult',_0x3019a2,_0x2f33ab,_0x1bff1f,_0x28212b);}),_0x3019a2['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x3019a2),this['fire']('hittest:re'+'move',_0x3019a2);});}['onHitTestS'+'ourceRemov'+'e'](_0x3ce4e4){const _0x3e93ce=this['_hitTestSo'+'urces']['indexOf'](_0x3ce4e4);_0x3e93ce!==-(-0x2fc+0x2*-0x12a1+0x283f)&&this['_hitTestSo'+'urces']['splice'](_0x3e93ce,-0x1*0x9ae+-0x10c*-0x17+0x37*-0x43);}}c(vs,'EVENT_REMO'+'VE','remove'),c(vs,'EVENT_SELE'+'CT','select'),c(vs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(vs,'EVENT_SELE'+'CTEND','selectend'),c(vs,'EVENT_SQUE'+'EZE','squeeze'),c(vs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(vs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(vs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(vs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(vs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class pi extends ce{constructor(_0x279e53){var _0x5e84cb,_0x138e67;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(-0x1c1a+-0x211*-0x7+0x1*0xda4)),(this['manager']=_0x279e53,this['velocities'+'Supported']=!!(ye['browser']&&((_0x138e67=(_0x5e84cb=window['XRPose'])==null?void(0x6de+-0x1d6b+0x168d):_0x5e84cb['prototype'])!=null&&_0x138e67['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x5c77bf=>{this['_onInputSo'+'urcesChang'+'e'](_0x5c77bf);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x295ef7=this['manager']['session'];_0x295ef7['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x295ef7['addEventLi'+'stener']('select',_0xd627b5=>{const _0x2a0ca7=this['_getByInpu'+'tSource'](_0xd627b5['inputSourc'+'e']);_0x2a0ca7['update'](_0xd627b5['frame']),_0x2a0ca7['fire']('select',_0xd627b5),this['fire']('select',_0x2a0ca7,_0xd627b5);}),_0x295ef7['addEventLi'+'stener']('selectstar'+'t',_0x29ef67=>{const _0x39a492=this['_getByInpu'+'tSource'](_0x29ef67['inputSourc'+'e']);_0x39a492['_selecting']||(_0x39a492['update'](_0x29ef67['frame']),_0x39a492['_selecting']=!(0x506+0x1b83+0x1*-0x2089),_0x39a492['fire']('selectstar'+'t',_0x29ef67),this['fire']('selectstar'+'t',_0x39a492,_0x29ef67));}),_0x295ef7['addEventLi'+'stener']('selectend',_0xf0a3df=>{const _0x39c580=this['_getByInpu'+'tSource'](_0xf0a3df['inputSourc'+'e']);_0x39c580['update'](_0xf0a3df['frame']),_0x39c580['_selecting']=!(-0x655*0x1+-0x22b*0x1+-0x881*-0x1),_0x39c580['fire']('selectend',_0xf0a3df),this['fire']('selectend',_0x39c580,_0xf0a3df);}),_0x295ef7['addEventLi'+'stener']('squeeze',_0x51b36a=>{const _0x2a822e=this['_getByInpu'+'tSource'](_0x51b36a['inputSourc'+'e']);_0x2a822e['update'](_0x51b36a['frame']),_0x2a822e['fire']('squeeze',_0x51b36a),this['fire']('squeeze',_0x2a822e,_0x51b36a);}),_0x295ef7['addEventLi'+'stener']('squeezesta'+'rt',_0x355cb9=>{const _0x4319cd=this['_getByInpu'+'tSource'](_0x355cb9['inputSourc'+'e']);_0x4319cd['update'](_0x355cb9['frame']),_0x4319cd['_squeezing']=!(-0x196+-0x1*0x20b+0x1*0x3a1),_0x4319cd['fire']('squeezesta'+'rt',_0x355cb9),this['fire']('squeezesta'+'rt',_0x4319cd,_0x355cb9);}),_0x295ef7['addEventLi'+'stener']('squeezeend',_0x2ef3cf=>{const _0x509924=this['_getByInpu'+'tSource'](_0x2ef3cf['inputSourc'+'e']);_0x509924['update'](_0x2ef3cf['frame']),_0x509924['_squeezing']=!(0x1d53*0x1+-0x1*0x36f+-0x19e3),_0x509924['fire']('squeezeend',_0x2ef3cf),this['fire']('squeezeend',_0x509924,_0x2ef3cf);});const _0x442a5b=_0x295ef7['inputSourc'+'es'];for(let _0x9023b1=-0xea2*0x1+0xbe6*-0x1+0x6*0x46c;_0x9023b1<_0x442a5b['length'];_0x9023b1++)this['_addInputS'+'ource'](_0x442a5b[_0x9023b1]);}['_onSession'+'End'](){let _0x2b167d=this['_inputSour'+'ces']['length'];for(;_0x2b167d--;){const _0x455c2f=this['_inputSour'+'ces'][_0x2b167d];this['_inputSour'+'ces']['splice'](_0x2b167d,-0x2e8+-0xcbf+0xfa8),_0x455c2f['fire']('remove'),this['fire']('remove',_0x455c2f);}this['fire']('destroy'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x4f3cea){for(let _0x7e2044=0x1be*0x10+0x7a6*0x1+0x1*-0x2386;_0x7e2044<_0x4f3cea['removed']['length'];_0x7e2044++)this['_removeInp'+'utSource'](_0x4f3cea['removed'][_0x7e2044]);for(let _0x41a413=0xaa8+0x1c63+-0x5*0x7cf;_0x41a413<_0x4f3cea['added']['length'];_0x41a413++)this['_addInputS'+'ource'](_0x4f3cea['added'][_0x41a413]);}['_getByInpu'+'tSource'](_0x4ab111){for(let _0x23bf21=-0x6a3*-0x1+0xb53*0x2+-0x1d49;_0x23bf21<this['_inputSour'+'ces']['length'];_0x23bf21++)if(this['_inputSour'+'ces'][_0x23bf21]['inputSourc'+'e']===_0x4ab111)return this['_inputSour'+'ces'][_0x23bf21];return null;}['_removeApp'+'Entity'](_0x1a41ca){const _0x37cff5=this['manager']['app']['root']['findByName']('Armature_'+_0x1a41ca);_0x37cff5&&this['manager']['app']['root']['removeChil'+'d'](_0x37cff5);}['_addInputS'+'ource'](_0x375976){if(this['_removeApp'+'Entity'](_0x375976['handedness']),this['_getByInpu'+'tSource'](_0x375976))return;const _0xc7e95b=new vs(this['manager'],_0x375976);this['_inputSour'+'ces']['push'](_0xc7e95b),this['fire']('add',_0xc7e95b);}['_removeInp'+'utSource'](_0x9b19a4){for(let _0xe20b55=-0x1126+-0x46f+0x1595;_0xe20b55<this['_inputSour'+'ces']['length'];_0xe20b55++){if(this['_inputSour'+'ces'][_0xe20b55]['inputSourc'+'e']!==_0x9b19a4)continue;const _0x2e0291=this['_inputSour'+'ces'][_0xe20b55];this['_inputSour'+'ces']['splice'](_0xe20b55,-0x24d+-0x24ac+0x3*0xcfe);let _0x444cb2=_0x2e0291['hitTestSou'+'rces']['length'];for(;_0x444cb2--;)_0x2e0291['hitTestSou'+'rces'][_0x444cb2]['remove']();this['_removeApp'+'Entity'](_0x2e0291['handedness']),_0x2e0291['fire']('remove'),this['fire']('remove',_0x2e0291);return;}}['update'](_0x4f0140){for(let _0x3e7849=-0x9*0x15f+-0x8c5*0x1+-0x304*-0x7;_0x3e7849<this['_inputSour'+'ces']['length'];_0x3e7849++)this['_inputSour'+'ces'][_0x3e7849]['update'](_0x4f0140);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(pi,'EVENT_ADD','add'),c(pi,'EVENT_REMO'+'VE','remove'),c(pi,'EVENT_SELE'+'CT','select'),c(pi,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(pi,'EVENT_SELE'+'CTEND','selectend'),c(pi,'EVENT_SQUE'+'EZE','squeeze'),c(pi,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(pi,'EVENT_SQUE'+'EZEEND','squeezeend');const jn=new T(),Jg=new T(),nu=new q(),ey=new q();class Rf extends ce{constructor(_0x3e27aa){super(),c(this,'_manager'),c(this,'_supported',!(0x35*-0x1d+-0x6f2+0x33d*0x4)),c(this,'_available',!(-0x23a9+0x4*-0x7a3+0x235*0x1e)),c(this,'_lightProb'+'eRequested',!(0x3*-0x5a7+0x100f*0x1+-0x21*-0x7)),c(this,'_lightProb'+'e',null),c(this,'_intensity',-0x114c+-0x25ce+0x371a),c(this,'_rotation',new te()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(-0x2c*0x4e+-0x912+0x1695)),(this['_manager']=_0x3e27aa,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0x14cd+0xac*-0x9+-0xec1));}['_onSession'+'End'](){this['_supported']=!(0x1*0x132d+-0xbd8+-0x1*0x754),this['_available']=!(0x1e17+-0x8b1*0x2+0x6*-0x21e),this['_lightProb'+'eRequested']=!(-0x244d+-0xaff+0x1*0x2f4d),this['_lightProb'+'e']=null;}['start'](){let _0x4e7af5;if(this['_manager']['session']||(_0x4e7af5=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x4e7af5&&this['_manager']['type']!==Ao&&(_0x4e7af5=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x4e7af5&&!this['_supported']&&(_0x4e7af5=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x4e7af5&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x4e7af5=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x4e7af5){this['fire']('error',_0x4e7af5);return;}this['_lightProb'+'eRequested']=!(0x122*-0x15+-0x1f6d*0x1+0x3737),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x2aaaba=>{const _0x573ad2=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x1d2a+0x1dd9+0x3*-0x3a),this['_manager']['active']?_0x573ad2&&(this['_lightProb'+'e']=_0x2aaaba):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x2f96ab=>{this['_lightProb'+'eRequested']=!(0x8e9*0x2+0x23ab+-0x357c),this['fire']('error',_0x2f96ab);});}['end'](){this['_lightProb'+'eRequested']=!(-0xa82+0x19ca+-0x1*0xf47),this['_lightProb'+'e']=null,this['_available']=!(-0x2276+-0x6ad*0x2+0x2fd1*0x1);}['update'](_0x27bb42){if(!this['_lightProb'+'e'])return;const _0x57befd=_0x27bb42['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x57befd)return;this['_available']||(this['_available']=!(0x112*-0xb+0x10f*0x11+-0x3b*0x1b),this['fire']('available'));const _0x4dfe69=_0x57befd['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x97a+0x8b6+0x5f*-0x31,Math['max'](_0x4dfe69['x'],Math['max'](_0x4dfe69['y'],_0x4dfe69['z']))),jn['copy'](_0x4dfe69)['mulScalar']((-0xa56+-0x1c71+0x248*0x11)/this['_intensity']),this['_color']['set'](jn['x'],jn['y'],jn['z']),jn['set'](-0x851*0x4+0x62*0x3e+-0x28*-0x3d,0x1dde+-0x1*-0x14e5+-0x32c3,-0x7c3*-0x1+0x13da*0x1+-0x1b9d),Jg['copy'](_0x57befd['primaryLig'+'htDirectio'+'n']),nu['setLookAt'](Jg,jn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0x9cd+0x12c4+-0x1f*0xe9),nu['mul'](ey),this['_rotation']['setFromMat'+'4'](nu),this['_spherical'+'Harmonics']['set'](_0x57befd['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Rf,'EVENT_AVAI'+'LABLE','available'),c(Rf,'EVENT_ERRO'+'R','error');let JL=-0x12c1*-0x1+-0x13c*-0x13+-0x5*0x871;class If extends ce{constructor(_0x59af73,_0xbf61bb){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new te()),(this['_id']=++JL,this['_planeDete'+'ction']=_0x59af73,this['_xrPlane']=_0xbf61bb,this['_lastChang'+'edTime']=_0xbf61bb['lastChange'+'dTime'],this['_orientati'+'on']=_0xbf61bb['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x6d80f9){const _0xb4d19=this['_planeDete'+'ction']['_manager'],_0x2c13dc=_0x6d80f9['getPose'](this['_xrPlane']['planeSpace'],_0xb4d19['_reference'+'Space']);_0x2c13dc&&(this['_position']['copy'](_0x2c13dc['transform']['position']),this['_rotation']['copy'](_0x2c13dc['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x39706c){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(0x41*-0x93+0x1ec9*0x1+0x68b)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x39706c,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x94f+-0x3b6*-0x9+0xc0b*-0x2)&&(this['_available']=!(-0x4fd*0x3+0x2*-0x63+0xfbd),this['fire']('available'));}['_onSession'+'End'](){for(let _0x137f52=0x24ff+0x1*0x1515+0x15*-0x2c4;_0x137f52<this['_planes']['length'];_0x137f52++)this['_planes'][_0x137f52]['destroy'](),this['fire']('remove',this['_planes'][_0x137f52]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x1*0x142b+-0x1*-0x1c04+-0x29*0x31,this['_available']&&(this['_available']=!(-0x21a*0x6+0x11*-0x11+0xdbe),this['fire']('unavailabl'+'e'));}['update'](_0x420550){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x420550['detectedPl'+'anes']['size'])this['_available']=!(-0xbbe*0x2+-0x111a+0x2896*0x1),this['fire']('available');else return;}const _0x210aa=_0x420550['detectedPl'+'anes'];for(const [_0x225c87,_0x8c9e1c]of this['_planesInd'+'ex'])_0x210aa['has'](_0x225c87)||(this['_planesInd'+'ex']['delete'](_0x225c87),this['_planes']['splice'](this['_planes']['indexOf'](_0x8c9e1c),-0x4*0x18a+0x25fa*-0x1+0x2c23),_0x8c9e1c['destroy'](),this['fire']('remove',_0x8c9e1c));for(const _0x5aa4c4 of _0x210aa){let _0x55bb11=this['_planesInd'+'ex']['get'](_0x5aa4c4);_0x55bb11?_0x55bb11['update'](_0x420550):(_0x55bb11=new If(this,_0x5aa4c4),this['_planesInd'+'ex']['set'](_0x5aa4c4,_0x55bb11),this['_planes']['push'](_0x55bb11),_0x55bb11['update'](_0x420550),this['fire']('add',_0x55bb11));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0xf66c07,_0x48d0c1,_0x108f28=null){super(),c(this,'_position',new T()),c(this,'_rotation',new te()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0xf66c07,this['_xrAnchor']=_0x48d0c1,this['_uuid']=_0x108f28);}['destroy'](){if(!this['_xrAnchor'])return;const _0x1ca4d2=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x1ca4d2,this);}['update'](_0x47dfe5){if(!this['_xrAnchor'])return;const _0x4cdc65=_0x47dfe5['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x4cdc65){if(this['_position']['equals'](_0x4cdc65['transform']['position'])&&this['_rotation']['equals'](_0x4cdc65['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x4cdc65['transform']['position']),this['_rotation']['copy'](_0x4cdc65['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x4021c0){if(!this['_anchors']['persistenc'+'e']){_0x4021c0==null||_0x4021c0(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x4021c0==null||_0x4021c0(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x4021c0&&this['_uuidReque'+'sts']['push'](_0x4021c0);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x1965a2=>{this['_uuid']=_0x1965a2,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x4021c0==null||_0x4021c0(null,_0x1965a2);for(const _0x323a5d of this['_uuidReque'+'sts'])_0x323a5d(null,_0x1965a2);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x1965a2);})['catch'](_0x46aefc=>{_0x4021c0==null||_0x4021c0(_0x46aefc,null);for(const _0x2e6b8e of this['_uuidReque'+'sts'])_0x2e6b8e(_0x46aefc,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x5bbea1){if(!this['_uuid']){_0x5bbea1==null||_0x5bbea1(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x3b2aa8=>{this['_uuid']=null,_0x5bbea1==null||_0x5bbea1(_0x3b2aa8),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Qn extends ce{constructor(_0x24a2fa){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(-0x1494*0x1+-0x3d*-0xd+-0x117c*-0x1)),c(this,'_checkingA'+'vailabilit'+'y',!(0x417*-0x1+0x71*-0x23+0x138b)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0x23a7+-0xd*0x15d+-0x3d0*-0xe):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x24a2fa,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x4ddefd=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0x3*0x4f2+0x27b*-0x1+0x1152*0x1);_0x4ddefd&&(this['_available']=_0x4ddefd,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x2335+0x2*-0xa25+-0xeea);for(let _0x32f7cf=0xa*0x15a+-0x1*-0x186b+0xf9*-0x27;_0x32f7cf<this['_creationQ'+'ueue']['length'];_0x32f7cf++)this['_creationQ'+'ueue'][_0x32f7cf]['callback']&&this['_creationQ'+'ueue'][_0x32f7cf]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0xf92*-0x1+-0x10da+0x148,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x4ff6b7=this['_list']['length'];for(;_0x4ff6b7--;)this['_list'][_0x4ff6b7]['destroy']();this['_list']['length']=-0x1*-0x14f2+0xd*-0x292+0xc78,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x5e895f,_0x2dc5c1=null){const _0x519b21=new uo(this,_0x5e895f,_0x2dc5c1);return this['_index']['set'](_0x5e895f,_0x519b21),_0x2dc5c1&&this['_indexByUu'+'id']['set'](_0x2dc5c1,_0x519b21),this['_list']['push'](_0x519b21),_0x519b21['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x519b21;}['_onAnchorD'+'estroy'](_0x57f1cc,_0x4a1ac0){this['_index']['delete'](_0x57f1cc),_0x4a1ac0['uuid']&&this['_indexByUu'+'id']['delete'](_0x4a1ac0['uuid']);const _0x43505d=this['_list']['indexOf'](_0x4a1ac0);_0x43505d!==-(0x1d4e+-0xb*0x125+-0x85b*0x2)&&this['_list']['splice'](_0x43505d,0x1b70+0x139d+-0x2f0c),this['fire']('destroy',_0x4a1ac0);}['create'](_0x46e554,_0x48a4a5,_0x342f0b){if(!this['_available']){_0x342f0b==null||_0x342f0b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x46e554 instanceof XRHitTestResult){const _0x31c7ce=_0x46e554;if(_0x342f0b=_0x48a4a5,!this['_supported']){_0x342f0b==null||_0x342f0b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x31c7ce['createAnch'+'or']){_0x342f0b==null||_0x342f0b(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x31c7ce['createAnch'+'or']()['then'](_0x534fb3=>{const _0x4f29c1=this['_createAnc'+'hor'](_0x534fb3);_0x342f0b==null||_0x342f0b(null,_0x4f29c1),this['fire']('add',_0x4f29c1);})['catch'](_0x13175f=>{_0x342f0b==null||_0x342f0b(_0x13175f,null),this['fire']('error',_0x13175f);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x46e554,_0x48a4a5),'callback':_0x342f0b});}['restore'](_0x535162,_0x1fab63){if(!this['_available']){_0x1fab63==null||_0x1fab63(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x1fab63==null||_0x1fab63(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x1fab63==null||_0x1fab63(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x535162)['then'](_0x502489=>{const _0x1776ab=this['_createAnc'+'hor'](_0x502489,_0x535162);_0x1fab63==null||_0x1fab63(null,_0x1776ab),this['fire']('add',_0x1776ab);})['catch'](_0x5b6087=>{_0x1fab63==null||_0x1fab63(_0x5b6087,null),this['fire']('error',_0x5b6087);});}['forget'](_0x1edd8a,_0x1debee){if(!this['_available']){_0x1debee==null||_0x1debee(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x1debee==null||_0x1debee(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x1debee==null||_0x1debee(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x1edd8a)['then'](()=>{_0x1debee==null||_0x1debee(null);})['catch'](_0xf962bb=>{_0x1debee==null||_0x1debee(_0xf962bb),this['fire']('error',_0xf962bb);});}['update'](_0x174072){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x736+0x154*0x10+-0xe3b*0x2),_0x174072['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x39a875=>{_0x39a875['delete'](),this['manager']['active']&&(this['_available']=!(0x1*0x815+0x28c+-0xaa1),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x7d77a5=0x254f*0x1+-0x2*0xecf+-0x7b1;_0x7d77a5<this['_creationQ'+'ueue']['length'];_0x7d77a5++){const _0xa03feb=this['_creationQ'+'ueue'][_0x7d77a5];_0x174072['createAnch'+'or'](_0xa03feb['transform'],this['manager']['_reference'+'Space'])['then'](_0x29aa58=>{_0xa03feb['callback']&&this['_callbacks'+'Anchors']['set'](_0x29aa58,_0xa03feb['callback']);})['catch'](_0x5570ac=>{_0xa03feb['callback']&&_0xa03feb['callback'](_0x5570ac,null),this['fire']('error',_0x5570ac);});}this['_creationQ'+'ueue']['length']=0x2499+0x10dc+-0x73*0x77;}for(const [_0xd7cdad,_0x3b3bb6]of this['_index'])_0x174072['trackedAnc'+'hors']['has'](_0xd7cdad)||(this['_index']['delete'](_0xd7cdad),_0x3b3bb6['destroy']());for(let _0x485bbc=0x223*0x7+-0x67f*-0x1+0x55d*-0x4;_0x485bbc<this['_list']['length'];_0x485bbc++)this['_list'][_0x485bbc]['update'](_0x174072);for(const _0x13827e of _0x174072['trackedAnc'+'hors']){if(this['_index']['has'](_0x13827e))continue;try{const _0x10807f=_0x13827e['anchorSpac'+'e'];}catch{continue;}const _0x5847c4=this['_createAnc'+'hor'](_0x13827e);_0x5847c4['update'](_0x174072);const _0xabd5ee=this['_callbacks'+'Anchors']['get'](_0x13827e);_0xabd5ee&&(this['_callbacks'+'Anchors']['delete'](_0x13827e),_0xabd5ee(null,_0x5847c4)),this['fire']('add',_0x5847c4);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Qn,'EVENT_ERRO'+'R','error'),c(Qn,'EVENT_ADD','add'),c(Qn,'EVENT_DEST'+'ROY','destroy');class Df extends ce{constructor(_0x26b4fa,_0x22547c){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0xcfa+-0x184*-0x17+0x1d7*-0x1a),c(this,'_position',new T()),c(this,'_rotation',new te()),(this['_meshDetec'+'tion']=_0x26b4fa,this['_xrMesh']=_0x22547c,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x28789f){const _0x444280=this['_meshDetec'+'tion']['_manager'],_0x5dd48f=_0x28789f['getPose'](this['_xrMesh']['meshSpace'],_0x444280['_reference'+'Space']);_0x5dd48f&&(this['_position']['copy'](_0x5dd48f['transform']['position']),this['_rotation']['copy'](_0x5dd48f['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(Df,'EVENT_REMO'+'VE','remove'),c(Df,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x2e8852){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x185*-0x3+0x11a*-0x1d+0x6d9*0x4)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x2e8852,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x506881){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x506881['detectedMe'+'shes']['size'])this['_available']=!(-0xcb2+0x2aa*-0x4+0x175a),this['fire']('available');else return;}for(const _0x5c9f5a of _0x506881['detectedMe'+'shes']){let _0x3aa27d=this['_index']['get'](_0x5c9f5a);_0x3aa27d?_0x3aa27d['update'](_0x506881):(_0x3aa27d=new Df(this,_0x5c9f5a),this['_index']['set'](_0x5c9f5a,_0x3aa27d),this['_list']['push'](_0x3aa27d),_0x3aa27d['update'](_0x506881),this['fire']('add',_0x3aa27d));}for(const _0x2675d0 of this['_index']['values']())_0x506881['detectedMe'+'shes']['has'](_0x2675d0['xrMesh'])||this['_removeMes'+'h'](_0x2675d0);}['_removeMes'+'h'](_0x87b2e7){this['_index']['delete'](_0x87b2e7['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x87b2e7),0x7d9*-0x2+0x844+0x76f),_0x87b2e7['destroy'](),this['fire']('remove',_0x87b2e7);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x3c1c34=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0x9*0x265+0x2*0xa30+-0x1*0x29ec);if(!_0x3c1c34)return;this['_available']=_0x3c1c34,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x14e3*-0x1+0x4*0x3b9+-0x6*-0x100);for(const _0x2b810c of this['_index']['values']())this['_removeMes'+'h'](_0x2b810c);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x31f37d,_0x84defb,_0x5aa9a6){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(0x1e1f+0x1e76+-0x1e49*0x2)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(0x84e*-0x2+-0x1dc8+0x2e84*0x1)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x31f37d,this['_xrView']=_0x84defb);const _0x276202=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x276202,{'format':dr,'mipmaps':!(0x235*0x4+0x5*0x5bc+-0x257f),'addressU':ne,'addressV':ne,'minFilter':tt,'magFilter':tt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x25585b=this['_manager']['views']['depthGpuOp'+'timized']?de:tt;this['_textureDe'+'pth']=new he(_0x276202,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x5aa9a6===0x40b+0x1*-0x17d7+-0x13cd*-0x1?-0x1*-0x1423+-0xf03*0x2+-0x9e3*-0x1:_0x5aa9a6,'mipmaps':!(-0x2279+0xae8+0x1af*0xe),'addressU':ne,'addressV':ne,'minFilter':_0x25585b,'magFilter':_0x25585b,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0xc2bb24=0x691*0x2+0x22c3+0x1*-0x2fe5;_0xc2bb24<this['_textureDe'+'pth']['_levels']['length'];_0xc2bb24++)this['_textureDe'+'pth']['_levels'][_0xc2bb24]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x276202['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x3209a8;return((_0x3209a8=this['_depthInfo'])==null?void(-0x25*0x21+0xf21+-0xa5c):_0x3209a8['rawValueTo'+'Meters'])||-0xb3c*0x2+0x1edf+-0xef*0x9;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x24a32,_0x4e9179){this['_xrView']=_0x4e9179,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x14c439=_0x24a32['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x14c439['x'],this['_viewport']['y']=_0x14c439['y'],this['_viewport']['z']=_0x14c439['width'],this['_viewport']['w']=_0x14c439['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x24a32);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0xe9f194=this['_manager']['webglBindi'+'ng'];if(!_0xe9f194)return;const _0x11fa32=_0xe9f194['getCameraI'+'mage'](this['_xrCamera']);if(!_0x11fa32)return;const _0xd72c80=this['_manager']['app']['graphicsDe'+'vice'],_0x383ae3=_0xd72c80['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x383ae3['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x383ae3['createFram'+'ebuffer']();else{const _0xcf7658=_0x383ae3['COLOR_ATTA'+'CHMENT0'],_0x212e45=this['_xrCamera']['width'],_0x979088=this['_xrCamera']['height'];_0xd72c80['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x383ae3['framebuffe'+'rTexture2D'](_0x383ae3['FRAMEBUFFE'+'R'],_0xcf7658,_0x383ae3['TEXTURE_2D'],_0x11fa32,0x84*0x8+0x15b2+-0x19d2),_0xd72c80['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x383ae3['framebuffe'+'rTexture2D'](_0x383ae3['FRAMEBUFFE'+'R'],_0xcf7658,_0x383ae3['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x142+-0x2b*0xcb+-0x1af*-0x15),_0x383ae3['bindFrameb'+'uffer'](_0x383ae3['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x383ae3['bindFrameb'+'uffer'](_0x383ae3['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x383ae3['blitFrameb'+'uffer'](-0xdf3*0x2+0x1*-0x1049+0x2c2f*0x1,_0x979088,_0x212e45,0x4f2*0x1+0xa9f*-0x2+-0x826*-0x2,-0xabd*-0x3+0x15ea+-0x3621,-0x11a3+-0x2a5*0xd+0x3404,_0x212e45,_0x979088,_0x383ae3['COLOR_BUFF'+'ER_BIT'],_0x383ae3['NEAREST']);}}['_updateDep'+'th'](_0x27487d){var _0x2498db,_0x229c0f;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x5f25ee=this['_manager']['views']['depthGpuOp'+'timized'],_0x319100=_0x5f25ee?this['_manager']['webglBindi'+'ng']:_0x27487d;if(!_0x319100){this['_depthInfo']=null;return;}const _0x4f6edc=_0x319100['getDepthIn'+'formation'](this['_xrView']);if(!_0x4f6edc){this['_depthInfo']=null;return;}let _0x262421=!this['_depthInfo']!=!_0x4f6edc;this['_depthInfo']=_0x4f6edc;const _0x1674f1=((_0x2498db=this['_depthInfo'])==null?void(-0x1c6*0x13+0xa87+0x172b):_0x2498db['width'])||-0xf44+0x1bdd+-0xc95,_0x63d302=((_0x229c0f=this['_depthInfo'])==null?void(-0xd08+0x1ccf+-0xfc7):_0x229c0f['height'])||0x1*-0x111b+-0x19b6+0x2ad5;let _0x15bd7e=!(-0x43*0x83+0x1*0x20bf+-0x18b*-0x1);if((this['_textureDe'+'pth']['width']!==_0x1674f1||this['_textureDe'+'pth']['height']!==_0x63d302)&&(this['_textureDe'+'pth']['_width']=_0x1674f1,this['_textureDe'+'pth']['_height']=_0x63d302,_0x262421=!(-0x16ba+0x22bd+-0xc03),_0x15bd7e=!(0x1cf6+0x61b+-0x2311)),_0x262421&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x5f25ee){if(this['_depthInfo']['texture']){const _0x2668d4=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x2668d4['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x2668d4['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Li:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x2668d4['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x2668d4['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x2668d4['RED'];break;case Pi:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x2668d4['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x2668d4['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x2668d4['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0xc14*0x2+0x1388*-0x2+0x1*0xee8);}}else this['_textureDe'+'pth']['_levels'][0xdff*0x1+-0x51f+0x1*-0x8e0]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x1506+-0x375*-0x8+-0x30ae]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x15bd7e&&this['fire']('depth:resi'+'ze',_0x1674f1,_0x63d302);}['updateTran'+'sforms'](_0x5256ca){_0x5256ca?(this['_viewInvOf'+'fMat']['mul2'](_0x5256ca,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x1316*-0x2+0x2d5+0x2357]=this['_viewInvOf'+'fMat']['data'][0x10d*-0x6+-0x6*0x4e3+0x23ac],this['_positionD'+'ata'][0xf65+0x4*-0x994+-0x28c*-0x9]=this['_viewInvOf'+'fMat']['data'][-0x25fe+-0x156c+0x3b77],this['_positionD'+'ata'][-0x37d+0x1af4+-0x4b1*0x5]=this['_viewInvOf'+'fMat']['data'][0x202*-0x4+0x7d4+0x42];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x2f367b,_0x5af9fe){var _0x5f0b4a;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x5f0b4a=this['_depthInfo'])==null?void(-0x1375+0x1*0x351+-0x409*-0x4):_0x5f0b4a['getDepthIn'+'Meters'](_0x2f367b,_0x5af9fe))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x41fd78=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x41fd78['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x41fd78['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class rc extends ce{constructor(_0x3d96d9){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(0xea4*0x2+0x760+-0x24a7)),c(this,'_available'+'Depth',!(-0x158*0x10+-0x268*0xa+0x2d91*0x1)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Nf,[zx]:Pi,[Ux]:Li}),(this['_manager']=_0x3d96d9,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x24591f,_0x492647){for(let _0x5e6fbe=0x281*-0x9+0x18d*0xc+0x3ed;_0x5e6fbe<_0x492647['length'];_0x5e6fbe++)this['_indexTmp']['set'](_0x492647[_0x5e6fbe]['eye'],_0x492647[_0x5e6fbe]);for(const [_0xde84bf,_0x7f3ae7]of this['_indexTmp']){let _0x22963f=this['_index']['get'](_0xde84bf);_0x22963f?_0x22963f['update'](_0x24591f,_0x7f3ae7):(_0x22963f=new Hx(this['_manager'],_0x7f3ae7,_0x492647['length']),this['_index']['set'](_0xde84bf,_0x22963f),this['_list']['push'](_0x22963f),_0x22963f['update'](_0x24591f,_0x7f3ae7),this['fire']('add',_0x22963f));}for(const [_0x45847d,_0x25312a]of this['_index']){if(this['_indexTmp']['has'](_0x45847d))continue;_0x25312a['destroy'](),this['_index']['delete'](_0x45847d);const _0x348355=this['_list']['indexOf'](_0x25312a);_0x348355!==-(0x11d5+-0x1*0x2296+0x2*0x861)&&this['_list']['splice'](_0x348355,-0x1*-0x1c5e+-0x127b+-0x9e2),this['fire']('remove',_0x25312a);}this['_indexTmp']['clear']();}['get'](_0x1b3768){return this['_index']['get'](_0x1b3768)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x211f+0x171*-0x9+0x3*-0x6b7),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x1798+-0x19a8+0x17*0x17),this['_available'+'Depth'])){const _0x26c180=this['_manager']['session'];this['_depthUsag'+'e']=_0x26c180['depthUsage'],this['_depthForm'+'at']=_0x26c180['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x4cba7e of this['_index']['values']())_0x4cba7e['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x1b59*0x1+0x1*0x229b+-0x3df3),this['_available'+'Depth']=!(0x1dfd+-0x23e+-0x1bbe),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0xd7*-0x1+-0xa3d+-0x58a*-0x2;}}c(rc,'EVENT_ADD','add'),c(rc,'EVENT_REMO'+'VE','remove');class Jn extends ce{constructor(_0x7c52e0){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new te()),c(this,'_depthNear',-0xabe+-0x1*-0x141d+0x1*-0x95f+0.1),c(this,'_depthFar',-0x1e16+-0x9ff*0x3+0x1*0x3ffb),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0x11d5+0x1*0x19fd+-0x828),c(this,'_height',-0xcac+-0x1d*0xad+0x1*0x2045),c(this,'_framebuff'+'erScaleFac'+'tor',-0x11a5+-0xf*-0x5c+-0x6*-0x20b),(this['app']=_0x7c52e0,this['_available'][qL]=!(-0x2*-0x446+0x16eb+-0x1f76),this['_available'][XL]=!(0x1f89+-0xd91+-0x11f7),this['_available'][Ao]=!(0x43*-0x17+-0x4*-0x517+-0xe56),this['views']=new rc(this),this['domOverlay']=new KL(this),this['hitTest']=new Or(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new pi(this),this['lightEstim'+'ation']=new Rf(this),this['anchors']=new Qn(this),this['views']=new rc(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0xf2889f,_0x553f87,_0x2fff61,_0x401d7a){var _0x549555;let _0x2777f3=_0x401d7a;if(typeof _0x401d7a=='object'&&(_0x2777f3=_0x401d7a['callback']),!this['_available'][_0x553f87]){_0x2777f3&&_0x2777f3(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x2777f3&&_0x2777f3(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0xf2889f,this['_camera']['camera']['xr']=this,this['_type']=_0x553f87,this['_spaceType']=_0x2fff61,this['_framebuff'+'erScaleFac'+'tor']=(_0x401d7a==null?void(0x3*-0x39+-0x1037*0x2+0x2119):_0x401d7a['framebuffe'+'rScaleFact'+'or'])??-0x23a4+0x231d*-0x1+-0x1*-0x46c2,this['_setClipPl'+'anes'](_0xf2889f['nearClip'],_0xf2889f['farClip']);const _0xaba4a1={'requiredFeatures':[_0x2fff61],'optionalFeatures':[]},_0x13db4e=(_0x549555=this['app']['graphicsDe'+'vice'])==null?void(0xb3f*0x1+0x28c+-0xdcb):_0x549555['isWebGL2'];if(_0x553f87===Ao){if(_0xaba4a1['optionalFe'+'atures']['push']('light-esti'+'mation'),_0xaba4a1['optionalFe'+'atures']['push']('hit-test'),_0x401d7a&&(_0x401d7a['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0xaba4a1['optionalFe'+'atures']['push']('image-trac'+'king'),_0x401d7a['planeDetec'+'tion']&&_0xaba4a1['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x401d7a['meshDetect'+'ion']&&_0xaba4a1['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0xaba4a1['optionalFe'+'atures']['push']('dom-overla'+'y'),_0xaba4a1['domOverlay']={'root':this['domOverlay']['root']}),_0x401d7a&&_0x401d7a['anchors']&&this['anchors']['supported']&&_0xaba4a1['optionalFe'+'atures']['push']('anchors'),_0x401d7a&&_0x401d7a['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0xaba4a1['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x4121a7=[],_0x1b0401=[];if(_0x4121a7['push'](Bx,YL),_0x1b0401['push'](Ux,Nx,zx),_0x401d7a['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x52b270=_0x4121a7['indexOf'](_0x401d7a['depthSensi'+'ng']['usagePrefe'+'rence']);_0x52b270!==-(-0x26*-0x28+-0x5*0xd9+0x1*-0x1b2)&&_0x4121a7['splice'](_0x52b270,0x1a84*-0x1+0xf72+0xb13),_0x4121a7['unshift'](_0x401d7a['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x401d7a['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x70182e=_0x1b0401['indexOf'](_0x401d7a['depthSensi'+'ng']['dataFormat'+'Preference']);_0x70182e!==-(0x202d*0x1+-0x186c+-0x1f*0x40)&&_0x1b0401['splice'](_0x70182e,0x1*0x112f+0x177e*-0x1+0x4*0x194),_0x1b0401['unshift'](_0x401d7a['depthSensi'+'ng']['dataFormat'+'Preference']);}_0xaba4a1['depthSensi'+'ng']={'usagePreference':_0x4121a7,'dataFormatPreference':_0x1b0401};}_0x13db4e&&_0x401d7a&&_0x401d7a['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0xaba4a1['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0xaba4a1['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x401d7a&&_0x401d7a['optionalFe'+'atures']&&(_0xaba4a1['optionalFe'+'atures']=_0xaba4a1['optionalFe'+'atures']['concat'](_0x401d7a['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x3ab14e,_0x5f0717)=>{if(_0x3ab14e){_0x2777f3&&_0x2777f3(_0x3ab14e),this['fire']('error',_0x3ab14e);return;}_0x5f0717!==null&&(_0xaba4a1['trackedIma'+'ges']=_0x5f0717),this['_onStartOp'+'tionsReady'](_0x553f87,_0x2fff61,_0xaba4a1,_0x2777f3);}):this['_onStartOp'+'tionsReady'](_0x553f87,_0x2fff61,_0xaba4a1,_0x2777f3);}['_onStartOp'+'tionsReady'](_0x49924f,_0x294ab7,_0x5e71ad,_0x16fe95){navigator['xr']['requestSes'+'sion'](_0x49924f,_0x5e71ad)['then'](_0x1cd669=>{this['_onSession'+'Start'](_0x1cd669,_0x294ab7,_0x16fe95);})['catch'](_0x503347=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x16fe95&&_0x16fe95(_0x503347),this['fire']('error',_0x503347);});}['end'](_0x405dc1){if(!this['_session']){_0x405dc1&&_0x405dc1(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x405dc1&&this['once']('end',_0x405dc1),this['_session']['end']();}['isAvailabl'+'e'](_0x40b8bf){return this['_available'][_0x40b8bf];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x1e1ec4 in this['_available'])this['_sessionSu'+'pportCheck'](_0x1e1ec4);}['initiateRo'+'omCapture'](_0x52e431){if(!this['_session']){_0x52e431(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x52e431(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x52e431&&_0x52e431(null);})['catch'](_0x270506=>{_0x52e431&&_0x52e431(_0x270506);});}['updateTarg'+'etFrameRat'+'e'](_0x2c55ac,_0x56191c){var _0x563fc9;if(!((_0x563fc9=this['_session'])!=null&&_0x563fc9['updateTarg'+'etFrameRat'+'e'])){_0x56191c==null||_0x56191c(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x2c55ac)['then'](()=>{_0x56191c==null||_0x56191c();})['catch'](_0x83bab3=>{_0x56191c==null||_0x56191c(_0x83bab3);});}['_sessionSu'+'pportCheck'](_0x37dd92){navigator['xr']['isSessionS'+'upported'](_0x37dd92)['then'](_0x1acea1=>{this['_available'][_0x37dd92]!==_0x1acea1&&(this['_available'][_0x37dd92]=_0x1acea1,this['fire']('available',_0x37dd92,_0x1acea1),this['fire']('available:'+_0x37dd92,_0x1acea1));})['catch'](_0x3b1c02=>{this['fire']('error',_0x3b1c02);});}['_onSession'+'Start'](_0x2ea994,_0x2c7bf9,_0x3bc3fe){let _0x359af6=!(0x10b7+-0x9*0x6f+-0xccf);this['_session']=_0x2ea994;const _0x6c7aa5=()=>{this['fire']('visibility'+':change',_0x2ea994['visibility'+'State']);},_0x5f5412=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x51492a=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x5f5412),this['_camera']['off']('set_farCli'+'p',_0x5f5412),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x2ea994['removeEven'+'tListener']('end',_0x51492a),_0x2ea994['removeEven'+'tListener']('visibility'+'change',_0x6c7aa5),_0x359af6||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x192a+0xd*-0x175+-0x639,this['_height']=0x1*0x611+-0xce5*0x2+0x13b9,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x2ea994['addEventLi'+'stener']('end',_0x51492a),_0x2ea994['addEventLi'+'stener']('visibility'+'change',_0x6c7aa5),this['_camera']['on']('set_nearCl'+'ip',_0x5f5412),this['_camera']['on']('set_farCli'+'p',_0x5f5412),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0xe3378a;this['fire']('frameratec'+'hange',(_0xe3378a=this['_session'])==null?void(0x4d8+0xdb8+-0x1290):_0xe3378a['frameRate']);}),_0x2ea994['requestRef'+'erenceSpac'+'e'](_0x2c7bf9)['then'](_0x1c3ae7=>{this['_reference'+'Space']=_0x1c3ae7,this['app']['tick'](),_0x3bc3fe&&_0x3bc3fe(null),this['fire']('start');})['catch'](_0x12013c=>{_0x359af6=!(-0x611+-0x2*0xfc6+-0x1*-0x259d),_0x2ea994['end'](),_0x3bc3fe&&_0x3bc3fe(_0x12013c),this['fire']('error',_0x12013c);});}['_setClipPl'+'anes'](_0x38af96,_0x6b3121){this['_depthNear']===_0x38af96&&this['_depthFar']===_0x6b3121||(this['_depthNear']=_0x38af96,this['_depthFar']=_0x6b3121,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x106bab=this['app']['graphicsDe'+'vice'],_0x3fedd8=_0x106bab['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x106bab['gl'],{'alpha':!(-0x5*-0x3+0x9e8+-0x9f7),'depth':!(-0x47*0x57+0x5e*0x65+-0xcf5),'stencil':!(-0x77f*0x5+0xb1f+0x1a5c),'framebufferScaleFactor':_0x3fedd8,'antialias':!(-0x2005+0x1*-0xded+0x51b*0x9)}),_0x106bab!=null&&_0x106bab['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x106bab['gl']);}catch(_0x314922){this['fire']('error',_0x314922);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0xe53d86=>{this['fire']('error',_0xe53d86);});},0x1c98+-0x10*0xa3+0x8*-0x24d);}['update'](_0x332a24){if(!this['_session'])return!(0x17c4+-0x43*-0x6a+-0x3381);const _0x335193=_0x332a24['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x2a7b7=_0x332a24['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x335193||this['_height']!==_0x2a7b7)&&(this['_width']=_0x335193,this['_height']=_0x2a7b7,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x335193,_0x2a7b7));const _0x5c3796=_0x332a24['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x5c3796)return!(0x4cf+-0x1a93+0x15c5);const _0x32c151=this['views']['list']['length'];this['views']['update'](_0x332a24,_0x5c3796['views']);const _0x190579=_0x5c3796['transform']['position'],_0x108cb1=_0x5c3796['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x190579['x'],_0x190579['y'],_0x190579['z']),this['_localRota'+'tion']['set'](_0x108cb1['x'],_0x108cb1['y'],_0x108cb1['z'],_0x108cb1['w']),_0x32c151===0x170+-0xfd2+0xe62&&this['views']['list']['length']>0x1cc3+0x21d8+-0x3e9b){const _0x4bebf9=new q(),_0x4352f8=this['views']['list'][0x175a+-0x1*0x599+0x1*-0x11c1];_0x4bebf9['copy'](_0x4352f8['projMat']);const _0x1582f8=_0x4bebf9['data'],_0xc3b699=(-0x1bcd+0x2591+-0x9c2)*Math['atan']((0x1a4b*-0x1+-0x16fc+-0x629*-0x8)/_0x1582f8[-0x6b0+-0x54+0x709])*(0x1745+-0x1e07*-0x1+-0x3498)/Math['PI'],_0x301047=_0x1582f8[-0x12f1*-0x2+-0x3b3*0x6+-0xfab]/_0x1582f8[-0x53*-0x11+-0x1*-0xd91+0x42*-0x4a],_0x4b4e73=_0x1582f8[-0x6d8+0x601+0xe5]/(_0x1582f8[-0x1c81*-0x1+0x295+-0xf86*0x2]+(0x27*0xdf+0x153e+0xbf*-0x4a)),_0x350988=_0x1582f8[0x17e0+0xcba+-0x248c]/(_0x1582f8[-0x1d00+0x202+0x15a*0x14]-(-0x14f3*0x1+-0x2*-0x623+0x8ae));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x301047,'farClip':_0x4b4e73,'fov':_0xc3b699,'horizontalFov':!(0x491*-0x1+0xf6+0x39c),'nearClip':_0x350988});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x332a24),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x332a24),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x332a24),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x332a24),this['anchors']['supported']&&this['anchors']['update'](_0x332a24),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x332a24),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x332a24)),this['fire']('update',_0x332a24),!(-0x1b5c+0x3*-0x85d+-0x1d*-0x1cf);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x3c7c2e;return((_0x3c7c2e=this['_session'])==null?void(-0x2b1*-0x2+0x2162+-0x26c4):_0x3c7c2e['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x159868){var _0x30dd87;(((_0x30dd87=this['_baseLayer'])==null?void(-0x1496+-0x26ad+0x1*0x3b43):_0x30dd87['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x158f*0x1+-0xe4d+-0x741&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x159868);}get['fixedFovea'+'tion'](){var _0x1dff9a;return((_0x1dff9a=this['_baseLayer'])==null?void(0xeb*-0xd+-0x4a2*0x7+-0x1*-0x2c5d):_0x1dff9a['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Jn,'EVENT_AVAI'+'LABLE','available'),c(Jn,'EVENT_STAR'+'T','start'),c(Jn,'EVENT_END','end'),c(Jn,'EVENT_UPDA'+'TE','update'),c(Jn,'EVENT_ERRO'+'R','error');class _F extends Xh{constructor(_0x4b4816,_0x46291c={}){super(_0x4b4816);const _0x3aac9a=new pP();_0x3aac9a['graphicsDe'+'vice']=_0x46291c['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x4b4816,_0x46291c),this['addCompone'+'ntSystems'](_0x3aac9a),this['addResourc'+'eHandles'](_0x3aac9a),_0x3aac9a['elementInp'+'ut']=_0x46291c['elementInp'+'ut'],_0x3aac9a['keyboard']=_0x46291c['keyboard'],_0x3aac9a['mouse']=_0x46291c['mouse'],_0x3aac9a['touch']=_0x46291c['touch'],_0x3aac9a['gamepads']=_0x46291c['gamepads'],_0x3aac9a['scriptPref'+'ix']=_0x46291c['scriptPref'+'ix'],_0x3aac9a['assetPrefi'+'x']=_0x46291c['assetPrefi'+'x'],_0x3aac9a['scriptsOrd'+'er']=_0x46291c['scriptsOrd'+'er'],_0x3aac9a['soundManag'+'er']=new Ob(),_0x3aac9a['lightmappe'+'r']=vP,_0x3aac9a['batchManag'+'er']=dE,_0x3aac9a['xr']=Jn,this['init'](_0x3aac9a);}['createDevi'+'ce'](_0x1f5325,_0x251b20){return _0x251b20['graphicsDe'+'viceOption'+'s']||(_0x251b20['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x251b20['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x1*-0x1909+0x6*0xbc+-0x1d71)),_0x251b20['graphicsDe'+'viceOption'+'s']['alpha']=_0x251b20['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x65b*-0x6+-0x1349+0x12d8*-0x1),new pb(_0x1f5325,_0x251b20['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x196c52){_0x196c52['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x11803e){_0x11803e['resourceHa'+'ndlers']=[fD,_2,g2,y2,lL,iL,$L,yL,J2,S2,pL,hL,A2,Q2,T2,mL,Z2,C2,E2,v2,SL,_L,gL,w2,K2];}}const ah=[],eF=[[],[],[]];class tF extends fs{constructor(_0x5ca744,_0x3b18f0){super(_0x5ca744),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x3b18f0;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3bda14=>{_0x3bda14['defaultUni'+'formBuffer']['destroy'](),_0x3bda14['destroy']();}),this['viewBindGr'+'oups']['length']=-0x6*0x17b+-0x1774+0x2056;}['update'](_0x2a268b,_0x539d46,_0x10ffa9,_0x5bded8){this['camera']=_0x2a268b,this['scene']=_0x539d46,this['layers']=_0x10ffa9,this['mapping']=_0x5bded8;}['execute'](){const _0x27ca8c=this['device'],{renderer:_0x138c24,camera:_0x476674,scene:_0x140fa7,layers:_0x53ab55,mapping:_0x18174b,renderTarget:_0x44c5fe}=this,_0x3552da=_0x140fa7['layers']['layerList'],_0x3ac07a=_0x140fa7['layers']['subLayerEn'+'abled'],_0x2ceb10=_0x140fa7['layers']['subLayerLi'+'st'];for(let _0x3450b7=0x3*-0x4b2+0x1640+0x13*-0x6e;_0x3450b7<_0x3552da['length'];_0x3450b7++){const _0x10766a=_0x3552da[_0x3450b7];if(!(_0x53ab55&&_0x53ab55['indexOf'](_0x10766a)<0xc2e+0x4*-0x99b+0x1a3e)&&_0x10766a['enabled']&&_0x3ac07a[_0x3450b7]&&_0x10766a['camerasSet']['has'](_0x476674['camera'])){const _0x51ef03=_0x2ceb10[_0x3450b7];G['pushGpuMar'+'ker'](_0x27ca8c,_0x10766a['name']+'('+(_0x51ef03?'TRANSP':'OPAQUE')+')'),_0x10766a['_clearDept'+'hBuffer']&&_0x138c24['clear'](_0x476674['camera'],!(0x623+-0xd60+0x73e),!(-0x138a+-0x15a4+0x292e),!(0xac7+0xfcc+-0xd49*0x2));const _0x242358=_0x10766a['meshInstan'+'ces'];for(let _0xb8aa04=-0x1d87+0xa4e*0x3+-0x163;_0xb8aa04<_0x242358['length'];_0xb8aa04++){const _0x2fbb08=_0x242358[_0xb8aa04];_0x2fbb08['pick']&&_0x2fbb08['transparen'+'t']===_0x51ef03&&(ah['push'](_0x2fbb08),_0x18174b['set'](_0x2fbb08['id'],_0x2fbb08));}ah['length']>-0xb9d+-0x13*0x75+0x144c&&(_0x140fa7['clusteredL'+'ightingEna'+'bled']&&_0x138c24['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x138c24['setCameraU'+'niforms'](_0x476674['camera'],_0x44c5fe),_0x27ca8c['supportsUn'+'iformBuffe'+'rs']&&_0x138c24['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x138c24['viewUnifor'+'mFormat'],_0x138c24['viewBindGr'+'oupFormat'],0x1a0*-0x11+0x2b*-0x2+0x1bf7),_0x138c24['renderForw'+'ard'](_0x476674['camera'],_0x44c5fe,ah,eF,Oa,_0x3e0aeb=>{_0x27ca8c['setBlendSt'+'ate'](_t['NOBLEND']);}),ah['length']=-0x13ec+-0x2c7*-0x9+-0x513),G['popGpuMark'+'er'](_0x27ca8c);}}}}const au=new Set(),sF=new Q();let gF=class{constructor(_0x3044dd,_0x4cc0b9,_0x35ff00){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0xb40+-0xb86+0x16c6)),(v['assert'](_0x3044dd),this['renderer']=_0x3044dd['renderer'],this['device']=_0x3044dd['graphicsDe'+'vice'],this['renderPass']=new tF(this['device'],_0x3044dd['renderer']),this['width']=0x1cfd+0x9f2+-0x26ef*0x1,this['height']=-0x67*-0x14+0x1*-0x1fcb+0x17bf,this['resize'](_0x4cc0b9,_0x35ff00),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x8f+0x1331*0x1+-0x151*0xf);}));}['getSelecti'+'on'](_0x17f063,_0x28632e,_0x315191=0x168b+0x583*-0x3+-0x601,_0x4ff07b=-0x1624+-0x1*0x125f+-0x4*-0xa21){const _0x4dfca7=this['device'];if(_0x4dfca7['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x17f063!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x28632e=this['renderTarg'+'et']['height']-(_0x28632e+_0x4ff07b);const _0x55fdee=this['sanitizeRe'+'ct'](_0x17f063,_0x28632e,_0x315191,_0x4ff07b);_0x4dfca7['setRenderT'+'arget'](this['renderTarg'+'et']),_0x4dfca7['updateBegi'+'n']();const _0x5f86e5=new Uint8Array((-0x735+0x6e9*-0x5+0x29c6)*_0x55fdee['z']*_0x55fdee['w']);return _0x4dfca7['readPixels'](_0x55fdee['x'],_0x55fdee['y'],_0x55fdee['z'],_0x55fdee['w'],_0x5f86e5),_0x4dfca7['updateEnd'](),this['decodePixe'+'ls'](_0x5f86e5,this['mapping']);}['getSelecti'+'onAsync'](_0xd0efcb,_0x11dc4b,_0x3e91f8=-0xa60+0x1*0x163d+0x21*-0x5c,_0x454798=0x1705+-0xe4f+-0x8b5){var _0x24e270;(_0x24e270=this['device'])!=null&&_0x24e270['isWebGL2']&&(_0x11dc4b=this['renderTarg'+'et']['height']-(_0x11dc4b+_0x454798));const _0x33a163=this['sanitizeRe'+'ct'](_0xd0efcb,_0x11dc4b,_0x3e91f8,_0x454798);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x33a163['x'],_0x33a163['y'],_0x33a163['z'],_0x33a163['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x2399+0x2d1*-0x5+-0x31ae*-0x1)})['then'](_0x36a1d3=>this['decodePixe'+'ls'](_0x36a1d3,this['mapping']));}['sanitizeRe'+'ct'](_0xc5607f,_0x350da8,_0x2fd964,_0x3d9895){const _0x563282=this['renderTarg'+'et']['width'],_0x1084f9=this['renderTarg'+'et']['height'];return _0xc5607f=N['clamp'](Math['floor'](_0xc5607f),0x1f1+-0x543+0x352,_0x563282-(0x97e+0x26aa+-0x3027)),_0x350da8=N['clamp'](Math['floor'](_0x350da8),-0xf79+0x1486+-0x50d,_0x1084f9-(-0x18c4+0xbf4+0xcd1)),_0x2fd964=Math['floor'](Math['max'](_0x2fd964,0x23de+0xf0c+0x32e9*-0x1)),_0x2fd964=Math['min'](_0x2fd964,_0x563282-_0xc5607f),_0x3d9895=Math['floor'](Math['max'](_0x3d9895,0x102b+0x1017+-0x2041)),_0x3d9895=Math['min'](_0x3d9895,_0x1084f9-_0x350da8),sF['set'](_0xc5607f,_0x350da8,_0x2fd964,_0x3d9895);}['decodePixe'+'ls'](_0x2faf96,_0x5f572d){const _0x56b264=[];if(this['deviceVali'+'d']){const _0xc64655=_0x2faf96['length'];for(let _0x3d935c=-0x21a4+-0x12f+0x22d3;_0x3d935c<_0xc64655;_0x3d935c+=0x349*0xb+0x25b2+-0x49d1*0x1){const _0x565c51=_0x2faf96[_0x3d935c+(-0xbe5+0x3dc*0x2+0x42d)],_0x552064=_0x2faf96[_0x3d935c+(0x3*-0x312+-0x8*0x199+0x15ff)],_0x50843d=_0x2faf96[_0x3d935c+(0xd18+-0x1ab2+0xd9c)],_0x2da48e=_0x2faf96[_0x3d935c+(-0x1*0x61c+0x1f9*-0xa+0x19d9)]<<0xf9*-0x7+0x640+0xa7|_0x565c51<<0xb99+0x1f5f*0x1+-0x4*0xaba|_0x552064<<-0x12af*-0x1+-0x1baf+0x908|_0x50843d;_0x2da48e!==-(0x12d*0x1+-0xf*0x241+0x687*0x5)&&au['add'](_0x5f572d['get'](_0x2da48e));}au['forEach'](_0x3d421f=>{_0x3d421f&&_0x56b264['push'](_0x3d421f);}),au['clear']();}return _0x56b264;}['allocateRe'+'nderTarget'](){const _0x168c75=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(-0x17b2+0x1*0x1cf3+0x2a*-0x20),'minFilter':de,'magFilter':de,'addressU':ne,'addressV':ne,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x168c75,'depth':!(-0xe9*0x13+-0x1*-0xbf3+-0x12*-0x4c)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x251a6b,_0x21881f,_0x3c121b){_0x3c121b instanceof Lr&&(_0x3c121b=[_0x3c121b]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x39a157=this['renderPass'];_0x39a157['init'](this['renderTarg'+'et']),_0x39a157['colorOps']['clearValue']=Y['WHITE'],_0x39a157['colorOps']['clear']=!(0x331*0x9+-0x1513+-0x7a6),_0x39a157['depthStenc'+'ilOps']['clearDepth']=!(0x154f*-0x1+0x14f3+0x5c*0x1),_0x39a157['update'](_0x251a6b,_0x21881f,_0x3c121b,this['mapping']),_0x39a157['render']();}['resize'](_0x5383a4,_0x24ac31){this['width']=Math['floor'](_0x5383a4),this['height']=Math['floor'](_0x24ac31);}};class iF{constructor(_0x666578){this['_frameInde'+'x']=0xce1+-0x4*0x566+0x8b7,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x56*0x1+-0x812*0x1+0x7*0x11b,this['enabled']=!(0xc*-0x156+-0x39*-0x55+-0xd*0x39),_0x666578['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x666578['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x666578['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x495c46){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x4e3c7d=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x4e3c7d,this['_frameInde'+'x']=0x1*-0xe0b+0xfb*-0xb+0x18d4,this['mark'](_0x495c46);}['mark'](_0x138d46){if(!this['enabled'])return;const _0x1a8cd0=re();if(this['_frameInde'+'x']>0x24*0xfb+-0x1615*0x1+-0x1*0xd37){const _0x3cc359=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x2*-0x1d2+-0x2104+0x24a9)];_0x3cc359[-0x1ddd*0x1+-0x146b*0x1+0x72f*0x7]=_0x1a8cd0-_0x3cc359[0xda*0x16+-0x15b4*0x1+-0x2f9*-0x1];}else{if(this['_timings']['length']>-0x148a+-0x1*0x270a+0x1ec*0x1f){const _0x58aadf=this['_timings'][this['_timings']['length']-(0x17b*0x15+0xb87+0x2a9d*-0x1)];_0x58aadf[0x1a77+0x129b*-0x1+-0x7db]=_0x1a8cd0-_0x58aadf[-0xab8+-0x45f*0x1+0xf18];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x138d46,_0x1a8cd0]);else{const _0xd5206d=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0xd5206d[-0x4f1+-0x79*0x13+0xdec]=_0x138d46,_0xd5206d[-0xf60+0x2c*-0x97+0x2955]=_0x1a8cd0;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x24ba+-0x1ae5+-0x9d5,-(-0x2*0xb92+0x3cf+0x1356))['map'](_0xef8749=>_0xef8749[0x400+0x34b+-0x74a]);}}class rF{constructor(_0x5ba413){this['device']=_0x5ba413,_0x5ba413['gpuProfile'+'r']['enabled']=!(0x4*0x38b+0x2518+-0x3344),this['enabled']=!(-0x4*0x4a9+-0x1*-0x2053+-0xdaf),this['unitsName']='ms',this['decimalPla'+'ces']=0x12df+-0x2593+-0x12b5*-0x1,this['_timings']=[];}get['timings'](){return this['_timings'][0x14da+-0x68*-0x4+-0x167a]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class nF{constructor(_0x5bf55c,_0x189a4a,_0x16664c,_0x4c29e5,_0x43aa63){this['app']=_0x5bf55c,this['values']=[],this['statNames']=_0x189a4a,this['statNames']['length']>-0xb*-0x262+0x1*-0x1d9f+0xdb*0x4&&(this['statNames']['length']=-0x18df*0x1+0xd*0x229+-0x333),this['unitsName']=_0x4c29e5,this['decimalPla'+'ces']=_0x16664c,this['multiplier']=_0x43aa63||0x8ad*0x2+-0x2564+0x140b;const _0x213b54=(_0x4a7ef5,_0x13391f)=>_0x4a7ef5['split']('.')['reduce']((_0x59aed0,_0x449cc2)=>_0x59aed0?_0x59aed0[_0x449cc2]:null,_0x13391f||this);_0x5bf55c['on']('frameupdat'+'e',_0x219b29=>{for(let _0x201ee3=0x324+-0x16*-0x188+-0x126a*0x2;_0x201ee3<this['statNames']['length'];_0x201ee3++)this['values'][_0x201ee3]=_0x213b54(this['statNames'][_0x201ee3],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class ou{constructor(_0x59e89e,_0x343c27,_0x55c5d6,_0x4f21ce,_0x34e211){this['app']=_0x343c27,this['name']=_0x59e89e,this['device']=_0x343c27['graphicsDe'+'vice'],this['timer']=_0x34e211,this['watermark']=_0x55c5d6,this['enabled']=!(0x1d74+0x2508+-0x5d*0xb7),this['textRefres'+'hRate']=_0x4f21ce,this['avgTotal']=0x1444+0x16*0x10a+0xc*-0x398,this['avgTimer']=-0x21a5+-0x4a*0xe+-0x25b1*-0x1,this['avgCount']=0xda7+-0xbba+-0x1ed,this['timingText']='',this['texture']=null,this['yOffset']=0x1*-0x1b87+0x1e9a+-0x313,this['cursor']=-0x116*-0x12+-0x405+-0x31b*0x5,this['sample']=new Uint8ClampedArray(0xf44+0x22*0x40+-0x17c*0x10),this['sample']['set']([0x50*-0x3d+0x5db*-0x6+0x1b19*0x2,-0x2282+-0x2e1*-0x1+0x1fa1*0x1,-0x1*0x17b9+0x1218+0x5a1,-0x1339+0x19*-0x152+-0x9*-0x5ea]),this['counter']=0xada+-0x2*0xb7e+0xc22,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x4e6b36){const _0x2ce2c1=this['timer']['timings'],_0x115b6b=_0x2ce2c1['reduce']((_0xf570a6,_0x2f0459)=>_0xf570a6+_0x2f0459,0x1cb5+0x2a*0xb8+0x3ae5*-0x1);if(this['avgTotal']+=_0x115b6b,this['avgTimer']+=_0x4e6b36,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x1411*0x1+-0x12cb*0x1+0x3*0xcf4,this['avgTotal']=0x11d9+0x25*-0x9a+0x469,this['avgCount']=-0x5e7+-0x3b8+0x99f*0x1),this['enabled']){let _0xa755a9=0xf96+0xbdd*-0x2+0x412*0x2;const _0x295ab1=(-0x5e*0x23+0x1*0x1bf5+0xf1a*-0x1+0.5)*this['watermark'];for(let _0x13e4ad=0x125f+0x22fc*0x1+0x1d*-0x1d7;_0x13e4ad<_0x2ce2c1['length'];++_0x13e4ad)_0xa755a9+=Math['floor'](_0x2ce2c1[_0x13e4ad]/_0x295ab1*(-0x2294+0x1*0x595+0x1*0x1dfe)),this['sample'][_0x13e4ad]=_0xa755a9;this['sample'][-0x19*-0xb4+-0xc*-0x2c6+-0x32d9]=this['watermark']/_0x295ab1*(0x13*-0x1d+-0x1337+0xe5*0x19),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0xc45+-0x14a*0x15+0x193*0x19)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0xa61*-0x2+0x6f1+-0x1bb3);}}['render'](_0x5e4a7d,_0x37d0df,_0x58cabc,_0xbad481,_0x5d54e0){_0x5e4a7d['quad'](_0x37d0df+_0xbad481,_0x58cabc,-_0xbad481,_0x5d54e0,this['enabled']?this['cursor']:-0x1bde+0x1db+-0x1a03*-0x1,this['enabled']?-0x192d+-0x117a+0xb3*0x3d+0.5+this['yOffset']:this['texture']['height']-(0x5d*-0x9+-0x1*-0x120d+-0xec7),-_0xbad481,0x227b+0x55*0x3e+0x17d*-0x25,this['texture'],-0x5c*-0x13+-0x176+-0x55e);}}class aF{constructor(_0x30b8ff,_0x20557d){const _0x1729c0=_0xe4c00a=>{_0xe4c00a['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0xe4c00a['textAlign']='left',_0xe4c00a['textBaseli'+'ne']='alphabetic';},_0x1ca191=_0x44010a=>_0x44010a==='.'||_0x44010a['length']===0xd96+-0x132f*-0x2+-0x33f3&&_0x44010a['charCodeAt'](0xe6f+-0x6f7+-0x2*0x3bc)>=0x1c84+-0x1113+0x43*-0x2b&&_0x44010a['charCodeAt'](-0x797+-0x18ac+0x2043)<=-0x117*-0x4+-0x1*-0xf86+-0x13a9,_0x3ac6b8=document['createElem'+'ent']('canvas'),_0x4daae7=_0x3ac6b8['getContext']('2d',{'alpha':!(-0x2092+-0x94*0x3b+-0x239*-0x1e)});_0x1729c0(_0x4daae7);const _0x957432=new Map(),_0x1e4ffd=0x1386+-0x1*0x1ceb+0x96a,_0x5ca7fe=-0x20af+-0xc0e+0x2ebd;let _0x306007=_0x1e4ffd,_0x338a57=_0x1e4ffd;_0x20557d['forEach'](_0xc5c814=>{const _0x5eb309=_0x4daae7['measureTex'+'t'](_0xc5c814),_0x2d1a36=Math['ceil'](-_0x5eb309['actualBoun'+'dingBoxLef'+'t']),_0x34b050=Math['ceil'](_0x5eb309['actualBoun'+'dingBoxRig'+'ht']),_0x5ba200=Math['ceil'](_0x5eb309['actualBoun'+'dingBoxAsc'+'ent']),_0x2a968c=Math['ceil'](_0x5eb309['actualBoun'+'dingBoxDes'+'cent']),_0x47db6d=_0x2d1a36+_0x34b050,_0x2fe21a=_0x5ba200+_0x2a968c;_0x306007+_0x47db6d+_0x1e4ffd>=_0x5ca7fe&&(_0x306007=_0x1e4ffd,_0x338a57+=-0x129c*-0x1+0x238f*0x1+-0x361b),_0x957432['set'](_0xc5c814,{'l':_0x2d1a36,'r':_0x34b050,'a':_0x5ba200,'d':_0x2a968c,'w':_0x47db6d,'h':_0x2fe21a,'x':_0x306007,'y':_0x338a57}),_0x306007+=_0x47db6d+_0x1e4ffd;}),_0x3ac6b8['width']=0x3be+0xb*0xa6+0x8e0*-0x1,_0x3ac6b8['height']=N['nextPowerO'+'fTwo'](_0x338a57+(-0x1857+-0xf85+-0xa*-0x3fe)+_0x1e4ffd),_0x1729c0(_0x4daae7),_0x4daae7['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x4daae7['fillRect'](0xaa9*-0x1+-0x1d3e+-0x3*-0xd4d,-0x76a+0x14*0xc5+-0x7fa,_0x3ac6b8['width'],_0x3ac6b8['height']),_0x957432['forEach']((_0x1768ca,_0x1907e9)=>{_0x4daae7['fillStyle']=_0x1ca191(_0x1907e9)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x4daae7['fillText'](_0x1907e9,_0x1768ca['x']-_0x1768ca['l'],_0x1768ca['y']+_0x1768ca['a']);}),this['placements']=_0x957432;const _0x531544=_0x4daae7['getImageDa'+'ta'](0x23d7+0xaca*-0x1+0x1*-0x190d,-0x4c7*0x1+0x15c*-0x5+-0x1*-0xb93,_0x3ac6b8['width'],_0x3ac6b8['height'])['data'];for(let _0x38b56e=-0x2*0xb9b+-0x121a+-0x10*-0x295;_0x38b56e<_0x531544['length'];_0x38b56e+=0x20fc*0x1+0x2242+-0x433a)_0x531544[_0x38b56e+(0x1*-0x1463+-0x1*-0xa25+0xa41)]=_0x531544[_0x38b56e+(-0x1601+-0x3*-0x53f+0x322*0x2)],_0x531544[_0x38b56e+(-0x24f9+-0x440+0x1*0x2939)]=-0xe5*0x29+0x91*-0x32+0x41fe*0x1,_0x531544[_0x38b56e+(0x1*-0x1f63+0x1525+0x1*0xa3f)]=0x1*0x319+-0x2032+0x1e18,_0x531544[_0x38b56e+(-0x503*0x5+0x25f7*0x1+-0xce6)]=-0x1e84+0x464+-0x1*-0x1b1f;this['texture']=new he(_0x30b8ff,{'name':'mini-stats'+'-word-atla'+'s','width':_0x3ac6b8['width'],'height':_0x3ac6b8['height'],'mipmaps':!(-0x1*0x1e62+-0x1549*-0x1+0xa*0xe9),'minFilter':de,'magFilter':de,'levels':[_0x531544]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x15b2ca,_0xe86b6,_0x1c5782,_0x503053){const _0x4d36fc=this['placements']['get'](_0xe86b6);return _0x4d36fc?(_0x15b2ca['quad'](_0x1c5782+_0x4d36fc['l']-(-0xaf2+-0x1e8*-0x3+0x53b),_0x503053-_0x4d36fc['d']+(-0x1f7d*-0x1+-0x7f*-0x46+0x69f*-0xa),_0x4d36fc['w']+(-0x582+0xaef+-0x15b*0x4)*(-0xef*-0x2+-0x607*0x5+0x1c47),_0x4d36fc['h']+(-0x13fe+0x1b8a+-0x78b)*(-0x19c7+-0xcd1+0x225*0x12),_0x4d36fc['x']-(0x173*-0x2+0x226e+-0x1f87),this['texture']['height']-_0x4d36fc['y']-_0x4d36fc['h']-(0x1137*0x1+0x1*0x23a2+-0x34d8),void(-0x169*-0x14+-0x527+-0x170d),void(-0x1874+0x239*0xb+0x1),this['texture'],-0x2*0x3df+0xaab*0x1+-0x2ec),_0x4d36fc['w']):-0xe66+0x56+0xe10*0x1;}}const oF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',lF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class hF{constructor(_0x637d13,_0xffd464=0x3ee+-0xc73+0xa85){const _0x56e47e=new Mt(_0x637d13,[{'semantic':He,'components':0x3,'type':Ce},{'semantic':os,'components':0x4,'type':Ce}]),_0x3dcf1e=new Uint16Array(_0xffd464*(0x1*0x225f+0x1*0x1780+-0x39d9));for(let _0x50be25=0x153+0xe8b+-0xfde;_0x50be25<_0xffd464;++_0x50be25)_0x3dcf1e[_0x50be25*(-0x1b48+0x3ee*0x5+0x3d4*0x2)+(0x3ec+0x90e+0x12e*-0xb)]=_0x50be25*(-0xbbd+0x4*0x60d+0x1*-0xc73),_0x3dcf1e[_0x50be25*(0xb99+0x9*0x2c9+-0x24a4)+(0xc5e+-0x5be+-0x69f)]=_0x50be25*(0x2bb+-0xb9*-0x14+0x5b9*-0x3)+(-0xe8f*0x2+0x1816*0x1+-0x509*-0x1),_0x3dcf1e[_0x50be25*(-0xa6c+-0x54e*0x6+0x60a*0x7)+(0x1*0x118b+-0x2a5*0x7+-0x2*-0x7d)]=_0x50be25*(0xe88+0x1337+-0x21bb)+(0x1*-0x1af3+0x351*0x5+0xa60),_0x3dcf1e[_0x50be25*(0x7*0x30e+0x25eb+0x3b47*-0x1)+(0xd*-0x3a+0x25fd+-0x2308)]=_0x50be25*(-0x3*-0x692+0x3dc+-0x178e),_0x3dcf1e[_0x50be25*(-0x259f+-0xb*0x29+-0x4*-0x9da)+(-0xb1*0x34+0x1cb*-0x6+-0x1*-0x2eba)]=_0x50be25*(0x5*-0x541+0x1bca+-0x1*0x181)+(-0xdc5+-0x252b+0x32f2*0x1),_0x3dcf1e[_0x50be25*(-0x1396+0x11a6+0x1f6)+(0x712+0x1cb1+-0x726*0x5)]=_0x50be25*(-0x12f7*-0x1+-0x1988+0x1*0x695)+(-0x1a1*-0x4+-0x1389+-0x8*-0x1a1);this['device']=_0x637d13,this['buffer']=new hs(_0x637d13,_0x56e47e,_0xffd464*(0x243+0x1*0xe95+-0x10d4*0x1),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x26cd+0x9*-0x1f5+-0x152c)),this['indexBuffe'+'r']=new hr(_0x637d13,Ii,_0xffd464*(0x1bf5+-0x2051+0x462),Kt,_0x3dcf1e),this['prim']={'type':Rs,'indexed':!(0x1d15+-0x24cd*-0x1+-0x41e2),'base':0x0,'count':0x0},this['quads']=0xb11*-0x1+0x22c+0x8e5,this['mesh']=new Ie(_0x637d13),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x780+0x1c5f+-0x14df]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x6106eb=new Ia({'uniqueName':'MiniStats','vertexCode':oF,'fragmentCode':lF});this['material']=_0x6106eb,_0x6106eb['cull']=mt,_0x6106eb['depthState']=ls['NODEPTH'],_0x6106eb['blendState']=new _t(!(0x4*0x443+0xd*-0x2a9+0x1189),Ft,uc,fc,Ft,nt,nt),_0x6106eb['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x6106eb,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x5*-0x271+0xf63+-0x2c2*0xa)},this['targetSize']={'width':_0x637d13['width'],'height':_0x637d13['height']};}['quad'](_0x47d433,_0x39e3c0,_0x164e3a,_0x33c41e,_0x4c1be3,_0x1f4c07,_0x581050,_0x1f6e85,_0x47940e,_0x1712c1=0x1*0x173f+-0xedd*0x1+-0x1d*0x4a){const _0x41d984=this['targetSize']['width'],_0x4f7cfe=this['targetSize']['height'],_0x2a50a2=_0x47d433/_0x41d984,_0x3d471c=_0x39e3c0/_0x4f7cfe,_0x8e1c1e=(_0x47d433+_0x164e3a)/_0x41d984,_0x2f3dbc=(_0x39e3c0+_0x33c41e)/_0x4f7cfe,_0x14e250=_0x47940e['width'],_0x325c81=_0x47940e['height'],_0x2cadb1=_0x4c1be3/_0x14e250,_0x970fb=_0x1f4c07/_0x325c81,_0x3af1ed=(_0x4c1be3+(_0x581050??_0x164e3a))/_0x14e250,_0x5271a3=(_0x1f4c07+(_0x1f6e85??_0x33c41e))/_0x325c81;this['data']['set']([_0x2a50a2,_0x3d471c,_0x1712c1,_0x2cadb1,_0x970fb,-0x23d+-0xcfa+0xf37,-0x1968+-0xc44*-0x3+-0xb64,_0x8e1c1e,_0x3d471c,_0x1712c1,_0x3af1ed,_0x970fb,0x5c5*-0x5+-0x2578+0x4252,0x13*-0x149+-0x1cc+0x1a37,_0x8e1c1e,_0x2f3dbc,_0x1712c1,_0x3af1ed,_0x5271a3,-0x1*0x1ae6+-0xd*0x161+0x2cd4*0x1,0x1*-0x1cd6+-0x2*0x9fe+0x30d3,_0x2a50a2,_0x2f3dbc,_0x1712c1,_0x2cadb1,_0x5271a3,-0x6e9+0x1522+-0x14b*0xb,-0x5*-0x71+-0x91a*0x3+0x6*0x42f],(0x1f41+-0x898+-0x16a5)*(0x2*-0x515+0x1d2c+-0x71*0x2b)*this['quads']),this['quads']++,this['prim']['count']+=-0x179*-0x8+-0x202*-0xa+-0x1fd6;}['startFrame'](){this['quads']=0x1*0x1e42+0x1*0x10df+-0x2f21,this['prim']['count']=0x287*-0xa+-0x860+0x3b*0x92,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x1ecc71,_0x1f87ff,_0xcf7499,_0x396672,_0x3ac82b,_0xe80989){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x3ac82b,0xeb7+-0x1ecd+0x1016),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0xcf7499),this['material']['setParamet'+'er']('wordsTex',_0x396672),_0x1ecc71['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x1f87ff);}}class Wx{constructor(_0x130d9d,_0x2a8277){const _0x149bb9=_0x130d9d['graphicsDe'+'vice'];_0x2a8277=_0x2a8277||Wx['getDefault'+'Options'](),this['initGraphs'](_0x130d9d,_0x149bb9,_0x2a8277);const _0x42a87f=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x388dd7=>_0x388dd7['name']))['concat'](_0x2a8277['stats']?_0x2a8277['stats']['map'](_0x1aed4e=>_0x1aed4e['unitsName']):[])['filter'](_0x7d5d62=>!!_0x7d5d62));this['wordAtlas']=new aF(_0x149bb9,_0x42a87f),this['sizes']=_0x2a8277['sizes'],this['_activeSiz'+'eIndex']=_0x2a8277['startSizeI'+'ndex'];const _0x3b1ea3=document['createElem'+'ent']('div');_0x3b1ea3['setAttribu'+'te']('id','mini-stats'),_0x3b1ea3['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x3b1ea3),_0x3b1ea3['addEventLi'+'stener']('mouseenter',_0x583cfd=>{this['opacity']=0x1*-0x1a3d+0x26*-0x77+0x2be8;}),_0x3b1ea3['addEventLi'+'stener']('mouseleave',_0x141c07=>{this['opacity']=0xd39+0x1a6e+0x1*-0x27a7+0.7;}),_0x3b1ea3['addEventLi'+'stener']('click',_0x40f359=>{_0x40f359['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x2*-0xba2+-0x7e0+-0xf63))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x149bb9['on']('resizecanv'+'as',this['updateDiv'],this),_0x149bb9['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x130d9d['on']('postrender',this['postRender'],this),this['app']=_0x130d9d,this['drawLayer']=_0x130d9d['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x149bb9,this['render2d']=new hF(_0x149bb9),this['div']=_0x3b1ea3,this['width']=-0x1af*0xb+0x1148+0x13d,this['height']=-0x346*0x2+0x1615+-0xf89,this['gspacing']=-0x1320+0xfe7+0x33b*0x1,this['clr']=[-0xb60+0x25f2+0x3*-0x8db,0x3*-0xb0f+-0x1*-0xcb3+-0x31*-0x6b,-0x1*0x259f+0x349+0x95*0x3b,-0x2375+0xa3*-0x3d+0xf*0x4f4+0.5],this['_enabled']=!(-0x13a2+0x15*-0x18a+0x85*0x64),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x588c55=>_0x588c55['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0xffb+-0x177c+0x782)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x9ed*-0x3+0x3ed+0x19da)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x15*-0x2f+-0x182e*-0x1+-0x1c09)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x1d1c*-0x1+0x1c01+-0x1*0x391d),'watermark':0x21},'gpu':{'enabled':!(0x2*-0xfd8+-0x1fbd+0x4e1*0xd),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x39a953){this['_activeSiz'+'eIndex']=_0x39a953,this['gspacing']=this['sizes'][_0x39a953]['spacing'],this['resize'](this['sizes'][_0x39a953]['width'],this['sizes'][_0x39a953]['height'],this['sizes'][_0x39a953]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0xc00ed1){this['clr'][-0x8+-0x1*0x16ab+0x16b6]=_0xc00ed1;}get['opacity'](){return this['clr'][-0x2262+-0x20af*0x1+0x36*0x13e];}get['overallHei'+'ght'](){const _0x1f0987=this['graphs'],_0x44893c=this['gspacing'];return this['height']*_0x1f0987['length']+_0x44893c*(_0x1f0987['length']-(-0xb6d+0xbb3+0x3*-0x17));}set['enabled'](_0x3b0e10){if(_0x3b0e10!==this['_enabled']){this['_enabled']=_0x3b0e10;for(let _0x1d7596=0xc83*-0x1+-0x539+0x11bc;_0x1d7596<this['graphs']['length'];++_0x1d7596)this['graphs'][_0x1d7596]['enabled']=_0x3b0e10,this['graphs'][_0x1d7596]['timer']['enabled']=_0x3b0e10;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x53a57c,_0x1a94ab,_0x148e27){if(this['graphs']=[],_0x148e27['cpu']['enabled']){const _0x920108=new iF(_0x53a57c),_0x3ab9f0=new ou('CPU',_0x53a57c,_0x148e27['cpu']['watermark'],_0x148e27['textRefres'+'hRate'],_0x920108);this['graphs']['push'](_0x3ab9f0);}if(_0x148e27['gpu']['enabled']){const _0x3cd846=new rF(_0x1a94ab),_0x236d6b=new ou('GPU',_0x53a57c,_0x148e27['gpu']['watermark'],_0x148e27['textRefres'+'hRate'],_0x3cd846);this['graphs']['push'](_0x236d6b);}_0x148e27['stats']&&_0x148e27['stats']['forEach'](_0x54fb7e=>{const _0x4106fd=new nF(_0x53a57c,_0x54fb7e['stats'],_0x54fb7e['decimalPla'+'ces'],_0x54fb7e['unitsName'],_0x54fb7e['multiplier']),_0x15b73d=new ou(_0x54fb7e['name'],_0x53a57c,_0x54fb7e['watermark'],_0x148e27['textRefres'+'hRate'],_0x4106fd);this['graphs']['push'](_0x15b73d);});const _0x2795dd=_0x148e27['sizes']['reduce']((_0x5be7de,_0x42c2be)=>_0x42c2be['width']>_0x5be7de?_0x42c2be['width']:_0x5be7de,0x137+0x3*-0xa93+0x1e82);this['texture']=new he(_0x1a94ab,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x2795dd),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0xd9*0xc+0x2*0xb99+-0xdb*0x27),'minFilter':de,'magFilter':de,'addressU':et,'addressV':et}),this['graphs']['forEach']((_0x20ca60,_0x3d9968)=>{_0x20ca60['texture']=this['texture'],_0x20ca60['yOffset']=_0x3d9968;});}['render'](){const _0x56cbae=this['graphs'],_0x3d60c2=this['wordAtlas'],_0x34c780=this['render2d'],_0x478ae1=this['width'],_0x4c84cd=this['height'],_0x1d8c42=this['gspacing'];_0x34c780['startFrame']();for(let _0x3ea4fa=-0x1*-0x986+-0x896*-0x4+-0x2bde;_0x3ea4fa<_0x56cbae['length'];++_0x3ea4fa){const _0x4ab854=_0x56cbae[_0x3ea4fa];let _0x29276c=_0x3ea4fa*(_0x4c84cd+_0x1d8c42);_0x4ab854['render'](_0x34c780,-0x1c5*-0x3+-0x10ed+0x2*0x5cf,_0x29276c,_0x478ae1,_0x4c84cd);let _0x522ff2=0x4*0x50d+0x1f6*0xa+-0x27cf;_0x29276c+=_0x4c84cd-(0x678+0x6*0x502+-0x5*0x74b),_0x522ff2+=_0x3d60c2['render'](_0x34c780,_0x4ab854['name'],_0x522ff2,_0x29276c)+(-0x206+0x11f9+-0xfe9);const _0x5d6ca6=_0x4ab854['timingText'];for(let _0x1577fc=-0xb84+-0x17*-0x77+0xd3*0x1;_0x1577fc<_0x5d6ca6['length'];++_0x1577fc)_0x522ff2+=_0x3d60c2['render'](_0x34c780,_0x5d6ca6[_0x1577fc],_0x522ff2,_0x29276c);_0x4ab854['timer']['unitsName']&&(_0x522ff2+=-0x15d6+-0x18a+0x1*0x1763,_0x3d60c2['render'](_0x34c780,_0x4ab854['timer']['unitsName'],_0x522ff2,_0x29276c));}_0x34c780['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x4c84cd);}['resize'](_0x2150ac,_0x2f1c79,_0x3aba88){const _0x3b4ef2=this['graphs'];for(let _0x13cfc0=-0x1a42*0x1+-0x1*-0x23+-0x9*-0x2e7;_0x13cfc0<_0x3b4ef2['length'];++_0x13cfc0)_0x3b4ef2[_0x13cfc0]['enabled']=_0x3aba88;this['width']=_0x2150ac,this['height']=_0x2f1c79,this['updateDiv']();}['updateDiv'](){const _0x489548=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x489548['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x489548['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x1ef1d5=>_0x1ef1d5['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class xF extends $t{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map()),c(this,'preEntitie'+'s',new Map()),c(this,'destroy',()=>{var _0x5612d9,_0x2b9877,_0x547b0b;const _0x452156=this['app'];(_0x5612d9=this['controller'+'s'])==null||_0x5612d9['forEach'](_0x533470=>{var _0x45ca60;_0x452156['root']['removeChil'+'d'](_0x533470==null?void(0x1be+0x4b2*0x1+0x4*-0x19c):_0x533470['entity']),(_0x45ca60=_0x533470['entity'])==null||_0x45ca60['destroy']();}),(_0x2b9877=this['controller'+'s'])==null||_0x2b9877['clear'](),(_0x547b0b=this['preEntitie'+'s'])==null||_0x547b0b['forEach'](_0x54e63c=>{_0x452156['root']['removeChil'+'d'](_0x54e63c),_0x54e63c==null||_0x54e63c['destroy']();});const _0x3a5539=()=>{const _0x19a0e5=_0x452156['root']['findByName']('Armature_l'+'eft'),_0x3cd08d=_0x452156['root']['findByName']('Armature_r'+'ight');for(_0x19a0e5&&_0x452156['root']['removeChil'+'d'](_0x19a0e5),_0x3cd08d&&_0x452156['root']['removeChil'+'d'](_0x3cd08d);_0x452156['root']['findByName']('Armature_l'+'eft')||_0x452156['root']['findByName']('Armature_r'+'ight');)_0x3a5539();};_0x3a5539();});}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['app']['xr']['input']['on']('add',async _0x1f9457=>{var _0x1da9b8;if(!((_0x1da9b8=_0x1f9457['profiles'])!=null&&_0x1da9b8['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x3f6cdc=_0x1f9457['profiles']['map'](async _0x54fa32=>{var _0x454526;const _0x1f0c41=this['basePath']+'/'+_0x54fa32+('/profile.j'+'son');try{const _0x59af05=await fetch(_0x1f0c41);if(!_0x59af05['ok'])return null;const _0x19fc62=await _0x59af05['json'](),_0x29159a=((_0x454526=_0x19fc62['layouts'][_0x1f9457['handedness']])==null?void(0xb*0x9+0x132b+-0x138e):_0x454526['assetPath'])||'',_0x38c2d1=this['basePath']+'/'+_0x19fc62['profileId']+'/'+_0x1f9457['handedness']+_0x29159a['replace'](/^\/?(left|right)/,''),_0x3e7539=await new Promise((_0x23c484,_0x8870ea)=>{this['app']['assets']['loadFromUr'+'l'](_0x38c2d1,'container',(_0x4e2a4,_0x2cfba4)=>{_0x4e2a4?_0x8870ea(_0x4e2a4):_0x23c484(_0x2cfba4);});});return{'profileId':_0x54fa32,'asset':_0x3e7539};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x54fa32),null;}}),_0x5dd51a=(await Promise['all'](_0x3f6cdc))['find'](_0x596607=>_0x596607!==null);if(_0x5dd51a){const {asset:_0x57886f}=_0x5dd51a,_0x3e91de=_0x57886f['resource']['instantiat'+'eRenderEnt'+'ity']();_0x3e91de['name']='Armature_'+_0x1f9457['handedness'],this['app']['root']['addChild'](_0x3e91de),this['preEntitie'+'s']['set'](_0x1f9457,_0x3e91de);const _0x59ea28=new Map();if(_0x1f9457['hand'])for(const _0xe60bcc of _0x1f9457['hand']['joints']){const _0x1bd32b=_0x3e91de['findByName'](_0xe60bcc['id']);_0x1bd32b&&_0x59ea28['set'](_0xe60bcc,_0x1bd32b);}this['controller'+'s']['set'](_0x1f9457,{'entity':_0x3e91de,'jointMap':_0x59ea28});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x5c28a1=>{var _0x38a65f;const _0x1759dc=this['controller'+'s']['get'](_0x5c28a1);_0x1759dc&&((_0x38a65f=_0x1759dc['entity'])==null||_0x38a65f['destroy'](),this['app']['root']['removeChil'+'d'](_0x1759dc==null?void(0x8*0x273+0x17d3*0x1+-0xe79*0x3):_0x1759dc['entity']),this['controller'+'s']['delete'](_0x5c28a1));}),this['app']['xr']['input']['on']('destroy',this['destroy']);}['update'](_0x21b529){var _0x2bbb24;if((_0x2bbb24=this['app']['xr'])!=null&&_0x2bbb24['active']){for(const [_0x25bea2,{entity:_0x3f92c2,jointMap:_0x54f8ab}]of this['controller'+'s'])if(_0x25bea2['hand']){for(const [_0x3a15e3,_0x15b15e]of _0x54f8ab)_0x15b15e['setPositio'+'n'](_0x3a15e3['getPositio'+'n']()),_0x15b15e['setRotatio'+'n'](_0x3a15e3['getRotatio'+'n']());}else _0x3f92c2['setPositio'+'n'](_0x25bea2['getPositio'+'n']()),_0x3f92c2['setRotatio'+'n'](_0x25bea2['getRotatio'+'n']());}}}export{_F as A,_e as B,Y as C,xF as D,We as E,$1 as F,ch as G,ex as H,Wx as I,ce as J,Fm as K,bp as L,wl as M,X as N,gF as P,te as Q,G_ as R,Lt as S,f0 as T,T as V,ay as W,XL as X,Q as a,RL as b,W as c,le as d,sl as e,fa as f,Gs as g,Cp as h,dF as i,uF as j,fF as k,pF as l,mF as m,zh as n,Nh as o,Uh as p,Du as q,hh as r,Hr as s,Wr as t,Cs as u,us as v,SI as w,qn as x,M0 as y,q as z};function _0x35ace2(_0x5b5150){function _0x4904e7(_0x535672){if(typeof _0x535672==='string')return function(_0x2e1bc5){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x535672/_0x535672)['length']!==-0x11*0x184+-0xf81+0x2946||_0x535672%(0x38f*-0x7+-0xb91+0x248e)===-0x1327+0x7*-0x1ee+0x20a9?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x4904e7(++_0x535672);}try{if(_0x5b5150)return _0x4904e7;else _0x4904e7(-0xb3*-0x14+0x1c63+-0x2a5f);}catch(_0x134f42){}}