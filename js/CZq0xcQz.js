import{c as G,b as V,d as K,a as B}from"./CTy_bxvY.js";var q,D;function z(){return D||(D=1,q=G().EventEmitter),q}var T,I;function J(){if(I)return T;I=1;function S(o,i){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);i&&(r=r.filter(function(f){return Object.getOwnPropertyDescriptor(o,f).enumerable})),e.push.apply(e,r)}return e}function _(o){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?S(Object(e),!0).forEach(function(r){g(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):S(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}return o}function g(o,i,e){return i=n(i),i in o?Object.defineProperty(o,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[i]=e,o}function p(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function w(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,n(r.key),r)}}function t(o,i,e){return i&&w(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o}function n(o){var i=s(o,"string");return typeof i=="symbol"?i:String(i)}function s(o,i){if(typeof o!="object"||o===null)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var r=e.call(o,i);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}var c=V(),v=c.Buffer,E=K,y=E.inspect,u=y&&y.custom||"inspect";function b(o,i,e){v.prototype.copy.call(o,i,e)}return T=function(){function o(){p(this,o),this.head=null,this.tail=null,this.length=0}return t(o,[{key:"push",value:function(e){var r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(e){var r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(this.length===0)return"";for(var r=this.head,f=""+r.data;r=r.next;)f+=e+r.data;return f}},{key:"concat",value:function(e){if(this.length===0)return v.alloc(0);for(var r=v.allocUnsafe(e>>>0),f=this.head,a=0;f;)b(f.data,r,a),a+=f.data.length,f=f.next;return r}},{key:"consume",value:function(e,r){var f;return e<this.head.data.length?(f=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):e===this.head.data.length?f=this.shift():f=r?this._getString(e):this._getBuffer(e),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var r=this.head,f=1,a=r.data;for(e-=a.length;r=r.next;){var l=r.data,h=e>l.length?l.length:e;if(h===l.length?a+=l:a+=l.slice(0,e),e-=h,e===0){h===l.length?(++f,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=l.slice(h));break}++f}return this.length-=f,a}},{key:"_getBuffer",value:function(e){var r=v.allocUnsafe(e),f=this.head,a=1;for(f.data.copy(r),e-=f.data.length;f=f.next;){var l=f.data,h=e>l.length?l.length:e;if(l.copy(r,r.length-e,0,h),e-=h,e===0){h===l.length?(++a,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=l.slice(h));break}++a}return this.length-=a,r}},{key:u,value:function(e,r){return y(this,_(_({},r),{},{depth:0,customInspect:!1}))}}]),o}(),T}var A,C;function Q(){if(C)return A;C=1;function S(n,s){var c=this,v=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return v||E?(s?s(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(w,this,n)):process.nextTick(w,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(y){!s&&y?c._writableState?c._writableState.errorEmitted?process.nextTick(g,c):(c._writableState.errorEmitted=!0,process.nextTick(_,c,y)):process.nextTick(_,c,y):s?(process.nextTick(g,c),s(y)):process.nextTick(g,c)}),this)}function _(n,s){w(n,s),g(n)}function g(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function p(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function w(n,s){n.emit("error",s)}function t(n,s){var c=n._readableState,v=n._writableState;c&&c.autoDestroy||v&&v.autoDestroy?n.destroy(s):n.emit("error",s)}return A={destroy:S,undestroy:p,errorOrDestroy:t},A}var x,N;function X(){if(N)return x;N=1;var S=B().codes.ERR_INVALID_OPT_VALUE;function _(p,w,t){return p.highWaterMark!=null?p.highWaterMark:w?p[t]:null}function g(p,w,t,n){var s=_(w,n,t);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var c=n?t:"highWaterMark";throw new S(c,s)}return Math.floor(s)}return p.objectMode?16:16*1024}return x={getHighWaterMark:g},x}var j,U;function $(){if(U)return j;U=1;var S=B().codes.ERR_STREAM_PREMATURE_CLOSE;function _(t){var n=!1;return function(){if(!n){n=!0;for(var s=arguments.length,c=new Array(s),v=0;v<s;v++)c[v]=arguments[v];t.apply(this,c)}}}function g(){}function p(t){return t.setHeader&&typeof t.abort=="function"}function w(t,n,s){if(typeof n=="function")return w(t,null,n);n||(n={}),s=_(s||g);var c=n.readable||n.readable!==!1&&t.readable,v=n.writable||n.writable!==!1&&t.writable,E=function(){t.writable||u()},y=t._writableState&&t._writableState.finished,u=function(){v=!1,y=!0,c||s.call(t)},b=t._readableState&&t._readableState.endEmitted,o=function(){c=!1,b=!0,v||s.call(t)},i=function(a){s.call(t,a)},e=function(){var a;if(c&&!b)return(!t._readableState||!t._readableState.ended)&&(a=new S),s.call(t,a);if(v&&!y)return(!t._writableState||!t._writableState.ended)&&(a=new S),s.call(t,a)},r=function(){t.req.on("finish",u)};return p(t)?(t.on("complete",u),t.on("abort",e),t.req?r():t.on("request",r)):v&&!t._writableState&&(t.on("end",E),t.on("close",E)),t.on("end",o),t.on("finish",u),n.error!==!1&&t.on("error",i),t.on("close",e),function(){t.removeListener("complete",u),t.removeListener("abort",e),t.removeListener("request",r),t.req&&t.req.removeListener("finish",u),t.removeListener("end",E),t.removeListener("close",E),t.removeListener("finish",u),t.removeListener("end",o),t.removeListener("error",i),t.removeListener("close",e)}}return j=w,j}var L,W;function Z(){if(W)return L;W=1;var S;function _(a,l,h){return l=g(l),l in a?Object.defineProperty(a,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[l]=h,a}function g(a){var l=p(a,"string");return typeof l=="symbol"?l:String(l)}function p(a,l){if(typeof a!="object"||a===null)return a;var h=a[Symbol.toPrimitive];if(h!==void 0){var d=h.call(a,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(a)}var w=$(),t=Symbol("lastResolve"),n=Symbol("lastReject"),s=Symbol("error"),c=Symbol("ended"),v=Symbol("lastPromise"),E=Symbol("handlePromise"),y=Symbol("stream");function u(a,l){return{value:a,done:l}}function b(a){var l=a[t];if(l!==null){var h=a[y].read();h!==null&&(a[v]=null,a[t]=null,a[n]=null,l(u(h,!1)))}}function o(a){process.nextTick(b,a)}function i(a,l){return function(h,d){a.then(function(){if(l[c]){h(u(void 0,!0));return}l[E](h,d)},d)}}var e=Object.getPrototypeOf(function(){}),r=Object.setPrototypeOf((S={get stream(){return this[y]},next:function(){var l=this,h=this[s];if(h!==null)return Promise.reject(h);if(this[c])return Promise.resolve(u(void 0,!0));if(this[y].destroyed)return new Promise(function(m,O){process.nextTick(function(){l[s]?O(l[s]):m(u(void 0,!0))})});var d=this[v],R;if(d)R=new Promise(i(d,this));else{var P=this[y].read();if(P!==null)return Promise.resolve(u(P,!1));R=new Promise(this[E])}return this[v]=R,R}},_(S,Symbol.asyncIterator,function(){return this}),_(S,"return",function(){var l=this;return new Promise(function(h,d){l[y].destroy(null,function(R){if(R){d(R);return}h(u(void 0,!0))})})}),S),e),f=function(l){var h,d=Object.create(r,(h={},_(h,y,{value:l,writable:!0}),_(h,t,{value:null,writable:!0}),_(h,n,{value:null,writable:!0}),_(h,s,{value:null,writable:!0}),_(h,c,{value:l._readableState.endEmitted,writable:!0}),_(h,E,{value:function(P,m){var O=d[y].read();O?(d[v]=null,d[t]=null,d[n]=null,P(u(O,!1))):(d[t]=P,d[n]=m)},writable:!0}),h));return d[v]=null,w(l,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=d[n];P!==null&&(d[v]=null,d[t]=null,d[n]=null,P(R)),d[s]=R;return}var m=d[t];m!==null&&(d[v]=null,d[t]=null,d[n]=null,m(u(void 0,!0))),d[c]=!0}),l.on("readable",o.bind(null,d)),d};return L=f,L}var M,F;function ee(){return F||(F=1,M=function(){throw new Error("Readable.from is not available in the browser")}),M}var k,H;function te(){if(H)return k;H=1;var S;function _(u){var b=!1;return function(){b||(b=!0,u.apply(void 0,arguments))}}var g=B().codes,p=g.ERR_MISSING_ARGS,w=g.ERR_STREAM_DESTROYED;function t(u){if(u)throw u}function n(u){return u.setHeader&&typeof u.abort=="function"}function s(u,b,o,i){i=_(i);var e=!1;u.on("close",function(){e=!0}),S===void 0&&(S=$()),S(u,{readable:b,writable:o},function(f){if(f)return i(f);e=!0,i()});var r=!1;return function(f){if(!e&&!r){if(r=!0,n(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();i(f||new w("pipe"))}}}function c(u){u()}function v(u,b){return u.pipe(b)}function E(u){return!u.length||typeof u[u.length-1]!="function"?t:u.pop()}function y(){for(var u=arguments.length,b=new Array(u),o=0;o<u;o++)b[o]=arguments[o];var i=E(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new p("streams");var e,r=b.map(function(f,a){var l=a<b.length-1,h=a>0;return s(f,l,h,function(d){e||(e=d),d&&r.forEach(c),!l&&(r.forEach(c),i(e))})});return b.reduce(v)}return k=y,k}export{J as a,X as b,Q as c,Z as d,ee as e,$ as f,te as g,z as r};
