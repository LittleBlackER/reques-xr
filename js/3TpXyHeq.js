const _0x56f61b=(function(){let _0x5c55eb=!![];return function(_0xfee3cb,_0x2f6737){const _0x4cff2f=_0x5c55eb?function(){if(_0x2f6737){const _0x4e8c88=_0x2f6737['apply'](_0xfee3cb,arguments);return _0x2f6737=null,_0x4e8c88;}}:function(){};return _0x5c55eb=![],_0x4cff2f;};}()),_0x2bd1b4=_0x56f61b(this,function(){return _0x2bd1b4['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x2bd1b4)['search']('(((.+)+)+)'+'+$');});_0x2bd1b4();const _0x18ca12=(function(){let _0x120e8a=!![];return function(_0x3b4cb4,_0x280d1a){const _0x162bee=_0x120e8a?function(){if(_0x280d1a){const _0x49ea5d=_0x280d1a['apply'](_0x3b4cb4,arguments);return _0x280d1a=null,_0x49ea5d;}}:function(){};return _0x120e8a=![],_0x162bee;};}());(function(){_0x18ca12(this,function(){const _0x4beca6=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x4f63fb=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x301bf4=_0x4f6c7c('init');!_0x4beca6['test'](_0x301bf4+'chain')||!_0x4f63fb['test'](_0x301bf4+'input')?_0x301bf4('0'):_0x4f6c7c();})();}());const _0x545213=(function(){let _0x549753=!![];return function(_0x4cb3d6,_0x179f5b){const _0x85c143=_0x549753?function(){if(_0x179f5b){const _0x117cde=_0x179f5b['apply'](_0x4cb3d6,arguments);return _0x179f5b=null,_0x117cde;}}:function(){};return _0x549753=![],_0x85c143;};}()),_0x282c44=_0x545213(this,function(){let _0x23a6a5;try{const _0x37d194=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x23a6a5=_0x37d194();}catch(_0x1e367f){_0x23a6a5=window;}const _0x12d3ef=_0x23a6a5['console']=_0x23a6a5['console']||{},_0x52ad42=['log','warn','info','error','exception','table','trace'];for(let _0x51215b=-0x1*-0x1101+-0x3b7*0xa+0x1425;_0x51215b<_0x52ad42['length'];_0x51215b++){const _0x2c6821=_0x545213['constructo'+'r']['prototype']['bind'](_0x545213),_0x1b9ca2=_0x52ad42[_0x51215b],_0x114b12=_0x12d3ef[_0x1b9ca2]||_0x2c6821;_0x2c6821['__proto__']=_0x545213['bind'](_0x545213),_0x2c6821['toString']=_0x114b12['toString']['bind'](_0x114b12),_0x12d3ef[_0x1b9ca2]=_0x2c6821;}});_0x282c44();var qx=Object['defineProp'+'erty'],Xx=(_0x43b06e,_0x429768,_0x1c4cdf)=>_0x429768 in _0x43b06e?qx(_0x43b06e,_0x429768,{'enumerable':!(-0x7ac+0x261a+0xbe*-0x29),'configurable':!(0x1aef+0x1e6d*0x1+-0x395c),'writable':!(-0x4*-0x8fe+0x177f+0x1*-0x3b77),'value':_0x1c4cdf}):_0x43b06e[_0x429768]=_0x1c4cdf,c=(_0x3eeecf,_0x178e14,_0x2ab414)=>Xx(_0x3eeecf,typeof _0x178e14!='symbol'?_0x178e14+'':_0x178e14,_0x2ab414);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x4e1f15,_0x5b1051){for(const _0x45c461 in _0x5b1051){const _0x5de122=_0x5b1051[_0x45c461];Array['isArray'](_0x5de122)?_0x4e1f15[_0x45c461]=vh([],_0x5de122):_0x5de122&&typeof _0x5de122=='object'?_0x4e1f15[_0x45c461]=vh({},_0x5de122):_0x4e1f15[_0x45c461]=_0x5de122;}return _0x4e1f15;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x4c2cde=>{const _0x554ea5=Math['random']()*(0x7b8+0x10d1+-0x1879)|0x56c+0x296+-0x802;return(_0x4c2cde==='x'?_0x554ea5:_0x554ea5&-0xf*0x7b+0x16f8+-0x12*0xe0|-0x1b4+-0x92f+0xaeb)['toString'](0x5ff+0x5a4+-0xb93);});}},fe={'delimiter':'/','join'(..._0x4712de){let _0x3d8a99=_0x4712de[0x8*0x400+-0x568+-0x94*0x2e];for(let _0x30fafc=0x1d17+-0x20ff*-0x1+-0x3e16*0x1;_0x30fafc<_0x4712de['length']-(0xc1a*-0x1+0x9*-0x3e3+0x2f16);_0x30fafc++){const _0x13e601=_0x4712de[_0x30fafc],_0x43f6dc=_0x4712de[_0x30fafc+(0x99+0x1c7f+-0x1d17)];if(_0x43f6dc[0x22*0xb9+0xc7*-0x2+-0x1704]===fe['delimiter']){_0x3d8a99=_0x43f6dc;continue;}_0x13e601&&_0x43f6dc&&_0x13e601[_0x13e601['length']-(0x3*-0xba5+-0x1*0x26ba+0x49aa)]!==fe['delimiter']&&_0x43f6dc[-0x21b5+-0x33c+0x24f1]!==fe['delimiter']?_0x3d8a99+=fe['delimiter']+_0x43f6dc:_0x3d8a99+=_0x43f6dc;}return _0x3d8a99;},'normalize'(_0x451e71){const _0x360fbe=_0x451e71['startsWith'](fe['delimiter']),_0x23666b=_0x451e71['endsWith'](fe['delimiter']),_0x31dfc1=_0x451e71['split']('/');let _0x39f7bf='',_0x3a72b0=[];for(let _0x43e04c=0x234b+-0xfcb+-0x1380;_0x43e04c<_0x31dfc1['length'];_0x43e04c++)if(_0x31dfc1[_0x43e04c]!==''&&_0x31dfc1[_0x43e04c]!=='.'){if(_0x31dfc1[_0x43e04c]==='..'&&_0x3a72b0['length']>0xa7*0x4+0x13c*0x1a+-0x1*0x22b4){_0x3a72b0=_0x3a72b0['slice'](0x18e1+-0xcb0+0xc31*-0x1,_0x3a72b0['length']-(-0x21bb*0x1+-0x159b+-0x2c*-0x142));continue;}_0x43e04c>-0xb*-0x105+-0x2492+0x195b&&_0x3a72b0['push'](fe['delimiter']),_0x3a72b0['push'](_0x31dfc1[_0x43e04c]);}return _0x39f7bf=_0x3a72b0['join'](''),!_0x360fbe&&_0x39f7bf[0xe*-0x8+-0xa14+0xa84]===fe['delimiter']&&(_0x39f7bf=_0x39f7bf['slice'](-0x4f*-0x7d+0x2dd+-0x296f)),_0x23666b&&_0x39f7bf[_0x39f7bf['length']-(-0x542+-0x47*-0x3d+-0x8*0x175)]!==fe['delimiter']&&(_0x39f7bf+=fe['delimiter']),_0x39f7bf;},'split'(_0x3eff9c){const _0xd44c0c=_0x3eff9c['lastIndexO'+'f'](fe['delimiter']);return _0xd44c0c!==-(-0x1844*-0x1+-0x22*-0x66+0x25cf*-0x1)?[_0x3eff9c['substring'](0x3d6*-0x1+-0x23aa+-0x1*-0x2780,_0xd44c0c),_0x3eff9c['substring'](_0xd44c0c+(-0x221d+-0x1cd5+0x3ef3))]:['',_0x3eff9c];},'getBasename'(_0x1ae760){return fe['split'](_0x1ae760)[-0x1499+-0x1f9a+0x3434];},'getDirectory'(_0x4e1c7d){return fe['split'](_0x4e1c7d)[0x4*-0x955+0x912+0x1c42];},'getExtension'(_0xe222bb){const _0x2eed77=_0xe222bb['split']('?')[0x5cf*-0x1+0x107*-0x2+0x7dd]['split']('.')['pop']();return _0x2eed77!==_0xe222bb?'.'+_0x2eed77:'';},'isRelativePath'(_0x511ecb){return _0x511ecb['charAt'](-0x1*0x253d+-0x679*0x1+0x2bb6)!=='/'&&_0x511ecb['match'](/:\/\//)===null;},'extractPath'(_0xad9770){let _0x32b79f='';const _0x5f4423=_0xad9770['split']('/');let _0x5894f5=0x382*0x7+-0x13*0x1f6+0x1*0xcb4;if(_0x5f4423['length']>-0x1960+-0x3e1*0x5+-0x1663*-0x2){if(fe['isRelative'+'Path'](_0xad9770)){if(_0x5f4423[0x1c32+0x1*-0x20ea+0x2*0x25c]==='.'){for(_0x5894f5=-0x141*0x13+-0x1faf+0x3782;_0x5894f5<_0x5f4423['length']-(-0x1295+0x10bd+0x1*0x1d9);++_0x5894f5)_0x32b79f+=_0x5894f5===0x1*-0xe45+0x9eb+0x45a?_0x5f4423[_0x5894f5]:'/'+_0x5f4423[_0x5894f5];}else{if(_0x5f4423[0x42*0x61+0x10ab*0x1+0x1*-0x29ad]==='..'){for(_0x5894f5=-0x60*0x6+-0x21f3+0x2433;_0x5894f5<_0x5f4423['length']-(-0xd*-0x64+-0xa83+-0x1d0*-0x3);++_0x5894f5)_0x32b79f+=_0x5894f5===-0x255d+0x16b*-0x8+0x30b5?_0x5f4423[_0x5894f5]:'/'+_0x5f4423[_0x5894f5];}else{for(_0x32b79f='.',_0x5894f5=-0x55e*-0x4+-0x1*-0x35f+-0x1*0x18d7;_0x5894f5<_0x5f4423['length']-(-0x1c30+-0x3*0x3+0x1c3a);++_0x5894f5)_0x32b79f+='/'+_0x5f4423[_0x5894f5];}}}else{for(_0x5894f5=0x8*0x151+0x1*0x247b+-0x2f03;_0x5894f5<_0x5f4423['length']-(-0x1ae5*0x1+-0x6b*-0x1a+-0x36*-0x4c);++_0x5894f5)_0x32b79f+=_0x5894f5===0x2296+-0x3*-0x32b+-0x2c17?_0x5f4423[_0x5894f5]:'/'+_0x5f4423[_0x5894f5];}}return _0x32b79f;}},iS=()=>{let _0x3d973a=!(0x1*0x1b8e+0x176*-0x3+-0x172b);try{const _0x43e504=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x3d973a=!(0x253c+0x1eba+-0x43f6),!(0x959*0x3+0x795+0x33d*-0xb);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x43e504),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x43e504);}catch{}return _0x3d973a;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x1*-0x1d03+-0xb3+-0x6*0x4b8),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=0x26*-0x61+-0x775*-0x17+0x2d*0x14f,ny=-0xed*-0x103+-0x4f6b+0x3ba3*0x1,Jp=0x37*0x6b1+0x1677b+0x13*-0x1ab6,lS=0x3035+0x1155b+-0x6591,hS=-0x1*0x24cd+0x2153+0x6b*0x55,em=-0x1b*0x1915+-0x2e3b9+0x77ad6,tm=0x101*0x1f9+-0x34014+0x3371a,cS=-0x1*0x3b0db+-0x15557+0x6fa2d,dS=0x6dc*-0x39+0x4ec*0x1f+0x2e267,uS=-0x208*0xd+0x67*-0x88+0x71f0,fS=0x107*-0x26+0x12*0x6f+0x403b,lu=-0x67*-0x3b5+0x1cc58+-0x24c2b,hu=-0x5*-0x5bc3+-0x1bd7e*0x1+0x3026*0x5;function cu(_0x4560f0,_0x174e5a=-0x2b8*0xb+-0x1*0x266+0x204e){const _0x2b7398=_0x4560f0['length'];if(_0x174e5a<-0x10f2+-0x17f4+0x28e6||_0x174e5a>=_0x2b7398)return null;const _0x127c46=_0x4560f0['charCodeAt'](_0x174e5a);if(_0x2b7398>0x5*0x2e1+-0x1*0x1473+-0x21*-0x2f&&_0x127c46>=ou&&_0x127c46<=ny){const _0x425531=_0x4560f0['charCodeAt'](_0x174e5a+(0x1*-0xd81+-0x369*0x7+0x2561));if(_0x425531>=Jp&&_0x425531<=lS)return{'code':(_0x127c46-ou)*(-0x1d*-0x157+0x1*-0x13e9+-0x1*0xef2)+_0x425531-Jp+(0xd9*-0xe+0x16e5e+-0x1*0x6280),'long':!(-0x62d+-0x243f+0x712*0x6)};}return{'code':_0x127c46,'long':!(-0x24d*-0xc+0x57+-0x1bf2)};}function Xi(_0x28a7e0,_0x5d8209,_0x1f8db3){if(!_0x28a7e0)return!(-0x1907+-0xb57*-0x1+0xdb1);const _0x34022b=cu(_0x28a7e0);if(_0x34022b){const _0x415276=_0x34022b['code'];return _0x415276>=_0x5d8209&&_0x415276<=_0x1f8db3;}return!(-0x225a+-0x6a+-0x183*-0x17);}function pS(_0x19bb16,_0xd1efc){if(_0xd1efc===_0x19bb16['length']-(0x2e0*-0x1+-0x1cc6+0x1fa7))return 0x2*0xe57+-0x20d4+-0x427*-0x1;if(Xi(_0x19bb16[_0xd1efc],ou,ny)){const _0x5850ad=_0x19bb16['substring'](_0xd1efc,_0xd1efc+(-0x7*-0x22c+-0x528*0x1+-0x5*0x202)),_0x2fda52=_0x19bb16['substring'](_0xd1efc+(-0x1*-0x89a+-0x26c+-0x62c),_0xd1efc+(0x4dd+-0x1fbc+0x1ae3));return Xi(_0x2fda52,cS,dS)||Xi(_0x5850ad,em,tm)&&Xi(_0x2fda52,em,tm)?0x3b*0x6d+-0x8*0x41+0x1713*-0x1:Xi(_0x2fda52,lu,hu)?-0xa46*-0x1+0x3c7*0x1+-0xe0a*0x1:0x17*-0x15b+0x29d*0x2+0x19f5;}return Xi(_0x19bb16[_0xd1efc+(0x1811*-0x1+-0x7*-0x4ed+-0x1*0xa69)],lu,hu)?-0x567+-0x7*-0xb0+-0x1*-0x99:0x167f+-0x2eb*0x5+-0x7*0x121;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x2b2e14,..._0x3056df){for(let _0x2837a8=-0x2*0x5ed+0x3*0x72b+-0x9a7;_0x2837a8<_0x3056df['length'];_0x2837a8++)_0x2b2e14=_0x2b2e14['replace']('{'+_0x2837a8+'}',_0x3056df[_0x2837a8]);return _0x2b2e14;},'getCodePoint'(_0x11a50e,_0x42a64d){const _0x30e60d=cu(_0x11a50e,_0x42a64d);return _0x30e60d&&_0x30e60d['code'];},'getCodePoints'(_0x283e97){if(typeof _0x283e97!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x32ac1d=-0xad9+-0x3ec+-0x13*-0xc7;const _0x85a13=[];let _0x363fd0;for(;_0x363fd0=cu(_0x283e97,_0x32ac1d);)_0x85a13['push'](_0x363fd0['code']),_0x32ac1d+=_0x363fd0['long']?-0x1*0x1633+0x1a*-0x81+0x234f:0x47*0x68+-0xee4+-0xdf3;return _0x85a13;},'getSymbols'(_0x24e877){if(typeof _0x24e877!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x1a0112=0x571*-0x1+-0x150a+-0x1*-0x1a7b;const _0x44ab42=_0x24e877['length'],_0x2536e3=[];let _0x494827=-0x1f3*0x1+-0x1b50+0x1d43,_0x41b889;for(;_0x1a0112<_0x44ab42;){if(_0x494827+=pS(_0x24e877,_0x1a0112+_0x494827),_0x41b889=_0x24e877[_0x1a0112+_0x494827],Xi(_0x41b889,uS,fS)&&(_0x41b889=_0x24e877[_0x1a0112+_0x494827++]),Xi(_0x41b889,lu,hu)&&(_0x41b889=_0x24e877[_0x1a0112+_0x494827++]),_0x41b889&&_0x41b889['charCodeAt'](0x1f72+-0x247b*-0x1+-0x1*0x43ed)===hS){_0x41b889=_0x24e877[_0x1a0112+_0x494827++];continue;}const _0x4d90a5=_0x24e877['substring'](_0x1a0112,_0x1a0112+_0x494827);_0x2536e3['push'](_0x4d90a5),_0x1a0112+=_0x494827,_0x494827=-0x1*-0x15e6+-0x9e3+-0xc03;}return _0x2536e3;},'fromCodePoint'(){const _0x46a3d2=[];let _0x49f80a,_0x319d80,_0x42bb2c;for(let _0x2598e7=-0xd9*0x5+-0x1*-0x1ba1+-0x1764;_0x2598e7<arguments['length'];++_0x2598e7)_0x49f80a=Number(arguments[_0x2598e7]),_0x319d80=_0x49f80a-(0x1129e+-0x1*0x2d0d+0x1a6f),_0x42bb2c=_0x49f80a>-0x63ae+-0x3*-0x867+-0x5e*-0x384?[(_0x319d80>>0xd8+0x1184*0x2+-0x23d6)+(0x5*0x423d+0xd444+-0x14775),_0x319d80%(-0x2382+0x251b+-0xf*-0x29)+(-0x2*0x3551+0x12c7+-0x133db*-0x1)]:[_0x49f80a],_0x46a3d2['push'](String['fromCharCo'+'de']['apply'](null,_0x42bb2c));return _0x46a3d2['join']('');}},zr=class zr{static['set'](_0x48fcf2,_0x27b9eb=!(-0x1*0x58f+-0x1e13+0x1*0x23a2)){_0x27b9eb?zr['_traceChan'+'nels']['add'](_0x48fcf2):zr['_traceChan'+'nels']['delete'](_0x48fcf2);}static['get'](_0xf03db0){return zr['_traceChan'+'nels']['has'](_0xf03db0);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(-0xd*0x2ac+0x16f8+-0x17*-0x83));let Xs=zr;const bt=class bt{static['deprecated'](_0x3b2a78){bt['_loggedMes'+'sages']['has'](_0x3b2a78)||(bt['_loggedMes'+'sages']['add'](_0x3b2a78),console['warn']('DEPRECATED'+':\x20'+_0x3b2a78));}static['removed'](_0x2136f5){bt['_loggedMes'+'sages']['has'](_0x2136f5)||(bt['_loggedMes'+'sages']['add'](_0x2136f5),console['error']('REMOVED:\x20'+_0x2136f5));}static['assertDepr'+'ecated'](_0x562a3b,_0x32264e){_0x562a3b||bt['deprecated'](_0x32264e);}static['assert'](_0x2e633c,..._0x690711){_0x2e633c||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x690711);}static['assertDest'+'royed'](_0x1a1a45){var _0x406838;if(_0x1a1a45!=null&&_0x1a1a45['__alreadyD'+'estroyed']){const _0x41fb45='['+((_0x406838=_0x1a1a45['constructo'+'r'])==null?void(0x1357+0x2535+-0x388c):_0x406838['name'])+(']\x20with\x20nam'+'e\x20[')+_0x1a1a45['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x41fb45)||(bt['_loggedMes'+'sages']['add'](_0x41fb45),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x41fb45,_0x1a1a45));}}static['call'](_0x5b6ca3){_0x5b6ca3();}static['log'](..._0x1e15b6){console['log'](..._0x1e15b6);}static['logOnce'](_0x5e9ae6,..._0x34956b){bt['_loggedMes'+'sages']['has'](_0x5e9ae6)||(bt['_loggedMes'+'sages']['add'](_0x5e9ae6),console['log'](_0x5e9ae6,..._0x34956b));}static['warn'](..._0x3fbb43){console['warn'](..._0x3fbb43);}static['warnOnce'](_0x3653b0,..._0x2f3c6c){bt['_loggedMes'+'sages']['has'](_0x3653b0)||(bt['_loggedMes'+'sages']['add'](_0x3653b0),console['warn'](_0x3653b0,..._0x2f3c6c));}static['error'](..._0x37379f){console['error'](..._0x37379f);}static['errorOnce'](_0x1417c3,..._0xd59916){bt['_loggedMes'+'sages']['has'](_0x1417c3)||(bt['_loggedMes'+'sages']['add'](_0x1417c3),console['error'](_0x1417c3,..._0xd59916));}static['trace'](_0x2a864c,..._0x253646){Xs['get'](_0x2a864c)&&(console['groupColla'+'psed'](_0x2a864c['padEnd'](-0xf4a+-0xd7+0x1035,'\x20')+'|',..._0x253646),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x1aef84,_0x10516e){_0x1aef84&&(_0x1aef84['name']=_0x10516e);}static['setLabel'](_0x51e8e0,_0x3a5c43){_0x51e8e0&&(_0x51e8e0['label']=_0x3a5c43);}static['setDestroy'+'ed'](_0x4157aa){_0x4157aa&&(_0x4157aa['__alreadyD'+'estroyed']=!(0x2eb*0x2+-0x1ceb+0x1715));}}class mS{constructor(_0x5d9b5b,_0x2d1a13,_0x37c90f,_0x264500,_0x5365ae=!(0x24a5+-0x1*0xe9b+-0x1*0x1609)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0x13ef*0x1+-0x2105+0x1*0xd17)),(this['handler']=_0x5d9b5b,this['name']=_0x2d1a13,this['callback']=_0x37c90f,this['scope']=_0x264500,this['_once']=_0x5365ae);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x1a6d19,_0x75be7e,_0x10c5b2=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x1a6d19,_0x75be7e,_0x10c5b2,!(0x107f*0x2+-0x12c3+-0x25f*0x6));}['once'](_0x5d9503,_0x357fd5,_0x2b503c=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x5d9503,_0x357fd5,_0x2b503c,!(-0x1f*0xe5+-0x1413+-0x2*-0x17e7));}set['removed'](_0x52c945){_0x52c945&&(this['_removed']=!(-0x481+0x1b4f*0x1+-0x16ce));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x25d630,_0x20054e,_0x31d0dc,_0x3ebaa9){if((!_0x25d630||typeof _0x25d630!='string'||!_0x20054e)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x25d630+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x20054e),this['_callbacks']['has'](_0x25d630)||this['_callbacks']['set'](_0x25d630,[]),this['_callbackA'+'ctive']['has'](_0x25d630)){const _0x19562a=this['_callbackA'+'ctive']['get'](_0x25d630);_0x19562a&&_0x19562a===this['_callbacks']['get'](_0x25d630)&&this['_callbackA'+'ctive']['set'](_0x25d630,_0x19562a['slice']());}const _0x57c894=new mS(this,_0x25d630,_0x20054e,_0x31d0dc,_0x3ebaa9);return this['_callbacks']['get'](_0x25d630)['push'](_0x57c894),_0x57c894;}['on'](_0x240971,_0x441f80,_0x23211f=this){return this['_addCallba'+'ck'](_0x240971,_0x441f80,_0x23211f,!(0x1095+0x1eb3+-0x2f47));}['once'](_0x15aaf6,_0x1a8353,_0x323911=this){return this['_addCallba'+'ck'](_0x15aaf6,_0x1a8353,_0x323911,!(-0x12f*0xb+-0x779*0x1+0x147e));}['off'](_0x237469,_0x38787d,_0x363349){if(_0x237469)this['_callbackA'+'ctive']['has'](_0x237469)&&this['_callbackA'+'ctive']['get'](_0x237469)===this['_callbacks']['get'](_0x237469)&&this['_callbackA'+'ctive']['set'](_0x237469,this['_callbackA'+'ctive']['get'](_0x237469)['slice']());else{for(const [_0x3c115a,_0x205fa5]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x3c115a)&&this['_callbacks']['get'](_0x3c115a)===_0x205fa5&&this['_callbackA'+'ctive']['set'](_0x3c115a,_0x205fa5['slice']());}if(_0x237469){if(_0x38787d){const _0x4c845f=this['_callbacks']['get'](_0x237469);if(!_0x4c845f)return this;for(let _0x3ae360=0x1596+-0x7f1+-0x1*0xda5;_0x3ae360<_0x4c845f['length'];_0x3ae360++)_0x4c845f[_0x3ae360]['callback']===_0x38787d&&(_0x363349&&_0x4c845f[_0x3ae360]['scope']!==_0x363349||(_0x4c845f[_0x3ae360]['removed']=!(-0x163*-0x19+-0x7*0x13+-0x8d*0x3e),_0x4c845f['splice'](_0x3ae360,0x2134+-0x1fa4+-0x18f),_0x3ae360--));_0x4c845f['length']===-0x8b*0x4+0x16*-0xf1+0xb71*0x2&&this['_callbacks']['delete'](_0x237469);}else{const _0x2a4bcc=this['_callbacks']['get'](_0x237469);if(_0x2a4bcc){for(let _0x405e62=-0x3*-0xab7+0x1*0x1ffd+-0x4022;_0x405e62<_0x2a4bcc['length'];_0x405e62++)_0x2a4bcc[_0x405e62]['removed']=!(0x5c1*0x2+0xdcd*0x2+-0x271c);this['_callbacks']['delete'](_0x237469);}}}else{for(const _0x362f67 of this['_callbacks']['values']())for(let _0x2fc0b1=-0x1d*-0xa9+0x1343*-0x1+0x1e;_0x2fc0b1<_0x362f67['length'];_0x2fc0b1++)_0x362f67[_0x2fc0b1]['removed']=!(-0x116d*0x2+-0x107f+0xa45*0x5);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x36e247){const _0x4fe6f6=_0x36e247['name'];_0x36e247['removed']=!(0xc3b+-0x578+0x3*-0x241),this['_callbackA'+'ctive']['has'](_0x4fe6f6)&&this['_callbackA'+'ctive']['get'](_0x4fe6f6)===this['_callbacks']['get'](_0x4fe6f6)&&this['_callbackA'+'ctive']['set'](_0x4fe6f6,this['_callbackA'+'ctive']['get'](_0x4fe6f6)['slice']());const _0x5835fe=this['_callbacks']['get'](_0x4fe6f6);if(!_0x5835fe)return this;const _0x58c5c6=_0x5835fe['indexOf'](_0x36e247);return _0x58c5c6!==-(-0x1*0xe5a+-0x581+-0xa4*-0x1f)&&(_0x5835fe['splice'](_0x58c5c6,-0x15da+-0x4*-0x31f+0x95f),_0x5835fe['length']===0x26c7+-0x1505+-0x11c2&&this['_callbacks']['delete'](_0x4fe6f6)),this;}['fire'](_0xf145c9,_0x4f804b,_0x5219a2,_0x5c63e8,_0x2e3cac,_0x4ba04a,_0x486f6f,_0x767ff9,_0x4704d6){if(!_0xf145c9)return this;const _0x2ff843=this['_callbacks']['get'](_0xf145c9);if(!_0x2ff843)return this;let _0x3fecb9;this['_callbackA'+'ctive']['has'](_0xf145c9)?this['_callbackA'+'ctive']['get'](_0xf145c9)!==_0x2ff843&&(_0x3fecb9=_0x2ff843['slice']()):this['_callbackA'+'ctive']['set'](_0xf145c9,_0x2ff843);for(let _0x52d25b=0x515+0x2d9+0x7ee*-0x1;(_0x3fecb9||this['_callbackA'+'ctive']['get'](_0xf145c9))&&_0x52d25b<(_0x3fecb9||this['_callbackA'+'ctive']['get'](_0xf145c9))['length'];_0x52d25b++){const _0x4e5ee5=(_0x3fecb9||this['_callbackA'+'ctive']['get'](_0xf145c9))[_0x52d25b];if(_0x4e5ee5['callback']&&(_0x4e5ee5['callback']['call'](_0x4e5ee5['scope'],_0x4f804b,_0x5219a2,_0x5c63e8,_0x2e3cac,_0x4ba04a,_0x486f6f,_0x767ff9,_0x4704d6),_0x4e5ee5['_once'])){const _0x458575=this['_callbacks']['get'](_0xf145c9),_0x584982=_0x458575?_0x458575['indexOf'](_0x4e5ee5):-(0x9c0+-0xfa5+0x5e6);if(_0x584982!==-(-0x1b*0x9c+0x3c5*-0x1+0x143a)){this['_callbackA'+'ctive']['get'](_0xf145c9)===_0x458575&&this['_callbackA'+'ctive']['set'](_0xf145c9,this['_callbackA'+'ctive']['get'](_0xf145c9)['slice']());const _0x2e5cf2=this['_callbacks']['get'](_0xf145c9);if(!_0x2e5cf2)continue;_0x2e5cf2[_0x584982]['removed']=!(0x49e*0x3+-0x1*0x1b30+0x6*0x239),_0x2e5cf2['splice'](_0x584982,-0xb*0x38b+0x1*0x1152+0x2b5*0x8),_0x2e5cf2['length']===0x245c+0x334+0x18*-0x1a6&&this['_callbacks']['delete'](_0xf145c9);}}}return _0x3fecb9||this['_callbackA'+'ctive']['delete'](_0xf145c9),this;}['hasEvent'](_0x5b9d3b){var _0x410cd4;return!!((_0x410cd4=this['_callbacks']['get'](_0x5b9d3b))!=null&&_0x410cd4['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x5d2342,_0x51b64e){if(this['_index'][_0x5d2342])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x5d2342);const _0x290deb=this['_list']['push'](_0x51b64e)-(0x21*-0x1e+-0x1198+-0x9d*-0x23);this['_index'][_0x5d2342]=_0x290deb;}['has'](_0x3ec5d2){return this['_index'][_0x3ec5d2]!==void(-0x179a+-0x12cf+0x2a69);}['get'](_0x901de9){const _0x34d28a=this['_index'][_0x901de9];return _0x34d28a!==void(-0x1626+-0x164f+0x2c75)?this['_list'][_0x34d28a]:null;}['remove'](_0x51fa76){const _0x41a7da=this['_index'][_0x51fa76];if(_0x41a7da!==void(0xbf*-0x18+-0xa5*0x25+-0x29c1*-0x1)){this['_list']['splice'](_0x41a7da,-0x175d*0x1+0x1d18+0x2dd*-0x2),delete this['_index'][_0x51fa76];for(_0x51fa76 in this['_index']){const _0x56509a=this['_index'][_0x51fa76];_0x56509a>_0x41a7da&&(this['_index'][_0x51fa76]=_0x56509a-(-0x403*0x7+0x878+0x139e));}return!(0x935+0x1b2*-0x11+0x139d);}return!(-0x3a*0x9b+0x3*-0x5d7+0x34a4);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x15eb+-0xa6c+-0x3*0x3d5;for(const _0x1a8a83 in this['_index'])delete this['_index'][_0x1a8a83];}}const gS=_0x5787a0=>{const _0x61c20a={};let _0x8c38ee=_0x61c20a;return()=>(_0x8c38ee===_0x61c20a&&(_0x8c38ee=_0x5787a0()),_0x8c38ee);},Ns=class Ns{static['loadScript'](_0x1f83d0,_0x4dbf60){const _0x5471d3=document['createElem'+'ent']('script');_0x5471d3['setAttribu'+'te']('src',_0x1f83d0),_0x5471d3['onload']=()=>{_0x4dbf60(null);},_0x5471d3['onerror']=()=>{_0x4dbf60('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x1f83d0+'\x27');},document['body']['appendChil'+'d'](_0x5471d3);}static['loadWasm'](_0x3839b4,_0x4c0023,_0x1e1371){const _0x28d7a3=Ns['wasmSuppor'+'ted']()&&_0x4c0023['glueUrl']&&_0x4c0023['wasmUrl']?_0x4c0023['glueUrl']:_0x4c0023['fallbackUr'+'l'];_0x28d7a3?Ns['loadScript'](_0x28d7a3,_0x563c02=>{if(_0x563c02)_0x1e1371(_0x563c02,null);else{const _0x394915=window[_0x3839b4];window[_0x3839b4]=void(0x6b*-0x57+-0x172f*-0x1+-0xe*-0xf1),_0x394915({'locateFile':()=>_0x4c0023['wasmUrl'],'onAbort':()=>{_0x1e1371('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x4d45e3=>{_0x1e1371(null,_0x4d45e3);});}}):_0x1e1371('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x399cd3){return Ns['modules']['hasOwnProp'+'erty'](_0x399cd3)||(Ns['modules'][_0x399cd3]={'config':null,'initializing':!(0xd*-0x65+-0x2f9+0x81b),'instance':null,'callbacks':[]}),Ns['modules'][_0x399cd3];}static['initialize'](_0xdba736,_0x39a986){if(_0x39a986['initializi'+'ng'])return;const _0x164982=_0x39a986['config'];(_0x164982['glueUrl']||_0x164982['wasmUrl']||_0x164982['fallbackUr'+'l'])&&(_0x39a986['initializi'+'ng']=!(0x1660+-0x241*0x7+0x699*-0x1),Ns['loadWasm'](_0xdba736,_0x164982,(_0x39b5d5,_0x574a57)=>{_0x39b5d5?_0x164982['errorHandl'+'er']?_0x164982['errorHandl'+'er'](_0x39b5d5):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0xdba736+'\x20error='+_0x39b5d5):(_0x39a986['instance']=_0x574a57,_0x39a986['callbacks']['forEach'](_0x231c60=>{_0x231c60(_0x574a57);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x3fe346=new WebAssembly['Module'](Uint8Array['of'](0x1*0x977+0x1625+0x44*-0x77,-0x1a*0xbc+0x1f*-0x7f+0x5cf*0x6,0x29+-0x24*0x5e+0xd82,0x83*0x1+0x17c*-0x7+0xa4e,-0x82*0xd+0x97f+-0x2e4,-0xe32*-0x1+-0xb9+0xd79*-0x1,-0x5*-0x730+0x513+-0x1*0x2903,0x4e5*-0x2+-0x10*-0x1e+0x7ea));if(_0x3fe346 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x3fe346)instanceof WebAssembly['Instance'];}}catch{}return!(-0x7e9*0x2+0x1*-0x91d+0x13*0x150);}));let Br=Ns;class ay{static['setConfig'](_0x247cbc,_0x546a0a){const _0x299f6e=Br['getModule'](_0x247cbc);_0x299f6e['config']=_0x546a0a,_0x299f6e['callbacks']['length']>0xf4b+-0x15a9+-0x146*-0x5&&Br['initialize'](_0x247cbc,_0x299f6e);}static['getConfig'](_0x1b24f0){var _0x3431cf,_0x2d58ab;return(_0x2d58ab=(_0x3431cf=Br['modules'])==null?void(-0x10a*0x1+-0x762+0x1c*0x4d):_0x3431cf[_0x1b24f0])==null?void(0x20e7+-0x147+0x17*-0x160):_0x2d58ab['config'];}static['getInstanc'+'e'](_0x3935d8,_0x11bb82){const _0x24068c=Br['getModule'](_0x3935d8);_0x24068c['instance']?_0x11bb82(_0x24068c['instance']):(_0x24068c['callbacks']['push'](_0x11bb82),_0x24068c['config']&&Br['initialize'](_0x3935d8,_0x24068c));}}class oy{constructor(_0x3ebd72){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0x24c3+-0x15c9+0x27f*-0x6),(this['arraybuffe'+'r']=_0x3ebd72,this['dataView']=new DataView(_0x3ebd72));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x3aa6a0=0x11fd*0x1+0x1f*0x1e+-0x159f){this['offset']=_0x3aa6a0;}['skip'](_0x4bdf37){this['offset']+=_0x4bdf37;}['align'](_0x3aa161){this['offset']=this['offset']+_0x3aa161-(0xecb+-0x1*0x14bb+0x5f1)&~(_0x3aa161-(0x20dc+-0x3ab*0x7+-0x72e));}['_inc'](_0x40d8d4){return this['offset']+=_0x40d8d4,this['offset']-_0x40d8d4;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x586f0b){let _0x5b2522='';for(let _0x740142=-0x2*0xd91+-0xa5b+0x1c9*0x15;_0x740142<_0x586f0b;++_0x740142)_0x5b2522+=this['readChar']();return _0x5b2522;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x2231+0x1b32+0x1*0x701),!(-0x3*0x695+-0x1a08+-0x2dc7*-0x1));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x15bb+-0x10e8*0x2+-0xb*-0x50d),!(0xef6+0x8db+-0x43*0x5b));}['readU64'](){return this['readU32']()+(0x18*-0x45+0x3c3+0x2b7)**(0x38b+-0x11dd+-0x1*-0xe72)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x1*-0x17b9+-0x216*-0xc+-0x103f*0x3),!(-0x26c3+0x7f*0x1c+0x18e0));}['readArray'](_0x251d25){for(let _0x472b33=0x6f4+0x13b9+-0x1aad;_0x472b33<_0x251d25['length'];++_0x472b33)_0x251d25[_0x472b33]=this['readU8']();}['readLine'](){const _0x18c36c=this['dataView'];let _0xd9873c='';for(;!(this['offset']>=_0x18c36c['byteLength']);){const _0x3e0058=String['fromCharCo'+'de'](this['readU8']());if(_0x3e0058==='\x0a')break;_0xd9873c+=_0x3e0058;}return _0xd9873c;}}class wh{constructor(_0x20ece8){c(this,'items',[]),c(this,'length',0x378+0x1a7+-0x51f),c(this,'loopIndex',-(-0x2*0x10d9+-0x18*0xef+0x381b)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x20ece8['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x283ee4){let _0x8be174=0x1dbf+-0x1fb8+-0x5*-0x65,_0x300280=this['items']['length']-(0x1700+-0x1490+0x26f*-0x1);const _0x37bc5d=_0x283ee4[this['_sortBy']];let _0x145a77,_0x337a48;for(;_0x8be174<=_0x300280;)_0x145a77=Math['floor']((_0x8be174+_0x300280)/(0x1*0x1359+-0x51b*-0x2+-0x59*0x55)),_0x337a48=this['items'][_0x145a77][this['_sortBy']],_0x337a48<=_0x37bc5d?_0x8be174=_0x145a77+(0xfcd+-0x9d8+-0x1*0x5f4):_0x337a48>_0x37bc5d&&(_0x300280=_0x145a77-(0x253c*0x1+0x1604+-0x20b*0x1d));return _0x8be174;}['_doSort'](_0x3926d4,_0x151c3e){const _0x4586fd=this['_sortBy'];return _0x3926d4[_0x4586fd]-_0x151c3e[_0x4586fd];}['insert'](_0x2d5a6d){const _0x4be9ed=this['_binarySea'+'rch'](_0x2d5a6d);this['items']['splice'](_0x4be9ed,0x1ae3+-0x2349+-0x19*-0x56,_0x2d5a6d),this['length']++,this['loopIndex']>=_0x4be9ed&&this['loopIndex']++;}['append'](_0x30c1bc){this['items']['push'](_0x30c1bc),this['length']++;}['remove'](_0x51c3e8){const _0x2cabc1=this['items']['indexOf'](_0x51c3e8);_0x2cabc1<-0x13f7+-0x24c4+0x38bb||(this['items']['splice'](_0x2cabc1,0x5b8+0x6*-0x429+0x133f*0x1),this['length']--,this['loopIndex']>=_0x2cabc1&&this['loopIndex']--);}['sort'](){const _0x58bd57=this['loopIndex']>=-0x4*-0x40d+0x1b94+-0x2bc8?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x58bd57!==null&&(this['loopIndex']=this['items']['indexOf'](_0x58bd57));}}class po extends ce{constructor(_0x548ad4){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x548ad4;}['add'](..._0x2b2698){let _0x3fefb9=!(0x1fd7+-0x5d*0x67+0x595);const _0x3e97fd=this['_processAr'+'guments'](_0x2b2698,!(0x65*0x61+0x7*-0x304+-0x1129));if(!_0x3e97fd['length'])return _0x3fefb9;for(let _0x345e19=0x45*0x6+0xd99+-0xcd*0x13;_0x345e19<_0x3e97fd['length'];_0x345e19++)this['_index'][_0x3e97fd[_0x345e19]]||(_0x3fefb9=!(0x42a+-0x11b7+-0xd8d*-0x1),this['_index'][_0x3e97fd[_0x345e19]]=!(-0x1cf2+-0x10ad+0x3*0xf35),this['_list']['push'](_0x3e97fd[_0x345e19]),this['fire']('add',_0x3e97fd[_0x345e19],this['_parent']));return _0x3fefb9&&this['fire']('change',this['_parent']),_0x3fefb9;}['remove'](..._0x2f931c){let _0x3e8aba=!(0x3b*0x2f+-0x1a4b*-0x1+-0x251f);if(!this['_list']['length'])return _0x3e8aba;const _0x5de506=this['_processAr'+'guments'](_0x2f931c,!(0x23c0+0x71*-0x1a+-0x1*0x1846));if(!_0x5de506['length'])return _0x3e8aba;for(let _0x3c8a9b=0x1602+0x3*-0xbc3+0xd47;_0x3c8a9b<_0x5de506['length'];_0x3c8a9b++)this['_index'][_0x5de506[_0x3c8a9b]]&&(_0x3e8aba=!(0x1818+0x18a1+0x1*-0x30b9),delete this['_index'][_0x5de506[_0x3c8a9b]],this['_list']['splice'](this['_list']['indexOf'](_0x5de506[_0x3c8a9b]),-0x1*-0x989+-0x76d+-0x1*0x21b),this['fire']('remove',_0x5de506[_0x3c8a9b],this['_parent']));return _0x3e8aba&&this['fire']('change',this['_parent']),_0x3e8aba;}['clear'](){if(!this['_list']['length'])return;const _0x3d5208=this['_list']['slice'](-0x172e+0x1d62+-0x634);this['_list']=[],this['_index']={};for(let _0x2c100d=-0x16e*0x13+0x18d4+0x2e*0xd;_0x2c100d<_0x3d5208['length'];_0x2c100d++)this['fire']('remove',_0x3d5208[_0x2c100d],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x112d00){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x112d00)):!(-0x15ae+0x22c9+-0xd1a*0x1);}['_has'](_0x2ae100){if(!this['_list']['length']||!_0x2ae100['length'])return!(-0x1*0x2af+-0x240+0x4f0);for(let _0xd55c87=0x1aec+-0x91*0x2f+0x7*-0xb;_0xd55c87<_0x2ae100['length'];_0xd55c87++)if(_0x2ae100[_0xd55c87]['length']===-0x49*-0x5d+0x16cd+-0x65*0x7d){if(this['_index'][_0x2ae100[_0xd55c87][0x2*0x99f+0x1*-0xb7e+-0xf8*0x8]])return!(0x17d1+0x31f*0x7+-0x2daa);}else{let _0x1005a0=!(-0xa*0x5d+0x232a+0x7e2*-0x4);for(let _0x1d9334=0x1*-0x17b3+0x24e0+-0xd2d;_0x1d9334<_0x2ae100[_0xd55c87]['length'];_0x1d9334++)if(!this['_index'][_0x2ae100[_0xd55c87][_0x1d9334]]){_0x1005a0=!(-0x217c+0x26b+0x1f12);break;}if(_0x1005a0)return!(0x1cb7*-0x1+0x1*-0x2604+-0xb*-0x611);}return!(-0x80e+-0x7*-0x511+-0x1b68);}['list'](){return this['_list']['slice'](-0x13f7+0x1f81+0xd3*-0xe);}['_processAr'+'guments'](_0x49b09e,_0x200d27){const _0x5e972d=[];let _0x1ed7ba=[];if(!_0x49b09e||!_0x49b09e['length'])return _0x5e972d;for(let _0x54ad62=0x1a33*-0x1+0x1b4b+0x23*-0x8;_0x54ad62<_0x49b09e['length'];_0x54ad62++)if(_0x49b09e[_0x54ad62]instanceof Array){_0x200d27||(_0x1ed7ba=[]);for(let _0x5f57b4=-0xb2a+0x1*0x22e7+-0x17bd;_0x5f57b4<_0x49b09e[_0x54ad62]['length'];_0x5f57b4++)typeof _0x49b09e[_0x54ad62][_0x5f57b4]=='string'&&(_0x200d27?_0x5e972d['push'](_0x49b09e[_0x54ad62][_0x5f57b4]):_0x1ed7ba['push'](_0x49b09e[_0x54ad62][_0x5f57b4]));!_0x200d27&&_0x1ed7ba['length']&&_0x5e972d['push'](_0x1ed7ba);}else typeof _0x49b09e[_0x54ad62]=='string'&&(_0x200d27?_0x5e972d['push'](_0x49b09e[_0x54ad62]):_0x5e972d['push']([_0x49b09e[_0x54ad62]]));return _0x5e972d;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x4bf2f0){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x3327de=_0x4bf2f0['match'](yS);this['scheme']=_0x3327de[0x1*0xab5+0x23ae+-0x2e61],this['authority']=_0x3327de[0xf0d+-0x30*0x34+-0x549],this['path']=_0x3327de[-0x1*-0x81b+-0x4bc+-0x35a],this['query']=_0x3327de[0x1926+0xfbf+-0x28de],this['fragment']=_0x3327de[0x2629*0x1+-0x7*-0x46b+-0x450d];}['toString'](){let _0x39f3c4='';return this['scheme']&&(_0x39f3c4+=this['scheme']+':'),this['authority']&&(_0x39f3c4+='//'+this['authority']),_0x39f3c4+=this['path'],this['query']&&(_0x39f3c4+='?'+this['query']),this['fragment']&&(_0x39f3c4+='#'+this['fragment']),_0x39f3c4;}['getQuery'](){const _0x50dc09={};if(this['query']){const _0xa7f972=decodeURIComponent(this['query'])['split']('&');for(const _0x7185d7 of _0xa7f972){const _0x50b1f4=_0x7185d7['split']('=');_0x50dc09[_0x50b1f4[-0x21af+0x2f*0x27+0x2*0xd43]]=_0x50b1f4[-0x15e4+-0x1*-0x223+0x13c2];}}return _0x50dc09;}['setQuery'](_0x5eeebc){let _0x45461d='';for(const _0x51f513 in _0x5eeebc)_0x5eeebc['hasOwnProp'+'erty'](_0x51f513)&&(_0x45461d!==''&&(_0x45461d+='&'),_0x45461d+=encodeURIComponent(_0x51f513)+'='+encodeURIComponent(_0x5eeebc[_0x51f513]));this['query']=_0x45461d;}}const xS=-0x681+-0x45c+0xadd,Df=-0x67*0xd+-0x5de+0xb1a,sm=-0xad3+0x1*0xa29+0x6*0x1d,SS=-0xcb*0x5+-0x981+-0x3*-0x47f,N={'DEG_TO_RAD':Math['PI']/(0x204b*0x1+0x1203+-0x319a),'RAD_TO_DEG':(0xad*0x7+-0x1*-0x2188+-0x258f)/Math['PI'],'clamp'(_0x437bc2,_0x41ebf4,_0x56bf49){return _0x437bc2>=_0x56bf49?_0x56bf49:_0x437bc2<=_0x41ebf4?_0x41ebf4:_0x437bc2;},'intToBytes24'(_0x55b979){const _0x15ea9e=_0x55b979>>0x182d*-0x1+-0x13df+0x2c1c&0x190d+0x1*-0x1dd7+0x1*0x5c9,_0x2f6105=_0x55b979>>0x1a4a+0xd54*-0x2+0x66&0x263e+-0x997*-0x4+-0x4b9b,_0x421b4e=_0x55b979&-0x3c9+0x2b6*0xd+-0x45a*0x7;return[_0x15ea9e,_0x2f6105,_0x421b4e];},'intToBytes32'(_0x31fe44){const _0x177d65=_0x31fe44>>0x21b4+0x31c+-0x24b8&-0x2*0x3aa+0x1d22+-0x14cf,_0x39c8d1=_0x31fe44>>0x2323+0x131*0x7+-0x2b6a&-0x4*0x442+0xe8a+0x37d,_0x3165e1=_0x31fe44>>-0x19b9+0xd*-0x185+-0x5*-0x91a&-0xb61+-0x1095+0x1cf5,_0xb1fa3d=_0x31fe44&0x1fb1+0x322*0x3+-0x2818;return[_0x177d65,_0x39c8d1,_0x3165e1,_0xb1fa3d];},'bytesToInt24'(_0x25b1f8,_0x2b1ce0,_0xae4a40){return _0x25b1f8['length']&&(_0xae4a40=_0x25b1f8[-0x736*-0x4+-0x2ff+-0x7*0x3b1],_0x2b1ce0=_0x25b1f8[0xab1+0xb*-0x1+-0xaa5],_0x25b1f8=_0x25b1f8[0x1e57+-0x1d4+-0x1c83]),_0x25b1f8<<-0x6d7+-0xe5*0x2+0x8b1|_0x2b1ce0<<0xd*0x29f+0x1c1c+-0x7*0x8e1|_0xae4a40;},'bytesToInt32'(_0x5710e6,_0xa9dffd,_0x475e1f,_0x5903c6){return _0x5710e6['length']&&(_0x5903c6=_0x5710e6[0x1*-0x19fd+-0x20e1+0x1*0x3ae1],_0x475e1f=_0x5710e6[-0xbb5+0x1b*0xeb+-0xd12],_0xa9dffd=_0x5710e6[0x1472*0x1+-0x40f*0x4+-0x1*0x435],_0x5710e6=_0x5710e6[-0x486+-0x2520+0x6*0x6f1]),(_0x5710e6<<-0x45*-0x59+0xdc3+-0x4*0x96a|_0xa9dffd<<0x2*-0x104c+0x21d*0xb+0x969|_0x475e1f<<-0x1*0x152c+0x137*0x1+0x13fd|_0x5903c6)>>>-0x1bdc+-0x5*-0x19b+0x13d5;},'lerp'(_0x46b773,_0x1798c3,_0x236f65){return _0x46b773+(_0x1798c3-_0x46b773)*N['clamp'](_0x236f65,0x1444+0x176a+-0x2*0x15d7,0x1*0xac+0x2d*0xc2+-0x22c5);},'lerpAngle'(_0x764ca3,_0x1d3d0a,_0x2c7a0a){return _0x1d3d0a-_0x764ca3>-0x25c7+-0x80b*-0x1+0x3ce*0x8&&(_0x1d3d0a-=-0x625+-0xfe0*-0x2+0x3b*-0x69),_0x1d3d0a-_0x764ca3<-(-0x9f7*0x2+-0x187+0x1629)&&(_0x1d3d0a+=-0x2*0x427+0x974+0x42),N['lerp'](_0x764ca3,_0x1d3d0a,N['clamp'](_0x2c7a0a,-0x8c6*0x2+-0xb63+0x337*0x9,-0x772+0x1144+0x167*-0x7));},'powerOfTwo'(_0x472fd3){return _0x472fd3!==0x2063+0x1682+-0x36e5*0x1&&!(_0x472fd3&_0x472fd3-(0xdb5+-0x1de4+0x1*0x1030));},'nextPowerOfTwo'(_0x1ddd2b){return _0x1ddd2b--,_0x1ddd2b|=_0x1ddd2b>>-0xced*-0x1+-0x3*0xb99+0x15df*0x1,_0x1ddd2b|=_0x1ddd2b>>-0x24ba+-0x215a+0x4616,_0x1ddd2b|=_0x1ddd2b>>-0x1bb*0xd+0x2fe*-0xa+0x346f,_0x1ddd2b|=_0x1ddd2b>>0x1237*0x1+0x26bd+-0x38ec,_0x1ddd2b|=_0x1ddd2b>>0x1*0x2554+0x1f65+-0x44a9,_0x1ddd2b++,_0x1ddd2b;},'nearestPowerOfTwo'(_0x307bf8){return Math['pow'](-0x1710+-0x1*-0x16b3+0x5f,Math['round'](Math['log'](_0x307bf8)/Math['log'](-0x2*0xfe7+-0x2081+0xcdd*0x5)));},'random'(_0x1c0588,_0x5405c3){const _0x5da876=_0x5405c3-_0x1c0588;return Math['random']()*_0x5da876+_0x1c0588;},'smoothstep'(_0x5d70a8,_0x378617,_0x5bbf86){return _0x5bbf86<=_0x5d70a8?-0x1*-0xbaf+-0x15f6+0xa47:_0x5bbf86>=_0x378617?-0x32b*-0x1+-0xf1d+-0x13*-0xa1:(_0x5bbf86=(_0x5bbf86-_0x5d70a8)/(_0x378617-_0x5d70a8),_0x5bbf86*_0x5bbf86*(-0x1*-0xe3a+0x3a0+-0x11d7-(0x9e0+-0x1400+0xa22)*_0x5bbf86));},'smootherstep'(_0x1645e8,_0x12b2ca,_0x49d867){return _0x49d867<=_0x1645e8?-0xa9+-0x21dc+-0x2285*-0x1:_0x49d867>=_0x12b2ca?0x10b8+-0x1d07+-0xc50*-0x1:(_0x49d867=(_0x49d867-_0x1645e8)/(_0x12b2ca-_0x1645e8),_0x49d867*_0x49d867*_0x49d867*(_0x49d867*(_0x49d867*(0x8b*0x3d+-0xb3*0x2e+-0xef*0x1)-(-0x1b5a+-0xb8b*0x1+0x26f4))+(0x1bbd+0xa21+-0x25d4*0x1)));},'roundUp'(_0x59d16d,_0x30e6ca){return _0x30e6ca===-0x2109+0x10e7+0x23*0x76?_0x59d16d:Math['ceil'](_0x59d16d/_0x30e6ca)*_0x30e6ca;},'between'(_0x2d33f6,_0x3612ef,_0x41de52,_0x3ba798){const _0xd70f9c=Math['min'](_0x3612ef,_0x41de52),_0x312533=Math['max'](_0x3612ef,_0x41de52);return _0x3ba798?_0x2d33f6>=_0xd70f9c&&_0x2d33f6<=_0x312533:_0x2d33f6>_0xd70f9c&&_0x2d33f6<_0x312533;}},it=class it{constructor(_0x331623=-0x3*0x2ad+0xd9+0x72e,_0x1715b3=-0x194+-0x1c4*0x4+0x8a4,_0x1b143a=-0x6a1*-0x3+-0x2e*-0x6b+-0x271d,_0x4f9f54=-0x1*-0x4c+0x6c5+-0x710){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x108192=_0x331623['length'];_0x108192===-0x4b1+-0xd3*-0x21+0x167f*-0x1||_0x108192===0x19f2+-0x1*0x4c3+-0x152b?(this['r']=_0x331623[-0x1f31+-0x1*-0xe9b+0x84b*0x2],this['g']=_0x331623[0x1068+-0x2394+0x1*0x132d],this['b']=_0x331623[-0x1*-0x1543+-0xc48*-0x1+0x1*-0x2189],this['a']=_0x331623[-0x10e7+0x6b*-0x20+0x1e4a*0x1]??0xdde*-0x1+0x1f44+-0x1*0x1165):(this['r']=_0x331623,this['g']=_0x1715b3,this['b']=_0x1b143a,this['a']=_0x4f9f54);}['clone'](){const _0x28baf9=this['constructo'+'r'];return new _0x28baf9(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x1b3f4f){return this['r']=_0x1b3f4f['r'],this['g']=_0x1b3f4f['g'],this['b']=_0x1b3f4f['b'],this['a']=_0x1b3f4f['a'],this;}['equals'](_0x188461){return this['r']===_0x188461['r']&&this['g']===_0x188461['g']&&this['b']===_0x188461['b']&&this['a']===_0x188461['a'];}['set'](_0x25bcd1,_0x1d32df,_0x467a0f,_0x2dd0b9=-0x2*-0xe6b+-0xa36*0x2+-0x869){return this['r']=_0x25bcd1,this['g']=_0x1d32df,this['b']=_0x467a0f,this['a']=_0x2dd0b9,this;}['lerp'](_0x31b6a3,_0x4a5c40,_0x514299){return this['r']=_0x31b6a3['r']+_0x514299*(_0x4a5c40['r']-_0x31b6a3['r']),this['g']=_0x31b6a3['g']+_0x514299*(_0x4a5c40['g']-_0x31b6a3['g']),this['b']=_0x31b6a3['b']+_0x514299*(_0x4a5c40['b']-_0x31b6a3['b']),this['a']=_0x31b6a3['a']+_0x514299*(_0x4a5c40['a']-_0x31b6a3['a']),this;}['linear'](_0x2d172d=this){return this['r']=Math['pow'](_0x2d172d['r'],-0x1be8+0x4*0x36c+0xe3a+0.20000000000000018),this['g']=Math['pow'](_0x2d172d['g'],-0x3*0x33+-0x1*0x6c7+-0x276*-0x3+0.20000000000000018),this['b']=Math['pow'](_0x2d172d['b'],-0x649+0x1a6d+0x1422*-0x1+0.20000000000000018),this['a']=_0x2d172d['a'],this;}['gamma'](_0x49270c=this){return this['r']=Math['pow'](_0x49270c['r'],(0x1*-0x263a+-0x1849+-0x4*-0xfa1)/(-0x11*-0x146+-0x1660+-0xbc*-0x1+0.20000000000000018)),this['g']=Math['pow'](_0x49270c['g'],(-0x1ae4*-0x1+0x2e*0x95+-0x35a9)/(-0x1*-0x1d99+-0x1*0x1b62+-0x235+0.20000000000000018)),this['b']=Math['pow'](_0x49270c['b'],(0xc75*-0x2+-0xf69+0x1*0x2854)/(-0x1181+0xa7e+0x705*0x1+0.20000000000000018)),this['a']=_0x49270c['a'],this;}['mulScalar'](_0x275bd7){return this['r']*=_0x275bd7,this['g']*=_0x275bd7,this['b']*=_0x275bd7,this;}['fromString'](_0x287f8c){const _0x1c3e0e=parseInt(_0x287f8c['replace']('#','0x'),-0x8*-0xb0+0x1*0x1119+-0x1689);let _0x3913c4;return _0x287f8c['length']>0x1f*0xda+0x1f20+-0x397f?_0x3913c4=N['intToBytes'+'32'](_0x1c3e0e):(_0x3913c4=N['intToBytes'+'24'](_0x1c3e0e),_0x3913c4[0x28f*0x1+0x1173+-0x1*0x13ff]=0x16b0+-0xb*-0xf+0x772*-0x3),this['set'](_0x3913c4[-0x1ac3+0x1d79+-0x2b6]/(0x679*0x1+-0xb*0x13+0x4a9*-0x1),_0x3913c4[0x1671+0x1ce+-0x183e]/(0x50d*-0x5+-0x1*-0x255a+0x58d*-0x2),_0x3913c4[-0x234a+-0x1487+-0x1cd*-0x1f]/(0x1bb8+0x90*0x1f+0x2c29*-0x1),_0x3913c4[0x1*-0x11a6+-0x6e5*-0x1+0xac4]/(0x1356+-0x11*-0x11+0x8*-0x26f)),this;}['fromArray'](_0x48ffbd,_0x1d6162=-0x10*0x218+0x437*-0x1+0x25b7*0x1){return this['r']=_0x48ffbd[_0x1d6162]??this['r'],this['g']=_0x48ffbd[_0x1d6162+(0x57*-0x48+-0xb05+-0x11bf*-0x2)]??this['g'],this['b']=_0x48ffbd[_0x1d6162+(-0xfaf+0x1d4d*0x1+0x367*-0x4)]??this['b'],this['a']=_0x48ffbd[_0x1d6162+(0x1*0x1af+-0x16ec+0x1540)]??this['a'],this;}['toString'](_0x42dddd,_0x477c31){const {r:_0x68157c,g:_0x3f8ed3,b:_0x2b3431,a:_0x28c54d}=this;if(_0x477c31||_0x68157c>0x1*0x12db+-0x134*-0x1b+-0x3356||_0x3f8ed3>0x28*0xaf+0xf72+-0x2ac9||_0x2b3431>-0x23*-0x10e+-0x338+-0x19*0x159)return _0x68157c['toFixed'](-0x5*0x2f9+-0x18d4+0x27b4)+',\x20'+_0x3f8ed3['toFixed'](0x1e1d+0x1b15+-0x392f)+',\x20'+_0x2b3431['toFixed'](0x22c1+0x9c6+-0x25*0x134)+',\x20'+_0x28c54d['toFixed'](-0x1*0xf29+0x1*0x1c22+-0x15*0x9e);let _0x4293fd='#'+((-0x1156+-0x20f0+-0x3d*-0xd3<<0x1998+-0x3e8*-0x5+0x106*-0x2c)+(Math['round'](_0x68157c*(-0xa*-0x10a+0x176a+-0x20cf))<<0x2381+0x11bf+-0x3530)+(Math['round'](_0x3f8ed3*(0x43*-0x7+0x7d1*-0x2+0x2*0x93b))<<0x18a8+0x737+-0x21*0xf7)+Math['round'](_0x2b3431*(-0x2b*-0x83+0xc9d*0x1+-0x219f)))['toString'](0x22a6+0x5*-0x52f+-0x8ab)['slice'](0x1776+0xb1b*0x2+-0x1*0x2dab);if(_0x42dddd===!(-0x1857+0x1*-0xce7+-0x1*-0x253e)){const _0x1d2086=Math['round'](_0x28c54d*(-0x14a7+-0x1*-0x1c42+-0x1a7*0x4))['toString'](0x186b+0x226e+-0x3ac9);this['a']<(0x7*-0xbb+-0x270+0x79d)/(0x1*-0x1ea7+0xb*-0x1cd+0x3375)?_0x4293fd+='0'+_0x1d2086:_0x4293fd+=_0x1d2086;}return _0x4293fd;}['toArray'](_0xe34763=[],_0x924c16=0x10aa+-0x3*-0x709+-0x25c5,_0x345e4e=!(-0x12bd+-0xb*-0x2bd+-0xb62)){return _0xe34763[_0x924c16]=this['r'],_0xe34763[_0x924c16+(0x446+0x2ad+-0x6f2)]=this['g'],_0xe34763[_0x924c16+(0xfd0+0x6c3*-0x2+-0x124*0x2)]=this['b'],_0x345e4e&&(_0xe34763[_0x924c16+(-0xc6c+-0x1*-0x1c3b+-0xfcc)]=this['a']),_0xe34763;}};c(it,'BLACK',Object['freeze'](new it(-0x20af+0x7*-0x5c+0x1*0x2333,0x1a86+-0x35f*-0x3+-0x24a3,0xa85*0x1+0x92*-0x3d+0x817*0x3,-0x2522+0x1110+-0x23b*-0x9))),c(it,'BLUE',Object['freeze'](new it(0xf43+-0x184e+0x90b,0x864+0x20c5+-0x29*0x101,-0x2204+-0x409+0x1*0x260e,0x210+0x197f+-0x1b8e))),c(it,'CYAN',Object['freeze'](new it(-0x1673*0x1+0x86*0xd+0xfa5,0x22bd+-0x17ea+-0xad2,0x65*0x4d+-0x1*-0x3b+0x1e9b*-0x1,0x1fe4+-0x19*0x18f+-0x25c*-0x3))),c(it,'GRAY',Object['freeze'](new it(-0xffe+-0x124f+0x1*0x224d+0.5,0xb5*0xd+-0x115*-0x8+-0x11d9+0.5,-0x1af9+0x3db+0x1*0x171e+0.5,0x1*0x269b+-0x11cf*0x1+-0x14cb))),c(it,'GREEN',Object['freeze'](new it(0x699+0x121*0x1+0x3dd*-0x2,0x1244+0x13a9+-0x25ec,0xc5d+-0x1267+0x60a,0x1*0x54a+0x25a0+-0x2ae9))),c(it,'MAGENTA',Object['freeze'](new it(-0x2*-0x788+0xba2+-0x1ab1,0x1f68+-0x7*0x179+-0x1*0x1519,-0x3*-0x759+0x72d*0x5+-0x39eb,0x1*0xc47+0xb6*0x1+-0x2*0x67e))),c(it,'RED',Object['freeze'](new it(-0x2646+0x18e6+0xd61,-0x208+0xa36+0x82e*-0x1,0x1b01+0x29*0x2b+-0x21e4,-0x2b*0xa1+-0x2*0x4fd+0x2506))),c(it,'WHITE',Object['freeze'](new it(0xfe0+0xa21*-0x2+0x463,0x1e0f+0x18d*0x6+-0x275c,-0x1*-0x353+-0xd79+0xa27,0x12ac+-0x2e+-0x1*0x127d))),c(it,'YELLOW',Object['freeze'](new it(-0x1*-0x16cd+0x419+-0x1b*0xff,0x2663+-0x12e*-0x4+0x4ca*-0x9,0x3*0x349+0x1df*0x13+0x1*-0x2d68,0x20ef+-0x12e6+-0xe08)));let Y=it;class ly{constructor(_0x16ed49,_0x8b96b5=0x373*0x8+-0x1ded+0x255){c(this,'_curve'),c(this,'_left',-(0x20d8+-0x2b3+-0x1e24)/(-0x22*-0x4d+0x147d*0x1+0x3*-0xa3d)),c(this,'_right',(0x5ab*-0x1+0x3c*0x75+-0x15c0)/(0x8*0x39a+0x1703+-0x33d3*0x1)),c(this,'_recip',0xacd+-0x7ed+-0x2e0),c(this,'_p0',0x422*-0x9+-0x2e7*-0xd+0x1*-0x89),c(this,'_p1',-0x19d3*-0x1+0x1f3a+-0x390d),c(this,'_m0',0x1b72+0x4e7*-0x1+0x1d*-0xc7),c(this,'_m1',-0x2263+0x37e*-0xb+0x48cd*0x1),(this['_curve']=_0x16ed49,this['_reset'](_0x8b96b5));}['evaluate'](_0x11d6e7,_0x27d7b7=!(0x406+0xb68+-0xf6d)){(_0x27d7b7||_0x11d6e7<this['_left']||_0x11d6e7>=this['_right'])&&this['_reset'](_0x11d6e7);let _0x34d70d;const _0x228793=this['_curve']['type'];if(_0x228793===SS)_0x34d70d=this['_p0'];else{const _0x2c2024=this['_recip']===0x15cd+0x6df*-0x1+-0xeee?0x21dc+0x1*0x1401+0x1*-0x35dd:(_0x11d6e7-this['_left'])*this['_recip'];_0x228793===xS?_0x34d70d=N['lerp'](this['_p0'],this['_p1'],_0x2c2024):_0x228793===Df?_0x34d70d=N['lerp'](this['_p0'],this['_p1'],_0x2c2024*_0x2c2024*(0x7*0x3d6+-0x1c9b+-0x1*-0x1c4-(0x93+0x1c50+0x1ce1*-0x1)*_0x2c2024)):_0x34d70d=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x2c2024);}return _0x34d70d;}['_reset'](_0x18f38f){const _0xf5d1e7=this['_curve']['keys'],_0x3ae914=_0xf5d1e7['length'];if(!_0x3ae914)this['_left']=-(-0x1a0a+0x9*0x259+0x4ea)/(0x1*0x18bc+0xb6e+-0x242a),this['_right']=(-0x2634+0x1d24+0x911)/(-0x1051+-0xb05+-0x2*-0xdab),this['_recip']=-0x1920+0xd5a+0x112*0xb,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x22*0x4a+0xb3*-0x35+-0x1b3b*-0x1;else{if(_0x18f38f<_0xf5d1e7[-0x2540+-0xfac+-0x1*-0x34ec][-0x916*-0x2+0xd99*0x1+0xa97*-0x3])this['_left']=-(0x6a*-0x55+0x4*0x517+0xed7)/(0x2*0x885+0x1*0x14c8+-0x25d2),this['_right']=_0xf5d1e7[0x161b*0x1+0x1f12+-0x352d][-0x1f7c+-0x4b1*0x1+0x405*0x9],this['_recip']=0x6*0x47b+0x23b*-0x1+0x18a7*-0x1,this['_p0']=this['_p1']=_0xf5d1e7[-0xd33+-0x14b0+0x21e3][0x1aab+-0x766*-0x2+0x3*-0xdd2],this['_m0']=this['_m1']=-0x3*-0x815+0xbeb+-0x242a;else{if(_0x18f38f>=_0xf5d1e7[_0x3ae914-(0x63a+0xf47*-0x1+0x90e)][-0x1ab*0x17+-0x13b4+0x3a11])this['_left']=_0xf5d1e7[_0x3ae914-(-0x1cd7+0x8*-0x1bf+0x2ad0)][0x2403+-0x485*0x1+0x1d*-0x116],this['_right']=(-0x597+-0x5e4+0xb7c)/(-0x14b7+-0x96d+-0x1e24*-0x1),this['_recip']=-0x149c*-0x1+0x255+-0x347*0x7,this['_p0']=this['_p1']=_0xf5d1e7[_0x3ae914-(0x9b*0xb+-0x1*-0x2263+0x13*-0x229)][-0x1480+-0x269e+0x3f1*0xf],this['_m0']=this['_m1']=0x7*-0x3+0x1a3*-0x15+-0x113a*-0x2;else{let _0x252229=0xfc2*-0x1+-0x30*-0x73+-0x5ce;for(;_0x18f38f>=_0xf5d1e7[_0x252229+(0xab8*0x1+0x219c+0x2c53*-0x1)][0x388*-0x7+0x2*0x8bd+0x73e];)_0x252229++;this['_left']=_0xf5d1e7[_0x252229][0x20b8+0x15dc+0xe*-0x3e6],this['_right']=_0xf5d1e7[_0x252229+(-0x1866+0x18d3+-0x6c)][0xf15+-0x17d5+0x8c0];const _0xea7d73=(-0x2*0xe2c+-0x1680+0x32d9)/(this['_right']-this['_left']);this['_recip']=isFinite(_0xea7d73)?_0xea7d73:0x1fe+-0x1c85+-0x1*-0x1a87,this['_p0']=_0xf5d1e7[_0x252229][-0x22e2+-0xa*0x3e6+-0x1*-0x49df],this['_p1']=_0xf5d1e7[_0x252229+(-0x256a+-0x73f+0x2caa)][0x13b4+0x11c+-0x14cf],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0xf5d1e7,_0x252229);}}}}['_calcTange'+'nts'](_0x159513,_0x4195bd){let _0x10742f;const _0x16539e=_0x159513[_0x4195bd],_0x4ebf02=_0x159513[_0x4195bd+(-0x2*-0x74f+-0x35*0x59+-0x7a*-0x8)];let _0x59da09;if(_0x4195bd===-0x2212+0x164d+-0x83*-0x17?_0x10742f=[_0x159513[-0x3*-0x895+-0x325*0x5+0x2*-0x503][-0xe*0x79+0xc21+-0x583*0x1]+(_0x159513[-0xc4*0x1e+0x14*0x27+0x13ec][-0xf*-0x102+0x1*0x185+-0x10a3*0x1]-_0x159513[0x1*0x5e9+-0x1004+0xa1c][0xa91*0x3+0xa5f*0x2+-0x3471]),_0x159513[0x1*0x1f95+0x611*0x4+0x1*-0x37d9][-0x126*0x7+-0x23*-0x45+-0xb2*0x2]+(_0x159513[-0x2608+0x2007+0x601*0x1][-0x2430+-0xb28*-0x1+0x1909]-_0x159513[-0x2*-0xfc9+-0x1d5*-0x1+0xbe*-0x2d][0x1*-0x15b1+-0x1*0x1f02+0x34b4])]:_0x10742f=_0x159513[_0x4195bd-(-0x1eee+-0x11fa+0x30e9)],_0x4195bd===_0x159513['length']-(-0xee9*-0x2+-0x4e2*0x1+-0x18ee*0x1)?_0x59da09=[_0x159513[_0x4195bd+(0x2*0x3df+-0x1028+-0x5*-0x1af)][0x1912*-0x1+0x2210+0x47f*-0x2]+(_0x159513[_0x4195bd+(0xd*0x1d+-0x2701+0x2589)][-0x11*-0x31+0x25dd+-0x291e]-_0x159513[_0x4195bd][0x2025+0x1859+-0x387e]),_0x159513[_0x4195bd+(-0x92b+0x5df+0x1*0x34d)][-0x11e5*-0x1+0x2f*0x76+-0x2*0x13c7]+(_0x159513[_0x4195bd+(0x5*0x37c+-0x38d*-0xb+-0x387a)][0x1447+0x21bd+-0x3603]-_0x159513[_0x4195bd][-0x76c+-0x13e*-0x17+-0x1525])]:_0x59da09=_0x159513[_0x4195bd+(-0x1d1a+-0x1df0+0x3b0c)],this['_curve']['type']===sm){const _0x6724dc=(0x4c*-0xd+-0xa02+0xde0)*(_0x4ebf02[-0x1*-0x373+-0x419+0x1*0xa6]-_0x16539e[-0xa6e+0x2328+-0x18ba])/(_0x4ebf02[-0x8*-0x21e+-0x2*-0xe23+0x169b*-0x2]-_0x10742f[0x17a7+0x281+0x6c*-0x3e]),_0x53d75b=(-0x23da*0x1+-0x223a+0x4616)*(_0x4ebf02[-0x2f*0xa7+-0x1362+0x17*0x22d]-_0x16539e[-0x13*0x167+0x1*-0x1345+-0x16f5*-0x2])/(_0x59da09[0x1985+-0x196*0x16+0x95f]-_0x16539e[0x9*-0x14e+-0x21f3+0x15*0x22d]);this['_m0']=this['_curve']['tension']*(isFinite(_0x6724dc)?_0x6724dc:0x1d5d+-0x1e4a+-0x1*-0xed)*(_0x4ebf02[0x1283+-0x1*0x35f+0x9b*-0x19]-_0x10742f[0x2637*0x1+-0x10*0xcf+-0x1946]),this['_m1']=this['_curve']['tension']*(isFinite(_0x53d75b)?_0x53d75b:-0xf34+-0x11a5+0x1*0x20d9)*(_0x59da09[0x1220+-0xe98+0x12d*-0x3]-_0x16539e[-0x1f01+0x2546+-0x644]);}else{const _0x28faf9=(_0x4ebf02[-0x2fa+-0x785+0xa7f*0x1]-_0x16539e[0x5b7*0x1+0x2651+0x4*-0xb02])/(_0x16539e[0x1*-0x2644+-0x1*-0xbb9+-0x1*-0x1a8b]-_0x10742f[0x245a*-0x1+-0x368+0x2*0x13e1]),_0xc9e14f=(_0x4ebf02[-0x45*-0x11+0x102e+-0x5*0x427]-_0x16539e[-0x1278*-0x2+0x10*0x16f+-0x3be0])/(_0x59da09[-0x575*-0x2+0x515*-0x7+0x18a9]-_0x4ebf02[-0x2d7*0x7+0x1bca+-0x51*0x19]),_0x1de59d=_0x16539e[0x98d+0x214b+-0x2ad7]+(_0x10742f[-0x16e2+-0x205c+0x373f*0x1]-_0x16539e[-0x14ba+0x2*0x8c3+0x335])*(isFinite(_0x28faf9)?_0x28faf9:0x20ed*0x1+-0x39+-0x20b4),_0x5724a0=_0x4ebf02[-0x1*-0x1079+0x775+-0xf5*0x19]+(_0x59da09[-0x1*0x13d5+-0x1884+0x2*0x162d]-_0x4ebf02[0x77*0x46+-0x2454+0x1*0x3cb])*(isFinite(_0xc9e14f)?_0xc9e14f:0x98*-0x30+-0x257e*0x1+0x20ff*0x2),_0x4c90c7=this['_curve']['tension'];this['_m0']=_0x4c90c7*(_0x4ebf02[0x1*-0x1a7b+0x25*-0xdd+0x3a6d]-_0x1de59d),this['_m1']=_0x4c90c7*(_0x5724a0-_0x16539e[-0x1102+0xad9*-0x1+0x1bdc]);}}['_evaluateH'+'ermite'](_0x4567e3,_0xf6fa7e,_0x390016,_0x19fa26,_0x5ee951){const _0x42a49e=_0x5ee951*_0x5ee951,_0x8c0bf1=_0x5ee951+_0x5ee951,_0x1f7c58=0x1*0x1203+0x1151+0x1*-0x2353-_0x5ee951,_0x3a8a34=_0x1f7c58*_0x1f7c58;return _0x4567e3*((-0xe*-0x19f+0x8f6+0x1fa7*-0x1+_0x8c0bf1)*_0x3a8a34)+_0x390016*(_0x5ee951*_0x3a8a34)+_0xf6fa7e*(_0x42a49e*(-0x4e*0x5+-0x2a7+0x10c*0x4-_0x8c0bf1))+_0x19fa26*(_0x42a49e*(_0x5ee951-(0x1*-0xe53+0x2*0xad2+-0x750)));}}class Cs{constructor(_0x16c2d6){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x18de+-0x11*-0x137+-0xd*-0x53+0.5),c(this,'_eval',new ly(this));if(_0x16c2d6){for(let _0x2c9621=-0x1c5a+-0x1*-0x25a+0x68*0x40;_0x2c9621<_0x16c2d6['length']-(0x1*0x1669+-0x2645+-0xfdd*-0x1);_0x2c9621+=-0x1*0x1751+-0x1803+-0x1*-0x2f56)this['keys']['push']([_0x16c2d6[_0x2c9621],_0x16c2d6[_0x2c9621+(-0x1fd*-0xb+0x1237*-0x1+-0x3a7)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x1d19e6,_0x106ce1){const _0x2c44d9=this['keys'],_0x34168a=_0x2c44d9['length'];let _0x160ed6=0x5*0x16a+-0x1fa3+0x1891;for(;_0x160ed6<_0x34168a&&!(_0x2c44d9[_0x160ed6][-0x2018+0x9*-0x15+-0x1*-0x20d5]>_0x1d19e6);_0x160ed6++);const _0x3ab822=[_0x1d19e6,_0x106ce1];return this['keys']['splice'](_0x160ed6,0x236e+-0x197d+0x9f1*-0x1,_0x3ab822),_0x3ab822;}['get'](_0x401ba4){return this['keys'][_0x401ba4];}['sort'](){this['keys']['sort']((_0x5c09f0,_0x30e07f)=>_0x5c09f0[-0xf92+0x274+0x68f*0x2]-_0x30e07f[-0x3*-0xcae+-0x17e6+0x4*-0x389]);}['value'](_0x184968){return this['_eval']['evaluate'](_0x184968,!(-0x128b*-0x1+-0x1d53*-0x1+-0x2*0x17ef));}['closest'](_0x248c5d){const _0x2e1546=this['keys'],_0xdd0509=_0x2e1546['length'];let _0x3e1be8=0x2276+0x1371+0x3f*-0xdb,_0x51f51a=null;for(let _0x3fa3f5=-0x8*0x39e+0x10c7*0x1+0xc29;_0x3fa3f5<_0xdd0509;_0x3fa3f5++){const _0x2d70d1=Math['abs'](_0x248c5d-_0x2e1546[_0x3fa3f5][0xa*-0x2c5+0x12fe+0x8b4*0x1]);if(_0x3e1be8>=_0x2d70d1)_0x3e1be8=_0x2d70d1,_0x51f51a=_0x2e1546[_0x3fa3f5];else break;}return _0x51f51a;}['clone'](){const _0x21bec5=new this['constructo'+'r']();return _0x21bec5['keys']=this['keys']['map'](_0x194a91=>[..._0x194a91]),_0x21bec5['type']=this['type'],_0x21bec5['tension']=this['tension'],_0x21bec5;}['quantize'](_0x571490){_0x571490=Math['max'](_0x571490,-0x1*0x214a+-0x83*-0x1d+0x1275);const _0x3715e9=new Float32Array(_0x571490),_0x3737ee=(-0x1bf7*-0x1+-0x3bf+-0x1837)/(_0x571490-(-0x2cd+0x1a9*-0x8+0x1016));_0x3715e9[0x9ad+-0x2565*0x1+0x1*0x1bb8]=this['_eval']['evaluate'](0x113*-0x4+-0x1*0x404+0x38*0x26,!(0xab6+0x13*0x168+0x1*-0x256e));for(let _0x3c242f=-0xa44+0x1*0x15a6+-0xb61;_0x3c242f<_0x571490;_0x3c242f++)_0x3715e9[_0x3c242f]=this['_eval']['evaluate'](_0x3737ee*_0x3c242f);return _0x3715e9;}['quantizeCl'+'amped'](_0x4142d8,_0xdcd9d3,_0x4aa083){const _0x505c8f=this['quantize'](_0x4142d8);for(let _0x5b343f=-0x64b+0x1b63+-0x1518;_0x5b343f<_0x505c8f['length'];++_0x5b343f)_0x505c8f[_0x5b343f]=Math['min'](_0x4aa083,Math['max'](_0xdcd9d3,_0x505c8f[_0x5b343f]));return _0x505c8f;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>0x206c+-0x1*0x8ce+-0x179d){for(let _0x4d19dd=-0x2108+0x1675+0x1*0xa93;_0x4d19dd<arguments['length'];_0x4d19dd++)this['curves']['push'](new Cs(arguments[_0x4d19dd]));}else{if(arguments['length']===0x160f+0xaa+-0x793*0x3)this['curves']['push'](new Cs());else{const _0x4942e5=arguments[-0x1*-0xe6d+0x12d*-0x6+-0x1*0x75f];if(typeof _0x4942e5=='number'){for(let _0x25a607=0x22e9+0x1537+0x382*-0x10;_0x25a607<_0x4942e5;_0x25a607++)this['curves']['push'](new Cs());}else{for(let _0x207eae=0x52*0x53+0xa*0x3d0+-0x40b6;_0x207eae<_0x4942e5['length'];_0x207eae++)this['curves']['push'](new Cs(_0x4942e5[_0x207eae]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x27ff9a){this['_type']=_0x27ff9a;for(let _0x387ed3=-0x2280+-0x3da+-0x1*-0x265a;_0x387ed3<this['curves']['length'];_0x387ed3++)this['curves'][_0x387ed3]['type']=_0x27ff9a;}get['type'](){return this['_type'];}['get'](_0x371dd6){return this['curves'][_0x371dd6];}['value'](_0x1ae2fe,_0x22206d=[]){const _0x15c610=this['curves']['length'];_0x22206d['length']=_0x15c610;for(let _0x1d90f4=0x22af+0x2384+-0x1*0x4633;_0x1d90f4<_0x15c610;_0x1d90f4++)_0x22206d[_0x1d90f4]=this['curves'][_0x1d90f4]['value'](_0x1ae2fe);return _0x22206d;}['clone'](){const _0x3ae615=new this['constructo'+'r']();_0x3ae615['curves']=[];for(let _0x227b54=0x1e39+0x1*-0x89f+-0x1*0x159a;_0x227b54<this['curves']['length'];_0x227b54++)_0x3ae615['curves']['push'](this['curves'][_0x227b54]['clone']());return _0x3ae615['_type']=this['_type'],_0x3ae615;}['quantize'](_0x545182){_0x545182=Math['max'](_0x545182,0x6*-0x5b3+-0x1*0x1ed5+0x4109);const _0x5cda02=this['curves']['length'],_0x24d7e9=new Float32Array(_0x545182*_0x5cda02),_0x327a4c=(0x2*-0xd53+0x19d0+0xd7)/(_0x545182-(-0x9c4*0x1+0xd87+-0x1e1*0x2));for(let _0x345888=0x244*-0x4+0xe5c+-0x1*0x54c;_0x345888<_0x5cda02;_0x345888++){const _0x43d488=new ly(this['curves'][_0x345888]);for(let _0x3b43dc=0x25ce*-0x1+-0x1ed6+0x2252*0x2;_0x3b43dc<_0x545182;_0x3b43dc++)_0x24d7e9[_0x3b43dc*_0x5cda02+_0x345888]=_0x43d488['evaluate'](_0x327a4c*_0x3b43dc);}return _0x24d7e9;}['quantizeCl'+'amped'](_0x28ebd0,_0x10c5dc,_0xdc6be){const _0x1ead3a=this['quantize'](_0x28ebd0);for(let _0x52f0b5=0x25a9+-0x33d+-0x226c;_0x52f0b5<_0x1ead3a['length'];++_0x52f0b5)_0x1ead3a[_0x52f0b5]=Math['min'](_0xdc6be,Math['max'](_0x10c5dc,_0x1ead3a[_0x52f0b5]));return _0x1ead3a;}}let im=0x159*0xb+0xa84+-0x1cf*0xe;const id=(-0x3*0x22+-0x1a51+0x48*0x5f)/(-0xab4+-0x41f*-0x2+-0x1*-0x375),du=new Float32Array(0x15b*0x1a+0x153*-0x5+-0x1c9e),rm=new Int32Array(du['buffer']);class Wt{static['float2Half'](_0x6ad514){du[-0x1*0x2205+-0x4*-0x955+-0x7*0x79]=_0x6ad514;const _0x3ca537=rm[0xb*0x298+-0x13*-0x1fd+-0x424f];let _0x56471a=_0x3ca537>>-0x138+0x4f*0x7+0xe1*-0x1&-0xb84e+0x2fab+0x25*0x727,_0x36ed30=_0x3ca537>>-0x22cb+0x503*0x3+0x13ce&-0x11*0xda+0x5*-0x4f+0x1804;const _0x47b00f=_0x3ca537>>0x2*-0x74f+0x1c*0xfb+-0x1*0xcbf&-0x3*-0xc+-0x1334+0x140f;return _0x47b00f<0x910+0x1e0+-0xa89?_0x56471a:_0x47b00f>-0x218b+-0x1eed+-0x2*-0x2083?(_0x56471a|=0xb*-0x1115+-0xe365+0x21b4c,_0x56471a|=(_0x47b00f===0x10e2+0x58f*0x1+-0x393*0x6?-0x1acc+0x109*-0x17+0x329b:-0xc04+0x1*0x517+0x6ee)&&_0x3ca537&-0x3525d0*0x4+0x1*0xf33ad3+0x615c6c,_0x56471a):_0x47b00f<0x11b1+-0x1c52+-0xda*-0xd?(_0x36ed30|=0x1039*-0x1+-0x19bb+0x31f4,_0x56471a|=(_0x36ed30>>0xced+-0x1c59+0xfde-_0x47b00f)+(_0x36ed30>>-0x508+-0x2006*0x1+0x257f-_0x47b00f&-0x1e2e+-0x1ddb+-0x6a*-0x91),_0x56471a):(_0x56471a|=_0x47b00f-(0x1dc6+-0x111c+-0xc3a*0x1)<<0x50f*-0x7+-0x127*0x1+0x249a|_0x36ed30>>0x1882*0x1+-0x72f*0x3+-0x2f4,_0x56471a+=_0x36ed30&0x1840+-0xf1*0x3+-0x156c,_0x56471a);}static['float2Byte'+'s'](_0x3417ab,_0x2e7d67,_0x5ea9a3,_0x1eee7c){const _0x4cf663=(0x10*-0x189+-0x87d+0x1106*0x2)*_0x3417ab%(-0x1ac0+-0x1d49+0x380a);if(_0x2e7d67[_0x5ea9a3+(0x205f+-0x21f*-0x11+-0x446e)]=Math['round']((_0x3417ab%(-0x458*-0x7+-0x1f*-0x13c+-0x44ab*0x1)-id*_0x4cf663)*(0x1bb*0x11+-0x1*-0x725+-0x2391)),_0x1eee7c>0x2*-0x1234+0x4c7+0x1fa2){const _0x11643c=(0x1733e+-0x1d062+-0x73b7*-0x3)*_0x3417ab%(0xe72+-0x240f+0x159e);if(_0x2e7d67[_0x5ea9a3+(0x203+0x1*-0x2a7+-0x1*-0xa5)]=Math['round']((_0x4cf663-id*_0x11643c)*(-0xe38+0x4c*-0x15+0x1573)),_0x1eee7c>0x48d*-0x2+-0x93+0x9af){const _0x2c2c7d=(-0x1721917*-0x1+-0xd4be2e+0x6608a*0xf)*_0x3417ab%(-0x20*0x2a+0x29*0xb9+-0x50*0x4e);_0x2e7d67[_0x5ea9a3+(-0xec9+-0x1f55*0x1+0x18*0x1ec)]=Math['round']((_0x11643c-id*_0x2c2c7d)*(0x121f*0x2+-0x1*-0x57+0x2396*-0x1)),_0x1eee7c>0x4*0x673+0x757*0x2+-0x3*0xd7d&&(_0x2e7d67[_0x5ea9a3+(0x3*0x8e1+-0x234a+0x8aa)]=Math['round'](_0x2c2c7d*(0xc47+0x116a+-0x2*0xe59)));}}}static['float2Byte'+'sRange'](_0x183dea,_0x1f7961,_0x310e67,_0x5e57ae,_0x229110,_0x5b567c){(_0x183dea<_0x5e57ae||_0x183dea>_0x229110)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x183dea=N['clamp']((_0x183dea-_0x5e57ae)/(_0x229110-_0x5e57ae),0x15*-0x163+0x7fb+-0x1ec*-0xb,-0x1*-0x1cb8+0x56e*-0x1+-0x1749),Wt['float2Byte'+'s'](_0x183dea,_0x1f7961,_0x310e67,_0x5b567c);}static['float2RGBA'+'8'](_0x58ef78,_0x125b66){du[0x114c+0xd5b*0x1+-0x1ea7]=_0x58ef78;const _0x1c020b=rm[0x16*0x43+-0xf09+-0x19*-0x5f];_0x125b66['r']=(_0x1c020b>>-0x213+0x484*-0x1+0x6af&-0x139b+0x4cd+0xfcd)/(-0x1b1a+0x4*0x87b+0x47*-0x15),_0x125b66['g']=(_0x1c020b>>0x13*0x155+-0x1769+-0x1d6*0x1&0x9*-0x21f+0x1*0x377+-0xb9*-0x17)/(-0x1*-0x2456+0xd6d+0x1*-0x30c4),_0x125b66['b']=(_0x1c020b>>0x19b6+-0x125*0x1b+-0x1*-0x539&0x20aa+-0x10fc+-0x3*0x4e5)/(-0x23d4+0x1f*-0x137+0x4a7c),_0x125b66['a']=(_0x1c020b&-0x5*-0x67+-0xd07+0xc03)/(-0x498+0x2ab+0x2*0x176);}}const rt=class rt{constructor(_0x5ef57b=0x255*0x8+0x10ed+0x2395*-0x1,_0x4610c8=0xee9+-0x100*0x7+-0x19*0x51,_0x5e4b5e=0x9*0x1e9+0xe1f+0x6*-0x538){c(this,'x'),c(this,'y'),c(this,'z'),_0x5ef57b['length']===0x6d7+0x4e*-0x55+0x1312?(this['x']=_0x5ef57b[0xdf4+-0x2*0x383+-0x6ee],this['y']=_0x5ef57b[-0x153a+0x1d23+0x1fa*-0x4],this['z']=_0x5ef57b[0x5*0x60d+0x410+0x1*-0x224f]):(this['x']=_0x5ef57b,this['y']=_0x4610c8,this['z']=_0x5e4b5e);}['add'](_0x5b6bc){return this['x']+=_0x5b6bc['x'],this['y']+=_0x5b6bc['y'],this['z']+=_0x5b6bc['z'],this;}['add2'](_0x27159c,_0x11268a){return this['x']=_0x27159c['x']+_0x11268a['x'],this['y']=_0x27159c['y']+_0x11268a['y'],this['z']=_0x27159c['z']+_0x11268a['z'],this;}['addScalar'](_0x1fc0fe){return this['x']+=_0x1fc0fe,this['y']+=_0x1fc0fe,this['z']+=_0x1fc0fe,this;}['addScaled'](_0x13c7f0,_0x474f7d){return this['x']+=_0x13c7f0['x']*_0x474f7d,this['y']+=_0x13c7f0['y']*_0x474f7d,this['z']+=_0x13c7f0['z']*_0x474f7d,this;}['clone'](){const _0x54ea85=this['constructo'+'r'];return new _0x54ea85(this['x'],this['y'],this['z']);}['copy'](_0x527243){return this['x']=_0x527243['x'],this['y']=_0x527243['y'],this['z']=_0x527243['z'],this;}['cross'](_0x5ec939,_0x47fab5){const _0x52955f=_0x5ec939['x'],_0x184446=_0x5ec939['y'],_0x58deeb=_0x5ec939['z'],_0xa3a644=_0x47fab5['x'],_0x3a35f4=_0x47fab5['y'],_0x51fa53=_0x47fab5['z'];return this['x']=_0x184446*_0x51fa53-_0x3a35f4*_0x58deeb,this['y']=_0x58deeb*_0xa3a644-_0x51fa53*_0x52955f,this['z']=_0x52955f*_0x3a35f4-_0xa3a644*_0x184446,this;}['distance'](_0x23debe){const _0x39a7fe=this['x']-_0x23debe['x'],_0x2b7a97=this['y']-_0x23debe['y'],_0x5ac6d0=this['z']-_0x23debe['z'];return Math['sqrt'](_0x39a7fe*_0x39a7fe+_0x2b7a97*_0x2b7a97+_0x5ac6d0*_0x5ac6d0);}['div'](_0x100a83){return this['x']/=_0x100a83['x'],this['y']/=_0x100a83['y'],this['z']/=_0x100a83['z'],this;}['div2'](_0x54dbc6,_0x1df477){return this['x']=_0x54dbc6['x']/_0x1df477['x'],this['y']=_0x54dbc6['y']/_0x1df477['y'],this['z']=_0x54dbc6['z']/_0x1df477['z'],this;}['divScalar'](_0x4e0090){return this['x']/=_0x4e0090,this['y']/=_0x4e0090,this['z']/=_0x4e0090,this;}['dot'](_0x49bc2f){return this['x']*_0x49bc2f['x']+this['y']*_0x49bc2f['y']+this['z']*_0x49bc2f['z'];}['equals'](_0x58457b){return this['x']===_0x58457b['x']&&this['y']===_0x58457b['y']&&this['z']===_0x58457b['z'];}['equalsAppr'+'ox'](_0x162298,_0x4218da=-0x557*0x1+-0x2333*0x1+0x288a+0.000001){return Math['abs'](this['x']-_0x162298['x'])<_0x4218da&&Math['abs'](this['y']-_0x162298['y'])<_0x4218da&&Math['abs'](this['z']-_0x162298['z'])<_0x4218da;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x45ad31,_0x420582,_0x1f5e82){return this['x']=_0x45ad31['x']+_0x1f5e82*(_0x420582['x']-_0x45ad31['x']),this['y']=_0x45ad31['y']+_0x1f5e82*(_0x420582['y']-_0x45ad31['y']),this['z']=_0x45ad31['z']+_0x1f5e82*(_0x420582['z']-_0x45ad31['z']),this;}['mul'](_0x3dd017){return this['x']*=_0x3dd017['x'],this['y']*=_0x3dd017['y'],this['z']*=_0x3dd017['z'],this;}['mul2'](_0x588132,_0x104200){return this['x']=_0x588132['x']*_0x104200['x'],this['y']=_0x588132['y']*_0x104200['y'],this['z']=_0x588132['z']*_0x104200['z'],this;}['mulScalar'](_0xa11b27){return this['x']*=_0xa11b27,this['y']*=_0xa11b27,this['z']*=_0xa11b27,this;}['normalize'](_0x13df65=this){const _0x43f8f3=_0x13df65['x']*_0x13df65['x']+_0x13df65['y']*_0x13df65['y']+_0x13df65['z']*_0x13df65['z'];if(_0x43f8f3>-0x422*0x3+0x1*0x24bb+-0x1*0x1855){const _0xb10e8=(-0x16e2+0x5a7*0x2+0xb95)/Math['sqrt'](_0x43f8f3);this['x']=_0x13df65['x']*_0xb10e8,this['y']=_0x13df65['y']*_0xb10e8,this['z']=_0x13df65['z']*_0xb10e8;}return this;}['floor'](_0x4dfa8c=this){return this['x']=Math['floor'](_0x4dfa8c['x']),this['y']=Math['floor'](_0x4dfa8c['y']),this['z']=Math['floor'](_0x4dfa8c['z']),this;}['ceil'](_0x4f85ec=this){return this['x']=Math['ceil'](_0x4f85ec['x']),this['y']=Math['ceil'](_0x4f85ec['y']),this['z']=Math['ceil'](_0x4f85ec['z']),this;}['round'](_0x1ad40d=this){return this['x']=Math['round'](_0x1ad40d['x']),this['y']=Math['round'](_0x1ad40d['y']),this['z']=Math['round'](_0x1ad40d['z']),this;}['min'](_0x909e26){return _0x909e26['x']<this['x']&&(this['x']=_0x909e26['x']),_0x909e26['y']<this['y']&&(this['y']=_0x909e26['y']),_0x909e26['z']<this['z']&&(this['z']=_0x909e26['z']),this;}['max'](_0x28c26a){return _0x28c26a['x']>this['x']&&(this['x']=_0x28c26a['x']),_0x28c26a['y']>this['y']&&(this['y']=_0x28c26a['y']),_0x28c26a['z']>this['z']&&(this['z']=_0x28c26a['z']),this;}['project'](_0x512f2e){const _0x270649=this['x']*_0x512f2e['x']+this['y']*_0x512f2e['y']+this['z']*_0x512f2e['z'],_0xec7324=_0x512f2e['x']*_0x512f2e['x']+_0x512f2e['y']*_0x512f2e['y']+_0x512f2e['z']*_0x512f2e['z'],_0x38b5f5=_0x270649/_0xec7324;return this['x']=_0x512f2e['x']*_0x38b5f5,this['y']=_0x512f2e['y']*_0x38b5f5,this['z']=_0x512f2e['z']*_0x38b5f5,this;}['set'](_0x574298,_0x2db336,_0x3149f0){return this['x']=_0x574298,this['y']=_0x2db336,this['z']=_0x3149f0,this;}['sub'](_0x32c4e6){return this['x']-=_0x32c4e6['x'],this['y']-=_0x32c4e6['y'],this['z']-=_0x32c4e6['z'],this;}['sub2'](_0x393b6b,_0x479ffb){return this['x']=_0x393b6b['x']-_0x479ffb['x'],this['y']=_0x393b6b['y']-_0x479ffb['y'],this['z']=_0x393b6b['z']-_0x479ffb['z'],this;}['subScalar'](_0x1ca957){return this['x']-=_0x1ca957,this['y']-=_0x1ca957,this['z']-=_0x1ca957,this;}['fromArray'](_0x1df3bb,_0x488d22=0x795*-0x1+0x143f+-0xcaa){return this['x']=_0x1df3bb[_0x488d22]??this['x'],this['y']=_0x1df3bb[_0x488d22+(0x1254+-0x121d*-0x1+0x91c*-0x4)]??this['y'],this['z']=_0x1df3bb[_0x488d22+(-0x1*0x1218+0x1c7f+0x3*-0x377)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x2d1cf7=[],_0x455b94=0x4b*0x63+0x5b6*0x2+-0x286d){return _0x2d1cf7[_0x455b94]=this['x'],_0x2d1cf7[_0x455b94+(0x1*-0xa99+0x2016+0x1*-0x157c)]=this['y'],_0x2d1cf7[_0x455b94+(0x3d5*0x5+-0xed8+-0x44f)]=this['z'],_0x2d1cf7;}};c(rt,'ZERO',Object['freeze'](new rt(-0x136c+-0x8*-0x1f1+0x3e4,-0x222*-0x3+0x1acd*0x1+0x2133*-0x1,-0x1ccd*-0x1+-0x1e8e+0x1c1))),c(rt,'HALF',Object['freeze'](new rt(0x3*-0x17+0x64d*-0x6+0x2613+0.5,-0x4b*-0x5d+-0x194*0x5+-0x135b+0.5,-0x9*0x2f9+-0x54a+0x200b+0.5))),c(rt,'ONE',Object['freeze'](new rt(0x5a*-0x13+-0x7*-0x4ea+-0x1*0x1bb7,-0x128+-0x1186+0x12af,-0x655*0x4+0x336+-0x161f*-0x1))),c(rt,'UP',Object['freeze'](new rt(0x1296+0x1d34+-0x2fca,-0x23a1+-0xebf+0x1*0x3261,-0x5c*0x62+0x7a*-0x14+0x2cc0))),c(rt,'DOWN',Object['freeze'](new rt(-0x2*-0x81+0x6b*-0x10+0x5ae,-(0x16a*0x2+0xc3e+-0xf11),0x745*-0x1+-0x228d+0x29d2))),c(rt,'RIGHT',Object['freeze'](new rt(0x179d+-0x384+-0x1418,0x1074+0x208b*0x1+-0x6f*0x71,0x23b*0x3+0x1994+-0x2045))),c(rt,'LEFT',Object['freeze'](new rt(-(0x7c7+0xe+0xa7*-0xc),-0x23ef*-0x1+0xe0*0x6+-0x292f*0x1,0xf8d*-0x1+0x2*0x2b0+0xa2d*0x1))),c(rt,'FORWARD',Object['freeze'](new rt(0x13a+-0x12ee*-0x2+-0x2716,-0x5*0x68+-0x3*0xc95+0x27c7,-(0x17ee*-0x1+-0x25aa+-0x3d99*-0x1)))),c(rt,'BACK',Object['freeze'](new rt(-0x1*0x153d+0x8*-0x412+0x3*0x11ef,-0x16a7+-0x13e+0x17e5,-0xa11*-0x3+0x1eaf+-0x3*0x144b)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(0x203a+0x44f*-0x4+0x223*-0x7)),this['data'][-0x2*-0x667+-0x10f*0x5+0x783*-0x1]=this['data'][-0x147d+0x1beb+-0x76a]=this['data'][-0x1fbb*0x1+0xf1*0x16+0xb0d]=0xa*0xda+0x1da2+-0x2625;}['clone'](){const _0x21ab5c=this['constructo'+'r'];return new _0x21ab5c()['copy'](this);}['copy'](_0x343fb2){const _0x3e6a10=_0x343fb2['data'],_0x498038=this['data'];return _0x498038[-0x258a+-0x3*0x335+0x2f29]=_0x3e6a10[0x3*-0x6a2+-0xd*0x23e+0x56*0x92],_0x498038[-0x1b3a+-0x5e*0x37+0x2f6d]=_0x3e6a10[0x45a*-0x7+-0x25b*-0x1+0x202*0xe],_0x498038[-0x15c*0x15+0x17*-0xd9+0x300d]=_0x3e6a10[-0x101*-0x24+0x226+-0x2648],_0x498038[0x1526+-0x8*-0x3d1+-0x33ab]=_0x3e6a10[-0x1b39+0x716+-0x2*-0xa13],_0x498038[-0x116c+0x1ddc+-0xc6c]=_0x3e6a10[0x1*0xd6c+0xe0f+-0x1*0x1b77],_0x498038[-0x20b3+-0xe3*-0x11+-0x11a5*-0x1]=_0x3e6a10[-0x33*-0x2c+0x25d*0xd+-0x2778],_0x498038[-0x2396+-0x644*0x2+0x3024]=_0x3e6a10[-0x1*0x21ea+0x1b95*0x1+0x65b*0x1],_0x498038[-0x44*-0x31+-0xb4f+-0x1ae]=_0x3e6a10[-0xab*0x2+-0x57*-0x2+-0x19*-0x7],_0x498038[0x1c9e+-0x170e+-0x588]=_0x3e6a10[0xd13*0x1+-0x1a66*-0x1+-0x2771],this;}['set'](_0x3f9157){const _0x52a150=this['data'];return _0x52a150[-0x1*0x6f+0x17a1+-0x1732]=_0x3f9157[0x15+0x3bb*0x1+0xf4*-0x4],_0x52a150[0x18f*-0x1+-0x209d+-0x222d*-0x1]=_0x3f9157[-0x1*-0x805+0x974+-0x1178],_0x52a150[0xfe*0x1b+0x4b9+0x64d*-0x5]=_0x3f9157[0x1caf+0xf27+-0x2bd4],_0x52a150[-0x2e*-0xd3+-0x1cb*0x1+0x4*-0x907]=_0x3f9157[-0x1523*-0x1+-0x1cff+0x7df],_0x52a150[0xc3e*-0x1+-0x1*-0x1327+-0x6e5]=_0x3f9157[-0x1d8f+0xf1*0x1+0x1ca2],_0x52a150[0x1914+-0x1842+-0xcd]=_0x3f9157[0x22d5+0xa74+0x2*-0x16a2],_0x52a150[-0x2*-0x31c+-0x3*0xc0e+-0x89*-0x38]=_0x3f9157[0x146d+0x2*-0xc01+-0xd*-0x47],_0x52a150[0x1*-0x676+-0x46*0x31+0x13e3]=_0x3f9157[0x74b+0xb*-0x1cc+0xc80],_0x52a150[0x2b*-0xc4+-0x261c+0x4710]=_0x3f9157[0x54*-0xf+0x1b7e+-0x1*0x168a],this;}['getX'](_0x3c2acb=new T()){return _0x3c2acb['set'](this['data'][-0x1*0x219+-0xba*0x4+0x501],this['data'][0x5*-0x751+0x2008+0x48e],this['data'][-0x2*0x1094+-0x295*-0x2+0x1c00]);}['getY'](_0x32ee02=new T()){return _0x32ee02['set'](this['data'][-0x1*0x1f6c+-0x13a5+0x3314],this['data'][-0x2637+-0x3b*0x6d+0x3f5a],this['data'][-0x135e+-0x211b+-0x347e*-0x1]);}['getZ'](_0x3b3cb8=new T()){return _0x3b3cb8['set'](this['data'][0x1fbb+0x511*0x3+-0x2ee8],this['data'][-0x1a1+0x2*-0x64d+-0x19*-0x92],this['data'][0x2*-0xa13+0xbf5*0x2+-0x3bc]);}['equals'](_0x5d130c){const _0x579e00=this['data'],_0x39d21f=_0x5d130c['data'];return _0x579e00[-0x2*-0xcd6+-0x1278*0x2+0x2d1*0x4]===_0x39d21f[0x1115+0x1*0x1177+-0x84*0x43]&&_0x579e00[-0x182c+0xd97*0x2+0x301*-0x1]===_0x39d21f[-0x1c9*0x5+-0x220c+-0x1*-0x2afa]&&_0x579e00[-0x1*-0xbc+0xb*0x2fc+-0x218e]===_0x39d21f[-0x103d+-0x1*0x1005+-0x674*-0x5]&&_0x579e00[0x19ed+0x1fec+-0x39d6]===_0x39d21f[-0x23f5+0x1be*0x6+0x11c*0x17]&&_0x579e00[-0x79a*0x1+0x238e+0x6fc*-0x4]===_0x39d21f[0x496*-0x8+-0x2185+-0x1*-0x4639]&&_0x579e00[0x21c3+0x24b8+-0x4676]===_0x39d21f[0x11e6+-0x1a20+-0x83f*-0x1]&&_0x579e00[-0x1*-0x1ce1+-0xd34+-0xfa7*0x1]===_0x39d21f[-0x170f+-0x787+-0x7a7*-0x4]&&_0x579e00[0x10bf+0x8*-0x24b+0x8*0x34]===_0x39d21f[0x1f23+0x1*0x8cb+0x2d*-0xe3]&&_0x579e00[0x16d3*0x1+-0x1*-0xb9b+0xe*-0x275]===_0x39d21f[-0x8d2*0x3+-0x656+0x835*0x4];}['isIdentity'](){const _0x27f98a=this['data'];return _0x27f98a[-0x10cf+0x8b0+0xb*0xbd]===-0x7ec+-0x1f38+0x2725&&_0x27f98a[-0x12d*0x21+-0x2*-0x333+0x2068]===0x25a0*0x1+0x1eda+-0x447a*0x1&&_0x27f98a[-0x145b+-0xc01*0x1+0x205e]===0x2*-0x7a7+-0xef1+0x1e3f&&_0x27f98a[0x382+-0x2531*-0x1+-0x150*0x1f]===-0x13a*0xb+0x183c+-0xa*0x113&&_0x27f98a[-0xe79+0x9e4+0x499]===-0x1d35*0x1+0x1d42+-0xc&&_0x27f98a[0x243d*0x1+-0x32f+0x2109*-0x1]===-0x6df*-0x4+-0xb2c+-0x1050&&_0x27f98a[-0x1df*0x7+-0x4*-0x569+0x1*-0x885]===0x3*-0xb65+-0x2*0xc20+0x3a6f&&_0x27f98a[-0x2111+-0x4a9*0x7+-0x1*-0x41b7]===0x31*-0x6b+-0x1d67+0x31e2&&_0x27f98a[-0x3d*0x92+0x1226+0x10ac]===0x2a+0xf65+-0xf8e;}['setIdentit'+'y'](){const _0x30e7b5=this['data'];return _0x30e7b5[0x163d+0x4*0x65f+-0x1*0x2fb9]=-0xd*-0x1d+0x2252+0x5f7*-0x6,_0x30e7b5[0x3ab*0x1+0x20ad+-0x2457*0x1]=0x2414*0x1+-0x1767*0x1+0x37*-0x3b,_0x30e7b5[0xd4a*0x2+0x1*0x1fe6+-0x2*0x1d3c]=0x1*0xdd3+0x10ae*0x1+-0x1e81,_0x30e7b5[0x1*0x174b+0x9bb+0x139*-0x1b]=-0x1aad+0x2*0x2ef+-0x14cf*-0x1,_0x30e7b5[-0x1*-0x1e0b+-0x1ba+-0x73*0x3f]=-0x5eb+-0x171c+0x1d08,_0x30e7b5[0x2*-0xf0d+0x17be+0x661]=0x29*0xeb+-0x24bf+-0xe4,_0x30e7b5[-0x979+-0x3a*0xa9+0x2fc9]=0x2*0x899+-0x29*-0x59+0x53*-0x61,_0x30e7b5[0x465+0x15f*-0x5+0x27d]=-0x253f+0x1*0x1615+0xf2a,_0x30e7b5[0x1a03+-0x86+0x7*-0x3a3]=0x1*0x13f6+-0x394+-0x1061*0x1,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0xa6169=this){const _0x356b71=_0xa6169['data'],_0x551a7c=this['data'];if(_0x356b71===_0x551a7c){let _0x2201af;_0x2201af=_0x356b71[0x1*0x1a8+0x1625+-0x17cc],_0x551a7c[0x1391*0x1+-0x8f5+-0xa9b]=_0x356b71[0x1*0x1952+-0x12e*-0x18+-0x359f],_0x551a7c[0x220*0xf+-0x4*0x1fd+-0x17e9]=_0x2201af,_0x2201af=_0x356b71[-0x25f*0x6+0x1f86+0x8a5*-0x2],_0x551a7c[-0x223*0x5+-0x18c7+0x2378]=_0x356b71[-0x3*-0x87c+0x17c9+-0x3137],_0x551a7c[0x5*0x376+-0x1240+0xf8]=_0x2201af,_0x2201af=_0x356b71[-0xcb0+0x52*0x1+0xc63],_0x551a7c[0x150a+-0x112e+-0x3d7]=_0x356b71[-0x1ce2+-0x1c0e+0x3*0x12fd],_0x551a7c[-0x21c1+0x316+0x1eb2]=_0x2201af;}else _0x551a7c[0x814+0x2131*-0x1+0x85f*0x3]=_0x356b71[-0xa57+0x2565+-0x1b0e],_0x551a7c[-0x1*-0x7df+-0xba7*-0x2+0x17c*-0x15]=_0x356b71[0x468*0x5+0x14be+-0x10b*0x29],_0x551a7c[-0x2*0xe4e+0x20*-0x127+-0xca*-0x53]=_0x356b71[-0x11a8+0xd5c+0x452],_0x551a7c[0x1261+-0x1c9*0x1+-0x1095]=_0x356b71[0x1e34+-0x39e+-0x1a95],_0x551a7c[0x1*-0x174e+0x8*0x36d+0x1*-0x416]=_0x356b71[0x1613*-0x1+-0x13*0x77+0x7bb*0x4],_0x551a7c[-0x2*-0x8+-0x11c5+0x11ba]=_0x356b71[-0x2*-0x9e3+0x7ca*0x2+-0x2353],_0x551a7c[-0x26e0+0x158*-0x19+0x487e]=_0x356b71[-0x15aa+-0x1*-0x76+0x21f*0xa],_0x551a7c[0x25c2*-0x1+0x3*-0x5cb+0x372a*0x1]=_0x356b71[-0x22c2+-0xa56+0x2d1d*0x1],_0x551a7c[0x2*-0xb1b+-0x15f3+0x2c31]=_0x356b71[0x18d*-0x19+-0x4e3*-0x1+0x21ea];return this;}['setFromMat'+'4'](_0x141fd2){const _0x43c06c=_0x141fd2['data'],_0x13d6b0=this['data'];return _0x13d6b0[0x1*0x173d+0x201d*0x1+-0x375a]=_0x43c06c[-0x28*-0x6a+-0x3f1+-0x3*0x435],_0x13d6b0[0x75b*-0x5+-0x1338+-0x1c*-0x200]=_0x43c06c[-0x1db*0x13+0x2*-0xca3+0x3c88],_0x13d6b0[0x159e+-0x26cb*-0x1+0x2f*-0x149]=_0x43c06c[-0x12f1+0x60b+0xce8],_0x13d6b0[0x3*-0x547+-0xc2*-0x15+-0x1*0x12]=_0x43c06c[-0x1*-0x1703+-0xad5+-0xc2a],_0x13d6b0[0x1*0x195e+-0x2213+-0x7*-0x13f]=_0x43c06c[-0x1eaf*-0x1+-0x496*-0x4+-0x3102],_0x13d6b0[0x94f*-0x1+0x17*0x81+0xc1*-0x3]=_0x43c06c[0x1e75+0xb8c+0x29fb*-0x1],_0x13d6b0[-0x1*0x2400+0x3*0x89d+0xb*0xed]=_0x43c06c[0x25*0x1d+0x13d*0x7+-0x1*0xcd4],_0x13d6b0[-0x2009+-0x221b+0x422b]=_0x43c06c[-0x1721+0x25b4+-0xe8a],_0x13d6b0[-0x1*-0x7ac+0x1a2b*0x1+0x6c3*-0x5]=_0x43c06c[0x1b96+-0x1*-0x252b+0x1*-0x40b7],this;}['setFromQua'+'t'](_0x1359b7){const _0x19c65d=_0x1359b7['x'],_0xa1719e=_0x1359b7['y'],_0x24026c=_0x1359b7['z'],_0x5352e0=_0x1359b7['w'],_0x58e103=_0x19c65d+_0x19c65d,_0xa4a699=_0xa1719e+_0xa1719e,_0x2feeac=_0x24026c+_0x24026c,_0x3da716=_0x19c65d*_0x58e103,_0x46dcab=_0x19c65d*_0xa4a699,_0x4decee=_0x19c65d*_0x2feeac,_0x136061=_0xa1719e*_0xa4a699,_0x1bad67=_0xa1719e*_0x2feeac,_0x38dc40=_0x24026c*_0x2feeac,_0x13ce60=_0x5352e0*_0x58e103,_0x3ebdb9=_0x5352e0*_0xa4a699,_0x1b1c5f=_0x5352e0*_0x2feeac,_0x3804ca=this['data'];return _0x3804ca[-0x1e2f+-0xbf5+0x6*0x706]=0x2c8+-0x5ab+0xa*0x4a-(_0x136061+_0x38dc40),_0x3804ca[-0x119c+0x1fee+-0x2dd*0x5]=_0x46dcab+_0x1b1c5f,_0x3804ca[0xe22+-0x1*-0x1f97+0x1*-0x2db7]=_0x4decee-_0x3ebdb9,_0x3804ca[0xd*0xbc+-0x21d6+0x184d]=_0x46dcab-_0x1b1c5f,_0x3804ca[0x1dae*-0x1+-0xd3*0x1f+0x373f]=-0x1*0x2593+0x1e0b+0x1*0x789-(_0x3da716+_0x38dc40),_0x3804ca[-0x1e90+-0x2d3+0x2168]=_0x1bad67+_0x13ce60,_0x3804ca[0x1*-0x45e+0xa7*-0xb+0xb91]=_0x4decee+_0x3ebdb9,_0x3804ca[-0xca*-0x13+0xea*-0x16+-0x1*-0x525]=_0x1bad67-_0x13ce60,_0x3804ca[0x1*0x96b+-0x2*-0x38f+-0x41*0x41]=0x3b3*0x2+-0x381+-0x3e4-(_0x3da716+_0x136061),this;}['invertMat4'](_0x5349c2){const _0x1bfa5e=_0x5349c2['data'],_0x56e6cf=_0x1bfa5e[-0x23cf+0x72e+0x1*0x1ca1],_0x20e430=_0x1bfa5e[-0x1a97+0x1*-0xdaf+0x15*0x1eb],_0x440256=_0x1bfa5e[0xca0+-0x24cc+-0x182e*-0x1],_0x29ff25=_0x1bfa5e[0x114+-0x1a1d*-0x1+-0x1b2d*0x1],_0x5e721d=_0x1bfa5e[-0x1e55+0xc*0x32b+-0x147*0x6],_0x348810=_0x1bfa5e[-0x294+0x1*0xfad+-0xd13*0x1],_0x4e90cf=_0x1bfa5e[0x2*0xc82+0x3*0xafe+-0x39f6],_0x2650b0=_0x1bfa5e[-0x8a4+-0x1*-0x1d68+-0x14bb],_0x28a456=_0x1bfa5e[0x7*0x7+-0x1*-0xcdb+-0xd02],_0x507208=_0x28a456*_0x5e721d-_0x348810*_0x2650b0,_0x2b30a9=-_0x28a456*_0x20e430+_0x440256*_0x2650b0,_0x32b2f1=_0x348810*_0x20e430-_0x440256*_0x5e721d,_0xaf7739=-_0x28a456*_0x29ff25+_0x348810*_0x4e90cf,_0x213573=_0x28a456*_0x56e6cf-_0x440256*_0x4e90cf,_0xf4aae4=-_0x348810*_0x56e6cf+_0x440256*_0x29ff25,_0x50884b=_0x2650b0*_0x29ff25-_0x5e721d*_0x4e90cf,_0x1875ce=-_0x2650b0*_0x56e6cf+_0x20e430*_0x4e90cf,_0x371e45=_0x5e721d*_0x56e6cf-_0x20e430*_0x29ff25,_0x451505=_0x56e6cf*_0x507208+_0x20e430*_0xaf7739+_0x440256*_0x50884b;if(_0x451505===0x171f*0x1+0xabf*-0x1+-0xc60)this['setIdentit'+'y']();else{const _0x32adf9=(-0x11*0x95+-0xb13+0x14f9)/_0x451505,_0x1c88ef=this['data'];_0x1c88ef[0x2*-0x66a+0x30a+0x9ca]=_0x507208*_0x32adf9,_0x1c88ef[0x341*-0x3+0xe0a+0x1*-0x446]=_0x2b30a9*_0x32adf9,_0x1c88ef[0x1*-0xd4f+0x1*0x129a+-0x7b*0xb]=_0x32b2f1*_0x32adf9,_0x1c88ef[-0x5ab*0x1+-0x26a0+0x2c4e]=_0xaf7739*_0x32adf9,_0x1c88ef[-0x2256+-0x2*-0xccb+-0xb*-0xcc]=_0x213573*_0x32adf9,_0x1c88ef[0x25*0x6b+0x7*-0x509+0x13cd]=_0xf4aae4*_0x32adf9,_0x1c88ef[-0x1*-0xa6a+0x1*-0x1ffa+0x266*0x9]=_0x50884b*_0x32adf9,_0x1c88ef[-0x960+-0xfe+0xa65*0x1]=_0x1875ce*_0x32adf9,_0x1c88ef[-0x232+-0x1*-0x8b1+0x677*-0x1]=_0x371e45*_0x32adf9;}return this;}['transformV'+'ector'](_0x26d94c,_0x315517=new T()){const _0x4f52ac=this['data'],{x:_0x51c78d,y:_0x4d5518,z:_0x561971}=_0x26d94c;return _0x315517['x']=_0x51c78d*_0x4f52ac[-0x266a*-0x1+0x2350+-0x49ba]+_0x4d5518*_0x4f52ac[0x1620+0x1cbf+-0x32dc]+_0x561971*_0x4f52ac[0x1900+0xffc*-0x1+-0x1*0x8fe],_0x315517['y']=_0x51c78d*_0x4f52ac[-0x1121+-0x56*-0x20+0x662]+_0x4d5518*_0x4f52ac[-0x1*-0x2157+0x1*-0xb5+-0x209e]+_0x561971*_0x4f52ac[-0x17*-0x12e+0x48e+-0x1fa9],_0x315517['z']=_0x51c78d*_0x4f52ac[0x793*-0x2+-0x1*-0x20ef+-0x11c7]+_0x4d5518*_0x4f52ac[-0x140f+-0x427*-0x2+-0x112*-0xb]+_0x561971*_0x4f52ac[-0x5*0x14c+0x6f4*-0x1+0xd78],_0x315517;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([0x150b*0x1+-0x1130+-0x3db,0x757*0x1+-0x3*-0xab7+-0x277c,0x370*0x4+-0x26e3+0x2d*0x8f,-0x322*0x1+-0x4*-0x641+-0x15e2,0x8f*0x3d+-0x2340+0x12d,-0x1617+0x2*-0x1333+-0x13*-0x32f,0x2*-0x494+-0x1fca+0x3*0xda6,0x1daa+-0x1fa5*-0x1+-0x49*0xd7,0x446*-0x1+0x167+0x2df])));let js=na;const wt=class wt{constructor(_0x4263f4=0x262+0xad6+-0x24*0x5e,_0x489195=0x7*-0x333+-0x6d0+-0x1d35*-0x1){c(this,'x'),c(this,'y'),_0x4263f4['length']===-0x227f+0x1f*-0x47+0x72f*0x6?(this['x']=_0x4263f4[0x1*-0xb47+-0x1*-0x15cb+-0xa84],this['y']=_0x4263f4[-0xb2a+0xb83*0x2+-0xbdb]):(this['x']=_0x4263f4,this['y']=_0x489195);}['add'](_0x1ae778){return this['x']+=_0x1ae778['x'],this['y']+=_0x1ae778['y'],this;}['add2'](_0x4f112b,_0x1db6d6){return this['x']=_0x4f112b['x']+_0x1db6d6['x'],this['y']=_0x4f112b['y']+_0x1db6d6['y'],this;}['addScalar'](_0x3d87b4){return this['x']+=_0x3d87b4,this['y']+=_0x3d87b4,this;}['addScaled'](_0x342443,_0x1a3542){return this['x']+=_0x342443['x']*_0x1a3542,this['y']+=_0x342443['y']*_0x1a3542,this;}['clone'](){const _0x163d8c=this['constructo'+'r'];return new _0x163d8c(this['x'],this['y']);}['copy'](_0x16e2fb){return this['x']=_0x16e2fb['x'],this['y']=_0x16e2fb['y'],this;}['cross'](_0x44882e){return this['x']*_0x44882e['y']-this['y']*_0x44882e['x'];}['distance'](_0x3c36f2){const _0x9136c7=this['x']-_0x3c36f2['x'],_0x283022=this['y']-_0x3c36f2['y'];return Math['sqrt'](_0x9136c7*_0x9136c7+_0x283022*_0x283022);}['div'](_0x303a65){return this['x']/=_0x303a65['x'],this['y']/=_0x303a65['y'],this;}['div2'](_0x98cf39,_0x3e737b){return this['x']=_0x98cf39['x']/_0x3e737b['x'],this['y']=_0x98cf39['y']/_0x3e737b['y'],this;}['divScalar'](_0x177f32){return this['x']/=_0x177f32,this['y']/=_0x177f32,this;}['dot'](_0xe47588){return this['x']*_0xe47588['x']+this['y']*_0xe47588['y'];}['equals'](_0x5e9f24){return this['x']===_0x5e9f24['x']&&this['y']===_0x5e9f24['y'];}['equalsAppr'+'ox'](_0x1e1c85,_0x4cf052=0x254f+-0x1*-0x1c81+-0x41d0+0.000001){return Math['abs'](this['x']-_0x1e1c85['x'])<_0x4cf052&&Math['abs'](this['y']-_0x1e1c85['y'])<_0x4cf052;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x316388,_0x55ff26,_0x4b17be){return this['x']=_0x316388['x']+_0x4b17be*(_0x55ff26['x']-_0x316388['x']),this['y']=_0x316388['y']+_0x4b17be*(_0x55ff26['y']-_0x316388['y']),this;}['mul'](_0x29fde8){return this['x']*=_0x29fde8['x'],this['y']*=_0x29fde8['y'],this;}['mul2'](_0x522366,_0x2e1a8b){return this['x']=_0x522366['x']*_0x2e1a8b['x'],this['y']=_0x522366['y']*_0x2e1a8b['y'],this;}['mulScalar'](_0x387ec0){return this['x']*=_0x387ec0,this['y']*=_0x387ec0,this;}['normalize'](_0x512fce=this){const _0x3b137b=_0x512fce['x']*_0x512fce['x']+_0x512fce['y']*_0x512fce['y'];if(_0x3b137b>0x2c0*-0xd+0x5*-0x657+0x4373){const _0xac7cc7=(0x2e*-0xa7+-0xcd6*-0x3+-0x5*0x1b3)/Math['sqrt'](_0x3b137b);this['x']=_0x512fce['x']*_0xac7cc7,this['y']=_0x512fce['y']*_0xac7cc7;}return this;}['rotate'](_0x37b1d3){const _0x301b30=Math['atan2'](this['x'],this['y'])+_0x37b1d3*N['DEG_TO_RAD'],_0x25cb37=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x301b30)*_0x25cb37,this['y']=Math['cos'](_0x301b30)*_0x25cb37,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x20d441){return Math['atan2'](this['x']*_0x20d441['y']+this['y']*_0x20d441['x'],this['x']*_0x20d441['x']+this['y']*_0x20d441['y'])*N['RAD_TO_DEG'];}['floor'](_0x47eb14=this){return this['x']=Math['floor'](_0x47eb14['x']),this['y']=Math['floor'](_0x47eb14['y']),this;}['ceil'](_0x485003=this){return this['x']=Math['ceil'](_0x485003['x']),this['y']=Math['ceil'](_0x485003['y']),this;}['round'](_0x4b738b=this){return this['x']=Math['round'](_0x4b738b['x']),this['y']=Math['round'](_0x4b738b['y']),this;}['min'](_0x17f4c3){return _0x17f4c3['x']<this['x']&&(this['x']=_0x17f4c3['x']),_0x17f4c3['y']<this['y']&&(this['y']=_0x17f4c3['y']),this;}['max'](_0x2ab40e){return _0x2ab40e['x']>this['x']&&(this['x']=_0x2ab40e['x']),_0x2ab40e['y']>this['y']&&(this['y']=_0x2ab40e['y']),this;}['set'](_0xcdb9fd,_0x4b9c58){return this['x']=_0xcdb9fd,this['y']=_0x4b9c58,this;}['sub'](_0x468e91){return this['x']-=_0x468e91['x'],this['y']-=_0x468e91['y'],this;}['sub2'](_0x2e5723,_0x2f72f3){return this['x']=_0x2e5723['x']-_0x2f72f3['x'],this['y']=_0x2e5723['y']-_0x2f72f3['y'],this;}['subScalar'](_0x250c20){return this['x']-=_0x250c20,this['y']-=_0x250c20,this;}['fromArray'](_0x3df15a,_0x2b4d75=-0x266c+0x871+0x1dfb*0x1){return this['x']=_0x3df15a[_0x2b4d75]??this['x'],this['y']=_0x3df15a[_0x2b4d75+(-0x16*-0xa6+-0x1fee+-0x11ab*-0x1)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x2a761e=[],_0x633af6=0x9d*-0x28+-0x6b0+-0x128*-0x1b){return _0x2a761e[_0x633af6]=this['x'],_0x2a761e[_0x633af6+(0xc7+-0x4*-0x7bb+-0x1fb2)]=this['y'],_0x2a761e;}static['angleRad'](_0x312aca,_0x2c88b5){return Math['atan2'](_0x312aca['x']*_0x2c88b5['y']-_0x312aca['y']*_0x2c88b5['x'],_0x312aca['x']*_0x2c88b5['x']+_0x312aca['y']*_0x2c88b5['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0x10ea+0x10ec+-0x2,-0xffb*0x1+-0x3*-0xcca+-0x1663))),c(wt,'HALF',Object['freeze'](new wt(-0x2047+-0x1*0x2316+-0x435d*-0x1+0.5,0x1*-0x1fd3+0x66a+0x1969+0.5))),c(wt,'ONE',Object['freeze'](new wt(-0x1*-0x1424+0x2218+-0x363b,0x2359+0x1*-0x98d+-0x19cb))),c(wt,'UP',Object['freeze'](new wt(-0x1a9a+0x1*-0xc77+0x2711,-0xdf6+-0x1*0xf82+-0x3*-0x9d3))),c(wt,'DOWN',Object['freeze'](new wt(0x218c+0x1*-0x19b5+-0x7d7,-(-0x2*-0x5d4+-0xc2f+0x1*0x88)))),c(wt,'RIGHT',Object['freeze'](new wt(0x1*0x2195+0xebc+-0x3050,-0x2362+0xa78+0x2*0xc75))),c(wt,'LEFT',Object['freeze'](new wt(-(0xd84+0x17b9+0x1*-0x253c),-0xd*-0x171+-0x2179+0x4*0x3af)));let W=wt;const Yi=class Yi{constructor(_0x1d407f=0x21c6+0x4*-0x7b5+0x1*-0x2f2,_0x443969=0x119+0x39c*0x5+0x1*-0x1325,_0x108f9b=0xa62+-0x3e2*-0x2+-0x65*0x2e,_0xa4bbaf=-0x15d*-0x17+-0x43*0x43+0x3a*-0x3d){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1d407f['length']===0x1bf7+-0x20e*-0x4+0xc5*-0x2f?(this['x']=_0x1d407f[-0x3*-0x101+-0x3b3*0x4+-0x1*-0xbc9],this['y']=_0x1d407f[0x10aa+-0x1100*-0x1+-0x21a9],this['z']=_0x1d407f[0x2*0x6dc+0xb44+0x2*-0xc7d],this['w']=_0x1d407f[0x18b3+-0x2*-0xed8+0xae0*-0x5]):(this['x']=_0x1d407f,this['y']=_0x443969,this['z']=_0x108f9b,this['w']=_0xa4bbaf);}['add'](_0x2d4204){return this['x']+=_0x2d4204['x'],this['y']+=_0x2d4204['y'],this['z']+=_0x2d4204['z'],this['w']+=_0x2d4204['w'],this;}['add2'](_0xcd4daa,_0x411e7e){return this['x']=_0xcd4daa['x']+_0x411e7e['x'],this['y']=_0xcd4daa['y']+_0x411e7e['y'],this['z']=_0xcd4daa['z']+_0x411e7e['z'],this['w']=_0xcd4daa['w']+_0x411e7e['w'],this;}['addScalar'](_0xc558d9){return this['x']+=_0xc558d9,this['y']+=_0xc558d9,this['z']+=_0xc558d9,this['w']+=_0xc558d9,this;}['addScaled'](_0x280849,_0x45be39){return this['x']+=_0x280849['x']*_0x45be39,this['y']+=_0x280849['y']*_0x45be39,this['z']+=_0x280849['z']*_0x45be39,this['w']+=_0x280849['w']*_0x45be39,this;}['clone'](){const _0x160950=this['constructo'+'r'];return new _0x160950(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x584de2){return this['x']=_0x584de2['x'],this['y']=_0x584de2['y'],this['z']=_0x584de2['z'],this['w']=_0x584de2['w'],this;}['div'](_0xd67ff1){return this['x']/=_0xd67ff1['x'],this['y']/=_0xd67ff1['y'],this['z']/=_0xd67ff1['z'],this['w']/=_0xd67ff1['w'],this;}['div2'](_0xd0399e,_0x1b45c5){return this['x']=_0xd0399e['x']/_0x1b45c5['x'],this['y']=_0xd0399e['y']/_0x1b45c5['y'],this['z']=_0xd0399e['z']/_0x1b45c5['z'],this['w']=_0xd0399e['w']/_0x1b45c5['w'],this;}['divScalar'](_0x52e836){return this['x']/=_0x52e836,this['y']/=_0x52e836,this['z']/=_0x52e836,this['w']/=_0x52e836,this;}['dot'](_0x3d6740){return this['x']*_0x3d6740['x']+this['y']*_0x3d6740['y']+this['z']*_0x3d6740['z']+this['w']*_0x3d6740['w'];}['equals'](_0x1e724d){return this['x']===_0x1e724d['x']&&this['y']===_0x1e724d['y']&&this['z']===_0x1e724d['z']&&this['w']===_0x1e724d['w'];}['equalsAppr'+'ox'](_0x3a12e4,_0x13cd6a=0xe99+-0x1*-0x86+-0xf1f+0.000001){return Math['abs'](this['x']-_0x3a12e4['x'])<_0x13cd6a&&Math['abs'](this['y']-_0x3a12e4['y'])<_0x13cd6a&&Math['abs'](this['z']-_0x3a12e4['z'])<_0x13cd6a&&Math['abs'](this['w']-_0x3a12e4['w'])<_0x13cd6a;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x39ea0d,_0x4f897c,_0x5087c4){return this['x']=_0x39ea0d['x']+_0x5087c4*(_0x4f897c['x']-_0x39ea0d['x']),this['y']=_0x39ea0d['y']+_0x5087c4*(_0x4f897c['y']-_0x39ea0d['y']),this['z']=_0x39ea0d['z']+_0x5087c4*(_0x4f897c['z']-_0x39ea0d['z']),this['w']=_0x39ea0d['w']+_0x5087c4*(_0x4f897c['w']-_0x39ea0d['w']),this;}['mul'](_0x4d795b){return this['x']*=_0x4d795b['x'],this['y']*=_0x4d795b['y'],this['z']*=_0x4d795b['z'],this['w']*=_0x4d795b['w'],this;}['mul2'](_0x31da2a,_0x40718c){return this['x']=_0x31da2a['x']*_0x40718c['x'],this['y']=_0x31da2a['y']*_0x40718c['y'],this['z']=_0x31da2a['z']*_0x40718c['z'],this['w']=_0x31da2a['w']*_0x40718c['w'],this;}['mulScalar'](_0x483517){return this['x']*=_0x483517,this['y']*=_0x483517,this['z']*=_0x483517,this['w']*=_0x483517,this;}['normalize'](_0x2bc727=this){const _0x34d9b1=_0x2bc727['x']*_0x2bc727['x']+_0x2bc727['y']*_0x2bc727['y']+_0x2bc727['z']*_0x2bc727['z']+_0x2bc727['w']*_0x2bc727['w'];if(_0x34d9b1>-0x28*-0xf0+-0x1*-0x1147+-0x36c7){const _0x289ebf=(-0x2505+0x820*0x2+0x14c6)/Math['sqrt'](_0x34d9b1);this['x']=_0x2bc727['x']*_0x289ebf,this['y']=_0x2bc727['y']*_0x289ebf,this['z']=_0x2bc727['z']*_0x289ebf,this['w']=_0x2bc727['w']*_0x289ebf;}return this;}['floor'](_0x3b5fa3=this){return this['x']=Math['floor'](_0x3b5fa3['x']),this['y']=Math['floor'](_0x3b5fa3['y']),this['z']=Math['floor'](_0x3b5fa3['z']),this['w']=Math['floor'](_0x3b5fa3['w']),this;}['ceil'](_0x5e6055=this){return this['x']=Math['ceil'](_0x5e6055['x']),this['y']=Math['ceil'](_0x5e6055['y']),this['z']=Math['ceil'](_0x5e6055['z']),this['w']=Math['ceil'](_0x5e6055['w']),this;}['round'](_0x26e699=this){return this['x']=Math['round'](_0x26e699['x']),this['y']=Math['round'](_0x26e699['y']),this['z']=Math['round'](_0x26e699['z']),this['w']=Math['round'](_0x26e699['w']),this;}['min'](_0x1524ba){return _0x1524ba['x']<this['x']&&(this['x']=_0x1524ba['x']),_0x1524ba['y']<this['y']&&(this['y']=_0x1524ba['y']),_0x1524ba['z']<this['z']&&(this['z']=_0x1524ba['z']),_0x1524ba['w']<this['w']&&(this['w']=_0x1524ba['w']),this;}['max'](_0x157ab0){return _0x157ab0['x']>this['x']&&(this['x']=_0x157ab0['x']),_0x157ab0['y']>this['y']&&(this['y']=_0x157ab0['y']),_0x157ab0['z']>this['z']&&(this['z']=_0x157ab0['z']),_0x157ab0['w']>this['w']&&(this['w']=_0x157ab0['w']),this;}['set'](_0x5a1a1e,_0x31172a,_0x31b3d3,_0x406b3c){return this['x']=_0x5a1a1e,this['y']=_0x31172a,this['z']=_0x31b3d3,this['w']=_0x406b3c,this;}['sub'](_0x24cc9d){return this['x']-=_0x24cc9d['x'],this['y']-=_0x24cc9d['y'],this['z']-=_0x24cc9d['z'],this['w']-=_0x24cc9d['w'],this;}['sub2'](_0xbdbe30,_0x22dfbb){return this['x']=_0xbdbe30['x']-_0x22dfbb['x'],this['y']=_0xbdbe30['y']-_0x22dfbb['y'],this['z']=_0xbdbe30['z']-_0x22dfbb['z'],this['w']=_0xbdbe30['w']-_0x22dfbb['w'],this;}['subScalar'](_0x1d237d){return this['x']-=_0x1d237d,this['y']-=_0x1d237d,this['z']-=_0x1d237d,this['w']-=_0x1d237d,this;}['fromArray'](_0x3e64ca,_0x154d95=-0x1*-0x17e5+0x1ba7*-0x1+0x3c2){return this['x']=_0x3e64ca[_0x154d95]??this['x'],this['y']=_0x3e64ca[_0x154d95+(-0x1*-0x9ae+0x1*-0x1f0c+-0x1*-0x155f)]??this['y'],this['z']=_0x3e64ca[_0x154d95+(-0x17b*-0x11+0x4*0x4ca+-0x2c51)]??this['z'],this['w']=_0x3e64ca[_0x154d95+(0x1748+0x2417+0x20c*-0x1d)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x520f92=[],_0x41f49c=0x3b*0x19+-0x810+0x1f*0x13){return _0x520f92[_0x41f49c]=this['x'],_0x520f92[_0x41f49c+(-0x22f*-0x2+-0x50a+0xad)]=this['y'],_0x520f92[_0x41f49c+(-0x595*-0x3+0x1e71+-0x2f2e)]=this['z'],_0x520f92[_0x41f49c+(0xbcc+-0x2140+0x1577*0x1)]=this['w'],_0x520f92;}};c(Yi,'ZERO',Object['freeze'](new Yi(-0x6ac+-0x2*0xd0b+0x20c2,0x1c8e+-0x140f+-0x87f,0x22fc*-0x1+-0x70+-0x236c*-0x1,-0x23a3+0x5*0x521+0x9fe))),c(Yi,'HALF',Object['freeze'](new Yi(-0x26*-0x7f+-0xdd6+-0x2*0x282+0.5,-0x237d+-0x14f*0xb+0x31e2+0.5,0x253+0x1962+0x1*-0x1bb5+0.5,0xac0*-0x3+0x1f6f+-0xd1*-0x1+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(-0x19*0x145+-0x90f+0x28cd,-0x10d*-0x13+-0x214e+0xd58,-0xe*-0x143+-0x18c1+0x38c*0x2,0x127d*0x1+0x4b5+0x1731*-0x1)));let Q=Yi;const Ua=new W(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0xdde+-0x2459+0x168b)),this['data'][0x19db+-0x31d*-0x1+-0x1cf8]=this['data'][-0x1ac1+0x2053+-0x58d]=this['data'][-0x2*0x35e+-0x474+0x3*0x3be]=this['data'][-0xc06+0x478+0x79d]=0x634+-0x236f+0x1d3c;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x17fef3,_0xedb429,_0x26da1b,_0x50f049,_0x3ca9f9){_0x3ca9f9?(_0x17fef3['x']=_0x50f049*Math['tan'](_0xedb429*Math['PI']/(0xb84+-0x14d0+0xab4)),_0x17fef3['y']=_0x17fef3['x']/_0x26da1b):(_0x17fef3['y']=_0x50f049*Math['tan'](_0xedb429*Math['PI']/(-0x270b+0x494+0x23df*0x1)),_0x17fef3['x']=_0x17fef3['y']*_0x26da1b);}['add2'](_0x131268,_0x468263){const _0x3d37ea=_0x131268['data'],_0x50c085=_0x468263['data'],_0x438cf9=this['data'];return _0x438cf9[0x1ee0+0xf*-0x91+-0x1661]=_0x3d37ea[0x1faa+-0x1500+-0xaaa]+_0x50c085[-0xbd8+0x83e*-0x2+0x1c54],_0x438cf9[0x23*0xfc+0x1*0x225c+-0x44cf]=_0x3d37ea[-0x1*0x1e01+-0x1080*0x1+0x2e82]+_0x50c085[-0x22aa+0x65d+0x1c4e],_0x438cf9[0x1c36+-0xf*0xa3+-0x12a7]=_0x3d37ea[-0x23+0x2084+-0x205f]+_0x50c085[0x1*0x11b+-0x112d+0x1014],_0x438cf9[-0x32f+-0x22c6+0x2*0x12fc]=_0x3d37ea[-0x1d93+0x1280+0xb16]+_0x50c085[0x6d6+-0x25*-0x53+0x2*-0x969],_0x438cf9[0x1*0x22e4+-0x1*0x1723+-0xbbd]=_0x3d37ea[-0x454*0x4+-0x10*0x1e+0x1334]+_0x50c085[0x1d6a+-0x61f+0x1747*-0x1],_0x438cf9[-0x15b3+-0xa1a+0xfe9*0x2]=_0x3d37ea[0x13f4*0x1+0x1a2f+-0x2e1e]+_0x50c085[0x941*0x4+0x6*0x293+0x1*-0x3471],_0x438cf9[-0x66a*0x1+-0x2e*-0x13+0x56*0x9]=_0x3d37ea[-0x1c58+0x3e*-0x91+0x44*0xef]+_0x50c085[-0x13f0+0x3*0x26e+0xcac],_0x438cf9[0x1e91+0x1ac3+0x1*-0x394d]=_0x3d37ea[-0xc*-0xb3+0xecb+-0x1*0x1728]+_0x50c085[-0x237+0x1ec5+-0x1*0x1c87],_0x438cf9[-0x159a+-0xc1*0x19+-0x287b*-0x1]=_0x3d37ea[-0xb9b+-0x341*-0xa+-0x14e7]+_0x50c085[-0x57a*0x3+0x3*-0x2c1+0x18b9],_0x438cf9[0x200*0xc+-0x20c2+0x8cb]=_0x3d37ea[-0x28*0xc5+0xaa5+0x142c]+_0x50c085[-0x8*0x1c0+-0xc3d*-0x1+0x1cc],_0x438cf9[0xe77*-0x1+0x43*0x6c+-0xdc3]=_0x3d37ea[-0x1897+-0x1c9+0x1a6a]+_0x50c085[0x19f*-0x5+-0x2*-0x40f+0x7],_0x438cf9[-0x1986+-0xd01*-0x3+-0xd72]=_0x3d37ea[0x1d12+0x76c+0x7*-0x535]+_0x50c085[0xfb0+-0x24c0+0x151b*0x1],_0x438cf9[-0xc89*0x1+0x75c*-0x4+-0x1*-0x2a05]=_0x3d37ea[-0x4*0x7a+0x3*0x1a2+-0x2f2]+_0x50c085[0x2e+-0x12*-0x1+-0x2*0x1a],_0x438cf9[0x18ea+0x3c0+-0x19*0x125]=_0x3d37ea[-0x4c9+-0x1*0x153d+0x537*0x5]+_0x50c085[-0x20f7+-0x1*0x1b55+0x3c59*0x1],_0x438cf9[-0x246a+0xa9*0x29+0x1*0x967]=_0x3d37ea[0x1ec1*0x1+-0x8f5*0x1+0x15be*-0x1]+_0x50c085[0x6f4*0x4+-0xe3*0x24+-0x42a*-0x1],_0x438cf9[-0x1e8f*-0x1+-0x1*0x2e3+-0x1b9d]=_0x3d37ea[-0x1f4f*-0x1+-0x269d*-0x1+-0x45dd]+_0x50c085[0x1*-0x2392+-0x293+0x14*0x1e9],this;}['add'](_0x4a1a03){return this['add2'](this,_0x4a1a03);}['clone'](){const _0x587286=this['constructo'+'r'];return new _0x587286()['copy'](this);}['copy'](_0x2ae139){const _0x5087ed=_0x2ae139['data'],_0x1206b2=this['data'];return _0x1206b2[0x1*-0x1e55+-0x3b*0x29+0x1*0x27c8]=_0x5087ed[0xa3d*0x3+0x10bb*0x1+-0x2f72],_0x1206b2[0x67*0x56+0x1678+-0x3911]=_0x5087ed[0x73c*0x1+0x181c+-0x71*0x47],_0x1206b2[0x2*-0x643+-0x222*0xd+0x2842]=_0x5087ed[0x11*0x13b+-0x140*0x2+0x1269*-0x1],_0x1206b2[-0x2*0x5cf+-0x4ab*-0x8+-0x1*0x19b7]=_0x5087ed[-0x26a9+-0x1*0x183f+0x7*0x8fd],_0x1206b2[-0x1*0x26a4+0xe*-0x1bb+0x3ee2]=_0x5087ed[0x46*-0x87+-0x47*-0x2+0x2460],_0x1206b2[-0xe7e+0x211f+-0x129c]=_0x5087ed[0x2*0xce8+0x1*-0x5ed+-0x2*0x9ef],_0x1206b2[-0xb3*0x2e+0x1*-0x20ca+0x40fa]=_0x5087ed[-0x3*0xb17+0x7*0x593+-0x1*0x5ba],_0x1206b2[0x7*0x1eb+0x2f*-0x62+0x498]=_0x5087ed[0x4*-0x238+0x1*-0x254e+-0x3*-0xf67],_0x1206b2[-0x2*0x7eb+0x34*0xc+0x6*0x23d]=_0x5087ed[-0x1*0xa9e+-0x2266+-0x5d*-0x7c],_0x1206b2[0x1d9*-0x1+0x2*-0x2ad+0x73c]=_0x5087ed[0x1609+-0xbf*0x19+-0x359],_0x1206b2[-0x1*0x49d+-0x1*-0x1cd+0x2*0x16d]=_0x5087ed[-0x470*0x8+0x29*-0x8b+0x39cd],_0x1206b2[0x142a+0x37e+0x5d*-0x41]=_0x5087ed[-0x177c+-0x1*-0x8a1+0xee6],_0x1206b2[0x89*-0x24+-0x246c+0x37bc]=_0x5087ed[-0x1d54+0x7*0x3d7+0x27f],_0x1206b2[0xe4d+-0x68*0x16+-0x550]=_0x5087ed[0x1c4d+-0x886+0x1f9*-0xa],_0x1206b2[-0x134b+0x1*-0x6cd+0x1a26]=_0x5087ed[0x1*0x1e78+-0x2452+0xc*0x7e],_0x1206b2[-0x1e3a+-0x527+0x51*0x70]=_0x5087ed[-0x13f*0x2+0x1c85+-0x33f*0x8],this;}['equals'](_0x20135d){const _0x2f4925=this['data'],_0x315242=_0x20135d['data'];return _0x2f4925[-0x61d+-0x209b+-0x674*-0x6]===_0x315242[0xe*0x235+-0x13*0x151+-0x89*0xb]&&_0x2f4925[0x3b*0x42+0x8*0x4aa+0x5*-0xa81]===_0x315242[-0x13*0x1af+0x17+0x1fe7]&&_0x2f4925[-0x148a+0xb3*-0xa+0x8d*0x32]===_0x315242[-0x129*-0x7+-0x8*-0x11a+0x10ed*-0x1]&&_0x2f4925[-0x2fc+-0x3d*0x19+-0x6*-0x17e]===_0x315242[-0x2ef+0x13cd+-0x10db]&&_0x2f4925[-0xbe6*-0x2+-0x1b00+0x2*0x19c]===_0x315242[0x14b9+0xe20+-0x22d5*0x1]&&_0x2f4925[0xb2d+0x10b*0xa+-0x1596]===_0x315242[-0x133+-0x5*0x20e+0xb7e]&&_0x2f4925[-0x1*0x66d+0x924+-0x2b1]===_0x315242[0x1633*-0x1+-0x261a+-0x3c53*-0x1]&&_0x2f4925[0x1*-0x204d+-0x8*0x49b+0x2*0x2296]===_0x315242[-0x119b+0x1150+0x1*0x52]&&_0x2f4925[0xf*0x229+-0x1eb+0x79d*-0x4]===_0x315242[-0x2*0x5d+-0xf32+-0x4*-0x3fd]&&_0x2f4925[0xb10*0x3+-0x2*-0xd78+-0x3c17]===_0x315242[-0x2702+0x538+0x1*0x21d3]&&_0x2f4925[0x23*-0x3+-0x2c*0x5+-0x14f*-0x1]===_0x315242[0x80f*-0x2+-0x21*0xb+0x1193]&&_0x2f4925[-0x2*0x531+-0x2e5+0x6e*0x1f]===_0x315242[0x1958+0x612+-0x1f5f*0x1]&&_0x2f4925[-0x1323+-0x6*-0x3d3+-0x3c3]===_0x315242[-0x1b3b+-0x839+0x2380]&&_0x2f4925[-0x2165+-0xf7*-0x3+0x1e8d]===_0x315242[-0x2219+-0x1e44+0x406a]&&_0x2f4925[0xb*-0x251+0x4*0x42d+0x8d5]===_0x315242[-0x7*0x1db+-0x2280+0x2f8b]&&_0x2f4925[0x1845+0x203+0x3bf*-0x7]===_0x315242[-0x8e*-0x3d+-0x2189+-0x3e];}['isIdentity'](){const _0x111aef=this['data'];return _0x111aef[-0x27a+-0x9e6+0xc60]===0x1036+-0x1a1+-0x3*0x4dc&&_0x111aef[-0x415+0x1*0x130f+-0xef9]===-0x1*-0xc7+-0x258c+0x1*0x24c5&&_0x111aef[0x4c1*0x7+-0x1580+-0xbc5]===-0x263c+0x1880+-0x125*-0xc&&_0x111aef[-0xda2+-0x28a+0x102f*0x1]===-0x1fc3+-0x1d36+-0x81*-0x79&&_0x111aef[0x110e+0x4cb+-0xcf*0x1b]===-0xfcf+0xeb8+0x117&&_0x111aef[0xf29*0x1+-0x223+-0xd01]===-0xa29+0xf53+-0x529&&_0x111aef[0x89*0x18+-0xa3*0x1a+0x3bc]===0x1403+-0x3d*-0x9+-0x1628&&_0x111aef[-0xb07*0x2+-0x5a9+0x1bbe]===0x7*0x479+-0x4*0x5de+0x7d7*-0x1&&_0x111aef[0x1b0e+-0x3*-0x5+-0x1b15]===-0x227b+-0xba9+0x2e24&&_0x111aef[0xa4*-0x3b+-0x1*-0x89b+-0x2*-0xe9d]===-0x655*-0x1+-0x9ed*0x3+0x1772&&_0x111aef[-0x1*-0xf94+0xdb*-0x1+-0xeaf]===0xa0c+0x2*-0x1331+0x1c57&&_0x111aef[-0x1*0x2031+0xe7d*-0x1+0x2eb9]===0x1*0x1753+0x2463+-0x3bb6&&_0x111aef[0x254*0x3+-0x2473+0x5e7*0x5]===0x2f*-0xb5+-0x26c3+0x3ca*0x13&&_0x111aef[0x5e7+-0xc36+0x65c]===0x2f6*-0x5+-0xda*0x5+0x1310&&_0x111aef[0x2*-0x12bd+0x1394+0x11f4]===0x1*0x16c3+-0x1d*0x14b+-0x3af*-0x4&&_0x111aef[-0x73b+-0xd*-0x2c2+-0x392*0x8]===-0x1*-0x2443+-0x1bc1+-0x881;}['mul2'](_0x56f02c,_0x24999d){const _0x156aad=_0x56f02c['data'],_0x4d4720=_0x24999d['data'],_0x48c442=this['data'],_0x5c0b75=_0x156aad[0xa*-0x233+-0x3b*0x7e+0x1984*0x2],_0x230763=_0x156aad[-0x1*-0x5ad+0x111e+0xb65*-0x2],_0x39d0ca=_0x156aad[-0xa0c+-0x2401+0x1*0x2e0f],_0x344120=_0x156aad[-0x26d1+0x49*-0x43+0x39ef],_0x285ad0=_0x156aad[-0x1f67*-0x1+0x25d6+-0xb*0x64b],_0xabf0fa=_0x156aad[-0x367+0x1ab1+-0x1745],_0x2dd500=_0x156aad[0x1180+-0x1f83+0xe09],_0x2eca3b=_0x156aad[-0xc77+-0x101*-0xd+-0x8f],_0x1433e4=_0x156aad[0x1*-0x279+0x1040+0xdbf*-0x1],_0x142126=_0x156aad[0x74c+0x92*-0x44+0x1f85],_0x36419d=_0x156aad[-0x1537+-0x6*-0x95+0x11c3],_0x176a8d=_0x156aad[0x149b+0x1*-0x75d+-0xd33],_0x37c659=_0x156aad[0x2022+0xb6a+-0x2b80],_0x25e1ec=_0x156aad[0x1*-0xc6e+0x4fd+0x77e],_0x2bc0f0=_0x156aad[0x1a0c*-0x1+0x3*0x9+0x79*0x37],_0x108e23=_0x156aad[-0x1201+-0x2*-0x56f+0x133*0x6];let _0x10733e,_0xc87013,_0x1d80c3,_0x17be4c;return _0x10733e=_0x4d4720[-0x2241+-0x2092+0x42d3],_0xc87013=_0x4d4720[-0x1cb9+0x3b*-0x13+0x211b],_0x1d80c3=_0x4d4720[-0x4*0x36d+-0xd21+0x1ad7*0x1],_0x17be4c=_0x4d4720[0x199+-0x28*-0x4d+-0xd9e],_0x48c442[-0x233b*-0x1+0x424+-0x275f]=_0x5c0b75*_0x10733e+_0x285ad0*_0xc87013+_0x1433e4*_0x1d80c3+_0x37c659*_0x17be4c,_0x48c442[0x1751+0x192b+-0x307b]=_0x230763*_0x10733e+_0xabf0fa*_0xc87013+_0x142126*_0x1d80c3+_0x25e1ec*_0x17be4c,_0x48c442[-0x1a7d+0x1*-0x46d+0x1eec]=_0x39d0ca*_0x10733e+_0x2dd500*_0xc87013+_0x36419d*_0x1d80c3+_0x2bc0f0*_0x17be4c,_0x48c442[0x1079+0x2*-0x876+0x2*0x3b]=_0x344120*_0x10733e+_0x2eca3b*_0xc87013+_0x176a8d*_0x1d80c3+_0x108e23*_0x17be4c,_0x10733e=_0x4d4720[-0xf1*0x7+-0x1631+0x1ccc],_0xc87013=_0x4d4720[0x621+-0xb7e+-0x2b1*-0x2],_0x1d80c3=_0x4d4720[0x1df2+0x11*-0x1af+-0x14d],_0x17be4c=_0x4d4720[0x238*-0x11+-0x130d+0x38cc],_0x48c442[-0xf6+0x1829+-0x172f]=_0x5c0b75*_0x10733e+_0x285ad0*_0xc87013+_0x1433e4*_0x1d80c3+_0x37c659*_0x17be4c,_0x48c442[0x17*0xfb+0xf0b*0x1+-0x2593]=_0x230763*_0x10733e+_0xabf0fa*_0xc87013+_0x142126*_0x1d80c3+_0x25e1ec*_0x17be4c,_0x48c442[0x8*-0x4a9+0x417+0x1*0x2137]=_0x39d0ca*_0x10733e+_0x2dd500*_0xc87013+_0x36419d*_0x1d80c3+_0x2bc0f0*_0x17be4c,_0x48c442[0x188a+-0x1b91+-0x1*-0x30e]=_0x344120*_0x10733e+_0x2eca3b*_0xc87013+_0x176a8d*_0x1d80c3+_0x108e23*_0x17be4c,_0x10733e=_0x4d4720[-0x2+0x1cfb+-0x1*0x1cf1],_0xc87013=_0x4d4720[0x2*0xd8a+-0x23c9+-0x175*-0x6],_0x1d80c3=_0x4d4720[-0x16a6+-0x8*-0x106+-0x4*-0x3a0],_0x17be4c=_0x4d4720[-0x1537+0x19*0x20+0x1*0x1222],_0x48c442[0x4*0x110+-0x499+0x61]=_0x5c0b75*_0x10733e+_0x285ad0*_0xc87013+_0x1433e4*_0x1d80c3+_0x37c659*_0x17be4c,_0x48c442[-0x10a*-0xb+-0xb6f+0xa]=_0x230763*_0x10733e+_0xabf0fa*_0xc87013+_0x142126*_0x1d80c3+_0x25e1ec*_0x17be4c,_0x48c442[0x1955+0x9e8+-0x2333*0x1]=_0x39d0ca*_0x10733e+_0x2dd500*_0xc87013+_0x36419d*_0x1d80c3+_0x2bc0f0*_0x17be4c,_0x48c442[0x22d4+-0x1144+0xc3*-0x17]=_0x344120*_0x10733e+_0x2eca3b*_0xc87013+_0x176a8d*_0x1d80c3+_0x108e23*_0x17be4c,_0x10733e=_0x4d4720[-0x212b*0x1+0x20a1*0x1+-0x3*-0x32],_0xc87013=_0x4d4720[0x1*0x1a7d+-0x480+-0x15f0],_0x1d80c3=_0x4d4720[-0x1dd1+0xd3a+0x10a5*0x1],_0x17be4c=_0x4d4720[-0xe05+0x8fe*-0x1+0x1712],_0x48c442[0x6a7+0xd5*0x2d+-0x2c0c]=_0x5c0b75*_0x10733e+_0x285ad0*_0xc87013+_0x1433e4*_0x1d80c3+_0x37c659*_0x17be4c,_0x48c442[-0xeb7+-0x21d1+0x3095]=_0x230763*_0x10733e+_0xabf0fa*_0xc87013+_0x142126*_0x1d80c3+_0x25e1ec*_0x17be4c,_0x48c442[0x2*0x3be+-0xd*0xf1+0x1*0x4cf]=_0x39d0ca*_0x10733e+_0x2dd500*_0xc87013+_0x36419d*_0x1d80c3+_0x2bc0f0*_0x17be4c,_0x48c442[-0x1d56+0x131b*-0x1+0x3080]=_0x344120*_0x10733e+_0x2eca3b*_0xc87013+_0x176a8d*_0x1d80c3+_0x108e23*_0x17be4c,this;}['mulAffine2'](_0x19ece0,_0x119232){const _0xbca765=_0x19ece0['data'],_0x2cc77e=_0x119232['data'],_0x2d0e8a=this['data'],_0x13ccd1=_0xbca765[-0x12b5+0x1*-0x213f+0x33f4],_0x16104a=_0xbca765[0x1af0*-0x1+0x9fa*-0x1+0x24eb],_0x208a0c=_0xbca765[0x239b+-0x1bfa+-0x79f],_0x319f45=_0xbca765[-0xebd+0x1d49+-0xe88],_0x25c7be=_0xbca765[-0xbc7+0x1905+-0xd39],_0x334a79=_0xbca765[0x6bc*0x1+0x3*0xa6+-0x8a8],_0x52ecc8=_0xbca765[-0x6c2+0x84a+-0x180],_0x13fe86=_0xbca765[0x2602+-0x1391+-0x1268],_0x8393a=_0xbca765[-0x8fb+0x1eea+-0x15e5],_0x530389=_0xbca765[0x17d1+-0x976+-0xe4f],_0xcc518d=_0xbca765[0x1d18+0xca4+-0x1*0x29af],_0x12bf25=_0xbca765[0x2*0x8fb+-0x2e5*-0x3+-0x1a97];let _0x1e9e3f,_0x5e1c7f,_0x96603;return _0x1e9e3f=_0x2cc77e[0xcb5*-0x3+-0x1881+0x3ea0],_0x5e1c7f=_0x2cc77e[0x139a+0x1*0x2509+0xb*-0x526],_0x96603=_0x2cc77e[-0xfc5+0x22d3+-0x4c3*0x4],_0x2d0e8a[-0x1*0x8b1+-0x117+0x4*0x272]=_0x13ccd1*_0x1e9e3f+_0x319f45*_0x5e1c7f+_0x52ecc8*_0x96603,_0x2d0e8a[0xa7*-0x31+-0x7*0x47+0x1*0x21e9]=_0x16104a*_0x1e9e3f+_0x25c7be*_0x5e1c7f+_0x13fe86*_0x96603,_0x2d0e8a[-0x3df*-0x4+0xd79+0x1*-0x1cf3]=_0x208a0c*_0x1e9e3f+_0x334a79*_0x5e1c7f+_0x8393a*_0x96603,_0x2d0e8a[-0xf4a+-0x1*0x1323+-0x89c*-0x4]=-0x2*-0xc3e+-0x1180+-0x6fc,_0x1e9e3f=_0x2cc77e[-0x225a+0x6*-0x12f+0x2978],_0x5e1c7f=_0x2cc77e[0x1eee+0x6f*0x6+-0x175*0x17],_0x96603=_0x2cc77e[-0x335+0x1*0xb5e+0x823*-0x1],_0x2d0e8a[0xf17+0x10*-0x4+-0xed3*0x1]=_0x13ccd1*_0x1e9e3f+_0x319f45*_0x5e1c7f+_0x52ecc8*_0x96603,_0x2d0e8a[0x3*-0x95c+-0x1*-0x207f+-0x2*0x233]=_0x16104a*_0x1e9e3f+_0x25c7be*_0x5e1c7f+_0x13fe86*_0x96603,_0x2d0e8a[-0xb*0xd9+-0x843*0x2+0x1*0x19df]=_0x208a0c*_0x1e9e3f+_0x334a79*_0x5e1c7f+_0x8393a*_0x96603,_0x2d0e8a[-0x3*-0x7f7+-0x24fb+-0x9*-0x175]=-0x3*0x996+-0x2a*-0xb3+-0x9c,_0x1e9e3f=_0x2cc77e[0x1*0x1e6d+0xc48+-0x2aad],_0x5e1c7f=_0x2cc77e[-0x41a+0x1da6+-0x1983],_0x96603=_0x2cc77e[0x53*-0x6d+0x9f+0x22c2],_0x2d0e8a[-0x1a78+-0x211f+0x3b9f]=_0x13ccd1*_0x1e9e3f+_0x319f45*_0x5e1c7f+_0x52ecc8*_0x96603,_0x2d0e8a[-0x256*-0x2+-0x2*0x186+-0x1*0x197]=_0x16104a*_0x1e9e3f+_0x25c7be*_0x5e1c7f+_0x13fe86*_0x96603,_0x2d0e8a[-0x2005+-0x2354+-0xd*-0x52f]=_0x208a0c*_0x1e9e3f+_0x334a79*_0x5e1c7f+_0x8393a*_0x96603,_0x2d0e8a[0x18*-0x8+-0x4eb+-0x22*-0x2b]=-0x7f6*-0x3+0x1528+-0x2d0a,_0x1e9e3f=_0x2cc77e[-0xc0c+-0x1*0x1ec7+-0x19*-0x1b7],_0x5e1c7f=_0x2cc77e[-0x1*0x13ed+0x25*0x89+0x2d],_0x96603=_0x2cc77e[-0x2*0x462+0x50+0x42*0x21],_0x2d0e8a[-0x2f*-0xbf+0xdf*0x14+-0xa7d*0x5]=_0x13ccd1*_0x1e9e3f+_0x319f45*_0x5e1c7f+_0x52ecc8*_0x96603+_0x530389,_0x2d0e8a[0x36e+0x1*0xa97+-0xdf8]=_0x16104a*_0x1e9e3f+_0x25c7be*_0x5e1c7f+_0x13fe86*_0x96603+_0xcc518d,_0x2d0e8a[-0xde*0x16+-0x6*0x106+-0x1946*-0x1]=_0x208a0c*_0x1e9e3f+_0x334a79*_0x5e1c7f+_0x8393a*_0x96603+_0x12bf25,_0x2d0e8a[0x425*0x7+-0x1d2b+0x37]=0xb1+-0x32+-0x2*0x3f,this;}['mul'](_0x23f528){return this['mul2'](this,_0x23f528);}['transformP'+'oint'](_0x228180,_0x39b6f5=new T()){const _0x4442dc=this['data'],{x:_0x1728fe,y:_0x5a4799,z:_0x4871ec}=_0x228180;return _0x39b6f5['x']=_0x1728fe*_0x4442dc[-0x19e9+0x1*0xdb6+0xc33]+_0x5a4799*_0x4442dc[-0xad+-0x1*0xa2a+0x1*0xadb]+_0x4871ec*_0x4442dc[-0x1f82*0x1+-0x6ac*0x5+0xd*0x4fe]+_0x4442dc[0x1*0xba7+0x1549*0x1+-0x5*0x694],_0x39b6f5['y']=_0x1728fe*_0x4442dc[0x223f+-0x215c+-0xe2]+_0x5a4799*_0x4442dc[0x4aa*0x8+0x31*-0x27+-0x1dd4]+_0x4871ec*_0x4442dc[0x273*0x1+-0x127*-0x19+-0x1f39]+_0x4442dc[-0x1*0x144b+-0x6*0x13c+0x60*0x4a],_0x39b6f5['z']=_0x1728fe*_0x4442dc[0x25*0x3b+0xa51+-0x12d6]+_0x5a4799*_0x4442dc[0x1aa+-0x18d*0xb+-0xf6b*-0x1]+_0x4871ec*_0x4442dc[-0x1d0*-0x11+0x1e6f+-0x3d35]+_0x4442dc[-0x1854*0x1+-0x1b48+-0x22*-0x185],_0x39b6f5;}['transformV'+'ector'](_0xda26f6,_0x3e460f=new T()){const _0x226a0a=this['data'],{x:_0x4f7378,y:_0x225e7a,z:_0x457eb5}=_0xda26f6;return _0x3e460f['x']=_0x4f7378*_0x226a0a[-0x3*-0xb78+-0x1f5e+0x2*-0x185]+_0x225e7a*_0x226a0a[-0x1f3f+0xbc3+-0xc0*-0x1a]+_0x457eb5*_0x226a0a[0x1e*-0x14b+-0x1*0x1c5+0x2897],_0x3e460f['y']=_0x4f7378*_0x226a0a[-0x1*-0x7f+-0xf70+0xef2]+_0x225e7a*_0x226a0a[0x861*0x2+0x1*-0x1406+0x349*0x1]+_0x457eb5*_0x226a0a[-0x2295*0x1+-0x1b6d+0x3e0b],_0x3e460f['z']=_0x4f7378*_0x226a0a[-0x1255*0x1+0x284*-0xa+0x5*0x8b3]+_0x225e7a*_0x226a0a[-0xc*-0x2b4+0x8*-0x49a+-0x233*-0x2]+_0x457eb5*_0x226a0a[0x1*0x2d6+-0x1d82+0x1ab6],_0x3e460f;}['transformV'+'ec4'](_0x29ba83,_0x22ee1e=new Q()){const _0x4c51b7=this['data'],{x:_0x515772,y:_0x4f6f24,z:_0x2c7438,w:_0x16e3a3}=_0x29ba83;return _0x22ee1e['x']=_0x515772*_0x4c51b7[0x885+0x1c07+-0x248c]+_0x4f6f24*_0x4c51b7[0x2006+-0x1*0x6e9+0x505*-0x5]+_0x2c7438*_0x4c51b7[-0x446*-0x8+0x1cc0+-0x3*0x14f8]+_0x16e3a3*_0x4c51b7[-0x235d+-0x1cd*0xe+0x3c9f],_0x22ee1e['y']=_0x515772*_0x4c51b7[-0xf45+-0x1565+0x413*0x9]+_0x4f6f24*_0x4c51b7[0x17f*0x1a+-0xda*0xb+-0x1d83]+_0x2c7438*_0x4c51b7[0xa78+0xf22+0x77*-0x37]+_0x16e3a3*_0x4c51b7[0x94*0x17+-0x27a*-0xf+-0x3265],_0x22ee1e['z']=_0x515772*_0x4c51b7[0x2010+-0x1d*0xd3+-0x827]+_0x4f6f24*_0x4c51b7[0x3*-0x815+-0x76f+0x1fb4]+_0x2c7438*_0x4c51b7[-0x78d+0x1c9+0x5ce]+_0x16e3a3*_0x4c51b7[-0x92*-0x14+0x102e+-0xdc4*0x2],_0x22ee1e['w']=_0x515772*_0x4c51b7[-0x24d8+0x2004+-0x3*-0x19d]+_0x4f6f24*_0x4c51b7[0x1*0x669+0x1fe9+0x1*-0x264b]+_0x2c7438*_0x4c51b7[-0xbb5+-0x1*-0x20ff+-0x153f]+_0x16e3a3*_0x4c51b7[-0x1f0d*0x1+0x1*-0x1549+-0x3465*-0x1],_0x22ee1e;}['setLookAt'](_0x471273,_0x50c7f3,_0x5c9edf){Os['sub2'](_0x471273,_0x50c7f3)['normalize'](),Fs['copy'](_0x5c9edf)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x3aaf41=this['data'];return _0x3aaf41[-0xbf1+-0xfd2*-0x1+-0x14b*0x3]=us['x'],_0x3aaf41[0x7dd+-0xf67+-0x78b*-0x1]=us['y'],_0x3aaf41[-0x1d81+0x21f9*0x1+-0x476]=us['z'],_0x3aaf41[0x1*0xa6f+-0xb19*0x3+0x5*0x493]=-0x1*-0x118c+-0x1a4e+0x8c2,_0x3aaf41[-0xa48+0x1900+0x4*-0x3ad]=Fs['x'],_0x3aaf41[-0x1f92+-0x94d+0x28e4]=Fs['y'],_0x3aaf41[-0x31*-0x79+0xbca+-0x22ed]=Fs['z'],_0x3aaf41[-0x1*-0x24a+-0x16c9*0x1+0x1486]=0x283*0xb+0x619+-0x21ba,_0x3aaf41[0x13*-0x198+0x1d64+0xec*0x1]=Os['x'],_0x3aaf41[-0x933+0x1c53*0x1+-0x1317]=Os['y'],_0x3aaf41[-0x1*-0x2330+0x4*-0x5ec+-0xb76]=Os['z'],_0x3aaf41[-0x4*-0x22c+0x2200+0x1*-0x2aa5]=-0x21a7*0x1+-0x22d*-0xb+0x9b8,_0x3aaf41[0x6*0xc+0x24b*-0x4+0x8f0]=_0x471273['x'],_0x3aaf41[0x87*0x33+-0x15a7+-0x531]=_0x471273['y'],_0x3aaf41[-0x8ba+0x15bb+-0xcf3]=_0x471273['z'],_0x3aaf41[-0x1ad2+0x3db*-0x9+-0x1c*-0x233]=0x18e3+0xb4b+-0x1*0x242d,this;}['setFrustum'](_0x504685,_0xe0060d,_0x295924,_0x49b6bb,_0x196797,_0x5c1a32){const _0x2ee6d9=(0x2f1*-0x4+0x1*0x1faf+0x3*-0x6a3)*_0x196797,_0x499c0c=_0xe0060d-_0x504685,_0x1bc9b3=_0x49b6bb-_0x295924,_0x5d58cf=_0x5c1a32-_0x196797,_0x51739e=this['data'];return _0x51739e[0x1f1*-0x11+-0x388+0x2489]=_0x2ee6d9/_0x499c0c,_0x51739e[-0x411*0x2+0x205b+0x14*-0x136]=-0x2f2+0x1*0x496+-0x1a4,_0x51739e[0xad8+0x881*0x1+0x1357*-0x1]=-0x83c+-0x1*-0x1567+-0x1*0xd2b,_0x51739e[0x8a8+-0x35*0x37+0x2be]=-0x13e0+0x1*0x12d+-0x12b3*-0x1,_0x51739e[0x3f*0x15+-0x1*0x1422+0x41*0x3b]=-0x543+0x1e5f+0x1*-0x191c,_0x51739e[-0x1*-0x16c1+0x1*-0xaba+-0xc02]=_0x2ee6d9/_0x1bc9b3,_0x51739e[-0x176b+0xe9d+-0x46a*-0x2]=0x17de+0x7da+0x32c*-0xa,_0x51739e[0x3*-0x4b8+0xd42+0xed]=0xff3*0x1+-0x11*-0x1ae+0x1*-0x2c81,_0x51739e[-0x1a0+0x176e*-0x1+0x1916]=(_0xe0060d+_0x504685)/_0x499c0c,_0x51739e[0x43*0x17+0xbba+-0x2*0x8db]=(_0x49b6bb+_0x295924)/_0x1bc9b3,_0x51739e[-0x15a7+-0xd03+0x22b4]=(-_0x5c1a32-_0x196797)/_0x5d58cf,_0x51739e[0x25d4+-0x1*-0x1679+-0x3c42]=-(-0x2d7*0x2+-0x216c+-0x1*-0x271b),_0x51739e[-0x693+-0x4*0x6b5+-0x2173*-0x1]=0x25ce+0x1611*-0x1+-0xed*0x11,_0x51739e[0xd23+0x8*0x3ec+-0x163b*0x2]=0x2b7*0xb+-0x191*-0x11+-0x812*0x7,_0x51739e[-0x7a0*0x5+0xb*0x2ee+0x5f4]=-_0x2ee6d9*_0x5c1a32/_0x5d58cf,_0x51739e[-0x250c+0x1600+0xf1b]=-0x9aa+0x46b*-0x2+0x1280,this;}['setPerspec'+'tive'](_0x284a4d,_0x368527,_0x16955c,_0x584911,_0x1a7e82){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x284a4d,_0x368527,_0x16955c,_0x1a7e82),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x16955c,_0x584911);}['setOrtho'](_0x529f46,_0x846b35,_0x2b1a41,_0x1841e6,_0x306fa3,_0x221a68){const _0x3242e1=this['data'];return _0x3242e1[-0x1a8*-0x7+-0x661*-0x5+-0x2b7d]=(0x1d3*-0x13+0x268a+0x3df*-0x1)/(_0x846b35-_0x529f46),_0x3242e1[-0x21e*0x2+-0x14cd+-0xa*-0x281]=-0x82d+-0x174b+-0xfbc*-0x2,_0x3242e1[0x7*0x445+0x1b0f+0x38f*-0x10]=-0x174b+-0x1ba+0x857*0x3,_0x3242e1[-0xd85+-0x10fa+-0xf41*-0x2]=-0x1545+0x1c18+0x1*-0x6d3,_0x3242e1[-0x1da9+-0x2541+0x2177*0x2]=-0x263f+0x36*-0x59+-0x52f*-0xb,_0x3242e1[0x166f+-0x1ffd+0x993]=(-0x1*0x1db1+-0x1470+0x3223)/(_0x1841e6-_0x2b1a41),_0x3242e1[0x442+0x2176+-0x25b2]=0x2052+0x1791*0x1+0x39*-0xfb,_0x3242e1[0x1*-0x744+0x1f7c+0x233*-0xb]=-0x8b8+0x7*-0x49d+0x2903,_0x3242e1[0xc50*-0x2+0x4dc+-0x2*-0x9e6]=-0x867+0x4*0x137+0x38b,_0x3242e1[-0x1*-0x1bd1+0x25f9+-0x3*0x15eb]=-0x16f*0x11+0x2373+-0xb14,_0x3242e1[0xca*-0x29+0x1d2*0x6+0x1578]=-(-0xabb+0x1b95+-0x10d8)/(_0x221a68-_0x306fa3),_0x3242e1[0x6eb*-0x3+-0x205b+0x3527]=-0x23aa+-0x1949+-0x1*-0x3cf3,_0x3242e1[0x1*-0x101a+-0x7*-0x34+-0x5*-0x2f2]=-(_0x846b35+_0x529f46)/(_0x846b35-_0x529f46),_0x3242e1[-0x1659+-0x1*-0x236e+-0xd08]=-(_0x1841e6+_0x2b1a41)/(_0x1841e6-_0x2b1a41),_0x3242e1[0xedc+0x270d+0x32b*-0x11]=-(_0x221a68+_0x306fa3)/(_0x221a68-_0x306fa3),_0x3242e1[-0x7*-0x4b8+-0x131*0x17+0x1*-0x592]=-0x2605+0x608+0xb6*0x2d,this;}['setFromAxi'+'sAngle'](_0x58a7fc,_0x144edf){_0x144edf*=N['DEG_TO_RAD'];const {x:_0x577278,y:_0x491d3c,z:_0x250271}=_0x58a7fc,_0x26a83c=Math['cos'](_0x144edf),_0xa2b39b=Math['sin'](_0x144edf),_0xa06bd2=-0x1cfb+0x1*-0xa7+0x1da3-_0x26a83c,_0x2571e8=_0xa06bd2*_0x577278,_0x29f9ad=_0xa06bd2*_0x491d3c,_0x241b64=this['data'];return _0x241b64[-0x661*0x2+0x1fc0+-0x12fe]=_0x2571e8*_0x577278+_0x26a83c,_0x241b64[0xd9*-0xa+0x18df+-0x1*0x1064]=_0x2571e8*_0x491d3c+_0xa2b39b*_0x250271,_0x241b64[0x1a97+-0x2*0x6d+-0x19bb]=_0x2571e8*_0x250271-_0xa2b39b*_0x491d3c,_0x241b64[0x2*-0x43c+0x1*0x1dbc+-0x1541]=0x17a7+-0xef8+-0x8af,_0x241b64[-0x355*-0x2+0x187e+-0x1f24*0x1]=_0x2571e8*_0x491d3c-_0xa2b39b*_0x250271,_0x241b64[-0x175f+-0x1047+0x27ab]=_0x29f9ad*_0x491d3c+_0x26a83c,_0x241b64[-0x2057*-0x1+-0x18*0xd8+-0xc11]=_0x29f9ad*_0x250271+_0xa2b39b*_0x577278,_0x241b64[-0x160f+0x84+0x1*0x1592]=-0x950*0x2+-0x52*-0x61+-0xc72,_0x241b64[-0x51b*0x4+0x2*-0x19+0x14a6]=_0x2571e8*_0x250271+_0xa2b39b*_0x491d3c,_0x241b64[0x191d+0xc7*-0x1d+-0x289]=_0x29f9ad*_0x250271-_0x577278*_0xa2b39b,_0x241b64[0x92*-0x12+0x248b*0x1+-0x1a3d*0x1]=_0xa06bd2*_0x250271*_0x250271+_0x26a83c,_0x241b64[0x2c*0x89+0x488+-0x1c09*0x1]=-0x41*0x75+-0x3*-0x462+0x108f,_0x241b64[-0x18ed+-0x96e+0x2267*0x1]=0x2c*0x1a+-0x15a8+0x1130,_0x241b64[0x1*0x196f+0x1*0x931+-0x2293]=-0xc4d+-0x1*0x445+-0x2*-0x849,_0x241b64[-0x134d+-0xb1*0x27+0x436*0xb]=-0x24b*0x5+-0x13af+0x1f26,_0x241b64[-0x1854+-0x2*0x3ce+0x1*0x1fff]=0x1a34+0x1c3*0xf+-0x1*0x34a0,this;}['setTransla'+'te'](_0x28600f,_0x46274b,_0x2b74bc){const _0x193671=this['data'];return _0x193671[0x23e4*-0x1+0x12d4+0x1110]=0x1c9c+0x1042*0x2+-0x1*0x3d1f,_0x193671[0xc29+-0x1c13*-0x1+-0x1*0x283b]=0x2*0xb47+-0x123f*-0x2+0x3b0c*-0x1,_0x193671[-0x2251+0x2f*0x90+-0x3*-0x2a1]=-0x41*0x17+-0x1f74+0x254b,_0x193671[-0x1f8b+-0x2*0xefa+0x3d82]=0x3*0x4a+0x2508+-0x7*0x56a,_0x193671[-0x686*0x4+0x1369+0x6b3]=0xb*-0x28e+0x1cba+0x10*-0xa,_0x193671[-0x1789+-0x1*-0x14e9+-0x2a5*-0x1]=0xecb+-0x129a+0x3d0,_0x193671[-0x744+0xc6*-0x26+0x1*0x24ae]=0x131f+-0x1e62+0x5d*0x1f,_0x193671[-0xefb*0x1+0x214f*0x1+-0x124d]=-0x40d+-0x1b7a*0x1+0x481*0x7,_0x193671[0x23f7+-0xc9c+-0x1753]=-0xff1+-0x169d+-0x8d*-0x46,_0x193671[0x116d*0x1+-0x21e2+0x83f*0x2]=-0xb03+-0x25c3+0x1*0x30c6,_0x193671[0xcc*-0x27+0x2591+-0x673]=0x1ce+-0x117+-0x1a*0x7,_0x193671[0x2024+0x7*0x1a8+0x2bb1*-0x1]=0x1842+-0x9a9+-0xe99,_0x193671[-0xee5+0x92c*0x2+-0x1*0x367]=_0x28600f,_0x193671[-0x1a57+0x7d*-0x31+0x3251]=_0x46274b,_0x193671[0xda1*0x1+-0x17*-0x102+-0x61*0x61]=_0x2b74bc,_0x193671[0x1*-0x64d+0x47*-0xf+0xa85*0x1]=-0xb9f+0x49*-0x86+-0x2*-0x18eb,this;}['setScale'](_0x591629,_0x5a997d,_0x8fc035){const _0x3a18dc=this['data'];return _0x3a18dc[0x2*-0x595+0x11*0xce+0x142*-0x2]=_0x591629,_0x3a18dc[0x218b+-0x166d+0xb1d*-0x1]=-0x167*-0x6+-0x1f0f+0xbb*0x1f,_0x3a18dc[-0x378+-0x1235+0x15af]=0x10*-0x40+0x1836+-0x1436,_0x3a18dc[0xdc3*-0x1+0x1*0x47b+0x94b]=-0x1*-0x1323+-0x7*0x4d2+0xe9b,_0x3a18dc[-0x113b+0xd*0xb3+0x828]=-0x20b8+0x1*0x1f20+0x198,_0x3a18dc[0x26e+-0x13f5+0x8c6*0x2]=_0x5a997d,_0x3a18dc[-0x107*-0xb+0x96*-0x22+-0x8a5*-0x1]=0x23e9+-0x1*0x5ba+-0x1*0x1e2f,_0x3a18dc[0x1a63+-0x225b+-0x17*-0x59]=-0x8f*-0x31+0x3a1*0x2+-0x22a1,_0x3a18dc[-0x126c+0x1*-0xb51+0x1dc5]=-0x103*-0x7+-0x13*-0x1a1+-0x2608,_0x3a18dc[-0xb4c+-0x18e+0xce3]=0x1*0x176b+-0x83*0x49+0xdf0,_0x3a18dc[-0x834+0x22f7*-0x1+0x2b35]=_0x8fc035,_0x3a18dc[-0x107*0x5+-0x1*0x1f87+0x24b5*0x1]=0x381+0xc99+-0x101a,_0x3a18dc[0x2567+0x141a+-0x3975]=0x21*-0xb3+-0x6d*0x7+0x1a0e,_0x3a18dc[0x23ea+0x2292+-0xf7*0x49]=0x120b+-0x1c0e+0xa03,_0x3a18dc[-0x5f4+-0x5d*-0x29+-0x8e3]=-0x128b+-0x943*-0x2+0x5,_0x3a18dc[0x83*0x2e+-0xa40+0x3*-0x469]=0x13f0+0x12b5+0x1*-0x26a4,this;}['setViewpor'+'t'](_0x3b589e,_0x29d505,_0x49e161,_0x59f885){const _0x152180=this['data'];return _0x152180[-0x3af*0xa+0xf1+-0x3fd*-0x9]=_0x49e161*(-0x14*0x1a8+0x184a+0x8d6+0.5),_0x152180[0x32*0x5f+-0x2*0xa80+0x273]=0x105e*-0x1+0x1e*0x5d+0x8c*0xa,_0x152180[0xee2+0x44d+0x1*-0x132d]=0x2f6+-0x2008+0x1d12,_0x152180[-0x250c+0x7*0x6b+0x2222*0x1]=-0x39f*-0xa+0x3ed*0x7+0x1*-0x3fb1,_0x152180[0x13b1*0x1+0x20e+-0x1*0x15bb]=0x592+0xb9+0x219*-0x3,_0x152180[0x1db+-0x11*0x14f+0x1469]=_0x59f885*(-0x2*-0x124d+0x71f*-0x5+0x11*-0xf+0.5),_0x152180[-0x1e98+-0x4a9+0x2347]=-0x510+-0x261d+0x2b2d,_0x152180[0x71*0x57+0x152d+-0x3b8d]=-0x1d*0x141+0x267b*-0x1+0x4ad8,_0x152180[-0x4*-0x45d+0x1*0x153d+-0x26a9]=0x2673*-0x1+-0x7c7*0x5+0x2*0x26ab,_0x152180[0x1f21+0x1*-0xdd1+-0x1*0x1147]=0x490+-0x18d6+0x1446,_0x152180[-0x9*0x1e7+0x207+0x791*0x2]=0xf*-0x1e5+-0x58*0x54+-0x1*-0x394b+0.5,_0x152180[0x1*-0x10bd+-0x1d*0xf7+-0x1*-0x2cc3]=0x3*0x189+0x1*-0x1ab8+0x161d,_0x152180[0x56b+0x111d*-0x2+0x1cdb]=_0x3b589e+_0x49e161*(-0x61c+-0xba*-0x5+0x27a+0.5),_0x152180[0x3*-0x277+-0x12f1+0x1a63*0x1]=_0x29d505+_0x59f885*(0xb*-0x14b+0x21b2+0x1379*-0x1+0.5),_0x152180[0x90d+0x8b*-0x29+0xd44]=0x13ad+-0x2e*0x25+0xd07*-0x1+0.5,_0x152180[0x2be*0xd+-0x224*0x10+-0x157]=-0x1106+-0x1f55+0x305c,this;}['setReflect'+'ion'](_0x45e77e,_0x4ee8a7){const _0x308ccb=_0x45e77e['x'],_0x468ec8=_0x45e77e['y'],_0x63aee2=_0x45e77e['z'],_0x5c7990=this['data'];return _0x5c7990[-0x638+-0x1*0x1378+0x19b0]=0x22b3+0x1ead+-0x415f-(0x219d*-0x1+-0x6a*0x39+-0x1313*-0x3)*_0x308ccb*_0x308ccb,_0x5c7990[-0x13*-0x15+-0x14e*-0x6+-0x2*0x4b1]=-(0x5c6+-0x54*0x22+0x564)*_0x308ccb*_0x468ec8,_0x5c7990[-0x23e3+-0x19+0x23fe]=-(-0xe1b*0x1+0x1bdc+0x9*-0x187)*_0x308ccb*_0x63aee2,_0x5c7990[0x420+-0x217*0x2+0x11*0x1]=-0x4e+-0x668+-0x1*-0x6b6,_0x5c7990[-0x1a8b+0x2595+-0x53*0x22]=-(0x170d+-0xab7*-0x3+-0x4*0xdcc)*_0x308ccb*_0x468ec8,_0x5c7990[-0xbdd+-0x793*0x1+0x1375]=-0x7*-0x12e+0xaed*0x3+-0x1*0x2908-(0x665+-0xd93+0x730)*_0x468ec8*_0x468ec8,_0x5c7990[-0x27c+0x7*-0x57d+-0x1*-0x28ed]=-(-0x26ca*-0x1+0x1*0x25ad+-0x4c75)*_0x468ec8*_0x63aee2,_0x5c7990[0x2*0x113+-0x1*-0x1993+-0x2c5*0xa]=-0xf8a+0x1dc6+-0xe3c,_0x5c7990[-0x697+0x72e+-0x8f]=-(-0x7ff+0x1*-0x1b54+-0x2355*-0x1)*_0x308ccb*_0x63aee2,_0x5c7990[-0x1400+0x1267+0xd1*0x2]=-(-0x1*-0x1421+0xf40+-0x235f)*_0x468ec8*_0x63aee2,_0x5c7990[-0x19cc+0x22a*-0x10+-0x1*-0x3c76]=0xb*-0x209+0x8db+0x3*0x483-(0x765*0x5+-0x10*0x3a+-0x2157*0x1)*_0x63aee2*_0x63aee2,_0x5c7990[-0xf64+-0x3*0x2c+0xff3]=-0xba+0x3ca+-0x310,_0x5c7990[-0x1321+0x57*-0x16+-0x1*-0x1aa7]=-(0x1*-0x232+0x17*-0x16d+0x1f*0x121)*_0x308ccb*_0x4ee8a7,_0x5c7990[-0x86*0x49+-0x3b6+0x23*0x133]=-(-0x102f*-0x1+0x8*-0x362+0x3a1*0x3)*_0x468ec8*_0x4ee8a7,_0x5c7990[0xbb*-0x30+0x1c*0x15b+-0x2d6]=-(0x1*0x128f+-0xe*-0x13a+0x1*-0x23b9)*_0x63aee2*_0x4ee8a7,_0x5c7990[-0x12f2+-0x1c07+-0xe*-0x35c]=-0xb2*-0x3+0x4c*0x40+-0x1515,this;}['invert'](_0x5bd19c=this){const _0x25a84a=_0x5bd19c['data'],_0x53d6f1=_0x25a84a[0x1c7+-0x1*0x19b3+0x2*0xbf6],_0x306261=_0x25a84a[-0x17c0+0x13*-0x11f+0x2d0e],_0x3629a9=_0x25a84a[0x4*0x959+0xb7*0x2+-0x26d0],_0x408254=_0x25a84a[-0x1*0x9c7+0x3*0x29d+0x1f3*0x1],_0x3cc321=_0x25a84a[0x17fc+0x1*-0xb6f+-0xc89],_0x3b3342=_0x25a84a[0x166d+-0x5e5*0x5+0xc9*0x9],_0x38dd5d=_0x25a84a[-0x266c+0x13df+0x1293],_0x2264b0=_0x25a84a[0x3*-0xc5b+0x18d1+0xc47],_0x5eb196=_0x25a84a[0x38b*-0x5+0x21ed+-0x102e],_0x5b2505=_0x25a84a[-0x1*-0x1823+-0x1a20+0x206],_0x25f489=_0x25a84a[0xa*0x24f+-0x42f+-0x12dd],_0x374822=_0x25a84a[-0x1a*-0x10+-0xfdd+-0x2*-0x724],_0x135b96=_0x25a84a[-0x2433*0x1+0x1cc8+0x93*0xd],_0x3a5d78=_0x25a84a[0x1*-0x1acd+-0x5*0x4f+0x1c65],_0x5d4471=_0x25a84a[-0xe*-0x14+0x16*-0x46+0x4fa],_0x1f25c6=_0x25a84a[-0x1*-0xa45+-0x1420+0x9ea],_0x4fe0ef=_0x53d6f1*_0x3b3342-_0x306261*_0x3cc321,_0x5c81c2=_0x53d6f1*_0x38dd5d-_0x3629a9*_0x3cc321,_0xc86107=_0x53d6f1*_0x2264b0-_0x408254*_0x3cc321,_0x56d2af=_0x306261*_0x38dd5d-_0x3629a9*_0x3b3342,_0x23d69f=_0x306261*_0x2264b0-_0x408254*_0x3b3342,_0x249a1d=_0x3629a9*_0x2264b0-_0x408254*_0x38dd5d,_0x41a0c7=_0x5eb196*_0x3a5d78-_0x5b2505*_0x135b96,_0x18259f=_0x5eb196*_0x5d4471-_0x25f489*_0x135b96,_0x4a83a1=_0x5eb196*_0x1f25c6-_0x374822*_0x135b96,_0x5146c9=_0x5b2505*_0x5d4471-_0x25f489*_0x3a5d78,_0x2ab714=_0x5b2505*_0x1f25c6-_0x374822*_0x3a5d78,_0x53c0f5=_0x25f489*_0x1f25c6-_0x374822*_0x5d4471,_0x48e0b4=_0x4fe0ef*_0x53c0f5-_0x5c81c2*_0x2ab714+_0xc86107*_0x5146c9+_0x56d2af*_0x4a83a1-_0x23d69f*_0x18259f+_0x249a1d*_0x41a0c7;if(_0x48e0b4===-0x1*-0x8fb+-0x1ed+-0x70e*0x1)this['setIdentit'+'y']();else{const _0xc71cee=(0x14bb+0xc*0x1ba+-0x2972)/_0x48e0b4,_0x191aaa=this['data'];_0x191aaa[0x1*0x1135+-0x1*0x181d+0x6e8]=(_0x3b3342*_0x53c0f5-_0x38dd5d*_0x2ab714+_0x2264b0*_0x5146c9)*_0xc71cee,_0x191aaa[-0x1*0x20c5+-0x1375+0x1*0x343b]=(-_0x306261*_0x53c0f5+_0x3629a9*_0x2ab714-_0x408254*_0x5146c9)*_0xc71cee,_0x191aaa[-0x11*-0x183+0x250d*-0x1+0x2*0x5ae]=(_0x3a5d78*_0x249a1d-_0x5d4471*_0x23d69f+_0x1f25c6*_0x56d2af)*_0xc71cee,_0x191aaa[-0x25*-0xf+0x4e*-0x49+0x1416]=(-_0x5b2505*_0x249a1d+_0x25f489*_0x23d69f-_0x374822*_0x56d2af)*_0xc71cee,_0x191aaa[-0x25ad+-0x26e2*0x1+0x4c93]=(-_0x3cc321*_0x53c0f5+_0x38dd5d*_0x4a83a1-_0x2264b0*_0x18259f)*_0xc71cee,_0x191aaa[-0x1c36+-0x2135+0x3d70]=(_0x53d6f1*_0x53c0f5-_0x3629a9*_0x4a83a1+_0x408254*_0x18259f)*_0xc71cee,_0x191aaa[-0x5fd+0xe51+-0x84e]=(-_0x135b96*_0x249a1d+_0x5d4471*_0xc86107-_0x1f25c6*_0x5c81c2)*_0xc71cee,_0x191aaa[0x1666+-0xecb+-0x184*0x5]=(_0x5eb196*_0x249a1d-_0x25f489*_0xc86107+_0x374822*_0x5c81c2)*_0xc71cee,_0x191aaa[0x26e6+0x23f6+-0x4ad4]=(_0x3cc321*_0x2ab714-_0x3b3342*_0x4a83a1+_0x2264b0*_0x41a0c7)*_0xc71cee,_0x191aaa[0xe8e+-0x2*-0x1eb+-0x1*0x125b]=(-_0x53d6f1*_0x2ab714+_0x306261*_0x4a83a1-_0x408254*_0x41a0c7)*_0xc71cee,_0x191aaa[0x16*0x19f+-0x1e*0x5+0xf*-0x256]=(_0x135b96*_0x23d69f-_0x3a5d78*_0xc86107+_0x1f25c6*_0x4fe0ef)*_0xc71cee,_0x191aaa[-0x2681+-0x10c2+0x374e]=(-_0x5eb196*_0x23d69f+_0x5b2505*_0xc86107-_0x374822*_0x4fe0ef)*_0xc71cee,_0x191aaa[-0x56b*0x1+0x217*0x1+0x360]=(-_0x3cc321*_0x5146c9+_0x3b3342*_0x18259f-_0x38dd5d*_0x41a0c7)*_0xc71cee,_0x191aaa[0xf9e+-0x85*0x18+-0x319]=(_0x53d6f1*_0x5146c9-_0x306261*_0x18259f+_0x3629a9*_0x41a0c7)*_0xc71cee,_0x191aaa[-0x12ab+-0x719+0x19d2]=(-_0x135b96*_0x56d2af+_0x3a5d78*_0x5c81c2-_0x5d4471*_0x4fe0ef)*_0xc71cee,_0x191aaa[0x1e2d+0x1e78+-0x3c96]=(_0x5eb196*_0x56d2af-_0x5b2505*_0x5c81c2+_0x25f489*_0x4fe0ef)*_0xc71cee;}return this;}['set'](_0x106bca){const _0x31bb0d=this['data'];return _0x31bb0d[0x665+0x6fc+-0x89*0x19]=_0x106bca[-0x3*0xbe1+-0x1d90+0x4133],_0x31bb0d[-0x14*0x1c1+-0x4b*-0x6b+0x3bc]=_0x106bca[-0x769+-0x1a+0xd*0x94],_0x31bb0d[0x26*-0xa0+-0x23f9+-0x13e9*-0x3]=_0x106bca[-0x1*-0x1f1f+0x2fc+0x7*-0x4df],_0x31bb0d[-0x1e1c+-0x24bf+0x42de]=_0x106bca[-0x2*0x110b+0x4a4+-0x1*-0x1d75],_0x31bb0d[-0x29*-0xca+0x4b8+0x5d*-0x66]=_0x106bca[0x1db2+0x3*0x6a1+0x3191*-0x1],_0x31bb0d[0x2388+-0x24e4+0x161]=_0x106bca[0x1fb4*0x1+0x1*0x19fe+-0x39ad],_0x31bb0d[0xd67*-0x1+0x1*-0xe1d+0x1b8a]=_0x106bca[-0x1b95+-0x8fa+0x5*0x751],_0x31bb0d[-0x1*-0x20ef+-0x2052+0x32*-0x3]=_0x106bca[-0xa61+-0x1fe+0xc66],_0x31bb0d[0x1*0x113f+-0x1840+0x709]=_0x106bca[0x1229+0x1839+-0x2a5a],_0x31bb0d[-0xe5a+-0x8ff+-0x1762*-0x1]=_0x106bca[0x1*0x6bf+0x165b+-0x1d11],_0x31bb0d[0x1092+-0x232c+-0x1*-0x12a4]=_0x106bca[-0x3fb+-0x211f+0x2524],_0x31bb0d[-0x1*-0x5dd+0x1c5d+0x222f*-0x1]=_0x106bca[0x1a0+-0x1a7+0x2*0x9],_0x31bb0d[-0x3c1*0x5+-0x1*-0x1813+-0x2a1*0x2]=_0x106bca[-0x1927+0x2*0x218+-0x21*-0xa3],_0x31bb0d[0x118b+-0xc*0x301+0x128e]=_0x106bca[0x134+0x324*0x8+-0x1a47],_0x31bb0d[0x2c*0x6f+-0x10ae+-0x258]=_0x106bca[-0x4cf*-0x7+0x1018*-0x1+-0x1183],_0x31bb0d[0x1*0x1ad7+0x1e5d+-0x1*0x3925]=_0x106bca[0x4*0x133+0x193+0x328*-0x2],this;}['setIdentit'+'y'](){const _0x6439b1=this['data'];return _0x6439b1[0x17e*-0x5+-0x21f2+0x2968]=0x296*-0x6+0x25ff+0x89*-0x2a,_0x6439b1[-0x2*0x6cd+-0xa4c+0x17e7]=0x2670+-0x1603+-0x5*0x349,_0x6439b1[0x664+0x1bee+0x7a*-0x48]=0x6a*-0x4+-0x115c*-0x2+-0x2110,_0x6439b1[-0x1fbc+-0x1*-0x22f1+-0x332]=-0x3e+-0x198e*0x1+-0xd*-0x1fc,_0x6439b1[-0x165e+0x2cf*-0x1+0x1931]=0x19e+0x59e*-0x1+0x400,_0x6439b1[-0x1f20+-0x547*0x3+-0xe*-0x35b]=0x12b2+0x1338+0x5*-0x795,_0x6439b1[0x7*-0x2d7+0x8c3*0x2+0x3*0xcb]=0x2*0x2b3+0x1*-0xd67+-0x801*-0x1,_0x6439b1[-0x69*-0x5e+0x1*0x222f+-0xe3*0x52]=0xc8*0x17+0x1564+-0x275c,_0x6439b1[0x341*-0x2+0x5*-0x9d+0x1*0x99b]=-0x8*-0x38f+0x350*0x8+-0x36f8,_0x6439b1[-0x1*0x751+-0x19f5+0x214f]=0x9cd*-0x1+-0x8*0x40f+-0x1*-0x2a45,_0x6439b1[0x1*-0x152c+0x1*-0x14af+0x29e5]=-0xfdc+-0x4e*-0x65+0x1*-0xee9,_0x6439b1[0x53*0x3e+0x8b*-0x43+0x1052]=0xb6d+-0x140*-0xd+-0x1bad,_0x6439b1[0x1be*-0x5+0x1320+-0x52f*0x2]=-0x1e79+-0x1bd4+0x3a4d,_0x6439b1[-0x16e8+0x921+0xdd4]=0x523*-0x5+-0xa55+0x2*0x1202,_0x6439b1[0x19c6+-0xff+-0x18b9]=0x154b+0x18c6+-0x2e11*0x1,_0x6439b1[0x5a*-0x21+0x5*0x103+0x1a*0x41]=0x4cf*0x1+0x151*0x11+-0x1*0x1b2f,this;}['setTRS'](_0x1b2a3c,_0x5e5557,_0x135345){const _0x1a8963=_0x5e5557['x'],_0x49210e=_0x5e5557['y'],_0x21366b=_0x5e5557['z'],_0x5dab2c=_0x5e5557['w'],_0x940a62=_0x135345['x'],_0x21bef4=_0x135345['y'],_0x555127=_0x135345['z'],_0x5c23c6=_0x1a8963+_0x1a8963,_0x39d4ab=_0x49210e+_0x49210e,_0x52ed06=_0x21366b+_0x21366b,_0x501e5e=_0x1a8963*_0x5c23c6,_0x78a8ee=_0x1a8963*_0x39d4ab,_0x3e4160=_0x1a8963*_0x52ed06,_0x10fc23=_0x49210e*_0x39d4ab,_0x332580=_0x49210e*_0x52ed06,_0x37b8cd=_0x21366b*_0x52ed06,_0x4893cb=_0x5dab2c*_0x5c23c6,_0xd6dc86=_0x5dab2c*_0x39d4ab,_0x418b35=_0x5dab2c*_0x52ed06,_0xb04212=this['data'];return _0xb04212[-0x1*-0x5d5+0x1f5d+-0x2532]=(-0x260+0x256e+-0x9*0x3e5-(_0x10fc23+_0x37b8cd))*_0x940a62,_0xb04212[-0xfd9+-0xc3e*0x2+0x2856]=(_0x78a8ee+_0x418b35)*_0x940a62,_0xb04212[0x14df+-0x1086+-0x457]=(_0x3e4160-_0xd6dc86)*_0x940a62,_0xb04212[0x1819+0x11ce+-0x29e4]=0x2be*0x1+-0x5ab*-0x1+-0x869,_0xb04212[0x35*0x40+-0x6f4+-0x648]=(_0x78a8ee-_0x418b35)*_0x21bef4,_0xb04212[0x23f9+0xc25*0x3+-0x4863]=(0x112*-0xd+-0xcdb+0x1ac6-(_0x501e5e+_0x37b8cd))*_0x21bef4,_0xb04212[-0x19a2+-0x3*0x7a3+0x3091]=(_0x332580+_0x4893cb)*_0x21bef4,_0xb04212[-0x1036+-0x323*-0x7+-0x3*0x1e8]=0xe3*-0x3+0x2051+0xed4*-0x2,_0xb04212[-0x23*-0xb4+0x1438+-0x2ccc]=(_0x3e4160+_0xd6dc86)*_0x555127,_0xb04212[-0xdcd*-0x1+0x5d1*-0x2+-0x222]=(_0x332580-_0x4893cb)*_0x555127,_0xb04212[-0x6*-0x3f3+0x1*0x22a8+-0x9b8*0x6]=(0x85f+-0x423+-0x43b-(_0x501e5e+_0x10fc23))*_0x555127,_0xb04212[-0x223a+-0x1029+0x326e]=0x143c+-0xb5f*0x2+-0x282*-0x1,_0xb04212[0xb*0xb7+-0x107*0x5+-0x2*0x157]=_0x1b2a3c['x'],_0xb04212[0x2*0x11e+0xc46*0x3+-0x2701]=_0x1b2a3c['y'],_0xb04212[0x1fd3*-0x1+0x1ee3+0xfe]=_0x1b2a3c['z'],_0xb04212[-0x11b4+-0xe6f*0x1+0x2032]=-0x24f5+0x12*0x65+0x24c*0xd,this;}['transpose'](_0x3ef83d=this){const _0x20838c=_0x3ef83d['data'],_0x2066b2=this['data'];if(_0x20838c===_0x2066b2){let _0x8f811c;_0x8f811c=_0x20838c[0x175*0xe+0xd21*-0x2+0x5dd],_0x2066b2[0x287+-0x13a*-0x1+-0x3c0]=_0x20838c[-0x5*-0x3a9+-0x1*0x2565+0x131c],_0x2066b2[0x1*-0x1615+-0x3*0x55b+0x262a]=_0x8f811c,_0x8f811c=_0x20838c[0x20e6+-0x405*-0x9+-0x4511*0x1],_0x2066b2[-0x1244+-0x36*0xb1+0x1bce*0x2]=_0x20838c[0x96f+-0x1*-0x919+0x4*-0x4a0],_0x2066b2[0x13f4+-0x1841+0x455]=_0x8f811c,_0x8f811c=_0x20838c[-0x1d*-0x3+0x2147*0x1+-0x219b*0x1],_0x2066b2[-0x16*0x10d+-0x5*0x20b+0x2158]=_0x20838c[-0x1a56+-0x1683+0x1*0x30e5],_0x2066b2[-0x4c*-0x5a+0xea8+-0x4*0xa55]=_0x8f811c,_0x8f811c=_0x20838c[0xf7f+0x166e+-0x25e7],_0x2066b2[-0x56*0x25+0xd*-0x194+-0x698*-0x5]=_0x20838c[-0x4*0x9a4+-0x144a+0x3ae3],_0x2066b2[-0xc2f+0x1*-0xdfd+0x1a35*0x1]=_0x8f811c,_0x8f811c=_0x20838c[-0x1786+0xff3+0x79a],_0x2066b2[-0x1ca0+0x4*-0x883+0x7*0x8f5]=_0x20838c[-0x19e8+0x1*-0x566+0x1f5b],_0x2066b2[0x2034+-0x20ec+0xc5*0x1]=_0x8f811c,_0x8f811c=_0x20838c[-0x21*-0x1f+-0x5b*0x65+0x1ff3*0x1],_0x2066b2[-0x23dc+-0xca1+0x3088]=_0x20838c[-0x29*0xcd+0xfda*0x2+0x3*0x65],_0x2066b2[0x22b1*0x1+-0x368+-0x1f3b]=_0x8f811c;}else _0x2066b2[-0x10bf*0x2+0x511+0x1c6d]=_0x20838c[0x1c29+0x8d2+0x24fb*-0x1],_0x2066b2[-0x1*-0x1279+-0x1f2d+-0x1*-0xcb5]=_0x20838c[0x1*-0x261b+0x1ee3+0x73c],_0x2066b2[-0x1e4b+-0x3*0x41b+-0x154f*-0x2]=_0x20838c[0x71*-0x2a+0x1461+0x1*-0x1cf],_0x2066b2[0xb7+-0x43*0x79+0x1ef7]=_0x20838c[-0x1107+0x13*-0xbf+0x1f40*0x1],_0x2066b2[0x2*0x27a+-0x2589+0x685*0x5]=_0x20838c[-0x5ee+0x7*-0x3c3+-0xec*-0x23],_0x2066b2[0x1f*-0x2+0x1414+-0x13d1]=_0x20838c[0xb1e+-0x7*0x2c3+0x2*0x41e],_0x2066b2[0x8a0+0xde5+-0x167f]=_0x20838c[-0x1280+-0x127+0x13b0],_0x2066b2[-0xdb4+-0x3*0xac2+-0x2e01*-0x1]=_0x20838c[0x150+-0xb*-0x25+-0x49*0xa],_0x2066b2[-0x1*-0x5f7+0x10aa+-0x1699*0x1]=_0x20838c[-0x8f0+-0x4bb*-0x4+-0x9fa*0x1],_0x2066b2[0x15f*0x2+-0x9b2+-0x1*-0x6fd]=_0x20838c[-0x7ca+0x1272*0x2+-0x1d14],_0x2066b2[0x2*-0xbe+0x3*0x391+-0x92d]=_0x20838c[0x1353+-0x8ef+-0xa5a],_0x2066b2[-0xce6+-0x1b10+-0x85*-0x4d]=_0x20838c[-0xe*-0x27d+0x6de+0x6f1*-0x6],_0x2066b2[0x2*0xaf3+0x186e+-0x2e48]=_0x20838c[-0x781*0x2+0x1*0x128a+-0x1*0x385],_0x2066b2[-0x647+-0xf8d*-0x2+-0xe*0x1c5]=_0x20838c[-0x5a*-0x3+0x3*0x8f9+-0x1bf2],_0x2066b2[-0x5*0x40+0x29c+-0x2*0xa7]=_0x20838c[-0x2671+-0xe12+0x348e],_0x2066b2[-0x1840*0x1+0x1*-0x15eb+0x2e3a]=_0x20838c[0x74b*-0x2+-0x13ce+0x1*0x2273];return this;}['getTransla'+'tion'](_0x533715=new T()){return _0x533715['set'](this['data'][0x263*-0x1+-0x18f+0x3fe],this['data'][0xfbb+-0x901+0x6ad*-0x1],this['data'][-0x6cd*-0x5+-0x10c3+-0x1130]);}['getX'](_0x4daf49=new T()){return _0x4daf49['set'](this['data'][-0xe1d*-0x2+0x25*-0xfe+0x2d4*0x3],this['data'][0x148c+0x100a+0x1*-0x2495],this['data'][0x3*0xc9+0xa88*-0x1+-0x1*-0x82f]);}['getY'](_0x40f3f1=new T()){return _0x40f3f1['set'](this['data'][0x7*0x30b+-0x1216+-0x333],this['data'][0x9cc+0xe8a+-0x19f*0xf],this['data'][0x2b*-0x39+-0x5*0x4f6+0x2267*0x1]);}['getZ'](_0x3ec043=new T()){return _0x3ec043['set'](this['data'][-0x5*-0x39+-0xa7d+-0x968*-0x1],this['data'][-0x6*-0x66c+-0xb44+-0x1*0x1b3b],this['data'][0x25c7+0xdec+-0x33a9]);}['getScale'](_0x481974=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x481974['set'](us['length'](),Fs['length'](),Os['length']()),_0x481974;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<0x1*-0x19c1+-0x1159*0x2+0x3c73?-(0x981+-0x1225*0x2+0x1aca):-0x3*-0x101+-0x1b1c+0x181a*0x1;}['setFromEul'+'erAngles'](_0x470bba,_0x57320a,_0x43dcc3){_0x470bba*=N['DEG_TO_RAD'],_0x57320a*=N['DEG_TO_RAD'],_0x43dcc3*=N['DEG_TO_RAD'];const _0x5785bd=Math['sin'](-_0x470bba),_0x39176a=Math['cos'](-_0x470bba),_0x4885b9=Math['sin'](-_0x57320a),_0x53e855=Math['cos'](-_0x57320a),_0x306a07=Math['sin'](-_0x43dcc3),_0x43de41=Math['cos'](-_0x43dcc3),_0x11f363=this['data'];return _0x11f363[-0x13fd+-0x55b+0x1958]=_0x53e855*_0x43de41,_0x11f363[-0x1e39+-0x222f+0x1*0x4069]=-_0x53e855*_0x306a07,_0x11f363[0x1*-0x1393+-0x1c8f+0x3b4*0xd]=_0x4885b9,_0x11f363[0x1c18+0x3*-0x2a1+-0x1432]=-0x1f54+0x4*0x3+0x1f48,_0x11f363[-0xd9d+0x3*0x779+-0x8ca]=_0x39176a*_0x306a07+_0x43de41*_0x5785bd*_0x4885b9,_0x11f363[0x1*0x1829+-0x5*0x42b+-0x34d]=_0x39176a*_0x43de41-_0x5785bd*_0x4885b9*_0x306a07,_0x11f363[-0xf89+-0x1cfc+0x2c8b]=-_0x53e855*_0x5785bd,_0x11f363[0x3*0x5b+0x1ded+-0x1ef7]=-0x1*0x14d5+0xba*-0x23+0x2e43*0x1,_0x11f363[0x1a0d+-0x1*0x18ee+-0x5d*0x3]=_0x5785bd*_0x306a07-_0x39176a*_0x43de41*_0x4885b9,_0x11f363[-0x1ee3+-0x1*0x24c1+-0x15*-0x339]=_0x43de41*_0x5785bd+_0x39176a*_0x4885b9*_0x306a07,_0x11f363[0x1*-0xf3e+0x992*-0x1+0x18da]=_0x39176a*_0x53e855,_0x11f363[0x2006*-0x1+-0xcf5*-0x3+-0x2*0x367]=-0xf39+-0x1*0x1305+0x223e,_0x11f363[0x17ea+-0x14e+-0x13*0x130]=-0x7*0x547+-0x477*0x3+0x3256,_0x11f363[0x23f1*-0x1+0x580+0xa2a*0x3]=0x1*-0x1410+0xa7*-0x3b+0x3a8d,_0x11f363[0x834+0x213*-0xe+0x17e*0xe]=0xab*0x3+-0xe6e+0xc6d*0x1,_0x11f363[0x11f2*0x1+0x142a+-0x260d*0x1]=-0xfa7*0x1+0x1*-0x1c3a+0x2be2,this;}['getEulerAn'+'gles'](_0x2fa565=new T()){this['getScale'](_l);const _0xccb484=_l['x'],_0x84ecb0=_l['y'],_0x3fef7a=_l['z'];if(_0xccb484===0x6d9*-0x5+-0x8e6+0x2b23||_0x84ecb0===0x4*0x31+-0x119e+0x6*0x2cf||_0x3fef7a===-0x1e6a+0xf*-0x49+0x22b1)return _0x2fa565['set'](-0x1184+0xd5c+0x428,0xd1*0x29+0x1*-0x167b+-0xafe,0xa7*-0xa+-0x81*-0x1a+-0x34a*0x2);const _0x31403e=this['data'],_0x1edc9d=Math['asin'](-_0x31403e[-0x3b*0x81+-0x1*-0xdd5+-0x2*-0x7f4]/_0xccb484),_0x339fdf=Math['PI']*(0xe3*0x27+-0x2b7+-0x1fde+0.5);let _0x36fc24,_0x3c04d3;return _0x1edc9d<_0x339fdf?_0x1edc9d>-_0x339fdf?(_0x36fc24=Math['atan2'](_0x31403e[0x3b*-0x2b+-0x1990+0x237f]/_0x84ecb0,_0x31403e[0x1e51+0x630*0x4+-0x3707*0x1]/_0x3fef7a),_0x3c04d3=Math['atan2'](_0x31403e[0x225c+0x16c+-0x23c7]/_0xccb484,_0x31403e[-0x887+0x1*0x66c+-0x1*-0x21b]/_0xccb484)):(_0x3c04d3=0x766*0x3+0x3*0xc0b+-0x9*0x67b,_0x36fc24=-Math['atan2'](_0x31403e[0x35*0xa9+0x1984+0x3c7d*-0x1]/_0x84ecb0,_0x31403e[-0x125a+-0x1145*-0x2+-0x102b*0x1]/_0x84ecb0)):(_0x3c04d3=-0x1*-0x1b83+0x234*-0x11+0x1*0x9f1,_0x36fc24=Math['atan2'](_0x31403e[-0x2d+-0x39*-0x29+0xb*-0xd0]/_0x84ecb0,_0x31403e[-0x11*-0x20b+0xd*0x205+-0x3cf7]/_0x84ecb0)),_0x2fa565['set'](_0x36fc24,_0x1edc9d,_0x3c04d3)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([-0xb25*-0x2+-0xba6+-0x1*0xaa4,-0x8*0x163+-0xc13+-0x293*-0x9,-0xa29+0x1bc5*0x1+0x1c*-0xa1,0x92*0xb+-0x6*0x38f+0xf14,-0x7*-0x1af+-0x2d*0x8a+-0xc79*-0x1,-0xc1e+-0x2b4*0x3+0x143a,-0x1a37+-0x245c+-0x53*-0xc1,-0x2cf*-0x4+0x17*-0x170+-0xaea*-0x2,-0x28*-0xa4+-0xc*0x266+0x328,0x15*0x5b+0x268f*0x1+-0x56*0x89,0x201a+-0x9d5*0x1+0x1645*-0x1,0x7a5+0x6a*-0x57+0x1c61,0xd*-0xa7+0x1a61+-0x11e6,-0x11e0+-0x2*0x116+0x140c,0x22c6+-0x919*0x4+0x19e,-0x26f*-0x10+-0xa86*0x1+-0x1c6a])));let q=Ur;const aa=class aa{constructor(_0x363a6b=-0x2a*0x7f+-0x249b+0x3971,_0x454ffa=-0xd52+0x4d+0x3*0x457,_0x572d2d=-0x2456+-0x4*0x57b+0x3a42,_0x1d5ce0=0x1f39*0x1+0xf*-0x14d+-0xbb5){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x363a6b['length']===0x1616+-0x247d+0xe6b?(this['x']=_0x363a6b[0x53*-0x51+0x5*-0x6be+0x3bf9],this['y']=_0x363a6b[0xefd*0x1+-0x2a*-0x8c+-0x12fa*0x2],this['z']=_0x363a6b[-0x2088+-0x1*0x74c+-0x1*-0x27d6],this['w']=_0x363a6b[0x362*0x2+-0x1078+0x9b7]):(this['x']=_0x363a6b,this['y']=_0x454ffa,this['z']=_0x572d2d,this['w']=_0x1d5ce0);}['clone'](){const _0xfd497f=this['constructo'+'r'];return new _0xfd497f(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x1df4fa=this){return this['x']=_0x1df4fa['x']*-(0xfeb+0x3*-0xa01+0xe19),this['y']=_0x1df4fa['y']*-(-0x183f+-0x6b*0x6+0x1ac2),this['z']=_0x1df4fa['z']*-(0x1*0x499+-0xa44+0x5ac),this['w']=_0x1df4fa['w'],this;}['copy'](_0x7e61d5){return this['x']=_0x7e61d5['x'],this['y']=_0x7e61d5['y'],this['z']=_0x7e61d5['z'],this['w']=_0x7e61d5['w'],this;}['equals'](_0x1d8f96){return this['x']===_0x1d8f96['x']&&this['y']===_0x1d8f96['y']&&this['z']===_0x1d8f96['z']&&this['w']===_0x1d8f96['w'];}['equalsAppr'+'ox'](_0x58c5dd,_0x245571=-0xe65+0x1ed6*-0x1+0x2d3b+0.000001){return Math['abs'](this['x']-_0x58c5dd['x'])<_0x245571&&Math['abs'](this['y']-_0x58c5dd['y'])<_0x245571&&Math['abs'](this['z']-_0x58c5dd['z'])<_0x245571&&Math['abs'](this['w']-_0x58c5dd['w'])<_0x245571;}['getAxisAng'+'le'](_0x87bceb){let _0x14dd85=Math['acos'](this['w'])*(-0x1f8b+0x37c+0x1c11);const _0x4f599e=Math['sin'](_0x14dd85/(-0xe64+0x1472+-0x56*0x12));return _0x4f599e!==-0x25fb+-0x737+0x2d32?(_0x87bceb['x']=this['x']/_0x4f599e,_0x87bceb['y']=this['y']/_0x4f599e,_0x87bceb['z']=this['z']/_0x4f599e,(_0x87bceb['x']<0x17bb+0x1*0xcbb+-0x2476||_0x87bceb['y']<-0x1518+0x1e52+-0x93a||_0x87bceb['z']<-0x13ed+0x98b*-0x3+0x308e)&&(_0x87bceb['x']*=-(0x1ba*0x5+-0x11ab+0x90a*0x1),_0x87bceb['y']*=-(-0x1ae1+0x17ae+-0x52*-0xa),_0x87bceb['z']*=-(0xb45+-0x4*-0x86a+0x23f*-0x14),_0x14dd85*=-(-0x914+0x21*-0x5+0x9ba))):(_0x87bceb['x']=0x28d+0xde9*0x1+-0x17f*0xb,_0x87bceb['y']=0x1e6d*-0x1+0x1d03+0x16a,_0x87bceb['z']=-0x879+-0xca8+-0x259*-0x9),_0x14dd85*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x34ca61=new T()){let _0x1904f7,_0x698c07,_0x16e373;const _0x260949=this['x'],_0x421943=this['y'],_0x36b8ce=this['z'],_0x565424=this['w'],_0x2c2e4a=(-0x249+0xa3b+-0x7f0)*(_0x565424*_0x421943-_0x260949*_0x36b8ce);return _0x2c2e4a<=-(-0x137b*-0x1+0x16*-0x10f+0x3cf+0.99999)?(_0x1904f7=(0x21e4+-0x46*0x68+-0x572)*Math['atan2'](_0x260949,_0x565424),_0x698c07=-Math['PI']/(0x7*-0x422+0x1*-0x13ed+0x30dd),_0x16e373=-0x26df+0x6fd*-0x3+0x3bd6):_0x2c2e4a>=0x374*0x3+0x2535*0x1+-0x2f91+0.99999?(_0x1904f7=(-0x1*-0x22d+0x10f+-0x33a)*Math['atan2'](_0x260949,_0x565424),_0x698c07=Math['PI']/(0x1*0xc81+0x1b11+-0x3*0xd30),_0x16e373=0x1427+-0x15f*-0x8+0x101*-0x1f):(_0x1904f7=Math['atan2']((0x1b*0x37+-0x45*-0x8d+-0x2bcc)*(_0x565424*_0x260949+_0x421943*_0x36b8ce),0xa75*0x3+0x1ca*-0x2+0xde5*-0x2-(-0xafe*-0x2+-0x335*-0x4+0x32a*-0xb)*(_0x260949*_0x260949+_0x421943*_0x421943)),_0x698c07=Math['asin'](_0x2c2e4a),_0x16e373=Math['atan2']((-0x958+0x2*0x1348+-0x1d36)*(_0x565424*_0x36b8ce+_0x260949*_0x421943),0x15*-0x111+0x354+-0x2*-0x989-(0x246f+0x7fe+-0x89*0x53)*(_0x421943*_0x421943+_0x36b8ce*_0x36b8ce))),_0x34ca61['set'](_0x1904f7,_0x698c07,_0x16e373)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x420abf=this){return this['conjugate'](_0x420abf)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x2ff409){const _0x29f342=this['x'],_0x4aa39e=this['y'],_0x3bd7f9=this['z'],_0x21af8e=this['w'],_0x3f225a=_0x2ff409['x'],_0x2f69d2=_0x2ff409['y'],_0x3c5bcc=_0x2ff409['z'],_0x5c471f=_0x2ff409['w'];return this['x']=_0x21af8e*_0x3f225a+_0x29f342*_0x5c471f+_0x4aa39e*_0x3c5bcc-_0x3bd7f9*_0x2f69d2,this['y']=_0x21af8e*_0x2f69d2+_0x4aa39e*_0x5c471f+_0x3bd7f9*_0x3f225a-_0x29f342*_0x3c5bcc,this['z']=_0x21af8e*_0x3c5bcc+_0x3bd7f9*_0x5c471f+_0x29f342*_0x2f69d2-_0x4aa39e*_0x3f225a,this['w']=_0x21af8e*_0x5c471f-_0x29f342*_0x3f225a-_0x4aa39e*_0x2f69d2-_0x3bd7f9*_0x3c5bcc,this;}['mulScalar'](_0x34a4ce,_0x12268b=this){return this['x']=_0x12268b['x']*_0x34a4ce,this['y']=_0x12268b['y']*_0x34a4ce,this['z']=_0x12268b['z']*_0x34a4ce,this['w']=_0x12268b['w']*_0x34a4ce,this;}['mul2'](_0x26317b,_0x5bcd58){const _0x21f234=_0x26317b['x'],_0x3817e4=_0x26317b['y'],_0xa4c860=_0x26317b['z'],_0x4e7fc4=_0x26317b['w'],_0x5c8dc3=_0x5bcd58['x'],_0x41bd7a=_0x5bcd58['y'],_0x4cacf5=_0x5bcd58['z'],_0x541fb7=_0x5bcd58['w'];return this['x']=_0x4e7fc4*_0x5c8dc3+_0x21f234*_0x541fb7+_0x3817e4*_0x4cacf5-_0xa4c860*_0x41bd7a,this['y']=_0x4e7fc4*_0x41bd7a+_0x3817e4*_0x541fb7+_0xa4c860*_0x5c8dc3-_0x21f234*_0x4cacf5,this['z']=_0x4e7fc4*_0x4cacf5+_0xa4c860*_0x541fb7+_0x21f234*_0x41bd7a-_0x3817e4*_0x5c8dc3,this['w']=_0x4e7fc4*_0x541fb7-_0x21f234*_0x5c8dc3-_0x3817e4*_0x41bd7a-_0xa4c860*_0x4cacf5,this;}['normalize'](_0x36ab5d=this){let _0x14a375=_0x36ab5d['length']();return _0x14a375===0x14d9*-0x1+-0xed2+0x23ab*0x1?(this['x']=this['y']=this['z']=0x103*-0x3+0xfa*0x13+-0xf85,this['w']=0xd31+0xeb3+-0x1be3):(_0x14a375=(0x16ff*-0x1+0x7*-0x22c+0xa3*0x3c)/_0x14a375,this['x']=_0x36ab5d['x']*_0x14a375,this['y']=_0x36ab5d['y']*_0x14a375,this['z']=_0x36ab5d['z']*_0x14a375,this['w']=_0x36ab5d['w']*_0x14a375),this;}['set'](_0x4aae87,_0xf369a9,_0x262eb3,_0x10cff3){return this['x']=_0x4aae87,this['y']=_0xf369a9,this['z']=_0x262eb3,this['w']=_0x10cff3,this;}['setFromAxi'+'sAngle'](_0x18354d,_0x58eb0c){_0x58eb0c*=(0x277*0x8+0xb1f+-0x5*0x62b+0.5)*N['DEG_TO_RAD'];const _0x190efd=Math['sin'](_0x58eb0c),_0x452198=Math['cos'](_0x58eb0c);return this['x']=_0x190efd*_0x18354d['x'],this['y']=_0x190efd*_0x18354d['y'],this['z']=_0x190efd*_0x18354d['z'],this['w']=_0x452198,this;}['setFromEul'+'erAngles'](_0x33dc09,_0x5b80ab,_0x528d9b){if(_0x33dc09 instanceof T){const _0x444613=_0x33dc09;_0x33dc09=_0x444613['x'],_0x5b80ab=_0x444613['y'],_0x528d9b=_0x444613['z'];}const _0x252204=(-0x12d5*-0x2+0xa*-0x269+-0xd90+0.5)*N['DEG_TO_RAD'];_0x33dc09*=_0x252204,_0x5b80ab*=_0x252204,_0x528d9b*=_0x252204;const _0x1b3bfb=Math['sin'](_0x33dc09),_0x28c175=Math['cos'](_0x33dc09),_0x14f5f2=Math['sin'](_0x5b80ab),_0x491fdc=Math['cos'](_0x5b80ab),_0x25e0f8=Math['sin'](_0x528d9b),_0x536703=Math['cos'](_0x528d9b);return this['x']=_0x1b3bfb*_0x491fdc*_0x536703-_0x28c175*_0x14f5f2*_0x25e0f8,this['y']=_0x28c175*_0x14f5f2*_0x536703+_0x1b3bfb*_0x491fdc*_0x25e0f8,this['z']=_0x28c175*_0x491fdc*_0x25e0f8-_0x1b3bfb*_0x14f5f2*_0x536703,this['w']=_0x28c175*_0x491fdc*_0x536703+_0x1b3bfb*_0x14f5f2*_0x25e0f8,this;}['setFromMat'+'4'](_0x5da887){const _0x44fe30=_0x5da887['data'];let _0x577a8d=_0x44fe30[-0x1b14+-0x1*0x1b69+0x367d],_0x162f25=_0x44fe30[0x1c6*-0x2+0x156*0xb+-0xb25],_0x1d079d=_0x44fe30[0xb8d*-0x1+0x3a+0x3*0x3c7],_0x2cbef8=_0x44fe30[0xba*0x1e+0x1*0x15a3+-0x2b6b],_0x1bea33=_0x44fe30[-0x1609+-0x3b*0xa9+0xa1*0x61],_0x1a7197=_0x44fe30[0xe71+0x1e57+-0x2a2*0x11],_0x323d6a=_0x44fe30[0x126a*-0x1+-0x16ef+0x2961],_0xd8b32e=_0x44fe30[0x2f*-0xc9+-0x17d3+0x3cc3],_0x2d42a4=_0x44fe30[0x1dda+-0x4*0x145+-0x62f*0x4],_0x2ca5b5;return _0x2ca5b5=_0x577a8d*_0x577a8d+_0x162f25*_0x162f25+_0x1d079d*_0x1d079d,_0x2ca5b5===-0x1f7b*0x1+-0x1dfe+0x3d79?this['set'](-0x255d+-0x134e+0x38ab,-0x830*0x3+-0x1620+0x2eb0,-0x1*0x2291+0x2*-0xb1b+-0x12ed*-0x3,0x2*-0xec7+-0x1323+0x30b2):(_0x2ca5b5=(-0x509*-0x3+-0x6d*-0x48+0x16e1*-0x2)/Math['sqrt'](_0x2ca5b5),_0x577a8d*=_0x2ca5b5,_0x162f25*=_0x2ca5b5,_0x1d079d*=_0x2ca5b5,_0x2ca5b5=_0x2cbef8*_0x2cbef8+_0x1bea33*_0x1bea33+_0x1a7197*_0x1a7197,_0x2ca5b5===-0x1f9c+0x4*-0x48c+0x31cc?this['set'](-0x939*-0x1+-0x5*-0x751+-0x2dce,-0x1*-0x1861+-0xf21+-0x940,-0x16c8+-0xddd+0x24a5,0x24f2*-0x1+0x2*-0x1fd+0x28ed):(_0x2ca5b5=(0x801+-0x1f9d+0x179d)/Math['sqrt'](_0x2ca5b5),_0x2cbef8*=_0x2ca5b5,_0x1bea33*=_0x2ca5b5,_0x1a7197*=_0x2ca5b5,_0x2ca5b5=_0x323d6a*_0x323d6a+_0xd8b32e*_0xd8b32e+_0x2d42a4*_0x2d42a4,_0x2ca5b5===-0x1*0xca9+-0x1aa7+0x2750?this['set'](0x749+-0x11ba+0xa71,-0x2*0x562+-0x11cf+0x1c93,-0x2d*0xc9+0x25*-0x61+-0x1*-0x315a,-0xd5+-0x1b17+0x94f*0x3):(_0x2ca5b5=(-0x2186*-0x1+0x1d93*0x1+-0x8*0x7e3)/Math['sqrt'](_0x2ca5b5),_0x323d6a*=_0x2ca5b5,_0xd8b32e*=_0x2ca5b5,_0x2d42a4*=_0x2ca5b5,_0x2d42a4<-0x1964+-0x5d9*-0x6+-0x11*0x92?_0x577a8d>_0x1bea33?this['set'](0x1c77+0x90c+-0x2582*0x1+_0x577a8d-_0x1bea33-_0x2d42a4,_0x162f25+_0x2cbef8,_0x323d6a+_0x1d079d,_0x1a7197-_0xd8b32e):this['set'](_0x162f25+_0x2cbef8,-0x39c+0x1912+-0x3*0x727-_0x577a8d+_0x1bea33-_0x2d42a4,_0x1a7197+_0xd8b32e,_0x323d6a-_0x1d079d):_0x577a8d<-_0x1bea33?this['set'](_0x323d6a+_0x1d079d,_0x1a7197+_0xd8b32e,-0x110+-0xa1c+-0xb2d*-0x1-_0x577a8d-_0x1bea33+_0x2d42a4,_0x162f25-_0x2cbef8):this['set'](_0x1a7197-_0xd8b32e,_0x323d6a-_0x1d079d,_0x162f25-_0x2cbef8,-0xa40+-0x1f*-0x3d+0x1*0x2de+_0x577a8d+_0x1bea33+_0x2d42a4),this['mulScalar']((0x45f*-0x8+0xc93+0x1666)/this['length']()))));}['setFromDir'+'ections'](_0x2e9a9d,_0x3e584e){const _0x27eaea=0x1*0x2263+0x491*-0x1+0x11*-0x1c1+_0x2e9a9d['dot'](_0x3e584e);return _0x27eaea<Number['EPSILON']?Math['abs'](_0x2e9a9d['x'])>Math['abs'](_0x2e9a9d['y'])?(this['x']=-_0x2e9a9d['z'],this['y']=0x8fc+-0x55c+-0xe8*0x4,this['z']=_0x2e9a9d['x'],this['w']=0x1*0x1065+0x1ed5*0x1+-0x2f3a):(this['x']=-0x3*0x1d2+0x2005*0x1+-0x1a8f*0x1,this['y']=-_0x2e9a9d['z'],this['z']=_0x2e9a9d['y'],this['w']=-0x1*0x935+-0x45f*-0x1+0x4d6):(this['x']=_0x2e9a9d['y']*_0x3e584e['z']-_0x2e9a9d['z']*_0x3e584e['y'],this['y']=_0x2e9a9d['z']*_0x3e584e['x']-_0x2e9a9d['x']*_0x3e584e['z'],this['z']=_0x2e9a9d['x']*_0x3e584e['y']-_0x2e9a9d['y']*_0x3e584e['x'],this['w']=_0x27eaea),this['normalize']();}['slerp'](_0x2c0b59,_0x333d37,_0x3d0a89){const _0xbc0a87=_0x2c0b59['x'],_0x545d1c=_0x2c0b59['y'],_0x12d480=_0x2c0b59['z'],_0x23c775=_0x2c0b59['w'];let _0x3b80aa=_0x333d37['x'],_0x3b7792=_0x333d37['y'],_0x2fc2e3=_0x333d37['z'],_0x27fc53=_0x333d37['w'],_0x2795ec=_0x23c775*_0x27fc53+_0xbc0a87*_0x3b80aa+_0x545d1c*_0x3b7792+_0x12d480*_0x2fc2e3;if(_0x2795ec<0x263d+-0x1881+-0xdbc&&(_0x27fc53=-_0x27fc53,_0x3b80aa=-_0x3b80aa,_0x3b7792=-_0x3b7792,_0x2fc2e3=-_0x2fc2e3,_0x2795ec=-_0x2795ec),Math['abs'](_0x2795ec)>=-0x2d0*-0x9+-0x242d*0x1+-0x1*-0xade)return this['w']=_0x23c775,this['x']=_0xbc0a87,this['y']=_0x545d1c,this['z']=_0x12d480,this;const _0x5a034f=Math['acos'](_0x2795ec),_0x543757=Math['sqrt'](0x54*-0x3c+0x5a7*-0x5+0x2ff4-_0x2795ec*_0x2795ec);if(Math['abs'](_0x543757)<0x1*-0x167b+-0x2682+-0x3cfd*-0x1+0.001)return this['w']=_0x23c775*(-0x3*0xab5+-0x1*-0x2507+0x1*-0x4e8+0.5)+_0x27fc53*(-0xdf*-0x26+-0x1e4d+-0x2cd+0.5),this['x']=_0xbc0a87*(-0x1927+0x1890+-0x97*-0x1+0.5)+_0x3b80aa*(-0x29*-0x99+-0x1669*-0x1+0x962*-0x5+0.5),this['y']=_0x545d1c*(-0x42b+-0x2fe+0x729*0x1+0.5)+_0x3b7792*(0x7*-0xc2+0x2*-0x557+0xffc+0.5),this['z']=_0x12d480*(0xfb*-0x13+0x4*-0x469+-0x5*-0x741+0.5)+_0x2fc2e3*(-0x40*-0x90+-0x3b1+-0x1*0x204f+0.5),this;const _0x5508ea=Math['sin']((0xc2f+0x4ae+-0x10dc-_0x3d0a89)*_0x5a034f)/_0x543757,_0x4ec9a5=Math['sin'](_0x3d0a89*_0x5a034f)/_0x543757;return this['w']=_0x23c775*_0x5508ea+_0x27fc53*_0x4ec9a5,this['x']=_0xbc0a87*_0x5508ea+_0x3b80aa*_0x4ec9a5,this['y']=_0x545d1c*_0x5508ea+_0x3b7792*_0x4ec9a5,this['z']=_0x12d480*_0x5508ea+_0x2fc2e3*_0x4ec9a5,this;}['transformV'+'ector'](_0x5a3ac7,_0x463366=new T()){const _0x21e566=_0x5a3ac7['x'],_0x243c8f=_0x5a3ac7['y'],_0x26f3ba=_0x5a3ac7['z'],_0xeba4f7=this['x'],_0x1ff97c=this['y'],_0xec88d9=this['z'],_0x58c15a=this['w'],_0x14f543=_0x58c15a*_0x21e566+_0x1ff97c*_0x26f3ba-_0xec88d9*_0x243c8f,_0x556d5f=_0x58c15a*_0x243c8f+_0xec88d9*_0x21e566-_0xeba4f7*_0x26f3ba,_0x3bc244=_0x58c15a*_0x26f3ba+_0xeba4f7*_0x243c8f-_0x1ff97c*_0x21e566,_0x290a74=-_0xeba4f7*_0x21e566-_0x1ff97c*_0x243c8f-_0xec88d9*_0x26f3ba;return _0x463366['x']=_0x14f543*_0x58c15a+_0x290a74*-_0xeba4f7+_0x556d5f*-_0xec88d9-_0x3bc244*-_0x1ff97c,_0x463366['y']=_0x556d5f*_0x58c15a+_0x290a74*-_0x1ff97c+_0x3bc244*-_0xeba4f7-_0x14f543*-_0xec88d9,_0x463366['z']=_0x3bc244*_0x58c15a+_0x290a74*-_0xec88d9+_0x14f543*-_0x1ff97c-_0x556d5f*-_0xeba4f7,_0x463366;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(-0x1*0xc05+0xd*-0xe7+-0x4c0*-0x5,-0x2*-0x530+0x1e5b+-0x28bb,-0x328+-0x10*0x17a+-0x6b2*-0x4,-0x3ff+-0x161*-0xd+-0x5*0x2c9))),c(aa,'ZERO',Object['freeze'](new aa(0x1*-0x183b+0xed2+-0x3*-0x323,0xe15+-0xd3*-0x15+0x4*-0x7d9,-0x6ab+0x5f*0x37+0x6df*-0x2,0x63e+-0x1f2c+0x18ee)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x523361,_0x242c44){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(-0x25f2+-0x48f+0x2a81+0.5,-0x1*-0x26ae+-0xe9*0x2+0x126e*-0x2+0.5,0x103b+0x2*0x11f+-0x1279+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x523361&&this['center']['copy'](_0x523361),_0x242c44&&this['halfExtent'+'s']['copy'](_0x242c44));}['add'](_0xd7ea15){const _0x56c887=this['center'],_0x4f4725=_0x56c887['x'],_0x2725b5=_0x56c887['y'],_0x2c4fbc=_0x56c887['z'],_0x5c3242=this['halfExtent'+'s'],_0x4a9867=_0x5c3242['x'],_0x31518f=_0x5c3242['y'],_0x148efa=_0x5c3242['z'];let _0x15e314=_0x4f4725-_0x4a9867,_0x10e816=_0x4f4725+_0x4a9867,_0x5e7e35=_0x2725b5-_0x31518f,_0x40de1b=_0x2725b5+_0x31518f,_0x1f79be=_0x2c4fbc-_0x148efa,_0xf6c71b=_0x2c4fbc+_0x148efa;const _0x38216f=_0xd7ea15['center'],_0x2f0328=_0x38216f['x'],_0x119f8e=_0x38216f['y'],_0x366cf3=_0x38216f['z'],_0x4830f9=_0xd7ea15['halfExtent'+'s'],_0x5a2e18=_0x4830f9['x'],_0x400ad8=_0x4830f9['y'],_0x2467f5=_0x4830f9['z'],_0x2dc503=_0x2f0328-_0x5a2e18,_0x4a6aa1=_0x2f0328+_0x5a2e18,_0x22fe0f=_0x119f8e-_0x400ad8,_0x1eb916=_0x119f8e+_0x400ad8,_0x553653=_0x366cf3-_0x2467f5,_0x1bdf09=_0x366cf3+_0x2467f5;_0x2dc503<_0x15e314&&(_0x15e314=_0x2dc503),_0x4a6aa1>_0x10e816&&(_0x10e816=_0x4a6aa1),_0x22fe0f<_0x5e7e35&&(_0x5e7e35=_0x22fe0f),_0x1eb916>_0x40de1b&&(_0x40de1b=_0x1eb916),_0x553653<_0x1f79be&&(_0x1f79be=_0x553653),_0x1bdf09>_0xf6c71b&&(_0xf6c71b=_0x1bdf09),_0x56c887['x']=(_0x15e314+_0x10e816)*(-0x26d7+0xbb4+0x1b23+0.5),_0x56c887['y']=(_0x5e7e35+_0x40de1b)*(-0x2202+-0x1e71+0x4073+0.5),_0x56c887['z']=(_0x1f79be+_0xf6c71b)*(-0x550*-0x3+0x41+0x1031*-0x1+0.5),_0x5c3242['x']=(_0x10e816-_0x15e314)*(-0x1aa2+-0x3*-0x16+0x1a60+0.5),_0x5c3242['y']=(_0x40de1b-_0x5e7e35)*(-0x70d*-0x1+0x22eb*-0x1+0x7b*0x3a+0.5),_0x5c3242['z']=(_0xf6c71b-_0x1f79be)*(-0x11ec+-0x8c5+0x1ab1+0.5);}['copy'](_0x330f00){this['center']['copy'](_0x330f00['center']),this['halfExtent'+'s']['copy'](_0x330f00['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x6cd56c){const _0xfeec9f=this['getMax'](),_0x1d74d9=this['getMin'](),_0x67f61b=_0x6cd56c['getMax'](),_0xb4366d=_0x6cd56c['getMin']();return _0x1d74d9['x']<=_0x67f61b['x']&&_0xfeec9f['x']>=_0xb4366d['x']&&_0x1d74d9['y']<=_0x67f61b['y']&&_0xfeec9f['y']>=_0xb4366d['y']&&_0x1d74d9['z']<=_0x67f61b['z']&&_0xfeec9f['z']>=_0xb4366d['z'];}['_intersect'+'sRay'](_0x10e811,_0x32bfdf){const _0x5b198b=vn['copy'](this['getMin']())['sub'](_0x10e811['origin']),_0x28e7ae=bn['copy'](this['getMax']())['sub'](_0x10e811['origin']),_0x35bfff=_0x10e811['direction'];_0x35bfff['x']===0x469*0x1+0x2086+0x9b*-0x3d?(_0x5b198b['x']=_0x5b198b['x']<0x2*-0xdf9+-0x19ee+0x35e0?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x28e7ae['x']=_0x28e7ae['x']<-0x1e6f*-0x1+-0x18*0x109+-0x1dd*0x3?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5b198b['x']/=_0x35bfff['x'],_0x28e7ae['x']/=_0x35bfff['x']),_0x35bfff['y']===0x12be*0x1+0x1732+-0x29f0?(_0x5b198b['y']=_0x5b198b['y']<-0x1*0x1951+-0x1*0x385+0x1cd6?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x28e7ae['y']=_0x28e7ae['y']<0x1fff+-0x2*0x111b+0x237?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5b198b['y']/=_0x35bfff['y'],_0x28e7ae['y']/=_0x35bfff['y']),_0x35bfff['z']===-0x105+0x1a33+-0x192e?(_0x5b198b['z']=_0x5b198b['z']<0x79*0x41+-0x7b0+-0x1709?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x28e7ae['z']=_0x28e7ae['z']<0x2c4+-0x17e8+0x1524?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5b198b['z']/=_0x35bfff['z'],_0x28e7ae['z']/=_0x35bfff['z']);const _0x2c1816=nm['set'](Math['min'](_0x5b198b['x'],_0x28e7ae['x']),Math['min'](_0x5b198b['y'],_0x28e7ae['y']),Math['min'](_0x5b198b['z'],_0x28e7ae['z'])),_0x232b6e=am['set'](Math['max'](_0x5b198b['x'],_0x28e7ae['x']),Math['max'](_0x5b198b['y'],_0x28e7ae['y']),Math['max'](_0x5b198b['z'],_0x28e7ae['z'])),_0x2b0366=Math['min'](Math['min'](_0x232b6e['x'],_0x232b6e['y']),_0x232b6e['z']),_0x447ff1=Math['max'](Math['max'](_0x2c1816['x'],_0x2c1816['y']),_0x2c1816['z']),_0x54fed9=_0x2b0366>=_0x447ff1&&_0x447ff1>=-0x9e8*-0x2+0x1d40+0x622*-0x8;return _0x54fed9&&_0x32bfdf['copy'](_0x10e811['direction'])['mulScalar'](_0x447ff1)['add'](_0x10e811['origin']),_0x54fed9;}['_fastInter'+'sectsRay'](_0x3e209a){const _0x23c483=vn,_0x4329b2=bn,_0x27f863=nm,_0x4c2165=am,_0x8c3246=vS,_0x5c0e9c=_0x3e209a['direction'];return _0x23c483['sub2'](_0x3e209a['origin'],this['center']),_0x4c2165['set'](Math['abs'](_0x23c483['x']),Math['abs'](_0x23c483['y']),Math['abs'](_0x23c483['z'])),_0x27f863['mul2'](_0x23c483,_0x5c0e9c),!(_0x4c2165['x']>this['halfExtent'+'s']['x']&&_0x27f863['x']>=-0x10a1+0x8fa+0x7a7||_0x4c2165['y']>this['halfExtent'+'s']['y']&&_0x27f863['y']>=0x1751+0xf34+-0x2685||_0x4c2165['z']>this['halfExtent'+'s']['z']&&_0x27f863['z']>=0x1ac6+0x232c+-0x3df2||(_0x8c3246['set'](Math['abs'](_0x5c0e9c['x']),Math['abs'](_0x5c0e9c['y']),Math['abs'](_0x5c0e9c['z'])),_0x4329b2['cross'](_0x5c0e9c,_0x23c483),_0x4329b2['set'](Math['abs'](_0x4329b2['x']),Math['abs'](_0x4329b2['y']),Math['abs'](_0x4329b2['z'])),_0x4329b2['x']>this['halfExtent'+'s']['y']*_0x8c3246['z']+this['halfExtent'+'s']['z']*_0x8c3246['y'])||_0x4329b2['y']>this['halfExtent'+'s']['x']*_0x8c3246['z']+this['halfExtent'+'s']['z']*_0x8c3246['x']||_0x4329b2['z']>this['halfExtent'+'s']['x']*_0x8c3246['y']+this['halfExtent'+'s']['y']*_0x8c3246['x']);}['intersects'+'Ray'](_0x579569,_0x4eb2d3){return _0x4eb2d3?this['_intersect'+'sRay'](_0x579569,_0x4eb2d3):this['_fastInter'+'sectsRay'](_0x579569);}['setMinMax'](_0x1490c2,_0x4170a4){this['center']['add2'](_0x4170a4,_0x1490c2)['mulScalar'](0x240+-0x1739+0x14f9+0.5),this['halfExtent'+'s']['sub2'](_0x4170a4,_0x1490c2)['mulScalar'](-0x1*0x2626+-0xed+0x2713+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x4dacc8){const _0x5be209=this['getMin'](),_0x3930fd=this['getMax']();return!(_0x4dacc8['x']<_0x5be209['x']||_0x4dacc8['x']>_0x3930fd['x']||_0x4dacc8['y']<_0x5be209['y']||_0x4dacc8['y']>_0x3930fd['y']||_0x4dacc8['z']<_0x5be209['z']||_0x4dacc8['z']>_0x3930fd['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x2354b4,_0x280724,_0x4a8a37=!(-0x291*0xd+-0x1159*0x1+0x32b7)){const _0xc49f43=_0x2354b4['center'],_0x36b4f6=_0x2354b4['halfExtent'+'s'],_0x4f077a=_0x280724['data'];let _0x44075c=_0x4f077a[-0x59*0x68+0x119*0x5+0x3*0xa39],_0x644102=_0x4f077a[-0xd*-0x144+0x1*-0x1181+0x111],_0x1a541d=_0x4f077a[0x1921+0xa92+-0x23ab],_0x41843b=_0x4f077a[-0x35*-0x41+-0x15b5+0x841],_0x160cdc=_0x4f077a[-0x129+-0x169+0x297],_0xe4cc59=_0x4f077a[0xdd6+-0x3f*-0x7c+-0x2c51*0x1],_0x2ac402=_0x4f077a[0x1b*-0x1b+-0x1dae+0x2089],_0x1fbda0=_0x4f077a[-0x5*-0x4f+-0x36e+0xa3*0x3],_0x3bb5ae=_0x4f077a[-0x1*0x1e89+-0x1*0x20c2+0x3f55];if(_0x4a8a37){let _0x1cf227=_0x44075c*_0x44075c+_0x644102*_0x644102+_0x1a541d*_0x1a541d;if(_0x1cf227>-0x19*-0x4d+-0x1edd*-0x1+0x11*-0x242){const _0x506947=(0x1c39+0x2*0x5e7+-0x1*0x2806)/Math['sqrt'](_0x1cf227);_0x44075c*=_0x506947,_0x644102*=_0x506947,_0x1a541d*=_0x506947;}if(_0x1cf227=_0x41843b*_0x41843b+_0x160cdc*_0x160cdc+_0xe4cc59*_0xe4cc59,_0x1cf227>0x1*0x1f93+0x1*0x1559+-0x34ec){const _0x37563a=(0x3b8*-0x6+-0xf84+0x25d5)/Math['sqrt'](_0x1cf227);_0x41843b*=_0x37563a,_0x160cdc*=_0x37563a,_0xe4cc59*=_0x37563a;}if(_0x1cf227=_0x2ac402*_0x2ac402+_0x1fbda0*_0x1fbda0+_0x3bb5ae*_0x3bb5ae,_0x1cf227>0x228f+-0x250f+0x280){const _0x202f73=(0x201d*0x1+0x44*-0x61+-0x658)/Math['sqrt'](_0x1cf227);_0x2ac402*=_0x202f73,_0x1fbda0*=_0x202f73,_0x3bb5ae*=_0x202f73;}}this['center']['set'](_0x4f077a[0x1d57+0x603*0x3+-0x2f54]+_0x44075c*_0xc49f43['x']+_0x644102*_0xc49f43['y']+_0x1a541d*_0xc49f43['z'],_0x4f077a[-0x12b*0x1f+-0x8ed+0x2d2f]+_0x41843b*_0xc49f43['x']+_0x160cdc*_0xc49f43['y']+_0xe4cc59*_0xc49f43['z'],_0x4f077a[0x14a8+-0x799*-0x3+0xe77*-0x3]+_0x2ac402*_0xc49f43['x']+_0x1fbda0*_0xc49f43['y']+_0x3bb5ae*_0xc49f43['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x44075c)*_0x36b4f6['x']+Math['abs'](_0x644102)*_0x36b4f6['y']+Math['abs'](_0x1a541d)*_0x36b4f6['z'],Math['abs'](_0x41843b)*_0x36b4f6['x']+Math['abs'](_0x160cdc)*_0x36b4f6['y']+Math['abs'](_0xe4cc59)*_0x36b4f6['z'],Math['abs'](_0x2ac402)*_0x36b4f6['x']+Math['abs'](_0x1fbda0)*_0x36b4f6['y']+Math['abs'](_0x3bb5ae)*_0x36b4f6['z']);}static['computeMin'+'Max'](_0xd7a27,_0x95076a,_0x270883,_0x49d96a=_0xd7a27['length']/(-0x2e9*0x4+0x263d*-0x1+0x18f2*0x2)){if(_0x49d96a>0x1*0x1772+0x1*0x8a5+-0x2017){let _0x25b56e=_0xd7a27[-0xe26+0x1*0x3a1+-0x1*-0xa85],_0x5c9e78=_0xd7a27[0x5*0x4d6+0xe57*0x2+-0x7*0x78d],_0x2563b5=_0xd7a27[-0x1877*-0x1+0xa*-0x24+-0x15*0x119],_0x41c64a=_0x25b56e,_0x2179ac=_0x5c9e78,_0x584731=_0x2563b5;const _0x576a78=_0x49d96a*(0xeef+0xcf7+0xb*-0x289);for(let _0x54a98f=0xe3*-0x25+-0x80e+0x6d0*0x6;_0x54a98f<_0x576a78;_0x54a98f+=-0x20e*-0x6+0x79*0x4b+-0x6*0x7f6){const _0x6d49c1=_0xd7a27[_0x54a98f],_0x2b040a=_0xd7a27[_0x54a98f+(0x14d1+0x52*0x71+-0x3902)],_0x584074=_0xd7a27[_0x54a98f+(-0x135a+0x2672+-0x1316)];_0x6d49c1<_0x25b56e&&(_0x25b56e=_0x6d49c1),_0x2b040a<_0x5c9e78&&(_0x5c9e78=_0x2b040a),_0x584074<_0x2563b5&&(_0x2563b5=_0x584074),_0x6d49c1>_0x41c64a&&(_0x41c64a=_0x6d49c1),_0x2b040a>_0x2179ac&&(_0x2179ac=_0x2b040a),_0x584074>_0x584731&&(_0x584731=_0x584074);}_0x95076a['set'](_0x25b56e,_0x5c9e78,_0x2563b5),_0x270883['set'](_0x41c64a,_0x2179ac,_0x584731);}}['compute'](_0x3bc4c0,_0x2529d6){_e['computeMin'+'Max'](_0x3bc4c0,vn,bn,_0x2529d6),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x5b1e8c){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x5b1e8c)<=_0x5b1e8c['radius']*_0x5b1e8c['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x8d5d94){const _0x256005=this['getMin'](),_0x4a31ac=this['getMax']();let _0x25b69a=0x96a+0x41b*0x1+0xd85*-0x1;const _0x3651b6=['x','y','z'];for(let _0x3598fc=0xa27+-0x1*0xb17+0xf0*0x1;_0x3598fc<-0xddb+-0xa*0x13d+0x1a40;++_0x3598fc){let _0x5787b9=0x1*0x1f5d+-0x25*0xdf+0x6f*0x2;const _0x1c2596=_0x8d5d94['center'][_0x3651b6[_0x3598fc]],_0x8d3492=_0x256005[_0x3651b6[_0x3598fc]],_0x396464=_0x4a31ac[_0x3651b6[_0x3598fc]];let _0x43f71f=-0xb3d+0x1b6f+-0x566*0x3;_0x1c2596<_0x8d3492&&(_0x43f71f=_0x8d3492-_0x1c2596,_0x5787b9+=_0x43f71f*_0x43f71f),_0x1c2596>_0x396464&&(_0x43f71f=_0x1c2596-_0x396464,_0x5787b9+=_0x43f71f*_0x43f71f),_0x25b69a+=_0x5787b9;}return _0x25b69a;}['_expand'](_0x11f710,_0x1953da){vn['add2'](this['getMin'](),_0x11f710),bn['add2'](this['getMax'](),_0x1953da),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x16d561=new T(),_0x1342f9=-0x689+0x21a*0x2+0x255+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x16d561),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x16d561,this['radius']=_0x1342f9);}['containsPo'+'int'](_0x352f28){const _0x20df26=gl['sub2'](_0x352f28,this['center'])['lengthSq'](),_0x7572a6=this['radius'];return _0x20df26<_0x7572a6*_0x7572a6;}['intersects'+'Ray'](_0x13c4ee,_0x2b61c1){const _0x12c1df=gl['copy'](_0x13c4ee['origin'])['sub'](this['center']),_0x43e148=_0x12c1df['dot'](bS['copy'](_0x13c4ee['direction'])['normalize']()),_0x2ddda0=_0x12c1df['dot'](_0x12c1df)-this['radius']*this['radius'];if(_0x2ddda0>0x169d+-0x143*0x7+-0xdc8&&_0x43e148>0x1*-0x1237+-0x586*-0x2+0x16f*0x5)return!(0x799*0x2+0x29*0x71+-0x2*0x10a5);const _0x252da2=_0x43e148*_0x43e148-_0x2ddda0;if(_0x252da2<0x111d*-0x2+-0x54*-0x65+0x116)return!(-0x73*0x5+-0x2386+-0xa*-0x3c7);const _0x9631de=Math['abs'](-_0x43e148-Math['sqrt'](_0x252da2));return _0x2b61c1&&_0x2b61c1['copy'](_0x13c4ee['direction'])['mulScalar'](_0x9631de)['add'](_0x13c4ee['origin']),!(0x6d4+-0x1912+0x123e);}['intersects'+'BoundingSp'+'here'](_0x3b86d7){gl['sub2'](_0x3b86d7['center'],this['center']);const _0x318255=_0x3b86d7['radius']+this['radius'];return gl['lengthSq']()<=_0x318255*_0x318255;}}class hy{constructor(_0x4c0261=T['UP'],_0x4f5ec7=0xf49+0x203e*-0x1+-0x10f5*-0x1){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x4c0261),this['distance']=_0x4f5ec7);}['clone'](){const _0xdda5e9=this['constructo'+'r'];return new _0xdda5e9()['copy'](this);}['copy'](_0x17f691){return this['normal']['copy'](_0x17f691['normal']),this['distance']=_0x17f691['distance'],this;}['intersects'+'Line'](_0x3cd6ec,_0xfd1f68,_0x4caa63){const _0x406c00=this['distance'],_0x5dd819=this['normal']['dot'](_0x3cd6ec)+_0x406c00,_0x377c4e=this['normal']['dot'](_0xfd1f68)+_0x406c00,_0x17482d=_0x5dd819/(_0x5dd819-_0x377c4e),_0x1598bc=_0x17482d>=0x243f*0x1+-0x2d4+0x216b*-0x1&&_0x17482d<=-0x1*-0x108d+0x2*-0xac5+-0x2*-0x27f;return _0x1598bc&&_0x4caa63&&_0x4caa63['lerp'](_0x3cd6ec,_0xfd1f68,_0x17482d),_0x1598bc;}['intersects'+'Ray'](_0x586e03,_0x546815){const _0x5ef7f0=this['normal']['dot'](_0x586e03['direction']);if(_0x5ef7f0===0xe39+-0x1dba+0xf81)return!(-0xbc*0x25+-0xdbc+0x1*0x28e9);const _0x2021ae=-(this['normal']['dot'](_0x586e03['origin'])+this['distance'])/_0x5ef7f0;return _0x2021ae>=-0x2*0x1c3+0x199*0x16+-0x58*0x5c&&_0x546815&&_0x546815['copy'](_0x586e03['direction'])['mulScalar'](_0x2021ae)['add'](_0x586e03['origin']),_0x2021ae>=-0x137d*0x2+0x195*0x11+0x3*0x407;}['normalize'](){const _0x34bc9b=(0x2192+0x1b9e+0x1*-0x3d2f)/this['normal']['length']();return this['normal']['mulScalar'](_0x34bc9b),this['distance']*=_0x34bc9b,this;}['set'](_0x1bd050,_0x3fcd08,_0x2bcd44,_0x40451c){return this['normal']['set'](_0x1bd050,_0x3fcd08,_0x2bcd44),this['distance']=_0x40451c,this;}['setFromPoi'+'ntNormal'](_0x1f4562,_0x4005f7){return this['normal']['copy'](_0x4005f7),this['distance']=-this['normal']['dot'](_0x1f4562),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x5e20e8=0x3*-0x303+-0x5d*0x31+0x1ad6;_0x5e20e8<0x1*0x23a9+-0x435*0x1+0x37e*-0x9;_0x5e20e8++)this['planes'][_0x5e20e8]=new hy();}['clone'](){const _0x8dc714=this['constructo'+'r'];return new _0x8dc714()['copy'](this);}['copy'](_0x267286){for(let _0x189ced=0x62f*-0x1+0xeb+0x544;_0x189ced<-0xa79+-0x13*0x169+0x254a;_0x189ced++)this['planes'][_0x189ced]['copy'](_0x267286['planes'][_0x189ced]);return this;}['setFromMat'+'4'](_0x1c7ace){const [_0x56ff24,_0x31d0a3,_0x14d9e9,_0x1ec72d,_0x542638,_0x2b4e0e,_0x1356ea,_0x2ed20c,_0x59bd5e,_0x91c8ce,_0x5c7728,_0x28d27f,_0x1cd944,_0x20c6e7,_0x205c30,_0x4e4b33]=_0x1c7ace['data'],_0x5881e2=this['planes'];_0x5881e2[0x6e*-0x5+0x28*-0x7a+0x712*0x3]['set'](_0x1ec72d-_0x56ff24,_0x2ed20c-_0x542638,_0x28d27f-_0x59bd5e,_0x4e4b33-_0x1cd944)['normalize'](),_0x5881e2[-0x89d+0x1e24+-0x13*0x122]['set'](_0x1ec72d+_0x56ff24,_0x2ed20c+_0x542638,_0x28d27f+_0x59bd5e,_0x4e4b33+_0x1cd944)['normalize'](),_0x5881e2[0x6*-0x2fc+0x18c7+-0x6dd]['set'](_0x1ec72d+_0x31d0a3,_0x2ed20c+_0x2b4e0e,_0x28d27f+_0x91c8ce,_0x4e4b33+_0x20c6e7)['normalize'](),_0x5881e2[-0x119a+0x1*0x15b5+-0x8*0x83]['set'](_0x1ec72d-_0x31d0a3,_0x2ed20c-_0x2b4e0e,_0x28d27f-_0x91c8ce,_0x4e4b33-_0x20c6e7)['normalize'](),_0x5881e2[-0x9e*0x25+0x12d7+-0xd*-0x4f]['set'](_0x1ec72d-_0x14d9e9,_0x2ed20c-_0x1356ea,_0x28d27f-_0x5c7728,_0x4e4b33-_0x205c30)['normalize'](),_0x5881e2[0x229a+-0x2*-0x8f8+-0x3485]['set'](_0x1ec72d+_0x14d9e9,_0x2ed20c+_0x1356ea,_0x28d27f+_0x5c7728,_0x4e4b33+_0x205c30)['normalize']();}['containsPo'+'int'](_0x4c8c3b){for(let _0x32bc51=-0x158d+0x2*0x2bd+0x337*0x5;_0x32bc51<0x793+0x1f29+0x1*-0x26b6;_0x32bc51++){const {normal:_0x56fd91,distance:_0xc04426}=this['planes'][_0x32bc51];if(_0x56fd91['dot'](_0x4c8c3b)+_0xc04426<=0x39e*-0x1+0x1109+-0xd6b)return!(0x11*-0x173+0x23b2+-0xb0e);}return!(0x14d0*0x1+-0x481*0x5+0x1*0x1b5);}['containsSp'+'here'](_0x23eb6e){const {center:_0x224801,radius:_0x44598c}=_0x23eb6e;let _0x4abe6b=0x354+0xac*0x39+-0x29a0;for(let _0x1a91e7=0x4ae+0x8be+-0x2*0x6b6;_0x1a91e7<0x5*-0xb+0x1217+0x8ed*-0x2;_0x1a91e7++){const {normal:_0xe3cb6c,distance:_0x2d71e8}=this['planes'][_0x1a91e7],_0x30b8d0=_0xe3cb6c['dot'](_0x224801)+_0x2d71e8;if(_0x30b8d0<=-_0x44598c)return 0x1539*-0x1+-0x721+0x1c5a;_0x30b8d0>_0x44598c&&_0x4abe6b++;}return _0x4abe6b===-0x1f56+-0x2296+0x41f2*0x1?0x305*0x1+-0x122+-0x1e1:0x146*-0x17+0x369+0x19e2;}}class uu{constructor(_0x6595cc,_0xa36679){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x6595cc&&this['origin']['copy'](_0x6595cc),_0xa36679&&this['direction']['copy'](_0xa36679));}['set'](_0x116c6e,_0xc14268){return this['origin']['copy'](_0x116c6e),this['direction']['copy'](_0xc14268),this;}['copy'](_0x1f0d71){return this['set'](_0x1f0d71['origin'],_0x1f0d71['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=-0x23*0xd6+0x353*0x1+0x19ef,ae=0xad2+-0x6fa+-0x3d7,Of=0xef*-0x13+-0x1d0d+0x2ecc,kf=-0x4*0x859+0x851+0x1913,at=-0xc*0x12d+-0x125f+0x36*0x9a,TS=-0xfe+-0x353*-0x1+-0x253,dy=0x2*0xdc4+0x5c6+0x2*-0x10a5,AS=0xb1b*-0x2+-0xb4c+0x3*0xb2d,dc=-0x219f+0x5*0x718+-0x1d3*0x1,uc=-0x1f62+0x12aa+0x44*0x30,Lt=0x9e2+-0x9*0x293+0xd49,ES=0x2012+-0x73*0x11+0x1*-0x186d,CS=-0x6*0x463+-0x1*-0x1feb+-0x596,MS=-0x1a83+-0x1*0x435+0x1ebc,jt=0x1*-0x1f3+0x12*0xfb+-0xfb3,Th=0x1*0x23d0+-0xdc9+-0x1606,uy=-0x16ff+0xd*0x287+-0x9da,PS=0x1f*-0x117+-0x24d4+0x46a0,Co=-0x1bbe+-0x14ed*-0x1+0x6d2,Mo=-0x1*-0x1b2d+0x1246+-0x2d71*0x1,Ah=0x2065+-0xdbd*0x1+-0x12a4,mt=-0x7f*-0x23+-0x777+0x1*-0x9e6,rn=-0x11ce+-0x35d+-0x152c*-0x1,mo=0x5*-0x5b8+-0x1011+0x8ef*0x5,RS=-0xa44+0xb79+-0x132,de=0x2090+0x190e+-0x399e,st=-0x57*-0x7+-0x27d+0x1d,fc=0xe09*0x2+0x12a1+-0x2eb1,pc=-0xb61+0x21ab+-0x1647,mc=-0x13d9*0x1+-0x6e6+0x1ac3,nn=-0x116*0x2+0x27e*-0xb+0x1d9b,IS=0x2594+0x1b*0xdf+-0x1*0x3d19,Eh=0x24f2+-0x258d*0x1+0x9c,Ch=-0x380+0x1c1+-0x1*-0x1c1,fu=-0x11b0+0x1*0x1a2e+0x87b*-0x1,DS=0xd64+-0x11*-0x189+-0x2779,LS=-0x6*-0x17b+0x11*0x3e+-0xcfb,FS=0x1890+-0x242e+0xba4,Ai=0x793*-0x5+-0x70e+0x1c*0x19b,pu=-0x14*0x5e+0xdd*0xc+0xc1*-0x4,Pi=0x445*0x7+-0xc0b+-0x11d7,nr=0x1326+0x6a*0x3c+-0x14*0x233,fy=0x1f77+-0x26a0+-0x3*-0x263,py=0x10f9+0x157*-0xd+0x73*0x1,Bf=-0x1f7f+0x1*0x1975+0x60c,_c=0x2307+0x1*-0x62b+0x23*-0xd3,Nf=0x1*0x52a+-0x4*-0x236+-0xdfe,gc=-0x1*0x1e7f+0x230b+-0x487,dr=0x103b+-0x100c+-0x29*0x1,Se=0x12b7+0x2*-0x169+0x2*-0x7ef,yc=-0x1d0a+-0x208b+0x3d9d,zf=-0x1*0x50b+-0x160f+0x1b23,$o=0x2203*0x1+0x23d0+-0xf*0x4a7,xc=-0x37b+-0x12dd+0x209*0xb,Je=-0x1308+-0x1*0x1435+0x2749*0x1,Sc=0x3*-0x2b7+0x1*0x239b+0x923*-0x3,Ke=0x226e+0x940+-0x2ba0,Ii=-0x56e*-0x4+0x1837+-0x2de0,Ci=-0x981*0x2+-0x5dd+-0x18ef*-0x1,vc=0x1b91+-0x40*0x1c+-0x1480,_a=-0x14f6+-0xa9d+-0x1fa5*-0x1,Uf=-0x1*0x417+0x1ddb+-0x19b1,rs=0x1*0x8c3+0x152c+-0x1*0x1ddb,bc=0x805*-0x2+-0x14*0x90+0xd*0x21b,Vf=0x1540+0xe2a+-0x2354,Gf=0x1b9b+-0xfb*-0x7+0x1*-0x2261,qo=-0x7d*0x37+-0x49*0x40+0x2d33,Xo=-0x1cc3+0x2*0xb29+-0x3*-0x22e,wc=-0x21fe+0x1*0x1a5+0x2073,Tc=-0x2*-0x4ff+-0xc0f*0x1+0x22c,my=0xb8*0xe+0x148+-0xb3c,_y=-0x661*0x3+0x164*-0x6+0x1b98,gy=0x1951+-0xa12+-0xf21,yy=0x1182+-0x9*-0x34+0x1337*-0x1,Hf=-0x252e+0x239a+0x1b4,xy=0x9*0xee+0xf94+-0x17d1*0x1,Wf=-0x1a56*0x1+0x222+0xb2*0x23,$f=0xb2*0xc+-0x3bd+-0x58*0xd,qf=0x584*-0x6+0x1*0x25f7+-0x4bb,an=0x51d+-0x1e57+0x875*0x3,Xf=0x3a6+-0xc2b+0x8ab,Sy=-0x2*-0x85f+0x13b5+-0x244c,jf=-0x8b*-0x1+0x28a+-0x2ed*0x1,Yf=0x12*0x1bb+0x1537+0x3434*-0x1,Kf=0x65d*-0x1+0x9e0+-0x359*0x1,Zf=-0x1736+0x20f6+-0x995*0x1,Qf=-0x22c5+-0x1fb4*0x1+0x8d*0x79,vy=0x1557+0x64*-0x38+0xb6,Jf=-0x25cc+-0x358*-0xa+0xe*0x53,Ac=0x6fe+0x1a*-0x10c+0x1469,ep=0xaf2+0xf2*0x12+0x6*-0x4a1,ut=0x1d5*-0x11+0x1*0x1130+0xe26,Ec=0x259*-0x4+0xa*0x2b+0x1fa*0x4,tp=0x18f1+0x15*0x1c8+0x4a*-0xd7,sp=-0x22da+0x2b7*-0x8+0x38c6,ip=0xe01+-0x601+-0x69*0x13,mu=0xb*-0xd+-0xff5+0x10ba,_u=-0x2441+0x1573*0x1+0xf05,gu=0x1339+0x199d+0x2*-0x164f,yu=0x808+0x5*0x293+-0xe6*0x17,xu=0x34a*-0x4+-0x28*-0x89+-0x802,Su=-0x1f3f+-0x17f3+-0xf9*-0x39,by=-0xe36+-0x1fce+0x2e44,wy=-0x2*0xd2d+0x1ba5*-0x1+0x3640,Ty=-0x6*0x226+0x1910+-0xbea,Ay=0x17*-0x10f+-0x7f1*-0x1+0x10ab,vu=0x3a1*-0x1+0x1315+0x6*-0x288,la=-0x4*0x3b+-0x86*-0x8+-0x2ff,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(-0x1f01*-0x1+-0x1*0x1f0c+0xb)}],[sp,{'name':'R8','size':0x1,'ldr':!(0x18b2*0x1+-0x14c*-0x2+-0x3e6*0x7)}],[py,{'name':'L8','size':0x1,'ldr':!(0x1c3b+0xf61+-0x2b9c*0x1)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(0xb5*-0x1+-0x5a9+0x5*0x146)}],[ip,{'name':'RG8','size':0x2,'ldr':!(-0x174e+-0xe48*-0x1+0x906)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(-0x1*0x126e+0xe98+-0x1eb*-0x2)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0x1574+-0x22d0+-0x3*-0x474)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(-0x887+-0xdc3+-0xb25*-0x2)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(0x607+0x1f5+-0x7fc)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(0x9d*0x7+0xc0+-0x50b*0x1),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(-0x104c+-0x209b+0x30e7),'srgb':!(0x257*-0xe+0x165+0x1f5d)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(0x5c0+-0x1359+0xd99),'srgb':!(0x3*0x761+0x679+-0x1c9c)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(0x1dec+-0x1*-0x1337+-0x3123)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(0x10e2+0x368*0x9+0x2f8a*-0x1),'srgb':!(0x3*0xb93+-0x2*0xe4a+-0x625)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x31*-0x15+-0x1*-0x11c5+0x1*-0x15ca),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x5ab+0x120a*-0x1+0x1*0xc5f),'srgbFormat':_u}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(0x1291+-0x20*-0x8f+-0x2471),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x1289+0x1533*0x1+-0x2aa)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0xa*-0x6+-0xabb+0xa7f),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x15dc+0x2*-0x63+-0x1516),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x636+-0x321*-0x3+-0xf99),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x109c*-0x1+0x148f+0x151*-0x3),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x2304+-0x1*0x1765+-0x23*0x55),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0xf33+0x21*0x49+0x2e5*0x2),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x1eda+0x5c9*-0x6+0x4190),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x22d+-0x26b4+-0x41*-0xa1)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x2*0x471+-0x1cb2*0x1+0x5*0x784)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x2581+-0x2699+0x118),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0xe0*-0x4+0x531+0x1b1*-0x1),'srgb':!(0x1765*-0x1+0x1788*0x1+0x5*-0x7)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x319*0xc+0x17cc+0xd60),'srgb':!(-0xf27+0x16e5*0x1+-0x7be)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x237*0x6+0x160+-0xeaa),'srgb':!(-0xf34+-0x1ec8+-0xb7f*-0x4)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x6ca+0x6*0xc1+-0xb50),'srgb':!(0x36*0x27+-0xdff+0x5c5)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0xc85+0xf6e+-0x1bf3),'srgb':!(0x1b9d+-0x98d+-0x1210)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x957+-0x14d5*0x1+0xb7e),'srgb':!(0x1885*0x1+0x11*-0x18b+-0x92*-0x3)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x2315+-0x1*-0x248b+-0x3*0x17e0),'srgb':!(0x1209+-0x2*0x104f+0xe95*0x1)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(0x1*-0x1d48+-0x3*-0x58d+0xca1)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x11fe+0x6d*0x2+0x4*0x449)}],[Wf,{'name':'R16I','size':0x2,'isInt':!(-0xa60+0x7d*0x2c+-0x3*0x3b4)}],[$f,{'name':'R16U','size':0x2,'isInt':!(0x8ca+0xca4+-0x156e)}],[qf,{'name':'R32I','size':0x4,'isInt':!(-0x10*0x1b6+0x2218+0x5*-0x158)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0x1df9+0x25d4+-0x7db)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(-0x730+-0x194c*-0x1+-0x121c)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0xb0e+-0x120b+0x1d19)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(0x4dc*-0x7+0x1*-0x20ac+0x42b0)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(0x2453+-0x25ba+0x1*0x167)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(0x6b0*-0x1+0x3a8+-0xc2*-0x4)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(0x6ef+0x204d+-0x273c)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(-0x32b*0x1+-0x133*0x1a+0x2259)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(-0x1f7a+0x42*0x52+-0x6*-0x1b9)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(-0xe*0x18e+-0x1*-0xa52+-0x24a*-0x5)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(0x1*-0x124d+-0x591+-0x1d6*-0xd)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(-0x1606*-0x1+-0x1471+-0x195)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0x18ca+-0x71*-0x2b+0x5cf)}]]),OS=_0x5a7402=>{var _0xd18d94;return((_0xd18d94=xt['get'](_0x5a7402))==null?void(-0x9a7*0x1+-0xc36+0x15dd*0x1):_0xd18d94['blockSize'])!==void(-0x1*-0x1c3+0x2621+-0x25*0x114);},Mh=_0x45d948=>{var _0x5067ce;return((_0x5067ce=xt['get'](_0x45d948))==null?void(-0xfc9+-0x2d*0xbf+0x315c):_0x5067ce['srgb'])===!(0x567*0x3+-0x10*0x223+0x11fb*0x1);},ea=_0x275210=>{var _0x4c45cd;return((_0x4c45cd=xt['get'](_0x275210))==null?void(0x3a3+0x28*-0x8f+0x12b5):_0x4c45cd['isInt'])===!(-0x63c+-0x1*-0x182c+-0x11f0);},Cc=_0x6f290b=>{var _0x387c95;return((_0x387c95=xt['get'](_0x6f290b))==null?void(0x21f3+-0x5*-0x67d+0x4be*-0xe):_0x387c95['srgbFormat'])||_0x6f290b;},kS=_0x1d4670=>{for(const [_0x28e132,_0x89da6a]of xt)if(_0x89da6a['srgbFormat']===_0x1d4670)return _0x28e132;return _0x1d4670;},Ey=_0x26df6c=>{const _0xfb6f7c=xt['get'](_0x26df6c);return!!(_0xfb6f7c!=null&&_0xfb6f7c['ldr']&&!(_0xfb6f7c!=null&&_0xfb6f7c['srgb']));},Cy=_0x2c3c2f=>{switch(_0x2c3c2f){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case Wf:case jf:case Jf:return Int16Array;case ip:case $f:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=0x65e+-0x1042+-0x2*-0x4f2,Pc=-0x1*-0x1957+-0xd9a+-0x1*0xbbc,My=-0x1522+0x1*-0x25b5+-0x28f*-0x17,Py=-0x1cbd+-0x1*0xc3b+-0x3*-0xda9,Ms=0x1327+0x2480+-0x37a3,ar=-0x1da6+0x1ddd+0x19*-0x2,Yr=0x3d*0x41+0x16*-0x114+0x841,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=0x693+0x10*-0x10d+0xa3e,ha=0x1f*-0xdd+0x105*-0x1d+0x3854,GS=-0x210b+0x20f+0x1efe,HS=0x212f+0x16c0+-0x37ec,WS=0x22af+0x1936+-0x3be*0x10,yl=0x261d+-0x1b87+-0xa96,Fy=-0x11fc*-0x1+0x3c*0x30+-0x42d*0x7,rd=0xa12*0x1+0x508+0x8*-0x1e3,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0x247a+-0x53a*0x2+0x2eef,ur=0xda1+0x14bd+-0x225c,Oy=0x1*0x1f5f+-0x7*0xb5+-0x1a69,Us='2d',$S='2d-array',qS='cube',XS='3d',oh=-0xa9*-0x1c+0x1*0x657+-0x1f*0xcd,nd=-0xa57+-0x29*0xef+0x309f,jS=0x6a1*0x2+-0x1882+0xb42,YS=0x1a55+-0x23*-0xa3+-0x309b*0x1,KS=-0x13*0x191+0x14ef+0x11b*0x8,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=-0x9d7+-0xd9e+-0x1775*-0x1,Kr=0x17*-0x1e+0x7*-0x337+0x1934,Ic=0x15dc*0x1+-0x1232+0x8*-0x75,el=0x11eb+-0xe1e+0x1*-0x3ca,By=0x2591+0x242f+0xc4a*-0x6,Do=0x2038+-0x242c+-0x71*-0x9,Ee=0x22e1+-0x19ba+0x13*-0x7b,ca=-0xd*0x243+0x5e5+-0xb1*-0x22,ln=-0xea1+0x113e+-0xa7*0x4,$s=0x23ae*-0x1+0x1a40*-0x1+0x2*0x1ef8,or=0x869*-0x2+0x790+-0x3*-0x317,$t=-0x2456*-0x1+0x1acf+0x1*-0x3f21,xa=0x1b79+-0x508+-0x2*0xb36,Zr=-0xc00*0x1+-0x7ba+0x13c0,Qr=-0x18*0x26+0x24b7*-0x1+0x284e,Jr=-0x1747*-0x1+-0x1c29+0x4ea,Lo=0x261c+0x619+-0x2c2c*0x1,Fo=0x1*0x1283+0x296*0x5+0x1f67*-0x1,Oo=0x19*-0xa1+0x1*-0x1a5d+0x2a21,Rh=-0x5ba+0x1*-0x18de+0x1ea4,ko=0x469+-0x10b3+-0xc57*-0x1,Sa=0x94f*-0x3+0x1*0x5bb+0x1640,JS=0x173+-0x1724*0x1+0x15c0,ev=-0x9c*-0x3e+-0x2370+-0x248,Dc=-0x1*-0x2179+0x1af1+-0x3c59,tv=-0xc2e+-0x9*-0x2f9+0x4f*-0x2f,sv=-0x1671+-0x1c80+0x3304,iv=0x1*0x1f5a+0xa19+-0x5e9*0x7,Lc=0xe3*-0x1+0x5*-0x491+0x17cd,Fc=0xe01+0x1ab4+0x1*-0x289f,lp=0x1d6b*-0x1+-0x1b22+0x91*0x64,Ny=0x1e46+0x1bb6+-0x3c*0xf7,rv=-0x491+0x1b*-0x10f+-0x1*-0x213f,va=0xb3c+0x679+0x1*-0x119b,ba=-0x2586+-0x6*-0x5c5+0x303,wa=-0xeb5+-0xc*-0x2b5+-0x1*0x11ab,Ta=-0xe1f+0x5a1+-0x1*-0x89b,Aa=0x3*0x251+0x67a*0x1+-0xd4f,Oc=-0x4eb*0x2+-0x3c2*0x2+0x1179,kc=-0x2614+-0xd95*0x1+0x33c9,Ea=0x14b8+-0x2*-0x419+-0x1*0x1cc9,Bc=-0x26ce+0x3*0xa97+-0x1*-0x72b,Nc=-0x740+-0x452+0xbb5,Ca=0xc38+0x13d*-0x7+-0x1*0x369,zc=-0xa6c+0x2*0x21+0x7*0x179,Uc=0x2087*-0x1+0x35a+0x1d53*0x1,Ih=-0x1*-0x1f11+0x18e2+-0x37cc,hp=0x1*0x253d+0x75a+-0x2c6f,cp=-0x1497+0x1691+-0x1d1,nv=-0x303+-0xcc3+0x110*0xf,av=-0x1796+0x16f+0x1652,ov=-0xfa*0xc+-0x1*0xfe9+0x1bcd*0x1,lv=0x626*-0x1+-0x2*-0x1066+-0x2f1*0x9,hv=-0x2*-0x24f+0x63*-0x2b+0xc31,cv=0x1*-0x1d2a+-0x1b17+-0x12d*-0x30,dv=0xe*-0x3f+0x1bf0*-0x1+0x1f92,uv=0x2136+-0x1c86+-0x47f,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x602494,_0x5113a1)=>{_0x602494['forEach'](_0x44a32c=>pv['set'](_0x44a32c,_0x5113a1));});const mv='webgl2',up=0xee4*-0x2+-0x30d*0x4+0x3*0xdff,li=0x20f7+-0xc*-0xfe+-0x2cdd*0x1,_v=-0x1a8f*-0x1+-0x745+-0x9a3*0x2,gv='ldr',zy=-0x144b+-0x29c+0x16e8,Uy=-0x15cd+0x1e31+-0x3a*0x25,Vy=0x1*-0x5d+-0xe*0x1df+0x1a93*0x1,Gy=0x17f*0x5+-0x1f03+0x1790,Hy=-0xbf*0xb+-0x1*-0x132e+0x93*-0x13,Wy=0x16c3*-0x1+0x3*-0x179+-0x1e*-0xe9,$y=-0x13bc+0x5*0xe9+0xf6f,qy=-0x1*0x4ff+-0xa15+-0x7ca*-0x2,yv=0x11ed+0x2*-0x10db+0x10c8,Dh=0x1*0x13df+0x263*0x3+0x2b4*-0xa,Xy=-0x1ef9+0x2067+0x16d*-0x1,Eu=0x940+0x86a*-0x1+-0x1*0xd4,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[-0x201d+0x1881+0x1*0x79d,0x13d*-0xb+-0x186d*0x1+0x260d,0x24df*-0x1+0x14e9+0xff8,0x77d*-0x1+0x270f+-0x1f90,-0x261+-0x2*0xaa7+0x17b3,0x1663+-0x1330+-0x32f,-0x998+-0x2*0xb3a+0x2010,-0x1281+0x1*0x1697+-0x12*0x3a],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x1c32*0x1+0x44d*0x1+0xa1*0x26,0x58d*-0x3+-0xb*0x202+-0x589*-0x7,-0x65*-0x37+0x9be+-0x5*0x649],ve={};ve[He]=0xc92+-0x1872+0xbe0,ve[Yt]=-0xb45*-0x2+-0x2025+-0x1e*-0x52,ve[Ys]=0x2*0x5f1+-0x1628+-0x292*-0x4,ve[qt]=0x190a+-0x81d*-0x2+-0x2941,ve[At]=0x71+0x11be+-0x122b,ve[ns]=-0x16d8+0x11*-0x17f+-0x119*-0x2c,ve[_n]=0x205+-0x6*0x2bf+0xe7b,ve[jo]=0x9d*0xb+-0x42*-0x4f+0xd8b*-0x2,ve[Yo]=0x4aa*-0x1+0x2*-0x3fa+0xca6,ve[Ko]=-0x37f*0x3+0x7*-0x2cc+0x1e1a,ve[Zo]=-0xc*0x240+-0x2562+0x1b2*0x26,ve[Qo]=-0xa2*-0x39+-0x1735+0x1*-0xcd2,ve[Jo]=-0xb*0x2ed+-0x218c+0x41c7,ve[Zs]=-0x2*0xc8f+-0x1*0x975+-0x4*-0x8a8,ve[bu]=0x174b*-0x1+0x25c+0x14ef*0x1,ve[wu]=-0xe44+0xb*-0xe2+-0x1*-0x17fb,ve[Ry]=-0x1*-0x1bff+0x1aa9+-0x36a6*0x1,ve[Iy]=0x23*0x6d+-0x2525*0x1+0x3*0x76b,ve[Dy]=-0x3*0x4eb+0x33*-0x6a+0x23e3*0x1,ve[BS]=-0xab+-0x3ce+-0x17*-0x32,ve[NS]=-0x2105+0x14f7*-0x1+-0x3602*-0x1,ve[zS]=-0x1d9*-0x12+-0x61c+-0x1b1f*0x1,ve[Po]=0xceb+-0x5ea*-0x1+-0x1*0x12cd,ve[Ro]=-0xa4f+0x8b*0x6+0x716,ve[US]=0x3*0xb05+-0x67*-0x1d+-0x2cb0,ve[VS]=0x9*0x167+-0x20bc+0x1428,ve[rp]=0x1b89*0x1+-0x24d6+0x1*0x959,ve[ga]=-0x1588+0x91*0x11+-0xb4*-0x11,ve[np]=-0x10f0*-0x2+0xf79+0x1*-0x314b,ve[ya]=-0x2078*-0x1+0x1*0x64d+-0x5*0x7be;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=0x660+-0x7*0x2c5+0xd03;}static['pushGpuMar'+'ker'](_0x2370e2,_0x5deb34){Ki['markers']['push'](_0x5deb34),_0x2370e2['pushMarker'](_0x5deb34);}static['popGpuMark'+'er'](_0x46e162){Ki['markers']['length']&&Ki['markers']['pop'](),_0x46e162['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=0x23d1+0xab9+-0x2e8a;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Vc{constructor(_0x46cf80,_0x456e83){c(this,'slot',-(0x18*-0xd8+-0xf7e+0x23bf)),c(this,'scopeId',null),(this['name']=_0x46cf80,this['visibility']=_0x456e83);}}class pp extends Vc{}class Av extends Vc{constructor(_0x3f26f9,_0x5971a4,_0x38597c=!(0x1a69+-0x12*-0x18b+-0x362e)){super(_0x3f26f9,_0x5971a4),c(this,'format',''),(this['readOnly']=_0x38597c,v['assert'](_0x38597c||!(_0x5971a4&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x3d48c1,_0x896d40,_0x54125f=Us,_0x44bccd=oh,_0x11d4c3=!(0x38+-0x1aed+0x35*0x81),_0x2527fe=null){super(_0x3d48c1,_0x896d40),this['textureDim'+'ension']=_0x54125f,this['sampleType']=_0x44bccd,this['hasSampler']=_0x11d4c3,this['samplerNam'+'e']=_0x2527fe??_0x3d48c1+'_sampler';}}class Ev extends Vc{constructor(_0x3c7a96,_0x4290ea=Se,_0x27f36d=Us,_0x2b25f2=!(0x1abb+-0x1*0x148d+-0x317*0x2),_0x507a6e=!(0xb*-0x379+0x1c1c+0x4c*0x22)){super(_0x3c7a96,_v),this['format']=_0x4290ea,this['textureDim'+'ension']=_0x27f36d,this['write']=_0x2b25f2,this['read']=_0x507a6e;}}class jy{constructor(_0x40499b,_0x28496f){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x28496f));let _0x364e4e=-0x16fb*-0x1+0xdf8+-0x41b*0x9;_0x28496f['forEach'](_0x383ba7=>{_0x383ba7['slot']=_0x364e4e++,_0x383ba7 instanceof fi&&_0x383ba7['hasSampler']&&_0x364e4e++,_0x383ba7 instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x383ba7):_0x383ba7 instanceof fi?this['textureFor'+'mats']['push'](_0x383ba7):_0x383ba7 instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x383ba7):_0x383ba7 instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x383ba7):v['assert']('Invalid\x20bi'+'nd\x20format',_0x383ba7);}),this['device']=_0x40499b;const _0x3b617b=_0x40499b['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0xfc8c5c,_0x5b0cea)=>this['bufferForm'+'atsMap']['set'](_0xfc8c5c['name'],_0x5b0cea)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x414c2c,_0x174b67)=>{this['textureFor'+'matsMap']['set'](_0x414c2c['name'],_0x174b67),_0x414c2c['scopeId']=_0x3b617b['resolve'](_0x414c2c['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x131502,_0x1ed39d)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x131502['name'],_0x1ed39d),_0x131502['scopeId']=_0x3b617b['resolve'](_0x131502['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x36d4f1,_0x3f8493)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x36d4f1['name'],_0x3f8493),_0x36d4f1['scopeId']=_0x3b617b['resolve'](_0x36d4f1['name']);}),this['impl']=_0x40499b['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0xb63956){const _0x5c4785=this['textureFor'+'matsMap']['get'](_0xb63956);return _0x5c4785!==void(-0x6b*-0x4f+-0x147e+-0xc87)?this['textureFor'+'mats'][_0x5c4785]:null;}['getStorage'+'Texture'](_0x184b84){const _0x24e6b8=this['storageTex'+'tureFormat'+'sMap']['get'](_0x184b84);return _0x24e6b8!==void(-0x1f93+-0x32*0x3+-0x1*-0x2029)?this['storageTex'+'tureFormat'+'s'][_0x24e6b8]:null;}['getShaderD'+'eclaration'+'Textures'](_0xa0ead){let _0x14edfc='';return this['textureFor'+'mats']['forEach'](_0x2c40ff=>{let _0x2c88c7=Tv[_0x2c40ff['textureDim'+'ension']];v['assert'](_0x2c88c7,'Unsupporte'+'d\x20texture\x20'+'type',_0x2c40ff['textureDim'+'ension']);const _0x32eabd=_0x2c88c7==='texture2DA'+'rray',_0x7bbde7=_0x2c40ff['sampleType']===KS?'u':_0x2c40ff['sampleType']===YS?'i':'';_0x2c88c7=''+_0x7bbde7+_0x2c88c7;let _0x1e95e1='',_0x10636e='';_0x32eabd&&(_0x1e95e1='_texture',_0x10636e='#define\x20'+_0x2c40ff['name']+'\x20'+_0x7bbde7+('sampler2DA'+'rray(')+_0x2c40ff['name']+_0x1e95e1+',\x20'+_0x2c40ff['name']+'_sampler)\x0a'),_0x14edfc+='layout(set'+'\x20=\x20'+_0xa0ead+(',\x20binding\x20'+'=\x20')+_0x2c40ff['slot']+')\x20uniform\x20'+_0x2c88c7+'\x20'+_0x2c40ff['name']+_0x1e95e1+';\x0a',_0x2c40ff['hasSampler']&&(_0x14edfc+='layout(set'+'\x20=\x20'+_0xa0ead+(',\x20binding\x20'+'=\x20')+(_0x2c40ff['slot']+(0xdf*0x22+-0x858+-0x1545))+(')\x20uniform\x20'+'sampler\x20')+_0x2c40ff['name']+'_sampler;\x0a'),_0x14edfc+=_0x10636e;}),_0x14edfc;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x5b7a49,_0x51ca5c){return this['_cache']['has'](_0x5b7a49)||(this['_cache']['set'](_0x5b7a49,_0x51ca5c()),_0x5b7a49['on']('destroy',()=>{this['remove'](_0x5b7a49);}),_0x5b7a49['on']('devicelost',()=>{var _0x4a6c0e,_0x4674ae;(_0x4674ae=(_0x4a6c0e=this['_cache']['get'](_0x5b7a49))==null?void(0x19d6+0x5f9*-0x1+-0x13dd*0x1):_0x4a6c0e['loseContex'+'t'])==null||_0x4674ae['call'](_0x4a6c0e,_0x5b7a49);})),this['_cache']['get'](_0x5b7a49);}['remove'](_0x4e2ed1){var _0x4ade99,_0x1b3c5f;(_0x1b3c5f=(_0x4ade99=this['_cache']['get'](_0x4e2ed1))==null?void(0x27+0x17*0x24+-0x363):_0x4ade99['destroy'])==null||_0x1b3c5f['call'](_0x4ade99,_0x4e2ed1),this['_cache']['delete'](_0x4e2ed1);}}class Mi{static['calcLevelD'+'imension'](_0x44f6bb,_0x407673){return Math['max'](_0x44f6bb>>_0x407673,-0x4d3+0x380+0x154);}static['calcMipLev'+'elsCount'](_0x517aba,_0x4df494,_0x3c4d61=-0x10e1+0xe7f+0x263){return-0x1154+0x19af+-0x85a+Math['floor'](Math['log2'](Math['max'](_0x517aba,_0x4df494,_0x3c4d61)));}static['calcLevelG'+'puSize'](_0x10cbf1,_0x47b6a8,_0x339fa0,_0x50ebf4){var _0x2b48e8;const _0x390788=xt['get'](_0x50ebf4);v['assert'](_0x390788!==void(0x189d+0x1eeb+-0x4*0xde2),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x50ebf4);const _0x275975=((_0x2b48e8=xt['get'](_0x50ebf4))==null?void(-0x7c1+-0x1676+0x1e37):_0x2b48e8['size'])??0x4dc+0x1b2e+0x1*-0x200a;if(_0x275975>0x1757+0x17*0x11+-0x18de)return _0x10cbf1*_0x47b6a8*_0x339fa0*_0x275975;const _0xb7e9cd=_0x390788['blockSize']??-0x2187*0x1+0x117*0x13+-0x669*-0x2;let _0x2c7ddc=Math['floor']((_0x10cbf1+(0xd*-0x9e+0x1679+-0xe70))/(0x16d*-0x6+0x5e4+-0x7*-0x62));const _0x1e978d=Math['floor']((_0x47b6a8+(-0x642+-0x1*0x1109+0x13a*0x13))/(-0x739+-0x1257+-0xcca*-0x2)),_0x3f44c3=Math['floor']((_0x339fa0+(0x1f37+-0x1cae+-0x286))/(-0x1*-0xc9e+-0x799*-0x1+-0x1433*0x1));return(_0x50ebf4===qo||_0x50ebf4===Xo)&&(_0x2c7ddc=Math['max'](Math['floor'](_0x2c7ddc/(-0x31e+-0x1*0x1727+0x1a47)),0x1*0x20e7+-0x14db+-0xc0b*0x1)),_0x2c7ddc*_0x1e978d*_0x3f44c3*_0xb7e9cd;}static['calcGpuSiz'+'e'](_0x1e5c14,_0xba0f39,_0x2bfc65,_0x4aea4a,_0xe28d20,_0x44fd02){let _0x50e9d7=0x8eb+-0x19c9+-0x2*-0x86f;for(;_0x50e9d7+=Mi['calcLevelG'+'puSize'](_0x1e5c14,_0xba0f39,_0x2bfc65,_0x4aea4a),!(!_0xe28d20||_0x1e5c14===0x289*0x4+0x17*-0xce+0x1*0x85f&&_0xba0f39===-0xcb4+0x500+0x7b5&&_0x2bfc65===-0x1269*-0x1+0xb*0x170+-0x2238);)_0x1e5c14=Math['max'](_0x1e5c14>>0x1dc6+0x26ac+-0x4471,-0x1*0x141a+0x20c2+0x1*-0xca7),_0xba0f39=Math['max'](_0xba0f39>>-0x13c+-0x25c9+0x2706,-0x63*0x17+-0x1898+0x10bf*0x2),_0x2bfc65=Math['max'](_0x2bfc65>>0x2175+-0xbd0+-0x15a4,0x91*0x3b+-0x19a8+-0x7c2);return _0x50e9d7*(_0x44fd02?0x7*0x119+-0x37c+-0x42d:-0x2492+0x34*-0x1a+0x29db);}}let Cv=0x2*0xe8a+0x239f+0x3*-0x1591;class he{constructor(_0x57780a,_0x353942={}){c(this,'name'),c(this,'_gpuSize',-0x1b50+0xb*-0xb4+0x230c),c(this,'id',Cv++),c(this,'_invalid',!(0x132c+-0x1*0x25f9+0x12ce)),c(this,'_lockedLev'+'el',-(0x4*0xf0+-0x225b*0x1+0x1e9c)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',-0x5*0x32b+-0xf34+0x373*0x9),c(this,'_storage',!(-0x10a6+0x13a4+-0x2fd)),c(this,'_numLevels',0xfc9+0x1166+0x1*-0x212f),c(this,'_numLevels'+'Requested');var _0x2ca2d6;this['device']=_0x57780a,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x353942['width']||Number['isInteger'](_0x353942['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x353942),v['assert'](!_0x353942['height']||Number['isInteger'](_0x353942['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x353942),v['assert'](!_0x353942['depth']||Number['isInteger'](_0x353942['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x353942),this['name']=_0x353942['name']??'',this['_width']=Math['floor'](_0x353942['width']??-0xab*-0x11+0xefa+-0x1*0x1a51),this['_height']=Math['floor'](_0x353942['height']??0x45e+-0xadd+0x1*0x683),this['_format']=_0x353942['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x353942['minFilter']=de,_0x353942['magFilter']=de),this['_volume']=_0x353942['volume']??!(0x1*-0x22ec+0xdd*0x1+0x6d*0x50),this['_depth']=Math['floor'](_0x353942['depth']??-0x8*0x11b+-0x2428+0x2d01),this['_arrayLeng'+'th']=Math['floor'](_0x353942['arrayLengt'+'h']??-0x4*-0x803+0x6ca+-0xcf2*0x3),this['_storage']=_0x353942['storage']??!(0x527+0x9*0x41d+-0x2a2b),this['_cubemap']=_0x353942['cubemap']??!(0x1b67+-0x2565+0x9ff*0x1),this['_flipY']=_0x353942['flipY']??!(0x5*-0x9f+0xd92+-0xa76),this['_premultip'+'lyAlpha']=_0x353942['premultipl'+'yAlpha']??!(0x2405+-0x10*-0x206+0xb66*-0x6),this['_mipmaps']=_0x353942['mipmaps']??!(0x17da+0x1303+-0x2add*0x1),this['_numLevels'+'Requested']=_0x353942['numLevels'],_0x353942['numLevels']!==void(-0x4ea+0xe23+-0x939)&&(this['_numLevels']=_0x353942['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x353942['minFilter']??nn,this['_magFilter']=_0x353942['magFilter']??st,this['_anisotrop'+'y']=_0x353942['anisotropy']??-0xef*0x13+0x101*-0x7+-0x11*-0x175,this['_addressU']=_0x353942['addressU']??tt,this['_addressV']=_0x353942['addressV']??tt,this['_addressW']=_0x353942['addressW']??tt,this['_compareOn'+'Read']=_0x353942['compareOnR'+'ead']??!(-0x2e*0x54+-0xa0f*-0x1+-0xd7*-0x6),this['_compareFu'+'nc']=_0x353942['compareFun'+'c']??Eh,this['type']=_0x353942['hasOwnProp'+'erty']('type')?_0x353942['type']:Di,v['assert'](!_0x353942['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x353942['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x353942['projection']&&_0x353942['projection']!==Au&&(this['projection']=_0x353942['projection']),this['profilerHi'+'nt']=_0x353942['profilerHi'+'nt']??0x1*0x246b+-0xf09+-0x1562,this['_levels']=_0x353942['levels'];const _0x4803ad=!!_0x353942['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x4803ad),_0x57780a['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x2ca2d6=xt['get'](this['format']))==null?void(0x1e11+-0x329*0x4+0x1*-0x116d):_0x2ca2d6['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x3afdd0=this['device'];if(_0x3afdd0){const _0x30755a=_0x3afdd0['textures']['indexOf'](this);_0x30755a!==-(0xa3e+0x71d*0x1+-0x115a)&&_0x3afdd0['textures']['splice'](_0x30755a,0x26b5+0x2*-0x9b5+-0x337*0x6),_0x3afdd0['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x3afdd0),this['adjustVram'+'SizeTracki'+'ng'](_0x3afdd0['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x557c05=!(0x1fdf+-0x137*0x13+-0x12*0x7d)){var _0x1b8984;const {device:_0xacac99}=this;(_0x1b8984=this['impl'])==null||_0x1b8984['destroy'](_0xacac99),this['impl']=null,this['impl']=_0xacac99['createText'+'ureImpl'](this),this['dirtyAll'](),_0x557c05&&this['upload']();}['resize'](_0x1c88d6,_0x4e162d,_0x255ec7=-0xee1*-0x1+-0xb3d*-0x2+-0x255a){const _0x4e2bc0=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x4e2bc0['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x4e2bc0),this['_width']=Math['floor'](_0x1c88d6),this['_height']=Math['floor'](_0x4e162d),this['_depth']=Math['floor'](_0x255ec7),this['_updateNum'+'Level'](),this['impl']=_0x4e2bc0['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x4fae1f,_0x39bbd4){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x39bbd4+('\x20vram.text'+'ure:\x20')+_0x4fae1f['tex']+'\x20=>\x20'+(_0x4fae1f['tex']+_0x39bbd4)),_0x4fae1f['tex']+=_0x39bbd4,this['profilerHi'+'nt']===Tu?_0x4fae1f['texShadow']+=_0x39bbd4:this['profilerHi'+'nt']===ur?_0x4fae1f['texAsset']+=_0x39bbd4:this['profilerHi'+'nt']===Oy&&(_0x4fae1f['texLightma'+'p']+=_0x39bbd4);}['propertyCh'+'anged'](_0x1d1d36){this['impl']['propertyCh'+'anged'](_0x1d1d36),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x4aeb53=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x51*0x24+-0x2199*0x1+0x2*0x167f,_0x92a092=this['_numLevels'+'Requested'];_0x92a092!==void(-0x1554+-0x1c78+0x1*0x31cc)&&_0x92a092>_0x4aeb53&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x4aeb53,this),this['_numLevels']=Math['min'](_0x92a092??_0x4aeb53,_0x4aeb53),this['_mipmaps']=this['_numLevels']>0x989*-0x2+0x713*-0x1+-0x1a26*-0x1;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x1b53d7){this['_minFilter']!==_0x1b53d7&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x1b53d7,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x53154f){this['_magFilter']!==_0x53154f&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x53154f,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x5d5ff3){this['_addressU']!==_0x5d5ff3&&(this['_addressU']=_0x5d5ff3,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x2645cc){this['_addressV']!==_0x2645cc&&(this['_addressV']=_0x2645cc,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x1b3af6){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x1b3af6!==this['_addressW']&&(this['_addressW']=_0x1b3af6,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x5eae59){this['_compareOn'+'Read']!==_0x5eae59&&(this['_compareOn'+'Read']=_0x5eae59,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x2c6b40){this['_compareFu'+'nc']!==_0x2c6b40&&(this['_compareFu'+'nc']=_0x2c6b40,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x14818e){this['_anisotrop'+'y']!==_0x14818e&&(this['_anisotrop'+'y']=_0x14818e,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x17823c){this['_mipmaps']!==_0x17823c&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x17823c,_0x17823c&&(this['_needsMipm'+'apsUpload']=!(-0x1946+0x2*-0xca4+0x328e)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x595337=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x175+0x7*-0x1b1+-0x1*-0xa63);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x595337,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x238d*-0x1+0x604+-0x2991;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x4725e8){var _0x11bfe4,_0x2a622d,_0x2c4629,_0x769050;const _0x3661f8=Mh(this['format']);if(_0x4725e8!==_0x3661f8){if(_0x4725e8){const _0x40142b=Cc(this['format']);this['_format']!==_0x40142b&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x11bfe4=xt['get'](this['format']))==null?void(0x22d7+-0x1cc3+-0x614):_0x11bfe4['name'])+'\x20->\x20'+((_0x2a622d=xt['get'](_0x40142b))==null?void(-0x1*-0x1843+-0x4*0x21a+-0xfdb):_0x2a622d['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x40142b,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x3*-0x650+-0x5b0+-0xd40));}else{const _0x5998a6=kS(this['format']);this['_format']!==_0x5998a6&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x2c4629=xt['get'](this['format']))==null?void(0x1bf+-0x75d+0x59e):_0x2c4629['name'])+'\x20->\x20'+((_0x769050=xt['get'](_0x5998a6))==null?void(0x1942+-0xb03+-0xe3f):_0x769050['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x5998a6,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x17f1+0x7*-0x2d7+0x2bd2));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x3b1d99){this['_flipY']!==_0x3b1d99&&(this['_flipY']=_0x3b1d99,this['_needsUplo'+'ad']=!(0x1*-0x14e5+0x2*-0xa27+0x2933));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x3de4ed){this['_premultip'+'lyAlpha']!==_0x3de4ed&&(this['_premultip'+'lyAlpha']=_0x3de4ed,this['_needsUplo'+'ad']=!(0x336+-0x27*0x3e+0x63c));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x2a1+-0x1*-0xef2+-0x1193*0x1),!(0x1407+-0x261e+-0xb*-0x1a5),!(0x3f*-0x7f+0x146e+0xad3),!(0x13b2+0xd4f+-0x2101),!(0x3e7*-0x2+0x776*-0x5+0x2d1c),!(0x144+-0x64*0x18+0x81c)]]:[!(0x39*-0x92+0x36f*-0xa+-0x8a*-0x7c)],this['_needsUplo'+'ad']=!(-0x1a21*-0x1+-0xd26+-0x1*0xcfb),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x170e+-0x1*0x1c8a+0x57d),this['propertyCh'+'anged'](yv);}['lock'](_0x9db004={}){_0x9db004['level']??(_0x9db004['level']=0x6*-0x36c+0x25+0x133*0x11),_0x9db004['face']??(_0x9db004['face']=-0x1*0x187f+0x26f+0x4*0x584),_0x9db004['mode']??(_0x9db004['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x9db004['mode']===Fy||_0x9db004['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x9db004['mode'],this['_lockedLev'+'el']=_0x9db004['level'];const _0x41759f=this['cubemap']?this['_levels'][_0x9db004['face']]:this['_levels'];if(_0x41759f[_0x9db004['level']]===null){const _0x6a2f56=Math['max'](-0x5b4*-0x3+-0x19cb+0x8*0x116,this['_width']>>_0x9db004['level']),_0x169330=Math['max'](-0x244d+-0x261e+0x4a6c,this['_height']>>_0x9db004['level']),_0x1fa94d=Math['max'](0x1131+-0x2a2*-0x2+0x77c*-0x3,this['_depth']>>_0x9db004['level']),_0x5ee112=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x6a2f56,_0x169330,_0x1fa94d,this['_format']));_0x41759f[_0x9db004['level']]=new(Cy(this['_format']))(_0x5ee112);}return _0x41759f[_0x9db004['level']];}['setSource'](_0x54d600,_0x5502df=-0xf6b*0x1+-0xbb*-0x1f+-0xb9*0xa){let _0x29dee1=!(-0x4f1+-0x26*0x5a+0x124e),_0x19f857,_0x392f09;if(this['_cubemap']){if(_0x54d600[-0x2*-0xc73+0x2596*-0x1+-0xcb*-0x10]){_0x19f857=_0x54d600[0x11f3+0x5*0x37f+-0x38b*0xa]['width']||0x2426+-0x209*0x2+-0x4*0x805,_0x392f09=_0x54d600[-0x247a+-0x718+0x35a*0xd]['height']||-0x4e3+0xfc0+-0xadd;for(let _0x3526bd=-0x1c83+-0x1450+0x30d3;_0x3526bd<0xc49+-0x1e4+0xa5f*-0x1;_0x3526bd++){const _0x2503cf=_0x54d600[_0x3526bd];if(!_0x2503cf||_0x2503cf['width']!==_0x19f857||_0x2503cf['height']!==_0x392f09||!this['device']['_isBrowser'+'Interface'](_0x2503cf)){_0x29dee1=!(-0x1*0x201d+-0x13*0xb1+0x2d40);break;}}}else _0x29dee1=!(-0x16cf+0x26fb+0x14*-0xcf);if(!_0x29dee1){for(let _0x4ca3f3=0x21ab*-0x1+0xd2b*0x2+0x755;_0x4ca3f3<0x262+0x1*-0x36b+0x10f;_0x4ca3f3++)this['_levels'][_0x5502df][_0x4ca3f3]!==_0x54d600[_0x4ca3f3]&&(this['_levelsUpd'+'ated'][_0x5502df][_0x4ca3f3]=!(-0x1e55+-0x6*-0x144+-0x16bd*-0x1));}}else this['device']['_isBrowser'+'Interface'](_0x54d600)||(_0x29dee1=!(0x1*-0x943+-0x1*-0xd1c+-0x3d9)),_0x29dee1||(_0x54d600!==this['_levels'][_0x5502df]&&(this['_levelsUpd'+'ated'][_0x5502df]=!(0x23*0x11+0x1719+-0x196c)),_0x54d600 instanceof HTMLVideoElement?(_0x19f857=_0x54d600['videoWidth'],_0x392f09=_0x54d600['videoHeigh'+'t']):(_0x19f857=_0x54d600['width'],_0x392f09=_0x54d600['height']));if(_0x29dee1){if(this['_width']=0x1b32*-0x1+-0x18d7+0x340d,this['_height']=0x2255+0x1d07*0x1+-0xfd6*0x4,this['_cubemap']){for(let _0xb104c8=-0x13b5+0x1dda+0x173*-0x7;_0xb104c8<-0xd3c+0x9ad*0x1+0x7*0x83;_0xb104c8++)this['_levels'][_0x5502df][_0xb104c8]=null,this['_levelsUpd'+'ated'][_0x5502df][_0xb104c8]=!(-0x40f*0x6+-0x12*-0x20b+-0xc6c);}else this['_levels'][_0x5502df]=null,this['_levelsUpd'+'ated'][_0x5502df]=!(0x3f*0x53+-0x3*0xc09+0xfae);}else _0x5502df===0x1b1f+-0x12d1+-0x84e&&(this['_width']=_0x19f857,this['_height']=_0x392f09),this['_levels'][_0x5502df]=_0x54d600;(this['_invalid']!==_0x29dee1||!_0x29dee1)&&(this['_invalid']=_0x29dee1,this['upload']());}['getSource'](_0x1fe5ee=0x1*0x110+-0x1f3*-0x13+-0x2619){return this['_levels'][_0x1fe5ee];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(0x2*-0xa47+0x973+-0xed*-0xc),this['_lockedMod'+'e']=yl;}['upload'](){var _0x2fecb5,_0x470c78;this['_needsUplo'+'ad']=!(-0x1b*0x2e+0x73b*-0x1+0xc15),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x470c78=(_0x2fecb5=this['impl'])['uploadImme'+'diate'])==null||_0x470c78['call'](_0x2fecb5,this['device'],this);}['read'](_0xe2cf4e,_0x4aedfb,_0x324875,_0x52013f,_0x33ff79={}){var _0x8ed2f4,_0x2589f1;return(_0x2589f1=(_0x8ed2f4=this['impl'])['read'])==null?void(0xf5b+-0x120d+0x2b2):_0x2589f1['call'](_0x8ed2f4,_0xe2cf4e,_0x4aedfb,_0x324875,_0x52013f,_0x33ff79);}}const Mv={'white':[-0x19bb+0x1*0x458+0x17e*0xf,-0xfd2+0x49*-0x47+0x2510,-0x7+-0xe*-0x279+-0x32*0xac,0x15c4+0x20db+-0x420*0xd],'gray':[0x396+-0x4e1*0x8+0x23f2,-0x25*-0x2e+0xe9b+-0x14c1,-0x4a8+0x2622*-0x1+0x3*0xe6e,0x2f*-0xf+0x94d+-0x58d],'black':[-0x23*0x2+-0x966*0x1+0x9ac,-0x610+0x1*-0x16c3+0x1cd3,0x5aa*-0x1+-0xe*-0xb3+-0x60*0xb,0x28*-0x89+0x1*0x2026+-0x9bf],'normal':[-0xe*-0x2c6+0x1967+0x5*-0xcbf,-0x833+0x1300+-0x9*0x125,0x1*-0xfeb+0x7cc*0x4+0x20a*-0x7,0x180b+0x25*-0xe5+0xa0d],'pink':[-0x789+-0x1682+0x1f0a,0x8f9*0x1+-0x1*0x21f1+0x1978,-0x815+-0x149e+-0x6*-0x4f3,-0x424+0x2286+-0x1*0x1d63]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x4c3411=>{_0x4c3411['destroy']();});}}const Rv=new Ot(),en=(_0x4ec4e2,_0x508766)=>{const _0x496743=Rv['get'](_0x4ec4e2,()=>new Pv());if(!_0x496743['map']['has'](_0x508766)){const _0x448345=new he(_0x4ec4e2,{'name':'built-in-t'+'exture-'+_0x508766,'width':0x1,'height':0x1,'format':Se}),_0x1fe220=_0x448345['lock'](),_0x4e1d55=Mv[_0x508766];v['assert'](_0x4e1d55,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x508766+('\x27\x20not\x20foun'+'d')),_0x1fe220['set'](_0x4e1d55),_0x448345['unlock'](),_0x496743['map']['set'](_0x508766,_0x448345);}return _0x496743['map']['get'](_0x508766);};let Iv=-0x76*0x45+0xce*0xa+-0x2*-0xbe1;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x9d53ed,_0x25778b,_0x4d3949){c(this,'renderVers'+'ionUpdated',-(-0x17f*0xd+0x19df+-0x1f*0x35)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x9d53ed,this['format']=_0x25778b,this['dirty']=!(0x5*-0x751+-0x12d+0x25c2),this['impl']=_0x9d53ed['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x4d3949,_0x4d3949&&this['setUniform'+'Buffer'](fp,_0x4d3949),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x25778b));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x56c108,_0x41fcd2){const _0x1d8ae5=this['format']['bufferForm'+'atsMap']['get'](_0x56c108);v['assert'](_0x1d8ae5!==void(-0xdf7+-0xe2*0x20+0x6b*0x65),'Setting\x20a\x20'+'uniform\x20['+_0x56c108+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x1d8ae5]!==_0x41fcd2&&(this['uniformBuf'+'fers'][_0x1d8ae5]=_0x41fcd2,this['dirty']=!(0x1*-0x137+0x193d+-0x1806));}['setStorage'+'Buffer'](_0x5dac08,_0x3f043b){const _0x25611d=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x5dac08);v['assert'](_0x25611d!==void(0x227e+-0x2*-0xd51+-0x3d20),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x5dac08+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x25611d]!==_0x3f043b&&(this['storageBuf'+'fers'][_0x25611d]=_0x3f043b,this['dirty']=!(0x9a*-0x38+0x294*0x5+0x14cc));}['setTexture'](_0x3660d6,_0x425ea2){const _0x12f443=this['format']['textureFor'+'matsMap']['get'](_0x3660d6);v['assert'](_0x12f443!==void(-0x18f2+0x837*0x3+0x7*0xb),'Setting\x20a\x20'+'texture\x20['+_0x3660d6+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x12f443]!==_0x425ea2?(this['textures'][_0x12f443]=_0x425ea2,this['dirty']=!(-0x11d+0xd*-0x2bc+0x24a9)):this['renderVers'+'ionUpdated']<_0x425ea2['renderVers'+'ionDirty']&&(this['dirty']=!(0xbe1*-0x3+-0x6f+0xa2*0x39));}['setStorage'+'Texture'](_0x208d31,_0x215180){const _0x174e1b=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x208d31);v['assert'](_0x174e1b!==void(0x214+0x182*-0xe+-0x74*-0x2a),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x208d31+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x174e1b]!==_0x215180?(this['storageTex'+'tures'][_0x174e1b]=_0x215180,this['dirty']=!(0x2637*0x1+-0x7f*0x43+0x5b*-0xe)):this['renderVers'+'ionUpdated']<_0x215180['renderVers'+'ionDirty']&&(this['dirty']=!(-0x21ab+0x14ef+-0x28c*-0x5));}['updateUnif'+'ormBuffers'](){for(let _0x1000b1=-0xbdb+-0xb*0x355+0x3082;_0x1000b1<this['uniformBuf'+'fers']['length'];_0x1000b1++)this['uniformBuf'+'fers'][_0x1000b1]['update']();}['update'](){const {textureFormats:_0x251dab,storageTextureFormats:_0x454e91,storageBufferFormats:_0x23155c}=this['format'];for(let _0x48e607=0xf4b+-0x2f*-0x7d+0x37a*-0xb;_0x48e607<_0x251dab['length'];_0x48e607++){const _0x323c92=_0x251dab[_0x48e607];let _0x4664ff=_0x323c92['scopeId']['value'];_0x4664ff||(_0x323c92['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x4664ff=en(this['device'],'white')),_0x323c92['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x4664ff=en(this['device'],'pink')),_0x4664ff||(v['errorOnce']('Texture\x20'+_0x323c92['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x4664ff=en(this['device'],'pink'))),this['setTexture'](_0x323c92['name'],_0x4664ff);}for(let _0x28c13b=-0x1732+0x1b25*-0x1+0x3257;_0x28c13b<_0x454e91['length'];_0x28c13b++){const _0x548aec=_0x454e91[_0x28c13b],_0x3b8492=_0x548aec['scopeId']['value'];v['assert'](_0x3b8492,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x548aec['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x548aec['name'],_0x3b8492);}for(let _0x4577cb=-0x1859+-0x2dd+0x1b36;_0x4577cb<_0x23155c['length'];_0x4577cb++){const _0x50d2e4=_0x23155c[_0x4577cb],_0x134eb7=_0x50d2e4['scopeId']['value'];v['assert'](_0x134eb7,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x50d2e4['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x50d2e4['name'],_0x134eb7);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x3e0382=0x221c+-0x1c66+-0x2*0x2db;_0x3e0382<this['uniformBuf'+'fers']['length'];_0x3e0382++){const _0x1a707b=this['uniformBuf'+'fers'][_0x3e0382];this['uniformBuf'+'ferOffsets'][_0x3e0382]=_0x1a707b['offset'],this['renderVers'+'ionUpdated']<_0x1a707b['renderVers'+'ionDirty']&&(this['dirty']=!(-0x92f*-0x2+-0xd27+-0x537));}this['dirty']&&(this['dirty']=!(-0x7*-0x41e+0x5f2*-0x6+0x6db),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x5a9602,_0x53301a,_0x5adeac,_0x109649=-0x1504*0x1+-0xd*0x16f+0x27a8){return _0x5a9602&~(_0x109649<<_0x5adeac)|_0x53301a<<_0x5adeac;},'get'(_0x27e2b4,_0x41f4ba,_0xbefb30=0x1649+-0xdbe*-0x2+-0x31c4){return _0x27e2b4>>_0x41f4ba&_0xbefb30;},'all'(_0xbe544c,_0x4fd8b8,_0x3c70ed=-0x6*0x1d0+-0x9*-0xec+0x295){const _0x36fd73=_0x3c70ed<<_0x4fd8b8;return(_0xbe544c&_0x36fd73)===_0x36fd73;},'any'(_0x488f30,_0x4bd8e0,_0x4d209c=0xf8*-0x1a+-0x1070+0x29a1){return(_0x488f30&_0x4d209c<<_0x4bd8e0)!==0x1953+-0x1*-0x20f+-0x1b62;}},xl=0x1357+-0x1*0x1bd5+-0x2d7*-0x3,Vi=-0x12fe*-0x1+0xcb*0x6+0x4bd*-0x5,dm=0xb3*-0xd+-0x79a+0x1*0x10b1,um=0x1391+0xad6+-0x185*0x14,fm=-0x1*-0x623+0xe79+0x1*-0x1495,pm=0xd68+-0x17dd+0x540*0x2,mm=0x1da5+-0x18be*-0x1+-0x3655,_m=-0x1169+0x1545+-0xa*0x61,Cu=-0x7*0x53b+0x1a+-0xc33*-0x3,gm=0x22d8+-0x186e+-0xa53,ym=-0x1613+-0xdf5+-0x110*-0x22,xm=-0x1186+-0x1ed+0x138c,Sm=0xec6+-0x19c9+-0x1*-0xb1d,Dv=-0x36d*-0x3+-0xcc5+-0x28d*-0x1,Lv=Cu,zs=class zs{constructor(_0x48a508=!(0x2*-0x10fd+0x3*0x5cf+-0x1a*-0xa3),_0x409aae=Lt,_0xa038fb=at,_0x21eb5e=kf,_0x1f6666,_0x35970b,_0x376d8a,_0x12e91a=!(0x13b+-0xe0e+0xcd3),_0x102fc0=!(-0x17dd+-0x18c7+-0x16*-0x236),_0x20ec5d=!(-0x1*-0x476+-0xccd+0x5*0x1ab),_0x5899b1=!(0x17cb+-0x18e*0x7+-0xce9)){c(this,'target0',0x233a+0x1*0x1731+-0x3a6b),(this['setColorBl'+'end'](_0x409aae,_0xa038fb,_0x21eb5e),this['setAlphaBl'+'end'](_0x1f6666??_0x409aae,_0x35970b??_0xa038fb,_0x376d8a??_0x21eb5e),this['setColorWr'+'ite'](_0x12e91a,_0x102fc0,_0x20ec5d,_0x5899b1),this['blend']=_0x48a508);}set['blend'](_0x4b4c22){this['target0']=Oe['set'](this['target0'],_0x4b4c22?-0x1258+0x1526+-0x3*0xef:0x2160+-0x196b*0x1+0x2a7*-0x3,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x4b8679,_0x399ae8,_0x260fb9){this['target0']=Oe['set'](this['target0'],_0x4b8679,dm,xl),this['target0']=Oe['set'](this['target0'],_0x399ae8,um,Vi),this['target0']=Oe['set'](this['target0'],_0x260fb9,fm,Vi);}['setAlphaBl'+'end'](_0x18c9fc,_0xd2bc4b,_0x15571f){this['target0']=Oe['set'](this['target0'],_0x18c9fc,pm,xl),this['target0']=Oe['set'](this['target0'],_0xd2bc4b,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x15571f,_m,Vi);}['setColorWr'+'ite'](_0x12dd0d,_0x3f014e,_0x4bb4fc,_0xe07fc3){this['redWrite']=_0x12dd0d,this['greenWrite']=_0x3f014e,this['blueWrite']=_0x4bb4fc,this['alphaWrite']=_0xe07fc3;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0xe9386d){this['target0']=Oe['set'](this['target0'],_0xe9386d?0x25bd*-0x1+-0x3*-0x4f9+0x16d3:-0x1e*0x149+-0x1263+0x81*0x71,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x2982d6){this['target0']=Oe['set'](this['target0'],_0x2982d6?0x3*-0x897+-0x11c0+0x2b86:-0x714+-0xa10+-0x892*-0x2,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x195542){this['target0']=Oe['set'](this['target0'],_0x195542?-0x226d*-0x1+0xa47+-0x1*0x2cb3:0x1*0x244e+0x5c7+-0x603*0x7,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x5d3889){this['target0']=Oe['set'](this['target0'],_0x5d3889?-0xf75*-0x1+0x2113*0x1+-0x3087:-0x29*-0xb9+-0x167*0x5+-0x169e,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x354fa2){return this['target0']=_0x354fa2['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x4b167){return this['target0']===_0x4b167['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(-0x425+0x305*-0x1+0x72a),void(0x599+0x1*0x2617+-0xe9*0x30),void(-0x7b+-0x224a+0x22c5),void(-0x24c3+0x1ac6+0x9fd),void(0x4*-0x7a7+0x1f7f+-0x1*0xe3),void(-0x49*0xa+0xe*0x16a+-0x10f2),void(0x15+-0x1320+0x130b),!(0x3c*0x5d+0xc27+-0x21f2),!(-0x12e6*-0x1+0x824+0x3*-0x903),!(-0x15f5*0x1+-0x185*0x14+0x1*0x345a),!(-0xc0*-0x4+0x1c5d+0x37c*-0x9)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0x6ff+-0xa94+-0x1*-0x395),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(0x121b+0x1*-0x141b+0x200),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',-0x7d2+0xc7*0x10+-0x49e);}['get'](_0x1f6627){let _0x1ed976=this['map']['get'](_0x1f6627);return _0x1ed976===void(0x2*-0xf1+0xa80+-0x44f*0x2)&&(_0x1ed976=this['id']++,this['map']['set'](_0x1f6627,_0x1ed976)),_0x1ed976;}}const Fv=new _p(),vm=-0x1*0x10e7+-0x12*-0x74+0x463*0x2,bm=-0x1*0x4a5+0x1*-0x101+-0x3*-0x1e2,wm=-0x2*0x171+0x254b+-0x2266,Zi=class Zi{constructor(_0x288a2b=fu,_0x39253d=!(0x1de0+0x18a1+-0x3681)){c(this,'data',-0x1*0x22fc+-0xd79+0x9b1*0x5),c(this,'_depthBias',-0x7*-0xa7+-0x5*0x6a7+0x1cb2),c(this,'_depthBias'+'Slope',0xb03+0x134+-0xc37),c(this,'key',-0xfb8+0x2d*0x99+-0xb2d),(this['func']=_0x288a2b,this['write']=_0x39253d);}set['test'](_0x466151){this['func']=_0x466151?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x3f39af){this['data']=Oe['set'](this['data'],_0x3f39af?-0x2bb*-0xd+-0x1c7*-0xe+-0x3c60:-0x1*-0xad3+-0x21c7+-0x1*-0x16f4,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x379784){this['data']=Oe['set'](this['data'],_0x379784,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x3d3680){this['_depthBias']=_0x3d3680,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0xe379a9){this['_depthBias'+'Slope']=_0xe379a9,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x1385d1){return this['data']=_0x1385d1['data'],this['_depthBias']=_0x1385d1['_depthBias'],this['_depthBias'+'Slope']=_0x1385d1['_depthBias'+'Slope'],this['key']=_0x1385d1['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x136fc3,_depthBias:_0x230c60,_depthBiasSlope:_0x26fb0c}=this,_0x408172=_0x136fc3+'-'+_0x230c60+'-'+_0x26fb0c;this['key']=Fv['get'](_0x408172);}['equals'](_0x18699d){return this['key']===_0x18699d['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(-0xa4*0x30+-0x263b+0x44fc)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(0xa*-0x243+-0x1*-0x1ced+-0x1*0x64f))));let as=Zi;class Ky{constructor(){c(this,'globalId',-0x105*-0x3+-0xd83+0xa74),c(this,'revision',0x1f10+0xe8f+0x2af*-0x11);}['equals'](_0x1c3eba){return this['globalId']===_0x1c3eba['globalId']&&this['revision']===_0x1c3eba['revision'];}['copy'](_0x20d338){this['globalId']=_0x20d338['globalId'],this['revision']=_0x20d338['revision'];}['reset'](){this['globalId']=0x491*0x7+0x17*-0x11d+-0x65c,this['revision']=0xb66+0x7*0x7+-0x17*0x81;}}let Tm=0x13d+0x18b8+-0x19f5;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x569d89){this['name']=_0x569d89,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0xae4384){}['setValue'](_0x40f356){this['value']=_0x40f356,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x1a3d3d){this['name']=_0x1a3d3d,this['variables']=new Map();}['resolve'](_0x503162){return this['variables']['has'](_0x503162)||this['variables']['set'](_0x503162,new kv(_0x503162)),this['variables']['get'](_0x503162);}['removeValu'+'e'](_0x399eb2){for(const _0x890cf6 in this['variables']){const _0x5ca77d=this['variables'][_0x890cf6];_0x5ca77d['value']===_0x399eb2&&(_0x5ca77d['value']=null);}}}let Nv=0x9*-0x1e6+-0x1*-0x1345+0x22f*-0x1;class os{constructor(_0x486fb8,_0x507f80,_0x1f7c94,_0x21fa3e){c(this,'usage',jt),(v['assert'](arguments['length']<=0x21*-0x3f+-0x7be+0xfe1&&(!_0x21fa3e||typeof _0x21fa3e=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x21fa3e==null?void(-0x113+0xb7+0x5c):_0x21fa3e['usage'])??jt,this['device']=_0x486fb8,this['format']=_0x507f80,this['numVertice'+'s']=_0x1f7c94,this['id']=Nv++,this['impl']=_0x486fb8['createVert'+'exBufferIm'+'pl'](this,_0x507f80,_0x21fa3e),this['numBytes']=_0x507f80['verticesBy'+'teSize']?_0x507f80['verticesBy'+'teSize']:_0x507f80['size']*_0x1f7c94,this['adjustVram'+'SizeTracki'+'ng'](_0x486fb8['_vram'],this['numBytes']));const _0x5be239=_0x21fa3e==null?void(0xa33+0x21fa+-0x2c2d):_0x21fa3e['data'];_0x5be239?this['setData'](_0x5be239):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x565c4f=this['device'],_0x443e54=_0x565c4f['buffers']['indexOf'](this);_0x443e54!==-(0x15b*0x1+-0x1*-0x1e17+-0xa7b*0x3)&&_0x565c4f['buffers']['splice'](_0x443e54,0xe29+0x24c4+-0x32ec),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x565c4f),this['adjustVram'+'SizeTracki'+'ng'](_0x565c4f['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x32c3d2,_0x2780e2){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x2780e2+'\x20vram.vb:\x20'+_0x32c3d2['vb']+'\x20=>\x20'+(_0x32c3d2['vb']+_0x2780e2)),_0x32c3d2['vb']+=_0x2780e2;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x7a2f50){return _0x7a2f50['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x7a2f50['byteLength']),!(0x562*0x2+-0xf11*0x1+-0x227*-0x2)):(this['storage']=_0x7a2f50,this['unlock'](),!(0x1*0x2173+0x1abe+-0x13*0x32b));}}function hn(_0x847a7e){if(_0x847a7e==null)return 0x1081+-0x1c58+0xbd7;let _0x2dd1b3=-0x1*-0x1349+0x1e7e+-0x31c7*0x1;for(let _0x377ec4=-0x1d0e*0x1+-0x30d*0x1+-0x1*-0x201b,_0x49fc85=_0x847a7e['length'];_0x377ec4<_0x49fc85;_0x377ec4++)_0x2dd1b3=(_0x2dd1b3<<-0xe*-0x92+0x20f5+-0x28ec)-_0x2dd1b3+_0x847a7e['charCodeAt'](_0x377ec4),_0x2dd1b3|=-0x3a+-0x2ce*0x4+0x5b9*0x2;return _0x2dd1b3;}function Zy(_0x51afc1){let _0x5c21dc=0xd97*-0xd0a00+0x556dedff+0xdce195c6;for(let _0x56fbc3=-0x191b+-0x3f0*-0x4+0x95b;_0x56fbc3<_0x51afc1['length'];_0x56fbc3++)_0x5c21dc^=_0x51afc1[_0x56fbc3],_0x5c21dc*=-0x138f408+0x127b476+-0x5b15b7*-0x3;return _0x5c21dc>>>-0x7*0x407+0x78*0x7+0x18e9;}const zv=new _p(),Uv=[-0x1d97+-0x1*-0x7ba+0x15df,0x11e4*-0x1+-0x194*-0x13+-0xc14,0x429+-0x23e2+0x1fc1,0x1fff*0x1+-0x2014+-0x21*-0x1,-0x1d*0x9f+-0x57d*-0x2+-0x17*-0x4f],Vv=new Ot();class Et{constructor(_0x13da27,_0x48f32b,_0x15aecf){this['device']=_0x13da27,this['_elements']=[],this['hasUv0']=!(-0xd92+0x1c80+-0xeed),this['hasUv1']=!(0x13bd+-0x974*-0x1+0xe98*-0x2),this['hasColor']=!(-0x1508+0x763+0xda6),this['hasTangent'+'s']=!(0x31*-0x45+0x5*0x279+0xd9),this['verticesBy'+'teSize']=-0xa87*0x1+-0x1d7c+-0x2803*-0x1,this['vertexCoun'+'t']=_0x15aecf,this['interleave'+'d']=_0x15aecf===void(-0x1*0x10e3+0x5*-0x373+0x2222),this['instancing']=!(-0xf35+0x2*-0xa0f+0x2354),this['size']=_0x48f32b['reduce']((_0x16ba42,_0x1ad863)=>_0x16ba42+Math['ceil'](_0x1ad863['components']*_o[_0x1ad863['type']]/(-0x1500+0x1f66+-0x1*0xa62))*(0x1ca5+-0x260+-0x1a41),0x14e*0x7+0x626*-0x2+0x9*0x5a);let _0x3e3723=0x20e5+0xb*0x11e+-0x2d2f,_0x36b305;for(let _0x3eace8=-0x94*-0x3d+0x17e2+-0x3b26,_0x4305f6=_0x48f32b['length'];_0x3eace8<_0x4305f6;_0x3eace8++){const _0x5cd0f5=_0x48f32b[_0x3eace8];_0x36b305=_0x5cd0f5['components']*_o[_0x5cd0f5['type']],v['assert'](Et['isElementV'+'alid'](_0x13da27,_0x5cd0f5),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x5cd0f5['semantic']+'\x20:\x20'+Sv[_0x5cd0f5['type']]+'\x20x\x20'+_0x5cd0f5['components']),_0x15aecf&&(_0x3e3723=N['roundUp'](_0x3e3723,_0x36b305),v['assert'](_0x36b305%(-0x1*0x229f+0x5b5*-0x2+0x2e0d)===-0xa54+0x13f+0x915,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x36b305));const _0x7c2c49=_0x5cd0f5['asInt']??!(-0x71b+-0x108a+0x17a6),_0x341278=_0x7c2c49?!(-0xd1b+0x1*0x1b41+-0xe25):_0x5cd0f5['normalize']??!(-0x1*0x104e+0x2c*0x21+0xaa3),_0x3af6cc={'name':_0x5cd0f5['semantic'],'offset':_0x15aecf?_0x3e3723:_0x5cd0f5['hasOwnProp'+'erty']('offset')?_0x5cd0f5['offset']:_0x3e3723,'stride':_0x15aecf?_0x36b305:_0x5cd0f5['hasOwnProp'+'erty']('stride')?_0x5cd0f5['stride']:this['size'],'dataType':_0x5cd0f5['type'],'numComponents':_0x5cd0f5['components'],'normalize':_0x341278,'size':_0x36b305,'asInt':_0x7c2c49};this['_elements']['push'](_0x3af6cc),_0x15aecf?_0x3e3723+=_0x36b305*_0x15aecf:_0x3e3723+=Math['ceil'](_0x36b305/(0x585+-0x1f8b+-0x25e*-0xb))*(0x12cd*0x1+0x6*-0x60c+0x117f*0x1),_0x5cd0f5['semantic']===ns?this['hasUv0']=!(0x1b35*-0x1+0xfa8+-0xb8d*-0x1):_0x5cd0f5['semantic']===_n?this['hasUv1']=!(-0x1aef+0x1af9+-0xa):_0x5cd0f5['semantic']===At?this['hasColor']=!(0x30b+-0x6ad*0x2+0x5b*0x1d):_0x5cd0f5['semantic']===Zs&&(this['hasTangent'+'s']=!(-0xd*0x2cf+0x47d*0x3+0x170c));}_0x15aecf&&(this['verticesBy'+'teSize']=_0x3e3723),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x34b4d8){return Vv['get'](_0x34b4d8,()=>new Et(_0x34b4d8,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x1bbde5,_0x1d70b5){const _0x57f948=_0x1d70b5['components']*_o[_0x1d70b5['type']];return!(_0x1bbde5['isWebGPU']&&!Uv['includes'](_0x57f948));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x13af1d=[],_0x2f2732=[],_0x327a94=this['_elements']['length'];for(let _0x2df05d=0x13a8+0x16*0x192+-0x3634;_0x2df05d<_0x327a94;_0x2df05d++){const {name:_0xa6545a,dataType:_0x3ee170,numComponents:_0x51ee00,normalize:_0xd2b392,offset:_0x19d5d7,stride:_0x39af87,size:_0x5503f7,asInt:_0x241f1e}=this['_elements'][_0x2df05d],_0x254236=_0xa6545a+_0x3ee170+_0x51ee00+_0xd2b392+_0x241f1e;_0x13af1d['push'](_0x254236);const _0x46010c=_0x254236+_0x19d5d7+_0x39af87+_0x5503f7;_0x2f2732['push'](_0x46010c);}_0x13af1d['sort']();const _0x24af98=_0x13af1d['join']();this['batchingHa'+'sh']=hn(_0x24af98),this['shaderProc'+'essingHash'+'String']=_0x24af98,this['renderingH'+'ashString']=_0x2f2732['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x3bcc67={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(-0x5*-0x665+-0x1c2b+0x1e7*-0x2)),c(this,'_key'),(this['_func']=_0x3bcc67['func']??Ai,this['_ref']=_0x3bcc67['ref']??0x2351*-0x1+0x1*0x59c+0xf*0x1fb,this['_readMask']=_0x3bcc67['readMask']??0x19c3+-0x6d*-0x7+-0x1bbf*0x1,this['_writeMask']=_0x3bcc67['writeMask']??-0x189*-0x12+-0x1179+-0x92a,this['_fail']=_0x3bcc67['fail']??ha,this['_zfail']=_0x3bcc67['zfail']??ha,this['_zpass']=_0x3bcc67['zpass']??ha,this['_evalKey']());}set['func'](_0x286374){this['_func']=_0x286374,this['_dirty']=!(0x27f+-0x82*0x41+0x1e83);}get['func'](){return this['_func'];}set['ref'](_0xe69a83){this['_ref']=_0xe69a83,this['_dirty']=!(0x1db5+0x228f+0x1*-0x4044);}get['ref'](){return this['_ref'];}set['fail'](_0x328c0f){this['_fail']=_0x328c0f,this['_dirty']=!(-0xd2a+-0x5*-0x74e+-0x175c);}get['fail'](){return this['_fail'];}set['zfail'](_0x1c0e87){this['_zfail']=_0x1c0e87,this['_dirty']=!(-0x197e*0x1+-0x4*-0x6dd+-0x1f6);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x2bb2ae){this['_zpass']=_0x2bb2ae,this['_dirty']=!(0x1169+-0x994+-0x7d5);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x3f4707){this['_readMask']=_0x3f4707,this['_dirty']=!(0x1*-0x57a+0x7e1*0x1+0x29*-0xf);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x246073){this['_writeMask']=_0x246073,this['_dirty']=!(-0xfef+0x2516+0x39*-0x5f);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0xcfa137,_ref:_0x3648d7,_fail:_0x19c672,_zfail:_0x38b5d0,_zpass:_0x31b1cf,_readMask:_0x12abde,_writeMask:_0x111ee6}=this,_0x1e1603=_0xcfa137+','+_0x3648d7+','+_0x19c672+','+_0x38b5d0+','+_0x31b1cf+','+_0x12abde+','+_0x111ee6;this['_key']=Gv['get'](_0x1e1603),this['_dirty']=!(-0x193*-0x8+-0x1cf4+-0x3b*-0x47);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x28179f){return this['_func']=_0x28179f['_func'],this['_ref']=_0x28179f['_ref'],this['_readMask']=_0x28179f['_readMask'],this['_writeMask']=_0x28179f['_writeMask'],this['_fail']=_0x28179f['_fail'],this['_zfail']=_0x28179f['_zfail'],this['_zpass']=_0x28179f['_zpass'],this['_dirty']=_0x28179f['_dirty'],this['_key']=_0x28179f['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x355e1b,_0x1f0ab1){var _0x4e6364,_0x55ae03,_0x5da672,_0x2f4d65,_0xbfaaa6,_0x56dcd8;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0x93a*-0x1+0x22ed*-0x1+-0x1614*-0x2)),c(this,'isWebGPU',!(0x1021+0x2415+-0x3435)),c(this,'isWebGL2',!(0x1cb1+0x1671*-0x1+0x7b*-0xd)),c(this,'isHdr',!(-0xbdc+-0x37b*-0x1+-0x862*-0x1)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0x69d+0x83*0x23+-0xb4b*0x1),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x1a4d+-0x1*-0x26ba+-0xd4*0xf),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x56*-0x30+0x148*-0x8+0x1a61)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x17+-0x2*0xb6+0x184)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0xc5*0x9+0x112a+-0xa3d),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x122d+-0x21cf+0xfa3)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x17f4+-0x182*0x9+-0xa61*0x1)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x5*0x5a5+-0x4f*-0x3d+0x967)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0x110b+0x109*0x13+-0x24b5)),c(this,'textureFlo'+'atFilterab'+'le',!(0xd30+-0xb8*-0xd+-0x4f*0x49)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(0x2474*0x1+0x24ad+0x12*-0x410)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[0xf7d+-0x503+-0xa7a,-0x11b*-0x1c+0xc79+-0x2b6d,0xbff+0x3d1*-0x1+0x1*-0x82e,0x1fa*-0x7+0x1b84+0xdad*-0x1],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x1b87+-0x21a4+0x61e)),(this['canvas']=_0x355e1b,this['initOption'+'s']={..._0x1f0ab1},(_0x4e6364=this['initOption'+'s'])['alpha']??(_0x4e6364['alpha']=!(0x1d*-0x115+-0x6b*-0x35+0x2*0x49d)),(_0x55ae03=this['initOption'+'s'])['depth']??(_0x55ae03['depth']=!(0xfb*-0x8+0x26c5+-0x1eed)),(_0x5da672=this['initOption'+'s'])['stencil']??(_0x5da672['stencil']=!(-0x252*0xf+0x2fa*0x7+0x37e*0x4)),(_0x2f4d65=this['initOption'+'s'])['antialias']??(_0x2f4d65['antialias']=!(-0x5*-0x1b3+-0x2551+-0x22*-0xd9)),(_0xbfaaa6=this['initOption'+'s'])['powerPrefe'+'rence']??(_0xbfaaa6['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x56dcd8=this['initOption'+'s'])['displayFor'+'mat']??(_0x56dcd8['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](0x3*0x53+0xf8+0x1*-0x1f0,window['devicePixe'+'lRatio']):-0x6bc+0x155+0x568,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x1*0x2019+-0x3*-0x33d+0x1662,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x2*-0x859+0x4fb*0x5+-0x2999,this['_primsPerF'+'rame']=[]);for(let _0x259dab=Mc;_0x259dab<=Yr;_0x259dab++)this['_primsPerF'+'rame'][_0x259dab]=-0x21*-0x6c+0x3*0xc91+-0x3*0x1135;this['_renderTar'+'getCreatio'+'nTime']=0x257+-0x14c*0xd+0xe85,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x5*-0xd1+-0x1*-0x2417+0xf1*-0x22);}['postInit'](){const _0x25737f=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0xde6fa=new Float32Array([-(-0x28+0x1*-0x1655+-0x1*-0x167e),-(0x9*0x1cd+-0x4a3+-0xb91),-0x2419*0x1+-0x2f*-0x8e+0xa08,-(0x298*0x7+-0x1*0x121f+-0x8),-(-0x362+-0x181c+0x1b7f*0x1),-0x1*-0x1fbd+-0x1*-0x182+-0x213e,-0x1bb*-0xd+0x47*0xf+-0x1aa7,-0x9b8+-0x19*0x47+0x42a*0x4]);this['quadVertex'+'Buffer']=new os(this,_0x25737f,0x1074*-0x1+-0x1483+-0x24fb*-0x1,{'data':_0xde6fa});}['destroy'](){var _0x5205a7,_0x4b31be,_0x496afe;this['fire']('destroy'),(_0x5205a7=this['quadVertex'+'Buffer'])==null||_0x5205a7['destroy'](),this['quadVertex'+'Buffer']=null,(_0x4b31be=this['dynamicBuf'+'fers'])==null||_0x4b31be['destroy'](),this['dynamicBuf'+'fers']=null,(_0x496afe=this['gpuProfile'+'r'])==null||_0x496afe['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x102511){this['fire']('destroy:sh'+'ader',_0x102511);const _0xb4d66f=this['shaders']['indexOf'](_0x102511);_0xb4d66f!==-(0x2*0x4cc+0x65e+-0xd7*0x13)&&this['shaders']['splice'](_0xb4d66f,-0x83*-0x32+0x41f*-0x5+-0x4fa);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0xa31777;this['contextLos'+'t']=!(-0xd9c+0x4f0+0x8ac),this['backBuffer'+'Size']['set'](-(0x7ec*0x3+-0x1f49*-0x1+-0x370c),-(0xd26+0x18d7*-0x1+0xbb2));for(const _0x2c8d9f of this['textures'])_0x2c8d9f['loseContex'+'t']();for(const _0x4523cf of this['buffers'])_0x4523cf['loseContex'+'t']();for(const _0x4c6777 of this['targets'])_0x4c6777['loseContex'+'t']();(_0xa31777=this['gpuProfile'+'r'])==null||_0xa31777['loseContex'+'t']();}['restoreCon'+'text'](){var _0x2ebf31,_0x414cf3;this['contextLos'+'t']=!(0x1*-0x20bf+0x3d*-0x85+0x4071),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x4fb50d of this['buffers'])_0x4fb50d['unlock']();(_0x414cf3=(_0x2ebf31=this['gpuProfile'+'r'])==null?void(0x2688+0xf7e+-0x3606):_0x2ebf31['restoreCon'+'text'])==null||_0x414cf3['call'](_0x2ebf31);}['toJSON'](_0x41ad6c){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0xa85*0x3+0x168d+-0x361c),this['shaderAsyn'+'cCompile']=!(-0x5*-0x22e+-0x180d+0xd28),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=-0x308+0x1*-0x20c7+0x59*0x67,this['sx']=this['sy']=this['sw']=this['sh']=0x217*0x12+-0x1*-0x1df2+-0x4390,this['blendColor']=new Y(-0x1040+0x155+0xeeb,0x1d*-0x146+0x128*-0x1d+0x4676,0x1*0x1843+-0x2542+-0x1*-0xcff,0x251e+-0x3d0+-0x214e);}['setStencil'+'State'](_0x1273b8,_0xce301b){v['assert'](!(-0x3*0xa2b+-0x9e*-0x3+0x106*0x1c));}['setBlendSt'+'ate'](_0x1fb960){v['assert'](!(0x16f4+0x1995+-0x3088));}['setBlendCo'+'lor'](_0x1a9c44,_0x2ed42a,_0x4d5fd,_0x47a7c5){v['assert'](!(0x7*0xeb+-0x7*-0x58f+-0x2d55));}['setDepthSt'+'ate'](_0x387d33){v['assert'](!(-0xef7+-0x467+0x135f));}['setCullMod'+'e'](_0x546406){v['assert'](!(-0xc9d+-0x8*0x1c4+0x1abe));}['setRenderT'+'arget'](_0x30db54){this['renderTarg'+'et']=_0x30db54;}['setIndexBu'+'ffer'](_0x298594){this['indexBuffe'+'r']=_0x298594;}['setVertexB'+'uffer'](_0x45de85){_0x45de85&&this['vertexBuff'+'ers']['push'](_0x45de85);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x3b*-0x2f+-0x1*0x635+-0x250*0x2;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0xe421a2){if(_0xe421a2['initialize'+'d'])return;const _0x3fb7a4=ne();this['fire']('fbo:create',{'timestamp':_0x3fb7a4,'target':this}),_0xe421a2['init'](),this['targets']['add'](_0xe421a2),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x3fb7a4;}['_isBrowser'+'Interface'](_0x1dd3e2){return this['_isImageBr'+'owserInter'+'face'](_0x1dd3e2)||this['_isImageCa'+'nvasInterf'+'ace'](_0x1dd3e2)||this['_isImageVi'+'deoInterfa'+'ce'](_0x1dd3e2);}['_isImageBr'+'owserInter'+'face'](_0x2b6651){return typeof ImageBitmap<'u'&&_0x2b6651 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x2b6651 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x1be5bf){return typeof HTMLCanvasElement<'u'&&_0x1be5bf instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x550581){return typeof HTMLVideoElement<'u'&&_0x550581 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x15ffc5,_0x3c71cd){const _0x2fbe7e=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:0x1d9*0xd+0x1*-0x2421+-0x1bb*-0x7),_0x11ca38=Math['floor'](_0x15ffc5*_0x2fbe7e),_0x2e397f=Math['floor'](_0x3c71cd*_0x2fbe7e);(_0x11ca38!==this['canvas']['width']||_0x2e397f!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x11ca38,_0x2e397f);}['setResolut'+'ion'](_0x434c13,_0x452de8){this['canvas']['width']=_0x434c13,this['canvas']['height']=_0x452de8,this['fire'](nc['EVENT_RESI'+'ZE'],_0x434c13,_0x452de8);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x236979=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x236979['width'],this['clientRect']['height']=_0x236979['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x15fc9e){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x16d1+-0x20b3+0x9e3);}set['maxPixelRa'+'tio'](_0x1e2eef){this['_maxPixelR'+'atio']=_0x1e2eef;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x26702b){}['endRenderP'+'ass'](_0x200357){}['startCompu'+'tePass'](_0x1024c1){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x212*0xe+0x1830*0x1+0x4cc,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x77b60b=this['textures']['slice']();_0x77b60b['sort']((_0x5b0065,_0x2db412)=>_0x2db412['gpuSize']-_0x5b0065['gpuSize']),v['log']('Textures:\x20'+_0x77b60b['length']);let _0x37ee3d=-0x108e*0x2+0x42f+0x1ced;_0x77b60b['forEach']((_0x1698b1,_0x95f74b)=>{const _0x38136a=_0x1698b1['gpuSize'];_0x37ee3d+=_0x38136a,v['log'](_0x95f74b+'.\x20'+_0x1698b1['name']+'\x20'+_0x1698b1['width']+'x'+_0x1698b1['height']+'\x20VRAM:\x20'+(_0x38136a/(0xd*0x3e+-0xb*0x161+-0x3*-0x557)/(0x91a+0x33*0xbb+-0x60d*0x7))['toFixed'](0x1*-0x21fb+0x274*-0x2+-0x26e5*-0x1)+'\x20MB');}),v['log']('Total:\x20'+(_0x37ee3d/(-0xddf+-0x1d98+0x2f77)/(-0x15*0x52+-0x5d5+0x585*0x3))['toFixed'](-0x1*0xfb6+-0x21c4+0x317c)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x29d30a,_0x2ed97e='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x44df18=[_a,Je,Ke],_0x4e6d35=!(0x1a04+-0xdf7+-0xc0d),_0xab9bf3=-0x17*-0x141+0x4d*-0x29+-0x1*0x1081){for(let _0x102f20=-0xa08+0x1f*-0x53+0x1415;_0x102f20<_0x44df18['length'];_0x102f20++){const _0x5535d5=_0x44df18[_0x102f20];switch(_0x5535d5){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x5535d5;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x5535d5;break;case Ke:if(this['isWebGPU']&&_0xab9bf3>-0xb22+-0x175f+0x2282)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x4e6d35||this['textureFlo'+'atFilterab'+'le']))return _0x5535d5;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0xb1*-0x35+0x1806+0xc9f;class pt{constructor(_0x3c497b={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x3796cc,_0x2c81c3,_0x5c25aa,_0x2365e0,_0x165d15,_0x33ac11;v['assert'](!(_0x3c497b instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x4f21d1=((_0x3796cc=_0x3c497b['colorBuffe'+'r'])==null?void(-0x1ac6+0x2*0x128+0x1876):_0x3796cc['device'])??((_0x2c81c3=_0x3c497b['colorBuffe'+'rs'])==null?void(-0x2*0x919+-0x2603+-0x1*-0x3835):_0x2c81c3[0xb*0x156+0x25e5*0x1+-0x3497]['device'])??((_0x5c25aa=_0x3c497b['depthBuffe'+'r'])==null?void(-0xada+0xb1e+-0x44):_0x5c25aa['device'])??_0x3c497b['graphicsDe'+'vice'];v['assert'](_0x4f21d1,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x4f21d1;const {maxSamples:_0x4212dc}=this['_device'];if(this['_samples']=Math['min'](_0x3c497b['samples']??0x51*-0x3e+0x148+0x1257,_0x4212dc),_0x4f21d1['isWebGPU']&&(this['_samples']=this['_samples']>-0x1df2+-0x1*0xc5b+-0x1*-0x2a4e?_0x4212dc:0x96f+0xce6+-0x1654*0x1),this['_colorBuff'+'er']=_0x3c497b['colorBuffe'+'r'],_0x3c497b['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x3c497b['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x3c497b['depthBuffe'+'r'],this['_face']=_0x3c497b['face']??0x4bb+-0x3*0xa7a+-0x1*-0x1ab3,this['_depthBuff'+'er']){const _0x496b26=this['_depthBuff'+'er']['_format'];_0x496b26===Ci||_0x496b26===la?(this['_depth']=!(-0x1c04+0x140b*0x1+-0xd*-0x9d),this['_stencil']=!(0xaab*0x2+0x231c+-0x3871)):_0x496b26===vc?(this['_depth']=!(0x4*-0x3d1+-0x364*0x7+-0x4*-0x9c0),this['_stencil']=!(0x1345*0x2+-0x19bc+0xb*-0x12a)):_0x496b26===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x6cd*-0x1+0x16d9+-0x1da5?(this['_depth']=!(0x1*-0x10a5+-0x1d3d*0x1+-0x2*-0x16f1),this['_stencil']=!(0xc*0x2f3+0x27*0x2f+0x1546*-0x2)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x101c+0x20a4+-0x30bf*0x1),this['_stencil']=!(-0xe03*0x1+0x2*0x913+0x17*-0x2e));}else this['_depth']=_0x3c497b['depth']??!(-0xe92+-0x1*0x1973+0x2805),this['_stencil']=_0x3c497b['stencil']??!(0xf5c*0x1+-0x82c*-0x2+0x657*-0x5);_0x3c497b['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x3c497b['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x3c497b['colorBuffe'+'rs'][0xd2d*-0x2+0x69b*-0x2+0x2790])),this['autoResolv'+'e']=_0x3c497b['autoResolv'+'e']??!(-0x1b90+-0x1319+0x1*0x2ea9),this['name']=_0x3c497b['name'],this['name']||(this['name']=(_0x2365e0=this['_colorBuff'+'er'])==null?void(0x160c+-0xd9c+0x48*-0x1e):_0x2365e0['name']),this['name']||(this['name']=(_0x165d15=this['_depthBuff'+'er'])==null?void(-0x33b+0x9*-0x3cf+-0x2582*-0x1):_0x165d15['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x3c497b['flipY']??!(-0x295+0x112d+-0xe97),this['_mipLevel']=_0x3c497b['mipLevel']??-0xe50+-0x6d8*0x5+0x3088,this['_mipLevel']>0x1*0x1401+0xa7b+-0x1e7c&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x3c497b}),this['_mipLevel']=-0xbf8+0x170+0xa88),this['_mipmaps']=_0x3c497b['mipLevel']===void(-0x4*0x50d+0x219b+-0xd67),this['validateMr'+'t'](),this['impl']=_0x4f21d1['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x33ac11=this['_colorBuff'+'ers'])!=null&&_0x33ac11['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x32f2d5=this['_device'];_0x32f2d5&&(_0x32f2d5['targets']['delete'](this),_0x32f2d5['renderTarg'+'et']===this&&_0x32f2d5['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x28ae13=this['_device'];_0x28ae13&&this['impl']['destroy'](_0x28ae13);}['destroyTex'+'tureBuffer'+'s'](){var _0x3b6c04,_0xff4653;(_0x3b6c04=this['_depthBuff'+'er'])==null||_0x3b6c04['destroy'](),this['_depthBuff'+'er']=null,(_0xff4653=this['_colorBuff'+'ers'])==null||_0xff4653['forEach'](_0x1d57d=>{_0x1d57d['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x44e8a0,_0x18f369){var _0x368f18,_0x1e9399;if(this['width']!==_0x44e8a0||this['height']!==_0x18f369){if(this['mipLevel']>-0x4a*0x6d+-0x67*0x41+0x1*0x39a9){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x21512c=this['_device'];this['destroyFra'+'meBuffers'](),_0x21512c['renderTarg'+'et']===this&&_0x21512c['setRenderT'+'arget'](null),(_0x368f18=this['_depthBuff'+'er'])==null||_0x368f18['resize'](_0x44e8a0,_0x18f369),(_0x1e9399=this['_colorBuff'+'ers'])==null||_0x1e9399['forEach'](_0x5a3405=>{_0x5a3405['resize'](_0x44e8a0,_0x18f369);}),this['validateMr'+'t'](),this['impl']=_0x21512c['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x48993b,height:_0x3a5997,cubemap:_0x51b551,volume:_0x470643}=this['_colorBuff'+'ers'][0x3*-0x4bb+0x1e13+-0xfe2];for(let _0x8e008=0x29*-0x24+-0x1*-0x593+0x32;_0x8e008<this['_colorBuff'+'ers']['length'];_0x8e008++){const _0x3b0b5d=this['_colorBuff'+'ers'][_0x8e008];v['assert'](_0x3b0b5d['width']===_0x48993b,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x3b0b5d['height']===_0x3a5997,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x3b0b5d['cubemap']===_0x51b551,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x3b0b5d['volume']===_0x470643,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x46afae=!(-0x5*-0x7ca+-0x7f5+-0x1efd),_0x2469a8=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x1252+0xa*-0x29f+0x7e5&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x46afae?'[color]':'')+':'+(_0x2469a8?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x46afae,_0x2469a8),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x110b9d,_0x302887,_0x3c4802){if(!this['_device']){if(_0x110b9d['_device'])this['_device']=_0x110b9d['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x1*-0x18f5+0x2*-0x1ac+0x1c4e);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x110b9d['name']+'->'+this['name']);const _0x137a20=this['_device']['copyRender'+'Target'](_0x110b9d,this,_0x302887,_0x3c4802);return G['popGpuMark'+'er'](this['_device']),_0x137a20;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x5c49db){var _0x5b2e5c;return(_0x5b2e5c=this['_colorBuff'+'ers'])==null?void(0x1*-0x511+0x1c0e+0x5*-0x499):_0x5b2e5c[_0x5c49db];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x1e0d49,_0x1d72ec;let _0x58f5d9=((_0x1e0d49=this['_colorBuff'+'er'])==null?void(0x1675*-0x1+0x538*0x3+0x1*0x6cd):_0x1e0d49['width'])||((_0x1d72ec=this['_depthBuff'+'er'])==null?void(-0x5b7+-0xc9f+-0x2*-0x92b):_0x1d72ec['width'])||this['_device']['width'];return this['_mipLevel']>0x36e*0x1+-0x11f0+0x1*0xe82&&(_0x58f5d9=Mi['calcLevelD'+'imension'](_0x58f5d9,this['_mipLevel'])),_0x58f5d9;}get['height'](){var _0x2a1c8b,_0x11f901;let _0x586f2b=((_0x2a1c8b=this['_colorBuff'+'er'])==null?void(-0xec2+0x38*0xb+0x2*0x62d):_0x2a1c8b['height'])||((_0x11f901=this['_depthBuff'+'er'])==null?void(0x7e3+0x1307*-0x1+0x1f*0x5c):_0x11f901['height'])||this['_device']['height'];return this['_mipLevel']>0x6d*0x2e+0x1*-0x108d+0x6f*-0x7&&(_0x586f2b=Mi['calcLevelD'+'imension'](_0x586f2b,this['_mipLevel'])),_0x586f2b;}['isColorBuf'+'ferSrgb'](_0x324af7=0x1*0x6d+-0xaa6+0xa39){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x4620f1=this['getColorBu'+'ffer'](_0x324af7);return _0x4620f1?Mh(_0x4620f1['format']):!(-0x2650*0x1+-0x1c47+0x853*0x8);}}const Wv={'equals'(_0x3a88f3,_0x39d17b){if(_0x3a88f3['length']!==_0x39d17b['length'])return!(0x4a9*-0x1+0x1*0x35b+0x14f);for(let _0xe7b157=-0x49*0x10+-0x46*-0x43+-0xdc2;_0xe7b157<_0x3a88f3['length'];_0xe7b157++)if(_0x3a88f3[_0xe7b157]!==_0x39d17b[_0xe7b157])return!(0x1*0x281+0x21f3+0x2473*-0x1);return!(-0x2b*-0x7f+0x16*-0x168+0x99b);}};class Gc{constructor(){c(this,'_refCount',0x1*0x1f4b+-0x1b91+0x1dd*-0x2);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Gc{constructor(_0x2827b5){super(),c(this,'object'),(this['object']=_0x2827b5,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x5c01d2=>{var _0x1c2173;(_0x1c2173=_0x5c01d2['object'])==null||_0x1c2173['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x517b9f){const _0x45595f=this['cache']['get'](_0x517b9f);return _0x45595f?(_0x45595f['incRefCoun'+'t'](),_0x45595f['object']):null;}['set'](_0x18859a,_0x17d4fe){v['assert'](!this['cache']['has'](_0x18859a),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x18859a,'object':_0x17d4fe}),this['cache']['set'](_0x18859a,new $v(_0x17d4fe));}['release'](_0x907778){var _0x3cc772;const _0x66dfe2=this['cache']['get'](_0x907778);_0x66dfe2?(_0x66dfe2['decRefCoun'+'t'](),_0x66dfe2['refCount']===-0x1d58+0x1*0x20b+0x1b4d&&(this['cache']['delete'](_0x907778),(_0x3cc772=_0x66dfe2['object'])==null||_0x3cc772['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x907778});}}class Xv extends qv{['loseContex'+'t'](_0x1b5c60){this['clear']();}}const jv=new Ot(),od=_0xd8ffd4=>jv['get'](_0xd8ffd4,()=>new Xv()),ot=[];ot[$s]=-0xcda+-0x1e0f+0x2*0x1575,ot[or]=-0x2*-0x1273+-0x7*0xb0+-0x2014*0x1,ot[$t]=-0x2387+0x2b*-0x3+0x240b,ot[xa]=-0xa97*0x1+-0x1*-0x72b+-0x37*-0x10,ot[ln]=-0x1ad4+-0x69e*0x2+0x2811,ot[Zr]=0xa4e*0x3+0x117d+-0x3065,ot[Qr]=0x187*0xd+0x1e8f+-0x3267,ot[Jr]=-0x1*0x19a+-0x3b5+0x1d*0x2f,ot[ca]=0x5b*-0xe+-0x1fd2+0x24cd,ot[Lo]=-0x2648*-0x1+0x2267+-0x48ad,ot[Fo]=0x1b29+-0x1154*0x1+-0x9d2,ot[Oo]=0x677*0x6+0x1714+-0x3dda,ot[Rh]=0x274*0x4+-0x1*-0x1b59+0x5*-0x76d,ot[ko]=-0x1cab+-0xd72*0x1+-0x1*-0x2a29,ot[Sa]=0x910+-0x50e+-0x3f2,ot[va]=-0x1b09+0x172d+0x17*0x2b,ot[ba]=-0x176*-0x10+0x8c1*0x3+-0x31a1,ot[wa]=0x1a5c+-0x1fdf+0x2c3*0x2,ot[Ta]=0x14fb+-0x463+-0x4*0x425;class gt{constructor(_0x48a8ba,_0x1c2fcf,_0x370d9e=0x1202+-0x6c2+-0xb40){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x48a8ba,this['name']=_0x370d9e?_0x48a8ba+'[0]':_0x48a8ba,this['type']=_0x1c2fcf,this['numCompone'+'nts']=ot[_0x1c2fcf],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x1c2fcf+'\x20used\x20for\x20'+_0x48a8ba),this['updateType']=_0x1c2fcf,_0x370d9e>0x1a24*-0x1+-0x5e8+0x200c)switch(_0x1c2fcf){case $s:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case $t:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x1c2fcf]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x48a8ba+'\x27.'),v['call'](()=>{this['invalid']=!(0x235c+-0x2507+0x1ab*0x1);});break;}this['count']=_0x370d9e,v['assert'](!isNaN(_0x370d9e),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x48a8ba+'['+_0x370d9e+']'),v['call'](()=>{isNaN(_0x370d9e)&&(this['invalid']=!(0x17a1+0x1*-0x59a+-0x1207));});let _0xa3d604=this['numCompone'+'nts'];_0x370d9e&&(_0xa3d604=N['roundUp'](_0xa3d604,-0x1a9b*-0x1+0x569+-0x2000)),this['byteSize']=_0xa3d604*(-0xd48+0x1c0d*0x1+-0xec1*0x1),_0x370d9e&&(this['byteSize']*=_0x370d9e),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x1c2fcf+'\x20used\x20for\x20'+_0x48a8ba);}get['isArrayTyp'+'e'](){return this['count']>-0x1f86+-0x127d+0x3203;}['calculateO'+'ffset'](_0x10f8a9){let _0x1f1ab4=this['byteSize']<=-0xf01*-0x2+0x1f4f+-0x3d49?this['byteSize']:0xe2e+-0x1a79+0xc5b;this['count']&&(_0x1f1ab4=-0x228*-0x8+-0x1*-0x1468+-0x2598),_0x10f8a9=N['roundUp'](_0x10f8a9,_0x1f1ab4),this['offset']=_0x10f8a9/(-0xa12+-0x254a+-0x2*-0x17b0);}}class Qy{constructor(_0x165bd4,_0x44f6f4){c(this,'byteSize',0x9e1+-0x67c*0x5+0x168b),c(this,'map',new Map()),(this['scope']=_0x165bd4['scope'],this['uniforms']=_0x44f6f4);let _0x10e119=0xb*-0x205+0x76c+0xecb;for(let _0x1e6d61=0x115a+0x16*-0x101+0x4bc;_0x1e6d61<_0x44f6f4['length'];_0x1e6d61++){const _0x17fc7f=_0x44f6f4[_0x1e6d61];_0x17fc7f['calculateO'+'ffset'](_0x10e119),_0x10e119=_0x17fc7f['offset']*(-0x961+0xfe*0x10+0x229*-0x3)+_0x17fc7f['byteSize'],_0x17fc7f['scopeId']=this['scope']['resolve'](_0x17fc7f['name']),this['map']['set'](_0x17fc7f['name'],_0x17fc7f);}this['byteSize']=N['roundUp'](_0x10e119,-0x12c7+-0xab3+-0x18e*-0x13);}['get'](_0x165948){return this['map']['get'](_0x165948);}['getShaderD'+'eclaration'](_0x43eea6,_0x11302f){const _0x4eb916=xv[_0x43eea6];let _0xe39cf8='layout(set'+'\x20=\x20'+_0x43eea6+(',\x20binding\x20'+'=\x20')+_0x11302f+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x4eb916+'\x20{\x0a';return this['uniforms']['forEach'](_0x352ba9=>{const _0x3d1290=dp[_0x352ba9['type']];v['assert'](_0x3d1290['length']>-0x13e*-0xe+-0x5c+-0x1108,'Uniform\x20ty'+'pe\x20'+_0x352ba9['type']+('\x20is\x20not\x20ha'+'ndled.')),_0xe39cf8+='\x20\x20\x20\x20'+_0x3d1290+'\x20'+_0x352ba9['shortName']+(_0x352ba9['count']?'['+_0x352ba9['count']+']':'')+';\x0a';}),_0xe39cf8+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x1de6ea,_0x212666=new Map(),_0x54db84={}){vs['sourceName']=_0x54db84['sourceName'],_0x1de6ea=this['stripComme'+'nts'](_0x1de6ea),_0x1de6ea=_0x1de6ea['split'](/\r?\n/)['map'](_0x33f1ba=>_0x33f1ba['trimEnd']())['join']('\x0a');const _0x8cf321=new Map();if(_0x54db84['stripUnuse'+'dColorAtta'+'chments']){const _0x3a1a0c=new Map(),_0xd96904=/(pcFragColor[1-8])\b/g,_0x486d31=_0x1de6ea['match'](_0xd96904);_0x486d31==null||_0x486d31['forEach'](_0x2d3f8f=>{const _0x1dccd2=parseInt(_0x2d3f8f['charAt'](_0x2d3f8f['length']-(-0x1c3+0x259+0x95*-0x1)),-0x71b*-0x1+0xe+0x71f*-0x1);_0x3a1a0c['set'](_0x1dccd2,(_0x3a1a0c['get'](_0x1dccd2)??-0x1*-0x64d+-0x1b*-0x106+-0x1*0x21ef)+(-0x1*0x1a15+0xad*-0x5+0x1d77));}),_0x3a1a0c['forEach']((_0x3933b8,_0x54aaf6)=>{_0x3933b8===0x1d2c+-0xaf+-0x1c7c&&_0x8cf321['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x54aaf6,'');});}_0x1de6ea=this['_preproces'+'s'](_0x1de6ea,_0x8cf321,_0x212666,_0x54db84['stripDefin'+'es']);const _0x20e626=new Map();_0x8cf321['forEach']((_0x3abaa9,_0x168e11)=>{Number['isInteger'](parseFloat(_0x3abaa9))&&!_0x3abaa9['includes']('.')&&_0x20e626['set'](_0x168e11,_0x3abaa9);});const _0x395b98=new Map();return _0x8cf321['forEach']((_0x4fbb6a,_0x103f16)=>{_0x103f16['startsWith']('__INJECT_')&&_0x395b98['set'](_0x103f16,_0x4fbb6a);}),_0x1de6ea=this['stripComme'+'nts'](_0x1de6ea),_0x1de6ea=this['RemoveEmpt'+'yLines'](_0x1de6ea),_0x1de6ea=this['processArr'+'aySize'](_0x1de6ea,_0x20e626),_0x1de6ea=this['injectDefi'+'nes'](_0x1de6ea,_0x395b98),_0x1de6ea;}static['stripComme'+'nts'](_0x398083){return _0x398083['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x5ee45a,_0x115534){return _0x5ee45a!==null&&_0x115534['forEach']((_0x4cd018,_0xb7e422)=>{_0x5ee45a=_0x5ee45a['replace'](new RegExp('\x5c['+_0xb7e422+'\x5c]','g'),'['+_0x4cd018+']');}),_0x5ee45a;}static['injectDefi'+'nes'](_0xa837ba,_0x4bb256){if(_0xa837ba!==null&&_0x4bb256['size']>-0x679+-0x3c*0x22+0x1*0xe71){const _0x518e43=_0xa837ba['split']('\x0a');_0x4bb256['forEach']((_0x2d6e8d,_0x3c72fe)=>{const _0x4b6349=new RegExp('\x5cb'+_0x3c72fe+'\x5cb','g');for(let _0x4538f7=-0x1*-0x23ed+-0xa08+-0x19e5;_0x4538f7<_0x518e43['length'];_0x4538f7++)_0x518e43[_0x4538f7]['includes']('#')||(_0x518e43[_0x4538f7]=_0x518e43[_0x4538f7]['replace'](_0x4b6349,_0x2d6e8d));}),_0xa837ba=_0x518e43['join']('\x0a');}return _0xa837ba;}static['RemoveEmpt'+'yLines'](_0x37d82d){return _0x37d82d!==null&&(_0x37d82d=_0x37d82d['split'](/\r?\n/)['map'](_0x58cff2=>_0x58cff2['trim']()===''?'':_0x58cff2)['join']('\x0a'),_0x37d82d=_0x37d82d['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x37d82d;}static['_preproces'+'s'](_0x167977,_0x2ed0e2=new Map(),_0x2aba48,_0xc90817){const _0x3943e3=_0x167977,_0x47e881=[];let _0x414745=!(0x1*0xc15+-0x1786+0xb72),_0x7d7789;for(;(_0x7d7789=fs['exec'](_0x167977))!==null;){const _0x168a22=_0x7d7789[-0xd*-0x49+0x415*-0x7+0x18df];switch(_0x168a22){case'define':{ld['lastIndex']=_0x7d7789['index'];const _0x36ff86=ld['exec'](_0x167977);v['assert'](_0x36ff86,'Invalid\x20['+_0x168a22+']:\x20'+_0x167977['substring'](_0x7d7789['index'],_0x7d7789['index']+(-0x161*0x1a+-0x1f7*-0x1+0x2247))+'...'),_0x414745||(_0x414745=_0x36ff86===null);const _0x1c59a8=_0x36ff86[-0x2*0x1015+-0xe5e+0x2e89];Em['lastIndex']=_0x36ff86['index'];const _0x534352=Em['exec'](_0x1c59a8)[0xd8a*-0x2+0x2c8+0x184d];let _0x15c4c3=_0x1c59a8['substring'](_0x534352['length'])['trim']();_0x15c4c3===''&&(_0x15c4c3='true');const _0x211465=vs['_keep'](_0x47e881);_0x211465&&(_0x2ed0e2['set'](_0x534352,_0x15c4c3),_0xc90817&&(_0x167977=_0x167977['substring'](-0x2308+0x209*0x7+0x14c9,_0x36ff86['index']-(0x1fd2+-0x867+0x3e7*-0x6))+_0x167977['substring'](ld['lastIndex']),fs['lastIndex']=_0x36ff86['index']-(-0x3af*0x5+-0x2de*0x1+0x154a))),v['trace'](gr,_0x168a22+':\x20['+_0x534352+']\x20'+_0x15c4c3+'\x20'+(_0x211465?'':'IGNORED')),_0xc90817||(fs['lastIndex']=_0x36ff86['index']+_0x36ff86[-0x1*-0x1e6d+0xc84+-0x2af1]['length']);break;}case'undef':{hd['lastIndex']=_0x7d7789['index'];const _0x4792bf=hd['exec'](_0x167977),_0xe406d9=_0x4792bf[-0x17*0x43+0x2b*0x6+0x504]['trim'](),_0x4ea973=vs['_keep'](_0x47e881);_0x4ea973&&(_0x2ed0e2['delete'](_0xe406d9),_0xc90817&&(_0x167977=_0x167977['substring'](0x12*0xfd+-0xe6a+-0x360,_0x4792bf['index']-(-0x1609*0x1+0x2a2*-0x9+-0xb6f*-0x4))+_0x167977['substring'](hd['lastIndex']),fs['lastIndex']=_0x4792bf['index']-(-0x516+0xee2+0x6d*-0x17))),v['trace'](gr,_0x168a22+':\x20['+_0xe406d9+']\x20'+(_0x4ea973?'':'IGNORED')),_0xc90817||(fs['lastIndex']=_0x4792bf['index']+_0x4792bf[-0x968*0x1+-0x5f7+0xf5f*0x1]['length']);break;}case'extension':{Am['lastIndex']=_0x7d7789['index'];const _0x105f73=Am['exec'](_0x167977);if(v['assert'](_0x105f73,'Invalid\x20['+_0x168a22+']:\x20'+_0x167977['substring'](_0x7d7789['index'],_0x7d7789['index']+(-0x5*0x7c3+0xc3*0x5+0xa*0x38a))+'...'),_0x414745||(_0x414745=_0x105f73===null),_0x105f73){const _0x5031fb=_0x105f73[-0xe51*0x1+-0x15*-0xe3+-0x16f*0x3],_0x378ae2=vs['_keep'](_0x47e881);_0x378ae2&&_0x2ed0e2['set'](_0x5031fb,'true'),v['trace'](gr,_0x168a22+':\x20['+_0x5031fb+']\x20'+(_0x378ae2?'':'IGNORED'));}fs['lastIndex']=_0x105f73['index']+_0x105f73[0x11*-0x13c+-0x743+0x1c3f]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x7d7789['index'];const _0x1f1b2f=cd['exec'](_0x167977),_0x32f1c7=_0x1f1b2f[-0x5*-0x54b+0x1*-0x190d+-0x168],_0x13bd74=vs['evaluate'](_0x32f1c7,_0x2ed0e2);_0x414745||(_0x414745=_0x13bd74['error']);let _0xa2c373=_0x13bd74['result'];_0x168a22==='ifndef'&&(_0xa2c373=!_0xa2c373),_0x47e881['push']({'anyKeep':_0xa2c373,'keep':_0xa2c373,'start':_0x7d7789['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x168a22+':\x20['+_0x32f1c7+']\x20=>\x20'+_0xa2c373),fs['lastIndex']=_0x1f1b2f['index']+_0x1f1b2f[-0x1*-0x2171+0x172e+-0x389f]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x7d7789['index'];const _0x4f159f=dd['exec'](_0x167977),_0x497ba1=_0x47e881['pop'](),_0x24588b=_0x497ba1['keep']?_0x167977['substring'](_0x497ba1['end'],_0x7d7789['index']):'';v['trace'](gr,_0x168a22+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x24588b!=='')),_0x167977=_0x167977['substring'](-0x1e47+0x1af9+0x34e,_0x497ba1['start'])+_0x24588b+_0x167977['substring'](dd['lastIndex']),fs['lastIndex']=_0x497ba1['start']+_0x24588b['length'];const _0x4e9089=_0x4f159f[-0x1*0x1a3e+0x14e+-0x18f1*-0x1];if(_0x4e9089==='else'||_0x4e9089==='elif'){let _0x4921af=!(-0x26f*-0x6+-0x125c+0x3c3);if(!_0x497ba1['anyKeep']){if(_0x4e9089==='else')_0x4921af=!_0x497ba1['keep'];else{const _0x570d9b=vs['evaluate'](_0x4f159f[0x1bac+0x1357*-0x1+-0x1*0x853],_0x2ed0e2);_0x4921af=_0x570d9b['result'],_0x414745||(_0x414745=_0x570d9b['error']);}}_0x47e881['push']({'anyKeep':_0x497ba1['anyKeep']||_0x4921af,'keep':_0x4921af,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x168a22+':\x20['+_0x4f159f[0x1197+0x13bf+-0x12aa*0x2]+']\x20=>\x20'+_0x4921af);}break;}case'include':{ud['lastIndex']=_0x7d7789['index'];const _0x5b9413=ud['exec'](_0x167977);_0x414745||(_0x414745=_0x5b9413===null),v['assert'](_0x5b9413,'Invalid\x20['+_0x168a22+']:\x20'+_0x167977['substring'](_0x7d7789['index'],_0x7d7789['index']+(0x1a69*-0x1+0xb*0x24d+0x17e*0x1))+'...');const _0x59b1cd=_0x5b9413[-0x2*-0x95f+-0x9e0+-0x8dd]['trim'](),_0x3be8c8=vs['_keep'](_0x47e881);if(_0x3be8c8){const _0xbfddd0=_0x2aba48==null?void(0x1*-0xe57+0xc52+0x205):_0x2aba48['get'](_0x59b1cd);_0xbfddd0!==void(-0x1e0b+-0x15b*-0x11+-0x20*-0x38)?(_0x167977=_0x167977['substring'](0x757+-0x1b07+0x13b0,_0x5b9413['index']-(0x2*0x1081+-0x24e2+-0x14b*-0x3))+_0xbfddd0+_0x167977['substring'](ud['lastIndex']),fs['lastIndex']=_0x5b9413['index']-(0x345+0x1a14+-0x4e4*0x6)):(console['error']('Include\x20\x22'+_0x59b1cd+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x3943e3}),_0x414745=!(-0xf07+-0x6b*-0x3b+-0x9a2));}v['trace'](gr,_0x168a22+':\x20['+_0x59b1cd+']\x20'+(_0x3be8c8?'':'IGNORED'));break;}}}return _0x414745?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x3943e3}),_0x3943e3):_0x167977;}static['_keep'](_0x25aac1){for(let _0x2ad24a=0x14fc+0x712*0x5+-0x2*0x1c2b;_0x2ad24a<_0x25aac1['length'];_0x2ad24a++)if(!_0x25aac1[_0x2ad24a]['keep'])return!(0x1c2d+0x60e+-0x223a);return!(-0x1e*0xae+-0x233c+0x37a0);}static['evaluate'](_0x4df4c7,_0xd00bf7){const _0xce7e5b=Zv['exec'](_0x4df4c7)===null;v['assert'](_0xce7e5b,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x4df4c7);let _0x379860=!(0x1a39*-0x1+0x4a2+0x1598);const _0x947845=Yv['exec'](_0x4df4c7);_0x947845&&(_0x379860=_0x947845[-0x228a+-0x2488+-0xe37*-0x5]==='!',_0x4df4c7=_0x947845[0x1d*0x125+-0x1980+-0x7af]);const _0xefc05b=Kv['exec'](_0x4df4c7);if(_0xefc05b){const _0x20c80e=_0xd00bf7['get'](_0xefc05b[-0x517+0x681+-0x169])??_0xefc05b[-0x120c+-0x99*-0x21+-0x1ac],_0x5d4413=_0xd00bf7['get'](_0xefc05b[0x1*-0x25c7+-0x775*-0x3+-0x1*-0xf6b])??_0xefc05b[0x1*0x79a+0xd9*0x2+-0x1*0x949],_0x291ba9=_0xefc05b[0x1e84+0x237a+-0x41fc];let _0x47565b=!(-0x15f1+-0xb3a*0x3+0x37a0);switch(_0x291ba9){case'==':_0x47565b=_0x20c80e===_0x5d4413;break;case'!=':_0x47565b=_0x20c80e!==_0x5d4413;break;case'<':_0x47565b=_0x20c80e<_0x5d4413;break;case'<=':_0x47565b=_0x20c80e<=_0x5d4413;break;case'>':_0x47565b=_0x20c80e>_0x5d4413;break;case'>=':_0x47565b=_0x20c80e>=_0x5d4413;break;}return{'result':_0x47565b,'error':!_0xce7e5b};}_0x4df4c7=_0x4df4c7['trim']();let _0x3cdcb8=_0xd00bf7['has'](_0x4df4c7);return _0x379860&&(_0x3cdcb8=!_0x3cdcb8),{'result':_0x3cdcb8,'error':!_0xce7e5b};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x492b72,_0x7a2504){v['assert'](_0x7a2504),v['assert'](!_0x7a2504['vertexDefi'+'nes']||_0x7a2504['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x7a2504['vertexIncl'+'udes']||_0x7a2504['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x7a2504['fragmentDe'+'fines']||_0x7a2504['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x7a2504['fragmentIn'+'cludes']||_0x7a2504['fragmentIn'+'cludes']instanceof Map);const _0x33ccf0=(_0x13255b,_0x3e0018,_0x2e5aa5,_0x2644f6)=>{const _0x3e8cc9=_0x492b72['isWebGPU']?_0x13255b:_0x3e0018;let _0x48f850='';if(!_0x2e5aa5){let _0x65ac5a=_0x2644f6['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x65ac5a)||(_0x65ac5a=[_0x65ac5a]);for(let _0x1db22=0x1c18+-0xd*0x2a7+0x663;_0x1db22<_0x492b72['maxColorAt'+'tachments'];_0x1db22++){_0x48f850+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x1db22+'\x0a';const _0x469e30=_0x65ac5a[_0x1db22]??'vec4';_0x48f850+='#define\x20ou'+'tType_'+_0x1db22+'\x20'+_0x469e30+'\x0a';}}return _0x48f850+_0x3e8cc9;},_0x2f9644=_0x7a2504['name']??'Untitled';let _0xc792f0,_0x5484ef;return _0x7a2504['shaderLang'+'uage']===Ph?(_0xc792f0=_0x7a2504['vertexCode'],_0x5484ef=_0x7a2504['fragmentCo'+'de']):(_0xc792f0=Mt['versionCod'+'e'](_0x492b72)+_0x33ccf0(s0,e0,!(0x425*-0x4+-0x301+0x1395),_0x7a2504)+Mt['getDefines'+'Code'](_0x7a2504['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x492b72)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2f9644)+_0x7a2504['vertexCode'],_0x5484ef=(_0x7a2504['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x492b72)+_0x33ccf0(t0,Jy,!(-0x7b1+0x15eb*0x1+-0x1*0xe39),_0x7a2504)+Mt['getDefines'+'Code'](_0x7a2504['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x492b72)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2f9644)+(_0x7a2504['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x2f9644,'shaderLanguage':_0x7a2504['shaderLang'+'uage']??ky,'attributes':_0x7a2504['attributes'],'vshader':_0xc792f0,'vincludes':_0x7a2504['vertexIncl'+'udes'],'fincludes':_0x7a2504['fragmentIn'+'cludes'],'fshader':_0x5484ef,'useTransformFeedback':_0x7a2504['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x7a2504['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x7a2504['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x2ecb7b){let _0x39636e='';return _0x2ecb7b==null||_0x2ecb7b['forEach']((_0x2b7472,_0x4bf0b9)=>{_0x39636e+='#define\x20'+_0x4bf0b9+'\x20'+_0x2b7472+'\x0a';}),_0x39636e;}static['getShaderN'+'ameCode'](_0x4fda7e){return'#define\x20SH'+'ADER_NAME\x20'+_0x4fda7e+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x48c869){return _0x48c869['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x25ff8a,_0x94f4d0){_0x94f4d0&&_0x94f4d0!=='highp'&&_0x94f4d0!=='mediump'&&_0x94f4d0!=='lowp'&&(_0x94f4d0=null),_0x94f4d0&&(_0x94f4d0==='highp'&&_0x25ff8a['maxPrecisi'+'on']!=='highp'&&(_0x94f4d0='mediump'),_0x94f4d0==='mediump'&&_0x25ff8a['maxPrecisi'+'on']==='lowp'&&(_0x94f4d0='lowp'));const _0x32c9f7=_0x94f4d0||_0x25ff8a['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x32c9f7+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x32c9f7+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x32c9f7+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x32c9f7+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x32c9f7+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x32c9f7+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x32c9f7+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x55924e){const _0x4d6fad={};let _0x3cb823=-0x5*-0x24b+0x2*-0x4dc+-0x1bf,_0x10bc56=_0x55924e['indexOf']('attribute');for(;_0x10bc56>=-0x1*-0x1c59+0x83*-0x46+0x779*0x1&&!(_0x10bc56>-0x1bdb+0x1a69+0x25*0xa&&_0x55924e[_0x10bc56-(0x561+0x19fa+-0x1f5a)]==='/');){let _0x1189e9=!(-0x155c+-0x286+0x17e3);if(_0x10bc56>0x1*-0x2157+0x1fc7+0x190){let _0x1e2804=_0x55924e['lastIndexO'+'f']('\x0a',_0x10bc56);_0x1e2804=_0x1e2804!==-(0x1*-0x255e+0x131*-0x19+0x4328)?_0x1e2804+(0x431*-0x7+0xf17*0x1+-0xe41*-0x1):-0x1*-0xa8b+0x1*0x11b3+-0x1c3e,_0x55924e['substring'](_0x1e2804,_0x10bc56)['includes']('#')&&(_0x1189e9=!(0x3*0x8f1+0xdf0+0x5*-0x827));}if(!_0x1189e9){const _0x20206f=_0x55924e['indexOf'](';',_0x10bc56),_0x15586f=_0x55924e['lastIndexO'+'f']('\x20',_0x20206f),_0x80f9cb=_0x55924e['substring'](_0x15586f+(0x263c+-0x521+-0x211a),_0x20206f);if(_0x4d6fad[_0x80f9cb])v['warn']('Attribute\x20'+'['+_0x80f9cb+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x55924e});else{const _0x2dc69c=Qv[_0x80f9cb];_0x2dc69c!==void(-0x1*-0x1323+-0x1e28+0xb05)?_0x4d6fad[_0x80f9cb]=_0x2dc69c:(_0x4d6fad[_0x80f9cb]='ATTR'+_0x3cb823,_0x3cb823++);}}_0x10bc56=_0x55924e['indexOf']('attribute',_0x10bc56+(-0xa7*-0x11+0x3*0x533+-0x1aaf));}return _0x4d6fad;}}let Jv=0x1*0x1f95+0x148d*-0x1+0x2*-0x584;class i0{constructor(_0x4b7924,_0x7bb6e5){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x4b7924,this['definition']=_0x7bb6e5,this['name']=_0x7bb6e5['name']||'Untitled',this['init'](),_0x7bb6e5['cshader'])v['assert'](_0x4b7924['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x7bb6e5['vshader']&&!_0x7bb6e5['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x7bb6e5['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x7bb6e5['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x7bb6e5['vshader']=Oh['run'](_0x7bb6e5['vshader'],_0x7bb6e5['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x7bb6e5['shaderLang'+'uage']===ky&&(_0x7bb6e5['attributes']??(_0x7bb6e5['attributes']=Mt['collectAtt'+'ributes'](_0x7bb6e5['vshader'])));const _0x243d4a=_0x4b7924['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x7bb6e5['fshader']=Oh['run'](_0x7bb6e5['fshader'],_0x7bb6e5['fincludes'],{'stripUnusedColorAttachments':_0x243d4a,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x4b7924['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x1c9*0x1+0x3a6+0x4*-0x77),this['failed']=!(0x66b*0x3+0xff7*0x1+-0x2337);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0x399221,_0x4d3aaa,_0x5a5788){const _0x4e2e01=_0x399221['storageFlo'+'at32'];_0x4e2e01[_0x5a5788]=_0x4d3aaa;},Te[or]=(_0x4e6ed9,_0x46512e,_0x3df6e2)=>{const _0x5d1391=_0x4e6ed9['storageFlo'+'at32'];_0x5d1391[_0x3df6e2]=_0x46512e[0x9*0x199+0xdc8+-0x1c29],_0x5d1391[_0x3df6e2+(0x1*-0x10ca+0xab*0x16+0x219)]=_0x46512e[-0x128d+0x86e+0xa20];},Te[$t]=(_0x488cf0,_0x13c30d,_0x9983a9)=>{const _0x5af44b=_0x488cf0['storageFlo'+'at32'];_0x5af44b[_0x9983a9]=_0x13c30d[-0x1786+0x12f3+0x493],_0x5af44b[_0x9983a9+(-0x1ec9+0x1a9c*0x1+-0x5*-0xd6)]=_0x13c30d[-0x5ef*0x6+-0xd5c+0x221*0x17],_0x5af44b[_0x9983a9+(0x43*0x2f+-0x1*-0x1c6d+-0x28b8)]=_0x13c30d[-0x1686+0x1*0x153d+0x14b];},Te[xa]=(_0xc1ee02,_0x15353a,_0xdb4ec8)=>{const _0x5cd968=_0xc1ee02['storageFlo'+'at32'];_0x5cd968[_0xdb4ec8]=_0x15353a[-0x49*0x67+0xcbc+0x10a3],_0x5cd968[_0xdb4ec8+(-0x13b*0xd+-0xca*-0x25+-0xd32)]=_0x15353a[-0x2098+-0x150c+0x1*0x35a5],_0x5cd968[_0xdb4ec8+(0x1fc9+-0x2239+0x272*0x1)]=_0x15353a[-0x4d5+-0x118+-0x5ef*-0x1],_0x5cd968[_0xdb4ec8+(0x1b25+-0x17d*-0x12+-0x35ec)]=_0x15353a[-0x18d1+-0x313+-0x3*-0x94d];},Te[ln]=function(_0x565b43,_0x19b833,_0x284cd2){const _0x219851=_0x565b43['storageInt'+'32'];_0x219851[_0x284cd2]=_0x19b833;},Te[Zr]=function(_0x32f7bd,_0x3614ac,_0x5b06e8){const _0x16e51e=_0x32f7bd['storageInt'+'32'];_0x16e51e[_0x5b06e8]=_0x3614ac[-0xd4+0x1a5a+-0x16*0x129],_0x16e51e[_0x5b06e8+(-0x14a9+-0x2*0xe28+0x2*0x187d)]=_0x3614ac[0x2*-0x2b7+0x2051+-0x1ae2];},Te[Qr]=function(_0x6ce27f,_0x5c2aa9,_0x2c6292){const _0x3ae652=_0x6ce27f['storageInt'+'32'];_0x3ae652[_0x2c6292]=_0x5c2aa9[-0x2238+-0xe66+-0x184f*-0x2],_0x3ae652[_0x2c6292+(-0x633*-0x6+-0xb7b*0x1+-0x19b6)]=_0x5c2aa9[0x4c1*0x1+0x26*-0x82+0xe8c],_0x3ae652[_0x2c6292+(0x10c3*-0x1+0x8f2+0x7d3)]=_0x5c2aa9[-0x1b1b*0x1+-0x150c*-0x1+0x611*0x1];},Te[Jr]=function(_0x156a7a,_0x1cc466,_0x5bebb5){const _0x515adc=_0x156a7a['storageInt'+'32'];_0x515adc[_0x5bebb5]=_0x1cc466[-0x1e5d+-0x135a+0x485*0xb],_0x515adc[_0x5bebb5+(-0x1261+-0xad*-0x7+-0x2bb*-0x5)]=_0x1cc466[0x631*-0x5+0x6b8+0x183e],_0x515adc[_0x5bebb5+(0x1b1d+0x8*0x455+-0x3dc3)]=_0x1cc466[0x260a+0x34*-0x4e+-0xb18*0x2],_0x515adc[_0x5bebb5+(0x1558*-0x1+0xc1b*-0x1+-0x2176*-0x1)]=_0x1cc466[0x12bc+0x3e7+0x16a*-0x10];},Te[Rh]=(_0x4ead3e,_0x316a8b,_0x2ad44a)=>{const _0x26c0bc=_0x4ead3e['storageFlo'+'at32'];_0x26c0bc[_0x2ad44a]=_0x316a8b[0x13c3+0x1ee0+0x1*-0x32a3],_0x26c0bc[_0x2ad44a+(0x11*0x174+-0x50e*-0x3+-0x27dd)]=_0x316a8b[-0x10c6+-0x1f2d+0x3e*0xc6],_0x26c0bc[_0x2ad44a+(0x20d6+-0x26*-0xa4+-0x3*0x130e)]=_0x316a8b[-0xb3*-0x7+0x6a3*-0x1+-0x7*-0x40],_0x26c0bc[_0x2ad44a+(0x51b*0x5+-0x5*-0x527+-0x23*0x177)]=_0x316a8b[0x3*0x11f+-0x3*0x815+0x14e5*0x1],_0x26c0bc[_0x2ad44a+(0x1*-0x75+-0x26c+-0x1*-0x2e9)]=_0x316a8b[0x1af9+-0x8e4+-0x1211],_0x26c0bc[_0x2ad44a+(0x1b2e+-0xf49+-0xfd*0xc)]=_0x316a8b[0x1*0x23a9+0x718*-0x1+-0xc*0x261];},Te[ko]=(_0x3ce008,_0xa8d675,_0x69bdd1)=>{const _0x558d86=_0x3ce008['storageFlo'+'at32'];_0x558d86[_0x69bdd1]=_0xa8d675[-0x1377+0x6da+0xc9d*0x1],_0x558d86[_0x69bdd1+(0x1*-0x1535+-0x1472+0x29a8)]=_0xa8d675[-0xf4*-0x1f+0x133a+0xb*-0x46f],_0x558d86[_0x69bdd1+(-0xc2*-0x1+0x4c2*-0x3+0xd86)]=_0xa8d675[-0x19d*-0x1+0x2*-0xffd+0x1e5f],_0x558d86[_0x69bdd1+(0x1*-0x17b+0x1125+-0xfa6)]=_0xa8d675[0xc44+-0xc73*-0x2+-0x1*0x2527],_0x558d86[_0x69bdd1+(-0x259a+-0x1e9f+0x221f*0x2)]=_0xa8d675[0x606*0x1+-0x1abe+-0xa5e*-0x2],_0x558d86[_0x69bdd1+(0x11c1+0x3a1*-0x1+-0xe1a)]=_0xa8d675[0x237*0x1+-0x1*-0x10b7+-0x12e9],_0x558d86[_0x69bdd1+(-0x1101+-0x1*-0x231f+0x90b*-0x2)]=_0xa8d675[0x1411+0x1e80+-0x328b],_0x558d86[_0x69bdd1+(-0x1f43+0x1163+0xde9)]=_0xa8d675[0x2021+0x12ab+-0x32c5],_0x558d86[_0x69bdd1+(0x1532+0x16a*-0x17+0xb5e)]=_0xa8d675[-0x14d1*0x1+-0x1737+0x2c10];},Te[Dc]=function(_0x44056c,_0x4227df,_0x1fd95c,_0x14ec25){const _0xdf3c99=_0x44056c['storageFlo'+'at32'];for(let _0x434c59=-0x86f+0x114a+-0x8db;_0x434c59<_0x14ec25;_0x434c59++)_0xdf3c99[_0x1fd95c+_0x434c59*(0x66e*-0x4+-0xc5f+-0x1*-0x261b)]=_0x4227df[_0x434c59];},Te[Lc]=(_0x418fb9,_0x582db5,_0xbc5fff,_0x5129f8)=>{const _0x2b49ca=_0x418fb9['storageFlo'+'at32'];for(let _0x46bcff=-0x1*-0x70+-0x1*-0x16a+-0x1da*0x1;_0x46bcff<_0x5129f8;_0x46bcff++)_0x2b49ca[_0xbc5fff+_0x46bcff*(-0x24b3+-0x1ca8+0x1*0x415f)]=_0x582db5[_0x46bcff*(-0x1e83*0x1+0x161e+0x3*0x2cd)],_0x2b49ca[_0xbc5fff+_0x46bcff*(0xcce+0x54*0x4f+-0x26b6)+(-0x2*0x128f+0x7*-0x3fc+0x1*0x4103)]=_0x582db5[_0x46bcff*(-0xd*-0x256+0x1*0xed1+-0x2d2d)+(0xccf+-0x1*-0x28+-0x452*0x3)];},Te[Fc]=(_0xbaf6e2,_0x25c57f,_0x419b40,_0x271321)=>{const _0x17d1b2=_0xbaf6e2['storageFlo'+'at32'];for(let _0xde9044=0x3*-0x120+0xbdd+0x87d*-0x1;_0xde9044<_0x271321;_0xde9044++)_0x17d1b2[_0x419b40+_0xde9044*(0x3*0x473+0x238+-0xf8d)]=_0x25c57f[_0xde9044*(-0x1ca3+-0x1*-0x1e38+-0x86*0x3)],_0x17d1b2[_0x419b40+_0xde9044*(-0x1fb+0x50a*-0x7+0x2545)+(0x1*0x20a2+0x701*0x1+0x72*-0x59)]=_0x25c57f[_0xde9044*(0x6*-0x5a1+-0x25*0xef+0x4454)+(0x1*0x189b+-0x1cfe*0x1+0x464)],_0x17d1b2[_0x419b40+_0xde9044*(-0x3a9+-0x17bf+0x1b6c)+(0x101*0x1a+-0x1d66+-0x2*-0x1a7)]=_0x25c57f[_0xde9044*(0x2055+-0x20c5*0x1+0x73)+(-0x5cf*-0x4+0x2*-0x491+-0xe18)];},Te[va]=(_0x1c577b,_0x3c2f46,_0x8b750a,_0x2234e9)=>{const _0x2262d3=_0x1c577b['storageUin'+'t32'];_0x2262d3[_0x8b750a]=_0x3c2f46;},Te[ba]=(_0x5cfad5,_0x318229,_0x62d622,_0x18c4b0)=>{const _0x34e47a=_0x5cfad5['storageUin'+'t32'];_0x34e47a[_0x62d622]=_0x318229[-0xb7e+-0x68e+0x120c],_0x34e47a[_0x62d622+(0x1686+-0x13*-0x13+0x6*-0x3fd)]=_0x318229[-0x1f15+-0x2*-0xa57+-0x94*-0x12];},Te[wa]=(_0x59da50,_0x3e6122,_0x1c54a3,_0x4e0ce1)=>{const _0x5cab07=_0x59da50['storageUin'+'t32'];_0x5cab07[_0x1c54a3]=_0x3e6122[0x658+-0x21f2+0x1b9a],_0x5cab07[_0x1c54a3+(0x1*-0x10f1+-0x84a*0x2+0x2186)]=_0x3e6122[-0x149f+-0xbdd*0x3+0x3837],_0x5cab07[_0x1c54a3+(0x347*-0x5+0x1beb+0xb86*-0x1)]=_0x3e6122[-0x1d07+0xd87+0xf82];},Te[Ta]=(_0x4ef4f8,_0x2051cd,_0x2b8e7d,_0x34bdef)=>{const _0x3745c2=_0x4ef4f8['storageUin'+'t32'];_0x3745c2[_0x2b8e7d]=_0x2051cd[-0xa13*0x3+-0xd62+0x2b9b],_0x3745c2[_0x2b8e7d+(0x8ff*0x2+0x11f4+-0x23f1*0x1)]=_0x2051cd[-0x1bd7+-0x1ef7+0x1*0x3acf],_0x3745c2[_0x2b8e7d+(-0x11f6+0x10a3+0x155)]=_0x2051cd[-0x41*0x7a+0x1436+0xac6],_0x3745c2[_0x2b8e7d+(0x137*0x2+0x5*0x1f2+-0xc25)]=_0x2051cd[0x256d+0x1739+0x3ca3*-0x1];},Te[Aa]=function(_0x24a960,_0x42ba18,_0x161239,_0x200b71){const _0x55923a=_0x24a960['storageInt'+'32'];for(let _0x20061a=-0x1d8b+0x7*-0x493+0x3d90;_0x20061a<_0x200b71;_0x20061a++)_0x55923a[_0x161239+_0x20061a*(-0x2247+-0x2219+-0xc*-0x5b3)]=_0x42ba18[_0x20061a];},Te[kc]=Te[Aa],Te[Oc]=function(_0x321118,_0x2e589c,_0x189d79,_0x4b4bc0){const _0x547e91=_0x321118['storageUin'+'t32'];for(let _0x57b243=-0x50b*0x3+-0x2272*-0x1+0x5*-0x3dd;_0x57b243<_0x4b4bc0;_0x57b243++)_0x547e91[_0x189d79+_0x57b243*(-0x1*-0x17cb+-0x2200+0xa39)]=_0x2e589c[_0x57b243];},Te[Ea]=(_0x27e8f0,_0x23c34d,_0xa3d1fd,_0x1b1030)=>{const _0x7150b0=_0x27e8f0['storageInt'+'32'];for(let _0x36eb4c=0xc54+-0x2357+-0x1703*-0x1;_0x36eb4c<_0x1b1030;_0x36eb4c++)_0x7150b0[_0xa3d1fd+_0x36eb4c*(0xef6+-0x754+-0x1*0x79e)]=_0x23c34d[_0x36eb4c*(0x1*0x609+0x13d+-0x744)],_0x7150b0[_0xa3d1fd+_0x36eb4c*(-0x1*0x1a32+0x1*0x1a3f+-0x9*0x1)+(0x210f+0x21e2+0x198*-0x2a)]=_0x23c34d[_0x36eb4c*(-0x1a01+0xdcc*0x1+-0x3b*-0x35)+(0x18c6+-0x15ca+-0x7*0x6d)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x1010eb,_0x263da6,_0x4fce0e,_0x2eae1e)=>{const _0x3be18c=_0x1010eb['storageUin'+'t32'];for(let _0x1eab98=-0xd3*0x24+0x14c3+0x1*0x8e9;_0x1eab98<_0x2eae1e;_0x1eab98++)_0x3be18c[_0x4fce0e+_0x1eab98*(-0x108f+-0x1*0x1731+-0x5*-0x7f4)]=_0x263da6[_0x1eab98*(0x75c*-0x2+-0x2*0x2a6+-0x2*-0xa03)],_0x3be18c[_0x4fce0e+_0x1eab98*(-0x40*0x16+0x24f9+0x1f75*-0x1)+(-0x47*0x23+-0x2324+0x2cda)]=_0x263da6[_0x1eab98*(0x681*0x5+-0x94b+-0x2e7*0x8)+(0x1*0xfb5+-0xd8d+0x1*-0x227)];},Te[Ca]=(_0x2d0e43,_0x4a01fd,_0x367baf,_0x29f156)=>{const _0x26255f=_0x2d0e43['storageInt'+'32'];for(let _0x184ace=0x174c*0x1+0x16*-0x192+0xb40;_0x184ace<_0x29f156;_0x184ace++)_0x26255f[_0x367baf+_0x184ace*(0x943+-0x37c+0x3b*-0x19)]=_0x4a01fd[_0x184ace*(0xc2f*-0x1+-0x9c2+0x15f4)],_0x26255f[_0x367baf+_0x184ace*(0x1c1a+-0xf59*0x2+0xa7*0x4)+(0x1f4b+0x1b67+0x3ab1*-0x1)]=_0x4a01fd[_0x184ace*(0x2*0x90+-0x1*-0x1818+-0x1935)+(0x6fd+0x42d*0x1+-0xb29)],_0x26255f[_0x367baf+_0x184ace*(0x2*-0x7e+0x1*0x178f+-0x113*0x15)+(-0x191d+-0x832*-0x1+-0x1*-0x10ed)]=_0x4a01fd[_0x184ace*(0x8de+0x2*-0x28d+-0x3c1)+(-0x1759+0x1202+0x559*0x1)];},Te[Uc]=Te[Ca],Te[zc]=(_0x4d0b9a,_0x2c29e6,_0x10796f,_0x5a0751)=>{const _0x356509=_0x4d0b9a['storageUin'+'t32'];for(let _0x2cbdea=0x1eb*0x6+0x14c3+-0x2045;_0x2cbdea<_0x5a0751;_0x2cbdea++)_0x356509[_0x10796f+_0x2cbdea*(0x1691*0x1+-0x6*0x4d2+-0xe9*-0x7)]=_0x2c29e6[_0x2cbdea*(-0x14e9+0x1526+0x3a*-0x1)],_0x356509[_0x10796f+_0x2cbdea*(0x67*-0x3+0x59e+-0x465)+(0x295*-0xe+0x648+-0x1*-0x1ddf)]=_0x2c29e6[_0x2cbdea*(-0x1a1e+-0x7*-0xcb+0x1494)+(0x5*-0x5bd+0x289+-0x1*-0x1a29)],_0x356509[_0x10796f+_0x2cbdea*(0x17d*-0x9+0x571+0x7f8)+(-0x5a*-0x5a+0x3*-0x7c9+-0x847*0x1)]=_0x2c29e6[_0x2cbdea*(0x75e+0x139*-0x3+-0x1*0x3b0)+(-0xf6a+-0x1188+0x20f4)];};class gp{constructor(_0x4cbc6c,_0x25bce5,_0x2eb480=!(-0x15a6+-0x24b7+0x3a5d)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0xb41+-0xa94+-0xad);if(this['device']=_0x4cbc6c,this['format']=_0x25bce5,this['persistent']=_0x2eb480,v['assert'](_0x25bce5),_0x2eb480){this['impl']=_0x4cbc6c['createUnif'+'ormBufferI'+'mpl'](this);const _0xb7690=new ArrayBuffer(_0x25bce5['byteSize']);this['assignStor'+'age'](new Int32Array(_0xb7690)),_0x4cbc6c['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x47884e=this['device'];this['impl']['destroy'](_0x47884e),_0x47884e['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x5ab*-0x1+0x135a+-0x1*0xdaf:this['allocation']['offset'];}['assignStor'+'age'](_0x172f7a){this['storageInt'+'32']=_0x172f7a,this['storageUin'+'t32']=new Uint32Array(_0x172f7a['buffer'],_0x172f7a['byteOffset'],_0x172f7a['byteLength']/(0x15a5+-0x2133+-0x2*-0x5c9)),this['storageFlo'+'at32']=new Float32Array(_0x172f7a['buffer'],_0x172f7a['byteOffset'],_0x172f7a['byteLength']/(-0x9a9*-0x2+-0x3*0x67f+0x2f));}['loseContex'+'t'](){var _0x3edfd1;(_0x3edfd1=this['impl'])==null||_0x3edfd1['loseContex'+'t']();}['setUniform'](_0x536ad6,_0x25aaf1){v['assert'](_0x536ad6);const _0x3808f6=_0x536ad6['offset'];if(_0x25aaf1!=null){const _0x24c24a=Te[_0x536ad6['updateType']];_0x24c24a?_0x24c24a(this,_0x25aaf1,_0x3808f6,_0x536ad6['count']):this['storageFlo'+'at32']['set'](_0x25aaf1,_0x3808f6);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x536ad6['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x536ad6['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0xd6b9f3,_0xe116a0){const _0x423f4b=this['format']['map']['get'](_0xd6b9f3);v['assert'](_0x423f4b,'Uniform\x20na'+'me\x20['+_0xd6b9f3+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x423f4b&&this['setUniform'](_0x423f4b,_0xe116a0);}['startUpdat'+'e'](_0x1ea2f1){if(!this['persistent']){const _0x7551b4=this['allocation'],_0x211a92=_0x7551b4['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x7551b4,this['format']['byteSize']),this['assignStor'+'age'](_0x7551b4['storage']),_0x1ea2f1&&(_0x1ea2f1['bindGroup']=_0x7551b4['gpuBuffer']['getBindGro'+'up'](this),_0x1ea2f1['offsets'][-0x6*0x335+0x6f1*-0x1+0x1*0x1a2f]=_0x7551b4['offset']),_0x211a92!==_0x7551b4['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x26bed5){this['startUpdat'+'e'](_0x26bed5);const _0x30fdb6=this['format']['uniforms'];for(let _0x46de6f=-0x108a+-0x1d*0x102+0x2dc4;_0x46de6f<_0x30fdb6['length'];_0x46de6f++){const _0x16fac3=_0x30fdb6[_0x46de6f]['scopeId']['value'];this['setUniform'](_0x30fdb6[_0x46de6f],_0x16fac3);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0x1*-0x19ab+-0x1*0x71a+-0x36*0x58)),c(this,'_enableReq'+'uest',!(0x5*-0x22+0x13*0x1a5+-0x1e94)),c(this,'_frameTime',-0x266a+-0x2376+0x49e0);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x786506){this['_enableReq'+'uest']=_0x786506;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x2*0x9ef+-0x7f*0x19+0x2045*0x1));}['request'](_0xa888fc){this['pastFrameA'+'llocations']['set'](_0xa888fc,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x51161a,_0x4c4d2c){if(_0x4c4d2c){const _0x1e0712=this['pastFrameA'+'llocations']['get'](_0x51161a);if(v['assert'](_0x1e0712['length']===_0x4c4d2c['length']),_0x4c4d2c['length']>0x1*0x4af+-0xd54*0x2+0xe1*0x19&&(this['_frameTime']=_0x4c4d2c[-0xc*0x49+-0x1916+0x1c82]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x51161a+'\x20--');let _0x1f1fa9=0x1743+0xae+-0x17f1;for(let _0x5f29f6=0x32*0x98+-0xcf1+-0x10bf;_0x5f29f6<_0x1e0712['length'];++_0x5f29f6){const _0xf1cf80=_0x1e0712[_0x5f29f6];_0x1f1fa9+=_0x4c4d2c[_0x5f29f6],v['trace'](ml,_0x4c4d2c[_0x5f29f6]['toFixed'](0x22c6+-0x135b+-0xf69)+'\x20ms\x20'+_0xf1cf80);}v['trace'](ml,_0x1f1fa9['toFixed'](0x2174+0x1*-0x1425+-0xd4d)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x51161a);}['getSlot'](_0x4fc0b6){const _0x17ae9c=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x4fc0b6),_0x17ae9c;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0xf76d2a){this['bufferId']&&(_0xf76d2a['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x28c218,_0x32f8ca,_0x1aa1d4,_0x465456){const _0x34d543=_0x28c218['gl'];if(this['bufferId'])_0x34d543['bindBuffer'](_0x1aa1d4,this['bufferId']),_0x34d543['bufferSubD'+'ata'](_0x1aa1d4,-0x1*0x2275+0x146d+0x1*0xe08,_0x465456);else{let _0x25995b;switch(_0x32f8ca){case jt:_0x25995b=_0x34d543['STATIC_DRA'+'W'];break;case Th:_0x25995b=_0x34d543['DYNAMIC_DR'+'AW'];break;case uy:_0x25995b=_0x34d543['STREAM_DRA'+'W'];break;case PS:_0x25995b=_0x34d543['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x34d543['createBuff'+'er'](),_0x34d543['bindBuffer'](_0x1aa1d4,this['bufferId']),_0x34d543['bufferData'](_0x1aa1d4,_0x465456,_0x25995b);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x550b33){super['destroy'](_0x550b33),_0x550b33['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x8bac6c){const _0x525203=_0x8bac6c['device'];super['unlock'](_0x525203,_0x8bac6c['usage'],_0x525203['gl']['ARRAY_BUFF'+'ER'],_0x8bac6c['storage']);}}class ib extends r0{constructor(_0x5948d3){super();const _0x12dcf3=_0x5948d3['device']['gl'],_0x5bdf62=_0x5948d3['format'];_0x5bdf62===pu?this['glFormat']=_0x12dcf3['UNSIGNED_B'+'YTE']:_0x5bdf62===Pi?this['glFormat']=_0x12dcf3['UNSIGNED_S'+'HORT']:_0x5bdf62===nr&&(this['glFormat']=_0x12dcf3['UNSIGNED_I'+'NT']);}['unlock'](_0x42dd77){const _0x13ec82=_0x42dd77['device'];super['unlock'](_0x13ec82,_0x42dd77['usage'],_0x13ec82['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x42dd77['storage']);}}class Mm{constructor(_0x1eb2b3,_0x4ce97e,_0x444d29,_0x10e0e5){if(this['locationId']=_0x10e0e5,this['scopeId']=_0x1eb2b3['scope']['resolve'](_0x4ce97e),this['version']=new Ky(),_0x4ce97e['substring'](_0x4ce97e['length']-(-0xbfe*0x2+0xa75+0x2*0x6c5))==='[0]')switch(_0x444d29){case $s:_0x444d29=Dc;break;case ln:_0x444d29=Aa;break;case va:_0x444d29=Oc;break;case ca:_0x444d29=kc;break;case or:_0x444d29=Lc;break;case Zr:_0x444d29=Ea;break;case ba:_0x444d29=Bc;break;case Lo:_0x444d29=Nc;break;case $t:_0x444d29=Fc;break;case Qr:_0x444d29=Ca;break;case wa:_0x444d29=zc;break;case Fo:_0x444d29=Uc;break;case xa:_0x444d29=lp;break;case Jr:_0x444d29=Ih;break;case Ta:_0x444d29=hp;break;case Oo:_0x444d29=cp;break;}this['dataType']=_0x444d29,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0x1*0x2335+0x1*-0xf0b+0x1*0x3240;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x48f7ed){this['map']['forEach'](_0x11113b=>{_0x48f7ed['gl']['deleteShad'+'er'](_0x11113b);});}['loseContex'+'t'](_0x403548){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x4e3fa8){c(this,'compileDur'+'ation',0x1750*-0x1+0x6f3+0x105d),(this['init'](),this['compile'](_0x4e3fa8['device'],_0x4e3fa8),this['link'](_0x4e3fa8['device'],_0x4e3fa8),_0x4e3fa8['device']['shaders']['push'](_0x4e3fa8));}['destroy'](_0x24da5f){this['glProgram']&&(_0x24da5f['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x3d4a82,_0x46c66b){this['compile'](_0x3d4a82,_0x46c66b),this['link'](_0x3d4a82,_0x46c66b);}['compile'](_0x41a9da,_0x5aa721){const _0x308055=_0x5aa721['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x41a9da,_0x308055['vshader'],!(0x1*0x1e39+-0x16a*-0x19+0x1*-0x4193)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x41a9da,_0x308055['fshader'],!(-0xe0e+0x59*0x30+0x1*-0x2a1));}['link'](_0x746a65,_0x399f86){if(this['glProgram'])return;const _0x445775=_0x746a65['gl'];if(_0x445775['isContextL'+'ost']())return;let _0x4b35e6=-0x1d12+0xfb*0x17+0x685;v['call'](()=>{this['compileDur'+'ation']=0x4d5*-0x5+-0x1*0x15d1+0x5*0x932,_0x4b35e6=ne();});const _0x5428b2=_0x445775['createProg'+'ram']();this['glProgram']=_0x5428b2,_0x445775['attachShad'+'er'](_0x5428b2,this['glVertexSh'+'ader']),_0x445775['attachShad'+'er'](_0x5428b2,this['glFragment'+'Shader']);const _0x245974=_0x399f86['definition'],_0x5a2a91=_0x245974['attributes'];if(_0x245974['useTransfo'+'rmFeedback']){const _0x6eb15a=[];for(const _0x3ac892 in _0x5a2a91)_0x5a2a91['hasOwnProp'+'erty'](_0x3ac892)&&_0x6eb15a['push']('out_'+_0x3ac892);_0x445775['transformF'+'eedbackVar'+'yings'](_0x5428b2,_0x6eb15a,_0x445775['INTERLEAVE'+'D_ATTRIBS']);}const _0xe13885={};for(const _0x1d3d3f in _0x5a2a91)if(_0x5a2a91['hasOwnProp'+'erty'](_0x1d3d3f)){const _0x5ae474=_0x5a2a91[_0x1d3d3f],_0x18a29c=ve[_0x5ae474];v['assert'](!_0xe13885['hasOwnProp'+'erty'](_0x18a29c),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0xe13885[_0x18a29c]+'\x20and\x20'+_0x1d3d3f),_0xe13885[_0x18a29c]=_0x1d3d3f,_0x445775['bindAttrib'+'Location'](_0x5428b2,_0x18a29c,_0x1d3d3f);}_0x445775['linkProgra'+'m'](_0x5428b2),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x4b35e6;}),_0x746a65['_shaderSta'+'ts']['linked']++,_0x245974['tag']===Ly&&_0x746a65['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x45e77f,_0x4c56a1,_0x1c4fa9){const _0x5ca4c7=_0x45e77f['gl'];if(_0x5ca4c7['isContextL'+'ost']())return null;const _0x10ebce=(_0x1c4fa9?ab:ob)['get'](_0x45e77f,()=>new nb());let _0x303341=_0x10ebce['map']['get'](_0x4c56a1);if(!_0x303341){const _0x664406=ne();_0x45e77f['fire']('shader:com'+'pile:start',{'timestamp':_0x664406,'target':_0x45e77f}),_0x303341=_0x5ca4c7['createShad'+'er'](_0x1c4fa9?_0x5ca4c7['VERTEX_SHA'+'DER']:_0x5ca4c7['FRAGMENT_S'+'HADER']),_0x5ca4c7['shaderSour'+'ce'](_0x303341,_0x4c56a1),_0x5ca4c7['compileSha'+'der'](_0x303341),_0x10ebce['map']['set'](_0x4c56a1,_0x303341);const _0x194f89=ne();_0x45e77f['fire']('shader:com'+'pile:end',{'timestamp':_0x194f89,'target':_0x45e77f}),_0x45e77f['_shaderSta'+'ts']['compileTim'+'e']+=_0x194f89-_0x664406,_0x1c4fa9?_0x45e77f['_shaderSta'+'ts']['vsCompiled']++:_0x45e77f['_shaderSta'+'ts']['fsCompiled']++;}return _0x303341;}['finalize'](_0x396b2d,_0x1ef970){var _0x4e78be,_0x308cfe;const _0xb60937=_0x396b2d['gl'];if(_0xb60937['isContextL'+'ost']())return!(0x2501+-0xfad+-0x1a*0xd2);const _0xf1b3fd=this['glProgram'],_0x15fb71=_0x1ef970['definition'],_0x4905bc=ne();_0x396b2d['fire']('shader:lin'+'k:start',{'timestamp':_0x4905bc,'target':_0x396b2d});let _0x57a291=0x2342+-0xcab*-0x1+-0x2fed*0x1;if(v['call'](()=>{_0x57a291=ne();}),!_0xb60937['getProgram'+'Parameter'](_0xf1b3fd,_0xb60937['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x396b2d,_0x1ef970,this['glVertexSh'+'ader'],_0x15fb71['vshader'],'vertex')||!this['_isCompile'+'d'](_0x396b2d,_0x1ef970,this['glFragment'+'Shader'],_0x15fb71['fshader'],'fragment'))return!(0x1*0x2575+0x19*0x122+0x2*-0x20e3);const _0x212dc4='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0xb60937['getProgram'+'InfoLog'](_0xf1b3fd);return _0x15fb71['translated'+'Frag']=(_0x4e78be=_0xb60937['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x1aaf+-0x1742+-0x1*-0x31f1):_0x4e78be['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x15fb71['translated'+'Vert']=(_0x308cfe=_0xb60937['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x156d+-0x5*-0x6d8+0x5*-0x28f):_0x308cfe['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x212dc4,_0x15fb71),console['error'](_0x212dc4),!(0x2ef*-0x7+-0x1*-0xd9e+0x1bb*0x4);}const _0x41b3c6=_0xb60937['getProgram'+'Parameter'](_0xf1b3fd,_0xb60937['ACTIVE_ATT'+'RIBUTES']);for(let _0x52cf4d=-0x3f6*0x1+-0x19e1+0x1*0x1dd7;_0x52cf4d<_0x41b3c6;_0x52cf4d++){const _0x2caa05=_0xb60937['getActiveA'+'ttrib'](_0xf1b3fd,_0x52cf4d),_0x2c2006=_0xb60937['getAttribL'+'ocation'](_0xf1b3fd,_0x2caa05['name']);if(!rb['has'](_0x2caa05['name'])){if(_0x15fb71['attributes'][_0x2caa05['name']]===void(-0x1a74+-0x38*0xac+0xaae*0x6))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x2caa05['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x1ef970['label']+']',_0x1ef970),_0x1ef970['failed']=!(-0x1411+-0x2b*0xb+0x42*0x55);else{const _0x3ee365=new Mm(_0x396b2d,_0x15fb71['attributes'][_0x2caa05['name']],_0x396b2d['pcUniformT'+'ype'][_0x2caa05['type']],_0x2c2006);this['attributes']['push'](_0x3ee365);}}}const _0x52697c=_0x396b2d['_samplerTy'+'pes'],_0xe4ff06=_0xb60937['getProgram'+'Parameter'](_0xf1b3fd,_0xb60937['ACTIVE_UNI'+'FORMS']);for(let _0x141520=0x72+0xc43+-0x1*0xcb5;_0x141520<_0xe4ff06;_0x141520++){const _0x4c61ee=_0xb60937['getActiveU'+'niform'](_0xf1b3fd,_0x141520),_0x270d37=_0xb60937['getUniform'+'Location'](_0xf1b3fd,_0x4c61ee['name']),_0x4c987a=new Mm(_0x396b2d,_0x4c61ee['name'],_0x396b2d['pcUniformT'+'ype'][_0x4c61ee['type']],_0x270d37);_0x52697c['has'](_0x4c61ee['type'])?this['samplers']['push'](_0x4c987a):this['uniforms']['push'](_0x4c987a);}_0x1ef970['ready']=!(-0x5a7+0x241e+-0xb*0x2c5);const _0x10754d=ne();return _0x396b2d['fire']('shader:lin'+'k:end',{'timestamp':_0x10754d,'target':_0x396b2d}),_0x396b2d['_shaderSta'+'ts']['compileTim'+'e']+=_0x10754d-_0x4905bc,v['call'](()=>{const _0x8f3a33=ne()-_0x57a291;this['compileDur'+'ation']+=_0x8f3a33,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x1ef970['id']+']\x20'+_0x1ef970['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x137c+-0x4*0x213+-0xb2f)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](0x767+-0x8*-0x347+0x219e*-0x1)+'ms');}),!(0xba2+-0xb9*-0x15+0x1*-0x1acf);}['_isCompile'+'d'](_0x27a408,_0x40f29b,_0x2623d1,_0x12f620,_0xfd18c8){const _0x5956af=_0x27a408['gl'];if(!_0x5956af['getShaderP'+'arameter'](_0x2623d1,_0x5956af['COMPILE_ST'+'ATUS'])){const _0xbbb286=_0x5956af['getShaderI'+'nfoLog'](_0x2623d1),[_0x5a809a,_0x5bc6b2]=this['_processEr'+'ror'](_0x12f620,_0xbbb286),_0x2ad7d1='Failed\x20to\x20'+'compile\x20'+_0xfd18c8+'\x20shader:\x0a\x0a'+_0xbbb286+'\x0a'+_0x5a809a+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x5bc6b2['shader']=_0x40f29b,console['error'](_0x2ad7d1,_0x5bc6b2),console['error'](_0x2ad7d1),!(-0x4a*0x35+0x208f+-0x113c);}return!(0x1a0d+-0x5*0x655+0x59c*0x1);}['isLinked'](_0x1b9929){const {extParallelShaderCompile:_0x2da589}=_0x1b9929;return _0x2da589?_0x1b9929['gl']['getProgram'+'Parameter'](this['glProgram'],_0x2da589['COMPLETION'+'_STATUS_KH'+'R']):!(-0xd8+0xe48+-0x6b8*0x2);}['_processEr'+'ror'](_0x252794,_0x48812b){const _0x538471={};let _0x3673c1='';if(_0x252794){const _0x27b061=_0x252794['split']('\x0a');let _0x4c99ad=0x158c+-0x2516+0x7c5*0x2,_0x5e38ef=_0x27b061['length'];if(_0x48812b&&_0x48812b['startsWith']('ERROR:')){const _0x329962=_0x48812b['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x329962&&(_0x538471['message']=_0x329962[0x563+-0x1c49+0x5*0x495],_0x538471['line']=parseInt(_0x329962[-0x1df9*-0x1+0x83b+-0x2*0x1319],-0x1bad*-0x1+-0x1b*-0x13a+-0x3cc1*0x1),_0x4c99ad=Math['max'](0x71*-0x43+0xc51*-0x1+-0x5fc*-0x7,_0x538471['line']-(0x16e7+-0x1dd8+0x6f7)),_0x5e38ef=Math['min'](_0x27b061['length'],_0x538471['line']+(0x3*-0x472+0x2*-0x1264+0x3223)));}for(let _0x12da75=_0x4c99ad;_0x12da75<_0x5e38ef;_0x12da75++)_0x3673c1+=_0x12da75+(0x4bb*0x2+0xc16+-0x158b)+':\x09'+_0x27b061[_0x12da75]+'\x0a';_0x538471['source']=_0x252794;}return[_0x3673c1,_0x538471];}}function Rm(_0x4efd2d,_0x4a95af){const _0x197cf7=_0x4efd2d['width'],_0x19b936=_0x4efd2d['height'];if(_0x197cf7>_0x4a95af||_0x19b936>_0x4a95af){const _0x140ebc=_0x4a95af/Math['max'](_0x197cf7,_0x19b936),_0x1cf2b5=Math['floor'](_0x197cf7*_0x140ebc),_0x2b9283=Math['floor'](_0x19b936*_0x140ebc);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x4a95af+('.\x20Resizing'+'\x20from\x20')+_0x197cf7+',\x20'+_0x19b936+'\x20to\x20'+_0x1cf2b5+',\x20'+_0x2b9283+'.');const _0xa6b424=document['createElem'+'ent']('canvas');return _0xa6b424['width']=_0x1cf2b5,_0xa6b424['height']=_0x2b9283,_0xa6b424['getContext']('2d')['drawImage'](_0x4efd2d,-0x85c+-0x1*0x900+0x16*0xca,0x2*-0xd69+0x10*-0x93+0xb*0x346,_0x197cf7,_0x19b936,0x889+-0x1*0x1eb+-0x69e,-0x17c6+-0xc7a+0x2440,_0x1cf2b5,_0x2b9283),_0xa6b424;}return _0x4efd2d;}class hb{constructor(_0x2abb3e){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',-0xa35*-0x1+-0x22*-0x6a+-0x1849),this['texture']=_0x2abb3e;}['destroy'](_0x368590){if(this['_glTexture']){for(let _0x300ed8=0x214b+0x15b1+0x132*-0x2e;_0x300ed8<_0x368590['textureUni'+'ts']['length'];_0x300ed8++){const _0x201c2a=_0x368590['textureUni'+'ts'][_0x300ed8];for(let _0x2fc054=0xa9c+-0x2198+0x16fc;_0x2fc054<_0x201c2a['length'];_0x2fc054++)_0x201c2a[_0x2fc054]===this['_glTexture']&&(_0x201c2a[_0x2fc054]=null);}_0x368590['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x1183e1){this['dirtyParam'+'eterFlags']|=_0x1183e1;}['initialize'](_0x56451f,_0x4577b8){const _0x44d746=_0x56451f['gl'];switch(this['_glTexture']=_0x44d746['createText'+'ure'](),this['_glTarget']=_0x4577b8['_cubemap']?_0x44d746['TEXTURE_CU'+'BE_MAP']:_0x4577b8['_volume']?_0x44d746['TEXTURE_3D']:_0x4577b8['array']?_0x44d746['TEXTURE_2D'+'_ARRAY']:_0x44d746['TEXTURE_2D'],_0x4577b8['_format']){case fy:this['_glFormat']=_0x44d746['ALPHA'],this['_glInterna'+'lFormat']=_0x44d746['ALPHA'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x44d746['LUMINANCE'],this['_glInterna'+'lFormat']=_0x44d746['LUMINANCE'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x44d746['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x44d746['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x44d746['RED'],this['_glInterna'+'lFormat']=_0x44d746['R8'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x44d746['RG'],this['_glInterna'+'lFormat']=_0x44d746['RG8'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x44d746['RGB'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x44d746['RGBA'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x44d746['RGBA'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x44d746['RGB8'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x44d746['RGBA8'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x56451f['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x56451f['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x44d746['SRGB'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x44d746['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x44d746['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x44d746['SRGB'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x44d746['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x44d746['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x56451f['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x56451f['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x44d746['RED'],this['_glInterna'+'lFormat']=_0x44d746['R16F'],this['_glPixelTy'+'pe']=_0x44d746['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x44d746['RG'],this['_glInterna'+'lFormat']=_0x44d746['RG16F'],this['_glPixelTy'+'pe']=_0x44d746['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x44d746['RGB16F'],this['_glPixelTy'+'pe']=_0x44d746['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x44d746['RGBA16F'],this['_glPixelTy'+'pe']=_0x44d746['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x44d746['RGB32F'],this['_glPixelTy'+'pe']=_0x44d746['FLOAT'];break;case Ke:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x44d746['RGBA32F'],this['_glPixelTy'+'pe']=_0x44d746['FLOAT'];break;case Ii:this['_glFormat']=_0x44d746['RED'],this['_glInterna'+'lFormat']=_0x44d746['R32F'],this['_glPixelTy'+'pe']=_0x44d746['FLOAT'];break;case Ci:this['_glFormat']=_0x44d746['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x44d746['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x44d746['FLOAT'];break;case la:this['_glFormat']=_0x44d746['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x44d746['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x44d746['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x44d746['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x44d746['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x44d746['RGB'],this['_glInterna'+'lFormat']=_0x44d746['SRGB8'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x44d746['RGBA'],this['_glInterna'+'lFormat']=_0x44d746['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x44d746['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x44d746['R8I'],this['_glPixelTy'+'pe']=_0x44d746['BYTE'];break;case xy:this['_glFormat']=_0x44d746['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x44d746['R8UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x44d746['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x44d746['R16I'],this['_glPixelTy'+'pe']=_0x44d746['SHORT'];break;case $f:this['_glFormat']=_0x44d746['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x44d746['R16UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x44d746['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x44d746['R32I'],this['_glPixelTy'+'pe']=_0x44d746['INT'];break;case an:this['_glFormat']=_0x44d746['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x44d746['R32UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x44d746['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x44d746['RG8I'],this['_glPixelTy'+'pe']=_0x44d746['BYTE'];break;case Sy:this['_glFormat']=_0x44d746['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x44d746['RG8UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x44d746['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x44d746['RG16I'],this['_glPixelTy'+'pe']=_0x44d746['SHORT'];break;case Yf:this['_glFormat']=_0x44d746['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x44d746['RG16UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x44d746['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x44d746['RG32I'],this['_glPixelTy'+'pe']=_0x44d746['INT'];break;case Zf:this['_glFormat']=_0x44d746['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x44d746['RG32UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x44d746['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x44d746['RGBA8I'],this['_glPixelTy'+'pe']=_0x44d746['BYTE'];break;case vy:this['_glFormat']=_0x44d746['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x44d746['RGBA8UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x44d746['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x44d746['RGBA16I'],this['_glPixelTy'+'pe']=_0x44d746['SHORT'];break;case Ac:this['_glFormat']=_0x44d746['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x44d746['RGBA16UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x44d746['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x44d746['RGBA32I'],this['_glPixelTy'+'pe']=_0x44d746['INT'];break;case ut:this['_glFormat']=_0x44d746['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x44d746['RGBA32UI'],this['_glPixelTy'+'pe']=_0x44d746['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x4*-0x665+-0x6f3+-0x254*0x8);}['upload'](_0x15883f,_0x18f3f7){v['assert'](_0x18f3f7['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x18f3f7);const _0x3e8182=_0x15883f['gl'];if(!_0x18f3f7['_needsUplo'+'ad']&&(_0x18f3f7['_needsMipm'+'apsUpload']&&_0x18f3f7['_mipmapsUp'+'loaded']||!_0x18f3f7['pot']))return;let _0x234e8d=-0x115f*-0x1+0x852+-0x19b1,_0x4b83a3,_0x1ed0a1;const _0x2f94ed=_0x18f3f7['numLevels'];for(_0x18f3f7['array']&&_0x3e8182['texStorage'+'3D'](_0x3e8182['TEXTURE_2D'+'_ARRAY'],_0x2f94ed,this['_glInterna'+'lFormat'],_0x18f3f7['_width'],_0x18f3f7['_height'],_0x18f3f7['_arrayLeng'+'th']);_0x18f3f7['_levels'][_0x234e8d]||_0x234e8d===-0x12fe+-0x1c33+-0x1*-0x2f31;){if(!_0x18f3f7['_needsUplo'+'ad']&&_0x234e8d===0x193*0x2+-0x164*0x12+0x15e2*0x1){_0x234e8d++;continue;}else{if(_0x234e8d&&(!_0x18f3f7['_needsMipm'+'apsUpload']||!_0x18f3f7['_mipmaps']))break;}if(_0x4b83a3=_0x18f3f7['_levels'][_0x234e8d],_0x1ed0a1=(0x9*0x133+-0x47*-0x2+-0xb58)/Math['pow'](0x12a+-0x1*0xf0d+-0x1*-0xde5,_0x234e8d),_0x234e8d===-0x2e7*0xb+-0x10c*-0x21+-0x29e&&!_0x18f3f7['_compresse'+'d']&&!_0x18f3f7['_integerFo'+'rmat']&&_0x18f3f7['_levels']['length']<_0x2f94ed&&(_0x3e8182['generateMi'+'pmap'](this['_glTarget']),_0x18f3f7['_mipmapsUp'+'loaded']=!(-0x18e4*0x1+0x2*-0xb3e+0x2f60)),_0x18f3f7['_cubemap']){let _0x762227;if(_0x15883f['_isBrowser'+'Interface'](_0x4b83a3[-0x10cd+-0x1ed3+0x2fa0]))for(_0x762227=0x1ff5+-0x24dc+-0xfb*-0x5;_0x762227<0x887+0x23b*0x2+0x1*-0xcf7;_0x762227++){if(!_0x18f3f7['_levelsUpd'+'ated'][-0x3*-0x6b2+-0x25f3+0x11dd][_0x762227])continue;let _0x4a6948=_0x4b83a3[_0x762227];_0x15883f['_isImageBr'+'owserInter'+'face'](_0x4a6948)&&(_0x4a6948['width']>_0x15883f['maxCubeMap'+'Size']||_0x4a6948['height']>_0x15883f['maxCubeMap'+'Size'])&&(_0x4a6948=Rm(_0x4a6948,_0x15883f['maxCubeMap'+'Size']),_0x234e8d===-0x5e6+0x6c8+-0x2*0x71&&(_0x18f3f7['_width']=_0x4a6948['width'],_0x18f3f7['_height']=_0x4a6948['height'])),_0x15883f['setUnpackF'+'lipY'](!(-0x6ce+0x91d*-0x1+-0x3fb*-0x4)),_0x15883f['setUnpackP'+'remultiply'+'Alpha'](_0x18f3f7['_premultip'+'lyAlpha']),this['_glCreated']?_0x3e8182['texSubImag'+'e2D'](_0x3e8182['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x762227,_0x234e8d,0x1539*0x1+-0x1*-0xff8+-0x2531*0x1,0x20ac+0x1b49+-0x3bf5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4a6948):_0x3e8182['texImage2D'](_0x3e8182['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x762227,_0x234e8d,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x4a6948);}else for(_0x1ed0a1=(-0x1*-0x1b14+-0xd27+0x9*-0x18c)/Math['pow'](0x360+0x1*-0xf79+0xc1b,_0x234e8d),_0x762227=-0x2611+0x43d*0x9+-0x14;_0x762227<0x1f*0x3+0x8*-0x2ea+0x16f9;_0x762227++){if(!_0x18f3f7['_levelsUpd'+'ated'][0x2*-0xdf1+-0x1b72+0x3754][_0x762227])continue;const _0x4b1607=_0x4b83a3[_0x762227];_0x18f3f7['_compresse'+'d']?this['_glCreated']&&_0x4b1607?_0x3e8182['compressed'+'TexSubImag'+'e2D'](_0x3e8182['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x762227,_0x234e8d,-0x19bf+0x366*-0x9+0xfd*0x39,0x1*0x1d8b+-0x224f*0x1+0x4c4*0x1,Math['max'](_0x18f3f7['_width']*_0x1ed0a1,-0x20e2+-0x7e4+-0x49*-0x8f),Math['max'](_0x18f3f7['_height']*_0x1ed0a1,-0x7*-0x45+-0xdee+-0xc*-0x101),this['_glInterna'+'lFormat'],_0x4b1607):_0x3e8182['compressed'+'TexImage2D'](_0x3e8182['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x762227,_0x234e8d,this['_glInterna'+'lFormat'],Math['max'](_0x18f3f7['_width']*_0x1ed0a1,-0x349+0x4c*0x31+-0xb42),Math['max'](_0x18f3f7['_height']*_0x1ed0a1,0x1*0x1da5+0x7f4+-0x2598),0x8d0+0x1*-0x1b8f+0x12bf,_0x4b1607):(_0x15883f['setUnpackF'+'lipY'](!(0xc6*-0xd+0xe9*-0x24+-0x13*-0x241)),_0x15883f['setUnpackP'+'remultiply'+'Alpha'](_0x18f3f7['_premultip'+'lyAlpha']),this['_glCreated']&&_0x4b1607?_0x3e8182['texSubImag'+'e2D'](_0x3e8182['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x762227,_0x234e8d,0x50b+0x15f5+-0x1b00,0x299+0x2d2+-0x56b,Math['max'](_0x18f3f7['_width']*_0x1ed0a1,-0x1bff+0x546+0x16ba),Math['max'](_0x18f3f7['_height']*_0x1ed0a1,-0x1*-0x885+-0x1*0x149c+-0x2*-0x60c),this['_glFormat'],this['_glPixelTy'+'pe'],_0x4b1607):_0x3e8182['texImage2D'](_0x3e8182['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x762227,_0x234e8d,this['_glInterna'+'lFormat'],Math['max'](_0x18f3f7['_width']*_0x1ed0a1,-0x2a*-0x93+-0xdb*0x29+0xaf6),Math['max'](_0x18f3f7['_height']*_0x1ed0a1,0x1bb8+0x49*-0x43+-0x89c),0x2e2*0xc+-0x157*-0x7+-0x2bf9*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4b1607));}}else{if(_0x18f3f7['_volume'])_0x18f3f7['_compresse'+'d']?_0x3e8182['compressed'+'TexImage3D'](_0x3e8182['TEXTURE_3D'],_0x234e8d,this['_glInterna'+'lFormat'],Math['max'](_0x18f3f7['_width']*_0x1ed0a1,-0x222+-0x183d*0x1+0x1a60),Math['max'](_0x18f3f7['_height']*_0x1ed0a1,-0x31*-0x16+-0x744+-0x9*-0x57),Math['max'](_0x18f3f7['_depth']*_0x1ed0a1,-0x2*0x112a+0x26d*-0x5+0x272*0x13),-0x621+0x3*0x439+0x9*-0xba,_0x4b83a3):(_0x15883f['setUnpackF'+'lipY'](!(0x12b0+-0x1bb5+0x906)),_0x15883f['setUnpackP'+'remultiply'+'Alpha'](_0x18f3f7['_premultip'+'lyAlpha']),_0x3e8182['texImage3D'](_0x3e8182['TEXTURE_3D'],_0x234e8d,this['_glInterna'+'lFormat'],Math['max'](_0x18f3f7['_width']*_0x1ed0a1,-0x1c4+-0x1f3c+-0x1f1*-0x11),Math['max'](_0x18f3f7['_height']*_0x1ed0a1,0x11fd+-0x2*0x106f+-0xa*-0x17d),Math['max'](_0x18f3f7['_depth']*_0x1ed0a1,-0x102a+0x1*-0xc95+0x1cc0),-0x1*-0x2533+0x1*0x252a+-0x4a5d,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4b83a3));else{if(_0x18f3f7['array']&&typeof _0x4b83a3=='object'){if(_0x18f3f7['_arrayLeng'+'th']===_0x4b83a3['length']){if(_0x18f3f7['_compresse'+'d']){for(let _0x2fed69=-0x645+-0x2df+-0x9c*-0xf;_0x2fed69<_0x18f3f7['_arrayLeng'+'th'];_0x2fed69++)_0x3e8182['compressed'+'TexSubImag'+'e3D'](_0x3e8182['TEXTURE_2D'+'_ARRAY'],_0x234e8d,-0x14*0xda+-0x15*-0x3+0x10c9,-0x1*-0x1e39+0x1d86+-0x3bbf,_0x2fed69,Math['max'](Math['floor'](_0x18f3f7['_width']*_0x1ed0a1),0x203*-0x13+0xf95*0x1+0x16a5),Math['max'](Math['floor'](_0x18f3f7['_height']*_0x1ed0a1),0x15*-0x1c9+-0xcce+-0x862*-0x6),0x6ec+0xe57*-0x1+0x4c*0x19,this['_glInterna'+'lFormat'],_0x4b83a3[_0x2fed69]);}else{for(let _0x5bcd32=-0xbe0+0x1688+-0xaa8;_0x5bcd32<_0x18f3f7['_arrayLeng'+'th'];_0x5bcd32++)_0x3e8182['texSubImag'+'e3D'](_0x3e8182['TEXTURE_2D'+'_ARRAY'],_0x234e8d,-0x3*-0x1a3+-0x1638+0x114f,0x18f6+-0xc16+0x4*-0x338,_0x5bcd32,Math['max'](Math['floor'](_0x18f3f7['_width']*_0x1ed0a1),0x12d8+0x2589+-0x3860),Math['max'](Math['floor'](_0x18f3f7['_height']*_0x1ed0a1),-0x99e+0x22f+0x770),0xa53+0x3c3*0x3+0x1*-0x159b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4b83a3[_0x5bcd32]);}}}else{if(_0x15883f['_isBrowser'+'Interface'](_0x4b83a3)){_0x15883f['_isImageBr'+'owserInter'+'face'](_0x4b83a3)&&(_0x4b83a3['width']>_0x15883f['maxTexture'+'Size']||_0x4b83a3['height']>_0x15883f['maxTexture'+'Size'])&&(_0x4b83a3=Rm(_0x4b83a3,_0x15883f['maxTexture'+'Size']),_0x234e8d===-0x13d1+-0xb0d+0xa4a*0x3&&(_0x18f3f7['_width']=_0x4b83a3['width'],_0x18f3f7['_height']=_0x4b83a3['height']));const _0x3a109e=_0x4b83a3['width']||_0x4b83a3['videoWidth'],_0x2204c3=_0x4b83a3['height']||_0x4b83a3['videoHeigh'+'t'];_0x15883f['setUnpackF'+'lipY'](_0x18f3f7['_flipY']),_0x15883f['setUnpackP'+'remultiply'+'Alpha'](_0x18f3f7['_premultip'+'lyAlpha']),this['_glCreated']&&_0x18f3f7['_width']===_0x3a109e&&_0x18f3f7['_height']===_0x2204c3&&!_0x15883f['_isImageVi'+'deoInterfa'+'ce'](_0x4b83a3)?_0x3e8182['texSubImag'+'e2D'](_0x3e8182['TEXTURE_2D'],_0x234e8d,0x12b9+0x1148+0xd*-0x2c5,0x2*0x7dd+-0xe68*0x2+0xd16,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4b83a3):(_0x3e8182['texImage2D'](_0x3e8182['TEXTURE_2D'],_0x234e8d,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x4b83a3),_0x234e8d===-0x837+0x174c+-0xf15&&(_0x18f3f7['_width']=_0x3a109e,_0x18f3f7['_height']=_0x2204c3));}else _0x1ed0a1=(-0xb06+0x1*-0x626+0x112d)/Math['pow'](-0x113*0xc+-0x3*0xcfa+-0x1*-0x33d4,_0x234e8d),_0x18f3f7['_compresse'+'d']?this['_glCreated']&&_0x4b83a3?_0x3e8182['compressed'+'TexSubImag'+'e2D'](_0x3e8182['TEXTURE_2D'],_0x234e8d,-0x25e3+0xec3+-0x250*-0xa,-0x1*0x2405+-0xf69+0x336e,Math['max'](Math['floor'](_0x18f3f7['_width']*_0x1ed0a1),-0xe74+-0x2661+0x34d6),Math['max'](Math['floor'](_0x18f3f7['_height']*_0x1ed0a1),-0x1*-0x16c+-0xd23*-0x2+0x1a1*-0x11),this['_glInterna'+'lFormat'],_0x4b83a3):_0x3e8182['compressed'+'TexImage2D'](_0x3e8182['TEXTURE_2D'],_0x234e8d,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x18f3f7['_width']*_0x1ed0a1),-0xd29+-0x1778*0x1+-0x24a2*-0x1),Math['max'](Math['floor'](_0x18f3f7['_height']*_0x1ed0a1),0x1d96+0x12af+-0x3044),0x700+-0x8*0x41e+0x19f0,_0x4b83a3):(_0x15883f['setUnpackF'+'lipY'](!(0xad7+0xe*0x115+0x1*-0x19fc)),_0x15883f['setUnpackP'+'remultiply'+'Alpha'](_0x18f3f7['_premultip'+'lyAlpha']),this['_glCreated']&&_0x4b83a3?_0x3e8182['texSubImag'+'e2D'](_0x3e8182['TEXTURE_2D'],_0x234e8d,-0x12*0xda+0x17ee+-0x89a,-0x8ad*-0x1+-0x299+0x2*-0x30a,Math['max'](_0x18f3f7['_width']*_0x1ed0a1,0x1d3e+-0x1267+-0xad6),Math['max'](_0x18f3f7['_height']*_0x1ed0a1,-0x155*0x19+0xd*-0x14+-0x2*-0x1129),this['_glFormat'],this['_glPixelTy'+'pe'],_0x4b83a3):_0x3e8182['texImage2D'](_0x3e8182['TEXTURE_2D'],_0x234e8d,this['_glInterna'+'lFormat'],Math['max'](_0x18f3f7['_width']*_0x1ed0a1,-0xd79+-0xfed+0x1d67),Math['max'](_0x18f3f7['_height']*_0x1ed0a1,-0x139*0x1c+0x29*0x7e+0x3b*0x3d),-0x1*0x7ff+0x2*-0x18e+0x1*0xb1b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4b83a3));_0x234e8d===0x2340*-0x1+-0x1e7b+-0x15e9*-0x3?_0x18f3f7['_mipmapsUp'+'loaded']=!(-0x1f3a+-0x1*0x20d2+0x35f*0x13):_0x18f3f7['_mipmapsUp'+'loaded']=!(0x173*-0xd+0x9*0x259+-0x24a);}}}_0x234e8d++;}if(_0x18f3f7['_needsUplo'+'ad']){if(_0x18f3f7['_cubemap']){for(let _0x264b06=-0x1f63*-0x1+0x3*0x2c+-0x1fe7;_0x264b06<-0x20b6+0x1c87*0x1+0x435*0x1;_0x264b06++)_0x18f3f7['_levelsUpd'+'ated'][-0x20*-0xdc+-0xee4+-0xc9c][_0x264b06]=!(0x1ff9+-0x1*-0x2172+-0xae7*0x6);}else _0x18f3f7['_levelsUpd'+'ated'][0x1111+0x115e+-0x226f]=!(-0x1650+-0x2f+0x1680);}!_0x18f3f7['_compresse'+'d']&&!_0x18f3f7['_integerFo'+'rmat']&&_0x18f3f7['_mipmaps']&&_0x18f3f7['_needsMipm'+'apsUpload']&&_0x18f3f7['_levels']['length']===-0x352+0xe11+-0xabe&&(_0x3e8182['generateMi'+'pmap'](this['_glTarget']),_0x18f3f7['_mipmapsUp'+'loaded']=!(0x1*-0x783+-0x1879+0x2*0xffe)),_0x18f3f7['_gpuSize']&&_0x18f3f7['adjustVram'+'SizeTracki'+'ng'](_0x15883f['_vram'],-_0x18f3f7['_gpuSize']),_0x18f3f7['_gpuSize']=_0x18f3f7['gpuSize'],_0x18f3f7['adjustVram'+'SizeTracki'+'ng'](_0x15883f['_vram'],_0x18f3f7['_gpuSize']),this['_glCreated']=!(0xb*-0x295+-0x30c+0x1f73);}['read'](_0x411839,_0x218066,_0x29a594,_0x4d1ef3,_0x20372e){const _0x90c101=this['texture'];return _0x90c101['device']['readTextur'+'eAsync'](_0x90c101,_0x411839,_0x218066,_0x29a594,_0x4d1ef3,_0x20372e);}}class cb{constructor(_0x1e5b3f,_0xe75c6c){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x1e5b3f,this['resolveFB']=_0xe75c6c);}['destroy'](_0x248855){this['msaaFB']&&(_0x248855['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x248855['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(0x13*-0x1af+-0x8a*-0x1+0x1f74));}['destroy'](_0x542b59){var _0x11566d;const _0xd5eb2=_0x542b59['gl'];this['_isInitial'+'ized']=!(0x18c1+0x23c2+-0x3c82),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0xd5eb2['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0xd5eb2['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0xd5eb2['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x27adec=>{_0xd5eb2['deleteRend'+'erbuffer'](_0x27adec);}),this['_glMsaaCol'+'orBuffers']['length']=-0x3*-0x92e+0x1d32+-0x2*0x1c5e,(_0x11566d=this['colorMrtFr'+'amebuffers'])==null||_0x11566d['forEach'](_0x2304b3=>{_0x2304b3['destroy'](_0xd5eb2);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x542b59)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x502+0x16*-0x24+-0x1*-0x81a);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0xd58c41,_0xfcbdb1){var _0x1eb625,_0x2739cf;const _0x3f7179=_0xd58c41['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x2011+-0x112*-0x2+-0x2235);const _0x181b3e=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x584+-0x1026+0xaa2*0x1))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0xfcbdb1['width']<=0x1358+-0xcfb+-0x65d*0x1||_0xfcbdb1['height']<=0x1623+-0x1ade+0x1*0x4bb)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0xfcbdb1['width']+'\x20x\x20'+_0xfcbdb1['height'],_0xfcbdb1);}),this['_glFrameBu'+'ffer']=_0x3f7179['createFram'+'ebuffer'](),_0xd58c41['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x53f39f=((_0x1eb625=_0xfcbdb1['_colorBuff'+'ers'])==null?void(-0x23f1+-0x191a+0x3d0b):_0x1eb625['length'])??-0x8*-0x8+0x1777*0x1+-0xd*0x1d3,_0x3f0b79=_0x3f7179['COLOR_ATTA'+'CHMENT0'];for(let _0x51ed54=0x2*-0x643+-0x37*0x79+0x2685;_0x51ed54<_0x53f39f;++_0x51ed54){const _0x46cd8d=_0xfcbdb1['getColorBu'+'ffer'](_0x51ed54);_0x46cd8d&&(_0x46cd8d['impl']['_glTexture']||(_0x46cd8d['_width']=Math['min'](_0x46cd8d['width'],_0xd58c41['maxRenderB'+'ufferSize']),_0x46cd8d['_height']=Math['min'](_0x46cd8d['height'],_0xd58c41['maxRenderB'+'ufferSize']),_0xd58c41['setTexture'](_0x46cd8d,-0xd7c+-0x19a6+0x2722)),_0x3f7179['framebuffe'+'rTexture2D'](_0x3f7179['FRAMEBUFFE'+'R'],_0x3f0b79+_0x51ed54,_0x46cd8d['_cubemap']?_0x3f7179['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xfcbdb1['_face']:_0x3f7179['TEXTURE_2D'],_0x46cd8d['impl']['_glTexture'],_0xfcbdb1['mipLevel']),_0x181b3e['push'](_0x3f0b79+_0x51ed54));}_0x3f7179['drawBuffer'+'s'](_0x181b3e);const _0x40314f=_0xfcbdb1['_depthBuff'+'er'];if(_0x40314f||_0xfcbdb1['_depth']){const _0x46ccc8=_0xfcbdb1['_stencil']?_0x3f7179['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3f7179['DEPTH_ATTA'+'CHMENT'];if(_0x40314f)_0x40314f['impl']['_glTexture']||(_0x40314f['_width']=Math['min'](_0x40314f['width'],_0xd58c41['maxRenderB'+'ufferSize']),_0x40314f['_height']=Math['min'](_0x40314f['height'],_0xd58c41['maxRenderB'+'ufferSize']),_0xd58c41['setTexture'](_0x40314f,0x237e+0x43c*0x1+-0x27ba)),_0x3f7179['framebuffe'+'rTexture2D'](_0x3f7179['FRAMEBUFFE'+'R'],_0x46ccc8,_0x40314f['_cubemap']?_0x3f7179['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xfcbdb1['_face']:_0x3f7179['TEXTURE_2D'],_0xfcbdb1['_depthBuff'+'er']['impl']['_glTexture'],_0xfcbdb1['mipLevel']);else{if(!(_0xfcbdb1['_samples']>-0x1096*0x2+0x7*0x471+0x216)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x3f7179['createRend'+'erbuffer']());const _0x104448=_0xfcbdb1['_stencil']?_0x3f7179['DEPTH24_ST'+'ENCIL8']:_0x3f7179['DEPTH_COMP'+'ONENT32F'];_0x3f7179['bindRender'+'buffer'](_0x3f7179['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3f7179['renderbuff'+'erStorage'](_0x3f7179['RENDERBUFF'+'ER'],_0x104448,_0xfcbdb1['width'],_0xfcbdb1['height']),_0x3f7179['framebuffe'+'rRenderbuf'+'fer'](_0x3f7179['FRAMEBUFFE'+'R'],_0x46ccc8,_0x3f7179['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3f7179['bindRender'+'buffer'](_0x3f7179['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0xd58c41,_0xfcbdb1));}if(_0xfcbdb1['_samples']>-0x5bf*0x3+0x256c+0x6*-0x35d){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x3f7179['createFram'+'ebuffer'](),_0xd58c41['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x813faf=((_0x2739cf=_0xfcbdb1['_colorBuff'+'ers'])==null?void(-0x4c*0x39+0x1e8d+-0xda1):_0x2739cf['length'])??-0xd7*0x6+0x1*0x1c55+-0x174b;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x1*0x1c7+0x2190+0x6d*-0x53)){const _0x2ef090=_0x3f7179['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x2ef090);const _0x4a3970=_0xd58c41['backBuffer'+'Format']===Se?_0x3f7179['RGBA8']:_0x3f7179['RGB8'];_0x3f7179['bindRender'+'buffer'](_0x3f7179['RENDERBUFF'+'ER'],_0x2ef090),_0x3f7179['renderbuff'+'erStorageM'+'ultisample'](_0x3f7179['RENDERBUFF'+'ER'],_0xfcbdb1['_samples'],_0x4a3970,_0xfcbdb1['width'],_0xfcbdb1['height']),_0x3f7179['framebuffe'+'rRenderbuf'+'fer'](_0x3f7179['FRAMEBUFFE'+'R'],_0x3f7179['COLOR_ATTA'+'CHMENT0'],_0x3f7179['RENDERBUFF'+'ER'],_0x2ef090);}else for(let _0x5dff80=0x11*0x35+0xb7+-0x4*0x10f;_0x5dff80<_0x813faf;++_0x5dff80){const _0x4b4cb6=_0xfcbdb1['getColorBu'+'ffer'](_0x5dff80);if(_0x4b4cb6){const _0x460a41=_0x3f7179['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x460a41),_0x3f7179['bindRender'+'buffer'](_0x3f7179['RENDERBUFF'+'ER'],_0x460a41),_0x3f7179['renderbuff'+'erStorageM'+'ultisample'](_0x3f7179['RENDERBUFF'+'ER'],_0xfcbdb1['_samples'],_0x4b4cb6['impl']['_glInterna'+'lFormat'],_0xfcbdb1['width'],_0xfcbdb1['height']),_0x3f7179['framebuffe'+'rRenderbuf'+'fer'](_0x3f7179['FRAMEBUFFE'+'R'],_0x3f7179['COLOR_ATTA'+'CHMENT0']+_0x5dff80,_0x3f7179['RENDERBUFF'+'ER'],_0x460a41);}}if(_0xfcbdb1['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0xd34c6c=_0xfcbdb1['_stencil']?_0x3f7179['DEPTH24_ST'+'ENCIL8']:_0x3f7179['DEPTH_COMP'+'ONENT32F'],_0x5c1672=_0xfcbdb1['_stencil']?_0x3f7179['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3f7179['DEPTH_ATTA'+'CHMENT'];let _0x482df8;const _0x39dbe9=_0xfcbdb1['_depthBuff'+'er'];_0x39dbe9&&(_0x482df8=_0x39dbe9['id']+':'+_0xfcbdb1['width']+':'+_0xfcbdb1['height']+':'+_0xfcbdb1['_samples']+':'+_0xd34c6c+':'+_0x5c1672,this['_glMsaaDep'+'thBuffer']=od(_0xd58c41)['get'](_0x482df8)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x3f7179['createRend'+'erbuffer'](),_0x3f7179['bindRender'+'buffer'](_0x3f7179['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x3f7179['renderbuff'+'erStorageM'+'ultisample'](_0x3f7179['RENDERBUFF'+'ER'],_0xfcbdb1['_samples'],_0xd34c6c,_0xfcbdb1['width'],_0xfcbdb1['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x3f7179['deleteRend'+'erbuffer'](this);},_0x39dbe9&&od(_0xd58c41)['set'](_0x482df8,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x482df8,_0x3f7179['framebuffe'+'rRenderbuf'+'fer'](_0x3f7179['FRAMEBUFFE'+'R'],_0x5c1672,_0x3f7179['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0xd58c41,_0xfcbdb1,'MSAA')),_0x813faf>0x201b+-0x11a7+0x1b*-0x89&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0xd58c41,_0xfcbdb1,_0x813faf),_0xd58c41['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x3f7179['drawBuffer'+'s'](_0x181b3e));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x535915,_0x29d0d1,_0x5653a0){const _0x343ee8=_0x535915['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x6a652c=0x1615*0x1+0x38e*-0x7+0x2cd;_0x6a652c<_0x5653a0;++_0x6a652c){const _0x1b3083=_0x29d0d1['getColorBu'+'ffer'](_0x6a652c),_0x4edf32=_0x343ee8['createFram'+'ebuffer']();_0x535915['setFramebu'+'ffer'](_0x4edf32);const _0x49f963=this['_glMsaaCol'+'orBuffers'][_0x6a652c];_0x343ee8['bindRender'+'buffer'](_0x343ee8['RENDERBUFF'+'ER'],_0x49f963),_0x343ee8['renderbuff'+'erStorageM'+'ultisample'](_0x343ee8['RENDERBUFF'+'ER'],_0x29d0d1['_samples'],_0x1b3083['impl']['_glInterna'+'lFormat'],_0x29d0d1['width'],_0x29d0d1['height']),_0x343ee8['framebuffe'+'rRenderbuf'+'fer'](_0x343ee8['FRAMEBUFFE'+'R'],_0x343ee8['COLOR_ATTA'+'CHMENT0'],_0x343ee8['RENDERBUFF'+'ER'],_0x49f963),_0x343ee8['drawBuffer'+'s']([_0x343ee8['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x535915,_0x29d0d1,'MSAA-MRT-s'+'rc'+_0x6a652c));const _0x182236=_0x343ee8['createFram'+'ebuffer']();_0x535915['setFramebu'+'ffer'](_0x182236),_0x343ee8['framebuffe'+'rTexture2D'](_0x343ee8['FRAMEBUFFE'+'R'],_0x343ee8['COLOR_ATTA'+'CHMENT0'],_0x1b3083['_cubemap']?_0x343ee8['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x29d0d1['_face']:_0x343ee8['TEXTURE_2D'],_0x1b3083['impl']['_glTexture'],0x1f2d+0x1ac9+-0x39f6),this['colorMrtFr'+'amebuffers'][_0x6a652c]=new cb(_0x4edf32,_0x182236),v['call'](()=>this['_checkFbo'](_0x535915,_0x29d0d1,'MSAA-MRT-d'+'st'+_0x6a652c));}}['_checkFbo'](_0x396d51,_0x5abe40,_0x3c05e8=''){const _0xe0bcfa=_0x396d51['gl'],_0x151ce3=_0xe0bcfa['checkFrame'+'bufferStat'+'us'](_0xe0bcfa['FRAMEBUFFE'+'R']);let _0x5d272d;switch(_0x151ce3){case _0xe0bcfa['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x5d272d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0xe0bcfa['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x5d272d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0xe0bcfa['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x5d272d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0xe0bcfa['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x5d272d='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x5d272d,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x5d272d+(',\x20render\x20t'+'arget:\x20')+_0x5abe40['name']+'\x20'+_0x3c05e8,_0x5abe40);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0xd4d+-0x24*-0x107+-0x3249,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x1*-0xe26+-0x118f+0x1*0x1fb5),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x3ea*-0x8+-0xc6e+-0x12e2),this['_isInitial'+'ized']=!(0x229c+0x964*-0x4+0x2f5*0x1);}['internalRe'+'solve'](_0x2c8317,_0x184ad4,_0x5b10f9,_0x28e546,_0x41aa07){v['assert'](_0x184ad4!==_0x5b10f9,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x2c8317['setScissor'](0x1709+-0x66*-0x3e+-0x457*0xb,-0x162a+0x2*-0x129d+0x3b64,_0x28e546['width'],_0x28e546['height']);const _0x1e53ed=_0x2c8317['gl'];_0x1e53ed['bindFrameb'+'uffer'](_0x1e53ed['READ_FRAME'+'BUFFER'],_0x184ad4),_0x1e53ed['bindFrameb'+'uffer'](_0x1e53ed['DRAW_FRAME'+'BUFFER'],_0x5b10f9),_0x1e53ed['blitFrameb'+'uffer'](-0x2*0x511+-0x1e4*0xf+0x267e,0x70a*-0x2+0x2eb+0xb29*0x1,_0x28e546['width'],_0x28e546['height'],0x25*-0x67+-0x6e*0x16+-0x1f*-0xc9,-0xb3*-0x19+0x15c5*0x1+-0x9d*0x40,_0x28e546['width'],_0x28e546['height'],_0x41aa07,_0x1e53ed['NEAREST']);}['resolve'](_0x477e62,_0x3f3588,_0x3f9917,_0x2c38f2){const _0x4cdbcc=_0x477e62['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x3f9917)for(let _0x2c2837=-0x1c*-0x133+0x1aae+-0x3c42;_0x2c2837<this['colorMrtFr'+'amebuffers']['length'];_0x2c2837++){const _0x31849e=this['colorMrtFr'+'amebuffers'][_0x2c2837];G['pushGpuMar'+'ker'](_0x477e62,'RESOLVE-MR'+'T'+_0x2c2837),this['internalRe'+'solve'](_0x477e62,_0x31849e['msaaFB'],_0x31849e['resolveFB'],_0x3f3588,_0x4cdbcc['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x477e62);}_0x2c38f2&&(G['pushGpuMar'+'ker'](_0x477e62,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x477e62,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x3f3588,_0x4cdbcc['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x477e62));}else G['pushGpuMar'+'ker'](_0x477e62,'RESOLVE'),this['internalRe'+'solve'](_0x477e62,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x3f3588,(_0x3f9917?_0x4cdbcc['COLOR_BUFF'+'ER_BIT']:0xe8*0x22+-0x26df+0x80f)|(_0x2c38f2?_0x4cdbcc['DEPTH_BUFF'+'ER_BIT']:-0x1ffb+-0x6b*0xf+-0x90*-0x44)),G['popGpuMark'+'er'](_0x477e62);_0x4cdbcc['bindFrameb'+'uffer'](_0x4cdbcc['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x5b6ece){this['queries']['forEach'](_0x35a51a=>_0x5b6ece['deleteQuer'+'y'](_0x35a51a)),this['queries']=null;}}class fb extends tb{constructor(_0x209234){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x209234,this['ext']=_0x209234['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x1a31ef=>this['device']['gl']['deleteQuer'+'y'](_0x1a31ef)),this['frameQueri'+'es']['forEach'](_0x3965af=>this['device']['gl']['deleteQuer'+'y'](_0x3965af)),this['previousFr'+'ameQueries']['forEach'](_0x2e8694=>_0x2e8694['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x32965a){if(this['ext']){const _0xf60a00=this['getSlot'](_0x32965a),_0x22c044=this['getQuery']();return this['frameQueri'+'es'][_0xf60a00]=_0x22c044,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x22c044),_0xf60a00;}}['end'](_0x2cc8ab){_0x2cc8ab!==void(0xd85+0x847*-0x1+-0x53e*0x1)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x57ae30=this['ext'],_0x4f627a=this['device']['gl'],_0xf578d4=this['device']['renderVers'+'ion'],_0x12a74d=this['frameQueri'+'es'];if(_0x12a74d['length']>0x3d*0x85+-0x63*-0x18+-0x269*0x11){this['frameQueri'+'es']=[];const _0x22e9f6=new ub();_0x22e9f6['queries']=_0x12a74d,_0x22e9f6['renderVers'+'ion']=_0xf578d4,this['previousFr'+'ameQueries']['push'](_0x22e9f6);}if(this['previousFr'+'ameQueries']['length']>0x12c1+0x2d*-0xa5+-0xa40*-0x1){const _0x41ee49=this['previousFr'+'ameQueries'][0x1344+-0x1b5d+-0x1*-0x819],_0x3c06d9=_0x41ee49['queries'],_0x1c7fdf=_0x3c06d9[_0x3c06d9['length']-(-0x16d7*0x1+-0x643+0x1*0x1d1b)],_0x1d8a5a=_0x4f627a['getQueryPa'+'rameter'](_0x1c7fdf,_0x4f627a['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x2341d5=_0x4f627a['getParamet'+'er'](_0x57ae30['GPU_DISJOI'+'NT_EXT']);if(_0x1d8a5a&&!_0x2341d5){this['previousFr'+'ameQueries']['shift']();const _0x2bb643=this['timings'];_0x2bb643['length']=-0x1165+-0xad*-0x4+0xeb1*0x1;for(let _0x550afb=-0x1609+0x2*-0x1008+-0x4eb*-0xb;_0x550afb<_0x3c06d9['length'];_0x550afb++){const _0xf5b50d=_0x3c06d9[_0x550afb],_0x26f8b8=_0x4f627a['getQueryPa'+'rameter'](_0xf5b50d,_0x4f627a['QUERY_RESU'+'LT']);_0x2bb643[_0x550afb]=_0x26f8b8*(-0x218*0x2+0x5dd*0x4+-0x1344+0.000001),this['freeQuerie'+'s']['push'](_0xf5b50d);}this['report'](_0x41ee49['renderVers'+'ion'],_0x2bb643);}_0x2341d5&&(this['previousFr'+'ameQueries']['forEach'](_0x3cb1e4=>{this['report'](_0x3cb1e4['renderVers'+'ion'],null),_0x3cb1e4['destroy'](_0x4f627a);}),this['previousFr'+'ameQueries']['length']=0x2cb+0x1697+0x169*-0x12);}super['request'](_0xf578d4);}}}const Tn=[];class pb extends Fh{constructor(_0x55dfe9,_0x563e78={}){super(_0x55dfe9,_0x563e78),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x12c1*0x1+-0x1d99+0x305b)),(_0x563e78=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0xa*0x29e+-0x14*-0x1e4+-0x3ffb),this['_contextLo'+'stHandler']=_0xe96a3c=>{_0xe96a3c['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x21fb0d=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x21fb0d&&_0x21fb0d['includes']('AppleWebKi'+'t')&&(_0x21fb0d['includes']('15.4')||_0x21fb0d['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x563e78['antialias']=!(-0xb20*-0x2+-0x305*0x2+-0x1035),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0xacf545=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x32d22a=_0xacf545?_0xacf545[0x2275+0x29*-0xb1+0x61b*-0x1]:null;if(_0x32d22a){const _0x527f04=parseFloat(_0x32d22a);(ye['name']==='windows'&&(_0x527f04>=0x4d*0x2d+-0x22f9+0x8*0x2bd||_0x527f04===0x4*0x76f+0x4*-0x16a+-0x17a1)||ye['name']==='android'&&_0x527f04>=0x21ea+0xb5b+0x25b*-0x13)&&(_0x563e78['antialias']=!(-0x47d*0x7+-0x6*0x32d+0x327a),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x32d22a));}}this['backBuffer'+'Antialias']=_0x563e78['antialias']??!(0x1d37+-0x3*0x46c+0x7f9*-0x2),_0x563e78['antialias']=!(0x3*0x1d2+0x1f23+-0x2498);const _0x4c0ed0=_0x563e78['gl']??_0x55dfe9['getContext']('webgl2',_0x563e78);if(!_0x4c0ed0)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x4c0ed0,this['isWebGL2']=!(0x1*0xb51+-0x1*-0xdd5+-0x6f*0x3a),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x2f9888=ye['browserNam'+'e']==='chrome',_0x13bbca=ye['browserNam'+'e']==='safari',_0x14e470=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x249e+0x47*-0x1+0x2*-0x122b);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x13bbca,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x14e470&&_0x2f9888&&!_0x563e78['alpha'],_0x55dfe9['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0xee2+-0x97*-0x29+-0x32*0xc8)),_0x55dfe9['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x246*-0xc+-0x1576+-0x5d1)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x13bbca&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x4c0ed0['SAMPLER_2D'],_0x4c0ed0['SAMPLER_CU'+'BE'],_0x4c0ed0['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x4c0ed0['INT_SAMPLE'+'R_2D'],_0x4c0ed0['SAMPLER_2D'+'_SHADOW'],_0x4c0ed0['SAMPLER_CU'+'BE_SHADOW'],_0x4c0ed0['SAMPLER_3D'],_0x4c0ed0['INT_SAMPLE'+'R_3D'],_0x4c0ed0['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x4c0ed0['SAMPLER_2D'+'_ARRAY'],_0x4c0ed0['INT_SAMPLE'+'R_2D_ARRAY'],_0x4c0ed0['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x4c0ed0['REPEAT'],_0x4c0ed0['CLAMP_TO_E'+'DGE'],_0x4c0ed0['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x4c0ed0['FUNC_ADD'],_0x4c0ed0['FUNC_SUBTR'+'ACT'],_0x4c0ed0['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x4c0ed0['MIN'],_0x4c0ed0['MAX']],this['glBlendFun'+'ctionColor']=[_0x4c0ed0['ZERO'],_0x4c0ed0['ONE'],_0x4c0ed0['SRC_COLOR'],_0x4c0ed0['ONE_MINUS_'+'SRC_COLOR'],_0x4c0ed0['DST_COLOR'],_0x4c0ed0['ONE_MINUS_'+'DST_COLOR'],_0x4c0ed0['SRC_ALPHA'],_0x4c0ed0['SRC_ALPHA_'+'SATURATE'],_0x4c0ed0['ONE_MINUS_'+'SRC_ALPHA'],_0x4c0ed0['DST_ALPHA'],_0x4c0ed0['ONE_MINUS_'+'DST_ALPHA'],_0x4c0ed0['CONSTANT_C'+'OLOR'],_0x4c0ed0['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x4c0ed0['ZERO'],_0x4c0ed0['ONE'],_0x4c0ed0['SRC_COLOR'],_0x4c0ed0['ONE_MINUS_'+'SRC_COLOR'],_0x4c0ed0['DST_COLOR'],_0x4c0ed0['ONE_MINUS_'+'DST_COLOR'],_0x4c0ed0['SRC_ALPHA'],_0x4c0ed0['SRC_ALPHA_'+'SATURATE'],_0x4c0ed0['ONE_MINUS_'+'SRC_ALPHA'],_0x4c0ed0['DST_ALPHA'],_0x4c0ed0['ONE_MINUS_'+'DST_ALPHA'],_0x4c0ed0['CONSTANT_A'+'LPHA'],_0x4c0ed0['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x4c0ed0['NEVER'],_0x4c0ed0['LESS'],_0x4c0ed0['EQUAL'],_0x4c0ed0['LEQUAL'],_0x4c0ed0['GREATER'],_0x4c0ed0['NOTEQUAL'],_0x4c0ed0['GEQUAL'],_0x4c0ed0['ALWAYS']],this['glStencilO'+'p']=[_0x4c0ed0['KEEP'],_0x4c0ed0['ZERO'],_0x4c0ed0['REPLACE'],_0x4c0ed0['INCR'],_0x4c0ed0['INCR_WRAP'],_0x4c0ed0['DECR'],_0x4c0ed0['DECR_WRAP'],_0x4c0ed0['INVERT']],this['glClearFla'+'g']=[0x1*-0x189b+0x19c6*0x1+0x1*-0x12b,_0x4c0ed0['COLOR_BUFF'+'ER_BIT'],_0x4c0ed0['DEPTH_BUFF'+'ER_BIT'],_0x4c0ed0['COLOR_BUFF'+'ER_BIT']|_0x4c0ed0['DEPTH_BUFF'+'ER_BIT'],_0x4c0ed0['STENCIL_BU'+'FFER_BIT'],_0x4c0ed0['STENCIL_BU'+'FFER_BIT']|_0x4c0ed0['COLOR_BUFF'+'ER_BIT'],_0x4c0ed0['STENCIL_BU'+'FFER_BIT']|_0x4c0ed0['DEPTH_BUFF'+'ER_BIT'],_0x4c0ed0['STENCIL_BU'+'FFER_BIT']|_0x4c0ed0['COLOR_BUFF'+'ER_BIT']|_0x4c0ed0['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x7*0x46d+-0x109a+0x1*-0xe61,_0x4c0ed0['BACK'],_0x4c0ed0['FRONT'],_0x4c0ed0['FRONT_AND_'+'BACK']],this['glFilter']=[_0x4c0ed0['NEAREST'],_0x4c0ed0['LINEAR'],_0x4c0ed0['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x4c0ed0['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x4c0ed0['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x4c0ed0['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x4c0ed0['POINTS'],_0x4c0ed0['LINES'],_0x4c0ed0['LINE_LOOP'],_0x4c0ed0['LINE_STRIP'],_0x4c0ed0['TRIANGLES'],_0x4c0ed0['TRIANGLE_S'+'TRIP'],_0x4c0ed0['TRIANGLE_F'+'AN']],this['glType']=[_0x4c0ed0['BYTE'],_0x4c0ed0['UNSIGNED_B'+'YTE'],_0x4c0ed0['SHORT'],_0x4c0ed0['UNSIGNED_S'+'HORT'],_0x4c0ed0['INT'],_0x4c0ed0['UNSIGNED_I'+'NT'],_0x4c0ed0['FLOAT'],_0x4c0ed0['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x4c0ed0['BOOL']]=ca,this['pcUniformT'+'ype'][_0x4c0ed0['INT']]=ln,this['pcUniformT'+'ype'][_0x4c0ed0['FLOAT']]=$s,this['pcUniformT'+'ype'][_0x4c0ed0['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x4c0ed0['FLOAT_VEC3']]=$t,this['pcUniformT'+'ype'][_0x4c0ed0['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x4c0ed0['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x4c0ed0['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x4c0ed0['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x4c0ed0['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x4c0ed0['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x4c0ed0['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x4c0ed0['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x4c0ed0['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x4c0ed0['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x4c0ed0['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x4c0ed0['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x4c0ed0['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x4c0ed0['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x4c0ed0['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x4c0ed0['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x4c0ed0['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x4c0ed0['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x4c0ed0['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x4c0ed0['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x4c0ed0['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x4c0ed0['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x4c0ed0['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x4c0ed0['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x4c0ed0['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x4c0ed0['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x4c0ed0['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x4c0ed0['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x4c0ed0['TEXTURE_2D']]=-0x1e8a+-0x7ed*0x1+-0x1*-0x2677,this['targetToSl'+'ot'][_0x4c0ed0['TEXTURE_CU'+'BE_MAP']]=-0x2315+-0x1*-0xd3+-0x1*-0x2243,this['targetToSl'+'ot'][_0x4c0ed0['TEXTURE_3D']]=0x1012+0x2283+-0x3293;let _0x198226,_0x7dc731,_0x5b8a7f,_0x1dc440,_0x389d69;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x19c773,_0x2be08b){_0x19c773['value']!==_0x2be08b&&(_0x4c0ed0['uniform1i'](_0x19c773['locationId'],_0x2be08b),_0x19c773['value']=_0x2be08b);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][$s]=function(_0x17938c,_0x41c99e){_0x17938c['value']!==_0x41c99e&&(_0x4c0ed0['uniform1f'](_0x17938c['locationId'],_0x41c99e),_0x17938c['value']=_0x41c99e);},this['commitFunc'+'tion'][or]=function(_0x446991,_0x5b0e88){_0x389d69=_0x446991['value'],_0x198226=_0x5b0e88[-0x1be+-0x9ba+-0xb78*-0x1],_0x7dc731=_0x5b0e88[-0xfdf+0x1*-0x129f+0x227f],(_0x389d69[-0x21c1+-0x1613+0x3*0x129c]!==_0x198226||_0x389d69[-0xe86+-0x13*-0x1af+-0x1176]!==_0x7dc731)&&(_0x4c0ed0['uniform2fv'](_0x446991['locationId'],_0x5b0e88),_0x389d69[0x1545+-0x23fc+0x1*0xeb7]=_0x198226,_0x389d69[-0xc*0xa2+0x1900+0x5*-0x37b]=_0x7dc731);},this['commitFunc'+'tion'][$t]=function(_0x2376df,_0x5a1771){_0x389d69=_0x2376df['value'],_0x198226=_0x5a1771[0x1f5f+-0x1e67*-0x1+-0x3dc6],_0x7dc731=_0x5a1771[0xd7c*-0x1+0x2679+0xc7e*-0x2],_0x5b8a7f=_0x5a1771[0x90f*0x1+0x230*-0x11+0x1c23],(_0x389d69[0x51b*0x3+-0x6*0x1b3+-0x1b5*0x3]!==_0x198226||_0x389d69[-0x117b+0x3*-0x166+0x1*0x15ae]!==_0x7dc731||_0x389d69[0xa21+-0x1*-0x256a+-0x2f89]!==_0x5b8a7f)&&(_0x4c0ed0['uniform3fv'](_0x2376df['locationId'],_0x5a1771),_0x389d69[0x6c8*-0x3+0x1b58+-0x700]=_0x198226,_0x389d69[-0x19*-0x101+0x34*0xb6+-0x3e10]=_0x7dc731,_0x389d69[-0x2*-0x11a2+-0x1233+0x110f*-0x1]=_0x5b8a7f);},this['commitFunc'+'tion'][xa]=function(_0x3ceb39,_0x86c9d8){_0x389d69=_0x3ceb39['value'],_0x198226=_0x86c9d8[0x237b+0x6*0xe5+0x1*-0x28d9],_0x7dc731=_0x86c9d8[0x51c+-0x4fe+0x1d*-0x1],_0x5b8a7f=_0x86c9d8[-0x6b9*0x3+-0x21aa+0x35d7],_0x1dc440=_0x86c9d8[0x130a+-0x89*0x47+0x12f8],(_0x389d69[0x2500*0x1+-0x18d1*0x1+0x1*-0xc2f]!==_0x198226||_0x389d69[-0x2*0xe92+0x532+0x17f3]!==_0x7dc731||_0x389d69[-0x8*0xc1+0xce9+-0x6df]!==_0x5b8a7f||_0x389d69[0x2*-0x93f+-0x1*-0x15a7+0x193*-0x2]!==_0x1dc440)&&(_0x4c0ed0['uniform4fv'](_0x3ceb39['locationId'],_0x86c9d8),_0x389d69[-0x3f0+0x1*-0x65b+-0x9b*-0x11]=_0x198226,_0x389d69[0x29b*0x5+-0x1*-0xdb+-0xde1]=_0x7dc731,_0x389d69[-0x37*0x3e+0x489+0x8cb]=_0x5b8a7f,_0x389d69[-0x1197+-0x8d8+0x1a72]=_0x1dc440);},this['commitFunc'+'tion'][Zr]=function(_0x527c62,_0x24a6e9){_0x389d69=_0x527c62['value'],_0x198226=_0x24a6e9[0xc41*-0x1+-0x1483+0x20c4],_0x7dc731=_0x24a6e9[-0x39*0x36+-0x2f6+-0x4ff*-0x3],(_0x389d69[-0xc15+0x42*0x1c+0x1*0x4dd]!==_0x198226||_0x389d69[0x17*-0x4f+0x1*-0x1f6a+0x7b4*0x5]!==_0x7dc731)&&(_0x4c0ed0['uniform2iv'](_0x527c62['locationId'],_0x24a6e9),_0x389d69[0x241+-0x17be+-0x157d*-0x1]=_0x198226,_0x389d69[0xef4+-0x717+-0x7dc*0x1]=_0x7dc731);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x1a438e,_0x267b18){_0x389d69=_0x1a438e['value'],_0x198226=_0x267b18[-0x1*0xb0d+0x1*0x128d+-0x780*0x1],_0x7dc731=_0x267b18[-0xe83*0x2+-0x65*-0xf+0x171c],_0x5b8a7f=_0x267b18[0x2359*-0x1+0x16eb+0xc70],(_0x389d69[0x2*-0x553+0x2515+-0x1*0x1a6f]!==_0x198226||_0x389d69[0x1b*0x119+-0x250c+0x76a]!==_0x7dc731||_0x389d69[0x1c*-0x61+0x1310+-0x17*0x5e]!==_0x5b8a7f)&&(_0x4c0ed0['uniform3iv'](_0x1a438e['locationId'],_0x267b18),_0x389d69[0xb*-0x1c9+-0x5*0x316+0x2311]=_0x198226,_0x389d69[-0x131+-0x6d8+0x80a]=_0x7dc731,_0x389d69[-0x34f*0x4+-0x1*-0x3a9+0x995]=_0x5b8a7f);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x28d239,_0x24ace3){_0x389d69=_0x28d239['value'],_0x198226=_0x24ace3[-0xfec*0x1+-0x200*0x2+0x19*0xcc],_0x7dc731=_0x24ace3[0x1*0x1798+0x6c3+-0x1e5a],_0x5b8a7f=_0x24ace3[0xbee*0x1+0x62f+-0x121b],_0x1dc440=_0x24ace3[-0xc8+-0x4*0x15d+0x63f],(_0x389d69[0x1db2+0x19b9+-0x376b]!==_0x198226||_0x389d69[-0x19ec+0x162d+-0x18*-0x28]!==_0x7dc731||_0x389d69[-0x17*-0x14f+-0x1021*-0x1+-0x2e38]!==_0x5b8a7f||_0x389d69[0x636*0x1+-0x978+0x345]!==_0x1dc440)&&(_0x4c0ed0['uniform4iv'](_0x28d239['locationId'],_0x24ace3),_0x389d69[0xb85+-0x21*0xd+-0xa8*0xf]=_0x198226,_0x389d69[0x10c1+-0x18a6+0x7e6]=_0x7dc731,_0x389d69[0xd*-0xa9+0x1a5a+0x11c3*-0x1]=_0x5b8a7f,_0x389d69[0xcc2+0x159e+-0x225d]=_0x1dc440);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0xa179d5,_0x47f905){_0x4c0ed0['uniformMat'+'rix2fv'](_0xa179d5['locationId'],!(0x135*-0x1+-0x1c37+0x1d6d),_0x47f905);},this['commitFunc'+'tion'][ko]=function(_0x46fee0,_0x298991){_0x4c0ed0['uniformMat'+'rix3fv'](_0x46fee0['locationId'],!(0x1b7+0x1*0xe3a+-0xff0),_0x298991);},this['commitFunc'+'tion'][Sa]=function(_0x1c83c2,_0xb0ebec){_0x4c0ed0['uniformMat'+'rix4fv'](_0x1c83c2['locationId'],!(0x7a*-0x19+0x213*-0x4+0x1437),_0xb0ebec);},this['commitFunc'+'tion'][Dc]=function(_0x1c1ee1,_0x5ca758){_0x4c0ed0['uniform1fv'](_0x1c1ee1['locationId'],_0x5ca758);},this['commitFunc'+'tion'][Lc]=function(_0x3f5bf5,_0x8d0d4a){_0x4c0ed0['uniform2fv'](_0x3f5bf5['locationId'],_0x8d0d4a);},this['commitFunc'+'tion'][Fc]=function(_0x483e4a,_0x15776b){_0x4c0ed0['uniform3fv'](_0x483e4a['locationId'],_0x15776b);},this['commitFunc'+'tion'][lp]=function(_0x247eb4,_0x32a45d){_0x4c0ed0['uniform4fv'](_0x247eb4['locationId'],_0x32a45d);},this['commitFunc'+'tion'][va]=function(_0x3016aa,_0x14948e){_0x3016aa['value']!==_0x14948e&&(_0x4c0ed0['uniform1ui'](_0x3016aa['locationId'],_0x14948e),_0x3016aa['value']=_0x14948e);},this['commitFunc'+'tion'][ba]=function(_0x39ee79,_0x1f01f5){_0x389d69=_0x39ee79['value'],_0x198226=_0x1f01f5[0x50e*-0x1+-0x1a2*0x3+-0x5b*-0x1c],_0x7dc731=_0x1f01f5[-0x1291*-0x1+-0x22c3*-0x1+-0x3553],(_0x389d69[0x140c+-0xfe9*0x1+0x161*-0x3]!==_0x198226||_0x389d69[-0x8*-0x3d3+0x1aa5+-0x393c]!==_0x7dc731)&&(_0x4c0ed0['uniform2ui'+'v'](_0x39ee79['locationId'],_0x1f01f5),_0x389d69[-0x2517+0x1deb+0x72c]=_0x198226,_0x389d69[-0x1d12+-0x1def+0x3b02]=_0x7dc731);},this['commitFunc'+'tion'][wa]=function(_0x9ab0eb,_0x2d1caf){_0x389d69=_0x9ab0eb['value'],_0x198226=_0x2d1caf[-0x244b+-0x1326+0x3771],_0x7dc731=_0x2d1caf[-0x8af+0xb3c*0x1+-0x146*0x2],_0x5b8a7f=_0x2d1caf[-0x12f*-0x14+-0x1570+-0x23a],(_0x389d69[0x1911+-0x2*0xedb+0x29*0x1d]!==_0x198226||_0x389d69[0x412+-0xde0+-0x1f*-0x51]!==_0x7dc731||_0x389d69[0x97a+-0x1a53+0x5*0x35f]!==_0x5b8a7f)&&(_0x4c0ed0['uniform3ui'+'v'](_0x9ab0eb['locationId'],_0x2d1caf),_0x389d69[0xe3f*0x1+-0x2660+0x47*0x57]=_0x198226,_0x389d69[0x6*0xca+-0x1*-0x9d9+-0xe94]=_0x7dc731,_0x389d69[0x148c+-0x2*-0xe94+-0x18d9*0x2]=_0x5b8a7f);},this['commitFunc'+'tion'][Ta]=function(_0x3b1518,_0x27dd26){_0x389d69=_0x3b1518['value'],_0x198226=_0x27dd26[0x1*-0x7d3+-0x116f*-0x1+-0x99c*0x1],_0x7dc731=_0x27dd26[-0x224d*-0x1+-0x1a27+-0x825],_0x5b8a7f=_0x27dd26[0x1*0xe75+0x13b*-0x6+0x3*-0x25b],_0x1dc440=_0x27dd26[-0x48f+-0x1e61+-0x185*-0x17],(_0x389d69[0x5fb*-0x3+0x1c74+-0x3*0x381]!==_0x198226||_0x389d69[-0x2114+-0x10e6+0x31fb]!==_0x7dc731||_0x389d69[0x5a4+-0x1cf3*-0x1+0xb87*-0x3]!==_0x5b8a7f||_0x389d69[-0x1*-0x1eb3+-0x20ab*-0x1+-0x31*0x14b]!==_0x1dc440)&&(_0x4c0ed0['uniform4ui'+'v'](_0x3b1518['locationId'],_0x27dd26),_0x389d69[-0x24e6*-0x1+0xb38+0x1*-0x301e]=_0x198226,_0x389d69[-0x1eb6+-0x1c+0x1ed3]=_0x7dc731,_0x389d69[-0x1*0x20c5+0xc1*0x2f+-0x2a8]=_0x5b8a7f,_0x389d69[-0x1848+-0x224+0x1a6f]=_0x1dc440);},this['commitFunc'+'tion'][Aa]=function(_0x443a49,_0x775d2a){_0x4c0ed0['uniform1iv'](_0x443a49['locationId'],_0x775d2a);},this['commitFunc'+'tion'][Oc]=function(_0x5bdb2e,_0x4e06e9){_0x4c0ed0['uniform1ui'+'v'](_0x5bdb2e['locationId'],_0x4e06e9);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x1bc8ac,_0xa56a1b){_0x4c0ed0['uniform2iv'](_0x1bc8ac['locationId'],_0xa56a1b);},this['commitFunc'+'tion'][Bc]=function(_0x2ce40c,_0x3d861a){_0x4c0ed0['uniform2ui'+'v'](_0x2ce40c['locationId'],_0x3d861a);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x46ba4e,_0x1695a6){_0x4c0ed0['uniform3iv'](_0x46ba4e['locationId'],_0x1695a6);},this['commitFunc'+'tion'][zc]=function(_0xfc43b0,_0xbfb3c1){_0x4c0ed0['uniform3ui'+'v'](_0xfc43b0['locationId'],_0xbfb3c1);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x434e08,_0x1cb9d0){_0x4c0ed0['uniform4iv'](_0x434e08['locationId'],_0x1cb9d0);},this['commitFunc'+'tion'][hp]=function(_0x119d34,_0x2aca1c){_0x4c0ed0['uniform4ui'+'v'](_0x119d34['locationId'],_0x2aca1c);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x3f2f37,_0x1ff35e){_0x4c0ed0['uniformMat'+'rix4fv'](_0x3f2f37['locationId'],!(-0x2*0x3ec+0x5bc+0x21d*0x1),_0x1ff35e);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x272019=this['gl'];this['feedback']&&_0x272019['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x48f*0x6+0xa1*-0x2e+-0x51*-0x5)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x2097+0xb7d+0x3*-0xeb1)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x1af135){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x1af135;}['updateBack'+'bufferForm'+'at'](_0x131279){const _0x18642f=this['gl'];_0x18642f['bindFrameb'+'uffer'](_0x18642f['FRAMEBUFFE'+'R'],_0x131279);const _0x5212b4=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x5212b4?Se:dr;}['updateBack'+'buffer'](){const _0x4049d0=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x4049d0)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x4fb+-0x5*0x2d5+-0x92f*-0x1),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x17d301,_0x204663){return new sb();}['createInde'+'xBufferImp'+'l'](_0x319b41){return new ib(_0x319b41);}['createShad'+'erImpl'](_0x171e75){return new lb(_0x171e75);}['createText'+'ureImpl'](_0x3b9b0b){return new hb(_0x3b9b0b);}['createRend'+'erTargetIm'+'pl'](_0x2b0d00){return new db();}['pushMarker'](_0x9902db){if(ye['browser']&&window['spector']){const _0x4a2e06=G['toString']();window['spector']['setMarker'](_0x4a2e06+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x22552c=G['toString']();_0x22552c['length']?window['spector']['setMarker'](_0x22552c+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x42eb2a=this['gl'];let _0x59a5f2='highp';if(_0x42eb2a['getShaderP'+'recisionFo'+'rmat']){const _0x4a912c=_0x42eb2a['getShaderP'+'recisionFo'+'rmat'](_0x42eb2a['VERTEX_SHA'+'DER'],_0x42eb2a['HIGH_FLOAT']),_0x55453d=_0x42eb2a['getShaderP'+'recisionFo'+'rmat'](_0x42eb2a['VERTEX_SHA'+'DER'],_0x42eb2a['MEDIUM_FLO'+'AT']),_0x8ff328=_0x42eb2a['getShaderP'+'recisionFo'+'rmat'](_0x42eb2a['FRAGMENT_S'+'HADER'],_0x42eb2a['HIGH_FLOAT']),_0x5575ae=_0x42eb2a['getShaderP'+'recisionFo'+'rmat'](_0x42eb2a['FRAGMENT_S'+'HADER'],_0x42eb2a['MEDIUM_FLO'+'AT']);if(_0x4a912c&&_0x55453d&&_0x8ff328&&_0x5575ae){const _0x2a1001=_0x4a912c['precision']>-0x10a*0x8+-0x1b22+0x2372&&_0x8ff328['precision']>-0x215f*0x1+-0x2541*-0x1+-0x3e2,_0x4ff8b6=_0x55453d['precision']>-0x1c3+0x1*0x1b69+-0x19a6&&_0x5575ae['precision']>0xf07+0xc*-0xe0+-0x487;_0x2a1001||(_0x4ff8b6?(_0x59a5f2='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x59a5f2='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x59a5f2;}['getExtensi'+'on'](){for(let _0x425b2f=-0x1*0x2587+0x2079+0x2*0x287;_0x425b2f<arguments['length'];_0x425b2f++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x425b2f])!==-(0x6*-0x4b7+0x11f2+0xa59))return this['gl']['getExtensi'+'on'](arguments[_0x425b2f]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x3b5c97=this['gl'];this['supportedE'+'xtensions']=_0x3b5c97['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x2623+-0x2*-0x802+-0x3627),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x25854a=this['gl'];let _0x1c97a2;const _0x3f54f6=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0xff33b5=_0x25854a['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0xff33b5==null?void(0x187f+-0xae5+-0xd9a):_0xff33b5['antialias'])??!(-0x17ba+0x3*0xaed+-0x2*0x486),this['supportsSt'+'encil']=(_0xff33b5==null?void(-0x1023+-0x190*0xa+0x2f*0xad):_0xff33b5['stencil'])??!(0x2054*0x1+0x6*-0x1d5+-0x1555),this['maxTexture'+'Size']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x25854a['getParamet'+'er'](_0x25854a['MAX_3D_TEX'+'TURE_SIZE']),_0x1c97a2=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x1c97a2?_0x25854a['getParamet'+'er'](_0x1c97a2['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x1c97a2?_0x25854a['getParamet'+'er'](_0x1c97a2['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x83f683=/\bMali-G52+/,_0xd42cdb=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x3f54f6['match'](_0xd42cdb))&&!this['unmaskedRe'+'nderer']['match'](_0x83f683),_0x1c97a2=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x1c97a2?_0x25854a['getParamet'+'er'](_0x1c97a2['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x10f1+0xe*0xd4+-0x1c88;const _0x17c270=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x17c270?_0x25854a['getParamet'+'er'](_0x25854a['MAX_SAMPLE'+'S']):-0x1*0x1d6+0x19da+0x3*-0x801,this['maxSamples']=Math['min'](this['maxSamples'],0x1c1b*-0x1+0x1*0x2655+-0x1*0xa36),this['samples']=_0x17c270&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x1*-0xf8+-0x11cf+0x10d8,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=-0x184e+-0x1fc7+0x381d&&(this['supportsAr'+'eaLights']=!(-0x1*-0x13af+0x14ca+0x50f*-0x8));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x22ef8a=this['gl'];_0x22ef8a['disable'](_0x22ef8a['BLEND']),_0x22ef8a['blendFunc'](_0x22ef8a['ONE'],_0x22ef8a['ZERO']),_0x22ef8a['blendEquat'+'ion'](_0x22ef8a['FUNC_ADD']),_0x22ef8a['colorMask'](!(0x83*-0x25+-0x1*-0x3fa+0xef5),!(-0xf16*-0x1+-0x3*-0x817+-0x9b*0x41),!(-0x216f+0x839+-0x2*-0xc9b),!(-0xb98+-0x7*0x52a+0x2fbe)),_0x22ef8a['blendColor'](-0x373*0x7+-0x6b6+0x1edb,-0x167*0x2+-0x1*-0x164e+-0x1380,0x7*0xb5+0xd*0xdf+-0x1046,0x27a*-0x2+0xd5b+0x9*-0xef),_0x22ef8a['enable'](_0x22ef8a['CULL_FACE']),this['cullFace']=_0x22ef8a['BACK'],_0x22ef8a['cullFace'](_0x22ef8a['BACK']),_0x22ef8a['enable'](_0x22ef8a['DEPTH_TEST']),_0x22ef8a['depthFunc'](_0x22ef8a['LEQUAL']),_0x22ef8a['depthMask'](!(0x11*0x146+-0x20fe+0xb58)),this['stencil']=!(-0x156*-0x13+0x16a5+-0x2*0x1803),_0x22ef8a['disable'](_0x22ef8a['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x14dd+0xa*-0xa8+-0xe4d,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0xb6b*-0x2+0x1995+-0x2f6c,_0x22ef8a['stencilFun'+'c'](_0x22ef8a['ALWAYS'],-0x5d1*-0x3+-0x6ce+0x19*-0x6d,-0x2105+-0xbd0+-0x7*-0x68c),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=0x1*-0x12af+0x55a+0x395*0x4,this['stencilWri'+'teMaskBack']=0xc5*-0x24+-0x1*-0x15c1+0x6f2,_0x22ef8a['stencilOp'](_0x22ef8a['KEEP'],_0x22ef8a['KEEP'],_0x22ef8a['KEEP']),_0x22ef8a['stencilMas'+'k'](0x2385+-0xee0+-0x13a6),this['alphaToCov'+'erage']=!(-0x1c4a+-0xd15+-0x10*-0x296),this['raster']=!(-0xee4+-0x2*-0x62e+0xa2*0x4),_0x22ef8a['disable'](_0x22ef8a['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x22ef8a['disable'](_0x22ef8a['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x59b+0xcef+0x41*-0x49),_0x22ef8a['disable'](_0x22ef8a['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x1f*-0xfb+-0x3*0xb4c+-0x279*-0x1a,_0x22ef8a['clearDepth'](-0x109e+0x2213+0x2*-0x8ba),this['clearColor']=new Y(0x1fcb+-0x2043+0x78,0x2171*-0x1+0x2f*-0x20+0x393*0xb,-0x2f*0x59+-0x1414+0x246b,0x1820+0x81a+-0x4b*0x6e),_0x22ef8a['clearColor'](0x1733*0x1+0x1309+-0x4*0xa8f,-0x36*0x8f+-0x1a0+0x2*0xfe5,0x14f1+0xd3b+-0x3*0xb64,-0x11f4+-0x22*-0x10e+-0x11e8),this['clearStenc'+'il']=0x27*-0x5a+0x1df*-0x1+0x1*0xf95,_0x22ef8a['clearStenc'+'il'](0x592+-0x1*-0x1613+0x1*-0x1ba5),_0x22ef8a['hint'](_0x22ef8a['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x22ef8a['NICEST']),_0x22ef8a['enable'](_0x22ef8a['SCISSOR_TE'+'ST']),_0x22ef8a['pixelStore'+'i'](_0x22ef8a['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x22ef8a['NONE']),this['unpackFlip'+'Y']=!(-0x30a+-0x1757+-0x2*-0xd31),_0x22ef8a['pixelStore'+'i'](_0x22ef8a['UNPACK_FLI'+'P_Y_WEBGL'],!(0x1a3*0xd+0x16b2+-0x43*0xa8)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x8*-0x438+0x122c*-0x2+-0x299*-0x1),_0x22ef8a['pixelStore'+'i'](_0x22ef8a['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x26c9+-0x5fe*-0x5+-0x2a*0x1a3)),_0x22ef8a['pixelStore'+'i'](_0x22ef8a['UNPACK_ALI'+'GNMENT'],0x1*-0x204b+0x547+0x1b05);}['initTextur'+'eUnits'](_0x1bface=-0x16e*-0x14+0x1ea2+-0x3b2a*0x1){this['textureUni'+'ts']=[];for(let _0x3c6957=0x20bb+0x3b*-0x37+0xa07*-0x2;_0x3c6957<_0x1bface;_0x3c6957++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x20cb*-0x1+-0x26b5+0x4780,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x2e2a0c of this['shaders'])_0x2e2a0c['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0xe3c41a of this['shaders'])_0xe3c41a['restoreCon'+'text']();}['setViewpor'+'t'](_0x55f2d4,_0x34ba08,_0x1d520f,_0x170387){(this['vx']!==_0x55f2d4||this['vy']!==_0x34ba08||this['vw']!==_0x1d520f||this['vh']!==_0x170387)&&(this['gl']['viewport'](_0x55f2d4,_0x34ba08,_0x1d520f,_0x170387),this['vx']=_0x55f2d4,this['vy']=_0x34ba08,this['vw']=_0x1d520f,this['vh']=_0x170387);}['setScissor'](_0x17f302,_0x33c953,_0xa5fb64,_0x558d82){(this['sx']!==_0x17f302||this['sy']!==_0x33c953||this['sw']!==_0xa5fb64||this['sh']!==_0x558d82)&&(this['gl']['scissor'](_0x17f302,_0x33c953,_0xa5fb64,_0x558d82),this['sx']=_0x17f302,this['sy']=_0x33c953,this['sw']=_0xa5fb64,this['sh']=_0x558d82);}['setFramebu'+'ffer'](_0x4779e6){if(this['activeFram'+'ebuffer']!==_0x4779e6){const _0x134569=this['gl'];_0x134569['bindFrameb'+'uffer'](_0x134569['FRAMEBUFFE'+'R'],_0x4779e6),this['activeFram'+'ebuffer']=_0x4779e6;}}['copyRender'+'Target'](_0xccd347,_0x3d635c,_0x49d16a,_0x36cf51){var _0x47f6d2,_0x43f21f;const _0x1fbb5e=this['gl'];if(_0xccd347===this['backBuffer']&&(_0xccd347=null),_0x49d16a){if(_0x3d635c){if(_0xccd347){if(!_0xccd347['_colorBuff'+'er']||!_0x3d635c['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1f44+-0x27*0xb5+-0x3b0);if(_0xccd347['_colorBuff'+'er']['_format']!==_0x3d635c['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x26de+0x1e9d+-0x457a);}}else{if(!_0xccd347['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x480*-0x6+-0x704+-0x1f*0xa5);}}if(_0x36cf51&&_0xccd347&&!_0xccd347['_depth']){if(!_0xccd347['_depthBuff'+'er']||!_0x3d635c['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x6*0x60f+-0x1*-0x257e+-0x49d7);if(_0xccd347['_depthBuff'+'er']['_format']!==_0x3d635c['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x9*0x187+-0x734+-0x68a);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x2fffa3=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x3d635c,this['updateBegi'+'n']();const _0x50ff0e=_0xccd347?_0xccd347['impl']['_glFrameBu'+'ffer']:(_0x47f6d2=this['backBuffer'])==null?void(0x8a8*-0x1+-0x1*-0x2052+-0xe9*0x1a):_0x47f6d2['impl']['_glFrameBu'+'ffer'],_0xd12db=_0x3d635c?_0x3d635c['impl']['_glFrameBu'+'ffer']:(_0x43f21f=this['backBuffer'])==null?void(-0x2a3*-0xa+-0x3d0+-0x1*0x168e):_0x43f21f['impl']['_glFrameBu'+'ffer'];v['assert'](_0x50ff0e!==_0xd12db,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x1fbb5e['bindFrameb'+'uffer'](_0x1fbb5e['READ_FRAME'+'BUFFER'],_0x50ff0e),_0x1fbb5e['bindFrameb'+'uffer'](_0x1fbb5e['DRAW_FRAME'+'BUFFER'],_0xd12db);const _0x5580c1=_0xccd347?_0xccd347['width']:_0x3d635c?_0x3d635c['width']:this['width'],_0xe08da0=_0xccd347?_0xccd347['height']:_0x3d635c?_0x3d635c['height']:this['height'];return _0x1fbb5e['blitFrameb'+'uffer'](0x61*0x26+-0x1*-0x1e4c+-0x2cb2,0x1436+-0x1a28+0x2*0x2f9,_0x5580c1,_0xe08da0,-0x1*-0x1993+0x13*-0x76+-0x10d1,-0x1ba0+-0x243b+-0x3*-0x1549,_0x5580c1,_0xe08da0,(_0x49d16a?_0x1fbb5e['COLOR_BUFF'+'ER_BIT']:-0x11c0+0xcf2+0xcd*0x6)|(_0x36cf51?_0x1fbb5e['DEPTH_BUFF'+'ER_BIT']:-0xad*0x1d+-0x20f8+0x3491),_0x1fbb5e['NEAREST']),this['renderTarg'+'et']=_0x2fffa3,_0x1fbb5e['bindFrameb'+'uffer'](_0x1fbb5e['FRAMEBUFFE'+'R'],_0x2fffa3?_0x2fffa3['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0x1f36+0xdfd*0x1+0x1139);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0xc17334){const _0x2a4f4a=_0xc17334['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x2a4f4a,v['assert'](_0x2a4f4a),G['pushGpuMar'+'ker'](this,'Pass:'+_0xc17334['name']+'\x20RT:'+_0x2a4f4a['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x4bec5d,height:_0x273393}=_0x2a4f4a;this['setViewpor'+'t'](-0x1c0c+-0x16e7+-0x1*-0x32f3,-0x1c91+0x1c7a+-0x1*-0x17,_0x4bec5d,_0x273393),this['setScissor'](-0x2600+-0x12f+-0x272f*-0x1,0x8*0xa0+0xfb9+-0x425*0x5,_0x4bec5d,_0x273393);const _0x432b44=_0xc17334['colorOps'],_0x2a965a=_0xc17334['depthStenc'+'ilOps'];if(_0x432b44!=null&&_0x432b44['clear']||_0x2a965a['clearDepth']||_0x2a965a['clearStenc'+'il']){let _0x3f1668=0x15fb+-0x728+-0x17*0xa5;const _0x4bcbe6={};_0x432b44!=null&&_0x432b44['clear']&&(_0x3f1668|=Co,_0x4bcbe6['color']=[_0x432b44['clearValue']['r'],_0x432b44['clearValue']['g'],_0x432b44['clearValue']['b'],_0x432b44['clearValue']['a']]),_0x2a965a['clearDepth']&&(_0x3f1668|=Mo,_0x4bcbe6['depth']=_0x2a965a['clearDepth'+'Value']),_0x2a965a['clearStenc'+'il']&&(_0x3f1668|=Ah,_0x4bcbe6['stencil']=_0x2a965a['clearStenc'+'ilValue']),_0x4bcbe6['flags']=_0x3f1668,this['clear'](_0x4bcbe6);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x12f5+0x10c1+-0x11a*-0x2),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x2eb270){var _0x5a40f5;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x23801d=this['renderTarg'+'et'],_0x4a24c2=_0x2eb270['colorArray'+'Ops']['length'];if(_0x23801d){Tn['length']=0x216e*-0x1+-0x13*-0xda+-0x2e0*-0x6;const _0x35fdab=this['gl'];for(let _0x23fcbd=-0x2*-0x46+0x22d6+-0x2362;_0x23fcbd<_0x4a24c2;_0x23fcbd++){const _0x1505d0=_0x2eb270['colorArray'+'Ops'][_0x23fcbd];_0x1505d0['store']||_0x1505d0['resolve']||Tn['push'](_0x35fdab['COLOR_ATTA'+'CHMENT0']+_0x23fcbd);}_0x23801d!==this['backBuffer']&&(_0x2eb270['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x35fdab['DEPTH_ATTA'+'CHMENT']),_0x2eb270['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x35fdab['STENCIL_AT'+'TACHMENT'])),Tn['length']>0x668+-0xae+-0x2*0x2dd&&_0x2eb270['fullSizeCl'+'earRect']&&_0x35fdab['invalidate'+'Framebuffe'+'r'](_0x35fdab['DRAW_FRAME'+'BUFFER'],Tn),_0x4a24c2&&((_0x5a40f5=_0x2eb270['colorOps'])!=null&&_0x5a40f5['resolve'])&&_0x2eb270['samples']>0x1e74*-0x1+-0x1*-0xeef+0xf86&&_0x23801d['autoResolv'+'e']&&_0x23801d['resolve'](!(-0x24ec+0x1*0x1ecb+0x621),!(0x1dbf+-0x20e6+0x328*0x1)),_0x23801d['depthBuffe'+'r']&&_0x2eb270['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x2eb270['samples']>-0x1588+0x1*0x10a7+0x1*0x4e2&&_0x23801d['autoResolv'+'e']&&_0x23801d['resolve'](!(-0x2*-0xeca+0x14df+-0x496*0xb),!(0x1*-0x1879+0x11f2+0x687));for(let _0x10875d=-0x1*0x1eb0+-0x11*0x1bb+0x45*0xdf;_0x10875d<_0x4a24c2;_0x10875d++)if(_0x2eb270['colorArray'+'Ops'][_0x10875d]['genMipmaps']){const _0x5b67d4=_0x23801d['_colorBuff'+'ers'][_0x10875d];_0x5b67d4&&_0x5b67d4['impl']['_glTexture']&&_0x5b67d4['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x10875d),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1a13+0x74*-0x35+-0x20e)),this['bindTextur'+'e'](_0x5b67d4),this['gl']['generateMi'+'pmap'](_0x5b67d4['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x6c+-0x2065+0x1ffa),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x2cf32a){this['_defaultFr'+'amebuffer']!==_0x2cf32a&&(this['_defaultFr'+'amebuffer']=_0x2cf32a,this['_defaultFr'+'amebufferC'+'hanged']=!(0x1*-0x135e+-0x2f2+0x1650));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x428f1f=-0x7*0x1d3+0x114+0xbb1;_0x428f1f<this['textureUni'+'ts']['length'];++_0x428f1f)for(let _0x1dc243=0x2*-0xa6c+-0x179d+-0x13*-0x257;_0x1dc243<0x2f7+0xe*0x266+-0x2488;++_0x1dc243)this['textureUni'+'ts'][_0x428f1f][_0x1dc243]=null;}const _0x334059=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x334059);const _0x48d4df=_0x334059['impl'];_0x48d4df['initialize'+'d']||this['initRender'+'Target'](_0x334059),this['setFramebu'+'ffer'](_0x48d4df['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x6ec8c8=this['renderTarg'+'et'];if(_0x6ec8c8&&_0x6ec8c8!==this['backBuffer']){_0x6ec8c8['_samples']>0x1*-0x9c8+0x2fd*-0x1+-0x6d*-0x1e&&_0x6ec8c8['autoResolv'+'e']&&_0x6ec8c8['resolve']();const _0x130c14=_0x6ec8c8['_colorBuff'+'er'];_0x130c14&&_0x130c14['impl']['_glTexture']&&_0x130c14['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x664*0x2+0x53e*0x4+-0x82f)),this['bindTextur'+'e'](_0x130c14),this['gl']['generateMi'+'pmap'](_0x130c14['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x24d1fe){if(this['unpackFlip'+'Y']!==_0x24d1fe){this['unpackFlip'+'Y']=_0x24d1fe;const _0x3dcb6f=this['gl'];_0x3dcb6f['pixelStore'+'i'](_0x3dcb6f['UNPACK_FLI'+'P_Y_WEBGL'],_0x24d1fe);}}['setUnpackP'+'remultiply'+'Alpha'](_0x23fba6){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x23fba6){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x23fba6;const _0x562f7a=this['gl'];_0x562f7a['pixelStore'+'i'](_0x562f7a['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x23fba6);}}['activeText'+'ure'](_0x5e31e5){this['textureUni'+'t']!==_0x5e31e5&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x5e31e5),this['textureUni'+'t']=_0x5e31e5);}['bindTextur'+'e'](_0x48d9c6){const _0x54089e=_0x48d9c6['impl'],_0x5a07c1=_0x54089e['_glTarget'],_0x21ed0b=_0x54089e['_glTexture'],_0x4751d2=this['textureUni'+'t'],_0x6fb2f=this['targetToSl'+'ot'][_0x5a07c1];this['textureUni'+'ts'][_0x4751d2][_0x6fb2f]!==_0x21ed0b&&(this['gl']['bindTextur'+'e'](_0x5a07c1,_0x21ed0b),this['textureUni'+'ts'][_0x4751d2][_0x6fb2f]=_0x21ed0b);}['bindTextur'+'eOnUnit'](_0xb38c7f,_0x3f1df8){const _0x4ed66b=_0xb38c7f['impl'],_0x6ed16b=_0x4ed66b['_glTarget'],_0x1a1ba3=_0x4ed66b['_glTexture'],_0x3655d4=this['targetToSl'+'ot'][_0x6ed16b];this['textureUni'+'ts'][_0x3f1df8][_0x3655d4]!==_0x1a1ba3&&(this['activeText'+'ure'](_0x3f1df8),this['gl']['bindTextur'+'e'](_0x6ed16b,_0x1a1ba3),this['textureUni'+'ts'][_0x3f1df8][_0x3655d4]=_0x1a1ba3);}['setTexture'+'Parameters'](_0x32a6e0){const _0x1b7857=this['gl'],_0x4ff486=_0x32a6e0['impl']['dirtyParam'+'eterFlags'],_0x57cb21=_0x32a6e0['impl']['_glTarget'];if(_0x4ff486&zy){let _0x1c5d53=_0x32a6e0['_minFilter'];(!_0x32a6e0['_mipmaps']||_0x32a6e0['_compresse'+'d']&&_0x32a6e0['_levels']['length']===-0xc5b*-0x2+0x495+-0x1d4a)&&(_0x1c5d53===fc||_0x1c5d53===pc?_0x1c5d53=de:(_0x1c5d53===mc||_0x1c5d53===nn)&&(_0x1c5d53=st)),_0x1b7857['texParamet'+'eri'](_0x57cb21,_0x1b7857['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x1c5d53]);}if(_0x4ff486&Uy&&_0x1b7857['texParamet'+'eri'](_0x57cb21,_0x1b7857['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x32a6e0['_magFilter']]),_0x4ff486&Vy&&_0x1b7857['texParamet'+'eri'](_0x57cb21,_0x1b7857['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x32a6e0['_addressU']]),_0x4ff486&Gy&&_0x1b7857['texParamet'+'eri'](_0x57cb21,_0x1b7857['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x32a6e0['_addressV']]),_0x4ff486&Hy&&_0x1b7857['texParamet'+'eri'](_0x57cb21,_0x1b7857['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x32a6e0['_addressW']]),_0x4ff486&Wy&&_0x1b7857['texParamet'+'eri'](_0x57cb21,_0x1b7857['TEXTURE_CO'+'MPARE_MODE'],_0x32a6e0['_compareOn'+'Read']?_0x1b7857['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x1b7857['NONE']),_0x4ff486&$y&&_0x1b7857['texParamet'+'eri'](_0x57cb21,_0x1b7857['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x32a6e0['_compareFu'+'nc']]),_0x4ff486&qy){const _0x12254e=this['extTexture'+'FilterAnis'+'otropic'];_0x12254e&&_0x1b7857['texParamet'+'erf'](_0x57cb21,_0x12254e['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x32a6e0['_anisotrop'+'y']),-0x2687+0x640+0x2048,this['maxAnisotr'+'opy']));}}['setTexture'](_0xf6e9f9,_0x4da76e){const _0x24fcaf=_0xf6e9f9['impl'];_0x24fcaf['_glTexture']||_0x24fcaf['initialize'](this,_0xf6e9f9),_0x24fcaf['dirtyParam'+'eterFlags']>-0x1*-0x2629+0xb*-0x27e+-0xabf||_0xf6e9f9['_needsUplo'+'ad']||_0xf6e9f9['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x4da76e),this['bindTextur'+'e'](_0xf6e9f9),_0x24fcaf['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0xf6e9f9),_0x24fcaf['dirtyParam'+'eterFlags']=0x992+-0x1abf*-0x1+-0x3*0xc1b),(_0xf6e9f9['_needsUplo'+'ad']||_0xf6e9f9['_needsMipm'+'apsUpload'])&&(_0x24fcaf['upload'](this,_0xf6e9f9),_0xf6e9f9['_needsUplo'+'ad']=!(-0x1*-0xa5d+-0xe*0x1c9+0xea2),_0xf6e9f9['_needsMipm'+'apsUpload']=!(0x2a2+0xec+-0x38d))):this['bindTextur'+'eOnUnit'](_0xf6e9f9,_0x4da76e);}['createVert'+'exArray'](_0x5ec6e5){let _0x1439e9,_0x35f78f;const _0x42c19c=_0x5ec6e5['length']>-0x337*-0x6+0x254f+-0x713*0x8;if(_0x42c19c){_0x1439e9='';for(let _0x4669a1=0x583+0x5*-0x4bd+0x122e;_0x4669a1<_0x5ec6e5['length'];_0x4669a1++){const _0x5400aa=_0x5ec6e5[_0x4669a1];_0x1439e9+=_0x5400aa['id']+_0x5400aa['format']['renderingH'+'ash'];}_0x35f78f=this['_vaoMap']['get'](_0x1439e9);}if(!_0x35f78f){const _0x57c33f=this['gl'];_0x35f78f=_0x57c33f['createVert'+'exArray'](),_0x57c33f['bindVertex'+'Array'](_0x35f78f),_0x57c33f['bindBuffer'](_0x57c33f['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x443c72=!(-0x24d6+-0x1d68+0x423f);for(let _0x4f9aa2=0xfcd+0x19d3+-0xde*0x30;_0x4f9aa2<_0x5ec6e5['length'];_0x4f9aa2++){const _0x2000b1=_0x5ec6e5[_0x4f9aa2];_0x57c33f['bindBuffer'](_0x57c33f['ARRAY_BUFF'+'ER'],_0x2000b1['impl']['bufferId']);const _0x1fa768=_0x2000b1['format']['elements'];for(let _0x1decb5=-0x2514+-0x226a+0x477e*0x1;_0x1decb5<_0x1fa768['length'];_0x1decb5++){const _0x47cea8=_0x1fa768[_0x1decb5],_0x4b6218=ve[_0x47cea8['name']];_0x4b6218===0x249d+-0x18f6+-0xba7&&(_0x443c72=!(-0x2*0x225+-0x1*0x14b0+0x18fa)),_0x47cea8['asInt']?_0x57c33f['vertexAttr'+'ibIPointer'](_0x4b6218,_0x47cea8['numCompone'+'nts'],this['glType'][_0x47cea8['dataType']],_0x47cea8['stride'],_0x47cea8['offset']):_0x57c33f['vertexAttr'+'ibPointer'](_0x4b6218,_0x47cea8['numCompone'+'nts'],this['glType'][_0x47cea8['dataType']],_0x47cea8['normalize'],_0x47cea8['stride'],_0x47cea8['offset']),_0x57c33f['enableVert'+'exAttribAr'+'ray'](_0x4b6218),_0x2000b1['format']['instancing']&&_0x57c33f['vertexAttr'+'ibDivisor'](_0x4b6218,-0x3d3+-0x1e27+0x1*0x21fb);}}_0x57c33f['bindVertex'+'Array'](null),_0x57c33f['bindBuffer'](_0x57c33f['ARRAY_BUFF'+'ER'],null),_0x42c19c&&this['_vaoMap']['set'](_0x1439e9,_0x35f78f),_0x443c72||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x35f78f;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x30fdf7=this['gl'];let _0x106df3;if(this['vertexBuff'+'ers']['length']===0x1465+0x2243+-0x36a7*0x1){const _0x5c2c6d=this['vertexBuff'+'ers'][-0x2*0xa12+-0x3c7*-0x1+0x1*0x105d];v['assert'](_0x5c2c6d['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x5c2c6d['impl']['vao']||(_0x5c2c6d['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x106df3=_0x5c2c6d['impl']['vao'];}else _0x106df3=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x106df3&&(this['boundVao']=_0x106df3,_0x30fdf7['bindVertex'+'Array'](_0x106df3)),this['clearVerte'+'xBuffer']();const _0x4c97dc=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x30fdf7['bindBuffer'](_0x30fdf7['ELEMENT_AR'+'RAY_BUFFER'],_0x4c97dc);}['draw'](_0x438c05,_0xe9e7ee,_0xa17de9){const _0x223d29=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x2fa710,_0x16baec,_0x51a57d,_0x3625fd,_0x1404ed,_0x145957,_0x4c8cba,_0x555fcd;const _0xc57b41=this['shader'];if(!_0xc57b41)return;const _0xf37cd3=_0xc57b41['impl']['samplers'],_0x1a625b=_0xc57b41['impl']['uniforms'];_0xa17de9||this['setBuffers']();let _0x2586b1=-0x37c*-0x9+0x17bb+0x125d*-0x3;for(let _0x3a9478=-0x500+-0xe3e+0x133e,_0x1e31d7=_0xf37cd3['length'];_0x3a9478<_0x1e31d7;_0x3a9478++){if(_0x2fa710=_0xf37cd3[_0x3a9478],_0x16baec=_0x2fa710['scopeId']['value'],!_0x16baec){const _0xa4589a=_0x2fa710['scopeId']['name'];v['assert'](_0xa4589a!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0xa4589a!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0xa4589a==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x16baec=en(this,'white')),_0xa4589a==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x16baec=en(this,'pink')),_0x16baec||(v['errorOnce']('Shader\x20'+_0xc57b41['name']+'\x20requires\x20'+_0xa4589a+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x16baec=en(this,'pink'));}if(_0x16baec instanceof he)_0x51a57d=_0x16baec,this['setTexture'](_0x51a57d,_0x2586b1),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x6ae+-0xd54+0x501*0x4&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x51a57d?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x51a57d}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x51a57d&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x51a57d})),_0x2fa710['slot']!==_0x2586b1&&(_0x223d29['uniform1i'](_0x2fa710['locationId'],_0x2586b1),_0x2fa710['slot']=_0x2586b1),_0x2586b1++;else{_0x2fa710['array']['length']=0x22a*-0x7+-0x4*0x151+0x146a,_0x3625fd=_0x16baec['length'];for(let _0x12ea3c=-0x955+-0x14c2+0x1e17;_0x12ea3c<_0x3625fd;_0x12ea3c++)_0x51a57d=_0x16baec[_0x12ea3c],this['setTexture'](_0x51a57d,_0x2586b1),_0x2fa710['array'][_0x12ea3c]=_0x2586b1,_0x2586b1++;_0x223d29['uniform1iv'](_0x2fa710['locationId'],_0x2fa710['array']);}}for(let _0x490a2f=-0x1*0x1f81+-0x15fe+0x357f,_0x5ed89c=_0x1a625b['length'];_0x490a2f<_0x5ed89c;_0x490a2f++)_0x1404ed=_0x1a625b[_0x490a2f],_0x145957=_0x1404ed['scopeId'],_0x4c8cba=_0x1404ed['version'],_0x555fcd=_0x145957['versionObj'+'ect']['version'],(_0x4c8cba['globalId']!==_0x555fcd['globalId']||_0x4c8cba['revision']!==_0x555fcd['revision'])&&(_0x4c8cba['globalId']=_0x555fcd['globalId'],_0x4c8cba['revision']=_0x555fcd['revision'],_0x145957['value']!==null&&this['commitFunc'+'tion'][_0x1404ed['dataType']](_0x1404ed,_0x145957['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x223d29['bindBuffer'+'Base'](_0x223d29['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x42e*-0x2+-0x1*0x1df9+0x1*0x159d,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x223d29['beginTrans'+'formFeedba'+'ck'](_0x223d29['POINTS']));const _0x3ac5af=this['glPrimitiv'+'e'][_0x438c05['type']],_0x386013=_0x438c05['count'];if(_0x438c05['indexed']){const _0x4c0185=this['indexBuffe'+'r'];v['assert'](_0x4c0185['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x1fa1a6=_0x4c0185['impl']['glFormat'],_0x474cac=_0x438c05['base']*_0x4c0185['bytesPerIn'+'dex'];_0xe9e7ee>0x257c+-0x110c+0x6d0*-0x3?_0x223d29['drawElemen'+'tsInstance'+'d'](_0x3ac5af,_0x386013,_0x1fa1a6,_0x474cac,_0xe9e7ee):_0x223d29['drawElemen'+'ts'](_0x3ac5af,_0x386013,_0x1fa1a6,_0x474cac);}else{const _0x586dcd=_0x438c05['base'];_0xe9e7ee>0xd*-0x67+0xed5+-0x4cd*0x2?_0x223d29['drawArrays'+'Instanced'](_0x3ac5af,_0x586dcd,_0x386013,_0xe9e7ee):_0x223d29['drawArrays'](_0x3ac5af,_0x586dcd,_0x386013);}this['transformF'+'eedbackBuf'+'fer']&&(_0x223d29['endTransfo'+'rmFeedback'](),_0x223d29['bindBuffer'+'Base'](_0x223d29['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x22cb*0x1+-0x9*-0x23f+-0x2*0x1b81,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x438c05['type']]+=_0x438c05['count']*(_0xe9e7ee>0x24bd+0x39*-0x6a+-0x52*0x29?_0xe9e7ee:0x24dc+0x1*0x1385+-0x3860);}['clear'](_0x5198d1){const _0x496f43=this['defaultCle'+'arOptions'];_0x5198d1=_0x5198d1||_0x496f43;const _0x38dbfe=_0x5198d1['flags']??_0x496f43['flags'];if(_0x38dbfe!==-0x6b*-0x2f+-0x2*-0xb2b+-0x29fb){const _0x577383=this['gl'];if(_0x38dbfe&Co){const _0x2acc93=_0x5198d1['color']??_0x496f43['color'],_0x30c30c=_0x2acc93[-0x50d*-0x4+-0xc97+-0x79d],_0xcfe8a4=_0x2acc93[-0xab7+-0x3*-0x5e7+-0x6fd],_0x9ea95=_0x2acc93[0xda*-0x7+-0x1ca6+0x229e],_0x2bed9f=_0x2acc93[-0x1305*-0x1+-0x2*-0x592+-0x1e26],_0x14d46d=this['clearColor'];(_0x30c30c!==_0x14d46d['r']||_0xcfe8a4!==_0x14d46d['g']||_0x9ea95!==_0x14d46d['b']||_0x2bed9f!==_0x14d46d['a'])&&(this['gl']['clearColor'](_0x30c30c,_0xcfe8a4,_0x9ea95,_0x2bed9f),this['clearColor']['set'](_0x30c30c,_0xcfe8a4,_0x9ea95,_0x2bed9f)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x38dbfe&Mo){const _0x10096b=_0x5198d1['depth']??_0x496f43['depth'];_0x10096b!==this['clearDepth']&&(this['gl']['clearDepth'](_0x10096b),this['clearDepth']=_0x10096b),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x38dbfe&Ah){const _0x3ec2cc=_0x5198d1['stencil']??_0x496f43['stencil'];_0x3ec2cc!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x3ec2cc),this['clearStenc'+'il']=_0x3ec2cc),_0x577383['stencilMas'+'k'](-0x20e0+0x4*0x3fe+-0x1*-0x11e7),this['stencilWri'+'teMaskFron'+'t']=-0x88a+0x3*-0x7e6+0x213b,this['stencilWri'+'teMaskBack']=0x17b0+-0x7f7*-0x1+-0x1ea8;}_0x577383['clear'](this['glClearFla'+'g'][_0x38dbfe]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x11d358,_0x2e99ca,_0x3afdee,_0x36a1e8,_0x56a15c){const _0x1624aa=this['gl'];_0x1624aa['readPixels'](_0x11d358,_0x2e99ca,_0x3afdee,_0x36a1e8,_0x1624aa['RGBA'],_0x1624aa['UNSIGNED_B'+'YTE'],_0x56a15c);}async['readPixels'+'Async'](_0x100b3c,_0xae3dcd,_0x53136e,_0x4eeef2,_0x33642d){var _0x158e88;const _0x50eb73=this['gl'],_0x23fa9a=(_0x494f8c,_0x4c8528)=>{const _0x3d6864=_0x50eb73['fenceSync'](_0x50eb73['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x17d3+0x1508+-0x2cdb*0x1);return this['submit'](),new Promise((_0x232006,_0x45bdda)=>{function _0x348ca1(){const _0x1498e1=_0x50eb73['clientWait'+'Sync'](_0x3d6864,_0x494f8c,-0x25d0+-0xc55+0x1*0x3225);_0x1498e1===_0x50eb73['WAIT_FAILE'+'D']?(_0x50eb73['deleteSync'](_0x3d6864),_0x45bdda(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x1498e1===_0x50eb73['TIMEOUT_EX'+'PIRED']?setTimeout(_0x348ca1,_0x4c8528):(_0x50eb73['deleteSync'](_0x3d6864),_0x232006());}_0x348ca1();});},_0x4fd2df=(_0x158e88=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x199d*0x1+-0x3*-0x813+0x2*-0x18eb):_0x158e88['impl'],_0x424446=(_0x4fd2df==null?void(0x21d5+0xc83+-0x2e58):_0x4fd2df['_glFormat'])??_0x50eb73['RGBA'],_0x3ad367=(_0x4fd2df==null?void(0xf*0xcb+-0x22ac+0x16c7):_0x4fd2df['_glPixelTy'+'pe'])??_0x50eb73['UNSIGNED_B'+'YTE'],_0x39d616=_0x50eb73['createBuff'+'er']();return _0x50eb73['bindBuffer'](_0x50eb73['PIXEL_PACK'+'_BUFFER'],_0x39d616),_0x50eb73['bufferData'](_0x50eb73['PIXEL_PACK'+'_BUFFER'],_0x33642d['byteLength'],_0x50eb73['STREAM_REA'+'D']),_0x50eb73['readPixels'](_0x100b3c,_0xae3dcd,_0x53136e,_0x4eeef2,_0x424446,_0x3ad367,-0x9ee+0x2167+-0x1779),_0x50eb73['bindBuffer'](_0x50eb73['PIXEL_PACK'+'_BUFFER'],null),await _0x23fa9a(0x386+-0x3e2+-0x2*-0x2e,0x2d9*0xa+-0x26d7+0xa71),_0x50eb73['bindBuffer'](_0x50eb73['PIXEL_PACK'+'_BUFFER'],_0x39d616),_0x50eb73['getBufferS'+'ubData'](_0x50eb73['PIXEL_PACK'+'_BUFFER'],0xcb1+0x3fa+-0x10ab,_0x33642d),_0x50eb73['bindBuffer'](_0x50eb73['PIXEL_PACK'+'_BUFFER'],null),_0x50eb73['deleteBuff'+'er'](_0x39d616),_0x33642d;}['readTextur'+'eAsync'](_0x3f8491,_0x18ed45,_0x4e6efc,_0x1b1464,_0x1c3319,_0x217d11){const _0x367f1d=_0x217d11['face']??0x1*-0x1f65+-0x114+0x2079,_0x1946ac=_0x217d11['renderTarg'+'et']??new pt({'colorBuffer':_0x3f8491,'depth':!(0x1919+0x194*0xf+-0x30c4),'face':_0x367f1d});v['assert'](_0x1946ac['colorBuffe'+'r']===_0x3f8491);const _0x63f148=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x1b1464,_0x1c3319,0x9d*0x16+0x8ee*0x1+-0x166b,_0x3f8491['_format'])),_0x242ee7=_0x217d11['data']??new(Cy(_0x3f8491['_format']))(_0x63f148);return this['setRenderT'+'arget'](_0x1946ac),this['initRender'+'Target'](_0x1946ac),new Promise((_0x5457f7,_0x5e4158)=>{this['readPixels'+'Async'](_0x18ed45,_0x4e6efc,_0x1b1464,_0x1c3319,_0x242ee7)['then'](_0x3a93b0=>{_0x217d11['renderTarg'+'et']||_0x1946ac['destroy'](),_0x5457f7(_0x3a93b0);})['catch'](_0x5e4158);});}['setAlphaTo'+'Coverage'](_0xbbc4e3){this['alphaToCov'+'erage']!==_0xbbc4e3&&(this['alphaToCov'+'erage']=_0xbbc4e3,_0xbbc4e3?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x56e89d){if(this['transformF'+'eedbackBuf'+'fer']!==_0x56e89d){this['transformF'+'eedbackBuf'+'fer']=_0x56e89d;const _0x281b21=this['gl'];_0x56e89d?(this['feedback']||(this['feedback']=_0x281b21['createTran'+'sformFeedb'+'ack']()),_0x281b21['bindTransf'+'ormFeedbac'+'k'](_0x281b21['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x281b21['bindTransf'+'ormFeedbac'+'k'](_0x281b21['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x1430f4){this['raster']!==_0x1430f4&&(this['raster']=_0x1430f4,_0x1430f4?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x1e32b3){if(this['stencil']!==_0x1e32b3){const _0x5e2fde=this['gl'];_0x1e32b3?_0x5e2fde['enable'](_0x5e2fde['STENCIL_TE'+'ST']):_0x5e2fde['disable'](_0x5e2fde['STENCIL_TE'+'ST']),this['stencil']=_0x1e32b3;}}['setStencil'+'Func'](_0x27e36f,_0x501d1e,_0x3ab575){(this['stencilFun'+'cFront']!==_0x27e36f||this['stencilRef'+'Front']!==_0x501d1e||this['stencilMas'+'kFront']!==_0x3ab575||this['stencilFun'+'cBack']!==_0x27e36f||this['stencilRef'+'Back']!==_0x501d1e||this['stencilMas'+'kBack']!==_0x3ab575)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x27e36f],_0x501d1e,_0x3ab575),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x27e36f,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x501d1e,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x3ab575);}['setStencil'+'FuncFront'](_0x3fa054,_0x32efc4,_0xc1b1f3){if(this['stencilFun'+'cFront']!==_0x3fa054||this['stencilRef'+'Front']!==_0x32efc4||this['stencilMas'+'kFront']!==_0xc1b1f3){const _0x5bcae0=this['gl'];_0x5bcae0['stencilFun'+'cSeparate'](_0x5bcae0['FRONT'],this['glComparis'+'on'][_0x3fa054],_0x32efc4,_0xc1b1f3),this['stencilFun'+'cFront']=_0x3fa054,this['stencilRef'+'Front']=_0x32efc4,this['stencilMas'+'kFront']=_0xc1b1f3;}}['setStencil'+'FuncBack'](_0xf72167,_0x3942e8,_0x3787f3){if(this['stencilFun'+'cBack']!==_0xf72167||this['stencilRef'+'Back']!==_0x3942e8||this['stencilMas'+'kBack']!==_0x3787f3){const _0x56c273=this['gl'];_0x56c273['stencilFun'+'cSeparate'](_0x56c273['BACK'],this['glComparis'+'on'][_0xf72167],_0x3942e8,_0x3787f3),this['stencilFun'+'cBack']=_0xf72167,this['stencilRef'+'Back']=_0x3942e8,this['stencilMas'+'kBack']=_0x3787f3;}}['setStencil'+'Operation'](_0x41cfd8,_0x443dfc,_0x36574f,_0x21a8f2){(this['stencilFai'+'lFront']!==_0x41cfd8||this['stencilZfa'+'ilFront']!==_0x443dfc||this['stencilZpa'+'ssFront']!==_0x36574f||this['stencilFai'+'lBack']!==_0x41cfd8||this['stencilZfa'+'ilBack']!==_0x443dfc||this['stencilZpa'+'ssBack']!==_0x36574f)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x41cfd8],this['glStencilO'+'p'][_0x443dfc],this['glStencilO'+'p'][_0x36574f]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x41cfd8,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x443dfc,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x36574f),(this['stencilWri'+'teMaskFron'+'t']!==_0x21a8f2||this['stencilWri'+'teMaskBack']!==_0x21a8f2)&&(this['gl']['stencilMas'+'k'](_0x21a8f2),this['stencilWri'+'teMaskFron'+'t']=_0x21a8f2,this['stencilWri'+'teMaskBack']=_0x21a8f2);}['setStencil'+'OperationF'+'ront'](_0x3882dc,_0x1e4cb5,_0x360927,_0x1484c3){(this['stencilFai'+'lFront']!==_0x3882dc||this['stencilZfa'+'ilFront']!==_0x1e4cb5||this['stencilZpa'+'ssFront']!==_0x360927)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x3882dc],this['glStencilO'+'p'][_0x1e4cb5],this['glStencilO'+'p'][_0x360927]),this['stencilFai'+'lFront']=_0x3882dc,this['stencilZfa'+'ilFront']=_0x1e4cb5,this['stencilZpa'+'ssFront']=_0x360927),this['stencilWri'+'teMaskFron'+'t']!==_0x1484c3&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x1484c3),this['stencilWri'+'teMaskFron'+'t']=_0x1484c3);}['setStencil'+'OperationB'+'ack'](_0x10a386,_0x4558b4,_0x3b3975,_0x17ac16){(this['stencilFai'+'lBack']!==_0x10a386||this['stencilZfa'+'ilBack']!==_0x4558b4||this['stencilZpa'+'ssBack']!==_0x3b3975)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x10a386],this['glStencilO'+'p'][_0x4558b4],this['glStencilO'+'p'][_0x3b3975]),this['stencilFai'+'lBack']=_0x10a386,this['stencilZfa'+'ilBack']=_0x4558b4,this['stencilZpa'+'ssBack']=_0x3b3975),this['stencilWri'+'teMaskBack']!==_0x17ac16&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x17ac16),this['stencilWri'+'teMaskBack']=_0x17ac16);}['setBlendSt'+'ate'](_0x18ed4b){const _0x2f9cff=this['blendState'];if(!_0x2f9cff['equals'](_0x18ed4b)){const _0x89f72b=this['gl'],{blend:_0x4071f1,colorOp:_0xda2fbd,alphaOp:_0x1ed6af,colorSrcFactor:_0x12f04c,colorDstFactor:_0x4565fd,alphaSrcFactor:_0x541e87,alphaDstFactor:_0x9c06cd}=_0x18ed4b;if(_0x2f9cff['blend']!==_0x4071f1&&(_0x4071f1?_0x89f72b['enable'](_0x89f72b['BLEND']):_0x89f72b['disable'](_0x89f72b['BLEND'])),_0x2f9cff['colorOp']!==_0xda2fbd||_0x2f9cff['alphaOp']!==_0x1ed6af){const _0x415241=this['glBlendEqu'+'ation'];_0x89f72b['blendEquat'+'ionSeparat'+'e'](_0x415241[_0xda2fbd],_0x415241[_0x1ed6af]);}(_0x2f9cff['colorSrcFa'+'ctor']!==_0x12f04c||_0x2f9cff['colorDstFa'+'ctor']!==_0x4565fd||_0x2f9cff['alphaSrcFa'+'ctor']!==_0x541e87||_0x2f9cff['alphaDstFa'+'ctor']!==_0x9c06cd)&&_0x89f72b['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x12f04c],this['glBlendFun'+'ctionColor'][_0x4565fd],this['glBlendFun'+'ctionAlpha'][_0x541e87],this['glBlendFun'+'ctionAlpha'][_0x9c06cd]),_0x2f9cff['allWrite']!==_0x18ed4b['allWrite']&&this['gl']['colorMask'](_0x18ed4b['redWrite'],_0x18ed4b['greenWrite'],_0x18ed4b['blueWrite'],_0x18ed4b['alphaWrite']),_0x2f9cff['copy'](_0x18ed4b);}}['setBlendCo'+'lor'](_0x16eecc,_0x5003c1,_0x43f214,_0x454d4a){const _0x454fbe=this['blendColor'];(_0x16eecc!==_0x454fbe['r']||_0x5003c1!==_0x454fbe['g']||_0x43f214!==_0x454fbe['b']||_0x454d4a!==_0x454fbe['a'])&&(this['gl']['blendColor'](_0x16eecc,_0x5003c1,_0x43f214,_0x454d4a),_0x454fbe['set'](_0x16eecc,_0x5003c1,_0x43f214,_0x454d4a));}['setStencil'+'State'](_0x4bfeec,_0x1f76f7){_0x4bfeec||_0x1f76f7?(this['setStencil'+'Test'](!(-0xc+0x1354+-0x8*0x269)),_0x4bfeec===_0x1f76f7?(this['setStencil'+'Func'](_0x4bfeec['func'],_0x4bfeec['ref'],_0x4bfeec['readMask']),this['setStencil'+'Operation'](_0x4bfeec['fail'],_0x4bfeec['zfail'],_0x4bfeec['zpass'],_0x4bfeec['writeMask'])):(_0x4bfeec??(_0x4bfeec=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x4bfeec['func'],_0x4bfeec['ref'],_0x4bfeec['readMask']),this['setStencil'+'OperationF'+'ront'](_0x4bfeec['fail'],_0x4bfeec['zfail'],_0x4bfeec['zpass'],_0x4bfeec['writeMask']),_0x1f76f7??(_0x1f76f7=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x1f76f7['func'],_0x1f76f7['ref'],_0x1f76f7['readMask']),this['setStencil'+'OperationB'+'ack'](_0x1f76f7['fail'],_0x1f76f7['zfail'],_0x1f76f7['zpass'],_0x1f76f7['writeMask']))):this['setStencil'+'Test'](!(0x223e+0x12e*-0x6+-0x1b29));}['setDepthSt'+'ate'](_0x416551){const _0x41e745=this['depthState'];if(!_0x41e745['equals'](_0x416551)){const _0x2c1917=this['gl'],_0x667b09=_0x416551['write'];_0x41e745['write']!==_0x667b09&&_0x2c1917['depthMask'](_0x667b09);let {func:_0x1f2652,test:_0x2ef9d9}=_0x416551;!_0x2ef9d9&&_0x667b09&&(_0x2ef9d9=!(0x7ef*0x3+-0xd81+-0x2*0x526),_0x1f2652=Ai),_0x41e745['func']!==_0x1f2652&&_0x2c1917['depthFunc'](this['glComparis'+'on'][_0x1f2652]),_0x41e745['test']!==_0x2ef9d9&&(_0x2ef9d9?_0x2c1917['enable'](_0x2c1917['DEPTH_TEST']):_0x2c1917['disable'](_0x2c1917['DEPTH_TEST']));const {depthBias:_0x20b26a,depthBiasSlope:_0x59cd0f}=_0x416551;_0x20b26a||_0x59cd0f?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0xe0d+-0x244c+-0x1*-0x163f),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2c1917['polygonOff'+'set'](_0x59cd0f,_0x20b26a)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x153b+0x270c+-0x3c46),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x41e745['copy'](_0x416551);}}['setCullMod'+'e'](_0x2e40fe){if(this['cullMode']!==_0x2e40fe){if(_0x2e40fe===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x2171e0=this['glCull'][_0x2e40fe];this['cullFace']!==_0x2171e0&&(this['gl']['cullFace'](_0x2171e0),this['cullFace']=_0x2171e0);}this['cullMode']=_0x2e40fe;}}['setShader'](_0x1b9231,_0x255593=!(-0x26dc+-0x244a+-0x16b*-0x35)){_0x1b9231!==this['shader']&&(this['shader']=_0x1b9231,this['shaderAsyn'+'cCompile']=_0x255593,this['shaderVali'+'d']=void(0x3b*-0x6c+-0x1*-0x1f91+-0x6ad),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x5577e3){const {shader:_0x1fec39}=this,{impl:_0x1fec7d}=_0x1fec39;this['shaderVali'+'d']===void(-0x841*0x1+-0x1600+-0x1e41*-0x1)&&(_0x1fec39['failed']?this['shaderVali'+'d']=!(0x9e2+-0x1c27+0x1246):_0x1fec39['ready']||(this['shaderAsyn'+'cCompile']?_0x1fec7d['isLinked'](_0x5577e3)?_0x1fec7d['finalize'](this,_0x1fec39)||(_0x1fec39['failed']=!(-0x1eb8+-0x23fd+0x42b5),this['shaderVali'+'d']=!(0x2565+0x15ca+0x1f9*-0x1e)):this['shaderVali'+'d']=!(0x1b2b*-0x1+-0x1c6f*-0x1+-0x143):_0x1fec7d['finalize'](this,_0x1fec39)||(_0x1fec39['failed']=!(0x2467+-0x12*0x1f7+-0x109),this['shaderVali'+'d']=!(-0x2*-0x59e+0x32e*-0xb+0x17bf)))),this['shaderVali'+'d']===void(-0xc52+-0x1*-0x1af+0xaa3)&&(this['gl']['useProgram'](_0x1fec7d['glProgram']),this['shaderVali'+'d']=!(0xe0*0x1b+-0x5f9*-0x2+-0x2392));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x4d1d0c=this['gl'];this['_vaoMap']['forEach']((_0x2d400c,_0x549f16,_0x50711d)=>{_0x4d1d0c['deleteVert'+'exArray'](_0x2d400c);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x158fc){_0x158fc?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x204310=-0x612+0x289+0x43*0xf){const _0x486010=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x486010['loseContex'+'t'](),setTimeout(()=>_0x486010['restoreCon'+'text'](),_0x204310);}}let mb=0x449*0x7+0x3d*0x53+0x17*-0x22a;class lr{constructor(_0x3e1ded,_0x2224a8,_0x44e11a,_0x3c7438=jt,_0x5c97b3,_0x292205){this['device']=_0x3e1ded,this['format']=_0x2224a8,this['numIndices']=_0x44e11a,this['usage']=_0x3c7438,this['id']=mb++,this['impl']=_0x3e1ded['createInde'+'xBufferImp'+'l'](this,_0x292205);const _0x48bacf=vv[_0x2224a8];this['bytesPerIn'+'dex']=_0x48bacf,this['numBytes']=this['numIndices']*_0x48bacf,_0x5c97b3?this['setData'](_0x5c97b3):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x3e1ded['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x32acdf=this['device'],_0x1c985e=_0x32acdf['buffers']['indexOf'](this);_0x1c985e!==-(-0x93b+-0x62*-0x1+0x8da)&&_0x32acdf['buffers']['splice'](_0x1c985e,0xffe+0xdae+-0x1*0x1dab),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x32acdf),this['adjustVram'+'SizeTracki'+'ng'](_0x32acdf['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x5ba366,_0x428c13){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x428c13+'\x20vram.ib:\x20'+_0x5ba366['ib']+'\x20=>\x20'+(_0x5ba366['ib']+_0x428c13)),_0x5ba366['ib']+=_0x428c13;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x26dc78){return _0x26dc78['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x26dc78['byteLength']),!(0x53c+-0x1284+0xd49)):(this['storage']=_0x26dc78,this['unlock'](),!(-0x55+0x1ed2+-0x1e7d));}['_lockTyped'+'Array'](){const _0x440919=this['lock']();return this['format']===nr?new Uint32Array(_0x440919):this['format']===Pi?new Uint16Array(_0x440919):new Uint8Array(_0x440919);}['writeData'](_0x325639,_0x26fd71){const _0xb05add=this['_lockTyped'+'Array']();if(_0x325639['length']>_0x26fd71){if(ArrayBuffer['isView'](_0x325639))_0x325639=_0x325639['subarray'](0x6aa+-0x1*0x131+-0x579,_0x26fd71),_0xb05add['set'](_0x325639);else{for(let _0x3aa302=0x34*-0x58+0x16f7+0x517*-0x1;_0x3aa302<_0x26fd71;_0x3aa302++)_0xb05add[_0x3aa302]=_0x325639[_0x3aa302];}}else _0xb05add['set'](_0x325639);this['unlock']();}['readData'](_0x553f52){const _0x59e82=this['_lockTyped'+'Array'](),_0x560d7c=this['numIndices'];if(ArrayBuffer['isView'](_0x553f52))_0x553f52['set'](_0x59e82);else{_0x553f52['length']=-0x7e*-0x43+-0x2*0x6b7+0x4e3*-0x4;for(let _0x427c92=0x77*-0x48+0xe47+0x1331;_0x427c92<_0x560d7c;_0x427c92++)_0x553f52[_0x427c92]=_0x59e82[_0x427c92];}return _0x560d7c;}}class _b{constructor(){c(this,'clearValue',new Y(0x6e6+0x7b2+-0x1*0xe98,-0x5f*0x41+0x5a9+0x1276,0x1b6f+0x388+0x1*-0x1ef7,0x1e9d+0x16a8+-0x3544)),c(this,'clearValue'+'Linear',new Y(-0x1f2d+0x234e+0x421*-0x1,-0x82*0x3+0x13d9+-0x1253,-0x10b4+0x21e*-0x2+0x29e*0x8,0x1f65*0x1+0x54+0x74*-0x46)),c(this,'clear',!(-0x15cd*-0x1+-0x1*0x16ae+0xe2)),c(this,'store',!(0xb*-0x28+0x24fa*-0x1+0x26b3*0x1)),c(this,'resolve',!(-0xd3c+0x13f1+-0x6b5)),c(this,'genMipmaps',!(-0x1ce8+-0x7*0x4de+0x1*0x3efb));}}class gb{constructor(){c(this,'clearDepth'+'Value',0x1*-0x113f+0x6*-0xe8+0x16b0),c(this,'clearStenc'+'ilValue',0x161e+-0x260d+-0xfef*-0x1),c(this,'clearDepth',!(0xce+-0x1a19+0x1*0x194c)),c(this,'clearStenc'+'il',!(0x592*0x1+0x225d*-0x1+0x1ccc)),c(this,'storeDepth',!(0x2506+-0x15e1+-0x66*0x26)),c(this,'resolveDep'+'th',!(0x6*-0x182+0x149*-0x19+0x292e)),c(this,'storeStenc'+'il',!(-0xd0a+-0x9*-0x398+-0x66f*0x3));}}class ds{constructor(_0xaef61d){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(0x1933*-0x1+-0x2b0*0x6+0x2953*0x1)),c(this,'_skipStart',!(-0x25d3+-0x1605+0x3bd9)),c(this,'_skipEnd',!(-0x22cb+0xdf3+0x14d9)),c(this,'executeEna'+'bled',!(0x16d3*-0x1+-0x8b3+0x327*0xa)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',0x1f8e+0x830+0x13df*-0x2),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(0x2312+-0x9e2+-0x1930)),c(this,'fullSizeCl'+'earRect',!(0x1*-0x58f+-0x18e2+0x1e71*0x1)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0xaef61d),this['device']=_0xaef61d);}get['colorOps'](){return this['colorArray'+'Ops'][0x75*0x3+-0xa5f+0x900];}set['name'](_0x2f7cfb){this['_name']=_0x2f7cfb;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0xffd7e2){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0xffd7e2;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x580479){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x580479;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x131daf){this['_options']=_0x131daf,_0x131daf&&(this['scaleX']=this['scaleX']??-0x1c84+0x1c*0x10a+-0x93,this['scaleY']=this['scaleY']??-0x2*-0xdcd+0x40*0x8d+0x1f*-0x207);}get['options'](){return this['_options'];}['init'](_0x378b29=null,_0x2e540a){this['options']=_0x2e540a,this['renderTarg'+'et']=_0x378b29,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x161*0x11+0x1002+0x770),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x153244,_0x57b006,_0x4cb567,_0x4e0c8;const _0x2f4a7a=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x2f4a7a!=null&&_0x2f4a7a['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0xb4b+0x1c9*0x11+-0x29a4));const _0x5916ca=_0x2f4a7a?((_0x153244=_0x2f4a7a['_colorBuff'+'ers'])==null?void(0xaee+0x17*-0x11a+0xe68):_0x153244['length'])??-0xd*0x27e+0x1*-0x1bc5+0xd3*0x49:-0x1c57+-0xa21*0x2+0x309a;this['colorArray'+'Ops']['length']=0x21e6*0x1+0x3*-0x90c+-0x6c2;for(let _0x3060f2=-0x752+0xd3*-0x19+0x1*0x1bed;_0x3060f2<_0x5916ca;_0x3060f2++){const _0x3bb305=new _b();this['colorArray'+'Ops'][_0x3060f2]=_0x3bb305,this['samples']===0x209d+-0x2*0x783+0x2*-0x8cb&&(_0x3bb305['store']=!(0x23f+-0x129f*0x1+0x20c*0x8),_0x3bb305['resolve']=!(-0x102e+0x1*-0x827+0x1856));const _0x2d6f9f=(_0x4cb567=(_0x57b006=this['renderTarg'+'et'])==null?void(-0x43*-0x3d+0x1*0x1e2b+-0x2e22):_0x57b006['_colorBuff'+'ers'])==null?void(-0x3*0x7a7+0x224+0x14d1):_0x4cb567[_0x3060f2];if((_0x4e0c8=this['renderTarg'+'et'])!=null&&_0x4e0c8['mipmaps']&&(_0x2d6f9f!=null&&_0x2d6f9f['mipmaps'])){const _0x3d8abc=ea(_0x2d6f9f['_format']);_0x3bb305['genMipmaps']=!_0x3d8abc;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x2afa50=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x408452=Math['floor'](_0x2afa50['width']*this['scaleX']),_0x2b132c=Math['floor'](_0x2afa50['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x408452,_0x2b132c);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x5428c8){this['_enabled']!==_0x5428c8&&(this['_enabled']=_0x5428c8,_0x5428c8?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x49658a){const _0x53f094=this['colorArray'+'Ops']['length'];for(let _0x280d5c=0x1*0xb25+-0x701+-0x4*0x109;_0x280d5c<_0x53f094;_0x280d5c++){const _0xadb25d=this['colorArray'+'Ops'][_0x280d5c];_0x49658a&&(_0xadb25d['clearValue']['copy'](_0x49658a),_0xadb25d['clearValue'+'Linear']['linear'](_0x49658a)),_0xadb25d['clear']=!!_0x49658a;}}['setClearDe'+'pth'](_0x3e563d){_0x3e563d&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x3e563d),this['depthStenc'+'ilOps']['clearDepth']=_0x3e563d!==void(0x1*-0x2521+-0x10c3*-0x1+0x145e);}['setClearSt'+'encil'](_0x7f8a9a){_0x7f8a9a&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x7f8a9a),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x7f8a9a!==void(-0x2431+-0xfb5+0x33e6);}['render'](){if(this['enabled']){const _0x48d7cf=this['device'],_0x5339af=this['renderTarg'+'et']!==void(-0xbb7*-0x1+-0x34c+-0x86b*0x1);v['call'](()=>{this['log'](_0x48d7cf,_0x48d7cf['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x5339af&&!this['_skipStart']&&_0x48d7cf['startRende'+'rPass'](this),this['execute'](),_0x5339af&&!this['_skipEnd']&&_0x48d7cf['endRenderP'+'ass'](this)),this['after'](),_0x48d7cf['renderPass'+'Index']++;}}['log'](_0x1e3a68,_0x37f2ee=0x97*-0x1b+-0xb15+0x1b02){var _0x411dac,_0x257b7b,_0x584899;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x1ccdab=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x1e3a68['backBuffer']:null),_0xcd6858=!!(_0x1ccdab!=null&&_0x1ccdab['impl']['assignedCo'+'lorTexture'])||(_0x1ccdab==null?void(-0x58*-0x58+-0x9e+0xed1*-0x2):_0x1ccdab['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x63d+-0xfe0*0x2+0x7*0x3a5),_0x4dc36e=((_0x411dac=_0x1ccdab==null?void(0x1a74+0x3e3+-0x35f*0x9):_0x1ccdab['_colorBuff'+'ers'])==null?void(-0x250+0x94c+0x6fc*-0x1):_0x411dac['length'])??(_0xcd6858?0xc5*0x15+0x1*0x11a4+-0x21cc:0x424+0x1dab+-0x241*0xf),_0x32eddb=_0x1ccdab==null?void(0xb71+-0x4f*-0x7a+-0x3117):_0x1ccdab['depth'],_0x139b80=_0x1ccdab==null?void(0x1d75+-0xf0*-0x3+-0x2045):_0x1ccdab['stencil'],_0x290f5b=_0x1ccdab==null?void(0x1d07+-0x10ae+-0xc59):_0x1ccdab['mipLevel'],_0x165053=_0x1ccdab?'\x20RT:\x20'+(_0x1ccdab?_0x1ccdab['name']:'NULL')+'\x20'+(_0x4dc36e>0x1856+-0x2573+0xd1d?'[Color'+(_0x4dc36e>0xda2+-0x10d*-0x13+-0x4*0x866?'\x20x\x20'+_0x4dc36e:'')+']':'')+(_0x32eddb?'[Depth]':'')+(_0x139b80?'[Stencil]':'')+'\x20'+_0x1ccdab['width']+'\x20x\x20'+_0x1ccdab['height']+(this['samples']>0x1996+0x236*-0xe+0x55e?'\x20samples:\x20'+this['samples']:'')+(_0x290f5b>0x23b*0x1+-0x2*-0x1127+-0x2489?'\x20mipLevel:'+'\x20'+_0x290f5b:''):'',_0x3f95fd=this['_skipStart']?'++':_0x37f2ee['toString']()['padEnd'](0x158e+-0x1044+0x68*-0xd,'\x20');v['trace'](jp,_0x3f95fd+':\x20'+this['name']['padEnd'](0x4d5*-0x4+0x4*-0x86+-0x10*-0x158,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x165053['padEnd'](0x1854+-0x921+0x8f*-0x1b));for(let _0x261d65=0x23ee+0x266f+0x1*-0x4a5d;_0x261d65<_0x4dc36e;_0x261d65++){const _0x31b309=this['colorArray'+'Ops'][_0x261d65],_0x348fad=(_0x257b7b=xt['get'](_0xcd6858?_0x1e3a68['backBuffer'+'Format']:_0x1ccdab['getColorBu'+'ffer'](_0x261d65)['format']))==null?void(0x1149*-0x1+-0x17a4+0x28ed):_0x257b7b['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x261d65+']:\x20'+(_0x31b309['clear']?'clear':'load')+'->'+(_0x31b309['store']?'store':'discard')+'\x20'+(_0x31b309['resolve']?'resolve\x20':'')+(_0x31b309['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x348fad+']\x20'+(_0x31b309['clear']?'[clear:\x20'+_0x31b309['clearValue']['toString'](!(-0x1149+-0xd96+-0x1*-0x1edf),!(-0xa53*0x2+-0x4*-0x9a7+-0xb*0x1a2))+']':''));}if(this['depthStenc'+'ilOps']){const _0x40739f=''+(_0x1ccdab['depthBuffe'+'r']?'\x20[format:\x20'+((_0x584899=xt['get'](_0x1ccdab['depthBuffe'+'r']['format']))==null?void(-0x146*-0x1b+0x1*-0x15c4+0x1*-0xc9e):_0x584899['name'])+']':'');_0x32eddb&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x40739f+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x139b80&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x40739f+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x197a64){this['array'][this['index']]=_0x197a64;}function xb(_0xbd14be,_0x273c2a){this['array'][this['index']]=_0xbd14be,this['array'][this['index']+(0x1459+-0x694*0x5+0xc8c)]=_0x273c2a;}function Sb(_0x3eacae,_0x29bc47,_0x436532){this['array'][this['index']]=_0x3eacae,this['array'][this['index']+(-0x1c6c+0x25f8+-0x15d*0x7)]=_0x29bc47,this['array'][this['index']+(0x1*0x2501+0x52b*-0x3+-0x157e)]=_0x436532;}function vb(_0x51b546,_0x5068f2,_0xdc7248,_0x34c867){this['array'][this['index']]=_0x51b546,this['array'][this['index']+(0x24e0*0x1+0x1*0x253+-0x15a*0x1d)]=_0x5068f2,this['array'][this['index']+(-0x24c4+0x287*0x2+0x1fb8)]=_0xdc7248,this['array'][this['index']+(0x66*-0x2+-0x9*-0x97+-0x480)]=_0x34c867;}function bb(_0x51525c,_0x37a499,_0x434a9e){this['array'][_0x51525c]=_0x37a499[_0x434a9e];}function wb(_0x1d41c8,_0x2eb94b,_0x17857d){this['array'][_0x1d41c8]=_0x2eb94b[_0x17857d],this['array'][_0x1d41c8+(0x1e88+0x1fe0*-0x1+-0xf*-0x17)]=_0x2eb94b[_0x17857d+(-0x1438+-0x6ad*0x3+0x2840)];}function Tb(_0xbc5517,_0x16211c,_0x4f1a8e){this['array'][_0xbc5517]=_0x16211c[_0x4f1a8e],this['array'][_0xbc5517+(-0x19*-0x87+-0x1671+-0x943*-0x1)]=_0x16211c[_0x4f1a8e+(-0x1*-0x755+0x6f9+0x20b*-0x7)],this['array'][_0xbc5517+(0x119c*-0x1+-0x10c9*-0x2+-0xff4)]=_0x16211c[_0x4f1a8e+(0xff4+0x3b3+-0x13a5)];}function Ab(_0x17c86d,_0x2fdd1f,_0x477516){this['array'][_0x17c86d]=_0x2fdd1f[_0x477516],this['array'][_0x17c86d+(0x19ba+0x14*0x183+-0x37f5)]=_0x2fdd1f[_0x477516+(0x2*0x9ef+0x79c+-0x1b79*0x1)],this['array'][_0x17c86d+(0x238c+-0xdab*0x1+0x15df*-0x1)]=_0x2fdd1f[_0x477516+(-0x19c7*-0x1+-0xf9*0x27+0xc2a)],this['array'][_0x17c86d+(0x24*-0xf6+-0x14bb+0x3756)]=_0x2fdd1f[_0x477516+(-0x4*0x818+-0x1324+0x3387)];}function Eb(_0x10caad,_0x1eb672,_0x1617ec){_0x1eb672[_0x1617ec]=this['array'][_0x10caad];}function Cb(_0x23bfa2,_0x5da29c,_0x1fea60){_0x5da29c[_0x1fea60]=this['array'][_0x23bfa2],_0x5da29c[_0x1fea60+(-0x2*0x218+0xa3+0x38e)]=this['array'][_0x23bfa2+(0xa10+0x3*0xaf2+-0x2ae5)];}function Mb(_0x114bda,_0x10853b,_0x32faf7){_0x10853b[_0x32faf7]=this['array'][_0x114bda],_0x10853b[_0x32faf7+(-0x607*0x1+0x1*-0xb62+0x1*0x116a)]=this['array'][_0x114bda+(0x32b*0x4+0x47*0x1f+-0x1544)],_0x10853b[_0x32faf7+(-0x1c4+0x1eb7+0x1cf1*-0x1)]=this['array'][_0x114bda+(-0x7cc*-0x5+0xca1+-0x339b)];}function Pb(_0x14327a,_0x115f38,_0x2166bc){_0x115f38[_0x2166bc]=this['array'][_0x14327a],_0x115f38[_0x2166bc+(-0x12*-0xc+0x1ff0+-0x20c7)]=this['array'][_0x14327a+(0x1*0xf71+-0x3*0xcb7+0x16b5)],_0x115f38[_0x2166bc+(0x11*0x9b+0x253a+0x2f83*-0x1)]=this['array'][_0x14327a+(-0x7*-0x223+-0x2*0xbc9+0x1*0x89f)],_0x115f38[_0x2166bc+(-0x2*0x1186+-0xd20+-0x5*-0x9a3)]=this['array'][_0x14327a+(-0x7*0xd5+-0x84b*-0x2+-0xac0)];}class Rb{constructor(_0x311c08,_0x9c2c39,_0x19f115){switch(this['index']=0x6*-0x1af+-0x14c9*-0x1+-0xaaf,this['numCompone'+'nts']=_0x9c2c39['numCompone'+'nts'],_0x19f115['interleave'+'d']?this['array']=new da[_0x9c2c39['dataType']](_0x311c08,_0x9c2c39['offset']):this['array']=new da[_0x9c2c39['dataType']](_0x311c08,_0x9c2c39['offset'],_0x19f115['vertexCoun'+'t']*_0x9c2c39['numCompone'+'nts']),this['stride']=_0x9c2c39['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x9c2c39['numCompone'+'nts']){case 0x1*-0x173d+0xecd*0x1+-0x871*-0x1:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case 0x966*-0x3+0x2fb+-0xb*-0x24b:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0x25bc+-0x52d*0x3+-0x6*-0x8e1:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0x7f7*-0x1+0x72f*0x2+-0x663:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x5c427d){return this['array'][this['index']+_0x5c427d];}['set'](_0x1e57cd,_0x115887,_0x188cdd,_0x110c05){}['getToArray'](_0x1d1675,_0x130efd,_0x5b7b02){}['setFromArr'+'ay'](_0x22d6d8,_0x84832b,_0x4e140b){}}class go{constructor(_0x27ab71){this['vertexBuff'+'er']=_0x27ab71,this['vertexForm'+'atSize']=_0x27ab71['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x4a4f5e=this['vertexBuff'+'er']['getFormat']();for(let _0x5ab75a=0x1*-0x586+0x39*-0x1c+0xbc2;_0x5ab75a<_0x4a4f5e['elements']['length'];_0x5ab75a++){const _0x8ec789=_0x4a4f5e['elements'][_0x5ab75a];this['accessors'][_0x5ab75a]=new Rb(this['buffer'],_0x8ec789,_0x4a4f5e),this['element'][_0x8ec789['name']]=this['accessors'][_0x5ab75a];}}['next'](_0x196d13=-0x243+-0x27c*0xb+0x1d98){let _0x48c57c=0x1*0x1d9b+0x2db*0xd+0x49*-0xea;const _0x1977e3=this['accessors'],_0x583cff=this['accessors']['length'];for(;_0x48c57c<_0x583cff;){const _0x387f68=_0x1977e3[_0x48c57c++];_0x387f68['index']+=_0x196d13*_0x387f68['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x410f4b,_0x1a6357,_0x4d9c75){const _0x3b6c18=this['element'][_0x410f4b];if(_0x3b6c18){_0x4d9c75>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x4d9c75+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x4d9c75=this['vertexBuff'+'er']['numVertice'+'s']);const _0x306d9d=_0x3b6c18['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x13ca2b=0x2527+-0x9b*0x5+-0x2220;for(let _0xdab2c3=0x1c45*0x1+-0x2*0x12b5+0x925;_0xdab2c3<_0x4d9c75;_0xdab2c3++)_0x3b6c18['setFromArr'+'ay'](_0x13ca2b,_0x1a6357,_0xdab2c3*_0x306d9d),_0x13ca2b+=_0x3b6c18['stride'];}else{if(_0x1a6357['length']>_0x4d9c75*_0x306d9d){const _0x40c3cc=_0x4d9c75*_0x306d9d;if(ArrayBuffer['isView'](_0x1a6357))_0x1a6357=_0x1a6357['subarray'](0x219b+0x1371*0x1+-0x1c*0x1e5,_0x40c3cc),_0x3b6c18['array']['set'](_0x1a6357);else{for(let _0x30eba7=-0x2439+-0xd81*-0x2+0x937;_0x30eba7<_0x40c3cc;_0x30eba7++)_0x3b6c18['array'][_0x30eba7]=_0x1a6357[_0x30eba7];}}else _0x3b6c18['array']['set'](_0x1a6357);}}}['readData'](_0x48648f,_0x4fe7d6){const _0x3736c5=this['element'][_0x48648f];let _0x70fb9c=0x1*-0x125f+-0x2253+0x34b2;if(_0x3736c5){_0x70fb9c=this['vertexBuff'+'er']['numVertice'+'s'];let _0x263c61;const _0x3c3c45=_0x3736c5['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x4fe7d6)&&(_0x4fe7d6['length']=0x7*0x52f+-0x196f+-0xada),_0x3736c5['index']=-0x1*-0x728+-0x1a*-0xc2+-0x1adc;let _0x597bc2=0x312+-0x23e*-0xc+0x9fe*-0x3;for(_0x263c61=0x34d+0x535+-0x63*0x16;_0x263c61<_0x70fb9c;_0x263c61++)_0x3736c5['getToArray'](_0x597bc2,_0x4fe7d6,_0x263c61*_0x3c3c45),_0x597bc2+=_0x3736c5['stride'];}else{if(ArrayBuffer['isView'](_0x4fe7d6))_0x4fe7d6['set'](_0x3736c5['array']);else{_0x4fe7d6['length']=0x506+-0x1cbd+0x17b7;const _0x5d1e74=_0x70fb9c*_0x3c3c45;for(_0x263c61=-0x39*-0x33+-0x14fd*-0x1+-0x2058;_0x263c61<_0x5d1e74;_0x263c61++)_0x4fe7d6[_0x263c61]=_0x3736c5['array'][_0x263c61];}}}return _0x70fb9c;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(-0x1fc5+-0xac3+0x2a89);class Db{constructor(_0x124b10,_0x379871){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x379871&&(this['key']=_0x379871['keyCode'],this['element']=_0x379871['target'],this['event']=_0x379871);}}const Sl=new Db();function fd(_0x553903){return Sl['key']=_0x553903['keyCode'],Sl['element']=_0x553903['target'],Sl['event']=_0x553903,Sl;}function vl(_0x31aeb8){return typeof _0x31aeb8=='string'?_0x31aeb8['toUpperCas'+'e']()['charCodeAt'](-0x48*0x1f+-0x4*0x1eb+0x1064):_0x31aeb8;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x3f3d94,_0x4893e3={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x3f3d94&&this['attach'](_0x3f3d94),this['preventDef'+'ault']=_0x4893e3['preventDef'+'ault']||!(-0xdf*-0x3+0xd*-0x17b+-0x1*-0x10a3),this['stopPropag'+'ation']=_0x4893e3['stopPropag'+'ation']||!(-0x2*-0xc6a+-0x1c5f+0x1c6*0x2));}['attach'](_0x2b9d09){this['_element']&&this['detach'](),this['_element']=_0x2b9d09,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x1dfb+-0x1fb6+0xde*0x2)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0xd*0x202+0x1*0x1f0b+-0x13c*0x4)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0xd7d+-0xbef+-0x1*0x18d)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x95d*0x1+0xf6d+-0x5*0x4f5)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x2283+0x4*-0x394+-0x1432));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xee*0x17+0x106*0xf+0x609)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x65d+-0x14c3+-0x56d*-0x5));}['toKeyIdent'+'ifier'](_0x47665b){_0x47665b=vl(_0x47665b);const _0x15a1f6=Lb[_0x47665b['toString']()];if(_0x15a1f6)return _0x15a1f6;let _0x4ccfde=_0x47665b['toString'](0x2*-0x481+-0xd5d+-0x166f*-0x1)['toUpperCas'+'e']();const _0x5c565e=_0x4ccfde['length'];for(let _0x98575a=0x1f8a+0x1bb6*0x1+0xed*-0x40;_0x98575a<0x2d+0x194e+-0x1977-_0x5c565e;_0x98575a++)_0x4ccfde='0'+_0x4ccfde;return'U+'+_0x4ccfde;}['_handleKey'+'Down'](_0xc05065){const _0x3767ef=_0xc05065['keyCode']||_0xc05065['charCode'];if(_0x3767ef===void(0x1938+-0x26e1*0x1+-0xd*-0x10d))return;const _0x39022=this['toKeyIdent'+'ifier'](_0x3767ef);this['_keymap'][_0x39022]=!(0x2203+0x6ce+-0x28d1),this['fire']('keydown',fd(_0xc05065)),this['preventDef'+'ault']&&_0xc05065['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0xc05065['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x236def){const _0x1f005c=_0x236def['keyCode']||_0x236def['charCode'];if(_0x1f005c===void(0x16*-0xf7+-0x1c1+0x16fb))return;const _0x3a8b7e=this['toKeyIdent'+'ifier'](_0x1f005c);delete this['_keymap'][_0x3a8b7e],this['fire']('keyup',fd(_0x236def)),this['preventDef'+'ault']&&_0x236def['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x236def['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x1c432e){this['fire']('keypress',fd(_0x1c432e)),this['preventDef'+'ault']&&_0x1c432e['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x1c432e['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x492131 in this['_lastmap'])delete this['_lastmap'][_0x492131];for(const _0x31d9b2 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x31d9b2)&&(this['_lastmap'][_0x31d9b2]=this['_keymap'][_0x31d9b2]);}['isPressed'](_0xbfd940){const _0x3b3ba5=vl(_0xbfd940),_0x900747=this['toKeyIdent'+'ifier'](_0x3b3ba5);return!!this['_keymap'][_0x900747];}['wasPressed'](_0x531a1b){const _0x2248b9=vl(_0x531a1b),_0x53eb3b=this['toKeyIdent'+'ifier'](_0x2248b9);return!!this['_keymap'][_0x53eb3b]&&!this['_lastmap'][_0x53eb3b];}['wasRelease'+'d'](_0x46fbce){const _0x5ee348=vl(_0x46fbce),_0x15a512=this['toKeyIdent'+'ifier'](_0x5ee348);return!this['_keymap'][_0x15a512]&&!!this['_lastmap'][_0x15a512];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x46cece,_0x564c32){c(this,'x',-0xc*-0x24+0xc8*0x17+0x88*-0x25),c(this,'y',-0x7cd*0x4+0x21cf*-0x1+0x4103),c(this,'dx',0xe98*0x2+-0x1*-0x1dcb+-0x3afb),c(this,'dy',0x7*-0x1c6+0x1*-0x66f+0x5*0x3c5),c(this,'button',Ib),c(this,'wheelDelta',-0x7*-0x33b+0xae8+0x1*-0x2185),c(this,'element'),c(this,'ctrlKey',!(0x194d+0x261c+0x7ed*-0x8)),c(this,'altKey',!(0x1668+-0xe4d*0x2+0x633)),c(this,'shiftKey',!(0x16b7*-0x1+0x6d*-0x26+0x1373*0x2)),c(this,'metaKey',!(-0xd1b+0x4ff*0x1+-0x43*-0x1f)),c(this,'event');let _0x353695={'x':0x0,'y':0x0};if(_0x564c32){if(_0x564c32 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x353695=_0x46cece['_getTarget'+'Coords'](_0x564c32);}else _0x564c32={};if(_0x353695)this['x']=_0x353695['x'],this['y']=_0x353695['y'];else{if(Pu())this['x']=0x2695+0x1751+-0x13*0x342,this['y']=-0x2*-0x394+-0x1*0x1031+0x909;else return;}_0x564c32['type']==='wheel'&&(_0x564c32['deltaY']>0x283*0xe+-0x1f12+-0x4*0x106?this['wheelDelta']=0x9*0x362+-0xcb2*0x3+0x7a5:_0x564c32['deltaY']<0x111f+0x11f6+-0x2315*0x1&&(this['wheelDelta']=-(0xa53+0x9cd*0x1+-0x141f))),Pu()?(this['dx']=_0x564c32['movementX']||_0x564c32['webkitMove'+'mentX']||_0x564c32['mozMovemen'+'tX']||-0x1*-0x232f+0x2b*-0xa3+-0x1b*0x4a,this['dy']=_0x564c32['movementY']||_0x564c32['webkitMove'+'mentY']||_0x564c32['mozMovemen'+'tY']||-0x7*0xbc+-0x1a39+-0x25*-0xd9):(this['dx']=this['x']-_0x46cece['_lastX'],this['dy']=this['y']-_0x46cece['_lastY']),(_0x564c32['type']==='mousedown'||_0x564c32['type']==='mouseup')&&(this['button']=_0x564c32['button']),this['buttons']=_0x46cece['_buttons']['slice'](0xf66+-0x24a*0x5+0x1fa*-0x2),this['element']=_0x564c32['target'],this['ctrlKey']=_0x564c32['ctrlKey']??!(-0x23bd*-0x1+0x116*-0x6+-0x154*0x16),this['altKey']=_0x564c32['altKey']??!(-0x37*-0x10+0x4af+0x40f*-0x2),this['shiftKey']=_0x564c32['shiftKey']??!(0x1b+-0x1790+0x222*0xb),this['metaKey']=_0x564c32['metaKey']??!(0x528+0x24c3*-0x1+-0x484*-0x7),this['event']=_0x564c32;}}class bl extends ce{constructor(_0x253cea){super(),c(this,'_lastX',-0x2a0+-0x1dce+0x206e*0x1),c(this,'_lastY',0x836+-0xbe2+0x3ac),c(this,'_buttons',[!(-0x1*0x25d2+-0x1aec+0x40bf),!(0x41b+-0x2451+-0x3*-0xabd),!(-0x1116+0x167e*0x1+-0x567)]),c(this,'_lastbutto'+'ns',[!(0x1640+-0x1*0x2289+0xc4a),!(-0xbe6+0x1c08+-0x1021),!(0x4*-0x1b5+-0x1498+0x11*0x19d)]),c(this,'_target',null),c(this,'_attached',!(0x349+-0x2*0x1f9+-0xa*-0x11)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x3a729a=>{_0x3a729a['preventDef'+'ault']();},this['attach'](_0x253cea));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x382d6c){if(this['_target']=_0x382d6c,this['_attached'])return;this['_attached']=!(0x1*-0x1e2e+0xeef+0xf3f);const _0x56ca99={'passive':!(-0xde2+-0x13*0x17+-0x7cc*-0x2)},_0x51f0bb=ye['passiveEve'+'nts']?_0x56ca99:!(-0x254f*-0x1+0x24d*-0x1+0xbab*-0x3);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x51f0bb),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x51f0bb),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x51f0bb),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x51f0bb);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0xbd5+0x1*0xe9e+-0x4*0xb2),this['_target']=null;const _0x5a934e={'passive':!(0x10*-0x1f3+0x1e1+0x1d50)},_0x303380=ye['passiveEve'+'nts']?_0x5a934e:!(-0xca6+0x3da+0x8cd);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x303380),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x303380),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x303380),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x303380);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x440d2e,_0x109059){if(!document['body']['requestPoi'+'nterLock']){_0x109059&&_0x109059();return;}const _0x580c06=()=>{_0x440d2e(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x580c06);},_0x3c8962=()=>{_0x109059(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x3c8962);};_0x440d2e&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x580c06,!(-0x152b*-0x1+-0x1*0x10f3+-0x437)),_0x109059&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x3c8962,!(-0xd*-0x122+0x1*0xeb5+-0x1d6e)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x7def8){if(!document['exitPointe'+'rLock'])return;const _0x120e8e=()=>{_0x7def8(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x120e8e);};_0x7def8&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x120e8e,!(0x12ac+-0x1a4a+0x79f)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x1*0xeb9+0x687+0x832]=this['_buttons'][0x5*-0x451+0x547+0x104e],this['_lastbutto'+'ns'][-0x2a5+-0x360+0x3*0x202]=this['_buttons'][0x7*0x523+-0x573+-0x1e81],this['_lastbutto'+'ns'][0x231f+-0x335*0x7+-0xcaa*0x1]=this['_buttons'][-0x1529*0x1+0x1f6*0xe+0x1*-0x649];}['isPressed'](_0x308115){return this['_buttons'][_0x308115];}['wasPressed'](_0x2248bd){return this['_buttons'][_0x2248bd]&&!this['_lastbutto'+'ns'][_0x2248bd];}['wasRelease'+'d'](_0x4725e7){return!this['_buttons'][_0x4725e7]&&this['_lastbutto'+'ns'][_0x4725e7];}['_handleUp'](_0x3b3d43){this['_buttons'][_0x3b3d43['button']]=!(-0x1082+0x22*-0x1f+0x1*0x14a1);const _0x2445b3=new ta(this,_0x3b3d43);_0x2445b3['event']&&this['fire'](Lm,_0x2445b3);}['_handleDow'+'n'](_0x5c0f89){this['_buttons'][_0x5c0f89['button']]=!(0x1*0x5cf+0xeb4*-0x2+0x1799);const _0x2c1a72=new ta(this,_0x5c0f89);_0x2c1a72['event']&&this['fire'](Im,_0x2c1a72);}['_handleMov'+'e'](_0x3a8ff0){const _0xa45f89=new ta(this,_0x3a8ff0);_0xa45f89['event']&&(this['fire'](Dm,_0xa45f89),this['_lastX']=_0xa45f89['x'],this['_lastY']=_0xa45f89['y']);}['_handleWhe'+'el'](_0x22621e){const _0x53ace8=new ta(this,_0x22621e);_0x53ace8['event']&&this['fire'](Mu,_0x53ace8);}['_getTarget'+'Coords'](_0x4296ca){const _0x412624=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x54867c=Math['floor'](_0x412624['left']),_0x5aae93=Math['floor'](_0x412624['top']);return _0x4296ca['clientX']<_0x54867c||_0x4296ca['clientX']>=_0x54867c+this['_target']['clientWidt'+'h']||_0x4296ca['clientY']<_0x5aae93||_0x4296ca['clientY']>=_0x5aae93+this['_target']['clientHeig'+'ht']?null:{'x':_0x4296ca['clientX']-_0x54867c,'y':_0x4296ca['clientY']-_0x5aae93};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x43e882,_0x23625f,_0x16ba02){return typeof _0x23625f=='function'&&(_0x16ba02=_0x23625f,_0x23625f={}),this['request']('GET',_0x43e882,_0x23625f,_0x16ba02);}['post'](_0x4be76d,_0x52b0fc,_0x57b556,_0x40552a){return typeof _0x57b556=='function'&&(_0x40552a=_0x57b556,_0x57b556={}),_0x57b556['postdata']=_0x52b0fc,this['request']('POST',_0x4be76d,_0x57b556,_0x40552a);}['put'](_0x24d568,_0x3fcb1d,_0x33be70,_0x34c618){return typeof _0x33be70=='function'&&(_0x34c618=_0x33be70,_0x33be70={}),_0x33be70['postdata']=_0x3fcb1d,this['request']('PUT',_0x24d568,_0x33be70,_0x34c618);}['del'](_0x363683,_0xa77aa1,_0x3f3077){return typeof _0xa77aa1=='function'&&(_0x3f3077=_0xa77aa1,_0xa77aa1={}),this['request']('DELETE',_0x363683,_0xa77aa1,_0x3f3077);}['request'](_0xd847e2,_0x19eaf0,_0x3c12a8,_0x4c13af){let _0xe06232,_0x79c716,_0x2b5155,_0x59d736=!(0xafd+-0x241c+0x1920);if(typeof _0x3c12a8=='function'&&(_0x4c13af=_0x3c12a8,_0x3c12a8={}),_0x3c12a8['retry']&&(_0x3c12a8=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x3c12a8)),_0x3c12a8['callback']=_0x4c13af,_0x3c12a8['async']==null&&(_0x3c12a8['async']=!(-0x1a35+-0x1aca+0x1*0x34ff)),_0x3c12a8['headers']==null&&(_0x3c12a8['headers']={}),_0x3c12a8['postdata']!=null){if(_0x3c12a8['postdata']instanceof Document)_0x2b5155=_0x3c12a8['postdata'];else{if(_0x3c12a8['postdata']instanceof FormData)_0x2b5155=_0x3c12a8['postdata'];else{if(_0x3c12a8['postdata']instanceof Object){let _0x3b74ea=_0x3c12a8['headers']['Content-Ty'+'pe'];switch(_0x3b74ea===void(0x178+0x1ade*0x1+-0x1c56)&&(_0x3c12a8['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x3b74ea=_0x3c12a8['headers']['Content-Ty'+'pe']),_0x3b74ea){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x2b5155='';let _0x5ecb58=!(0x2*-0x139+0x1ff7+-0x1d85);for(const _0x929356 in _0x3c12a8['postdata'])if(_0x3c12a8['postdata']['hasOwnProp'+'erty'](_0x929356)){_0x5ecb58?_0x5ecb58=!(-0x1917+0x1*-0xd25+0xfb*0x27):_0x2b5155+='&';const _0xfad6b0=encodeURIComponent(_0x929356),_0x1bf8ec=encodeURIComponent(_0x3c12a8['postdata'][_0x929356]);_0x2b5155+=_0xfad6b0+'='+_0x1bf8ec;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x3b74ea==null&&(_0x3c12a8['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x2b5155=JSON['stringify'](_0x3c12a8['postdata']);break;}}else _0x2b5155=_0x3c12a8['postdata'];}}}if(_0x3c12a8['cache']===!(0x2320*-0x1+0xdd2*0x1+0x154f)){const _0x34f021=ne();_0xe06232=new sd(_0x19eaf0),_0xe06232['query']?_0xe06232['query']=_0xe06232['query']+'&ts='+_0x34f021:_0xe06232['query']='ts='+_0x34f021,_0x19eaf0=_0xe06232['toString']();}_0x3c12a8['query']&&(_0xe06232=new sd(_0x19eaf0),_0x79c716=vh(_0xe06232['getQuery'](),_0x3c12a8['query']),_0xe06232['setQuery'](_0x79c716),_0x19eaf0=_0xe06232['toString']());const _0x583a30=new XMLHttpRequest();_0x583a30['open'](_0xd847e2,_0x19eaf0,_0x3c12a8['async']),_0x583a30['withCreden'+'tials']=_0x3c12a8['withCreden'+'tials']!==void(0xcfa+0x896+-0x17*0xf0)?_0x3c12a8['withCreden'+'tials']:!(-0x1*0x1274+0x10b*-0x17+0x2a72),_0x583a30['responseTy'+'pe']=_0x3c12a8['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x19eaf0);for(const _0x58cfcb in _0x3c12a8['headers'])_0x3c12a8['headers']['hasOwnProp'+'erty'](_0x58cfcb)&&_0x583a30['setRequest'+'Header'](_0x58cfcb,_0x3c12a8['headers'][_0x58cfcb]);_0x583a30['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0xd847e2,_0x19eaf0,_0x3c12a8,_0x583a30);},_0x583a30['onerror']=()=>{this['_onError'](_0xd847e2,_0x19eaf0,_0x3c12a8,_0x583a30),_0x59d736=!(0x138e+0xb+0xad*-0x1d);};try{_0x583a30['send'](_0x2b5155);}catch(_0x191e20){_0x59d736||_0x3c12a8['error'](_0x583a30['status'],_0x583a30,_0x191e20);}return _0x583a30;}['_guessResp'+'onseType'](_0x1e3565){const _0x3e1bc5=new sd(_0x1e3565),_0x456109=fe['getExtensi'+'on'](_0x3e1bc5['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x456109)>=-0x1a0b+0x3e5*-0x2+-0x1*-0x21d5?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x456109==='.json'?be['ResponseTy'+'pe']['JSON']:_0x456109==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x3aee61){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x3aee61)>=0x1ac2+0x23e9*-0x1+0x21*0x47;}['_isBinaryR'+'esponseTyp'+'e'](_0x266704){return _0x266704===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x266704===be['ResponseTy'+'pe']['BLOB']||_0x266704===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5e2f9a,_0x1af416,_0x1adacf,_0x2097b2){if(_0x2097b2['readyState']===-0x1b2+0x4*0x3f0+-0xe0a*0x1)switch(_0x2097b2['status']){case 0x1*0x2709+0x918+0x1*-0x3021:{_0x2097b2['responseUR'+'L']&&_0x2097b2['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5e2f9a,_0x1af416,_0x1adacf,_0x2097b2):this['_onError'](_0x5e2f9a,_0x1af416,_0x1adacf,_0x2097b2);break;}case 0x12de+0x2353+0x79*-0x71:case-0x1cbc+0x15f0+-0x795*-0x1:case 0x1*-0x645+0x48f+0x284:case-0x25fb+0x1a86*0x1+-0x53*-0x27:{this['_onSuccess'](_0x5e2f9a,_0x1af416,_0x1adacf,_0x2097b2);break;}default:{this['_onError'](_0x5e2f9a,_0x1af416,_0x1adacf,_0x2097b2);break;}}}['_onSuccess'](_0x4c1dd4,_0x4b3cd2,_0x94a31a,_0x37e2d0){let _0xf90109,_0x2b20aa;const _0x53d063=_0x37e2d0['getRespons'+'eHeader']('Content-Ty'+'pe');_0x53d063&&(_0x2b20aa=_0x53d063['split'](';')[0x2*0x16f+0xbb6*0x1+-0x74a*0x2]['trim']());try{this['_isBinaryC'+'ontentType'](_0x2b20aa)||this['_isBinaryR'+'esponseTyp'+'e'](_0x37e2d0['responseTy'+'pe'])?_0xf90109=_0x37e2d0['response']:_0x2b20aa===be['ContentTyp'+'e']['JSON']||_0x4b3cd2['split']('?')[-0x1a9f+-0x9d9+0x2478]['endsWith']('.json')?_0xf90109=JSON['parse'](_0x37e2d0['responseTe'+'xt']):_0x37e2d0['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x2b20aa===be['ContentTyp'+'e']['XML']?_0xf90109=_0x37e2d0['responseXM'+'L']:_0xf90109=_0x37e2d0['responseTe'+'xt'],_0x94a31a['callback'](null,_0xf90109);}catch(_0x2de881){_0x94a31a['callback'](_0x2de881);}}['_onError'](_0x113888,_0x32199e,_0x54188b,_0x355e07){if(!_0x54188b['retrying']){if(_0x54188b['retry']&&_0x54188b['retries']<_0x54188b['maxRetries']){_0x54188b['retries']++,_0x54188b['retrying']=!(0x2*0x1231+-0x1*-0x143d+-0x389f);const _0x31cb23=N['clamp'](Math['pow'](-0x8f9+-0x9cc*-0x2+0xa9d*-0x1,_0x54188b['retries'])*be['retryDelay'],-0x227e+0x1078+0x1206,_0x54188b['maxRetryDe'+'lay']||-0x2559+0xb6+0x382b);console['log'](_0x113888+':\x20'+_0x32199e+'\x20-\x20Error\x20'+_0x355e07['status']+('.\x20Retrying'+'\x20in\x20')+_0x31cb23+'\x20ms'),setTimeout(()=>{_0x54188b['retrying']=!(-0x5*-0x3e3+0x2c*-0x2e+0xa*-0x127),this['request'](_0x113888,_0x32199e,_0x54188b,_0x54188b['callback']);},_0x31cb23);}else _0x54188b['callback'](_0x355e07['status']===0x42*0x89+0xc13*0x3+-0x478b?'Network\x20er'+'ror':_0x355e07['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0x339+-0x1bf2+0x191d);let ls=be;const $e=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x2022d7,_0x50afb3,_0x50766c={}){if(this['volume']=_0x50766c['volume']??-0x26ac+0x1264+0x1449,this['loop']=_0x50766c['loop']??!(0x1480+0xc7e+-0x233*0xf),this['pitch']=_0x50766c['pitch']??0x697+0x1*-0x1a57+0x13c1,this['sound']=_0x50afb3,this['paused']=!(0x961+0x228d+-0x2bed),this['suspended']=!(0x1*0x5b1+-0xa5e*0x1+0x4ae),this['manager']=_0x2022d7,this['source']=null,Li()){this['startTime']=0x571+0xa63+0x2*-0x7ea,this['startOffse'+'t']=-0x1540+0x16b2+-0x172*0x1;const _0x36095e=_0x2022d7['context'];this['gain']=_0x36095e['createGain']();}else _0x50afb3['audio']&&(this['source']=_0x50afb3['audio']['cloneNode'](!(0xa7*0x17+-0xc*-0x6b+-0x1404)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x5ea321){this['loop']=_0x5ea321,this['source']&&(this['source']['loop']=_0x5ea321);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x240a+0x1*0x6be+-0x2ac8),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0x1*0x250c+0xc4d+0x18c0),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x1aab+-0xd*0x283+-0x13c6*-0x3,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(0x835+0x1fbd+-0x27f2),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x4a*0x73+0xa85*0x1+0x11*-0x293),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x1*0x143d+0x18e*0x10+0x2d1d*-0x1,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0xf*-0x7+0x10c9+-0x105f));}['stop'](){this['source']&&(this['source']['stop'](-0x136+0x1*0xea2+0x35b*-0x4),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x337291){_0x337291=N['clamp'](_0x337291,-0x1a7+-0x1*0xf92+-0x1*-0x1139,0x1419+-0x1ea*0x1+-0x1a*0xb3),this['volume']=_0x337291,this['gain']&&(this['gain']['gain']['value']=_0x337291*this['manager']['volume']);}['setPitch'](_0x2adbdb){this['pitch']=_0x2adbdb,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x2adbdb);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x969+-0xa*-0x89+0x40f;}['_createSou'+'rce'](){const _0x29705a=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x29705a['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x29705a['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x5bc+0x292*-0x2+0xae1),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x19d2+0x2200+-0x82e),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x6a2*-0x2+-0x166f+0x24b*0x4),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x218ba){_0x218ba=N['clamp'](_0x218ba,-0x2e*-0x9b+0x78b+-0x2365,-0x6bd+-0x6f5+-0x3*-0x491),this['volume']=_0x218ba,this['source']&&(this['source']['volume']=_0x218ba*this['manager']['volume']);},'setPitch':function(_0x46d7a1){this['pitch']=_0x46d7a1,this['source']&&(this['source']['playbackRa'+'te']=_0x46d7a1);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:0x20a4+0x1e7f+-0x3f23;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0xb*-0x67+-0x1*0x41fd+0x2*0x36bd;class Ru extends kh{constructor(_0x16deb0,_0x22aea8,_0x19f1f4){super(_0x16deb0,_0x22aea8,_0x19f1f4),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x16deb0['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x1a37*-0x1+-0x18f6+0x5*-0x40,this['rollOffFac'+'tor']=0x183d+-0x99b+-0xea1,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x324612){this['position']['copy'](_0x324612);const _0x10aa46=this['panner'];'positionX'in _0x10aa46?(_0x10aa46['positionX']['value']=_0x324612['x'],_0x10aa46['positionY']['value']=_0x324612['y'],_0x10aa46['positionZ']['value']=_0x324612['z']):_0x10aa46['setPositio'+'n']&&_0x10aa46['setPositio'+'n'](_0x324612['x'],_0x324612['y'],_0x324612['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x4fbb31){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x4fbb31);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x34ea97){this['panner']['maxDistanc'+'e']=_0x34ea97;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x1cbba9){this['panner']['refDistanc'+'e']=_0x1cbba9;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x3469ad){this['panner']['rolloffFac'+'tor']=_0x3469ad;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x4ca985){this['panner']['distanceMo'+'del']=_0x4ca985;}['_createSou'+'rce'](){const _0x158b1a=this['manager']['context'];this['source']=_0x158b1a['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x158b1a['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x93c356,_0x52c4bf,_0xfe6067,_0x4b4fb7,_0x18ed59,_0x140fc8){l=l['sub2'](_0x93c356,_0x52c4bf);const _0x5514dd=l['length']();if(_0x5514dd<_0xfe6067)return 0x1122+0x6b*0x2b+0x118d*-0x2;if(_0x5514dd>_0x4b4fb7)return 0x8*-0x218+-0x1*0xfc1+0x2081;let _0x4430a4=-0x1*0xb4f+0x1d3+0x97c*0x1;return _0x140fc8===cc?_0x4430a4=-0x994*0x4+0x131+0x2c*0xd8-_0x18ed59*(_0x5514dd-_0xfe6067)/(_0x4b4fb7-_0xfe6067):_0x140fc8===Ff?_0x4430a4=_0xfe6067/(_0xfe6067+_0x18ed59*(_0x5514dd-_0xfe6067)):_0x140fc8===cy&&(_0x4430a4=Math['pow'](_0x5514dd/_0xfe6067,-_0x18ed59)),N['clamp'](_0x4430a4,-0x1d1*0x1+0x21c6+-0x1ff5,0x17*0x9c+-0xac0+-0x343);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x678475){if(this['position']['copy'](_0x678475),this['source']){const _0x5a087d=this['manager']['listener']['getPositio'+'n'](),_0xd583aa=t(_0x5a087d,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x454e78=this['getVolume']();this['source']['volume']=_0x454e78*_0xd583aa;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x24540c){this['maxDistanc'+'e']=_0x24540c;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x3878b7){this['minDistanc'+'e']=_0x3878b7;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x5d3526){this['rollOffFac'+'tor']=_0x5d3526;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x784efd){this['distanceMo'+'del']=_0x784efd;}});}class Ob{constructor(_0x9bf04d){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x9bf04d;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x1aafc7){this['position']['copy'](_0x1aafc7);const _0x9721b7=this['listener'];_0x9721b7&&('positionX'in _0x9721b7?(_0x9721b7['positionX']['value']=_0x1aafc7['x'],_0x9721b7['positionY']['value']=_0x1aafc7['y'],_0x9721b7['positionZ']['value']=_0x1aafc7['z']):_0x9721b7['setPositio'+'n']&&_0x9721b7['setPositio'+'n'](_0x1aafc7['x'],_0x1aafc7['y'],_0x1aafc7['z']));}['setOrienta'+'tion'](_0x1c0eb9){this['orientatio'+'n']['copy'](_0x1c0eb9);const _0xbb0001=this['listener'];if(_0xbb0001){const _0xa22059=_0x1c0eb9['data'];'forwardX'in _0xbb0001?(_0xbb0001['forwardX']['value']=-_0xa22059[-0x47*0x17+0x1a50+-0x13e7],_0xbb0001['forwardY']['value']=-_0xa22059[0x1aa+-0x20ab+0x1f0a],_0xbb0001['forwardZ']['value']=-_0xa22059[0x3*0x67d+-0xf3e+-0x42f],_0xbb0001['upX']['value']=_0xa22059[0x24d1*-0x1+0xe69+0x166c],_0xbb0001['upY']['value']=_0xa22059[-0x5*0x791+-0x1fad+-0x3*-0x172d],_0xbb0001['upZ']['value']=_0xa22059[0x37c+-0x4*0x42a+0xd32]):_0xbb0001['setOrienta'+'tion']&&_0xbb0001['setOrienta'+'tion'](-_0xa22059[-0x28*0xd7+0x17c5+-0x9db*-0x1],-_0xa22059[-0xaa2+0xb18+0x1*-0x6d],-_0xa22059[-0x17a2+-0x235e+0x3b0a],_0xa22059[-0x7*0x1f7+-0xb6c*-0x1+0x259*0x1],_0xa22059[-0x493*-0x1+-0x1671+0x11e3],_0xa22059[-0x15d8+0x2526+-0x4*0x3d2]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x9f32f2=this['_manager']['context'];return _0x9f32f2?_0x9f32f2['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x5*-0x40f+-0xf17+-0x533),this['listener']=new Ob(this),this['_volume']=-0x5b9+0xc6e+0x6b4*-0x1;}set['volume'](_0x245274){_0x245274=N['clamp'](_0x245274,-0x65*-0x6+-0x7a1+0x543,0x1e93+0xfc2+-0x2e54),this['_volume']=_0x245274,this['fire']('volumechan'+'ge',_0x245274);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x16*0xe9+0x341*-0xc+-0x5*-0x3ce),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x3*0x897+-0x59b*0x6+0x3b68),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x58a2e1;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x58a2e1=this['_context'])==null||_0x58a2e1['close'](),this['_context']=null);}['playSound'](_0x5cc962,_0x425665={}){let _0x3eaec4=null;return kh&&(_0x3eaec4=new kh(this,_0x5cc962,_0x425665),_0x3eaec4['play']()),_0x3eaec4;}['playSound3'+'d'](_0x3895b9,_0x3a7f16,_0x3e8bbc={}){let _0x2b6360=null;return Ru&&(_0x2b6360=new Ru(this,_0x3895b9,_0x3e8bbc),_0x2b6360['setPositio'+'n'](_0x3a7f16),_0x3e8bbc['volume']&&_0x2b6360['setVolume'](_0x3e8bbc['volume']),_0x3e8bbc['loop']&&_0x2b6360['setLoop'](_0x3e8bbc['loop']),_0x3e8bbc['maxDistanc'+'e']&&_0x2b6360['setMaxDist'+'ance'](_0x3e8bbc['maxDistanc'+'e']),_0x3e8bbc['minDistanc'+'e']&&_0x2b6360['setMinDist'+'ance'](_0x3e8bbc['minDistanc'+'e']),_0x3e8bbc['rollOffFac'+'tor']&&_0x2b6360['setRollOff'+'Factor'](_0x3e8bbc['rollOffFac'+'tor']),_0x3e8bbc['distanceMo'+'del']&&_0x2b6360['setDistanc'+'eModel'](_0x3e8bbc['distanceMo'+'del']),_0x2b6360['play']()),_0x2b6360;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x3d9bfc=this['_context']['createBuff'+'erSource']();_0x3d9bfc['buffer']=this['_context']['createBuff'+'er'](-0x3b*-0x67+0x239b+-0x3b57,-0x1*-0x180d+0x25*0x83+-0x2afb*0x1,this['_context']['sampleRate']),_0x3d9bfc['connect'](this['_context']['destinatio'+'n']),_0x3d9bfc['start'](0xf0b+-0xb08+-0x403),_0x3d9bfc['onended']=_0x14617a=>{_0x3d9bfc['disconnect'](-0x39a*-0x2+-0x19e4+0x1*0x12b0),this['fire']('resume');};},_0x5b7281=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x5b7281);})['catch'](_0x56ca9d=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x56ca9d);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x578d93=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x578d93);})['catch'](_0x2b0b4d=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x2b0b4d);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x1a6a15=>{window['addEventLi'+'stener'](_0x1a6a15,this['_unlockHan'+'dlerFunc'],!(-0x13fe+0xab*0x27+-0x60e*0x1));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x7b878b=>{window['removeEven'+'tListener'](_0x7b878b,this['_unlockHan'+'dlerFunc'],!(0x25f3+0x1*-0x905+-0x1ced));});}}class Bb{constructor(_0x19aa3b){c(this,'audio'),c(this,'buffer'),_0x19aa3b instanceof Audio?this['audio']=_0x19aa3b:this['buffer']=_0x19aa3b;}get['duration'](){let _0x32f9d0=0x12*0x94+0x1*-0x469+-0x133*0x5;return this['buffer']?_0x32f9d0=this['buffer']['duration']:this['audio']&&(_0x32f9d0=this['audio']['duration']),_0x32f9d0||-0x1f78+-0x4*-0x5bd+-0x14*-0x6d;}}const Pt=-0x2486+-0x243*-0x7+0x14b1*0x1,sa=-0x1a7c+0x6*0x5bf+-0x7fd,ws=0xa7f+-0x1*-0x2683+-0x3100;function Rt(_0x27133a,_0x401d0e){return _0x27133a%_0x401d0e||0x2*-0xa61+-0x2*-0xae5+-0x21*0x8;}class ss extends ce{constructor(_0x3b9443,_0xc5449b,_0x2041ff){super(),c(this,'source',null),(this['_manager']=_0x3b9443,this['_volume']=_0x2041ff['volume']!==void(0x3*0xa03+0x11b*-0x4+-0x199d)?N['clamp'](Number(_0x2041ff['volume'])||-0x45*-0x71+-0x2147*0x1+-0x13*-0x26,0x16*-0x164+-0x1077+0x6b9*0x7,-0x1*-0x2241+-0xe76*0x1+0x9e5*-0x2):0x223*0x7+0x12f5+-0x1*0x21e9,this['_pitch']=_0x2041ff['pitch']!==void(0x177*-0x11+-0xb85+0x54*0x6f)?Math['max'](-0x18dd+0x16d+0x1770+0.01,Number(_0x2041ff['pitch'])||-0x1*0x651+0x23a6+0x3*-0x9c7):-0x22be+0xbb6+0x1709,this['_loop']=!!(_0x2041ff['loop']!==void(0x1*-0xfba+0x24e8+-0x152e)&&_0x2041ff['loop']),this['_sound']=_0xc5449b,this['_state']=ws,this['_suspended']=!(0xb03*-0x1+0xc58+0x55*-0x4),this['_suspendEn'+'dEvent']=-0xff9+-0x23d+0x1236,this['_suspendIn'+'stanceEven'+'ts']=!(-0x746+0x2*0x10ce+0x6b*-0x3f),this['_playWhenL'+'oaded']=!(0x11de*-0x1+-0x1*0x1f39+0x3117),this['_startTime']=Math['max'](0x120d+0x2573+0x4a0*-0xc,Number(_0x2041ff['startTime'])||0x132d+0x6de+-0x1a0b),this['_duration']=Math['max'](0x2*0x33b+0x13bb*-0x1+0x2b*0x4f,Number(_0x2041ff['duration'])||0xf53+-0x2*0x6aa+-0x1ff),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x2041ff['onPlay'],this['_onPauseCa'+'llback']=_0x2041ff['onPause'],this['_onResumeC'+'allback']=_0x2041ff['onResume'],this['_onStopCal'+'lback']=_0x2041ff['onStop'],this['_onEndCall'+'back']=_0x2041ff['onEnd'],Li()?(this['_startedAt']=0xae6*-0x1+-0x1b8b+0x2f5*0xd,this['_currentTi'+'me']=0x1*-0x3f8+0x1*0x17d7+0x1*-0x13df,this['_currentOf'+'fset']=0x519+-0x1b1b+0x139*0x12,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xcb*0xf+-0x2*-0x599+0xb4),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x25c7+0xa13*-0x1+0x2fdb),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x5c29dd){if(!(_0x5c29dd<0x5*0x443+-0x7*0x27d+-0x3e4)){if(this['_state']===Pt){const _0x471726=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x5*0x195+-0x3d2+0x15d*-0x3),this['stop'](),this['_startOffs'+'et']=_0x5c29dd,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x471726;}else this['_startOffs'+'et']=_0x5c29dd,this['_currentTi'+'me']=_0x5c29dd;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?0x1de*0x6+0x1f0d+0x1*-0x2a41:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x910b97){this['_duration']=Math['max'](0x1f56+-0x1*0x175c+-0x7fa,Number(_0x910b97)||0x1117+-0x2d0+0x5*-0x2db);const _0x262206=this['_state']===Pt;this['stop'](),_0x262206&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0xb1e+0x778*-0x2+0x1a0e;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x7d2b08){this['_loop']=!!_0x7d2b08,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x7c7178){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x7c7178)||-0x23b*0x2+-0x2595+-0xe5*-0x2f,-0x75b*-0x1+0x1*-0x9d+0x6be*-0x1+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x2c1dcf){this['_sound']=_0x2c1dcf,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x52fcbf){this['_startTime']=Math['max'](-0x19eb+-0x67d+-0x7a*-0x44,Number(_0x52fcbf)||-0x444+-0x1942+0x1d86);const _0x52c54b=this['_state']===Pt;this['stop'](),_0x52c54b&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x122921){_0x122921=N['clamp'](_0x122921,0xbe9*0x3+-0x2657+0x29c,-0x13*-0x196+-0x6ee*-0x2+-0x2bfd*0x1),this['_volume']=_0x122921,this['gain']&&(this['gain']['gain']['value']=_0x122921*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x26*-0xe0+-0x17*-0x165+0x12d){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(-0x1*-0x1875+-0xe37*0x1+-0x45*0x26),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x225e*0x1+0x2103+0x57*0x4),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0xa30+-0x20c6+0x1697),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x1*-0x155+0x21a8+-0x4*0x8bf):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x237c+-0xeb1*0x1+-0x14cb*0x1),!(-0xc65*-0x3+-0x9d2+-0x1b5c)):(this['_playAudio'+'Immediate'](),!(0x19d8+0x1*-0x29f+-0x1739));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x8bd+0x7d8*0x1+-0x2*-0x73),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x1369dd=Rt(this['_startOffs'+'et'],this['duration']);_0x1369dd=Rt(this['_startTime']+_0x1369dd,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x6cf+-0x137f+0x1a4e,_0x1369dd,this['_duration']):this['source']['start'](-0x1*-0xba2+-0x1f65+0x1*0x13c3,_0x1369dd),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x129d*-0x1+-0xe5*0x7+-0x6*0x20f,this['_currentOf'+'fset']=_0x1369dd,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x977+0x24fb+-0x1b83),this['_state']!==Pt?!(0x26b3+0x164+-0x2816):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0xd*0x2db+0x1*-0x1cf+-0x2350),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x1*0x183b+-0x8*-0x31d+-0xad));}['resume'](){if(this['_state']!==sa)return!(-0x1bfa+0x270b+-0xb10);let _0xa6bf5e=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0xa6bf5e=Rt(this['_startOffs'+'et'],this['duration']),_0xa6bf5e=Rt(this['_startTime']+_0xa6bf5e,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x22*0x3e+-0xef2+-0x1*-0x6b6,_0xa6bf5e,this['_duration']):this['source']['start'](0x553+0x123*-0xa+0x60b,_0xa6bf5e),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0xa6bf5e,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x1*-0x13fe+-0xdf+0x14de),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0xb46+0x3*0xa3+-0xd2f);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x1559+0x18ff+-0x2e57),this['_state']===ws)return!(-0x5*0x14+0xe27*-0x2+0x1cb3);const _0x4b3417=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1bb6+0xdf9+0xdbd,this['_currentTi'+'me']=0xf35+0x224f+0x18c2*-0x2,this['_currentOf'+'fset']=-0x23f9*-0x1+0x826*-0x4+-0x5*0xad,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x4b3417&&this['source']&&this['source']['stop'](-0x6d1+0x17*0x5c+-0x173),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x93d*0x1+-0x2022+0x5e9*0x7);}['setExterna'+'lNodes'](_0x260edf,_0x11195b){if(!_0x260edf){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x11195b||(_0x11195b=_0x260edf);const _0x3199fa=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x260edf&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x3199fa),this['_firstNode']=_0x260edf,this['_connector'+'Node']['connect'](_0x260edf)),this['_lastNode']!==_0x11195b&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x3199fa),this['_lastNode']=_0x11195b,this['_lastNode']['connect'](_0x3199fa));}['clearExter'+'nalNodes'](){const _0x360c40=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x360c40),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x360c40);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x27fb84=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x27fb84['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](-0xb43+0x218c+0x23*-0xa3),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x3*0x9fd+0x21b2+-0x3fa8):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x1*-0x2ea+-0x19a1*-0x1+-0x11*0x156),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x197e+0x8bf*0x1+0x6d9*-0x5));},'pause':function(){return!this['source']||this['_state']!==Pt?!(0x335*0xb+0x1*0x158a+-0x38d0):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x116a+-0x1*0x1e39+0xcd0),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0xbfd+0x284+0x1*0x979));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x1*0x7db+-0x68f*-0x3+0x1*-0x1b87):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x23b*0xb+0xc7e+0xe*-0x2a5),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x1fe8+-0xa3c+0x2a24));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x8*0x47f+-0x2*0xd57+0x3ea7*0x1):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x185f*0x1+0x127f+0x5e1),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x2153+0x145c*0x1+0xcf7));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x1*0x116b+-0x18e*-0x2+-0x1487);let _0x4bef8e=Rt(this['_startOffs'+'et'],this['duration']);_0x4bef8e=Rt(this['_startTime']+_0x4bef8e,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x4bef8e;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x2*0x1c1+-0xe37+0x11ba),this['source']=this['_sound']['audio']['cloneNode'](!(-0x83e*0x1+0x4f*0x29+-0x1*0x469)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x17cfb7){_0x17cfb7=N['clamp'](_0x17cfb7,0x380+0x881*-0x1+0x501,-0x515*-0x6+0x1*0xa6f+-0x28ec),this['_volume']=_0x17cfb7,this['source']&&(this['source']['volume']=_0x17cfb7*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x38eb64){this['_pitch']=Math['max'](Number(_0x38eb64)||-0x1*0x539+0x1d65+-0x1dc*0xd,-0x25c3+-0x2380+-0xb*-0x6a9+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x2f2e9){this['stop'](),this['_sound']=_0x2f2e9;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?-0x12cb+0x838*-0x1+-0x1cd*-0xf:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x231a73){_0x231a73<0x1ba8+-0x2fa+0x36*-0x75||(this['_startOffs'+'et']=_0x231a73,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x231a73,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0x52*0x13+-0x10*0x49b+0x2e2*0x25;class jn extends ss{constructor(_0x2e1d26,_0x20ee06,_0x54cec6={}){super(_0x2e1d26,_0x20ee06,_0x54cec6),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x54cec6['position']&&(this['position']=_0x54cec6['position']),this['maxDistanc'+'e']=_0x54cec6['maxDistanc'+'e']!==void(0x2*0x1be+0x1584+-0x1900)?Number(_0x54cec6['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x54cec6['refDistanc'+'e']!==void(0x6d2+0x1968+-0xa*0x339)?Number(_0x54cec6['refDistanc'+'e']):-0x31d*0xa+-0x15d+0x208*0x10,this['rollOffFac'+'tor']=_0x54cec6['rollOffFac'+'tor']!==void(-0x211a+0x6ac+0x1a6e)?Number(_0x54cec6['rollOffFac'+'tor']):-0x1*-0x31b+0x46*0x25+-0xd38,this['distanceMo'+'del']=_0x54cec6['distanceMo'+'del']!==void(0x1*-0x24d7+0x1*0x1558+0x1*0xf7f)?_0x54cec6['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x70699a){this['_position']['copy'](_0x70699a);const _0x48bba4=this['panner'];'positionX'in _0x48bba4?(_0x48bba4['positionX']['value']=_0x70699a['x'],_0x48bba4['positionY']['value']=_0x70699a['y'],_0x48bba4['positionZ']['value']=_0x70699a['z']):_0x48bba4['setPositio'+'n']&&_0x48bba4['setPositio'+'n'](_0x70699a['x'],_0x70699a['y'],_0x70699a['z']);}get['position'](){return this['_position'];}set['velocity'](_0x1ea1a8){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x1ea1a8);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x2ada5c){this['panner']['maxDistanc'+'e']=_0x2ada5c;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x7bcd05){this['panner']['refDistanc'+'e']=_0x7bcd05;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x58c9fe){this['panner']['rolloffFac'+'tor']=_0x58c9fe;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x3dfd6d){this['panner']['distanceMo'+'del']=_0x3dfd6d;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x4f832b,_0x1e193d,_0x1288f8,_0x31df08,_0x4c4d76,_0x34b1fb){l=l['sub2'](_0x4f832b,_0x1e193d);const _0x127a71=l['length']();if(_0x127a71<_0x1288f8)return 0x1aa3+-0x197d+-0x125;if(_0x127a71>_0x31df08)return-0x165b+-0x1991+0x2fec;let _0x54dc52=-0x1327+0x248e+-0x1167;return _0x34b1fb===cc?_0x54dc52=0x8*0x2ff+-0xbf8+-0xbff-_0x4c4d76*(_0x127a71-_0x1288f8)/(_0x31df08-_0x1288f8):_0x34b1fb===Ff?_0x54dc52=_0x1288f8/(_0x1288f8+_0x4c4d76*(_0x127a71-_0x1288f8)):_0x34b1fb===cy&&(_0x54dc52=Math['pow'](_0x127a71/_0x1288f8,-_0x4c4d76)),N['clamp'](_0x54dc52,0xc07+-0x10ec+-0x7*-0xb3,0x21ef+0x3e6*-0x4+-0x1256);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x244960){if(this['_position']['copy'](_0x244960),this['source']){const _0x2e698e=this['_manager']['listener']['getPositio'+'n'](),_0x24bc53=t(_0x2e698e,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x2ef997=this['volume'];this['source']['volume']=_0x2ef997*_0x24bc53*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x1858f7){this['_maxDistan'+'ce']=_0x1858f7;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x403ef9){this['_refDistan'+'ce']=_0x403ef9;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x245061){this['_rollOffFa'+'ctor']=_0x245061;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x6d67c4){this['_distanceM'+'odel']=_0x6d67c4;}});}const n0=0x395+0x82*-0x7+0x7*-0x1,yp=-0x2*-0x5a+0x2*-0x1242+-0x1*-0x23d1,Kt=0x1a*-0xe7+-0x1*0x1471+0xea3*0x3,is=-0x1*-0xc31+-0x1*-0xbdf+-0x1*0x180d,hr=-0xe32+0x622+-0x40a*-0x2,xp=-0x1*-0x397+0x18b+-0x51d,Hc=-0x210d+0x1b2c+-0x5e7*-0x1,a0=0x1ea+-0x3*0xb27+-0x12*-0x1c1,o0=-0x571*0x4+0xe93+-0x739*-0x1,l0=0x14*-0x1aa+0x61*-0x3d+0x386e,h0=-0x207d+0x27*0x4c+-0xad*-0x1f,Fa='none',zb='linear',Sp=0x5*0x77+0x1f89+0x1*-0x21da,Ub=0x1aaf+-0xf11+-0x1*0xb9e,Vb=-0x11*0x19a+0x1b50+-0x14,c0=0x4*0xd7+0x1127+-0x1474,Fi=0x14e3+0x1b9+-0x2*0xb4e,Xt=0x66*-0x22+-0x2*0x9e6+0x2159,vp=0x342+-0x1*-0x15ef+-0x192f,bp=0xc96+0x37*-0xb2+0x19ab,tl=-0x1*-0x1a2f+0x15d*-0x7+-0x10a0,oe=-0x14*-0x35+0xc*0x322+0xa6f*-0x4,Pe=0x1dcf+-0x18c4*-0x1+0x1b49*-0x2,Re=0x1580+0x9d*0x39+-0x12d1*0x3,yt=-0x24ba+0x1708+-0x1*-0xdb2,Gb=0x91a*0x1+-0x1baf+0x1296,Hb=0x2b1*0x7+0x7ce+-0x1aa3,Wb=-0x2359+0x92b+-0x3*-0x8bb,wp=-0x1e2b+0x493*0x4+0xbdf,$b=0x12e1+0x1bfb+-0x2edb,Dt=-0x1bf0+-0xc5*0x2d+0x3e91,Hr=0x23*-0x1+-0x13b6+-0x13db*-0x1,Wr=-0x2108+-0xc69*0x1+0x2d74*0x1,lh=0x2*-0x872+-0x3*-0xd05+0x1*-0x1627,Bh=0x2613+-0x1bcd+-0xa41,Ts=0x1*0xb99+0x8*0x25f+-0x1e8b,Nh=0x2*0x1147+-0x2056*-0x1+0x1*-0x42dd,zh=-0xf66+0x23b9+0x144b*-0x1,Iu=-0x1*0xc83+-0x1*0xb1+0x1*0xd3d,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(0x1*0x1c19+-0x1f04+0x9*0x53)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(0x1*0x449+0x1*0x12af+0x62*-0x3c)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(-0x1*0x1006+-0x5*-0x23b+0x4df*0x1)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(0x2*0x107f+0xf57+-0x3055*0x1)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(-0x16*0x1a6+-0x1*-0x5d5+0x1e6f)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0x11ab*0x1+0x4*0x3eb+0x1ff)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(0x28*-0xca+0x8b2+-0x2*-0xb6f)}],[Wr,{'name':'VSM_32F','format':Ke,'vsm':!(0x13*0x13+0x19f1+-0x1b5a)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(-0x78c+-0x23a2+0x2b2e*0x1)}]]),Tp=0x95*-0x1+0x1bc9*-0x1+0x9*0x327,Du=0x39d+-0x6*0x345+0x1001,d0=0x7db+0x343+-0xb1e*0x1,Vs=0xab*-0x33+-0x1f1c*0x1+0x412d,qb=0x190a+-0x2508+0xbff,Uh=-0x765+0x3*0x36d+-0x2e2,Xb=-0x121*-0x17+-0x760+-0x1296,Gs=0xf*-0x1a3+-0x1c2b+0x34b8,ua=-0xf16+0x277*0x8+-0x4a1,yo=0x1*-0x8b+-0x23ed+0x6*0x614,Dr=0x867*-0x2+0x10be+0x11,Tl=0x1*-0x25dc+-0x2541+0x1*0x4b1f,u0=-0x1d1c+-0x1*-0xa9f+0x127d*0x1,jb=0x113f+0x1*0x2375+-0x34b3,km='mul',sl=-0x1964+-0xf*-0x259+-0x1f7*0x5,hh=0x1cea*-0x1+-0x26f0+0x43db,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=0x1e53+-0xf*0x17f+0x2*-0x3f1,aF=0x10bf+0x1*-0x2135+0x1077*0x1,oF=0x1*0x1307+-0x1*-0x1ee3+-0x63d*0x8,lF=-0x1570+-0x713+0x1c86,hF=-0xa4f*0x1+-0x1a83+0x5*0x75e,cF=-0xec4+0x1643*0x1+-0x77a,f0=-0x689*-0x1+0x2474+-0x2af7,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0x92*-0x39+-0x1cd0+-0x3b2,Bo=-0x1d47+-0x255*0x5+0x28f1,Lu=0x6f*0x37+-0x1*-0x15fd+-0x2dd4,Ep=-0xecf+0xca5+-0xb9*-0x3,Wc=-0x25cc+-0x2*-0x1348+-0x61*0x2,m0=0x50d+-0xc*-0x41+-0x815,_0=0xb*-0x15e+0xf59*-0x2+-0x3a*-0xca,g0=0x1efd+-0x1*-0x1494+-0x3381,$c=-0x5b2+-0x29*-0x88+0x2*-0x7fb,Fu=-0x29*0x7+-0x9c5+-0x5c*-0x1f,y0=0x2*0x129b+0x8af+-0x2d65*0x1,Cp=0xd1d+-0xd*-0x278+-0x2c35*0x1,Mp=0x1479+0x1b1d+-0xa*0x48f,qc=0x2*-0x115c+0x2*-0x604+0x32c0,Xc=0xd*-0x2b7+-0x1*0x68d+0x31d8,x0=-0x484*-0x4+0x3*0xbd4+0x1*-0x258c,jc=-0x16ba+0x1ef2+-0x5f2*-0x4,Ou=-0x4f8+0x7b58+-0x1e*0x1d0,Ps=-0x1*0x2305+0xc95+-0xb38*-0x2,cn=0xd12+0x2103+-0x2e14,Pp=-0x26cc+0x1d27*-0x1+0x43f5,Ei=-0x1273+-0x25c4+-0x27*-0x171,ku=-0x9*-0x285+0xd99*0x1+-0x2445,hs=-0x830+0x1*-0x445+0xc76,cr=-0x1837+0x1*-0xc56+0x248f,rr=0x1f55+-0x1b32+-0x1*0x41f,gn=-0xe*-0xf+0x361*-0x5+0x1013,il=-0xadf+0x490*-0x1+0xf70,rl=0xa09*-0x2+-0x1cb4+0x30c8,Oa=0xb2a+-0x14*-0x60+0xbf*-0x19,Rp=0x2*-0x1cf+-0x1*-0x1ae7+0x7*-0x353,Ti=0xa82*-0x2+0x1c*0x146+-0xea4,nt=-0x1384+0x1cc0+0x8b*-0x11,Qe=-0xb5f*0x3+0x1531+0xcee,ch=-0x2*-0x88a+-0x2034+0x50b*0x3,Al=-0x18e2+0x71*-0x13+0x2145,dh=0xc57+-0xa5+-0x6*0x1f3,Zb=-0x1*-0x156b+0x1526+0x2a90*-0x1,Qb=-0x13b4+-0x2211+0x3*0x11ed,Bm=-0x1*-0x18e6+-0x53e*0x3+-0x929,Jb=0x18b2+-0x129c+-0x612,ew=0x2*-0x4b3+0x8*0x32f+-0x100d,Ip=-0x2*0xbf6+0x1a15+-0x4f*0x7,Bu=-0x2*-0xae7+0x10eb+-0x26b8,pe=-0x1e5c+-0x20b*0x1+0x2067,ke=-0xefd+-0xdf7+0x1cf5,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x392353,_0x3fd4f8,_0x486e0){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x392353,this['bindGroupF'+'ormats'][Dh]=_0x3fd4f8,this['vertexForm'+'at']=_0x486e0);}['hasUniform'](_0x35b722){for(let _0x5df2b2=0x3d*-0x82+-0xc73*0x1+0x2b6d;_0x5df2b2<this['uniformFor'+'mats']['length'];_0x5df2b2++){const _0x3009b3=this['uniformFor'+'mats'][_0x5df2b2];if(_0x3009b3!=null&&_0x3009b3['get'](_0x35b722))return!(0x1af*-0x6+0x1f51+-0x1537);}return!(-0x11de*-0x1+-0x1*-0x904+-0x7*0x3d7);}['hasTexture'](_0x454067){for(let _0x2adf12=-0x2*0xd87+-0x181+0x1*0x1c8f;_0x2adf12<this['bindGroupF'+'ormats']['length'];_0x2adf12++){const _0x2d1159=this['bindGroupF'+'ormats'][_0x2adf12];if(_0x2d1159!=null&&_0x2d1159['getTexture'](_0x454067))return!(-0x133*0x4+-0x293*-0x5+-0x813);}return!(0x63*-0x23+0x29*-0x61+0x1d13);}['getVertexE'+'lement'](_0x3dd080){var _0x18c9b5;return(_0x18c9b5=this['vertexForm'+'at'])==null?void(-0x27*0x11+0x9ef*0x1+-0x758):_0x18c9b5['elements']['find'](_0x22937f=>_0x22937f['name']===_0x3dd080);}['generateKe'+'y'](_0x3d4f5c){var _0x13c723;let _0x7fb194=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x3d4f5c['isWebGPU']&&(_0x7fb194+=(_0x13c723=this['vertexForm'+'at'])==null?void(-0x115*0x22+-0x254*0x10+0x1b*0x2be):_0x13c723['shaderProc'+'essingHash'+'String']),_0x7fb194;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x371aea){const _0x19ac4b=b0['get'](_0x371aea);return v['assert'](_0x19ac4b),_0x19ac4b;}function WE(_0x3fdbe1,_0x44a892){v['assert'](_0x44a892),b0['get'](_0x3fdbe1,()=>_0x44a892);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x5ce9fc){const _0x263942=Array['from'](_0x5ce9fc)['sort']((_0x30220f,_0x43aef8)=>_0x30220f[0x232e+-0x1a21+0x1*-0x90d]>_0x43aef8[-0x1d1f+-0x93d+-0x5*-0x7ac]?-0x476+0x3*0x95d+-0x17a0:-(-0x2280+0xc38+0x1649));return hn(JSON['stringify'](_0x263942));}}const $E=new Ot();class qE{constructor(_0x2bc739,_0x4866a4,_0x275ad8={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x2bc739),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x2bc739),this['name']=_0x2bc739,this['index']=_0x4866a4,Object['assign'](this,_0x275ad8),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x4bd5d4;this['isShadow']?_0x4bd5d4='SHADOW':this['isForward']?_0x4bd5d4='FORWARD':this['index']===rl?_0x4bd5d4='DEPTH':this['index']===Oa&&(_0x4bd5d4='PICK'),this['defines']['set'](_0x4bd5d4+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',0x218b+0x1991+-0x3b1c);const _0x2d685d=(_0x84cddf,_0x1dcd63,_0x23aa1f)=>{const _0x2e2e73=this['allocate'](_0x84cddf,_0x23aa1f);v['assert'](_0x2e2e73['index']===_0x1dcd63);};_0x2d685d('forward',gn,{'isForward':!(-0x1c4d+-0x1*0x75b+-0x8ea*-0x4)}),_0x2d685d('prepass',il),_0x2d685d('depth',rl),_0x2d685d('pick',Oa),_0x2d685d('shadow',Rp);}static['get'](_0x18e210){return v['assert'](_0x18e210),$E['get'](_0x18e210,()=>new Ks());}['allocate'](_0x4f2025,_0x3b1f95){let _0x542e4f=this['passesName'+'d']['get'](_0x4f2025);return _0x542e4f===void(-0x74*0x16+0x1e72+-0x147a)&&(_0x542e4f=new qE(_0x4f2025,this['nextIndex'],_0x3b1f95),this['passesName'+'d']['set'](_0x542e4f['name'],_0x542e4f),this['passesInde'+'xed'][_0x542e4f['index']]=_0x542e4f,this['nextIndex']++),_0x542e4f;}['getByIndex'](_0x555e30){const _0x319f84=this['passesInde'+'xed'][_0x555e30];return v['assert'](_0x319f84),_0x319f84;}['getByName'](_0x325e07){return this['passesName'+'d']['get'](_0x325e07);}}function Is(_0xa5aded,_0x56304b,_0x2c7c97,_0x5e03f0,_0x563a0b,_0x341bbf=!(-0x1e1c+0x185d+0x5c0),_0x2c60b2={}){v['assert'](!(-0x4*0x6a7+-0x56*0x1+-0x1af2*-0x1)),typeof _0x341bbf=='boolean'?_0x2c60b2['useTransfo'+'rmFeedback']=_0x341bbf:typeof _0x341bbf=='object'&&(_0x2c60b2={..._0x2c60b2,..._0x341bbf});const _0x4d109a=ka(_0xa5aded);let _0x453204=_0x4d109a['getCachedS'+'hader'](_0x5e03f0);return _0x453204||(_0x453204=new i0(_0xa5aded,Mt['createDefi'+'nition'](_0xa5aded,{..._0x2c60b2,'name':_0x5e03f0,'vertexCode':_0x56304b,'fragmentCode':_0x2c7c97,'attributes':_0x563a0b})),_0x4d109a['setCachedS'+'hader'](_0x5e03f0,_0x453204)),_0x453204;}class XE extends It{constructor(_0x53742e,_0x54377a){super(),this['key']=_0x53742e,this['shaderDefi'+'nition']=_0x54377a;}['generateKe'+'y'](_0x101077){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x325471,_0x5ae70e){return this['shaderDefi'+'nition'];}}function jE(_0x3edd5b,_0x593829){v['assert'](_0x3edd5b);const _0xf8f562=_0x3edd5b['definition'],_0x18c8bc=(_0xf8f562['name']??'shader')+'-id-'+_0x3edd5b['id'],_0x114d38=new XE(_0x18c8bc,_0xf8f562),_0x1d48e9='shader',_0x52e2ad=ka(_0x3edd5b['device']);v['assert'](!_0x52e2ad['isRegister'+'ed'](_0x1d48e9)),_0x52e2ad['register'](_0x1d48e9,_0x114d38);const _0x16764d=_0x52e2ad['getProgram'](_0x1d48e9,{},_0x593829);return _0x3edd5b['definition']['shaderLang'+'uage']===Ph&&(_0x16764d['meshUnifor'+'mBufferFor'+'mat']=_0xf8f562['meshUnifor'+'mBufferFor'+'mat'],_0x16764d['meshBindGr'+'oupFormat']=_0xf8f562['meshBindGr'+'oupFormat']),_0x52e2ad['unregister'](_0x1d48e9),_0x16764d;}const Dp=(_0x22e519,_0x37b969)=>{const _0x420da1=new Map(_0x22e519['defines']);return _0x37b969['cameraShad'+'erParams']['defines']['forEach']((_0x500ffa,_0x5f1d10)=>_0x420da1['set'](_0x5f1d10,_0x500ffa)),Ks['get'](_0x37b969['device'])['getByIndex'](_0x37b969['pass'])['defines']['forEach']((_0x1dba4b,_0x1a2391)=>_0x420da1['set'](_0x1a2391,_0x1dba4b)),_0x420da1;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(0x9*-0x111+-0xd*0xce+0x358*0x6)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x4e6d33){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x254c83=_0x4e6d33['device'];if(this['shader']=_0x4e6d33,v['assert'](_0x4e6d33),_0x254c83['supportsUn'+'iformBuffe'+'rs']){const _0x83177a=new Yc();this['shader']=jE(_0x4e6d33,_0x83177a);const _0x352c73=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x352c73&&(this['uniformBuf'+'fer']=new gp(_0x254c83,_0x352c73,!(-0x26e1+0xff+0x25e3)));const _0x345eff=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x345eff),this['bindGroup']=new mp(_0x254c83,_0x345eff),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x3951d9,_0x2d8b88;(_0x3951d9=this['uniformBuf'+'fer'])==null||_0x3951d9['destroy'](),this['uniformBuf'+'fer']=null,(_0x2d8b88=this['bindGroup'])==null||_0x2d8b88['destroy'](),this['bindGroup']=null;}['render'](_0xbbaeae,_0x4b5592){const _0x2a23d9=this['shader']['device'];G['pushGpuMar'+'ker'](_0x2a23d9,'QuadRender'),_0xbbaeae&&(Va['set'](_0x2a23d9['vx'],_0x2a23d9['vy'],_0x2a23d9['vw'],_0x2a23d9['vh']),Ga['set'](_0x2a23d9['sx'],_0x2a23d9['sy'],_0x2a23d9['sw'],_0x2a23d9['sh']),_0x4b5592=_0x4b5592??_0xbbaeae,_0x2a23d9['setViewpor'+'t'](_0xbbaeae['x'],_0xbbaeae['y'],_0xbbaeae['z'],_0xbbaeae['w']),_0x2a23d9['setScissor'](_0x4b5592['x'],_0x4b5592['y'],_0x4b5592['z'],_0x4b5592['w'])),_0x2a23d9['setVertexB'+'uffer'](_0x2a23d9['quadVertex'+'Buffer'],-0x375+-0x159c+-0x3*-0x85b);const _0x313663=this['shader'];if(_0x2a23d9['setShader'](_0x313663),_0x2a23d9['supportsUn'+'iformBuffe'+'rs']){_0x2a23d9['setBindGro'+'up'](Dh,_0x2a23d9['emptyBindG'+'roup']);const _0x4165c9=this['bindGroup'];_0x4165c9['update'](),_0x2a23d9['setBindGro'+'up'](Xy,_0x4165c9);const _0x5db8a5=this['uniformBuf'+'fer'];_0x5db8a5?(_0x5db8a5['update'](pd),_0x2a23d9['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x2a23d9['setBindGro'+'up'](Eu,_0x2a23d9['emptyBindG'+'roup']);}_0x2a23d9['draw'](YE),_0xbbaeae&&(_0x2a23d9['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x2a23d9['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x2a23d9);}}class KE extends ds{constructor(_0x590475,_0x1be42a,_0x6c3ece,_0x651025){super(_0x590475),this['quad']=_0x1be42a,this['rect']=_0x6c3ece,this['scissorRec'+'t']=_0x651025;}['execute'](){const {device:_0x245241}=this;G['pushGpuMar'+'ker'](_0x245241,this['name']+':'+this['quad']['shader']['name']),_0x245241['setCullMod'+'e'](mt),_0x245241['setDepthSt'+'ate'](as['NODEPTH']),_0x245241['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x245241);}}const ZE=new Q();function dn(_0x306efc,_0x28e9cc,_0x352880,_0x2a1f8d,_0x1fa5e3){v['assert'](_0x28e9cc!==void(-0x1f60+0xd3*-0x1+-0x1*-0x2033));const _0x371249=arguments[-0x17f*-0xb+0x139*0x3+-0x141b*0x1];v['call'](()=>{_0x371249!==void(0x1*-0xb39+0x1*-0x996+0x14cf)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x37fe91=new Nu(_0x352880);_0x2a1f8d||(_0x2a1f8d=ZE,_0x2a1f8d['x']=0x24c1+-0x967*-0x1+-0x2e28,_0x2a1f8d['y']=-0x2185+0x1bc4+0x5c1,_0x2a1f8d['z']=_0x28e9cc?_0x28e9cc['width']:_0x306efc['width'],_0x2a1f8d['w']=_0x28e9cc?_0x28e9cc['height']:_0x306efc['height']);const _0x55e957=new KE(_0x306efc,_0x37fe91,_0x2a1f8d,_0x1fa5e3);_0x55e957['init'](_0x28e9cc),_0x55e957['colorOps']['clear']=!(-0xd*-0x27f+0xbc2+0x2c34*-0x1),_0x55e957['depthStenc'+'ilOps']['clearDepth']=!(-0x13*-0xf9+-0x13ba+0x140),_0x306efc['isWebGPU']&&_0x28e9cc===null&&_0x306efc['samples']>-0x1664*0x1+0x1*0x8f4+0xd71&&(_0x55e957['colorOps']['store']=!(0x22f*-0x8+0x15b*-0xd+-0x2b3*-0xd)),_0x55e957['render'](),_0x37fe91['destroy']();}class zm{constructor(_0x3746b9,_0x426a55,_0x1d058d){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x3746b9,this['dynamic']=_0x426a55,this['batchGroup'+'Id']=_0x1d058d);}['destroy'](_0x7fc58d,_0x396809){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x7fc58d,_0x396809),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x341d40,_0x4fd970){for(let _0x4019ed=-0x223*0x7+0x2f9+-0x3b*-0x34;_0x4019ed<_0x4fd970['length'];_0x4019ed++){const _0x1805fc=_0x341d40['layers']['getLayerBy'+'Id'](_0x4fd970[_0x4019ed]);_0x1805fc&&_0x1805fc['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x56ebb7,_0x469f99){for(let _0x5854c9=-0x12fc+-0x1*-0x154c+-0x250;_0x5854c9<_0x469f99['length'];_0x5854c9++){const _0x2f6e04=_0x56ebb7['layers']['getLayerBy'+'Id'](_0x469f99[_0x5854c9]);_0x2f6e04&&_0x2f6e04['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x3*0xbc6+0xf4+0x225e]['aabb']);for(let _0x4f4623=0x15f+-0x16a4+0x1546;_0x4f4623<this['origMeshIn'+'stances']['length'];_0x4f4623++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x4f4623]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0x1*-0x1d56+0x5d*-0x29+0x2c3b*0x1;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x3c2614,_0x3eef94,_0x238eda,_0x3201ba,_0x3d960c=[Fi]){c(this,'_ui',!(0xa71+0x1e03+-0x2873)),c(this,'_sprite',!(-0x64d*-0x5+0xd*-0x10d+0x11d7*-0x1)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x3c2614,this['name']=_0x3eef94,this['dynamic']=_0x238eda,this['maxAabbSiz'+'e']=_0x3201ba,this['layers']=_0x3d960c);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x1f24e0){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x100a+-0x23b+0x1245),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x24be+-0x117f+-0x1b1f*-0x2),this['_updateBef'+'oreCull']=!(0x9d0+0x1e0a+-0x2*0x13ed),_0x1f24e0&&this['initSkin'](_0x1f24e0));}set['rootBone'](_0x2da1d6){this['_rootBone']=_0x2da1d6;}get['rootBone'](){return this['_rootBone'];}['init'](_0x49cf4c,_0x2adbfd){const _0x56754a=_0x2adbfd*(0x38*0x62+0x167*-0xb+-0x600);let _0x21bde3=Math['ceil'](Math['sqrt'](_0x56754a));_0x21bde3=N['roundUp'](_0x21bde3,0xbe6*0x1+-0x916*-0x3+-0x1*0x2725);const _0x168062=Math['ceil'](_0x56754a/_0x21bde3);this['boneTextur'+'e']=new he(_0x49cf4c,{'width':_0x21bde3,'height':_0x168062,'format':Ke,'mipmaps':!(0x1e4d+-0x21b0+0x364),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x21bde3,_0x168062,(0x7*-0x221+0x5a5+0x943)/_0x21bde3,(-0x1e47+-0xee3+0x175*0x1f)/_0x168062],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x2c4c36,_0xc599f5){this['rootBone']=_0x2c4c36;const _0xe4a573=this['skin'],_0x4ce80b=[];for(let _0x46a760=0x4e7*-0x7+0x1076+0x11db;_0x46a760<_0xe4a573['boneNames']['length'];_0x46a760++){const _0x561062=_0xe4a573['boneNames'][_0x46a760];let _0x414594=_0x2c4c36['findByName'](_0x561062);_0x414594||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x561062+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0xc599f5['name']+(',\x20rootBone'+':\x20')+_0x2c4c36['name']),_0x414594=_0xc599f5),_0x4ce80b['push'](_0x414594);}this['bones']=_0x4ce80b;}['initSkin'](_0x12d967){this['skin']=_0x12d967,this['bones']=[];const _0x394487=_0x12d967['inverseBin'+'dPose']['length'];this['init'](_0x12d967['device'],_0x394487),this['matrices']=[];for(let _0x29ded4=-0x1aaf+-0x1c09+0x36b8;_0x29ded4<_0x394487;_0x29ded4++)this['matrices'][_0x29ded4]=new q();}['uploadBone'+'s'](_0x478553){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x9bf2e1,_0x346385){if(this['_skinUpdat'+'eIndex']!==_0x346385){this['_skinUpdat'+'eIndex']=_0x346385,Um['copy'](_0x9bf2e1['getWorldTr'+'ansform']())['invert']();for(let _0x4f6377=this['bones']['length']-(-0x162e+-0x1a52*-0x1+-0x3*0x161);_0x4f6377>=0x2043+0xe*-0xec+-0x135b;_0x4f6377--)this['matrices'][_0x4f6377]['mulAffine2'](Um,this['bones'][_0x4f6377]['getWorldTr'+'ansform']()),this['matrices'][_0x4f6377]['mulAffine2'](this['matrices'][_0x4f6377],this['skin']['inverseBin'+'dPose'][_0x4f6377]);}}['updateMatr'+'ices'](_0x4395e4,_0x2acd67){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x4395e4,_0x2acd67);}['updateMatr'+'ixPalette'](_0x3096be,_0x4a7f05){this['_updateMat'+'rices'](_0x3096be,_0x4a7f05);const _0x1dc2f4=this['matrixPale'+'tte'],_0x4d410e=this['bones']['length'];for(let _0x44e575=0x730+0xfc0+0xb78*-0x2;_0x44e575<_0x4d410e;_0x44e575++){const _0x4a42fb=this['matrices'][_0x44e575]['data'],_0x4f4647=_0x44e575*(0xb*-0x30a+-0x8*-0x2fc+0x99a);_0x1dc2f4[_0x4f4647]=_0x4a42fb[0xada*-0x2+0x169a+-0xe6],_0x1dc2f4[_0x4f4647+(0x24c3+-0x1*0x135a+-0x1168)]=_0x4a42fb[0x1bdc+0x26*0x76+-0xb57*0x4],_0x1dc2f4[_0x4f4647+(0x66+-0x11bf+0x115b)]=_0x4a42fb[0x9*-0x399+0x101*0x25+-0x4bc],_0x1dc2f4[_0x4f4647+(0x125e+-0x1*-0x183b+-0x2a96)]=_0x4a42fb[0x7b1+0x23d1+-0x2b76],_0x1dc2f4[_0x4f4647+(-0x2*0x9d6+0x222+0xd6*0x15)]=_0x4a42fb[0x4*-0x844+0xb3*-0x22+-0x38d7*-0x1],_0x1dc2f4[_0x4f4647+(-0x26c1+-0x601+0x2cc7)]=_0x4a42fb[-0x9b*-0x5+-0x1a66+0x1764],_0x1dc2f4[_0x4f4647+(0xf2*-0x1d+0x105*-0x1+0x1c75)]=_0x4a42fb[-0x14f8*0x1+0x24b*-0xf+-0xe*-0x3f5],_0x1dc2f4[_0x4f4647+(-0x262*-0x2+-0x655*0x3+0xe42)]=_0x4a42fb[0x1b61+0x1*-0x1a95+0x1*-0xbf],_0x1dc2f4[_0x4f4647+(-0x5*-0x404+-0xe90+-0x4e*0x12)]=_0x4a42fb[0x1b90+0x2443+-0x3fd1],_0x1dc2f4[_0x4f4647+(0x2a+-0x12ad+0x946*0x2)]=_0x4a42fb[-0x3bf+0x13d6+-0x1c9*0x9],_0x1dc2f4[_0x4f4647+(-0x377+0x1783*0x1+-0xa01*0x2)]=_0x4a42fb[-0x10bd+0xe30+-0x297*-0x1],_0x1dc2f4[_0x4f4647+(-0x25*0x8+0x7c+0xb7)]=_0x4a42fb[-0x1e3d+0x1223*0x2+-0x5fb];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x3b0335,_0x57c5e8,_0x3adfaa){super();const _0xcd268c=_0x57c5e8['length'];this['init'](_0x3b0335,_0xcd268c),this['device']=_0x3b0335,this['rootNode']=_0x3adfaa,this['bones']=_0x57c5e8;}['updateMatr'+'ices'](_0x28114c,_0x1609d0){}['updateMatr'+'ixPalette'](_0x328718,_0x1aa96f){const _0x3aeb57=this['matrixPale'+'tte'],_0x260141=this['bones']['length'];for(let _0xd17e75=0xe1f*-0x1+0x84*-0x4+-0x3*-0x565;_0xd17e75<_0x260141;_0xd17e75++){const _0x522862=this['bones'][_0xd17e75]['getWorldTr'+'ansform']()['data'],_0x51fecc=_0xd17e75*(-0x1d4b+0x13c5*0x1+-0xf5*-0xa);_0x3aeb57[_0x51fecc]=_0x522862[0x197b*-0x1+-0x28f+-0x1*-0x1c0a],_0x3aeb57[_0x51fecc+(-0x1c5+-0x1*-0xe86+0x11*-0xc0)]=_0x522862[-0xf0a+-0xb5*0x2a+-0xb3*-0x40],_0x3aeb57[_0x51fecc+(-0x5ce*0x2+-0x1*-0x22a9+-0x15b*0x11)]=_0x522862[0x7a9+0x1c7*-0x4+0x13*-0x7],_0x3aeb57[_0x51fecc+(0x1945*0x1+0x55*0x1+-0x1*0x1997)]=_0x522862[-0x959*0x3+-0xeb3*0x1+-0x2aca*-0x1],_0x3aeb57[_0x51fecc+(0xf76*-0x1+-0x3*-0xaba+0x42d*-0x4)]=_0x522862[0xe*0x287+-0x1*-0x200b+-0x436c*0x1],_0x3aeb57[_0x51fecc+(0x6c7*-0x1+-0x177a*0x1+-0x3e*-0x7d)]=_0x522862[-0x1*-0xc92+-0x264c+0x895*0x3],_0x3aeb57[_0x51fecc+(0x3e6+-0x1*-0x2284+-0xea*0x2a)]=_0x522862[-0x3*-0x4a6+0x110d+0xa52*-0x3],_0x3aeb57[_0x51fecc+(0x935*0x1+-0x4d*-0x3+-0xa15)]=_0x522862[0xa*0x281+0x144a+-0x43*0xad],_0x3aeb57[_0x51fecc+(0x22ed+-0x8f9+0xc*-0x229)]=_0x522862[0x405+-0x150f+0x886*0x2],_0x3aeb57[_0x51fecc+(-0x17*-0x9+0x2fb+-0x1f*0x1f)]=_0x522862[-0x1298+-0x10ee*0x2+0x347a],_0x3aeb57[_0x51fecc+(-0x19d1+0x1*-0x23c3+0x1de*0x21)]=_0x522862[-0x18f+0x14fb+-0x2*0x9b1],_0x3aeb57[_0x51fecc+(0x4*-0x46d+0x1d3*0xa+-0x7f)]=_0x522862[0x35*0x4a+0x1949+-0x288d];}this['uploadBone'+'s'](this['device']);}}let QE=-0x5a4+-0xff7+0x159b;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x2303*0x1+0x1721+-0x1*-0xbe3),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=-0x150b+-0xd63+0x226e,this['maxIndices']=-0x9b*-0x3+-0x1fbc+0x3*0x9f9,this['vertexCoun'+'t']=-0xa38+-0x7*-0x1a5+0x1*-0x14b,this['indexCount']=0x2b*0x3a+0x1484+-0x1e42,this['vertexStre'+'amsUpdated']=!(0x1*-0xb26+-0x4*-0x7a9+-0x137d),this['indexStrea'+'mUpdated']=!(-0x1d47*0x1+0x2*-0xcb5+-0x1*-0x36b2),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x2fd1d8,_0x9b92f5){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x2fd1d8,'Vertex\x20str'+'eam\x20'+_0x9b92f5+'\x20has\x20'+_0x2fd1d8+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x2fd1d8;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x1a1*-0xd+0x26ae+0x2*-0x8bf),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x1ab5+-0x1806+-0x1b1*-0x1e),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',0x16*0x1f+-0x101b+0xd73),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0xaba*0x2+-0xa50+-0xb20);class JE{constructor(_0x596924,_0x23fd03,_0x3f3343,_0xcf2f21,_0x24c74b){this['data']=_0x596924,this['componentC'+'ount']=_0x23fd03,this['dataType']=_0x3f3343,this['dataTypeNo'+'rmalize']=_0xcf2f21,this['asInt']=_0x24c74b;}}class Ie extends Gc{constructor(_0x6c2dce,_0xc0b90b){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x209*0xb+0x265b+0x124*-0xe),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0x1e+0x8*0x167+-0xb55)),c(this,'_storageVe'+'rtex',!(0x86c*0x1+0x805*0x3+-0x207a)),(this['id']=QE++,v['assert'](_0x6c2dce,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x6c2dce,this['_storageIn'+'dex']=(_0xc0b90b==null?void(-0x1619+-0x1607+0x2c20*0x1):_0xc0b90b['storageInd'+'ex'])||!(0x85*-0x1+0x196f*-0x1+0x19f5),this['_storageVe'+'rtex']=(_0xc0b90b==null?void(0x1a55+0x9e3+-0x26*0xf4):_0xc0b90b['storageVer'+'tex'])||!(-0x1352+0x14ac+0x73*-0x3));}static['fromGeomet'+'ry'](_0x136548,_0x5a81c1,_0x4c58a9={}){const _0x562aab=new Ie(_0x136548,_0x4c58a9),{positions:_0x447513,normals:_0x457360,tangents:_0x187c63,colors:_0x10077d,uvs:_0x5d5055,uvs1:_0x3ee129,blendIndices:_0x2f7f19,blendWeights:_0x764c4,indices:_0x2f75df}=_0x5a81c1;return _0x447513&&_0x562aab['setPositio'+'ns'](_0x447513),_0x457360&&_0x562aab['setNormals'](_0x457360),_0x187c63&&_0x562aab['setVertexS'+'tream'](Zs,_0x187c63,0x247c+-0x1*-0xb2b+0xfe1*-0x3),_0x10077d&&_0x562aab['setColors3'+'2'](_0x10077d),_0x5d5055&&_0x562aab['setUvs'](-0x243+0x2562*-0x1+-0xd37*-0x3,_0x5d5055),_0x3ee129&&_0x562aab['setUvs'](0xb7*0x1a+-0x1cfd*0x1+0xa68,_0x3ee129),_0x2f7f19&&_0x562aab['setVertexS'+'tream'](qt,_0x2f7f19,0x1*-0xa19+0xd*-0x9b+0x8fe*0x2,_0x2f7f19['length']/(0x93*0x7+-0x13b3+0x7d9*0x2),Kr),_0x764c4&&_0x562aab['setVertexS'+'tream'](Ys,_0x764c4,-0x4bc+0x1b69+-0x1*0x16a9),_0x2f75df&&_0x562aab['setIndices'](_0x2f75df),_0x562aab['update'](),_0x562aab;}set['morph'](_0x3d758f){_0x3d758f!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x3d758f,_0x3d758f&&_0x3d758f['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x247581){this['_aabb']=_0x247581,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x4c1167=this['morph'];_0x4c1167&&(this['morph']=null,_0x4c1167['refCount']<0x1*0x829+-0x35*-0x99+-0x27d5&&_0x4c1167['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x226b22=0x63*0x5+-0x40e+-0x21f*-0x1;_0x226b22<this['indexBuffe'+'r']['length'];_0x226b22++)this['_destroyIn'+'dexBuffer'](_0x226b22);this['indexBuffe'+'r']['length']=-0x3*0x1f3+0x1134+-0x33*0x39,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x415f3f){this['indexBuffe'+'r'][_0x415f3f]&&(this['indexBuffe'+'r'][_0x415f3f]['destroy'](),this['indexBuffe'+'r'][_0x415f3f]=null);}['_initBoneA'+'abbs'](_0x2f1dec){this['boneAabb']=[],this['boneUsed']=[];let _0x1ffc72,_0x2a2bb2,_0x2f4ffa,_0x1880f7,_0x44a8c8;const _0x495774=[],_0x5d54b5=[],_0x53f7e3=this['boneUsed'],_0x1f90f2=this['skin']['boneNames']['length'];let _0x2051dd,_0x2dca32,_0xc36609;for(let _0x21bf59=0x1652+0x16cc+-0x1ce*0x19;_0x21bf59<_0x1f90f2;_0x21bf59++)_0x495774[_0x21bf59]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x5d54b5[_0x21bf59]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x110ed0=new go(this['vertexBuff'+'er']),_0x2eb8e0=_0x110ed0['element'][He],_0xcf37e1=_0x110ed0['element'][Ys],_0x2bbfa2=_0x110ed0['element'][qt],_0x304d92=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x3f3285=-0xbb+0x1d05+-0x1c4a;_0x3f3285<_0x304d92;_0x3f3285++){for(let _0x5c9c3b=0x6*-0x342+0x33+0x1359;_0x5c9c3b<0x10cf+-0x581*-0x7+-0x3752;_0x5c9c3b++)if(_0xcf37e1['array'][_0xcf37e1['index']+_0x5c9c3b]>-0x2441+-0x19c*0x5+0x2c4d){const _0x494609=_0x2bbfa2['array'][_0x2bbfa2['index']+_0x5c9c3b];if(_0x53f7e3[_0x494609]=!(0x1e47+-0x23fb+0x5b4),_0x1ffc72=_0x2eb8e0['array'][_0x2eb8e0['index']],_0x2a2bb2=_0x2eb8e0['array'][_0x2eb8e0['index']+(-0x1e23+0x31*0x59+0xd1b)],_0x2f4ffa=_0x2eb8e0['array'][_0x2eb8e0['index']+(-0x386*0x3+-0x1678*-0x1+-0xbe4)],_0x1880f7=_0x5d54b5[_0x494609],_0x44a8c8=_0x495774[_0x494609],_0x44a8c8['x']>_0x1ffc72&&(_0x44a8c8['x']=_0x1ffc72),_0x44a8c8['y']>_0x2a2bb2&&(_0x44a8c8['y']=_0x2a2bb2),_0x44a8c8['z']>_0x2f4ffa&&(_0x44a8c8['z']=_0x2f4ffa),_0x1880f7['x']<_0x1ffc72&&(_0x1880f7['x']=_0x1ffc72),_0x1880f7['y']<_0x2a2bb2&&(_0x1880f7['y']=_0x2a2bb2),_0x1880f7['z']<_0x2f4ffa&&(_0x1880f7['z']=_0x2f4ffa),_0x2f1dec){let _0x3ce0be=_0x2051dd=_0x1ffc72,_0x17d385=_0x2dca32=_0x2a2bb2,_0x79d057=_0xc36609=_0x2f4ffa;for(let _0x2205a9=-0x5c1*0x5+0xf20+0xda5;_0x2205a9<_0x2f1dec['length'];_0x2205a9++){const _0x538760=_0x2f1dec[_0x2205a9],_0x4e285c=_0x538760['deltaPosit'+'ions'][_0x3f3285*(-0x1f9d+-0x1*0x194f+-0x35*-0x113)],_0x37899b=_0x538760['deltaPosit'+'ions'][_0x3f3285*(0x1*0x581+-0x8d6+-0x2*-0x1ac)+(-0x1d31+-0x2*-0x8d6+-0x5*-0x24e)],_0x235a8f=_0x538760['deltaPosit'+'ions'][_0x3f3285*(-0x115*0x16+-0xa78+0x1*0x2249)+(0x1c5d+-0xce6+0xf75*-0x1)];_0x4e285c<0x1955+-0x1*-0x108b+-0x29e0?_0x3ce0be+=_0x4e285c:_0x2051dd+=_0x4e285c,_0x37899b<0x1b4d+-0x9a0+-0x11ad?_0x17d385+=_0x37899b:_0x2dca32+=_0x37899b,_0x235a8f<-0x91*-0x17+-0x111*-0x1f+-0x170b*0x2?_0x79d057+=_0x235a8f:_0xc36609+=_0x235a8f;}_0x44a8c8['x']>_0x3ce0be&&(_0x44a8c8['x']=_0x3ce0be),_0x44a8c8['y']>_0x17d385&&(_0x44a8c8['y']=_0x17d385),_0x44a8c8['z']>_0x79d057&&(_0x44a8c8['z']=_0x79d057),_0x1880f7['x']<_0x2051dd&&(_0x1880f7['x']=_0x2051dd),_0x1880f7['y']<_0x2dca32&&(_0x1880f7['y']=_0x2dca32),_0x1880f7['z']<_0xc36609&&(_0x1880f7['z']=_0xc36609);}}_0x110ed0['next']();}const _0x4bf0fa=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0xb497ab=>_0xb497ab['name']===He);if(_0x4bf0fa&&_0x4bf0fa['normalize']){const _0x536c91=((()=>{switch(_0x4bf0fa['dataType']){case Rc:return _0x34f5be=>Math['max'](_0x34f5be/(0x15e3+-0x1eac+-0x4*-0x252),-(-0x16f6+-0x872+0x1f69));case Kr:return _0x12f1d7=>_0x12f1d7/(0xe9*-0x2+0x13a*0x16+-0x1*0x182b);case Ic:return _0x46e08e=>Math['max'](_0x46e08e/(0x13*-0x654+0x151+0x3*0x524e),-(-0x1320+-0x1936+0x2c57*0x1));case el:return _0x247e08=>_0x247e08/(-0x471e*0x7+-0x1*-0xbb2+0x2e61f);default:return _0x462eba=>_0x462eba;}})());for(let _0x1e9022=0x947*0x1+-0x1*-0x665+-0x7d6*0x2;_0x1e9022<_0x1f90f2;_0x1e9022++)if(_0x53f7e3[_0x1e9022]){const _0x1b1390=_0x495774[_0x1e9022],_0x1d0248=_0x5d54b5[_0x1e9022];_0x1b1390['set'](_0x536c91(_0x1b1390['x']),_0x536c91(_0x1b1390['y']),_0x536c91(_0x1b1390['z'])),_0x1d0248['set'](_0x536c91(_0x1d0248['x']),_0x536c91(_0x1d0248['y']),_0x536c91(_0x1d0248['z']));}}for(let _0x1e5e96=0x1502+0x1*0xb1b+-0x201d;_0x1e5e96<_0x1f90f2;_0x1e5e96++){const _0x5059b5=new _e();_0x5059b5['setMinMax'](_0x495774[_0x1e5e96],_0x5d54b5[_0x1e5e96]),this['boneAabb']['push'](_0x5059b5);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x3*-0xa5b+0x1942+-0x3853&&this['indexBuffe'+'r'][0x1*-0xc22+-0x7f9+0x141b]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x5a8+-0x1*0x200e+0x1a66]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x2354+0x256+0x12d5*-0x2]['numIndices']));}['clear'](_0x481883,_0x31ab01,_0x30914d=-0x198d*0x1+0x1*0x2099+-0x70c,_0xe771a0=0x11eb+-0x1668+0x1*0x47d){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x1737+-0x202*0xa+0x2b4b*0x1),this['_geometryD'+'ata']['maxVertice'+'s']=_0x30914d,this['_geometryD'+'ata']['maxIndices']=_0xe771a0,this['_geometryD'+'ata']['verticesUs'+'age']=_0x481883?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x31ab01?jt:Th;}['setVertexS'+'tream'](_0x5be2d7,_0x5338fb,_0x1f53e2,_0x7cecfd,_0x4f0d38=Ee,_0x382c4b=!(-0x301*0xa+0x2f5*0x9+0x36e),_0x43fd49=!(-0x1655+0x7c4+0xe92)){this['_initGeome'+'tryData']();const _0x257b97=_0x7cecfd||_0x5338fb['length']/_0x1f53e2;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x257b97,_0x5be2d7),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x824+-0x4a0*-0x1+-0xcc4),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5be2d7]=new JE(_0x5338fb,_0x1f53e2,_0x4f0d38,_0x382c4b,_0x43fd49);}['getVertexS'+'tream'](_0x45d8c0,_0x3160f0){let _0x251e5c=0xfe*-0x27+0x3*-0x7e3+0x3ab*0x11,_0x24b9f9=!(0x6*-0x5bf+0x1414+0xe67*0x1);if(this['_geometryD'+'ata']){const _0x4361d8=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x45d8c0];_0x4361d8&&(_0x24b9f9=!(-0x6ee+-0x2*0xc04+0x1ef6),_0x251e5c=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x3160f0)?_0x3160f0['set'](_0x4361d8['data']):(_0x3160f0['length']=-0x637*-0x3+0x14*-0x8d+-0x7a1,_0x3160f0['push'](_0x4361d8['data'])));}return _0x24b9f9||this['vertexBuff'+'er']&&(_0x251e5c=new go(this['vertexBuff'+'er'])['readData'](_0x45d8c0,_0x3160f0)),_0x251e5c;}['setPositio'+'ns'](_0x3b8dd7,_0xa31b8e=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x12c0eb){this['setVertexS'+'tream'](He,_0x3b8dd7,_0xa31b8e,_0x12c0eb,Ee,!(-0x15b4+-0x2401+0x39b6));}['setNormals'](_0x471792,_0x31c438=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x2ffdcb){this['setVertexS'+'tream'](Yt,_0x471792,_0x31c438,_0x2ffdcb,Ee,!(0x14dd+-0xcf2+-0x7ea));}['setUvs'](_0x1d596e,_0x482945,_0x47236c=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x4ce886){this['setVertexS'+'tream'](om+_0x1d596e,_0x482945,_0x47236c,_0x4ce886,Ee,!(-0xd*0x20e+-0x257*0x1+-0xe87*-0x2));}['setColors'](_0x26c64d,_0x3a8636=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3675c4){this['setVertexS'+'tream'](At,_0x26c64d,_0x3a8636,_0x3675c4,Ee,!(0x13ba+0x7fd*0x1+-0x1*0x1bb6));}['setColors3'+'2'](_0x4dbd49,_0x439fd4){this['setVertexS'+'tream'](At,_0x4dbd49,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x439fd4,Kr,!(-0x1*0x1c8e+-0x4*-0x5f4+0x4be));}['setIndices'](_0x233203,_0x2d5915){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x1c3*0x1+-0x1471+0x1634),this['_geometryD'+'ata']['indices']=_0x233203,this['_geometryD'+'ata']['indexCount']=_0x2d5915||_0x233203['length'];}['getPositio'+'ns'](_0x2a9f1d){return this['getVertexS'+'tream'](He,_0x2a9f1d);}['getNormals'](_0x363537){return this['getVertexS'+'tream'](Yt,_0x363537);}['getUvs'](_0x146cf5,_0x1aad84){return this['getVertexS'+'tream'](om+_0x146cf5,_0x1aad84);}['getColors'](_0x46991c){return this['getVertexS'+'tream'](At,_0x46991c);}['getIndices'](_0x284478){let _0x3aa5a8=-0x3*0x4c1+-0xf8*0xb+0x1*0x18eb;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x37501f=this['_geometryD'+'ata']['indices'];if(_0x3aa5a8=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x284478))_0x284478['set'](_0x37501f);else{_0x284478['length']=0x24*-0xe3+-0x23dd+0x43c9;for(let _0x5483b6=0x794+-0x1e*0xc4+0xf64,_0x44b72a=_0x37501f['length'];_0x5483b6<_0x44b72a;_0x5483b6++)_0x284478['push'](_0x37501f[_0x5483b6]);}}else this['indexBuffe'+'r']['length']>-0x2*0x787+-0x1b65*-0x1+-0xc57&&this['indexBuffe'+'r'][-0x190d*0x1+0x1c13+-0x56*0x9]&&(_0x3aa5a8=this['indexBuffe'+'r'][0x97*-0x23+-0x24a4+0xb75*0x5]['readData'](_0x284478));return _0x3aa5a8;}['update'](_0x5da6e8=Ms,_0x263b62=!(0x1c*-0x14+0x1bd5*-0x1+0x1e05*0x1)){if(this['_geometryD'+'ata']){if(_0x263b62){const _0x1c2284=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x1c2284&&_0x1c2284['componentC'+'ount']===-0x2595+0x242+0x2356&&(this['_aabb']['compute'](_0x1c2284['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0xa318b7=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0xa318b7=!(0x2b0*-0xb+0x8d3+0x14bd),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0xa318b7&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x6f7c56=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x6f7c56=!(-0x251*-0x1+0x1f4a+-0x219b),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x6f7c56&&this['indexBuffe'+'r']['length']>0xebc+0x710*0x5+0x1*-0x320c&&this['indexBuffe'+'r'][0x363+0x575+0x46c*-0x2]&&(this['indexBuffe'+'r'][-0x6b9+0x111e+-0xa65]['destroy'](),this['indexBuffe'+'r'][0x421*0x7+-0x2*-0x89b+-0x2e1d]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x1*-0x17cc+-0x199c+0x1f*0x198]['type']=_0x5da6e8,this['indexBuffe'+'r']['length']>0xa33*0x3+0xaa2+-0x5*0x83f&&this['indexBuffe'+'r'][-0x9ed+-0x145e+-0x21*-0xeb]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x10d2+0x1*0x146+0x3e3*0x4]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x187d+0x18cc+-0x4f]['indexed']=!(0x1b*0x9e+0x1a03+-0x2aad)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0xeb*0x23+0x423*0x9+-0x51a]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x3fe*0x3+-0x1*0x2691+0x2a9*0x13]['indexed']=!(-0x48a+-0x2591+0x604*0x7)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x1371+-0x2*0x5ed+0x1*0x1f4b,this['_geometryD'+'ata']['indexCount']=0x2*0xf9a+0xb*-0xa8+0x17fc*-0x1,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x1616+-0x21*-0x9b+-0x2a10),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0xf92*0x2+0x12ef+0x1a*-0x1ed),this['_geometryD'+'ata']['recreate']=!(0x1013+0x1*0xca6+-0x4*0x72e),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x31ca0a){const _0x380128=[];for(const _0x311a1d in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x2691a4=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x311a1d];_0x380128['push']({'semantic':_0x311a1d,'components':_0x2691a4['componentC'+'ount'],'type':_0x2691a4['dataType'],'normalize':_0x2691a4['dataTypeNo'+'rmalize'],'asInt':_0x2691a4['asInt']});}return new Et(this['device'],_0x380128,_0x31ca0a);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x4c1224=this['_geometryD'+'ata']['maxVertice'+'s'],_0x1e6ce9=this['_buildVert'+'exFormat'](_0x4c1224);this['vertexBuff'+'er']=new os(this['device'],_0x1e6ce9,_0x4c1224,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x11f941=new go(this['vertexBuff'+'er']),_0x30d25c=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x33b5dc in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x13a16a=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x33b5dc];_0x11f941['writeData'](_0x33b5dc,_0x13a16a['data'],_0x30d25c),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x33b5dc];}_0x11f941['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0xe3c*0x1+0x1bb5+-0x1*0xd79||!this['indexBuffe'+'r'][-0x130d*-0x2+-0x2207+-0x1*0x413]){const _0x292f7d=this['_geometryD'+'ata']['maxVertice'+'s'],_0x3a0947=_0x292f7d>0x137*0x17b+-0x6a32+0x311e*-0x2||_0x292f7d===-0x6b6*-0x2+0x25f9*0x1+0x3365*-0x1?nr:Pi,_0x4e3c69=this['_storageIn'+'dex']?{'storage':!(0xb08+-0x123*0x10+-0x8*-0xe5)}:void(0x1*-0x13c7+0x65*-0x3c+0x2b73);this['indexBuffe'+'r'][-0x4cd+-0x21e+0x6eb]=new lr(this['device'],_0x3a0947,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x12*0x18d+-0x374*-0x2+0x1502),_0x4e3c69);}const _0x138599=this['_geometryD'+'ata']['indices'];_0x138599&&(this['indexBuffe'+'r'][0x6d1+0x5*-0x2a3+0x5*0x146]['writeData'](_0x138599,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x1a1499){_0x1a1499===Dr?this['generateWi'+'reframe']():_0x1a1499===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x1dcc*-0x1+-0x26b1*0x1+0x21*0x45,'indexed':!(-0x1*-0x11d1+0x13*0x158+-0x2b58)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x3dbb6a=this['vertexBuff'+'er']['numVertice'+'s'],_0xcde505=[];let _0xdbc437;if(this['indexBuffe'+'r']['length']>-0x1*0x713+0x1bf1+0x1*-0x14de&&this['indexBuffe'+'r'][-0x1cfe+0x1d19+-0x1b*0x1]){const _0x28a73e=[[-0x363*0x1+0x13b+-0xc*-0x2e,-0x18d4+0x1dc7+-0x4f2],[-0xc2e*-0x2+0x1da3+-0x35fe,0x145e+0x1004+0x61*-0x60],[-0x1cba+-0xd43+0x29ff,-0x1ee7+0x57b*0x1+0x196c]],_0x3460a7=this['primitive'][yo]['base'],_0x38f334=this['primitive'][yo]['count'],_0xa52f5a=this['indexBuffe'+'r'][yo],_0x1b742c=new Lh[_0xa52f5a['format']](_0xa52f5a['storage']),_0x40080a=new Set();for(let _0x496884=_0x3460a7;_0x496884<_0x3460a7+_0x38f334;_0x496884+=0x1492*0x1+0x1*0x22e3+-0x3772)for(let _0x11588f=0x3*-0x17a+0x5*-0x1a5+0xca7*0x1;_0x11588f<-0xa1*0x1f+-0x9fe+0x1d80;_0x11588f++){const _0x3775bd=_0x1b742c[_0x496884+_0x28a73e[_0x11588f][-0x2613+-0xbe+0x26d1]],_0x301377=_0x1b742c[_0x496884+_0x28a73e[_0x11588f][-0x1*0x11c5+0x13b4+-0x1ee]],_0x4d9996=_0x3775bd>_0x301377?_0x301377*_0x3dbb6a+_0x3775bd:_0x3775bd*_0x3dbb6a+_0x301377;_0x40080a['has'](_0x4d9996)||(_0x40080a['add'](_0x4d9996),_0xcde505['push'](_0x3775bd,_0x301377));}_0xdbc437=_0xa52f5a['format'];}else{for(let _0x5b3ace=0x2b*0x2d+-0x3ad*-0x1+-0xb3c;_0x5b3ace<_0x3dbb6a;_0x5b3ace+=-0x7c2+0x1295+0x568*-0x2)_0xcde505['push'](_0x5b3ace,_0x5b3ace+(-0xa49*0x1+-0x160f*-0x1+0x83*-0x17),_0x5b3ace+(-0x1511+0x7b7+0x1*0xd5b),_0x5b3ace+(-0xbc3*0x3+0x1b*-0x8+0x2423),_0x5b3ace+(0x21*-0x4+0x2311+-0xef*0x25),_0x5b3ace);_0xdbc437=_0xcde505['length']>0x8ad7*0x1+0x18a69+-0x3*0x5c6b?nr:Pi;}const _0x1a98c2=new lr(this['vertexBuff'+'er']['device'],_0xdbc437,_0xcde505['length']);new Lh[_0x1a98c2['format']](_0x1a98c2['storage'])['set'](_0xcde505),_0x1a98c2['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0xcde505['length'],'indexed':!(0xeb*-0x2+-0x3*0x10f+-0x1*-0x503)},this['indexBuffe'+'r'][Dr]=_0x1a98c2;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),Wm=new T(),$m=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x195888,_0x3d0e4d){return _0x195888 instanceof Function?_0x195888:_0x3e3d93=>{let _0x1cfde8=_0x3e3d93[_0x195888];return _0x1cfde8 instanceof Function&&(_0x1cfde8=_0x1cfde8()),_0x1cfde8===_0x3d0e4d;};}function w0(_0x389f59,_0x4ce5cf){if(_0x4ce5cf(_0x389f59))return _0x389f59;const _0x4dc03d=_0x389f59['_children'],_0x27b90e=_0x4dc03d['length'];for(let _0x4d6c5b=0x1c39+0x7a*-0x23+-0xb8b;_0x4d6c5b<_0x27b90e;++_0x4d6c5b){const _0x5206f1=w0(_0x4dc03d[_0x4d6c5b],_0x4ce5cf);if(_0x5206f1)return _0x5206f1;}return null;}class De extends ce{constructor(_0xe07301='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(-0x1*-0x2c2+0x2098+0x2359*-0x1,0xb3*0x1d+-0x26e7+0x13*0xfb,-0x296+-0x264f+0x28e6)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(0xf4*0x5+0xd*-0x1db+0x135c)),c(this,'_aabbVer',0xb*-0x296+0x7*-0x8b+0x203f),c(this,'_frozen',!(0x4a*-0x29+-0x7*0x362+0x33b*0xb)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0xcbb*0x1+-0xf1*-0x1+0xbcb)),c(this,'_worldScal'+'eSign',0xe3*-0x2b+0xc*0x2da+0x3e9),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(-0x8*0x3b9+0x20f4+0x74*-0x7)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0x1*0xeb3+0xb5*-0x1+-0x12*0xc7),c(this,'_enabled',!(0xdf*-0x26+0x108e+0x108c)),c(this,'_enabledIn'+'Hierarchy',!(-0x1*0x1937+-0x24e+0x1b86)),c(this,'scaleCompe'+'nsation',!(-0x902*-0x4+-0x1*-0x2353+-0x475a)),this['name']=_0xe07301;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x1d64*-0x1+-0xff7+-0x1*-0x2d5c));}get['normalMatr'+'ix'](){const _0x116a5a=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x116a5a['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x1424+0x5f1+0xe34)),_0x116a5a;}set['enabled'](_0x523796){var _0x20a6bb;this['_enabled']!==_0x523796&&(this['_enabled']=_0x523796,(_0x523796&&((_0x20a6bb=this['_parent'])!=null&&_0x20a6bb['enabled'])||!_0x523796)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x523796));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x48cdfa=this['_parent'];if(!_0x48cdfa)return'';let _0x3ab909=this['name'];for(;_0x48cdfa&&_0x48cdfa['_parent'];)_0x3ab909=_0x48cdfa['name']+'/'+_0x3ab909,_0x48cdfa=_0x48cdfa['_parent'];return _0x3ab909;}get['root'](){let _0x98127=this;for(;_0x98127['_parent'];)_0x98127=_0x98127['_parent'];return _0x98127;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x307024,_0x2e655a){_0x307024['_onHierarc'+'hyStateCha'+'nged'](_0x2e655a);const _0x13de50=_0x307024['_children'];for(let _0x2d9356=0x2dc+0xe21*-0x1+0x241*0x5,_0x32b175=_0x13de50['length'];_0x2d9356<_0x32b175;_0x2d9356++)_0x13de50[_0x2d9356]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x13de50[_0x2d9356],_0x2e655a);}['_onHierarc'+'hyStateCha'+'nged'](_0x468407){this['_enabledIn'+'Hierarchy']=_0x468407,_0x468407&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x35c6a4){_0x35c6a4['name']=this['name'];const _0x33d015=this['tags']['_list'];_0x35c6a4['tags']['clear']();for(let _0x42caa0=-0x1cf6+0x21a5+-0xb*0x6d;_0x42caa0<_0x33d015['length'];_0x42caa0++)_0x35c6a4['tags']['add'](_0x33d015[_0x42caa0]);_0x35c6a4['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x35c6a4['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x35c6a4['localScale']['copy'](this['localScale']),_0x35c6a4['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x35c6a4['position']['copy'](this['position']),_0x35c6a4['rotation']['copy'](this['rotation']),_0x35c6a4['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x35c6a4['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x35c6a4['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x35c6a4['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x35c6a4['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x35c6a4['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x35c6a4['_aabbVer']=this['_aabbVer']+(-0x2205+0x6d8+0x1b2e),_0x35c6a4['_enabled']=this['_enabled'],_0x35c6a4['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x35c6a4['_enabledIn'+'Hierarchy']=!(0xc05+0x922+-0x1*0x1526);}['clone'](){const _0x576c1d=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x576c1d),_0x576c1d;}['copy'](_0x25f9ce){return _0x25f9ce['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x223352=this['_children'];for(;_0x223352['length'];){const _0x151d21=_0x223352['pop']();_0x151d21['_parent']=null,_0x151d21['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x271523,_0x259b72){const _0x39e748=[],_0x42beb1=Xm(_0x271523,_0x259b72);return this['forEach'](_0x1b5177=>{_0x42beb1(_0x1b5177)&&_0x39e748['push'](_0x1b5177);}),_0x39e748;}['findOne'](_0x268301,_0x550bb4){const _0x12fa2d=Xm(_0x268301,_0x550bb4);return w0(this,_0x12fa2d);}['findByTag'](){const _0x1ba6ec=arguments,_0x267aa1=[],_0x6e957c=(_0x1f7710,_0x2c77cf)=>{_0x2c77cf&&_0x1f7710['tags']['has'](..._0x1ba6ec)&&_0x267aa1['push'](_0x1f7710);for(let _0x2f252f=0x1570+0x15d*-0x17+0x9eb;_0x2f252f<_0x1f7710['_children']['length'];_0x2f252f++)_0x6e957c(_0x1f7710['_children'][_0x2f252f],!(0x104b*-0x2+-0x2*-0x122b+-0x3c0));};return _0x6e957c(this,!(0x699*-0x3+-0xfac+0x2378)),_0x267aa1;}['findByName'](_0x1a2827){return this['findOne']('name',_0x1a2827);}['findByPath'](_0x189b2e){const _0x3f3620=Array['isArray'](_0x189b2e)?_0x189b2e:_0x189b2e['split']('/');let _0x2036b6=this;for(let _0x5462af=0x1a5f+0x21dc+-0x3c3b,_0xe578a0=_0x3f3620['length'];_0x5462af<_0xe578a0;++_0x5462af)if(_0x2036b6=_0x2036b6['children']['find'](_0x3d7dff=>_0x3d7dff['name']===_0x3f3620[_0x5462af]),!_0x2036b6)return null;return _0x2036b6;}['forEach'](_0x5eabcc,_0x2cfa39){_0x5eabcc['call'](_0x2cfa39,this);const _0x146341=this['_children'],_0x29aef6=_0x146341['length'];for(let _0x39902c=-0xfef+-0x1cc6+-0x1*-0x2cb5;_0x39902c<_0x29aef6;++_0x39902c)_0x146341[_0x39902c]['forEach'](_0x5eabcc,_0x2cfa39);}['isDescenda'+'ntOf'](_0x30c39a){let _0x1a1fca=this['_parent'];for(;_0x1a1fca;){if(_0x1a1fca===_0x30c39a)return!(-0x1f2d*-0x1+-0x1*0x68c+-0x61*0x41);_0x1a1fca=_0x1a1fca['_parent'];}return!(-0x38*0x28+-0x87*0x3+-0x126*-0x9);}['isAncestor'+'Of'](_0x47860c){return _0x47860c['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0xd19+0x14fe+-0x2216)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x6b*-0x55+0x33b*0xa+-0x43d5&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x2e4611;(_0x2e4611=this['_parent'])==null||_0x2e4611['removeChil'+'d'](this);}['reparent'](_0x5ea1a5,_0x5d640e){this['remove'](),_0x5ea1a5&&(_0x5d640e>=-0x1047+-0x216b+0x31b2?_0x5ea1a5['insertChil'+'d'](this,_0x5d640e):_0x5ea1a5['addChild'](this));}['setLocalEu'+'lerAngles'](_0x12b758,_0x54a3b6,_0x81b0c7){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x12b758,_0x54a3b6,_0x81b0c7),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x3c9b70,_0x498880,_0x255779){_0x3c9b70 instanceof T?this['localPosit'+'ion']['copy'](_0x3c9b70):this['localPosit'+'ion']['set'](_0x3c9b70,_0x498880,_0x255779),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x12e0ac,_0x38e004,_0x4e1b5c,_0x5c20e1){_0x12e0ac instanceof se?this['localRotat'+'ion']['copy'](_0x12e0ac):this['localRotat'+'ion']['set'](_0x12e0ac,_0x38e004,_0x4e1b5c,_0x5c20e1),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x46cb98,_0x5abae2,_0x1bf92a){_0x46cb98 instanceof T?this['localScale']['copy'](_0x46cb98):this['localScale']['set'](_0x46cb98,_0x5abae2,_0x1bf92a),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x13d8+-0x1*0x10b+-0x1*-0x14e3),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x4a4d78=this['_parent'];for(;_0x4a4d78;)_0x4a4d78['_frozen']=!(0x1b8b+-0xd37+0x13*-0xc1),_0x4a4d78=_0x4a4d78['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x86*-0x43+0x2dd*0x2+-0x28cb),this['_dirtyWorl'+'d']=!(0x1d98+0x1926+-0x36be);for(let _0x4f0824=-0x1ef1*0x1+-0x1a15+-0x32b*-0x12;_0x4f0824<this['_children']['length'];_0x4f0824++)this['_children'][_0x4f0824]['_dirtyWorl'+'d']||this['_children'][_0x4f0824]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0xd9b+-0x1a*0x63+0x17a9),this['_worldScal'+'eSign']=-0x14b0+-0x1*-0x2081+-0xbd1,this['_aabbVer']++;}['setPositio'+'n'](_0x5e6017,_0x2bfcc1,_0x122be4){_0x5e6017 instanceof T?kt['copy'](_0x5e6017):kt['set'](_0x5e6017,_0x2bfcc1,_0x122be4),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x193938,_0x248975,_0x1287e2,_0x48ede5){if(_0x193938 instanceof se?Bt['copy'](_0x193938):Bt['set'](_0x193938,_0x248975,_0x1287e2,_0x48ede5),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0xbfcd47=this['_parent']['getRotatio'+'n']();An['copy'](_0xbfcd47)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x181da1,_0x2e224b){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x181da1),this['localRotat'+'ion']['copy'](_0x2e224b);else{const _0x3dcb10=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x3dcb10)['invert'](),Ha['transformP'+'oint'](_0x181da1,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x2e224b);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x4c7cee,_0x21a96d,_0x136619){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x4c7cee,_0x21a96d,_0x136619),this['_parent']!==null){const _0x440bd9=this['_parent']['getRotatio'+'n']();An['copy'](_0x440bd9)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x3cb1a8){this['_prepareIn'+'sertChild'](_0x3cb1a8),this['_children']['push'](_0x3cb1a8),this['_onInsertC'+'hild'](_0x3cb1a8);}['addChildAn'+'dSaveTrans'+'form'](_0x3aff6f){const _0x5f17a0=_0x3aff6f['getPositio'+'n'](),_0x3861bb=_0x3aff6f['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x3aff6f),_0x3aff6f['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x5f17a0)),_0x3aff6f['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x3861bb)),this['_children']['push'](_0x3aff6f),this['_onInsertC'+'hild'](_0x3aff6f);}['insertChil'+'d'](_0x251288,_0x3d71bc){this['_prepareIn'+'sertChild'](_0x251288),this['_children']['splice'](_0x3d71bc,0x17bf+0x7e6*-0x4+0x7d9,_0x251288),this['_onInsertC'+'hild'](_0x251288);}['_prepareIn'+'sertChild'](_0x5b9443){_0x5b9443['remove'](),v['assert'](_0x5b9443!==this,'GraphNode\x20'+(_0x5b9443==null?void(0x24a7+-0x563*-0x5+-0x1532*0x3):_0x5b9443['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x5b9443),'GraphNode\x20'+(_0x5b9443==null?void(-0xc8c+-0xd9c*-0x2+-0xeac):_0x5b9443['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x1f3091,_0x2db719,_0x5b4b9e){this['fire'](_0x1f3091,_0x5b4b9e);for(let _0x366102=-0x1072*0x1+-0x251c+0x358e;_0x366102<this['_children']['length'];_0x366102++)this['_children'][_0x366102]['_fireOnHie'+'rarchy'](_0x2db719,_0x2db719,_0x5b4b9e);}['_onInsertC'+'hild'](_0x5f47a2){_0x5f47a2['_parent']=this;const _0x25806a=_0x5f47a2['_enabled']&&this['enabled'];_0x5f47a2['_enabledIn'+'Hierarchy']!==_0x25806a&&(_0x5f47a2['_enabledIn'+'Hierarchy']=_0x25806a,_0x5f47a2['_notifyHie'+'rarchyStat'+'eChanged'](_0x5f47a2,_0x25806a)),_0x5f47a2['_updateGra'+'phDepth'](),_0x5f47a2['_dirtifyWo'+'rld'](),this['_frozen']&&_0x5f47a2['_unfreezeP'+'arentToRoo'+'t'](),_0x5f47a2['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x5f47a2);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0xf37+-0x1288*0x2+-0x2*-0xaed):0x1321*0x1+-0x1ff8+0xcd7;for(let _0x47ec76=-0x637+0x1270+-0xc39*0x1,_0xe78b30=this['_children']['length'];_0x47ec76<_0xe78b30;_0x47ec76++)this['_children'][_0x47ec76]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x1c5e39){const _0x2880ea=this['_children']['indexOf'](_0x1c5e39);_0x2880ea!==-(0x1ffb+-0xae5+0x303*-0x7)&&(this['_children']['splice'](_0x2880ea,-0x11*0x61+-0x6*-0x40b+-0x30*0x5f),_0x1c5e39['_parent']=null,_0x1c5e39['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x1c5e39));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x2686+0x1acd*0x1+-0x4152)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x4bc440;const _0x4d79ff=this['_parent'];let _0x25783b=this['localScale'],_0x5e764e=_0x4d79ff;if(_0x5e764e){for(;_0x5e764e&&_0x5e764e['scaleCompe'+'nsation'];)_0x5e764e=_0x5e764e['_parent'];_0x5e764e&&(_0x5e764e=_0x5e764e['_parent'],_0x5e764e&&(_0x4bc440=_0x5e764e['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x4bc440,this['localScale']),_0x25783b=Wm));}_d['setFromMat'+'4'](_0x4d79ff['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x473e05=_0x4d79ff['worldTrans'+'form'];_0x4d79ff['scaleCompe'+'nsation']&&($m['mul2'](_0x4bc440,_0x4d79ff['getLocalSc'+'ale']()),Gm['setTRS'](_0x4d79ff['worldTrans'+'form']['getTransla'+'tion'](md),_d,$m),_0x473e05=Gm),_0x473e05['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x25783b);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x2225+0x2176+0x2*-0x21cd);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x26db+0xafe+0x1bdd),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x1cb4af=this['_children'];for(let _0x337163=0x10*-0x1af+0xd1f+0xdd1,_0x44c4f4=_0x1cb4af['length'];_0x337163<_0x44c4f4;_0x337163++)_0x1cb4af[_0x337163]['syncHierar'+'chy']();}['lookAt'](_0x545b22,_0x35867c,_0x5cedca,_0x35df16=-0x223d+-0x15*-0xca+0x1*0x11ab,_0x1d9a47=-0x1d70+0x22ee+-0x119*0x5,_0x46e5f2=-0x5b*0x29+0x70c+0x787){if(_0x545b22 instanceof T)gd['copy'](_0x545b22),_0x35867c instanceof T?El['copy'](_0x35867c):El['copy'](T['UP']);else{if(_0x5cedca===void(-0x4*0x72d+-0xe52+0x2b06*0x1))return;gd['set'](_0x545b22,_0x35867c,_0x5cedca),El['set'](_0x35df16,_0x1d9a47,_0x46e5f2);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x1ec754,_0x2994ae,_0x3009f5){_0x1ec754 instanceof T?kt['copy'](_0x1ec754):kt['set'](_0x1ec754,_0x2994ae,_0x3009f5),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x13f9a1,_0x18a37f,_0x3e347d){_0x13f9a1 instanceof T?kt['copy'](_0x13f9a1):kt['set'](_0x13f9a1,_0x18a37f,_0x3e347d),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x3d9067,_0x373699,_0x2c5339){if(Bt['setFromEul'+'erAngles'](_0x3d9067,_0x373699,_0x2c5339),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x29d807=this['getRotatio'+'n'](),_0x9ad2a6=this['_parent']['getRotatio'+'n']();An['copy'](_0x9ad2a6)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x29d807);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x158d47,_0xfed6e9,_0x17fde5){Bt['setFromEul'+'erAngles'](_0x158d47,_0xfed6e9,_0x17fde5),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x18bf7){const _0x42c554=T0['get'](_0x18bf7);return v['assert'](_0x42c554),_0x42c554;}function sC(_0x30edf,_0x102ec8){v['assert'](_0x102ec8),T0['get'](_0x30edf,()=>_0x102ec8);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x432a17,_0x760b32)=>{_0x760b32['destroy']();}),this['cache']['clear']();}['incRef'](_0x5ab685){const _0x48f984=(this['cache']['get'](_0x5ab685)||-0x2125+0x1*-0x286+0x23ab)+(0x18d3+0x1*0x12b5+-0xb*0x3f5);this['cache']['set'](_0x5ab685,_0x48f984);}['decRef'](_0x374986){if(_0x374986){let _0x24489d=this['cache']['get'](_0x374986);_0x24489d&&(_0x24489d--,_0x24489d===0x199d+0x88c+0x21*-0x109?(this['cache']['delete'](_0x374986),_0x374986['destroy']()):this['cache']['set'](_0x374986,_0x24489d));}}}class Si{static['incRef'](_0xcf19e){this['cache']['incRef'](_0xcf19e);}static['decRef'](_0x11c5a4){this['cache']['decRef'](_0x11c5a4);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=-0x12b3+-0x1047+0x22fa;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(-0x1dc6+-0x16d8+0x34a2);class aC{constructor(_0x231ac5){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x1d*0x71+0x490*-0x5+0x239e)),this['count']=_0x231ac5;}['destroy'](){var _0x37b740;this['_destroyVe'+'rtexBuffer']&&((_0x37b740=this['vertexBuff'+'er'])==null||_0x37b740['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x2f8949){if(!this['bindGroup']){const _0x26f1d=this['shader'];v['assert'](_0x26f1d);const _0x1fc5f7=_0x26f1d['meshBindGr'+'oupFormat'];v['assert'](_0x1fc5f7),this['bindGroup']=new mp(_0x2f8949,_0x1fc5f7),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x4d0839){if(!this['uniformBuf'+'fer']){const _0x2cb6d0=this['shader'];v['assert'](_0x2cb6d0);const _0x342247=_0x2cb6d0['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x342247),this['uniformBuf'+'fer']=new gp(_0x4d0839,_0x342247,!(-0xf*0x1+-0x2*-0x5c+0x54*-0x2));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x3c7dbf,_0x4958b4;(_0x3c7dbf=this['bindGroup'])==null||_0x3c7dbf['destroy'](),this['bindGroup']=null,(_0x4958b4=this['uniformBuf'+'fer'])==null||_0x4958b4['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x1f504a,_0x1410c8,_0x90240f=null){c(this,'castShadow',!(-0x117b+-0x1138+0x22b4)),c(this,'cull',!(0x1949*-0x1+-0x2285+0x3bce)),c(this,'drawOrder',0x1*0x18b+-0x33b*-0x3+-0x4*0x2cf),c(this,'node'),c(this,'visible',!(0x14f9+-0x20d4+0xbdb)),c(this,'visibleThi'+'sFrame',!(0x16b*-0x6+-0xf31+0x17b4)),c(this,'flipFacesF'+'actor',-0x1*-0xcff+-0xfeb*0x2+0x12d8),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(0x12c4+0xb*-0x281+0x3*0x2ed)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(-0x4*0x1+-0x2*0x191+0x327)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(-0x7*0x3aa+0x860*0x1+0x1*0x1147)),c(this,'_aabbMeshV'+'er',-(-0x778+0xc9b*-0x2+0x20af*0x1)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x1cee+-0x1e24+0x136)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x1795+-0x1*0x2217+0xa82,-0x1d21*-0x1+-0x3d*-0x3+0x776*-0x4]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0x18d+-0x705*-0x3+-0x1382)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(0x2e*-0xa+-0x2671+0x22*0x12f)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<-0x1*-0x2202+-0x1bfb+0x3*-0x1fd),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x1f504a instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x90240f,this['_mesh']=_0x1f504a,_0x1f504a['incRefCoun'+'t'](),this['material']=_0x1410c8,_0x1f504a['vertexBuff'+'er']){const _0x59d5d5=_0x1f504a['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x59d5d5['hasUv0']?m0:0x1252+0x709+0x1*-0x195b,this['_shaderDef'+'s']|=_0x59d5d5['hasUv1']?_0:0x1*-0x892+-0x16d5+0x1f67,this['_shaderDef'+'s']|=_0x59d5d5['hasColor']?g0:0x3*0x168+-0x11*0x153+0x124b,this['_shaderDef'+'s']|=_0x59d5d5['hasTangent'+'s']?Mp:-0x2*-0x11d4+0x11aa+-0x38e*0xf;}this['updateKey']();}set['renderStyl'+'e'](_0x3c045c){this['_renderSty'+'le']=_0x3c045c,this['mesh']['prepareRen'+'derState'](_0x3c045c);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x569a99){_0x569a99!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x569a99,_0x569a99&&_0x569a99['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x510a6c){this['_aabb']=_0x510a6c;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x55291b=this['_customAab'+'b'],_0x47af05=!!_0x55291b;if(!_0x55291b){if(_0x55291b=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x59f16b=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x59f16b);}const _0x1e69b2=this['mesh']['boneUsed'];let _0x4c0c49=!(0x905*0x3+0x1ec1*0x1+-0x39d0);for(let _0x3b4e00=0x71*-0x22+-0x18a3*-0x1+-0x9a1;_0x3b4e00<this['mesh']['boneAabb']['length'];_0x3b4e00++)_0x1e69b2[_0x3b4e00]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x3b4e00],this['skinInstan'+'ce']['matrices'][_0x3b4e00]),_0x4c0c49?(_0x4c0c49=!(0x1*-0x1565+0xcd*-0x3+0x17cd),_0x55291b['center']['copy'](Cl['center']),_0x55291b['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x55291b['add'](Cl));_0x47af05=!(-0x833+-0x1d36+0x2569);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x55291b['center']['copy'](this['mesh']['aabb']['center']),_0x55291b['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x55291b['center']['set'](0x4a*0x57+-0x24e9*0x1+0xbc3,-0x2301+-0x13da+0x1249*0x3,0x47+-0x1825*0x1+0x17de),_0x55291b['halfExtent'+'s']['set'](0x20f5+-0x7*-0x2ec+0x71*-0x79,0xb6*0x17+-0x21b3*-0x1+-0x320d,0x14c+0x2*0xf25+-0x2*0xfcb)),this['mesh']&&this['mesh']['morph']){const _0x112513=this['mesh']['morph']['aabb'];_0x55291b['_expand'](_0x112513['getMin'](),_0x112513['getMax']());}_0x47af05=!(0x1*-0x82f+-0x98*-0x16+-0x4e1),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x47af05&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x55291b,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x388197=>{_0x388197['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x19fa41,_0x4627b6,_0x3e477f,_0x430601,_0x45e62e,_0xce502d,_0x7a2b09){var _0x2b7adc;const _0x59690f=this['_shaderDef'+'s'];yr[-0x25be+0x1*-0xec5+0x1181*0x3]=_0x19fa41,yr[0x369*0x9+-0x123c+-0xc74]=_0x4627b6,yr[-0x770+-0x26e6+-0x2e58*-0x1]=_0x59690f,yr[-0x32f*-0xb+0x126b+-0x356d]=_0x430601['hash'];const _0x97b09e=Zy(yr);let _0x4319a6=this['_shaderCac'+'he']['get'](_0x97b09e);if(!_0x4319a6){const _0x19e5ed=this['_material'];if(_0x4319a6=new oC(),_0x4319a6['shader']=_0x19e5ed['variants']['get'](_0x97b09e),_0x4319a6['hashes']=new Uint32Array(yr),!_0x4319a6['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x147461=_0x19e5ed['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x3e477f,'objDefs':_0x59690f,'cameraShaderParams':_0x430601,'pass':_0x19fa41,'sortedLights':_0x7a2b09,'viewUniformFormat':_0x45e62e,'viewBindGroupFormat':_0xce502d,'vertexFormat':(_0x2b7adc=this['mesh']['vertexBuff'+'er'])==null?void(-0x5f9+-0x13c1+-0xb2*-0x25):_0x2b7adc['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x19e5ed['variants']['set'](_0x97b09e,_0x147461),_0x4319a6['shader']=_0x147461;}this['_shaderCac'+'he']['set'](_0x97b09e,_0x4319a6);}return v['call'](()=>{Wv['equals'](_0x4319a6['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x4319a6;}set['material'](_0x4ba744){this['clearShade'+'rs']();const _0x14f548=this['_material'];_0x14f548&&_0x14f548['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x4ba744,_0x4ba744&&(_0x4ba744['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x4ba744['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x1210ae){this['_layer']=_0x1210ae,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x37e5a2){_0x37e5a2!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x37e5a2,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x24ed5f){this['_calculate'+'SortDistan'+'ce']=_0x24ed5f;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0xaf0455){this['_receiveSh'+'adow']!==_0xaf0455&&(this['_receiveSh'+'adow']=_0xaf0455,this['_updateSha'+'derDefs'](_0xaf0455?this['_shaderDef'+'s']&-(-0x703*-0x3+-0x1*-0x13d5+-0x28dc):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x1f9c98){this['_updateSha'+'derDefs'](_0x1f9c98?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(0x4*-0x91a+0x9*-0xdd7+0xe0f8));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0x2c*-0xc9+0xb98+0x16f4;}set['skinInstan'+'ce'](_0x35175c){this['_skinInsta'+'nce']=_0x35175c,this['_updateSha'+'derDefs'](_0x35175c?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0x1066+0x3*0x509+0x14e)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x28c7dd){var _0x5a7541;(_0x5a7541=this['_morphInst'+'ance'])==null||_0x5a7541['destroy'](),this['_morphInst'+'ance']=_0x28c7dd;let _0x161c8c=this['_shaderDef'+'s'];_0x161c8c=_0x28c7dd&&_0x28c7dd['morph']['morphPosit'+'ions']?_0x161c8c|qc:_0x161c8c&-(0x25ca+-0x295*-0x8+-0x3671),_0x161c8c=_0x28c7dd&&_0x28c7dd['morph']['morphNorma'+'ls']?_0x161c8c|Xc:_0x161c8c&-(0x14*0x6b+-0x1*-0x245b+-0x24b6),_0x161c8c=_0x28c7dd&&_0x28c7dd['morph']['intRenderF'+'ormat']?_0x161c8c|jc:_0x161c8c&-(0x178d+0x60a+0x6*0x67),this['_updateSha'+'derDefs'](_0x161c8c);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x5b1c91){this['_screenSpa'+'ce']!==_0x5b1c91&&(this['_screenSpa'+'ce']=_0x5b1c91,this['_updateSha'+'derDefs'](_0x5b1c91?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(-0x1c19*-0x1+0x57a*-0x2+-0x1024)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x4e281f){this['_key'][Ei]=_0x4e281f;}get['key'](){return this['_key'][Ei];}set['mask'](_0xc957a4){const _0x409b0a=this['_shaderDef'+'s']&0xf43b+-0x1e8fc+0x1f4c0;this['_updateSha'+'derDefs'](_0x409b0a|_0xc957a4<<-0x11c*0x20+0x1*-0x101e+0xbd*0x46);}get['mask'](){return this['_shaderDef'+'s']>>-0x86d+-0x1*0xdc9+-0xb23*-0x2;}set['instancing'+'Count'](_0x3a9ee1){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x3a9ee1);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x425+0x1c63+-0x1d*0xd6;}['destroy'](){var _0x5d187f,_0x2050b7,_0x1ba404;const _0x464a2b=this['mesh'];_0x464a2b&&(this['mesh']=null,_0x464a2b['refCount']<-0x16ce+0xe3b*0x1+-0x3*-0x2dc&&_0x464a2b['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0xd72+0x11*-0x53+-0x7ef],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0xf09+-0x1*0x1583+0x67b],null),(_0x5d187f=this['_skinInsta'+'nce'])==null||_0x5d187f['destroy'](),this['_skinInsta'+'nce']=null,(_0x2050b7=this['morphInsta'+'nce'])==null||_0x2050b7['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x1ba404=this['instancing'+'Data'])==null||_0x1ba404['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x361b70,_0x2119fa){if(_0x361b70){for(let _0xb2e123=-0x2075*-0x1+-0xafe+-0x1577;_0xb2e123<_0x361b70['length'];_0xb2e123++){_0x361b70[_0xb2e123]['_renderSty'+'le']=_0x2119fa;const _0x576fea=_0x361b70[_0xb2e123]['mesh'];xd['has'](_0x576fea)||(xd['add'](_0x576fea),_0x576fea['prepareRen'+'derState'](_0x2119fa));}xd['clear']();}}['_isVisible'](_0x3d5768){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x3d5768):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x3d5768['frustum']['containsSp'+'here'](yd)>-0x21eb+0x21e6+0x5):!(-0x2*0xda+0x4*0x47f+-0x1047);}['updateKey'](){const _0x3a66b6=this['material'],_0x391899=_0x3a66b6['alphaToCov'+'erage']||_0x3a66b6['alphaTest']?Kt:_0x3a66b6['blendType'];this['_key'][Ei]=(this['layer']&-0x1173*0x1+-0x1598+0x3e9*0xa)<<0x14c1+-0x1131*-0x1+-0x25d7|(_0x391899===is?0x53*-0x4f+0x10b4+-0x475*-0x2:0x2283+0x3*0x5db+-0xb*0x4bc)<<-0x17f3+-0x247b+0x3c88|(_0x3a66b6['id']&0x1e97a4e+0x201fdc*-0x11+0xdde85*0x29)<<-0x1*-0x1855+0x19e7+-0x283*0x14;}['setInstanc'+'ing'](_0x1adf13,_0x1a3dd3=!(0x2*-0xe12+-0xe40+0x2a65)){_0x1adf13?(this['instancing'+'Data']=new aC(_0x1adf13['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x1adf13,_0x1adf13['format']['instancing']=!(0xe5e+0x11e7+0xb*-0x2ef),this['cull']=_0x1a3dd3):(this['instancing'+'Data']=null,this['cull']=!(0xd*-0x94+-0x2*0x708+0x1594)),this['_updateSha'+'derDefs'](_0x1adf13?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(-0x292*0x7+-0x3*0x92d+0x2da6));}['ensureMate'+'rial'](_0x3f5488){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x3f5488));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x29c9b4){return this['parameters'][_0x29c9b4];}['setParamet'+'er'](_0x1fe5ef,_0x5589ae,_0x33781f=0xba958a8+-0x8*0xdd9f9b3+0x1*0x1632674ef){const _0x409269=this['parameters'][_0x1fe5ef];_0x409269?(_0x409269['data']=_0x5589ae,_0x409269['passFlags']=_0x33781f):this['parameters'][_0x1fe5ef]={'scopeId':null,'data':_0x5589ae,'passFlags':_0x33781f};}['setRealtim'+'eLightmap'](_0x41a7a4,_0x50b0a3){const _0x3e2a89=this['getParamet'+'er'](_0x41a7a4);_0x3e2a89!==_0x50b0a3&&(_0x3e2a89&&Si['decRef'](_0x3e2a89['data']),_0x50b0a3?(Si['incRef'](_0x50b0a3),this['setParamet'+'er'](_0x41a7a4,_0x50b0a3)):this['deletePara'+'meter'](_0x41a7a4));}['deletePara'+'meter'](_0x2566b9){this['parameters'][_0x2566b9]&&delete this['parameters'][_0x2566b9];}['setParamet'+'ers'](_0x45c203,_0x3fad01){const _0x1f3580=this['parameters'];for(const _0x521401 in _0x1f3580){const _0x4ad648=_0x1f3580[_0x521401];_0x4ad648['passFlags']&_0x3fad01&&(_0x4ad648['scopeId']||(_0x4ad648['scopeId']=_0x45c203['scope']['resolve'](_0x521401)),_0x4ad648['scopeId']['setValue'](_0x4ad648['data']));}}['setLightma'+'pped'](_0x3ec2b5){_0x3ec2b5?this['mask']=(this['mask']|cr)&-(0x3ca+0x1306+-0xb65*0x2):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x7*-0x567+-0x59a+0x9*0x4d3],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x2438+0x8*0x12f+0x1ac1],null),this['_shaderDef'+'s']&=-(-0xac+0x2479*0x1+-0x4c3*0x4),this['mask']=(this['mask']|hs)&-(0x1*0x14e7+0x1b1d*0x1+-0x2ffd));}['setCustomA'+'abb'](_0x168d8b){_0x168d8b?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x168d8b):this['_customAab'+'b']=_0x168d8b['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0xbce+0x9*0x159+-0x17ee)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[0xcc9+0xcb3*-0x1+-0xb*0x2,-0x1904+-0xe*-0x33+0x163b,-0x1943*0x1+0x1ec+0x175a,-0x1d45+-0x2133+0x3e7a,0x1c22+-0x1666+0x5*-0x125,0xa4e+0x1*-0xa6+-0x1*0x9a7],hC=[0x261d+0x109+-0x2*0x1393,0xbec+-0x5*0x5cb+0x1*0x110c,-0xb2+0x2b*0xcd+-0x6*0x59f,0x1a35*0x1+0x10b*-0x16+-0x343,-0x10*-0x53+0x7f9+-0xd26*0x1,0xcf4+-0xc89+-0x69],jm=new js();function Ym(_0x25ced9,_0x488a49){if(_0x25ced9&&!_0x488a49||!_0x25ced9&&_0x488a49)return!(0x3*0x623+-0x571*0x6+0xe3e);if(_0x25ced9=_0x25ced9['data'],_0x488a49=_0x488a49['data'],_0x25ced9===_0x488a49)return!(-0x1b1a+-0x1*-0x4be+0x12*0x13e);if(_0x25ced9 instanceof Float32Array&&_0x488a49 instanceof Float32Array){if(_0x25ced9['length']!==_0x488a49['length'])return!(-0x20d5+-0x1*0x63d+-0x1*-0x2713);for(let _0xb19cb9=0xc1a*-0x2+0xb15+0xd1f;_0xb19cb9<_0x25ced9['length'];_0xb19cb9++)if(_0x25ced9[_0xb19cb9]!==_0x488a49[_0xb19cb9])return!(-0x1dc6+0x2*-0x79d+0x2d01);return!(-0x22*-0xbb+0x1034*0x1+0x11*-0x26a);}return!(0x5*0x456+-0x1*0x15f0+-0x1*-0x43);}function cC(_0x966da3,_0x11c648){for(const _0x50a054 in _0x966da3)if(_0x966da3['hasOwnProp'+'erty'](_0x50a054)&&!Ym(_0x966da3[_0x50a054],_0x11c648[_0x50a054]))return!(-0x1d0d*0x1+0x1246+0x2*0x564);for(const _0x2a972a in _0x11c648)if(_0x11c648['hasOwnProp'+'erty'](_0x2a972a)&&!Ym(_0x11c648[_0x2a972a],_0x966da3[_0x2a972a]))return!(0xa63+-0x1574+0xb12);return!(0x57b+0x232*-0xc+0x14dd);}function Sd(_0x3dd0be){return _0x3dd0be['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x180ecf,_0x5bea5b,_0x565d89){this['device']=_0x180ecf,this['rootNode']=_0x5bea5b,this['scene']=_0x565d89,this['_init']=!(-0x5db+0x2f7*0xb+0x1ac1*-0x1),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1b20+0x1d6+-0xe7b*0x2,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x5e898e,_0x61b4ea,_0x126e63,_0x5f1bd6,_0x13c08b){if(_0x5f1bd6===void(-0x1111+-0xc*0x57+-0x1*-0x1525)&&(_0x5f1bd6=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x5f1bd6]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x5f1bd6+('\x20already\x20e'+'xists.'));return;}const _0x59af53=new et(_0x5f1bd6,_0x5e898e,_0x61b4ea,_0x126e63,_0x13c08b);return this['_batchGrou'+'ps'][_0x5f1bd6]=_0x59af53,_0x59af53;}['removeGrou'+'p'](_0x8f8960){if(!this['_batchGrou'+'ps'][_0x8f8960]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x8f8960+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x4871a4=[];for(let _0x22d693=0x10ce+0xc81*0x1+-0x1d4f;_0x22d693<this['_batchList']['length'];_0x22d693++)this['_batchList'][_0x22d693]['batchGroup'+'Id']===_0x8f8960?this['destroyBat'+'ch'](this['_batchList'][_0x22d693]):_0x4871a4['push'](this['_batchList'][_0x22d693]);this['_batchList']=_0x4871a4,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x8f8960),delete this['_batchGrou'+'ps'][_0x8f8960];}['markGroupD'+'irty'](_0x4c3d21){this['_dirtyGrou'+'ps']['indexOf'](_0x4c3d21)<-0x533+-0x86d+0xda0&&this['_dirtyGrou'+'ps']['push'](_0x4c3d21);}['getGroupBy'+'Name'](_0x4fc70f){const _0xd1862c=this['_batchGrou'+'ps'];for(const _0x18bf21 in _0xd1862c)if(_0xd1862c['hasOwnProp'+'erty'](_0x18bf21)&&_0xd1862c[_0x18bf21]['name']===_0x4fc70f)return _0xd1862c[_0x18bf21];return null;}['getBatches'](_0x5ec60f){const _0xf1d954=[],_0x5eb3b8=this['_batchList']['length'];for(let _0x95f78e=-0x1ac7+0xd21+0xda6;_0x95f78e<_0x5eb3b8;_0x95f78e++){const _0x1f3f6e=this['_batchList'][_0x95f78e];_0x1f3f6e['batchGroup'+'Id']===_0x5ec60f&&_0xf1d954['push'](_0x1f3f6e);}return _0xf1d954;}['_removeMod'+'elsFromBat'+'chGroup'](_0x5db8a9,_0x2a93d6){if(_0x5db8a9['enabled']){_0x5db8a9['model']&&_0x5db8a9['model']['batchGroup'+'Id']===_0x2a93d6&&(_0x5db8a9['model']['batchGroup'+'Id']=-(-0x333*-0xa+0x2b*0x12+-0x2303)),_0x5db8a9['render']&&_0x5db8a9['render']['batchGroup'+'Id']===_0x2a93d6&&(_0x5db8a9['render']['batchGroup'+'Id']=-(-0x8d7*0x1+0x891+0x1*0x47)),_0x5db8a9['element']&&_0x5db8a9['element']['batchGroup'+'Id']===_0x2a93d6&&(_0x5db8a9['element']['batchGroup'+'Id']=-(0x53*0x6d+0x15*0x157+-0x3f79)),_0x5db8a9['sprite']&&_0x5db8a9['sprite']['batchGroup'+'Id']===_0x2a93d6&&(_0x5db8a9['sprite']['batchGroup'+'Id']=-(0x1*-0x643+-0x1608+0x1c4c));for(let _0x4791f9=0xab*0x26+-0x21*0x77+-0xa0b;_0x4791f9<_0x5db8a9['_children']['length'];_0x4791f9++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x5db8a9['_children'][_0x4791f9],_0x2a93d6);}}['insert'](_0x71af95,_0x5bc47f,_0x3d9d23){const _0x2c0d9e=this['_batchGrou'+'ps'][_0x5bc47f];v['assert'](_0x2c0d9e,'Invalid\x20ba'+'tch\x20'+_0x5bc47f+'\x20insertion'),_0x2c0d9e&&_0x2c0d9e['_obj'][_0x71af95]['indexOf'](_0x3d9d23)<-0x169+-0x1216*-0x1+0x58f*-0x3&&(_0x2c0d9e['_obj'][_0x71af95]['push'](_0x3d9d23),this['markGroupD'+'irty'](_0x5bc47f));}['remove'](_0x320aa9,_0x9453e6,_0x35491e){const _0x51af44=this['_batchGrou'+'ps'][_0x9453e6];if(v['assert'](_0x51af44,'Invalid\x20ba'+'tch\x20'+_0x9453e6+'\x20insertion'),_0x51af44){const _0x1a8607=_0x51af44['_obj'][_0x320aa9]['indexOf'](_0x35491e);_0x1a8607>=-0x24ce+-0x1*0x7c2+0x2c90&&(_0x51af44['_obj'][_0x320aa9]['splice'](_0x1a8607,0x68e+-0xb*-0x272+0x2173*-0x1),this['markGroupD'+'irty'](_0x9453e6));}}['_extractRe'+'nder'](_0x15bb06,_0x28850f,_0x109ec1,_0x5c2029){return _0x15bb06['render']&&(_0x28850f=_0x5c2029[_0x15bb06['render']['batchGroup'+'Id']]=_0x28850f['concat'](_0x15bb06['render']['meshInstan'+'ces']),_0x15bb06['render']['removeFrom'+'Layers']()),_0x28850f;}['_extractMo'+'del'](_0x2591fd,_0xa0fb10,_0x1e81cc,_0x143426){return _0x2591fd['model']&&_0x2591fd['model']['model']&&(_0xa0fb10=_0x143426[_0x2591fd['model']['batchGroup'+'Id']]=_0xa0fb10['concat'](_0x2591fd['model']['meshInstan'+'ces']),_0x2591fd['model']['removeMode'+'lFromLayer'+'s'](),_0x2591fd['model']['_batchGrou'+'p']=_0x1e81cc),_0xa0fb10;}['_extractEl'+'ement'](_0xa13ff2,_0x797771,_0x5b6e1e){if(!_0xa13ff2['element'])return;let _0xdc65ac=!(-0x159a+-0x22*0xfd+-0x7e3*-0x7);_0xa13ff2['element']['_text']&&_0xa13ff2['element']['_text']['_model']['meshInstan'+'ces']['length']>0x5c7*-0x3+0x10c*-0x15+0x37*0xb7?(_0x797771['push'](_0xa13ff2['element']['_text']['_model']['meshInstan'+'ces'][-0x1f8b+-0x14ca+0x1*0x3455]),_0xa13ff2['element']['removeMode'+'lFromLayer'+'s'](_0xa13ff2['element']['_text']['_model']),_0xdc65ac=!(-0x1f*-0x137+0x3*0xb61+-0x47cc)):_0xa13ff2['element']['_image']&&(_0x797771['push'](_0xa13ff2['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0xa13ff2['element']['removeMode'+'lFromLayer'+'s'](_0xa13ff2['element']['_image']['_renderabl'+'e']['model']),_0xa13ff2['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x797771['push'](_0xa13ff2['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0xa13ff2['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0xa13ff2['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0xa13ff2['element']['_dirtifyMa'+'sk'](),_0xa13ff2['element']['_onPrerend'+'er']())),_0xdc65ac=!(-0x1e86+-0xa*-0x3bd+-0x6dc)),_0xdc65ac&&(_0x5b6e1e['_ui']=!(0x1acb+0x87b*-0x1+-0x1250),_0xa13ff2['element']['_batchGrou'+'p']=_0x5b6e1e);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x3bf72f,_0x303442){for(let _0x3544ed=-0x1*0x1e8f+-0x1ff0+-0x1*-0x3e7f;_0x3544ed<_0x303442['length'];_0x3544ed++){const _0x38493f=_0x303442[_0x3544ed],_0x12fb2b=this['_batchGrou'+'ps'][_0x38493f];if(!_0x12fb2b)continue;let _0x1351ad=_0x3bf72f[_0x38493f];_0x1351ad||(_0x1351ad=_0x3bf72f[_0x38493f]=[]);for(let _0x5cdd20=-0x1463+-0x1ce9*-0x1+-0x886;_0x5cdd20<_0x12fb2b['_obj']['model']['length'];_0x5cdd20++)_0x1351ad=this['_extractMo'+'del'](_0x12fb2b['_obj']['model'][_0x5cdd20],_0x1351ad,_0x12fb2b,_0x3bf72f);for(let _0x3aedbf=-0x56d*0x2+-0x26a4+0x317e;_0x3aedbf<_0x12fb2b['_obj']['render']['length'];_0x3aedbf++)_0x1351ad=this['_extractRe'+'nder'](_0x12fb2b['_obj']['render'][_0x3aedbf],_0x1351ad,_0x12fb2b,_0x3bf72f);for(let _0x174d7b=0x1*0x26ef+-0x3c3+-0x232c;_0x174d7b<_0x12fb2b['_obj']['element']['length'];_0x174d7b++)this['_extractEl'+'ement'](_0x12fb2b['_obj']['element'][_0x174d7b],_0x1351ad,_0x12fb2b);for(let _0x310c56=-0x2383*-0x1+0x69+-0x23ec;_0x310c56<_0x12fb2b['_obj']['sprite']['length'];_0x310c56++){const _0xf015d3=_0x12fb2b['_obj']['sprite'][_0x310c56];_0xf015d3['sprite']&&_0xf015d3['sprite']['_meshInsta'+'nce']&&(_0x12fb2b['dynamic']||_0xf015d3['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x1351ad['push'](_0xf015d3['sprite']['_meshInsta'+'nce']),_0xf015d3['sprite']['removeMode'+'lFromLayer'+'s'](),_0x12fb2b['_sprite']=!(0xa3d+0x1*0x1a03+-0x2440),_0xf015d3['sprite']['_batchGrou'+'p']=_0x12fb2b);}}}['generate'](_0x2b24bf){const _0x24ac35={};_0x2b24bf||(_0x2b24bf=Object['keys'](this['_batchGrou'+'ps']));const _0x23204f=[];for(let _0x51c5a6=0x46b+0x24b1+-0x291c;_0x51c5a6<this['_batchList']['length'];_0x51c5a6++){if(_0x2b24bf['indexOf'](this['_batchList'][_0x51c5a6]['batchGroup'+'Id'])<0x1c89+-0x1917+0x126*-0x3){_0x23204f['push'](this['_batchList'][_0x51c5a6]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x51c5a6]);}if(this['_batchList']=_0x23204f,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x24ac35,_0x2b24bf),_0x2b24bf===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0xb29+-0x25e4+0x310d;else{const _0x340384=[];for(let _0x480a0d=-0x4*0x447+0x1*-0x63d+0x1759;_0x480a0d<this['_dirtyGrou'+'ps']['length'];_0x480a0d++)_0x2b24bf['indexOf'](this['_dirtyGrou'+'ps'][_0x480a0d])<0x14ea+-0x1*-0xb93+-0x1*0x207d&&_0x340384['push'](this['_dirtyGrou'+'ps'][_0x480a0d]);this['_dirtyGrou'+'ps']=_0x340384;}let _0x1b6d03,_0x300f4d,_0x547611,_0x2b9269;for(const _0x13209f in _0x24ac35)if(_0x24ac35['hasOwnProp'+'erty'](_0x13209f)){if(_0x1b6d03=_0x24ac35[_0x13209f],_0x547611=this['_batchGrou'+'ps'][_0x13209f],!_0x547611){v['error']('batch\x20grou'+'p\x20'+_0x13209f+'\x20not\x20found');continue;}_0x300f4d=this['prepare'](_0x1b6d03,_0x547611['dynamic'],_0x547611['maxAabbSiz'+'e'],_0x547611['_ui']||_0x547611['_sprite']);for(let _0x529c16=0x8cf+0x2*0xf64+-0x2797;_0x529c16<_0x300f4d['length'];_0x529c16++)_0x2b9269=this['create'](_0x300f4d[_0x529c16],_0x547611['dynamic'],parseInt(_0x13209f,-0x223+0x2072+-0x7*0x453)),_0x2b9269&&_0x2b9269['addToLayer'+'s'](this['scene'],_0x547611['layers']);}}['prepare'](_0x5a9e5a,_0x293625,_0x554d0b=Number['POSITIVE_I'+'NFINITY'],_0x39bd60){if(_0x5a9e5a['length']===0x49*0x59+0x1*-0x1faf+0x64e)return[];const _0x3869dc=_0x554d0b*(-0x1e5+-0x5*-0x53+-0x46*-0x1+0.5),_0x10ccd1=-0xda*-0x2+0x1c9b*0x1+-0x543*0x5,_0x3affdc=-0x6a2bdb45*-0x3+0x106e8cfbf*-0x1+0xc8653def,_0x19d7a1=new _e(),_0x5caadf=new _e();let _0x442e5e=null,_0x42fd06;const _0x4b4db4=[];let _0x3ecf4c=-0x3d*0x3f+-0xd72+0x1c75;_0x39bd60&&_0x5a9e5a['sort']((_0x3d14a9,_0x18f547)=>_0x3d14a9['drawOrder']-_0x18f547['drawOrder']);let _0x47ae02=_0x5a9e5a,_0x2df4a2;const _0x3431dc=_0x39bd60?function(_0x2a2fe1){_0x442e5e?_0x442e5e['add'](_0x2a2fe1['aabb']):_0x442e5e=_0x2a2fe1['aabb']['clone'](),_0x2df4a2['push'](_0x2a2fe1);}:function(_0x25d1d6){_0x2df4a2['push'](_0x25d1d6);};for(;_0x47ae02['length']>-0x2065+0x184b+0x81a;){_0x4b4db4[_0x3ecf4c]=[_0x47ae02[-0x1*-0x10be+0x2*-0xce6+0x90e]],_0x2df4a2=[];const _0x3b3e43=_0x47ae02[0xc1f*0x3+0x25*-0x4a+0x1*-0x19ab]['material'],_0x1a8a92=_0x47ae02[0x185b*-0x1+0x947+0xf14]['layer'],_0x5e990f=_0x47ae02[0x1740+0x1*-0xfe0+-0x8*0xec]['_shaderDef'+'s'],_0x34284c=_0x47ae02[0x1b39+-0x1661+-0x4d8]['parameters'],_0x1f1c6e=_0x47ae02[-0xf32+-0x1d28+-0x162d*-0x2]['stencilFro'+'nt'];let _0x506f9c=_0x47ae02[-0x17c3+-0x1334+0x2af7]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x498ff9=_0x47ae02[0x1755+0x2*0x586+-0x2261]['drawOrder'];_0x19d7a1['copy'](_0x47ae02[-0x1456+0x88f+-0xc9*-0xf]['aabb']);const _0x2bc257=Sd(_0x47ae02[0xe*0x24b+-0x2e0+-0x1d3a]),_0x5486cd=_0x47ae02[0x16dc+0x1*0xede+-0xb*0x36e]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x336bcf=_0x47ae02[0x1111+0x1030+-0x2141]['mesh']['primitive'][0xbbe+0x9*0xf+0x1*-0xc45]['indexed'];_0x442e5e=null;for(let _0x523b29=-0x20e0+-0x1e59+0x1*0x3f3a;_0x523b29<_0x47ae02['length'];_0x523b29++){const _0x2124ed=_0x47ae02[_0x523b29];if(_0x293625&&_0x4b4db4[_0x3ecf4c]['length']>=_0x10ccd1){_0x2df4a2=_0x2df4a2['concat'](_0x47ae02['slice'](_0x523b29));break;}if(_0x3b3e43!==_0x2124ed['material']||_0x1a8a92!==_0x2124ed['layer']||_0x5486cd!==_0x2124ed['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x336bcf!==_0x2124ed['mesh']['primitive'][-0x18*-0x13c+0xc91*-0x3+0x3*0x2b1]['indexed']||_0x5e990f!==_0x2124ed['_shaderDef'+'s']||_0x506f9c+_0x2124ed['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x3affdc){_0x3431dc(_0x2124ed);continue;}if(_0x5caadf['copy'](_0x19d7a1),_0x5caadf['add'](_0x2124ed['aabb']),_0x5caadf['halfExtent'+'s']['x']>_0x3869dc||_0x5caadf['halfExtent'+'s']['y']>_0x3869dc||_0x5caadf['halfExtent'+'s']['z']>_0x3869dc){_0x3431dc(_0x2124ed);continue;}if(_0x1f1c6e&&(!(_0x42fd06=_0x2124ed['stencilFro'+'nt'])||_0x1f1c6e['func']!==_0x42fd06['func']||_0x1f1c6e['zpass']!==_0x42fd06['zpass'])){_0x3431dc(_0x2124ed);continue;}if(_0x2bc257!==Sd(_0x2124ed)){_0x3431dc(_0x2124ed);continue;}if(!cC(_0x34284c,_0x2124ed['parameters'])){_0x3431dc(_0x2124ed);continue;}if(_0x39bd60&&_0x442e5e&&_0x442e5e['intersects'](_0x2124ed['aabb'])&&_0x2124ed['drawOrder']!==_0x498ff9){_0x3431dc(_0x2124ed);continue;}_0x19d7a1['add'](_0x2124ed['aabb']),_0x506f9c+=_0x2124ed['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x4b4db4[_0x3ecf4c]['push'](_0x2124ed);}_0x3ecf4c++,_0x47ae02=_0x2df4a2;}return _0x4b4db4;}['collectBat'+'chedMeshDa'+'ta'](_0x59a5d1,_0xeca8f5){let _0x3f338a=null,_0x127208=-0x8*0x409+0x16*0x21+0x1d72,_0x296420=-0x1d4d*-0x1+-0x1bc1+-0x18c,_0x968c33=null;for(let _0x577315=0x1337+0x7*0x10+0x81*-0x27;_0x577315<_0x59a5d1['length'];_0x577315++)if(_0x59a5d1[_0x577315]['visible']){const _0x14001c=_0x59a5d1[_0x577315]['mesh'],_0x49bbba=_0x14001c['vertexBuff'+'er']['numVertice'+'s'];if(_0x127208+=_0x49bbba,_0x14001c['primitive'][-0xff0+0x1aae+-0xabe]['indexed'])_0x296420+=_0x14001c['primitive'][-0xa9f+-0x102d+0x1acc]['count'];else{const _0x484036=_0x14001c['primitive'][-0xb*0x316+-0xbe8+-0x1*-0x2dda]['type'];(_0x484036===Yr||_0x484036===ar)&&_0x14001c['primitive'][0x228e+0xfe5*-0x1+-0x12a9]['count']===0xf98+-0x2259+0x12c5&&(_0x296420+=0xf60+-0xc7*0x16+0x1c0*0x1);}if(!_0x3f338a){_0x968c33=_0x59a5d1[_0x577315]['material'],_0x3f338a={};const _0x5468e5=_0x14001c['vertexBuff'+'er']['format']['elements'];for(let _0x2b64b5=-0x159f+-0x39d+0x193c;_0x2b64b5<_0x5468e5['length'];_0x2b64b5++){const _0x5afb77=_0x5468e5[_0x2b64b5]['name'];_0x3f338a[_0x5afb77]={'numComponents':_0x5468e5[_0x2b64b5]['numCompone'+'nts'],'dataType':_0x5468e5[_0x2b64b5]['dataType'],'normalize':_0x5468e5[_0x2b64b5]['normalize'],'count':0x0};}_0xeca8f5&&(_0x3f338a[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(-0x1cd4+0x1*0x12df+0xa*0xff),'count':0x0});}}return{'streams':_0x3f338a,'batchNumVerts':_0x127208,'batchNumIndices':_0x296420,'material':_0x968c33};}['create'](_0x5c83e6,_0x2b712b,_0x2d6e30){const _0x241471=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x240a+0x5e1+0x1e29));let _0x357118=null,_0x15f315,_0x29bf13,_0x480bcc,_0x2f6dc4=null;const _0x25b82f=this['collectBat'+'chedMeshDa'+'ta'](_0x5c83e6,_0x2b712b);if(_0x25b82f['streams']){const _0x17fac2=_0x25b82f['streams'];let _0x5a3811=_0x25b82f['material'];const _0x135546=_0x25b82f['batchNumVe'+'rts'],_0x40f5a4=_0x25b82f['batchNumIn'+'dices'];_0x2f6dc4=new zm(_0x5c83e6,_0x2b712b,_0x2d6e30),this['_batchList']['push'](_0x2f6dc4);let _0x5497ee,_0x3506dd,_0x40a168,_0x4efd67=-0x2607+0x79b*0x1+0x84*0x3b,_0xe4a569=0x3ab+-0x1c0f+0xdf*0x1c,_0x42dfac;const _0x306d0f=_0x135546<=-0x2*-0x58d2+0x180bc+-0x13261?Uint16Array:Uint32Array,_0x1e4a5b=new _0x306d0f(_0x40f5a4);for(_0x15f315 in _0x17fac2)_0x357118=_0x17fac2[_0x15f315],_0x357118['typeArrayT'+'ype']=da[_0x357118['dataType']],_0x357118['elementByt'+'eSize']=_o[_0x357118['dataType']],_0x357118['buffer']=new _0x357118['typeArrayT'+'ype'](_0x135546*_0x357118['numCompone'+'nts']);for(let _0x52b0ac=-0x117a+0x1*-0x1333+0x24ad;_0x52b0ac<_0x5c83e6['length'];_0x52b0ac++)if(_0x5c83e6[_0x52b0ac]['visible']){_0x29bf13=_0x5c83e6[_0x52b0ac]['mesh'],_0x480bcc=_0x29bf13['vertexBuff'+'er']['numVertice'+'s'],_0x2b712b||(_0x42dfac=_0x5c83e6[_0x52b0ac]['node']['getWorldTr'+'ansform']());for(_0x15f315 in _0x17fac2)if(_0x15f315!==qt){_0x357118=_0x17fac2[_0x15f315];const _0x3db7d2=new _0x357118['typeArrayT'+'ype'](_0x357118['buffer']['buffer'],_0x357118['elementByt'+'eSize']*_0x357118['count']),_0x52ffaf=_0x29bf13['getVertexS'+'tream'](_0x15f315,_0x3db7d2)*_0x357118['numCompone'+'nts'];if(_0x357118['count']+=_0x52ffaf,!_0x2b712b&&_0x357118['numCompone'+'nts']>=0x1181*-0x1+-0x781+0x1905){if(_0x15f315===He){const _0x3fa9bc=_0x42dfac['data'],_0x4f69c9=_0x3fa9bc[-0x3*0x2de+0x9ac*0x4+-0x1e16],_0x328fcf=_0x3fa9bc[-0x972+0x5*0x5b3+-0x4*0x4c3],_0x4d1e6c=_0x3fa9bc[-0x18bf+0x18df+-0xf*0x2],_0x4fcfa6=_0x3fa9bc[0x104e+0x1*-0x669+-0x1*0x9e1],_0x20706d=_0x3fa9bc[-0x19c*-0x2+-0x2194+0x1e61],_0x1308f9=_0x3fa9bc[0x1062+-0x1*-0x572+-0x15ce*0x1],_0x40e62b=_0x3fa9bc[0x219*0x10+-0x85a+0x16*-0x125],_0x428b5d=_0x3fa9bc[0x1*0x18f1+-0x1c1b*0x1+0x3*0x111],_0x49b808=_0x3fa9bc[0x5*0x222+-0x9a8+-0xf8],_0x4b8fdf=_0x3fa9bc[-0x3*-0x757+0x1175+0x13b7*-0x2],_0x57553a=_0x3fa9bc[-0x385+-0x13f1+-0x1*-0x1783],_0x455d19=_0x3fa9bc[-0x3*0xcb9+0x1920+0x7*0x1df];let _0x162344,_0x3da7a1,_0x5cee5f;for(let _0x5ec56e=-0x9f*0x1a+-0x2b*-0x2b+0x8ed;_0x5ec56e<_0x52ffaf;_0x5ec56e+=_0x357118['numCompone'+'nts'])_0x162344=_0x3db7d2[_0x5ec56e],_0x3da7a1=_0x3db7d2[_0x5ec56e+(0x21+-0x1a30+0x1a10)],_0x5cee5f=_0x3db7d2[_0x5ec56e+(0x4*0x5f6+-0x901+-0x1*0xed5)],_0x3db7d2[_0x5ec56e]=_0x162344*_0x4f69c9+_0x3da7a1*_0x4fcfa6+_0x5cee5f*_0x40e62b+_0x4b8fdf,_0x3db7d2[_0x5ec56e+(0x31b+0x31f*0x9+-0x1f31)]=_0x162344*_0x328fcf+_0x3da7a1*_0x20706d+_0x5cee5f*_0x428b5d+_0x57553a,_0x3db7d2[_0x5ec56e+(0x119*0x4+0x13ad+-0x180f*0x1)]=_0x162344*_0x4d1e6c+_0x3da7a1*_0x1308f9+_0x5cee5f*_0x49b808+_0x455d19;}else{if(_0x15f315===Yt||_0x15f315===Zs){jm['invertMat4'](_0x42dfac)['transpose']();const [_0x2ca7cf,_0xa55e47,_0xeb25fc,_0x545c5d,_0x1157ff,_0x3b403b,_0x4d3c6e,_0x21b11a,_0x392429]=jm['data'];let _0x1cf283,_0x482386,_0x26e7e5;for(let _0x5023df=-0xf09+-0x8*0x18a+0x1b59;_0x5023df<_0x52ffaf;_0x5023df+=_0x357118['numCompone'+'nts'])_0x1cf283=_0x3db7d2[_0x5023df],_0x482386=_0x3db7d2[_0x5023df+(0xb*-0x335+-0x952*-0x2+0x10a4)],_0x26e7e5=_0x3db7d2[_0x5023df+(0xc5d+-0x1*0x1021+0x3c6)],_0x3db7d2[_0x5023df]=_0x1cf283*_0x2ca7cf+_0x482386*_0x545c5d+_0x26e7e5*_0x4d3c6e,_0x3db7d2[_0x5023df+(0x10a0+-0xc71*-0x1+-0x1d10)]=_0x1cf283*_0xa55e47+_0x482386*_0x1157ff+_0x26e7e5*_0x21b11a,_0x3db7d2[_0x5023df+(-0x15b3+0x9*0x3e+-0x1387*-0x1)]=_0x1cf283*_0xeb25fc+_0x482386*_0x3b403b+_0x26e7e5*_0x392429;}}}}if(_0x2b712b){_0x357118=_0x17fac2[qt];for(let _0x19c0a6=-0x2*-0xd9b+0x2*-0xa0a+-0x722;_0x19c0a6<_0x480bcc;_0x19c0a6++)_0x357118['buffer'][_0x357118['count']++]=_0x52b0ac;}if(_0x29bf13['primitive'][0x3b*0x8e+0x1*-0x236b+0x2b1]['indexed']){_0x5497ee=_0x29bf13['primitive'][0x18b5+-0x1996+-0xe1*-0x1]['base'],_0x3506dd=_0x29bf13['primitive'][-0xb51*0x2+0x25*0xcb+-0x6b5]['count'];const _0x1fc8d6=_0x29bf13['indexBuffe'+'r'][0xf2*-0x1f+0x26c4+-0x976]['getFormat']();_0x40a168=new Lh[_0x1fc8d6](_0x29bf13['indexBuffe'+'r'][0x7*-0x36d+-0x1b87*-0x1+-0x38c]['storage']);}else{const _0x3c8473=_0x29bf13['primitive'][0x1a5*0x4+0x19c1*-0x1+0x132d]['type'];if(_0x3c8473===Yr||_0x3c8473===ar){if(_0x29bf13['primitive'][0x162+0x1eff+-0x2061]['count']===0x1ce6+-0x1*0xcb5+-0x102d)_0x5497ee=-0x2549+-0xae*0x29+0xd*0x503,_0x3506dd=0x1292*-0x1+-0x491+0x1729,_0x40a168=_0x3c8473===Yr?lC:hC;else{_0x3506dd=-0x328*0x7+-0xa5c+0x2074;continue;}}}for(let _0x4c918d=0x1d41+0x224a+-0x3f8b*0x1;_0x4c918d<_0x3506dd;_0x4c918d++)_0x1e4a5b[_0x4c918d+_0xe4a569]=_0x40a168[_0x5497ee+_0x4c918d]+_0x4efd67;_0xe4a569+=_0x3506dd,_0x4efd67+=_0x480bcc;}_0x29bf13=new Ie(this['device']);for(_0x15f315 in _0x17fac2)_0x357118=_0x17fac2[_0x15f315],_0x29bf13['setVertexS'+'tream'](_0x15f315,_0x357118['buffer'],_0x357118['numCompone'+'nts'],void(0x4*-0x8d9+0x303+-0x9*-0x399),_0x357118['dataType'],_0x357118['normalize']);_0x1e4a5b['length']>0x3c5+-0x68c*0x5+0x1cf7&&_0x29bf13['setIndices'](_0x1e4a5b),_0x29bf13['update'](Ms,!(0xdaa+0x40d+-0x11b6)),_0x2b712b&&(_0x5a3811=_0x5a3811['clone'](),_0x5a3811['update']());const _0x4615b5=new Le(_0x29bf13,_0x5a3811,this['rootNode']);_0x4615b5['castShadow']=_0x2f6dc4['origMeshIn'+'stances'][-0x2b*0x36+-0xf4d+0x185f]['castShadow'],_0x4615b5['parameters']=_0x2f6dc4['origMeshIn'+'stances'][0x233*0x11+0x1274+-0x1*0x37d7]['parameters'],_0x4615b5['layer']=_0x2f6dc4['origMeshIn'+'stances'][-0x23*-0x117+-0x1c88*-0x1+0x65*-0xa9]['layer'],_0x4615b5['_shaderDef'+'s']=_0x2f6dc4['origMeshIn'+'stances'][0x16a*-0x8+0x6b*0x14+0x2f4]['_shaderDef'+'s'],_0x4615b5['batching']=!(0x6*-0x509+-0x83e+0x2674),_0x4615b5['cull']=_0x2f6dc4['origMeshIn'+'stances'][-0x1fa4+0x1824+-0x30*-0x28]['cull'];const _0x280fd4=this['_batchGrou'+'ps'][_0x2d6e30];if(_0x280fd4&&_0x280fd4['_ui']&&(_0x4615b5['cull']=!(0x216d*0x1+-0x19*0xe3+-0xb41)),_0x2b712b){const _0x17ae1f=[];for(let _0xce1814=-0x4*0x348+0x7*0x17d+0x2b5;_0xce1814<_0x2f6dc4['origMeshIn'+'stances']['length'];_0xce1814++)_0x17ae1f['push'](_0x2f6dc4['origMeshIn'+'stances'][_0xce1814]['node']);_0x4615b5['skinInstan'+'ce']=new Vm(this['device'],_0x17ae1f,this['rootNode']);}_0x4615b5['_updateAab'+'b']=!(-0xd*0xfb+0x1bb+0xb05),_0x4615b5['drawOrder']=_0x2f6dc4['origMeshIn'+'stances'][-0x1ea9+-0x8*-0x3f3+0x1*-0xef]['drawOrder'],_0x4615b5['stencilFro'+'nt']=_0x2f6dc4['origMeshIn'+'stances'][-0x4*-0x742+-0x44f*0x1+-0x1*0x18b9]['stencilFro'+'nt'],_0x4615b5['stencilBac'+'k']=_0x2f6dc4['origMeshIn'+'stances'][0x118a+0x3*0x845+-0x2a59]['stencilBac'+'k'],_0x4615b5['flipFacesF'+'actor']=Sd(_0x2f6dc4['origMeshIn'+'stances'][-0x86*-0x1a+-0x57*-0x8+-0x1054]),_0x4615b5['castShadow']=_0x2f6dc4['origMeshIn'+'stances'][-0x56c*0x3+-0x4ed*-0x7+0x1237*-0x1]['castShadow'],_0x2f6dc4['meshInstan'+'ce']=_0x4615b5,_0x2f6dc4['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x241471,_0x2f6dc4;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0x1981*-0x1+-0x1953+-0x2e&&this['generate'](this['_dirtyGrou'+'ps']);const _0x232e0c=ne();for(let _0x2bb5f0=-0x3c2+0x4f0+-0x12e;_0x2bb5f0<this['_batchList']['length'];_0x2bb5f0++)this['_batchList'][_0x2bb5f0]['dynamic']&&this['_batchList'][_0x2bb5f0]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x232e0c;}['clone'](_0x26bee8,_0x12707e){const _0x19d28f=new zm(_0x12707e,_0x26bee8['dynamic'],_0x26bee8['batchGroup'+'Id']);this['_batchList']['push'](_0x19d28f);const _0x38dc16=[];for(let _0x125a35=-0x9*0x2cd+0x325*0x8+0xd;_0x125a35<_0x12707e['length'];_0x125a35++)_0x38dc16['push'](_0x12707e[_0x125a35]['node']);return _0x19d28f['meshInstan'+'ce']=new Le(_0x26bee8['meshInstan'+'ce']['mesh'],_0x26bee8['meshInstan'+'ce']['material'],_0x26bee8['meshInstan'+'ce']['node']),_0x19d28f['meshInstan'+'ce']['_updateAab'+'b']=!(-0x44f*-0x3+0x18ba+-0x25a6),_0x19d28f['meshInstan'+'ce']['parameters']=_0x12707e[-0x1677+-0x33*0x2f+-0xe*-0x246]['parameters'],_0x19d28f['meshInstan'+'ce']['cull']=_0x12707e[0x2*0x278+-0x1485+0x1*0xf95]['cull'],_0x19d28f['meshInstan'+'ce']['layer']=_0x12707e[-0x15f1*-0x1+-0x19f8+0x1*0x407]['layer'],_0x26bee8['dynamic']&&(_0x19d28f['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x38dc16,this['rootNode'])),_0x19d28f['meshInstan'+'ce']['castShadow']=_0x26bee8['meshInstan'+'ce']['castShadow'],_0x19d28f;}['destroyBat'+'ch'](_0x3f4180){_0x3f4180['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x3f4180['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0xe0ff00,_0x5c551c,_0x5530a7){if((_0xe0ff00==null?void(-0x1af6+-0x228c+0x3d82):_0xe0ff00['colorBuffe'+'r']['format'])!==_0x5530a7)return!(0x2*0x10c4+0x1ff2*-0x1+-0x196);const _0x466915=(_0x5c551c==null?void(-0x5b*0x46+0x1a17+-0x135):_0x5c551c['width'])||this['device']['width'],_0x4c7697=(_0x5c551c==null?void(0x4*0x417+-0x11b8*0x1+0x15c):_0x5c551c['height'])||this['device']['height'];return!_0xe0ff00||_0x466915!==_0xe0ff00['width']||_0x4c7697!==_0xe0ff00['height'];}['allocateRe'+'nderTarget'](_0x507866,_0x35186e,_0x298058,_0xba1224){const _0x431573=new he(_0x298058,{'name':Km,'format':_0xba1224,'width':_0x35186e?_0x35186e['colorBuffe'+'r']['width']:_0x298058['width'],'height':_0x35186e?_0x35186e['colorBuffe'+'r']['height']:_0x298058['height'],'mipmaps':!(-0x4*-0xb3+-0x146a+0x1*0x119e),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x507866?(_0x507866['destroyFra'+'meBuffers'](),_0x507866['_colorBuff'+'er']=_0x431573,_0x507866['_colorBuff'+'ers']=[_0x431573]):_0x507866=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x431573,'depth':!(0x66d+-0x898+0x22c),'stencil':!(-0x1bf7+-0xbf*-0x12+0x745*0x2),'autoResolve':!(0x233*0xb+-0xa8+-0x1788)}),_0x507866;}['releaseRen'+'derTarget'](_0x3c2933){_0x3c2933&&(_0x3c2933['destroyTex'+'tureBuffer'+'s'](),_0x3c2933['destroy']());}['frameUpdat'+'e'](){const _0x470465=this['device'],_0x19d68d=this['source'],_0x251763=(_0x19d68d==null?void(0x1be9*0x1+0x10f0+-0x3*0xef3):_0x19d68d['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x19d68d==null?void(0x22c+-0x239*0x8+0xf9c):_0x19d68d['colorBuffe'+'r'],_0x251763)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x19d68d,_0x470465,_0x251763));const _0xb8f827=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x470465['scope']['resolve'](Km)['setValue'](_0xb8f827);}['execute'](){const _0x152ca4=this['device'];G['pushGpuMar'+'ker'](_0x152ca4,'GRAB-COLOR');const _0xa66037=this['source'],_0x48e687=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x152ca4['isWebGPU']?(_0x152ca4['copyRender'+'Target'](_0xa66037,this['colorRende'+'rTarget'],!(-0xd29+-0x461*-0x1+0x8c8),!(-0x1ab5+0x1eab+0x3f5*-0x1)),_0x152ca4['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x152ca4['copyRender'+'Target'](_0xa66037,this['colorRende'+'rTarget'],!(0x1282+0xc50+-0x6*0x523),!(-0x349+0x1*0x435+0x5*-0x2f)),_0x152ca4['activeText'+'ure'](_0x152ca4['maxCombine'+'dTextures']-(0x127*0x15+0x1277*-0x2+0xcbc)),_0x152ca4['bindTextur'+'e'](_0x48e687),_0x152ca4['gl']['generateMi'+'pmap'](_0x48e687['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x152ca4);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x1a7c08,_0xc17658){super(_0x1a7c08),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0xc17658;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x4e8929,_0x413587){const _0x1fcd2d=(_0x413587==null?void(0x1723+-0x3*-0x65d+-0x2e*0xeb):_0x413587['width'])||this['device']['width'],_0x741d3=(_0x413587==null?void(-0x26f8+-0x1e1*-0x3+0x2155):_0x413587['height'])||this['device']['height'];return!_0x4e8929||_0x1fcd2d!==_0x4e8929['width']||_0x741d3!==_0x4e8929['height'];}['allocateRe'+'nderTarget'](_0x306257,_0x42812e,_0x6f1ca1,_0x27bde4,_0x4ec374){const _0x11d065=new he(_0x6f1ca1,{'name':Zm,'format':_0x27bde4,'width':_0x42812e?_0x42812e['colorBuffe'+'r']['width']:_0x6f1ca1['width'],'height':_0x42812e?_0x42812e['colorBuffe'+'r']['height']:_0x6f1ca1['height'],'mipmaps':!(-0x1de5+-0x3*-0x99b+0x115),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x306257?(_0x306257['destroyFra'+'meBuffers'](),_0x4ec374?_0x306257['_depthBuff'+'er']=_0x11d065:(_0x306257['_colorBuff'+'er']=_0x11d065,_0x306257['_colorBuff'+'ers']=[_0x11d065])):_0x306257=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x4ec374?null:_0x11d065,'depthBuffer':_0x4ec374?_0x11d065:null,'depth':!_0x4ec374,'stencil':_0x6f1ca1['supportsSt'+'encil'],'autoResolve':!(-0x177e+0x1e9f+-0x8*0xe4)}),_0x306257;}['releaseRen'+'derTarget'](_0x4cab14){_0x4cab14&&(_0x4cab14['destroyTex'+'tureBuffer'+'s'](),_0x4cab14['destroy']());}['before'](){var _0x239a21,_0x457e32;const _0x244849=this['camera'],_0x16f252=this['device'],_0x1f4083=(_0x244849==null?void(0x65*-0x13+0x23ed+-0x1*0x1c6e):_0x244849['renderTarg'+'et'])??_0x16f252['backBuffer'];let _0x3fe929=!(-0x7c9*-0x5+0x1*0x12e7+-0x39d4),_0x1f24ad=_0x1f4083['stencil']?vc:Ci;_0x16f252['isWebGPU']&&_0x1f4083['samples']>-0x251c+0x923+0x1bfa&&(_0x1f24ad=Ii,_0x3fe929=!(-0x215c+0x1061*0x1+0x43f*0x4));const _0xd640fd=((_0x239a21=_0x244849['renderTarg'+'et'])==null?void(0x11a+0x137a+-0x6*0x36e):_0x239a21['depthBuffe'+'r'])??((_0x457e32=_0x244849['renderTarg'+'et'])==null?void(-0x1ba7*0x1+-0x1*0x1df+-0x2*-0xec3):_0x457e32['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0xd640fd)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x244849['renderTarg'+'et'],_0x16f252,_0x1f24ad,_0x3fe929));const _0x4e65b3=_0x3fe929?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x16f252['scope']['resolve'](Zm)['setValue'](_0x4e65b3);}['execute'](){const _0x532e3f=this['device'];if(G['pushGpuMar'+'ker'](_0x532e3f,'GRAB-DEPTH'),_0x532e3f['isWebGL2']&&_0x532e3f['renderTarg'+'et']['samples']>-0xb81+0x21d+0x965){const _0x40d685=_0x532e3f['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0xb21ee0=this['depthRende'+'rTarget'];_0x532e3f['renderTarg'+'et']=_0xb21ee0,_0x532e3f['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x532e3f,_0x40d685,_0xb21ee0['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x532e3f['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x532e3f['copyRender'+'Target'](_0x532e3f['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x1e87+-0x15*0x1b+-0x1c4f),!(-0x4a7+-0x20a1+0x2548));G['popGpuMark'+'er'](_0x532e3f);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(0x2*-0x1e5+-0xe7d+0x82*0x24)),c(this,'_ssaoEnabl'+'ed',!(0x756+0x2ae*-0xc+0x18d3)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(-0xe8e+0x5ab+0x8e4)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x2ec*-0x2+-0x1*-0x72e+-0x156));}get['hash'](){if(this['_hash']===void(0xa14+-0x1d78+0x1364)){const _0x147f59=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x147f59);}return this['_hash'];}get['defines'](){const _0x52b668=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x20b4+0x51c+-0x311*-0x9),_0x52b668['clear'](),this['_sceneDept'+'hMapLinear']&&_0x52b668['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x209d+-0x5*0x702+0x1*0x26d)),_0x52b668['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x52b668['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x52b668['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x52b668;}['markDirty'](){this['_hash']=void(0x2160+0x216*-0x3+-0x1b1e),this['_definesDi'+'rty']=!(-0x1832+0x1b1a+-0x2e8);}set['fog'](_0xf5311d){this['_fog']!==_0xf5311d&&(this['_fog']=_0xf5311d,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0xb7d202){this['_ssaoEnabl'+'ed']!==_0xb7d202&&(this['_ssaoEnabl'+'ed']=_0xb7d202,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x48af33){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x617+0x1bc4+-0x21db),this['_gammaCorr'+'ection']!==_0x48af33&&(this['_gammaCorr'+'ection']=_0x48af33,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x4351b3){this['_toneMappi'+'ng']!==_0x4351b3&&(this['_toneMappi'+'ng']=_0x4351b3,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x4e9d0c){this['_srgbRende'+'rTarget']!==_0x4e9d0c&&(this['_srgbRende'+'rTarget']=_0x4e9d0c,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0xf1f4c4){this['_sceneDept'+'hMapLinear']!==_0xf1f4c4&&(this['_sceneDept'+'hMapLinear']=_0xf1f4c4,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',-0x1d47+0x9ff+0x1348),(this['_aspectRat'+'io']=(0xa0e+0x9d9*-0x3+0x138d)/(0xba2+0x1483*-0x1+0x8ea),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(0x1771*-0x1+-0xf66+0x26d7+0.75,0x1565+0x293*-0x1+-0x42*0x49+0.75,-0x2432+0x2285+0x8f*0x3+0.75,0x13*-0x29+0x4a5+-0x199*0x1),this['_clearColo'+'rBuffer']=!(0x92*-0x36+-0x2ae+0x2*0x10bd),this['_clearDept'+'h']=0x3*0x8fa+0x745+-0x1*0x2232,this['_clearDept'+'hBuffer']=!(-0x11b2+-0x1088+0x223a),this['_clearSten'+'cil']=0x207a+0x5c3+-0x263d,this['_clearSten'+'cilBuffer']=!(0x1*-0xf5b+-0x308*0x1+0x1263),this['_cullFaces']=!(-0x5c*0x5c+0xee7+0x1229),this['_farClip']=0xa*0x380+-0x12b2*0x1+0x6*-0x211,this['_flipFaces']=!(-0x86*0x1+0xa8f+-0xa08),this['_fov']=-0x42d+0x1525*-0x1+-0x6b*-0x3d,this['_frustumCu'+'lling']=!(0x3c5*-0x8+-0x1603+-0x5*-0xa6f),this['_horizonta'+'lFov']=!(0xaa4+-0xf*-0x9a+-0x13a9),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0xc7b*0x1+0x2*0x113d+-0x2ef5+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x7ee+0x1714+-0x1ef8,this['_projectio'+'n']=Gs,this['_rect']=new Q(0x1*0x3ee+-0x1983+-0x1595*-0x1,0x2096+0x176a+-0x3800,-0x21db+0x6*-0x1cb+0x2c9e,-0x1669+0x49*-0x3b+0x29*0xf5),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(0xa9*0x39+0x1839+-0x179*0x2a,-0x1cf*0xb+0x5*-0x70c+-0x3721*-0x1,0x1997*-0x1+0x1dbb+-0x423*0x1,0x5c*-0x9+-0x2440+0x1*0x277d),this['_scissorRe'+'ctClear']=!(0x117d+0x526*-0x7+-0xa*-0x1db),this['_aperture']=-0x126c+-0x6b*-0x37+0x1*-0x481,this['_shutter']=(0x149*0xe+-0x12b*0x1d+-0x13*-0xd6)/(-0x63f*-0x3+-0xe9d+-0x38),this['_sensitivi'+'ty']=0x5d5*-0x3+0x7c1+0xda6,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0xf0f+0xc1*0x4+0xc0b),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0x1cc0+0x1a22+0x29e),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0x11d+0x23b5+0x1269*-0x2),this['_shaderMat'+'ricesVersi'+'on']=0x3*-0xca7+0x80*0x24+0x13f5,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0x2*0xa46+-0x1d0*-0xc+-0x2a4c,0xa88+-0x1e99*-0x1+-0x1*0x2921,-0xed9+-0x1*-0xae5+0x3f4,0x1c4+-0x3*-0x27d+-0x93b],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x152bb7,_0x415563;(_0x152bb7=this['renderPass'+'ColorGrab'])==null||_0x152bb7['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x415563=this['renderPass'+'DepthGrab'])==null||_0x415563['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x1*-0xb4e+0x1ac0+-0xf72;}['_storeShad'+'erMatrices'](_0x4eaa40,_0x287c70,_0x160173,_0x4e5c44){this['_shaderMat'+'ricesVersi'+'on']!==_0x4e5c44&&(this['_shaderMat'+'ricesVersi'+'on']=_0x4e5c44,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x4eaa40),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x4eaa40),this['_viewProjI'+'nverse']['invert'](_0x4eaa40),this['_jitters'][-0x250*-0x5+-0x39f+-0x7ef]=this['_jitters'][0x1389+-0xb2*0x19+-0x1*0x227],this['_jitters'][0x1c64+0xb5d*0x1+-0x27be]=this['_jitters'][0x1631+-0x1f6b+0x93b],this['_jitters'][-0x1641+-0x15f3+0x2e*0xf6]=_0x287c70,this['_jitters'][0xc1b+0xd*0xbf+-0x15cd]=_0x160173);}get['fullSizeCl'+'earRect'](){const _0x172e8d=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x172e8d['x']===-0x1037*-0x2+-0x1ee2+-0x18c&&_0x172e8d['y']===-0x1*0x5d1+0x829+-0x3*0xc8&&_0x172e8d['z']===-0x18d7+-0x9*0x2b3+-0x3*-0x1061&&_0x172e8d['w']===0x1d5+-0x44f+0x27b*0x1;}set['aspectRati'+'o'](_0x351b77){this['_aspectRat'+'io']!==_0x351b77&&(this['_aspectRat'+'io']=_0x351b77,this['_projMatDi'+'rty']=!(0x1f7*-0x5+-0xb99+-0x1c9*-0xc));}get['aspectRati'+'o'](){var _0x6c0f2f;return(_0x6c0f2f=this['xr'])!=null&&_0x6c0f2f['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x52453f){this['_aspectRat'+'ioMode']!==_0x52453f&&(this['_aspectRat'+'ioMode']=_0x52453f,this['_projMatDi'+'rty']=!(-0x581*-0x2+0x170b*0x1+-0x220d));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x492026){this['_calculate'+'Projection']=_0x492026,this['_projMatDi'+'rty']=!(-0x21c3+-0x1*0x181d+0x39e0);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x3b525a){this['_calculate'+'Transform']=_0x3b525a;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x5b1230){this['_clearColo'+'r']['copy'](_0x5b1230);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x5e1c0f){this['_clearColo'+'rBuffer']=_0x5e1c0f;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x2e7a55){this['_clearDept'+'h']=_0x2e7a55;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x44c320){this['_clearDept'+'hBuffer']=_0x44c320;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x21e2a5){this['_clearSten'+'cil']=_0x21e2a5;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x50dded){this['_clearSten'+'cilBuffer']=_0x50dded;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x38d772){this['_cullFaces']=_0x38d772;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x8c3bea){this['_farClip']!==_0x8c3bea&&(this['_farClip']=_0x8c3bea,this['_projMatDi'+'rty']=!(-0x1*0x1e19+0x1*0x172b+0x1*0x6ee));}get['farClip'](){var _0x25423c;return(_0x25423c=this['xr'])!=null&&_0x25423c['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x318c49){this['_flipFaces']=_0x318c49;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x2fd500){this['_fov']!==_0x2fd500&&(this['_fov']=_0x2fd500,this['_projMatDi'+'rty']=!(0x31*0x5e+-0x3*0x163+-0xdd5));}get['fov'](){var _0x753272;return(_0x753272=this['xr'])!=null&&_0x753272['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x37fc23){this['_frustumCu'+'lling']=_0x37fc23;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x11054f){this['_horizonta'+'lFov']!==_0x11054f&&(this['_horizonta'+'lFov']=_0x11054f,this['_projMatDi'+'rty']=!(-0x1*-0x64+-0x1464+0x1400));}get['horizontal'+'Fov'](){var _0x4507fd;return(_0x4507fd=this['xr'])!=null&&_0x4507fd['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x42bbe7){this['_layers']=_0x42bbe7['slice'](0x126c+0x8*-0x247+-0x34),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x37beb1){this['_nearClip']!==_0x37beb1&&(this['_nearClip']=_0x37beb1,this['_projMatDi'+'rty']=!(-0xedb+0xaf1+0x3ea));}get['nearClip'](){var _0xad932d;return(_0xad932d=this['xr'])!=null&&_0xad932d['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x560ccb){this['_node']=_0x560ccb;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x62004e){this['_orthoHeig'+'ht']!==_0x62004e&&(this['_orthoHeig'+'ht']=_0x62004e,this['_projMatDi'+'rty']=!(0x5*-0x269+0x15e*0x18+-0x14c3));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x2390d){this['_projectio'+'n']!==_0x2390d&&(this['_projectio'+'n']=_0x2390d,this['_projMatDi'+'rty']=!(-0x23c+-0x43*0x1a+-0x59*-0x1a));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x2e678a){this['_rect']['copy'](_0x2e678a);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x5a802c){this['_renderTar'+'get']=_0x5a802c;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x27a332){this['_scissorRe'+'ct']['copy'](_0x27a332);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x3a27b9=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x3a27b9)['invert'](),this['_viewMatDi'+'rty']=!(-0x1*0x44f+0x1247*0x1+-0xdf7);}return this['_viewMat'];}set['aperture'](_0xcc0fa1){this['_aperture']=_0xcc0fa1;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x2b0cd4){this['_sensitivi'+'ty']=_0x2b0cd4;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x36f567){this['_shutter']=_0x36f567;}get['shutter'](){return this['_shutter'];}set['xr'](_0x8dc6cf){this['_xr']!==_0x8dc6cf&&(this['_xr']=_0x8dc6cf,this['_projMatDi'+'rty']=!(-0x107*0x11+-0x1af7+0x205*0x16));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x3e93fd){return this['_aspectRat'+'io']=_0x3e93fd['_aspectRat'+'io'],this['_farClip']=_0x3e93fd['_farClip'],this['_fov']=_0x3e93fd['_fov'],this['_horizonta'+'lFov']=_0x3e93fd['_horizonta'+'lFov'],this['_nearClip']=_0x3e93fd['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x3e93fd['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x3e93fd['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x3e93fd['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x3e93fd['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x3e93fd['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x3e93fd['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x3e93fd['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x3e93fd['calculateT'+'ransform'],this['clearColor']=_0x3e93fd['clearColor'],this['clearColor'+'Buffer']=_0x3e93fd['clearColor'+'Buffer'],this['clearDepth']=_0x3e93fd['clearDepth'],this['clearDepth'+'Buffer']=_0x3e93fd['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x3e93fd['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x3e93fd['clearStenc'+'ilBuffer'],this['cullFaces']=_0x3e93fd['cullFaces'],this['flipFaces']=_0x3e93fd['flipFaces'],this['frustumCul'+'ling']=_0x3e93fd['frustumCul'+'ling'],this['layers']=_0x3e93fd['layers'],this['orthoHeigh'+'t']=_0x3e93fd['orthoHeigh'+'t'],this['projection']=_0x3e93fd['projection'],this['rect']=_0x3e93fd['rect'],this['renderTarg'+'et']=_0x3e93fd['renderTarg'+'et'],this['scissorRec'+'t']=_0x3e93fd['scissorRec'+'t'],this['aperture']=_0x3e93fd['aperture'],this['shutter']=_0x3e93fd['shutter'],this['sensitivit'+'y']=_0x3e93fd['sensitivit'+'y'],this['shaderPass'+'Info']=_0x3e93fd['shaderPass'+'Info'],this['jitter']=_0x3e93fd['jitter'],this['_projMatDi'+'rty']=!(0x303+0x5*0x280+-0xf83),this;}['_enableRen'+'derPassCol'+'orGrab'](_0xf20a88,_0x1fb066){var _0x2e9726;_0x1fb066?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0xf20a88)):((_0x2e9726=this['renderPass'+'ColorGrab'])==null||_0x2e9726['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x50ee5f,_0x1edd69,_0x65fae7){var _0x41e275;_0x65fae7?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x50ee5f,this)):((_0x41e275=this['renderPass'+'DepthGrab'])==null||_0x41e275['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x21ef+-0xdd3+-0x1*-0x2fc3));}['worldToScr'+'een'](_0x15e8b9,_0x2c3db6,_0x5a2add,_0x2e8f51=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x15e8b9,_0x2e8f51);const _0x1ce8a8=this['_viewProjM'+'at']['data'],_0x2436fc=_0x15e8b9['x']*_0x1ce8a8[-0x1a12+0xfc7+-0x527*-0x2]+_0x15e8b9['y']*_0x1ce8a8[-0x1328+-0x1e93+-0xc1*-0x42]+_0x15e8b9['z']*_0x1ce8a8[0x201c+-0x32+-0x1fdf]+(0xf7*0x19+-0x1*0x779+-0x1*0x10a5)*_0x1ce8a8[-0x2f7*-0x1+-0x247c+0x2194];return _0x2e8f51['x']=(_0x2e8f51['x']/_0x2436fc+(0x23b1*0x1+-0x5e3*-0x1+-0x2993*0x1))*(0xcc3+-0x1c66+0xfa3+0.5)*_0x2c3db6,_0x2e8f51['y']=(-0x3bf+0x7*-0x33b+0x1a5d-_0x2e8f51['y']/_0x2436fc)*(-0x2*-0x8a3+-0x1aad*-0x1+0x1*-0x2bf3+0.5)*_0x5a2add,_0x2e8f51;}['screenToWo'+'rld'](_0x1752b6,_0x3f4fb9,_0x5cf188,_0x16d6fe,_0x117380,_0x2c66f7=new T()){const _0x5bc5fc=this['farClip']-this['nearClip'];if(En['set'](_0x1752b6/_0x16d6fe,(_0x117380-_0x3f4fb9)/_0x117380,_0x5cf188/_0x5bc5fc),En['mulScalar'](0xd4*-0xc+-0x1cb*0x4+0xe*0x139),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x452c8f=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x452c8f['transformP'+'oint'](Wa,Qm);const _0x2cd703=this['_node']['getPositio'+'n']();_0x2c66f7['sub2'](Qm,_0x2cd703),_0x2c66f7['normalize'](),_0x2c66f7['mulScalar'](_0x5cf188),_0x2c66f7['add'](_0x2cd703);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x2c66f7);return _0x2c66f7;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x3c75bb=this['_orthoHeig'+'ht'],_0x30ba0b=_0x3c75bb*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x30ba0b,_0x30ba0b,-_0x3c75bb,_0x3c75bb,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x2242+-0x829*0x3+0x3abe);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x155a60=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x25*-0x1b+0x1*-0x1780+0x13fd)/this['_sensitivi'+'ty']);return(0x16*0xd6+0x2209*-0x1+0x2*0x7d3)/(Math['pow'](-0x2*0x422+-0x267e+0x2ec4,_0x155a60)*(0x2224+-0x8b+-0x2198+0.19999999999999996));}['getScreenS'+'ize'](_0x5e32cc){if(this['_projectio'+'n']===Gs){const _0x24e754=this['_node']['getPositio'+'n']()['distance'](_0x5e32cc['center']);if(_0x24e754<_0x5e32cc['radius'])return-0x45*-0x41+-0xf5e+0xa*-0x37;const _0x132469=Math['asin'](_0x5e32cc['radius']/_0x24e754),_0x43d799=Math['tan'](_0x132469),_0x3d49b8=Math['tan'](this['fov']/(0x1*0x26ef+-0x3*0x3df+-0x1b50)*N['DEG_TO_RAD']);return Math['min'](_0x43d799/_0x3d49b8,0x1750+0x23*-0x25+0x124*-0x10);}return N['clamp'](_0x5e32cc['radius']/this['_orthoHeig'+'ht'],0xd26+0x1370+-0x2096,-0x16f4*0x1+0x3*-0x5d7+-0x6bf*-0x6);}['getFrustum'+'Corners'](_0x44e4de=this['nearClip'],_0x4bac66=this['farClip']){const _0xe0dd01=this['fov']*Math['PI']/(-0x11d3*-0x2+-0x205a+-0x8*0x53);let _0x4f5866,_0x36e129;this['projection']===Gs?this['horizontal'+'Fov']?(_0x4f5866=_0x44e4de*Math['tan'](_0xe0dd01/(0x1ba9+-0xd2e+-0xe79)),_0x36e129=_0x4f5866/this['aspectRati'+'o']):(_0x36e129=_0x44e4de*Math['tan'](_0xe0dd01/(-0x1*-0x9ee+-0x2*0xb23+0x3*0x41e)),_0x4f5866=_0x36e129*this['aspectRati'+'o']):(_0x36e129=this['_orthoHeig'+'ht'],_0x4f5866=_0x36e129*this['aspectRati'+'o']);const _0x3cb67a=pC;return _0x3cb67a[-0x1297+-0x15*-0xa1+-0x1*-0x562]['x']=_0x4f5866,_0x3cb67a[-0x97*-0x5+0x945+-0xc38]['y']=-_0x36e129,_0x3cb67a[-0x25d8+0x1a25+0xbb3]['z']=-_0x44e4de,_0x3cb67a[0x6*-0x359+0x10d*-0x13+-0x1*-0x280e]['x']=_0x4f5866,_0x3cb67a[0x6*0x3df+0x1b*0x88+-0x2591]['y']=_0x36e129,_0x3cb67a[0x1*0x86f+-0x913+-0x1*-0xa5]['z']=-_0x44e4de,_0x3cb67a[-0x1*-0xc02+0x14f9+-0x20f9]['x']=-_0x4f5866,_0x3cb67a[-0x64d*0x1+-0xa9f+0x18a*0xb]['y']=_0x36e129,_0x3cb67a[-0x4ca*0x3+-0x485*-0x2+0x556*0x1]['z']=-_0x44e4de,_0x3cb67a[-0x19*0xbf+-0x28*0x3c+0x1c0a]['x']=-_0x4f5866,_0x3cb67a[0x1b*-0x59+-0xf1a+-0x31*-0x80]['y']=-_0x36e129,_0x3cb67a[-0x18b3*0x1+-0x39*-0x91+-0x793]['z']=-_0x44e4de,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x4f5866=_0x4bac66*Math['tan'](_0xe0dd01/(0x3b3+0x180+0x1*-0x531)),_0x36e129=_0x4f5866/this['aspectRati'+'o']):(_0x36e129=_0x4bac66*Math['tan'](_0xe0dd01/(-0x2401+0xf1d*-0x2+-0x1f*-0x223)),_0x4f5866=_0x36e129*this['aspectRati'+'o'])),_0x3cb67a[-0x2522+0x243b+0x1*0xeb]['x']=_0x4f5866,_0x3cb67a[0x1083+-0x26e4+0x1665]['y']=-_0x36e129,_0x3cb67a[0x74d+0x95f+0x2*-0x854]['z']=-_0x4bac66,_0x3cb67a[0xf0e+-0x214b+0x1242]['x']=_0x4f5866,_0x3cb67a[0xe14+0xb6+-0xec5]['y']=_0x36e129,_0x3cb67a[0xa45+-0x626+-0x15*0x32]['z']=-_0x4bac66,_0x3cb67a[-0x203e+-0x364+0x2*0x11d4]['x']=-_0x4f5866,_0x3cb67a[0x643+0x139d+-0x19da]['y']=_0x36e129,_0x3cb67a[-0x100f+0x5*0x205+0x5fc]['z']=-_0x4bac66,_0x3cb67a[0x105d*-0x2+-0x1*-0x1f5b+0x166]['x']=-_0x4f5866,_0x3cb67a[0xe*-0x16a+-0x269*-0x7+-0x2f4*-0x1]['y']=-_0x36e129,_0x3cb67a[0x1cd*-0x3+-0x4ef*-0x2+-0x470]['z']=-_0x4bac66,_0x3cb67a;}['setXrPrope'+'rties'](_0x1b5a8a){Object['assign'](this['_xrPropert'+'ies'],_0x1b5a8a),this['_projMatDi'+'rty']=!(-0x236a+-0x1f3+0x255d);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x4f3235,_0x3f314a,_0x3579ab){const _0x21ca75=new ol();switch(_0x21ca75['node']=new De(_0x4f3235),_0x21ca75['aspectRati'+'o']=-0x2*-0x7db+-0x29f*0x5+-0x1*0x29a,_0x21ca75['aspectRati'+'oMode']=Bu,_0x21ca75['_scissorRe'+'ctClear']=!(0x1ec9+-0x10d3+0xdf6*-0x1),_0x3f314a){case Pe:_0x21ca75['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x3579ab]),_0x21ca75['fov']=-0x9*-0x3e1+0x1ccd+-0x3f5c,_0x21ca75['projection']=Gs;break;case Re:_0x21ca75['projection']=Gs;break;case oe:_0x21ca75['projection']=ua;break;}return _0x21ca75;}static['evalSpotCo'+'okieMatrix'](_0x4702b9){let _0x333cf7=Qi['_spotCooki'+'eCamera'];_0x333cf7||(_0x333cf7=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x333cf7),_0x333cf7['fov']=_0x4702b9['_outerCone'+'Angle']*(-0x1aae+-0x2d4*0xa+-0x1*-0x36f8);const _0x20c493=_0x333cf7['_node'];_0x20c493['setPositio'+'n'](_0x4702b9['_node']['getPositio'+'n']()),_0x20c493['setRotatio'+'n'](_0x4702b9['_node']['getRotatio'+'n']()),_0x20c493['rotateLoca'+'l'](-(-0x34*0x62+0x25f5+-0xc5*0x17),-0x632+0x1aa7+-0x1475,-0x195b+0x13+0x329*0x8),e_['setTRS'](_0x20c493['getPositio'+'n'](),_0x20c493['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x333cf7['projection'+'Matrix'],e_);const _0x44ac1a=_0x4702b9['cookieMatr'+'ix'],_0x5959b3=_0x4702b9['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x5959b3['x'],_0x5959b3['y'],_0x5959b3['z'],_0x5959b3['w']),_0x44ac1a['mul2'](s_,t_),_0x44ac1a;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0xe6b+0x217e+0x13*-0x101,0x1543+-0x512*-0x5+0x38f*-0xd,-0x1b76+0xa0*0x3d+-0x9f6),new se()['setFromEul'+'erAngles'](0x12eb+-0x954+-0x997,-(-0x5b0*-0x3+-0x1a13+0x95d*0x1),-0x28*0x8+0x823*-0x1+-0x35d*-0x3),new se()['setFromEul'+'erAngles'](-0xb5*-0x1+0x1*-0x22e5+-0x1*-0x228a,0x166d*-0x1+0x1*-0x223d+0x38aa,0x73*0x10+-0x13*0x1af+0x38b*0x7),new se()['setFromEul'+'erAngles'](-(-0x291+0xd27+-0xa3c),-0x1f1*-0x4+-0x5*-0x76d+0x4fd*-0x9,-0x934+-0x6*0x4db+-0xe*-0x2bd),new se()['setFromEul'+'erAngles'](-0x6b*0xf+0x1236+0x1*-0xbf1,0x7a3+0x15c3+0x1cb2*-0x1,0x241a*0x1+-0x256c+-0x25*-0xe),new se()['setFromEul'+'erAngles'](-0x2*-0x5fc+0x8cd+0x14c5*-0x1,0x1731+0x61*0x51+-0x72*0x79,0x10fd+-0x2b7+-0xd92)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=-0x218+0x2*-0xe7a+0x2*0xf86+0.000001,Zt=new T(),xr=new Float32Array(0x19dd+-0xa*-0x202+0x5*-0x92f),mC=new T(-(0x41*0x39+-0xde8+-0x91+0.5),0x2400*-0x1+-0xb9d*-0x1+-0x1863*-0x1,0x1bd1+0xc70+-0x2af*0xf),_C=new T(0x6a6+-0x3c7*0x1+-0x2df,0x4ac+0xbb7+-0x1063,0x2576+-0x1*0xf44+-0x1632+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x12b192){c(this,'areaLights'+'Enabled',!(0x6*0x1a3+-0x1*-0x16f6+-0x20c7)),(this['device']=_0x12b192,this['cookiesEna'+'bled']=!(0x1db5+-0x14*0x13d+0x1*-0x4f0),this['shadowsEna'+'bled']=!(-0xcbe+0x3*-0x4d6+-0x1b41*-0x1),this['areaLights'+'Enabled']=!(-0x1e3b*0x1+-0x11eb+0x3027),this['maxLights']=-0xbaf+-0x2*-0x1118+-0x2*0xac1);const _0x2a0498=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((-0x2*-0x79d+0x21f7+0x1*-0x312d)*_0x2a0498*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x2a0498,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x1f4633=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((0xf3c+-0x69d+-0x89b)*_0x1f4633*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x1f4633,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x1*-0x1e9+-0x2ed*-0x4+-0x9cb,this['invMaxAtte'+'nuation']=0x2325+-0x21d9+0x2*-0xa6,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x223b40=(_0x115007,_0x58d053)=>Object['keys'](_0x115007)['map'](_0x213c4d=>'#define\x20'+_0x58d053+_0x213c4d+'\x20'+_0x115007[_0x213c4d])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x223b40(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x223b40(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x45bdf7,_0x36f1fe;(_0x45bdf7=this['lightsText'+'ure8'])==null||_0x45bdf7['destroy'](),this['lightsText'+'ure8']=null,(_0x36f1fe=this['lightsText'+'ureFloat'])==null||_0x36f1fe['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x323254,_0x354ff8,_0x2b4169,_0x3b6418,_0x5cd2e8){return new he(_0x323254,{'name':_0x5cd2e8,'width':_0x354ff8,'height':_0x2b4169,'mipmaps':!(0x12c9+0x1*-0x188+-0xc0*0x17),'format':_0x3b6418,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x3cdedc,_0x10fd31){this['invMaxColo'+'rValue']=(-0x11bf+-0x19*0x6+0x1256*0x1)/_0x10fd31,this['invMaxAtte'+'nuation']=(0x172a+0x1884+-0x2fad)/_0x3cdedc;}['setBounds'](_0x57caed,_0x3e09ed){this['boundsMin']['copy'](_0x57caed),this['boundsDelt'+'a']['copy'](_0x3e09ed);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x167818,_0x123b2a){_0x123b2a['_node']['getWorldTr'+'ansform']()['getY'](_0x167818)['mulScalar'](-(0x1*0x2121+0xd*0x111+0x1*-0x2efd)),_0x167818['normalize']();}['getLightAr'+'eaSizes'](_0x1d8540){const _0x3a238f=_0x1d8540['_node']['getWorldTr'+'ansform']();return _0x3a238f['transformV'+'ector'](mC,Zt),xr[-0x1*-0xc5b+0x6*0x335+-0x1f99]=Zt['x'],xr[0x1bb9+-0x20eb+0x1*0x533]=Zt['y'],xr[0x2283+0x29f*-0x7+0xb*-0x178]=Zt['z'],_0x3a238f['transformV'+'ector'](_C,Zt),xr[0x2d+0x1345*-0x1+0x131b]=Zt['x'],xr[0xfe0+-0x11f9+0x1*0x21d]=Zt['y'],xr[-0x243d*0x1+0x16fe+0xd44]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x4567c9,_0x17865d,_0x5194bd,_0x2bd13e,_0x4e21ea,_0x17463d){_0x4567c9[_0x17865d+(0x74b*0x4+-0x2456+0x72a)]=_0x2bd13e?0x1*0x2226+0x21c4+-0x1cf*0x25:0x1d*0xe3+-0x11cf*0x1+-0xb*0xb8,_0x4567c9[_0x17865d+(-0x5a*0xa+0x259*-0x1+0x5de)]=this['areaLights'+'Enabled']?_0x5194bd['_shape']*(-0x6*0x22d+-0x1*0x6df+-0x1*-0x142d):-0x1787+0x13f7+0x18*0x26,_0x4567c9[_0x17865d+(-0x126a+0x1dfe+-0xb92)]=_0x5194bd['_falloffMo'+'de']*(-0x1a*0x89+0x11*0x7f+0x67a),_0x4567c9[_0x17865d+(-0x1*0x2507+-0x2664+0x4b6e)]=_0x4e21ea?_0x17463d*(-0x1076+-0x2*-0xb79+-0x57d):-0x1*0x10b1+0x24da+0x1429*-0x1;}['addLightDa'+'taColor'](_0x57c4b3,_0x496e6a,_0x50dfdb,_0x200f9a){const _0x90283b=this['invMaxColo'+'rValue'],_0x16ad16=_0x50dfdb['_colorLine'+'ar'];Wt['float2Byte'+'s'](_0x16ad16[-0x4e*0x2f+-0x6b*0x1f+0x1b47]*_0x90283b,_0x57c4b3,_0x496e6a+(-0x14b2+0x4*-0x84f+-0x213*-0x1a),-0x1791+-0x22c5+0x3a58),Wt['float2Byte'+'s'](_0x16ad16[0x183b+-0x14*-0xa0+-0x24ba]*_0x90283b,_0x57c4b3,_0x496e6a+(0x7e6+-0xe3*0x5+-0x375),-0x24e8+0x19bf*-0x1+0x3ea9),Wt['float2Byte'+'s'](_0x16ad16[0xbd3*0x1+-0xa74*0x1+-0x1*0x15d]*_0x90283b,_0x57c4b3,_0x496e6a+(0x1e5b+0x24bb*0x1+-0x4312*0x1),0x2333+0x1bbd+0x6fe*-0x9),_0x57c4b3[_0x496e6a+(-0x4*-0x994+-0x47*-0x81+-0x4a11)]=_0x200f9a?-0x1ca9+-0x1392+-0x2*-0x189d:-0xcb*-0x2b+0x2*-0x131+0x1*-0x1fb7;const _0x4f22e5=!!(_0x50dfdb['mask']&hs),_0x1acfdb=!!(_0x50dfdb['mask']&cr);_0x57c4b3[_0x496e6a+(-0x1d1c+0xfc1+0xd62)]=_0x4f22e5&&_0x1acfdb?0x93c+0xb8f+-0x6*0x362:_0x1acfdb?-0x1*0x1ff9+-0x68+0x2160:0x116*0x1+-0x25e6+0x4*0x934;}['addLightDa'+'taSpotAngl'+'es'](_0x33760d,_0x5df379,_0x5bd57f){Wt['float2Byte'+'s'](_0x5bd57f['_innerCone'+'AngleCos']*(-0x1dee+-0x2097+0x123*0x37+0.5-i_)+(-0x1bd*0x3+-0x2*-0x47b+-0x3bf+0.5),_0x33760d,_0x5df379+(0x8d3+0x235f+0x2*-0x1619),-0x232d*0x1+0xc38+-0x1*-0x16f7),Wt['float2Byte'+'s'](_0x5bd57f['_outerCone'+'AngleCos']*(-0x1805+-0x1214+0x2a19+0.5-i_)+(0x380+0x1*-0x1241+-0x1*-0xec1+0.5),_0x33760d,_0x5df379+(-0x1064+-0xd19+0x1d7f),0x1482+-0x1*0x1029+-0x1*0x457);}['addLightDa'+'taShadowBi'+'as'](_0x538a03,_0x4f9358,_0x5350e4){const _0x53db16=_0x5350e4['getRenderD'+'ata'](null,-0x52a*-0x7+-0x29*0x81+-0xf7d),_0x1a7d24=_0x5350e4['_getUnifor'+'mBiasValue'+'s'](_0x53db16);Wt['float2Byte'+'sRange'](_0x1a7d24['bias'],_0x538a03,_0x4f9358,-(-0xfda+0x2486+-0x14ab),-0x6f7*0x3+-0x1dd9+-0xa2a*-0x5,-0x33e*0x5+-0xc36*-0x1+0x402),Wt['float2Byte'+'s'](_0x1a7d24['normalBias'],_0x538a03,_0x4f9358+(0x2149+-0xfbb*-0x1+-0x3102),-0xc5e+-0x2*0xc3d+0x24da);}['addLightDa'+'taCookies'](_0x8a04dc,_0x5b710d,_0x2f7043){const _0x1f3511=_0x2f7043['_cookieCha'+'nnel']==='rgb';if(_0x8a04dc[_0x5b710d+(0x1*-0x1f8a+-0xc3c+-0x2*-0x15e3)]=Math['floor'](_0x2f7043['cookieInte'+'nsity']*(0x22c0+-0x1cb7+-0x50a)),_0x8a04dc[_0x5b710d+(-0x10b4+-0x24cc+-0x3581*-0x1)]=_0x1f3511?-0x2381+0x1ef5+0x58b:-0x2*0x12b3+-0x4d*0x2+-0x200*-0x13,!_0x1f3511){const _0x37b961=_0x2f7043['_cookieCha'+'nnel'];_0x8a04dc[_0x5b710d+(0x1*0x1273+0x34f+-0x15be*0x1)]=_0x37b961==='rrr'?-0x1*-0x60d+-0x104*0x1d+-0x9*-0x2b6:0x2a7*-0x7+0x2080+0xdef*-0x1,_0x8a04dc[_0x5b710d+(0x2004+0x1*0x1ea9+-0x3ea8)]=_0x37b961==='ggg'?0x1774+0x1*0xba9+-0x221e:-0x5f9*-0x2+0x1*0xbcf+-0x7eb*0x3,_0x8a04dc[_0x5b710d+(-0x1c4c+0x11*0xd1+0xe71*0x1)]=_0x37b961==='bbb'?-0xf7*-0x12+0x13a4+-0xc01*0x3:-0xb71+0x132d+0xc6*-0xa,_0x8a04dc[_0x5b710d+(-0x10c3+-0x2526+0x35f0)]=_0x37b961==='aaa'?-0x25c0+0x109f+0x1620:-0x481*-0x4+0x1b7*-0xb+0xd9;}}['addLightDa'+'ta'](_0x542b91,_0x2b7a0f){const _0xa22220=_0x542b91['_type']===Re,_0x328b9f=_0x542b91['atlasViewp'+'ortAllocat'+'ed'],_0x286409=this['cookiesEna'+'bled']&&!!_0x542b91['_cookie']&&_0x328b9f,_0x4d94e7=this['areaLights'+'Enabled']&&_0x542b91['shape']!==yt,_0x41d9e6=this['shadowsEna'+'bled']&&_0x542b91['castShadow'+'s']&&_0x328b9f,_0x1cd3b2=_0x542b91['_node']['getPositio'+'n']();let _0x120f74=null,_0x492311=null;_0xa22220?_0x41d9e6?_0x120f74=_0x542b91['getRenderD'+'ata'](null,-0x1*0x198b+0x16e5*0x1+-0x153*-0x2)['shadowMatr'+'ix']:_0x286409&&(_0x120f74=Ma['evalSpotCo'+'okieMatrix'](_0x542b91)):(_0x41d9e6||_0x286409)&&(_0x492311=_0x542b91['atlasViewp'+'ort']);const _0x2c9765=this['lights8'],_0x26080a=_0x2b7a0f*this['lightsText'+'ure8']['width']*(0x633*0x3+-0x7*-0x197+-0xedb*0x2);this['addLightDa'+'taFlags'](_0x2c9765,_0x26080a+(0x2412+0x27*-0x75+-0x123b)*Sr['FLAGS'],_0x542b91,_0xa22220,_0x41d9e6,_0x542b91['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x2c9765,_0x26080a+(-0x5c9*-0x1+-0xc90+0x6cb)*Sr['COLOR_A'],_0x542b91,_0x286409),_0xa22220&&this['addLightDa'+'taSpotAngl'+'es'](_0x2c9765,_0x26080a+(0x1594*0x1+0x190b*0x1+-0x2e9b)*Sr['SPOT_ANGLE'+'S'],_0x542b91),_0x542b91['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x2c9765,_0x26080a+(-0x2079+-0x1aac+0x3b29)*Sr['SHADOW_BIA'+'S'],_0x542b91),_0x286409&&this['addLightDa'+'taCookies'](_0x2c9765,_0x26080a+(-0x2*0x1367+0x1*-0x3b7+-0x1*-0x2a89)*Sr['COOKIE_A'],_0x542b91);const _0x3f1b53=this['lightsFloa'+'t'],_0x50bd2f=_0x2b7a0f*this['lightsText'+'ureFloat']['width']*(-0x1c25+-0x1*-0x9b6+0x1273);if(_0x3f1b53[_0x50bd2f+(0x1*-0x829+-0x43*-0x1+-0x2*-0x3f5)*lt['POSITION_R'+'ANGE']+(0x2026+0x1*-0x1cdc+-0x34a)]=_0x1cd3b2['x'],_0x3f1b53[_0x50bd2f+(0xd*0x174+0x732*0x4+-0xbea*0x4)*lt['POSITION_R'+'ANGE']+(0x22d6*0x1+-0xd*0x45+0x322*-0xa)]=_0x1cd3b2['y'],_0x3f1b53[_0x50bd2f+(-0x202*-0x1+0x242f+-0x1d*0x151)*lt['POSITION_R'+'ANGE']+(-0x1916+0x1979*-0x1+0x5*0xa1d)]=_0x1cd3b2['z'],_0x3f1b53[_0x50bd2f+(-0x5e*-0x1f+-0x649*-0x1+-0x1*0x11a7)*lt['POSITION_R'+'ANGE']+(-0x127+-0x2591+-0x7bf*-0x5)]=_0x542b91['attenuatio'+'nEnd'],_0xa22220&&(this['getSpotDir'+'ection'](Zt,_0x542b91),_0x3f1b53[_0x50bd2f+(0x25ad+0x6fe*0x1+-0x2ca7)*lt['SPOT_DIREC'+'TION']+(-0x23d8+0x1c36*-0x1+0x1*0x400e)]=Zt['x'],_0x3f1b53[_0x50bd2f+(0x1cf3+-0x173*0x3+-0x1896)*lt['SPOT_DIREC'+'TION']+(-0x764+-0xc41*-0x1+0x1*-0x4dc)]=Zt['y'],_0x3f1b53[_0x50bd2f+(0xdb7+0x129c+-0x3*0xac5)*lt['SPOT_DIREC'+'TION']+(-0x11*0xd3+0x1*-0x223+0x1028)]=Zt['z']),_0x120f74){const _0x4d5034=_0x120f74['data'];for(let _0x343b2b=-0x1*0xcbb+-0x1*-0xb93+0x128;_0x343b2b<-0x71*0x1c+-0xe63+0x1acf;_0x343b2b++)_0x3f1b53[_0x50bd2f+(-0xa*-0x3e7+0x1678+-0x3d7a)*lt['PROJ_MAT_0']+_0x343b2b]=_0x4d5034[_0x343b2b];}if(_0x492311&&(_0x3f1b53[_0x50bd2f+(-0x23b3+-0x1ab5+0x3e6c)*lt['ATLAS_VIEW'+'PORT']+(-0x146f+0x34c+0x1123)]=_0x492311['x'],_0x3f1b53[_0x50bd2f+(-0x4a0*-0x7+0x5eb+-0x2647)*lt['ATLAS_VIEW'+'PORT']+(-0xe1d*-0x2+-0x42*0x89+-0x17*-0x4f)]=_0x492311['y'],_0x3f1b53[_0x50bd2f+(-0x1c4c*0x1+-0x17da+0x342a)*lt['ATLAS_VIEW'+'PORT']+(0x7cd+0x247f+-0x2c4a)]=_0x492311['z']/(-0x1eb3+0x1*0x22ff+0x1*-0x449)),_0x4d94e7){const _0x2add13=this['getLightAr'+'eaSizes'](_0x542b91);_0x3f1b53[_0x50bd2f+(-0x2231*0x1+-0x9b5+-0x16*-0x1ff)*lt['AREA_DATA_'+'WIDTH']+(-0x142d+0x19*0x71+0x924)]=_0x2add13[-0x716+0xe*0x1c1+-0x1a*0xac],_0x3f1b53[_0x50bd2f+(-0x4dd+0xe73*-0x2+0x21c7)*lt['AREA_DATA_'+'WIDTH']+(0xacd*0x1+-0x1ced+0x1221)]=_0x2add13[-0xa*-0x21+-0x2214+0x20cb],_0x3f1b53[_0x50bd2f+(0x182a+-0x2f*0x85+0x45)*lt['AREA_DATA_'+'WIDTH']+(0x2070+0x19f3+-0x31*0x131)]=_0x2add13[-0x31*-0x73+0xb*0x25c+-0x2ff5],_0x3f1b53[_0x50bd2f+(-0xd55+0x20c2+-0x1369*0x1)*lt['AREA_DATA_'+'HEIGHT']+(-0x1cee+0x1*-0x1210+-0x1*-0x2efe)]=_0x2add13[0x3*-0x7d9+0x8*-0x342+0x319e],_0x3f1b53[_0x50bd2f+(0x5*-0x587+-0x594+0x213b)*lt['AREA_DATA_'+'HEIGHT']+(0xae7*-0x2+0x35*0x47+0x1*0x71c)]=_0x2add13[-0x136*0x1e+0x2c4+0x865*0x4],_0x3f1b53[_0x50bd2f+(-0x9*0x26b+0x1ac5+0x12*-0x47)*lt['AREA_DATA_'+'HEIGHT']+(-0x15f2+0x1eb5+0x53*-0x1b)]=_0x2add13[-0x2181*0x1+0x1f20+0x266];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=0x1b01+-0xbdc+0xf25*-0x1+0.000001,n_=0x653+-0x1*0x1ab7+0x2464;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x2ff25b){c(this,'clusterTex'+'ture'),(this['device']=_0x2ff25b,this['name']='Untitled',this['reportCoun'+'t']=-0x7b*-0xb+-0x12cd+0xd84,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(0x17b*-0x19+-0x13fa*0x1+0x38fe,0x2542+-0x8a7+-0x1c9a,0x1e20+0xd13+0x61*-0x72),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0xb*0xe9+-0x1e*-0x9d+-0x85f,this['_maxAttenu'+'ation']=0x8a0+0x9e9+0x1289*-0x1,this['_maxColorV'+'alue']=-0x1f50+0x2696+-0x746,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x2ff25b),this['registerUn'+'iforms'](_0x2ff25b));}set['maxCellLig'+'htCount'](_0x3e13e3){_0x3e13e3!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x3e13e3,this['_cellsDirt'+'y']=!(-0x205d+0x576*0x3+0x1*0xffb));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x340891){Ml['copy'](_0x340891)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(-0x2701+0x2592+-0x1*-0x16f));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x34f992){this['_clusterSk'+'ipId']=_0x34f992['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x34f992['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x34f992['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x34f992['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x1ec3+-0x130d*-0x1+-0x13*0x29f),this['_clusterBo'+'undsMinId']=_0x34f992['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x2232+0x4ba+0x1d7b),this['_clusterBo'+'undsDeltaI'+'d']=_0x34f992['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0xade+-0x1725+0x2206*0x1),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x34f992['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x227*0x1+-0xe86+0x631*0x2),this['_clusterCe'+'llsDotId']=_0x34f992['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x10c*0x9+-0x2661+0x1cf8),this['_clusterCe'+'llsMaxId']=_0x34f992['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0xd2d+-0x1*0x1e95+-0x1*-0x2bc5),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x34f992['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(0x13b3+0x35*-0xa7+0x2fa*0x5);}['updatePara'+'ms'](_0x439a1b){_0x439a1b&&(this['cells']=_0x439a1b['cells'],this['maxCellLig'+'htCount']=_0x439a1b['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x439a1b['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x439a1b['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x439a1b['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x1*0x32e+0x1*0x26a3+0x2374*-0x1);const _0x24caf9=this['_cells']['x'],_0x23108f=this['_cells']['y'],_0x3f5ddc=this['_cells']['z'],_0x45fb69=_0x24caf9*_0x23108f*_0x3f5ddc,_0x884327=this['maxCellLig'+'htCount']*_0x45fb69;let _0x3ff773=Math['ceil'](Math['sqrt'](_0x884327));_0x3ff773=N['roundUp'](_0x3ff773,this['maxCellLig'+'htCount']);const _0x50a236=Math['ceil'](_0x884327/_0x3ff773);v['assert'](_0x3ff773<=n_&&_0x50a236<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x779*-0x2+0x222f*0x1+-0x3121]=_0x24caf9,this['_clusterCe'+'llsMaxData'][0x20b*0x7+0x1c7f*-0x1+-0x5*-0x2d7]=_0x23108f,this['_clusterCe'+'llsMaxData'][-0x11*0x20b+0x9*-0x359+0x40de]=_0x3f5ddc,this['_clusterCe'+'llsDotData'][0x342*-0xa+0x264b*-0x1+0x46df*0x1]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x1*0x17e+0x28c*0x5+-0xb3d*0x1]=_0x24caf9*_0x3f5ddc*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x19*-0x38+0x12*-0x12d+-0x4*-0x6a9]=_0x24caf9*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x884327),this['counts']=new Int32Array(_0x45fb69),this['_clusterTe'+'xtureSizeD'+'ata'][0x113d*0x1+0x1005+-0x1d9*0x12]=_0x3ff773,this['_clusterTe'+'xtureSizeD'+'ata'][0x690*0x4+0x1c19+-0x3658*0x1]=(0xad*0xb+-0x150d+0x13d*0xb)/_0x3ff773,this['_clusterTe'+'xtureSizeD'+'ata'][-0x7a*0x2f+0x57d*-0x7+0x3cd3]=(0xc26+0x1d2d+-0x2952)/_0x50a236,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x3ff773,_0x50a236,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0xcba+-0x1dff+0x1146?-0x1ec2+-0x1998+0x1*0x385a:0x1*-0x1be9+-0x5*-0x127+0x1627),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x51a6fa=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1*-0x13+0x102a+-0x3*0x55d]=this['_cells']['x']/_0x51a6fa['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x6aa+0x9b3+0x15d*-0xc]=this['_cells']['y']/_0x51a6fa['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x355*-0x1+0x2*0x1b3+-0x6b9]=this['_cells']['z']/_0x51a6fa['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x60*0x59+0x16f3+-0x3853*0x1]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x270c+-0x265f+0x4d6c]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x2460+0x1020+0x1442]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xd*-0xa9+-0x5*-0x6df+-0xabc*0x4]=_0x51a6fa['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1125+0xfcb+0x1*-0x20ef]=_0x51a6fa['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x162+-0x2006+0x1ea6*0x1]=_0x51a6fa['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x2045+0x1604+0x3649*-0x1]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0xb94+0x2546+-0x19b1*0x1]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x42f31c,_0x2ed559,_0x2825f1){_0x2ed559['copy'](_0x42f31c['min']),_0x2ed559['sub'](this['boundsMin']),_0x2ed559['div'](this['boundsDelt'+'a']),_0x2ed559['mul2'](_0x2ed559,this['cells']),_0x2ed559['floor'](),_0x2825f1['copy'](_0x42f31c['max']),_0x2825f1['sub'](this['boundsMin']),_0x2825f1['div'](this['boundsDelt'+'a']),_0x2825f1['mul2'](_0x2825f1,this['cells']),_0x2825f1['ceil'](),_0x2ed559['max'](T['ZERO']),_0x2825f1['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x41b4df){const _0xa01eac=this['lightsBuff'+'er']['maxLights'],_0x10fb64=this['_usedLight'+'s'];let _0x5592bd=-0xbd*0x19+0x3a*0xd+0xf84;_0x41b4df['forEach'](_0x191a31=>{const _0x944d4e=!!(_0x191a31['mask']&(hs|cr)),_0x51be60=_0x191a31['type']===Re&&_0x191a31['_outerCone'+'Angle']===-0x44e*-0x2+-0x1d28+0x523*0x4;if(_0x191a31['enabled']&&_0x191a31['type']!==oe&&_0x191a31['visibleThi'+'sFrame']&&_0x191a31['intensity']>-0x141c+0x2553*-0x1+0x1325*0x3&&_0x944d4e&&!_0x51be60){if(_0x5592bd<_0xa01eac){let _0x4cee59;_0x5592bd<_0x10fb64['length']?_0x4cee59=_0x10fb64[_0x5592bd]:(_0x4cee59=new a_(),_0x10fb64['push'](_0x4cee59)),_0x4cee59['light']=_0x191a31,_0x191a31['getBoundin'+'gBox'](bd),_0x4cee59['min']['copy'](bd['getMin']()),_0x4cee59['max']['copy'](bd['getMax']()),_0x5592bd++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0xa01eac-(0x1*-0x1c6e+0x55*0x6+0x3c7*0x7))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x10fb64['length']=_0x5592bd;}['evaluateBo'+'unds'](){const _0x3e3754=this['_usedLight'+'s'],_0x5193f5=this['boundsMin'],_0x58d290=this['boundsMax'];if(_0x3e3754['length']>-0x190f+0xc37*0x3+0x5*-0x251){_0x5193f5['copy'](_0x3e3754[0x146f*0x1+-0x12*-0x1c6+-0x1a2d*0x2]['min']),_0x58d290['copy'](_0x3e3754[-0x138a+-0x26c*0xb+0x2e2f]['max']);for(let _0x364c28=-0x13e*0x3+0x1*-0x11ea+0x15a6;_0x364c28<_0x3e3754['length'];_0x364c28++)_0x5193f5['min'](_0x3e3754[_0x364c28]['min']),_0x58d290['max'](_0x3e3754[_0x364c28]['max']);}else _0x5193f5['set'](-0x91a+-0x192f*-0x1+-0x17*0xb3,-0x1*-0x4fd+0x1*0x567+-0xa64,-0x750*0x5+-0xd7*0x2d+0x4a5b),_0x58d290['set'](-0x3e*0x1+0x296*-0x8+0x14ef,-0x1507+-0x18a5*-0x1+-0x39d,0x209a+0x2683+-0x471c);this['boundsDelt'+'a']['sub2'](_0x58d290,_0x5193f5),this['lightsBuff'+'er']['setBounds'](_0x5193f5,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x3426c3=-0x2*-0x2c9+0xb*0x21a+0x66*-0x48,_0x2d6b9b=-0x74*-0xa+0x324*0xc+-0x2a38;const _0x531963=this['_usedLight'+'s'];for(let _0x5cba0c=-0x9f4+-0x8cc+-0x12c1*-0x1;_0x5cba0c<_0x531963['length'];_0x5cba0c++){const _0x2d6a26=_0x531963[_0x5cba0c]['light'];_0x3426c3=Math['max'](_0x2d6a26['attenuatio'+'nEnd'],_0x3426c3);const _0x3023b5=_0x2d6a26['_colorLine'+'ar'];_0x2d6b9b=Math['max'](_0x3023b5[0xb88+-0x1*-0x12f1+-0x1d*0x10d],_0x2d6b9b),_0x2d6b9b=Math['max'](_0x3023b5[-0x1336*-0x2+-0x1254+0x25*-0x8b],_0x2d6b9b),_0x2d6b9b=Math['max'](_0x3023b5[-0x11c*-0x1+0x1*0x433+-0x54d],_0x2d6b9b);}this['_maxAttenu'+'ation']=_0x3426c3+r_,this['_maxColorV'+'alue']=_0x2d6b9b+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x2573d8){this['counts']['fill'](0x3d*-0x7f+-0x13dd+0x322*0x10),this['clusters']['fill'](-0x1f4*0x6+-0x6f6*0x1+-0x31d*-0x6),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x2573d8?_0x2573d8['areaLights'+'Enabled']:!(0x1*0x1c76+-0x1cad*0x1+-0x38*-0x1);const _0x788d26=this['_cells']['x'],_0x2f3e22=this['_cells']['z'],_0x114aee=this['counts'],_0x6210cb=this['_maxCellLi'+'ghtCount'],_0x28f764=this['clusters'],_0xdc3775=this['maxCellLig'+'htCount'];let _0x2ef8e5=!(0x846+-0x219+-0x18b*0x4);const _0x4ffd20=this['_usedLight'+'s'];for(let _0x564d7a=-0x1ceb+-0x1504+0x178*0x22;_0x564d7a<_0x4ffd20['length'];_0x564d7a++){const _0x4459b2=_0x4ffd20[_0x564d7a],_0x3befb1=_0x4459b2['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x3befb1,_0x564d7a),this['evalLightC'+'ellMinMax'](_0x4459b2,Pl,Rl);const _0x3e4abf=Pl['x'],_0x5d6c87=Rl['x'],_0x45ec6c=Pl['y'],_0x37cf6a=Rl['y'],_0x1c97b7=Pl['z'],_0x26a795=Rl['z'];for(let _0x1b0746=_0x3e4abf;_0x1b0746<=_0x5d6c87;_0x1b0746++)for(let _0x4950c5=_0x1c97b7;_0x4950c5<=_0x26a795;_0x4950c5++)for(let _0x335152=_0x45ec6c;_0x335152<=_0x37cf6a;_0x335152++){const _0x1223a6=_0x1b0746+_0x788d26*(_0x4950c5+_0x335152*_0x2f3e22),_0x18cdbb=_0x114aee[_0x1223a6];_0x18cdbb<_0x6210cb?(_0x28f764[_0xdc3775*_0x1223a6+_0x18cdbb]=_0x564d7a,_0x114aee[_0x1223a6]=_0x18cdbb+(0x1*0x1b51+-0x30b*-0x7+-0x9b9*0x5)):_0x2ef8e5=!(0x101*0x1+0xa07+-0xb08);}}_0x2ef8e5&&this['reportCoun'+'t']<0x14bf+0xa6d*0x2+-0x2994&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x16f2+0x47d+-0x1b6b*0x1?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x40a85d,_0x2825e0=null){this['updatePara'+'ms'](_0x2825e0),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x40a85d),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x2825e0),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=0x19*-0x4a+0xe*-0x2bf+0x2*0x16d7+0.39996322972865306,ll={'circlePoint'(_0x515647){const _0x19ea5f=Math['sqrt'](Math['random']()),_0x544732=Math['random']()*(-0x7*0x22d+0x5f2*0x1+0x27*0x3d)*Math['PI'];_0x515647['x']=_0x19ea5f*Math['cos'](_0x544732),_0x515647['y']=_0x19ea5f*Math['sin'](_0x544732);},'circlePointDeterministic'(_0x530ae3,_0x146e41,_0x3c3715){const _0x32d503=_0x146e41*o_,_0x550b8e=Math['sqrt'](_0x146e41)/Math['sqrt'](_0x3c3715);_0x530ae3['x']=_0x550b8e*Math['cos'](_0x32d503),_0x530ae3['y']=_0x550b8e*Math['sin'](_0x32d503);},'spherePointDeterministic'(_0x28a81f,_0x4f8c3c,_0x38e031,_0x1f2ed8=-0xe90+-0x256*-0x1+0x61d*0x2,_0x4bebeb=0xbf5+0xd*-0x166+0x63a*0x1){_0x1f2ed8=0x79d*-0x1+-0x9*-0x3d+-0x579*-0x1-(0x19ea+-0x1*0x1aff+-0x9*-0x1f)*_0x1f2ed8,_0x4bebeb=0x1*-0x4d2+-0x1*-0x91+-0x1*-0x442-(-0x1130+-0x2083+0x31b5)*_0x4bebeb;const _0x3293eb=N['lerp'](_0x1f2ed8,_0x4bebeb,_0x4f8c3c/_0x38e031),_0x5b4f9f=Math['sqrt'](-0x1*-0x1091+-0xa09+-0x687-_0x3293eb*_0x3293eb),_0x462d42=o_*_0x4f8c3c;_0x28a81f['x']=Math['cos'](_0x462d42)*_0x5b4f9f,_0x28a81f['y']=_0x3293eb,_0x28a81f['z']=Math['sin'](_0x462d42)*_0x5b4f9f;},'radicalInverse'(_0x5e18e7){let _0x3a8740=(_0x5e18e7<<-0xd33+0x1b4c+-0x1*0xe09|_0x5e18e7>>>0x895*0x3+0x2f4*0x5+-0x2873)>>>-0xfda*0x1+0x582*0x4+-0x62e;return _0x3a8740=((_0x3a8740&-0xa3a0a05+0x459bd010+0xce*0x204013)<<-0x12e4+-0x1a8*0xa+-0x2375*-0x1|(_0x3a8740&0x10de07f5f+0x1*-0x12bfd491f+0x92056bf*0x16)>>>0x1362+0x17b*-0x1+-0x4f*0x3a)>>>0x1696+-0x1458+-0x23e,_0x3a8740=((_0x3a8740&-0x3ca4c0ba+-0x1*0x6119b06e+0x25*0x5a5aa7f)<<0xccc+0x7b6*0x3+-0x79*0x4c|(_0x3a8740&0x115df029c+0x3*0x7233ad93+-0x13*0x15e0b273)>>>-0x2691+0xc33+0x10*0x1a6)>>>0x1c16+0x567*0x3+-0x187*0x1d,_0x3a8740=((_0x3a8740&0x1*-0xf480419+0x19*0x395bb7+-0x9ed7*-0x27df)<<-0x1941*0x1+-0x9e*-0x11+0xec7*0x1|(_0x3a8740&0x1ab04f4e4+-0x1932e737f+0xd91a6f8b)>>>0x2*-0xbd3+0x255e+-0xdb4)>>>0xddb*-0x1+0x90e+0x1*0x4cd,_0x3a8740=((_0x3a8740&-0x2423a3*0xb+0x6715a5+-0x6de3df*-0x5)<<-0x123b*-0x2+-0x244e+0x20*-0x1|(_0x3a8740&0x17513e506+0xbf38642b+-0x1354b4a31)>>>-0xe9b+-0x61*0x1f+0x1a62)>>>0x99d*-0x2+-0x1*0xde3+-0x211d*-0x1,_0x3a8740*(-0x22ff+0x83a+0x1ac5+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x9ca042){return gC[_0x9ca042]||'decodeGamm'+'a';}static['encodeFunc'](_0x19a53d){return yC[_0x19a53d]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x2ad27b,_0x1f86cf){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x1f86cf['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x2ad27b['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x49411d=>{switch(_0x49411d){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x1b9052,_0x3a6ca4,_0xbf1e69)=>{if(_0x1b9052<=-0x720+0x20c6+-0x19a6)_0x3a6ca4[_0xbf1e69+(-0x1ae3*-0x1+0x613+-0x20f6)]=0x117*-0x11+0xfb*0xd+0x5c8,_0x3a6ca4[_0xbf1e69+(-0x1ef2*0x1+-0x105f+-0xfc6*-0x3)]=-0x7dd+-0x1*-0x1af+0x1*0x62e,_0x3a6ca4[_0xbf1e69+(0x2*-0x1076+-0x1d3*0xb+0x34ff)]=0x2*-0xf64+-0x5ea+0x24b2,_0x3a6ca4[_0xbf1e69+(-0x870+-0x21c0+0x2a33)]=-0x1e68+-0x5*0x41f+0x3303;else{if(_0x1b9052>=-0x25df+-0x145b+0x3a3b)_0x3a6ca4[_0xbf1e69+(0x2151+-0xd7*-0x2c+-0x4645)]=-0xf64+0x2593+-0x1530,_0x3a6ca4[_0xbf1e69+(-0x3c7*0x1+0x100*-0xa+-0x15*-0xa8)]=-0x17f1+0x2659+-0x2*0x734,_0x3a6ca4[_0xbf1e69+(-0x1*0x1dc1+0xa7*-0x2f+0x1e36*0x2)]=0x1*0x12bd+0x215+0x14d2*-0x1,_0x3a6ca4[_0xbf1e69+(-0x1*0xa61+-0x1767+0xd3*0x29)]=0x161e+0xc42+0x370*-0xa;else{let _0x2053c5=(-0x26fc+0x20*0xdf+0xb1d)*_0x1b9052%(-0x82f+-0x1672+0x1ea2),_0x15fdba=(-0x133e*-0x1+-0x102*0x5+-0x1*0xd35)*_0x1b9052%(-0x38b+-0xd*0x25+0x56d),_0x178b4d=(0x12f0+-0xd*-0x19f1+-0x662c)*_0x1b9052%(0x14b9+-0x16af+0x1f7);const _0x54a304=(0xc9a741+0x18bd89e+-0x1587ce0)*_0x1b9052%(-0x3*0x4f3+0x3d8+0x2*0x581);_0x2053c5-=_0x15fdba/(0xaad+0xf1e+-0xc*0x211),_0x15fdba-=_0x178b4d/(0x9bf*-0x1+0x1951+0x11f*-0xd),_0x178b4d-=_0x54a304/(-0x1b0a+0x139*0x3+0x185e),_0x3a6ca4[_0xbf1e69+(0xd6*-0x1b+-0x7*-0x8e+-0x10*-0x12b)]=Math['min'](0x19de*-0x1+-0x1b9b*-0x1+0xa*-0x13,Math['floor'](_0x2053c5*(0x4*-0x4e8+-0x1f03+0x33a3))),_0x3a6ca4[_0xbf1e69+(0x1*0xd3+0x22bd*0x1+-0x238f)]=Math['min'](-0x29d*0xe+0x13f9+-0x4*-0x467,Math['floor'](_0x15fdba*(-0x47*0x17+0x1131+-0x9d0))),_0x3a6ca4[_0xbf1e69+(0x688+0x1e1e+0x23*-0x10c)]=Math['min'](0x15f+-0x1f53*0x1+0x1ef3,Math['floor'](_0x178b4d*(-0x9*-0x151+-0xb8*-0x3+0x1*-0xd01))),_0x3a6ca4[_0xbf1e69+(-0xf*0xd6+0x44*0x19+0x59*0x11)]=Math['min'](-0x2203+-0x11*-0x1d8+0x3aa,Math['floor'](_0x54a304*(0x1*0x14a7+0x2*0x18d+-0x19*0xe9)));}}},xC=_0x374c50=>{const _0x1394ee=_0x374c50['length'],_0x7d87be=Math['min'](_0x1394ee,0x5*0x251+-0x1f*-0x4f+-0x1326),_0x2e7b98=Math['ceil'](_0x1394ee/_0x7d87be),_0x50f36d=new Uint8Array(_0x7d87be*_0x2e7b98*(0xb7a+0x1b35+-0x26ab));let _0x14af5e=-0x4*0xde+0x19a5+0x162d*-0x1;for(let _0x9d81d5=0x1*-0x26f9+0x904*0x4+0x2e9;_0x9d81d5<_0x1394ee;_0x9d81d5+=-0x2cf*0x1+-0xa1f*0x3+-0xb1*-0x30)Il(_0x374c50[_0x9d81d5+(-0x747+0x1448+-0xd01)]*(-0x2*0x4cd+-0x2*0xd19+0x23cc+0.5)+(-0x23ae+0x2669*0x1+0x3*-0xe9+0.5),_0x50f36d,_0x14af5e+(-0x1bfa+0x1119*-0x1+0x2d13)),Il(_0x374c50[_0x9d81d5+(-0x1602+0x9*0x33d+0x722*-0x1)]*(0x72d+0x226b+0x79*-0x58+0.5)+(-0x1dda*-0x1+-0xa5+-0x1d35+0.5),_0x50f36d,_0x14af5e+(0x1*0x20d1+-0x8cb+-0x1802)),Il(_0x374c50[_0x9d81d5+(-0x16d*-0x2+-0x20f*0x6+0x982)]*(0x5a*0x2b+-0x17e0+-0x8c2*-0x1+0.5)+(0x1d*-0x153+-0x19aa+0x4011+0.5),_0x50f36d,_0x14af5e+(-0x639*0x1+-0x1c9*0x11+0x249a)),Il(_0x374c50[_0x9d81d5+(-0x19b3+0x371+0x1645)]/(0xa8+0x1529+-0x27*0x8f),_0x50f36d,_0x14af5e+(0x7*-0x1f6+-0x3c7*-0x3+0x271)),_0x14af5e+=0xfae+-0x26d8+-0x2*-0xb9d;return{'width':_0x7d87be,'height':_0x2e7b98,'data':_0x50f36d};},SC=(_0x3d5f17,_0x1d5e91,_0x5dba4d,_0x5b3d53)=>{const _0x2be1db=_0x5dba4d*(0x1682+0x129*0x21+-0x18f*0x27)*Math['PI'],_0x12b2e2=Math['pow'](-0x87b*-0x2+0xd49+-0x1e3e-_0x1d5e91,(-0x1b6+0x8e3+-0x72c)/(_0x5b3d53+(-0x1e1b+0x15a*-0xa+0x2ba0))),_0x56ab57=Math['sqrt'](-0x12e*-0x6+-0x19c6+0x1*0x12b3-_0x12b2e2*_0x12b2e2);_0x3d5f17['set'](Math['cos'](_0x2be1db)*_0x56ab57,Math['sin'](_0x2be1db)*_0x56ab57,_0x12b2e2)['normalize']();},vC=(_0x2cacab,_0x2c4025,_0x5b7ab9)=>{const _0x57c40a=_0x5b7ab9*(0x1b*0x10d+-0xc49+-0x1014)*Math['PI'],_0x4f2dbb=Math['sqrt'](0x1454*0x1+0x982*-0x1+0xd*-0xd5-_0x2c4025),_0x44d44d=Math['sqrt'](_0x2c4025);_0x2cacab['set'](Math['cos'](_0x57c40a)*_0x44d44d,Math['sin'](_0x57c40a)*_0x44d44d,_0x4f2dbb)['normalize']();},bC=(_0x3a3511,_0x12d147,_0x2b92ef,_0xd6dc2)=>{const _0x308172=_0x2b92ef*(-0x1646*-0x1+0x1*-0xbf6+-0xa4e)*Math['PI'],_0x47a546=Math['sqrt']((-0x48*0x52+-0x201c+0x19*0x235-_0x12d147)/(0x13*-0x10b+-0x1c39+-0x31*-0xfb+(_0xd6dc2*_0xd6dc2-(0x3*0x7d+-0x2*-0x739+-0xfe8*0x1))*_0x12d147)),_0x27fa30=Math['sqrt'](0x1*0x2f1+0xf61*0x2+-0x26*0xe3-_0x47a546*_0x47a546);_0x3a3511['set'](Math['cos'](_0x308172)*_0x27fa30,Math['sin'](_0x308172)*_0x27fa30,_0x47a546)['normalize']();},wC=(_0xf5a02,_0x4e4394)=>{const _0x495c10=_0xf5a02*_0x4e4394,_0x3eb2f2=_0x4e4394/(-0xdb*-0x2d+-0x1356+-0x1328-_0xf5a02*_0xf5a02+_0x495c10*_0x495c10);return _0x3eb2f2*_0x3eb2f2*((0x1*0x1e31+-0x6b0+-0x1780)/Math['PI']);},TC=(_0x4007ed,_0x27012e)=>{const _0x35b28b=new T(),_0x4df82e=[];for(let _0x59a9d9=-0x41*-0x15+-0x1286*0x1+0xd31;_0x59a9d9<_0x4007ed;++_0x59a9d9)SC(_0x35b28b,_0x59a9d9/_0x4007ed,ll['radicalInv'+'erse'](_0x59a9d9),_0x27012e),_0x4df82e['push'](_0x35b28b['x'],_0x35b28b['y'],_0x35b28b['z'],0xa5d*0x1+0x2635+-0x3092);return _0x4df82e;},AC=(_0x1b965f,_0xd50cf3)=>{const _0x3f1103=_0xd50cf3/_0x1b965f,_0xde6030=new T(),_0x5d3d95=[];for(let _0xf1fcd6=-0x1*0x17+0x1c22+-0x1c0b;_0xf1fcd6<_0x1b965f;++_0xf1fcd6){vC(_0xde6030,_0xf1fcd6/_0x1b965f,ll['radicalInv'+'erse'](_0xf1fcd6));const _0x278aae=_0xde6030['z']/Math['PI'],_0x250fda=(0x1*0x20fe+-0x1571+0x1*-0xb8d+0.5)*Math['log2'](_0x3f1103/_0x278aae);_0x5d3d95['push'](_0xde6030['x'],_0xde6030['y'],_0xde6030['z'],_0x250fda);}return _0x5d3d95;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x30882a,_0x22187e)=>{const _0x2b73d5=EC[_0x30882a];return _0x2b73d5&&_0x2b73d5[_0x22187e]||_0x30882a;},MC=(_0x4054b3,_0xdde218,_0x425c01)=>{const _0x39fd42=_0x425c01/_0x4054b3,_0x10188b=0x11*-0x1f7+-0xb88+0x2cf0-Math['log2'](_0xdde218)/(-0x10e9+-0x2195*-0x1+-0x10a1),_0x233024=_0x10188b*_0x10188b,_0x4ab97d=new T(),_0x4009c2=new T(),_0x17febf=new T(0x2*0x95e+-0x6dd*0x4+0x5d*0x18,-0x129e*-0x1+0x23ab+-0xd*0x42d,-0x1804+0x1e0a+-0x605),_0x399d8d=[],_0x360c99=CC(_0x4054b3,_0xdde218);for(let _0x98216=0x1*0x1712+0xc2d+-0x233f*0x1;_0x98216<_0x360c99;++_0x98216){bC(_0x4ab97d,_0x98216/_0x360c99,ll['radicalInv'+'erse'](_0x98216),_0x233024);const _0x5ab7c5=_0x4ab97d['z'];if(_0x4009c2['set'](_0x4ab97d['x'],_0x4ab97d['y'],_0x4ab97d['z'])['mulScalar']((-0x558+-0x49*-0xb+0x51*0x7)*_0x5ab7c5)['sub'](_0x17febf),_0x4009c2['z']>-0x2*-0x2f3+-0x350*0xa+0x1b3a){const _0x5a2433=wC(Math['min'](-0x1ac5+0x222e+0x8*-0xed,_0x5ab7c5),_0x233024)/(-0x26b7+0x1e4c+0x86f)+(0xa0a+0x19c7+-0x23d1+0.001),_0x4cac01=(0x2*-0x98d+-0x1caf+0xd*0x3ad+0.5)*Math['log2'](_0x39fd42/_0x5a2433);_0x399d8d['push'](_0x4009c2['x'],_0x4009c2['y'],_0x4009c2['z'],_0x4cac01);}}for(;_0x399d8d['length']<_0x4054b3*(0x2c5*0x7+-0x83*-0x25+0x1*-0x264e);)_0x399d8d['push'](0x450+0x1b6c+-0xa94*0x3,-0x9*0x51+-0x15ea+0x18c3,0x25*0x10b+0x219a+-0x1*0x4831,0x1*0x24cd+-0x15*-0x9c+-0x3199);return _0x399d8d;},PC=(_0x24e169,_0x507b40,_0x53af8a)=>{const _0x7708b1=xC(_0x53af8a);return new he(_0x24e169,{'name':_0x507b40,'width':_0x7708b1['width'],'height':_0x7708b1['height'],'mipmaps':!(-0x2d0+0x7*-0x274+0x77*0x2b),'minFilter':de,'magFilter':de,'levels':[_0x7708b1['data']]});};class C0{constructor(_0x1f6465=!(-0xa37*0x2+-0x1*-0xc6f+-0x1*-0x7ff)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x1f6465;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0xeca3f3,_0x1ade93)=>{_0xeca3f3['destroy']();});}['get'](_0x42e1c8,_0x446189){if(!this['map']['has'](_0x42e1c8)){const _0x541193=_0x446189();return this['map']['set'](_0x42e1c8,_0x541193),_0x541193;}return this['map']['get'](_0x42e1c8);}}const RC=new C0(!(0x160b+-0xb2d+-0x1*0xadd)),IC=new Ot(),Lp=(_0x3e1a5d,_0x15e69e,_0x186701)=>IC['get'](_0x3e1a5d,()=>new C0())['get'](_0x15e69e,()=>PC(_0x3e1a5d,_0x15e69e,RC['get'](_0x15e69e,_0x186701))),DC=(_0xf20188,_0x19cb92,_0x1a187b)=>{const _0xe0e2a='lambert-sa'+'mples-'+_0x19cb92+'-'+_0x1a187b;return Lp(_0xf20188,_0xe0e2a,()=>AC(_0x19cb92,_0x1a187b));},LC=(_0xe0c5cd,_0x6c5ada,_0x112bf7)=>{const _0x3d4315='phong-samp'+'les-'+_0x6c5ada+'-'+_0x112bf7;return Lp(_0xe0c5cd,_0x3d4315,()=>TC(_0x6c5ada,_0x112bf7));},FC=(_0x5ed082,_0x176e0a,_0x32d9e1,_0x7a8316)=>{const _0x4def7e='ggx-sample'+'s-'+_0x176e0a+'-'+_0x32d9e1+'-'+_0x7a8316;return Lp(_0x5ed082,_0x4def7e,()=>MC(_0x176e0a,_0x32d9e1,_0x7a8316));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x3aba09,_0x7cb9ae,_0x272e89={}){var _0x33e8f0,_0x2ea47c;v['assert'](_0x3aba09 instanceof he&&_0x7cb9ae instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x3041ed=_0x272e89['seamPixels']??-0x1af3+0x1602+0x4f1,_0x134bc2=(((_0x33e8f0=_0x272e89['rect'])==null?void(-0xb85+0x20b*0xb+-0xaf4):_0x33e8f0['z'])??_0x7cb9ae['width'])-_0x3041ed*(-0x2*-0x96f+0x146d+-0x2749),_0x4e66a6=(((_0x2ea47c=_0x272e89['rect'])==null?void(0x13b0+-0x9*0x1a3+0x2f*-0x1b):_0x2ea47c['w'])??_0x7cb9ae['height'])-_0x3041ed*(-0x2e5+0x1242+-0xf5b);if(_0x134bc2<-0x147*-0x5+0x152e+-0x1b90||_0x4e66a6<-0x1357*0x1+-0x1*-0x1276+0xe2)return!(-0x25*0xf1+0x10ad*-0x2+0x4430);const _0x4fdc7f={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x3154c6=_0x272e89['hasOwnProp'+'erty']('specularPo'+'wer')?_0x272e89['specularPo'+'wer']:-0x19*-0xc5+0x609*0x6+0x3772*-0x1,_0x54bb85=_0x272e89['hasOwnProp'+'erty']('face')?_0x272e89['face']:null,_0x1576d1=_0x272e89['hasOwnProp'+'erty']('distributi'+'on')?_0x272e89['distributi'+'on']:_0x3154c6===-0xf*-0x225+0x1543+-0x356d?'none':'phong',_0xb2863c=_0x4fdc7f[_0x1576d1]||'reproject',_0x1e03e2=_0xb2863c['startsWith']('prefilterS'+'amples'),_0x5e3e74=Es['decodeFunc'](_0x3aba09['encoding']),_0x395741=Es['encodeFunc'](_0x7cb9ae['encoding']),_0x1bd6de='sample'+l_(_0x3aba09['projection']),_0x45e042='getDirecti'+'on'+l_(_0x7cb9ae['projection']),_0x122d09=_0x272e89['hasOwnProp'+'erty']('numSamples')?_0x272e89['numSamples']:0x1cb7*0x1+-0x1646+0x5*-0x7d,_0x492252=_0xb2863c+'_'+_0x5e3e74+'_'+_0x395741+'_'+_0x1bd6de+'_'+_0x45e042+'_'+_0x122d09,_0x997a17=_0x3aba09['device'];let _0x4bfaeb=ka(_0x997a17)['getCachedS'+'hader'](_0x492252);if(!_0x4bfaeb){const _0x129a4c='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0xb2863c+'\x0a'+(_0x1e03e2?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x3aba09['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x5e3e74+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x395741+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x1bd6de+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x45e042+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x122d09+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x122d09))['toFixed'](-0x1049*-0x1+-0xf85+-0xc3)+'\x0a';_0x4bfaeb=Is(_0x997a17,OC,_0x129a4c+'\x0a'+X['reprojectP'+'S'],_0x492252);}G['pushGpuMar'+'ker'](_0x997a17,'ReprojectT'+'exture'),_0x997a17['setBlendSt'+'ate'](_t['NOBLEND']);const _0x524dff=_0x997a17['scope']['resolve'](_0x3aba09['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x524dff),_0x524dff['setValue'](_0x3aba09);const _0x13f9c5=_0x997a17['scope']['resolve']('params'),_0x26f910=_0x997a17['scope']['resolve']('uvMod');_0x3041ed>-0x19*0x12f+-0x119b+-0x1799*-0x2?_0x26f910['setValue']([(_0x134bc2+_0x3041ed*(-0xe+-0x2415+0x2425))/_0x134bc2,(_0x4e66a6+_0x3041ed*(0x1e85+0x133*-0x19+-0x88))/_0x4e66a6,-_0x3041ed/_0x134bc2,-_0x3041ed/_0x4e66a6]):_0x26f910['setValue']([0x18a7+0x204c+-0x38f2,0x2323+-0x1f0c+-0x2*0x20b,-0x19f*0x5+-0x3*-0x151+0x428,0x21ed+0xd95+0x6*-0x7eb]);const _0x1bf658=[0x7c*-0x30+-0x4*-0x2ae+0xc88,_0x7cb9ae['width']*_0x7cb9ae['height']*(_0x7cb9ae['cubemap']?-0x16e6+-0x1d6e*-0x1+-0x682:0x5f9+0x2*-0xe95+0xb99*0x2),_0x3aba09['width']*_0x3aba09['height']*(_0x3aba09['cubemap']?0x1f95+-0x25f8+0x1*0x669:0x1723*0x1+0x1a7+-0xeb*0x1b)];if(_0x1e03e2){const _0x468d96=_0x3aba09['width']*_0x3aba09['height']*(_0x3aba09['cubemap']?0x1b*0x168+-0x183d+-0xdb5:-0xf1*-0x1+-0x4*-0x5bf+0x17ec*-0x1),_0x3796a1=_0x1576d1==='ggx'?FC(_0x997a17,_0x122d09,_0x3154c6,_0x468d96):_0x1576d1==='lambert'?DC(_0x997a17,_0x122d09,_0x468d96):LC(_0x997a17,_0x122d09,_0x3154c6);_0x997a17['scope']['resolve']('samplesTex')['setValue'](_0x3796a1),_0x997a17['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x483+0x88+0x1fe*0x2)/_0x3796a1['width'],(0xed*0xb+-0x1178+-0x26e*-0x3)/_0x3796a1['height']]);}for(let _0x344180=0xc7*0x1d+0x1*0x2381+-0x3a0c*0x1;_0x344180<(_0x7cb9ae['cubemap']?0x5ff+0x17e3+-0x1ddc:0x1*-0x359+0x24ec+-0x2192);_0x344180++)if(_0x54bb85===null||_0x344180===_0x54bb85){const _0x5b3789=new pt({'colorBuffer':_0x7cb9ae,'face':_0x344180,'depth':!(-0xb41*-0x3+0x16a*-0x14+-0x2bd*0x2),'flipY':_0x997a17['isWebGPU']});_0x1bf658[-0xa11+0x8*-0x81+-0x9*-0x191]=_0x344180,_0x13f9c5['setValue'](_0x1bf658),dn(_0x997a17,_0x5b3789,_0x4bfaeb,_0x272e89==null?void(0xd38*-0x1+0x1418+-0x6e0):_0x272e89['rect']),_0x5b3789['destroy']();}return G['popGpuMark'+'er'](_0x997a17),!(-0x1047+0x14*-0x5d+-0x7d9*-0x3);}const wd=(_0x1309c4,_0x509c01=0x208c+-0x4*0x121+-0x1c08)=>0x1093+0xe44+-0x1*0x1ed6+Math['floor'](Math['log2'](Math['max'](_0x1309c4,_0x509c01))),kC=_0x5a89d7=>_0x5a89d7['textureHal'+'fFloatRend'+'erable'],BC=_0x2d8ebc=>_0x2d8ebc['textureFlo'+'atRenderab'+'le'],NC=_0x364af6=>kC(_0x364af6)?Je:BC(_0x364af6)?Ke:Se,zC=_0x20226c=>Se,UC=(_0x1c5cbc,_0x105fd1,_0xed716e,_0x404a1a)=>new he(_0x1c5cbc,{'name':'lighting-'+_0x105fd1,'cubemap':!(-0xd*0x230+-0x1*0x1466+-0x186b*-0x2),'width':_0x105fd1,'height':_0x105fd1,'format':_0xed716e,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(0x1*0x11d2+-0x2c5*-0x9+-0x2abe)});class M0{static['generateSk'+'yboxCubema'+'p'](_0xc746e4,_0x2cc80d){const _0x3e5a0f=_0xc746e4['device'];G['pushGpuMar'+'ker'](_0x3e5a0f,'genSkyboxC'+'ubemap');const _0x53d1ea=UC(_0x3e5a0f,_0x2cc80d||(_0xc746e4['cubemap']?_0xc746e4['width']:_0xc746e4['width']/(0xf8*-0x19+-0x1503+0x2d3f)),Se);return Qs(_0xc746e4,_0x53d1ea,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x3e5a0f),_0x53d1ea;}static['generateLi'+'ghtingSour'+'ce'](_0x8a38fc,_0x630fd6){const _0x3e9318=_0x8a38fc['device'];G['pushGpuMar'+'ker'](_0x3e9318,'genLightin'+'gSource');const _0x338888=NC(_0x3e9318),_0x5993ec=(_0x630fd6==null?void(-0xc*-0x324+-0x1*0x1105+-0x14ab):_0x630fd6['target'])||new he(_0x3e9318,{'name':'lighting-s'+'ource','cubemap':!(0x1358+-0xe37*-0x1+-0xb*0x30d),'width':(_0x630fd6==null?void(0x2*0x24b+-0x4*0x634+0xa1d*0x2):_0x630fd6['size'])||-0x1a8f+-0x1667+0x1e7*0x1a,'height':(_0x630fd6==null?void(-0x29*-0x9c+-0x26c9+0xdcd):_0x630fd6['size'])||-0x19a1+0x1a47+-0x26,'format':_0x338888,'type':_0x338888===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(0x9*0x2f2+-0x100d+-0xa75*0x1)});return Qs(_0x8a38fc,_0x5993ec,{'numSamples':_0x8a38fc['mipmaps']?-0x362+0xe73+-0xb10:0x2041*-0x1+-0x95*0x1+0x24d6}),G['popGpuMark'+'er'](_0x3e9318),_0x5993ec;}static['generateAt'+'las'](_0x4c0735,_0x4ed69f){const _0x802603=_0x4c0735['device'],_0x297fd9=zC();G['pushGpuMar'+'ker'](_0x802603,'genAtlas');const _0x4c1d14=(_0x4ed69f==null?void(0x1b55*0x1+-0x18f7+-0x6*0x65):_0x4ed69f['target'])||new he(_0x802603,{'name':'envAtlas','width':(_0x4ed69f==null?void(-0x864+-0x9b0+0x1214):_0x4ed69f['size'])||0x11f8+-0xad*0xd+-0x72f,'height':(_0x4ed69f==null?void(-0x2*0xaaf+-0x37*0x4f+0x2657):_0x4ed69f['size'])||0x16*0x171+-0x14d4+0x1*-0x8e2,'format':_0x297fd9,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0x3b*0x15+0x1*-0x131c+-0x5fd*-0x4)});G['pushGpuMar'+'ker'](_0x802603,'mipmaps');const _0x199436=_0x4c1d14['width']/(0x18d5+-0x281*0xd+0x9b8),_0x21e176=new Q(-0x24bb+-0x1091+0x354c,-0x8f9+-0x21e3+0x2adc,(-0x467*-0x5+-0xb2*0x31+0x3b*0x3d)*_0x199436,(-0x1*-0x419+-0x158d+0x1274)*_0x199436),_0x4bac9c=wd(-0x1*-0xd3b+0x1e01+0x27c*-0x11)-wd(-0x1a87+-0x1*-0x1df9+-0x36e);for(let _0x26156f=-0x33*0x67+0x1be1+-0x75c;_0x26156f<_0x4bac9c;++_0x26156f)Qs(_0x4c0735,_0x4c1d14,{'numSamples':0x1,'rect':_0x21e176,'seamPixels':_0x199436}),_0x21e176['x']+=_0x21e176['w'],_0x21e176['y']+=_0x21e176['w'],_0x21e176['z']=Math['max'](0x135f+0x3e6*0x7+-0x4*0xbaa,Math['floor'](_0x21e176['z']*(-0x1*-0xd01+0x1005+-0x2*0xe83+0.5))),_0x21e176['w']=Math['max'](0xa4e+0x107c+-0x1ac9*0x1,Math['floor'](_0x21e176['w']*(-0x1*0x165b+0x2ee+-0x136d*-0x1+0.5)));G['popGpuMark'+'er'](_0x802603),G['pushGpuMar'+'ker'](_0x802603,'reflection'+'s'),_0x21e176['set'](-0x109e+-0x1a5e+-0x72a*-0x6,(-0x19*0x147+-0x21e1+-0x85a*-0x8)*_0x199436,(-0xcd6+-0xe72+0x1c48)*_0x199436,(0x2c4+-0x1c5a+-0x173*-0x12)*_0x199436);for(let _0x33cde8=0x1*-0x880+0x8*-0x1e9+0x17c9;_0x33cde8<-0x916*0x2+-0xb3c+0x1d6f;++_0x33cde8)Qs(_0x4c0735,_0x4c1d14,{'numSamples':(_0x4ed69f==null?void(-0xaac+0x375+0x1*0x737):_0x4ed69f['numReflect'+'ionSamples'])||-0x1*0x23bd+0xc01+0x1bbc,'distribution':(_0x4ed69f==null?void(0x1f42+0xe*0x6c+-0x252a):_0x4ed69f['distributi'+'on'])||'ggx','specularPower':Math['max'](0x1751*0x1+-0xe82+-0x142*0x7,-0x517*-0x3+-0x1099+0x954>>_0x33cde8*(0xe75+0x1d*-0xb+-0xd34)),'rect':_0x21e176,'seamPixels':_0x199436}),_0x21e176['y']+=_0x21e176['w'],_0x21e176['z']=Math['max'](-0xaa6*-0x1+-0x1*0x17b5+0x13*0xb0,Math['floor'](_0x21e176['z']*(0x3*0x9eb+0x1*-0xc6d+-0x1154+0.5))),_0x21e176['w']=Math['max'](0x1530+-0x66b+-0x6c*0x23,Math['floor'](_0x21e176['w']*(0x1bb3+-0x80*-0xe+-0x22b3+0.5)));return G['popGpuMark'+'er'](_0x802603),G['pushGpuMar'+'ker'](_0x802603,'ambient'),_0x21e176['set']((0x3e4*0xa+-0x3e3+-0x2285)*_0x199436,(-0x3a4*0x4+-0x1*-0x1c2c+-0xc1c)*_0x199436,(-0x13db+-0x24c9+0x38e4)*_0x199436,(0x5e7+0xe45*0x2+-0x2251)*_0x199436),Qs(_0x4c0735,_0x4c1d14,{'numSamples':(_0x4ed69f==null?void(0x1d72+-0x2*-0x115b+-0x805*0x8):_0x4ed69f['numAmbient'+'Samples'])||-0x235e+-0x2205+0x4d63,'distribution':'lambert','rect':_0x21e176,'seamPixels':_0x199436}),G['popGpuMark'+'er'](_0x802603),G['popGpuMark'+'er'](_0x802603),_0x4c1d14;}static['generatePr'+'efilteredA'+'tlas'](_0x1d4adf,_0x58ca05){const _0x494f9f=_0x1d4adf[-0xf1*-0xf+-0x1b5+0xe*-0xe3]['device'],_0x2482bb=_0x1d4adf[0x121*-0x7+0x214e+0x1967*-0x1]['format'],_0x35da01=_0x1d4adf[-0x8f3+-0x3*0x445+0x15c2]['type'];G['pushGpuMar'+'ker'](_0x494f9f,'genPrefilt'+'eredAtlas');const _0x523efa=(_0x58ca05==null?void(-0x23d9+0x2483+-0xaa):_0x58ca05['target'])||new he(_0x494f9f,{'name':'envPrefilt'+'eredAtlas','width':(_0x58ca05==null?void(0x11b7+-0x1609*0x1+0x452):_0x58ca05['size'])||-0xa48+-0x143d+-0x22b*-0xf,'height':(_0x58ca05==null?void(0x1*-0xcb9+0x638*0x1+-0x6f*-0xf):_0x58ca05['size'])||0x1*-0x685+-0x127b+0x1b00,'format':_0x2482bb,'type':_0x35da01,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0xb75*0x3+0x1*-0x21c2+0x1a*-0x6)});G['pushGpuMar'+'ker'](_0x494f9f,'mipmaps');const _0x528df8=_0x523efa['width']/(-0x57*-0x1f+0x1771+-0x1ffa),_0x5f4274=new Q(-0x1575+-0x11a0+0x17*0x1b3,0x69c*-0x5+0x7d7+0x1935,(-0xecc*-0x1+-0x1616+-0x52*-0x1d)*_0x528df8,(0x8*-0x3be+-0x19cd*-0x1+0x523)*_0x528df8),_0x28e94b=wd(0x1aa8+0x1c0+-0x14*0x152);for(let _0x522692=-0x796+-0x11f5+0x198b;_0x522692<_0x28e94b;++_0x522692)Qs(_0x1d4adf[0x6cc+-0x677*0x4+-0x1e8*-0xa],_0x523efa,{'numSamples':0x1,'rect':_0x5f4274,'seamPixels':_0x528df8}),_0x5f4274['x']+=_0x5f4274['w'],_0x5f4274['y']+=_0x5f4274['w'],_0x5f4274['z']=Math['max'](-0x1cc*0x4+0xb37+-0x406,Math['floor'](_0x5f4274['z']*(0x27b*-0x7+-0xdb8*-0x2+-0xa13*0x1+0.5))),_0x5f4274['w']=Math['max'](-0x443*0x9+0x1012+0x164a,Math['floor'](_0x5f4274['w']*(-0x114c+-0x18a1+-0x29ed*-0x1+0.5)));G['popGpuMark'+'er'](_0x494f9f),G['pushGpuMar'+'ker'](_0x494f9f,'reflection'+'s'),_0x5f4274['set'](-0x1e26+-0x18e2+0x3708,(-0x1508+0x219+0x13ef)*_0x528df8,(-0x1*0x19ea+-0xd0a*-0x1+0xde0*0x1)*_0x528df8,(0x1*-0x1311+-0x10a4+0x2435)*_0x528df8);for(let _0x1ba58a=0x16de+-0x1*-0xe69+-0x2546*0x1;_0x1ba58a<_0x1d4adf['length'];++_0x1ba58a)Qs(_0x1d4adf[_0x1ba58a],_0x523efa,{'numSamples':0x1,'rect':_0x5f4274,'seamPixels':_0x528df8}),_0x5f4274['y']+=_0x5f4274['w'],_0x5f4274['z']=Math['max'](0x1dd1+0x9cf+-0x1e3*0x15,Math['floor'](_0x5f4274['z']*(-0x6a+-0x18d4+0x9*0x2ce+0.5))),_0x5f4274['w']=Math['max'](-0x918+0x1*0x1372+0x1*-0xa59,Math['floor'](_0x5f4274['w']*(-0xe5d+-0x18c+0xfe9+0.5)));return G['popGpuMark'+'er'](_0x494f9f),G['pushGpuMar'+'ker'](_0x494f9f,'ambient'),_0x5f4274['set']((-0x18aa+-0x2*0x487+0xb68*0x3)*_0x528df8,(0x1*-0x537+0x1db7*-0x1+0x2*0x1237)*_0x528df8,(-0x5*0x1a+-0x1*0xe59+-0x3*-0x509)*_0x528df8,(0x15b4+0x6*-0x4c7+0x716)*_0x528df8),_0x58ca05!=null&&_0x58ca05['legacyAmbi'+'ent']?Qs(_0x1d4adf[-0x455*0x9+0x19e3+0xd1f],_0x523efa,{'numSamples':0x1,'rect':_0x5f4274,'seamPixels':_0x528df8}):Qs(_0x1d4adf[-0x78*-0x3c+-0x57*-0xd+-0x208b],_0x523efa,{'numSamples':(_0x58ca05==null?void(-0x775+0x2c9+0x4ac):_0x58ca05['numSamples'])||0xf78+0x8f1+0x1*-0x1069,'distribution':'lambert','rect':_0x5f4274,'seamPixels':_0x528df8}),G['popGpuMark'+'er'](_0x494f9f),G['popGpuMark'+'er'](_0x494f9f),_0x523efa;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x1f4e64,_0x234115)=>{const _0x27b762=_0x1f4e64['split']('.')['map'](_0x12bb83=>parseInt(_0x12bb83,0x1528+0x12*-0x14b+-0x45*-0x8)),_0x5adaa6=_0x234115['split']('.')['map'](_0x298e22=>parseInt(_0x298e22,0x7*-0xd3+0x1c4e+-0x1*0x167f));return _0x27b762[0x11a7+0x9ad*-0x2+-0x1d*-0xf]<_0x5adaa6[-0x8fa*0x4+-0x1*-0x11ab+-0xa1*-0x1d]||_0x27b762[0x107f+-0x4*-0x468+-0x1*0x221f]===_0x5adaa6[-0x23fb+-0x1*-0x5bc+0x1e3f]&&_0x27b762[0x542*-0x7+0x6b*0x45+0x7f8]<_0x5adaa6[0x45d+-0x5*0x6e0+0x1e04*0x1];},WC=_0x24df79=>{const _0x3dad62=_0x24df79['APIVersion'];for(const _0x17479d in _0x24df79)if(_0x17479d!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x17479d)){const _0x1e4862=VC[_0x17479d];_0x1e4862&&(!_0x3dad62||HC(_0x3dad62,_0x1e4862))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x17479d+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x1e4862+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x3dad62||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x2063c0=GC[_0x17479d];_0x2063c0?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x17479d+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x2063c0+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x17479d+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x3e348c){_0x3e348c['forEach'](_0x513405=>{_0x513405['endsWith']('\x0a')?this['code']+=_0x513405:this['code']+=_0x513405+'\x0a';});}['prepend'](..._0x5db836){_0x5db836['forEach'](_0x4c1ed5=>{_0x4c1ed5['endsWith']('\x0a')?this['code']=_0x4c1ed5+this['code']:this['code']=_0x4c1ed5+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class $C{constructor(_0x2790ce,_0x20b497){if(this['device']=_0x2790ce,this['options']=_0x20b497,this['attributes']={'vertex_position':He},_0x20b497['userAttrib'+'utes']){for(const [_0x111be4,_0x66a66b]of Object['entries'](_0x20b497['userAttrib'+'utes']))this['attributes'][_0x66a66b]=_0x111be4;}if(_0x20b497['chunks']){const _0x28a86d=_0x20b497['chunks'];WC(_0x28a86d),this['chunks']=Object['create'](X);for(const _0xef09f9 in X)if(_0x28a86d['hasOwnProp'+'erty'](_0xef09f9)){const _0xd9f0f4=_0x28a86d[_0xef09f9];for(const _0x39ebae in Td)Td['hasOwnProp'+'erty'](_0x39ebae)&&_0xd9f0f4['indexOf'](_0x39ebae)>=0xd*-0x286+0x231b+-0x24d&&(this['attributes'][_0x39ebae]=Td[_0x39ebae]);this['chunks'][_0xef09f9]=_0xd9f0f4;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x20b497['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x20b497['lights']['length']>0x6*-0x8a+-0x1*0x7e+0x3ba||_0x20b497['dirLightMa'+'pEnabled']||_0x20b497['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x20b497['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x20b497['useSpecula'+'r']||_0x20b497['ambientSH']||_0x20b497['useHeights']||_0x20b497['enableGGXS'+'pecular']||_0x20b497['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x20b497['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x20b497['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x20b497['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x20b497['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x41ca36,_0x457d0f,_0x25affc){return _0x41ca36+=_0x457d0f['baseVS'],(_0x25affc['nineSliced'+'Mode']===nt||_0x25affc['nineSliced'+'Mode']===Qe)&&(_0x41ca36+=_0x457d0f['baseNineSl'+'icedVS']),_0x41ca36;}['_setMapTra'+'nsform'](_0x3800c3,_0x4c49f2,_0x4f3be0,_0x13be38){const _0x47e2d3=_0x4f3be0+_0x13be38*(-0x355*0xa+0x1470+0x1*0xd46);if(!_0x3800c3[0x9*0xc5+-0x837+0x14d][_0x47e2d3]){const _0x1e23f4='texture_'+_0x4c49f2+('MapTransfo'+'rm');_0x3800c3[0x1*-0x2631+-0x22f1+0x4922]+='uniform\x20ve'+'c3\x20'+_0x1e23f4+'0;\x0a',_0x3800c3[-0x1*-0x2302+0x78d+0x5*-0x883]+='uniform\x20ve'+'c3\x20'+_0x1e23f4+'1;\x0a',_0x3800c3[-0x6*0x2f9+0x1506+0x5*-0xa3]+='varying\x20ve'+'c2\x20vUV'+_0x13be38+'_'+_0x4f3be0+';\x0a',_0x3800c3[-0xc8f*-0x1+0x1636+0x22c3*-0x1]+='\x20\x20\x20vUV'+_0x13be38+'_'+_0x4f3be0+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x13be38+',\x201),\x20'+_0x1e23f4+('0),\x20dot(ve'+'c3(uv')+_0x13be38+',\x201),\x20'+_0x1e23f4+'1));\x0a',_0x3800c3[0x1c1e+0x35b+-0x2*0xfbb][_0x47e2d3]=!(-0x1049+-0x1980+0x29c9);}return _0x3800c3;}['_fsGetBase'+'Code'](){const _0x560a4d=this['options'],_0x251176=this['chunks'];let _0x12ed3b=this['chunks']['basePS'];return _0x560a4d['nineSliced'+'Mode']===nt?_0x12ed3b+=_0x251176['baseNineSl'+'icedPS']:_0x560a4d['nineSliced'+'Mode']===Qe&&(_0x12ed3b+=_0x251176['baseNineSl'+'icedTiledP'+'S']),_0x12ed3b;}['_fsGetStar'+'tCode'](_0x535f77,_0x31bc43,_0x402868,_0x5d39ed){let _0x468a0f=_0x402868['startPS'];return _0x5d39ed['nineSliced'+'Mode']===nt?_0x468a0f+=_0x402868['startNineS'+'licedPS']:_0x5d39ed['nineSliced'+'Mode']===Qe&&(_0x468a0f+=_0x402868['startNineS'+'licedTiled'+'PS']),_0x468a0f;}['_getLightS'+'ourceShape'+'String'](_0x11bff3){switch(_0x11bff3){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x1b8531,_0xcfb4f6,_0x5d3ef1){const _0x3a5b61=this['device'],_0xd2f2f5=this['options'],_0x30979a=this['chunks'];let _0x33e8e2='',_0x40248c='',_0x51d3e9='';_0x33e8e2=this['_vsAddBase'+'Code'](_0x33e8e2,_0x30979a,_0xd2f2f5),_0x40248c+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x51d3e9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x40248c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x33e8e2+=_0x30979a['transformV'+'S'],this['needsNorma'+'l']&&(_0x33e8e2+=_0x30979a['normalCore'+'VS'],_0x33e8e2+=_0x30979a['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x40248c+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0xd2f2f5['reflection'+'Source']==='sphereMap'&&_0x3a5b61['fragmentUn'+'iformsCoun'+'t']<=0x1*0x393+-0xb3c*-0x2+-0x19fb&&(_0x33e8e2+=_0x30979a['viewNormal'+'VS'],_0x40248c+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0xd2f2f5['hasTangent'+'s']&&(_0xd2f2f5['useHeights']||_0xd2f2f5['useNormals']||_0xd2f2f5['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x33e8e2+=_0x30979a['tangentBin'+'ormalVS'],_0x40248c+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x40248c+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0xd2f2f5['enableGGXS'+'pecular']&&(_0x40248c+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x2a6f93=0x4e5+-0x6*0x14f+-0x17*-0x21;for(let _0x5d6850=-0x1*0x1a7a+-0x7*-0x282+-0x4*-0x23b;_0x5d6850<_0x2a6f93;_0x5d6850++)_0x1b8531[_0x5d6850]&&(this['attributes']['vertex_tex'+'Coord'+_0x5d6850]='TEXCOORD'+_0x5d6850,_0x33e8e2+=_0x30979a['uv'+_0x5d6850+'VS'],_0x40248c+='\x20\x20\x20vec2\x20uv'+_0x5d6850+'\x20=\x20getUv'+_0x5d6850+'();\x0a'),_0xcfb4f6[_0x5d6850]&&(_0x40248c+='\x20\x20\x20vUv'+_0x5d6850+'\x20=\x20uv'+_0x5d6850+';\x0a');const _0x3e7ddf=[_0x33e8e2,this['varyings'],_0x40248c,[]];_0x5d3ef1['forEach'](_0x22e2bb=>{this['_setMapTra'+'nsform'](_0x3e7ddf,_0x22e2bb['name'],_0x22e2bb['id'],_0x22e2bb['uv']);}),_0x33e8e2=_0x3e7ddf[0x2455+0x1fdc+-0x4431],this['varyings']=_0x3e7ddf[0x1de8+0x1*-0x2499+0x6b2],_0x40248c=_0x3e7ddf[-0x26a4+0x1347+0x135f],_0xd2f2f5['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x40248c+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0xd2f2f5['useMsdf']&&_0xd2f2f5['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x40248c+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x33e8e2+=_0x30979a['msdfVS']),(_0xd2f2f5['useMorphPo'+'sition']||_0xd2f2f5['useMorphNo'+'rmal'])&&(_0x51d3e9+='#define\x20MO'+'RPHING\x0a',_0xd2f2f5['useMorphTe'+'xtureBased'+'Int']&&(_0x51d3e9+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0xd2f2f5['useMorphPo'+'sition']&&(_0x51d3e9+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0xd2f2f5['useMorphNo'+'rmal']&&(_0x51d3e9+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0xd2f2f5['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0xd2f2f5['batch']?_0x51d3e9+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x51d3e9+='#define\x20SK'+'IN\x0a')):_0xd2f2f5['useInstanc'+'ing']&&(_0x51d3e9+='#define\x20IN'+'STANCING\x0a'),_0xd2f2f5['screenSpac'+'e']&&(_0x51d3e9+='#define\x20SC'+'REENSPACE\x0a'),_0xd2f2f5['pixelSnap']&&(_0x51d3e9+='#define\x20PI'+'XELSNAP\x0a'),_0x33e8e2+='\x0a',_0x33e8e2+=_0x30979a['startVS'],_0x33e8e2+=_0x40248c,_0x33e8e2+=_0x30979a['endVS'],_0x33e8e2+='}',Object['keys'](h_)['forEach'](_0x52100c=>{_0x33e8e2['indexOf'](_0x52100c)>=0x9aa*0x1+0x2206+0x576*-0x8&&(this['varyings']+='varying\x20'+h_[_0x52100c]+'\x20'+_0x52100c+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x52100c['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x51d3e9+this['varyings']+_0x33e8e2;}['_fsGetBegi'+'nCode'](){let _0x3eacc3='';for(let _0x319b18=0xd*-0x2b1+-0xbbd+0x175d*0x2;_0x319b18<this['defines']['length'];_0x319b18++)_0x3eacc3+='#define\x20'+this['defines'][_0x319b18]+'\x0a';return _0x3eacc3;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x4db394=this['_fsGetBegi'+'nCode']();return _0x4db394+=this['varyings'],_0x4db394+=this['varyingDef'+'ines'],_0x4db394+=this['frontendDe'+'cl'],_0x4db394+=this['frontendCo'+'de'],_0x4db394+=It['begin'](),_0x4db394+=this['frontendFu'+'nc'],_0x4db394+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x4db394+=It['end'](),_0x4db394;}['_fsGetPreP'+'assCode'](){let _0x833bf3=this['_fsGetBegi'+'nCode']();return _0x833bf3+=this['varyings'],_0x833bf3+=this['varyingDef'+'ines'],_0x833bf3+=this['chunks']['floatAsUin'+'tPS'],_0x833bf3+=this['frontendDe'+'cl'],_0x833bf3+=this['frontendCo'+'de'],_0x833bf3+=It['begin'](),_0x833bf3+=this['frontendFu'+'nc'],_0x833bf3+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x833bf3+=It['end'](),_0x833bf3;}['_fsGetShad'+'owPassCode'](){const _0x1450a3=this['options'],_0x345c13=this['chunks'],_0x6f3fd0=this['varyings'],_0x4a4584=this['shaderPass'+'Info']['lightType'];let _0xe4e347=this['shaderPass'+'Info']['shadowType'];_0x4a4584!==oe&&_0x1450a3['clusteredL'+'ightingEna'+'bled']&&(_0xe4e347===Hr||_0xe4e347===Wr||_0xe4e347===Ts)&&(_0xe4e347=Dt);const _0x5542d9=ir['get'](_0xe4e347);v['assert'](_0x5542d9);const _0x271f4a=(_0x5542d9==null?void(0x1*-0x1779+-0xdb2+0x252b):_0x5542d9['vsm'])??!(-0xcc6+-0xf2*0x3+0x7*0x23b),_0x1db1fc=(_0x5542d9==null?void(-0x1*-0x248c+-0x2177+0x3*-0x107):_0x5542d9['pcss'])??!(0x90e*0x3+-0x1*0xcd4+-0xe55);let _0x1e42fd=this['_fsGetBegi'+'nCode']();_0xe4e347===Wr?_0x1e42fd+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0xe4e347===Hr&&(_0x1e42fd+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x4a4584!==oe&&(_0x1e42fd+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x1e42fd+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x1e42fd+=_0x6f3fd0,_0x1e42fd+=this['varyingDef'+'ines'],_0x1e42fd+=this['frontendDe'+'cl'],_0x1e42fd+=this['frontendCo'+'de'],_0xe4e347===Ts&&(_0x1e42fd+=X['linearizeD'+'epthPS']),_0x1e42fd+=It['begin'](),_0x1e42fd+=this['frontendFu'+'nc'];const _0x3cfcf7=_0x4a4584===oe||!_0x271f4a&&_0x4a4584===Re;let _0x3568d8=!(-0x144e+-0xc*-0x332+-0x9*0x201);return _0x3cfcf7?(_0x1e42fd+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x1db1fc&&_0x4a4584!==oe&&(_0x1e42fd+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x1e42fd+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x3568d8=!(-0xcf*-0xe+-0x2e*-0xb7+-0x2c34)),_0x271f4a?_0x1e42fd+=_0x345c13['storeEVSMP'+'S']:_0x1db1fc?_0x1e42fd+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x3568d8&&(_0x1e42fd+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x1e42fd+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x1e42fd+=It['end'](),_0x1e42fd;}['_fsGetLitP'+'assCode'](){var _0x3d99f6;const _0x4c8260=this['device'],_0x5ed74e=this['options'],_0x5d2bfc=this['chunks'],_0x410321=new sr(),_0x3c1ffe=new sr(),_0x39d3fc=new sr(),_0x24c55d=new sr();_0x5ed74e['opacityFad'+'esSpecular']===!(0x1452+-0x132f+-0x122)&&_0x410321['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x5ed74e['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x5ed74e['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x5ed74e['fresnelMod'+'el']>-0x570+0x1*0x1b7c+-0x160c&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x5ed74e['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x5ed74e['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x9abf21=[];let _0x5f4d7b=0x11fb+0x22d*-0x10+-0x1f*-0x8b,_0x39d15f=!(-0x1*0x4bd+0x1e2b*0x1+0x196d*-0x1),_0x8821f8=!(-0x17+0x119*-0xb+0xc2b),_0x3c2513=!(0x196a*0x1+-0x1854+-0x115*0x1),_0x3c3212=_0x5ed74e['lights']['some'](_0xaaa9f1=>_0xaaa9f1['_shape']&&_0xaaa9f1['_shape']!==yt);_0x5ed74e['clusteredL'+'ightingEna'+'bled']&&_0x5ed74e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x3c3212=!(0x91e+-0x2*-0x633+-0x51*0x44)),(_0x3c3212||_0x5ed74e['clusteredL'+'ightingEna'+'bled'])&&(_0x410321['append']('#define\x20AR'+'EA_LIGHTS'),_0x410321['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x410321['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x3e8561=0x1d42+-0x1*0xe39+-0xf09;_0x3e8561<_0x5ed74e['lights']['length'];_0x3e8561++){const _0x404de2=_0x5ed74e['lights'][_0x3e8561],_0x2c000d=_0x404de2['_type'];if(_0x5ed74e['clusteredL'+'ightingEna'+'bled']&&_0x2c000d!==oe)continue;const _0xffd4a8=_0x3c3212&&_0x404de2['_shape']?_0x404de2['_shape']:yt;_0x410321['append']('uniform\x20ve'+'c3\x20light'+_0x3e8561+'_color;'),_0x404de2['_shadowTyp'+'e']===Ts&&_0x404de2['castShadow'+'s']&&!_0x5ed74e['noShadow']&&(_0x410321['append']('uniform\x20fl'+'oat\x20light'+_0x3e8561+('_shadowSea'+'rchArea;')),_0x410321['append']('uniform\x20ve'+'c4\x20light'+_0x3e8561+('_cameraPar'+'ams;')),_0x2c000d===oe&&_0x410321['append']('uniform\x20ve'+'c4\x20light'+_0x3e8561+('_softShado'+'wParams;'))),_0x2c000d===oe?_0x410321['append']('uniform\x20ve'+'c3\x20light'+_0x3e8561+('_direction'+';')):(_0x410321['append']('uniform\x20ve'+'c3\x20light'+_0x3e8561+'_position;'),_0x410321['append']('uniform\x20fl'+'oat\x20light'+_0x3e8561+'_radius;'),_0x2c000d===Re&&(_0x410321['append']('uniform\x20ve'+'c3\x20light'+_0x3e8561+('_direction'+';')),_0x410321['append']('uniform\x20fl'+'oat\x20light'+_0x3e8561+('_innerCone'+'Angle;')),_0x410321['append']('uniform\x20fl'+'oat\x20light'+_0x3e8561+('_outerCone'+'Angle;')))),_0xffd4a8!==yt&&(_0x2c000d===oe&&_0x410321['append']('uniform\x20ve'+'c3\x20light'+_0x3e8561+'_position;'),_0x410321['append']('uniform\x20ve'+'c3\x20light'+_0x3e8561+('_halfWidth'+';')),_0x410321['append']('uniform\x20ve'+'c3\x20light'+_0x3e8561+('_halfHeigh'+'t;'))),_0x404de2['castShadow'+'s']&&!_0x5ed74e['noShadow']&&(_0x410321['append']('uniform\x20ma'+'t4\x20light'+_0x3e8561+('_shadowMat'+'rix;')),_0x410321['append']('uniform\x20fl'+'oat\x20light'+_0x3e8561+('_shadowInt'+'ensity;')),_0x2c000d===oe&&(_0x410321['append']('uniform\x20ma'+'t4\x20light'+_0x3e8561+('_shadowMat'+'rixPalette'+'[4];')),_0x410321['append']('uniform\x20ve'+'c4\x20light'+_0x3e8561+('_shadowCas'+'cadeDistan'+'ces;')),_0x410321['append']('uniform\x20in'+'t\x20light'+_0x3e8561+('_shadowCas'+'cadeCount;')),_0x410321['append']('uniform\x20fl'+'oat\x20light'+_0x3e8561+('_shadowCas'+'cadeBlend;'))),_0x410321['append']('uniform\x20ve'+'c4\x20light'+_0x3e8561+('_shadowPar'+'ams;')),_0x2c000d===oe&&(_0x39d15f=!(-0x34*-0x1b+0xfaa*0x1+-0xa93*0x2)),_0x2c000d===Pe?_0x410321['append']('uniform\x20'+(_0x404de2['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x3e8561+('_shadowMap'+';')):_0x410321['append']('uniform\x20'+(_0x404de2['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x3e8561+('_shadowMap'+';')),_0x5f4d7b++,_0x9abf21[_0x404de2['_shadowTyp'+'e']]=!(-0x259a+0x128*0x12+-0xe*-0x133),_0x404de2['_isVsm']&&(_0x8821f8=!(-0x261+-0x1cc8+0x1f29)),_0x404de2['_shadowTyp'+'e']===Ts&&(_0x3c2513=!(0x7d7*-0x1+-0x2201+0x29d8))),_0x404de2['_cookie']&&(_0x404de2['_cookie']['_cubemap']?_0x2c000d===Pe&&(_0x410321['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x3e8561+'_cookie;'),_0x410321['append']('uniform\x20fl'+'oat\x20light'+_0x3e8561+('_cookieInt'+'ensity;')),(!_0x404de2['castShadow'+'s']||_0x5ed74e['noShadow'])&&_0x410321['append']('uniform\x20ma'+'t4\x20light'+_0x3e8561+('_shadowMat'+'rix;'))):_0x2c000d===Re&&(_0x410321['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x3e8561+'_cookie;'),_0x410321['append']('uniform\x20fl'+'oat\x20light'+_0x3e8561+('_cookieInt'+'ensity;')),(!_0x404de2['castShadow'+'s']||_0x5ed74e['noShadow'])&&_0x410321['append']('uniform\x20ma'+'t4\x20light'+_0x3e8561+('_shadowMat'+'rix;')),_0x404de2['_cookieTra'+'nsform']&&(_0x410321['append']('uniform\x20ve'+'c4\x20light'+_0x3e8561+('_cookieMat'+'rix;')),_0x410321['append']('uniform\x20ve'+'c2\x20light'+_0x3e8561+('_cookieOff'+'set;')))));}const _0x13ffa4=this['needsNorma'+'l']&&(_0x5ed74e['useNormals']||_0x5ed74e['useClearCo'+'atNormals']||_0x5ed74e['enableGGXS'+'pecular']&&!_0x5ed74e['useHeights']);if(_0x13ffa4&&(_0x5ed74e['hasTangent'+'s']?_0x3c1ffe['append'](_0x5d2bfc['TBNPS']):_0x5ed74e['useNormals']||_0x5ed74e['useClearCo'+'atNormals']?_0x3c1ffe['append'](_0x5d2bfc['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x3c1ffe['append'](_0x5d2bfc['TBNObjectS'+'pacePS']),_0x5ed74e['twoSidedLi'+'ghting']&&_0x3c1ffe['append'](_0x5d2bfc['twoSidedLi'+'ghtingPS'])),_0x3c1ffe['append'](_0x5d2bfc['sphericalP'+'S']),_0x3c1ffe['append'](_0x5d2bfc['decodePS']),_0x3c1ffe['append'](_0x5d2bfc['gammaPS']),_0x3c1ffe['append'](_0x5d2bfc['tonemappin'+'gPS']),_0x3c1ffe['append'](_0x5d2bfc['fogPS']),_0x3c1ffe['append'](this['frontendCo'+'de']),_0x5ed74e['useCubeMap'+'Rotation']&&_0x410321['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x3c1ffe['append'](_0x5d2bfc['cubeMapRot'+'atePS']),_0x3c1ffe['append'](_0x5ed74e['cubeMapPro'+'jection']>0x828+-0x8b*0x33+0x1*0x1389?_0x5d2bfc['cubeMapPro'+'jectBoxPS']:_0x5d2bfc['cubeMapPro'+'jectNonePS']),_0x3c1ffe['append'](_0x5ed74e['skyboxInte'+'nsity']?_0x5d2bfc['envMultipl'+'yPS']:_0x5d2bfc['envConstPS'])),(this['lighting']&&_0x5ed74e['useSpecula'+'r']||this['reflection'+'s'])&&(_0x5ed74e['useMetalne'+'ss']&&_0x3c1ffe['append'](_0x5d2bfc['metalnessM'+'odulatePS']),_0x5ed74e['fresnelMod'+'el']===Sp&&_0x3c1ffe['append'](_0x5d2bfc['fresnelSch'+'lickPS']),_0x5ed74e['useIridesc'+'ence']&&_0x3c1ffe['append'](_0x5d2bfc['iridescenc'+'eDiffracti'+'onPS'])),_0x5ed74e['useAo'])switch(_0x3c1ffe['append'](_0x5d2bfc['aoDiffuseO'+'ccPS']),_0x5ed74e['occludeSpe'+'cular']){case Bo:_0x3c1ffe['append'](_0x5ed74e['occludeSpe'+'cularFloat']?_0x5d2bfc['aoSpecOccS'+'implePS']:_0x5d2bfc['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x3c1ffe['append'](_0x5ed74e['occludeSpe'+'cularFloat']?_0x5d2bfc['aoSpecOccP'+'S']:_0x5d2bfc['aoSpecOccC'+'onstPS']);break;}_0x5ed74e['reflection'+'Source']==='envAtlasHQ'?(_0x3c1ffe['append'](_0x5d2bfc['envAtlasPS']),_0x3c1ffe['append'](_0x5d2bfc['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x5ed74e['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5ed74e['reflection'+'Encoding'])))):_0x5ed74e['reflection'+'Source']==='envAtlas'?(_0x3c1ffe['append'](_0x5d2bfc['envAtlasPS']),_0x3c1ffe['append'](_0x5d2bfc['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5ed74e['reflection'+'Encoding'])))):_0x5ed74e['reflection'+'Source']==='cubeMap'?_0x3c1ffe['append'](_0x5d2bfc['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5ed74e['reflection'+'Encoding']))):_0x5ed74e['reflection'+'Source']==='sphereMap'&&_0x3c1ffe['append'](_0x5d2bfc['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5ed74e['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x5ed74e['useClearCo'+'at']&&_0x3c1ffe['append'](_0x5d2bfc['reflection'+'CCPS']),_0x5ed74e['useSheen']&&_0x3c1ffe['append'](_0x5d2bfc['reflection'+'SheenPS'])),_0x5ed74e['useRefract'+'ion']&&(_0x5ed74e['useDynamic'+'Refraction']?(_0x5ed74e['dispersion']&&(_0x410321['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x410321['append']('#define\x20DI'+'SPERSION\x0a')),_0x3c1ffe['append'](_0x5d2bfc['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x3c1ffe['append'](_0x5d2bfc['refraction'+'CubePS'])),_0x5ed74e['useSheen']&&_0x3c1ffe['append'](_0x5d2bfc['lightSheen'+'PS']),_0x5ed74e['clusteredL'+'ightingEna'+'bled']&&(_0x3c1ffe['append'](_0x5d2bfc['clusteredL'+'ightUtilsP'+'S']),_0x5ed74e['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x3c1ffe['append'](_0x5d2bfc['clusteredL'+'ightCookie'+'sPS']),_0x5ed74e['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5ed74e['noShadow']&&(_0x9abf21[Dt]=!(0x1858+-0x35*-0x72+-0x2*0x17f9),_0x9abf21[lh]=!(0xfce+-0x2*0x14f+0x1*-0xd30),_0x9abf21[Ts]=!(-0x2*0xd27+0x22cf+-0x137*0x7))),(_0x5f4d7b>0xa*0x9d+-0x1043+0xa21||_0x5ed74e['clusteredL'+'ightingEna'+'bled'])&&(_0x39d15f&&_0x3c1ffe['append'](_0x5d2bfc['shadowCasc'+'adesPS']),(_0x9abf21[Bh]||_0x9abf21[Dt]||_0x9abf21[Nh]||_0x9abf21[zh])&&_0x3c1ffe['append'](_0x5d2bfc['shadowStan'+'dardPS']),(_0x9abf21[lh]||_0x9abf21[Iu])&&_0x3c1ffe['append'](_0x5d2bfc['shadowStan'+'dardGL2PS']),_0x8821f8&&(_0x3c1ffe['append'](_0x5d2bfc['shadowVSM_'+'commonPS']),_0x9abf21[Hr]&&_0x3c1ffe['append'](_0x5d2bfc['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x9abf21[Wr]&&_0x3c1ffe['append'](_0x4c8260['extTexture'+'FloatLinea'+'r']?_0x5d2bfc['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x5d2bfc['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x3c2513&&(_0x3c1ffe['append'](_0x5d2bfc['linearizeD'+'epthPS']),_0x3c1ffe['append'](_0x5d2bfc['shadowPCSS'+'PS']),_0x3c1ffe['append'](_0x5d2bfc['shadowSoft'+'PS']))),_0x5ed74e['enableGGXS'+'pecular']&&_0x3c1ffe['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x3c1ffe['append'](_0x5d2bfc['lightDiffu'+'seLambertP'+'S']),(_0x3c3212||_0x5ed74e['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x3c1ffe['append'](_0x5d2bfc['ltcPS']));let _0x4e2da3=!(-0x2d7*-0x4+-0x3a+-0xb21);_0x5ed74e['useSpecula'+'r']&&(this['lighting']&&_0x3c1ffe['append'](_0x5ed74e['enableGGXS'+'pecular']?_0x5d2bfc['lightSpecu'+'larAnisoGG'+'XPS']:_0x5d2bfc['lightSpecu'+'larBlinnPS']),!_0x5ed74e['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x5ed74e['diffuseMap'+'Enabled']&&(_0x410321['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x410321['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x4e2da3=!(-0x1217*-0x2+0x16c*0x17+-0x44e2))),_0x3c1ffe['append'](_0x5d2bfc['combinePS']),_0x5ed74e['lightMapEn'+'abled']&&_0x3c1ffe['append'](_0x5ed74e['useSpecula'+'r']&&_0x5ed74e['dirLightMa'+'pEnabled']?_0x5d2bfc['lightmapDi'+'rAddPS']:_0x5d2bfc['lightmapAd'+'dPS']);const _0x5bc498=!_0x5ed74e['lightMapEn'+'abled']||_0x5ed74e['lightMapWi'+'thoutAmbie'+'nt'];_0x5bc498&&(_0x5ed74e['ambientSou'+'rce']==='ambientSH'?_0x3c1ffe['append'](_0x5d2bfc['ambientSHP'+'S']):_0x5ed74e['ambientSou'+'rce']==='envAtlas'?(_0x5ed74e['reflection'+'Source']!=='envAtlas'&&_0x5ed74e['reflection'+'Source']!=='envAtlasHQ'&&_0x3c1ffe['append'](_0x5d2bfc['envAtlasPS']),_0x3c1ffe['append'](_0x5d2bfc['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5ed74e['ambientEnc'+'oding'])))):_0x3c1ffe['append'](_0x5d2bfc['ambientCon'+'stantPS'])),_0x4e2da3||_0x410321['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x5ed74e['useMsdf']&&(_0x5ed74e['msdfTextAt'+'tribute']||_0x410321['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x3c1ffe['append'](_0x5d2bfc['msdfPS'])),this['needsNorma'+'l']&&(_0x3c1ffe['append'](_0x5d2bfc['viewDirPS']),_0x5ed74e['useSpecula'+'r']&&_0x3c1ffe['append'](_0x5ed74e['enableGGXS'+'pecular']?_0x5d2bfc['reflDirAni'+'soPS']:_0x5d2bfc['reflDirPS']));let _0x98edbe=!(0x1e8d+0x7ed+-0xcd3*0x3),_0x15a1d9=!(-0xeca+0xb*0x332+0x1*-0x145b),_0xdc6cee=!(0x1a*-0xe8+0x58*0x1b+0xe49),_0x467288=!(0x288*0x3+0x1d55*-0x1+0x15be),_0x1e00b7=!(-0x1ad8+-0x1e40+-0x137*-0x2f),_0x15aeba;if(_0x5ed74e['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x467288=!(0x1f*0x4d+-0x1623*0x1+0xcd0),_0x98edbe=!(-0x1f6c+0x2065+-0xf9),_0x15a1d9=!(-0x7*-0x13+0x77*-0x3f+0x1cc4),_0x1e00b7=!(-0x1*0x29b+-0xb6d+-0x1c1*-0x8),_0x3c1ffe['append'](_0x5d2bfc['floatUnpac'+'kingPS']),_0x5ed74e['lightMaskD'+'ynamic']&&_0x410321['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x5ed74e['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x410321['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x5ed74e['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5ed74e['noShadow']){const _0x7a89a7=(_0x3d99f6=ir['get'](_0x5ed74e['clusteredL'+'ightingSha'+'dowType']))==null?void(0x186e+0x1*-0x26fe+-0xe90*-0x1):_0x3d99f6['name'];v['assert'](_0x7a89a7);const _0x11842c=_0x7a89a7['substring'](0x15a8+0x1db2+-0x756*0x7,0x67*0x37+-0x9e*0x28+-0x1*-0x293);_0x410321['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x410321['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x11842c);}_0x5ed74e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x410321['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x410321['append'](E0['getShaderD'+'efines']()),_0x5ed74e['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5ed74e['noShadow']&&_0x3c1ffe['append'](_0x5d2bfc['clusteredL'+'ightShadow'+'sPS']),_0x3c1ffe['append'](_0x5d2bfc['clusteredL'+'ightPS']);}if(_0x24c55d['append'](this['_fsGetStar'+'tCode'](_0x24c55d,_0x4c8260,_0x5d2bfc,_0x5ed74e)),this['needsNorma'+'l']&&(_0x24c55d['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x5ed74e['useHeights']||_0x5ed74e['useNormals'])&&_0x5ed74e['hasTangent'+'s']&&(_0x24c55d['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x24c55d['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x24c55d['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x13ffa4&&(_0x24c55d['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x5ed74e['twoSidedLi'+'ghting']&&_0x24c55d['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x24c55d['append'](this['frontendFu'+'nc']),_0x5ed74e['ssao']&&(_0x3c1ffe['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x39d3fc['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x5ed74e['useSpecula'+'r']&&_0x39d3fc['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x5ed74e['useClearCo'+'at']&&_0x39d3fc['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x5ed74e['useSpecula'+'r']||this['reflection'+'s'])&&(_0x5ed74e['useMetalne'+'ss']&&(_0x39d3fc['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x39d3fc['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x39d3fc['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x5ed74e['useIridesc'+'ence']&&_0x39d3fc['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x5bc498&&(_0x39d3fc['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x5ed74e['useSpecula'+'r']&&_0x39d3fc['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x5ed74e['separateAm'+'bient']&&_0x39d3fc['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x4e2da3||_0x39d3fc['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x5ed74e['useAo']&&!_0x5ed74e['occludeDir'+'ect']&&_0x39d3fc['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x5ed74e['lightMapEn'+'abled']&&_0x39d3fc['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x5ed74e['useClearCo'+'at']&&(_0x39d3fc['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x5ed74e['fresnelMod'+'el']>0x1ad*-0x13+-0x22a7+0x427e?(_0x39d3fc['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x39d3fc['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x39d3fc['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x5ed74e['useSpecula'+'rityFactor']&&_0x39d3fc['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x5ed74e['useSheen']&&_0x39d3fc['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x39d3fc['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x5ed74e['fresnelMod'+'el']>0x146*0x1d+0x8b*-0x18+-0x17e6?_0x39d3fc['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x39d3fc['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x5ed74e['useSpecula'+'rityFactor']&&_0x39d3fc['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x3c3212&&(_0x39d3fc['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x5ed74e['useSpecula'+'r']&&_0x39d3fc['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x1099eb=-0x4*-0x15d+-0x20ea+0x1b76;_0x1099eb<_0x5ed74e['lights']['length'];_0x1099eb++){const _0x214de3=_0x5ed74e['lights'][_0x1099eb],_0x55d831=_0x214de3['_type'];if(_0x5ed74e['clusteredL'+'ightingEna'+'bled']&&_0x55d831!==oe)continue;_0x15aeba=!(0x706+0x107b+0x4*-0x5e0);const _0x2bd580=_0x3c3212&&_0x214de3['_shape']?_0x214de3['shape']:yt,_0x752671=_0x3c3212&&_0x214de3['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x2bd580):'';if(_0x2bd580!==yt&&_0x39d3fc['append']('\x20\x20\x20\x20calc'+_0x752671+('LightValue'+'s(light')+_0x1099eb+('_position,'+'\x20light')+_0x1099eb+('_halfWidth'+',\x20light')+_0x1099eb+('_halfHeigh'+'t);')),_0x55d831===oe?(_0x39d3fc['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x1099eb+('_direction'+';')),_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x214de3['_cookie']&&(_0x55d831===Re&&!_0x214de3['_cookie']['_cubemap']||_0x55d831===Pe&&_0x214de3['_cookie']['_cubemap'])&&(_0x1e00b7=!(-0x5*0x47b+0x1*0xa21+-0x623*-0x2),_0x15aeba=!(0x2b*-0x99+-0x241b+0x3dce)),_0x39d3fc['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x1099eb+('_position)'+';')),_0x98edbe=!(0x1*0x1433+-0x1*-0x2531+-0x3964),_0x15aeba&&(_0x55d831===Re?_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x214de3['_cookieFal'+'loff']?'':'Clip')+(_0x214de3['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x1099eb+('_cookie,\x20l'+'ight')+_0x1099eb+('_shadowMat'+'rix,\x20light')+_0x1099eb+('_cookieInt'+'ensity')+(_0x214de3['_cookieTra'+'nsform']?',\x20light'+_0x1099eb+('_cookieMat'+'rix,\x20light')+_0x1099eb+('_cookieOff'+'set'):'')+').'+_0x214de3['_cookieCha'+'nnel']+';'):_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x1099eb+('_cookie,\x20l'+'ight')+_0x1099eb+('_shadowMat'+'rix,\x20light')+_0x1099eb+('_cookieInt'+'ensity).')+_0x214de3['_cookieCha'+'nnel']+';')),_0x2bd580===yt?_0x214de3['_falloffMo'+'de']===wp?(_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x1099eb+('_radius,\x20d'+'LightDirW)'+';')),_0x15a1d9=!(0x21eb+0xb58+0x1*-0x2d43)):(_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x1099eb+('_radius,\x20d'+'LightDirW)'+';')),_0xdc6cee=!(0x1*-0x806+0x7*-0x3bc+-0x1*-0x222a)):(_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x1099eb+('_radius,\x20d'+'LightDirW)'+';')),_0xdc6cee=!(0x3*0x63d+-0x47*-0x53+-0x29bc)),_0x39d3fc['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x55d831===Re&&(_0x15aeba&&!_0x214de3['_cookieFal'+'loff']||(_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x1099eb+('_direction'+',\x20light')+_0x1099eb+('_innerCone'+'Angle,\x20lig'+'ht')+_0x1099eb+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x467288=!(0x1244+-0x1b1*0xb+0x57*0x1)))),_0x2bd580!==yt?_0x55d831===oe?_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x752671+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x214de3['castShadow'+'s']&&!_0x5ed74e['noShadow']){const _0x3855d5=ir['get'](_0x214de3['_shadowTyp'+'e']);v['assert'](_0x3855d5);const _0x3ac763=_0x214de3['_shadowTyp'+'e']===Ts,_0x1ba8d9=_0x3855d5==null?void(-0x19c9+-0x1*-0x1bb8+-0x1ef):_0x3855d5['vsm'],_0x29f2c2=_0x3855d5==null?void(-0xd43+-0x7d5+0x28*0x87):_0x3855d5['pcf'];let _0x50f919=null,_0x6c81c9;switch(_0x214de3['_shadowTyp'+'e']){case Hr:_0x50f919='VSM16',_0x6c81c9='5.54';break;case Wr:_0x50f919='VSM32',_0x6c81c9='15.0';break;case Bh:case Nh:_0x50f919='PCF1x1';break;case lh:case Iu:_0x50f919='PCF5x5';break;case Ts:_0x50f919='PCSS';break;case Dt:case zh:default:_0x50f919='PCF3x3';break;}if(_0x50f919!==null){_0x214de3['_normalOff'+'setBias']&&!_0x214de3['_isVsm']&&_0x3c1ffe['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x55d831===oe&&_0x3c1ffe['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x29f2c2||_0x3ac763||_0x4c8260['isWebGPU'])&&_0x3c1ffe['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x55d831===Pe&&_0x3c1ffe['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x3be91c=_0x5d2bfc['shadowSamp'+'leCoordPS'];_0x3c1ffe['append'](_0x3be91c['replace']('$LIGHT',_0x1099eb)),_0x3c1ffe['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x3c1ffe['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x3c1ffe['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x3c1ffe['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0xe31d16='light'+_0x1099eb+('_shadowMat'+'rix');_0x55d831===oe&&_0x214de3['numCascade'+'s']>0x367*-0x7+-0x19a*0x7+0x2308&&(_0x39d3fc['append']('int\x20cascad'+'eIndex'+_0x1099eb+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x1099eb+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x1099eb+('_shadowCas'+'cadeCount)'+';')),_0x214de3['cascadeBle'+'nd']>0x1*-0xde1+0x3*-0x785+-0x1238*-0x2&&_0x39d3fc['append']('cascadeInd'+'ex'+_0x1099eb+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x1099eb+',\x20light'+_0x1099eb+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x1099eb+('_shadowCas'+'cadeCount,'+'\x20light')+_0x1099eb+('_shadowCas'+'cadeBlend)'+';')),_0x39d3fc['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x1099eb+'\x20=\x20light'+_0x1099eb+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x1099eb+'];'),_0xe31d16='cascadeSha'+'dowMat'+_0x1099eb),_0x39d3fc['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x1099eb+'('+_0xe31d16+',\x20light'+_0x1099eb+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x55d831===oe&&_0x39d3fc['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x1099eb+('_shadowCas'+'cadeDistan'+'ces);'));let _0x2a6955='SHADOWMAP_'+'PASS(light'+_0x1099eb+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x1099eb+('_shadowPar'+'ams');if(_0x1ba8d9)_0x2a6955=_0x2a6955+',\x20'+_0x6c81c9+(',\x20dLightDi'+'rW');else{if(_0x3ac763){let _0x168720=_0x55d831===oe?'light'+_0x1099eb+('_softShado'+'wParams'):'vec2(light'+_0x1099eb+('_shadowSea'+'rchArea)');_0x2bd580!==yt&&(_0x168720='vec2(lengt'+'h(light'+_0x1099eb+('_halfWidth'+'),\x20length('+'light')+_0x1099eb+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x1099eb+('_shadowSea'+'rchArea')),_0x2a6955=_0x2a6955+',\x20light'+_0x1099eb+('_cameraPar'+'ams,\x20')+_0x168720+(',\x20dLightDi'+'rW');}}_0x55d831===Pe?(_0x50f919='Point'+_0x50f919,_0x3ac763||(_0x2a6955=_0x2a6955+(',\x20dLightDi'+'rW'))):_0x55d831===Re&&(_0x50f919='Spot'+_0x50f919),_0x39d3fc['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x1099eb+('\x20=\x20getShad'+'ow')+_0x50f919+'('+_0x2a6955+');'),_0x39d3fc['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x1099eb+',\x20light'+_0x1099eb+('_shadowInt'+'ensity);'));}}if(_0x2bd580!==yt?_0x5ed74e['useSpecula'+'r']?_0x39d3fc['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x39d3fc['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3':'')+';'):_0x3c3212&&_0x5ed74e['useSpecula'+'r']?_0x39d3fc['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x39d3fc['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3':'')+';'),_0x5ed74e['useSpecula'+'r']&&_0x39d3fc['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x214de3['affectSpec'+'ularity']){if(_0x2bd580!==yt)_0x5ed74e['useClearCo'+'at']&&_0x39d3fc['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x752671+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3':'')+';'),_0x5ed74e['useSpecula'+'r']&&_0x39d3fc['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x752671+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3':'')+';');else{let _0x43bb69=!(-0x11b9*-0x1+-0x3b*-0x8e+-0x1939*0x2);_0x55d831===oe&&_0x5ed74e['fresnelMod'+'el']>-0x2*-0xa21+0x24cf*0x1+0x3911*-0x1&&(_0x43bb69=!(0xce6+0x3d*0x36+-0x19c4)),_0x5ed74e['useClearCo'+'at']&&_0x39d3fc['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3':'')+(_0x43bb69?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x5ed74e['useSheen']&&_0x39d3fc['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3'+';':';')),_0x5ed74e['useSpecula'+'r']&&_0x39d3fc['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x1099eb+'_color'+(_0x15aeba?'\x20*\x20dAtten3':'')+(_0x43bb69?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x55d831!==oe&&_0x39d3fc['append']('\x20\x20\x20\x20}');}_0x5ed74e['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x15a1d9=!(-0x333*0x3+-0x64*-0x1c+-0x157),_0xdc6cee=!(0xa*0x122+-0x1a*-0x75+-0x1736*0x1),_0x98edbe=!(0x31+-0x2028+0x1ff7),_0x39d3fc['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x3c3212&&(_0x5ed74e['useClearCo'+'at']&&_0x39d3fc['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x5ed74e['useSpecula'+'r']&&_0x39d3fc['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x5ed74e['useRefract'+'ion']&&_0x39d3fc['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x5ed74e['useAo']&&(_0x5ed74e['occludeDir'+'ect']&&_0x39d3fc['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x5ed74e['occludeSpe'+'cular']===Bo||_0x5ed74e['occludeSpe'+'cular']===Lu)&&_0x39d3fc['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x5ed74e['useSpecula'+'rityFactor']&&_0x39d3fc['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x5ed74e['opacityFad'+'esSpecular']===!(0x212+-0x14e1+0x12d0)&&((_0x5ed74e['blendType']===Kt||_0x5ed74e['blendType']===hr)&&(_0x39d3fc['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x39d3fc['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x39d3fc['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x39d3fc['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x39d3fc['append'](_0x5d2bfc['endPS']),_0x5ed74e['blendType']===Kt||_0x5ed74e['blendType']===Hc||_0x5ed74e['alphaToCov'+'erage']?_0x39d3fc['append'](_0x5d2bfc['outputAlph'+'aPS']):_0x5ed74e['blendType']===hr?_0x39d3fc['append'](_0x5d2bfc['outputAlph'+'aPremulPS']):_0x39d3fc['append'](_0x5d2bfc['outputAlph'+'aOpaquePS']),_0x5ed74e['useMsdf']&&_0x39d3fc['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x39d3fc['append'](_0x5d2bfc['outputPS']),_0x39d3fc['append'](_0x5d2bfc['debugOutpu'+'tPS']),_0x98edbe&&_0x3c1ffe['prepend'](_0x5d2bfc['lightDirPo'+'intPS']),_0x15a1d9&&_0x3c1ffe['prepend'](_0x5d2bfc['falloffLin'+'earPS']),_0xdc6cee&&_0x3c1ffe['prepend'](_0x5d2bfc['falloffInv'+'SquaredPS']),_0x467288&&_0x3c1ffe['prepend'](_0x5d2bfc['spotPS']),_0x1e00b7&&!_0x5ed74e['clusteredL'+'ightingEna'+'bled']&&_0x3c1ffe['prepend'](_0x5d2bfc['cookiePS']);let _0xcdbf5c='';const _0x2f5ae8='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x39d3fc['code']+'\x0a}';_0x3c1ffe['append'](_0x2f5ae8),_0x24c55d['append'](_0x5d2bfc['debugProce'+'ssFrontend'+'PS']),_0x24c55d['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x24c55d['append'](It['end']());const _0x41c42a=_0x410321['code']+_0x3c1ffe['code']+_0x24c55d['code'];return _0x41c42a['includes']('dTBN')&&(_0xcdbf5c+='mat3\x20dTBN;'+'\x0a'),_0x41c42a['includes']('dVertexNor'+'malW')&&(_0xcdbf5c+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x41c42a['includes']('dTangentW')&&(_0xcdbf5c+='vec3\x20dTang'+'entW;\x0a'),_0x41c42a['includes']('dBinormalW')&&(_0xcdbf5c+='vec3\x20dBino'+'rmalW;\x0a'),_0x41c42a['includes']('dViewDirW')&&(_0xcdbf5c+='vec3\x20dView'+'DirW;\x0a'),_0x41c42a['includes']('dReflDirW')&&(_0xcdbf5c+='vec3\x20dRefl'+'DirW;\x0a'),_0x41c42a['includes']('dHalfDirW')&&(_0xcdbf5c+='vec3\x20dHalf'+'DirW;\x0a'),_0x41c42a['includes']('ccReflDirW')&&(_0xcdbf5c+='vec3\x20ccRef'+'lDirW;\x0a'),_0x41c42a['includes']('dLightDirN'+'ormW')&&(_0xcdbf5c+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x41c42a['includes']('dLightDirW')&&(_0xcdbf5c+='vec3\x20dLigh'+'tDirW;\x0a'),_0x41c42a['includes']('dLightPosW')&&(_0xcdbf5c+='vec3\x20dLigh'+'tPosW;\x0a'),_0x41c42a['includes']('dShadowCoo'+'rd')&&(_0xcdbf5c+='vec3\x20dShad'+'owCoord;\x0a'),_0x41c42a['includes']('dReflectio'+'n')&&(_0xcdbf5c+='vec4\x20dRefl'+'ection;\x0a'),_0x41c42a['includes']('dDiffuseLi'+'ght')&&(_0xcdbf5c+='vec3\x20dDiff'+'useLight;\x0a'),_0x41c42a['includes']('dSpecularL'+'ight')&&(_0xcdbf5c+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x41c42a['includes']('dAtten')&&(_0xcdbf5c+='float\x20dAtt'+'en;\x0a'),_0x41c42a['includes']('dAttenD')&&(_0xcdbf5c+='float\x20dAtt'+'enD;\x0a'),_0x41c42a['includes']('dAtten3')&&(_0xcdbf5c+='vec3\x20dAtte'+'n3;\x0a'),_0x41c42a['includes']('dMsdf')&&(_0xcdbf5c+='vec4\x20dMsdf'+';\x0a'),_0x41c42a['includes']('ccFresnel')&&(_0xcdbf5c+='float\x20ccFr'+'esnel;\x0a'),_0x41c42a['includes']('ccReflecti'+'on')&&(_0xcdbf5c+='vec3\x20ccRef'+'lection;\x0a'),_0x41c42a['includes']('ccSpecular'+'Light')&&(_0xcdbf5c+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x41c42a['includes']('ccSpecular'+'ityNoFres')&&(_0xcdbf5c+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x41c42a['includes']('sSpecularL'+'ight')&&(_0xcdbf5c+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x41c42a['includes']('sReflectio'+'n')&&(_0xcdbf5c+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0xcdbf5c+this['frontendDe'+'cl']+_0x41c42a;}['generateFr'+'agmentShad'+'er'](_0x113830,_0x54324f,_0x9f31e,_0x2a6ce0){const _0x134b9c=this['options'];this['frontendDe'+'cl']=_0x113830,this['frontendCo'+'de']=_0x54324f,this['frontendFu'+'nc']=_0x9f31e,this['lightingUv']=_0x2a6ce0,_0x134b9c['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x134b9c['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x134b9c['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x134b9c['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x134b9c['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(-0x2*0xe37+0x2*0x6eb+-0x25*-0x65)),c(this,'chunks',{}),c(this,'pass',-0x20d7+0x43*0x59+0x98c),c(this,'alphaTest',!(0x199*-0x17+0x57e+0x1f42)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(0xbd0+-0x20c5*0x1+0x14f6)),c(this,'screenSpac'+'e',!(-0x63c+0x2f*-0x13+0x53*0x1e)),c(this,'skin',!(0x647*-0x3+0x26e1+-0x140b)),c(this,'batch',!(0x20d2+0x1f22*-0x1+-0x1af)),c(this,'useInstanc'+'ing',!(0x541*0x6+0x90c*-0x2+-0x1*0xd6d)),c(this,'useMorphPo'+'sition',!(-0x1*0x3c4+0x1e64+-0x91*0x2f)),c(this,'useMorphNo'+'rmal',!(-0xc45+0x1*-0x713+0x1*0x1359)),c(this,'useMorphTe'+'xtureBased'+'Int',!(0x1ef2+0x25a6+-0x4497)),c(this,'nineSliced'+'Mode',0x15bc+0x249+-0x1805),c(this,'clusteredL'+'ightingEna'+'bled',!(-0xcdc+0x1*-0x7ef+-0x1*-0x14cb)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x639*0x2+-0x2*0xe7a+0x2967)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x14e+0x43d+-0x1*0x58a)),c(this,'clusteredL'+'ightingSha'+'dowType',-0x76*0x1+-0x2314+0x238a),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x2*0x1b1+0x19c9+0x1666*-0x1)),c(this,'vertexColo'+'rs',!(-0x1e6*-0x1+-0x1278+0x1*0x1093)),c(this,'lightMapEn'+'abled',!(0x2*-0x1091+0xd00+-0x5*-0x407)),c(this,'dirLightMa'+'pEnabled',!(0x18a0+0x2199*0x1+-0x3a38)),c(this,'useHeights',!(0x6cb*-0x1+-0x8aa*-0x1+0x1*-0x1de)),c(this,'useNormals',!(0x1f1+-0x1*-0xb51+-0x46b*0x3)),c(this,'useClearCo'+'atNormals',!(-0x25c*-0x1+-0x2a*0x43+0x8a3)),c(this,'useAo',!(-0x1ea1+-0x2bd*0x2+0x241c)),c(this,'diffuseMap'+'Enabled',!(0xe*-0x1e5+-0x472+-0x371*-0x9)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(0x10f0+-0x13c6+0x2d7)),c(this,'ambientSH',!(0x1121*-0x2+0x1161+-0x2*-0x871)),c(this,'ssao',!(-0x1d7*-0xf+0xb66+-0x26fe)),c(this,'twoSidedLi'+'ghting',!(0x617+0x83*0x23+-0x17ff)),c(this,'occludeDir'+'ect',!(-0x29*0x80+-0x1fc0+-0x3441*-0x1)),c(this,'occludeSpe'+'cular',-0x1800+0x623+-0x10d*-0x11),c(this,'occludeSpe'+'cularFloat',!(0x1d1b+-0x1*0x254b+0x831)),c(this,'useMsdf',!(0x6f0+0x20*-0x8e+0xad1)),c(this,'msdfTextAt'+'tribute',!(-0x2d7+-0x1100+0x13d8)),c(this,'alphaToCov'+'erage',!(0x160e+-0xb*0x205+-0x2*-0x15)),c(this,'opacityFad'+'esSpecular',!(0x1912+0x3*0x12f+-0x1c9e)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',0x4ca+-0x2c2+-0x208),c(this,'useSpecula'+'r',!(-0x1b3c+-0x1c55*0x1+0x3792)),c(this,'useSpecula'+'rityFactor',!(-0xddb+-0xcbe*0x1+0xf*0x1c6)),c(this,'enableGGXS'+'pecular',!(-0x220a+-0x1129+0x3334)),c(this,'fresnelMod'+'el',0x15*0x63+-0x406+-0x1*0x419),c(this,'useRefract'+'ion',!(0x3f0+0x1*-0x1085+0xc96)),c(this,'useClearCo'+'at',!(0x52*-0x8+0x961+-0x6d0)),c(this,'useSheen',!(-0x23fe+0x246d*-0x1+0x486c)),c(this,'useIridesc'+'ence',!(-0x14*-0x85+0x4c5+-0xf28)),c(this,'useMetalne'+'ss',!(0x11c6+-0x628*-0x4+-0x2a65)),c(this,'useDynamic'+'Refraction',!(0x260a+-0x6d*0x9+-0x2234)),c(this,'dispersion',!(0x1f30+-0x1fad+0x7e)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(0xb*-0x199+-0x1*0xc2a+0x1dbe)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0x1940+0x3*0x332+0xfab),c(this,'useCubeMap'+'Rotation',!(0xf53*-0x1+-0x1844+-0x7*-0x5a8)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x9a3*-0x1+0x9*0x1b6+0x18*-0x10b)),c(this,'lights',[]),c(this,'noShadow',!(-0x423*-0x1+0x21e3+-0x2605*0x1)),c(this,'lightMaskD'+'ynamic',-0xecd+-0xe39+0x1d06),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0x479+0x137*-0xd+0x1445));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(-0x358+-0xd0+0x429)),c(this,'specularTi'+'nt',!(-0x93b+-0x1a70+0x23ac)),c(this,'metalnessT'+'int',!(-0x93*-0x33+-0x139*-0xa+-0x2982)),c(this,'glossTint',!(0x268d*-0x1+0x1273*-0x2+0x4b74)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x1800+-0x1*-0x429+0x13d8)),c(this,'glossInver'+'t',!(-0x1f6a+-0x3*0xbfb+-0x77c*-0x9)),c(this,'sheenGloss'+'Invert',!(-0x1*-0xf25+-0x192c+-0x358*-0x3)),c(this,'clearCoatG'+'lossInvert',!(-0x6b*0x4a+-0x1*-0x173a+0x1*0x7b5)),c(this,'useAO',!(0x39*-0x97+0x162+0x203e)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x49ba76){return'lit'+Object['keys'](_0x49ba76)['sort']()['map'](_0x585b53=>_0x585b53==='chunks'?Uu['generateCh'+'unksKey'](_0x49ba76):_0x585b53==='lights'?Uu['generateLi'+'ghtsKey'](_0x49ba76):_0x585b53+_0x49ba76[_0x585b53])['join']('\x0a');},'generateLightsKey'(_0x2d6613){return'lights:'+_0x2d6613['lights']['map'](_0x4db2a4=>!_0x2d6613['clusteredL'+'ightingEna'+'bled']||_0x4db2a4['_type']===oe?_0x4db2a4['key']+',':'')['join']('');},'generateChunksKey'(_0x1e0423){return'chunks:\x0a'+Object['keys'](_0x1e0423['chunks']??{})['sort']()['map'](_0x5d95bc=>_0x5d95bc+_0x1e0423['chunks'][_0x5d95bc])['join']('');}},fa=[],Ad=_0x4f6295=>Object['keys'](_0x4f6295)['filter'](_0xf84265=>_0xf84265!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x5b1b23){let _0x51c59a;return _0x5b1b23===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x5b1b23)),_0x51c59a=this['propsMin']):_0x5b1b23===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x5b1b23)),_0x51c59a=this['props']):_0x51c59a=Ad(_0x5b1b23),'standard:\x0a'+It['definesHas'+'h'](_0x5b1b23['defines'])+'\x0a'+_0x51c59a['map'](_0x349d72=>_0x349d72+_0x5b1b23[_0x349d72])['join']('\x0a')+Uu['generateKe'+'y'](_0x5b1b23['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x2cc959,_0x540d4b,_0x342a55){const _0x5c2e9f=_0x342a55[_0x2cc959],_0x39c7d8=_0x342a55[_0x540d4b],_0x4a06f9=_0x342a55['litOptions']['pass']===gn;let _0x4e3b56;return _0x4a06f9&&_0x342a55['litOptions']['nineSliced'+'Mode']===nt||_0x4a06f9&&_0x342a55['litOptions']['nineSliced'+'Mode']===Qe?_0x4e3b56='nineSliced'+'Uv':(_0x5c2e9f===0x73*0x49+-0x1*0xca7+-0x1424?_0x4e3b56='vUv'+_0x39c7d8:_0x4e3b56='vUV'+_0x39c7d8+'_'+_0x5c2e9f,_0x342a55['heightMap']&&_0x2cc959!=='heightMapT'+'ransform'&&(_0x4e3b56+='\x20+\x20dUvOffs'+'et')),_0x4e3b56;}['_addMapDef'](_0x311f88,_0x76d347){return _0x76d347?'#define\x20'+_0x311f88+'\x0a':'#undef\x20'+_0x311f88+'\x0a';}['_addMapDef'+'s'](_0x4c2c4e,_0x1f4c5e,_0x4f6367,_0x33f81f,_0x20c04b){return this['_addMapDef']('MAPFLOAT',_0x4c2c4e)+this['_addMapDef']('MAPCOLOR',_0x1f4c5e)+this['_addMapDef']('MAPVERTEX',_0x4f6367)+this['_addMapDef']('MAPTEXTURE',_0x33f81f)+this['_addMapDef']('MAPINVERT',_0x20c04b);}['_addMap'](_0x40145a,_0x32a89d,_0x2446a7,_0x367787,_0x40a3c0,_0x5aebd4=null){const _0x364e10=_0x40145a+'Map',_0x5cf9f4=_0x364e10+'Uv',_0x16922c=_0x364e10+'Identifier',_0x52dd1c=_0x364e10+'Transform',_0x440ec7=_0x364e10+'Channel',_0x4c2a7f=_0x40145a+('VertexColo'+'rChannel'),_0x5670b7=_0x40145a+'Tint',_0x5ecc50=_0x40145a+('VertexColo'+'r'),_0x7bc819=_0x40145a+'Mode',_0x210795=_0x40145a+'Invert',_0x5a1514=_0x2446a7[_0x5670b7],_0x487900=_0x2446a7[_0x5ecc50],_0x5e06e1=_0x2446a7[_0x364e10],_0x2bb289=_0x2446a7[_0x16922c],_0x175f23=_0x2446a7[_0x7bc819];let _0x3dec5b=_0x367787[_0x32a89d];if(_0x5e06e1){const _0x51cea6=this['_getUvSour'+'ceExpressi'+'on'](_0x52dd1c,_0x5cf9f4,_0x2446a7);if(_0x3dec5b=_0x3dec5b['replace'](/\$UV/g,_0x51cea6)['replace'](/\$CH/g,_0x2446a7[_0x440ec7]),_0x40a3c0&&_0x3dec5b['search'](/\$SAMPLER/g)!==-(-0x1306+-0x1*-0xad9+0x6*0x15d)){let _0x340f83='texture_'+_0x364e10;const _0x19195e=_0x40a3c0[_0x2bb289];_0x19195e?_0x340f83=_0x19195e:_0x40a3c0[_0x2bb289]=_0x340f83,_0x3dec5b=_0x3dec5b['replace'](/\$SAMPLER/g,_0x340f83);}if(_0x5aebd4&&(_0x2446a7[_0x440ec7]==='aaa'?_0x3dec5b=_0x3dec5b['replace'](/\$DECODE/g,'passThroug'+'h'):_0x3dec5b=_0x3dec5b['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5aebd4)),_0x3dec5b['indexOf']('$texture2D'+'SAMPLE'))){const _0x29d9b1={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x3dec5b=_0x3dec5b['replace'](/\$texture2DSAMPLE/g,_0x29d9b1[_0x5aebd4]||'texture2D');}}_0x487900&&(_0x3dec5b=_0x3dec5b['replace'](/\$VC/g,_0x2446a7[_0x4c2a7f])),_0x175f23&&(_0x3dec5b=_0x3dec5b['replace'](/\$DETAILMODE/g,_0x175f23));const _0x133108=!!(_0x5a1514&-0x44*0x85+-0x1ef6+0x424b),_0x56ccf8=!!(_0x5a1514&0xe03+0x10f*-0x21+-0x14ee*-0x1),_0x38b2ab=!!_0x2446a7[_0x210795];return _0x3dec5b=this['_addMapDef'+'s'](_0x133108,_0x56ccf8,_0x487900,_0x5e06e1,_0x38b2ab)+_0x3dec5b,_0x3dec5b['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x30d95c,_0x2a6d0b,_0x140c57){if(_0x140c57[_0x30d95c]>0xc7*0x1f+-0x400+-0x1419){if(_0x140c57[_0x30d95c]<_0x2a6d0b['length'])return _0x2a6d0b['substring'](0x1c74+0x1f9b*0x1+0x19*-0x267,_0x140c57[_0x30d95c]);if(_0x140c57[_0x30d95c]>_0x2a6d0b['length']){let _0x1c1ca3=_0x2a6d0b;const _0x341885=_0x1c1ca3['charAt'](_0x1c1ca3['length']-(0x1*-0x1475+-0x7d6*0x2+-0x39d*-0xa)),_0x32cbce=_0x140c57[_0x30d95c]-_0x1c1ca3['length'];for(let _0x487741=-0x5f8+-0xd3*-0x19+-0xea3;_0x487741<_0x32cbce;_0x487741++)_0x1c1ca3+=_0x341885;return _0x1c1ca3;}return _0x2a6d0b;}}['createShad'+'erDefiniti'+'on'](_0x351fc2,_0x330b1d){const _0x21d17c=Ks['get'](_0x351fc2)['getByIndex'](_0x330b1d['litOptions']['pass'])['isForward'],_0x3f67de=new $C(_0x351fc2,_0x330b1d['litOptions']),_0x138dcf=[],_0x18c0d5=[],_0x346b27=[],_0x1eb6ca=-0xa27+0x18cb+-0x751*0x2,_0x1e5163={};for(const _0x246462 in fa){const _0x1fcee7=_0x246462+'Map';if(_0x330b1d[_0x246462+('VertexColo'+'r')]){const _0x249205=_0x246462+('VertexColo'+'rChannel');_0x330b1d[_0x249205]=this['_correctCh'+'annel'](_0x246462,_0x330b1d[_0x249205],fa);}if(_0x330b1d[_0x1fcee7]){const _0x5ed8cb=_0x1fcee7+'Channel',_0x595d86=_0x1fcee7+'Transform',_0x350036=_0x1fcee7+'Uv';_0x330b1d[_0x350036]=Math['min'](_0x330b1d[_0x350036],_0x1eb6ca-(-0x1721+-0x4c*-0x1+-0x16d6*-0x1)),_0x330b1d[_0x5ed8cb]=this['_correctCh'+'annel'](_0x246462,_0x330b1d[_0x5ed8cb],fa);const _0x373fdd=_0x330b1d[_0x350036];_0x138dcf[_0x373fdd]=!(0x2695+-0x2*0x1096+-0x569),_0x18c0d5[_0x373fdd]=_0x18c0d5[_0x373fdd]||_0x330b1d[_0x1fcee7]&&!_0x330b1d[_0x595d86],_0x330b1d[_0x595d86]&&_0x346b27['push']({'name':_0x246462,'id':_0x330b1d[_0x595d86],'uv':_0x330b1d[_0x350036]});}}_0x330b1d['forceUv1']&&(_0x138dcf[0x22e1*0x1+0x3a*-0x22+-0x1b2c]=!(0x227+0xf1*0xa+-0xb91*0x1),_0x18c0d5[0x1*-0x13af+0x1ee1+0xb31*-0x1]=_0x18c0d5[0x259c+0x635+-0x2bd0]!==void(-0x1ab1+-0xca5+0x2756)?_0x18c0d5[0x1a8f+0x407+-0x1e95]:!(-0xc0a+-0x1484+0x208e)),_0x3f67de['generateVe'+'rtexShader'](_0x138dcf,_0x18c0d5,_0x346b27),_0x330b1d['litOptions']['fresnelMod'+'el']=_0x330b1d['litOptions']['fresnelMod'+'el']===0x277*0xd+-0x10de+0x23*-0x6f?Sp:_0x330b1d['litOptions']['fresnelMod'+'el'];const _0x497c38=new sr(),_0x578055=new sr(),_0x48ac76=new sr(),_0x28dd44=new sr();let _0xbdb64b='';if(_0x330b1d['litOptions']['nineSliced'+'Mode']===Qe?_0x497c38['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x497c38['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x21d17c){if(_0x330b1d['heightMap']&&(_0x497c38['append']('vec2\x20dUvOf'+'fset;'),_0x578055['append'](this['_addMap']('height','parallaxPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getParalla'+'x();')),_0x330b1d['litOptions']['blendType']!==is||_0x330b1d['litOptions']['alphaTest']||_0x330b1d['litOptions']['alphaToCov'+'erage']||_0x330b1d['litOptions']['opacityDit'+'her']!==Rs){_0x497c38['append']('float\x20dAlp'+'ha;'),_0x578055['append'](this['_addMap']('opacity','opacityPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getOpacity'+'();'),_0x28dd44['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x330b1d['litOptions']['alphaTest']&&(_0x578055['append'](_0x3f67de['chunks']['alphaTestP'+'S']),_0x48ac76['append']('alphaTest('+'dAlpha);'));const _0x524a34=_0x330b1d['litOptions']['opacityDit'+'her'];_0x524a34!==Rs&&(_0x524a34===Nm&&_0x497c38['append'](_0x3f67de['chunks']['bayerPS']),_0x497c38['append']('#define\x20DI'+'THER_'+_0x524a34['toUpperCas'+'e']()+'\x0a'),_0x497c38['append'](_0x3f67de['chunks']['opacityDit'+'herPS']),_0x48ac76['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x497c38['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x3f67de['needsNorma'+'l']){if((_0x330b1d['normalMap']||_0x330b1d['clearCoatN'+'ormalMap'])&&(_0x578055['append'](_0x330b1d['packedNorm'+'al']?_0x3f67de['chunks']['normalXYPS']:_0x3f67de['chunks']['normalXYZP'+'S']),!_0x330b1d['litOptions']['hasTangent'+'s'])){const _0x11facd=_0x330b1d['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0xbdb64b=this['_getUvSour'+'ceExpressi'+'on'](_0x11facd+'Transform',_0x11facd+'Uv',_0x330b1d);}_0x497c38['append']('vec3\x20dNorm'+'alW;'),_0x578055['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x578055['append'](this['_addMap']('normal','normalMapP'+'S',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getNormal('+');'),_0x28dd44['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x3f67de['needsScene'+'Color']&&_0x497c38['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x3f67de['needsScree'+'nSize']&&_0x497c38['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x3f67de['needsTrans'+'forms']&&(_0x497c38['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x497c38['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x330b1d['diffuseDet'+'ail']||_0x330b1d['aoDetail'])&&_0x578055['append'](_0x3f67de['chunks']['detailMode'+'sPS']),_0x497c38['append']('vec3\x20dAlbe'+'do;'),_0x330b1d['diffuseDet'+'ail']&&_0x578055['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163,_0x330b1d['diffuseDet'+'ailEncodin'+'g'])),_0x578055['append'](this['_addMap']('diffuse','diffusePS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163,_0x330b1d['diffuseEnc'+'oding'])),_0x48ac76['append']('getAlbedo('+');'),_0x28dd44['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x330b1d['litOptions']['useRefract'+'ion']&&(_0x497c38['append']('float\x20dTra'+'nsmission;'),_0x578055['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getRefract'+'ion();'),_0x28dd44['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x497c38['append']('float\x20dThi'+'ckness;'),_0x578055['append'](this['_addMap']('thickness','thicknessP'+'S',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getThickne'+'ss();'),_0x28dd44['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x330b1d['litOptions']['dispersion']&&_0x28dd44['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x330b1d['litOptions']['useIridesc'+'ence']&&(_0x497c38['append']('float\x20dIri'+'descence;'),_0x578055['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getIridesc'+'ence();'),_0x28dd44['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x497c38['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x578055['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getIridesc'+'enceThickn'+'ess();'),_0x28dd44['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x3f67de['lighting']&&_0x330b1d['litOptions']['useSpecula'+'r']||_0x3f67de['reflection'+'s']?(_0x497c38['append']('vec3\x20dSpec'+'ularity;'),_0x497c38['append']('float\x20dGlo'+'ssiness;'),_0x330b1d['litOptions']['useSheen']&&(_0x497c38['append']('vec3\x20sSpec'+'ularity;'),_0x578055['append'](this['_addMap']('sheen','sheenPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163,_0x330b1d['sheenEncod'+'ing'])),_0x48ac76['append']('getSheen()'+';'),_0x28dd44['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x497c38['append']('float\x20sGlo'+'ssiness;'),_0x578055['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getSheenGl'+'ossiness()'+';'),_0x28dd44['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x330b1d['litOptions']['useMetalne'+'ss']&&(_0x497c38['append']('float\x20dMet'+'alness;'),_0x578055['append'](this['_addMap']('metalness','metalnessP'+'S',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getMetalne'+'ss();'),_0x28dd44['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x497c38['append']('float\x20dIor'+';'),_0x578055['append'](this['_addMap']('ior','iorPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getIor();'),_0x28dd44['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x330b1d['litOptions']['useSpecula'+'rityFactor']&&(_0x497c38['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x578055['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getSpecula'+'rityFactor'+'();'),_0x28dd44['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x330b1d['useSpecula'+'rColor']?_0x578055['append'](this['_addMap']('specular','specularPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163,_0x330b1d['specularEn'+'coding'])):_0x578055['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x578055['append'](this['_addMap']('gloss','glossPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getGlossin'+'ess();'),_0x48ac76['append']('getSpecula'+'rity();'),_0x28dd44['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x28dd44['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x497c38['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x497c38['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x330b1d['aoDetail']&&_0x578055['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),(_0x330b1d['aoMap']||_0x330b1d['aoVertexCo'+'lor']||_0x330b1d['useAO'])&&(_0x497c38['append']('float\x20dAo;'),_0x578055['append'](this['_addMap']('ao','aoPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getAO();'),_0x28dd44['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x497c38['append']('vec3\x20dEmis'+'sion;'),_0x578055['append'](this['_addMap']('emissive','emissivePS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163,_0x330b1d['emissiveEn'+'coding'])),_0x48ac76['append']('getEmissio'+'n();'),_0x28dd44['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x330b1d['litOptions']['useClearCo'+'at']&&(_0x497c38['append']('float\x20ccSp'+'ecularity;'),_0x497c38['append']('float\x20ccGl'+'ossiness;'),_0x497c38['append']('vec3\x20ccNor'+'malW;'),_0x578055['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x578055['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x578055['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getClearCo'+'at();'),_0x48ac76['append']('getClearCo'+'atGlossine'+'ss();'),_0x48ac76['append']('getClearCo'+'atNormal()'+';'),_0x28dd44['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x28dd44['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x28dd44['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x330b1d['lightMap']||_0x330b1d['lightVerte'+'xColor']){const _0x44d918=_0x330b1d['dirLightMa'+'p']&&_0x330b1d['litOptions']['useSpecula'+'r'],_0xf5dbd2=_0x44d918?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x497c38['append']('vec3\x20dLigh'+'tmap;'),_0x44d918&&_0x497c38['append']('vec3\x20dLigh'+'tmapDir;'),_0x578055['append'](this['_addMap']('light',_0xf5dbd2,_0x330b1d,_0x3f67de['chunks'],_0x1e5163,_0x330b1d['lightMapEn'+'coding'])),_0x48ac76['append']('getLightMa'+'p();'),_0x28dd44['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x44d918&&_0x28dd44['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x578055['code']['indexOf']('texture2DS'+'RGB')===-(0xf44+-0x2*-0x943+-0x21c9)&&_0x578055['code']['indexOf']('texture2DR'+'GBM')===-(0x3bc+0x2*0x12e3+-0x2981)&&_0x578055['code']['indexOf']('texture2DR'+'GBE')===-(-0x2027*0x1+0x4*0x43f+-0xf2c*-0x1),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x590e9e=_0x330b1d['litOptions']['opacitySha'+'dowDither'];(_0x330b1d['litOptions']['alphaTest']||_0x590e9e)&&(_0x497c38['append']('float\x20dAlp'+'ha;'),_0x578055['append'](this['_addMap']('opacity','opacityPS',_0x330b1d,_0x3f67de['chunks'],_0x1e5163)),_0x48ac76['append']('getOpacity'+'();'),_0x28dd44['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x330b1d['litOptions']['alphaTest']&&(_0x578055['append'](_0x3f67de['chunks']['alphaTestP'+'S']),_0x48ac76['append']('alphaTest('+'dAlpha);')),_0x590e9e!==Rs&&(_0x590e9e===Nm&&_0x497c38['append'](_0x3f67de['chunks']['bayerPS']),_0x497c38['append']('#define\x20DI'+'THER_'+_0x590e9e['toUpperCas'+'e']()+'\x0a'),_0x497c38['append'](_0x3f67de['chunks']['opacityDit'+'herPS']),_0x48ac76['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x497c38['append'](_0x3f67de['chunks']['litShaderA'+'rgsPS']),_0x578055['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x48ac76['code']+'\x0a'+_0x28dd44['code']+'\x0a\x20}\x0a'),_0x48ac76['code']='evaluateFr'+'ontend();';for(const _0x577fa2 in _0x1e5163)_0x497c38['append']('uniform\x20sa'+'mpler2D\x20'+_0x1e5163[_0x577fa2]+';');_0x48ac76['code']='\x0a'+_0x48ac76['code']['split']('\x0a')['map'](_0x652c5f=>'\x20\x20\x20\x20'+_0x652c5f)['join']('\x0a')+'\x0a\x0a',_0x3f67de['generateFr'+'agmentShad'+'er'](_0x497c38['code'],_0x578055['code'],_0x48ac76['code'],_0xbdb64b);const _0x4efe2d=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x3f67de['chunks']),..._0x3f67de['chunks'],..._0x330b1d['litOptions']['chunks']})),_0x1ac499=new Map(_0x330b1d['defines']),_0x51ebc7=Mt['createDefi'+'nition'](_0x351fc2,{'name':'StandardSh'+'ader','attributes':_0x3f67de['attributes'],'vertexCode':_0x3f67de['vshader'],'fragmentCode':_0x3f67de['fshader'],'vertexIncludes':_0x4efe2d,'fragmentIncludes':_0x4efe2d,'fragmentDefines':_0x1ac499,'vertexDefines':_0x1ac499});return _0x3f67de['shaderPass'+'Info']['isForward']&&(_0x51ebc7['tag']=Ly),_0x51ebc7;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=0xd*-0x259+-0x1*0x806+0xb*0x381;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x4*0x787+-0x1878+-0x6f*0xd)),c(this,'parameters',{}),c(this,'alphaTest',-0x1*-0x25aa+-0x1*-0xdff+-0x33a9),c(this,'alphaToCov'+'erage',!(-0x97b*-0x1+0x1e23+-0x279d)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x2665*-0x1+-0x1b37+0x3dc*0x11)),c(this,'_shaderVer'+'sion',0x1*-0x1623+-0x50b+0x1b2e),c(this,'_scene',null),c(this,'dirty',!(-0x1*0x22+-0x52a*0x7+0x2448)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x1517c8){this['_dirtyShad'+'er']=!(0x1d0a+0x19*0x3c+-0x22e6),this['_chunks']=_0x1517c8;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x1fe6*-0x1+-0x5a5+0x258b),this['_chunks'];}set['depthBias'](_0x79c3d5){this['_depthStat'+'e']['depthBias']=_0x79c3d5;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x55cf07){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x55cf07;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x3c4fea){this['_blendStat'+'e']['redWrite']=_0x3c4fea;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x243b9d){this['_blendStat'+'e']['greenWrite']=_0x243b9d;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x1d9f4b){this['_blendStat'+'e']['blueWrite']=_0x1d9f4b;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x450d5f){this['_blendStat'+'e']['alphaWrite']=_0x450d5f;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x4901ef=this['transparen'+'t'],_0x1c085e=this['meshInstan'+'ces'];for(let _0x4a96c1=-0x1552+0x3e*0x7f+0x12e*-0x8;_0x4a96c1<_0x1c085e['length'];_0x4a96c1++)_0x1c085e[_0x4a96c1]['transparen'+'t']=_0x4901ef;}set['blendState'](_0x2caeb8){this['_blendStat'+'e']['copy'](_0x2caeb8),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x4d453c){const _0x1a32c2=Ft[_0x4d453c];v['assert'](_0x1a32c2,'Unknown\x20bl'+'end\x20mode\x20'+_0x4d453c),this['_blendStat'+'e']['setColorBl'+'end'](_0x1a32c2['op'],_0x1a32c2['src'],_0x1a32c2['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x1a32c2['alphaOp']??_0x1a32c2['op'],_0x1a32c2['alphaSrc']??_0x1a32c2['src'],_0x1a32c2['alphaDst']??_0x1a32c2['dst']);const _0x37c3c3=_0x4d453c!==is;this['_blendStat'+'e']['blend']!==_0x37c3c3&&(this['_blendStat'+'e']['blend']=_0x37c3c3,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x2cc62a,colorSrcFactor:_0x57ee30,colorDstFactor:_0x5970da,alphaOp:_0x3b7fb2,alphaSrcFactor:_0x5166b6,alphaDstFactor:_0x235758}=this['_blendStat'+'e'];for(let _0xe78bb6=0x9*0x25c+-0xd0a*0x2+0x4d8;_0xe78bb6<Ft['length'];_0xe78bb6++){const _0xd2a6f3=Ft[_0xe78bb6];if(_0xd2a6f3['src']===_0x57ee30&&_0xd2a6f3['dst']===_0x5970da&&_0xd2a6f3['op']===_0x2cc62a&&_0xd2a6f3['src']===_0x5166b6&&_0xd2a6f3['dst']===_0x235758&&_0xd2a6f3['op']===_0x3b7fb2)return _0xe78bb6;}return Kt;}set['depthState'](_0x54da54){this['_depthStat'+'e']['copy'](_0x54da54);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x28b2e6){this['_depthStat'+'e']['test']=_0x28b2e6;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x3cb91c){this['_depthStat'+'e']['func']=_0x3cb91c;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x2fa60a){this['_depthStat'+'e']['write']=_0x2fa60a;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x128738){var _0x45e42c;this['name']=_0x128738['name'],this['alphaTest']=_0x128738['alphaTest'],this['alphaToCov'+'erage']=_0x128738['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x128738['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x128738['_depthStat'+'e']),this['cull']=_0x128738['cull'],this['stencilFro'+'nt']=(_0x45e42c=_0x128738['stencilFro'+'nt'])==null?void(-0xbd4+-0x391*-0x2+0x4b2):_0x45e42c['clone'](),_0x128738['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x128738['stencilFro'+'nt']===_0x128738['stencilBac'+'k']?this['stencilFro'+'nt']:_0x128738['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x2ebc5c in _0x128738['parameters'])_0x128738['parameters']['hasOwnProp'+'erty'](_0x2ebc5c)&&this['_setParame'+'terSimple'](_0x2ebc5c,_0x128738['parameters'][_0x2ebc5c]['data']);this['defines']['clear'](),_0x128738['defines']['forEach']((_0x2b05ef,_0x684344)=>this['defines']['set'](_0x684344,_0x2b05ef));const _0x13a658=_0x128738['_chunks'];for(const _0x273ab4 in _0x13a658)_0x13a658['hasOwnProp'+'erty'](_0x273ab4)&&(this['_chunks'][_0x273ab4]=_0x13a658[_0x273ab4]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x540afb=this['meshInstan'+'ces'];for(let _0x4cedeb=0x227b+-0x8de+0x199d*-0x1;_0x4cedeb<_0x540afb['length'];_0x4cedeb++)_0x540afb[_0x4cedeb]['updateKey']();}['updateUnif'+'orms'](_0x2dedea,_0x3734ee){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x462515){v['assert'](!(0x5*-0x170+-0x16ad+0x1dde),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1355+0x8e*-0x35+0xa12),this['clearVaria'+'nts']()),this['dirty']=!(-0xaad+-0x430+-0x1*-0xedd);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x4f9572=this['meshInstan'+'ces'],_0x369e2b=_0x4f9572['length'];for(let _0x5259da=0x376*0x3+-0x1*-0x1d47+0x1*-0x27a9;_0x5259da<_0x369e2b;_0x5259da++)_0x4f9572[_0x5259da]['clearShade'+'rs']();}['getParamet'+'er'](_0x22ea6a){return this['parameters'][_0x22ea6a];}['_setParame'+'terSimple'](_0x3fbc62,_0x3c7c86){v['call'](()=>{_0x3c7c86===void(0xd*0x224+0x1b4e+-0x3722)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x3fbc62+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x322294=this['parameters'][_0x3fbc62];_0x322294?_0x322294['data']=_0x3c7c86:this['parameters'][_0x3fbc62]={'scopeId':null,'data':_0x3c7c86};}['setParamet'+'er'](_0x41f483,_0x55f3ff){if(_0x55f3ff===void(0x3e*0x32+-0x5c*-0x12+-0x52*0x3a)&&typeof _0x41f483=='object'){const _0x33fb76=_0x41f483;if(_0x33fb76['length']){for(let _0x590d76=0x1*0x1c12+0x15d*0x1a+-0x3f84;_0x590d76<_0x33fb76['length'];_0x590d76++)this['setParamet'+'er'](_0x33fb76[_0x590d76]);return;}_0x41f483=_0x33fb76['name'],_0x55f3ff=_0x33fb76['value'];}this['_setParame'+'terSimple'](_0x41f483,_0x55f3ff);}['deletePara'+'meter'](_0x496bef){this['parameters'][_0x496bef]&&delete this['parameters'][_0x496bef];}['setParamet'+'ers'](_0x3f5dd5,_0x5710cf){const _0x30c4c3=this['parameters'];_0x5710cf===void(0x101c+0x2667+-0x3683)&&(_0x5710cf=_0x30c4c3);for(const _0x4e1fa3 in _0x5710cf){const _0x270e28=_0x30c4c3[_0x4e1fa3];_0x270e28&&(_0x270e28['scopeId']||(_0x270e28['scopeId']=_0x3f5dd5['scope']['resolve'](_0x4e1fa3)),_0x270e28['scopeId']['setValue'](_0x270e28['data']));}}['setDefine'](_0x3a689d,_0x1611ef){let _0x53e331=!(-0x1*-0x1003+0x1*0x563+-0x1565);const {defines:_0x28faf0}=this;_0x1611ef!==void(-0xf58+-0x375+-0x12cd*-0x1)&&_0x1611ef!==!(0x14bd*-0x1+0x8*-0x22d+0x2626)?(_0x53e331=!_0x28faf0['has'](_0x3a689d)||_0x28faf0['get'](_0x3a689d)!==_0x1611ef,_0x28faf0['set'](_0x3a689d,_0x1611ef)):(_0x53e331=_0x28faf0['has'](_0x3a689d),_0x28faf0['delete'](_0x3a689d)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x53e331);}['getDefine'](_0x24f4dc){return this['defines']['has'](_0x24f4dc);}['destroy'](){this['variants']['clear']();for(let _0x1b2d02=-0x1*-0x106b+-0x1e69+0x18e*0x9;_0x1b2d02<this['meshInstan'+'ces']['length'];_0x1b2d02++){const _0x1a8884=this['meshInstan'+'ces'][_0x1b2d02];if(_0x1a8884['clearShade'+'rs'](),_0x1a8884['_material']=null,_0x1a8884['mesh']){const _0x78877=al(_0x1a8884['mesh']['device']);this!==_0x78877&&(_0x1a8884['material']=_0x78877);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x2*-0x271+0x1097+-0xbb5;}['addMeshIns'+'tanceRef'](_0x20d3af){this['meshInstan'+'ces']['push'](_0x20d3af);}['removeMesh'+'InstanceRe'+'f'](_0x119135){const _0x374e60=this['meshInstan'+'ces'],_0x489c33=_0x374e60['indexOf'](_0x119135);_0x489c33!==-(0xd2d*0x1+0x1337*-0x2+-0x35*-0x7a)&&_0x374e60['splice'](_0x489c33,-0x203b+0xff8+0x411*0x4);}}class As{static['update'](_0x3225c8,_0x229efa,_0x43c1ee,_0x52d104,_0x203969,_0x49aede,_0x593f53){As['updateShar'+'edOptions'](_0x3225c8,_0x229efa,_0x43c1ee,_0x203969,_0x49aede),As['updateMate'+'rialOption'+'s'](_0x3225c8,_0x229efa),As['updateEnvO'+'ptions'](_0x3225c8,_0x229efa,_0x43c1ee,_0x52d104),As['updateLigh'+'tingOption'+'s'](_0x3225c8,_0x229efa,_0x203969,_0x593f53);}static['updateShar'+'edOptions'](_0x119160,_0x30bf63,_0x2fdf4f,_0x37fc18,_0x186655){_0x119160['chunks']=_0x30bf63['chunks'],_0x119160['pass']=_0x186655,_0x119160['alphaTest']=_0x30bf63['alphaTest']>0xae3+-0x7a2+-0x341,_0x119160['blendType']=_0x30bf63['blendType'],_0x119160['screenSpac'+'e']=_0x37fc18&&(_0x37fc18&Cp)!==-0xc*0x1e7+-0x6c+0x3e0*0x6,_0x119160['skin']=_0x37fc18&&(_0x37fc18&Wc)!==0x18c3+-0x1d39*-0x1+-0x35fc,_0x119160['useInstanc'+'ing']=_0x37fc18&&(_0x37fc18&$c)!==0x250a*-0x1+-0xc2*0x23+0x3f90,_0x119160['useMorphPo'+'sition']=_0x37fc18&&(_0x37fc18&qc)!==-0x2*-0x368+-0x1736+-0x1066*-0x1,_0x119160['useMorphNo'+'rmal']=_0x37fc18&&(_0x37fc18&Xc)!==0x133e+-0x67*-0x35+0x9b*-0x43,_0x119160['useMorphTe'+'xtureBased'+'Int']=_0x37fc18&&(_0x37fc18&jc)!==0x2*0x103c+-0x17ef+-0x889,_0x119160['hasTangent'+'s']=_0x37fc18&&(_0x37fc18&Mp)!==-0x2c*0x7c+-0x1b61+0x30b1,_0x119160['nineSliced'+'Mode']=_0x30bf63['nineSliced'+'Mode']||Ti,_0x30bf63['useLightin'+'g']&&_0x2fdf4f['clusteredL'+'ightingEna'+'bled']?(_0x119160['clusteredL'+'ightingEna'+'bled']=!(-0x25f7*0x1+-0x1*0xce5+0x744*0x7),_0x119160['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x2fdf4f['lighting']['cookiesEna'+'bled'],_0x119160['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x2fdf4f['lighting']['shadowsEna'+'bled'],_0x119160['clusteredL'+'ightingSha'+'dowType']=_0x2fdf4f['lighting']['shadowType'],_0x119160['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x2fdf4f['lighting']['areaLights'+'Enabled']):(_0x119160['clusteredL'+'ightingEna'+'bled']=!(-0x1*-0x1102+-0x9d*-0x16+-0x1e7f*0x1),_0x119160['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1ee5*-0x1+-0x16ab+0x1a5*-0x5),_0x119160['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1e1f+0x1*0x1e2c+-0xc),_0x119160['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1310+-0xdc6+0xb*-0x7b));}static['updateMate'+'rialOption'+'s'](_0x22826b,_0x12be69){_0x22826b['separateAm'+'bient']=!(-0x4de+-0x83b+-0xd*-0x102),_0x22826b['customFrag'+'mentShader']=null,_0x22826b['pixelSnap']=_0x12be69['pixelSnap'],_0x22826b['ambientSH']=_0x12be69['ambientSH'],_0x22826b['twoSidedLi'+'ghting']=_0x12be69['twoSidedLi'+'ghting'],_0x22826b['occludeDir'+'ect']=_0x12be69['occludeDir'+'ect'],_0x22826b['occludeSpe'+'cular']=_0x12be69['occludeSpe'+'cular'],_0x22826b['occludeSpe'+'cularFloat']=_0x12be69['occludeSpe'+'cularInten'+'sity']!==-0x162a+0xe61+-0x2*-0x3e5,_0x22826b['useMsdf']=!(-0x1*0x2083+-0x8*0x30a+0x38d4),_0x22826b['msdfTextAt'+'tribute']=!(0x11c9*-0x1+0x1003+0x1c7),_0x22826b['alphaToCov'+'erage']=_0x12be69['alphaToCov'+'erage'],_0x22826b['opacityFad'+'esSpecular']=_0x12be69['opacityFad'+'esSpecular'],_0x22826b['opacityDit'+'her']=_0x12be69['opacityDit'+'her'],_0x22826b['cubeMapPro'+'jection']=u0,_0x22826b['useSpecula'+'r']=_0x12be69['hasSpecula'+'r'],_0x22826b['useSpecula'+'rityFactor']=_0x12be69['hasSpecula'+'rityFactor'],_0x22826b['enableGGXS'+'pecular']=_0x12be69['ggxSpecula'+'r'],_0x22826b['fresnelMod'+'el']=_0x12be69['fresnelMod'+'el'],_0x22826b['useRefract'+'ion']=_0x12be69['hasRefract'+'ion'],_0x22826b['useClearCo'+'at']=_0x12be69['hasClearCo'+'at'],_0x22826b['useSheen']=_0x12be69['hasSheen'],_0x22826b['useIridesc'+'ence']=_0x12be69['hasIrrides'+'cence'],_0x22826b['useMetalne'+'ss']=_0x12be69['hasMetalne'+'ss'],_0x22826b['useDynamic'+'Refraction']=_0x12be69['dynamicRef'+'raction'],_0x22826b['dispersion']=_0x12be69['dispersion']>-0x2d9*-0xb+-0x2f1*0x5+-0x6*0x2c5,_0x22826b['vertexColo'+'rs']=!(0xc9*-0x9+0x8*0x24+0x5f2),_0x22826b['lightMapEn'+'abled']=_0x12be69['hasLightin'+'g'],_0x22826b['dirLightMa'+'pEnabled']=_0x12be69['dirLightMa'+'p'],_0x22826b['useHeights']=_0x12be69['hasHeights'],_0x22826b['useNormals']=_0x12be69['hasNormals'],_0x22826b['useClearCo'+'atNormals']=_0x12be69['hasClearCo'+'atNormals'],_0x22826b['useAo']=_0x12be69['hasAo'],_0x22826b['diffuseMap'+'Enabled']=_0x12be69['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x3a0aef,_0x35e5cb,_0x4c5db0,_0x4da430){_0x3a0aef['fog']=_0x35e5cb['useFog']?_0x4da430['fog']:Fa,_0x3a0aef['gamma']=_0x4da430['shaderOutp'+'utGamma'],_0x3a0aef['toneMap']=_0x35e5cb['useTonemap']?_0x4da430['toneMappin'+'g']:f0,_0x35e5cb['useSkybox']&&_0x4c5db0['envAtlas']&&_0x4c5db0['skybox']?(_0x3a0aef['reflection'+'Source']='envAtlasHQ',_0x3a0aef['reflection'+'Encoding']=_0x4c5db0['envAtlas']['encoding'],_0x3a0aef['reflection'+'CubemapEnc'+'oding']=_0x4c5db0['skybox']['encoding']):_0x35e5cb['useSkybox']&&_0x4c5db0['envAtlas']?(_0x3a0aef['reflection'+'Source']='envAtlas',_0x3a0aef['reflection'+'Encoding']=_0x4c5db0['envAtlas']['encoding']):_0x35e5cb['useSkybox']&&_0x4c5db0['skybox']?(_0x3a0aef['reflection'+'Source']='cubeMap',_0x3a0aef['reflection'+'Encoding']=_0x4c5db0['skybox']['encoding']):(_0x3a0aef['reflection'+'Source']=null,_0x3a0aef['reflection'+'Encoding']=null),_0x35e5cb['ambientSH']?(_0x3a0aef['ambientSou'+'rce']='ambientSH',_0x3a0aef['ambientEnc'+'oding']=null):_0x3a0aef['reflection'+'Source']&&_0x4c5db0['envAtlas']?(_0x3a0aef['ambientSou'+'rce']='envAtlas',_0x3a0aef['ambientEnc'+'oding']=_0x4c5db0['envAtlas']['encoding']):(_0x3a0aef['ambientSou'+'rce']='constant',_0x3a0aef['ambientEnc'+'oding']=null);const _0x190458=!!_0x3a0aef['reflection'+'Source'];_0x3a0aef['skyboxInte'+'nsity']=_0x190458,_0x3a0aef['useCubeMap'+'Rotation']=_0x190458&&_0x4c5db0['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x271b29,_0x4ea366,_0x4b0c35,_0x12304d){if(_0x271b29['lightMapWi'+'thoutAmbie'+'nt']=!(-0x2a5*0x1+0x7*0x67+0x1*-0x2b),_0x4ea366['useLightin'+'g']){const _0x1d6fec=[],_0x132c6e=_0x4b0c35?_0x4b0c35>>-0x1df7*-0x1+-0x1048+-0xd9f:hs;_0x271b29['lightMaskD'+'ynamic']=!!(_0x132c6e&hs),_0x271b29['lightMapWi'+'thoutAmbie'+'nt']=!(0xf4d+0x46d+-0x13b9),_0x12304d&&(As['collectLig'+'hts'](oe,_0x12304d[oe],_0x1d6fec,_0x132c6e),As['collectLig'+'hts'](Pe,_0x12304d[Pe],_0x1d6fec,_0x132c6e),As['collectLig'+'hts'](Re,_0x12304d[Re],_0x1d6fec,_0x132c6e)),_0x271b29['lights']=_0x1d6fec;}else _0x271b29['lights']=[];(_0x271b29['lights']['length']===0x1*0x1ae1+0x219b+0x2*-0x1e3e||(_0x4b0c35&Ep)!==-0xe5*0x1d+0x21e7+0x1*-0x7f6)&&(_0x271b29['noShadow']=!(0x26a2*0x1+-0x9*-0x67+-0x2a41));}static['collectLig'+'hts'](_0x1308a2,_0x37569d,_0x45f129,_0xcd50e4){for(let _0xb8852f=-0x7*-0xed+-0x1432+0xdb7;_0xb8852f<_0x37569d['length'];_0xb8852f++){const _0x279177=_0x37569d[_0xb8852f];_0x279177['enabled']&&_0x279177['mask']&_0xcd50e4&&_0x45f129['push'](_0x279177);}}}const c_=(_0x1666f1,_0x3210e2)=>{if(_0x1666f1['length']!==_0x3210e2['length'])return!(-0x2e3*0x3+0x3*0xc7a+-0x1cc4);for(let _0x4d6867=-0x11d1*-0x1+-0x2c8*0x2+-0xc41*0x1;_0x4d6867<_0x1666f1['length'];++_0x4d6867)if(_0x1666f1[_0x4d6867]!==_0x3210e2[_0x4d6867])return!(0x5a2+0x3*0x6cd+-0x1a08*0x1);return!(-0x369*0x1+0x1b9c+-0x1833);},YC=_0x2f864c=>_0x2f864c['r']!==0x24f3+0x25e+-0x2750||_0x2f864c['g']!==0xfa2+0x163b+0x977*-0x4||_0x2f864c['b']!==0x13e2+0x20e7+-0x34c8,KC=_0xc2c9b4=>_0xc2c9b4['r']!==0xba+-0x1*-0x25bd+0x2b*-0xe5||_0xc2c9b4['g']!==-0x2443+0x63+-0x23e*-0x10||_0xc2c9b4['b']!==-0x2419*0x1+0x1bf5+0x824;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x1eb0ea,_0x5d662d,_0x4d2912,_0x3ae312,_0x16f299,_0x39eba1){this['_updateSha'+'redOptions'](_0x1eb0ea,_0x5d662d,_0x4d2912,_0x3ae312,_0x16f299),this['_updateMin'+'Options'](_0x1eb0ea,_0x4d2912,_0x16f299),this['_updateUVO'+'ptions'](_0x1eb0ea,_0x4d2912,_0x3ae312,!(-0x1d*0xc9+-0x814+0x1*0x1ed9));}['updateRef'](_0x417879,_0x2da7ea,_0x231fbf,_0x56c902,_0x54c019,_0x475863,_0x2e6d14){this['_updateSha'+'redOptions'](_0x417879,_0x2da7ea,_0x56c902,_0x54c019,_0x475863),this['_updateEnv'+'Options'](_0x417879,_0x56c902,_0x2da7ea,_0x231fbf),this['_updateMat'+'erialOptio'+'ns'](_0x417879,_0x56c902),_0x417879['litOptions']['hasTangent'+'s']=_0x54c019&&(_0x54c019&Mp)!==0x12c5*0x1+0x24f+0xa8a*-0x2,this['_updateLig'+'htOptions'](_0x417879,_0x2da7ea,_0x56c902,_0x54c019,_0x2e6d14),this['_updateUVO'+'ptions'](_0x417879,_0x56c902,_0x54c019,!(0x139*0xf+-0x1fbd+0xd67),_0x231fbf);}['_updateSha'+'redOptions'](_0x1c8000,_0x14d889,_0x3573f2,_0x48c61e,_0xace376){_0x1c8000['forceUv1']=_0x3573f2['forceUv1'],_0x3573f2['userAttrib'+'utes']&&(_0x1c8000['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x3573f2['userAttrib'+'utes']['entries']())),_0x1c8000['litOptions']['chunks']=_0x3573f2['chunks']||{},_0x1c8000['litOptions']['pass']=_0xace376,_0x1c8000['litOptions']['alphaTest']=_0x3573f2['alphaTest']>0xa7d*0x1+-0x105*-0x13+-0x1ddc,_0x1c8000['litOptions']['blendType']=_0x3573f2['blendType'],_0x1c8000['litOptions']['screenSpac'+'e']=_0x48c61e&&(_0x48c61e&Cp)!==-0x1*-0x2627+-0x5ca+-0x205d,_0x1c8000['litOptions']['skin']=_0x48c61e&&(_0x48c61e&Wc)!==0x6*0x44d+-0xdab*0x1+0xc23*-0x1,_0x1c8000['litOptions']['batch']=_0x48c61e&&(_0x48c61e&Ou)!==-0x48a+0xa4c*0x3+-0x1a5a,_0x1c8000['litOptions']['useInstanc'+'ing']=_0x48c61e&&(_0x48c61e&$c)!==-0xc*0x4e+0x11d9+-0xe31,_0x1c8000['litOptions']['useMorphPo'+'sition']=_0x48c61e&&(_0x48c61e&qc)!==0x1121*-0x2+0x1*-0x2569+-0xa3d*-0x7,_0x1c8000['litOptions']['useMorphNo'+'rmal']=_0x48c61e&&(_0x48c61e&Xc)!==-0x3*0x10f+-0x15c7+-0x2*-0xc7a,_0x1c8000['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x48c61e&&(_0x48c61e&jc)!==-0x3b7+-0x9*0xf8+0xc6f,_0x1c8000['litOptions']['nineSliced'+'Mode']=_0x3573f2['nineSliced'+'Mode']||0x1*0x6a3+0x19d0+-0x2073,_0x14d889['clusteredL'+'ightingEna'+'bled']&&_0x3573f2['useLightin'+'g']?(_0x1c8000['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0xa65+0x143e*-0x1+0x9d9*0x1),_0x1c8000['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x14d889['lighting']['cookiesEna'+'bled'],_0x1c8000['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x14d889['lighting']['shadowsEna'+'bled'],_0x1c8000['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x14d889['lighting']['shadowType'],_0x1c8000['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x14d889['lighting']['areaLights'+'Enabled']):(_0x1c8000['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x14*-0x46+-0x9b3+0x43c),_0x1c8000['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x6a*-0x2a+0x23e6+-0x3*0x62b),_0x1c8000['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1*0x11c2+-0xdad+-0x12*0x3a),_0x1c8000['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x46e+-0xedf+0xa72));}['_updateUVO'+'ptions'](_0xe3c846,_0x2dd762,_0x31d206,_0x3511c2,_0x456199){let _0x31c549=!(-0x1eb+0x19e3*0x1+-0x17f7),_0x5d6f64=!(0xd15*0x1+0x7af*0x5+0x337f*-0x1),_0x4ed576=!(-0x88*-0x44+-0x9f0+-0x1a2f*0x1);_0x31d206&&(_0x31c549=(_0x31d206&m0)!==0x48*-0x56+-0x871*0x1+0x20a1,_0x5d6f64=(_0x31d206&_0)!==-0x2138+0x5c+-0x2*-0x106e,_0x4ed576=(_0x31d206&g0)!==-0x208f+-0x7*0x14f+-0x216*-0x14),_0xe3c846['litOptions']['vertexColo'+'rs']=!(-0x2578+0x2644+-0xcb),this['_mapXForms']=[];const _0x73a979={};for(const _0x486504 in fa)this['_updateTex'+'Options'](_0xe3c846,_0x2dd762,_0x486504,_0x31c549,_0x5d6f64,_0x4ed576,_0x3511c2,_0x73a979);this['_mapXForms']=null,_0xe3c846['litOptions']['ssao']=_0x456199==null?void(0x4*-0x773+-0x11d+0x1ee9):_0x456199['ssaoEnable'+'d'],_0xe3c846['useAO']=_0xe3c846['litOptions']['ssao'],_0xe3c846['litOptions']['lightMapEn'+'abled']=_0xe3c846['lightMap'],_0xe3c846['litOptions']['dirLightMa'+'pEnabled']=_0xe3c846['dirLightMa'+'p'],_0xe3c846['litOptions']['useHeights']=_0xe3c846['heightMap'],_0xe3c846['litOptions']['useNormals']=_0xe3c846['normalMap'],_0xe3c846['litOptions']['useClearCo'+'atNormals']=_0xe3c846['clearCoatN'+'ormalMap'],_0xe3c846['litOptions']['useAo']=_0xe3c846['aoMap']||_0xe3c846['aoVertexCo'+'lor']||_0xe3c846['litOptions']['ssao'],_0xe3c846['litOptions']['diffuseMap'+'Enabled']=_0xe3c846['diffuseMap'];}['_updateTex'+'Options'](_0x4fc076,_0x158c1d,_0x58f633,_0xb66c8c,_0x46064b,_0x38f26a,_0x185fc1,_0x67e40b){const _0x5b837c=_0x58f633==='opacity';if(!_0x185fc1||_0x5b837c){const _0x53852d=_0x58f633+'Map',_0x27d722=_0x58f633+('VertexColo'+'r'),_0x5701f1=_0x58f633+('VertexColo'+'rChannel'),_0x2fa318=_0x53852d+'Channel',_0x3a6c2f=_0x53852d+'Transform',_0x158dd3=_0x53852d+'Uv',_0x37ae47=_0x53852d+'Identifier';if(_0x58f633!=='light'&&(_0x4fc076[_0x53852d]=!(0x17*0x10b+-0x2596+0xd9a),_0x4fc076[_0x37ae47]=void(0x755+-0x1afd+0x8*0x275),_0x4fc076[_0x2fa318]='',_0x4fc076[_0x3a6c2f]=-0x23f4+-0x1353+0x3747,_0x4fc076[_0x158dd3]=-0x1*0x1adf+-0x50c+0x1feb),_0x4fc076[_0x27d722]=!(0x1ed+0x345+-0x531*0x1),_0x4fc076[_0x5701f1]='',_0x5b837c&&_0x158c1d['blendType']===is&&_0x158c1d['alphaTest']===-0x24de+0x31f*0x2+0x1ea0&&!_0x158c1d['alphaToCov'+'erage']&&_0x158c1d['opacityDit'+'her']===Rs)return;if(_0x58f633!=='height'&&_0x158c1d[_0x27d722]&&_0x38f26a&&(_0x4fc076[_0x27d722]=_0x158c1d[_0x27d722],_0x4fc076[_0x5701f1]=_0x158c1d[_0x5701f1],_0x4fc076['litOptions']['vertexColo'+'rs']=!(-0x1522+-0x269a+0x4*0xeef)),_0x158c1d[_0x53852d]){let _0x37b5f0=!(0x1a65+-0x1e7b+0x416);if(_0x158c1d[_0x158dd3]===-0x22bd+0x207a+0x243&&!_0xb66c8c&&(_0x37b5f0=!(0x24d0+-0x643*-0x3+-0x3798)),_0x158c1d[_0x158dd3]===-0x2*0xfe+-0xb5*-0x29+-0x1b00&&!_0x46064b&&(_0x37b5f0=!(0xdd6+-0x1149+0x374)),_0x37b5f0){const _0x1c44cb=_0x158c1d[_0x53852d]['id'];let _0x5b9906=_0x67e40b[_0x1c44cb];_0x5b9906===void(-0x1caf+0x23a1+-0x7f*0xe)&&(_0x67e40b[_0x1c44cb]=_0x58f633,_0x5b9906=_0x58f633),_0x4fc076[_0x53852d]=!!_0x158c1d[_0x53852d],_0x4fc076[_0x37ae47]=_0x5b9906,_0x4fc076[_0x3a6c2f]=this['_getMapTra'+'nsformID'](_0x158c1d['getUniform'](_0x3a6c2f),_0x158c1d[_0x158dd3]),_0x4fc076[_0x2fa318]=_0x158c1d[_0x2fa318],_0x4fc076[_0x158dd3]=_0x158c1d[_0x158dd3];}}}}['_updateMin'+'Options'](_0x2508aa,_0x548cbd,_0x3f6cdf){const _0x40c2c6=_0x3f6cdf===il;_0x2508aa['litOptions']['opacitySha'+'dowDither']=_0x40c2c6?_0x548cbd['opacityDit'+'her']:_0x548cbd['opacitySha'+'dowDither'],_0x2508aa['litOptions']['linearDept'+'h']=_0x40c2c6,_0x2508aa['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x3cbeb1,_0x356f6d){var _0x3cba0e,_0x44e3ea,_0x4f7231,_0x511058;const _0x1091e5=!!(_0x356f6d['useMetalne'+'ss']||_0x356f6d['specularMa'+'p']||_0x356f6d['sphereMap']||_0x356f6d['cubeMap']||KC(_0x356f6d['specular'])||_0x356f6d['specularit'+'yFactor']>0xeec+-0x25*0x53+0x2ed*-0x1&&_0x356f6d['useMetalne'+'ss']||_0x356f6d['enableGGXS'+'pecular']||_0x356f6d['clearCoat']>-0xbd2+0x767+0x27*0x1d),_0x5bd90c=!_0x356f6d['useMetalne'+'ss']||_0x356f6d['useMetalne'+'ssSpecular'+'Color'],_0xf42c23=_0x1091e5&&(_0x356f6d['specularTi'+'nt']||!_0x356f6d['specularMa'+'p']&&!_0x356f6d['specularVe'+'rtexColor'])&&YC(_0x356f6d['specular']),_0x51c330=_0x1091e5&&_0x356f6d['useMetalne'+'ssSpecular'+'Color']&&(_0x356f6d['specularit'+'yFactorTin'+'t']||_0x356f6d['specularit'+'yFactor']<-0x5f*0x1+-0x1*-0xeb1+-0xe51&&!_0x356f6d['specularit'+'yFactorMap']),_0x1a2298=_0x356f6d['normalMap']?_0x356f6d['normalMap']['format']===$o||_0x356f6d['normalMap']['type']===op:!(0x1*-0x2207+-0x1b84+0x3d8c),_0x2184db=(_0x2a541a,_0x5468c6)=>Math['abs'](_0x2a541a-_0x5468c6)<0x336*0x2+-0xd3*0x5+-0x24d+0.0001;_0x3cbeb1['specularTi'+'nt']=_0xf42c23?-0xdaf*0x2+-0x231b+-0x23*-0x1c9:-0x17b2+0xa7b*0x1+0xd37,_0x3cbeb1['specularit'+'yFactorTin'+'t']=_0x51c330?0x4*-0x2af+0xd5d+-0x2a0:-0x1*0xefa+0x1*0x201b+-0x1121,_0x3cbeb1['metalnessT'+'int']=_0x356f6d['useMetalne'+'ss']&&_0x356f6d['metalness']<-0x3*-0x2a+0x3*-0x64a+-0x5*-0x3ad?-0x1*-0x112f+0x10b9+-0x21e7:-0xa2+0x33*0x1e+-0x558,_0x3cbeb1['glossTint']=-0x2129+-0x7*-0x9d+0x1cdf,_0x3cbeb1['diffuseEnc'+'oding']=(_0x3cba0e=_0x356f6d['diffuseMap'])==null?void(-0x1cf*0x11+0x1*-0xc15+0x2ad4):_0x3cba0e['encoding'],_0x3cbeb1['diffuseDet'+'ailEncodin'+'g']=(_0x44e3ea=_0x356f6d['diffuseDet'+'ailMap'])==null?void(0x336*0xb+-0x19e+-0x21b4):_0x44e3ea['encoding'],_0x3cbeb1['emissiveEn'+'coding']=(_0x4f7231=_0x356f6d['emissiveMa'+'p'])==null?void(-0xcbd*0x2+-0x27f*-0x9+0x303):_0x4f7231['encoding'],_0x3cbeb1['lightMapEn'+'coding']=(_0x511058=_0x356f6d['lightMap'])==null?void(-0x1248+0x229d*-0x1+0x34e5):_0x511058['encoding'],_0x3cbeb1['packedNorm'+'al']=_0x1a2298,_0x3cbeb1['refraction'+'Tint']=_0x2184db(_0x356f6d['refraction'],0x66b*-0x2+-0x242*0x1+0xf19)?0xc7d+-0x1583+0xe7*0xa:-0xf1d+0x2*-0xd6b+-0x37f*-0xc,_0x3cbeb1['refraction'+'IndexTint']=_0x2184db(_0x356f6d['refraction'+'Index'],(-0x2*-0x503+0x6*0xca+-0x3*0x4eb)/(-0x1*-0x1387+-0x22*-0xd9+-0x3058+0.5))?-0x14a0+-0x119f*0x1+0x263f:-0x5*-0x2c6+0x1f28+-0x2d05,_0x3cbeb1['thicknessT'+'int']=_0x356f6d['useDynamic'+'Refraction']&&_0x356f6d['thickness']!==0x4*0x241+0x1a*-0xf1+0x6b*0x25?-0x1*0xc3d+-0xa3*0x2b+0x279f:-0xcbd*-0x3+-0xed3+-0x1764,_0x3cbeb1['specularEn'+'coding']=_0x356f6d['specularEn'+'coding']||'linear',_0x3cbeb1['sheenEncod'+'ing']=_0x356f6d['sheenEncod'+'ing']||'linear',_0x3cbeb1['aoMapUv']=_0x356f6d['aoUvSet'],_0x3cbeb1['aoDetail']=!!_0x356f6d['aoMap'],_0x3cbeb1['diffuseDet'+'ail']=!!_0x356f6d['diffuseMap'],_0x3cbeb1['normalDeta'+'il']=!!_0x356f6d['normalMap'],_0x3cbeb1['diffuseDet'+'ailMode']=_0x356f6d['diffuseDet'+'ailMode'],_0x3cbeb1['aoDetailMo'+'de']=_0x356f6d['aoDetailMo'+'de'],_0x3cbeb1['clearCoatT'+'int']=_0x2184db(_0x356f6d['clearCoat'],-0x3*-0xbef+-0x712+-0x1cba)?0x10*-0xf1+0x1c27*-0x1+0x2b37:0x163*-0x1+0x19*0x12d+-0x1c01,_0x3cbeb1['clearCoatG'+'loss']=!!_0x356f6d['clearCoatG'+'loss'],_0x3cbeb1['clearCoatG'+'lossTint']=_0x356f6d['clearCoatG'+'loss']!==-0x1*0x153e+0x1*-0x1089+-0x4e*-0x7c?-0x567*-0x1+-0x1c+-0x54a*0x1:-0x1d1e+-0xa*-0x145+0x836*0x2,_0x3cbeb1['iorTint']=_0x2184db(_0x356f6d['refraction'+'Index'],(0xc63*0x1+0x1dd1+0xe11*-0x3)/(-0x14*0xb+0x163b+-0x155e+0.5))?-0x235b+0x166c+0xcef:0x1685+-0x1326+0x35e*-0x1,_0x3cbeb1['iridescenc'+'eTint']=_0x356f6d['iridescenc'+'e']!==0x233*0xd+-0x1*-0x105c+0x16*-0x20b?-0x1f69+-0x1*-0x1159+0xe11*0x1:-0xf7+-0x172*0x6+-0x1*-0x9a3,_0x3cbeb1['glossInver'+'t']=_0x356f6d['glossInver'+'t'],_0x3cbeb1['sheenGloss'+'Invert']=_0x356f6d['sheenGloss'+'Invert'],_0x3cbeb1['clearCoatG'+'lossInvert']=_0x356f6d['clearCoatG'+'lossInvert'],_0x3cbeb1['useSpecula'+'rColor']=_0x5bd90c,_0x3cbeb1['litOptions']['separateAm'+'bient']=!(0x2e*0xb0+0xa*0x32e+-0x3f6b),_0x3cbeb1['litOptions']['customFrag'+'mentShader']=_0x356f6d['customFrag'+'mentShader'],_0x3cbeb1['litOptions']['pixelSnap']=_0x356f6d['pixelSnap'],_0x3cbeb1['litOptions']['ambientSH']=!!_0x356f6d['ambientSH'],_0x3cbeb1['litOptions']['twoSidedLi'+'ghting']=_0x356f6d['twoSidedLi'+'ghting'],_0x3cbeb1['litOptions']['occludeSpe'+'cular']=_0x356f6d['occludeSpe'+'cular'],_0x3cbeb1['litOptions']['occludeSpe'+'cularFloat']=_0x356f6d['occludeSpe'+'cularInten'+'sity']!==-0xcda+-0x20e0+-0x1*-0x2dbb,_0x3cbeb1['litOptions']['useMsdf']=!!_0x356f6d['msdfMap'],_0x3cbeb1['litOptions']['msdfTextAt'+'tribute']=!!_0x356f6d['msdfTextAt'+'tribute'],_0x3cbeb1['litOptions']['alphaToCov'+'erage']=_0x356f6d['alphaToCov'+'erage'],_0x3cbeb1['litOptions']['opacityFad'+'esSpecular']=_0x356f6d['opacityFad'+'esSpecular'],_0x3cbeb1['litOptions']['opacityDit'+'her']=_0x356f6d['opacityDit'+'her'],_0x3cbeb1['litOptions']['cubeMapPro'+'jection']=_0x356f6d['cubeMapPro'+'jection'],_0x3cbeb1['litOptions']['occludeDir'+'ect']=_0x356f6d['occludeDir'+'ect'],_0x3cbeb1['litOptions']['useSpecula'+'r']=_0x1091e5,_0x3cbeb1['litOptions']['useSpecula'+'rityFactor']=(_0x51c330||!!_0x356f6d['specularit'+'yFactorMap'])&&_0x356f6d['useMetalne'+'ssSpecular'+'Color'],_0x3cbeb1['litOptions']['enableGGXS'+'pecular']=_0x356f6d['enableGGXS'+'pecular'],_0x3cbeb1['litOptions']['fresnelMod'+'el']=_0x356f6d['fresnelMod'+'el'],_0x3cbeb1['litOptions']['useRefract'+'ion']=(_0x356f6d['refraction']||!!_0x356f6d['refraction'+'Map'])&&(_0x356f6d['useDynamic'+'Refraction']||!!_0x3cbeb1['litOptions']['reflection'+'Source']),_0x3cbeb1['litOptions']['useClearCo'+'at']=!!_0x356f6d['clearCoat'],_0x3cbeb1['litOptions']['useSheen']=_0x356f6d['useSheen'],_0x3cbeb1['litOptions']['useIridesc'+'ence']=_0x356f6d['useIridesc'+'ence']&&_0x356f6d['iridescenc'+'e']!==-0x13cc*0x1+0x1eaf*0x1+-0xae3,_0x3cbeb1['litOptions']['useMetalne'+'ss']=_0x356f6d['useMetalne'+'ss'],_0x3cbeb1['litOptions']['useDynamic'+'Refraction']=_0x356f6d['useDynamic'+'Refraction'],_0x3cbeb1['litOptions']['dispersion']=_0x356f6d['dispersion']>-0x1*-0x176f+0x25f7+-0x3d66;}['_updateEnv'+'Options'](_0x337138,_0x1f9918,_0x401662,_0x4d06f6){_0x337138['litOptions']['fog']=_0x1f9918['useFog']?_0x4d06f6['fog']:Fa,_0x337138['litOptions']['gamma']=_0x4d06f6['shaderOutp'+'utGamma'],_0x337138['litOptions']['toneMap']=_0x1f9918['useTonemap']?_0x4d06f6['toneMappin'+'g']:f0;let _0x197d5c=!(0xf5e+-0xe*0xed+-0xf*0x29);if(_0x1f9918['envAtlas']&&_0x1f9918['cubeMap']?(_0x337138['litOptions']['reflection'+'Source']='envAtlasHQ',_0x337138['litOptions']['reflection'+'Encoding']=_0x1f9918['envAtlas']['encoding'],_0x337138['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x1f9918['cubeMap']['encoding']):_0x1f9918['envAtlas']?(_0x337138['litOptions']['reflection'+'Source']='envAtlas',_0x337138['litOptions']['reflection'+'Encoding']=_0x1f9918['envAtlas']['encoding']):_0x1f9918['cubeMap']?(_0x337138['litOptions']['reflection'+'Source']='cubeMap',_0x337138['litOptions']['reflection'+'Encoding']=_0x1f9918['cubeMap']['encoding']):_0x1f9918['sphereMap']?(_0x337138['litOptions']['reflection'+'Source']='sphereMap',_0x337138['litOptions']['reflection'+'Encoding']=_0x1f9918['sphereMap']['encoding']):_0x1f9918['useSkybox']&&_0x401662['envAtlas']&&_0x401662['skybox']?(_0x337138['litOptions']['reflection'+'Source']='envAtlasHQ',_0x337138['litOptions']['reflection'+'Encoding']=_0x401662['envAtlas']['encoding'],_0x337138['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x401662['skybox']['encoding'],_0x197d5c=!(-0x14bd*0x1+-0x6e0*-0x4+-0x3*0x241)):_0x1f9918['useSkybox']&&_0x401662['envAtlas']?(_0x337138['litOptions']['reflection'+'Source']='envAtlas',_0x337138['litOptions']['reflection'+'Encoding']=_0x401662['envAtlas']['encoding'],_0x197d5c=!(0x1*0x97d+0x17c4+0x2141*-0x1)):_0x1f9918['useSkybox']&&_0x401662['skybox']?(_0x337138['litOptions']['reflection'+'Source']='cubeMap',_0x337138['litOptions']['reflection'+'Encoding']=_0x401662['skybox']['encoding'],_0x197d5c=!(-0x22e6+-0x419+0x43*0x95)):(_0x337138['litOptions']['reflection'+'Source']=null,_0x337138['litOptions']['reflection'+'Encoding']=null),_0x1f9918['ambientSH'])_0x337138['litOptions']['ambientSou'+'rce']='ambientSH',_0x337138['litOptions']['ambientEnc'+'oding']=null;else{const _0x92f3a0=_0x1f9918['envAtlas']||(_0x1f9918['useSkybox']&&_0x401662['envAtlas']?_0x401662['envAtlas']:null);_0x92f3a0&&!_0x1f9918['sphereMap']?(_0x337138['litOptions']['ambientSou'+'rce']='envAtlas',_0x337138['litOptions']['ambientEnc'+'oding']=_0x92f3a0['encoding']):(_0x337138['litOptions']['ambientSou'+'rce']='constant',_0x337138['litOptions']['ambientEnc'+'oding']=null);}_0x337138['litOptions']['skyboxInte'+'nsity']=_0x197d5c,_0x337138['litOptions']['useCubeMap'+'Rotation']=_0x197d5c&&_0x401662['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x37eda7,_0x4b03dc,_0x5bc2d8,_0x38afc0,_0x437f70){if(_0x37eda7['lightMap']=!(0x1b0+0x12dc+-0x148b*0x1),_0x37eda7['lightMapCh'+'annel']='',_0x37eda7['lightMapUv']=-0x94c+0xbb7+0x1*-0x26b,_0x37eda7['lightMapTr'+'ansform']=-0x25bd+0x25*-0x71+0x3612,_0x37eda7['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x62*-0x3+-0x19b5+0x1890),_0x37eda7['dirLightMa'+'p']=!(0x4*-0x21a+0xaa9+0xc0*-0x3),_0x38afc0&&(_0x37eda7['litOptions']['noShadow']=(_0x38afc0&Ep)!==0x15d*0x1a+-0xe5f+-0x53*0x41,(_0x38afc0&Fu)!==0x10f4+-0x7*-0x21e+-0x1fc6&&(_0x37eda7['lightMapEn'+'coding']=_0x4b03dc['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x37eda7['lightMap']=!(0x3ff*0x5+-0x24db+0x10e0),_0x37eda7['lightMapCh'+'annel']='rgb',_0x37eda7['lightMapUv']=0x1459+0x3fb*0x4+-0x2c*0xd3,_0x37eda7['lightMapTr'+'ansform']=0x1199*-0x1+0x339*-0xc+-0x14f*-0x2b,_0x37eda7['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x5bc2d8['lightMap'],(_0x38afc0&y0)!==0x4d3*0x5+0x1946+-0x9*0x57d&&(_0x37eda7['dirLightMa'+'p']=!(0xf1d+0x3*-0x74+-0xdc1)),(_0x38afc0&x0)!==-0x1ffd+0x2152+-0xb*0x1f&&(_0x37eda7['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x16e1+-0x163a+-0x168e*-0x2)))),_0x5bc2d8['useLightin'+'g']){const _0x12c277=[],_0x49b2e5=_0x38afc0?_0x38afc0>>0x1372+-0x26a5+-0x1343*-0x1:hs;_0x37eda7['litOptions']['lightMaskD'+'ynamic']=!!(_0x49b2e5&hs),_0x437f70&&(As['collectLig'+'hts'](oe,_0x437f70[oe],_0x12c277,_0x49b2e5),As['collectLig'+'hts'](Pe,_0x437f70[Pe],_0x12c277,_0x49b2e5),As['collectLig'+'hts'](Re,_0x437f70[Re],_0x12c277,_0x49b2e5)),_0x37eda7['litOptions']['lights']=_0x12c277;}else _0x37eda7['litOptions']['lights']=[];_0x37eda7['litOptions']['lights']['length']===-0x526*-0x7+0xe*-0x191+0x387*-0x4&&(_0x37eda7['litOptions']['noShadow']=!(-0x4f8*0x6+-0x7e1*-0x3+0x62d));}['_getMapTra'+'nsformID'](_0x5e4ec7,_0x3ac4c9){if(!_0x5e4ec7)return 0x7d3*0x1+-0x1*-0x23ae+-0x2b81*0x1;let _0x196475=this['_mapXForms'][_0x3ac4c9];_0x196475||(_0x196475=[],this['_mapXForms'][_0x3ac4c9]=_0x196475);for(let _0x343984=-0x1c19*-0x1+-0x178f+0x245*-0x2;_0x343984<_0x196475['length'];_0x343984++)if(c_(_0x196475[_0x343984][0x259d+-0xe8f*-0x1+-0x342c]['value'],_0x5e4ec7[-0x7*-0x261+-0x525+-0x1eb*0x6]['value'])&&c_(_0x196475[_0x343984][-0x1*0x1cb2+-0x4*-0x2b3+0x11e7]['value'],_0x5e4ec7[-0x108c+0xb25+-0x15a*-0x4]['value']))return _0x343984+(-0x5fe+-0x2*0x1a6+0x94b);return _0x196475['push'](_0x5e4ec7);}}function qe(_0x200b6d,_0x2edda9=!(0x5f*-0x7+0x1*-0x91+-0xf*-0x36),_0x5abf22=!(0x23b*0xd+0x1*-0x20b9+0x3ba)){const _0x2b929a={};return _0x2b929a[_0x200b6d+'Map']='texture',_0x2b929a[_0x200b6d+'MapTiling']='vec2',_0x2b929a[_0x200b6d+'MapOffset']='vec2',_0x2b929a[_0x200b6d+('MapRotatio'+'n')]='number',_0x2b929a[_0x200b6d+'MapUv']='number',_0x2edda9&&(_0x2b929a[_0x200b6d+'MapChannel']='string',_0x5abf22&&(_0x2b929a[_0x200b6d+('VertexColo'+'r')]='boolean',_0x2b929a[_0x200b6d+('VertexColo'+'rChannel')]='string')),_0x2b929a;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(-0x1fd0+0x12*-0x228+0x46a0),!(-0x107d+-0x11ed*0x2+0x3458)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0x1f3*-0x1+0x211d+-0x1*0x1f2a),!(0x2*0x608+-0x2485+0x1876)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x152+0x234e*0x1+0x21fb*-0x1)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x50e+-0xc38+0x72b)),'bumpiness':'number',...qe('normalDeta'+'il',!(-0x2b*0xc1+0x1089+-0x31*-0x53)),'normalDetailMapBumpiness':'number',...qe('height',!(0x133*0x1d+-0x1be3+-0x6e4),!(0x2294+-0x42e+-0x1e65)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let $a=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x2c0a17=>{this['_'+_0x2c0a17]=uh[_0x2c0a17]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x49ea18){return super['copy'](_0x49ea18),Object['keys'](uh)['forEach'](_0x54c09e=>{this[_0x54c09e]=_0x49ea18[_0x54c09e];}),this['userAttrib'+'utes']=new Map(_0x49ea18['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x250265,_0x54531c){this['userAttrib'+'utes']['set'](_0x54531c,_0x250265);}['_setParame'+'ter'](_0x1514a0,_0x9aa59f){$a['add'](_0x1514a0),this['setParamet'+'er'](_0x1514a0,_0x9aa59f);}['_setParame'+'ters'](_0x34f48d){_0x34f48d['forEach'](_0x411776=>{this['_setParame'+'ter'](_0x411776['name'],_0x411776['value']);});}['_processPa'+'rameters'](_0x309131){const _0x1c29eb=this[_0x309131];_0x1c29eb['forEach'](_0x3ba517=>{$a['has'](_0x3ba517)||delete this['parameters'][_0x3ba517];}),this[_0x309131]=$a,$a=_0x1c29eb,$a['clear']();}['_updateMap'](_0xabc30a){const _0x3c8151=_0xabc30a+'Map',_0x3650fd=this[_0x3c8151];if(_0x3650fd){this['_setParame'+'ter']('texture_'+_0x3c8151,_0x3650fd);const _0xf55ee9=_0x3c8151+'Transform',_0x115f1f=this['getUniform'](_0xf55ee9);_0x115f1f&&this['_setParame'+'ters'](_0x115f1f);}}['_allocUnif'+'orm'](_0x311152,_0x365a9c){let _0x6b71a7=this['_uniformCa'+'che'][_0x311152];return _0x6b71a7||(_0x6b71a7=_0x365a9c(),this['_uniformCa'+'che'][_0x311152]=_0x6b71a7),_0x6b71a7;}['getUniform'](_0x21ae7b,_0x419225,_0x5d27e1){return P0[_0x21ae7b](this,_0x419225,_0x5d27e1);}['updateUnif'+'orms'](_0x5a2a49,_0x5c9221){const _0x36e6c=_0x488f6e=>this['getUniform'](_0x488f6e,_0x5a2a49,_0x5c9221);this['_setParame'+'ter']('material_a'+'mbient',_0x36e6c('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x36e6c('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x1ede+0x220e+-0x40eb)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x36e6c('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x36e6c('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x36e6c('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0x2e*0x32+-0xd*-0xea+0x1*-0x2e6&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x17a1+0x8*-0x290+0x2c21&&this['emissive']['g']===-0x367*0x1+0x3+0x364*0x1&&this['emissive']['b']===0x10f3*0x2+-0x35d+-0x1e89&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x36e6c('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x5e1+0xede+-0x8fd&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x601*-0x5+0x25e1+-0x43e6&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x36e6c('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x2dd+-0x89*-0x1d+-0x1262?0xfb3+-0x2129+-0x1*-0x1176:(0x1a57+0x259f+0x923*-0x7)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x99*-0x17+-0x277*-0x8+-0x2176)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x36e6c('cubeMapPro'+'jectionBox'));for(const _0x11c757 in fa)this['_updateMap'](_0x11c757);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x36e6c('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x5a2a49,_0x5c9221);}['updateEnvU'+'niforms'](_0x1ae866,_0x8da4af){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x8da4af['envAtlas']&&_0x8da4af['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x8da4af['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x8da4af['skybox'])):_0x8da4af['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x8da4af['envAtlas']):_0x8da4af['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x8da4af['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0xa63214){const {device:_0x1e05c6,scene:_0x297f8a,pass:_0x55d403,objDefs:_0x34c2ae,sortedLights:_0x24cd7b,cameraShaderParams:_0x3f0785}=_0xa63214;this['updateEnvU'+'niforms'](_0x1e05c6,_0x297f8a);const _0x36024d=Ks['get'](_0x1e05c6)['getByIndex'](_0x55d403),_0x776ee9=_0x55d403===rl||_0x55d403===Oa||_0x55d403===il||_0x36024d['isShadow'];let _0x31a0da=_0x776ee9?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x31a0da['defines']=Dp(this,_0xa63214),_0x776ee9?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x31a0da,_0x297f8a,this,_0x34c2ae,_0x55d403,_0x24cd7b):this['shaderOptB'+'uilder']['updateRef'](_0x31a0da,_0x297f8a,_0x3f0785,this,_0x34c2ae,_0x55d403,_0x24cd7b),_0x31a0da['defines']['set']('TONEMAP',p0[_0x31a0da['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x31a0da=this['onUpdateSh'+'ader'](_0x31a0da));const _0x5f2f1a=new Yc(_0xa63214['viewUnifor'+'mFormat'],_0xa63214['viewBindGr'+'oupFormat'],_0xa63214['vertexForm'+'at']),_0x2e55cb=ka(_0x1e05c6);_0x2e55cb['register']('standard',Ed);const _0x5ee0e9=_0x2e55cb['getProgram']('standard',_0x31a0da,_0x5f2f1a,this['userId']);return this['_dirtyShad'+'er']=!(0xb1b*-0x2+0x1*-0x22f3+0x392a),_0x5ee0e9;}['destroy'](){for(const _0x3a4c92 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x3a4c92]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0xe62444,_0x18ec7a)=>{P0[_0xe62444]=_0x18ec7a;},Op=(_0x8451f7,_0x5d3a9f,_0xc860ec,_0x36b7c2)=>{Object['defineProp'+'erty'](cs['prototype'],_0x8451f7,{'get':_0x36b7c2||function(){return this['_'+_0x8451f7];},'set':_0xc860ec}),uh[_0x8451f7]={'value':_0x5d3a9f};},JC=_0x10f274=>{const _0x5628c2='_'+_0x10f274['name'],_0x1bc7b1=_0x10f274['dirtyShade'+'rFunc']||(()=>!(0x98f*-0x1+-0x259*0x3+-0xa*-0x1a9)),_0x1b075=function(_0x173996){const _0x2a83be=this[_0x5628c2];_0x2a83be!==_0x173996&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x1bc7b1(_0x2a83be,_0x173996),this[_0x5628c2]=_0x173996);};Op(_0x10f274['name'],()=>_0x10f274['defaultVal'+'ue'],_0x1b075,_0x10f274['getterFunc']);},eM=_0x3ce6c8=>{const _0x361ec4='_'+_0x3ce6c8['name'],_0x230a1b=_0x3ce6c8['dirtyShade'+'rFunc']||(()=>!(0xdcb*-0x1+-0x2197+0x2f62)),_0x5100a2=function(_0x1f367b){const _0x1e4881=this[_0x361ec4];_0x1e4881['equals'](_0x1f367b)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x230a1b(_0x1e4881,_0x1f367b),this[_0x361ec4]=_0x1e4881['copy'](_0x1f367b));};Op(_0x3ce6c8['name'],()=>_0x3ce6c8['defaultVal'+'ue']['clone'](),_0x5100a2,_0x3ce6c8['getterFunc']);},ts=_0x5f32e3=>_0x5f32e3['defaultVal'+'ue']&&_0x5f32e3['defaultVal'+'ue']['clone']?eM(_0x5f32e3):JC(_0x5f32e3);function Ge(_0x2cc673,_0xe1f047='rgb',_0x37def4=!(-0x905*-0x1+0x1a1c+-0x2321),_0x548078=0x19a3+0x1*0x2531+-0x3ed4){fa[_0x2cc673]=_0xe1f047['length']||-(0x1*0x19cb+0x2cd+0x233*-0xd),ts({'name':_0x2cc673+'Map','defaultValue':null,'dirtyShaderFunc':(_0x346090,_0x2d52d0)=>!!_0x346090!=!!_0x2d52d0||_0x346090&&(_0x346090['type']!==_0x2d52d0['type']||_0x346090['format']!==_0x2d52d0['format'])}),ts({'name':_0x2cc673+'MapTiling','defaultValue':new W(0x156c+-0x18c*0x2+-0x1*0x1253,-0x19bb*0x1+0x70c+0x5c*0x34)}),ts({'name':_0x2cc673+'MapOffset','defaultValue':new W(0x370+0x2388+-0x1d*0x158,-0x1*0x253a+-0x2540+0x4a7a)}),ts({'name':_0x2cc673+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x2cc673+'MapUv','defaultValue':_0x548078}),_0xe1f047&&(ts({'name':_0x2cc673+'MapChannel','defaultValue':_0xe1f047}),_0x37def4&&(ts({'name':_0x2cc673+('VertexColo'+'r'),'defaultValue':!(-0x21b5+-0x167e+0x3834)}),ts({'name':_0x2cc673+('VertexColo'+'rChannel'),'defaultValue':_0xe1f047})));const _0x451245=_0x2cc673+'MapTiling',_0x352bd2=_0x2cc673+'MapOffset',_0x1e182b=_0x2cc673+('MapRotatio'+'n'),_0x6aa60e=_0x2cc673+('MapTransfo'+'rm');Zc(_0x6aa60e,(_0x1427a2,_0xe9edb8,_0x1912d1)=>{const _0x20cd12=_0x1427a2[_0x451245],_0x589630=_0x1427a2[_0x352bd2],_0x1041bc=_0x1427a2[_0x1e182b];if(_0x20cd12['x']===0x1ed2+-0xd01*0x1+0x5*-0x390&&_0x20cd12['y']===0x169b+-0x17ea+0x150&&_0x589630['x']===0x1*0x165f+-0x8*-0x20f+-0x26d7&&_0x589630['y']===-0x1*0xbe9+-0x83a+-0x1423*-0x1&&_0x1041bc===0xf5f+-0x13c6+0x467)return null;const _0x329466=_0x1427a2['_allocUnif'+'orm'](_0x6aa60e,()=>[{'name':'texture_'+_0x6aa60e+'0','value':new Float32Array(-0x15bb+0x175d+-0x1*0x19f)},{'name':'texture_'+_0x6aa60e+'1','value':new Float32Array(-0x3*0x7d0+-0xd22+0x2495)}]),_0x18d864=Math['cos'](_0x1041bc*N['DEG_TO_RAD']),_0x423398=Math['sin'](_0x1041bc*N['DEG_TO_RAD']),_0x4ef6ed=_0x329466[0x21ef+0xe55+-0x3044]['value'];_0x4ef6ed[-0x2156+0x1368+0xdee]=_0x18d864*_0x20cd12['x'],_0x4ef6ed[-0x1e34+-0x18b*-0x16+0x3*-0x13f]=-_0x423398*_0x20cd12['y'],_0x4ef6ed[-0x204a+-0xd39+0x2d85]=_0x589630['x'];const _0x125409=_0x329466[-0x154f+0x1c21*0x1+-0x5*0x15d]['value'];return _0x125409[0x4a4*-0x4+0xef*-0x22+0x324e]=_0x423398*_0x20cd12['x'],_0x125409[-0x1*-0x60d+0x773+0x1*-0xd7f]=_0x18d864*_0x20cd12['y'],_0x125409[0xb6a+-0x1e0e+0x12a6]=-0x2d7*-0x7+-0x1*-0x204b+-0x342b-_0x20cd12['y']-_0x589630['y'],_0x329466;});}function Cn(_0x36f512,_0x4e7331){ts({'name':_0x36f512,'defaultValue':_0x4e7331,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x71*0x1+0x1*0x1003+-0xf92),this['_'+_0x36f512];}}),Zc(_0x36f512,(_0x9da0e3,_0x3bebed,_0x371a55)=>{const _0x2ddcc6=_0x9da0e3['_allocUnif'+'orm'](_0x36f512,()=>new Float32Array(-0x7e*-0x2f+-0x1*-0x119b+-0x28ba)),_0x3086e4=_0x9da0e3[_0x36f512];return Dl['linear'](_0x3086e4),_0x2ddcc6[0x11*0x31+0xb0c*-0x3+0x1de3]=Dl['r'],_0x2ddcc6[0x12c9+-0x1e*-0x31+0x92*-0x2b]=Dl['g'],_0x2ddcc6[0x564+-0x1*-0x22ed+0x11*-0x25f]=Dl['b'],_0x2ddcc6;});}function Ce(_0x507037,_0x342781,_0x3bfa68){ts({'name':_0x507037,'defaultValue':_0x342781,'dirtyShaderFunc':(_0x23c5ac,_0x4504d6)=>(_0x23c5ac===-0x6*-0x641+-0x6a0+-0x1ee6||_0x23c5ac===-0x29b*-0xb+-0x1af7+-0x1b1*0x1)!=(_0x4504d6===-0xd72+0x18a1+0x1*-0xb2f||_0x4504d6===0x44e+-0x14ff+-0x1*-0x10b2)}),Zc(_0x507037,_0x3bfa68);}function qa(_0x182cd4,_0x2c1fd7){ts({'name':_0x182cd4,'defaultValue':null,'dirtyShaderFunc':(_0x87026,_0x452680)=>!!_0x87026==!!_0x452680}),Zc(_0x182cd4,_0x2c1fd7);}function we(_0x2a3943,_0xc8f9c0){ts({'name':_0x2a3943,'defaultValue':_0xc8f9c0});}function tM(){Cn('ambient',new Y(-0x27*-0xe3+-0x1*-0x705+0x1*-0x2999,0xf53+-0x1563+0x611,0xcd5*-0x3+0x269+0x2417)),Cn('diffuse',new Y(-0x146e+0x3*-0xcd2+0x3ae5,0xf91+0x6d4+-0x1664,0x1*0xf5c+0x7f6*0x2+0xa6d*-0x3)),Cn('specular',new Y(-0x7*0x1d9+-0x11b*-0x1f+0x1556*-0x1,0x18df+-0x469*0x1+0x36*-0x61,-0x8f*-0x1d+0x1d9*-0xf+0xb84)),Cn('emissive',new Y(-0x1b*0x15c+-0x180+0x2634,-0x1ff*0x2+-0xb*0x301+0x2509,0xf01+-0x2b*-0x11+-0x11dc)),Cn('sheen',new Y(0x6ed+-0x6db+-0x11,-0x23d4+-0x3*-0xc03+-0x34,-0x30a*0x4+-0x43*0x91+0xc87*0x4)),Cn('attenuatio'+'n',new Y(0x26ca+-0x2b*-0x92+-0x3f4f,0x22aa+0x1*0x2391+-0x463a,-0x649*0x4+0x1625+0x300)),Ce('emissiveIn'+'tensity',-0xf88+-0x148e+-0x1*-0x2417),Ce('specularit'+'yFactor',0x10f*0x1+-0x1022+0xf14),Ce('sheenGloss',0x1*0x1c9f+0x1a5d+-0x36fc),Ce('gloss',-0xfb2+-0xed*-0x4+-0x1*-0xbfe+0.25),Ce('aoIntensit'+'y',0xd5b+-0x5ee+-0x76c),Ce('heightMapF'+'actor',0x1*0x6ad+-0x2*0x1fc+-0x2b4,(_0x4424de,_0x5177a3,_0x26e52e)=>_0x4424de['heightMapF'+'actor']*(0x2*0xd69+0x357+-0x1e29+0.025)),Ce('opacity',-0x5d*-0x49+-0x45e+-0x1626),Ce('alphaFade',0x135b+0x99f*0x3+-0x1*0x3037),Ce('alphaTest',-0xa78+0x1581+0x5*-0x235),Ce('bumpiness',0x1ea1*-0x1+0x1353+0xf*0xc1),Ce('normalDeta'+'ilMapBumpi'+'ness',-0x17b5+-0x4d3*-0x3+0x93d),Ce('reflectivi'+'ty',-0x1eae+0x1d0b+0x4*0x69),Ce('occludeSpe'+'cularInten'+'sity',0x1*0x1135+-0xd36*-0x2+-0x1*0x2ba0),Ce('refraction',-0x189e*0x1+-0x14e5+0x2d83),Ce('refraction'+'Index',(0x1*-0x12a3+0x41*0x5c+-0x4b8*0x1)/(-0x1c35+-0x187d*-0x1+0x3b9+0.5)),Ce('dispersion',0x2148+-0x3*-0xb93+-0x4401),Ce('thickness',-0x1def*0x1+0x9f*-0x3+0x1fcc),Ce('attenuatio'+'nDistance',0x218e*-0x1+-0x1*0xfbd+0x314b),Ce('metalness',-0x10cf+0x24a+-0x8f*-0x1a),Ce('anisotropy',0x15d6+0x1db1+-0x3387),Ce('clearCoat',0x2*0x4a8+0x3*0x4aa+-0x174e),Ce('clearCoatG'+'loss',-0xe00+-0x176*0xc+0x1f89),Ce('clearCoatB'+'umpiness',-0xfab+-0x1ab*-0x10+0x3*-0x3ac),Ce('aoUvSet',-0x1*0x5f2+-0x2682+0x2c74,null),Ce('iridescenc'+'e',-0x1157+0x2560+-0x1409*0x1),Ce('iridescenc'+'eRefractio'+'nIndex',(0xa9c*0x2+-0x876+-0x1*0xcc1)/(-0x5*0x5fc+-0x1f80+0x3d6d+0.5)),Ce('iridescenc'+'eThickness'+'Min',-0x10d8+-0x1041+0x2119),Ce('iridescenc'+'eThickness'+'Max',0x1c75+-0x143e*-0x1+-0x1*0x30b3),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x31fd43,_0x53805f,_0x58fb76)=>{const _0x4de718=_0x31fd43['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x26a7+-0x441*-0x1+-0x1*-0x2269)},{'name':'envBoxMax','value':new Float32Array(0x2*0x1024+0xc87*-0x3+0x110*0x5)}]),_0x437370=_0x31fd43['cubeMapPro'+'jectionBox']['getMin'](),_0x47394d=_0x4de718[-0x21*0xb3+-0x1d74+0x3487]['value'];_0x47394d[-0x18b8+0x1fb6+0x166*-0x5]=_0x437370['x'],_0x47394d[0x58*0x8+-0xa4c+0x78d*0x1]=_0x437370['y'],_0x47394d[0x1deb+0x10de*0x1+-0x19*0x1df]=_0x437370['z'];const _0x3263ff=_0x31fd43['cubeMapPro'+'jectionBox']['getMax'](),_0x45456a=_0x4de718[-0xcbc+0x6f9+0x5c4]['value'];return _0x45456a[0x4*0x57a+0x1c1f+-0x3207]=_0x3263ff['x'],_0x45456a[0x1de3+-0xe44+-0xf9e]=_0x3263ff['y'],_0x45456a[0x5*0x78e+0x1ea4*0x1+-0x4468]=_0x3263ff['z'],_0x4de718;}),we('specularTi'+'nt',!(0x1*0x6b9+0x1*0x234f+-0x2a07)),we('specularit'+'yFactorTin'+'t',!(-0x1a17+-0x623*-0x1+-0x13f5*-0x1)),we('useMetalne'+'ss',!(-0x1*0x23d2+-0x1*0x22da+0x25*0x1e9)),we('useMetalne'+'ssSpecular'+'Color',!(-0x1c0d+-0x8f7+-0x1b*-0x15f)),we('useSheen',!(0x1492+0x1*-0x6db+-0x2d*0x4e)),we('enableGGXS'+'pecular',!(-0x1418+0x1539+-0x120)),we('occludeDir'+'ect',!(0x16e+-0x1*-0x22c6+-0x2433)),we('opacityFad'+'esSpecular',!(0x21ba+0x265b+0x1*-0x4815)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(-0x1e49+0x5f8*0x6+0x7*-0xca)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(0x2685+-0xdfe+-0x1887)),we('useLightin'+'g',!(-0x555+0x225*0xb+-0x2*0x921)),we('useTonemap',!(-0x901+-0x1b83*-0x1+0x2e*-0x67)),we('useSkybox',!(0x18cf+0x3*-0x91d+0x288)),we('forceUv1',!(0x1*0x2542+0x1c40+-0x4181)),we('pixelSnap',!(-0xcbc+-0x659*-0x3+0x64e*-0x1)),we('twoSidedLi'+'ghting',!(0x13c1+0x6*-0x323+-0xee)),we('nineSliced'+'Mode',void(-0x52c*-0x2+0x1d*-0xad+0x941)),we('msdfTextAt'+'tribute',!(-0x1f13+-0x217d+-0x4091*-0x1)),we('useIridesc'+'ence',!(0x3d1+0x1*-0xd31+0x961)),we('glossInver'+'t',!(0x737+-0x8f4+-0x1be*-0x1)),we('sheenGloss'+'Invert',!(-0x1f*-0x8b+0x2048+-0x311c)),we('clearCoatG'+'lossInvert',!(0x24ec+0x2612+-0x4afd)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(-0x2418*0x1+0x15ef+0x25*0x62)),Ge('ao','g'),Ge('light','rgb',!(-0x39f+-0x2*0xed1+0x2141),-0x82d+0x186c+-0x103e),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(0x22db+0x1*-0x1d94+-0xa*0x87)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(-0x20b*-0xc+-0x3*-0x1e7+-0x78e*0x4)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0xb87b19=function(){return this['_prefilter'+'edCubemaps'];},_0x4f2fd3=function(_0xccaae5){const _0x1a0637=this['_prefilter'+'edCubemaps'];_0xccaae5=_0xccaae5||[];let _0x2241ae=!(0x24c6+-0x849*0x1+-0x2*0xe3e),_0x243794=!(0xd34+-0x25aa+0x1876);for(let _0x5716e7=-0x3e5*0x2+0x1*-0xced+-0x14b7*-0x1;_0x5716e7<0x184a+-0x2*0x11a3+0xb02;++_0x5716e7){const _0x596b0a=_0xccaae5[_0x5716e7]||null;_0x1a0637[_0x5716e7]!==_0x596b0a&&(_0x1a0637[_0x5716e7]=_0x596b0a,_0x2241ae=!(-0xc51+0x1c3f+-0x2*0x7f7)),_0x243794=_0x243794&&!!_0x1a0637[_0x5716e7];}_0x2241ae&&(_0x243794?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x1a0637,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0x1*0xb1+-0x4cd*-0x8+-0x5*0x78b));},_0x1cb942=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x1cb942['slice'](),_0x4f2fd3,_0xb87b19);}tM();const dt=class dt{static['render'](_0x557867,_0xc084fa){const _0xeff2a1=_0xc084fa['device'],_0x2d6894=_0x557867['cells'],_0x4cc52f=_0x557867['lightsBuff'+'er'],_0x557ab8=_0x4cc52f['boundsMin'],_0x214b2b=_0x4cc52f['boundsDelt'+'a'],_0x560e53=_0x557ab8['clone']()['add'](_0x214b2b),_0x4774ff=_0x4cc52f['boundsDelt'+'a']['clone']()['div'](_0x2d6894),_0x507887=dt['gridPositi'+'ons'],_0x1b29cd=dt['gridColors'],_0x1600c3=new Y(0xd*0x53+0xb*-0x1f2+0x35*0x53+0.3,-0xdab*-0x2+0x1*-0x1059+-0x61*0x1d+0.3,-0x1857+-0x621+0x1e78+0.3),_0x329b78=(_0x12a0ce,_0x5962c0,_0x52af5e,_0x4ef811,_0x537329,_0x4038b2,_0x5ac89d,_0x5a726d,_0x23d3e2)=>{for(let _0x4d9333=-0x1*0x255f+0x2*0x27b+-0x2069*-0x1;_0x4d9333<=_0x12a0ce;_0x4d9333++)for(let _0x118cc7=0x22fd*0x1+0x2397+-0x4694;_0x118cc7<=_0x5962c0;_0x118cc7++){const _0x584f03=_0x52af5e+_0x4d9333*_0x4ef811,_0x2fbe91=_0x537329+_0x118cc7*_0x4038b2;_0x23d3e2===-0x53*-0x63+-0x1c15+-0x404?_0x507887['push'](_0x584f03,_0x5ac89d,_0x2fbe91,_0x584f03,_0x5a726d,_0x2fbe91):_0x23d3e2===0x1bb3+-0x863+-0x134f?_0x507887['push'](_0x584f03,_0x2fbe91,_0x5ac89d,_0x584f03,_0x2fbe91,_0x5a726d):_0x23d3e2===0x1*-0x1c0a+0x65f+0xb3*0x1f&&_0x507887['push'](_0x5ac89d,_0x584f03,_0x2fbe91,_0x5a726d,_0x584f03,_0x2fbe91);}};if(_0x329b78(_0x2d6894['x'],_0x2d6894['z'],_0x557ab8['x'],_0x4774ff['x'],_0x557ab8['z'],_0x4774ff['z'],_0x557ab8['y'],_0x560e53['y'],-0x209e+-0x1e7*-0x5+0x1*0x171b),_0x329b78(_0x2d6894['x'],_0x2d6894['y'],_0x557ab8['x'],_0x4774ff['x'],_0x557ab8['y'],_0x4774ff['y'],_0x557ab8['z'],_0x560e53['z'],-0x8a9+0x3e0+0x4ca),_0x329b78(_0x2d6894['y'],_0x2d6894['z'],_0x557ab8['y'],_0x4774ff['y'],_0x557ab8['z'],_0x4774ff['z'],_0x557ab8['x'],_0x560e53['x'],-0x7*-0xf3+0x1656+-0x1cf9),_0x507887['length']){const _0x201604=_0x507887['length']/(0x1*0x1c9c+-0x2371+0x49*0x18);if(_0x201604!==_0x1b29cd['length']/(-0x1487+-0xb*0xda+0x1de9)){_0x1b29cd['length']=-0x23*0x1+-0x17f6+-0x1819*-0x1;for(let _0x390940=-0x10f0+0xae2+0x60e;_0x390940<_0x201604;_0x390940++)_0x1b29cd['push'](_0x1600c3['r'],_0x1600c3['g'],_0x1600c3['b'],_0x1600c3['a']);}_0xc084fa['drawLineAr'+'rays'](_0x507887,_0x1b29cd),_0x507887['length']=-0xf6+0x20d1+-0x1fdb;}let _0x56f8f1=dt['mesh'];_0x56f8f1||(_0x56f8f1=new Ie(_0xeff2a1),_0x56f8f1['clear'](!(-0x4d0+-0x4ec+0x9bc),!(0x3b*0x7f+0x915+-0x2*0x132d)),dt['mesh']=_0x56f8f1);const _0x479c48=[],_0x17964e=[],_0x5d4e59=[],_0x862ca2=_0x557867['_cells']['x'],_0x4ba45a=_0x557867['_cells']['z'],_0x54dfc7=_0x557867['counts'],_0x32118c=_0x557867['_maxCellLi'+'ghtCount'],_0x291c8e=new T(),_0x342d9b=new T(),_0xa4d4eb=new T(),_0x5cc4b3=_0x214b2b['clone']()['div'](_0x2d6894);let _0x5afc54=0x8a1*0x4+0x1*-0x1119+-0x116b;for(let _0x80037=0x1*-0xc69+0x428*0x8+-0x14d7;_0x80037<_0x2d6894['x'];_0x80037++)for(let _0x113066=-0x1*0x1139+-0x21a4+0x32dd;_0x113066<_0x2d6894['z'];_0x113066++)for(let _0x5f00dc=0x173*-0x1+-0x1285*-0x1+-0x1112;_0x5f00dc<_0x2d6894['y'];_0x5f00dc++){const _0x24b2cb=_0x80037+_0x862ca2*(_0x113066+_0x5f00dc*_0x4ba45a),_0x245863=_0x54dfc7[_0x24b2cb];if(_0x245863>-0x8ef+-0x9f8+0x12e7){_0x291c8e['x']=_0x557ab8['x']+_0x5cc4b3['x']*_0x80037,_0x291c8e['y']=_0x557ab8['y']+_0x5cc4b3['y']*_0x5f00dc,_0x291c8e['z']=_0x557ab8['z']+_0x5cc4b3['z']*_0x113066,_0x342d9b['add2'](_0x291c8e,_0x5cc4b3),_0x479c48['push'](_0x291c8e['x'],_0x291c8e['y'],_0x342d9b['z']),_0x479c48['push'](_0x342d9b['x'],_0x291c8e['y'],_0x342d9b['z']),_0x479c48['push'](_0x342d9b['x'],_0x342d9b['y'],_0x342d9b['z']),_0x479c48['push'](_0x291c8e['x'],_0x342d9b['y'],_0x342d9b['z']),_0x479c48['push'](_0x342d9b['x'],_0x291c8e['y'],_0x291c8e['z']),_0x479c48['push'](_0x291c8e['x'],_0x291c8e['y'],_0x291c8e['z']),_0x479c48['push'](_0x291c8e['x'],_0x342d9b['y'],_0x291c8e['z']),_0x479c48['push'](_0x342d9b['x'],_0x342d9b['y'],_0x291c8e['z']),_0xa4d4eb['lerp'](dt['colorLow'],dt['colorHigh'],_0x245863/_0x32118c)['round']();for(let _0x4e26c8=0x75*0x16+-0x2571+-0x39*-0x7b;_0x4e26c8<0x19c5+-0x1*0x1c36+-0x3*-0xd3;_0x4e26c8++)_0x17964e['push'](_0xa4d4eb['x'],_0xa4d4eb['y'],_0xa4d4eb['z'],-0x13bf+0x8*0x4cf+-0x95c*0x2);_0x5d4e59['push'](_0x5afc54*(0xa84+-0xf*-0x8b+-0x12a1)+(0x1c10+-0x17*0xd8+-0x8a8),_0x5afc54*(-0x11d9+-0x1d07+-0x26*-0x13c)+(0xde*-0x4+0x15a*-0x6+0xb95),_0x5afc54*(0x2f*0x5e+0xa*0x391+-0x34e4)+(-0x178e+0x1c*-0x119+0x364d)),_0x5d4e59['push'](_0x5afc54*(0x1415*0x1+-0x1*-0x201d+-0x16*0x25f)+(-0x29*0xf1+0x1*0x24ba+0x1e2),_0x5afc54*(-0x9de*0x2+0xf*0x15c+-0xa0)+(0x16c3+-0x6f*0x54+-0x42*-0x35),_0x5afc54*(0x1147*-0x1+0x14f2+-0x3a3)+(0xc96+0x671+-0x1305)),_0x5d4e59['push'](_0x5afc54*(-0x20c3*0x1+0x25ac*-0x1+0x35b*0x15)+(-0x1756+-0x88*0x47+0x3d12),_0x5afc54*(0x1659+-0x8f9*0x2+-0x45f)+(0x763+0xf40+-0x169e),_0x5afc54*(0x158d+-0xd78+-0x80d)+(-0xb*0x20a+-0x7*0x35b+0x2df2)),_0x5d4e59['push'](_0x5afc54*(0x2f5*0x5+-0x5b7+-0x90a)+(-0x1aa3+-0x33b*0x1+0x1de5*0x1),_0x5afc54*(-0x139a+-0x121*-0x4+0xf1e)+(0x114+-0x19bb+0x18ac),_0x5afc54*(0x202*0x7+0xd67+0x7*-0x3eb)+(-0x1*0xbba+-0x1ff1+0x1*0x2bb1)),_0x5d4e59['push'](_0x5afc54*(-0x1996+0x402*-0x9+0x2*0x1ed8)+(-0x26*0x97+-0x49*0x52+-0x3*-0xf45),_0x5afc54*(-0xd*0x1cc+-0x2f0+0x1a54)+(-0x11*-0x161+-0x73*-0x43+-0x3588*0x1),_0x5afc54*(-0x1a3*-0xe+-0x1921+0x1*0x23f)+(0x3*0x296+-0x8c3*0x2+-0x9ca*-0x1)),_0x5d4e59['push'](_0x5afc54*(-0x20c+-0x1*0xcca+-0x1*-0xede)+(0x21dd+0x1*0x955+-0x1598*0x2),_0x5afc54*(-0xb3b+-0xa8+-0x9*-0x153)+(-0x1f9b+-0x1*0x182b+0x1*0x37cd),_0x5afc54*(-0x1*-0x88d+-0x47*0x71+0x16d2)+(-0x24e2*0x1+0xc9*-0x2f+-0x49cf*-0x1)),_0x5d4e59['push'](_0x5afc54*(-0x91*-0x7+0x14f7*-0x1+0x1108)+(0x2368+0x81*-0x29+0x4a*-0x33),_0x5afc54*(-0x1631+-0x17*0xa7+-0x253a*-0x1)+(-0x1*0x13ed+-0xa*-0x10c+-0x327*-0x3),_0x5afc54*(0xa7*-0x1f+0x1f67+-0xb26)+(0xfd4*0x2+0x2065+-0x4009)),_0x5d4e59['push'](_0x5afc54*(-0x1453+0x2609+-0x11ae)+(-0x11a9+0x4*-0x385+0x1fbd*0x1),_0x5afc54*(-0x15c7+0x6b9+0xf16)+(-0x862+-0x14d*0x1+0x9b4),_0x5afc54*(-0x16b4+0x13*-0x1b1+0x36df)+(0x1966+-0x1*-0x79c+-0x20fe)),_0x5d4e59['push'](_0x5afc54*(-0x60a*0x4+-0x22a1+-0x2cd*-0x15)+(-0xae*-0x1f+0x1d9a+0x6d*-0x77),_0x5afc54*(0x24d7*-0x1+0x1e1f+-0x8*-0xd8)+(-0x1*0x18d3+-0x31*0xad+-0x2*-0x1cfa),_0x5afc54*(0x1*-0x5d5+-0x4*-0x542+-0xf2b*0x1)+(0x4d*0xa+-0x2209*-0x1+-0x2509)),_0x5d4e59['push'](_0x5afc54*(-0xcbe*-0x1+0x1f89*-0x1+0x12d3)+(0x941*0x2+0x1f18+-0x3196),_0x5afc54*(0x863*0x1+0x1f6*0x4+-0xb*0x179)+(-0x13*-0xf+0xaef*0x2+-0x16f4),_0x5afc54*(-0x1e07+0xa4e*0x2+-0x29*-0x3b)+(0x118f+0x775+-0x1902)),_0x5d4e59['push'](_0x5afc54*(0x1a37+0x326+-0x1*0x1d55)+(-0xfc5+0x2*-0x1085+0x30d4),_0x5afc54*(-0x2673+0x1d8+0x24a3)+(0x1f0f+0x1*-0x1528+0xc3*-0xd),_0x5afc54*(0xea2*-0x1+-0x160d*-0x1+-0x763)+(0x19c6+-0x349*0x8+0x88)),_0x5d4e59['push'](_0x5afc54*(0x1*0x23b7+0x5a4+-0x2953)+(-0x9c3+-0x20b8+-0x3*-0xe29),_0x5afc54*(0xb*-0x101+-0x697+0x11aa)+(-0x1e17+-0x1*-0x11ed+0xc2d),_0x5afc54*(0x2*-0x70+-0x8*0x36c+0x14*0x16a)+(-0x12ff+0x4*-0x78d+0x3139)),_0x5afc54++;}}if(_0x5afc54){if(_0x56f8f1['setPositio'+'ns'](_0x479c48),_0x56f8f1['setColors3'+'2'](_0x17964e),_0x56f8f1['setIndices'](_0x5d4e59),_0x56f8f1['update'](Ms,!(0x2256+-0x1c97+-0x5be)),!dt['meshInstan'+'ce']){const _0x319160=new cs();_0x319160['useLightin'+'g']=!(0x2*0xbcf+0x67*-0x5+0x46*-0x4f),_0x319160['emissive']=new Y(0x3b*-0x39+0x22fb+0x15d7*-0x1,-0x2*0xa7b+0x181f+0x65*-0x8,0x1a6a+-0x52*0xd+-0x163f*0x1),_0x319160['emissiveVe'+'rtexColor']=!(-0x18ae+0x162e+0x280),_0x319160['blendType']=Hc,_0x319160['depthWrite']=!(0x2*0x407+-0xa0d+0x200),_0x319160['update']();const _0xaf4aca=new De('WorldClust'+'ersDebug');_0xaf4aca['worldTrans'+'form']=q['IDENTITY'],_0xaf4aca['_dirtyWorl'+'d']=_0xaf4aca['_dirtyNorm'+'al']=!(-0x2148+0x115*-0x10+0x3299),dt['meshInstan'+'ce']=new Le(_0x56f8f1,_0x319160,_0xaf4aca),dt['meshInstan'+'ce']['cull']=!(0x1165+0x5fc+-0x1760);}const _0x165227=dt['meshInstan'+'ce'];_0xc084fa['immediate']['drawMesh'](_0x165227['material'],_0x165227['node']['worldTrans'+'form'],null,_0x165227,_0xc084fa['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(-0x2*0x329+-0x22da+0x292d,-0xe2a+0x1fa2*-0x1+0x2dcd,0x6c*0x2+0xa*0x209+-0x1*0x1531)),c(dt,'colorHigh',new T(-0x20d7*-0x1+-0x17b9+-0x3e*0x25,-0x1099+0x26fe+-0x1665,-0x67*0xc+0x1e5a+-0x63*0x42));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x3da25a=atob(sM);vi=Uint8Array['from'](_0x3da25a,_0x2d2cb1=>_0x2d2cb1['charCodeAt'](0xc25+-0x2521+0x18fc));}},iM=()=>(R0(),vi);class rM{constructor(_0xd945fa=-0x2141+0x97c+0x17c5){c(this,'seed',0x1*-0x1005+0xa77+0x58e),(this['seed']=_0xd945fa*(-0x1*0xa3d+0xeae+-0x46d*0x1),R0());}['_next'](){this['seed']=(this['seed']+(-0x2492*-0x1+0x2*0x293+-0x29b4))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(0x3df*0x1+0x137f*-0x1+0x109f);}['vec4'](_0x498987=new Q()){return this['_next'](),_0x498987['set'](vi[this['seed']],vi[this['seed']+(0x25e2+0xe*-0x229+-0x7a3)],vi[this['seed']+(0xcd7*-0x3+0x137*0x17+0xa96)],vi[this['seed']+(-0x35c+-0x6f1*-0x3+0x1*-0x1174)])['mulScalar']((0x9d+0x2ff*-0x2+0x562)/(-0x3*0x2f5+0x7*0x139+0x14f));}}const nM=[new T(-(-0x1*-0x1391+0x1*-0xc2f+0x1*-0x761),0x3cc+0x17f3+0x1bbf*-0x1,-0xdd5*0x1+0x165c+-0x887),new T(0x7d+0x1c9e+-0x1d1a,0x1*-0xd77+0x239f+-0x1628,0xd9*0x11+-0x1683+0x81a),new T(-0x5aa+0x22d*0xf+-0x1*0x1af9,-(0x1*-0x91f+-0x1632+0x1f52),0x20d4+0x1*0x1171+-0x2f5*0x11),new T(0x3*0x383+0x10+0xa99*-0x1,0xc*-0x2a5+0x4f*0x6d+0x9*-0x36,-0x1022+-0xe3*0x1b+0x1*0x2813),new T(0x11f5+0xd1*0x1b+-0x2800,0x1864+-0x6a*-0x3a+0x1*-0x3068,-(-0x244f+-0xdf5+-0x2f5*-0x11)),new T(0x132d+0x1a9b+0x928*-0x5,0x105f*0x1+-0x9b*-0x3b+-0x1a0c*0x2,0x1093+-0x129e+0x20c)];class aM{constructor(){c(this,'colors',new Float32Array((-0x5*-0x236+-0x1*0x1df9+0x12f1)*(0x2012+0x18dc+-0x38eb)));}['update'](_0x269ab5,_0x32bd7a){const _0x597bf5=this['colors'],{r:_0x2707ed,g:_0x456c55,b:_0x2300b5}=_0x269ab5;for(let _0x2546f8=0x872+0x1524+-0xe*0x21d;_0x2546f8<-0x2*0x135e+-0x12+0x136a*0x2;_0x2546f8++)_0x597bf5[_0x2546f8*(-0x615+-0x455*0x1+0xa6d)]=_0x2707ed,_0x597bf5[_0x2546f8*(0x9*-0x1+0x1*0x137f+-0x1373)+(0x146*-0x1a+0x2705+-0x2*0x2f4)]=_0x456c55,_0x597bf5[_0x2546f8*(0x15c5+0x438+0x5*-0x532)+(-0x7*-0x54a+0xa62+-0x2f66)]=_0x2300b5;for(let _0x79bdde=0x1a93+-0xd99*0x1+-0xcfa;_0x79bdde<_0x32bd7a['length'];_0x79bdde++){const _0x5e2f21=_0x32bd7a[_0x79bdde];if(_0x5e2f21['_type']===oe)for(let _0x4f5f89=0x791*0x5+0x2209*-0x1+-0x3cc;_0x4f5f89<0xf1*0x1+-0xf6d*-0x2+-0x1fc5;_0x4f5f89++){const _0x301706=Math['max'](nM[_0x4f5f89]['dot'](_0x5e2f21['_direction']),0x1*-0x749+-0xfe3+0x172c)*_0x5e2f21['_intensity'],_0x1f94b8=_0x5e2f21['_color'];_0x597bf5[_0x4f5f89*(-0x543*-0x1+0xcf3+0x611*-0x3)]+=_0x1f94b8['r']*_0x301706,_0x597bf5[_0x4f5f89*(0x1ba6+0x1fc1*0x1+0x13cc*-0x3)+(-0x1501+-0x247*0x4+0x1*0x1e1e)]+=_0x1f94b8['g']*_0x301706,_0x597bf5[_0x4f5f89*(0x71e*-0x1+0x1*0x1629+-0x784*0x2)+(-0x1f39+0x515+0x1a26)]+=_0x1f94b8['b']*_0x301706;}}}}const oM=(_0x13c928,_0x36d31b,_0x300465,_0x3f0557)=>{const _0x593459=new he(_0x13c928,{'name':''+_0x36d31b+_0x300465,'width':_0x300465,'height':_0x300465,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x1*0x119+0xa5+0x75)});return _0x593459['lock']()['set'](_0x3f0557),_0x593459['unlock'](),_0x593459;},lM=new Ot(),hM=_0x5e0fd0=>lM['get'](_0x5e0fd0,()=>{const _0x1f9760=iM(),_0x3a3c91=Math['sqrt'](_0x1f9760['length']/(-0x56*0x15+-0x87b+0xf8d));return oM(_0x5e0fd0,'BlueNoise',_0x3a3c91,_0x1f9760);});class un{constructor(_0x248014,_0x599aed){this['texture']=_0x248014,this['cached']=!(-0x10f0+0x174f+0x2*-0x32f),this['renderTarg'+'ets']=_0x599aed;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x5abd2b=this['renderTarg'+'ets'];for(let _0x1d95ee=-0x25*-0x89+0x1*0x65b+0x2*-0xd14;_0x1d95ee<_0x5abd2b['length'];_0x1d95ee++)_0x5abd2b[_0x1d95ee]['destroy']();this['renderTarg'+'ets']['length']=-0x22ed+0x207d+0x270;}static['getShadowF'+'iltering'](_0xe80c23,_0x4df114){return _0x4df114===Wr?_0xe80c23['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x34d77b,_0x2e918f){let _0x533def=null;return _0x2e918f['_type']===Pe?_0x533def=this['createCube'+'map'](_0x34d77b,_0x2e918f['_shadowRes'+'olution'],_0x2e918f['_shadowTyp'+'e']):_0x533def=this['create2dMa'+'p'](_0x34d77b,_0x2e918f['_shadowRes'+'olution'],_0x2e918f['_shadowTyp'+'e']),_0x533def;}static['createAtla'+'s'](_0x876f4b,_0x50fc5c,_0x4f0b02){const _0xc40ae=this['create2dMa'+'p'](_0x876f4b,_0x50fc5c,_0x4f0b02),_0x3f4c57=_0xc40ae['renderTarg'+'ets'],_0x55d7b7=_0x3f4c57[0xb22+-0x1e4b+0x1329];for(let _0x49573d=0x1*-0xfad+-0xa8d+-0xd1d*-0x2;_0x49573d<0x2*-0xe4b+-0x10*-0x1f3+-0x295;_0x49573d++)_0x3f4c57['push'](_0x55d7b7);return _0xc40ae;}static['create2dMa'+'p'](_0x7031e7,_0x3ee3e3,_0x5058f5){var _0x538fad;const _0x4da7d1=ir['get'](_0x5058f5);v['assert'](_0x4da7d1);let _0x246cf6=_0x4da7d1['format'];_0x246cf6===Ii&&!_0x7031e7['textureFlo'+'atRenderab'+'le']&&_0x7031e7['textureHal'+'fFloatRend'+'erable']&&(_0x246cf6=Ec);const _0x444ec8=(_0x538fad=xt['get'](_0x246cf6))==null?void(0x8*-0x430+0x1ada+0x6a6):_0x538fad['name'],_0x30d80f=this['getShadowF'+'iltering'](_0x7031e7,_0x5058f5),_0x471b57=new he(_0x7031e7,{'profilerHint':Tu,'format':_0x246cf6,'width':_0x3ee3e3,'height':_0x3ee3e3,'mipmaps':!(0xc9*-0x17+-0x11f8*0x2+-0x60*-0x90),'minFilter':_0x30d80f,'magFilter':_0x30d80f,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x444ec8});let _0x4a8c02=null;return _0x4da7d1!=null&&_0x4da7d1['pcf']?(_0x471b57['compareOnR'+'ead']=!(0x1e8*-0x7+0x3*-0x39b+0x1829),_0x471b57['compareFun'+'c']=Eh,_0x4a8c02=new pt({'depthBuffer':_0x471b57})):_0x4a8c02=new pt({'colorBuffer':_0x471b57,'depth':!(-0x1a08+0x10f*0x22+-0x9f6)}),_0x7031e7['isWebGPU']&&(_0x4a8c02['flipY']=!(0x365*0x1+0x43*0x1+0x75*-0x8)),new un(_0x471b57,[_0x4a8c02]);}static['createCube'+'map'](_0x3be83b,_0x3139a4,_0x19700f){var _0x1f5af4;const _0x2e6be2=ir['get'](_0x19700f);v['assert'](_0x2e6be2);const _0x557160=(_0x1f5af4=xt['get'](_0x2e6be2['format']))==null?void(-0x233+-0xc86+0xeb9):_0x1f5af4['name'],_0x247ff6=_0x19700f===Ts,_0x3252d7=_0x247ff6?de:st,_0x1104a9=new he(_0x3be83b,{'profilerHint':Tu,'format':_0x2e6be2==null?void(0x1af*-0x2+-0x1*-0xb38+0x43*-0x1e):_0x2e6be2['format'],'width':_0x3139a4,'height':_0x3139a4,'cubemap':!(-0x1*0x529+0x2cd+0x25c),'mipmaps':!(-0x495*-0x1+-0x11b1+0xd1d),'minFilter':_0x3252d7,'magFilter':_0x3252d7,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x557160});_0x247ff6||(_0x1104a9['compareOnR'+'ead']=!(-0x4a9*-0x5+0x1c1*-0x9+-0x784),_0x1104a9['compareFun'+'c']=Eh);const _0x44f8cd=[];for(let _0x5c7add=-0xa1b*0x3+0x1f63+0x112*-0x1;_0x5c7add<-0x13*0x1b1+-0xf59*0x1+0x2f82;_0x5c7add++)_0x247ff6?_0x44f8cd['push'](new pt({'colorBuffer':_0x1104a9,'face':_0x5c7add,'depth':!(0x8c1+-0x1749+-0x3a2*-0x4)})):_0x44f8cd['push'](new pt({'depthBuffer':_0x1104a9,'face':_0x5c7add}));return new un(_0x1104a9,_0x44f8cd);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x2ab56a){this['size']=Math['floor'](_0x2ab56a['w']*(-0x1*-0xe9a+-0x1f9d*0x1+0x1503)),this['used']=!(-0xb92*0x2+0x2*-0x79b+0x443*0x9),this['lightId']=-(0x9ed+-0x12c4*-0x2+-0x2f74),this['rect']=_0x2ab56a;}}class uM{constructor(_0x2d4347){this['device']=_0x2d4347,this['version']=0x10f8+-0x2e3*-0x1+0x2a*-0x79,this['shadowAtla'+'sResolutio'+'n']=-0xf78*-0x1+-0x2ac+-0x4cc,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0xd5*-0xc+-0xeaa*-0x1+-0x18a3,this['cookieAtla'+'sResolutio'+'n']=0x1*0x1853+0x1b91+-0xa*0x530,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(0x1a*0x6d+0x1f04+-0x85*0x51),'mipmaps':!(-0x2b*-0xc5+-0x11d2*-0x2+-0x44ba),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x101*-0xb+0x1*0x1e7f+-0x1373*0x1),'flipY':!(0x2166+-0x18c+-0x1fda)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(-0x430*-0x3+0x1d75*-0x1+0x10e5,0x2ab*0x5+-0x229*0x3+-0x36e*0x2),new W(0x1fe4+-0x124b+-0x3b*0x3b,0x9cf+0x19b4+0x12*-0x1f9),new W(-0x1b3+-0x3*-0x875+-0x1*0x17ab,0x3*0xa34+-0x3b0+-0x1aec),new W(-0x9*0x41f+-0x1109+0x5d*0x95,0x7b4+-0xc90+0xf9*0x5),new W(-0xf8c+-0x1*0x1857+-0x7*-0x5b3,-0xd3*-0x1d+-0x739*0x2+-0x975),new W(0x1*0x1093+-0xebf+-0x2*0xe9,0x5*0x6df+0x100b+-0x733*0x7)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0x25b5*-0x1+0xcbc+0x18fa),this['allocateCo'+'okieAtlas'](0x14a9+-0x1392+-0x116),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x533032;(_0x533032=this['shadowAtla'+'s'])==null||_0x533032['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0xe05aa8,_0x2b1eec;(_0xe05aa8=this['cookieAtla'+'s'])==null||_0xe05aa8['destroy'](),this['cookieAtla'+'s']=null,(_0x2b1eec=this['cookieRend'+'erTarget'])==null||_0x2b1eec['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x4d0d46,_0x57472b=Dt){var _0x5995b0;const _0x55ad0f=(_0x5995b0=this['shadowAtla'+'s'])==null?void(0x3*0x40f+-0xfe9+0x3bc):_0x5995b0['texture']['format'],_0x5c17d4=ir['get'](_0x57472b)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x4d0d46||_0x55ad0f!==_0x5c17d4){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x4d0d46,_0x57472b),this['shadowAtla'+'s']['cached']=!(-0x5eb+0x1*-0x198e+0x1f79);const _0x2f351f=(-0x13c4+-0x76+0x143e)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x2f351f,_0x2f351f,-(-0x13*0xe5+-0x510+0x1611)*_0x2f351f,-(0x31*0x21+0x12ac+-0x18fb)*_0x2f351f);}}['allocateCo'+'okieAtlas'](_0x274247){this['cookieAtla'+'s']['width']!==_0x274247&&(this['cookieRend'+'erTarget']['resize'](_0x274247,_0x274247),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x1bb*0x14+0xbd3+0x16cb),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x4922e3=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x1*-0x2185+-0x2066+0x11f*-0x1]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x4922e3),this['_shadowAtl'+'asParams'][-0xc4a+-0x2da*0xa+0x6cd*0x6]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x943+0x26*0x98+-0xd4c]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x1e2e3b,_0x464549){let _0x1646f6=_0x464549['atlasSplit'];if(!_0x1646f6){const _0x447805=Math['ceil'](Math['sqrt'](_0x1e2e3b));_0x1646f6=dM,_0x1646f6[0x1117+0x12f8*0x1+-0x240f]=_0x447805,_0x1646f6['length']=-0x1dd6+0x16a5*0x1+0x732*0x1;}if(!((_0x4f8a6c,_0x1f9421)=>_0x4f8a6c['length']===_0x1f9421['length']&&_0x4f8a6c['every']((_0x57ecf8,_0x35185c)=>_0x57ecf8===_0x1f9421[_0x35185c]))(_0x1646f6,this['atlasSplit'])){this['version']++,this['slots']['length']=0x1b9b*-0x1+0x1e2b+0x148*-0x2,this['atlasSplit']['length']=0x15c4+0x1*0x17b4+-0x6*0x794,this['atlasSplit']['push'](..._0x1646f6);const _0x1879ed=this['atlasSplit'][0x3*-0x6f7+0x8db*-0x3+0x2f76];if(_0x1879ed>0x373*0x2+0x1f3*-0xd+0x1272){const _0x2d11cf=(0x67*-0x5+-0x2da+0x1*0x4de)/_0x1879ed;for(let _0x2224b2=-0xd*-0xde+-0x177e+0xc38;_0x2224b2<_0x1879ed;_0x2224b2++)for(let _0x73970c=0x211c+-0x1*-0x12b7+-0x33d3;_0x73970c<_0x1879ed;_0x73970c++){const _0x38d284=new Q(_0x2224b2*_0x2d11cf,_0x73970c*_0x2d11cf,_0x2d11cf,_0x2d11cf),_0x152300=this['atlasSplit'][-0x3*-0x21d+-0x1dcc+-0x2*-0xbbb+_0x2224b2*_0x1879ed+_0x73970c];if(_0x152300>-0x1575+0x163d+0x1*-0xc7){for(let _0x4bbfcd=-0xce*0x1+0x725*-0x1+-0x197*-0x5;_0x4bbfcd<_0x152300;_0x4bbfcd++)for(let _0x2764bd=0x262+0x11fb+-0x145d;_0x2764bd<_0x152300;_0x2764bd++){const _0xf540c1=_0x2d11cf/_0x152300,_0x47b264=new Q(_0x38d284['x']+_0x4bbfcd*_0xf540c1,_0x38d284['y']+_0x2764bd*_0xf540c1,_0xf540c1,_0xf540c1);this['slots']['push'](new Md(_0x47b264));}}else this['slots']['push'](new Md(_0x38d284));}}else this['slots']['push'](new Md(new Q(-0x1d8d+0x9*0x291+-0x1*-0x674,0x6*0x325+-0x154b+0x26d,-0xf78+-0x26ec+0x3665,-0x1383+0x13*-0x95+0x3*0xa31)));this['slots']['sort']((_0x1fcdb7,_0x43a873)=>_0x43a873['size']-_0x1fcdb7['size']);}}['collectLig'+'hts'](_0x1a650e,_0x245c54){const _0x5f2de9=_0x245c54['cookiesEna'+'bled'],_0x43e1a6=_0x245c54['shadowsEna'+'bled'];let _0x36c03d=!(0x164c+-0x14be+-0x1*0x18d),_0x2f87e4=!(-0x1f1+-0x2b4*-0x4+-0x8de);const _0x2331cc=cM;return _0x2331cc['length']=0x184a+-0x11d7*-0x1+-0x2a21,(_0x5f2de9||_0x43e1a6)&&(_0x50dd8c=>{for(let _0x16beae=0x10eb+0x1*0x1a2f+0x3*-0xe5e;_0x16beae<_0x50dd8c['length'];_0x16beae++){const _0x35cbe7=_0x50dd8c[_0x16beae];if(_0x35cbe7['visibleThi'+'sFrame']){const _0x421360=_0x43e1a6&&_0x35cbe7['castShadow'+'s'],_0x2ffa1b=_0x5f2de9&&!!_0x35cbe7['cookie'];_0x36c03d||(_0x36c03d=_0x421360),_0x2f87e4||(_0x2f87e4=_0x2ffa1b),(_0x421360||_0x2ffa1b)&&_0x2331cc['push'](_0x35cbe7);}}})(_0x1a650e),_0x2331cc['sort']((_0x2f1bb7,_0x349611)=>_0x349611['maxScreenS'+'ize']-_0x2f1bb7['maxScreenS'+'ize']),_0x36c03d&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x245c54['shadowType']),_0x2f87e4&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x36c03d||_0x2f87e4)&&this['subdivide'](_0x2331cc['length'],_0x245c54),_0x2331cc;}['setupSlot'](_0x9a1ff0,_0x42bea6){_0x9a1ff0['atlasViewp'+'ort']['copy'](_0x42bea6);const _0x195207=_0x9a1ff0['numShadowF'+'aces'];for(let _0x13907a=0x5af+0x17*-0x16a+0x1ad7;_0x13907a<_0x195207;_0x13907a++)if(_0x9a1ff0['castShadow'+'s']||_0x9a1ff0['_cookie']){if(Js['copy'](_0x42bea6),Cd['copy'](_0x42bea6),_0x9a1ff0['_type']===Re&&Js['add'](this['scissorVec']),_0x9a1ff0['_type']===Pe){const _0x1a5828=Js['z']/(0x1f05+-0x21c3+-0x2f*-0xf),_0x12c51b=this['cubeSlotsO'+'ffsets'][_0x13907a];Js['x']+=_0x1a5828*_0x12c51b['x'],Js['y']+=_0x1a5828*_0x12c51b['y'],Js['z']=_0x1a5828,Js['w']=_0x1a5828,Cd['copy'](Js);}if(_0x9a1ff0['castShadow'+'s']){const _0x236235=_0x9a1ff0['getRenderD'+'ata'](null,_0x13907a);_0x236235['shadowView'+'port']['copy'](Js),_0x236235['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x53043d,_0x5f16f1,_0x4fbfbf){_0x53043d['atlasViewp'+'ortAllocat'+'ed']=!(-0x513+0x2*-0x98c+0x10d*0x17);const _0x29ee21=this['slots'][_0x5f16f1];_0x29ee21['lightId']=_0x53043d['id'],_0x29ee21['used']=!(-0x9c*0x1d+0x62b+0xb81),_0x4fbfbf&&(_0x53043d['atlasSlotU'+'pdated']=!(0x3bc+-0x1693+-0x2b1*-0x7),_0x53043d['atlasVersi'+'on']=this['version'],_0x53043d['atlasSlotI'+'ndex']=_0x5f16f1);}['update'](_0x2b8276,_0x3d937c){this['shadowAtla'+'sResolutio'+'n']=_0x3d937c['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3d937c['cookieAtla'+'sResolutio'+'n'];const _0x211264=this['collectLig'+'hts'](_0x2b8276,_0x3d937c);if(_0x211264['length']>-0x22*0x35+-0x2*-0xad8+-0xea6){const _0xdea227=this['slots'];for(let _0x48c494=-0x1cec+0x182+0x1b6a;_0x48c494<_0xdea227['length'];_0x48c494++)_0xdea227[_0x48c494]['used']=!(-0x7f5+0xd52+-0x55c);const _0x2c3b4e=Math['min'](_0x211264['length'],_0xdea227['length']);for(let _0x24a1d6=0x224c*0x1+-0x1d6b+0x4e1*-0x1;_0x24a1d6<_0x2c3b4e;_0x24a1d6++){const _0xd8f3f1=_0x211264[_0x24a1d6];_0xd8f3f1['castShadow'+'s']&&(_0xd8f3f1['_shadowMap']=this['shadowAtla'+'s']);const _0x3577d6=_0xdea227[_0xd8f3f1['atlasSlotI'+'ndex']];if(_0xd8f3f1['atlasVersi'+'on']===this['version']&&_0xd8f3f1['id']===(_0x3577d6==null?void(0x11be+-0x6ce+0x15e*-0x8):_0x3577d6['lightId'])){const _0xf80567=_0xdea227[_0xd8f3f1['atlasSlotI'+'ndex']];_0xf80567['size']===_0xdea227[_0x24a1d6]['size']&&!_0xf80567['used']&&this['assignSlot'](_0xd8f3f1,_0xd8f3f1['atlasSlotI'+'ndex'],!(0x2*0x805+0x19f0+0x7*-0x5ff));}}let _0x5d49ef=-0x3a1*0x1+0x8*-0x100+-0x1*-0xba1;for(let _0x5c2e28=-0x6*-0x2f+0x14e+0x4d*-0x8;_0x5c2e28<_0x2c3b4e;_0x5c2e28++){for(;_0x5d49ef<_0xdea227['length']&&_0xdea227[_0x5d49ef]['used'];)_0x5d49ef++;const _0x3f7500=_0x211264[_0x5c2e28];_0x3f7500['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x3f7500,_0x5d49ef,!(0x13*-0x14d+0x2f*-0x69+0x15ff*0x2));const _0x4f5c39=_0xdea227[_0x3f7500['atlasSlotI'+'ndex']];this['setupSlot'](_0x3f7500,_0x4f5c39['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x39fa51=>{_0x39fa51['forEach'](_0x352836=>{_0x352836['destroy']();});}),this['cache']['clear']();}['getKey'](_0x3c0da5){const _0x329f92=_0x3c0da5['_type']===Pe,_0x2782c5=_0x3c0da5['_shadowTyp'+'e'],_0x5a9a70=_0x3c0da5['_shadowRes'+'olution'];return _0x329f92+'-'+_0x2782c5+'-'+_0x5a9a70;}['get'](_0x4a2613,_0xcd9aa9){const _0x539d9a=this['getKey'](_0xcd9aa9),_0x280bd6=this['cache']['get'](_0x539d9a);if(_0x280bd6&&_0x280bd6['length'])return _0x280bd6['pop']();const _0x3a38e3=un['create'](_0x4a2613,_0xcd9aa9);return _0x3a38e3['cached']=!(0x1*-0x113d+0x64*0x29+0x139),_0x3a38e3;}['add'](_0xccd74a,_0x28c067){const _0x388923=this['getKey'](_0xccd74a),_0x5452ae=this['cache']['get'](_0x388923);_0x5452ae?_0x5452ae['push'](_0x28c067):this['cache']['set'](_0x388923,[_0x28c067]);}}class pM extends ds{constructor(_0x23202,_0x207799,_0x360be1,_0x27e334,_0x1f6d3a){super(_0x23202),mn['setName'](this,this['name']+'-'+_0x360be1['_node']['name']),this['requiresCu'+'bemaps']=!(-0x2*0x1101+-0x1d8c+0x3f8f),this['shadowRend'+'erer']=_0x207799,this['light']=_0x360be1,this['face']=_0x27e334,this['applyVsm']=_0x1f6d3a,this['shadowCame'+'ra']=_0x207799['prepareFac'+'e'](_0x360be1,null,_0x27e334),_0x207799['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x5f3*-0x3+0x525*-0x5+-0x30*-0x2a));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x91*-0x10+-0x20c3*-0x1+0x151*-0x12));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x449592,_0x3dfefe){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x449592,this['shadowRend'+'erer']=_0x3dfefe,this['device']=_0x449592['device']);}['cull'](_0x341101,_0xb24b1a,_0x24108d=null){const _0x4caaf=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x341101['visibleThi'+'sFrame']=!(-0x4*0x7f0+-0xdd8*0x1+0xb66*0x4),_0x4caaf||_0x341101['_shadowMap']||(_0x341101['_shadowMap']=un['create'](this['device'],_0x341101));const _0x2a2e55=_0x341101['_type'],_0x270975=_0x2a2e55===Re?0x1*-0xe2f+-0x1*-0x1b23+-0x5*0x297:0x1*-0xd91+0x3*0x47f+0x1a;for(let _0x13ab1e=0x24a0+-0x15c+-0x2344;_0x13ab1e<_0x270975;_0x13ab1e++){const _0xf5e79c=_0x341101['getRenderD'+'ata'](null,_0x13ab1e),_0x296492=_0xf5e79c['shadowCame'+'ra'];_0x296492['nearClip']=_0x341101['attenuatio'+'nEnd']/(0x1ea+0x3*0x3ab+0x3*-0x301),_0x296492['farClip']=_0x341101['attenuatio'+'nEnd'];const _0x5e187f=_0x296492['_node'],_0x4f9b0c=_0x341101['_node'];if(_0x5e187f['setPositio'+'n'](_0x4f9b0c['getPositio'+'n']()),_0x2a2e55===Re)_0x296492['fov']=_0x341101['_outerCone'+'Angle']*(0x20e6+-0x1ca3*0x1+-0x16b*0x3),_0x5e187f['setRotatio'+'n'](_0x4f9b0c['getRotatio'+'n']()),_0x5e187f['rotateLoca'+'l'](-(0x54*-0x2a+-0x80c+-0x22*-0xa7),0xa77+0x5*0xee+-0xf1d,-0x26d0+0x1559+-0x1177*-0x1);else{if(_0x2a2e55===Pe){if(_0x4caaf){const _0x122d8d=(-0x212a+-0x80*-0x18+0x21e*0xa)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x341101['atlasViewp'+'ort']['z']/(-0x20*0x132+-0x118b+0x37ce))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x296492['fov']=Math['atan'](0x25*0x1+-0x2366+0x11a1*0x2+_0x122d8d)*N['RAD_TO_DEG']*(-0x2*0x120d+-0x4f7*-0x5+0xb49*0x1);}else _0x296492['fov']=0x1*0x1d94+0x1*0x100f+-0x1*0x2d49;}}this['renderer']['updateCame'+'raFrustum'](_0x296492),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0xb24b1a,_0x341101,_0xf5e79c['visibleCas'+'ters'],_0x296492,_0x24108d);}}['prepareLig'+'hts'](_0x2c070c,_0x37252b){let _0x44f9ef;for(let _0x2968c4=0xd42*0x1+0x1486+-0x872*0x4;_0x2968c4<_0x37252b['length'];_0x2968c4++){const _0x4ab694=_0x37252b[_0x2968c4];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x4ab694)&&_0x4ab694['atlasViewp'+'ortAllocat'+'ed']){_0x2c070c['push'](_0x4ab694);for(let _0x1734dd=-0x14aa+0x19c2+-0x518;_0x1734dd<_0x4ab694['numShadowF'+'aces'];_0x1734dd++)_0x44f9ef=this['shadowRend'+'erer']['prepareFac'+'e'](_0x4ab694,null,_0x1734dd);}}return _0x44f9ef;}['buildNonCl'+'usteredRen'+'derPasses'](_0x35d8f8,_0x1ce46a){for(let _0x161fbb=-0x1f81+0x2*-0x28c+0x3*0xc33;_0x161fbb<_0x1ce46a['length'];_0x161fbb++){const _0x196531=_0x1ce46a[_0x161fbb];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x196531)){const _0x2d7bf1=_0x196531['_type']===Re,_0x5600c5=_0x196531['numShadowF'+'aces'];for(let _0x56f618=0x5d6+0x22f+0x1*-0x805;_0x56f618<_0x5600c5;_0x56f618++){const _0x2a9d5d=new pM(this['device'],this['shadowRend'+'erer'],_0x196531,_0x56f618,_0x2d7bf1);_0x35d8f8['addRenderP'+'ass'](_0x2a9d5d);}}}}}class _M extends ds{constructor(_0x39ad5a,_0x537269,_0x58e14a,_0x5d6749,_0x4e6ca6){super(_0x39ad5a),mn['setName'](this,this['name']+'-'+_0x58e14a['_node']['name']),this['shadowRend'+'erer']=_0x537269,this['light']=_0x58e14a,this['camera']=_0x5d6749,this['allCascade'+'sRendering']=_0x4e6ca6;}['execute'](){const {light:_0x1b73b9,camera:_0x2143f8,shadowRenderer:_0x53c3c6,allCascadesRendering:_0x480e8f}=this,_0x28a74e=_0x1b73b9['numShadowF'+'aces'],_0x5051a2=_0x1b73b9['shadowUpda'+'teOverride'+'s'];for(let _0xddd772=-0x147a*-0x1+-0x920+0x2*-0x5ad;_0xddd772<_0x28a74e;_0xddd772++)(_0x5051a2==null?void(0x1c6e+-0x8d*0x3e+0x5b8):_0x5051a2[_0xddd772])!==Ps&&_0x53c3c6['renderFace'](_0x1b73b9,_0x2143f8,_0xddd772,!_0x480e8f),(_0x5051a2==null?void(0x1*-0x14c9+-0x100d+0x24d6):_0x5051a2[_0xddd772])===cn&&(_0x5051a2[_0xddd772]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x57881e,_0x4c5f14,_0x16a878){Fe[-0x1ae8+-0x5*-0x31a+-0x5b3*-0x2]['x']=Fe[0x200e+-0x1*0x2ab+-0x1d62]['x']=Fe[-0x14*-0xcf+0x24b7+-0x34e1]['x']=Fe[0x4dd+-0xe0+-0x3fa]['x']=_0x4c5f14['x'],Fe[0x22dd*0x1+0x14b*0x1+-0x2427]['y']=Fe[0x4*0x63f+0x13f9+0xb*-0x416]['y']=Fe[0x44d*-0x1+-0x1f66*0x1+0x23ba]['y']=Fe[0x2320+0x1*0xd99+-0x81e*0x6]['y']=_0x4c5f14['y'],Fe[0x1c28+-0x266a+0xa44]['z']=Fe[-0x1e89+0x11e*0x1d+0x4f*-0x6]['z']=Fe[0x703*-0x5+0xae1*-0x3+0x43b8]['z']=Fe[0x756+-0x1773+0x1024]['z']=_0x4c5f14['z'],Fe[-0xeae+-0x7ae*0x3+0x25bc]['x']=Fe[-0x11cc+0x15bc+-0x3eb]['x']=Fe[-0x4*-0x614+-0x1999*0x1+0x14f]['x']=Fe[-0x1a1f+0x1*0x26fe+0x224*-0x6]['x']=_0x16a878['x'],Fe[-0x1083+0x75*0x37+0x6*-0x170]['y']=Fe[-0x14f4+-0x30d+0x1803]['y']=Fe[-0x163b*0x1+-0x6*0x1e8+0x21af]['y']=Fe[0x1*-0x1e7e+-0x1eb0+0x3d34]['y']=_0x16a878['y'],Fe[0x1703+-0x17b*-0x11+-0x302e]['z']=Fe[0x17db+0x239+-0x1a13]['z']=Fe[0x19d4+-0x2306*0x1+-0x83*-0x12]['z']=Fe[-0x215b+-0x6eb+0x284b]['z']=_0x16a878['z'];let _0x1ef3e6=0x32ce8ff7+0xbd06a345*-0x2+0x39b4a9a92,_0xa259a3=-(0x3101d3e8d+0x1e041967d+-0x29c52f10b);for(let _0x5bd518=0x5e*0x58+-0x18ec+-0x764;_0x5bd518<0x13*0x1f+-0x4*-0x353+-0xf91;++_0x5bd518){_0x57881e['transformP'+'oint'](Fe[_0x5bd518],Fe[_0x5bd518]);const _0x5f4dbc=Fe[_0x5bd518]['z'];_0x5f4dbc<_0x1ef3e6&&(_0x1ef3e6=_0x5f4dbc),_0x5f4dbc>_0xa259a3&&(_0xa259a3=_0x5f4dbc);}return Pd['min']=_0x1ef3e6,Pd['max']=_0xa259a3,Pd;}class yM{constructor(_0x4ca771,_0x30fea6){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4ca771,this['shadowRend'+'erer']=_0x30fea6,this['device']=_0x4ca771['device']);}['cull'](_0x492ab0,_0x43b0f1,_0x5e52b0,_0x18ca49=null){_0x492ab0['visibleThi'+'sFrame']=!(-0x25*0xee+-0xe8c+0x30f2),_0x492ab0['_shadowMap']||(_0x492ab0['_shadowMap']=un['create'](this['device'],_0x492ab0));const _0x11bdd6=_0x5e52b0['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x492ab0,_0x11bdd6,Math['min'](_0x5e52b0['_farClip'],_0x492ab0['shadowDist'+'ance']));const _0x210024=_0x492ab0['shadowUpda'+'teOverride'+'s'];for(let _0x44e9df=-0x1146+-0x17*-0x2b+0xd69;_0x44e9df<_0x492ab0['numCascade'+'s']&&(_0x210024==null?void(0x22fa+-0x6a7*-0x4+0x1*-0x3d96):_0x210024[_0x44e9df])!==Ps;_0x44e9df++){const _0x4acd61=_0x492ab0['getRenderD'+'ata'](_0x5e52b0,_0x44e9df),_0x4b1c13=_0x4acd61['shadowCame'+'ra'];_0x4b1c13['renderTarg'+'et']=_0x492ab0['_shadowMap']['renderTarg'+'ets'][0x8b4+0x23e3*0x1+-0x5*0x8eb],_0x4acd61['shadowView'+'port']['copy'](_0x492ab0['cascades'][_0x44e9df]),_0x4acd61['shadowScis'+'sor']['copy'](_0x492ab0['cascades'][_0x44e9df]);const _0x4ede6d=_0x4b1c13['_node'],_0x4bb145=_0x492ab0['_node'];_0x4ede6d['setPositio'+'n'](_0x4bb145['getPositio'+'n']()),_0x4ede6d['setRotatio'+'n'](_0x4bb145['getRotatio'+'n']()),_0x4ede6d['rotateLoca'+'l'](-(-0x515*-0x1+-0x4*0x484+-0x1*-0xd55),0x1065+0x1d*0x121+-0x3122,-0x2*-0x88a+-0x7fb*0x2+-0x11e);const _0x4efd4e=_0x44e9df===0x1ac7+-0x1a*0xbf+-0x761?_0x11bdd6:_0x492ab0['_shadowCas'+'cadeDistan'+'ces'][_0x44e9df-(-0x1*-0x5c9+-0xddb+0x813)],_0x2fcb70=_0x492ab0['_shadowCas'+'cadeDistan'+'ces'][_0x44e9df],_0x3d60f4=_0x5e52b0['getFrustum'+'Corners'](_0x4efd4e,_0x2fcb70);ei['set'](0x1c3b+-0xa*0x1d4+-0x9f3,0x410+0xfb5*-0x1+0xba5,0x2348+0x49*0x51+-0x5*0xbad);const _0x11506d=_0x5e52b0['node']['getWorldTr'+'ansform']();for(let _0x52f573=0x2480+-0x15*0x11b+-0xd49;_0x52f573<-0x1*-0x903+-0x1bcb+-0x7*-0x2b0;_0x52f573++)_0x11506d['transformP'+'oint'](_0x3d60f4[_0x52f573],_0x3d60f4[_0x52f573]),ei['add'](_0x3d60f4[_0x52f573]);ei['mulScalar']((-0x521+-0x1*-0x232f+-0x1e0d)/(0x1907+-0x100f*-0x1+-0x290e));let _0x590b08=-0x3*-0x46d+-0x8e6+-0x1*0x461;for(let _0x47f44f=-0x96e+0x1c06+-0x1298;_0x47f44f<-0x2201+0x2da+0x1f2f;_0x47f44f++){const _0x41bb57=_0x3d60f4[_0x47f44f]['sub'](ei)['length']();_0x41bb57>_0x590b08&&(_0x590b08=_0x41bb57);}const _0x128a29=_0x4ede6d['right'],_0x370567=_0x4ede6d['up'],_0x5f3f77=_0x4ede6d['forward'],_0x5923de=(0x18a9*0x1+0x110c+-0x29b5+0.25)*_0x492ab0['_shadowRes'+'olution']/_0x590b08,_0xfd577d=Math['ceil'](ei['dot'](_0x370567)*_0x5923de)/_0x5923de,_0x389d27=Math['ceil'](ei['dot'](_0x128a29)*_0x5923de)/_0x5923de,_0xb0d3f3=_0x370567['mulScalar'](_0xfd577d),_0x355fbf=_0x128a29['mulScalar'](_0x389d27),_0x48ee7d=ei['dot'](_0x5f3f77),_0x1e5c38=_0x5f3f77['mulScalar'](_0x48ee7d);ei['add2'](_0xb0d3f3,_0x355fbf)['add'](_0x1e5c38),_0x4ede6d['setPositio'+'n'](ei),_0x4ede6d['translateL'+'ocal'](0x2521+-0x596+-0x13*0x1a9,0xa8c+-0x39*-0x41+-0x1905,0x1d4463+-0xd1440+-0x1*0xede3),_0x4b1c13['nearClip']=-0xd*-0x1b7+-0x1182+-0x4c9+0.01,_0x4b1c13['farClip']=-0x3cd3e1+0x245f8d+0x2*0x1b7c6a,_0x4b1c13['orthoHeigh'+'t']=_0x590b08,this['renderer']['updateCame'+'raFrustum'](_0x4b1c13),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x43b0f1,_0x492ab0,_0x4acd61['visibleCas'+'ters'],_0x4b1c13,_0x18ca49);let _0x239d15=!(0x24ad*0x1+0x4f*-0x67+-0x4e4);const _0x3fabfd=_0x4acd61['visibleCas'+'ters'];for(let _0x549877=0x1e05+0x13*-0xc7+-0x2*0x7a0;_0x549877<_0x3fabfd['length'];_0x549877++){const _0x463389=_0x3fabfd[_0x549877];_0x239d15?(_0x239d15=!(-0x14*0x156+-0x199f*-0x1+0x11a),Ll['copy'](_0x463389['aabb'])):Ll['add'](_0x463389['aabb']);}d_['copy'](_0x4ede6d['getWorldTr'+'ansform']())['invert']();const _0x489b48=gM(d_,Ll['getMin'](),Ll['getMax']());_0x4ede6d['translateL'+'ocal'](-0xe7d*-0x1+-0x5f5+-0x888,0x182*0x1+0x712+-0x894,_0x489b48['max']+(-0x95a+0x22f1+-0x1*0x1997+0.1)),_0x4b1c13['farClip']=_0x489b48['max']-_0x489b48['min']+(0x1*0x14+-0x1*0x95b+0x13*0x7d+0.2),_0x4acd61['projection'+'Compensati'+'on']=_0x590b08;}}['generateSp'+'litDistanc'+'es'](_0x7f972c,_0x5e1e6d,_0x1246c3){_0x7f972c['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x1246c3);for(let _0x390170=0x277*-0xd+-0xf76+0x2f82;_0x390170<_0x7f972c['numCascade'+'s'];_0x390170++){const _0x59f951=_0x390170/_0x7f972c['numCascade'+'s'],_0x1ef4c8=_0x5e1e6d+(_0x1246c3-_0x5e1e6d)*_0x59f951,_0x36bdc9=_0x5e1e6d*(_0x1246c3/_0x5e1e6d)**_0x59f951,_0x398ea3=N['lerp'](_0x1ef4c8,_0x36bdc9,_0x7f972c['cascadeDis'+'tribution']);_0x7f972c['_shadowCas'+'cadeDistan'+'ces'][_0x390170-(-0x157c+-0x1601+-0x2b7e*-0x1)]=_0x398ea3;}}['getLightRe'+'nderPass'](_0x151ecd,_0x3409a5){v['assert'](_0x151ecd&&_0x151ecd['_type']===oe);let _0x4160f1=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x151ecd)){const _0x33f449=_0x151ecd['numShadowF'+'aces'],_0x3f4710=_0x151ecd['shadowUpda'+'teOverride'+'s'];let _0x2d4b2f=!(0x13*-0x13a+0x2446+0x1*-0xcf8),_0x1b30dc;for(let _0x2ddbf8=-0x34*-0x98+0x577*-0x7+0x761;_0x2ddbf8<_0x33f449;_0x2ddbf8++)(_0x3f4710==null?void(-0x1e41+0x1bd9+0x268):_0x3f4710[_0x2ddbf8])===Ps&&(_0x2d4b2f=!(0xde7*-0x1+0x20cb+-0x12e3)),_0x1b30dc=this['shadowRend'+'erer']['prepareFac'+'e'](_0x151ecd,_0x3409a5,_0x2ddbf8);_0x4160f1=new _M(this['device'],this['shadowRend'+'erer'],_0x151ecd,_0x3409a5,_0x2d4b2f),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x4160f1,_0x1b30dc,_0x2d4b2f);}return _0x4160f1;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(-0x1*0x317+-0x13e4+-0x5*-0x499),Xa=new Q(0x261f+0x470*-0x1+-0x21ae,-0x53a+-0x252f*-0x1+-0x1ff4,0x1*0xc25+0x4*0x3e7+0x1d*-0xf5,-0x1c13*0x1+-0x7*-0x21c+0xd4f),p_=new q();function xM(_0x2ee49d,_0x12a451){return Math['exp'](-(_0x2ee49d*_0x2ee49d)/((0x1*0x97+-0x14de+0x1449)*_0x12a451*_0x12a451));}function SM(_0x4c3c2b){const _0x4d6d97=(_0x4c3c2b-(0x297+0x2353+-0x25e9))/(-0x89*0x1b+0x6*-0x639+0x1145*0x3),_0x4e02b6=(_0x4c3c2b-(0x5*-0x21b+-0x1bad+-0x1*-0x2635))*(0x3d7*-0x9+-0x1*-0x264e+-0x7*0x89+0.5),_0x230a0d=new Array(_0x4c3c2b);let _0x18d942=0x6e5+-0x1039+0x954;for(let _0x76d674=0x1203+-0x1*0x21e7+0xc*0x153;_0x76d674<_0x4c3c2b;++_0x76d674)_0x230a0d[_0x76d674]=xM(_0x76d674-_0x4e02b6,_0x4d6d97),_0x18d942+=_0x230a0d[_0x76d674];for(let _0x521d19=0x1149+-0x26e+0x1*-0xedb;_0x521d19<_0x4c3c2b;++_0x521d19)_0x230a0d[_0x521d19]/=_0x18d942;return _0x230a0d;}class I0{constructor(_0x1226a7,_0x59bf16){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x1226a7['device'],this['renderer']=_0x1226a7,this['lightTextu'+'reAtlas']=_0x59bf16);const _0x43a49e=this['device']['scope'];this['sourceId']=_0x43a49e['resolve']('source'),this['pixelOffse'+'tId']=_0x43a49e['resolve']('pixelOffse'+'t'),this['weightId']=_0x43a49e['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x43a49e['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x9c2+0xef4+-0x18b5),!(-0x14*0x15d+0x138c+-0x293*-0x3),!(-0x43*-0x5+-0x1*-0x2167+-0x5*0x6f1),!(-0x2266+-0x48a+0x26f1));}static['createShad'+'owCamera'](_0x14261,_0x1cf580,_0x156c0b){const _0x179d51=Ma['create']('ShadowCame'+'ra',_0x1cf580,_0x156c0b),_0x1a3e78=ir['get'](_0x14261);v['assert'](_0x1a3e78);const _0x2aa4e6=(_0x1a3e78==null?void(-0x1a22+0x1*-0x1349+0x2d6b):_0x1a3e78['vsm'])??!(-0x2248+-0x21*0xbb+-0x25*-0x194),_0x179b1c=(_0x1a3e78==null?void(-0x135*-0x1b+-0xbaa*-0x2+-0x5*0xb2f):_0x1a3e78['pcf'])??!(0x2410+-0x1ae0*0x1+-0x92f);return _0x2aa4e6?_0x179d51['clearColor']=new Y(0x23af+0x1923+-0x361*0x12,-0x10b*-0x9+-0x258d*0x1+-0x2*-0xe15,-0xf0f+-0xd9*0x1a+0x2519*0x1,-0x1c42+-0x1390+-0x2*-0x17e9):_0x179d51['clearColor']=new Y(0x23e+0xefe*0x2+-0x2039,0xd*-0x15d+0x15fd+-0x1*0x443,0x1679+-0x8*0x385+0x5b0,-0x1154+0x54a*0x5+0x1*-0x91d),_0x179d51['clearDepth'+'Buffer']=!(-0x108c*-0x1+-0x1a2f*-0x1+-0x2abb*0x1),_0x179d51['clearStenc'+'ilBuffer']=!(0x1b92+-0x445*-0x2+0xed*-0x27),_0x179d51['clearColor'+'Buffer']=!_0x179b1c,_0x179d51;}['_cullShado'+'wCastersIn'+'ternal'](_0x2c8f95,_0x5e4e5a,_0x3db9d9){const _0xc82e8e=_0x2c8f95['length'];for(let _0x11aeaf=0xd56*-0x2+-0xc*0x283+-0x10*-0x38d;_0x11aeaf<_0xc82e8e;_0x11aeaf++){const _0x2c4b29=_0x2c8f95[_0x11aeaf];_0x2c4b29['castShadow']&&(!_0x2c4b29['cull']||_0x2c4b29['_isVisible'](_0x3db9d9))&&(_0x2c4b29['visibleThi'+'sFrame']=!(-0x7a*-0x37+0x54b+-0x1f81),_0x5e4e5a['push'](_0x2c4b29));}}['cullShadow'+'Casters'](_0x51cb2d,_0x4548f1,_0x42a6de,_0x56a47c,_0x2c4b37){if(_0x42a6de['length']=-0x1ea5+-0x2ba*-0xa+0x361,_0x2c4b37)this['_cullShado'+'wCastersIn'+'ternal'](_0x2c4b37,_0x42a6de,_0x56a47c);else{const _0x3da9dc=_0x51cb2d['layerList'],_0x46953f=_0x3da9dc['length'];for(let _0x58bf01=-0x1f0a+0x11*-0xeb+0x2ea5;_0x58bf01<_0x46953f;_0x58bf01++){const _0x198dd7=_0x3da9dc[_0x58bf01];_0x198dd7['_lightsSet']['has'](_0x4548f1)&&(Rd['has'](_0x198dd7)||(Rd['add'](_0x198dd7),this['_cullShado'+'wCastersIn'+'ternal'](_0x198dd7['shadowCast'+'ers'],_0x42a6de,_0x56a47c)));}Rd['clear']();}_0x42a6de['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x296a48,_0x153fb6){const _0x44b46a=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x153fb6['_isPcf']:_0x153fb6['_isPcf']&&_0x153fb6['_type']!==Pe;_0x296a48['setBlendSt'+'ate'](_0x44b46a?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x296a48['setDepthSt'+'ate'](_0x153fb6['shadowDept'+'hState']),_0x296a48['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x4ca867,_0x2acdb7,_0x4379f6,_0x5790eb){const _0x30f6fe=_0x2acdb7['_node'];_0x4ca867['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x30f6fe['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x4ca867['attenuatio'+'nEnd'])),u_['setTRS'](_0x30f6fe['getPositio'+'n'](),_0x30f6fe['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x2acdb7['projection'+'Matrix'],u_);const _0x352d9f=_0x4379f6['shadowView'+'port'];_0x2acdb7['rect']=_0x352d9f,_0x2acdb7['scissorRec'+'t']=_0x4379f6['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x352d9f['x'],_0x352d9f['y'],_0x352d9f['z'],_0x352d9f['w']),_0x4379f6['shadowMatr'+'ix']['mul2'](p_,f_),_0x4ca867['_type']===oe&&_0x4ca867['_shadowMat'+'rixPalette']['set'](_0x4379f6['shadowMatr'+'ix']['data'],_0x5790eb*(-0x1e86+-0x2492+0x4328));}['getShadowP'+'ass'](_0x2c7a09){var _0x2964b7;const _0x41f10d=_0x2c7a09['_type'],_0x3f5092=_0x2c7a09['_shadowTyp'+'e'];let _0xf03f84=(_0x2964b7=this['shadowPass'+'Cache'][_0x41f10d])==null?void(-0x1d9b+0x641*-0x4+-0xb1*-0x4f):_0x2964b7[_0x3f5092];if(!_0xf03f84){const _0x2336f6='ShadowPass'+'_'+_0x41f10d+'_'+_0x3f5092;_0xf03f84=Ks['get'](this['device'])['allocate'](_0x2336f6,{'isShadow':!(-0xb30+-0x419+0xf49),'lightType':_0x41f10d,'shadowType':_0x3f5092}),this['shadowPass'+'Cache'][_0x41f10d]||(this['shadowPass'+'Cache'][_0x41f10d]=[]),this['shadowPass'+'Cache'][_0x41f10d][_0x3f5092]=_0xf03f84;}return _0xf03f84['index'];}['submitCast'+'ers'](_0x370b2e,_0x43c23a,_0x1df3b1){const _0x37b078=this['device'],_0x18e918=this['renderer'],_0x101df0=_0x18e918['scene'],_0x45b5c7=0x61*-0x2f+0x47f*0x1+0xd51<<Rp,_0x4e070b=this['getShadowP'+'ass'](_0x43c23a),_0x221b87=_0x1df3b1['shaderPara'+'ms'],_0x5878b2=_0x1df3b1['renderTarg'+'et']['flipY']?-(0x2*0x24f+0xedb*0x1+0x4de*-0x4):0xf3e+-0xd*-0xba+0x47*-0x59,_0x46103a=_0x370b2e['length'];for(let _0x2e194c=-0x2070+-0x3c9+0x21*0x119;_0x2e194c<_0x46103a;_0x2e194c++){const _0x33c247=_0x370b2e[_0x2e194c],_0x10b070=_0x33c247['mesh'];_0x33c247['ensureMate'+'rial'](_0x37b078);const _0x4195d9=_0x33c247['material'];G['pushGpuMar'+'ker'](_0x37b078,'Node:\x20'+_0x33c247['node']['name']+(',\x20Material'+':\x20')+_0x4195d9['name']),_0x18e918['setBaseCon'+'stants'](_0x37b078,_0x4195d9),_0x18e918['setSkinnin'+'g'](_0x37b078,_0x33c247),_0x4195d9['dirty']&&(_0x4195d9['updateUnif'+'orms'](_0x37b078,_0x101df0),_0x4195d9['dirty']=!(-0x19*0x107+0x60b+0x13a5)),_0x18e918['setupCullM'+'ode'](!(0x156b*0x1+0x21dd+-0x3748),_0x5878b2,_0x33c247),_0x4195d9['setParamet'+'ers'](_0x37b078),_0x33c247['setParamet'+'ers'](_0x37b078,_0x45b5c7);const _0x1c19e1=_0x33c247['getShaderI'+'nstance'](_0x4e070b,-0x431*0x1+0x1181*0x2+-0x1ed1,_0x101df0,_0x221b87,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x55ea4b=_0x1c19e1['shader'];v['assert'](_0x55ea4b,'no\x20shader\x20'+'for\x20pass\x20'+_0x4e070b,_0x4195d9),_0x33c247['_key'][ku]=_0x55ea4b['id'],_0x37b078['setShader'](_0x55ea4b),_0x18e918['setVertexB'+'uffers'](_0x37b078,_0x10b070),_0x18e918['setMorphin'+'g'](_0x37b078,_0x33c247['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x1c19e1,_0x33c247);const _0x1a8e31=_0x33c247['renderStyl'+'e'];_0x37b078['setIndexBu'+'ffer'](_0x10b070['indexBuffe'+'r'][_0x1a8e31]),_0x18e918['drawInstan'+'ce'](_0x37b078,_0x33c247,_0x10b070,_0x1a8e31),_0x18e918['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x37b078);}}['needsShado'+'wRendering'](_0x1a161d){const _0x971838=_0x1a161d['enabled']&&_0x1a161d['castShadow'+'s']&&_0x1a161d['shadowUpda'+'teMode']!==Ps&&_0x1a161d['visibleThi'+'sFrame'];return _0x1a161d['shadowUpda'+'teMode']===cn&&(_0x1a161d['shadowUpda'+'teMode']=Ps),_0x971838&&(this['renderer']['_shadowMap'+'Updates']+=_0x1a161d['numShadowF'+'aces']),_0x971838;}['getLightRe'+'nderData'](_0x568ed2,_0x139dd7,_0x4b4fc2){return _0x568ed2['getRenderD'+'ata'](_0x568ed2['_type']===oe?_0x139dd7:null,_0x4b4fc2);}['setupRende'+'rPass'](_0x3f1cfa,_0x5db172,_0x20028d){const _0x12cf09=_0x5db172['renderTarg'+'et'];_0x3f1cfa['init'](_0x12cf09),_0x3f1cfa['depthStenc'+'ilOps']['clearDepth'+'Value']=0x51*0x15+-0x1283*0x1+0xbdf*0x1,_0x3f1cfa['depthStenc'+'ilOps']['clearDepth']=_0x20028d,_0x12cf09['depthBuffe'+'r']?_0x3f1cfa['depthStenc'+'ilOps']['storeDepth']=!(-0x1*0x1a4a+-0x12f0*0x2+0x402a):(_0x3f1cfa['colorOps']['clearValue']['copy'](_0x5db172['clearColor']),_0x3f1cfa['colorOps']['clear']=_0x20028d,_0x3f1cfa['depthStenc'+'ilOps']['storeDepth']=!(0x1524+0x1bc6+-0x293*0x13)),_0x3f1cfa['requiresCu'+'bemaps']=!(0x1*0xa4c+0x19f3+-0x243e*0x1);}['prepareFac'+'e'](_0x25a978,_0x5220b3,_0x35f9d6){const _0x574abc=_0x25a978['_type'],_0x17b58f=this['getLightRe'+'nderData'](_0x25a978,_0x5220b3,_0x35f9d6)['shadowCame'+'ra'],_0x549c08=_0x574abc===oe?-0x1ac0+-0x19de+-0x382*-0xf:_0x35f9d6;return _0x17b58f['renderTarg'+'et']=_0x25a978['_shadowMap']['renderTarg'+'ets'][_0x549c08],_0x17b58f;}['renderFace'](_0x2ee3fa,_0x37360b,_0x17b92a,_0xb8b4fc,_0x2090d0=!(-0xd*-0x2ec+-0xd60+-0x189c)){const _0x4d651e=this['device'],_0x42e8c2=ne();G['pushGpuMar'+'ker'](_0x4d651e,'SHADOW\x20'+_0x2ee3fa['_node']['name']+'\x20FACE\x20'+_0x17b92a);const _0x2b76c1=this['getLightRe'+'nderData'](_0x2ee3fa,_0x37360b,_0x17b92a),_0x4b6cbd=_0x2b76c1['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x2ee3fa,_0x4b6cbd,_0x2b76c1,_0x17b92a);const _0x5f66ff=_0x4b6cbd['renderTarg'+'et'],_0x3c1067=this['renderer'];_0x3c1067['setCameraU'+'niforms'](_0x4b6cbd,_0x5f66ff),_0x4d651e['supportsUn'+'iformBuffe'+'rs']&&_0x3c1067['setupViewU'+'niformBuff'+'ers'](_0x2b76c1['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0xf*-0x170+-0xa47*-0x2+0x103),_0x2090d0?(_0x3c1067['setupViewp'+'ort'](_0x4b6cbd,_0x5f66ff),_0xb8b4fc&&_0x3c1067['clear'](_0x4b6cbd)):_0x3c1067['clearView'](_0x4b6cbd,_0x5f66ff,!(-0xe8*0x27+0x1aad+0x8ab),!(0x901*0x3+0x315+-0x1e17)),this['setupRende'+'rState'](_0x4d651e,_0x2ee3fa),this['submitCast'+'ers'](_0x2b76c1['visibleCas'+'ters'],_0x2ee3fa,_0x4b6cbd),G['popGpuMark'+'er'](_0x4d651e),_0x3c1067['_shadowMap'+'Time']+=ne()-_0x42e8c2;}['render'](_0x3420a3,_0x1cab72,_0x2f1273=!(-0xb*-0x2fe+-0x3d4*0x2+-0x1942*0x1)){if(this['needsShado'+'wRendering'](_0x3420a3)){const _0x692665=_0x3420a3['numShadowF'+'aces'];for(let _0x94a71a=-0x1*0x1dc5+0x3fa+0x19cb;_0x94a71a<_0x692665;_0x94a71a++)this['prepareFac'+'e'](_0x3420a3,_0x1cab72,_0x94a71a),this['renderFace'](_0x3420a3,_0x1cab72,_0x94a71a,!(-0x3*0x6ee+0x14fa+-0x30),_0x2f1273);this['renderVsm'](_0x3420a3,_0x1cab72);}}['renderVsm'](_0x23241d,_0x54b990){_0x23241d['_isVsm']&&_0x23241d['_vsmBlurSi'+'ze']>-0x4*0x45a+-0xe*-0x287+-0x2b*0x6b&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x23241d['_type']===oe)&&this['applyVsmBl'+'ur'](_0x23241d,_0x54b990);}['getVsmBlur'+'Shader'](_0x1d28ca,_0x3c0171){const _0x52ae19=this['blurVsmSha'+'der'];let _0x5965a5=_0x52ae19[_0x1d28ca][_0x3c0171];if(!_0x5965a5){this['blurVsmWei'+'ghts'][_0x3c0171]=SM(_0x3c0171);const _0x182d6e=X['fullscreen'+'QuadVS'];let _0x194e9d='#define\x20SA'+'MPLES\x20'+_0x3c0171+'\x0a';_0x194e9d+=this['blurVsmSha'+'derCode'][_0x1d28ca];const _0x4558d5='blurVsm'+_0x1d28ca+_0x3c0171;_0x5965a5=Is(this['device'],_0x182d6e,_0x194e9d,_0x4558d5),_0x52ae19[_0x1d28ca][_0x3c0171]=_0x5965a5;}return _0x5965a5;}['applyVsmBl'+'ur'](_0x21fc52,_0x31eb2d){const _0x51e79a=this['device'];G['pushGpuMar'+'ker'](_0x51e79a,'VSM\x20'+_0x21fc52['_node']['name']),_0x51e79a['setBlendSt'+'ate'](_t['NOBLEND']);const _0x188930=_0x21fc52['getRenderD'+'ata'](_0x21fc52['_type']===oe?_0x31eb2d:null,-0x1748+-0x496*-0x1+-0x12b2*-0x1)['shadowCame'+'ra']['renderTarg'+'et'],_0x1a94a8=this['renderer']['shadowMapC'+'ache']['get'](_0x51e79a,_0x21fc52),_0x3f56b8=_0x1a94a8['renderTarg'+'ets'][0x14ce+-0x167f+-0x1*-0x1b1],_0x4a5e9e=_0x21fc52['vsmBlurMod'+'e'],_0x36ce36=_0x21fc52['_vsmBlurSi'+'ze'],_0x4a4e72=this['getVsmBlur'+'Shader'](_0x4a5e9e,_0x36ce36);Xa['z']=_0x21fc52['_shadowRes'+'olution']-(-0x87*-0x3+-0x1*-0xac+0x1*-0x23f),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x188930['colorBuffe'+'r']),vr[-0x1332+0x14b8+-0x186]=(-0x1da5+0x1485+0x921)/_0x21fc52['_shadowRes'+'olution'],vr[0x1f65+-0x1*-0x377+0x22db*-0x1]=0x6e5+0x1*0x2549+-0x2c2e,this['pixelOffse'+'tId']['setValue'](vr),_0x4a5e9e===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x36ce36]),dn(_0x51e79a,_0x3f56b8,_0x4a4e72,null,Xa),this['sourceId']['setValue'](_0x3f56b8['colorBuffe'+'r']),vr[-0x42d+-0x6ed+0x1*0xb1b]=vr[0x6e4*0x5+-0x205d+-0x217],vr[0x30d+0x142d*0x1+-0x173a]=0x21*-0xb9+-0xe5f+-0x131c*-0x2,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x51e79a,_0x188930,_0x4a4e72,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x21fc52,_0x1a94a8),G['popGpuMark'+'er'](_0x51e79a);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x5ab7ef){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x5ab7ef;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x1751f4=>{_0x1751f4['destroy']();}),this['_allocated']['length']=-0x19f*0x17+0x185f+0xcea;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x205aaa=new zu(this['device']);_0x205aaa['name']='ClusterEmp'+'ty',_0x205aaa['update']([]),this['_empty']=_0x205aaa;}return this['_empty'];}['assign'](_0x447aa6){const _0x557974=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=0xc4f+0x1*0xddc+-0x1a2b,this['_clusters']['clear']();const _0x527d77=_0x447aa6['length'];for(let _0xc545ae=0x3f3+-0xc19+0x95*0xe;_0xc545ae<_0x527d77;_0xc545ae++){const _0x2e41cd=_0x447aa6[_0xc545ae]['renderActi'+'ons'];if(_0x2e41cd){const _0x203bc0=_0x2e41cd['length'];for(let _0xc99ad8=0x235a+-0x464*0x2+-0x1a92;_0xc99ad8<_0x203bc0;_0xc99ad8++){const _0x129d97=_0x2e41cd[_0xc99ad8];_0x129d97['lightClust'+'ers']=null;const _0x52248c=_0x129d97['layer'];if(_0x52248c['hasCluster'+'edLights']&&_0x52248c['meshInstan'+'ces']['length']){const _0x10f955=_0x52248c['getLightId'+'Hash'](),_0x395ee1=this['_clusters']['get'](_0x10f955);let _0x140190=_0x395ee1==null?void(-0x28*-0xbc+0x2595+-0x42f5):_0x395ee1['lightClust'+'ers'];_0x140190||(_0x140190=Fl['pop']()??new zu(this['device']),mn['setName'](_0x140190,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x140190),this['_clusters']['set'](_0x10f955,_0x129d97)),_0x129d97['lightClust'+'ers']=_0x140190;}_0x129d97['lightClust'+'ers']||(_0x129d97['lightClust'+'ers']=_0x557974);}}}Fl['forEach'](_0x2b5a95=>_0x2b5a95['destroy']()),Fl['length']=0x193f+-0x1*0x1e3d+0x1aa*0x3;}['update'](_0x5e41c8,_0x4aa560){this['assign'](_0x5e41c8),this['_clusters']['forEach'](_0x583cd6=>{const _0x2a1a91=_0x583cd6['layer'];_0x583cd6['lightClust'+'ers']['update'](_0x2a1a91['clusteredL'+'ightsSet'],_0x4aa560);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x23c538,_0x41ed4d){super(_0x23c538),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x41ed4d,this['requiresCu'+'bemaps']=!(-0x26b4+-0xd6+-0x278b*-0x1),this['blitTextur'+'eId']=_0x23c538['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x23c538['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x206e60,_0xf51804;(_0x206e60=this['_quadRende'+'rer2D'])==null||_0x206e60['destroy'](),this['_quadRende'+'rer2D']=null,(_0xf51804=this['_quadRende'+'rerCube'])==null||_0xf51804['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x2859f1,_0x33b8d3){v['assert'](_0x2859f1);const _0x593ced=new kp(_0x2859f1['device'],_0x33b8d3);return _0x593ced['init'](_0x2859f1),_0x593ced['colorOps']['clear']=!(0x32f*-0x5+-0xf*-0x107+0x83),_0x593ced['depthStenc'+'ilOps']['clearDepth']=!(0x1a7e+-0x2*-0x11c5+-0x43*0xed),_0x593ced;}['update'](_0x2767ea){const _0x4d9a24=this['_filteredL'+'ights'];this['filter'](_0x2767ea,_0x4d9a24),this['executeEna'+'bled']=_0x4d9a24['length']>0x2b7*0xe+0x3d3+-0x29d5;}['filter'](_0x5c1ba5,_0x4949cf){for(let _0x196047=0x21af*-0x1+-0x203c+0x41eb;_0x196047<_0x5c1ba5['length'];_0x196047++){const _0xe29cb3=_0x5c1ba5[_0x196047];_0xe29cb3['_type']!==oe&&_0xe29cb3['atlasViewp'+'ortAllocat'+'ed']&&_0xe29cb3['atlasSlotU'+'pdated']&&_0xe29cb3['enabled']&&_0xe29cb3['cookie']&&_0xe29cb3['visibleThi'+'sFrame']&&_0x4949cf['push'](_0xe29cb3);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x477f47=0x249b*-0x1+0x16d*-0x10+0x35*0x11f;_0x477f47<-0x194*-0xe+0x5*-0x3a0+-0x3f2;_0x477f47++){const _0x3e99d7=Ma['create'](null,Pe,_0x477f47),_0x42e207=_0x3e99d7['projection'+'Matrix'],_0x530bc6=_0x3e99d7['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x477f47]=new q()['mul2'](_0x42e207,_0x530bc6)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x47365b=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x47365b);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x54c34c=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x54c34c);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x256157=this['device'];_0x256157['setBlendSt'+'ate'](_t['NOBLEND']),_0x256157['setCullMod'+'e'](mt),_0x256157['setDepthSt'+'ate'](as['NODEPTH']),_0x256157['setStencil'+'State']();const _0x4aca00=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x114b8b=this['_cubeSlots'+'Offsets'],_0x9915a7=this['_filteredL'+'ights'];for(let _0x2e9999=0x1ae2+-0x73*-0x16+0x34*-0xb5;_0x2e9999<_0x9915a7['length'];_0x2e9999++){const _0x9c58c0=_0x9915a7[_0x2e9999];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x9c58c0['_node']['name']);const _0x5c1745=_0x9c58c0['numShadowF'+'aces'],_0x57f218=_0x5c1745>-0x1*0x823+-0x1694+-0x7ae*-0x4?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x5c1745>0x2513*0x1+-0x10b4+-0x145e&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x9c58c0['cookie']);for(let _0x57b56e=-0x1ff9+0x109+0x370*0x9;_0x57b56e<_0x5c1745;_0x57b56e++){if(Gi['copy'](_0x9c58c0['atlasViewp'+'ort']),_0x5c1745>0x39*0xc+0xe71+-0x111c){const _0x1138fe=Gi['z']/(-0x4c*0x7d+-0x2*-0x9d3+0x1179),_0x2aea39=_0x114b8b[_0x57b56e];Gi['x']+=_0x1138fe*_0x2aea39['x'],Gi['y']+=_0x1138fe*_0x2aea39['y'],Gi['z']=_0x1138fe,Gi['w']=_0x1138fe,this['invViewPro'+'jId']['setValue'](Id[_0x57b56e]['data']);}Gi['mulScalar'](_0x4aca00),_0x57f218['render'](Gi);}G['popGpuMark'+'er'](_0x256157);}_0x9915a7['length']=-0x12bf+0x54c+0x139*0xb;}}class TM extends ds{constructor(_0x13c811,_0x5fe94b,_0x79735c){super(_0x13c811),this['requiresCu'+'bemaps']=!(-0x899+0x21e2+-0x1948),this['shadowRend'+'erer']=_0x5fe94b,this['shadowRend'+'ererLocal']=_0x79735c;}['update'](_0x208006){const _0x1a0044=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x5164ee=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x1a0044,_0x208006),_0x2f2bb0=_0x1a0044['length'];this['enabled']=_0x2f2bb0>0x768+-0x2663+0x1efb,_0x2f2bb0&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x5164ee,!(-0x19b*0x7+0x1487+-0x949));}['execute'](){const _0x4b05a8=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x10ffc9=_0x4b05a8['length'];for(let _0x10ba36=0x1e27+0x1*0x1a7d+-0x1f4*0x1d;_0x10ba36<_0x10ffc9;_0x10ba36++){const _0x1146b0=_0x4b05a8[_0x10ba36];for(let _0x238f4a=-0x142e+-0x2a9*0x5+0x217b;_0x238f4a<_0x1146b0['numShadowF'+'aces'];_0x238f4a++)this['shadowRend'+'erer']['renderFace'](_0x1146b0,null,_0x238f4a,!(-0xa98+0x1*0x127b+-0x1*0x7e3));}_0x4b05a8['length']=-0x94*-0x32+-0x3*0x60a+-0x2*0x565;}}class AM extends ds{constructor(_0x3eea7c,_0x5ba305,_0x2a4b84,_0x4ab48a,_0x12573f){super(_0x3eea7c),this['renderer']=_0x5ba305,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x12573f['cookieRend'+'erTarget'],_0x12573f['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x3eea7c,_0x2a4b84,_0x4ab48a),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x2e21ac,_0x512703,_0x25d0f3,_0x1056d9,_0x22addc){this['frameGraph']=_0x2e21ac,this['cookiesRen'+'derPass']['enabled']=_0x25d0f3,_0x25d0f3&&this['cookiesRen'+'derPass']['update'](_0x1056d9),this['shadowRend'+'erPass']['enabled']=_0x512703,_0x512703&&this['shadowRend'+'erPass']['update'](_0x22addc);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x55d248=ne(),{renderer:_0x3dafd4}=this,{scene:_0x47b9dc}=_0x3dafd4;_0x3dafd4['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x47b9dc['lighting']),_0x3dafd4['_lightClus'+'tersTime']+=ne()-_0x55d248,_0x3dafd4['_lightClus'+'ters']=_0x3dafd4['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=0x1080+0x537+-0x15b7*0x1;const Hi=new q(),Wi=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0x817+0x1433+-0xc1b,-(-0x4*0x438+-0x22ca+-0x3*-0x1139),0x5e*0x20+0xc15+0xf4*-0x19),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0x8d6+0x1e8+-0x1*0xabd,0x253b+0xbb7*-0x3+-0xb2*0x3,-0xc73*0x1+0x21*-0x1d+-0x4a*-0x38,0x19*0x167+-0x1fa0+-0x36f*0x1,-0x79c+-0x245+-0x119*-0x9,0x5ec+-0x11d2+-0x1*-0xbe7,-0x485*0x3+0x9e5+0x3aa,0xa*0x3ce+0x216e+-0x2*0x23bd,0x80c+-0x41*0x70+0x1464,-0x1fbf+0xc82+0x133d,-0x793*0x3+-0x1607+0x2cc0+0.5,0x199*0x3+0x224c*0x1+0x1*-0x2717,-0x9*-0x39b+0xb1d*-0x1+-0x1556,0xb65*0x2+0x995+-0x1*0x205f,-0x139f*-0x1+0x49*0x46+-0x2795+0.5,-0x97*0x27+-0x8bd*-0x3+-0x1*0x335]),x_=[new W(0x2451+-0x2bd*0x8+0x11*-0xd9+0.5,0x25*-0xbf+0x1030+-0x1*-0xb6b+0.333333),new W(0xc85*0x1+0x1*0xc5b+-0x1*0x18e0+0.25,0x1dfd*-0x1+-0x1*0x15a7+0x14*0x295+0.666667),new W(-0x36f*-0x6+-0x13bd+-0xdd+0.75,0x18+-0x10*-0x199+-0x19a8+0.111111),new W(0x8f8+-0x4a*-0xc+-0xc70+0.125,0x1655+0x1*0x18b3+0xac*-0x46+0.444444),new W(-0x44f*0x4+0xbf1*-0x1+-0x7*-0x42b+0.625,-0x1ba7*-0x1+-0xa*-0x315+-0x3a79+0.777778),new W(-0x1cab+0x1cab+0x0+0.375,0x88e+-0x331*0xa+0x175c+0.222222),new W(0x2529+0x97b*-0x1+0x2*-0xdd7+0.875,0x71*-0x8+0x1e71*0x1+-0x1ae9+0.555556),new W(0x2293+-0x2*0x459+-0x35*0x7d+0.0625,-0x8c3+0x1*0x1732+-0xe6f+0.888889),new W(-0xef*-0x22+0x1*0x102b+-0x2fe9+0.5625,-0x1*0x901+0x1198+0x2dd*-0x3+0.037037),new W(-0xa4+0x1fad+-0x1f09+0.3125,-0x228d+-0x9a*-0x5+0x1*0x1f8b+0.37037),new W(0xb87+0x1*0xe4a+-0x19d1+0.8125,0x67*0x34+0x3fb*-0x5+-0x105+0.703704),new W(0x83*0x35+0xb*0x2ce+-0x39f9+0.1875,0x25f8+-0x4ba*-0x1+-0x2ab2+0.148148),new W(0x129a*0x2+0x1997+-0x3ecb+0.6875,-0x1a81+-0x1*0x425+0x1ea6+0.481481),new W(0x3*-0x858+-0x16f9+0x3001+0.4375,-0x1*0x175d+0x243d+-0xce0+0.814815),new W(0xd2+0x5bd*0x3+-0x1209*0x1+0.9375,-0x7c1*0x1+-0xb5*-0x27+-0x13d2+0.259259),new W(0x185e*-0x1+0x27*-0x89+0x2d3d+0.03125,0x19*-0x1f+-0xc7f+0x1*0xf86+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x4cfd02){c(this,'clustersDe'+'bugRendere'+'d',!(0x3e6+0x11d9+-0x15be)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(-0x34*0xbf+0xc73+0x11*0x194)),(this['device']=_0x4cfd02,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x4cfd02),this['lightTextu'+'reAtlas']=new uM(_0x4cfd02),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x1dfd+0xf17*-0x1+-0xee6,this['_morphTime']=0x1cb1+-0xf84+-0xd2d,this['_cullTime']=-0x18e1+0x2*-0x47+0x196f,this['_shadowMap'+'Time']=-0x1bce+0x1bbc+0x12,this['_lightClus'+'tersTime']=-0x1c7f+0x1d47+0x32*-0x4,this['_layerComp'+'ositionUpd'+'ateTime']=0x1254+-0x55*-0x3+0x1353*-0x1,this['_shadowDra'+'wCalls']=-0x1247+-0x4db+-0x7e*-0x2f,this['_skinDrawC'+'alls']=-0x2204+0x1dd5+0x42f,this['_instanced'+'DrawCalls']=0x19c*0x3+-0x1f*0xef+0x1*0x181d,this['_shadowMap'+'Updates']=0x505*0x4+0x20ce+-0x34e2,this['_numDrawCa'+'llsCulled']=-0x2437+0xe*-0x119+0x3395,this['_camerasRe'+'ndered']=0x223d+-0x1*-0x12af+0x469*-0xc,this['_lightClus'+'ters']=0x1*-0xec7+0x2193+-0x12cc);const _0x139398=_0x4cfd02['scope'];this['boneTextur'+'eId']=_0x139398['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x139398['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x139398['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x139398['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x139398['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x1051*-0x1+-0x22fb+0x12ad),this['viewPosId']=_0x139398['resolve']('view_posit'+'ion'),this['projId']=_0x139398['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x139398['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x139398['resolve']('matrix_vie'+'w'),this['viewId3']=_0x139398['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x139398['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x139398['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x139398['resolve']('tbnBasis'),this['nearClipId']=_0x139398['resolve']('camera_nea'+'r'),this['farClipId']=_0x139398['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x5*-0x5a6+-0x11*0x76+0x4d*0x78),this['cameraPara'+'msId']=_0x139398['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x139398['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0xeb0+-0x179c+-0x3*-0xcc4,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x11cd+0x988+-0x849*-0x1),this['blueNoiseJ'+'itterId']=_0x139398['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x139398['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x139398['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x139398['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x139398['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x139398['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x17c9+0x1*-0x2275+-0x5d3*-0xa),this['morphPosit'+'ionTex']=_0x139398['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x139398['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x139398['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x139398['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0xba4102,_0x7e5bea){if(_0xba4102['layer']===_0x7e5bea['layer']){if(_0xba4102['drawOrder']&&_0x7e5bea['drawOrder'])return _0xba4102['drawOrder']-_0x7e5bea['drawOrder'];if(_0xba4102['zdist']&&_0x7e5bea['zdist'])return _0x7e5bea['zdist']-_0xba4102['zdist'];if(_0xba4102['zdist2']&&_0x7e5bea['zdist2'])return _0xba4102['zdist2']-_0x7e5bea['zdist2'];}return _0x7e5bea['_key'][Ei]-_0xba4102['_key'][Ei];}['sortCompar'+'eMesh'](_0x452264,_0x3ed6dd){if(_0x452264['layer']===_0x3ed6dd['layer']){if(_0x452264['drawOrder']&&_0x3ed6dd['drawOrder'])return _0x452264['drawOrder']-_0x3ed6dd['drawOrder'];if(_0x452264['zdist']&&_0x3ed6dd['zdist'])return _0x3ed6dd['zdist']-_0x452264['zdist'];}const _0x419d90=_0x452264['_key'][Ei],_0x5c736b=_0x3ed6dd['_key'][Ei];return _0x419d90===_0x5c736b&&_0x452264['mesh']&&_0x3ed6dd['mesh']?_0x3ed6dd['mesh']['id']-_0x452264['mesh']['id']:_0x5c736b-_0x419d90;}['sortCompar'+'eDepth'](_0x32ff34,_0x27761b){const _0x10e768=_0x32ff34['_key'][ku],_0x16d973=_0x27761b['_key'][ku];return _0x10e768===_0x16d973&&_0x32ff34['mesh']&&_0x27761b['mesh']?_0x27761b['mesh']['id']-_0x32ff34['mesh']['id']:_0x16d973-_0x10e768;}['setupViewp'+'ort'](_0x5c60db,_0x1000fe){const _0x1db911=this['device'],_0x4994fa=_0x1000fe?_0x1000fe['width']:_0x1db911['width'],_0x5e9dc1=_0x1000fe?_0x1000fe['height']:_0x1db911['height'],_0xf72e4b=_0x5c60db['rect'];let _0x5a01de=Math['floor'](_0xf72e4b['x']*_0x4994fa),_0x4c9001=Math['floor'](_0xf72e4b['y']*_0x5e9dc1),_0x39ea70=Math['floor'](_0xf72e4b['z']*_0x4994fa),_0x3e044b=Math['floor'](_0xf72e4b['w']*_0x5e9dc1);if(_0x1db911['setViewpor'+'t'](_0x5a01de,_0x4c9001,_0x39ea70,_0x3e044b),_0x5c60db['_scissorRe'+'ctClear']){const _0x1b598d=_0x5c60db['scissorRec'+'t'];_0x5a01de=Math['floor'](_0x1b598d['x']*_0x4994fa),_0x4c9001=Math['floor'](_0x1b598d['y']*_0x5e9dc1),_0x39ea70=Math['floor'](_0x1b598d['z']*_0x4994fa),_0x3e044b=Math['floor'](_0x1b598d['w']*_0x5e9dc1);}_0x1db911['setScissor'](_0x5a01de,_0x4c9001,_0x39ea70,_0x3e044b);}['setCameraU'+'niforms'](_0x5e380a,_0x59db54){var _0x2b752c,_0x5dcc6b;const _0xd975f8=_0x59db54==null?void(-0xc*-0x26b+-0x5*-0x75b+0x1*-0x41cb):_0x59db54['flipY'];let _0x51c09d=-0x1d*-0x120+0x1*-0x2407+-0x4*-0xda;if(_0x5e380a['xr']&&_0x5e380a['xr']['session']){const _0x4182a3=((_0x5dcc6b=(_0x2b752c=_0x5e380a['_node'])==null?void(0x1063+0x963+-0x19c6):_0x2b752c['parent'])==null?void(0x7b*0x3+-0x6e*-0x11+-0x8bf*0x1):_0x5dcc6b['getWorldTr'+'ansform']())||null,_0x3268b7=_0x5e380a['xr']['views'];_0x51c09d=_0x3268b7['list']['length'];for(let _0x2978ec=-0x19fe*-0x1+-0x8*-0x31c+-0x32de;_0x2978ec<_0x51c09d;_0x2978ec++){const _0x9073aa=_0x3268b7['list'][_0x2978ec];_0x9073aa['updateTran'+'sforms'](_0x4182a3),_0x5e380a['frustum']['setFromMat'+'4'](_0x9073aa['projViewOf'+'fMat']);}}else{let _0x27acb4=_0x5e380a['projection'+'Matrix'];_0x5e380a['calculateP'+'rojection']&&_0x5e380a['calculateP'+'rojection'](_0x27acb4,Al);let _0x99c436=_0x5e380a['getProject'+'ionMatrixS'+'kybox']();_0xd975f8&&(_0x27acb4=EM['mul2'](g_,_0x27acb4),_0x99c436=CM['mul2'](g_,_0x99c436)),this['device']['isWebGPU']&&(_0x27acb4=MM['mul2'](y_,_0x27acb4),_0x99c436=PM['mul2'](y_,_0x99c436));const {jitter:_0x59868c}=_0x5e380a;let _0x53e6fc=0x2b*0x94+0x1ef4+-0xbc*0x4c,_0x5a75ad=0x12*-0x1f5+0xa3b+0x3*0x855;if(_0x59868c>-0x1de2*0x1+0x211c+0x7*-0x76){const _0x385f7b=_0x59db54?_0x59db54['width']:this['device']['width'],_0x16d40d=_0x59db54?_0x59db54['height']:this['device']['height'],_0x4ded4e=x_[this['device']['renderVers'+'ion']%x_['length']];_0x53e6fc=_0x59868c*(_0x4ded4e['x']*(0x4d+-0xc*-0x2c9+-0x21b7)-(0xa*-0x10a+0x2*0xea5+-0x7*0x2b3))/_0x385f7b,_0x5a75ad=_0x59868c*(_0x4ded4e['y']*(-0x1f07+0xcc8+0x1*0x1241)-(0x10c*-0x2+0x21dd+-0x1fc4))/_0x16d40d,_0x27acb4=RM['copy'](_0x27acb4),_0x27acb4['data'][-0x119*0x10+0x15*0x19b+-0x101f]=_0x53e6fc,_0x27acb4['data'][-0x63d*0x5+-0x4c4+0x21e*0x11]=_0x5a75ad,_0x99c436=IM['copy'](_0x99c436),_0x99c436['data'][0x17cf+0x7*0x58d+0x2*-0x1f51]=_0x53e6fc,_0x99c436['data'][-0xdff*-0x1+-0x3*-0x5db+0x481*-0x7]=_0x5a75ad,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x51c70=_0x59868c>-0xc70+0x230+0xa40?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][0x3*-0x8b+0x5*-0x551+-0x17*-0x13a]=_0x51c70['x'],this['blueNoiseJ'+'itterData'][-0x123e+-0x1*0xd2d+0x1f6c]=_0x51c70['y'],this['blueNoiseJ'+'itterData'][0x1*-0xf8b+0x18*0xed+-0x6ab]=_0x51c70['z'],this['blueNoiseJ'+'itterData'][-0x1783*0x1+-0x1f20+0x36a6]=_0x51c70['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x27acb4['data']),this['projSkybox'+'Id']['setValue'](_0x99c436['data']),_0x5e380a['calculateT'+'ransform'])_0x5e380a['calculateT'+'ransform'](Wi,Al);else{const _0x1b6252=_0x5e380a['_node']['getPositio'+'n'](),_0x4b85ef=_0x5e380a['_node']['getRotatio'+'n']();Wi['setTRS'](_0x1b6252,_0x4b85ef,T['ONE']);}this['viewInvId']['setValue'](Wi['data']),Mn['copy'](Wi)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x27acb4,Mn),this['viewProjId']['setValue'](Hi['data']),_0x5e380a['_storeShad'+'erMatrices'](Hi,_0x53e6fc,_0x5a75ad,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0xd975f8?-(0x221c+0x1e7*-0x4+-0x1a7f):-0xf58+0x317+0xc42),this['dispatchVi'+'ewPos'](_0x5e380a['_node']['getPositio'+'n']()),_0x5e380a['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0xd975f8?-(0x4*0x8f9+-0x1032*-0x1+-0x3415):-0xb53*0x2+-0x1c90+-0x3337*-0x1);const _0x2a1604=_0x5e380a['_nearClip'],_0x925d93=_0x5e380a['_farClip'];return this['nearClipId']['setValue'](_0x2a1604),this['farClipId']['setValue'](_0x925d93),this['cameraPara'+'ms'][0x7b*0x2b+0x3*-0x66b+0x8*-0x2d]=(0x5e*-0x2+-0x1bbf*0x1+0x1c7c)/_0x925d93,this['cameraPara'+'ms'][-0x2*-0xe05+0x250f*0x1+0x823*-0x8]=_0x925d93,this['cameraPara'+'ms'][-0x24a9+0xcd9*0x2+0xaf9]=_0x2a1604,this['cameraPara'+'ms'][0x8*0x148+-0x2*-0xe3b+-0x26b3*0x1]=_0x5e380a['projection']===ua?-0x1f*-0xdd+-0x774+0x7*-0x2c2:0x88b+-0x19a2+-0x36b*-0x5,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x5e380a['getExposur'+'e']():this['scene']['exposure']),_0x51c09d;}['clear'](_0xeb024d,_0xa5454d,_0x19822c,_0x4fc142){const _0x4ade7c=(_0xa5454d??_0xeb024d['_clearColo'+'rBuffer']?Co:0x7b2+-0x4f8+0x2ba*-0x1)|(_0x19822c??_0xeb024d['_clearDept'+'hBuffer']?Mo:-0x497*-0x3+-0xda6*0x1+-0x1f)|(_0x4fc142??_0xeb024d['_clearSten'+'cilBuffer']?Ah:-0x2*-0x485+-0x8*-0x2ba+-0x2*0xf6d);if(_0x4ade7c){const _0x1d4146=this['device'];G['pushGpuMar'+'ker'](_0x1d4146,'CLEAR'),_0x1d4146['clear']({'color':[_0xeb024d['_clearColo'+'r']['r'],_0xeb024d['_clearColo'+'r']['g'],_0xeb024d['_clearColo'+'r']['b'],_0xeb024d['_clearColo'+'r']['a']],'depth':_0xeb024d['_clearDept'+'h'],'stencil':_0xeb024d['_clearSten'+'cil'],'flags':_0x4ade7c}),G['popGpuMark'+'er'](_0x1d4146);}}['setCamera'](_0x15cf8e,_0x40856c,_0x296a64,_0xf97be6=null){this['setCameraU'+'niforms'](_0x15cf8e,_0x40856c),this['clearView'](_0x15cf8e,_0x40856c,_0x296a64,!(-0x2f2*0xa+0x58*-0x6a+0x15f7*0x3));}['clearView'](_0xbd5571,_0x1377ee,_0x370337,_0x17ca42){const _0x4bf12f=this['device'];if(G['pushGpuMar'+'ker'](_0x4bf12f,'CLEAR-VIEW'),_0x4bf12f['setRenderT'+'arget'](_0x1377ee),_0x4bf12f['updateBegi'+'n'](),_0x17ca42&&(_0x4bf12f['setColorWr'+'ite'](!(0x5*0x227+0x23e3+-0xe*0x355),!(-0xe*0x2f+-0xbf3+0xe85),!(-0x2579+0xfdc+0x159d),!(-0x1a2b*0x1+-0x9b2+-0x23dd*-0x1)),_0x4bf12f['setDepthWr'+'ite'](!(-0x223c+0x1fcf+0x9*0x45))),this['setupViewp'+'ort'](_0xbd5571,_0x1377ee),_0x370337){const _0x530be0=_0xbd5571['_clearOpti'+'ons'];_0x4bf12f['clear'](_0x530be0||{'color':[_0xbd5571['_clearColo'+'r']['r'],_0xbd5571['_clearColo'+'r']['g'],_0xbd5571['_clearColo'+'r']['b'],_0xbd5571['_clearColo'+'r']['a']],'depth':_0xbd5571['_clearDept'+'h'],'flags':(_0xbd5571['_clearColo'+'rBuffer']?Co:-0x1a1c+0x1cb5+-0x1*0x299)|(_0xbd5571['_clearDept'+'hBuffer']?Mo:-0x1622+-0x1064+0x2686)|(_0xbd5571['_clearSten'+'cilBuffer']?Ah:-0x7b6+-0x70*0x59+0x2ea6),'stencil':_0xbd5571['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x4bf12f);}['setupCullM'+'ode'](_0xf8a466,_0x1ed37b,_0x41ea9f){const _0x483a7b=_0x41ea9f['material'];let _0x47b4a6=mt;if(_0xf8a466){let _0x2dff06=-0xc6c+0x2651+-0x19e4;(_0x483a7b['cull']===mo||_0x483a7b['cull']===rn)&&(_0x2dff06=_0x1ed37b*_0x41ea9f['flipFacesF'+'actor']*_0x41ea9f['node']['worldScale'+'Sign']),_0x2dff06<0x129d+-0x2*0x33+0x1*-0x1237?_0x47b4a6=_0x483a7b['cull']===mo?rn:mo:_0x47b4a6=_0x483a7b['cull'];}this['device']['setCullMod'+'e'](_0x47b4a6),_0x47b4a6===mt&&_0x483a7b['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x41ea9f['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x477be6){if(_0x477be6['xr']&&_0x477be6['xr']['views']['list']['length']){const _0x19bc18=_0x477be6['xr']['views']['list'][-0xe57*-0x1+-0xc96+-0x1c1];Hi['mul2'](_0x19bc18['projMat'],_0x19bc18['viewOffMat']),_0x477be6['frustum']['setFromMat'+'4'](Hi);return;}const _0x3a1b83=_0x477be6['projection'+'Matrix'];if(_0x477be6['calculateP'+'rojection']&&_0x477be6['calculateP'+'rojection'](_0x3a1b83,Al),_0x477be6['calculateT'+'ransform'])_0x477be6['calculateT'+'ransform'](Wi,Al);else{const _0x5c70cd=_0x477be6['_node']['getPositio'+'n'](),_0x12ca27=_0x477be6['_node']['getRotatio'+'n']();Wi['setTRS'](_0x5c70cd,_0x12ca27,T['ONE']),this['viewInvId']['setValue'](Wi['data']);}Mn['copy'](Wi)['invert'](),Hi['mul2'](_0x3a1b83,Mn),_0x477be6['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x3d6553,_0x758d04){_0x3d6553['setCullMod'+'e'](_0x758d04['cull']),_0x758d04['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x758d04['opacityMap']),(_0x758d04['opacityMap']||_0x758d04['alphaTest']>-0x8d2*0x4+0x18f5+0xa53)&&this['alphaTestI'+'d']['setValue'](_0x758d04['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x1996b4){Dd++;const _0x175a93=_0x1996b4['length'];if(_0x175a93===-0xb*-0x294+0x1683+0x3*-0x10f5)return;const _0x4a327c=ne();for(let _0x3e9ceb=0x37*-0x68+-0xbdf+0x2237*0x1;_0x3e9ceb<_0x175a93;_0x3e9ceb++){const _0x1ed5ca=_0x1996b4[_0x3e9ceb]['skinInstan'+'ce'];_0x1ed5ca&&(_0x1ed5ca['updateMatr'+'ices'](_0x1996b4[_0x3e9ceb]['node'],Dd),_0x1ed5ca['_dirty']=!(-0xa5d+-0x5*-0x313+-0x502));}this['_skinTime']+=ne()-_0x4a327c;}['updateGpuS'+'kinMatrice'+'s'](_0x68789b){const _0x3ea4f2=ne();for(const _0x22dace of _0x68789b){const _0x307dd2=_0x22dace['skinInstan'+'ce'];_0x307dd2&&_0x307dd2['_dirty']&&(_0x307dd2['updateMatr'+'ixPalette'](_0x22dace['node'],Dd),_0x307dd2['_dirty']=!(-0x1*-0x26b4+0x17f*-0x7+0xe1d*-0x2));}this['_skinTime']+=ne()-_0x3ea4f2;}['updateMorp'+'hing'](_0x9e3123){const _0x24c6c7=ne();for(const _0x5a5394 of _0x9e3123){const _0x2f45e3=_0x5a5394['morphInsta'+'nce'];_0x2f45e3&&_0x2f45e3['_dirty']&&_0x2f45e3['update']();}this['_morphTime']+=ne()-_0x24c6c7;}['updateGSpl'+'ats'](_0x2c0229){var _0x4b7892;for(const _0x3c263c of _0x2c0229)(_0x4b7892=_0x3c263c['gsplatInst'+'ance'])==null||_0x4b7892['update']();}['gpuUpdate'](_0x32dd4a){this['updateGpuS'+'kinMatrice'+'s'](_0x32dd4a),this['updateMorp'+'hing'](_0x32dd4a),this['updateGSpl'+'ats'](_0x32dd4a);}['setVertexB'+'uffers'](_0x23cfb2,_0x10f0ef){_0x23cfb2['setVertexB'+'uffer'](_0x10f0ef['vertexBuff'+'er']);}['setMorphin'+'g'](_0x3cbfd8,_0xd51142){_0xd51142&&(_0xd51142['prepareRen'+'dering'](_0x3cbfd8),_0x3cbfd8['setVertexB'+'uffer'](_0xd51142['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0xd51142['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0xd51142['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0xd51142['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x1bb339,_0x17712a){const _0x2d52ec=_0x17712a['skinInstan'+'ce'];if(_0x2d52ec){this['_skinDrawC'+'alls']++;const _0x380b9e=_0x2d52ec['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x380b9e),this['boneTextur'+'eSizeId']['setValue'](_0x2d52ec['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x4d831d){const _0x16c525=this['viewPos'];_0x16c525[-0x1*0x88f+0x2237+-0x19a8]=_0x4d831d['x'],_0x16c525[0x2205*-0x1+0x1c90+0x576*0x1]=_0x4d831d['y'],_0x16c525[-0x1*-0xe9+0x1fd7+-0x20be]=_0x4d831d['z'],this['viewPosId']['setValue'](_0x16c525);}['initViewBi'+'ndGroupFor'+'mat'](_0x3bde36){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x36c7c1=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',$t),new gt('skyboxInte'+'nsity',$s),new gt('exposure',$s),new gt('textureBia'+'s',$s)];_0x3bde36&&_0x36c7c1['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',$t),new gt('clusterTex'+'tureSize',$t),new gt('clusterBou'+'ndsMin',$t),new gt('clusterBou'+'ndsDelta',$t),new gt('clusterCel'+'lsDot',$t),new gt('clusterCel'+'lsMax',$t),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x36c7c1);const _0xc21338=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x3bde36&&_0xc21338['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0xc21338);}}['setupViewU'+'niformBuff'+'ers'](_0x5801ce,_0x4e82a5,_0x52d1d0,_0x5aff61){v['assert'](Array['isArray'](_0x5801ce),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x510992=this['device'];for(v['assert'](_0x5aff61===0x16a9+-0x1416+-0x5e*0x7,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x5801ce['length']<_0x5aff61;){const _0x98787a=new gp(_0x510992,_0x4e82a5,!(0x15a*-0x17+-0x3b*-0x77+0x3aa)),_0x17eaf9=new mp(_0x510992,_0x52d1d0,_0x98787a);mn['setName'](_0x17eaf9,'ViewBindGr'+'oup_'+_0x17eaf9['id']),_0x5801ce['push'](_0x17eaf9);}const _0x297a89=_0x5801ce[0xba3+0xd24*-0x2+0xea5];_0x297a89['defaultUni'+'formBuffer']['update'](),_0x297a89['update'](),_0x510992['setBindGro'+'up'](Dh,_0x297a89);}['setupMeshU'+'niformBuff'+'ers'](_0x5a9d4b,_0xbc5a96){const _0x1403f5=this['device'];if(_0x1403f5['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0xbc5a96['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0xbc5a96['node']['normalMatr'+'ix']['data']);const _0x263159=_0x5a9d4b['getBindGro'+'up'](_0x1403f5);_0x263159['update'](),_0x1403f5['setBindGro'+'up'](Xy,_0x263159),_0x5a9d4b['getUniform'+'Buffer'](_0x1403f5)['update'](kd),_0x1403f5['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x35141b,_0x238894,_0x56c8f1,_0x3aad2c,_0x2d4bc0){const _0x2cb546=_0x238894['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x2cb546['data']),_0x2d4bc0&&this['normalMatr'+'ixId']['setValue'](_0x238894['node']['normalMatr'+'ix']['data']);const _0x342c52=_0x238894['instancing'+'Data'];_0x342c52?_0x342c52['count']>-0xcb9+-0x8c4*0x2+0x1e41?(this['_instanced'+'DrawCalls']++,_0x35141b['setVertexB'+'uffer'](_0x342c52['vertexBuff'+'er']),_0x35141b['draw'](_0x56c8f1['primitive'][_0x3aad2c],_0x342c52['count'])):_0x35141b['clearVerte'+'xBuffer']():_0x35141b['draw'](_0x56c8f1['primitive'][_0x3aad2c]);}['drawInstan'+'ce2'](_0x9f3ab2,_0x2cab10,_0x38b3dd,_0x24e9be){const _0x52a899=_0x2cab10['instancing'+'Data'];_0x52a899?_0x52a899['count']>0x1*-0x15a7+-0xd*0x1e7+0x2e62?(this['_instanced'+'DrawCalls']++,_0x9f3ab2['draw'](_0x38b3dd['primitive'][_0x24e9be],_0x52a899['count'],!(0xe*0x257+0x6f1+0x1*-0x27b3))):_0x9f3ab2['clearVerte'+'xBuffer']():_0x9f3ab2['draw'](_0x38b3dd['primitive'][_0x24e9be],void(0x13d0+-0x2588+-0x6c*-0x2a),!(0x8*0x10a+-0xbb*-0x1+-0x90b));}['cull'](_0x44a094,_0x5bc456,_0x2cba0){const _0x333f4d=ne(),_0x22992b=_0x2cba0['opaque'];_0x22992b['length']=0x2038+0x1c13+-0x3c4b;const _0x2bacb7=_0x2cba0['transparen'+'t'];_0x2bacb7['length']=0x1*0xe14+0xa2c+-0x1840;const _0x4a5f6b=_0x44a094['frustumCul'+'ling'],_0x2631d1=_0x5bc456['length'];for(let _0x578070=0x7*0x4db+-0x73c+-0x9*0x2f9;_0x578070<_0x2631d1;_0x578070++){const _0x1ee2e0=_0x5bc456[_0x578070];_0x1ee2e0['visible']&&(!_0x4a5f6b||!_0x1ee2e0['cull']||_0x1ee2e0['_isVisible'](_0x44a094))&&(_0x1ee2e0['visibleThi'+'sFrame']=!(-0xa62*-0x3+-0xf5e+-0x1f9*0x8),(_0x1ee2e0['transparen'+'t']?_0x2bacb7:_0x22992b)['push'](_0x1ee2e0),(_0x1ee2e0['skinInstan'+'ce']||_0x1ee2e0['morphInsta'+'nce']||_0x1ee2e0['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x1ee2e0),_0x1ee2e0['gsplatInst'+'ance']&&_0x1ee2e0['gsplatInst'+'ance']['cameras']['push'](_0x44a094)));}this['_cullTime']+=ne()-_0x333f4d,this['_numDrawCa'+'llsCulled']+=_0x4a5f6b?_0x2631d1:0x1*-0x1c0d+-0x1*-0x42d+-0x5f8*-0x4;}['collectLig'+'hts'](_0x156492){this['lights']['length']=0x1*-0x14c4+-0x1733*0x1+-0x8cb*-0x5,this['localLight'+'s']['length']=0x1*-0x2350+-0x1e5b+-0x41ab*-0x1;const _0x4eedd9=this['scene']['_stats'];_0x4eedd9['dynamicLig'+'hts']=0x3d*-0x4f+0x2695*-0x1+0x3968,_0x4eedd9['bakedLight'+'s']=0x222f+-0x23b0+0x4d*0x5;const _0x3e1e12=_0x156492['layerList']['length'];for(let _0x23c861=0xadb*-0x1+-0x1*0x2cf+0x6*0x247;_0x23c861<_0x3e1e12;_0x23c861++){const _0x286557=_0x156492['layerList'][_0x23c861];if(!Od['has'](_0x286557)){Od['add'](_0x286557);const _0x59f6ec=_0x286557['_lights'];for(let _0x2052e6=0x13a5+0x22dc+0x122b*-0x3;_0x2052e6<_0x59f6ec['length'];_0x2052e6++){const _0x4a6361=_0x59f6ec[_0x2052e6];Fd['has'](_0x4a6361)||(Fd['add'](_0x4a6361),this['lights']['push'](_0x4a6361),_0x4a6361['_type']!==oe&&this['localLight'+'s']['push'](_0x4a6361),(_0x4a6361['mask']&hs||_0x4a6361['mask']&cr)&&_0x4eedd9['dynamicLig'+'hts']++,_0x4a6361['mask']&rr&&_0x4eedd9['bakedLight'+'s']++);}}}_0x4eedd9['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x5d1f21,_0x4041e7){const _0x11b925=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x3a28f4=this['scene']['physicalUn'+'its'];for(let _0x5c653f=0x312+-0x25*0x1+-0x2ed;_0x5c653f<_0x4041e7['length'];_0x5c653f++){const _0x355054=_0x4041e7[_0x5c653f];if(_0x355054['enabled']){if(_0x355054['_type']!==oe){if(_0x355054['getBoundin'+'gSphere'](Ld),_0x5d1f21['frustum']['containsSp'+'here'](Ld)){_0x355054['visibleThi'+'sFrame']=!(0x1819+0x2*-0x899+-0x5d*0x13),_0x355054['usePhysica'+'lUnits']=_0x3a28f4;const _0x189481=_0x5d1f21['getScreenS'+'ize'](Ld);_0x355054['maxScreenS'+'ize']=Math['max'](_0x355054['maxScreenS'+'ize'],_0x189481);}else _0x11b925||_0x355054['castShadow'+'s']&&!_0x355054['shadowMap']&&(_0x355054['visibleThi'+'sFrame']=!(-0x133d*0x2+-0x1*-0x246e+0x20c));}else _0x355054['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x1a0fe2){const _0x1a3614=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x1900bb=0x5d7+-0x7*-0x257+-0x1638;_0x1900bb<this['localLight'+'s']['length'];_0x1900bb++){const _0x2e7500=this['localLight'+'s'][_0x1900bb];_0x2e7500['_type']!==oe&&(_0x1a3614?_0x2e7500['atlasSlotU'+'pdated']&&_0x2e7500['shadowUpda'+'teMode']===Ps&&(_0x2e7500['shadowUpda'+'teMode']=cn):_0x2e7500['shadowUpda'+'teMode']===Ps&&_0x2e7500['castShadow'+'s']&&(_0x2e7500['getRenderD'+'ata'](null,0x2357+0xfe9*-0x1+0x6*-0x33d)['shadowCame'+'ra']['renderTarg'+'et']||(_0x2e7500['shadowUpda'+'teMode']=cn)),_0x2e7500['visibleThi'+'sFrame']&&_0x2e7500['castShadow'+'s']&&_0x2e7500['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x2e7500,_0x1a0fe2));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x54ec7d=_0x1a0fe2['cameras'];for(let _0x277988=0xc29*-0x1+0x2*-0xc91+0x254b;_0x277988<_0x54ec7d['length'];_0x277988++){const _0x406f9c=_0x54ec7d[_0x277988];if(_0x406f9c['enabled']){const _0x4574b0=_0x406f9c['camera'];let _0x7d15e8;const _0x1e2485=_0x4574b0['layers'];for(let _0x12750a=-0xb47+-0x61*-0x10+-0x537*-0x1;_0x12750a<_0x1e2485['length'];_0x12750a++){const _0x5b121e=_0x1a0fe2['getLayerBy'+'Id'](_0x1e2485[_0x12750a]);if(_0x5b121e){const _0x2a15c8=_0x5b121e['splitLight'+'s'][oe];for(let _0x35bdd9=0x1934+-0x1a1+-0x1*0x1793;_0x35bdd9<_0x2a15c8['length'];_0x35bdd9++){const _0x4e98ee=_0x2a15c8[_0x35bdd9];_0x4e98ee['castShadow'+'s']&&!Pn['has'](_0x4e98ee)&&(Pn['add'](_0x4e98ee),_0x7d15e8=_0x7d15e8??[],_0x7d15e8['push'](_0x4e98ee),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4e98ee,_0x1a0fe2,_0x4574b0));}}}_0x7d15e8&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x4574b0,_0x7d15e8),Pn['clear']();}}}['cullCompos'+'ition'](_0x1a4268){const _0x5d52fc=ne(),{scene:_0x54fac1}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x2e1361=_0x1a4268['cameras']['length'];this['_camerasRe'+'ndered']+=_0x2e1361;for(let _0x1d9bdf=-0x3*-0xa6a+0x4b7*-0x1+-0x1a87;_0x1d9bdf<_0x2e1361;_0x1d9bdf++){const _0x10ac04=_0x1a4268['cameras'][_0x1d9bdf];_0x54fac1==null||_0x54fac1['fire'](ow,_0x10ac04);const _0x200d64=_0x10ac04['renderTarg'+'et'];_0x10ac04['frameUpdat'+'e'](_0x200d64),this['updateCame'+'raFrustum'](_0x10ac04['camera']);const _0x204177=_0x10ac04['layers'];for(let _0x21bc5e=0x55b+-0x1*-0x1693+-0x1bee;_0x21bc5e<_0x204177['length'];_0x21bc5e++){const _0x2a7f54=_0x1a4268['getLayerBy'+'Id'](_0x204177[_0x21bc5e]);if(_0x2a7f54&&_0x2a7f54['enabled']){this['cullLights'](_0x10ac04['camera'],_0x2a7f54['_lights']);const _0x3f260b=_0x2a7f54['getCulledI'+'nstances'](_0x10ac04['camera']);this['cull'](_0x10ac04['camera'],_0x2a7f54['meshInstan'+'ces'],_0x3f260b);}}_0x54fac1==null||_0x54fac1['fire'](lw,_0x10ac04);}_0x54fac1['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x1a4268),this['_cullTime']+=ne()-_0x5d52fc;}['updateShad'+'ers'](_0x46bc8b,_0x598fa8){const _0x1ae212=_0x46bc8b['length'];for(let _0x4450d3=-0xea4+-0x39a*-0x1+0x3*0x3ae;_0x4450d3<_0x1ae212;_0x4450d3++){const _0x56cbd3=_0x46bc8b[_0x4450d3]['material'];if(_0x56cbd3&&!Pn['has'](_0x56cbd3)&&(Pn['add'](_0x56cbd3),_0x56cbd3['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x598fa8&&(!_0x56cbd3['useLightin'+'g']||_0x56cbd3['emitter']&&!_0x56cbd3['emitter']['lighting']))continue;_0x56cbd3['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x24deea){const _0x199d39=this['scene'],_0x14288f=_0x199d39['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x31ccb9=-0x8aa+-0x15f9+0x155*0x17;const _0x1711fc=_0x24deea['layerList'],_0x4fdeae=_0x1711fc['length'];for(let _0x32d1f6=-0x1*-0xd3f+0x1b83+-0xde*0x2f;_0x32d1f6<_0x4fdeae;_0x32d1f6++){const _0x2dd6f1=_0x1711fc[_0x32d1f6]['meshInstan'+'ces'],_0x567305=_0x2dd6f1['length'];_0x31ccb9+=_0x567305;for(let _0x29e362=0xec+0x2252+0x1a*-0x15b;_0x29e362<_0x567305;_0x29e362++){const _0x2fb0bf=_0x2dd6f1[_0x29e362];_0x2fb0bf['visibleThi'+'sFrame']=!(-0x1fd8+-0x1b3e+0x3b17),_0x14288f&&Bd['push'](_0x2fb0bf),_0x2fb0bf['skinInstan'+'ce']&&Nd['push'](_0x2fb0bf);}}if(_0x199d39['_stats']['meshInstan'+'ces']=_0x31ccb9,_0x14288f){const _0x324ceb=!_0x199d39['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x324ceb),_0x199d39['updateShad'+'ers']=!(0x6c+-0x1*0x45e+-0x3*-0x151),this['device']['_shadersDi'+'rty']=!(0x71*0xd+0x416*-0x3+-0x1*-0x686),_0x199d39['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0xa96*-0x2+0x2d+0x433*0x5,Nd['length']=0x19db+0x6e9+-0x20c4;const _0x1062c8=this['lights'],_0x4ed55d=_0x1062c8['length'];for(let _0x4f8093=0x171a*0x1+0x1d58+-0x3472;_0x4f8093<_0x4ed55d;_0x4f8093++)_0x1062c8[_0x4f8093]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x6d2ac0){const _0x431077=ne(),_0x3254e2=_0x6d2ac0['layerList']['length'],_0x5c3cc2=this['scene']['_shaderVer'+'sion'];for(let _0x3198cd=-0x3d9*0x5+0x2a9+0x1094;_0x3198cd<_0x3254e2;_0x3198cd++){const _0x3b15e9=_0x6d2ac0['layerList'][_0x3198cd];_0x3b15e9['_shaderVer'+'sion']=_0x5c3cc2,_0x3b15e9['_skipRende'+'rCounter']=-0x1d61+0x1181+-0x5f*-0x20,_0x3b15e9['_forwardDr'+'awCalls']=0x192e+-0x15+-0x1919,_0x3b15e9['_shadowDra'+'wCalls']=0x1cf7*-0x1+0x1*0x2479+-0x782,_0x3b15e9['_renderTim'+'e']=-0x2*-0x7db+0x1*-0xbad+-0x409;}_0x6d2ac0['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x431077;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x1*0x1b6b+0xad3+0x1099),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x1e29+0x89d+0x158d),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x1a5e+0x1e33+-0x3890),this['clearDepth']=!(0x11*-0x166+-0x6b2+0x1e79),this['clearStenc'+'il']=!(0x1f0d*-0x1+-0x1173*-0x2+0x29*-0x18),this['triggerPos'+'tprocess']=!(-0x1*-0x1111+-0x1507*-0x1+-0x2617),this['firstCamer'+'aUse']=!(0xf88+-0x7*0x12c+-0x19*0x4b),this['lastCamera'+'Use']=!(0x1b2f+-0xd97*-0x2+-0x365c),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x922+0x28*-0x1a+-0x511));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x29900f=>{_0x29900f['defaultUni'+'formBuffer']['destroy'](),_0x29900f['destroy']();}),this['viewBindGr'+'oups']['length']=0x2*0xcd7+0x6d2+0x1a*-0x140;}['setupClear'+'s'](_0x3f89f4,_0x327b9e){this['clearColor']=(_0x3f89f4==null?void(0x3*0x1eb+-0x2*0x130d+0x2059):_0x3f89f4['clearColor'+'Buffer'])||_0x327b9e['clearColor'+'Buffer'],this['clearDepth']=(_0x3f89f4==null?void(-0x3*0x377+0x4*-0x5+-0x7*-0x17f):_0x3f89f4['clearDepth'+'Buffer'])||_0x327b9e['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x3f89f4==null?void(0x15df+0x1eed*0x1+0x4*-0xd33):_0x3f89f4['clearStenc'+'ilBuffer'])||_0x327b9e['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x59e0df,_0x2db0f2,_0x177477,_0x4a13cb){super(_0x59e0df),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0xb19*0x1+0x2*-0x158+-0x868)),(this['layerCompo'+'sition']=_0x2db0f2,this['scene']=_0x177477,this['renderer']=_0x4a13cb);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x1f18+-0x2541+0x629*0x1;}['addRenderA'+'ction'](_0x4c707a){this['renderActi'+'ons']['push'](_0x4c707a);}['addLayer'](_0x4183b5,_0x5c56a7,_0x463f6f,_0x3c4c00=!(-0x2167+0x184b+0x2c*0x35)){v['assert'](_0x4183b5),v['assert'](this['renderTarg'+'et']!==void(-0xa4f*0x3+-0x43*-0x95+-0x812),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x4183b5['camera']['layersSet']['has'](_0x5c56a7['id']),'Camera\x20'+_0x4183b5['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x5c56a7['name']+'.');const _0x4adc35=new D0();if(_0x4adc35['renderTarg'+'et']=this['renderTarg'+'et'],_0x4adc35['camera']=_0x4183b5,_0x4adc35['layer']=_0x5c56a7,_0x4adc35['transparen'+'t']=_0x463f6f,_0x3c4c00){const _0x25f1ec=this['renderActi'+'ons']['length']===-0x1*0x1b5c+0x8e*0x13+-0x10d2*-0x1;_0x4adc35['setupClear'+'s'](_0x25f1ec?_0x4183b5:void(-0x1*-0x1b41+-0x249c+0x95b),_0x5c56a7);}this['addRenderA'+'ction'](_0x4adc35);}['addLayers'](_0x1d0ec0,_0x1299aa,_0x143d6e,_0x369a44,_0x130384,_0x31cd9e=!(-0x74e+0x3*0x878+0xe*-0x14b)){const {layerList:_0x242806,subLayerList:_0x4b93d1}=_0x1d0ec0;let _0x3d3db9=_0x369a44,_0x153029=_0x143d6e;for(;_0x153029<_0x242806['length'];){const _0x5f294f=_0x242806[_0x153029],_0x2ed6f7=_0x4b93d1[_0x153029];if(_0x1299aa['camera']['layersSet']['has'](_0x5f294f['id'])&&(this['addLayer'](_0x1299aa,_0x5f294f,_0x2ed6f7,_0x3d3db9),_0x3d3db9=!(-0x2630+0x3*0x60d+0x140a)),_0x153029++,_0x5f294f['id']===_0x130384&&_0x2ed6f7===_0x31cd9e)break;}return _0x153029;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x72182c,renderActions:_0x449f62}=this;for(let _0x5e1e85=-0x27f+0x20b9*-0x1+0x2338;_0x5e1e85<_0x449f62['length'];_0x5e1e85++){const _0x4651d7=_0x449f62[_0x5e1e85]['camera']['camera'],_0x242c7f=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x4651d7);if(_0x242c7f)for(let _0x4afdd1=0x641+0x20b8+0x1*-0x26f9;_0x4afdd1<_0x242c7f['length'];_0x4afdd1++){const _0x1fed92=_0x242c7f[_0x4afdd1];if(_0x72182c['dirLightSh'+'adows']['get'](_0x1fed92)!==_0x4651d7){_0x72182c['dirLightSh'+'adows']['set'](_0x1fed92,_0x4651d7);const _0x583588=_0x72182c['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x1fed92,_0x4651d7);_0x583588&&this['beforePass'+'es']['push'](_0x583588);}}}}['updateClea'+'rs'](){const _0x216877=this['renderActi'+'ons'][0x77b*0x3+0xe5*0x11+-0x12d3*0x2];if(_0x216877){const _0x3227a0=_0x216877['camera']['camera'],_0x450f7b=_0x3227a0['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x450f7b&&_0x216877['clearColor']?_0x3227a0['clearColor']:void(-0x16b4*0x1+0x18b0+0xfe*-0x2)),this['setClearDe'+'pth'](_0x450f7b&&_0x216877['clearDepth']&&!this['noDepthCle'+'ar']?_0x3227a0['clearDepth']:void(-0xfd6+0x10f9+-0x123)),this['setClearSt'+'encil'](_0x450f7b&&_0x216877['clearStenc'+'il']?_0x3227a0['clearStenc'+'il']:void(0x15eb+-0x1c31+0x646));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x11cca5}=this;for(let _0x1751f8=-0x194b*0x1+0x2321+-0x9d6;_0x1751f8<_0x11cca5['length'];_0x1751f8++){const _0x12593b=_0x11cca5[_0x1751f8];_0x12593b['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x12593b['camera']);}}['execute'](){const {layerComposition:_0x2de4e0,renderActions:_0x5c1a87}=this;for(let _0x4ac82b=-0x1c20+0xc0c+-0x3*-0x55c;_0x4ac82b<_0x5c1a87['length'];_0x4ac82b++){const _0x4ca2e7=_0x5c1a87[_0x4ac82b],_0x26fcbb=_0x4ca2e7['layer'];v['call'](()=>{_0x2de4e0['getLayerBy'+'Name'](_0x26fcbb['name'])||v['warnOnce']('Layer\x20'+_0x26fcbb['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x2de4e0['isEnabled'](_0x26fcbb,_0x4ca2e7['transparen'+'t'])&&this['renderRend'+'erAction'](_0x4ca2e7,_0x4ac82b===0x2455*0x1+-0x5*-0x7c+0x3*-0xceb);}}['after'](){for(let _0x20c4ca=0x182c+0x23a3+0x3bcf*-0x1;_0x20c4ca<this['renderActi'+'ons']['length'];_0x20c4ca++){const _0x410c8d=this['renderActi'+'ons'][_0x20c4ca];_0x410c8d['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x410c8d['camera']);}this['beforePass'+'es']['length']=-0x19*-0xce+0xd*-0xb2+-0xb14*0x1;}['renderRend'+'erAction'](_0x40e625,_0x5eb483){var _0xaae59d;const {renderer:_0x1aa60d,scene:_0x4a27af}=this,_0x2453b8=_0x1aa60d['device'],{layer:_0x5d47a6,transparent:_0x5da040,camera:_0x355aa5}=_0x40e625;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x355aa5?_0x355aa5['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x5d47a6['name']+'('+(_0x5da040?'TRANSP':'OPAQUE')+')');const _0x3ce142=ne();if(_0x355aa5){const _0x5e952c=_0x355aa5['gammaCorre'+'ction'],_0xd0114d=_0x355aa5['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x146e+0x9da+-0x1e48)&&(_0x355aa5['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x1fb0+0x1ed7+0xd9)&&(_0x355aa5['toneMappin'+'g']=this['toneMappin'+'g']),_0x4a27af['fire'](nw,_0x355aa5,_0x5d47a6,_0x5da040);const _0x8e9ed={'lightClusters':_0x40e625['lightClust'+'ers']},_0x65aedc=((_0xaae59d=_0x355aa5['camera']['shaderPass'+'Info'])==null?void(-0x4bc+0x1*0x20a0+-0xdf2*0x2):_0xaae59d['index'])??gn;(!_0x5eb483||!_0x355aa5['camera']['fullSizeCl'+'earRect'])&&(_0x8e9ed['clearColor']=_0x40e625['clearColor'],_0x8e9ed['clearDepth']=_0x40e625['clearDepth'],_0x8e9ed['clearStenc'+'il']=_0x40e625['clearStenc'+'il']);const _0xea17a7=_0x40e625['renderTarg'+'et']??_0x2453b8['backBuffer'];_0x1aa60d['renderForw'+'ardLayer'](_0x355aa5['camera'],_0xea17a7,_0x5d47a6,_0x5da040,_0x65aedc,_0x40e625['viewBindGr'+'oups'],_0x8e9ed),_0x2453b8['setBlendSt'+'ate'](_t['NOBLEND']),_0x2453b8['setStencil'+'State'](null,null),_0x2453b8['setAlphaTo'+'Coverage'](!(0x7b7+0x1*0x1d32+-0x24e8)),_0x4a27af['fire'](aw,_0x355aa5,_0x5d47a6,_0x5da040),this['gammaCorre'+'ction']!==void(-0x1*-0x2f3+0x1bda+0x5*-0x629)&&(_0x355aa5['gammaCorre'+'ction']=_0x5e952c),this['toneMappin'+'g']!==void(-0xdce+0x1*-0xe86+0x1c54)&&(_0x355aa5['toneMappin'+'g']=_0xd0114d);}G['popGpuMark'+'er'](this['device']),_0x5d47a6['_renderTim'+'e']+=ne()-_0x3ce142;}['log'](_0x204178,_0x394fd6){if(super['log'](_0x204178,_0x394fd6),Xs['get'](Jn)){const {layerComposition:_0x2208c1}=this;this['renderActi'+'ons']['forEach']((_0x12f36f,_0x188dbc)=>{const _0x2d4f78=_0x12f36f['layer'],_0x1fbc20=_0x2d4f78['enabled']&&_0x2208c1['isEnabled'](_0x2d4f78,_0x12f36f['transparen'+'t']),_0x992a1a=_0x12f36f['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x188dbc+':'+('\x20Cam:\x20'+(_0x992a1a?_0x992a1a['entity']['name']:'-'))['padEnd'](-0x1*0x1f97+-0x1819+0x37c6,'\x20')+('\x20Lay:\x20'+_0x2d4f78['name'])['padEnd'](-0x3a9+0x12ae+-0x1*0xeef,'\x20')+(_0x12f36f['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x1fbc20?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x2d4f78['meshInstan'+'ces']['length'])['padEnd'](0x3b*0x4d+-0xf95+-0x225*0x1,'\x20'));});}}}class FM extends ds{constructor(_0x21ade3,_0x1b9494,_0x3981a2){super(_0x21ade3),this['renderer']=_0x1b9494,this['renderActi'+'on']=_0x3981a2,this['requiresCu'+'bemaps']=!(-0x2*0xa03+0xd78+0x49*0x17);}['execute'](){const _0x177efe=this['renderActi'+'on'],_0x3e4eba=_0x177efe['camera'];v['assert'](_0x177efe['triggerPos'+'tprocess']&&_0x3e4eba['onPostproc'+'essing']),_0x3e4eba['onPostproc'+'essing']();}}const OM=[[],[],[]],$i=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0xd8d+-0x1742+0x24cf,this['shaderInst'+'ances']['length']=0x3*0x56b+-0x224+-0x1*0xe1d,this['isNewMater'+'ial']['length']=0x4ca*0x1+0x10ce+-0x1598,this['lightMaskC'+'hanged']['length']=0x696+-0x2ad*0x1+0xd*-0x4d;}};function kM(_0x5386a6){const _0x4b8dfe=[];for(let _0x331e01=-0x158*-0x16+-0x21b1+0x421;_0x331e01<_0x5386a6;++_0x331e01){const _0x45c171=Math['sqrt'](_0x331e01+(-0x4c9+0xcf2+-0x829+0.5))/Math['sqrt'](_0x5386a6);_0x4b8dfe['push'](_0x45c171);}return _0x4b8dfe;}function BM(_0x1d3b4){const _0xbf06c7=[];for(let _0x171b75=-0x9d3+0xef*-0x1+0x1cb*0x6;_0x171b75<_0x1d3b4;_0x171b75++){const _0x20fb66=_0x171b75/_0x1d3b4,_0x3fb96f=Math['sqrt'](_0x20fb66*_0x20fb66);_0xbf06c7['push'](_0x3fb96f);}return _0xbf06c7;}const _i=class _i extends DM{constructor(_0x1e42c9){super(_0x1e42c9);const _0x26c79c=this['device'];this['_forwardDr'+'awCalls']=-0x1*-0x1345+-0x2216*0x1+0xed1*0x1,this['_materialS'+'witches']=-0x24b1+0x887+0x1c2a,this['_depthMapT'+'ime']=0xdda+0x425+0x1*-0x11ff,this['_forwardTi'+'me']=0x5c5*-0x3+0xf70+0x1df,this['_sortTime']=0x4cc*-0x1+0x1a*0x131+-0x3*0x8ba;const _0x2c05a8=_0x26c79c['scope'];this['fogColorId']=_0x2c05a8['resolve']('fog_color'),this['fogStartId']=_0x2c05a8['resolve']('fog_start'),this['fogEndId']=_0x2c05a8['resolve']('fog_end'),this['fogDensity'+'Id']=_0x2c05a8['resolve']('fog_densit'+'y'),this['ambientId']=_0x2c05a8['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x2c05a8['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x2c05a8['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x2c05a8['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x2c05a8['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x2c05a8['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x1250+0x17ac+-0x558),this['fogColor']=new Float32Array(0x2558+0x24fd+-0x4a52),this['ambientCol'+'or']=new Float32Array(0x2402+0x169f+-0x3a9e),this['pcssDiskSa'+'mples']=kM(-0xc3d+-0x1134+-0x437*-0x7),this['pcssSphere'+'Samples']=BM(-0xc51+0xc83+-0x22);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x212d8d){const _0x37a897=this['ambientCol'+'or'];if($i['linear'](_0x212d8d['ambientLig'+'ht']),_0x37a897[0xb59+0x2*0x1140+-0x2dd9]=$i['r'],_0x37a897[-0x254b*-0x1+-0x265*-0x1+-0x27af]=$i['g'],_0x37a897[0x1403*0x1+0x3*-0x639+-0x2*0xab]=$i['b'],_0x212d8d['physicalUn'+'its']){for(let _0x206e78=0x1bd2+-0x1ca*-0x7+-0x2858;_0x206e78<-0x1cb8+0x2666+-0x9ab;_0x206e78++)_0x37a897[_0x206e78]*=_0x212d8d['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x37a897),this['skyboxInte'+'nsityId']['setValue'](_0x212d8d['physicalUn'+'its']?_0x212d8d['skyboxLumi'+'nance']:_0x212d8d['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x212d8d['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x33843b,_0x5c1f15){const _0x2cae6a='light'+_0x5c1f15;this['lightColor'+'Id'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+'_color'),this['lightDir'][_0x5c1f15]=new Float32Array(0x867+-0x6b7+-0x1ad),this['lightDirId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+'_direction'),this['lightShado'+'wMapId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+'_radius'),this['lightPos'][_0x5c1f15]=new Float32Array(0xd*0x293+0x907+-0x1d*0x177),this['lightPosId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+'_position'),this['lightWidth'][_0x5c1f15]=new Float32Array(-0x14f8+-0xfe*-0x15+-0x1*-0x25),this['lightWidth'+'Id'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+'_halfWidth'),this['lightHeigh'+'t'][_0x5c1f15]=new Float32Array(0x17c9*-0x1+-0x8*-0x1cd+0x964),this['lightHeigh'+'tId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+'_cookie'),this['lightCooki'+'eIntId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x5c1f15]=_0x33843b['resolve'](_0x2cae6a+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x46adfa,_0x1aebd8,_0x2b6ecf,_0xae5f11,_0x433445){this['lightPos'][_0x1aebd8][0x142+0x431+-0x5*0x117]=_0xae5f11['x']-_0x2b6ecf['x']*_0x433445,this['lightPos'][_0x1aebd8][0x1*-0x190b+-0x55a+0x1e66*0x1]=_0xae5f11['y']-_0x2b6ecf['y']*_0x433445,this['lightPos'][_0x1aebd8][-0x2d*-0xcc+-0x1dd7*-0x1+-0x41b1]=_0xae5f11['z']-_0x2b6ecf['z']*_0x433445,this['lightPosId'][_0x1aebd8]['setValue'](this['lightPos'][_0x1aebd8]);const _0x52a1b5=_0x46adfa['transformV'+'ector'](new T(-(-0x10f9+-0x12d*0x1a+-0xfd9*-0x3+0.5),0x4*-0x6b6+0x1f18+-0x440,0x1d9a+0x7c+0x1*-0x1e16));this['lightWidth'][_0x1aebd8][-0x2519+-0x1f27+0x4440]=_0x52a1b5['x']*_0x433445,this['lightWidth'][_0x1aebd8][-0x1ba3+-0x16*0xa+-0x8*-0x390]=_0x52a1b5['y']*_0x433445,this['lightWidth'][_0x1aebd8][0x1295+0x1171+-0x2404]=_0x52a1b5['z']*_0x433445,this['lightWidth'+'Id'][_0x1aebd8]['setValue'](this['lightWidth'][_0x1aebd8]);const _0x58a610=_0x46adfa['transformV'+'ector'](new T(-0xb0*0x8+0x11a7*-0x1+0x1727,0x2*-0x5+-0x1937+0x1941,0x22e7+0x141f+-0x3706+0.5));this['lightHeigh'+'t'][_0x1aebd8][-0x182*-0xd+0x1918+-0x2cb2]=_0x58a610['x']*_0x433445,this['lightHeigh'+'t'][_0x1aebd8][-0x656*0x2+0x2*-0x172+0xf91*0x1]=_0x58a610['y']*_0x433445,this['lightHeigh'+'t'][_0x1aebd8][-0x223*-0x1+0x4*-0x821+0x1*0x1e63]=_0x58a610['z']*_0x433445,this['lightHeigh'+'tId'][_0x1aebd8]['setValue'](this['lightHeigh'+'t'][_0x1aebd8]);}['dispatchDi'+'rectLights'](_0x340fbf,_0x4c6d41,_0x1eb93b){let _0x538248=-0xd19+-0x1*0x15eb+0x2304;const _0x172bcd=this['device']['scope'];for(let _0x42d8bc=0x538+0x892+-0xdca*0x1;_0x42d8bc<_0x340fbf['length'];_0x42d8bc++){if(!(_0x340fbf[_0x42d8bc]['mask']&_0x4c6d41))continue;const _0x507e0d=_0x340fbf[_0x42d8bc],_0x14684e=_0x507e0d['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x538248]||this['_resolveLi'+'ght'](_0x172bcd,_0x538248),this['lightColor'+'Id'][_0x538248]['setValue'](_0x507e0d['_colorLine'+'ar']),_0x14684e['getY'](_0x507e0d['_direction'])['mulScalar'](-(0x15*-0x101+0x11be+0x2*0x1ac)),_0x507e0d['_direction']['normalize'](),this['lightDir'][_0x538248][0x5*-0x285+0xe39*0x2+-0xfd9]=_0x507e0d['_direction']['x'],this['lightDir'][_0x538248][-0x53*0x19+0x10d2*0x2+0x662*-0x4]=_0x507e0d['_direction']['y'],this['lightDir'][_0x538248][0x1fcb*0x1+-0x1*0x15a5+-0x2c*0x3b]=_0x507e0d['_direction']['z'],this['lightDirId'][_0x538248]['setValue'](this['lightDir'][_0x538248]),_0x507e0d['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x14684e,_0x538248,_0x507e0d['_direction'],_0x1eb93b['_node']['getPositio'+'n'](),_0x1eb93b['farClip']),_0x507e0d['castShadow'+'s']){const _0x4dd2aa=_0x507e0d['getRenderD'+'ata'](_0x1eb93b,0x2*-0x61c+0x734+0xc*0x6b),_0x34eefd=_0x507e0d['_getUnifor'+'mBiasValue'+'s'](_0x4dd2aa);this['lightShado'+'wMapId'][_0x538248]['setValue'](_0x4dd2aa['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x538248]['setValue'](_0x4dd2aa['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x538248]['setValue'](_0x507e0d['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x538248]['setValue'](_0x507e0d['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x538248]['setValue'](_0x507e0d['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x538248]['setValue'](0x1b*-0x1+-0x1a06+0x1a22-_0x507e0d['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x538248]['setValue'](_0x507e0d['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x538248]['setValue'](_0x507e0d['_softShado'+'wParams']),_0x4dd2aa['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x538248]['setValue'](_0x507e0d['penumbraSi'+'ze']/_0x4dd2aa['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x4dd2aa['projection'+'Compensati'+'on']);const _0x36b937=_0x507e0d['_shadowCam'+'eraParams'];_0x36b937['length']=0x1961+-0x2b*0x45+-0x1*0xdc6,_0x36b937[0x1d72*-0x1+-0x2082+0x3df4]=-0x23*-0x119+-0x7*0x417+-0x9ca,_0x36b937[-0x1827+-0x2120+0x3948]=_0x4dd2aa['shadowCame'+'ra']['_farClip'],_0x36b937[0xd01+-0x1e2d+0x112e]=_0x4dd2aa['shadowCame'+'ra']['_nearClip'],_0x36b937[0x1d9a+-0x7de*0x2+-0xddb]=0x242e+-0x9d3*0x3+0x21*-0x34,this['lightCamer'+'aParamsId'][_0x538248]['setValue'](_0x36b937);const _0xb6ee1d=_0x507e0d['_shadowRen'+'derParams'];_0xb6ee1d['length']=0x1ea3+0xb*0x305+-0x3fd6,_0xb6ee1d[-0xb*-0x21+-0xa83+0x918]=_0x507e0d['_shadowRes'+'olution'],_0xb6ee1d[0x210d+0x5c7+-0x26d3]=_0x34eefd['normalBias'],_0xb6ee1d[-0xd7f+-0x1*0x1c8b+-0x1d4*-0x17]=_0x34eefd['bias'],_0xb6ee1d[-0x122c+-0x4*0x7ae+-0x30e7*-0x1]=-0x17*-0xa2+0xe8*-0xd+-0x2c6,this['lightShado'+'wParamsId'][_0x538248]['setValue'](_0xb6ee1d);}_0x538248++;}return _0x538248;}['setLTCPosi'+'tionalLigh'+'t'](_0x47174d,_0x225318){const _0x5c978c=_0x47174d['transformV'+'ector'](new T(-(0x1446+0x257a+0x1ce*-0x20+0.5),-0x119b+-0x3f2+-0x265*-0x9,-0x2a*-0x31+-0x172e*0x1+-0xf24*-0x1));this['lightWidth'][_0x225318][0x2410+-0x1b2d+-0x5*0x1c7]=_0x5c978c['x'],this['lightWidth'][_0x225318][-0x51*-0x5f+0xb75+-0x1*0x2983]=_0x5c978c['y'],this['lightWidth'][_0x225318][-0x1*-0x1a49+-0x3*-0xceb+0x821*-0x8]=_0x5c978c['z'],this['lightWidth'+'Id'][_0x225318]['setValue'](this['lightWidth'][_0x225318]);const _0x579ffe=_0x47174d['transformV'+'ector'](new T(-0x217b+0x1c6b+0x510,0x164d+-0x15f4+-0x59,0x202c+-0x1b73*-0x1+0x1*-0x3b9f+0.5));this['lightHeigh'+'t'][_0x225318][0x1e3*-0xb+0x172f+0x26e*-0x1]=_0x579ffe['x'],this['lightHeigh'+'t'][_0x225318][0x1e50+-0x1926+-0x529]=_0x579ffe['y'],this['lightHeigh'+'t'][_0x225318][0x2472+0x435*0x9+-0x4a4d]=_0x579ffe['z'],this['lightHeigh'+'tId'][_0x225318]['setValue'](this['lightHeigh'+'t'][_0x225318]);}['dispatchOm'+'niLight'](_0x41bdd4,_0x5441ad,_0x2da209){const _0x206747=_0x5441ad['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x2da209]||this['_resolveLi'+'ght'](_0x41bdd4,_0x2da209),this['lightRadiu'+'sId'][_0x2da209]['setValue'](_0x5441ad['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x2da209]['setValue'](_0x5441ad['_colorLine'+'ar']),_0x206747['getTransla'+'tion'](_0x5441ad['_position']),this['lightPos'][_0x2da209][-0x1c0e+-0x1*-0x404+0x180a]=_0x5441ad['_position']['x'],this['lightPos'][_0x2da209][0x202*-0xd+0x32*0x9+0x17*0x10f]=_0x5441ad['_position']['y'],this['lightPos'][_0x2da209][-0x49f*0x2+0x842*-0x3+0x1103*0x2]=_0x5441ad['_position']['z'],this['lightPosId'][_0x2da209]['setValue'](this['lightPos'][_0x2da209]),_0x5441ad['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x206747,_0x2da209),_0x5441ad['castShadow'+'s']){const _0x1dfbc5=_0x5441ad['getRenderD'+'ata'](null,-0x17*0x45+-0xaef*-0x1+-0x4bc);this['lightShado'+'wMapId'][_0x2da209]['setValue'](_0x1dfbc5['shadowBuff'+'er']);const _0x21e6a0=_0x5441ad['_getUnifor'+'mBiasValue'+'s'](_0x1dfbc5),_0x149e46=_0x5441ad['_shadowRen'+'derParams'];_0x149e46['length']=-0x2405*-0x1+-0x1387*-0x1+-0x3788,_0x149e46[-0x9da+0x14be+0xa4*-0x11]=_0x5441ad['_shadowRes'+'olution'],_0x149e46[0x1*-0x251b+0x2154+-0x1*-0x3c8]=_0x21e6a0['normalBias'],_0x149e46[-0x22f2+0x10dc+0x1218]=_0x21e6a0['bias'],_0x149e46[0x4d+-0xa06*0x2+0x13c2]=(-0x24cb+-0xef4+0x33c0)/_0x5441ad['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x2da209]['setValue'](_0x149e46),this['lightShado'+'wIntensity'][_0x2da209]['setValue'](_0x5441ad['shadowInte'+'nsity']);const _0x1d3078=_0x5441ad['penumbraSi'+'ze']/_0x1dfbc5['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x2da209]['setValue'](_0x1d3078);const _0x3ebea9=_0x5441ad['_shadowCam'+'eraParams'];_0x3ebea9['length']=0x33*0x1d+-0x1*0x100b+0x149*0x8,_0x3ebea9[0x1807+-0xdd2+-0x27*0x43]=0x2427+-0xbab+-0xc3e*0x2,_0x3ebea9[-0x1*-0xe2f+0x1b7*0x5+-0x16c1]=_0x1dfbc5['shadowCame'+'ra']['_farClip'],_0x3ebea9[-0x7f5*-0x1+0x7e1*-0x2+0x1*0x7cf]=_0x1dfbc5['shadowCame'+'ra']['_nearClip'],_0x3ebea9[0xa90+0x32*-0xe+-0x57*0x17]=0x39d*0x1+-0x60*0x4a+0x1823,this['lightCamer'+'aParamsId'][_0x2da209]['setValue'](_0x3ebea9);}_0x5441ad['_cookie']&&(this['lightCooki'+'eId'][_0x2da209]['setValue'](_0x5441ad['_cookie']),this['lightShado'+'wMatrixId'][_0x2da209]['setValue'](_0x206747['data']),this['lightCooki'+'eIntId'][_0x2da209]['setValue'](_0x5441ad['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x421c6e,_0x599d80,_0x355a13){const _0x2f5f06=_0x599d80['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x355a13]||this['_resolveLi'+'ght'](_0x421c6e,_0x355a13),this['lightInAng'+'leId'][_0x355a13]['setValue'](_0x599d80['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x355a13]['setValue'](_0x599d80['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x355a13]['setValue'](_0x599d80['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x355a13]['setValue'](_0x599d80['_colorLine'+'ar']),_0x2f5f06['getTransla'+'tion'](_0x599d80['_position']),this['lightPos'][_0x355a13][0x12fa+0x1*-0x2109+0x3b*0x3d]=_0x599d80['_position']['x'],this['lightPos'][_0x355a13][0x1*-0x11d7+-0x30*0x1c+0x1718]=_0x599d80['_position']['y'],this['lightPos'][_0x355a13][-0xaee*0x1+-0x1*-0x44d+0x6a3]=_0x599d80['_position']['z'],this['lightPosId'][_0x355a13]['setValue'](this['lightPos'][_0x355a13]),_0x599d80['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x2f5f06,_0x355a13),_0x2f5f06['getY'](_0x599d80['_direction'])['mulScalar'](-(-0x3fc+0x23f7+-0x1ffa)),_0x599d80['_direction']['normalize'](),this['lightDir'][_0x355a13][0xf59+-0xa1*0x35+-0x8fe*-0x2]=_0x599d80['_direction']['x'],this['lightDir'][_0x355a13][-0x11bd+0x9f5+0x7c9]=_0x599d80['_direction']['y'],this['lightDir'][_0x355a13][-0x700*0x5+0x65*0x47+0x6ff]=_0x599d80['_direction']['z'],this['lightDirId'][_0x355a13]['setValue'](this['lightDir'][_0x355a13]),_0x599d80['castShadow'+'s']){const _0x90d3b2=_0x599d80['getRenderD'+'ata'](null,-0x5*-0x40f+0x672+-0x1abd);this['lightShado'+'wMapId'][_0x355a13]['setValue'](_0x90d3b2['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x355a13]['setValue'](_0x90d3b2['shadowMatr'+'ix']['data']);const _0x15b66f=_0x599d80['_getUnifor'+'mBiasValue'+'s'](_0x90d3b2),_0x5c15c8=_0x599d80['_shadowRen'+'derParams'];_0x5c15c8['length']=-0x96b+-0x1*0x701+0x1070,_0x5c15c8[0x17b*-0x7+0x1*-0xac7+0x1524]=_0x599d80['_shadowRes'+'olution'],_0x5c15c8[-0xc46+-0x19ec+-0x7*-0x575]=_0x15b66f['normalBias'],_0x5c15c8[0xa05+0x1*-0x15f2+0xbef*0x1]=_0x15b66f['bias'],_0x5c15c8[0x198b+0x1*0x58+-0x19e0]=(-0xb*0x43+0x2*0x11de+0x3a*-0x91)/_0x599d80['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x355a13]['setValue'](_0x5c15c8),this['lightShado'+'wIntensity'][_0x355a13]['setValue'](_0x599d80['shadowInte'+'nsity']);const _0x146561=_0x599d80['penumbraSi'+'ze']/_0x90d3b2['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x315bc1=_0x90d3b2['shadowCame'+'ra']['_fov']*Math['PI']/(-0x1575*0x1+-0x4b7*0x5+0x2dbc),_0x2e1f7f=(-0x236c+-0xfef*0x1+0x335c)/Math['tan'](_0x315bc1/(-0x44f*-0x1+-0x18e*-0xa+-0x13d9));this['lightShado'+'wSearchAre'+'aId'][_0x355a13]['setValue'](_0x146561*_0x2e1f7f);const _0x1cf2b3=_0x599d80['_shadowCam'+'eraParams'];_0x1cf2b3['length']=-0x19*-0xe7+-0x1fbe+0x933,_0x1cf2b3[-0x1*0x23e3+0x21d7+-0x2*-0x106]=-0x230*0xe+-0x355*-0x9+0xa3*0x1,_0x1cf2b3[-0xb05+-0x3d*0x53+0x1ecd]=_0x90d3b2['shadowCame'+'ra']['_farClip'],_0x1cf2b3[-0x1cfa+-0x1*-0x2131+-0x435]=_0x90d3b2['shadowCame'+'ra']['_nearClip'],_0x1cf2b3[-0x304*0x2+0x129f+-0x4*0x325]=-0x11ef*0x1+0x1c0+0x102f,this['lightCamer'+'aParamsId'][_0x355a13]['setValue'](_0x1cf2b3);}if(_0x599d80['_cookie']){if(!_0x599d80['castShadow'+'s']){const _0x2bda0d=Ma['evalSpotCo'+'okieMatrix'](_0x599d80);this['lightShado'+'wMatrixId'][_0x355a13]['setValue'](_0x2bda0d['data']);}this['lightCooki'+'eId'][_0x355a13]['setValue'](_0x599d80['_cookie']),this['lightCooki'+'eIntId'][_0x355a13]['setValue'](_0x599d80['cookieInte'+'nsity']),_0x599d80['_cookieTra'+'nsform']&&(_0x599d80['_cookieTra'+'nsformUnif'+'orm'][-0x4e*0x4d+0x3ed+0x683*0x3]=_0x599d80['_cookieTra'+'nsform']['x'],_0x599d80['_cookieTra'+'nsformUnif'+'orm'][0x3f*-0x13+0x5*-0x526+0x79b*0x4]=_0x599d80['_cookieTra'+'nsform']['y'],_0x599d80['_cookieTra'+'nsformUnif'+'orm'][-0x1*0x14e1+0xa1d*0x1+-0x18a*-0x7]=_0x599d80['_cookieTra'+'nsform']['z'],_0x599d80['_cookieTra'+'nsformUnif'+'orm'][0x1db2+-0x1884+0x1b9*-0x3]=_0x599d80['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x355a13]['setValue'](_0x599d80['_cookieTra'+'nsformUnif'+'orm']),_0x599d80['_cookieOff'+'setUniform'][-0x7cc+0x5*0x1b5+0x7*-0x1b]=_0x599d80['_cookieOff'+'set']['x'],_0x599d80['_cookieOff'+'setUniform'][0xee5+0x214+-0x10f8]=_0x599d80['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x355a13]['setValue'](_0x599d80['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x2d4e3b,_0x535e3d,_0x4d1c8d){let _0x1d131e=_0x4d1c8d;const _0x16026b=this['device']['scope'],_0x4428f1=_0x2d4e3b[Pe],_0x313992=_0x4428f1['length'];for(let _0x27ac04=0xeca+-0x1143+-0x3*-0xd3;_0x27ac04<_0x313992;_0x27ac04++){const _0x512962=_0x4428f1[_0x27ac04];_0x512962['mask']&_0x535e3d&&(this['dispatchOm'+'niLight'](_0x16026b,_0x512962,_0x1d131e),_0x1d131e++);}const _0x3090ce=_0x2d4e3b[Re],_0x2b2677=_0x3090ce['length'];for(let _0x42dada=0x119e+0x11d3+0x2371*-0x1;_0x42dada<_0x2b2677;_0x42dada++){const _0x4273df=_0x3090ce[_0x42dada];_0x4273df['mask']&_0x535e3d&&(this['dispatchSp'+'otLight'](_0x16026b,_0x4273df,_0x1d131e),_0x1d131e++);}}['renderForw'+'ardPrepare'+'Materials'](_0x547f8e,_0x521bd0,_0x430139,_0x2fd3ce,_0x2dbf3a,_0x26a7b5){const _0x3fd336=_0x547f8e['fog']??this['scene']['fog'],_0x292671=_0x547f8e['shaderPara'+'ms'];_0x292671['fog']=_0x3fd336['type'],_0x292671['srgbRender'+'Target']=(_0x521bd0==null?void(0x265a+-0x383*-0xa+-0x4978):_0x521bd0['isColorBuf'+'ferSrgb'](0xfe*-0x9+-0x2461+0x2d4f))??!(-0x1*0xbcf+-0x187a+0x244a);const _0x399676=(_0x183fac,_0x382c80,_0x4c1287,_0x1030d8)=>{br['drawCalls']['push'](_0x183fac),br['shaderInst'+'ances']['push'](_0x382c80),br['isNewMater'+'ial']['push'](_0x4c1287),br['lightMaskC'+'hanged']['push'](_0x1030d8);};br['clear']();const _0x3cd346=this['device'],_0x4ddd00=this['scene'],_0x3bcd6e=_0x4ddd00['clusteredL'+'ightingEna'+'bled'],_0x3200d0=(_0x2dbf3a==null?void(-0x4*-0x4b7+0x1d8c*0x1+-0x3068):_0x2dbf3a['getLightHa'+'sh'](_0x3bcd6e))??-0x1b*-0x111+-0xa*0x199+-0xcd1;let _0x4c826e=null,_0x202bb6,_0x27c19b;const _0x435c9e=_0x430139['length'];for(let _0x508535=-0xd92+0x1*-0xa04+0x1796;_0x508535<_0x435c9e;_0x508535++){const _0x2fc28a=_0x430139[_0x508535];if(_0x547f8e===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x2dbf3a){if(_0x2dbf3a['_skipRende'+'rCounter']>=_0x2dbf3a['skipRender'+'After'])continue;_0x2dbf3a['_skipRende'+'rCounter']++;}_0x2fc28a['ensureMate'+'rial'](_0x3cd346);const _0x22ca7c=_0x2fc28a['material'],_0x3a8bac=_0x2fc28a['_shaderDef'+'s'],_0x3a1fe9=_0x2fc28a['mask'];_0x22ca7c&&_0x22ca7c===_0x4c826e&&_0x3a8bac!==_0x202bb6&&(_0x4c826e=null),_0x22ca7c!==_0x4c826e&&(this['_materialS'+'witches']++,_0x22ca7c['_scene']=_0x4ddd00,_0x22ca7c['dirty']&&(G['pushGpuMar'+'ker'](_0x3cd346,'Node:\x20'+_0x2fc28a['node']['name']+(',\x20Material'+':\x20')+_0x22ca7c['name']),_0x22ca7c['updateUnif'+'orms'](_0x3cd346,_0x4ddd00),_0x22ca7c['dirty']=!(0x191e*0x1+-0x453+0x6ee*-0x3),G['popGpuMark'+'er'](_0x3cd346)));const _0x2fd80c=_0x2fc28a['getShaderI'+'nstance'](_0x26a7b5,_0x3200d0,_0x4ddd00,_0x292671,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x2fd3ce);_0x399676(_0x2fc28a,_0x2fd80c,_0x22ca7c!==_0x4c826e,!_0x4c826e||_0x3a1fe9!==_0x27c19b),_0x4c826e=_0x22ca7c,_0x202bb6=_0x3a8bac,_0x27c19b=_0x3a1fe9;}return br;}['renderForw'+'ardInterna'+'l'](_0x156526,_0x182665,_0x5897b6,_0x3c34e9,_0xa92c3,_0x34063b){const _0x4532cc=this['device'],_0x5b5c8b=this['scene'],_0x5c3637=0x1fe9*0x1+-0x4*0x88c+0x248<<_0x3c34e9,_0x2e9e98=_0x34063b?-(-0x1f9e+-0x3*-0x455+0x12a0):-0x1217*0x2+0xea2+-0x158d*-0x1,_0x24ef41=_0x5b5c8b['clusteredL'+'ightingEna'+'bled'],_0x304e2c=_0x182665['drawCalls']['length'];for(let _0x297ff7=-0x6*-0x30b+0x3*-0x595+0x1*-0x183;_0x297ff7<_0x304e2c;_0x297ff7++){const _0x4c1a26=_0x182665['drawCalls'][_0x297ff7],_0x18e79c=_0x182665['isNewMater'+'ial'][_0x297ff7],_0x2eb430=_0x182665['lightMaskC'+'hanged'][_0x297ff7],_0x2968a4=_0x182665['shaderInst'+'ances'][_0x297ff7],_0x46c2c1=_0x4c1a26['material'],_0x130441=_0x4c1a26['mask'];if(_0x18e79c){if(_0x4532cc['setShader'](_0x2968a4['shader'],!(0x1521+0x11*-0x149+0xb9)),_0x46c2c1['setParamet'+'ers'](_0x4532cc),_0x2eb430){const _0x35ab2a=this['dispatchDi'+'rectLights'](_0x5897b6[oe],_0x130441,_0x156526);_0x24ef41||this['dispatchLo'+'calLights'](_0x5897b6,_0x130441,_0x35ab2a);}this['alphaTestI'+'d']['setValue'](_0x46c2c1['alphaTest']),_0x4532cc['setBlendSt'+'ate'](_0x46c2c1['blendState']),_0x4532cc['setDepthSt'+'ate'](_0x46c2c1['depthState']),_0x4532cc['setAlphaTo'+'Coverage'](_0x46c2c1['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x4532cc,'Node:\x20'+_0x4c1a26['node']['name']+(',\x20Material'+':\x20')+_0x46c2c1['name']),this['setupCullM'+'ode'](_0x156526['_cullFaces'],_0x2e9e98,_0x4c1a26);const _0x22c537=_0x4c1a26['stencilFro'+'nt']??_0x46c2c1['stencilFro'+'nt'],_0x1c14f1=_0x4c1a26['stencilBac'+'k']??_0x46c2c1['stencilBac'+'k'];_0x4532cc['setStencil'+'State'](_0x22c537,_0x1c14f1),_0x4c1a26['setParamet'+'ers'](_0x4532cc,_0x5c3637),_0x4532cc['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x4c1a26['id']);const _0x4ce29d=_0x4c1a26['mesh'];this['setVertexB'+'uffers'](_0x4532cc,_0x4ce29d),this['setMorphin'+'g'](_0x4532cc,_0x4c1a26['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x4532cc,_0x4c1a26),this['setupMeshU'+'niformBuff'+'ers'](_0x2968a4,_0x4c1a26);const _0x33a167=_0x4c1a26['renderStyl'+'e'];if(_0x4532cc['setIndexBu'+'ffer'](_0x4ce29d['indexBuffe'+'r'][_0x33a167]),_0xa92c3==null||_0xa92c3(_0x4c1a26,_0x297ff7),_0x156526['xr']&&_0x156526['xr']['session']&&_0x156526['xr']['views']['list']['length']){const _0x4b4cb2=_0x156526['xr']['views'];for(let _0x50db72=0xe1d+0x19b7+-0x2*0x13ea;_0x50db72<_0x4b4cb2['list']['length'];_0x50db72++){const _0x93fe9a=_0x4b4cb2['list'][_0x50db72];_0x4532cc['setViewpor'+'t'](_0x93fe9a['viewport']['x'],_0x93fe9a['viewport']['y'],_0x93fe9a['viewport']['z'],_0x93fe9a['viewport']['w']),this['projId']['setValue'](_0x93fe9a['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x93fe9a['projMat']['data']),this['viewId']['setValue'](_0x93fe9a['viewOffMat']['data']),this['viewInvId']['setValue'](_0x93fe9a['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x93fe9a['viewMat3']['data']),this['viewProjId']['setValue'](_0x93fe9a['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x93fe9a['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x50db72),_0x50db72===0x10e8+0x2643+-0x372b?this['drawInstan'+'ce'](_0x4532cc,_0x4c1a26,_0x4ce29d,_0x33a167,!(0x1*0x913+0x1f9d+-0x28b0)):this['drawInstan'+'ce2'](_0x4532cc,_0x4c1a26,_0x4ce29d,_0x33a167),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x4532cc,_0x4c1a26,_0x4ce29d,_0x33a167,!(-0x23aa+0x565+0xa17*0x3)),this['_forwardDr'+'awCalls']++;_0x297ff7<_0x304e2c-(-0xa6c+-0x2*0xd24+0x24b5*0x1)&&!_0x182665['isNewMater'+'ial'][_0x297ff7+(-0x2b*-0xc4+-0x21e6+0x1*0xfb)]&&_0x46c2c1['setParamet'+'ers'](_0x4532cc,_0x4c1a26['parameters']),G['popGpuMark'+'er'](_0x4532cc);}}['renderForw'+'ard'](_0x38531,_0x56b21f,_0x1103c0,_0x21716b,_0x5caa69,_0x5b2a9c,_0x16883c,_0x56b916){const _0x46c236=ne(),_0x242c87=this['renderForw'+'ardPrepare'+'Materials'](_0x38531,_0x56b21f,_0x1103c0,_0x21716b,_0x16883c,_0x5caa69);this['renderForw'+'ardInterna'+'l'](_0x38531,_0x242c87,_0x21716b,_0x5caa69,_0x5b2a9c,_0x56b916),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x46c236;}['renderForw'+'ardLayer'](_0x317598,_0x3eb71a,_0x31f680,_0x53ce03,_0x3da9ec,_0x1f99e5,_0x19c2ac={}){const {scene:_0x54a806,device:_0x24eb73}=this,_0xd7bcfa=_0x54a806['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x317598,_0x3eb71a);let _0x499a30,_0x232944;if(_0x31f680){const _0x340551=ne();_0x31f680['sortVisibl'+'e'](_0x317598,_0x53ce03),this['_sortTime']+=ne()-_0x340551;const _0x59d05c=_0x31f680['getCulledI'+'nstances'](_0x317598);_0x499a30=_0x53ce03?_0x59d05c['transparen'+'t']:_0x59d05c['opaque'],_0x54a806['immediate']['onPreRende'+'rLayer'](_0x31f680,_0x499a30,_0x53ce03),_0x31f680['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x54a806['ambientLig'+'ht'],_0x31f680['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x232944=_0x31f680['splitLight'+'s'];}else _0x499a30=_0x19c2ac['meshInstan'+'ces'],_0x232944=_0x19c2ac['splitLight'+'s']??OM;if(v['assert'](_0x499a30,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0xd7bcfa){const _0x11a602=_0x19c2ac['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x11a602['activate'](),_0x31f680&&!this['clustersDe'+'bugRendere'+'d']&&_0x54a806['lighting']['debugLayer']===_0x31f680['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x211f+0x209a+0x85*0x1),Vu['render'](_0x11a602,this['scene']));}_0x54a806['_activeCam'+'era']=_0x317598;const _0x23b377=_0x317598['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x23b377);const _0x11c8f8=this['setCameraU'+'niforms'](_0x317598,_0x3eb71a);_0x24eb73['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x1f99e5,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x11c8f8);const _0x63963f=_0x19c2ac['clearColor']??!(-0xfc+0x16*0x9a+0x5f*-0x21),_0x4d872d=_0x19c2ac['clearDepth']??!(-0x698*-0x2+-0xb*-0x188+0x1e07*-0x1),_0x56f22b=_0x19c2ac['clearStenc'+'il']??!(0x25ef+-0x621*0x2+0x35*-0x7c);(_0x63963f||_0x4d872d||_0x56f22b)&&this['clear'](_0x317598,_0x63963f,_0x4d872d,_0x56f22b);const _0x3fd5a9=!!(_0x317598['_flipFaces']^(_0x3eb71a==null?void(0x3*-0x59f+-0xbbd+0x1c9a):_0x3eb71a['flipY'])),_0x2b8a14=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x317598,_0x3eb71a,_0x499a30,_0x232944,_0x3da9ec,null,_0x31f680,_0x3fd5a9),_0x31f680&&(_0x31f680['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x2b8a14);}['setFogCons'+'tants'](_0x2eb1c5){if(_0x2eb1c5['type']!==Fa){$i['linear'](_0x2eb1c5['color']);const _0x1bf8da=this['fogColor'];_0x1bf8da[-0x196*-0x1+0x1*-0x19d+-0x7*-0x1]=$i['r'],_0x1bf8da[0x12ba+-0x6aa+-0xc0f*0x1]=$i['g'],_0x1bf8da[0x25c6*-0x1+-0x1af*0x1+0x2777]=$i['b'],this['fogColorId']['setValue'](_0x1bf8da),_0x2eb1c5['type']===zb?(this['fogStartId']['setValue'](_0x2eb1c5['start']),this['fogEndId']['setValue'](_0x2eb1c5['end'])):this['fogDensity'+'Id']['setValue'](_0x2eb1c5['density']);}}['setSceneCo'+'nstants'](){const _0x282f9a=this['scene'];this['dispatchGl'+'obalLights'](_0x282f9a);const _0x5390f2=this['device'];this['_screenSiz'+'e'][0x3*0xcab+0x141+-0x2742]=_0x5390f2['width'],this['_screenSiz'+'e'][0x1*-0x10fd+0x261+-0x3*-0x4df]=_0x5390f2['height'],this['_screenSiz'+'e'][-0x1*-0x30b+0x39a*0x1+0x6a3*-0x1]=(-0x2*0x837+-0x87a+0x18e9)/_0x5390f2['width'],this['_screenSiz'+'e'][-0x2181+-0x2182*-0x1+0x2]=(0x8f1*-0x3+0xa64+0x1070)/_0x5390f2['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x5f12f9,_0x20e80c){const _0x3fe08c=this['scene'];if(_0x5f12f9['reset'](),_0x3fe08c['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x2336f5,cookiesEnabled:_0x45b0f6}=_0x3fe08c['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x5f12f9,_0x2336f5,_0x45b0f6,this['lights'],this['localLight'+'s']),_0x5f12f9['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x5f12f9,this['localLight'+'s']);let _0x3119cb=0x2659+0x1*0x1937+-0x3f90,_0xe6bcc8=!(-0x1*0x158d+0xb*-0x6b+0x1a26*0x1),_0x53a79b=null;const _0x16d142=_0x20e80c['_renderAct'+'ions'];for(let _0x448ecd=_0x3119cb;_0x448ecd<_0x16d142['length'];_0x448ecd++){const _0x3f32db=_0x16d142[_0x448ecd],{layer:_0x555579,camera:_0xecc045}=_0x3f32db;if(_0x3f32db['useCameraP'+'asses'])v['call'](()=>{_0xecc045['postEffect'+'s']['effects']['length']>-0x1299+-0x1086+-0x3*-0xbb5&&v['warnOnce']('Camera\x20\x27'+_0xecc045['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0xecc045['camera']['renderPass'+'es']['forEach'](_0x5366b8=>{_0x5f12f9['addRenderP'+'ass'](_0x5366b8);});else{const _0x5b4069=_0x555579['id']===Xt,_0x4ac72d=_0x5b4069&&(_0xecc045['renderScen'+'eColorMap']||_0xecc045['renderScen'+'eDepthMap']);_0xe6bcc8&&(_0xe6bcc8=!(-0x16dd+-0x1aa3*-0x1+-0x3c5),_0x3119cb=_0x448ecd,_0x53a79b=_0x3f32db['renderTarg'+'et']);const _0x5dba37=_0x16d142[_0x448ecd+(0x2181+-0x1195+-0xfeb*0x1)],_0x1eb171=(_0x5dba37?!_0x5dba37['useCameraP'+'asses']&&_0x5dba37['layer']['id']===Xt:!(0x538*0x6+-0xb*0x293+-0x2fe))&&(_0xecc045['renderScen'+'eColorMap']||_0xecc045['renderScen'+'eDepthMap']),_0x3e6d1f=_0x5dba37?_0x5dba37['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x5dba37['camera']['camera']):!(-0xc*0x2e9+0x234a+-0x1*0x5d);if(!_0x5dba37||_0x5dba37['renderTarg'+'et']!==_0x53a79b||_0x3e6d1f||_0x1eb171||_0x4ac72d){if(_0x5b4069&&_0x3119cb===_0x448ecd||this['addMainRen'+'derPass'](_0x5f12f9,_0x20e80c,_0x53a79b,_0x3119cb,_0x448ecd),_0x5b4069){if(_0xecc045['renderScen'+'eColorMap']){const _0x6f03c1=_0xecc045['camera']['renderPass'+'ColorGrab'];_0x6f03c1['source']=_0xecc045['renderTarg'+'et'],_0x5f12f9['addRenderP'+'ass'](_0x6f03c1);}_0xecc045['renderScen'+'eDepthMap']&&_0x5f12f9['addRenderP'+'ass'](_0xecc045['camera']['renderPass'+'DepthGrab']);}if(_0x3f32db['triggerPos'+'tprocess']&&(_0xecc045!=null&&_0xecc045['onPostproc'+'essing'])){const _0x140637=new FM(this['device'],this,_0x3f32db);_0x5f12f9['addRenderP'+'ass'](_0x140637);}_0xe6bcc8=!(0x1*-0xbaa+-0x178f+-0x2339*-0x1);}}}}['addMainRen'+'derPass'](_0x3bfc75,_0x3cca2c,_0xe48f,_0x1ab349,_0x435768){const _0x4142b6=new LM(this['device'],_0x3cca2c,this['scene'],this);_0x4142b6['init'](_0xe48f);const _0x526417=_0x3cca2c['_renderAct'+'ions'];for(let _0x52cadb=_0x1ab349;_0x52cadb<=_0x435768;_0x52cadb++)_0x4142b6['addRenderA'+'ction'](_0x526417[_0x52cadb]);_0x3bfc75['addRenderP'+'ass'](_0x4142b6);}['update'](_0x3e3669){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x3e3669),this['collectLig'+'hts'](_0x3e3669),this['beginFrame'](_0x3e3669),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x3e3669),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0xafb+0x1651*-0x1+0x1*0xb56),c(_i,'skipRender'+'After',-0x1efe+0x1d45+-0x1b9*-0x1);let Gh=_i,zd=-0x16b8+-0xdc+0x1794;const ja=[],Ol=new Set();function NM(_0x3b576d,_0x479057){return _0x3b576d['drawOrder']-_0x479057['drawOrder'];}function zM(_0x23b13f,_0x58aa3e){const _0x26969e=_0x23b13f['_key'][Ei],_0x136498=_0x58aa3e['_key'][Ei];return _0x26969e===_0x136498&&_0x23b13f['mesh']&&_0x58aa3e['mesh']?_0x58aa3e['mesh']['id']-_0x23b13f['mesh']['id']:_0x136498-_0x26969e;}function UM(_0x5ef88f,_0x1f5e4d){return _0x1f5e4d['zdist']-_0x5ef88f['zdist'];}function VM(_0x1b1418,_0x32a1f3){return _0x1b1418['zdist']-_0x32a1f3['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x465886={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0x261*0x1+-0x91c+-0x6bb*-0x1)),c(this,'requiresLi'+'ghtCube',!(-0x78*-0x1+-0x13b5*0x1+-0x6*-0x335)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(0x1ed7+0x1f96+0x31f*-0x14)),(_0x465886['id']!==void(0x1283*-0x1+0x247*0x1+0x103c)?(this['id']=_0x465886['id'],zd=Math['max'](this['id']+(-0x24e+0x264a*0x1+-0x23fb),zd)):this['id']=zd++,this['name']=_0x465886['name'],this['_enabled']=_0x465886['enabled']??!(0x14e8+-0xe3*-0xd+-0x169*0x17),this['_refCounte'+'r']=this['_enabled']?0x926+-0xa9*-0x24+-0x20e9:0x1*0x2218+0x381*-0xb+0x43*0x11,this['opaqueSort'+'Mode']=_0x465886['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x465886['transparen'+'tSortMode']??Bm,_0x465886['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x465886['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x465886['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x465886['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x465886['clearStenc'+'ilBuffer'],this['onEnable']=_0x465886['onEnable'],this['onDisable']=_0x465886['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x93*-0x2b+0x112d+0x784,this['_lightHash'+'Dirty']=!(0x1*-0x1a92+0x5*-0x459+0x3050*0x1),this['_lightIdHa'+'sh']=-0xa4e+0x3cd*0x2+-0x1*-0x2b4,this['_lightIdHa'+'shDirty']=!(0xab4+0x230+-0xce3),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0xbc6+-0x1a9d+-0xed7*-0x1,this['_renderTim'+'e']=-0x24*-0x38+0xba*0x10+-0x180*0xd,this['_forwardDr'+'awCalls']=0x101a+-0x2cb+-0xd4f,this['_shadowDra'+'wCalls']=-0x24e2*-0x1+0x629+-0x2b0b,this['_shaderVer'+'sion']=-(-0x4*-0x41b+-0x33*0x3f+-0x63*0xa));}set['enabled'](_0x18e9eb){_0x18e9eb!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x207b+0x22c9+-0x10d1*0x4),this['_enabled']=_0x18e9eb,_0x18e9eb?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x1cd026){this['_clearColo'+'rBuffer']=_0x1cd026,this['_dirtyComp'+'osition']=!(-0x1fa1+-0x3*-0x559+0xf96);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x23b576){this['_clearDept'+'hBuffer']=_0x23b576,this['_dirtyComp'+'osition']=!(0x821+-0x1*-0x25f1+0x1*-0x2e12);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x4d448d){this['_clearSten'+'cilBuffer']=_0x4d448d,this['_dirtyComp'+'osition']=!(-0x46*0x78+0xcf3+0x13dd*0x1);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x250d*-0x1+-0x224*0xa+-0xfa5;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x8ef*-0x1+-0x3d+-0x92c*-0x1&&(this['_enabled']=!(0x1515+0x1*0x3c5+-0xc6d*0x2),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x2*-0xaba+-0x40a+0x197f)this['_enabled']=!(-0x73*0x3d+0x426+0x2*0xba1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x154d+-0x1*-0x821+0x6*0x232){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x5bf13b,_0x6792){const _0x4e6af1=this['meshInstan'+'ces'],_0x3c9e05=this['meshInstan'+'cesSet'];for(let _0x349e5a=-0xbd0+0x246a+-0x1*0x189a;_0x349e5a<_0x5bf13b['length'];_0x349e5a++){const _0x58a985=_0x5bf13b[_0x349e5a];_0x3c9e05['has'](_0x58a985)||(_0x4e6af1['push'](_0x58a985),_0x3c9e05['add'](_0x58a985),Ol['add'](_0x58a985['material']));}if(_0x6792||this['addShadowC'+'asters'](_0x5bf13b),Ol['size']>0x1da2+-0xf94+-0xe0e){const _0x31f445=this['_shaderVer'+'sion'];Ol['forEach'](_0x44f0b3=>{_0x31f445>=0x1b9b+0x82a+-0x1*0x23c5&&_0x44f0b3['_shaderVer'+'sion']!==_0x31f445&&(_0x44f0b3['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x44f0b3['clearVaria'+'nts'](),_0x44f0b3['_shaderVer'+'sion']=_0x31f445);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x344e31,_0x3bfab2){const _0x3fc1f2=this['meshInstan'+'ces'],_0x2a06a5=this['meshInstan'+'cesSet'];for(let _0x3aeb87=0x16ac+-0x1954+0x44*0xa;_0x3aeb87<_0x344e31['length'];_0x3aeb87++){const _0xd8f361=_0x344e31[_0x3aeb87];if(_0x2a06a5['has'](_0xd8f361)){_0x2a06a5['delete'](_0xd8f361);const _0x53e053=_0x3fc1f2['indexOf'](_0xd8f361);_0x53e053>=-0x324*0x4+-0x32d+0x3*0x53f&&_0x3fc1f2['splice'](_0x53e053,-0x254c+-0x1d*-0x119+0x118*0x5);}}_0x3bfab2||this['removeShad'+'owCasters'](_0x344e31);}['addShadowC'+'asters'](_0xe4c164){const _0x1bbd74=this['shadowCast'+'ers'],_0x657380=this['shadowCast'+'ersSet'];for(let _0x2fd42d=-0xfb9+-0x1a63+-0x37*-0xc4;_0x2fd42d<_0xe4c164['length'];_0x2fd42d++){const _0x4f798a=_0xe4c164[_0x2fd42d];_0x4f798a['castShadow']&&!_0x657380['has'](_0x4f798a)&&(_0x657380['add'](_0x4f798a),_0x1bbd74['push'](_0x4f798a));}}['removeShad'+'owCasters'](_0x26e61a){const _0x38f272=this['shadowCast'+'ers'],_0x3eb538=this['shadowCast'+'ersSet'];for(let _0x3d18cd=0x2225*-0x1+-0xfad+0x7*0x71e;_0x3d18cd<_0x26e61a['length'];_0x3d18cd++){const _0x53317e=_0x26e61a[_0x3d18cd];if(_0x3eb538['has'](_0x53317e)){_0x3eb538['delete'](_0x53317e);const _0x3edc51=_0x38f272['indexOf'](_0x53317e);_0x3edc51>=-0xb7f+-0x1*-0x113e+0x5bf*-0x1&&_0x38f272['splice'](_0x3edc51,0xec2*0x2+0x565*0x6+0x7*-0x8d7);}}}['clearMeshI'+'nstances'](_0x2a3cd6=!(-0xc24+0x2*-0x1310+-0x1*-0x3245)){this['meshInstan'+'ces']['length']=-0x1e99+0x1*0x2252+-0x3b9,this['meshInstan'+'cesSet']['clear'](),_0x2a3cd6||(this['shadowCast'+'ers']['length']=-0x190d+-0x7d5+0x3*0xaf6,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x30*-0x9e+-0x1ade+0x161*-0x2),this['_lightIdHa'+'shDirty']=!(-0xde0+-0x1c4a+0x2a2a),this['_splitLigh'+'tsDirty']=!(-0x2339*-0x1+0x1c63+-0xb1*0x5c);}['hasLight'](_0x483001){return this['_lightsSet']['has'](_0x483001);}['addLight'](_0x3f2fa0){const _0x275192=_0x3f2fa0['light'];this['_lightsSet']['has'](_0x275192)||(this['_lightsSet']['add'](_0x275192),this['_lights']['push'](_0x275192),this['markLights'+'Dirty']()),_0x275192['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x275192);}['removeLigh'+'t'](_0x218c29){const _0x1bd145=_0x218c29['light'];this['_lightsSet']['has'](_0x1bd145)&&(this['_lightsSet']['delete'](_0x1bd145),this['_lights']['splice'](this['_lights']['indexOf'](_0x1bd145),0x2594+-0x1*-0x26d3+0x2*-0x2633),this['markLights'+'Dirty']()),_0x1bd145['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x1bd145);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x4877e3=>_0x4877e3['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x4c*0x31+0x344+0x23a*-0x8,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1517+-0xfae+0x12*0x20b);const _0x591e60=this['_splitLigh'+'ts'];for(let _0x351eb8=-0x1449+0x3*0x7c6+-0x309;_0x351eb8<_0x591e60['length'];_0x351eb8++)_0x591e60[_0x351eb8]['length']=0x2414+-0x1b4*0x3+-0x1ef8;const _0x2a2305=this['_lights'];for(let _0x5f546e=0x2149+0x12b5+-0x25d*0x16;_0x5f546e<_0x2a2305['length'];_0x5f546e++){const _0x21ac81=_0x2a2305[_0x5f546e];_0x21ac81['enabled']&&_0x591e60[_0x21ac81['_type']]['push'](_0x21ac81);}for(let _0x4ceb56=0x6ea+0x3*-0x93+-0x1bb*0x3;_0x4ceb56<_0x591e60['length'];_0x4ceb56++)_0x591e60[_0x4ceb56]['sort']((_0x103b4,_0x4e9eb7)=>_0x103b4['key']-_0x4e9eb7['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x2f3a4c,_0x382506,_0x210f8c){let _0x146089=-0x17a1*0x1+-0x45*-0x69+0x4ac*-0x1;const _0x4e90c1=this['_lights'];for(let _0x26d39e=-0x584*0x3+0x3*0x7d7+0xff*-0x7;_0x26d39e<_0x4e90c1['length'];_0x26d39e++){const _0x1d4865=_0x4e90c1[_0x26d39e]['type']!==oe;(_0x2f3a4c&&_0x1d4865||_0x382506&&!_0x1d4865)&&ja['push'](_0x210f8c?_0x4e90c1[_0x26d39e]['id']:_0x4e90c1[_0x26d39e]['key']);}return ja['length']>0x10*-0x13e+-0x89f+-0x1*-0x1c7f&&(ja['sort'](),_0x146089=Zy(ja),ja['length']=0x16a5+0x19d7+-0x307c),_0x146089;}['getLightHa'+'sh'](_0x3d668d){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x2*0x2ef+0xa2*-0x2b+0x1559),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x3d668d,!(-0x192d+0x10d*-0x15+0x2f3e),!(0x26cb+0x4be*0x1+-0x2b88))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x1*0x1e5e+0xb*0x6b+0x37f*-0xa),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1*-0x164+0x1*-0xe3a+0x35*0x3e),!(0x1a6c*-0x1+-0xb9b*0x1+-0x2608*-0x1),!(-0x10dc+0x173b+-0x1*0x65f))),this['_lightIdHa'+'sh'];}['addCamera'](_0x5de617){this['camerasSet']['has'](_0x5de617['camera'])||(this['camerasSet']['add'](_0x5de617['camera']),this['cameras']['push'](_0x5de617),this['_dirtyComp'+'osition']=!(0x1443+-0xa3*0x29+0x5d8));}['removeCame'+'ra'](_0x14b6ff){if(this['camerasSet']['has'](_0x14b6ff['camera'])){this['camerasSet']['delete'](_0x14b6ff['camera']);const _0x35a44b=this['cameras']['indexOf'](_0x14b6ff);this['cameras']['splice'](_0x35a44b,-0xeef+0x3d*-0xa3+0x35c7),this['_dirtyComp'+'osition']=!(-0x1*0xc16+-0x3*0xa54+0x2b12);}}['clearCamer'+'as'](){this['cameras']['length']=0x814+0x2*-0x163+-0x1*0x54e,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x1*-0xbb+0xa3*-0x31+0x1e78);}['_calculate'+'SortDistan'+'ces'](_0x14c2d8,_0x39a54e,_0x5ee5d5,_0x4c8fec){for(let _0x4f67bd=-0xdd*0x11+0xf25+0x18*-0x5;_0x4f67bd<_0x39a54e;_0x4f67bd++){const _0x2bd5e9=_0x14c2d8[_0x4f67bd];if(_0x2bd5e9['layer']<=Vb)continue;if(_0x2bd5e9['calculateS'+'ortDistanc'+'e']){_0x2bd5e9['zdist']=_0x2bd5e9['calculateS'+'ortDistanc'+'e'](_0x2bd5e9,_0x5ee5d5,_0x4c8fec);continue;}const _0x52490d=_0x2bd5e9['aabb']['center'],_0x32af58=_0x52490d['x']-_0x5ee5d5['x'],_0x592cb4=_0x52490d['y']-_0x5ee5d5['y'],_0x2f9c40=_0x52490d['z']-_0x5ee5d5['z'];_0x2bd5e9['zdist']=_0x32af58*_0x4c8fec['x']+_0x592cb4*_0x4c8fec['y']+_0x2f9c40*_0x4c8fec['z'];}}['getCulledI'+'nstances'](_0x4c6b40){let _0x27f0dc=this['_visibleIn'+'stances']['get'](_0x4c6b40);return _0x27f0dc||(_0x27f0dc=new HM(),this['_visibleIn'+'stances']['set'](_0x4c6b40,_0x27f0dc)),_0x27f0dc;}['sortVisibl'+'e'](_0x551f23,_0x3cbf1f){const _0x1fa5d7=_0x3cbf1f?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x1fa5d7===dh)return;const _0x1abfeb=this['getCulledI'+'nstances'](_0x551f23),_0x115f1a=_0x3cbf1f?_0x1abfeb['transparen'+'t']:_0x1abfeb['opaque'],_0x31724b=_0x551f23['node'];if(_0x1fa5d7===ew){const _0xc74f0d=_0x31724b['getPositio'+'n'](),_0x7ab8b1=_0x31724b['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x115f1a,_0x115f1a['length'],_0xc74f0d,_0x7ab8b1),this['customSort'+'Callback']&&_0x115f1a['sort'](this['customSort'+'Callback']);}else{if(_0x1fa5d7===Bm||_0x1fa5d7===Jb){const _0x319dcf=_0x31724b['getPositio'+'n'](),_0x2e7824=_0x31724b['forward'];this['_calculate'+'SortDistan'+'ces'](_0x115f1a,_0x115f1a['length'],_0x319dcf,_0x2e7824);}_0x115f1a['sort'](GM[_0x1fa5d7]);}}}const WM=(_0x464480,_0x1aa9bc)=>_0x464480['priority']-_0x1aa9bc['priority'],No=_0x36cbe5=>_0x36cbe5['sort'](WM);class S_ extends ce{constructor(_0x5e222c='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(-0xfca+0x1ff0+-0x1025)),(this['name']=_0x5e222c,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x261383=>_0x261383['destroy']()),this['_renderAct'+'ions']['length']=-0x9*-0x173+0x2*-0xdfb+-0x13*-0xc9;}['_update'](){const _0x188ce7=this['layerList']['length'];if(!this['_dirty']){for(let _0x271dd4=-0x118a*-0x1+-0x8*-0x1aa+-0x2ce*0xb;_0x271dd4<_0x188ce7;_0x271dd4++)if(this['layerList'][_0x271dd4]['_dirtyComp'+'osition']){this['_dirty']=!(0x25e*-0x8+0x5ed+0xd03*0x1);break;}}if(this['_dirty']){this['_dirty']=!(-0x14*-0x1d6+0x1a5a*0x1+-0x5*0xc9d),this['cameras']['length']=-0x264a*0x1+-0x5*0x2c6+0x1a14*0x2;for(let _0x106b62=0x149*0x1d+-0x1bdd+-0x968;_0x106b62<_0x188ce7;_0x106b62++){const _0x2ad603=this['layerList'][_0x106b62];_0x2ad603['_dirtyComp'+'osition']=!(0xae*0x10+0x28*-0x82+0x971);for(let _0x2b7c0d=-0x39*-0x6b+-0x9e*-0x19+-0x2741;_0x2b7c0d<_0x2ad603['cameras']['length'];_0x2b7c0d++){const _0x44459a=_0x2ad603['cameras'][_0x2b7c0d];this['cameras']['indexOf'](_0x44459a)<0x1064+-0x1864+0x800&&this['cameras']['push'](_0x44459a);}}this['cameras']['length']>0x2f*0x8b+0x2b4*0x2+-0x1eec&&No(this['cameras']);let _0x53cb49=-0xbc*0x23+-0x75d*0x5+0x123*0x37;this['destroyRen'+'derActions']();for(let _0x1a5bdd=-0x1*-0x124a+0x13fa+-0x2644;_0x1a5bdd<this['cameras']['length'];_0x1a5bdd++){const _0x5ca508=this['cameras'][_0x1a5bdd];if(_0x5ca508['camera']['renderPass'+'es']['length']>-0x5e*0x57+0x11fa+-0x4*-0x37e){this['addDummyRe'+'nderAction'](_0x53cb49,_0x5ca508),_0x53cb49++;continue;}let _0x403e7e=!(-0xda*-0x7+0x1a*-0xc1+0xda4);const _0x672109=_0x53cb49;let _0x5f8aae=null,_0x47bba5=!(0x1*-0x137d+0x14*0x18e+-0xb9a);for(let _0x383252=-0x78b+0xf44+-0x7b9;_0x383252<_0x188ce7;_0x383252++){const _0x3179e8=this['layerList'][_0x383252];if(_0x3179e8['enabled']&&this['subLayerEn'+'abled'][_0x383252]&&_0x3179e8['cameras']['length']>0x2*-0xa92+0x1227+0x2fd&&_0x5ca508['layers']['indexOf'](_0x3179e8['id'])>=0x25e3+0x1879+-0x3e5c){!_0x47bba5&&_0x3179e8['id']===_0x5ca508['disablePos'+'tEffectsLa'+'yer']&&(_0x47bba5=!(-0x2202+0xbd8+0x162a),_0x5f8aae&&(_0x5f8aae['triggerPos'+'tprocess']=!(0xa1*0xe+-0x2c*-0x4+0x195*-0x6)));const _0x7591fc=this['subLayerLi'+'st'][_0x383252];_0x5f8aae=this['addRenderA'+'ction'](_0x53cb49,_0x3179e8,_0x7591fc,_0x5ca508,_0x403e7e,_0x47bba5),_0x53cb49++,_0x403e7e=!(0x19d2+-0xf84+0x3*-0x36f);}}_0x672109<_0x53cb49&&(_0x5f8aae['lastCamera'+'Use']=!(-0x493*-0x4+0x23*-0xc1+0x817)),!_0x47bba5&&_0x5f8aae&&(_0x5f8aae['triggerPos'+'tprocess']=!(0x2483+-0x1709+-0xd7a)),_0x5ca508['renderTarg'+'et']&&_0x5ca508['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x672109-(-0x1865+-0xc79+0x24df*0x1),_0x5ca508);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x5dc319){v['assert'](this['_renderAct'+'ions']['length']===_0x5dc319);const _0x8dd7e3=new D0();return this['_renderAct'+'ions']['push'](_0x8dd7e3),_0x8dd7e3;}['addDummyRe'+'nderAction'](_0x823458,_0x5631ee){const _0x3f3204=this['getNextRen'+'derAction'](_0x823458);_0x3f3204['camera']=_0x5631ee,_0x3f3204['useCameraP'+'asses']=!(-0x1ce9*0x1+-0x1f1c+-0x23*-0x1b7);}['addRenderA'+'ction'](_0x2b6630,_0x1eb9b9,_0x3e4feb,_0xdec3a,_0x598b42,_0x30c612){let _0x22cf53=_0x1eb9b9['id']!==Xt?_0xdec3a['renderTarg'+'et']:null,_0x50af72=!(-0x20d1+0x2bd*-0xd+-0xdaf*-0x5);const _0x5802a0=this['_renderAct'+'ions'];for(let _0x392b04=_0x2b6630-(-0x1c9c*0x1+0x11fb*0x1+-0x1*-0xaa2);_0x392b04>=0xdc*0x2c+-0x197a+-0xc56;_0x392b04--)if(_0x5802a0[_0x392b04]['camera']===_0xdec3a&&_0x5802a0[_0x392b04]['renderTarg'+'et']===_0x22cf53){_0x50af72=!(-0x146*-0x2+-0x2132+0x1ea6);break;}_0x30c612&&_0xdec3a['postEffect'+'sEnabled']&&(_0x22cf53=null);const _0x369821=this['getNextRen'+'derAction'](_0x2b6630);_0x369821['triggerPos'+'tprocess']=!(0x220c*0x1+0x1e1+-0x23ec),_0x369821['layer']=_0x1eb9b9,_0x369821['transparen'+'t']=_0x3e4feb,_0x369821['camera']=_0xdec3a,_0x369821['renderTarg'+'et']=_0x22cf53,_0x369821['firstCamer'+'aUse']=_0x598b42,_0x369821['lastCamera'+'Use']=!(-0xdfd+-0x1809+-0xcad*-0x3);const _0x4f348d=_0x598b42||!_0x50af72,_0x3a9a65=_0x1eb9b9['clearColor'+'Buffer']||_0x1eb9b9['clearDepth'+'Buffer']||_0x1eb9b9['clearStenc'+'ilBuffer'];return(_0x4f348d||_0x3a9a65)&&_0x369821['setupClear'+'s'](_0x4f348d?_0xdec3a:void(0xa6+-0x1f2e+0x3d1*0x8),_0x1eb9b9),_0x369821;}['propagateR'+'enderTarge'+'t'](_0x969a5f,_0x4c63e0){for(let _0x5a44ea=_0x969a5f;_0x5a44ea>=0x9a*0x5+-0x251d+-0x1*-0x221b;_0x5a44ea--){const _0x373e54=this['_renderAct'+'ions'][_0x5a44ea],_0x3a4a07=_0x373e54['layer'];if(_0x373e54['renderTarg'+'et']&&_0x3a4a07['id']!==Xt)break;if(_0x3a4a07['id']===Xt)continue;if(_0x373e54['useCameraP'+'asses'])break;const _0x13bc88=_0x373e54==null?void(-0xd78+-0x2*-0xedf+-0x1046):_0x373e54['camera']['camera'];if(_0x13bc88&&(!_0x4c63e0['camera']['rect']['equals'](_0x13bc88['rect'])||!_0x4c63e0['camera']['scissorRec'+'t']['equals'](_0x13bc88['scissorRec'+'t'])))break;_0x373e54['renderTarg'+'et']=_0x4c63e0['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x397aca=-0xa09+0x1*0x13a8+-0x99f;_0x397aca<this['_renderAct'+'ions']['length'];_0x397aca++){const _0x42a683=this['_renderAct'+'ions'][_0x397aca],_0x4366b0=_0x42a683['camera'];if(_0x42a683['useCameraP'+'asses'])v['trace'](pl,_0x397aca+('CustomPass'+'es\x20Cam:\x20')+(_0x4366b0?_0x4366b0['entity']['name']:'-'));else{const _0x1ce70b=_0x42a683['layer'],_0x5b0e7e=_0x1ce70b['enabled']&&this['isEnabled'](_0x1ce70b,_0x42a683['transparen'+'t']),_0x141e87=(_0x42a683['clearColor']?'Color\x20':'.....\x20')+(_0x42a683['clearDepth']?'Depth\x20':'.....\x20')+(_0x42a683['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x397aca+('\x20Cam:\x20'+(_0x4366b0?_0x4366b0['entity']['name']:'-'))['padEnd'](0x1*-0xc47+0x671*0x5+-0x7f*0x28,'\x20')+('\x20Lay:\x20'+_0x1ce70b['name'])['padEnd'](-0x1398+-0x92c+0x1cda,'\x20')+(_0x42a683['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x5b0e7e?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x42a683['renderTarg'+'et']?_0x42a683['renderTarg'+'et']['name']:'-'))['padEnd'](0x25e8+0x1*-0xd25+0x2bd*-0x9,'\x20')+'\x20Clear:\x20'+_0x141e87+(_0x42a683['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x42a683['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x42a683['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x152bee){const _0x15ff01=this['layerIdMap']['get'](_0x152bee['id'])===_0x152bee;return v['assert'](!_0x15ff01,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x152bee['name']),_0x15ff01;}['_isSublaye'+'rAdded'](_0x51e67e,_0x5c1ea9){return(_0x5c1ea9?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x51e67e)!==void(-0xb50+-0x2030+0x4*0xae0)?(v['error']('Sublayer\x20'+_0x51e67e['name']+(',\x20transpar'+'ent:\x20')+_0x5c1ea9+('\x20is\x20alread'+'y\x20added.')),!(-0x18f5*-0x1+0x1d90+0x11*-0x335)):!(0x252a+0xe8c+-0x763*0x7);}['push'](_0x423987){this['_isLayerAd'+'ded'](_0x423987)||(this['layerList']['push'](_0x423987),this['layerList']['push'](_0x423987),this['_opaqueOrd'+'er'][_0x423987['id']]=this['subLayerLi'+'st']['push'](!(-0x1aff+0x6*-0x1f+0x1bba))-(0x219d+-0x5e5+0x81*-0x37),this['_transpare'+'ntOrder'][_0x423987['id']]=this['subLayerLi'+'st']['push'](!(0x15ca+-0x2*-0x42d+-0x1e24))-(0x4*0x3bf+-0x9dc+-0x51f),this['subLayerEn'+'abled']['push'](!(-0x236e+0xcef+0xd*0x1bb)),this['subLayerEn'+'abled']['push'](!(0x6*-0x2cd+0x1b5e+-0xa90)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xf5c+-0x5*-0x3f1+-0x459),this['fire']('add',_0x423987));}['insert'](_0x3fbb80,_0x5dadf1){if(this['_isLayerAd'+'ded'](_0x3fbb80))return;this['layerList']['splice'](_0x5dadf1,0x501+-0x89*-0x19+-0x1262,_0x3fbb80,_0x3fbb80),this['subLayerLi'+'st']['splice'](_0x5dadf1,0x5bf*-0x3+-0x77d*-0x3+-0x53a,!(0x212b+-0x1*0x11be+-0xf6c),!(0x20c9+-0x2*-0xdcd+-0x3c63));const _0x55c0e3=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x5dadf1,_0x55c0e3-(0xfda+0x2*0xd79+-0x2acb)),this['_updateTra'+'nsparentOr'+'der'](_0x5dadf1,_0x55c0e3-(-0x5ac+0x13ec+-0xe3f*0x1)),this['subLayerEn'+'abled']['splice'](_0x5dadf1,-0x1*0x1b0a+0x1a69*0x1+-0x17*-0x7,!(0x8*-0x62+0x20c4+-0x1db4),!(0x12f*0x9+-0x7f+-0xa28)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1*0x1c65+-0x54*0x15+0x72b*-0x3),this['fire']('add',_0x3fbb80);}['remove'](_0x334660){let _0x41137b=this['layerList']['indexOf'](_0x334660);for(delete this['_opaqueOrd'+'er'][_0x41137b],delete this['_transpare'+'ntOrder'][_0x41137b];_0x41137b>=-0x2490+0x1c1b*0x1+0x5*0x1b1;)this['layerList']['splice'](_0x41137b,0x2028+0x3*0xdb+-0x22b8),this['subLayerLi'+'st']['splice'](_0x41137b,0x4a3+-0x2216+0x1a*0x122),this['subLayerEn'+'abled']['splice'](_0x41137b,-0x4ee+-0x2443+0x2932),_0x41137b=this['layerList']['indexOf'](_0x334660),this['_dirty']=!(0x8ea*-0x1+-0x3f6+0xce0),this['fire']('remove',_0x334660);const _0x1c0c6e=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x50c+0x4a4+0x68,_0x1c0c6e-(-0x9*-0x24d+0x20*-0x75+-0x1*0x614)),this['_updateTra'+'nsparentOr'+'der'](-0x1*-0x1cf7+-0x1157*0x1+-0x1*0xba0,_0x1c0c6e-(0x1*-0xe7+0x1fff*-0x1+0x20e7*0x1)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x33762b){this['_isSublaye'+'rAdded'](_0x33762b,!(0x1b5*0x2+-0x2*-0x10da+-0x1*0x251d))||(this['layerList']['push'](_0x33762b),this['_opaqueOrd'+'er'][_0x33762b['id']]=this['subLayerLi'+'st']['push'](!(-0x220b*-0x1+-0x233b*0x1+0x131*0x1))-(0x1fe7+0x86*0x37+-0x3cb0),this['subLayerEn'+'abled']['push'](!(0xa*0x1df+0x1154+-0x240a)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x2*0x12cb+-0x251*-0x7+-0x35cd),this['fire']('add',_0x33762b));}['insertOpaq'+'ue'](_0x5e7c5b,_0x5e29b4){if(this['_isSublaye'+'rAdded'](_0x5e7c5b,!(-0x1*-0xa86+0xa*0x301+0xd85*-0x3)))return;this['layerList']['splice'](_0x5e29b4,0xf97+-0x25f+-0x2*0x69c,_0x5e7c5b),this['subLayerLi'+'st']['splice'](_0x5e29b4,0x1c83+-0x72*0x2e+0xf*-0x89,!(-0x3b9*-0x1+0x100f*0x1+-0x13c7));const _0x1da404=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x5e29b4,_0x1da404-(0x2*-0x57b+0xbb3+0x5e*-0x2)),this['subLayerEn'+'abled']['splice'](_0x5e29b4,0x1*0x110a+-0x9*0x452+-0x2bb*-0x8,!(0xcff+-0x146a+0x76b)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x2*0xd79+-0x1*-0x6af+-0x21a1*0x1),this['fire']('add',_0x5e7c5b);}['removeOpaq'+'ue'](_0x1e94c9){for(let _0x2f7206=0x1*-0x4a+0x724*0x1+-0x6da,_0x2c56a8=this['layerList']['length'];_0x2f7206<_0x2c56a8;_0x2f7206++)if(this['layerList'][_0x2f7206]===_0x1e94c9&&!this['subLayerLi'+'st'][_0x2f7206]){this['layerList']['splice'](_0x2f7206,-0x1aa4+0x2bc+0x1*0x17e9),this['subLayerLi'+'st']['splice'](_0x2f7206,0x2a6*-0x3+0x555*-0x5+0x229c*0x1),_0x2c56a8--,this['_updateOpa'+'queOrder'](_0x2f7206,_0x2c56a8-(-0xc0d+-0x2*-0x49b+0x2d8)),this['subLayerEn'+'abled']['splice'](_0x2f7206,0x2f3+-0x7c*-0x32+-0x1b2a),this['_dirty']=!(-0x1*-0x16d8+-0x2388+-0x1c*-0x74),this['layerList']['indexOf'](_0x1e94c9)<0xa29*-0x3+-0xbbc+-0x6b*-0x65&&this['fire']('remove',_0x1e94c9);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x4facf5){this['_isSublaye'+'rAdded'](_0x4facf5,!(-0x22b6+0x19f+-0x2117*-0x1))||(this['layerList']['push'](_0x4facf5),this['_transpare'+'ntOrder'][_0x4facf5['id']]=this['subLayerLi'+'st']['push'](!(-0x323+0x1f*0x77+-0xb46))-(-0x1f15+-0x7*-0xe2+0x18e8),this['subLayerEn'+'abled']['push'](!(0x1*0x14f+0x14*-0x1a0+0x1*0x1f31)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xddd+0xac9+0x314),this['fire']('add',_0x4facf5));}['insertTran'+'sparent'](_0x3ebb01,_0x31091e){if(this['_isSublaye'+'rAdded'](_0x3ebb01,!(-0x57c*-0x3+0xb*0x2c9+-0x1*0x2f17)))return;this['layerList']['splice'](_0x31091e,0xfb*-0x25+-0x2a5*-0xe+-0x1*0xbf,_0x3ebb01),this['subLayerLi'+'st']['splice'](_0x31091e,0x1*0x1c19+-0x1*0x2259+-0x4*-0x190,!(-0x21b6+-0x6*0x4ed+0x2*0x1fa2));const _0x11a49a=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x31091e,_0x11a49a-(0x42e*0x7+0x1562*0x1+-0x32a3)),this['subLayerEn'+'abled']['splice'](_0x31091e,-0x14b4+-0xf5d+0x2411,!(0xd4b*-0x1+-0x194*0xc+0x25*0xdf)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x221+0x998+-0x15*0x5b),this['fire']('add',_0x3ebb01);}['removeTran'+'sparent'](_0x3f1dd9){for(let _0x526264=-0x795+0xb56+0x1*-0x3c1,_0x5979a9=this['layerList']['length'];_0x526264<_0x5979a9;_0x526264++)if(this['layerList'][_0x526264]===_0x3f1dd9&&this['subLayerLi'+'st'][_0x526264]){this['layerList']['splice'](_0x526264,-0x1*-0xea3+-0x5*-0x691+-0x1d*0x1a3),this['subLayerLi'+'st']['splice'](_0x526264,-0x8c5+0xd*-0xc5+0x12c7),_0x5979a9--,this['_updateTra'+'nsparentOr'+'der'](_0x526264,_0x5979a9-(-0x1255+0x204d*-0x1+0x32a3)),this['subLayerEn'+'abled']['splice'](_0x526264,-0x1c1*0x11+0x17b*0x19+-0x731),this['_dirty']=!(-0x4*0x772+0x191*0x12+0x3a*0x7),this['layerList']['indexOf'](_0x3f1dd9)<0x3fa*-0x9+0x34e+0x207c&&this['fire']('remove',_0x3f1dd9);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x1b98e7){return this['layerOpaqu'+'eIndexMap']['get'](_0x1b98e7)??-(0x1297+0x1024+-0x115d*0x2);}['getTranspa'+'rentIndex'](_0x50a1d5){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x50a1d5)??-(-0x1a44+-0x2b8+0x1cfd);}['isEnabled'](_0x18028b,_0x314ac7){if(_0x18028b['enabled']){const _0x2d3e32=_0x314ac7?this['getTranspa'+'rentIndex'](_0x18028b):this['getOpaqueI'+'ndex'](_0x18028b);if(_0x2d3e32>=0x616+-0x901+-0x2eb*-0x1)return this['subLayerEn'+'abled'][_0x2d3e32];}return!(-0xa4f*0x1+-0x2*-0x291+0x22*0x27);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x4c8d96=0x724*-0x2+0x2405+-0x15bd;_0x4c8d96<this['layerList']['length'];_0x4c8d96++){const _0x27b230=this['layerList'][_0x4c8d96];this['layerIdMap']['set'](_0x27b230['id'],_0x27b230),this['layerNameM'+'ap']['set'](_0x27b230['name'],_0x27b230),(this['subLayerLi'+'st'][_0x4c8d96]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x27b230,_0x4c8d96);}}['getLayerBy'+'Id'](_0x15ba05){return this['layerIdMap']['get'](_0x15ba05)??null;}['getLayerBy'+'Name'](_0x2fc2bb){return this['layerNameM'+'ap']['get'](_0x2fc2bb)??null;}['_updateOpa'+'queOrder'](_0x4238d5,_0x171fb3){for(let _0x90c2b0=_0x4238d5;_0x90c2b0<=_0x171fb3;_0x90c2b0++)this['subLayerLi'+'st'][_0x90c2b0]===!(0x124b+-0x120b+-0x3f)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x90c2b0]['id']]=_0x90c2b0);}['_updateTra'+'nsparentOr'+'der'](_0x1c8d81,_0x18c560){for(let _0x2c4d1a=_0x1c8d81;_0x2c4d1a<=_0x18c560;_0x2c4d1a++)this['subLayerLi'+'st'][_0x2c4d1a]===!(-0xd8b*-0x1+0x1*-0xf53+0x1c8)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x2c4d1a]['id']]=_0x2c4d1a);}['_sortLayer'+'sDescendin'+'g'](_0x33bd47,_0x36be03,_0x439af0){let _0x1a00dc=-(-0x57c*0x2+-0x1b4b+0x2644),_0x77c07d=-(-0x501+0x1*0x1c7b+-0x1*0x1779);for(let _0xa69ee7=0x1*-0x151+0x46d+0x1*-0x31c,_0xaa13ea=_0x33bd47['length'];_0xa69ee7<_0xaa13ea;_0xa69ee7++){const _0x1eaabc=_0x33bd47[_0xa69ee7];_0x439af0['hasOwnProp'+'erty'](_0x1eaabc)&&(_0x1a00dc=Math['max'](_0x1a00dc,_0x439af0[_0x1eaabc]));}for(let _0x2a5190=0x2b0+-0x2*0x4b7+0x1*0x6be,_0xbe2bb0=_0x36be03['length'];_0x2a5190<_0xbe2bb0;_0x2a5190++){const _0x367327=_0x36be03[_0x2a5190];_0x439af0['hasOwnProp'+'erty'](_0x367327)&&(_0x77c07d=Math['max'](_0x77c07d,_0x439af0[_0x367327]));}return _0x1a00dc===-(-0x19c5+0x1*-0x1aa7+-0x346d*-0x1)&&_0x77c07d!==-(0x801*-0x1+-0xab7+0x12b9)?-0x1f87+0xf1*-0x5+-0x243d*-0x1:_0x77c07d===-(0x146a+0x933*-0x2+-0x5*0x67)&&_0x1a00dc!==-(0x60e+0x2b*0x49+-0x1250)?-(0x2*-0x161+-0xd32+0xff5):_0x77c07d-_0x1a00dc;}['sortTransp'+'arentLayer'+'s'](_0x269616,_0x4fdf25){return this['_sortLayer'+'sDescendin'+'g'](_0x269616,_0x4fdf25,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x5255a8,_0x2a5ef8){return this['_sortLayer'+'sDescendin'+'g'](_0x5255a8,_0x2a5ef8,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(0x1d10+-0x968+-0x13a8,-0xca*0xa+-0xa13*0x1+0x11f7,-0x161*-0x16+0x8*0x3e+0x2ef*-0xb,-0x14f5+-0x1c42*0x1+0x3138)],[new Q(-0xdb9+-0xad3+0x188c,0x1*-0x599+0x9*0x2fe+-0x1555,-0x250e+0x10*-0x1d9+0x429e+0.5,0x1*0x1511+0x1faf*-0x1+0xa9e+0.5),new Q(-0xf*0x1d3+0x5c*0x2c+-0x1*-0xb8d,-0x52b+-0x59*-0x17+-0x2d4+0.5,-0x4a*0x61+-0x17*0x95+-0x23*-0x12f+0.5,-0x1628+-0x1*0x1c6f+-0x1*-0x3297+0.5)],[new Q(0x1*-0x81d+0x4d6+-0x347*-0x1,0x67f*0x3+-0x1f70+0xbf3,-0x259d+0x1b*-0x14d+0x46*0x10a+0.5,-0x18dc+0x1982+0x2*-0x53+0.5),new Q(-0xfa6*-0x2+0x1cdc+-0x3c28,-0x1*0x1327+-0x2*0x5e6+0x1a1*0x13+0.5,-0x107b*-0x1+-0x1*-0xfaa+-0xd*0x279+0.5,-0x1*-0x34d+-0x1e31+0x1ae4+0.5),new Q(0x6ac+-0x26fd*-0x1+-0x2da9+0.5,0x14b1+-0x1b0+-0x8b*0x23,-0xb93+0x15a*0x5+0x4d1+0.5,-0x26f7+0x1db7+0x8*0x128+0.5)],[new Q(0x2199+0x2*0x96e+0xd*-0x409,0x6*0x575+-0xb*0x47+-0x2b3*0xb,-0x125*0x11+-0x18cc*0x1+-0x1*-0x2c41+0.5,0x2*0x10be+-0x10a0+-0xd*0x14c+0.5),new Q(0x2a*0x5d+0x1196*0x1+0x836*-0x4,0x102*0x17+-0x1e5a+-0x4*-0x1cb+0.5,0x219b*0x1+-0x145*-0x3+-0x2*0x12b5+0.5,-0x19f9+0x386+0x7*0x335+0.5),new Q(-0x1ab+-0x1651*-0x1+-0x14a6+0.5,-0x1*-0xcb5+-0x2688+0x19d3*0x1,0x14b0+0x14*-0x1b3+0x4a*0x2e+0.5,-0x32*-0x61+0x11e6*0x1+-0xc*0x312+0.5),new Q(0x1*-0x611+0x57*-0xf+0x2*0x595+0.5,-0x2*0x438+0x1cc*-0x12+0x28c8+0.5,0xaca+-0x56*0x3+-0x9c8+0.5,0x256+0x22ba+-0x2510+0.5)]];let qM=-0x1d4a+-0x1*0x158e+0x32d8;class XM{constructor(_0x34c064,_0x2af882,_0x1ca981){this['light']=_0x1ca981,this['camera']=_0x34c064,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x1ca981['_shadowTyp'+'e'],_0x1ca981['_type'],_0x2af882),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0x212+0x7c*-0x3b+0xf53*0x2,-0x9*0x316+-0xdf*-0x1f+-0xc5*-0x1,0xb18+0x190e+-0x2425,0x14*-0xfd+0x6bb*-0x1+-0x80*-0x35),this['shadowScis'+'sor']=new Q(-0x2028+0xd*-0x67+0x2563,0x1*-0x1ad5+0x8*0x2fb+0x2fd,-0x17*0x9+0x18d1*0x1+0x1*-0x1801,0xc1b+-0x2238+0x161e),this['projection'+'Compensati'+'on']=-0x1e6e+-0x169d+0x350b,this['face']=_0x2af882,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1540bc=>{_0x1540bc['defaultUni'+'formBuffer']['destroy'](),_0x1540bc['destroy']();}),this['viewBindGr'+'oups']['length']=0x16*-0x1a0+0x604*-0x4+0x3bd0;}get['shadowBuff'+'er'](){const _0x67bde7=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x67bde7?this['light']['_isPcf']?_0x67bde7['depthBuffe'+'r']:_0x67bde7['colorBuffe'+'r']:null;}}class zo{constructor(_0x5543f4,_0x1d4f76){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x5543f4,this['clusteredL'+'ighting']=_0x1d4f76,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0x56*-0x8+0x10c*-0x9+0x6bc+0.8,0xeb7*-0x1+-0x8*0xc2+0xc5*0x1b+0.8,0xc94+-0xa1d*0x3+-0x1*-0x11c3+0.8),this['_intensity']=-0x14*-0x65+-0x2*0x1a5+-0x1*0x499,this['_affectSpe'+'cularity']=!(0xfe1+0x42*-0x7f+0x3*0x59f),this['_luminance']=-0x1*0x11d6+0x1e92*-0x1+0x3068,this['_castShado'+'ws']=!(-0x5ba*-0x1+-0x6*0x59d+0x1bf5),this['_enabled']=!(-0x4b2*0x5+-0x9be+-0x3f*-0x87),this['_mask']=hs,this['isStatic']=!(-0x5*0x241+-0x2275*-0x1+-0x5*0x4a3),this['key']=0x6*0x61c+-0xee+0x23ba*-0x1,this['bakeDir']=!(0x952*0x2+-0x5*0x4c1+0x521),this['bakeNumSam'+'ples']=-0x1f3e+-0x3e9+0x2328,this['bakeArea']=-0x1*-0xf77+0x9af+-0xde*0x1d,this['attenuatio'+'nStart']=0x1c12+0x9ab+-0x25b3*0x1,this['attenuatio'+'nEnd']=0xb16+-0x4*0x8db+-0x34*-0x78,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=0x24d3+0x1851+-0x3d19,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x3fa*-0x8+-0x60*-0xa+0x382*0x8+0.01)*(0x11*0x1f7+-0x6*0x5b6+0xdd+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x54c*-0x1+-0x133*-0x17+-0x2e*0x7c,this['_cookieFal'+'loff']=!(0x805*0x1+-0x45b*-0x1+-0xc60),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x5e*-0x1d+0x2ea+0x7c0),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x1e2*0xc+-0xc31+0x22cb),this['_cookieTra'+'nsformSet']=!(-0xb2*-0xb+0x107*0x26+-0x2eaf),this['_cookieOff'+'setSet']=!(-0x1*-0xa03+0x64*0x14+-0x11d2),this['_innerCone'+'Angle']=-0x1e1a+-0x246b*0x1+0x42ad,this['_outerCone'+'Angle']=-0x19fd*0x1+0x5b*-0x35+-0x119*-0x29,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x21bc+-0x20c8+0x1b*-0x9,this['_cascadeBl'+'end']=-0x1*0x13d+0xc5c+-0x1*0xb1f,this['cascadeDis'+'tribution']=-0x1f9c+0x39*-0x9c+0x8*0x84b+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(0x211+-0x1e70+0x15a*0x15),this['_updateLin'+'earColor'](),this['_position']=new T(0x2e9*0xd+-0x104f+-0x1586,-0x1*-0x671+0x1*-0x11ea+-0xb*-0x10b,-0xda1+-0x8b*0x9+0x1284),this['_direction']=new T(-0x1*0x25d6+0x2235+0x3a1,0x1*0xf31+-0xfec+-0x1*-0xbb,-0x16aa+0x26*0x1d+0x497*0x4),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x6fb*0x1+0x3de+0x3d1)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0xe*0xfd+0x7*-0x3e7+-0xf5*-0x2b),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x1*-0x16a+0x2*0xe71+-0x1b50,this['_shadowRes'+'olution']=-0x5*0x6e+-0x1c09+0x222f*0x1,this['_shadowBia'+'s']=-(0x18fb+-0x23f2+0xaf7+0.0005),this['shadowInte'+'nsity']=-0x1f31+0x158*0x9+-0x3*-0x65e,this['_normalOff'+'setBias']=0x1625*0x1+0x328+0x3*-0x86f,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x1bad+0x1101+-0x2cad),this['_isPcf']=!(-0x4c3+-0x1*0xe67+-0x1*-0x132a),this['_softShado'+'wParams']=new Float32Array(-0x1*-0x11b4+-0x1690+0x4e0),this['shadowSamp'+'les']=-0x1*-0x2441+-0x182b+0xab*-0x12,this['shadowBloc'+'kerSamples']=-0x5*0x503+0xb*-0x189+0x2a02,this['penumbraSi'+'ze']=-0xa35+-0x2*-0xea4+0x2*-0x989,this['penumbraFa'+'lloff']=-0x1538*-0x1+-0xb05+0x5a*-0x1d,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0xe46+0x1f64+-0x2da9),this['atlasVersi'+'on']=-0x1dd1+-0x1*-0x23ce+-0x5fd,this['atlasSlotI'+'ndex']=-0x1d8b+-0x5f9+0x2384,this['atlasSlotU'+'pdated']=!(-0x1f0c*-0x1+-0xa6f+-0x149c),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x1e61+0x13e5+0x3245*-0x1),this['maxScreenS'+'ize']=-0x1*0x19b1+-0x147b*0x1+-0x7b2*-0x6,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x31ffc3=0x1*-0xd96+0xa8*-0xa+0x1426*0x1;_0x31ffc3<this['_renderDat'+'a']['length'];_0x31ffc3++)this['_renderDat'+'a'][_0x31ffc3]['destroy']();this['_renderDat'+'a']['length']=0x51*0x17+0x22*0x29+-0xcb9;}}['addLayer'](_0x5004f6){this['layers']['add'](_0x5004f6);}['removeLaye'+'r'](_0x5229f4){this['layers']['delete'](_0x5229f4);}set['shadowSamp'+'les'](_0x5f3dd2){this['_softShado'+'wParams'][-0x41*0x3d+-0x1*0x24e9+0x3466]=_0x5f3dd2;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x203+0x2292+-0x208f];}set['shadowBloc'+'kerSamples'](_0x2725d1){this['_softShado'+'wParams'][-0x55a*-0x3+0x2b8*0x6+-0x5*0x679]=_0x2725d1;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x26e9+-0x20*0xa7+-0x1208];}set['shadowBias'](_0x37fcb7){this['_shadowBia'+'s']!==_0x37fcb7&&(this['_shadowBia'+'s']=_0x37fcb7,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x14acf5){(!this['cascades']||this['numCascade'+'s']!==_0x14acf5)&&(this['cascades']=$M[_0x14acf5-(0x100c+-0x2190+0x1185)],this['_shadowMat'+'rixPalette']=new Float32Array((-0x1868+-0x1*0x1966+0x31d2*0x1)*(0x3fa+-0xef*0x13+-0xdd3*-0x1)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x15*0xfe+0x2509*-0x1+0x39e3),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x10afce){this['_cascadeBl'+'end']!==_0x10afce&&(this['_cascadeBl'+'end']=_0x10afce,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x403dd3){this['_shadowMap']!==_0x403dd3&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x403dd3);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x3b07b3){this['_mask']!==_0x3b07b3&&(this['_mask']=_0x3b07b3,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x42201d=this['_type'];return _0x42201d===oe?this['numCascade'+'s']:_0x42201d===Pe?0x128*0x1+0x7e*-0x4f+0x8*0x4b8:-0x4d*-0x61+0x139*-0x15+-0x37f*0x1;}set['type'](_0x63c80f){if(this['_type']===_0x63c80f)return;this['_type']=_0x63c80f,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x55b647=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x55b647;}get['type'](){return this['_type'];}set['shape'](_0x360dea){if(this['_shape']===_0x360dea)return;this['_shape']=_0x360dea,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x5f4ee3=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x5f4ee3;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x1c1c02){this['_usePhysic'+'alUnits']!==_0x1c1c02&&(this['_usePhysic'+'alUnits']=_0x1c1c02,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x3e77c5){if(this['_shadowTyp'+'e']===_0x3e77c5)return;const _0x2cf25d=this['device'];_0x3e77c5===Ts&&!_0x2cf25d['textureFlo'+'atRenderab'+'le']&&!_0x2cf25d['textureHal'+'fFloatRend'+'erable']&&(_0x3e77c5=Dt),this['_type']===Pe&&_0x3e77c5!==Bh&&_0x3e77c5!==Dt&&_0x3e77c5!==Nh&&_0x3e77c5!==zh&&_0x3e77c5!==Ts&&(_0x3e77c5=Dt),_0x3e77c5===Wr&&(!_0x2cf25d['textureFlo'+'atRenderab'+'le']||!_0x2cf25d['textureFlo'+'atFilterab'+'le'])&&(_0x3e77c5=Hr),_0x3e77c5===Hr&&!_0x2cf25d['textureHal'+'fFloatRend'+'erable']&&(_0x3e77c5=Dt);const _0xce96f4=ir['get'](_0x3e77c5);this['_isVsm']=(_0xce96f4==null?void(-0x2245*0x1+0x1*0x2347+-0x6*0x2b):_0xce96f4['vsm'])??!(-0x6a3+0x24ff+-0x1e5b),this['_isPcf']=(_0xce96f4==null?void(0x2*0x8be+-0x1*-0x2613+-0xb*0x50d):_0xce96f4['pcf'])??!(0x20c0*0x1+-0xdec+-0x3d*0x4f),this['_shadowTyp'+'e']=_0x3e77c5,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x1bb185){this['_enabled']!==_0x1bb185&&(this['_enabled']=_0x1bb185,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x326408){this['_castShado'+'ws']!==_0x326408&&(this['_castShado'+'ws']=_0x326408,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0xfd9*0x1+0x232c+-0x3305;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x195f9a){this['_shadowRes'+'olution']!==_0x195f9a&&(this['_type']===Pe?_0x195f9a=Math['min'](_0x195f9a,this['device']['maxCubeMap'+'Size']):_0x195f9a=Math['min'](_0x195f9a,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x195f9a,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x1946cc){this['_vsmBlurSi'+'ze']!==_0x1946cc&&(_0x1946cc%(0x5+0x21b*0xd+0xdb1*-0x2)===-0x1e47+-0x59*-0x15+-0x11*-0x15a&&_0x1946cc++,this['_vsmBlurSi'+'ze']=_0x1946cc);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x3d3861){if(this['_normalOff'+'setBias']!==_0x3d3861){const _0x35fbce=!this['_normalOff'+'setBias']&&_0x3d3861||this['_normalOff'+'setBias']&&!_0x3d3861;this['_normalOff'+'setBias']=_0x3d3861,_0x35fbce&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x3e1e19){this['_falloffMo'+'de']!==_0x3e1e19&&(this['_falloffMo'+'de']=_0x3e1e19,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x304065){this['_innerCone'+'Angle']!==_0x304065&&(this['_innerCone'+'Angle']=_0x304065,this['_innerCone'+'AngleCos']=Math['cos'](_0x304065*Math['PI']/(-0x513+-0xa70+0x1037)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x2fb6d9){this['_outerCone'+'Angle']!==_0x2fb6d9&&(this['_outerCone'+'Angle']=_0x2fb6d9,this['_updateOut'+'erAngle'](_0x2fb6d9),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x3762c0){this['_penumbraS'+'ize']=_0x3762c0,this['_softShado'+'wParams'][-0x125*-0xb+-0x2214+0x157f*0x1]=_0x3762c0;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x197a39){this['_softShado'+'wParams'][-0x19*0x97+0x1e3a+-0x24*0x6e]=_0x197a39;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x313*0xa+0xde4+0x10dd];}['_updateOut'+'erAngle'](_0x224c8a){const _0x50a8de=_0x224c8a*Math['PI']/(-0x2553+-0x1091+-0x2*-0x1b4c);this['_outerCone'+'AngleCos']=Math['cos'](_0x50a8de),this['_outerCone'+'AngleSin']=Math['sin'](_0x50a8de);}set['intensity'](_0x139ffa){this['_intensity']!==_0x139ffa&&(this['_intensity']=_0x139ffa,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x4c814a){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x4c814a,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x191a8f){this['_luminance']!==_0x191a8f&&(this['_luminance']=_0x191a8f,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0x1*-0xec3+-0xcd9*-0x3+-0x8*0x2f9,-0x199a+0x1e46+-0x4ac,-0x15f6*-0x1+-0x5*-0x43+-0x1744,0x246f+-0x4*-0x53+0x2*-0x12dd)),this['_atlasView'+'port'];}set['cookie'](_0x4ca18b){this['_cookie']!==_0x4ca18b&&(this['_cookie']=_0x4ca18b,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x115e6c){this['_cookieFal'+'loff']!==_0x115e6c&&(this['_cookieFal'+'loff']=_0x115e6c,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x3a4d55){if(this['_cookieCha'+'nnel']!==_0x3a4d55){if(_0x3a4d55['length']<0x1*-0x26f5+0xacf+0x1c29){const _0x2adc26=_0x3a4d55['charAt'](_0x3a4d55['length']-(0x11f7+-0x919+-0x8dd)),_0x334fc0=0x9*-0x26b+-0x198d+0x977*0x5-_0x3a4d55['length'];for(let _0x4b53f6=-0xf52+-0x718+0x166a;_0x4b53f6<_0x334fc0;_0x4b53f6++)_0x3a4d55+=_0x2adc26;}this['_cookieCha'+'nnel']=_0x3a4d55,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x9e0c6f){this['_cookieTra'+'nsform']!==_0x9e0c6f&&(this['_cookieTra'+'nsform']=_0x9e0c6f,this['_cookieTra'+'nsformSet']=!!_0x9e0c6f,_0x9e0c6f&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(0x1*0x25b2+0x21ad+0x2d*-0x196)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x211b66){if(this['_cookieOff'+'set']===_0x211b66)return;!!(this['_cookieTra'+'nsformSet']||_0x211b66)&&!_0x211b66&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x6*0x44b+-0xca7+-0x2669*-0x1,0xad9*0x1+-0x5cb*-0x3+0x2*-0xe1d):this['_cookieOff'+'set']=_0x211b66,this['_cookieOff'+'setSet']=!!_0x211b66,_0x211b66&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x5a*0x5+0xefc*0x2+-0x1*0x1fb9,-0x4f8*-0x4+-0x1904+0x525,0x26e9*0x1+0xb*-0x10+-0x2639,-0xa*0x91+-0x1390+0xc9d*0x2),this['_cookieTra'+'nsformSet']=!(-0xba4+0x20f9+-0x1554)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0xce5+-0x1*0x17ad+-0x3e*-0x97,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1873+0x26de+-0x29*0x5a),this['atlasSlotU'+'pdated']=!(0x3*0xcf5+-0xeb4*-0x2+-0x4446);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x3ec51c=-0x1d1d+-0x2*0xb45+0x33a7;_0x3ec51c<this['shadowUpda'+'teOverride'+'s']['length'];_0x3ec51c++)this['shadowUpda'+'teOverride'+'s'][_0x3ec51c]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x3ec51c]=cn);}}['getRenderD'+'ata'](_0x4ad63d,_0x56fcb2){for(let _0x1084d5=0x19*-0xe0+-0x1475+-0x2a55*-0x1;_0x1084d5<this['_renderDat'+'a']['length'];_0x1084d5++){const _0x4bfa37=this['_renderDat'+'a'][_0x1084d5];if(_0x4bfa37['camera']===_0x4ad63d&&_0x4bfa37['face']===_0x56fcb2)return _0x4bfa37;}const _0x1080b2=new XM(_0x4ad63d,_0x56fcb2,this);return this['_renderDat'+'a']['push'](_0x1080b2),_0x1080b2;}['clone'](){const _0x13140c=new zo(this['device'],this['clusteredL'+'ighting']);return _0x13140c['type']=this['_type'],_0x13140c['setColor'](this['_color']),_0x13140c['intensity']=this['_intensity'],_0x13140c['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x13140c['luminance']=this['_luminance'],_0x13140c['castShadow'+'s']=this['castShadow'+'s'],_0x13140c['_enabled']=this['_enabled'],_0x13140c['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x13140c['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x13140c['falloffMod'+'e']=this['_falloffMo'+'de'],_0x13140c['shadowType']=this['_shadowTyp'+'e'],_0x13140c['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x13140c['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x13140c['vsmBias']=this['vsmBias'],_0x13140c['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x13140c['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x13140c['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x13140c['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x13140c['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x13140c['numCascade'+'s']=this['numCascade'+'s'],_0x13140c['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x13140c['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x13140c['shape']=this['_shape'],_0x13140c['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x13140c['shadowBias']=this['shadowBias'],_0x13140c['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x13140c['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x13140c['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x13140c['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x13140c['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x13140c['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x13140c['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x13140c['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x13140c;}static['getLightUn'+'itConversi'+'on'](_0x3df199,_0x32a091=Math['PI']/(0x438+-0x1d3*0x5+0x4eb*0x1),_0xe3842b=0x2653+0x1*0x1779+-0x3dcc){switch(_0x3df199){case Re:{const _0x178c69=Math['cos'](_0x32a091),_0x5494e9=Math['cos'](_0xe3842b);return(-0x1b2c+-0xcc4+-0x2*-0x13f9)*Math['PI']*(-0x2af+-0x1fe+0x4ae-_0x5494e9+(_0x5494e9-_0x178c69)/(0x1a3d+0x16d7+-0x3112));}case Pe:return(0x1658+0x1*-0x25ba+0xf66)*Math['PI'];case oe:return-0x3fd+0x1429+-0x102b;}}['_getUnifor'+'mBiasValue'+'s'](_0x5afae3){const _0x2cc3f3=_0x5afae3['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(0x2581+-0x235+-0x234c+0.00001)*(0x155f*-0x1+-0x18a+-0x37*-0x6b):ti['bias']=this['shadowBias']*(0x173e+0x17ae+-0x2ed8*0x1),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x44a*0x6+-0x249d+0x2*0x574)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(0x80d+-0x3a4*0x8+0x1513+0.00001)*(-0x17df+-0x128d+-0xa0*-0x44):ti['bias']=this['shadowBias']/_0x2cc3f3*(0x1*0x20a0+-0xc7b+-0x13c1),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x2cc3f3/(-0x37*0xa6+-0x634*0x2+0x3019)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x288bc0){if(this['_type']===Re){const _0x1d693e=this['attenuatio'+'nEnd'],_0x8fc49=this['_outerCone'+'Angle'],_0x1f201c=this['_outerCone'+'AngleCos'],_0x185032=this['_node'];kl['copy'](_0x185032['up']),_0x8fc49>0x1*0x13cd+-0x10d*-0x1+0x1*-0x14ad?(_0x288bc0['radius']=_0x1d693e*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x1d693e*_0x1f201c)):(_0x288bc0['radius']=_0x1d693e/((-0x13d5*-0x1+0x43a*0x6+-0x2d2f)*_0x1f201c),kl['mulScalar'](-_0x288bc0['radius'])),_0x288bc0['center']['add2'](_0x185032['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x288bc0['center']=this['_node']['getPositio'+'n'](),_0x288bc0['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x3a3b55){if(this['_type']===Re){const _0x3be947=this['attenuatio'+'nEnd'],_0x438b44=this['_outerCone'+'Angle'],_0x111519=this['_node'],_0x3286cf=Math['abs'](Math['sin'](_0x438b44*N['DEG_TO_RAD'])*_0x3be947);_0x3a3b55['center']['set'](-0xb87+-0x3*-0xa6f+0x13c6*-0x1,-_0x3be947*(-0x1638+0x38b*-0x8+0x2*0x1948+0.5),-0x1b73*0x1+-0x19d3+0x3546),_0x3a3b55['halfExtent'+'s']['set'](_0x3286cf,_0x3be947*(0x6*-0x105+0x2*-0x10ba+-0x2792*-0x1+0.5),_0x3286cf),_0x3a3b55['setFromTra'+'nsformedAa'+'bb'](_0x3a3b55,_0x111519['getWorldTr'+'ansform'](),!(0x20c*-0x11+0x1cb*-0x13+0x44dd));}else this['_type']===Pe&&(_0x3a3b55['center']['copy'](this['_node']['getPositio'+'n']()),_0x3a3b55['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x229f+-0xe68+-0x1437,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x1e0d+-0x576*-0x3+-0xdab*-0x1;else{const _0xe038af=this['shadowBias']*-(-0x1bf9+0x1983+0x65e);this['shadowDept'+'hState']['depthBias']=_0xe038af,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0xe038af;}}['_updateLin'+'earColor'](){let _0x256170=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x256170=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0xcd90bc=this['_color'],_0x10d0a6=this['_colorLine'+'ar'];_0x256170>=-0xbb4*0x1+0x1027*0x2+-0x1499?Ya['linear'](_0xcd90bc)['mulScalar'](_0x256170):Ya['copy'](_0xcd90bc)['mulScalar'](_0x256170)['linear'](),_0x10d0a6[0xd92+0x1*0x603+-0x1395]=Ya['r'],_0x10d0a6[0x13bf*0x1+0x1356+0x9c5*-0x4]=Ya['g'],_0x10d0a6[-0x7cd*-0x1+-0x26e*-0xd+0x2761*-0x1]=Ya['b'];}['setColor'](){arguments['length']===-0x6b*-0x55+0x19db+-0x3d61*0x1?this['_color']['set'](arguments[0x14c*0x7+0xf*0x259+0x1ed*-0x17]['r'],arguments[0x1cdc+0x1b74+-0x1a8*0x22]['g'],arguments[-0x18*0x113+-0x105d+0x2a25]['b']):arguments['length']===-0x1*0x1fc5+-0x2700+0x4b8*0xf&&this['_color']['set'](arguments[0x20cb*-0x1+0x36*0xae+-0x5b*0xb],arguments[-0x17fe*0x1+-0x1*0x38d+0x1b8c],arguments[0xc91*0x1+-0xbf5+-0x9a]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0xeb4203=>{_0xeb4203['hasLight'](this)&&_0xeb4203['markLights'+'Dirty']();});}['updateKey'](){let _0x258b62=this['_type']<<0x1*-0xfb+-0x1803+0x191b|this['_shadowTyp'+'e']<<-0x1c92+0x13f*-0x9+0x3fd*0xa|this['_falloffMo'+'de']<<-0x10c6+0x1ec5+-0xb2*0x14|(this['_normalOff'+'setBias']!==-0xb56*0x2+-0x1e84+0x3530?0x161*0x1+0x21b3*0x1+-0x2313:-0x1ab0+0x18e3+-0x1cd*-0x1)<<-0x23f8*-0x1+0x5a2+0x2984*-0x1|(this['_cookie']?-0x2e0+0xcf9+-0x286*0x4:-0x1e9a*-0x1+-0x11c9+-0xcd1*0x1)<<-0x54e+0x4f0*0x2+-0x17f*0x3|(this['_cookieFal'+'loff']?0x1508+-0x74d*0x3+0xe0:0x207d*0x1+0x1*0xeae+-0x2f2b)<<0x4*0x5a3+-0x245*-0xa+-0x2d2a|Ud[this['_cookieCha'+'nnel']['charAt'](0x1e92+0x4*-0x15a+-0x192a)]<<-0x152*-0x16+0x81*-0x29+-0x851|(this['_cookieTra'+'nsform']?0x1033+-0xbc*-0xb+-0xc23*0x2:-0x1*-0x174b+-0x1096+-0x6b5)<<-0x1*-0x319+0x472*0x5+-0x1947|this['_shape']<<0x115*-0x4+-0x23b*0xb+0x1ce7|(this['numCascade'+'s']>-0x65a+-0x12d1*-0x2+-0x1f48?0xb53+0x237e+0x1ac*-0x1c:-0x3c*0x70+0xdf7+-0x55*-0x25)<<0x60a*0x4+0x1b75+-0x3394|(this['_cascadeBl'+'end']>0x35*0xbb+-0x12dd+-0x13da?0x359*-0x4+-0x714+-0x6d3*-0x3:-0xf23+0x1*0x503+-0xd8*-0xc)<<0x1*0x25f7+-0xd70+0x187f*-0x1|(this['affectSpec'+'ularity']?0x1e25*0x1+0x2557+0x19*-0x2b3:-0x2546+0x21a9+-0x5*-0xb9)<<0x8ca+-0x2250+0x198d|this['mask']<<0x2*0x250+-0xe02+0x968|(this['_castShado'+'ws']?0x11a6+-0x1ef9+0xd54:0x7*0x1a5+-0x49*0x5+-0xa16)<<-0x1f1f+-0x1350+0x496*0xb;this['_cookieCha'+'nnel']['length']===0x1373*-0x1+0x7*-0x7+0x13a7&&(_0x258b62|=Ud[this['_cookieCha'+'nnel']['charAt'](0x89a+-0x48b+0x6*-0xad)]<<-0x1f3*-0x6+-0x16a*0x7+0x2*-0xde,_0x258b62|=Ud[this['_cookieCha'+'nnel']['charAt'](0x108f+0x1ce7*-0x1+0x41e*0x3)]<<-0xa49*0x3+-0x833+0x138e*0x2),_0x258b62!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x258b62;}}class L0{constructor(_0x11b975,_0x56ae28,_0x24afbb){c(this,'_areaLight'+'sEnabled',!(0x2085+-0x89*-0xb+0x1*-0x2667)),c(this,'_cells',new T(-0x235d+0xefb+0x2*0xa36,-0x226+0x1f5d+-0x4*0x74d,-0x5b3*-0x3+0x135*0x6+-0x184d)),c(this,'_maxLights'+'PerCell',-0x1663+-0x14d1+0x2c33*0x1),c(this,'_shadowsEn'+'abled',!(0xcbd*-0x3+0x59*0x61+0x1*0x47e)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x35*0x82+0x127d+-0x2567),c(this,'_cookiesEn'+'abled',!(-0x26*-0x36+0x7f*0x40+-0x27c3)),c(this,'_cookieAtl'+'asResoluti'+'on',0xb13+-0x1c97*-0x1+-0x1faa),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x11b975,this['_maxTextur'+'eSize']=_0x56ae28,this['_dirtyLigh'+'tsFnc']=_0x24afbb);}['applySetti'+'ngs'](_0x431fc8){this['shadowsEna'+'bled']=_0x431fc8['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x431fc8['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x431fc8['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x431fc8['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x431fc8['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x431fc8['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x431fc8['lightingSh'+'adowType']??this['shadowType'],_0x431fc8['lightingCe'+'lls']&&(this['cell']=new T(_0x431fc8['lightingCe'+'lls']));}set['cells'](_0xf5b9f6){this['_cells']['copy'](_0xf5b9f6);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x21a6f5){this['_maxLights'+'PerCell']=N['clamp'](_0x21a6f5,-0x99f*-0x2+0xaba*-0x3+0xcf1,0x2f*0xd1+0x1*-0x10b1+-0x14af);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x4f3403){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x4f3403,-0x169+0x1*0x656+-0x4cd,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x9316c4){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x9316c4,-0x1004+0xfcb+0x59*0x1,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x248d15){this['_shadowTyp'+'e']!==_0x248d15&&(this['_shadowTyp'+'e']=_0x248d15,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x11f60d){this['_cookiesEn'+'abled']!==_0x11f60d&&(this['_cookiesEn'+'abled']=_0x11f60d,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x54eb37){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x54eb37&&(this['_areaLight'+'sEnabled']=_0x54eb37,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x523ced){this['_shadowsEn'+'abled']!==_0x523ced&&(this['_shadowsEn'+'abled']=_0x523ced,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0x1fc7+-0x1335+-0xc92),Lt,at,at);class fn{constructor(_0x328591){c(this,'shaderCach'+'e',[]),(this['morph']=_0x328591,_0x328591['incRefCoun'+'t'](),this['device']=_0x328591['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x569496=-0x10ab+0x31a*-0x2+0x16df;_0x569496<_0x328591['_targets']['length'];_0x569496++){const _0x1c5a2b=_0x328591['_targets'][_0x569496];_0x1c5a2b['name']&&this['_weightMap']['set'](_0x1c5a2b['name'],_0x569496),this['setWeight'](_0x569496,_0x1c5a2b['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x26d463=(_0x5aafba,_0x359fe4)=>(this[_0x359fe4]=_0x328591['_createTex'+'ture'](_0x5aafba,_0x328591['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x359fe4],'depth':!(-0x1d17+0x17be+0x55a)}));_0x328591['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x26d463('MorphRTPos','texturePos'+'itions')),_0x328591['morphNorma'+'ls']&&(this['rtNormals']=_0x26d463('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x328591['morphTextu'+'reWidth'],_0x328591['morphTextu'+'reHeight']]);const _0x47ff42=_0x328591['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x47ff42['x']*(0x1277+0x12b6+-0x2529),_0x47ff42['y']*(0x1e5*-0x1+0x1*-0xa99+0xc82),_0x47ff42['z']*(-0x11*-0x2f+0x1c93*-0x1+0xcbc*0x2)]);const _0x48429d=_0x328591['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x48429d['x']*(-0x79d+-0x5e*0x50+0x24ff),_0x48429d['y']*(0x105+-0x7d0+0x6cd),_0x48429d['z']*(0x3a*0x1+-0x1*0x13e3+0x13ab)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x491*-0x5+-0x2087+0x375e*0x1,-0x10*-0x89+-0x10*-0xee+-0x176e,-0x173a+0x6cf+-0x91*-0x1d]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x99f+-0x2258+0x2bf8),-(0x269+0xb*-0xa3+0x499),-(0x216a+0x68d*0x4+-0x3b9d)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x4ad3a2=0x4*0x155+0x104d+-0x15a1;_0x4ad3a2<this['maxSubmitC'+'ount'];_0x4ad3a2++)this['morphBlend'+'Tex'+_0x4ad3a2]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x4ad3a2);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(-0xd7b+0x1df+0xb9d);}['destroy'](){this['shader']=null;const _0x6aa6b7=this['morph'];_0x6aa6b7&&(this['morph']=null,_0x6aa6b7['decRefCoun'+'t'](),_0x6aa6b7['refCount']<-0x1ca4+0x255e+-0x8b9&&_0x6aa6b7['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x5a50dd){if(typeof _0x5a50dd=='string'){const _0x41aa3c=this['_weightMap']['get'](_0x5a50dd);return _0x41aa3c===void(-0x2388+0x6ee+0x1c9a)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x5a50dd+'.'),_0x41aa3c;}return _0x5a50dd;}['getWeight'](_0x516258){const _0x48b1c5=this['_getWeight'+'Index'](_0x516258);return this['_weights'][_0x48b1c5];}['setWeight'](_0x23505c,_0x45d983){const _0x3b451c=this['_getWeight'+'Index'](_0x23505c);v['assert'](_0x3b451c>=-0x3*-0x347+0x111d+-0x1af2&&_0x3b451c<this['morph']['_targets']['length']),this['_weights'][_0x3b451c]=_0x45d983,this['_dirty']=!(-0x4b*-0x1d+-0x127a*0x2+-0x1c75*-0x1);}['_getFragme'+'ntShader'](_0x57abad){let _0x2f326a='',_0x179621='';for(let _0x7d8c4a=-0x267+-0x15fa*0x1+0x1861;_0x7d8c4a<_0x57abad;_0x7d8c4a++)_0x2f326a+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x7d8c4a+';',_0x179621+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x7d8c4a+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x7d8c4a+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x57abad>0x1772+-0x1*-0x13fb+-0x2b6d?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x57abad+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x2f326a+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x179621+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x8728a1){let _0x50a8c3=this['shaderCach'+'e'][_0x8728a1];if(!_0x50a8c3){const _0x244371=this['_getFragme'+'ntShader'](_0x8728a1),_0x5d6761=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x50a8c3=Is(this['device'],jM,_0x244371,'textureMor'+'ph'+_0x8728a1,void(0x83*0x43+0x1*0x2411+-0x465a),{'fragmentOutputTypes':[_0x5d6761]}),this['shaderCach'+'e'][_0x8728a1]=_0x50a8c3;}return _0x50a8c3;}['_updateTex'+'tureRender'+'Target'](_0x18a724,_0x19e455,_0x4b8c44){const _0x3fb644=this['device'],_0x530ac6=(_0x4fd88e,_0x4cfd87)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x3fb644['setBlendSt'+'ate'](_0x4cfd87?YM:_t['NOBLEND']);const _0x3dbfbf=this['_getShader'](_0x4fd88e);dn(_0x3fb644,_0x18a724,_0x3dbfbf);};this['setAabbUni'+'forms'](_0x4b8c44);let _0x9ecd16=0x178f+0x1df8+0x1*-0x3587,_0x1405ce=!(0x799+0x166c+-0x1e04);const _0x47e6c8=this['_activeTar'+'gets']['length'];for(let _0xe5ffbe=0x1*0x1969+-0xd78*-0x1+0x25*-0x10d;_0xe5ffbe<_0x47e6c8;_0xe5ffbe++){const _0x11565d=this['_activeTar'+'gets'][_0xe5ffbe],_0x2a2409=_0x11565d['target'][_0x19e455];_0x2a2409&&(this['morphBlend'+'Tex'+_0x9ecd16]['setValue'](_0x2a2409),this['_shaderMor'+'phWeights'][_0x9ecd16]=_0x11565d['weight'],_0x9ecd16++,_0x9ecd16>=this['maxSubmitC'+'ount']&&(_0x530ac6(_0x9ecd16,_0x1405ce),_0x9ecd16=0x19*0x74+-0x1a5d+0xf09,_0x1405ce=!(0x1110+0xba7+-0x1cb7)));}(_0x9ecd16>-0x8f9*0x3+0x2638+-0xb4d||_0x47e6c8===-0x1df6+-0x9b4+0x13d5*0x2&&!this['zeroTextur'+'es'])&&_0x530ac6(_0x9ecd16,_0x1405ce);}['_updateTex'+'tureMorph'](){const _0xf3654e=this['device'];G['pushGpuMar'+'ker'](_0xf3654e,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>-0x233*0x9+0x26f3+-0x1328||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(0x4*-0x103+0x1757+-0x134b)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(0x1*0x214a+0x1*-0x11d1+-0xf78)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0x7*0x389+-0x3a*0x11+-0x14e5),G['popGpuMark'+'er'](_0xf3654e);}['setAabbUni'+'forms'](_0x241aed=!(0x2472+0x20c7+-0x219*0x21)){this['aabbSizeId']['setValue'](_0x241aed?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x241aed?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x408468){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x2651+-0x3*-0xdb+0x9*0x3f9);const _0x1d0739=this['morph']['_targets'];let _0x464df1=-0xa*0x13a+0x1*0x1d69+-0x1125;const _0x225324=0x4b5*0x5+-0x4*-0x91+-0x19cd+0.00001;for(let _0x220cc7=-0x1*0x1915+0x36b+0xad5*0x2;_0x220cc7<_0x1d0739['length'];_0x220cc7++){const _0x5e0219=Math['abs'](this['getWeight'](_0x220cc7));if(_0x5e0219>_0x225324){this['_activeTar'+'gets']['length']<=_0x464df1&&(this['_activeTar'+'gets'][_0x464df1]={});const _0xa058e9=this['_activeTar'+'gets'][_0x464df1++];_0xa058e9['absWeight']=_0x5e0219,_0xa058e9['weight']=this['getWeight'](_0x220cc7),_0xa058e9['target']=_0x1d0739[_0x220cc7];}}this['_activeTar'+'gets']['length']=_0x464df1,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x35e62c,_0x36019d)=>_0x35e62c['absWeight']<_0x36019d['absWeight']?0x12*-0x29+0x229c+-0x1fb9:_0x36019d['absWeight']<_0x35e62c['absWeight']?-(-0x2*-0x745+-0x2*-0x823+-0x1ecf):-0xcdd+0x1cf*-0x4+-0x1*-0x1419),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x4*-0x5ad+0x1c9*-0x9+-0x6a3,this['_immutable']=!(0x3*-0x891+0x22ad+0x1*-0x8f9));}['getGraph'](){return this['graph'];}['setGraph'](_0x4026e3){this['graph']=_0x4026e3;}['getCameras'](){return this['cameras'];}['setCameras'](_0x857c3b){this['cameras']=_0x857c3b;}['getLights'](){return this['lights'];}['setLights'](_0x2da463){this['lights']=_0x2da463;}['getMateria'+'ls'](){const _0x5ce3f7=[];for(let _0x3878c5=0x1e25+-0x354+-0x1ad1;_0x3878c5<this['meshInstan'+'ces']['length'];_0x3878c5++){const _0x500679=this['meshInstan'+'ces'][_0x3878c5];_0x5ce3f7['indexOf'](_0x500679['material'])===-(-0x65*0x4f+0x8c6+0x1666*0x1)&&_0x5ce3f7['push'](_0x500679['material']);}return _0x5ce3f7;}['clone'](){const _0x2ddbfb=[],_0x33ea4f=[],_0x1d562e=function(_0x3b4f1b){const _0x53418b=_0x3b4f1b['clone']();_0x2ddbfb['push'](_0x3b4f1b),_0x33ea4f['push'](_0x53418b);for(let _0x4e122f=-0xc37+-0x25fe+-0x3235*-0x1;_0x4e122f<_0x3b4f1b['_children']['length'];_0x4e122f++)_0x53418b['addChild'](_0x1d562e(_0x3b4f1b['_children'][_0x4e122f]));return _0x53418b;},_0x3c181e=_0x1d562e(this['graph']),_0x29c9c5=[],_0x1026c0=[],_0x3821c3=[];for(let _0x240ae5=-0x2*-0xbb0+-0x1692+-0x67*0x2;_0x240ae5<this['skinInstan'+'ces']['length'];_0x240ae5++){const _0x5a3c13=this['skinInstan'+'ces'][_0x240ae5]['skin'],_0x1e853c=new nl(_0x5a3c13),_0x38d339=[];for(let _0x41c706=-0x1*0x948+-0x22ad+-0x1*-0x2bf5;_0x41c706<_0x5a3c13['boneNames']['length'];_0x41c706++){const _0x36d2ce=_0x5a3c13['boneNames'][_0x41c706],_0x4e6a11=_0x3c181e['findByName'](_0x36d2ce);_0x38d339['push'](_0x4e6a11);}_0x1e853c['bones']=_0x38d339,_0x1026c0['push'](_0x1e853c);}for(let _0x107b1f=0x77c+-0x22d3+0x1b57;_0x107b1f<this['morphInsta'+'nces']['length'];_0x107b1f++){const _0x21b80a=this['morphInsta'+'nces'][_0x107b1f]['morph'],_0x26dfa3=new fn(_0x21b80a);_0x3821c3['push'](_0x26dfa3);}for(let _0x389bbd=-0x1*-0x1d50+0x1d0e+-0x3a5e;_0x389bbd<this['meshInstan'+'ces']['length'];_0x389bbd++){const _0x344e7d=this['meshInstan'+'ces'][_0x389bbd],_0x5ce14a=_0x2ddbfb['indexOf'](_0x344e7d['node']),_0x5e2ab5=new Le(_0x344e7d['mesh'],_0x344e7d['material'],_0x33ea4f[_0x5ce14a]);if(_0x344e7d['skinInstan'+'ce']){const _0x48203a=this['skinInstan'+'ces']['indexOf'](_0x344e7d['skinInstan'+'ce']);_0x5e2ab5['skinInstan'+'ce']=_0x1026c0[_0x48203a];}if(_0x344e7d['morphInsta'+'nce']){const _0x4f9052=this['morphInsta'+'nces']['indexOf'](_0x344e7d['morphInsta'+'nce']);_0x5e2ab5['morphInsta'+'nce']=_0x3821c3[_0x4f9052];}_0x29c9c5['push'](_0x5e2ab5);}const _0x485726=new Oi();return _0x485726['graph']=_0x3c181e,_0x485726['meshInstan'+'ces']=_0x29c9c5,_0x485726['skinInstan'+'ces']=_0x1026c0,_0x485726['morphInsta'+'nces']=_0x3821c3,_0x485726['getGraph']()['syncHierar'+'chy'](),_0x485726;}['destroy'](){const _0x4d37b9=this['meshInstan'+'ces'];for(let _0x46d7d0=0x1d*-0x90+0x3d1*0x2+0x8ae;_0x46d7d0<_0x4d37b9['length'];_0x46d7d0++)_0x4d37b9[_0x46d7d0]['destroy']();this['meshInstan'+'ces']['length']=0xe7e+-0x18c2+0xa44;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x54f820,_0x3eb8c1,{preferHighPrecision:_0x2e08c7=!(0xb94+-0x7d7*-0x3+0x118c*-0x2)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x3eb8c1,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x3eb8c1,this['preferHigh'+'Precision']=_0x2e08c7,v['assert'](_0x54f820['every'](_0xb07711=>!_0xb07711['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x54f820['slice']());const _0x2cb13b=this['device'],_0x1b1261=_0x2cb13b['textureHal'+'fFloatRend'+'erable']?Je:void(0xe6+-0x1ee8+0x1e02),_0x11e2a6=_0x2cb13b['textureFlo'+'atRenderab'+'le']?Ke:void(-0x26a0+0x12ac+0x13f4);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x11e2a6??_0x1b1261:_0x1b1261??_0x11e2a6,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x35c894=new T(),_0x2922ab=new T();for(let _0x24ea94=0x254f+0x251+-0x27a0;_0x24ea94<this['_targets']['length'];_0x24ea94++){const _0x2a9f2b=this['_targets'][_0x24ea94]['aabb'];_0x35c894['min'](_0x2a9f2b['getMin']()),_0x2922ab['max'](_0x2a9f2b['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x35c894,_0x2922ab);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x699b04=0x2159*-0x1+0x1a0f+0x74a;_0x699b04<this['_targets']['length'];_0x699b04++)this['_targets'][_0x699b04]['_postInit']();}['_findSpars'+'eSet'](_0x33ad58,_0x3dff9a,_0x2f4fe2){let _0x52ab5a=0xbf1+0x1ae6+-0x26d6;const _0x4bf160=_0x33ad58[0x50*-0x62+-0x1cf1+0x3b91]['length'];for(let _0x3f5dd4=-0xd0e+-0x1782+0x2490;_0x3f5dd4<_0x4bf160;_0x3f5dd4+=0x26a3+0x1c1*-0x7+-0x1a59){let _0x538b11=!(0xdcf+0x5c*-0x1e+0x6*-0x81);for(let _0x4f9627=0xa7a*-0x3+-0x62*0x46+0x3a3a*0x1;_0x4f9627<_0x33ad58['length'];_0x4f9627++){const _0x591aa7=_0x33ad58[_0x4f9627];if(_0x591aa7[_0x3f5dd4]!==-0x1616+-0x1*0x1ecb+0x34e1||_0x591aa7[_0x3f5dd4+(0x151b+-0x9ac*-0x2+-0x2872)]!==-0xfd4*-0x2+-0x1ca7+-0x301*0x1||_0x591aa7[_0x3f5dd4+(-0x1b4+-0x4ca*0x5+0x19a8)]!==-0xc4d+-0x37c*0xb+-0xd*-0x3e5){_0x538b11=!(-0x5*-0x347+-0x427*-0x2+-0x18b1);break;}}_0x538b11?(_0x3dff9a['push'](_0x52ab5a),_0x2f4fe2['push'](_0x3f5dd4/(0xa*0x295+-0x10a4+-0x92b)),_0x52ab5a++):_0x3dff9a['push'](0x1bc+0xd6d*0x2+-0x1c96*0x1);}return _0x52ab5a;}['_initTextu'+'reBased'](){const _0x7b2732=[],_0x68b7f3=[];for(let _0x3b0e04=-0xb3f*-0x3+0x2*-0xd93+-0xf1*0x7;_0x3b0e04<this['_targets']['length'];_0x3b0e04++){const _0x3f844d=this['_targets'][_0x3b0e04];_0x3f844d['options']['deltaPosit'+'ions']&&(_0x7b2732['push'](_0x3f844d['options']['deltaPosit'+'ions']),_0x68b7f3['push']({'target':_0x3f844d,'name':'texturePos'+'itions'})),_0x3f844d['options']['deltaNorma'+'ls']&&(_0x7b2732['push'](_0x3f844d['options']['deltaNorma'+'ls']),_0x68b7f3['push']({'target':_0x3f844d,'name':'textureNor'+'mals'}));}const _0x76a7f9=[],_0x15a0de=[],_0x2a6455=this['_findSpars'+'eSet'](_0x7b2732,_0x76a7f9,_0x15a0de),_0x21f552=this['device']['maxTexture'+'Size'];let _0x23271e=Math['ceil'](Math['sqrt'](_0x2a6455));_0x23271e=Math['min'](_0x23271e,_0x21f552);const _0x72ba45=Math['ceil'](_0x2a6455/_0x23271e);if(_0x72ba45>_0x21f552)return!(-0x9da+-0xb85+0x1560);this['morphTextu'+'reWidth']=_0x23271e,this['morphTextu'+'reHeight']=_0x72ba45;let _0x163142=!(-0xef2+-0x7b*-0x51+0xec*-0x1a),_0x3d3617=0x1c*-0x72+-0x1*0x16f+0xdea;const _0x3f860d=Wt['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x163142=!(-0x1*-0x1b25+-0xb24*-0x2+-0x316d),_0x3d3617=0x977+0x239+-0xbac);const _0x51fb25=[];for(let _0x568ba5=0x1ba6+0x16f*0x17+0x2e3*-0x15;_0x568ba5<_0x7b2732['length'];_0x568ba5++)_0x51fb25['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x212601=-0xe15+0x2*-0x791+0x1d37;_0x212601<_0x7b2732['length'];_0x212601++){const _0x1172f7=_0x7b2732[_0x212601],_0x331bb6=_0x51fb25[_0x212601],_0x4ae188=_0x331bb6['lock']();if(_0x163142)for(let _0x4271d7=-0xa6*0xc+-0x6bb*-0x4+-0x1324;_0x4271d7<_0x15a0de['length'];_0x4271d7++){const _0x4c0b48=_0x15a0de[_0x4271d7]*(0x5*-0x222+0x7*0x44f+-0x137c),_0x1e9649=_0x4271d7*_0x3d3617+_0x3d3617;_0x4ae188[_0x1e9649]=_0x3f860d(_0x1172f7[_0x4c0b48]),_0x4ae188[_0x1e9649+(-0xa01+-0x1de+0x17c*0x8)]=_0x3f860d(_0x1172f7[_0x4c0b48+(-0xbb6+0x2f1+0x1*0x8c6)]),_0x4ae188[_0x1e9649+(-0xff8+-0x289*0x4+0x1a1e)]=_0x3f860d(_0x1172f7[_0x4c0b48+(-0x1b52+-0xc*-0x178+0x9b4)]);}else for(let _0x2af84c=-0xf68+-0x1*0x1189+0x20f1;_0x2af84c<_0x15a0de['length'];_0x2af84c++){const _0x18b40a=_0x15a0de[_0x2af84c]*(0x6*-0x66c+-0x1*0x1a51+0x2*0x206e),_0x40d926=_0x2af84c*_0x3d3617+_0x3d3617;_0x4ae188[_0x40d926]=_0x1172f7[_0x18b40a],_0x4ae188[_0x40d926+(0x107f+0x3b*0xa7+-0x36fb)]=_0x1172f7[_0x18b40a+(-0x2*-0x808+-0x1*0xddb+0x5e*-0x6)],_0x4ae188[_0x40d926+(-0x1b5*-0x1+-0x91f+-0xa*-0xbe)]=_0x1172f7[_0x18b40a+(0x6f4+-0x1f0e+-0x181c*-0x1)];}_0x331bb6['unlock'](),_0x68b7f3[_0x212601]['target']['_setTextur'+'e'](_0x68b7f3[_0x212601]['name'],_0x331bb6);}const _0x462cc4=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(-0xad3*-0x1+0x137*-0x1b+-0xafd*-0x2)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x462cc4,_0x76a7f9['length']),_0x76a7f9['length'],{'data':new Uint32Array(_0x76a7f9)}),!(0x1181*0x1+0x19b5*-0x1+0x3c*0x23);}['destroy'](){var _0x5bdb94;(_0x5bdb94=this['vertexBuff'+'erIds'])==null||_0x5bdb94['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x267406=-0x2ff*0x1+-0x155e+0x185d;_0x267406<this['_targets']['length'];_0x267406++)this['_targets'][_0x267406]['destroy']();this['_targets']['length']=-0x2*0x9f3+-0x1466+0x284c;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x2b*-0x33+-0x47d*0x1+0x1*-0x413),this['_morphNorm'+'als']=!(-0x8b*0x3a+-0x11f1*0x1+0xc5c*0x4);for(let _0x316b42=-0x6ef+0x4*-0x587+0x1d0b*0x1;_0x316b42<this['_targets']['length'];_0x316b42++){const _0x6f8503=this['_targets'][_0x316b42];_0x6f8503['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x32*-0x52+-0x48a+-0x1a*0x71)),_0x6f8503['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x11*-0x1a7+-0x2666+0x427d));}}['_createTex'+'ture'](_0x1f3224,_0x222a5e){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x222a5e,'cubemap':!(-0x5bc*-0x2+0xc*-0x173+0x5ed*0x1),'mipmaps':!(-0x959+-0x21f6+-0x738*-0x6),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x1f3224});}}class Qc{constructor(_0x2c4c46){c(this,'used',!(-0x1f*-0x12b+-0x8b5*-0x1+0x2ce9*-0x1)),(v['assert'](arguments['length']===0x1b2a+0x23fd+-0x3f26),this['options']=_0x2c4c46,this['_name']=_0x2c4c46['name'],this['_defaultWe'+'ight']=_0x2c4c46['defaultWei'+'ght']||0x2139+-0x44f*0x9+-0x4f*-0x12,this['_aabb']=_0x2c4c46['aabb'],this['deltaPosit'+'ions']=_0x2c4c46['deltaPosit'+'ions']);}['destroy'](){var _0x3cec51,_0x346196;(_0x3cec51=this['texturePos'+'itions'])==null||_0x3cec51['destroy'](),this['texturePos'+'itions']=null,(_0x346196=this['textureNor'+'mals'])==null||_0x346196['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x9*0x7f+-0x1*-0xbdf+-0x768);}['_setTextur'+'e'](_0x599603,_0x1c2896){this[_0x599603]=_0x1c2896;}}let si,v_=0x7e4+-0x227*-0x5+-0x12a6;const ie=0xeb*0x5+0x2247+-0x2*0x136d,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x42291a){return _0x42291a-Math['floor'](_0x42291a);}function KM(_0x4f603e){return Math['max'](Math['min'](_0x4f603e,0x8ac+0x1d40+-0x25eb),-0x1*0x1189+0x1*0x12b9+-0x130);}function Hd(_0x13f9cf,_0x1af5de){return _0x13f9cf-_0x1af5de*Math['floor'](_0x13f9cf/_0x1af5de);}function ZM(_0x2a809b){let _0x20fbad=ia(_0x2a809b),_0x533699=ia((-0x1a0f*-0x1+-0xcf3*0x3+-0xdc9*-0x1)*_0x2a809b),_0x5d19b7=ia((-0x1*0x158ec+0x152d4+-0x73*-0x243)*_0x2a809b),_0x348528=ia((0x9e1c30c+0xb4bacd4+-0xb9b28e1)*_0x2a809b);return _0x20fbad-=_0x533699/(0x2363+-0x22c1+0x5d*0x1),_0x533699-=_0x5d19b7/(0x2531+0x805+-0x2c37),_0x5d19b7-=_0x348528/(-0x249d+0x85*-0x18+0x3214),_0x348528-=_0x348528/(0x1e2f+-0x1583+-0x7ad),[_0x20fbad,_0x533699,_0x5d19b7,_0x348528];}function Nl(_0x402e8c){let _0x41a185=ia(_0x402e8c),_0x49d9c9=ia((0x1ba6+0x8a8+-0x234f)*_0x402e8c);return _0x41a185-=_0x49d9c9/(0xaca+0x104b*-0x1+0x680),_0x49d9c9-=_0x49d9c9/(-0x1aa*0x2+0x1e6b+-0x1a18),[_0x41a185,_0x49d9c9];}class QM{constructor(_0x5942fa){this['_emitter']=_0x5942fa;}['calcSpawnP'+'osition'](_0x3a873f,_0x44e819,_0x2c2490,_0xaeed71,_0x231e8e){const _0x236cc6=this['_emitter'],_0x43d8cb=Math['random'](),_0x3d2365=Math['random'](),_0x951732=Math['random'](),_0x31d30c=Math['random']();if(_0x236cc6['useCpu']&&(_0x3a873f[_0x231e8e*ie+(-0x12d2+0x2ad*0x1+0x1025)+_0x236cc6['numParticl'+'esPot']*(0x4f9*-0x7+-0x1a9*-0xd+0xd3c)*ie]=_0x43d8cb,_0x3a873f[_0x231e8e*ie+(-0x2182+-0x153*-0x5+-0x1*-0x1ae4)+_0x236cc6['numParticl'+'esPot']*(0xbe*-0xb+0x1*0x1e8e+0xbf*-0x1e)*ie]=_0x3d2365,_0x3a873f[_0x231e8e*ie+(-0xa*-0x2ba+0x6d*0x49+-0x3a57)+_0x236cc6['numParticl'+'esPot']*(0x7*-0x25a+-0xf47+-0xa95*-0x3)*ie]=_0x951732),ze['x']=_0x43d8cb-(0x1bee+0x1*-0xe81+-0xd6d+0.5),ze['y']=_0x3d2365-(0x1*0xdab+0x1c*0x2c+-0x53*0x39+0.5),ze['z']=_0x951732-(-0x55*-0x10+-0x19f7*-0x1+0x11*-0x1d7+0.5),_0x236cc6['emitterSha'+'pe']===Vs){const _0x57868c=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x270e94=_0x57868c+(-0x17c1+0xce0+-0x5*-0x22d+0.5-_0x57868c)*_0x2c2490[-0x27*-0x73+0x2*0xa59+-0x2637],_0x5007f3=_0x57868c+(0x1659+-0x980+-0x17*0x8f+0.5-_0x57868c)*_0x2c2490[-0x1e46+0x5*0x1c1+-0x1*-0x1582],_0x49295c=_0x57868c+(0x8d9+-0x27e*-0x9+-0x1f47+0.5-_0x57868c)*_0x2c2490[-0x1*0x1abd+0x1516+-0xa1*-0x9];ze['x']=_0x270e94*(_0x57868c===Math['abs'](ze['x'])?Math['sign'](ze['x']):(-0x16*-0x15d+0x9bd+-0x27b9)*ze['x']),ze['y']=_0x5007f3*(_0x57868c===Math['abs'](ze['y'])?Math['sign'](ze['y']):(0x2496+-0x239f+-0xf5)*ze['y']),ze['z']=_0x49295c*(_0x57868c===Math['abs'](ze['z'])?Math['sign'](ze['z']):(0x78+-0x6c9+-0x1*-0x653)*ze['z']),_0x236cc6['localSpace']?ks['copy'](_0x44e819['transformP'+'oint'](ze)):ks['copy'](_0xaeed71)['add'](_0x44e819['transformP'+'oint'](ze));}else{ze['normalize']();const _0x499c97=_0x236cc6['emitterRad'+'ius']===-0x19fa+-0x1788+0x3182?0xc*-0xe5+0x11be*-0x1+0x36*0x87:_0x236cc6['emitterRad'+'iusInner']/_0x236cc6['emitterRad'+'ius'],_0x1b5508=_0x31d30c*(-0x1834*0x1+-0x1d87+0x1ade*0x2-_0x499c97)+_0x499c97;_0x236cc6['localSpace']?ks['copy'](ze['mulScalar'](_0x1b5508*_0x236cc6['emitterRad'+'ius'])):ks['copy'](_0xaeed71)['add'](ze['mulScalar'](_0x1b5508*_0x236cc6['emitterRad'+'ius']));}let _0x3f767a=-N['lerp'](_0x236cc6['rate'],_0x236cc6['rate2'],_0x43d8cb)*_0x231e8e;if(_0x236cc6['pack8']){const _0x22bf40=(ks['x']-_0x236cc6['worldBound'+'s']['center']['x'])/_0x236cc6['worldBound'+'sSize']['x']+(0x1486+0x4c7*0x3+-0x22db+0.5),_0x20af2d=(ks['y']-_0x236cc6['worldBound'+'s']['center']['y'])/_0x236cc6['worldBound'+'sSize']['y']+(0x61b+-0x181d+-0x5*-0x39a+0.5),_0x51447f=(ks['z']-_0x236cc6['worldBound'+'s']['center']['z'])/_0x236cc6['worldBound'+'sSize']['z']+(-0xc9b*0x2+-0x7d1+0x2107+0.5);let _0x17e1f2=N['lerp'](_0x236cc6['startAngle']*N['DEG_TO_RAD'],_0x236cc6['startAngle'+'2']*N['DEG_TO_RAD'],_0x43d8cb);_0x17e1f2=_0x17e1f2%(Math['PI']*(-0x133e+-0xe8b+0x21cb))/(Math['PI']*(0x1*-0xb5d+0x36b*-0x8+0x26b7));const _0x29e4b8=Nl(_0x22bf40);_0x3a873f[_0x231e8e*ie]=_0x29e4b8[-0x2539*-0x1+-0x6a8+0x1*-0x1e91],_0x3a873f[_0x231e8e*ie+(-0x2*0xd19+-0x1*-0x1983+-0x8*-0x16)]=_0x29e4b8[0x17cc+0x21cb+-0x3996];const _0x52724a=Nl(_0x20af2d);_0x3a873f[_0x231e8e*ie+(0x20eb+0x2048+-0x4131)]=_0x52724a[0x13*-0xb3+-0x16*-0x14+0x2f*0x3f],_0x3a873f[_0x231e8e*ie+(0x15e5+0x11a5*0x1+0x3*-0xd2d)]=_0x52724a[0xeee+0x722+0x160f*-0x1];const _0x5c4016=Nl(_0x51447f);_0x3a873f[_0x231e8e*ie+(0xa3c+0xffd+0x31*-0x89)+_0x236cc6['numParticl'+'esPot']*ie]=_0x5c4016[-0x2204+0x1c8d+0x577],_0x3a873f[_0x231e8e*ie+(-0x23*0xf1+-0x4be*0x1+0x2*0x12d9)+_0x236cc6['numParticl'+'esPot']*ie]=_0x5c4016[0xdc9+0x1*-0x1ab9+-0xcf1*-0x1];const _0x1e26af=Nl(_0x17e1f2);_0x3a873f[_0x231e8e*ie+(0x6*-0x58e+0x1*-0x1b8f+0x3ce5*0x1)+_0x236cc6['numParticl'+'esPot']*ie]=_0x1e26af[0x1343*-0x2+-0x29*0xe9+0xb*0x6e5],_0x3a873f[_0x231e8e*ie+(0x1bf6+-0x3*0xaa6+0x3ff)+_0x236cc6['numParticl'+'esPot']*ie]=_0x1e26af[0x1c75*0x1+0x1f53+-0x1*0x3bc7];const _0x355827=-0x7e6*0x1+0xda5+-0x5be;_0x3a873f[_0x231e8e*ie+(0x7ac+-0xe9*0x1f+0x148e)+_0x236cc6['numParticl'+'esPot']*ie*(-0x5a0+0x1b73+-0x15d1)]=_0x355827;const _0xc96d2b=Math['max'](_0x236cc6['lifetime'],(_0x236cc6['numParticl'+'es']-(-0x1*-0x72f+0x3ab*0x5+-0x1985))*Math['max'](_0x236cc6['rate'],_0x236cc6['rate2'])),_0x1eff51=_0x236cc6['lifetime']+(0x1a0b+0xcd*0x25+0x1*-0x37ab);_0x3f767a=(_0x3f767a+_0xc96d2b)/(_0xc96d2b+_0x1eff51);const _0x23133f=ZM(_0x3f767a);_0x3a873f[_0x231e8e*ie+(0xc33+0x300+0xf33*-0x1)+_0x236cc6['numParticl'+'esPot']*ie*(-0x582*-0x4+-0xb73+-0xa92)]=_0x23133f[0x121*-0xf+0x1839+0x2*-0x3a5],_0x3a873f[_0x231e8e*ie+(0x1db2+0xbf3+0x4*-0xa69)+_0x236cc6['numParticl'+'esPot']*ie*(-0x1e40+-0x5bf*-0x4+-0x747*-0x1)]=_0x23133f[0x2199+-0x182e+-0x96a],_0x3a873f[_0x231e8e*ie+(-0x25e4+-0x208+0x27ee)+_0x236cc6['numParticl'+'esPot']*ie*(0x1421*-0x1+0x1891+-0x46d)]=_0x23133f[0x2*-0x6dc+-0x25d+-0x3*-0x55d],_0x3a873f[_0x231e8e*ie+(0x152a*0x1+0x1094*0x2+-0x364f)+_0x236cc6['numParticl'+'esPot']*ie*(0x1193*-0x2+0x11ff*0x1+0xd*0x152)]=_0x23133f[0xb1b*0x3+-0x187*-0x2+-0x166*0x1a];}else _0x3a873f[_0x231e8e*ie]=ks['x'],_0x3a873f[_0x231e8e*ie+(0x217*-0x3+-0x190*-0x15+-0x1a8a)]=ks['y'],_0x3a873f[_0x231e8e*ie+(0xa40+0x2503*0x1+0x2f41*-0x1)]=ks['z'],_0x3a873f[_0x231e8e*ie+(0x9f4+0x74a+-0x113b)]=N['lerp'](_0x236cc6['startAngle']*N['DEG_TO_RAD'],_0x236cc6['startAngle'+'2']*N['DEG_TO_RAD'],_0x43d8cb),_0x3a873f[_0x231e8e*ie+(0x3fd*0x2+-0x17*-0x7f+-0x1360)+_0x236cc6['numParticl'+'esPot']*ie]=_0x3f767a;}['update'](_0x314948,_0x53225b,_0x45672f,_0x3cc879,_0x8610ed,_0x1a9dcc,_0x323343,_0x325fad){let _0x5f3536,_0x1491d6,_0x5b5eba;const _0x222a84=this['_emitter'];if(_0x222a84['meshInstan'+'ce']['node']){const _0x1fa2e5=_0x222a84['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x5e1ed3=-0x2f*-0x95+0x1*-0x1d0b+0x6c*0x4;_0x5e1ed3<-0x346+-0x4*0x9c1+0x1*0x2a56;_0x5e1ed3++)Vd['data'][_0x5e1ed3]=_0x1fa2e5['data'][_0x5e1ed3];Gd['copy'](Vd),Gd['invert'](),si=_0x222a84['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x1a9dcc=_0x222a84['meshInstan'+'ce']['node']===null||_0x222a84['localSpace']?T['ZERO']:_0x222a84['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x498cc4=_0x222a84['camera']?_0x222a84['camera']['_node']['getPositio'+'n']():T['ZERO'],_0xf4c183=_0x222a84['useMesh']?-0x38f+0x25f4+-0x2254:-0x3b*-0x3+0x1*0x1bdf+0x1c81*-0x1;let _0x2d9716,_0x591ee5,_0x1a8735,_0x2d11f6,_0x14afc9,_0xf71b20,_0x34c332,_0x3a6101,_0x7b0a84;const _0x479751=_0x222a84['precision']-(-0x7*0x34c+0x1e5e+-0x175*0x5);for(let _0x25e841=0x14*-0x93+-0x7c9+0x1345;_0x25e841<_0x222a84['numParticl'+'es'];_0x25e841++){const _0x2608e2=Math['floor'](_0x222a84['vbCPU'][_0x25e841*_0x222a84['numParticl'+'eVerts']*(_0x222a84['useMesh']?-0x29+-0xe*0x12+0x12b:0x1df*-0x2+-0x1388+-0x21e*-0xb)+(-0x102c+-0x1*-0x1b27+-0xaf8)]),_0x43aca6=_0x45672f[_0x2608e2*ie+(0xbbe+-0x263d+-0x15*-0x143)+_0x222a84['numParticl'+'esPot']*(-0x1*0x2699+0x5ea+-0x1*-0x20b1)*ie];ps['x']=_0x43aca6,ps['y']=_0x45672f[_0x2608e2*ie+(-0x2121+0x1351+0xdd1)+_0x222a84['numParticl'+'esPot']*(-0x1*-0x170a+-0x85d+-0xeab)*ie],ps['z']=_0x45672f[_0x2608e2*ie+(0x1*-0x2c8+0x175*0xc+-0xeb2)+_0x222a84['numParticl'+'esPot']*(0x1*-0x1fc7+-0x396+0x235f)*ie];const _0x195c37=_0x222a84['rate']+(_0x222a84['rate2']-_0x222a84['rate'])*_0x43aca6,_0x1ae3ca=_0x222a84['lifetime'];let _0x46e031=_0x45672f[_0x2608e2*ie+(-0x2005+-0x148b*-0x1+0xb7d)+_0x222a84['numParticl'+'esPot']*ie]+_0x323343;const _0x46e6be=KM(_0x46e031/_0x1ae3ca);let _0x12f686=0x10c*-0xb+-0x18a9+0x405*0x9,_0xe231a6=-0x2536*-0x1+-0x3ef*-0x3+0x1*-0x3103;const _0x1fd9c0=-0x2a1*-0x5+0xf7a+-0x1c9f;(_0x46e031-_0x323343<=0x1562+0x26e0+-0x3c42||_0x46e031>=_0x1ae3ca)&&this['calcSpawnP'+'osition'](_0x45672f,_0x3cc879,_0x8610ed,_0x1a9dcc,_0x2608e2);let _0x454f12=_0x46e031>-0x1807+0x15b0+-0x257*-0x1&&_0x46e031<_0x1ae3ca;_0x454f12&&(_0x5b5eba=_0x46e6be*_0x479751,_0x2d9716=Math['floor'](_0x5b5eba),_0x591ee5=Math['ceil'](_0x5b5eba),_0x5b5eba%=-0x1*-0x85d+0x7*-0x311+0xd1b,_0x5f3536=_0x222a84['qRotSpeed'][_0x2d9716],_0x1491d6=_0x222a84['qRotSpeed'][_0x591ee5],_0x1a8735=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qRotSpeed2'][_0x2d9716],_0x1491d6=_0x222a84['qRotSpeed2'][_0x591ee5],_0x2d11f6=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qScale'][_0x2d9716],_0x1491d6=_0x222a84['qScale'][_0x591ee5],_0x12f686=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qScale2'][_0x2d9716],_0x1491d6=_0x222a84['qScale2'][_0x591ee5],_0x14afc9=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qAlpha'][_0x2d9716],_0x1491d6=_0x222a84['qAlpha'][_0x591ee5],_0xf71b20=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qAlpha2'][_0x2d9716],_0x1491d6=_0x222a84['qAlpha2'][_0x591ee5],_0x34c332=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qRadialSpe'+'ed'][_0x2d9716],_0x1491d6=_0x222a84['qRadialSpe'+'ed'][_0x591ee5],_0x3a6101=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qRadialSpe'+'ed2'][_0x2d9716],_0x1491d6=_0x222a84['qRadialSpe'+'ed2'][_0x591ee5],_0x7b0a84=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x3a6101+=(_0x7b0a84-_0x3a6101)*(_0x43aca6*(-0x107*0x16+-0x1d*0x26+0x1b4c)%(-0x4*-0x832+0xfd*0xb+-0x12e*0x25)),Rn['x']=_0x45672f[_0x2608e2*ie],Rn['y']=_0x45672f[_0x2608e2*ie+(0x1344+-0x1cf8+0x5*0x1f1)],Rn['z']=_0x45672f[_0x2608e2*ie+(-0x2e*0x21+-0x2cb+0x8bb)],_0x222a84['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x1a9dcc),Ka['normalize']()['mulScalar'](_0x3a6101),_0x2d9716*=0x15db+0x12ad+-0x2885,_0x591ee5*=-0x1*0x11c9+-0x5*0x3f7+-0x259f*-0x1,_0x5f3536=_0x222a84['qLocalVelo'+'city'][_0x2d9716],_0x1491d6=_0x222a84['qLocalVelo'+'city'][_0x591ee5],Ze['x']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qLocalVelo'+'city'][_0x2d9716+(0x1*0x16cf+0x3*0x1d1+0x1c41*-0x1)],_0x1491d6=_0x222a84['qLocalVelo'+'city'][_0x591ee5+(-0x194c+-0x14bb+0xf58*0x3)],Ze['y']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qLocalVelo'+'city'][_0x2d9716+(0x2*0xe1d+0x18c1+-0x34f9)],_0x1491d6=_0x222a84['qLocalVelo'+'city'][_0x591ee5+(0x1246*-0x1+-0x71e+0x1966*0x1)],Ze['z']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qLocalVelo'+'city2'][_0x2d9716],_0x1491d6=_0x222a84['qLocalVelo'+'city2'][_0x591ee5],Dn['x']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qLocalVelo'+'city2'][_0x2d9716+(-0x409+0x1*0x7c4+0x9f*-0x6)],_0x1491d6=_0x222a84['qLocalVelo'+'city2'][_0x591ee5+(0x467*-0x1+0xe5*0x14+-0xd7c)],Dn['y']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qLocalVelo'+'city2'][_0x2d9716+(0x20c*0x11+0x1f20+-0x41ea)],_0x1491d6=_0x222a84['qLocalVelo'+'city2'][_0x591ee5+(0xe7e+-0x1cd0+-0x20c*-0x7)],Dn['z']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qVelocity'][_0x2d9716],_0x1491d6=_0x222a84['qVelocity'][_0x591ee5],Nt['x']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qVelocity'][_0x2d9716+(0x2415+0x2*0x18f+0x2*-0x1399)],_0x1491d6=_0x222a84['qVelocity'][_0x591ee5+(0x157+-0x3*-0x11b+0x1*-0x4a7)],Nt['y']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qVelocity'][_0x2d9716+(-0x1629+0x2183+0x18*-0x79)],_0x1491d6=_0x222a84['qVelocity'][_0x591ee5+(0xa03+-0x1*-0x1f1a+0x1*-0x291b)],Nt['z']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qVelocity2'][_0x2d9716],_0x1491d6=_0x222a84['qVelocity2'][_0x591ee5],In['x']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qVelocity2'][_0x2d9716+(0x72d+0x57*-0x52+-0x3*-0x6e6)],_0x1491d6=_0x222a84['qVelocity2'][_0x591ee5+(-0x23b3+0xb15*-0x2+-0x66e*-0x9)],In['y']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,_0x5f3536=_0x222a84['qVelocity2'][_0x2d9716+(0x2b1*-0xd+-0x1f36+0x4235)],_0x1491d6=_0x222a84['qVelocity2'][_0x591ee5+(-0xe0b+0x2383+-0xabb*0x2)],In['z']=_0x5f3536+(_0x1491d6-_0x5f3536)*_0x5b5eba,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x222a84['initialVel'+'ocity']>0x228b+-0x88d+0x19fe*-0x1&&(_0x222a84['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0x7f*-0x4d+-0x3*0x976+0x1b*-0x5d)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x222a84['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x222a84['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x1a8735+=(_0x2d11f6-_0x1a8735)*ps['y'],_0x12f686=(_0x12f686+(_0x14afc9-_0x12f686)*(_0x43aca6*(0x2f27+0x4277+-0x4a8e)%(0x2139+-0xb*-0x169+0x5*-0x9bf)))*v_,_0xe231a6=(_0x34c332-_0xf71b20)*(_0x43aca6*(-0x11*0x34+0x127*0x2+-0x50e*-0x1)%(0x1d*-0x2b+0x259c+0x2*-0x105e)),_0x222a84['meshInstan'+'ce']['node']&&(_0x222a84['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x222a84['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x323343)),vt['copy'](b_),_0x45672f[_0x2608e2*ie]=vt['x'],_0x45672f[_0x2608e2*ie+(-0x3e3*-0x2+0x1d2f*0x1+-0x24f4)]=vt['y'],_0x45672f[_0x2608e2*ie+(0x429*-0x4+-0x1e61+0xfad*0x3)]=vt['z'],_0x45672f[_0x2608e2*ie+(0x1b56+-0xb2*-0x1c+0x2ecb*-0x1)]+=_0x1a8735*_0x323343,_0x222a84['wrap']&&_0x222a84['wrapBounds']&&(_0x222a84['localSpace']||vt['sub'](_0x1a9dcc),vt['x']=Hd(vt['x'],_0x222a84['wrapBounds']['x'])-_0x222a84['wrapBounds']['x']*(-0x1ad0+0x13f+0x1991+0.5),vt['y']=Hd(vt['y'],_0x222a84['wrapBounds']['y'])-_0x222a84['wrapBounds']['y']*(-0x837+0x1693+-0x1*0xe5c+0.5),vt['z']=Hd(vt['z'],_0x222a84['wrapBounds']['z'])-_0x222a84['wrapBounds']['z']*(-0x12de+0x3*0x99b+0x351*-0x3+0.5),_0x222a84['localSpace']||vt['add'](_0x1a9dcc)),_0x222a84['sort']>-0xd3*0x1b+-0x24ef+0x3b30&&(_0x222a84['sort']===-0x1984+0x1ae*0x15+0x9c1*-0x1?(wr['copy'](vt)['sub'](_0x498cc4),_0x222a84['particleDi'+'stance'][_0x2608e2]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x222a84['sort']===0x638+0x1*0x1e45+-0x11b*0x21?_0x222a84['particleDi'+'stance'][_0x2608e2]=_0x46e031:_0x222a84['sort']===-0x25be+-0x1039+0x35fa&&(_0x222a84['particleDi'+'stance'][_0x2608e2]=-_0x46e031))),_0x325fad?_0x46e031<0x34d*-0x1+-0x26a1+0x6fd*0x6&&(_0x45672f[_0x2608e2*ie+(0x252a+-0x1ced+0x83a*-0x1)+_0x222a84['numParticl'+'esPot']*(0x163*-0xf+0xc11*0x1+0x2*0x45f)*ie]=-(0x1*-0x1b19+-0xfe*0x1+0x8*0x383)):(_0x46e031>=_0x1ae3ca&&(_0x46e031-=Math['max'](_0x1ae3ca,(_0x222a84['numParticl'+'es']-(-0x1a*-0x28+-0x44f*-0x7+-0x2238))*_0x195c37),_0x45672f[_0x2608e2*ie+(-0x1*-0x833+-0x799+-0x1*0x97)+_0x222a84['numParticl'+'esPot']*(-0x266+0x5a4+-0x33c)*ie]=_0x222a84['loop']?0x8*0x75+0x247f+-0x2826:-(-0x85c*-0x4+-0x1c37+-0x538)),_0x46e031<-0x1bdf+0x5*0x277+-0x14*-0xc7&&_0x222a84['loop']&&(_0x45672f[_0x2608e2*ie+(0x1d78+-0x15f4*-0x1+-0x3369)+_0x222a84['numParticl'+'esPot']*(0x1a4b+-0x1157+0x1*-0x8f2)*ie]=-0x245e+0xfd*-0xd+0x1a4*0x1e)),_0x45672f[_0x2608e2*ie+(-0x17*-0x89+0x7f*-0xd+-0x5d9)+_0x222a84['numParticl'+'esPot']*(-0x1c1*-0x5+0x1*0xb66+-0x18d*0xd)*ie]<-0x867+0x8e*0xb+0x24d&&(_0x454f12=!(-0x3f*0x99+0x448*-0x1+-0x1e8*-0x16)),_0x45672f[_0x2608e2*ie+(-0x1949*0x1+-0x8e9*-0x1+0x1063)+_0x222a84['numParticl'+'esPot']*ie]=_0x46e031;for(let _0x403809=-0x4*0x880+-0x233e+0x453e;_0x403809<_0x222a84['numParticl'+'eVerts'];_0x403809++){const _0x36e036=(_0x25e841*_0x222a84['numParticl'+'eVerts']+_0x403809)*(_0x222a84['useMesh']?0x281+-0xff3+0xd78:-0x1*0x67c+0x2089*-0x1+0x2709);let _0x2a4d08=_0x222a84['vbCPU'][_0x36e036],_0x3c3de7=_0x222a84['vbCPU'][_0x36e036+(-0x4*-0x4a3+-0x773*0x3+0x3ce)],_0x1ff832=_0x222a84['vbCPU'][_0x36e036+(0x2*-0x4de+-0x20b1+-0x47*-0x99)];_0x454f12||(_0x2a4d08=_0x3c3de7=_0x1ff832=-0x647*0x5+0x1*-0x2267+-0x7*-0x966);const _0x215300=_0x25e841*_0x222a84['numParticl'+'eVerts']*_0xf4c183+_0x403809*_0xf4c183;_0x314948[_0x215300]=vt['x'],_0x314948[_0x215300+(-0x398+-0x1df2*0x1+0x218b)]=vt['y'],_0x314948[_0x215300+(0x1*0x1165+-0x223f+0xd*0x14c)]=vt['z'],_0x314948[_0x215300+(0x10c6+-0x1d8d+-0x665*-0x2)]=_0x46e6be,_0x314948[_0x215300+(-0xa97*-0x1+-0x6ff+-0x1*0x394)]=_0x222a84['alignToMot'+'ion']?_0x1fd9c0:_0x45672f[_0x2608e2*ie+(0xc71*-0x1+0x1*-0xf06+0x1b7a)],_0x314948[_0x215300+(0x1*-0x19b7+-0xe4e*-0x2+-0x2e0)]=_0x12f686,_0x314948[_0x215300+(-0x1526+-0x51*0x3b+0x27d7)]=_0xe231a6,_0x314948[_0x215300+(-0x10*0x160+-0xe36+-0x243d*-0x1)]=Bl['x'],_0x314948[_0x215300+(-0x1*0x24bc+0xe77*0x2+0x7d6)]=_0x2a4d08,_0x314948[_0x215300+(0xb*-0xb8+-0x1*-0x1c53+-0x1462)]=_0x3c3de7,_0x314948[_0x215300+(0x23+0x2237+-0x2250)]=_0x1ff832,_0x314948[_0x215300+(0x1030+0x16fd+-0x2722)]=Bl['y'],_0x314948[_0x215300+(-0x1*0x13a3+0x12d1+0xde)]=_0x2608e2,_0x314948[_0x215300+(0x3cb*0x1+0x1988*0x1+-0x1d46)]=Bl['z'],_0x314948[_0x215300+(0x1*0x1ffd+-0x24bb+-0x2*-0x266)]=_0x222a84['vbCPU'][_0x36e036+(0x41f*0x3+0x6df*0x1+-0x1339*0x1)],_0x222a84['useMesh']&&(_0x314948[_0x215300+(-0x2*-0x359+-0xe14*0x1+-0x5*-0x17d)]=_0x222a84['vbCPU'][_0x36e036+(0x150+-0x2c7*0x5+0xc97)],_0x314948[_0x215300+(-0x1914+0xae5+0xe3f)]=_0x222a84['vbCPU'][_0x36e036+(-0x45*0x66+-0xc08+0x278b)]);}}if(_0x222a84['sort']>Du&&_0x222a84['camera']){const _0x2a703b=_0x222a84['useMesh']?-0x1*0x1b0d+0x1f4a+-0xd*0x53:-0x2578+0x208d*0x1+0x4ef,_0x46b895=_0x222a84['particleDi'+'stance'];for(let _0x36e8b2=0x233c+-0x23a5*0x1+0xf*0x7;_0x36e8b2<_0x222a84['numParticl'+'es'];_0x36e8b2++)_0x53225b[_0x36e8b2][-0x7*-0x3f5+0x167*0xb+-0x2b20]=_0x36e8b2,_0x53225b[_0x36e8b2][-0xb7d+0x1082+0x6b*-0xc]=_0x46b895[Math['floor'](_0x222a84['vbCPU'][_0x36e8b2*_0x222a84['numParticl'+'eVerts']*_0x2a703b+(-0x4d2+-0x1393+0x1*0x1868)])];_0x222a84['vbOld']['set'](_0x222a84['vbCPU']),_0x53225b['sort']((_0x155d06,_0x3a2a83)=>_0x155d06[-0x2092+-0x17b8+-0x384b*-0x1]-_0x3a2a83[0x2ee+-0x617+-0x3*-0x10e]);for(let _0x19e113=-0x1bc1+0xd10+0xeb1;_0x19e113<_0x222a84['numParticl'+'es'];_0x19e113++){const _0xd3dbab=_0x53225b[_0x19e113][0xb*0x39+0x1c40+-0x1eb3]*_0x222a84['numParticl'+'eVerts']*_0x2a703b,_0x62d016=_0x19e113*_0x222a84['numParticl'+'eVerts']*_0x2a703b;for(let _0xdecd30=-0x13e0+-0x1f67+-0x3347*-0x1;_0xdecd30<_0x222a84['numParticl'+'eVerts']*_0x2a703b;_0xdecd30++)_0x222a84['vbCPU'][_0x62d016+_0xdecd30]=_0x222a84['vbOld'][_0xd3dbab+_0xdecd30];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x12c7bc,_0x27d31a){this['_emitter']=_0x12c7bc,this['frameRando'+'mUniform']=new Float32Array(-0x1d*0x80+-0x1f02+-0x10f*-0x2b),this['emitterPos'+'Uniform']=new Float32Array(0x12e6+0x91e+0x6b*-0x43),this['emitterSca'+'leUniform']=new Float32Array([0xcbb+-0x1dc8+0x110e,0x129d+-0xbcc+-0x6d0,0xe*0x86+0x191c*-0x1+0x11c9]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x133+0x2199*0x1+0x2063*-0x1),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x1d6e+0xe9d+-0xd*-0x124),this['inBoundsSi'+'zeUniform']=new Float32Array(0x2*0xd78+-0x7*0x1fd+0xa*-0x14d),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x158f*-0x1+-0xf*0x1a5+0x26f*0x13),this['constantPa'+'rticleTexI'+'N']=_0x27d31a['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x27d31a['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x27d31a['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x27d31a['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x27d31a['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x27d31a['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x27d31a['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x27d31a['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x27d31a['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x27d31a['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x27d31a['scope']['resolve']('delta'),this['constantRa'+'te']=_0x27d31a['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x27d31a['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x27d31a['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x27d31a['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x27d31a['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x27d31a['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x27d31a['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x27d31a['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x27d31a['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x27d31a['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x27d31a['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x27d31a['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x27d31a['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x27d31a['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x27d31a['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x27d31a['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x27d31a['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x27d31a['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x27d31a['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x27d31a['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x27d31a['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x27d31a['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x27d31a['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x27d31a['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x27d31a['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x27d31a['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x6*0x3cf+-0x1940+0x106*0x2f]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x1b0+-0x150f+0x16c0]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x766*-0x3+0x18*-0x13e+0x3404]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x10a0+-0x1c9*-0x4+0x97c]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1a24+0x232*-0x11+-0x5c5*-0xb]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x1d38+0x517+-0x224d]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x2a1*-0x4+0xaf9*0x3+-0x2b6f]=Math['random'](),this['frameRando'+'mUniform'][-0x1143+0xd*0x1b7+-0x507]=Math['random'](),this['frameRando'+'mUniform'][0x1929+0x207f*-0x1+0x758]=Math['random']();}['update'](_0x24f621,_0x2f0180,_0x37b562,_0xe1bb6d,_0x2a3b08){G['pushGpuMar'+'ker'](_0x24f621,'ParticleGP'+'U');const _0x3ba732=this['_emitter'];_0x24f621['setBlendSt'+'ate'](_t['NOBLEND']),_0x24f621['setDepthSt'+'ate'](as['NODEPTH']),_0x24f621['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0xff*-0x19+0x1de6*0x1+-0x36cc)/_0x3ba732['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x3ba732['precision']),this['constantNu'+'mParticles']['setValue'](_0x3ba732['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x3ba732['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x3ba732['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x3ba732['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x3ba732['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x3ba732['internalTe'+'x3']);const _0x1728ed=_0x3ba732['meshInstan'+'ce']['node'],_0x37fc92=_0x1728ed===null?T['ONE']:_0x1728ed['localScale'];if(_0x3ba732['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x1*-0x1c33+0x8*-0x14+0x2f*0x9d]=_0x3ba732['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x262c+0x1c45*-0x1+0x276*0x1b]=_0x3ba732['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0xdf6*0x1+-0x1217+0x200f]=_0x3ba732['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x1f3e+0x128d+-0x31cb]=_0x3ba732['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0xb*0x2bb+-0x233a+0x4144]=_0x3ba732['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0xf15+-0xd09*0x2+-0x233*-0x5]=_0x3ba732['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x30bd06=_0x3ba732['maxVel']*Math['max'](Math['max'](_0x37fc92['x'],_0x37fc92['y']),_0x37fc92['z']);_0x30bd06=Math['max'](_0x30bd06,0x2*-0xa+-0x53*0x3a+0x12e3),this['constantMa'+'xVel']['setValue'](_0x30bd06);}const _0x1f97ff=_0x1728ed===null||_0x3ba732['localSpace']?T['ZERO']:_0x1728ed['getPositio'+'n'](),_0x4e3fb8=_0x1728ed===null?q['IDENTITY']:_0x1728ed['getWorldTr'+'ansform']();_0x3ba732['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x2f0180),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x37b562)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x3ba732['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x3ba732['emitterRad'+'ius']===-0x6*0x1e1+0x7d1+0x375?-0x1*0x2268+-0x3*-0x252+-0x926*-0x3:_0x3ba732['emitterRad'+'iusInner']/_0x3ba732['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x3ba732['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x4e3fb8),A_['invertMat4'](_0x4e3fb8),this['emitterPos'+'Uniform'][0x31f+-0x1f40+0x1c21]=_0x1f97ff['x'],this['emitterPos'+'Uniform'][0xed7+-0x1a21*-0x1+-0x1*0x28f7]=_0x1f97ff['y'],this['emitterPos'+'Uniform'][-0x143b*-0x1+-0x2*-0x1310+-0x3a59]=_0x1f97ff['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0xe1bb6d),this['constantRa'+'te']['setValue'](_0x3ba732['rate']),this['constantRa'+'teDiv']['setValue'](_0x3ba732['rate2']-_0x3ba732['rate']),this['constantSt'+'artAngle']['setValue'](_0x3ba732['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x3ba732['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x3ba732['seed']),this['constantLi'+'fetime']['setValue'](_0x3ba732['lifetime']),this['emitterSca'+'leUniform'][0x2b6*0x2+-0x1288+0xd1c]=_0x37fc92['x'],this['emitterSca'+'leUniform'][0x78b+0x1081+0x4cf*-0x5]=_0x37fc92['y'],this['emitterSca'+'leUniform'][0x1259+-0x1ebc+0xc65]=_0x37fc92['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x3ba732['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x3ba732['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x3ba732['rotSpeedUM'+'ax'][-0x13*0x5b+0x3d7*0x4+-0x1*0x89b]);let _0x48ddd0=_0x3ba732['swapTex']?_0x3ba732['particleTe'+'xOUT']:_0x3ba732['particleTe'+'xIN'];_0x48ddd0=_0x3ba732['beenReset']?_0x3ba732['particleTe'+'xStart']:_0x48ddd0;const _0xc0ac47=_0x3ba732['swapTex']?_0x3ba732['particleTe'+'xIN']:_0x3ba732['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x48ddd0),dn(_0x24f621,_0x3ba732['swapTex']?_0x3ba732['rtParticle'+'TexIN']:_0x3ba732['rtParticle'+'TexOUT'],_0x2a3b08?_0x3ba732['shaderPart'+'icleUpdate'+'OnStop']:_0x3ba732['loop']?_0x3ba732['shaderPart'+'icleUpdate'+'Respawn']:_0x3ba732['shaderPart'+'icleUpdate'+'NoRespawn']),_0x3ba732['material']['setParamet'+'er']('particleTe'+'xOUT',_0x48ddd0),_0x3ba732['material']['setParamet'+'er']('particleTe'+'xIN',_0xc0ac47),_0x3ba732['beenReset']=!(0x26*0x1d+0x5*0x56d+0x1b*-0x12a),_0x3ba732['swapTex']=!_0x3ba732['swapTex'],_0x3ba732['prevWorldB'+'oundsSize']['copy'](_0x3ba732['worldBound'+'sSize']),_0x3ba732['prevWorldB'+'oundsCente'+'r']['copy'](_0x3ba732['worldBound'+'s']['center']),_0x3ba732['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x24f621);}}class e1 extends It{['generateKe'+'y'](_0x54de39){let _0x3f5224='particle_'+It['definesHas'+'h'](_0x54de39['defines'])+'_';for(const _0x302d15 in _0x54de39)_0x54de39['hasOwnProp'+'erty'](_0x302d15)&&(_0x3f5224+=_0x54de39[_0x302d15]);return _0x3f5224;}['_animTex'](_0x43f293){let _0x56191c='';return _0x56191c+=_0x43f293['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x56191c+=X['particleAn'+'imTexVS'],_0x56191c;}['createShad'+'erDefiniti'+'on'](_0x48191c,_0x14584e){const _0x319651='#define\x20PA'+'RTICLE_'+(_0x14584e['useCpu']?'CPU':'GPU')+'\x0a';let _0x513e2a='#define\x20PA'+'RTICLE\x0a'+_0x319651,_0x288a95='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x319651;_0x14584e['mesh']&&(_0x288a95+='#define\x20US'+'E_MESH\x0a'),_0x14584e['localSpace']&&(_0x288a95+='#define\x20LO'+'CAL_SPACE\x0a'),_0x14584e['screenSpac'+'e']&&(_0x288a95+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x14584e['animTex']&&(_0x288a95+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x14584e['animTex']&&(_0x288a95+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x14584e['animTex']&&(_0x288a95+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x14584e['normal']===0xe67+0xfb9+-0x1e1e&&(_0x288a95+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x14584e['normal']===0x499*-0x2+-0x1aab+0x23de&&(_0x288a95+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x14584e['soft']&&(_0x288a95+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x13448b=_0x14584e['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x14584e['useCpu']?(_0x14584e['soft']>0x8*-0x5b+0x93a*0x3+-0x11*0x176&&(_0x288a95+=X['screenDept'+'hPS']),_0x288a95+=X['particle_c'+'puVS'],_0x14584e['localSpace']&&(_0x288a95+=X['particle_l'+'ocalShiftV'+'S']),_0x14584e['animTex']&&(_0x288a95+=this['_animTex'](_0x14584e)),_0x14584e['alignToMot'+'ion']&&(_0x288a95+=X['particle_p'+'ointAlongV'+'S']),_0x288a95+=_0x14584e['mesh']?X['particle_m'+'eshVS']:_0x13448b,_0x14584e['normal']===0xbc3*-0x1+0x7*-0xb8+0x10cc&&(_0x288a95+=X['particle_n'+'ormalVS']),_0x14584e['normal']===-0xe5*0x13+0x1*0x1647+-0x546&&(_0x288a95+=X['particle_T'+'BNVS']),_0x14584e['stretch']>0x4*0x6fa+-0x1*-0x11f5+-0x2ddd&&(_0x288a95+=X['particle_s'+'tretchVS']),_0x288a95+=X['particle_c'+'pu_endVS'],_0x14584e['soft']>-0x34b*0xa+0x1*-0x1471+0x355f&&(_0x288a95+=X['particle_s'+'oftVS'])):(_0x288a95+=X['particle_i'+'nitVS'],_0x288a95+=_0x14584e['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x14584e['soft']>-0x115*-0xd+-0x1e8a+0x1079&&(_0x288a95+=X['screenDept'+'hPS']),_0x288a95+=X['particleVS'],_0x14584e['localSpace']&&(_0x288a95+=X['particle_l'+'ocalShiftV'+'S']),_0x14584e['animTex']&&(_0x288a95+=this['_animTex'](_0x14584e)),_0x14584e['wrap']&&(_0x288a95+=X['particle_w'+'rapVS']),_0x14584e['alignToMot'+'ion']&&(_0x288a95+=X['particle_p'+'ointAlongV'+'S']),_0x288a95+=_0x14584e['mesh']?X['particle_m'+'eshVS']:_0x13448b,_0x14584e['normal']===-0x1e31+0x8b*0x3e+0x3*-0x128&&(_0x288a95+=X['particle_n'+'ormalVS']),_0x14584e['normal']===-0x7*0x2bc+0x67d*-0x4+-0x168d*-0x2&&(_0x288a95+=X['particle_T'+'BNVS']),_0x14584e['stretch']>-0x3f*-0xe+0x1451+0x17c3*-0x1&&(_0x288a95+=X['particle_s'+'tretchVS']),_0x288a95+=X['particle_e'+'ndVS'],_0x14584e['soft']>0x13f*0x1b+0x1ae9+-0x3c8e&&(_0x288a95+=X['particle_s'+'oftVS'])),_0x288a95+='}\x0a',_0x14584e['normal']>-0x139*0x7+-0x2cf*-0x9+-0x1ac*0xa&&(_0x14584e['normal']===-0x472+0x1*0x1cf+0x152*0x2?_0x513e2a+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x14584e['normal']===0x1513+0x1fe9+-0x34fa&&(_0x513e2a+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x513e2a+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x14584e['soft']&&(_0x513e2a+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x513e2a+=X['decodePS'],_0x513e2a+='#include\x20\x22'+'gammaPS\x22\x0a',_0x513e2a+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x513e2a+='#include\x20\x22'+'fogPS\x22\x0a',_0x14584e['normal']===-0x1*0x411+-0x1*0x997+0xdaa&&(_0x513e2a+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x14584e['soft']>0x2472+0x23e9+-0x1*0x485b&&(_0x513e2a+=X['screenDept'+'hPS']),_0x513e2a+=X['particlePS'],_0x14584e['soft']>0x1c1b+0x2276+-0x3e91&&(_0x513e2a+=X['particle_s'+'oftPS']),_0x14584e['normal']===0x1*-0xd85+0xdd*0x11+0x5*-0x3b&&(_0x513e2a+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x14584e['normal']===-0x2*-0x10d9+-0x129*-0xf+0x4a5*-0xb&&(_0x513e2a+=X['particle_n'+'ormalMapPS']),_0x14584e['normal']>-0x3bb*-0x8+-0x1f7c+0x1c*0xf&&(_0x513e2a+=_0x14584e['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x14584e['normal']>-0x1edd+-0x11b8+-0x1*-0x3095&&(_0x513e2a+=X['particle_l'+'ightingPS']),_0x14584e['blend']===Kt?_0x513e2a+=X['particle_b'+'lendNormal'+'PS']:_0x14584e['blend']===yp?_0x513e2a+=X['particle_b'+'lendAddPS']:_0x14584e['blend']===xp&&(_0x513e2a+=X['particle_b'+'lendMultip'+'lyPS']),_0x513e2a+=X['particle_e'+'ndPS'];const _0x25749d=new Map(Object['entries']({...X,..._0x14584e['chunks']}));return Mt['createDefi'+'nition'](_0x48191c,{'name':'ParticleSh'+'ader','vertexCode':_0x288a95,'fragmentCode':_0x513e2a,'fragmentDefines':_0x14584e['defines'],'fragmentIncludes':_0x25749d,'vertexDefines':_0x14584e['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x1241ed){super(),c(this,'emitter',null),(this['emitter']=_0x1241ed,v['assert'](_0x1241ed));}['getShaderV'+'ariant'](_0x449dc2){const {device:_0x216ca6,scene:_0x7906bd,cameraShaderParams:_0x2fd625}=_0x449dc2,{emitter:_0xae4d4f}=this,_0x55b70b={'defines':Dp(this,_0x449dc2),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0xae4d4f['lighting']?_0xae4d4f['normalMap']!==null?0x1ace+0x5*-0x15b+-0x1405:0x257f*0x1+0x12c3+-0x3841:-0xf*0x259+-0x4b4+0x27eb,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x2fd625==null?void(0x229b+-0x8c*-0xe+0x1*-0x2a43):_0x2fd625['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x2fd625==null?void(0x23c1+0xa*0x178+-0x3271):_0x2fd625['toneMappin'+'g'])??Ap,'fog':_0x7906bd&&!this['emitter']['noFog']?_0x7906bd['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0xae4d4f['inTools']?!(0x5c6+-0x52*0x43+-0x1*-0xfb1):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x5ab4e6=new Yc(_0x449dc2['viewUnifor'+'mFormat'],_0x449dc2['viewBindGr'+'oupFormat'],_0x449dc2['vertexForm'+'at']),_0x2e9586=ka(_0x216ca6);return _0x2e9586['register']('particle',t1),_0x2e9586['getProgram']('particle',_0x55b70b,_0x5ab4e6,this['userId']);}}const E_=[[-(-0x1a*-0x59+-0x16a5+0xd9c),-(-0x28*0x34+0xf2e+-0x70d)],[-0x1*0x2286+0x1373+0xf14*0x1,-(0xb96+0xe90+0x1a25*-0x1)],[0x19df+-0x1dce+0x3f0,-0x130a*-0x2+0x1ef7*-0x1+-0x23*0x34],[-(0xede*-0x1+0x2*-0x351+0x5*0x44d),0x2f5*-0x1+0x20fb*0x1+-0x1e05]];function Qt(_0x511243,_0x473021,_0x9a9f9,_0x1d9f2f,_0x1aa782=Ke,_0x1f3584,_0x5a9bd7){let _0xfda889=de;_0x5a9bd7&&(_0x1aa782===Se||_0x1aa782===rs)&&(_0xfda889=st);const _0x1f748c=new he(_0x511243,{'width':_0x473021,'height':_0x9a9f9,'format':_0x1aa782,'cubemap':!(0x2*0x1cf+-0x326+0x7*-0x11),'mipmaps':!(0x340+-0x3*-0xbfe+-0x2739),'minFilter':_0xfda889,'magFilter':_0xfda889,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x235430=_0x1f748c['lock']();if(_0x1aa782===Se||_0x1aa782===rs){const _0x14c1d0=new Uint8Array(_0x1d9f2f['length']);for(let _0x59a35d=0x1*0x162a+0x521*-0x7+-0xdbd*-0x1;_0x59a35d<_0x1d9f2f['length'];_0x59a35d++)_0x14c1d0[_0x59a35d]=_0x1d9f2f[_0x59a35d]*_0x1f3584*(0x1*0x611+0x395*-0x9+0x56f*0x5);_0x1d9f2f=_0x14c1d0;}return _0x235430['set'](_0x1d9f2f),_0x1f748c['unlock'](),_0x1f748c;}function C_(_0x480cea){return Math['max'](Math['min'](_0x480cea,0x545+-0x1*-0x2579+-0x2abd),0x1f27+-0x4b5*0x1+-0x1a72);}const M_=new Cs([0x718*-0x1+0x1*0x125f+0xb47*-0x1,-0x1*0xeea+0xce3*0x1+0x207,-0xbe6+-0xd1d+-0x2*-0xc82,-0x219a+-0x2*0xef2+0x3f7e]),P_=new Cs([0x28f*0x4+-0x4*0x5d3+0x688*0x2,0xd52+0x1a*-0x126+0x25d*0x7,-0x2a*-0x1+0x173c*-0x1+0x1713,0x1295*0x1+0xbf9+-0x1e8d]),R_=new jr([-0x39*-0x41+-0xe88+0xf,0x1*-0x13df+0x139d+-0xb*-0x6,0x1743*-0x1+-0x21a7+0x38eb,0x1277+0xa*0xb2+0x879*-0x3],[-0x525*-0x3+-0x56*0x1+-0xf19,0x249c+0xa5d*-0x3+-0x585,0x1*0x2221+-0x3a8+0x18*-0x145,0x119f+-0x497*-0x3+-0x1f64],[0x1345+-0x1377+-0x5*-0xa,0x95f*0x2+-0xaa4+-0x1*0x81a,-0x1383+0x1b3e+-0x7ba,-0x1*-0x727+-0xd6c+-0x217*-0x3]),i1=new jr([0xee0+0x9d6*0x1+0xc5b*-0x2,-0x1e1b+0x49*-0x29+0x29cd,-0x1ef7+-0x1*-0x251f+-0x4b*0x15,0x2*0x78+-0x1950+0x1861],[0x9b2*0x2+0x1d0c+-0x3070,-0x1*0x2622+0x1b84+0xa9f,0x7f*-0x3d+-0x734*-0x1+0x1710*0x1,0xebe+0x9*0x191+-0x2*0xe6b],[0x1c8b+0x2631+-0x42bc,-0x1f51*0x1+-0x12e2*0x2+0x1de*0x25,-0x21fd*-0x1+-0x49*-0x6d+-0x1*0x4111,0x11*0xa+-0xe28+0x1*0xd7f]);let ii=0x1*0x1135+-0x1*0x1d75+-0x6*-0x20b;const zl=-0xad9*-0x1+0x1*0x866+-0x133b,ri=new Float32Array(0xde*-0x28+0x1bae+0x705),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x5b5145,_0x4ffefa){fh[_0x5b5145]!==void(-0x240d+-0x1827+-0x3c34*-0x1)&&fh[_0x5b5145]!==null?Hu[_0x5b5145]=fh[_0x5b5145]:Hu[_0x5b5145]=_0x4ffefa;}function O0(_0xd4096b,_0x4a1afa,_0x1cd6eb){return(_0xd4096b*(-0xf3+0xbe9+0x1*-0x9f7)<<0x1f*0x7a+0x791*-0x5+-0x3*-0x7b5|_0x4a1afa*(-0xeef*-0x2+-0x1bee+-0xf1)<<0x1*0x493+-0x642*0x1+-0x1b7*-0x1|_0x1cd6eb*(-0xe65+0x98e*-0x3+0x2c0e))/(-0xf0c+0x1c07+-0xb*0x12e<<0x1*-0xecc+-0x2*0x8e4+0x20ac);}function D_(_0x4c397f,_0x358a74){const _0x29e8ee=_0x4c397f['length']/(0x2*0x1196+-0x1c33*-0x1+-0x3f5c),_0x368dd9=new Array(_0x29e8ee*(0x20b4+-0xd*-0xdd+-0x2be9));for(let _0x5508ff=-0xd6d+0x1*0x1343+0xf9*-0x6;_0x5508ff<_0x29e8ee;_0x5508ff++)_0x368dd9[_0x5508ff*(0xe0b*0x1+-0x2*0x7a2+-0x13d*-0x1)]=_0x4c397f[_0x5508ff*(-0xa*-0x334+0x38a+-0x238f)],_0x368dd9[_0x5508ff*(-0x684*-0x1+-0x1281*-0x1+-0x1901)+(-0x1b36+0x1*-0x110b+0x2c42)]=_0x4c397f[_0x5508ff*(-0x7*-0x503+0xdaa+-0x30bc)+(-0x245*0x3+0xc4*0x25+-0x1584)],_0x368dd9[_0x5508ff*(-0x165f+-0x800*-0x2+0x221*0x3)+(0xc*-0x31b+0x1436+0xb6*0x18)]=_0x4c397f[_0x5508ff*(-0x1420+-0x1*-0x1b19+-0x6f6)+(0x1d8c+-0x1*0x21dd+0x453)],_0x368dd9[_0x5508ff*(0x186f+-0x1bf4+-0x389*-0x1)+(0x1159*-0x1+0x2120+-0x7e2*0x2)]=O0(_0x358a74[_0x5508ff*(-0x7e3*-0x4+-0x3ed*0x7+-0x40e)],_0x358a74[_0x5508ff*(-0x1627+-0xfca*-0x1+0x660)+(0x9f3+0x9d*-0x18+0x4c6)],_0x358a74[_0x5508ff*(-0x306+0x1*-0x1d84+0xd*0x281)+(-0x1*0xbe8+0x72b+0x87*0x9)]);return _0x368dd9;}function r1(_0x20dd53,_0x3146bf){const _0x4f8d9f=new Array(_0x3146bf['length']*(-0x1d9c+-0x151f+-0x32bf*-0x1));for(let _0x5e43f2=0x23c1+0x7d7*-0x1+0x1*-0x1bea;_0x5e43f2<_0x3146bf['length'];_0x5e43f2++)_0x4f8d9f[_0x5e43f2*(-0x4d*0x26+0x20a*0x9+0x1ba*-0x4)]=_0x20dd53[_0x5e43f2*(0x19e7+-0x18ad+-0x1*0x137)],_0x4f8d9f[_0x5e43f2*(-0x10dd+0x1*-0xddb+-0x7af*-0x4)+(0x22ce+0x1dfb+-0x40c8)]=_0x20dd53[_0x5e43f2*(-0xd85+-0x3*-0x72f+-0x805*0x1)+(-0x1428+0x778*-0x3+-0x1*-0x2a91)],_0x4f8d9f[_0x5e43f2*(0x1365+-0x1*0x148c+0x12b)+(0x1c3+-0x4d*-0x7+-0x3dc)]=_0x20dd53[_0x5e43f2*(0x967+0x2331+0x1*-0x2c95)+(0xa3*0x7+0xa1f*-0x1+0x16b*0x4)],_0x4f8d9f[_0x5e43f2*(-0x682+-0x9*0x11c+0x1*0x1082)+(-0x28f+-0x7*0x1df+0x1*0xfab)]=_0x3146bf[_0x5e43f2];return _0x4f8d9f;}function n1(_0x39169d,_0x177815,_0x532bd9,_0x3e60e9,_0x4353e3){const _0x18909e=new Array(_0x39169d['length']*(-0x126a+0xbf*-0x33+0x2f9*0x13));for(let _0x19b540=0xec1+-0x2ef*0xd+0x1762;_0x19b540<_0x39169d['length'];_0x19b540++)_0x18909e[_0x19b540*(0xf11+0x77*0x13+-0x17e2*0x1)]=_0x39169d[_0x19b540],_0x18909e[_0x19b540*(0x1*0x1871+-0x79b+-0x10d2)+(-0x10bb*0x1+0x25c6+-0x150a)]=_0x177815[_0x19b540],_0x18909e[_0x19b540*(-0x24dc+-0x1*-0x17e7+0x1b*0x7b)+(-0xb03+-0x24fe+-0x1*-0x3003)]=-0x718*0x1+0x1d98+-0x1680,_0x18909e[_0x19b540*(-0x1*0x1bf7+0x3*-0xa25+0x3a6a)+(-0x10f*0x21+-0x88d+0x1*0x2b7f)]=O0(_0x532bd9[_0x19b540],_0x3e60e9[_0x19b540],_0x4353e3[_0x19b540]);return _0x18909e;}function a1(_0x3eee5c,_0x284c4f){const _0xf0d90a=new Array(_0x3eee5c['length']*(-0x4a*0x35+-0x2482+0x33d8));for(let _0x4fb798=0x698+-0xb86+0x4ee;_0x4fb798<_0x3eee5c['length'];_0x4fb798++)_0xf0d90a[_0x4fb798*(0xe4e+0x9*-0xb1+-0x811)]=_0x3eee5c[_0x4fb798],_0xf0d90a[_0x4fb798*(-0x2b*-0xdb+-0xd73+-0x1752)+(0x14da+0x49*0x79+0x1a*-0x221)]=_0x284c4f[_0x4fb798],_0xf0d90a[_0x4fb798*(-0x4*-0x1b6+-0x152+-0x1*0x582)+(0x1de9*-0x1+0x7dd+0x160e)]=0x1*0xe6a+0xbd8+-0xd21*0x2,_0xf0d90a[_0x4fb798*(-0x215d+0x219d+-0x3c)+(0x104d+-0x3dd+0xc6d*-0x1)]=0xa7*-0x32+-0x1*0xdbd+-0x2e5b*-0x1;return _0xf0d90a;}function o1(_0x545a84){const _0x43ade6=Math['max'](_0x545a84['rate'],_0x545a84['rate2'])*_0x545a84['numParticl'+'es']+_0x545a84['lifetime'];return Date['now']()+_0x43ade6*(0x1cc5+-0x2*-0x140+-0x579*0x5);}function l1(_0x5b6390,_0x52f9ec){const _0x1faf7e=new Float32Array(_0x5b6390['length']);for(let _0x4bbf13=-0x24e9+-0x2557+0x4a40;_0x4bbf13<_0x5b6390['length'];_0x4bbf13++)_0x1faf7e[_0x4bbf13]=_0x5b6390[_0x4bbf13]-_0x52f9ec[_0x4bbf13];return _0x1faf7e;}function Fr(_0x42784f,_0x2bcb8e){const _0x1545a2=_0x2bcb8e['length'],_0x301848=_0x42784f['length']/_0x1545a2;for(let _0x1cb7a3=0xfb8*-0x2+-0x1324+-0x2*-0x194a;_0x1cb7a3<_0x301848;_0x1cb7a3++)for(let _0x2479c5=0x2e8+0x7*-0xf5+0x3cb*0x1;_0x2479c5<_0x1545a2;_0x2479c5++){const _0x553cfb=Math['abs'](_0x42784f[_0x1cb7a3*_0x1545a2+_0x2479c5]);_0x2bcb8e[_0x2479c5]=Math['max'](_0x2bcb8e[_0x2479c5],_0x553cfb);}}function h1(_0x7e818,_0x1b2dbf){const _0x334756=_0x1b2dbf['length'],_0x14528c=_0x7e818['length']/_0x334756;for(let _0x3b252d=0xe0*0x1f+0x1*-0x1e41+0x321;_0x3b252d<_0x14528c;_0x3b252d++)for(let _0x9f7376=-0x20ec*-0x1+-0x2*-0xac7+-0x367a;_0x9f7376<_0x334756;_0x9f7376++)_0x7e818[_0x3b252d*_0x334756+_0x9f7376]/=_0x1b2dbf[_0x9f7376]===0x93*-0x29+-0x6f*0x3d+0x2*0x18ff?0x1fe5+0x3f*-0x2a+0xac7*-0x2:_0x1b2dbf[_0x9f7376],_0x7e818[_0x3b252d*_0x334756+_0x9f7376]*=-0xb98+0xbde+0x23*-0x2+0.5,_0x7e818[_0x3b252d*_0x334756+_0x9f7376]+=0x1*-0x1b+-0x3*0xcf8+0x1*0x2703+0.5;}function Ar(_0x49a183,_0x5c5eef,_0x55f400){const _0x2f046e=l1(_0x5c5eef,_0x49a183);return Fr(_0x2f046e,_0x55f400),h1(_0x2f046e,_0x55f400),_0x2f046e;}const c1=new Ot();class d1{constructor(_0x562d54,_0x4cbb17){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x562d54;const _0x3b55f5=_0x562d54,_0x3e9c7e=0x6b*-0x1d+-0x9*-0x2ff+-0xeb8;this['precision']=_0x3e9c7e,this['_addTimeTi'+'me']=-0x24e5+0x1*0x187f+0xc66,Hu=this,fh=_0x4cbb17,re('numParticl'+'es',0x1856+0x1105+0x9e*-0x43),this['numParticl'+'es']>_0x562d54['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x562d54['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x562d54['maxTexture'+'Size']),re('rate',-0x240c+0x2644+-0x237),re('rate2',this['rate']),re('lifetime',0x15cb+-0x72c+0x4cf*-0x3),re('emitterExt'+'ents',new T(-0x6b2+-0x1d00+0x6*0x5f3,-0x1*-0x445+0x1807+0x1c4c*-0x1,0x1778+0x1ca*-0x4+0x1*-0x1050)),re('emitterExt'+'entsInner',new T(0x53*0x3e+0xa9e+0x1eb8*-0x1,-0x24d9+0x1c25+-0x45a*-0x2,-0xaf5+-0x789*0x3+0x2190)),re('emitterRad'+'ius',0xb1b*-0x1+-0x48a+-0xf*-0x10b),re('emitterRad'+'iusInner',0x1*0x1d68+-0x10f4+-0xc74),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',0x229d+0x2b3*0x4+-0x4*0xb5a),re('wrap',!(0x8c2+-0xf1e+0x1*0x65d)),re('localSpace',!(-0x186f+0x10a1+0x7cf)),re('screenSpac'+'e',!(-0x20af+0x225+0x45d*0x7)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(-0x8*0x226+0xe4b*0x2+0x1*-0xb66)),re('preWarm',!(0xd47+0x26a+0x1*-0xfb0)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(-0x1f*0xfd+-0x20bf+0x3f63)),re('halfLamber'+'t',!(0x26af+0xfc*0xd+-0x337a)),re('intensity',0x26e*0xe+-0x1*-0x4e7+-0x26ea),re('stretch',-0x2257+0x248d*-0x1+0xd*0x574),re('alignToMot'+'ion',!(0x1*0x6b+0xa*0xc5+-0x81c)),re('depthSofte'+'ning',0x518+0x496+-0x9ae),re('mesh',null),re('particleNo'+'rmal',new T(0x2014+0x1*-0x5ed+-0x1a27,0x1861*-0x1+0x4*0x18e+0x122a,-0x4*0x296+-0x1060+0x1ab8)),re('orientatio'+'n',Uh),re('depthWrite',!(0x72b+0x3f5+-0xb1f)),re('noFog',!(-0x251e+0x36e*-0x9+0x1*0x43fd)),re('blendType',Kt),re('node',null),re('startAngle',0x100a*0x1+-0x1135*0x1+-0x17*-0xd),re('startAngle'+'2',this['startAngle']),re('animTilesX',0x1*0x10f1+0xa*-0x51+0x2b*-0x52),re('animTilesY',0xaad+-0x10ff+-0x1*-0x653),re('animStartF'+'rame',-0x1*0x803+0x1ca5+-0x14a2),re('animNumFra'+'mes',0x990+-0x2605+0x1c76),re('animNumAni'+'mations',-0x98b*-0x3+0x181*-0x8+-0x9*0x1d8),re('animIndex',0x434*-0x5+0xa45*-0x1+0x1f49),re('randomizeA'+'nimIndex',!(0x1*0xeaa+-0x2018+-0x116f*-0x1)),re('animSpeed',-0x170e+0x9b7+-0x1ab*-0x8),re('animLoop',!(0x1974+0xf79+-0x28ed*0x1)),this['_gpuUpdate'+'r']=new JM(this,_0x3b55f5),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x11b*0x1+-0x1*-0xf4d+0xe2f*-0x1),this['wrapBounds'+'Uniform']=new Float32Array(0x2*0x9f7+0xc0d*0x2+0x2c05*-0x1),this['emitterSca'+'leUniform']=new Float32Array([-0x51*-0x3b+0x1d*-0xb1+0x5*0x47,0xb9e+0x226f+-0x2e0c,0x1*0x56d+0xd42+-0x12ae]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x727*0x3+0x2bd*-0x1+-0x12b6),this['animParams']=new Float32Array(-0x33*0x3a+-0xd*0x9f+0x6b*0x2f),this['animIndexP'+'arams']=new Float32Array(-0x2431+-0x77*-0x35+0x128*0xa),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x1b11*0x1+-0x1561+-0x3073*-0x1),this['useMesh']=!(0x187d+0x22a*0x8+-0x29cd),this['useCpu']=!_0x562d54['supportsGp'+'uParticles'],this['pack8']=!(-0x1106+-0x1d7*0x11+0x304d),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x1a80+0x66*0x52+-0x4*0xecb,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x28b+0xfca+-0xd3f,this['numParticl'+'eIndices']=0x74*-0x10+0x20ef+0x107*-0x19,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x1c*0x9d+-0x1d6c+0xe*0x354,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x9eb*0x2+-0x2*0xe64+0x8f3)/(-0x12c0+0x17c9*0x1+-0x4cd),this['maxSubStep'+'s']=-0x1d28+0x3b+0x1cf7,this['simTime']=0x2222+0x15c1+-0x37e3,this['simTimeTot'+'al']=0x26e3+0x670+0x1*-0x2d53,this['beenReset']=!(0x18a*0x11+0x2115+-0x1*0x3b3e),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x4c29c8=new Float32Array(0x7d7*-0x2+0x11de+-0x8*-0x3a);for(let _0x15b674=0x23*-0x11d+-0x22ea+0x1*0x49e1;_0x15b674<-0x45c+-0x5*-0x56f+-0x795*0x3;_0x15b674++)for(let _0x2b2a8e=-0x81c+0x4*0x83+0x610;_0x2b2a8e<-0xf34+0x25c3+-0x167f*0x1;_0x2b2a8e++){const _0x5a31ed=_0x2b2a8e+(0x10*-0x1b4+0x4cc+0x1675)-(0x7c8+0x89c+0x2ba*-0x6+0.5),_0x17275d=_0x15b674+(-0x2a5*0xd+-0x20a0+0x2181*0x2)-(0x1*0x18bf+0x1f7b+-0x3832+0.5),_0x29cc71=C_(-0x17*0x106+0xa1*0x19+-0x5b*-0x16-C_(Math['sqrt'](_0x5a31ed*_0x5a31ed+_0x17275d*_0x17275d)/(-0x246e+-0x1fa2*0x1+0x4420))-(0x22af+0x767*-0x3+-0xc7a+0.5)),_0x1ae656=_0x15b674*(-0x2b*0xcb+0x5aa+-0x5b3*-0x5)+_0x2b2a8e;_0x4c29c8[_0x1ae656*(-0x437+-0x400+0x83b)]=0x2*-0x1196+0xcb8*0x2+-0x1*-0x9bd,_0x4c29c8[_0x1ae656*(0x2306*0x1+0x2249+-0x454b)+(-0x1474+0x601+0xe74)]=-0x2296+0x6a*0x40+-0x1*-0x817,_0x4c29c8[_0x1ae656*(0x84f+-0x1*0x9eb+0x1a0)+(0x7*0x392+0x3b5*0x1+0x1cb1*-0x1)]=0x1*-0x10be+0x3*0x8aa+-0x93f,_0x4c29c8[_0x1ae656*(-0x1*-0x1bd3+0x1*-0x221+-0x19ae)+(0x1525*0x1+-0xa96+-0xa8c)]=_0x29cc71;}const _0x46e414=Qt(this['graphicsDe'+'vice'],0x93c+-0xa3d*-0x1+-0x1*0x1369,-0xa57+0x1430+-0x9c9*0x1,_0x4c29c8,rs,0x2490+-0xee1+-0x32*0x6f,!(0xb3b+-0x1992+0xe57));return _0x46e414['minFilter']=st,_0x46e414['magFilter']=st,_0x46e414;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x4*0x100+-0x201*-0xe+0x1*-0x200d)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x6e4+0x1eaf+0x2*-0x12c9)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x24d3+0x2483+-0x4955)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x2e9*-0xa+0x21b7+-0x7da*0x8)),this['worldBound'+'sAdd']['x']+=0x13b2*0x1+0x21c0+-0x3572+0.5,this['worldBound'+'sAdd']['y']+=0x71*-0x35+-0x1e3f+0x4*0xd69+0.5,this['worldBound'+'sAdd']['z']+=-0x2264+-0x1*-0x1cf7+-0x3*-0x1cf+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x53966a=!(0xbd3+0x9*-0x221+0x757);this['emitterSha'+'pe']===Vs?_0x53966a=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x53966a=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x53966a&&this['calculateL'+'ocalBounds']();}const _0x413596=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x413596),this['worldBound'+'sTrail'][-0x2446+0x1*-0x23e5+0x2e3*0x19]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x6c4*-0x4+-0xbe5+0x26f6*0x1]['add'](this['worldBound'+'sNoTrail']);const _0x110f39=this['simTimeTot'+'al'];_0x110f39>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0xb75*0x1+0x21d8+-0x2d4d]['copy'](this['worldBound'+'sTrail'][-0x175f+0x96c*-0x2+0x2a38]),this['worldBound'+'sTrail'][0x247c+0x25*0x9b+-0x3ae2]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x110f39+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x7*-0x229+0x312+0x1231*-0x1]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x2*0xc8f+0x12b4+-0x2bd0),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x413596),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x413596)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x1f3d+0x21ff+-0x413b-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x130*-0x1b+-0x1*-0x125+0x2135*-0x1]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x1de3+-0x8f5+-0xcf3*-0x3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x2667+-0x255e+0x4bc5]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x3f*0x56+0x1db4+-0x888),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x254*-0x4+-0x1b13+0x2463,this['timeToSwit'+'chBounds']=0x21a*-0xe+-0x9*-0x2c4+-0xa*-0x74);}['calculateL'+'ocalBounds'](){let _0x232bf2=Number['MAX_VALUE'],_0x46ff21=Number['MAX_VALUE'],_0x58e6c3=Number['MAX_VALUE'],_0x2bdc5d=-Number['MAX_VALUE'],_0x34287c=-Number['MAX_VALUE'],_0x9a3c49=-Number['MAX_VALUE'],_0x5a02e2=0x176f+0x1*0x1ecd+-0xd*0x42c,_0x2f4483=0xad*-0x29+-0x43b+0x1ff0;const _0xd70a8c=this['lifetime']/this['precision'],_0x503ec5=[this['qVelocity'],this['qVelocity2']],_0x582398=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x1fb09e=[-0x33d*-0x6+0xf68+-0x22d6,0x233f+0x3ca+-0x2709],_0x19c45d=[-0xed3+-0x26d*0x7+0x1fce,0x1330+-0x1*-0xb6a+-0x1e9a],_0xaaec24=[0x1771+0x874+-0x1fe5*0x1,-0xa*0x9+0x26dc+-0x6*0x66b],_0x5da73c=[-0x1c3f+0x7ce+0x1471,-0x1362+0x56e+0xdf4],_0x4f4963=[-0x5c9*0x4+-0x47c+0x1ba0,-0x116d+-0x22e0+0x344d];let _0x72bfbb,_0x5edbf2,_0x1a59d1;for(let _0x49aefc=0x1732+-0x774+-0xfbe;_0x49aefc<this['precision']+(-0x2158+0x50a*-0x2+0x2b6d);_0x49aefc++){const _0x26b9fd=Math['min'](_0x49aefc,this['precision']-(-0x1af*-0x16+-0xa+-0x24ff));for(let _0x3a85fb=-0x39*0x3b+0xf*0x211+-0x1*0x11dc;_0x3a85fb<0x1*0x13eb+-0x1eb4+0xacb;_0x3a85fb++)_0x72bfbb=_0x582398[_0x3a85fb][_0x26b9fd*(0x1ca*0xd+-0x1897*-0x1+-0x2*0x17eb)+(0xf2b+0x2038+-0x2f63)]*_0xd70a8c+_0x1fb09e[_0x3a85fb],_0x5edbf2=_0x582398[_0x3a85fb][_0x26b9fd*(-0x3d5+0x2514+-0x213c)+(0x4*-0x2ce+-0x24b7+0x2ff0)]*_0xd70a8c+_0x19c45d[_0x3a85fb],_0x1a59d1=_0x582398[_0x3a85fb][_0x26b9fd*(0x4*0x60e+-0x219+-0x161c)+(0x2*-0x36c+0x2105+0x57*-0x4d)]*_0xd70a8c+_0xaaec24[_0x3a85fb],_0x232bf2=Math['min'](_0x72bfbb,_0x232bf2),_0x46ff21=Math['min'](_0x5edbf2,_0x46ff21),_0x58e6c3=Math['min'](_0x1a59d1,_0x58e6c3),_0x2bdc5d=Math['max'](_0x72bfbb,_0x2bdc5d),_0x34287c=Math['max'](_0x5edbf2,_0x34287c),_0x9a3c49=Math['max'](_0x1a59d1,_0x9a3c49),_0x1fb09e[_0x3a85fb]=_0x72bfbb,_0x19c45d[_0x3a85fb]=_0x5edbf2,_0xaaec24[_0x3a85fb]=_0x1a59d1;for(let _0x4dd1a6=0x65*0x59+-0xf6*-0x1f+-0x40e7;_0x4dd1a6<0x5*-0x449+-0x1c59+0x31c8;_0x4dd1a6++)_0x4f4963[_0x4dd1a6]+=_0xd70a8c*Math['sqrt'](_0x503ec5[_0x4dd1a6][_0x26b9fd*(0x4*0x1a3+0x8*0x2d1+-0x1d11)+(-0x9ce+-0xc*-0x293+-0x2*0xa8b)]*_0x503ec5[_0x4dd1a6][_0x26b9fd*(-0x58b+0x3*0x8d8+-0x5*0x432)+(0xed*-0x1+-0xe2+0x1cf)]+_0x503ec5[_0x4dd1a6][_0x26b9fd*(-0xcb6*0x1+0x2706+-0x1a4d)+(-0xd59+0x17ef+-0xa95)]*_0x503ec5[_0x4dd1a6][_0x26b9fd*(-0x1e83+0xf73+0xf13)+(-0x1b7a+0x1d7d*-0x1+0x38f8)]+_0x503ec5[_0x4dd1a6][_0x26b9fd*(0x261e+0x26b*-0xb+0x1eb*-0x6)+(-0x4f*-0x4f+-0x6eb+0x4*-0x45d)]*_0x503ec5[_0x4dd1a6][_0x26b9fd*(0x376*0x3+-0x294+-0x7cb)+(0x12ab+0x1b*-0x2b+-0xe20)]);_0x5da73c[-0x1*0x1aa2+-0x1f*-0x65+-0x4cd*-0x3]+=this['qRadialSpe'+'ed'][_0x26b9fd]*_0xd70a8c,_0x5da73c[0xeb*0x25+-0x7f8+-0x6*0x455]+=this['qRadialSpe'+'ed2'][_0x26b9fd]*_0xd70a8c,_0x5a02e2=Math['max'](_0x5a02e2,Math['max'](Math['abs'](_0x5da73c[0x2*-0xd21+0x19f3+0x4f]),Math['abs'](_0x5da73c[-0x21db*-0x1+-0x1*0x1a3f+-0x79b]))),_0x2f4483=Math['max'](_0x2f4483,this['qScale'][_0x26b9fd]);}this['emitterSha'+'pe']===Vs?(_0x72bfbb=this['emitterExt'+'ents']['x']*(0x69d+0x119*0x16+0x15*-0x177+0.5),_0x5edbf2=this['emitterExt'+'ents']['y']*(0x22e7*-0x1+0x4c*0x79+-0x105+0.5),_0x1a59d1=this['emitterExt'+'ents']['z']*(-0x8*-0x2fa+-0x25aa+0xdda+0.5)):(_0x72bfbb=this['emitterRad'+'ius'],_0x5edbf2=this['emitterRad'+'ius'],_0x1a59d1=this['emitterRad'+'ius']);const _0x1a2fa0=Math['max'](_0x4f4963[-0x25e*-0x3+-0x2013+0x18f9],_0x4f4963[0x69d*-0x3+0x23e*0xc+-0x710]);Ul['x']=_0x232bf2-_0x2f4483-_0x72bfbb-_0x5a02e2-_0x1a2fa0,Ul['y']=_0x46ff21-_0x2f4483-_0x5edbf2-_0x5a02e2-_0x1a2fa0,Ul['z']=_0x58e6c3-_0x2f4483-_0x1a59d1-_0x5a02e2-_0x1a2fa0,Vl['x']=_0x2bdc5d+_0x2f4483+_0x72bfbb+_0x5a02e2+_0x1a2fa0,Vl['y']=_0x34287c+_0x2f4483+_0x5edbf2+_0x5a02e2+_0x1a2fa0,Vl['z']=_0x9a3c49+_0x2f4483+_0x1a59d1+_0x5a02e2+_0x1a2fa0,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x34eb2f=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x34eb2f['maxVertexT'+'extures']<=0xbcf*-0x1+-0x82+0xc52||_0x34eb2f['fragmentUn'+'iformsCoun'+'t']<-0x7*0x15+0x3*-0x6bb+0x1504||_0x34eb2f['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x34eb2f['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?0x3*-0x551+-0x1*0x9a9+0x19a0:0x344*-0x3+0xb*0x120+-0x292,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x8f0+-0x1b79*-0x1+-0x1289]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x9*-0x28d+-0x1919+-0x1005*-0x3]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x7*0x377+0xc63+0x1*-0x24a2),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x1ed896=-0x1671*0x1+0x95*0x3d+0x26*-0x58;_0x1ed896<this['numParticl'+'es'];_0x1ed896++)this['vbToSort'][_0x1ed896]=[-0xf6f+0x2332+0x13c3*-0x1,0xd*0xac+-0x94e+0x92];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x28fbc0=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[-0x1*0x228f+0x24d8+-0x1*0x249]=this['emitterExt'+'ents']['x']!==0x1b1c+0x261e+0x2f7*-0x16?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x3d*-0x10+-0x1f70+0x6*0x5e0,ri[0x26f6+-0x2515+0x1*-0x1e0]=this['emitterExt'+'ents']['y']!==0x40*-0x16+0x1090+0x2*-0x588?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x11*0x25+-0xef6+0x116b,ri[0x2478+0x4*-0x45e+-0xd*0x176]=this['emitterExt'+'ents']['z']!==-0x3fb*-0x1+0x2532+-0x292d?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0xb8f+-0x26b*-0x4+-0x5*0x43f);for(let _0x20aad4=0x842+-0x1006+0x7c4;_0x20aad4<this['numParticl'+'es'];_0x20aad4++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x28fbc0,_0x20aad4),this['useCpu']&&(this['particleTe'+'x'][_0x20aad4*zl+(0x3*-0x59b+0x1ad*-0xe+0x6*0x6b7)+this['numParticl'+'esPot']*(0x2*-0x277+0xb3c*0x2+-0x1188)*zl]=-0x10ca+-0x1821+0x369*0xc);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x5b816e=-0xaf+0x266e+-0x25bf;_0x5b816e<this['particleTe'+'xStart']['length'];_0x5b816e++)this['particleTe'+'xStart'][_0x5b816e]=this['particleTe'+'x'][_0x5b816e];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x34eb2f,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x7f1+0x18bf+-0x20af,!(-0x20f4+0x56c+-0x1*-0x1b89)),this['particleTe'+'xOUT']=Qt(_0x34eb2f,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x53*-0x2b+-0x2f5*0x2+0xa4*0x1f,!(0x1*0x11bd+-0x1fd9*-0x1+-0x3*0x1087)),this['particleTe'+'xStart']=Qt(_0x34eb2f,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,-0x8*-0x12f+-0x2*-0x75+0xa61*-0x1,!(0x133d+0x23d5+-0x3711))):(this['particleTe'+'xIN']=Qt(_0x34eb2f,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x34eb2f,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x34eb2f,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x23ce+-0x19a6+-0x3d75*-0x1)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0xc6e+0x44d*0x3+0x2*-0x3c)}),this['swapTex']=!(0xfb9*-0x2+0x269b+-0x728));const _0x3ab501=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x53b22e=_0x3ab501+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x13f32b=_0x3ab501+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x163acc=_0x3ab501+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x3a4fa3='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x34eb2f,X['fullscreen'+'QuadVS'],_0x53b22e,'ParticleUp'+'dateRespaw'+'n-'+_0x3a4fa3),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x34eb2f,X['fullscreen'+'QuadVS'],_0x13f32b,'ParticleUp'+'dateNoResp'+'awn-'+_0x3a4fa3),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x34eb2f,X['fullscreen'+'QuadVS'],_0x163acc,'ParticleUp'+'dateStop-'+_0x3a4fa3),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0xe57+-0x2bb*0x9+0xa40,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x182*0x1+-0x16f3+-0x827*-0x3]['numIndices']:0x101*-0x26+0x1153+-0x251*-0x9,this['_allocate'](this['numParticl'+'es']);const _0x4b4cda=new Ie(_0x34eb2f);_0x4b4cda['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x4b4cda['indexBuffe'+'r'][-0x3b6+0xd0a+0x954*-0x1]=this['indexBuffe'+'r'],_0x4b4cda['primitive'][0x264b+-0xb*0x2c9+-0xc4*0xa]['type']=Ms,_0x4b4cda['primitive'][0x195+-0x16*-0x79+0x1*-0xbfb]['base']=0x1581+-0xef*-0x29+-0x3bc8,_0x4b4cda['primitive'][-0xc40+-0x17*-0x37+0x74f]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x4b4cda['primitive'][-0x58a+-0x221f+-0x47*-0x8f]['indexed']=!(-0x1*-0x180b+0x207d*0x1+-0x711*0x8),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x428559=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x11c2+-0x255*0x5+-0x1bb*-0x11);this['meshInstan'+'ce']=new Le(_0x4b4cda,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0xc5*0x7+-0x1495+0x3d*0x6d),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x4e3*0x4+-0x394+0x1720),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0xa6*0x7+-0x1a20+-0x1*-0x1597),this['meshInstan'+'ce']['visible']=_0x428559,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x11e+0x1c8d+-0x1b6f,!(0x1f05+-0x863+-0x16a1*0x1)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x29*0x58+0x26b+-0xa*-0x12b&&(this['animTilesX']>0xaaa+-0x22*0x116+0x1a43||this['animTilesY']>0x3*0x9c7+0x1d02+-0x3a56)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0xd0d2f1=this['precision'],_0x45751a=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0xd0d2f1),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0xd0d2f1),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0xd0d2f1,-0xc*-0x17b+-0x16b9+0x4f5,-0x649*0x2+0x1b16+-0xe83),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0xd0d2f1),this['qScale']=this['scaleGraph']['quantize'](_0xd0d2f1),this['qAlpha']=this['alphaGraph']['quantize'](_0xd0d2f1),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0xd0d2f1),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0xd0d2f1),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0xd0d2f1),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0xd0d2f1,-0xdb*0x4+0x1*-0x45a+0x7c6,-0x547*0x2+-0x6*-0x2a+0x993),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0xd0d2f1),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0xd0d2f1),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0xd0d2f1),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0xd0d2f1);for(let _0x282295=-0x4*-0x3d+0x3eb*0x7+-0x1c61*0x1;_0x282295<_0xd0d2f1;_0x282295++)this['qRotSpeed'][_0x282295]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x282295]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x8e9*-0x4+-0x10*0x1de+-0x5*-0xd1b),this['velocityUM'+'ax']=new Float32Array(-0x1b32+-0xdca+0x5*0x833),this['colorUMax']=new Float32Array(0x1*-0x244c+0x1523+-0x3cb*-0x4),this['rotSpeedUM'+'ax']=[0x4*-0x656+0xf*0x4e+0x14c6],this['scaleUMax']=[0x1427+-0xca+-0x135d*0x1],this['alphaUMax']=[0x18f6+-0x319*-0xb+-0x3b09],this['radialSpee'+'dUMax']=[-0x1*-0x15be+0x1f*-0x72+-0x7f0*0x1],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x130d05=[0xb*-0x2b2+0x1e46+-0x2*0x50,0xd*-0x236+-0x1cb*0x7+0x294b*0x1,0xad8*0x2+0x234e+-0x38fe];Fr(this['qVelocity'],_0x130d05);const _0x76d0fc=[0xf*-0xb5+0x16ab+-0xc10,0x14b*-0x18+-0xd7b+-0x8e7*-0x5,0x24ef+0x1b30+-0x401f];Fr(this['qVelocity2'],_0x76d0fc);const _0x4b1a0a=[0xb*-0x170+0xcf*-0x3+0x123d,-0x69c+0x8ab+-0x1f*0x11,-0x2*-0x53+0x591+0x1*-0x637];Fr(this['qLocalVelo'+'city'],_0x4b1a0a);const _0x159aa0=[-0x11*-0x15d+0xd*-0x287+0x2*0x4d7,0x21*0xd1+-0x1689+0x8d*-0x8,0x11d9+-0x13c*-0x1c+0x3469*-0x1];Fr(this['qLocalVelo'+'city2'],_0x159aa0);const _0x131cde=[-0xb45+0x7df*-0x1+0x1324];Fr(this['qRadialSpe'+'ed'],_0x131cde);const _0x338dc4=[-0x18ae+0x1*0x2395+-0xae7*0x1];Fr(this['qRadialSpe'+'ed2'],_0x338dc4);let _0x19a807=Math['max'](_0x130d05[0x1d42+-0x619*-0x2+-0x2974],_0x76d0fc[-0x2042+0x29c+0x2*0xed3]);_0x19a807=Math['max'](_0x19a807,_0x130d05[0x644+-0xff7+-0x9*-0x114]),_0x19a807=Math['max'](_0x19a807,_0x76d0fc[0xf*0x3+0x2583+-0x1*0x25af]),_0x19a807=Math['max'](_0x19a807,_0x130d05[0x135*-0xd+-0x10cb*-0x2+0x13*-0xf1]),_0x19a807=Math['max'](_0x19a807,_0x76d0fc[-0x2*0xf4d+-0x1*0x23a3+0x423f]);let _0x112597=Math['max'](_0x4b1a0a[0x20a4+0x15ef+-0x1*0x3693],_0x159aa0[0x1c20+0x12fa*0x2+-0x4214]);_0x112597=Math['max'](_0x112597,_0x4b1a0a[0x149*0x4+-0x6*0x377+0xfa7*0x1]),_0x112597=Math['max'](_0x112597,_0x159aa0[-0xbdf*-0x3+-0x1df9+0x1e1*-0x3]),_0x112597=Math['max'](_0x112597,_0x4b1a0a[0x1d3+-0x1ac1*-0x1+-0x1c92]),_0x112597=Math['max'](_0x112597,_0x159aa0[-0x1c9*0x1+-0xc75+0xe40]);const _0x378de6=Math['max'](_0x131cde[0xb*-0x33f+-0xceb*-0x1+0x16ca],_0x338dc4[0x26e3+0x1926+0x4009*-0x1]);this['maxVel']=_0x19a807+_0x112597+_0x378de6;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x45751a,_0xd0d2f1,-0x4f9*-0x3+0x259*0x4+-0x184e,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x45751a,_0xd0d2f1,-0x1afa+0x3*0xf8+0x1813,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x45751a,_0xd0d2f1,0x635+-0x268c+0x2058,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x45751a,_0xd0d2f1,0x1d5d*0x1+-0x190d+-0x44f,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x45751a,_0xd0d2f1,-0x251a+-0x22*0xc9+0x3fcd,r1(this['qColor'],this['qAlpha']),rs,-0x4*-0x269+-0x755*0x5+0x1b06,!(-0xb16*-0x3+-0x2af+-0x1e93));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x47e12e=new s1(this);return _0x47e12e['name']='EmitterMat'+'erial:'+this['node']['name'],_0x47e12e['cull']=mt,_0x47e12e['alphaWrite']=!(-0xb65+-0x9c7*0x2+0x1ef4),_0x47e12e['blendType']=this['blendType'],_0x47e12e['depthWrite']=this['depthWrite'],_0x47e12e;}['resetMater'+'ial'](){const _0x103edf=this['material'];_0x103edf['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x103edf['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x103edf['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x103edf['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x103edf['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x103edf['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x103edf['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x103edf['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x103edf['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x103edf['setParamet'+'er']('colorParam',this['colorParam']),_0x103edf['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x103edf['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x103edf['setParamet'+'er']('lifetime',this['lifetime']),_0x103edf['setParamet'+'er']('rate',this['rate']),_0x103edf['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x103edf['setParamet'+'er']('seed',this['seed']),_0x103edf['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x7*-0x42a+0xe2d+-0x2b53]),_0x103edf['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x1cdd+-0x1*0x209+0x1ee6]),_0x103edf['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x1*-0x2b+-0x1218+-0xbb*-0x19]),_0x103edf['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x103edf['setParamet'+'er']('graphSampl'+'eSize',(-0x1*-0x741+0x203f+-0x277f*0x1)/this['precision']),_0x103edf['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x2f+-0x1*-0x15d7+-0x1*0x15a7,0x10db*0x1+0x4*-0x45a+0x8e,0x1*-0x1262+0x1b07+0x9e*-0xe])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x103edf['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x103edf['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x103edf['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x303*0x2+0x16c+-0x772]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x2046+-0x1dd0+-0x275]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x2531+-0x1fad+-0x582]=this['wrapBounds']['z'],_0x103edf['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x913*0x2+-0x29*0x1+-0x124f*-0x1&&_0x103edf['setParamet'+'er']('softening',(-0x2ff*-0x7+0x874+0xe*-0x21a)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x1983+0x8cd*-0x1+-0x8ad*-0x4))),this['stretch']>0x15f4+-0x213c+-0x2d2*-0x4&&(_0x103edf['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x1a8f15,_0x4b7975;if(this['orientatio'+'n']===Uh)_0x1a8f15=new Float32Array([0x583*0x7+-0x1809+-0xe8b,0xa28+0x1c9f*-0x1+-0x1277*-0x1,0x17f5+-0xb*0xbe+-0xfcb]),_0x4b7975=new Float32Array([0x14b0+0x1a3b+0x2eeb*-0x1,0x5*0x331+0x2663+-0x4*0xd96,0xa*0x26+0x690+-0x80b]);else{let _0x59998a;this['orientatio'+'n']===Xb?_0x59998a=this['particleNo'+'rmal']['normalize']():_0x59998a=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x23e9d1=new T(-0x683+0x1174+0xc8*-0xe,0xd85+-0x403+-0x982*0x1,-0x2*-0x161+0x167e+-0x8*0x328);Math['abs'](_0x23e9d1['dot'](_0x59998a))===-0x95*0x2b+-0xfb8+0x4*0xa30&&_0x23e9d1['set'](0xc50*0x2+-0x1*-0x218+0xe4*-0x1e,-0x8+-0x10f*-0x8+-0x36*0x28,-0xf*-0x295+0x1*-0x1348+0x13*-0x106);const _0x225a93=new T()['cross'](_0x59998a,_0x23e9d1)['normalize']();_0x23e9d1['cross'](_0x225a93,_0x59998a)['normalize'](),_0x1a8f15=new Float32Array([_0x23e9d1['x'],_0x23e9d1['y'],_0x23e9d1['z']]),_0x4b7975=new Float32Array([_0x225a93['x'],_0x225a93['y'],_0x225a93['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x1a8f15),this['material']['setParamet'+'er']('faceBinorm',_0x4b7975);}['_allocate'](_0x358729){const _0x54cba5=_0x358729*this['numParticl'+'eVerts'],_0x44d2e6=_0x358729*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x10b1+0x4ff*-0x7+0x33aa)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x54cba5){const _0x3582e2=[];this['useCpu']?_0x3582e2['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0x1f93*0x1+0x36e+0x51*0x59:0x6*-0x63c+-0x7*0x425+-0x5f*-0xb3,'type':Ee}):(_0x3582e2['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x3582e2['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x4ac1de=new Et(this['graphicsDe'+'vice'],_0x3582e2);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x4ac1de,_0x54cba5,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x44d2e6);const _0x3a11a3=new Float32Array(this['vertexBuff'+'er']['lock']());let _0xdf377f,_0x45160a,_0x23fb72;if(this['useMesh']){_0xdf377f=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x45160a=_0xdf377f['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x375a12=0x11eb*0x1+-0x129a*0x1+0xaf;_0x375a12<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x375a12++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x375a12]['name']===ns){_0x23fb72=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x375a12]['offset']/(-0x1b*-0x117+0x7*0x54e+-0x428b);break;}}for(let _0x168d77=0x1*0x1012+0xabb+-0x1acd;_0x168d77<_0x54cba5;_0x168d77++){const _0x1f3a43=Math['floor'](_0x168d77/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x56494d=_0x168d77%this['numParticl'+'eVerts'];_0x3a11a3[_0x168d77*(0x4*-0x32a+0x14be+-0x810)]=_0xdf377f[_0x56494d*_0x45160a],_0x3a11a3[_0x168d77*(0x833+-0x2119+0x18ec)+(0x2ee*-0x1+-0xbc3+0xeb2)]=_0xdf377f[_0x56494d*_0x45160a+(-0xb*-0x1e2+0xd38+-0x21ed)],_0x3a11a3[_0x168d77*(0x35b+0x789+-0xade)+(0x13d2+0x1*0x1499+-0x2869)]=_0xdf377f[_0x56494d*_0x45160a+(0x1172+-0x15c+0xc4*-0x15)],_0x3a11a3[_0x168d77*(-0x1*0x282+-0x2f6+0x57e)+(0x127f+0x2626+-0x38a2)]=_0x1f3a43,_0x3a11a3[_0x168d77*(0x1e*-0xad+-0x30a*-0x9+0x12d*-0x6)+(0xe6*-0xf+0x1970+-0x2*0x5f9)]=_0xdf377f[_0x56494d*_0x45160a+_0x23fb72+(-0x1*-0x1db7+-0x3*-0x332+-0x274d*0x1)],_0x3a11a3[_0x168d77*(-0x26a*-0x6+-0x21bf+0x1*0x1349)+(0x187d+-0x2*0xeaa+0x4dc)]=-0x2348+-0x511+0x285a-_0xdf377f[_0x56494d*_0x45160a+_0x23fb72+(0x188f*0x1+0x18f9+0x199*-0x1f)];}else{const _0x168c5e=_0x168d77%(0x5*0x5aa+0x1*0x243d+0x215*-0x1f);_0x3a11a3[_0x168d77*(-0x132+-0x1509+0x163f)]=E_[_0x168c5e][0x193e+0x2*-0x8a+0x2*-0xc15],_0x3a11a3[_0x168d77*(-0x1b96+-0x22a9+0x3e43)+(-0x3*-0x39f+0x2101+0x13*-0x24f)]=E_[_0x168c5e][0x159a+0x1d70+0xf*-0x367],_0x3a11a3[_0x168d77*(0x1b37+0x22c0+-0x3df3)+(0xdf9+0xf12+-0x1*0x1d09)]=0x7cc+0x1a*-0x7+-0x716,_0x3a11a3[_0x168d77*(-0x1af0+0x25b0+0x1ca*-0x6)+(0x147f+-0x2*-0x517+0x32*-0x9d)]=_0x1f3a43;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x3a11a3),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x4fa099=0x43*-0x67+0x16d0+0x425;const _0x121b09=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x16d440=this['mesh']['indexBuffe'+'r'][0x1c4d+-0x1aec+-0x161];_0xdf377f=new Lh[_0x16d440['format']](_0x16d440['lock']());}for(let _0x1df8da=-0x4*-0x72d+0x12*0x53+-0x228a;_0x1df8da<_0x358729;_0x1df8da++)if(this['useMesh']){for(let _0x12392c=0x37a*0x3+0x1523+-0x1*0x1f91;_0x12392c<this['numParticl'+'eIndices'];_0x12392c++)_0x121b09[_0x1df8da*this['numParticl'+'eIndices']+_0x12392c]=_0xdf377f[_0x12392c]+_0x1df8da*this['numParticl'+'eVerts'];}else{const _0x368600=_0x1df8da*(0x742+0x8f3+-0x1031);_0x121b09[_0x4fa099++]=_0x368600,_0x121b09[_0x4fa099++]=_0x368600+(-0x3*-0xbe6+0x249e+0x1*-0x484f),_0x121b09[_0x4fa099++]=_0x368600+(-0x1f96+-0x247c+0x4414),_0x121b09[_0x4fa099++]=_0x368600,_0x121b09[_0x4fa099++]=_0x368600+(0x1e92*0x1+-0x7*-0x2+0x1e9e*-0x1),_0x121b09[_0x4fa099++]=_0x368600+(-0xf91+-0x2*-0x14+0xf6c);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x21a9+0x2*0x121d+-0x291]['unlock']();}}['reset'](){if(this['beenReset']=!(-0xb74+0x17f1+-0xc7d),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0xd162d=-0xa*-0x3e2+-0x1034+-0x1*0x16a0;_0xd162d<this['particleTe'+'xStart']['length'];_0xd162d++)this['particleTe'+'x'][_0xd162d]=this['particleTe'+'xStart'][_0xd162d];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x44927c=this['loop'];this['loop']=!(-0x1113+-0x1*0x13a9+0x92f*0x4),this['addTime'](-0x1b03+-0x6c*-0x4a+0x167*-0x3,!(-0x1*0x109d+-0xf13+-0x487*-0x7)),this['loop']=_0x44927c,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x215547){const _0x2fd653=_0x215547/this['lifetime'],_0x4de9c7=Math['min'](Math['floor'](_0x2fd653*this['precision']),this['precision']),_0x490be2=_0x215547/_0x4de9c7;for(let _0x475acb=0xf33+-0x3*0x917+0xc12;_0x475acb<_0x4de9c7;_0x475acb++)this['addTime'](_0x490be2,!(0x128e+-0xe0c+0x1*-0x481));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x581cf4,_0x6557e9){const _0x24f048=this['graphicsDe'+'vice'],_0x4ef79f=ne();if(this['simTimeTot'+'al']+=_0x581cf4,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x1028eb=this['animTilesP'+'arams'];_0x1028eb[-0x1ab5+-0x9e*0x29+0x3403]=(-0x37*-0xa+0x1a30+0x1c55*-0x1)/this['animTilesX'],_0x1028eb[0x53d+-0x23c6+-0x2*-0xf45]=(-0x1427+0xdf7+0x631)/this['animTilesY'];const _0x290da1=this['animParams'];_0x290da1[-0x65e+-0xd41+-0x139f*-0x1]=this['animStartF'+'rame'],_0x290da1[0x1*-0xbef+0x9*0x2c1+-0xcd9]=this['animNumFra'+'mes']*this['animSpeed'],_0x290da1[0xd4b+0xa2d+0x5b*-0x42]=this['animNumFra'+'mes']-(0x488*-0x8+0xc7d*-0x2+-0xa5*-0x5f),_0x290da1[0xf80+-0x11cb+0x24e]=this['animNumAni'+'mations']-(-0x227b+-0x257*-0x2+0x1dce);const _0x43afa1=this['animIndexP'+'arams'];_0x43afa1[0x3*0x92d+-0x68c+-0x14fb]=this['animIndex'],_0x43afa1[0x1004*-0x1+-0x2011*0x1+0x1*0x3016]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[0x198+0xc4b+-0xde3]=this['emitterExt'+'ents']['x']!==0x482*0x4+-0x1c95+0xa8d?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x78e+0x436+-0x8*-0x6b,ri[0x2*0x873+-0xb4c+-0x599]=this['emitterExt'+'ents']['y']!==-0x1001*-0x1+0x1254+-0xb*0x31f?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x6a5+0x8cc+-0x227,ri[-0x213a+0x2203*-0x1+0x61d*0xb]=this['emitterExt'+'ents']['z']!==0x2*0x5aa+-0x2c1+-0x893*0x1?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x8*-0x137+0x2*-0x907+-0x856*-0x1,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x3768f9;const _0x444cf7=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0xf*0x11b+0xf3*0x25+-0x128a]=_0x444cf7['x'],this['emitterSca'+'leUniform'][0x1c55+0x1662+0x2*-0x195b]=_0x444cf7['y'],this['emitterSca'+'leUniform'][-0x2568+0x55*0x4b+0xc83*0x1]=_0x444cf7['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x3768f9=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x1adb+-0x1e6d*-0x1+-0x392]=_0x3768f9['x'],this['emitterPos'+'Uniform'][-0x2139+0x41*0x73+0x1*0x407]=_0x3768f9['y'],this['emitterPos'+'Uniform'][0x39*0xa6+-0xe64+-0x4c*0x4c]=_0x3768f9['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x24f048,Tr,ri,_0x581cf4,_0x6557e9);else{const _0x254086=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x254086,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x3768f9,_0x581cf4,_0x6557e9);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x664+-0xc6d*0x1+-0x12d2*-0x1)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x4ef79f;}['_destroyRe'+'sources'](){var _0x102792,_0x88f2a9,_0x1915d3,_0x269299,_0x2b5df0,_0x5393fb,_0x3cbecc,_0x52e820,_0x28b056,_0x14cddf,_0x3d47,_0x54856e;(_0x102792=this['particleTe'+'xIN'])==null||_0x102792['destroy'](),this['particleTe'+'xIN']=null,(_0x88f2a9=this['particleTe'+'xOUT'])==null||_0x88f2a9['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x1915d3=this['rtParticle'+'TexIN'])==null||_0x1915d3['destroy'](),this['rtParticle'+'TexIN']=null,(_0x269299=this['rtParticle'+'TexOUT'])==null||_0x269299['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x2b5df0=this['internalTe'+'x0'])==null||_0x2b5df0['destroy'](),this['internalTe'+'x0']=null,(_0x5393fb=this['internalTe'+'x1'])==null||_0x5393fb['destroy'](),this['internalTe'+'x1']=null,(_0x3cbecc=this['internalTe'+'x2'])==null||_0x3cbecc['destroy'](),this['internalTe'+'x2']=null,(_0x52e820=this['internalTe'+'x3'])==null||_0x52e820['destroy'](),this['internalTe'+'x3']=null,(_0x28b056=this['colorParam'])==null||_0x28b056['destroy'](),this['colorParam']=null,(_0x14cddf=this['vertexBuff'+'er'])==null||_0x14cddf['destroy'](),this['vertexBuff'+'er']=void(0x9f5+0x1*-0x1d21+0x132c),(_0x3d47=this['indexBuffe'+'r'])==null||_0x3d47['destroy'](),this['indexBuffe'+'r']=void(0x970+0x7f3*0x3+-0x2149),(_0x54856e=this['material'])==null||_0x54856e['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0xf2df2a){const _0x574812=_0xf2df2a['shaderDesc'],_0x23a621=_0x574812['vertexCode']?hn(_0x574812['vertexCode']):0x1a2d+0x4db*-0x3+-0x5ce*0x2,_0x5264f5=_0x574812['fragmentCo'+'de']?hn(_0x574812['fragmentCo'+'de']):0x325+0x20dd+-0x2402,_0x344b54=It['definesHas'+'h'](_0xf2df2a['defines']);let _0x10debd=_0x574812['uniqueName']+'_'+_0x23a621+'_'+_0x5264f5+'_'+_0x344b54;return _0xf2df2a['skin']&&(_0x10debd+='_skin'),_0xf2df2a['useInstanc'+'ing']&&(_0x10debd+='_inst'),_0xf2df2a['useMorphPo'+'sition']&&(_0x10debd+='_morphp'),_0xf2df2a['useMorphNo'+'rmal']&&(_0x10debd+='_morphn'),_0xf2df2a['useMorphTe'+'xtureBased'+'Int']&&(_0x10debd+='_morphi'),_0x10debd;}['createAttr'+'ibutesDefi'+'nition'](_0x244388,_0x256fd6){const _0x52550c=_0x256fd6['shaderDesc']['attributes'],_0x38750a=_0x52550c?{..._0x52550c}:void(-0x49d*-0x3+0x2ca+-0x10a1);_0x256fd6['skin']&&(_0x38750a['vertex_bon'+'eWeights']=Ys,_0x38750a['vertex_bon'+'eIndices']=qt),(_0x256fd6['useMorphPo'+'sition']||_0x256fd6['useMorphNo'+'rmal'])&&(_0x38750a['morph_vert'+'ex_id']=ya),_0x244388['attributes']=_0x38750a;}['createVert'+'exDefiniti'+'on'](_0x235021,_0x272b97,_0x106b19){const _0xc5ea62=_0x272b97['shaderDesc'];if(_0x235021['shaderLang'+'uage']===Ph)_0x235021['vertexCode']=_0xc5ea62['vertexCode'];else{const _0x5da8fc=new Map(_0x106b19),_0x32752e=new Map(_0x272b97['defines']);_0x5da8fc['set']('transformI'+'nstancingV'+'S',''),_0x272b97['skin']&&_0x32752e['set']('SKIN',!(0x2381*-0x1+0x1*-0xf53+0xcb5*0x4)),_0x272b97['useInstanc'+'ing']&&_0x32752e['set']('INSTANCING',!(-0x4f*-0x4f+-0x13cc+-0x495)),(_0x272b97['useMorphPo'+'sition']||_0x272b97['useMorphNo'+'rmal'])&&(_0x32752e['set']('MORPHING',!(-0x1648+0x1*-0x56b+-0x7*-0x3f5)),_0x272b97['useMorphTe'+'xtureBased'+'Int']&&_0x32752e['set']('MORPHING_I'+'NT',!(0x11b1+-0x3ba+0xd*-0x113)),_0x272b97['useMorphPo'+'sition']&&_0x32752e['set']('MORPHING_P'+'OSITION',!(-0x236*-0xc+-0xff8+-0x1*0xa90)),_0x272b97['useMorphNo'+'rmal']&&_0x32752e['set']('MORPHING_N'+'ORMAL',!(-0xd*-0x84+-0x1924+0x1270))),_0x235021['vertexCode']=_0xc5ea62['vertexCode'],_0x235021['vertexIncl'+'udes']=_0x5da8fc,_0x235021['vertexDefi'+'nes']=_0x32752e;}}['createFrag'+'mentDefini'+'tion'](_0x16ba8a,_0x32841e,_0x2a4e1a){const _0x4261ce=_0x32841e['shaderDesc'];if(_0x16ba8a['shaderLang'+'uage']===Ph)_0x16ba8a['fragmentCo'+'de']=_0x4261ce['fragmentCo'+'de'];else{const _0x29538c=new Map(_0x2a4e1a),_0x40fd9c=new Map(_0x32841e['defines']);_0x16ba8a['fragmentCo'+'de']=_0x4261ce['fragmentCo'+'de'],_0x16ba8a['fragmentIn'+'cludes']=_0x29538c,_0x16ba8a['fragmentDe'+'fines']=_0x40fd9c;}}['createShad'+'erDefiniti'+'on'](_0x592f2b,_0x348170){const _0x2c76bc=_0x348170['shaderDesc'],_0x39061c={'name':'ShaderMate'+'rial-'+_0x2c76bc['uniqueName'],'shaderLanguage':_0x2c76bc['shaderLang'+'uage'],'fragmentOutputTypes':_0x2c76bc['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x2c76bc['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2c76bc['meshBindGr'+'oupFormat']},_0x39c476=new Map(Object['entries']({...X,..._0x348170['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x39061c,_0x348170),this['createVert'+'exDefiniti'+'on'](_0x39061c,_0x348170,_0x39c476),this['createFrag'+'mentDefini'+'tion'](_0x39061c,_0x348170,_0x39c476),Mt['createDefi'+'nition'](_0x592f2b,_0x39061c);}}const f1=new u1();class Ra extends yn{constructor(_0xafa4f7){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0xafa4f7;}set['shaderDesc'](_0x23821b){_0x23821b&&(v['assert'](_0x23821b['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x23821b['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x23821b?{..._0x23821b}:void(0x5*-0x32b+0x2485*0x1+-0xa57*0x2),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x2b31eb){return super['copy'](_0x2b31eb),this['shaderDesc']=_0x2b31eb['shaderDesc'],this;}['getShaderV'+'ariant'](_0x3f24ff){const {objDefs:_0x2cd258}=_0x3f24ff,_0x39de07={'defines':Dp(this,_0x3f24ff),'skin':(_0x2cd258&Wc)!==-0x21f9+0x1*-0x2a1+-0xa*-0x3a9,'useInstancing':(_0x2cd258&$c)!==0x926+0x3*-0x994+0x2e*0x6d,'useMorphPosition':(_0x2cd258&qc)!==-0x46f+0xc6b*0x2+-0x6cd*0x3,'useMorphNormal':(_0x2cd258&Xc)!==-0x2*0x1b6+0xe0+0x28c,'useMorphTextureBasedInt':(_0x2cd258&jc)!==-0x61*0x4+-0x9a*0x36+0x2200,'pass':_0x3f24ff['pass'],'gamma':_0x3f24ff['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x3f24ff['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x3f24ff['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x382e48=new Yc(_0x3f24ff['viewUnifor'+'mFormat'],_0x3f24ff['viewBindGr'+'oupFormat'],_0x3f24ff['vertexForm'+'at']),_0xc78edc=ka(_0x3f24ff['device']);return _0xc78edc['register']('shader-mat'+'erial',f1),_0xc78edc['getProgram']('shader-mat'+'erial',_0x39de07,_0x382e48,this['userId']);}}const k0=(_0x966340,_0x500658)=>{const _0x52a647=_0x500658['length']/(0x9d*0x1a+-0x2*-0x1b1+-0x1351),_0x527b02=_0x966340['length']/(0x12f+-0x183e+0x2*0xb89),_0x53d1b6=new T(),_0x2a8e22=new T(),_0xc94716=new T(),_0x200802=new T(),_0x4dc40c=new T(),_0x3a9e09=new T(),_0x1c80d2=[];for(let _0x12db87=0x1609+-0x10ed+-0x6*0xda;_0x12db87<_0x966340['length'];_0x12db87++)_0x1c80d2[_0x12db87]=-0x1681+-0xfd7*0x1+0x2658;for(let _0x4765c4=0x11*0x137+0x111b+-0x9*0x432;_0x4765c4<_0x52a647;_0x4765c4++){const _0xdd2c9f=_0x500658[_0x4765c4*(-0x1647+-0x544+0x1*0x1b8e)],_0xfb6b90=_0x500658[_0x4765c4*(-0x251b+0xd54+0x46*0x57)+(0x3c7*-0x1+0x1182+-0xdba)],_0x43e758=_0x500658[_0x4765c4*(0xd31*-0x1+-0x20e9+0x2e1d*0x1)+(-0x4c*0x62+0x1570+0x7aa)];_0x53d1b6['set'](_0x966340[_0xdd2c9f*(0x21d8+-0x253c+0x367)],_0x966340[_0xdd2c9f*(-0x1*-0x56+-0x1745*0x1+0x16f2)+(-0xd0*-0x2f+0x106d+-0x1e*0x1d2)],_0x966340[_0xdd2c9f*(-0x20e*0x3+-0x1dd2+0x5*0x733)+(0x5d4+-0x5*0x31c+0x9ba)]),_0x2a8e22['set'](_0x966340[_0xfb6b90*(0x225b*0x1+0x8bd+-0x29*0x10d)],_0x966340[_0xfb6b90*(-0x20c8+0x135*-0x1d+0x43cc)+(0x5ed*-0x4+-0xa9d+0x2252)],_0x966340[_0xfb6b90*(-0x251*0x7+0xa76+0x5c4)+(-0x1*-0x1604+-0x40*-0x4b+-0x28c2)]),_0xc94716['set'](_0x966340[_0x43e758*(-0x1a6b*-0x1+0x3*-0x875+0x35*-0x5)],_0x966340[_0x43e758*(-0x3*0x9ac+-0x208d+0x1eca*0x2)+(-0x1*-0xe45+-0xd16+-0x2*0x97)],_0x966340[_0x43e758*(-0x93*-0x11+-0x1*-0x24c3+0x7*-0x6a5)+(0x11e4+0x1cef+-0x2c1*0x11)]),_0x200802['sub2'](_0x2a8e22,_0x53d1b6),_0x4dc40c['sub2'](_0xc94716,_0x53d1b6),_0x3a9e09['cross'](_0x200802,_0x4dc40c)['normalize'](),_0x1c80d2[_0xdd2c9f*(-0x3*-0x8d7+-0x647+-0x143b)]+=_0x3a9e09['x'],_0x1c80d2[_0xdd2c9f*(0x175f*0x1+0x2610+-0x1*0x3d6c)+(-0x1c79*0x1+-0x39*0x1+0x1cb3)]+=_0x3a9e09['y'],_0x1c80d2[_0xdd2c9f*(-0x9b*-0x16+0x8b+-0x3*0x49e)+(0x1*-0x1a1e+0xbcf*-0x1+0x25ef)]+=_0x3a9e09['z'],_0x1c80d2[_0xfb6b90*(-0x602*0x2+0x15c9+0x4e1*-0x2)]+=_0x3a9e09['x'],_0x1c80d2[_0xfb6b90*(0x1b0f*-0x1+0x1ca5+-0x193)+(0x8*0x1a4+0xc8c+-0x19ab)]+=_0x3a9e09['y'],_0x1c80d2[_0xfb6b90*(0x2134+-0xfb3+-0x117e)+(0x2e3*0x3+0x71a+0x25*-0x6d)]+=_0x3a9e09['z'],_0x1c80d2[_0x43e758*(0x1468+-0x1*0x21f3+0x6c7*0x2)]+=_0x3a9e09['x'],_0x1c80d2[_0x43e758*(-0x8f5+0x1*-0xf67+-0x16f*-0x11)+(-0x5b1+0x19*0xb3+-0xbc9*0x1)]+=_0x3a9e09['y'],_0x1c80d2[_0x43e758*(-0x27*-0x18+-0x1907+0x1562)+(-0x158c+0x1*0x1976+-0x3e8)]+=_0x3a9e09['z'];}for(let _0x28dee4=0x1*0x2395+0x1794+-0x3b29;_0x28dee4<_0x527b02;_0x28dee4++){const _0x4cfe27=_0x1c80d2[_0x28dee4*(-0x195d+-0x199d+-0x1*-0x32fd)],_0x23c54e=_0x1c80d2[_0x28dee4*(-0xe5e+0x10c*0x16+0x1bb*-0x5)+(0x95e+0x20d1*0x1+0x1*-0x2a2e)],_0x2afb15=_0x1c80d2[_0x28dee4*(-0x3*0x8c3+0x17d9*0x1+0x273)+(-0x17bf+0x7eb*0x4+-0x7eb)],_0x40cb62=(0x17*-0x119+-0x5*-0x640+0x40*-0x18)/Math['sqrt'](_0x4cfe27*_0x4cfe27+_0x23c54e*_0x23c54e+_0x2afb15*_0x2afb15);_0x1c80d2[_0x28dee4*(-0x735+0x1*-0x13eb+0x1b23)]*=_0x40cb62,_0x1c80d2[_0x28dee4*(0x52f*-0x3+0x250f*0x1+0x157f*-0x1)+(-0x11a1*-0x2+-0x1*-0xcce+-0x300f)]*=_0x40cb62,_0x1c80d2[_0x28dee4*(-0x3*-0x7c+-0x225f+0x20ee)+(-0x1*0xfe9+0x1cf*-0x12+0x3079)]*=_0x40cb62;}return _0x1c80d2;},fr=(_0x135765,_0xf193c1,_0x1ef67c,_0x536662)=>{const _0x5ecbdf=_0x536662['length']/(0x14b6+-0x1*-0x1dc5+-0x3278),_0x86bb03=_0x135765['length']/(0x6e*0x1f+-0x2*0x4bc+-0x3d7),_0x430886=new T(),_0x48e6c8=new T(),_0x5a5242=new T(),_0x55a30f=new W(),_0x1674e4=new W(),_0x5f0276=new W(),_0x2b325d=new T(),_0x4c54d2=new T(),_0x10a116=new Float32Array(_0x86bb03*(0x2e*-0x5b+0x4*0x117+0x1*0xc01)),_0x3622a4=new Float32Array(_0x86bb03*(0x1fc*0x5+-0x1e92*0x1+-0x2b*-0x7b)),_0x272996=[];for(let _0x1a1d2d=-0x17e4+0xdf1+0x11b*0x9;_0x1a1d2d<_0x5ecbdf;_0x1a1d2d++){const _0x4a41bd=_0x536662[_0x1a1d2d*(0x470+-0x1237+0xdca)],_0x3c76ed=_0x536662[_0x1a1d2d*(0x172d+0x1*-0x121a+-0x510)+(0x5*0x2e9+0x2038+-0x92*0x52)],_0x5eb354=_0x536662[_0x1a1d2d*(0x74c+-0x2*-0xef9+-0x253b)+(0x794+-0x15*0x1+0x3*-0x27f)];_0x430886['set'](_0x135765[_0x4a41bd*(0x2*0x7aa+-0x1cdc+0xd8b)],_0x135765[_0x4a41bd*(-0x214e+-0x1498+0x1*0x35e9)+(0x1435+0x13dd+0xd5b*-0x3)],_0x135765[_0x4a41bd*(-0x14d*-0x17+0x1357+-0x7*0x709)+(-0x19c6*-0x1+-0x1ce9+-0x23*-0x17)]),_0x48e6c8['set'](_0x135765[_0x3c76ed*(-0x1389*-0x1+-0x8*0x1ff+0x41*-0xe)],_0x135765[_0x3c76ed*(-0x576+-0x1b91*-0x1+-0x1618)+(0x81*0x3d+-0x2437+0x57b*0x1)],_0x135765[_0x3c76ed*(0x18f5+-0x25b8+-0x1*-0xcc6)+(-0x13f2+-0x1057+0x39*0xa3)]),_0x5a5242['set'](_0x135765[_0x5eb354*(-0x21e2+-0x3*0x4f+-0x2*-0x1169)],_0x135765[_0x5eb354*(0x3fd*-0x9+0x2*0x12f7+-0x206)+(0x5d6+-0x200b+0x131*0x16)],_0x135765[_0x5eb354*(-0x155*0xe+-0xdd+0x1386)+(0x2*0xa63+0x81*-0x2e+0x26a)]),_0x55a30f['set'](_0x1ef67c[_0x4a41bd*(-0x50b*-0x5+0x249d+-0x3dd2)],_0x1ef67c[_0x4a41bd*(0x3f3+-0x3a9*-0x1+-0x79a)+(-0x3e4+-0x1d96+-0x1*-0x217b)]),_0x1674e4['set'](_0x1ef67c[_0x3c76ed*(0x83*-0x9+0x19*-0xe9+-0x1b5e*-0x1)],_0x1ef67c[_0x3c76ed*(0xa22+0x2f3*0x3+-0x1*0x12f9)+(0x49c+-0x8e1+-0x223*-0x2)]),_0x5f0276['set'](_0x1ef67c[_0x5eb354*(0x25e1+0x37*0x71+-0x25*0x1ae)],_0x1ef67c[_0x5eb354*(0x1ad8+0xde4+0x1a*-0x191)+(0x1*-0x25de+-0x78*0x11+0x2dd7)]);const _0x959bb1=_0x48e6c8['x']-_0x430886['x'],_0x3487ac=_0x5a5242['x']-_0x430886['x'],_0x11c1f8=_0x48e6c8['y']-_0x430886['y'],_0x5b51f7=_0x5a5242['y']-_0x430886['y'],_0x3efcf8=_0x48e6c8['z']-_0x430886['z'],_0x194f1c=_0x5a5242['z']-_0x430886['z'],_0x54eef3=_0x1674e4['x']-_0x55a30f['x'],_0x380ff8=_0x5f0276['x']-_0x55a30f['x'],_0x32d06b=_0x1674e4['y']-_0x55a30f['y'],_0x243e5d=_0x5f0276['y']-_0x55a30f['y'],_0x22baf0=_0x54eef3*_0x243e5d-_0x380ff8*_0x32d06b;if(_0x22baf0===-0xa8f+-0x53*0x1f+0x149c)_0x2b325d['set'](-0x1b18+0x931*-0x2+0x16bd*0x2,-0x13e8+0x64b*0x5+-0x33*0x3a,0x2c0*0xd+-0x1ac5+-0x8fb),_0x4c54d2['set'](-0x462+0xce6+-0x883*0x1,0x8a3+0xc1*0x1+-0x964,0x2*-0xc20+0x22df+-0xa9f);else{const _0x59156b=(-0x1e5*-0x3+0x13a9*0x1+-0x1957)/_0x22baf0;_0x2b325d['set']((_0x243e5d*_0x959bb1-_0x32d06b*_0x3487ac)*_0x59156b,(_0x243e5d*_0x11c1f8-_0x32d06b*_0x5b51f7)*_0x59156b,(_0x243e5d*_0x3efcf8-_0x32d06b*_0x194f1c)*_0x59156b),_0x4c54d2['set']((_0x54eef3*_0x3487ac-_0x380ff8*_0x959bb1)*_0x59156b,(_0x54eef3*_0x5b51f7-_0x380ff8*_0x11c1f8)*_0x59156b,(_0x54eef3*_0x194f1c-_0x380ff8*_0x3efcf8)*_0x59156b);}_0x10a116[_0x4a41bd*(0x1cb3+0x1e11*-0x1+0x161)+(-0x1dae+0x13*0x1f+0x1b61)]+=_0x2b325d['x'],_0x10a116[_0x4a41bd*(0x1cca+-0x8*0x425+0x461)+(0x2540+-0x26ac+-0x16d*-0x1)]+=_0x2b325d['y'],_0x10a116[_0x4a41bd*(-0x1*0x1a05+0xbdc*0x2+0x250)+(-0x4*-0x662+0x145d+-0x2de3)]+=_0x2b325d['z'],_0x10a116[_0x3c76ed*(0x1d3d+0x1833+-0x356d)+(-0x89*-0x47+0x8e2+-0x2ee1)]+=_0x2b325d['x'],_0x10a116[_0x3c76ed*(0x222f+-0x13*0x71+-0x19c9)+(0x347*0xb+0x9*-0x398+0x4f*-0xc)]+=_0x2b325d['y'],_0x10a116[_0x3c76ed*(-0x2606+0x172+0x2497)+(-0x913+-0xd3a+0x1*0x164f)]+=_0x2b325d['z'],_0x10a116[_0x5eb354*(0x1fe1+-0x12ac+-0xd32)+(0x4*0x425+0xa76+-0x1b0a)]+=_0x2b325d['x'],_0x10a116[_0x5eb354*(0x2bf+0x1d*0x9f+-0x71*0x2f)+(0x22*-0xce+0x801+0x135c)]+=_0x2b325d['y'],_0x10a116[_0x5eb354*(0x1cc9+0xd7c+-0x2a42)+(-0x6b*-0x1d+0x119a+0x1*-0x1db7)]+=_0x2b325d['z'],_0x3622a4[_0x4a41bd*(0x787+-0xad*0x16+0x75a)+(-0x709*0x1+0x1ff+-0x56*-0xf)]+=_0x4c54d2['x'],_0x3622a4[_0x4a41bd*(-0x3a9*0x3+-0x57*0x6d+0x1003*0x3)+(-0x9*0x95+-0x17ad+0x1ceb)]+=_0x4c54d2['y'],_0x3622a4[_0x4a41bd*(-0x32a+0x26b8+-0x1*0x238b)+(0x261a+-0xc*0x5f+-0x21a4)]+=_0x4c54d2['z'],_0x3622a4[_0x3c76ed*(0xef*0x1b+-0x93d+-0xff5)+(0x205d+0xcbf+-0x2d1c)]+=_0x4c54d2['x'],_0x3622a4[_0x3c76ed*(0x2*0x7a2+0x1de5+-0x1*0x2d26)+(0x1*-0x1a7e+0xcbe+0xdc1)]+=_0x4c54d2['y'],_0x3622a4[_0x3c76ed*(-0x1673+0x51b+0x115b)+(-0xf76+-0xa2e+0xcd3*0x2)]+=_0x4c54d2['z'],_0x3622a4[_0x5eb354*(0xeef+0x6bd+-0x15a9)+(0x236a+0x2*0xacf+-0x3908)]+=_0x4c54d2['x'],_0x3622a4[_0x5eb354*(-0x713+-0x17*-0x15b+-0x1817)+(-0x1055+-0xb4e*-0x1+-0x5c*-0xe)]+=_0x4c54d2['y'],_0x3622a4[_0x5eb354*(-0x1*-0xfc1+0x21d5*0x1+-0x3193)+(-0x17ee+0x1fdb+0x7eb*-0x1)]+=_0x4c54d2['z'];}const _0x561fc0=new T(),_0x5092ae=new T(),_0x518709=new T(),_0x1ffb85=new T();for(let _0x4c29be=0x3f1*0x7+0x26a0+-0x4237;_0x4c29be<_0x86bb03;_0x4c29be++){_0x518709['set'](_0xf193c1[_0x4c29be*(-0x2151+0xe4b+0x1309)],_0xf193c1[_0x4c29be*(-0xc45+0x14d9+0x33*-0x2b)+(0x20b0*0x1+-0xce7+-0x13c8)],_0xf193c1[_0x4c29be*(0x2*-0x920+0x2*0x1dc+0xe8b)+(-0x18f0+0x1fbc+-0x6ca)]),_0x561fc0['set'](_0x10a116[_0x4c29be*(0x1*-0xd47+-0x36*-0x67+0x14*-0x6c)],_0x10a116[_0x4c29be*(0xcb*0x19+-0x41e+-0xfb2)+(-0xd81*0x1+-0x3*-0xc89+-0x1f*0xc7)],_0x10a116[_0x4c29be*(-0x1f26+0x1522+-0xa07*-0x1)+(0x2661+-0x17c9*0x1+-0x2*0x74b)]),_0x5092ae['set'](_0x3622a4[_0x4c29be*(-0x11d8+-0x5*0x501+0x2ae0)],_0x3622a4[_0x4c29be*(0xf8+-0x43*0x5d+0x1762*0x1)+(-0x5bb+0x1a93+-0xb*0x1e5)],_0x3622a4[_0x4c29be*(-0x2459+-0x119*-0x2+0x222a)+(-0x2c3*0x6+0xe5e*-0x1+-0x1d2*-0x11)]);const _0x9471ee=_0x518709['dot'](_0x561fc0);_0x1ffb85['copy'](_0x518709)['mulScalar'](_0x9471ee),_0x1ffb85['sub2'](_0x561fc0,_0x1ffb85)['normalize'](),_0x272996[_0x4c29be*(0x1*0x16f3+0x304+-0x1*0x19f3)]=_0x1ffb85['x'],_0x272996[_0x4c29be*(-0x1*0x851+-0x1c03+0x4*0x916)+(0x67a+0x3*0x8e9+-0x2134)]=_0x1ffb85['y'],_0x272996[_0x4c29be*(0x70*0x3f+-0x728*0x5+-0x11*-0x7c)+(0x20a*-0x13+0xccd+0x1*0x19f3)]=_0x1ffb85['z'],_0x1ffb85['cross'](_0x518709,_0x561fc0),_0x272996[_0x4c29be*(0x1*-0x17ad+0x23a6+-0xbf5)+(0x540+-0x2078+0x1b3b)]=_0x1ffb85['dot'](_0x5092ae)<-0xce1+0x6b*-0x3e+0x26cb?-(0x173c+0x206d+0x112*-0x34):-0x25*-0x13+0x39a*0x6+-0x185a;}return _0x272996;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const Wu=(-0xa30+0x1f*0x10c+0x2c8*-0x8)/(0x1*-0x2129+0xc52+-0x1517*-0x1),L_=-0x2149+0x1cc6+0x484-Wu*(0x3fb*0x3+0x569+-0x1158);class $u extends pn{constructor(_0xe8af38={}){super();const _0x5224d7=_0xe8af38['halfExtent'+'s']??new T(-0x23ae*0x1+0x3*0x8be+0x974+0.5,0x1027+0x2204+-0x322b+0.5,0x3*0xa8d+-0x2287+0x10*0x2e+0.5),_0x37f387=_0xe8af38['widthSegme'+'nts']??-0x1495+-0x1f6c+0x1a01*0x2,_0x14a252=_0xe8af38['lengthSegm'+'ents']??0x17f9+0x1694+-0x2e8c,_0xda5e0b=_0xe8af38['heightSegm'+'ents']??0x4ff*0x5+0x1*-0x1fe8+0x1*0x6ee,_0x59bed0=_0xe8af38['yOffset']??0x3b*0x1e+-0x1e89*-0x1+-0x2573,_0x343f60=-_0x5224d7['y']+_0x59bed0,_0x4e5923=_0x5224d7['y']+_0x59bed0,_0x5b2bb8=[new T(-_0x5224d7['x'],_0x343f60,_0x5224d7['z']),new T(_0x5224d7['x'],_0x343f60,_0x5224d7['z']),new T(_0x5224d7['x'],_0x4e5923,_0x5224d7['z']),new T(-_0x5224d7['x'],_0x4e5923,_0x5224d7['z']),new T(_0x5224d7['x'],_0x343f60,-_0x5224d7['z']),new T(-_0x5224d7['x'],_0x343f60,-_0x5224d7['z']),new T(-_0x5224d7['x'],_0x4e5923,-_0x5224d7['z']),new T(_0x5224d7['x'],_0x4e5923,-_0x5224d7['z'])],_0x2c10b6=[[-0x63a+0x1*-0x1ec1+-0x1*-0x24fb,-0x852+0x1b1*-0xb+0xd77*0x2,-0xcf7+0x1b6a+-0xe70],[0xb*-0x4c+-0x2110+-0x1*-0x2458,-0x1c1e+0x5e4+0x14f*0x11,0x1d73+0x1675*-0x1+-0x6f7],[-0x2e*0xb+0x476*-0x5+-0x2b3*-0x9,-0x1f2b+-0x1*0x91d+-0x2*-0x1425,-0x5*0x6dd+0xc*0x296+0x7*0x79],[0x270d+0x20*0xc5+-0x3fac,-0x6c8+-0x65*-0x4f+-0x1863,0x1*0x2027+0x21c1+0x41e4*-0x1],[-0x1*0xa25+-0x3ad+0xdd3,-0x11*-0x83+0xf43*-0x1+0x2*0x34a,0xb1*-0x29+-0x1ae9+0x3744],[-0x1faf*-0x1+-0x42*-0x57+0x6*-0x904,0x37c+-0x193f*-0x1+0x5*-0x5bf,-0xa97+0x180b+0x6b7*-0x2]],_0xe38b19=[[0x262*-0x9+0x1da4+-0x832,0x4*-0x8ba+-0x33f+0x2627,-0x3*-0xc2e+0x2364+-0x47ed*0x1],[-0x14*0x5d+0xa4a+-0x306,-0x15d5+-0x2379+0x131a*0x3,-(0x2*-0x1304+0xc99+0x1970)],[-0xff3+0x1b4e+-0xb5b,-0x1651+0x1554+0xfe,0x139d+0x64d*0x1+-0x1*0x19ea],[-0xe3*-0x1+0xaa+-0x18d,-(0x129e+-0x1cfd+0x530*0x2),0x2*-0x973+-0xdf8+0x20de],[-0x2454+-0x4f3+0x2948,-0x25*-0x1d+-0x1a19+0x15e8,0xc70*-0x1+0x2457+-0x17e7],[-(-0x25*0x22+0x8*0x275+-0xebd),-0xa3*0xe+0x638+-0x2b2*-0x1,-0x17a9+-0x9b*-0x21+0x3ae]],_0x1bf06e={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x5ef04c=[],_0x31eab7=[],_0x1aecd8=[],_0x1fad63=[];let _0x1ae1fb=0x625+-0x593*0x3+0x54a*0x2;const _0x20c7cd=(_0x4fea86,_0x439763,_0x5d92d1)=>{const _0xd972c0=new T(),_0x3a0812=new T(),_0x2bfaff=new T(),_0x38c3de=new T();for(let _0x4fbd29=0x1*0x12fb+0x1*-0x4bb+-0xe40;_0x4fbd29<=_0x439763;_0x4fbd29++)for(let _0x3df856=-0x17*0xc1+0x2284+-0x112d;_0x3df856<=_0x5d92d1;_0x3df856++){_0xd972c0['lerp'](_0x5b2bb8[_0x2c10b6[_0x4fea86][0x104b+0x4*-0x355+-0x2f7]],_0x5b2bb8[_0x2c10b6[_0x4fea86][0x24fb*-0x1+0x11f*0x1f+0x23b]],_0x4fbd29/_0x439763),_0x3a0812['lerp'](_0x5b2bb8[_0x2c10b6[_0x4fea86][-0x1699+-0x5*0x168+-0xcd*-0x25]],_0x5b2bb8[_0x2c10b6[_0x4fea86][0x9e*0x2+0x9ff+-0xb39]],_0x3df856/_0x5d92d1),_0x2bfaff['sub2'](_0x3a0812,_0x5b2bb8[_0x2c10b6[_0x4fea86][0x19bb+0x24a9+-0x3e64]]),_0x38c3de['add2'](_0xd972c0,_0x2bfaff);let _0x2262b0=_0x4fbd29/_0x439763,_0x476248=_0x3df856/_0x5d92d1;_0x5ef04c['push'](_0x38c3de['x'],_0x38c3de['y'],_0x38c3de['z']),_0x31eab7['push'](_0xe38b19[_0x4fea86][0x1919+0x2273+-0x94*0x67],_0xe38b19[_0x4fea86][0x1d06+-0x49*-0x4+0x1e29*-0x1],_0xe38b19[_0x4fea86][-0xbb7+0x2299+-0x16e0]),_0x1aecd8['push'](_0x2262b0,0x3*-0x1f3+0x51f+0xbb-_0x476248),_0x2262b0=_0x2262b0*L_+Wu,_0x476248=_0x476248*L_+Wu,_0x2262b0/=0x59a+-0x22f8+-0x45*-0x6d,_0x476248/=0x10d*-0x24+-0x2453+0x35f*0x16,_0x2262b0+=_0x4fea86%(0x1409+-0x1*-0x18c2+0x2cc8*-0x1)/(-0x5a*-0x5f+-0x11f8+-0xf6b*0x1),_0x476248+=Math['floor'](_0x4fea86/(-0x14c+-0x1223*0x1+0x1372*0x1))/(-0xe3d+0xaf4*-0x2+0x164*0x1a),_0x4fbd29<_0x439763&&_0x3df856<_0x5d92d1&&(_0x1fad63['push'](_0x1ae1fb+_0x5d92d1+(0x473*-0x3+0xfef*0x2+0x13c*-0xf),_0x1ae1fb+(-0x1f49+0xa15*-0x2+0x94*0x59),_0x1ae1fb),_0x1fad63['push'](_0x1ae1fb+_0x5d92d1+(0x1f6*0xb+-0x1f63+0x4e9*0x2),_0x1ae1fb+_0x5d92d1+(0x2474+0x1a*0x17+-0x26c8),_0x1ae1fb+(0x40*0x4+-0xff0+0xff*0xf))),_0x1ae1fb++;}};_0x20c7cd(_0x1bf06e['FRONT'],_0x37f387,_0xda5e0b),_0x20c7cd(_0x1bf06e['BACK'],_0x37f387,_0xda5e0b),_0x20c7cd(_0x1bf06e['TOP'],_0x37f387,_0x14a252),_0x20c7cd(_0x1bf06e['BOTTOM'],_0x37f387,_0x14a252),_0x20c7cd(_0x1bf06e['RIGHT'],_0x14a252,_0xda5e0b),_0x20c7cd(_0x1bf06e['LEFT'],_0x14a252,_0xda5e0b),this['positions']=_0x5ef04c,this['normals']=_0x31eab7,this['uvs']=_0x1aecd8,this['uvs1']=_0x1aecd8,this['indices']=_0x1fad63,_0xe8af38['calculateT'+'angents']&&(this['tangents']=fr(_0x5ef04c,_0x31eab7,_0x1aecd8,_0x1fad63));}}class B0 extends pn{constructor(_0x2b82fc={}){super();const _0xc7d127=_0x2b82fc['radius']??0x2128+0x1b40+-0x3c68+0.5,_0x55373e=_0x2b82fc['latitudeBa'+'nds']??-0x1ee5+-0x35d*-0x2+-0x1*-0x183b,_0x19dd2f=_0x2b82fc['longitudeB'+'ands']??0x16ca+0xe2*0x4+0x1a42*-0x1,_0x3c529e=[],_0x313ea9=[],_0x5248d3=[],_0x493bfe=[];for(let _0x4e8f19=-0x1594*-0x1+0x7d*-0x3c+0x68*0x13;_0x4e8f19<=_0x55373e;_0x4e8f19++){const _0x556e78=_0x4e8f19*Math['PI']/_0x55373e,_0x4d4c34=Math['sin'](_0x556e78),_0x48c6d2=Math['cos'](_0x556e78);for(let _0x2a8242=-0x1df+-0xc43+0xc9*0x12;_0x2a8242<=_0x19dd2f;_0x2a8242++){const _0x1125fd=_0x2a8242*(-0x3*-0x991+-0x135b+-0x956)*Math['PI']/_0x19dd2f-Math['PI']/(-0x1ddd+-0x696+0x2475),_0x1b3341=Math['sin'](_0x1125fd),_0x4f6903=Math['cos'](_0x1125fd)*_0x4d4c34,_0x152b24=_0x48c6d2,_0x1e1447=_0x1b3341*_0x4d4c34,_0xa79a9c=0x7c4+0x228c+-0x2a4f*0x1-_0x2a8242/_0x19dd2f,_0x4ed8e2=-0x1*0x8bf+-0x174b+-0xd*-0x277-_0x4e8f19/_0x55373e;_0x3c529e['push'](_0x4f6903*_0xc7d127,_0x152b24*_0xc7d127,_0x1e1447*_0xc7d127),_0x313ea9['push'](_0x4f6903,_0x152b24,_0x1e1447),_0x5248d3['push'](_0xa79a9c,0x1856+-0x18b1+0x4*0x17-_0x4ed8e2);}}for(let _0x52efeb=0xf46+0x19df+-0x3*0xdb7;_0x52efeb<_0x55373e;++_0x52efeb)for(let _0x5ca2cb=0x47b+0x972+-0xded;_0x5ca2cb<_0x19dd2f;++_0x5ca2cb){const _0x526dfc=_0x52efeb*(_0x19dd2f+(-0x43*0x43+-0x113b+0x22c5))+_0x5ca2cb,_0x15956c=_0x526dfc+_0x19dd2f+(-0xab5+-0x1259+0x1d0f);_0x493bfe['push'](_0x526dfc+(-0x1c3a*-0x1+-0x1762+0x1*-0x4d7),_0x15956c,_0x526dfc),_0x493bfe['push'](_0x526dfc+(-0x160f+-0x311+-0x7*-0x397),_0x15956c+(-0x1d50+-0x675+-0x13*-0x1e2),_0x15956c);}this['positions']=_0x3c529e,this['normals']=_0x313ea9,this['uvs']=_0x5248d3,this['uvs1']=_0x5248d3,this['indices']=_0x493bfe,_0x2b82fc['calculateT'+'angents']&&(this['tangents']=fr(_0x3c529e,_0x313ea9,_0x5248d3,_0x493bfe));}}class p1 extends B0{constructor(_0x3fc0fe={}){const _0x492e38=_0x3fc0fe['latitudeBa'+'nds']??0x435*0x3+-0x249c+0x83*0x2f,_0x39ceb5=_0x3fc0fe['longitudeB'+'ands']??-0x74d+0xa81*0x1+-0xc9*0x4;super({'radius':0.5,'latitudeBands':_0x492e38,'longitudeBands':_0x39ceb5});const _0xa8f9bc=-0x2640+-0x1*-0x269e+-0x5e+0.1,_0x3f67dc=0x1fea+0x10d1+-0x9bf*0x5+0.95,_0x2216b0=_0x3f67dc*_0x3f67dc,_0x212794=this['positions'];for(let _0x20a742=0x5ce*-0x3+0x985+0x7e5*0x1;_0x20a742<_0x212794['length'];_0x20a742+=0x21dd*0x1+-0x1628+-0xbb2){const _0x6e8972=_0x212794[_0x20a742]/(-0x1cdb+-0x24e6+-0x3*-0x15eb+0.5);let _0x13ff72=_0x212794[_0x20a742+(-0x84e+0x6*0x5d1+-0x1a97)]/(-0x9ec+0x1e15+-0x1429+0.5);const _0x5c66e4=_0x212794[_0x20a742+(-0x9a6+-0xbf1+0x1599)]/(0x2*0x884+-0xc4*0xb+-0x89c+0.5);_0x13ff72<0x2472+0x680+-0x2af2&&(_0x13ff72*=-0x1*0x4ee+-0x1*-0x5cf+-0xf*0xf+0.3,_0x6e8972*_0x6e8972+_0x5c66e4*_0x5c66e4<_0x2216b0&&(_0x13ff72=-(0x1a*0x97+-0x4fd+0xa59*-0x1+0.1))),_0x13ff72+=_0xa8f9bc,_0x13ff72*=0x2*0x805+0x6f+-0x1079+0.5,_0x212794[_0x20a742+(-0x301*-0x8+-0x354+-0x1*0x14b3)]=_0x13ff72;}}}class So{static['create'](_0x5c4469,_0x40fa8c){switch(_0x40fa8c){case tw:return So['box'](_0x5c4469);case sw:return So['dome'](_0x5c4469);}return v['assert'](_0x40fa8c===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x40fa8c),So['infinite'](_0x5c4469);}static['infinite'](_0x2e8a15){return Ie['fromGeomet'+'ry'](_0x2e8a15,new $u(_0x2e8a15));}static['box'](_0x5174e3){return Ie['fromGeomet'+'ry'](_0x5174e3,new $u({'yOffset':0.5}));}static['dome'](_0xd1aa9a){const _0x316416=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x316416['normals']=void(-0x10b3+0x186d+-0x2*0x3dd),_0x316416['uvs']=void(0x17f2*-0x1+-0xc40+0x2432),Ie['fromGeomet'+'ry'](_0xd1aa9a,_0x316416);}}class m1{constructor(_0x1fcae0,_0x5e5074,_0x43da53,_0x565f9d,_0x5d8c9b){c(this,'meshInstan'+'ce',null);const _0x37f376=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x37f376['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x565f9d['encoding'])),_0x5d8c9b!==xo&&_0x37f376['setDefine']('SKYMESH',''),_0x565f9d['cubemap']&&_0x37f376['setDefine']('SKY_CUBEMA'+'P',''),_0x37f376['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x5e5074['skyboxHigh'+'lightMulti'+'plier']),_0x565f9d['cubemap']?_0x37f376['setParamet'+'er']('texture_cu'+'beMap',_0x565f9d):(_0x37f376['setParamet'+'er']('texture_en'+'vAtlas',_0x565f9d),_0x37f376['setParamet'+'er']('mipLevel',_0x5e5074['skyboxMip'])),_0x37f376['cull']=mo,_0x37f376['depthWrite']=!(-0x2b7*-0x3+-0x9*0x276+0xe02);const _0x3d4e7c=_0x5e5074['layers']['getLayerBy'+'Id'](vp);if(_0x3d4e7c){const _0x43ff50=So['create'](_0x1fcae0,_0x5d8c9b),_0x3218aa=new Le(_0x43ff50,_0x37f376,_0x43da53);this['meshInstan'+'ce']=_0x3218aa,_0x3218aa['cull']=!(0x9*0x17+-0x18b7+0x17e9*0x1),_0x3218aa['pick']=!(-0x20f3+-0x1a12+0x3b06),_0x3d4e7c['addMeshIns'+'tances']([_0x3218aa]),this['skyLayer']=_0x3d4e7c;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x142bea){c(this,'_type',xo),c(this,'_center',new T(-0x5*0x305+0xc24+-0x2f5*-0x1,0x72*0x3a+-0x1*0x1141+-0x892,0x2*0x92f+-0x2c3*0x7+-0x13*-0xd)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x142bea['device'],this['scene']=_0x142bea,this['center']=new T(-0x2c*-0x5a+0xb*-0x16d+0x37,0x1*0x2267+0x5*-0x295+-0x1*0x157d,-0x9c0+0x1c23+0x1263*-0x1),this['centerArra'+'y']=new Float32Array(-0x9dd*-0x1+-0x1*-0x1c95+-0x266f*0x1),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x4613f7){this['type']=_0x4613f7['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x4613f7['skyMeshPos'+'ition']??[-0x159c+-0x143+0x16df,-0xeaa+0x71*-0x10+0x15ba,0x16a+0xa82+0x1b4*-0x7])),this['node']['setLocalEu'+'lerAngles'](new T(_0x4613f7['skyMeshRot'+'ation']??[0x168a+0x1d2c+-0x33b6,0x121*-0x1+0x53f+0x20f*-0x2,0x26d3+0x286+-0x2959])),this['node']['setLocalSc'+'ale'](new T(_0x4613f7['skyMeshSca'+'le']??[-0x1*0x2106+0x9cf+0x1738,-0x1*0x101a+-0x1cb5*0x1+-0x2cd0*-0x1,0x22dc+0x190a+-0x3be5])),_0x4613f7['skyCenter']&&(this['_center']=new T(_0x4613f7['skyCenter']));}set['type'](_0x43fef5){this['_type']!==_0x43fef5&&(this['_type']=_0x43fef5,this['scene']['updateShad'+'ers']=!(0x1e64+0x1900*0x1+-0x3764),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x14c3b6){this['_center']['copy'](_0x14c3b6);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x23d6aa=this['scene']['_getSkybox'+'Tex']();_0x23d6aa&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x23d6aa,this['type']),this['scene']['fire']('set:skybox',_0x23d6aa));}['resetSkyMe'+'sh'](){var _0x57e76e;(_0x57e76e=this['skyMesh'])==null||_0x57e76e['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x28b42b,centerArray:_0x2e1501}=this,_0x4d71f8=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x28b42b,_0x4d71f8),_0x2e1501[-0xc7*-0x2c+-0xf47*0x1+-0xf*0x143]=_0x4d71f8['x'],_0x2e1501[0x22ea+0x252f+-0x4818]=_0x4d71f8['y'],_0x2e1501[0xb46+-0xcb*-0x1+-0x93*0x15]=_0x4d71f8['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x2e1501);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(0x4be*-0x5+-0x16f3+0x7c7*0x6);class g1{constructor(_0x4da575,_0x191a4f,_0x3efaa3){this['material']=_0x191a4f,this['layer']=_0x3efaa3,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x4da575),this['meshInstan'+'ce']=null;}['addLines'](_0x4832f7,_0x180d06){const _0x2ede25=this['positions'],_0x4a12e7=_0x4832f7['length'];for(let _0x204abe=-0x2048+0x21ad+-0x165;_0x204abe<_0x4a12e7;_0x204abe++){const _0x1b175b=_0x4832f7[_0x204abe];_0x2ede25['push'](_0x1b175b['x'],_0x1b175b['y'],_0x1b175b['z']);}const _0x18d969=this['colors'];if(_0x180d06['length'])for(let _0x499d05=-0x1adb+0x457*-0x1+0x1f32;_0x499d05<_0x4a12e7;_0x499d05++){const _0x4cb5a4=_0x180d06[_0x499d05];_0x18d969['push'](_0x4cb5a4['r'],_0x4cb5a4['g'],_0x4cb5a4['b'],_0x4cb5a4['a']);}else{for(let _0x5b4e08=0x11b*0x11+-0xed*-0x3+-0x1592;_0x5b4e08<_0x4a12e7;_0x5b4e08++)_0x18d969['push'](_0x180d06['r'],_0x180d06['g'],_0x180d06['b'],_0x180d06['a']);}}['addLinesAr'+'rays'](_0x495e1f,_0x24d004){const _0x103226=this['positions'];for(let _0x352b1d=0x3*0x30a+0x41*0x2b+-0x1*0x1409;_0x352b1d<_0x495e1f['length'];_0x352b1d+=0x43*-0x55+0x3c0+0x1282)_0x103226['push'](_0x495e1f[_0x352b1d],_0x495e1f[_0x352b1d+(0x26fa+-0x1b*0x25+-0x2312)],_0x495e1f[_0x352b1d+(-0x1*-0x1ebb+-0x265*-0xe+0x403f*-0x1)]);const _0x2d0c49=this['colors'];if(_0x24d004['length']){for(let _0x4c21d3=-0x1*0x8cf+0x635+0x6f*0x6;_0x4c21d3<_0x24d004['length'];_0x4c21d3+=-0x593*-0x3+-0x2a*-0xd+-0x12d7)_0x2d0c49['push'](_0x24d004[_0x4c21d3],_0x24d004[_0x4c21d3+(0xe2d+-0x1*0x24bb+0x168f)],_0x24d004[_0x4c21d3+(0x1bf1+0xb7c+-0x276b)],_0x24d004[_0x4c21d3+(0x12f*0x2+-0xeb1+0xc56)]);}else{const _0x5b02c4=_0x495e1f['length']/(0x5*0x2d4+-0x572+-0x8af);for(let _0x4b4a18=0x1efd+-0x6d0+-0x182d;_0x4b4a18<_0x5b02c4;_0x4b4a18++)_0x2d0c49['push'](_0x24d004['r'],_0x24d004['g'],_0x24d004['b'],_0x24d004['a']);}}['onPreRende'+'r'](_0x3941b9,_0x435fc8){this['positions']['length']>-0x1c64+-0x3*0x7f7+0x3449&&this['material']['transparen'+'t']===_0x435fc8&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(0xfb1+0xc80+-0x148*0x16)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x3941b9['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x28c*0x5+0x288+0x51a*0x2,this['colors']['length']=-0x2274+-0x3*0xbeb+-0x9*-0x7cd;}}class y1{constructor(_0x1ff25c){this['device']=_0x1ff25c,this['map']=new Map();}['getBatch'](_0x1eaf5e,_0x25f2bf){let _0x30dfd9=this['map']['get'](_0x1eaf5e);return _0x30dfd9||(_0x30dfd9=new g1(this['device'],_0x1eaf5e,_0x25f2bf),this['map']['set'](_0x1eaf5e,_0x30dfd9)),_0x30dfd9;}['onPreRende'+'r'](_0x4700ec,_0x1168c7){this['map']['forEach'](_0x21867b=>{_0x21867b['onPreRende'+'r'](_0x4700ec,_0x1168c7);});}['clear'](){this['map']['forEach'](_0x127576=>_0x127576['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x3e0ee5){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x3e0ee5,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x14cd69){const _0x387779=new Ra(x1);return _0x387779['blendType']=Kt,_0x387779['depthTest']=_0x14cd69,_0x387779['update'](),_0x387779;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x1c09+-0x2231*-0x1+-0x3e3a))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x1*0xdb0+0x1b57*0x1+-0x1483*0x2))),this['_materialN'+'oDepth'];}['getBatch'](_0x5757df,_0x39cfaf){let _0x5b98a8=this['batchesMap']['get'](_0x5757df);_0x5b98a8||(_0x5b98a8=new y1(this['device']),this['batchesMap']['set'](_0x5757df,_0x5b98a8)),this['allBatches']['add'](_0x5b98a8);const _0x5af929=_0x39cfaf?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x5b98a8['getBatch'](_0x5af929,_0x5757df);}['getShaderD'+'esc'](_0x1b1e89,_0x32a1fd){return this['shaderDesc'+'s']['has'](_0x1b1e89)||this['shaderDesc'+'s']['set'](_0x1b1e89,{'uniqueName':'DebugShade'+'r:'+_0x1b1e89,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x32a1fd,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x1b1e89);}['getTexture'+'ShaderDesc'](_0x550e5a){const _0x41cd96=Es['decodeFunc'](_0x550e5a);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x550e5a,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x41cd96+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x225a+-0x140*-0x17+-0x3*-0x1de+0.5),-(0x131c+0x1fba+-0x32d6+0.5),0x15ce+-0x15d5+-0x1*-0x7,0x32*0x74+-0x1*0x2033+0x1*0x98b+0.5,-(-0x103d*0x1+0x429*0x3+-0x3c2*-0x1+0.5),-0x23b*0x5+0x1430*0x1+-0x101*0x9,-(-0x362*0x6+0x1685+-0x239*0x1+0.5),0x7d6*0x1+0x2*0x139+-0x5e*0x1c+0.5,0x1d*0x116+-0x21b1*0x1+0x233,0x1*-0x20d2+-0xd48+0x7*0x696+0.5,0x3b*-0x5d+-0x1c1*0x8+0x511*0x7+0.5,-0x7*0x44b+0x1*-0x1d41+0x3b4e]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x558727,_0x181666,_0x275ce5,_0x569432,_0x5c14a2){if(!_0x569432){const _0x3af09b=this['getGraphNo'+'de'](_0x181666);_0x569432=new Le(_0x275ce5,_0x558727,_0x3af09b);}let _0x3d5103=this['layerMeshI'+'nstances']['get'](_0x5c14a2);_0x3d5103||(_0x3d5103=[],this['layerMeshI'+'nstances']['set'](_0x5c14a2,_0x3d5103)),_0x3d5103['push'](_0x569432);}['drawWireAl'+'ignedBox'](_0x1529d5,_0x5726c9,_0x5ecff4,_0x4fa413,_0x584777,_0x19f19a){if(_0x19f19a){const _0x2e7846=(_0x451efe,_0xba013a,_0x3ca71)=>{Ln['set'](_0x451efe,_0xba013a,_0x3ca71),_0x19f19a['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x2e7846(_0x1529d5['x'],_0x1529d5['y'],_0x1529d5['z']),_0x2e7846(_0x1529d5['x'],_0x5726c9['y'],_0x1529d5['z']),_0x2e7846(_0x1529d5['x'],_0x5726c9['y'],_0x1529d5['z']),_0x2e7846(_0x5726c9['x'],_0x5726c9['y'],_0x1529d5['z']),_0x2e7846(_0x5726c9['x'],_0x5726c9['y'],_0x1529d5['z']),_0x2e7846(_0x5726c9['x'],_0x1529d5['y'],_0x1529d5['z']),_0x2e7846(_0x5726c9['x'],_0x1529d5['y'],_0x1529d5['z']),_0x2e7846(_0x1529d5['x'],_0x1529d5['y'],_0x1529d5['z']),_0x2e7846(_0x1529d5['x'],_0x1529d5['y'],_0x5726c9['z']),_0x2e7846(_0x1529d5['x'],_0x5726c9['y'],_0x5726c9['z']),_0x2e7846(_0x1529d5['x'],_0x5726c9['y'],_0x5726c9['z']),_0x2e7846(_0x5726c9['x'],_0x5726c9['y'],_0x5726c9['z']),_0x2e7846(_0x5726c9['x'],_0x5726c9['y'],_0x5726c9['z']),_0x2e7846(_0x5726c9['x'],_0x1529d5['y'],_0x5726c9['z']),_0x2e7846(_0x5726c9['x'],_0x1529d5['y'],_0x5726c9['z']),_0x2e7846(_0x1529d5['x'],_0x1529d5['y'],_0x5726c9['z']),_0x2e7846(_0x1529d5['x'],_0x1529d5['y'],_0x1529d5['z']),_0x2e7846(_0x1529d5['x'],_0x1529d5['y'],_0x5726c9['z']),_0x2e7846(_0x1529d5['x'],_0x5726c9['y'],_0x1529d5['z']),_0x2e7846(_0x1529d5['x'],_0x5726c9['y'],_0x5726c9['z']),_0x2e7846(_0x5726c9['x'],_0x5726c9['y'],_0x1529d5['z']),_0x2e7846(_0x5726c9['x'],_0x5726c9['y'],_0x5726c9['z']),_0x2e7846(_0x5726c9['x'],_0x1529d5['y'],_0x1529d5['z']),_0x2e7846(_0x5726c9['x'],_0x1529d5['y'],_0x5726c9['z']);}else Jt['push'](_0x1529d5['x'],_0x1529d5['y'],_0x1529d5['z'],_0x1529d5['x'],_0x5726c9['y'],_0x1529d5['z'],_0x1529d5['x'],_0x5726c9['y'],_0x1529d5['z'],_0x5726c9['x'],_0x5726c9['y'],_0x1529d5['z'],_0x5726c9['x'],_0x5726c9['y'],_0x1529d5['z'],_0x5726c9['x'],_0x1529d5['y'],_0x1529d5['z'],_0x5726c9['x'],_0x1529d5['y'],_0x1529d5['z'],_0x1529d5['x'],_0x1529d5['y'],_0x1529d5['z'],_0x1529d5['x'],_0x1529d5['y'],_0x5726c9['z'],_0x1529d5['x'],_0x5726c9['y'],_0x5726c9['z'],_0x1529d5['x'],_0x5726c9['y'],_0x5726c9['z'],_0x5726c9['x'],_0x5726c9['y'],_0x5726c9['z'],_0x5726c9['x'],_0x5726c9['y'],_0x5726c9['z'],_0x5726c9['x'],_0x1529d5['y'],_0x5726c9['z'],_0x5726c9['x'],_0x1529d5['y'],_0x5726c9['z'],_0x1529d5['x'],_0x1529d5['y'],_0x5726c9['z'],_0x1529d5['x'],_0x1529d5['y'],_0x1529d5['z'],_0x1529d5['x'],_0x1529d5['y'],_0x5726c9['z'],_0x1529d5['x'],_0x5726c9['y'],_0x1529d5['z'],_0x1529d5['x'],_0x5726c9['y'],_0x5726c9['z'],_0x5726c9['x'],_0x5726c9['y'],_0x1529d5['z'],_0x5726c9['x'],_0x5726c9['y'],_0x5726c9['z'],_0x5726c9['x'],_0x1529d5['y'],_0x1529d5['z'],_0x5726c9['x'],_0x1529d5['y'],_0x5726c9['z']);this['getBatch'](_0x584777,_0x4fa413)['addLinesAr'+'rays'](Jt,_0x5ecff4),Jt['length']=-0x6dc*-0x5+0xb*0x1ba+-0x354a;}['drawWireSp'+'here'](_0x35f2f9,_0xf66a4c,_0x3748ca,_0x22038e,_0x5b39e6,_0x2aad6e){const _0x1f46ae=(-0xef6+0x1db7*-0x1+0x2caf)*Math['PI']/_0x22038e;let _0x46aaab=0x410+-0x7*0x4a8+-0x391*-0x8;for(let _0x1462fa=-0xd2+0x24ca+0x47f*-0x8;_0x1462fa<_0x22038e;_0x1462fa++){const _0x16e70f=Math['sin'](_0x46aaab),_0x1e4fb5=Math['cos'](_0x46aaab);_0x46aaab+=_0x1f46ae;const _0x1429ea=Math['sin'](_0x46aaab),_0x3675f9=Math['cos'](_0x46aaab);Jt['push'](_0x35f2f9['x']+_0xf66a4c*_0x16e70f,_0x35f2f9['y'],_0x35f2f9['z']+_0xf66a4c*_0x1e4fb5),Jt['push'](_0x35f2f9['x']+_0xf66a4c*_0x1429ea,_0x35f2f9['y'],_0x35f2f9['z']+_0xf66a4c*_0x3675f9),Jt['push'](_0x35f2f9['x']+_0xf66a4c*_0x16e70f,_0x35f2f9['y']+_0xf66a4c*_0x1e4fb5,_0x35f2f9['z']),Jt['push'](_0x35f2f9['x']+_0xf66a4c*_0x1429ea,_0x35f2f9['y']+_0xf66a4c*_0x3675f9,_0x35f2f9['z']),Jt['push'](_0x35f2f9['x'],_0x35f2f9['y']+_0xf66a4c*_0x16e70f,_0x35f2f9['z']+_0xf66a4c*_0x1e4fb5),Jt['push'](_0x35f2f9['x'],_0x35f2f9['y']+_0xf66a4c*_0x1429ea,_0x35f2f9['z']+_0xf66a4c*_0x3675f9);}this['getBatch'](_0x2aad6e,_0x5b39e6)['addLinesAr'+'rays'](Jt,_0x3748ca),Jt['length']=-0x2*0xc23+0x898+0xfae;}['getGraphNo'+'de'](_0x6eeff4){const _0x11fe0a=new De('ImmediateD'+'ebug');return _0x11fe0a['worldTrans'+'form']=_0x6eeff4,_0x11fe0a['_dirtyWorl'+'d']=_0x11fe0a['_dirtyNorm'+'al']=!(0x5*0x3f3+-0x183*-0x11+0x2d71*-0x1),_0x11fe0a;}['onPreRende'+'rLayer'](_0x622e2c,_0xeeb9a8,_0x2e1402){if(this['batchesMap']['forEach']((_0x37cf8f,_0x7d2452)=>{_0x7d2452===_0x622e2c&&_0x37cf8f['onPreRende'+'r'](_0xeeb9a8,_0x2e1402);}),!this['updatedLay'+'ers']['has'](_0x622e2c)){this['updatedLay'+'ers']['add'](_0x622e2c);const _0x3dfc80=this['layerMeshI'+'nstances']['get'](_0x622e2c);if(_0x3dfc80){for(let _0x4b8aee=0x2611+0xb18+-0x9d5*0x5;_0x4b8aee<_0x3dfc80['length'];_0x4b8aee++)_0xeeb9a8['push'](_0x3dfc80[_0x4b8aee]);_0x3dfc80['length']=0x1*0x7f7+0x1*0x265b+-0x62*0x79;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x13d41b=>_0x13d41b['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(0x1*0xcb9+-0x3f6*0x2+-0x4cd,0x9d3+0xd*0x2b4+-0x2cf7,-0x5b6*-0x4+0x116f+0xd6d*-0x3)),c(this,'density',-0x3*-0xbc1+0x869*0x3+-0x3c7e),c(this,'start',-0x265*0xd+0xd32+0x7*0x290),c(this,'end',-0x244e+0xce5*0x1+0x1b51);}}class ci extends ce{constructor(_0x2fbe02){super(),c(this,'ambientBak'+'e',!(-0x4a*0x65+-0xecc+0x2bff)),c(this,'ambientBak'+'eOcclusion'+'Brightness',-0x2362+0x24c7+-0x165),c(this,'ambientBak'+'eOcclusion'+'Contrast',-0xfdd+-0x269*0x1+0x1246),c(this,'ambientLig'+'ht',new Y(0x14e+-0x49*0x72+0xf9a*0x2,-0x11*-0x7f+0xde*0x1a+0x1*-0x1efb,-0xc*-0x91+0xb*-0xcd+0x5*0x67)),c(this,'ambientLum'+'inance',-0x14fc*0x1+-0x2*-0xc5+0x1372),c(this,'exposure',0x26a2+0xadd*0x1+0x46*-0xb5),c(this,'lightmapSi'+'zeMultipli'+'er',-0x446*0x1+0x2*0xa67+0x1087*-0x1),c(this,'lightmapMa'+'xResolutio'+'n',0x48f+-0x2*-0x793+-0xbb5),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(0x1ae6+-0x2f*-0x6a+-0x2e5b)),c(this,'lightmapHD'+'R',!(0x19f3*-0x1+0x26f0+-0xcfc)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0x1535+-0xb1f+0x5d*0x59)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x2fbe02,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x2fbe02,this['_gravity']=new T(-0x671+0x1575+-0xf04,-(-0x17a0+0xd53*-0x1+-0x93f*-0x4+0.8000000000000007),0x1652*0x1+0x2453+-0x1*0x3aa5),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x1*0x5f+0x1*0x1219+-0x11b9,this['_skyboxLum'+'inance']=0x138+0x2624+-0x275c,this['_skyboxMip']=0x1*-0xdca+-0x52a+0x12f4*0x1,this['_skyboxHig'+'hlightMult'+'iplier']=0x130*0x2+-0x16e6+-0x1*-0x1487,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x1276+-0x14df+0x2*0x13ab),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0xd4e*-0x2+0x2*0x3ef+-0x2279*0x1,this['_ambientBa'+'keSpherePa'+'rt']=-0x2257+-0x10*-0x12b+0x1*0xfa7+0.4,this['_lightmapF'+'ilterRange']=-0x1d4b*-0x1+0x301+0x2042*-0x1,this['_lightmapF'+'ilterSmoot'+'hness']=-0x171e+-0x1*-0x11b7+-0x3*-0x1cd+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x4*0x978+-0x245e+-0xc1*0x2),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x6df+0x23ac+-0x2a8b*0x1);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x1714*-0x1+-0x20a4+0x990),this['_shaderVer'+'sion']=0x2542+0x25e4+-0x2*0x2593,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x1beb97){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x1beb97),0x21d2+0x1d*-0xe2+-0x837,-0x11*-0x15d+0x17e9*0x1+-0x2e17);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x2d97c7){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x2d97c7,0xac*0x4+0x7f*0x42+-0x38b*0xa+0.001,-0xfb*0x22+0x2200+0x1*-0xa9);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x2fec17){if(this['device']['isWebGPU']&&!_0x2fec17){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x2fec17){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x2fec17;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x568fb6){_0x568fb6!==this['_envAtlas']&&(this['_envAtlas']=_0x568fb6,_0x568fb6&&(_0x568fb6['addressU']=ae,_0x568fb6['addressV']=ae,_0x568fb6['minFilter']=st,_0x568fb6['magFilter']=st,_0x568fb6['mipmaps']=!(-0x1c2f+0x1*-0x1a37+0x3667)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x1a3c92){const _0x2f1465=this['_layers'];this['_layers']=_0x1a3c92,this['fire']('set:layers',_0x2f1465,_0x1a3c92);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x4565a4){this['_lightmapF'+'ilterRange']=Math['max'](_0x4565a4,-0xf4*0x11+0xaf5*0x1+0x53f+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x235add){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x235add,-0x2*-0x4ee+-0x1*-0x214b+-0x2b27+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x5a8def){_0x5a8def=_0x5a8def||[];const _0x586267=this['_prefilter'+'edCubemaps'];(_0x586267['length']!==_0x5a8def['length']||_0x586267['some']((_0x4e1059,_0xa07b4b)=>_0x4e1059!==_0x5a8def[_0xa07b4b]))&&(_0x5a8def['length']===-0x7f6+-0x8*0x473+0x2b94&&_0x5a8def['every'](_0x1dd3ac=>!!_0x1dd3ac)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x5a8def,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x5a8def['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x42f76c){_0x42f76c!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x42f76c,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x3cea01){_0x3cea01!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x3cea01,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x1fe666){_0x1fe666!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x1fe666,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0xe1f6b0){_0xe1f6b0!==this['_skyboxMip']&&(this['_skyboxMip']=_0xe1f6b0,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x2b2a37){_0x2b2a37!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x2b2a37,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x29714f){if(!this['_skyboxRot'+'ation']['equals'](_0x29714f)){const _0x5a04d3=_0x29714f['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x29714f),_0x5a04d3?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x29714f,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x5a04d3&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x213*0xb+-0x2eb*0x9+0x3114),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0xea7ba0,_0x3774ef,_0x4a9dc1=Y['WHITE'],_0x5c975f=!(0x140f+0x4a1+-0x62c*0x4),_0x5cb69f=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5cb69f,_0x5c975f)['addLines']([_0xea7ba0,_0x3774ef],[_0x4a9dc1,_0x4a9dc1]);}['drawLines'](_0x553ad9,_0x3e1626,_0x3ace5f=!(-0x54c+-0x1483+0x1*0x19cf),_0x7cdf85=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x7cdf85,_0x3ace5f)['addLines'](_0x553ad9,_0x3e1626);}['drawLineAr'+'rays'](_0x4e6cca,_0x179bd8,_0x207704=!(0x1aab+-0x1da3+0x2f8),_0x201297=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x201297,_0x207704)['addLinesAr'+'rays'](_0x4e6cca,_0x179bd8);}['applySetti'+'ngs'](_0x267c6e){const _0x55f90f=_0x267c6e['physics'],_0x135922=_0x267c6e['render'];this['_gravity']['set'](_0x55f90f['gravity'][0x5*0x72f+-0x1*-0x1151+0x1a9e*-0x2],_0x55f90f['gravity'][-0x1578+-0x693*0x5+0x3658],_0x55f90f['gravity'][-0xa25+-0x1895+0x22bc]),this['ambientLig'+'ht']['set'](_0x135922['global_amb'+'ient'][0x8a+0x25f5+0x1*-0x267f],_0x135922['global_amb'+'ient'][-0x1e25*0x1+-0x4a2*0x8+0x4336],_0x135922['global_amb'+'ient'][0x1*-0x1f10+-0x1075+0x2f87]),this['ambientLum'+'inance']=_0x135922['ambientLum'+'inance'],this['fog']['type']=_0x135922['fog'],this['fog']['color']['set'](_0x135922['fog_color'][-0x209*0x1+-0x6*-0x2a5+-0xdd5],_0x135922['fog_color'][0x1b53+0x55d+-0x20af],_0x135922['fog_color'][-0xc*-0x150+0x1570+-0x252e]),this['fog']['start']=_0x135922['fog_start'],this['fog']['end']=_0x135922['fog_end'],this['fog']['density']=_0x135922['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x135922['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x135922['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x135922['lightmapMo'+'de'],this['exposure']=_0x135922['exposure'],this['_skyboxInt'+'ensity']=_0x135922['skyboxInte'+'nsity']??-0x204+0x138c+-0x1*0x1187,this['_skyboxLum'+'inance']=_0x135922['skyboxLumi'+'nance']??-0xb*0x39+0x16*-0xe+0x51c7,this['_skyboxMip']=_0x135922['skyboxMip']??0x1372+-0x120f+-0x163,_0x135922['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x135922['skyboxRota'+'tion'][0x25d*0x10+0x2511*0x1+-0x4ae1],_0x135922['skyboxRota'+'tion'][0x9a*0x16+-0x126f*0x1+0x534],_0x135922['skyboxRota'+'tion'][0x15ed+0x1211+-0x13fe*0x2])),this['sky']['applySetti'+'ngs'](_0x135922),this['clusteredL'+'ightingEna'+'bled']=_0x135922['clusteredL'+'ightingEna'+'bled']??!(-0x6b*0x18+0x15f6+-0xbed),this['lighting']['applySetti'+'ngs'](_0x135922),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x2bbb24=>{_0x135922['hasOwnProp'+'erty'](_0x2bbb24)&&(this[_0x2bbb24]=_0x135922[_0x2bbb24]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x22fea8=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x22fea8[[-0x1*-0xe14+0x23bc+0x63a*-0x8,0x2b*-0x3a+0x1e78+-0x1*0x14b9,-0x2+-0xdb2+0xdb7,0x1*-0x6a+0x1589+-0x151b,-0xd3*0x9+-0x177+-0x1*-0x8e7,0x1*0x2309+0x14cb+0x3*-0x129a][this['_skyboxMip']]]||this['_envAtlas']||_0x22fea8[-0x5*0x5c6+0x8ed*-0x2+0x2eb8]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x22fea8[-0x1d9b+-0x1*-0x22d3+-0x538]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x7*-0x48b+0xf22+-0x2eef);}['setSkybox'](_0x2fcb66){_0x2fcb66?(this['skybox']=_0x2fcb66[-0x6d9*-0x2+-0x1c3d*-0x1+-0x29ef]||null,_0x2fcb66[0xd04+-0x13eb+0x6e8]&&!_0x2fcb66[-0x160a+0xb*0x5+0x15d4]['cubemap']?this['envAtlas']=_0x2fcb66[-0xe7e+0x2686+-0x1807]:this['prefiltere'+'dCubemaps']=_0x2fcb66['slice'](0x1982*-0x1+-0x173d+0x30c0)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x4fffa5,_0x2be89f,_0x12459d){this['device']=_0x4fffa5,this['inverseBin'+'dPose']=_0x2be89f,this['boneNames']=_0x12459d;}}const b1=[0xbce*0x2+-0x500+-0x129c,0x2f*0x63+0xb*-0x1bb+-0x2c*-0x5,-0xd72+-0xd*0x41+-0x1*-0x10c0,0x135+-0x2*0x1147+0x1*0x2159,0x3*-0x463+-0x254f+0x3278,0x2351*0x1+-0x1eec+-0x464,0x1346+-0x1*-0x1282+0xd*-0x2e8,0x26*-0x4+-0x6b*0x3b+-0x1af*-0xf,-0x4be*0x6+0x745+-0x1c4*-0xc,0x1baa+-0x15*-0x1ce+0x2*-0x20c8,-0x407+-0x2038+0x243f,0x1b59+-0x25f*0x2+-0x169a],w1=[-0x130c+-0xa3d+-0x11*-0x1b9,-0x5*-0x107+-0x18d1+0x13af,0x5f+0x1a*-0xd6+-0x13*-0x120,-0xde4+0x261e+-0x1838,-0x287*-0x3+0x20a*0x7+-0x15d8,-0x1a12+-0xc2a+0x263d];class T1 extends ce{constructor(_0x21479d,_0x5053f1){super(),this['_device']=_0x21479d,this['_pixelsPer'+'Unit']=_0x5053f1&&_0x5053f1['pixelsPerU'+'nit']!==void(0x6b*-0x1+0x1a28+-0x1*0x19bd)?_0x5053f1['pixelsPerU'+'nit']:-0x2*-0x3a+0x643*-0x2+0xc13,this['_renderMod'+'e']=_0x5053f1&&_0x5053f1['renderMode']!==void(0x1f35+-0x1*-0x14cb+0x2*-0x1a00)?_0x5053f1['renderMode']:Ti,this['_atlas']=_0x5053f1&&_0x5053f1['atlas']!==void(0x1e1b+-0x120c+0x405*-0x3)?_0x5053f1['atlas']:null,this['_frameKeys']=_0x5053f1&&_0x5053f1['frameKeys']!==void(-0xebe+-0x1159+0x2017)?_0x5053f1['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x2*-0x589+0x203e+-0x152b),this['_meshesDir'+'ty']=!(0x133e+0xf2*-0x3+-0x1067),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x1df162){this['_frameKeys']=_0x1df162,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x32c+0x2*-0x110c+0x2544):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x1df162);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x565844){_0x565844!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x565844,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*-0xca8+0x1*-0x811+0x2f*-0x19):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x565844));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x311677){this['_pixelsPer'+'Unit']!==_0x311677&&(this['_pixelsPer'+'Unit']=_0x311677,this['fire']('set:pixels'+'PerUnit',_0x311677),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x12b6+-0xc88+-0x62e):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x238bc7){if(this['_renderMod'+'e']===_0x238bc7)return;const _0x593535=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x238bc7,this['fire']('set:render'+'Mode',_0x238bc7),(_0x593535===Ti||_0x238bc7===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2dd+0xbde+-0xebb):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x5bef0a=this['_meshes']['length'];for(let _0x1e4151=-0x1375*0x1+0x7*0xa9+0xed6;_0x1e4151<_0x5bef0a;_0x1e4151++){const _0x5be9ba=this['_meshes'][_0x1e4151];_0x5be9ba&&_0x5be9ba['destroy']();}const _0x3a98dc=this['_frameKeys']['length'];this['_meshes']=new Array(_0x3a98dc);const _0x38c292=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x183ea9=0x76*-0xb+0x1be1+-0x16cf*0x1;_0x183ea9<_0x3a98dc;_0x183ea9++){const _0x37f76b=this['_atlas']['frames'][this['_frameKeys'][_0x183ea9]];this['_meshes'][_0x183ea9]=_0x37f76b?_0x38c292['call'](this,_0x37f76b):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x64597f){const _0x150a86=_0x64597f['rect'],_0x625517=this['_atlas']['texture']['width'],_0x1398ac=this['_atlas']['texture']['height'],_0x3269b5=_0x150a86['z']/this['_pixelsPer'+'Unit'],_0x4a59d4=_0x150a86['w']/this['_pixelsPer'+'Unit'],_0x48ffea=_0x64597f['pivot']['x'],_0xdad528=_0x64597f['pivot']['y'],_0x29fd4d=[-_0x48ffea*_0x3269b5,-_0xdad528*_0x4a59d4,0x5db+-0x131e*0x2+-0x3*-0xacb,(0xb0b+0x1b0a+-0x985*0x4-_0x48ffea)*_0x3269b5,-_0xdad528*_0x4a59d4,0xc06+-0x1*-0x6e0+-0x12e6,(0x1*-0x15f7+0x227f+-0xc87-_0x48ffea)*_0x3269b5,(0xef*0x26+-0x1a38+-0x67*0x17-_0xdad528)*_0x4a59d4,-0x8*0x486+0x1a49+0x34d*0x3,-_0x48ffea*_0x3269b5,(-0x2*-0x856+-0x1501*0x1+-0x5*-0xde-_0xdad528)*_0x4a59d4,0x50*0x65+-0xd56+-0x123a],_0x50584b=_0x150a86['x']/_0x625517,_0x5af213=-0x4*0x46c+0x8*0x3fa+-0x1*0xe1f-_0x150a86['y']/_0x1398ac,_0x3e4b22=(_0x150a86['x']+_0x150a86['z'])/_0x625517,_0x3ff5e7=0xa98+0x1e1f+-0x28b6-(_0x150a86['y']+_0x150a86['w'])/_0x1398ac,_0x1540d3=[_0x50584b,_0x5af213,_0x3e4b22,_0x5af213,_0x3e4b22,_0x3ff5e7,_0x50584b,_0x3ff5e7],_0x2e3f26=new pn();return _0x2e3f26['positions']=_0x29fd4d,_0x2e3f26['normals']=b1,_0x2e3f26['uvs']=_0x1540d3,_0x2e3f26['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x2e3f26);}['_create9Sl'+'iceMesh'](){const _0x1245ba=W['ONE'],_0x26e10c=0x1da6+0x1*0xa3c+-0x27df,_0x194590=-0x15*0x13+-0x1d63+0x1ef5,_0x42303b=[],_0x2d22bc=[],_0x4d501c=[],_0x33ade6=[];let _0x2f31d9=-0x1b1c+-0x1a08+0x3524;for(let _0x1d0437=0x4d7+0x1d40+-0x2217;_0x1d0437<=_0x26e10c;_0x1d0437++){const _0x3257e7=_0x1d0437===-0x2*0x77d+-0x10e7*-0x1+-0x1ed||_0x1d0437===_0x26e10c?-0x8*-0x355+0x21ad+-0x3c55:-0xf01+0x1025*0x2+0x452*-0x4;for(let _0x2add85=-0x1412+-0x581+-0x1*-0x1993;_0x2add85<=_0x194590;_0x2add85++){const _0x58c6d2=-_0x1245ba['x']+(0x15d4+-0x2167*-0x1+0x3739*-0x1)*_0x1245ba['x']*(_0x1d0437<=-0x2*-0xf8e+-0x1*-0x3a1+0x72*-0x4e?-0x1c27*0x1+-0x2066+0x3*0x142f:0x1bb7+-0x1*0x10a4+-0xb10)/_0x26e10c,_0x1dcea3=0x2*-0x652+0x129+0xb7b,_0x403af2=-(-_0x1245ba['y']+(0x75*0x4f+0x1d2*-0x13+-0x183)*_0x1245ba['y']*(_0x2add85<=-0x164d+-0x6a5*0x5+0x3787?0x22e5+0x13ac+-0x3691:0x24e3+-0xa6e+-0x1a72)/_0x194590),_0x14eae1=_0x2add85===-0x2013+-0x13d*-0x10+-0xc43*-0x1||_0x2add85===_0x194590?-0xaa4+-0x2033+0x2ad7:0x9b9*0x1+-0x1da*-0x7+-0x16ae;_0x42303b['push'](-_0x58c6d2,_0x1dcea3,_0x403af2),_0x2d22bc['push'](-0x340*0x2+-0x6c*-0x4+0x70*0xb,0x1*0xe35+-0xe05+0x1*-0x2f,-0xb*-0x2bd+-0x6ab*0x5+0xce*0x4),_0x4d501c['push'](_0x3257e7,_0x14eae1),_0x1d0437<_0x26e10c&&_0x2add85<_0x194590&&(_0x33ade6['push'](_0x2f31d9+_0x194590+(0xb7d+0x1548+-0x20c4),_0x2f31d9+(0x35b*0x3+0x3*0x6e6+-0x1ec2),_0x2f31d9),_0x33ade6['push'](_0x2f31d9+_0x194590+(-0x154*-0x5+0x5*-0x531+-0x9a9*-0x2),_0x2f31d9+_0x194590+(0x9*0x243+-0x1b*-0x9e+0x2503*-0x1),_0x2f31d9+(-0x12a1+-0xf*-0xf3+0x465))),_0x2f31d9++;}}const _0x54aa0c=new pn();return _0x54aa0c['positions']=_0x42303b,_0x54aa0c['normals']=_0x2d22bc,_0x54aa0c['uvs']=_0x4d501c,_0x54aa0c['indices']=_0x33ade6,Ie['fromGeomet'+'ry'](this['_device'],_0x54aa0c);}['_onSetFram'+'es'](_0x2e4382){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x323*0x7+-0x41*-0x3b+-0x24f0):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x538ada,_0x1b4d63){const _0x515f66=this['_frameKeys']['indexOf'](_0x538ada);_0x515f66<0x1831+-0x6bf+0x27e*-0x7||(_0x1b4d63?this['renderMode']===Ti&&(this['_meshes'][_0x515f66]=this['_createSim'+'pleMesh'](_0x1b4d63)):this['_meshes'][_0x515f66]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x1a67e6){const _0x27af1f=this['_frameKeys']['indexOf'](_0x1a67e6);_0x27af1f<0x1*-0x209+0xf62*-0x1+0x116b||(this['_meshes'][_0x27af1f]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x4be+0x201e+0x544*-0x7),this['_meshesDir'+'ty']=!(0x1a09+-0xf*-0x22f+-0x3ac9);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x1614+0x1*0x19f1+-0x3004),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x10f0+-0xb30+-0x5bf);}['destroy'](){for(const _0x17665a of this['_meshes'])_0x17665a&&_0x17665a['destroy']();this['_meshes']['length']=-0x4b3*-0x3+-0x97*-0x20+-0x20f9;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x515960){this['_texture']=_0x515960,this['fire']('set:textur'+'e',_0x515960);}get['texture'](){return this['_texture'];}set['frames'](_0x5ca082){this['_frames']=_0x5ca082,this['fire']('set:frames',_0x5ca082);}get['frames'](){return this['_frames'];}['setFrame'](_0x29b88a,_0x4e8492){let _0x965f7a=this['_frames'][_0x29b88a];_0x965f7a?(_0x965f7a['rect']['copy'](_0x4e8492['rect']),_0x965f7a['pivot']['copy'](_0x4e8492['pivot']),_0x965f7a['border']['copy'](_0x4e8492['border'])):(_0x965f7a={'rect':_0x4e8492['rect']['clone'](),'pivot':_0x4e8492['pivot']['clone'](),'border':_0x4e8492['border']['clone']()},this['_frames'][_0x29b88a]=_0x965f7a),this['fire']('set:frame',_0x29b88a['toString'](),_0x965f7a);}['removeFram'+'e'](_0x3ca2d7){const _0x58e647=this['_frames'][_0x3ca2d7];_0x58e647&&(delete this['_frames'][_0x3ca2d7],this['fire']('remove:fra'+'me',_0x3ca2d7['toString'](),_0x58e647));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x5ab82f,_0x314ec1,_0x295c41,_0x2518bc){this['time']=_0x5ab82f,this['position']=_0x314ec1,this['rotation']=_0x295c41,this['scale']=_0x2518bc;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',-0x5*-0x1f6+-0x1*0xcbc+0x2*0x177),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x1c6061){return this['_nodeDict'][_0x1c6061];}['addNode'](_0x349d97){this['_nodes']['push'](_0x349d97),this['_nodeDict'][_0x349d97['_name']]=_0x349d97;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(-0x17f*-0x6+0x7*0x58f+-0xe3*0x36),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x1d9a10){this['_targetNod'+'e']=_0x1d9a10;}}class Wd{constructor(_0x4b3055){c(this,'looping',!(-0x21d*0xf+-0x1*-0x7d9+0xbed*0x2)),(this['_animation']=null,this['_time']=0xb04+-0x15d7+0xad3*0x1,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x187a90=_0x507e16=>{const _0x36f4af=new E1();_0x36f4af['_name']=_0x507e16['name'],this['_interpola'+'tedKeys']['push'](_0x36f4af),this['_interpola'+'tedKeyDict'][_0x507e16['name']]=_0x36f4af,this['_currKeyIn'+'dices'][_0x507e16['name']]=-0x1227*-0x1+-0x961+-0x8c6;for(let _0x302f2b=-0x11ed*-0x2+-0x7db*-0x2+0xce4*-0x4;_0x302f2b<_0x507e16['_children']['length'];_0x302f2b++)_0x187a90(_0x507e16['_children'][_0x302f2b]);};_0x187a90(_0x4b3055);}set['animation'](_0x462a9c){this['_animation']=_0x462a9c,this['currentTim'+'e']=-0x114b*-0x1+0x8e5*-0x3+-0x259*-0x4;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x1dd75d){this['_time']=_0x1dd75d;const _0x4d2840=this['_interpola'+'tedKeys']['length'];for(let _0x14e877=0x79+-0x25a8+0x252f;_0x14e877<_0x4d2840;_0x14e877++){const _0x1de2e9=this['_interpola'+'tedKeys'][_0x14e877]['_name'];this['_currKeyIn'+'dices'][_0x1de2e9]=0x2fe*-0xc+0x8b*0x1d+0x1429;}this['addTime'](-0x1ac0+-0x599*-0x1+-0x5*-0x43b),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0xf68004){if(this['_animation']!==null){const _0x1e2bee=this['_animation']['_nodes'],_0xeae096=this['_animation']['duration'];if(this['_time']===_0xeae096&&!this['looping'])return;if(this['_time']+=_0xf68004,this['_time']>_0xeae096){this['_time']=this['looping']?-0x16e9+0x1866+-0x17d:_0xeae096;for(let _0x4cbd70=0x152d+-0x36d*0x4+0x1*-0x779;_0x4cbd70<_0x1e2bee['length'];_0x4cbd70++){const _0x3aba28=_0x1e2bee[_0x4cbd70]['_name'];this['_currKeyIn'+'dices'][_0x3aba28]=0xac9+-0x44f+0x33d*-0x2;}}else{if(this['_time']<-0x1fb3*0x1+-0x385*-0x3+0x1524){this['_time']=this['looping']?_0xeae096:-0x1ed3+-0x1*0x103+0x1fd6;for(let _0x60a2df=-0x1*-0x1e3d+-0x1adf+-0x35e*0x1;_0x60a2df<_0x1e2bee['length'];_0x60a2df++){const _0x160742=_0x1e2bee[_0x60a2df],_0xd12965=_0x160742['_name'];this['_currKeyIn'+'dices'][_0xd12965]=_0x160742['_keys']['length']-(-0x22fc+-0xb78+0x2e76);}}}const _0x81b967=_0xf68004>=-0xdd0+-0x2394+0x3164?-0x1*0x4e3+0x855+-0x1*0x371:-(0x8*0x3d5+0x1c3+-0x6*0x567);for(let _0x3c0777=-0x521+-0xcd0*-0x3+-0x214f;_0x3c0777<_0x1e2bee['length'];_0x3c0777++){const _0x27866b=_0x1e2bee[_0x3c0777],_0x336c53=_0x27866b['_name'],_0x4c6677=_0x27866b['_keys'],_0x298442=this['_interpola'+'tedKeyDict'][_0x336c53];if(_0x298442===void(0x7a*-0x1b+-0x1*-0x21dc+-0x14fe)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x336c53);continue;}let _0x1971e8=!(-0x1*-0x24d7+0x763*-0x1+-0x1*0x1d73);if(_0x4c6677['length']!==0x473+-0x1461+0xfef)for(let _0xcfc536=this['_currKeyIn'+'dices'][_0x336c53];_0xcfc536<_0x4c6677['length']-(0x709*-0x1+0x29f*0x5+-0x611)&&_0xcfc536>=-0x1*-0x2609+-0x907+-0x1d02;_0xcfc536+=_0x81b967){const _0x34c1df=_0x4c6677[_0xcfc536],_0x90a5b1=_0x4c6677[_0xcfc536+(0x1*0x4ae+0x1*0x200b+-0x24b8)];if(_0x34c1df['time']<=this['_time']&&_0x90a5b1['time']>=this['_time']){const _0x43400c=(this['_time']-_0x34c1df['time'])/(_0x90a5b1['time']-_0x34c1df['time']);_0x298442['_pos']['lerp'](_0x34c1df['position'],_0x90a5b1['position'],_0x43400c),_0x298442['_quat']['slerp'](_0x34c1df['rotation'],_0x90a5b1['rotation'],_0x43400c),_0x298442['_scale']['lerp'](_0x34c1df['scale'],_0x90a5b1['scale'],_0x43400c),_0x298442['_written']=!(-0x1aaa+0xdc4*-0x2+0x3632),this['_currKeyIn'+'dices'][_0x336c53]=_0xcfc536,_0x1971e8=!(-0x264c*-0x1+-0x3*-0x5d5+-0xcf*0x45);break;}}(_0x4c6677['length']===0xbc4+0x1d1e+-0x1c7*0x17||!_0x1971e8&&this['_time']===0x25b5+0x5b5*0x6+0xa3*-0x71&&this['looping'])&&(_0x298442['_pos']['copy'](_0x4c6677[0xc9a+0xc+-0x1*0xca6]['position']),_0x298442['_quat']['copy'](_0x4c6677[0xffb+-0x96b*-0x4+-0x35a7]['rotation']),_0x298442['_scale']['copy'](_0x4c6677[0x1fb4+-0x1061+-0xf53]['scale']),_0x298442['_written']=!(-0xc7*-0xd+0xdcd+-0x17e8));}}}['blend'](_0x4de6b9,_0x5ebf8f,_0x474187){const _0x22cd45=this['_interpola'+'tedKeys']['length'];for(let _0x34867d=0x1e9e+0x1a16+0x2fc*-0x13;_0x34867d<_0x22cd45;_0x34867d++){const _0xfcf4c9=_0x4de6b9['_interpola'+'tedKeys'][_0x34867d],_0x23a1d7=_0x5ebf8f['_interpola'+'tedKeys'][_0x34867d],_0x297b57=this['_interpola'+'tedKeys'][_0x34867d];_0xfcf4c9['_written']&&_0x23a1d7['_written']?(_0x297b57['_quat']['slerp'](_0xfcf4c9['_quat'],_0x5ebf8f['_interpola'+'tedKeys'][_0x34867d]['_quat'],_0x474187),_0x297b57['_pos']['lerp'](_0xfcf4c9['_pos'],_0x5ebf8f['_interpola'+'tedKeys'][_0x34867d]['_pos'],_0x474187),_0x297b57['_scale']['lerp'](_0xfcf4c9['_scale'],_0x23a1d7['_scale'],_0x474187),_0x297b57['_written']=!(0x3*-0x175+-0x1199+0x15f8)):_0xfcf4c9['_written']?(_0x297b57['_quat']['copy'](_0xfcf4c9['_quat']),_0x297b57['_pos']['copy'](_0xfcf4c9['_pos']),_0x297b57['_scale']['copy'](_0xfcf4c9['_scale']),_0x297b57['_written']=!(-0x1c+-0x1a1f+0x1a3b)):_0x23a1d7['_written']&&(_0x297b57['_quat']['copy'](_0x23a1d7['_quat']),_0x297b57['_pos']['copy'](_0x23a1d7['_pos']),_0x297b57['_scale']['copy'](_0x23a1d7['_scale']),_0x297b57['_written']=!(0x2389+-0xc7d+0xb86*-0x2));}}['setGraph'](_0x3179db){if(this['graph']=_0x3179db,_0x3179db)for(let _0x2f2643=0x1ca*0x3+0x24a9+-0x35*0xcb;_0x2f2643<this['_interpola'+'tedKeys']['length'];_0x2f2643++){const _0x3336ed=this['_interpola'+'tedKeys'][_0x2f2643],_0x4eb124=_0x3179db['findByName'](_0x3336ed['_name']);this['_interpola'+'tedKeys'][_0x2f2643]['setTarget'](_0x4eb124);}else{for(let _0x49b667=-0x1*0xb4e+0x2269+-0x171b;_0x49b667<this['_interpola'+'tedKeys']['length'];_0x49b667++)this['_interpola'+'tedKeys'][_0x49b667]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x15a78d=-0x1*0x10a3+0x15*-0x119+0x13d8*0x2;_0x15a78d<this['_interpola'+'tedKeys']['length'];_0x15a78d++){const _0x1802f2=this['_interpola'+'tedKeys'][_0x15a78d];if(_0x1802f2['_written']){const _0x1037b9=_0x1802f2['getTarget']();_0x1037b9['localPosit'+'ion']['copy'](_0x1802f2['_pos']),_0x1037b9['localRotat'+'ion']['copy'](_0x1802f2['_quat']),_0x1037b9['localScale']['copy'](_0x1802f2['_scale']),_0x1037b9['_dirtyLoca'+'l']||_0x1037b9['_dirtifyLo'+'cal'](),_0x1802f2['_written']=!(0x119d*0x2+0x205b+-0x4394);}}}}const ys=(-0x1*-0x1349+-0x17*-0x162+0x5*-0xa37)/(0x25d1+0x89+-0x261a),Bs=-0x126c+-0xc*0x1e3+0x2911-ys*(-0x212c+0x2488+-0x35a);class Bp extends pn{constructor(_0x45e535,_0x50b34e,_0x18df8c,_0x2fd54f,_0x13f166,_0x228f50){super();const _0x58ea5d=new T(),_0x3bb118=new T(),_0x3af656=new T(),_0x3fc65c=new T(),_0xa3ce4c=new T(),_0x18ce71=new T(),_0x10b300=[],_0x18e657=[],_0x4361c3=[],_0x28e222=[],_0x320b2d=[];let _0x1240bd;if(_0x18df8c>0x23ba+-0x2*-0xf91+-0x1*0x42dc){for(let _0x58732e=0x3b*0x49+0xb0*0x16+-0x1ff3;_0x58732e<=_0x2fd54f;_0x58732e++)for(let _0x252149=0x19*-0x97+0x24b*0xf+-0x13a6;_0x252149<=_0x13f166;_0x252149++){const _0x47622e=_0x252149/_0x13f166*(0x2ab*-0x8+0x79*-0x45+0x35f7)*Math['PI']-Math['PI'],_0x241d1a=Math['sin'](_0x47622e),_0x1372b8=Math['cos'](_0x47622e);_0xa3ce4c['set'](_0x241d1a*_0x45e535,-_0x18df8c/(0xe59*-0x2+0x1819+0x3*0x189),_0x1372b8*_0x45e535),_0x3fc65c['set'](_0x241d1a*_0x50b34e,_0x18df8c/(-0x21d*0x8+0x1*0x967+0x1*0x783),_0x1372b8*_0x50b34e),_0x58ea5d['lerp'](_0xa3ce4c,_0x3fc65c,_0x58732e/_0x2fd54f),_0x3bb118['sub2'](_0x3fc65c,_0xa3ce4c)['normalize'](),_0x18ce71['set'](_0x1372b8,0x16e1+-0xcaa+-0x1*0xa37,-_0x241d1a),_0x3af656['cross'](_0x18ce71,_0x3bb118)['normalize'](),_0x10b300['push'](_0x58ea5d['x'],_0x58ea5d['y'],_0x58ea5d['z']),_0x18e657['push'](_0x3af656['x'],_0x3af656['y'],_0x3af656['z']);let _0x235114=_0x252149/_0x13f166,_0x53eeb9=_0x58732e/_0x2fd54f;_0x4361c3['push'](_0x235114,0x12*-0x9+0x1f*0x7f+0x3*-0x4ea-_0x53eeb9);const _0x3295ab=_0x53eeb9;if(_0x53eeb9=_0x235114,_0x235114=_0x3295ab,_0x235114=_0x235114*Bs+ys,_0x53eeb9=_0x53eeb9*Bs+ys,_0x235114/=0x2084+0x1*0x1192+-0x3213,_0x28e222['push'](_0x235114,0x1dac+-0x2124+0x7*0x7f-_0x53eeb9),_0x58732e<_0x2fd54f&&_0x252149<_0x13f166){const _0x1461bd=_0x58732e*(_0x13f166+(0xf29*-0x2+0x1*0x20bd+-0x26a))+_0x252149,_0x1bc33e=_0x58732e*(_0x13f166+(0x1d09*0x1+-0x29f*-0x5+0x17*-0x1d5))+(_0x252149+(-0x1b*-0xab+0x141+0x1349*-0x1)),_0xbcac5b=(_0x58732e+(-0x1d*-0x6f+0x1*-0x1231+0x1*0x59f))*(_0x13f166+(-0x1620+0x1463+0x1*0x1be))+_0x252149,_0x444435=(_0x58732e+(-0x2a1*-0x4+0x1*-0x224f+0x17cc))*(_0x13f166+(-0x160d+-0x1f*-0x10f+-0xac3))+(_0x252149+(-0x4*0x46b+-0x30a*-0x8+-0x6a3));_0x320b2d['push'](_0x1461bd,_0x1bc33e,_0xbcac5b),_0x320b2d['push'](_0x1bc33e,_0x444435,_0xbcac5b);}}}if(_0x228f50){const _0x16e03b=Math['floor'](_0x13f166/(0xb51+0xb*-0x107+-0x2*0x1)),_0x16a380=_0x13f166,_0x27b9a3=_0x18df8c/(0x1132*0x1+-0x15e4+-0x2b*-0x1c);for(let _0x4f43df=-0x1*-0x1fdf+-0xf6*-0x19+0x1*-0x37e5;_0x4f43df<=_0x16e03b;_0x4f43df++){const _0x5027e7=_0x4f43df*Math['PI']*(0x3*-0xe8+0xf1*-0x7+0x94f+0.5)/_0x16e03b,_0x498f2e=Math['sin'](_0x5027e7),_0x2b51b6=Math['cos'](_0x5027e7);for(let _0x21e593=0x33*-0x3b+-0x1*-0x1d61+-0x2*0x8d0;_0x21e593<=_0x16a380;_0x21e593++){const _0x307960=_0x21e593*(0x463*-0x2+-0xd19*0x1+0x15e1)*Math['PI']/_0x16a380-Math['PI']/(-0x2*0x3a0+0x7*0x2e3+-0xcf3),_0x4cf562=Math['sin'](_0x307960),_0x3c9a35=Math['cos'](_0x307960)*_0x498f2e,_0x56f85c=_0x2b51b6,_0x25b789=_0x4cf562*_0x498f2e;let _0x1dadcd=0x3*0x6f5+0x1e*0x74+-0x2276-_0x21e593/_0x16a380,_0x1b2b02=-0x1713+0x2323+-0xc0f-_0x4f43df/_0x16e03b;_0x10b300['push'](_0x3c9a35*_0x50b34e,_0x56f85c*_0x50b34e+_0x27b9a3,_0x25b789*_0x50b34e),_0x18e657['push'](_0x3c9a35,_0x56f85c,_0x25b789),_0x4361c3['push'](_0x1dadcd,-0x1*-0x90b+0x3*-0x291+-0x157-_0x1b2b02),_0x1dadcd=_0x1dadcd*Bs+ys,_0x1b2b02=_0x1b2b02*Bs+ys,_0x1dadcd/=-0x1e1a+0x23cc+-0x5af,_0x1b2b02/=-0x3*0x8dd+-0x48a+0x1f24,_0x1dadcd+=(-0x6ec+-0x2ef+0x9dc)/(-0x3*0x55f+-0x2*0x22+0x1064),_0x28e222['push'](_0x1dadcd,-0x3d7*-0x3+-0x146c+0x78*0x13-_0x1b2b02);}}_0x1240bd=(_0x2fd54f+(0x1281*0x1+-0x14*0xa+-0x11b8))*(_0x13f166+(-0x1545+0x478+0x10ce));for(let _0x27d079=-0x2c5*0x1+0x7*-0x144+0xe5*0xd;_0x27d079<_0x16e03b;++_0x27d079)for(let _0x1ca135=0x2f*-0xc1+0x2402+-0x93*0x1;_0x1ca135<_0x16a380;++_0x1ca135){const _0x5df22f=_0x27d079*(_0x16a380+(0x22b7+0x18a9+-0x3b5f))+_0x1ca135,_0x11e24a=_0x5df22f+_0x16a380+(0x1*-0x1edf+0x9d4+0x150c);_0x320b2d['push'](_0x1240bd+_0x5df22f+(-0x50c*0x4+-0x3*0xb6b+0x3672),_0x1240bd+_0x11e24a,_0x1240bd+_0x5df22f),_0x320b2d['push'](_0x1240bd+_0x5df22f+(0x9dc+-0xb0a+0x12f),_0x1240bd+_0x11e24a+(0x267d+-0x1*0x249d+-0x1*0x1df),_0x1240bd+_0x11e24a);}for(let _0x368ca3=0x5b5*0x1+0x1a0+0x755*-0x1;_0x368ca3<=_0x16e03b;_0x368ca3++){const _0x1d10cb=Math['PI']*(-0x121*-0xd+0x10df*0x1+-0x1f8c+0.5)+_0x368ca3*Math['PI']*(-0x1*0x140b+-0x55e+0x1969+0.5)/_0x16e03b,_0x5756c9=Math['sin'](_0x1d10cb),_0x558ee3=Math['cos'](_0x1d10cb);for(let _0x50d80a=0x1e06+-0x17d7+-0x62f;_0x50d80a<=_0x16a380;_0x50d80a++){const _0x1c1ba2=_0x50d80a*(-0xf11+-0x1*0xb5+0xfc8)*Math['PI']/_0x16a380-Math['PI']/(0xe72+0x1d*-0xbf+0x1*0x733),_0x1c490e=Math['sin'](_0x1c1ba2),_0x5e32ea=Math['cos'](_0x1c1ba2)*_0x5756c9,_0x1020f0=_0x558ee3,_0xf8b120=_0x1c490e*_0x5756c9;let _0x3ad7ec=-0x24e*-0x6+-0x3da+-0x9f9-_0x50d80a/_0x16a380,_0x591faa=0xfa8+0x1b10+-0x2d*0xf3-_0x368ca3/_0x16e03b;_0x10b300['push'](_0x5e32ea*_0x50b34e,_0x1020f0*_0x50b34e-_0x27b9a3,_0xf8b120*_0x50b34e),_0x18e657['push'](_0x5e32ea,_0x1020f0,_0xf8b120),_0x4361c3['push'](_0x3ad7ec,0x1f36+-0x15+0x4*-0x7c8-_0x591faa),_0x3ad7ec=_0x3ad7ec*Bs+ys,_0x591faa=_0x591faa*Bs+ys,_0x3ad7ec/=-0x3*0x10a+-0x697*-0x3+0x11c*-0xf,_0x591faa/=0x2337+-0x14a1*0x1+-0xe93,_0x3ad7ec+=(0x1d7*0x1+0xe77*0x1+-0x104c)/(0x2e*0x3b+0x2f0+-0xd87),_0x28e222['push'](_0x3ad7ec,-0x1*0x1bde+0x801*-0x2+0x2be1-_0x591faa);}}_0x1240bd=(_0x2fd54f+(-0x2138+-0xa9b*-0x1+0x169e))*(_0x13f166+(0x43*0x7+-0x5f6+0x422))+(_0x16a380+(-0x201a+-0x833*0x2+0x3*0x102b))*(_0x16e03b+(0x1e0d+0x53*0x6f+0x73*-0x93));for(let _0x59ba74=-0x30c+0x7*-0x16+0x3a6*0x1;_0x59ba74<_0x16e03b;++_0x59ba74)for(let _0x5987d8=0x6e7+-0x9f*0x24+0x3*0x527;_0x5987d8<_0x16a380;++_0x5987d8){const _0x4efb95=_0x59ba74*(_0x16a380+(0x3*0x60+-0xd*0x43+-0x8*-0x49))+_0x5987d8,_0x271641=_0x4efb95+_0x16a380+(-0x1*0x9fd+-0x308+-0x683*-0x2);_0x320b2d['push'](_0x1240bd+_0x4efb95+(0x1755+-0x183a+0xe6),_0x1240bd+_0x271641,_0x1240bd+_0x4efb95),_0x320b2d['push'](_0x1240bd+_0x4efb95+(-0x702+0x1f*-0x30+0xcd3),_0x1240bd+_0x271641+(0x1*0x1e4b+0xba4*0x1+-0x29ee),_0x1240bd+_0x271641);}}else{if(_0x1240bd=(_0x2fd54f+(0x20fc*0x1+0x187*0x3+-0x259*0x10))*(_0x13f166+(0xbe7+0x23f3*-0x1+0x2f*0x83)),_0x45e535>0x8b9+0x1eb3+0x3a*-0xae)for(let _0x106671=-0xe1d+-0x5*-0x4d5+-0x4*0x283;_0x106671<_0x13f166;_0x106671++){const _0x26f909=_0x106671/_0x13f166*(-0xf1*0x1d+-0x1*0xfd3+0x2b22)*Math['PI'],_0x563ecd=Math['sin'](_0x26f909),_0x5ed452=-_0x18df8c/(0x1690+0x3b1+-0x1a3f*0x1),_0x2be610=Math['cos'](_0x26f909);let _0x13ca51=0xa8e+-0xd0a+-0x1*-0x27d-(_0x563ecd+(0x26b5+-0x1859+0xf*-0xf5))/(0x1661+0xdf3*-0x2+0x587),_0x121452=(_0x2be610+(-0x1*-0x165b+0x57*-0x3a+-0x2a4))/(0x9*-0xb+0x1*0x1f25+-0x1ec0);_0x10b300['push'](_0x563ecd*_0x45e535,_0x5ed452,_0x2be610*_0x45e535),_0x18e657['push'](0x48+0x2141+-0x2189,-(0xa6*-0xd+-0x8*-0x3ee+-0x1c5*0xd),-0xdcb+0x3b*-0x4e+0x3*0xa97),_0x4361c3['push'](_0x13ca51,0x7b4*-0x4+-0x5d*0x43+0x3728-_0x121452),_0x13ca51=_0x13ca51*Bs+ys,_0x121452=_0x121452*Bs+ys,_0x13ca51/=0x63+-0xfd7+0xf77,_0x121452/=-0x2003+-0x35b*-0x6+0xbe4,_0x13ca51+=(0x1aca+0x2077+-0x3b40)/(-0x1*-0x2301+-0x1a48+-0x8b6),_0x28e222['push'](_0x13ca51,0x1312*-0x1+-0x2a*-0x5d+0x3d1*0x1-_0x121452),_0x106671>-0x876+-0x1*0x98f+0x301*0x6&&_0x320b2d['push'](_0x1240bd,_0x1240bd+_0x106671,_0x1240bd+_0x106671-(-0x64f+-0x19c*0xc+0xa4*0x28));}if(_0x1240bd+=_0x13f166,_0x50b34e>0xacc+-0x4be+-0x60e)for(let _0x32bcd7=0xbf2+0x21b4+0x2*-0x16d3;_0x32bcd7<_0x13f166;_0x32bcd7++){const _0x14f74b=_0x32bcd7/_0x13f166*(-0x1f0+-0x6+-0x1c*-0x12)*Math['PI'],_0x4b541d=Math['sin'](_0x14f74b),_0x31ca24=_0x18df8c/(-0x1ca3+0x1*-0x215e+-0xc67*-0x5),_0x13df62=Math['cos'](_0x14f74b);let _0x51fb5=0xbef+0x2119+-0x1*0x2d07-(_0x4b541d+(0xbf1+0x121*0x18+-0x2708))/(-0x32*0x2f+-0x335*-0x7+-0xd43),_0x50db80=(_0x13df62+(0x48c+0x799*-0x2+0xaa7))/(0x99a*-0x4+-0xe*-0x10f+-0x25c*-0xa);_0x10b300['push'](_0x4b541d*_0x50b34e,_0x31ca24,_0x13df62*_0x50b34e),_0x18e657['push'](0x22f1*0x1+-0x42e+-0x1ec3,0xf80+-0x6b2*-0x1+-0x17*0xf7,0x2160+-0x31*0x6+-0x203a),_0x4361c3['push'](_0x51fb5,0x1ae6+0x1a*-0xcb+-0x647-_0x50db80),_0x51fb5=_0x51fb5*Bs+ys,_0x50db80=_0x50db80*Bs+ys,_0x51fb5/=0x7fe+-0x46*-0x43+-0x1a4d*0x1,_0x50db80/=0x16f8+-0x2*-0x332+-0x1d59,_0x51fb5+=(-0x3bc+0x1da3+-0x19e5)/(-0x17*0x98+-0x1*0xd0a+-0x81*-0x35),_0x28e222['push'](_0x51fb5,-0x14a1+0x188*-0x13+0x31ba-_0x50db80),_0x32bcd7>-0x354+0x23ba+-0x2065*0x1&&_0x320b2d['push'](_0x1240bd,_0x1240bd+_0x32bcd7-(0x15*0xf+-0x927+0x1*0x7ed),_0x1240bd+_0x32bcd7);}}this['positions']=_0x10b300,this['normals']=_0x18e657,this['uvs']=_0x4361c3,this['uvs1']=_0x28e222,this['indices']=_0x320b2d;}}class C1 extends Bp{constructor(_0x587c22={}){const _0x3e2685=_0x587c22['radius']??-0x2d+0xaf7*-0x3+-0x11*-0x1f2+0.3,_0xebfb02=_0x587c22['height']??0xbc*-0x5+0x16dc+0x3*-0x665,_0x149432=_0x587c22['heightSegm'+'ents']??-0x1cff+-0x24d7*0x1+0xd2b*0x5,_0x1cc70c=_0x587c22['sides']??0x1444+-0x29f+-0x1191;super(_0x3e2685,_0x3e2685,_0xebfb02-(-0xa14+-0x657*0x1+-0x1d*-0x91)*_0x3e2685,_0x149432,_0x1cc70c,!(0x864*-0x1+0x104c*-0x2+0x147e*0x2)),_0x587c22['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x425bef={}){const _0x25a1d4=_0x425bef['baseRadius']??0xc6a+-0x17c+-0xaee+0.5,_0x5989e0=_0x425bef['peakRadius']??-0xab*-0x31+-0x16*-0xd4+0x32f3*-0x1,_0x4746f6=_0x425bef['height']??-0x214a*0x1+0x3d2+-0x1*-0x1d79,_0x432f7b=_0x425bef['heightSegm'+'ents']??-0x16dc+0x260d+-0xf2c,_0x266734=_0x425bef['capSegment'+'s']??0x1*0x17a3+0x244d+-0x3bde;super(_0x25a1d4,_0x5989e0,_0x4746f6,_0x432f7b,_0x266734,!(-0x35*0x5f+0x55b+0xe51)),_0x425bef['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x161e80={}){const _0x578791=_0x161e80['radius']??0x1*0x1fcd+0x1a8*0x11+0x3bf5*-0x1+0.5,_0x48d2aa=_0x161e80['height']??0x97*0x31+0x941*0x4+0x8f*-0x76,_0x30b186=_0x161e80['heightSegm'+'ents']??0x11*0x7c+-0x29*-0xd3+0x11b*-0x26,_0x471369=_0x161e80['capSegment'+'s']??-0x2*0x2dd+0x78f*-0x1+0xd5d;super(_0x578791,_0x578791,_0x48d2aa,_0x30b186,_0x471369,!(-0x1*-0xa7e+0x133+0x2c*-0x44)),_0x161e80['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x2c131a={}){super();const _0x5701fd=_0x2c131a['halfExtent'+'s']??new W(-0x1*-0x23ec+-0xf5e+-0x148e+0.5,0x1f*0xeb+0x3*-0x509+0x2*-0x6ad+0.5),_0x345f0b=_0x2c131a['widthSegme'+'nts']??-0xb2*-0xa+0x2*0xf1+-0x3d*0x25,_0x273b80=_0x2c131a['lengthSegm'+'ents']??0x4a9+0x24e*0x7+-0x14c6,_0xa4838b=[],_0x49abb4=[],_0x29cd77=[],_0x3671ab=[];let _0x20b864=-0x182*0x7+0x409+0x685;for(let _0x4eff44=-0x116a*0x1+0x2632+-0x14c8;_0x4eff44<=_0x345f0b;_0x4eff44++)for(let _0x16563b=0x1*0xae7+-0x265f+-0x8*-0x36f;_0x16563b<=_0x273b80;_0x16563b++){const _0x324762=-_0x5701fd['x']+(0x1f56+0x1800+-0x3754)*_0x5701fd['x']*_0x4eff44/_0x345f0b,_0x290228=0x5*-0x442+0x81f+0x1*0xd2b,_0x1d07ac=-(-_0x5701fd['y']+(0x765+-0x15b2+0xe4f)*_0x5701fd['y']*_0x16563b/_0x273b80),_0x10f291=_0x4eff44/_0x345f0b,_0x4952a4=_0x16563b/_0x273b80;_0xa4838b['push'](_0x324762,_0x290228,_0x1d07ac),_0x49abb4['push'](-0x238e+0x120+0x4e*0x71,0x1*0x19c1+-0x92*0x5+-0x3d1*0x6,-0x2*-0x70b+0x63e+0x2*-0xa2a),_0x29cd77['push'](_0x10f291,-0x1fa5*-0x1+0x8be*0x1+0x2862*-0x1-_0x4952a4),_0x4eff44<_0x345f0b&&_0x16563b<_0x273b80&&(_0x3671ab['push'](_0x20b864+_0x273b80+(-0x5*0x6dc+-0x1*0x1311+0x355e),_0x20b864+(-0xf7d+0x1*0x26ce+-0x1750),_0x20b864),_0x3671ab['push'](_0x20b864+_0x273b80+(-0x1660+0xfd4+0x1*0x68d),_0x20b864+_0x273b80+(-0x3*-0x553+0x1*-0x17c7+-0xc8*-0xa),_0x20b864+(0x76a+0x172c+-0x1e95))),_0x20b864++;}this['positions']=_0xa4838b,this['normals']=_0x49abb4,this['uvs']=_0x29cd77,this['uvs1']=_0x29cd77,this['indices']=_0x3671ab,_0x2c131a['calculateT'+'angents']&&(this['tangents']=fr(_0xa4838b,_0x49abb4,_0x29cd77,_0x3671ab));}}class I1 extends pn{constructor(_0x2b4ac2={}){super();const _0x17cc19=_0x2b4ac2['tubeRadius']??-0x631*0x3+0x1d09+-0x2*0x53b+0.2,_0x4ac667=_0x2b4ac2['ringRadius']??-0xba6+0x2*0x883+-0x560+0.3,_0x5289ce=(_0x2b4ac2['sectorAngl'+'e']??0x8e*-0x17+-0x6d*-0x4b+-0x1*0x11c5)*N['DEG_TO_RAD'],_0x2899c0=_0x2b4ac2['segments']??0xd26+0xea4+-0x1bac,_0x38667e=_0x2b4ac2['sides']??-0x1ebb+0x8*0x35b+0x1*0x3f7,_0x45ed1c=[],_0x56b53a=[],_0x2a8e39=[],_0x561a1e=[];for(let _0x10c661=-0x1*-0x15a8+0xc91+-0x1*0x2239;_0x10c661<=_0x38667e;_0x10c661++)for(let _0x5e7600=0x23e+0xfda+0x243*-0x8;_0x5e7600<=_0x2899c0;_0x5e7600++){const _0xbb2a59=Math['cos'](_0x5289ce*_0x5e7600/_0x2899c0)*(_0x4ac667+_0x17cc19*Math['cos']((0x2590+-0x724+-0x1e6a)*Math['PI']*_0x10c661/_0x38667e)),_0x340435=Math['sin']((0x2c1*-0x9+-0xee7+0x27b2)*Math['PI']*_0x10c661/_0x38667e)*_0x17cc19,_0x5536bb=Math['sin'](_0x5289ce*_0x5e7600/_0x2899c0)*(_0x4ac667+_0x17cc19*Math['cos']((0x2431+-0x1b6*0x15+-0x41)*Math['PI']*_0x10c661/_0x38667e)),_0x1fe16a=Math['cos'](_0x5289ce*_0x5e7600/_0x2899c0)*Math['cos']((-0x1d53*0x1+0x2e*0x42+-0x15*-0xd5)*Math['PI']*_0x10c661/_0x38667e),_0x3758b7=Math['sin']((-0xeec+0x1aa2+0xd6*-0xe)*Math['PI']*_0x10c661/_0x38667e),_0x4895d3=Math['sin'](_0x5289ce*_0x5e7600/_0x2899c0)*Math['cos']((0x210d+0x76e+-0x2879)*Math['PI']*_0x10c661/_0x38667e),_0x52a9e1=_0x10c661/_0x38667e,_0x5a413f=-0xfd9+-0x3c6*0xa+0x3596-_0x5e7600/_0x2899c0;if(_0x45ed1c['push'](_0xbb2a59,_0x340435,_0x5536bb),_0x56b53a['push'](_0x1fe16a,_0x3758b7,_0x4895d3),_0x2a8e39['push'](_0x52a9e1,-0x67*-0x33+0x1*0xc9d+0xb0b*-0x3-_0x5a413f),_0x10c661<_0x38667e&&_0x5e7600<_0x2899c0){const _0x215752=_0x10c661*(_0x2899c0+(0x1972+0x583*0x2+-0x2477))+_0x5e7600,_0x1fc1c8=(_0x10c661+(-0x186+-0x51a+0x6a1))*(_0x2899c0+(0x16a+0x52*-0x1c+-0x5*-0x183))+_0x5e7600,_0x138695=_0x10c661*(_0x2899c0+(0x1*-0x4f+0xc05+-0xbb5))+(_0x5e7600+(0x13fb+0x97*0x1d+-0x2515*0x1)),_0x51073f=(_0x10c661+(0x9e+0x4*0x3e5+-0x1031))*(_0x2899c0+(0x791+0x1b7b+-0x1*0x230b))+(_0x5e7600+(0x2593+-0xdd7+-0x1b*0xe1));_0x561a1e['push'](_0x215752,_0x1fc1c8,_0x138695),_0x561a1e['push'](_0x1fc1c8,_0x51073f,_0x138695);}}this['positions']=_0x45ed1c,this['normals']=_0x56b53a,this['uvs']=_0x2a8e39,this['uvs1']=_0x2a8e39,this['indices']=_0x561a1e,_0x2b4ac2['calculateT'+'angents']&&(this['tangents']=fr(_0x45ed1c,_0x56b53a,_0x2a8e39,_0x561a1e));}}class D1{constructor(_0x2f8cfc,_0x52cb18){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x2f8cfc,this['_isClearin'+'gCache']=!(0xab1+-0xe*0x133+0x61a),this['_precached']=!(-0x21ba+0x4f*0x55+0x780),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x64d154=new A0();_0x52cb18['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x64d154,_0x52cb18,null,[],gn,null),_0x52cb18['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x52cb18,null,Rp,null),_0x2f8cfc['on']('destroy:sh'+'ader',_0x518add=>{this['removeFrom'+'Cache'](_0x518add);});}['destroy'](){this['clearCache']();}['register'](_0x36f586,_0x5f3a8b){this['_generator'+'s']['has'](_0x36f586)||this['_generator'+'s']['set'](_0x36f586,_0x5f3a8b);}['unregister'](_0x263db6){this['_generator'+'s']['has'](_0x263db6)&&this['_generator'+'s']['delete'](_0x263db6);}['isRegister'+'ed'](_0x28fa24){return this['_generator'+'s']['has'](_0x28fa24);}['generateSh'+'aderDefini'+'tion'](_0x23aac6,_0x347245,_0x4e0647,_0x587b59){var _0x2b49a5,_0x30cd70;let _0x1c69c5=this['definition'+'sCache']['get'](_0x4e0647);if(!_0x1c69c5){let _0x35bb36;(_0x2b49a5=_0x587b59['litOptions'])!=null&&_0x2b49a5['lights']&&(_0x35bb36=_0x587b59['litOptions']['lights'],_0x587b59['litOptions']['lights']=_0x35bb36['map'](_0x40c7d6=>{const _0x4b72e5=_0x40c7d6['clone']?_0x40c7d6['clone']():_0x40c7d6;return _0x4b72e5['key']=_0x40c7d6['key'],_0x4b72e5;})),this['storeNewPr'+'ogram'](_0x347245,_0x587b59),(_0x30cd70=_0x587b59['litOptions'])!=null&&_0x30cd70['lights']&&(_0x587b59['litOptions']['lights']=_0x35bb36),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x347245+'\x20key\x20'+_0x4e0647+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x19c704=this['_device'];_0x1c69c5=_0x23aac6['createShad'+'erDefiniti'+'on'](_0x19c704,_0x587b59),_0x1c69c5['name']=_0x1c69c5['name']??(_0x587b59['pass']?_0x347245+'-pass:'+_0x587b59['pass']:_0x347245),this['definition'+'sCache']['set'](_0x4e0647,_0x1c69c5);}return _0x1c69c5;}['getCachedS'+'hader'](_0x192733){return this['processedC'+'ache']['get'](_0x192733);}['setCachedS'+'hader'](_0x26aa88,_0x3a9f9a){this['processedC'+'ache']['set'](_0x26aa88,_0x3a9f9a);}['getProgram'](_0x47a848,_0x3cebff,_0x5621d3,_0x25d301){const _0x59cf73=this['_generator'+'s']['get'](_0x47a848);if(!_0x59cf73)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x47a848),null;const _0x56d82e=_0x59cf73['generateKe'+'y'](_0x3cebff),_0x135bed=hn(_0x56d82e),_0x47c085=_0x5621d3['generateKe'+'y'](this['_device']),_0x307788=hn(_0x47c085),_0x49307c=_0x135bed+'#'+_0x307788;let _0x262b27=this['getCachedS'+'hader'](_0x49307c);if(!_0x262b27){const _0x5dbd1e=this['generateSh'+'aderDefini'+'tion'](_0x59cf73,_0x47a848,_0x135bed,_0x3cebff);v['assert'](_0x5dbd1e);let _0x1aeecb='',_0x3eec9e;_0x3cebff['pass']!==void(0x1a59+0x1549+0x367*-0xe)&&(_0x3eec9e=Ks['get'](this['_device'])['getByIndex'](_0x3cebff['pass']),_0x1aeecb='-'+_0x3eec9e['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x25d301,'shaderPassInfo':_0x3eec9e,'definition':_0x5dbd1e});const _0x29fe64={'name':''+_0x5dbd1e['name']+_0x1aeecb+'-proc','attributes':_0x5dbd1e['attributes'],'vshader':_0x5dbd1e['vshader'],'vincludes':_0x5dbd1e['vincludes'],'fincludes':_0x5dbd1e['fincludes'],'fshader':_0x5dbd1e['fshader'],'processingOptions':_0x5621d3,'shaderLanguage':_0x5dbd1e['shaderLang'+'uage'],'meshUniformBufferFormat':_0x5dbd1e['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x5dbd1e['meshBindGr'+'oupFormat']};_0x262b27=new i0(this['_device'],_0x29fe64),v['call'](()=>{_0x262b27['_generatio'+'nKey']=_0x56d82e,_0x262b27['_processin'+'gKey']=_0x47c085;}),this['setCachedS'+'hader'](_0x49307c,_0x262b27);}return _0x262b27;}['storeNewPr'+'ogram'](_0x44d6d5,_0x12a37d){let _0x349c3d={};if(_0x44d6d5==='standard'){const _0x1d4c25=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x12a37d['pass']);for(const _0x558ff8 in _0x12a37d)(_0x12a37d['hasOwnProp'+'erty'](_0x558ff8)&&_0x1d4c25[_0x558ff8]!==_0x12a37d[_0x558ff8]||_0x558ff8==='pass')&&(_0x349c3d[_0x558ff8]=_0x12a37d[_0x558ff8]);for(const _0x514616 in _0x12a37d['litOptions'])_0x349c3d[_0x514616]=_0x12a37d['litOptions'][_0x514616];}else _0x349c3d=_0x12a37d;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x44d6d5,'options':_0x349c3d}));}['dumpProgra'+'ms'](){let _0x225db1='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x225db1+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x5e0*-0x1+0x3*-0x27f+0xb*0x137]&&(_0x225db1+='\x0a\x09'+this['_programsC'+'ollection'][-0x1*-0x4ff+0x913+-0xe12]);for(let _0x11d5c6=-0x1e87+-0x17*-0xf1+0x8e1;_0x11d5c6<this['_programsC'+'ollection']['length'];++_0x11d5c6)_0x225db1+=',\x0a\x09'+this['_programsC'+'ollection'][_0x11d5c6];_0x225db1+='\x0a];\x0a',_0x225db1+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x225db1+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x225db1+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x52becd=document['createElem'+'ent']('a');_0x52becd['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x225db1)),_0x52becd['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x52becd['style']['display']='none',document['body']['appendChil'+'d'](_0x52becd),_0x52becd['click'](),document['body']['removeChil'+'d'](_0x52becd);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x24af+-0x2d0+-0x1*-0x277f),this['processedC'+'ache']['forEach'](_0x12e000=>{_0x12e000['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x241a+-0x1375+0x3790);}['removeFrom'+'Cache'](_0x392723){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x5602a9,_0x14036b)=>{_0x392723===_0x5602a9&&this['processedC'+'ache']['delete'](_0x14036b);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x303f1b){const _0x192eeb=Ks['get'](this['_device'])['getByIndex'](_0x303f1b);return _0x303f1b===rl||_0x303f1b===Oa||_0x303f1b===il||_0x192eeb['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x366320){if(_0x366320){const _0x3a294f=new Array(_0x366320['length']);for(let _0x2f7c5a=-0x1a6b*0x1+-0x425+0x1e9*0x10;_0x2f7c5a<_0x366320['length'];_0x2f7c5a++){if(_0x366320[_0x2f7c5a]['name']==='standard'){const _0x3ba990=_0x366320[_0x2f7c5a]['options'],_0xe7fe15=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x3ba990['pass']);for(const _0x58337e in _0xe7fe15)_0xe7fe15['hasOwnProp'+'erty'](_0x58337e)&&_0x3ba990[_0x58337e]===void(-0x5*0x2ff+0x14df+-0x74*0xd)&&(_0x3ba990[_0x58337e]=_0xe7fe15[_0x58337e]);}_0x3a294f[_0x2f7c5a]=this['getProgram'](_0x366320[_0x2f7c5a]['name'],_0x366320[_0x2f7c5a]['options']);}}this['_precached']=!(0x1dc5*-0x1+0x1*-0x2546+0x430b);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),$d=new _e(),N_=new _e(),B1=new Y(0xb2d*-0x1+-0x1*0x2397+0x2ec5,-0x1e65*-0x1+0xe41+-0x40f*0xb,0x9*0x309+-0x11f1+-0x960,-0x14f*-0xd+0xc75+0x2*-0xebc+0.4),qd=-0x3f7+0x266*0xb+-0x166b+0.28209479177387814;class N1{constructor(_0x3b26af,_0x3863d6,_0x2857c5,_0xc874b0,_0x53f6de,_0x32fec8){const _0x310222=_0x3b26af['getProp']('x'),_0x1c76dc=_0x3b26af['getProp']('y'),_0x41007f=_0x3b26af['getProp']('z'),_0x1fb85a=_0x3b26af['getProp']('rot_1'),_0x3c6f0f=_0x3b26af['getProp']('rot_2'),_0x4ca3a8=_0x3b26af['getProp']('rot_3'),_0xc82a7a=_0x3b26af['getProp']('rot_0'),_0x4341eb=_0x3b26af['getProp']('motion_0'),_0x4ae4cd=_0x3b26af['getProp']('motion_1'),_0x1ebbde=_0x3b26af['getProp']('motion_2'),_0x2af175=_0x3b26af['getProp']('scale_0'),_0x1b3aa8=_0x3b26af['getProp']('scale_1'),_0x272595=_0x3b26af['getProp']('scale_2'),_0x46c0d5=_0x3b26af['getProp']('f_dc_0'),_0x1390f6=_0x3b26af['getProp']('f_dc_1'),_0x519d91=_0x3b26af['getProp']('f_dc_2'),_0x4a5e49=_0x3b26af['getProp']('opacity'),_0x28a175=_0x3cd98f=>{if(_0x3cd98f>-0x1*0x2b4+-0x2*0xb7d+0x19ae*0x1)return(-0x1*-0x1579+0xc*-0x9d+-0x2*0x70e)/(-0xe29+-0x3b*-0x2e+-0x18*-0x26+Math['exp'](-_0x3cd98f));const _0x5eb39f=Math['exp'](_0x3cd98f);return _0x5eb39f/(0xd1*0x13+-0x1110+0x18e+_0x5eb39f);};this['read']=_0x18020b=>{_0x3863d6&&(_0x3863d6['x']=_0x310222[_0x18020b],_0x3863d6['y']=_0x1c76dc[_0x18020b],_0x3863d6['z']=_0x41007f[_0x18020b]),_0x2857c5&&_0x2857c5['set'](_0x1fb85a[_0x18020b],_0x3c6f0f[_0x18020b],_0x4ca3a8[_0x18020b],_0xc82a7a[_0x18020b]),_0xc874b0&&_0xc874b0['set'](Math['exp'](_0x2af175[_0x18020b]),Math['exp'](_0x1b3aa8[_0x18020b]),Math['exp'](_0x272595[_0x18020b])),_0x32fec8&&_0x4341eb&&_0x32fec8['set'](_0x4341eb[_0x18020b],_0x4ae4cd[_0x18020b],_0x1ebbde[_0x18020b]),_0x53f6de&&_0x53f6de['set'](-0x13e1*0x1+-0x20*-0xd6+-0x1*0x6df+0.5+_0x46c0d5[_0x18020b]*qd,0x26ca+0x1*0xd55+-0x341f+0.5+_0x1390f6[_0x18020b]*qd,0x6*0x1e5+-0x49*-0x6f+-0x2b05+0.5+_0x519d91[_0x18020b]*qd,_0x28a175(_0x4a5e49[_0x18020b]));};}}const z_=(_0x2fb32c,_0x3bb6c4,_0x53a012)=>{B_['set'](_0x53a012['x'],_0x53a012['y'],_0x53a012['z'],_0x53a012['w'])['normalize'](),_0x2fb32c['setTRS'](_0x3bb6c4,B_,T['ONE']);};class Ia{constructor(_0x34aba1){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x1b78ed,_0xf329f1,_0x5ccd4f;this['elements']=_0x34aba1,this['numSplats']=(_0x1b78ed=this['getElement']('vertex'))==null?void(-0xafc+-0x8*-0x193+-0x19c):_0x1b78ed['count'],this['is4D']=!!((_0x5ccd4f=(_0xf329f1=this['getElement']('vertex'))==null?void(0x41*0x2d+-0x581+-0x2*0x2f6):_0xf329f1['properties']['find'](_0x1a572e=>_0x1a572e['name']==='t'))!=null&&_0x5ccd4f['storage']);}['appendGSpl'+'atData'](_0x22a5be,_0x538d60,_0x1cc350){const _0x1817fa=this['getElement']('vertex')['properties'];_0x1817fa['find'](_0x3dc0bd=>_0x3dc0bd['name']==='time_index')||_0x1817fa['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x22a5be['numSplats'];for(let _0x200618=0xcb3*-0x2+0x4*0x85f+-0x816;_0x200618<_0x1817fa['length'];_0x200618++){const _0x344d20=_0x1817fa[_0x200618],_0x33dc71=_0x22a5be['getElement']('vertex')['properties']['find'](_0x2c6923=>_0x2c6923['name']===_0x344d20['name']);if(_0x344d20['name']==='time_index'){const _0x31df61=new Float32Array(this['numSplats']);_0x31df61['fill'](_0x538d60),_0x31df61['set'](_0x344d20['storage'],0x20da+0x12f3+-0x33cd),_0x344d20['storage']=_0x31df61;}else{if(_0x33dc71&&_0x344d20['name']==='t'){const _0x41381b=new Float32Array(this['numSplats']);if(_0x41381b['set'](_0x344d20['storage'],-0x77*-0x33+0x258b+0xe*-0x460),_0x1cc350){for(let _0x37f74f=_0x344d20['storage']['length'];_0x37f74f<this['numSplats'];_0x37f74f++)_0x41381b[_0x37f74f]=_0x33dc71['storage'][_0x37f74f-_0x344d20['storage']['length']]+_0x1cc350[(-0x59e*0x1+0x7f1*-0x1+0xd91)*_0x538d60];}else _0x41381b['set'](_0x33dc71['storage'],_0x344d20['storage']['length']);_0x344d20['storage']=_0x41381b;}else{if(_0x33dc71){const _0x41d4a0=new Float32Array(this['numSplats']);_0x41d4a0['set'](_0x344d20['storage'],-0x1d20+-0xd8d+0x2aad),_0x41d4a0['set'](_0x33dc71['storage'],_0x344d20['storage']['length']),_0x344d20['storage']=_0x41d4a0;}}}}}static['calcSplatA'+'abb'](_0x1d0246,_0x3c84a8,_0x1504c3,_0x2dc581){z_(Fn,_0x3c84a8,_0x1504c3),$d['center']['set'](-0x44f*0x9+0x7cc+0x4d*0x67,0x301*0xa+0x4a0+-0x57*0x66,-0x4d*0x5b+-0xbea+0x2749),$d['halfExtent'+'s']['set'](_0x2dc581['x']*(0x1*-0x1ea+0x18c2+-0x16d6),_0x2dc581['y']*(-0x1c80+0xbed*0x2+0x4a8),_0x2dc581['z']*(0x2018+0x3*0x5db+-0x31a7)),_0x1d0246['setFromTra'+'nsformedAa'+'bb']($d,Fn);}['getProp'](_0x804567,_0x419a4a='vertex'){var _0x5043c7,_0x383578;return(_0x383578=(_0x5043c7=this['getElement'](_0x419a4a))==null?void(-0xf6*0x24+-0x2*-0x1352+-0x40c):_0x5043c7['properties']['find'](_0xe107f2=>_0xe107f2['name']===_0x804567))==null?void(0x259*0x2+-0x1a*0x7f+0x834):_0x383578['storage'];}['getElement'](_0x174aff){return this['elements']['find'](_0x20db9c=>_0x20db9c['name']===_0x174aff);}['addProp'](_0x481639,_0x19b7dd){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x481639,'storage':_0x19b7dd,'byteSize':0x4});}['createIter'](_0x5cfdef,_0x1a81b1,_0x214a7c,_0x42ca04,_0x45cbac){return new N1(this,_0x5cfdef,_0x1a81b1,_0x214a7c,_0x42ca04,_0x45cbac);}['calcAabb'](_0x4e52ca,_0x147ab3){let _0x57ab04,_0x2b26b4,_0x3bc1af,_0x39b023,_0x33b4cb,_0x32e803,_0x496a05=!(-0x1c25+-0x1d64+0x8f*0x67);const _0xdac866=this['getProp']('x'),_0x13fa13=this['getProp']('y'),_0x5cf8e4=this['getProp']('z'),_0x22a4ab=this['getProp']('scale_0'),_0x41acbf=this['getProp']('scale_1'),_0x228bb2=this['getProp']('scale_2');for(let _0x3115a2=-0x16e3+-0x67*-0x45+-0x30*0x1a;_0x3115a2<this['numSplats'];++_0x3115a2){if(_0x147ab3&&!_0x147ab3(_0x3115a2))continue;const _0x119a41=(0x13*0x68+0x4bd*-0x7+-0x13*-0x157)*Math['exp'](Math['max'](_0x22a4ab[_0x3115a2],_0x41acbf[_0x3115a2],_0x228bb2[_0x3115a2])),_0x1384a5=_0xdac866[_0x3115a2],_0x518951=_0x13fa13[_0x3115a2],_0x105f86=_0x5cf8e4[_0x3115a2];_0x496a05?(_0x496a05=!(-0x15da+-0x19c*0x10+0x7*0x6cd),_0x57ab04=_0x1384a5-_0x119a41,_0x2b26b4=_0x518951-_0x119a41,_0x3bc1af=_0x105f86-_0x119a41,_0x39b023=_0x1384a5+_0x119a41,_0x33b4cb=_0x518951+_0x119a41,_0x32e803=_0x105f86+_0x119a41):(_0x57ab04=Math['min'](_0x57ab04,_0x1384a5-_0x119a41),_0x2b26b4=Math['min'](_0x2b26b4,_0x518951-_0x119a41),_0x3bc1af=Math['min'](_0x3bc1af,_0x105f86-_0x119a41),_0x39b023=Math['max'](_0x39b023,_0x1384a5+_0x119a41),_0x33b4cb=Math['max'](_0x33b4cb,_0x518951+_0x119a41),_0x32e803=Math['max'](_0x32e803,_0x105f86+_0x119a41));}return _0x496a05||(_0x4e52ca['center']['set']((_0x57ab04+_0x39b023)*(0xcaa+-0x4*-0x3d6+-0x1c02+0.5),(_0x2b26b4+_0x33b4cb)*(-0x2119*-0x1+0x336+-0x244f+0.5),(_0x3bc1af+_0x32e803)*(0x892*0x1+0x4b2*-0x4+0x51b*0x2+0.5)),_0x4e52ca['halfExtent'+'s']['set']((_0x39b023-_0x57ab04)*(0x1*0x507+-0x2093+0x1b8c*0x1+0.5),(_0x33b4cb-_0x2b26b4)*(-0x14*0xbc+0x16a+0xd46+0.5),(_0x32e803-_0x3bc1af)*(0xc*-0x2d6+-0xfc1*0x1+0x31c9+0.5))),!_0x496a05;}['calcAabbEx'+'act'](_0x481a14,_0x4a0e11){const _0x4073e7=new T(),_0x5bc2f0=new se(),_0x1314be=new T(),_0x5eb0b1=this['createIter'](_0x4073e7,_0x5bc2f0,_0x1314be);let _0x513146=!(-0x647+0xac4*-0x1+0x1*0x110b);for(let _0x370084=0x8*0x54+0x10*-0x3d+-0x98*-0x2;_0x370084<this['numSplats'];++_0x370084)_0x4a0e11&&!_0x4a0e11(_0x370084)||(_0x5eb0b1['read'](_0x370084),_0x513146?(_0x513146=!(-0x22f+0x1850+-0x1620),Ia['calcSplatA'+'abb'](_0x481a14,_0x4073e7,_0x5bc2f0,_0x1314be)):(Ia['calcSplatA'+'abb'](N_,_0x4073e7,_0x5bc2f0,_0x1314be),_0x481a14['add'](N_)));return!_0x513146;}['getCenters'](_0x85674d){const _0x4a2e8c=this['getProp']('x'),_0x3561b7=this['getProp']('y'),_0x39aada=this['getProp']('z');for(let _0x284828=0x16a*0xb+-0x14b*-0x17+0x90f*-0x5;_0x284828<this['numSplats'];++_0x284828)_0x85674d[_0x284828*(0x6a*0x4a+-0x1*0x23e3+0x542)+(-0x17bf+-0x2fc+0x3*0x8e9)]=_0x4a2e8c[_0x284828],_0x85674d[_0x284828*(0x26f1+0xaec+-0x31da)+(0x134d+0x4b9+-0x1805)]=_0x3561b7[_0x284828],_0x85674d[_0x284828*(0xb44+0x2211+0x2d52*-0x1)+(-0x161*-0x9+0x1*0x18a0+-0x2507)]=_0x39aada[_0x284828];}['getMuT'](){const _0x4f746d=this['getProp']('t');if(!_0x4f746d)return;const _0x226b0a=new Float32Array(this['numSplats']);for(let _0x2e60b1=-0x221f+-0x18d4+-0x1*-0x3af3;_0x2e60b1<this['numSplats'];++_0x2e60b1)_0x226b0a[_0x2e60b1]=_0x4f746d[_0x2e60b1];return _0x226b0a;}['getTScale'](){const _0x14bae2=this['getProp']('t_scale');if(!_0x14bae2)return;const _0x10e662=new Float32Array(this['numSplats']);for(let _0x561008=-0x1711+0xea0*0x2+-0x62f;_0x561008<this['numSplats'];++_0x561008)_0x10e662[_0x561008]=Math['exp'](_0x14bae2[_0x561008]);return _0x10e662;}['getMotion'](_0xace6db){const _0x2e721e=this['getProp']('motion_0'),_0x26bb32=this['getProp']('motion_1'),_0x87ad96=this['getProp']('motion_2');if(!(!_0x2e721e||!_0x26bb32||!_0x87ad96)){for(let _0x2cdaf2=-0x22a3*0x1+0x1a89*-0x1+0x3d2c;_0x2cdaf2<this['numSplats'];++_0x2cdaf2)_0xace6db[_0x2cdaf2*(0x4*-0x56b+-0x1eee+0x349d)+(0x2229+0x5ff*0x4+0x479*-0xd)]=_0x2e721e[_0x2cdaf2],_0xace6db[_0x2cdaf2*(0xeb1+0x1985+0x1*-0x2833)+(-0x5*-0x43f+0x2377+-0x1*0x38b1)]=_0x26bb32[_0x2cdaf2],_0xace6db[_0x2cdaf2*(-0xe9a*0x1+0xabc+0x3e1)+(-0x1424*0x1+0xbff+0x827)]=_0x87ad96[_0x2cdaf2];}}['getTimeInd'+'ex'](_0x11d82a){const _0x2b4f0e=this['getProp']('time_index');_0x2b4f0e&&_0x11d82a['set'](_0x2b4f0e,0x41b+0x1052+-0x53*0x3f);}['calcFocalP'+'oint'](_0x5f1334,_0x52f98b){const _0x49785d=this['getProp']('x'),_0x60f305=this['getProp']('y'),_0x2fd572=this['getProp']('z'),_0x5d0da8=this['getProp']('scale_0'),_0x4bc8b8=this['getProp']('scale_1'),_0x52f329=this['getProp']('scale_2');_0x5f1334['x']=0x1*0x16dd+0x2248+-0x3925,_0x5f1334['y']=0x2*0x449+0x5e5+-0xe77,_0x5f1334['z']=0xe5*0x29+-0x16a*-0xd+-0x370f;let _0x172e2e=0x23*0xc7+-0x1dcc+0x297;for(let _0x209d1f=-0x2*-0x9ef+-0x24da+0x10fc;_0x209d1f<this['numSplats'];++_0x209d1f){if(_0x52f98b&&!_0x52f98b(_0x209d1f))continue;const _0x37180a=(-0x152*-0x4+0x2*0xa96+0x3d*-0x6f)/(0x39e*-0x5+-0x1f67*-0x1+-0xd50+Math['exp'](Math['max'](_0x5d0da8[_0x209d1f],_0x4bc8b8[_0x209d1f],_0x52f329[_0x209d1f])));_0x5f1334['x']+=_0x49785d[_0x209d1f]*_0x37180a,_0x5f1334['y']+=_0x60f305[_0x209d1f]*_0x37180a,_0x5f1334['z']+=_0x2fd572[_0x209d1f]*_0x37180a,_0x172e2e+=_0x37180a;}_0x5f1334['mulScalar']((0x141*0x10+-0x14eb+0xdc)/_0x172e2e);}['renderWire'+'frameBound'+'s'](_0x2e9395,_0x174591){const _0x49422e=new T(),_0x19b9df=new se(),_0x37a8ab=new T(),_0xbb3804=new T(),_0x37319c=new T(),_0x1c0f9f=this['createIter'](_0x49422e,_0x19b9df,_0x37a8ab);for(let _0x336451=-0x597+0x1fb2*0x1+-0x1*0x1a1b;_0x336451<this['numSplats'];++_0x336451)_0x1c0f9f['read'](_0x336451),z_(Fn,_0x49422e,_0x19b9df),Fn['mul2'](_0x174591,Fn),_0xbb3804['set'](_0x37a8ab['x']*-(0x14c*-0x6+-0xdc5+-0x158f*-0x1),_0x37a8ab['y']*-(0x422*0x3+-0x19f7+-0xd93*-0x1),_0x37a8ab['z']*-(0x651+0x2*0xcb1+-0x1fb1*0x1)),_0x37319c['set'](_0x37a8ab['x']*(0x31+-0x21ec+-0x21bd*-0x1),_0x37a8ab['y']*(0x5a2+-0xc0+-0x4e0),_0x37a8ab['z']*(-0x2*-0x4b2+0xe0b+-0x1*0x176d)),_0x2e9395['immediate']['drawWireAl'+'ignedBox'](_0xbb3804,_0x37319c,B1,!(0x16cd*0x1+-0x879+-0x72a*0x2),_0x2e9395['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(-0x6d2+-0x1e6*-0x9+-0xa43);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x3a3746=0xcba+-0xd3*-0x1b+-0x6ff*0x5;_0x3a3746<-0x1*-0xea0+-0xa1b*-0x1+-0x1c1*0xe;++_0x3a3746)if(!this['getProp']('f_rest_'+_0x3a3746))return _0x3a3746;return-0x1*0x2e7+0x38b*0xb+-0x3fd*0x9;})())]??0x2*-0x1127+-0x1*0x1a7+-0x23f5*-0x1;}['calcMorton'+'Order'](){const _0x6354bf=_0x2bc66f=>{let _0x12e7a9=_0x2bc66f[0x2ab*-0x1+0xb*0x1e9+-0x1258],_0x2dd9d6=_0x2bc66f[-0x302*-0x8+0x10ab+0x1*-0x28bb];for(let _0x54ab66=0x21e7+0x35c+-0x2542*0x1;_0x54ab66<_0x2bc66f['length'];_0x54ab66++)_0x2bc66f[_0x54ab66]<_0x12e7a9&&(_0x12e7a9=_0x2bc66f[_0x54ab66]),_0x2bc66f[_0x54ab66]>_0x2dd9d6&&(_0x2dd9d6=_0x2bc66f[_0x54ab66]);return{'min':_0x12e7a9,'max':_0x2dd9d6};},_0x906bde=(_0x2a9c40,_0x4662a0,_0x29b194)=>{const _0x19aefb=_0x328b59=>(_0x328b59&=-0x201d+-0x2589*0x1+0x49a5,_0x328b59=(_0x328b59^_0x328b59<<-0x5*-0x443+0x4*-0x2a2+-0xab7)&0x178a5d00b+0xfcd9ae28+-0x1767f7d34,_0x328b59=(_0x328b59^_0x328b59<<0x1*0x1201+-0x2525+-0x4cb*-0x4)&-0x9b6800*-0x8+0x184e*-0x1961+0x8e839d,_0x328b59=(_0x328b59^_0x328b59<<-0x1bf*0x11+-0x1*0x17e3+0x3596*0x1)&-0x9efe7*0x23+-0x5243936+0x98c368e,_0x328b59=(_0x328b59^_0x328b59<<-0xdea+0x1ce7+0x1*-0xefb)&-0xd622895+0x4d65168*0x1+0x1*0x11b06976,_0x328b59);return(_0x19aefb(_0x29b194)<<-0x25*-0x73+-0x1c4c+0x3e5*0x3)+(_0x19aefb(_0x4662a0)<<-0x1141*0x1+0xe8c+0x2b6)+_0x19aefb(_0x2a9c40);},_0x45855e=this['getProp']('x'),_0x4aa9af=this['getProp']('y'),_0x4c35e7=this['getProp']('z'),{min:_0x24a2a2,max:_0x35d238}=_0x6354bf(_0x45855e),{min:_0x191fb1,max:_0x2632bc}=_0x6354bf(_0x4aa9af),{min:_0x24bb57,max:_0x4bd341}=_0x6354bf(_0x4c35e7),_0x569a10=_0x24a2a2===_0x35d238?-0x16ed+0x1b04+-0x417:(-0xa3*-0x29+-0x456+-0x1*0x11c5)/(_0x35d238-_0x24a2a2),_0x12b260=_0x191fb1===_0x2632bc?-0x2*0x12bb+0x25*0x1d+0x2145:(-0x1ab*-0x2+0x1789+-0x16df*0x1)/(_0x2632bc-_0x191fb1),_0x1f6328=_0x24bb57===_0x4bd341?-0x927*-0x2+-0x2446*-0x1+-0x3694:(0x3*0x8+0x20b7+-0x1ccf)/(_0x4bd341-_0x24bb57),_0x2bf7e1=new Map();for(let _0x519f51=0x1213*-0x1+-0x1*0x21c6+0x3fd*0xd;_0x519f51<this['numSplats'];_0x519f51++){const _0x5b49e6=Math['floor']((_0x45855e[_0x519f51]-_0x24a2a2)*_0x569a10),_0x1615ad=Math['floor']((_0x4aa9af[_0x519f51]-_0x191fb1)*_0x12b260),_0x2b9b25=Math['floor']((_0x4c35e7[_0x519f51]-_0x24bb57)*_0x1f6328),_0xb0041=_0x906bde(_0x5b49e6,_0x1615ad,_0x2b9b25),_0x3384f7=_0x2bf7e1['get'](_0xb0041);_0x3384f7?_0x3384f7['push'](_0x519f51):_0x2bf7e1['set'](_0xb0041,[_0x519f51]);}const _0x2940f5=Array['from'](_0x2bf7e1['keys']())['sort']((_0x6653f0,_0x32c4e5)=>_0x6653f0-_0x32c4e5),_0x391d0c=new Uint32Array(this['numSplats']);let _0x34f74e=-0x10d*0x1e+0x1*0x1020+0xf66;for(let _0x392ec4=-0x692+-0x1ba8*-0x1+0xa8b*-0x2;_0x392ec4<_0x2940f5['length'];++_0x392ec4){const _0x40b897=_0x2bf7e1['get'](_0x2940f5[_0x392ec4]);for(let _0x50b990=-0x7ed+-0x1*-0x174d+-0x7b0*0x2;_0x50b990<_0x40b897['length'];++_0x50b990)_0x391d0c[_0x34f74e++]=_0x40b897[_0x50b990];}return _0x391d0c;}['reorder'](_0x3b318c){const _0x1d4eb6=new Map(),_0x2ea8ff=_0x205084=>{if(_0x1d4eb6['has'](_0x205084)){const _0x4b7034=_0x1d4eb6['get'](_0x205084);return _0x1d4eb6['delete'](_0x205084),_0x4b7034;}return new ArrayBuffer(_0x205084);},_0x487d8a=_0x564664=>{_0x1d4eb6['set'](_0x564664['byteLength'],_0x564664);},_0x40d8f7=_0x4c8a52=>{const _0x1019e1=new _0x4c8a52['constructo'+'r'](_0x2ea8ff(_0x4c8a52['byteLength']));for(let _0x4008e1=0x3b4+-0xf*0x123+0xd59;_0x4008e1<_0x3b318c['length'];_0x4008e1++)_0x1019e1[_0x4008e1]=_0x4c8a52[_0x3b318c[_0x4008e1]];return _0x487d8a(_0x4c8a52['buffer']),_0x1019e1;};this['elements']['forEach'](_0x1746be=>{_0x1746be['properties']['forEach'](_0x1b336a=>{_0x1b336a['storage']&&(_0x1b336a['storage']=_0x40d8f7(_0x1b336a['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x573a34={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x1f4905=_0x573a34['dither']??Rs,_0x53e7be=_0x1f4905!==Rs,_0x5dc845=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x573a34['vertex']??X['gsplatVS'],'fragmentCode':_0x573a34['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x5dc845['setDefine']('DITHER_'+_0x1f4905['toUpperCas'+'e'](),''),_0x5dc845['cull']=mt,_0x5dc845['blendType']=_0x53e7be?is:hr,_0x5dc845['depthWrite']=_0x53e7be,_0x5dc845['update'](),_0x5dc845;};async function z1(){self['onmessage']=async _0x13436f=>{const {data:_0x481d89}=_0x13436f;switch(_0x481d89['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x30bba8(_0x481d89['numSplats'],_0x481d89['shBands'],_0x481d89['SHData']);break;}};const _0x30bba8=(_0x2e7f12,_0x1bf01a,_0x4f61af)=>{const _0x40102f=new Uint32Array(_0x2e7f12*(0x1a5a+0x1eed+0x6b*-0x89)),_0x132500=new Uint32Array(_0x2e7f12*(0x20dd*0x1+-0x11b2+-0x1af*0x9)),_0x51ea7f=new Uint32Array(_0x2e7f12*(0x6f9+-0x3b*0x6d+0x122a)),_0x3d9bd5=new Uint32Array(_0x2e7f12*(0x1ac*0x17+-0xa52*-0x3+-0x2f*0x17a)),_0x304220={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1bf01a],_0x5cddc5=_0x4f61af,_0x35047f=0x164f+-0x108d+0x23d,_0x323cc4=0x470*-0x1+0x1660+0x2b*-0x53,_0x1794af=new Float32Array(0x2b*0x33+0x974+0x902*-0x2),_0x36c713=new Uint32Array(_0x1794af['buffer']),_0x2f387b=new Array(_0x304220*(0x6c3*0x4+-0x2*-0x36d+-0x21e3))['fill'](-0x1b9f+0x258c+-0x9ed);for(let _0x381595=-0x1*0xca9+0x20f*0xa+-0x7ed;_0x381595<_0x2e7f12;++_0x381595){for(let _0xb0bc56=0x1d13+-0x1*0x268a+-0x1*-0x977;_0xb0bc56<_0x304220;++_0xb0bc56)_0x2f387b[_0xb0bc56*(-0x169d*-0x1+0x29f*-0x1+-0x13fb)]=_0x5cddc5[_0xb0bc56][_0x381595],_0x2f387b[_0xb0bc56*(-0x107*-0x26+-0x829+-0x1ede*0x1)+(-0xbf7+-0x1f22+0x2b1a)]=_0x5cddc5[_0xb0bc56+_0x304220][_0x381595],_0x2f387b[_0xb0bc56*(-0x1d8d+-0xd*0x1d8+0x3588)+(0x1e9b*0x1+0xc03+0x25e*-0x12)]=_0x5cddc5[_0xb0bc56+_0x304220*(-0xc6a*0x1+-0x2075+0x2ce1)][_0x381595];let _0x5f1e64=_0x2f387b[-0x696*-0x1+-0xf1c+0x886];for(let _0x22ed2d=-0x12*-0x133+-0x49d*0x3+0x7be*-0x1;_0x22ed2d<_0x304220*(0x13*0x12+-0x2*-0xfdd+-0x1*0x210d);++_0x22ed2d)_0x5f1e64=Math['max'](_0x5f1e64,Math['abs'](_0x2f387b[_0x22ed2d]));if(_0x5f1e64!==0x97*-0x33+-0x4*0x256+0x276d*0x1){for(let _0x2f2acd=0x13e*0x7+-0x13*0x9d+0x2f5;_0x2f2acd<_0x304220;++_0x2f2acd)_0x2f387b[_0x2f2acd*(-0x17ca+0x5a*0x64+-0xb5b)+(0x1*-0x1036+-0x4d7*0x8+-0x4f*-0xb2)]=Math['max'](0x1*-0x1f9f+0xf*-0x14d+-0x4a6*-0xb,Math['min'](_0x35047f,Math['floor']((_0x2f387b[_0x2f2acd*(0x1ec3+0xd89+-0x2c49)+(0x3ee+-0x1e14+-0x1a26*-0x1)]/_0x5f1e64*(0x7*0x106+0x2ea+-0xa14+0.5)+(0x1*-0x1d7b+-0x5bc+-0x259*-0xf+0.5))*_0x35047f+(0x1*0x225d+-0x197*0x13+-0x428+0.5)))),_0x2f387b[_0x2f2acd*(0x524+0x222b+0x2*-0x13a6)+(0x241f+0x2*-0xd85+-0x914)]=Math['max'](-0xedb+-0x29*0xad+0x2a90,Math['min'](_0x323cc4,Math['floor']((_0x2f387b[_0x2f2acd*(0x1520+-0x1a13+-0xfe*-0x5)+(-0x567*0x5+-0x110d+0x2c11)]/_0x5f1e64*(-0xbfb*0x1+-0x5*-0x1fd+-0xae*-0x3+0.5)+(-0x1b52+-0x515+-0x5*-0x67b+0.5))*_0x323cc4+(-0x1f71*-0x1+-0xa4d+-0x1524+0.5)))),_0x2f387b[_0x2f2acd*(0x1495*-0x1+-0x1505+0x3*0xddf)+(0x2629*0x1+-0x13*-0x3+0x2660*-0x1)]=Math['max'](0x1*0xbd1+-0x1*0x9a7+-0x22a,Math['min'](_0x35047f,Math['floor']((_0x2f387b[_0x2f2acd*(-0x1e8e+-0x611*0x6+0x42f7)+(0x1e8c+0xb3*-0x10+-0x135a)]/_0x5f1e64*(0x415*0x3+0xdfd+-0x1a3c+0.5)+(-0x9*0xa3+-0x4*-0x4b3+-0xd11+0.5))*_0x35047f+(0x595+0x1dc0+0x43*-0x87+0.5))));_0x1794af[-0x223d+0x180f*-0x1+-0xb6*-0x52]=_0x5f1e64,_0x40102f[_0x381595*(-0x1e02+0xdc0+0x1046)+(-0x97*-0xd+0x4*0x4fa+-0xd*0x21f)]=_0x36c713[0x983+0x194f+-0x22d2*0x1],_0x40102f[_0x381595*(0x643+0xb*0x2b7+-0x241c)+(-0x5*-0x36d+-0x156c+0x44c)]=_0x2f387b[-0x1e79+0x4e7+0x1992]<<-0x3d8+-0x21*-0x47+-0x53a|_0x2f387b[0x15d8+-0x1ffe+0xa27]<<-0x81c*0x1+-0x1*0x1afb+0x2322|_0x2f387b[0x1*0x5a9+-0x1523+0xf7c],_0x40102f[_0x381595*(0x102e+-0x74c*-0x5+-0x34a6)+(-0x1bdd+0x19d+0x1a42)]=_0x2f387b[-0x1397*-0x1+-0x19*0x59+-0x3*0x3a1]<<0x11*-0xc2+0x20aa+-0x13b3|_0x2f387b[0x192e+-0x1e32+0x508]<<0x25c5+-0x1e4+-0x23d6|_0x2f387b[-0x7c5+0xb*0x161+0x1*-0x761],_0x40102f[_0x381595*(0x26f5+-0x125*-0x2+-0x293b)+(-0xd*0xc5+0x1*0x1a1c+-0x1018)]=_0x2f387b[-0x26bc+0x3d*-0x79+-0xd*-0x533]<<-0x1ef3*0x1+-0xa4a+0x29*0x102|_0x2f387b[0x1bc1+0x2*0x20+-0x1*0x1bfa]<<0x14a3*-0x1+-0x1b98+0x1823*0x2|_0x2f387b[-0x1*-0xd85+-0x2191+-0xa*-0x202],_0x1bf01a>0x1*-0x142b+0x105*-0x13+0x278b&&(_0x132500[_0x381595*(0xf7*0xd+0x1433+-0x20ba*0x1)+(-0xa95+-0xe2*-0x5+-0x62b*-0x1)]=_0x2f387b[-0x12f5+-0x2*-0xb2f+-0x360]<<-0x581+0x2455+-0x1cf*0x11|_0x2f387b[-0x23c*-0xf+-0x1*0x228f+-0x115*-0x1]<<0x12d1+0x2*-0x125f+0x11f8|_0x2f387b[0x26b1+-0x3a*-0xa3+0xe*-0x566],_0x132500[_0x381595*(-0x8aa*0x2+0x17c1+-0x669)+(-0x3*0x509+0x2255+0x103*-0x13)]=_0x2f387b[0x21d5+0x11*-0x221+-0xe*-0x2c]<<-0x1b4a*-0x1+-0x4ee*0x1+0x76d*-0x3|_0x2f387b[-0xd3*0x6+0x9ac+0x15*-0x39]<<-0x1b1e+-0x166d*-0x1+0x4bc|_0x2f387b[-0x4f*-0x47+-0x2bc*-0xb+-0x33ef],_0x132500[_0x381595*(-0x6c5+0xbee+0x1b7*-0x3)+(-0x221*0xf+-0x1*-0x1147+0x2*0x755)]=_0x2f387b[-0x179*0x4+-0x37*0x5f+0x1c*0xf1]<<-0x21c+-0x1b94+0x1dc5|_0x2f387b[0x4*0x732+-0x2f5+-0x19c3*0x1]<<0xf5d+-0x93*0x35+0xf1d|_0x2f387b[0x1*0xaa9+-0x6e4+-0x3b4],_0x132500[_0x381595*(-0x36a+-0xf68+0x12d6)+(-0x9*-0x5b+-0x2*-0x499+-0x5*0x27a)]=_0x2f387b[0x6*0x291+0x1*0x64f+-0xbf*0x1d]<<0x129+-0x1*-0x1c16+-0x1d2a*0x1|_0x2f387b[0x1791+0xe51*-0x1+0x1d*-0x51]<<0x1388+-0x543*0x4+0x18f|_0x2f387b[-0x1230+-0x25d0+0x3814],_0x1bf01a>-0x1*0xd69+0x1bf9+-0x45*0x36?(_0x51ea7f[_0x381595*(0x168d+-0x4b9+-0x11d0)+(0x1e8d+-0x1fa4+0x117*0x1)]=_0x2f387b[-0xac9+0x11e4+-0x706]<<-0x1225+-0x1ea0+-0x1*-0x30da|_0x2f387b[-0x20cc+-0x9f2+-0x156a*-0x2]<<0xf43*0x2+0x1*-0x2619+0x32*0x27|_0x2f387b[-0x1*0x38f+-0x1424+-0x91*-0x2a],_0x51ea7f[_0x381595*(-0x1f2b+0x891+0x243*0xa)+(-0x21e4+0xb*0x14b+0x2*0x9d6)]=_0x2f387b[0xd79+0x1888+-0x25e9]<<-0x114a+-0x1bb9+-0x3c2*-0xc|_0x2f387b[0x12a9+-0x2085+0x3*0x4a7]<<-0xed6+-0x1*-0x1025+0xa2*-0x2|_0x2f387b[0xc81+-0x5a4*0x4+0xa29],_0x51ea7f[_0x381595*(-0x3*0x827+-0x9*0x288+0x2f41)+(0x2268+0x2207*0x1+-0x446d)]=_0x2f387b[-0x3c1*0xa+-0x1b6f*-0x1+0x51b*0x2]<<-0x7cc*-0x2+0x6ef+-0x1672|_0x2f387b[-0x1283*-0x1+-0x89*0x23+-0x1c*-0x3]<<-0x15ca+-0xa02+0x273*0xd|_0x2f387b[0x155c+0x1c89*0x1+-0xc*0x426],_0x51ea7f[_0x381595*(-0x1c0b+0xb06+-0x59*-0x31)+(0x2*0x4f3+-0x4ba+-0x529)]=_0x2f387b[-0xa8*0x1a+-0x99e+0x1acc]<<-0x6c3+0x262+0x23b*0x2|_0x2f387b[-0x3a3*0x1+-0xfb*-0x11+-0xce9]<<-0x18d1*-0x1+0x3*-0x249+-0x11eb|_0x2f387b[0x14*-0x1a5+-0x1*0x551+-0xcc7*-0x3],_0x3d9bd5[_0x381595*(0xc95*0x1+0xcd4+-0x1965*0x1)+(-0x1ad8+-0x1a8d+0x3565)]=_0x2f387b[0x1eb1+-0x1359+-0xb37]<<-0x42*-0x28+-0x7*-0x4a9+-0x2ada|_0x2f387b[-0x5*-0xb+0x1*0x73d+0x1*-0x752]<<-0x19f5+-0x1ea1+-0x817*-0x7|_0x2f387b[-0x8*-0x2ae+-0x9*0x26a+-0x1*-0x6d],_0x3d9bd5[_0x381595*(0x2d9*0xd+0x85f*0x1+-0x2d60)+(0x1ad*0x9+-0x1*-0x96b+-0x187f)]=_0x2f387b[0x319*0x5+0x1558+0xc3b*-0x3]<<0x997*0x4+0x9d0+-0x3017|_0x2f387b[0x1a9+-0x1af3+-0x11*-0x17f]<<0x400+-0x258e+0x2199|_0x2f387b[-0x7*-0x44d+0x6*-0x1e1+0x12af*-0x1],_0x3d9bd5[_0x381595*(0x1bf5+-0x3*-0xce3+-0x16*0x307)+(0xf3*-0xd+-0x8a8+0x13*0x11b)]=_0x2f387b[0xc67+-0xef2+-0x2*-0x159]<<-0x1d*-0xda+-0xb41+-0xd5c|_0x2f387b[-0x4f*-0x61+-0x1ae+-0x1c19]<<-0xf70+-0x525+0x14a0|_0x2f387b[0x1902+-0x6bb*-0x1+-0x5e*0x56],_0x3d9bd5[_0x381595*(0x2563+0x1*0x9c1+-0x8*0x5e4)+(0x1b2*-0x7+0x4aa*0x5+0x65*-0x1d)]=_0x2f387b[-0x8e*-0x38+-0x9ca+-0xe*0x182]<<-0x2a8*-0x5+0x1*-0x1093+0x360|_0x2f387b[0x2652*0x1+0x3*0x185+-0x2ab6]<<0x34*-0x7+0x10db+-0x1*0xf64|_0x2f387b[0x45a*0x1+0x240a+0xd68*-0x3]):_0x51ea7f[_0x381595]=_0x2f387b[0x1b34+-0x1c45*-0x1+-0x2c5*0x14]<<0x1368+0x2678+-0x39cb|_0x2f387b[-0x1528+0x905*-0x4+0x16*0x29b]<<-0xd09+0x120+0xbf4|_0x2f387b[0x7*0x2e9+0xd99+0x3*-0xb4b]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x40102f,'sh4to7Data':_0x132500,'sh8to11Data':_0x51ea7f,'sh12to15Data':_0x3d9bd5},[_0x40102f['buffer'],_0x132500['buffer'],_0x51ea7f['buffer'],_0x3d9bd5['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4c8675=>{if(!this['worker'])return;const {data:_0x5a5174}=_0x4c8675;switch(_0x5a5174['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x5a5174['sh1to3Data'],_0x5a5174['sh4to7Data'],_0x5a5174['sh8to11Dat'+'a'],_0x5a5174['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x500825,_0x50772b,_0x140219){var _0x1feecd;(_0x1feecd=this['worker'])==null||_0x1feecd['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x500825,'shBands':_0x50772b,'SHData':_0x140219});}['destroy'](){var _0x4deac1;this['worker']&&((_0x4deac1=this['worker'])==null||_0x4deac1['terminate'](),this['worker']=null);}}const U_=(_0x570a55,_0x1559c6)=>{const _0x4c2bb1=[];for(let _0x558ba9=0x144c+0x6d+-0x14b9*0x1;_0x558ba9<_0x1559c6;++_0x558ba9)_0x4c2bb1['push'](_0x570a55['getProp']('f_rest_'+_0x558ba9));return _0x4c2bb1;};class V1{constructor(_0x173ac6,_0x117fd9){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x298b5c=_0x117fd9['numSplats'];this['device']=_0x173ac6,this['numSplats']=_0x298b5c,this['numSplatsV'+'isible']=_0x298b5c,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x117fd9['numSplats']*(-0x19c8+-0x1d91+0x375c)),this['motion']=new Float32Array(_0x117fd9['numSplats']*(-0x1201+0x1668+-0x464)),this['timeIndex']=new Float32Array(_0x117fd9['numSplats']),_0x117fd9['getCenters'](this['centers']),_0x117fd9['getMotion'](this['motion']),_0x117fd9['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x117fd9['getMuT'](this['timeOption']),this['tScale']=_0x117fd9['getTScale'](),this['is4D']=_0x117fd9['is4D'],this['aabb']=new _e(),_0x117fd9['calcAabb'](this['aabb']);const _0x43da17=this['evalTextur'+'eSize'](_0x298b5c);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x43da17),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x43da17),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x43da17),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x43da17),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x43da17),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x43da17)),this['updateColo'+'rData'](_0x117fd9),this['updateTran'+'sformData'](_0x117fd9),this['shBands']=_0x117fd9['shBands'],this['shBands']>-0x12d0+-0x1*0x163d+0x290d&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x43da17),this['shBands']>-0x3*-0xa93+-0x1c*0x4+-0x1f48&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x43da17),this['shBands']>-0x1*-0x13df+-0x2079+0x10d*0xc?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x43da17),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x43da17)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x43da17)),this['updateSHDa'+'ta'](_0x117fd9));}['updateData'](_0x405993){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x42b9a4=_0x405993['numSplats'];this['numSplats']=_0x42b9a4,this['numSplatsV'+'isible']=_0x42b9a4,this['centers']=new Float32Array(_0x405993['numSplats']*(-0x52e+-0x135+0x666)),this['motion']=new Float32Array(_0x405993['numSplats']*(-0x1c72+-0xef6+0xf*0x2e5)),this['timeIndex']=new Float32Array(_0x405993['numSplats']),_0x405993['getCenters'](this['centers']),_0x405993['getMotion'](this['motion']),_0x405993['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x405993['getMuT'](this['timeOption']),this['tScale']=_0x405993['getTScale'](),this['is4D']=_0x405993['is4D'],this['aabb']=new _e(),_0x405993['calcAabb'](this['aabb']);const _0x466867=this['evalTextur'+'eSize'](_0x42b9a4);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x466867),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x466867),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x466867),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x466867),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x466867),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x466867)),this['updateColo'+'rData'](_0x405993),this['updateTran'+'sformData'](_0x405993),this['shBands']=_0x405993['shBands'],this['shBands']>-0x16e3+0xe2b+0x8b8&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x466867),this['shBands']>-0x13c1+0x1f9a+-0xbd8&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x466867),this['shBands']>0x1c05+-0x2b2+-0x1951?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x466867),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x466867)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x466867)),this['updateSHDa'+'ta'](_0x405993));}['destroy'](){var _0x508218,_0x112f9a,_0x7ee177,_0x2b4984,_0x5a6e25,_0x3e8801,_0x486a36,_0x17e2b1,_0x507832,_0xfda3e7;(_0x508218=this['colorTextu'+'re'])==null||_0x508218['destroy'](),(_0x112f9a=this['transformA'+'Texture'])==null||_0x112f9a['destroy'](),(_0x7ee177=this['transformB'+'Texture'])==null||_0x7ee177['destroy'](),(_0x2b4984=this['transformR'+'Texture'])==null||_0x2b4984['destroy'](),(_0x5a6e25=this['transformT'+'SpeedTextu'+'re'])==null||_0x5a6e25['destroy'](),(_0x3e8801=this['transformT'+'Texture'])==null||_0x3e8801['destroy'](),(_0x486a36=this['sh1to3Text'+'ure'])==null||_0x486a36['destroy'](),(_0x17e2b1=this['sh4to7Text'+'ure'])==null||_0x17e2b1['destroy'](),(_0x507832=this['sh8to11Tex'+'ture'])==null||_0x507832['destroy'](),(_0xfda3e7=this['sh12to15Te'+'xture'])==null||_0xfda3e7['destroy']();}['createMate'+'rial'](_0x3b106e){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x12f2f8=z0(_0x3b106e);return _0x12f2f8['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x12f2f8['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x12f2f8['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x12f2f8['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x12f2f8['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x12f2f8['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x12f2f8['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x12f2f8['setDefine']('SH_BANDS',this['shBands']),_0x12f2f8['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x12f2f8['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x12f2f8['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x12f2f8['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x12f2f8['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x12f2f8;}['evalTextur'+'eSize'](_0x355c92){const _0x35f14a=Math['ceil'](Math['sqrt'](_0x355c92)),_0x1a8271=Math['ceil'](_0x355c92/_0x35f14a);return new W(_0x35f14a,_0x1a8271);}['createText'+'ure'](_0x34d301,_0x5560d3,_0x285c2f){return new he(this['device'],{'name':_0x34d301,'width':_0x285c2f['x'],'height':_0x285c2f['y'],'format':_0x5560d3,'cubemap':!(-0x71b*-0x3+0xc23*0x1+-0x2173*0x1),'mipmaps':!(-0x7c7+-0x867+0x565*0x3),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x26240c){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x9f3fac=this['colorTextu'+'re'];if(!_0x9f3fac)return;const _0x4da3c9=Wt['float2Half'],_0x4cb546=_0x9f3fac['lock'](),_0x2e9684=_0x26240c['getProp']('f_dc_0'),_0x77ebf9=_0x26240c['getProp']('f_dc_1'),_0x2acba9=_0x26240c['getProp']('f_dc_2'),_0xbcc77c=_0x26240c['getProp']('opacity'),_0x39fdc9=-0x1*0x1466+0xb82+0x8e4+0.28209479177387814;for(let _0x211683=-0x4*-0x2+0x49b+-0x4a3;_0x211683<this['numSplats'];++_0x211683){const _0xb9a659=_0x2e9684[_0x211683]*_0x39fdc9+(-0x2*-0x8c6+-0x1*0x1898+-0x1c3*-0x4+0.5),_0x1ce68c=_0x77ebf9[_0x211683]*_0x39fdc9+(-0x1d00+-0x1df1+0x3af1+0.5),_0x1260ef=_0x2acba9[_0x211683]*_0x39fdc9+(-0x1d7b+-0x10c1+-0x4*-0xb8f+0.5),_0x5ea7be=(0x5fe+0x554*-0x4+-0xf53*-0x1)/(-0xd*0x203+0xb84*-0x3+0x3cb4+Math['exp'](-_0xbcc77c[_0x211683]));_0x4cb546[_0x211683*(-0x105f+0xc46*0x2+0x1*-0x829)+(0x4*-0x2d+0x187c*-0x1+0x4*0x64c)]=_0x4da3c9(_0xb9a659),_0x4cb546[_0x211683*(-0x71+0x36f+-0x2fa)+(-0x1399+-0x3*-0x50b+-0xe5*-0x5)]=_0x4da3c9(_0x1ce68c),_0x4cb546[_0x211683*(-0x3*-0x56f+-0x2*-0x626+-0x1c95)+(0x257b+-0x2518*0x1+-0x61)]=_0x4da3c9(_0x1260ef),_0x4cb546[_0x211683*(-0x22f4+0xc93+0x1665)+(-0x9a6+-0x1*0x259f+0x1*0x2f48)]=_0x4da3c9(_0x5ea7be);}_0x9f3fac['unlock']();}['updateTran'+'sformData'](_0x28f652){var _0x445dc4,_0x18cdf4,_0x594554,_0x3702b9;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x164385=Wt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x59ce99=this['transformA'+'Texture']['lock'](),_0x4feb14=new Float32Array(_0x59ce99['buffer']),_0x194721=this['transformR'+'Texture']['lock'](),_0x2dcf87=new Float32Array(_0x194721['buffer']),_0xf6b49e=this['transformB'+'Texture']['lock'](),_0x4ea57f=(_0x445dc4=this['transformT'+'SpeedTextu'+'re'])==null?void(0x2654+0xbc4*-0x2+0x4*-0x3b3):_0x445dc4['lock']();let _0x4c1d94;_0x4ea57f&&(_0x4c1d94=new Float32Array(_0x4ea57f['buffer']));const _0x1710cd=(_0x18cdf4=this['transformT'+'Texture'])==null?void(-0x48b+0xeae+-0xa23):_0x18cdf4['lock']();let _0x563374;_0x1710cd&&(_0x563374=new Float32Array(_0x1710cd['buffer']));const _0x92a0e1=new T(),_0x3287b7=new se(),_0x550190=new T(),_0x569a81=new T(),_0x2f5c30=_0x28f652['createIter'](_0x92a0e1,_0x3287b7,_0x550190,null,_0x569a81),_0x435d1d=_0x28f652['getProp']('t'),_0x1a6535=_0x28f652['getProp']('t_scale');for(let _0x5c16fd=0x1829+-0x113f+-0x6ea;_0x5c16fd<this['numSplats'];_0x5c16fd++)_0x2f5c30['read'](_0x5c16fd),_0x3287b7['normalize'](),_0x3287b7['w']<-0x14b*-0xa+0x1*0x1cea+-0xa76*0x4&&_0x3287b7['mulScalar'](-(-0x63e+-0x201d*0x1+0xa*0x3d6)),_0x4feb14[_0x5c16fd*(-0x259*0x5+-0x13dd+0x1f9e)+(-0x6e4+0x1*-0x1f61+0x2645)]=_0x92a0e1['x'],_0x4feb14[_0x5c16fd*(0x1380+-0x52f*0x1+-0x7*0x20b)+(-0x842+0x1c64+0x1*-0x1421)]=_0x92a0e1['y'],_0x4feb14[_0x5c16fd*(-0x14e7+-0x1032+0x251d)+(0x3*-0xcf7+0x16b8+0x102f)]=_0x92a0e1['z'],_0xf6b49e[_0x5c16fd*(0xf*0x8d+-0x2*-0x122c+-0x2c97)+(0x1335+-0x1*-0x19f7+0x33a*-0xe)]=_0x164385(_0x550190['x']),_0xf6b49e[_0x5c16fd*(0x235*-0x11+-0x1ff9*-0x1+-0x164*-0x4)+(-0x129a+-0x4*0x727+0x99*0x4f)]=_0x164385(_0x550190['y']),_0xf6b49e[_0x5c16fd*(-0x1104+0x681+0x7*0x181)+(-0x1*-0x22e1+-0x6b*0x1f+0x37*-0x66)]=_0x164385(_0x550190['z']),_0x2dcf87[_0x5c16fd*(0x2*0xacd+0x1*-0x12b5+-0x2e1)+(-0xe24+-0x1*0x11fb+0x1*0x201f)]=_0x3287b7['x'],_0x2dcf87[_0x5c16fd*(-0x1*-0x442+0x1*0x1505+0xdf*-0x1d)+(0x8c4+0xc*-0x11+-0x7f7)]=_0x3287b7['y'],_0x2dcf87[_0x5c16fd*(0xe3*-0x1+0xa4*-0x25+0x1*0x189b)+(0xde2*-0x2+-0x42a+0x1ff0)]=_0x3287b7['z'],this['is4D']&&_0x4c1d94&&_0x563374&&(_0x4c1d94[_0x5c16fd*(-0x1653+-0x11ed+0x2844)+(-0x67*-0x49+0x2590+0x17*-0x2e9)]=_0x569a81['x'],_0x4c1d94[_0x5c16fd*(0x3*-0x7de+0x1*0x1be6+0x89*-0x8)+(-0x1*-0x1143+0x2f4+-0x1436)]=_0x569a81['y'],_0x4c1d94[_0x5c16fd*(-0xa0e+-0x19*0x49+0x103*0x11)+(0xf73+-0x16*-0x35+0x1*-0x13ff)]=_0x569a81['z'],_0x563374[_0x5c16fd*(0x26*-0x1c+0x1644+-0x304*0x6)+(-0x2196*-0x1+-0x14c+-0x1*0x204a)]=_0x435d1d?_0x435d1d[_0x5c16fd]:0x1*-0x1169+0x1145+0x24,_0x563374[_0x5c16fd*(0xb*0x191+-0xe3*0x1e+0x1b*0x59)+(0x305+-0x19c3+-0x3*-0x795)]=_0x1a6535?Math['exp'](_0x1a6535[_0x5c16fd]):0x939*0x2+0x9e+-0x1310);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x594554=this['transformT'+'SpeedTextu'+'re'])==null||_0x594554['unlock'](),(_0x3702b9=this['transformT'+'Texture'])==null||_0x3702b9['unlock']();}['updateSHDa'+'ta'](_0x4ed1ca){var _0x50df59,_0x14bab0,_0x32dbd5,_0x558fcd,_0x5449ed,_0x584ce1,_0x324bb8;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x30af38=(_0x50df59=this['sh1to3Text'+'ure'])==null?void(-0x5cf+-0x1*-0x1095+-0xac6):_0x50df59['lock'](),_0x497d5e=(_0x14bab0=this['sh4to7Text'+'ure'])==null?void(-0x2b*-0x52+0x1*0x221+0x1*-0xfe7):_0x14bab0['lock'](),_0x51ddd5=(_0x32dbd5=this['sh8to11Tex'+'ture'])==null?void(0x12bf*-0x2+0x2225+-0x359*-0x1):_0x32dbd5['lock'](),_0x316dcf=(_0x558fcd=this['sh12to15Te'+'xture'])==null?void(0x2*-0x646+-0x1740+-0x23cc*-0x1):_0x558fcd['lock'](),_0xcc5ec6={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x298d12=U_(_0x4ed1ca,_0xcc5ec6*(-0x16f7+-0xce5+-0x3*-0xbf5)),_0x32e054=0xe2*0x28+-0x1331+-0x820,_0x56a875=0x1bed+0x1de2+-0x35d0,_0x254b82=new Float32Array(-0x4b2+0x131d*-0x1+0x17d0),_0x35383a=new Uint32Array(_0x254b82['buffer']),_0x31b499=new Array(_0xcc5ec6*(-0x20ff*0x1+-0x15c1*-0x1+0xb41))['fill'](-0x2301*0x1+-0x99*-0x3d+-0x3e*0x6);for(let _0x4fc427=-0x15*-0x15b+-0x815+-0x1462;_0x4fc427<_0x4ed1ca['numSplats'];++_0x4fc427){for(let _0x42ad78=0x40e+-0x5f*0x57+0x1c3b*0x1;_0x42ad78<_0xcc5ec6;++_0x42ad78)_0x31b499[_0x42ad78*(-0x526*-0x1+0x4*-0x808+0x8d*0x31)]=_0x298d12[_0x42ad78][_0x4fc427],_0x31b499[_0x42ad78*(0x131b+0x78b*0x3+-0x29b9)+(0x896+-0xce0+0x44b)]=_0x298d12[_0x42ad78+_0xcc5ec6][_0x4fc427],_0x31b499[_0x42ad78*(-0xac9+0x8d9*0x1+0x1f3)+(0xa7a+-0x17f*0x11+0xef7)]=_0x298d12[_0x42ad78+_0xcc5ec6*(-0x17*0x14b+0x2405+-0x646)][_0x4fc427];let _0x3f1a26=_0x31b499[0x10fe+0x1a9b+-0x1*0x2b99];for(let _0x36d5bf=-0x157+0x189*-0x4+-0x77c*-0x1;_0x36d5bf<_0xcc5ec6*(0x98f+-0x9*-0x3f6+-0x2d32);++_0x36d5bf)_0x3f1a26=Math['max'](_0x3f1a26,Math['abs'](_0x31b499[_0x36d5bf]));if(_0x3f1a26!==0x1e4e+0x4e1+0x232f*-0x1){for(let _0x1496ed=0x213f*-0x1+-0x110d*0x2+0x4359;_0x1496ed<_0xcc5ec6;++_0x1496ed)_0x31b499[_0x1496ed*(0x17de+-0x1202+-0x5d9)+(-0x1fd4+0x1*-0x23fb+0x1*0x43cf)]=Math['max'](-0x21b4+-0x25e9+0x369*0x15,Math['min'](_0x32e054,Math['floor']((_0x31b499[_0x1496ed*(-0xe2d+-0x2642*-0x1+-0x1812)+(0x2*-0xacf+-0x55b*-0x4+-0x5*-0xa)]/_0x3f1a26*(0x26e6+-0x6*-0x8+0x138b*-0x2+0.5)+(0x1*0x2115+-0x1de1*-0x1+-0x3ef6+0.5))*_0x32e054+(0x5ea*0x6+-0x554*-0x6+-0x4374*0x1+0.5)))),_0x31b499[_0x1496ed*(0x1b49+0x4c6+0x2*-0x1006)+(0x66f+0xce*-0x26+-0x1*-0x1826)]=Math['max'](-0x1c59+-0x103f+0x2*0x164c,Math['min'](_0x56a875,Math['floor']((_0x31b499[_0x1496ed*(-0x5c4+0xc59+0x2*-0x349)+(0x1344+-0x20cd+0x2*0x6c5)]/_0x3f1a26*(0xe8f*0x1+0x76*-0x5+-0xc41*0x1+0.5)+(-0x4f9*0x1+-0x1*0x1d99+0x2292+0.5))*_0x56a875+(0x157a+0x2*0x935+-0x8a*0x4a+0.5)))),_0x31b499[_0x1496ed*(-0x191*-0xb+0x939+-0x1a71*0x1)+(0x1c7c+0x35*0x9+-0x1*0x1e57)]=Math['max'](-0x1*-0x43f+0x13*-0x107+-0xaa*-0x17,Math['min'](_0x32e054,Math['floor']((_0x31b499[_0x1496ed*(-0x282*-0x3+-0x355+-0x42e)+(-0xbbb+0xbfe+-0x41)]/_0x3f1a26*(0xf49+0x11ac+-0x20f5+0.5)+(-0x2cc+0x21db+-0x1*0x1f0f+0.5))*_0x32e054+(0x16e1+0xd13*0x1+0x4*-0x8fd+0.5))));_0x254b82[0x10e6+0x97*0x16+-0x1de0]=_0x3f1a26,_0x30af38[_0x4fc427*(0x980+-0x1a6d+0x10f1)+(-0xc*0x65+-0x2354+-0x2*-0x1408)]=_0x35383a[0x20a9+-0x3*-0x134+-0x2445],_0x30af38[_0x4fc427*(-0x55b+0x2*0xd85+-0x15ab)+(0x1b0*0x7+0xd6*-0xc+-0x7*0x41)]=_0x31b499[0x240b+0x1*-0x335+-0x20d6]<<0xc1*-0xb+-0xb7b+0x1*0x13db|_0x31b499[-0x1de9+0x833*-0x1+0x1*0x261d]<<-0x573+0x1*-0x16ab+-0x3*-0x963|_0x31b499[0x2658+0x1a*-0x13+-0x2468],_0x30af38[_0x4fc427*(-0x1b4e+0x257a+-0xa28)+(0xa3*0x33+-0x65*-0x34+-0x9*0x5e3)]=_0x31b499[-0xcfe*-0x1+0x5*0x23+-0xdaa*0x1]<<-0x2*-0xca7+0x1417+-0x2d50|_0x31b499[0x1128+0x1eef+0x1f*-0x18d]<<0x157d+-0x24aa+0xf38|_0x31b499[0x1820+0x22fd+-0x7c*0x7a],_0x30af38[_0x4fc427*(-0x1494+0xa3*0x3d+-0x123f)+(-0x1ea2+-0x16*0x10c+-0x421*-0xd)]=_0x31b499[-0x917*-0x3+0x5b*-0x59+0x232*0x2]<<-0x24cd+0x1843+0xc9f*0x1|_0x31b499[-0x489+-0x5e*0x37+0x18c2]<<0xffd*-0x1+0x4e4+-0x2c9*-0x4|_0x31b499[0x20d*0x5+0x1034+-0x8cf*0x3],this['shBands']>-0xa6b+-0x5e2*0x4+0x21f4&&(_0x497d5e[_0x4fc427*(0x2466+0x4b6+0x20e*-0x14)+(-0x841+0x133+-0x81*-0xe)]=_0x31b499[0x15ea+-0x2554+0x23*0x71]<<0x155c+-0x1ec8+0x981*0x1|_0x31b499[-0x1938+-0xec*-0x4+0x1592]<<-0x5d1+0x543*-0x7+0x1*0x2ab1|_0x31b499[0x16a3+0x26*0x2b+-0x1cfa],_0x497d5e[_0x4fc427*(-0x7b*0x29+-0x2*-0x7af+0x459)+(-0x453+0x235e+-0x1f0a)]=_0x31b499[0x1852+-0x1f8f+-0x749*-0x1]<<-0x1245*-0x1+-0x1a56+-0x1*-0x826|_0x31b499[0x1577+0x1*-0x1f57+-0x15*-0x79]<<0x5f*0x3+-0xeff*0x1+0xded|_0x31b499[0x1*-0x10e1+0xbc6+0x529],_0x497d5e[_0x4fc427*(0x182e+0x105d+-0x1*0x2887)+(0x1c8a+-0x103a+0x12*-0xaf)]=_0x31b499[0x7ee+-0x10c4+0x45*0x21]<<-0x1ee6+0x17*0x142+-0x4b*-0x7|_0x31b499[0x7d5+0x2*0x707+-0x15d3]<<-0x10d*0xd+0x40f+0x9a5|_0x31b499[-0x4*0x3f8+-0xdd4+-0x1*-0x1dc5],_0x497d5e[_0x4fc427*(0x1*-0x1c2d+0x1f6c*0x1+-0x1*0x33b)+(0x1b4f*0x1+-0xd3c+0x24*-0x64)]=_0x31b499[-0x2b*-0x11+-0xcf5+-0xe*-0xba]<<0x2*0x1249+-0x601+-0x1e7c|_0x31b499[-0x3*0x74c+0x1*-0x1561+0x2b58]<<0x1ef2+-0x3e2+-0x1*0x1b05|_0x31b499[0x1556+-0xbb*-0x32+-0x39c8],this['shBands']>0x15*-0x1bb+-0x2f*0x81+-0x1e04*-0x2?(_0x51ddd5[_0x4fc427*(-0x1651+-0x94d+0x1fa2)+(0xf1*-0x10+-0x22ea+-0x1*-0x31fa)]=_0x31b499[-0x1*0x1011+0x103c*-0x2+0x309e]<<0x32d*-0x3+-0x3b4*-0x9+-0x17b8|_0x31b499[0x1*0x2023+0x1f6f+-0x3f7c]<<0x10d+-0xb6f*-0x1+-0x31*0x41|_0x31b499[0x7bc+0x1c1b+-0x23c0],_0x51ddd5[_0x4fc427*(0xb14+0x1aba+-0x7*0x566)+(0x2*-0x9a3+0x18d1+-0x58a*0x1)]=_0x31b499[0x183+0x2*0x902+0x19*-0xc7]<<-0x6e9+0x12b6*-0x1+-0xeb*-0x1c|_0x31b499[0x1*-0x4da+0x169*0x1+0x38a]<<-0x42*0x16+0x11a0+-0x1*0xbe9|_0x31b499[0x1f2e+0x1*-0xfd+-0x1e17],_0x51ddd5[_0x4fc427*(0x3*0x6e7+0x14e*-0x19+0xbed)+(-0x11e*-0x1d+0x1*0x1c9f+-0x3d03)]=_0x31b499[-0x20a8+-0x2f*0x71+-0x2f9*-0x12]<<-0xf61+0x99e*-0x1+0x1ac*0xf|_0x31b499[-0x119+-0x1d9b+-0x1d*-0x110]<<0x2e7*0x2+-0x172a+0x1167|_0x31b499[0x16c4+0x83c+-0x1ee3],_0x51ddd5[_0x4fc427*(0x1888+-0xc91*0x1+-0xa1*0x13)+(0x11*0x10a+0x67d+0x4*-0x609)]=_0x31b499[0x1*0x14bb+0x83*0x19+0x4*-0x85a]<<-0x249b+-0x18b8+0x3d68|_0x31b499[-0x6c7+0x2053+0x196d*-0x1]<<0x1*0x1a3b+-0x241a*-0x1+-0x3e4a|_0x31b499[-0x17c6+0x3a8+0xa1f*0x2],_0x316dcf[_0x4fc427*(0x9*0x15f+0x4f*-0x58+-0x1*-0xed5)+(0x1371+-0x63+-0x130e)]=_0x31b499[-0x1*-0x1e7+0x6d*-0x20+0x25*0x52]<<0x2*-0x74c+0x2c5*-0xb+-0x2*-0x1692|_0x31b499[-0xf86+0x11ef*-0x1+-0x1*-0x2197]<<-0x17d5*0x1+0x5*-0x208+-0xc*-0x2d6|_0x31b499[-0x1d6*-0x12+-0x1*-0x2566+0x464f*-0x1],_0x316dcf[_0x4fc427*(-0x1e6d+-0x21cf+-0x4*-0x1010)+(0x5*-0x410+0x296*-0x4+-0x1*-0x1ea9)]=_0x31b499[0xfd8+-0x2144+-0x8c8*-0x2]<<0x3f9+0x2161+-0x2545|_0x31b499[0x1953*-0x1+0x809+0x116f]<<-0x154a+-0x1abf+-0xb5*-0x44|_0x31b499[0x77*-0x2e+-0x261c+0xb*0x56c],_0x316dcf[_0x4fc427*(-0x2032*-0x1+0x1*-0x1edb+0x71*-0x3)+(-0x5f1+-0x1e49+0x243c)]=_0x31b499[-0x2128+-0x21ae*-0x1+0x5*-0x13]<<-0x5*-0x3a9+0x1*0xd6f+-0x1fa7|_0x31b499[-0x1fb5*0x1+0x1*0x1d59+-0x4*-0xa1]<<0x1*-0x4cb+-0x13d8+0x18ae|_0x31b499[-0x461+-0xec4+0x134e],_0x316dcf[_0x4fc427*(-0x218a+0xe*0x13a+-0x2*-0x831)+(-0x1981*-0x1+-0x18*-0x13+0xda3*-0x2)]=_0x31b499[0x1*-0x7ef+0x8*0x31d+-0x10cf]<<-0x2bb*-0xc+-0x1da5+0x1*-0x30a|_0x31b499[-0x2e7*-0x3+-0x269f+0x1e15]<<-0x2551+0xf98+0x15c4|_0x31b499[0xeef+0xca*-0x6+-0xa07]):_0x51ddd5[_0x4fc427]=_0x31b499[0x2496+0x35a*0x2+-0x2b35]<<-0x168+0x8*-0x3a9+0x1*0x1ec5|_0x31b499[0x4f3*-0x2+0xd9e+-0x3a2]<<-0x3*-0x3fd+0x107*0x1d+-0x29b7|_0x31b499[0xee+-0x1635+0x155e]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x5449ed=this['sh4to7Text'+'ure'])==null||_0x5449ed['unlock'](),(_0x584ce1=this['sh8to11Tex'+'ture'])==null||_0x584ce1['unlock'](),(_0x324bb8=this['sh12to15Te'+'xture'])==null||_0x324bb8['unlock']();}['updateSHDa'+'taByWorker'](_0x4517a3){const _0xb13f1d={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0xbd3e78=U_(_0x4517a3,_0xb13f1d*(0x201a*-0x1+0xd5*0x7+0x1a4a));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x4517a3['numSplats'],this['shBands'],_0xbd3e78),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x560ce6,_0x57524a,_0x1bb056,_0x1b8c8e)=>{var _0x27e378,_0x30cfe6,_0xacc148,_0x2cb155,_0x5ddc68,_0x4f02cf,_0x382562,_0x4da0f3,_0x41c66b,_0x50c858;const _0x12939c=(_0x27e378=this['sh1to3Text'+'ure'])==null?void(0xa*0x20e+-0x1c82+-0x1*-0x7f6):_0x27e378['lock']();if(new Uint32Array(_0x12939c['buffer'])['set'](_0x560ce6),(_0x30cfe6=this['sh1to3Text'+'ure'])==null||_0x30cfe6['unlock'](),this['shBands']>0x229d+-0xef2+-0x13aa){const _0x326f72=(_0xacc148=this['sh4to7Text'+'ure'])==null?void(0x263*0x3+-0x11*0x1cd+0x1774):_0xacc148['lock']();if(new Uint32Array(_0x326f72['buffer'])['set'](_0x57524a),(_0x2cb155=this['sh4to7Text'+'ure'])==null||_0x2cb155['unlock'](),this['shBands']>-0x1*-0x2575+-0x1*0x217b+0x4*-0xfe){const _0x5463fd=(_0x5ddc68=this['sh8to11Tex'+'ture'])==null?void(0x1*0x7a2+0x21d6+-0x2978*0x1):_0x5ddc68['lock']();new Uint32Array(_0x5463fd['buffer'])['set'](_0x1bb056),(_0x4f02cf=this['sh8to11Tex'+'ture'])==null||_0x4f02cf['unlock']();const _0x2be66f=(_0x382562=this['sh12to15Te'+'xture'])==null?void(-0x4*0x557+0xcda+0x882):_0x382562['lock']();new Uint32Array(_0x2be66f['buffer'])['set'](_0x1b8c8e),(_0x4da0f3=this['sh12to15Te'+'xture'])==null||_0x4da0f3['unlock']();}else{const _0x40592e=(_0x41c66b=this['sh8to11Tex'+'ture'])==null?void(-0xe*0x296+-0x246c+-0x70*-0xa6):_0x41c66b['lock']();new Uint32Array(_0x40592e['buffer'])['set'](_0x1bb056),(_0x50c858=this['sh8to11Tex'+'ture'])==null||_0x50c858['unlock']();}}});}}async function G1(){let _0x4cfc23=null,_0x47f8ef=null,_0x477b87=null,_0x218153=null,_0x41fc07=null,_0x48826d=null,_0x1691d5=null,_0x30f6d3=null,_0x332f90=null,_0x45bb51=null,_0x401513=null,_0x7b2afc=null,_0x4cc7de=null,_0x1aa7d7=null,_0x31a3e5=null,_0x2fff54=null,_0x29a84d=null,_0x16301a=null,_0x287233=null,_0x489fac=null,_0x256711=null,_0x1ba8e6=null,_0x2f22df=null,_0xb620ca=null,_0x4a1f2e=null,_0x3d32ba=Float32Array['BYTES_PER_'+'ELEMENT'],_0x571c84=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x3b17d6=0x1437*-0x1+-0xd*-0x27f+0x12*-0xae,_0x1cd5a3=!(-0x15*-0x179+-0x19d*0x17+0x62e),_0x5b6c09,_0x37919b,_0x590829={'x':0x0,'y':0x0,'z':0x0},_0x15a6bd={'x':0x0,'y':0x0,'z':0x0},_0x24c892=!(0xfc8*-0x1+-0x2fb+0x3*0x641),_0x38fe8a=!(-0x1*0x1ba9+-0x382+0x5f*0x54),_0x2e4619=!(0x564*0x2+0x1*-0x138a+0x1*0x8c3),_0xaa19c=0x15a0+-0x15f0*0x1+0x10*0x5,_0x27eab9=0x1*0x17ff+0xd*0xe5+-0x23a0,_0x5d3a69=!(0x6ec+-0x4b5+-0x236),_0x3e4fa0=null;self['onmessage']=async _0xbaec9c=>{const {data:_0x108a17}=_0xbaec9c;switch(_0x108a17['type']){case'initWorker':_0x3b17d6=_0x108a17['numSplats'],_0x25256c(),_0x1cd5a3=_0x108a17['is4d'],await _0x984a25(_0x108a17['sortWasmUr'+'l']),_0x29d182(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x108a17['dataReady']){if(_0x48826d&&_0x108a17['centers']&&_0x48826d['length']===_0x108a17['centers']['length']){const _0xc7e97e=new Float32Array(_0x108a17['centers']);_0x48826d['set'](_0xc7e97e);}if(_0x332f90&&_0x108a17['timeIndex']&&_0x332f90['length']===_0x108a17['timeIndex']['length']){const _0x42786a=new Uint32Array(_0x108a17['timeIndex']);_0x332f90['set'](_0x42786a);}if(_0x7b2afc&&_0x108a17['motion']&&_0x7b2afc['length']===_0x108a17['motion']['length']){const _0x311b63=new Float32Array(_0x108a17['motion']);_0x7b2afc['set'](_0x311b63);}if(_0x1cd5a3&&_0x45bb51&&_0x401513&&_0x108a17['muT']&&_0x108a17['tScale']&&_0x45bb51['length']===_0x108a17['muT']['length']&&_0x401513['length']===_0x108a17['tScale']['length']&&(_0x45bb51['set'](_0x108a17['muT']),_0x401513['set'](_0x108a17['tScale'])),_0x1691d5){for(let _0x56122c=-0xa13*-0x1+-0x43b*0x1+0x58*-0x11;_0x56122c<_0x1691d5['length'];++_0x56122c)_0x1691d5[_0x56122c]=_0x56122c;}_0x41fc07&&_0x108a17['timeOption']&&_0x41fc07['set'](_0x108a17['timeOption']),setTimeout(()=>{_0xe84ba7();},-0x1b9a*0x1+0x13de*-0x1+-0x17bc*-0x2);}break;case'setTime':_0x5b6c09=_0x108a17['time'],_0x76589b();break;case'setUseTemp'+'oralSort':_0x24c892=_0x108a17['useTempora'+'lSort'];break;case'sort':if(!_0x477b87)return;_0x477b87[0x1622+0xec8+-0x24ea]=_0x108a17['cameraPosi'+'tion']['x'],_0x477b87[-0x242e+-0x1380+0x37af]=_0x108a17['cameraPosi'+'tion']['y'],_0x477b87[-0x1*-0x26ef+0x1e40+0x452d*-0x1]=_0x108a17['cameraPosi'+'tion']['z'],_0x218153[0x2*-0x166+0x1*-0x16e1+0x19ad]=_0x108a17['cameraDire'+'ction']['x'],_0x218153[-0x1d70+-0x1976+-0x36e7*-0x1]=_0x108a17['cameraDire'+'ction']['y'],_0x218153[-0xfc*0x26+-0x2429+0x4993]=_0x108a17['cameraDire'+'ction']['z'],_0x76589b();break;}};const _0x76589b=()=>{_0x3e4fa0&&clearTimeout(_0x3e4fa0),_0x3e4fa0=setTimeout(()=>{_0x3e4fa0=null,_0x382a2a();},0x2001+-0x5bd*0x6+0x26d);},_0x25256c=()=>{_0x27eab9=Math['max'](-0x7f3+0x2283+-0x1a86,Math['min'](-0xaf*-0x1+0x824*0x3+-0x1907,Math['round'](Math['log2'](_0x3b17d6/(0x5*0x50e+0x1d00+-0x3642))))),_0xaa19c=(-0xb*-0x19d+0xb2*0x1d+0x139*-0x1f)**_0x27eab9+(-0x1*-0x186d+0x15c8+-0x2*0x171a);},_0x29d182=()=>(_0x4cc7de=-0x13a2+-0xf20+0x1*0x22c2,_0x1aa7d7=_0x4cc7de+_0x3b17d6*_0x3d32ba*(0x152f+0xa8b*0x2+-0x2a42),_0x287233=_0x1aa7d7+(0x3d1*-0x6+-0x244d+0x3b97)*_0x3d32ba*(-0x1052+0x173*0x3+0xbfb),_0x489fac=_0x287233+_0x3b17d6*_0x571c84,_0x256711=_0x489fac+(0x9*0x3bf+-0xb9c+-0x1618)*_0x3d32ba,_0x1ba8e6=_0x256711+(0x172+-0x57*-0x39+-0x14ce)*_0x3d32ba,_0x2f22df=_0x1ba8e6+(0x1b0e+0x19e+-0x1ca9*0x1)*_0x3d32ba,_0xb620ca=_0x2f22df+(0x1e2b*-0x1+0x2407+0x1*-0x5d9)*_0x3d32ba,_0x4a1f2e=_0xb620ca+_0x3b17d6*_0x571c84,_0x48826d=new Float32Array(_0x47f8ef,_0x4cc7de,_0x3b17d6*(-0x122*-0x17+0x16b9+-0x30c4)),_0x41fc07=new Float32Array(_0x47f8ef,_0x1aa7d7,(-0x25eb*0x1+-0x2bd*0xc+0x472b)*(0x1*-0x10a3+-0xd3+0x1178)),_0x1691d5=new Uint32Array(_0x47f8ef,_0x287233,_0x3b17d6),_0x30f6d3=new Uint32Array(_0x1691d5),_0x477b87=new Float32Array(_0x47f8ef,_0x489fac,-0x1*0xfa3+0x246*0x10+0x2f6*-0x7),_0x218153=new Float32Array(_0x47f8ef,_0x256711,0x1af+-0x80c+-0xc*-0x88),_0x1cd5a3&&(_0x29a84d=_0x4a1f2e+_0xaa19c*_0x571c84,_0x16301a=_0x29a84d+_0x3b17d6*_0x3d32ba,_0x2fff54=_0x16301a+_0x3b17d6*_0x3d32ba,_0x31a3e5=_0x2fff54+_0x3b17d6*(0x2fe+0x1212+-0x13d*0x11)*_0x3d32ba,_0x45bb51=new Float32Array(_0x47f8ef,_0x29a84d,_0x3b17d6),_0x401513=new Float32Array(_0x47f8ef,_0x16301a,_0x3b17d6),_0x7b2afc=new Float32Array(_0x47f8ef,_0x2fff54,_0x3b17d6*(0x8*0x269+0xb*-0x3b+-0x10bc)),_0x332f90=new Uint32Array(_0x47f8ef,_0x31a3e5,_0x3b17d6)),{'sharedMemory':_0x47f8ef,'layout':{'timeOptionPtr':_0x1aa7d7,'timeIndexPtr':_0x31a3e5,'centersPtr':_0x4cc7de,'motionPtr':_0x2fff54,'muTPtr':_0x29a84d,'tScalePtr':_0x16301a,'orderPtr':_0x287233,'cameraPositionPtr':_0x489fac,'cameraDirectionPtr':_0x256711,'boundMinPtr':_0x1ba8e6,'boundMaxPtr':_0x2f22df,'distancesPtr':_0xb620ca,'countBufferPtr':_0x4a1f2e}}),_0x984a25=async _0x38be0d=>{let _0xde3647=_0x3b17d6*_0x3d32ba*(0xd84+-0x3*-0x2cf+0x2*-0xaf7);_0xde3647+=_0x3b17d6*_0x571c84,_0xde3647+=(0x2661+0x1*-0x857+-0x1e07)*_0x3d32ba,_0xde3647+=(-0x787*0x5+-0x233a+-0x247*-0x20)*_0x3d32ba,_0xde3647+=(0xe92*-0x1+0xf16+-0x81)*_0x3d32ba,_0xde3647+=(-0xdd3+0x2377+-0x15a1)*_0x3d32ba,_0xde3647+=_0x3b17d6*_0x3d32ba,_0xde3647+=_0xaa19c*_0x571c84,_0xde3647+=(0x19a3+-0x2*-0x9c6+-0x2ccb)*_0x3d32ba*(0x753+0x11*0x1bb+-0x24bc),_0xde3647+=_0x3b17d6*_0x571c84,_0x1cd5a3&&(_0xde3647+=_0x3b17d6*_0x3d32ba,_0xde3647+=_0x3b17d6*_0x3d32ba,_0xde3647+=_0x3b17d6*_0x3d32ba*(-0x2569+0x1bc2+-0x4d5*-0x2));const _0x3d11c5=(0x3e9+-0x1f9*-0x4+-0xb8d)*(-0x11e6+0x5*0x209+0xbb9),_0x5f1799=Math['ceil'](_0xde3647/_0x3d11c5),_0x3a6575={'env':{'memory':new WebAssembly['Memory']({'initial':_0x5f1799,'maximum':_0x5f1799,'shared':!(-0x5*-0xc1+0x2*0xf7b+-0x22bb)}),'pthread_self':function(){return-0x202+-0x4a2+0x2*0x352;},'emscripten_builtin_memalign':function(){return 0x18af+0x2413+-0x3cc2;},'loggerVec3':(_0x324f0e,_0x3fa20e,_0x55ea9f,_0x26e473)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x324f0e+']\x200:'+_0x3fa20e+'\x201:'+_0x55ea9f+'\x202:'+_0x26e473);},'loggerFloat':(_0x2a7be0,_0x3d270e)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x2a7be0+']\x20a:'+_0x3d270e);},'loggerValue':(_0x176c48,_0x2863e9,_0x3723a7,_0x5c7f40,_0x4527aa)=>{console['log']('C++\x20logger'+'Value\x20['+_0x176c48+']\x20minDist:'+_0x2863e9+'\x20maxDist:'+_0x3723a7+'\x20range:'+_0x5c7f40+'\x20divider:'+_0x4527aa);},'loggerCamera':(_0xb09a4f,_0x57dda2,_0x2d22c9,_0x2b734f,_0x52f82d,_0x75056c,_0x25ea12)=>{console['log']('C++\x20logger'+'Camera\x20['+_0xb09a4f+']\x20x:'+_0x57dda2+'\x20y:'+_0x2d22c9+'\x20z:'+_0x2b734f+'\x20dx:'+_0x52f82d+'\x20dy:'+_0x75056c+'\x20dz:'+_0x25ea12);},'loggerBound':(_0x83bc3f,_0x570deb,_0x515dd4,_0x291f5e,_0x24a6d4,_0x3a8616)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x83bc3f+'\x20minY:'+_0x570deb+'\x20minZ:'+_0x515dd4+'\x20maxX:'+_0x291f5e+'\x20maxY:'+_0x24a6d4+'\x20maxZ:'+_0x3a8616);},'loggerDebug':_0x3feda9=>{console['log']('C++\x20logger'+'Debug\x20['+_0x3feda9+']');}}};try{const _0xc0af2=await(await fetch(_0x38be0d))['arrayBuffe'+'r']();return _0x4cfc23=(await WebAssembly['instantiat'+'e'](_0xc0af2,_0x3a6575))['instance'],_0x47f8ef=_0x3a6575['env']['memory']['buffer'],_0x4cfc23;}catch(_0x3b09ea){throw console['error']('加载WASM模块失败'+':',_0x3b09ea),_0x3b09ea;}},_0xe84ba7=()=>{if(!_0x4cfc23)return;const {calcAABB:_0x5c351d}=_0x4cfc23['exports'];_0x5c351d(_0x4cc7de,_0x1ba8e6,_0x2f22df,_0x3b17d6);},_0x382a2a=()=>{if(!_0x4cfc23||_0x287233===null||_0x4cc7de===null||_0x489fac===null||_0x256711===null||_0x1ba8e6===null||_0x2f22df===null)return;const _0x54a7b9=_0x477b87[-0x1*0x1da1+0x1*0x617+0x1*0x178a],_0x2bab41=_0x477b87[0x2*0x907+-0xdc7*0x2+0x981],_0x434467=_0x477b87[-0xdf9+-0x2365+0x3160],_0x399411=_0x218153[0x3a*-0x7b+-0x68*0x56+0x3ece],_0x3e700b=_0x218153[0x2b*0x92+0xee6+0x276b*-0x1],_0x3f34c0=_0x218153[0x38a*-0x7+-0x1208+0x2ad0],_0x133354=-0x318*-0x6+0x4b*0x81+-0x385b+0.001;if(!_0x38fe8a&&Math['abs'](_0x54a7b9-_0x590829['x'])<_0x133354&&Math['abs'](_0x2bab41-_0x590829['y'])<_0x133354&&Math['abs'](_0x434467-_0x590829['z'])<_0x133354&&Math['abs'](_0x399411-_0x15a6bd['x'])<_0x133354&&Math['abs'](_0x3e700b-_0x15a6bd['y'])<_0x133354&&Math['abs'](_0x3f34c0-_0x15a6bd['z'])<_0x133354&&Math['abs'](_0x5b6c09-_0x37919b)<-0x1b2+0x1951*-0x1+0x1b03+0.01)return;if(_0x2e4619){_0x5d3a69=!(-0x1aa4+0x4*0x77+-0xc64*-0x2);return;}_0x2e4619=!(-0x11f2+-0x2103+0x32f5),_0x38fe8a=!(0x2310+0x17f8+0x68f*-0x9),_0x37919b=_0x5b6c09,_0x590829['x']=_0x54a7b9,_0x590829['y']=_0x2bab41,_0x590829['z']=_0x434467,_0x15a6bd['x']=_0x399411,_0x15a6bd['y']=_0x3e700b,_0x15a6bd['z']=_0x3f34c0,_0x5d3a69=!(-0x59f*0x2+-0x55*0x7+-0x243*-0x6);const {sortIndexes:_0x9f111c}=_0x4cfc23['exports'];try{const _0x345313=_0x9f111c(_0x287233,_0x4cc7de,_0x2fff54,_0x29a84d,_0x16301a,_0x489fac,_0x256711,_0x1ba8e6,_0x2f22df,_0xb620ca,_0x4a1f2e,_0x5b6c09,_0x24c892,_0x1cd5a3,_0x3b17d6,_0xaa19c,_0x27eab9,_0x1aa7d7,_0x31a3e5);_0x30f6d3['set'](_0x1691d5),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x345313,'order':_0x30f6d3});}catch(_0x30e71c){console['error']('排序操作失败:',_0x30e71c),self['postMessag'+'e']({'type':'error','error':_0x30e71c['message']});}_0x2e4619=!(0x1f30+0x1a*0x168+-0x43bf),_0x5d3a69&&_0x76589b();};}class H1 extends ce{constructor(_0x23d978,_0x4a437d=!(0x414+-0x269f*0x1+0x228b)){super(),c(this,'worker',null),c(this,'numSplats',0x3*0xbb4+0x58b+0x3*-0xd8d),c(this,'is4d',!(-0xb91+0x21cc+-0x163b)),c(this,'sortStartT'+'ime',0x1f38+-0x23ca+0x1a*0x2d),c(this,'orderTextu'+'re'),(this['numSplats']=_0x23d978,this['is4d']=_0x4a437d,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x368b8e=>{if(!this['worker'])return;const {data:_0xc7ea96}=_0x368b8e;switch(_0xc7ea96['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0xc7ea96['order']){const _0x51ef99=this['orderTextu'+'re']['lock']();new Uint32Array(_0x51ef99['buffer'])['set'](_0xc7ea96['order']),this['orderTextu'+'re']['unlock']();}let _0x2d3a4a=0x61f*-0x6+0x2*-0x137b+0x2*0x25d8;this['sortStartT'+'ime']!==0x9*0x1a7+-0x1fa3+0x10c4&&(_0x2d3a4a=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x368b8e['data']['count'],_0x2d3a4a),this['sortStartT'+'ime']=-0x19e3+0x2*0x4+0x19db;break;case'error':console['error']('Worker错误:',_0xc7ea96['error']),this['fire']('error',_0xc7ea96['error']);break;}};const _0x1591df=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x1591df,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x476ed0,_0x1bf946,_0x1f51d0,_0x30ae1e,_0x2d66bd,_0x2cd0f4,_0x1c716a){var _0x1848c9;(!_0x1c716a||_0x1c716a['length']===-0x22ad+0x109f+0x907*0x2)&&(_0x1c716a=[0x194c+-0x1d45+0x3f9,0x1d*0xae+0x1f*0x109+-0x3391]),this['orderTextu'+'re']=_0x476ed0,(_0x1848c9=this['worker'])==null||_0x1848c9['postMessag'+'e']({'type':'initData','centers':_0x1bf946,'muT':_0x1f51d0,'tScale':_0x30ae1e,'motion':_0x2d66bd,'timeIndex':_0x2cd0f4,'timeOption':_0x1c716a,'dataReady':!(-0x9da+-0x1c4c+-0x1*-0x2626)});}['resize'](_0xe7c920){this['destroy'](),this['numSplats']=_0xe7c920,this['_initWorke'+'r']();}['setCamera'](_0x136780,_0x181876){this['worker']&&(this['sortStartT'+'ime']===0xc22+-0x21*0x119+0x1817&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x136780['x'],'y':_0x136780['y'],'z':_0x136780['z']},'cameraDirection':{'x':_0x181876['x'],'y':_0x181876['y'],'z':_0x181876['z']}}));}['setCurrent'+'Time'](_0x5407e6){this['worker']&&(this['sortStartT'+'ime']===-0x1c64+0x3b0+0x18b4&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x5407e6}));}['setUseTemp'+'oralSort'](_0x3efa1b){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x3efa1b});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),kn=new T(),Gl=[-0x1019+0x139d*-0x1+0x23b6,0xbb7*-0x3+0x1538+0x9b*0x17];class Np{constructor(_0x16f646,_0x14ed2b){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',0x73c*0x5+-0x13d+-0x1*0x22ef),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x16f646['numSplats']),this['splat']=_0x16f646,this['options']=Object['assign'](this['options'],_0x14ed2b));const _0x4fac3c=_0x16f646['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x200fe2=-0x1268*-0x2+0x15*0x1+-0x2465,_0x46c136=Math['ceil'](_0x16f646['numSplats']/_0x200fe2)*_0x200fe2/_0x200fe2,_0x1d87b7=new Uint32Array(_0x46c136);for(let _0x58dafe=-0x1*-0x29f+-0x1*-0x15dc+0x3*-0x829;_0x58dafe<_0x46c136;++_0x58dafe)_0x1d87b7[_0x58dafe]=_0x58dafe*_0x200fe2;const _0x3608fc=new Et(_0x4fac3c,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x302+-0x1e34+0x3b*0x76)}]),_0x5a26b8=new os(_0x4fac3c,_0x3608fc,_0x46c136,{'usage':jt,'data':_0x1d87b7['buffer']}),_0x474790=new Float32Array((0x1adb+-0x65*-0x35+0x3fa*-0xc)*_0x200fe2),_0x5ee7a4=new Uint32Array((0x1*-0x156+0x1703*0x1+-0x15a7)*_0x200fe2);for(let _0x435812=0x126b+-0x78d*0x5+0xa5*0x1e;_0x435812<_0x200fe2;++_0x435812){_0x474790['set']([-(-0x1*0x1744+0x690+-0x263*-0x7),-(0x1693+0x266c+-0x3cfe),_0x435812,-0x2*0x1293+0x387*-0x2+0x2c35,-(0x1*-0x258a+0x155e+-0x29*-0x65),_0x435812,0x4fe+-0xcd+0x10c*-0x4,0x1*0x5f7+-0xd3e+-0x2*-0x3a4,_0x435812,-(0x7ce+0x141f+-0x1bec),0x1*0x16b7+-0x2700+0x104a,_0x435812],_0x435812*(-0x6*-0x5af+0x215+-0x2423));const _0xe95b14=_0x435812*(-0xa1*0xd+0x1883+0x1*-0x1052);_0x5ee7a4['set']([0x25*0x2+0x11*0x219+-0x23f3+_0xe95b14,0x3cb*0xa+-0x1*-0x10b4+-0x36a1+_0xe95b14,-0x1be7+0x1*-0xd3f+-0x36e*-0xc+_0xe95b14,-0xa2+-0x12b6+0x1358+_0xe95b14,0x22a4+-0x24fe+0x97*0x4+_0xe95b14,0x1*0x1f1f+0x26c2+-0x45de+_0xe95b14],_0x435812*(-0x26b0+-0x1e81+-0x553*-0xd));}const _0x4b2050=new Ie(_0x4fac3c);_0x4b2050['setPositio'+'ns'](_0x474790,-0x2068+0xe8*0x23+0xb3*0x1),_0x4b2050['setIndices'](_0x5ee7a4),_0x4b2050['update'](),this['mesh']=_0x4b2050,this['mesh']['aabb']['copy'](_0x16f646['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x5a26b8,!(0x1*-0x26e3+0x36d*-0x1+0x2a50)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x179c+0x1*-0xf01+0x1*-0x89b,(!_0x14ed2b['dither']||_0x14ed2b['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x11d0b0;(_0x11d0b0=this['sorter'])==null||_0x11d0b0['initData'](this['orderTextu'+'re'],_0x16f646['centers'],_0x16f646['muT'],_0x16f646['tScale'],_0x16f646['motion'],_0x16f646['timeIndex'],_0x16f646['timeOption']);}),this['sorter']['on']('updated',_0x4bf609=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x4bf609/_0x200fe2),this['material']['setParamet'+'er']('numSplats',_0x4bf609);}));}['updateData'](_0x1f4d10){var _0x314e9d;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x1f4d10['numSplats']),this['splat']=_0x1f4d10;const _0x4f30e5=_0x1f4d10['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x50aa26=0x1b10+0x164a+-0x30da,_0x4ee2d7=Math['ceil'](_0x1f4d10['numSplats']/_0x50aa26)*_0x50aa26/_0x50aa26,_0x27c7fb=new Uint32Array(_0x4ee2d7);for(let _0x57abf2=-0x1bd0+-0x3b*0x10+0x1f80;_0x57abf2<_0x4ee2d7;++_0x57abf2)_0x27c7fb[_0x57abf2]=_0x57abf2*_0x50aa26;const _0x1c9a74=new Et(_0x4f30e5,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x85f*-0x3+-0xa68+-0x15*-0x1b1)}]),_0x54a09f=new os(_0x4f30e5,_0x1c9a74,_0x4ee2d7,{'usage':jt,'data':_0x27c7fb['buffer']});this['mesh']['aabb']['copy'](_0x1f4d10['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x54a09f,!(0x5c5+0x533*0x7+0x2a*-0x101)),this['meshInstan'+'ce']['instancing'+'Count']=-0x449+-0x7*-0x1ae+-0x779,(_0x314e9d=this['sorter'])==null||_0x314e9d['resize'](_0x1f4d10['numSplats']);}['releaseSeq'](_0x3340fc){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x3340fc);}['destroy'](){var _0x130ee1,_0x46e0da,_0x1f3dc1;(_0x130ee1=this['material'])==null||_0x130ee1['destroy'](),(_0x46e0da=this['meshInstan'+'ce'])==null||_0x46e0da['destroy'](),(_0x1f3dc1=this['sorter'])==null||_0x1f3dc1['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x241b95){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x241b95),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x23bbee=this['splat']['device'];if(Gl[0x1*0x1c27+-0x1ae1*-0x1+-0x3708]=_0x23bbee['width'],Gl[-0x163b+0xef*0x8+0x2a*0x5a]=_0x23bbee['height'],this['cameras']['length']>-0xd27+0x486*0x1+0x1*0x8a1){const _0x78c659=this['cameras'][-0x13e8+-0x1*0x98b+0x1d73]['xr'];_0x78c659&&_0x78c659['active']&&_0x78c659['views']['list']['length']===-0xef0+-0x269e+0x10*0x359&&(Gl[0x191+-0x2174+-0x3*-0xaa1]/=0x2705+0xea4+-0x35a7);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x46c018){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x28a402=_0x46c018['getWorldTr'+'ansform']();_0x28a402['getTransla'+'tion'](On),_0x28a402['getZ'](kn);const _0x391946=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x4a54de=W1['invert'](_0x391946);_0x4a54de['transformP'+'oint'](On,On),_0x4a54de['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>-0xba7+-0x5fc*-0x1+0x5ab){const _0x2bbaaa=this['cameras'][0x1f20+-0x2*-0x1093+-0x4046*0x1];this['sort'](_0x2bbaaa['_node']),this['cameras']['length']=-0xebd+-0x16bc+-0xb5*-0x35;}}['updateTime'](_0x588610){this['time']=_0x588610;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x57c9c7){U0=_0x57c9c7;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x572c90){v['assert'](_0x572c90),_0x572c90['frameUpdat'+'e']();const _0x41a7dc=_0x572c90['beforePass'+'es'];for(let _0x5fa771=0x229b+-0x1*-0x1105+-0x38*0xec;_0x5fa771<_0x41a7dc['length'];_0x5fa771++){const _0x3554f6=_0x41a7dc[_0x5fa771];_0x3554f6['enabled']&&this['addRenderP'+'ass'](_0x3554f6);}_0x572c90['enabled']&&this['renderPass'+'es']['push'](_0x572c90);const _0x5979a2=_0x572c90['afterPasse'+'s'];for(let _0x531f5b=0x8c9+-0x7a2*0x5+-0x9cb*-0x3;_0x531f5b<_0x5979a2['length'];_0x531f5b++){const _0x10bf5=_0x5979a2[_0x531f5b];_0x10bf5['enabled']&&this['addRenderP'+'ass'](_0x10bf5);}}['reset'](){this['renderPass'+'es']['length']=-0x1c65*0x1+-0x1d63+-0x2*-0x1ce4;}['compile'](){const _0x393533=this['renderTarg'+'etMap'],_0x5752e0=this['renderPass'+'es'];for(let _0xf2ce97=0x1ed2+-0x194c+-0x586;_0xf2ce97<_0x5752e0['length'];_0xf2ce97++){const _0x3b1b2d=_0x5752e0[_0xf2ce97],_0x1be114=_0x3b1b2d['renderTarg'+'et'];if(_0x1be114!==void(0xc72*-0x1+-0x1*0x2c+0x143*0xa)){const _0x187dbb=_0x393533['get'](_0x1be114);if(_0x187dbb){const _0x21e2ff=_0x3b1b2d['colorArray'+'Ops']['length'];for(let _0x167807=0x3*-0x1b7+-0x1d1+-0x6*-0x129;_0x167807<_0x21e2ff;_0x167807++)_0x3b1b2d['colorArray'+'Ops'][_0x167807]['clear']||(_0x187dbb['colorArray'+'Ops'][_0x167807]['store']=!(0x1*0x14a3+0x194a+-0x2ded));_0x3b1b2d['depthStenc'+'ilOps']['clearDepth']||(_0x187dbb['depthStenc'+'ilOps']['storeDepth']=!(-0x173e+0xbdf*-0x1+0x231d)),_0x3b1b2d['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x187dbb['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x35b+-0x127*0x15+0xa6c*0x2));}_0x393533['set'](_0x1be114,_0x3b1b2d);}}for(let _0x4b701c=0x1*-0x6bc+0x6*0x572+-0x19f0;_0x4b701c<_0x5752e0['length']-(-0x2e1+0x58e+-0x2ac);_0x4b701c++){const _0x1db2d7=_0x5752e0[_0x4b701c],_0x16ee90=_0x1db2d7['renderTarg'+'et'],_0x22c892=_0x5752e0[_0x4b701c+(0x1156+-0x1*-0x661+-0x17b6)],_0x446414=_0x22c892['renderTarg'+'et'];_0x16ee90!==_0x446414||_0x16ee90===void(-0x1*0x192d+0xb7*-0x2e+0x3a0f)||_0x22c892['depthStenc'+'ilOps']['clearDepth']||_0x22c892['depthStenc'+'ilOps']['clearStenc'+'il']||_0x22c892['colorArray'+'Ops']['some'](_0x5669f7=>_0x5669f7['clear'])||_0x1db2d7['afterPasse'+'s']['length']>0x1d4d+-0x11*-0x61+-0x23be||_0x22c892['beforePass'+'es']['length']>0x1220+0x21*0x7d+-0x1*0x223d||(_0x1db2d7['_skipEnd']=!(-0xd3+-0x159a*0x1+0x166d),_0x22c892['_skipStart']=!(0x10f1+-0x146*-0x1+-0x1237));}let _0x5a07b7=null,_0x3d6a23=null;for(let _0x251c69=0x2376+0x1*-0x10af+0x17*-0xd1;_0x251c69<_0x5752e0['length'];_0x251c69++){const _0x4eed6d=_0x5752e0[_0x251c69],_0x71fc50=_0x4eed6d['renderTarg'+'et'],_0x312040=_0x71fc50==null?void(0x1364*0x1+0x2f*-0x25+-0xc99):_0x71fc50['colorBuffe'+'r'];if(_0x312040!=null&&_0x312040['cubemap']){if(_0x5a07b7===_0x312040){const _0x21275f=_0x3d6a23['colorArray'+'Ops']['length'];for(let _0x2f6b8c=-0x102*-0x14+-0xffe+-0x42a;_0x2f6b8c<_0x21275f;_0x2f6b8c++)_0x3d6a23['colorArray'+'Ops'][_0x2f6b8c]['mipmaps']=!(0x2e*-0x1c+-0x156d+0x1a76);}_0x5a07b7=_0x71fc50['colorBuffe'+'r'],_0x3d6a23=_0x4eed6d;}else _0x4eed6d['requiresCu'+'bemaps']&&(_0x5a07b7=null,_0x3d6a23=null);}_0x393533['clear']();}['render'](_0x39c4a9){this['compile']();const _0x1ad39a=this['renderPass'+'es'];for(let _0x4e6ca2=-0x568*-0x7+0x2f4+-0x1*0x28cc;_0x4e6ca2<_0x1ad39a['length'];_0x4e6ca2++)_0x1ad39a[_0x4e6ca2]['render']();}}class j1{constructor(_0x4c68bb,_0x23ba41){this['texture0']=_0x4c68bb,this['texture1']=_0x23ba41;}['destroy'](){var _0x2bcbbd,_0x1aa6a5;(_0x2bcbbd=this['texture0'])==null||_0x2bcbbd['destroy'](),(_0x1aa6a5=this['texture1'])==null||_0x1aa6a5['destroy']();}}const H_=new Ot();class $r{static['createText'+'ure'](_0x30ea30,_0x1d222f,_0x15d1f0,_0x2bc421=''){return new he(_0x30ea30,{'name':'AreaLightL'+'UT'+_0x2bc421,'width':_0x15d1f0,'height':_0x15d1f0,'format':_0x1d222f,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x1*-0x1019+-0x87b*0x1+0x1895)});}static['applyTextu'+'res'](_0x13df60,_0x4ebc3e,_0x9afb4b){H_['remove'](_0x13df60),H_['get'](_0x13df60,()=>new j1(_0x4ebc3e,_0x4ebc3e===_0x9afb4b?null:_0x9afb4b)),_0x13df60['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x4ebc3e),_0x13df60['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x9afb4b);}static['createPlac'+'eholder'](_0x107101){const _0x44e30c=$r['createText'+'ure'](_0x107101,Je,0x14b8+-0x1579+0x5*0x27,'placeholde'+'r');_0x44e30c['lock']()['fill'](0x2ab*-0x2+-0x8b2+0xe08),_0x44e30c['unlock'](),$r['applyTextu'+'res'](_0x107101,_0x44e30c,_0x44e30c);}static['set'](_0x20c4c7,_0x23bbc7,_0x10a54d){function _0x49d9af(_0x59c950,_0x2c77c0,_0x6a5413){const _0x3b9d11=$r['createText'+'ure'](_0x59c950,_0x6a5413,-0x15f2+-0x1*-0x867+0xdcb);return _0x3b9d11['lock']()['set'](_0x2c77c0),_0x3b9d11['unlock'](),_0x3b9d11;}function _0x3bceff(_0x599394){const _0x1c95cb=_0x599394['length'],_0x5c2be4=new Uint16Array(_0x1c95cb),_0x4f1b61=Wt['float2Half'];for(let _0x102f79=-0x2*-0xc93+-0x1*-0x1e89+0x5*-0xb23;_0x102f79<_0x1c95cb;_0x102f79++)_0x5c2be4[_0x102f79]=_0x4f1b61(_0x599394[_0x102f79]);return _0x5c2be4;}const _0x1ed35a=_0x23bbc7,_0x4badfb=_0x10a54d,_0x15ed70=_0x3bceff(_0x1ed35a),_0x534fd4=_0x3bceff(_0x4badfb),_0x3f4d95=_0x49d9af(_0x20c4c7,_0x15ed70,Je),_0x105b84=_0x49d9af(_0x20c4c7,_0x534fd4,Je);$r['applyTextu'+'res'](_0x20c4c7,_0x3f4d95,_0x105b84);}}const Wh='en-US',$h={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x1a97e8,_0x634935){for(let _0x2b67d0=0x85*-0x3d+0x16ff+-0x3*-0x2e6,_0xaa5cd=_0x1a97e8['length'];_0x2b67d0<_0xaa5cd;_0x2b67d0++)zp[_0x1a97e8[_0x2b67d0]]=_0x634935;}function pi(_0x3ced34){const _0x35f89c=_0x3ced34['indexOf']('-');return _0x35f89c!==-(0x2*0xa91+0x1994+-0xb*0x43f)?_0x3ced34['substring'](-0x24bf+-0x3*-0xc73+-0x9a,_0x35f89c):_0x3ced34;}function Y1(_0x14b451,_0x3dfecb){const _0x215058=_0x14b451['indexOf']('-');return _0x215058!==-(0x2645*-0x1+0x2*-0xcec+0x401e)?_0x3dfecb+_0x14b451['substring'](_0x215058):_0x3dfecb;}function V0(_0x39b726,_0x40989a){if(_0x40989a[_0x39b726])return _0x39b726;let _0x2e1d14=$h[_0x39b726];if(_0x2e1d14&&_0x40989a[_0x2e1d14])return _0x2e1d14;const _0x22c74e=pi(_0x39b726);return _0x2e1d14=$h[_0x22c74e],_0x40989a[_0x2e1d14]?_0x2e1d14:_0x40989a[_0x22c74e]?_0x22c74e:Wh;}pr(['ja','ko','th','vi','zh','id'],_0x272e02=>-0x2*-0x5e9+-0xb*-0x169+-0x1b55),pr(['fa','hi'],_0x449ec6=>_0x449ec6>=-0x202d*-0x1+0x11c7+-0x31f4&&_0x449ec6<=0x1dc4+0x1*0x1b3b+-0xb66*0x5?-0x1dfd+-0x3*-0x358+-0x13f5*-0x1:-0x401+-0x1*-0xd93+0x4f*-0x1f),pr(['fr','pt'],_0x18d343=>_0x18d343>=-0x32+0x3*-0xa3e+0x7bb*0x4&&_0x18d343<-0x15fc*0x1+0x1c34*0x1+-0x636?0x2340+0xbf5+0x1*-0x2f35:-0xa*0x29c+-0x12f9*-0x1+0x20*0x39),pr(['da'],_0x3c70bc=>_0x3c70bc===0x23b1+0xea4+-0x3254||!Number['isInteger'](_0x3c70bc)&&_0x3c70bc>=-0x21af+-0x251c+-0x1*-0x46cb&&_0x3c70bc<=-0xfe*0x4+-0x3eb+-0x4*-0x1f9?0x99d+0x2095*0x1+0x2*-0x1519:-0x18d0+-0x2686+-0xf*-0x439),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x182dde=>_0x182dde===-0x1f0b+-0x1dd0+0x3cdc?0x6f*0x8+-0x3*-0x331+-0x35*0x3f:-0x341*0x4+0x1*-0x99d+-0x1*-0x16a2),pr(['ru','uk'],_0x4e182e=>{if(Number['isInteger'](_0x4e182e)){const _0x1d9bf1=_0x4e182e%(-0xcfc+0x1*0x2149+-0x1443),_0x587eb7=_0x4e182e%(0x16c3*-0x1+0x5*0x7a7+0xf1c*-0x1);if(_0x1d9bf1===-0x227+-0x1b5b*-0x1+-0x1*0x1933&&_0x587eb7!==0xfa2+0x11d0+-0x2167)return-0x1*-0x1096+-0x21f1+0x115b;if(_0x1d9bf1>=-0x21ae+-0x156d+0x371d&&_0x1d9bf1<=0x1e12+-0x17e8+-0x626&&(_0x587eb7<-0xd67+-0x182+-0xef5*-0x1||_0x587eb7>0x1*0x721+-0x33d*-0x2+-0x1*0xd8d))return 0xe85+0x706*0x5+-0x31a2;if(_0x1d9bf1===-0x1*0xce9+-0x1e22+0x2b0b||_0x1d9bf1>=0x74c+0x1547+-0x1c8e&&_0x1d9bf1<=-0x1cb5+-0x1*0x355+0x3*0xab1||_0x587eb7>=-0x10ea+0xf*0x27+0x4e4*0x3&&_0x587eb7<=0xc11*0x3+0x51d+-0x2942)return-0xe41*0x1+0x25a2*0x1+-0x1*0x175f;}return 0x1*0x1f57+-0x154b+-0xa09;}),pr(['pl'],_0x1499d4=>{if(Number['isInteger'](_0x1499d4)){if(_0x1499d4===-0x2126+-0x1b52+0x3c79)return 0x2683*-0x1+0x1c*-0x9f+0x37e7;const _0x36dce6=_0x1499d4%(-0x1*-0x21e9+-0x78e*0x2+0x641*-0x3),_0x57c596=_0x1499d4%(0x1*-0x18cb+0x764+0x11cb);if(_0x36dce6>=-0xf58+0x2*0xb54+-0xaa*0xb&&_0x36dce6<=0x1573+0x367*0x1+0xc6b*-0x2&&(_0x57c596<-0x18ce+-0x1755*-0x1+0x185||_0x57c596>-0x16f5+0x2656*0x1+-0x1*0xf53))return-0x2e3*-0x1+-0x1652+0x1370;if(_0x36dce6>=-0xb6d+0x12d*-0x19+-0x6e*-0x5f&&_0x36dce6<=-0x17c6+0x7*-0x1+0x17ce||_0x36dce6>=-0x7*0x1a1+0x2619+-0x1*0x1aad&&_0x36dce6<=-0x2325+0x1147*-0x1+0x3475||_0x57c596>=0x1*0x1424+0x67*0x4f+-0x33e1*0x1&&_0x57c596<=-0xfe*0x1+-0x24ee+0x25fa)return-0x17*-0x1ab+-0x224e+0x3d*-0x11;}return-0x98c+0x95*-0x3b+-0x6*-0x751;}),pr(['ar'],_0x710254=>{if(_0x710254===0xd*0xdf+-0x1b25+0xfd2)return-0x6be*0x1+0xc0d+-0x54f;if(_0x710254===0xfe*0xb+-0x1b83+0x2*0x84d)return-0x1*-0x1e89+-0x23b+0x5*-0x5a9;if(_0x710254===-0x5de*0x6+0x2070+0x2c6)return-0x96e*-0x2+-0x22a5+0xfcb;if(Number['isInteger'](_0x710254)){const _0x2b8ab8=_0x710254%(0x505*-0x6+0x139d*0x1+0xae5);if(_0x2b8ab8>=0x1*-0x3f+0x2667+-0xf*0x28b&&_0x2b8ab8<=-0x2*0x6b5+0x10e7*-0x1+-0x1*-0x1e5b)return 0x1670+0x1*-0x12fd+-0x370;if(_0x2b8ab8>=0x133f+0x279+-0x15ad&&_0x2b8ab8<=-0x2548+0x1a4f+0x4*0x2d7)return 0x22ac+-0x86*-0x4a+-0x4964;}return 0x2520+-0x6f*-0x16+-0x2ea5;});const K1=zp[pi(Wh)];function Xd(_0x47d996){return zp[_0x47d996]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x3a04b4='',_0x2f8d53='',_0x21589b=null,_0x78564c=null,_0x545991=null,_0x2c3108=null){this['url']=_0x3a04b4,this['filename']=_0x2f8d53,this['hash']=_0x21589b,this['size']=_0x78564c,this['opt']=_0x545991,this['contents']=_0x2c3108;}['equals'](_0x2129a4){return this['url']===_0x2129a4['url']&&this['filename']===_0x2129a4['filename']&&this['hash']===_0x2129a4['hash']&&this['size']===_0x2129a4['size']&&this['opt']===_0x2129a4['opt']&&this['contents']===_0x2129a4['contents'];}}let Q1=-(0x59*-0x1+0x697+-0x63d*0x1);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0xcc5796,_0x1c64f8,_0x233978,_0x246f20,_0x520c8c){super(),this['_id']=Q1--,this['_name']=_0xcc5796||'',this['type']=_0x1c64f8,this['tags']=new po(this),this['_preload']=!(0x1b7b+-0x25*-0xd5+-0x3a43),this['_file']=null,this['_data']=_0x246f20||{},this['options']=_0x520c8c||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x7*0x3b9+-0x5*-0x2bd+0x1*0xc5f),this['loading']=!(-0x259c+-0x4c*-0x3+0x24b9),this['registry']=null,_0x233978&&(this['file']=_0x233978);}set['id'](_0x39e513){this['_id']=_0x39e513;}get['id'](){return this['_id'];}set['name'](_0x324a25){if(this['_name']===_0x324a25)return;const _0x4a47a2=this['_name'];this['_name']=_0x324a25,this['fire']('name',this,this['_name'],_0x4a47a2);}get['name'](){return this['_name'];}set['file'](_0x104109){var _0x2a9dc3,_0x33c333;if(_0x104109&&_0x104109['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0xd*0x2b8+0x938+-0x3d*0xbb)){const _0x1e2657=((_0x33c333=(_0x2a9dc3=this['registry'])==null?void(-0x29*0x20+-0x11f*0x1a+0x2246):_0x2a9dc3['_loader'])==null?void(0xd98+-0x1fe7+0x124f):_0x33c333['_app'])||tn(),_0x168c4b=_0x1e2657==null?void(-0x1e0b*0x1+-0x104b+0x2e56):_0x1e2657['graphicsDe'+'vice'];if(_0x168c4b)for(let _0xc0888e=-0x1664+0x277*0x1+0x13ed,_0x39923d=W_['length'];_0xc0888e<_0x39923d;_0xc0888e++){const _0x19c431=W_[_0xc0888e];if(_0x104109['variants'][_0x19c431]&&_0x168c4b[J1[_0x19c431]]){_0x104109=_0x104109['variants'][_0x19c431];break;}if(_0x1e2657['enableBund'+'les']){const _0x4eced6=_0x1e2657['bundles']['listBundle'+'sForAsset'](this);if(_0x4eced6&&_0x4eced6['find'](_0x4264d3=>{var _0x210268;return(_0x210268=_0x4264d3==null?void(-0x2fe+-0x2155+0x2453):_0x4264d3['file'])==null?void(-0x1*0x1c8f+-0x5*0x748+0x40f7*0x1):_0x210268['variants'][_0x19c431];}))break;}}}const _0x117083=this['_file'],_0x6eba38=_0x104109?new Z1(_0x104109['url'],_0x104109['filename'],_0x104109['hash'],_0x104109['size'],_0x104109['opt'],_0x104109['contents']):null;(!!_0x6eba38!=!!_0x117083||_0x6eba38&&!_0x6eba38['equals'](_0x117083))&&(this['_file']=_0x6eba38,this['fire']('change',this,'file',_0x6eba38,_0x117083),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x406950){const _0x3e3bed=this['_data'];this['_data']=_0x406950,_0x406950!==_0x3e3bed&&(this['fire']('change',this,'data',_0x406950,_0x3e3bed),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x39d3eb){const _0x3b9199=this['_resources'][0x31d+0x244e+-0x276b*0x1];this['_resources'][0x1f56+0x1*0x11a1+-0x30f7]=_0x39d3eb,this['fire']('change',this,'resource',_0x39d3eb,_0x3b9199);}get['resource'](){return this['_resources'][-0x1e80+-0x4e5*-0x7+0x3c3*-0x1];}set['resources'](_0x302dd1){const _0x2cc957=this['_resources'];this['_resources']=_0x302dd1,this['fire']('change',this,'resources',_0x302dd1,_0x2cc957);}get['resources'](){return this['_resources'];}set['preload'](_0x72d586){_0x72d586=!!_0x72d586,this['_preload']!==_0x72d586&&(this['_preload']=_0x72d586,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x44225c){_0x44225c=!!_0x44225c,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x44225c!==this['_loadFaces'])&&(this['_loadFaces']=_0x44225c,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x8a36fb=this['file'];if(!_0x8a36fb||!_0x8a36fb['url'])return null;let _0x4ea099=_0x8a36fb['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x4ea099)&&(_0x4ea099=this['registry']['prefix']+_0x4ea099),this['type']!=='script'&&_0x8a36fb['hash']){const _0x4d75c3=_0x4ea099['indexOf']('?')!==-(-0x24cb+0x1a6c+0xa60)?'&':'?';_0x4ea099+=_0x4d75c3+'t='+_0x8a36fb['hash'];}return _0x4ea099;}['getAbsolut'+'eUrl'](_0x26dac9){if(_0x26dac9['startsWith']('blob:')||_0x26dac9['startsWith']('data:'))return _0x26dac9;const _0x4da24b=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x4da24b,_0x26dac9);}['getLocaliz'+'edAssetId'](_0x61cfbc){return _0x61cfbc=V0(_0x61cfbc,this['_i18n']),this['_i18n'][_0x61cfbc]||null;}['addLocaliz'+'edAssetId'](_0x39a955,_0x20c5d6){this['_i18n'][_0x39a955]=_0x20c5d6,this['fire']('add:locali'+'zed',_0x39a955,_0x20c5d6);}['removeLoca'+'lizedAsset'+'Id'](_0x55fee9){const _0x43083e=this['_i18n'][_0x55fee9];_0x43083e&&(delete this['_i18n'][_0x55fee9],this['fire']('remove:loc'+'alized',_0x55fee9,_0x43083e));}['ready'](_0x5b90de,_0x57d195){_0x57d195=_0x57d195||this,this['loaded']?_0x5b90de['call'](_0x57d195,this):this['once']('load',_0x3a3cff=>{_0x5b90de['call'](_0x57d195,_0x3a3cff);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x2014*-0x1+0xa0d*-0x3+-0x1*0x1ec),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x12c8*-0x2+-0x34*-0x5a+0x8*-0x6fb)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x549c2a=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x2b*-0x6+0x39f+0x1*-0x29c),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x44d21b=0x135e*0x2+-0x20f1*-0x1+-0x47ad;_0x44d21b<_0x549c2a['length'];++_0x44d21b){const _0x5e54f1=_0x549c2a[_0x44d21b];_0x5e54f1&&_0x5e54f1['destroy']&&_0x5e54f1['destroy']();}}static['fetchArray'+'Buffer'](_0x4b02e6,_0x47053a,_0x345acf,_0x1fbe24=0x189f+0x2*0xfa6+0x37eb*-0x1){var _0x16b433;(_0x16b433=_0x345acf==null?void(-0x1ef7+-0x2e*0x6+-0x277*-0xd):_0x345acf['file'])!=null&&_0x16b433['contents']?setTimeout(()=>{_0x47053a(null,_0x345acf['file']['contents']);}):$e['get'](_0x4b02e6,{'cache':!(-0x2064+-0x3d1*0x4+0x2fa8),'responseType':'arraybuffe'+'r','retry':_0x1fbe24>0x1*0x951+0x1*-0x10dd+0x78c,'maxRetries':_0x1fbe24},_0x47053a);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x3f5c19=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x3f5c19;}['addItem'](_0x551900){const _0xa6cd67=_0x551900['tags']['_list'];for(const _0x1e93f2 of _0xa6cd67)this['add'](_0x1e93f2,_0x551900);}['removeItem'](_0x1b1f9b){const _0xda6f6d=_0x1b1f9b['tags']['_list'];for(const _0x4368bd of _0xda6f6d)this['remove'](_0x4368bd,_0x1b1f9b);}['add'](_0xf069a1,_0x4fc127){this['_index'][_0xf069a1]&&this['_index'][_0xf069a1]['list']['indexOf'](_0x4fc127)!==-(-0x1a04+-0x26*0x64+-0x13d*-0x21)||(this['_index'][_0xf069a1]||(this['_index'][_0xf069a1]={'list':[]},this['_key']&&(this['_index'][_0xf069a1]['keys']={})),this['_index'][_0xf069a1]['list']['push'](_0x4fc127),this['_key']&&(this['_index'][_0xf069a1]['keys'][_0x4fc127[this['_key']]]=_0x4fc127));}['remove'](_0x5a4a77,_0x45b5e3){if(!this['_index'][_0x5a4a77]||this['_key']&&!this['_index'][_0x5a4a77]['keys'][_0x45b5e3[this['_key']]])return;const _0x2751a3=this['_index'][_0x5a4a77]['list']['indexOf'](_0x45b5e3);_0x2751a3!==-(-0x144c+0x2*-0x18e+0x1769)&&(this['_index'][_0x5a4a77]['list']['splice'](_0x2751a3,0xdbe*-0x2+-0x8d2*-0x2+-0x1*-0x9d9),this['_key']&&delete this['_index'][_0x5a4a77]['keys'][_0x45b5e3[this['_key']]],this['_index'][_0x5a4a77]['list']['length']===-0xba7+0x119*-0x23+0x3212&&delete this['_index'][_0x5a4a77]);}['find'](_0x386a3f){const _0x2b401a={},_0x141b1d=[];let _0x1d0aa1,_0x37e094,_0x231f7a,_0x41e7df,_0x5b1662;const _0x209ee5=(_0x5134bd,_0x1bb416)=>this['_index'][_0x5134bd]['list']['length']-this['_index'][_0x1bb416]['list']['length'];for(let _0x2e27dd=0x4ef+0x5f0+-0xadf*0x1;_0x2e27dd<_0x386a3f['length'];_0x2e27dd++){if(_0x37e094=_0x386a3f[_0x2e27dd],_0x37e094 instanceof Array){if(_0x37e094['length']===-0x2445*-0x1+-0x1*-0xa89+-0x2ece)continue;if(_0x37e094['length']===0x7*0x45f+0x25*0x10+-0x20e8)_0x37e094=_0x37e094[0x3*-0x6b9+0xe2a+0x601];else{_0x5b1662=!(-0xe63*-0x1+-0xe*0x1a6+0x8b2);for(let _0x5f2200=0x3*-0x30d+0x12a9+0x982*-0x1;_0x5f2200<_0x37e094['length'];_0x5f2200++)if(!this['_index'][_0x37e094[_0x5f2200]]){_0x5b1662=!(0xe4a*-0x1+0x1ac2+0x98*-0x15);break;}if(_0x5b1662)continue;_0x231f7a=_0x37e094['slice'](-0x1f1e+-0x2*0x126e+0x1*0x43fa)['sort'](_0x209ee5),_0x41e7df=_0x231f7a['slice'](0x67c+0x117c+0x4cb*-0x5),_0x41e7df['length']===0x1587+-0x9*-0x3ed+-0x38db&&(_0x41e7df=_0x41e7df[0x3b*-0x1f+0x1cb6+-0x1591]);for(let _0x5d5ba2=0x6*-0x25a+-0xa7b+0x1897;_0x5d5ba2<this['_index'][_0x231f7a[0x351*0x5+0x1cdf+-0x2d74]]['list']['length'];_0x5d5ba2++)_0x1d0aa1=this['_index'][_0x231f7a[-0x11*0x242+-0xada+0x313c]]['list'][_0x5d5ba2],(this['_key']?!_0x2b401a[_0x1d0aa1[this['_key']]]:_0x141b1d['indexOf'](_0x1d0aa1)===-(-0x179b+-0x1b8a+-0x2*-0x1993))&&_0x1d0aa1['tags']['has'](_0x41e7df)&&(this['_key']&&(_0x2b401a[_0x1d0aa1[this['_key']]]=!(0x1*0x5a7+0x1*0xd29+-0x12d0)),_0x141b1d['push'](_0x1d0aa1));continue;}}if(_0x37e094&&typeof _0x37e094=='string'&&this['_index'][_0x37e094]){for(let _0x73574a=0x264e+-0xc5*-0xd+-0x53*0x95;_0x73574a<this['_index'][_0x37e094]['list']['length'];_0x73574a++)_0x1d0aa1=this['_index'][_0x37e094]['list'][_0x73574a],this['_key']?_0x2b401a[_0x1d0aa1[this['_key']]]||(_0x2b401a[_0x1d0aa1[this['_key']]]=!(0x2275+-0x1f7b+-0x2fa),_0x141b1d['push'](_0x1d0aa1)):_0x141b1d['indexOf'](_0x1d0aa1)===-(-0x1027+-0xa52+-0x1a7a*-0x1)&&_0x141b1d['push'](_0x1d0aa1);}}return _0x141b1d;}}class ao extends ce{constructor(_0x46bf92){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x46bf92;}['list'](_0x72b384={}){const _0x3ccc0f=Array['from'](this['_assets']);return _0x72b384['preload']!==void(-0x3*0x266+-0x191d+0xac5*0x3)?_0x3ccc0f['filter'](_0x4b25ef=>_0x4b25ef['preload']===_0x72b384['preload']):_0x3ccc0f;}['add'](_0x80d3a7){var _0x518b73,_0x14d58f;this['_assets']['has'](_0x80d3a7)||(this['_assets']['add'](_0x80d3a7),this['_idToAsset']['set'](_0x80d3a7['id'],_0x80d3a7),(_0x518b73=_0x80d3a7['file'])!=null&&_0x518b73['url']&&this['_urlToAsse'+'t']['set'](_0x80d3a7['file']['url'],_0x80d3a7),this['_nameToAss'+'et']['has'](_0x80d3a7['name'])||this['_nameToAss'+'et']['set'](_0x80d3a7['name'],new Set()),this['_nameToAss'+'et']['get'](_0x80d3a7['name'])['add'](_0x80d3a7),_0x80d3a7['on']('name',this['_onNameCha'+'nge'],this),_0x80d3a7['registry']=this,this['_tags']['addItem'](_0x80d3a7),_0x80d3a7['tags']['on']('add',this['_onTagAdd'],this),_0x80d3a7['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x80d3a7),this['fire']('add:'+_0x80d3a7['id'],_0x80d3a7),(_0x14d58f=_0x80d3a7['file'])!=null&&_0x14d58f['url']&&this['fire']('add:url:'+_0x80d3a7['file']['url'],_0x80d3a7),_0x80d3a7['preload']&&this['load'](_0x80d3a7));}['remove'](_0x4a3d76){var _0x2b4b27,_0x650c29;if(!this['_assets']['has'](_0x4a3d76))return!(0x220d+-0x1b*0x119+-0x469);if(this['_assets']['delete'](_0x4a3d76),this['_idToAsset']['delete'](_0x4a3d76['id']),(_0x2b4b27=_0x4a3d76['file'])!=null&&_0x2b4b27['url']&&this['_urlToAsse'+'t']['delete'](_0x4a3d76['file']['url']),_0x4a3d76['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x4a3d76['name'])){const _0x518ec4=this['_nameToAss'+'et']['get'](_0x4a3d76['name']);_0x518ec4['delete'](_0x4a3d76),_0x518ec4['size']===-0x1*0x125+0x954+-0x82f&&this['_nameToAss'+'et']['delete'](_0x4a3d76['name']);}return this['_tags']['removeItem'](_0x4a3d76),_0x4a3d76['tags']['off']('add',this['_onTagAdd'],this),_0x4a3d76['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x4a3d76['fire']('remove',_0x4a3d76),this['fire']('remove',_0x4a3d76),this['fire']('remove:'+_0x4a3d76['id'],_0x4a3d76),(_0x650c29=_0x4a3d76['file'])!=null&&_0x650c29['url']&&this['fire']('remove:url'+':'+_0x4a3d76['file']['url'],_0x4a3d76),!(-0x24fa+0x1*-0x10bb+0x35b5);}['get'](_0x24ad20){return this['_idToAsset']['get'](Number(_0x24ad20));}['getByUrl'](_0x3fe7cf){return this['_urlToAsse'+'t']['get'](_0x3fe7cf);}['load'](_0x41e2bf,_0x1c0949){if((_0x41e2bf['loading']||_0x41e2bf['loaded'])&&!(_0x1c0949!=null&&_0x1c0949['force']))return;const _0x4e4c27=_0x41e2bf['file'],_0xf32daa=()=>{this['fire']('load',_0x41e2bf),this['fire']('load:'+_0x41e2bf['id'],_0x41e2bf),_0x4e4c27&&_0x4e4c27['url']&&this['fire']('load:url:'+_0x4e4c27['url'],_0x41e2bf),_0x41e2bf['fire']('load',_0x41e2bf);},_0x2b9ab5=_0x1d605f=>{if(_0x1d605f instanceof Array?_0x41e2bf['resources']=_0x1d605f:_0x41e2bf['resource']=_0x1d605f,this['_loader']['patch'](_0x41e2bf,this),_0x41e2bf['type']==='bundle'){const _0x46cca4=_0x41e2bf['data']['assets'];for(let _0x3a4679=0x1be5+-0x2169+0x2c2*0x2;_0x3a4679<_0x46cca4['length'];_0x3a4679++){const _0x2bfe77=this['_idToAsset']['get'](_0x46cca4[_0x3a4679]);_0x2bfe77&&!_0x2bfe77['loaded']&&this['load'](_0x2bfe77,{'force':!(-0x1c14+0xbe2+0x819*0x2)});}_0x41e2bf['resource']['loaded']?_0xf32daa():(this['fire']('load:start',_0x41e2bf),this['fire']('load:start'+':'+_0x41e2bf['id'],_0x41e2bf),_0x4e4c27&&_0x4e4c27['url']&&this['fire']('load:start'+':url:'+_0x4e4c27['url'],_0x41e2bf),_0x41e2bf['fire']('load:start',_0x41e2bf),_0x41e2bf['resource']['on']('load',_0xf32daa));}else _0xf32daa();},_0x45dffa=(_0x55a14b,_0x43febb,_0x326b85)=>{if(_0x41e2bf['loaded']=!(-0x3d*-0x61+-0x1aae*0x1+0x391),_0x41e2bf['loading']=!(-0x2420+0x1685+0xd9c),_0x55a14b)this['fire']('error',_0x55a14b,_0x41e2bf),this['fire']('error:'+_0x41e2bf['id'],_0x55a14b,_0x41e2bf),_0x41e2bf['fire']('error',_0x55a14b,_0x41e2bf);else{if(_0x41e2bf['type']==='script'){const _0x2d7850=this['_loader']['getHandler']('script');_0x2d7850['_cache'][_0x41e2bf['id']]&&_0x2d7850['_cache'][_0x41e2bf['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x2d7850['_cache'][_0x41e2bf['id']]),_0x2d7850['_cache'][_0x41e2bf['id']]=_0x326b85;}_0x2b9ab5(_0x43febb);}};if(_0x4e4c27||_0x41e2bf['type']==='cubemap'){this['fire']('load:start',_0x41e2bf),this['fire']('load:'+_0x41e2bf['id']+':start',_0x41e2bf),_0x41e2bf['loading']=!(0x1fb7+0x1113+-0x30ca);const _0x31d85f=_0x41e2bf['getFileUrl']();if(_0x41e2bf['type']==='bundle'){const _0x26c35a=_0x41e2bf['data']['assets'];for(let _0x1b86c0=0x1a0c+-0x41c*0x8+0x6d4;_0x1b86c0<_0x26c35a['length'];_0x1b86c0++){const _0x485bd4=this['_idToAsset']['get'](_0x26c35a[_0x1b86c0]);_0x485bd4&&(_0x485bd4['loaded']||_0x485bd4['resource']||_0x485bd4['loading']||(_0x485bd4['loading']=!(-0x1540+-0x1f39+0x3479)));}}this['_loader']['load'](_0x31d85f,_0x41e2bf['type'],_0x45dffa,_0x41e2bf,_0x1c0949);}else{const _0x2bb5da=this['_loader']['open'](_0x41e2bf['type'],_0x41e2bf['data']);_0x41e2bf['loaded']=!(0x5d5*-0x1+-0xf67+0x153c),_0x2b9ab5(_0x2bb5da);}}['loadFromUr'+'l'](_0x506046,_0x587058,_0x3e71ce){this['loadFromUr'+'lAndFilena'+'me'](_0x506046,null,_0x587058,_0x3e71ce);}['loadFromUr'+'lAndFilena'+'me'](_0x11a458,_0x214356,_0x55258f,_0x56a684){const _0x548f83=fe['getBasenam'+'e'](_0x214356||_0x11a458),_0x2e21ce={'filename':_0x214356||_0x548f83,'url':_0x11a458};let _0x534bee=this['getByUrl'](_0x11a458);if(!_0x534bee)_0x534bee=new le(_0x548f83,_0x55258f,_0x2e21ce),this['add'](_0x534bee);else{if(_0x534bee['loaded']){_0x56a684(_0x534bee['loadFromUr'+'lError']||null,_0x534bee);return;}}const _0xf050e=_0x59a0fc=>{_0x59a0fc['once']('load',_0x192dba=>{_0x55258f==='material'?this['_loadTextu'+'res'](_0x192dba,(_0x40ae5b,_0x1b14dd)=>{_0x56a684(_0x40ae5b,_0x192dba);}):_0x56a684(null,_0x192dba);}),_0x59a0fc['once']('error',_0x2ab478=>{_0x2ab478&&(this['loadFromUr'+'lError']=_0x2ab478),_0x56a684(_0x2ab478,_0x59a0fc);}),this['load'](_0x59a0fc);};_0x534bee['resource']?_0x56a684(null,_0x534bee):_0x55258f==='model'?this['_loadModel'](_0x534bee,_0xf050e):_0xf050e(_0x534bee);}['_loadModel'](_0x1eb15a,_0x45630b){const _0x3381a3=_0x1eb15a['getFileUrl'](),_0xa31dd0=fe['getExtensi'+'on'](_0x3381a3);if(_0xa31dd0==='.json'||_0xa31dd0==='.glb'){const _0x14384e=fe['getDirecto'+'ry'](_0x3381a3),_0x43ce66=fe['getBasenam'+'e'](_0x3381a3),_0x132b57=fe['join'](_0x14384e,_0x43ce66['replace'](_0xa31dd0,'.mapping.j'+'son'));this['_loader']['load'](_0x132b57,'json',(_0x485f3f,_0x1e345f)=>{_0x485f3f?(_0x1eb15a['data']={'mapping':[]},_0x45630b(_0x1eb15a)):this['_loadMater'+'ials'](_0x1eb15a,_0x1e345f,(_0x5b3158,_0x3e9d09)=>{_0x1eb15a['data']=_0x1e345f,_0x45630b(_0x1eb15a);});});}else _0x45630b(_0x1eb15a);}['_loadMater'+'ials'](_0x50230f,_0x12c523,_0x5c412b){const _0x3c4696=[];let _0x32b4ba=-0xb72+-0xaa3+0x1615*0x1;const _0x5e4d96=(_0x1c3d12,_0xc75401)=>{this['_loadTextu'+'res'](_0xc75401,(_0x534959,_0x4e62ce)=>{_0x3c4696['push'](_0xc75401),_0x3c4696['length']===_0x32b4ba&&_0x5c412b(null,_0x3c4696);});};for(let _0x9d3efd=-0x243f+-0x252b*0x1+-0x1*-0x496a;_0x9d3efd<_0x12c523['mapping']['length'];_0x9d3efd++){const _0x2b279a=_0x12c523['mapping'][_0x9d3efd]['path'];if(_0x2b279a){_0x32b4ba++;const _0x3e1a2a=_0x50230f['getAbsolut'+'eUrl'](_0x2b279a);this['loadFromUr'+'l'](_0x3e1a2a,'material',_0x5e4d96);}}_0x32b4ba===0x236d+-0xa5a*-0x1+-0x2dc7&&_0x5c412b(null,_0x3c4696);}['_loadTextu'+'res'](_0x2a956f,_0xe2f4d7){const _0x2e6f06=[];let _0x213222=-0x4ed*0x7+-0x2485*0x1+0x20*0x238;const _0x3605ea=_0x2a956f['data'];if(_0x3605ea['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x2a956f['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0xe2f4d7(null,_0x2e6f06);return;}const _0x235488=(_0x8c6f88,_0x34694a)=>{_0x8c6f88&&console['error'](_0x8c6f88),_0x2e6f06['push'](_0x34694a),_0x2e6f06['length']===_0x213222&&_0xe2f4d7(null,_0x2e6f06);},_0x5733ea=Kc;for(let _0x3c5341=0xde+0x2*-0x1135+0x218c;_0x3c5341<_0x5733ea['length'];_0x3c5341++){const _0x2878b0=_0x3605ea[_0x5733ea[_0x3c5341]];if(_0x2878b0&&typeof _0x2878b0=='string'){_0x213222++;const _0x218d82=_0x2a956f['getAbsolut'+'eUrl'](_0x2878b0);this['loadFromUr'+'l'](_0x218d82,'texture',_0x235488);}}_0x213222===0x1f39*0x1+0x4d5*0x1+-0x47*0x82&&_0xe2f4d7(null,_0x2e6f06);}['_onTagAdd'](_0x4b69b2,_0x29ed8c){this['_tags']['add'](_0x4b69b2,_0x29ed8c);}['_onTagRemo'+'ve'](_0x4a991f,_0x55f9ba){this['_tags']['remove'](_0x4a991f,_0x55f9ba);}['_onNameCha'+'nge'](_0x18e744,_0x44005c,_0x34cbdb){if(this['_nameToAss'+'et']['has'](_0x34cbdb)){const _0x3cce47=this['_nameToAss'+'et']['get'](_0x34cbdb);_0x3cce47['delete'](_0x18e744),_0x3cce47['size']===-0x71d+0x19d*-0x5+0xf2e&&this['_nameToAss'+'et']['delete'](_0x34cbdb);}this['_nameToAss'+'et']['has'](_0x18e744['name'])||this['_nameToAss'+'et']['set'](_0x18e744['name'],new Set()),this['_nameToAss'+'et']['get'](_0x18e744['name'])['add'](_0x18e744);}['findByTag'](..._0x291f01){return this['_tags']['find'](_0x291f01);}['filter'](_0x27aa06){return Array['from'](this['_assets'])['filter'](_0x186d21=>_0x27aa06(_0x186d21));}['find'](_0x636857,_0x2a93d7){const _0x1e019d=this['_nameToAss'+'et']['get'](_0x636857);if(!_0x1e019d)return null;for(const _0x4980ee of _0x1e019d)if(!_0x2a93d7||_0x4980ee['type']===_0x2a93d7)return _0x4980ee;return null;}['findAll'](_0x33c5cf,_0x6a2d44){const _0x4152d5=this['_nameToAss'+'et']['get'](_0x33c5cf);if(!_0x4152d5)return[];const _0x16cf7f=Array['from'](_0x4152d5);return _0x6a2d44?_0x16cf7f['filter'](_0xf67588=>_0xf67588['type']===_0x6a2d44):_0x16cf7f;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x3991a7){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x3991a7,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x404d1d){if(_0x404d1d['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x404d1d['id'],_0x404d1d),this['_assets']['on']('load:start'+':'+_0x404d1d['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x404d1d['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x404d1d['id'],this['_onBundleE'+'rror'],this);const _0x318037=_0x404d1d['data']['assets'];for(let _0x252ab3=-0x2281+-0x26f+0x24f0;_0x252ab3<_0x318037['length'];_0x252ab3++)this['_indexAsse'+'tInBundle'](_0x318037[_0x252ab3],_0x404d1d);}else this['_assetToBu'+'ndles']['has'](_0x404d1d['id'])&&this['_indexAsse'+'tFileUrls'](_0x404d1d);}['_unbindAss'+'etEvents'](_0x10cd6d){this['_assets']['off']('load:start'+':'+_0x10cd6d,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x10cd6d,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x10cd6d,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x2138ba,_0x4b83ba){let _0x46a965=this['_assetToBu'+'ndles']['get'](_0x2138ba);_0x46a965||(_0x46a965=new Set(),this['_assetToBu'+'ndles']['set'](_0x2138ba,_0x46a965)),_0x46a965['add'](_0x4b83ba);const _0x1495cf=this['_assets']['get'](_0x2138ba);_0x1495cf&&this['_indexAsse'+'tFileUrls'](_0x1495cf);}['_indexAsse'+'tFileUrls'](_0x56db68){const _0x948287=this['_getAssetF'+'ileUrls'](_0x56db68);if(_0x948287)for(let _0x4e628d=0x2131*-0x1+0x8+0x2129;_0x4e628d<_0x948287['length'];_0x4e628d++){const _0x4c21d6=this['_assetToBu'+'ndles']['get'](_0x56db68['id']);_0x4c21d6&&this['_urlsToBun'+'dles']['set'](_0x948287[_0x4e628d],_0x4c21d6);}}['_getAssetF'+'ileUrls'](_0x20ccaa){let _0x326a9a=_0x20ccaa['getFileUrl']();if(!_0x326a9a)return null;_0x326a9a=_0x326a9a['split']('?')[0x8e*0x10+0x1632+-0xc2*0x29];const _0x430f14=[_0x326a9a];if(_0x20ccaa['type']==='font'){const _0x501fd9=_0x20ccaa['data']['info']['maps']['length'];for(let _0x344207=-0x1609+0x579*0x5+-0x553*0x1;_0x344207<_0x501fd9;_0x344207++)_0x430f14['push'](_0x326a9a['replace']('.png',_0x344207+'.png'));}return _0x430f14;}['_onAssetRe'+'move'](_0x13c335){if(_0x13c335['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x13c335['id']),this['_unbindAss'+'etEvents'](_0x13c335['id']);const _0x53b7cb=_0x13c335['data']['assets'];for(let _0x4ad0d5=-0x101*-0xb+-0xcce+0x1*0x1c3;_0x4ad0d5<_0x53b7cb['length'];_0x4ad0d5++){const _0x3a0e60=this['_assetToBu'+'ndles']['get'](_0x53b7cb[_0x4ad0d5]);if(_0x3a0e60&&(_0x3a0e60['delete'](_0x13c335),_0x3a0e60['size']===-0x4*-0x108+-0x93e+-0x5*-0x106)){this['_assetToBu'+'ndles']['delete'](_0x53b7cb[_0x4ad0d5]);for(const [_0x121bc9,_0x30f00d]of this['_urlsToBun'+'dles'])_0x30f00d===_0x3a0e60&&this['_urlsToBun'+'dles']['delete'](_0x121bc9);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x13c335['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x13c335['id']))return;this['_assetToBu'+'ndles']['delete'](_0x13c335['id']);const _0x4640dd=this['_getAssetF'+'ileUrls'](_0x13c335);if(!_0x4640dd)return;for(let _0x42f7ae=0x22ca+-0x1909+-0x9c1;_0x42f7ae<_0x4640dd['length'];_0x42f7ae++)this['_urlsToBun'+'dles']['delete'](_0x4640dd[_0x42f7ae]);}}['_onBundleL'+'oadStart'](_0x37510d){_0x37510d['resource']['on']('add',(_0x35d9ad,_0x155064)=>{const _0x32659b=this['_fileReque'+'sts']['get'](_0x35d9ad);if(_0x32659b){for(let _0x36dd75=-0xd61+0x3*-0x7ca+-0x199*-0x17;_0x36dd75<_0x32659b['length'];_0x36dd75++)_0x32659b[_0x36dd75](null,_0x155064);this['_fileReque'+'sts']['delete'](_0x35d9ad);}});}['_onBundleL'+'oad'](_0x45dafe){if(!_0x45dafe['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x45dafe['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x49dfe6,_0x1ad6e2]of this['_fileReque'+'sts']){const _0x4d4d26=this['_urlsToBun'+'dles']['get'](_0x49dfe6);if(!_0x4d4d26||!_0x4d4d26['has'](_0x45dafe))continue;const _0x24d7b7=decodeURIComponent(_0x49dfe6);let _0xe42ec6,_0x2d72d6;if(_0x45dafe['resource']['has'](_0x24d7b7))_0x2d72d6=_0x45dafe['resource']['get'](_0x24d7b7);else{if(_0x45dafe['resource']['loaded'])_0xe42ec6='Bundle\x20'+_0x45dafe['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x49dfe6;else continue;}for(let _0x531fe8=0x151*-0x11+-0x1f6+0x43*0x5d;_0x531fe8<_0x1ad6e2['length'];_0x531fe8++)_0x1ad6e2[_0x531fe8](_0xe42ec6,_0xe42ec6||_0x2d72d6);this['_fileReque'+'sts']['delete'](_0x49dfe6);}}['_onBundleE'+'rror'](_0x58e7b7){for(const [_0x13003b,_0x1c1726]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x13003b)){for(let _0x188628=-0x14df+0xa48+0xa97;_0x188628<_0x1c1726['length'];_0x188628++)_0x1c1726[_0x188628](_0x58e7b7);this['_fileReque'+'sts']['delete'](_0x13003b);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x58a1d4){const _0xb18707=this['_urlsToBun'+'dles']['get'](_0x58a1d4);if(!_0xb18707)return null;let _0x229fd8=null;for(const _0x270d20 of _0xb18707){if(_0x270d20['loaded']&&_0x270d20['resource'])return _0x270d20;_0x270d20['loading']&&(_0x229fd8=_0x270d20);}return _0x229fd8;}['listBundle'+'sForAsset'](_0x15508e){const _0x52c290=this['_assetToBu'+'ndles']['get'](_0x15508e['id']);return _0x52c290?Array['from'](_0x52c290):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x1c48a5){return this['_urlsToBun'+'dles']['has'](_0x1c48a5);}['urlIsLoade'+'dOrLoading'](_0x2cc858){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2cc858);}['loadUrl'](_0x122db5,_0x20c446){const _0x441d10=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x122db5);if(!_0x441d10){_0x20c446('URL\x20'+_0x122db5+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x441d10['loaded']){const _0x5e4701=decodeURIComponent(_0x122db5);if(_0x441d10['resource']['has'](_0x5e4701)){_0x20c446(null,_0x441d10['resource']['get'](_0x5e4701));return;}else{if(_0x441d10['resource']['loaded']){_0x20c446('Bundle\x20'+_0x441d10['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x122db5);return;}}}let _0x459949=this['_fileReque'+'sts']['get'](_0x122db5);_0x459949||(_0x459949=[],this['_fileReque'+'sts']['set'](_0x122db5,_0x459949)),_0x459949['push'](_0x20c446);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x5df6b3 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x5df6b3);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x26739d){const _0x4f75be=_0x26739d['id'];if(this[_0x4f75be])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x4f75be+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x4f75be]=_0x26739d,this['list']['push'](_0x26739d);}['remove'](_0x2c00de){const _0x42ad01=_0x2c00de['id'];if(!this[_0x42ad01])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x42ad01+('\x27\x20register'+'ed'));delete this[_0x42ad01];const _0x12ab75=this['list']['indexOf'](this[_0x42ad01]);_0x12ab75!==-(-0x20c2+-0x2*-0x3a7+0x1975)&&this['list']['splice'](_0x12ab75,0xf71+-0x151c*-0x1+-0x1246*0x2);}['destroy'](){this['off']();for(let _0x1673ea=0x1*-0xcc5+-0x81*0x40+0x5*0x901;_0x1673ea<this['list']['length'];_0x1673ea++)this['list'][_0x1673ea]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(0x1266+-0x37*-0xb+-0x14c2));}['addFile'](_0x1a986a,_0x2b150d){this['_index']['has'](_0x1a986a)||(this['_index']['set'](_0x1a986a,_0x2b150d),this['fire']('add',_0x1a986a,_0x2b150d));}['has'](_0x5c62cb){return this['_index']['has'](_0x5c62cb);}['get'](_0x365bab){return this['_index']['get'](_0x365bab)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x34c550){!_0x34c550||this['_loaded']||(this['_loaded']=!(0x1357+0x1*0xed5+-0x1b*0x144),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x40a9dc,_0x59387b=''){super(),c(this,'headerSize',0x13e5+-0x6fb+-0xaea),c(this,'paddingSiz'+'e',-0xbb1+-0x2*-0xa03+-0x655),c(this,'bytesRead',-0x68*-0x22+0x213c+-0x2f0c),c(this,'bytesRecei'+'ved',-0x1a38+-0x2*-0x5e7+0xe6a*0x1),c(this,'headerRead',!(0x922+0x1107*-0x1+-0x3*-0x2a2)),c(this,'reader',null),c(this,'data',new Uint8Array(0x128b+0x1a41+-0x3d*0xbc)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x1853+0xea3+-0x26f6),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x59387b||'',this['reader']=_0x40a9dc['body']['getReader'](),this['reader']['read']()['then'](_0x17055c=>{this['pump'](_0x17055c['done'],_0x17055c['value']);})['catch'](_0x459eb5=>{this['fire']('error',_0x459eb5);}));}['pump'](_0x4bf13e,_0x4c6f1a){if(_0x4bf13e)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x4c6f1a['byteLength'];const _0x5df996=new Uint8Array(this['data']['length']+_0x4c6f1a['length']);for(_0x5df996['set'](this['data']),_0x5df996['set'](_0x4c6f1a,this['data']['length']),this['data']=_0x5df996;this['readFile'](););return this['reader']['read']()['then'](_0x40de5c=>{this['pump'](_0x40de5c['done'],_0x40de5c['value']);})['catch'](_0x4016af=>{this['fire']('error',_0x4016af);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x5c+0x70c+-0x768);const _0x5acb5b=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x510ba9=this['decoder']['decode'](_0x5acb5b);if(this['fileName']=_0x510ba9['substring'](-0x2*0x607+-0x17e2+0x23f0,0x14*-0x4c+0x1882+-0x1*0x122e)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x510ba9['substring'](-0x1985+0x29c+0x1765,0x26e9+0x1e0b+-0x446c),0x52*0x57+0x1*-0x235f+0x789),this['fileType']=_0x510ba9['substring'](-0x1*-0x1249+-0x54d*-0x3+-0x2194,0x4c*-0x20+-0x1ac1+-0x42*-0x8f),this['ustarForma'+'t']=_0x510ba9['substring'](-0x1faa+-0x1204+0x32af,-0x9b+0x244f+-0x1*0x22ad),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x1e58+-0x1091*0x1+0x2eea)){const _0x2a5641=_0x510ba9['substring'](-0x12c5+-0x692*0x5+0x34f8,0x1ddc+-0x15*0x14d+-0x97)['replace'](/\0/g,'');_0x2a5641['length']>0xd4a*-0x2+0x2051*0x1+-0xd*0x71&&(this['fileName']=_0x2a5641['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x1*-0x17f1+0xeca+-0x24bb;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x3c*0x61+0x12*-0x49+-0x593*-0x5);if(this['fileType']===''||this['fileType']==='0'){const _0x5e9916=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x18d051={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x5e9916};this['fire']('file',_0x18d051);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x1dbd+0x821*0x1+0x159d);const _0x14f1db=this['bytesRead']%this['paddingSiz'+'e'];return _0x14f1db!==-0x19d6+0x14f1+-0x4e5*-0x1&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x14f1db),!(-0x1d20+-0x221a+0x3f3a);}return!(-0x1a29+0x1529*0x1+-0x15*-0x3d);}}class Ne{constructor(_0x531d55,_0xc8d26e){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0x3*0xab7+-0x2356*0x1+-0x19*-0x2b3),(this['_app']=_0x531d55,this['handlerTyp'+'e']=_0xc8d26e);}set['maxRetries'](_0x3cb0c6){this['_maxRetrie'+'s']=_0x3cb0c6;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x8e1c7,_0xc86f64,_0x2e8950){}['open'](_0x10676f,_0x5992d0,_0x59b9c2){return _0x5992d0;}['patch'](_0x2b0e1e,_0x367c1a){}}class rP extends Ne{constructor(_0x5c3c22){super(_0x5c3c22,'bundle'),this['_assets']=_0x5c3c22['assets'];}['_fetchRetr'+'ies'](_0x1283b5,_0x3cfa27,_0x48a510=0xa11*0x2+0x47*-0x4+-0x1306){return new Promise((_0x570522,_0x1823fc)=>{const _0x252983=()=>{fetch(_0x1283b5,_0x3cfa27)['then'](_0x570522)['catch'](_0xb7da3b=>{_0x48a510++,_0x48a510<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x48a510),_0x252983()):_0x1823fc(_0xb7da3b);});};_0x252983();});}['load'](_0x2bb67d,_0x5852fd){typeof _0x2bb67d=='string'&&(_0x2bb67d={'load':_0x2bb67d,'original':_0x2bb67d}),this['_fetchRetr'+'ies'](_0x2bb67d['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x68065b=>{const _0x5c0908=new Xu();_0x5852fd(null,_0x5c0908);const _0x520d89=new iP(_0x68065b,this['_assets']['prefix']);_0x520d89['on']('file',_0x4b83bc=>{_0x5c0908['addFile'](_0x4b83bc['name'],_0x4b83bc['data']);}),_0x520d89['on']('done',()=>{_0x5c0908['loaded']=!(0x14ac+-0x1*-0xdd5+-0x323*0xb);}),_0x520d89['on']('error',_0x4aeef6=>{v['error'](_0x4aeef6),_0x5852fd(_0x4aeef6);});})['catch'](_0x39b01b=>{v['error'](_0x39b01b),_0x5852fd(_0x39b01b);});}['open'](_0x3d1200,_0x3d6ca9){return _0x3d6ca9;}}class pa{constructor(_0x5187a1){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x5187a1;}['addHandler'](_0x4b623f,_0x423fa7){this['_handlers'][_0x4b623f]=_0x423fa7,_0x423fa7['_loader']=this;}['removeHand'+'ler'](_0x452350){delete this['_handlers'][_0x452350];}['getHandler'](_0x5b93fc){return this['_handlers'][_0x5b93fc];}static['makeKey'](_0xa6067f,_0x2cd3ec){return _0xa6067f+'-'+_0x2cd3ec;}['load'](_0x1312a1,_0x3915d0,_0x52702c,_0xf8f640,_0x159715){var _0x2c8e37;const _0x3574ed=this['_handlers'][_0x3915d0];if(!_0x3574ed){const _0x576080='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x3915d0+('\x27\x20when\x20loa'+'ding\x20[')+_0x1312a1+']';v['errorOnce'](_0x576080),_0x52702c(_0x576080);return;}if(!_0x1312a1){this['_loadNull'](_0x3574ed,_0x52702c,_0xf8f640);return;}const _0xae1d8a=pa['makeKey'](_0x1312a1,_0x3915d0);if(this['_cache'][_0xae1d8a]!==void(-0x487*-0x3+-0x2597+0x36e*0x7))_0x52702c(null,this['_cache'][_0xae1d8a]);else{if(this['_requests'][_0xae1d8a])this['_requests'][_0xae1d8a]['push'](_0x52702c);else{this['_requests'][_0xae1d8a]=[_0x52702c];const _0x5bc197=this,_0xf6e03b=function(_0x358848,_0x49a2ca){if(_0x358848){_0x5bc197['_onFailure'](_0xae1d8a,_0x358848);return;}if(_0x49a2ca['load']instanceof DataView){if(_0x3574ed['openBinary']){if(!_0x5bc197['_requests'][_0xae1d8a])return;try{const _0x1b7e6e=_0x3574ed['openBinary'](_0x49a2ca['load']);_0x5bc197['_onSuccess'](_0xae1d8a,_0x1b7e6e);}catch(_0x23fd85){_0x5bc197['_onFailure'](_0xae1d8a,_0x23fd85);}return;}_0x49a2ca['load']=URL['createObje'+'ctURL'](new Blob([_0x49a2ca['load']])),_0xf8f640&&(_0xf8f640['urlObject']&&URL['revokeObje'+'ctURL'](_0xf8f640['urlObject']),_0xf8f640['urlObject']=_0x49a2ca['load']);}_0x3574ed['load'](_0x49a2ca,(_0x17b332,_0xf64b23,_0x23e812)=>{if(_0x5bc197['_requests'][_0xae1d8a]){if(_0x17b332){_0x5bc197['_onFailure'](_0xae1d8a,_0x17b332);return;}try{_0x5bc197['_onSuccess'](_0xae1d8a,_0x3574ed['open'](_0x49a2ca['original'],_0xf64b23,_0xf8f640),_0x23e812);}catch(_0x166b4a){_0x5bc197['_onFailure'](_0xae1d8a,_0x166b4a);}}},_0xf8f640);},_0x3d4cb8=_0x1312a1['split']('?')[-0xe71+0x253a+-0x16c9];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x3d4cb8)&&!(_0x159715&&_0x159715['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x3d4cb8)){const _0x2b75ea=this['_app']['bundles']['listBundle'+'sForAsset'](_0xf8f640);let _0x2c480f;_0x159715&&_0x159715['bundlesFil'+'ter']&&(_0x2c480f=_0x159715['bundlesFil'+'ter'](_0x2b75ea)),_0x2c480f||(_0x2b75ea==null||_0x2b75ea['sort']((_0x707d15,_0x49d6e1)=>_0x707d15['file']['size']-_0x49d6e1['file']['size']),_0x2c480f=_0x2b75ea==null?void(-0x5*0x27e+0xcbe+-0x48):_0x2b75ea[0xc15+-0x24c3+-0x51*-0x4e]),_0x2c480f&&((_0x2c8e37=this['_app']['assets'])==null||_0x2c8e37['load'](_0x2c480f));}this['_app']['bundles']['loadUrl'](_0x3d4cb8,(_0x145e2d,_0x5d60c7)=>{_0xf6e03b(_0x145e2d,{'load':_0x5d60c7,'original':_0x3d4cb8});});}else _0xf6e03b(null,{'load':_0x1312a1,'original':_0xf8f640&&_0xf8f640['file']['filename']||_0x1312a1});}}}['_loadNull'](_0x556f1d,_0x1f68b6,_0x473a9e){const _0x251552=function(_0xdb0715,_0x2c0dc0,_0xf50246){if(_0xdb0715)_0x1f68b6(_0xdb0715);else try{_0x1f68b6(null,_0x556f1d['open'](null,_0x2c0dc0,_0x473a9e),_0xf50246);}catch(_0x22e858){_0x1f68b6(_0x22e858);}};_0x556f1d['load'](null,_0x251552,_0x473a9e);}['_onSuccess'](_0x133f97,_0x23a53e,_0x496f9e){_0x23a53e!==null?this['_cache'][_0x133f97]=_0x23a53e:delete this['_cache'][_0x133f97];for(let _0x2197d1=-0x325*-0x7+0x17f1+-0xad*0x44;_0x2197d1<this['_requests'][_0x133f97]['length'];_0x2197d1++)this['_requests'][_0x133f97][_0x2197d1](null,_0x23a53e,_0x496f9e);delete this['_requests'][_0x133f97];}['_onFailure'](_0x45f3f0,_0x1e0b00){if(console['error'](_0x1e0b00),this['_requests'][_0x45f3f0]){for(let _0x3737ab=0xba1+-0x2229+0x38*0x67;_0x3737ab<this['_requests'][_0x45f3f0]['length'];_0x3737ab++)this['_requests'][_0x45f3f0][_0x3737ab](_0x1e0b00);delete this['_requests'][_0x45f3f0];}}['open'](_0x56a17b,_0x3281c4){const _0x1648cf=this['_handlers'][_0x56a17b];return _0x1648cf?_0x1648cf['open'](null,_0x3281c4):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x56a17b),_0x3281c4);}['patch'](_0x284fc9,_0x2431fe){const _0x17c51e=this['_handlers'][_0x284fc9['type']];if(!_0x17c51e){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x284fc9['type']);return;}_0x17c51e['patch']&&_0x17c51e['patch'](_0x284fc9,_0x2431fe);}['clearCache'](_0x40833e,_0x4e221f){const _0x52b0ed=pa['makeKey'](_0x40833e,_0x4e221f);delete this['_cache'][_0x52b0ed];}['getFromCac'+'he'](_0x4c76b8,_0x4994f2){const _0xdc9a11=pa['makeKey'](_0x4c76b8,_0x4994f2);if(this['_cache'][_0xdc9a11])return this['_cache'][_0xdc9a11];}['enableRetr'+'y'](_0x49b1f1=-0x155b+0x123a+0x326){_0x49b1f1=Math['max'](0x33*-0x5b+-0x1*0xdc7+0x1fe8,_0x49b1f1)||0x184*-0xb+-0x10f*-0x1d+0xab*-0x15;for(const _0x3d8d28 in this['_handlers'])this['_handlers'][_0x3d8d28]['maxRetries']=_0x49b1f1;}['disableRet'+'ry'](){for(const _0x209e4c in this['_handlers'])this['_handlers'][_0x209e4c]['maxRetries']=-0x15b2+0x983*-0x4+-0x1ddf*-0x2;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x544882){if(!_0x544882['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x544882['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x544882['header']['version']!==-0x1*-0x1ab5+0x1910*0x1+-0x33c4)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x544882['data']){if(!Array['isArray'](_0x544882['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x43ad75=0x9b1+0x1462*-0x1+-0x11*-0xa1,_0x3f7e68=_0x544882['data']['length'];_0x43ad75<_0x3f7e68;_0x43ad75++){const _0x391a86=_0x544882['data'][_0x43ad75];if(!_0x391a86['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x43ad75+('].info\x22\x20fi'+'eld'));if(!_0x391a86['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x43ad75+('].info.loc'+'ale\x22\x20field'));if(typeof _0x391a86['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x43ad75+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x391a86['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x43ad75+('].messages'+'\x22\x20field'));}}['parse'](_0x25a9be){return this['_validate'](_0x25a9be),_0x25a9be['data'];}}class aP extends ce{constructor(_0x371285){super(),this['locale']=Wh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x371285,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x314211){const _0x5321b1={};for(let _0x52d5b8=-0xbad+-0x199*-0x1+0xa14,_0x3cdb51=_0x314211['length'];_0x52d5b8<_0x3cdb51;_0x52d5b8++){const _0xb12c0b=_0x314211[_0x52d5b8]instanceof le?_0x314211[_0x52d5b8]['id']:_0x314211[_0x52d5b8];_0x5321b1[_0xb12c0b]=!(-0x12*0x1d7+0xaab*-0x1+0x2bc9);}let _0x467c6c=this['_assets']['length'];for(;_0x467c6c--;){const _0x52c5c6=this['_assets'][_0x467c6c];if(!_0x5321b1[_0x52c5c6]){this['_app']['assets']['off']('add:'+_0x52c5c6,this['_onAssetAd'+'d'],this);const _0x11d2a6=this['_app']['assets']['get'](_0x52c5c6);_0x11d2a6&&this['_onAssetRe'+'move'](_0x11d2a6),this['_assets']['splice'](_0x467c6c,-0x30a+0x12ef+0x1c4*-0x9);}}for(const _0x4d0b3f in _0x5321b1){const _0x3088ca=parseInt(_0x4d0b3f,-0x6cf*0x3+-0xa*-0xa0+0x4bd*0x3);if(this['_assets']['indexOf'](_0x3088ca)!==-(-0x130+-0x1*0xd32+-0x7f*-0x1d))continue;this['_assets']['push'](_0x3088ca);const _0x17cb5f=this['_app']['assets']['get'](_0x3088ca);_0x17cb5f?this['_onAssetAd'+'d'](_0x17cb5f):this['_app']['assets']['once']('add:'+_0x3088ca,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x12f3f8){if(this['_locale']===_0x12f3f8)return;let _0x50fc80=pi(_0x12f3f8);if(_0x50fc80==='in'&&(_0x50fc80='id',_0x12f3f8=Y1(_0x12f3f8,_0x50fc80),this['_locale']===_0x12f3f8))return;const _0x5bddf2=this['_locale'];this['_locale']=_0x12f3f8,this['_lang']=_0x50fc80,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x12f3f8,_0x5bddf2);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x4b43d9,_0x21a5f6){return V0(_0x4b43d9,_0x21a5f6);}['findAvaila'+'bleLocale'](_0x5a927b){if(this['_translati'+'ons'][_0x5a927b])return _0x5a927b;const _0x46d3ac=pi(_0x5a927b);return this['_findFallb'+'ackLocale'](_0x5a927b,_0x46d3ac);}['getText'](_0x47e4d,_0x5e7f63){let _0x373f85=_0x47e4d,_0x2c6b09;_0x5e7f63||(_0x5e7f63=this['_locale'],_0x2c6b09=this['_lang']);let _0x298a27=this['_translati'+'ons'][_0x5e7f63];return _0x298a27||(_0x2c6b09||(_0x2c6b09=pi(_0x5e7f63)),_0x5e7f63=this['_findFallb'+'ackLocale'](_0x5e7f63,_0x2c6b09),_0x298a27=this['_translati'+'ons'][_0x5e7f63]),_0x298a27&&_0x298a27['hasOwnProp'+'erty'](_0x47e4d)&&(_0x373f85=_0x298a27[_0x47e4d],Array['isArray'](_0x373f85)&&(_0x373f85=_0x373f85[0x1*0x20e5+-0x5*0x27b+-0x2b*0x7a]),_0x373f85==null&&(_0x373f85=_0x47e4d)),_0x373f85;}['getPluralT'+'ext'](_0xba8edc,_0x4d83ad,_0x1cb9c6){let _0x26ad56=_0xba8edc,_0x5c9862,_0xfc23ad;_0x1cb9c6?(_0x5c9862=pi(_0x1cb9c6),_0xfc23ad=Xd(_0x5c9862)):(_0x1cb9c6=this['_locale'],_0x5c9862=this['_lang'],_0xfc23ad=this['_pluralFn']);let _0x3b3566=this['_translati'+'ons'][_0x1cb9c6];if(_0x3b3566||(_0x1cb9c6=this['_findFallb'+'ackLocale'](_0x1cb9c6,_0x5c9862),_0x5c9862=pi(_0x1cb9c6),_0xfc23ad=Xd(_0x5c9862),_0x3b3566=this['_translati'+'ons'][_0x1cb9c6]),_0x3b3566&&_0x3b3566[_0xba8edc]&&_0xfc23ad){const _0x189572=_0xfc23ad(_0x4d83ad);_0x26ad56=_0x3b3566[_0xba8edc][_0x189572],_0x26ad56==null&&(_0x26ad56=_0xba8edc);}return _0x26ad56;}['addData'](_0x2cc76f){let _0x101197;try{_0x101197=this['_parser']['parse'](_0x2cc76f);}catch(_0x54de60){console['error'](_0x54de60);return;}for(let _0x214116=0xf44+-0x1*0x200+0x236*-0x6,_0x4a29d0=_0x101197['length'];_0x214116<_0x4a29d0;_0x214116++){const _0xabeea=_0x101197[_0x214116],_0x47800e=_0xabeea['info']['locale'],_0x304e99=_0xabeea['messages'];if(!this['_translati'+'ons'][_0x47800e]){this['_translati'+'ons'][_0x47800e]={};const _0x318120=pi(_0x47800e);this['_available'+'Langs'][_0x318120]||(this['_available'+'Langs'][_0x318120]=_0x47800e);}Object['assign'](this['_translati'+'ons'][_0x47800e],_0x304e99),this['fire']('data:add',_0x47800e,_0x304e99);}}['removeData'](_0x3ef1d1){let _0x5d32d2;try{_0x5d32d2=this['_parser']['parse'](_0x3ef1d1);}catch(_0x2bcfa8){console['error'](_0x2bcfa8);return;}for(let _0x2c683b=-0x2163+0x1715+-0x1*-0xa4e,_0x4d3387=_0x5d32d2['length'];_0x2c683b<_0x4d3387;_0x2c683b++){const _0x1a2470=_0x5d32d2[_0x2c683b],_0x214cef=_0x1a2470['info']['locale'],_0x2fb778=this['_translati'+'ons'][_0x214cef];if(!_0x2fb778)continue;const _0x155866=_0x1a2470['messages'];for(const _0x395f19 in _0x155866)delete _0x2fb778[_0x395f19];Object['keys'](_0x2fb778)['length']===0x30a*-0xb+-0x2*0xb83+0x1c3a*0x2&&(delete this['_translati'+'ons'][_0x214cef],delete this['_available'+'Langs'][pi(_0x214cef)]),this['fire']('data:remov'+'e',_0x214cef,_0x155866);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x1c53e5,_0x2a9482){let _0x34d93d=$h[_0x1c53e5];return _0x34d93d&&this['_translati'+'ons'][_0x34d93d]||(_0x34d93d=$h[_0x2a9482],_0x34d93d&&this['_translati'+'ons'][_0x34d93d])||(_0x34d93d=this['_available'+'Langs'][_0x2a9482],_0x34d93d&&this['_translati'+'ons'][_0x34d93d])?_0x34d93d:Wh;}['_onAssetAd'+'d'](_0x3691d0){_0x3691d0['on']('load',this['_onAssetLo'+'ad'],this),_0x3691d0['on']('change',this['_onAssetCh'+'ange'],this),_0x3691d0['on']('remove',this['_onAssetRe'+'move'],this),_0x3691d0['on']('unload',this['_onAssetUn'+'load'],this),_0x3691d0['resource']&&this['_onAssetLo'+'ad'](_0x3691d0);}['_onAssetLo'+'ad'](_0x246fa3){this['addData'](_0x246fa3['resource']);}['_onAssetCh'+'ange'](_0x5d0c5b){_0x5d0c5b['resource']&&this['addData'](_0x5d0c5b['resource']);}['_onAssetRe'+'move'](_0x5b928a){_0x5b928a['off']('load',this['_onAssetLo'+'ad'],this),_0x5b928a['off']('change',this['_onAssetCh'+'ange'],this),_0x5b928a['off']('remove',this['_onAssetRe'+'move'],this),_0x5b928a['off']('unload',this['_onAssetUn'+'load'],this),_0x5b928a['resource']&&this['removeData'](_0x5b928a['resource']),this['_app']['assets']['once']('add:'+_0x5b928a['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x439644){_0x439644['resource']&&this['removeData'](_0x439644['resource']);}}class oP extends ce{constructor(_0x27cf68){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x27cf68;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x44e6d7,_0x423aed){_0x423aed&&this['_scriptSch'+'emas']['set'](_0x44e6d7,_0x423aed);}['getSchema'](_0x1a01ad){return this['_scriptSch'+'emas']['get'](_0x1a01ad);}['add'](_0x225585){const _0x596e03=_0x225585['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x596e03)?(setTimeout(()=>{if(_0x225585['prototype']['swap']){const _0xf86ff2=this['_scripts'][_0x596e03],_0x2e5a8e=this['_list']['indexOf'](_0xf86ff2);this['_list'][_0x2e5a8e]=_0x225585,this['_scripts'][_0x596e03]=_0x225585,this['fire']('swap',_0x596e03,_0x225585),this['fire']('swap:'+_0x596e03,_0x225585);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x596e03+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x224d+-0x158c+-0x129e*-0x3)):(this['_scripts'][_0x596e03]=_0x225585,this['_list']['push'](_0x225585),this['fire']('add',_0x596e03,_0x225585),this['fire']('add:'+_0x596e03,_0x225585),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x596e03)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x2c5af9=this['app']['systems']['script']['_component'+'s'];let _0x14963c;const _0x2cfd1e=[],_0x49892e=[];for(_0x2c5af9['loopIndex']=-0x2016+0x3*0x9ef+0x249;_0x2c5af9['loopIndex']<_0x2c5af9['length'];_0x2c5af9['loopIndex']++){const _0x320d18=_0x2c5af9['items'][_0x2c5af9['loopIndex']];if(_0x320d18['_scriptsIn'+'dex'][_0x596e03]&&_0x320d18['_scriptsIn'+'dex'][_0x596e03]['awaiting']){_0x320d18['_scriptsDa'+'ta']&&_0x320d18['_scriptsDa'+'ta'][_0x596e03]&&(_0x14963c=_0x320d18['_scriptsDa'+'ta'][_0x596e03]['attributes']);const _0x40ff7f=_0x320d18['create'](_0x596e03,{'preloading':!(-0x820+-0x1e13+0x2633),'ind':_0x320d18['_scriptsIn'+'dex'][_0x596e03]['ind'],'attributes':_0x14963c});_0x40ff7f&&_0x2cfd1e['push'](_0x40ff7f);for(const _0x1c05ff of _0x320d18['scripts'])_0x320d18['initialize'+'Attributes'](_0x1c05ff);}}for(let _0x394788=0x5*-0x721+-0xd49+0x30ee;_0x394788<_0x2cfd1e['length'];_0x394788++)_0x2cfd1e[_0x394788]['enabled']&&(_0x2cfd1e[_0x394788]['_initializ'+'ed']=!(-0x54b*-0x1+0x167c+-0x1bc7),_0x49892e['push'](_0x2cfd1e[_0x394788]),_0x2cfd1e[_0x394788]['initialize']&&_0x2cfd1e[_0x394788]['initialize']());for(let _0x26dd6d=-0xace+-0x266*0xa+0x3d*0x92;_0x26dd6d<_0x49892e['length'];_0x26dd6d++)!_0x49892e[_0x26dd6d]['enabled']||_0x49892e[_0x26dd6d]['_postIniti'+'alized']||(_0x49892e[_0x26dd6d]['_postIniti'+'alized']=!(0x13*-0x34+0x1332+-0xf56),_0x49892e[_0x26dd6d]['postInitia'+'lize']&&_0x49892e[_0x26dd6d]['postInitia'+'lize']());}),!(0x1bc+-0x2490+0x22d4));}['remove'](_0x52a705){let _0x4d1199=_0x52a705,_0x24706c=_0x52a705;if(typeof _0x24706c!='string'?_0x24706c=_0x4d1199['__name']:_0x4d1199=this['get'](_0x24706c),this['get'](_0x24706c)!==_0x4d1199)return!(0x1*-0x4f3+-0x1e15+-0x1*-0x2309);delete this['_scripts'][_0x24706c];const _0x216b9c=this['_list']['indexOf'](_0x4d1199);return this['_list']['splice'](_0x216b9c,0x2386+-0x10f1+-0x4a5*0x4),this['fire']('remove',_0x24706c,_0x4d1199),this['fire']('remove:'+_0x24706c,_0x4d1199),!(0x262d+-0x466*0x6+0x7*-0x1af);}['get'](_0x59004e){return this['_scripts'][_0x59004e]||null;}['has'](_0x5a6b93){if(typeof _0x5a6b93=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x5a6b93);if(!_0x5a6b93)return!(-0x1298+0x247b+-0x11e2);const _0x39aa36=_0x5a6b93['__name'];return this['_scripts'][_0x39aa36]===_0x5a6b93;}['list'](){return this['_list'];}}const lP=(_0x620a11,_0x153e43)=>_0x620a11['constructo'+'r']['order']-_0x153e43['constructo'+'r']['order'],hP=_0x4f12a6=>_0x4f12a6['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x11d265=>{_0x11d265['length']=-0x693+0x12f3+-0xc60,G0['push'](_0x11d265);},ac=class ac extends De{constructor(_0x46c48d,_0x390b4b=tn()){super(_0x46c48d),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(-0x2*0x10af+0x84a+0x1915)),c(this,'_guid',null),c(this,'_template',!(-0x1b19+0xb*-0x116+0x22*0x126)),(v['assert'](_0x390b4b,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x390b4b);}['addCompone'+'nt'](_0x51576d,_0x46eed4){const _0x317d3d=this['_app']['systems'][_0x51576d];return _0x317d3d?this['c'][_0x51576d]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x51576d+('\x27\x20componen'+'t')),null):_0x317d3d['addCompone'+'nt'](this,_0x46eed4):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x51576d+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x376c2b){const _0x403b46=this['_app']['systems'][_0x376c2b];if(!_0x403b46){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x376c2b+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x376c2b]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x376c2b+('\x27\x20componen'+'t'));return;}_0x403b46['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x55f974){const _0x4b68a0=this['findOne'](_0x297503=>{var _0x5ba89b;return(_0x5ba89b=_0x297503['c'])==null?void(0xc*-0x126+-0x1*-0x45e+0xa*0xf1):_0x5ba89b[_0x55f974];});return _0x4b68a0&&_0x4b68a0['c'][_0x55f974];}['findCompon'+'ents'](_0x1d030f){return this['find'](_0x1a200a=>{var _0x51e16b;return(_0x51e16b=_0x1a200a['c'])==null?void(-0x2676+-0x1*0x869+0x2edf):_0x51e16b[_0x1d030f];})['map'](_0x43e5df=>_0x43e5df['c'][_0x1d030f]);}['findScript'](_0x9218e8){const _0x245a62=this['findOne'](_0x61c0ac=>{var _0x18d7f2,_0x2088f8;return(_0x2088f8=(_0x18d7f2=_0x61c0ac['c'])==null?void(-0x219c+0xa*-0x16f+0x2ff2):_0x18d7f2['script'])==null?void(0x80b+0x261a*-0x1+0x357*0x9):_0x2088f8['has'](_0x9218e8);});return _0x245a62==null?void(-0x910+-0x191a+0x222a):_0x245a62['c']['script']['get'](_0x9218e8);}['findScript'+'s'](_0x2030f8){return this['find'](_0x1f4346=>{var _0x1d0517,_0x8ac81d;return(_0x8ac81d=(_0x1d0517=_0x1f4346['c'])==null?void(0x949*0x4+0x1079*-0x1+0x25*-0x8f):_0x1d0517['script'])==null?void(0xde7*0x1+-0x1*-0x13b3+-0x10cd*0x2):_0x8ac81d['has'](_0x2030f8);})['map'](_0x35c766=>_0x35c766['c']['script']['get'](_0x2030f8));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x2bd02d){const _0xa1e663=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0xa1e663[this['_guid']],this['_guid']=_0x2bd02d,_0xa1e663[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x92c11a,_0x16a164){let _0x57df45=!(-0x182f+-0x1fba*-0x1+-0x78a);_0x92c11a===this&&Za['length']===0x2b5*0xb+-0x3*-0xcbb+-0x43f8&&(_0x57df45=!(0x98*-0x35+-0x7b9*-0x3+0x84d)),_0x92c11a['_beingEnab'+'led']=!(-0x41d+-0x1*-0xa9e+0xb9*-0x9),_0x92c11a['_onHierarc'+'hyStateCha'+'nged'](_0x16a164),_0x92c11a['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x92c11a);const _0xd47689=_0x92c11a['_children'];for(let _0x207121=0x23b5+-0x25c8+0x213*0x1,_0x1ded90=_0xd47689['length'];_0x207121<_0x1ded90;_0x207121++)_0xd47689[_0x207121]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0xd47689[_0x207121],_0x16a164);if(_0x92c11a['_beingEnab'+'led']=!(-0x1*-0x11be+-0xc49+-0x15d*0x4),_0x57df45){for(let _0x281c89=-0x1a74+-0xe83+0x28f7;_0x281c89<Za['length'];_0x281c89++)Za[_0x281c89]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=-0x1d3*0x7+-0x4*-0x885+-0x154f;}}['_onHierarc'+'hyStateCha'+'nged'](_0x8f266b){super['_onHierarc'+'hyStateCha'+'nged'](_0x8f266b);const _0xf25dc1=this['_getSorted'+'Components']();for(let _0x265969=0x42*0x1a+-0x2*0xbc9+0x7f*0x22;_0x265969<_0xf25dc1['length'];_0x265969++){const _0xaa6414=_0xf25dc1[_0x265969];_0xaa6414['enabled']&&(_0x8f266b?_0xaa6414['onEnable']():_0xaa6414['onDisable']());}$_(_0xf25dc1);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x39e4f9=this['_getSorted'+'Components']();for(let _0x514372=0x563+0x1*-0x1025+0x396*0x3;_0x514372<_0x39e4f9['length'];_0x514372++)_0x39e4f9[_0x514372]['onPostStat'+'eChange']();$_(_0x39e4f9);}['findByGuid'](_0x2bf1ff){if(this['_guid']===_0x2bf1ff)return this;const _0x2d1c60=this['_app']['_entityInd'+'ex'][_0x2bf1ff];return _0x2d1c60&&(_0x2d1c60===this||_0x2d1c60['isDescenda'+'ntOf'](this))?_0x2d1c60:null;}['destroy'](){this['_destroyin'+'g']=!(0x18e0+-0xfe1+0x7*-0x149);for(const _0x4cbaee in this['c'])this['c'][_0x4cbaee]['enabled']=!(-0x23d+-0x214f*0x1+0x1df*0x13);for(const _0x5b5c1e in this['c'])this['c'][_0x5b5c1e]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x1*0x18ef+0x43d+0x2f5*0x7);}['clone'](){const _0x2bdc0b={},_0x2078b7=this['_cloneRecu'+'rsively'](_0x2bdc0b);return _0x2bdc0b[this['getGuid']()]=_0x2078b7,H0(this,this,_0x2078b7,_0x2bdc0b),_0x2078b7;}['_getSorted'+'Components'](){const _0x5a50c9=this['c'],_0x44e959=cP();let _0x4dfd3b=-0x1234+0x1ee9+-0xcb5*0x1;for(const _0x113f1d in _0x5a50c9)if(_0x5a50c9['hasOwnProp'+'erty'](_0x113f1d)){const _0x562b2d=_0x5a50c9[_0x113f1d];_0x4dfd3b|=_0x562b2d['constructo'+'r']['order']!==-0x10a*0x19+-0x2479*0x1+-0x3*-0x14d1,_0x44e959['push'](_0x562b2d);}return _0x4dfd3b&&_0x44e959['length']>0x1*-0xe57+-0x47f+0x12d7&&hP(_0x44e959),_0x44e959;}['_cloneRecu'+'rsively'](_0x46267e){const _0x543fd6=new this['constructo'+'r'](void(0x35d+-0x1*-0xb07+-0x4cc*0x3),this['_app']);super['_cloneInte'+'rnal'](_0x543fd6);for(const _0x11aa12 in this['c'])this['c'][_0x11aa12]['system']['cloneCompo'+'nent'](this,_0x543fd6);for(let _0x3f36f2=0x58*0x7+-0x1c8f*0x1+0x1a27*0x1;_0x3f36f2<this['_children']['length'];_0x3f36f2++){const _0x198cb3=this['_children'][_0x3f36f2];if(_0x198cb3 instanceof ac){const _0x42f306=_0x198cb3['_cloneRecu'+'rsively'](_0x46267e);_0x543fd6['addChild'](_0x42f306),_0x46267e[_0x198cb3['getGuid']()]=_0x42f306;}}return _0x543fd6;}};c(ac,'EVENT_DEST'+'ROY','destroy');let We=ac;function H0(_0x316ad9,_0x17e58a,_0x570b80,_0xb8b87b){if(_0x17e58a instanceof We){const _0x4a752f=_0x17e58a['c'];for(const _0x223455 in _0x4a752f){const _0x1c71eb=_0x4a752f[_0x223455],_0x147464=_0x1c71eb['system']['getPropert'+'iesOfType']('entity');for(let _0x36b0ca=0x1720+0xa2b+-0x214b,_0x2aad19=_0x147464['length'];_0x36b0ca<_0x2aad19;_0x36b0ca++){const _0x47c246=_0x147464[_0x36b0ca]['name'],_0x4879dc=_0x1c71eb[_0x47c246];if(!!_0x316ad9['findByGuid'](_0x4879dc)){const _0x23756f=_0xb8b87b[_0x4879dc]['getGuid']();_0x23756f?_0x570b80['c'][_0x223455][_0x47c246]=_0x23756f:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x4a752f['script']&&_0x570b80['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4a752f['script'],_0xb8b87b),_0x4a752f['render']&&_0x570b80['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4a752f['render'],_0xb8b87b),_0x4a752f['button']&&_0x570b80['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4a752f['button'],_0xb8b87b),_0x4a752f['scrollview']&&_0x570b80['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4a752f['scrollview'],_0xb8b87b),_0x4a752f['scrollbar']&&_0x570b80['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4a752f['scrollbar'],_0xb8b87b),_0x4a752f['anim']&&_0x570b80['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4a752f['anim'],_0xb8b87b);const _0x5b2732=_0x17e58a['children']['filter'](_0x17835e=>_0x17835e instanceof We),_0x42753d=_0x570b80['children']['filter'](_0x1d452f=>_0x1d452f instanceof We);for(let _0x340112=0x248b+-0x895+-0x1bf6,_0x3d416a=_0x5b2732['length'];_0x340112<_0x3d416a;_0x340112++)H0(_0x316ad9,_0x5b2732[_0x340112],_0x42753d[_0x340112],_0xb8b87b);}}class q_{constructor(_0x3c2539,_0x1758f9){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(-0x38d+-0x566+-0x8f4*-0x1)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x3c2539,this['url']=_0x1758f9);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x52c0f3){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x52c0f3;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x1e8b17,_0x10e154){if(this['_index']['hasOwnProp'+'erty'](_0x1e8b17))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x1e8b17),!(0x9*0xc1+0x1*0x529+-0xbf1);const _0x30a9e6=new q_(_0x1e8b17,_0x10e154),_0x52180a=this['_list']['push'](_0x30a9e6);return this['_index'][_0x30a9e6['name']]=_0x52180a-(-0x696+-0x64e+-0xce5*-0x1),this['_urlIndex'][_0x30a9e6['url']]=_0x52180a-(0x2494*-0x1+0x13b3+0x10e2),!(-0x4+0x2*-0x6a9+0xd56);}['find'](_0x44376e){return this['_index']['hasOwnProp'+'erty'](_0x44376e)?this['_list'][this['_index'][_0x44376e]]:null;}['findByUrl'](_0x76b954){return this['_urlIndex']['hasOwnProp'+'erty'](_0x76b954)?this['_list'][this['_urlIndex'][_0x76b954]]:null;}['remove'](_0x55152e){if(this['_index']['hasOwnProp'+'erty'](_0x55152e)){const _0x248b50=this['_index'][_0x55152e];let _0x1a1ae0=this['_list'][_0x248b50];delete this['_urlIndex'][_0x1a1ae0['url']],delete this['_index'][_0x55152e],this['_list']['splice'](_0x248b50,-0x2*-0x635+0xb34+-0x7df*0x3);for(let _0x4caeb1=-0x73c*-0x1+0x1673+0x33*-0x95;_0x4caeb1<this['_list']['length'];_0x4caeb1++)_0x1a1ae0=this['_list'][_0x4caeb1],this['_index'][_0x1a1ae0['name']]=_0x4caeb1,this['_urlIndex'][_0x1a1ae0['url']]=_0x4caeb1;}}['_loadScene'+'Data'](_0x5366bd,_0x452ea6,_0x48d902){const _0x3b96ce=this['_app'];let _0x5e31a5=_0x5366bd;if(typeof _0x5366bd=='string'&&(_0x5366bd=this['findByUrl'](_0x5e31a5)||this['find'](_0x5e31a5)||new q_('Untitled',_0x5e31a5)),_0x5e31a5=_0x5366bd['url'],!_0x5e31a5){_0x48d902('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x5366bd['loaded']){_0x48d902(null,_0x5366bd);return;}_0x3b96ce['assets']&&_0x3b96ce['assets']['prefix']&&!Da['test'](_0x5e31a5)&&(_0x5e31a5=fe['join'](_0x3b96ce['assets']['prefix'],_0x5e31a5)),_0x5366bd['_onLoadedC'+'allbacks']['push'](_0x48d902),_0x5366bd['_loading']||_0x3b96ce['loader']['getHandler']('hierarchy')['load'](_0x5e31a5,(_0x2c1d51,_0x4ad685)=>{_0x5366bd['data']=_0x4ad685,_0x5366bd['_loading']=!(-0x58c*-0x1+0x2d8*0x2+-0xb3b);for(let _0x195067=0x147+-0x1*-0x15c5+-0x24e*0xa;_0x195067<_0x5366bd['_onLoadedC'+'allbacks']['length'];_0x195067++)_0x5366bd['_onLoadedC'+'allbacks'][_0x195067](_0x2c1d51,_0x5366bd);_0x452ea6||(_0x5366bd['data']=null),_0x5366bd['_onLoadedC'+'allbacks']['length']=0x19ee+-0x38d+0x1*-0x1661;}),_0x5366bd['_loading']=!(0xe9b+-0x20*-0x32+-0x14db);}['loadSceneD'+'ata'](_0x3730bf,_0x3a49f4){this['_loadScene'+'Data'](_0x3730bf,!(0x1*0x2650+0x1*0xb70+0x1*-0x31c0),_0x3a49f4);}['unloadScen'+'eData'](_0x29d766){typeof _0x29d766=='string'&&(_0x29d766=this['findByUrl'](_0x29d766)),_0x29d766&&(_0x29d766['data']=null);}['_loadScene'+'Hierarchy'](_0x37d1e8,_0x5165c9,_0x52fe95){this['_loadScene'+'Data'](_0x37d1e8,!(0x45d+-0x11b1*0x1+0xd55),(_0x1e153e,_0x49bc3d)=>{if(_0x1e153e){_0x52fe95&&_0x52fe95(_0x1e153e);return;}_0x5165c9&&_0x5165c9(_0x49bc3d);const _0xd91d20=this['_app'],_0x2e73d0=()=>{const _0x208e50=_0xd91d20['loader']['getHandler']('hierarchy');_0xd91d20['systems']['script']['preloading']=!(0x3e*0x4f+0x2a7+0xb*-0x1fb);const _0x5acf00=_0x208e50['open'](_0x49bc3d['url'],_0x49bc3d['data']);_0xd91d20['systems']['script']['preloading']=!(0x13a6+0x8f4+-0x1c99),_0xd91d20['loader']['clearCache'](_0x49bc3d['url'],'hierarchy'),_0xd91d20['root']['addChild'](_0x5acf00),_0xd91d20['systems']['fire']('initialize',_0x5acf00),_0xd91d20['systems']['fire']('postInitia'+'lize',_0x5acf00),_0xd91d20['systems']['fire']('postPostIn'+'itialize',_0x5acf00),_0x52fe95&&_0x52fe95(null,_0x5acf00);};_0xd91d20['_preloadSc'+'ripts'](_0x49bc3d['data'],_0x2e73d0);});}['loadSceneH'+'ierarchy'](_0x5941a2,_0x550a66){this['_loadScene'+'Hierarchy'](_0x5941a2,null,_0x550a66);}['loadSceneS'+'ettings'](_0x19d0d2,_0xdcb077){this['_loadScene'+'Data'](_0x19d0d2,!(0x176b+0xdd2+0x94f*-0x4),(_0x3bc708,_0x48aa15)=>{_0x3bc708?_0xdcb077&&_0xdcb077(_0x3bc708):(this['_app']['applyScene'+'Settings'](_0x48aa15['data']['settings']),_0xdcb077&&_0xdcb077(null));});}['changeScen'+'e'](_0x13bb9b,_0x51c44e){const _0x5f016a=this['_app'],_0x14305f=_0x1cda00=>{const {children:_0x42ca6d}=_0x5f016a['root'];for(;_0x42ca6d['length'];)_0x42ca6d[0xb22+-0xe54+0x332]['destroy']();_0x5f016a['applyScene'+'Settings'](_0x1cda00['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x13bb9b,_0x14305f,_0x51c44e);}['loadScene'](_0x24b3fb,_0x1836e2){const _0x555eca=this['_app'],_0x2851e3=_0x555eca['loader']['getHandler']('scene');_0x555eca['assets']&&_0x555eca['assets']['prefix']&&!Da['test'](_0x24b3fb)&&(_0x24b3fb=fe['join'](_0x555eca['assets']['prefix'],_0x24b3fb)),_0x2851e3['load'](_0x24b3fb,(_0x4485a0,_0x385fe0)=>{if(_0x4485a0)_0x1836e2&&_0x1836e2(_0x4485a0);else{const _0x1cac03=()=>{_0x555eca['systems']['script']['preloading']=!(0x1acc+-0xd17+-0x1d*0x79);const _0x75e370=_0x2851e3['open'](_0x24b3fb,_0x385fe0),_0x1311b2=this['findByUrl'](_0x24b3fb);_0x1311b2&&!_0x1311b2['loaded']&&(_0x1311b2['data']=_0x385fe0),_0x555eca['systems']['script']['preloading']=!(0x1bd1*0x1+0x204d+-0x3c1d),_0x555eca['loader']['clearCache'](_0x24b3fb,'scene'),_0x555eca['loader']['patch']({'resource':_0x75e370,'type':'scene'},_0x555eca['assets']),_0x555eca['root']['addChild'](_0x75e370['root']),_0x555eca['systems']['rigidbody']&&typeof Ammo<'u'&&_0x555eca['systems']['rigidbody']['gravity']['set'](_0x75e370['_gravity']['x'],_0x75e370['_gravity']['y'],_0x75e370['_gravity']['z']),_0x1836e2&&_0x1836e2(null,_0x75e370);};_0x555eca['_preloadSc'+'ripts'](_0x385fe0,_0x1cac03);}});}}class uP{constructor(_0x442954){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x442954['_shaderSta'+'ts'],this['vram']=_0x442954['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x252f30;return(_0x252f30=tn()['lightmappe'+'r'])==null?void(-0x8f3+0xb79+-0x1*0x286):_0x252f30['stats'];}get['batcher'](){const _0x236f15=tn()['_batcher'];return _0x236f15?_0x236f15['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x388f9c){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0xf4*0x13+-0x50*0x61+0x6eb*0x7)),c(this,'_inFrameUp'+'date',!(0x6*0x2f+0x220d+-0x2326)),c(this,'_libraries'+'Loaded',!(-0x90d+0x2398+-0x1a8a)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(-0x2*-0x122c+0x5a2+0x3*-0xdfe)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0x291*0x2+0x1*0x1505+-0x2*0xd13)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0xb5c*-0x2+0x2027*-0x1+0x36df),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0x1e40+-0x14*-0xaf+0x1095),c(this,'maxDeltaTi'+'me',0x1*0x1d33+0x18da+-0x360d+0.1),c(this,'frame',0x2642+-0xaa4+-0x1b9e),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x4a3*-0x4+-0x11d3+0x245f)),c(this,'renderNext'+'Frame',!(-0x1c61+-0x11*-0x57+0x9*0x283)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(-0x17*0x101+-0xfdd+0x33f*0xc):no['indexOf']('$'))<0x985*-0x4+-0xf7d*0x1+0x3591&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x388f9c['id']]=this,qu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(0x268a*-0x1+0xc03*0x2+-0x4*-0x3a1));}['init'](_0x3e2007){const {assetPrefix:_0xf29863,batchManager:_0x3cbc5c,componentSystems:_0xc17e73,elementInput:_0x2df12b,gamepads:_0x23e4cb,graphicsDevice:_0x4860e,keyboard:_0x318bc2,lightmapper:_0x58cbe3,mouse:_0x1cf0d2,resourceHandlers:_0x55a6f1,scriptsOrder:_0x369e21,scriptPrefix:_0x3d7030,soundManager:_0x16d4c8,touch:_0x4b3573,xr:_0x5a3f96}=_0x3e2007;v['assert'](_0x4860e,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x4860e,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x4860e),this['_soundMana'+'ger']=_0x16d4c8,this['scene']=new ci(_0x4860e),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0xf29863&&(this['assets']['prefix']=_0xf29863),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x369e21||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(-0x17*0x16a+-0x1be1+0x3c68),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x55e54c=new S_('default');_0x55e54c['pushOpaque'](this['defaultLay'+'erWorld']),_0x55e54c['pushOpaque'](this['defaultLay'+'erDepth']),_0x55e54c['pushOpaque'](this['defaultLay'+'erSkybox']),_0x55e54c['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x55e54c['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x55e54c['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x55e54c['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x55e54c,$r['createPlac'+'eholder'](_0x4860e),this['renderer']=new Gh(_0x4860e),this['renderer']['scene']=this['scene'],_0x58cbe3&&(this['lightmappe'+'r']=new _0x58cbe3(_0x4860e,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x3cbc5c&&(this['_batcher']=new _0x3cbc5c(_0x4860e,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x318bc2||null,this['mouse']=_0x1cf0d2||null,this['touch']=_0x4b3573||null,this['gamepads']=_0x23e4cb||null,_0x2df12b&&(this['elementInp'+'ut']=_0x2df12b,this['elementInp'+'ut']['app']=this),this['xr']=_0x5a3f96?new _0x5a3f96(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x3d7030||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x55a6f1['forEach'](_0x276e1e=>{const _0x4f128a=new _0x276e1e(this);this['loader']['addHandler'](_0x4f128a['handlerTyp'+'e'],_0x4f128a);}),_0xc17e73['forEach'](_0x44bbeb=>{this['systems']['add'](new _0x44bbeb(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x2*-0x501+0x21f0+0x17ee*-0x1)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1d7*0x4+0x7*0x501+-0x2a62))):document['mozHidden']!==void(-0x6*-0x51d+-0x316+0x4*-0x6e6)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xc80+0x5a0+0x1*-0x121f))):document['msHidden']!==void(0x10ae+-0x604+0x82*-0x15)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1630+-0x316*0x5+-0xf7*0x7))):document['webkitHidd'+'en']!==void(-0x1*-0x14a1+0x1866+-0x2d07*0x1)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x2*-0x84e+-0x1644+0x26e1*0x1)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x708cce){return _0x708cce?Gr['_applicati'+'ons'][_0x708cce]:tn();}['_initDefau'+'ltMaterial'](){const _0xb0b15c=new cs();_0xb0b15c['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0xb0b15c);}['_initProgr'+'amLibrary'](){const _0x5b6dde=new D1(this['graphicsDe'+'vice'],new cs());WE(this['graphicsDe'+'vice'],_0x5b6dde);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0xa22593,_0x8d0b4c){$e['get'](_0xa22593,(_0x360570,_0x537c1e)=>{if(_0x360570){_0x8d0b4c(_0x360570);return;}const _0x4c306c=_0x537c1e['applicatio'+'n_properti'+'es'],_0x14131f=_0x537c1e['scenes'],_0x34dd06=_0x537c1e['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x4c306c,_0x12671d=>{this['_parseScen'+'es'](_0x14131f),this['_parseAsse'+'ts'](_0x34dd06),_0x8d0b4c(_0x12671d||null);});});}['preload'](_0x178114){this['fire']('preload:st'+'art');const _0x5661c1=this['assets']['list']({'preload':!(-0x1034+-0x17bf+0x27f3)});if(_0x5661c1['length']===-0x2697+-0xab7+0x2*0x18a7){this['fire']('preload:en'+'d'),_0x178114();return;}let _0x5dacc1=-0x1499+-0x5*-0x201+-0xa94*-0x1;const _0xaf305f=()=>{_0x5dacc1++,this['fire']('preload:pr'+'ogress',_0x5dacc1/_0x5661c1['length']),_0x5dacc1===_0x5661c1['length']&&(this['fire']('preload:en'+'d'),_0x178114());};_0x5661c1['forEach'](_0x4af63c=>{_0x4af63c['loaded']?_0xaf305f():(_0x4af63c['once']('load',_0xaf305f),_0x4af63c['once']('error',_0xaf305f),this['assets']['load'](_0x4af63c));});}['_preloadSc'+'ripts'](_0x8983bf,_0x4db3bb){_0x4db3bb();}['_parseAppl'+'icationPro'+'perties'](_0x676941,_0x3a94f3){if(typeof _0x676941['maxAssetRe'+'tries']=='number'&&_0x676941['maxAssetRe'+'tries']>-0x1*-0x17ff+-0x7e6+-0x1019&&this['loader']['enableRetr'+'y'](_0x676941['maxAssetRe'+'tries']),_0x676941['useDeviceP'+'ixelRatio']||(_0x676941['useDeviceP'+'ixelRatio']=_0x676941['use_device'+'_pixel_rat'+'io']),_0x676941['resolution'+'Mode']||(_0x676941['resolution'+'Mode']=_0x676941['resolution'+'_mode']),_0x676941['fillMode']||(_0x676941['fillMode']=_0x676941['fill_mode']),this['_width']=_0x676941['width'],this['_height']=_0x676941['height'],_0x676941['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x676941['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x676941['fillMode'],this['_width'],this['_height']),_0x676941['layers']&&_0x676941['layerOrder']){const _0x484e5a=new S_('applicatio'+'n'),_0x568982={};for(const _0x27d16a in _0x676941['layers']){const _0xfd5c50=_0x676941['layers'][_0x27d16a];_0xfd5c50['id']=parseInt(_0x27d16a,0x1*-0x1e1+-0x6d*-0x16+-0x773),_0xfd5c50['enabled']=_0xfd5c50['id']!==Xt,_0x568982[_0x27d16a]=new Lr(_0xfd5c50);}for(let _0x32a9f9=0x20f7+-0x1435+0xcc2*-0x1,_0x3fce86=_0x676941['layerOrder']['length'];_0x32a9f9<_0x3fce86;_0x32a9f9++){const _0x1c1e15=_0x676941['layerOrder'][_0x32a9f9],_0x289d96=_0x568982[_0x1c1e15['layer']];_0x289d96&&(_0x1c1e15['transparen'+'t']?_0x484e5a['pushTransp'+'arent'](_0x289d96):_0x484e5a['pushOpaque'](_0x289d96),_0x484e5a['subLayerEn'+'abled'][_0x32a9f9]=_0x1c1e15['enabled']);}this['scene']['layers']=_0x484e5a;}if(_0x676941['batchGroup'+'s']){const _0x5c0e8a=this['batcher'];if(_0x5c0e8a)for(let _0x442aa3=-0x7*-0x220+0x8e2+0x17c2*-0x1,_0x398d85=_0x676941['batchGroup'+'s']['length'];_0x442aa3<_0x398d85;_0x442aa3++){const _0x32cae1=_0x676941['batchGroup'+'s'][_0x442aa3];_0x5c0e8a['addGroup'](_0x32cae1['name'],_0x32cae1['dynamic'],_0x32cae1['maxAabbSiz'+'e'],_0x32cae1['id'],_0x32cae1['layers']);}}_0x676941['i18nAssets']&&(this['i18n']['assets']=_0x676941['i18nAssets']),this['_loadLibra'+'ries'](_0x676941['libraries'],_0x3a94f3);}['_loadLibra'+'ries'](_0x2633a9,_0x3f9954){const _0x3f12f9=_0x2633a9['length'];let _0x457bd7=_0x3f12f9;const _0x455f97=/^https?:\/\//;if(_0x3f12f9){const _0xaa1e2b=(_0x325a65,_0x57efe1)=>{_0x457bd7--,_0x325a65?_0x3f9954(_0x325a65):_0x457bd7===-0x34*-0x4+-0x1141+-0xb7*-0x17&&(this['onLibrarie'+'sLoaded'](),_0x3f9954(null));};for(let _0x24bc61=0x103*0x13+0x1*-0x114a+-0x3*0xa5;_0x24bc61<_0x3f12f9;++_0x24bc61){let _0x435443=_0x2633a9[_0x24bc61];!_0x455f97['test'](_0x435443['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x435443=fe['join'](this['_scriptPre'+'fix'],_0x435443)),this['loader']['load'](_0x435443,'script',_0xaa1e2b);}}else this['onLibrarie'+'sLoaded'](),_0x3f9954(null);}['_parseScen'+'es'](_0x442f38){if(_0x442f38){for(let _0x57b0fe=-0x4bd*-0x3+0x1db9+-0x2bf0;_0x57b0fe<_0x442f38['length'];_0x57b0fe++)this['scenes']['add'](_0x442f38[_0x57b0fe]['name'],_0x442f38[_0x57b0fe]['url']);}}['_parseAsse'+'ts'](_0x2538be){const _0x45d7b8=[],_0x526b8b={},_0x1b9e3c={};for(let _0x3b9915=0x1a39+0x7be+-0x21f7;_0x3b9915<this['scriptsOrd'+'er']['length'];_0x3b9915++){const _0x36be06=this['scriptsOrd'+'er'][_0x3b9915];_0x2538be[_0x36be06]&&(_0x526b8b[_0x36be06]=!(0x4ce+-0x22a8+0x1dda),_0x45d7b8['push'](_0x2538be[_0x36be06]));}if(this['enableBund'+'les']){for(const _0x550a7f in _0x2538be)_0x2538be[_0x550a7f]['type']==='bundle'&&(_0x1b9e3c[_0x550a7f]=!(-0x3*0x236+0xffd+-0x95b),_0x45d7b8['push'](_0x2538be[_0x550a7f]));}for(const _0x59d54f in _0x2538be)_0x526b8b[_0x59d54f]||_0x1b9e3c[_0x59d54f]||_0x45d7b8['push'](_0x2538be[_0x59d54f]);for(let _0x4a1413=0x1045+-0x266f*-0x1+-0x2*0x1b5a;_0x4a1413<_0x45d7b8['length'];_0x4a1413++){const _0x3b7239=_0x45d7b8[_0x4a1413],_0x10b6f1=new le(_0x3b7239['name'],_0x3b7239['type'],_0x3b7239['file'],_0x3b7239['data']);if(_0x10b6f1['id']=parseInt(_0x3b7239['id'],-0x18b*0xa+-0xf*-0x185+0x271*-0x3),_0x10b6f1['preload']=_0x3b7239['preload']?_0x3b7239['preload']:!(-0x13*0x94+-0x2da*0x1+0xdd7),_0x10b6f1['loaded']=_0x3b7239['type']==='script'&&_0x3b7239['data']&&_0x3b7239['data']['loadingTyp'+'e']>-0x17a4+-0x194*-0x8+0xb04,_0x10b6f1['tags']['add'](_0x3b7239['tags']),_0x3b7239['i18n']){for(const _0x1b0f1c in _0x3b7239['i18n'])_0x10b6f1['addLocaliz'+'edAssetId'](_0x1b0f1c,_0x3b7239['i18n'][_0x1b0f1c]);}this['assets']['add'](_0x10b6f1);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x206*0x3+0xc8*-0x8+0x2e);}),this['frame']=0x6db+0x13*0x14f+-0x1fb8,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x50e27f){this['controller']&&this['controller']['update'](_0x50e27f),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x5a44db){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x5a44db),this['systems']['fire']('animationU'+'pdate',_0x5a44db),this['systems']['fire']('postUpdate',_0x5a44db),this['fire']('update',_0x5a44db),this['inputUpdat'+'e'](_0x5a44db),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=0x1*0x515+-0xeed+-0x18*-0x69,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0xad4b35){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0xad4b35),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0xad4b35),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x54ebf1,_0x4cb006,_0x5da509){const _0x29176d=this['stats']['frame'];_0x29176d['dt']=_0x4cb006,_0x29176d['ms']=_0x5da509,_0x54ebf1>_0x29176d['_timeToCou'+'ntFrames']?(_0x29176d['fps']=_0x29176d['_fpsAccum'],_0x29176d['_fpsAccum']=-0x1e*0x102+-0x76*-0x36+0x558,_0x29176d['_timeToCou'+'ntFrames']=_0x54ebf1+(0xfe9*0x1+-0x5de*0x1+0x623*-0x1)):_0x29176d['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x340+-0xa*-0x16a+-0xae4;}['_fillFrame'+'Stats'](){let _0x27805f=this['stats']['frame'];_0x27805f['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x27805f['materials']=this['renderer']['_materialS'+'witches'],_0x27805f['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x27805f['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x27805f['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x27805f['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x27805f['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x11295f=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x27805f['triangles']=_0x11295f[Ms]/(-0x220c+-0x1368+-0x1*-0x3577)+Math['max'](_0x11295f[ar]-(0x2242+-0x10ca+0x1176*-0x1),0x15a2+0xd5*0x7+-0x1b75)+Math['max'](_0x11295f[Yr]-(0x1*-0x19b5+0x2394+-0x9dd),0x5e+0x629*0x4+-0x1902),_0x27805f['cullTime']=this['renderer']['_cullTime'],_0x27805f['sortTime']=this['renderer']['_sortTime'],_0x27805f['skinTime']=this['renderer']['_skinTime'],_0x27805f['morphTime']=this['renderer']['_morphTime'],_0x27805f['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x27805f['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x27805f['otherPrimi'+'tives']=0xd67+0x2*-0xe04+-0x7*-0x217;for(let _0x5b3136=-0x2072+0x3*0x823+0x809;_0x5b3136<_0x11295f['length'];_0x5b3136++)_0x5b3136<Ms&&(_0x27805f['otherPrimi'+'tives']+=_0x11295f[_0x5b3136]),_0x11295f[_0x5b3136]=0x761*0x3+-0x21bd+0xb9a*0x1;this['renderer']['_camerasRe'+'ndered']=-0x2019+-0x4*0x1d8+-0xeb*-0x2b,this['renderer']['_materialS'+'witches']=0x2b9+0x4a*0x15+-0x1*0x8cb,this['renderer']['_shadowMap'+'Updates']=-0x1375+0xa1b+0x39*0x2a,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x564+0x200b+0x1*-0x1aa7,this['renderer']['_cullTime']=0x21f*-0xf+0x3e6+0x1beb,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0xc9e+0x1*0x23e6+-0x1748,this['renderer']['_lightClus'+'tersTime']=-0xc5*-0xf+-0x129b+0x710,this['renderer']['_sortTime']=-0x125f*-0x1+-0x228e+0x102f,this['renderer']['_skinTime']=-0xe3*0x13+-0x1*-0x329+-0x490*-0x3,this['renderer']['_morphTime']=-0x14bf+-0x7ff+0xd*0x236,this['renderer']['_shadowMap'+'Time']=-0x27f+-0x1dda+0x5b*0x5b,this['renderer']['_depthMapT'+'ime']=0x9aa+-0xa30+0x86,this['renderer']['_forwardTi'+'me']=0x3*0xa69+-0x20c6+0x5*0x4f,_0x27805f=this['stats']['drawCalls'],_0x27805f['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x27805f['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x27805f['depth']=0x1*-0xb3+-0x2*0xf67+-0x5*-0x64d,_0x27805f['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x27805f['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x27805f['immediate']=0x53e+-0x1165+-0x40d*-0x3,_0x27805f['instanced']=0x3b9+-0x944+-0x1d9*-0x3,_0x27805f['removedByI'+'nstancing']=0x293*0xa+0x1*-0x851+-0x116d,_0x27805f['misc']=_0x27805f['total']-(_0x27805f['forward']+_0x27805f['shadow']),this['renderer']['_depthDraw'+'Calls']=0x1*0x1625+0x86f*-0x1+-0xdb6,this['renderer']['_shadowDra'+'wCalls']=-0x16ab+-0x1e5d+0x1a84*0x2,this['renderer']['_forwardDr'+'awCalls']=-0x1*-0x1ccd+0x6*0x289+-0x1*0x2c03,this['renderer']['_numDrawCa'+'llsCulled']=0x15dd+0xc87+-0x7c*0x47,this['renderer']['_skinDrawC'+'alls']=0x1806+-0x22ec+0x6*0x1d1,this['renderer']['_immediate'+'Rendered']=-0x24ed+0x2162*0x1+0x38b,this['renderer']['_instanced'+'DrawCalls']=0xcc1*-0x2+-0x1*-0xf8f+-0x351*-0x3,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x27805f=this['stats']['particles'],_0x27805f['updatesPer'+'Frame']=_0x27805f['_updatesPe'+'rFrame'],_0x27805f['frameTime']=_0x27805f['_frameTime'],_0x27805f['_updatesPe'+'rFrame']=-0x55a+0x14*0xc5+-0x202*0x5,_0x27805f['_frameTime']=0x2*-0x1db+-0x2*0x10d0+-0x36*-0xb1;}['setCanvasF'+'illMode'](_0x493c6c,_0x2cc3d6,_0x55211f){this['_fillMode']=_0x493c6c,this['resizeCanv'+'as'](_0x2cc3d6,_0x55211f);}['setCanvasR'+'esolution'](_0x36476c,_0xbbd746,_0x2dad1a){this['_resolutio'+'nMode']=_0x36476c,_0x36476c===G_&&_0xbbd746===void(-0x7df+-0x1da7+0x2586)&&(_0xbbd746=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x2dad1a=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0xbbd746,_0x2dad1a);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x2f047b,_0x360277){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x4d938d=window['innerWidth'],_0x2004f2=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x3b8317=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x147143=_0x4d938d/_0x2004f2;_0x3b8317>_0x147143?(_0x2f047b=_0x4d938d,_0x360277=_0x2f047b/_0x3b8317):(_0x360277=_0x2004f2,_0x2f047b=_0x360277*_0x3b8317);}else this['_fillMode']===$1&&(_0x2f047b=_0x4d938d,_0x360277=_0x2004f2);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x2f047b+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x360277+'px',this['updateCanv'+'asSize'](),{'width':_0x2f047b,'height':_0x360277};}['updateCanv'+'asSize'](){var _0x1d83cf;if(!(!this['_allowResi'+'ze']||(_0x1d83cf=this['xr'])!=null&&_0x1d83cf['active'])&&this['_resolutio'+'nMode']===G_){const _0x361d6d=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x361d6d['clientWidt'+'h'],_0x361d6d['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x11*-0x1e9+-0x223d+0x42b6),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x26a8e2){let _0x36175f;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x3dc145,_0x81b55e,_0x33ab51]=_0x26a8e2['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x3dc145,_0x81b55e,_0x33ab51);}this['scene']['applySetti'+'ngs'](_0x26a8e2),_0x26a8e2['render']['hasOwnProp'+'erty']('skybox')&&(_0x26a8e2['render']['skybox']?(_0x36175f=this['assets']['get'](_0x26a8e2['render']['skybox']),_0x36175f?this['setSkybox'](_0x36175f):this['assets']['once']('add:'+_0x26a8e2['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x533c7e,_0x2d8168){_0x533c7e&&_0x2d8168?$r['set'](this['graphicsDe'+'vice'],_0x533c7e,_0x2d8168):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x472d56){if(_0x472d56!==this['_skyboxAss'+'et']){const _0x3b52e9=()=>{this['setSkybox'](null);},_0x27e7d4=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x27e7d4,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x3b52e9,this),this['_skyboxAss'+'et']['off']('change',_0x27e7d4,this)),this['_skyboxAss'+'et']=_0x472d56,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x27e7d4,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x3b52e9,this),this['_skyboxAss'+'et']['on']('change',_0x27e7d4,this),this['scene']['skyboxMip']===0x19d+-0x857+0x1*0x6ba&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x2139+-0x811+0xa*0x421)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x27e7d4();}}['_firstBake'](){var _0x852cda;(_0x852cda=this['lightmappe'+'r'])==null||_0x852cda['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x189fde;(_0x189fde=this['batcher'])==null||_0x189fde['generate']();}['_processTi'+'mestamp'](_0x48e3ba){return _0x48e3ba;}['drawLine'](_0x5378e1,_0x4ee161,_0x1c09e3,_0x49d182,_0x5bfb2d){this['scene']['drawLine'](_0x5378e1,_0x4ee161,_0x1c09e3,_0x49d182,_0x5bfb2d);}['drawLines'](_0x38dab1,_0x1eb4f4,_0x3d134b=!(0x32d+-0x1*0x2077+0x1d4a*0x1),_0x170e72=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x38dab1,_0x1eb4f4,_0x3d134b,_0x170e72);}['drawLineAr'+'rays'](_0x576c05,_0x1542dc,_0x1bbf47=!(0x6a*0x46+0x1*-0x1111+-0x153*0x9),_0x4c1533=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x576c05,_0x1542dc,_0x1bbf47,_0x4c1533);}['drawWireSp'+'here'](_0x4ec77d,_0x3fdc9a,_0x28f0f7=Y['WHITE'],_0xe1adf6=0x12e4+-0x797*0x4+0x1*0xb8c,_0xc5ddea=!(0x3e*-0x44+-0x224f+0x32c7),_0x5aedb3=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x4ec77d,_0x3fdc9a,_0x28f0f7,_0xe1adf6,_0xc5ddea,_0x5aedb3);}['drawWireAl'+'ignedBox'](_0x161560,_0x1b8ef4,_0x265296=Y['WHITE'],_0x4c5c4b=!(0x1957+0xe9b+-0x27f2),_0x11583b=this['scene']['defaultDra'+'wLayer'],_0x2ac182){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x161560,_0x1b8ef4,_0x265296,_0x4c5c4b,_0x11583b,_0x2ac182);}['drawMeshIn'+'stance'](_0x5bf90d,_0xcfb1f6=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x5bf90d,_0xcfb1f6);}['drawMesh'](_0x4e625a,_0x30901e,_0x23af25,_0xfd7ea=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x30901e,_0x23af25,_0x4e625a,null,_0xfd7ea);}['drawQuad'](_0xb7ec38,_0x35fc0a,_0x3da985=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x35fc0a,_0xb7ec38,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x3da985);}['drawTextur'+'e'](_0x1e0b1a,_0x17e001,_0x4ef703,_0x55c35f,_0x36ea62,_0x3c305d,_0x2b8ae2=this['scene']['defaultDra'+'wLayer'],_0x528704=!(0x591+0x1*0x10b9+-0x164a)){if(_0x528704===!(-0x1*-0x1ce5+-0x26db+0x1*0x9f7)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x372f7e=new q();_0x372f7e['setTRS'](new T(_0x1e0b1a,_0x17e001,0x270+0x1e1e+-0x208e),se['IDENTITY'],new T(_0x4ef703,-_0x55c35f,0x2708+-0xa8d+-0x1c7b)),_0x3c305d||(_0x3c305d=new Ra(),_0x3c305d['cull']=mt,_0x3c305d['setParamet'+'er']('colorMap',_0x36ea62),_0x3c305d['shaderDesc']=_0x528704?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x36ea62['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x3c305d['update']()),this['drawQuad'](_0x372f7e,_0x3c305d,_0x2b8ae2);}['drawDepthT'+'exture'](_0x5c6140,_0x3ee6de,_0x376bcc,_0x5b71fb,_0x22b8ab=this['scene']['defaultDra'+'wLayer']){const _0x57fdd8=new Ra();_0x57fdd8['cull']=mt,_0x57fdd8['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x57fdd8['update'](),this['drawTextur'+'e'](_0x5c6140,_0x3ee6de,_0x376bcc,_0x5b71fb,null,_0x57fdd8,_0x22b8ab);}['destroy'](){var _0x1d6c9b,_0x564148,_0x467267,_0x49b033;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x1614+0x138e+0x2*-0x14d1);return;}const _0x4d2f6d=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x5*0x236+0x24ad*-0x1+0x2fbc)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1*-0x1da7+-0x3*-0x4ff+-0x2ef*-0x5)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x18b+-0x43*0x11+0x2e9)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x4b8*-0x5+0x412*-0x1+-0x1385))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x4b0f87=this['assets']['list']();for(let _0x2d380d=0x3*-0x85b+-0xadc+-0x23ed*-0x1;_0x2d380d<_0x4b0f87['length'];_0x2d380d++)_0x4b0f87[_0x2d380d]['unload'](),_0x4b0f87[_0x2d380d]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x1315f8=this['loader']['getHandler']('script');_0x1315f8==null||_0x1315f8['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x1d6c9b=this['lightmappe'+'r'])==null||_0x1d6c9b['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x564148=this['xr'])==null||_0x564148['end'](),(_0x467267=this['xr'])==null||_0x467267['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x49b033=this['_soundMana'+'ger'])==null||_0x49b033['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x4d2f6d]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x4112aa){_0x4112aa['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x4112aa['frameReque'+'stId']),_0x4112aa['frameReque'+'stId']=void(-0x2b*0x1e+-0x2*-0xd1+-0x1b4*-0x2));}['getEntityF'+'romIndex'](_0xae3115){return this['_entityInd'+'ex'][_0xae3115];}['_registerS'+'ceneImmedi'+'ate'](_0x4ea895){this['on']('postrender',_0x4ea895['immediate']['onPostRend'+'er'],_0x4ea895['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x195c36){const _0x57d4d9=_0x195c36;return function(_0x12bd4c,_0x5227b4){var _0x650525,_0x1903ce,_0x10407d,_0x7d2f5e;if(!_0x57d4d9['graphicsDe'+'vice'])return;_0x57d4d9['frameReque'+'stId']&&((_0x1903ce=(_0x650525=_0x57d4d9['xr'])==null?void(-0xeec+-0x1a56+0x2942):_0x650525['session'])==null||_0x1903ce['cancelAnim'+'ationFrame'](_0x57d4d9['frameReque'+'stId']),cancelAnimationFrame(_0x57d4d9['frameReque'+'stId']),_0x57d4d9['frameReque'+'stId']=null),_0x57d4d9['_inFrameUp'+'date']=!(0x2065*0x1+-0x407*0x4+-0x1049),qu(_0x57d4d9);const _0x2bdda2=_0x57d4d9['_processTi'+'mestamp'](_0x12bd4c)||ne(),_0x271f32=_0x2bdda2-(_0x57d4d9['_time']||_0x2bdda2);let _0x37d528=_0x271f32/(-0x3*-0x50b+-0x263*-0xf+0x2f06*-0x1);if(_0x37d528=N['clamp'](_0x37d528,0x2*0x9b0+-0x58*0x3f+-0x8*-0x49,_0x57d4d9['maxDeltaTi'+'me']),_0x37d528*=_0x57d4d9['timeScale'],_0x57d4d9['_time']=_0x2bdda2,(_0x10407d=_0x57d4d9['xr'])!=null&&_0x10407d['session']?_0x57d4d9['frameReque'+'stId']=_0x57d4d9['xr']['session']['requestAni'+'mationFram'+'e'](_0x57d4d9['tick']):_0x57d4d9['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x57d4d9['tick']):null,_0x57d4d9['graphicsDe'+'vice']['contextLos'+'t'])return;_0x57d4d9['_fillFrame'+'StatsBasic'](_0x2bdda2,_0x37d528,_0x271f32),_0x57d4d9['_fillFrame'+'Stats'](),_0x57d4d9['fire']('frameupdat'+'e',_0x271f32);let _0x17fde8=!(0x9c8+0x2291+0x2c59*-0x1);_0x5227b4?(_0x17fde8=(_0x7d2f5e=_0x57d4d9['xr'])==null?void(-0x12ee+-0x1aab+0xf33*0x3):_0x7d2f5e['update'](_0x5227b4),_0x57d4d9['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x5227b4['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x57d4d9['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x17fde8&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x57d4d9['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0x372+-0x22c3+0x2637)+'ms'),_0x57d4d9['update'](_0x37d528),_0x57d4d9['fire']('framerende'+'r'),(_0x57d4d9['autoRender']||_0x57d4d9['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](0x1*0x26d5+-0x65*-0x1+-0x2738)+'ms'),_0x57d4d9['updateCanv'+'asSize'](),_0x57d4d9['frameStart'](),_0x57d4d9['render'](),_0x57d4d9['frameEnd'](),_0x57d4d9['renderNext'+'Frame']=!(0x1712+0x911*0x1+-0x2*0x1011),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](-0x7*0x2c+0x1f60+-0x42*0x75)+'ms')),jd['timestamp']=ne(),jd['target']=_0x57d4d9,_0x57d4d9['fire']('frameend',jd)),_0x57d4d9['_inFrameUp'+'date']=!(-0x113b*0x1+0xb7*-0x36+-0x1*-0x37d6),_0x57d4d9['_destroyRe'+'quested']&&_0x57d4d9['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class W0{constructor(_0x399327,_0x2c71aa,_0x204ea6){this['scene']=_0x399327,this['light']=_0x2c71aa,this['store'](),_0x2c71aa['numCascade'+'s']=-0x1c2f+-0x9c1+0x25f1,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x2c71aa['castShadow'+'s']=_0x2c71aa['bakeShadow'+'s']&&_0x204ea6['shadowsEna'+'bled']),_0x2c71aa['type']!==oe&&(_0x2c71aa['_node']['getWorldTr'+'ansform'](),_0x2c71aa['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x1c5717=this['light'];_0x1c5717['mask']=this['mask'],_0x1c5717['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x1c5717['enabled']=this['enabled'],_0x1c5717['intensity']=this['intensity'],_0x1c5717['_node']['setLocalRo'+'tation'](this['rotation']),_0x1c5717['numCascade'+'s']=this['numCascade'+'s'],_0x1c5717['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x4b1+-0x93c+0x48b),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x27e811){const _0x6d1f2d=this['light'];_0x6d1f2d['enabled']=!(-0x51a+0x97f+-0x464),_0x6d1f2d['shadowMap']&&(_0x6d1f2d['shadowMap']['cached']&&_0x27e811['add'](_0x6d1f2d,_0x6d1f2d['shadowMap']),_0x6d1f2d['shadowMap']=null);}}const Hl=new W();class mP extends W0{constructor(_0x5d4c45,_0x4370d9){super(_0x5d4c45['scene'],_0x4370d9,_0x5d4c45['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:0xd*-0x1bb+-0x1*-0x6fb+0xf85;}['prepareVir'+'tualLight'](_0x1075db,_0xaf47b7){const _0x5c9488=this['light'];if(_0x5c9488['_node']['setLocalRo'+'tation'](this['rotation']),_0x1075db>0x35*-0x29+0x1b6+-0x15b*-0x5){const _0x119547=_0x5c9488['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x1075db,_0xaf47b7),Hl['mulScalar'](_0x119547*(-0xd48+-0x16*-0x71+-0x2*-0x1c9+0.5)),_0x5c9488['_node']['rotateLoca'+'l'](Hl['x'],-0x10e8+-0x1dc4+0x2eac,Hl['y']);}_0x5c9488['_node']['getWorldTr'+'ansform']();const _0x304af5=-0x1dd9*0x1+0xc7*-0x29+0x3dba+0.20000000000000018,_0x91bfc9=Math['pow'](this['intensity'],_0x304af5);_0x5c9488['intensity']=Math['pow'](_0x91bfc9/_0xaf47b7,(0x477*-0x5+-0x90e+0x3*0xa76)/_0x304af5);}}const X_=new T();class j_ extends W0{constructor(_0x51725e){const _0x505485=_0x51725e['scene'],_0xa00853=new We('AmbientLig'+'ht');_0xa00853['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x1*-0x11d7+-0x9b7+0x1*0x1b8e),'affectLightmapped':!(0xe30+-0x1324+-0x9*-0x8d),'bake':!(-0x4a*0x66+0x59*-0x26+-0x5*-0x88a),'bakeNumSamples':_0x505485['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x25f3+-0x1b10+-0xae3),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(-0x1*-0xe6d+0x2127+0x13*-0x281)}),super(_0x505485,_0xa00853['light']['light'],_0x51725e['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x31c0c4,_0x11be8c){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x31c0c4,_0x11be8c,0x1*0x2217+-0xe60+-0x31*0x67,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0x26ab+-0xa*-0xdf+0x17b*-0x20))),this['light']['_node']['rotateLoca'+'l'](-0x2*0x1048+-0x4a3*-0x2+0x17a4,0x29*0x89+-0x19f4+-0x403*-0x1,0x1094+0x903+-0x1997);const _0x355b42=0x1407+-0x3e1+-0x1024+0.20000000000000018,_0x100125=(0xce7+0x17d1+-0x24b6)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x1ddbbd=Math['pow'](_0x100125,_0x355b42);this['light']['intensity']=Math['pow'](_0x1ddbbd/_0x11be8c,(0x1*0x694+0xc15*0x3+-0x2ad2)/_0x355b42);}}class Wl{constructor(_0x235128,_0x5ce9e3=null){this['node']=_0x235128,this['component']=_0x235128['render']||_0x235128['model'],_0x5ce9e3=_0x5ce9e3||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x5ce9e3,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0x2508+-0x335*0x6+-0x11bb;class _P{constructor(_0x5cbbba){this['device']=_0x5cbbba,this['shaderDila'+'te']=Is(_0x5cbbba,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x5cbbba['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x5cbbba['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x1*0x18eb+0x1bf+-0x8a*-0x2b),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x582b5a){this['constantTe'+'xSource']['setValue'](_0x582b5a);}['prepare'](_0x13c2d4,_0x3ccc05){this['pixelOffse'+'t'][-0x1*0xffd+0x9db*0x2+-0x3b9]=(0x49*0x6c+-0x2c*0xd7+0x629)/_0x13c2d4,this['pixelOffse'+'t'][0xa99*0x1+-0x1d4a+0x12b2]=(-0x6*-0x32d+0x2407+-0x3714*0x1)/_0x3ccc05,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x1dba11,_0x2b6a07,_0x465e68){const _0x235270=_0x465e68?-0x1*0x15d9+-0x1138*0x1+0x2711:0x8*0x2e8+-0x130f+-0x430;if(!this['shaderDeno'+'ise'][_0x235270]){const _0x3bbc92='lmBilatera'+'lDeNoise-'+(_0x465e68?'hdr':'rgbm'),_0x5ce037=_0x465e68?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x235270]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x5ce037+vo['bilateralD'+'eNoisePS'],_0x3bbc92),this['sigmas']=new Float32Array(-0x1*-0x5f3+-0x45*-0x86+-0x2a0f),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x2168+-0x7b2+-0x2*-0x148d]=_0x1dba11,this['sigmas'][0x2447+0x20*-0x15+0x3b*-0x92]=_0x2b6a07,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x1dba11,_0x2b6a07);}['getDenoise'](_0x174340){const _0x568da5=_0x174340?0x4b5+0x2e5*-0xb+0x1b22:-0x1337+0x1b2f+0x1*-0x7f7;return this['shaderDeno'+'ise'][_0x568da5];}['getDilate'](_0x2b1c98,_0x3f10ee){const _0x2c5e54=_0x3f10ee?-0x1f*-0xd9+-0x7*-0x3fd+-0x7*0x7be:-0xfd8+0x19c*0x15+-0x397*0x5;if(!this['shaderDila'+'te'][_0x2c5e54]){const _0x467e86='lmDilate-'+(_0x3f10ee?'hdr':'rgbm'),_0x5de419=_0x3f10ee?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x2c5e54]=Is(_0x2b1c98,X['fullscreen'+'QuadVS'],_0x5de419+vo['dilatePS'],_0x467e86);}return this['shaderDila'+'te'][_0x2c5e54];}['evaluateDe'+'noiseUnifo'+'rms'](_0x169441,_0x3789f6){function _0x13a5ea(_0xd1b1c5,_0xfdf985){return(0x1a20+-0x7*-0x2c3+-0xf27*0x3+0.39894)*Math['exp'](-(0x114a+0x15d2+-0x271c*0x1+0.5)*_0xd1b1c5*_0xd1b1c5/(_0xfdf985*_0xfdf985))/_0xfdf985;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x42ed8d=this['kernel'],_0x3dc4bd=Math['floor']((Y_-(0x268b+-0x4*-0x92+-0x28d2))/(-0xff6+0x1*-0x1b4f+0x2b47));for(let _0x526d9b=0x98e*0x3+0xe4+-0x1d8e;_0x526d9b<=_0x3dc4bd;++_0x526d9b){const _0x12c76a=_0x13a5ea(_0x526d9b,_0x169441);_0x42ed8d[_0x3dc4bd+_0x526d9b]=_0x12c76a,_0x42ed8d[_0x3dc4bd-_0x526d9b]=_0x12c76a;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x3639d2=(0x1*0x20a8+0x1135*0x1+-0x4*0xc77)/_0x13a5ea(0x217d+0x679*0x2+0x2e6f*-0x1,_0x3789f6);this['bZnorm']['setValue'](_0x3639d2);}}class gP extends ds{constructor(_0x5b37d3,_0x52478e,_0x186706,_0x4c5097,_0x3e4ada,_0x8575f){super(_0x5b37d3),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x52478e,this['camera']=_0x186706,this['worldClust'+'ers']=_0x4c5097,this['receivers']=_0x3e4ada,this['lightArray']=_0x8575f);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4a10da=>{_0x4a10da['defaultUni'+'formBuffer']['destroy'](),_0x4a10da['destroy']();}),this['viewBindGr'+'oups']['length']=-0x90b+0x2513*0x1+-0x1c08;}['execute'](){const _0x4bb3b5=this['device'];G['pushGpuMar'+'ker'](_0x4bb3b5,'Lightmappe'+'r');const {renderer:_0x53a589,camera:_0x5f467e,receivers:_0x297ffb,renderTarget:_0x416f12,worldClusters:_0x784a2c,lightArray:_0x5895f0}=this;_0x53a589['renderForw'+'ardLayer'](_0x5f467e,_0x416f12,null,void(0x1*0x1bef+0xcc9+0x1*-0x28b8),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x297ffb,'splitLights':_0x5895f0,'lightClusters':_0x784a2c}),G['popGpuMark'+'er'](_0x4bb3b5);}}const yP=-0x1*-0x363+-0x201a*0x1+-0x3*-0xc3d,xP=0x19a9+-0x2405+0x297*0x4,SP=-0x1*-0x628+-0x803+-0x1*-0x1dc,$l=new T();class vP{constructor(_0x597946,_0x54599b,_0x4842ae,_0x2647dc,_0x72f2f9){this['device']=_0x597946,this['root']=_0x54599b,this['scene']=_0x4842ae,this['renderer']=_0x2647dc,this['assets']=_0x72f2f9,this['shadowMapC'+'ache']=_0x2647dc['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0xfbb*0x1+0x21f7+0x31b1*-0x1),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3b3d4f;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3b3d4f=this['camera'])==null||_0x3b3d4f['destroy'](),this['camera']=null;}['initBake'](_0x2aea13){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x2270+-0xd*-0x175+0xf*-0x38f),this['lightmapFi'+'lters']=new _P(_0x2aea13),this['constantBa'+'keDir']=_0x2aea13['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x2aa16c=new ol();_0x2aa16c['clearColor']['set'](-0x22c2+0x251*0x10+-0x24e,-0x5*-0x621+-0x24d8+0x17*0x45,-0xc5a*-0x1+0x1486+-0x20e0,-0xe7f+0x2214*-0x1+-0xf*-0x33d),_0x2aa16c['clearColor'+'Buffer']=!(-0xd89+-0x3*-0x187+0x8f4),_0x2aa16c['clearDepth'+'Buffer']=!(0x1114+0x41d*-0x9+0x8a*0x25),_0x2aa16c['clearStenc'+'ilBuffer']=!(0x1bf5+-0x15c*-0xa+-0x298c),_0x2aa16c['frustumCul'+'ling']=!(0x1a54+0x44c+-0x1e9f),_0x2aa16c['projection']=ua,_0x2aa16c['aspectRati'+'o']=0x10d*0x2+0x24ed+-0x2706,_0x2aa16c['node']=new De(),this['camera']=_0x2aa16c,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x43181e=new L0(_0x2aea13['supportsAr'+'eaLights'],_0x2aea13['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x43181e;const _0x4b0b0e=this['scene']['lighting'];_0x43181e['shadowsEna'+'bled']=_0x4b0b0e['shadowsEna'+'bled'],_0x43181e['shadowAtla'+'sResolutio'+'n']=_0x4b0b0e['shadowAtla'+'sResolutio'+'n'],_0x43181e['cookiesEna'+'bled']=_0x4b0b0e['cookiesEna'+'bled'],_0x43181e['cookieAtla'+'sResolutio'+'n']=_0x4b0b0e['cookieAtla'+'sResolutio'+'n'],_0x43181e['areaLights'+'Enabled']=_0x4b0b0e['areaLights'+'Enabled'],_0x43181e['cells']=new T(-0x5c*-0x3d+-0x2673+0x108a,-0x15b*0x17+0x2328+-0x3f8,-0x2*0xed2+0x3e7+0x19c0),_0x43181e['maxLightsP'+'erCell']=-0xb4+-0x1632+0x7*0x346,this['worldClust'+'ers']=new zu(_0x2aea13),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x399d92){this['materials']=[];function _0x41ade7(_0xf3c483){Si['decRef'](_0xf3c483['colorBuffe'+'r']),_0xf3c483['destroy']();}this['renderTarg'+'ets']['forEach'](_0x561fc8=>{_0x41ade7(_0x561fc8);}),this['renderTarg'+'ets']['clear'](),_0x399d92['forEach'](_0x3eef74=>{_0x3eef74['renderTarg'+'ets']['forEach'](_0x47e17d=>{_0x41ade7(_0x47e17d);}),_0x3eef74['renderTarg'+'ets']['length']=0x17e1+0x347+-0x1b28;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0xc0298,_0x13080a,_0x49cdc5,_0xb007ae){const _0x55405a=new cs();_0x55405a['name']='lmMaterial'+'-pass:'+_0x49cdc5+'-ambient:'+_0xb007ae,_0x55405a['chunks']['APIVersion']=hi;const _0x268386='#define\x20UV'+'1LAYOUT\x0a';if(_0x55405a['chunks']['transformV'+'S']=_0x268386+X['transformV'+'S'],_0x49cdc5===xP){let _0x5f4d18=vo['bakeLmEndP'+'S'];_0xb007ae?_0x5f4d18='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x13080a['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](-0x12*0x112+-0x9*0x25f+0x289c)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x13080a['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](-0x16db*-0x1+0x3f*0x6+0x40e*-0x6)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x5f4d18:_0x55405a['ambient']=new Y(-0x8a6+0x1d78+-0xcd*0x1a,0x136c+-0x1*-0x1aa7+-0x2e13,0x2b*-0x59+-0x5*0x251+0x1a88),_0x55405a['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x55405a['chunks']['endPS']=_0x5f4d18,_0x55405a['lightMap']=this['blackTex'];}else _0x55405a['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x55405a['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x55405a['chunks']['outputAlph'+'aPS']='\x0a',_0x55405a['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x55405a['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x55405a['cull']=mt,_0x55405a['forceUv1']=!(0x2b9+-0x2481+0x21c8),_0x55405a['update'](),_0x55405a;}['createMate'+'rials'](_0x51f793,_0x2fa46b,_0xbe4e0f){for(let _0x20ec11=0xef4+0x3*0x27b+0x111*-0x15;_0x20ec11<_0xbe4e0f;_0x20ec11++)this['passMateri'+'als'][_0x20ec11]||(this['passMateri'+'als'][_0x20ec11]=this['createMate'+'rialForPas'+'s'](_0x51f793,_0x2fa46b,_0x20ec11,!(0x198c+-0x6b*-0x45+-0x3662)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x51f793,_0x2fa46b,0x1*0x5ad+0x3*-0x521+-0xb*-0xe2,!(0x1e5b+-0x91*0x11+-0x7*0x2f6)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x5ae123){return _0x5ae123['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x3*-0x8ed+-0x9e+0x1*0x1b65),_0x5ae123['litOptions']['separateAm'+'bient']=!(0x143*-0x11+0x3c8*-0x7+0x2feb),_0x5ae123;});}['createText'+'ure'](_0x3414a7,_0x10c50e){return new he(this['device'],{'profilerHint':Oy,'width':_0x3414a7,'height':_0x3414a7,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x2185+0x23b8+-0x119*0x2),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x10c50e});}['collectMod'+'els'](_0x2086bc,_0x2ddac0,_0x54f96c){var _0x27bdac,_0x401845,_0x43a8fc;if(!_0x2086bc['enabled'])return;let _0x491ff7;if((_0x27bdac=_0x2086bc['model'])!=null&&_0x27bdac['model']&&((_0x401845=_0x2086bc['model'])!=null&&_0x401845['enabled'])&&(_0x54f96c&&_0x54f96c['push'](new Wl(_0x2086bc)),_0x2086bc['model']['lightmappe'+'d']&&_0x2ddac0&&(_0x491ff7=_0x2086bc['model']['model']['meshInstan'+'ces'])),(_0x43a8fc=_0x2086bc['render'])!=null&&_0x43a8fc['enabled']&&(_0x54f96c&&_0x54f96c['push'](new Wl(_0x2086bc)),_0x2086bc['render']['lightmappe'+'d']&&_0x2ddac0&&(_0x491ff7=_0x2086bc['render']['meshInstan'+'ces'])),_0x491ff7){let _0x2d5ebe=!(-0x2069*-0x1+-0x1451+0x18*-0x81);for(let _0x1dfd02=-0x1*0x217+0x1715*0x1+-0x14fe;_0x1dfd02<_0x491ff7['length'];_0x1dfd02++)if(!_0x491ff7[_0x1dfd02]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x2086bc['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x2d5ebe=!(0x1f4b*-0x1+0x83*-0x3b+0xb*0x597);break;}if(_0x2d5ebe){const _0x28a5bd=[];for(let _0x55bd22=-0x14a7+-0xdbd*0x2+0x3021;_0x55bd22<_0x491ff7['length'];_0x55bd22++){const _0x6f1dac=_0x491ff7[_0x55bd22]['mesh'];this['_tempSet']['has'](_0x6f1dac)?_0x2ddac0['push'](new Wl(_0x2086bc,[_0x491ff7[_0x55bd22]])):_0x28a5bd['push'](_0x491ff7[_0x55bd22]),this['_tempSet']['add'](_0x6f1dac);}this['_tempSet']['clear'](),_0x28a5bd['length']>-0x42e+-0x11af+0x15dd&&_0x2ddac0['push'](new Wl(_0x2086bc,_0x28a5bd));}}for(let _0x25ca0c=0x1b0c+-0xafe+-0x336*0x5;_0x25ca0c<_0x2086bc['_children']['length'];_0x25ca0c++)this['collectMod'+'els'](_0x2086bc['_children'][_0x25ca0c],_0x2ddac0,_0x54f96c);}['prepareSha'+'dowCasters'](_0x261cd9){const _0x40a51a=[];for(let _0x5f49cc=-0x1482+-0x138e+0x502*0x8;_0x5f49cc<_0x261cd9['length'];_0x5f49cc++){const _0x2cd0b8=_0x261cd9[_0x5f49cc]['component'];if(_0x2cd0b8['castShadow'+'s']=_0x2cd0b8['castShadow'+'sLightmap'],_0x2cd0b8['castShadow'+'sLightmap']){const _0x466d9d=_0x261cd9[_0x5f49cc]['meshInstan'+'ces'];for(let _0x58ca42=-0x5f*0x27+0x96d*-0x3+0x2ac0;_0x58ca42<_0x466d9d['length'];_0x58ca42++)_0x466d9d[_0x58ca42]['visibleThi'+'sFrame']=!(-0x2068+-0x155*0x3+0x2467),_0x40a51a['push'](_0x466d9d[_0x58ca42]);}}return _0x40a51a;}['updateTran'+'sforms'](_0x52f081){for(let _0x44f089=0x2195+0x5*-0x64c+-0x219;_0x44f089<_0x52f081['length'];_0x44f089++){const _0x3fbf27=_0x52f081[_0x44f089]['meshInstan'+'ces'];for(let _0x324b19=-0x22e4+-0x253a+0x481e;_0x324b19<_0x3fbf27['length'];_0x324b19++)_0x3fbf27[_0x324b19]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x5dc965){let _0xa24d91;const _0xa674f1=this['scene']['lightmapSi'+'zeMultipli'+'er']||0xe5+0x11a4+-0x1279,_0x5db2be=$l;let _0x546715,_0x31e70b;_0x5dc965['model']?(_0x31e70b=_0x5dc965['model']['lightmapSi'+'zeMultipli'+'er'],_0x5dc965['model']['asset']?(_0xa24d91=this['assets']['get'](_0x5dc965['model']['asset'])['data'],_0xa24d91['area']&&(_0x546715=_0xa24d91['area'])):_0x5dc965['model']['_area']&&(_0xa24d91=_0x5dc965['model'],_0xa24d91['_area']&&(_0x546715=_0xa24d91['_area']))):_0x5dc965['render']&&(_0x31e70b=_0x5dc965['render']['lightmapSi'+'zeMultipli'+'er'],_0x5dc965['render']['type']!=='asset'&&_0x5dc965['render']['_area']&&(_0xa24d91=_0x5dc965['render'],_0xa24d91['_area']&&(_0x546715=_0xa24d91['_area'])));const _0x8f2257={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x546715&&(_0x8f2257['x']=_0x546715['x'],_0x8f2257['y']=_0x546715['y'],_0x8f2257['z']=_0x546715['z'],_0x8f2257['uv']=_0x546715['uv']);const _0x1d83ef=_0x31e70b||0x121d+-0x7cc+-0xa50;_0x8f2257['x']*=_0x1d83ef,_0x8f2257['y']*=_0x1d83ef,_0x8f2257['z']*=_0x1d83ef;const _0x485361=_0x5dc965['render']||_0x5dc965['model'],_0x51a31a=this['computeNod'+'eBounds'](_0x485361['meshInstan'+'ces']);_0x5db2be['copy'](_0x51a31a['halfExtent'+'s']);let _0x2d4d6b=_0x8f2257['x']*_0x5db2be['y']*_0x5db2be['z']+_0x8f2257['y']*_0x5db2be['x']*_0x5db2be['z']+_0x8f2257['z']*_0x5db2be['x']*_0x5db2be['y'];return _0x2d4d6b/=_0x8f2257['uv'],_0x2d4d6b=Math['sqrt'](_0x2d4d6b),Math['min'](N['nextPowerO'+'fTwo'](_0x2d4d6b*_0xa674f1),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x49ffd7,_0x5d6ea7,_0x2f41f1,_0x51c883){for(let _0x330164=-0x68b+-0x2565+0x2bf0;_0x330164<_0x49ffd7['length'];_0x330164++){const _0x4478bb=_0x49ffd7[_0x330164],_0x2fc2b4=_0x4478bb['meshInstan'+'ces'];for(let _0x4d6d49=0xc15*-0x1+-0x2*-0x1205+-0x17f5;_0x4d6d49<_0x2fc2b4['length'];_0x4d6d49++){const _0x189a7d=_0x2fc2b4[_0x4d6d49];if(_0x189a7d['setLightma'+'pped'](_0x5d6ea7),_0x5d6ea7){_0x51c883&&(_0x189a7d['_shaderDef'+'s']|=_0x51c883),_0x189a7d['mask']=cr;for(let _0x368d98=-0x17b3*-0x1+-0x8c*0x23+0x48f*-0x1;_0x368d98<_0x2f41f1;_0x368d98++){const _0x38a441=_0x4478bb['renderTarg'+'ets'][_0x368d98]['colorBuffe'+'r'];_0x38a441['minFilter']=st,_0x38a441['magFilter']=st,_0x189a7d['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x368d98],_0x38a441);}}}}}['bake'](_0x124557,_0x4549f3=ch){const _0x19bd60=this['device'],_0x1ef823=ne();this['scene']['_updateSky'+'Mesh'](),_0x19bd60['fire']('lightmappe'+'r:start',{'timestamp':_0x1ef823,'target':this}),this['stats']['renderPass'+'es']=0xfb*-0x13+0x1a5c+0x7bb*-0x1,this['stats']['shadowMapT'+'ime']=0x15bf+0x54e+0x115*-0x19,this['stats']['forwardTim'+'e']=0xd82+0x1f*0xfb+0x2be7*-0x1;const _0x1f3fee=_0x19bd60['_shaderSta'+'ts']['linked'],_0x109e4c=_0x19bd60['_renderTar'+'getCreatio'+'nTime'],_0x1cec64=_0x19bd60['_shaderSta'+'ts']['compileTim'+'e'],_0x3cd8bd=[],_0x5b0311=[];if(_0x124557){for(let _0x16aad3=0x2f*-0xce+0xd*-0xaf+-0xb*-0x43f;_0x16aad3<_0x124557['length'];_0x16aad3++)this['collectMod'+'els'](_0x124557[_0x16aad3],_0x3cd8bd,null);this['collectMod'+'els'](this['root'],null,_0x5b0311);}else this['collectMod'+'els'](this['root'],_0x3cd8bd,_0x5b0311);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x3cd8bd['length']>-0x6d9*-0x1+-0x1307+0xc2e*0x1){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x4631e4=_0x4549f3===ch?-0x1c12+0x19*-0xd5+0x123*0x2b:-0x16e1*0x1+-0x2093*0x1+0x3775;this['setLightma'+'pping'](_0x3cd8bd,!(-0x1958+-0x145*0x5+0x1fb2),_0x4631e4),this['initBake'](_0x19bd60),this['bakeIntern'+'al'](_0x4631e4,_0x3cd8bd,_0x5b0311);let _0x28bcba=Fu;_0x4549f3===ch&&(_0x28bcba|=y0),this['scene']['ambientBak'+'e']&&(_0x28bcba|=x0),this['setLightma'+'pping'](_0x3cd8bd,!(-0x1570+-0x1a7b*0x1+-0xff9*-0x3),_0x4631e4,_0x28bcba),this['finishBake'](_0x3cd8bd);}G['popGpuMark'+'er'](this['device']);const _0xf5d760=ne();this['stats']['totalRende'+'rTime']=_0xf5d760-_0x1ef823,this['stats']['shadersLin'+'ked']=_0x19bd60['_shaderSta'+'ts']['linked']-_0x1f3fee,this['stats']['compileTim'+'e']=_0x19bd60['_shaderSta'+'ts']['compileTim'+'e']-_0x1cec64,this['stats']['fboTime']=_0x19bd60['_renderTar'+'getCreatio'+'nTime']-_0x109e4c,this['stats']['lightmapCo'+'unt']=_0x3cd8bd['length'],_0x19bd60['fire']('lightmappe'+'r:end',{'timestamp':_0xf5d760,'target':this});}['allocateTe'+'xtures'](_0x450322,_0x31777b){for(let _0x3ce874=0x161c+-0x1feb+0x9cf;_0x3ce874<_0x450322['length'];_0x3ce874++){const _0x297532=_0x450322[_0x3ce874],_0x13044e=this['calculateL'+'ightmapSiz'+'e'](_0x297532['node']);for(let _0x395a57=0x14e8+0x1824+-0x2d0c;_0x395a57<_0x31777b;_0x395a57++){const _0x24947c=this['createText'+'ure'](_0x13044e,'lightmappe'+'r_lightmap'+'_'+_0x3ce874);Si['incRef'](_0x24947c),_0x297532['renderTarg'+'ets'][_0x395a57]=new pt({'colorBuffer':_0x24947c,'depth':!(-0x499+0x9*0x425+-0x20b3)});}if(!this['renderTarg'+'ets']['has'](_0x13044e)){const _0x41720e=this['createText'+'ure'](_0x13044e,'lightmappe'+'r_temp_lig'+'htmap_'+_0x13044e);Si['incRef'](_0x41720e),this['renderTarg'+'ets']['set'](_0x13044e,new pt({'colorBuffer':_0x41720e,'depth':!(-0x1946+-0x2467*0x1+-0xa*-0x62b)}));}}}['prepareLig'+'htsToBake'](_0x4eefc7,_0x3b6e24){if(this['scene']['ambientBak'+'e']){const _0x51bb70=new j_(this);_0x3b6e24['push'](_0x51bb70);}const _0x110ac6=this['renderer']['lights'];for(let _0x501cd4=-0xa*-0x1eb+0x2b*-0x94+-0x2d7*-0x2;_0x501cd4<_0x110ac6['length'];_0x501cd4++){const _0x296660=_0x110ac6[_0x501cd4],_0x53cbd9=new mP(this,_0x296660);_0x4eefc7['push'](_0x53cbd9),_0x296660['enabled']&&(_0x296660['mask']&rr)!==0x17cb+0x2*0xc88+0xb*-0x471&&(_0x296660['mask']=rr|cr|hs,_0x296660['shadowUpda'+'teMode']=_0x296660['type']===oe?Pp:cn,_0x3b6e24['push'](_0x53cbd9));}_0x3b6e24['sort']();}['restoreLig'+'hts'](_0x42ae05){for(let _0x224713=-0xdb*-0x1d+-0xfc3+0x4*-0x243;_0x224713<_0x42ae05['length'];_0x224713++)_0x42ae05[_0x224713]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x2*0xcff+0x1b4f*0x1+0x151*-0x1,-0x1457+0x5*0x5d2+-0x1*0x8c3,0x187f*0x1+-0x1885+0x2*0x3),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x46106a){const _0x16fe59=new _e();if(_0x46106a['length']>-0x50e*-0x6+0x5cb+-0x241f){_0x16fe59['copy'](_0x46106a[-0x25*-0xd1+0x6*0x2e+0x1*-0x1f49]['aabb']);for(let _0x2e0252=-0x2041+0x2c*-0x4+0x2*0x1079;_0x2e0252<_0x46106a['length'];_0x2e0252++)_0x16fe59['add'](_0x46106a[_0x2e0252]['aabb']);}return _0x16fe59;}['computeNod'+'esBounds'](_0xb3b6ca){for(let _0x36eb58=0x36*0x29+0xc7e+0x42*-0x52;_0x36eb58<_0xb3b6ca['length'];_0x36eb58++){const _0x2c1ae1=_0xb3b6ca[_0x36eb58]['meshInstan'+'ces'];_0xb3b6ca[_0x36eb58]['bounds']=this['computeNod'+'eBounds'](_0x2c1ae1);}}['computeBou'+'nds'](_0x2d82c9){const _0x21cea7=new _e();for(let _0x81df83=0x264*0x8+-0xe21*0x1+0x1*-0x4ff;_0x81df83<_0x2d82c9['length'];_0x81df83++){_0x21cea7['copy'](_0x2d82c9[0x1aca+-0x8f3+-0x11d7]['aabb']);for(let _0x2dee83=0x463+-0x3*0xe1+0x3*-0x95;_0x2dee83<_0x2d82c9['length'];_0x2dee83++)_0x21cea7['add'](_0x2d82c9[_0x2dee83]['aabb']);}return _0x21cea7;}['backupMate'+'rials'](_0x11460a){for(let _0x2b82bf=0xe2*0x13+0x1*-0xeaf+-0x217;_0x2b82bf<_0x11460a['length'];_0x2b82bf++)this['materials'][_0x2b82bf]=_0x11460a[_0x2b82bf]['material'];}['restoreMat'+'erials'](_0x3071c2){for(let _0x5d97cc=0xefc*-0x1+0x1dd6+-0xeda;_0x5d97cc<_0x3071c2['length'];_0x5d97cc++)_0x3071c2[_0x5d97cc]['material']=this['materials'][_0x5d97cc];}['lightCamer'+'aPrepare'](_0x431cc9,_0x56ae08){const _0x21d4d0=_0x56ae08['light'];let _0x30b99c;return _0x21d4d0['type']===Re&&(_0x30b99c=_0x21d4d0['getRenderD'+'ata'](null,-0x2e9*-0x2+0x142d+-0x25d*0xb)['shadowCame'+'ra'],_0x30b99c['_node']['setPositio'+'n'](_0x21d4d0['_node']['getPositio'+'n']()),_0x30b99c['_node']['setRotatio'+'n'](_0x21d4d0['_node']['getRotatio'+'n']()),_0x30b99c['_node']['rotateLoca'+'l'](-(0x23ae+-0x3*0x17d+-0x1edd),0x2584+-0x1e9e+0x2*-0x373,-0x92f*0x2+-0x73*-0x1+-0x3*-0x5f9),_0x30b99c['projection']=Gs,_0x30b99c['nearClip']=_0x21d4d0['attenuatio'+'nEnd']/(0x2450+0x3ad*0x5+0x32c9*-0x1),_0x30b99c['farClip']=_0x21d4d0['attenuatio'+'nEnd'],_0x30b99c['aspectRati'+'o']=0x73c*-0x4+-0x1148+0x2e39,_0x30b99c['fov']=_0x21d4d0['_outerCone'+'Angle']*(0x3*0x491+0x83+-0xe34),this['renderer']['updateCame'+'raFrustum'](_0x30b99c)),_0x30b99c;}['lightCamer'+'aPrepareAn'+'dCull'](_0x52e90d,_0x50a815,_0x593914,_0x3db92f){const _0x3a4ed5=_0x52e90d['light'];let _0x1d234b=!(0x25ea+0x2692+-0x4c7c);if(_0x3a4ed5['type']===oe){$l['copy'](_0x3db92f['center']),$l['y']+=_0x3db92f['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n']($l),this['camera']['node']['setEulerAn'+'gles'](-(-0x6e+0x8*-0x38c+0x9b8*0x3),0xb23+0x383*0x8+-0x273b,0x1eb1+-0x23ff+0x54e),this['camera']['nearClip']=0x1300+-0x886*-0x3+-0x2c92,this['camera']['farClip']=_0x3db92f['halfExtent'+'s']['y']*(0x3*-0xde+-0x4*-0x249+-0x688);const _0x2fedc5=Math['max'](_0x3db92f['halfExtent'+'s']['x'],_0x3db92f['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x2fedc5;}else _0x52e90d['lightBound'+'s']['intersects'](_0x50a815['bounds'])||(_0x1d234b=!(-0x16b+-0x17e5+0x1951*0x1));if(_0x3a4ed5['type']===Re){let _0x49c34d=!(0x335*0x5+0x11*-0x21d+-0x1*-0x13e5);const _0x5f3120=_0x50a815['meshInstan'+'ces'];for(let _0x4fadd1=-0x1*0x1c4a+-0x126d*-0x1+-0x1*-0x9dd;_0x4fadd1<_0x5f3120['length'];_0x4fadd1++)if(_0x5f3120[_0x4fadd1]['_isVisible'](_0x593914)){_0x49c34d=!(-0xa95+-0x5e6*0x6+-0x2df9*-0x1);break;}_0x49c34d||(_0x1d234b=!(0xd*-0x235+0x1701+-0x5b1*-0x1));}return _0x1d234b;}['setupLight'+'Array'](_0x2cedae,_0x2a4b67){_0x2cedae[oe]['length']=-0xf*-0x5a+0x204*0x3+-0xb52,_0x2cedae[Pe]['length']=-0x1732*0x1+0x1c5a+-0xa*0x84,_0x2cedae[Re]['length']=-0x1c87+-0x11*0x14e+0x32b5,_0x2cedae[_0x2a4b67['type']][-0x932+-0x2245+-0x1*-0x2b77]=_0x2a4b67,_0x2a4b67['visibleThi'+'sFrame']=!(-0xdb9+-0x1*0x1997+-0x25*-0x110);}['renderShad'+'owMap'](_0x17a1f6,_0x150bf0,_0x2af962,_0x323f99){const _0xdf87c3=_0x323f99['light'],_0x23dc98=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x3d6e9c=_0xdf87c3['castShadow'+'s']&&(!_0x23dc98||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x150bf0&&_0x3d6e9c){if(!_0xdf87c3['shadowMap']&&!_0x23dc98&&(_0xdf87c3['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0xdf87c3)),_0xdf87c3['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0xdf87c3,_0x17a1f6,this['camera'],_0x2af962);const _0x5b1f43=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0xdf87c3,this['camera']);_0x5b1f43==null||_0x5b1f43['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x1109*0x2+0x246d*-0x1+0x25b);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0xdf87c3,_0x17a1f6,_0x2af962),this['renderer']['shadowRend'+'erer']['render'](_0xdf87c3,this['camera'],!(0x15f1+0xced*0x1+0x1a9*-0x15));}}return!(-0x1*-0xfe0+0x16e8+-0x92*0x44);}['postproces'+'sTextures'](_0x2b1043,_0x9f76d5,_0x3017ab){const _0x1804c2=this['lightmapFi'+'lters']['getDilate'](_0x2b1043,this['bakeHDR']);let _0xc4b2f5;const _0x504b2d=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x504b2d&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0xc4b2f5=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x2b1043['setBlendSt'+'ate'](_t['NOBLEND']),_0x2b1043['setDepthSt'+'ate'](as['NODEPTH']),_0x2b1043['setStencil'+'State'](null,null);for(let _0x224266=-0x1a*0xfa+0x1855+-0x1*-0x10f;_0x224266<_0x9f76d5['length'];_0x224266++){const _0x3a7230=_0x9f76d5[_0x224266];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x224266);for(let _0x22aa25=-0x996+-0x4a*-0x1f+-0x28*-0x4;_0x22aa25<_0x3017ab;_0x22aa25++){const _0x3da4e8=_0x3a7230['renderTarg'+'ets'][_0x22aa25],_0x4a6dca=_0x3da4e8['colorBuffe'+'r'],_0x41ea72=this['renderTarg'+'ets']['get'](_0x4a6dca['width']),_0x38d2d7=_0x41ea72['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x4a6dca['width'],_0x4a6dca['height']);for(let _0x127233=0x25f5+0x1ba4+0x95f*-0x7;_0x127233<0xafb+-0x67*0x5e+0x1ad8;_0x127233++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x4a6dca),dn(_0x2b1043,_0x41ea72,_0x504b2d&&_0x22aa25===0x1a89+0x260f+0x4*-0x1026&&_0x127233===0x156*-0x13+-0x45*0x71+0x5*0xb2b?_0xc4b2f5:_0x1804c2),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x38d2d7),dn(_0x2b1043,_0x3da4e8,_0x1804c2);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x4ba491,_0x9e4e97,_0x4cdf6b){const _0x4db1ce=this['scene'],_0x2e480b=_0x4db1ce['layers'],_0x3080c0=this['device'],_0x506f24=_0x4db1ce['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x3080c0,_0x4db1ce,_0x4ba491),this['setupScene'](),_0x2e480b['_update'](),this['computeNod'+'esBounds'](_0x9e4e97),this['allocateTe'+'xtures'](_0x9e4e97,_0x4ba491),this['renderer']['collectLig'+'hts'](_0x2e480b);const _0x3281c9=[],_0x1a3423=[];this['prepareLig'+'htsToBake'](_0x3281c9,_0x1a3423),this['updateTran'+'sforms'](_0x4cdf6b);const _0x3746dd=this['prepareSha'+'dowCasters'](_0x4cdf6b);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x3746dd),this['renderer']['gpuUpdate'](_0x3746dd);const _0x24dbd5=this['computeBou'+'nds'](_0x3746dd);let _0x4fc57f,_0x2eb7cb,_0x93759a,_0xa31a8;for(_0x4fc57f=-0x15f7+0x81c+0xddb*0x1;_0x4fc57f<_0x9e4e97['length'];_0x4fc57f++)for(_0x93759a=_0x9e4e97[_0x4fc57f]['meshInstan'+'ces'],_0x2eb7cb=0x1*-0x17f3+-0x4*-0x61b+0x1*-0x79;_0x2eb7cb<_0x93759a['length'];_0x2eb7cb++)_0xa31a8=_0x93759a[_0x2eb7cb],_0xa31a8['setLightma'+'pped'](!(-0x14a4+0x2*-0x20b+0x18bb)),_0xa31a8['mask']=rr,_0xa31a8['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x87*0x3d+-0x7b5+-0xca*0x1f],this['blackTex']),_0xa31a8['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x99*-0x3e+-0x2171*0x1+-0x3*-0x1780],this['blackTex']);for(_0x2eb7cb=0xf0*0x8+-0x1d*-0x25+-0xbb1*0x1;_0x2eb7cb<_0x1a3423['length'];_0x2eb7cb++)_0x1a3423[_0x2eb7cb]['light']['enabled']=!(-0xc10*-0x1+0x15ce+-0x21dd);const _0x4c7a47=[[],[],[]];let _0x5cc2cf,_0x537273,_0x4057f3=!(0x103d+0x1*-0x20c5+0x1089);for(_0x4fc57f=-0x1498+0x332*-0x4+0x18*0x164;_0x4fc57f<_0x1a3423['length'];_0x4fc57f++){const _0x339454=_0x1a3423[_0x4fc57f],_0x4b01cd=_0x339454 instanceof j_,_0x51b11c=_0x339454['light']['type']===oe;let _0x1ff711=_0x339454['numVirtual'+'Lights'];_0x4ba491>-0x47c+-0x4*-0x27a+-0x56b&&_0x1ff711>0x6fc*0x5+-0x4bf+-0x1e2c&&_0x339454['light']['bakeDir']&&(_0x1ff711=0x4b*0xd+0x1*0x145b+0x1*-0x1829,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0xc3a9cd=0x5*-0x1c1+-0x1f90+0x5c3*0x7;_0xc3a9cd<_0x1ff711;_0xc3a9cd++){G['pushGpuMar'+'ker'](_0x3080c0,'Light:'+_0x339454['light']['_node']['name']+':'+_0xc3a9cd),_0x1ff711>-0x183c+0x1e7*-0x3+-0x1df2*-0x1&&_0x339454['prepareVir'+'tualLight'](_0xc3a9cd,_0x1ff711),_0x339454['startBake']();let _0x35aae4=!(-0x67b+0x43*-0x29+0x1137);const _0x48bb81=this['lightCamer'+'aPrepare'](_0x3080c0,_0x339454);for(_0x537273=0x2bd+0x8*0x1f7+-0x1275;_0x537273<_0x9e4e97['length'];_0x537273++){const _0x5cdd5c=_0x9e4e97[_0x537273];if(_0x93759a=_0x5cdd5c['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x339454,_0x5cdd5c,_0x48bb81,_0x24dbd5))continue;this['setupLight'+'Array'](_0x4c7a47,_0x339454['light']);const _0x46ff70=_0x51b11c?[]:[_0x339454['light']];for(_0x506f24&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x46ff70,this['lightingPa'+'rams']),_0x35aae4=this['renderShad'+'owMap'](_0x2e480b,_0x35aae4,_0x3746dd,_0x339454),_0x506f24&&this['worldClust'+'ers']['update'](_0x46ff70,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x93759a),_0x5cc2cf=0x134c+-0x1*-0x2402+0x2*-0x1ba7;_0x5cc2cf<_0x4ba491&&!(_0x5cc2cf>-0x582+-0x2335+0x28b7&&_0xc3a9cd>-0x2*-0x3b3+-0x1e4e+0x16e8||_0x4b01cd&&_0x5cc2cf>-0xdaa+0xe73+-0xc9*0x1);_0x5cc2cf++){G['pushGpuMar'+'ker'](_0x3080c0,'LMPass:'+_0x5cc2cf);const _0x1f36c6=_0x5cdd5c['renderTarg'+'ets'][_0x5cc2cf],_0x32c470=_0x5cdd5c['renderTarg'+'ets'][_0x5cc2cf]['colorBuffe'+'r']['width'],_0x105b94=this['renderTarg'+'ets']['get'](_0x32c470),_0x1ee155=_0x105b94['colorBuffe'+'r'];_0x5cc2cf===0x1391*-0x1+-0x2393+0x3724?_0x4057f3=_0x4db1ce['updateShad'+'ers']:_0x4057f3&&(_0x4db1ce['updateShad'+'ers']=!(0x20ea+-0x1d04+-0x3e6));let _0x94b205=this['passMateri'+'als'][_0x5cc2cf];for(_0x4b01cd&&_0xc3a9cd+(0x17*-0x173+0x2629+0xd*-0x5f)===_0x1ff711&&_0x5cc2cf===-0x220c+0x1*-0x24b9+0xb7*0x63&&(_0x94b205=this['ambientAOM'+'aterial']),_0x2eb7cb=0x739*0x4+0x1ca7+-0x398b*0x1;_0x2eb7cb<_0x93759a['length'];_0x2eb7cb++)_0x93759a[_0x2eb7cb]['material']=_0x94b205;if(this['renderer']['updateShad'+'ers'](_0x93759a),_0x5cc2cf===SP&&this['constantBa'+'keDir']['setValue'](_0x339454['light']['bakeDir']?0x1eef*0x1+0x1239*-0x1+-0xcb5:0x7*-0x329+-0xb1a+0xf3*0x23),_0x3080c0['isWebGPU']){const _0x3afe83=new gP(_0x3080c0,this['renderer'],this['camera'],_0x506f24?this['worldClust'+'ers']:null,_0x93759a,_0x4c7a47);_0x3afe83['init'](_0x105b94),_0x3afe83['render'](),_0x3afe83['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x105b94,!(0x1*-0x163b+0x1*-0x6cd+0x1d08)),_0x506f24&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x2*-0x9e9+-0x193c+0x56a,this['renderer']['_shadowMap'+'Time']=-0x1971+0x1*-0x1d77+0x1b74*0x2,this['renderer']['renderForw'+'ard'](this['camera'],_0x105b94,_0x93759a,_0x4c7a47,gn),_0x3080c0['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x5cdd5c['renderTarg'+'ets'][_0x5cc2cf]=_0x105b94,this['renderTarg'+'ets']['set'](_0x32c470,_0x1f36c6),_0x2eb7cb=0x2b9+0xeae*0x1+-0x1167;_0x2eb7cb<_0x93759a['length'];_0x2eb7cb++)_0xa31a8=_0x93759a[_0x2eb7cb],_0xa31a8['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x5cc2cf],_0x1ee155),_0xa31a8['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x3080c0);}this['restoreMat'+'erials'](_0x93759a);}_0x339454['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x3080c0);}}for(this['postproces'+'sTextures'](_0x3080c0,_0x9e4e97,_0x4ba491),_0x537273=0x107a+-0x266*0x5+-0x47c;_0x537273<_0x4cdf6b['length'];_0x537273++)_0x4cdf6b[_0x537273]['restore']();this['restoreLig'+'hts'](_0x3281c9),this['restoreSce'+'ne'](),_0x506f24||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x593ce4,_0x5030d0){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x593ce4,this['entity']=_0x5030d0,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x2067f6,_0x1e7724,_0x4669f8){this['fire']('set_'+_0x2067f6,_0x2067f6,_0x1e7724,_0x4669f8);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x33c0be,_0x418a62){_0x418a62['forEach'](_0x2d5346=>{const _0x8f6932=typeof _0x2d5346=='object'?_0x2d5346['name']:_0x2d5346;Object['defineProp'+'erty'](_0x33c0be,_0x8f6932,{'get':function(){return this['data'][_0x8f6932];},'set':function(_0x4e7ee4){const _0x49a7bc=this['data'],_0x290d6f=_0x49a7bc[_0x8f6932];_0x49a7bc[_0x8f6932]=_0x4e7ee4,this['fire']('set',_0x8f6932,_0x290d6f,_0x4e7ee4);},'configurable':!(0x18fa+0x1*-0x1ec8+0x2*0x2e7)});}),_0x33c0be['_accessors'+'Built']=!(-0x2d8*-0x5+0x6d8+-0x1510);}['buildAcces'+'sors'](_0x1b9025){oc['_buildAcce'+'ssors'](this,_0x1b9025);}['onSetEnabl'+'ed'](_0x685f7c,_0x1dc5a9,_0x3c072c){_0x1dc5a9!==_0x3c072c&&this['entity']['enabled']&&(_0x3c072c?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x2af1d9=this['system']['store'][this['entity']['getGuid']()];return _0x2af1d9?_0x2af1d9['data']:null;}set['enabled'](_0x1e8686){}get['enabled'](){return!(0x1*-0x1bc5+0x7d0+0x189*0xd);}};c(oc,'order',-0x1b86+0x89c*-0x4+-0x16*-0x2d1);let ue=oc;class Xe extends ce{constructor(_0x29a0ba){super(),this['app']=_0x29a0ba,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x2d5558,_0x44981b={}){const _0x4b9a4c=new this['ComponentT'+'ype'](this,_0x2d5558),_0x212d55=new this['DataType']();return this['store'][_0x2d5558['getGuid']()]={'entity':_0x2d5558,'data':_0x212d55},_0x2d5558[this['id']]=_0x4b9a4c,_0x2d5558['c'][this['id']]=_0x4b9a4c,this['initialize'+'ComponentD'+'ata'](_0x4b9a4c,_0x44981b,[]),this['fire']('add',_0x2d5558,_0x4b9a4c),_0x4b9a4c;}['removeComp'+'onent'](_0x33d15d){const _0x2c7ef7=this['id'],_0x3f8ba5=this['store'][_0x33d15d['getGuid']()],_0x10b395=_0x33d15d['c'][_0x2c7ef7];_0x10b395['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x33d15d,_0x10b395),delete this['store'][_0x33d15d['getGuid']()],_0x33d15d[_0x2c7ef7]=void(0x7b7+0x1*0xb9+-0x870),delete _0x33d15d['c'][_0x2c7ef7],this['fire']('remove',_0x33d15d,_0x3f8ba5['data']);}['cloneCompo'+'nent'](_0x1b0b2c,_0x2aa622){const _0x382b88=this['store'][_0x1b0b2c['getGuid']()];return this['addCompone'+'nt'](_0x2aa622,_0x382b88['data']);}['initialize'+'ComponentD'+'ata'](_0x3f9fa7,_0x468cdd={},_0x4db65b){for(let _0x196323=0xf6e+0x1892+0x20*-0x140,_0x103600=_0x4db65b['length'];_0x196323<_0x103600;_0x196323++){const _0x19398f=_0x4db65b[_0x196323];let _0x5222b0,_0x2b3012;typeof _0x19398f=='object'?(_0x5222b0=_0x19398f['name'],_0x2b3012=_0x19398f['type']):(_0x5222b0=_0x19398f,_0x2b3012=void(-0x20f5+0x26c9*0x1+-0x5d4*0x1));let _0x264a56=_0x468cdd[_0x5222b0];_0x264a56!==void(0x2f*-0xb2+0x1faf*0x1+0xff)?(_0x2b3012!==void(0x1ada+0x19e*-0x1+-0x193c)&&(_0x264a56=bP(_0x264a56,_0x2b3012)),_0x3f9fa7[_0x5222b0]=_0x264a56):_0x3f9fa7[_0x5222b0]=_0x3f9fa7['data'][_0x5222b0];}_0x3f9fa7['enabled']&&_0x3f9fa7['entity']['enabled']&&_0x3f9fa7['onEnable']();}['getPropert'+'iesOfType'](_0x48ef3e){const _0x1849ad=[];return(this['schema']||[])['forEach'](_0x525766=>{_0x525766&&typeof _0x525766=='object'&&_0x525766['type']===_0x48ef3e&&_0x1849ad['push'](_0x525766);}),_0x1849ad;}['destroy'](){this['off']();}}function bP(_0xe32288,_0x12ad1e){if(!_0xe32288)return _0xe32288;switch(_0x12ad1e){case'rgb':return _0xe32288 instanceof Y?_0xe32288['clone']():new Y(_0xe32288[-0x1a49+-0x744+0x218d],_0xe32288[0x48c+0x1209+-0x1694],_0xe32288[0x1667*0x1+-0x5*0x568+0x4a3]);case'rgba':return _0xe32288 instanceof Y?_0xe32288['clone']():new Y(_0xe32288[0x161*-0xb+-0x355+0x1280],_0xe32288[0xab9+-0x3d*0x9b+0x1a37*0x1],_0xe32288[0x258a+-0xdf+-0x24a9],_0xe32288[-0x1104+0x9a9+0x75e]);case'vec2':return _0xe32288 instanceof W?_0xe32288['clone']():new W(_0xe32288[0x4*0x849+-0x320+-0x1e04],_0xe32288[0x2*0xe0e+-0x13c5+-0x856]);case'vec3':return _0xe32288 instanceof T?_0xe32288['clone']():new T(_0xe32288[-0x2007+0x1fbd+0x25*0x2],_0xe32288[0x6*-0x307+0x1ae8+-0x8bd],_0xe32288[-0xbbc+-0x131d+-0xa49*-0x3]);case'vec4':return _0xe32288 instanceof Q?_0xe32288['clone']():new Q(_0xe32288[-0x169b+0x1754+0x25*-0x5],_0xe32288[0xb29*-0x3+0x23f9*0x1+-0x27d],_0xe32288[-0x3*-0x342+-0xd32+-0x36e*-0x1],_0xe32288[-0x1720+0x2*-0x8+-0x1*-0x1733]);case'boolean':case'number':case'string':return _0xe32288;case'entity':return _0xe32288;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x12ad1e);}}const $0=-0x1*0x216d+-0xf89+0x30f6,ju=0x16a0+0x82e+-0x1ecd,Yu=-0x1195*0x1+0x1*-0x1a3f+-0x2*-0x15eb;class wP{constructor(){this['_left']=(0x140d+-0x9db*0x3+0x985)/(-0x1*0x1e9+-0x2257*-0x1+-0x206e),this['_right']=-(0x1a5e+-0x1951+0x4*-0x43)/(-0xc2e+-0x143d+0x2b*0xc1),this['_len']=-0x1ff*0x5+0x2*0xcd+0x861,this['_recip']=-0x91*-0x35+0x1*0x6cd+-0x1269*0x2,this['_p0']=0xe9d+-0x192a+0xa8d,this['_p1']=-0x1*0x773+-0x1*0xc43+-0x6*-0x349,this['_t']=-0x1*-0x19be+0x10d+-0x1acb,this['_hermite']={'valid':!(-0xaa9*-0x1+-0x3*0x129+0x72d*-0x1),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x3c3778,_0x48d480){if(_0x3c3778<this['_left']||_0x3c3778>=this['_right']){const _0x2c1c74=_0x48d480['length'];if(!_0x2c1c74)this['_left']=-(0x23c7+-0x3e2+-0x1fe4)/(0x1b17+-0x23f5+0x8de),this['_right']=(0x2*-0x114c+0x1*-0x44f+0x26e8)/(0x1*-0x19dd+0x142c+0x2f*0x1f),this['_len']=-0x17f0+-0x14c5+-0x23*-0x147,this['_recip']=-0xb4a*0x1+0x13d6+-0x88c,this['_p0']=this['_p1']=-0x24a4+-0x1203+0x36a7;else{if(_0x3c3778<_0x48d480[-0x18df*-0x1+0x12da+-0x2bb9])this['_left']=-(-0xabf+-0x12d*-0x1b+-0x14ff)/(0x2*-0xbca+0x239f+0x1*-0xc0b),this['_right']=_0x48d480[0x19be+-0x1d01+-0x1*-0x343],this['_len']=0x187b+-0x460*0x1+-0x1*0x141b,this['_recip']=-0x2535+-0x1256*0x1+0x378b,this['_p0']=this['_p1']=0x45*-0x77+0x60*-0x7+-0x3f*-0x8d;else{if(_0x3c3778>=_0x48d480[_0x2c1c74-(-0x1*0x648+0x1b*-0x3b+0xc82)])this['_left']=_0x48d480[_0x2c1c74-(-0xc8f+-0x1*0x102f+0xdf*0x21)],this['_right']=(-0x1*-0x13a3+0x4de+-0xc40*0x2)/(0xd51+-0x2229+-0x2e*-0x74),this['_len']=0x875+-0x2492*-0x1+-0x2d07,this['_recip']=0x22b4+-0x106c*0x1+-0x1248,this['_p0']=this['_p1']=_0x2c1c74-(-0x962+-0x1625*0x1+0x1f88*0x1);else{const _0x26c48c=this['_findKey'](_0x3c3778,_0x48d480);this['_left']=_0x48d480[_0x26c48c],this['_right']=_0x48d480[_0x26c48c+(-0x182b+-0x6f4*0x5+0x3af0)],this['_len']=this['_right']-this['_left'];const _0x29467c=(0x1896*-0x1+-0x4*0x120+0x1*0x1d17)/this['_len'];this['_recip']=isFinite(_0x29467c)?_0x29467c:0x29f*-0x1+-0x171b+0x19ba*0x1,this['_p0']=_0x26c48c,this['_p1']=_0x26c48c+(-0x1032+-0x587+0x15ba);}}}}this['_t']=this['_recip']===0x53*-0x67+0xa2+0x20c3?-0x1874+-0x266d+0x3ee1:(_0x3c3778-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x1086+-0x17a4+-0x317*-0xd);}['_findKey'](_0x445f18,_0x4abcb3){let _0x2ca913=0x24a6+-0x1*-0x1c13+-0x40b9;for(;_0x445f18>=_0x4abcb3[_0x2ca913+(-0x58f*0x5+-0x1d07+0x38d3)];)_0x2ca913++;return _0x2ca913;}['eval'](_0xc14c43,_0x167ae4,_0x12d756){const _0x1fe44c=_0x12d756['_data'],_0x2480e2=_0x12d756['_component'+'s'],_0xa07dc4=this['_p0']*_0x2480e2;if(_0x167ae4===$0){for(let _0x680765=-0x1d5a+-0x2130+-0xa*-0x641;_0x680765<_0x2480e2;++_0x680765)_0xc14c43[_0x680765]=_0x1fe44c[_0xa07dc4+_0x680765];}else{const _0x1ed1ac=this['_t'],_0x16ad98=this['_p1']*_0x2480e2;switch(_0x167ae4){case ju:for(let _0x10e960=0x3bb*-0x1+0x97*0x3+0x1f6;_0x10e960<_0x2480e2;++_0x10e960)_0xc14c43[_0x10e960]=N['lerp'](_0x1fe44c[_0xa07dc4+_0x10e960],_0x1fe44c[_0x16ad98+_0x10e960],_0x1ed1ac);break;case Yu:{const _0x3f31d0=this['_hermite'];if(!_0x3f31d0['valid']){const _0x355345=_0x1ed1ac*_0x1ed1ac,_0x4bf1b8=_0x1ed1ac+_0x1ed1ac,_0x5b5af8=-0x258a+-0x1cc9*0x1+0x4254-_0x1ed1ac,_0x1f5583=_0x5b5af8*_0x5b5af8;_0x3f31d0['valid']=!(0x23bc+0x21*-0x101+-0x29b),_0x3f31d0['p0']=(0x21d7*0x1+0x1bd0+0x1*-0x3da6+_0x4bf1b8)*_0x1f5583,_0x3f31d0['m0']=_0x1ed1ac*_0x1f5583,_0x3f31d0['p1']=_0x355345*(-0x1*-0x1633+-0x1de2+0x7b2-_0x4bf1b8),_0x3f31d0['m1']=_0x355345*(_0x1ed1ac-(0x1*-0x22d1+0x7f7+0x19*0x113));}const _0x186d1b=(this['_p0']*(-0x701+-0x9e3+0x10e7)+(-0x15e6+0x1a0e+-0x427))*_0x2480e2,_0x59bbb6=(this['_p0']*(0x5*0x1d9+0x188+-0xac2)+(0x1*0x22+0x1f9e+0x1de*-0x11))*_0x2480e2,_0x2d7dd9=(this['_p1']*(0x11df+0xabc+-0x1c98)+(0xda3+-0xd*0x134+-0x101*-0x2))*_0x2480e2,_0x47b2f4=(this['_p1']*(0x62d*-0x5+0x1662+0x882)+(0xba8+0x210f+-0x1*0x2cb7))*_0x2480e2;for(let _0x77eada=0xe*-0x14b+-0x1e1*0x1+0x13fb;_0x77eada<_0x2480e2;++_0x77eada)_0xc14c43[_0x77eada]=_0x3f31d0['p0']*_0x1fe44c[_0x186d1b+_0x77eada]+_0x3f31d0['m0']*_0x1fe44c[_0x59bbb6+_0x77eada]*this['_len']+_0x3f31d0['p1']*_0x1fe44c[_0x2d7dd9+_0x77eada]+_0x3f31d0['m1']*_0x1fe44c[_0x47b2f4+_0x77eada]*this['_len'];break;}}}}}class K_{constructor(_0x460dc7){this['_name']=_0x460dc7['name']+'Snapshot',this['_time']=-(-0x128*0xe+0x59*0x65+-0x2b4*0x7),this['_cache']=[],this['_results']=[];for(let _0x387c99=0xb92+-0x133*-0x1+-0xcc5;_0x387c99<_0x460dc7['_inputs']['length'];++_0x387c99)this['_cache'][_0x387c99]=new wP();const _0x1263f7=_0x460dc7['_curves'],_0x571777=_0x460dc7['_outputs'];for(let _0x1a317b=-0x1a38+-0x4fc+-0x4*-0x7cd;_0x1a317b<_0x1263f7['length'];++_0x1a317b){const _0x3a23bd=_0x1263f7[_0x1a317b],_0x5d0531=_0x571777[_0x3a23bd['_output']],_0x1b5075=[];for(let _0x69b6c3=-0xe8a*-0x2+0x55a*-0x1+-0x1*0x17ba;_0x69b6c3<_0x5d0531['_component'+'s'];++_0x69b6c3)_0x1b5075[_0x69b6c3]=0x211c+-0x1792+-0x98a;this['_results'][_0x1a317b]=_0x1b5075;}}}const Eo=class Eo{constructor(_0x4dbbd0,_0xf618a3,_0x213c6d,_0x2538d4,_0x23c8b5,_0x5a37a6){this['_name']=_0x4dbbd0['name'],this['_track']=_0x4dbbd0,this['_snapshot']=new K_(_0x4dbbd0),this['_playing']=_0x2538d4,this['_time']=_0xf618a3,this['_speed']=_0x213c6d,this['_loop']=_0x23c8b5,this['_blendWeig'+'ht']=0xbcb+0x1*-0x1dc1+-0x3*-0x5fd,this['_blendOrde'+'r']=-0x29*-0xd9+0x1c7d+0x5*-0xca6,this['_eventHand'+'ler']=_0x5a37a6,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x5affa8){this['_name']=_0x5affa8;}get['name'](){return this['_name'];}set['track'](_0x66ebc5){this['_track']=_0x66ebc5,this['_snapshot']=new K_(_0x66ebc5);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x1aeb92){this['_time']=_0x1aeb92,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x1f310d){const _0x5dd466=Math['sign'](_0x1f310d)!==Math['sign'](this['_speed']);this['_speed']=_0x1f310d,_0x5dd466&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x494da4){this['_loop']=_0x494da4;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x54ed8b){this['_blendWeig'+'ht']=_0x54ed8b;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x2a2397){this['_blendOrde'+'r']=_0x2a2397;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x39f74d){this['_eventCurs'+'or']=_0x39f74d;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x56*0x64+-0x2b2*0x5+0x2f12:this['_track']['events']['length']-(-0x8a2+0x16f6+-0x1*0xe53);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x143*0x1b+-0x1*-0x827+-0x6b*-0x3e;}['nextEventA'+'headOfTime'](_0x2513ba){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x2513ba:this['nextEvent']['time']>=_0x2513ba:!(-0xd*0x155+0xeb+0xf7*0x11);}['nextEventB'+'ehindTime'](_0x3673f4){return this['nextEvent']?_0x3673f4===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x3673f4:this['nextEvent']['time']<=_0x3673f4:this['isReverse']?this['nextEvent']['time']>_0x3673f4:this['nextEvent']['time']<_0x3673f4:!(0x54c*-0x6+-0x1*0xe37+0x2e00);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x102e+-0x5*-0x286+0x391):-0xd85*0x2+-0xd*0x23f+0x383d;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x1df1+0x1f72+-0x180):0xfd7+-0x24d+-0xf*0xe7,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x2*0x20e+-0xe5*-0x26+-0x261a:this['_eventCurs'+'or']<0x3*-0xaa7+-0x25dc+0x125*0x3d&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x58+-0x129a+0x12f3));}['clipFrameT'+'ime'](_0x275040){const _0x5d81ac=Eo['eventFrame'];_0x5d81ac['start']=0x15e6*0x1+-0x10dc+-0x2*0x285,_0x5d81ac['end']=_0x275040,_0x5d81ac['residual']=0x169f+-0xbea+-0xab5,this['isReverse']?_0x275040<-0x498+0xb0*0x35+-0x1fd8&&(_0x5d81ac['start']=this['track']['duration'],_0x5d81ac['end']=-0x8d*0x39+0x133f+0xc26,_0x5d81ac['residual']=_0x275040+this['track']['duration']):_0x275040>this['track']['duration']&&(_0x5d81ac['start']=0x1d83+-0x1*0x745+-0x163e,_0x5d81ac['end']=this['track']['duration'],_0x5d81ac['residual']=_0x275040-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x55ad6d,_0x40439c){return this['nextEventA'+'headOfTime'](_0x55ad6d)&&this['nextEventB'+'ehindTime'](_0x40439c)?(this['fireNextEv'+'ent'](),!(-0x1a6f*0x1+-0x26cd+0x413c)):!(-0x47*0x1c+-0x850+0x1015);}['activeEven'+'tsForFrame'](_0x3a44bf,_0x2f0486){const _0x1662c5=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x2f0486);const _0x3dfb30=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x3a44bf,_0x1662c5['end'])&&_0x3dfb30!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x1662c5['residual'])>0x24b6+0xe*-0x190+0x9*-0x1a6&&this['activeEven'+'tsForFrame'](_0x1662c5['start'],_0x1662c5['residual']);}['progressFo'+'rTime'](_0x4a4472){return _0x4a4472*this['_speed']/this['_track']['duration'];}['_update'](_0x3ce036){if(this['_playing']){let _0x33d9f1=this['_time'];const _0x4314cc=this['_track']['duration'],_0x369fc8=this['_speed'],_0x690cee=this['_loop'];this['_track']['events']['length']>-0x7a4+-0x883*0x4+0x4*0xa6c&&_0x4314cc>-0xb*0x2cf+0x1*-0x1dd2+0xb*0x585&&this['activeEven'+'tsForFrame'](_0x33d9f1,_0x33d9f1+_0x369fc8*_0x3ce036),_0x33d9f1+=_0x369fc8*_0x3ce036,_0x369fc8>=0xea8+-0x7ef+-0x6b9?_0x33d9f1>_0x4314cc&&(_0x690cee?_0x33d9f1=_0x33d9f1%_0x4314cc||0x22ee+0x1ab4+0x2ae*-0x17:(_0x33d9f1=this['_track']['duration'],this['pause']())):_0x33d9f1<0xd9f*0x2+0xaf7+-0x2635*0x1&&(_0x690cee?_0x33d9f1=_0x4314cc+(_0x33d9f1%_0x4314cc||-0x1d1f+-0x1f08+-0x3b*-0x105):(_0x33d9f1=0x12ab+0x123b+-0x24e6,this['pause']())),this['_time']=_0x33d9f1;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x14fd+-0x2513*0x1+0x80b*0x2),this['_time']=0x511*0x3+-0xe1e+-0x115*0x1;}['stop'](){this['_playing']=!(0x5f6+-0x114+0x1*-0x4e1),this['_time']=-0x1119+-0xa7d+-0x141*-0x16;}['pause'](){this['_playing']=!(-0x7*0x257+0x24e5*0x1+-0x1483);}['resume'](){this['_playing']=!(0x1786*-0x1+-0x1f7*-0x6+0xbbc*0x1);}['reset'](){this['_time']=-0xfc*-0x1b+0x927+0x3*-0xbe9;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x279d50,_0x37d414){const _0x557d90=_0x279d50['length'];let _0x122491=-0xe*0x2f+-0x24b3+0x2745;for(let _0x2bf8ac=0x1d5e+0x1*0x13ad+-0x310b;_0x2bf8ac<_0x557d90;++_0x2bf8ac)_0x122491+=_0x279d50[_0x2bf8ac]*_0x37d414[_0x2bf8ac];return _0x122491;}static['normalize'](_0x472e27){let _0x449a09=Tt['dot'](_0x472e27,_0x472e27);if(_0x449a09>0x2*-0x6c4+-0xcb8+0x10*0x1a4){_0x449a09=(-0x1*0xccb+0xd*-0x245+-0x31*-0xdd)/Math['sqrt'](_0x449a09);const _0x28e8d1=_0x472e27['length'];for(let _0x276e4a=-0x1c20+-0x13e3+-0x2d3*-0x11;_0x276e4a<_0x28e8d1;++_0x276e4a)_0x472e27[_0x276e4a]*=_0x449a09;}}static['set'](_0x2eb9f2,_0x5168cf,_0x23f481){const _0x3635b4=_0x2eb9f2['length'];if(_0x23f481==='quaternion'){let _0x168004=Tt['dot'](_0x5168cf,_0x5168cf);_0x168004>0x21eb+-0x2475+0x28a&&(_0x168004=(0x1467+0x11b0+-0x2616)/Math['sqrt'](_0x168004));for(let _0x4e5098=0x213c+-0x1*0x1c3d+-0x4ff;_0x4e5098<_0x3635b4;++_0x4e5098)_0x2eb9f2[_0x4e5098]=_0x5168cf[_0x4e5098]*_0x168004;}else{for(let _0x148a6b=-0x1*0x784+0x39+0x74b;_0x148a6b<_0x3635b4;++_0x148a6b)_0x2eb9f2[_0x148a6b]=_0x5168cf[_0x148a6b];}}static['blendVec'](_0x2fd76b,_0x2d278e,_0x588f12,_0x229300){const _0x4e06c2=_0x229300?-0x2f*0x9b+-0x70a+0x2380:0x1*0x20d5+-0x149+-0x5f*0x55-_0x588f12,_0x1b0bfc=_0x2fd76b['length'];for(let _0x58f3ac=-0x173*-0x5+0xe5b+-0x159a;_0x58f3ac<_0x1b0bfc;++_0x58f3ac)_0x2fd76b[_0x58f3ac]=_0x2fd76b[_0x58f3ac]*_0x4e06c2+_0x2d278e[_0x58f3ac]*_0x588f12;}static['blendQuat'](_0x1257f8,_0x1d74c8,_0x4c2b45,_0x1a3ace){const _0x3f1ec0=_0x1257f8['length'],_0x492f5e=_0x1a3ace?0x4*-0x7e1+0x6f5+0x1890:-0x2114+0x4b5*-0x4+-0x33e9*-0x1-_0x4c2b45;Tt['dot'](_0x1257f8,_0x1d74c8)<0xf47*-0x2+-0x809*0x3+0x36a9&&(_0x4c2b45=-_0x4c2b45);for(let _0xcfb18b=0x807*-0x2+-0xc*0x185+-0x42*-0x85;_0xcfb18b<_0x3f1ec0;++_0xcfb18b)_0x1257f8[_0xcfb18b]=_0x1257f8[_0xcfb18b]*_0x492f5e+_0x1d74c8[_0xcfb18b]*_0x4c2b45;_0x1a3ace||Tt['normalize'](_0x1257f8);}static['blend'](_0x3de3f4,_0x3a05e8,_0x37bead,_0xa6e719,_0x56454c){_0xa6e719==='quaternion'?Tt['blendQuat'](_0x3de3f4,_0x3a05e8,_0x37bead,_0x56454c):Tt['blendVec'](_0x3de3f4,_0x3a05e8,_0x37bead,_0x56454c);}static['stableSort'](_0x1565ab,_0x491cb1){const _0x323c3f=_0x1565ab['length'];for(let _0x580ac1=0x5eb+-0x3*-0x6f4+0x8ed*-0x3;_0x580ac1<_0x323c3f-(0x15*-0x135+-0x7cd*-0x1+0x118d*0x1);++_0x580ac1)for(let _0x36243c=_0x580ac1+(-0x4e1*-0x2+0x26cf+-0x3090);_0x36243c<_0x323c3f;++_0x36243c)if(_0x491cb1(_0x1565ab[_0x36243c],_0x1565ab[_0x580ac1])){const _0x1f6a69=_0x1565ab[_0x580ac1];_0x1565ab[_0x580ac1]=_0x1565ab[_0x36243c],_0x1565ab[_0x36243c]=_0x1f6a69;}}}const Ue=class Ue{constructor(_0x1c646e,_0x5021ae){this['_component']=_0x1c646e,this['mask']=new Int8Array(_0x1c646e['layers']['length']),this['weights']=new Float32Array(_0x1c646e['layers']['length']),this['totalWeigh'+'t']=-0x1734+0x1*0x20a5+0x971*-0x1,this['counter']=-0x12d5+0x6c9*-0x5+0x34c2,this['layerCount'+'er']=0x205d+0x1*-0x2243+-0x51*-0x6,this['valueType']=_0x5021ae,this['dirty']=!(-0xf97+-0x142e+0x23c5),this['value']=_0x5021ae===Ue['TYPE_QUAT']?[0x100*-0x10+0x36a*0x1+-0x219*-0x6,0x1*0xc91+0x168e+-0x231f,-0x44f*0x8+-0x436+0x26ae*0x1,0x1*-0x1a3+-0x16c7+0x186b]:[0x2*-0x1f4+-0x2b*0x67+-0x1*-0x1535,0x109a*0x1+0xd36+-0x1dd0,-0x755*-0x2+-0x4*0x946+-0x3a*-0x63],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x47a528){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x7f1*-0x3+0x2340+-0xb6d||!this['mask'][_0x47a528]?-0x3ff+0x55*-0x5b+0x2236:this['_normalize'+'Weights']?this['weights'][_0x47a528]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x47a528],-0x2dd*-0x2+-0xe8*0x25+0x1bce,0x2*0x107e+0x10f*0x11+-0x5*0xa32);}['_layerBlen'+'dType'](_0x26f922){return this['_component']['layers'][_0x26f922]['blendType'];}['setMask'](_0x44d4e4,_0x159cac){this['mask'][_0x44d4e4]=_0x159cac,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x44d4e4]['blendType']===X0&&(this['mask']=this['mask']['fill'](0xd*0x101+0x10aa+-0x1db7,-0xad+0xa7b*0x1+-0x9ce,_0x44d4e4)),this['dirty']=!(-0x637*0x1+0x1107+-0xad0));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x18fa+0x6ad+-0x3a9*-0x5;for(let _0x286ad9=-0x7*-0xb8+-0x7*-0x3be+0x23b*-0xe;_0x286ad9<this['weights']['length'];_0x286ad9++)this['weights'][_0x286ad9]=this['_component']['layers'][_0x286ad9]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x286ad9]*this['weights'][_0x286ad9];this['dirty']=!(-0x2*0x123b+-0x2eb*-0xb+-0x1*-0x45e);}['updateValu'+'e'](_0x484463,_0x206ba3){if(this['counter']===-0x3*0x727+0x1cf8+-0x783&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],-0x1*0x2519+-0x220f+0x4729,this['valueType'])),!(!this['mask'][_0x484463]||this['getWeight'](_0x484463)===0x1*-0x2c5+-0x1*-0x1809+-0x1544)){if(this['_layerBlen'+'dType'](_0x484463)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x58e058=Ue['q1']['set'](this['value'][-0x1*0xab5+-0x33d*-0x7+-0xbf6],this['value'][-0xc02+-0x251b+-0x188f*-0x2],this['value'][-0xb*0x89+-0x2*0x45e+0x7*0x217],this['value'][0xcbe+-0x1a9e+0x2d*0x4f]),_0x49587e=Ue['q2']['set'](this['baseValue'][0x2617*-0x1+-0x7*0x3eb+0x4184],this['baseValue'][0x2*0x11e7+0x4*-0x7aa+-0x525],this['baseValue'][-0x1adc+-0xf60+0x1*0x2a3e],this['baseValue'][0x221d*0x1+-0x2599+0x37f]),_0x1612f2=Ue['q3']['set'](_0x206ba3[0x135d+-0x315+0x824*-0x2],_0x206ba3[0x1631+-0x2302+-0x3*-0x446],_0x206ba3[0x8a4+-0x1*-0x14b3+0x1*-0x1d55],_0x206ba3[-0x51*0x71+0x1671+-0x17b*-0x9]),_0xe810d6=_0x49587e['invert']()['mul'](_0x1612f2);_0xe810d6['slerp'](se['IDENTITY'],_0xe810d6,this['getWeight'](_0x484463)),_0x58e058['mul'](_0xe810d6),Ue['quatArr'][-0x13a*0x2+-0x3d2+0xb*0x92]=_0x58e058['x'],Ue['quatArr'][-0x2*0xc25+-0x46f+0x2*0xe5d]=_0x58e058['y'],Ue['quatArr'][0x3be*0xa+0x1f5e+-0x8*0x899]=_0x58e058['z'],Ue['quatArr'][0x19a3+0x539*0x1+-0x1ed9]=_0x58e058['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][0x22c8+-0x58a+-0x1d3e]=_0x206ba3[0x14b9*-0x1+0x7*0x463+-0x9fc*0x1]-this['baseValue'][-0xcd1+-0xb84+-0x1*-0x1855],Ue['vecArr'][-0x1*-0x149b+0x2485*-0x1+0xfeb]=_0x206ba3[-0x59e+-0x203b*-0x1+-0x1a9c]-this['baseValue'][-0x158*-0xe+-0x727+-0xba8],Ue['vecArr'][-0x14*0x130+-0x22f7+0x3ab9]=_0x206ba3[-0x11de*-0x1+-0x411+0x3*-0x499]-this['baseValue'][-0x1502+-0xe9*-0x11+0x58b],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x484463),this['valueType'],!(0x1551+-0x25c+-0xd3*0x17));}else Tt['blend'](this['value'],_0x206ba3,this['getWeight'](_0x484463),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[0x10e6+-0x104e+-0x98,0x153e*-0x1+-0x1*0x23e6+0x3924,-0x106d*-0x1+0xa*0x224+-0x25d5,-0xfc8+-0xfd3+0x2*0xfce]),c(Ue,'vecArr',[-0x1a*0x161+0x17*-0x185+0x46cd,-0xa*0xeb+-0x1257+0x1b85,-0x25f4+0x1e33+0x7c1*0x1]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[0x1365*0x1+-0x1*-0x19f+-0x1504,0x1*-0x24f3+-0x1*0x1c97+-0x20c5*-0x2,-0x7fa*0x1+0x2535+0x1d3b*-0x1,-0x238c+-0x1*-0xdeb+0x1a*0xd5]);let bo=Ue;class j0{constructor(_0x158e44){this['_binder']=_0x158e44,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x240248){const _0x502982=this['_targets'],_0x1ea547=this['_binder'],_0x5c0f0e=_0x240248['track']['curves'],_0x1eccb6=_0x240248['snapshot'],_0x1f753f=[],_0x478112=[];for(let _0x55e00f=0xfa4+-0x1e55+-0x1*-0xeb1;_0x55e00f<_0x5c0f0e['length'];++_0x55e00f){const _0x169caf=_0x5c0f0e[_0x55e00f]['paths'];for(let _0x9bd695=-0x186c+-0x20a7+0x3913;_0x9bd695<_0x169caf['length'];++_0x9bd695){const _0x5519fc=_0x169caf[_0x9bd695],_0x3216ef=_0x1ea547['resolve'](_0x5519fc);let _0x17ac41=_0x502982[_0x3216ef&&_0x3216ef['targetPath']||null];if(!_0x17ac41&&_0x3216ef){_0x17ac41={'target':_0x3216ef,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x41cbe4=0x3ad*-0x3+0x1*-0x11c9+0x1cd0;_0x41cbe4<_0x17ac41['target']['components'];++_0x41cbe4)_0x17ac41['value']['push'](0x1c5d+-0x50+-0x1c0d);if(_0x502982[_0x3216ef['targetPath']]=_0x17ac41,_0x1ea547['animCompon'+'ent']){if(!_0x1ea547['animCompon'+'ent']['targets'][_0x3216ef['targetPath']]){let _0xae1a41;_0x3216ef['targetPath']['substring'](_0x3216ef['targetPath']['length']-(-0x1fc8+0x4*0x9f+-0x1d59*-0x1))==='localRotat'+'ion'?_0xae1a41=bo['TYPE_QUAT']:_0xae1a41=bo['TYPE_VEC3'],_0x1ea547['animCompon'+'ent']['targets'][_0x3216ef['targetPath']]=new bo(_0x1ea547['animCompon'+'ent'],_0xae1a41);}_0x1ea547['animCompon'+'ent']['targets'][_0x3216ef['targetPath']]['layerCount'+'er']++,_0x1ea547['animCompon'+'ent']['targets'][_0x3216ef['targetPath']]['setMask'](_0x1ea547['layerIndex'],-0x7ab*-0x2+0x4cc*0x5+-0x2751);}}_0x17ac41&&(_0x17ac41['curves']++,_0x1f753f['push'](_0x1eccb6['_results'][_0x55e00f]),_0x478112['push'](_0x17ac41));}}this['_clips']['push'](_0x240248),this['_inputs']['push'](_0x1f753f),this['_outputs']['push'](_0x478112);}['removeClip'](_0x1cb1ed){const _0x61498e=this['_targets'],_0xb2a5c8=this['_binder'],_0x24e07a=this['_clips'],_0x55ca56=_0x24e07a[_0x1cb1ed]['track']['curves'];for(let _0x116bd7=-0x265*-0xb+-0x12f0+-0x767;_0x116bd7<_0x55ca56['length'];++_0x116bd7){const _0x4664e5=_0x55ca56[_0x116bd7]['paths'];for(let _0x19547c=-0x49*0x59+0x4f+0x1912;_0x19547c<_0x4664e5['length'];++_0x19547c){const _0x410727=_0x4664e5[_0x19547c],_0x37d79e=this['_binder']['resolve'](_0x410727);_0x37d79e&&(_0x37d79e['curves']--,_0x37d79e['curves']===-0x8d*0x7+0x52f*-0x3+-0x26d*-0x8&&(_0xb2a5c8['unresolve'](_0x410727),delete _0x61498e[_0x37d79e['targetPath']],_0xb2a5c8['animCompon'+'ent']&&_0xb2a5c8['animCompon'+'ent']['targets'][_0x37d79e['targetPath']]['layerCount'+'er']--));}}_0x24e07a['splice'](_0x1cb1ed,-0x1*-0x33b+-0xd*-0x257+-0x21a5),this['_inputs']['splice'](_0x1cb1ed,0x3b3*0x7+-0x983+0x1061*-0x1),this['_outputs']['splice'](_0x1cb1ed,0x1*-0xa19+-0x43*-0x7+-0x49*-0x1d);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x1998+-0xf0a+0x28a2;)this['removeClip'](-0x1d6b*0x1+-0x881+0x329*0xc);}['updateClip'+'Track'](_0x159d9c,_0x5d9bb7){this['_clips']['forEach'](_0x2dfdb6=>{_0x2dfdb6['name']['includes'](_0x159d9c)&&(_0x2dfdb6['track']=_0x5d9bb7);}),this['rebind']();}['findClip'](_0x2050a9){const _0x3a67ae=this['_clips'];for(let _0x530e4a=-0x262+0x2430+-0x1*0x21ce;_0x530e4a<_0x3a67ae['length'];++_0x530e4a){const _0x56755f=_0x3a67ae[_0x530e4a];if(_0x56755f['name']===_0x2050a9)return _0x56755f;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x2f005e=[...this['clips']];this['removeClip'+'s'](),_0x2f005e['forEach'](_0x42d060=>{this['addClip'](_0x42d060);});}['assignMask'](_0x5611f8){return this['_binder']['assignMask'](_0x5611f8);}['update'](_0x584e73,_0x149640=!(-0x3*-0x4b6+-0x181f+0x1*0x9fd)){const _0xebe463=this['_clips'],_0x54c918=_0xebe463['map']((_0x46a8fe,_0x16da21)=>_0x16da21);Tt['stableSort'](_0x54c918,(_0x41c64c,_0x5c52ad)=>_0xebe463[_0x41c64c]['blendOrder']<_0xebe463[_0x5c52ad]['blendOrder']);for(let _0x2493a2=0x257f*0x1+-0x1215*0x2+0x155*-0x1;_0x2493a2<_0x54c918['length'];++_0x2493a2){const _0xb52721=_0x54c918[_0x2493a2],_0x467954=_0xebe463[_0xb52721],_0x5b25dd=this['_inputs'][_0xb52721],_0x5163a0=this['_outputs'][_0xb52721],_0x38002f=_0x467954['blendWeigh'+'t'];if(_0x38002f>-0x1*-0x1709+0x1f*0x89+-0x2*0x13d0&&_0x467954['_update'](_0x584e73),!_0x149640)break;let _0x5040c1,_0x5814e0,_0x1246e7;if(_0x38002f>=0x1454*0x1+0x287+-0x16da){for(let _0x252f18=0x1*-0x856+-0xf*0x1e8+-0x24ee*-0x1;_0x252f18<_0x5b25dd['length'];++_0x252f18)_0x5040c1=_0x5b25dd[_0x252f18],_0x5814e0=_0x5163a0[_0x252f18],_0x1246e7=_0x5814e0['value'],Tt['set'](_0x1246e7,_0x5040c1,_0x5814e0['target']['type']),_0x5814e0['blendCount'+'er']++;}else{if(_0x38002f>0x167f+-0x9f*0x22+-0x161){for(let _0x2b1ee3=-0x26*0x6f+0x23fb+-0x1381;_0x2b1ee3<_0x5b25dd['length'];++_0x2b1ee3)_0x5040c1=_0x5b25dd[_0x2b1ee3],_0x5814e0=_0x5163a0[_0x2b1ee3],_0x1246e7=_0x5814e0['value'],_0x5814e0['blendCount'+'er']===-0x185*0xc+0x24a1+-0x1265?Tt['set'](_0x1246e7,_0x5040c1,_0x5814e0['target']['type']):Tt['blend'](_0x1246e7,_0x5040c1,_0x38002f,_0x5814e0['target']['type']),_0x5814e0['blendCount'+'er']++;}}}const _0x2f69f6=this['_targets'],_0x3111b6=this['_binder'];for(const _0x3ff034 in _0x2f69f6)if(_0x2f69f6['hasOwnProp'+'erty'](_0x3ff034)){const _0x48c9e3=_0x2f69f6[_0x3ff034];if(_0x3111b6['animCompon'+'ent']&&_0x48c9e3['target']['isTransfor'+'m']){const _0x244fe5=_0x3111b6['animCompon'+'ent']['targets'][_0x3ff034];_0x244fe5['counter']===_0x244fe5['layerCount'+'er']&&(_0x244fe5['counter']=-0x2507*0x1+-0x1*-0x836+0x1cd1),_0x244fe5['path']||(_0x244fe5['path']=_0x3ff034,_0x244fe5['baseValue']=_0x48c9e3['target']['get'](),_0x244fe5['setter']=_0x48c9e3['target']['set']),_0x244fe5['updateValu'+'e'](_0x3111b6['layerIndex'],_0x48c9e3['value']),_0x244fe5['counter']++;}else _0x48c9e3['target']['set'](_0x48c9e3['value']);_0x48c9e3['blendCount'+'er']=-0x5c*0x3a+0x6e0+0x4a8*0x3;}this['_binder']['update'](_0x584e73);}}class Y0{constructor(_0x4283e3){this['_events']=[..._0x4283e3],this['_events']['sort']((_0x13f276,_0x1c1ac3)=>_0x13f276['time']-_0x1c1ac3['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x225a91,_0x5892e1,_0x3e7874,_0x1b19ff,_0x53bc97,_0xf8ec0c=new Y0([])){this['_name']=_0x225a91,this['_duration']=_0x5892e1,this['_inputs']=_0x3e7874,this['_outputs']=_0x1b19ff,this['_curves']=_0x53bc97,this['_animEvent'+'s']=_0xf8ec0c;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x37f89a){this['_animEvent'+'s']=_0x37f89a;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0xe9c0c7,_0x1c300d){_0x1c300d['_time']=_0xe9c0c7;const _0x320640=this['_inputs'],_0x2fd6cb=this['_outputs'],_0xa65820=this['_curves'],_0x3bddba=_0x1c300d['_cache'],_0x46bf37=_0x1c300d['_results'];for(let _0x2d5ade=0x1*-0x5f3+0x1*-0x1d89+-0xbd4*-0x3;_0x2d5ade<_0x320640['length'];++_0x2d5ade)_0x3bddba[_0x2d5ade]['update'](_0xe9c0c7,_0x320640[_0x2d5ade]['_data']);for(let _0xd75204=-0x84e+0x1dc2+-0x1574;_0xd75204<_0xa65820['length'];++_0xd75204){const _0x3b79f6=_0xa65820[_0xd75204],_0x2934f5=_0x2fd6cb[_0x3b79f6['_output']],_0x2fc79b=_0x46bf37[_0xd75204];_0x3bddba[_0x3b79f6['_input']]['eval'](_0x2fc79b,_0x3b79f6['_interpola'+'tion'],_0x2934f5);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x2e1564,_0xbfabf9){_0xbfabf9=_0xbfabf9||'.';const _0x4b1c39=function(_0x5ee1ab){return _0x5ee1ab['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0xbfabf9,'g'),'\x5c'+_0xbfabf9);};return _0x2e1564['map'](_0x4b1c39)['join'](_0xbfabf9);}static['splitPath'](_0x56a58c,_0x42d98e){_0x42d98e=_0x42d98e||'.';const _0x505df3=[];let _0x1b9b2f='',_0x12a34e=0xd08*-0x1+0x232d+-0x1625;for(;_0x12a34e<_0x56a58c['length'];){let _0x1ab43a=_0x56a58c[_0x12a34e++];_0x1ab43a==='\x5c'&&_0x12a34e<_0x56a58c['length']?(_0x1ab43a=_0x56a58c[_0x12a34e++],_0x1ab43a==='\x5c'||_0x1ab43a===_0x42d98e?_0x1b9b2f+=_0x1ab43a:_0x1b9b2f+='\x5c'+_0x1ab43a):_0x1ab43a===_0x42d98e?(_0x505df3['push'](_0x1b9b2f),_0x1b9b2f=''):_0x1b9b2f+=_0x1ab43a;}return _0x1b9b2f['length']>0x26c9*-0x1+-0xe*-0x23b+0x78f&&_0x505df3['push'](_0x1b9b2f),_0x505df3;}static['encode'](_0x15357f,_0x188645,_0x97fe7f){return(Array['isArray'](_0x15357f)?_0x15357f['join']('/'):_0x15357f)+'/'+_0x188645+'/'+(Array['isArray'](_0x97fe7f)?_0x97fe7f['join']('/'):_0x97fe7f);}['resolve'](_0x408418){return null;}['unresolve'](_0x269ecc){}['update'](_0x57683f){}}class Zu{constructor(_0x4e3dd3,_0x43cc07,_0x51a81f,_0x133c2a){_0x4e3dd3['set']?(this['_set']=_0x4e3dd3['set'],this['_get']=_0x4e3dd3['get']):this['_set']=_0x4e3dd3,this['_type']=_0x43cc07,this['_component'+'s']=_0x51a81f,this['_targetPat'+'h']=_0x133c2a,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x5*0x197+0xb34+-0xf*0x146))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x4*0x257+0x769+-0x100*-0x2))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1746+0x1fda+-0x3716))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x5b8ac3){c(this,'_isPathInM'+'ask',(_0x63fb1d,_0x20d0eb)=>{const _0x3a2d2a=this['_mask'][_0x63fb1d];if(_0x3a2d2a){if(_0x3a2d2a['children']||_0x20d0eb&&_0x3a2d2a['value']!==!(0xecd+-0x3*0x702+0x63a))return!(-0x2017+-0xc2f+0x2c46);}else return!(-0x1f83+0x2b1+0x9d*0x2f);return!(-0x1*-0x1f67+-0x915+-0x1651);});if(this['graph']=_0x5b8ac3,!_0x5b8ac3)return;this['_mask']=null;const _0x1637c2={},_0x3946fe=function(_0x5a796e){_0x1637c2[_0x5a796e['name']]=_0x5a796e;for(let _0x10262f=-0x73b*-0x5+-0x10a4+-0x1383;_0x10262f<_0x5a796e['children']['length'];++_0x10262f)_0x3946fe(_0x5a796e['children'][_0x10262f]);};_0x3946fe(_0x5b8ac3),this['nodes']=_0x1637c2,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x381d78=function(_0x32bc94){let _0x2c5fb2=_0x32bc94;for(;_0x2c5fb2&&!(_0x2c5fb2 instanceof We);)_0x2c5fb2=_0x2c5fb2['parent'];let _0x56071a;return _0x2c5fb2&&(_0x2c5fb2['render']?_0x56071a=_0x2c5fb2['render']['meshInstan'+'ces']:_0x2c5fb2['model']&&(_0x56071a=_0x2c5fb2['model']['meshInstan'+'ces'])),_0x56071a;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x44c525){const _0x474d7c=_0x44c525['localPosit'+'ion'],_0x20cff9=function(_0x4fa616){_0x474d7c['set'](..._0x4fa616);};return Ji['createAnim'+'Target'](_0x20cff9,'vector',0xa26+-0x13da+0x9b7,_0x44c525,'localPosit'+'ion');},'localRotation':function(_0x40e9ec){const _0x26497d=_0x40e9ec['localRotat'+'ion'],_0x3cd469=function(_0x1e104a){_0x26497d['set'](..._0x1e104a);};return Ji['createAnim'+'Target'](_0x3cd469,'quaternion',-0x1de3*0x1+-0x11*-0x14e+0x3*0x293,_0x40e9ec,'localRotat'+'ion');},'localScale':function(_0x4b5bad){const _0x589a97=_0x4b5bad['localScale'],_0x4d9d99=function(_0x5250eb){_0x589a97['set'](..._0x5250eb);};return Ji['createAnim'+'Target'](_0x4d9d99,'vector',0x13c3*0x1+0xbea*0x3+0x1*-0x377e,_0x4b5bad,'localScale');},'weight':function(_0x2968e6,_0x78ec23){_0x78ec23['indexOf']('name.')===0xb2+0x8e2+-0x994?_0x78ec23=_0x78ec23['replace']('name.',''):_0x78ec23=Number(_0x78ec23);const _0x38b595=_0x381d78(_0x2968e6);let _0xe83ed1;if(_0x38b595){for(let _0x1c7d0c=-0x14d9*-0x1+0x7*-0x4ab+0xbd4;_0x1c7d0c<_0x38b595['length'];++_0x1c7d0c)if(_0x38b595[_0x1c7d0c]['node']['name']===_0x2968e6['name']&&_0x38b595[_0x1c7d0c]['morphInsta'+'nce']){const _0x1f143f=_0x38b595[_0x1c7d0c]['morphInsta'+'nce'],_0x13341d=_0x5bbf3f=>{_0x1f143f['setWeight'](_0x78ec23,_0x5bbf3f[-0xb3c+-0x115*-0x11+-0x729]);};_0xe83ed1||(_0xe83ed1=[]),_0xe83ed1['push'](_0x13341d);}}if(_0xe83ed1){const _0x54d83d=_0x529551=>{for(let _0x124c48=-0x50*0x1b+-0x7a1+-0x1c9*-0x9;_0x124c48<_0xe83ed1['length'];++_0x124c48)_0xe83ed1[_0x124c48](_0x529551);};return Ji['createAnim'+'Target'](_0x54d83d,'number',-0x21e9+0x115f+0x1*0x108b,_0x2968e6,'weight.'+_0x78ec23);}return null;},'materialTexture':(_0x35b277,_0x3045e1)=>{const _0x194d4a=_0x381d78(_0x35b277);if(_0x194d4a){let _0x2d559c;for(let _0x132063=-0x162b*-0x1+0x186f*0x1+0x174d*-0x2;_0x132063<_0x194d4a['length'];++_0x132063)if(_0x194d4a[_0x132063]['node']['name']===_0x35b277['name']){_0x2d559c=_0x194d4a[_0x132063];break;}if(_0x2d559c){const _0x40462e=_0x43211c=>{const _0x81c6c6=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x43211c[0x18e6*-0x1+-0x839+0x8b*0x3d]);_0x81c6c6&&_0x81c6c6['resource']&&_0x81c6c6['type']==='texture'&&(_0x2d559c['material'][_0x3045e1]=_0x81c6c6['resource'],_0x2d559c['material']['update']());};return Ji['createAnim'+'Target'](_0x40462e,'vector',-0x15*-0x101+-0x996*-0x1+-0x1eaa,_0x35b277,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x48c7bd){if(!this['_mask'])return!(-0xbd9*-0x3+-0x5ad*-0x5+-0x3fec);const _0x3a41a6=[_0x48c7bd['entityPath'][0x1*0x6d9+0xea1*0x2+-0x241b],this['graph']['name']];for(let _0x2e2447=0x11b0*0x1+-0x2652+0x14a2;_0x2e2447<_0x3a41a6['length'];++_0x2e2447){let _0x197d0a=_0x3a41a6[_0x2e2447];if(this['_isPathInM'+'ask'](_0x197d0a,_0x48c7bd['entityPath']['length']===0xd1e+-0x163d*0x1+0x920*0x1))return!(-0x1556*-0x1+0x1*-0xf26+-0x210*0x3);for(let _0x33034b=-0x11c*0x1+0xd*0x295+-0x2074*0x1;_0x33034b<_0x48c7bd['entityPath']['length'];_0x33034b++)if(_0x197d0a+='/'+_0x48c7bd['entityPath'][_0x33034b],this['_isPathInM'+'ask'](_0x197d0a,_0x33034b===_0x48c7bd['entityPath']['length']-(0x248+-0x8*0x404+0x1dd9)))return!(0x3*0x424+-0x62f*-0x3+-0x1*0x1ef9);}return!(-0x16ff*0x1+-0x20ae+0x37ae);}['findNode'](_0x543dd0){if(!this['_isPathAct'+'ive'](_0x543dd0))return null;let _0x5cb87b;if(this['graph']&&(_0x5cb87b=this['graph']['findByPath'](_0x543dd0['entityPath']),_0x5cb87b||(_0x5cb87b=this['graph']['findByPath'](_0x543dd0['entityPath']['slice'](-0x19c4+0x2615+-0xc50)))),!_0x5cb87b){_0x5cb87b=this['nodes'][_0x543dd0['entityPath'][_0x543dd0['entityPath']['length']-(-0x2d9+0x1ec8+0x2cb*-0xa)]||''];const _0x2434ad=qr['encode'](_0x543dd0['entityPath'][_0x543dd0['entityPath']['length']-(0x17da+0x14db+-0x2cb4)]||'','graph',_0x543dd0['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x2434ad]===-0x26ed+-0x113b+0x3829&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x2434ad+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x2434ad])?this['visitedFal'+'lbackGraph'+'Paths'][_0x2434ad]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x2434ad]=-0x5*0x39a+0x3a8*-0x4+0x20a2;}return _0x5cb87b;}static['createAnim'+'Target'](_0x56e41b,_0xb095b4,_0x28e722,_0x49439c,_0x71f58d,_0x8b3ff2){const _0xdde899=qr['encode'](_0x49439c['path'],_0x8b3ff2||'entity',_0x71f58d);return new Zu(_0x56e41b,_0xb095b4,_0x28e722,_0xdde899);}['resolve'](_0x902349){const _0x440be2=qr['encode'](_0x902349['entityPath'],_0x902349['component'],_0x902349['propertyPa'+'th']);let _0x67b101=this['targetCach'+'e'][_0x440be2];if(_0x67b101)return _0x67b101;const _0x17f1c7=this['findNode'](_0x902349);if(!_0x17f1c7)return null;const _0x232c1f=this['handlers'][_0x902349['propertyPa'+'th']];return!_0x232c1f||(_0x67b101=_0x232c1f(_0x17f1c7),!_0x67b101)?null:(this['targetCach'+'e'][_0x440be2]=_0x67b101,this['nodeCounts'][_0x17f1c7['path']]?this['nodeCounts'][_0x17f1c7['path']]++:(this['activeNode'+'s']['push'](_0x17f1c7),this['nodeCounts'][_0x17f1c7['path']]=-0x1*0x2642+-0x1dea+0x1*0x442d),_0x67b101);}['unresolve'](_0x1602bb){if(_0x1602bb['component']!=='graph')return;const _0x114f9d=this['nodes'][_0x1602bb['entityPath'][_0x1602bb['entityPath']['length']-(0x11*0x3d+0x11e6+0x15f2*-0x1)]||''];if(this['nodeCounts'][_0x114f9d['path']]--,this['nodeCounts'][_0x114f9d['path']]===-0x44a+-0x11a1+0x15eb){const _0x4f4609=this['activeNode'+'s'],_0x315750=_0x4f4609['indexOf'](_0x114f9d['node']),_0x51a74c=_0x4f4609['length'];_0x315750<_0x51a74c-(-0x2065*0x1+-0x6*-0x2+-0x52*-0x65)&&(_0x4f4609[_0x315750]=_0x4f4609[_0x51a74c-(0x55c+0x1d9b+-0x22f6)]),_0x4f4609['pop']();}}['update'](_0x22ca82){const _0x40c23c=this['activeNode'+'s'];for(let _0x3e0205=0xd3*-0x2f+-0xdc5+-0x3482*-0x1;_0x3e0205<_0x40c23c['length'];++_0x3e0205)_0x40c23c[_0x3e0205]['_dirtifyLo'+'cal']();}['assignMask'](_0x1f5588){return _0x1f5588!==this['_mask']?(this['_mask']=_0x1f5588,!(0xf1*0x1a+0x1cab+-0x3525)):!(0x49b+0x55b*0x3+0x14ab*-0x1);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x2*0x275+0x233c*0x1+-0x1e52)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x925*0x2+-0xa2a+-0x820),c(this,'blending',!(0x22e6+0x1dcd+-0xb6*0x5b)),c(this,'blendSpeed',-0x3*0x699+-0x8*-0x347+-0x149*0x5),c(this,'activate',!(-0x349*-0xa+-0x2501+0x427*0x1)),c(this,'speed',-0x1b0d+-0x25*0x59+-0xb*-0x3a1);}set['animations'](_0x26e025){this['_animation'+'s']=_0x26e025,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x16ebe6){const _0x3b855a=this['_assets'];if(_0x3b855a&&_0x3b855a['length']){for(let _0x319b5f=0xa13+0x1091*0x2+-0x2b35;_0x319b5f<_0x3b855a['length'];_0x319b5f++)if(_0x3b855a[_0x319b5f]){const _0x571d50=this['system']['app']['assets']['get'](_0x3b855a[_0x319b5f]);if(_0x571d50){_0x571d50['off']('change',this['onAssetCha'+'nged'],this),_0x571d50['off']('remove',this['onAssetRem'+'oved'],this);const _0xadbb3c=this['animations'+'Index'][_0x571d50['id']];this['currAnim']===_0xadbb3c&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0xadbb3c],delete this['animations'+'Index'][_0x571d50['id']];}}}this['_assets']=_0x16ebe6;const _0x29a4b1=_0x16ebe6['map'](_0x9a9347=>_0x9a9347 instanceof le?_0x9a9347['id']:_0x9a9347);this['loadAnimat'+'ionAssets'](_0x29a4b1);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x5ba5ac){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x5ba5ac,this['skeleton']['addTime'](-0x1*0x1afb+0x39*-0x57+0x2e5a),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x3f3b90=this['animEvalua'+'tor']['clips'];for(let _0xc13bee=-0x8*0x235+0x365+0x1*0xe43;_0xc13bee<_0x3f3b90['length'];++_0xc13bee)_0x3f3b90[_0xc13bee]['time']=_0x5ba5ac;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x2a7b20=this['animEvalua'+'tor']['clips'];if(_0x2a7b20['length']>0x1*-0xc82+-0x2679+-0x1a5*-0x1f)return _0x2a7b20[_0x2a7b20['length']-(-0x166+-0x1a5*-0xf+-0x1744)]['time'];}return 0xad4+0x2c8+0x4*-0x367;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x252e+-0xc15+0x3143);}set['loop'](_0x41ecba){if(this['_loop']=_0x41ecba,this['skeleton']&&(this['skeleton']['looping']=_0x41ecba),this['animEvalua'+'tor']){for(let _0x177729=0x8ac+0x1*0xc9+-0x975;_0x177729<this['animEvalua'+'tor']['clips']['length'];++_0x177729)this['animEvalua'+'tor']['clips'][_0x177729]['loop']=_0x41ecba;}}get['loop'](){return this['_loop'];}['play'](_0x2a571b,_0x24b76b=0x2343+-0x5c2+0x53*-0x5b){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x2a571b]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x2a571b+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x2a571b,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x2902f3=this['animations'][this['prevAnim']],_0x21753e=this['animations'][this['currAnim']];if(this['blending']=_0x24b76b>-0x1e5+0x1bcc+0x19e7*-0x1&&!!this['prevAnim'],this['blending']&&(this['blend']=0x1e6b*-0x1+0xd7f+0x876*0x2,this['blendSpeed']=(0x4*-0x4d0+0x1*0x2de+0x1063)/_0x24b76b),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x2902f3,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x21753e):this['skeleton']['animation']=_0x21753e),this['animEvalua'+'tor']){const _0x260d37=this['animEvalua'+'tor'];if(this['blending']){for(;_0x260d37['clips']['length']>-0xe7a*-0x1+0x1e68+-0x2ce1;)_0x260d37['removeClip'](0x1*-0xfd1+-0x18af+-0x24*-0x120);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x3e83c7=new Xh(this['animations'][this['currAnim']],-0x1c8+0x21*-0x64+0xeac,-0xb*-0x57+0x2649+-0x1f*0x15b,!(-0x1297+0x1*0xce2+0x1*0x5b5),this['loop']);_0x3e83c7['name']=this['currAnim'],_0x3e83c7['blendWeigh'+'t']=this['blending']?0x2*-0x1315+-0x238e+-0x2a2*-0x1c:0x113+0x24f2+-0x2604,_0x3e83c7['reset'](),this['animEvalua'+'tor']['addClip'](_0x3e83c7);}}this['playing']=!(0xb8d+0x308+0xe95*-0x1);}}['getAnimati'+'on'](_0x172512){return this['animations'][_0x172512];}['setModel'](_0x3f5230){_0x3f5230!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x3f5230,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x452150=this['entity']['model'];if(_0x452150){const _0x38149a=_0x452150['model'];_0x38149a&&_0x38149a!==this['model']&&this['setModel'](_0x38149a);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x45949c=Object['keys'](this['_animation'+'s']);_0x45949c['length']>0x2*0xea2+0x11b1+-0x2ef5&&this['play'](_0x45949c[-0x3*0x59+0xb*0x18f+-0x101a]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x4d2e98=this['model'],_0xd2943f=this['animations'];let _0x5821f8=!(0x251+0x1*-0x17c9+-0x17*-0xef),_0xf66c87=!(0x1c9c+-0x2368*-0x1+0x925*-0x7);for(const _0x12e81a in _0xd2943f)_0xd2943f['hasOwnProp'+'erty'](_0x12e81a)&&(_0xd2943f[_0x12e81a]['constructo'+'r']===Ri?_0xf66c87=!(-0x2412+0x14de*-0x1+-0x2*-0x1c78):_0x5821f8=!(-0xaf7+-0x17b2+0x1d3*0x13));const _0x5af6a5=_0x4d2e98['getGraph']();_0x5821f8?(this['fromSkel']=new Wd(_0x5af6a5),this['toSkel']=new Wd(_0x5af6a5),this['skeleton']=new Wd(_0x5af6a5),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x5af6a5)):_0xf66c87&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x20f7ee){if(!_0x20f7ee||!_0x20f7ee['length'])return;const _0x47571c=this['system']['app']['assets'],_0x532b8f=_0x282f86=>{if(_0x282f86['resources']['length']>-0x1*-0x1ebf+0x1fd4+0x2*-0x1f49){for(let _0x38ce97=-0x3*0x7aa+-0x74a+-0x18*-0x143;_0x38ce97<_0x282f86['resources']['length'];_0x38ce97++)this['animations'][_0x282f86['resources'][_0x38ce97]['name']]=_0x282f86['resources'][_0x38ce97],this['animations'+'Index'][_0x282f86['id']]=_0x282f86['resources'][_0x38ce97]['name'];}else this['animations'][_0x282f86['name']]=_0x282f86['resource'],this['animations'+'Index'][_0x282f86['id']]=_0x282f86['name'];this['animations']=this['animations'];},_0x48d7cb=_0x36ee00=>{_0x36ee00['off']('change',this['onAssetCha'+'nged'],this),_0x36ee00['on']('change',this['onAssetCha'+'nged'],this),_0x36ee00['off']('remove',this['onAssetRem'+'oved'],this),_0x36ee00['on']('remove',this['onAssetRem'+'oved'],this),_0x36ee00['resource']?_0x532b8f(_0x36ee00):(_0x36ee00['once']('load',_0x532b8f,this),this['enabled']&&this['entity']['enabled']&&_0x47571c['load'](_0x36ee00));};for(let _0x4c3e05=0x1695+0x17b7+0x4*-0xb93,_0xf5bf6=_0x20f7ee['length'];_0x4c3e05<_0xf5bf6;_0x4c3e05++){const _0x4e6ed1=_0x47571c['get'](_0x20f7ee[_0x4c3e05]);_0x4e6ed1?_0x48d7cb(_0x4e6ed1):_0x47571c['on']('add:'+_0x20f7ee[_0x4c3e05],_0x48d7cb);}}['onAssetCha'+'nged'](_0x303b1f,_0x5e73c8,_0x474345,_0x5ee068){if(_0x5e73c8==='resource'||_0x5e73c8==='resources'){if(_0x5e73c8==='resources'&&_0x474345&&_0x474345['length']===-0x2299+-0x12e3*0x1+0x3d2*0xe&&(_0x474345=null),_0x474345){let _0x28b963=!(0x1e2a+0x17b5+-0x35de);if(_0x474345['length']>-0x837+0x7d1+0x67){if(_0x5ee068&&_0x5ee068['length']>-0x8df*-0x1+-0x1bba+-0x11*-0x11c){for(let _0x5cd262=0x1294+0x43+0x5b*-0x35;_0x5cd262<_0x5ee068['length'];_0x5cd262++)delete this['animations'][_0x5ee068[_0x5cd262]['name']];}else delete this['animations'][_0x303b1f['name']];_0x28b963=!(0x529+-0x1718+0x11f0);for(let _0x38b77e=0x1554+0x1ae9+-0x1*0x303d;_0x38b77e<_0x474345['length'];_0x38b77e++)this['animations'][_0x474345[_0x38b77e]['name']]=_0x474345[_0x38b77e],!_0x28b963&&this['currAnim']===_0x474345[_0x38b77e]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x28b963=!(0x1ee*-0x1+0x18a*0x6+-0x74e),this['play'](_0x474345[_0x38b77e]['name']));_0x28b963||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x5ee068&&_0x5ee068['length']>-0x2331+0x7*0x3eb+-0x7c5*-0x1){for(let _0x4323da=0x50b+0x634+-0xb3f;_0x4323da<_0x5ee068['length'];_0x4323da++)delete this['animations'][_0x5ee068[_0x4323da]['name']];}this['animations'][_0x303b1f['name']]=_0x474345[0x116c+-0x19df+0x873]||_0x474345,_0x28b963=!(0x2*0x844+-0xb*-0x323+0x47*-0xb8),this['currAnim']===_0x303b1f['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x28b963=!(-0x1*-0x7b2+0x1*-0x2291+0x1adf),this['play'](_0x303b1f['name'])),_0x28b963||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x303b1f['id']]=_0x303b1f['name'];}else{if(_0x5ee068['length']>-0x7ba+0x69b+0x8*0x24){for(let _0x1ec846=0xdf*0x2b+0xb5*0x8+-0x2b1d;_0x1ec846<_0x5ee068['length'];_0x1ec846++)delete this['animations'][_0x5ee068[_0x1ec846]['name']],this['currAnim']===_0x5ee068[_0x1ec846]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x303b1f['name']],this['currAnim']===_0x303b1f['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x303b1f['id']];}}}['onAssetRem'+'oved'](_0x32785e){if(_0x32785e['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x32785e['resources']['length']>-0x180e+-0xdf*-0x5+0x2*0x9da){for(let _0x2585a8=0x92*-0x4+-0xc*-0x2ce+0xfb0*-0x2;_0x2585a8<_0x32785e['resources']['length'];_0x2585a8++)delete this['animations'][_0x32785e['resources'][_0x2585a8]['name']],this['currAnim']===_0x32785e['resources'][_0x2585a8]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x32785e['name']],this['currAnim']===_0x32785e['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x32785e['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0xcf5*-0x2+-0x100e*0x1+-0x9db),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x1a5d+-0x2160+0x703,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x172022=-0x1*0xee9+0x7bd+-0x2*-0x396;_0x172022<this['animEvalua'+'tor']['clips']['length'];++_0x172022)this['animEvalua'+'tor']['clips'][_0x172022]['stop']();this['animEvalua'+'tor']['update'](0x8ef+0x3*-0x6c8+-0xb69*-0x1),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x247848=this['assets'],_0x40c9bf=this['system']['app']['assets'];if(_0x247848)for(let _0x29baee=0x1*0x166+-0x1d21*-0x1+-0xf*0x209,_0x3b3ef0=_0x247848['length'];_0x29baee<_0x3b3ef0;_0x29baee++){let _0x1d7664=_0x247848[_0x29baee];_0x1d7664 instanceof le||(_0x1d7664=_0x40c9bf['get'](_0x1d7664)),_0x1d7664&&!_0x1d7664['resource']&&_0x40c9bf['load'](_0x1d7664);}if(this['activate']&&!this['currAnim']){const _0x41df95=Object['keys'](this['animations']);_0x41df95['length']>0xc35+-0x1e41+0x1*0x120c&&this['play'](_0x41df95[-0xa*0xa2+0x1952*0x1+-0x12fe]);}}['onBeforeRe'+'move'](){for(let _0x2755aa=0xa9*-0x11+0xa43+0x6*0x29;_0x2755aa<this['assets']['length'];_0x2755aa++){let _0x3bf52e=this['assets'][_0x2755aa];typeof _0x3bf52e=='number'&&(_0x3bf52e=this['system']['app']['assets']['get'](_0x3bf52e)),_0x3bf52e&&(_0x3bf52e['off']('change',this['onAssetCha'+'nged'],this),_0x3bf52e['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x7a63ea){if(this['blending']&&(this['blend']+=_0x7a63ea*this['blendSpeed'],this['blend']>=0x24f1+0x61*-0x45+-0xacb&&(this['blend']=-0x2*0x58b+0x8eb*0x2+0xb*-0x9d)),this['playing']){const _0x500d83=this['skeleton'];if(_0x500d83!==null&&this['model']!==null){if(this['blending'])_0x500d83['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x3f75c7=_0x7a63ea*this['speed'];_0x500d83['addTime'](_0x3f75c7),this['speed']>0x3*-0x6f5+0x2*-0x33b+0x1*0x1b55&&_0x500d83['_time']===_0x500d83['animation']['duration']&&!this['loop']?this['playing']=!(0x6*-0x178+-0x2466+0x2d37*0x1):this['speed']<0x14a7+-0x3e5*0x1+0x3*-0x596&&_0x500d83['_time']===-0x2d*-0x3+0x4a1*0x3+-0xe6a&&!this['loop']&&(this['playing']=!(0x8*-0x6+-0x28+-0x1*-0x59));}this['blending']&&this['blend']===0x1b98+0x1983+-0x351a&&(_0x500d83['animation']=this['toSkel']['animation']),_0x500d83['updateGrap'+'h']();}}const _0x5f369e=this['animEvalua'+'tor'];if(_0x5f369e){for(let _0x372383=-0x5*0x5d1+-0x264e+0x4363;_0x372383<_0x5f369e['clips']['length'];++_0x372383){const _0x182b96=_0x5f369e['clips'][_0x372383];_0x182b96['speed']=this['speed'],this['playing']?_0x182b96['resume']():_0x182b96['pause']();}this['blending']&&_0x5f369e['clips']['length']>0xcb*0x1c+0x1f99+-0x35cc&&(_0x5f369e['clips'][0x49e+-0x1e9a+-0x1*-0x19fd]['blendWeigh'+'t']=this['blend']),_0x5f369e['update'](_0x7a63ea);}this['blending']&&this['blend']===-0x2*0x4bd+0x1a52+-0x10d7*0x1&&(this['blending']=!(0x3*0x691+0xa86+-0x1e38));}}class zP{constructor(){this['enabled']=!(-0x479*-0x7+-0x5*0x7c1+0x776);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x417850){super(_0x417850),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3a0312,_0x1ef900,_0x2ec460){_0x2ec460=['activate','enabled','loop','speed','assets'];for(const _0x251021 of _0x2ec460)_0x1ef900['hasOwnProp'+'erty'](_0x251021)&&(_0x3a0312[_0x251021]=_0x1ef900[_0x251021]);super['initialize'+'ComponentD'+'ata'](_0x3a0312,_0x1ef900,Qu);}['cloneCompo'+'nent'](_0x479dc5,_0x2c1294){this['addCompone'+'nt'](_0x2c1294,{}),_0x2c1294['animation']['assets']=_0x479dc5['animation']['assets']['slice'](),_0x2c1294['animation']['speed']=_0x479dc5['animation']['speed'],_0x2c1294['animation']['loop']=_0x479dc5['animation']['loop'],_0x2c1294['animation']['activate']=_0x479dc5['animation']['activate'],_0x2c1294['animation']['enabled']=_0x479dc5['animation']['enabled'];const _0x2fdd7b={},_0x2789d5=_0x479dc5['animation']['animations'];for(const _0x458b60 in _0x2789d5)_0x2789d5['hasOwnProp'+'erty'](_0x458b60)&&(_0x2fdd7b[_0x458b60]=_0x2789d5[_0x458b60]);_0x2c1294['animation']['animations']=_0x2fdd7b;const _0x5500c5={},_0x3748d1=_0x479dc5['animation']['animations'+'Index'];for(const _0x1ac1a2 in _0x3748d1)_0x3748d1['hasOwnProp'+'erty'](_0x1ac1a2)&&(_0x5500c5[_0x1ac1a2]=_0x3748d1[_0x1ac1a2]);return _0x2c1294['animation']['animations'+'Index']=_0x5500c5,_0x2c1294['animation'];}['onBeforeRe'+'move'](_0x17d1c3,_0x3c4259){_0x3c4259['onBeforeRe'+'move']();}['onUpdate'](_0x1106a8){const _0x278ce9=this['store'];for(const _0x256604 in _0x278ce9)if(_0x278ce9['hasOwnProp'+'erty'](_0x256604)){const _0x43f0c7=_0x278ce9[_0x256604];_0x43f0c7['data']['enabled']&&_0x43f0c7['entity']['enabled']&&_0x43f0c7['entity']['animation']['update'](_0x1106a8);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x23e5e9,_0x461b1e,_0x3d29aa,_0x3a6393,_0x2bd865=0x1*0x94b+0x195+-0xadf){this['_state']=_0x23e5e9,this['_parent']=_0x461b1e,this['_name']=_0x3d29aa,Array['isArray'](_0x3a6393)?(this['_point']=new W(_0x3a6393[0xce4+-0x3b5*0x8+0x10c4],_0x3a6393[-0x269f+-0x243+-0x9*-0x48b]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x3a6393,this['_pointLeng'+'th']=_0x3a6393),this['_speed']=_0x2bd865,this['_weightedS'+'peed']=0x14ff+-0x512+-0xfec,this['_weight']=-0x353+0x3*-0xcef+0x2a21,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x32b219){this['_weight']=_0x32b219;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x3f236a=this['_state']['totalWeigh'+'t'];return _0x3f236a===-0x542*0x7+-0x1021+-0x34ef*-0x1?0x8bf+-0x2*-0xbe0+-0x207f:this['weight']/_0x3f236a;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x405921){this['_weightedS'+'peed']=_0x405921;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x1c68ed){this['_animTrack']=_0x1c68ed;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x209305,_0x2a782f,_0x4e544a,_0x4d10c4,_0x49eeeb,_0x4c0382,_0x283ceb,_0x517afc,_0x4fa7fc){super(_0x209305,_0x2a782f,_0x4e544a,_0x4d10c4),this['_parameter'+'s']=_0x49eeeb,this['_parameter'+'Values']=new Array(_0x49eeeb['length']),this['_children']=[],this['_findParam'+'eter']=_0x4fa7fc,this['_syncAnima'+'tions']=_0x283ceb!==!(0x125a+0x8b*-0x2a+-0x475*-0x1),this['_pointCach'+'e']={};for(let _0x646cd5=-0x21d+-0x1*0x112e+0x134b;_0x646cd5<_0x4c0382['length'];_0x646cd5++){const _0x289585=_0x4c0382[_0x646cd5];_0x289585['children']?this['_children']['push'](_0x517afc(_0x289585['type'],_0x209305,this,_0x289585['name'],-0x2*0x1b+0x4a7*-0x2+0x1*0x985,_0x289585['parameter']?[_0x289585['parameter']]:_0x289585['parameters'],_0x289585['children'],_0x289585['syncAnimat'+'ions'],_0x517afc,_0x4fa7fc)):this['_children']['push'](new Uo(_0x209305,this,_0x289585['name'],_0x289585['point'],_0x289585['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x10deaf){for(let _0x41e630=0x10b*0x9+-0x10f4+0x1*0x791;_0x41e630<this['_children']['length'];_0x41e630++)if(this['_children'][_0x41e630]['name']===_0x10deaf)return this['_children'][_0x41e630];return null;}['updatePara'+'meterValue'+'s'](){let _0x5819e3=!(-0xd96+-0x17b0+0x1*0x2546);for(let _0x71ddfe=0x1*-0x1ed3+0x14a4+0xa2f;_0x71ddfe<this['_parameter'+'Values']['length'];_0x71ddfe++){const _0x754d17=this['_findParam'+'eter'](this['_parameter'+'s'][_0x71ddfe])['value'];this['_parameter'+'Values'][_0x71ddfe]!==_0x754d17&&(this['_parameter'+'Values'][_0x71ddfe]=_0x754d17,_0x5819e3=!(-0x2b*-0x83+0x1*-0x25d9+0xfd9));}return _0x5819e3;}['getNodeWei'+'ghtedDurat'+'ion'](_0x41335e){return this['_children'][_0x41335e]['animTrack']['duration']/this['_children'][_0x41335e]['speedMulti'+'plier']*this['_children'][_0x41335e]['weight'];}['getNodeCou'+'nt'](){let _0x33470e=0x15d7+0x749*0x1+-0x1d20*0x1;for(let _0xaa6bca=-0x25ba+0xb6f+-0x1*-0x1a4b;_0xaa6bca<this['_children']['length'];_0xaa6bca++)this['_children'][_0xaa6bca]['constructo'+'r']===Ba?_0x33470e+=this['_children'][_0xaa6bca]['getNodeCou'+'nt']():_0x33470e++;return _0x33470e;}}class VP extends Ba{constructor(_0x5164a0,_0x35554c,_0x4f8864,_0x2107ee,_0x22e155,_0x558fbc,_0xfff80,_0x46c76d,_0x5a803b){_0x558fbc['sort']((_0x505843,_0x2b73a8)=>_0x505843['point']-_0x2b73a8['point']),super(_0x5164a0,_0x35554c,_0x4f8864,_0x2107ee,_0x22e155,_0x558fbc,_0xfff80,_0x46c76d,_0x5a803b);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3236aa=-0x1*-0x23bb+-0x1dfc+-0x1*0x5bf;this['_children'][-0x16d+-0x4*0x510+0x15ad]['weight']=-0x49*0x4a+-0x1b25*0x1+-0x3*-0x1015;for(let _0x451b91=-0x1dea+0x502+-0xc74*-0x2;_0x451b91<this['_children']['length'];_0x451b91++){const _0x3fdc8c=this['_children'][_0x451b91];if(_0x451b91!==this['_children']['length']-(0x2*0x4eb+0x11e7+-0xdde*0x2)){const _0x18cd93=this['_children'][_0x451b91+(0xe*0x9e+-0x1*0x1769+0xec6)];if(_0x3fdc8c['point']===_0x18cd93['point'])_0x3fdc8c['weight']=0x1*-0x71d+0x9dc*-0x2+0x1ad5+0.5,_0x18cd93['weight']=0x9a5+-0x1*0x67f+0x1a*-0x1f+0.5;else{if(N['between'](this['_parameter'+'Values'][-0x16*0xbc+0x1d3f+-0xd17],_0x3fdc8c['point'],_0x18cd93['point'],!(0x1bef+0x1*-0xa75+-0x117a))){const _0x5cbacf=Math['abs'](_0x3fdc8c['point']-_0x18cd93['point']),_0x4e404b=Math['abs'](_0x3fdc8c['point']-this['_parameter'+'Values'][-0x2366+0x132d*-0x1+0x3693*0x1]),_0x4222ce=(_0x5cbacf-_0x4e404b)/_0x5cbacf;_0x3fdc8c['weight']=_0x4222ce,_0x18cd93['weight']=-0x1*-0x3fd+-0x6f*-0x7+-0x705-_0x4222ce;}else _0x18cd93['weight']=0x13f8+-0x2203*-0x1+-0x35fb*0x1;}}this['_syncAnima'+'tions']&&(_0x3236aa+=_0x3fdc8c['animTrack']['duration']/_0x3fdc8c['absoluteSp'+'eed']*_0x3fdc8c['weight']);}if(this['_syncAnima'+'tions'])for(let _0x88288e=-0x15b6+-0xf8d+-0x2543*-0x1;_0x88288e<this['_children']['length'];_0x88288e++){const _0x2bb05e=this['_children'][_0x88288e];_0x2bb05e['weightedSp'+'eed']=_0x2bb05e['animTrack']['duration']/_0x2bb05e['absoluteSp'+'eed']/_0x3236aa;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x8e467a,_0x14076e){const _0x2446aa=''+_0x8e467a+_0x14076e;return this['_pointCach'+'e'][_0x2446aa]||(this['_pointCach'+'e'][_0x2446aa]=this['_children'][_0x14076e]['point']['clone']()['sub'](this['_children'][_0x8e467a]['point'])),this['_pointCach'+'e'][_0x2446aa];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x28f0d9,_0x161848;gi['_p']['set'](...this['_parameter'+'Values']),_0x28f0d9=0x21d8+0x71*0x47+-0x412f,_0x161848=0x23*-0xe3+-0x45b*0x4+0x3075;for(let _0x20657a=0x1a9+0x53*-0x59+0x1b32;_0x20657a<this['_children']['length'];_0x20657a++){const _0x49719f=this['_children'][_0x20657a],_0x4158c6=_0x49719f['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x4158c6);let _0x2b6406=Number['MAX_VALUE'];for(let _0xa16d7f=0x1*-0x8c6+0xa72*0x1+0x2*-0xd6;_0xa16d7f<this['_children']['length'];_0xa16d7f++){if(_0x20657a===_0xa16d7f)continue;const _0x4b8edc=this['pointDista'+'nceCache'](_0x20657a,_0xa16d7f),_0x24da8b=N['clamp'](-0x1*0xaf3+-0x163c+0x3b*0x90-gi['_pip']['dot'](_0x4b8edc)/_0x4b8edc['lengthSq'](),0x813*0x1+-0xb2*0x38+0x1edd,0xcb*-0x1d+0x9*0x120+0xce0);_0x24da8b<_0x2b6406&&(_0x2b6406=_0x24da8b);}_0x49719f['weight']=_0x2b6406,_0x28f0d9+=_0x2b6406,this['_syncAnima'+'tions']&&(_0x161848+=_0x49719f['animTrack']['duration']/_0x49719f['absoluteSp'+'eed']*_0x49719f['weight']);}for(let _0x4d36b3=0x25b9+-0x35*-0x83+-0x40d8;_0x4d36b3<this['_children']['length'];_0x4d36b3++){const _0x951557=this['_children'][_0x4d36b3];_0x951557['weight']=_0x951557['_weight']/_0x28f0d9,this['_syncAnima'+'tions']&&(_0x951557['weightedSp'+'eed']=_0x951557['animTrack']['duration']/_0x951557['absoluteSp'+'eed']/_0x161848);}}};c(gi,'_p',new W()),c(gi,'_pip',new W());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x2120ec,_0x3df54e){const _0x49deb4=''+_0x2120ec+_0x3df54e;return this['_pointCach'+'e'][_0x49deb4]||(this['_pointCach'+'e'][_0x49deb4]=new W((this['_children'][_0x3df54e]['pointLengt'+'h']-this['_children'][_0x2120ec]['pointLengt'+'h'])/((this['_children'][_0x3df54e]['pointLengt'+'h']+this['_children'][_0x2120ec]['pointLengt'+'h'])/(0x9*-0xb9+0x223a+-0x1bb7)),W['angleRad'](this['_children'][_0x2120ec]['point'],this['_children'][_0x3df54e]['point'])*(0x1edc+-0xa9d+-0x143d))),this['_pointCach'+'e'][_0x49deb4];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2d6a97,_0x17286e;yi['_p']['set'](...this['_parameter'+'Values']);const _0x47d561=yi['_p']['length']();_0x2d6a97=-0x1645+0x191+0x19*0xd4,_0x17286e=0x1*-0xb5b+-0x50a+0x1065;for(let _0x2cb345=-0x4c9*-0x5+-0x8ec+-0xf01;_0x2cb345<this['_children']['length'];_0x2cb345++){const _0x480a93=this['_children'][_0x2cb345],_0x486201=_0x480a93['point'],_0x24d490=_0x480a93['pointLengt'+'h'];let _0x4a8175=Number['MAX_VALUE'];for(let _0x11aec6=0xfaf+-0x690*0x5+-0x36d*-0x5;_0x11aec6<this['_children']['length'];_0x11aec6++){if(_0x2cb345===_0x11aec6)continue;const _0x2db566=this['pointCache'](_0x2cb345,_0x11aec6),_0x1c4aed=this['_children'][_0x11aec6]['pointLengt'+'h'];yi['_pip']['set']((_0x47d561-_0x24d490)/((_0x1c4aed+_0x24d490)/(0x20c9*0x1+0xf1*0x13+0x511*-0xa)),W['angleRad'](_0x486201,yi['_p'])*(-0x2700+-0xd*0x1a+-0x142a*-0x2));const _0x3bdcbe=N['clamp'](0x13d7+-0x2*-0xea7+-0x3124-Math['abs'](yi['_pip']['dot'](_0x2db566)/_0x2db566['lengthSq']()),-0x1a24+0x3*0x9b9+-0x307,-0x25d9*0x1+0x2489+0x1*0x151);_0x3bdcbe<_0x4a8175&&(_0x4a8175=_0x3bdcbe);}_0x480a93['weight']=_0x4a8175,_0x2d6a97+=_0x4a8175,this['_syncAnima'+'tions']&&(_0x17286e+=_0x480a93['animTrack']['duration']/_0x480a93['absoluteSp'+'eed']*_0x480a93['weight']);}for(let _0x195965=0x1*-0x1df+0x1*-0xc0e+0x9b*0x17;_0x195965<this['_children']['length'];_0x195965++){const _0x46a967=this['_children'][_0x195965];if(_0x46a967['weight']=_0x46a967['_weight']/_0x2d6a97,this['_syncAnima'+'tions']){const _0x184dc0=_0x46a967['animTrack']['duration']/_0x17286e*_0x2d6a97;_0x46a967['weightedSp'+'eed']=_0x46a967['absoluteSp'+'eed']*_0x184dc0;}}}};c(yi,'_p',new W()),c(yi,'_pip',new W());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x553708=-0x62*0x21+-0x3f3*0x5+0x2061,_0x58a083=0x2347*0x1+0x1f32+-0x4279;for(let _0x4e6c58=-0x11b7+0x20b*-0x1+0x13c2;_0x4e6c58<this['_children']['length'];_0x4e6c58++)if(_0x553708+=Math['max'](this['_parameter'+'Values'][_0x4e6c58],-0x1ab9+-0x1f9+0x1cb2),this['_syncAnima'+'tions']){const _0x3ff45a=this['_children'][_0x4e6c58];_0x58a083+=_0x3ff45a['animTrack']['duration']/_0x3ff45a['absoluteSp'+'eed']*_0x3ff45a['weight'];}for(let _0x281af8=0xdc1+0x2*0x12bf+0x3*-0x1115;_0x281af8<this['_children']['length'];_0x281af8++){const _0x5c4903=this['_children'][_0x281af8],_0x221455=Math['max'](this['_parameter'+'Values'][_0x281af8],-0x1c21+-0x11b*-0x3+0x634*0x4);_0x553708?(_0x5c4903['weight']=_0x221455/_0x553708,this['_syncAnima'+'tions']&&(_0x5c4903['weightedSp'+'eed']=_0x5c4903['animTrack']['duration']/_0x5c4903['absoluteSp'+'eed']/_0x58a083)):(_0x5c4903['weight']=0x3e3*0x7+0x116e+0x36f*-0xd,this['_syncAnima'+'tions']&&(_0x5c4903['weightedSp'+'eed']=-0x44f+0x3cb*-0x5+0x9*0x296));}}}class eg{constructor(_0x147d39,_0x2a0afb,_0x15458d=0xdfb+0xce5*-0x2+-0x2f4*-0x4,_0x3711de=!(0x1f7f+0xca6+0x1*-0x2c25),_0x4d4bf8){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x147d39,this['_name']=_0x2a0afb,this['_speed']=_0x15458d,this['_loop']=_0x3711de,this['_hasAnimat'+'ions']=!(-0xd*-0x2d2+-0x1ba1+0x11*-0x88),_0x4d4bf8?this['_blendTree']=this['_createTre'+'e'](_0x4d4bf8['type'],this,null,_0x2a0afb,-0x460+-0x1cc2*-0x1+-0x4f*0x4f,_0x4d4bf8['parameter']?[_0x4d4bf8['parameter']]:_0x4d4bf8['parameters'],_0x4d4bf8['children'],_0x4d4bf8['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x2a0afb,-0x3*0x626+0x9a7*0x3+-0xa82*0x1,_0x15458d));}['_createTre'+'e'](_0x4552c9,_0x2d549c,_0x2e004c,_0x5f30a1,_0x2bfe7b,_0x197bdf,_0x135c79,_0xb0fa21,_0x5fc456,_0x27c45d){switch(_0x4552c9){case FP:return new VP(_0x2d549c,_0x2e004c,_0x5f30a1,_0x2bfe7b,_0x197bdf,_0x135c79,_0xb0fa21,_0x5fc456,_0x27c45d);case kP:return new Ju(_0x2d549c,_0x2e004c,_0x5f30a1,_0x2bfe7b,_0x197bdf,_0x135c79,_0xb0fa21,_0x5fc456,_0x27c45d);case OP:return new ef(_0x2d549c,_0x2e004c,_0x5f30a1,_0x2bfe7b,_0x197bdf,_0x135c79,_0xb0fa21,_0x5fc456,_0x27c45d);case BP:return new GP(_0x2d549c,_0x2e004c,_0x5f30a1,_0x2bfe7b,_0x197bdf,_0x135c79,_0xb0fa21,_0x5fc456,_0x27c45d);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x4552c9);}['_getNodeFr'+'omPath'](_0x5ed927){let _0x3b1bbd=this['_blendTree'];for(let _0x490a7b=-0x7*0x509+-0x71f*0x2+-0x16a*-0x23;_0x490a7b<_0x5ed927['length'];_0x490a7b++)_0x3b1bbd=_0x3b1bbd['getChild'](_0x5ed927[_0x490a7b]);return _0x3b1bbd;}['addAnimati'+'on'](_0x8e247f,_0x1d50cd){const _0x2b2521=_0x8e247f['join']('.'),_0x4f5df2=this['_animation'+'List']['findIndex'](_0x580e4f=>_0x580e4f['path']===_0x2b2521);if(_0x4f5df2>=0x1bf0+0x61d+-0x220d)this['_animation'+'List'][_0x4f5df2]['animTrack']=_0x1d50cd;else{const _0x11fac5=this['_getNodeFr'+'omPath'](_0x8e247f);_0x11fac5['animTrack']=_0x1d50cd,this['_animation'+'List']['push'](_0x11fac5);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x10ee+0x29*0x4+0xd*-0x15a&&this['_animation'+'List']['every'](_0x3aefd5=>_0x3aefd5['animTrack']&&_0x3aefd5['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x60acec){this['_animation'+'List']=_0x60acec,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x1bc617){this['_speed']=_0x1bc617;}get['speed'](){return this['_speed'];}set['loop'](_0x86bbcd){this['_loop']=_0x86bbcd;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?-0x8db+0x17d0+0x1*-0xef4:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(0x434+0x1f0+-0x623)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x1*-0x44+-0x99a+0x956){const _0x298df3=this['name']+'.'+this['animations'][0x4*0x309+0x7ca+-0x13ee]['animTrack']['name'],_0x21ce10=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x298df3);if(_0x21ce10)return _0x21ce10['loop'];}return!(-0x21b0+-0x6dc*0x5+0x127*0x3b);}get['totalWeigh'+'t'](){let _0x902345=0x1550+-0xd48+-0x202*0x4;for(let _0x2d28f6=-0x1*0x57d+-0xd4a+0x13*0xfd;_0x2d28f6<this['animations']['length'];_0x2d28f6++)_0x902345+=this['animations'][_0x2d28f6]['weight'];return _0x902345;}get['timelineDu'+'ration'](){let _0x2d2751=0x4b8+-0x2c9+0xb*-0x2d;for(let _0x4bfdbe=-0xe+0x1fd8+-0x1fca;_0x4bfdbe<this['animations']['length'];_0x4bfdbe++){const _0x3763e6=this['animations'][_0x4bfdbe];_0x3763e6['animTrack']['duration']>_0x2d2751&&(_0x2d2751=_0x3763e6['animTrack']['duration']);}return _0x2d2751;}}class Yh{constructor({from:_0x1ebf6a,to:_0x1b3541,time:_0x35bf25=-0xe19+-0x917*0x2+0x2047,priority:_0x29a64f=-0xd*0x2cf+0xa1b+-0x152*-0x14,conditions:_0xc398eb=[],exitTime:_0x4a6ece=null,transitionOffset:_0x229486=null,interruptionSource:_0x268c77=q0}){this['_from']=_0x1ebf6a,this['_to']=_0x1b3541,this['_time']=_0x35bf25,this['_priority']=_0x29a64f,this['_condition'+'s']=_0xc398eb,this['_exitTime']=_0x4a6ece,this['_transitio'+'nOffset']=_0x229486,this['_interrupt'+'ionSource']=_0x268c77;}get['from'](){return this['_from'];}set['to'](_0x59db2a){this['_to']=_0x59db2a;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x11cc66,_0x3bb556,_0x14dd3f,_0x1aa213,_0x20a270,_0x17c4ec,_0x28de64){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x9c7*0x2+-0x4*0x823+0x341a),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x1548+0x230f*0x1+-0xdc7*0x1)),c(this,'_playing',!(0x1*-0x1537+-0x26b7+0x3bef*0x1)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x1e7a+0x1d*0x113+-0x3da0*0x1),c(this,'_totalTran'+'sitionTime',0x292*0x2+0x1*0x247+-0x76a),c(this,'_isTransit'+'ioning',!(-0x1ec0+0x1*-0x1dfb+0x3cbc)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x189e+-0x89*0xe+-0x1120),c(this,'_timeInSta'+'teBefore',-0xe*-0xd0+-0x6*0xe7+-0x5f6),c(this,'findParame'+'ter',_0x42173f=>this['_findParam'+'eter'](_0x42173f)),(this['_animEvalu'+'ator']=_0x11cc66,this['_eventHand'+'ler']=_0x20a270,this['_findParam'+'eter']=_0x17c4ec,this['_consumeTr'+'igger']=_0x28de64);for(let _0x190dd7=-0xd2*-0x19+-0x109a+-0x3e8;_0x190dd7<_0x3bb556['length'];_0x190dd7++)this['_states'][_0x3bb556[_0x190dd7]['name']]=new eg(this,_0x3bb556[_0x190dd7]['name'],_0x3bb556[_0x190dd7]['speed'],_0x3bb556[_0x190dd7]['loop'],_0x3bb556[_0x190dd7]['blendTree']),this['_stateName'+'s']['push'](_0x3bb556[_0x190dd7]['name']);this['_transitio'+'ns']=_0x14dd3f['map'](_0x3b37e5=>new Yh({..._0x3b37e5})),this['_activate']=_0x1aa213;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x52de35){this['_activeSta'+'teName']=_0x52de35;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x48e3fd){this['_previousS'+'tateName']=_0x48e3fd;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x52fdad=!(-0x149c*-0x1+-0x2176+-0xa*-0x149);for(let _0x8d6693=0x246e+-0x6b*-0x2b+0x3667*-0x1;_0x8d6693<this['_stateName'+'s']['length'];_0x8d6693++)this['_states'][this['_stateName'+'s'][_0x8d6693]]['playable']||(_0x52fdad=!(-0x1cba+0x9*-0x2a1+-0xe*-0x3be));return _0x52fdad;}set['playing'](_0x422371){this['_playing']=_0x422371;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x25c18a=-0x21f0+-0x1f8a+0x3a*0x121;for(let _0x13345b=-0x18d*-0x1+0x1*-0x1ab7+0x2*0xc95;_0x13345b<this['activeStat'+'eAnimation'+'s']['length'];_0x13345b++){const _0x422fd3=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x13345b]['name']);_0x422fd3&&(_0x25c18a=Math['max'](_0x25c18a,_0x422fd3['track']['duration']));}this['_activeSta'+'teDuration']=_0x25c18a,this['_activeSta'+'teDuration'+'Dirty']=!(0x1*0x18d1+-0xcf1*0x1+0x3f5*-0x3);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x1f7e9e){this['_timeInSta'+'teBefore']=_0x1f7e9e,this['_timeInSta'+'te']=_0x1f7e9e;for(let _0x409afc=0x453+0x51+-0x4a4;_0x409afc<this['activeStat'+'eAnimation'+'s']['length'];_0x409afc++){const _0x1ce4cf=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x409afc]['name']);_0x1ce4cf&&(_0x1ce4cf['time']=_0x1f7e9e);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x221354){return this['_animEvalu'+'ator']['assignMask'](_0x221354);}['_findState'](_0x4524d5){return this['_states'][_0x4524d5];}['_getActive'+'StateProgr'+'essForTime'](_0x234c66){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return-0x102b+0x1*0x57a+0xab2;const _0x469ffc=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x999+-0x1388+-0x1*-0x9ef]['name']);return _0x469ffc?_0x469ffc['progressFo'+'rTime'](_0x234c66):null;}['_findTrans'+'itionsFrom'+'State'](_0x1acb86){let _0x5d869f=this['_findTrans'+'itionsFrom'+'StateCache'][_0x1acb86];return _0x5d869f||(_0x5d869f=this['_transitio'+'ns']['filter'](_0x586012=>_0x586012['from']===_0x1acb86),No(_0x5d869f),this['_findTrans'+'itionsFrom'+'StateCache'][_0x1acb86]=_0x5d869f),_0x5d869f;}['_findTrans'+'itionsBetw'+'eenStates'](_0x384860,_0x538701){let _0x5d334d=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x384860+'->'+_0x538701];return _0x5d334d||(_0x5d334d=this['_transitio'+'ns']['filter'](_0x19e457=>_0x19e457['from']===_0x384860&&_0x19e457['to']===_0x538701),No(_0x5d334d),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x384860+'->'+_0x538701]=_0x5d334d),_0x5d334d;}['_transitio'+'nHasCondit'+'ionsMet'](_0x5d20c4){const _0x51d5ec=_0x5d20c4['conditions'];for(let _0x54a0ad=-0x1d3b*0x1+0x9b*-0x39+0x1*0x3fbe;_0x54a0ad<_0x51d5ec['length'];_0x54a0ad++){const _0x39d946=_0x51d5ec[_0x54a0ad],_0xbfc432=this['_findParam'+'eter'](_0x39d946['parameterN'+'ame']);switch(_0x39d946['predicate']){case MP:if(!(_0xbfc432['value']>_0x39d946['value']))return!(-0x1*-0x262d+-0x4f7+0x1*-0x2135);break;case PP:if(!(_0xbfc432['value']<_0x39d946['value']))return!(-0x9aa+0x2ff*-0xa+0x27a1);break;case RP:if(!(_0xbfc432['value']>=_0x39d946['value']))return!(-0x73b+0x2*-0x952+0x19e0);break;case IP:if(!(_0xbfc432['value']<=_0x39d946['value']))return!(0x91d*-0x3+-0x2b7+0x357*0x9);break;case DP:if(_0xbfc432['value']!==_0x39d946['value'])return!(-0x529*-0x1+-0x75+-0x4b3);break;case LP:if(_0xbfc432['value']===_0x39d946['value'])return!(0x62*0x3d+0x1dd4+-0x352d*0x1);break;}}return!(0xbc7+-0x18d9+-0x1de*-0x7);}['_findTrans'+'ition'](_0x3cf478,_0x5ba7c0){let _0x3682de=[];if(_0x3cf478&&_0x5ba7c0)_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x3cf478,_0x5ba7c0));else{if(!this['_isTransit'+'ioning'])_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x3682de=_0x3682de['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x3682de=_0x3682de['filter'](_0x271238=>{if(_0x271238['to']===this['activeStat'+'eName'])return!(0x394+0x2*-0x5be+-0x1b*-0x4b);if(_0x271238['hasExitTim'+'e']){let _0x501677=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x296dbe=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x271238['exitTime']<-0x1267*0x2+0xe28+0x16a7&&this['activeStat'+'e']['loop']&&(_0x501677-=Math['floor'](_0x501677),_0x296dbe-=Math['floor'](_0x296dbe)),_0x296dbe===_0x501677){if(_0x296dbe!==_0x271238['exitTime'])return null;}else{if(!(_0x271238['exitTime']>_0x501677&&_0x271238['exitTime']<=_0x296dbe))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x271238);}),_0x3682de['length']>0x55*-0xf+0x7*-0x4d6+0x26d5){const _0x49cd90=_0x3682de[0xfa1*-0x2+-0x20d3+0x4015];if(_0x49cd90['to']===Ku){const _0xf9af4b=this['_findTrans'+'itionsFrom'+'State'](oo)[0xe8b+-0x1d14+0x1*0xe89];_0x49cd90['to']=_0xf9af4b['to'];}return _0x49cd90;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x57d520){let _0x4dc27a,_0x5478c1,_0x396285;this['previousSt'+'ate']=_0x57d520['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x57d520['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x23e2+0x219*-0xd+-0x93*0xf);for(let _0x541dfd=0x1*0x7b+0x1*-0x25bd+0x2542;_0x541dfd<_0x57d520['conditions']['length'];_0x541dfd++){const _0x18e528=_0x57d520['conditions'][_0x541dfd];this['_findParam'+'eter'](_0x18e528['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x18e528['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x4354cf=Math['min'](this['_totalTran'+'sitionTime']!==0xa01+-0x1819+-0x1*-0xe18?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x2f9*0xb+-0x12bc*0x2+0x462c,0x305*-0x6+-0x1e18+0x3037);for(let _0x228fae=0x173*-0x10+0x49*-0xa+0x1a0a;_0x228fae<this['_transitio'+'nPreviousS'+'tates']['length'];_0x228fae++){this['_isTransit'+'ioning']?_0x228fae!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1ff8+0x1fef+-0x3fe6)?this['_transitio'+'nPreviousS'+'tates'][_0x228fae]['weight']*=0x1a8e+0x8bb*-0x3+0x5c*-0x1-_0x4354cf:this['_transitio'+'nPreviousS'+'tates'][_0x228fae]['weight']=_0x4354cf:this['_transitio'+'nPreviousS'+'tates'][_0x228fae]['weight']=0x1fa5*-0x1+0x2*-0x37d+0x26a0,_0x4dc27a=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x228fae]['name']);for(let _0x19ade2=0x61f*-0x5+-0x1df*-0x4+0x171f;_0x19ade2<_0x4dc27a['animations']['length'];_0x19ade2++)_0x5478c1=_0x4dc27a['animations'][_0x19ade2],_0x396285=this['_animEvalu'+'ator']['findClip'](_0x5478c1['name']+'.previous.'+_0x228fae),_0x396285||(_0x396285=this['_animEvalu'+'ator']['findClip'](_0x5478c1['name']),_0x396285['name']=_0x5478c1['name']+'.previous.'+_0x228fae),_0x228fae!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x327*0xb+0x132c+-0x35d8*0x1)&&_0x396285['pause']();}}this['_isTransit'+'ioning']=!(-0x1f15*0x1+-0x8a5*0x1+0x27ba),this['_totalTran'+'sitionTime']=_0x57d520['time'],this['_currTrans'+'itionTime']=0x2156+0x588*-0x2+-0x1646,this['_transitio'+'nInterrupt'+'ionSource']=_0x57d520['interrupti'+'onSource'];const _0x425a9=this['activeStat'+'e'],_0x4cf257=_0x57d520['transition'+'Offset']&&_0x57d520['transition'+'Offset']>-0x1cb2+-0x179*-0x5+0x1555&&_0x57d520['transition'+'Offset']<-0x13*0x73+-0x17*-0x9d+0x1db*-0x3;let _0xab9129=-0x2528+-0x273*-0x2+0x1*0x2042,_0x105e58=0x1ef7*0x1+-0x20a4+0x1ad;if(_0x4cf257){const _0x5b8314=_0x425a9['timelineDu'+'ration']*_0x57d520['transition'+'Offset'];_0xab9129=_0x5b8314,_0x105e58=_0x5b8314;}this['_timeInSta'+'te']=_0xab9129,this['_timeInSta'+'teBefore']=_0x105e58;for(let _0x581b02=0x1bd0+-0xfb9+0x1*-0xc17;_0x581b02<_0x425a9['animations']['length'];_0x581b02++){if(_0x396285=this['_animEvalu'+'ator']['findClip'](_0x425a9['animations'][_0x581b02]['name']),_0x396285)_0x396285['reset']();else{const _0x43d42b=Number['isFinite'](_0x425a9['animations'][_0x581b02]['speed'])?_0x425a9['animations'][_0x581b02]['speed']:_0x425a9['speed'];_0x396285=new Xh(_0x425a9['animations'][_0x581b02]['animTrack'],this['_timeInSta'+'te'],_0x43d42b,!(0x1*-0x1f04+0xed*0x3+0x1c3d),_0x425a9['loop'],this['_eventHand'+'ler']),_0x396285['name']=_0x425a9['animations'][_0x581b02]['name'],this['_animEvalu'+'ator']['addClip'](_0x396285);}if(_0x57d520['time']>-0x2603+0x20d5+0x52e?_0x396285['blendWeigh'+'t']=0x2594+0x2*0xa51+-0x1*0x3a36:_0x396285['blendWeigh'+'t']=_0x425a9['animations'][_0x581b02]['normalized'+'Weight'],_0x396285['play'](),_0x4cf257)_0x396285['time']=_0x425a9['timelineDu'+'ration']*_0x57d520['transition'+'Offset'];else{const _0x2d9007=_0x425a9['speed']>=-0x12a9+-0x695+-0x86a*-0x3?-0x8b*-0x3d+0x11e*-0x10+-0xf3f:this['activeStat'+'eDuration'];_0x396285['time']=_0x2d9007;}}}['_transitio'+'nToState'](_0xb71d08){if(!this['_findState'](_0xb71d08))return;let _0x42ec0f=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0xb71d08);_0x42ec0f||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x42ec0f=new Yh({'from':null,'to':_0xb71d08})),this['updateStat'+'eFromTrans'+'ition'](_0x42ec0f);}['assignAnim'+'ation'](_0x7f1002,_0x433115,_0x877ef1,_0x4db62f){const _0x446700=_0x7f1002['split']('.');let _0x39c0a2=this['_findState'](_0x446700[-0x1033*-0x1+-0x629+-0xa0a]);_0x39c0a2||(_0x39c0a2=new eg(this,_0x446700[-0xc*-0xf+0x719+-0x7cd],_0x877ef1),this['_states'][_0x446700[0x184d*-0x1+0xeed+0x960]]=_0x39c0a2,this['_stateName'+'s']['push'](_0x446700[-0xe4b+0x2277+0x2*-0xa16])),_0x39c0a2['addAnimati'+'on'](_0x446700,_0x433115),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x39c0a2['name'],_0x433115),_0x877ef1!==void(-0x1951+-0x1690+-0x6d7*-0x7)&&(_0x39c0a2['speed']=_0x877ef1),_0x4db62f!==void(0x47*-0x29+0x1*0x90a+0x3*0xc7)&&(_0x39c0a2['loop']=_0x4db62f),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x49a+0x110e+-0xc74);}['removeNode'+'Animations'](_0x6a5da1){if(jh['indexOf'](_0x6a5da1)!==-(0x54b+0x6e7+0xc31*-0x1))return!(-0x1340+0x10e2*0x2+-0xe83*0x1);const _0x53c5d6=this['_findState'](_0x6a5da1);return _0x53c5d6?(_0x53c5d6['animations']=[],!(-0x1*-0x2637+-0xa94+0x587*-0x5)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x6a5da1),!(0x8*-0x4c3+-0x14e7+0x76*0x80));}['play'](_0xb3e0d7){_0xb3e0d7&&this['_transitio'+'nToState'](_0xb3e0d7),this['_playing']=!(-0xa6c+0x39a+0x6d2);}['pause'](){this['_playing']=!(0x9*-0x332+0x3*-0x47+-0x3b3*-0x8);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0xe*0xda+0xf15+-0x1b00),this['_currTrans'+'itionTime']=0x21f7+0x19*-0xa3+-0x120b,this['_totalTran'+'sitionTime']=0x13f8+0x25d4+-0x39cb,this['_isTransit'+'ioning']=!(0xb3f*0x1+0x1f55+0x3f*-0xad),this['_timeInSta'+'te']=-0x1bfb+0xf11+0xcea*0x1,this['_timeInSta'+'teBefore']=0x10b4+-0xe*-0x2a3+-0x1acf*0x2,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x19af31){if(!this['_playing'])return;let _0x4eb9c1,_0x265a88,_0x642a5a;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x19af31*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x19af31=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0xe8f741=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0xe8f741&&this['updateStat'+'eFromTrans'+'ition'](_0xe8f741),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x19af31,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x2e4b39=this['_totalTran'+'sitionTime']!==0x114+-0x192e+0x181a?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x266+0x9*-0x152+0x1*0x97d;for(let _0x444961=-0x103a+0xc94+0x3a6;_0x444961<this['_transitio'+'nPreviousS'+'tates']['length'];_0x444961++){_0x4eb9c1=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x444961]['name']);const _0x2818e1=this['_transitio'+'nPreviousS'+'tates'][_0x444961]['weight'];for(let _0x33ea67=0xe*0x57+0x86a+-0xd2c;_0x33ea67<_0x4eb9c1['animations']['length'];_0x33ea67++)_0x265a88=_0x4eb9c1['animations'][_0x33ea67],_0x642a5a=this['_animEvalu'+'ator']['findClip'](_0x265a88['name']+'.previous.'+_0x444961),_0x642a5a&&(_0x642a5a['blendWeigh'+'t']=(-0x5*0x789+-0x240f+-0x1b7*-0x2b-_0x2e4b39)*_0x265a88['normalized'+'Weight']*_0x2818e1);}_0x4eb9c1=this['activeStat'+'e'];for(let _0xcf122d=0x1*0x1e4d+0x1*-0x665+0x4*-0x5fa;_0xcf122d<_0x4eb9c1['animations']['length'];_0xcf122d++)_0x265a88=_0x4eb9c1['animations'][_0xcf122d],this['_animEvalu'+'ator']['findClip'](_0x265a88['name'])['blendWeigh'+'t']=_0x2e4b39*_0x265a88['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x2d9*-0x2+-0x233f*-0x1+-0x3e*0x7a);const _0x449023=this['activeStat'+'eAnimation'+'s']['length'],_0x46e3b5=this['_animEvalu'+'ator']['clips']['length'];for(let _0x2ffe28=0x1e07+-0x1826+-0x5e1;_0x2ffe28<_0x46e3b5-_0x449023;_0x2ffe28++)this['_animEvalu'+'ator']['removeClip'](0xcb8+0x599*-0x1+-0x71f);this['_transitio'+'nPreviousS'+'tates']=[],_0x4eb9c1=this['activeStat'+'e'];for(let _0x4b93c0=0xe5d*-0x2+0x931+0x1389;_0x4b93c0<_0x4eb9c1['animations']['length'];_0x4b93c0++)_0x265a88=_0x4eb9c1['animations'][_0x4b93c0],_0x642a5a=this['_animEvalu'+'ator']['findClip'](_0x265a88['name']),_0x642a5a&&(_0x642a5a['blendWeigh'+'t']=_0x265a88['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x4eb9c1=this['activeStat'+'e'];for(let _0x38fd14=-0x6c4*0x2+-0x16c7+-0xb*-0x34d;_0x38fd14<_0x4eb9c1['animations']['length'];_0x38fd14++)_0x265a88=_0x4eb9c1['animations'][_0x38fd14],_0x642a5a=this['_animEvalu'+'ator']['findClip'](_0x265a88['name']),_0x642a5a&&(_0x642a5a['blendWeigh'+'t']=_0x265a88['normalized'+'Weight'],_0x265a88['parent']['syncAnimat'+'ions']&&(_0x642a5a['speed']=_0x265a88['speed']));}}this['_animEvalu'+'ator']['update'](_0x19af31,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new W(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x2489e8,_0x45f49b,_0x3a228c,_0x368654,_0x216417){super(_0x45f49b),this['animCompon'+'ent']=_0x2489e8,this['_mask']=_0x368654,this['layerName']=_0x3a228c,this['layerIndex']=_0x216417;}static['_packFloat'](_0x11b339){return _0x11b339[-0x25b+-0x3b*0x7f+-0x4*-0x7e8];}static['_packBoole'+'an'](_0x4315a5){return!!_0x4315a5[0x2155+-0x217a+0x25];}static['_packVec2'](_0x3b10be){return Yd['x']=_0x3b10be[0x24bd+-0x14dd+0x8*-0x1fc],Yd['y']=_0x3b10be[0x2*0xbe6+-0x8*0x402+0x845],Yd;}static['_packVec3'](_0x52b16b){return ql['x']=_0x52b16b[-0x1a59+0x628+-0x1431*-0x1],ql['y']=_0x52b16b[0xb*-0xc2+0x111+0x746],ql['z']=_0x52b16b[0x134*0x11+-0x2465*-0x1+-0x38d7],ql;}static['_packVec4'](_0x3d8d10){return Ja['x']=_0x3d8d10[-0x1*0x13c3+-0x85*0x2f+0x2c2e],Ja['y']=_0x3d8d10[0xcb*-0x8+-0x7ac+0x25*0x61],Ja['z']=_0x3d8d10[0x1*0x7ba+0x1fa*-0x4+-0xc*-0x4],Ja['w']=_0x3d8d10[-0x1c80*-0x1+0x1c98+0x3915*-0x1],Ja;}static['_packColor'](_0x315fc5){return eo['r']=_0x315fc5[0x454+-0x1*0xceb+-0x2dd*-0x3],eo['g']=_0x315fc5[0x1a3+-0x1d89*0x1+-0x94d*-0x3],eo['b']=_0x315fc5[-0xbd1+0x1af1+-0xf1e],eo['a']=_0x315fc5[0x18ef+0x13b6+-0x1651*0x2],eo;}static['_packQuat'](_0x3a012f){return to['x']=_0x3a012f[-0x1700+0x2ff+0x1401],to['y']=_0x3a012f[-0x1*0x1304+-0xac*-0x15+0x4e9],to['z']=_0x3a012f[-0x24b*-0x9+-0x12a6+-0x1fb],to['w']=_0x3a012f[-0xcfb*-0x3+-0x29*0x67+-0x1*0x166f],to;}['resolve'](_0x41f055){const _0x348513=qr['encode'](_0x41f055['entityPath'],_0x41f055['component'],_0x41f055['propertyPa'+'th']);let _0x43947f=this['targetCach'+'e'][_0x348513];if(_0x43947f)return _0x43947f;let _0x2a01e0,_0x3cfd66,_0x3fa2ec;switch(_0x41f055['component']){case'entity':_0x2a01e0=this['_getEntity'+'FromHierar'+'chy'](_0x41f055['entityPath']),_0x3fa2ec=qr['encode'](_0x2a01e0['path'],'entity',_0x41f055['propertyPa'+'th']),_0x3cfd66=_0x2a01e0;break;case'graph':if(_0x3cfd66=this['findNode'](_0x41f055),!_0x3cfd66)return null;_0x3fa2ec=qr['encode'](_0x3cfd66['path'],'graph',_0x41f055['propertyPa'+'th']);break;default:if(_0x2a01e0=this['_getEntity'+'FromHierar'+'chy'](_0x41f055['entityPath']),_0x3cfd66=_0x2a01e0['findCompon'+'ent'](_0x41f055['component']),!_0x3cfd66)return null;_0x3fa2ec=qr['encode'](_0x2a01e0['path'],_0x41f055['component'],_0x41f055['propertyPa'+'th']);break;}return _0x43947f=this['_createAni'+'mTargetFor'+'Property'](_0x3cfd66,_0x41f055['propertyPa'+'th'],_0x3fa2ec),this['targetCach'+'e'][_0x348513]=_0x43947f,_0x43947f;}['update'](_0x3d60bb){const _0x4ee88e=this['activeNode'+'s'];if(_0x4ee88e){for(let _0x207a1c=-0x2a*0x53+-0x1ad7+0x2875;_0x207a1c<_0x4ee88e['length'];_0x207a1c++)_0x4ee88e[_0x207a1c]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x2119f7){if(!this['animCompon'+'ent']['entity']['name']===_0x2119f7[0x5df*0x5+0x1*-0xead+-0xeae])return null;const _0x161cd0=this['animCompon'+'ent']['entity'];return _0x2119f7['length']===0x1662+0x29*0x2e+-0x1dbf?_0x161cd0:_0x161cd0['_parent']['findByPath'](_0x2119f7);}['_resolvePa'+'th'](_0x528b92,_0x2a3331,_0x1ac2a3){const _0x413d14=_0x2a3331['length']-(_0x1ac2a3?0x3*0x295+0x982+-0x7*0x277:-0x1*-0x270b+0x9f3+0x30fd*-0x1);for(let _0x544969=-0x1*-0x2250+0x533+-0x77*0x55;_0x544969<_0x413d14;_0x544969++)_0x528b92=_0x528b92[_0x2a3331[_0x544969]];return _0x528b92;}['_setter'](_0x4d31df,_0x42e688,_0x14bcd4){const _0x26ce3d=this['_resolvePa'+'th'](_0x4d31df,_0x42e688),_0x496d3f=_0x42e688[_0x42e688['length']-(0x1979+-0x3fd+-0xd*0x1a7)],_0x46492a='set'+_0x496d3f['substring'](0x1c99+0x208+-0x1ea1,-0xe5+0x4e1*-0x1+0x5c7)['toUpperCas'+'e']()+_0x496d3f['substring'](-0x23d5*-0x1+0x6*-0x66f+-0xa*-0x47);if(_0x26ce3d[_0x46492a]){let _0x5f3bc5=_0x26ce3d['get'+_0x496d3f['substring'](0x47f*-0x1+0x260d+-0x5*0x6b6,0xa8a*-0x2+0x1487*0x1+0x8e)['toUpperCas'+'e']()+_0x496d3f['substring'](-0x7a0+-0x11*-0x221+-0x1c90)]['bind'](_0x26ce3d)();_0x5f3bc5=[_0x5f3bc5['x'],_0x5f3bc5['y'],_0x5f3bc5['z'],_0x5f3bc5['w']];const _0xa05333=_0x26ce3d[_0x46492a]['bind'](_0x26ce3d);return{'set':_0x1106e6=>{_0xa05333(_0x14bcd4(_0x1106e6));},'get':()=>_0x5f3bc5};}const _0x47387c=_0x26ce3d[_0x496d3f];if(typeof _0x47387c=='object'&&_0x47387c['hasOwnProp'+'erty']('copy'))return function(_0x56bb2f){_0x47387c['copy'](_0x14bcd4(_0x56bb2f));};if([W,T,Q,Y,se]['indexOf'](_0x26ce3d['constructo'+'r'])!==-(0x23f8+-0x1e7d+-0x57a)&&_0x42e688['length']>0x1*0x7a7+-0x1fd3+0x182d){const _0x14a604=_0x42e688['length']>-0x125*0x21+0x1a*-0x42+-0x2c7b*-0x1?this['_resolvePa'+'th'](_0x4d31df,_0x42e688['slice'](-0xb*-0x15b+0x36e*0x9+0x2dc7*-0x1,-(0x1310*-0x2+-0x20e+0x282f))):_0x4d31df,_0x509e34=_0x42e688[_0x42e688['length']-(0x1c7c+-0x2*0x4a9+0x4ca*-0x4)];return function(_0x580dbf){_0x26ce3d[_0x496d3f]=_0x14bcd4(_0x580dbf),_0x14a604[_0x509e34]=_0x26ce3d;};}return function(_0xd2b61a){_0x26ce3d[_0x496d3f]=_0x14bcd4(_0xd2b61a);};}['_createAni'+'mTargetFor'+'Property'](_0x34fc9f,_0x168eca,_0x3385fc){if(this['handlers']&&_0x168eca[0x7*0x375+0x9*0x166+-0x24c9]['startsWith']('weight.'))return this['handlers']['weight'](_0x34fc9f,_0x168eca[-0x1*0x1ec5+-0x26*-0x9e+0x751]['replace']('weight.',''));if(this['handlers']&&_0x168eca[-0x3a*0x61+-0xcd3+0x22cd]==='material'&&_0x168eca['length']===0x1364*0x1+0x486+-0x33*0x78){const _0x3fdd76=_0x168eca[0x6*-0x59c+0x25e0+-0x437];if(_0x3fdd76['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x34fc9f,_0x3fdd76);}const _0x2b3f09=this['_resolvePa'+'th'](_0x34fc9f,_0x168eca,!(-0x1296+-0x2*-0xe53+-0xa10));if(typeof _0x2b3f09>'u')return null;let _0xcd157b,_0x4e0126,_0x21765b;if(typeof _0x2b3f09=='number')_0xcd157b=this['_setter'](_0x34fc9f,_0x168eca,mi['_packFloat']),_0x4e0126='vector',_0x21765b=0x1*0x1ee3+-0x1*0x1874+0x1*-0x66e;else{if(typeof _0x2b3f09=='boolean')_0xcd157b=this['_setter'](_0x34fc9f,_0x168eca,mi['_packBoole'+'an']),_0x4e0126='vector',_0x21765b=-0xaee*0x1+-0xa7c+0x156b;else{if(typeof _0x2b3f09=='object')switch(_0x2b3f09['constructo'+'r']){case W:_0xcd157b=this['_setter'](_0x34fc9f,_0x168eca,mi['_packVec2']),_0x4e0126='vector',_0x21765b=0x1*-0x16d9+0x1*0x2458+-0xd7d;break;case T:_0xcd157b=this['_setter'](_0x34fc9f,_0x168eca,mi['_packVec3']),_0x4e0126='vector',_0x21765b=-0xa4*-0x2+0x113d+0x2*-0x941;break;case Q:_0xcd157b=this['_setter'](_0x34fc9f,_0x168eca,mi['_packVec4']),_0x4e0126='vector',_0x21765b=0x790+0xeed+-0x1679;break;case Y:_0xcd157b=this['_setter'](_0x34fc9f,_0x168eca,mi['_packColor']),_0x4e0126='vector',_0x21765b=-0x35*0x76+0x19bc+-0x14a;break;case se:_0xcd157b=this['_setter'](_0x34fc9f,_0x168eca,mi['_packQuat']),_0x4e0126='quaternion',_0x21765b=0x1186+-0xdb*-0x1+-0x125d*0x1;break;default:return null;}}}return _0x168eca['indexOf']('material')!==-(0x79*-0xb+0x22ec+0x18*-0x13d)?new Zu(_0x47c3bb=>{_0xcd157b(_0x47c3bb),_0x34fc9f['material']['update']();},_0x4e0126,_0x21765b,_0x3385fc):new Zu(_0xcd157b,_0x4e0126,_0x21765b,_0x3385fc);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x2ba582={},_0x442214=function(_0x57d6b0){_0x2ba582[_0x57d6b0['name']]=_0x57d6b0;for(let _0x205fab=0x26ba+0x20*0x4e+-0x307a;_0x205fab<_0x57d6b0['children']['length'];++_0x205fab)_0x442214(_0x57d6b0['children'][_0x205fab]);};_0x442214(this['graph']),this['nodes']=_0x2ba582;}}class WP{constructor(_0xb98c3e,_0x30ba3f,_0x51de5f,_0x28a444=-0xd4+0x1*-0x2575+0x264a,_0x438812=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',-0x1a51*-0x1+-0x1ab1+0x60),c(this,'_blendTime'+'Elapsed',0x211c+0x1e2c+-0x51*0xc8),c(this,'_startingW'+'eight',-0x1cfe+-0x2250+0x3f4e),c(this,'_targetWei'+'ght',-0x4*0x971+0x200a*-0x1+0x45ce),(this['_name']=_0xb98c3e,this['_controlle'+'r']=_0x30ba3f,this['_component']=_0x51de5f,this['_weight']=_0x28a444,this['_blendType']=_0x438812);}get['name'](){return this['_name'];}set['playing'](_0x504dbf){this['_controlle'+'r']['playing']=_0x504dbf;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x4f0c58){const _0x3a314f=this['_controlle'+'r'],_0x18be67=_0x3a314f['playing'];_0x3a314f['playing']=!(0x18af*0x1+0xd1*-0x2b+0xa6c),_0x3a314f['activeStat'+'eCurrentTi'+'me']=_0x4f0c58,_0x18be67||_0x3a314f['update'](0x9d*-0xe+-0x997*-0x1+-0x101),_0x3a314f['playing']=_0x18be67;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x318f23){this['_weight']=_0x318f23,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x1f1194){_0x1f1194!==this['_blendType']&&(this['_blendType']=_0x1f1194,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0xd9960d){this['_controlle'+'r']['assignMask'](_0xd9960d)&&this['_component']['rebind'](),this['_mask']=_0xd9960d;}get['mask'](){return this['_mask'];}['play'](_0x469e3d){this['_controlle'+'r']['play'](_0x469e3d);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x3622de){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x3622de):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x1*-0x155f+-0xa*0x1a6+-0x4e3,this['_blendTime'+'Elapsed']=0xf67+0x224a+-0x31b1,this['_startingW'+'eight']=-0x2553+0x36a*-0x1+0x28bd,this['_targetWei'+'ght']=-0x1da7+0xf3e+0xe69)),this['_controlle'+'r']['update'](_0x3622de);}['blendToWei'+'ght'](_0x169eec,_0x70ca78){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x169eec,this['_blendTime']=Math['max'](0x2*-0xef+0x22c6+0x2*-0x1074,_0x70ca78),this['_blendTime'+'Elapsed']=0x12dc+-0x204a*-0x1+-0x3326;}['assignAnim'+'ation'](_0x242b0c,_0x383989,_0x184bb7,_0x4c367f){if(!(_0x383989 instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x242b0c,_0x383989,_0x184bb7,_0x4c367f),this['_controlle'+'r']['_transitio'+'ns']['length']===0x25*0xb1+0x1*0x13c3+-0x2d58*0x1&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x242b0c})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0xd43+0xc8*0xc+-0x16a3));}['removeNode'+'Animations'](_0x29a9df){this['_controlle'+'r']['removeNode'+'Animations'](_0x29a9df)&&(this['_component']['playing']=!(0x160a+-0xbed+-0xa1c));}['getAnimati'+'onAsset'](_0x419cad){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x419cad];}['transition'](_0xe658d2,_0x99ff71=-0x1d99+0xafd+0x129c,_0x3f2335=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0xe658d2,'time':_0x99ff71,'transitionOffset':_0x3f2335}));}}class mh{constructor(_0xc8f1e4){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0xc8f1e4['layers']))this['_layers']=_0xc8f1e4['layers'];else for(const _0x2e7dd3 in _0xc8f1e4['layers']){const _0x2472f3=_0xc8f1e4['layers'][_0x2e7dd3],_0x569607={'name':_0x2472f3['name'],'blendType':_0x2472f3['blendType'],'weight':_0x2472f3['weight'],'states':[],'transitions':[]};for(let _0x26a2c4=-0x2686*0x1+0x2330+0x356;_0x26a2c4<_0x2472f3['states']['length'];_0x26a2c4++)_0x569607['states']['push'](_0xc8f1e4['states'][_0x2472f3['states'][_0x26a2c4]]);for(let _0xd8f476=-0x1*0x253d+-0x12f0+-0xc5*-0x49;_0xd8f476<_0x2472f3['transition'+'s']['length'];_0xd8f476++){const _0x266b72=_0xc8f1e4['transition'+'s'][_0x2472f3['transition'+'s'][_0xd8f476]];if(_0x266b72['conditions']&&!Array['isArray'](_0x266b72['conditions'])){const _0x2d2ea1=Object['keys'](_0x266b72['conditions']),_0x54d28c=[];for(let _0x2e2d3d=-0xa0e+0x42*-0x20+0x124e;_0x2e2d3d<_0x2d2ea1['length'];_0x2e2d3d++){const _0x16528c=_0x266b72['conditions'][_0x2d2ea1[_0x2e2d3d]];_0x16528c['parameterN'+'ame']&&_0x54d28c['push'](_0x16528c);}_0x266b72['conditions']=_0x54d28c;}Number['isInteger'](_0x266b72['from'])&&(_0x266b72['from']=_0xc8f1e4['states'][_0x266b72['from']]['name']),Number['isInteger'](_0x266b72['to'])&&(_0x266b72['to']=_0xc8f1e4['states'][_0x266b72['to']]['name']),_0x569607['transition'+'s']['push'](_0x266b72);}this['_layers']['push'](_0x569607);}for(const _0x3a926b in _0xc8f1e4['parameters']){const _0x1787e8=_0xc8f1e4['parameters'][_0x3a926b];this['_parameter'+'s'][_0x1787e8['name']]={'type':_0x1787e8['type'],'value':_0x1787e8['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0xc73*0x2+0x823+0x10c4),c(this,'_activate',!(-0x3*-0x833+0xb6b+-0x2404)),c(this,'_playing',!(0x2*-0x7f6+-0x71*-0x2f+-0x1*0x4d2)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(0x1*0x141b+0x1b9a+0x4*-0xbed)),c(this,'findParame'+'ter',_0x1597e6=>this['_parameter'+'s'][_0x1597e6]),c(this,'consumeTri'+'gger',_0x12f8a4=>{this['_consumedT'+'riggers']['add'](_0x12f8a4);});}set['stateGraph'+'Asset'](_0x551fb7){if(_0x551fb7===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x3811c3,_0x3c9d9d;_0x551fb7 instanceof le?(_0x3811c3=_0x551fb7['id'],_0x3c9d9d=this['system']['app']['assets']['get'](_0x3811c3),_0x3c9d9d||(this['system']['app']['assets']['add'](_0x551fb7),_0x3c9d9d=this['system']['app']['assets']['get'](_0x3811c3))):(_0x3811c3=_0x551fb7,_0x3c9d9d=this['system']['app']['assets']['get'](_0x3811c3)),!(!_0x3c9d9d||this['_stateGrap'+'hAsset']===_0x3811c3)&&(_0x3c9d9d['resource']?(this['_stateGrap'+'h']=_0x3c9d9d['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x3c9d9d['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x3c9d9d['once']('load',_0x31cbbb=>{this['_stateGrap'+'h']=_0x31cbbb['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x3c9d9d['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x3c9d9d)),this['_stateGrap'+'hAsset']=_0x3811c3);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x287f0d){this['_normalize'+'Weights']=_0x287f0d,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x192ffc){this['_animation'+'Assets']=_0x192ffc,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x4dfc23){this['_speed']=_0x4dfc23;}get['speed'](){return this['_speed'];}set['activate'](_0x15d03e){this['_activate']=_0x15d03e;}get['activate'](){return this['_activate'];}set['playing'](_0x2cab7b){this['_playing']=_0x2cab7b;}get['playing'](){return this['_playing'];}set['rootBone'](_0x18ce8e){if(typeof _0x18ce8e=='string'){const _0x1de7f1=this['entity']['root']['findByGuid'](_0x18ce8e);v['assert'](_0x1de7f1,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x18ce8e+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x1de7f1;}else _0x18ce8e instanceof We?this['_rootBone']=_0x18ce8e:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0xbc5524){this['_stateGrap'+'h']=_0xbc5524;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x77353){this['_layerIndi'+'ces']=_0x77353;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x36d988){this['_parameter'+'s']=_0x36d988;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x4cc6e4){this['_targets']=_0x4cc6e4;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x3fd0a8=-0xb*-0x349+-0xae*-0x17+0x1d*-0x1c9;_0x3fd0a8<this['_layers']['length'];_0x3fd0a8++)if(!this['_layers'][_0x3fd0a8]['playable'])return!(-0xf98*0x2+0x10f6+0xe3b);return!(-0x2472+-0x7*0x257+0x34d3*0x1);}get['baseLayer'](){return this['_layers']['length']>0x116f+-0x1*0xecb+-0x2a4?this['_layers'][0x8d1+0x396+-0xc67]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0xda1a6c){const _0x2764c6=this['animationA'+'ssets'],_0x5c634e=this['layers']['map'](_0x5ea7b2=>_0x5ea7b2['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0xda1a6c['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x2764c6,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x5144e,_0x6c0e74)=>{_0x5144e['mask']=_0x5c634e[_0x6c0e74];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x3a9dd5=Object['values'](this['_targets']);for(let _0x591f55=-0x1bfb+0x6*-0x2eb+-0x919*-0x5;_0x591f55<_0x3a9dd5['length'];_0x591f55++)_0x3a9dd5[_0x591f55]['dirty']=!(0x2f*-0x73+0x2522+-0x1005);}['_addLayer']({name:_0x3a30bd,states:_0x538cac,transitions:_0x18fd51,weight:_0x351791,mask:_0x1eeb02,blendType:_0x121a62}){let _0x29c929;this['rootBone']?_0x29c929=this['rootBone']:_0x29c929=this['entity'];const _0x3c193d=this['_layers']['length'],_0x17e65a=new mi(this,_0x29c929,_0x3a30bd,_0x1eeb02,_0x3c193d),_0x384821=new j0(_0x17e65a),_0x4b5b56=new HP(_0x384821,_0x538cac,_0x18fd51,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x3a30bd,_0x4b5b56,this,_0x351791,_0x121a62)),this['_layerIndi'+'ces'][_0x3a30bd]=_0x3c193d,this['_layers'][_0x3c193d];}['addLayer'](_0x49149d,_0x59027c,_0x4ac542,_0x220b74){const _0x41a68e=this['findAnimat'+'ionLayer'](_0x49149d);if(_0x41a68e)return _0x41a68e;const _0x53e626=[{'name':'START','speed':0x1}],_0x4d51cd=[];return this['_addLayer']({'name':_0x49149d,'states':_0x53e626,'transitions':_0x4d51cd,'weight':_0x59027c,'mask':_0x4ac542,'blendType':_0x220b74});}['_assignPar'+'ameters'](_0x4cc8bf){this['_parameter'+'s']={};const _0x22e108=Object['keys'](_0x4cc8bf['parameters']);for(let _0x40af74=0x49+0x244e+-0x143*0x1d;_0x40af74<_0x22e108['length'];_0x40af74++){const _0x200ee4=_0x22e108[_0x40af74];this['_parameter'+'s'][_0x200ee4]={'type':_0x4cc8bf['parameters'][_0x200ee4]['type'],'value':_0x4cc8bf['parameters'][_0x200ee4]['value']};}}['loadStateG'+'raph'](_0x2c07bf){this['_stateGrap'+'h']=_0x2c07bf,this['_assignPar'+'ameters'](_0x2c07bf),this['_layers']=[];let _0x3c2c26=!(0x159d+-0x16bd+-0x121*-0x1);for(let _0xf7d539=0x1*0xa59+0x583*-0x5+0x1136;_0xf7d539<_0x2c07bf['layers']['length'];_0xf7d539++){const _0x21e933=_0x2c07bf['layers'][_0xf7d539];this['_addLayer']({..._0x21e933}),_0x21e933['states']['some'](_0x211999=>_0x211999['blendTree'])&&(_0x3c2c26=!(0x2*0x8bf+-0xd0e*-0x1+-0x1e8c));}_0x3c2c26||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x565071=0x5da*-0x2+-0x1*-0xd8b+-0x3*0x9d;_0x565071<this['_layers']['length'];_0x565071++){const _0x336dc9=this['_layers'][_0x565071],_0x3f201e=_0x336dc9['name'];for(let _0x1c289d=-0x20db*-0x1+-0x7be+-0x191d;_0x1c289d<_0x336dc9['states']['length'];_0x1c289d++){const _0x411ec7=_0x336dc9['states'][_0x1c289d];if(jh['indexOf'](_0x411ec7)===-(0x331*0x5+0x1241+-0x2235)){const _0x3889c0=_0x3f201e+':'+_0x411ec7;this['_animation'+'Assets'][_0x3889c0]||(this['_animation'+'Assets'][_0x3889c0]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x59fb3a=-0xcf3+0x4f*0xf+0x8e*0xf;_0x59fb3a<this['_layers']['length'];_0x59fb3a++){const _0x15675b=this['_layers'][_0x59fb3a];for(let _0x5efbcd=0x847+-0x137*0x9+0x2a8*0x1;_0x5efbcd<_0x15675b['states']['length'];_0x5efbcd++){const _0x22a6e1=_0x15675b['states'][_0x5efbcd];if(jh['indexOf'](_0x22a6e1)!==-(-0x189a+0x28f*0x3+0xb*0x18a))continue;const _0x2ebdaa=this['_animation'+'Assets'][_0x15675b['name']+':'+_0x22a6e1];if(!_0x2ebdaa||!_0x2ebdaa['asset']){this['findAnimat'+'ionLayer'](_0x15675b['name'])['assignAnim'+'ation'](_0x22a6e1,Ri['EMPTY']);continue;}const _0x7b6637=_0x2ebdaa['asset'],_0x2fe614=this['system']['app']['assets']['get'](_0x7b6637);_0x2fe614&&(_0x2fe614['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x15675b['name'],_0x22a6e1,_0x2fe614):(_0x2fe614['once']('load',function(_0x3afdef,_0xcd7ad7){return function(_0x4c7be4){this['onAnimatio'+'nAssetLoad'+'ed'](_0x3afdef,_0xcd7ad7,_0x4c7be4);}['bind'](this);}['bind'](this)(_0x15675b['name'],_0x22a6e1)),this['system']['app']['assets']['load'](_0x2fe614)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x5a6202,_0x5b7408,_0x125a64){this['findAnimat'+'ionLayer'](_0x5a6202)['assignAnim'+'ation'](_0x5b7408,_0x125a64['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x23c+0x28f+-0x52),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x47019c=0x13*0x10f+0x43*-0x26+-0x13*0x89;_0x47019c<this['_layers']['length'];_0x47019c++){const _0x3563a6=this['_layers'][_0x47019c]['playing'];this['_layers'][_0x47019c]['reset'](),this['_layers'][_0x47019c]['playing']=_0x3563a6;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x3c3c9e=>{this['_targets'][_0x3c3c9e]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x3c7d66=0x1ac6*0x1+0x3*0xb3+-0x185*0x13;_0x3c7d66<this['_layers']['length'];_0x3c7d66++)this['_layers'][_0x3c7d66]['rebind']();}['findAnimat'+'ionLayer'](_0x112b05){const _0xdaf1f2=this['_layerIndi'+'ces'][_0x112b05];return this['_layers'][_0xdaf1f2]||null;}['addAnimati'+'onState'](_0x468c7c,_0x5bc2bf,_0x5073a4=0x8c2*0x4+0x116*-0x11+0x1*-0x1091,_0x160ceb=!(0x2*0x8d8+0x27*-0x89+0x32f),_0x1ade53='Base'){var _0x379e90;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x1ade53,'states':[{'name':'START','speed':0x1},{'name':_0x468c7c,'speed':_0x5073a4,'loop':_0x160ceb,'defaultState':!(-0x1d3d*0x1+-0x1502+0x323f)}],'transitions':[{'from':'START','to':_0x468c7c}]}],'parameters':{}}));const _0x4a32b6=this['findAnimat'+'ionLayer'](_0x1ade53);_0x4a32b6?_0x4a32b6['assignAnim'+'ation'](_0x468c7c,_0x5bc2bf,_0x5073a4,_0x160ceb):(_0x379e90=this['addLayer'](_0x1ade53))==null||_0x379e90['assignAnim'+'ation'](_0x468c7c,_0x5bc2bf,_0x5073a4,_0x160ceb);}['assignAnim'+'ation'](_0x4aa070,_0x3b6825,_0x411508,_0xa79de2=0x65*-0x4d+-0xa0e+0x2870,_0x4f9a1f=!(0x1c8f*0x1+-0x21c7+0x538)){if(!this['_stateGrap'+'h']&&_0x4aa070['indexOf']('.')===-(0x1c84+-0x1b30+-0x153)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x4aa070,'speed':_0xa79de2,'loop':_0x4f9a1f,'defaultState':!(-0x246c+0x2344*0x1+0x128)}],'transitions':[{'from':'START','to':_0x4aa070}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x4aa070,_0x3b6825);return;}const _0x2a9f9b=_0x411508?this['findAnimat'+'ionLayer'](_0x411508):this['baseLayer'];if(!_0x2a9f9b){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x2a9f9b['assignAnim'+'ation'](_0x4aa070,_0x3b6825,_0xa79de2,_0x4f9a1f);}['removeNode'+'Animations'](_0x1576de,_0x422936){const _0x53c19b=_0x422936?this['findAnimat'+'ionLayer'](_0x422936):this['baseLayer'];if(!_0x53c19b){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x53c19b['removeNode'+'Animations'](_0x1576de);}['getParamet'+'erValue'](_0x3d2714,_0x333493){const _0x2b46ba=this['_parameter'+'s'][_0x3d2714];if(_0x2b46ba&&_0x2b46ba['type']===_0x333493)return _0x2b46ba['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3d2714+('\x22\x20of\x20type\x20'+'\x22')+_0x333493+'\x22');}['setParamet'+'erValue'](_0x57fdb3,_0x144410,_0xa7cad7){const _0x196d75=this['_parameter'+'s'][_0x57fdb3];if(_0x196d75&&_0x196d75['type']===_0x144410){_0x196d75['value']=_0xa7cad7;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x57fdb3+('\x22\x20of\x20type\x20'+'\x22')+_0x144410+'\x22');}['getFloat'](_0x443e03){return this['getParamet'+'erValue'](_0x443e03,Q_);}['setFloat'](_0x1614c4,_0x4705ac){this['setParamet'+'erValue'](_0x1614c4,Q_,_0x4705ac);}['getInteger'](_0x33e18e){return this['getParamet'+'erValue'](_0x33e18e,Z_);}['setInteger'](_0x5e63dc,_0x4fed3f){typeof _0x4fed3f=='number'&&_0x4fed3f%(0x142*-0x8+-0x1c5*0x12+0x29eb)===0x1*-0x25dc+0x1*-0x3c+0x2618?this['setParamet'+'erValue'](_0x5e63dc,Z_,_0x4fed3f):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x5e63dc,_0x4fed3f);}['getBoolean'](_0x2f1931){return this['getParamet'+'erValue'](_0x2f1931,J_);}['setBoolean'](_0x9ec75c,_0x41934d){this['setParamet'+'erValue'](_0x9ec75c,J_,!!_0x41934d);}['getTrigger'](_0x54fd99){return this['getParamet'+'erValue'](_0x54fd99,ph);}['setTrigger'](_0x3c5249,_0x356767=!(0x19*0x23+-0x9e*-0xe+0x2*-0x607)){this['setParamet'+'erValue'](_0x3c5249,ph,!(-0x1*0x1ea+0xad*-0x15+-0x7*-0x24d)),_0x356767&&this['_consumedT'+'riggers']['add'](_0x3c5249);}['resetTrigg'+'er'](_0xdd508e){this['setParamet'+'erValue'](_0xdd508e,ph,!(0x1e1a*-0x1+-0x1*0x1305+0x3120));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x1845ec){for(let _0x25af34=-0x26bd+0x2350+-0x36d*-0x1;_0x25af34<this['layers']['length'];_0x25af34++)this['layers'][_0x25af34]['update'](_0x1845ec*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x38a43f=>{this['parameters'][_0x38a43f]['value']=!(0x140*-0x2+-0x1*-0xd5d+-0x14*0x8b);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1bb8c9,_0x4eb1e8){_0x1bb8c9['rootBone']&&_0x4eb1e8[_0x1bb8c9['rootBone']['getGuid']()]?this['rootBone']=_0x4eb1e8[_0x1bb8c9['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(-0x1a58*0x1+0x4*-0x69f+0x4*0xd35);}}const tf=['enabled'];class qP extends Xe{constructor(_0x1eaf09){super(_0x1eaf09),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x373ec9,_0x311f29,_0x482e2b){super['initialize'+'ComponentD'+'ata'](_0x373ec9,_0x311f29,tf);const _0x22cd8f=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x311f29)['forEach'](_0x26589d=>{_0x22cd8f['includes'](_0x26589d)||(_0x373ec9[_0x26589d]=_0x311f29[_0x26589d]);}),_0x311f29['stateGraph']&&(_0x373ec9['stateGraph']=_0x311f29['stateGraph'],_0x373ec9['loadStateG'+'raph'](_0x373ec9['stateGraph'])),_0x311f29['layers']&&_0x311f29['layers']['forEach']((_0x4bb764,_0x3ef7a3)=>{_0x4bb764['_controlle'+'r']['states']['forEach'](_0x4e510f=>{_0x4bb764['_controlle'+'r']['_states'][_0x4e510f]['_animation'+'List']['forEach'](_0x28c9f9=>{if(!_0x28c9f9['animTrack']||_0x28c9f9['animTrack']===Ri['EMPTY']){const _0x2146d1=this['app']['assets']['get'](_0x4bb764['_component']['_animation'+'Assets'][_0x4bb764['name']+':'+_0x28c9f9['name']]['asset']);_0x2146d1&&!_0x2146d1['loaded']&&_0x2146d1['once']('load',()=>{_0x373ec9['layers'][_0x3ef7a3]['assignAnim'+'ation'](_0x28c9f9['name'],_0x2146d1['resource']);});}else _0x373ec9['layers'][_0x3ef7a3]['assignAnim'+'ation'](_0x28c9f9['name'],_0x28c9f9['animTrack']);});});}),_0x311f29['animationA'+'ssets']&&(_0x373ec9['animationA'+'ssets']=Object['assign'](_0x373ec9['animationA'+'ssets'],_0x311f29['animationA'+'ssets'])),_0x311f29['masks']&&Object['keys'](_0x311f29['masks'])['forEach'](_0x5136ac=>{if(_0x373ec9['layers'][_0x5136ac]){const _0x34d5cf=_0x311f29['masks'][_0x5136ac]['mask'],_0x4a34bc={};Object['keys'](_0x34d5cf)['forEach'](_0x5a632a=>{_0x4a34bc[decodeURI(_0x5a632a)]=_0x34d5cf[_0x5a632a];}),_0x373ec9['layers'][_0x5136ac]['mask']=_0x4a34bc;}});}['onAnimatio'+'nUpdate'](_0x1348f9){const _0x5283cf=this['store'];for(const _0x1d1a4b in _0x5283cf)if(_0x5283cf['hasOwnProp'+'erty'](_0x1d1a4b)){const _0x4e66e8=_0x5283cf[_0x1d1a4b]['entity']['anim'];_0x4e66e8['data']['enabled']&&_0x4e66e8['entity']['enabled']&&_0x4e66e8['playing']&&_0x4e66e8['update'](_0x1348f9);}}['cloneCompo'+'nent'](_0x53b08c,_0x4103fb){let _0x2cf2a4;(!_0x53b08c['anim']['rootBone']||_0x53b08c['anim']['rootBone']===_0x53b08c)&&(_0x2cf2a4={},_0x53b08c['anim']['layers']['forEach']((_0x278001,_0x4b7b22)=>{if(_0x278001['mask']){const _0x483838={};Object['keys'](_0x278001['mask'])['forEach'](_0x31fc2a=>{const _0x14dd91=_0x31fc2a['split']('/');_0x14dd91['shift']();const _0x3da6e4=[_0x4103fb['name'],..._0x14dd91]['join']('/');_0x483838[_0x3da6e4]=_0x278001['mask'][_0x31fc2a];}),_0x2cf2a4[_0x4b7b22]={'mask':_0x483838};}}));const _0x4d1f96={'enabled':_0x53b08c['anim']['enabled'],'stateGraphAsset':_0x53b08c['anim']['stateGraph'+'Asset'],'animationAssets':_0x53b08c['anim']['animationA'+'ssets'],'speed':_0x53b08c['anim']['speed'],'activate':_0x53b08c['anim']['activate'],'playing':_0x53b08c['anim']['playing'],'rootBone':_0x53b08c['anim']['rootBone'],'stateGraph':_0x53b08c['anim']['stateGraph'],'layers':_0x53b08c['anim']['layers'],'layerIndices':_0x53b08c['anim']['layerIndic'+'es'],'parameters':_0x53b08c['anim']['parameters'],'normalizeWeights':_0x53b08c['anim']['normalizeW'+'eights'],'masks':_0x2cf2a4};return this['addCompone'+'nt'](_0x4103fb,_0x4d1f96);}['onBeforeRe'+'move'](_0x364c8f,_0x2d8398){_0x2d8398['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x1ce736=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x1ce736);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(0x1604+-0x253d*0x1+0xf39);}}const J0=['enabled'];class jP extends Xe{constructor(_0x419214){super(_0x419214),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x419214['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3c70ab,_0x2dfd30,_0x585791){_0x585791=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x3c70ab,_0x2dfd30,_0x585791);}['onUpdate'](_0x17ddf8){if(this['current']){const _0x47e365=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x47e365);const _0x881ae3=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x881ae3);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0x50a*0x3+-0x18c0+0x27de,tg=-0xe26+-0x15ce+0x23f5,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt',(function(){const _0x5989a0=function(){let _0x30694a;try{_0x30694a=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x2f7188){_0x30694a=window;}return _0x30694a;},_0x4a421d=_0x5989a0();_0x4a421d['setInterva'+'l'](_0x4f6c7c,0x1163*-0x1+0x20ed+0x3dd*-0x2);}());const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x3d921e,_0x2b3e06){super(_0x3d921e,_0x2b3e06),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(-0x1027+-0x105a+0xad6*0x3)),c(this,'_hoveringC'+'ounter',0x569+-0xa4c+0x4e3),c(this,'_isPressed',!(0x7*-0x30d+-0x7*0x27b+0x26b9)),c(this,'_defaultTi'+'nt',new Y(-0xb*0x1b5+-0x49e*0x5+0x1*0x29de,-0x2458+-0x20a+0x2663,-0x1baa+-0x44*-0xc+0x187b,0xbc0+-0x8*0x40d+0x14a9*0x1)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x26c2+0x1273+-0x3935),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(0x742+-0x25d0+0x1*0x1e8f),this['_hoveringC'+'ounter']=0x1c34+-0x7d3*0x3+-0x1*0x4bb,this['_isPressed']=!(-0x3*0x9ed+-0x9dd+-0x255*-0x11),this['_defaultTi'+'nt']=new Y(0xe48*0x1+0x1560+-0x23a7,0x83f*0x3+0x705+-0x1fc1,0x266a+0x1*0xe27+-0x3490*0x1,-0x1*0x9e5+0x20a6+0x2d8*-0x8),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x1921+-0x16f6+0x3*-0xb9,this['_toggleLif'+'ecycleList'+'eners']('on',_0x3d921e));}get['data'](){const _0x391448=this['system']['store'][this['entity']['getGuid']()];return _0x391448?_0x391448['data']:null;}set['enabled'](_0x943ed){this['_setValue']('enabled',_0x943ed);}get['enabled'](){return this['data']['enabled'];}set['active'](_0xce4de0){this['_setValue']('active',_0xce4de0);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x5f0fc5){if(this['_imageEnti'+'ty']!==_0x5f0fc5){const _0x4c8dc6=typeof _0x5f0fc5=='string';if(this['_imageEnti'+'ty']&&_0x4c8dc6&&this['_imageEnti'+'ty']['getGuid']()===_0x5f0fc5)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x5f0fc5 instanceof De?this['_imageEnti'+'ty']=_0x5f0fc5:_0x4c8dc6?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x5f0fc5)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x4c8dc6&&_0x5f0fc5&&(this['data']['imageEntit'+'y']=_0x5f0fc5);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x5cb07e){this['_setValue']('hitPadding',_0x5cb07e);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x4b6f59){this['_setValue']('transition'+'Mode',_0x4b6f59);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0xaaa0cb){this['_setValue']('hoverTint',_0xaaa0cb);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x168d9c){this['_setValue']('pressedTin'+'t',_0x168d9c);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0xb1246e){this['_setValue']('inactiveTi'+'nt',_0xb1246e);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x1f27cd){this['_setValue']('fadeDurati'+'on',_0x1f27cd);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x4007ca){this['_setValue']('hoverSprit'+'eAsset',_0x4007ca);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x927ce6){this['_setValue']('hoverSprit'+'eFrame',_0x927ce6);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x5d6f81){this['_setValue']('pressedSpr'+'iteAsset',_0x5d6f81);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x2db1a8){this['_setValue']('pressedSpr'+'iteFrame',_0x2db1a8);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x434259){this['_setValue']('inactiveSp'+'riteAsset',_0x434259);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x3f9d50){this['_setValue']('inactiveSp'+'riteFrame',_0x3f9d50);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0xe0c452,_0x5cdb07){const _0x14acc5=this['data'],_0xfd31ce=_0x14acc5[_0xe0c452];_0x14acc5[_0xe0c452]=_0x5cdb07,this['fire']('set',_0xe0c452,_0xfd31ce,_0x5cdb07);}['_toggleLif'+'ecycleList'+'eners'](_0x182c50,_0x5e1703){var _0x1c6094;this[_0x182c50]('set_active',this['_onSetActi'+'ve'],this),this[_0x182c50]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x182c50]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x182c50]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x182c50]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x182c50]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x182c50]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x182c50]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x182c50]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x182c50]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x182c50]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x182c50==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x1c6094=this['_evtElemen'+'tAdd'])==null||_0x1c6094['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x2161ca,_0x20bb47,_0x4730b0){_0x20bb47!==_0x4730b0&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x45eb5c,_0x2d5b93,_0x1731f7){_0x2d5b93!==_0x1731f7&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2d5b93),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x36b801,_0x3da8a8,_0x30c576){_0x3da8a8!==_0x30c576&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x4bb27d,_0x21cd7b;(_0x4bb27d=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x4bb27d['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x21cd7b=this['_imageEnti'+'ty'])!=null&&_0x21cd7b['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x193d0b=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x193d0b['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x193d0b['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x193d0b['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x193d0b['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x193d0b['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x2be6b9,_0x46493b,_0x40e4f7,_0x584ed3,_0x2f1801;(_0x2be6b9=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x2be6b9['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x46493b=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x46493b['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x40e4f7=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x40e4f7['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x584ed3=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x584ed3['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x2f1801=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x2f1801['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x414e3b){if(this['entity']['element']){const _0x2c9e84=_0x414e3b==='on';if(_0x2c9e84&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x414e3b]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x414e3b]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x414e3b]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x414e3b]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x414e3b]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x414e3b]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x414e3b]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x414e3b]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x414e3b]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x414e3b]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x414e3b]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x414e3b]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x414e3b]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x414e3b]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x2c9e84;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x6fdfcc;const _0x4a69c1=(_0x6fdfcc=this['_imageEnti'+'ty'])==null?void(0x144*0xb+0x511*-0x3+0x6d*0x3):_0x6fdfcc['element'];!_0x4a69c1||_0x4a69c1['type']===_h||(this['_storeDefa'+'ultColor'](_0x4a69c1['color']),this['_storeDefa'+'ultOpacity'](_0x4a69c1['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x4a69c1['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x4a69c1['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x3c65cd){this['_defaultTi'+'nt']['r']=_0x3c65cd['r'],this['_defaultTi'+'nt']['g']=_0x3c65cd['g'],this['_defaultTi'+'nt']['b']=_0x3c65cd['b'];}['_storeDefa'+'ultOpacity'](_0x306f70){this['_defaultTi'+'nt']['a']=_0x306f70;}['_storeDefa'+'ultSpriteA'+'sset'](_0x45bd4a){this['_defaultSp'+'riteAsset']=_0x45bd4a;}['_storeDefa'+'ultSpriteF'+'rame'](_0x5eb982){this['_defaultSp'+'riteFrame']=_0x5eb982;}['_onSetColo'+'r'](_0x3bb478){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x3bb478),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x583459){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x583459),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x145f30){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x145f30),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x2c37cb){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x2c37cb),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x458c3e){this['_isHoverin'+'g']=!(0x6a8*-0x3+-0x1fd*0xb+-0x29d7*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x458c3e);}['_onMouseLe'+'ave'](_0x53e37a){this['_isHoverin'+'g']=!(0x388+-0xb*-0x1+0x392*-0x1),this['_isPressed']=!(-0x943+-0xb86+-0x2*-0xa65),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x53e37a);}['_onMouseDo'+'wn'](_0x4c9f19){this['_isPressed']=!(0xc57*0x1+0xa*0x173+0x1ad5*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x4c9f19);}['_onMouseUp'](_0x4d0780){this['_isPressed']=!(0x1cbf+-0x60e+-0x16b0),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x4d0780);}['_onTouchSt'+'art'](_0x98b63c){this['_isPressed']=!(0x9d2+0xa64+0xd*-0x18e),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x98b63c);}['_onTouchEn'+'d'](_0x34800c){_0x34800c['event']['preventDef'+'ault'](),this['_isPressed']=!(0x1e7*-0xb+0x6c+0x2ee*0x7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x34800c);}['_onTouchLe'+'ave'](_0x1e8a87){this['_isPressed']=!(0x7dc*-0x2+-0x47*-0x11+0xb02),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x1e8a87);}['_onTouchCa'+'ncel'](_0x1ef224){this['_isPressed']=!(0x1c8a+0x7f8+-0xf*0x26f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x1ef224);}['_onSelectS'+'tart'](_0x1787e4){this['_isPressed']=!(-0x13*-0x17+-0x2bb*-0x3+-0x9e6),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x1787e4);}['_onSelectE'+'nd'](_0x2b5807){this['_isPressed']=!(0x245b+-0x421+0x71*-0x49),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x2b5807);}['_onSelectE'+'nter'](_0x10a3ee){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x1*-0x2515+0xd4*-0x17+-0x1208*0x1&&(this['_isHoverin'+'g']=!(-0x1cdc+-0x56b*0x5+0x1*0x37f3),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x10a3ee);}['_onSelectL'+'eave'](_0xc5ce07){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x924+0x1*-0x12b+0xa4f&&(this['_isHoverin'+'g']=!(0x2*-0x2e1+-0x1*-0x224f+-0x1c8c),this['_isPressed']=!(0x12f9+0x24d4+-0x4*0xdf3),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0xc5ce07);}['_onClick'](_0x532d14){this['_fireIfAct'+'ive']('click',_0x532d14);}['_fireIfAct'+'ive'](_0x2ad54e,_0x2c430b){this['data']['active']&&this['fire'](_0x2ad54e,_0x2c430b);}['_updateVis'+'ualState'](_0x3b2133){const _0x3f99bc=this['_visualSta'+'te'],_0x34070b=this['_determine'+'VisualStat'+'e']();if((_0x3f99bc!==_0x34070b||_0x3b2133)&&this['enabled'])switch(this['_visualSta'+'te']=_0x34070b,_0x3f99bc===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x3f99bc===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x34070b===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x34070b===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x2d0505=hl[this['_visualSta'+'te']],_0x365770=this[_0x2d0505];this['_applyTint'](_0x365770);break;}case tg:{const _0x6282f9=cl[this['_visualSta'+'te']],_0x589f5c=dl[this['_visualSta'+'te']],_0x24f21c=this[_0x6282f9],_0x3dd2fc=this[_0x589f5c];this['_applySpri'+'te'](_0x24f21c,_0x3dd2fc);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x1*0x1a9+-0x131*-0x13+-0x184c));}['_resetToDe'+'faultVisua'+'lState'](_0x667558){var _0x317967;if((_0x317967=this['_imageEnti'+'ty'])!=null&&_0x317967['element'])switch(_0x667558){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x2b40eb,_0x1f0474){var _0x28070c;const _0x2719e4=(_0x28070c=this['_imageEnti'+'ty'])==null?void(0x2bd+0x517+0x4*-0x1f5):_0x28070c['element'];_0x2719e4&&(_0x1f0474=_0x1f0474||0x542*-0x6+-0x1d24+0x3cb0,this['_isApplyin'+'gSprite']=!(-0x1e05+-0x1be2+0x39e7),_0x2719e4['spriteAsse'+'t']!==_0x2b40eb&&(_0x2719e4['spriteAsse'+'t']=_0x2b40eb),_0x2719e4['spriteFram'+'e']!==_0x1f0474&&(_0x2719e4['spriteFram'+'e']=_0x1f0474),this['_isApplyin'+'gSprite']=!(-0xbaf+0xb3e*-0x3+0x2d6a));}['_applyTint'](_0xa15e74){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x12ff*0x2+-0x16c1+0x1*-0xf3d?this['_applyTint'+'Immediatel'+'y'](_0xa15e74):this['_applyTint'+'WithTween'](_0xa15e74);}['_applyTint'+'Immediatel'+'y'](_0x1914fb){var _0x45eceb;const _0x192708=(_0x45eceb=this['_imageEnti'+'ty'])==null?void(-0x1*0x12e3+0xcd*-0x2f+0x2*0x1c43):_0x45eceb['element'];if(!_0x1914fb||!_0x192708||_0x192708['type']===_h)return;const _0x20e368=sg(_0x1914fb);this['_isApplyin'+'gTint']=!(0xcf9+0x190f+-0x2608),_0x20e368['equals'](_0x192708['color'])||(_0x192708['color']=_0x20e368),_0x192708['opacity']!==_0x1914fb['a']&&(_0x192708['opacity']=_0x1914fb['a']),this['_isApplyin'+'gTint']=!(-0xb*-0x149+0x34+-0xe56);}['_applyTint'+'WithTween'](_0x5d5ecd){var _0x7f89f5;const _0x6a4cdd=(_0x7f89f5=this['_imageEnti'+'ty'])==null?void(-0xa39+0x557*-0x7+-0x1*-0x2f9a):_0x7f89f5['element'];if(!_0x5d5ecd||!_0x6a4cdd||_0x6a4cdd['type']===_h)return;const _0x389faa=sg(_0x5d5ecd),_0x1c3f5b=_0x6a4cdd['color'],_0x18d63d=_0x6a4cdd['opacity'];_0x389faa['equals'](_0x1c3f5b)&&_0x5d5ecd['a']===_0x18d63d||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x1c3f5b['r'],_0x1c3f5b['g'],_0x1c3f5b['b'],_0x18d63d),'to':_0x5d5ecd['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x29f061=ne()-this['_tweenInfo']['startTime'];let _0x3adcca=this['fadeDurati'+'on']===0x1*-0xaf2+-0xb9d+0x168f?0x224f+-0x63d+-0x59d*0x5:_0x29f061/this['fadeDurati'+'on'];if(_0x3adcca=N['clamp'](_0x3adcca,-0xcd*0x27+0x4b5+0x1a86,0x1b3e+0xd09+-0x2846),Math['abs'](_0x3adcca-(0x85*0x1+0x2393+0x2417*-0x1))>-0x2424+-0x1451+0x3875+0.00001){const _0x566dd3=this['_tweenInfo']['lerpColor'];_0x566dd3['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x3adcca),this['_applyTint'+'Immediatel'+'y'](new Y(_0x566dd3['r'],_0x566dd3['g'],_0x566dd3['b'],_0x566dd3['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x1*-0x22dc+0x3*-0x1eb+0x289e),this['_hoveringC'+'ounter']=0x1c99*0x1+-0x4*0x95c+0x8d7,this['_isPressed']=!(-0x12ba+0x26a5+-0x2*0x9f5),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5d38e9,_0x3c7ea1){_0x5d38e9['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x3c7ea1[_0x5d38e9['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x5ac266){return new Y(_0x5ac266['r'],_0x5ac266['g'],_0x5ac266['b']);}class ZP{constructor(){this['enabled']=!(0x1795+0xa98+-0x222d),this['active']=!(-0x1071+0x1c24+-0x257*0x5),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(0xfb*-0x1+-0xc95*-0x2+-0x182f+0.75,-0xfb4+-0xb17*0x1+0x1acb+0.75,0x2079+-0xff9*-0x2+-0x406b+0.75),this['pressedTin'+'t']=new Y(0x1fcc+-0x52*0x3b+-0x1a*0x7f+0.5,-0xdcb*0x1+0x15b*-0x7+0x1748+0.5,-0x21e*-0x2+0x11ab+-0x15e7+0.5),this['inactiveTi'+'nt']=new Y(-0x124*-0x1a+0x1*-0x14ed+-0x8bb+0.25,-0x4d*-0x8+0x826*-0x1+0x5be+0.25,-0xfb*-0x6+0x855+-0xe37+0.25),this['fadeDurati'+'on']=0x10b3+-0x7*-0x45a+-0x2f29*0x1,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x24a0+0xe*0x2ca+-0x26c,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x2307+0xbf3+0x1714,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x4*0x7b3+-0x18c5+-0x607;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x400e6b){super(_0x400e6b),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x33b3fd,_0x1e026f,_0x1ec279){_0x33b3fd['imageEntit'+'y']=_0x1e026f['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x33b3fd,_0x1e026f,ig);}['onUpdate'](_0x5010ad){const _0x55e7be=this['store'];for(const _0x18e354 in _0x55e7be){const _0x29e8c3=_0x55e7be[_0x18e354]['entity'],_0x39fa4a=_0x29e8c3['button'];_0x39fa4a['enabled']&&_0x29e8c3['enabled']&&_0x39fa4a['onUpdate']();}}['_onRemoveC'+'omponent'](_0x2de558,_0x62aa52){_0x62aa52['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x1f7126,_0x519e68){super(_0x1f7126,_0x519e68),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0x241+0x5*0x7b1+-0x2433)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x12710b=this['system']['store'][this['entity']['getGuid']()];return _0x12710b?_0x12710b['data']:null;}set['enabled'](_0x4500c7){this['_setValue']('enabled',_0x4500c7);}get['enabled'](){return this['data']['enabled'];}set['type'](_0xd041dc){this['_setValue']('type',_0xd041dc);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x323acf){this['_setValue']('halfExtent'+'s',_0x323acf);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x33f7e5){this['_setValue']('linearOffs'+'et',_0x33f7e5);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x238168){this['_setValue']('angularOff'+'set',_0x238168);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x2523e4){this['_setValue']('radius',_0x2523e4);}get['radius'](){return this['data']['radius'];}set['axis'](_0x314772){this['_setValue']('axis',_0x314772);}get['axis'](){return this['data']['axis'];}set['height'](_0x542be2){this['_setValue']('height',_0x542be2);}get['height'](){return this['data']['height'];}set['asset'](_0x4c750){this['_setValue']('asset',_0x4c750);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x815b4a){this['_setValue']('renderAsse'+'t',_0x815b4a);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x271681){this['_setValue']('convexHull',_0x271681);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x2593b2){this['_setValue']('shape',_0x2593b2);}get['shape'](){return this['data']['shape'];}set['model'](_0x3f23d5){this['_setValue']('model',_0x3f23d5);}get['model'](){return this['data']['model'];}set['render'](_0x3849bf){this['_setValue']('render',_0x3849bf);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x3d070f){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x3d070f);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x47ec9d,_0x15c4ee){const _0x2015b6=this['data'],_0x4be6bc=_0x2015b6[_0x47ec9d];_0x2015b6[_0x47ec9d]=_0x15c4ee,this['fire']('set',_0x47ec9d,_0x4be6bc,_0x15c4ee);}['onSetType'](_0x2e1a2d,_0x540b4a,_0x1fee3e){_0x540b4a!==_0x1fee3e&&this['system']['changeType'](this,_0x540b4a,_0x1fee3e);}['onSetHalfE'+'xtents'](_0x2047b1,_0x420cc6,_0x1d4f67){const _0x20b6af=this['data']['type'];this['data']['initialize'+'d']&&_0x20b6af==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x15121c,_0x826cb4,_0x14298e){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x5c391b,_0x2f9c5c,_0x5d6bd1){const _0x5a581c=this['data']['type'];this['data']['initialize'+'d']&&(_0x5a581c==='sphere'||_0x5a581c==='capsule'||_0x5a581c==='cylinder'||_0x5a581c==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x4412d2,_0x391feb,_0x178da6){const _0x3e6735=this['data']['type'];this['data']['initialize'+'d']&&(_0x3e6735==='capsule'||_0x3e6735==='cylinder'||_0x3e6735==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x15711e,_0x17ff1f,_0x441fce){const _0x586bcf=this['data']['type'];this['data']['initialize'+'d']&&(_0x586bcf==='capsule'||_0x586bcf==='cylinder'||_0x586bcf==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x3d8024,_0x47b708,_0x2b55b2){const _0x32b07f=this['system']['app']['assets'];if(_0x47b708){const _0x524fac=_0x32b07f['get'](_0x47b708);_0x524fac&&_0x524fac['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x2b55b2){_0x2b55b2 instanceof le&&(this['data']['asset']=_0x2b55b2['id']);const _0x4bd6ec=_0x32b07f['get'](this['data']['asset']);_0x4bd6ec&&(_0x4bd6ec['off']('remove',this['onAssetRem'+'oved'],this),_0x4bd6ec['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x2b55b2||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x29bdae,_0x1c0f88,_0x4c4654){const _0x5689de=this['system']['app']['assets'];if(_0x1c0f88){const _0x577649=_0x5689de['get'](_0x1c0f88);_0x577649&&_0x577649['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x4c4654){_0x4c4654 instanceof le&&(this['data']['renderAsse'+'t']=_0x4c4654['id']);const _0x1d2886=_0x5689de['get'](this['data']['renderAsse'+'t']);_0x1d2886&&(_0x1d2886['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x1d2886['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x4c4654||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x4eed56,_0x12d528,_0x2f05b2){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x172dec,_0x16c093,_0x2c4205){this['onSetModel'](_0x172dec,_0x16c093,_0x2c4205);}['onAssetRem'+'oved'](_0x248524){_0x248524['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x248524['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0xb24006){_0xb24006['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0xb24006['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x512965){const _0x4b376a=this['data']['shape'],_0x235c06=_0x4b376a['getNumChil'+'dShapes']();for(let _0xf6a6e5=0x1947+0x3ff+0x4e1*-0x6;_0xf6a6e5<_0x235c06;_0xf6a6e5++){const _0x3eebd7=_0x4b376a['getChildSh'+'ape'](_0xf6a6e5);if(Ammo['getPointer'](_0x3eebd7)===Ammo['getPointer'](_0x512965))return _0xf6a6e5;}return null;}['_onInsert'](_0x2a08e4){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x2b4393=this['entity']['parent'];for(;_0x2b4393;){if(_0x2b4393['collision']&&_0x2b4393['collision']['type']==='compound'){_0x2b4393['collision']['shape']['getNumChil'+'dShapes']()===-0x2523+-0x1f53+0x45*0xfe?this['system']['recreatePh'+'ysicalShap'+'es'](_0x2b4393['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x2b4393=_0x2b4393['parent'];}}}}}['_updateCom'+'pound'](){const _0x429944=this['entity'];if(_0x429944['_dirtyWorl'+'d']){let _0x5a0cec=_0x429944['_dirtyLoca'+'l'],_0x29121d=_0x429944;for(;_0x29121d&&!_0x5a0cec&&!(_0x29121d['collision']&&_0x29121d['collision']===this['_compoundP'+'arent']);)_0x29121d['_dirtyLoca'+'l']&&(_0x5a0cec=!(0x2*0xe83+-0x11*0x185+-0x331*0x1)),_0x29121d=_0x29121d['parent'];if(_0x5a0cec){_0x429944['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x429944);const _0x27e909=this['_compoundP'+'arent']['entity']['rigidbody'];_0x27e909&&_0x27e909['activate']();}}}['getShapePo'+'sition'](){const _0x49933e=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x346d8a=this['entity']['getRotatio'+'n'](),_0x331984=this['data']['linearOffs'+'et'];return ng['copy'](_0x346d8a)['transformV'+'ector'](_0x331984,rg),rg['add'](_0x49933e);}return _0x49933e;}['getShapeRo'+'tation'](){const _0x1932cc=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x1932cc)['mul'](this['data']['angularOff'+'set']):_0x1932cc;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x4ec42a=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x4ec42a&&(!_0x4ec42a['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1*-0x1f23+0x7ba+-0x26dd)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x36b8e5=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x36b8e5,this['data']['shape']),Ammo['destroy'](_0x36b8e5),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(0x1*0x242e+-0x1ae+-0x2280),this['type']='box',this['halfExtent'+'s']=new T(0x75a+-0x1f8+0xd*-0x6a+0.5,0x4*0x10e+0x25a*-0xb+0x15a6+0.5,-0xa50+0xf9a*0x1+-0x54a+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=-0x1bab+0x16e4*0x1+-0x4c7*-0x1+0.5,this['axis']=0x17f*-0x13+0x1a4d+0x221,this['height']=-0x1b4f*-0x1+0x506+0x19*-0x14b,this['convexHull']=!(0x5*0x70b+-0xd5a*0x1+-0x15dc),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x1*0x1ec1+-0x842+-0x3*-0xd01),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x22*-0x77+0x1b3+0xe1c);}}const so='static',ms='dynamic',Bn='kinematic',eR=-0x4*-0x67+-0x22*0x9e+-0x676*-0x3,lo=-0x1*0x1bc5+-0x6b0+-0x1*-0x2279,nf=0x1e2d+0x24a7+-0x42d3,ag=-0x725+-0x7fa+0xf23,tx=-0x2486+-0x2618+0x1*0x4aa3,tR=-0x3*-0xa75+-0x4bd*-0x7+0x1*-0x4089,og=0x21f6+0x1*-0x103d+-0x11b7*0x1,sR=-0x17e*-0x10+-0x7ee+-0xfee,lg=-0x18d*0x5+0x1*0x5b+0x776,hg=0x2*0x9206+0x1dc64+-0x20071,af=0x14ce8+0x1*-0x1088b+0xbba0;let _s,Er,Nn;class sx{constructor(_0x5ae58e,_0x4e7a1d,_0x2e9364){this['entity']=_0x4e7a1d['entity'],this['component']=_0x4e7a1d,this['app']=_0x5ae58e,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x2e9364);}['initialize'](_0x56829a){const _0x36e390=this['entity'],_0x358070=_0x56829a['shape'];if(_0x358070&&typeof Ammo<'u'){_0x36e390['trigger']&&_0x36e390['trigger']['destroy']();const _0x11c62b=-0x1*-0x19d9+-0x8ab+-0x112d*0x1,_0x398e8f=this['component'];if(_0x398e8f){const _0x571cc7=_0x398e8f['getShapePo'+'sition'](),_0x6c56eb=_0x398e8f['getShapeRo'+'tation']();_s['setValue'](_0x571cc7['x'],_0x571cc7['y'],_0x571cc7['z']),Er['setValue'](_0x6c56eb['x'],_0x6c56eb['y'],_0x6c56eb['z'],_0x6c56eb['w']);}else{const _0x1f2247=_0x36e390['getPositio'+'n'](),_0x20de7a=_0x36e390['getRotatio'+'n']();_s['setValue'](_0x1f2247['x'],_0x1f2247['y'],_0x1f2247['z']),Er['setValue'](_0x20de7a['x'],_0x20de7a['y'],_0x20de7a['z'],_0x20de7a['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x57c686=this['app']['systems']['rigidbody']['createBody'](_0x11c62b,_0x358070,Nn);_0x57c686['setRestitu'+'tion'](-0x2f5+-0x1f14+0x2209*0x1),_0x57c686['setFrictio'+'n'](0xc7+-0x184b+-0xbc2*-0x2),_0x57c686['setDamping'](-0x13e1*-0x1+-0x1f3+-0x33*0x5a,-0x1ab8+0x62e+0x2*0xa45),_s['setValue'](0x1566+0x1205+-0x276b*0x1,-0x81*0x33+-0x2559+0x3f0c,0x18e*0x8+-0xb23*-0x1+-0x1793),_0x57c686['setLinearF'+'actor'](_s),_0x57c686['setAngular'+'Factor'](_s),_0x57c686['setCollisi'+'onFlags'](_0x57c686['getCollisi'+'onFlags']()|lo),_0x57c686['entity']=_0x36e390,this['body']=_0x57c686,this['component']['enabled']&&_0x36e390['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x2db805){const _0x31fcc8=this['component'];if(_0x31fcc8){const _0x326482=_0x31fcc8['getShapePo'+'sition'](),_0x339294=_0x31fcc8['getShapeRo'+'tation']();_s['setValue'](_0x326482['x'],_0x326482['y'],_0x326482['z']),Er['setValue'](_0x339294['x'],_0x339294['y'],_0x339294['z'],_0x339294['w']);}else{const _0xaa75a9=this['entity']['getPositio'+'n'](),_0xf97cf=this['entity']['getRotatio'+'n']();_s['setValue'](_0xaa75a9['x'],_0xaa75a9['y'],_0xaa75a9['z']),Er['setValue'](_0xf97cf['x'],_0xf97cf['y'],_0xf97cf['z'],_0xf97cf['w']);}_0x2db805['setOrigin'](_s),_0x2db805['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x1cce7d=this['body'];_0x1cce7d['setWorldTr'+'ansform'](Nn),_0x1cce7d['activate']();}['enable'](){const _0x4d5ea7=this['body'];if(!_0x4d5ea7)return;const _0x3f2dfe=this['app']['systems']['rigidbody'];_0x3f2dfe['_triggers']['indexOf'](this)<0x102c+-0x2b*0x11+-0xd51&&(_0x3f2dfe['addBody'](_0x4d5ea7,lg,af^lg),_0x3f2dfe['_triggers']['push'](this)),_0x4d5ea7['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0xda9ca5=this['body'];if(!_0xda9ca5)return;const _0x1fc3fe=this['app']['systems']['rigidbody'],_0x1f60f0=_0x1fc3fe['_triggers']['indexOf'](this);_0x1f60f0>-(-0x3*0x8f7+0x26b8+0x59*-0x22)&&(_0x1fc3fe['removeBody'](_0xda9ca5),_0x1fc3fe['_triggers']['splice'](_0x1f60f0,0x1482+-0x1d*0x139+0xef4)),_0xda9ca5['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x2258c6){this['system']=_0x2258c6;}['beforeInit'+'ialize'](_0x4c2d06,_0x2110fd){_0x2110fd['shape']=null,_0x2110fd['model']=new Oi(),_0x2110fd['model']['graph']=new De();}['afterIniti'+'alize'](_0x13c2c4,_0x43bb68){this['recreatePh'+'ysicalShap'+'es'](_0x13c2c4),_0x13c2c4['data']['initialize'+'d']=!(-0x19ca+-0x6ae+-0x103c*-0x2);}['reset'](_0x395df0,_0x561b14){this['beforeInit'+'ialize'](_0x395df0,_0x561b14),this['afterIniti'+'alize'](_0x395df0,_0x561b14);}['recreatePh'+'ysicalShap'+'es'](_0x5e4303){const _0x373f58=_0x5e4303['entity'],_0x4ecf85=_0x5e4303['data'];if(typeof Ammo<'u'){_0x373f58['trigger']&&(_0x373f58['trigger']['destroy'](),delete _0x373f58['trigger']),_0x4ecf85['shape']&&(_0x5e4303['_compoundP'+'arent']&&(_0x5e4303!==_0x5e4303['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x5e4303['_compoundP'+'arent'],_0x4ecf85['shape']),_0x5e4303['_compoundP'+'arent']['entity']['rigidbody']&&_0x5e4303['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x4ecf85)),_0x4ecf85['shape']=this['createPhys'+'icalShape'](_0x5e4303['entity'],_0x4ecf85);const _0x5355e5=!_0x5e4303['_compoundP'+'arent'];if(_0x4ecf85['type']==='compound'&&(!_0x5e4303['_compoundP'+'arent']||_0x5e4303===_0x5e4303['_compoundP'+'arent']))_0x5e4303['_compoundP'+'arent']=_0x5e4303,_0x373f58['forEach'](this['_addEachDe'+'scendant'],_0x5e4303);else{if(_0x4ecf85['type']!=='compound'&&!_0x5e4303['rigidbody']){_0x5e4303['_compoundP'+'arent']=null;let _0x1f285b=_0x373f58['parent'];for(;_0x1f285b;){if(_0x1f285b['collision']&&_0x1f285b['collision']['type']==='compound'){_0x5e4303['_compoundP'+'arent']=_0x1f285b['collision'];break;}_0x1f285b=_0x1f285b['parent'];}}}_0x5e4303['_compoundP'+'arent']&&_0x5e4303!==_0x5e4303['_compoundP'+'arent']&&(_0x5355e5&&_0x5e4303['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x215b+0x230a+-0x4465*0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x5e4303['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x373f58,!(0x19d2+-0xc1*0x7+-0x148b)),_0x5e4303['_compoundP'+'arent']['entity']['rigidbody']&&_0x5e4303['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x373f58['rigidbody']?(_0x373f58['rigidbody']['disableSim'+'ulation'](),_0x373f58['rigidbody']['createBody'](),_0x373f58['enabled']&&_0x373f58['rigidbody']['enabled']&&_0x373f58['rigidbody']['enableSimu'+'lation']()):_0x5e4303['_compoundP'+'arent']||(_0x373f58['trigger']?_0x373f58['trigger']['initialize'](_0x4ecf85):_0x373f58['trigger']=new sx(this['system']['app'],_0x5e4303,_0x4ecf85));}}['createPhys'+'icalShape'](_0x342962,_0x5d0383){}['updateTran'+'sform'](_0xace991,_0x46fd6e,_0x15d08b,_0x442294){_0xace991['entity']['trigger']&&_0xace991['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0xfd25ae){_0xfd25ae['shape']&&(Ammo['destroy'](_0xfd25ae['shape']),_0xfd25ae['shape']=null);}['beforeRemo'+'ve'](_0x1fb3cb,_0x4cac50){_0x4cac50['data']['shape']&&(_0x4cac50['_compoundP'+'arent']&&!_0x4cac50['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x4cac50['_compoundP'+'arent'],_0x4cac50['data']['shape']),_0x4cac50['_compoundP'+'arent']['entity']['rigidbody']&&_0x4cac50['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x4cac50['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x4cac50['data']));}['remove'](_0x5760b3,_0x3f2fbf){_0x5760b3['rigidbody']&&_0x5760b3['rigidbody']['body']&&_0x5760b3['rigidbody']['disableSim'+'ulation'](),_0x5760b3['trigger']&&(_0x5760b3['trigger']['destroy'](),delete _0x5760b3['trigger']);}['clone'](_0x251e2a,_0x12b22f){const _0x3984b7=this['system']['store'][_0x251e2a['getGuid']()],_0x327892={'enabled':_0x3984b7['data']['enabled'],'type':_0x3984b7['data']['type'],'halfExtents':[_0x3984b7['data']['halfExtent'+'s']['x'],_0x3984b7['data']['halfExtent'+'s']['y'],_0x3984b7['data']['halfExtent'+'s']['z']],'linearOffset':[_0x3984b7['data']['linearOffs'+'et']['x'],_0x3984b7['data']['linearOffs'+'et']['y'],_0x3984b7['data']['linearOffs'+'et']['z']],'angularOffset':[_0x3984b7['data']['angularOff'+'set']['x'],_0x3984b7['data']['angularOff'+'set']['y'],_0x3984b7['data']['angularOff'+'set']['z'],_0x3984b7['data']['angularOff'+'set']['w']],'radius':_0x3984b7['data']['radius'],'axis':_0x3984b7['data']['axis'],'height':_0x3984b7['data']['height'],'convexHull':_0x3984b7['data']['convexHull'],'asset':_0x3984b7['data']['asset'],'renderAsset':_0x3984b7['data']['renderAsse'+'t'],'model':_0x3984b7['data']['model'],'render':_0x3984b7['data']['render'],'checkVertexDuplicates':_0x3984b7['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x12b22f,_0x327892);}}class aR extends xn{['createPhys'+'icalShape'](_0x55c470,_0x423d35){if(typeof Ammo<'u'){const _0x411162=_0x423d35['halfExtent'+'s'],_0x47af69=new Ammo['btVector3'](_0x411162?_0x411162['x']:-0xad*-0x5+0x1a71+0x15b*-0x16+0.5,_0x411162?_0x411162['y']:-0x26*-0xe5+0x1185+0x3383*-0x1+0.5,_0x411162?_0x411162['z']:-0x1*-0x24c5+0x123e+-0x3703*0x1+0.5),_0x267ea2=new Ammo['btBoxShape'](_0x47af69);return Ammo['destroy'](_0x47af69),_0x267ea2;}}}class oR extends xn{['createPhys'+'icalShape'](_0x5a8660,_0x23a414){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x23a414['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x41b985,_0x5f3e3b){const _0x270589=_0x5f3e3b['axis']??0x1549*0x1+-0x1ab9*-0x1+0x1*-0x3001,_0x38d9f8=_0x5f3e3b['radius']??0x24c8*0x1+0x22*0x29+-0x1d6*0x17+0.5,_0x52b319=Math['max']((_0x5f3e3b['height']??-0x8ce+0xb5*-0x18+0x19c8)-(0x66e+0x1864+-0x22*0xe8)*_0x38d9f8,-0x139*0xb+-0xeb*0x1+-0x4ca*-0x3);let _0x6684ee=null;if(typeof Ammo<'u')switch(_0x270589){case-0x2441*-0x1+0x8a4+-0x3*0xef7:_0x6684ee=new Ammo['btCapsuleS'+'hapeX'](_0x38d9f8,_0x52b319);break;case 0x11e3+0x27a*0x7+0x467*-0x8:_0x6684ee=new Ammo['btCapsuleS'+'hape'](_0x38d9f8,_0x52b319);break;case-0x13f2+-0x85*0x3+0x1583:_0x6684ee=new Ammo['btCapsuleS'+'hapeZ'](_0x38d9f8,_0x52b319);break;}return _0x6684ee;}}class hR extends xn{['createPhys'+'icalShape'](_0x14dcc1,_0x49431c){const _0x868ef6=_0x49431c['axis']??-0xae5+-0x5e8+0x10ce,_0x2f0839=_0x49431c['radius']??0x2540+-0x3a6*0x2+0x27f*-0xc+0.5,_0x52d1ec=_0x49431c['height']??-0x1649*-0x1+0x1*-0x38d+-0x12bb;let _0x1aadb2=null,_0x1b512f=null;if(typeof Ammo<'u')switch(_0x868ef6){case 0x3*-0xc05+-0x8a9+-0x2cb8*-0x1:_0x1aadb2=new Ammo['btVector3'](_0x52d1ec*(0x13a0+0x2*0x9fd+-0x25*0x112+0.5),_0x2f0839,_0x2f0839),_0x1b512f=new Ammo['btCylinder'+'ShapeX'](_0x1aadb2);break;case 0x39a*-0x4+-0x1*0x163d+0x24a6:_0x1aadb2=new Ammo['btVector3'](_0x2f0839,_0x52d1ec*(-0xed2+0xa00+0x4d2+0.5),_0x2f0839),_0x1b512f=new Ammo['btCylinder'+'Shape'](_0x1aadb2);break;case-0x1*-0x2230+0xcb9*0x1+-0x1*0x2ee7:_0x1aadb2=new Ammo['btVector3'](_0x2f0839,_0x2f0839,_0x52d1ec*(0x1852*-0x1+-0x124b+0x1*0x2a9d+0.5)),_0x1b512f=new Ammo['btCylinder'+'ShapeZ'](_0x1aadb2);break;}return _0x1aadb2&&Ammo['destroy'](_0x1aadb2),_0x1b512f;}}class cR extends xn{['createPhys'+'icalShape'](_0x5d01b1,_0x31d0ca){const _0x3dd6ea=_0x31d0ca['axis']??-0x2*-0xc1f+0x2372+0x56d*-0xb,_0x2667a1=_0x31d0ca['radius']??0x852*-0x4+-0x269a+-0x3*-0x17f6+0.5,_0x5bce9d=_0x31d0ca['height']??0x20*-0xe9+-0x1c2e+0x394f;let _0x407a6d=null;if(typeof Ammo<'u')switch(_0x3dd6ea){case-0x32*-0x63+0x3*-0x1c5+-0xe07:_0x407a6d=new Ammo['btConeShap'+'eX'](_0x2667a1,_0x5bce9d);break;case-0x1160+0x1098+0xc9:_0x407a6d=new Ammo['btConeShap'+'e'](_0x2667a1,_0x5bce9d);break;case-0x734+-0x3f*0x1+0x775:_0x407a6d=new Ammo['btConeShap'+'eZ'](_0x2667a1,_0x5bce9d);break;}return _0x407a6d;}}class dR extends xn{['beforeInit'+'ialize'](_0x2b007e,_0x4d9061){}['createAmmo'+'Hull'](_0x7ca4c,_0x3104fb,_0x1836e4,_0x543089){const _0x5a7842=new Ammo['btConvexHu'+'llShape'](),_0x41b9f5=new Ammo['btVector3'](),_0x3fa9a2=[];_0x7ca4c['getPositio'+'ns'](_0x3fa9a2);for(let _0x2c688c=-0x11f4+-0x25fb+-0x6f*-0x81;_0x2c688c<_0x3fa9a2['length'];_0x2c688c+=0x1786+-0x10f4+-0x17*0x49)_0x41b9f5['setValue'](_0x3fa9a2[_0x2c688c]*_0x543089['x'],_0x3fa9a2[_0x2c688c+(-0x16ec+0x11*0x147+0x136)]*_0x543089['y'],_0x3fa9a2[_0x2c688c+(-0x1588+0x609+0xbd*0x15)]*_0x543089['z']),_0x5a7842['addPoint'](_0x41b9f5,!(-0x222f*0x1+0x262*0x4+-0x838*-0x3));Ammo['destroy'](_0x41b9f5),_0x5a7842['recalcLoca'+'lAabb'](),_0x5a7842['setMargin'](-0x1*0x1013+-0x1*0xee7+-0x632*-0x5+0.01);const _0x350f9d=this['system']['_getNodeTr'+'ansform'](_0x3104fb);_0x1836e4['addChildSh'+'ape'](_0x350f9d,_0x5a7842),Ammo['destroy'](_0x350f9d);}['createAmmo'+'Mesh'](_0x29fe8a,_0x2f76ea,_0x21814d,_0x315f8a,_0x5985eb=!(0x1af5*-0x1+-0x1bd*-0x2+0x1*0x177b)){const _0x322b30=this['system'];let _0x515665;if(_0x322b30['_triMeshCa'+'che'][_0x29fe8a['id']])_0x515665=_0x322b30['_triMeshCa'+'che'][_0x29fe8a['id']];else{const _0x3d0802=_0x29fe8a['vertexBuff'+'er'],_0x3ad8f5=_0x3d0802['getFormat']();let _0x4b8425,_0x3a03cc;for(let _0x49ea88=0x1132+-0x1e55+-0xd23*-0x1;_0x49ea88<_0x3ad8f5['elements']['length'];_0x49ea88++){const _0x2fddc4=_0x3ad8f5['elements'][_0x49ea88];if(_0x2fddc4['name']===He){_0x3a03cc=new Float32Array(_0x3d0802['lock'](),_0x2fddc4['offset']),_0x4b8425=_0x2fddc4['stride']/(0x74*-0x1a+-0xe2*-0x1b+-0xc0a);break;}}const _0x4b25df=[];_0x29fe8a['getIndices'](_0x4b25df);const _0x290ec5=_0x29fe8a['primitive'][0x1*0x2110+0x1*-0xebb+-0x1255]['count']/(-0x2696+0x1*-0x16a5+0x3d3e),_0x362c05=new Ammo['btVector3']();let _0x535fea,_0x20c1a8,_0x126e6a;const _0x5a4c8c=_0x29fe8a['primitive'][0x1*0xb66+0x2c*0x3a+-0x155e]['base'];_0x515665=new Ammo['btTriangle'+'Mesh'](),_0x322b30['_triMeshCa'+'che'][_0x29fe8a['id']]=_0x515665;const _0x5c3172=new Map();v['assert'](typeof _0x515665['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x22c76a=_0x515665['getIndexed'+'MeshArray']();_0x22c76a['at'](0xee*-0xe+-0x252c+0x3230)['m_numTrian'+'gles']=_0x290ec5;const _0x42fb79=_0x315f8a?_0x315f8a['x']:0x42b+-0x1*0xca9+0x19*0x57,_0x45fe8a=_0x315f8a?_0x315f8a['y']:-0x1*-0xa36+0x4e6+-0xf1b,_0x15c04b=_0x315f8a?_0x315f8a['z']:0x49+-0x4ad+0x465,_0x47c3ac=_0x1ee293=>{const _0xde9deb=_0x3a03cc[_0x1ee293*_0x4b8425]*_0x42fb79,_0xd10f00=_0x3a03cc[_0x1ee293*_0x4b8425+(0x1755+-0xea7+-0x8ad)]*_0x45fe8a,_0x44bb85=_0x3a03cc[_0x1ee293*_0x4b8425+(0x5*-0x481+-0x24c5+0xdc*0x45)]*_0x15c04b;let _0x4557a8;if(_0x5985eb){const _0x25a43f=_0xde9deb+':'+_0xd10f00+':'+_0x44bb85;if(_0x4557a8=_0x5c3172['get'](_0x25a43f),_0x4557a8!==void(0x10d6+0x14de+0x26*-0xfe))return _0x4557a8;_0x362c05['setValue'](_0xde9deb,_0xd10f00,_0x44bb85),_0x4557a8=_0x515665['findOrAddV'+'ertex'](_0x362c05,!(-0x2a1*0x2+0x11d*-0x1d+0x3*0xc84)),_0x5c3172['set'](_0x25a43f,_0x4557a8);}else _0x362c05['setValue'](_0xde9deb,_0xd10f00,_0x44bb85),_0x4557a8=_0x515665['findOrAddV'+'ertex'](_0x362c05,!(-0x8f2+0x265e+0x1bb*-0x11));return _0x4557a8;};for(let _0x57da6c=0x1*-0x671+0x1*0x1b13+0x116*-0x13;_0x57da6c<_0x290ec5;_0x57da6c++)_0x535fea=_0x47c3ac(_0x4b25df[_0x5a4c8c+_0x57da6c*(0x19b0+-0x11*0x245+-0xe*-0xec)]),_0x20c1a8=_0x47c3ac(_0x4b25df[_0x5a4c8c+_0x57da6c*(0x2c9+-0x1f86*0x1+-0x1cc*-0x10)+(0xd0+-0x1a89*-0x1+-0x1b58)]),_0x126e6a=_0x47c3ac(_0x4b25df[_0x5a4c8c+_0x57da6c*(0x19b9+-0x4*0x1f3+0x2*-0x8f5)+(-0xd51*0x1+0x39+0xd1a)]),_0x515665['addIndex'](_0x535fea),_0x515665['addIndex'](_0x20c1a8),_0x515665['addIndex'](_0x126e6a);Ammo['destroy'](_0x362c05);}const _0x3286bc=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x515665,!(0x85f+-0x1d0f*0x1+0x14b0));if(!_0x315f8a){const _0x16673d=_0x322b30['_getNodeSc'+'aling'](_0x2f76ea);_0x3286bc['setLocalSc'+'aling'](_0x16673d),Ammo['destroy'](_0x16673d);}const _0x5529d8=_0x322b30['_getNodeTr'+'ansform'](_0x2f76ea);_0x21814d['addChildSh'+'ape'](_0x5529d8,_0x3286bc),Ammo['destroy'](_0x5529d8);}['createPhys'+'icalShape'](_0x18a8f1,_0x1f19a7){if(!(typeof Ammo>'u')&&(_0x1f19a7['model']||_0x1f19a7['render'])){const _0x5b4fa1=new Ammo['btCompound'+'Shape'](),_0x533d18=_0x18a8f1['getWorldTr'+'ansform']()['getScale']();if(_0x1f19a7['render']){const _0x44d3e3=_0x1f19a7['render']['meshes'];for(let _0x4bfbb9=-0xffc+-0x14*0x19+0x1c*0xa4;_0x4bfbb9<_0x44d3e3['length'];_0x4bfbb9++)_0x1f19a7['convexHull']?this['createAmmo'+'Hull'](_0x44d3e3[_0x4bfbb9],cg,_0x5b4fa1,_0x533d18):this['createAmmo'+'Mesh'](_0x44d3e3[_0x4bfbb9],cg,_0x5b4fa1,_0x533d18,_0x1f19a7['checkVerte'+'xDuplicate'+'s']);}else{if(_0x1f19a7['model']){const _0xcb19d=_0x1f19a7['model']['meshInstan'+'ces'];for(let _0x442bcf=0x1f98+0x1075+-0x300d*0x1;_0x442bcf<_0xcb19d['length'];_0x442bcf++)this['createAmmo'+'Mesh'](_0xcb19d[_0x442bcf]['mesh'],_0xcb19d[_0x442bcf]['node'],_0x5b4fa1,null,_0x1f19a7['checkVerte'+'xDuplicate'+'s']);const _0x52cbfa=new Ammo['btVector3'](_0x533d18['x'],_0x533d18['y'],_0x533d18['z']);_0x5b4fa1['setLocalSc'+'aling'](_0x52cbfa),Ammo['destroy'](_0x52cbfa);}}return _0x5b4fa1;}}['recreatePh'+'ysicalShap'+'es'](_0x3c6b2c){const _0x2b1904=_0x3c6b2c['data'];if((_0x2b1904['renderAsse'+'t']||_0x2b1904['asset'])&&_0x3c6b2c['enabled']&&_0x3c6b2c['entity']['enabled']){this['loadAsset'](_0x3c6b2c,_0x2b1904['renderAsse'+'t']||_0x2b1904['asset'],_0x2b1904['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x3c6b2c);}['loadAsset'](_0x2e5aee,_0x1f5a2a,_0x57a0d4){const _0x1ae657=_0x2e5aee['data'],_0xf29924=this['system']['app']['assets'],_0x39c31a=_0x1ae657[_0x57a0d4],_0x34a142=_0xbb9fd8=>{_0x1ae657[_0x57a0d4]===_0x39c31a&&(_0x1ae657[_0x57a0d4]=_0xbb9fd8['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x2e5aee));},_0x3abae8=_0x22c0ab=>{_0x22c0ab['ready'](_0x4d6def=>{if(_0x4d6def['data']['containerA'+'sset']){const _0x357934=_0xf29924['get'](_0x4d6def['data']['containerA'+'sset']);_0x357934['loaded']?_0x34a142(_0x4d6def):(_0x357934['ready'](()=>{_0x34a142(_0x4d6def);}),_0xf29924['load'](_0x357934));}else _0x34a142(_0x4d6def);}),_0xf29924['load'](_0x22c0ab);},_0x271632=_0xf29924['get'](_0x1f5a2a);_0x271632?_0x3abae8(_0x271632):_0xf29924['once']('add:'+_0x1f5a2a,_0x3abae8);}['doRecreate'+'PhysicalSh'+'ape'](_0x3cfffb){const _0xb83795=_0x3cfffb['entity'],_0x169bb5=_0x3cfffb['data'];_0x169bb5['model']||_0x169bb5['render']?(this['destroySha'+'pe'](_0x169bb5),_0x169bb5['shape']=this['createPhys'+'icalShape'](_0xb83795,_0x169bb5),_0xb83795['rigidbody']?(_0xb83795['rigidbody']['disableSim'+'ulation'](),_0xb83795['rigidbody']['createBody'](),_0xb83795['enabled']&&_0xb83795['rigidbody']['enabled']&&_0xb83795['rigidbody']['enableSimu'+'lation']()):_0xb83795['trigger']?_0xb83795['trigger']['initialize'](_0x169bb5):_0xb83795['trigger']=new sx(this['system']['app'],_0x3cfffb,_0x169bb5)):(this['beforeRemo'+'ve'](_0xb83795,_0x3cfffb),this['remove'](_0xb83795,_0x169bb5));}['updateTran'+'sform'](_0x254dba,_0x935826,_0x153759,_0x43e1c7){if(_0x254dba['shape']){const _0x29a857=_0x254dba['entity']['getWorldTr'+'ansform']()['getScale'](),_0x26fc6a=_0x254dba['shape']['getLocalSc'+'aling']();(_0x29a857['x']!==_0x26fc6a['x']()||_0x29a857['y']!==_0x26fc6a['y']()||_0x29a857['z']!==_0x26fc6a['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x254dba);}super['updateTran'+'sform'](_0x254dba,_0x935826,_0x153759,_0x43e1c7);}['destroySha'+'pe'](_0x4c789b){if(!_0x4c789b['shape'])return;const _0x2d03ac=_0x4c789b['shape']['getNumChil'+'dShapes']();for(let _0x18daef=-0x565*-0x5+0x24e2+0x3*-0x1549;_0x18daef<_0x2d03ac;_0x18daef++){const _0xfcac71=_0x4c789b['shape']['getChildSh'+'ape'](_0x18daef);Ammo['destroy'](_0xfcac71);}Ammo['destroy'](_0x4c789b['shape']),_0x4c789b['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x2efca0,_0x2de2d9){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x3fee31){!_0x3fee31['collision']||_0x3fee31['rigidbody']||(_0x3fee31['collision']['_compoundP'+'arent']=this,_0x3fee31!==this['entity']&&_0x3fee31['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x3fee31['collision']));}['_updateEac'+'hDescendan'+'t'](_0x53a725){_0x53a725['collision']&&_0x53a725['collision']['_compoundP'+'arent']===this&&(_0x53a725['collision']['_compoundP'+'arent']=null,_0x53a725!==this['entity']&&!_0x53a725['rigidbody']&&_0x53a725['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x53a725['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x30f4dd){!_0x30f4dd['collision']||_0x30f4dd['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x30f4dd,!(0x2382+-0x214*0x4+-0x1b31));}}class fR extends Xe{constructor(_0x5b66fe){super(_0x5b66fe),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x10d054,_0xdd8085,_0x2a633e){_0x2a633e=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x2ba14c={};for(let _0xa95a3e=0x4*0x36d+0x23fd+-0x31b1,_0x28bae6=_0x2a633e['length'];_0xa95a3e<_0x28bae6;_0xa95a3e++){const _0x758001=_0x2a633e[_0xa95a3e];_0x2ba14c[_0x758001]=_0xdd8085[_0x758001];}let _0x37531a;if(_0xdd8085['hasOwnProp'+'erty']('asset')?(_0x37531a=_0x2a633e['indexOf']('model'),_0x37531a!==-(0xeb4+-0x23+-0xe90)&&_0x2a633e['splice'](_0x37531a,-0x1e63+0x15e2*-0x1+0x1a23*0x2),_0x37531a=_0x2a633e['indexOf']('render'),_0x37531a!==-(-0x1+-0x386*0x3+0xa94)&&_0x2a633e['splice'](_0x37531a,-0x21ff+0x21a3+-0x5d*-0x1)):_0xdd8085['hasOwnProp'+'erty']('model')&&(_0x37531a=_0x2a633e['indexOf']('asset'),_0x37531a!==-(-0xb61+-0x2d2+-0x12f*-0xc)&&_0x2a633e['splice'](_0x37531a,-0xa3c+0x318+0x1f*0x3b)),_0x2ba14c['type']||(_0x2ba14c['type']=_0x10d054['data']['type']),_0x10d054['data']['type']=_0x2ba14c['type'],Array['isArray'](_0x2ba14c['halfExtent'+'s'])&&(_0x2ba14c['halfExtent'+'s']=new T(_0x2ba14c['halfExtent'+'s'])),Array['isArray'](_0x2ba14c['linearOffs'+'et'])&&(_0x2ba14c['linearOffs'+'et']=new T(_0x2ba14c['linearOffs'+'et'])),Array['isArray'](_0x2ba14c['angularOff'+'set'])){const _0x1bd221=_0x2ba14c['angularOff'+'set'];_0x1bd221['length']===0x149d+-0xc2c+-0x1a*0x53?_0x2ba14c['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x1bd221[-0x17a8+-0x3*0x926+0x331a],_0x1bd221[0x5*0x133+0x369*0x3+0x1039*-0x1],_0x1bd221[0x2552+-0x1415+-0xb*0x191]):_0x2ba14c['angularOff'+'set']=new se(_0x2ba14c['angularOff'+'set']);}const _0x5948f1=this['_createImp'+'lementatio'+'n'](_0x2ba14c['type']);_0x5948f1['beforeInit'+'ialize'](_0x10d054,_0x2ba14c),super['initialize'+'ComponentD'+'ata'](_0x10d054,_0x2ba14c,_0x2a633e),_0x5948f1['afterIniti'+'alize'](_0x10d054,_0x2ba14c);}['_createImp'+'lementatio'+'n'](_0x1084b0){if(this['implementa'+'tions'][_0x1084b0]===void(-0x10c1*0x2+0x118f+-0x3*-0x551)){let _0x31bb0b;switch(_0x1084b0){case'box':_0x31bb0b=new aR(this);break;case'sphere':_0x31bb0b=new oR(this);break;case'capsule':_0x31bb0b=new lR(this);break;case'cylinder':_0x31bb0b=new hR(this);break;case'cone':_0x31bb0b=new cR(this);break;case'mesh':_0x31bb0b=new dR(this);break;case'compound':_0x31bb0b=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x1084b0);}this['implementa'+'tions'][_0x1084b0]=_0x31bb0b;}return this['implementa'+'tions'][_0x1084b0];}['_getImplem'+'entation'](_0x2543f5){return this['implementa'+'tions'][_0x2543f5['collision']['data']['type']];}['cloneCompo'+'nent'](_0x5bff08,_0x3ecd71){return this['_getImplem'+'entation'](_0x5bff08)['clone'](_0x5bff08,_0x3ecd71);}['onBeforeRe'+'move'](_0x5abbf3,_0x2b4d96){this['implementa'+'tions'][_0x2b4d96['data']['type']]['beforeRemo'+'ve'](_0x5abbf3,_0x2b4d96),_0x2b4d96['onBeforeRe'+'move']();}['onRemove'](_0x344a7f,_0x5c41a7){this['implementa'+'tions'][_0x5c41a7['type']]['remove'](_0x344a7f,_0x5c41a7);}['updateComp'+'oundChildT'+'ransform'](_0x37af9e,_0x33d7db){const _0x30c554=_0x37af9e['collision']['_compoundP'+'arent'];if(_0x30c554!==_0x37af9e['collision']&&_0x37af9e['enabled']&&_0x37af9e['collision']['enabled']&&(_0x37af9e['_dirtyLoca'+'l']||_0x33d7db)){const _0x4376fa=this['_getNodeTr'+'ansform'](_0x37af9e,_0x30c554['entity']),_0x450638=_0x30c554['getCompoun'+'dChildShap'+'eIndex'](_0x37af9e['collision']['shape']);_0x450638===null?_0x30c554['shape']['addChildSh'+'ape'](_0x4376fa,_0x37af9e['collision']['data']['shape']):_0x30c554['shape']['updateChil'+'dTransform'](_0x450638,_0x4376fa,!(-0x1d7b+-0x13*0x1cf+-0x1c6*-0x24)),Ammo['destroy'](_0x4376fa);}}['_removeCom'+'poundChild'](_0x136ab8,_0x5c73a4){if(_0x136ab8['shape']['getNumChil'+'dShapes']()!==-0xe*-0x20d+-0x21b*-0x7+-0xe3*0x31){if(_0x136ab8['shape']['removeChil'+'dShape'])_0x136ab8['shape']['removeChil'+'dShape'](_0x5c73a4);else{const _0x453f67=_0x136ab8['getCompoun'+'dChildShap'+'eIndex'](_0x5c73a4);_0x453f67!==null&&_0x136ab8['shape']['removeChil'+'dShapeByIn'+'dex'](_0x453f67);}}}['onTransfor'+'mChanged'](_0x41ea5d,_0x3832a0,_0x1f2e2f,_0x21f30d){this['implementa'+'tions'][_0x41ea5d['data']['type']]['updateTran'+'sform'](_0x41ea5d,_0x3832a0,_0x1f2e2f,_0x21f30d);}['changeType'](_0x1e651d,_0x5b7e7a,_0x138679){this['implementa'+'tions'][_0x5b7e7a]['beforeRemo'+'ve'](_0x1e651d['entity'],_0x1e651d),this['implementa'+'tions'][_0x5b7e7a]['remove'](_0x1e651d['entity'],_0x1e651d['data']),this['_createImp'+'lementatio'+'n'](_0x138679)['reset'](_0x1e651d,_0x1e651d['data']);}['recreatePh'+'ysicalShap'+'es'](_0x5a2ce9){this['implementa'+'tions'][_0x5a2ce9['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x5a2ce9);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x3e1914,_0x49ee81){if(_0x3e1914===_0x49ee81){const _0x208d40=_0x3e1914['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x208d40['x'],_0x208d40['y'],_0x208d40['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x3e1914['parent'],_0x49ee81),Xl['mul'](_0x3e1914['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x1afc52){const _0xfbd3e2=_0x1afc52['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0xfbd3e2['x'],_0xfbd3e2['y'],_0xfbd3e2['z']);}['_getNodeTr'+'ansform'](_0x215f31,_0x5274e9){let _0x37385d,_0x102592;_0x5274e9?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x215f31,_0x5274e9),_0x37385d=iR,_0x102592=Cr,Xl['getTransla'+'tion'](_0x37385d),_0x102592['setFromMat'+'4'](Xl)):(_0x37385d=_0x215f31['getPositio'+'n'](),_0x102592=_0x215f31['getRotatio'+'n']());const _0x4241de=new Ammo['btQuaterni'+'on'](),_0x3bd7b3=new Ammo['btTransfor'+'m']();_0x3bd7b3['setIdentit'+'y']();const _0x135f51=_0x3bd7b3['getOrigin'](),_0x4a603c=_0x215f31['collision'];if(_0x4a603c&&_0x4a603c['_hasOffset']){const _0x39c077=_0x4a603c['data']['linearOffs'+'et'],_0x22507f=_0x4a603c['data']['angularOff'+'set'],_0x3ce158=rR;Cr['copy'](_0x102592)['transformV'+'ector'](_0x39c077,_0x3ce158),_0x3ce158['add'](_0x37385d),Cr['copy'](_0x102592)['mul'](_0x22507f),_0x135f51['setValue'](_0x3ce158['x'],_0x3ce158['y'],_0x3ce158['z']),_0x4241de['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x135f51['setValue'](_0x37385d['x'],_0x37385d['y'],_0x37385d['z']),_0x4241de['setValue'](_0x102592['x'],_0x102592['y'],_0x102592['z'],_0x102592['w']);return _0x3bd7b3['setRotatio'+'n'](_0x4241de),Ammo['destroy'](_0x4241de),_0x3bd7b3;}['destroy'](){for(const _0x38f3e6 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x38f3e6]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x4d295f,_0x5bab0f,_0x1ead0f){this['_entity']=_0x4d295f,this['_element']=_0x4d295f['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x5bab0f,this['meshInstan'+'ce']=new Le(this['mesh'],_0x1ead0f,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x4d295f['name'],this['meshInstan'+'ce']['castShadow']=!(-0x7d3*-0x1+-0x3d9*0x7+0x15*0xe9),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x1801+-0x84d+-0x1*0xfb3),this['_meshDirty']=!(0x2*0x939+0x31+0x35*-0x5a),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x166185,_0x1d6b79;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x166185=this['meshInstan'+'ce'])==null||_0x166185['destroy'](),this['meshInstan'+'ce']=null,(_0x1d6b79=this['unmaskMesh'+'Instance'])==null||_0x1d6b79['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x58ce94){this['meshInstan'+'ce']&&(this['mesh']=_0x58ce94,this['meshInstan'+'ce']['mesh']=_0x58ce94,this['meshInstan'+'ce']['visible']=!!_0x58ce94,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x58ce94),this['forceUpdat'+'eAabb']());}['setMask'](_0xa19d33){var _0x2d847a;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0xa19d33){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x996+0x5e5+0x3b2),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x3*-0x5ef+-0x113e+-0x8c3*-0x4),this['unmaskMesh'+'Instance']['pick']=!(0x1219+0x79f*-0x3+0x4c5),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x1ca17b in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x1ca17b,this['meshInstan'+'ce']['parameters'][_0x1ca17b]['data']);}else{const _0x27d7e5=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x27d7e5>=0x21f*0x5+-0x1cba+0x1*0x121f&&this['model']['meshInstan'+'ces']['splice'](_0x27d7e5,0x1baf+0x11b0+-0x1*0x2d5e);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0xa19d33||((_0x2d847a=this['unmaskMesh'+'Instance'])==null||_0x2d847a['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x3ba68a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3ba68a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x3ba68a));}['setParamet'+'er'](_0x2e9879,_0x501253){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x2e9879,_0x501253),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x2e9879,_0x501253));}['deletePara'+'meter'](_0x316ec2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x316ec2),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x316ec2));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x2ab35f=function(_0x3d581b){let _0x554acb;const _0xf97366=_0x3d581b['children'],_0x4e20ca=_0xf97366['length'];if(_0x4e20ca){for(let _0x39887d=0x204+-0x1be2+0x19de;_0x39887d<_0x4e20ca;_0x39887d++)_0xf97366[_0x39887d]['element']&&(_0x554acb=_0xf97366[_0x39887d]);if(!_0x554acb)return null;const _0x27470d=_0x2ab35f(_0x554acb);return _0x27470d||_0x554acb;}return null;};if(this['unmaskMesh'+'Instance']){const _0x59d38f=_0x2ab35f(this['_entity']);_0x59d38f&&_0x59d38f['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x59d38f['element']['drawOrder']+_0x59d38f['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x1324f1){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x1324f1),this['meshInstan'+'ce']['drawOrder']=_0x1324f1);}['setCull'](_0x5b0709){if(!this['meshInstan'+'ce'])return;const _0x53ecd5=this['_element'];let _0x284947=null;_0x5b0709&&_0x53ecd5['_isScreenS'+'pace']()&&(_0x284947=function(_0x263d51){return _0x53ecd5['isVisibleF'+'orCamera'](_0x263d51);}),this['meshInstan'+'ce']['cull']=_0x5b0709,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x284947,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x5b0709,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x284947);}['setScreenS'+'pace'](_0x3c3dde){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x3c3dde,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x3c3dde));}['setLayer'](_0x5f1048){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x5f1048,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x5f1048));}['forceUpdat'+'eAabb'](_0x5c72d3){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0xb99+0x15c7+-0x215f*0x1),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x130*-0x2+0xcf4+0xa93*-0x1)));}['setAabbFun'+'c'](_0x50ddf6){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x50ddf6,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x50ddf6));}}class _R{constructor(_0x49229c){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x49229c,this['_entity']=_0x49229c['entity'],this['_system']=_0x49229c['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x2*0xc1b+-0x23b3*0x1+0x3be9,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x135*0x1f+0x179f+0xdcd),this['_rect']=new Q(-0x16de+0x2096+-0x9b8,-0x5d*0xd+-0x5*0x3ab+0x1710,-0x8*-0x3e+-0x6*-0x49f+-0x1*0x1da9,-0xb54+0x514+0x641),this['_mask']=!(-0x742*-0x2+-0x1*0x1db6+0xf33),this['_maskRef']=-0xada*-0x3+0x1*-0x1f0c+-0x182,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0xa*0x73+0xc39+-0x5b*0x2f),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0x96*-0x7+0x44e+0x10*-0x3),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x49d*-0x5+-0x23f1+0x16*0x96),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(-0xc12+-0x26f9+0x330c,0x1*0xab2+0x1e43+0x147a*-0x2,0x312+0x14dd+-0x17ee,-0x1*0x21d+-0x2*-0x35+0x1b4),this['_colorUnif'+'orm']=new Float32Array([0x6*-0xa+-0x4d1+0x1*0x50e,-0x230a+0x17ac+-0x47*-0x29,0x2394+-0x36*-0x89+-0x4079]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x1*-0x2471+-0x248b+-0x1b*-0x1),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x1cb2e0){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x1625ff){this['_updateMat'+'erial'](_0x1625ff);}['_onScreenC'+'hange'](_0xcbbcf6,_0x1cd745){_0xcbbcf6?this['_updateMat'+'erial'](_0xcbbcf6['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x493*0x1+-0x100*0x13+-0x2*-0x737));}['_onDrawOrd'+'erChange'](_0x4a7ef7){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x4a7ef7),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x93*-0x38+0x1481+-0x34a8);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x8dec4e){const _0x3fc487=!!this['_mask'],_0x2a3b8d=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x2cfc15=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x8dec4e,_0x3fc487,_0x2a3b8d,_0x2cfc15)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x8dec4e),this['_renderabl'+'e']['setLayer'](_0x8dec4e?Ub:c0));}['_createMes'+'h'](){const _0x2b2629=this['_element'],_0x952b34=_0x2b2629['calculated'+'Width'],_0x20933a=_0x2b2629['calculated'+'Height'],_0x4d112d=this['_rect'],_0x3499e5=this['_system']['app']['graphicsDe'+'vice'],_0x6316af=new Float32Array([_0x952b34,-0x2*0xbe+-0xc06+-0x13*-0xb6,0x4eb*-0x1+-0x711+0xbfc,0x4d2*0x5+0x9*-0x199+-0x9b9,0x84c+-0xaf6+0x2aa,0xc3e+-0x2b7+-0x986,_0x4d112d['x']+_0x4d112d['z'],-0x1*0x240c+-0x2483+-0x36*-0x158-_0x4d112d['y'],_0x952b34,_0x20933a,0x124*0x19+-0x219b+0x517,-0x65*-0x3d+-0x130e+-0x503,-0x675+-0x23*-0x37+0x11*-0x10,-0x1010+-0x2239+0x324a,_0x4d112d['x']+_0x4d112d['z'],-0x83*0x12+0x3b9*-0x4+0x33*0x79-(_0x4d112d['y']+_0x4d112d['w']),0xe*-0x57+-0x1456+0x1918,0x2463+-0x1cc0+-0x7a3,-0x12b9*0x1+0x1db3+-0xa*0x119,-0x47*-0x4c+-0x224*0x4+-0xc84,0x3d3+-0x25f*0xa+0x13e3*0x1,-0x1d98+0x2dd*-0x2+0x1*0x2353,_0x4d112d['x'],-0x5*0x428+-0x14*-0xca+0x501-_0x4d112d['y'],-0x238b+-0x1880+-0x329*-0x13,_0x20933a,0x1*-0x683+0x2*-0x26+-0x53*-0x15,0xcc2+-0x2142+0x40*0x52,-0x1*0x251f+-0x1429+0xbc*0x4e,-0x1860+0x1a72+-0x211,_0x4d112d['x'],0x4*-0x561+0x1c61*-0x1+0x31e6-(_0x4d112d['y']+_0x4d112d['w'])]),_0x3066e2=pR['get'](_0x3499e5,()=>new Et(_0x3499e5,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x32bd26=new os(_0x3499e5,_0x3066e2,-0x21*0x10d+-0xe9a+-0x314b*-0x1,{'data':_0x6316af['buffer']}),_0x3bb1f5=new Ie(_0x3499e5);return _0x3bb1f5['vertexBuff'+'er']=_0x32bd26,_0x3bb1f5['primitive'][0xe53+-0x231c+0x14c9]['type']=ar,_0x3bb1f5['primitive'][-0x3*0xb3e+0xda3+0x1417]['base']=0x1609+-0xb8f*-0x1+-0x2198,_0x3bb1f5['primitive'][0x16e8+-0x13*-0x76+-0x1faa]['count']=0x6*0x151+0x1403+0x1*-0x1be5,_0x3bb1f5['primitive'][-0x1*0x699+0xd5c+-0x6c3]['indexed']=!(-0x2*0x213+0xb45+-0x71e),_0x3bb1f5['aabb']['setMinMax'](T['ZERO'],new T(_0x952b34,_0x20933a,-0x10ef*0x1+0x200e+-0xf1f)),this['_updateMes'+'h'](_0x3bb1f5),_0x3bb1f5;}['_updateMes'+'h'](_0x68a671){const _0x102f12=this['_element'];let _0x448f01=_0x102f12['calculated'+'Width'],_0x28b95d=_0x102f12['calculated'+'Height'];if(_0x102f12['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>-0x23f1+-0x864+0x2c55*0x1){const _0x331a18=_0x102f12['calculated'+'Width']/_0x102f12['calculated'+'Height'];_0x102f12['fitMode']===YP&&_0x331a18>this['_targetAsp'+'ectRatio']||_0x102f12['fitMode']===KP&&_0x331a18<this['_targetAsp'+'ectRatio']?_0x448f01=_0x102f12['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x28b95d=_0x102f12['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x4473f6=_0x102f12['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x4473f6),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x583482=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x23ba04=(-0x5d2+0x1*0xeab+-0x8d7)/_0x583482['rect']['z'],_0x3847b1=(-0xef5+0x1f85+-0x108e)/_0x583482['rect']['w'];this['_innerOffs'+'et']['set'](_0x583482['border']['x']*_0x23ba04,_0x583482['border']['y']*_0x3847b1,_0x583482['border']['z']*_0x23ba04,_0x583482['border']['w']*_0x3847b1);const _0x56d600=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x583482['rect']['x']/_0x56d600['width'],_0x583482['rect']['y']/_0x56d600['height'],_0x583482['rect']['z']/_0x56d600['width'],_0x583482['rect']['w']/_0x56d600['height']);const _0x48a675=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x6871f4=_0x583482['rect']['z']/_0x48a675,_0xd7aad3=_0x583482['rect']['w']/_0x48a675;this['_outerScal'+'e']['set'](Math['max'](_0x448f01,this['_innerOffs'+'et']['x']*_0x6871f4),Math['max'](_0x28b95d,this['_innerOffs'+'et']['y']*_0xd7aad3));let _0x59dc3a=_0x6871f4,_0xb3f556=_0xd7aad3;this['_outerScal'+'e']['x']/=_0x6871f4,this['_outerScal'+'e']['y']/=_0xd7aad3,_0x59dc3a*=N['clamp'](_0x448f01/(this['_innerOffs'+'et']['x']*_0x6871f4),0x15c5*0x1+0x2249+-0x380e+0.0001,-0x158b+-0xb9*-0x2b+0x987*-0x1),_0xb3f556*=N['clamp'](_0x28b95d/(this['_innerOffs'+'et']['y']*_0xd7aad3),0x1054+0x2*-0xd01+-0x2*-0x4d7+0.0001,-0x1363+-0xa*0x157+0x20ca),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x881*-0x4+-0x157e+-0x7*0x1ca]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x734+-0xa6b+0x8*0x234]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x3d1*-0x8+0x17bf+-0x3645]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x6d4+-0xa3a+0x1111]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1*0x3f+-0xa73+0x1*0xab2]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x1d*0x18+-0x1754+0x1*0x149d]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x2131+0x3b*-0x5e+0x1*-0xb85]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x2*0x2cf+0x20cd+-0x2668]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x1c47*0x1+-0xaf3*-0x3+0x3*-0x186]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1*0xfe3+0xf*-0x1d3+0xe6b*0x3]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x59dc3a,_0xb3f556,0x7d6+0x8bb+-0x350*0x5),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x2*-0x20f+-0x1c0+-0x25e+0.5-_0x102f12['pivot']['x'])*_0x448f01,(0xd55+-0x256d*-0x1+-0x2*0x1961+0.5-_0x102f12['pivot']['y'])*_0x28b95d,-0x1*0x147d+-0x1d*0xe6+0x2e8b));}else{const _0x5d1520=_0x68a671['vertexBuff'+'er'],_0x20f881=new Float32Array(_0x5d1520['lock']()),_0x31c70c=_0x102f12['pivot']['x'],_0x4df5cc=_0x102f12['pivot']['y'];_0x20f881[0x2574+-0x1dac+-0x18*0x53]=_0x448f01-_0x31c70c*_0x448f01,_0x20f881[-0x1a02*0x1+0x2131*-0x1+-0x1*-0x3b34]=0xf62*0x1+-0x847+-0x1*0x71b-_0x4df5cc*_0x28b95d,_0x20f881[-0xdaf+0xb0f*-0x1+0x18c6]=_0x448f01-_0x31c70c*_0x448f01,_0x20f881[-0x1*0x292+0x23c9+-0x212e]=_0x28b95d-_0x4df5cc*_0x28b95d,_0x20f881[-0x191a+-0x262+0x4*0x6e3]=-0x1367*-0x2+-0x1be9+-0xae5*0x1-_0x31c70c*_0x448f01,_0x20f881[0x47*-0x10+0xc9c*0x1+0x1*-0x81b]=-0xad*0x16+-0x138d+0x226b*0x1-_0x4df5cc*_0x28b95d,_0x20f881[-0xe94+0x5*-0x523+-0x1*-0x285b]=0x1*-0xf31+-0x57b*0x1+0x14ac-_0x31c70c*_0x448f01,_0x20f881[-0x12d8+-0x6*0x639+-0x3847*-0x1]=_0x28b95d-_0x4df5cc*_0x28b95d;let _0x537c9b=-0xd91+-0x3*-0x5b1+-0x381,_0x3612fe=0x1226+-0xf30+-0x2f5,_0x45acc0=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x5513d6=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x5513d6&&(_0x45acc0=_0x5513d6['rect'],_0x537c9b=this['_sprite']['atlas']['texture']['width'],_0x3612fe=this['_sprite']['atlas']['texture']['height']);}_0x20f881[-0x2293+-0xe26*0x2+0x3ee5*0x1]=(_0x45acc0['x']+_0x45acc0['z'])/_0x537c9b,_0x20f881[0x130*-0xc+0x86e+0x5d9]=-0x11a0+-0x101f*0x1+0x21c0-_0x45acc0['y']/_0x3612fe,_0x20f881[0x1c1d+0x223d+-0x9*0x6ec]=(_0x45acc0['x']+_0x45acc0['z'])/_0x537c9b,_0x20f881[0x78e*0x1+-0x1645*0x1+0xec6]=-0x3b*0x4e+-0xda6+0x1fa1*0x1-(_0x45acc0['y']+_0x45acc0['w'])/_0x3612fe,_0x20f881[-0x1629+-0x2523+0x3b62]=_0x45acc0['x']/_0x537c9b,_0x20f881[-0x1e2*-0x13+0xc0b+-0x2fba]=-0xf*-0x22+-0xafd*0x2+0x13fd-_0x45acc0['y']/_0x3612fe,_0x20f881[0x2e*0x9d+-0x1*0x15f3+-0x625]=_0x45acc0['x']/_0x537c9b,_0x20f881[0x26e*-0x7+-0x3b2+0x14d3]=-0x4bc+-0x14df+0x4*0x667-(_0x45acc0['y']+_0x45acc0['w'])/_0x3612fe,_0x5d1520['unlock']();const _0x138189=new T(-0xe*0x1f7+0x9c*-0xc+-0x22d2*-0x1-_0x31c70c*_0x448f01,0x1*0xeff+0x1*0x2dc+-0x11db-_0x4df5cc*_0x28b95d,0x2264*0x1+0x4a*0x2b+-0x2ed2),_0x5635e3=new T(_0x448f01-_0x31c70c*_0x448f01,_0x28b95d-_0x4df5cc*_0x28b95d,-0xea8+0x20c9+-0x165*0xd);_0x68a671['aabb']['setMinMax'](_0x138189,_0x5635e3),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x8*0x158+-0x805*-0x1+-0x12c4,0xf11+0x1abf+0x1*-0x29cf,0x8e1*0x1+0x7d3*0x2+-0x1886),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x101*0x1b+-0xe6b+-0xcb0,-0x100a+-0x1*0x2492+-0xd27*-0x4,-0x12b2*-0x2+0x127+-0xfd*0x27),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x15c5+-0x24aa+0x3a70);}['_updateSpr'+'ite'](){let _0x54ccf7=!(0x18c3+-0x1ce9+0x427),_0x5262dc=null;if(this['_targetAsp'+'ectRatio']=-(-0xc28+-0x2690+0x32b9),this['_sprite']&&this['_sprite']['atlas']){_0x5262dc=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x54ccf7=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x3d41fe=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x3d41fe==null?void(0x283*-0x1+0x21d5+0x13*-0x1a6):_0x3d41fe['rect']['w'])>-0x205*-0x10+-0xde5*-0x2+-0x3c1a&&(this['_targetAsp'+'ectRatio']=_0x3d41fe['rect']['z']/_0x3d41fe['rect']['w']);}this['mesh']=_0x54ccf7?_0x5262dc:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x23b6+0x29*-0x41+0x1*0x2e1f):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x2b4cbe){return _0x2b4cbe['center']['set'](-0x65d*-0x5+-0x1*-0x12ae+0x5d*-0x8b,-0x1*-0x15b+-0x4a*0x5c+-0x7*-0x39b,0x1e93+-0x6*0x1+-0xed*0x21),_0x2b4cbe['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x2*0xecb+-0x1988*-0x1+-0x371e+0.5),this['_outerScal'+'e']['y']*(0x200c+-0x1*-0x1b83+0x1*-0x3b8f+0.5),0x49c+0x22ea+0x1*-0x2786+0.001),_0x2b4cbe['setFromTra'+'nsformedAa'+'bb'](_0x2b4cbe,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x2b4cbe;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x2f2317=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x2f2317),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x2c8f4d){this['material']=_0x2c8f4d['resource'];}['_onMateria'+'lAdded'](_0x14e0d5){this['_system']['app']['assets']['off']('add:'+_0x14e0d5['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x14e0d5['id']&&this['_bindMater'+'ialAsset'](_0x14e0d5);}['_bindMater'+'ialAsset'](_0x5a4a6e){this['_entity']['enabled']&&(_0x5a4a6e['on']('load',this['_onMateria'+'lLoad'],this),_0x5a4a6e['on']('change',this['_onMateria'+'lChange'],this),_0x5a4a6e['on']('remove',this['_onMateria'+'lRemove'],this),_0x5a4a6e['resource']?this['_onMateria'+'lLoad'](_0x5a4a6e):this['_system']['app']['assets']['load'](_0x5a4a6e));}['_unbindMat'+'erialAsset'](_0xb3f45a){_0xb3f45a['off']('load',this['_onMateria'+'lLoad'],this),_0xb3f45a['off']('change',this['_onMateria'+'lChange'],this),_0xb3f45a['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x4626a1){this['_system']['app']['assets']['off']('add:'+_0x4626a1['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x4626a1['id']&&this['_bindTextu'+'reAsset'](_0x4626a1);}['_bindTextu'+'reAsset'](_0x55a289){this['_entity']['enabled']&&(_0x55a289['on']('load',this['_onTexture'+'Load'],this),_0x55a289['on']('change',this['_onTexture'+'Change'],this),_0x55a289['on']('remove',this['_onTexture'+'Remove'],this),_0x55a289['resource']?this['_onTexture'+'Load'](_0x55a289):this['_system']['app']['assets']['load'](_0x55a289));}['_unbindTex'+'tureAsset'](_0x149b20){_0x149b20['off']('load',this['_onTexture'+'Load'],this),_0x149b20['off']('change',this['_onTexture'+'Change'],this),_0x149b20['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x32ffc9){this['texture']=_0x32ffc9['resource'];}['_onTexture'+'Change'](_0x603d29){}['_onTexture'+'Remove'](_0x5f0015){}['_onSpriteA'+'ssetAdded'](_0x1f9d55){this['_system']['app']['assets']['off']('add:'+_0x1f9d55['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x1f9d55['id']&&this['_bindSprit'+'eAsset'](_0x1f9d55);}['_bindSprit'+'eAsset'](_0x5f5dd0){this['_entity']['enabled']&&(_0x5f5dd0['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5f5dd0['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x5f5dd0['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5f5dd0['resource']?this['_onSpriteA'+'ssetLoad'](_0x5f5dd0):this['_system']['app']['assets']['load'](_0x5f5dd0));}['_unbindSpr'+'iteAsset'](_0x451993){_0x451993['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x451993['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x451993['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x451993['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x451993['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x3345bb){if(!_0x3345bb||!_0x3345bb['resource'])this['sprite']=null;else{if(_0x3345bb['resource']['atlas'])this['sprite']=_0x3345bb['resource'];else{const _0x3ad2b3=_0x3345bb['data']['textureAtl'+'asAsset'];if(_0x3ad2b3){const _0x200e59=this['_system']['app']['assets'];_0x200e59['off']('load:'+_0x3ad2b3,this['_onTexture'+'AtlasLoad'],this),_0x200e59['once']('load:'+_0x3ad2b3,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x23a7ec){this['_onSpriteA'+'ssetLoad'](_0x23a7ec);}['_onSpriteA'+'ssetRemove'](_0x1679db){}['_bindSprit'+'e'](_0x2226cd){this['_evtSetMes'+'hes']=_0x2226cd['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x2226cd['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x2226cd['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x2226cd['atlas']&&_0x2226cd['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x1ca232){var _0x1b4b0a;(_0x1b4b0a=this['_evtSetMes'+'hes'])==null||_0x1b4b0a['off'](),this['_evtSetMes'+'hes']=null,_0x1ca232['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x1ca232['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x1ca232['atlas']&&_0x1ca232['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x204b+0xef8+0x1153,this['_sprite']['frameKeys']['length']-(0x258a+0x16ff+-0x3c88))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x35bd6d){const _0x28f723=this['_spriteAss'+'et'];_0x28f723 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x28f723):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x28f723));}['onEnable'](){if(this['_materialA'+'sset']){const _0x3cc173=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x3cc173&&_0x3cc173['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x3cc173);}if(this['_textureAs'+'set']){const _0xfee9ee=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0xfee9ee&&_0xfee9ee['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0xfee9ee);}if(this['_spriteAss'+'et']){const _0x2cf003=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x2cf003&&_0x2cf003['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x2cf003);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x3058bb){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x3058bb,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x3058bb;let _0x2a11cc=-0xcf*-0x15+0x35*-0x3+-0x105c*0x1;if(this['_element']['maskedBy']&&(_0x2a11cc=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x402dd5=new qs({'ref':_0x2a11cc+(0x1fd3*0x1+0x119*-0x1d+0x3),'func':Ch,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x402dd5,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x402dd5;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1ae+-0x8*-0x1d3+0x3*-0x44e]=jl['r'],this['_colorUnif'+'orm'][0x44e+-0x1*0xcdb+-0x2da*-0x3]=jl['g'],this['_colorUnif'+'orm'][-0xd35+-0x1781+-0x178*-0x19]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x4949df){this['_color']===_0x4949df&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x45fb8a,g:_0x170c0a,b:_0x4be9ad}=_0x4949df;(this['_color']['r']!==_0x45fb8a||this['_color']['g']!==_0x170c0a||this['_color']['b']!==_0x4be9ad)&&(this['_color']['r']=_0x45fb8a,this['_color']['g']=_0x170c0a,this['_color']['b']=_0x4be9ad,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x328aae){_0x328aae!==this['_color']['a']&&(this['_color']['a']=_0x328aae,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x328aae)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x328aae);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x303f2c){this['_rect']===_0x303f2c&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x382fad,_0x317f6a,_0x16d776,_0x482e56;_0x303f2c instanceof Q?(_0x382fad=_0x303f2c['x'],_0x317f6a=_0x303f2c['y'],_0x16d776=_0x303f2c['z'],_0x482e56=_0x303f2c['w']):(_0x382fad=_0x303f2c[0x607+0x2b*0x6d+-0x1*0x1856],_0x317f6a=_0x303f2c[-0x15fa*0x1+0x5*-0x4af+0x2d66],_0x16d776=_0x303f2c[0x198*-0xc+0xb95+-0x1*-0x78d],_0x482e56=_0x303f2c[-0x16*-0x185+-0x8*-0x335+-0x3b13]),!(_0x382fad===this['_rect']['x']&&_0x317f6a===this['_rect']['y']&&_0x16d776===this['_rect']['z']&&_0x482e56===this['_rect']['w'])&&(this['_rect']['set'](_0x382fad,_0x317f6a,_0x16d776,_0x482e56),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0xdd*-0x14+0x1793+-0x64f):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x2792d1=this['_system']['app']['assets'];_0x2792d1['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x5d5786=_0x2792d1['get'](this['_materialA'+'sset']);_0x5d5786&&(_0x5d5786['off']('load',this['_onMateria'+'lLoad'],this),_0x5d5786['off']('change',this['_onMateria'+'lChange'],this),_0x5d5786['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x10f596){if(this['_material']!==_0x10f596){if(!_0x10f596){const _0x483b83=this['_element']['_isScreenS'+'pace']();this['mask']?_0x10f596=_0x483b83?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x10f596=_0x483b83?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x10f596,this['_materialA'+'sset']){const _0x552366=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x552366||_0x552366['resource']!==_0x10f596)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x10f596&&(this['_renderabl'+'e']['setMateria'+'l'](_0x10f596),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x513765){const _0x4b8ca3=this['_system']['app']['assets'];let _0x45ee9d=_0x513765;if(_0x513765 instanceof le&&(_0x45ee9d=_0x513765['id']),this['_materialA'+'sset']!==_0x45ee9d){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x45ee9d,this['_materialA'+'sset']){const _0x2cbeda=_0x4b8ca3['get'](this['_materialA'+'sset']);_0x2cbeda?this['_bindMater'+'ialAsset'](_0x2cbeda):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x45ee9d,_0x4b8ca3['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x45ee9d;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x4e931b){if(this['_texture']!==_0x4e931b){if(this['_textureAs'+'set']){const _0x3a90b1=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x3a90b1&&_0x3a90b1['resource']!==_0x4e931b&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x4e931b,_0x4e931b){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x3b5278=this['_texture']['width']/this['_texture']['height'];_0x3b5278!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x3b5278,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x285+-0x7*-0x4b7+0x2385*-0x1),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x1f4d98){const _0x2d5e2d=this['_system']['app']['assets'];let _0x5824eb=_0x1f4d98;if(_0x1f4d98 instanceof le&&(_0x5824eb=_0x1f4d98['id']),this['_textureAs'+'set']!==_0x5824eb){if(this['_textureAs'+'set']){_0x2d5e2d['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x4483c9=_0x2d5e2d['get'](this['_textureAs'+'set']);_0x4483c9&&(_0x4483c9['off']('load',this['_onTexture'+'Load'],this),_0x4483c9['off']('change',this['_onTexture'+'Change'],this),_0x4483c9['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x5824eb,this['_textureAs'+'set']){const _0x393d09=_0x2d5e2d['get'](this['_textureAs'+'set']);_0x393d09?this['_bindTextu'+'reAsset'](_0x393d09):(this['texture']=null,_0x2d5e2d['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x5e6f18){const _0x322817=this['_system']['app']['assets'];let _0x3ad05a=_0x5e6f18;if(_0x5e6f18 instanceof le&&(_0x3ad05a=_0x5e6f18['id']),this['_spriteAss'+'et']!==_0x3ad05a){if(this['_spriteAss'+'et']){_0x322817['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x126629=_0x322817['get'](this['_spriteAss'+'et']);_0x126629&&this['_unbindSpr'+'iteAsset'](_0x126629);}if(this['_spriteAss'+'et']=_0x3ad05a,this['_spriteAss'+'et']){const _0x19621b=_0x322817['get'](this['_spriteAss'+'et']);_0x19621b?this['_bindSprit'+'eAsset'](_0x19621b):(this['sprite']=null,_0x322817['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x3ad05a);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x3a5a7d){if(this['_sprite']!==_0x3a5a7d){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x29cd50=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x29cd50&&_0x29cd50['resource']!==_0x3a5a7d&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x3a5a7d,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0xc*0x30a+-0xe80+0x32f8,this['_sprite']['frameKeys']['length']-(-0x191f+0x1be2+0x1*-0x2c2))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x4ea3dd){const _0x31b86c=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x4ea3dd,0x6*-0x1+0x2707+0x5*-0x7cd,this['_sprite']['frameKeys']['length']-(-0x19*0x3+-0x1a81+0x1acd)):this['_spriteFra'+'me']=_0x4ea3dd,this['_spriteFra'+'me']!==_0x31b86c&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x4ea3dd);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x268e01){this['_renderabl'+'e']['setMesh'](_0x268e01),this['_defaultMe'+'sh']===_0x268e01?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x1ef196){this['_mask']!==_0x1ef196&&(this['_mask']=_0x1ef196,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x5d537a){this['_pixelsPer'+'Unit']!==_0x5d537a&&(this['_pixelsPer'+'Unit']=_0x5d537a,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x14845f){super(),this['_app']=_0x14845f,_0x14845f['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1*-0x12cd+0x283*-0x1+-0x1049),this['_disableLo'+'calization']=!(0x1b0f*-0x1+0x183c+0x2d4*0x1),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x2577c9){const _0x158406=_0x2577c9 instanceof le?_0x2577c9['id']:_0x2577c9;this['_defaultAs'+'set']!==_0x158406&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x158406,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x3d397c){const _0x1db90e=_0x3d397c instanceof le?_0x3d397c['id']:_0x3d397c;this['_localized'+'Asset']!==_0x1db90e&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x1db90e,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x1a2c1f){this['_autoLoad']!==_0x1a2c1f&&(this['_autoLoad']=_0x1a2c1f,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x4bfeb7){this['_disableLo'+'calization']!==_0x4bfeb7&&(this['_disableLo'+'calization']=_0x4bfeb7,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x514d05=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x514d05?this['_onDefault'+'AssetAdd'](_0x514d05):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x34bac6=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x34bac6&&(_0x34bac6['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x34bac6['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x34bac6['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x498ddf){this['_defaultAs'+'set']===_0x498ddf['id']&&(_0x498ddf['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x498ddf['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x498ddf['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x57a3bf){this['_defaultAs'+'set']===_0x57a3bf['id']&&(_0x57a3bf['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x57a3bf['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0xf6a88=this['_app']['assets']['get'](this['_localized'+'Asset']);_0xf6a88&&(_0xf6a88['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0xf6a88['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0xf6a88['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0xf6a88['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0xf6a88):this['_app']['assets']['load'](_0xf6a88));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x2b0101=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x2b0101&&(_0x2b0101['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x2b0101['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x2b0101['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x310ff4){this['_localized'+'Asset']===_0x310ff4['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x438a5e){this['fire']('load',_0x438a5e);}['_onLocaliz'+'edAssetCha'+'nge'](_0x431d94,_0x177b1d,_0xc41ece,_0x400506){this['fire']('change',_0x431d94,_0x177b1d,_0xc41ece,_0x400506);}['_onLocaliz'+'edAssetRem'+'ove'](_0x101728){this['_localized'+'Asset']===_0x101728['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x101728);}['_onLocaleA'+'dd'](_0x4387eb,_0x2eab84){this['_app']['i18n']['locale']===_0x4387eb&&this['_onSetLoca'+'le'](_0x4387eb);}['_onLocaleR'+'emove'](_0x4b499b,_0x36afd2){this['_app']['i18n']['locale']===_0x4b499b&&this['_onSetLoca'+'le'](_0x4b499b);}['_onSetLoca'+'le'](_0x12c77b){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x3e38a6=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x3e38a6||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x5c55c6=_0x3e38a6['getLocaliz'+'edAssetId'](_0x12c77b);if(!_0x5c55c6){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x5c55c6;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=0x2*0xc5+-0x15ea+0x1460,Kn=-0x102f+-0x1ef7+-0x2f27*-0x1,of=0xac*0x31+0x4*0x9a6+-0x4782,ix=-0x61*-0x62+-0x130a+-0x1215,lf=0x51e+-0x1ac6+0x56b*0x4,hf=0x1232*-0x1+-0x1f*-0xcd+-0x34e*0x2,cf=-0x3*-0x792+-0x18de*-0x1+-0x1*0x2f8e,df=-0x200f+0x1c3d+0x3d9,dg=-0xd16*-0x2+0x639+-0x205d,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x59a87e){this['_symbols']=_0x59a87e,this['_index']=0x1c41+-0x2694+-0x371*-0x3,this['_last']=-0x1ad4+0x1*0xbaa+0xf2a,this['_cur']=this['_symbols']['length']>0x92*-0x3d+0x3f1*0x8+0x8b*0x6?this['_symbols'][0x3d*-0x6c+-0x1*0x248f+0x1*0x3e4b]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x5bb256=this['_read']();for(;_0x5bb256===dg;)_0x5bb256=this['_read']();return _0x5bb256!==ho&&_0x5bb256!==Kn&&(this['_last']=this['_index']),_0x5bb256;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x4298b2=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x28407c=this['read'](),_0x5a9ce5='';for(;_0x5a9ce5+=(_0x5a9ce5['length']>0x173*0xc+-0x1abc+0x5c*0x1a?'\x0a':'')+_0x4298b2[_0x28407c]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x28407c===ho||_0x28407c===Kn);)_0x28407c=this['read']();return _0x5a9ce5;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0xa3d*-0x1+0x692*0x5+-0x2b17*0x1?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0x1a7b*-0x1+0x430*0x1+0x164b?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(0x2d8*0x2+0x197f+0xf97*-0x2);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x197599){return _0x197599['length']===0xeb7*-0x2+0x1*-0x213b+0x3eaa&&_0x197599['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x58a20a){this['_buf']['push'](_0x58a20a);}}class bR{constructor(_0x51cfa6){this['_scanner']=new vR(_0x51cfa6),this['_error']=null;}['parse'](_0x3e22e2,_0x5c00b1){for(;;)switch(this['_scanner']['read']()){case ho:return!(-0xef*-0x25+0xc12+0x2e9d*-0x1);case Kn:return!(-0x22df+-0x1623*0x1+0x3903);case of:Array['prototype']['push']['apply'](_0x3e22e2,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x3e22e2,_0x5c00b1))return!(-0x11b*0x2+-0x1*-0x1885+-0x2*0xb27);break;default:return!(-0x3*-0xbfb+0x1*-0x551+-0x1e9f);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x21d01d,_0x575b67){let _0x239bf7=this['_scanner']['read']();if(_0x239bf7!==df)return this['_error']='expected\x20i'+'dentifier',!(0x4*-0x535+0x562+0xf73);const _0x103b6c=this['_scanner']['buf']()['join']('');if(_0x103b6c[0x208d+0x1*-0x18a7+0x3f3*-0x2]==='/'){for(let _0x356a2d=_0x575b67['length']-(0x1*-0x5a1+0x4c0+0xe2);_0x356a2d>=-0x36b+-0x4d4+0x83f;--_0x356a2d)if(_0x103b6c==='/'+_0x575b67[_0x356a2d]['name']&&_0x575b67[_0x356a2d]['end']===null)return _0x575b67[_0x356a2d]['end']=_0x21d01d['length'],_0x239bf7=this['_scanner']['read'](),_0x239bf7!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x5*0x39b+0xea+0x111e)):!(-0x1e46+-0x1b4c*-0x1+-0xfe*-0x3);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x9cd*-0x1+0xccd+0x485*-0x5);}const _0x294652={'name':_0x103b6c,'value':null,'attributes':{},'start':_0x21d01d['length'],'end':null};if(_0x239bf7=this['_scanner']['read'](),_0x239bf7===hf){if(_0x239bf7=this['_scanner']['read'](),_0x239bf7!==cf)return this['_error']='expected\x20s'+'tring',!(0x1889+-0x1*-0x6a3+-0x1f2b);_0x294652['value']=this['_scanner']['buf']()['join'](''),_0x239bf7=this['_scanner']['read']();}for(;;){switch(_0x239bf7){case lf:return _0x575b67['push'](_0x294652),!(-0xd55+0x4b8+0x89d);case df:{const _0x39631f=this['_scanner']['buf']()['join']('');if(_0x239bf7=this['_scanner']['read'](),_0x239bf7!==hf)return this['_error']='expected\x20e'+'quals',!(-0x1581+-0x136*0x2+-0x3fd*-0x6);if(_0x239bf7=this['_scanner']['read'](),_0x239bf7!==cf)return this['_error']='expected\x20s'+'tring',!(-0x1c06+0x1d95*-0x1+0x4*0xe67);const _0x5a5296=this['_scanner']['buf']()['join']('');_0x294652['attributes'][_0x39631f]=_0x5a5296;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x3*0x91d+0x250c+-0x9b4);}_0x239bf7=this['_scanner']['read']();}}}function rx(_0x4454d1,_0x26d64e){for(const _0x3b22ca in _0x26d64e){if(!_0x26d64e['hasOwnProp'+'erty'](_0x3b22ca))continue;const _0xc66736=_0x26d64e[_0x3b22ca];_0xc66736 instanceof Object?(_0x4454d1['hasOwnProp'+'erty'](_0x3b22ca)||(_0x4454d1[_0x3b22ca]={}),rx(_0x4454d1[_0x3b22ca],_0x26d64e[_0x3b22ca])):_0x4454d1[_0x3b22ca]=_0xc66736;}}function wR(_0x49f387){if(_0x49f387['length']===-0x4de*0x6+-0x1*0x1eb7+0x3*0x13f9)return null;const _0x464843={};for(let _0x239549=0x35*0x20+0x2fc*-0xb+0xac*0x27;_0x239549<_0x49f387['length'];++_0x239549){const _0x4d0269=_0x49f387[_0x239549],_0x1f2c7f={};_0x1f2c7f[_0x4d0269['name']]={'value':_0x4d0269['value'],'attributes':_0x4d0269['attributes']},rx(_0x464843,_0x1f2c7f);}return _0x464843;}function TR(_0x374bca,_0x4d25fc){if(_0x374bca['length']===-0x20d3+-0x45a+-0x133*-0x1f)return null;const _0xdde1ff={};for(let _0x5e6ee1=0x1*0x12b9+0x1984+-0x2c3d;_0x5e6ee1<_0x374bca['length'];++_0x5e6ee1){const _0x184e2d=_0x374bca[_0x5e6ee1];_0xdde1ff['hasOwnProp'+'erty'](_0x184e2d['start'])?_0xdde1ff[_0x184e2d['start']]['open']===null?_0xdde1ff[_0x184e2d['start']]['open']=[_0x184e2d]:_0xdde1ff[_0x184e2d['start']]['open']['push'](_0x184e2d):_0xdde1ff[_0x184e2d['start']]={'open':[_0x184e2d],'close':null},_0xdde1ff['hasOwnProp'+'erty'](_0x184e2d['end'])?_0xdde1ff[_0x184e2d['end']]['close']===null?_0xdde1ff[_0x184e2d['end']]['close']=[_0x184e2d]:_0xdde1ff[_0x184e2d['end']]['close']['push'](_0x184e2d):_0xdde1ff[_0x184e2d['end']]={'open':null,'close':[_0x184e2d]};}let _0x143b5b=[];function _0x49a2f3(_0x51af9b){_0x143b5b=_0x143b5b['filter'](_0x54374c=>_0x51af9b['find'](_0x2f88ce=>_0x2f88ce===_0x54374c)===void(-0x682+-0x1ca8+0x283*0xe));}function _0x4b8977(_0x218f8c){for(let _0x4c1b15=-0xcf*-0x15+0x9f6+-0x1af1;_0x4c1b15<_0x218f8c['length'];++_0x4c1b15)_0x143b5b['push'](_0x218f8c[_0x4c1b15]);}const _0x224306=Object['keys'](_0xdde1ff)['sort']((_0x72752b,_0x54d80a)=>_0x72752b-_0x54d80a),_0x5c432a=[];for(let _0x1b6714=-0x66*-0x35+0xb*-0x228+0x6f*0x6;_0x1b6714<_0x224306['length'];++_0x1b6714){const _0xd71374=_0xdde1ff[_0x224306[_0x1b6714]];_0xd71374['close']!==null&&_0x49a2f3(_0xd71374['close']),_0xd71374['open']!==null&&_0x4b8977(_0xd71374['open']),_0x5c432a['push']({'start':_0x224306[_0x1b6714],'tags':wR(_0x143b5b)});}const _0x19b154=[];let _0x32ae4a=null;for(let _0x2c484b=0x7*-0x419+-0xea0+0x2b4f;_0x2c484b<_0x5c432a['length'];++_0x2c484b){const _0x5d1149=_0x5c432a[_0x2c484b];for(;_0x19b154['length']<_0x5d1149['start'];)_0x19b154['push'](_0x32ae4a?_0x32ae4a['tags']:null);_0x32ae4a=_0x5d1149;}for(;_0x19b154['length']<_0x4d25fc;)_0x19b154['push'](null);return _0x19b154;}function AR(_0x110804){const _0x1010b8=new bR(_0x110804),_0x1e1c88=[],_0xb39b85=[];if(!_0x1010b8['parse'](_0x1e1c88,_0xb39b85))return console['warn'](_0x1010b8['error']()),{'symbols':_0x110804,'tags':null};const _0x3172b9=_0xb39b85['find'](_0x3aba9b=>_0x3aba9b['end']===null);if(_0x3172b9)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x3172b9['name']+'\x27'),{'symbols':_0x110804,'tags':null};const _0x47ad31=TR(_0xb39b85,_0x1e1c88['length']);return{'symbols':_0x1e1c88,'tags':_0x47ad31};}class ER{static['evaluate'](_0x3434c2){return AR(_0x3434c2);}}class CR{constructor(){this['count']=0x96*0x2d+0x752+-0x7*0x4d0,this['quad']=-0x1d9e*0x1+0x1*-0x133d+-0x17b*-0x21,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x10d259,_0x2f9c99){const _0x4c3f12=new Ie(_0x10d259);return _0x4c3f12['setPositio'+'ns'](_0x2f9c99['positions']),_0x4c3f12['setNormals'](_0x2f9c99['normals']),_0x4c3f12['setColors3'+'2'](_0x2f9c99['colors']),_0x4c3f12['setUvs'](0xed2+0x1*-0x357+-0xb7b,_0x2f9c99['uvs']),_0x4c3f12['setIndices'](_0x2f9c99['indices']),_0x4c3f12['setVertexS'+'tream'](Po,_0x2f9c99['outlines'],0x26f0+-0x3d7*-0x2+0x7b*-0x61,void(-0x53f*-0x2+-0x163c+0xbbe),Ee,!(0x956+0x2b*-0xd6+0x1a9d)),_0x4c3f12['setVertexS'+'tream'](Ro,_0x2f9c99['shadows'],0x1a5*-0x5+0x194f*-0x1+0x218b,void(0xac4+0x16cc+-0x2190),Ee,!(-0x45b*0x6+0x60*0x5a+-0x79d*0x1)),_0x4c3f12['update'](),_0x4c3f12;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,DR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class OR{constructor(_0x381745){this['_element']=_0x381745,this['_system']=_0x381745['system'],this['_entity']=_0x381745['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x2707+-0x2007+0x470e),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0x13*-0x1bf+-0x2366+0x23a,0x1934+0x14f*-0x16+0x397,-0x534+-0x3*0x1c1+-0x14f*-0x8,-0x1*-0x1c5e+-0xda*-0x16+-0x2f19),this['_colorUnif'+'orm']=new Float32Array(-0x11cf+0x16*-0x18a+0x33ae),this['_spacing']=-0x703+0x12aa+-0xd5*0xe,this['_fontSize']=-0xf96+0xa9*0x39+0x1*-0x15eb,this['_fontMinY']=0x1eec+-0x1205+0x9*-0x16f,this['_fontMaxY']=-0x58a*-0x1+0x1e85*0x1+0x11*-0x21f,this['_originalF'+'ontSize']=0x1681+0x610+-0x1c71,this['_maxFontSi'+'ze']=0x5cb*0x5+0x745*0x1+0x2*-0x120e,this['_minFontSi'+'ze']=-0x282*-0x7+0x4f*0x3b+0x1*-0x23bb,this['_autoFitWi'+'dth']=!(-0x3*-0x283+0x2371+-0x2af9),this['_autoFitHe'+'ight']=!(-0x6*0x44b+0x1c0f+-0x15*0x1c),this['_maxLines']=-(-0x1275+-0x1*0x22af+-0x38b*-0xf),this['_lineHeigh'+'t']=-0x49*0x14+0x35*0x7f+-0x1477*0x1,this['_scaledLin'+'eHeight']=0x2204+0x134f*0x1+-0x3533,this['_wrapLines']=!(-0x253a+0x23ad*0x1+0x18e),this['_drawOrder']=0xf1+0x11cd*-0x1+-0x4*-0x437,this['_alignment']=new W(0x1*-0xb+-0x363+0x1*0x36e+0.5,-0x861+0x1*0x232f+0xd67*-0x2+0.5),this['_autoWidth']=!(0x4*0x97+-0x1*-0x129e+-0x14fa),this['_autoHeigh'+'t']=!(-0x14fb+0x8*0x2d6+-0x1b5*0x1),this['width']=0x1*0x7c1+-0xdc+-0x6e5,this['height']=-0x602+0x2b*0xe3+0x201f*-0x1,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0xefc+0x1*0x15f6+-0x24f2),this['_aabb']=new _e(),this['_noResize']=!(0x2*0x647+0xffb+-0x53*0x58),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x1342+0xc6d+-0x1fae),this['_unicodeCo'+'nverter']=!(-0x1352+-0x1*-0x2443+-0x10f0),this['_rtl']=!(-0x39e+0x1e7b+-0x1adc),this['_outlineCo'+'lor']=new Y(0x1*-0x1f4b+0x1c8*0x7+0x12d3,-0xb2+-0x6cb+0x77d,-0x96f+-0x2*-0x623+-0x2d7,-0x1381*0x1+-0x649*0x3+0x265d),this['_outlineCo'+'lorUniform']=new Float32Array(0x43+0x134a+-0x683*0x3),this['_outlineTh'+'icknessSca'+'le']=0x4*-0x322+0xdf*-0x1+0x2f*0x49+0.2,this['_outlineTh'+'ickness']=-0x215*-0xf+-0x2*-0x19f+-0x161*0x19,this['_shadowCol'+'or']=new Y(0x84b+0x1a8f+-0x6*0x5cf,0xb*-0x2b3+0x11d+0x1f*0xec,0xc*-0x2eb+0x1f88*-0x1+0x428c,-0x1*0x1fb2+0x3*0x5ee+0x4a3*0x3),this['_shadowCol'+'orUniform']=new Float32Array(-0x1*0x7b1+0x1*-0x1777+-0xe4*-0x23),this['_shadowOff'+'setScale']=0x1*0x13b1+-0x2*-0x1093+0x1*-0x34d7+0.005,this['_shadowOff'+'set']=new W(0xe3a*0x1+-0x181+-0xcb9,-0x1*-0x1111+-0x1*0x1655+0x544),this['_shadowOff'+'setUniform']=new Float32Array(-0x2492+-0x1*-0x1f28+0x56c),this['_enableMar'+'kup']=!(-0x5*-0x2dd+0x1b11+0x63*-0x6b),this['_onScreenC'+'hange'](this['_element']['screen']),_0x381745['on']('resize',this['_onParentR'+'esize'],this),_0x381745['on']('set:screen',this['_onScreenC'+'hange'],this),_0x381745['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x381745['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x381745['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x1eaf*-0x1+0x94c+0x1563,this['_rangeEnd']=-0x2092+0x7b2+-0x31c*-0x8;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x44ee3f,_0x5e63be){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x39939f){_0x39939f?this['_updateMat'+'erial'](_0x39939f['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x287*-0xb+0x4*-0x8bd+0x115*0x3a));}['_onScreenS'+'paceChange'](_0xd54ff0){this['_updateMat'+'erial'](_0xd54ff0);}['_onDrawOrd'+'erChange'](_0xccc316){if(this['_drawOrder']=_0xccc316,this['_model']){for(let _0x1c1e28=-0x13*-0x2f+0x83d+-0xbba,_0x2059c5=this['_model']['meshInstan'+'ces']['length'];_0x1c1e28<_0x2059c5;_0x1c1e28++)this['_model']['meshInstan'+'ces'][_0x1c1e28]['drawOrder']=_0xccc316;}}['_onPivotCh'+'ange'](_0x232911){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0xd7c602){if(this['_i18nKey']){if(this['fontAsset']){const _0x2d0bbf=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x2d0bbf||!_0x2d0bbf['resource']||_0x2d0bbf['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0xc9133f,_0x5a7a76){this['_i18nKey']&&_0x5a7a76[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x4d0493){if(this['unicodeCon'+'verter']){const _0x54b457=this['_system']['getUnicode'+'Converter']();_0x54b457?_0x4d0493=_0x54b457(_0x4d0493):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x4d0493&&(this['_font']&&this['_updateTex'+'t'](_0x4d0493),this['_text']=_0x4d0493);}['_updateTex'+'t'](_0x26cf6c){let _0x1eeb88;if(_0x26cf6c===void(0x236f+0x1b51+0xfb0*-0x4)&&(_0x26cf6c=this['_text']),this['_symbols']=ah['getSymbols'](_0x26cf6c['normalize']?_0x26cf6c['normalize']('NFC'):_0x26cf6c),this['_symbols']['length']===0x216e+-0x1*0x1f2a+-0x4*0x91&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x4df0de=ER['evaluate'](this['_symbols']);this['_symbols']=_0x4df0de['symbols'],_0x1eeb88=_0x4df0de['tags']||[];}if(this['_rtlReorde'+'r']){const _0x171138=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x171138){const _0x10153e=_0x171138(this['_symbols']);this['_rtl']=_0x10153e['rtl'],this['_symbols']=_0x10153e['mapping']['map'](function(_0x384d6a){return this['_symbols'][_0x384d6a];},this),_0x1eeb88&&(_0x1eeb88=_0x10153e['mapping']['map'](_0x86612f=>_0x1eeb88[_0x86612f]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x2*0x5fb+-0xb13+0x170a);const _0x5347e2=(_0x7f303f,_0x415b39)=>_0x7f303f['toString'](!(0xbff+-0x1297*-0x1+-0x1d*0x10e))['toLowerCas'+'e']()+':'+_0x415b39['toFixed'](-0x19*-0x89+-0x20ea+0x138b),_0x2d12c3=(_0x24f500,_0x207982)=>_0x24f500['toString'](!(-0xef*0x1+-0x13*-0x2c+-0x255))['toLowerCas'+'e']()+':'+_0x207982['x']['toFixed'](0x5b3+-0x1bcc*-0x1+0x217d*-0x1)+':'+_0x207982['y']['toFixed'](0x1*-0x1723+-0x14c3+0x15f4*0x2);if(_0x1eeb88){const _0x2f0882={},_0x50e24a={},_0x5e29d3={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x1953+0xec9+0xb89*0x1)),Math['round'](this['_color']['g']*(-0x137*-0x2+-0x20bb+-0x4*-0x7d3)),Math['round'](this['_color']['b']*(0x1b5*0x11+0x5*0xce+-0x200c))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x31*-0x45+-0x1*0x1bd9+0x2a0d)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x1*-0x1f05+-0x1459*0x1+-0x9ad)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x1428+0x11*-0x211+0x3848)),Math['round'](this['_outlineCo'+'lor']['a']*(0x49d+-0x19b7+0x1619)),Math['round'](this['_outlineTh'+'ickness']*(-0x12d3+-0x10a0*-0x2+-0xd6e*0x1))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0xc2f+0x26d6+0x335*-0x8)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1b91*-0x1+-0x1c*-0x156+0x1*-0x3ffa)),Math['round'](this['_shadowCol'+'or']['b']*(-0x2*0xdb7+-0xd81*0x1+0x29ee)),Math['round'](this['_shadowCol'+'or']['a']*(-0x2c6+0x1e92+-0x1acd)),Math['round'](this['_shadowOff'+'set']['x']*(-0x31d*0x5+0xdb7*-0x1+0x1dc7)),Math['round'](this['_shadowOff'+'set']['y']*(-0xc5e+-0x255c+0x3239))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x2f0882[this['_color']['toString'](!(-0x323*-0xb+-0x1*0x919+-0x1967))['toLowerCas'+'e']()]=0x1265*-0x1+-0x1*-0xed4+-0x53*-0xb,_0x50e24a[_0x5347e2(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x1be5+0x1b97+-0x4*0xddf,_0x5e29d3[_0x2d12c3(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x1ce4+0x1925+-0x3609;for(let _0x51e0c9=0x6b0+-0x25ac+-0x52a*-0x6,_0x3d6c1e=this['_symbols']['length'];_0x51e0c9<_0x3d6c1e;++_0x51e0c9){const _0x323968=_0x1eeb88[_0x51e0c9];let _0x5681e1=-0x1e24+0x1fcf+-0x1ab*0x1;if(_0x323968&&_0x323968['color']&&_0x323968['color']['value']){const _0x2773e0=_0x323968['color']['value'];if(_0x2773e0['length']===0x151d+0x1*0x17e3+-0x2cf9&&_0x2773e0[0x68e*0x1+-0x1b47+0x14b9]==='#'){const _0x5d9436=_0x2773e0['substring'](0x10*0x1f7+0x1db9+-0x98*0x67)['toLowerCas'+'e']();_0x2f0882['hasOwnProp'+'erty'](_0x5d9436)?_0x5681e1=_0x2f0882[_0x5d9436]:/^[0-9a-f]{6}$/['test'](_0x5d9436)&&(_0x5681e1=this['_colorPale'+'tte']['length']/(0x1*-0x2a4+-0xa*0x82+-0x7bb*-0x1),_0x2f0882[_0x5d9436]=_0x5681e1,this['_colorPale'+'tte']['push'](parseInt(_0x5d9436['substring'](-0x17ac+0x5*-0x295+-0x2495*-0x1,-0x1*-0xd71+-0x772*0x1+-0x5fd),-0x197c+0x371*0x2+0x12aa)),this['_colorPale'+'tte']['push'](parseInt(_0x5d9436['substring'](-0xa*0x227+0x4*0x16a+-0x7f*-0x20,-0x10e2+0x104b+0x9b),-0x1*-0x643+-0xd*0x17b+0xd0c)),this['_colorPale'+'tte']['push'](parseInt(_0x5d9436['substring'](0x25ae+0x764+-0x2d0e*0x1,-0x333+-0xc64+-0x1*-0xf9d),-0xf5d+-0xb2f+0x1a9c)));}}this['_symbolCol'+'ors']['push'](_0x5681e1);let _0x1f219a=0xd22+0x1ea8+-0x2bca;if(_0x323968&&_0x323968['outline']&&(_0x323968['outline']['attributes']['color']||_0x323968['outline']['attributes']['thickness'])){let _0x738fb4=_0x323968['outline']['attributes']['color']?mg['fromString'](_0x323968['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x3e7486=Number(_0x323968['outline']['attributes']['thickness']);(Number['isNaN'](_0x738fb4['r'])||Number['isNaN'](_0x738fb4['g'])||Number['isNaN'](_0x738fb4['b'])||Number['isNaN'](_0x738fb4['a']))&&(_0x738fb4=this['_outlineCo'+'lor']),Number['isNaN'](_0x3e7486)&&(_0x3e7486=this['_outlineTh'+'ickness']);const _0x186618=_0x5347e2(_0x738fb4,_0x3e7486);_0x50e24a['hasOwnProp'+'erty'](_0x186618)?_0x1f219a=_0x50e24a[_0x186618]:(_0x1f219a=this['_outlinePa'+'lette']['length']/(0x1efe+0x231+-0x212a),_0x50e24a[_0x186618]=_0x1f219a,this['_outlinePa'+'lette']['push'](Math['round'](_0x738fb4['r']*(0x153*0x4+-0x5e3*-0x3+-0x15f6)),Math['round'](_0x738fb4['g']*(-0x113f+0x13f2+-0x4*0x6d)),Math['round'](_0x738fb4['b']*(0x7*-0x1f9+0x1*-0x1605+-0x1*-0x24d3)),Math['round'](_0x738fb4['a']*(0x14ab+0x6a0+-0x1a4c)),Math['round'](_0x3e7486*(0x15b*-0x1+-0x1d*0xe8+-0x1ca2*-0x1))));}this['_symbolOut'+'lineParams']['push'](_0x1f219a);let _0x235392=0x1*-0x10eb+-0x17d4+0x28bf;if(_0x323968&&_0x323968['shadow']&&(_0x323968['shadow']['attributes']['color']||_0x323968['shadow']['attributes']['offset']||_0x323968['shadow']['attributes']['offsetX']||_0x323968['shadow']['attributes']['offsetY'])){let _0x674f3b=_0x323968['shadow']['attributes']['color']?mg['fromString'](_0x323968['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x535550=Number(_0x323968['shadow']['attributes']['offset']),_0x2160bd=Number(_0x323968['shadow']['attributes']['offsetX']),_0x3236c0=Number(_0x323968['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x674f3b['r'])||Number['isNaN'](_0x674f3b['g'])||Number['isNaN'](_0x674f3b['b'])||Number['isNaN'](_0x674f3b['a']))&&(_0x674f3b=this['_shadowCol'+'or']);const _0x51b68b=FR['set'](Number['isNaN'](_0x2160bd)?Number['isNaN'](_0x535550)?this['_shadowOff'+'set']['x']:_0x535550:_0x2160bd,Number['isNaN'](_0x3236c0)?Number['isNaN'](_0x535550)?this['_shadowOff'+'set']['y']:_0x535550:_0x3236c0),_0x6fcdb9=_0x2d12c3(_0x674f3b,_0x51b68b);_0x5e29d3['hasOwnProp'+'erty'](_0x6fcdb9)?_0x235392=_0x5e29d3[_0x6fcdb9]:(_0x235392=this['_shadowPal'+'ette']['length']/(-0x2d*0x8d+0x1681+-0x5*-0x76),_0x5e29d3[_0x6fcdb9]=_0x235392,this['_shadowPal'+'ette']['push'](Math['round'](_0x674f3b['r']*(0x13b5+-0x1*0x14f6+0x240)),Math['round'](_0x674f3b['g']*(0x1*0x2216+0x1687+-0x379e)),Math['round'](_0x674f3b['b']*(-0x12*-0x15f+0x14a0+-0x2c4f)),Math['round'](_0x674f3b['a']*(0xc49+-0x142b+-0x1*-0x8e1)),Math['round'](_0x51b68b['x']*(0x6*0x37e+0x10a*-0x2+-0x1261*0x1)),Math['round'](_0x51b68b['y']*(0xbba+-0x15*-0x99+-0x17c8))));}this['_symbolSha'+'dowParams']['push'](_0x235392);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x246656=this['_calculate'+'CharsPerTe'+'xture']();let _0x2ddc3e=!(-0x61*-0x4+0x4*-0x3b+-0x1*0x97);const _0x4b1d23=this['_element'],_0x372d18=_0x4b1d23['_isScreenS'+'pace'](),_0x698db=_0x4b1d23['_isScreenC'+'ulled'](),_0x501bef=function(_0x15df1f){return _0x4b1d23['isVisibleF'+'orCamera'](_0x15df1f);};for(let _0x3ecea1=-0x70e*0x3+0x1e84+0x3*-0x31e,_0x4d8179=this['_meshInfo']['length'];_0x3ecea1<_0x4d8179;_0x3ecea1++){const _0x27639d=_0x246656[_0x3ecea1]||0x14a4+0xb3f*0x1+-0x1fe3,_0x5bd6d9=this['_meshInfo'][_0x3ecea1];if(_0x5bd6d9['count']!==_0x27639d){if(_0x2ddc3e||(_0x4b1d23['removeMode'+'lFromLayer'+'s'](this['_model']),_0x2ddc3e=!(0x3*0x70d+0x103b*0x2+-0x359d)),_0x5bd6d9['count']=_0x27639d,_0x5bd6d9['positions']['length']=_0x5bd6d9['normals']['length']=_0x27639d*(-0xe0a+0x21ad+-0x13a0)*(0x1e6c+0x518+-0x2*0x11c0),_0x5bd6d9['indices']['length']=_0x27639d*(-0x115d+0x1533+-0x3d3)*(-0x17b*-0xd+0x65*0x6+-0x159b),_0x5bd6d9['uvs']['length']=_0x27639d*(0xf6d*-0x1+0x869*0x2+-0x163)*(0x17ff*0x1+0xe*0x28f+-0x3bcd),_0x5bd6d9['colors']['length']=_0x27639d*(-0x2f*0xa7+0x657+-0x1856*-0x1)*(-0x6*-0x28b+0x21*-0x1b+-0xbc3*0x1),_0x5bd6d9['outlines']['length']=_0x27639d*(0x967+-0x12f1+-0x4c7*-0x2)*(-0xc64*0x1+-0x833*-0x3+-0xc32),_0x5bd6d9['shadows']['length']=_0x27639d*(0x1*0x218b+-0x684+0x567*-0x5)*(-0x1*0x1517+0x5*0x85+0x3*0x62b),_0x5bd6d9['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x5bd6d9['meshInstan'+'ce']),_0x27639d===0x42*0x7b+0x21ca+0x40*-0x106){_0x5bd6d9['meshInstan'+'ce']=null;continue;}for(let _0x301b37=0x1804+-0xd9f+-0x377*0x3;_0x301b37<_0x27639d;_0x301b37++)_0x5bd6d9['indices'][_0x301b37*(-0x60e+0x1*0x13be+-0xdad*0x1)*(0x14f8+-0xac8+0x2*-0x517)+(-0x1603+-0x14a7*0x1+-0x56*-0x7f)]=_0x301b37*(-0xed2+-0x122+0x92*0x1c),_0x5bd6d9['indices'][_0x301b37*(-0x1*0x1327+-0x1406+0x2730)*(-0x252+0x71f+0x3*-0x199)+(0xa9*-0x23+-0x2614+0x3d30)]=_0x301b37*(-0x3*0x409+-0x253e+0x315d*0x1)+(0x1a8d+-0x24*0xc7+-0x2*-0xb8),_0x5bd6d9['indices'][_0x301b37*(-0x2069+-0x1beb*-0x1+0x481)*(0x1*0xa54+0x3*-0xb4d+-0x1795*-0x1)+(0x1*-0x1f30+0xfcf*0x1+0xf63)]=_0x301b37*(0x2684+-0x24ec+-0x194)+(-0xf06*-0x1+0x2484+-0x3*0x112d),_0x5bd6d9['indices'][_0x301b37*(0x1*-0x225d+0x2239*0x1+0x1*0x27)*(0x3*-0x791+-0x7b*-0x7+0x1358)+(-0x3bb+0x1b20+0xbb1*-0x2)]=_0x301b37*(-0xa3*0x1+-0x11*0x20f+0x36*0xa9)+(0x19c1*-0x1+-0x997*-0x2+0x695),_0x5bd6d9['indices'][_0x301b37*(-0x18f3*-0x1+-0xbf*-0x32+0x1f1f*-0x2)*(-0x2251+0x1*-0x691+0x28e4)+(-0x4bd*0x7+0x3e0*0x4+0x11af)]=_0x301b37*(-0x1c*0x11e+-0x3f3+0x233f)+(-0x1a61+-0x1349+0x1*0x2dad),_0x5bd6d9['indices'][_0x301b37*(0x245a+0x20b8+-0x450f)*(-0x1785+0x1076+0x1*0x711)+(-0x996+0x6d*0x1+0x92e)]=_0x301b37*(-0x110c+-0x1*0x187f+0x298f)+(0x14e9+-0x1dfb+-0x1*-0x913),_0x5bd6d9['normals'][_0x301b37*(-0x1fcb*0x1+0x1f*0x142+-0x72f)*(-0x688+-0xea3+-0x152e*-0x1)+(-0xd*0xd1+-0x2e*-0xd2+-0x1b1f)]=0x27*-0x59+-0x129+-0x6*-0x274,_0x5bd6d9['normals'][_0x301b37*(-0x2638+-0x1*0x1b49+-0x15d7*-0x3)*(-0xadb+0x70+0x3*0x37a)+(-0x2530+-0x7*-0x4fd+0x2*0x123)]=0x226e+-0xa2*0x31+-0x36c,_0x5bd6d9['normals'][_0x301b37*(-0xe89*-0x1+0x13*-0x2+-0xe5f)*(0x2*0x1184+-0xfc9+0x99e*-0x2)+(-0x24bd+0x173*0x5+0x1d80)]=-(0x1c63+0x5*0x2f2+-0x2b1c),_0x5bd6d9['normals'][_0x301b37*(-0x15cd+0x486+0x114b)*(0x258*0xe+0xc7*-0x1+-0x2*0x1003)+(-0x110c+0x2636+-0x1527)]=-0x2*0xbed+-0x1cf*-0x15+-0xe21,_0x5bd6d9['normals'][_0x301b37*(0x13d9+0x517+-0x18ec)*(-0x1535+0x8a9+-0xc8f*-0x1)+(-0x757*-0x2+-0xe93+-0x17)]=0xd59*-0x1+0x274+0xae5,_0x5bd6d9['normals'][_0x301b37*(0x4f*0x1d+-0xa42*-0x2+-0x167*0x15)*(-0x3*-0xc3b+0x246*-0xe+-0x4da)+(-0x148c+-0x6*-0x3ea+-0xf9*0x3)]=-(0x20d+-0x102e+0xe22),_0x5bd6d9['normals'][_0x301b37*(0x19c5+-0x10e7*-0x1+-0x2aa8)*(-0x2*0x1123+0x1bf2+0x657)+(-0x146b*-0x1+0x590+-0x19f5)]=0x15a0+0x2*0x29e+-0x1adc,_0x5bd6d9['normals'][_0x301b37*(0x35*0x98+0x8db*-0x1+-0x59*0x41)*(0xfb*0x9+0x2a*-0x62+0x744)+(-0x1*0x6b8+0x1*-0x253c+0x2bfb)]=0x67*-0x49+-0xb*0x4+0x1d8b,_0x5bd6d9['normals'][_0x301b37*(-0x2286+-0x12af+0x3539)*(0x239c+0x1ba+-0x2553)+(-0x6*0x127+-0x29*0x52+0x202*0xa)]=-(-0x1*-0x52c+0xb93+-0x2*0x85f),_0x5bd6d9['normals'][_0x301b37*(-0x1d*0x12+-0x3d1+0x5df)*(0x7f7*-0x2+-0x1*-0x1e3+-0xe0e*-0x1)+(0xbff*0x1+-0x1*0x1df+0x35d*-0x3)]=-0x1*0xd8a+0x3d0+0x9ba,_0x5bd6d9['normals'][_0x301b37*(0x2545+0x13fb+0x25*-0x18c)*(-0x2351+0x2635+0x43*-0xb)+(0xf39+-0x24a6+0x1577*0x1)]=0x12b9*0x1+-0x13f4+0x13b,_0x5bd6d9['normals'][_0x301b37*(-0x17f5+-0x47*-0x5+0x1696)*(-0x1fcc+-0x84d+0x281c)+(0xc34+0x9*-0x1c3+0x3b2)]=-(0x14b7*-0x1+-0x26*-0xe3+-0x12e*0xb);const _0x1b2f0f=MR(this['_system']['app']['graphicsDe'+'vice'],_0x5bd6d9),_0x3407ea=new Le(_0x1b2f0f,this['_material'],this['_node']);if(_0x3407ea['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x3407ea['castShadow']=!(-0x4*0x175+0x1e39+0x619*-0x4),_0x3407ea['receiveSha'+'dow']=!(0x6*0x49+-0x31*0x79+-0x2*-0xaba),_0x3407ea['cull']=!_0x372d18,_0x3407ea['screenSpac'+'e']=_0x372d18,_0x3407ea['drawOrder']=this['_drawOrder'],_0x698db&&(_0x3407ea['cull']=!(-0x1*0xeb9+0x21c9+-0xa*0x1e8),_0x3407ea['isVisibleF'+'unc']=_0x501bef),this['_setTextur'+'eParams'](_0x3407ea,this['_font']['textures'][_0x3ecea1]),_0x3407ea['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x3407ea['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x3407ea['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x3407ea['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x3407ea['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3ecea1]['width']),_0x3407ea['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x3407ea['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x3407ea['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x3cc*-0x4+0x1912+-0x2842]=0x2165+-0x4*0x55d+-0xbf1,this['_shadowOff'+'setUniform'][0x1d21+-0x1c51+0xcf*-0x1]=-0x11d4+0x1226+-0x1*0x52;else{const _0x2eb5f0=-this['_font']['data']['info']['maps'][_0x3ecea1]['width']/this['_font']['data']['info']['maps'][_0x3ecea1]['height'];this['_shadowOff'+'setUniform'][0x1bb1+-0x15*-0x55+-0x22aa]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x657+0xc6f*0x3+-0x2ba3]=_0x2eb5f0*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x3407ea['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x5bd6d9['meshInstan'+'ce']=_0x3407ea,this['_model']['meshInstan'+'ces']['push'](_0x3407ea);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x2ddc3e&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x269b+0x2*-0x81c+-0x1663,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x11f065){_0x11f065['destroy']();const _0xe6e150=this['_model']['meshInstan'+'ces']['indexOf'](_0x11f065);_0xe6e150!==-(0x1eff+0xe2+-0x1fe0)&&this['_model']['meshInstan'+'ces']['splice'](_0xe6e150,-0x336*0x3+0x2b*0x1+0x6*0x194);}['_setMateri'+'al'](_0x48e3f8){if(this['_material']=_0x48e3f8,this['_model'])for(let _0x56a05f=0x8*0x213+-0x745*0x1+-0x953,_0x4aa40e=this['_model']['meshInstan'+'ces']['length'];_0x56a05f<_0x4aa40e;_0x56a05f++){const _0x2b63f6=this['_model']['meshInstan'+'ces'][_0x56a05f];_0x2b63f6['material']=_0x48e3f8;}}['_updateMat'+'erial'](_0x203298){const _0x4d82f4=this['_element'],_0x128a60=_0x4d82f4['_isScreenC'+'ulled'](),_0x2bdd24=function(_0x2c206a){return _0x4d82f4['isVisibleF'+'orCamera'](_0x2c206a);},_0x5796b2=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x203298,_0x5796b2,this['_enableMar'+'kup']),this['_model'])for(let _0x15980e=-0x1c9*0x2+0x1f*0x13b+-0x2293,_0x29b257=this['_model']['meshInstan'+'ces']['length'];_0x15980e<_0x29b257;_0x15980e++){const _0xa18192=this['_model']['meshInstan'+'ces'][_0x15980e];_0xa18192['cull']=!_0x203298,_0xa18192['material']=this['_material'],_0xa18192['screenSpac'+'e']=_0x203298,_0x128a60?(_0xa18192['cull']=!(0x1*0x13f9+-0x2116+0xd1d),_0xa18192['isVisibleF'+'unc']=_0x2bdd24):_0xa18192['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x225b*0x1+0xf34+0x1327]=0x236c*0x1+-0x16a*0x1+-0x2201,this['_colorUnif'+'orm'][0xe59+-0x74b*0x2+-0x3e*-0x1]=-0x1d11*0x1+0x363+0x19af*0x1,this['_colorUnif'+'orm'][-0x1e3d+0x3*-0x377+0x28a4]=0x221b+-0x15*-0x79+-0x11*0x297):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x5*-0x627+-0x2e*0x83+-0x739]=Me['r'],this['_colorUnif'+'orm'][0x125*0x1+-0x1227+-0x1*-0x1103]=Me['g'],this['_colorUnif'+'orm'][-0x1e4c+0x3a*0x2f+-0x4a*-0x44]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x1264+0x25a3+0x17b*-0xd]=-0x1173+-0x23cd+-0x3*-0x11c0,this['_outlineCo'+'lorUniform'][0x1fbd+-0x1*0x373+-0x1c49]=-0x3dc+-0x1b34+-0x38*-0x8e,this['_outlineCo'+'lorUniform'][-0x46*-0x7c+-0x80d+-0x19d9]=0x1425+0x2e1*-0x7+0x2,this['_outlineCo'+'lorUniform'][-0x1ade+0x1bf0+-0x1*0x10f]=-0xd69+0x13b2+-0x648):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x48d+-0x1c7b*-0x1+-0x17ee]=Me['r'],this['_outlineCo'+'lorUniform'][-0x9*0x44f+0x2692+0x12*0x3]=Me['g'],this['_outlineCo'+'lorUniform'][0x82*0x18+-0x2*0xb56+0xa7e]=Me['b'],this['_outlineCo'+'lorUniform'][0x13d7*0x1+-0x94f*-0x1+-0x1*0x1d23]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x267d+0xca7*-0x2+0x3fcb]=-0xf02+0x13*-0x1e9+0x1*0x334d,this['_shadowCol'+'orUniform'][0x115c+0x1549+-0x26a4]=0x1fa7+0x2*0x2ea+-0x257b,this['_shadowCol'+'orUniform'][-0x20c+-0x4*-0xc+-0xef*-0x2]=-0x1b22+-0xa64+0x2586,this['_shadowCol'+'orUniform'][-0x829+-0x2629*0x1+0x199*0x1d]=-0x1edd*0x1+0x2*-0x965+0x31a7):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0xc29+-0x9ad+-0xd*-0x1ae]=Me['r'],this['_shadowCol'+'orUniform'][0x8a5+-0x507+0xb9*-0x5]=Me['g'],this['_shadowCol'+'orUniform'][0x29*0xb+0x17c7*-0x1+-0x2*-0xb03]=Me['b'],this['_shadowCol'+'orUniform'][0x1364+-0x14*-0x6b+0x1*-0x1bbd]=Me['a']);}['_isWordBou'+'ndary'](_0x291315){return fg['test'](_0x291315);}['_isValidNe'+'xtChar'](_0x163ed5){return _0x163ed5!==null&&!IR['test'](_0x163ed5);}['_isNextCJK'+'Boundary'](_0xeefb4c,_0x5a2a65){return pg['test'](_0xeefb4c)&&(fg['test'](_0x5a2a65)||RR['test'](_0x5a2a65));}['_isNextCJK'+'WholeWord'](_0x47dcf2){return pg['test'](_0x47dcf2);}['_updateMes'+'hes'](){const _0x1aaa31=this['_font']['data'],_0x1a07af=this,_0x47d211=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x3982d5=this['_maxFontSi'+'ze'],_0x23484d=this['_shouldAut'+'oFit']();_0x23484d&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x5dde6a=0x6bc+0xeca*-0x1+0x82e,_0x3871ac=this['_symbols']['length'];let _0x18a406=0x2*0x5d5+-0xb3f*-0x1+-0x11*0x159,_0x5b3a5e=0x992+0xcb2+-0x1*0x1644,_0xf9bef7=-0x3a*0x6f+-0x18bd+0x31e3,_0x8ff1f2=-0x2509+0x16e1*-0x1+0x2*0x1df5,_0x5508d3=-0x1*-0x1b56+0x19b1*-0x1+-0x1a4,_0x4de7e3=-0x2*0xecb+-0x22ca+0x4060,_0xa52d6c=-0x1c26*0x1+-0x4*0x28d+-0x2*-0x132d,_0x41803a=0x2*0x853+-0x1*-0x137+0x1*-0x11dd,_0x536024=0x1a45+-0x1bd0*-0x1+-0x3615,_0xb88b22=0xd07+0x5*-0x48d+0x9ba,_0x166205=0x2655*0x1+0x13*0x4c+-0x2bf9*0x1;const _0x331896=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x1d95+0x181b+0x57a+0.0001;let _0x3a1237=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x331896||!this['_wrapLines'])&&(_0x3a1237=Number['POSITIVE_I'+'NFINITY']);let _0x3fda3f=-0x748*-0x2+-0x1d3*-0x3+-0x1409,_0x597d83=0xdf*-0x17+0x88*-0x26+0x2839,_0x4071b5,_0x4ee416,_0x1e6f6a,_0x3e60e4;function _0x429b3b(_0x219631,_0x210533,_0x46b5b2){_0x1a07af['_lineWidth'+'s']['push'](Math['abs'](_0x46b5b2));const _0x1d092b=_0x41803a>_0x210533?_0x210533+(0x2136+-0xb*0x217+-0xa38):_0x41803a,_0x3db092=_0x41803a>_0x210533?_0x41803a+(0x13a4+-0x1*-0xb41+-0x1ee4):_0x210533,_0x532fe8=_0x219631['slice'](_0x1d092b,_0x3db092);if(_0x166205){let _0x4aee33=_0x532fe8['length'];for(;_0x4aee33--&&_0x166205>-0x573*-0x7+-0x3*0x6c0+-0x11e5;)ug['test'](_0x532fe8[_0x4aee33])&&(_0x532fe8['splice'](_0x4aee33,0x8b*-0x36+0xdaf+0xfa4),_0x166205--);}_0x1a07af['_lineConte'+'nts']['push'](_0x532fe8['join']('')),_0x18a406=-0x9c3+0x482*0x4+-0x1d*0x49,_0x5b3a5e-=_0x1a07af['_scaledLin'+'eHeight'],_0x5508d3++,_0x536024=-0x7*0x13c+0x1850+-0xfac,_0xb88b22=-0x13db+0x113c+0x29f,_0x166205=-0x51a+0x184d*0x1+-0x5*0x3d7,_0x4de7e3=-0x1407+-0x1a2b+0x2e32,_0x41803a=_0x210533;}let _0x2b1744=!(-0x62d+0x1*-0x223+0x850);for(;_0x2b1744;){_0x2b1744=!(0x76a*0x5+-0x20b+-0x2306),_0x23484d?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x1100+0x1*0x1a6+0xf5a+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x20cb+0x72d+-0x27f8,this['height']=0x9*0x351+0x2102+0x3edb*-0x1,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x18a406=-0x23ab+-0xffe+0x23f*0x17,_0x5b3a5e=-0x3cb+0x2324+0xf*-0x217,_0xf9bef7=-0x1f3e+-0x97*-0x2b+0x5e1,_0x8ff1f2=0xced*-0x1+0x6f2+-0x5fb*-0x1,_0x5508d3=-0x2421+0x11*0x215+0xbd,_0x4de7e3=-0x3ff+-0x1*0x12ef+-0x16ee*-0x1,_0xa52d6c=-0x21f*0xe+-0x1*0x1bb+0x1f6d,_0x41803a=-0x2121+0x6f*-0x30+0x35f1,_0x536024=0x2*0xcda+0x2284+-0x52*0xbc,_0xb88b22=0x16e8+-0x1474+0x2*-0x13a,_0x166205=0x20a8+-0x1f4e+-0x2*0xad;const _0x787885=this['_fontSize']/_0x5dde6a;_0x3fda3f=this['_fontMinY']*_0x787885,_0x597d83=this['_fontMaxY']*_0x787885;for(let _0xa78004=-0x18*-0x9+0x23*-0x67+0xd3d;_0xa78004<this['_meshInfo']['length'];_0xa78004++)this['_meshInfo'][_0xa78004]['quad']=0x1*-0xb7+-0x1378+-0x1*-0x142f,this['_meshInfo'][_0xa78004]['lines']={};let _0x328130=-0x653+-0xec3+0x1615,_0x1245da=0x1*-0x196d+0x106*-0x15+0x2fea,_0x59d23f=0x8b9+0x25cd+-0x103*0x2d,_0x28400e=-0x1*0x6f3+-0x168b+0x1e7d*0x1+(0x176e+0x1*0x1f5b+-0x3*0x11ee)*(-0xf53*-0x1+0x5*0x7ab+0x6*-0x8c7),_0x21ef75=-0x57*0x34+-0x602+0x1*0x18ad+(-0x101*-0x13+-0x121*-0x1f+-0x3513)*(-0x2340+-0xe22+0x3262),_0x17993d=-0x1dda+0x15b1+-0x1*-0x829,_0x2fc336=0x265a*0x1+0x24da+0x79*-0x9d+(0x1058+0xa*0x61+-0x1323)*(-0x89a+-0x26cd+0x3067),_0x51c3fd=-0x1a*0xc+-0xb53+0xd8a+(-0xc00+-0x6*-0x3df+-0xa3b)*(-0x34a+0x1*0x3d9+0x71),_0x389fb5=0x4*0x9a9+-0x9*0x9d+-0x24*0xe8+(0x91e+-0x1b48+0x12a9)*(-0x27*-0x3d+-0x1c2*0x4+-0x143);for(let _0x13b6c8=-0x3f8*-0x3+-0x13cf+0x7*0x121;_0x13b6c8<_0x3871ac;_0x13b6c8++){if(_0x4071b5=this['_symbols'][_0x13b6c8],_0x3e60e4=_0x13b6c8+(-0x111b*0x2+-0x196+-0xeb*-0x27)>=_0x3871ac?null:this['_symbols'][_0x13b6c8+(-0xab6+-0x2d9*0x9+0x48b*0x8)],ug['test'](_0x4071b5)){_0x166205++,(!this['_wrapLines']||this['_maxLines']<-0x1ff0*-0x1+0x36c+-0x235c||_0x5508d3<this['_maxLines'])&&(_0x429b3b(this['_symbols'],_0x13b6c8,_0x8ff1f2),_0xa52d6c=_0x13b6c8+(-0x1*0x13f7+-0x189+0x5*0x44d),_0x41803a=_0x13b6c8+(-0xc7*0x3+-0x58a*-0x7+-0x2470));continue;}let _0x4b2107=-0x96b*0x2+-0x5*-0x413+0x83*-0x3,_0x190c78=0x32*0x69+-0x29*-0x1b+-0x18d5,_0x31d909=-0x1149+0x14e3*0x1+0x1*-0x39a,_0x4c5e31=0x1*-0x268d+-0x30*0x26+0x2dae,_0x46d83b,_0x58a643;if(_0x4ee416=_0x1aaa31['chars'][_0x4071b5],!_0x4ee416){if(DR['indexOf'](_0x4071b5)!==-(0x2c5*-0xd+0x3*0x671+0x10af))_0x4ee416=LR;else{if(_0x1aaa31['chars']['\x20'])_0x4ee416=_0x1aaa31['chars']['\x20'];else for(const _0x2b25b4 in _0x1aaa31['chars']){_0x4ee416=_0x1aaa31['chars'][_0x2b25b4];break;}_0x1aaa31['missingCha'+'rs']||(_0x1aaa31['missingCha'+'rs']=new Set()),_0x1aaa31['missingCha'+'rs']['has'](_0x4071b5)||(console['warn']('Character\x20'+'\x27'+_0x4071b5+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x1aaa31['info']['face']),_0x1aaa31['missingCha'+'rs']['add'](_0x4071b5));}}if(_0x4ee416){let _0x7686ba=-0xb60+0x1*-0x466+0x542*0x3;if(_0xb88b22>-0xf29*-0x1+-0x2104+0x11db){const _0x2a11ed=this['_font']['data']['kerning'];if(_0x2a11ed){const _0x3e8a0f=_0x2a11ed[ah['getCodePoi'+'nt'](this['_symbols'][_0x13b6c8-(0x125*-0x1d+0xf0e+0x1224)])||0x32a+0x3a*-0x1b+0x2f4];_0x3e8a0f&&(_0x7686ba=_0x3e8a0f[ah['getCodePoi'+'nt'](this['_symbols'][_0x13b6c8])||-0x1301+0x3*-0x556+0x2303]||0x1ede+0x971+-0x284f);}}_0x46d83b=_0x4ee416['scale']||-0x30+-0x23e*0xe+-0x1f95*-0x1,_0x58a643=(_0x4ee416['width']+_0x4ee416['height'])/(0x16*-0x1a3+-0x2*-0x9ad+0x10aa),_0x4c5e31=_0x787885*_0x58a643/_0x46d83b,_0x31d909=(_0x4ee416['xadvance']+_0x7686ba)*_0x787885,_0x4b2107=(_0x4ee416['xoffset']-_0x7686ba)*_0x787885,_0x190c78=_0x4ee416['yoffset']*_0x787885;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x4071b5+'\x27');const _0x130e71=PR['test'](_0x4071b5),_0x3ae5a6=_0x4ee416&&_0x4ee416['map']||-0x2252+-0x19da+0x3c2c,_0xbae860=-this['_font']['data']['info']['maps'][_0x3ae5a6]['width']/this['_font']['data']['info']['maps'][_0x3ae5a6]['height'],_0x811a81=this['_meshInfo'][_0x3ae5a6],_0xd21ae8=_0x18a406+this['_spacing']*_0x31d909;if(_0xd21ae8>_0x3a1237&&_0xb88b22>0x1*0xbf2+-0x2523+0x1931&&!_0x130e71&&(this['_maxLines']<0x1*0x1ef7+-0x3*-0xb13+-0x806*0x8||_0x5508d3<this['_maxLines'])){if(_0x536024===-0x133e+-0x1aff+0x2e3d)_0xa52d6c=_0x13b6c8,_0x429b3b(this['_symbols'],_0x13b6c8,_0x8ff1f2);else{const _0x585328=Math['max'](_0x13b6c8-_0xa52d6c,0x3*-0x351+-0x2643+0x3036);if(this['_meshInfo']['length']<=0x2*0xc+-0x2d9*-0x7+-0x1406)_0x811a81['lines'][_0x5508d3-(-0x1243+-0x1652+-0x5*-0x81e)]-=_0x585328,_0x811a81['quad']-=_0x585328;else{const _0x305700=_0xa52d6c,_0x571c15=_0x13b6c8;for(let _0x36c4b3=_0x305700;_0x36c4b3<_0x571c15;_0x36c4b3++){const _0x395c46=this['_symbols'][_0x36c4b3],_0x4b2d32=_0x1aaa31['chars'][_0x395c46],_0x41513d=this['_meshInfo'][_0x4b2d32&&_0x4b2d32['map']||0x742+-0x670+-0xd2];_0x41513d['lines'][_0x5508d3-(-0x160d+-0xf6f+0x3*0xc7f)]-=-0x1666+-0x20b1*-0x1+0x525*-0x2,_0x41513d['quad']-=0x1bf+-0x18fc+0x173e;}}_0x13b6c8-=_0x585328+(0x1841+0x1e4b+0x368b*-0x1),_0x429b3b(this['_symbols'],_0xa52d6c,_0x4de7e3);continue;}}_0x1e6f6a=_0x811a81['quad'],_0x811a81['lines'][_0x5508d3-(-0x7*0x295+-0x1461+0x2675)]=_0x1e6f6a;let _0x1835e0=_0x18a406-_0x4b2107,_0x25daaf=_0x1835e0+_0x4c5e31;const _0xbb2feb=_0x5b3a5e-_0x190c78,_0x5f522e=_0xbb2feb+_0x4c5e31;if(this['_rtl']){const _0xe2d55b=_0x4c5e31-_0x4b2107-this['_spacing']*_0x31d909-_0x4b2107;_0x1835e0-=_0xe2d55b,_0x25daaf-=_0xe2d55b;}_0x811a81['positions'][_0x1e6f6a*(-0x1451+0x1273*-0x1+0x22*0x124)*(0x79d*0x5+-0x960*-0x2+0x16*-0x295)+(0x1c16*0x1+-0x1*-0xd3+-0x1ce9)]=_0x1835e0,_0x811a81['positions'][_0x1e6f6a*(-0x2*0xba9+-0x1041+0x2797)*(0x678+0x4*0x18b+-0xca1)+(0x1*-0x1c45+-0xa3b+0x2681)]=_0xbb2feb,_0x811a81['positions'][_0x1e6f6a*(-0x1*-0x7a5+0x1b65+0x2*-0x1183)*(-0x1589+0x1db*-0x2+0xca1*0x2)+(0x6fe+-0x265f+0x1f63*0x1)]=_0xf9bef7,_0x811a81['positions'][_0x1e6f6a*(-0x2da+-0xc4b+0xf29)*(-0x10fc+-0x1922+0x86d*0x5)+(-0x1861+-0x1e20+0xda1*0x4)]=_0x25daaf,_0x811a81['positions'][_0x1e6f6a*(-0x1a24+0x1*0x1a2f+-0x7)*(-0x1*-0x218c+0x23b1+-0x453a)+(0x17c6*-0x1+0x1*0xe27+0x9a3)]=_0xbb2feb,_0x811a81['positions'][_0x1e6f6a*(-0x4ab*-0x3+0x7b*-0x26+0x445)*(-0x3ba+0x2*0x7aa+0x3*-0x3dd)+(-0x16a*0x17+-0x9d*0x33+0x3fd2)]=_0xf9bef7,_0x811a81['positions'][_0x1e6f6a*(0x1a4a+0x1a*0x11f+-0x376c*0x1)*(-0x1cd2+0xb7c+0x1159)+(0x23*0x58+0x2409+0x6dd*-0x7)]=_0x25daaf,_0x811a81['positions'][_0x1e6f6a*(-0x1d1f+0x66f+0xb5a*0x2)*(-0x117+-0x17c1+0x18db)+(-0x875+0x558+0x324)]=_0x5f522e,_0x811a81['positions'][_0x1e6f6a*(-0x29*-0xda+0x6da*-0x4+-0x77e)*(-0xa7*0x25+0x577*-0x6+0x38f0)+(-0x801*0x3+0x3dd*-0x9+0x3ad0)]=_0xf9bef7,_0x811a81['positions'][_0x1e6f6a*(0x87f+-0x4*-0x16b+0x1*-0xe27)*(-0x187d+-0xa5b+0x22db)+(0xec*0x23+0x20ef+-0x1*0x412a)]=_0x1835e0,_0x811a81['positions'][_0x1e6f6a*(-0x257e+-0x712*-0x2+0x3*0x7ca)*(0x238c+-0x49f+-0x1eea)+(0xe23+0x59f*0x1+-0x13b8)]=_0x5f522e,_0x811a81['positions'][_0x1e6f6a*(0x1597+-0x1*0x22d+0x1a*-0xbf)*(-0x8e5+-0x6*-0x1dc+-0x240)+(0x6ce+-0x1*-0x120e+-0x18d1)]=_0xf9bef7,this['width']=Math['max'](this['width'],_0xd21ae8);let _0x3fc3ce;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x3fc3ce=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x2*0x129d+0x22d6+0x4*-0x1204+0.0001)),_0x3fc3ce=N['clamp'](_0x3fc3ce,_0x47d211,_0x3982d5),_0x3fc3ce!==this['_element']['fontSize'])){this['_fontSize']=_0x3fc3ce,_0x2b1744=!(0x536+0x1edf+-0x2415);break;}if(this['height']=Math['max'](this['height'],_0x597d83-(_0x5b3a5e+_0x3fda3f)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x3fc3ce=N['clamp'](this['_fontSize']-(-0x13d5+0x19e9+0x613*-0x1),_0x47d211,_0x3982d5),_0x3fc3ce!==this['_element']['fontSize'])){this['_fontSize']=_0x3fc3ce,_0x2b1744=!(-0xed8+-0x119*-0xe+-0x86);break;}_0x18a406+=this['_spacing']*_0x31d909,_0x130e71||(_0x8ff1f2=_0x18a406),(this['_isWordBou'+'ndary'](_0x4071b5)||this['_isValidNe'+'xtChar'](_0x3e60e4)&&(this['_isNextCJK'+'Boundary'](_0x4071b5,_0x3e60e4)||this['_isNextCJK'+'WholeWord'](_0x3e60e4)))&&(_0x536024++,_0x4de7e3=_0x8ff1f2,_0xa52d6c=_0x13b6c8+(-0x89a+0x1589+-0xcee)),_0xb88b22++;const _0x1917a5=this['_getUv'](_0x4071b5);if(_0x811a81['uvs'][_0x1e6f6a*(0x22bc+0x19aa+-0x3c62)*(0xb59+0x23a4+0xfa9*-0x3)+(-0x2676+-0x1*0x2e+0x26a4)]=_0x1917a5[-0x1440+-0x1*0x21a1+0x35e1],_0x811a81['uvs'][_0x1e6f6a*(-0x1*-0x1fa6+-0x2037+0x95)*(0x19f4+0x1*-0xc01+-0xdf1)+(-0xdb*-0xc+-0xc*-0x10d+0x16df*-0x1)]=0x1ad5*-0x1+-0x5*-0x615+0x3d*-0xf-_0x1917a5[0x1c01+-0x1e7e+0x27e],_0x811a81['uvs'][_0x1e6f6a*(0x1ade*-0x1+0x940+0x11a2)*(0x5b9*-0x2+-0x97a*-0x1+0x2*0xfd)+(-0x1697+-0x56*-0x43+0x17)]=_0x1917a5[0x1315+-0x2066+0xd53],_0x811a81['uvs'][_0x1e6f6a*(-0x11f6+-0x2513+0x33d*0x11)*(-0xbe6+0x797*0x2+-0x346)+(0x1dec+-0x245b+0x672)]=-0x3b*-0x1d+0x1*0x90b+0x7*-0x23f-_0x1917a5[0x8*-0x211+0x181+0xf08],_0x811a81['uvs'][_0x1e6f6a*(-0xb32+-0x2678+-0x31ae*-0x1)*(-0x10af+-0x2273+0x1992*0x2)+(0x1*-0x1c8f+-0x1a0e+0xaed*0x5)]=_0x1917a5[-0x7f7+0x7*0x4b2+-0x1*0x18e5],_0x811a81['uvs'][_0x1e6f6a*(0x6c*-0xb+0x74*-0x2c+0x1898)*(0xdaa+0x1*0x1aa2+-0x284a)+(0x4*-0x61a+-0x188a+0x30f7)]=-0x121e+0x258b+-0x136c-_0x1917a5[0x1ae9+-0xaf5+-0xff1],_0x811a81['uvs'][_0x1e6f6a*(0x192f+0x180e+-0x1*0x3139)*(-0x276+-0x2*-0xb8d+0x14a2*-0x1)+(-0x77b*-0x4+0x34c*0x5+0x1731*-0x2)]=_0x1917a5[-0x15*0xb5+0x214b+-0x2*0x939],_0x811a81['uvs'][_0x1e6f6a*(-0x1384+-0x492+0x181a)*(0x23f*-0x2+-0x22ec+0xc*0x349)+(0x2cd*0x6+-0x1*-0x496+-0x155d)]=0xa73+0xe1f*-0x2+0x11cc-_0x1917a5[0x225e+-0x1008+-0x1253],this['_symbolCol'+'ors']){const _0x42f4d4=this['_symbolCol'+'ors'][_0x13b6c8]*(0x1bcc+-0x89b*0x3+-0x3f*0x8);_0x328130=this['_colorPale'+'tte'][_0x42f4d4],_0x1245da=this['_colorPale'+'tte'][_0x42f4d4+(-0x3*-0x5d7+0x1*0x8d9+0x1a5d*-0x1)],_0x59d23f=this['_colorPale'+'tte'][_0x42f4d4+(0x21*0x37+-0xda8+0x693)];}if(_0x811a81['colors'][_0x1e6f6a*(0x1576+-0x45*-0x89+-0x11*0x36f)*(-0x1a2c+0x2*0x7e2+-0x536*-0x2)+(0x250*0x4+0x154a+0x6*-0x517)]=_0x328130,_0x811a81['colors'][_0x1e6f6a*(0x1745+0xf50+0xcdb*-0x3)*(-0x3*-0x878+-0x539*-0x4+-0x2e48)+(-0x20d5+-0xcea+0x2dc0)]=_0x1245da,_0x811a81['colors'][_0x1e6f6a*(0x59*-0xd+-0xf1*-0x9+0x7*-0x90)*(-0x5*0x4f8+0xe11+-0x1*-0xacb)+(0xf62+-0x1*-0x2279+-0x31d9)]=_0x59d23f,_0x811a81['colors'][_0x1e6f6a*(-0x1*-0x14ed+-0x213d+-0x62a*-0x2)*(0x3b0+-0x1993+0x15e7)+(0xb51+-0x15a+0x16c*-0x7)]=-0x21f+-0x17e6+0x1b04,_0x811a81['colors'][_0x1e6f6a*(-0x2648+-0x259c+0x4be8)*(0x1fb3+-0x5e3*-0x1+-0x2592)+(-0x1d24+-0x1416*0x1+0x313e)]=_0x328130,_0x811a81['colors'][_0x1e6f6a*(0x1*0xef2+0x14cf*-0x1+0x5e1)*(0x153c+-0x18a6*0x1+0x36e)+(0x70e+-0x2*-0x29+-0x75b)]=_0x1245da,_0x811a81['colors'][_0x1e6f6a*(0x9a0+-0x1426+0x1*0xa8a)*(0xb0*0x12+-0x2170+0x1514)+(-0x36c+0x8e9*0x2+-0x170*0xa)]=_0x59d23f,_0x811a81['colors'][_0x1e6f6a*(0x1205+-0x1c94+-0xa93*-0x1)*(0x8e5*-0x4+-0x1144+0x34dc)+(0x128*-0x1+0x1ab4*0x1+0x2f*-0x8b)]=0x16c4+-0x1*-0x136f+0x36f*-0xc,_0x811a81['colors'][_0x1e6f6a*(-0xe75+0x25*0xf4+0x1*-0x14cb)*(0x24ee*-0x1+0x156+0x239c)+(-0x19ab+0x1*-0x196d+-0x20*-0x199)]=_0x328130,_0x811a81['colors'][_0x1e6f6a*(0x18c8+0x266*0xe+0x1d2c*-0x2)*(-0x1*-0x85e+-0x18e5+0x108b)+(-0xb*0x28f+0x43e*0x7+-0x184)]=_0x1245da,_0x811a81['colors'][_0x1e6f6a*(0x1*-0x2605+-0x1bf5+-0x20ff*-0x2)*(0x4*0x350+-0x1*0x1ded+0x10b1*0x1)+(-0x2*0xa93+-0x111f+0x1d3*0x15)]=_0x59d23f,_0x811a81['colors'][_0x1e6f6a*(0x15*0x51+-0x2e6+-0x5*0xbf)*(0x2589+0x110+-0x2695)+(0x1952+0xc71+0x25b8*-0x1)]=0xcd9+-0x2445+0x186b,_0x811a81['colors'][_0x1e6f6a*(0x2246*0x1+0x96b+-0x2bad)*(-0x170b+-0x8fa+0x3b*0x8b)+(-0x1*-0x1c03+0x2*-0xd39+0x185*-0x1)]=_0x328130,_0x811a81['colors'][_0x1e6f6a*(0x1404+-0x1f6*-0x1+-0xafb*0x2)*(0x8*0x39a+-0xac0+-0x120c)+(0x4*0x1da+-0xd3*-0x1+-0x82e)]=_0x1245da,_0x811a81['colors'][_0x1e6f6a*(-0x1116+-0x88a+0x19a4)*(-0x38f+-0xefc+0x128f)+(-0x148d*-0x1+-0x6ac+-0xdd3)]=_0x59d23f,_0x811a81['colors'][_0x1e6f6a*(-0x11a0+-0x22b1+0x3455)*(0xc92+0x151*-0x9+-0xb5*0x1)+(0x1*-0xad9+-0x1cdc+0x27c4)]=0x13*0x65+-0xbaf*-0x2+-0x1dde,this['_symbolOut'+'lineParams']){const _0x313a7b=this['_symbolOut'+'lineParams'][_0x13b6c8]*(-0x22d2+-0x25cd+0x48a4);_0x28400e=this['_outlinePa'+'lette'][_0x313a7b]+this['_outlinePa'+'lette'][_0x313a7b+(-0x2500+0x15b3+-0x6*-0x28d)]*(-0x6e5*-0x1+-0xd9b+0x7b6),_0x21ef75=this['_outlinePa'+'lette'][_0x313a7b+(-0xc2f*-0x1+-0x5e1+-0xd*0x7c)]+this['_outlinePa'+'lette'][_0x313a7b+(-0x2402+0x6d*0xc+-0x1*-0x1ee9)]*(-0xb5*0x8+-0x1b8c+-0x31c*-0xb),_0x17993d=this['_outlinePa'+'lette'][_0x313a7b+(0x22af+0xaa9*0x2+-0x37fd)];}if(_0x811a81['outlines'][_0x1e6f6a*(0x1*0x1281+-0x2603+0x2ca*0x7)*(-0x9eb*-0x1+-0x1bd9+-0x11f1*-0x1)+(0x1fb5+-0x173*0x3+-0x4*0x6d7)]=_0x28400e,_0x811a81['outlines'][_0x1e6f6a*(0xfad+0xe*-0x23c+-0xf9f*-0x1)*(-0x5b4+0x1272+0xcbb*-0x1)+(-0x1*-0x16ab+0x1bd*-0x1+-0xb*0x1e7)]=_0x21ef75,_0x811a81['outlines'][_0x1e6f6a*(0xc5+0x1b4+-0x275)*(-0x1*0x1c99+-0xa1c+0x4d7*0x8)+(0xe81+-0x1abf+0x31*0x40)]=_0x17993d,_0x811a81['outlines'][_0x1e6f6a*(0x2399+-0x1cc7*0x1+-0x6ce)*(0x1394+-0x7e6*0x4+-0x1*-0xc07)+(-0xd*-0x13b+0x3a1+-0x139d)]=_0x28400e,_0x811a81['outlines'][_0x1e6f6a*(0x49d*-0x3+0x15*0x158+0x1*-0xe5d)*(0x1*-0x34a+0xd42+0x9f5*-0x1)+(0x250+0x23a0+-0x25ec)]=_0x21ef75,_0x811a81['outlines'][_0x1e6f6a*(0x183c+0x25*0xab+-0x1*0x30ef)*(0x7*0x3ca+0x1791*-0x1+-0x2f2)+(0x1e22*-0x1+0xf6d*-0x1+0x2d94)]=_0x17993d,_0x811a81['outlines'][_0x1e6f6a*(0x282+0x8*-0x2c1+0x138a)*(-0x4*-0x3fb+-0x1*0x1b23+0xb3a)+(-0xed3+0x1*0x50f+0x166*0x7)]=_0x28400e,_0x811a81['outlines'][_0x1e6f6a*(0x1*-0x982+0x1de9+-0x1463*0x1)*(0xfd6*-0x2+-0x3ec+0x71f*0x5)+(-0xfca+0x1*0x5fc+0x9d5*0x1)]=_0x21ef75,_0x811a81['outlines'][_0x1e6f6a*(-0x3*0xb9e+-0x5*-0x62+0x20f4)*(0x6*0x67+0x1347+0x39d*-0x6)+(0x7*-0x3ba+0x182f+-0x21*-0xf)]=_0x17993d,_0x811a81['outlines'][_0x1e6f6a*(0x11b*0x6+0xb57+0x1*-0x11f5)*(-0x1a*0x94+-0xbe7*-0x2+-0x8c3)+(-0x3*0x3ca+0x1ee1+0x33f*-0x6)]=_0x28400e,_0x811a81['outlines'][_0x1e6f6a*(-0x75*-0x43+0x12e+-0x1fc9)*(0x2138+0xe6a+-0x2f9f)+(0x32c*-0x4+-0x7*-0x17f+-0x1*-0x241)]=_0x21ef75,_0x811a81['outlines'][_0x1e6f6a*(0x1*-0x2273+0x464+0x1*0x1e13)*(-0x6b*0x33+0x30e*-0x9+0x30d2)+(-0x2*-0x6dd+0x44d*0x9+-0x3464)]=_0x17993d,this['_symbolSha'+'dowParams']){const _0x5699f6=this['_symbolSha'+'dowParams'][_0x13b6c8]*(0xcb1+-0x25fa+0x194f);_0x2fc336=this['_shadowPal'+'ette'][_0x5699f6]+this['_shadowPal'+'ette'][_0x5699f6+(-0x6d9*0x3+0x2*0x74b+0x5f6)]*(-0x2447+-0x13e2+-0x1*-0x3929),_0x51c3fd=this['_shadowPal'+'ette'][_0x5699f6+(-0x17*-0x39+0x13*0x1c6+0x1*-0x26cf)]+this['_shadowPal'+'ette'][_0x5699f6+(-0x2b7+-0x25*0x91+0x17af)]*(0xdbd*0x1+0x5d*0x44+0x1*-0x2571),_0x389fb5=this['_shadowPal'+'ette'][_0x5699f6+(0x1*-0x211f+-0x9d9+0x2afc)]+(0x43*-0x22+0xef*-0x9+0x11cc)+Math['round'](_0xbae860*this['_shadowPal'+'ette'][_0x5699f6+(0x2*-0x1175+-0x91*-0x38+0x337)]+(0x10d0*0x1+0x2*0xb23+-0x2697))*(0x501*-0x5+0x621+-0x86*-0x26);}_0x811a81['shadows'][_0x1e6f6a*(-0x19f6+-0x1*-0x1abb+0xc1*-0x1)*(-0x1001+0x16b2+-0x6ae)+(-0x1048*-0x1+-0x1aa4+0x52e*0x2)]=_0x2fc336,_0x811a81['shadows'][_0x1e6f6a*(-0x1*-0x14e5+-0x55e*0x4+0x1*0x97)*(0x5f*0x6+0x1*-0xedc+0xca5)+(-0xf19+0x1351+-0x1*0x437)]=_0x51c3fd,_0x811a81['shadows'][_0x1e6f6a*(-0x9a6+0x1*-0x1993+0x233d)*(0x212+0xc4*0x2+-0x1*0x397)+(-0xc61+0x1*0x214f+-0x14ec)]=_0x389fb5,_0x811a81['shadows'][_0x1e6f6a*(0xfeb*0x1+0x1b1+-0x1198)*(0x1*-0x2662+0xc*0x313+-0x23*-0xb)+(0x1bc+0x459*0x7+0x24c*-0xe)]=_0x2fc336,_0x811a81['shadows'][_0x1e6f6a*(0x32*0x13+-0x3a9*-0x9+-0x24a3*0x1)*(0x12d*-0x17+0x2329+-0x81b)+(0x13*0x1a0+-0x17+-0x1ec5)]=_0x51c3fd,_0x811a81['shadows'][_0x1e6f6a*(-0x25bc+-0x13*0x176+0x15d6*0x3)*(0x4a3*0x8+-0xf2*0x1f+-0x7c7)+(-0x12c6+-0x1*0x1055+0x2320)]=_0x389fb5,_0x811a81['shadows'][_0x1e6f6a*(-0x137d+-0x1a9*-0x5+0x3*0x3bc)*(0x53*0x47+-0x15c1+-0x141)+(0x782+0x5e*-0x4+-0x604)]=_0x2fc336,_0x811a81['shadows'][_0x1e6f6a*(0x234e+-0x538*0x2+0x18da*-0x1)*(-0x18f1*0x1+0x1a57*-0x1+0x334b)+(0x12fd*0x1+0xf*-0x45+0x13*-0xc9)]=_0x51c3fd,_0x811a81['shadows'][_0x1e6f6a*(0x231d+0x1b1f+-0x3e38)*(-0x3f*0x3f+0x7*0x119+0x7d5*0x1)+(-0xa*-0x3+0x6*0x219+-0xcac)]=_0x389fb5,_0x811a81['shadows'][_0x1e6f6a*(-0x1595*0x1+0x1eee+-0x955)*(-0x1*0x2472+0x202a+0x44b)+(0x190a+0xf8+0x1*-0x19f9)]=_0x2fc336,_0x811a81['shadows'][_0x1e6f6a*(0x180e*0x1+-0x1a55+0x1*0x24b)*(0x1a9c+-0x1*-0x1bd3+-0x366c)+(-0xfa9*0x1+-0x7ae+0x85*0x2d)]=_0x51c3fd,_0x811a81['shadows'][_0x1e6f6a*(0x3df*0x1+-0x4ad+0xd2)*(-0x5bd+0x3*0x212+-0x76)+(-0x11f1+-0x2113*0x1+-0x1*-0x330f)]=_0x389fb5,_0x811a81['quad']++;}_0x2b1744||_0x41803a<_0x3871ac&&_0x429b3b(this['_symbols'],_0x3871ac,_0x18a406);}this['_noResize']=!(0x17a4+-0xd41+-0x1*0xa63),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x1df+0x2*0x30e+-0x43c);const _0x38d92f=this['_element']['pivot']['x'],_0x3b0ee7=this['_element']['pivot']['y'],_0x1868bb=this['_alignment']['x'],_0x4a574d=this['_alignment']['y'];for(let _0x2ccb06=-0x3*-0x3a1+0x989+-0x146c;_0x2ccb06<this['_meshInfo']['length'];_0x2ccb06++){if(this['_meshInfo'][_0x2ccb06]['count']===0x1*-0x2bb+0x18d4+-0x1619)continue;let _0x551364=0x5ef+0xb5d+-0x9*0x1ec;for(const _0xbc9bb1 in this['_meshInfo'][_0x2ccb06]['lines']){const _0x57379c=this['_meshInfo'][_0x2ccb06]['lines'][_0xbc9bb1],_0x1c5063=this['_lineWidth'+'s'][parseInt(_0xbc9bb1,0x1c14+-0x156f*0x1+-0x69b)],_0x3a2252=-_0x38d92f*this['_element']['calculated'+'Width']+_0x1868bb*(this['_element']['calculated'+'Width']-_0x1c5063)*(this['_rtl']?-(-0x13*-0x8d+-0x1b9a*0x1+0x1124):-0x26fc+0x15c+0x25a1),_0x415dce=(-0xbc0*0x3+-0x1272+0x35b3-_0x3b0ee7)*this['_element']['calculated'+'Height']-_0x597d83-(0x2f3+-0x1d77+0x5d*0x49-_0x4a574d)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x303af0=_0x551364;_0x303af0<=_0x57379c;_0x303af0++)this['_meshInfo'][_0x2ccb06]['positions'][_0x303af0*(-0x2042+-0x2*-0x12b9+-0x296*0x2)*(0x19ec+-0x4*-0x445+-0x2afd)]+=_0x3a2252,this['_meshInfo'][_0x2ccb06]['positions'][_0x303af0*(-0x2*0x95+-0x24db+0x7*0x56f)*(0xe7a+-0x581*0x3+0x20c)+(-0xe85+-0x1f31+0x925*0x5)]+=_0x3a2252,this['_meshInfo'][_0x2ccb06]['positions'][_0x303af0*(-0x1cd4+0x7a7*-0x1+0x247f)*(0x10*0x49+0x1ca2+-0x212f)+(0x98+0x9*-0x346+-0x2b*-0xac)]+=_0x3a2252,this['_meshInfo'][_0x2ccb06]['positions'][_0x303af0*(-0x1695+0x2*-0xf25+0x34e3)*(0x2b5+0x1ada+-0x1d8c)+(0x2279+-0x56f*0x2+0x7*-0x35e)]+=_0x3a2252,this['_meshInfo'][_0x2ccb06]['positions'][_0x303af0*(-0x223e+0x1a83*-0x1+0x3cc5)*(-0x10bb+-0x248a+0x3e*0xdc)+(0xf79*0x1+-0x2626+-0x16ae*-0x1)]+=_0x415dce,this['_meshInfo'][_0x2ccb06]['positions'][_0x303af0*(-0x2599+0x252d*0x1+0x7*0x10)*(-0x769+0x2303+-0x3f1*0x7)+(0x93*-0x11+0x2*-0x12ed+0x2fa1)]+=_0x415dce,this['_meshInfo'][_0x2ccb06]['positions'][_0x303af0*(0xe81+-0x147*0x11+0x172*0x5)*(-0x1a72+0x173c+0x19*0x21)+(-0x3b*-0x5+0x2ff*-0x7+0x13d9)]+=_0x415dce,this['_meshInfo'][_0x2ccb06]['positions'][_0x303af0*(-0x1cc7+0x1327*-0x1+0x2ff2*0x1)*(0x169a+-0x740+-0xf57)+(0x7*-0x4c5+0xa60+0x170d)]+=_0x415dce;if(this['_rtl'])for(let _0x1f77f2=_0x551364;_0x1f77f2<=_0x57379c;_0x1f77f2++){const _0x58e2c8=_0x1f77f2*(0x7db*-0x3+-0x3*0x288+0x1f2d*0x1)*(-0xe*0x2c7+-0x1e2+-0x3b5*-0xb);for(let _0xae5b7=-0x1*-0x2351+-0x4*0x52f+-0xe95;_0xae5b7<0x1*-0xc1b+0x1d79*-0x1+0xf2*0x2c;++_0xae5b7)this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+_0xae5b7*(-0x852+-0x163d+-0x22f*-0xe)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+_0xae5b7*(0x1a87+-0xf91+-0xaf3*0x1)]+_0x3a2252*(-0x24e0+0x179*0xb+-0x423*-0x5);const _0x2238dd=this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+(-0x7f*-0x3+-0x641*0x2+0xb08)],_0x4151e0=this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+(-0x260a+-0xafc+0x310c)];this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+(-0x27c+-0x2252+0x24d1)]=this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+(-0x25e1+-0x23e4+0x49c5)],this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+(0x17ab+-0x6e*-0x58+0x1*-0x3d75)]=this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+(-0x1*-0xd04+0x650+-0x1c1*0xb)],this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+(0x13cb+0x9*0x34d+-0x3180)]=_0x2238dd,this['_meshInfo'][_0x2ccb06]['positions'][_0x58e2c8+(0x141d+0x1c4b*-0x1+-0x1*-0x837)]=_0x4151e0;}_0x551364=_0x57379c+(0x14eb+0x13cd+0x1*-0x28b7);}const _0x2cfaca=this['_meshInfo'][_0x2ccb06]['count']*(-0x427+0x97d*-0x1+-0x6d4*-0x2),_0x2aac15=this['_meshInfo'][_0x2ccb06]['quad']*(-0x1a8d+0x1f5f+-0x4ce),_0x36985a=new go(this['_meshInfo'][_0x2ccb06]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x1d8ca2=0x11b7+-0x20cb+0xf14;_0x1d8ca2<_0x2cfaca;_0x1d8ca2++)_0x1d8ca2>=_0x2aac15?(_0x36985a['element'][He]['set'](-0xd9f+-0x24f2+0x3291,0x14d8+0x1f52+-0x342a,0xbc3*-0x1+-0xb96+0x1759),_0x36985a['element'][ns]['set'](-0x4*0xa7+-0x1fc+0x2*0x24c,0x6ca+0xd42*-0x2+0x13ba),_0x36985a['element'][At]['set'](0xc98+-0x90b*0x3+-0x1*-0xe89,0x103d*-0x1+-0x18f6+-0xc7*-0x35,-0x2634+-0x17ef+0x3e23,0x2113*-0x1+-0xf*-0xc0+0x15d3),_0x36985a['element'][Po]['set'](0x251b+-0x3*0x761+-0xef8,-0x1*0x1d11+-0x2546+-0x161d*-0x3,-0x248*0x6+-0x124a+0x1ffa,-0x1454+0x1*-0x208d+0x34e1),_0x36985a['element'][Ro]['set'](0x23f7+-0x41*0x89+0x2*-0x97,-0x82e*-0x1+0x201e+-0x4*0xa13,-0x16d1*-0x1+0xd*-0x211+0xe*0x4a,0x3e6+-0x1acf+-0x73*-0x33)):(_0x36985a['element'][He]['set'](this['_meshInfo'][_0x2ccb06]['positions'][_0x1d8ca2*(-0x24c3+-0x40*-0x81+0x486)+(0x48d*-0x7+-0x24c9+0x44a4)],this['_meshInfo'][_0x2ccb06]['positions'][_0x1d8ca2*(0xcfe*-0x1+0x2*0x2b+0xcab)+(-0xd5b+0x8b8+0x4a4)],this['_meshInfo'][_0x2ccb06]['positions'][_0x1d8ca2*(-0x18a*0x4+-0x3*-0x10d+0x304)+(0x416*0x1+0x5ee+-0xa02)]),_0x36985a['element'][ns]['set'](this['_meshInfo'][_0x2ccb06]['uvs'][_0x1d8ca2*(-0x3*0x4d5+0x8e3+-0x1*-0x59e)+(-0xa90+0x470+-0x188*-0x4)],this['_meshInfo'][_0x2ccb06]['uvs'][_0x1d8ca2*(0x91d+-0x5f0+-0x32b)+(-0x26df+-0x1*0xbfb+0x32db)]),_0x36985a['element'][At]['set'](this['_meshInfo'][_0x2ccb06]['colors'][_0x1d8ca2*(-0x36e*0x7+-0x2293+0x3a99)+(-0x25b+-0x47*-0x16+-0x3bf*0x1)],this['_meshInfo'][_0x2ccb06]['colors'][_0x1d8ca2*(0x254*-0x2+-0x20bb+0x2567*0x1)+(-0x189*0x10+0x1*0x1904+0x1*-0x73)],this['_meshInfo'][_0x2ccb06]['colors'][_0x1d8ca2*(0x1*-0x6e3+0x2*0x496+-0x245)+(0x21bd+-0x327+0xf4a*-0x2)],this['_meshInfo'][_0x2ccb06]['colors'][_0x1d8ca2*(-0x235a+0x1ff3*-0x1+0x4351)+(0x1eb0+0x1*0x1ba0+-0x3e3*0xf)]),_0x36985a['element'][Po]['set'](this['_meshInfo'][_0x2ccb06]['outlines'][_0x1d8ca2*(0x264c*-0x1+0x2626+-0x1*-0x29)+(0x24c5+0x22b1+-0x4776)],this['_meshInfo'][_0x2ccb06]['outlines'][_0x1d8ca2*(0x16f1+0x10c8+-0x27b6)+(0x1b3d+0x1704+0x10c0*-0x3)],this['_meshInfo'][_0x2ccb06]['outlines'][_0x1d8ca2*(0x13c*0xe+-0x2f3*0xa+-0x3*-0x413)+(0x313*0xa+-0x239*-0x10+0x2*-0x2126)]),_0x36985a['element'][Ro]['set'](this['_meshInfo'][_0x2ccb06]['shadows'][_0x1d8ca2*(0x985*-0x1+-0x5*0xf9+0x14f*0xb)+(0x156e+0x24ba+0x2*-0x1d14)],this['_meshInfo'][_0x2ccb06]['shadows'][_0x1d8ca2*(-0xb60+-0x1ecc+0x2a2f)+(-0xb72*-0x1+0xcc*0x1+-0xc3d*0x1)],this['_meshInfo'][_0x2ccb06]['shadows'][_0x1d8ca2*(-0x1352+0x22f*-0x10+0x1*0x3645)+(0x13*0x185+0x2*-0x8df+-0xd*0xdb)])),_0x36985a['next']();_0x36985a['end'](),this['_meshInfo'][_0x2ccb06]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x2ccb06]['positions']),this['_meshInfo'][_0x2ccb06]['meshInstan'+'ce']['_aabbVer']=-(-0x4f*-0x31+-0xc55+0x17*-0x1f);}this['_aabbDirty']=!(0x1*-0x16eb+0xcde+-0x1f*-0x53);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x4bacd6){this['font']!==_0x4bacd6['resource']&&(this['font']=_0x4bacd6['resource']);}['_onFontCha'+'nge'](_0x381572,_0x4a3b81,_0x507e1b,_0x1efede){if(_0x4a3b81==='data'){this['_font']['data']=_0x507e1b;const _0x3b2013=this['_font']['data']['info']['maps']['length'];for(let _0x1740ac=-0x87b+0xf2c+-0x6b1;_0x1740ac<_0x3b2013;_0x1740ac++){if(!this['_meshInfo'][_0x1740ac])continue;const _0x5400fb=this['_meshInfo'][_0x1740ac]['meshInstan'+'ce'];_0x5400fb&&(_0x5400fb['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x5400fb['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x5400fb['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1740ac]['width']));}}}['_onFontRem'+'ove'](_0x29f6d8){}['_setTextur'+'eParams'](_0x21a5c7,_0x4b7d15){this['_font']&&(this['_font']['type']===Kh?(_0x21a5c7['deletePara'+'meter']('texture_em'+'issiveMap'),_0x21a5c7['deletePara'+'meter']('texture_op'+'acityMap'),_0x21a5c7['setParamet'+'er']('texture_ms'+'dfMap',_0x4b7d15)):this['_font']['type']===yR&&(_0x21a5c7['deletePara'+'meter']('texture_ms'+'dfMap'),_0x21a5c7['setParamet'+'er']('texture_em'+'issiveMap',_0x4b7d15),_0x21a5c7['setParamet'+'er']('texture_op'+'acityMap',_0x4b7d15)));}['_getPxRang'+'e'](_0x216b16){const _0x5683d7=Object['keys'](this['_font']['data']['chars']);for(let _0xa4956=0x200c+0x27*0x35+0x281f*-0x1;_0xa4956<_0x5683d7['length'];_0xa4956++){const _0x96c986=this['_font']['data']['chars'][_0x5683d7[_0xa4956]];if(_0x96c986['range'])return(_0x96c986['scale']||0x697+-0x6b*0x2f+0x1*0xd0f)*_0x96c986['range'];}return 0x21dc+0x259*0x7+0x3*-0x10c3;}['_getUv'](_0x54a91b){const _0x235978=this['_font']['data'];if(!_0x235978['chars'][_0x54a91b]){const _0x10a3b8='\x20';return _0x235978['chars'][_0x10a3b8]?this['_getUv'](_0x10a3b8):[0x1efd*-0x1+-0x180c+0x3709,0x259f*0x1+0x2212+-0x47b1*0x1,0xc98+0x923*-0x3+0xed1,0x4c7*-0x3+0x1be*-0xb+0xaf*0x31];}const _0x1e5b8c=_0x235978['chars'][_0x54a91b]['map'],_0x30fc7c=_0x235978['info']['maps'][_0x1e5b8c]['width'],_0x1e432d=_0x235978['info']['maps'][_0x1e5b8c]['height'],_0x20531f=_0x235978['chars'][_0x54a91b]['x'],_0x2b75e4=_0x235978['chars'][_0x54a91b]['y'],_0x4257a5=_0x20531f,_0x41612f=_0x2b75e4,_0x37c4ff=_0x20531f+_0x235978['chars'][_0x54a91b]['width'],_0xda8a31=_0x2b75e4-_0x235978['chars'][_0x54a91b]['height'],_0x2c3bea=0x1ea+-0x1bef+0x2*0xd03-_0x235978['chars'][_0x54a91b]['height']/_0x1e432d;return[_0x4257a5/_0x30fc7c,_0x2c3bea-_0x41612f/_0x1e432d,_0x37c4ff/_0x30fc7c,_0x2c3bea-_0xda8a31/_0x1e432d];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x230+-0x384+0x5b4),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x37e+0x5ef*-0x5+0x1a2e),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x416cb3){if(this['_model']){const _0x44a268=this['_model']['meshInstan'+'ces'];for(let _0x5c26c6=0x2*-0x10d2+0x5*0x7+0x2181;_0x5c26c6<_0x44a268['length'];_0x5c26c6++)_0x44a268[_0x5c26c6]['stencilFro'+'nt']=_0x416cb3,_0x44a268[_0x5c26c6]['stencilBac'+'k']=_0x416cb3;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x571fc4){const _0x45ec7d={};_0x571fc4===void(0xa78+0x15b2+0x1015*-0x2)&&(_0x571fc4=this['_symbols']['length']);for(let _0x177e26=0x19b+-0xb3e*-0x1+0xfd*-0xd,_0x54a1bf=_0x571fc4;_0x177e26<_0x54a1bf;_0x177e26++){const _0x21f498=this['_symbols'][_0x177e26];let _0x3741d6=this['_font']['data']['chars'][_0x21f498];_0x3741d6||(_0x3741d6=this['_font']['data']['chars']['\x20'],_0x3741d6||(_0x3741d6=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x14*0x188+-0x4c7*-0x7+0x7*-0x67]]));const _0x5842d3=_0x3741d6['map'];_0x45ec7d[_0x5842d3]?_0x45ec7d[_0x5842d3]++:_0x45ec7d[_0x5842d3]=0xf5a+-0x6*-0x61a+-0x2f*0x11b;}return _0x45ec7d;}['_updateRen'+'derRange'](){const _0x9657a8=this['_rangeStar'+'t']===-0x4d3+-0x994*-0x1+-0x4c1?0x2*-0xa9+-0x749+0x89b:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x50b87b=this['_rangeEnd']===-0x916+-0xa4e*0x1+-0x2*-0x9b2?-0x255*0x5+-0x5be+-0xa5*-0x1b:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x5e4e7e=-0xd10+0x9*0x11b+0x1*0x31d,_0x39ecb6=this['_meshInfo']['length'];_0x5e4e7e<_0x39ecb6;_0x5e4e7e++){const _0x52abe5=_0x9657a8[_0x5e4e7e]||-0xd39*-0x1+0xcaa*0x2+-0x268d,_0x1cff74=_0x50b87b[_0x5e4e7e]||-0x7bb*-0x4+0x6*-0x24+-0x1e14,_0x482de9=this['_meshInfo'][_0x5e4e7e]['meshInstan'+'ce'];if(_0x482de9){const _0x5d0c0c=_0x482de9['mesh'];_0x5d0c0c&&(_0x5d0c0c['primitive'][-0x13ac*-0x1+0x14c6+-0x1*0x2872]['base']=_0x52abe5*(-0x1c5b+0x22d+-0x1bf*-0xf)*(0x1*-0x416+0x21a0+-0x1d88),_0x5d0c0c['primitive'][0xcd*0x1d+0x336*-0x2+-0x187*0xb]['count']=(_0x1cff74-_0x52abe5)*(-0x87b+0x21d8*-0x1+0x2a56*0x1)*(-0x16c7*0x1+0x7*0x4cc+-0xacb));}}}set['text'](_0x5c8ef0){this['_i18nKey']=null;const _0x2d19f7=_0x5c8ef0!=null&&_0x5c8ef0['toString']()||'';this['_setText'](_0x2d19f7);}get['text'](){return this['_text'];}set['key'](_0x267cdd){const _0x154cd7=_0x267cdd!==null?_0x267cdd['toString']():null;this['_i18nKey']!==_0x154cd7&&(this['_i18nKey']=_0x154cd7,_0x154cd7?(this['_fontAsset']['disableLoc'+'alization']=!(-0x493+-0xf5e+0x13f2),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x166*0x18+-0x2*-0xec8+-0x28*0x194));}get['key'](){return this['_i18nKey'];}set['color'](_0x37305d){const _0x5de36c=_0x37305d['r'],_0x2aa445=_0x37305d['g'],_0x3ed71e=_0x37305d['b'];if(this['_color']===_0x37305d&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x5de36c&&this['_color']['g']===_0x2aa445&&this['_color']['b']===_0x3ed71e)&&(this['_color']['r']=_0x5de36c,this['_color']['g']=_0x2aa445,this['_color']['b']=_0x3ed71e,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x2281+0x3b7*-0x6+-0x3b*0x35]=Me['r'],this['_colorUnif'+'orm'][-0x1cb2+-0x2429+-0x7*-0x944]=Me['g'],this['_colorUnif'+'orm'][-0x1abb*-0x1+0x146f+0x5e5*-0x8]=Me['b'];for(let _0x13cb31=-0x94e*0x2+-0xb4*-0x4+0xfcc,_0x381f78=this['_model']['meshInstan'+'ces']['length'];_0x13cb31<_0x381f78;_0x13cb31++)this['_model']['meshInstan'+'ces'][_0x13cb31]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x5d1be8){if(this['_color']['a']!==_0x5d1be8&&(this['_color']['a']=_0x5d1be8,this['_model'])){for(let _0x3e880e=-0xbcf+0x5cd+-0x301*-0x2,_0x51faac=this['_model']['meshInstan'+'ces']['length'];_0x3e880e<_0x51faac;_0x3e880e++)this['_model']['meshInstan'+'ces'][_0x3e880e]['setParamet'+'er']('material_o'+'pacity',_0x5d1be8);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x5d1be8);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x24a8b6){const _0x64859f=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x24a8b6,this['_scaledLin'+'eHeight']=_0x24a8b6,_0x64859f!==_0x24a8b6&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x15e0bf){const _0x1c9874=this['_wrapLines'];this['_wrapLines']=_0x15e0bf,_0x1c9874!==_0x15e0bf&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x16a1e4){const _0x449cc0=this['_spacing'];this['_spacing']=_0x16a1e4,_0x449cc0!==_0x16a1e4&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x4d4ad5){const _0x274259=this['_fontSize'];this['_fontSize']=_0x4d4ad5,this['_originalF'+'ontSize']=_0x4d4ad5,_0x274259!==_0x4d4ad5&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x546156){this['_fontAsset']['defaultAss'+'et']=_0x546156;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x17d2e6){let _0x338f75;if(this['_font']&&(_0x338f75=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x17d2e6,this['_fontMinY']=0x45*0x49+0x1*-0xfdd+0xf4*-0x4,this['_fontMaxY']=-0x1148+-0x10d9+0x2221,!_0x17d2e6)return;const _0x494171=this['_font']['data'];for(const _0x24f1ed in _0x494171['chars']){const _0x4149e6=_0x494171['chars'][_0x24f1ed];_0x4149e6['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x4149e6['bounds'][0x1cc3+-0x26b+-0x1a57]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x4149e6['bounds'][0x1e60+0x16e9*-0x1+0x2*-0x3ba]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x17d2e6['type']!==_0x338f75){const _0x3dd9e8=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3dd9e8);}for(let _0xe77ebd=-0x2a5+-0x1535+0x17da,_0x5564bf=this['_font']['textures']['length'];_0xe77ebd<_0x5564bf;_0xe77ebd++)if(!this['_meshInfo'][_0xe77ebd])this['_meshInfo'][_0xe77ebd]=new CR();else{const _0x370681=this['_meshInfo'][_0xe77ebd]['meshInstan'+'ce'];_0x370681&&(_0x370681['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x370681['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x370681['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0xe77ebd]['width']),this['_setTextur'+'eParams'](_0x370681,this['_font']['textures'][_0xe77ebd]));}let _0x2a2496=!(0x74b*0x4+0x3a1*-0x1+-0x198a);for(let _0x2a5659=this['_font']['textures']['length'];_0x2a5659<this['_meshInfo']['length'];_0x2a5659++)this['_meshInfo'][_0x2a5659]['meshInstan'+'ce']&&(_0x2a2496||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x2a2496=!(-0x4*-0x95e+-0x76*-0x40+-0x42f8*0x1)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x2a5659]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x29629b){_0x29629b instanceof W?this['_alignment']['set'](_0x29629b['x'],_0x29629b['y']):this['_alignment']['set'](_0x29629b[0x1ae1*-0x1+-0x63*-0x3c+0x3ad],_0x29629b[0x919+-0x260b*0x1+-0x1cf3*-0x1]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x5e02eb){const _0x3428c2=this['_autoWidth'];if(this['_autoWidth']=_0x5e02eb,_0x5e02eb&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x2*-0x1205+-0x19e7+0x3df1+0.0001&&(this['_element']['width']=this['width']),_0x3428c2!==_0x5e02eb){const _0x4fe394=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x4fe394!==this['_fontSize']&&(this['_fontSize']=_0x4fe394,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x1f9c1e){const _0xd7ddd6=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x1f9c1e,_0x1f9c1e&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x6*-0x1a4+0xa*0x18b+-0x596+0.0001&&(this['_element']['height']=this['height']),_0xd7ddd6!==_0x1f9c1e){const _0x29103f=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x29103f!==this['_fontSize']&&(this['_fontSize']=_0x29103f,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x377235){this['_rtlReorde'+'r']!==_0x377235&&(this['_rtlReorde'+'r']=_0x377235,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x2761d6){this['_unicodeCo'+'nverter']!==_0x2761d6&&(this['_unicodeCo'+'nverter']=_0x2761d6,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x19bcf8=!(-0x4*-0x1e8+0x449*-0x2+0xf3);for(let _0x59e233=-0x8*0x385+-0x5a*-0x10+-0x38*-0x67;_0x59e233<this['_meshInfo']['length'];_0x59e233++)this['_meshInfo'][_0x59e233]['meshInstan'+'ce']&&(_0x19bcf8?this['_aabb']['add'](this['_meshInfo'][_0x59e233]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x59e233]['meshInstan'+'ce']['aabb']),_0x19bcf8=!(-0x3f1*0x1+-0x4*0x12f+0x8ad)));this['_aabbDirty']=!(0xdda+0x1228+-0x2001*0x1);}return this['_aabb'];}set['outlineCol'+'or'](_0xa2f120){const _0x4e66df=_0xa2f120 instanceof Y?_0xa2f120['r']:_0xa2f120[-0x1ed3+0x70c+0x17c7],_0x59cb50=_0xa2f120 instanceof Y?_0xa2f120['g']:_0xa2f120[0x11*-0x1dd+0xdb9+0x1*0x11f5],_0x2f3b47=_0xa2f120 instanceof Y?_0xa2f120['b']:_0xa2f120[0x111c+-0x5*-0x313+-0x2079],_0x25aac9=_0xa2f120 instanceof Y?_0xa2f120['a']:_0xa2f120[0x13d5*0x1+0x10a0+-0x2472];if(this['_outlineCo'+'lor']===_0xa2f120&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x4e66df&&this['_outlineCo'+'lor']['g']===_0x59cb50&&this['_outlineCo'+'lor']['b']===_0x2f3b47&&this['_outlineCo'+'lor']['a']===_0x25aac9)&&(this['_outlineCo'+'lor']['r']=_0x4e66df,this['_outlineCo'+'lor']['g']=_0x59cb50,this['_outlineCo'+'lor']['b']=_0x2f3b47,this['_outlineCo'+'lor']['a']=_0x25aac9,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x1cf4+0x48e+0x10c1*-0x2]=Me['r'],this['_outlineCo'+'lorUniform'][0x27*0x4+0x887*0x1+-0x922]=Me['g'],this['_outlineCo'+'lorUniform'][-0x198a+0x4f*0x6+0x17b2]=Me['b'],this['_outlineCo'+'lorUniform'][-0x637+0x26*0xb5+0x529*-0x4]=Me['a'];for(let _0x246a39=-0x1d*0x35+-0x485*-0x1+0x17c,_0x4b8c5a=this['_model']['meshInstan'+'ces']['length'];_0x246a39<_0x4b8c5a;_0x246a39++)this['_model']['meshInstan'+'ces'][_0x246a39]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x3e66c3){const _0x52fac7=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x3e66c3,_0x52fac7!==_0x3e66c3&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x4c60ef=-0x177a+-0xd*0x301+0x3e87*0x1,_0x962c4e=this['_model']['meshInstan'+'ces']['length'];_0x4c60ef<_0x962c4e;_0x4c60ef++)this['_model']['meshInstan'+'ces'][_0x4c60ef]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x36517d){const _0x5f38b8=_0x36517d instanceof Y?_0x36517d['r']:_0x36517d[0x15aa+0x15da+0x45a*-0xa],_0x222bb8=_0x36517d instanceof Y?_0x36517d['g']:_0x36517d[0xf*-0x89+-0x4*0x8a3+0x2*0x154a],_0x5a10bd=_0x36517d instanceof Y?_0x36517d['b']:_0x36517d[0x14f*0x7+0x8d5+-0x11fc],_0x1b7d80=_0x36517d instanceof Y?_0x36517d['a']:_0x36517d[-0x1*-0xa2e+0xe29+-0x1854];if(this['_shadowCol'+'or']===_0x36517d&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x5f38b8&&this['_shadowCol'+'or']['g']===_0x222bb8&&this['_shadowCol'+'or']['b']===_0x5a10bd&&this['_shadowCol'+'or']['a']===_0x1b7d80)&&(this['_shadowCol'+'or']['r']=_0x5f38b8,this['_shadowCol'+'or']['g']=_0x222bb8,this['_shadowCol'+'or']['b']=_0x5a10bd,this['_shadowCol'+'or']['a']=_0x1b7d80,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x11e6*0x1+-0xbe*-0x5+-0x159c]=Me['r'],this['_shadowCol'+'orUniform'][0x1085+0xa90+-0xd8a*0x2]=Me['g'],this['_shadowCol'+'orUniform'][-0x38*-0x14+0x1*-0xb2a+0xc*0x91]=Me['b'],this['_shadowCol'+'orUniform'][0x766*-0x5+0x26f3+-0x1f2]=Me['a'];for(let _0x474a62=-0xfd2+-0xc2c+-0xdff*-0x2,_0x539ca6=this['_model']['meshInstan'+'ces']['length'];_0x474a62<_0x539ca6;_0x474a62++)this['_model']['meshInstan'+'ces'][_0x474a62]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0xddd921){const _0x2627c8=_0xddd921 instanceof W?_0xddd921['x']:_0xddd921[0xd34+0x13c4+-0x698*0x5],_0x585c07=_0xddd921 instanceof W?_0xddd921['y']:_0xddd921[-0x1*-0x7f1+0x1d7*-0x7+0x73*0xb];if(!(this['_shadowOff'+'set']['x']===_0x2627c8&&this['_shadowOff'+'set']['y']===_0x585c07)&&(this['_shadowOff'+'set']['set'](_0x2627c8,_0x585c07),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x10c764=0x25c4+-0x26fe+0x13a,_0xeec699=this['_model']['meshInstan'+'ces']['length'];_0x10c764<_0xeec699;_0x10c764++){const _0x505716=-this['_font']['data']['info']['maps'][_0x10c764]['width']/this['_font']['data']['info']['maps'][_0x10c764]['height'];this['_shadowOff'+'setUniform'][0x13*0x1f7+-0x21f2+-0x3*0x121]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1017+0x7*0x229+0xa67*-0x3]=_0x505716*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x10c764]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x3017ed){this['_minFontSi'+'ze']!==_0x3017ed&&(this['_minFontSi'+'ze']=_0x3017ed,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x27b71a){this['_maxFontSi'+'ze']!==_0x27b71a&&(this['_maxFontSi'+'ze']=_0x27b71a,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x2be9c9){this['_autoFitWi'+'dth']!==_0x2be9c9&&(this['_autoFitWi'+'dth']=_0x2be9c9,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x3d45d){this['_autoFitHe'+'ight']!==_0x3d45d&&(this['_autoFitHe'+'ight']=_0x3d45d,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x2cbd7d){this['_maxLines']!==_0x2cbd7d&&(_0x2cbd7d===null&&this['_maxLines']===-(-0x149*0x11+-0x1*0x14f4+0x1*0x2ace)||(this['_maxLines']=_0x2cbd7d===null?-(0x2505+0xf6+-0x1*0x25fa):_0x2cbd7d,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x5e1e5e){if(_0x5e1e5e=!!_0x5e1e5e,this['_enableMar'+'kup']===_0x5e1e5e)return;this['_enableMar'+'kup']=_0x5e1e5e,this['font']&&this['_updateTex'+'t']();const _0x1e327f=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x1e327f);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x3e5651){return this['_colorPale'+'tte']['slice'](_0x3e5651*(-0x4fd*-0x6+0x130f+-0x30fa),_0x3e5651*(0xc7*-0x2a+-0x1b*-0x5d+0x16da)+(-0x23d*-0xb+0x1afa+-0x6*0x899));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x547f0b){return this['_outlinePa'+'lette']['slice'](_0x547f0b*(0x1*-0x1e91+0x1db8+0xde),_0x547f0b*(-0x953*0x2+-0x4be+0x1769*0x1)+(0x110c+-0x83f+-0x232*0x4));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x49a132){return this['_shadowPal'+'ette']['slice'](_0x49a132*(0x1b20+0xd*0x4f+-0x1b*0x127),_0x49a132*(-0x6*0x291+-0xf82+-0x1*-0x1eee)+(0x82e+0x170e*-0x1+-0x1*-0xee6));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x2bcde2){_0x2bcde2=Math['max'](0x10bb+0x2125+-0x31e0,Math['min'](_0x2bcde2,this['_symbols']['length'])),_0x2bcde2!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x2bcde2,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x4412da){_0x4412da=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x4412da,this['_symbols']['length'])),_0x4412da!==this['_rangeEnd']&&(this['_rangeEnd']=_0x4412da,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x257c3d,_0x78031f){super(_0x257c3d,_0x78031f),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x4*-0x41b+0xedd*-0x1+0x1f4a*0x1),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=0xb4a+-0x249f+0x7*0x3a3,this['_height']=this['_calculate'+'dHeight']=-0x1b0+0x1ed9+-0x1d09,this['_margin']=new Q(-0xa93+0x1f*-0x53+-0x6*-0x370,0x879+0x12b4+-0x1b2d,-(-0x12f9+-0x1224+-0x253d*-0x1),-(-0x2*0xf3+-0x1997*-0x1+-0x1791)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(-0x10eb+0x418*0x4+-0x1*-0x8b),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(-0x40c*-0x4+0x181d+-0x284d),this['_canvasCor'+'nersDirty']=!(0x1c2+0xd8d*-0x1+-0x1*-0xbcb),this['_worldCorn'+'ersDirty']=!(-0x8b9+0x2095+-0xc*0x1fd),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x1*0x829+0x2135*0x1+0x4*-0x643,this['_fitMode']=gh,this['_useInput']=!(-0x57*0x26+-0x14f*-0x1b+0xb35*-0x2),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x1810+-0xdc6+0x25d7*0x1),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x22ec+0x1*-0x6fd+0x1*0x29e9,this['_maskOffse'+'t']=-0xb21+-0x9*-0xa3+0x566+0.5,this['_maskedBy']=null);}get['data'](){const _0x4dc20b=this['system']['store'][this['entity']['getGuid']()];return _0x4dc20b?_0x4dc20b['data']:null;}set['enabled'](_0x5deb77){const _0xe4f3be=this['data'],_0x118cb4=_0xe4f3be['enabled'];_0xe4f3be['enabled']=_0x5deb77,this['fire']('set','enabled',_0x118cb4,_0x5deb77);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x4*0x935+-0x8ec+-0x1be8+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0xcb*0x10+0x169*-0x1a+0x315a+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x10420b){_0x10420b instanceof Q?this['_anchor']['copy'](_0x10420b):this['_anchor']['set'](..._0x10420b),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0xa3f*0x1+-0x2bb+-0x784),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x2a7beb){var _0x1f41c2,_0x9e0a62;this['_batchGrou'+'pId']!==_0x2a7beb&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x2b*0x2+-0x22e0+-0x2*-0x119b&&((_0x1f41c2=this['system']['app']['batcher'])==null||_0x1f41c2['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2a7beb>=-0x25*0x10c+-0x81c+0x1*0x2ed8&&((_0x9e0a62=this['system']['app']['batcher'])==null||_0x9e0a62['insert'](et['ELEMENT'],_0x2a7beb,this['entity'])),_0x2a7beb<0x7f*-0x4d+0x20eb+0x548&&this['_batchGrou'+'pId']>=0x2*0x161+-0x2602+-0x11a0*-0x2&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x2a7beb);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x1d1bb4){this['_margin']['y']=_0x1d1bb4;const _0x17a5c7=this['entity']['getLocalPo'+'sition'](),_0x37dd79=this['_absTop'],_0x1d8181=this['_localAnch'+'or']['y']+_0x1d1bb4;this['_setHeight'](_0x37dd79-_0x1d8181),_0x17a5c7['y']=_0x1d1bb4+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x17a5c7);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x24046d){this['_setCalcul'+'atedWidth'](_0x24046d,!(0x1*0x13a9+-0x1dc2+0x37*0x2f));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x5a2774){this['_setCalcul'+'atedHeight'](_0x5a2774,!(-0x9c7+0x26fe+-0x1d37));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x4fec79=this['system']['app']['graphicsDe'+'vice'],_0x3cea92=this['screenCorn'+'ers'],_0x21a440=_0x4fec79['canvas']['clientWidt'+'h']/_0x4fec79['width'],_0x20b372=_0x4fec79['canvas']['clientHeig'+'ht']/_0x4fec79['height'];for(let _0x3d2e47=0x1503+0x1b1f+-0x65*0x7a;_0x3d2e47<0x1572+-0x105+-0x1469;_0x3d2e47++)this['_canvasCor'+'ners'][_0x3d2e47]['set'](_0x3cea92[_0x3d2e47]['x']*_0x21a440,(_0x4fec79['height']-_0x3cea92[_0x3d2e47]['y'])*_0x20b372);return this['_canvasCor'+'nersDirty']=!(0x83*-0x32+-0x11d1*-0x2+-0xa0b),this['_canvasCor'+'ners'];}set['drawOrder'](_0x375513){let _0x5cae15=-0x1eff+-0x23e7+0x1*0x42e6;this['screen']&&(_0x5cae15=this['screen']['screen']['priority']),_0x375513>0x3ef61f+0xe14b1+-0x5*-0x23caa3&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x375513=0x24*-0xd1425+0xd704e4+-0x4293d*-0x7b),this['_drawOrder']=(_0x5cae15<<0x2283+0xa1c+-0x2c87)+_0x375513,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x4eba21){this['_height']=_0x4eba21,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x4eba21,!(0x2*-0xf89+-0x1e0d+0x1*0x3d1f)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x14250a){if(this['_addedMode'+'ls']['length'])for(let _0x425e33=0xddc+0x209+-0xfe5;_0x425e33<this['_layers']['length'];_0x425e33++){const _0x4bb794=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x425e33]);if(_0x4bb794){for(let _0x11a741=0x1b*-0x11a+-0x259f+0x435d;_0x11a741<this['_addedMode'+'ls']['length'];_0x11a741++)_0x4bb794['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x11a741]['meshInstan'+'ces']);}}if(this['_layers']=_0x14250a,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x3f8eda=0xd1a+-0x79*-0x1a+0x659*-0x4;_0x3f8eda<this['_layers']['length'];_0x3f8eda++){const _0x548b8e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3f8eda]);if(_0x548b8e){for(let _0x16e799=0x2638+-0x96a+-0x1cce;_0x16e799<this['_addedMode'+'ls']['length'];_0x16e799++)_0x548b8e['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x16e799]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x2a2426){this['_margin']['x']=_0x2a2426;const _0x5b6d51=this['entity']['getLocalPo'+'sition'](),_0x1ac30b=this['_absRight'],_0x189802=this['_localAnch'+'or']['x']+_0x2a2426;this['_setWidth'](_0x1ac30b-_0x189802),_0x5b6d51['x']=_0x2a2426+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x5b6d51);}get['left'](){return this['_margin']['x'];}set['margin'](_0x3b3e8d){this['_margin']['copy'](_0x3b3e8d),this['_calculate'+'Size'](!(-0x23*-0xec+-0x1b01+-0x1c1*0x3),!(-0x17e3+0x4a5+0x66a*0x3)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x2a98c8){const {pivot:_0x5d370f,margin:_0x52bc9f}=this,_0x576709=_0x5d370f['x'],_0x5e82f6=_0x5d370f['y'];_0x2a98c8 instanceof W?_0x5d370f['copy'](_0x2a98c8):_0x5d370f['set'](..._0x2a98c8);const _0x23a1b5=_0x52bc9f['x']+_0x52bc9f['z'],_0x52f19c=_0x5d370f['x']-_0x576709;_0x52bc9f['x']+=_0x23a1b5*_0x52f19c,_0x52bc9f['z']-=_0x23a1b5*_0x52f19c;const _0x310f05=_0x52bc9f['y']+_0x52bc9f['w'],_0x39ea66=_0x5d370f['y']-_0x5e82f6;_0x52bc9f['y']+=_0x310f05*_0x39ea66,_0x52bc9f['w']-=_0x310f05*_0x39ea66,this['_anchorDir'+'ty']=!(-0x19ea+0xf1e+0xacc),this['_cornersDi'+'rty']=!(0x2d8+-0x9fe*-0x1+-0xcd6),this['_worldCorn'+'ersDirty']=!(0x13ed*-0x1+0x15ab+-0xdf*0x2),this['_calculate'+'Size'](!(0x691*0x2+0x14f*-0x1d+0x18d2),!(-0x4bd*-0x3+-0xba8+-0x28e)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x5d370f);}get['pivot'](){return this['_pivot'];}set['right'](_0x33f9ed){this['_margin']['z']=_0x33f9ed;const _0x463b3b=this['entity']['getLocalPo'+'sition'](),_0x6f0511=this['_absLeft'],_0x2a8673=this['_localAnch'+'or']['z']-_0x33f9ed;this['_setWidth'](_0x2a8673-_0x6f0511),_0x463b3b['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x33f9ed-this['_calculate'+'dWidth']*(0xaa2*0x3+0x213*-0x5+-0x122*0x13-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x463b3b);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x99f771=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x1a44+-0x891+-0x11b3];this['_screenCor'+'ners'][0x4f*-0x21+0x76d+0x2c2]['set'](this['_absLeft'],this['_absBottom'],0x7f*0x33+0x986+-0x22d3),this['_screenCor'+'ners'][0x14da*0x1+-0x21e3*-0x1+-0x71*0x7c]['set'](this['_absRight'],this['_absBottom'],0x1*0x24f1+-0x1ea7+-0xe6*0x7),this['_screenCor'+'ners'][-0x6f3*0x5+0x13ec+0xed5*0x1]['set'](this['_absRight'],this['_absTop'],0x46*-0x25+0x1981+-0xf63),this['_screenCor'+'ners'][0x1f0c*-0x1+0xad5*0x3+0x2e*-0x8]['set'](this['_absLeft'],this['_absTop'],-0x1*-0x1e4d+0x247f+-0x42cc);const _0x4e075f=this['screen']['screen']['screenSpac'+'e'];for(let _0x452112=0x8fa+-0x10f*-0xb+0x149f*-0x1;_0x452112<-0x50f*0x6+0xb49+0x1315;_0x452112++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x452112],this['_screenCor'+'ners'][_0x452112]),_0x4e075f&&this['_screenCor'+'ners'][_0x452112]['mulScalar'](this['screen']['screen']['scale']),_0x99f771&&this['_screenCor'+'ners'][_0x452112]['add'](_0x99f771);return this['_cornersDi'+'rty']=!(0x1d9c+0x28d*0x3+0xfb*-0x26),this['_canvasCor'+'nersDirty']=!(-0x5*0x9e+0x30c*-0x7+-0x1*-0x186a),this['_worldCorn'+'ersDirty']=!(0x1d45+0x1ad3+-0x3818),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x1*0x289+0x1877*0x1+0x40*-0x6c;}get['textHeight'](){return this['_text']?this['_text']['height']:0x18e+-0xe73*0x2+0x1b58;}set['top'](_0x1d0ef5){this['_margin']['w']=_0x1d0ef5;const _0x200600=this['entity']['getLocalPo'+'sition'](),_0x501d77=this['_absBottom'],_0x27ccfc=this['_localAnch'+'or']['w']-_0x1d0ef5;this['_setHeight'](_0x27ccfc-_0x501d77),_0x200600['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x1d0ef5-this['_calculate'+'dHeight']*(0x3*-0x9f5+0x1*0x26e5+-0x905-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x200600);}get['top'](){return this['_margin']['w'];}set['type'](_0x3e15a8){_0x3e15a8!==this['_type']&&(this['_type']=_0x3e15a8,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x3e15a8===rf?this['_image']=new _R(this):_0x3e15a8===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0xe34421){this['_useInput']!==_0xe34421&&(this['_useInput']=_0xe34421,this['system']['app']['elementInp'+'ut']?_0xe34421?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x11f+-0x1faf*-0x1+0x1067*-0x2)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0xe34421));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x4958b5){this['_fitMode']=_0x4958b5,this['_calculate'+'Size'](!(0xd*0x2c7+0xc92*0x1+-0x30ad),!(-0x1*0x1831+-0x23b5+0x3be6)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x24a93e){this['_width']=_0x24a93e,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x24a93e,!(0x2*-0x160+0xa9b*-0x3+-0x1*-0x2291)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x1c3990=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0x34b*-0x4+0xa39+-0x53*0x48]=-es['data'][0x1a0d+-0x1c8*-0x11+0x2*-0x1c24],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x38abbe=0x925+-0x360+-0x5c5*0x1;_0x38abbe<-0x36+0x4*0x471+-0x118a;_0x38abbe++)es['transformP'+'oint'](_0x1c3990[_0x38abbe],this['_worldCorn'+'ers'][_0x38abbe]);}}else{const _0x328d85=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x328d85['x'],-_0x328d85['y'],-_0x328d85['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x328d85['x'],_0x328d85['y'],_0x328d85['z']);const _0x3a74b7=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x3a74b7['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x328d85['x']-this['pivot']['x']*this['calculated'+'Width'],_0x328d85['y']-this['pivot']['y']*this['calculated'+'Height'],_0x328d85['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x10a0+0x1f74+-0xed4]),ni['set'](_0x328d85['x']+(0x2*0xbe6+-0x60*0xf+0x122b*-0x1-this['pivot']['x'])*this['calculated'+'Width'],_0x328d85['y']-this['pivot']['y']*this['calculated'+'Height'],_0x328d85['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x21b+-0xc9f+0xa85*0x1]),ni['set'](_0x328d85['x']+(-0x1*-0x175d+-0x26c9+0x1*0xf6d-this['pivot']['x'])*this['calculated'+'Width'],_0x328d85['y']+(0x4bd*-0x1+-0x5b5*-0x1+-0xf7-this['pivot']['y'])*this['calculated'+'Height'],_0x328d85['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x1*0xd33+-0xf2*0x6+-0x785*0x1]),ni['set'](_0x328d85['x']-this['pivot']['x']*this['calculated'+'Width'],_0x328d85['y']+(-0x1da1+-0x2*-0x5e8+0x11d2-this['pivot']['y'])*this['calculated'+'Height'],_0x328d85['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x6fb+0xdc2+-0x6c4*0x1]);}return this['_worldCorn'+'ersDirty']=!(-0x1e*0xcb+0x182f*0x1+-0x64),this['_worldCorn'+'ers'];}set['fontSize'](_0x25dce8){this['_setValue']('fontSize',_0x25dce8);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x32d858){this['_setValue']('minFontSiz'+'e',_0x32d858);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x26e4f9){this['_setValue']('maxFontSiz'+'e',_0x26e4f9);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x4ad246){this['_setValue']('maxLines',_0x4ad246);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x3c30d7){this['_setValue']('autoFitWid'+'th',_0x3c30d7);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x2c2998){this['_setValue']('autoFitHei'+'ght',_0x2c2998);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x288a08){this['_setValue']('color',_0x288a08);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x4639d4){this['_setValue']('font',_0x4639d4);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x33d994){this['_setValue']('fontAsset',_0x33d994);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x3e97aa){this['_setValue']('spacing',_0x3e97aa);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x57fcb8){this['_setValue']('lineHeight',_0x57fcb8);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x5e7746){this['_setValue']('wrapLines',_0x5e7746);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0xc440e6){this['_setValue']('lines',_0xc440e6);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x225786){this['_setValue']('alignment',_0x225786);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x10ee15){this['_setValue']('autoWidth',_0x10ee15);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x263de0){this['_setValue']('autoHeight',_0x263de0);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x4e8857){this['_setValue']('rtlReorder',_0x4e8857);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x4cf810){this['_setValue']('unicodeCon'+'verter',_0x4cf810);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x52ab73){this['_setValue']('text',_0x52ab73);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x2b1b86){this['_setValue']('key',_0x2b1b86);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x3cacbd){this['_setValue']('texture',_0x3cacbd);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x3d65e0){this['_setValue']('textureAss'+'et',_0x3d65e0);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x2b7f58){this['_setValue']('material',_0x2b7f58);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x1bd2b9){this['_setValue']('materialAs'+'set',_0x1bd2b9);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x3dc731){this['_setValue']('sprite',_0x3dc731);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x25e6e9){this['_setValue']('spriteAsse'+'t',_0x25e6e9);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x183c67){this['_setValue']('spriteFram'+'e',_0x183c67);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x5c2a0d){this['_setValue']('pixelsPerU'+'nit',_0x5c2a0d);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x821b8c){this['_setValue']('opacity',_0x821b8c);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x44c14b){this['_setValue']('rect',_0x44c14b);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0xd9805){this['_setValue']('mask',_0xd9805);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x27935e){this['_setValue']('outlineCol'+'or',_0x27935e);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0xa3679a){this['_setValue']('outlineThi'+'ckness',_0xa3679a);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x552a92){this['_setValue']('shadowColo'+'r',_0x552a92);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x4feab3){this['_setValue']('shadowOffs'+'et',_0x4feab3);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x121ea7){this['_setValue']('enableMark'+'up',_0x121ea7);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0xfc2e7f){this['_setValue']('rangeStart',_0xfc2e7f);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x5157e9){this['_setValue']('rangeEnd',_0x5157e9);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x443eb9,_0x41736f){this['_text']?(this['_text'][_0x443eb9]!==_0x41736f&&this['_dirtyBatc'+'h'](),this['_text'][_0x443eb9]=_0x41736f):this['_image']&&(this['_image'][_0x443eb9]!==_0x41736f&&this['_dirtyBatc'+'h'](),this['_image'][_0x443eb9]=_0x41736f);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x38ab8d,_0x4e6320,_0x52809e){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0x38ab8d,_0x4e6320,_0x52809e);return;}_0x38ab8d instanceof T?Kd['copy'](_0x38ab8d):Kd['set'](_0x38ab8d,_0x4e6320,_0x52809e),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x4b8f1a,_0x21c249,_0x594895){_0x4b8f1a instanceof T?this['localPosit'+'ion']['copy'](_0x4b8f1a):this['localPosit'+'ion']['set'](_0x4b8f1a,_0x21c249,_0x594895);const _0x2e0b8e=this['element'],_0x2d9cde=this['localPosit'+'ion'],_0x55cf35=_0x2e0b8e['_pivot'];_0x2e0b8e['_margin']['x']=_0x2d9cde['x']-_0x2e0b8e['_calculate'+'dWidth']*_0x55cf35['x'],_0x2e0b8e['_margin']['z']=_0x2e0b8e['_localAnch'+'or']['z']-_0x2e0b8e['_localAnch'+'or']['x']-_0x2e0b8e['_calculate'+'dWidth']-_0x2e0b8e['_margin']['x'],_0x2e0b8e['_margin']['y']=_0x2d9cde['y']-_0x2e0b8e['_calculate'+'dHeight']*_0x55cf35['y'],_0x2e0b8e['_margin']['w']=_0x2e0b8e['_localAnch'+'or']['w']-_0x2e0b8e['_localAnch'+'or']['y']-_0x2e0b8e['_calculate'+'dHeight']-_0x2e0b8e['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x3cc672=this['element'],_0x1ec7e3=_0x3cc672['screen'];if(_0x1ec7e3){if(_0x3cc672['_anchorDir'+'ty']){let _0x51391b=-0x238b+0x15c3+0xdc8,_0x2bcba1=0x1*-0x79d+-0x1d17+0x24b4,_0x3731fe=-0x699+-0x1689+0x9b6*0x3,_0x3e28c7=-0x218+-0x2*0x245+-0x1*-0x6a3;if(this['_parent']&&this['_parent']['element'])_0x51391b=this['_parent']['element']['calculated'+'Width'],_0x2bcba1=this['_parent']['element']['calculated'+'Height'],_0x3731fe=this['_parent']['element']['pivot']['x'],_0x3e28c7=this['_parent']['element']['pivot']['y'];else{const _0x4fbaf3=_0x1ec7e3['screen']['resolution'];_0x51391b=_0x4fbaf3['x']/_0x1ec7e3['screen']['scale'],_0x2bcba1=_0x4fbaf3['y']/_0x1ec7e3['screen']['scale'];}_0x3cc672['_anchorTra'+'nsform']['setTransla'+'te'](_0x51391b*(_0x3cc672['anchor']['x']-_0x3731fe),-(_0x2bcba1*(_0x3e28c7-_0x3cc672['anchor']['y'])),0x3*-0x2d9+-0x1f62+0xd4f*0x3),_0x3cc672['_anchorDir'+'ty']=!(0x1*-0xabe+-0x36*-0x95+-0x5*0x423),_0x3cc672['_calculate'+'LocalAncho'+'rs']();}_0x3cc672['_sizeDirty']&&_0x3cc672['_calculate'+'Size'](!(-0x1672+-0x593+0xd3*0x22),!(0x1992+0x2da*0x5+-0x27d3));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x28909a=this['localPosit'+'ion'],_0x3f3d83=_0x3cc672['_pivot'];_0x3cc672['_margin']['x']=_0x28909a['x']-_0x3cc672['_calculate'+'dWidth']*_0x3f3d83['x'],_0x3cc672['_margin']['z']=_0x3cc672['_localAnch'+'or']['z']-_0x3cc672['_localAnch'+'or']['x']-_0x3cc672['_calculate'+'dWidth']-_0x3cc672['_margin']['x'],_0x3cc672['_margin']['y']=_0x28909a['y']-_0x3cc672['_calculate'+'dHeight']*_0x3f3d83['y'],_0x3cc672['_margin']['w']=_0x3cc672['_localAnch'+'or']['w']-_0x3cc672['_localAnch'+'or']['y']-_0x3cc672['_calculate'+'dHeight']-_0x3cc672['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x26a1+-0x17cb+0x3e6d);}if(!_0x1ec7e3){this['_dirtyWorl'+'d']&&(_0x3cc672['_cornersDi'+'rty']=!(0x5b3*-0x5+0x18eb+0x1ca*0x2),_0x3cc672['_canvasCor'+'nersDirty']=!(-0x79*0x3a+0x1bba+-0x8*0xa),_0x3cc672['_worldCorn'+'ersDirty']=!(0x42*0x97+-0x4af*-0x5+0x5ab*-0xb)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x3cc672['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x3cc672['_anchorTra'+'nsform']):_0x3cc672['_screenToW'+'orld']['copy'](_0x3cc672['_anchorTra'+'nsform']),_0x3cc672['_modelTran'+'sform']['mul2'](_0x3cc672['_screenToW'+'orld'],this['localTrans'+'form']),_0x1ec7e3){_0x3cc672['_screenToW'+'orld']['mul2'](_0x1ec7e3['screen']['_screenMat'+'rix'],_0x3cc672['_screenToW'+'orld']),_0x1ec7e3['screen']['screenSpac'+'e']||_0x3cc672['_screenToW'+'orld']['mul2'](_0x1ec7e3['worldTrans'+'form'],_0x3cc672['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x3cc672['_screenToW'+'orld'],this['localTrans'+'form']);const _0x32fa25=_0x3cc672['_parentWor'+'ldTransfor'+'m'];_0x32fa25['setIdentit'+'y']();const _0x5cc49d=this['_parent'];_0x5cc49d&&_0x5cc49d['element']&&_0x5cc49d!==_0x1ec7e3&&(es['setTRS'](T['ZERO'],_0x5cc49d['getLocalRo'+'tation'](),_0x5cc49d['getLocalSc'+'ale']()),_0x32fa25['mul2'](_0x5cc49d['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x4114a5=ni;_0x4114a5['set'](0x7*-0x4eb+-0x327*0x6+0x3557,-0x39e+-0x65b+0x9f9,this['localPosit'+'ion']['z']);const _0x43f8ca=kR;_0x43f8ca['set'](_0x3cc672['_absLeft']+_0x3cc672['_pivot']['x']*_0x3cc672['calculated'+'Width'],_0x3cc672['_absBottom']+_0x3cc672['_pivot']['y']*_0x3cc672['calculated'+'Height'],-0x26f7+0x1581+0x1176),es['setTransla'+'te'](-_0x43f8ca['x'],-_0x43f8ca['y'],-_0x43f8ca['z']),Yl['setTRS'](_0x4114a5,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x43f8ca['x'],_0x43f8ca['y'],_0x43f8ca['z']),_0x3cc672['_screenTra'+'nsform']['mul2'](_0x3cc672['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x3cc672['_cornersDi'+'rty']=!(-0x2*-0xe53+-0x1da5+0xff),_0x3cc672['_canvasCor'+'nersDirty']=!(-0x1eee+0x18b2+0x63c),_0x3cc672['_worldCorn'+'ersDirty']=!(0xd48+-0x2328+-0x50*-0x46);}else this['worldTrans'+'form']['copy'](_0x3cc672['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x161*-0xa+0x2405+-0x9f6*0x5);}}['_onInsert'](_0x55da58){const _0x53d3d5=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x53d3d5['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x1fd013=this['entity'];for(;_0x1fd013;){const _0x713d8d=_0x1fd013['parent'];if((_0x713d8d===null||_0x713d8d['screen'])&&_0x1fd013['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x109688=this['system']['_prerender']['indexOf'](this['entity']);_0x109688>=0x1*0x149d+-0x2f*0x4+-0x1*0x13e1&&this['system']['_prerender']['splice'](_0x109688,-0x265c+-0xbf0*-0x2+-0x1*-0xe7d),this['system']['_prerender']['indexOf'](_0x1fd013)<-0xaa4+0x1eb7+-0x1413&&this['system']['_prerender']['push'](_0x1fd013),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x1fd013['name']);}_0x1fd013=_0x713d8d;}}['_onPrerend'+'er'](){for(let _0x1d0711=0x375*-0xb+0x2484+-0x1*-0x183;_0x1d0711<this['system']['_prerender']['length'];_0x1d0711++){const _0x41588d=this['system']['_prerender'][_0x1d0711];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x41588d['name']),_0x41588d['element']&&_0x41588d['element']['syncMask'](-0x105+0xe5c+-0xd56);}this['system']['_prerender']['length']=-0x1005+-0x22bb+-0xcb*-0x40;}['_bindScree'+'n'](_0x52c7b5){_0x52c7b5['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x141b01){_0x141b01['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x5c011a){this['screen']&&this['screen']!==_0x5c011a&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x5d7549=this['screen'];this['screen']=_0x5c011a,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x5d7549),this['_anchorDir'+'ty']=!(0x4*0x83+-0x235e+0x2152);const _0x5eb397=this['entity']['children'];for(let _0xff0191=0x109*-0xb+-0x19be+-0x76d*-0x5,_0x2a9d9e=_0x5eb397['length'];_0xff0191<_0x2a9d9e;_0xff0191++)_0x5eb397[_0xff0191]['element']&&_0x5eb397[_0xff0191]['element']['_updateScr'+'een'](_0x5c011a);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x3a8cda){const _0x34f8e3=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x34f8e3['mask'],_0x3a8cda);}['_setMasked'+'By'](_0x28d818){const _0x5d97ce=this['_image']||this['_text'];if(_0x28d818){const _0x39baf2=_0x28d818['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x39baf2),_0x5d97ce==null||_0x5d97ce['_setStenci'+'l'](new qs({'ref':_0x39baf2,'func':Ch})),this['_maskedBy']=_0x28d818;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x5d97ce==null||_0x5d97ce['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x456733,_0x370cf1){var _0x50eda6,_0x179576;if(_0x456733){if(this['_setMasked'+'By'](_0x456733),this['mask']){const _0x2dcbbe=_0x456733['element']['_image']['_maskRef'],_0x3cee07=new qs({'ref':_0x2dcbbe,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x3cee07),this['_image']['_maskRef']=_0x370cf1,_0x370cf1++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x3cee07['ref']+(-0x502+-0x1af3*-0x1+-0x15f0))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x370cf1),_0x456733=this['entity'];}const _0xc42783=this['entity']['children'];for(let _0x13d057=-0x2517+0x1191*-0x1+0x36a8,_0x5a7021=_0xc42783['length'];_0x13d057<_0x5a7021;_0x13d057++)(_0x50eda6=_0xc42783[_0x13d057]['element'])==null||_0x50eda6['_updateMas'+'k'](_0x456733,_0x370cf1);this['mask']&&_0x370cf1--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x1b0969=new qs({'ref':_0x370cf1,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x1b0969),this['_image']['_maskRef']=_0x370cf1,_0x370cf1++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x1b0969['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x370cf1),_0x456733=this['entity'];}const _0x48527c=this['entity']['children'];for(let _0x384244=-0x2650+0x3*-0x6b1+0x3a63,_0x22f7f9=_0x48527c['length'];_0x384244<_0x22f7f9;_0x384244++)(_0x179576=_0x48527c[_0x384244]['element'])==null||_0x179576['_updateMas'+'k'](_0x456733,_0x370cf1);this['mask']&&_0x370cf1--;}}['_parseUpTo'+'Screen'](){const _0x1f1910={'screen':null,'mask':null};let _0x4eb228=this['entity']['_parent'];for(;_0x4eb228&&!_0x4eb228['screen'];)_0x4eb228['element']&&_0x4eb228['element']['mask']&&(_0x1f1910['mask']||(_0x1f1910['mask']=_0x4eb228)),_0x4eb228=_0x4eb228['parent'];return _0x4eb228&&_0x4eb228['screen']&&(_0x1f1910['screen']=_0x4eb228),_0x1f1910;}['_onScreenR'+'esize'](_0x2e3836){this['_anchorDir'+'ty']=!(0x25*-0xcd+0x139*0xd+0xdbc),this['_cornersDi'+'rty']=!(0x10d7+-0x28+0x1*-0x10af),this['_worldCorn'+'ersDirty']=!(0x2274+-0x98e+-0x18e6),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x2e3836);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x1bdc18=-0x4bb+0x3af*0x2+0x1*0x145,_0x4d0b97=0x253*0x9+-0x88b+-0x878;const _0x372366=this['entity']['_parent'];if(_0x372366&&_0x372366['element'])_0x1bdc18=_0x372366['element']['calculated'+'Width'],_0x4d0b97=_0x372366['element']['calculated'+'Height'];else{if(this['screen']){const _0x1bafd5=this['screen']['screen']['resolution'],_0x2e690b=this['screen']['screen']['scale'];_0x1bdc18=_0x1bafd5['x']/_0x2e690b,_0x4d0b97=_0x1bafd5['y']/_0x2e690b;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x1bdc18,this['_anchor']['y']*_0x4d0b97,this['_anchor']['z']*_0x1bdc18,this['_anchor']['w']*_0x4d0b97);}['getOffsetP'+'osition'](_0x57b653,_0x2ac6aa){const _0x130c98=this['entity']['getLocalPo'+'sition']()['clone']();return _0x130c98['x']+=_0x57b653,_0x130c98['y']+=_0x2ac6aa,this['_screenToW'+'orld']['transformP'+'oint'](_0x130c98,_0x130c98),_0x130c98;}['onLayersCh'+'anged'](_0x5399a4,_0x5a6b06){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x5399a4['off']('add',this['onLayerAdd'+'ed'],this),_0x5399a4['off']('remove',this['onLayerRem'+'oved'],this),_0x5a6b06['on']('add',this['onLayerAdd'+'ed'],this),_0x5a6b06['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1e7829){this['layers']['indexOf'](_0x1e7829['id'])<0x79*0x37+0x545*-0x2+0x3*-0x527||(this['_image']?_0x1e7829['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x1e7829['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x376191){this['layers']['indexOf'](_0x376191['id'])<-0x853+-0x3*-0xadc+-0x1841||(this['_image']?_0x376191['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x376191['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x18587f;const _0x18db32=this['system']['app']['scene'],_0xba34f2=_0x18db32['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x18db32['on']('set:layers',this['onLayersCh'+'anged'],this),_0xba34f2&&(this['_evtLayerA'+'dded']=_0xba34f2['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xba34f2['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x7*-0x19+-0x1e77+0x1f26&&((_0x18587f=this['system']['app']['batcher'])==null||_0x18587f['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x48ba19,_0x4dcd4c,_0x44c8a2,_0x316a66;const _0x12f0d1=this['system']['app']['scene']['layers'];(_0x48ba19=this['_evtLayers'+'Changed'])==null||_0x48ba19['off'](),this['_evtLayers'+'Changed']=null,_0x12f0d1&&((_0x4dcd4c=this['_evtLayerA'+'dded'])==null||_0x4dcd4c['off'](),this['_evtLayerA'+'dded']=null,(_0x44c8a2=this['_evtLayerR'+'emoved'])==null||_0x44c8a2['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x24b8+0x717+0x1da1&&((_0x316a66=this['system']['app']['batcher'])==null||_0x316a66['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x490b32,_0x380ba9){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x386cae=this['_absRight']-this['_absLeft'],_0x5862d0=this['_absTop']-this['_absBottom'];_0x490b32?this['_setWidth'](_0x386cae):this['_setCalcul'+'atedWidth'](_0x386cae,!(0xa48+-0x22fb+-0x33*-0x7c)),_0x380ba9?this['_setHeight'](_0x5862d0):this['_setCalcul'+'atedHeight'](_0x5862d0,!(-0xc87+0xe7*-0xd+0x1843));const _0x48fa80=this['entity']['getLocalPo'+'sition']();_0x48fa80['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x48fa80['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x48fa80),this['_sizeDirty']=!(0x335*0x8+0xdf3*-0x2+0x23f);}['_setWidth'](_0x546008){this['_width']=_0x546008,this['_setCalcul'+'atedWidth'](_0x546008,!(-0x611*0x1+-0xf4e+0x1560)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x383a8d){this['_height']=_0x383a8d,this['_setCalcul'+'atedHeight'](_0x383a8d,!(0x1*0x664+-0x219a+0x1b37)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x3dcc3e,_0x197287){if(!(Math['abs'](_0x3dcc3e-this['_calculate'+'dWidth'])<=0x1*0xcaf+0x4f9*-0x5+0x2*0x617+0.0001)){if(this['_calculate'+'dWidth']=_0x3dcc3e,this['entity']['_dirtifyLo'+'cal'](),_0x197287){const _0x214d9a=this['entity']['getLocalPo'+'sition'](),_0x54e6dc=this['_pivot'];this['_margin']['x']=_0x214d9a['x']-this['_calculate'+'dWidth']*_0x54e6dc['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x4c733c,_0x513e9b){if(!(Math['abs'](_0x4c733c-this['_calculate'+'dHeight'])<=0x103c+-0x1*0x4ff+-0xb3d*0x1+0.0001)){if(this['_calculate'+'dHeight']=_0x4c733c,this['entity']['_dirtifyLo'+'cal'](),_0x513e9b){const _0x2b7148=this['entity']['getLocalPo'+'sition'](),_0x4d1768=this['_pivot'];this['_margin']['y']=_0x2b7148['y']-this['_calculate'+'dHeight']*_0x4d1768['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x31b74a=this['entity']['_children'];for(let _0x56a00f=-0x1172+-0x9a7+0x1b19,_0x3459d3=_0x31b74a['length'];_0x56a00f<_0x3459d3;_0x56a00f++)_0x31b74a[_0x56a00f]['element']&&(_0x31b74a[_0x56a00f]['element']['_anchorDir'+'ty']=!(-0x8b9+0x2b3+0x6*0x101),_0x31b74a[_0x56a00f]['element']['_sizeDirty']=!(-0x2*0xf58+-0x3d9+0x2289*0x1));}['addModelTo'+'Layers'](_0x5e5bb4){this['_addedMode'+'ls']['push'](_0x5e5bb4);for(let _0x4b6508=0x1*0x21e0+-0x24d0+0x2f0;_0x4b6508<this['layers']['length'];_0x4b6508++){const _0x11a9f7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4b6508]);_0x11a9f7&&_0x11a9f7['addMeshIns'+'tances'](_0x5e5bb4['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x5eec44){const _0x519d4=this['_addedMode'+'ls']['indexOf'](_0x5eec44);_0x519d4>=-0xa4*0x28+-0x16a0+0x3040&&this['_addedMode'+'ls']['splice'](_0x519d4,-0x2*-0x8a7+0x253+-0x13a0);for(let _0x1623e7=-0x3a3*-0x6+-0xeec+-0x6e6;_0x1623e7<this['layers']['length'];_0x1623e7++){const _0x44fb7c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1623e7]);_0x44fb7c&&_0x44fb7c['removeMesh'+'Instances'](_0x5eec44['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x86870b=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x86870b&&(this['_maskOffse'+'t']=0x2a+0x3*0xbf3+-0x525*0x7+0.5,this['_offsetRea'+'dAt']=_0x86870b);const _0x4f5566=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x2403+-0x394*-0x1+0x169*0x17+0.001,_0x4f5566;}['isVisibleF'+'orCamera'](_0x15eec0){let _0x50668f,_0x5a8bab,_0x2826c5,_0xa7eda1;if(this['maskedBy']){const _0x449703=this['maskedBy']['element']['screenCorn'+'ers'];_0x50668f=Math['min'](Math['min'](_0x449703[-0x57f*0x3+0x20eb+-0x6*0x2bd]['x'],_0x449703[0x1a52+0x1b39+0x358a*-0x1]['x']),Math['min'](_0x449703[0x1a5c+0x111b+0x59*-0x7d]['x'],_0x449703[-0x25f+-0xd*-0x29+-0x7*-0xb]['x'])),_0x5a8bab=Math['max'](Math['max'](_0x449703[-0x2c*-0xa3+0x1*0xb11+-0x2715]['x'],_0x449703[0x602+-0xdad+0x4*0x1eb]['x']),Math['max'](_0x449703[-0x1*0x111+0x4eb+-0xf6*0x4]['x'],_0x449703[-0x71e+0xf2c*-0x2+0x2579]['x'])),_0xa7eda1=Math['min'](Math['min'](_0x449703[0x692+-0x26c1*0x1+-0x1*-0x202f]['y'],_0x449703[-0x9ab+-0x1d2c*-0x1+0x1380*-0x1]['y']),Math['min'](_0x449703[0x1*-0x1a23+0x3e*-0x53+0x2e3f]['y'],_0x449703[-0xb*0x139+-0x2b1+0x1027]['y'])),_0x2826c5=Math['max'](Math['max'](_0x449703[0x2510+-0x1baf+-0x961]['y'],_0x449703[0xb*0x30f+0x19f1+-0x3b95]['y']),Math['max'](_0x449703[0x18e8+-0x1*-0xde5+-0x26cb]['y'],_0x449703[-0x1*0x185+-0x1ac*-0x1+-0x24]['y']));}else{const _0x5d3468=this['system']['app']['graphicsDe'+'vice']['width'],_0x21017c=this['system']['app']['graphicsDe'+'vice']['height'],_0x2084d6=_0x15eec0['_rect']['z']*_0x5d3468,_0x900326=_0x15eec0['_rect']['w']*_0x21017c;_0x50668f=_0x15eec0['_rect']['x']*_0x5d3468,_0x5a8bab=_0x50668f+_0x2084d6,_0x2826c5=(-0xc52+-0x6af+-0x6*-0x32b-_0x15eec0['_rect']['y'])*_0x21017c,_0xa7eda1=_0x2826c5-_0x900326;}const _0x2ef1b8=this['screenCorn'+'ers'],_0x3d4269=Math['min'](Math['min'](_0x2ef1b8[0x1aea+-0x17e1+-0x309]['x'],_0x2ef1b8[0x19ee+0x1*0x1ec+-0x1bd9]['x']),Math['min'](_0x2ef1b8[-0x2709+0x1*-0x250b+0x4c16]['x'],_0x2ef1b8[-0x1*-0x14cf+0x457*0x7+0xb*-0x4a7]['x'])),_0x2988a3=Math['max'](Math['max'](_0x2ef1b8[0x138a+0x1923+-0x2cad]['x'],_0x2ef1b8[0x333+-0x1231*0x1+-0x1*-0xeff]['x']),Math['max'](_0x2ef1b8[-0x3a*-0x83+0x2327+-0x40d3]['x'],_0x2ef1b8[0x14d6+-0x2365+0xe92]['x'])),_0x38978f=Math['min'](Math['min'](_0x2ef1b8[-0x226*-0x1+-0x2675+0x244f]['y'],_0x2ef1b8[0x3f*-0x43+-0x33a*0x7+0x3d*0xa4]['y']),Math['min'](_0x2ef1b8[0x1*-0x2fa+0xa4*0x30+0x1*-0x1bc4]['y'],_0x2ef1b8[0xee5+0x7*0xaa+-0x3e8*0x5]['y'])),_0xd8914e=Math['max'](Math['max'](_0x2ef1b8[-0x16e5+-0x17b2+-0x2e97*-0x1]['y'],_0x2ef1b8[0x1435+-0x12b7*0x1+-0x17d]['y']),Math['max'](_0x2ef1b8[0x1cf*-0x14+-0x1571+0x399f]['y'],_0x2ef1b8[0x1*-0x1a37+0x5ce*0x1+0x146c*0x1]['y']));return!(_0x2988a3<_0x50668f||_0x3d4269>_0x5a8bab||_0x38978f>_0x2826c5||_0xd8914e<_0xa7eda1);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x1*-0x153d+-0xd68+-0x3*0x29c);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x1b34*0x1+-0x1dae+0x38e3*0x1);}['_dirtyBatc'+'h'](){var _0x194a16;this['batchGroup'+'Id']!==-(0x154*0x5+-0xd*-0x12f+-0x1606)&&((_0x194a16=this['system']['app']['batcher'])==null||_0x194a16['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0xc79+0x16fd+-0x2376);}}const NR=['enabled'];class zR extends Xe{constructor(_0x4c5d5e){super(_0x4c5d5e),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x4c5d5e['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x3bc4a7=this['_defaultTe'+'xture']['lock'](),_0x2ec291=new Uint8Array(-0x1354+-0x2541+0x3899);_0x2ec291[0x197e+-0xdb*-0x2c+-0x3f22]=0x1066+0xeb4+-0x1e1b,_0x2ec291[-0x2238+-0xcaf*0x1+0x98*0x4f]=0xc2e*0x2+0x227d+-0x39da,_0x2ec291[-0x7e*-0x42+0xa*-0x3e5+0x2*0x33c]=0x1e7a+-0x510+0x2f*-0x85,_0x2ec291[-0x3*0x5f6+-0x22b6+0x349b]=-0x25ef+0x26fc+-0x7*0x2,_0x3bc4a7['set'](_0x2ec291),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x2e2de1,_0x5b44ac,_0x63e614){_0x2e2de1['_beingInit'+'ialized']=!(-0x121c+-0x1752+0x2*0x14b7),_0x5b44ac['anchor']!==void(0x1519+0x1*-0x258b+0x1072)&&(_0x5b44ac['anchor']instanceof Q?_0x2e2de1['anchor']['copy'](_0x5b44ac['anchor']):_0x2e2de1['anchor']['set'](_0x5b44ac['anchor'][0xf1*-0x1b+0xc5*0x8+-0x1*-0x1343],_0x5b44ac['anchor'][0x7*-0x1e9+-0x1*0x2493+-0x13*-0x2a1],_0x5b44ac['anchor'][0x1d43+0x1*0x1015+-0x2d56],_0x5b44ac['anchor'][-0x1*-0xc9d+-0xa1b+-0x27f])),_0x5b44ac['pivot']!==void(0xc07*-0x3+0x2653+-0xe*0x29)&&(_0x5b44ac['pivot']instanceof W?_0x2e2de1['pivot']['copy'](_0x5b44ac['pivot']):_0x2e2de1['pivot']['set'](_0x5b44ac['pivot'][-0x1*-0x42f+0x38d+-0x7bc],_0x5b44ac['pivot'][0x251c+-0x2287+-0x294]));const _0x54d361=Math['abs'](_0x2e2de1['anchor']['x']-_0x2e2de1['anchor']['z'])>-0x17b1+0x1*0x1ac+0x1605+0.001,_0x1a4a63=Math['abs'](_0x2e2de1['anchor']['y']-_0x2e2de1['anchor']['w'])>-0x2606+0x17d9+0xe2d+0.001;let _0x2c910a=!(0x2473+0x1*-0x26e5+0xd1*0x3),_0x27c15d;_0x5b44ac['margin']!==void(-0x19ed+-0x11de*-0x2+-0x9cf)&&(_0x5b44ac['margin']instanceof Q?_0x2e2de1['margin']['copy'](_0x5b44ac['margin']):_0x2e2de1['_margin']['set'](_0x5b44ac['margin'][-0x2e5*-0x7+-0x4e*0x25+-0x8fd],_0x5b44ac['margin'][-0x1*-0x1498+0x2*0x9ff+-0x2895],_0x5b44ac['margin'][-0x3*-0x3c3+0x3f7+-0x79f*0x2],_0x5b44ac['margin'][0x1*-0x216d+0x296+0x1eda]),_0x2c910a=!(0x1c*0xd0+0x9aa*-0x3+0x2*0x31f)),_0x5b44ac['left']!==void(-0x343*-0x4+-0xd9f*0x1+0x93)&&(_0x2e2de1['_margin']['x']=_0x5b44ac['left'],_0x2c910a=!(-0xe*-0x1c5+-0x5bb*0x2+-0xd50)),_0x5b44ac['bottom']!==void(-0x2d6+-0x1f*0x70+0x1*0x1066)&&(_0x2e2de1['_margin']['y']=_0x5b44ac['bottom'],_0x2c910a=!(0x16*-0x56+0x3*0x2f0+-0x16c)),_0x5b44ac['right']!==void(-0x733+0x2668+-0x1f35)&&(_0x2e2de1['_margin']['z']=_0x5b44ac['right'],_0x2c910a=!(-0x5*-0x52f+-0x23b+0x5ec*-0x4)),_0x5b44ac['top']!==void(-0x6c*0x3c+0xf74+0x9dc)&&(_0x2e2de1['_margin']['w']=_0x5b44ac['top'],_0x2c910a=!(0xedb+-0x139a+0xf3*0x5)),_0x2c910a&&(_0x2e2de1['margin']=_0x2e2de1['_margin']);let _0x460e8e=!(0x489+0x1*0x25b3+-0x13*0x239);_0x5b44ac['width']!==void(0x1*-0x1c55+-0xa47*0x1+0x269c)&&!_0x54d361?_0x2e2de1['width']=_0x5b44ac['width']:_0x54d361&&(_0x460e8e=!(0x191d+0xa91*-0x1+-0x85*0x1c)),_0x5b44ac['height']!==void(-0x40*0x22+0x249d+0x3*-0x95f)&&!_0x1a4a63?_0x2e2de1['height']=_0x5b44ac['height']:_0x1a4a63&&(_0x460e8e=!(0xd01+0x10e9+0x446*-0x7)),_0x460e8e&&(_0x2e2de1['anchor']=_0x2e2de1['anchor']),_0x5b44ac['enabled']!==void(-0x236c+-0x1707+0x3a73)&&(_0x2e2de1['enabled']=_0x5b44ac['enabled']),_0x5b44ac['useInput']!==void(-0x26d*0x2+0x101a*0x2+-0x6*0x48f)&&(_0x2e2de1['useInput']=_0x5b44ac['useInput']),_0x5b44ac['fitMode']!==void(-0x1b34+-0x1027+0x2b5b)&&(_0x2e2de1['fitMode']=_0x5b44ac['fitMode']),_0x2e2de1['batchGroup'+'Id']=_0x5b44ac['batchGroup'+'Id']===void(0x44f*-0x3+-0x2225*-0x1+-0x1538)||_0x5b44ac['batchGroup'+'Id']===null?-(0xb26+-0x1e0e+-0x67*-0x2f):_0x5b44ac['batchGroup'+'Id'],_0x5b44ac['layers']&&Array['isArray'](_0x5b44ac['layers'])&&(_0x2e2de1['layers']=_0x5b44ac['layers']['slice'](-0x2338+0x7*0xf1+0x1ca1)),_0x5b44ac['type']!==void(-0x88f*-0x1+-0x773*-0x2+-0x1775)&&(_0x2e2de1['type']=_0x5b44ac['type']),_0x2e2de1['type']===rf?(_0x5b44ac['rect']!==void(0x1234+0x5ec+-0x1820)&&(_0x2e2de1['rect']=_0x5b44ac['rect']),_0x5b44ac['color']!==void(0x1f6f*-0x1+-0x2441*-0x1+-0x4d2)&&(_0x27c15d=_0x5b44ac['color'],_0x27c15d instanceof Y||(_0x27c15d=new Y(_0x5b44ac['color'][-0x4b8+-0x49e+0x956*0x1],_0x5b44ac['color'][0x13e9+-0xd*-0x183+0x13*-0x215],_0x5b44ac['color'][-0x1f53+0x2535+-0x5e0])),_0x2e2de1['color']=_0x27c15d),_0x5b44ac['opacity']!==void(-0x11dd+-0x63a+0x1817)&&(_0x2e2de1['opacity']=_0x5b44ac['opacity']),_0x5b44ac['textureAss'+'et']!==void(-0xfab+-0xfd*-0x24+-0x13e9)&&(_0x2e2de1['textureAss'+'et']=_0x5b44ac['textureAss'+'et']),_0x5b44ac['texture']&&(_0x2e2de1['texture']=_0x5b44ac['texture']),_0x5b44ac['spriteAsse'+'t']!==void(0x236a+-0x1ad4*-0x1+-0x3e3e)&&(_0x2e2de1['spriteAsse'+'t']=_0x5b44ac['spriteAsse'+'t']),_0x5b44ac['sprite']&&(_0x2e2de1['sprite']=_0x5b44ac['sprite']),_0x5b44ac['spriteFram'+'e']!==void(0x1610+-0x189a+0x41*0xa)&&(_0x2e2de1['spriteFram'+'e']=_0x5b44ac['spriteFram'+'e']),_0x5b44ac['pixelsPerU'+'nit']!==void(0x11e0+-0x1513+-0x111*-0x3)&&_0x5b44ac['pixelsPerU'+'nit']!==null&&(_0x2e2de1['pixelsPerU'+'nit']=_0x5b44ac['pixelsPerU'+'nit']),_0x5b44ac['materialAs'+'set']!==void(-0x22da+-0x174d+0x3a27*0x1)&&(_0x2e2de1['materialAs'+'set']=_0x5b44ac['materialAs'+'set']),_0x5b44ac['material']&&(_0x2e2de1['material']=_0x5b44ac['material']),_0x5b44ac['mask']!==void(0xfa4+-0x149f+0x4fb)&&(_0x2e2de1['mask']=_0x5b44ac['mask'])):_0x2e2de1['type']===ex&&(_0x5b44ac['autoWidth']!==void(-0x11dd+-0x19aa+-0x2b87*-0x1)&&(_0x2e2de1['autoWidth']=_0x5b44ac['autoWidth']),_0x5b44ac['autoHeight']!==void(0x14*0x5d+0x41*0x9+-0x98d)&&(_0x2e2de1['autoHeight']=_0x5b44ac['autoHeight']),_0x5b44ac['rtlReorder']!==void(-0x231d+-0x210f+-0x2*-0x2216)&&(_0x2e2de1['rtlReorder']=_0x5b44ac['rtlReorder']),_0x5b44ac['unicodeCon'+'verter']!==void(-0x215c+0xf4f+-0x1*-0x120d)&&(_0x2e2de1['unicodeCon'+'verter']=_0x5b44ac['unicodeCon'+'verter']),_0x5b44ac['text']!==null&&_0x5b44ac['text']!==void(-0x2*-0x36+-0x21c3+0x2157*0x1)?_0x2e2de1['text']=_0x5b44ac['text']:_0x5b44ac['key']!==null&&_0x5b44ac['key']!==void(0x217c+-0x23dd+-0x261*-0x1)&&(_0x2e2de1['key']=_0x5b44ac['key']),_0x5b44ac['color']!==void(0x1e3a+-0x1ac5+0x127*-0x3)&&(_0x27c15d=_0x5b44ac['color'],_0x27c15d instanceof Y||(_0x27c15d=new Y(_0x27c15d[0x6ad+0x1283*0x1+-0x1930],_0x27c15d[0x178*0x13+0x35*-0x29+-0x136a],_0x27c15d[0x95*-0x1c+0x8b*0x7+0x21*0x61])),_0x2e2de1['color']=_0x27c15d),_0x5b44ac['opacity']!==void(0x1*-0x26d6+0x14d7+0x1*0x11ff)&&(_0x2e2de1['opacity']=_0x5b44ac['opacity']),_0x5b44ac['spacing']!==void(-0x6ac+0x3*-0x6dc+0x6d*0x40)&&(_0x2e2de1['spacing']=_0x5b44ac['spacing']),_0x5b44ac['fontSize']!==void(0x2488+0x70c+-0x2b94)&&(_0x2e2de1['fontSize']=_0x5b44ac['fontSize'],_0x5b44ac['lineHeight']||(_0x2e2de1['lineHeight']=_0x5b44ac['fontSize'])),_0x5b44ac['lineHeight']!==void(0x732*-0x1+0x15e7+-0xeb5)&&(_0x2e2de1['lineHeight']=_0x5b44ac['lineHeight']),_0x5b44ac['maxLines']!==void(-0x938+-0x2301+0x2c39)&&(_0x2e2de1['maxLines']=_0x5b44ac['maxLines']),_0x5b44ac['wrapLines']!==void(0x3f0*0x9+0x2122+-0x4492)&&(_0x2e2de1['wrapLines']=_0x5b44ac['wrapLines']),_0x5b44ac['minFontSiz'+'e']!==void(0x17*-0x4+0x1e7c+-0x1e20)&&(_0x2e2de1['minFontSiz'+'e']=_0x5b44ac['minFontSiz'+'e']),_0x5b44ac['maxFontSiz'+'e']!==void(-0x2622+-0x1f32+0x4554)&&(_0x2e2de1['maxFontSiz'+'e']=_0x5b44ac['maxFontSiz'+'e']),_0x5b44ac['autoFitWid'+'th']&&(_0x2e2de1['autoFitWid'+'th']=_0x5b44ac['autoFitWid'+'th']),_0x5b44ac['autoFitHei'+'ght']&&(_0x2e2de1['autoFitHei'+'ght']=_0x5b44ac['autoFitHei'+'ght']),_0x5b44ac['fontAsset']!==void(-0x1*0x24d5+0x6a9*0x3+0x10da)&&(_0x2e2de1['fontAsset']=_0x5b44ac['fontAsset']),_0x5b44ac['font']!==void(-0x350+-0x2*0xee+-0x14b*-0x4)&&(_0x2e2de1['font']=_0x5b44ac['font']),_0x5b44ac['alignment']!==void(-0x377+-0x4a*-0x32+0x1d*-0x61)&&(_0x2e2de1['alignment']=_0x5b44ac['alignment']),_0x5b44ac['outlineCol'+'or']!==void(0xd1e*0x1+0x19dc+-0x1*0x26fa)&&(_0x2e2de1['outlineCol'+'or']=_0x5b44ac['outlineCol'+'or']),_0x5b44ac['outlineThi'+'ckness']!==void(-0x1d6f+-0x683+0x23f2)&&(_0x2e2de1['outlineThi'+'ckness']=_0x5b44ac['outlineThi'+'ckness']),_0x5b44ac['shadowColo'+'r']!==void(-0xf4*-0x6+-0x1*-0x1954+-0x4*0x7c3)&&(_0x2e2de1['shadowColo'+'r']=_0x5b44ac['shadowColo'+'r']),_0x5b44ac['shadowOffs'+'et']!==void(-0x26d0+0x188f+0xe41)&&(_0x2e2de1['shadowOffs'+'et']=_0x5b44ac['shadowOffs'+'et']),_0x5b44ac['enableMark'+'up']!==void(0xcfc+0x1688+-0x2384)&&(_0x2e2de1['enableMark'+'up']=_0x5b44ac['enableMark'+'up']));const _0x31c70a=_0x2e2de1['_parseUpTo'+'Screen']();_0x31c70a['screen']&&_0x2e2de1['_updateScr'+'een'](_0x31c70a['screen']),super['initialize'+'ComponentD'+'ata'](_0x2e2de1,_0x5b44ac,_0x63e614),_0x2e2de1['_beingInit'+'ialized']=!(-0x360*-0x6+0x1444+-0x2883),_0x2e2de1['type']===rf&&_0x2e2de1['_image']['_meshDirty']&&_0x2e2de1['_image']['_updateMes'+'h'](_0x2e2de1['_image']['mesh']);}['onAddCompo'+'nent'](_0x5a15bc,_0x1a983e){_0x5a15bc['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x2bedaa,_0x1c34a7){_0x1c34a7['onRemove']();}['cloneCompo'+'nent'](_0x266dcf,_0x5455d7){const _0x4c7db9=_0x266dcf['element'],_0x5654be={'enabled':_0x4c7db9['enabled'],'width':_0x4c7db9['width'],'height':_0x4c7db9['height'],'anchor':_0x4c7db9['anchor']['clone'](),'pivot':_0x4c7db9['pivot']['clone'](),'margin':_0x4c7db9['margin']['clone'](),'alignment':_0x4c7db9['alignment']&&_0x4c7db9['alignment']['clone']()||_0x4c7db9['alignment'],'autoWidth':_0x4c7db9['autoWidth'],'autoHeight':_0x4c7db9['autoHeight'],'type':_0x4c7db9['type'],'rect':_0x4c7db9['rect']&&_0x4c7db9['rect']['clone']()||_0x4c7db9['rect'],'rtlReorder':_0x4c7db9['rtlReorder'],'unicodeConverter':_0x4c7db9['unicodeCon'+'verter'],'materialAsset':_0x4c7db9['materialAs'+'set'],'material':_0x4c7db9['material'],'color':_0x4c7db9['color']&&_0x4c7db9['color']['clone']()||_0x4c7db9['color'],'opacity':_0x4c7db9['opacity'],'textureAsset':_0x4c7db9['textureAss'+'et'],'texture':_0x4c7db9['texture'],'spriteAsset':_0x4c7db9['spriteAsse'+'t'],'sprite':_0x4c7db9['sprite'],'spriteFrame':_0x4c7db9['spriteFram'+'e'],'pixelsPerUnit':_0x4c7db9['pixelsPerU'+'nit'],'spacing':_0x4c7db9['spacing'],'lineHeight':_0x4c7db9['lineHeight'],'wrapLines':_0x4c7db9['wrapLines'],'layers':_0x4c7db9['layers'],'fontSize':_0x4c7db9['fontSize'],'minFontSize':_0x4c7db9['minFontSiz'+'e'],'maxFontSize':_0x4c7db9['maxFontSiz'+'e'],'autoFitWidth':_0x4c7db9['autoFitWid'+'th'],'autoFitHeight':_0x4c7db9['autoFitHei'+'ght'],'maxLines':_0x4c7db9['maxLines'],'fontAsset':_0x4c7db9['fontAsset'],'font':_0x4c7db9['font'],'useInput':_0x4c7db9['useInput'],'fitMode':_0x4c7db9['fitMode'],'batchGroupId':_0x4c7db9['batchGroup'+'Id'],'mask':_0x4c7db9['mask'],'outlineColor':_0x4c7db9['outlineCol'+'or']&&_0x4c7db9['outlineCol'+'or']['clone']()||_0x4c7db9['outlineCol'+'or'],'outlineThickness':_0x4c7db9['outlineThi'+'ckness'],'shadowColor':_0x4c7db9['shadowColo'+'r']&&_0x4c7db9['shadowColo'+'r']['clone']()||_0x4c7db9['shadowColo'+'r'],'shadowOffset':_0x4c7db9['shadowOffs'+'et']&&_0x4c7db9['shadowOffs'+'et']['clone']()||_0x4c7db9['shadowOffs'+'et'],'enableMarkup':_0x4c7db9['enableMark'+'up']};return _0x4c7db9['key']!==void(-0x749*0x1+0x1*-0x257+0x9a0)&&_0x4c7db9['key']!==null?_0x5654be['key']=_0x4c7db9['key']:_0x5654be['text']=_0x4c7db9['text'],this['addCompone'+'nt'](_0x5455d7,_0x5654be);}['getTextEle'+'mentMateri'+'al'](_0x27aaed,_0x15166a,_0x37804e){const _0x25ea0d=(_0x27aaed&&0x1939*0x1+-0x775+-0x1*0x11c3)|(_0x15166a&&-0x15f+0xfc1*0x2+-0x1e21*0x1)|(_0x37804e&&0x1596+0x661*-0x1+-0xf31);let _0x5386f8=this['_defaultTe'+'xtMaterial'+'s'][_0x25ea0d];if(_0x5386f8)return _0x5386f8;let _0x4c2ecc='TextMateri'+'al';return _0x5386f8=new cs(),_0x15166a?(_0x5386f8['msdfMap']=this['_defaultTe'+'xture'],_0x5386f8['msdfTextAt'+'tribute']=_0x37804e,_0x5386f8['emissive']['set'](-0x1ae3+-0x755*0x5+0x3f8d,-0x55*0x13+0x1f20+-0x18d0,-0xc10+-0x1f2c+0x2b3d)):(_0x4c2ecc='Bitmap'+_0x4c2ecc,_0x5386f8['emissive']['set'](-0x12b+0x37e*0x7+-0x1746,-0x1*-0xe21+0x266*-0x1+0x26*-0x4f,-0x13af+0x1ade*-0x1+0x2e8e),_0x5386f8['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x5386f8['opacityMap']=this['_defaultTe'+'xture'],_0x5386f8['opacityMap'+'Channel']='a'),_0x27aaed&&(_0x4c2ecc='ScreenSpac'+'e'+_0x4c2ecc,_0x5386f8['depthTest']=!(0x208c+0x1299+-0x4*0xcc9)),_0x5386f8['name']='default'+_0x4c2ecc,_0x5386f8['useLightin'+'g']=!(0x2321+-0x201d+-0x303),_0x5386f8['useTonemap']=!(0x200d+0x4*-0x7+0x490*-0x7),_0x5386f8['useFog']=!(-0x11b*-0x22+0x1e13+-0x43a8),_0x5386f8['useSkybox']=!(0x10*0xc0+-0x43+0x2*-0x5de),_0x5386f8['diffuse']['set'](0x5*0x6c3+-0xc04+-0x7*0x31d,-0x6b*-0x15+0x1*-0x8ba+0x1*-0xd,-0x160f*0x1+0x25ef+-0xfe0),_0x5386f8['opacity']=0x23c2+0x2c*0xb+-0x25a6+0.5,_0x5386f8['blendType']=hr,_0x5386f8['depthWrite']=!(-0xb0b+-0xe5b+0x1967),_0x5386f8['emissiveVe'+'rtexColor']=!(0x763*0x4+0x1*0x119b+0x2f27*-0x1),_0x5386f8['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x25ea0d]=_0x5386f8,_0x5386f8;}['_createBas'+'eImageMate'+'rial'](){const _0x57f47a=new cs();return _0x57f47a['diffuse']['set'](-0x1ca0*0x1+0x1eb*-0x7+0x2a0d,0xb*0x1bc+0xc8+-0x13dc,-0xcdb+0x566+0x775),_0x57f47a['emissive']['set'](0x1*0xe2f+0x1459*-0x1+0x62b,-0x236+0xece+0xb*-0x125,-0x2*0x101e+-0x29*-0x2b+0x195a),_0x57f47a['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x57f47a['opacityMap']=this['_defaultTe'+'xture'],_0x57f47a['opacityMap'+'Channel']='a',_0x57f47a['useLightin'+'g']=!(0x1951+-0x1*-0x1ea1+-0x37f1),_0x57f47a['useTonemap']=!(-0x29*-0x2+0x7a0+-0x7f1),_0x57f47a['useFog']=!(-0x19e0*0x1+-0x4*0x51b+0x2e4d),_0x57f47a['useSkybox']=!(-0x752+0x22d8+0x581*-0x5),_0x57f47a['blendType']=hr,_0x57f47a['depthWrite']=!(-0xe13*-0x2+-0xcfc+-0xf29*0x1),_0x57f47a;}['getImageEl'+'ementMater'+'ial'](_0x20210b,_0x5efbfa,_0x21bae3,_0x448bc6){return _0x20210b?_0x5efbfa?_0x21bae3?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x260b+-0x1cb9+0x5*-0x1dd),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x1f*-0x51+-0x12d+0x1*0xafd,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x1db7+0x1788+0x12*0x58),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x22dc+-0x13ab*0x1+-0x1*0xf30),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x4ff*0x1+-0x89d+0xd9d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x3*0x6b+-0x220b+0x234d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x448bc6?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x2d4+-0x3*-0x549+-0xd06),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x2b6*-0x5+0x1a81+0x3*-0xd5a,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x1cbd+0x3b*0x23+0x14ad),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x8*-0x30d+0x39*-0x3f+0x2670),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x53*-0xb+0x1*-0xc6+0x458),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x2f9*0x9+0x19f5+0x29*0x5),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x2684+0x1f8c+0x6f9),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0xfe5+0x7ee+-0x2*0xbe9,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x185*-0x16+-0x7*-0x99+-0x259c),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x1e6d*-0x1+0xf7d+-0x2de9),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x17d6+-0x11b5*0x1+-0x620),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x14d9+-0x615*-0x3+-0x2717),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x21bae3?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x24e4+0x20c8+-0x1739*0x3),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x448bc6?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x12b3+0xa34+-0x1ce6),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x3a1*-0x6+-0x17f0+0x5*0x6f),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x5efbfa?_0x21bae3?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0xbb1*0x1+0x219d+0x1f*-0xb5,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x351+-0xd52+0x10a4),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x3d*0x92+-0x12e*0x4+-0x1e11),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x1043+0x1aab+-0x2aed),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x21bf+0x752+0x1a6e),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x448bc6?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x5d8*0x1+-0x25e*-0x1+-0x835,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x9*-0x185+-0x3a*0x9f+0x1*0x31b4),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x2f7+-0x48f*-0x1+-0x785),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x7*0x340+-0x518+0x1bd9*0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x1089*0x1+0x21df+-0x1155),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x1*0x253c+0x1a2f+0x1*0xb0e,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x545+-0x14c4+0x7c0*0x2),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x1*-0x8db+-0x757+0x1*-0x183),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x39*0x1a+0xdcd+0x32*-0x29),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x20*0x10c+-0x1cd1+-0x4ae),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x21bae3?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x448bc6?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x53e329){this['_unicodeCo'+'nverter']=_0x53e329;}['registerRt'+'lReorder'](_0xc4738a){this['_rtlReorde'+'r']=_0xc4738a;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x110d17,_0x37a643){super(_0x110d17,_0x37a643),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0xaa9+-0x2410+0x1967),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new W(0xfa*0x1b+0x7*-0x431+0x2f9*0x1,-0x1420+0xfd9+-0x447*-0x1),this['_linearSpr'+'ingX']=!(0x287+-0x1b*-0x33+-0x7e7),this['_linearSti'+'ffnessX']=-0x1132+-0x1*-0x67f+-0xab3*-0x1,this['_linearDam'+'pingX']=-0x7cb+0x5*0x42d+-0xd15,this['_linearEqu'+'ilibriumX']=0xb84*0x1+0x1951+0x15*-0x1c1,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new W(0x2460+-0x2*-0x3b9+-0x2bd2,0x1ad2+-0x52*-0x2c+-0x28ea),this['_linearSpr'+'ingY']=!(-0x55d*0x1+-0x47*0x7c+0x27c2),this['_linearSti'+'ffnessY']=0x309*-0x3+0x1882+-0xf67,this['_linearDam'+'pingY']=0xe63+-0x2405+0x1*0x15a3,this['_linearEqu'+'ilibriumY']=0x2*-0x103f+-0x1*-0x4cd+0x1bb1,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new W(-0x12c5+-0x249f+0x3764,0x1bf8*0x1+0x3*-0x155+-0x17f9),this['_linearSpr'+'ingZ']=!(-0xd57*0x1+0x1af*-0x7+0x1921),this['_linearSti'+'ffnessZ']=-0xa*-0x9a+0x1*-0x1615+0x1011,this['_linearDam'+'pingZ']=0x15*0x31+0x26a8+-0x2aac,this['_linearEqu'+'ilibriumZ']=0xd7*0x2d+-0x270f+0x144,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new W(0x1*0x1c55+0x610+0xb77*-0x3,-0x3b*-0x95+-0x1*-0x1bb1+-0x3e08),this['_angularSp'+'ringX']=!(0x2af+0x21dc+0x6*-0x617),this['_angularSt'+'iffnessX']=0xc22*0x1+-0x205*-0x9+-0x1e4f,this['_angularDa'+'mpingX']=-0x14e3+-0x1d*-0xf3+-0x1*0x6a3,this['_angularEq'+'uilibriumX']=0x1fd+0xbe9+-0xde6,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new W(-0x2*-0x487+-0x1*0x1387+-0x17f*-0x7,0x32*-0x4f+0x2257+0x12e9*-0x1),this['_angularSp'+'ringY']=!(-0x1856+-0x95*0x12+-0x22d1*-0x1),this['_angularSt'+'iffnessY']=0x2b*-0xb3+-0x31a*0x3+0x275f,this['_angularDa'+'mpingY']=0x232b*0x1+0x189e+-0x3bc8,this['_angularEq'+'uilibriumY']=-0xa80+0x2*0x5cf+-0x11e,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new W(0x4*-0x27+-0x13*0xb3+0xde5,-0x53*-0x2c+-0x26e*0xd+0x1152),this['_angularSp'+'ringZ']=!(-0x1*0x23ad+-0xbff*0x1+0x1*0x2fad),this['_angularEq'+'uilibriumZ']=0x1ad*0x1+0x725*-0x5+-0x2*-0x1106,this['_angularDa'+'mpingZ']=0x1b85*-0x1+-0x1*0x989+-0xb3*-0x35,this['_angularSt'+'iffnessZ']=-0x227a+0x7*0x15a+0x1904,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x24e156){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x24e156,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x5219df){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x5219df,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x4aa01d){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x4aa01d&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x4aa01d),this['_breakForc'+'e']=_0x4aa01d);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x57473f){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x57473f,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x441578){this['_angularLi'+'mitsX']['equals'](_0x441578)||(this['_angularLi'+'mitsX']['copy'](_0x441578),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x27fc6b){this['_angularMo'+'tionX']!==_0x27fc6b&&(this['_angularMo'+'tionX']=_0x27fc6b,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x4025f3){this['_angularLi'+'mitsY']['equals'](_0x4025f3)||(this['_angularLi'+'mitsY']['copy'](_0x4025f3),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x4428cf){this['_angularMo'+'tionY']!==_0x4428cf&&(this['_angularMo'+'tionY']=_0x4428cf,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x492105){this['_angularLi'+'mitsZ']['equals'](_0x492105)||(this['_angularLi'+'mitsZ']['copy'](_0x492105),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x4f0b03){this['_angularMo'+'tionZ']!==_0x4f0b03&&(this['_angularMo'+'tionZ']=_0x4f0b03,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x2547b3){this['_linearLim'+'itsX']['equals'](_0x2547b3)||(this['_linearLim'+'itsX']['copy'](_0x2547b3),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x16afae){this['_linearMot'+'ionX']!==_0x16afae&&(this['_linearMot'+'ionX']=_0x16afae,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x2a346f){this['_linearLim'+'itsY']['equals'](_0x2a346f)||(this['_linearLim'+'itsY']['copy'](_0x2a346f),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x1ca8ba){this['_linearMot'+'ionY']!==_0x1ca8ba&&(this['_linearMot'+'ionY']=_0x1ca8ba,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x3cb9e3){this['_linearLim'+'itsZ']['equals'](_0x3cb9e3)||(this['_linearLim'+'itsZ']['copy'](_0x3cb9e3),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x21bf01){this['_linearMot'+'ionZ']!==_0x21bf01&&(this['_linearMot'+'ionZ']=_0x21bf01,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x2d583b,_0x51abcc){const _0x23b0e3=_0x2d583b['getTransla'+'tion'](),_0x147e77=new se();_0x147e77['setFromMat'+'4'](_0x2d583b);const _0x13a900=new Ammo['btVector3'](_0x23b0e3['x'],_0x23b0e3['y'],_0x23b0e3['z']),_0x55f569=new Ammo['btQuaterni'+'on'](_0x147e77['x'],_0x147e77['y'],_0x147e77['z'],_0x147e77['w']);_0x51abcc['setOrigin'](_0x13a900),_0x51abcc['setRotatio'+'n'](_0x55f569),Ammo['destroy'](_0x13a900),Ammo['destroy'](_0x55f569);}['_updateAng'+'ularLimits'](){const _0x138a58=this['_constrain'+'t'];if(_0x138a58){let _0x33baa4,_0x538ee0,_0x14379d,_0xedfbd1,_0x29d225,_0x266bc0;this['_angularMo'+'tionX']===Vn?(_0x33baa4=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0xedfbd1=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x33baa4=0x2243+-0x88d+-0x19b5*0x1,_0xedfbd1=0x2*0x283+-0xccd+0x7c7*0x1):_0x33baa4=_0xedfbd1=0x1c09+-0x6*-0x10+-0x1c69,this['_angularMo'+'tionY']===Vn?(_0x538ee0=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x29d225=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x538ee0=0x1*0x247f+0x193*0x18+0x4a46*-0x1,_0x29d225=-0x1e11+0x1779*0x1+0x2*0x34c):_0x538ee0=_0x29d225=0x74f*-0x1+-0xdf4+0x1*0x1543,this['_angularMo'+'tionZ']===Vn?(_0x14379d=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x266bc0=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x14379d=0x1*0x655+0x1597+-0x1beb,_0x266bc0=0xbf5*-0x2+0x1155+0x5*0x151):_0x14379d=_0x266bc0=-0x1d2a*0x1+-0xe59+0x2b83;const _0x459738=new Ammo['btVector3'](_0x33baa4,_0x538ee0,_0x14379d);_0x138a58['setAngular'+'LowerLimit'](_0x459738),_0x459738['setValue'](_0xedfbd1,_0x29d225,_0x266bc0),_0x138a58['setAngular'+'UpperLimit'](_0x459738),Ammo['destroy'](_0x459738);}}['_updateLin'+'earLimits'](){const _0x564456=this['_constrain'+'t'];if(_0x564456){let _0xf1ad2f,_0x360b31,_0x5eed8b,_0x3b484b,_0x225a3c,_0x19a83a;this['_linearMot'+'ionX']===Vn?(_0xf1ad2f=this['_linearLim'+'itsX']['x'],_0x3b484b=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0xf1ad2f=0x1f5a+-0x2*0x7f9+-0xf67,_0x3b484b=-0x6d*-0x15+0x1*0x535+-0xe26):_0xf1ad2f=_0x3b484b=0x2e2+0x9b*-0x1e+0x8*0x1e9,this['_linearMot'+'ionY']===Vn?(_0x360b31=this['_linearLim'+'itsY']['x'],_0x225a3c=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x360b31=0x200f+-0x175e+0x458*-0x2,_0x225a3c=0x1ba3+-0x16d*0x13+-0x8c):_0x360b31=_0x225a3c=0x22fe+-0x1ef*-0x10+-0xc2*0x57,this['_linearMot'+'ionZ']===Vn?(_0x5eed8b=this['_linearLim'+'itsZ']['x'],_0x19a83a=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x5eed8b=-0x196e+0x23d0+0x1*-0xa61,_0x19a83a=-0x4f9*0x3+0x240c+-0x1521):_0x5eed8b=_0x19a83a=0x76*0x44+0x930*-0x4+0x1*0x568;const _0xc98380=new Ammo['btVector3'](_0xf1ad2f,_0x360b31,_0x5eed8b);_0x564456['setLinearL'+'owerLimit'](_0xc98380),_0xc98380['setValue'](_0x3b484b,_0x225a3c,_0x19a83a),_0x564456['setLinearU'+'pperLimit'](_0xc98380),Ammo['destroy'](_0xc98380);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0xa3d134=new q(),_0xdacdeb=this['_entityA']['rigidbody']['body'];_0xdacdeb['activate']();const _0x38e8af=this['entity']['getWorldTr'+'ansform'](),_0x4ac2fe=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0xa3d134['mul2'](_0x4ac2fe,_0x38e8af);const _0x438f30=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0xa3d134,_0x438f30),this['_entityB']&&this['_entityB']['rigidbody']){const _0x56544a=this['_entityB']['rigidbody']['body'];_0x56544a['activate']();const _0x117c00=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0xa3d134['mul2'](_0x117c00,_0x38e8af);const _0x24ff86=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0xa3d134,_0x24ff86),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0xdacdeb,_0x56544a,_0x438f30,_0x24ff86,!this['_enableCol'+'lision']),Ammo['destroy'](_0x24ff86);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0xdacdeb,_0x438f30,!this['_enableCol'+'lision']);Ammo['destroy'](_0x438f30);const _0x4ec87f=['X','Y','Z','X','Y','Z'];for(let _0x59535d=0x5c7+-0xeff+0x938;_0x59535d<-0x1*-0x16cf+-0x9*-0x2a1+0x122*-0x29;_0x59535d++){const _0x3c7a2d=_0x59535d<0x9d*-0x35+0x7f7*0x1+0x188d?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x59535d,this[_0x3c7a2d+'Spring'+_0x4ec87f[_0x59535d]]),this['_constrain'+'t']['setDamping'](_0x59535d,this[_0x3c7a2d+'Damping'+_0x4ec87f[_0x59535d]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x59535d,this[_0x3c7a2d+('Equilibriu'+'m')+_0x4ec87f[_0x59535d]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x59535d,this[_0x3c7a2d+'Stiffness'+_0x4ec87f[_0x59535d]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x122c2f){for(const _0x204479 of UR)_0x122c2f['hasOwnProp'+'erty'](_0x204479)&&(_0x122c2f[_0x204479]instanceof W?this['_'+_0x204479]['copy'](_0x122c2f[_0x204479]):this['_'+_0x204479]=_0x122c2f[_0x204479]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x327ba9,_0x45fea4,_0x2ee72){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x54a919=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x35a519=>{['X','Y','Z']['forEach'](_0x2d220f=>{const _0x47f99e=_0x54a919+_0x35a519+_0x2d220f,_0x317b98='_'+_0x47f99e;let _0x1f3b4e=_0x54a919==='linear'?-0x456+-0x13*0xd5+0x1425:0xa0*-0x1+-0x1c6a+0x1d0d;_0x2d220f==='Y'&&(_0x1f3b4e+=0x187b+-0x4f3+-0x1387),_0x2d220f==='Z'&&(_0x1f3b4e+=-0x126+-0x236+0x1af*0x2),Object['defineProp'+'erty'](Up['prototype'],_0x47f99e,{'get':function(){return this[_0x317b98];},'set':function(_0x3f25a9){this[_0x317b98]!==_0x3f25a9&&(this[_0x317b98]=_0x3f25a9,this['_constrain'+'t'][VR[_0x35a519]](_0x1f3b4e,_0x3f25a9));}});});});});class GR{constructor(){this['enabled']=!(0x1*-0xf5b+0x132+-0x5*-0x2d5);}}const uf=['enabled'];class HR extends Xe{constructor(_0x5255ed){super(_0x5255ed),this['id']='joint',this['app']=_0x5255ed,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x26d16c,_0x2d9120,_0x2e8efa){_0x26d16c['initFromDa'+'ta'](_0x2d9120),super['initialize'+'ComponentD'+'ata'](_0x26d16c,_0x2d9120,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',-0x2555+-0x1cfe+0x1*0x4253),c(this,'_minHeight',-0x1b98+-0x1*0x94f+0x24e7),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x49*-0x8+-0x1*-0xb8a+0x9e*-0xf),c(this,'_fitHeight'+'Proportion',-0x10d9*0x1+-0x1c57+0x2d30),c(this,'_excludeFr'+'omLayout',!(0x1c9+0x13b8+0x40*-0x56));}set['minWidth'](_0x14d5f7){_0x14d5f7!==this['_minWidth']&&(this['_minWidth']=_0x14d5f7,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x9fa813){_0x9fa813!==this['_minHeight']&&(this['_minHeight']=_0x9fa813,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x24804c){_0x24804c!==this['_maxWidth']&&(this['_maxWidth']=_0x24804c,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x2701e6){_0x2701e6!==this['_maxHeight']&&(this['_maxHeight']=_0x2701e6,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x41ad0f){_0x41ad0f!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x41ad0f,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0xa1621a){_0xa1621a!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0xa1621a,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x5b9670){_0x5b9670!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x5b9670,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(-0x270e+0x1*-0x704+0x2e12);}}const ax=['enabled'];class $R extends Xe{constructor(_0x44cdfc){super(_0x44cdfc),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x5bbe7b,_0x49895b,_0x21a3f5){_0x49895b['enabled']!==void(-0x19f2+0x4eb*-0x7+0x3c5f)&&(_0x5bbe7b['enabled']=_0x49895b['enabled']),_0x49895b['minWidth']!==void(-0x9*-0x332+-0x3*0x496+0x50*-0x30)&&(_0x5bbe7b['minWidth']=_0x49895b['minWidth']),_0x49895b['minHeight']!==void(0x1aa2+-0x1d23+0x281)&&(_0x5bbe7b['minHeight']=_0x49895b['minHeight']),_0x49895b['maxWidth']!==void(0xbee+-0x1*0xa84+0x16a*-0x1)&&(_0x5bbe7b['maxWidth']=_0x49895b['maxWidth']),_0x49895b['maxHeight']!==void(-0x12a0+-0x534+0x262*0xa)&&(_0x5bbe7b['maxHeight']=_0x49895b['maxHeight']),_0x49895b['fitWidthPr'+'oportion']!==void(-0x195*0x5+-0xb60+-0x1349*-0x1)&&(_0x5bbe7b['fitWidthPr'+'oportion']=_0x49895b['fitWidthPr'+'oportion']),_0x49895b['fitHeightP'+'roportion']!==void(-0x454+0xe1a+-0x12*0x8b)&&(_0x5bbe7b['fitHeightP'+'roportion']=_0x49895b['fitHeightP'+'roportion']),_0x49895b['excludeFro'+'mLayout']!==void(0x20fe+0x1a32+0x3b30*-0x1)&&(_0x5bbe7b['excludeFro'+'mLayout']=_0x49895b['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x5bbe7b,_0x49895b,_0x21a3f5);}['cloneCompo'+'nent'](_0x453574,_0x9bf127){const _0x1ee682=_0x453574['layoutchil'+'d'];return this['addCompone'+'nt'](_0x9bf127,{'enabled':_0x1ee682['enabled'],'minWidth':_0x1ee682['minWidth'],'minHeight':_0x1ee682['minHeight'],'maxWidth':_0x1ee682['maxWidth'],'maxHeight':_0x1ee682['maxHeight'],'fitWidthProportion':_0x1ee682['fitWidthPr'+'oportion'],'fitHeightProportion':_0x1ee682['fitHeightP'+'roportion'],'excludeFromLayout':_0x1ee682['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=-0x4ae+0x81a+-0x36c,qR=-0x392*-0x2+0x4*0x3f5+-0x16f7,gg=-0x1*0x1261+-0x2*0xd85+0x2d6d,XR=-0x1*0x8b7+-0xe83+-0x1*-0x173d,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new W();function ox(_0x2a4e64){let _0xf6ff1b;const _0x10b2fa=Zh[_0x2a4e64],_0x103639=Zh[Vp[_0x2a4e64]];function _0x1f7db7(_0x2556db,_0x2325af){return-_0x2325af[_0x10b2fa['size']]*_0x2556db['pivot'][_0x10b2fa['axis']];}function _0x5d19ef(_0x55a025,_0x41a428){return-_0x41a428[_0x103639['size']]*_0x55a025['pivot'][_0x103639['axis']];}function _0x27c41d(_0x35b073,_0x1caf08){return _0x1caf08[_0x10b2fa['size']]*(-0xeff*-0x1+-0x1beb+0xced-_0x35b073['pivot'][_0x10b2fa['axis']]);}function _0x4b4ce5(_0x2ff8f7,_0x4bfeab){_0x2ff8f7=_0x2ff8f7['filter'](_0x3d5c5a),_0xf6ff1b=_0x4bfeab,Ut['x']=_0xf6ff1b['containerS'+'ize']['x']-_0xf6ff1b['padding']['x']-_0xf6ff1b['padding']['z'],Ut['y']=_0xf6ff1b['containerS'+'ize']['y']-_0xf6ff1b['padding']['y']-_0xf6ff1b['padding']['w'],_0x24ecde(_0x2ff8f7);const _0x2099b0=_0x2cbbf7(_0x58e223(_0x2ff8f7)),_0x5b0f7c=_0x12366a(_0x2099b0,_0x31791a(_0x2099b0)),_0x4f3e33=_0x9c79b1(_0x2099b0,_0x5b0f7c);return _0x5ae7a0(_0x2099b0,_0x5b0f7c,_0x4f3e33),_0x2af5c9(_0x2099b0,_0x5b0f7c,_0x4f3e33),_0x15f461(_0x2099b0);}function _0x3d5c5a(_0x149e52){const _0x45df01=_0x149e52['entity']['layoutchil'+'d'];return!_0x45df01||!_0x45df01['enabled']||!_0x45df01['excludeFro'+'mLayout'];}function _0x24ecde(_0x21caad){for(let _0x3e2d20=-0x2434+-0x1371+-0x37*-0x103;_0x3e2d20<_0x21caad['length'];++_0x3e2d20){const _0x122dd6=_0x21caad[_0x3e2d20],_0x4528fa=_0x122dd6['anchor'];(_0x4528fa['x']!==-0x9*0x1f2+0xecb+-0x1*-0x2b7||_0x4528fa['y']!==0x12fd+0x104+0x3*-0x6ab||_0x4528fa['z']!==0x5db*0x4+0xea2+-0x260e||_0x4528fa['w']!==0x1*-0x1be3+-0x246a+0x404d)&&(_0x122dd6['anchor']=Q['ZERO']);}}function _0x58e223(_0x5a6ebf){if(!_0xf6ff1b['wrap'])return[_0x5a6ebf];const _0x5b57d4=[[]],_0xd62b09=_0x2be599(_0x5a6ebf);let _0x2390ff=-0x5c6+-0x1*0xeca+0x1490;const _0x38406f=_0xf6ff1b[_0x10b2fa['fitting']]===gg;for(let _0x2e8ff3=0x1542+0x20c5*0x1+0x1*-0x3607;_0x2e8ff3<_0x5a6ebf['length'];++_0x2e8ff3){_0x5b57d4[_0x5b57d4['length']-(0x1*-0x797+0x1af8+0x7c*-0x28)]['length']>-0x1b4*-0x9+0xa4d+-0x19a1&&(_0x2390ff+=_0xf6ff1b['spacing'][_0x10b2fa['axis']]);const _0x4f634a=_0xd62b09[_0x2e8ff3][_0x10b2fa['size']];_0x2390ff+=_0x4f634a,!_0x38406f&&_0x2390ff>Ut[_0x10b2fa['axis']]&&_0x5b57d4[_0x5b57d4['length']-(0x1c9b+-0x2*-0xe3c+-0x3912)]['length']!==0x1f*0xe8+-0x413*0x1+-0x1805&&(_0x2390ff=_0x4f634a,_0x5b57d4['push']([])),_0x5b57d4[_0x5b57d4['length']-(-0xb5*0xf+0x26fe+0x15a*-0x15)]['push'](_0x5a6ebf[_0x2e8ff3]),_0x38406f&&_0x2390ff>Ut[_0x10b2fa['axis']]&&_0x2e8ff3!==_0x5a6ebf['length']-(0x4fb+-0x20f8*-0x1+-0x25f2*0x1)&&(_0x2390ff=-0x117+0x6ba+-0x27*0x25,_0x5b57d4['push']([]));}return _0x5b57d4;}function _0x2cbbf7(_0x1935d6){const _0x458f00=_0xf6ff1b['orientatio'+'n']===pe&&_0xf6ff1b['reverseX']||_0xf6ff1b['orientatio'+'n']===ke&&_0xf6ff1b['reverseY'],_0x83d09e=_0xf6ff1b['orientatio'+'n']===pe&&_0xf6ff1b['reverseY']||_0xf6ff1b['orientatio'+'n']===ke&&_0xf6ff1b['reverseX'];if(_0x458f00){for(let _0xd137c9=0x1aa3+0x1*0x169+-0x59c*0x5;_0xd137c9<_0x1935d6['length'];++_0xd137c9)_0x458f00&&_0x1935d6[_0xd137c9]['reverse']();}return _0x83d09e&&_0x1935d6['reverse'](),_0x1935d6;}function _0x31791a(_0xb48555){const _0x14b492=[];for(let _0x2bd4fe=-0x876+-0x1*0x470+0xce6;_0x2bd4fe<_0xb48555['length'];++_0x2bd4fe){const _0x2b351a=_0xb48555[_0x2bd4fe],_0x417fc1=_0x2be599(_0x2b351a),_0x484713=_0x55ffaf(_0x417fc1,_0x10b2fa),_0x10d305=_0x439fe7(_0xf6ff1b[_0x10b2fa['fitting']],_0x484713,Ut[_0x10b2fa['axis']]);_0x10d305===zt['APPLY_STRE'+'TCHING']?_0x2197e9(_0x417fc1,_0x484713,_0x10b2fa):_0x10d305===zt['APPLY_SHRI'+'NKING']&&_0x4670d3(_0x417fc1,_0x484713,_0x10b2fa),_0x14b492['push'](_0x417fc1);}return _0x14b492;}function _0x12366a(_0x532a27,_0xf5b8eb){const _0x14e257=[],_0x423826=[];for(let _0x49b201=-0xac+-0x1288+-0x1*-0x1334;_0x49b201<_0x532a27['length'];++_0x49b201){const _0x52195d=_0x532a27[_0x49b201];_0x52195d['largestEle'+'ment']=null,_0x52195d['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x123c4f=0x24cc+0x6d2*-0x1+-0x1dfa;_0x123c4f<_0x52195d['length'];++_0x123c4f){const _0x56a527=_0xf5b8eb[_0x49b201][_0x123c4f];_0x56a527[_0x103639['size']]>_0x52195d['largestSiz'+'e'][_0x103639['size']]&&(_0x52195d['largestEle'+'ment']=_0x52195d[_0x123c4f],_0x52195d['largestSiz'+'e']=_0x56a527);}_0x14e257['push'](_0x52195d['largestEle'+'ment']),_0x423826['push'](_0x52195d['largestSiz'+'e']);}const _0x235ef0=_0x55ffaf(_0x423826,_0x103639),_0xd16f5d=_0x439fe7(_0xf6ff1b[_0x103639['fitting']],_0x235ef0,Ut[_0x103639['axis']]);_0xd16f5d===zt['APPLY_STRE'+'TCHING']?_0x2197e9(_0x423826,_0x235ef0,_0x103639):_0xd16f5d===zt['APPLY_SHRI'+'NKING']&&_0x4670d3(_0x423826,_0x235ef0,_0x103639);for(let _0x505e68=-0xd23+-0x1*0xab2+0x17d5;_0x505e68<_0x532a27['length'];++_0x505e68){const _0x42ea0=_0x532a27[_0x505e68];for(let _0x36c8bb=0x3*0xc75+-0x17*0x173+0x2*-0x205;_0x36c8bb<_0x42ea0['length'];++_0x36c8bb){const _0x4dc763=_0xf5b8eb[_0x505e68][_0x36c8bb],_0x343d7e=_0x4dc763[_0x103639['size']],_0x2a183c=_0x532a27['length']===-0x7*0x225+0x3b*0xb+0x47*0x2d?Ut[_0x103639['axis']]:_0x42ea0['largestSiz'+'e'][_0x103639['size']],_0x428490=_0x439fe7(_0xf6ff1b[_0x103639['fitting']],_0x343d7e,_0x2a183c);_0x428490===zt['APPLY_STRE'+'TCHING']?_0x4dc763[_0x103639['size']]=Math['min'](_0x2a183c,_0x4dc763[_0x103639['maxSize']]):_0x428490===zt['APPLY_SHRI'+'NKING']&&(_0x4dc763[_0x103639['size']]=Math['max'](_0x2a183c,_0x4dc763[_0x103639['minSize']]));}}return _0xf5b8eb;}function _0x439fe7(_0x5b785f,_0x37e922,_0x5bc6a4){switch(_0x5b785f){case ff:return zt['NONE'];case qR:return _0x37e922<_0x5bc6a4?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x37e922>=_0x5bc6a4?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x37e922<_0x5bc6a4?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x5b785f);}}function _0x55ffaf(_0x509c79,_0x20211d){const _0x4e5cc8=_0x4cf7ed(_0x509c79,_0x20211d['size']),_0x37dd22=(_0x509c79['length']-(-0x2d7*-0x2+-0x51*0x4c+-0x125f*-0x1))*_0xf6ff1b['spacing'][_0x20211d['axis']];return _0x4e5cc8+_0x37dd22;}function _0x2197e9(_0x122c7c,_0x3707e8,_0x20d9c0){const _0x42616c=_0x30a85a(_0x122c7c,_0x20d9c0['maxSize']),_0x20fee5=_0x34474(_0x122c7c,_0x20d9c0['fittingPro'+'portion']),_0x4d80c3=_0x64ee04(_0x20fee5,_0x42616c);let _0x664539=Ut[_0x20d9c0['axis']]-_0x3707e8;for(let _0xa871e3=-0x1*-0x377+0x22df+-0x2656;_0xa871e3<_0x122c7c['length'];++_0xa871e3){const _0x3ada9c=_0x42616c[_0xa871e3],_0x47f478=_0x23086a(_0x3ada9c,_0x664539,_0x20fee5,_0x4d80c3),_0x42a860=_0x122c7c[_0x3ada9c][_0x20d9c0['size']]+_0x47f478,_0x5aff96=_0x122c7c[_0x3ada9c][_0x20d9c0['maxSize']],_0x37cc93=Math['min'](_0x42a860,_0x5aff96);_0x122c7c[_0x3ada9c][_0x20d9c0['size']]=_0x37cc93;const _0x45d06e=Math['max'](_0x42a860-_0x37cc93,0x2*-0xda5+0x1*-0x24e8+0x4032),_0x5962ba=_0x47f478-_0x45d06e;_0x664539-=_0x5962ba;}}function _0x4670d3(_0x1124f1,_0x181746,_0x55353e){const _0x7eda7d=_0x30a85a(_0x1124f1,_0x55353e['minSize'],!(-0x193*-0x7+-0x1d70+0x126b)),_0x848072=_0x34474(_0x1124f1,_0x55353e['fittingPro'+'portion']),_0x485f2c=_0x3fafa6(_0x848072),_0x419d63=_0x64ee04(_0x485f2c,_0x7eda7d);let _0x42a098=_0x181746-Ut[_0x55353e['axis']];for(let _0x51a0b0=-0x9*0x26b+0x3*-0xce3+0x3c6c;_0x51a0b0<_0x1124f1['length'];++_0x51a0b0){const _0x1f887d=_0x7eda7d[_0x51a0b0],_0x5f0d63=_0x23086a(_0x1f887d,_0x42a098,_0x485f2c,_0x419d63),_0xaddcff=_0x1124f1[_0x1f887d][_0x55353e['size']]-_0x5f0d63,_0x5bb88c=_0x1124f1[_0x1f887d][_0x55353e['minSize']],_0x350fbb=Math['max'](_0xaddcff,_0x5bb88c);_0x1124f1[_0x1f887d][_0x55353e['size']]=_0x350fbb;const _0x69ab4c=Math['max'](_0x350fbb-_0xaddcff,-0x19af+0x13c*0x3+0x15fb),_0x3436cd=_0x5f0d63-_0x69ab4c;_0x42a098-=_0x3436cd;}}function _0x23086a(_0x545487,_0xdf563d,_0x28b25b,_0x4a552f){const _0x5a9686=_0x28b25b[_0x545487],_0x253e56=_0x4a552f[_0x545487];return Math['abs'](_0x5a9686)<-0x1658+0xdf6+0x4a*0x1d+0.00001&&Math['abs'](_0x253e56)<0xce4+0x17b0+-0x2494+0.00001?_0xdf563d:_0xdf563d*_0x5a9686/_0x253e56;}function _0x9c79b1(_0x58ed8e,_0x4562de){const _0x251c18={};_0x251c18[_0x10b2fa['axis']]=0x1811+0xe18+-0x2629,_0x251c18[_0x103639['axis']]=-0x17e8+0x67b+0x116d*0x1,_0x58ed8e[_0x10b2fa['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x56216a=[];for(let _0x18961f=-0x153c+0x26d5+0x1199*-0x1;_0x18961f<_0x58ed8e['length'];++_0x18961f){const _0x2a4c5a=_0x58ed8e[_0x18961f];if(_0x2a4c5a['length']===0x1*-0xbe6+-0x22a*-0x9+0x1*-0x794){_0x56216a['push']([]);continue;}const _0x1eee0b=[],_0x367682=_0x4562de[_0x18961f];for(let _0xe12e61=-0xed*-0x15+-0xd77+-0x5fa;_0xe12e61<_0x2a4c5a['length'];++_0xe12e61){const _0x4fcce1=_0x2a4c5a[_0xe12e61],_0x40e1e2=_0x367682[_0xe12e61];_0x251c18[_0x103639['axis']]-=_0x5d19ef(_0x4fcce1,_0x40e1e2),_0x251c18[_0x10b2fa['axis']]-=_0x1f7db7(_0x4fcce1,_0x40e1e2),_0x1eee0b[_0xe12e61]={},_0x1eee0b[_0xe12e61][_0x10b2fa['axis']]=_0x251c18[_0x10b2fa['axis']],_0x1eee0b[_0xe12e61][_0x103639['axis']]=_0x251c18[_0x103639['axis']],_0x251c18[_0x103639['axis']]+=_0x5d19ef(_0x4fcce1,_0x40e1e2),_0x251c18[_0x10b2fa['axis']]+=_0x27c41d(_0x4fcce1,_0x40e1e2)+_0xf6ff1b['spacing'][_0x10b2fa['axis']];}_0x2a4c5a[_0x10b2fa['size']]=_0x251c18[_0x10b2fa['axis']]-_0xf6ff1b['spacing'][_0x10b2fa['axis']],_0x2a4c5a[_0x103639['size']]=_0x2a4c5a['largestSiz'+'e'][_0x103639['size']],_0x58ed8e[_0x10b2fa['size']]=Math['max'](_0x58ed8e[_0x10b2fa['size']],_0x2a4c5a[_0x10b2fa['size']]),_0x251c18[_0x10b2fa['axis']]=0x1e2*-0x2+-0x24bb+-0x287f*-0x1,_0x251c18[_0x103639['axis']]+=_0x2a4c5a[_0x103639['size']]+_0xf6ff1b['spacing'][_0x103639['axis']],_0x56216a['push'](_0x1eee0b);}return _0x58ed8e[_0x103639['size']]=_0x251c18[_0x103639['axis']]-_0xf6ff1b['spacing'][_0x103639['axis']],_0x56216a;}function _0x5ae7a0(_0x18f8a0,_0x1af56d,_0x478c36){const _0xe55e27=_0xf6ff1b['alignment'][_0x10b2fa['axis']],_0x44b8f0=_0xf6ff1b['alignment'][_0x103639['axis']],_0x11c9cc=_0xf6ff1b['padding'][_0x10b2fa['axis']],_0x3b91bb=_0xf6ff1b['padding'][_0x103639['axis']];for(let _0x29dab6=-0x1df9+0x107*-0x7+0x252a;_0x29dab6<_0x18f8a0['length'];++_0x29dab6){const _0x16b925=_0x18f8a0[_0x29dab6],_0xb6ee8=_0x1af56d[_0x29dab6],_0x3dca03=_0x478c36[_0x29dab6],_0x4c4e34=(Ut[_0x10b2fa['axis']]-_0x16b925[_0x10b2fa['size']])*_0xe55e27+_0x11c9cc,_0x44dee1=(Ut[_0x103639['axis']]-_0x18f8a0[_0x103639['size']])*_0x44b8f0+_0x3b91bb;for(let _0x459097=0x1*0x84a+-0x2a2*0x7+-0x2*-0x512;_0x459097<_0x16b925['length'];++_0x459097){const _0x210d6b=(_0x16b925[_0x103639['size']]-_0xb6ee8[_0x459097][_0x103639['size']])*_0xf6ff1b['alignment'][_0x103639['axis']];_0x3dca03[_0x459097][_0x10b2fa['axis']]+=_0x4c4e34,_0x3dca03[_0x459097][_0x103639['axis']]+=_0x44dee1+_0x210d6b;}}}function _0x2af5c9(_0x4be379,_0x492f8c,_0x1a7f8f){for(let _0x300b51=0xabb+-0x1df*0xe+0x25*0x6b;_0x300b51<_0x4be379['length'];++_0x300b51){const _0x1d83f5=_0x4be379[_0x300b51],_0x270d24=_0x492f8c[_0x300b51],_0x3765a0=_0x1a7f8f[_0x300b51];for(let _0x93e63b=-0x84a+-0x5ff*-0x4+0x31*-0x52;_0x93e63b<_0x1d83f5['length'];++_0x93e63b){const _0x14e383=_0x1d83f5[_0x93e63b];_0x14e383[_0x10b2fa['calculated'+'Size']]=_0x270d24[_0x93e63b][_0x10b2fa['size']],_0x14e383[_0x103639['calculated'+'Size']]=_0x270d24[_0x93e63b][_0x103639['size']],_0xf6ff1b['orientatio'+'n']===pe?_0x14e383['entity']['setLocalPo'+'sition'](_0x3765a0[_0x93e63b][_0x10b2fa['axis']],_0x3765a0[_0x93e63b][_0x103639['axis']],_0x14e383['entity']['getLocalPo'+'sition']()['z']):_0x14e383['entity']['setLocalPo'+'sition'](_0x3765a0[_0x93e63b][_0x103639['axis']],_0x3765a0[_0x93e63b][_0x10b2fa['axis']],_0x14e383['entity']['getLocalPo'+'sition']()['z']);}}}function _0x15f461(_0x5407ac){const _0x3c5ca7=_0x5407ac['width'],_0x1ff05a=_0x5407ac['height'],_0x215b2e=(Ut['x']-_0x3c5ca7)*_0xf6ff1b['alignment']['x']+_0xf6ff1b['padding']['x'],_0x9d5229=(Ut['y']-_0x1ff05a)*_0xf6ff1b['alignment']['y']+_0xf6ff1b['padding']['y'];return{'bounds':new Q(_0x215b2e,_0x9d5229,_0x3c5ca7,_0x1ff05a)};}function _0x2be599(_0x353400){const _0x407af1=[];for(let _0x451ccc=0x1*0xec3+0xe97+-0x1d5a;_0x451ccc<_0x353400['length'];++_0x451ccc){const _0x5a2f06=_0x353400[_0x451ccc],_0x381bda=Math['max'](_0x426bdb(_0x5a2f06,'minWidth'),0x4*0x7ac+0x1*0x1ae1+-0x1*0x3991),_0x57997d=Math['max'](_0x426bdb(_0x5a2f06,'minHeight'),-0x1f05+-0x1f5b+0x1f3*0x20),_0x2812ed=Math['max'](_0x426bdb(_0x5a2f06,'maxWidth'),_0x381bda),_0x17be43=Math['max'](_0x426bdb(_0x5a2f06,'maxHeight'),_0x57997d),_0x43b633=_0x2b2ccb(_0x426bdb(_0x5a2f06,'width'),_0x381bda,_0x2812ed),_0x213764=_0x2b2ccb(_0x426bdb(_0x5a2f06,'height'),_0x57997d,_0x17be43),_0x46ce1d=_0x426bdb(_0x5a2f06,'fitWidthPr'+'oportion'),_0x22307c=_0x426bdb(_0x5a2f06,'fitHeightP'+'roportion');_0x407af1['push']({'minWidth':_0x381bda,'minHeight':_0x57997d,'maxWidth':_0x2812ed,'maxHeight':_0x17be43,'width':_0x43b633,'height':_0x213764,'fitWidthProportion':_0x46ce1d,'fitHeightProportion':_0x22307c});}return _0x407af1;}function _0x426bdb(_0x52708e,_0x14cfdf){const _0x45abbb=_0x52708e['entity']['layoutchil'+'d'];return _0x45abbb&&_0x45abbb['enabled']&&_0x45abbb[_0x14cfdf]!==void(-0x67*0x51+0x1*0x2129+-0x92)&&_0x45abbb[_0x14cfdf]!==null?_0x45abbb[_0x14cfdf]:_0x52708e[_0x14cfdf]!==void(-0x7ff*0x4+-0x2651+-0x359*-0x15)?_0x52708e[_0x14cfdf]:jR[_0x14cfdf];}function _0x2b2ccb(_0x37c207,_0x1a972d,_0x35c110){return Math['min'](Math['max'](_0x37c207,_0x1a972d),_0x35c110);}function _0x4cf7ed(_0x2ee64d,_0x4490ca){return _0x2ee64d['reduce']((_0x2bc829,_0x434d73)=>_0x2bc829+_0x434d73[_0x4490ca],-0xabe+0x23e7+-0x1929);}function _0x34474(_0x377d0f,_0x1368f5){const _0x185687=_0x4cf7ed(_0x377d0f,_0x1368f5),_0x1a2c0f=[],_0x48c7c3=_0x377d0f['length'];if(_0x185687===-0xc43+-0x13f1+0x2034*0x1){for(let _0x281819=0xbf+-0xb1*0x13+0xc64;_0x281819<_0x48c7c3;++_0x281819)_0x1a2c0f['push']((-0x157f*0x1+-0xf13+0x2493)/_0x48c7c3);}else{for(let _0x5effe1=0x1463*-0x1+-0x705+-0x36d*-0x8;_0x5effe1<_0x48c7c3;++_0x5effe1)_0x1a2c0f['push'](_0x377d0f[_0x5effe1][_0x1368f5]/_0x185687);}return _0x1a2c0f;}function _0x3fafa6(_0x2d5c6f){if(_0x2d5c6f['length']===-0x5*-0x3a1+-0x12ae+0x8a)return[0x1*-0xe5+0x4*-0x1ea+0x2*0x447];const _0x22f5ef=[],_0x1ff188=_0x2d5c6f['length'];for(let _0x4daa74=-0x65a*0x1+0x237*0xe+-0x18*0x107;_0x4daa74<_0x1ff188;++_0x4daa74)_0x22f5ef['push']((-0xd*0x1bb+-0x2d9*0x1+-0x67*-0x3f-_0x2d5c6f[_0x4daa74])/(_0x1ff188-(-0x74a+-0x365+0xab0)));return _0x22f5ef;}function _0x30a85a(_0x54c4e6,_0x458fa4,_0x55006b){return _0x54c4e6['forEach'](_0xdb422),_0x54c4e6['slice']()['sort']((_0x5e2079,_0x260243)=>_0x55006b?_0x260243[_0x458fa4]-_0x5e2079[_0x458fa4]:_0x5e2079[_0x458fa4]-_0x260243[_0x458fa4])['map'](_0x38aeb6);}function _0xdb422(_0x5a2afd,_0x3075d2){_0x5a2afd['index']=_0x3075d2;}function _0x38aeb6(_0x4570b8){return _0x4570b8['index'];}function _0x64ee04(_0x28e1c7,_0x329174){const _0x426ecd=[];_0x426ecd[_0x329174[_0x28e1c7['length']-(-0xb1*0x2+0x1*-0x1d7d+0x1ee0)]]=_0x28e1c7[_0x329174[_0x28e1c7['length']-(-0x199b+-0x68*-0x2f+0x22c*0x3)]];for(let _0x165c0e=_0x28e1c7['length']-(-0x2*-0x287+-0x8d5+0x143*0x3);_0x165c0e>=-0xe*0x25c+0x108b+0x107d;--_0x165c0e)_0x426ecd[_0x329174[_0x165c0e]]=_0x426ecd[_0x329174[_0x165c0e+(-0x516+-0x361*-0x5+-0xbce)]]+_0x28e1c7[_0x329174[_0x165c0e]];return _0x426ecd;}return _0x4b4ce5;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x3cde45,_0x29326e){const _0x4c3f69=Gp[_0x29326e['orientatio'+'n']];if(_0x4c3f69)return _0x4c3f69(_0x3cde45,_0x29326e);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x29326e['orientatio'+'n']);}}function yg(_0x554e4c){return _0x554e4c['element'];}function KR(_0x3141f1){return _0x3141f1['enabled']&&_0x3141f1['element']&&_0x3141f1['element']['enabled'];}class lx extends ue{constructor(_0x110976,_0x12a0cb){super(_0x110976,_0x12a0cb),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0x794+-0xe9*-0x1+-0x4*0x21f)),c(this,'_reverseY',!(-0x4*0x829+0xc33+0x1471)),c(this,'_alignment',new W(-0xdf2+-0x134f*0x1+-0x2141*-0x1,0x14ea*-0x1+0x14f*-0x9+0x20b2)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(0xeb*-0xb+0xc*0x189+-0x8e*0xf)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x1d1324=>{this['_listenFor'+'ReflowEven'+'ts'](_0x1d1324,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x110976['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x110976['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x110976['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x110976['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x110976['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x110976['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x3c4758){_0x3c4758!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x3c4758,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x28bb5e){_0x28bb5e!==this['_reverseX']&&(this['_reverseX']=_0x28bb5e,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x257f55){_0x257f55!==this['_reverseY']&&(this['_reverseY']=_0x257f55,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x52abd4){_0x52abd4['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x52abd4),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x3c6052){_0x3c6052['equals'](this['_padding'])||(this['_padding']['copy'](_0x3c6052),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x2e6a3a){_0x2e6a3a['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x2e6a3a),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x2c70f2){_0x2c70f2!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x2c70f2,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x321ab5){_0x321ab5!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x321ab5,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x2645ea){_0x2645ea!==this['_wrap']&&(this['_wrap']=_0x2645ea,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x5adadb){return _0x5adadb===this['entity']||this['entity']['children']['indexOf'](_0x5adadb)!==-(0x138+-0x1*0x534+0x3fd);}['_listenFor'+'ReflowEven'+'ts'](_0x3585a3,_0x1bd2d5){_0x3585a3['element']&&(_0x3585a3['element'][_0x1bd2d5]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x3585a3['element'][_0x1bd2d5]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x3585a3['element'][_0x1bd2d5]('resize',this['_scheduleR'+'eflow'],this),_0x3585a3['element'][_0x1bd2d5]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x3585a3['layoutchil'+'d']&&(_0x3585a3['layoutchil'+'d'][_0x1bd2d5]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x3585a3['layoutchil'+'d'][_0x1bd2d5]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x2cfeb9){this['_isSelfOrC'+'hild'](_0x2cfeb9)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x2cfeb9,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x45ca38){this['_isSelfOrC'+'hild'](_0x45ca38)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x45ca38,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x4dd5eb){this['_listenFor'+'ReflowEven'+'ts'](_0x4dd5eb,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0xfb747e){this['_listenFor'+'ReflowEven'+'ts'](_0xfb747e,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x3c3af4=yg(this['entity']),_0x306a83=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x3c3af4||_0x306a83['length']===0xe3*-0xd+0x3*-0xb29+0x2d02)return;const _0x1204a2=Math['max'](_0x3c3af4['calculated'+'Width'],-0x13c*0x6+-0x1cdd+-0x26b*-0xf),_0x5356fe=Math['max'](_0x3c3af4['calculated'+'Height'],0x110*0x8+-0x12d1+-0x1*-0xa51),_0x26ba12={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x1204a2,_0x5356fe)};this['_isPerform'+'ingReflow']=!(-0xa49+0x15ca+0x1f*-0x5f);const _0x5838bc=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x306a83,_0x26ba12);this['_isPerform'+'ingReflow']=!(0xef0+-0x6df*0x3+0x5ae),this['fire']('reflow',_0x5838bc);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x470e0f=>{this['_listenFor'+'ReflowEven'+'ts'](_0x470e0f,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(-0xaa3+-0x1*-0x1ad5+-0x1032);}}const hx=['enabled'],QR=0x1e2d+0x4*0x1aa+-0x2471;class JR extends Xe{constructor(_0x514f73){super(_0x514f73),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x2c667c,_0x39a4eb,_0x101f8c){_0x39a4eb['enabled']!==void(0x1bae+-0x21f8*-0x1+0x1*-0x3da6)&&(_0x2c667c['enabled']=_0x39a4eb['enabled']),_0x39a4eb['orientatio'+'n']!==void(-0x2*-0x174+0x561*-0x1+0x279)&&(_0x2c667c['orientatio'+'n']=_0x39a4eb['orientatio'+'n']),_0x39a4eb['reverseX']!==void(0x1*-0x473+0xe*0xc9+-0x19*0x43)&&(_0x2c667c['reverseX']=_0x39a4eb['reverseX']),_0x39a4eb['reverseY']!==void(0x237a+-0x25d5*-0x1+-0x494f)&&(_0x2c667c['reverseY']=_0x39a4eb['reverseY']),_0x39a4eb['alignment']!==void(-0xb*0x2b9+0x20a8+-0x2b5)&&(_0x2c667c['alignment']=Array['isArray'](_0x39a4eb['alignment'])?new W(_0x39a4eb['alignment']):_0x39a4eb['alignment']),_0x39a4eb['padding']!==void(0xbbb+0x5ab+-0x1166)&&(_0x2c667c['padding']=Array['isArray'](_0x39a4eb['padding'])?new Q(_0x39a4eb['padding']):_0x39a4eb['padding']),_0x39a4eb['spacing']!==void(-0x1*0x1966+-0xd85+0x26eb)&&(_0x2c667c['spacing']=Array['isArray'](_0x39a4eb['spacing'])?new W(_0x39a4eb['spacing']):_0x39a4eb['spacing']),_0x39a4eb['widthFitti'+'ng']!==void(0x1b29+-0x1a56+-0xd3)&&(_0x2c667c['widthFitti'+'ng']=_0x39a4eb['widthFitti'+'ng']),_0x39a4eb['heightFitt'+'ing']!==void(-0x12*-0x3a+-0x1983+-0x156f*-0x1)&&(_0x2c667c['heightFitt'+'ing']=_0x39a4eb['heightFitt'+'ing']),_0x39a4eb['wrap']!==void(0xb29*0x1+-0x26f7+0x1bce*0x1)&&(_0x2c667c['wrap']=_0x39a4eb['wrap']),super['initialize'+'ComponentD'+'ata'](_0x2c667c,_0x39a4eb,_0x101f8c);}['cloneCompo'+'nent'](_0x4e31d8,_0x1eb521){const _0x5027ad=_0x4e31d8['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x1eb521,{'enabled':_0x5027ad['enabled'],'orientation':_0x5027ad['orientatio'+'n'],'reverseX':_0x5027ad['reverseX'],'reverseY':_0x5027ad['reverseY'],'alignment':_0x5027ad['alignment'],'padding':_0x5027ad['padding'],'spacing':_0x5027ad['spacing'],'widthFitting':_0x5027ad['widthFitti'+'ng'],'heightFitting':_0x5027ad['heightFitt'+'ing'],'wrap':_0x5027ad['wrap']});}['scheduleRe'+'flow'](_0x402cfb){this['_reflowQue'+'ue']['indexOf'](_0x402cfb)===-(-0x880+-0x12d*-0x4+0x3cd)&&this['_reflowQue'+'ue']['push'](_0x402cfb);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x2508+-0x2684+-0x2*-0xbe)return;let _0x544b31=0x688+-0x23f7+0x1d6f;for(;this['_reflowQue'+'ue']['length']>0xcb9*0x1+0x233*0x9+-0x2084;){const _0x1cdf00=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x203e+-0x4f0+0x252e,_0x1cdf00['sort']((_0x10169c,_0x51a17e)=>_0x10169c['entity']['graphDepth']-_0x51a17e['entity']['graphDepth']);for(let _0x183f68=-0x2*0x3af+-0x1*-0x1be6+-0x1488;_0x183f68<_0x1cdf00['length'];++_0x183f68)_0x1cdf00[_0x183f68]['reflow']();if(++_0x544b31>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x36e1ee,_0x165a27){_0x165a27['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x5ddb38){this['map']['forEach'](_0x4ac3ce=>_0x4ac3ce['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x4f6cc1,_0x21f80b)=>{const _0x2dc232=tI['get'](_0x4f6cc1,()=>new eI());let _0x53b9d3=_0x2dc232['map']['get'](_0x21f80b);if(!_0x53b9d3){let _0xd2ef89,_0x5b20f2;switch(_0x21f80b){case'box':_0xd2ef89=Ie['fromGeomet'+'ry'](_0x4f6cc1,new $u()),_0x5b20f2={'x':0x2,'y':0x2,'z':0x2,'uv':(0x247e+0x2a3+-0x271f)/(0x50*-0x6a+0xb8f*0x3+0x2*-0xc5)};break;case'capsule':_0xd2ef89=Ie['fromGeomet'+'ry'](_0x4f6cc1,new C1({'radius':0.5,'height':0x2})),_0x5b20f2={'x':Math['PI']*(0xd*-0x9d+0x4e4*-0x7+0x2a37),'y':Math['PI'],'z':Math['PI']*(0x4b1*0x2+0x1*0xae1+-0x1441),'uv':(-0x24bb*0x1+-0xf72+-0x1a17*-0x2)/(0x6+-0x1*-0x1a84+-0x1a87*0x1)+(0x3fb*-0x2+0x161*0xb+-0x734)/(0x9f5*0x1+0x1*0x2627+-0x7*0x6df)/(-0x2128+0x18f8+0x1*0x833)*(0x1d36*0x1+0x4*0xc5+-0x2048)};break;case'cone':_0xd2ef89=Ie['fromGeomet'+'ry'](_0x4f6cc1,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x5b20f2={'x':2.54,'y':2.54,'z':2.54,'uv':(0x1*0xd28+0x1781+-0x24a8)/(-0x8*0x179+-0x256+-0x1*-0xe21)+(-0x263e+0x1779+0xec6)/(-0x16f7*-0x1+0x1*0xe6b+-0x255f)/(-0x11cb*0x1+-0x25a2+0x10*0x377)};break;case'cylinder':_0xd2ef89=Ie['fromGeomet'+'ry'](_0x4f6cc1,new P1({'radius':0.5,'height':0x1})),_0x5b20f2={'x':Math['PI'],'y':(-0xa54+0xd*-0x181+0x1de1+0.79)*(-0x3bf*0x7+-0x2095+0x3ad0),'z':Math['PI'],'uv':(-0x1e51+0x1e5f+-0xd)/(-0x1*0x72+-0xa8b*-0x1+-0x50b*0x2)+(-0x49d*0x1+0x6b9+-0x21b)/(-0x66*-0x9+-0x1*-0x1edd+0x2270*-0x1)/(0x246+0x210a*-0x1+-0x1*-0x1ec7)*(-0xf33+0x4*-0x269+0x18d9)};break;case'plane':_0xd2ef89=Ie['fromGeomet'+'ry'](_0x4f6cc1,new R1({'halfExtents':new W(0x1*-0x1619+-0x153c+0x2b55+0.5,-0x1f5b+0x2516+-0x3*0x1e9+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x5b20f2={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0xd2ef89=Ie['fromGeomet'+'ry'](_0x4f6cc1,new B0({'radius':0.5})),_0x5b20f2={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0xd2ef89=Ie['fromGeomet'+'ry'](_0x4f6cc1,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x5b20f2={'x':Math['PI']*(-0x17*0x23+-0x4*-0x5a4+-0x136b+0.5)*(0x95e+-0x12c1*-0x1+0x1c1f*-0x1+0.5)-Math['PI']*(0x602+0x1189+0x11f*-0x15+0.1)*(-0xd54+-0x1144+0x1e98+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x21f80b);}_0xd2ef89['incRefCoun'+'t'](),_0x53b9d3={'mesh':_0xd2ef89,'area':_0x5b20f2},_0x2dc232['map']['set'](_0x21f80b,_0x53b9d3);}return _0x53b9d3;};class dx extends ue{constructor(_0x4b483e,_0x1c7020){super(_0x4b483e,_0x1c7020),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0x2ad*-0xa+-0x304*-0x7+-0x2fde)),c(this,'_receiveSh'+'adows',!(0x2*0x27e+-0x5db+0x1*0xdf)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0x10be+-0xc11*-0x2+-0x764)),c(this,'_lightmapp'+'ed',!(0x621*-0x2+0xd1a+0x2b*-0x5)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x796+0x1e7a+-0x16e3),c(this,'isStatic',!(-0x19a4+-0x1*0x14c6+0x33*0xe9)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(-0x19*0x4b+0x216*-0x1+0xf1*0xa)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(0x2121+0x19f*-0x5+-0x1905)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x4b483e['defaultMat'+'erial'],_0x1c7020['on']('remove',this['onRemoveCh'+'ild'],this),_0x1c7020['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1c7020['on']('insert',this['onInsertCh'+'ild'],this),_0x1c7020['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x5ac832){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x5ac832);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x5afab5){if(this['_customAab'+'b']=_0x5afab5,this['_model']){const _0x4a262c=this['_model']['meshInstan'+'ces'];if(_0x4a262c){for(let _0x552e48=-0x139c+0x223a+-0xe9e;_0x552e48<_0x4a262c['length'];_0x552e48++)_0x4a262c[_0x552e48]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2a2f87){if(this['_type']!==_0x2a2f87){if(this['_area']=null,this['_type']=_0x2a2f87,_0x2a2f87==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0xc8349c=cx(this['system']['app']['graphicsDe'+'vice'],_0x2a2f87);this['_area']=_0xc8349c['area'];const _0x349a07=_0xc8349c['mesh'],_0x2ba777=new De(),_0x23deb2=new Oi();_0x23deb2['graph']=_0x2ba777,_0x23deb2['meshInstan'+'ces']=[new Le(_0x349a07,this['_material'],_0x2ba777)],this['model']=_0x23deb2,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0xd286fc){const _0x3cc276=this['system']['app']['assets'];let _0x30c0a2=_0xd286fc;if(_0xd286fc instanceof le&&(_0x30c0a2=_0xd286fc['id']),this['_asset']!==_0x30c0a2){if(this['_asset']){_0x3cc276['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x479787=_0x3cc276['get'](this['_asset']);_0x479787&&this['_unbindMod'+'elAsset'](_0x479787);}if(this['_asset']=_0x30c0a2,this['_asset']){const _0x34b136=_0x3cc276['get'](this['_asset']);_0x34b136?this['_bindModel'+'Asset'](_0x34b136):(this['model']=null,_0x3cc276['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x1c6134){if(this['_model']!==_0x1c6134){if(_0x1c6134&&_0x1c6134['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x218f+0x570*0x1+0x3e*-0xa1),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x391+-0x1a9+-0x1e7))),this['_model']=_0x1c6134,this['_model']){this['_model']['_immutable']=!(-0x1d9c+0x5*-0x3b9+0x9a5*0x5);const _0x574b26=this['_model']['meshInstan'+'ces'];for(let _0x528725=-0x1361+-0xb63+0x4*0x7b1;_0x528725<_0x574b26['length'];_0x528725++)_0x574b26[_0x528725]['castShadow']=this['_castShado'+'ws'],_0x574b26[_0x528725]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x574b26[_0x528725]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x30a933){if(_0x30a933!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x30a933,this['_model'])){const _0x16ae76=this['_model']['meshInstan'+'ces'];for(let _0x132de8=-0x2672+-0x427*0x4+-0x1b87*-0x2;_0x132de8<_0x16ae76['length'];_0x132de8++)_0x16ae76[_0x132de8]['setLightma'+'pped'](_0x30a933);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x52ac52){if(this['_castShado'+'ws']===_0x52ac52)return;const _0xd638fb=this['_model'];if(_0xd638fb){const _0xe4fc34=this['layers'],_0xece545=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x52ac52)for(let _0x595da8=0xccf*-0x3+0x10*-0x5c+0x1*0x2c2d;_0x595da8<_0xe4fc34['length'];_0x595da8++){const _0x48afac=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x595da8]);_0x48afac&&_0x48afac['removeShad'+'owCasters'](_0xd638fb['meshInstan'+'ces']);}const _0x4430a1=_0xd638fb['meshInstan'+'ces'];for(let _0x3028e3=0x22fc+-0xcda+-0xb11*0x2;_0x3028e3<_0x4430a1['length'];_0x3028e3++)_0x4430a1[_0x3028e3]['castShadow']=_0x52ac52;if(!this['_castShado'+'ws']&&_0x52ac52)for(let _0xc78587=-0x35*-0x5d+0x455+0x2*-0xbcb;_0xc78587<_0xe4fc34['length'];_0xc78587++){const _0x526ad8=_0xece545['layers']['getLayerBy'+'Id'](_0xe4fc34[_0xc78587]);_0x526ad8&&_0x526ad8['addShadowC'+'asters'](_0xd638fb['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x52ac52;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x20c131){if(this['_receiveSh'+'adows']!==_0x20c131&&(this['_receiveSh'+'adows']=_0x20c131,this['_model'])){const _0x2ba42d=this['_model']['meshInstan'+'ces'];for(let _0x270f92=-0x1d4+-0x9f3+0x2d*0x43,_0x2ce359=_0x2ba42d['length'];_0x270f92<_0x2ce359;_0x270f92++)_0x2ba42d[_0x270f92]['receiveSha'+'dow']=_0x20c131;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x59d0f9){this['_castShado'+'wsLightmap']=_0x59d0f9;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x5e4d1f){this['_lightmapS'+'izeMultipl'+'ier']=_0x5e4d1f;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x27cd4e){const _0x23e2a4=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x18af9b=-0x22e4+-0xc87*-0x1+0x165d;_0x18af9b<this['_layers']['length'];_0x18af9b++){const _0x3afc78=_0x23e2a4['getLayerBy'+'Id'](this['_layers'][_0x18af9b]);_0x3afc78&&_0x3afc78['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x1d56+-0x1ad8+-0x34e*-0x11;for(let _0x1a458d=-0x238a+-0x5c6+0x2*0x14a8;_0x1a458d<_0x27cd4e['length'];_0x1a458d++)this['_layers'][_0x1a458d]=_0x27cd4e[_0x1a458d];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x4215aa=0x90b*-0x4+0x608+0x1e24;_0x4215aa<this['_layers']['length'];_0x4215aa++){const _0x4fdcd4=_0x23e2a4['getLayerBy'+'Id'](this['_layers'][_0x4215aa]);_0x4fdcd4&&_0x4fdcd4['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x35051b){var _0x325b44,_0x3be9fe;this['_batchGrou'+'pId']!==_0x35051b&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1dbf+0x1*0x175d+-0x19c*0x21&&((_0x325b44=this['system']['app']['batcher'])==null||_0x325b44['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x35051b>=-0x1a1b+-0x4a1*0x1+0x1ebc&&((_0x3be9fe=this['system']['app']['batcher'])==null||_0x3be9fe['insert'](et['MODEL'],_0x35051b,this['entity'])),_0x35051b<-0x57*0x1+0x2420+-0x23c9&&this['_batchGrou'+'pId']>=0x121d+-0x19d5+0xf7*0x8&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x35051b);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x427565){let _0x132df7=_0x427565;_0x427565 instanceof le&&(_0x132df7=_0x427565['id']);const _0x308bb9=this['system']['app']['assets'];if(_0x132df7!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x308bb9['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x56acd5=_0x308bb9['get'](this['_materialA'+'sset']);_0x56acd5&&this['_unbindMat'+'erialAsset'](_0x56acd5);}if(this['_materialA'+'sset']=_0x132df7,this['_materialA'+'sset']){const _0x5997e3=_0x308bb9['get'](this['_materialA'+'sset']);_0x5997e3?this['_bindMater'+'ialAsset'](_0x5997e3):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x308bb9['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x172ce9){this['_material']!==_0x172ce9&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x172ce9));}get['material'](){return this['_material'];}set['mapping'](_0x10351e){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x10351e||(_0x10351e={}),this['_mapping']=_0x10351e,!this['_model']))return;const _0x5aeaca=this['_model']['meshInstan'+'ces'],_0x248e8f=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x25aee5=_0x248e8f?_0x248e8f['data']['mapping']:null;let _0x2fa9f6=null;for(let _0x2ee49f=-0x3*-0xbaa+-0x253*0x5+0x1f*-0xc1,_0x39b396=_0x5aeaca['length'];_0x2ee49f<_0x39b396;_0x2ee49f++)if(_0x10351e[_0x2ee49f]!==void(-0x55c+0x6be+-0x1*0x162))_0x10351e[_0x2ee49f]?(_0x2fa9f6=this['system']['app']['assets']['get'](_0x10351e[_0x2ee49f]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2fa9f6,_0x5aeaca[_0x2ee49f],_0x2ee49f)):_0x5aeaca[_0x2ee49f]['material']=this['system']['defaultMat'+'erial'];else{if(_0x25aee5){if(_0x25aee5[_0x2ee49f]&&(_0x25aee5[_0x2ee49f]['material']||_0x25aee5[_0x2ee49f]['path'])){if(_0x25aee5[_0x2ee49f]['material']!==void(0x1*-0x17e5+-0x8+0x17ed))_0x2fa9f6=this['system']['app']['assets']['get'](_0x25aee5[_0x2ee49f]['material']);else{if(_0x25aee5[_0x2ee49f]['path']!==void(-0x2141*-0x1+0x2600+0x1*-0x4741)){const _0x1cebf7=this['_getMateri'+'alAssetUrl'](_0x25aee5[_0x2ee49f]['path']);_0x1cebf7&&(_0x2fa9f6=this['system']['app']['assets']['getByUrl'](_0x1cebf7));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2fa9f6,_0x5aeaca[_0x2ee49f],_0x2ee49f);}else _0x5aeaca[_0x2ee49f]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x5cc25f=this['system']['app']['scene']['layers'];for(let _0x4a0bb8=0x8*0x2de+0x224c+-0x393c;_0x4a0bb8<this['_layers']['length'];_0x4a0bb8++){const _0x3f2283=_0x5cc25f['getLayerBy'+'Id'](this['_layers'][_0x4a0bb8]);_0x3f2283&&_0x3f2283['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x50db58=this['system']['app']['scene']['layers'];for(let _0x528147=-0xdc7+-0x13*-0xbb+-0x1a;_0x528147<this['_layers']['length'];_0x528147++){const _0x23adaa=_0x50db58['getLayerBy'+'Id'](this['_layers'][_0x528147]);_0x23adaa&&_0x23adaa['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x3b64ca,_0x258980){this['addModelTo'+'Layers'](),_0x3b64ca['off']('add',this['onLayerAdd'+'ed'],this),_0x3b64ca['off']('remove',this['onLayerRem'+'oved'],this),_0x258980['on']('add',this['onLayerAdd'+'ed'],this),_0x258980['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3a9c15){this['layers']['indexOf'](_0x3a9c15['id'])<-0x23bf+-0xb3b+0x2efa||_0x3a9c15['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x2376ea){this['layers']['indexOf'](_0x2376ea['id'])<-0x14*-0x13a+-0x1*0x1d5f+-0x15*-0x3b||_0x2376ea['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x2e84be,_0x2d11d8,_0x3f5690,_0x4bb49a){const _0x164b39=_0x2d11d8+':'+_0x3f5690;this['system']['app']['assets']['on'](_0x164b39,_0x4bb49a,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x2e84be]||(this['_materialE'+'vents'][_0x2e84be]={}),this['_materialE'+'vents'][_0x2e84be][_0x164b39]={'id':_0x3f5690,'handler':_0x4bb49a};}['_unsetMate'+'rialEvents'](){const _0x10dace=this['system']['app']['assets'],_0x4424ae=this['_materialE'+'vents'];if(_0x4424ae){for(let _0x42ec12=0x11e7+-0x1*-0x1d5d+-0x2f44,_0x542274=_0x4424ae['length'];_0x42ec12<_0x542274;_0x42ec12++){if(!_0x4424ae[_0x42ec12])continue;const _0x3baa2c=_0x4424ae[_0x42ec12];for(const _0xa1ba5f in _0x3baa2c)_0x10dace['off'](_0xa1ba5f,_0x3baa2c[_0xa1ba5f]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x38323b){let _0x22eb22=null;if(!isNaN(parseInt(_0x38323b,-0x1*0x851+-0x1845*0x1+0x20a0)))_0x22eb22=this['system']['app']['assets']['get'](_0x38323b);else{if(this['asset']){const _0x52dcc1=this['_getMateri'+'alAssetUrl'](_0x38323b);_0x52dcc1&&(_0x22eb22=this['system']['app']['assets']['getByUrl'](_0x52dcc1));}}return _0x22eb22;}['_getMateri'+'alAssetUrl'](_0x485a2){if(!this['asset'])return null;const _0x288625=this['system']['app']['assets']['get'](this['asset']);return _0x288625?_0x288625['getAbsolut'+'eUrl'](_0x485a2):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0xf6d1a2,_0x1fe6dc,_0x3591e3){const _0x35ff11=this['system']['app']['assets'];_0xf6d1a2&&(_0xf6d1a2['resource']?(_0x1fe6dc['material']=_0xf6d1a2['resource'],this['_setMateri'+'alEvent'](_0x3591e3,'remove',_0xf6d1a2['id'],function(){_0x1fe6dc['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x3591e3,'load',_0xf6d1a2['id'],function(_0x949e93){_0x1fe6dc['material']=_0x949e93['resource'],this['_setMateri'+'alEvent'](_0x3591e3,'remove',_0xf6d1a2['id'],function(){_0x1fe6dc['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x35ff11['load'](_0xf6d1a2)));}['onEnable'](){var _0x520e82;const _0x35cb40=this['system']['app'],_0x1fbb93=_0x35cb40['scene'],_0xa2eeb5=_0x1fbb93==null?void(0x2368+-0x5bf+0x1*-0x1da9):_0x1fbb93['layers'];this['_evtLayers'+'Changed']=_0x1fbb93['on']('set:layers',this['onLayersCh'+'anged'],this),_0xa2eeb5&&(this['_evtLayerA'+'dded']=_0xa2eeb5['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xa2eeb5['on']('remove',this['onLayerRem'+'oved'],this));const _0x1d5a7e=this['_type']==='asset';let _0x4fe5e0;if(this['_model']?this['addModelTo'+'Layers']():_0x1d5a7e&&this['_asset']&&(_0x4fe5e0=_0x35cb40['assets']['get'](this['_asset']),_0x4fe5e0&&_0x4fe5e0['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x4fe5e0)),this['_materialA'+'sset']&&(_0x4fe5e0=_0x35cb40['assets']['get'](this['_materialA'+'sset']),_0x4fe5e0&&_0x4fe5e0['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x4fe5e0)),_0x1d5a7e&&this['_mapping']){for(const _0x1d67ec in this['_mapping'])this['_mapping'][_0x1d67ec]&&(_0x4fe5e0=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x1d67ec]),_0x4fe5e0&&!_0x4fe5e0['resource']&&_0x35cb40['assets']['load'](_0x4fe5e0));}this['_batchGrou'+'pId']>=-0x4c*0x3+-0x1*0x9a1+0xa85&&((_0x520e82=_0x35cb40['batcher'])==null||_0x520e82['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x2ecf2c,_0x46ea7e,_0xa6b42c,_0x18b13c;const _0x3cebaa=this['system']['app'],_0x1f2079=_0x3cebaa['scene']['layers'];(_0x2ecf2c=this['_evtLayers'+'Changed'])==null||_0x2ecf2c['off'](),this['_evtLayers'+'Changed']=null,_0x1f2079&&((_0x46ea7e=this['_evtLayerA'+'dded'])==null||_0x46ea7e['off'](),this['_evtLayerA'+'dded']=null,(_0xa6b42c=this['_evtLayerR'+'emoved'])==null||_0xa6b42c['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x16ca+-0x21*-0xab+-0x2cd5&&((_0x18b13c=_0x3cebaa['batcher'])==null||_0x18b13c['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x7ea671=this['_model']['meshInstan'+'ces'];for(let _0xc49197=0x2c1+-0xbed+0x1*0x92c,_0x38baf3=_0x7ea671['length'];_0xc49197<_0x38baf3;_0xc49197++)_0x7ea671[_0xc49197]['visible']=!(0x3b*-0x2c+0x2*-0xe3+0x1*0xbeb);}}['show'](){if(this['_model']){const _0x13950b=this['_model']['meshInstan'+'ces'];for(let _0x309e77=0x1ddb*-0x1+-0x1222+0x2ffd,_0x37eb8e=_0x13950b['length'];_0x309e77<_0x37eb8e;_0x309e77++)_0x13950b[_0x309e77]['visible']=!(0xe7c+0x5a6+-0x1422);}}['_bindMater'+'ialAsset'](_0xf2eb6){if(_0xf2eb6['on']('load',this['_onMateria'+'lAssetLoad'],this),_0xf2eb6['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0xf2eb6['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0xf2eb6['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0xf2eb6['resource'])this['_onMateria'+'lAssetLoad'](_0xf2eb6);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xf2eb6);}}['_unbindMat'+'erialAsset'](_0x4d46bf){_0x4d46bf['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x4d46bf['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4d46bf['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4d46bf['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x5dd0c7){this['system']['app']['assets']['off']('add:'+_0x5dd0c7['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x5dd0c7['id']&&this['_bindMater'+'ialAsset'](_0x5dd0c7);}['_onMateria'+'lAssetLoad'](_0x50ab8f){this['_setMateri'+'al'](_0x50ab8f['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x560c36){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x102e0){this['_onMateria'+'lAssetUnlo'+'ad'](_0x102e0);}['_onMateria'+'lAssetChan'+'ge'](_0x3b6ca7){}['_bindModel'+'Asset'](_0x284f96){if(this['_unbindMod'+'elAsset'](_0x284f96),_0x284f96['on']('load',this['_onModelAs'+'setLoad'],this),_0x284f96['on']('unload',this['_onModelAs'+'setUnload'],this),_0x284f96['on']('change',this['_onModelAs'+'setChange'],this),_0x284f96['on']('remove',this['_onModelAs'+'setRemove'],this),_0x284f96['resource'])this['_onModelAs'+'setLoad'](_0x284f96);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x284f96);}}['_unbindMod'+'elAsset'](_0x1e7c5d){_0x1e7c5d['off']('load',this['_onModelAs'+'setLoad'],this),_0x1e7c5d['off']('unload',this['_onModelAs'+'setUnload'],this),_0x1e7c5d['off']('change',this['_onModelAs'+'setChange'],this),_0x1e7c5d['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x242a4c){this['system']['app']['assets']['off']('add:'+_0x242a4c['id'],this['_onModelAs'+'setAdded'],this),_0x242a4c['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x242a4c);}['_onModelAs'+'setLoad'](_0x1ad2cf){this['model']=_0x1ad2cf['resource']['clone'](),this['_clonedMod'+'el']=!(0xf76+0x5be+-0x1534);}['_onModelAs'+'setUnload'](_0x2398cb){this['model']=null;}['_onModelAs'+'setChange'](_0x26f080,_0x1ef4bb,_0xe97b56,_0x5be116){_0x1ef4bb==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0xeedad2){this['model']=null;}['_setMateri'+'al'](_0x2b78c3){if(this['_material']===_0x2b78c3)return;this['_material']=_0x2b78c3;const _0x965d6d=this['_model'];if(_0x965d6d&&this['_type']!=='asset'){const _0x432790=_0x965d6d['meshInstan'+'ces'];for(let _0x53398f=-0x10bf*0x1+-0x771+0x1830,_0x5d12f5=_0x432790['length'];_0x53398f<_0x5d12f5;_0x53398f++)_0x432790[_0x53398f]['material']=_0x2b78c3;}}}class sI{constructor(){this['enabled']=!(0x262a+-0x7*0x4f+0x2c5*-0xd);}}const ux=['enabled'];class iI extends Xe{constructor(_0x596c94){super(_0x596c94),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x596c94['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4276ff,_0x37a48f,_0x567db2){_0x567db2=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x37a48f['batchGroup'+'Id']===null||_0x37a48f['batchGroup'+'Id']===void(0x65e+0xafb+-0x1159))&&(_0x37a48f['batchGroup'+'Id']=-(-0x1*0x169b+0x15*0x187+-0x977)),_0x37a48f['layers']&&_0x37a48f['layers']['length']&&(_0x37a48f['layers']=_0x37a48f['layers']['slice'](-0x11b5+-0x7af*-0x5+-0x1*0x14b6));for(let _0x3e3757=0x2c3*0x7+0x979+-0x1cce;_0x3e3757<_0x567db2['length'];_0x3e3757++)_0x37a48f['hasOwnProp'+'erty'](_0x567db2[_0x3e3757])&&(_0x4276ff[_0x567db2[_0x3e3757]]=_0x37a48f[_0x567db2[_0x3e3757]]);_0x37a48f['aabbCenter']&&_0x37a48f['aabbHalfEx'+'tents']&&(_0x4276ff['customAabb']=new _e(new T(_0x37a48f['aabbCenter']),new T(_0x37a48f['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4276ff,_0x37a48f,['enabled']);}['cloneCompo'+'nent'](_0x3fd5f7,_0x3c2997){const _0x1c9357={'type':_0x3fd5f7['model']['type'],'asset':_0x3fd5f7['model']['asset'],'castShadows':_0x3fd5f7['model']['castShadow'+'s'],'receiveShadows':_0x3fd5f7['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x3fd5f7['model']['castShadow'+'sLightmap'],'lightmapped':_0x3fd5f7['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x3fd5f7['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x3fd5f7['model']['isStatic'],'enabled':_0x3fd5f7['model']['enabled'],'layers':_0x3fd5f7['model']['layers'],'batchGroupId':_0x3fd5f7['model']['batchGroup'+'Id'],'mapping':vh({},_0x3fd5f7['model']['mapping'])};let _0x4db760=_0x3fd5f7['model']['materialAs'+'set'];!(_0x4db760 instanceof le)&&_0x4db760!=null&&(_0x4db760=this['app']['assets']['get'](_0x4db760));const _0x2f7873=_0x3fd5f7['model']['material'];(!_0x2f7873||_0x2f7873===this['defaultMat'+'erial']||!_0x4db760||_0x2f7873===_0x4db760['resource'])&&(_0x1c9357['materialAs'+'set']=_0x4db760);const _0x213b84=this['addCompone'+'nt'](_0x3c2997,_0x1c9357);if(_0x3fd5f7['model']['model']&&_0x3fd5f7['model']['type']==='asset'&&!_0x3fd5f7['model']['asset']&&(_0x213b84['model']=_0x3fd5f7['model']['model']['clone'](),_0x213b84['_clonedMod'+'el']=!(-0x774*-0x5+-0x1840+-0xd04)),_0x1c9357['materialAs'+'set']||(_0x213b84['material']=_0x2f7873),_0x3fd5f7['model']['model']){const _0x2cfed5=_0x3fd5f7['model']['model']['meshInstan'+'ces'],_0x52e254=_0x213b84['model']['meshInstan'+'ces'];for(let _0x486175=-0xb0f*-0x1+-0xd*-0x204+-0x2543;_0x486175<_0x2cfed5['length'];_0x486175++)_0x52e254[_0x486175]['mask']=_0x2cfed5[_0x486175]['mask'],_0x52e254[_0x486175]['material']=_0x2cfed5[_0x486175]['material'],_0x52e254[_0x486175]['layer']=_0x2cfed5[_0x486175]['layer'],_0x52e254[_0x486175]['receiveSha'+'dow']=_0x2cfed5[_0x486175]['receiveSha'+'dow'];}return _0x3fd5f7['model']['customAabb']&&(_0x213b84['customAabb']=_0x3fd5f7['model']['customAabb']['clone']()),_0x213b84;}['onRemove'](_0x4bcb73,_0xb0f9da){_0xb0f9da['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x50b0c7,_0x403136){super(_0x50b0c7,_0x403136),c(this,'_requested'+'Depth',!(0x1815+-0x15ad*-0x1+-0x2dc1)),c(this,'_drawOrder',-0xc73+-0x1d3*0x4+0x13bf),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0xc5a3c6=>{this['on']('set_'+_0xc5a3c6,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x1cfff4=>{this['on']('set_'+_0x1cfff4,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x13ca11=>{this['on']('set_'+_0x13ca11,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x1edac8=this['system']['store'][this['entity']['getGuid']()];return _0x1edac8?_0x1edac8['data']:null;}set['enabled'](_0x3fe102){this['_setValue']('enabled',_0x3fe102);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x48e702){this['_setValue']('autoPlay',_0x48e702);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x409b48){this['_setValue']('numParticl'+'es',_0x409b48);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x1ba751){this['_setValue']('lifetime',_0x1ba751);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x2a4d2f){this['_setValue']('rate',_0x2a4d2f);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x2aacb9){this['_setValue']('rate2',_0x2aacb9);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x1dc8eb){this['_setValue']('startAngle',_0x1dc8eb);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x4a7754){this['_setValue']('startAngle'+'2',_0x4a7754);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x2b281e){this['_setValue']('loop',_0x2b281e);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x182635){this['_setValue']('preWarm',_0x182635);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0xef3230){this['_setValue']('lighting',_0xef3230);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x1cc0fa){this['_setValue']('halfLamber'+'t',_0x1cc0fa);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x43eb4b){this['_setValue']('intensity',_0x43eb4b);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x389513){this['_setValue']('depthWrite',_0x389513);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x18f647){this['_setValue']('noFog',_0x18f647);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x1954ea){this['_setValue']('depthSofte'+'ning',_0x1954ea);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x46e7ae){this['_setValue']('sort',_0x46e7ae);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x2f1038){this['_setValue']('blendType',_0x2f1038);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x5ae25d){this['_setValue']('stretch',_0x5ae25d);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x5c7f77){this['_setValue']('alignToMot'+'ion',_0x5c7f77);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x362a79){this['_setValue']('emitterSha'+'pe',_0x362a79);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x54a800){this['_setValue']('emitterExt'+'ents',_0x54a800);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x3ed5d9){this['_setValue']('emitterExt'+'entsInner',_0x3ed5d9);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x40690f){this['_setValue']('emitterRad'+'ius',_0x40690f);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x396e5b){this['_setValue']('emitterRad'+'iusInner',_0x396e5b);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x17ad65){this['_setValue']('initialVel'+'ocity',_0x17ad65);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x3bd2eb){this['_setValue']('wrap',_0x3bd2eb);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x1a85fc){this['_setValue']('wrapBounds',_0x1a85fc);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x197b22){this['_setValue']('localSpace',_0x197b22);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x3a755d){this['_setValue']('screenSpac'+'e',_0x3a755d);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x1d78e6){this['_setValue']('colorMapAs'+'set',_0x1d78e6);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x5d5d59){this['_setValue']('normalMapA'+'sset',_0x5d5d59);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x313b1a){this['_setValue']('mesh',_0x313b1a);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x5282a6){this['_setValue']('meshAsset',_0x5282a6);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x9f9cbe){this['_setValue']('renderAsse'+'t',_0x9f9cbe);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x2e07ab){this['_setValue']('orientatio'+'n',_0x2e07ab);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0xcfd396){this['_setValue']('particleNo'+'rmal',_0xcfd396);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x18fe0f){this['_setValue']('localVeloc'+'ityGraph',_0x18fe0f);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0xf29ca5){this['_setValue']('localVeloc'+'ityGraph2',_0xf29ca5);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x417821){this['_setValue']('velocityGr'+'aph',_0x417821);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x5a4f7a){this['_setValue']('velocityGr'+'aph2',_0x5a4f7a);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x4b0586){this['_setValue']('rotationSp'+'eedGraph',_0x4b0586);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x576798){this['_setValue']('rotationSp'+'eedGraph2',_0x576798);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x501816){this['_setValue']('radialSpee'+'dGraph',_0x501816);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x1901ec){this['_setValue']('radialSpee'+'dGraph2',_0x1901ec);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x4aa00b){this['_setValue']('scaleGraph',_0x4aa00b);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x4e95db){this['_setValue']('scaleGraph'+'2',_0x4e95db);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x2a53c0){this['_setValue']('colorGraph',_0x2a53c0);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x547f21){this['_setValue']('colorGraph'+'2',_0x547f21);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x47e19f){this['_setValue']('alphaGraph',_0x47e19f);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x53c7be){this['_setValue']('alphaGraph'+'2',_0x53c7be);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x4e3ae0){this['_setValue']('colorMap',_0x4e3ae0);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x58e8ba){this['_setValue']('normalMap',_0x58e8ba);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x377034){this['_setValue']('animTilesX',_0x377034);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x59bcf4){this['_setValue']('animTilesY',_0x59bcf4);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x3546b4){this['_setValue']('animStartF'+'rame',_0x3546b4);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x3946a2){this['_setValue']('animNumFra'+'mes',_0x3946a2);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x25cf87){this['_setValue']('animNumAni'+'mations',_0x25cf87);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x453add){this['_setValue']('animIndex',_0x453add);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x2489cd){this['_setValue']('randomizeA'+'nimIndex',_0x2489cd);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x40727){this['_setValue']('animSpeed',_0x40727);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x19e195){this['_setValue']('animLoop',_0x19e195);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x3bdeae){this['_setValue']('layers',_0x3bdeae);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x59ced3){this['_drawOrder']=_0x59ced3,this['emitter']&&(this['emitter']['drawOrder']=_0x59ced3);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x54415c,_0x1959e8){const _0x288785=this['data'],_0x51dada=_0x288785[_0x54415c];_0x288785[_0x54415c]=_0x1959e8,this['fire']('set',_0x54415c,_0x51dada,_0x1959e8);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x5c77bc=0x5d*0x65+-0x20d8+-0x3d9;_0x5c77bc<this['layers']['length'];_0x5c77bc++){const _0x1221ce=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5c77bc]);_0x1221ce&&(_0x1221ce['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x1221ce);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x3f8e78=0x92b+-0x1b9e+0x1273;_0x3f8e78<this['layers']['length'];_0x3f8e78++){const _0x228034=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3f8e78]);_0x228034&&_0x228034['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x47d213,_0x2f9979,_0x441598){if(this['emitter']){for(let _0x1c6654=0x2577+0x989*-0x1+-0x8f*0x32;_0x1c6654<_0x2f9979['length'];_0x1c6654++){const _0x29b732=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2f9979[_0x1c6654]);_0x29b732&&_0x29b732['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x2bc49b=0xac1+0x246e+-0x2f2f;_0x2bc49b<_0x441598['length'];_0x2bc49b++){const _0x73ebc2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x441598[_0x2bc49b]);_0x73ebc2&&_0x73ebc2['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x50287e,_0x210cf9){this['addMeshIns'+'tanceToLay'+'ers'](),_0x50287e['off']('add',this['onLayerAdd'+'ed'],this),_0x50287e['off']('remove',this['onLayerRem'+'oved'],this),_0x210cf9['on']('add',this['onLayerAdd'+'ed'],this),_0x210cf9['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5b18b8){!this['emitter']||this['layers']['indexOf'](_0x5b18b8['id'])<0x1bd1+0xc82+-0x6f*0x5d||_0x5b18b8['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x4397e0){!this['emitter']||this['layers']['indexOf'](_0x4397e0['id'])<0x19dc+-0x2632+0xc56*0x1||_0x4397e0['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x30df49){if(_0x30df49['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x30df49['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x30df49['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x30df49['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x30df49['resource'])this['_onColorMa'+'pAssetLoad'](_0x30df49);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x30df49);}}['_unbindCol'+'orMapAsset'](_0x3484be){_0x3484be['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x3484be['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x3484be['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x3484be['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x3ce958){this['colorMap']=_0x3ce958['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x2b98cf){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x554ebf){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x554ebf);}['_onColorMa'+'pAssetChan'+'ge'](_0x25bac4){}['onSetColor'+'MapAsset'](_0x2e38c1,_0x397e29,_0x1bbd84){const _0x5618c6=this['system']['app']['assets'];if(_0x397e29){const _0x2a3e08=_0x5618c6['get'](_0x397e29);_0x2a3e08&&this['_unbindCol'+'orMapAsset'](_0x2a3e08);}if(_0x1bbd84){_0x1bbd84 instanceof le&&(this['data']['colorMapAs'+'set']=_0x1bbd84['id'],_0x1bbd84=_0x1bbd84['id']);const _0x5936e3=_0x5618c6['get'](_0x1bbd84);_0x5936e3?this['_bindColor'+'MapAsset'](_0x5936e3):_0x5618c6['once']('add:'+_0x1bbd84,_0x18ef3b=>{this['_bindColor'+'MapAsset'](_0x18ef3b);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x2e60b6){if(_0x2e60b6['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x2e60b6['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x2e60b6['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x2e60b6['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x2e60b6['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x2e60b6);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2e60b6);}}['_unbindNor'+'malMapAsse'+'t'](_0x553ec4){_0x553ec4['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x553ec4['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x553ec4['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x553ec4['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x219648){this['normalMap']=_0x219648['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x378f21){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x57453f){this['_onNormalM'+'apAssetUnl'+'oad'](_0x57453f);}['_onNormalM'+'apAssetCha'+'nge'](_0x2e3dbf){}['onSetNorma'+'lMapAsset'](_0xab5198,_0x2355f2,_0x1044af){const _0x50acd4=this['system']['app']['assets'];if(_0x2355f2){const _0x40f4c8=_0x50acd4['get'](_0x2355f2);_0x40f4c8&&this['_unbindNor'+'malMapAsse'+'t'](_0x40f4c8);}if(_0x1044af){_0x1044af instanceof le&&(this['data']['normalMapA'+'sset']=_0x1044af['id'],_0x1044af=_0x1044af['id']);const _0x492120=_0x50acd4['get'](_0x1044af);_0x492120?this['_bindNorma'+'lMapAsset'](_0x492120):_0x50acd4['once']('add:'+_0x1044af,_0x446d56=>{this['_bindNorma'+'lMapAsset'](_0x446d56);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x21a3aa){if(_0x21a3aa['on']('load',this['_onMeshAss'+'etLoad'],this),_0x21a3aa['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x21a3aa['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x21a3aa['on']('change',this['_onMeshAss'+'etChange'],this),_0x21a3aa['resource'])this['_onMeshAss'+'etLoad'](_0x21a3aa);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x21a3aa);}}['_unbindMes'+'hAsset'](_0x15f100){_0x15f100['off']('load',this['_onMeshAss'+'etLoad'],this),_0x15f100['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x15f100['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x15f100['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x32981f){this['_onMeshCha'+'nged'](_0x32981f['resource']);}['_onMeshAss'+'etUnload'](_0x4cac29){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x46f9cc){this['_onMeshAss'+'etUnload'](_0x46f9cc);}['_onMeshAss'+'etChange'](_0x1b7bd3){}['onSetMeshA'+'sset'](_0x5d066b,_0x1297e1,_0x87b41b){const _0x514c57=this['system']['app']['assets'];if(_0x1297e1){const _0x152986=_0x514c57['get'](_0x1297e1);_0x152986&&this['_unbindMes'+'hAsset'](_0x152986);}if(_0x87b41b){_0x87b41b instanceof le&&(this['data']['meshAsset']=_0x87b41b['id'],_0x87b41b=_0x87b41b['id']);const _0x43a868=_0x514c57['get'](_0x87b41b);_0x43a868&&this['_bindMeshA'+'sset'](_0x43a868);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x1c4c9c,_0x1df2bf,_0xb914d3){!_0xb914d3||_0xb914d3 instanceof le||typeof _0xb914d3=='number'?this['meshAsset']=_0xb914d3:this['_onMeshCha'+'nged'](_0xb914d3);}['_onMeshCha'+'nged'](_0x44fbcc){_0x44fbcc&&!(_0x44fbcc instanceof Ie)&&(_0x44fbcc['meshInstan'+'ces'][-0x2a7*0x4+0xb13+-0x7*0x11]?_0x44fbcc=_0x44fbcc['meshInstan'+'ces'][-0x26d6+0x1*0x5c3+0x1*0x2113]['mesh']:_0x44fbcc=null),this['data']['mesh']=_0x44fbcc,this['emitter']&&(this['emitter']['mesh']=_0x44fbcc,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x5810cd,_0xaba3fd,_0x501afc){const _0x3f69eb=this['system']['app']['assets'];if(_0xaba3fd){const _0x3a4220=_0x3f69eb['get'](_0xaba3fd);_0x3a4220&&this['_unbindRen'+'derAsset'](_0x3a4220);}if(_0x501afc){_0x501afc instanceof le&&(this['data']['renderAsse'+'t']=_0x501afc['id'],_0x501afc=_0x501afc['id']);const _0xac6634=_0x3f69eb['get'](_0x501afc);_0xac6634&&this['_bindRende'+'rAsset'](_0xac6634);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x4ee189){if(_0x4ee189['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x4ee189['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x4ee189['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x4ee189['resource'])this['_onRenderA'+'ssetLoad'](_0x4ee189);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4ee189);}}['_unbindRen'+'derAsset'](_0x530691){var _0x29a9a6;_0x530691['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x530691['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x530691['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x29a9a6=this['_evtSetMes'+'hes'])==null||_0x29a9a6['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x1dbf44){this['_onRenderC'+'hanged'](_0x1dbf44['resource']);}['_onRenderA'+'ssetUnload'](_0x3d32a9){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x497183){this['_onRenderA'+'ssetUnload'](_0x497183);}['_onRenderC'+'hanged'](_0x349fc2){var _0x48caeb;if(!_0x349fc2){this['_onMeshCha'+'nged'](null);return;}(_0x48caeb=this['_evtSetMes'+'hes'])==null||_0x48caeb['off'](),this['_evtSetMes'+'hes']=_0x349fc2['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x349fc2['meshes']&&this['_onRenderS'+'etMeshes'](_0x349fc2['meshes']);}['_onRenderS'+'etMeshes'](_0x2e95fb){this['_onMeshCha'+'nged'](_0x2e95fb&&_0x2e95fb[0x18b0+-0x21*0x67+-0xb69]);}['onSetLoop'](_0x5e8f44,_0x19d58e,_0x2af45f){this['emitter']&&(this['emitter'][_0x5e8f44]=_0x2af45f,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x19c3ec,_0x3e7819,_0x48d10d){this['emitter']&&(this['emitter'][_0x19c3ec]=_0x48d10d,this['emitter']['material']['blendType']=_0x48d10d,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x3ad*-0x3+-0x1799+-0x115*-0x20)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0xaac*-0x1+-0x11*0x79+0x12b6));}['onSetDepth'+'Softening'](_0x5dc4e7,_0x5ad9ac,_0x4466e4){_0x5ad9ac!==_0x4466e4&&(_0x4466e4?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x5dc4e7]=_0x4466e4)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x5dc4e7]=_0x4466e4)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x5a71c5,_0x267edf,_0x3c9fb5){this['emitter']&&(this['emitter'][_0x5a71c5]=_0x3c9fb5,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x551507,_0x331989,_0x47e9e2){this['emitter']&&(this['emitter'][_0x551507]=_0x47e9e2,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x25ec14,_0x3c6da0,_0x5eaa2c){this['emitter']&&(this['emitter'][_0x25ec14]=_0x5eaa2c,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x35dc60=this['system']['app']['scene'],_0x1dd0ad=_0x35dc60['layers'],_0xc05d14=this['data'];for(let _0x27c0b7=-0x204c+0x1564*0x1+0xae8,_0x143212=Zl['length'];_0x27c0b7<_0x143212;_0x27c0b7++){let _0x3a4381=_0xc05d14[Zl[_0x27c0b7]];if(_0x3a4381){if(!(_0x3a4381 instanceof le)){if(parseInt(_0x3a4381,0xf13+-0x4d7*0x5+0x92a)>=-0x1*-0x95f+-0x2234+0x18d5)_0x3a4381=this['system']['app']['assets']['get'](_0x3a4381);else continue;}_0x3a4381&&!_0x3a4381['resource']&&this['system']['app']['assets']['load'](_0x3a4381);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x1a750b=_0xc05d14['mesh'];_0x1a750b instanceof Ie||(_0x1a750b=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0xc05d14['numParticl'+'es'],'emitterExtents':_0xc05d14['emitterExt'+'ents'],'emitterExtentsInner':_0xc05d14['emitterExt'+'entsInner'],'emitterRadius':_0xc05d14['emitterRad'+'ius'],'emitterRadiusInner':_0xc05d14['emitterRad'+'iusInner'],'emitterShape':_0xc05d14['emitterSha'+'pe'],'initialVelocity':_0xc05d14['initialVel'+'ocity'],'wrap':_0xc05d14['wrap'],'localSpace':_0xc05d14['localSpace'],'screenSpace':_0xc05d14['screenSpac'+'e'],'wrapBounds':_0xc05d14['wrapBounds'],'lifetime':_0xc05d14['lifetime'],'rate':_0xc05d14['rate'],'rate2':_0xc05d14['rate2'],'orientation':_0xc05d14['orientatio'+'n'],'particleNormal':_0xc05d14['particleNo'+'rmal'],'animTilesX':_0xc05d14['animTilesX'],'animTilesY':_0xc05d14['animTilesY'],'animStartFrame':_0xc05d14['animStartF'+'rame'],'animNumFrames':_0xc05d14['animNumFra'+'mes'],'animNumAnimations':_0xc05d14['animNumAni'+'mations'],'animIndex':_0xc05d14['animIndex'],'randomizeAnimIndex':_0xc05d14['randomizeA'+'nimIndex'],'animSpeed':_0xc05d14['animSpeed'],'animLoop':_0xc05d14['animLoop'],'startAngle':_0xc05d14['startAngle'],'startAngle2':_0xc05d14['startAngle'+'2'],'scaleGraph':_0xc05d14['scaleGraph'],'scaleGraph2':_0xc05d14['scaleGraph'+'2'],'colorGraph':_0xc05d14['colorGraph'],'colorGraph2':_0xc05d14['colorGraph'+'2'],'alphaGraph':_0xc05d14['alphaGraph'],'alphaGraph2':_0xc05d14['alphaGraph'+'2'],'localVelocityGraph':_0xc05d14['localVeloc'+'ityGraph'],'localVelocityGraph2':_0xc05d14['localVeloc'+'ityGraph2'],'velocityGraph':_0xc05d14['velocityGr'+'aph'],'velocityGraph2':_0xc05d14['velocityGr'+'aph2'],'rotationSpeedGraph':_0xc05d14['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0xc05d14['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0xc05d14['radialSpee'+'dGraph'],'radialSpeedGraph2':_0xc05d14['radialSpee'+'dGraph2'],'colorMap':_0xc05d14['colorMap'],'normalMap':_0xc05d14['normalMap'],'loop':_0xc05d14['loop'],'preWarm':_0xc05d14['preWarm'],'sort':_0xc05d14['sort'],'stretch':_0xc05d14['stretch'],'alignToMotion':_0xc05d14['alignToMot'+'ion'],'lighting':_0xc05d14['lighting'],'halfLambert':_0xc05d14['halfLamber'+'t'],'intensity':_0xc05d14['intensity'],'depthSoftening':_0xc05d14['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x1a750b,'depthWrite':_0xc05d14['depthWrite'],'noFog':_0xc05d14['noFog'],'node':this['entity'],'blendType':_0xc05d14['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0xc05d14['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1*-0x100f+0x1d0e+-0xcfe));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x35dc60['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1dd0ad&&(this['_evtLayerA'+'dded']=_0x1dd0ad['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1dd0ad['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0xc05d14['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x12ee75,_0x44a76a,_0x2825b8;const _0x398113=this['system']['app']['scene']['layers'];(_0x12ee75=this['_evtLayers'+'Changed'])==null||_0x12ee75['off'](),this['_evtLayers'+'Changed']=null,_0x398113&&((_0x44a76a=this['_evtLayerA'+'dded'])==null||_0x44a76a['off'](),this['_evtLayerA'+'dded']=null,(_0x2825b8=this['_evtLayerR'+'emoved'])==null||_0x2825b8['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x1*0x212e+0x3*-0x95c+0x3d43)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x358b1e=-0x5f2+-0x1b17+-0x1*-0x2109;_0x358b1e<Zl['length'];_0x358b1e++){const _0x1a6ce6=Zl[_0x358b1e];this['data'][_0x1a6ce6]&&(this[_0x1a6ce6]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0xbd8+0x4a0+0x739),this['emitter']['resetTime'](),this['emitter']['addTime'](0x2*-0xcf4+-0x13*-0x169+-0xe3,!(0x1403+0xbe8+-0x1feb)));}['pause'](){this['data']['paused']=!(0x967+0xc2f*-0x3+0x1b26);}['unpause'](){this['data']['paused']=!(-0x2461+-0x2*0x1c1+0x2e*0xde);}['play'](){this['data']['paused']=!(-0x3ce*0x2+0x1*0x269b+-0x1*0x1efe),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x116e+-0x494+0x1602),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x5*0x37c+0x2e*-0x1c+-0xc63):this['emitter']&&this['emitter']['loop']?!(-0x1143+0xf*-0x4b+-0x2b5*-0x8):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0xff66a6}=this;_0xff66a6&&!_0xff66a6['inTools']&&(_0xff66a6['inTools']=!(0x20*-0x5e+-0x3cb*-0x7+-0xecd),this['rebuild']());}['rebuild'](){const _0x483eda=this['enabled'];this['enabled']=!(0xb3*-0x11+0x76*-0x19+0x176a),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x483eda;}}class lI{constructor(){this['numParticl'+'es']=0x9*-0x125+-0x60e+0x105c,this['rate']=-0x607+-0x4*-0x21d+-0x3e*0xa,this['rate2']=null,this['startAngle']=0x3e5*0x1+0x359*-0xb+0x20ee,this['startAngle'+'2']=null,this['lifetime']=-0x1*0x162a+-0x192b+0x2f87,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=-0x1644+0x2*0x904+0x43c*0x1,this['emitterRad'+'iusInner']=0x17*-0x16f+-0x1*0x18+0x2111,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=0xf1*-0x5+-0xf*-0x291+-0x21ca,this['wrap']=!(-0x1fc7+0x6*-0x4a2+0x3b94),this['wrapBounds']=new T(),this['localSpace']=!(0x83*-0x1+0x1bd9+-0x1b55),this['screenSpac'+'e']=!(0x1eda+-0x258b+0x2*0x359),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x12f8+0x38d*-0x9+-0xaf*-0x13),this['preWarm']=!(0x1fdf+-0x11f*-0x12+-0x340c),this['sort']=0xcd5*0x3+-0x12bb+-0x13c4,this['mode']=d0,this['scene']=null,this['lighting']=!(0x104*-0x11+-0x143*0x17+0x2e4a),this['halfLamber'+'t']=!(0xc*0xde+-0x4d*0x16+-0x3c9),this['intensity']=-0xc3f*0x3+0x3d5+0x20e9,this['stretch']=0x78b*-0x4+0x35*0x9c+-0x220,this['alignToMot'+'ion']=!(-0x2a6+-0x546*0x5+-0x187*-0x13),this['depthSofte'+'ning']=0x25c4*-0x1+0x25b3+0x1*0x11,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x1*-0x1e34+0x2430+0x5fb*-0x1),this['noFog']=!(-0x1*-0x11b+0x1af4+-0x1c0e),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(0x1cbb*-0x1+-0xf05+0x2bc0,-0x1a55+0xd36+-0x1a4*-0x8,0xc02+0x33c+-0xf3e*0x1),this['animTilesX']=-0x1fc4+-0x1e50+0x3e15,this['animTilesY']=0x7*0x46d+0x143b+-0x1*0x3335,this['animStartF'+'rame']=-0x6f7+-0x1*0xf16+0x5*0x469,this['animNumFra'+'mes']=-0x1ab9+-0x149c*-0x1+-0x3a*-0x1b,this['animNumAni'+'mations']=0x261f+-0x27f+0x1*-0x239f,this['animIndex']=0x55d+-0x26ba+-0x291*-0xd,this['randomizeA'+'nimIndex']=!(0xa7c+0x1bc9+0x13c*-0x1f),this['animSpeed']=-0x22e9+-0x1bb7+0x3ea1,this['animLoop']=!(-0x1*0x199+0xd7a+-0xbe1*0x1),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(0xc38+-0xf*-0x3b+-0xfad),this['paused']=!(-0x1843+-0xdcc*-0x1+0x8*0x14f),this['autoPlay']=!(0x8d3+0x22d7+-0xe8e*0x3),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x4c0acd){super(_0x4c0acd),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x33e0da,_0x4725b6,_0x5341c6){const _0x23ef04={};_0x5341c6=[];const _0x2127ce=this['propertyTy'+'pes'];(_0x4725b6['mesh']instanceof le||typeof _0x4725b6['mesh']=='number')&&(_0x4725b6['meshAsset']=_0x4725b6['mesh'],delete _0x4725b6['mesh']);for(const _0x22448a in _0x4725b6){if(_0x4725b6['hasOwnProp'+'erty'](_0x22448a)&&(_0x5341c6['push'](_0x22448a),_0x23ef04[_0x22448a]=_0x4725b6[_0x22448a]),_0x2127ce[_0x22448a]==='vec3')Array['isArray'](_0x23ef04[_0x22448a])&&(_0x23ef04[_0x22448a]=new T(_0x23ef04[_0x22448a][-0x23*-0x1+-0x2f1*0x8+0x1*0x1765],_0x23ef04[_0x22448a][-0xed2+0x25ae+-0x16db],_0x23ef04[_0x22448a][0x999+0x33*-0x7b+0xeea*0x1]));else{if(_0x2127ce[_0x22448a]==='curve'){if(!(_0x23ef04[_0x22448a]instanceof Cs)){const _0x45784a=_0x23ef04[_0x22448a]['type'];_0x23ef04[_0x22448a]=new Cs(_0x23ef04[_0x22448a]['keys']),_0x23ef04[_0x22448a]['type']=_0x45784a;}}else{if(_0x2127ce[_0x22448a]==='curveset'&&!(_0x23ef04[_0x22448a]instanceof jr)){const _0x418d69=_0x23ef04[_0x22448a]['type'];_0x23ef04[_0x22448a]=new jr(_0x23ef04[_0x22448a]['keys']),_0x23ef04[_0x22448a]['type']=_0x418d69;}}}_0x23ef04['layers']&&Array['isArray'](_0x23ef04['layers'])&&(_0x23ef04['layers']=_0x23ef04['layers']['slice'](-0x1a66+-0x3e*-0x4+-0x1e*-0xd9));}super['initialize'+'ComponentD'+'ata'](_0x33e0da,_0x23ef04,_0x5341c6);}['cloneCompo'+'nent'](_0x2c2429,_0x4199f0){const _0xbc6dd2=_0x2c2429['particlesy'+'stem']['data'],_0x9515fe=this['schema'],_0x4acb1e={};for(let _0x142b03=-0x17fe+0x1298+-0x2*-0x2b3,_0x1c0ef9=_0x9515fe['length'];_0x142b03<_0x1c0ef9;_0x142b03++){const _0x3caab1=_0x9515fe[_0x142b03];let _0x20a097=_0xbc6dd2[_0x3caab1];_0x20a097 instanceof T||_0x20a097 instanceof Cs||_0x20a097 instanceof jr?(_0x20a097=_0x20a097['clone'](),_0x4acb1e[_0x3caab1]=_0x20a097):_0x3caab1==='layers'?_0x4acb1e['layers']=_0xbc6dd2['layers']['slice'](0x2*0x615+0x4*-0x315+-0xe*-0x3):_0x20a097!=null&&(_0x4acb1e[_0x3caab1]=_0x20a097);}return this['addCompone'+'nt'](_0x4199f0,_0x4acb1e);}['onUpdate'](_0x56607e){const _0x58a49c=this['store'];let _0x51fa99;const _0x228fba=this['app']['stats']['particles'],_0x2504e1=this['app']['scene']['layers'];for(let _0x30db47=-0x20e*0x13+-0x24f3+-0x7*-0xadb;_0x30db47<_0x2504e1['layerList']['length'];_0x30db47++)_0x2504e1['layerList'][_0x30db47]['requiresLi'+'ghtCube']=!(0x187b+0x41a+0x76*-0x3e);for(const _0x5ebb2d in _0x58a49c)if(_0x58a49c['hasOwnProp'+'erty'](_0x5ebb2d)){const _0x8fd8d8=_0x58a49c[_0x5ebb2d],_0x73344d=_0x8fd8d8['entity'],_0x4d85b5=_0x8fd8d8['data'];if(_0x4d85b5['enabled']&&_0x73344d['enabled']){const _0x130bca=_0x73344d['particlesy'+'stem']['emitter'];if(!(_0x130bca!=null&&_0x130bca['meshInstan'+'ce']['visible']))continue;if(_0x130bca['lighting']){const _0x66b992=_0x4d85b5['layers'];for(let _0x248183=-0x11*0x3e+0x19f3*-0x1+0x1e11;_0x248183<_0x66b992['length'];_0x248183++){const _0x12bbc0=_0x2504e1['getLayerBy'+'Id'](_0x66b992[_0x248183]);_0x12bbc0&&(_0x12bbc0['requiresLi'+'ghtCube']=!(-0x1*0x939+0x1e54+-0x151b));}}if(!_0x4d85b5['paused']){if(_0x130bca['simTime']+=_0x56607e,_0x130bca['simTime']>_0x130bca['fixedTimeS'+'tep']&&(_0x51fa99=Math['floor'](_0x130bca['simTime']/_0x130bca['fixedTimeS'+'tep']),_0x130bca['simTime']-=_0x51fa99*_0x130bca['fixedTimeS'+'tep']),_0x51fa99){_0x51fa99=Math['min'](_0x51fa99,_0x130bca['maxSubStep'+'s']);for(let _0x2443fb=0x3*-0x619+-0x1b*0xcd+0x83*0x4e;_0x2443fb<_0x51fa99;_0x2443fb++)_0x130bca['addTime'](_0x130bca['fixedTimeS'+'tep'],!(-0x1*0x128d+0x1*0xe82+-0xe*-0x4a));_0x228fba['_updatesPe'+'rFrame']+=_0x51fa99,_0x228fba['_frameTime']+=_0x130bca['_addTimeTi'+'me'],_0x130bca['_addTimeTi'+'me']=-0x1*0x1517+0x1*-0x17d+-0x5*-0x484;}_0x130bca['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x5a3dbc,_0x364cf5){_0x364cf5['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x45f330,_0x21d21d){super(),this['skin']=_0x45f330,this['skinInstan'+'ce']=_0x21d21d;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x45104c,_0x1d9ea3)=>{console['log'](_0x1d9ea3['name']+':\x20Array('+_0x45104c['length']+')');for(let _0x434289=-0x1a26+0x1d1b+0x1*-0x2f5;_0x434289<_0x45104c['length'];_0x434289++)console['log']('\x20\x20'+_0x434289+(':\x20RefCount'+'\x20')+_0x45104c[_0x434289]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x15d54e,_0x41b6ce,_0x5b5b41){let _0x26ca22=bs['getCachedS'+'kinInstanc'+'e'](_0x15d54e,_0x41b6ce);return _0x26ca22||(_0x26ca22=new nl(_0x15d54e),_0x26ca22['resolve'](_0x41b6ce,_0x5b5b41),bs['addCachedS'+'kinInstanc'+'e'](_0x15d54e,_0x41b6ce,_0x26ca22)),_0x26ca22;}static['getCachedS'+'kinInstanc'+'e'](_0x14870d,_0x5d02d5){let _0x3152a9=null;const _0x175822=bs['_skinInsta'+'nceCache']['get'](_0x5d02d5);if(_0x175822){const _0x3d53ba=_0x175822['find'](_0x4ff402=>_0x4ff402['skin']===_0x14870d);_0x3d53ba&&(_0x3d53ba['incRefCoun'+'t'](),_0x3152a9=_0x3d53ba['skinInstan'+'ce']);}return _0x3152a9;}static['addCachedS'+'kinInstanc'+'e'](_0x4cf87b,_0x2d7272,_0x22fc2f){let _0x1976c2=bs['_skinInsta'+'nceCache']['get'](_0x2d7272);_0x1976c2||(_0x1976c2=[],bs['_skinInsta'+'nceCache']['set'](_0x2d7272,_0x1976c2));let _0x1c0221=_0x1976c2['find'](_0x3af3a0=>_0x3af3a0['skin']===_0x4cf87b);_0x1c0221||(_0x1c0221=new dI(_0x4cf87b,_0x22fc2f),_0x1976c2['push'](_0x1c0221)),_0x1c0221['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x40fc46){if(_0x40fc46){const _0x3e507e=_0x40fc46['rootBone'];if(_0x3e507e){const _0x4ac202=bs['_skinInsta'+'nceCache']['get'](_0x3e507e);if(_0x4ac202){const _0x20306d=_0x4ac202['findIndex'](_0x41335b=>_0x41335b['skinInstan'+'ce']===_0x40fc46);if(_0x20306d>=0xb*-0x38b+-0x15f5*0x1+0x3cee){const _0x599b28=_0x4ac202[_0x20306d];_0x599b28['decRefCoun'+'t'](),_0x599b28['refCount']===0x1cc6+-0xe*0x74+-0x166e&&(_0x4ac202['splice'](_0x20306d,-0x37d+0x2023+0x1*-0x1ca5),_0x4ac202['length']||bs['_skinInsta'+'nceCache']['delete'](_0x3e507e),_0x40fc46&&(_0x40fc46['destroy'](),_0x599b28['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x192e29,_0x6ceebd,_0x299e48,_0x4a3ef2,_0x3cc06d){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x192e29,this['parent']=_0x6ceebd,this['_scope']=_0x3cc06d,this['_registry']=_0x299e48,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x4a3ef2['load'],this['_onAssetAd'+'d']=_0x4a3ef2['add'],this['_onAssetRe'+'move']=_0x4a3ef2['remove'],this['_onAssetUn'+'load']=_0x4a3ef2['unload']);}set['id'](_0x30010f){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x30010f,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x264d94){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x264d94,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x5d5d42,_0xb5cfa7,_0x59f918,_0x4072b9,_0x9319ac,_0x75b315,_0x47ab75;this['id']&&((_0x5d5d42=this['_evtLoadBy'+'Id'])==null||_0x5d5d42['off'](),this['_evtLoadBy'+'Id']=null,(_0xb5cfa7=this['_evtAddByI'+'d'])==null||_0xb5cfa7['off'](),this['_evtAddByI'+'d']=null,(_0x59f918=this['_evtRemove'+'ById'])==null||_0x59f918['off'](),this['_evtRemove'+'ById']=null,(_0x4072b9=this['_evtUnload'+'ById'])==null||_0x4072b9['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x9319ac=this['_evtLoadBy'+'Url'])==null||_0x9319ac['off'](),this['_evtLoadBy'+'Url']=null,(_0x75b315=this['_evtAddByU'+'rl'])==null||_0x75b315['off'](),this['_evtAddByU'+'rl']=null,(_0x47ab75=this['_evtRemove'+'ByUrl'])==null||_0x47ab75['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x1874ac){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1874ac);}['_onAdd'](_0x5b601b){this['asset']=_0x5b601b,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5b601b);}['_onRemove'](_0x568975){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x568975),this['asset']=null;}['_onUnload'](_0x235a24){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x235a24);}}class fx extends ue{constructor(_0x5cb41d,_0x17ae15){super(_0x5cb41d,_0x17ae15),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x1456+0xa39*-0x1+0x1*0x1e8f)),c(this,'_receiveSh'+'adows',!(-0x9*0x1db+-0x1ee6+-0x2f99*-0x1)),c(this,'_castShado'+'wsLightmap',!(-0x2*0x388+0x1*-0xfbd+-0xd*-0x1c1)),c(this,'_lightmapp'+'ed',!(0x96a+-0x39f*-0x3+-0x1446)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x223*-0xb+0x8fc+0xe86),c(this,'isStatic',!(0x1c2a*0x1+-0x1d06+0xdd)),c(this,'_batchGrou'+'pId',-(0x167*-0x3+-0x1e52*-0x1+-0x1a1c)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x5cb41d['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x5cb41d['defaultMat'+'erial'],_0x17ae15['on']('remove',this['onRemoveCh'+'ild'],this),_0x17ae15['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x17ae15['on']('insert',this['onInsertCh'+'ild'],this),_0x17ae15['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x10cc9a){this['_renderSty'+'le']!==_0x10cc9a&&(this['_renderSty'+'le']=_0x10cc9a,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x10cc9a));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x2be232){this['_customAab'+'b']=_0x2be232;const _0x2ac8ff=this['_meshInsta'+'nces'];if(_0x2ac8ff){for(let _0x58f21a=0x117a+-0x1fe4+0xf6*0xf;_0x58f21a<_0x2ac8ff['length'];_0x58f21a++)_0x2ac8ff[_0x58f21a]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x494fd8){if(this['_type']!==_0x494fd8&&(this['_area']=null,this['_type']=_0x494fd8,this['destroyMes'+'hInstances'](),_0x494fd8!=='asset')){let _0x464618=this['_material'];(!_0x464618||_0x464618===this['system']['defaultMat'+'erial'])&&(_0x464618=this['_materialR'+'eferences'][-0x4*-0x46f+-0x484+0x234*-0x6]&&this['_materialR'+'eferences'][0x15a9+-0x2416+0xe6d]['asset']&&this['_materialR'+'eferences'][0x2ea+-0x1178+0xe8e]['asset']['resource']);const _0x2010cf=cx(this['system']['app']['graphicsDe'+'vice'],_0x494fd8);this['_area']=_0x2010cf['area'],this['meshInstan'+'ces']=[new Le(_0x2010cf['mesh'],_0x464618||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x412a76){if(v['assert'](Array['isArray'](_0x412a76),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x412a76,this['_meshInsta'+'nces']){const _0x13a0a0=this['_meshInsta'+'nces'];for(let _0x6f0c4c=-0x1513+0xd0b+0x1*0x808;_0x6f0c4c<_0x13a0a0['length'];_0x6f0c4c++)_0x13a0a0[_0x6f0c4c]['node']||(_0x13a0a0[_0x6f0c4c]['node']=this['entity']),_0x13a0a0[_0x6f0c4c]['castShadow']=this['_castShado'+'ws'],_0x13a0a0[_0x6f0c4c]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x13a0a0[_0x6f0c4c]['renderStyl'+'e']=this['_renderSty'+'le'],_0x13a0a0[_0x6f0c4c]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x13a0a0[_0x6f0c4c]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x2a2800){if(_0x2a2800!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x2a2800;const _0x254f0b=this['_meshInsta'+'nces'];if(_0x254f0b){for(let _0x58efd0=-0x14ce+-0x63b+0x1*0x1b09;_0x58efd0<_0x254f0b['length'];_0x58efd0++)_0x254f0b[_0x58efd0]['setLightma'+'pped'](_0x2a2800);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x20ad40){if(this['_castShado'+'ws']!==_0x20ad40){const _0x439ff7=this['_meshInsta'+'nces'];if(_0x439ff7){const _0x4ed867=this['layers'],_0x20b576=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x20ad40)for(let _0x15e1ab=0x4e4*0x6+-0x1ba0+-0x8*0x37;_0x15e1ab<_0x4ed867['length'];_0x15e1ab++){const _0x2ea5b7=_0x20b576['layers']['getLayerBy'+'Id'](this['layers'][_0x15e1ab]);_0x2ea5b7&&_0x2ea5b7['removeShad'+'owCasters'](_0x439ff7);}for(let _0x146725=0x1*0x77b+0x1c*0xfa+-0x22d3;_0x146725<_0x439ff7['length'];_0x146725++)_0x439ff7[_0x146725]['castShadow']=_0x20ad40;if(!this['_castShado'+'ws']&&_0x20ad40)for(let _0x520231=-0x2275+-0xf05+-0x83f*-0x6;_0x520231<_0x4ed867['length'];_0x520231++){const _0x227f69=_0x20b576['layers']['getLayerBy'+'Id'](_0x4ed867[_0x520231]);_0x227f69&&_0x227f69['addShadowC'+'asters'](_0x439ff7);}}this['_castShado'+'ws']=_0x20ad40;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2b7f4f){if(this['_receiveSh'+'adows']!==_0x2b7f4f){this['_receiveSh'+'adows']=_0x2b7f4f;const _0x49c248=this['_meshInsta'+'nces'];if(_0x49c248){for(let _0x24038a=0x155c+-0x3*-0x4af+-0x2369;_0x24038a<_0x49c248['length'];_0x24038a++)_0x49c248[_0x24038a]['receiveSha'+'dow']=_0x2b7f4f;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x1e655c){this['_castShado'+'wsLightmap']=_0x1e655c;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x30adde){this['_lightmapS'+'izeMultipl'+'ier']=_0x30adde;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x52811c){const _0x24e371=this['system']['app']['scene']['layers'];let _0x45a7fa;if(this['_meshInsta'+'nces']){for(let _0x516716=0x12fe+0xc7f+-0xa7f*0x3;_0x516716<this['_layers']['length'];_0x516716++)_0x45a7fa=_0x24e371['getLayerBy'+'Id'](this['_layers'][_0x516716]),_0x45a7fa&&_0x45a7fa['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x14*0xfa+0xc0c*-0x3+0x109c;for(let _0x105376=0x1b42+-0x29+-0x1b19;_0x105376<_0x52811c['length'];_0x105376++)this['_layers'][_0x105376]=_0x52811c[_0x105376];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x543ece=-0x13d1+-0xca5*-0x2+-0x579;_0x543ece<this['_layers']['length'];_0x543ece++)_0x45a7fa=_0x24e371['getLayerBy'+'Id'](this['_layers'][_0x543ece]),_0x45a7fa&&_0x45a7fa['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x28eec){var _0x24d80f,_0x55e37f;this['_batchGrou'+'pId']!==_0x28eec&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0xf8a+-0x26dd*0x1+0x1753&&((_0x24d80f=this['system']['app']['batcher'])==null||_0x24d80f['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x28eec>=-0x6c5+-0x1775+-0x92*-0x35&&((_0x55e37f=this['system']['app']['batcher'])==null||_0x55e37f['insert'](et['RENDER'],_0x28eec,this['entity'])),_0x28eec<-0x161b+0x27*-0x8+0x1753&&this['_batchGrou'+'pId']>=0x4e0+0xf02+-0x13e2&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x28eec);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x101fc4){if(this['_material']!==_0x101fc4&&(this['_material']=_0x101fc4,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x4eb0cd=-0x19ca+-0x2*0xfd3+0x3970;_0x4eb0cd<this['_meshInsta'+'nces']['length'];_0x4eb0cd++)this['_meshInsta'+'nces'][_0x4eb0cd]['material']=_0x101fc4;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x2e7cec=[]){if(this['_materialR'+'eferences']['length']>_0x2e7cec['length']){for(let _0x496f54=_0x2e7cec['length'];_0x496f54<this['_materialR'+'eferences']['length'];_0x496f54++)this['_materialR'+'eferences'][_0x496f54]['id']=null;this['_materialR'+'eferences']['length']=_0x2e7cec['length'];}for(let _0x825a70=-0x4b*-0x1+0x2*-0xd79+0x1*0x1aa7;_0x825a70<_0x2e7cec['length'];_0x825a70++)if(this['_materialR'+'eferences'][_0x825a70]||this['_materialR'+'eferences']['push'](new Go(_0x825a70,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x2e7cec[_0x825a70]){const _0x21291b=_0x2e7cec[_0x825a70]instanceof le?_0x2e7cec[_0x825a70]['id']:_0x2e7cec[_0x825a70];this['_materialR'+'eferences'][_0x825a70]['id']!==_0x21291b&&(this['_materialR'+'eferences'][_0x825a70]['id']=_0x21291b),this['_materialR'+'eferences'][_0x825a70]['asset']&&this['_onMateria'+'lAdded'](_0x825a70,this,this['_materialR'+'eferences'][_0x825a70]['asset']);}else this['_materialR'+'eferences'][_0x825a70]['id']=null,this['_meshInsta'+'nces'][_0x825a70]&&(this['_meshInsta'+'nces'][_0x825a70]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x2e1cb5=>_0x2e1cb5['id']);}set['asset'](_0x200e28){const _0x34fb84=_0x200e28 instanceof le?_0x200e28['id']:_0x200e28;this['_assetRefe'+'rence']['id']!==_0x34fb84&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x34fb84,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x1b3dc4){const _0x229d72=_0x1b3dc4 instanceof le?_0x1b3dc4['id']:_0x1b3dc4;this['_assetRefe'+'rence']['id']=_0x229d72;}set['rootBone'](_0x3c4d66){if(this['_rootBone']!==_0x3c4d66){const _0x45add4=typeof _0x3c4d66=='string';if(this['_rootBone']&&_0x45add4&&this['_rootBone']['getGuid']()===_0x3c4d66)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x3c4d66 instanceof De?this['_rootBone']=_0x3c4d66:_0x45add4?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x3c4d66)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x3ee532=this['_meshInsta'+'nces'];if(_0x3ee532){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x2a6258=0x1beb+-0x4f4+-0x16f7;_0x2a6258<_0x3ee532['length'];_0x2a6258++)_0x3ee532[_0x2a6258]['destroy']();this['_meshInsta'+'nces']['length']=-0x15b+-0x2355+0x24b0;}}['addToLayer'+'s'](){const _0x5775b7=this['system']['app']['scene']['layers'];for(let _0x133669=-0x1959+-0x26b9+0x4012;_0x133669<this['_layers']['length'];_0x133669++){const _0x3858bb=_0x5775b7['getLayerBy'+'Id'](this['_layers'][_0x133669]);_0x3858bb&&_0x3858bb['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x1f3032=this['system']['app']['scene']['layers'];for(let _0x234ff7=-0x1*0x1241+0x1*-0xb43+0x761*0x4;_0x234ff7<this['_layers']['length'];_0x234ff7++){const _0x5966b9=_0x1f3032['getLayerBy'+'Id'](this['_layers'][_0x234ff7]);_0x5966b9&&_0x5966b9['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x701141=-0x1e8d*-0x1+0x41c*-0x4+-0xe1d*0x1;_0x701141<this['_materialR'+'eferences']['length'];_0x701141++)this['_materialR'+'eferences'][_0x701141]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x5078b1,_0x265aad){this['addToLayer'+'s'](),_0x5078b1['off']('add',this['onLayerAdd'+'ed'],this),_0x5078b1['off']('remove',this['onLayerRem'+'oved'],this),_0x265aad['on']('add',this['onLayerAdd'+'ed'],this),_0x265aad['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x305617){this['layers']['indexOf'](_0x305617['id'])<0x1e1a+0x5fb+-0x1*0x2415||_0x305617['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x316a9e){this['layers']['indexOf'](_0x316a9e['id'])<-0x1a*0x65+-0x814+0x1256||_0x316a9e['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x15af84;const _0x4acd69=this['system']['app'],_0x862a94=_0x4acd69['scene'],_0x1ef137=_0x862a94['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x862a94['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1ef137&&(this['_evtLayerA'+'dded']=_0x1ef137['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1ef137['on']('remove',this['onLayerRem'+'oved'],this));const _0x3bcf58=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x3bcf58&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x425909=-0x26d6+0x9d1+0x143*0x17;_0x425909<this['_materialR'+'eferences']['length'];_0x425909++)this['_materialR'+'eferences'][_0x425909]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x425909]['asset']);this['_batchGrou'+'pId']>=0x40f*0x1+0x2a*0xd+0x5*-0x13d&&((_0x15af84=_0x4acd69['batcher'])==null||_0x15af84['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x558637,_0x8ac64c,_0x5b61c6,_0xa0b9ec;const _0x126500=this['system']['app'],_0x2116f2=_0x126500['scene']['layers'];(_0x558637=this['_evtLayers'+'Changed'])==null||_0x558637['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x2116f2&&((_0x8ac64c=this['_evtLayerA'+'dded'])==null||_0x8ac64c['off'](),this['_evtLayerA'+'dded']=null,(_0x5b61c6=this['_evtLayerR'+'emoved'])==null||_0x5b61c6['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0xdf6*-0x1+0x1dad+-0xfb7&&((_0xa0b9ec=_0x126500['batcher'])==null||_0xa0b9ec['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x5b6a63=0x7*0x5+0x32*-0x50+-0x3d*-0x41;_0x5b6a63<this['_meshInsta'+'nces']['length'];_0x5b6a63++)this['_meshInsta'+'nces'][_0x5b6a63]['visible']=!(0xccf+-0x17c7+0xaf9);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x3dfb6f=0x1972+0x16f*-0x1+0x9*-0x2ab;_0x3dfb6f<this['_meshInsta'+'nces']['length'];_0x3dfb6f++)this['_meshInsta'+'nces'][_0x3dfb6f]['visible']=!(-0xd98+-0x93f*0x1+-0x16d7*-0x1);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x2a0482;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x50db02=this['_assetRefe'+'rence']['asset']['resource'];(_0x2a0482=this['_evtSetMes'+'hes'])==null||_0x2a0482['off'](),this['_evtSetMes'+'hes']=_0x50db02['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x50db02['meshes']&&this['_onSetMesh'+'es'](_0x50db02['meshes']);}}['_onSetMesh'+'es'](_0xc64608){this['_cloneMesh'+'es'](_0xc64608);}['_clearSkin'+'Instances'](){for(let _0x38ca89=-0x1*0xa8e+-0x2626+0x30b4;_0x38ca89<this['_meshInsta'+'nces']['length'];_0x38ca89++){const _0x574f6e=this['_meshInsta'+'nces'][_0x38ca89];Vo['removeCach'+'edSkinInst'+'ance'](_0x574f6e['skinInstan'+'ce']),_0x574f6e['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x1da6a2=-0xd*-0x175+-0x1b75*-0x1+-0x2e66;_0x1da6a2<this['_meshInsta'+'nces']['length'];_0x1da6a2++){const _0x46741b=this['_meshInsta'+'nces'][_0x1da6a2],_0x344c78=_0x46741b['mesh'];_0x344c78['skin']&&!_0x46741b['skinInstan'+'ce']&&(_0x46741b['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x344c78['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x227a08){if(_0x227a08&&_0x227a08['length']){const _0x313684=[];for(let _0x54cb25=-0x2*0x44b+-0x1*0x18b8+0x214e;_0x54cb25<_0x227a08['length'];_0x54cb25++){const _0x16513c=_0x227a08[_0x54cb25],_0x13eb69=this['_materialR'+'eferences'][_0x54cb25]&&this['_materialR'+'eferences'][_0x54cb25]['asset']&&this['_materialR'+'eferences'][_0x54cb25]['asset']['resource'],_0x354623=new Le(_0x16513c,_0x13eb69||this['system']['defaultMat'+'erial'],this['entity']);_0x313684['push'](_0x354623),_0x16513c['morph']&&(_0x354623['morphInsta'+'nce']=new fn(_0x16513c['morph']));}this['meshInstan'+'ces']=_0x313684,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x1e8f5e;(_0x1e8f5e=this['_evtSetMes'+'hes'])==null||_0x1e8f5e['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x5736ff,_0x24be19,_0x209067){_0x209067['resource']?this['_onMateria'+'lLoad'](_0x5736ff,_0x24be19,_0x209067):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x209067);}['_updateMai'+'nMaterial'](_0x333801,_0x426d1c){_0x333801===-0x1*0x1387+0xd1c*-0x2+-0x7*-0x689&&(this['material']=_0x426d1c);}['_onMateria'+'lLoad'](_0x2739b0,_0x10a324,_0x13f7f7){this['_meshInsta'+'nces'][_0x2739b0]&&(this['_meshInsta'+'nces'][_0x2739b0]['material']=_0x13f7f7['resource']),this['_updateMai'+'nMaterial'](_0x2739b0,_0x13f7f7['resource']);}['_onMateria'+'lRemove'](_0x5b29c6,_0xba1364,_0x4a3968){this['_meshInsta'+'nces'][_0x5b29c6]&&(this['_meshInsta'+'nces'][_0x5b29c6]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5b29c6,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x4dc68f,_0x519cfc,_0x1a690f){this['_meshInsta'+'nces'][_0x4dc68f]&&(this['_meshInsta'+'nces'][_0x4dc68f]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x4dc68f,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1e2f10,_0x25cff7){_0x1e2f10['rootBone']&&(this['rootBone']=_0x25cff7[_0x1e2f10['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0x1*0x1b3d+0x13a3+-0x2*-0x3cd);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x305d4b){super(_0x305d4b),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x305d4b['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1a836a,_0x20201a,_0xae5c08){(_0x20201a['batchGroup'+'Id']===null||_0x20201a['batchGroup'+'Id']===void(-0x1*-0x13e5+-0xfa9+0x43c*-0x1))&&(_0x20201a['batchGroup'+'Id']=-(0x1b52*0x1+-0x1b8d+0x3c)),_0x20201a['layers']&&_0x20201a['layers']['length']&&(_0x20201a['layers']=_0x20201a['layers']['slice'](-0x26a5+-0x15a8+0x3c4d));for(let _0x4448d7=-0x15*0x1c3+0x1cba*0x1+0x1*0x845;_0x4448d7<Mr['length'];_0x4448d7++)_0x20201a['hasOwnProp'+'erty'](Mr[_0x4448d7])&&(_0x1a836a[Mr[_0x4448d7]]=_0x20201a[Mr[_0x4448d7]]);_0x20201a['aabbCenter']&&_0x20201a['aabbHalfEx'+'tents']&&(_0x1a836a['customAabb']=new _e(new T(_0x20201a['aabbCenter']),new T(_0x20201a['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x1a836a,_0x20201a,pf);}['cloneCompo'+'nent'](_0x55899c,_0x8112d0){const _0x347ce7={};for(let _0x2b5c7d=-0x15f5+0x12*0xc0+0x875;_0x2b5c7d<Mr['length'];_0x2b5c7d++)_0x347ce7[Mr[_0x2b5c7d]]=_0x55899c['render'][Mr[_0x2b5c7d]];_0x347ce7['enabled']=_0x55899c['render']['enabled'],delete _0x347ce7['meshInstan'+'ces'];const _0x46032b=this['addCompone'+'nt'](_0x8112d0,_0x347ce7),_0x9eedb=_0x55899c['render']['meshInstan'+'ces'],_0x936ed0=_0x9eedb['map'](_0xc38f81=>_0xc38f81['mesh']);_0x46032b['_onSetMesh'+'es'](_0x936ed0);for(let _0x172937=0x133*-0x6+0x1*0x4d4+-0xca*-0x3;_0x172937<_0x9eedb['length'];_0x172937++)_0x46032b['meshInstan'+'ces'][_0x172937]['material']=_0x9eedb[_0x172937]['material'];return _0x55899c['render']['customAabb']&&(_0x46032b['customAabb']=_0x55899c['render']['customAabb']['clone']()),_0x46032b;}['onRemove'](_0x2fc064,_0x4385df){_0x4385df['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x343cf7,_0x5e34f2){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x76b+-0x2511+0x1da6),(this['_construct'+'or']=_0x343cf7,this['_resize'](_0x5e34f2));}['_resize'](_0x1ef288){if(_0x1ef288>this['_pool']['length']){for(let _0x46948d=this['_pool']['length'];_0x46948d<_0x1ef288;_0x46948d++)this['_pool'][_0x46948d]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x1376+0x152*-0x8+-0x8*-0x3c1)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x597+0x1a89*-0x1+0x2020;}}let Vt,xe,gs,Wn;const pI=new se(),mI=new se(),Ql=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',-0x1038*0x1+-0xc5d+-0x3*-0x987),c(this,'_angularFa'+'ctor',new T(-0xfe+-0x1c41+0x1d40,0x891+-0xa5*-0x2c+-0x24ec,0x669*0x1+0x1032+-0x169a*0x1)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',-0x1490+0x1ea4+-0xa14+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x33d*-0xb+0x1*-0x2345+0x46e4),c(this,'_linearFac'+'tor',new T(-0x1a41+0x12*0x93+0x2*0x7f6,-0x144b+-0x1713+0x2b5f,0x1785+0x1664+0x71*-0x68)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',0x9d*0x5+-0x8b5*-0x3+-0xf1*0x1f),c(this,'_restituti'+'on',0x1226+-0x3*0x6e9+0x1*0x295),c(this,'_rollingFr'+'iction',-0x570*-0x2+-0x2*0x14b+-0x84a),c(this,'_simulatio'+'nEnabled',!(-0x5*-0x60d+0x19aa+0x34a*-0x11)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),Wn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy'](Wn),Vt=null,xe=null,gs=null,Wn=null;}set['angularDam'+'ping'](_0x17f221){this['_angularDa'+'mping']!==_0x17f221&&(this['_angularDa'+'mping']=_0x17f221,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x17f221));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x52f6e8){this['_angularFa'+'ctor']['equals'](_0x52f6e8)||(this['_angularFa'+'ctor']['copy'](_0x52f6e8),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x52f6e8['x'],_0x52f6e8['y'],_0x52f6e8['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x501d6f){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x501d6f['x'],_0x501d6f['y'],_0x501d6f['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x501d6f));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x43e080=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x43e080['x'](),_0x43e080['y'](),_0x43e080['z']());}return this['_angularVe'+'locity'];}set['body'](_0x1e9027){this['_body']!==_0x1e9027&&(this['_body']=_0x1e9027,_0x1e9027&&this['_simulatio'+'nEnabled']&&_0x1e9027['activate']());}get['body'](){return this['_body'];}set['friction'](_0x3cbeca){this['_friction']!==_0x3cbeca&&(this['_friction']=_0x3cbeca,this['_body']&&this['_body']['setFrictio'+'n'](_0x3cbeca));}get['friction'](){return this['_friction'];}set['group'](_0x34e5e8){this['_group']!==_0x34e5e8&&(this['_group']=_0x34e5e8,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x3fdee5){this['_linearDam'+'ping']!==_0x3fdee5&&(this['_linearDam'+'ping']=_0x3fdee5,this['_body']&&this['_body']['setDamping'](_0x3fdee5,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x20d555){this['_linearFac'+'tor']['equals'](_0x20d555)||(this['_linearFac'+'tor']['copy'](_0x20d555),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x20d555['x'],_0x20d555['y'],_0x20d555['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x59053f){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x59053f['x'],_0x59053f['y'],_0x59053f['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x59053f));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x1d7021=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x1d7021['x'](),_0x1d7021['y'](),_0x1d7021['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x42f1f7){this['_mask']!==_0x42f1f7&&(this['_mask']=_0x42f1f7,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x570e54){if(this['_mass']!==_0x570e54&&(this['_mass']=_0x570e54,this['_body']&&this['_type']===ms)){const _0x23eeba=this['enabled']&&this['entity']['enabled'];_0x23eeba&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x570e54,xe),this['_body']['setMassPro'+'ps'](_0x570e54,xe),this['_body']['updateIner'+'tiaTensor'](),_0x23eeba&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x290026){this['_restituti'+'on']!==_0x290026&&(this['_restituti'+'on']=_0x290026,this['_body']&&this['_body']['setRestitu'+'tion'](_0x290026));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x10569d){this['_rollingFr'+'iction']!==_0x10569d&&(this['_rollingFr'+'iction']=_0x10569d,this['_body']&&this['_body']['setRolling'+'Friction'](_0x10569d));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x48fad2){if(this['_type']!==_0x48fad2){switch(this['_type']=_0x48fad2,this['disableSim'+'ulation'](),_0x48fad2){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x9e75ee=this['entity'];let _0x20c4b8;if(_0x9e75ee['collision']&&(_0x20c4b8=_0x9e75ee['collision']['shape'],_0x9e75ee['trigger']&&(_0x9e75ee['trigger']['destroy'](),delete _0x9e75ee['trigger'])),_0x20c4b8){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x160c0e=this['_type']===ms?this['_mass']:0x862*0x4+0x1c5c+-0x1ef2*0x2;this['_getEntity'+'Transform'](Vt);const _0x236074=this['system']['createBody'](_0x160c0e,_0x20c4b8,Vt);if(_0x236074['setRestitu'+'tion'](this['_restituti'+'on']),_0x236074['setFrictio'+'n'](this['_friction']),_0x236074['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x236074['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x300774=this['_linearFac'+'tor'];xe['setValue'](_0x300774['x'],_0x300774['y'],_0x300774['z']),_0x236074['setLinearF'+'actor'](xe);const _0x3e4696=this['_angularFa'+'ctor'];xe['setValue'](_0x3e4696['x'],_0x3e4696['y'],_0x3e4696['z']),_0x236074['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x236074['setCollisi'+'onFlags'](_0x236074['getCollisi'+'onFlags']()|eR),_0x236074['setActivat'+'ionState'](ag));_0x236074['entity']=_0x9e75ee,this['body']=_0x236074,this['enabled']&&_0x9e75ee['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x21d*0x7+0x1*0x1e65+0x1*-0x2d2f);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x5d33d1=this['entity'];if(_0x5d33d1['collision']&&_0x5d33d1['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x1800ba=this['_body'];if(_0x1800ba){switch(this['system']['addBody'](_0x1800ba,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x1800ba['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x1800ba['forceActiv'+'ationState'](ag);break;case so:_0x1800ba['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x5d33d1['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x5d33d1['collision']),_0x1800ba['activate'](),this['_simulatio'+'nEnabled']=!(-0xb1f+0x4*0x375+-0x2b5);}}}['disableSim'+'ulation'](){const _0x39129f=this['_body'];if(_0x39129f&&this['_simulatio'+'nEnabled']){const _0x19a993=this['system'];let _0x11ae58=_0x19a993['_compounds']['indexOf'](this['entity']['collision']);_0x11ae58>-(-0xde1+-0x6ef+0x14d1)&&_0x19a993['_compounds']['splice'](_0x11ae58,-0x2*-0x421+-0x1c0b+0x13ca),_0x11ae58=_0x19a993['_dynamic']['indexOf'](this),_0x11ae58>-(0x61f*0x6+0x142b+0x1*-0x38e4)&&_0x19a993['_dynamic']['splice'](_0x11ae58,0xd55+-0xf6a+0x2*0x10b),_0x11ae58=_0x19a993['_kinematic']['indexOf'](this),_0x11ae58>-(0x1816+0x1*0x18a7+-0x30bc)&&_0x19a993['_kinematic']['splice'](_0x11ae58,0x143*-0x13+-0xed*0xb+0x2229),_0x19a993['removeBody'](_0x39129f),_0x39129f['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(-0x2614+-0x3*-0x1fd+-0x100f*-0x2);}}['applyForce'](_0x530531,_0x38b0f6,_0xa769ee,_0x4b044a,_0x5063a9,_0x2ad1ca){const _0x442f2c=this['_body'];_0x442f2c&&(_0x442f2c['activate'](),_0x530531 instanceof T?xe['setValue'](_0x530531['x'],_0x530531['y'],_0x530531['z']):xe['setValue'](_0x530531,_0x38b0f6,_0xa769ee),_0x38b0f6 instanceof T?gs['setValue'](_0x38b0f6['x'],_0x38b0f6['y'],_0x38b0f6['z']):_0x4b044a!==void(0x1cb5*0x1+-0xe*-0x163+-0x301f*0x1)?gs['setValue'](_0x4b044a,_0x5063a9,_0x2ad1ca):gs['setValue'](-0x23d3*0x1+0x2*-0xf43+-0x18b*-0x2b,-0x53d+-0x7*-0x312+-0x1041,-0x1c80+0x433+0x184d),_0x442f2c['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x5a0ed9,_0x47792c,_0x47c3dd){const _0x43f13f=this['_body'];_0x43f13f&&(_0x43f13f['activate'](),_0x5a0ed9 instanceof T?xe['setValue'](_0x5a0ed9['x'],_0x5a0ed9['y'],_0x5a0ed9['z']):xe['setValue'](_0x5a0ed9,_0x47792c,_0x47c3dd),_0x43f13f['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x3eabd7,_0x397aa2,_0x407ce0,_0x5085d6,_0x56d597,_0x1ffbe4){const _0x1d4416=this['_body'];_0x1d4416&&(_0x1d4416['activate'](),_0x3eabd7 instanceof T?xe['setValue'](_0x3eabd7['x'],_0x3eabd7['y'],_0x3eabd7['z']):xe['setValue'](_0x3eabd7,_0x397aa2,_0x407ce0),_0x397aa2 instanceof T?gs['setValue'](_0x397aa2['x'],_0x397aa2['y'],_0x397aa2['z']):_0x5085d6!==void(0x7b6*-0x1+-0x1a3c+-0x1*-0x21f2)?gs['setValue'](_0x5085d6,_0x56d597,_0x1ffbe4):gs['setValue'](0x1a6*0x6+-0xafe+-0x2*-0x8d,-0x233a+-0x1ff5+0x432f,-0x210+0x3*0xa94+0x34c*-0x9),_0x1d4416['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x2242a3,_0x5e2868,_0x464a2a){const _0x12421e=this['_body'];_0x12421e&&(_0x12421e['activate'](),_0x2242a3 instanceof T?xe['setValue'](_0x2242a3['x'],_0x2242a3['y'],_0x2242a3['z']):xe['setValue'](_0x2242a3,_0x5e2868,_0x464a2a),_0x12421e['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x4b88c7){const _0x1b4955=this['entity'],_0x1d2c63=_0x1b4955['collision'];if(_0x1d2c63){const _0x36017e=_0x1d2c63['getShapePo'+'sition'](),_0x4189d6=_0x1d2c63['getShapeRo'+'tation']();xe['setValue'](_0x36017e['x'],_0x36017e['y'],_0x36017e['z']),Wn['setValue'](_0x4189d6['x'],_0x4189d6['y'],_0x4189d6['z'],_0x4189d6['w']);}else{const _0xec50b8=_0x1b4955['getPositio'+'n'](),_0x5c3009=_0x1b4955['getRotatio'+'n']();xe['setValue'](_0xec50b8['x'],_0xec50b8['y'],_0xec50b8['z']),Wn['setValue'](_0x5c3009['x'],_0x5c3009['y'],_0x5c3009['z'],_0x5c3009['w']);}_0x4b88c7['setOrigin'](xe),_0x4b88c7['setRotatio'+'n'](Wn);}['syncEntity'+'ToBody'](){const _0x55167f=this['_body'];if(_0x55167f){if(this['_getEntity'+'Transform'](Vt),_0x55167f['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0xdd0d6b=_0x55167f['getMotionS'+'tate']();_0xdd0d6b&&_0xdd0d6b['setWorldTr'+'ansform'](Vt);}_0x55167f['activate']();}}['_updateDyn'+'amic'](){const _0x2247d5=this['_body'];if(_0x2247d5['isActive']()){const _0x570c50=_0x2247d5['getMotionS'+'tate']();if(_0x570c50){const _0x50345b=this['entity'];_0x570c50['getWorldTr'+'ansform'](Vt);const _0x402a22=Vt['getOrigin'](),_0xcb8318=Vt['getRotatio'+'n'](),_0x3449cc=_0x50345b['collision'];if(_0x3449cc&&_0x3449cc['_hasOffset']){const _0x4bf9fe=_0x3449cc['data']['linearOffs'+'et'],_0x53951c=_0x3449cc['data']['angularOff'+'set'],_0x29f3e7=mI['copy'](_0x53951c)['invert'](),_0x2d64e5=pI['set'](_0xcb8318['x'](),_0xcb8318['y'](),_0xcb8318['z'](),_0xcb8318['w']())['mul'](_0x29f3e7);_0x2d64e5['transformV'+'ector'](_0x4bf9fe,Ql),_0x50345b['setPositio'+'n'](_0x402a22['x']()-Ql['x'],_0x402a22['y']()-Ql['y'],_0x402a22['z']()-Ql['z']),_0x50345b['setRotatio'+'n'](_0x2d64e5);}else _0x50345b['setPositio'+'n'](_0x402a22['x'](),_0x402a22['y'](),_0x402a22['z']()),_0x50345b['setRotatio'+'n'](_0xcb8318['x'](),_0xcb8318['y'](),_0xcb8318['z'](),_0xcb8318['w']());}}}['_updateKin'+'ematic'](){const _0x498d3e=this['_body']['getMotionS'+'tate']();_0x498d3e&&(this['_getEntity'+'Transform'](Vt),_0x498d3e['setWorldTr'+'ansform'](Vt));}['teleport'](_0x270bf6,_0x44b299,_0x1bff1b,_0x25af62,_0x39ec15,_0x45e937){_0x270bf6 instanceof T?this['entity']['setPositio'+'n'](_0x270bf6):this['entity']['setPositio'+'n'](_0x270bf6,_0x44b299,_0x1bff1b),_0x44b299 instanceof se?this['entity']['setRotatio'+'n'](_0x44b299):_0x44b299 instanceof T?this['entity']['setEulerAn'+'gles'](_0x44b299):_0x25af62!==void(-0xaa5*-0x1+0x1dc1+-0x2866)&&this['entity']['setEulerAn'+'gles'](_0x25af62,_0x39ec15,_0x45e937),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(-0x175a*-0x1+0x2115+0x1*-0x386e));class _I{constructor(){this['enabled']=!(-0xaba+-0x45b+0x8f*0x1b);}}let ai,oi;class xg{constructor(_0x58f621,_0x3cd748,_0x2ec48c,_0x200587){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x58f621,this['point']=_0x3cd748,this['normal']=_0x2ec48c,this['hitFractio'+'n']=_0x200587);}}class gI{constructor(_0x2dd88e,_0x49c90b,_0x271580){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0xc*-0x2e8+0x2f7+-0x25d7?(this['a']=_0x2dd88e,this['b']=_0x49c90b,this['impulse']=_0x271580['impulse'],this['localPoint'+'A']=_0x271580['localPoint'],this['localPoint'+'B']=_0x271580['localPoint'+'Other'],this['pointA']=_0x271580['point'],this['pointB']=_0x271580['pointOther'],this['normal']=_0x271580['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x1143+-0x2*-0x414+0x91b,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x141c03=new T(),_0x36862f=new T(),_0x2e6a50=new T(),_0xba3be4=new T(),_0x443a4e=new T(),_0x5ddcd7=0xab6+-0x22d*0x11+0x1f*0xd9){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x141c03,this['localPoint'+'Other']=_0x36862f,this['point']=_0x2e6a50,this['pointOther']=_0xba3be4,this['normal']=_0x443a4e,this['impulse']=_0x5ddcd7);}}class xI{constructor(_0x8a1afe,_0x2209c5){c(this,'other'),c(this,'contacts'),(this['other']=_0x8a1afe,this['contacts']=_0x2209c5);}}const px=['enabled'];class mx extends Xe{constructor(_0x3e7007){super(_0x3e7007),c(this,'maxSubStep'+'s',0xeee+0x1e33+-0x2d17),c(this,'fixedTimeS'+'tep',(0x133a*0x2+-0x175d*0x1+-0xf16)/(-0x634+0x2*-0xd85+0x217a)),c(this,'gravity',new T(0x1*-0x1099+0x11ea+-0x151,-(0x1b2*-0x2+-0xcfd+0x835*0x2+0.8100000000000005),-0xcb*0x20+-0x23*-0xa7+-0x1*-0x28b)),c(this,'_gravityFl'+'oat32',new Float32Array(0x1fbb+-0x1*0x1fe9+0x31)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x3e7007['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x30ba52=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x30ba52);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,0x1*-0x25c7+0x2*-0x8b3+0x1*0x372e),this['contactRes'+'ultPool']=new Zd(xI,-0x1bfc+0x24f+0x19ae),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0x1*-0x1633+0x1f*0x133+0x3b5f*-0x1),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x345a42,_0x1d8772,_0x4312f7){const _0x39e43c=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x28d949 of _0x39e43c)if(_0x1d8772['hasOwnProp'+'erty'](_0x28d949)){const _0x34df76=_0x1d8772[_0x28d949];Array['isArray'](_0x34df76)?_0x345a42[_0x28d949]=new T(_0x34df76[-0x1769+0x260d+-0xea4],_0x34df76[0x1*0x2632+0x1356+-0x3987],_0x34df76[0x2*-0xda+0xf4*-0x5+0x2*0x33d]):_0x345a42[_0x28d949]=_0x34df76;}super['initialize'+'ComponentD'+'ata'](_0x345a42,_0x1d8772,['enabled']);}['cloneCompo'+'nent'](_0x445dcc,_0x85dcf6){const _0x360b43=_0x445dcc['rigidbody'],_0x4436eb={'enabled':_0x360b43['enabled'],'mass':_0x360b43['mass'],'linearDamping':_0x360b43['linearDamp'+'ing'],'angularDamping':_0x360b43['angularDam'+'ping'],'linearFactor':[_0x360b43['linearFact'+'or']['x'],_0x360b43['linearFact'+'or']['y'],_0x360b43['linearFact'+'or']['z']],'angularFactor':[_0x360b43['angularFac'+'tor']['x'],_0x360b43['angularFac'+'tor']['y'],_0x360b43['angularFac'+'tor']['z']],'friction':_0x360b43['friction'],'rollingFriction':_0x360b43['rollingFri'+'ction'],'restitution':_0x360b43['restitutio'+'n'],'type':_0x360b43['type'],'group':_0x360b43['group'],'mask':_0x360b43['mask']};return this['addCompone'+'nt'](_0x85dcf6,_0x4436eb);}['onBeforeRe'+'move'](_0x35e9df,_0x172ec4){_0x172ec4['enabled']&&(_0x172ec4['enabled']=!(-0x1437+-0xc*-0x291+-0xa94)),_0x172ec4['body']&&(this['destroyBod'+'y'](_0x172ec4['body']),_0x172ec4['body']=null);}['addBody'](_0x173026,_0x24e79a,_0x499ec7){_0x24e79a!==void(0x1547+-0xc87+-0x8c0)&&_0x499ec7!==void(-0xd07+0x1f2e+-0x1227)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x173026,_0x24e79a,_0x499ec7):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x173026);}['removeBody'](_0x3a6925){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x3a6925);}['createBody'](_0x4944f1,_0x1caf46,_0x3eb056){const _0x482fef=new Ammo['btVector3'](-0x1337+0x451+0xee6,0xee9*0x1+0x1b65+-0x2a4e,-0x900+-0x1bcd+0x24cd*0x1);_0x4944f1!==-0x1a64+-0xe24+-0x2888*-0x1&&_0x1caf46['calculateL'+'ocalInerti'+'a'](_0x4944f1,_0x482fef);const _0x5a981d=new Ammo['btDefaultM'+'otionState'](_0x3eb056),_0xe83fa=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x4944f1,_0x5a981d,_0x1caf46,_0x482fef),_0x258399=new Ammo['btRigidBod'+'y'](_0xe83fa);return Ammo['destroy'](_0xe83fa),Ammo['destroy'](_0x482fef),_0x258399;}['destroyBod'+'y'](_0x162757){const _0x4ef6f1=_0x162757['getMotionS'+'tate']();_0x4ef6f1&&Ammo['destroy'](_0x4ef6f1),Ammo['destroy'](_0x162757);}['raycastFir'+'st'](_0x120528,_0x285afd,_0x2ac666={}){if(_0x2ac666['filterTags']||_0x2ac666['filterCall'+'back'])return _0x2ac666['sort']=!(-0x1dbf+-0x4af*0x1+0x226e),this['raycastAll'](_0x120528,_0x285afd,_0x2ac666)[0x22*-0x9d+0x1fb5*-0x1+-0x9*-0x5d7]||null;let _0x236ab2=null;ai['setValue'](_0x120528['x'],_0x120528['y'],_0x120528['z']),oi['setValue'](_0x285afd['x'],_0x285afd['y'],_0x285afd['z']);const _0x3f0638=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x2ac666['filterColl'+'isionGroup']=='number'&&_0x3f0638['set_m_coll'+'isionFilte'+'rGroup'](_0x2ac666['filterColl'+'isionGroup']),typeof _0x2ac666['filterColl'+'isionMask']=='number'&&_0x3f0638['set_m_coll'+'isionFilte'+'rMask'](_0x2ac666['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x3f0638),_0x3f0638['hasHit']()){const _0x2473e1=_0x3f0638['get_m_coll'+'isionObjec'+'t'](),_0x1a7044=Ammo['castObject'](_0x2473e1,Ammo['btRigidBod'+'y']);if(_0x1a7044){const _0x738278=_0x3f0638['get_m_hitP'+'ointWorld'](),_0x355f29=_0x3f0638['get_m_hitN'+'ormalWorld']();_0x236ab2=new xg(_0x1a7044['entity'],new T(_0x738278['x'](),_0x738278['y'](),_0x738278['z']()),new T(_0x355f29['x'](),_0x355f29['y'](),_0x355f29['z']()),_0x3f0638['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x3f0638),_0x236ab2;}['raycastAll'](_0x1bb293,_0xdeef71,_0x5daf6b={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x486908=[];ai['setValue'](_0x1bb293['x'],_0x1bb293['y'],_0x1bb293['z']),oi['setValue'](_0xdeef71['x'],_0xdeef71['y'],_0xdeef71['z']);const _0x320b15=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x5daf6b['filterColl'+'isionGroup']=='number'&&_0x320b15['set_m_coll'+'isionFilte'+'rGroup'](_0x5daf6b['filterColl'+'isionGroup']),typeof _0x5daf6b['filterColl'+'isionMask']=='number'&&_0x320b15['set_m_coll'+'isionFilte'+'rMask'](_0x5daf6b['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x320b15),_0x320b15['hasHit']()){const _0x263932=_0x320b15['get_m_coll'+'isionObjec'+'ts'](),_0x4267ce=_0x320b15['get_m_hitP'+'ointWorld'](),_0x34cf62=_0x320b15['get_m_hitN'+'ormalWorld'](),_0x5092a5=_0x320b15['get_m_hitF'+'ractions'](),_0x23047f=_0x263932['size']();for(let _0x3fbe83=-0x13be+0x5*-0x35+0x14c7;_0x3fbe83<_0x23047f;_0x3fbe83++){const _0x584320=Ammo['castObject'](_0x263932['at'](_0x3fbe83),Ammo['btRigidBod'+'y']);if(_0x584320&&_0x584320['entity']){if(_0x5daf6b['filterTags']&&!_0x584320['entity']['tags']['has'](..._0x5daf6b['filterTags'])||_0x5daf6b['filterCall'+'back']&&!_0x5daf6b['filterCall'+'back'](_0x584320['entity']))continue;const _0x47382d=_0x4267ce['at'](_0x3fbe83),_0x100dba=_0x34cf62['at'](_0x3fbe83),_0x5764c2=new xg(_0x584320['entity'],new T(_0x47382d['x'](),_0x47382d['y'](),_0x47382d['z']()),new T(_0x100dba['x'](),_0x100dba['y'](),_0x100dba['z']()),_0x5092a5['at'](_0x3fbe83));_0x486908['push'](_0x5764c2);}}_0x5daf6b['sort']&&_0x486908['sort']((_0x145147,_0x13d7a6)=>_0x145147['hitFractio'+'n']-_0x13d7a6['hitFractio'+'n']);}return Ammo['destroy'](_0x320b15),_0x486908;}['_storeColl'+'ision'](_0x491400,_0x4d87ca){let _0x2a7b99=!(-0x1*0xe8d+0x46a+-0x512*-0x2);const _0x3b666b=_0x491400['getGuid']();return this['collisions'][_0x3b666b]=this['collisions'][_0x3b666b]||{'others':[],'entity':_0x491400},this['collisions'][_0x3b666b]['others']['indexOf'](_0x4d87ca)<-0x1ba4+-0x7c4+0x2368&&(this['collisions'][_0x3b666b]['others']['push'](_0x4d87ca),_0x2a7b99=!(-0x1bd+0xfee+-0x15*0xad)),this['frameColli'+'sions'][_0x3b666b]=this['frameColli'+'sions'][_0x3b666b]||{'others':[],'entity':_0x491400},this['frameColli'+'sions'][_0x3b666b]['others']['push'](_0x4d87ca),_0x2a7b99;}['_createCon'+'tactPointF'+'romAmmo'](_0x38b19f){const _0x23e9b4=_0x38b19f['get_m_loca'+'lPointA'](),_0xf7b591=_0x38b19f['get_m_loca'+'lPointB'](),_0x416925=_0x38b19f['getPositio'+'nWorldOnA'](),_0x5ca63f=_0x38b19f['getPositio'+'nWorldOnB'](),_0x7ca87b=_0x38b19f['get_m_norm'+'alWorldOnB'](),_0xf83c68=this['contactPoi'+'ntPool']['allocate']();return _0xf83c68['localPoint']['set'](_0x23e9b4['x'](),_0x23e9b4['y'](),_0x23e9b4['z']()),_0xf83c68['localPoint'+'Other']['set'](_0xf7b591['x'](),_0xf7b591['y'](),_0xf7b591['z']()),_0xf83c68['point']['set'](_0x416925['x'](),_0x416925['y'](),_0x416925['z']()),_0xf83c68['pointOther']['set'](_0x5ca63f['x'](),_0x5ca63f['y'](),_0x5ca63f['z']()),_0xf83c68['normal']['set'](_0x7ca87b['x'](),_0x7ca87b['y'](),_0x7ca87b['z']()),_0xf83c68['impulse']=_0x38b19f['getApplied'+'Impulse'](),_0xf83c68;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x5edbae){const _0x4e94b6=_0x5edbae['get_m_loca'+'lPointA'](),_0x10d781=_0x5edbae['get_m_loca'+'lPointB'](),_0x4d4ad9=_0x5edbae['getPositio'+'nWorldOnA'](),_0x534ad2=_0x5edbae['getPositio'+'nWorldOnB'](),_0x57fc3d=_0x5edbae['get_m_norm'+'alWorldOnB'](),_0x53743d=this['contactPoi'+'ntPool']['allocate']();return _0x53743d['localPoint'+'Other']['set'](_0x4e94b6['x'](),_0x4e94b6['y'](),_0x4e94b6['z']()),_0x53743d['localPoint']['set'](_0x10d781['x'](),_0x10d781['y'](),_0x10d781['z']()),_0x53743d['pointOther']['set'](_0x4d4ad9['x'](),_0x4d4ad9['y'](),_0x4d4ad9['z']()),_0x53743d['point']['set'](_0x534ad2['x'](),_0x534ad2['y'](),_0x534ad2['z']()),_0x53743d['normal']['set'](_0x57fc3d['x'](),_0x57fc3d['y'](),_0x57fc3d['z']()),_0x53743d['impulse']=_0x5edbae['getApplied'+'Impulse'](),_0x53743d;}['_createSin'+'gleContact'+'Result'](_0x244b08,_0x134cb7,_0x53996e){const _0x32e8e0=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x32e8e0['a']=_0x244b08,_0x32e8e0['b']=_0x134cb7,_0x32e8e0['localPoint'+'A']=_0x53996e['localPoint'],_0x32e8e0['localPoint'+'B']=_0x53996e['localPoint'+'Other'],_0x32e8e0['pointA']=_0x53996e['point'],_0x32e8e0['pointB']=_0x53996e['pointOther'],_0x32e8e0['normal']=_0x53996e['normal'],_0x32e8e0['impulse']=_0x53996e['impulse'],_0x32e8e0;}['_createCon'+'tactResult'](_0x4d306a,_0x35df42){const _0x492924=this['contactRes'+'ultPool']['allocate']();return _0x492924['other']=_0x4d306a,_0x492924['contacts']=_0x35df42,_0x492924;}['_cleanOldC'+'ollisions'](){for(const _0x398f25 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x398f25)){const _0x17d275=this['frameColli'+'sions'][_0x398f25],_0x14ec5a=this['collisions'][_0x398f25],_0x4ccdef=_0x14ec5a['entity'],_0x885e15=_0x4ccdef['collision'],_0x1c9bf0=_0x4ccdef['rigidbody'],_0x3efeb1=_0x14ec5a['others'];let _0x59d123=_0x3efeb1['length'];for(;_0x59d123--;){const _0x202e07=_0x3efeb1[_0x59d123];(!_0x17d275||_0x17d275['others']['indexOf'](_0x202e07)<0x6b*0x2b+0x2*0x545+-0x1*0x1c83)&&(_0x3efeb1['splice'](_0x59d123,-0x1*0x17c7+-0x8f6+0xb*0x2fa),_0x4ccdef['trigger']?(_0x885e15&&_0x885e15['fire']('triggerlea'+'ve',_0x202e07),_0x202e07['rigidbody']&&_0x202e07['rigidbody']['fire']('triggerlea'+'ve',_0x4ccdef)):_0x202e07['trigger']||(_0x1c9bf0&&_0x1c9bf0['fire']('collisione'+'nd',_0x202e07),_0x885e15&&_0x885e15['fire']('collisione'+'nd',_0x202e07)));}_0x3efeb1['length']===-0x2142+-0x1246+0x3388&&delete this['collisions'][_0x398f25];}}['_hasContac'+'tEvent'](_0x510c74){const _0x476b14=_0x510c74['collision'];if(_0x476b14&&(_0x476b14['hasEvent']('collisions'+'tart')||_0x476b14['hasEvent']('collisione'+'nd')||_0x476b14['hasEvent']('contact')))return!(0x7d*-0x4f+-0x6*-0x11+0x262d);const _0x584f12=_0x510c74['rigidbody'];return _0x584f12&&(_0x584f12['hasEvent']('collisions'+'tart')||_0x584f12['hasEvent']('collisione'+'nd')||_0x584f12['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x5565e4,_0x213acf){const _0x3b983c=Ammo['wrapPointe'+'r'](_0x5565e4,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0xd474b7=_0x3b983c['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x34f1e=0x1*-0x1f0c+-0x1850*0x1+0x6*0x93a;_0x34f1e<_0xd474b7;_0x34f1e++){const _0x1efc11=_0x3b983c['getManifol'+'dByIndexIn'+'ternal'](_0x34f1e),_0x566e3f=_0x1efc11['getBody0'](),_0x4c96e9=_0x1efc11['getBody1'](),_0x40a932=Ammo['castObject'](_0x566e3f,Ammo['btRigidBod'+'y']),_0x1aa4bf=Ammo['castObject'](_0x4c96e9,Ammo['btRigidBod'+'y']),_0x2f3cb4=_0x40a932['entity'],_0x7d4bd6=_0x1aa4bf['entity'];if(!_0x2f3cb4||!_0x7d4bd6)continue;const _0x48f45f=_0x40a932['getCollisi'+'onFlags'](),_0x459b65=_0x1aa4bf['getCollisi'+'onFlags'](),_0x46c204=_0x1efc11['getNumCont'+'acts'](),_0x5e0358=[],_0x46e517=[];let _0x39cf20;if(_0x46c204>-0x7b*0x8+0x2547+-0x1b*0x13d){if(_0x48f45f&lo||_0x459b65&lo){const _0x4e5048=_0x2f3cb4['collision']&&(_0x2f3cb4['collision']['hasEvent']('triggerent'+'er')||_0x2f3cb4['collision']['hasEvent']('triggerlea'+'ve')),_0xdf52c9=_0x7d4bd6['collision']&&(_0x7d4bd6['collision']['hasEvent']('triggerent'+'er')||_0x7d4bd6['collision']['hasEvent']('triggerlea'+'ve')),_0x52242a=_0x2f3cb4['rigidbody']&&(_0x2f3cb4['rigidbody']['hasEvent']('triggerent'+'er')||_0x2f3cb4['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x276f3c=_0x7d4bd6['rigidbody']&&(_0x7d4bd6['rigidbody']['hasEvent']('triggerent'+'er')||_0x7d4bd6['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x4e5048&&(_0x39cf20=this['_storeColl'+'ision'](_0x2f3cb4,_0x7d4bd6),_0x39cf20&&!(_0x459b65&lo)&&_0x2f3cb4['collision']['fire']('triggerent'+'er',_0x7d4bd6)),_0xdf52c9&&(_0x39cf20=this['_storeColl'+'ision'](_0x7d4bd6,_0x2f3cb4),_0x39cf20&&!(_0x48f45f&lo)&&_0x7d4bd6['collision']['fire']('triggerent'+'er',_0x2f3cb4)),_0x52242a&&(_0x39cf20||(_0x39cf20=this['_storeColl'+'ision'](_0x7d4bd6,_0x2f3cb4)),_0x39cf20&&_0x2f3cb4['rigidbody']['fire']('triggerent'+'er',_0x7d4bd6)),_0x276f3c&&(_0x39cf20||(_0x39cf20=this['_storeColl'+'ision'](_0x2f3cb4,_0x7d4bd6)),_0x39cf20&&_0x7d4bd6['rigidbody']['fire']('triggerent'+'er',_0x2f3cb4));}else{const _0x48d4ee=this['_hasContac'+'tEvent'](_0x2f3cb4),_0x17900b=this['_hasContac'+'tEvent'](_0x7d4bd6),_0x36f5df=this['hasEvent']('contact');if(_0x36f5df||_0x48d4ee||_0x17900b){for(let _0x51c22d=0x12b2+0x240d+-0x5*0xaf3;_0x51c22d<_0x46c204;_0x51c22d++){const _0xa1992d=_0x1efc11['getContact'+'Point'](_0x51c22d),_0x541aa6=this['_createCon'+'tactPointF'+'romAmmo'](_0xa1992d);if(_0x48d4ee||_0x17900b){_0x5e0358['push'](_0x541aa6);const _0x3d9b9a=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xa1992d);_0x46e517['push'](_0x3d9b9a);}if(_0x36f5df){const _0x296e39=this['_createSin'+'gleContact'+'Result'](_0x2f3cb4,_0x7d4bd6,_0x541aa6);this['fire']('contact',_0x296e39);}}if(_0x48d4ee){const _0xc9cec=this['_createCon'+'tactResult'](_0x7d4bd6,_0x5e0358);_0x39cf20=this['_storeColl'+'ision'](_0x2f3cb4,_0x7d4bd6),_0x2f3cb4['collision']&&(_0x2f3cb4['collision']['fire']('contact',_0xc9cec),_0x39cf20&&_0x2f3cb4['collision']['fire']('collisions'+'tart',_0xc9cec)),_0x2f3cb4['rigidbody']&&(_0x2f3cb4['rigidbody']['fire']('contact',_0xc9cec),_0x39cf20&&_0x2f3cb4['rigidbody']['fire']('collisions'+'tart',_0xc9cec));}if(_0x17900b){const _0x516d74=this['_createCon'+'tactResult'](_0x2f3cb4,_0x46e517);_0x39cf20=this['_storeColl'+'ision'](_0x7d4bd6,_0x2f3cb4),_0x7d4bd6['collision']&&(_0x7d4bd6['collision']['fire']('contact',_0x516d74),_0x39cf20&&_0x7d4bd6['collision']['fire']('collisions'+'tart',_0x516d74)),_0x7d4bd6['rigidbody']&&(_0x7d4bd6['rigidbody']['fire']('contact',_0x516d74),_0x39cf20&&_0x7d4bd6['rigidbody']['fire']('collisions'+'tart',_0x516d74));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x58b3a0){let _0x36c972,_0x2f5488;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][-0x1563+-0x1*-0x1886+-0x323]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x1e40*-0x1+0xed+0x1*0x1d54]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x2b7*0x8+0x1aa2+-0x4e8]=this['gravity']['z'];const _0x4ad3fd=this['dynamicsWo'+'rld']['getGravity']();(_0x4ad3fd['x']()!==this['_gravityFl'+'oat32'][0x917*0x1+-0xd5d+-0x1*-0x446]||_0x4ad3fd['y']()!==this['_gravityFl'+'oat32'][-0x1a7e+0x70d+-0x2*-0x9b9]||_0x4ad3fd['z']()!==this['_gravityFl'+'oat32'][-0x2569*0x1+-0x10b4+0x361f])&&(_0x4ad3fd['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x4ad3fd));const _0x4a08fe=this['_triggers'];for(_0x36c972=0x349*0x1+0x2171+0xc3e*-0x3,_0x2f5488=_0x4a08fe['length'];_0x36c972<_0x2f5488;_0x36c972++)_0x4a08fe[_0x36c972]['updateTran'+'sform']();const _0x7abf95=this['_compounds'];for(_0x36c972=0x24b5+-0x26fa+0x53*0x7,_0x2f5488=_0x7abf95['length'];_0x36c972<_0x2f5488;_0x36c972++)_0x7abf95[_0x36c972]['_updateCom'+'pound']();const _0x22f0b2=this['_kinematic'];for(_0x36c972=-0x2e*-0x6f+-0x40c+0x6e*-0x25,_0x2f5488=_0x22f0b2['length'];_0x36c972<_0x2f5488;_0x36c972++)_0x22f0b2[_0x36c972]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x58b3a0,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x43b29a=this['_dynamic'];for(_0x36c972=0x1c99+0x1*0x17c1+-0x345a,_0x2f5488=_0x43b29a['length'];_0x36c972<_0x2f5488;_0x36c972++)_0x43b29a[_0x36c972]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x58b3a0),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const $n='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x135350,_0x3fa554){super(_0x135350,_0x3fa554),this['_resolutio'+'n']=new W(-0x12cd*0x1+0x187a+-0x1*0x32d,0x34*0x8c+0x1fc*-0x11+0x68c),this['_reference'+'Resolution']=new W(0x669*-0x3+-0xb*-0x115+0x9d4,0xb*0x310+-0xb35+0x5*-0x43f),this['_scaleMode']=$n,this['scale']=0x26e2+0xdea*0x1+-0x1199*0x3,this['_scaleBlen'+'d']=0x1199+-0x9d7+-0x7c2+0.5,this['_priority']=0x1cba+0xd2c+-0x29e6,this['_screenSpa'+'ce']=!(-0x7b7*0x1+-0x1f00+0x135c*0x2),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x135350['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x5d75a7,_0x4dc9c2){var _0x22a9f7;if(!(_0x5d75a7 instanceof We))return _0x4dc9c2;if(_0x5d75a7['element']){const _0x3c271f=_0x5d75a7['element']['drawOrder'];_0x5d75a7['element']['drawOrder']=_0x4dc9c2++,_0x5d75a7['element']['_batchGrou'+'pId']>=0x7aa+0x7c6+-0x1*0xf70&&_0x3c271f!==_0x5d75a7['element']['drawOrder']&&((_0x22a9f7=this['system']['app']['batcher'])==null||_0x22a9f7['markGroupD'+'irty'](_0x5d75a7['element']['_batchGrou'+'pId']));}_0x5d75a7['particlesy'+'stem']&&(_0x5d75a7['particlesy'+'stem']['drawOrder']=_0x4dc9c2++);const _0x1756c2=_0x5d75a7['children'];for(let _0x248787=0x12e4+0x2e*0xc5+-0x364a;_0x248787<_0x1756c2['length'];_0x248787++)_0x4dc9c2=this['_recurseDr'+'awOrderSyn'+'c'](_0x1756c2[_0x248787],_0x4dc9c2);return _0x4dc9c2;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x5d6*-0x1+0x293*0x7+-0x8e*0x2b),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x45db90=this['_resolutio'+'n']['x']/this['scale'],_0x22b25e=this['_resolutio'+'n']['y']/this['scale'],_0x136996=-0x21b7+0xd3*0x13+0x907*0x2,_0x4394c1=_0x45db90,_0x4396f0=-_0x22b25e;this['_screenMat'+'rix']['setOrtho'](_0x136996,_0x4394c1,_0x4396f0,0x3b*0x95+0x7*0x565+-0x481a,0x1f8e+0xc74+-0x5*0x8cd,-(0x237d+-0x44*0x1b+-0x1c50)),this['_screenSpa'+'ce']||(Sg['setScale']((0x1978+-0x10c7*-0x1+0x135*-0x23+0.5)*_0x45db90,(-0x1*-0xa5d+0x1*-0x82+0x57*-0x1d+0.5)*_0x22b25e,-0x6d9*0x1+0x12ff*0x1+0xc25*-0x1),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x2979b0,_0x5616e3){const _0x3aee00=Math['log2']((_0x2979b0['x']||0x937*0x1+0x1ab8+0x2*-0x11f7)/_0x5616e3['x']),_0x2f685c=Math['log2']((_0x2979b0['y']||-0x11c3*-0x2+-0x578+-0x1e0d)/_0x5616e3['y']);return Math['pow'](0x1*0xde5+-0x1fd3+-0x38*-0x52,_0x3aee00*(-0x1*0xb36+-0x649+0x1180-this['_scaleBlen'+'d'])+_0x2f685c*this['_scaleBlen'+'d']);}['_onResize'](_0x4e56cb,_0x8ae01f){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x4e56cb,_0x8ae01f),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x121918){this['_elements']['add'](_0x121918);}['_unbindEle'+'ment'](_0xf7c89f){this['_elements']['delete'](_0xf7c89f);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x44142b=>_0x44142b['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x5b255c){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x5b255c['x'],_0x5b255c['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x193e3e=>_0x193e3e['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x3ceaa5){this['_reference'+'Resolution']['set'](_0x3ceaa5['x'],_0x3ceaa5['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x4cbba8=>_0x4cbba8['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===$n?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x195e5c){this['_screenSpa'+'ce']=_0x195e5c,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x1b559a=>_0x1b559a['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x29282f){_0x29282f!==$n&&_0x29282f!==SI&&(_0x29282f=$n),!this['_screenSpa'+'ce']&&_0x29282f!==$n&&(_0x29282f=$n),this['_scaleMode']=_0x29282f,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x490188){this['_scaleBlen'+'d']=_0x490188,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x430dd3=>_0x430dd3['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x1495b1){_0x1495b1>-0xbe3*0x1+0xc9b+0x47&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x1495b1+'\x20to\x20255'),_0x1495b1=0x15e+0x2*0x423+0x8a5*-0x1),this['_priority']!==_0x1495b1&&(this['_priority']=_0x1495b1,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0x22e4+0x669+0x17*0x13d);}}const mf=['enabled'];class bI extends Xe{constructor(_0x369af0){super(_0x369af0),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x250e7a,_0x26de93,_0x18a90d){_0x26de93['priority']!==void(0x628+0x210*0x11+0x527*-0x8)&&(_0x250e7a['priority']=_0x26de93['priority']),_0x26de93['screenSpac'+'e']!==void(0x2260+-0x1*-0x1095+-0x32f5*0x1)&&(_0x250e7a['screenSpac'+'e']=_0x26de93['screenSpac'+'e']),_0x250e7a['cull']=_0x250e7a['screenSpac'+'e'],_0x26de93['scaleMode']!==void(0x215e+0x1*-0x20f9+0x65*-0x1)&&(_0x250e7a['scaleMode']=_0x26de93['scaleMode']),_0x26de93['scaleBlend']!==void(0x25e4+0x5d*0x32+-0x802*0x7)&&(_0x250e7a['scaleBlend']=_0x26de93['scaleBlend']),_0x26de93['resolution']!==void(-0x9*0x2bd+0x27*0x5+0x17e2)&&(_0x26de93['resolution']instanceof W?_0x250e7a['_resolutio'+'n']['copy'](_0x26de93['resolution']):_0x250e7a['_resolutio'+'n']['set'](_0x26de93['resolution'][-0x175b+0x21d9+-0x4f*0x22],_0x26de93['resolution'][0x961+0x1*-0x2539+0x1bd9*0x1]),_0x250e7a['resolution']=_0x250e7a['_resolutio'+'n']),_0x26de93['referenceR'+'esolution']!==void(-0xb40+0x2*-0x10bb+0x2cb6)&&(_0x26de93['referenceR'+'esolution']instanceof W?_0x250e7a['_reference'+'Resolution']['copy'](_0x26de93['referenceR'+'esolution']):_0x250e7a['_reference'+'Resolution']['set'](_0x26de93['referenceR'+'esolution'][-0x189*0x9+0x39d*0x9+-0x12b4],_0x26de93['referenceR'+'esolution'][0x57a*0x5+0x1*0x13a3+-0x2f04]),_0x250e7a['referenceR'+'esolution']=_0x250e7a['_reference'+'Resolution']),_0x250e7a['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x250e7a,_0x26de93,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x3f497c){const _0x4adaaf=this['store'];for(const _0x1f8afd in _0x4adaaf)_0x4adaaf[_0x1f8afd]['entity']['screen']['update']&&_0x4adaaf[_0x1f8afd]['entity']['screen']['update'](_0x3f497c);}['_onResize'](_0x24173c,_0x1f02a4){this['windowReso'+'lution']['x']=_0x24173c,this['windowReso'+'lution']['y']=_0x1f02a4;}['cloneCompo'+'nent'](_0x2af163,_0x516fa1){const _0x1cdbf4=_0x2af163['screen'];return this['addCompone'+'nt'](_0x516fa1,{'enabled':_0x1cdbf4['enabled'],'screenSpace':_0x1cdbf4['screenSpac'+'e'],'scaleMode':_0x1cdbf4['scaleMode'],'resolution':_0x1cdbf4['resolution']['clone'](),'referenceResolution':_0x1cdbf4['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x219c44,_0x2dcdb8){_0x2dcdb8['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x3dd3ac=this['_drawOrder'+'SyncQueue']['list']();for(let _0x4fbe3f=0x2af*0x3+0xad*0x2+-0x967;_0x4fbe3f<_0x3dd3ac['length'];_0x4fbe3f++){const _0x5de25=_0x3dd3ac[_0x4fbe3f];_0x5de25['callback']['call'](_0x5de25['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x468adb,_0x3196aa,_0x2b3f00){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x468adb)||this['_drawOrder'+'SyncQueue']['push'](_0x468adb,{'callback':_0x3196aa,'scope':_0x2b3f00});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new W(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x57c7bc,_0x2dfa1c){if(super(),!_0x57c7bc||!(_0x57c7bc instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x2dfa1c&&_0x2dfa1c!=='x'&&_0x2dfa1c!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x2dfa1c);this['_element']=_0x57c7bc,this['_app']=_0x57c7bc['system']['app'],this['_axis']=_0x2dfa1c||null,this['_enabled']=!(-0x12*0x3+0x24*-0x108+0x2556),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(0xaf6+-0x2326+0x1*0x1831),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x52f19a){this['_element'][_0x52f19a]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x52f19a]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x52f19a]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x1d29cf){const _0x47a205=_0x1d29cf==='on';this['_hasDragLi'+'steners']&&_0x47a205||(this['_app']['mouse']&&(this['_element'][_0x1d29cf]('mousemove',this['_onMove'],this),this['_element'][_0x1d29cf]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x1d29cf]('touchmove',this['_onMove'],this),this['_element'][_0x1d29cf]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x1d29cf]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x1d29cf]('selectmove',this['_onMove'],this),this['_element'][_0x1d29cf]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x47a205);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x9b1835){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x9b1835['camera'],this['_calculate'+'DragScale']();const _0x2726cd=this['_screenToL'+'ocal'](_0x9b1835);_0x2726cd&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x1659*0x1+0x1654+0x5*0x1),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x2726cd),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x1*0x1044+-0x400*0x8+0x1017*0x3),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x126780){return _0x126780['inputSourc'+'e']?Pr['set'](_0x126780['inputSourc'+'e']['getOrigin'](),_0x126780['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x126780),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0xeb7*-0x1+-0x464*-0x5+0x2d2*-0xd)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x31661f){const _0x5969c8=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x31661f['x']<'u'&&typeof _0x31661f['y']<'u'?(qi['x']=_0x31661f['x']*_0x5969c8,qi['y']=_0x31661f['y']*_0x5969c8):_0x31661f['changedTou'+'ches']?(qi['x']=_0x31661f['changedTou'+'ches'][-0x1*0x1152+0x3*-0x261+0x3*0x827]['x']*_0x5969c8,qi['y']=_0x31661f['changedTou'+'ches'][-0xbfd+-0x3a4+0x1*0xfa1]['y']*_0x5969c8):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],0xb*0x2f5+0x27+-0x59*0x5e),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0x13de+-0x19fd+0x2ddc)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x53a206=this['_element']['entity']['parent'];const _0xd0466a=this['_element']['screen']&&this['_element']['screen']['screen'],_0x5b969e=_0xd0466a&&_0xd0466a['screenSpac'+'e'],_0x245c21=_0x5b969e?_0xd0466a['scale']:0x1*0x256+0x1b7f*-0x1+0x1*0x192a,_0x15810e=this['_dragScale'];for(_0x15810e['set'](_0x245c21,_0x245c21,_0x245c21);_0x53a206&&(_0x15810e['mul'](_0x53a206['getLocalSc'+'ale']()),_0x53a206=_0x53a206['parent'],!(_0x5b969e&&_0x53a206['screen'])););_0x15810e['x']=(-0x2*0x6df+-0x9c3+0x1782)/_0x15810e['x'],_0x15810e['y']=(-0x1*0x131c+0x1*0x2327+-0x100a)/_0x15810e['y'],_0x15810e['z']=-0x36d*-0x7+-0x8*-0x43+-0x1a13;}['_onMove'](_0x232b31){const {_element:_0x46e656,_deltaMousePosition:_0x320d91,_deltaHandlePosition:_0x312b7a,_axis:_0x305fa8}=this;if(_0x46e656&&this['_isDraggin'+'g']&&this['enabled']&&_0x46e656['enabled']&&_0x46e656['entity']['enabled']){const _0x340bb7=this['_screenToL'+'ocal'](_0x232b31);if(_0x340bb7){if(_0x320d91['sub2'](_0x340bb7,this['_dragStart'+'MousePosit'+'ion']),_0x312b7a['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x320d91),_0x305fa8){const _0x2167ce=_0x46e656['entity']['getLocalPo'+'sition'](),_0x5406eb=TI[_0x305fa8];_0x312b7a[_0x5406eb]=_0x2167ce[_0x5406eb];}_0x46e656['entity']['setLocalPo'+'sition'](_0x312b7a),this['fire']('drag:move',_0x312b7a);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x4f5a22){this['_enabled']=_0x4f5a22;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=0x789*-0x1+0x259*0x4+-0x1db,Tg=0x19be+-0xec0+-0x1*0xafd,EI=0x19ba+0x545+0x1*-0x1efd,CI=0x10f*-0x11+-0x6*-0x8b+0xebd,MI=-0xd7a+0x20d*0xa+0x707*-0x1,ro=new W();class gx extends ue{constructor(_0x5c3c89,_0x5a0611){super(_0x5c3c89,_0x5a0611),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x81*-0x1f+-0x1fd3+0x2f73),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0xdd9720=this['system']['store'][this['entity']['getGuid']()];return _0xdd9720?_0xdd9720['data']:null;}set['enabled'](_0x7ccee2){this['_setValue']('enabled',_0x7ccee2);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x150c71){this['_setValue']('horizontal',_0x150c71);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x35d171){this['_setValue']('vertical',_0x35d171);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0xc8f02b){this['_setValue']('scrollMode',_0xc8f02b);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x57b91d){this['_setValue']('bounceAmou'+'nt',_0x57b91d);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x41b8c6){this['_setValue']('friction',_0x41b8c6);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x190ae7){this['_setValue']('dragThresh'+'old',_0x190ae7);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x33ee45){this['_setValue']('useMouseWh'+'eel',_0x33ee45);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x38f39b){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x38f39b);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x8243f0){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x8243f0);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x4673a6){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x4673a6);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x5dd925){if(this['_viewportE'+'ntity']===_0x5dd925)return;const _0x129cb9=typeof _0x5dd925=='string';this['_viewportE'+'ntity']&&_0x129cb9&&this['_viewportE'+'ntity']['getGuid']()===_0x5dd925||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x5dd925 instanceof De?this['_viewportE'+'ntity']=_0x5dd925:_0x129cb9?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x5dd925)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x129cb9&&_0x5dd925&&(this['data']['viewportEn'+'tity']=_0x5dd925));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x494c18){if(this['_contentEn'+'tity']===_0x494c18)return;const _0x4abec1=typeof _0x494c18=='string';this['_contentEn'+'tity']&&_0x4abec1&&this['_contentEn'+'tity']['getGuid']()===_0x494c18||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x494c18 instanceof De?this['_contentEn'+'tity']=_0x494c18:_0x4abec1?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x494c18)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x4abec1&&_0x494c18&&(this['data']['contentEnt'+'ity']=_0x494c18));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x4f8972){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x4f8972)return;const _0x580588=typeof _0x4f8972=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x580588&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x4f8972||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x4f8972 instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x4f8972:_0x580588?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x4f8972)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x580588&&_0x4f8972&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x4f8972));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0xb21677){if(this['_verticalS'+'crollbarEn'+'tity']===_0xb21677)return;const _0x3ee484=typeof _0xb21677=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x3ee484&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0xb21677||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0xb21677 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0xb21677:_0x3ee484?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0xb21677)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x3ee484&&_0xb21677&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0xb21677));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x38970e){this['_onSetScro'+'ll'](_0x38970e['x'],_0x38970e['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x39ec17,_0x5bb4dd){const _0x52e871=this['data'],_0x1dc679=_0x52e871[_0x39ec17];_0x52e871[_0x39ec17]=_0x5bb4dd,this['fire']('set',_0x39ec17,_0x1dc679,_0x5bb4dd);}['_toggleLif'+'ecycleList'+'eners'](_0x154bdb){this[_0x154bdb]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x154bdb]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x154bdb]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x2d6398){if(this['entity']['element']){if(_0x2d6398==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x2d6398]('resize',this['_syncAll'],this),this['entity']['element'][_0x2d6398](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x2d6398==='on';}}['_onElement'+'ComponentA'+'dd'](_0xfb0317){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x51a787){var _0x198e37;(_0x198e37=this['_evtElemen'+'tRemove'])==null||_0x198e37['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x313c0f,_0x15697b;(_0x313c0f=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x313c0f['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x15697b=this['_viewportE'+'ntity'])!=null&&_0x15697b['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x58310f=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x58310f['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x58310f['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0xdf96c7,_0x566689;(_0xdf96c7=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0xdf96c7['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x566689=this['_evtViewpo'+'rtResize'])==null||_0x566689['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x115249,_0x5a277a;(_0x115249=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x115249['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x5a277a=this['_contentEn'+'tity'])!=null&&_0x5a277a['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0xafabc9=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0xafabc9['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0xafabc9['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x491774,_0x2c9594;(_0x491774=this['_evtConten'+'tElementRe'+'move'])==null||_0x491774['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x2c9594=this['_evtConten'+'tResize'])==null||_0x2c9594['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x5ecc5d){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0xf73+0x67*0x1d+0x3c8),this['_setScroll'+'FromConten'+'tPosition'](_0x5ecc5d),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x5ecc5d),!this['_disabledC'+'ontentInpu'+'t'])){const _0x2b9e5c=_0x5ecc5d['x']-this['_dragStart'+'Position']['x'],_0x1a83d6=_0x5ecc5d['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x2b9e5c)>this['dragThresh'+'old']||Math['abs'](_0x1a83d6)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x21ecbe;(_0x21ecbe=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x21ecbe['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x4968f3;(_0x4968f3=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x4968f3['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x13bb71){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x13bb71,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x577cb8){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x577cb8);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x4248a0;const _0xbab215=(_0x4248a0=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x12ab+-0x1c8e+0x9e3):_0x4248a0['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0xbab215['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0xbab215['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0xecb569;const _0xa88258=(_0xecb569=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x165e+0x59f*-0x3+-0x581*0x1):_0xecb569['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0xa88258['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0xa88258['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x564afe,_0x2b3b71;(_0x564afe=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x564afe['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x2b3b71=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x2b3b71['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x3fd801,_0x5bba05;(_0x3fd801=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x3fd801['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x5bba05=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x5bba05['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x2342ed,_0x4db5d8,_0x14f891){_0x14f891!==!(0x1c0c+0xc2*-0x10+-0xfeb)&&this['_velocity']['set'](-0x41d+0x2*-0xe1d+-0x2057*-0x1,0x5a0+-0x3d*0x71+0x13*0x11f,-0x21+0x4c1*0x7+0x2126*-0x1);const _0x20a3bc=this['_updateAxi'+'s'](_0x2342ed,'x',pe),_0x3bddbc=this['_updateAxi'+'s'](_0x4db5d8,'y',ke);(_0x20a3bc||_0x3bddbc)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x35f9b6,_0x50615d,_0x138433){const _0x421920=_0x35f9b6!==null&&Math['abs'](_0x35f9b6-this['_scroll'][_0x50615d])>0x18d*0x10+0x1b1+-0x1a81+0.00001;return(_0x421920||this['_isDraggin'+'g']()||_0x35f9b6===0x68d+-0x13c1*0x1+0x2*0x69a)&&(this['_scroll'][_0x50615d]=this['_determine'+'NewScrollV'+'alue'](_0x35f9b6,_0x50615d,_0x138433),this['_syncConte'+'ntPosition'](_0x138433),this['_syncScrol'+'lbarPositi'+'on'](_0x138433)),_0x421920;}['_determine'+'NewScrollV'+'alue'](_0x213fda,_0x5e31aa,_0x2d99b4){if(!this['_getScroll'+'ingEnabled'](_0x2d99b4))return this['_scroll'][_0x5e31aa];switch(this['scrollMode']){case AI:return N['clamp'](_0x213fda,0x20c6+-0x178d+-0x939,this['_getMaxScr'+'ollValue'](_0x2d99b4));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x213fda,_0x5e31aa,_0x2d99b4),_0x213fda;case EI:return _0x213fda;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x213fda;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x54691f){if(!this['_contentEn'+'tity'])return;const _0x288331=this['_getAxis'](_0x54691f),_0x3126dd=this['_getSign'](_0x54691f),_0x3da79c=this['_prevConte'+'ntSizes'][_0x54691f],_0x5902ab=this['_getConten'+'tSize'](_0x54691f);if(_0x3da79c!==null&&Math['abs'](_0x3da79c-_0x5902ab)>-0x1*0x110a+-0xf2*-0x15+-0x2d*0x10+0.0001){const _0x4b4e31=this['_getMaxOff'+'set'](_0x54691f,_0x3da79c),_0x560651=this['_getMaxOff'+'set'](_0x54691f,_0x5902ab);_0x560651===0x18ef*0x1+0xfd9+-0x28c8?this['_scroll'][_0x288331]=0x2278+0x23b4+0x462b*-0x1:this['_scroll'][_0x288331]=N['clamp'](this['_scroll'][_0x288331]*_0x4b4e31/_0x560651,0x47d*0x1+0x240c+-0x3*0xd83,0x17*0x1d+-0x1de6+-0x6d3*-0x4);}const _0x40a9bb=this['_scroll'][_0x288331]*this['_getMaxOff'+'set'](_0x54691f),_0x2faa4d=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2faa4d[_0x288331]=_0x40a9bb*_0x3126dd,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2faa4d),this['_prevConte'+'ntSizes'][_0x54691f]=_0x5902ab;}['_syncScrol'+'lbarPositi'+'on'](_0x1d5540){const _0x50979b=this['_scrollbar'+'Entities'][_0x1d5540];if(!(_0x50979b!=null&&_0x50979b['scrollbar']))return;const _0x4ec14c=this['_getAxis'](_0x1d5540);this['_scrollbar'+'UpdateFlag'+'s'][_0x1d5540]=!(0x53*0x2+-0x755+0x6af),_0x50979b['scrollbar']['value']=this['_scroll'][_0x4ec14c],_0x50979b['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x4ec14c,_0x1d5540),this['_scrollbar'+'UpdateFlag'+'s'][_0x1d5540]=!(-0x2452+-0x28*0x57+-0x3d7*-0xd);}['_syncScrol'+'lbarEnable'+'dState'](_0x58e5d8){const _0x3c520a=this['_scrollbar'+'Entities'][_0x58e5d8];if(!_0x3c520a)return;const _0x236ff3=this['_getScroll'+'ingEnabled'](_0x58e5d8),_0x588d40=this['_getScroll'+'barVisibil'+'ity'](_0x58e5d8);switch(_0x588d40){case CI:_0x3c520a['enabled']=_0x236ff3;return;case MI:_0x3c520a['enabled']=_0x236ff3&&this['_contentIs'+'LargerThan'+'Viewport'](_0x58e5d8);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x588d40),_0x3c520a['enabled']=_0x236ff3;}}['_contentIs'+'LargerThan'+'Viewport'](_0x42a9d8){return this['_getConten'+'tSize'](_0x42a9d8)>this['_getViewpo'+'rtSize'](_0x42a9d8);}['_contentPo'+'sitionToSc'+'rollValue'](_0x324706){const _0x450099=this['_getMaxOff'+'set'](pe),_0x58f9cf=this['_getMaxOff'+'set'](ke);return _0x450099===-0x387*0x5+0xd0e+0x495?ro['x']=0x134+0x5c*-0x3b+-0x8*-0x280:ro['x']=_0x324706['x']/_0x450099,_0x58f9cf===-0x12a4*0x2+0x4*-0x6fd+0x413c?ro['y']=0xa9+0x1f8b*-0x1+-0x86*-0x3b:ro['y']=_0x324706['y']/-_0x58f9cf,ro;}['_getMaxOff'+'set'](_0xe76903,_0x391e28){_0x391e28=_0x391e28===void(0x1d74+0xa*-0x2cf+-0x15e)?this['_getConten'+'tSize'](_0xe76903):_0x391e28;const _0x496b5a=this['_getViewpo'+'rtSize'](_0xe76903);return _0x391e28<_0x496b5a?-this['_getViewpo'+'rtSize'](_0xe76903):_0x496b5a-_0x391e28;}['_getMaxScr'+'ollValue'](_0x5e3b84){return this['_contentIs'+'LargerThan'+'Viewport'](_0x5e3b84)?-0x976+0xad8+0x1*-0x161:-0x887+0x1ed6+-0x1*0x164f;}['_getScroll'+'barHandleS'+'ize'](_0x8f4d72,_0x236a90){const _0x2363cb=this['_getViewpo'+'rtSize'](_0x236a90),_0x24b22e=this['_getConten'+'tSize'](_0x236a90);if(Math['abs'](_0x24b22e)<-0x1*-0x10d2+-0x29*0x48+-0x54a+0.001)return 0x2f*-0x6d+-0x13*0x18+0x14*0x117;const _0x1097b9=Math['min'](_0x2363cb/_0x24b22e,-0x126+-0xd*0x12a+0x1049),_0x16cc53=this['_toOversho'+'ot'](this['_scroll'][_0x8f4d72],_0x236a90);return _0x16cc53===-0x2*0x765+0x1021+-0x157?_0x1097b9:_0x1097b9/(0x25b9+0x170a+-0x3cc2+Math['abs'](_0x16cc53));}['_getViewpo'+'rtSize'](_0x426bb2){return this['_getSize'](_0x426bb2,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x253e51){return this['_getSize'](_0x253e51,this['_contentEn'+'tity']);}['_getSize'](_0x315992,_0x3beb76){return _0x3beb76!=null&&_0x3beb76['element']?_0x3beb76['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x315992)]:0xe24*-0x2+0x227a+-0x632;}['_getScroll'+'ingEnabled'](_0xf7a385){if(_0xf7a385===pe)return this['horizontal'];if(_0xf7a385===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0xf7a385);}['_getScroll'+'barVisibil'+'ity'](_0x404e59){if(_0x404e59===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x404e59===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x404e59);}['_getSign'](_0x3142af){return _0x3142af===pe?-0x1*0x5dd+-0x3*0x6b1+-0x1*-0x19f1:-(-0x24cb+0x1c*-0x101+0x8*0x81d);}['_getAxis'](_0x36ae65){return _0x36ae65===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x111673){return _0x111673===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x25*0xa7+0x9*0xb+-0x1886+0.0001||Math['abs'](this['_velocity']['y'])>-0x23*-0x1+-0x2f3+0x2d0+0.0001){const _0x5bb174=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x5bb174['x']+=this['_velocity']['x'],_0x5bb174['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x5bb174),this['_setScroll'+'FromConten'+'tPosition'](_0x5bb174);}this['_velocity']['x']*=0x1354+0x1*0x13d5+0x7*-0x598-this['friction'],this['_velocity']['y']*=-0x1fa0+0x3*-0x528+-0xfb3*-0x3-this['friction'];}}['_hasOversh'+'oot'](_0x41e0b3,_0x531001){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x41e0b3],_0x531001))>-0x5e9+0x1eb3+-0x18ca+0.001;}['_toOversho'+'ot'](_0x5f2c33,_0x58ab4f){const _0xf21dae=this['_getMaxScr'+'ollValue'](_0x58ab4f);return _0x5f2c33<0x254b+-0x18*0x8c+-0x182b?_0x5f2c33:_0x5f2c33>_0xf21dae?_0x5f2c33-_0xf21dae:0x5*-0x567+-0xda8+0x1d*0x167;}['_setVeloci'+'tyFromOver'+'shoot'](_0xe41b4b,_0x21034c,_0x154ac7){const _0x57c397=this['_toOversho'+'ot'](_0xe41b4b,_0x154ac7)*this['_getMaxOff'+'set'](_0x154ac7)*this['_getSign'](_0x154ac7);Math['abs'](_0x57c397)>0x1*0x11b2+-0x2cd+-0xee5&&(this['_velocity'][_0x21034c]=-_0x57c397/(this['bounceAmou'+'nt']*(-0x1207+-0x9*0x43f+0x3870)+(-0x180d+0x4c9+0x1345)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x1bb566){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x1bb566,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x1bb566)):(this['_velocity']['set'](0x23ed+-0x29a+-0x2153,-0x4*-0x21e+-0x1*0x18af+0x1037,0x47f+0x1*0x1ffd+0xa*-0x3a6),this['_prevConte'+'ntDragPosi'+'tion']=_0x1bb566['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x2a1ca6){let _0x53de25=this['_contentPo'+'sitionToSc'+'rollValue'](_0x2a1ca6);this['_isDraggin'+'g']()&&(_0x53de25=this['_applyScro'+'llValueTen'+'sion'](_0x53de25)),this['_onSetScro'+'ll'](_0x53de25['x'],_0x53de25['y'],!(-0x2341+-0xcca+-0x64*-0x7b));}['_applyScro'+'llValueTen'+'sion'](_0x4da425){let _0x1d5f39=this['_getMaxScr'+'ollValue'](pe),_0x17347a=this['_toOversho'+'ot'](_0x4da425['x'],pe);return _0x17347a>-0x247d+0x15f9+-0x4*-0x3a1?_0x4da425['x']=_0x1d5f39+(-0x1a7a*0x1+0x262a+-0xbaf)*Math['log10'](-0x58*-0x27+0xbb*-0x29+0x6*0x2c2+_0x17347a):_0x17347a<-0x16e2+0x19bd+-0x2db&&(_0x4da425['x']=-(0x25*0x7b+-0x689*-0x5+0x3*-0x10d1)*Math['log10'](-0x49*-0x4f+0xc6*0x23+-0x3198-_0x17347a)),_0x1d5f39=this['_getMaxScr'+'ollValue'](ke),_0x17347a=this['_toOversho'+'ot'](_0x4da425['y'],ke),_0x17347a>0x12*-0xa9+-0x169f*-0x1+-0xabd?_0x4da425['y']=_0x1d5f39+(0x2473+-0xef*-0x19+-0x3bc9*0x1)*Math['log10'](-0x4e*0x4c+-0x1f0b+-0x3634*-0x1+_0x17347a):_0x17347a<-0x270e+0x1b94+0xb7a&&(_0x4da425['y']=-(-0x17*0x7d+-0x2*-0xec9+-0x1256)*Math['log10'](-0x37+0xb*-0x2a9+0x1d7b*0x1-_0x17347a)),_0x4da425;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x2890d6){var _0x717450,_0xa93c12;(_0x717450=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x717450['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x2890d6),(_0xa93c12=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0xa93c12['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x2890d6);}['_setConten'+'tDraggingE'+'nabled'](_0x1a8a29){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x1a8a29);}['_onMouseWh'+'eel'](_0xad6089){var _0x323298;if(!this['useMouseWh'+'eel']||!((_0x323298=this['_contentEn'+'tity'])!=null&&_0x323298['element']))return;const _0x24b87f=_0xad6089['event'],_0x440c5c=_0x24b87f['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x25e79e=_0x24b87f['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x45935c=N['clamp'](this['_scroll']['x']+_0x440c5c,-0x575*-0x2+-0x29c*0x8+0x66*0x19,this['_getMaxScr'+'ollValue'](pe)),_0x9768ea=N['clamp'](this['_scroll']['y']+_0x25e79e,-0x27f+0x1549+-0x12ca,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new W(_0x45935c,_0x9768ea);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x45b8ae=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x45b8ae['element']&&(_0x45b8ae['element']['useInput']=!(0xb*0x343+0xdc2+-0x83*0x61));}this['_disabledC'+'ontentInpu'+'t']=!(0x3*0x8e9+-0x25e0+0xb26);}['_disableCo'+'ntentInput'](){const _0x28a142=_0x4efa3b=>{_0x4efa3b['element']&&_0x4efa3b['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x4efa3b),_0x4efa3b['element']['useInput']=!(-0x2*0x7d3+0xc1c+0x38b));const _0x2627d9=_0x4efa3b['children'];for(let _0x5a1860=0x5*0x79f+-0x281*0x3+-0x2c*0xb2,_0x29e6ab=_0x2627d9['length'];_0x5a1860<_0x29e6ab;_0x5a1860++)_0x28a142(_0x2627d9[_0x5a1860]);};if(this['_contentEn'+'tity']){const _0x6ff026=this['_contentEn'+'tity']['children'];for(let _0x5cc219=-0x26d5*0x1+0xa2c+-0x1d*-0xfd,_0x4db765=_0x6ff026['length'];_0x5cc219<_0x4db765;_0x5cc219++)_0x28a142(_0x6ff026[_0x5cc219]);}this['_disabledC'+'ontentInpu'+'t']=!(0xa3f+0x16ba+0x17*-0x16f);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1ab9+-0xe83*-0x1+0x6*0x209)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x1*0x5ab+-0x1*-0x101+-0x18e*-0x3)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1c51+-0x221c+0x2*0x1f37)),this['_setConten'+'tDraggingE'+'nabled'](!(0x6fe+-0x168+-0x595));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2d2379,_0x324291){_0x2d2379['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x324291[_0x2d2379['viewportEn'+'tity']['getGuid']()]),_0x2d2379['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x324291[_0x2d2379['contentEnt'+'ity']['getGuid']()]),_0x2d2379['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x324291[_0x2d2379['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x2d2379['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x324291[_0x2d2379['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=0x1c1d+0x77*0xa+-0x20b9;class RI{constructor(){c(this,'enabled',!(0x1be4+0xa77*0x1+-0x265b)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x1f7c+0x5*0x3a7+-0x31bf)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(0x24b*-0x9+0x5a*-0x4b+0x2f02,-0x1a06+-0x2c5*-0x1+-0x2*-0xba1)),c(this,'horizontal'+'ScrollbarV'+'isibility',0x129d+0x1c91*0x1+-0x2f2e),c(this,'verticalSc'+'rollbarVis'+'ibility',0x41*0x19+-0xb56+0x4fd*0x1),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=0x1069*0x2+0x3e+0x581*-0x6;class DI extends Xe{constructor(_0x49b62a){super(_0x49b62a),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x14a339,_0x5c665a,_0x5af055){_0x5c665a['dragThresh'+'old']===void(-0x1*0x1283+0x1ea0+0x7*-0x1bb)&&(_0x5c665a['dragThresh'+'old']=II),_0x5c665a['useMouseWh'+'eel']===void(-0x936+0xe78+-0x542)&&(_0x5c665a['useMouseWh'+'eel']=!(-0x1a*-0x11+-0x23*-0x2b+-0x1*0x79b)),_0x5c665a['mouseWheel'+'Sensitivit'+'y']===void(-0x29*0x8f+0x4a9*-0x1+0x1b90)&&(_0x5c665a['mouseWheel'+'Sensitivit'+'y']=new W(0x2254+0x12ed+-0x3540,0x1ac9+0x856+-0xa*0x383)),super['initialize'+'ComponentD'+'ata'](_0x14a339,_0x5c665a,Ag),_0x14a339['viewportEn'+'tity']=_0x5c665a['viewportEn'+'tity'],_0x14a339['contentEnt'+'ity']=_0x5c665a['contentEnt'+'ity'],_0x14a339['horizontal'+'ScrollbarE'+'ntity']=_0x5c665a['horizontal'+'ScrollbarE'+'ntity'],_0x14a339['verticalSc'+'rollbarEnt'+'ity']=_0x5c665a['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x268628){const _0x183845=this['store'];for(const _0x262c42 in _0x183845){const _0x224773=_0x183845[_0x262c42]['entity'],_0x492cba=_0x224773['scrollview'];_0x492cba['enabled']&&_0x224773['enabled']&&_0x492cba['onUpdate']();}}['_onRemoveC'+'omponent'](_0x16a70c,_0x185472){_0x185472['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x37682d,_0x7a8ede){super(_0x37682d,_0x7a8ede),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x38e411=this['system']['store'][this['entity']['getGuid']()];return _0x38e411?_0x38e411['data']:null;}set['enabled'](_0x1b31a4){this['_setValue']('enabled',_0x1b31a4);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x4a4eca){this['_setValue']('orientatio'+'n',_0x4a4eca);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x118dbb){this['_setValue']('value',_0x118dbb);}get['value'](){return this['data']['value'];}set['handleSize'](_0x1e3a3c){this['_setValue']('handleSize',_0x1e3a3c);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x38af73){if(this['_handleEnt'+'ity']===_0x38af73)return;const _0x28f20b=typeof _0x38af73=='string';this['_handleEnt'+'ity']&&_0x28f20b&&this['_handleEnt'+'ity']['getGuid']()===_0x38af73||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x38af73 instanceof De?this['_handleEnt'+'ity']=_0x38af73:_0x28f20b?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x38af73)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x28f20b&&_0x38af73&&(this['data']['handleEnti'+'ty']=_0x38af73));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0xe4751f,_0x555b25){const _0x2baffd=this['data'],_0x12e5be=_0x2baffd[_0xe4751f];_0x2baffd[_0xe4751f]=_0x555b25,this['fire']('set',_0xe4751f,_0x12e5be,_0x555b25);}['_toggleLif'+'ecycleList'+'eners'](_0x487937){this[_0x487937]('set_value',this['_onSetValu'+'e'],this),this[_0x487937]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x487937]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x3c8607,_0x36955e;(_0x3c8607=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x3c8607['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x36955e=this['_handleEnt'+'ity'])!=null&&_0x36955e['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x690490=this['_handleEnt'+'ity']['element'],_0xfb6b4b=this['_evtHandle'+'EntityChan'+'ges'];_0xfb6b4b['push'](_0x690490['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0xfb6b4b['push'](_0x690490['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0xfb6b4b['push'](_0x690490['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0xfb6b4b['push'](_0x690490['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x1dcb23=-0x6d*0x1b+0x80*-0xd+0x11ff;_0x1dcb23<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x1dcb23++)this['_evtHandle'+'EntityChan'+'ges'][_0x1dcb23]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0xf*-0x246+0xe5*0x9+-0x2a27;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x4d2f91){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x4d2f91[this['_getAxis']()]));}['_onSetValu'+'e'](_0x24c1a3,_0x25385d,_0x28baca){Math['abs'](_0x28baca-_0x25385d)>-0xc05*0x1+-0x24d3+-0x3*-0x1048+0.00001&&(this['data']['value']=N['clamp'](_0x28baca,0x67e*-0x1+0x7e*0x2f+0x58c*-0x3,0x7*-0x2e1+-0x1*-0xd13+0x715*0x1),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x3e2c92,_0x4ed7f6,_0x5d49c2){Math['abs'](_0x5d49c2-_0x4ed7f6)>-0x1e76+0x4be+0x19b8+0.00001&&(this['data']['handleSize']=N['clamp'](_0x5d49c2,-0x2176+0x1e64+0x312,0x14b*-0x9+0x17ea+-0xc46),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x2a0d82,_0x45eae5,_0x493ff2){var _0x788638;_0x493ff2!==_0x45eae5&&((_0x788638=this['_handleEnt'+'ity'])!=null&&_0x788638['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x6*-0x5d9+0x1fe4+0x332);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x4bb144=this['_handleEnt'+'ity'],_0x18d324=_0x4bb144==null?void(0x110a+0xbfc+-0x1d06):_0x4bb144['element'];if(_0x4bb144){const _0x1de397=_0x4bb144['getLocalPo'+'sition']();_0x1de397[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x4bb144['setLocalPo'+'sition'](_0x1de397);}_0x18d324&&(_0x18d324[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x1a2044){return _0x1a2044*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x520efa){return _0x520efa*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x2b9+-0x2f6*0x5+0xc15+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x199*0x4+0x169e+-0x103a;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?-0x1*0x1f55+-0x1d5f+0x1*0x3cb5:-(-0x15c+0x2284+-0x2127);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x283ab6){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x283ab6);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x18b0+0x2*-0xdb2+0x4*0xd05));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0xad5+0x96*0xf+0x20c));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x400804,_0x466378){_0x400804['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x466378[_0x400804['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x5*-0x5bd+-0x2657+0x4308)),c(this,'orientatio'+'n',pe),c(this,'value',-0x19d8+-0x1*-0xfa3+-0x3*-0x367),c(this,'handleSize',0xb4*-0x1+0x1f*0xa7+-0x1*0x1385),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0xe9ab61){super(_0xe9ab61),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x59581d,_0x15a00c,_0x14553f){super['initialize'+'ComponentD'+'ata'](_0x59581d,_0x15a00c,Eg),_0x59581d['handleEnti'+'ty']=_0x15a00c['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x5a995b){_0x5a995b['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x50e83e,_0x4b2d79){_0x4b2d79['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x17c5+0x238b+-0x3b4f),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x26c9f4,_0x1b2ca3='Untitled',_0x5c5754={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x26c9f4,this['_assets']=_0x26c9f4['system']['app']['assets'],this['_manager']=_0x26c9f4['system']['manager'],this['name']=_0x1b2ca3,this['_volume']=_0x5c5754['volume']!==void(0x58b+0x19aa+-0x1f35)?N['clamp'](Number(_0x5c5754['volume'])||-0x1*0x953+0x265a*-0x1+0x2fad*0x1,0x23ad+0x3ad+-0x275a,0x4d*0x1f+0x1*0x23e3+-0x2d35):0x928+-0x21d*-0x11+-0x2d14,this['_pitch']=_0x5c5754['pitch']!==void(-0x323*-0x7+-0x685*0x5+0x1*0xaa4)?Math['max'](-0x143c+0x1108+0x334+0.01,Number(_0x5c5754['pitch'])||0x1126+0x75*-0x23+0x3b*-0x5):0x1a3a+-0x8*-0x3a1+-0x3741,this['_loop']=!!(_0x5c5754['loop']!==void(0x1c0d+-0xb*0x9+-0x1baa)&&_0x5c5754['loop']),this['_duration']=_0x5c5754['duration']>-0x28a*-0x6+0xc79+0x29*-0xad?_0x5c5754['duration']:null,this['_startTime']=Math['max'](0x1d+-0xe67+0x1*0xe4a,Number(_0x5c5754['startTime'])||-0x272+0x20c9+0x9*-0x35f),this['_overlap']=!!_0x5c5754['overlap'],this['_autoPlay']=!!_0x5c5754['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x5c5754['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0xbc95f5){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x5a2fee=_0xbc95f5;if(_0x5a2fee||(_0x5a2fee=this['_createIns'+'tance'](),this['instances']['push'](_0x5a2fee)),this['isLoaded'])_0x5a2fee['play']();else{const _0x4d8cc0=function(_0x446b8b){const _0x248fd9=_0x5a2fee['_playWhenL'+'oaded'];_0x5a2fee['sound']=_0x446b8b,_0x248fd9&&_0x5a2fee['play']();};this['off']('load',_0x4d8cc0),this['once']('load',_0x4d8cc0),this['load']();}return _0x5a2fee;}['pause'](){let _0x337518=!(-0x10*-0x3+-0xec7+0x74c*0x2);const _0x5b5f59=this['instances'];for(let _0xee152d=0xc8+0x1921+-0x9*0x2e1,_0x307a27=_0x5b5f59['length'];_0xee152d<_0x307a27;_0xee152d++)_0x5b5f59[_0xee152d]['pause']()&&(_0x337518=!(0x1c09*0x1+-0x2*-0x822+-0x2c4d));return _0x337518;}['resume'](){let _0x2bb12a=!(-0x319*0xb+-0x13*-0x6+-0x11f*-0x1e);const _0x111c8e=this['instances'];for(let _0x5bcc0d=0x3*-0xaf5+0x1c3d*0x1+0x1*0x4a2,_0x4a1a45=_0x111c8e['length'];_0x5bcc0d<_0x4a1a45;_0x5bcc0d++)_0x111c8e[_0x5bcc0d]['resume']()&&(_0x2bb12a=!(-0x2501+-0x172f+0x10*0x3c3));return _0x2bb12a;}['stop'](){let _0x2b1833=!(-0xa33*0x2+0x121c+0x24b);const _0x245975=this['instances'];let _0x222797=_0x245975['length'];for(;_0x222797--;)_0x245975[_0x222797]['stop'](),_0x2b1833=!(0x19*0x13d+0x2683+0x4*-0x115e);return _0x245975['length']=-0x2b*-0xd0+-0x3a8+-0x1f48,_0x2b1833;}['load'](){if(!this['_hasAsset']())return;const _0x144428=this['_assets']['get'](this['_asset']);if(!_0x144428){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x144428['off']('remove',this['_onAssetRe'+'moved'],this),_0x144428['on']('remove',this['_onAssetRe'+'moved'],this),!_0x144428['resource']){_0x144428['off']('load',this['_onAssetLo'+'ad'],this),_0x144428['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x144428);return;}this['fire']('load',_0x144428['resource']);}['setExterna'+'lNodes'](_0x1eab4c,_0x67098f){if(!_0x1eab4c){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x67098f||(_0x67098f=_0x1eab4c),this['_firstNode']=_0x1eab4c,this['_lastNode']=_0x67098f,!this['_overlap']){const _0xf5b410=this['instances'];for(let _0x306c8e=0xde8+-0x3e*-0x3a+-0x1bf4,_0x521f54=_0xf5b410['length'];_0x306c8e<_0x521f54;_0x306c8e++)_0xf5b410[_0x306c8e]['setExterna'+'lNodes'](_0x1eab4c,_0x67098f);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x5492a8=this['instances'];for(let _0x20670b=0x1bd+-0x100e+0x1*0xe51,_0x195551=_0x5492a8['length'];_0x20670b<_0x195551;_0x20670b++)_0x5492a8[_0x20670b]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x6eab4b=null;const _0x125144=this['_component'];let _0x36e8f5=null;if(this['_hasAsset']()){const _0x49216d=this['_assets']['get'](this['_asset']);_0x49216d&&(_0x36e8f5=_0x49216d['resource']);}const _0x5f3339=OI;return _0x5f3339['volume']=this['_volume']*_0x125144['volume'],_0x5f3339['pitch']=this['_pitch']*_0x125144['pitch'],_0x5f3339['loop']=this['_loop'],_0x5f3339['startTime']=this['_startTime'],_0x5f3339['duration']=this['_duration'],_0x5f3339['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x5f3339['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x5f3339['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x5f3339['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x5f3339['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x125144['positional']?(_0x5f3339['position']['copy'](_0x125144['entity']['getPositio'+'n']()),_0x5f3339['maxDistanc'+'e']=_0x125144['maxDistanc'+'e'],_0x5f3339['refDistanc'+'e']=_0x125144['refDistanc'+'e'],_0x5f3339['rollOffFac'+'tor']=_0x125144['rollOffFac'+'tor'],_0x5f3339['distanceMo'+'del']=_0x125144['distanceMo'+'del'],_0x6eab4b=new jn(this['_manager'],_0x36e8f5,_0x5f3339)):_0x6eab4b=new ss(this['_manager'],_0x36e8f5,_0x5f3339),this['_firstNode']&&_0x6eab4b['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x6eab4b;}['_onInstanc'+'ePlay'](_0x1cdb6c){this['fire']('play',_0x1cdb6c),this['_component']['fire']('play',this,_0x1cdb6c);}['_onInstanc'+'ePause'](_0x4de461){this['fire']('pause',_0x4de461),this['_component']['fire']('pause',this,_0x4de461);}['_onInstanc'+'eResume'](_0x1edd31){this['fire']('resume',_0x1edd31),this['_component']['fire']('resume',this,_0x1edd31);}['_onInstanc'+'eStop'](_0x483f22){const _0x1352b8=this['instances']['indexOf'](_0x483f22);_0x1352b8!==-(-0x187a+0x238+0x1*0x1643)&&this['instances']['splice'](_0x1352b8,-0x1efa+-0x1168+-0x1021*-0x3),this['fire']('stop',_0x483f22),this['_component']['fire']('stop',this,_0x483f22);}['_onInstanc'+'eEnd'](_0x4f0d31){const _0x5c3f65=this['instances']['indexOf'](_0x4f0d31);_0x5c3f65!==-(-0x11c7+-0x2*0x417+-0xcfb*-0x2)&&this['instances']['splice'](_0x5c3f65,-0x919+0xab8+-0x6*0x45),this['fire']('end',_0x4f0d31),this['_component']['fire']('end',this,_0x4f0d31);}['_onAssetAd'+'d'](_0x3ef758){this['load']();}['_onAssetLo'+'ad'](_0x345962){this['load']();}['_onAssetRe'+'moved'](_0x2027d2){_0x2027d2['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x2027d2['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x1ab6ef){const _0x8932e2=this['instances'];for(let _0x8859a0=0x1975+-0x1*-0xe36+-0x27ab,_0x573c22=_0x8932e2['length'];_0x8859a0<_0x573c22;_0x8859a0++)_0x8932e2[_0x8859a0]['position']=_0x1ab6ef;}set['asset'](_0x2af934){const _0x5b43d0=this['_asset'];if(_0x5b43d0){this['_assets']['off']('add:'+_0x5b43d0,this['_onAssetAd'+'d'],this);const _0x22ada4=this['_assets']['get'](_0x5b43d0);_0x22ada4&&_0x22ada4['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x2af934,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x94e3c1){this['_autoPlay']=!!_0x94e3c1;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x5a6cf0){if(this['_duration']=Math['max'](-0x200c+-0x21ff+-0x601*-0xb,Number(_0x5a6cf0)||-0x1*-0xf61+0x10ef+0x178*-0x16)||null,!this['_overlap']){const _0x7a83dc=this['instances'];for(let _0x4f017d=-0x15*-0x13+-0x4*0x27e+0x869,_0x1335f3=_0x7a83dc['length'];_0x4f017d<_0x1335f3;_0x4f017d++)_0x7a83dc[_0x4f017d]['duration']=this['_duration'];}}get['duration'](){let _0x38dd36=0xe1b+-0xb5f+-0x2bc;if(this['_hasAsset']()){const _0x8dd66c=this['_assets']['get'](this['_asset']);_0x38dd36=_0x8dd66c!=null&&_0x8dd66c['resource']?_0x8dd66c['resource']['duration']:0x74*-0x1+-0x1174+-0x1*-0x11e8;}return this['_duration']!=null?this['_duration']%(_0x38dd36||0x3d9+-0xa*-0x2f3+0x1f6*-0x11):_0x38dd36;}get['isLoaded'](){if(this['_hasAsset']()){const _0x10d91d=this['_assets']['get'](this['_asset']);if(_0x10d91d)return!!_0x10d91d['resource'];}return!(0x187e+0xb*-0x2+-0x1867*0x1);}get['isPaused'](){const _0x1b1e10=this['instances'],_0x5ef2af=_0x1b1e10['length'];if(_0x5ef2af===-0xe*0xd+0x5f*-0x4b+0x1c8b)return!(-0x3a*0x6+0x1*0x23e+-0xe1);for(let _0x590f16=-0x1*0x2126+-0x1*0xec3+0x2fe9;_0x590f16<_0x5ef2af;_0x590f16++)if(!_0x1b1e10[_0x590f16]['isPaused'])return!(0x26*0x61+-0x23ea+0x1585);return!(-0x1*0xfa3+-0x49*0x5e+0x2a71);}get['isPlaying'](){const _0x50c012=this['instances'];for(let _0x121745=-0x1537*0x1+0x14a4*-0x1+0x29db,_0x2f7226=_0x50c012['length'];_0x121745<_0x2f7226;_0x121745++)if(_0x50c012[_0x121745]['isPlaying'])return!(0x1*-0x1d3d+-0x199*-0x13+-0x11e);return!(0x109+0x1724+-0x182c);}get['isStopped'](){const _0x595800=this['instances'];for(let _0x477512=0x6fd*-0x3+-0x9*0x2a4+-0x1*-0x2cbb,_0x49f3d5=_0x595800['length'];_0x477512<_0x49f3d5;_0x477512++)if(!_0x595800[_0x477512]['isStopped'])return!(0x1*-0x404+-0x1352+0x4ab*0x5);return!(0x2f9*0x2+-0x1b*0xcd+-0x1*-0xfad);}set['loop'](_0x46220e){this['_loop']=!!_0x46220e;const _0x3e4ce8=this['instances'];for(let _0x4430fe=-0x128b*0x2+0x57b+0x1f9b*0x1,_0x4c52a5=_0x3e4ce8['length'];_0x4430fe<_0x4c52a5;_0x4430fe++)_0x3e4ce8[_0x4430fe]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x4327f1){this['_overlap']=!!_0x4327f1;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x148e3c){if(this['_pitch']=Math['max'](Number(_0x148e3c)||0x9dd+-0x21a0+0x17c3,-0x31*0xa7+-0x148f+0x12*0x2eb+0.01),!this['_overlap']){const _0x305550=this['instances'];for(let _0x43d999=0xdf*-0x22+0x1*-0x1ff0+0x3d8e,_0x1291af=_0x305550['length'];_0x43d999<_0x1291af;_0x43d999++)_0x305550[_0x43d999]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x3156c5){if(this['_startTime']=Math['max'](-0x2d5*0x1+0x2e*-0xb+0x4cf,Number(_0x3156c5)||-0x1*0x4dc+0x35*0x5f+-0x11*0xdf),!this['_overlap']){const _0x41605a=this['instances'];for(let _0x2cd0ca=-0x1cfa+0x151c+-0x7de*-0x1,_0x2ff737=_0x41605a['length'];_0x2cd0ca<_0x2ff737;_0x2cd0ca++)_0x41605a[_0x2cd0ca]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x2bcd65){if(this['_volume']=N['clamp'](Number(_0x2bcd65)||0x85d+-0x8c5+0x68,-0xb*-0x4+-0x1*-0x168b+-0x5*0x48b,0x36a+0x18bf+-0x1c28),!this['_overlap']){const _0xe2e040=this['instances'];for(let _0x5f0162=0x7*-0x172+0x1451+-0xa33,_0xd8ad30=_0xe2e040['length'];_0x5f0162<_0xd8ad30;_0x5f0162++)_0xe2e040[_0x5f0162]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',-0x1c34+-0x2a9+-0x6*-0x525),c(this,'_pitch',-0x1c57+-0x23c6+0x236*0x1d),c(this,'_positiona'+'l',!(0xa9*0x35+0x17*-0x101+-0xbe6)),c(this,'_refDistan'+'ce',-0x1d2d+-0x1133*0x1+0x17f*0x1f),c(this,'_maxDistan'+'ce',0x1*0x27c2+0x1*0x26b0+-0x2762),c(this,'_rollOffFa'+'ctor',-0x4*0x926+-0x1f53+0x21f6*0x2),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x6f532d,_0x2ce351,_0x572352){const _0x2bc221=this['_slots'];for(const _0x1f7fe9 in _0x2bc221){const _0x16d71d=_0x2bc221[_0x1f7fe9];if(!_0x16d71d['overlap']){const _0x2789b3=_0x16d71d['instances'];for(let _0x2e88b6=0x9bc+-0x13e*0x1+-0x43f*0x2,_0xf2dc07=_0x2789b3['length'];_0x2e88b6<_0xf2dc07;_0x2e88b6++)_0x2789b3[_0x2e88b6][_0x6f532d]=_0x572352?_0x16d71d[_0x6f532d]*_0x2ce351:_0x2ce351;}}}set['distanceMo'+'del'](_0x1638e7){this['_distanceM'+'odel']=_0x1638e7,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x1638e7,!(-0x1*-0x23b1+-0x19*-0xc7+0x371f*-0x1));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x5c7d0d){this['_maxDistan'+'ce']=_0x5c7d0d,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x5c7d0d,!(0x16a9*-0x1+0x1*0x162e+0x7c));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x4b32e3){this['_refDistan'+'ce']=_0x4b32e3,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x4b32e3,!(0xe9*-0x8+0x24f2+0x3*-0x9e3));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0xf6b4e9){this['_rollOffFa'+'ctor']=_0xf6b4e9,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0xf6b4e9,!(0xc1*-0x12+-0x11bd+0x1f50));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x343497){this['_pitch']=_0x343497,this['_updateSou'+'ndInstance'+'s']('pitch',_0x343497,!(-0x53e*-0x5+-0x170f+-0x327*0x1));}get['pitch'](){return this['_pitch'];}set['volume'](_0x162b31){this['_volume']=_0x162b31,this['_updateSou'+'ndInstance'+'s']('volume',_0x162b31,!(-0x53*-0x7+0x851+-0xa96));}get['volume'](){return this['_volume'];}set['positional'](_0x4ff6f7){this['_positiona'+'l']=_0x4ff6f7;const _0xdc5ff5=this['_slots'];for(const _0x3b5968 in _0xdc5ff5){const _0x565f37=_0xdc5ff5[_0x3b5968];if(!_0x565f37['overlap']){const _0x3f3c1c=_0x565f37['instances'],_0x1c4d86=_0x3f3c1c['length'];for(let _0x1728f1=_0x1c4d86-(0xba+-0xf*-0x178+0x48d*-0x5);_0x1728f1>=0x5*-0x6fd+-0x1175+0x2c2*0x13;_0x1728f1--){const _0xbbc0b9=_0x3f3c1c[_0x1728f1]['isPlaying']||_0x3f3c1c[_0x1728f1]['isSuspende'+'d'],_0x101cfc=_0x3f3c1c[_0x1728f1]['currentTim'+'e'];_0xbbc0b9&&_0x3f3c1c[_0x1728f1]['stop']();const _0xa452d3=_0x565f37['_createIns'+'tance']();_0xbbc0b9&&(_0xa452d3['play'](),_0xa452d3['currentTim'+'e']=_0x101cfc),_0x3f3c1c['push'](_0xa452d3);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x11d21f){const _0x5218bf=this['_slots'];if(_0x5218bf){for(const _0x14ad67 in _0x5218bf)_0x5218bf[_0x14ad67]['stop']();}const _0x324e1a={};for(const _0xe8546a in _0x11d21f)_0x11d21f[_0xe8546a]instanceof er?_0x324e1a[_0x11d21f[_0xe8546a]['name']]=_0x11d21f[_0xe8546a]:_0x11d21f[_0xe8546a]['name']&&(_0x324e1a[_0x11d21f[_0xe8546a]['name']]=new er(this,_0x11d21f[_0xe8546a]['name'],_0x11d21f[_0xe8546a]));this['_slots']=_0x324e1a,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x32b7d3=this['_slots'],_0x55bf77=this['_playingBe'+'foreDisabl'+'e'];for(const _0x12304a in _0x32b7d3){const _0x165d89=_0x32b7d3[_0x12304a];_0x165d89['autoPlay']&&_0x165d89['isStopped']?_0x165d89['play']():_0x55bf77[_0x12304a]?_0x165d89['resume']():_0x165d89['isLoaded']||_0x165d89['load']();}}['onDisable'](){const _0x498c29=this['_slots'],_0x3899c2={};for(const _0x462a02 in _0x498c29)_0x498c29[_0x462a02]['overlap']||_0x498c29[_0x462a02]['isPlaying']&&(_0x498c29[_0x462a02]['pause'](),_0x3899c2[_0x462a02]=!(0x1*-0x2353+0x21ff+0x154));this['_playingBe'+'foreDisabl'+'e']=_0x3899c2;}['onRemove'](){this['off']();}['addSlot'](_0xaf9877,_0x1f28aa){const _0x58fab1=this['_slots'];if(_0x58fab1[_0xaf9877])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0xaf9877+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x956c8=new er(this,_0xaf9877,_0x1f28aa);return _0x58fab1[_0xaf9877]=_0x956c8,_0x956c8['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x956c8['play'](),_0x956c8;}['removeSlot'](_0xc5aa54){const _0x18bec8=this['_slots'];_0x18bec8[_0xc5aa54]&&(_0x18bec8[_0xc5aa54]['stop'](),delete _0x18bec8[_0xc5aa54]);}['slot'](_0x4f203b){return this['_slots'][_0x4f203b];}['_getSlotPr'+'operty'](_0x5419fd,_0x2534d4){if(!this['enabled']||!this['entity']['enabled'])return;const _0x4512f5=this['_slots'][_0x5419fd];if(!_0x4512f5){v['warn']('Trying\x20to\x20'+'get\x20'+_0x2534d4+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x5419fd+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x4512f5[_0x2534d4];}['isPlaying'](_0x4b2936){return this['_getSlotPr'+'operty'](_0x4b2936,'isPlaying')||!(0x1*-0x1668+0x11*-0x1c4+-0x346d*-0x1);}['isLoaded'](_0x333338){return this['_getSlotPr'+'operty'](_0x333338,'isLoaded')||!(-0x1b1+-0x12f2+0x14a4);}['isPaused'](_0x550685){return this['_getSlotPr'+'operty'](_0x550685,'isPaused')||!(0x1ca5*-0x1+0x23e1+-0x3*0x269);}['isStopped'](_0x171ebe){return this['_getSlotPr'+'operty'](_0x171ebe,'isStopped')||!(-0x250f+-0x190e+-0x2*-0x1f0f);}['play'](_0x2b1e47){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x5ac563=this['_slots'][_0x2b1e47];return _0x5ac563?_0x5ac563['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2b1e47+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x4a69d9){const _0x247c8c=this['_slots'];if(_0x4a69d9){const _0x439c46=_0x247c8c[_0x4a69d9];if(!_0x439c46){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x4a69d9+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x439c46['pause']();}else{for(const _0x28e788 in _0x247c8c)_0x247c8c[_0x28e788]['pause']();}}['resume'](_0x534bf){const _0x52742a=this['_slots'];if(_0x534bf){const _0x5871f6=_0x52742a[_0x534bf];if(!_0x5871f6){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x534bf+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x5871f6['isPaused']&&_0x5871f6['resume']();}else{for(const _0x12c12b in _0x52742a)_0x52742a[_0x12c12b]['resume']();}}['stop'](_0x4868a6){const _0x4ea352=this['_slots'];if(_0x4868a6){const _0x398ba2=_0x4ea352[_0x4868a6];if(!_0x398ba2){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x4868a6+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x398ba2['stop']();}else{for(const _0x417543 in _0x4ea352)_0x4ea352[_0x417543]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x1b*-0x159+-0x1cc2+0x4125);}}const xx=['enabled'];class BI extends Xe{constructor(_0x2ae7ae){super(_0x2ae7ae),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x2ae7ae['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x373c00){this['manager']['volume']=_0x373c00;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x52cedb,_0x23bf65,_0x56e01e){_0x56e01e=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x50dc2f=-0x12*-0x5e+0x118f*-0x1+-0x1*-0xaf3;_0x50dc2f<_0x56e01e['length'];_0x50dc2f++)_0x23bf65['hasOwnProp'+'erty'](_0x56e01e[_0x50dc2f])&&(_0x52cedb[_0x56e01e[_0x50dc2f]]=_0x23bf65[_0x56e01e[_0x50dc2f]]);super['initialize'+'ComponentD'+'ata'](_0x52cedb,_0x23bf65,['enabled']);}['cloneCompo'+'nent'](_0x13ff02,_0x175dfb){const _0x158a64=_0x13ff02['sound'],_0x24369c=_0x158a64['slots'],_0x42505f={};for(const _0x5a0da9 in _0x24369c){const _0x217e76=_0x24369c[_0x5a0da9];_0x42505f[_0x5a0da9]={'name':_0x217e76['name'],'volume':_0x217e76['volume'],'pitch':_0x217e76['pitch'],'loop':_0x217e76['loop'],'duration':_0x217e76['duration'],'startTime':_0x217e76['startTime'],'overlap':_0x217e76['overlap'],'autoPlay':_0x217e76['autoPlay'],'asset':_0x217e76['asset']};}const _0x59928b={'distanceModel':_0x158a64['distanceMo'+'del'],'enabled':_0x158a64['enabled'],'maxDistance':_0x158a64['maxDistanc'+'e'],'pitch':_0x158a64['pitch'],'positional':_0x158a64['positional'],'refDistance':_0x158a64['refDistanc'+'e'],'rollOffFactor':_0x158a64['rollOffFac'+'tor'],'slots':_0x42505f,'volume':_0x158a64['volume']};return this['addCompone'+'nt'](_0x175dfb,_0x59928b);}['onUpdate'](_0x475e57){const _0x500fb3=this['store'];for(const _0x7c74b5 in _0x500fb3)if(_0x500fb3['hasOwnProp'+'erty'](_0x7c74b5)){const _0x6c669c=_0x500fb3[_0x7c74b5]['entity'];if(_0x6c669c['enabled']){const _0x31038b=_0x6c669c['sound'];if(_0x31038b['enabled']&&_0x31038b['positional']){const _0x52da19=_0x6c669c['getPositio'+'n'](),_0x42f6dc=_0x31038b['slots'];for(const _0x3ee2e8 in _0x42f6dc)_0x42f6dc[_0x3ee2e8]['updatePosi'+'tion'](_0x52da19);}}}}['onBeforeRe'+'move'](_0x53e8ce,_0x200dbc){const _0x569c49=_0x200dbc['slots'];for(const _0x37bc48 in _0x569c49)_0x569c49[_0x37bc48]['overlap']||_0x569c49[_0x37bc48]['stop']();_0x200dbc['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x582fed,_0x56af54){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x582fed,this['_frame']=-0x1b7*0x11+0x8b1+-0x1b*-0xc2,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x56af54['spriteAsse'+'t'],this['name']=_0x56af54['name'],this['fps']=_0x56af54['fps']||0x852+0x1*0x2ef+-0xb41,this['loop']=_0x56af54['loop']||!(0xd1*0x11+-0xac*0x2e+0x1108),this['_playing']=!(-0x32f*-0x2+-0x1*0xdaf+0x752),this['_paused']=!(0xa87*-0x3+0x1b3d*0x1+0x1*0x459),this['_time']=0x1606+-0x2e8+-0x98f*0x2);}get['duration'](){if(this['_sprite']){const _0x4fdd87=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x4fdd87);}return 0x6*0xb4+0x17b1*0x1+-0x1be9;}set['frame'](_0xd1c95f){this['_setFrame'](_0xd1c95f);const _0x3681e2=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x3681e2);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x4093d1){var _0x5661e7;if(this['_sprite']&&((_0x5661e7=this['_evtSetMes'+'hes'])==null||_0x5661e7['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x4093d1,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0xe42d8a;!_0x4093d1||!_0x4093d1['atlas']?(_0xe42d8a=this['_component']['_meshInsta'+'nce'],_0xe42d8a&&(_0xe42d8a['deletePara'+'meter']('texture_em'+'issiveMap'),_0xe42d8a['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x4093d1['atlas']['texture']&&(_0xe42d8a=this['_component']['_meshInsta'+'nce'],_0xe42d8a&&(_0xe42d8a['setParamet'+'er']('texture_em'+'issiveMap',_0x4093d1['atlas']['texture']),_0xe42d8a['setParamet'+'er']('texture_op'+'acityMap',_0x4093d1['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x4028d1){const _0x41b0b0=this['_component']['system']['app']['assets'];let _0x79b696=_0x4028d1;if(_0x4028d1 instanceof le&&(_0x79b696=_0x4028d1['id']),this['_spriteAss'+'et']!==_0x79b696){if(this['_spriteAss'+'et']){const _0x28e1fa=_0x41b0b0['get'](this['_spriteAss'+'et']);_0x28e1fa&&this['_unbindSpr'+'iteAsset'](_0x28e1fa);}if(this['_spriteAss'+'et']=_0x79b696,this['_spriteAss'+'et']){const _0x352ba2=_0x41b0b0['get'](this['_spriteAss'+'et']);_0x352ba2?this['_bindSprit'+'eAsset'](_0x352ba2):(this['sprite']=null,_0x41b0b0['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x164ed3){this['_setTime'](_0x164ed3),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x14*0xb7+0x266f+-0x1822),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0x221*-0x1+-0x1a39*-0x1+-0x1c5a;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x3c97b6){this['_component']['system']['app']['assets']['off']('add:'+_0x3c97b6['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x3c97b6['id']&&this['_bindSprit'+'eAsset'](_0x3c97b6);}['_bindSprit'+'eAsset'](_0x3a583d){_0x3a583d['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x3a583d['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x3a583d['resource']?this['_onSpriteA'+'ssetLoad'](_0x3a583d):this['_component']['system']['app']['assets']['load'](_0x3a583d);}['_unbindSpr'+'iteAsset'](_0x123102){_0x123102&&(_0x123102['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x123102['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x123102['resource']&&!_0x123102['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x123102['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x35fa5d){if(!_0x35fa5d['resource'])this['sprite']=null;else{if(_0x35fa5d['resource']['atlas'])this['sprite']=_0x35fa5d['resource'];else{const _0xf90437=_0x35fa5d['data']['textureAtl'+'asAsset'],_0x368c34=this['_component']['system']['app']['assets'];_0x368c34['off']('load:'+_0xf90437,this['_onTexture'+'AtlasLoad'],this),_0x368c34['once']('load:'+_0xf90437,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x82ab43){const _0x314dda=this['_spriteAss'+'et'];_0x314dda instanceof le?this['_onSpriteA'+'ssetLoad'](_0x314dda):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x314dda));}['_onSpriteA'+'ssetRemove'](_0x29ba65){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x3932a3){if(this['fps']===-0x29*0xb0+0x1036+0xbfa||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x2025b7=this['fps']<-0x1a*-0xfb+-0x1*-0x187d+-0x31fb?-(0x1f45+-0x1d65+-0x1df*0x1):-0x2*0xa5e+-0xd3d+0x21fa,_0x33d4d0=this['_time']+_0x3932a3*this['_component']['speed']*_0x2025b7,_0x1590fb=this['duration'],_0x4c0de3=_0x33d4d0>_0x1590fb||_0x33d4d0<0x12b6+0x11c9+0x247f*-0x1;this['_setTime'](_0x33d4d0);let _0x374e94=this['frame'];this['_sprite']?_0x374e94=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x1590fb):_0x374e94=0x27*-0x26+-0x2423+0x29ed,_0x374e94!==this['_frame']&&this['_setFrame'](_0x374e94),_0x4c0de3&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1*0x4d4+0xcca+-0x119d),this['_paused']=!(-0x2*0x8b3+0x26c*-0x4+0x56b*0x5),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0xefbc2){this['_time']=_0xefbc2;const _0x124eb4=this['duration'];this['_time']<-0x601+-0x1*0x83+0x684?this['loop']?this['_time']=this['_time']%_0x124eb4+_0x124eb4:this['_time']=0x4*0x819+-0xe7f+-0x11e5:this['_time']>_0x124eb4&&(this['loop']?this['_time']%=_0x124eb4:this['_time']=_0x124eb4);}['_setFrame'](_0x219a03){this['_sprite']?this['_frame']=N['clamp'](_0x219a03,0xbf2+0x2536+-0x8f*0x58,this['_sprite']['frameKeys']['length']-(0x8*-0x70+0x1*0x3f4+-0x73)):this['_frame']=_0x219a03,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x2d76b1=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x2d76b1['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0xb18+0x2*-0x2d6+0x10c4),this['_paused']=!(-0x16fe+-0x1040*0x2+0x377f),this['frame']=-0x3c*-0x8b+0x1*0x372+-0x2406,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x257b+0x229*-0x2+0x2129*-0x1),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x127e+0x494*-0x2+-0x955),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x6a*-0x17+-0x19*-0xca+-0xa33),this['_paused']=!(-0xc*0x1ad+0x30*0x18+0x1*0xf9d),this['_time']=0x1b03*0x1+-0x16+-0x3d*0x71,this['frame']=0x19c5*0x1+-0x13ac+-0x619,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x3c18b8,_0x1b3a37){super(_0x3c18b8,_0x1b3a37),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x3c18b8['defaultMat'+'erial'],this['_color']=new Y(0x7cf+-0x18e9+0x111b,-0x2*-0xb75+0x1ed*-0x1+-0x14fc,0x4b0+0x122c+-0x1*0x16db,0x1260+-0x4f9+-0xa*0x157),this['_colorUnif'+'orm']=new Float32Array(-0x1b1c+0x826+-0x1*-0x12f9),this['_speed']=0x1*0x1cf1+0x7*0x1b7+-0x2f*0xdf,this['_flipX']=!(-0x71d+-0x20c2+0x27e0),this['_flipY']=!(-0x6*0x61f+-0x1115+0x2*0x1ae8),this['_width']=0x8ad*0x1+-0x9c3+-0x5d*-0x3,this['_height']=-0x803*-0x4+-0x1535+-0xad6,this['_drawOrder']=-0x11d7+0x3*0xb57+-0x102e,this['_layers']=[Fi],this['_outerScal'+'e']=new W(-0x2ef*-0x5+0xbdf+-0x1a89,0x94f+0x14e8+-0x1e36),this['_outerScal'+'eUniform']=new Float32Array(0x125*0x7+-0x1bd0+-0x1*-0x13cf),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0x1*0x1b64+-0x5*0x635+0x3a9),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x3d*-0x1c+-0x1327*0x1+0x19d7),this['_batchGrou'+'pId']=-(0x1503+-0x1160+-0x136*0x3),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x1b3a37['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x1b3a37,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1cbe+0x28*0xc5+-0x3b85*0x1),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x1e7c+0x10e0+-0x2f5b*0x1),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x42162c){this['_type']!==_0x42162c&&(this['_type']=_0x42162c,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0xbe49ee){this['_currentCl'+'ip']['frame']=_0xbe49ee;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x2b5056){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x2b5056;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x521854){this['_currentCl'+'ip']['sprite']=_0x521854;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x313ed9){this['_material']=_0x313ed9,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x313ed9);}get['material'](){return this['_material'];}set['color'](_0x1bbe3b){this['_color']['r']=_0x1bbe3b['r'],this['_color']['g']=_0x1bbe3b['g'],this['_color']['b']=_0x1bbe3b['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x654+-0x966+-0x7dd*-0x2]=this['_color']['r'],this['_colorUnif'+'orm'][-0x65f*0x5+0x63e+0x199e]=this['_color']['g'],this['_colorUnif'+'orm'][0xb0e+0x2*-0x131+-0x8aa]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x46090e){this['_color']['a']=_0x46090e,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x46090e);}get['opacity'](){return this['_color']['a'];}set['clips'](_0xaeaed6){if(!_0xaeaed6){for(const _0x272010 in this['_clips'])this['removeClip'](_0x272010);return;}for(const _0x35f9ac in this['_clips']){let _0x4a1735=!(-0x19*-0x8b+0xfae+-0x340*0x9);for(const _0x829d20 in _0xaeaed6)if(_0xaeaed6[_0x829d20]['name']===_0x35f9ac){_0x4a1735=!(0xcd1*0x1+0x2*-0x9e+-0xb95*0x1),this['_clips'][_0x35f9ac]['fps']=_0xaeaed6[_0x829d20]['fps'],this['_clips'][_0x35f9ac]['loop']=_0xaeaed6[_0x829d20]['loop'],_0xaeaed6[_0x829d20]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x35f9ac]['sprite']=_0xaeaed6[_0x829d20]['sprite']:_0xaeaed6[_0x829d20]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x35f9ac]['spriteAsse'+'t']=_0xaeaed6[_0x829d20]['spriteAsse'+'t']);break;}_0x4a1735||this['removeClip'](_0x35f9ac);}for(const _0x2146da in _0xaeaed6)this['_clips'][_0xaeaed6[_0x2146da]['name']]||this['addClip'](_0xaeaed6[_0x2146da]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x397b11){this['_speed']=_0x397b11;}get['speed'](){return this['_speed'];}set['flipX'](_0x2e4149){this['_flipX']!==_0x2e4149&&(this['_flipX']=_0x2e4149,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x4d7df5){this['_flipY']!==_0x4d7df5&&(this['_flipY']=_0x4d7df5,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x50c729){_0x50c729!==this['_width']&&(this['_width']=_0x50c729,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x5c922c){_0x5c922c!==this['_height']&&(this['_height']=_0x5c922c,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x1f9d40){var _0xa47b39,_0x5983cd;if(this['_batchGrou'+'pId']===_0x1f9d40)return;const _0xedcefa=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x1f9d40,this['entity']['enabled']&&_0xedcefa>=-0xcb6+-0x1f25+0x2bdb&&((_0xa47b39=this['system']['app']['batcher'])==null||_0xa47b39['remove'](et['SPRITE'],_0xedcefa,this['entity'])),this['entity']['enabled']&&_0x1f9d40>=-0x12b2*0x1+0x49*0x52+-0x4b0?(_0x5983cd=this['system']['app']['batcher'])==null||_0x5983cd['insert'](et['SPRITE'],_0x1f9d40,this['entity']):_0xedcefa>=-0x1e4*0x7+-0x1efd+-0x1*-0x2c39&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x2f005d){this['_autoPlayC'+'lip']=_0x2f005d instanceof bi?_0x2f005d['name']:_0x2f005d,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x524ce3){this['_drawOrder']=_0x524ce3,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x524ce3);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0xd9f13e){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0xd9f13e,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x4f7396;const _0x54100a=this['system']['app'],_0x3f77f2=_0x54100a['scene'],_0x3f3673=_0x3f77f2['layers'];this['_evtLayers'+'Changed']=_0x3f77f2['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x3f3673&&(this['_evtLayerA'+'dded']=_0x3f3673['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x3f3673['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x101*-0x1+-0x26c3+-0x9*-0x432&&((_0x4f7396=_0x54100a['batcher'])==null||_0x4f7396['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x116172,_0x4b7b1c,_0x508e44,_0x565228;const _0x3340c7=this['system']['app'],_0x5d2481=_0x3340c7['scene']['layers'];(_0x116172=this['_evtLayers'+'Changed'])==null||_0x116172['off'](),this['_evtLayers'+'Changed']=null,_0x5d2481&&((_0x4b7b1c=this['_evtLayerA'+'dded'])==null||_0x4b7b1c['off'](),this['_evtLayerA'+'dded']=null,(_0x508e44=this['_evtLayerR'+'emoved'])==null||_0x508e44['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x157c+0x1035+-0x25b1&&((_0x565228=_0x3340c7['batcher'])==null||_0x565228['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x4522f9;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x13e0fd in this['_clips'])this['_clips'][_0x13e0fd]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x4522f9=this['_node'])==null||_0x4522f9['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x59236d=[this['_meshInsta'+'nce']];for(let _0x3605dc=-0x137b+0x1d25+-0x4d5*0x2,_0x4bb6a6=this['_layers']['length'];_0x3605dc<_0x4bb6a6;_0x3605dc++){const _0x408980=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3605dc]);_0x408980&&_0x408980['addMeshIns'+'tances'](_0x59236d);}this['_addedMode'+'l']=!(0xc*-0x1e+0x18ac+0xba2*-0x2);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x233fd7=[this['_meshInsta'+'nce']];for(let _0x4d42cf=0x47f*-0x7+0x12bf*0x1+-0x12*-0xb5,_0x132c70=this['_layers']['length'];_0x4d42cf<_0x132c70;_0x4d42cf++){const _0x37152d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4d42cf]);_0x37152d&&_0x37152d['removeMesh'+'Instances'](_0x233fd7);}this['_addedMode'+'l']=!(-0x2*-0xc13+0xa*0x321+-0x376f);}['_showFrame'](_0x53c3f9){if(!this['sprite'])return;const _0x5967d2=this['sprite']['meshes'][_0x53c3f9];if(!_0x5967d2){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x996+0x17cd+-0xe36));return;}let _0x2b74e4;if(this['sprite']['renderMode']===nt?_0x2b74e4=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x2b74e4=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x2b74e4=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x5967d2,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x175*0x9+0x2221*-0x1+-0x1505*-0x1),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x6d*0x5b+-0x1972+-0xd4c),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0xcb6+0xe5a+-0x1b10]=this['_color']['r'],this['_colorUnif'+'orm'][-0x13fe+-0x26a7+0x3aa6]=this['_color']['g'],this['_colorUnif'+'orm'][-0xb*-0x2a8+-0x2*-0x305+0x18*-0x178]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x2b74e4&&(this['_meshInsta'+'nce']['material']=_0x2b74e4),this['_meshInsta'+'nce']['mesh']!==_0x5967d2&&(this['_meshInsta'+'nce']['mesh']=_0x5967d2,this['_meshInsta'+'nce']['visible']=!(-0x6*0x425+0x2*-0x5a1+0x2420),this['_meshInsta'+'nce']['_aabbVer']=-(-0x13d9+0x1*0x1d3+-0x1207*-0x1)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x23c9ce=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x53c3f9]];if(_0x23c9ce){const _0x1caa2c=(-0x19e2+0xbc1+-0x2f*-0x4d)/_0x23c9ce['rect']['z'],_0x5ce897=(-0xb7b*0x2+-0x29*-0xe3+-0x95*0x17)/_0x23c9ce['rect']['w'];this['_innerOffs'+'et']['set'](_0x23c9ce['border']['x']*_0x1caa2c,_0x23c9ce['border']['y']*_0x5ce897,_0x23c9ce['border']['z']*_0x1caa2c,_0x23c9ce['border']['w']*_0x5ce897);const _0xbfb39e=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x23c9ce['rect']['x']/_0xbfb39e['width'],_0x23c9ce['rect']['y']/_0xbfb39e['height'],_0x23c9ce['rect']['z']/_0xbfb39e['width'],_0x23c9ce['rect']['w']/_0xbfb39e['height']);}else this['_innerOffs'+'et']['set'](-0x1ea0+0x1e6d+0x33,0xc91+0x77*0x7+-0xfd2,0x2299+-0xebb+-0x13de*0x1,0x1349*0x2+0x1*-0xa19+-0x1c79);this['_innerOffs'+'etUniform'][-0x1061+0x641*-0x2+0x1ce3]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1*0x22f9+0x719+0xb7*0x27]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x2a2*-0x3+-0x23dc+0x4*0xaf1]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x484+-0x1f57+0xf*0x1ca]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x7dd+-0x4*0x94c+-0x1*-0x1d53]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0xcf4+0xa4*-0x37+-0x3b5*-0xd]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x7*0x38b+0x1841+-0x56*0x92]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x2564+0xf2b+-0x4*-0x58f]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x4123b1=this['flipX']?-(-0x4cf*0x6+-0x281+0x12*0x1be):-0x5a+0x1*0x2312+-0x22b7,_0x23bbe9=this['flipY']?-(0xcb5+0x3da*-0x9+-0x3a9*-0x6):-0x2e*-0x3d+-0xd*0x2c9+-0x4*-0x650,_0xe43d9c=-0x42d*-0x1+0x10a2+-0x1*0x14cf,_0x1c2fd6=0x1*0xb7f+-0x3*0x257+-0x1*0x47a;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x44e670=-0x1*-0x1264+0x15*0x1bf+-0x370e,_0x2ba0f8=0x3*-0x5+0x20c3*0x1+-0x20b3*0x1;if(this['sprite']['atlas']){const _0x43b554=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x43b554&&(_0x44e670=_0x43b554['rect']['z'],_0x2ba0f8=_0x43b554['rect']['w'],_0xe43d9c=(-0x1612+0x18*-0x1d+-0x26*-0xa7+0.5-_0x43b554['pivot']['x'])*this['_width'],_0x1c2fd6=(-0xd8b+0x1*-0x265d+0x33e8+0.5-_0x43b554['pivot']['y'])*this['_height']);}const _0xd0d86e=_0x44e670/this['sprite']['pixelsPerU'+'nit'],_0x1c323c=_0x2ba0f8/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0xd0d86e),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x1c323c)),_0x4123b1*=_0xd0d86e,_0x23bbe9*=_0x1c323c,this['_outerScal'+'e']['x']/=_0xd0d86e,this['_outerScal'+'e']['y']/=_0x1c323c,_0x4123b1*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0xd0d86e),0x1*0x1a4b+0x2ac+-0x1cf7+0.0001,-0x2014+0x503+0x1b12),_0x23bbe9*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x1c323c),0x15*0x1d+-0xe9*-0xd+-0xe36+0.0001,0xac1*0x3+0x108+-0x214a),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x6*0x297+0x1525+0x5*-0x11f]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1*-0x145b+-0x2001+0x345d]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x4123b1,_0x23bbe9,-0xc*-0x193+0x9*0x27+-0x1442),this['_node']['setLocalPo'+'sition'](_0xe43d9c,_0x1c2fd6,0x1fc0+0x5a5+-0x2565);}['_updateAab'+'b'](_0x33610a){return _0x33610a['center']['set'](0xf6c*0x1+0x1cdb+0x5*-0x8db,-0x1*-0x2669+-0x157c+-0x10ed,0x2412+-0x150b+-0xf07),_0x33610a['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0xba*0x3+-0x128f+-0x257*-0x7+0.5),this['_outerScal'+'e']['y']*(-0xe4a+-0xa1+0xeeb+0.5),-0x1968+-0x1d*-0xa2+0x70e+0.001),_0x33610a['setFromTra'+'nsformedAa'+'bb'](_0x33610a,this['_node']['getWorldTr'+'ansform']()),_0x33610a;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x21bf3c=this['_clips'][this['_autoPlayC'+'lip']];_0x21bf3c&&!_0x21bf3c['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x21bf3c['name']);}['_onLayersC'+'hanged'](_0x57b6a0,_0x3a3356){_0x57b6a0['off']('add',this['onLayerAdd'+'ed'],this),_0x57b6a0['off']('remove',this['onLayerRem'+'oved'],this),_0x3a3356['on']('add',this['onLayerAdd'+'ed'],this),_0x3a3356['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x38d134){this['layers']['indexOf'](_0x38d134['id'])<-0x8*0xa1+0x134e+-0xe46||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x38d134['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x21cb04){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x21cb04['id'])<-0x1*0x1abb+0x2585+0x565*-0x2||_0x21cb04['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x256c53=-0x215e+-0x413*-0x8+-0x63*-0x2;_0x256c53<this['layers']['length'];_0x256c53++){const _0x64eb38=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x256c53]);_0x64eb38&&_0x64eb38['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x4910d2){const _0x4bf4db=new bi(this,{'name':_0x4910d2['name'],'fps':_0x4910d2['fps'],'loop':_0x4910d2['loop'],'spriteAsset':_0x4910d2['spriteAsse'+'t']});return this['_clips'][_0x4910d2['name']]=_0x4bf4db,_0x4bf4db['name']&&_0x4bf4db['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x4bf4db;}['removeClip'](_0x1eb43f){delete this['_clips'][_0x1eb43f];}['clip'](_0x22b048){return this['_clips'][_0x22b048];}['play'](_0x12393a){const _0x535c41=this['_clips'][_0x12393a],_0x432dbd=this['_currentCl'+'ip'];return _0x432dbd&&_0x432dbd!==_0x535c41&&(_0x432dbd['_playing']=!(0xcf9+0x4*0x621+-0x257c)),this['_currentCl'+'ip']=_0x535c41,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x535c41,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x12393a+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x535c41;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(-0x2291+0x4c3+0x1dce);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x282a47){super(_0x282a47),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x4ab96c){this['_defaultMa'+'terial']=_0x4ab96c;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x77ab9d=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x58afe8=new Uint8Array(_0x77ab9d['lock']());_0x58afe8[0x1*0x1d35+-0xe95+-0x4*0x3a8]=_0x58afe8[0x4e6+-0x5*-0x5fd+-0x22d6]=_0x58afe8[0x16*-0x13+-0x3*-0x593+-0xf15]=_0x58afe8[-0x31c+-0x6d4+-0x351*-0x3]=0x5*-0x32d+-0x8*0x15b+0x1bb8,_0x77ab9d['unlock']();const _0x3673a6=new cs();_0x3673a6['diffuse']['set'](0xc38+0x1*0x222f+-0x2e67,-0x1e91*-0x1+-0x20ec+0x25b,-0x270e+-0x7*-0x138+0x1e86),_0x3673a6['emissive']['set'](0x1bea+-0x2708*-0x1+-0x42f1,0xb1b*0x3+0x110+-0x2260,-0x20cc+-0x22ad+0x167e*0x3),_0x3673a6['emissiveMa'+'p']=_0x77ab9d,_0x3673a6['opacityMap']=_0x77ab9d,_0x3673a6['opacityMap'+'Channel']='a',_0x3673a6['useLightin'+'g']=!(0x10bf+0xf1c+-0x1fda),_0x3673a6['useTonemap']=!(0x69*0x1+-0x1a5e+-0x1*-0x19f6),_0x3673a6['useFog']=!(0x123+0x1*-0x17cb+0x16a9*0x1),_0x3673a6['useSkybox']=!(0x1e15+-0x9*-0xc9+0x25*-0x101),_0x3673a6['blendType']=hr,_0x3673a6['depthWrite']=!(-0xd2a+0x3a*0x7f+-0xf9b),_0x3673a6['pixelSnap']=!(-0x1b*0x107+-0x2135*-0x1+0x577*-0x1),_0x3673a6['cull']=mt,_0x3673a6['update'](),this['_defaultTe'+'xture']=_0x77ab9d,this['_defaultMa'+'terial']=_0x3673a6;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0xf98201){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0xf98201;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x34980b=this['defaultMat'+'erial']['clone']();_0x34980b['nineSliced'+'Mode']=nt,_0x34980b['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x34980b;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x2a0940){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x2a0940;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x49a62a=this['defaultMat'+'erial']['clone']();_0x49a62a['nineSliced'+'Mode']=Qe,_0x49a62a['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x49a62a;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x4cd69a,_0x3c46e5,_0x2563ba){if(_0x3c46e5['enabled']!==void(-0x213b+-0x2*0x754+-0xd*-0x3af)&&(_0x4cd69a['enabled']=_0x3c46e5['enabled']),_0x4cd69a['type']=_0x3c46e5['type'],_0x3c46e5['layers']&&Array['isArray'](_0x3c46e5['layers'])&&(_0x4cd69a['layers']=_0x3c46e5['layers']['slice'](-0x2*-0x7c9+0x23ba+0x4*-0xcd3)),_0x3c46e5['drawOrder']!==void(-0x2*0x96d+0xf6a+0x370)&&(_0x4cd69a['drawOrder']=_0x3c46e5['drawOrder']),_0x3c46e5['color']!==void(-0x4f*-0x19+0xa*-0x29f+0x127f)&&(_0x3c46e5['color']instanceof Y?_0x4cd69a['color']['set'](_0x3c46e5['color']['r'],_0x3c46e5['color']['g'],_0x3c46e5['color']['b'],_0x3c46e5['opacity']??-0x1*-0x1d49+0xf7f*0x1+-0x2cc7):_0x4cd69a['color']['set'](_0x3c46e5['color'][0xd*0x11b+0x1566+-0x23c5],_0x3c46e5['color'][0x172c+-0xfaf+-0x2*0x3be],_0x3c46e5['color'][0x1*0x12b3+-0xac8+-0x7e9],_0x3c46e5['opacity']??-0x675*0x1+-0x200b+0x1*0x2681),_0x4cd69a['color']=_0x4cd69a['color']),_0x3c46e5['opacity']!==void(-0x1618+-0x11*0x1c1+0x1*0x33e9)&&(_0x4cd69a['opacity']=_0x3c46e5['opacity']),_0x3c46e5['flipX']!==void(0x554+0x16ac+-0x1c00)&&(_0x4cd69a['flipX']=_0x3c46e5['flipX']),_0x3c46e5['flipY']!==void(0x135a+-0x1*0x225a+0xf00)&&(_0x4cd69a['flipY']=_0x3c46e5['flipY']),_0x3c46e5['width']!==void(0x1602+0x1462+-0x2a64)&&(_0x4cd69a['width']=_0x3c46e5['width']),_0x3c46e5['height']!==void(-0x3df*-0x7+0x43a*0x1+-0x1f53)&&(_0x4cd69a['height']=_0x3c46e5['height']),_0x3c46e5['spriteAsse'+'t']!==void(0x1fc8+-0x2300+0x4*0xce)&&(_0x4cd69a['spriteAsse'+'t']=_0x3c46e5['spriteAsse'+'t']),_0x3c46e5['sprite']&&(_0x4cd69a['sprite']=_0x3c46e5['sprite']),_0x3c46e5['frame']!==void(0x2476+0x11c1+-0x3637)&&(_0x4cd69a['frame']=_0x3c46e5['frame']),_0x3c46e5['clips']){for(const _0xd7cdda in _0x3c46e5['clips'])_0x4cd69a['addClip'](_0x3c46e5['clips'][_0xd7cdda]);}_0x3c46e5['speed']!==void(-0xa8e+0x1ce8+0x6*-0x30f)&&(_0x4cd69a['speed']=_0x3c46e5['speed']),_0x3c46e5['autoPlayCl'+'ip']&&(_0x4cd69a['autoPlayCl'+'ip']=_0x3c46e5['autoPlayCl'+'ip']),_0x4cd69a['batchGroup'+'Id']=_0x3c46e5['batchGroup'+'Id']===void(0x1*0x14d4+0x1cce+0x31a2*-0x1)||_0x3c46e5['batchGroup'+'Id']===null?-(-0x7*0x124+0x1f8a*-0x1+0x2787):_0x3c46e5['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x4cd69a,_0x3c46e5,_0x2563ba);}['cloneCompo'+'nent'](_0x3f352c,_0x1522cd){const _0x896a6a=_0x3f352c['sprite'];return this['addCompone'+'nt'](_0x1522cd,{'enabled':_0x896a6a['enabled'],'type':_0x896a6a['type'],'spriteAsset':_0x896a6a['spriteAsse'+'t'],'sprite':_0x896a6a['sprite'],'width':_0x896a6a['width'],'height':_0x896a6a['height'],'frame':_0x896a6a['frame'],'color':_0x896a6a['color']['clone'](),'opacity':_0x896a6a['opacity'],'flipX':_0x896a6a['flipX'],'flipY':_0x896a6a['flipY'],'speed':_0x896a6a['speed'],'clips':_0x896a6a['clips'],'autoPlayClip':_0x896a6a['autoPlayCl'+'ip'],'batchGroupId':_0x896a6a['batchGroup'+'Id'],'drawOrder':_0x896a6a['drawOrder'],'layers':_0x896a6a['layers']['slice'](-0x1*0x255+0xb1c+-0x8c7)});}['onUpdate'](_0x50e390){const _0x1270bc=this['store'];for(const _0xc16b1a in _0x1270bc)if(_0x1270bc['hasOwnProp'+'erty'](_0xc16b1a)){const _0x5dd8c4=_0x1270bc[_0xc16b1a];if(_0x5dd8c4['data']['enabled']&&_0x5dd8c4['entity']['enabled']){const _0x445330=_0x5dd8c4['entity']['sprite'];_0x445330['_currentCl'+'ip']&&_0x445330['_currentCl'+'ip']['_update'](_0x50e390);}}}['onBeforeRe'+'move'](_0x17ba3a,_0x78566f){_0x78566f['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x9f0e40,_0x524c3d){super(_0x9f0e40,_0x524c3d),this['_oldState']=!(0x17d9+-0x913*0x1+-0xec6),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0xb4d0d1){_0xb4d0d1 instanceof T?this['_size']['copy'](_0xb4d0d1):_0xb4d0d1 instanceof Array&&_0xb4d0d1['length']>=0x122a+-0x8c4+-0x963&&this['size']['set'](_0xb4d0d1[-0xe*0x2bd+-0x15eb*-0x1+-0x106b*-0x1],_0xb4d0d1[-0x73e+-0x4b*0x21+0x875*0x2],_0xb4d0d1[0x22*-0xb7+0x53*0x2b+-0x5*-0x213]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x5cb756,_0x57af78,_0x1f0386){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x3be747=this['enabled']&&this['entity']['enabled'];_0x3be747!==this['_oldState']&&(this['_oldState']=_0x3be747,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(0x12b3*0x2+-0x1253*0x1+-0x13*0x101);}}const vx=['enabled'];class WI extends Xe{constructor(_0x2b528e){super(_0x2b528e),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x7011f4,_0x2a1bdf,_0x4ab81e){_0x7011f4['enabled']=_0x2a1bdf['hasOwnProp'+'erty']('enabled')?!!_0x2a1bdf['enabled']:!(-0x1b29*-0x1+-0x538*0x7+0x95f*0x1),_0x2a1bdf['size']&&(_0x2a1bdf['size']instanceof T?_0x7011f4['size']['copy'](_0x2a1bdf['size']):_0x2a1bdf['size']instanceof Array&&_0x2a1bdf['size']['length']>=0x3*-0x15a+0xed1*-0x2+-0x21b3*-0x1&&_0x7011f4['size']['set'](_0x2a1bdf['size'][0x15cf*0x1+0x65e+-0x1c2d],_0x2a1bdf['size'][0x5*-0x281+-0x2304+0x2f8a],_0x2a1bdf['size'][-0x7e5*-0x1+0xd84+-0x1567]));}['cloneCompo'+'nent'](_0x469b5e,_0x1beced){const _0x20c39b={'enabled':_0x469b5e['zone']['enabled'],'size':_0x469b5e['zone']['size']};return this['addCompone'+'nt'](_0x1beced,_0x20c39b);}['_onBeforeR'+'emove'](_0x577293,_0x4046d9){_0x4046d9['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class $I{constructor(_0x2cb39f,_0x452a85){this['effect']=_0x2cb39f,this['inputTarge'+'t']=_0x452a85,this['outputTarg'+'et']=null,this['name']=_0x2cb39f['constructo'+'r']['name'];}}class qI{constructor(_0x360874,_0x2c1dbb){this['app']=_0x360874,this['camera']=_0x2c1dbb,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x1a66+0x1ce6+0x13*-0x2e9),this['depthTarge'+'t']=null,_0x2c1dbb['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x6d2261,_0x3f00d1){const _0x159e7b=this['camera']['rect'],_0x12deb4=this['destinatio'+'nRenderTar'+'get'],_0xd8702f=this['app']['graphicsDe'+'vice'],_0x493c3c=Math['floor'](_0x159e7b['z']*((_0x12deb4==null?void(-0x1386*0x1+0xca6*-0x3+0x3978):_0x12deb4['width'])??_0xd8702f['width'])),_0xcd7253=Math['floor'](_0x159e7b['w']*((_0x12deb4==null?void(0x573+-0x2588+0xbf*0x2b):_0x12deb4['height'])??_0xd8702f['height']));return new he(_0xd8702f,{'name':_0x3f00d1,'format':_0x6d2261,'width':_0x493c3c,'height':_0xcd7253,'mipmaps':!(-0x1be7+-0x12*0x115+0x2f62),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x18c6ed,_0x577953){const _0x263419=this['app']['graphicsDe'+'vice'],_0x5db7dc=(this['destinatio'+'nRenderTar'+'get']??_0x263419['backBuffer'])['isColorBuf'+'ferSrgb'](0x175d+0x1*0x88f+0xe3*-0x24),_0x4630e8=(_0x577953&&_0x263419['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(0xd36+0x1442+-0x2178)))??(_0x5db7dc?rs:Se),_0xd74b6f=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0xaac5d1=this['_allocateC'+'olorBuffer'](_0x4630e8,_0xd74b6f);return new pt({'colorBuffer':_0xaac5d1,'depth':_0x18c6ed,'stencil':_0x18c6ed&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x18c6ed?_0x263419['samples']:0xa79+-0x8b7*-0x3+-0x249d});}['_resizeOff'+'screenTarg'+'et'](_0x63f8d6){const _0x1c1964=_0x63f8d6['colorBuffe'+'r']['format'],_0x40cd00=_0x63f8d6['colorBuffe'+'r']['name'];_0x63f8d6['destroyFra'+'meBuffers'](),_0x63f8d6['destroyTex'+'tureBuffer'+'s'](),_0x63f8d6['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x1c1964,_0x40cd00),_0x63f8d6['_colorBuff'+'ers']=[_0x63f8d6['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0xb74d87){_0xb74d87['destroyTex'+'tureBuffer'+'s'](),_0xb74d87['destroy']();}['addEffect'](_0x5de135){const _0x4cd8b0=this['effects'],_0x24084a=_0x4cd8b0['length']===-0x1e72+-0x113*-0x1+-0x49*-0x67,_0x14e742=this['_createOff'+'screenTarg'+'et'](_0x24084a,_0x5de135['hdr']),_0x154929=new $I(_0x5de135,_0x14e742);_0x4cd8b0['push'](_0x154929),this['_sourceTar'+'get']=_0x154929['inputTarge'+'t'],_0x4cd8b0['length']>0x1*-0x1ce1+0x4*0x215+0x148e&&(_0x4cd8b0[_0x4cd8b0['length']-(-0x480+0x777+-0x2f5)]['outputTarg'+'et']=_0x154929['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x5de135,_0x5de135['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x1*-0x14b5+-0x273*0x2+-0x17*-0x11d);}['removeEffe'+'ct'](_0x5b857e){let _0x51962a=-(0x102e+-0xd*-0x5b+-0x14cc);for(let _0x30c11d=-0x7*0x2e0+0x833*-0x2+-0x2486*-0x1,_0x1320a7=this['effects']['length'];_0x30c11d<_0x1320a7;_0x30c11d++)if(this['effects'][_0x30c11d]['effect']===_0x5b857e){_0x51962a=_0x30c11d;break;}_0x51962a>=0xa53+0x23*-0x115+0x1b8c&&(_0x51962a>-0x5*-0x515+0x26f0+0x39*-0x121?this['effects'][_0x51962a-(0x12e*-0x11+-0x17a9+-0xaee*-0x4)]['outputTarg'+'et']=_0x51962a+(0x17b8+-0x53f+-0x49e*0x4)<this['effects']['length']?this['effects'][_0x51962a+(0x1*0x171f+-0x1*-0x1037+-0x1*0x2755)]['inputTarge'+'t']:null:this['effects']['length']>0x1f17+-0x1aa3+0x473*-0x1&&(this['effects'][0x3db+0x2*-0x133f+0x22a4]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0xc7c+0x72a*0x2+-0x3*0x9d]['inputTarge'+'t']),this['effects'][0x430*0x2+0x13e5*0x1+-0x1c44]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x3*-0xb63+-0xb3c+0x16ed*-0x1),this['effects'][0x2*0x9fd+0x25*0x103+0x2c*-0x14e]['hdr']),this['_sourceTar'+'get']=this['effects'][0x98*0x13+0x2ab*0x4+-0x15f3]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x377*0x4+-0xf59*-0x2+0x1f*-0x8b]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x51962a]['inputTarge'+'t']),this['effects']['splice'](_0x51962a,-0x12*-0x1be+-0x1*-0x200a+0x3f65*-0x1)),this['enabled']&&_0x5b857e['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x2*-0x7b7+-0x2585+-0xa97*-0x5&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x5073f6=0xfea+0x8c3*-0x3+0xa5f,_0x2bc498=this['effects']['length'];_0x5073f6<_0x2bc498;_0x5073f6++){const _0x15b9f1=this['effects'][_0x5073f6]['effect'];this['_newPostEf'+'fect']!==_0x15b9f1&&_0x15b9f1['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x385f05=0x1094+0x1*0x26ef+-0x3783,_0x51c047=this['effects']['length'];_0x385f05<_0x51c047;_0x385f05++)this['effects'][_0x385f05]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x36398d=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x36398d&&(_0x36398d['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x962+-0x196d*-0x1+-0x100b)));}['_releaseDe'+'pthMap'](){const _0x37874a=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x37874a&&(_0x37874a['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x23c1+-0x1d04+0x40c6)));}['destroy'](){for(let _0x49be86=0x3*-0xa6e+0x1694*-0x1+0x35de,_0x4f9c82=this['effects']['length'];_0x49be86<_0x4f9c82;_0x49be86++)this['effects'][_0x49be86]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x12a8*-0x1+0x1540+0x2*-0x13f4,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x3*-0x989+-0x21e3+0x548),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x19a4+-0x1*0x6a3+0x7*-0x2b7]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x10d238=null;const _0xe4bbc1=this['effects']['length'];if(_0xe4bbc1)for(let _0xc76a4=0x265a*0x1+-0x19f*-0x13+-0x4527;_0xc76a4<_0xe4bbc1;_0xc76a4++){const _0x18c09e=this['effects'][_0xc76a4];let _0x3cd2be=_0x18c09e['outputTarg'+'et'];_0xc76a4===_0xe4bbc1-(0x19c7+-0x2b3+0x21*-0xb3)&&(_0x10d238=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x3cd2be=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x18c09e['name']),_0x18c09e['effect']['render'](_0x18c09e['inputTarge'+'t'],_0x3cd2be,_0x10d238),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x91+-0x119a*-0x1+0x442*-0x4),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x27aa47,_0x324a5f){const _0x55d51c=this['camera']['rect'],_0x598b17=this['destinatio'+'nRenderTar'+'get'];_0x27aa47=(_0x598b17==null?void(-0x1978*0x1+0x1*-0x1eaf+0x3827):_0x598b17['width'])??_0x27aa47,_0x324a5f=(_0x598b17==null?void(0x7*-0x1b9+-0x1*0x36a+0xf79):_0x598b17['height'])??_0x324a5f,this['camera']['camera']['aspectRati'+'o']=_0x27aa47*_0x55d51c['z']/(_0x324a5f*_0x55d51c['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x33e819=this['app']['graphicsDe'+'vice'],_0x2238d9=this['destinatio'+'nRenderTar'+'get'],_0x38f768=(_0x2238d9==null?void(0x20*0x10+-0xd1f+0xb1f):_0x2238d9['width'])??_0x33e819['width'],_0x416538=(_0x2238d9==null?void(-0x92b+-0x19df+0x230a):_0x2238d9['height'])??_0x33e819['height'],_0x58d60c=this['camera']['rect'],_0x38e853=Math['floor'](_0x58d60c['z']*_0x38f768),_0xa515c=Math['floor'](_0x58d60c['w']*_0x416538),_0x382d8f=this['effects'];for(let _0x2bd3e4=0x7*0x337+0xfd8*-0x1+-0xb*0x9b,_0x3ab505=_0x382d8f['length'];_0x2bd3e4<_0x3ab505;_0x2bd3e4++){const _0x3207d2=_0x382d8f[_0x2bd3e4];(_0x3207d2['inputTarge'+'t']['width']!==_0x38e853||_0x3207d2['inputTarge'+'t']['height']!==_0xa515c)&&this['_resizeOff'+'screenTarg'+'et'](_0x3207d2['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0xd783ec,_0x5f0960,_0x3c261e){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x564adc,_0x5b53c3){super(_0x564adc,_0x5b53c3),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x11d1+-0xeb9+-0x318),c(this,'_renderSce'+'neColorMap',-0x126e+0x102c+0x242),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0xf77*0x1+0x2*-0x8a+0x108c)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x229c+-0x24cf+-0x11a*-0x2)),c(this,'_priority',-0x1cc7+0x969+0x135e*0x1),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x5b53c3,this['_postEffec'+'ts']=new qI(_0x564adc['app'],this));}['setShaderP'+'ass'](_0x3fa300){const _0x477de5=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x3647d8=_0x3fa300?_0x477de5['allocate'](_0x3fa300,{'isForward':!(-0xa52+-0x1*-0x40d+0x645)}):null;return this['_camera']['shaderPass'+'Info']=_0x3647d8,_0x3647d8['index'];}['getShaderP'+'ass'](){var _0x489034;return(_0x489034=this['_camera']['shaderPass'+'Info'])==null?void(-0x22dc+0x25ab+-0x2cf):_0x489034['name'];}set['renderPass'+'es'](_0x303749){this['_camera']['renderPass'+'es']=_0x303749||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x157b+0x1d89+-0x1*0x3304);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x23e709){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x23e709;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0xd7784){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0xd7784;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x3d3350){this['_camera']['fogParams']=_0x3d3350;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x56efd0){this['_camera']['aperture']=_0x56efd0;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x5084e4){this['_camera']['aspectRati'+'o']=_0x5084e4;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x25886d){this['_camera']['aspectRati'+'oMode']=_0x25886d;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x4b3cb0){this['_camera']['calculateP'+'rojection']=_0x4b3cb0;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x495729){this['_camera']['calculateT'+'ransform']=_0x495729;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x17f767){this['_camera']['clearColor']=_0x17f767;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x104f19){this['_camera']['clearColor'+'Buffer']=_0x104f19,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x425078){this['_camera']['clearDepth'+'Buffer']=_0x425078,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x36ec4){this['_camera']['clearStenc'+'ilBuffer']=_0x36ec4,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x57b327){this['_camera']['cullFaces']=_0x57b327;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x5bf8ed){this['_disablePo'+'stEffectsL'+'ayer']=_0x5bf8ed,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x5446c9){this['_camera']['farClip']=_0x5446c9;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x372d71){this['_camera']['flipFaces']=_0x372d71;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x2f6056){this['_camera']['fov']=_0x2f6056;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x5652b){this['_camera']['frustumCul'+'ling']=_0x5652b;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x3613ff){this['_camera']['horizontal'+'Fov']=_0x3613ff;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x5356b4){const _0x1d0c82=this['_camera']['layers'],_0x5925d1=this['system']['app']['scene'];_0x1d0c82['forEach'](_0x42bc84=>{const _0x12ca22=_0x5925d1['layers']['getLayerBy'+'Id'](_0x42bc84);_0x12ca22==null||_0x12ca22['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x5356b4,this['enabled']&&this['entity']['enabled']&&_0x5356b4['forEach'](_0x174df0=>{const _0x5a7652=_0x5925d1['layers']['getLayerBy'+'Id'](_0x174df0);_0x5a7652==null||_0x5a7652['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x5d1078){this['_camera']['jitter']=_0x5d1078;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x47b287){this['_camera']['nearClip']=_0x47b287;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x25fb81){this['_camera']['orthoHeigh'+'t']=_0x25fb81;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x26036e){this['_priority']=_0x26036e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x387f75){this['_camera']['projection']=_0x387f75;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x1799cd){this['_camera']['rect']=_0x1799cd,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x50f119){_0x50f119&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0xf9f*-0x1+0x1be2+0xc43*-0x1)),this['_sceneColo'+'rMapReques'+'ted']=!(0x14f3+-0x5e*-0x40+0xed1*-0x3)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x1*-0x2639+-0x1a00+-0xc38)),this['_sceneColo'+'rMapReques'+'ted']=!(0x1*0x21c3+0x234e+-0x154*0x34));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x81*0x13+0x2*0x103f+-0x2a11;}set['renderScen'+'eDepthMap'](_0x943e36){_0x943e36&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0xe47+-0x25c6+0x5*0x4b3)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1*0x1cff+-0x99e+-0x1361)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0xc3d+-0x7*0x3d+-0xa91)),this['_sceneDept'+'hMapReques'+'ted']=!(-0xe48+0x6*0x46e+-0xc4b));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x3*0x3d2+0x23c5+-0x71*0x6b;}set['renderTarg'+'et'](_0x26f192){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x1139+0x2487+-0x134e&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x26f192,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x2b0dd1){this['_camera']['scissorRec'+'t']=_0x2b0dd1;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x56c567){this['_camera']['sensitivit'+'y']=_0x56c567;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x3c90a2){this['_camera']['shutter']=_0x3c90a2;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x5ffb9e){if(this['layers']['find'](_0x2a92db=>_0x2a92db===Xt)){const _0x4b2cfa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x5ffb9e?_0x4b2cfa==null||_0x4b2cfa['incrementC'+'ounter']():_0x4b2cfa==null||_0x4b2cfa['decrementC'+'ounter']();}else{if(_0x5ffb9e)return!(-0x1358+-0x161b*0x1+-0x5ec*-0x7);}return!(-0x19b3+0x19*-0x3d+0x1fa8);}['requestSce'+'neColorMap'](_0x2a406d){this['_renderSce'+'neColorMap']+=_0x2a406d?0x3*0xb8c+0x2361+-0x4604:-(-0x26b0+-0x77d+0x2e2e),v['assert'](this['_renderSce'+'neColorMap']>=0x1*-0x1589+0x1202+-0x1*-0x387),this['_enableDep'+'thLayer'](_0x2a406d)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x5a4258){this['_renderSce'+'neDepthMap']+=_0x5a4258?-0x1b44+0x1*0x1609+0x53c:-(0x1b11+0x829+-0x2339),v['assert'](this['_renderSce'+'neDepthMap']>=-0x2fa*-0xd+0x2*-0x54b+0x101*-0x1c),this['_enableDep'+'thLayer'](_0x5a4258)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x510989=this['system']['app']['scene']['layers'];_0x510989['_dirty']=!(-0x1766+-0x1cb9+-0x341f*-0x1);}['screenToWo'+'rld'](_0x3fc7d3,_0x46f7e5,_0x5ca7d8,_0x589352){const _0x3ffdc1=this['system']['app']['graphicsDe'+'vice'],{width:_0x21a8ac,height:_0x2f159e}=_0x3ffdc1['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x3fc7d3,_0x46f7e5,_0x5ca7d8,_0x21a8ac,_0x2f159e,_0x589352);}['worldToScr'+'een'](_0x10d512,_0x305a5c){const _0x25001b=this['system']['app']['graphicsDe'+'vice'],{width:_0x29ac00,height:_0x25a13d}=_0x25001b['clientRect'];return this['_camera']['worldToScr'+'een'](_0x10d512,_0x29ac00,_0x25a13d,_0x305a5c);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x39+0x6aa*-0x4+0x43*0x65),this['_camera']['_viewProjM'+'atDirty']=!(0x1409+0x63*-0x41+0x51a);}['addCameraT'+'oLayers'](){const _0x3e4754=this['layers'];for(let _0xf20a5d=0xa27*0x1+0x2701+0x2c*-0x11e;_0xf20a5d<_0x3e4754['length'];_0xf20a5d++){const _0x4ade64=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3e4754[_0xf20a5d]);_0x4ade64&&_0x4ade64['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x50a2b1=this['layers'];for(let _0x5687af=-0x251*0x2+-0x393*-0x2+0xe*-0x2e;_0x5687af<_0x50a2b1['length'];_0x5687af++){const _0x56a258=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x50a2b1[_0x5687af]);_0x56a258&&_0x56a258['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x17ad34,_0x20c397){this['addCameraT'+'oLayers'](),_0x17ad34['off']('add',this['onLayerAdd'+'ed'],this),_0x17ad34['off']('remove',this['onLayerRem'+'oved'],this),_0x20c397['on']('add',this['onLayerAdd'+'ed'],this),_0x20c397['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4b334f){this['layers']['indexOf'](_0x4b334f['id'])<0x221f*-0x1+-0x29*-0xb4+-0x10f*-0x5||_0x4b334f['addCamera'](this);}['onLayerRem'+'oved'](_0x5ef598){this['layers']['indexOf'](_0x5ef598['id'])<-0x90b*0x4+0x657*-0x1+0x1*0x2a83||_0x5ef598['removeCame'+'ra'](this);}['onEnable'](){var _0x54dfd0,_0x5874ac,_0x1cffe4;const _0x548d7d=this['system']['app']['scene'],_0xb30616=_0x548d7d['layers'];this['system']['addCamera'](this),(_0x54dfd0=this['_evtLayers'+'Changed'])==null||_0x54dfd0['off'](),this['_evtLayers'+'Changed']=_0x548d7d['on']('set:layers',this['onLayersCh'+'anged'],this),_0xb30616&&((_0x5874ac=this['_evtLayerA'+'dded'])==null||_0x5874ac['off'](),this['_evtLayerA'+'dded']=_0xb30616['on']('add',this['onLayerAdd'+'ed'],this),(_0x1cffe4=this['_evtLayerR'+'emoved'])==null||_0x1cffe4['off'](),this['_evtLayerR'+'emoved']=_0xb30616['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x5c3748,_0x41f8b0,_0x4bce29;const _0x587837=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x5c3748=this['_evtLayers'+'Changed'])==null||_0x5c3748['off'](),this['_evtLayers'+'Changed']=null,_0x587837&&((_0x41f8b0=this['_evtLayerA'+'dded'])==null||_0x41f8b0['off'](),this['_evtLayerA'+'dded']=null,(_0x4bce29=this['_evtLayerR'+'emoved'])==null||_0x4bce29['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x4c7b00){const _0x48c268=this['system']['app']['graphicsDe'+'vice'],_0x5d9870=_0x4c7b00?_0x4c7b00['width']:_0x48c268['width'],_0x30981a=_0x4c7b00?_0x4c7b00['height']:_0x48c268['height'];return _0x5d9870*this['rect']['z']/(_0x30981a*this['rect']['w']);}['frameUpdat'+'e'](_0x1ab90d){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x1ab90d));}['startXr'](_0x3ac17b,_0x4e49be,_0x1cb5b2){this['system']['app']['xr']['start'](this,_0x3ac17b,_0x4e49be,_0x1cb5b2);}['endXr'](_0x25ba3c){if(!this['_camera']['xr']){_0x25ba3c&&_0x25ba3c(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x25ba3c);}['copy'](_0x272ed0){this['aperture']=_0x272ed0['aperture'],this['aspectRati'+'o']=_0x272ed0['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x272ed0['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x272ed0['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x272ed0['calculateT'+'ransform'],this['clearColor']=_0x272ed0['clearColor'],this['clearColor'+'Buffer']=_0x272ed0['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x272ed0['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x272ed0['clearStenc'+'ilBuffer'],this['cullFaces']=_0x272ed0['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x272ed0['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x272ed0['farClip'],this['flipFaces']=_0x272ed0['flipFaces'],this['fov']=_0x272ed0['fov'],this['frustumCul'+'ling']=_0x272ed0['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x272ed0['horizontal'+'Fov'],this['layers']=_0x272ed0['layers'],this['nearClip']=_0x272ed0['nearClip'],this['orthoHeigh'+'t']=_0x272ed0['orthoHeigh'+'t'],this['priority']=_0x272ed0['priority'],this['projection']=_0x272ed0['projection'],this['rect']=_0x272ed0['rect'],this['renderTarg'+'et']=_0x272ed0['renderTarg'+'et'],this['scissorRec'+'t']=_0x272ed0['scissorRec'+'t'],this['sensitivit'+'y']=_0x272ed0['sensitivit'+'y'],this['shutter']=_0x272ed0['shutter'];}}class XI{constructor(){this['enabled']=!(-0x3b*0x55+-0x2fb+-0xd6*-0x1b);}}const wx=['enabled'];class jI extends Xe{constructor(_0x51bff4){super(_0x51bff4),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x4cc01f,_0x83525c,_0x1f3ad9){_0x1f3ad9=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x376516=0x2*0x319+0x1053+-0x1685;_0x376516<_0x1f3ad9['length'];_0x376516++){const _0x22e388=_0x1f3ad9[_0x376516];if(_0x83525c['hasOwnProp'+'erty'](_0x22e388)){const _0x26ea7f=_0x83525c[_0x22e388];switch(_0x22e388){case'rect':case'scissorRec'+'t':Array['isArray'](_0x26ea7f)?_0x4cc01f[_0x22e388]=new Q(_0x26ea7f[-0xa41+0x11eb+0x7aa*-0x1],_0x26ea7f[-0x489+-0x989+0x1*0xe13],_0x26ea7f[0x1e49+0x1*0x1369+-0x9f0*0x5],_0x26ea7f[0x956+0x1d*-0xc1+0xc8a]):_0x4cc01f[_0x22e388]=_0x26ea7f;break;case'clearColor':Array['isArray'](_0x26ea7f)?_0x4cc01f[_0x22e388]=new Y(_0x26ea7f[0xe*-0x27b+-0x1a0c+0x6*0xa21],_0x26ea7f[0xea6+0x987*-0x3+-0xdf0*-0x1],_0x26ea7f[-0x5*-0x755+0x510+-0x29b7],_0x26ea7f[-0x1657+-0x15f3+-0x1*-0x2c4d]):_0x4cc01f[_0x22e388]=_0x26ea7f;break;default:_0x4cc01f[_0x22e388]=_0x26ea7f;break;}}}super['initialize'+'ComponentD'+'ata'](_0x4cc01f,_0x83525c,['enabled']);}['cloneCompo'+'nent'](_0x31a9a2,_0x4cd2b2){const _0x57ac4d=_0x31a9a2['camera'];return this['addCompone'+'nt'](_0x4cd2b2,{'aspectRatio':_0x57ac4d['aspectRati'+'o'],'aspectRatioMode':_0x57ac4d['aspectRati'+'oMode'],'calculateProjection':_0x57ac4d['calculateP'+'rojection'],'calculateTransform':_0x57ac4d['calculateT'+'ransform'],'clearColor':_0x57ac4d['clearColor'],'clearColorBuffer':_0x57ac4d['clearColor'+'Buffer'],'clearDepthBuffer':_0x57ac4d['clearDepth'+'Buffer'],'clearStencilBuffer':_0x57ac4d['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x57ac4d['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x57ac4d['renderScen'+'eColorMap'],'cullFaces':_0x57ac4d['cullFaces'],'enabled':_0x57ac4d['enabled'],'farClip':_0x57ac4d['farClip'],'flipFaces':_0x57ac4d['flipFaces'],'fov':_0x57ac4d['fov'],'frustumCulling':_0x57ac4d['frustumCul'+'ling'],'horizontalFov':_0x57ac4d['horizontal'+'Fov'],'layers':_0x57ac4d['layers'],'renderTarget':_0x57ac4d['renderTarg'+'et'],'nearClip':_0x57ac4d['nearClip'],'orthoHeight':_0x57ac4d['orthoHeigh'+'t'],'projection':_0x57ac4d['projection'],'priority':_0x57ac4d['priority'],'rect':_0x57ac4d['rect'],'scissorRect':_0x57ac4d['scissorRec'+'t'],'aperture':_0x57ac4d['aperture'],'sensitivity':_0x57ac4d['sensitivit'+'y'],'shutter':_0x57ac4d['shutter'],'gammaCorrection':_0x57ac4d['gammaCorre'+'ction'],'toneMapping':_0x57ac4d['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x3a0ee5,_0x14c3eb){this['removeCame'+'ra'](_0x14c3eb),_0x14c3eb['onRemove']();}['onAppPrere'+'nder'](){for(let _0x35b4dc=0xcbf+-0xe98+-0x1*-0x1d9,_0x5baefe=this['cameras']['length'];_0x35b4dc<_0x5baefe;_0x35b4dc++)this['cameras'][_0x35b4dc]['onAppPrere'+'nder']();}['addCamera'](_0x2e2b72){this['cameras']['push'](_0x2e2b72),No(this['cameras']);}['removeCame'+'ra'](_0x30f1bc){const _0x13364b=this['cameras']['indexOf'](_0x30f1bc);_0x13364b>=0x14*-0x128+0x153d+0x1*0x1e3&&(this['cameras']['splice'](_0x13364b,0x1073+-0x166b+0x5f9),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(-0x47b*0x5+-0x8c3+-0x1f2a*-0x1)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(-0x1d81+0x1e71+-0xef,-0x131c+0x3*0x57d+0x2a6,-0xd*0x152+0x241e+0xb*-0x1b9)),c(this,'intensity',-0x445*-0x4+-0x7b0*0x3+0x5fd),c(this,'luminance',0x6c7*0x2+0x1279*0x1+-0x2007),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(-0x2629+-0x1*-0x6a6+0x1f83)),c(this,'castShadow'+'s',!(0xa0a*0x1+0x246f+0x2e78*-0x1)),c(this,'shadowDist'+'ance',-0x1362+0x1*-0x52c+0x18b6),c(this,'shadowInte'+'nsity',0x109*-0x11+-0x187*0xe+0x26fc),c(this,'shadowReso'+'lution',0x1b13+-0x178+-0x159b*0x1),c(this,'shadowBias',-0x24c7*-0x1+0x4e0+-0x29a7+0.05),c(this,'numCascade'+'s',0xe72+-0x111*0x19+-0x88*-0x17),c(this,'cascadeBle'+'nd',0xae3*0x3+0x155+-0x21fe),c(this,'bakeNumSam'+'ples',0x902+0x212b+-0x2a2c),c(this,'bakeArea',-0x17a*-0x4+0x162a+0xe09*-0x2),c(this,'cascadeDis'+'tribution',0x2000+-0x20f+0x3*-0x9fb+0.5),c(this,'normalOffs'+'etBias',-0x578+-0x1cb2+-0x1115*-0x2),c(this,'range',-0x17ed+-0xd60+-0x4f*-0x79),c(this,'innerConeA'+'ngle',0x1c9b+0x562+-0x21d5),c(this,'outerConeA'+'ngle',-0x6d0+0x19*0x122+-0x1555*0x1),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',-0x16fc+-0x20de+-0x15d*-0x29),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(0x1*-0x236a+0x15ff+-0x479*-0x3+0.01)*(0x1*0x11f2+0x1e8d*-0x1+0xc9b+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',0x11ec+0x7a8+-0x1993),c(this,'cookieFall'+'off',!(-0x395*0x3+-0x1d07+-0x6*-0x6a1)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',-0x1*-0x4f1+-0x21*-0xff+0x50*-0x79),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',0x885+0x599+-0x1*0xe1d),c(this,'affectDyna'+'mic',!(-0x12f7+0x2*0xc9b+-0x29*0x27)),c(this,'affectLigh'+'tmapped',!(-0x17ff+0x4*0x7c3+-0x70c)),c(this,'bake',!(-0x13fa+0x22cc+0xed1*-0x1)),c(this,'bakeDir',!(-0x79f+-0x2523+0x2cc2)),c(this,'isStatic',!(-0x5f*0x1+-0x1109+0x1169)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0xb*0x251+0x5*0x3fd+-0x2d6b),c(this,'penumbraFa'+'lloff',0x1d*-0xe9+0x20c7+-0x661),c(this,'shadowSamp'+'les',-0x2cf*-0x2+0x1290+0x80a*-0x3),c(this,'shadowBloc'+'kerSamples',-0x176e+-0xd74+0x24f2);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x1346+-0x38d*-0x9+0x9e*-0x53)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x53bdc2=this['system']['store'][this['entity']['getGuid']()];return _0x53bdc2?_0x53bdc2['data']:null;}set['enabled'](_0x36336b){this['_setValue']('enabled',_0x36336b,function(_0x106f3f,_0xe8889d){this['onSetEnabl'+'ed'](null,_0xe8889d,_0x106f3f);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x8c08fd){this['_setValue']('light',_0x8c08fd);}get['light'](){return this['data']['light'];}set['type'](_0x6cb4a4){this['_setValue']('type',_0x6cb4a4,function(_0x28f51c,_0x420355){this['system']['changeType'](this,_0x420355,_0x28f51c),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x3c057e){this['_setValue']('color',_0x3c057e,function(_0x2248c9,_0x15eaa8){this['light']['setColor'](_0x2248c9);},!(-0x2c*0x93+0x30e*-0x9+0x34c2));}get['color'](){return this['data']['color'];}set['intensity'](_0x685ed4){this['_setValue']('intensity',_0x685ed4,function(_0x5570d4,_0x1b6761){this['light']['intensity']=_0x5570d4;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x2b058e){this['_setValue']('luminance',_0x2b058e,function(_0x19dc97,_0x2a250c){this['light']['luminance']=_0x19dc97;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x540b3b){this['_setValue']('shape',_0x540b3b,function(_0x1b9995,_0x86d01d){this['light']['shape']=_0x1b9995;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x3e8e6f){this['_setValue']('affectSpec'+'ularity',_0x3e8e6f,function(_0x680a1a,_0x1e48ef){this['light']['affectSpec'+'ularity']=_0x680a1a;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x212ea5){this['_setValue']('castShadow'+'s',_0x212ea5,function(_0x29d63e,_0x43843a){this['light']['castShadow'+'s']=_0x29d63e;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0xcb4d6c){this['_setValue']('shadowDist'+'ance',_0xcb4d6c,function(_0x362af2,_0x48f81e){this['light']['shadowDist'+'ance']=_0x362af2;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x5f55dc){this['_setValue']('shadowInte'+'nsity',_0x5f55dc,function(_0x4e1e63,_0x23eb5b){this['light']['shadowInte'+'nsity']=_0x4e1e63;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x45e2af){this['_setValue']('shadowReso'+'lution',_0x45e2af,function(_0x223bea,_0x58721b){this['light']['shadowReso'+'lution']=_0x223bea;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x460d1c){this['_setValue']('shadowBias',_0x460d1c,function(_0x3548d0,_0x6563a0){this['light']['shadowBias']=-(0x215e+-0xee3+-0x127b+0.01)*N['clamp'](_0x3548d0,-0x3*-0x6f+-0x24dd*0x1+0x2390,0xa7a*-0x2+-0x24c1+0x1*0x39b6);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x1d40fa){this['_setValue']('numCascade'+'s',_0x1d40fa,function(_0x536a77,_0x2415d9){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x536a77),-0x26f*-0x3+0x1*0x1d06+-0x2452,-0x1a67+0x960+0x110b);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x2d9370){this['_setValue']('cascadeBle'+'nd',_0x2d9370,function(_0x2350c6,_0x31b7ca){this['light']['cascadeBle'+'nd']=N['clamp'](_0x2350c6,0x205f+0x4*0x98d+-0x4693,0x174c+0x1411+-0x2b5c);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0xf997ee){this['_setValue']('bakeNumSam'+'ples',_0xf997ee,function(_0x1efe92,_0x41f50f){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x1efe92),0xca*0xb+0x12b5+-0xdb1*0x2,0x3*0x765+-0x6be+-0xe72);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0xc6f8d5){this['_setValue']('bakeArea',_0xc6f8d5,function(_0xe7e256,_0x2226bc){this['light']['bakeArea']=N['clamp'](_0xe7e256,-0x230c+-0x343+0x264f,-0x1*-0x2419+0x1975+-0x3cda);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x388921){this['_setValue']('cascadeDis'+'tribution',_0x388921,function(_0x5b4399,_0x45c9af){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x5b4399,-0x2ba*-0x1+0x2612+-0x28cc,-0x40f*-0x6+0x26b*-0xc+-0x1*-0x4ab);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x4dddbf){this['_setValue']('normalOffs'+'etBias',_0x4dddbf,function(_0x1d7e84,_0x5c08e5){this['light']['normalOffs'+'etBias']=N['clamp'](_0x1d7e84,-0x23fc+-0x1cf4+0x40f0,0x179d+-0x111a+-0x682);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x2e6412){this['_setValue']('range',_0x2e6412,function(_0x42f117,_0x4a148e){this['light']['attenuatio'+'nEnd']=_0x42f117;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x41ea03){this['_setValue']('innerConeA'+'ngle',_0x41ea03,function(_0x188d0f,_0x40e9bc){this['light']['innerConeA'+'ngle']=_0x188d0f;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x585cd1){this['_setValue']('outerConeA'+'ngle',_0x585cd1,function(_0xefe4d4,_0x2f9b41){this['light']['outerConeA'+'ngle']=_0xefe4d4;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x1d70a8){this['_setValue']('falloffMod'+'e',_0x1d70a8,function(_0x4885fc,_0x5c419d){this['light']['falloffMod'+'e']=_0x4885fc;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x1dd5c6){this['_setValue']('shadowType',_0x1dd5c6,function(_0x4b7d6c,_0x483ef9){this['light']['shadowType']=_0x4b7d6c;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x1bf39b){this['_setValue']('vsmBlurSiz'+'e',_0x1bf39b,function(_0x2e32f8,_0x2d2dcb){this['light']['vsmBlurSiz'+'e']=_0x2e32f8;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x1b2b82){this['_setValue']('vsmBlurMod'+'e',_0x1b2b82,function(_0x22633c,_0x19880f){this['light']['vsmBlurMod'+'e']=_0x22633c;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x8b749e){this['_setValue']('vsmBias',_0x8b749e,function(_0x4e9955,_0x5d146f){this['light']['vsmBias']=N['clamp'](_0x4e9955,0x1793+-0x9f+0xd*-0x1c4,0x2101+0x842+-0x2942);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x57ee32){this['_setValue']('cookieAsse'+'t',_0x57ee32,function(_0x4fcb73,_0x3fe697){if(!(this['_cookieAss'+'etId']&&(_0x4fcb73 instanceof le&&_0x4fcb73['id']===this['_cookieAss'+'etId']||_0x4fcb73===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x4fcb73 instanceof le)this['data']['cookieAsse'+'t']=_0x4fcb73['id'],this['_cookieAss'+'etId']=_0x4fcb73['id'],this['onCookieAs'+'setAdd'](_0x4fcb73);else{if(typeof _0x4fcb73=='number'){this['_cookieAss'+'etId']=_0x4fcb73;const _0x4dce8e=this['system']['app']['assets']['get'](_0x4fcb73);_0x4dce8e?this['onCookieAs'+'setAdd'](_0x4dce8e):(this['_cookieAss'+'etAdd']=!(0xd7*-0x7+-0xe7+0x38*0x1f),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x285543){this['_setValue']('cookie',_0x285543,function(_0x4904a3,_0x45d30a){this['light']['cookie']=_0x4904a3;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x146311){this['_setValue']('cookieInte'+'nsity',_0x146311,function(_0x61cd09,_0x7743cf){this['light']['cookieInte'+'nsity']=N['clamp'](_0x61cd09,-0xdff+-0x1a25+-0x1*-0x2824,0x8fe+-0x1d75+0x1478*0x1);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x526df0){this['_setValue']('cookieFall'+'off',_0x526df0,function(_0x2091c4,_0x456d3){this['light']['cookieFall'+'off']=_0x2091c4;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x1b242a){this['_setValue']('cookieChan'+'nel',_0x1b242a,function(_0x38383f,_0x11e561){this['light']['cookieChan'+'nel']=_0x38383f;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x4d8e55){this['_setValue']('cookieAngl'+'e',_0x4d8e55,function(_0x2e5ab7,_0x31514b){if(_0x2e5ab7!==-0xa*0x14f+-0x13*0x87+0x171b||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x42d833=-0x33+0x161*-0xc+0x86*0x20,_0x2d7906=0xc*0x29e+0x5*0x52a+-0x3939;this['cookieScal'+'e']&&(_0x42d833=this['cookieScal'+'e']['x'],_0x2d7906=this['cookieScal'+'e']['y']);const _0x2d40b8=Math['cos'](_0x2e5ab7*N['DEG_TO_RAD']),_0x3c3de3=Math['sin'](_0x2e5ab7*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x2d40b8/_0x42d833,-_0x3c3de3/_0x42d833,_0x3c3de3/_0x2d7906,_0x2d40b8/_0x2d7906),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x520198){this['_setValue']('cookieScal'+'e',_0x520198,function(_0x3e10dc,_0xac12c9){if(_0x3e10dc!==null||this['cookieAngl'+'e']!==0xa*-0x122+0x4*0x78e+-0x4e*0x3e){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x2b5925=_0x3e10dc['x'],_0x4461a9=_0x3e10dc['y'],_0x59bdf0=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x2b1d7c=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x59bdf0/_0x2b5925,-_0x2b1d7c/_0x2b5925,_0x2b1d7c/_0x4461a9,_0x59bdf0/_0x4461a9),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x157b+0x15b5+-0x2b30));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x52e0dd){this['_setValue']('cookieOffs'+'et',_0x52e0dd,function(_0x2a9e8f,_0x1d7224){this['light']['cookieOffs'+'et']=_0x2a9e8f;},!(0x2629*-0x1+0x237e+-0x2ab*-0x1));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x59a420){this['_setValue']('shadowUpda'+'teMode',_0x59a420,function(_0x178797,_0x56aea6){this['light']['shadowUpda'+'teMode']=_0x178797;},!(0x13*0xa9+-0x13d3+-0x1*-0x748));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x3ea0e2){this['_setValue']('mask',_0x3ea0e2,function(_0x15c609,_0x294bb1){this['light']['mask']=_0x15c609;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x16849d){this['_setValue']('affectDyna'+'mic',_0x16849d,function(_0x39ef64,_0x5bd240){_0x39ef64?this['light']['mask']|=hs:this['light']['mask']&=-(0x1*0xc65+-0xae1+-0x182),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x233051){this['_setValue']('affectLigh'+'tmapped',_0x233051,function(_0x45b66b,_0x2d67c7){_0x45b66b?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(-0x30b*0x7+0x577*-0x6+0x361c))):(this['light']['mask']&=-(-0xe42+-0xfad+0x1df2),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x1a5281){this['_setValue']('bake',_0x1a5281,function(_0x59d435,_0x32fe5b){_0x59d435?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0x2172*-0x1+-0x10af*0x1+0x2*0x1912))):(this['light']['mask']&=-(0x1*-0x319+0x1868+-0x154a),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x46ee13){this['_setValue']('bakeDir',_0x46ee13,function(_0x142b1e,_0x6cdde4){this['light']['bakeDir']=_0x142b1e;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x37890f){this['_setValue']('isStatic',_0x37890f,function(_0x192d75,_0x2ccd4b){this['light']['isStatic']=_0x192d75;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x42fd9f){this['_setValue']('layers',_0x42fd9f,function(_0x26f67c,_0xb49f04){for(let _0xefecd1=0x1*-0x571+-0x11f5+0x1766;_0xefecd1<_0xb49f04['length'];_0xefecd1++){const _0x4702e0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xb49f04[_0xefecd1]);_0x4702e0&&(_0x4702e0['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4702e0));}for(let _0x5d56ec=-0x1f1e+0x1d16+-0x68*-0x5;_0x5d56ec<_0x26f67c['length'];_0x5d56ec++){const _0x8527f4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x26f67c[_0x5d56ec]);_0x8527f4&&this['enabled']&&this['entity']['enabled']&&(_0x8527f4['addLight'](this),this['light']['addLayer'](_0x8527f4));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x276997){this['light']['shadowUpda'+'teOverride'+'s']=_0x276997;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x476bb9){this['light']['shadowSamp'+'les']=_0x476bb9;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x191fe3){this['light']['shadowBloc'+'kerSamples']=_0x191fe3;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x1736df){this['light']['penumbraSi'+'ze']=_0x1736df;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x3cd35d){this['light']['penumbraFa'+'lloff']=_0x3cd35d;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x298439,_0x409d2d,_0x5cb693,_0x32fa3f){const _0x19baea=this['data'],_0x5ca24d=_0x19baea[_0x298439];!_0x32fa3f&&_0x5ca24d===_0x409d2d||(_0x19baea[_0x298439]=_0x409d2d,_0x5cb693&&_0x5cb693['call'](this,_0x409d2d,_0x5ca24d));}['addLightTo'+'Layers'](){for(let _0x45b56c=0x1c4d+-0x9*-0x128+-0x1*0x26b5;_0x45b56c<this['layers']['length'];_0x45b56c++){const _0x4b107b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x45b56c]);_0x4b107b&&(_0x4b107b['addLight'](this),this['light']['addLayer'](_0x4b107b));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x2a22b7=0x73*-0x31+-0x8e7+0x1eea*0x1;_0x2a22b7<this['layers']['length'];_0x2a22b7++){const _0x1afc5f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2a22b7]);_0x1afc5f&&(_0x1afc5f['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x1afc5f));}}['onLayersCh'+'anged'](_0x27b7e2,_0xcd8ec1){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x27b7e2['off']('add',this['onLayerAdd'+'ed'],this),_0x27b7e2['off']('remove',this['onLayerRem'+'oved'],this),_0xcd8ec1['on']('add',this['onLayerAdd'+'ed'],this),_0xcd8ec1['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xf11c4e){this['layers']['indexOf'](_0xf11c4e['id'])>=-0xddc+0x38*0x31+0x324&&this['enabled']&&this['entity']['enabled']&&(_0xf11c4e['addLight'](this),this['light']['addLayer'](_0xf11c4e));}['onLayerRem'+'oved'](_0x2541c9){this['layers']['indexOf'](_0x2541c9['id'])>=-0x1f4e+-0x1e08+-0x3d56*-0x1&&(_0x2541c9['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x2541c9));}['refreshPro'+'perties'](){for(let _0x127f51=0x17b9+0xe44+-0x25fd;_0x127f51<To['length'];_0x127f51++){const _0xbbff5b=To[_0x127f51];this[_0xbbff5b]=this[_0xbbff5b];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x1c34ec=!(0x1*-0x1157+-0x23eb+0x3543);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x613+-0x1759*0x1+0xeb6*0x2),_0x1c34ec=!(0x17b4+-0xbe1+-0xbd3)),(!this['_cookieAss'+'et']['resource']||_0x1c34ec)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x2aa7f5){this['_cookieAss'+'etId']===_0x2aa7f5['id']&&(this['_cookieAss'+'et']=_0x2aa7f5,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x1112+-0x7*0x75+0x32*-0x47)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x283bb8=this['system']['app']['scene'],_0x25ba10=_0x283bb8['layers'];this['light']['enabled']=!(0x2618+-0x17aa+0x1*-0xe6e),this['_evtLayers'+'Changed']=_0x283bb8['on']('set:layers',this['onLayersCh'+'anged'],this),_0x25ba10&&(this['_evtLayerA'+'dded']=_0x25ba10['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x25ba10['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x3ba7f5,_0x50ec00,_0x475a83;const _0x1cf8fa=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x2200+-0x1*0x15b0+0x37b1),(_0x3ba7f5=this['_evtLayers'+'Changed'])==null||_0x3ba7f5['off'](),this['_evtLayers'+'Changed']=null,_0x1cf8fa&&((_0x50ec00=this['_evtLayerA'+'dded'])==null||_0x50ec00['off'](),this['_evtLayerA'+'dded']=null,(_0x475a83=this['_evtLayerR'+'emoved'])==null||_0x475a83['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x1c0c50){super(_0x1c0c50),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x144dc2,_0x3450e8){const _0x1cd581={..._0x3450e8};_0x1cd581['type']||(_0x1cd581['type']=_0x144dc2['data']['type']),_0x144dc2['data']['type']=_0x1cd581['type'],_0x1cd581['layers']&&Array['isArray'](_0x1cd581['layers'])&&(_0x1cd581['layers']=_0x1cd581['layers']['slice'](-0x2658+0x13a9+0x12af)),_0x1cd581['color']&&Array['isArray'](_0x1cd581['color'])&&(_0x1cd581['color']=new Y(_0x1cd581['color'][0xe76+-0x1d*0x143+-0x67*-0x37],_0x1cd581['color'][0x1505+0x141d+-0x1*0x2921],_0x1cd581['color'][-0x1*-0x3df+0x1893+-0xe*0x208])),_0x1cd581['cookieOffs'+'et']&&_0x1cd581['cookieOffs'+'et']instanceof Array&&(_0x1cd581['cookieOffs'+'et']=new W(_0x1cd581['cookieOffs'+'et'][-0x205e+-0x5*-0xa7+0x1d1b],_0x1cd581['cookieOffs'+'et'][0x6*0x263+0x171e+-0x256f])),_0x1cd581['cookieScal'+'e']&&_0x1cd581['cookieScal'+'e']instanceof Array&&(_0x1cd581['cookieScal'+'e']=new W(_0x1cd581['cookieScal'+'e'][0xb50+0x229+0xd79*-0x1],_0x1cd581['cookieScal'+'e'][0xa2*-0x28+0x6c6+0x128b])),_0x1cd581['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x1cd581['enabled']=_0x1cd581['enable']),_0x1cd581['shape']||(_0x1cd581['shape']=yt);const _0x25093a=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x25093a['type']=Gu[_0x1cd581['type']],_0x25093a['_node']=_0x144dc2['entity'],_0x144dc2['data']['light']=_0x25093a,super['initialize'+'ComponentD'+'ata'](_0x144dc2,_0x1cd581,To);}['_onRemoveC'+'omponent'](_0x10d228,_0x2fd79a){_0x2fd79a['onRemove']();}['cloneCompo'+'nent'](_0x469352,_0x54a828){const _0x3ad3b9=_0x469352['light'],_0x175c04=[];let _0x419953;for(let _0x5c33b0=0x2052+0xed2+-0xbc9*0x4;_0x5c33b0<To['length'];_0x5c33b0++)_0x419953=To[_0x5c33b0],_0x419953!=='light'&&(_0x3ad3b9[_0x419953]&&_0x3ad3b9[_0x419953]['clone']?_0x175c04[_0x419953]=_0x3ad3b9[_0x419953]['clone']():_0x175c04[_0x419953]=_0x3ad3b9[_0x419953]);return this['addCompone'+'nt'](_0x54a828,_0x175c04);}['changeType'](_0x4246f8,_0x30b382,_0xe0217b){_0x30b382!==_0xe0217b&&(_0x4246f8['light']['type']=Gu[_0xe0217b]);}}const ZI=['x','y','z','w'],QI=[void(-0xd6a+0x982+0x8*0x7d),void(0xc4e+0x671*-0x5+-0x1*-0x13e7),W,T,Q];function La(_0x43578c,_0x41ad65,_0x58ac29,_0xcad22d){switch(_0x41ad65['type']){case'boolean':return!!_0x58ac29;case'number':if(typeof _0x58ac29=='number')return _0x58ac29;if(typeof _0x58ac29=='string'){const _0x436450=parseInt(_0x58ac29,0x1*-0x19a2+0x886+0xa*0x1b7);return isNaN(_0x436450)?null:_0x436450;}else{if(typeof _0x58ac29=='boolean')return-0x1cb9+-0x1133+0x2dec+_0x58ac29;}return null;case'json':{const _0x5a62ee={};if(Array['isArray'](_0x41ad65['schema'])){(!_0x58ac29||typeof _0x58ac29!='object')&&(_0x58ac29={});for(let _0x4ea58a=-0x2*-0xee9+-0x1*-0xcdb+-0x2aad;_0x4ea58a<_0x41ad65['schema']['length'];_0x4ea58a++){const _0x2c2c43=_0x41ad65['schema'][_0x4ea58a];if(_0x2c2c43['name']){if(_0x2c2c43['array']){_0x5a62ee[_0x2c2c43['name']]=[];const _0x1f3387=Array['isArray'](_0x58ac29[_0x2c2c43['name']])?_0x58ac29[_0x2c2c43['name']]:[];for(let _0x12b8c0=0x1ad2+-0xe67+0x11*-0xbb;_0x12b8c0<_0x1f3387['length'];_0x12b8c0++)_0x5a62ee[_0x2c2c43['name']]['push'](La(_0x43578c,_0x2c2c43,_0x1f3387[_0x12b8c0]));}else{const _0xd3cddc=_0x58ac29['hasOwnProp'+'erty'](_0x2c2c43['name'])?_0x58ac29[_0x2c2c43['name']]:_0x2c2c43['default'];_0x5a62ee[_0x2c2c43['name']]=La(_0x43578c,_0x2c2c43,_0xd3cddc);}}}}return _0x5a62ee;}case'asset':return _0x58ac29 instanceof le?_0x58ac29:typeof _0x58ac29=='number'?_0x43578c['assets']['get'](_0x58ac29)||null:typeof _0x58ac29=='string'&&_0x43578c['assets']['get'](parseInt(_0x58ac29,0x4bd*-0x5+-0x1e1a+0x1*0x35d5))||null;case'entity':return _0x58ac29 instanceof De?_0x58ac29:typeof _0x58ac29=='string'?_0x43578c['getEntityF'+'romIndex'](_0x58ac29):null;case'rgb':case'rgba':if(_0x58ac29 instanceof Y)return _0xcad22d instanceof Y?(_0xcad22d['copy'](_0x58ac29),_0xcad22d):_0x58ac29['clone']();if(_0x58ac29 instanceof Array&&_0x58ac29['length']>=0x1*0x11ef+-0x368+0xe84*-0x1&&_0x58ac29['length']<=0x17f6+-0x1*0x14e1+0x311*-0x1){for(let _0x5e73f6=0x3aa+-0x178a+0x13e0;_0x5e73f6<_0x58ac29['length'];_0x5e73f6++)if(typeof _0x58ac29[_0x5e73f6]!='number')return null;return _0xcad22d||(_0xcad22d=new Y()),_0xcad22d['r']=_0x58ac29[0x2703+-0x7*-0x57+-0x2964],_0xcad22d['g']=_0x58ac29[0xc61*-0x2+0xbec+0xcd7],_0xcad22d['b']=_0x58ac29[0x40d+-0x156*-0xe+0x16bf*-0x1],_0xcad22d['a']=_0x58ac29['length']===0xa59+0x2c6*-0xb+0x50b*0x4?0x12b5*-0x1+-0x152*0x6+0x1aa2:_0x58ac29[-0x4b1+-0x1287+0x1*0x173b],_0xcad22d;}else{if(typeof _0x58ac29=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x58ac29))return _0xcad22d||(_0xcad22d=new Y()),_0xcad22d['fromString'](_0x58ac29),_0xcad22d;}return null;case'vec2':case'vec3':case'vec4':{const _0x2642c1=parseInt(_0x41ad65['type']['slice'](-0x151*0x16+-0xbc4*-0x1+-0x5*-0x371),0x5d4+0x5db*0x2+0x10*-0x118),_0x38dcdd=QI[_0x2642c1];if(_0x58ac29 instanceof _0x38dcdd)return _0xcad22d instanceof _0x38dcdd?(_0xcad22d['copy'](_0x58ac29),_0xcad22d):_0x58ac29['clone']();if(_0x58ac29 instanceof Array&&_0x58ac29['length']===_0x2642c1){for(let _0x1ec910=0x1*-0x30f+0x2382+0xad1*-0x3;_0x1ec910<_0x58ac29['length'];_0x1ec910++)if(typeof _0x58ac29[_0x1ec910]!='number')return null;_0xcad22d||(_0xcad22d=new _0x38dcdd());for(let _0x40ebdb=0x15b+-0x1*-0x1f75+-0x20d0;_0x40ebdb<_0x2642c1;_0x40ebdb++)_0xcad22d[ZI[_0x40ebdb]]=_0x58ac29[_0x40ebdb];return _0xcad22d;}return null;}case'curve':if(_0x58ac29){let _0x3cd9b7;if(_0x58ac29 instanceof Cs||_0x58ac29 instanceof jr)_0x3cd9b7=_0x58ac29['clone']();else{const _0x353063=_0x58ac29['keys'][-0x134e+0x3d1*-0x1+0x3*0x7b5]instanceof Array?jr:Cs;_0x3cd9b7=new _0x353063(_0x58ac29['keys']),_0x3cd9b7['type']=_0x58ac29['type'];}return _0x3cd9b7;}break;}return _0x58ac29;}function Ax(_0x3f3832,_0x206790,_0x85a911,_0x2b5279){return _0x206790['array']?_0x85a911['map']((_0x217e9e,_0x575073)=>La(_0x3f3832,_0x206790,_0x217e9e,_0x2b5279?_0x2b5279[_0x575073]:null)):La(_0x3f3832,_0x206790,_0x85a911,_0x2b5279);}function Ex(_0x433560,_0x5660b1,_0xc05346,_0x18e9df){if(_0xc05346)for(const _0x8265da in _0x5660b1){const _0x1d0ae7=_0x5660b1[_0x8265da],_0x19fa45=_0xc05346[_0x8265da];_0x19fa45!==void(0x25*-0x25+0x25*-0x65+-0x2*-0x9f9)&&(_0x18e9df[_0x8265da]=Ax(_0x433560,_0x1d0ae7,_0x19fa45,_0x18e9df[_0x8265da]));}}const oa=class oa{constructor(_0x1aff2a){this['scriptType']=_0x1aff2a,this['index']={};}['add'](_0x5ec786,_0x4fd8e3){if(this['index'][_0x5ec786]){v['warn']('attribute\x20'+'\x27'+_0x5ec786+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x5ec786)){v['warn']('attribute\x20'+'\x27'+_0x5ec786+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x5ec786]=_0x4fd8e3,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x5ec786,{'get':function(){return this['__attribut'+'es'][_0x5ec786];},'set':function(_0x397752){const _0x4e9848='attr',_0x150ef7='attr:'+_0x5ec786,_0x264638=this['__attribut'+'es'][_0x5ec786];let _0x75b9ee=_0x264638;if(_0x264638&&_0x4fd8e3['type']!=='json'&&_0x4fd8e3['type']!=='entity'&&_0x264638['clone']&&(this['hasEvent'](_0x4e9848)||this['hasEvent'](_0x150ef7))&&(_0x75b9ee=_0x264638['clone']()),_0x4fd8e3['array']){if(this['__attribut'+'es'][_0x5ec786]=[],_0x397752){for(let _0x45624d=-0x239b+0x2558+-0x1bd,_0x551b70=_0x397752['length'];_0x45624d<_0x551b70;_0x45624d++)this['__attribut'+'es'][_0x5ec786]['push'](La(this['app'],_0x4fd8e3,_0x397752[_0x45624d],_0x264638?_0x264638[_0x45624d]:null));}}else this['__attribut'+'es'][_0x5ec786]=La(this['app'],_0x4fd8e3,_0x397752,_0x264638);this['fire'](_0x4e9848,_0x5ec786,this['__attribut'+'es'][_0x5ec786],_0x75b9ee),this['fire'](_0x150ef7,this['__attribut'+'es'][_0x5ec786],_0x75b9ee);}});}['remove'](_0x37e037){return this['index'][_0x37e037]?(delete this['index'][_0x37e037],delete this['scriptType']['prototype'][_0x37e037],!(0x5*0x46f+-0x8b+-0x15a0)):!(-0x1a75*0x1+-0x1c30+0x36a6);}['has'](_0x4a5614){return!!this['index'][_0x4a5614];}['get'](_0x29ae60){return this['index'][_0x29ae60]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x29a31a){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x29a31a);}set['enabled'](_0x1b8688){this['_enabled']=!!_0x1b8688,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x211*-0xd+-0x7*0x2bd+-0x7b2),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0xb7b*-0x1+-0x22c1+0x1746),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x52ff46){const _0x571aa6=this['constructo'+'r'];v['assert'](_0x52ff46&&_0x52ff46['app']&&_0x52ff46['entity'],'script\x20['+_0x571aa6['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x52ff46['app'],this['entity']=_0x52ff46['entity'],this['_enabled']=typeof _0x52ff46['enabled']=='boolean'?_0x52ff46['enabled']:!(-0x23de*0x1+-0xe1e+0x724*0x7),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x34*-0xb0+-0xa3e+-0x1981),this['__scriptTy'+'pe']=_0x571aa6,this['__executio'+'nOrder']=-(-0x146f+-0xbad+0x201d);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x1dfca9){if(typeof _0x1dfca9!='function')return;if('name'in Function['prototype'])return _0x1dfca9['name'];if(_0x1dfca9===Function||_0x1dfca9===Function['prototype']['constructo'+'r'])return'Function';const _0x1ea1a9=(''+_0x1dfca9)['match'](sD);return _0x1ea1a9?_0x1ea1a9[0xca*0x7+0x814+-0xd99]:void(-0x18c5+-0x786+-0x1*-0x204b);}class Qh extends Ht{constructor(_0x29ea3b){super(_0x29ea3b),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x29ea3b);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x298f47){Ht['prototype']['initScript']['call'](this,_0x298f47),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x298f47['attributes']||{};}['initScript'+'Type'](_0x6f0dd9){this['initScript'](_0x6f0dd9);}['__initiali'+'zeAttribut'+'es'](_0x13fda8){if(!(!_0x13fda8&&!this['__attribut'+'esRaw'])){for(const _0x96567d in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x96567d)?this[_0x96567d]=this['__attribut'+'esRaw'][_0x96567d]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x96567d)||(this['__scriptTy'+'pe']['attributes']['index'][_0x96567d]['hasOwnProp'+'erty']('default')?this[_0x96567d]=this['__scriptTy'+'pe']['attributes']['index'][_0x96567d]['default']:this[_0x96567d]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x220a31){for(const _0x118336 in _0x220a31)_0x220a31['hasOwnProp'+'erty'](_0x118336)&&(this['prototype'][_0x118336]=_0x220a31[_0x118336]);}}const iD=_0x37030c=>_0x37030c[-0x1*-0xa06+0x4a*-0x7b+0x1988]['toLowerCas'+'e']()+_0x37030c['substring'](-0x125*-0xa+-0x18f+-0x9e2);class di extends ue{constructor(_0x3779fd,_0x255b23){super(_0x3779fd,_0x255b23),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x21d*-0x7+0x17*0x142+0x12*-0xc9),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x837+0x1eb1+-0x26e8),this['_enabled']=!(0xa9f+-0x1*-0x1ba1+-0x2640),this['_beingEnab'+'led']=!(0x2*-0x733+0x1096*0x1+-0x22f*0x1),this['_isLooping'+'ThroughScr'+'ipts']=!(0x1479+-0x376*0x1+-0x1102*0x1),this['_execution'+'Order']=-(0xb9*-0x1a+-0x1037+0x2302),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x507e1f){this['_scriptsDa'+'ta']=_0x507e1f;for(const _0x289f8f in _0x507e1f){if(!_0x507e1f['hasOwnProp'+'erty'](_0x289f8f))continue;const _0x48622b=this['_scriptsIn'+'dex'][_0x289f8f];if(_0x48622b){if(typeof _0x507e1f[_0x289f8f]['enabled']=='boolean'&&(_0x48622b['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x48622b);}),_0x48622b['enabled']=!!_0x507e1f[_0x289f8f]['enabled']),typeof _0x507e1f[_0x289f8f]['attributes']=='object'){for(const _0x424525 in _0x507e1f[_0x289f8f]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x424525)){if(!_0x48622b['__attribut'+'es']['hasOwnProp'+'erty'](_0x424525)){const _0x38d0b7=this['system']['app']['scripts']['get'](_0x289f8f);_0x38d0b7&&_0x38d0b7['attributes']['add'](_0x424525,{});}_0x48622b[_0x424525]=_0x507e1f[_0x289f8f]['attributes'][_0x424525];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x8cf051){const _0x38a1be=this['_enabled'];this['_enabled']=_0x8cf051,this['fire']('set','enabled',_0x38a1be,_0x8cf051);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x323+-0x1*0x1021+-0x67f*-0x2),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x88+-0x2c5*-0x1+-0xd3*0x4);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x35f815=this['_beginLoop'+'ing']();for(let _0x3fc197=-0x1*0x25a9+-0xd50+0x32f9,_0x3afecf=this['scripts']['length'];_0x3fc197<_0x3afecf;_0x3fc197++){const _0x4dfd3a=this['scripts'][_0x3fc197];_0x4dfd3a['_initializ'+'ed']&&!_0x4dfd3a['_postIniti'+'alized']&&_0x4dfd3a['enabled']&&(_0x4dfd3a['_postIniti'+'alized']=!(0x91*-0x9+-0x1*0xf5c+0x1475),_0x4dfd3a['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x4dfd3a,gf));}this['_endLoopin'+'g'](_0x35f815);}['_beginLoop'+'ing'](){const _0x2d8408=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x75d+-0x1*-0x2144+0x1*-0x28a1),_0x2d8408;}['_endLoopin'+'g'](_0xf823c4){this['_isLooping'+'ThroughScr'+'ipts']=_0xf823c4,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x2d4d84,_0x34b07a,_0x2a2c8c){this['_beingEnab'+'led']=!(-0xaf9+0x19d2+0xed9*-0x1),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x246*-0xb+0xea5+-0x27a6);}['_checkStat'+'e'](){const _0x507829=this['enabled']&&this['entity']['enabled'];if(_0x507829===this['_oldState'])return;this['_oldState']=_0x507829,this['fire'](_0x507829?'enable':'disable'),this['fire']('state',_0x507829),_0x507829?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0xe2f0e6=this['_beginLoop'+'ing']();for(let _0x2b4504=0x3e7+-0x3*0x751+0x120c,_0x1320e2=this['scripts']['length'];_0x2b4504<_0x1320e2;_0x2b4504++){const _0x1b28d0=this['scripts'][_0x2b4504];_0x1b28d0['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x1b28d0);}),_0x1b28d0['enabled']=_0x1b28d0['_enabled'];}this['_endLoopin'+'g'](_0xe2f0e6);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x280dd8=this['_beginLoop'+'ing']();for(let _0x207aef=0x18f+-0x1*0x1941+0x12*0x151;_0x207aef<this['scripts']['length'];_0x207aef++){const _0x2e4539=this['scripts'][_0x207aef];_0x2e4539&&this['destroy'](_0x2e4539['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x280dd8);}['_removeDes'+'troyedScri'+'pts'](){const _0x4e6d04=this['_destroyed'+'Scripts']['length'];if(_0x4e6d04){for(let _0x1c4b39=0x3*0x207+0x20c4+-0x26d9;_0x1c4b39<_0x4e6d04;_0x1c4b39++){const _0x50b88f=this['_destroyed'+'Scripts'][_0x1c4b39];this['_removeScr'+'iptInstanc'+'e'](_0x50b88f);}this['_destroyed'+'Scripts']['length']=0x7b6*-0x5+-0x2d*-0x62+0x1554,this['_resetExec'+'utionOrder'](0x2*0x62a+0x31e+-0x526*0x3,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x184bf6=-0x5*0x6b+-0x7b*-0x51+-0x4*0x935,_0x130490=this['scripts']['length'];_0x184bf6<_0x130490;_0x184bf6++){const _0x129730=this['scripts'][_0x184bf6];this['initialize'+'Attributes'](_0x129730);}}['initialize'+'Attributes'](_0x4b48ba){var _0xd5403e;if(_0x4b48ba instanceof Qh)_0x4b48ba['__initiali'+'zeAttribut'+'es']();else{const _0x34f947=_0x4b48ba['__scriptTy'+'pe']['__name'],_0x488202=this['_attribute'+'DataMap']['get'](_0x34f947);if(!_0x488202)return;const _0x11acfe=(_0xd5403e=this['system']['app']['scripts'])==null?void(0x4ec*-0x4+-0x5*-0x675+-0xc99):_0xd5403e['getSchema'](_0x34f947);_0x11acfe||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x34f947+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x11acfe['attributes'],_0x488202,_0x4b48ba);}}['_scriptMet'+'hod'](_0x143f8a,_0x2e402e,_0x2827f6){try{_0x143f8a[_0x2e402e](_0x2827f6);}catch(_0x46fd66){_0x143f8a['enabled']=!(0x10c8+-0xf38+-0x18f),_0x143f8a['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x2e402e+'\x22\x20for\x20\x22'+_0x143f8a['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x46fd66),console['error'](_0x46fd66)),_0x143f8a['fire']('error',_0x46fd66,_0x2e402e),this['fire']('error',_0x143f8a,_0x46fd66,_0x2e402e);}}['_onInitial'+'ize'](){const _0x1e8c10=this['_scripts'],_0x1d972e=this['_beginLoop'+'ing']();for(let _0x56bb8d=0xa5b+0x925*0x1+0x340*-0x6,_0x50d3ff=_0x1e8c10['length'];_0x56bb8d<_0x50d3ff;_0x56bb8d++){const _0xad1e7f=_0x1e8c10[_0x56bb8d];!_0xad1e7f['_initializ'+'ed']&&_0xad1e7f['enabled']&&(_0xad1e7f['_initializ'+'ed']=!(-0x1b85+-0x1af*0xb+-0x1705*-0x2),_0xad1e7f['initialize']&&this['_scriptMet'+'hod'](_0xad1e7f,_f));}this['_endLoopin'+'g'](_0x1d972e);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x1ac85a){const _0xffb1af=this['_updateLis'+'t'];if(!_0xffb1af['length'])return;const _0x2fdfbb=this['_beginLoop'+'ing']();for(_0xffb1af['loopIndex']=0x10*-0x112+0x5*0x6cd+0x1d*-0x95;_0xffb1af['loopIndex']<_0xffb1af['length'];_0xffb1af['loopIndex']++){const _0x1bbde8=_0xffb1af['items'][_0xffb1af['loopIndex']];_0x1bbde8['enabled']&&this['_scriptMet'+'hod'](_0x1bbde8,JI,_0x1ac85a);}this['_endLoopin'+'g'](_0x2fdfbb);}['_onPostUpd'+'ate'](_0x2d2da6){const _0x70f061=this['_postUpdat'+'eList'];if(!_0x70f061['length'])return;const _0x4b1aef=this['_beginLoop'+'ing']();for(_0x70f061['loopIndex']=-0x1fe8+-0x124e+0x3236;_0x70f061['loopIndex']<_0x70f061['length'];_0x70f061['loopIndex']++){const _0x4ea062=_0x70f061['items'][_0x70f061['loopIndex']];_0x4ea062['enabled']&&this['_scriptMet'+'hod'](_0x4ea062,eD,_0x2d2da6);}this['_endLoopin'+'g'](_0x4b1aef);}['_insertScr'+'iptInstanc'+'e'](_0x531e84,_0x500f79,_0x5263eb){_0x500f79===-(-0x25c9+0x21f5+-0x1*-0x3d5)?(this['_scripts']['push'](_0x531e84),_0x531e84['__executio'+'nOrder']=_0x5263eb,_0x531e84['update']&&this['_updateLis'+'t']['append'](_0x531e84),_0x531e84['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x531e84)):(this['_scripts']['splice'](_0x500f79,-0x19*0xe8+-0xb6*0x17+-0x2*-0x1381,_0x531e84),_0x531e84['__executio'+'nOrder']=_0x500f79,this['_resetExec'+'utionOrder'](_0x500f79+(0x939+0x641*0x4+-0x111e*0x2),_0x5263eb+(-0x131*-0x6+0x148b+-0x1bb0*0x1)),_0x531e84['update']&&this['_updateLis'+'t']['insert'](_0x531e84),_0x531e84['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x531e84));}['_removeScr'+'iptInstanc'+'e'](_0x16304b){const _0x7c2181=this['_scripts']['indexOf'](_0x16304b);return _0x7c2181===-(-0x23*-0x97+0x8aa+0x1f*-0xf2)||(this['_scripts']['splice'](_0x7c2181,-0xe5e+0x4c5+-0x2*-0x4cd),_0x16304b['update']&&this['_updateLis'+'t']['remove'](_0x16304b),_0x16304b['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x16304b)),_0x7c2181;}['_resetExec'+'utionOrder'](_0x22caa4,_0x195000){for(let _0x5b3dda=_0x22caa4;_0x5b3dda<_0x195000;_0x5b3dda++)this['_scripts'][_0x5b3dda]['__executio'+'nOrder']=_0x5b3dda;}['_resolveEn'+'tityScript'+'Attribute'](_0x2e5150,_0x4c9bc9,_0x714067,_0x51a191,_0x28de7f,_0x1b7d51){if(_0x2e5150['array']){const _0x641633=_0x714067['length'];if(!_0x641633)return;const _0x55a388=_0x714067['slice']();for(let _0x3649f3=-0xeac+0xa0d*0x1+0x7*0xa9;_0x3649f3<_0x641633;_0x3649f3++){const _0x197981=_0x55a388[_0x3649f3]instanceof We?_0x55a388[_0x3649f3]['getGuid']():_0x55a388[_0x3649f3];_0x1b7d51[_0x197981]&&(_0x55a388[_0x3649f3]=_0x51a191?_0x1b7d51[_0x197981]['getGuid']():_0x1b7d51[_0x197981]);}_0x28de7f[_0x4c9bc9]=_0x55a388;}else{if(_0x714067 instanceof We)_0x714067=_0x714067['getGuid']();else{if(typeof _0x714067!='string')return;}_0x1b7d51[_0x714067]&&(_0x28de7f[_0x4c9bc9]=_0x1b7d51[_0x714067]);}}['has'](_0x32754c){if(typeof _0x32754c=='string')return!!this['_scriptsIn'+'dex'][_0x32754c];if(!_0x32754c)return!(0xc68+-0x1*0x819+0x2*-0x227);const _0x3140d6=_0x32754c,_0x23cdef=_0x3140d6['__name'],_0xb15b82=this['_scriptsIn'+'dex'][_0x23cdef];return(_0xb15b82&&_0xb15b82['instance'])instanceof _0x3140d6;}['get'](_0x3cd563){if(typeof _0x3cd563=='string'){const _0x30d877=this['_scriptsIn'+'dex'][_0x3cd563];return _0x30d877?_0x30d877['instance']:null;}if(!_0x3cd563)return null;const _0x3d3f22=_0x3cd563,_0x276658=_0x3d3f22['__name'],_0x91f856=this['_scriptsIn'+'dex'][_0x276658],_0x4a90e3=_0x91f856&&_0x91f856['instance'];return _0x4a90e3 instanceof _0x3d3f22?_0x4a90e3:null;}['create'](_0x182e4d,_0xffd8bb={}){const _0x5d05fd=this;let _0x26322d=_0x182e4d,_0x4b87ae=_0x182e4d;if(typeof _0x26322d=='string'?_0x26322d=this['system']['app']['scripts']['get'](_0x26322d):_0x26322d&&(_0x4b87ae=_0x26322d['__name']??(_0x26322d['__name']=iD(Cx(_0x26322d)))),_0x26322d){if(!this['_scriptsIn'+'dex'][_0x4b87ae]||!this['_scriptsIn'+'dex'][_0x4b87ae]['instance']){const _0x5c5c19=new _0x26322d({'app':this['system']['app'],'entity':this['entity'],'enabled':_0xffd8bb['hasOwnProp'+'erty']('enabled')?_0xffd8bb['enabled']:!(-0x142f+-0x5*0x5db+0x3176),'attributes':_0xffd8bb['attributes']||{}});_0xffd8bb['properties']&&typeof _0xffd8bb['properties']=='object'&&Object['assign'](_0x5c5c19,_0xffd8bb['properties']),_0x5c5c19 instanceof Qh||this['_attribute'+'DataMap']['set'](_0x4b87ae,_0xffd8bb['attributes']);const _0x3d1f6c=this['_scripts']['length'];let _0x278d1e=-(0x1e14*-0x1+-0xd*-0x27b+-0x22a);return typeof _0xffd8bb['ind']=='number'&&_0xffd8bb['ind']!==-(-0xd8f+0x155f*-0x1+0x1*0x22ef)&&_0x3d1f6c>_0xffd8bb['ind']&&(_0x278d1e=_0xffd8bb['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x5c5c19,_0x278d1e,_0x3d1f6c),this['_scriptsIn'+'dex'][_0x4b87ae]={'instance':_0x5c5c19,'onSwap':function(){_0x5d05fd['swap'](_0x4b87ae);}},this[_0x4b87ae]=_0x5c5c19,_0xffd8bb['preloading']||this['initialize'+'Attributes'](_0x5c5c19),this['fire']('create',_0x4b87ae,_0x5c5c19),this['fire']('create:'+_0x4b87ae,_0x5c5c19),this['system']['app']['scripts']['on']('swap:'+_0x4b87ae,this['_scriptsIn'+'dex'][_0x4b87ae]['onSwap']),_0xffd8bb['preloading']||(_0x5c5c19['enabled']&&!_0x5c5c19['_initializ'+'ed']&&(_0x5c5c19['_initializ'+'ed']=!(-0x206d*0x1+-0x1*-0x1993+0x2*0x36d),_0x5c5c19['initialize']&&this['_scriptMet'+'hod'](_0x5c5c19,_f)),_0x5c5c19['enabled']&&!_0x5c5c19['_postIniti'+'alized']&&(_0x5c5c19['_postIniti'+'alized']=!(-0x11e4*0x2+0x1425+0xfa3),_0x5c5c19['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x5c5c19,gf))),_0x5c5c19;}v['warn']('script\x20\x27'+_0x4b87ae+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x4b87ae]={'awaiting':!(0x90a*-0x4+0x449+0x29*0xc7),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x4b87ae+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x3013f2){let _0x5e2bdb=_0x3013f2,_0x24879b=_0x3013f2;typeof _0x24879b=='string'?_0x24879b=this['system']['app']['scripts']['get'](_0x24879b):_0x24879b&&(_0x5e2bdb=_0x24879b['__name']);const _0x25a50f=this['_scriptsIn'+'dex'][_0x5e2bdb];if(delete this['_scriptsIn'+'dex'][_0x5e2bdb],!_0x25a50f)return!(-0x4f*-0x16+0xdd1*-0x2+-0x14d9*-0x1);this['_attribute'+'DataMap']['delete'](_0x5e2bdb);const _0x19d7da=_0x25a50f['instance'];if(_0x19d7da&&!_0x19d7da['_destroyed']){if(_0x19d7da['enabled']=!(-0x1*-0xcb5+0x1967+-0x1*0x261b),_0x19d7da['_destroyed']=!(0x2270+0xac*-0x4+-0x1fc0),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x19d7da);else{const _0x4697c=this['_removeScr'+'iptInstanc'+'e'](_0x19d7da);_0x4697c>=0xc*-0x296+0x7ed+-0x34d*-0x7&&this['_resetExec'+'utionOrder'](_0x4697c,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x5e2bdb,_0x25a50f['onSwap']),delete this[_0x5e2bdb],this['fire']('destroy',_0x5e2bdb,_0x19d7da||null),this['fire']('destroy:'+_0x5e2bdb,_0x19d7da||null),_0x19d7da&&_0x19d7da['fire']('destroy'),!(-0x3f*-0x3b+0xa21+-0x277*0xa);}['swap'](_0x9c4b7e){let _0x327af6=_0x9c4b7e,_0x40a02d=_0x9c4b7e;typeof _0x40a02d=='string'?_0x40a02d=this['system']['app']['scripts']['get'](_0x40a02d):_0x40a02d&&(_0x327af6=_0x40a02d['__name']);const _0x2dd30a=this['_scriptsIn'+'dex'][_0x327af6];if(!_0x2dd30a||!_0x2dd30a['instance'])return!(-0xf*-0x274+-0xa*-0x29d+-0x3eed);const _0x5bffb5=_0x2dd30a['instance'],_0x45b9fa=this['_scripts']['indexOf'](_0x5bffb5),_0x44c370=new _0x40a02d({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x5bffb5['enabled'],'attributes':_0x5bffb5['__attribut'+'es']});return _0x44c370['swap']?(this['initialize'+'Attributes'](_0x44c370),this['_scripts'][_0x45b9fa]=_0x44c370,this['_scriptsIn'+'dex'][_0x327af6]['instance']=_0x44c370,this[_0x327af6]=_0x44c370,_0x44c370['__executio'+'nOrder']=_0x45b9fa,_0x5bffb5['update']&&this['_updateLis'+'t']['remove'](_0x5bffb5),_0x5bffb5['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x5bffb5),_0x44c370['update']&&this['_updateLis'+'t']['insert'](_0x44c370),_0x44c370['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x44c370),this['_scriptMet'+'hod'](_0x44c370,tD,_0x5bffb5),this['fire']('swap',_0x327af6,_0x44c370),this['fire']('swap:'+_0x327af6,_0x44c370),!(-0x1*0x269b+-0x22b+0x28c6)):!(-0x4*-0x281+0xc84+-0x49*0x4f);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x38340c,_0x957b34){const _0x10e3b5=this['entity']['script'];for(const _0x277a71 in _0x38340c['_scriptsIn'+'dex']){const _0x445e8e=this['system']['app']['scripts']['get'](_0x277a71);if(!_0x445e8e)continue;const _0x31d923=_0x38340c['_scriptsIn'+'dex'][_0x277a71];if(!_0x31d923||!_0x31d923['instance'])continue;const _0x1b4db9=_0x10e3b5[_0x277a71]['__attribut'+'esRaw'],_0x1368c5=_0x10e3b5[_0x277a71]['__attribut'+'es'];if(!_0x1b4db9&&!_0x1368c5)continue;const _0x5f1b7e=!!_0x1b4db9,_0xcd2e55=_0x31d923['instance']['__attribut'+'es'];for(const _0x328741 in _0xcd2e55){if(!_0xcd2e55[_0x328741])continue;const _0x1602b9=_0x445e8e['attributes']['get'](_0x328741);if(_0x1602b9){if(_0x1602b9['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x1602b9,_0x328741,_0xcd2e55[_0x328741],_0x5f1b7e,_0x1b4db9||_0x1368c5,_0x957b34);else{if(_0x1602b9['type']==='json'&&Array['isArray'](_0x1602b9['schema'])){const _0x3c721e=_0xcd2e55[_0x328741],_0x1a2bbc=_0x1b4db9?_0x1b4db9[_0x328741]:_0x1368c5[_0x328741];for(let _0x246057=-0x2198+-0xa92+0x1*0x2c2a;_0x246057<_0x1602b9['schema']['length'];_0x246057++){const _0x563891=_0x1602b9['schema'][_0x246057];if(_0x563891['type']==='entity'){if(_0x1602b9['array']){for(let _0x44650f=0x1*0x25a0+0x233*0x1+-0x27d3;_0x44650f<_0x3c721e['length'];_0x44650f++)this['_resolveEn'+'tityScript'+'Attribute'](_0x563891,_0x563891['name'],_0x3c721e[_0x44650f][_0x563891['name']],_0x5f1b7e,_0x1a2bbc[_0x44650f],_0x957b34);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x563891,_0x563891['name'],_0x3c721e[_0x563891['name']],_0x5f1b7e,_0x1a2bbc,_0x957b34);}}}}}}}}['move'](_0xa2d275,_0x952ac9){const _0x357ef0=this['_scripts']['length'];if(_0x952ac9>=_0x357ef0||_0x952ac9<-0x18*0x13d+0x22*0x1c+-0x1*-0x1a00)return!(-0x9*0x81+-0xf5e+-0x1c*-0xb6);let _0x5b7119=_0xa2d275,_0x595bb7=_0xa2d275;typeof _0x595bb7!='string'?_0x595bb7=_0xa2d275['__name']:_0x5b7119=null;const _0x7ea84d=this['_scriptsIn'+'dex'][_0x595bb7];if(!_0x7ea84d||!_0x7ea84d['instance'])return!(0x96+-0x1da6+-0x427*-0x7);const _0x2707e4=_0x7ea84d['instance'];if(_0x5b7119&&!(_0x2707e4 instanceof _0x5b7119))return!(0x1b37+-0x133*0x16+-0x4*0x35);const _0x9085dd=this['_scripts']['indexOf'](_0x2707e4);return _0x9085dd===-(0x12ea+-0x81*0x2f+0x4c6)||_0x9085dd===_0x952ac9?!(0x2166+0xfbe*-0x2+-0x1e9):(this['_scripts']['splice'](_0x952ac9,-0x143e+0x22b+-0x1213*-0x1,this['_scripts']['splice'](_0x9085dd,0x647+0x343+-0x989)[0x571*0x1+0x1b3f+-0x8*0x416]),this['_resetExec'+'utionOrder'](0x1163*0x1+0x22*0x89+-0x2395,_0x357ef0),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x595bb7,_0x2707e4,_0x952ac9,_0x9085dd),this['fire']('move:'+_0x595bb7,_0x2707e4,_0x952ac9,_0x9085dd),!(-0x1daa+0x14b0+-0x2fe*-0x3));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x1f*-0x31+0xf*0x9c+-0x335);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=-0x457*0x2+-0x2*-0xd86+-0x125e;class cD extends Xe{constructor(_0x4ed629){super(_0x4ed629),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x1e8d+-0xe22+-0x1*-0x2caf),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x558fa1,_0x2a7d84){if(_0x558fa1['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x558fa1),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x558fa1['enabled']=_0x2a7d84['hasOwnProp'+'erty']('enabled')?!!_0x2a7d84['enabled']:!(0x1*-0x2582+-0x1c3+0x2745),_0x558fa1['enabled']&&_0x558fa1['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x558fa1),_0x2a7d84['hasOwnProp'+'erty']('order')&&_0x2a7d84['hasOwnProp'+'erty']('scripts')){_0x558fa1['_scriptsDa'+'ta']=_0x2a7d84['scripts'];for(let _0x2330c5=-0x1dd7+0x1501*0x1+0x8d6;_0x2330c5<_0x2a7d84['order']['length'];_0x2330c5++)_0x558fa1['create'](_0x2a7d84['order'][_0x2330c5],{'enabled':_0x2a7d84['scripts'][_0x2a7d84['order'][_0x2330c5]]['enabled'],'attributes':_0x2a7d84['scripts'][_0x2a7d84['order'][_0x2330c5]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x40c059,_0x198440){var _0x25cdba;const _0x2902d7=[],_0x221b48={};for(let _0x26f4f7=-0x4*-0x751+0x85a*-0x1+-0x14ea*0x1;_0x26f4f7<_0x40c059['script']['_scripts']['length'];_0x26f4f7++){const _0x18ba88=_0x40c059['script']['_scripts'][_0x26f4f7],_0x482155=_0x18ba88['__scriptTy'+'pe']['__name'];_0x2902d7['push'](_0x482155);const _0xafc785=((_0x25cdba=_0x40c059['script']['_attribute'+'DataMap'])==null?void(-0x36*-0x4a+-0x22e8+0x134c):_0x25cdba['get'](_0x482155))||{};for(const _0x5b4dc4 in _0x18ba88['__attribut'+'es'])_0xafc785[_0x5b4dc4]=_0x18ba88['__attribut'+'es'][_0x5b4dc4];_0x221b48[_0x482155]={'enabled':_0x18ba88['_enabled'],'attributes':_0xafc785};}for(const _0x536abd in _0x40c059['script']['_scriptsIn'+'dex'])_0x536abd['awaiting']&&_0x2902d7['splice'](_0x536abd['ind'],-0x33b*0x1+0x1e44+-0x1b09,_0x536abd);const _0xb22c93={'enabled':_0x40c059['script']['enabled'],'order':_0x2902d7,'scripts':_0x221b48};return this['addCompone'+'nt'](_0x198440,_0xb22c93);}['_resetExec'+'utionOrder'](){Jl=0x1012+-0xf8d*0x2+0xf08;for(let _0x23b3b3=-0x12f6+0xf32+0x1*0x3c4,_0x101e99=this['_component'+'s']['length'];_0x23b3b3<_0x101e99;_0x23b3b3++)this['_component'+'s']['items'][_0x23b3b3]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x297a12,_0x5cbdcb,_0x1aaa04){for(_0x297a12['loopIndex']=-0x1*0x81f+-0x8*-0x133+0x179*-0x1;_0x297a12['loopIndex']<_0x297a12['length'];_0x297a12['loopIndex']++)_0x297a12['items'][_0x297a12['loopIndex']][_0x5cbdcb](_0x1aaa04);}['_onInitial'+'ize'](){this['preloading']=!(-0x34d*-0x6+-0x25bc+0x11ef*0x1),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x1a06a5){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x1a06a5);}['_onPostUpd'+'ate'](_0x3f3cce){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x3f3cce);}['_addCompon'+'entToEnabl'+'ed'](_0x391b2b){this['_enabledCo'+'mponents']['insert'](_0x391b2b);}['_removeCom'+'ponentFrom'+'Enabled'](_0xd0ae99){this['_enabledCo'+'mponents']['remove'](_0xd0ae99);}['_onBeforeR'+'emove'](_0x3edbb4,_0x24289b){this['_component'+'s']['items']['indexOf'](_0x24289b)>=-0x2499+-0x2515+0x49ae&&_0x24289b['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x24289b),this['_component'+'s']['remove'](_0x24289b);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x13c397,_0xe220f2){super(_0x13c397,_0xe220f2),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x13c397['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0xe220f2['on']('remove',this['onRemoveCh'+'ild'],this),_0xe220f2['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xe220f2['on']('insert',this['onInsertCh'+'ild'],this),_0xe220f2['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x18c71c){var _0x1edb3b,_0x32a74f;this['_customAab'+'b']=_0x18c71c,(_0x32a74f=(_0x1edb3b=this['_instance'])==null?void(0x187*-0x1+0x1a31+-0x18aa*0x1):_0x1edb3b['meshInstan'+'ce'])==null||_0x32a74f['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x25f25a){var _0xe9f670;if(this['destroyIns'+'tance'](),this['_instance']=_0x25f25a,(_0xe9f670=this['_instance'])!=null&&_0xe9f670['meshInstan'+'ce']){const _0x1b30d1=this['_instance']['meshInstan'+'ce'];_0x1b30d1['node']||(_0x1b30d1['node']=this['entity']),_0x1b30d1['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x4d3dfb){this['_materialO'+'ptions']=Object['assign']({},_0x4d3dfb),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x5c11fb;return(_0x5c11fb=this['_instance'])==null?void(-0x1190+0x27*0x6b+0x143):_0x5c11fb['material'];}set['layers'](_0x7ef8a1){this['removeFrom'+'Layers'](),this['_layers']['length']=0x2*-0x803+0x2705+0x16ff*-0x1;for(let _0x24f78a=0x1*0x5e9+-0x947+0x35e;_0x24f78a<_0x7ef8a1['length'];_0x24f78a++)this['_layers'][_0x24f78a]=_0x7ef8a1[_0x24f78a];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x105ae2){const _0x57cdaa=_0x105ae2 instanceof le?_0x105ae2['id']:_0x105ae2;this['_assetRefe'+'rence']['id']!==_0x57cdaa&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x57cdaa,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x16bafc){const _0x9ae7b2=_0x16bafc instanceof le?_0x16bafc['id']:_0x16bafc;this['_assetRefe'+'rence']['id']=_0x9ae7b2;}['destroyIns'+'tance'](){var _0x1f4455;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x1f4455=this['_instance'])==null||_0x1f4455['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x4c221f,_0x400a63;const _0x5dcd6d=(_0x4c221f=this['instance'])==null?void(0xc72+0x1*0x1daa+-0x86c*0x5):_0x4c221f['meshInstan'+'ce'];if(_0x5dcd6d){const _0x1bd7a7=this['system']['app']['scene']['layers'];for(let _0x4b1dd9=-0x1*-0x233f+0xbc0+-0x2eff;_0x4b1dd9<this['_layers']['length'];_0x4b1dd9++)(_0x400a63=_0x1bd7a7['getLayerBy'+'Id'](this['_layers'][_0x4b1dd9]))==null||_0x400a63['addMeshIns'+'tances']([_0x5dcd6d]);}}['removeFrom'+'Layers'](){var _0x521f3c,_0x539475;const _0x6ebfa0=(_0x521f3c=this['instance'])==null?void(-0x261b+0x12a8+-0x1*-0x1373):_0x521f3c['meshInstan'+'ce'];if(_0x6ebfa0){const _0x3b4931=this['system']['app']['scene']['layers'];for(let _0x823d45=-0x1ec7*0x1+-0x1eb0+0x3d77;_0x823d45<this['_layers']['length'];_0x823d45++)(_0x539475=_0x3b4931['getLayerBy'+'Id'](this['_layers'][_0x823d45]))==null||_0x539475['removeMesh'+'Instances']([_0x6ebfa0]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x25b4ed,_0x4e4e04){this['addToLayer'+'s'](),_0x25b4ed['off']('add',this['onLayerAdd'+'ed'],this),_0x25b4ed['off']('remove',this['onLayerRem'+'oved'],this),_0x4e4e04['on']('add',this['onLayerAdd'+'ed'],this),_0x4e4e04['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x307225){this['layers']['indexOf'](_0x307225['id'])<-0x16e1+-0xb9d+0x227e||this['_instance']&&_0x307225['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x1867e9){this['layers']['indexOf'](_0x1867e9['id'])<-0x2612+-0x1f53+0x3a7*0x13||this['_instance']&&_0x1867e9['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x2d8df6=this['system']['app']['scene'],_0x5b7442=_0x2d8df6['layers'];this['_evtLayers'+'Changed']=_0x2d8df6['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5b7442&&(this['_evtLayerA'+'dded']=_0x5b7442['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5b7442['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x5ebd49,_0x4b1c36,_0x2929d1;const _0x2b5e56=this['system']['app']['scene']['layers'];(_0x5ebd49=this['_evtLayers'+'Changed'])==null||_0x5ebd49['off'](),this['_evtLayers'+'Changed']=null,_0x2b5e56&&((_0x4b1c36=this['_evtLayerA'+'dded'])==null||_0x4b1c36['off'](),this['_evtLayerA'+'dded']=null,(_0x2929d1=this['_evtLayerR'+'emoved'])==null||_0x2929d1['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x55b+0x7*0x109+-0xc99));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1*-0xc29+0x2c2*-0x2+0xbd*-0x9));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x1c2f8d=this['_assetRefe'+'rence']['asset'];_0x1c2f8d&&(this['instance']=_0x1c2f8d['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(-0x1408+0xdb1+0x657);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x189ed3){super(_0x189ed3),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4eeac7,_0x5c32ef,_0x21f442){_0x5c32ef['layers']&&_0x5c32ef['layers']['length']&&(_0x5c32ef['layers']=_0x5c32ef['layers']['slice'](0x15e5*-0x1+-0x427*0x6+0x2ecf));for(let _0x4a0329=0x12ae+-0x18a6+-0x2*-0x2fc;_0x4a0329<Rr['length'];_0x4a0329++)_0x5c32ef['hasOwnProp'+'erty'](Rr[_0x4a0329])&&(_0x4eeac7[Rr[_0x4a0329]]=_0x5c32ef[Rr[_0x4a0329]]);_0x5c32ef['aabbCenter']&&_0x5c32ef['aabbHalfEx'+'tents']&&(_0x4eeac7['customAabb']=new _e(new T(_0x5c32ef['aabbCenter']),new T(_0x5c32ef['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4eeac7,_0x5c32ef,yf);}['cloneCompo'+'nent'](_0x5422ef,_0x4f4225){const _0x133bb6=_0x5422ef['gsplat'],_0x5b1464={};for(let _0x494628=0xf52+0x11*0x179+0x285b*-0x1;_0x494628<Rr['length'];_0x494628++)_0x5b1464[Rr[_0x494628]]=_0x133bb6[Rr[_0x494628]];_0x5b1464['enabled']=_0x133bb6['enabled'],delete _0x5b1464['instance'];const _0x58c2d4=this['addCompone'+'nt'](_0x4f4225,_0x5b1464);return _0x58c2d4['instance']=_0x133bb6['instance']['clone'](),_0x133bb6['customAabb']&&(_0x58c2d4['customAabb']=_0x133bb6['customAabb']['clone']()),_0x58c2d4;}['onRemove'](_0x9d11e,_0x143825){_0x143825['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x21d5c8){this['decRefMesh'+'es'](),this['_meshes']=_0x21d5c8,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x21d5c8);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x3beb5a;(_0x3beb5a=this['_meshes'])==null||_0x3beb5a['forEach']((_0x3c50d9,_0x7195e)=>{_0x3c50d9&&(_0x3c50d9['decRefCoun'+'t'](),_0x3c50d9['refCount']<-0x1a77+0x635+0x111*0x13&&(_0x3c50d9['destroy'](),this['_meshes'][_0x7195e]=null));});}['incRefMesh'+'es'](){var _0x3546ce;(_0x3546ce=this['_meshes'])==null||_0x3546ce['forEach'](_0x5a8f78=>{_0x5a8f78==null||_0x5a8f78['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x3f8db3){const _0x1cca40=this;if(!_0x1cca40['resource'])return;const _0x5d2894=_0x3f8db3['resource'],_0x3afdeb=_0x5d2894['renders']&&_0x5d2894['renders'][_0x1cca40['data']['renderInde'+'x']];_0x3afdeb&&(_0x1cca40['resource']['meshes']=_0x3afdeb['resource']['meshes']);}function Lg(_0x43d9c0){const _0x29af0d=this;_0x29af0d['registry']['off']('load:'+_0x43d9c0['id'],yh,_0x29af0d),_0x29af0d['registry']['on']('load:'+_0x43d9c0['id'],yh,_0x29af0d),_0x29af0d['registry']['off']('remove:'+_0x43d9c0['id'],Fg,_0x29af0d),_0x29af0d['registry']['once']('remove:'+_0x43d9c0['id'],Fg,_0x29af0d),_0x43d9c0['resource']?yh['call'](_0x29af0d,_0x43d9c0):_0x29af0d['registry']['load'](_0x43d9c0);}function Fg(_0x4b46a9){const _0x304f52=this;_0x304f52['registry']['off']('load:'+_0x4b46a9['id'],yh,_0x304f52),_0x304f52['resource']&&_0x304f52['resource']['destroy']();}class fD extends Ne{constructor(_0x37ede1){super(_0x37ede1,'render'),this['_registry']=_0x37ede1['assets'];}['open'](_0x580d4f,_0x4e15cb){return new Hp();}['patch'](_0x1b7d5d,_0xae9ba4){if(!_0x1b7d5d['data']['containerA'+'sset'])return;const _0x8675c3=_0xae9ba4['get'](_0x1b7d5d['data']['containerA'+'sset']);if(!_0x8675c3){_0xae9ba4['once']('add:'+_0x1b7d5d['data']['containerA'+'sset'],Lg,_0x1b7d5d);return;}Lg['call'](_0x1b7d5d,_0x8675c3);}}class Px{constructor(_0x37a937,_0x47c83f,_0x5f2711,_0x5d085f){this['_paths']=_0x37a937,this['_input']=_0x47c83f,this['_output']=_0x5f2711,this['_interpola'+'tion']=_0x5d085f;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x4ce98e,_0x266d23){this['_component'+'s']=_0x4ce98e,this['_data']=_0x266d23;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0xbd8d5f,_0x12ca4b){let _0x25869f;const _0x4c00dd=(_0x1af7b5,_0x245b4e)=>{switch(_0x245b4e){case _0x25869f['DT_INT8']:return new Int8Array(_0x1af7b5['buffer'],_0x1af7b5['byteOffset'],_0x1af7b5['byteLength']);case _0x25869f['DT_INT16']:return new Int16Array(_0x1af7b5['buffer'],_0x1af7b5['byteOffset'],_0x1af7b5['byteLength']/(-0x1*-0x174e+-0x17*0x185+-0x1*-0xba7));case _0x25869f['DT_INT32']:return new Int32Array(_0x1af7b5['buffer'],_0x1af7b5['byteOffset'],_0x1af7b5['byteLength']/(-0x1*-0x6a1+-0x3*0xa93+-0x1*-0x191c));case _0x25869f['DT_UINT8']:return new Uint8Array(_0x1af7b5['buffer'],_0x1af7b5['byteOffset'],_0x1af7b5['byteLength']);case _0x25869f['DT_UINT16']:return new Uint16Array(_0x1af7b5['buffer'],_0x1af7b5['byteOffset'],_0x1af7b5['byteLength']/(0x26f4+-0x1*-0x1aa3+-0x67*0xa3));case _0x25869f['DT_UINT32']:return new Uint32Array(_0x1af7b5['buffer'],_0x1af7b5['byteOffset'],_0x1af7b5['byteLength']/(-0x2c5*0x7+-0x13ef+-0x109*-0x26));case _0x25869f['DT_FLOAT32']:return new Float32Array(_0x1af7b5['buffer'],_0x1af7b5['byteOffset'],_0x1af7b5['byteLength']/(0x232+0x17*0x1d+-0x19*0x31));}return null;},_0x38161=_0x5a2127=>{switch(_0x5a2127){case _0x25869f['DT_INT8']:return 0x1127+-0x1*0x1dee+0xcc8;case _0x25869f['DT_INT16']:return 0x42a+-0x1a25+0x15fd;case _0x25869f['DT_INT32']:return-0x19*0x5+-0x1479+0x14fa;case _0x25869f['DT_UINT8']:return 0x997+0x1*-0x6ad+-0x1*0x2e9;case _0x25869f['DT_UINT16']:return 0x512+-0xbec+0x2*0x36e;case _0x25869f['DT_UINT32']:return 0xed3+-0x23*0x96+0x5b3;case _0x25869f['DT_FLOAT32']:return 0x1*0xca6+0x107c+-0x1d1e*0x1;}return 0x4*-0x709+-0x4a*-0x5f+0xaf;},_0x265f2e=_0x39c5ef=>_0x39c5ef['num_compon'+'ents']()*_0x38161(_0x39c5ef['data_type']()),_0x87bfbf={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x11de28=(_0x12ba3b,_0x3d34bd)=>{const _0x4f8978=(_0x50eba4,_0x7b8d0b,_0x475b55)=>{_0x50eba4[-0xd4*0x1d+0xc92+0xb72]=_0x7b8d0b[-0x1335+-0xbd3*-0x2+-0x17b*0x3]-_0x475b55[0x6ad+-0xc*-0x49+-0xa19*0x1],_0x50eba4[0xa55+-0x1*0x104b+0x5f7]=_0x7b8d0b[0xc13+0x1ac+0x2*-0x6df]-_0x475b55[-0x1105*-0x1+-0x517+-0xbed],_0x50eba4[-0x6b8+0x252b+0x1*-0x1e71]=_0x7b8d0b[0x19*0xa3+-0x242d*-0x1+0x71*-0x76]-_0x475b55[0x76*-0x13+0x2e*-0x7f+0x1f96];},_0x1ded31=(_0x1ebe26,_0x3072cd,_0x2497b9)=>{_0x1ebe26[0x449+0x2*-0x4e1+-0x1*-0x579]=_0x3072cd[-0x644+0x262a*0x1+0x163*-0x17]*_0x2497b9[0x77f+0x1c7b+-0x23f8]-_0x2497b9[0x1bb8+-0x1739+0x1*-0x47e]*_0x3072cd[-0x1b17+0x2ad+0x186c],_0x1ebe26[-0x2491+0x1039+-0x1*-0x1459]=_0x3072cd[0x16cf+-0x4a3*-0x3+-0x24b6]*_0x2497b9[0x1860+-0x1a29+0x1c9]-_0x2497b9[-0x2336+0x5a1+0x1d97]*_0x3072cd[0x67d*0x1+-0x1f27*0x1+-0x9a*-0x29],_0x1ebe26[0x1dd9+-0x191e+-0x4b9]=_0x3072cd[-0x2*0x11f3+-0x2d*-0x67+0x11cb]*_0x2497b9[-0xf46+0x4f0+0xa57]-_0x2497b9[0x2190+-0x1e2*-0xa+-0x2*0x1a32]*_0x3072cd[-0x3*0x71+-0x1*0x199f+-0x1*-0x1af3];},_0x3f1e29=(_0x148d5d,_0x22099a)=>{const _0x173035=_0x148d5d[_0x22099a+(0x1d77+0xd6e+-0x2ae5)],_0x32d767=_0x148d5d[_0x22099a+(0x303+-0x6da*0x2+0xab2)],_0x438889=_0x148d5d[_0x22099a+(-0xdb*0x24+-0x20*-0x11e+-0x4f2)],_0x5b2a9d=(-0x92a+0x1a*0x121+-0x142f*0x1)/Math['sqrt'](_0x173035*_0x173035+_0x32d767*_0x32d767+_0x438889*_0x438889);_0x148d5d[_0x22099a+(-0x25c2+-0x2*0xfba+-0x1712*-0x3)]*=_0x5b2a9d,_0x148d5d[_0x22099a+(0x3d+-0x1e30+-0xefa*-0x2)]*=_0x5b2a9d,_0x148d5d[_0x22099a+(-0x6*0x3+-0x26*-0xcd+-0x1e5a)]*=_0x5b2a9d;},_0x45ff7b=(_0x3abf09,_0x3d51a6,_0x427c9d)=>{for(let _0x563286=0x14cb+0x368*-0x3+-0xa93;_0x563286<0xd*-0x23+0x218*0xe+-0x1b86;++_0x563286)_0x3abf09[_0x563286]=_0x3d51a6[_0x427c9d+_0x563286];},_0x1c4ad5=_0x3d34bd['length']/(-0xf4*0x1a+0xb98+-0xd33*-0x1),_0x13874c=_0x12ba3b['length']/(-0x1*-0x1107+0xb0+-0x11b4),_0x38e9f0=new Float32Array(_0x12ba3b['length']),_0x4e9345=[0x286+0x1c*-0x23+-0x14e*-0x1,0x2468+0x1f6+-0x265e,0x101*-0x3+-0x1c*0xe8+0x1c63],_0x33668f=[0x18c3+-0xefa+-0x9c9,-0x20ac+-0x19b*-0xd+0xbcd,-0x1c3f+-0x36f*-0x3+0x2*0x8f9],_0x54f818=[-0xda1+-0x7a3+0xaa2*0x2,0xa73+-0xbfb*-0x3+-0x2e64,-0x13f4+-0x2d7*-0x1+0x111d],_0x38588f=[-0x4a*0x41+0x9f5+0x13*0x77,-0xfdd+-0x2162+0x313f,0x3ce*-0x3+0x2b2+0x48*0x1f],_0x1d668c=[-0x30e*-0xa+-0x11*-0x131+0x121*-0x2d,0x1*-0x1c81+0x2b*-0x55+0x2ac8,0xd07+0xdbb+-0x1ac2],_0x43b7e9=[0x1c2b+-0x103c+-0xbef,-0x23ec+0x6*0x388+0xebc,-0x2086*0x1+-0xfbf+0x3045];for(let _0x4afb34=0x583+-0x91f+0x2c*0x15;_0x4afb34<_0x1c4ad5;++_0x4afb34){const _0x2c3e5f=_0x3d34bd[_0x4afb34*(0x10b+-0x28d+0x185*0x1)+(-0x1dd*0xd+0x1822+-0x17*-0x1)]*(-0x1*0x21e5+-0x23c*0x9+-0x4*-0xd81),_0x534edd=_0x3d34bd[_0x4afb34*(0x26ff+0x1b*-0x10+-0x2*0x12a6)+(0x805*0x1+-0x1*0x167d+0xe79)]*(-0x1b63+0x1c36+-0xd0),_0x10ed1a=_0x3d34bd[_0x4afb34*(-0x10*-0x1c1+0x1798+-0x33a5)+(-0x171f*-0x1+-0x51*-0x22+0x1d*-0x12b)]*(0x2704+-0x1284+-0x147d*0x1);_0x45ff7b(_0x4e9345,_0x12ba3b,_0x2c3e5f),_0x45ff7b(_0x33668f,_0x12ba3b,_0x534edd),_0x45ff7b(_0x54f818,_0x12ba3b,_0x10ed1a),_0x4f8978(_0x38588f,_0x33668f,_0x4e9345),_0x4f8978(_0x1d668c,_0x54f818,_0x4e9345),_0x1ded31(_0x43b7e9,_0x38588f,_0x1d668c),_0x3f1e29(_0x43b7e9,-0x24a0+-0x20fe+0x459e);for(let _0x4e3621=-0x1*0x209f+-0x14e4+-0x1*-0x3583;_0x4e3621<-0x9e2+0x343*0x6+-0x9ad;++_0x4e3621)_0x38e9f0[_0x2c3e5f+_0x4e3621]+=_0x43b7e9[_0x4e3621],_0x38e9f0[_0x534edd+_0x4e3621]+=_0x43b7e9[_0x4e3621],_0x38e9f0[_0x10ed1a+_0x4e3621]+=_0x43b7e9[_0x4e3621];}for(let _0x1194d2=-0x45a*-0x8+-0x1d52+-0x2*0x2bf;_0x1194d2<_0x13874c;++_0x1194d2)_0x3f1e29(_0x38e9f0,_0x1194d2*(0x33a+0xd*-0x2b3+0x1fe*0x10));return new Uint8Array(_0x38e9f0['buffer']);},_0x28146c=_0x9b3cef=>{const _0x5729ab={},_0x5eaf6e=new _0x25869f['DecoderBuf'+'fer']();_0x5eaf6e['Init'](_0x9b3cef,_0x9b3cef['length']);const _0x559d8e=new _0x25869f['Decoder']();if(_0x559d8e['GetEncoded'+'GeometryTy'+'pe'](_0x5eaf6e)!==_0x25869f['TRIANGULAR'+'_MESH'])return _0x5729ab['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x5729ab;const _0x2e8e84=new _0x25869f['Mesh'](),_0x2a22b0=_0x559d8e['DecodeBuff'+'erToMesh'](_0x5eaf6e,_0x2e8e84);if(!_0x2a22b0||!_0x2a22b0['ok']()||_0x25869f['getPointer'](_0x2e8e84)===0x14c*-0x17+0x1f03+-0x12f)return _0x5729ab['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x5729ab;const _0x4672bf=_0x2e8e84['num_faces']()*(-0x184*-0x2+-0x2149+-0xf22*-0x2),_0xe39173=_0x2e8e84['num_points']()<=-0x9666+-0x11fb*-0x1+-0xa6*-0x257,_0x84244f=_0x4672bf*(_0xe39173?0x13*0x1f9+0x345*0x5+-0x35d2:0x10b6+0x1171+-0x2223),_0x4dba72=_0x25869f['_malloc'](_0x84244f);_0xe39173?(_0x559d8e['GetTriangl'+'esUInt16Ar'+'ray'](_0x2e8e84,_0x84244f,_0x4dba72),_0x5729ab['indices']=new Uint16Array(_0x25869f['HEAPU16']['buffer'],_0x4dba72,_0x4672bf)['slice']()['buffer']):(_0x559d8e['GetTriangl'+'esUInt32Ar'+'ray'](_0x2e8e84,_0x84244f,_0x4dba72),_0x5729ab['indices']=new Uint32Array(_0x25869f['HEAPU32']['buffer'],_0x4dba72,_0x4672bf)['slice']()['buffer']),_0x25869f['_free'](_0x4dba72);const _0x4c4722=[];for(let _0x41eaf4=0x2*-0xef+-0x25d6+-0x5ac*-0x7;_0x41eaf4<_0x2e8e84['num_attrib'+'utes']();++_0x41eaf4)_0x4c4722['push'](_0x559d8e['GetAttribu'+'te'](_0x2e8e84,_0x41eaf4));_0x4c4722['sort']((_0x1ede22,_0x4f0ee2)=>(_0x87bfbf[_0x1ede22['attribute_'+'type']()]??_0x87bfbf['length'])-(_0x87bfbf[_0x4f0ee2['attribute_'+'type']()]??_0x87bfbf['length'])),_0x5729ab['attributes']=_0x4c4722['map'](_0x32324b=>_0x32324b['unique_id']());let _0x2ad324=0x12e*-0x2+-0x52f*0x6+0x2176;const _0x3e85c5=_0x4c4722['map'](_0x222073=>{const _0x5bdad6=_0x2ad324;return _0x2ad324+=Math['ceil'](_0x265f2e(_0x222073)/(0x3*0xae8+0x1*0x1402+-0x34b6))*(-0x176*0x5+0xf74+-0x822),_0x5bdad6;}),_0x5d025f=_0x4c4722['some'](_0x583bbf=>_0x583bbf['attribute_'+'type']()===-0x2*0x7a7+0x63d+0x912),_0x3a3ca0=_0x3e85c5[-0x1cff*0x1+-0xa*0x397+-0x3*-0x15a2];if(!_0x5d025f){for(let _0x5ab744=0x10*0x59+-0x3*-0x819+-0x1dda;_0x5ab744<_0x3e85c5['length'];++_0x5ab744)_0x3e85c5[_0x5ab744]+=-0x1dad+-0xff6*0x1+-0x2daf*-0x1;_0x2ad324+=0x1*-0xf75+-0xf*-0x183+-0x72c;}_0x5729ab['vertices']=new ArrayBuffer(_0x2e8e84['num_points']()*_0x2ad324);const _0x354c2b=new Uint8Array(_0x5729ab['vertices']);for(let _0x1163fa=-0x7de*0x2+0x885+0x737;_0x1163fa<_0x2e8e84['num_attrib'+'utes']();++_0x1163fa){const _0x30478f=_0x4c4722[_0x1163fa],_0x2e85c8=_0x265f2e(_0x30478f),_0x52c462=_0x2e8e84['num_points']()*_0x2e85c8,_0x53b67b=_0x25869f['_malloc'](_0x52c462);_0x559d8e['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2e8e84,_0x30478f,_0x30478f['data_type'](),_0x52c462,_0x53b67b);const _0x3086b1=new Uint8Array(_0x25869f['HEAPU8']['buffer'],_0x53b67b,_0x52c462);for(let _0x955587=0x1523+-0x3*-0x789+-0x2bbe;_0x955587<_0x2e8e84['num_points']();++_0x955587)for(let _0x3fca38=-0x2*-0xef+0x1*0x8d5+-0x391*0x3;_0x3fca38<_0x2e85c8;++_0x3fca38)_0x354c2b[_0x955587*_0x2ad324+_0x3e85c5[_0x1163fa]+_0x3fca38]=_0x3086b1[_0x955587*_0x2e85c8+_0x3fca38];if(!_0x5d025f&&_0x30478f['attribute_'+'type']()===-0x1319+0x1fc2+0x1*-0xca9){const _0x38e527=_0x11de28(_0x4c00dd(_0x3086b1,_0x30478f['data_type']()),_0xe39173?new Uint16Array(_0x5729ab['indices']):new Uint32Array(_0x5729ab['indices']));for(let _0x578f99=0x4*0x598+-0x3*-0x6b1+-0x2a73;_0x578f99<_0x2e8e84['num_points']();++_0x578f99)for(let _0x24685d=0x64c+0x1240+0xc46*-0x2;_0x24685d<-0x1*-0x1465+-0x7*0x382+-0x435*-0x1;++_0x24685d)_0x354c2b[_0x578f99*_0x2ad324+_0x3a3ca0+_0x24685d]=_0x38e527[_0x578f99*(-0x14eb*0x1+-0x8b8+0x1daf*0x1)+_0x24685d];}_0x25869f['_free'](_0x53b67b);}return _0x25869f['destroy'](_0x2e8e84),_0x25869f['destroy'](_0x559d8e),_0x25869f['destroy'](_0x5eaf6e),_0x5729ab;},_0x389c66=_0x5510de=>{const _0x4b92dd=_0x28146c(new Uint8Array(_0x5510de['buffer']));self['postMessag'+'e']({'jobId':_0x5510de['jobId'],'error':_0x4b92dd['error'],'indices':_0x4b92dd['indices'],'vertices':_0x4b92dd['vertices'],'attributes':_0x4b92dd['attributes']},[_0x4b92dd['indices'],_0x4b92dd['vertices']]['filter'](_0x3b5152=>_0x3b5152!=null));},_0x40c8a3=[];self['onmessage']=_0x1b03a1=>{const _0x5f50c3=_0x1b03a1['data'];switch(_0x5f50c3['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x1da965,_0x566d38)=>(WebAssembly['instantiat'+'e'](_0x5f50c3['module'],_0x1da965)['then'](_0xf82b78=>_0x566d38(_0xf82b78))['catch'](_0x4bdc50=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x4bdc50)),{})})['then'](_0x20d4fc=>{_0x25869f=_0x20d4fc,_0x40c8a3['forEach'](_0x599641=>_0x389c66(_0x599641));});break;case'decodeMesh':_0x25869f?_0x389c66(_0x5f50c3):_0x40c8a3['push'](_0x5f50c3);break;}};}const Og=-0x24e2+0x9a7+0x1b3e;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x669*-0x2+0xe76+0x48c*-0x6,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x4b47d5,_0x2c96c3)=>{_0x4b47d5['postMessag'+'e']({'type':'decodeMesh','jobId':_0x2c96c3['jobId'],'buffer':_0x2c96c3['buffer']},[_0x2c96c3['buffer']]);};}['init'](_0x4141c6){for(_0x4141c6['forEach'](_0x178ada=>{_0x178ada['addEventLi'+'stener']('message',_0x1102e1=>{const _0x511b4b=_0x1102e1['data'],_0xc507b=this['jobCallbac'+'ks']['get'](_0x511b4b['jobId']);if(_0xc507b&&_0xc507b(_0x511b4b['error'],{'indices':_0x511b4b['indices'],'vertices':_0x511b4b['vertices'],'attributes':_0x511b4b['attributes']}),this['jobCallbac'+'ks']['delete'](_0x511b4b['jobId']),this['jobQueue']['length']>-0x9e7+-0x22ee+0x2cd5){const _0x4e0902=this['jobQueue']['shift']();this['run'](_0x178ada,_0x4e0902);}else{const _0x455131=this['workers'][-0x203b+-0x156e+-0x4e1*-0xb]['indexOf'](_0x178ada);if(_0x455131!==-(0x33e+0x41*0x4a+-0x1607))this['workers'][0x2*-0xb1d+-0xc7*0x1d+0x2cc7*0x1]['splice'](_0x455131,-0xfbb+-0x2f*-0x4c+0x39*0x8),this['workers'][0xb88+0x5*0x5cd+-0x2888]['push'](_0x178ada);else{const _0x578971=this['workers'][-0x4fb+0x13f7*0x1+0x3b*-0x41]['indexOf'](_0x178ada);_0x578971!==-(0x2493+-0x13ec+-0x10a6)?(this['workers'][-0x1*0x8c1+-0xbb8+-0x2*-0xa3d]['splice'](_0x578971,-0x1d0a+-0x14f*-0x9+0x5*0x374),this['workers'][-0x15e2+0x249a+0x9d*-0x18]['push'](_0x178ada)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x2639*-0x1+0x1*0x1027+0x6cc*-0x8]=_0x4141c6;this['jobQueue']['length']&&(this['workers'][0x1f47+-0x1924+-0x623]['length']||this['workers'][0x9bc+0x1923+-0x22de]['length']);){const _0x585cab=this['jobQueue']['shift']();if(this['workers'][-0x1115+-0x1fdf*0x1+0x30f4]['length']>0x1314+0xf67*0x1+-0x1*0x227b){const _0x290f34=this['workers'][0x8ad*0x3+0x14e3+-0x2eea]['shift']();this['workers'][0x6*0x3b+-0xd11+0xb*0x110]['push'](_0x290f34),this['run'](_0x290f34,_0x585cab);}else{const _0x14ce78=this['workers'][-0x632*0x6+-0x1*0xd69+0x7*0x73a]['shift']();this['workers'][-0xcf+0x154f+-0x147e]['push'](_0x14ce78),this['run'](_0x14ce78,_0x585cab);}}}['enqueueJob'](_0x348072,_0x27c0ea){const _0x2f6e54={'jobId':this['jobId']++,'buffer':_0x348072};if(this['jobCallbac'+'ks']['set'](_0x2f6e54['jobId'],_0x27c0ea),this['workers'][-0x383*-0x2+0xc1*-0xd+0x2c7]['length']>-0x2047+0x1a7d+0x2e5*0x2){const _0x27b64c=this['workers'][-0x3be+0x1001+-0xc43]['shift']();this['workers'][-0x202e+0x4f*-0xd+0x2432]['push'](_0x27b64c),this['run'](_0x27b64c,_0x2f6e54);}else{if(this['workers'][0x1*0x74d+0x1faf+0x26fb*-0x1]['length']>0x8ca+-0x1*0x1efb+-0xd*-0x1b5){const _0x57e6a0=this['workers'][0x1*-0x4ee+-0xd*0xc1+0xebc]['shift']();this['workers'][0x10*0x269+0xaa2+-0x3130]['push'](_0x57e6a0),this['run'](_0x57e6a0,_0x2f6e54);}else this['jobQueue']['push'](_0x2f6e54);}}}const _D=_0x253bb0=>new Promise((_0x4cccea,_0x25533d)=>{const _0x19e849={'cache':!(-0x21e9*-0x1+-0x191*-0x6+-0x2b4f),'responseType':'text','retry':Og>-0xb7*0x19+0xf4d*0x1+0x292,'maxRetries':Og};$e['get'](_0x253bb0,_0x19e849,(_0x13bc25,_0x560e31)=>{_0x13bc25?_0x25533d(_0x13bc25):_0x4cccea(_0x560e31);});}),gD=_0x4b1c7b=>{const _0xf5270a=()=>fetch(_0x4b1c7b)['then'](_0x485c39=>_0x485c39['arrayBuffe'+'r']())['then'](_0x4c7952=>WebAssembly['compile'](_0x4c7952)),_0x397488=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x4b1c7b))['catch'](_0x54a85c=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x4b1c7b+'\x20('+_0x54a85c+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0xf5270a()));return WebAssembly['compileStr'+'eaming']?_0x397488():_0xf5270a();},kg=0x62b*-0x1+0x1d75+-0x1749*0x1;let xh;const yD=_0x1f95d2=>{if(xh)return!(-0x1df9+-0x3*0xa94+-0x1*-0x3db5);if(!_0x1f95d2){const _0x1512ff=ay['getConfig']('DracoDecod'+'erModule');_0x1512ff?_0x1f95d2={'jsUrl':_0x1512ff['glueUrl'],'wasmUrl':_0x1512ff['wasmUrl'],'numWorkers':_0x1512ff['numWorkers']}:_0x1f95d2={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x1f95d2['jsUrl']||!_0x1f95d2['wasmUrl']?!(-0x139*-0x17+-0xe0*0x1c+-0x39e):(xh=new mD(),Promise['all']([_D(_0x1f95d2['jsUrl']),gD(_0x1f95d2['wasmUrl'])])['then'](([_0x102ee1,_0x3b12cd])=>{const _0x6974dc=['/*\x20draco\x20*'+'/',_0x102ee1,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x171313=new Blob([_0x6974dc],{'type':'applicatio'+'n/javascri'+'pt'}),_0x5707d4=URL['createObje'+'ctURL'](_0x171313),_0x282c1b=Math['max'](0x1c88+-0x1e*-0x5d+-0x1*0x276d,Math['min'](-0x1*0xd39+-0x13e8+0x2131*0x1,_0x1f95d2['numWorkers']||kg)),_0x2a047f=[];for(let _0x4fcdbe=0xcb4*-0x1+-0x1bf3+0x28a7;_0x4fcdbe<_0x282c1b;++_0x4fcdbe){const _0x15ae70=new Worker(_0x5707d4);_0x15ae70['postMessag'+'e']({'type':'init','module':_0x3b12cd}),_0x2a047f['push'](_0x15ae70);}xh['init'](_0x2a047f);}),!(-0x26*-0x12+-0x237f+0x1*0x20d3));},xD=(_0x3a64ed,_0x8d236f)=>yD()?(xh['enqueueJob'](_0x3a64ed,_0x8d236f),!(-0x1*0x841+0x14ef+0x1*-0xcae)):!(-0x11d9+0xd8c+0x44e);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x508d2f=>{_0x508d2f['meshes']=null;});}}const Rx=_0x35baf5=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x35baf5),vD=_0x5892c5=>_0x5892c5['substring'](_0x5892c5['indexOf'](':')+(0x257e+0x6*0x4f6+-0x4341),_0x5892c5['indexOf'](';')),Wo=_0x55b7db=>{switch(_0x55b7db){case'SCALAR':return-0x13ce+0xe4*-0x3+-0x167b*-0x1;case'VEC2':return 0x1*-0x1d3e+0x2e*-0x58+0x38*0xce;case'VEC3':return 0xf79*-0x2+0x2674+-0x77f;case'VEC4':return-0x1312*0x1+0xf71+0x3a5;case'MAT2':return 0x9*-0x2d3+-0x261e+0xb*0x5c7;case'MAT3':return-0x9*-0x3ef+-0x1*-0x623+0x2981*-0x1;case'MAT4':return 0x1a3e+0x24d7+0x49*-0xdd;default:return 0x1*0x23e9+0xce9+-0x77*0x69;}},Jc=_0x298a1f=>{switch(_0x298a1f){case 0x1*0x1eef+0x1c76*-0x1+-0x1187*-0x1:return Rc;case 0x1550+-0x12*-0x21f+-0x277d:return Kr;case 0x1*-0x173d+0x2380+0x7bf*0x1:return Ic;case 0x277e+0x1*0x581+0x29*-0x9c:return el;case-0x1b81*0x1+-0x1c9*-0x2+0x2bf3:return By;case 0x21d0+0x1964+-0x272f:return Do;case-0xec6+0x946+0x1986:return Ee;default:return-0x1bac+-0xa91*-0x2+0x68a;}},bD=_0xa7ecc1=>{switch(_0xa7ecc1){case 0x192*0x4+0x8*0x13d+-0x3d0*-0x1:return-0x17da+0x6f5+-0x2*-0x873;case-0x1*-0x23ab+-0xfa8+-0x2:return 0x1a2c+0x5f3*-0x2+0xd*-0x119;case-0x1d*0xba+0x1b58+0x6de*0x2:return 0x2442+0xb5+-0x24f5;case 0x12bf+0x7*0x454+-0x1d08:return-0x1a5*0x6+0x395+0xb3*0x9;case-0xbb1+0x1*-0x3f7+0x8eb*0x4:return-0x17*0x1f+-0x5*0x5fb+0x12b*0x1c;case-0x338+-0x1*0x1451+-0x19*-0x1be:return-0xb8a+-0x7e5*-0x2+0x21e*-0x2;case-0x982*-0x1+0x2259+0x17d5*-0x1:return 0xcc5+0x2d5*-0x9+0xcbc;default:return-0x26a5+-0x686*-0x5+0x607;}},wD=_0x446c62=>{switch(_0x446c62){case-0x1395+0x292*-0x7+0x3993:return Int8Array;case 0x2*-0x23f+0x20aa+-0x82b:return Uint8Array;case 0x12e2+-0x1ff8+-0x2118*-0x1:return Int16Array;case 0x13c8+0x184*0x11+-0x1989:return Uint16Array;case-0x7b6+0x1*0xb5d+0x105d:return Int32Array;case-0x1a60+0x7*0x2c2+0x56b*0x5:return Uint32Array;case 0x32c*-0x9+-0x9*-0x72+-0x1f*-0x170:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:0x52*-0x1d+-0xf16+0x1860,[Yt]:-0x2*-0xb2d+0x11a7*-0x2+-0xcf5*-0x1,[Zs]:0x303+0xf1f+-0x1220,[At]:-0x35a*0x7+-0x1*0xb4d+0x22c6,[qt]:-0x3*-0x561+-0x1bc7+0xba8*0x1,[Ys]:0x1a6+-0x3*-0x1c5+-0x6f0,[ns]:0x1*-0x3df+0x662+-0x27d,[_n]:-0x79*0x13+0x126e+0x2*-0x4b6,[jo]:-0xbfd+0x667*0x1+0x2*0x2cf,[Yo]:0x20bd+-0x21fb+-0x3*-0x6d,[Ko]:-0x23aa+0x10f*0x16+-0x1*-0xc6a,[Zo]:0x58d+-0x3be*-0x8+-0x2372,[Qo]:-0x133*0x2+0x1875+0x31*-0x73,[Jo]:-0x1a56+0x34f+0x1714},TD=_0x9fbe60=>{switch(_0x9fbe60){case Rc:return _0x481052=>Math['max'](_0x481052/(0xa32*-0x1+0x187f*-0x1+0x8*0x466),-(-0x1520+0x25f*-0xf+0x38b2));case Kr:return _0x4ba2e4=>_0x4ba2e4/(-0x240c+-0x516*-0x1+0x1ff5);case Ic:return _0x987513=>Math['max'](_0x987513/(-0xff0a+-0xe*0x2a6+-0x2051*-0xd),-(0x3*-0x883+0x11d*0x1+-0xa9*-0x25));case el:return _0x28ece6=>_0x28ece6/(0xa42d+0x13e6e+-0x2*0x714e);default:return _0x3c25d3=>_0x3c25d3;}},xf=(_0x101498,_0x13c428,_0x394aae)=>{const _0x50ee90=TD(_0x394aae),_0x1f4701=_0x13c428['length'];for(let _0x441488=0x13*-0x45+0x2063*-0x1+-0x2*-0x12c1;_0x441488<_0x1f4701;++_0x441488)_0x101498[_0x441488]=_0x50ee90(_0x13c428[_0x441488]);return _0x101498;},sn=(_0x370d16,_0x4792f2,_0x2ff0a3=!(-0x3*0x68a+-0x1*-0x11dc+-0x1*-0x1c3))=>{const _0x21fc77=Wo(_0x370d16['type']),_0x1785ab=wD(_0x370d16['componentT'+'ype']);if(!_0x1785ab)return null;let _0x26f030;if(_0x370d16['sparse']){const _0x2c9c04=_0x370d16['sparse'],_0x2fa826={'count':_0x2c9c04['count'],'type':'SCALAR'},_0x4a40a0=sn(Object['assign'](_0x2fa826,_0x2c9c04['indices']),_0x4792f2,!(-0x1a3+0x2*0xd24+0x18a5*-0x1)),_0x16db5f={'count':_0x2c9c04['count'],'type':_0x370d16['type'],'componentType':_0x370d16['componentT'+'ype']},_0x5dd56c=sn(Object['assign'](_0x16db5f,_0x2c9c04['values']),_0x4792f2,!(0x53+-0x1c40+0x1*0x1bed));if(_0x370d16['hasOwnProp'+'erty']('bufferView')){const _0x1f903a={'bufferView':_0x370d16['bufferView'],'byteOffset':_0x370d16['byteOffset'],'componentType':_0x370d16['componentT'+'ype'],'count':_0x370d16['count'],'type':_0x370d16['type']};_0x26f030=sn(_0x1f903a,_0x4792f2,!(0x16bf+0xb6b+0x1115*-0x2))['slice']();}else _0x26f030=new _0x1785ab(_0x370d16['count']*_0x21fc77);for(let _0x102230=0xd*0x1c1+-0x1*-0x7c9+-0x1e96;_0x102230<_0x2c9c04['count'];++_0x102230){const _0x5078ce=_0x4a40a0[_0x102230];for(let _0x4fb725=0x91a+0x2ee+-0xa*0x134;_0x4fb725<_0x21fc77;++_0x4fb725)_0x26f030[_0x5078ce*_0x21fc77+_0x4fb725]=_0x5dd56c[_0x102230*_0x21fc77+_0x4fb725];}}else{if(_0x370d16['hasOwnProp'+'erty']('bufferView')){const _0x397117=_0x4792f2[_0x370d16['bufferView']];if(_0x2ff0a3&&_0x397117['hasOwnProp'+'erty']('byteStride')){const _0x393e11=_0x21fc77*_0x1785ab['BYTES_PER_'+'ELEMENT'],_0x55d6a6=new ArrayBuffer(_0x370d16['count']*_0x393e11),_0x167a31=new Uint8Array(_0x55d6a6);let _0x2454a4=0x2114+0x2dd*-0x1+-0x60b*0x5;for(let _0x5af945=-0x142f+-0x2257*-0x1+0x714*-0x2;_0x5af945<_0x370d16['count'];++_0x5af945){let _0x3f036a=(_0x370d16['byteOffset']||0x1e31+-0x2c4*-0x3+-0x3b*0xa7)+_0x5af945*_0x397117['byteStride'];for(let _0x3523eb=0x21b3+0x5f2*-0x5+-0x71*0x9;_0x3523eb<_0x393e11;++_0x3523eb)_0x167a31[_0x2454a4++]=_0x397117[_0x3f036a++];}_0x26f030=new _0x1785ab(_0x55d6a6);}else _0x26f030=new _0x1785ab(_0x397117['buffer'],_0x397117['byteOffset']+(_0x370d16['byteOffset']||0x25cf+0x401+-0x29d0),_0x370d16['count']*_0x21fc77);}else _0x26f030=new _0x1785ab(_0x370d16['count']*_0x21fc77);}return _0x26f030;},ma=(_0x1858e2,_0x1d37ef)=>{const _0x4c567b=sn(_0x1858e2,_0x1d37ef,!(-0x5*-0x10d+0x9*0x17+-0x2*0x308));if(_0x4c567b instanceof Float32Array||!_0x1858e2['normalized'])return _0x4c567b;const _0x515be4=new Float32Array(_0x4c567b['length']);return xf(_0x515be4,_0x4c567b,Jc(_0x1858e2['componentT'+'ype'])),_0x515be4;},Sf=_0x48dd19=>{let _0x20cf20=_0x48dd19['min'],_0x261ce7=_0x48dd19['max'];if(!_0x20cf20||!_0x261ce7)return null;if(_0x48dd19['normalized']){const _0x13f256=Jc(_0x48dd19['componentT'+'ype']);_0x20cf20=xf([],_0x20cf20,_0x13f256),_0x261ce7=xf([],_0x261ce7,_0x13f256);}return new _e(new T((_0x261ce7[0x4eb*-0x6+0x1582*0x1+0x800]+_0x20cf20[-0xbe7*-0x1+0x16c0+0xb8d*-0x3])*(-0x2399+-0x1c5e+-0x3ff7*-0x1+0.5),(_0x261ce7[-0x21f8+0xcf*-0x14+0x3225]+_0x20cf20[-0x2689+0x22d2+0x3b8])*(0x1efc+-0x17b3+0x175*-0x5+0.5),(_0x261ce7[-0xb1*0x1+-0x3*0x688+0x144b]+_0x20cf20[0x3c2+0x6b+0x42b*-0x1])*(-0x1aca+0x7b3*-0x3+-0xb*-0x489+0.5)),new T((_0x261ce7[-0x1061+0x2*0xbed+-0x779]-_0x20cf20[-0x1dcd+-0x28*-0x3+0x1*0x1d55])*(-0x83*-0x1+-0x2f*-0x67+-0x136c*0x1+0.5),(_0x261ce7[0x21b0+0x1335+-0x34e4]-_0x20cf20[-0x1b5b+0xef8+0xc64])*(0xb9c+0x1*0x1a74+0xae*-0x38+0.5),(_0x261ce7[-0x65d*-0x1+-0x3a*0x6e+0x1291]-_0x20cf20[-0x1*-0x1f1+-0x18de+0x16ef])*(0x1180+-0xc24+-0x55c+0.5)));},Ix=_0x4a7d52=>{if(!_0x4a7d52['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x4a7d52['mode']){case 0x11f5+0x158*-0xd+0x19*-0x5:return Mc;case 0x2605+0x1816+-0x3e1a:return Pc;case-0x3b1+0x1081+0xcce*-0x1:return My;case-0x1745+0x12*-0x161+0x301a:return Py;case 0xbcb+0x5+0x4*-0x2f3:return Ms;case 0x158*-0x1+-0x1*-0x1a74+-0x1917:return ar;case-0x1724+-0x1a3b+0x3165:return Yr;default:return Ms;}},AD=_0x379fdc=>{const _0x138984=new Uint16Array(_0x379fdc);for(let _0x26e3a9=0x1697+0x1*0x231f+0x59*-0xa6;_0x26e3a9<_0x379fdc;_0x26e3a9++)_0x138984[_0x26e3a9]=_0x26e3a9;return _0x138984;},ED=(_0x41bdb9,_0x363057)=>{const _0x1517a3=_0x41bdb9[He];if(!_0x1517a3||_0x1517a3['components']!==0x1b84+-0x506+-0x5*0x47f)return;let _0x208929;if(_0x1517a3['size']!==_0x1517a3['stride']){const _0x58224d=_0x1517a3['stride']/_o[_0x1517a3['type']],_0x486b0d=new da[_0x1517a3['type']](_0x1517a3['buffer'],_0x1517a3['offset'],_0x1517a3['count']*_0x58224d);_0x208929=new da[_0x1517a3['type']](_0x1517a3['count']*(0x645+-0x11c3*0x2+0x1d44));for(let _0x4f9ba5=0x2628+0x2649+-0x4c71;_0x4f9ba5<_0x1517a3['count'];++_0x4f9ba5)_0x208929[_0x4f9ba5*(-0x185*-0x17+0x1615*-0x1+-0xcdb)+(0x248b*-0x1+0x62d*-0x3+0x3712)]=_0x486b0d[_0x4f9ba5*_0x58224d+(0x3*0x4b3+-0xa3*-0x2c+0x1*-0x2a1d)],_0x208929[_0x4f9ba5*(-0x9a+0x8*-0x1c6+0xecd)+(0x1b1d+-0x1064+-0x1c*0x62)]=_0x486b0d[_0x4f9ba5*_0x58224d+(-0xe95*-0x2+0x2ef*-0x1+0x1a3a*-0x1)],_0x208929[_0x4f9ba5*(-0xfb4+-0x7*0x3b7+0x29b8)+(-0xc4d*0x1+-0x9a8+-0x1*-0x15f7)]=_0x486b0d[_0x4f9ba5*_0x58224d+(0x13*-0x97+0x1*0x148f+0xb8*-0xd)];}else _0x208929=new da[_0x1517a3['type']](_0x1517a3['buffer'],_0x1517a3['offset'],_0x1517a3['count']*(0x2068+-0x6e6+-0x197f));const _0x5a5695=_0x1517a3['count'];_0x363057||(_0x363057=AD(_0x5a5695));const _0x4a0d8f=k0(_0x208929,_0x363057),_0x5b1860=new Float32Array(_0x4a0d8f['length']);_0x5b1860['set'](_0x4a0d8f),_0x41bdb9[Yt]={'buffer':_0x5b1860['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x5a5695,'components':0x3,'type':Ee};},CD=_0xb55df3=>{const _0x45935d=_0x1bfff0=>{const _0x47ffb8=[];for(let _0x45f2d1=-0x7*0x2e9+-0x2223*-0x1+-0xdc4;_0x45f2d1<_0x1bfff0['_levels']['length'];++_0x45f2d1){let _0xdb9950=[];if(_0x1bfff0['cubemap']){for(let _0x14eb80=0x1a*-0xb3+-0x1323+-0x29*-0xe9;_0x14eb80<-0x114*-0x4+0xd19+-0x1163;++_0x14eb80)_0xdb9950['push'](_0x1bfff0['_levels'][_0x45f2d1][_0x14eb80]);}else _0xdb9950=_0x1bfff0['_levels'][_0x45f2d1];_0x47ffb8['push'](_0xdb9950);}return _0x47ffb8;},_0x585abf=new he(_0xb55df3['device'],_0xb55df3);return _0x585abf['_levels']=_0x45935d(_0xb55df3),_0x585abf;},MD=_0x28214b=>{const _0x1da7d0=new le(_0x28214b['name']+'_clone',_0x28214b['type'],_0x28214b['file'],_0x28214b['data'],_0x28214b['options']);return _0x1da7d0['loaded']=!(-0x1352+0x208d*-0x1+0x33df),_0x1da7d0['resource']=CD(_0x28214b['resource']),_0x28214b['registry']['add'](_0x1da7d0),_0x1da7d0;},PD=(_0x413e46,_0x1bb66e)=>{const _0x500a10=_0x1bb66e[He];if(!_0x500a10)return null;const _0x44a524=_0x500a10['count'],_0x389cae=[];for(const _0x307895 in _0x1bb66e)if(_0x1bb66e['hasOwnProp'+'erty'](_0x307895)){const _0x16494c={'semantic':_0x307895,'components':_0x1bb66e[_0x307895]['components'],'type':_0x1bb66e[_0x307895]['type'],'normalize':!!_0x1bb66e[_0x307895]['normalize']};Et['isElementV'+'alid'](_0x413e46,_0x16494c)||_0x16494c['components']++,_0x389cae['push'](_0x16494c);}_0x389cae['sort']((_0x415b6b,_0x1242ee)=>Bg[_0x415b6b['semantic']]-Bg[_0x1242ee['semantic']]);let _0x38ca27,_0x3e80b5,_0x494d92,_0x4b46d1,_0x322431,_0x14d260;const _0x2bb01c=new Et(_0x413e46,_0x389cae);let _0x1c3ec7=!(-0xa63*-0x1+-0x2*-0xd3b+0x1*-0x24d9);for(_0x38ca27=0x10*0x1d9+-0x1663+-0x72d;_0x38ca27<_0x2bb01c['elements']['length'];++_0x38ca27)if(_0x322431=_0x2bb01c['elements'][_0x38ca27],_0x4b46d1=_0x1bb66e[_0x322431['name']],_0x14d260=_0x4b46d1['offset']-_0x500a10['offset'],_0x4b46d1['buffer']!==_0x500a10['buffer']||_0x4b46d1['stride']!==_0x322431['stride']||_0x4b46d1['size']!==_0x322431['size']||_0x14d260!==_0x322431['offset']){_0x1c3ec7=!(0x1961+-0x142a+-0x536);break;}const _0x42b993=new os(_0x413e46,_0x2bb01c,_0x44a524),_0x5e0939=_0x42b993['lock'](),_0x289466=new Uint32Array(_0x5e0939);let _0x323319;if(_0x1c3ec7)_0x323319=new Uint32Array(_0x500a10['buffer'],_0x500a10['offset'],_0x44a524*_0x42b993['format']['size']/(0xa*-0x29e+-0x3*0x4ef+-0x1*-0x28fd)),_0x289466['set'](_0x323319);else{let _0x29193e,_0x212459;for(_0x38ca27=-0x190*0x9+0x2c8+0xb48;_0x38ca27<_0x42b993['format']['elements']['length'];++_0x38ca27){_0x322431=_0x42b993['format']['elements'][_0x38ca27],_0x29193e=_0x322431['stride']/(-0x223d+0x243a+-0x65*0x5),_0x4b46d1=_0x1bb66e[_0x322431['name']],_0x212459=_0x4b46d1['stride']/(-0x1889+0x26db+-0xe4e),_0x323319=new Uint32Array(_0x4b46d1['buffer'],_0x4b46d1['offset'],(_0x4b46d1['count']-(-0x20ca+0x18c7*-0x1+-0x1cc9*-0x2))*_0x212459+(_0x4b46d1['size']+(-0x2599+-0x26fc+0x56*0xe4))/(-0x198*-0xc+0x47e+-0x179a));let _0xa4ad9e=0x1870+-0x4cc+0x2*-0x9d2,_0x387d9f=_0x322431['offset']/(-0x1337+0x36d*-0x9+0x858*0x6);const _0x51f2e9=Math['floor']((_0x4b46d1['size']+(-0xb*0x81+0x6*0x4e+0x12*0x35))/(0xbc*-0x3+0x1551+-0x1319));for(_0x3e80b5=0xafb+0xae5+-0x15e0;_0x3e80b5<_0x44a524;++_0x3e80b5){for(_0x494d92=-0x4*0x6a+0x1*-0x230c+0x24b4;_0x494d92<_0x51f2e9;++_0x494d92)_0x289466[_0x387d9f+_0x494d92]=_0x323319[_0xa4ad9e+_0x494d92];_0xa4ad9e+=_0x212459,_0x387d9f+=_0x29193e;}}}return _0x42b993['unlock'](),_0x42b993;},RD=(_0x5401fc,_0x43ebfd,_0xfa14d9,_0x4120bc,_0x3d9293,_0x23b348)=>{const _0xeba677={},_0x3f731e=[];for(const _0x5dc7c2 in _0x43ebfd)_0x43ebfd['hasOwnProp'+'erty'](_0x5dc7c2)&&ec['hasOwnProp'+'erty'](_0x5dc7c2)&&(_0xeba677[_0x5dc7c2]=_0x43ebfd[_0x5dc7c2],_0x3f731e['push'](_0x5dc7c2+':'+_0x43ebfd[_0x5dc7c2]));_0x3f731e['sort']();const _0x3c772d=_0x3f731e['join']();let _0x6ff79e=_0x23b348[_0x3c772d];if(!_0x6ff79e){const _0x2f3195={};for(const _0xd95be4 in _0xeba677){const _0x27670b=_0x4120bc[_0x43ebfd[_0xd95be4]],_0xede18b=sn(_0x27670b,_0x3d9293),_0x18d543=_0x3d9293[_0x27670b['bufferView']],_0x2f5dda=ec[_0xd95be4],_0x276b86=Wo(_0x27670b['type'])*bD(_0x27670b['componentT'+'ype']),_0x1b33b4=_0x18d543&&_0x18d543['hasOwnProp'+'erty']('byteStride')?_0x18d543['byteStride']:_0x276b86;_0x2f3195[_0x2f5dda]={'buffer':_0xede18b['buffer'],'size':_0x276b86,'offset':_0xede18b['byteOffset'],'stride':_0x1b33b4,'count':_0x27670b['count'],'components':Wo(_0x27670b['type']),'type':Jc(_0x27670b['componentT'+'ype']),'normalize':_0x27670b['normalized']};}_0x2f3195['hasOwnProp'+'erty'](Yt)||ED(_0x2f3195,_0xfa14d9),_0x6ff79e=PD(_0x5401fc,_0x2f3195),_0x23b348[_0x3c772d]=_0x6ff79e;}return _0x6ff79e;},ID=(_0x5c66da,_0x1426cb,_0x45cddb,_0x611ce6,_0xb6cedf,_0x1f91b9)=>{let _0xd900e9,_0x351c94,_0xb5a000;const _0x475575=_0x1426cb['joints'],_0x274299=_0x475575['length'],_0x5bb82f=[];if(_0x1426cb['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x219ba4=_0x1426cb['inverseBin'+'dMatrices'],_0x40d2db=sn(_0x45cddb[_0x219ba4],_0x611ce6,!(0x6e*0xb+0x10bc+-0x1576)),_0x4e8b15=[];for(_0xd900e9=-0x1*-0x1169+-0x1c60+0x1*0xaf7;_0xd900e9<_0x274299;_0xd900e9++){for(_0x351c94=0x2*0x5ec+-0x15b8+-0x20*-0x4f;_0x351c94<-0xbce+-0x133e+0x1f1c;_0x351c94++)_0x4e8b15[_0x351c94]=_0x40d2db[_0xd900e9*(0x21be+-0x1d*-0x4a+0x8*-0x542)+_0x351c94];_0xb5a000=new q(),_0xb5a000['set'](_0x4e8b15),_0x5bb82f['push'](_0xb5a000);}}else{for(_0xd900e9=-0x3*0xb11+-0x1409+0x1*0x353c;_0xd900e9<_0x274299;_0xd900e9++)_0xb5a000=new q(),_0x5bb82f['push'](_0xb5a000);}const _0x484584=[];for(_0xd900e9=-0x11d4+0xd35+0x49f;_0xd900e9<_0x274299;_0xd900e9++)_0x484584[_0xd900e9]=_0xb6cedf[_0x475575[_0xd900e9]]['name'];const _0x51880c=_0x484584['join']('#');let _0x4c1a50=_0x1f91b9['get'](_0x51880c);return _0x4c1a50||(_0x4c1a50=new N0(_0x5c66da,_0x5bb82f,_0x484584),_0x1f91b9['set'](_0x51880c,_0x4c1a50)),_0x4c1a50;},DD=(_0x5bce05,_0x4ad9fd,_0x2b3c32,_0x1d03e7,_0x3834e6,_0x36422b,_0x156abe)=>{var _0x469775;const _0x3e91bf=new Ie(_0x5bce05);_0x3e91bf['aabb']=Sf(_0x2b3c32[_0x4ad9fd['attributes']['POSITION']]);const _0x482ea8=[];for(const [_0x3e5cb3,_0x389b7f]of Object['entries'](_0x4ad9fd['attributes'])){const _0x564343=_0x2b3c32[_0x389b7f],_0x1eb5cb=ec[_0x3e5cb3],_0x3e3e04=Jc(_0x564343['componentT'+'ype']);_0x482ea8['push']({'semantic':_0x1eb5cb,'components':Wo(_0x564343['type']),'type':_0x3e3e04,'normalize':_0x564343['normalized']??(_0x1eb5cb===At&&(_0x3e3e04===Kr||_0x3e3e04===el))});}if(_0x156abe['push'](new Promise((_0x4a5300,_0x4ddf7f)=>{const _0x4d9b81=_0x4ad9fd['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x1d03e7[_0x4d9b81['bufferView']]['slice']()['buffer'],(_0x49f483,_0x2b0f6c)=>{var _0x2d1abf;if(_0x49f483)console['log'](_0x49f483),_0x4ddf7f(_0x49f483);else{const _0x23431a={};for(const [_0x47620f,_0x3d251b]of Object['entries'](_0x4d9b81['attributes']))_0x23431a[ec[_0x47620f]]=_0x2b0f6c['attributes']['indexOf'](_0x3d251b);_0x482ea8['sort']((_0x442109,_0x5a085b)=>_0x23431a[_0x442109['semantic']]-_0x23431a[_0x5a085b['semantic']]),(_0x2d1abf=_0x4ad9fd['attributes'])!=null&&_0x2d1abf['NORMAL']||_0x482ea8['splice'](0x2050+-0x851+-0x17fe,-0x97f*0x1+-0x18a1+0x54*0x68,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x30db80=new Et(_0x5bce05,_0x482ea8),_0x5abb75=_0x2b0f6c['vertices']['byteLength']/_0x30db80['size'],_0x16c084=_0x5abb75<=-0x1*-0xee9c+-0x13871+-0xa4ea*-0x2?Pi:nr,_0x2c53a0=_0x2b0f6c['indices']['byteLength']/(_0x5abb75<=-0x1b881*-0x1+-0x1edea*0x1+0x26ad*0x8?0x641*0x1+-0x10fa+0xabb:-0x21a*0xf+-0x2583+0x450d);v['call'](()=>{_0x5abb75!==_0x2b3c32[_0x4ad9fd['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x2c53a0!==_0x2b3c32[_0x4ad9fd['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x2a732c=new os(_0x5bce05,_0x30db80,_0x5abb75,{'data':_0x2b0f6c['vertices']}),_0x2cf900=new lr(_0x5bce05,_0x16c084,_0x2c53a0,jt,_0x2b0f6c['indices']);_0x3e91bf['vertexBuff'+'er']=_0x2a732c,_0x3e91bf['indexBuffe'+'r'][0xe10+0x2276+-0x3086]=_0x2cf900,_0x3e91bf['primitive'][0xbc5*0x2+-0x3ad+-0x13dd]['type']=Ix(_0x4ad9fd),_0x3e91bf['primitive'][0x1*0x751+0x1*-0x13b1+0x90*0x16]['base']=-0xd67+-0x21*0x39+0xa6*0x20,_0x3e91bf['primitive'][-0xb9c+-0x110+-0x656*-0x2]['count']=_0x2cf900?_0x2c53a0:_0x5abb75,_0x3e91bf['primitive'][0x2*-0x6ab+0x7*0x1ff+-0xa3]['indexed']=!!_0x2cf900,_0x4a5300();}});})),(_0x469775=_0x4ad9fd==null?void(0xb*-0xee+0x4f*0x52+-0x5*0x304):_0x4ad9fd['extensions'])!=null&&_0x469775['KHR_materi'+'als_varian'+'ts']){const _0x555aaf=_0x4ad9fd['extensions']['KHR_materi'+'als_varian'+'ts'],_0x95662b={};_0x555aaf['mappings']['forEach'](_0x21c440=>{_0x21c440['variants']['forEach'](_0x2184fa=>{_0x95662b[_0x2184fa]=_0x21c440['material'];});}),_0x3834e6[_0x3e91bf['id']]=_0x95662b;}return _0x36422b[_0x3e91bf['id']]=_0x4ad9fd['material'],_0x3e91bf;},LD=(_0x42691d,_0x77b998,_0x30b5b4,_0x4e569c,_0x359461,_0x6f1d6e,_0x31f7d1,_0x33e305,_0x149160)=>{const _0x48f656=[];return _0x77b998['primitives']['forEach'](_0x1aada8=>{var _0x36a49a;if((_0x36a49a=_0x1aada8['extensions'])!=null&&_0x36a49a['KHR_draco_'+'mesh_compr'+'ession'])_0x48f656['push'](DD(_0x42691d,_0x1aada8,_0x30b5b4,_0x4e569c,_0x6f1d6e,_0x31f7d1,_0x149160));else{let _0x196e1e=_0x1aada8['hasOwnProp'+'erty']('indices')?sn(_0x30b5b4[_0x1aada8['indices']],_0x4e569c,!(-0x8de+-0xa2d+0x130b)):null;const _0x357058=RD(_0x42691d,_0x1aada8['attributes'],_0x196e1e,_0x30b5b4,_0x4e569c,_0x359461),_0x1e4926=Ix(_0x1aada8),_0x22e295=new Ie(_0x42691d);if(_0x22e295['vertexBuff'+'er']=_0x357058,_0x22e295['primitive'][-0x102*-0x5+-0x9ea+-0x8*-0x9c]['type']=_0x1e4926,_0x22e295['primitive'][-0x66*0x21+0x472+-0x8b4*-0x1]['base']=0xa91+-0x71c*-0x4+0x7cd*-0x5,_0x22e295['primitive'][0x229*-0x1+-0xa7+0x2d0]['indexed']=_0x196e1e!==null,_0x196e1e!==null){let _0x293f44;_0x196e1e instanceof Uint8Array?_0x293f44=pu:_0x196e1e instanceof Uint16Array?_0x293f44=Pi:_0x293f44=nr,_0x293f44===pu&&_0x42691d['isWebGPU']&&(_0x293f44=Pi,_0x196e1e=new Uint16Array(_0x196e1e));const _0x27126e=new lr(_0x42691d,_0x293f44,_0x196e1e['length'],jt,_0x196e1e);_0x22e295['indexBuffe'+'r'][0x23c6*0x1+-0x10*-0xa3+-0x2df6]=_0x27126e,_0x22e295['primitive'][0x1f1a+-0x15cd+-0x1*0x94d]['count']=_0x196e1e['length'];}else _0x22e295['primitive'][-0x1*-0x24eb+0x7*0x119+-0x2c9a]['count']=_0x357058['numVertice'+'s'];if(_0x1aada8['hasOwnProp'+'erty']('extensions')&&_0x1aada8['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x596999=_0x1aada8['extensions']['KHR_materi'+'als_varian'+'ts'],_0x46d270={};_0x596999['mappings']['forEach'](_0x2d6ad6=>{_0x2d6ad6['variants']['forEach'](_0x2bbf97=>{_0x46d270[_0x2bbf97]=_0x2d6ad6['material'];});}),_0x6f1d6e[_0x22e295['id']]=_0x46d270;}_0x31f7d1[_0x22e295['id']]=_0x1aada8['material'];let _0xc58dd1=_0x30b5b4[_0x1aada8['attributes']['POSITION']];if(_0x22e295['aabb']=Sf(_0xc58dd1),_0x1aada8['hasOwnProp'+'erty']('targets')){const _0x1c1cea=[];_0x1aada8['targets']['forEach']((_0x46b891,_0x390514)=>{const _0x343085={};_0x46b891['hasOwnProp'+'erty']('POSITION')&&(_0xc58dd1=_0x30b5b4[_0x46b891['POSITION']],_0x343085['deltaPosit'+'ions']=ma(_0xc58dd1,_0x4e569c),_0x343085['aabb']=Sf(_0xc58dd1)),_0x46b891['hasOwnProp'+'erty']('NORMAL')&&(_0xc58dd1=_0x30b5b4[_0x46b891['NORMAL']],_0x343085['deltaNorma'+'ls']=ma(_0xc58dd1,_0x4e569c)),_0x77b998['hasOwnProp'+'erty']('extras')&&_0x77b998['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x343085['name']=_0x77b998['extras']['targetName'+'s'][_0x390514]:_0x343085['name']=_0x390514['toString'](-0x3*0xc83+0xdd*0x13+0x152c),_0x77b998['hasOwnProp'+'erty']('weights')&&(_0x343085['defaultWei'+'ght']=_0x77b998['weights'][_0x390514]),_0x343085['preserveDa'+'ta']=_0x33e305['morphPrese'+'rveData'],_0x1c1cea['push'](new Qc(_0x343085));}),_0x22e295['morph']=new F0(_0x1c1cea,_0x42691d,{'preferHighPrecision':_0x33e305['morphPrefe'+'rHighPreci'+'sion']});}_0x48f656['push'](_0x22e295);}}),_0x48f656;},ft=(_0x1712ad,_0x16a3ca,_0x48bc0a)=>{var _0x1dc2e6;let _0x2289ba;const _0x1b79db=_0x1712ad['texCoord'];if(_0x1b79db){for(_0x2289ba=0x6e2+0x1cc+-0x65*0x16;_0x2289ba<_0x48bc0a['length'];++_0x2289ba)_0x16a3ca[_0x48bc0a[_0x2289ba]+'MapUv']=_0x1b79db;}const _0x2509c9=[-0x1e*0xd5+0x1950+0xf*-0x6,-0xafa+0x2a2+0x858*0x1],_0x49591f=[-0x6*-0x71+0x1*0x5b9+0x33*-0x2a,-0x20c5+-0x245a+0x38*0x13c],_0x2771bb=(_0x1dc2e6=_0x1712ad['extensions'])==null?void(-0x1214+0x342*-0xb+0x35ea):_0x1dc2e6['KHR_textur'+'e_transfor'+'m'];if(_0x2771bb){const _0x549bf8=_0x2771bb['offset']||_0x2509c9,_0xacb2d1=_0x2771bb['scale']||_0x49591f,_0x1c0cae=_0x2771bb['rotation']?-_0x2771bb['rotation']*N['RAD_TO_DEG']:-0x47b+-0x7*-0x481+-0x1b0c,_0x24efdf=new W(_0xacb2d1[-0xc56+0xecc*0x2+-0x1142],_0xacb2d1[0x1e09+0x23*0xe3+-0x1b*0x243]),_0x357c70=new W(_0x549bf8[0x1*0x1f61+-0x24e5+0x584],0x8ec*-0x2+-0x455+0x162e-_0xacb2d1[0x21a*-0x1+-0xd3c+-0x165*-0xb]-_0x549bf8[-0x15b6+-0xb51+0x2108]);for(_0x2289ba=-0x32b+-0x1a30+0x1d5b;_0x2289ba<_0x48bc0a['length'];++_0x2289ba)_0x16a3ca[_0x48bc0a[_0x2289ba]+'MapTiling']=_0x24efdf,_0x16a3ca[_0x48bc0a[_0x2289ba]+'MapOffset']=_0x357c70,_0x16a3ca[_0x48bc0a[_0x2289ba]+('MapRotatio'+'n')]=_0x1c0cae;}},FD=(_0x152526,_0x540fd8,_0x523c6c)=>{let _0x416e3f,_0x23abd1;if(_0x152526['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x416e3f=_0x152526['diffuseFac'+'tor'],_0x540fd8['diffuse']['set'](Math['pow'](_0x416e3f[-0x247d+-0x1c7+0x2644],(0x1*-0x51c+-0x580+0xa9d)/(0x25e6+-0xc71+-0x517*0x5+0.20000000000000018)),Math['pow'](_0x416e3f[0xe*-0x57+0xc7f+-0x7bc],(-0x14dd+0x219+0x12c5)/(-0xe59+-0x675+0x14d0+0.20000000000000018)),Math['pow'](_0x416e3f[-0x11b*0x13+-0x154*0x17+0x338f],(-0x9*0x11f+-0x16d2+0x20ea)/(0xb53+-0x359*0x4+-0xb1*-0x3+0.20000000000000018))),_0x540fd8['opacity']=_0x416e3f[-0x1c5a+-0x18a6+-0x29*-0x14b]):(_0x540fd8['diffuse']['set'](0x182+-0x26d+0xec,0x14c*-0x1c+-0x6*-0x336+-0x123*-0xf,0x1*0x1f43+0x18b9+-0x37fb),_0x540fd8['opacity']=0xec*-0x12+-0x4a*0x81+0x35e3),_0x152526['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x1235fb=_0x152526['diffuseTex'+'ture'];_0x23abd1=_0x523c6c[_0x1235fb['index']],_0x540fd8['diffuseMap']=_0x23abd1,_0x540fd8['diffuseMap'+'Channel']='rgb',_0x540fd8['opacityMap']=_0x23abd1,_0x540fd8['opacityMap'+'Channel']='a',ft(_0x1235fb,_0x540fd8,['diffuse','opacity']);}if(_0x540fd8['useMetalne'+'ss']=!(0x227+0x27*0x1d+-0x29*0x29),_0x152526['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x416e3f=_0x152526['specularFa'+'ctor'],_0x540fd8['specular']['set'](Math['pow'](_0x416e3f[-0x1c6a+-0x12*-0x17b+0x1c4*0x1],(0x12e4+0x196f+-0x2c52)/(0x14d8+0x892+0xeb4*-0x2+0.20000000000000018)),Math['pow'](_0x416e3f[-0x8*0x2f1+-0x169f+-0x2*-0x1714],(0x5b3*-0x2+-0x425*-0x2+0x31d)/(0x734*-0x5+0xa11+0x5*0x531+0.20000000000000018)),Math['pow'](_0x416e3f[-0x125f+0x1e0c+-0xbab],(-0xd81*-0x1+0x15cd+-0x234d)/(0x8df*0x2+-0x1d6d+0xbb1+0.20000000000000018)))):_0x540fd8['specular']['set'](-0x7f8+0x44*-0x6a+0x2421,0x1c0+-0x244d*-0x1+-0x260c,-0x110+-0x290*-0x6+-0x197*0x9),_0x152526['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x540fd8['gloss']=_0x152526['glossiness'+'Factor']:_0x540fd8['gloss']=0x122e*-0x2+0x2516+0x25*-0x5,_0x152526['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x2ad3d8=_0x152526['specularGl'+'ossinessTe'+'xture'];_0x540fd8['specularEn'+'coding']='srgb',_0x540fd8['specularMa'+'p']=_0x540fd8['glossMap']=_0x523c6c[_0x2ad3d8['index']],_0x540fd8['specularMa'+'pChannel']='rgb',_0x540fd8['glossMapCh'+'annel']='a',ft(_0x2ad3d8,_0x540fd8,['gloss','metalness']);}},OD=(_0x3c5752,_0x1ff8c4,_0x1b54c5)=>{if(_0x3c5752['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x1ff8c4['clearCoat']=_0x3c5752['clearcoatF'+'actor']*(0x136d+0x1ea6*-0x1+0xd*0xdd+0.25):_0x1ff8c4['clearCoat']=-0x101a+0x12c2+-0x2a8,_0x3c5752['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x118969=_0x3c5752['clearcoatT'+'exture'];_0x1ff8c4['clearCoatM'+'ap']=_0x1b54c5[_0x118969['index']],_0x1ff8c4['clearCoatM'+'apChannel']='r',ft(_0x118969,_0x1ff8c4,['clearCoat']);}if(_0x3c5752['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x1ff8c4['clearCoatG'+'loss']=_0x3c5752['clearcoatR'+'oughnessFa'+'ctor']:_0x1ff8c4['clearCoatG'+'loss']=0x1dfb+0x203d+0x1f1c*-0x2,_0x3c5752['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x2eeb54=_0x3c5752['clearcoatR'+'oughnessTe'+'xture'];_0x1ff8c4['clearCoatG'+'lossMap']=_0x1b54c5[_0x2eeb54['index']],_0x1ff8c4['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x2eeb54,_0x1ff8c4,['clearCoatG'+'loss']);}if(_0x3c5752['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x5683e6=_0x3c5752['clearcoatN'+'ormalTextu'+'re'];_0x1ff8c4['clearCoatN'+'ormalMap']=_0x1b54c5[_0x5683e6['index']],ft(_0x5683e6,_0x1ff8c4,['clearCoatN'+'ormal']),_0x5683e6['hasOwnProp'+'erty']('scale')&&(_0x1ff8c4['clearCoatB'+'umpiness']=_0x5683e6['scale']);}_0x1ff8c4['clearCoatG'+'lossInvert']=!(0x1*0x16a2+-0x6b1*-0x1+-0x1d53*0x1);},kD=(_0x16a476,_0x39232b,_0x748e27)=>{_0x39232b['useLightin'+'g']=!(0x1469+0x5c6*0x2+-0x1ff4),_0x39232b['emissive']['copy'](_0x39232b['diffuse']),_0x39232b['emissiveMa'+'p']=_0x39232b['diffuseMap'],_0x39232b['emissiveMa'+'pUv']=_0x39232b['diffuseMap'+'Uv'],_0x39232b['emissiveMa'+'pTiling']['copy'](_0x39232b['diffuseMap'+'Tiling']),_0x39232b['emissiveMa'+'pOffset']['copy'](_0x39232b['diffuseMap'+'Offset']),_0x39232b['emissiveMa'+'pRotation']=_0x39232b['diffuseMap'+'Rotation'],_0x39232b['emissiveMa'+'pChannel']=_0x39232b['diffuseMap'+'Channel'],_0x39232b['emissiveVe'+'rtexColor']=_0x39232b['diffuseVer'+'texColor'],_0x39232b['emissiveVe'+'rtexColorC'+'hannel']=_0x39232b['diffuseVer'+'texColorCh'+'annel'],_0x39232b['useLightin'+'g']=!(0x2c*-0x1e+0x1*-0x19ab+0x1ed4),_0x39232b['useSkybox']=!(0x2129+0x34a+-0x2472*0x1),_0x39232b['diffuse']['set'](0x2*0x9eb+-0xf25+0x30*-0x19,-0x1a68+-0x6d*0xd+0x1ff2,-0x19b2+0x145+0x186e),_0x39232b['diffuseMap']=null,_0x39232b['diffuseVer'+'texColor']=!(-0x2268+0xd*-0x4+0x229d);},BD=(_0x7929be,_0x2b3bb5,_0x5caf21)=>{if(_0x2b3bb5['useMetalne'+'ssSpecular'+'Color']=!(0x25fe+-0x11*0x175+-0xd39),_0x7929be['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x2b3bb5['specularEn'+'coding']='srgb',_0x2b3bb5['specularMa'+'p']=_0x5caf21[_0x7929be['specularCo'+'lorTexture']['index']],_0x2b3bb5['specularMa'+'pChannel']='rgb',ft(_0x7929be['specularCo'+'lorTexture'],_0x2b3bb5,['specular'])),_0x7929be['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x18d0c7=_0x7929be['specularCo'+'lorFactor'];_0x2b3bb5['specular']['set'](Math['pow'](_0x18d0c7[0x2669*-0x1+-0x2309*-0x1+0x360],(0x7*0x1f7+-0x1dc8+0x1008)/(0x5a7*-0x5+0x450*0x1+-0x1*-0x17f5+0.20000000000000018)),Math['pow'](_0x18d0c7[-0x2*0xdd8+-0xc*-0x320+-0x9cf],(-0x1595+0x23c0+-0xe2a)/(-0x2529+-0x1*0x262d+0x4*0x12d6+0.20000000000000018)),Math['pow'](_0x18d0c7[-0x854+-0xc44+0x149a],(-0x11be+0x1c21+-0xa62)/(-0x138+0x1af7+-0x19bd+0.20000000000000018)));}else _0x2b3bb5['specular']['set'](-0x266b+-0x1ff5+0x2b*0x1a3,0x1*-0x1549+0x15d5*0x1+-0x8b,-0x1308+-0x16d6+0x4a7*0x9);_0x7929be['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x2b3bb5['specularit'+'yFactor']=_0x7929be['specularFa'+'ctor']:_0x2b3bb5['specularit'+'yFactor']=-0x1439+0x21c2+-0x1b1*0x8,_0x7929be['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x2b3bb5['specularit'+'yFactorMap'+'Channel']='a',_0x2b3bb5['specularit'+'yFactorMap']=_0x5caf21[_0x7929be['specularTe'+'xture']['index']],ft(_0x7929be['specularTe'+'xture'],_0x2b3bb5,['specularit'+'yFactor']));},ND=(_0x565280,_0xc360a1,_0xb2643e)=>{_0x565280['hasOwnProp'+'erty']('ior')&&(_0xc360a1['refraction'+'Index']=(0x3*0xb01+-0x1a*-0x8e+0x1a*-0x1d3)/_0x565280['ior']);},zD=(_0x223b62,_0x1b268e,_0x5cab25)=>{_0x223b62['hasOwnProp'+'erty']('dispersion')&&(_0x1b268e['dispersion']=_0x223b62['dispersion']);},UD=(_0x27dbbb,_0x363d72,_0x5be208)=>{_0x363d72['blendType']=Kt,_0x363d72['useDynamic'+'Refraction']=!(-0x2*0x61b+0x46b*-0x3+0x29*0x9f),_0x27dbbb['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x363d72['refraction']=_0x27dbbb['transmissi'+'onFactor']),_0x27dbbb['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x363d72['refraction'+'MapChannel']='r',_0x363d72['refraction'+'Map']=_0x5be208[_0x27dbbb['transmissi'+'onTexture']['index']],ft(_0x27dbbb['transmissi'+'onTexture'],_0x363d72,['refraction']));},VD=(_0x1083ec,_0x5c5611,_0x2df27b)=>{if(_0x5c5611['useSheen']=!(0xd*-0xd2+-0x214a*0x1+-0x15fa*-0x2),_0x1083ec['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x4e05ae=_0x1083ec['sheenColor'+'Factor'];_0x5c5611['sheen']['set'](Math['pow'](_0x4e05ae[-0x1d79+0x1*0x138b+0x9ee],(-0x1*-0x4eb+0x220+-0x70a)/(0x24bd+-0x711+0xed5*-0x2+0.20000000000000018)),Math['pow'](_0x4e05ae[-0x1d*0xfd+-0x1bc1+0x521*0xb],(-0x21f0+-0x2e1*0x5+0x3056)/(-0x8fb*0x2+0xa11+0x7e7+0.20000000000000018)),Math['pow'](_0x4e05ae[-0x1c7*0x10+0x26aa+0x368*-0x3],(0xffc+0xdb7+-0x1db2)/(0xcf*0x17+-0x1bfd+0x966+0.20000000000000018)));}else _0x5c5611['sheen']['set'](-0x6*0x16f+0x24bc+0x17b*-0x13,-0x5e7*0x1+0x1740*0x1+-0x4a*0x3c,-0x1d89+-0xc*-0x2d2+-0x44e);_0x1083ec['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x5c5611['sheenMap']=_0x2df27b[_0x1083ec['sheenColor'+'Texture']['index']],_0x5c5611['sheenEncod'+'ing']='srgb',ft(_0x1083ec['sheenColor'+'Texture'],_0x5c5611,['sheen'])),_0x5c5611['sheenGloss']=_0x1083ec['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x1083ec['sheenRough'+'nessFactor']:0xb*0x265+-0x5*0x2ab+-0xd00,_0x1083ec['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x5c5611['sheenGloss'+'Map']=_0x2df27b[_0x1083ec['sheenRough'+'nessTextur'+'e']['index']],_0x5c5611['sheenGloss'+'MapChannel']='a',ft(_0x1083ec['sheenRough'+'nessTextur'+'e'],_0x5c5611,['sheenGloss'])),_0x5c5611['sheenGloss'+'Invert']=!(-0x1dea+0x10ff+0xceb*0x1);},GD=(_0x353796,_0xf7b0cf,_0x914179)=>{if(_0xf7b0cf['blendType']=Kt,_0xf7b0cf['useDynamic'+'Refraction']=!(-0x17c7+0x303*-0x7+0x2cdc),_0x353796['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0xf7b0cf['thickness']=_0x353796['thicknessF'+'actor']),_0x353796['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0xf7b0cf['thicknessM'+'ap']=_0x914179[_0x353796['thicknessT'+'exture']['index']],_0xf7b0cf['thicknessM'+'apChannel']='g',ft(_0x353796['thicknessT'+'exture'],_0xf7b0cf,['thickness'])),_0x353796['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0xf7b0cf['attenuatio'+'nDistance']=_0x353796['attenuatio'+'nDistance']),_0x353796['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x580de2=_0x353796['attenuatio'+'nColor'];_0xf7b0cf['attenuatio'+'n']['set'](Math['pow'](_0x580de2[-0x1941+0x1812+0x12f],(0x9a7*0x1+-0xa*0x43+-0x5*0x168)/(-0x176e+0x722+0x104e+0.20000000000000018)),Math['pow'](_0x580de2[0x1*0x25a5+0x3*0x629+-0x381f],(0xc7d*-0x3+0x1105+0x1473)/(0x757+0x1*-0x19b6+-0x1261*-0x1+0.20000000000000018)),Math['pow'](_0x580de2[0xc2*-0x2f+-0x1*-0x81d+0x1b83],(-0x7*0xb7+0x3*0x796+-0x11c0)/(-0xef9*0x1+-0xb7*0x29+0x2c4a+0.20000000000000018)));}},HD=(_0x3ec5f1,_0x1f5e4c,_0x2ca925)=>{_0x3ec5f1['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x1f5e4c['emissiveIn'+'tensity']=_0x3ec5f1['emissiveSt'+'rength']);},WD=(_0x12d603,_0x4aa0f4,_0x2cc910)=>{_0x4aa0f4['useIridesc'+'ence']=!(0xe*-0x19+0x3*0xbb9+-0x21cd),_0x12d603['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x4aa0f4['iridescenc'+'e']=_0x12d603['iridescenc'+'eFactor']),_0x12d603['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x4aa0f4['iridescenc'+'eMapChanne'+'l']='r',_0x4aa0f4['iridescenc'+'eMap']=_0x2cc910[_0x12d603['iridescenc'+'eTexture']['index']],ft(_0x12d603['iridescenc'+'eTexture'],_0x4aa0f4,['iridescenc'+'e'])),_0x12d603['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x4aa0f4['iridescenc'+'eRefractio'+'nIndex']=_0x12d603['iridescenc'+'eIor']),_0x12d603['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x4aa0f4['iridescenc'+'eThickness'+'Min']=_0x12d603['iridescenc'+'eThickness'+'Minimum']),_0x12d603['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x4aa0f4['iridescenc'+'eThickness'+'Max']=_0x12d603['iridescenc'+'eThickness'+'Maximum']),_0x12d603['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x4aa0f4['iridescenc'+'eThickness'+'MapChannel']='g',_0x4aa0f4['iridescenc'+'eThickness'+'Map']=_0x2cc910[_0x12d603['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x12d603['iridescenc'+'eThickness'+'Texture'],_0x4aa0f4,['iridescenc'+'eThickness']));},Dx=(_0x2874a6,_0x54bf08)=>{const _0x82339f=new cs();_0x2874a6['hasOwnProp'+'erty']('name')&&(_0x82339f['name']=_0x2874a6['name']),_0x82339f['occludeSpe'+'cular']=Bo,_0x82339f['diffuseVer'+'texColor']=!(-0x11bd+-0x1c*0x5e+0x1c05),_0x82339f['specularTi'+'nt']=!(0x9*0x3c1+-0x36b*-0x1+-0x2534),_0x82339f['specularVe'+'rtexColor']=!(-0x10*-0x13+0x1*-0x611+-0x4e1*-0x1),_0x82339f['specular']['set'](-0x2a7*0xe+0x1cbc+-0x9*-0xef,-0x1122*-0x1+0x380*0xb+-0x37a1*0x1,-0x1*0x7b5+-0x6*-0x5a6+-0x3*0x8ba),_0x82339f['gloss']=-0x83*0x3d+0x1d5d*-0x1+0x3c95,_0x82339f['glossInver'+'t']=!(-0x23bc+-0x1594+0x3950),_0x82339f['useMetalne'+'ss']=!(0x2fe+0x23b*-0xd+0x1a01);let _0x188fe3,_0x2d5c70;if(_0x2874a6['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x1aaeb5=_0x2874a6['pbrMetalli'+'cRoughness'];if(_0x1aaeb5['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x188fe3=_0x1aaeb5['baseColorF'+'actor'],_0x82339f['diffuse']['set'](Math['pow'](_0x188fe3[0x3d7*-0x2+0x4*-0x6bb+0x229a],(-0x120d*-0x1+0xb*0x25d+-0x2c0b)/(-0x904*-0x2+0x2e*-0x18+-0xc3*0x12+0.20000000000000018)),Math['pow'](_0x188fe3[0xc*-0x13e+-0x1*-0x14e6+-0x5fd],(-0x8b*0x3d+0x2009+0x9*0x1f)/(-0xf98+0x1050+0xe*-0xd+0.20000000000000018)),Math['pow'](_0x188fe3[0x2*-0xfd3+-0x1*-0x1b23+0x59*0xd],(-0x148e*-0x1+-0x26b*-0xa+0x2cbb*-0x1)/(-0x12f2+0x1629+-0x335+0.20000000000000018))),_0x82339f['opacity']=_0x188fe3[-0x998*0x2+-0x6b2+0x7*0x3b3]),_0x1aaeb5['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x1d0494=_0x1aaeb5['baseColorT'+'exture'];_0x2d5c70=_0x54bf08[_0x1d0494['index']],_0x82339f['diffuseMap']=_0x2d5c70,_0x82339f['diffuseMap'+'Channel']='rgb',_0x82339f['opacityMap']=_0x2d5c70,_0x82339f['opacityMap'+'Channel']='a',ft(_0x1d0494,_0x82339f,['diffuse','opacity']);}if(_0x1aaeb5['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x82339f['metalness']=_0x1aaeb5['metallicFa'+'ctor']),_0x1aaeb5['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x82339f['gloss']=_0x1aaeb5['roughnessF'+'actor']),_0x1aaeb5['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x599b48=_0x1aaeb5['metallicRo'+'ughnessTex'+'ture'];_0x82339f['metalnessM'+'ap']=_0x82339f['glossMap']=_0x54bf08[_0x599b48['index']],_0x82339f['metalnessM'+'apChannel']='b',_0x82339f['glossMapCh'+'annel']='g',ft(_0x599b48,_0x82339f,['gloss','metalness']);}}if(_0x2874a6['hasOwnProp'+'erty']('normalText'+'ure')){const _0x25b20a=_0x2874a6['normalText'+'ure'];_0x82339f['normalMap']=_0x54bf08[_0x25b20a['index']],ft(_0x25b20a,_0x82339f,['normal']),_0x25b20a['hasOwnProp'+'erty']('scale')&&(_0x82339f['bumpiness']=_0x25b20a['scale']);}if(_0x2874a6['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x57fdda=_0x2874a6['occlusionT'+'exture'];_0x82339f['aoMap']=_0x54bf08[_0x57fdda['index']],_0x82339f['aoMapChann'+'el']='r',ft(_0x57fdda,_0x82339f,['ao']);}if(_0x2874a6['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x188fe3=_0x2874a6['emissiveFa'+'ctor'],_0x82339f['emissive']['set'](Math['pow'](_0x188fe3[0x11ce+-0x3*0x1+-0x11cb*0x1],(0x62+0x1d82*0x1+-0x1de3)/(-0x53*-0x1a+0x140f+-0x1c7b+0.20000000000000018)),Math['pow'](_0x188fe3[0x139*-0x5+0x22ee+-0x1cd0],(-0xb51*0x2+0xae3*0x3+-0xa06)/(-0x1589+-0x1*0x2f5+0xc40*0x2+0.20000000000000018)),Math['pow'](_0x188fe3[0x1caa+-0x161d+0x14f*-0x5],(-0x5*-0x656+0x2118+-0x40c5*0x1)/(0x1a3*0x11+-0x66a*-0x1+-0x223b+0.20000000000000018)))),_0x2874a6['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x189a3b=_0x2874a6['emissiveTe'+'xture'];_0x82339f['emissiveMa'+'p']=_0x54bf08[_0x189a3b['index']],ft(_0x189a3b,_0x82339f,['emissive']);}if(_0x2874a6['hasOwnProp'+'erty']('alphaMode'))switch(_0x2874a6['alphaMode']){case'MASK':_0x82339f['blendType']=is,_0x2874a6['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x82339f['alphaTest']=_0x2874a6['alphaCutof'+'f']:_0x82339f['alphaTest']=0x15*0x9d+-0x3c*-0x1+-0xd1d+0.5;break;case'BLEND':_0x82339f['blendType']=Kt,_0x82339f['depthWrite']=!(-0x1f12+-0x5b9*0x4+-0x133*-0x2d);break;default:case'OPAQUE':_0x82339f['blendType']=is;break;}else _0x82339f['blendType']=is;_0x2874a6['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x82339f['twoSidedLi'+'ghting']=_0x2874a6['doubleSide'+'d'],_0x82339f['cull']=_0x2874a6['doubleSide'+'d']?mt:rn):(_0x82339f['twoSidedLi'+'ghting']=!(0x29*-0x3+0x1099+-0x113*0xf),_0x82339f['cull']=rn);const _0x19ee96={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x2874a6['hasOwnProp'+'erty']('extensions'))for(const _0x196269 in _0x2874a6['extensions']){const _0x49edf5=_0x19ee96[_0x196269];_0x49edf5!==void(-0x2*-0xbbc+0x226d+-0x39e5*0x1)&&_0x49edf5(_0x2874a6['extensions'][_0x196269],_0x82339f,_0x54bf08);}return _0x82339f['update'](),_0x82339f;},$D=(_0xa8cf50,_0x3a2e4d,_0x569fd5,_0x8ad0c1,_0x4bfa2f,_0x3c0550,_0x37548d)=>{const _0x2b07de=_0x107a5b=>new Jh(Wo(_0x107a5b['type']),ma(_0x107a5b,_0x8ad0c1)),_0xee4459={'STEP':$0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x4118cc={},_0x5c9fc8={},_0x263965={};let _0x5dc0b3=-0x636*-0x2+0x2b*-0xe5+-0x4*-0x683,_0x2e478b;for(_0x2e478b=0x13c7+0x1*-0xbbc+-0x80b;_0x2e478b<_0xa8cf50['samplers']['length'];++_0x2e478b){const _0x469829=_0xa8cf50['samplers'][_0x2e478b];_0x4118cc['hasOwnProp'+'erty'](_0x469829['input'])||(_0x4118cc[_0x469829['input']]=_0x2b07de(_0x569fd5[_0x469829['input']])),_0x5c9fc8['hasOwnProp'+'erty'](_0x469829['output'])||(_0x5c9fc8[_0x469829['output']]=_0x2b07de(_0x569fd5[_0x469829['output']]));const _0x2167b0=_0x469829['hasOwnProp'+'erty']('interpolat'+'ion')&&_0xee4459['hasOwnProp'+'erty'](_0x469829['interpolat'+'ion'])?_0xee4459[_0x469829['interpolat'+'ion']]:ju,_0x42ff99={'paths':[],'input':_0x469829['input'],'output':_0x469829['output'],'interpolation':_0x2167b0};_0x263965[_0x2e478b]=_0x42ff99;}const _0x31b658=[],_0x441d6f={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x858db0=_0x34d5d3=>{const _0x42824b=[];for(;_0x34d5d3;)_0x42824b['unshift'](_0x34d5d3['name']),_0x34d5d3=_0x34d5d3['parent'];return _0x42824b;},_0x5e4591=(_0x475a3e,_0x26f826,_0x2de08f)=>{const _0x539769=_0x5c9fc8[_0x475a3e['output']];if(!_0x539769){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x2de08f+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x30b838;if(_0x3c0550&&_0x3c0550[_0x26f826['mesh']]){const _0x2595a9=_0x3c0550[_0x26f826['mesh']];_0x2595a9['hasOwnProp'+'erty']('extras')&&_0x2595a9['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x30b838=_0x2595a9['extras']['targetName'+'s']);}const _0x4d465d=_0x539769['data'],_0x439aa5=_0x4d465d['length']/_0x4118cc[_0x475a3e['input']]['data']['length'],_0x38dfd8=_0x4d465d['length']/_0x439aa5,_0x47b336=_0x38dfd8*(0x7b9+-0x1d91+0x15dc),_0x1dd0f2=new ArrayBuffer(_0x47b336*_0x439aa5);for(let _0x2271ed=-0x21d2+0x1062+0x5d*0x30;_0x2271ed<_0x439aa5;_0x2271ed++){const _0x25292a=new Float32Array(_0x1dd0f2,_0x47b336*_0x2271ed,_0x38dfd8);for(let _0x14bf25=0xd8+-0x1*0x1c6c+-0x2c2*-0xa;_0x14bf25<_0x38dfd8;_0x14bf25++)_0x25292a[_0x14bf25]=_0x4d465d[_0x14bf25*_0x439aa5+_0x2271ed];const _0x3dd0cf=new Jh(-0x12f3+0x1c*-0x107+0x2fb8,_0x25292a),_0x4e3e89=_0x30b838!=null&&_0x30b838[_0x2271ed]?'name.'+_0x30b838[_0x2271ed]:_0x2271ed;_0x5c9fc8[-_0x5dc0b3]=_0x3dd0cf;const _0x265074={'paths':[{'entityPath':_0x2de08f,'component':'graph','propertyPath':['weight.'+_0x4e3e89]}],'input':_0x475a3e['input'],'output':-_0x5dc0b3,'interpolation':_0x475a3e['interpolat'+'ion']};_0x5dc0b3++,_0x263965['morphCurve'+'-'+_0x2e478b+'-'+_0x2271ed]=_0x265074;}};for(_0x2e478b=0x2017+-0x1be8+0x99*-0x7;_0x2e478b<_0xa8cf50['channels']['length'];++_0x2e478b){const _0x2fcab2=_0xa8cf50['channels'][_0x2e478b],_0x5b88c5=_0x2fcab2['target'],_0x465ee0=_0x263965[_0x2fcab2['sampler']],_0xc8f314=_0x4bfa2f[_0x5b88c5['node']],_0x5bdede=_0x37548d[_0x5b88c5['node']],_0x3669f3=_0x858db0(_0xc8f314);_0x5b88c5['path']['startsWith']('weights')?(_0x5e4591(_0x465ee0,_0x5bdede,_0x3669f3),_0x263965[_0x2fcab2['sampler']]['morphCurve']=!(-0x229*-0x2+0x137*-0x1c+0x3*0x9e6)):_0x465ee0['paths']['push']({'entityPath':_0x3669f3,'component':'graph','propertyPath':[_0x441d6f[_0x5b88c5['path']]]});}const _0x58d2a6=[],_0x586cf2=[],_0x210c6a=[];for(const _0x36e076 in _0x4118cc)_0x58d2a6['push'](_0x4118cc[_0x36e076]),_0x4118cc[_0x36e076]=_0x58d2a6['length']-(-0x19a5*0x1+-0x2282+0x3c28);for(const _0x25a87b in _0x5c9fc8)_0x586cf2['push'](_0x5c9fc8[_0x25a87b]),_0x5c9fc8[_0x25a87b]=_0x586cf2['length']-(0x13a3+0x2*-0x4bc+0x1*-0xa2a);for(const _0x25ee69 in _0x263965){const _0x3a01b1=_0x263965[_0x25ee69];_0x3a01b1['morphCurve']||(_0x210c6a['push'](new Px(_0x3a01b1['paths'],_0x4118cc[_0x3a01b1['input']],_0x5c9fc8[_0x3a01b1['output']],_0x3a01b1['interpolat'+'ion'])),_0x3a01b1['paths']['length']>0x7f*0x44+-0x3*-0x38b+0x29*-0x115&&_0x3a01b1['paths'][-0x6d*0x1d+-0x34*-0x49+-0x1*0x27b]['propertyPa'+'th'][-0x75c*-0x1+-0x1c9+-0x593]==='localRotat'+'ion'&&_0x3a01b1['interpolat'+'ion']!==Yu&&_0x31b658['push'](_0x210c6a[_0x210c6a['length']-(-0x25cb+0x3d*-0x61+-0x3ce9*-0x1)]['output']));}_0x31b658['sort']();let _0x80d294=null,_0x5c4a88;for(_0x2e478b=-0x4*-0x137+0x882+-0xd5e;_0x2e478b<_0x31b658['length'];++_0x2e478b){const _0x471cad=_0x31b658[_0x2e478b];if(_0x2e478b===-0x2*0x6b6+-0xbea+0x1956||_0x471cad!==_0x80d294){if(_0x5c4a88=_0x586cf2[_0x471cad],_0x5c4a88['components']===-0x2f6+0x167c+0x1382*-0x1){const _0x1092db=_0x5c4a88['data'],_0x216d66=_0x1092db['length']-(-0xa2*0x35+0x19af*0x1+0x7df);for(let _0x1b2bfb=-0x2b*0x52+-0x1*-0x12cb+0x505*-0x1;_0x1b2bfb<_0x216d66;_0x1b2bfb+=-0x69d*0x1+0xf26+-0x885*0x1)_0x1092db[_0x1b2bfb+(-0x5d*-0x47+0x1341+-0x2d0c)]*_0x1092db[_0x1b2bfb+(0x7*-0x34b+-0x4d*-0x3a+-0x59f*-0x1)]+_0x1092db[_0x1b2bfb+(0xc15+0xb*0x5b+-0xffd*0x1)]*_0x1092db[_0x1b2bfb+(0x43*0x95+0x25b7*0x1+-0x4cb1)]+_0x1092db[_0x1b2bfb+(0x1452+0xc90+-0x20e*0x10)]*_0x1092db[_0x1b2bfb+(0x265c+0xc7*-0x4+-0x233a)]+_0x1092db[_0x1b2bfb+(0x1*-0x59+-0x82d+-0x5f*-0x17)]*_0x1092db[_0x1b2bfb+(-0x1*-0x1ac9+-0x1ac6+0x4)]<-0x2509*-0x1+0x2350+0x4859*-0x1&&(_0x1092db[_0x1b2bfb+(0x20fd+-0x8a8+-0x4dd*0x5)]*=-(0x19b1*-0x1+-0x1aed+0x13*0x2c5),_0x1092db[_0x1b2bfb+(-0x16dd+-0x362*-0x9+0x16*-0x58)]*=-(-0x2012+0xbf0+0x407*0x5),_0x1092db[_0x1b2bfb+(0x1*-0x7fe+0x35*0x25+0xd*0x7)]*=-(0xb*0x245+-0x48b+0x146b*-0x1),_0x1092db[_0x1b2bfb+(-0xb*0x187+0x1*0x2537+-0x1463)]*=-(-0x17d*0x3+0xb*0x2d6+0x26e*-0xb));}_0x80d294=_0x471cad;}}let _0x51ea9=0xec3+-0x1003+0x140;for(_0x2e478b=0x20c*0x2+-0x7d*-0x9+-0x29*0x35;_0x2e478b<_0x58d2a6['length'];_0x2e478b++)_0x5c4a88=_0x58d2a6[_0x2e478b]['_data'],_0x51ea9=Math['max'](_0x51ea9,_0x5c4a88['length']===0x2*-0x1307+0x25*-0xd+-0x1*-0x27ef?0x1*0x9e5+-0x1549+0xb64:_0x5c4a88[_0x5c4a88['length']-(-0xbc0+-0x1157+0x188*0x13)]);return new Ri(_0xa8cf50['hasOwnProp'+'erty']('name')?_0xa8cf50['name']:'animation_'+_0x3a2e4d,_0x51ea9,_0x58d2a6,_0x586cf2,_0x210c6a);},eh=new q(),qn=new T(),qD=(_0x3bdb4c,_0x351a27,_0x404ed6)=>{const _0xbb27b7=new De();if(_0x3bdb4c['hasOwnProp'+'erty']('name')&&_0x3bdb4c['name']['length']>-0x2482+0x25db+-0x73*0x3?_0xbb27b7['name']=_0x3bdb4c['name']:_0xbb27b7['name']='node_'+_0x351a27,_0x3bdb4c['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x3bdb4c['matrix']),eh['getTransla'+'tion'](qn),_0xbb27b7['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0xbb27b7['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0xbb27b7['setLocalSc'+'ale'](qn)),_0x3bdb4c['hasOwnProp'+'erty']('rotation')){const _0x49dc9a=_0x3bdb4c['rotation'];_0xbb27b7['setLocalRo'+'tation'](_0x49dc9a[-0x1*-0x2285+-0x1b4d+-0x39c*0x2],_0x49dc9a[-0x4e8+0x3f*-0x3+-0x1e2*-0x3],_0x49dc9a[0x3*-0xcd1+-0x37*0x13+0x2a8a],_0x49dc9a[-0x261c+-0xcb*-0x25+0x8c8]);}if(_0x3bdb4c['hasOwnProp'+'erty']('translatio'+'n')){const _0x5c9215=_0x3bdb4c['translatio'+'n'];_0xbb27b7['setLocalPo'+'sition'](_0x5c9215[-0xa52*0x2+0x2699+0x1*-0x11f5],_0x5c9215[0x146f+0xc80+-0x20ee*0x1],_0x5c9215[-0x1*-0x977+-0x22e5+0x1970]);}if(_0x3bdb4c['hasOwnProp'+'erty']('scale')){const _0x21775f=_0x3bdb4c['scale'];_0xbb27b7['setLocalSc'+'ale'](_0x21775f[-0x483+0x2ed+-0x1*-0x196],_0x21775f[-0xf7*-0xb+0x19ff+-0x249b],_0x21775f[0xc3e+-0x1*0x6f+-0x35*0x39]);}return _0x3bdb4c['hasOwnProp'+'erty']('extensions')&&_0x3bdb4c['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x404ed6['set'](_0x3bdb4c,{'ext':_0x3bdb4c['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0xbb27b7;},XD=(_0x510448,_0x3ff587)=>{const _0x1e6454=_0x510448['type']==='orthograph'+'ic'?ua:Gs,_0x381643=_0x1e6454===ua?_0x510448['orthograph'+'ic']:_0x510448['perspectiv'+'e'],_0x5d28e8={'enabled':!(0x1*0x7f7+0x14*0x191+-0x274a),'projection':_0x1e6454,'nearClip':_0x381643['znear'],'aspectRatioMode':Ip};_0x381643['zfar']&&(_0x5d28e8['farClip']=_0x381643['zfar']),_0x1e6454===ua?(_0x5d28e8['orthoHeigh'+'t']=(-0x2*0xcbf+0x2f*-0x9+-0x1*-0x1b25+0.5)*_0x381643['ymag'],_0x381643['ymag']&&(_0x5d28e8['aspectRati'+'oMode']=Bu,_0x5d28e8['aspectRati'+'o']=_0x381643['xmag']/_0x381643['ymag'])):(_0x5d28e8['fov']=_0x381643['yfov']*N['RAD_TO_DEG'],_0x381643['aspectRati'+'o']&&(_0x5d28e8['aspectRati'+'oMode']=Bu,_0x5d28e8['aspectRati'+'o']=_0x381643['aspectRati'+'o']));const _0x1b73f9=new We(_0x510448['name']);return _0x1b73f9['addCompone'+'nt']('camera',_0x5d28e8),_0x1b73f9;},jD=(_0x38e636,_0x57f290)=>{const _0x291f54={'enabled':!(-0x681+0x47*-0xb+0x98f),'type':_0x38e636['type']==='point'?'omni':_0x38e636['type'],'color':_0x38e636['hasOwnProp'+'erty']('color')?new Y(_0x38e636['color']):Y['WHITE'],'range':_0x38e636['hasOwnProp'+'erty']('range')?_0x38e636['range']:-0x70b+-0xdf2+0x4*0xf03,'falloffMode':$b,'intensity':_0x38e636['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x38e636['intensity'],-0x8*-0x49d+0x1f30+-0x4418,-0x22b6+0x1af+0x2109):0x1*-0x184d+0xc6d+0xbe1};_0x38e636['hasOwnProp'+'erty']('spot')&&(_0x291f54['innerConeA'+'ngle']=_0x38e636['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x38e636['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:-0x166d+-0x2dc*-0x5+0x821,_0x291f54['outerConeA'+'ngle']=_0x38e636['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x38e636['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(0x1f4a+0x1bd7+-0x3b1d)),_0x38e636['hasOwnProp'+'erty']('intensity')&&(_0x291f54['luminance']=_0x38e636['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x291f54['type']],_0x291f54['outerConeA'+'ngle'],_0x291f54['innerConeA'+'ngle']));const _0x313d92=new We(_0x57f290['name']);return _0x313d92['rotateLoca'+'l'](-0x382+-0x1e96+-0x2*-0x1139,0x4*0xc2+-0x6a1+0x399,-0x1ea0+-0x9e9+0x2889),_0x313d92['addCompone'+'nt']('light',_0x291f54),_0x313d92;},YD=(_0x20fdd0,_0xfbb0b1,_0x4761c6,_0xabe663)=>{if(!_0xfbb0b1['hasOwnProp'+'erty']('skins')||_0xfbb0b1['skins']['length']===-0x26b+-0x206+0x471)return[];const _0x377560=new Map();return _0xfbb0b1['skins']['map'](_0x29d0ff=>ID(_0x20fdd0,_0x29d0ff,_0xfbb0b1['accessors'],_0xabe663,_0x4761c6,_0x377560));},KD=(_0x5698f6,_0x117926,_0x290593,_0x5b51fd)=>{var _0x2e4a7f,_0x3b575a,_0x41ba93;const _0x3ae637={},_0x38a6e0={},_0x2a20de={},_0x5453f4=[];return{'meshes':!_0x5b51fd['skipMeshes']&&((_0x2e4a7f=_0x117926==null?void(0x1*0x23bd+-0x4e7*0x7+-0x1*0x16c):_0x117926['meshes'])==null?void(-0x1a3c+-0x1564+0x2fa0):_0x2e4a7f['length'])&&((_0x3b575a=_0x117926==null?void(-0x1ce0+0x117b+0xb65):_0x117926['accessors'])==null?void(0x2*0x46d+-0x1d9f+0x14c5):_0x3b575a['length'])&&((_0x41ba93=_0x117926==null?void(0x1ac7+-0x1a5f+-0xd*0x8):_0x117926['bufferView'+'s'])==null?void(-0x61e+-0x1ce5+0x2303):_0x41ba93['length'])?_0x117926['meshes']['map'](_0x39e36e=>LD(_0x5698f6,_0x39e36e,_0x117926['accessors'],_0x290593,_0x3ae637,_0x38a6e0,_0x2a20de,_0x5b51fd,_0x5453f4)):[],'meshVariants':_0x38a6e0,'meshDefaultMaterials':_0x2a20de,'promises':_0x5453f4};},ZD=(_0x1b5e0a,_0x1fc3af,_0x50a24e)=>{var _0x57bede,_0x23b7b4,_0x1bc21e;if(!_0x1b5e0a['hasOwnProp'+'erty']('materials')||_0x1b5e0a['materials']['length']===-0x201f+-0x1*-0xe4b+0x11d4)return[];const _0x1ebc13=(_0x57bede=_0x50a24e==null?void(0x2d5+-0x1*0x21b9+-0x293*-0xc):_0x50a24e['material'])==null?void(0x2d*0x29+0x4*-0x196+-0xdd):_0x57bede['preprocess'],_0x4d7161=((_0x23b7b4=_0x50a24e==null?void(0x1c1d+0x16fb+0x221*-0x18):_0x50a24e['material'])==null?void(-0x59*0x6d+-0x1f9d+0x3e*0x11f):_0x23b7b4['process'])??Dx,_0x3a9254=(_0x1bc21e=_0x50a24e==null?void(0x13fb+-0x604+-0x8f*0x19):_0x50a24e['material'])==null?void(-0x1*-0x2441+0x47*-0x67+0x290*-0x3):_0x1bc21e['postproces'+'s'];return _0x1b5e0a['materials']['map'](_0x4e0cc9=>{_0x1ebc13&&_0x1ebc13(_0x4e0cc9);const _0x271a6b=_0x4d7161(_0x4e0cc9,_0x1fc3af);return _0x3a9254&&_0x3a9254(_0x4e0cc9,_0x271a6b),_0x271a6b;});},QD=_0x4a5d53=>{if(!_0x4a5d53['hasOwnProp'+'erty']('extensions')||!_0x4a5d53['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x149297=_0x4a5d53['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x652e50={};for(let _0x576501=0x1ed0+0x59*0x1f+-0x2997;_0x576501<_0x149297['length'];_0x576501++)_0x652e50[_0x149297[_0x576501]['name']]=_0x576501;return _0x652e50;},JD=(_0x3fad08,_0x563841,_0x5a3031,_0x4b7293)=>{var _0x50e83f,_0xc1d316;if(!_0x3fad08['hasOwnProp'+'erty']('animations')||_0x3fad08['animations']['length']===0x767*0x4+0x1*0x25af+-0x434b)return[];const _0x3bdbf6=(_0x50e83f=_0x4b7293==null?void(-0xd2+-0xd6*0xf+0xd5c):_0x4b7293['animation'])==null?void(-0xf08+-0x5*0x137+-0x151b*-0x1):_0x50e83f['preprocess'],_0x19abfe=(_0xc1d316=_0x4b7293==null?void(-0x25e0+0x1ff1+0x5ef):_0x4b7293['animation'])==null?void(0xd41+-0x1de0+-0x5*-0x353):_0xc1d316['postproces'+'s'];return _0x3fad08['animations']['map']((_0x92e1b1,_0x1ebd85)=>{_0x3bdbf6&&_0x3bdbf6(_0x92e1b1);const _0x4163c4=$D(_0x92e1b1,_0x1ebd85,_0x3fad08['accessors'],_0x5a3031,_0x563841,_0x3fad08['meshes'],_0x3fad08['nodes']);return _0x19abfe&&_0x19abfe(_0x92e1b1,_0x4163c4),_0x4163c4;});},e2=(_0xc5a6c9,_0x5d3267,_0x1c0fd0,_0x677d3)=>{const _0x1e6483=_0x5d3267['accessors'];_0x1c0fd0['forEach']((_0x27fb95,_0x5d091e)=>{const _0x25d38d=_0x27fb95['ext']['attributes'];let _0x259f14;if(_0x25d38d['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x2f9a00=_0x1e6483[_0x25d38d['TRANSLATIO'+'N']];_0x259f14=ma(_0x2f9a00,_0x677d3);}let _0x24bf3d;if(_0x25d38d['hasOwnProp'+'erty']('ROTATION')){const _0xf8b0ff=_0x1e6483[_0x25d38d['ROTATION']];_0x24bf3d=ma(_0xf8b0ff,_0x677d3);}let _0x37cd8a;if(_0x25d38d['hasOwnProp'+'erty']('SCALE')){const _0x460e41=_0x1e6483[_0x25d38d['SCALE']];_0x37cd8a=ma(_0x460e41,_0x677d3);}const _0x309c9e=(_0x259f14?_0x259f14['length']/(-0xb*-0xa2+0x19b2+-0x20a5):-0x2e*0xc0+-0x59d*-0x1+0x1ce3)||(_0x24bf3d?_0x24bf3d['length']/(0x32f+0x116+0x441*-0x1):0x28e*0xf+-0xcc1+0xbb*-0x23)||(_0x37cd8a?_0x37cd8a['length']/(0x3*0x48+-0x1cc8+0x1bf3):-0x1fd6+0x329*0x3+0x165b);if(_0x309c9e){const _0x487c18=new Float32Array(_0x309c9e*(0xa*0x14b+0x145*-0x1a+-0x509*-0x4)),_0x212ebf=new T(),_0x582ef2=new se(),_0x929229=new T(-0x2615+0x39d+0x2279,-0x232f+-0x2*-0x55f+-0xe*-0x1bf,-0x62f*-0x1+0x1*-0xb2a+-0x2*-0x27e),_0x1c9c1e=new q();let _0x4acd13=0x38c+0x102f*0x2+-0x23ea;for(let _0x26e1ae=0x24a+0xf7b*0x1+0x1*-0x11c5;_0x26e1ae<_0x309c9e;_0x26e1ae++){const _0x3ca79d=_0x26e1ae*(0x509+0x1eef+0x107*-0x23);if(_0x259f14&&_0x212ebf['set'](_0x259f14[_0x3ca79d],_0x259f14[_0x3ca79d+(-0x202c+0x2*-0x6f7+0x2e1b)],_0x259f14[_0x3ca79d+(-0x8a0+0xe75+-0x5d3)]),_0x24bf3d){const _0x2981a1=_0x26e1ae*(0x15ef+0x2026+-0x3611);_0x582ef2['set'](_0x24bf3d[_0x2981a1],_0x24bf3d[_0x2981a1+(0xf9a+0x2099+-0x3032)],_0x24bf3d[_0x2981a1+(-0x17b6+-0x1*0x1e53+0x360b)],_0x24bf3d[_0x2981a1+(0x1dee+-0x1e1f*-0x1+-0x3c0a)]);}_0x37cd8a&&_0x929229['set'](_0x37cd8a[_0x3ca79d],_0x37cd8a[_0x3ca79d+(-0x13*0x49+0x1cd*-0xd+-0x1cd5*-0x1)],_0x37cd8a[_0x3ca79d+(0x21*0x52+0x7cb+-0x125b)]),_0x1c9c1e['setTRS'](_0x212ebf,_0x582ef2,_0x929229);for(let _0x40c2c0=-0x198f+-0x7ce+0x215d;_0x40c2c0<0x1*-0xc81+0x11c3+-0xbe*0x7;_0x40c2c0++)_0x487c18[_0x4acd13++]=_0x1c9c1e['data'][_0x40c2c0];}_0x27fb95['matrices']=_0x487c18;}});},t2=(_0x531c85,_0xca518e,_0x5919f3)=>{var _0x1721cf,_0x3f2182,_0x5286e1;if(!_0x531c85['hasOwnProp'+'erty']('nodes')||_0x531c85['nodes']['length']===0x1*0x12cb+-0x2*0xb37+0x3a3)return[];const _0x2e9525=(_0x1721cf=_0xca518e==null?void(0x5b3*-0x1+-0x2111+-0x33b*-0xc):_0xca518e['node'])==null?void(-0x20ca+-0x2f*-0x76+0xb20):_0x1721cf['preprocess'],_0x597b5f=((_0x3f2182=_0xca518e==null?void(0x92*-0x1d+-0x13fb+0x2485):_0xca518e['node'])==null?void(0x1873+0x7*-0x88+-0x14bb):_0x3f2182['process'])??qD,_0x4580e7=(_0x5286e1=_0xca518e==null?void(0x11f+-0x1bec+0x1acd):_0xca518e['node'])==null?void(0xf2e*-0x2+-0x1c4a+-0x3aa6*-0x1):_0x5286e1['postproces'+'s'],_0x22e74a=_0x531c85['nodes']['map']((_0x3138d7,_0x53c953)=>{_0x2e9525&&_0x2e9525(_0x3138d7);const _0x5b7c9e=_0x597b5f(_0x3138d7,_0x53c953,_0x5919f3);return _0x4580e7&&_0x4580e7(_0x3138d7,_0x5b7c9e),_0x5b7c9e;});for(let _0x5341d2=0xb*-0x5+-0x7*-0x4cb+-0x2156;_0x5341d2<_0x531c85['nodes']['length'];++_0x5341d2){const _0x13697e=_0x531c85['nodes'][_0x5341d2];if(_0x13697e['hasOwnProp'+'erty']('children')){const _0x45bd15=_0x22e74a[_0x5341d2],_0x18ad19={};for(let _0x323c03=-0x16a*-0x11+0x7d0+-0x1fda;_0x323c03<_0x13697e['children']['length'];++_0x323c03){const _0x1b3c86=_0x22e74a[_0x13697e['children'][_0x323c03]];_0x1b3c86['parent']||(_0x18ad19['hasOwnProp'+'erty'](_0x1b3c86['name'])?_0x1b3c86['name']+=_0x18ad19[_0x1b3c86['name']]++:_0x18ad19[_0x1b3c86['name']]=0x2*-0x113d+-0x5fc+0x2877,_0x45bd15['addChild'](_0x1b3c86));}}}return _0x22e74a;},s2=(_0x2a1b0a,_0xb5e4eb)=>{var _0x3d5b31;const _0x3102ec=[],_0x45a436=_0x2a1b0a['scenes']['length'];if(_0x45a436===-0x1c9+-0x1*-0x26d2+-0x2508&&((_0x3d5b31=_0x2a1b0a['scenes'][0x238e*-0x1+0x1ba*-0x2+0x2702*0x1]['nodes'])==null?void(0x1*0x1bdb+-0x10b2+-0xb29*0x1):_0x3d5b31['length'])===0x1*-0x611+-0x1923+-0xa67*-0x3){const _0x50ed56=_0x2a1b0a['scenes'][0x8c8+-0xab*0x35+0x1a9f]['nodes'][-0x20e0+-0x1*-0x16e5+-0x23*-0x49];_0x3102ec['push'](_0xb5e4eb[_0x50ed56]);}else for(let _0x1aef4d=0x676*0x2+-0x1d30*-0x1+-0x2a1c;_0x1aef4d<_0x45a436;_0x1aef4d++){const _0x2be648=_0x2a1b0a['scenes'][_0x1aef4d];if(_0x2be648['nodes']){const _0x383554=new De(_0x2be648['name']);for(let _0x1210b0=0x1*-0x1fd+-0x2345+0x2542;_0x1210b0<_0x2be648['nodes']['length'];_0x1210b0++){const _0x29e852=_0xb5e4eb[_0x2be648['nodes'][_0x1210b0]];_0x383554['addChild'](_0x29e852);}_0x3102ec['push'](_0x383554);}}return _0x3102ec;},i2=(_0x39521c,_0x28ad9b,_0x1fb635)=>{var _0x4f583a,_0x3ce593,_0x29bac7;let _0x215572=null;if(_0x39521c['hasOwnProp'+'erty']('nodes')&&_0x39521c['hasOwnProp'+'erty']('cameras')&&_0x39521c['cameras']['length']>-0x1196*-0x2+-0xb23+-0x803*0x3){const _0xd3068a=(_0x4f583a=_0x1fb635==null?void(-0x3f*0x67+0x1e7*0x14+-0xcb3):_0x1fb635['camera'])==null?void(-0x38*-0x65+-0xb*0xa6+-0xef6):_0x4f583a['preprocess'],_0x3fa823=((_0x3ce593=_0x1fb635==null?void(0x26d7*-0x1+-0xb*-0x277+-0x1*-0xbba):_0x1fb635['camera'])==null?void(-0x1cae+0x20e7+-0x17*0x2f):_0x3ce593['process'])??XD,_0x1ca121=(_0x29bac7=_0x1fb635==null?void(0xd09*0x2+0x13ed+-0x2dff):_0x1fb635['camera'])==null?void(-0x1*-0x303+-0x2*-0x5c+0x1*-0x3bb):_0x29bac7['postproces'+'s'];_0x39521c['nodes']['forEach']((_0x59f802,_0x2b687d)=>{if(_0x59f802['hasOwnProp'+'erty']('camera')){const _0x40563d=_0x39521c['cameras'][_0x59f802['camera']];if(_0x40563d){_0xd3068a&&_0xd3068a(_0x40563d);const _0x158298=_0x3fa823(_0x40563d,_0x28ad9b[_0x2b687d]);_0x1ca121&&_0x1ca121(_0x40563d,_0x158298),_0x158298&&(_0x215572||(_0x215572=new Map()),_0x215572['set'](_0x59f802,_0x158298));}}});}return _0x215572;},r2=(_0xbec276,_0x25b590,_0x4d5797)=>{var _0x55d3da,_0x624b36,_0x49da8d;let _0x545511=null;if(_0xbec276['hasOwnProp'+'erty']('nodes')&&_0xbec276['hasOwnProp'+'erty']('extensions')&&_0xbec276['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0xbec276['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x4488bc=_0xbec276['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x4488bc['length']){const _0x5997df=(_0x55d3da=_0x4d5797==null?void(-0x40+0x661*0x6+-0x2606):_0x4d5797['light'])==null?void(0x1*-0x1a93+-0x1*0x1d9c+-0x1*-0x382f):_0x55d3da['preprocess'],_0x15fb6c=((_0x624b36=_0x4d5797==null?void(0x811+0xf*0x259+0x569*-0x8):_0x4d5797['light'])==null?void(-0x1013+0x17cc*0x1+-0x293*0x3):_0x624b36['process'])??jD,_0xbb1ac5=(_0x49da8d=_0x4d5797==null?void(-0x759*-0x5+0xa4d+-0x2f0a):_0x4d5797['light'])==null?void(0x6d3+-0x5*0x763+0xf0e*0x2):_0x49da8d['postproces'+'s'];_0xbec276['nodes']['forEach']((_0x32a0aa,_0x3a5bc3)=>{if(_0x32a0aa['hasOwnProp'+'erty']('extensions')&&_0x32a0aa['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x32a0aa['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x2d963a=_0x32a0aa['extensions']['KHR_lights'+'_punctual']['light'],_0x37a474=_0x4488bc[_0x2d963a];if(_0x37a474){_0x5997df&&_0x5997df(_0x37a474);const _0x3646e2=_0x15fb6c(_0x37a474,_0x25b590[_0x3a5bc3]);_0xbb1ac5&&_0xbb1ac5(_0x37a474,_0x3646e2),_0x3646e2&&(_0x545511||(_0x545511=new Map()),_0x545511['set'](_0x32a0aa,_0x3646e2));}}});}}return _0x545511;},n2=(_0x56e318,_0x390123,_0x3cf87b)=>{_0x56e318['nodes']['forEach'](_0x55213d=>{_0x55213d['hasOwnProp'+'erty']('mesh')&&_0x55213d['hasOwnProp'+'erty']('skin')&&_0x390123[_0x55213d['mesh']]['meshes']['forEach'](_0x55dc4e=>{_0x55dc4e['skin']=_0x3cf87b[_0x55213d['skin']];});});},a2=async(_0x442da2,_0xbf950e,_0x244dfc,_0x4a4937,_0x15a0e7)=>{var _0x5ae8b6,_0x3370ee;const _0x5f39d4=(_0x5ae8b6=_0x15a0e7==null?void(0x2029+0x3*0x80a+-0x1*0x3847):_0x15a0e7['global'])==null?void(-0x1d9+-0x20b1*0x1+-0x2*-0x1145):_0x5ae8b6['preprocess'],_0x2ff12d=(_0x3370ee=_0x15a0e7==null?void(0x2315+-0x219*-0x4+-0x1f*0x167):_0x15a0e7['global'])==null?void(-0x9a5+0x2174+-0x17cf):_0x3370ee['postproces'+'s'];_0x5f39d4&&_0x5f39d4(_0xbf950e),_0xbf950e['asset']&&_0xbf950e['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x270534=new Map(),_0x46c1da=t2(_0xbf950e,_0x15a0e7,_0x270534),_0x2ac03f=s2(_0xbf950e,_0x46c1da),_0x10a251=r2(_0xbf950e,_0x46c1da,_0x15a0e7),_0x5e01ea=i2(_0xbf950e,_0x46c1da,_0x15a0e7),_0x63813e=QD(_0xbf950e),_0x314203=await Promise['all'](_0x244dfc),{meshes:_0xed0e0f,meshVariants:_0x5141cd,meshDefaultMaterials:_0x453b8c,promises:_0x25e17e}=KD(_0x442da2,_0xbf950e,_0x314203,_0x15a0e7),_0x1dd5d3=JD(_0xbf950e,_0x46c1da,_0x314203,_0x15a0e7);e2(_0x442da2,_0xbf950e,_0x270534,_0x314203);const _0x2d87db=await Promise['all'](_0x4a4937),_0x16f44f=_0x2d87db['map'](_0x32d8e8=>_0x32d8e8['resource']),_0x5e54c8=ZD(_0xbf950e,_0x16f44f,_0x15a0e7),_0x24930e=YD(_0x442da2,_0xbf950e,_0x46c1da,_0x314203),_0x5cac32=[];for(let _0x5c729a=-0x1fe*-0x13+-0x19a8+-0x1*0xc32;_0x5c729a<_0xed0e0f['length'];_0x5c729a++)_0x5cac32[_0x5c729a]=new Hp(),_0x5cac32[_0x5c729a]['meshes']=_0xed0e0f[_0x5c729a];n2(_0xbf950e,_0x5cac32,_0x24930e);const _0x1e47c3=new SD();return _0x1e47c3['gltf']=_0xbf950e,_0x1e47c3['nodes']=_0x46c1da,_0x1e47c3['scenes']=_0x2ac03f,_0x1e47c3['animations']=_0x1dd5d3,_0x1e47c3['textures']=_0x2d87db,_0x1e47c3['materials']=_0x5e54c8,_0x1e47c3['variants']=_0x63813e,_0x1e47c3['meshVarian'+'ts']=_0x5141cd,_0x1e47c3['meshDefaul'+'tMaterials']=_0x453b8c,_0x1e47c3['renders']=_0x5cac32,_0x1e47c3['skins']=_0x24930e,_0x1e47c3['lights']=_0x10a251,_0x1e47c3['cameras']=_0x5e01ea,_0x1e47c3['nodeInstan'+'cingMap']=_0x270534,_0x2ff12d&&_0x2ff12d(_0xbf950e,_0x1e47c3),await Promise['all'](_0x25e17e),_0x1e47c3;},o2=(_0x3f9509,_0x51569b)=>{const _0x4776f3=(_0x1a11cb,_0x6358d0)=>{switch(_0x1a11cb){case 0x3081+-0xc*0x257+0x1193:return de;case-0x995*-0x3+-0x63*0x56+0x6*0x716:return st;case-0x160*-0x28+0x11*0xce+-0x1dae:return fc;case 0x48d+-0x1*0x25d+0x24d1:return mc;case 0x5e*-0x6+0x38e0+-0xfaa:return pc;case-0x4ae4+0x12*-0x9d+0x7cf1:return nn;default:return _0x6358d0;}},_0x361fce=(_0x53be64,_0x3b832c)=>{switch(_0x53be64){case 0x645b+0x4*0x200f+-0x18da*0x4:return ae;case 0x9e99+0xdfb1+-0xfada:return Of;case 0xdf0*0x1+-0x18bb+0xf*0x374:return tt;default:return _0x3b832c;}};_0x3f9509&&(_0x51569b=_0x51569b??{},_0x3f9509['minFilter']=_0x4776f3(_0x51569b['minFilter'],nn),_0x3f9509['magFilter']=_0x4776f3(_0x51569b['magFilter'],st),_0x3f9509['addressU']=_0x361fce(_0x51569b['wrapS'],tt),_0x3f9509['addressV']=_0x361fce(_0x51569b['wrapT'],tt));};let l2=0x186a+-0x1*0x1d47+0x4dd;const vf=_0x29cc44=>{var _0x23c3b3,_0x4cffb1,_0x53c505,_0x4cd7b7;return((_0x4cffb1=(_0x23c3b3=_0x29cc44['extensions'])==null?void(0x2189+-0x2*-0x10d+-0x23a3):_0x23c3b3['KHR_textur'+'e_basisu'])==null?void(0x14ed+-0x11aa+-0x343*0x1):_0x4cffb1['source'])??((_0x4cd7b7=(_0x53c505=_0x29cc44['extensions'])==null?void(-0x1c13+0x4ab+-0x1c*-0xd6):_0x53c505['EXT_textur'+'e_webp'])==null?void(0x21c9+-0x17d5+0xd*-0xc4):_0x4cd7b7['source'])??_0x29cc44['source'];},h2=(_0x138449,_0x3159d3,_0x3caf45,_0x3c5c19,_0x86b254)=>{var _0x14ac49,_0x2e38fa,_0x265e9d;if(!_0x138449['images']||_0x138449['images']['length']===-0x5c3+0x4a*-0x43+0x1921)return[];const _0x149295=(_0x14ac49=_0x86b254==null?void(0x15fb*-0x1+-0x99f*0x2+0x2939):_0x86b254['image'])==null?void(-0x6c4+-0x22aa+0x296e):_0x14ac49['preprocess'],_0x5e3fc6=(_0x2e38fa=_0x86b254==null?void(-0xcab+0x1b59*0x1+-0x2*0x757):_0x86b254['image'])==null?void(-0x2*0x5e+-0x2621*0x1+-0x1*-0x26dd):_0x2e38fa['processAsy'+'nc'],_0x501eb3=(_0x265e9d=_0x86b254==null?void(0x18c7+-0xaba+-0xe0d):_0x86b254['image'])==null?void(0xd*0x2c6+0x1b10+-0x3f1e):_0x265e9d['postproces'+'s'],_0x51178a={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x427fa5=_0x115ada=>{const _0x357769=new Set();return _0x115ada['hasOwnProp'+'erty']('materials')&&_0x115ada['materials']['forEach'](_0x42e51c=>{if(_0x42e51c['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x3cffd2=_0x42e51c['pbrMetalli'+'cRoughness'];if(_0x3cffd2['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x3c0ea3=_0x115ada['textures'][_0x3cffd2['baseColorT'+'exture']['index']];_0x357769['add'](vf(_0x3c0ea3));}}if(_0x42e51c['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x298b05=_0x115ada['textures'][_0x42e51c['emissiveTe'+'xture']['index']];_0x357769['add'](vf(_0x298b05));}}),_0x357769;},_0x1a8283=(_0x583644,_0x116797,_0x2c1e18,_0x340bc9,_0x25d7e9,_0x1c53f4)=>new Promise((_0x4b2126,_0x6662bc)=>{const _0xa5b89d=_0x53054f=>{const _0x379580=(_0x583644['name']||'gltf-textu'+'re')+'-'+l2++,_0x10fb09={'url':_0x116797||_0x379580};if(_0x53054f&&(_0x10fb09['contents']=_0x53054f['slice'](0x2555+-0x8e4*0x2+-0x138d)['buffer']),_0x340bc9){const _0xbd8a56=_0x51178a[_0x340bc9];_0xbd8a56&&(_0x10fb09['filename']=_0x10fb09['url']+'.'+_0xbd8a56);}const _0x29eb4e={'srgb':_0x1c53f4},_0x4495d1=new le(_0x379580,'texture',_0x10fb09,_0x29eb4e,_0x25d7e9);_0x4495d1['on']('load',_0x251e22=>_0x4b2126(_0x251e22)),_0x4495d1['on']('error',_0x74e9eb=>_0x6662bc(_0x74e9eb)),_0x3c5c19['add'](_0x4495d1),_0x3c5c19['load'](_0x4495d1);};_0x2c1e18?_0x2c1e18['then'](_0x264869=>_0xa5b89d(_0x264869)):_0xa5b89d(null);}),_0x43fca2=_0x427fa5(_0x138449);return _0x138449['images']['map']((_0x35a088,_0x35bd13)=>{_0x149295&&_0x149295(_0x35a088);let _0x3c48c8;return _0x5e3fc6?_0x3c48c8=new Promise((_0x5ce48c,_0x4dd933)=>{_0x5e3fc6(_0x35a088,(_0x349bb4,_0x32955e)=>{_0x349bb4?_0x4dd933(_0x349bb4):_0x5ce48c(_0x32955e);});}):_0x3c48c8=new Promise(_0x3db69b=>{_0x3db69b(null);}),_0x3c48c8=_0x3c48c8['then'](_0x213fc7=>{const _0x40f34f=_0x43fca2['has'](_0x35bd13);return _0x213fc7||(_0x35a088['hasOwnProp'+'erty']('uri')?Rx(_0x35a088['uri'])?_0x1a8283(_0x35a088,_0x35a088['uri'],null,vD(_0x35a088['uri']),null,_0x40f34f):_0x1a8283(_0x35a088,Da['test'](_0x35a088['uri'])?_0x35a088['uri']:fe['join'](_0x3caf45,_0x35a088['uri']),null,null,{'crossOrigin':'anonymous'},_0x40f34f):_0x35a088['hasOwnProp'+'erty']('bufferView')&&_0x35a088['hasOwnProp'+'erty']('mimeType')?_0x1a8283(_0x35a088,null,_0x3159d3[_0x35a088['bufferView']],_0x35a088['mimeType'],null,_0x40f34f):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x35bd13)));}),_0x501eb3&&(_0x3c48c8=_0x3c48c8['then'](_0x4b237c=>(_0x501eb3(_0x35a088,_0x4b237c),_0x4b237c))),_0x3c48c8;});},c2=(_0x37b7bb,_0xeec62a,_0x478bc2)=>{var _0x43184a,_0x44ee27,_0x3370c7,_0x1925af,_0x5e7028;if(!((_0x43184a=_0x37b7bb==null?void(-0x1*0x43a+-0x2*-0x8bf+0x46c*-0x3):_0x37b7bb['images'])!=null&&_0x43184a['length'])||!((_0x44ee27=_0x37b7bb==null?void(0x21d*0xd+-0x12d+-0x1a4c):_0x37b7bb['textures'])!=null&&_0x44ee27['length']))return[];const _0x370879=(_0x3370c7=_0x478bc2==null?void(-0x1*0x2175+0xd*-0x1b+0x22d4):_0x478bc2['texture'])==null?void(-0x1d49+0x1*-0xc11+0x295a):_0x3370c7['preprocess'],_0x4e8afc=(_0x1925af=_0x478bc2==null?void(0x9be+0x1d*0x11b+-0x29*0x105):_0x478bc2['texture'])==null?void(0xe45+-0x1703+0x8be):_0x1925af['processAsy'+'nc'],_0x29e628=(_0x5e7028=_0x478bc2==null?void(-0x210d+0x2566+0x1*-0x459):_0x478bc2['texture'])==null?void(-0xff*-0x17+-0x17a7+0xbe):_0x5e7028['postproces'+'s'],_0x96b6c8=new Set();return _0x37b7bb['textures']['map'](_0x32b896=>{_0x370879&&_0x370879(_0x32b896);let _0x3da5c9;return _0x4e8afc?_0x3da5c9=new Promise((_0x1e5dfc,_0x84951b)=>{_0x4e8afc(_0x32b896,_0x37b7bb['images'],(_0x1703d2,_0x343f43)=>{_0x1703d2?_0x84951b(_0x1703d2):_0x1e5dfc(_0x343f43);});}):_0x3da5c9=new Promise(_0x1da0ec=>{_0x1da0ec(null);}),_0x3da5c9=_0x3da5c9['then'](_0x35f80c=>{_0x35f80c=_0x35f80c??vf(_0x32b896);const _0x578115=_0x96b6c8['has'](_0x35f80c);return _0x96b6c8['add'](_0x35f80c),_0xeec62a[_0x35f80c]['then'](_0x37d8eb=>{const _0x32de21=_0x578115?MD(_0x37d8eb):_0x37d8eb;return o2(_0x32de21['resource'],(_0x37b7bb['samplers']??[])[_0x32b896['sampler']]),_0x32de21;});}),_0x29e628&&(_0x3da5c9=_0x3da5c9['then'](_0x5343a0=>(_0x29e628(_0x32b896,_0x5343a0),_0x5343a0))),_0x3da5c9;});},d2=(_0x530bb1,_0xd219ca,_0x308777,_0x5cae51)=>{var _0x5c4991,_0x1519e3,_0x57a697;if(!_0x530bb1['buffers']||_0x530bb1['buffers']['length']===0xb*-0x327+-0x5b3+0x2860)return[];const _0x422229=(_0x5c4991=_0x5cae51==null?void(0x1869+0x6b*0x26+-0x284b):_0x5cae51['buffer'])==null?void(0x22b9+0xb9f+0x5cb*-0x8):_0x5c4991['preprocess'],_0x515671=(_0x1519e3=_0x5cae51==null?void(-0x473*-0x2+-0x41b*0x3+0x5*0xaf):_0x5cae51['buffer'])==null?void(-0xc*0x296+-0x2697+0x459f):_0x1519e3['processAsy'+'nc'],_0xcd752a=(_0x57a697=_0x5cae51==null?void(-0x51e+-0x1b8c+0x20aa):_0x5cae51['buffer'])==null?void(-0xf81+-0x248*0xf+0x31b9):_0x57a697['postproces'+'s'];return _0x530bb1['buffers']['map']((_0x10b9dd,_0x2a09a2)=>{_0x422229&&_0x422229(_0x10b9dd);let _0x19e7dd;return _0x515671?_0x19e7dd=new Promise((_0x50fe61,_0xe1f0a0)=>{_0x515671(_0x10b9dd,(_0xcd3683,_0x4b4486)=>{_0xcd3683?_0xe1f0a0(_0xcd3683):_0x50fe61(_0x4b4486);});}):_0x19e7dd=new Promise(_0x59958d=>{_0x59958d(null);}),_0x19e7dd=_0x19e7dd['then'](_0x57d985=>{if(_0x57d985)return _0x57d985;if(_0x10b9dd['hasOwnProp'+'erty']('uri')){if(Rx(_0x10b9dd['uri'])){const _0x429883=atob(_0x10b9dd['uri']['split'](',')[-0x4*-0x5ba+-0x8c3*0x1+-0xe24]),_0x696b55=new Uint8Array(_0x429883['length']);for(let _0x52617e=-0x1*-0x150+0xd14+-0xe64;_0x52617e<_0x429883['length'];_0x52617e++)_0x696b55[_0x52617e]=_0x429883['charCodeAt'](_0x52617e);return _0x696b55;}return new Promise((_0x3c6727,_0x3f9e07)=>{$e['get'](Da['test'](_0x10b9dd['uri'])?_0x10b9dd['uri']:fe['join'](_0x308777,_0x10b9dd['uri']),{'cache':!(-0x1386+0x6d0*0x5+-0xe8a),'responseType':'arraybuffe'+'r','retry':!(-0x1ed7+0x158f*0x1+-0x1*-0x949)},(_0x4b1376,_0x34feec)=>{_0x4b1376?_0x3f9e07(_0x4b1376):_0x3c6727(new Uint8Array(_0x34feec));});});}return _0xd219ca;}),_0xcd752a&&(_0x19e7dd=_0x19e7dd['then'](_0xde4091=>(_0xcd752a(_0x530bb1['buffers'][_0x2a09a2],_0xde4091),_0xde4091))),_0x19e7dd;});},u2=(_0x3cee52,_0x902ede)=>{const _0x365124=JSON['parse']((_0x2669f7=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x2669f7);let _0xdf8a49='';for(let _0x494f29=0xbf*-0x13+-0x2522+0x47*0xb9;_0x494f29<_0x2669f7['length'];_0x494f29++)_0xdf8a49+=String['fromCharCo'+'de'](_0x2669f7[_0x494f29]);return decodeURIComponent(escape(_0xdf8a49));})(_0x3cee52));if(_0x365124['asset']&&_0x365124['asset']['version']&&parseFloat(_0x365124['asset']['version'])<-0xe09+0x17*0x95+0xa8){_0x902ede('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x365124['asset']['version']+'\x27.');return;}_0x902ede(null,_0x365124);},f2=(_0x33d523,_0x35dbeb)=>{const _0x3c3b2a=_0x33d523 instanceof ArrayBuffer?new DataView(_0x33d523):new DataView(_0x33d523['buffer'],_0x33d523['byteOffset'],_0x33d523['byteLength']),_0x10b851=_0x3c3b2a['getUint32'](-0x1aca+0x1*-0xdc9+0x2893,!(0x1301+0x1da*-0x13+-0x102d*-0x1)),_0xa1a2c1=_0x3c3b2a['getUint32'](-0x1f33+-0x2fa*-0x3+0x1649,!(0x3a*0x8+-0xe8c+0xcbc)),_0x16f89a=_0x3c3b2a['getUint32'](0x9*-0x2dd+0x11a9+0x824,!(0x1*0x79+-0x1902+-0x23b*-0xb));if(_0x10b851!==0x711fe143+0x313*-0x187184+0x10*0x205983f){_0x35dbeb('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x10b851['toString'](0x506*0x1+-0x2ff+-0x1f7));return;}if(_0xa1a2c1!==0x1*0x6ad+0x174+-0x81f){_0x35dbeb('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0xa1a2c1);return;}if(_0x16f89a<=0x3*-0xaf3+-0x138d+0x3466||_0x16f89a>_0x3c3b2a['byteLength']){_0x35dbeb('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x16f89a);return;}const _0x34e3d4=[];let _0x562370=-0x623*-0x3+-0x67*-0xc+-0x1731;for(;_0x562370<_0x16f89a;){const _0x86f1c2=_0x3c3b2a['getUint32'](_0x562370,!(0x1*-0x473+-0x8e6+-0x11*-0xc9));_0x562370+_0x86f1c2+(0x2597+0x8*0x13f+-0x17*0x211)>_0x3c3b2a['byteLength']&&_0x35dbeb('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x86f1c2);const _0x3fa4c2=_0x3c3b2a['getUint32'](_0x562370+(0x1a9*0x6+-0x15dd+0xbeb),!(-0xeaa*0x1+-0x76*0xb+0x4*0x4ef)),_0x4bed8d=new Uint8Array(_0x3c3b2a['buffer'],_0x3c3b2a['byteOffset']+_0x562370+(-0x2f*-0xd4+0x1efd+-0x45e1*0x1),_0x86f1c2);_0x34e3d4['push']({'length':_0x86f1c2,'type':_0x3fa4c2,'data':_0x4bed8d}),_0x562370+=_0x86f1c2+(-0x4f*-0x7a+0x12*-0x159+0x14*-0xab);}if(_0x34e3d4['length']!==-0x1f24*-0x1+-0xc46+-0x12dd&&_0x34e3d4['length']!==-0x1b10+-0x4e4+0xffb*0x2){_0x35dbeb('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x34e3d4[-0x4*0x6b5+-0x2694+-0x8*-0x82d]['type']!==0x7962ef9b*-0x1+0xd*0x64e5abf+-0x481849*-0x1a2){_0x35dbeb('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x34e3d4[0x21a6+0x1fba+0x20b0*-0x2]['type']['toString'](-0x407*0x6+-0x1999+-0x5*-0x9f7));return;}if(_0x34e3d4['length']>-0x72b+-0x11*0x1f3+0x284f&&_0x34e3d4[0x6d3*-0x4+0x1*-0x3eb+0x1f38]['type']!==0x791dbc+-0x4f4aa5+-0x1*-0x24762b){_0x35dbeb('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x34e3d4[-0x10ad+-0x1*0x2538+0x35e6]['type']['toString'](-0x2661+-0x11e4+-0x2f7*-0x13));return;}_0x35dbeb(null,{'gltfChunk':_0x34e3d4[-0x22d*-0x9+-0x1*0x12c3+-0xd2]['data'],'binaryChunk':_0x34e3d4['length']===-0x265*-0x5+-0x211*0xe+0x10f7?_0x34e3d4[0xc31*0x2+-0x3e*-0x7d+0x36a7*-0x1]['data']:null});},p2=(_0x4099dd,_0x5c679e,_0x5f18ab)=>{const _0xb7fba3=()=>{const _0x4dad82=new Uint8Array(_0x5c679e);return _0x4dad82[-0x1007*-0x1+0x10d*-0x1+-0xefa]===0xe*-0x4e+-0x2*0x7db+0x3*0x6cb&&_0x4dad82[0x1087+-0x26*0x2+-0x103a]===0xa1c+0xbbc+-0x156c&&_0x4dad82[0x4*-0x96b+0x16dc+0x769*0x2]===-0xffd+-0x10e0+-0x125*-0x1d&&_0x4dad82[0x13f3*0x1+-0x5*-0x73f+-0x382b]===0x47*0x20+0xa31*0x1+-0x12cb;};_0x4099dd&&_0x4099dd['toLowerCas'+'e']()['endsWith']('.glb')||_0xb7fba3()?f2(_0x5c679e,_0x5f18ab):_0x5f18ab(null,{'gltfChunk':_0x5c679e,'binaryChunk':null});},m2=(_0x43deaa,_0x282536,_0x433ebd)=>{var _0xf52dc9,_0x7bfb8d,_0x1cee95,_0x22bb32;const _0x499ab3=[],_0xd0ad0b=(_0xf52dc9=_0x433ebd==null?void(0xf5f*-0x2+0xa69+0x411*0x5):_0x433ebd['bufferView'])==null?void(0xe87+-0x52f+-0x5c*0x1a):_0xf52dc9['preprocess'],_0x21c77c=(_0x7bfb8d=_0x433ebd==null?void(-0x1c*0xc7+-0x13*0x6d+0x1ddb):_0x433ebd['bufferView'])==null?void(0x1*-0x1715+0x1*-0x23c7+0x1d6e*0x2):_0x7bfb8d['processAsy'+'nc'],_0x2d2a1d=(_0x1cee95=_0x433ebd==null?void(-0x1b8*-0xe+0x17d7*-0x1+-0x39):_0x433ebd['bufferView'])==null?void(-0xed5+-0x1*0x880+-0x3*-0x7c7):_0x1cee95['postproces'+'s'];if(!((_0x22bb32=_0x43deaa['bufferView'+'s'])!=null&&_0x22bb32['length']))return _0x499ab3;for(let _0x3e6dbd=-0x9*0x7b+-0x1*-0x2197+0xea2*-0x2;_0x3e6dbd<_0x43deaa['bufferView'+'s']['length'];++_0x3e6dbd){const _0x140dfa=_0x43deaa['bufferView'+'s'][_0x3e6dbd];_0xd0ad0b&&_0xd0ad0b(_0x140dfa);let _0x4be77a;_0x21c77c?_0x4be77a=new Promise((_0x77233d,_0x24610a)=>{_0x21c77c(_0x140dfa,_0x282536,(_0x1405c6,_0x12efaa)=>{_0x1405c6?_0x24610a(_0x1405c6):_0x77233d(_0x12efaa);});}):_0x4be77a=new Promise(_0x521fb8=>{_0x521fb8(null);}),_0x4be77a=_0x4be77a['then'](_0x1d71e2=>_0x1d71e2||_0x282536[_0x140dfa['buffer']]['then'](_0x2e8045=>new Uint8Array(_0x2e8045['buffer'],_0x2e8045['byteOffset']+(_0x140dfa['byteOffset']||0xce+-0x1a7e+-0x3*-0x890),_0x140dfa['byteLength']))),_0x140dfa['hasOwnProp'+'erty']('byteStride')&&(_0x4be77a=_0x4be77a['then'](_0x2656ed=>(_0x2656ed['byteStride']=_0x140dfa['byteStride'],_0x2656ed))),_0x2d2a1d&&(_0x4be77a=_0x4be77a['then'](_0x3a8a79=>(_0x2d2a1d(_0x140dfa,_0x3a8a79),_0x3a8a79))),_0x499ab3['push'](_0x4be77a);}return _0x499ab3;};class tc{static['parse'](_0x43cc18,_0x1b4480,_0x3b07a7,_0x209e92,_0x4e431b,_0x615476,_0x1080ba){p2(_0x43cc18,_0x3b07a7,(_0x3744be,_0x163849)=>{if(_0x3744be){_0x1080ba(_0x3744be);return;}u2(_0x163849['gltfChunk'],(_0x3d8d54,_0x3fa79d)=>{if(_0x3d8d54){_0x1080ba(_0x3d8d54);return;}const _0x4ca89e=d2(_0x3fa79d,_0x163849['binaryChun'+'k'],_0x1b4480,_0x615476),_0x13bba2=m2(_0x3fa79d,_0x4ca89e,_0x615476),_0x51773f=h2(_0x3fa79d,_0x13bba2,_0x1b4480,_0x4e431b,_0x615476),_0x448ce2=c2(_0x3fa79d,_0x51773f,_0x615476);a2(_0x209e92,_0x3fa79d,_0x13bba2,_0x448ce2,_0x615476)['then'](_0x197cee=>_0x1080ba(null,_0x197cee))['catch'](_0x57fb85=>_0x1080ba(_0x57fb85));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x584f9f){super(_0x584f9f,'animation'),this['device']=_0x584f9f['graphicsDe'+'vice'],this['assets']=_0x584f9f['assets'];}['load'](_0x185187,_0x58ca37,_0x34975e){typeof _0x185187=='string'&&(_0x185187={'load':_0x185187,'original':_0x185187});const _0x685092={'retry':this['maxRetries']>-0x1f2c+0x25cd+-0x1*0x6a1,'maxRetries':this['maxRetries']};(_0x185187['load']['startsWith']('blob:')||_0x185187['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x185187['original'])['toLowerCas'+'e']()==='.glb'?_0x685092['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x685092['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x185187['load'],_0x685092,(_0x321e02,_0x5959d2)=>{_0x321e02?_0x58ca37('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x185187['original']+'\x20['+_0x321e02+']'):fe['getExtensi'+'on'](_0x185187['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x5959d2,this['device'],this['assets'],(_0x34975e==null?void(0x1c22+0xd3*0x17+-0x5*0x96b):_0x34975e['options'])??{},(_0x3e30a4,_0x588a9e)=>{var _0xeb5c86;if(_0x3e30a4)_0x58ca37(_0x3e30a4);else{const _0x2f4154=_0x588a9e['animations'];if((_0xeb5c86=_0x34975e==null?void(-0x1*-0x62+-0x1948+0x18e6):_0x34975e['data'])!=null&&_0xeb5c86['events']){for(let _0x10160d=-0x11*0x59+0x686+0x1*-0x9d;_0x10160d<_0x2f4154['length'];_0x10160d++)_0x2f4154[_0x10160d]['events']=new Y0(Object['values'](_0x34975e['data']['events']));}_0x588a9e['destroy'](),_0x58ca37(null,_0x2f4154);}}):_0x58ca37(null,this['_parseAnim'+'ationV'+_0x5959d2['animation']['version']](_0x5959d2));});}['open'](_0x134fc2,_0x377236,_0x5b16c2){return _0x377236;}['_parseAnim'+'ationV3'](_0x4116be){const _0x19aac5=_0x4116be['animation'],_0x2c71a8=new k_();_0x2c71a8['name']=_0x19aac5['name'],_0x2c71a8['duration']=_0x19aac5['duration'];for(let _0x4e0372=-0x39*0x1d+-0x11*0xe5+0x1*0x15aa;_0x4e0372<_0x19aac5['nodes']['length'];_0x4e0372++){const _0x237d95=new O_(),_0x3092d8=_0x19aac5['nodes'][_0x4e0372];_0x237d95['_name']=_0x3092d8['name'];for(let _0x3a0c4c=-0x17d7+0x1*-0x1e50+0x3627;_0x3a0c4c<_0x3092d8['keys']['length'];_0x3a0c4c++){const _0x4e56b8=_0x3092d8['keys'][_0x3a0c4c],_0xf42f2b=_0x4e56b8['time'],_0x257811=_0x4e56b8['pos'],_0x1dee7d=_0x4e56b8['rot'],_0x727f29=_0x4e56b8['scale'],_0x582072=new T(_0x257811[0x1b8b+-0x24*0x7+-0x1a8f],_0x257811[0x3a3*-0x3+-0xd3b+0x1825],_0x257811[0x143d+0x202*-0x12+-0xfe9*-0x1]),_0x121b08=new se()['setFromEul'+'erAngles'](_0x1dee7d[0x16*0x16f+0xb41+0x139*-0x23],_0x1dee7d[-0x2301+-0x7*0x4c3+-0x5*-0xdab],_0x1dee7d[0x20d0+-0x26d8+0x60a*0x1]),_0x533aed=new T(_0x727f29[0x1ab5+0x25a1+-0x3*0x1572],_0x727f29[0x1ad0+0xf4d+0xb*-0x3d4],_0x727f29[-0xb5*0x37+-0x18b7*-0x1+0xa*0x16b]),_0x560e57=new F_(_0xf42f2b,_0x582072,_0x121b08,_0x533aed);_0x237d95['_keys']['push'](_0x560e57);}_0x2c71a8['addNode'](_0x237d95);}return _0x2c71a8;}['_parseAnim'+'ationV4'](_0x29d27d){const _0x50f922=_0x29d27d['animation'],_0x42b214=new k_();_0x42b214['name']=_0x50f922['name'],_0x42b214['duration']=_0x50f922['duration'];for(let _0x5524b4=0x660+-0x17ec+0x118c;_0x5524b4<_0x50f922['nodes']['length'];_0x5524b4++){const _0x4bd049=new O_(),_0x2434b4=_0x50f922['nodes'][_0x5524b4];_0x4bd049['_name']=_0x2434b4['name'];const _0x56c111=_0x2434b4['defaults']['p'],_0x5cf071=_0x2434b4['defaults']['r'],_0x3b953c=_0x2434b4['defaults']['s'];for(let _0x23171f=0x55a+0x3d*-0x12+0x44*-0x4;_0x23171f<_0x2434b4['keys']['length'];_0x23171f++){const _0x12ea94=_0x2434b4['keys'][_0x23171f],_0x33378a=_0x12ea94['t'],_0x3b7eda=_0x56c111||_0x12ea94['p'],_0x3b6310=_0x5cf071||_0x12ea94['r'],_0x44fc80=_0x3b953c||_0x12ea94['s'],_0x194391=new T(_0x3b7eda[0xd5e+0x1dfb+-0x2b59],_0x3b7eda[0x2416+0x101a+-0xdb*0x3d],_0x3b7eda[-0x1*-0x26fb+-0x9e4+-0x1d15]),_0xfbab50=new se()['setFromEul'+'erAngles'](_0x3b6310[0x3*0x6b1+0x3*0x1d5+0x2*-0xcc9],_0x3b6310[0x2452+-0x1783+0xcce*-0x1],_0x3b6310[-0x1df3+0x5*-0x2c1+0x2bba]),_0x47828e=new T(_0x44fc80[-0x2b7*0xd+0xbd2+0x1779],_0x44fc80[0x56c*-0x3+0x6*0x1d3+0x553],_0x44fc80[-0x1*0x328+0x2f*0x6f+0x71*-0x27]),_0x255a8a=new F_(_0x33378a,_0x194391,_0xfbab50,_0x47828e);_0x4bd049['_keys']['push'](_0x255a8a);}_0x42b214['addNode'](_0x4bd049);}return _0x42b214;}}class g2 extends Ne{constructor(_0x4039e4){super(_0x4039e4,'animclip');}['load'](_0x27f915,_0x1a5a66){typeof _0x27f915=='string'&&(_0x27f915={'load':_0x27f915,'original':_0x27f915});const _0x11f33a={'retry':this['maxRetries']>0x1d85+0xb2*0x37+-0x43c3,'maxRetries':this['maxRetries']};_0x27f915['load']['startsWith']('blob:')&&(_0x11f33a['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x27f915['load'],_0x11f33a,(_0x120b90,_0x3b19dc)=>{_0x120b90?_0x1a5a66('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x27f915['original']+'\x20['+_0x120b90+']'):_0x1a5a66(null,_0x3b19dc);});}['open'](_0x3c4306,_0x5299bd){const _0x2c4052=_0x5299bd['name'],_0x2264c7=_0x5299bd['duration'],_0x38566e=_0x5299bd['inputs']['map'](_0x419895=>new Jh(-0x12b*-0xa+0x1986+-0x2533,_0x419895)),_0x820d67=_0x5299bd['outputs']['map'](_0x2ba8c7=>new Jh(_0x2ba8c7['components'],_0x2ba8c7['data'])),_0x44c55d=_0x5299bd['curves']['map'](_0x354662=>new Px([_0x354662['path']],_0x354662['inputIndex'],_0x354662['outputInde'+'x'],_0x354662['interpolat'+'ion']));return new Ri(_0x2c4052,_0x2264c7,_0x38566e,_0x820d67,_0x44c55d);}}class y2 extends Ne{constructor(_0x4f5722){super(_0x4f5722,'animstateg'+'raph');}['load'](_0x541564,_0x43a1aa){typeof _0x541564=='string'&&(_0x541564={'load':_0x541564,'original':_0x541564});const _0x331ef1={'retry':this['maxRetries']>0x1d7a+0x6*-0x431+-0x454,'maxRetries':this['maxRetries']};_0x541564['load']['startsWith']('blob:')&&(_0x331ef1['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x541564['load'],_0x331ef1,(_0x5f5b4b,_0x42ca4c)=>{_0x5f5b4b?_0x43a1aa('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x541564['original']+'\x20['+_0x5f5b4b+']'):_0x43a1aa(null,_0x42ca4c);});}['open'](_0x366854,_0x20f867){return new mh(_0x20f867);}}const Qd=(function(){if(typeof window>'u')return!(0x1*0x18c7+0x6b4+-0x1f7a);const _0x4a79a5=window['navigator']['userAgent'],_0x2ecbd0=_0x4a79a5['indexOf']('MSIE\x20');if(_0x2ecbd0>0xf7b+-0x1*0x11d5+0x12d*0x2)return parseInt(_0x4a79a5['substring'](_0x2ecbd0+(-0x22ed+-0x2432*-0x1+-0x4*0x50),_0x4a79a5['indexOf']('.',_0x2ecbd0)),-0x1*0x1a0b+-0x1104+0x2b19);if(_0x4a79a5['indexOf']('Trident/')>-0x10b9+0x44d+-0xc6c*-0x1){const _0x7c1783=_0x4a79a5['indexOf']('rv:');return parseInt(_0x4a79a5['substring'](_0x7c1783+(0x19fa+-0x5cc+0x142b*-0x1),_0x4a79a5['indexOf']('.',_0x7c1783)),-0x1443+-0x2127+0x3574);}return!(0x1*0x1189+-0x11c7+0x3f);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x35ae15){super(_0x35ae15,'audio'),this['manager']=_0x35ae15['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x1b49d0){const _0x4a7877=fe['getExtensi'+'on'](_0x1b49d0);return x2['indexOf'](_0x4a7877)>-(-0x1a09+0x902*0x3+-0xfc)||_0x1b49d0['startsWith']('blob:');}['load'](_0x58c616,_0x366632){typeof _0x58c616=='string'&&(_0x58c616={'load':_0x58c616,'original':_0x58c616});const _0x292b1d=function(_0x1dc046){_0x366632(null,new Bb(_0x1dc046));},_0x46c0ba=function(_0x1689f8){let _0x1cc8a8='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x58c616['original'];_0x1689f8&&(_0x1cc8a8+=':\x20'+(_0x1689f8['message']||_0x1689f8)),console['warn'](_0x1cc8a8),_0x366632(_0x1cc8a8);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x58c616['original'])){_0x46c0ba('Audio\x20form'+'at\x20for\x20'+_0x58c616['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x58c616['load'],_0x292b1d,_0x46c0ba);}else _0x46c0ba(null);}['_createSou'+'nd'](_0x4225af,_0x1f1496,_0x21543f){if(Li()){const _0x24b782=this['manager'];if(!_0x24b782['context']){_0x21543f('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x5f4a1b={'retry':this['maxRetries']>-0x4*-0x894+0x5d0+0xa08*-0x4,'maxRetries':this['maxRetries']};(_0x4225af['startsWith']('blob:')||_0x4225af['startsWith']('data:'))&&(_0x5f4a1b['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x4225af,_0x5f4a1b,(_0xe92ea,_0x315d66)=>{if(_0xe92ea){_0x21543f(_0xe92ea);return;}_0x24b782['context']['decodeAudi'+'oData'](_0x315d66,_0x1f1496,_0x21543f);});}else{let _0x33d1d3=null;try{_0x33d1d3=new Audio();}catch{_0x21543f('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x33d1d3);const _0x35660c=function(){_0x33d1d3['removeEven'+'tListener']('canplaythr'+'ough',_0x35660c),Qd&&document['body']['removeChil'+'d'](_0x33d1d3),_0x1f1496(_0x33d1d3);};_0x33d1d3['onerror']=function(){_0x33d1d3['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x33d1d3),_0x21543f();},_0x33d1d3['addEventLi'+'stener']('canplaythr'+'ough',_0x35660c),_0x33d1d3['src']=_0x4225af;}}}class v2 extends Ne{constructor(_0x8c360a){super(_0x8c360a,'binary');}['load'](_0x52e8a7,_0x130e40){typeof _0x52e8a7=='string'&&(_0x52e8a7={'load':_0x52e8a7,'original':_0x52e8a7}),$e['get'](_0x52e8a7['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0xa7*0x29+-0x1*0x13db+0x174d*0x2,'maxRetries':this['maxRetries']},(_0x40ef08,_0x424d34)=>{_0x40ef08?_0x130e40('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x52e8a7['original']+'\x20['+_0x40ef08+']'):_0x130e40(null,_0x424d34);});}['openBinary'](_0x454672){return _0x454672['buffer'];}}class tr{constructor(_0x50cfc2,_0x2e5872,_0x1c54aa,_0x29d623){const _0x38648a=function(_0x22e3ba,_0x192ab1,_0x43b77b){const _0x3523ea=tr['createAsse'+'t'](_0x2e5872['name'],_0x22e3ba,_0x192ab1,_0x43b77b);return _0x1c54aa['add'](_0x3523ea),_0x3523ea;},_0x2d7e01=[];for(let _0x20f7b6=-0x3be*-0x2+-0x11*-0x9e+-0x11fa*0x1;_0x20f7b6<_0x50cfc2['renders']['length'];++_0x20f7b6)_0x2d7e01['push'](_0x38648a('render',_0x50cfc2['renders'][_0x20f7b6],_0x20f7b6));const _0x103118=[];for(let _0x4f0acc=-0x5*-0x7c9+-0x1e6a+-0x1*0x883;_0x4f0acc<_0x50cfc2['materials']['length'];++_0x4f0acc)_0x103118['push'](_0x38648a('material',_0x50cfc2['materials'][_0x4f0acc],_0x4f0acc));const _0x589dc2=[];for(let _0x5b0597=-0x13*0x27+0x1*0xc17+0x6b*-0x16;_0x5b0597<_0x50cfc2['animations']['length'];++_0x5b0597)_0x589dc2['push'](_0x38648a('animation',_0x50cfc2['animations'][_0x5b0597],_0x5b0597));this['data']=_0x50cfc2,this['_model']=null,this['_assetName']=_0x2e5872['name'],this['_assets']=_0x1c54aa,this['_defaultMa'+'terial']=_0x29d623,this['renders']=_0x2d7e01,this['materials']=_0x103118,this['textures']=_0x50cfc2['textures'],this['animations']=_0x589dc2;}get['model'](){if(!this['_model']){const _0x16d8de=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x2d3dcf=tr['createAsse'+'t'](this['_assetName'],'model',_0x16d8de,0x98*0x7+0xd8*0xa+-0x3e*0x34);this['_assets']['add'](_0x2d3dcf),this['_model']=_0x2d3dcf;}return this['_model'];}static['createAsse'+'t'](_0x285307,_0x4879db,_0x11a743,_0x1b3584){const _0x5879c8=new le(_0x285307+'/'+_0x4879db+'/'+_0x1b3584,_0x4879db,{'url':''});return _0x5879c8['resource']=_0x11a743,_0x5879c8['loaded']=!(0xb*0x2df+-0xe47+-0x114e),_0x5879c8;}['instantiat'+'eModelEnti'+'ty'](_0x597dc9){const _0xd567d7=new We();return _0xd567d7['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x597dc9)),_0xd567d7;}['instantiat'+'eRenderEnt'+'ity'](_0x566c37){const _0x57dffc=this['_defaultMa'+'terial'],_0x3bcb60=[],_0x29d4fc=function(_0x316011,_0x1dd7dd,_0x5a8562,_0x21dbfd,_0x5e8001,_0x45f371,_0x504795,_0xd08db8){const _0x20163c=_0x5e8001[_0x5a8562['id']],_0x3b0685=_0x20163c===void(0x1a91*-0x1+-0x11b7*-0x2+-0x8dd*0x1)?_0x57dffc:_0x21dbfd[_0x20163c],_0x779aa3=new Le(_0x5a8562,_0x3b0685);_0x5a8562['morph']&&(_0x779aa3['morphInsta'+'nce']=new fn(_0x5a8562['morph'])),_0x504795['hasOwnProp'+'erty']('skin')&&_0x3bcb60['push']({'meshInstance':_0x779aa3,'rootBone':_0x316011,'entity':_0x1dd7dd});const _0x100461=_0xd08db8['get'](_0x504795);if(_0x100461){const _0x12d849=_0x100461['matrices'],_0x51186a=Et['getDefault'+'Instancing'+'Format'](_0x5a8562['device']),_0xf025b9=new os(_0x5a8562['device'],_0x51186a,_0x12d849['length']/(0x106e+0xb3a*-0x3+0x2*0x8a8),{'data':_0x12d849});_0x779aa3['setInstanc'+'ing'](_0xf025b9),_0x779aa3['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0xc*0x121+-0x22ed+0x1*0x3079);}return _0x779aa3;},_0x203f16=(_0x4ae44c,_0x3f35ff,_0x21b583)=>{const _0x36132a=new We();_0x3f35ff['_cloneInte'+'rnal'](_0x36132a),_0x4ae44c||(_0x4ae44c=_0x36132a);let _0x410bc3=null,_0x2b4ca7=null;for(let _0x34a99c=-0x2*-0x66a+-0xd*-0x243+-0x2a3b;_0x34a99c<_0x21b583['nodes']['length'];_0x34a99c++)if(_0x21b583['nodes'][_0x34a99c]===_0x3f35ff){const _0xa1c0e8=_0x21b583['gltf']['nodes'][_0x34a99c];if(_0xa1c0e8['hasOwnProp'+'erty']('mesh')){const _0x4950ac=_0x21b583['renders'][_0xa1c0e8['mesh']]['meshes'];_0x2b4ca7=this['renders'][_0xa1c0e8['mesh']];for(let _0x2a5551=0x10f2+-0x7bf*0x1+-0x3*0x311;_0x2a5551<_0x4950ac['length'];_0x2a5551++){const _0x204030=_0x4950ac[_0x2a5551];if(_0x204030){const _0x476806=_0x29d4fc(_0x4ae44c,_0x36132a,_0x204030,_0x21b583['materials'],_0x21b583['meshDefaul'+'tMaterials'],_0x21b583['skins'],_0xa1c0e8,_0x21b583['nodeInstan'+'cingMap']);_0x410bc3||(_0x410bc3=[]),_0x410bc3['push'](_0x476806);}}}if(_0x21b583['lights']){const _0x2f2e57=_0x21b583['lights']['get'](_0xa1c0e8);_0x2f2e57&&_0x36132a['addChild'](_0x2f2e57['clone']());}if(_0x21b583['cameras']){const _0x3e8623=_0x21b583['cameras']['get'](_0xa1c0e8);_0x3e8623&&_0x3e8623['camera']['system']['cloneCompo'+'nent'](_0x3e8623,_0x36132a);}}_0x410bc3&&(_0x36132a['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x410bc3},_0x566c37)),_0x36132a['render']['assignAsse'+'t'](_0x2b4ca7));const _0x3f2ca6=_0x3f35ff['children'];for(let _0xb5d4fd=-0x10cd+0x1eb0+0x5*-0x2c7;_0xb5d4fd<_0x3f2ca6['length'];_0xb5d4fd++){const _0x4fc3cb=_0x203f16(_0x4ae44c,_0x3f2ca6[_0xb5d4fd],_0x21b583);_0x36132a['addChild'](_0x4fc3cb);}return _0x36132a;},_0xc703aa=[];for(const _0xf92958 of this['data']['scenes'])_0xc703aa['push'](_0x203f16(null,_0xf92958,this['data']));return _0x3bcb60['forEach'](_0x5413cc=>{_0x5413cc['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x5413cc['meshInstan'+'ce']['mesh']['skin'],_0x5413cc['rootBone'],_0x5413cc['entity']),_0x5413cc['meshInstan'+'ce']['node']['render']['rootBone']=_0x5413cc['rootBone'];}),tr['createScen'+'eHierarchy'](_0xc703aa,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0xee3e5b,_0x4f1753){const _0x360f41=_0x4f1753?this['data']['variants'][_0x4f1753]:null;if(_0x360f41===void(-0x2cc*0xb+-0x2048+0x3c*0x10d)){v['warn']('No\x20variant'+'\x20named\x20'+_0x4f1753+('\x20exists\x20in'+'\x20resource'));return;}const _0xbbca05=_0xee3e5b['findCompon'+'ents']('render');for(let _0x33e258=-0x25ab+0xb9*-0xd+0x8*0x5e2;_0x33e258<_0xbbca05['length'];_0x33e258++){const _0xee05dc=_0xbbca05[_0x33e258];this['_applyMate'+'rialVarian'+'t'](_0x360f41,_0xee05dc['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x5c8e88,_0x43a530){const _0x12194f=_0x43a530?this['data']['variants'][_0x43a530]:null;if(_0x12194f===void(0x4*-0x5e4+0x22d*0xe+-0x6e6)){v['warn']('No\x20variant'+'\x20named\x20'+_0x43a530+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x12194f,_0x5c8e88);}['_applyMate'+'rialVarian'+'t'](_0x578eac,_0xa8c3f2){_0xa8c3f2['forEach'](_0x414068=>{if(_0x578eac===null)_0x414068['material']=this['_defaultMa'+'terial'];else{const _0xdcae6=this['data']['meshVarian'+'ts'][_0x414068['mesh']['id']];_0xdcae6&&(_0x414068['material']=this['data']['materials'][_0xdcae6[_0x578eac]]);}v['assert'](_0x414068['material']);});}static['createScen'+'eHierarchy'](_0x2a719e,_0x3cd24c){let _0x5d1dae=null;if(_0x2a719e['length']===0x1b19+0x37*-0x56+-0x89e)_0x5d1dae=_0x2a719e[0xe01+-0x166*0x14+0x1*0xdf7];else{_0x5d1dae=new _0x3cd24c('SceneGroup');for(const _0x4de9cf of _0x2a719e)_0x5d1dae['addChild'](_0x4de9cf);}return _0x5d1dae;}static['createMode'+'l'](_0x24e0ea,_0x4c8a70){const _0x347d4e=function(_0x31d741,_0x24d4c1,_0x388416,_0x155806,_0x2e51d3,_0x1eb20b,_0x40768e){const _0x1d424f=_0x24e0ea['meshDefaul'+'tMaterials'][_0x24d4c1['id']],_0x5a1505=_0x1d424f===void(-0x1*-0x33d+-0x1878+0x153b)?_0x4c8a70:_0x2e51d3[_0x1d424f],_0x516904=new Le(_0x24d4c1,_0x5a1505,_0x1eb20b);if(_0x24d4c1['morph']){const _0x383da5=new fn(_0x24d4c1['morph']);_0x516904['morphInsta'+'nce']=_0x383da5,_0x31d741['morphInsta'+'nces']['push'](_0x383da5);}if(_0x40768e['hasOwnProp'+'erty']('skin')){const _0x428e80=_0x40768e['skin'],_0x4b4b97=_0x388416[_0x428e80];_0x24d4c1['skin']=_0x4b4b97;const _0x31892f=_0x155806[_0x428e80];_0x516904['skinInstan'+'ce']=_0x31892f,_0x31d741['skinInstan'+'ces']['push'](_0x31892f);}_0x31d741['meshInstan'+'ces']['push'](_0x516904);},_0x474352=new Oi(),_0x27317f=[];for(const _0x2d2511 of _0x24e0ea['skins']){const _0x1ed864=new nl(_0x2d2511);_0x1ed864['bones']=_0x2d2511['bones'],_0x27317f['push'](_0x1ed864);}_0x474352['graph']=tr['createScen'+'eHierarchy'](_0x24e0ea['scenes'],De);for(let _0x5033fc=-0x1855*0x1+-0x11cb+0x2a20;_0x5033fc<_0x24e0ea['nodes']['length'];_0x5033fc++){const _0x4f76b6=_0x24e0ea['nodes'][_0x5033fc];if(_0x4f76b6['root']===_0x474352['graph']){const _0x542eed=_0x24e0ea['gltf']['nodes'][_0x5033fc];if(_0x542eed['hasOwnProp'+'erty']('mesh')){const _0xc7d7c7=_0x24e0ea['renders'][_0x542eed['mesh']]['meshes'];for(let _0x2db34e=0x150c+-0x3b*-0x29+-0x1e7f;_0x2db34e<_0xc7d7c7['length'];_0x2db34e++){const _0x3ee28c=_0xc7d7c7[_0x2db34e];_0x3ee28c&&_0x347d4e(_0x474352,_0x3ee28c,_0x24e0ea['skins'],_0x27317f,_0x24e0ea['materials'],_0x4f76b6,_0x542eed);}}}}return _0x474352;}['destroy'](){const _0x408e5c=this['_assets'],_0x32e1fd=function(_0x361a3a){_0x408e5c['remove'](_0x361a3a),_0x361a3a['unload']();},_0x50ce42=function(_0x2f2159){_0x2f2159['forEach'](_0x378508=>{_0x32e1fd(_0x378508);});};this['animations']&&(_0x50ce42(this['animations']),this['animations']=null),this['textures']&&(_0x50ce42(this['textures']),this['textures']=null),this['materials']&&(_0x50ce42(this['materials']),this['materials']=null),this['renders']&&(_0x50ce42(this['renders']),this['renders']=null),this['_model']&&(_0x32e1fd(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x4ccd78,_0x562b18,_0x1cd98a){this['_device']=_0x4ccd78,this['_assets']=_0x562b18,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x1cd98a;}['_getUrlWit'+'houtParams'](_0x11401c){return _0x11401c['indexOf']('?')>=-0x1*0x1823+-0x22dd+0x3b00?_0x11401c['split']('?')[0xa96+-0xb52+0xbc]:_0x11401c;}['load'](_0x2ff5c1,_0x38ae2c,_0x13821f){le['fetchArray'+'Buffer'](_0x2ff5c1['load'],(_0x1173a0,_0x1b46c2)=>{_0x1173a0?_0x38ae2c(_0x1173a0):tc['parse'](this['_getUrlWit'+'houtParams'](_0x2ff5c1['original']),fe['extractPat'+'h'](_0x2ff5c1['load']),_0x1b46c2,this['_device'],_0x13821f['registry'],_0x13821f['options'],(_0x2abf74,_0x2b08fd)=>{_0x2abf74?_0x38ae2c(_0x2abf74):_0x38ae2c(null,new tr(_0x2b08fd,_0x13821f,this['_assets'],this['_defaultMa'+'terial']));});},_0x13821f,this['maxRetries']);}['open'](_0x5c81fb,_0x588d30,_0x96c4d9){return _0x588d30;}['patch'](_0x350c51,_0x595fc3){}}class w2 extends Ne{constructor(_0x749ced){super(_0x749ced,'container'),this['glbContain'+'erParser']=new b2(_0x749ced['graphicsDe'+'vice'],_0x749ced['assets'],0x1c7a+0x1*0xf13+0x1*-0x2b8d),this['parsers']={};}set['maxRetries'](_0x1fab1d){this['glbContain'+'erParser']['maxRetries']=_0x1fab1d;for(const _0x1de851 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x1de851)&&(this['parsers'][_0x1de851]['maxRetries']=_0x1fab1d);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x1ab300){return _0x1ab300['indexOf']('?')>=-0x1f*0xd9+-0x205b*-0x1+0x4*-0x185?_0x1ab300['split']('?')[-0x2532+-0x1677+0x1*0x3ba9]:_0x1ab300;}['_getParser'](_0x5c05e0){const _0x51f0f6=_0x5c05e0?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5c05e0))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x51f0f6]||this['glbContain'+'erParser'];}['load'](_0x3e074c,_0xd66725,_0x394d7d){typeof _0x3e074c=='string'&&(_0x3e074c={'load':_0x3e074c,'original':_0x3e074c}),this['_getParser'](_0x3e074c['original'])['load'](_0x3e074c,_0xd66725,_0x394d7d);}['open'](_0x1e5468,_0x5126af,_0x357dcb){return this['_getParser'](_0x1e5468)['open'](_0x1e5468,_0x5126af,_0x357dcb);}}class T2 extends Ne{constructor(_0x10a453){super(_0x10a453,'css'),c(this,'decoder',null);}['load'](_0x3f483a,_0x44f883){typeof _0x3f483a=='string'&&(_0x3f483a={'load':_0x3f483a,'original':_0x3f483a}),$e['get'](_0x3f483a['load'],{'retry':this['maxRetries']>0x2da+0xb*-0x1b7+0x1003,'maxRetries':this['maxRetries']},(_0x4ee851,_0x5794ad)=>{_0x4ee851?_0x44f883('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x3f483a['original']+'\x20['+_0x4ee851+']'):_0x44f883(null,_0x5794ad);});}['openBinary'](_0x402eee){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x402eee);}}class A2 extends Ne{constructor(_0x3b0c2e){super(_0x3b0c2e,'cubemap'),this['_device']=_0x3b0c2e['graphicsDe'+'vice'],this['_registry']=_0x3b0c2e['assets'],this['_loader']=_0x3b0c2e['loader'];}['load'](_0x606e76,_0x2f9293,_0x321f41){this['loadAssets'](_0x321f41,_0x2f9293);}['open'](_0x2ce4d8,_0x24fb0c,_0x546a91){return _0x546a91?_0x546a91['resource']:null;}['patch'](_0x530b21,_0x2ada1a){this['loadAssets'](_0x530b21,(_0x49a614,_0x13cd8d)=>{_0x49a614&&(_0x2ada1a['fire']('error',_0x530b21),_0x2ada1a['fire']('error:'+_0x530b21['id'],_0x49a614,_0x530b21),_0x530b21['fire']('error',_0x530b21));});}['getAssetId'+'s'](_0x2cd5d3){const _0x17ee4c=[];if(_0x17ee4c[0xa*0x35f+-0xf5b+-0x125b]=_0x2cd5d3['file'],(_0x2cd5d3['loadFaces']||!_0x2cd5d3['file'])&&_0x2cd5d3['data']&&_0x2cd5d3['data']['textures']){for(let _0xaddcfe=0x1*0x1072+-0x1*-0x2404+0x3476*-0x1;_0xaddcfe<0x511*-0x7+-0xeef+0x326c;++_0xaddcfe)_0x17ee4c[_0xaddcfe+(0xdca+0x4*0x4bc+0x1*-0x20b9)]=_0x2cd5d3['data']['textures'][_0xaddcfe];}else _0x17ee4c[-0x26f+-0x90b+-0x1*-0xb7b]=_0x17ee4c[-0x2392+-0x3bb+0x274f*0x1]=_0x17ee4c[0x219b+-0x1d*0x12b+0x47]=_0x17ee4c[0x1c02+0xbb2*-0x3+0x718]=_0x17ee4c[-0x48d*-0x5+0x18*-0xb7+-0x594]=_0x17ee4c[0xcd4+-0x451*-0x3+0x13*-0x15b]=null;return _0x17ee4c;}['compareAss'+'etIds'](_0x392d6d,_0x3631a8){return _0x392d6d&&_0x3631a8?parseInt(_0x392d6d,0xa44+0x1f*-0x95+0x7d1)===_0x392d6d||typeof _0x392d6d=='string'?_0x392d6d===_0x3631a8:_0x392d6d['url']===_0x3631a8['url']:_0x392d6d!==null==(_0x3631a8!==null);}['update'](_0x5116f8,_0x3e22c3,_0x911f35){const _0x469e47=_0x5116f8['data']||{},_0x1471a=_0x5116f8['_handlerSt'+'ate']['assets'],_0x1ad5de=_0x5116f8['_resources'];let _0x5c8ef9,_0x2a4f96,_0x4f9fd5;const _0x5e821e=[null,null,null,null,null,null,null],_0x38bbc5=function(){return _0x469e47['hasOwnProp'+'erty']('type')?_0x469e47['type']:_0x469e47['hasOwnProp'+'erty']('rgbm')?_0x469e47['rgbm']?on:Di:null;};if(!_0x5116f8['loaded']||_0x911f35[-0x20b7+-0x1cb4+0x3*0x1479]!==_0x1471a[-0x4a*0x46+-0x2605+0x3a41]){if(_0x911f35[0x26f9+0x1*0x250c+-0x4c05]){if(_0x5c8ef9=_0x911f35[0x2681+0x1*0x2135+-0x47b6]['resource'],_0x5c8ef9['cubemap']){for(_0x4f9fd5=0x1a*-0x105+-0x2d0*0x4+0x25c2;_0x4f9fd5<0x11*-0x77+-0x6d*-0x57+-0x1d1e;++_0x4f9fd5)_0x5e821e[_0x4f9fd5+(0x1779+0xe*-0xc4+-0x10*0xcc)]=new he(this['_device'],{'name':_0x5116f8['name']+('_prelitCub'+'emap')+(_0x5c8ef9['width']>>_0x4f9fd5),'cubemap':!(0x1*0x23e6+-0x16*-0x77+0x520*-0x9),'type':_0x38bbc5()||_0x5c8ef9['type'],'width':_0x5c8ef9['width']>>_0x4f9fd5,'height':_0x5c8ef9['height']>>_0x4f9fd5,'format':_0x5c8ef9['format'],'levels':[_0x5c8ef9['_levels'][_0x4f9fd5]],'addressU':ae,'addressV':ae,'mipmaps':_0x4f9fd5===0x6*-0x64+-0x53*0x32+0x1*0x128e});}else _0x5e821e[-0x1bb*0x13+0x4ae*-0x5+0x1c24*0x2]=_0x5c8ef9;}}else _0x5e821e[-0xd6d*-0x1+0x187*-0x2+0x52f*-0x2]=_0x1ad5de[0x640+-0x2f*-0x9d+-0x2312*0x1]||null,_0x5e821e[-0x262e+-0x68*0xa+-0xd*-0x340]=_0x1ad5de[0x816+0xd01*0x2+-0x2216]||null,_0x5e821e[0xd5+-0x261f+0xc6f*0x3]=_0x1ad5de[0x1a*-0x97+0x9*0x17f+0x1e2]||null,_0x5e821e[0x64+0x3b*0x34+-0xc5c]=_0x1ad5de[0xd74+0x11db*0x1+-0x1f4b]||null,_0x5e821e[0x75d*0x2+0x7c7+-0x167c]=_0x1ad5de[0x1af0+0x2c*-0xd+-0x18af]||null,_0x5e821e[-0x115e+-0x31*-0x25+0xa4f*0x1]=_0x1ad5de[-0x6da+-0x19*0x3a+0xc8a]||null;const _0x166649=_0x911f35['slice'](0x13f1+0x3*-0x7c3+0x1*0x359);if(!_0x5116f8['loaded']||!this['cmpArrays'](_0x166649,_0x1471a['slice'](0x38f+0xa6*-0x2e+0x2*0xd23))){if(_0x166649['indexOf'](null)===-(0x12f*-0x21+-0x3*0xc5+0x295f)){const _0x282b48=_0x166649['map'](_0x4e451f=>_0x4e451f['resource']),_0x574ecc=[];for(_0x2a4f96=-0x6b2*-0x3+-0x1ada+-0x1*-0x6c4;_0x2a4f96<_0x282b48[0xefe*0x1+0xdc*0x9+-0x16ba]['_levels']['length'];++_0x2a4f96)_0x574ecc['push'](_0x282b48['map'](_0x5441e1=>_0x5441e1['_levels'][_0x2a4f96]));const _0x49ead6=_0x282b48[0xcf0*-0x3+0x941*-0x1+-0x73*-0x6b]['format'],_0x55fc87=new he(this['_device'],{'name':_0x5116f8['name']+'_faces','cubemap':!(0x14f1*0x1+-0x2617+0x1126),'type':_0x38bbc5()||_0x282b48[-0x228b+-0x25*-0xcb+-0x2*-0x29a]['type'],'width':_0x282b48[0x23bc+-0xfa+-0x22c2]['width'],'height':_0x282b48[-0x1a0f+0xef3+0xb1c]['height'],'format':_0x49ead6===dr?Se:_0x49ead6,'mipmaps':_0x469e47['mipmaps']??!(-0x1dcc+-0x5*-0x773+-0x773),'levels':_0x574ecc,'minFilter':_0x469e47['hasOwnProp'+'erty']('minFilter')?_0x469e47['minFilter']:_0x282b48[0x2*0x12fb+-0x3*0x35+-0x2557]['minFilter'],'magFilter':_0x469e47['hasOwnProp'+'erty']('magFilter')?_0x469e47['magFilter']:_0x282b48[0x1c*0xcb+0xd*-0x171+-0x377*0x1]['magFilter'],'anisotropy':_0x469e47['hasOwnProp'+'erty']('anisotropy')?_0x469e47['anisotropy']:0xbcb+-0x3d*-0xa3+-0x32a1,'addressU':ae,'addressV':ae});_0x5e821e[-0x141f+0x52*0x13+0x1*0xe09]=_0x55fc87;}}else _0x5e821e[-0x40b*-0x9+0x8f7+0x2b*-0x10e]=_0x1ad5de[-0x5*-0xbf+0x1d4e+0x3*-0xb03]||null;if(!this['cmpArrays'](_0x5e821e,_0x1ad5de)){for(_0x5116f8['resources']=_0x5e821e,_0x5116f8['_handlerSt'+'ate']['assetIds']=_0x3e22c3,_0x5116f8['_handlerSt'+'ate']['assets']=_0x911f35,_0x4f9fd5=0x17*-0x45+-0x194+0x7c7;_0x4f9fd5<_0x1ad5de['length'];++_0x4f9fd5)_0x1ad5de[_0x4f9fd5]!==null&&_0x5e821e['indexOf'](_0x1ad5de[_0x4f9fd5])===-(-0x100*-0x17+0x1*0x1e5+0x12*-0x162)&&_0x1ad5de[_0x4f9fd5]['destroy']();}for(_0x4f9fd5=-0x11c9+0x35+0x1194;_0x4f9fd5<_0x1471a['length'];++_0x4f9fd5)_0x1471a[_0x4f9fd5]!==null&&_0x911f35['indexOf'](_0x1471a[_0x4f9fd5])===-(-0x10ed+-0x1*0xfc6+0xe*0x256)&&_0x1471a[_0x4f9fd5]['unload']();}['cmpArrays'](_0x1de42b,_0x3effcd){if(_0x1de42b['length']!==_0x3effcd['length'])return!(0x8*0x2e0+-0x1535+-0xe5*0x2);for(let _0x3319e6=0x116a*-0x1+-0x1420+0x258a;_0x3319e6<_0x1de42b['length'];++_0x3319e6)if(_0x1de42b[_0x3319e6]!==_0x3effcd[_0x3319e6])return!(0xd5a+-0x2*-0x67a+0x1a4d*-0x1);return!(0x11c9*-0x1+0x7a2+0xa27);}['resolveId'](_0x33b14a){const _0x5d05ff=parseInt(_0x33b14a,-0xcac+-0x47*0x35+-0x923*-0x3);return _0x5d05ff===_0x33b14a||_0x5d05ff['toString']()===_0x33b14a?_0x5d05ff:_0x33b14a;}['loadAssets'](_0x2d93fd,_0x51bb40){_0x2d93fd['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x2d93fd['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x3c5244=this,_0x30b44f=_0x3c5244['getAssetId'+'s'](_0x2d93fd),_0x87f834=[null,null,null,null,null,null,null],_0x2025c9=_0x2d93fd['_handlerSt'+'ate']['assetIds'],_0x309887=_0x2d93fd['_handlerSt'+'ate']['assets'],_0x1ce06a=_0x3c5244['_registry'];let _0x3e521c=-0x1e+0x68c*0x4+-0x1a0b;const _0xb820e0=function(_0xfb1685,_0x1a9e22){_0x87f834[_0xfb1685]=_0x1a9e22,_0x3e521c--,_0x3e521c===0x4*0x7cc+-0x105f*-0x2+-0x3fee*0x1&&(_0x3c5244['update'](_0x2d93fd,_0x30b44f,_0x87f834),_0x51bb40(null,_0x2d93fd['resources']));},_0x3b75c0=function(_0x25a222,_0x61e8c,_0x42586d){_0x51bb40(_0x61e8c);},_0x215153=function(_0x2a8e80,_0x86566c){_0x86566c['loaded']?_0xb820e0(_0x2a8e80,_0x86566c):(_0x1ce06a['once']('load:'+_0x86566c['id'],_0xb820e0['bind'](_0x3c5244,_0x2a8e80)),_0x1ce06a['once']('error:'+_0x86566c['id'],_0x3b75c0['bind'](_0x3c5244,_0x2a8e80)),_0x86566c['loading']||_0x1ce06a['load'](_0x86566c));};let _0x58b55d;for(let _0x183f65=0xf*0x213+-0x30*-0x61+-0x3*0x106f;_0x183f65<0x89*-0xb+-0x2*0x68b+0x1300;++_0x183f65){const _0x16cd00=this['resolveId'](_0x30b44f[_0x183f65]);if(!_0x16cd00)_0xb820e0(_0x183f65,null);else{if(_0x3c5244['compareAss'+'etIds'](_0x16cd00,_0x2025c9[_0x183f65]))_0x215153(_0x183f65,_0x309887[_0x183f65]);else{if(parseInt(_0x16cd00,0xff1+0x907*0x4+0x1*-0x3403)===_0x16cd00)_0x58b55d=_0x1ce06a['get'](_0x16cd00),_0x58b55d?_0x215153(_0x183f65,_0x58b55d):setTimeout(((_0x127123,_0x20fdec)=>{const _0x2fcdf3=_0x1ce06a['get'](_0x20fdec);_0x2fcdf3?_0x215153(_0x127123,_0x2fcdf3):_0x3b75c0(_0x127123,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x20fdec);})['bind'](null,_0x183f65,_0x16cd00));else{const _0x267864=typeof _0x16cd00=='string'?{'url':_0x16cd00,'filename':_0x16cd00}:_0x16cd00,_0xae9f5e=_0x267864['url']['search']('.dds')===-(0xa*-0x181+-0x1597*0x1+0x6*0x61b)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x4a0*-0x4+-0x1*0x5b5+-0xc1b*-0x2)}:null;_0x58b55d=new le(_0x2d93fd['name']+'_part_'+_0x183f65,'texture',_0x267864,_0xae9f5e),_0x1ce06a['add'](_0x58b55d),_0x215153(_0x183f65,_0x58b55d);}}}}}}class E2 extends Ne{constructor(_0x43d58b){super(_0x43d58b,'folder');}['load'](_0x112899,_0x1cc2dc){_0x1cc2dc(null,null);}}class Ng{constructor(_0x504829,_0x59d4f6){this['type']=_0x59d4f6&&_0x59d4f6['type']||Kh,this['em']=0x26a+-0x15f2+-0x1389*-0x1,this['textures']=_0x504829,this['intensity']=-0xced*0x1+-0x2*0xbea+0x24c1,this['_data']=null,this['data']=_0x59d4f6;}set['data'](_0x1374f7){if(this['_data']=_0x1374f7,!!_0x1374f7&&(this['_data']['intensity']!==void(-0x18e6+-0x26fb+-0x719*-0x9)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x1e*-0x5d+-0x90*-0x24+-0x5c*0x1a)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x366375 in this['_data']['chars'])this['_data']['chars'][_0x366375]['map']=-0x2*-0x729+0x5b2+-0x4*0x501;}}get['data'](){return this['_data'];}}function Jd(_0x413164){return _0x413164['version']<-0xd*-0x1+-0x3*-0x787+-0x169f&&(_0x413164['version']<0x128a+-0x8f9+-0x98f&&(_0x413164['info']['maps']=_0x413164['info']['maps']||[{'width':_0x413164['info']['width'],'height':_0x413164['info']['height']}]),_0x413164['chars']=Object['keys'](_0x413164['chars']||{})['reduce']((_0x2b0190,_0x114b23)=>{const _0x55e502=_0x413164['chars'][_0x114b23],_0x264b55=_0x55e502['letter']!==void(-0x11*0x27+-0x87b+0xb12)?_0x55e502['letter']:ah['fromCodePo'+'int'](_0x114b23);return _0x413164['version']<0x146b+0x4f5+-0x195e&&(_0x55e502['map']=_0x55e502['map']||0x31f+-0x9a9*0x2+0x1033),_0x2b0190[_0x264b55]=_0x55e502,_0x2b0190;},{}),_0x413164['version']=0x5*-0x137+0x425+0x7*0x47),_0x413164;}class C2 extends Ne{constructor(_0x3ed7b3){super(_0x3ed7b3,'font'),this['_loader']=_0x3ed7b3['loader'],this['maxRetries']=-0xe0*0xf+-0x111b+-0x1*-0x1e3b;}['load'](_0x3ec618,_0x45073d,_0x36ffae){typeof _0x3ec618=='string'&&(_0x3ec618={'load':_0x3ec618,'original':_0x3ec618});const _0xafdd1d=this;fe['getExtensi'+'on'](_0x3ec618['original'])==='.json'?$e['get'](_0x3ec618['load'],{'retry':this['maxRetries']>0x2577+-0x2584+0xd,'maxRetries':this['maxRetries']},(_0x13ccb8,_0x29ff81)=>{if(_0x13ccb8)_0x45073d('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x3ec618['original']+'\x20['+_0x13ccb8+']');else{const _0x43bc98=Jd(_0x29ff81);_0xafdd1d['_loadTextu'+'res'](_0x3ec618['load']['replace']('.json','.png'),_0x43bc98,(_0x5e37ea,_0x30486a)=>{_0x5e37ea?_0x45073d(_0x5e37ea):_0x45073d(null,{'data':_0x43bc98,'textures':_0x30486a});});}}):(_0x36ffae&&_0x36ffae['data']&&(_0x36ffae['data']=Jd(_0x36ffae['data'])),this['_loadTextu'+'res'](_0x3ec618['load'],_0x36ffae&&_0x36ffae['data'],_0x45073d));}['_loadTextu'+'res'](_0x32790d,_0x59289a,_0x483959){const _0x76d871=_0x59289a['info']['maps']['length'];let _0x3665b3=-0x201b+0x1572+-0x1*-0xaa9,_0x3f772c=null;const _0x2dc6d8=new Array(_0x76d871),_0x300b88=this['_loader'],_0x15d3af=function(_0x512bce){const _0x221645=function(_0x1d27de,_0x178eb4){if(!_0x3f772c){if(_0x1d27de){_0x3f772c=_0x1d27de,_0x483959(_0x1d27de);return;}_0x178eb4['upload'](),_0x2dc6d8[_0x512bce]=_0x178eb4,_0x3665b3++,_0x3665b3===_0x76d871&&_0x483959(null,_0x2dc6d8);}};_0x512bce===0xa8f+0x1*-0x2586+-0x9*-0x2ff?_0x300b88['load'](_0x32790d,'texture',_0x221645):_0x300b88['load'](_0x32790d['replace']('.png',_0x512bce+'.png'),'texture',_0x221645);};for(let _0xa47ca9=0x235f+-0x47*-0x6a+0x40c5*-0x1;_0xa47ca9<_0x76d871;_0xa47ca9++)_0x15d3af(_0xa47ca9);}['open'](_0x25eff5,_0x34ae67,_0x1fc21a){let _0xb2c1d4;return _0x34ae67['textures']?_0xb2c1d4=new Ng(_0x34ae67['textures'],_0x34ae67['data']):_0xb2c1d4=new Ng(_0x34ae67,null),_0xb2c1d4;}['patch'](_0x219a4a,_0x5bad88){const _0x31a2df=_0x219a4a['resource'];!_0x31a2df['data']&&_0x219a4a['data']?_0x31a2df['data']=_0x219a4a['data']:!_0x219a4a['data']&&_0x31a2df['data']&&(_0x219a4a['data']=_0x31a2df['data']),_0x219a4a['data']&&(_0x219a4a['data']=Jd(_0x219a4a['data']));}}async function M2(){const _0x1ae556=-0x220+0x13c7+-0x11a7+0.28209479177387814;class _0x2b3d98{constructor(_0x26eb3b,_0x5f4777,_0xe7a748){this['x']=_0x26eb3b,this['y']=_0x5f4777,this['z']=_0xe7a748;}}class _0x291626{constructor(_0x20effe,_0x43d043,_0x43179e,_0x5b6199){this['x']=_0x20effe,this['y']=_0x43d043,this['z']=_0x43179e,this['w']=_0x5b6199;}}class _0x1abc3b{constructor(_0x1b166b,_0x5c2b6d,_0x5f21ea,_0x1d9263){this['x']=_0x1b166b,this['y']=_0x5c2b6d,this['z']=_0x5f21ea,this['w']=_0x1d9263;}['set'](_0x323553,_0x5616b4,_0x538c92,_0x3f4ea6){this['x']=_0x323553,this['y']=_0x5616b4,this['z']=_0x538c92,this['w']=_0x3f4ea6;}}class _0x53f0ea{constructor(_0x3568da,_0x224405,_0x578d05,_0x24673b,_0x568be9,_0x21feaa,_0xfd04ab,_0x3873a8,_0x2da3b4,_0x2b1c5a,_0x3816c6,_0xe73797){const _0x17521a=(_0x666d93,_0x145915)=>{const _0x153937=(0x3b5+-0x1fe8+0x5*0x5a4<<_0x145915)-(-0xaa3+-0x1a81+-0x1*-0x2525);return(_0x666d93&_0x153937)/_0x153937;},_0x3ed8b4=(_0x570bba,_0x3590c2)=>{_0x570bba['x']=_0x17521a(_0x3590c2>>>0x267+-0x2*0x641+-0x518*-0x2,-0x1*-0x1981+0x23b5+0x3d2b*-0x1),_0x570bba['y']=_0x17521a(_0x3590c2>>>0x2b8*-0x9+-0x1f80+0x3803,-0x7d9+-0x2643+0xb*0x432),_0x570bba['z']=_0x17521a(_0x3590c2,-0x2189*0x1+-0x160f*-0x1+0xb85*0x1);},_0x579d2c=(_0x14a3b2,_0x285b58)=>{_0x14a3b2['x']=_0x17521a(_0x285b58>>>-0x1702+-0xf2+0x180c,0x1423+0x1*-0x1c73+0x858),_0x14a3b2['y']=_0x17521a(_0x285b58>>>-0x19a*0xa+-0xcd1+0xd*0x239,-0x13a4+-0x8a*0x2b+0x2*0x156d),_0x14a3b2['z']=_0x17521a(_0x285b58>>>0x11*-0x29+-0x3*0x87e+-0x9*-0x323,0xd08+-0x1d3e+0x103e),_0x14a3b2['w']=_0x17521a(_0x285b58,0x358+-0x2*-0x1099+-0x2482);},_0x15084c=(_0x1d9433,_0x2b1a6b)=>{const _0x228fb5=(-0x5*-0x8e+-0x1*0x977+0x1*0x6b2)/(Math['sqrt'](-0xd12+-0x205+-0xf19*-0x1)*(-0x882+0x23de+0x1b5c*-0x1+0.5)),_0x56a267=(_0x17521a(_0x2b1a6b>>>-0x95*0x13+0x76e*-0x5+0x1*0x3049,0x6c5*-0x1+-0x1*-0xc4b+0xc*-0x75)-(0xdd7+-0xf43+0x16c+0.5))*_0x228fb5,_0x42ae23=(_0x17521a(_0x2b1a6b>>>0x123c+0x5*0x27f+-0x1ead,0x172b+0x63a+-0x1d5b)-(-0x13ee*-0x1+0x26b*0x7+0x1*-0x24db+0.5))*_0x228fb5,_0xc07699=(_0x17521a(_0x2b1a6b,-0x2271+0x5b5*0x1+0x1cc6)-(0x38e+0x2064+0x2*-0x11f9+0.5))*_0x228fb5,_0x354835=Math['sqrt'](-0xce*0x4+0xaa+0x28f-(_0x56a267*_0x56a267+_0x42ae23*_0x42ae23+_0xc07699*_0xc07699));switch(_0x2b1a6b>>>0xb21+-0x123b+-0x4d*-0x18){case 0x21*-0xc2+0x1666+0x14e*0x2:_0x1d9433['set'](_0x56a267,_0x42ae23,_0xc07699,_0x354835);break;case 0x2371+-0x1fdf+0x53*-0xb:_0x1d9433['set'](_0x354835,_0x42ae23,_0xc07699,_0x56a267);break;case 0x1e11+0x1069+-0x2e78:_0x1d9433['set'](_0x42ae23,_0x354835,_0xc07699,_0x56a267);break;case 0x2361+-0x251c+0x1be:_0x1d9433['set'](_0x42ae23,_0xc07699,_0x354835,_0x56a267);break;}},_0x2a9319=(_0x50c619,_0x58051e,_0x3c8af6)=>_0x50c619*(-0x6f7+-0x11b9+0x18b1-_0x3c8af6)+_0x58051e*_0x3c8af6,_0x466aba=[0x3*0x35f+0x757*-0x5+0x1a99,0x6*0x308+0x1411+-0x2639,0x24f*-0x4+-0x1672*-0x1+0x1e1*-0x7][_0x568be9-(0x2102*-0x1+0x22a2+-0x19f)],_0x58af4e=-0x19f1+0x1d2d+-0x112*0x3;this['read']=_0x4fe725=>{const _0x1d16ac=Math['floor'](_0x4fe725/(-0xaa1+0x1269+-0x1c*0x3e))*_0x224405;if(_0x21feaa&&(_0x3ed8b4(_0x21feaa,_0x578d05[_0x4fe725*_0x58af4e+(0x13*0x127+0x7*-0x4cb+0xba8)]),_0x21feaa['x']=_0x2a9319(_0x3568da[_0x1d16ac+(-0x1c07+0xad*0x17+0x5e*0x22)],_0x3568da[_0x1d16ac+(0x1258+0x3*-0xa7f+-0x4*-0x34a)],_0x21feaa['x']),_0x21feaa['y']=_0x2a9319(_0x3568da[_0x1d16ac+(0x18a0+0x85f*-0x1+-0x1040)],_0x3568da[_0x1d16ac+(0xf8*-0x20+-0x24fd+0x4401*0x1)],_0x21feaa['y']),_0x21feaa['z']=_0x2a9319(_0x3568da[_0x1d16ac+(0xc79*-0x2+0x65+0x1*0x188f)],_0x3568da[_0x1d16ac+(0x52f*-0x3+-0xab*0x4+0x123e)],_0x21feaa['z'])),_0xfd04ab&&_0x15084c(_0xfd04ab,_0x578d05[_0x4fe725*_0x58af4e+(0x254f+0x1dac+-0x42fa)]),_0x3873a8&&(_0x3ed8b4(_0x3873a8,_0x578d05[_0x4fe725*_0x58af4e+(-0x1*0xa03+-0x1e0+0xbe5)]),_0x3873a8['x']=_0x2a9319(_0x3568da[_0x1d16ac+(-0x16e7+-0x13e4*0x1+0x2ad1)],_0x3568da[_0x1d16ac+(0x23c5+0xe3c+-0x8*0x63f)],_0x3873a8['x']),_0x3873a8['y']=_0x2a9319(_0x3568da[_0x1d16ac+(0x1dd4*-0x1+0x1*-0x14ba+0x3295)],_0x3568da[_0x1d16ac+(-0x1404+0x16a1*0x1+-0x293)],_0x3873a8['y']),_0x3873a8['z']=_0x2a9319(_0x3568da[_0x1d16ac+(-0x775+-0x28c*-0x7+0x1*-0xa57)],_0x3568da[_0x1d16ac+(-0x2da+0x2*-0x567+0xdb3)],_0x3873a8['z'])),_0x2da3b4&&(_0x579d2c(_0x2da3b4,_0x578d05[_0x4fe725*_0x58af4e+(-0x248f+-0x1e01*-0x1+-0x1*-0x691)]),_0x224405>-0x1242+0x209*0xe+0x146*-0x8&&(_0x2da3b4['x']=_0x2a9319(_0x3568da[_0x1d16ac+(-0x4ff*0x1+0x4*0x93f+-0x1ff1)],_0x3568da[_0x1d16ac+(0x3a*0x83+-0x3*0x81d+-0xd*0x68)],_0x2da3b4['x']),_0x2da3b4['y']=_0x2a9319(_0x3568da[_0x1d16ac+(0x2457+-0xd4*-0x20+-0x3eca)],_0x3568da[_0x1d16ac+(-0x1150+0xcf*-0x9+0x18a7)],_0x2da3b4['y']),_0x2da3b4['z']=_0x2a9319(_0x3568da[_0x1d16ac+(0x51b*-0x1+-0x179a+0x1cc3)],_0x3568da[_0x1d16ac+(0x252a+-0x345+-0x21d4)],_0x2da3b4['z']))),_0x2b1c5a&&(_0x3ed8b4(_0x2b1c5a,_0x578d05[_0x4fe725*_0x58af4e+(0x1*-0x19b2+-0x24aa+0x3e60)]),_0x2b1c5a['x']=_0x2a9319(_0x3568da[_0x1d16ac+(-0x1c7f+-0x2114+0x16f*0x2b)],_0x3568da[_0x1d16ac+(0x14c0*-0x1+-0x806+0x59*0x53)],_0x2b1c5a['x']),_0x2b1c5a['y']=_0x2a9319(_0x3568da[_0x1d16ac+(-0x7*0x2dd+-0xd0d+0x212b)],_0x3568da[_0x1d16ac+(-0xcdc*-0x2+-0x20f8+-0x139*-0x6)],_0x2b1c5a['y']),_0x2b1c5a['z']=_0x2a9319(_0x3568da[_0x1d16ac+(-0x1b93+0x2107+-0x560)],_0x3568da[_0x1d16ac+(0x22d6+0xe1*0x11+0xa*-0x4f8)],_0x2b1c5a['z'])),_0x3816c6&&(_0x3ed8b4(_0x3816c6,_0x578d05[_0x4fe725*_0x58af4e+(-0x1*-0xbd8+-0x333+-0x8a0)]),_0x3816c6['x']=_0x2a9319(_0x3568da[_0x1d16ac+(0xe30+-0x31*-0x87+-0x27ef*0x1)],_0x3568da[_0x1d16ac+(-0xaff+0x15dd+0x1*-0xac5)],_0x3816c6['x']),_0x3816c6['y']=_0x2a9319(_0x3568da[_0x1d16ac+(-0xcb*-0xd+0x1e10+-0x2845)],_0x3568da[_0x1d16ac+(-0x711+-0xa7c+-0x1c4*-0xa)],_0x3816c6['y'])),_0xe73797&&_0x568be9>0x4*-0x15a+-0x3*0x6cf+0x19d5){for(let _0xa04977=0x24f0*-0x1+-0x23e+0x272e;_0xa04977<0x481*0x1+0x2569+-0x29e7;++_0xa04977)for(let _0xbcc0e8=0x11*0x9+0x1cb*-0x3+0x6*0xcc;_0xbcc0e8<-0x1dab+0x162*-0x1b+0x4310;++_0xbcc0e8)_0xe73797[_0xa04977*(0x109b+-0x1c3+-0xec9)+_0xbcc0e8]=_0xbcc0e8<_0x466aba?_0x24673b[(_0x4fe725*(0x12a7+0x2246+-0x1a*0x209)+_0xa04977)*_0x466aba+_0xbcc0e8]*((0x1a15+-0x1*-0x1ce2+-0x36ef)/(-0x18*0x28+0x92*-0x3b+0x2665))-(-0x1a77+-0xc5f*-0x3+-0x551*0x2):0xa*0x1b8+-0x1406+0x21*0x16;}};}}self['onmessage']=async _0x44a1b9=>{const {data:_0x43fc71}=_0x44a1b9;switch(_0x43fc71['type']){case'initWorker':break;case'decompress':_0x45ec52(_0x43fc71['numSplats'],_0x43fc71['chunkData'],_0x43fc71['chunkSize'],_0x43fc71['vertexData'],_0x43fc71['shData'],_0x43fc71['shBands']);break;}};const _0x45ec52=(_0x4d1ed3,_0x49c056,_0x405a8c,_0x1cc6dd,_0xf0eb50,_0x1143c0)=>{const _0x144fb0=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x1143c0>-0x1e5e+0xc1*-0x16+0x14*0x259){const _0xf07acd=[];for(let _0x5058a9=0x97*-0x13+-0xf3d+0x2a5*0xa;_0x5058a9<-0x1833+-0xa32+0x2292;++_0x5058a9)_0xf07acd['push']('f_rest_'+_0x5058a9);_0x144fb0['splice'](_0x144fb0['indexOf']('f_dc_0')+(0x24e7+-0x1*-0xa3f+-0x2f25),0xd60+0x8a1+-0x1601,..._0xf07acd);}const _0x2fb971={};_0x144fb0['forEach'](_0x4278b4=>{_0x2fb971[_0x4278b4]=new Float32Array(_0x4d1ed3);}),console['log']('decompress');const _0x3fc907=new _0x2b3d98(),_0x434a60=new _0x1abc3b(),_0x56667e=new _0x2b3d98(),_0x26d0b5=new _0x291626(),_0x12fec3=new _0x2b3d98(),_0x2fb5d4=new _0x2b3d98(),_0x569350=_0x1143c0>0x1*-0x1f73+0x2*-0xce6+0x5*0xb73?new Float32Array(0x2*-0x22b+0x1681+-0x11fe):null,_0xcdcd84=new _0x53f0ea(_0x49c056,_0x405a8c,_0x1cc6dd,_0xf0eb50,_0x1143c0,_0x3fc907,_0x434a60,_0x56667e,_0x26d0b5,_0x12fec3,_0x2fb5d4,_0x569350);for(let _0x1e65af=0xb2*-0xd+0x4af*0x8+-0x1c6e;_0x1e65af<_0x4d1ed3;++_0x1e65af)if(_0xcdcd84['read'](_0x1e65af),_0x2fb971['x'][_0x1e65af]=_0x3fc907['x'],_0x2fb971['y'][_0x1e65af]=_0x3fc907['y'],_0x2fb971['z'][_0x1e65af]=_0x3fc907['z'],_0x2fb971['rot_1'][_0x1e65af]=_0x434a60['x'],_0x2fb971['rot_2'][_0x1e65af]=_0x434a60['y'],_0x2fb971['rot_3'][_0x1e65af]=_0x434a60['z'],_0x2fb971['rot_0'][_0x1e65af]=_0x434a60['w'],_0x2fb971['scale_0'][_0x1e65af]=_0x56667e['x'],_0x2fb971['scale_1'][_0x1e65af]=_0x56667e['y'],_0x2fb971['scale_2'][_0x1e65af]=_0x56667e['z'],_0x2fb971['motion_0'][_0x1e65af]=_0x12fec3['x'],_0x2fb971['motion_1'][_0x1e65af]=_0x12fec3['y'],_0x2fb971['motion_2'][_0x1e65af]=_0x12fec3['z'],_0x2fb971['t_scale'][_0x1e65af]=_0x2fb5d4['x'],_0x2fb971['t'][_0x1e65af]=_0x2fb5d4['y'],_0x2fb971['f_dc_0'][_0x1e65af]=(_0x26d0b5['x']-(-0x124*0x19+-0x139f+-0x1*-0x3023+0.5))/_0x1ae556,_0x2fb971['f_dc_1'][_0x1e65af]=(_0x26d0b5['y']-(-0x907*-0x1+-0x88e+0x1*-0x79+0.5))/_0x1ae556,_0x2fb971['f_dc_2'][_0x1e65af]=(_0x26d0b5['z']-(0xa2*0x3a+-0x2f*0x5b+-0x1*0x13ff+0.5))/_0x1ae556,_0x2fb971['opacity'][_0x1e65af]=_0x26d0b5['w']<=-0x7*-0x2a5+-0x11*-0x143+-0x27f6?-(-0xeab*-0x1+-0x2537*-0x1+-0x33ba):_0x26d0b5['w']>=-0x1*0x2203+0xcd*0x25+-0x463*-0x1?0x21d2+0xd1+-0x227b:-Math['log']((0x1*-0x4a3+-0x787*-0x3+0x3*-0x5fb)/_0x26d0b5['w']-(-0x247*-0x4+-0x10*0xb9+0x1*0x275)),_0x569350){for(let _0x44d796=0x4*0x833+-0x18e8+-0x7e4;_0x44d796<0x971+0xba2+-0x5*0x42e;++_0x44d796)_0x2fb971['f_rest_'+_0x44d796][_0x1e65af]=_0x569350[_0x44d796];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x2fb971});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3b0563=>{if(!this['worker'])return;const {data:_0x383b1c}=_0x3b0563;switch(_0x383b1c['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x383b1c['data']);break;}};}['decompress'](_0x489f4d,_0x143f64,_0x13fbe3,_0x21cecb,_0x325b59,_0x32a3c2,_0x1f4d15){this['chunkData']=new Float32Array(_0x143f64)['slice'](),this['vertexData']=new Uint32Array(_0x21cecb)['slice'](),this['shData']=new Uint8Array(_0x325b59)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x489f4d,'chunkData':this['chunkData'],'chunkSize':_0x13fbe3,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x32a3c2});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x103918,_0x5227ca,_0x4023b8,_0x25e7d6,_0x3273ef,_0x147c27,_0x28b462,_0xeb1c84){const _0x182e0f=(_0x22022c,_0x469ae6)=>{const _0x547922=(0x1c6*0x10+-0xf37+0x1a5*-0x8<<_0x469ae6)-(-0x2*-0x12d1+0x25a5+-0x4b46);return(_0x22022c&_0x547922)/_0x547922;},_0x11b42e=(_0x1b7a6d,_0x4fb0d1)=>{_0x1b7a6d['x']=_0x182e0f(_0x4fb0d1>>>-0x301+-0x3*-0x7bd+0x1*-0x1421,-0x1c85+0x224*-0xe+-0x4*-0xea2),_0x1b7a6d['y']=_0x182e0f(_0x4fb0d1>>>-0xb56+-0x20de+0x2c3f,-0x1*0x71+0x19e9+-0x196e),_0x1b7a6d['z']=_0x182e0f(_0x4fb0d1,-0x11*0x55+0x6*-0x654+0x1fc*0x16);},_0x5d5eee=(_0x26fac3,_0x51c935)=>{_0x26fac3['x']=_0x182e0f(_0x51c935>>>0x1*0xed1+-0x287*-0x1+-0x1140,0x1c7c+-0x3*0xc15+-0x3*-0x299),_0x26fac3['y']=_0x182e0f(_0x51c935>>>0xfe+-0x5*-0x10+-0x13e,-0x4fc+-0x4*0x8b9+-0x1*-0x27e8),_0x26fac3['z']=_0x182e0f(_0x51c935>>>-0x152+0x4*-0x15d+0xd*0x86,0x249c+0x4ee+0x14c1*-0x2),_0x26fac3['w']=_0x182e0f(_0x51c935,-0x1*-0xae5+0xeb5+-0x1992);},_0x3c4948=(_0xf123be,_0x19a689)=>{const _0x922ad3=(0x3b*0x43+0x6d*-0xf+0x90d*-0x1)/(Math['sqrt'](-0x1036+0x1*0xe0f+0x229)*(-0x2b*-0x75+-0x2025+0xc7e+0.5)),_0x4629ce=(_0x182e0f(_0x19a689>>>-0x2*0x861+-0x3*0x7f7+0x28bb,-0x24f*0x2+-0x122*-0x14+-0x1200)-(0x8*0x235+0x1*0x1b59+-0x2d01+0.5))*_0x922ad3,_0x267ca1=(_0x182e0f(_0x19a689>>>0x125+0x1389*0x1+-0x2*0xa52,-0x11e*0x5+0x1*0x26f5+-0x2155)-(0x7f+-0x1*0x1a4d+0x12*0x16f+0.5))*_0x922ad3,_0x4d32a8=(_0x182e0f(_0x19a689,0x18fb+-0x19b*0x10+0xbf)-(0x86a*0x4+0x7da+-0x45*0x9a+0.5))*_0x922ad3,_0x39304b=Math['sqrt'](0x81a*0x3+-0x138e+-0x4bf-(_0x4629ce*_0x4629ce+_0x267ca1*_0x267ca1+_0x4d32a8*_0x4d32a8));switch(_0x19a689>>>-0xfd7*0x1+0x2*-0x8f8+0x21e5){case 0x8a9+0xdf*0x1b+-0x202e*0x1:_0xf123be['set'](_0x4629ce,_0x267ca1,_0x4d32a8,_0x39304b);break;case 0x1424+-0x812+-0x1*0xc11:_0xf123be['set'](_0x39304b,_0x267ca1,_0x4d32a8,_0x4629ce);break;case-0x121*-0x13+-0x299+-0x12d8:_0xf123be['set'](_0x267ca1,_0x39304b,_0x4d32a8,_0x4629ce);break;case-0x250d+-0xb98+0x8*0x615:_0xf123be['set'](_0x267ca1,_0x4d32a8,_0x39304b,_0x4629ce);break;}},_0x2956ea=(_0x410f10,_0x41f107,_0x3468eb)=>_0x410f10*(-0x983+-0x249+-0x39*-0x35-_0x3468eb)+_0x41f107*_0x3468eb,{chunkData:_0x46fd7b,chunkSize:_0x410b10,vertexData:_0x2ad334,shData:_0x3a7fbb,shBands:_0x20b8f8}=_0x103918,_0x5923b6=[0x6*-0x599+0xdd*0x19+0xc04*0x1,-0x17d5+-0x1786+0x2f63,0x561+0x1e78+-0x23ca][_0x20b8f8-(0x475+-0x17*0x1ab+-0x21e9*-0x1)],_0x34f244=-0x2410+-0x1db0+0x41c6;this['read']=_0x18b59c=>{const _0x762ea6=Math['floor'](_0x18b59c/(0x22de*0x1+0x209a+-0x4278))*_0x410b10;if(_0x5227ca&&(_0x11b42e(_0x5227ca,_0x2ad334[_0x18b59c*_0x34f244+(-0x4f*0x42+0x2e3*-0xa+0x17*0x224)]),_0x5227ca['x']=_0x2956ea(_0x46fd7b[_0x762ea6+(0xa1a+-0x1*0x21b7+-0x1f*-0xc3)],_0x46fd7b[_0x762ea6+(0x1425+-0x1*0x1ab9+0x697)],_0x5227ca['x']),_0x5227ca['y']=_0x2956ea(_0x46fd7b[_0x762ea6+(-0x23d0+0x12cd*0x1+0x1104)],_0x46fd7b[_0x762ea6+(-0x2454+-0x5*0x31e+0x33ee)],_0x5227ca['y']),_0x5227ca['z']=_0x2956ea(_0x46fd7b[_0x762ea6+(0x563+-0x765+0x204)],_0x46fd7b[_0x762ea6+(-0x82b+0x1024+-0x7f4)],_0x5227ca['z'])),_0x4023b8&&_0x3c4948(_0x4023b8,_0x2ad334[_0x18b59c*_0x34f244+(-0x1de5+-0x1498+0x119*0x2e)]),_0x25e7d6&&(_0x11b42e(_0x25e7d6,_0x2ad334[_0x18b59c*_0x34f244+(-0x1a24+-0x10*-0xb+-0xcbb*-0x2)]),_0x25e7d6['x']=_0x2956ea(_0x46fd7b[_0x762ea6+(0x219b*-0x1+0xf91+0x88*0x22)],_0x46fd7b[_0x762ea6+(0xb56+-0xaba+0x7*-0x15)],_0x25e7d6['x']),_0x25e7d6['y']=_0x2956ea(_0x46fd7b[_0x762ea6+(-0x139*-0xb+-0xe39*0x1+0xcd)],_0x46fd7b[_0x762ea6+(0x10d6+-0x65*-0x3+-0x1*0x11fb)],_0x25e7d6['y']),_0x25e7d6['z']=_0x2956ea(_0x46fd7b[_0x762ea6+(-0x389*0x2+-0x1*0xc85+0x139f*0x1)],_0x46fd7b[_0x762ea6+(-0xf37*-0x2+0x1229+-0x308c)],_0x25e7d6['z'])),_0x3273ef&&(_0x5d5eee(_0x3273ef,_0x2ad334[_0x18b59c*_0x34f244+(0x538*-0x4+-0x180d+0x2cf0)]),_0x410b10>-0x882+-0x13c7+-0x1*-0x1c55&&(_0x3273ef['x']=_0x2956ea(_0x46fd7b[_0x762ea6+(-0x15f6+0x1*0x224d+0x1*-0xc4b)],_0x46fd7b[_0x762ea6+(-0x58d*0x5+0x2003+-0x433)],_0x3273ef['x']),_0x3273ef['y']=_0x2956ea(_0x46fd7b[_0x762ea6+(-0x18ca+-0x11*-0x1d9+-0x692)],_0x46fd7b[_0x762ea6+(0x7*0x24f+0x2f6*-0xd+0x1665)],_0x3273ef['y']),_0x3273ef['z']=_0x2956ea(_0x46fd7b[_0x762ea6+(0x4*-0x1e2+0x1*-0x1807+0x1f9d)],_0x46fd7b[_0x762ea6+(-0x9*0xea+-0x1f88+-0x7f7*-0x5)],_0x3273ef['z']))),_0x147c27&&(_0x11b42e(_0x147c27,_0x2ad334[_0x18b59c*_0x34f244+(0x7*-0x3db+-0xd37+0x2838)]),_0x147c27['x']=_0x2956ea(_0x46fd7b[_0x762ea6+(-0x4a9*0x4+0xcb6+0x600)],_0x46fd7b[_0x762ea6+(0xef*0x24+0x1a76+0x13ff*-0x3)],_0x147c27['x']),_0x147c27['y']=_0x2956ea(_0x46fd7b[_0x762ea6+(0x3b*0x5+-0xf91+0x1*0xe7d)],_0x46fd7b[_0x762ea6+(-0x5*-0x291+0x1*-0x24b5+-0x1*-0x17f6)],_0x147c27['y']),_0x147c27['z']=_0x2956ea(_0x46fd7b[_0x762ea6+(-0x1f07*0x1+0x584+0x1997*0x1)],_0x46fd7b[_0x762ea6+(0x2648+-0x19a6+-0xc8b)],_0x147c27['z'])),_0x28b462&&(_0x11b42e(_0x28b462,_0x2ad334[_0x18b59c*_0x34f244+(0x1244+0x111*0xf+-0x223e)]),_0x28b462['x']=_0x2956ea(_0x46fd7b[_0x762ea6+(0xdf0*0x1+0xf*0x1b1+0x1*-0x2737)],_0x46fd7b[_0x762ea6+(-0x22be+0xea1+0x1436)],_0x28b462['x']),_0x28b462['y']=_0x2956ea(_0x46fd7b[_0x762ea6+(0x1f40+0x19*0x8b+-0x6b*0x6b)],_0x46fd7b[_0x762ea6+(-0x258e+-0x3*-0x359+-0x586*-0x5)],_0x28b462['y'])),_0xeb1c84&&_0x20b8f8>0x2413+-0x181d+-0x5fb*0x2){for(let _0x130dc2=0xb1d+0x70d*0x1+-0x122a;_0x130dc2<0x2633+0x222f+0xbf*-0x61;++_0x130dc2)for(let _0x2e9520=-0x1383+0x4f5+-0x36*-0x45;_0x2e9520<-0x1*0x1f39+0x16*-0x88+-0x64*-0x6e;++_0x2e9520)_0xeb1c84[_0x130dc2*(0x1632+-0x1b36+-0x1b1*-0x3)+_0x2e9520]=_0x2e9520<_0x5923b6?_0x3a7fbb[(_0x18b59c*(0x1*0x46d+0x1*-0x1e67+0x19fd)+_0x130dc2)*_0x5923b6+_0x2e9520]*((-0x982*-0x2+-0x1*-0x1b87+0x93*-0x51)/(-0x1*-0x77c+-0xd*0x2e1+0x1ef0))-(0x192*-0x12+0x164d+-0x1*-0x5fb):-0x6d*0x46+-0xe46*0x1+0x2c14;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x9405fa,_0x17b326,_0x2a9d19,_0x3d86af,_0x551b87,_0x93f53f,_0x3487ee){return new R2(this,_0x9405fa,_0x17b326,_0x2a9d19,_0x3d86af,_0x551b87,_0x93f53f,_0x3487ee);}['calcAabb'](_0x44c07d){const {chunkData:_0x12ea6d,numChunks:_0x155864,chunkSize:_0x4b9449}=this;let _0x5573aa=Math['exp'](Math['max'](_0x12ea6d[0x3a9*-0x8+-0x2686+0x7*0x9b1],_0x12ea6d[0x766+-0x26dd+0x1f81],_0x12ea6d[-0x1*0xdce+-0x1*0x9d5+0x17ae])),_0x210e96=_0x12ea6d[0x111c+-0x90b*0x2+0xfa]-_0x5573aa,_0x3e49e0=_0x12ea6d[-0x14*-0x1d+-0x1*-0x5b3+0x2*-0x3fb]-_0x5573aa,_0x13b99d=_0x12ea6d[-0x1*0x24a6+-0x13*0xa3+0x30c1]-_0x5573aa,_0x45b4d2=_0x12ea6d[0x22a8+-0xaf7+-0x17ae]+_0x5573aa,_0x307219=_0x12ea6d[-0x1061+-0x3*-0x335+0x6c6]+_0x5573aa,_0x2edf40=_0x12ea6d[0x1d87*0x1+-0x62f+-0x1753]+_0x5573aa;for(let _0x1e21cb=-0x17e4+-0x7b*0xe+-0x27*-0xc9;_0x1e21cb<_0x155864;++_0x1e21cb){const _0x5a29f0=_0x1e21cb*_0x4b9449;_0x5573aa=Math['exp'](Math['max'](_0x12ea6d[_0x5a29f0+(-0x17+-0x593+-0x5b3*-0x1)],_0x12ea6d[_0x5a29f0+(0x228+0x1ed2+-0x20f0)],_0x12ea6d[_0x5a29f0+(0xca5+0xdcd*0x2+-0x2834)])),_0x210e96=Math['min'](_0x210e96,_0x12ea6d[_0x5a29f0+(0x9*-0x175+0xe5*0x26+0x14e1*-0x1)]-_0x5573aa),_0x3e49e0=Math['min'](_0x3e49e0,_0x12ea6d[_0x5a29f0+(-0x1993+0x1f5b+-0x5c7)]-_0x5573aa),_0x13b99d=Math['min'](_0x13b99d,_0x12ea6d[_0x5a29f0+(0x5c0+0x25*0xdd+-0x25af)]-_0x5573aa),_0x45b4d2=Math['max'](_0x45b4d2,_0x12ea6d[_0x5a29f0+(0xe59+0x3*-0x17b+-0x11*0x95)]+_0x5573aa),_0x307219=Math['max'](_0x307219,_0x12ea6d[_0x5a29f0+(-0x4*0x6fd+-0x1d11+0x3909)]+_0x5573aa),_0x2edf40=Math['max'](_0x2edf40,_0x12ea6d[_0x5a29f0+(-0x239e+-0x3*-0xad6+0x321*0x1)]+_0x5573aa);}return _0x44c07d['center']['set']((_0x210e96+_0x45b4d2)*(-0x1e5*0x11+0x22c9+-0x21*0x14+0.5),(_0x3e49e0+_0x307219)*(0x1433+-0x20f1+0xe9*0xe+0.5),(_0x13b99d+_0x2edf40)*(0x1*0xcbf+-0x617*0x3+0x586+0.5)),_0x44c07d['halfExtent'+'s']['set']((_0x45b4d2-_0x210e96)*(0x20c9+-0x1b5c+-0x1*0x56d+0.5),(_0x307219-_0x3e49e0)*(-0x8e2+-0x350+0xc32+0.5),(_0x2edf40-_0x13b99d)*(0x1d31+0x2*0x85b+-0x3*0xf4d+0.5)),!(0x1be9*-0x1+-0x215b*-0x1+-0x11*0x52);}['getCenters'](_0x1ca16a){const {vertexData:_0x3c3e48,chunkData:_0x2c2a10,numChunks:_0x53b26d,chunkSize:_0xb71c14}=this;let _0xb3ff1e,_0x18d6f2,_0x2d5f38,_0x193994,_0x492638,_0x5dd37a;for(let _0x35b3a4=0x522+0x8c5*0x3+-0x1f71;_0x35b3a4<_0x53b26d;++_0x35b3a4){const _0x1d974c=_0x35b3a4*_0xb71c14;_0xb3ff1e=_0x2c2a10[_0x1d974c+(-0x4*-0x7e0+-0x1a42+-0x53e)],_0x18d6f2=_0x2c2a10[_0x1d974c+(-0x1983+-0x85c+0x21e0*0x1)],_0x2d5f38=_0x2c2a10[_0x1d974c+(-0x7c9+0x793*0x5+0x8c*-0x37)],_0x193994=_0x2c2a10[_0x1d974c+(0x12bb+-0x4*-0x211+0x13a*-0x16)],_0x492638=_0x2c2a10[_0x1d974c+(0x72e*-0x2+-0x5b6*-0x4+-0x878)],_0x5dd37a=_0x2c2a10[_0x1d974c+(0x1d14+0x2e*0x97+0x1*-0x3831)];const _0x54a659=Math['min'](this['numSplats'],(_0x35b3a4+(0x1*-0x175c+0x1fd4+0xc5*-0xb))*(-0xdd*-0x23+-0x6b6+-0x1*0x1681));for(let _0x1bd14b=_0x35b3a4*(0x10dd+-0x235a+-0x1*-0x137d);_0x1bd14b<_0x54a659;++_0x1bd14b){const _0x1e4d78=_0x3c3e48[_0x1bd14b*(-0x1f*-0x2+0x517+-0x551*0x1)],_0x30deeb=(_0x1e4d78>>>0x2b*-0xd5+0x63e+0x1be*0x11)/(0xa3a+-0x7*-0x2cf+-0x15e4),_0x327175=(_0x1e4d78>>>0x79a+-0x2306+0x59*0x4f&-0x1c*-0x38+-0x1ed4+0x4f*0x5d)/(0x224b+0x12bc*-0x1+0x172*-0x8),_0x38af27=(_0x1e4d78&-0x1d33*0x1+-0x5fc*0x3+0xd*0x43e)/(-0x1cc3+0xbf*0x1d+0xf1f);_0x1ca16a[_0x1bd14b*(-0x3e2+-0x13cc*-0x1+-0xfe7)+(0x1397+-0x1d6*0x3+-0xe15)]=(-0x1d*-0x1f+0x22ad+-0x262f-_0x30deeb)*_0xb3ff1e+_0x30deeb*_0x193994,_0x1ca16a[_0x1bd14b*(-0x18e9+-0x2*-0xffd+-0x56*0x15)+(-0x25de+0x1c94+0xd*0xb7)]=(0x1f9c+-0x1362+-0xc39-_0x327175)*_0x18d6f2+_0x327175*_0x492638,_0x1ca16a[_0x1bd14b*(-0x15bd+0x1*-0x1baa+-0x5*-0x9e2)+(0x69b*0x3+0xd2*0xb+0x3d*-0x79)]=(-0x1579+-0x1464+0x29de*0x1-_0x38af27)*_0x2d5f38+_0x38af27*_0x5dd37a;}}}['calcFocalP'+'oint'](_0x26fd02){const {chunkData:_0x1f0415,numChunks:_0x553438,chunkSize:_0x4271d8}=this;_0x26fd02['x']=0x95*-0x1f+-0x1286+0x2491,_0x26fd02['y']=0x1ae3+-0x1b03+0x20,_0x26fd02['z']=0x4*-0x71f+0x24a5+-0x829;for(let _0x2b1eae=-0x1cb5+0x3a*-0xa3+0x74b*0x9;_0x2b1eae<_0x553438;++_0x2b1eae){const _0xcdca51=_0x2b1eae*_0x4271d8;_0x26fd02['x']+=_0x1f0415[_0xcdca51+(-0xc0+-0x42d+-0x4ed*-0x1)]+_0x1f0415[_0xcdca51+(-0x67f+-0x1ee0+-0xc76*-0x3)],_0x26fd02['y']+=_0x1f0415[_0xcdca51+(-0x1*0x83+0x8*-0x3fd+0x206c)]+_0x1f0415[_0xcdca51+(0x5e*-0x1e+0x30*0x3d+-0x68)],_0x26fd02['z']+=_0x1f0415[_0xcdca51+(-0x670+-0x2d*-0xa9+0x18d*-0xf)]+_0x1f0415[_0xcdca51+(0x174b*-0x1+-0x14db+-0x2c2b*-0x1)];}_0x26fd02['mulScalar']((-0x19a*-0x3+-0x689*-0x5+-0x257b+0.5)/_0x553438);}get['isCompress'+'ed'](){return!(-0x6d*0x10+0x1*-0x1a+-0x2*-0x375);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x2*0x7a7+0x18d1+-0x883));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x1424d0;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x1424d0=this['shData'])==null?void(-0x1d08+0x7*0x39f+0x1*0x3af):_0x1424d0['length'])/this['numSplats']/(-0xb*0x203+-0x1*-0x332+0x12f2)]??0x49e*0x7+0x139*-0x1a+-0x88;}async['decompress'](){const _0x4d3dee=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x933a8c}=this;if(_0x933a8c>0x6a+0x1*-0x1fbb+-0x1f51*-0x1){const _0x5acec5=[];for(let _0x27ce3d=-0x3ec+0x2646*-0x1+0x2a32;_0x27ce3d<0x11d7*0x1+-0x522+-0x644*0x2;++_0x27ce3d)_0x5acec5['push']('f_rest_'+_0x27ce3d);_0x4d3dee['splice'](_0x4d3dee['indexOf']('f_dc_0')+(-0x3d6+-0x79c+0xb73),0x1*-0x111b+-0x1d7e+0x2e99,..._0x5acec5);}const _0x54e742={};_0x4d3dee['forEach'](_0x114fa0=>{_0x54e742[_0x114fa0]=new Float32Array(this['numSplats']);});const _0x3e1213=new P2();return _0x3e1213['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x54e742),new Promise((_0x6d5070,_0xbcb5c8)=>{_0x3e1213['on']('decompress'+'ed',_0x4d9306=>{_0x3e1213['destroy'](),_0x6d5070(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x4d3dee['map'](_0x3c209d=>({'name':_0x3c209d,'type':'float','byteSize':0x4,'storage':_0x4d9306[_0x3c209d]}))}]));});});}}const D2=(_0x582380,_0x43741a,_0x3f2b17,_0x28ebcf,_0x1cda89)=>{for(let _0x5d59b9=-0x14f6+-0x168b+0x2b81;_0x5d59b9<_0x1cda89;++_0x5d59b9)for(let _0x366e71=-0xa35+-0x2*0x107e+0x2b31;_0x366e71<_0x28ebcf;++_0x366e71)_0x582380[_0x5d59b9*_0x43741a+_0x366e71]=_0x3f2b17[_0x5d59b9*_0x28ebcf+_0x366e71];},zg=(_0x83b109,_0x57e99a,_0x320481,_0x550918,_0x44749d,_0x3a7b83)=>{for(let _0x3dfc01=-0x21f7+-0x3*0xacb+-0x212c*-0x2;_0x3dfc01<_0x44749d;++_0x3dfc01)for(let _0x26415c=-0x19be+0x59*-0x6a+0x3e98;_0x26415c<_0x550918;++_0x26415c)_0x83b109[_0x3dfc01*_0x57e99a+_0x26415c]=_0x320481[_0x3dfc01*_0x550918+_0x26415c+_0x3a7b83];};class L2{constructor(_0x2de2a3,_0x19f086){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x185dea,chunkSize:_0x2b0c8b,numChunks:_0x4527b1,numSplats:_0xb58bcf,vertexData:_0x3e2c79,shBands:_0xe21b6c,is4D:_0x33934b}=_0x19f086;this['device']=_0x2de2a3,this['numSplats']=_0xb58bcf,this['numVisible'+'Splats']=_0xb58bcf,this['is4D']=_0x33934b,this['aabb']=new _e(),_0x19f086['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0xb58bcf*(-0x1ba6+-0x7f*0x1b+0x290e)),_0x19f086['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0xb58bcf));const _0x298c69=this['packedText'+'ure']['lock']();zg(_0x298c69,-0x86+0x1cf9*0x1+-0xfb*0x1d,_0x3e2c79,-0x1f24+-0x1c48+-0x1db9*-0x2,_0xb58bcf,-0x5e*-0x51+-0xb0f+-0x1*0x12af),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0xb58bcf));const _0xe6a04=this['packedTime'+'Texture']['lock']();zg(_0xe6a04,-0x1e7e+-0x534+0x392*0xa,_0x3e2c79,-0x796*-0x1+-0x1aa1+0x1311,_0xb58bcf,0x21d7+0x2562+-0x4735);const _0x30272c=this['evalTextur'+'eSize'](_0x4527b1);_0x30272c['x']*=-0x10d6+0x15*0x25+0xdd4,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x30272c);const _0x3539df=this['chunkTextu'+'re']['lock']();if(D2(_0x3539df,(0xbd5*0x2+0x2*-0x853+0xe0*-0x8)*(0x979+0x7c9+0x113b*-0x1),_0x185dea,_0x2b0c8b,_0x4527b1),_0x2b0c8b===-0x179*-0x18+-0x20b*-0x6+-0x2f8e){for(let _0x28cc0a=0xc39+-0x147e+0x845*0x1;_0x28cc0a<_0x4527b1;++_0x28cc0a)_0x3539df[_0x28cc0a*(0x1ba1+-0x1*0x667+-0x1*0x1526)+(-0x1*0x837+-0x1*0x170d+0x1f53)]=0xc95+0xec3*-0x2+-0x9*-0x1e2,_0x3539df[_0x28cc0a*(-0xc92*0x1+-0x1*-0x1006+0x4*-0xd8)+(0x167*0x13+-0x264d+0xbb8)]=0x32b*-0x1+0x653+-0x10d*0x3,_0x3539df[_0x28cc0a*(-0xfe*0x4+0x233e+-0x1f32)+(-0xd74+0x229e+-0x1519)]=-0x4b4+-0x2639+0x2aee;}if(this['chunkTextu'+'re']['unlock'](),_0xe21b6c>-0xc67+0x712+0x555){const {shData:_0x3ecca4}=_0x19f086,_0x2b987c=this['evalTextur'+'eSize'](_0xb58bcf),_0x2da7eb=this['createText'+'ure']('shTexture0',ut,_0x2b987c),_0x29ea93=this['createText'+'ure']('shTexture1',ut,_0x2b987c),_0x5a3f19=this['createText'+'ure']('shTexture2',ut,_0x2b987c),_0x51cb0b=_0x2da7eb['lock'](),_0x509329=_0x29ea93['lock'](),_0xaf26d2=_0x5a3f19['lock'](),_0x305098=new Uint8Array(_0x51cb0b['buffer']),_0x2ad574=new Uint8Array(_0x509329['buffer']),_0x1dba84=new Uint8Array(_0xaf26d2['buffer']),_0x60d39d=[-0x26a6+-0xe94+0x353d,-0xd*-0x165+-0x7e0+-0xa39,0xd03+-0x28*-0x82+0x1*-0x2144][_0xe21b6c-(0x1ebd+-0x22af+0x3f3)];for(let _0x3574a1=0xf*0x61+-0xdf*-0x1a+-0x1c55;_0x3574a1<_0xb58bcf;++_0x3574a1)for(let _0x3a93b3=0x92f*-0x2+0x3a1+0xebd;_0x3a93b3<0x17b*-0x1a+0x234e*-0x1+0x49db;++_0x3a93b3)_0x305098[_0x3574a1*(-0x1083+-0x15ec+-0x9*-0x447)+_0x3a93b3]=_0x3a93b3<_0x60d39d?_0x3ecca4[(_0x3574a1*(-0x1*-0x1e2f+-0x18b9+-0x573)+(-0x200+0x7ad*-0x2+0x1*0x115a))*_0x60d39d+_0x3a93b3]:0x1319*0x2+-0x15*0x189+-0x576,_0x2ad574[_0x3574a1*(0x65c+-0xd8f+0x743)+_0x3a93b3]=_0x3a93b3<_0x60d39d?_0x3ecca4[(_0x3574a1*(-0x1*-0x690+-0x19*0xcb+-0x2*-0x6a3)+(0x1*-0x1849+-0x2324+0x2*0x1db7))*_0x60d39d+_0x3a93b3]:0x13*0xe4+-0xb23*0x2+0x3*0x1f3,_0x1dba84[_0x3574a1*(-0xceb*-0x1+0xb47+-0x1822)+_0x3a93b3]=_0x3a93b3<_0x60d39d?_0x3ecca4[(_0x3574a1*(-0x56*0x65+0x24c5+-0x2d4)+(0x1040+0x26cd+-0x370b))*_0x60d39d+_0x3a93b3]:0x2c2+-0x24+-0x3*0xb5;_0x2da7eb['unlock'](),_0x29ea93['unlock'](),_0x5a3f19['unlock'](),this['shTexture0']=_0x2da7eb,this['shTexture1']=_0x29ea93,this['shTexture2']=_0x5a3f19;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x14a5c6,_0x42de1b,_0x3ed423,_0x27ee47,_0xc4cdf7,_0x383172;(_0x14a5c6=this['packedText'+'ure'])==null||_0x14a5c6['destroy'](),(_0x42de1b=this['packedTime'+'Texture'])==null||_0x42de1b['destroy'](),(_0x3ed423=this['chunkTextu'+'re'])==null||_0x3ed423['destroy'](),(_0x27ee47=this['shTexture0'])==null||_0x27ee47['destroy'](),(_0xc4cdf7=this['shTexture1'])==null||_0xc4cdf7['destroy'](),(_0x383172=this['shTexture2'])==null||_0x383172['destroy']();}['createMate'+'rial'](_0x51139b){const _0x2137c7=z0(_0x51139b);return _0x2137c7['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0xf73+-0x1e85+0x2df8)),_0x2137c7['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x2137c7['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x2137c7['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x2137c7['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x2137c7['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x2137c7['setDefine']('SH_BANDS',-0x2434+0x221*0xb+0xccc),_0x2137c7['setParamet'+'er']('shTexture0',this['shTexture0']),_0x2137c7['setParamet'+'er']('shTexture1',this['shTexture1']),_0x2137c7['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x2137c7['setDefine']('SH_BANDS',-0x2445+0x1*0x1d0b+0x73a),_0x2137c7;}['evalTextur'+'eSize'](_0x4b84c7){const _0x1aa9d1=Math['ceil'](Math['sqrt'](_0x4b84c7)),_0x39b416=Math['ceil'](_0x4b84c7/_0x1aa9d1);return new W(_0x1aa9d1,_0x39b416);}['createText'+'ure'](_0x4d5fd0,_0x145345,_0x48e5f0,_0x1fe272){return new he(this['device'],{'name':_0x4d5fd0,'width':_0x48e5f0['x'],'height':_0x48e5f0['y'],'format':_0x145345,'cubemap':!(-0x7*0x25e+0xc*0x3+0x106f*0x1),'mipmaps':!(-0x2334+0x1*0x337+0x1ffe),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x1fe272?{'levels':[_0x1fe272]}:{}});}}class F2{constructor(_0x48a14d,_0x4e57a5,_0xf3fdd){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x48a14d,this['splatData']=_0x4e57a5,this['comments']=_0xf3fdd);}['destroy'](){var _0x404bbb;this['device']=null,this['splatData']=null,(_0x404bbb=this['splat'])==null||_0x404bbb['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x17c39b,_0x4cd1da,_0x44ab05){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x4cd1da,this['splatData']['appendGSpl'+'atData'](_0x17c39b,_0x44ab05,_0x4cd1da),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x3475fe={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x3475fe);const _0x5b6e01=new We(),_0x5af00c=_0x5b6e01['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x5b6e01['setLocalEu'+'lerAngles'](-0x322+0x1516+-0xc*0x17f,-0xa5*-0x2c+0x12fb+-0x2f57*0x1,0x155*-0x11+0x32e+0x1377),_0x5af00c['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x5b6e01;}['createInst'+'ance'](_0x41b0da={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x3b14f9=this['createSpla'+'t']();return new Np(_0x3b14f9,_0x41b0da);}}const Ug=new Uint8Array([-0x1acd*0x1+0x1698+0x4a5,-0x1f54+-0x1628+0x35e8,-0x17d5+-0x228f+0x3add,0x17*-0x14f+-0x2bb+0x1*0x20de]),Vg=new Uint8Array([0x769+0x1*0xec+-0x84b,-0x12f*0x13+-0x17b*-0x12+-0x1e2*0x2,0x839+0x20d*0xf+0x11a*-0x23,0x9*0x407+0x23e+0x1*-0x2619,0x513*0x3+0x1*0xcc7+-0x1ba1,-0x2443+0x1717+0x9e*0x16,-0x1fd*0xf+-0xa*0x145+0x2aea,-0x9*-0x1cf+-0x649*0x1+-0x1*0x99d,0x2709+-0xa*-0x107+-0x1*0x30eb,-0x1bca+-0x1*-0x4f7+0x1738,0x1d65+-0x1*0xe8a+-0x1*0xe69,0x3*0x2ab+0x17d+0x1*-0x974]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x597929,_0x26e4a1){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',0x155f*-0x1+-0x12*0x209+0x1f*0x1df),c(this,'tail',0x515+-0x152b+0x1016),(this['reader']=_0x597929,this['progressFu'+'nc']=_0x26e4a1);}async['read'](){var _0xa0afaf;const {value:_0x2d7c0b,done:_0x29ffa3}=await this['reader']['read']();if(_0x29ffa3)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x2d7c0b),(_0xa0afaf=this['progressFu'+'nc'])==null||_0xa0afaf['call'](this,_0x2d7c0b['byteLength']);}['push'](_0x533d60){if(!this['data'])this['data']=_0x533d60,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x533d60['length'];else{const _0x350552=this['tail']-this['head'],_0x2a9e84=_0x350552+_0x533d60['length'];if(this['data']['length']>=_0x2a9e84)this['head']>-0x206f+-0x13*0x1ae+0x4059?(this['data']['copyWithin'](-0x1f2c+-0x5*0x133+0x252b,this['head'],this['tail']),this['data']['set'](_0x533d60,_0x350552),this['head']=0x2084+-0x19*-0x107+-0x3a33,this['tail']=_0x2a9e84):(this['data']['set'](_0x533d60,this['tail']),this['tail']+=_0x533d60['length']);else{const _0x37bb9b=new Uint8Array(_0x2a9e84);this['head']>-0x9d7+0x2*0x41e+0x89*0x3||this['tail']<this['data']['length']?_0x37bb9b['set'](this['data']['subarray'](this['head'],this['tail']),0x25c6+0x10*0x1b3+-0x40f6):_0x37bb9b['set'](this['data'],0x34*-0x56+0x3*-0xcc9+0x37d3),_0x37bb9b['set'](_0x533d60,_0x350552),this['data']=_0x37bb9b,this['view']=new DataView(this['data']['buffer']),this['head']=-0x22f4+-0x602*0x1+-0x2ed*-0xe,this['tail']=_0x2a9e84;}}}['compact'](){this['head']>0xfe5+-0xe*0x176+0x185*0x3&&(this['data']['copyWithin'](0x5*-0x243+0x2e*0x2d+0x339,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x1125+0x2*-0x2f6+-0x5*-0x49d);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x20df12=this['view']['getInt8'](this['head']);return this['head']++,_0x20df12;}['getUint8'](){const _0xb096cc=this['view']['getUint8'](this['head']);return this['head']++,_0xb096cc;}['getInt16'](){const _0x236d85=this['view']['getInt16'](this['head'],!(0x1e71+0x6dd+-0x254e));return this['head']+=0x15f0+-0x3*0x3e6+-0xa3c,_0x236d85;}['getUint16'](){const _0xa6c01=this['view']['getUint16'](this['head'],!(0xc95+0x8*-0xba+-0x6c5*0x1));return this['head']+=-0x8ba*0x3+0xec0+-0x6*-0x1e8,_0xa6c01;}['getInt32'](){const _0x31cc63=this['view']['getInt32'](this['head'],!(-0x6*-0x37c+-0x11c*-0x9+-0x293*0xc));return this['head']+=-0x1cc9*-0x1+0x149*-0x6+-0x150f,_0x31cc63;}['getUint32'](){const _0x15a58b=this['view']['getUint32'](this['head'],!(-0x1b82+0x283*0x1+0x18ff));return this['head']+=0xcff*0x1+-0xe07+-0x10c*-0x1,_0x15a58b;}['getFloat32'](){const _0x13c9a1=this['view']['getFloat32'](this['head'],!(0xc0e*-0x1+-0x301+-0x101*-0xf));return this['head']+=-0x141d+-0x1*-0x8db+0xb46,_0x13c9a1;}['getFloat64'](){const _0x3d56e9=this['view']['getFloat64'](this['head'],!(0x11a+0x1eb9*-0x1+0x1d9f));return this['head']+=0x6fd*0x5+0x11*-0x59+-0x8*0x3a0,_0x3d56e9;}}const k2=_0x427d40=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x256dc9=[],_0x1309a0=[];let _0x1fb615;for(let _0x13c8b5=0x2688+-0x128c+0x9b*-0x21;_0x13c8b5<_0x427d40['length'];++_0x13c8b5){const _0xee1bca=_0x427d40[_0x13c8b5]['split']('\x20');switch(_0xee1bca[0x463*0x7+0xca5+-0x3e*0xb3]){case'comment':_0x1309a0['push'](_0xee1bca['slice'](0x2*0xb56+0x1*0x2587+-0x3c32)['join']('\x20'));break;case'format':_0x1fb615=_0xee1bca[-0x19d4+0x2333+-0x95e];break;case'element':_0x256dc9['push']({'name':_0xee1bca[0x91a+-0x2*-0x251+0xdbb*-0x1],'count':parseInt(_0xee1bca[-0x47*-0x2a+0x3*-0x535+0x3fb],-0xb*-0x1eb+-0x20c0*0x1+-0xbb1*-0x1),'properties':[]});break;case'property':{if(!bf['has'](_0xee1bca[-0x1b51+0x1869+0x2e9]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0xee1bca[-0x8*-0x1d3+-0x130c+0x7*0xa3]+('\x27\x20in\x20ply\x20h'+'eader'));_0x256dc9[_0x256dc9['length']-(0x1e11+-0x1dee+0x1*-0x22)]['properties']['push']({'type':_0xee1bca[-0x2693+-0x1*-0x190f+0xd85*0x1],'name':_0xee1bca[-0x49*0x47+-0x1d6f+0x1e*0x1a8],'storage':null,'byteSize':bf['get'](_0xee1bca[0xd*-0x103+-0x1588+0x22b0])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0xee1bca[0x1c0b*-0x1+-0x1*0xca4+0x28af]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x256dc9,'format':_0x1fb615,'comments':_0x1309a0};},B2=_0x58899a=>{const _0x3e53f6=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x25e08f=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x20dfe1=new Array(-0x1*-0xa1c+0x2*-0x7+-0x9e1)['fill']('')['map']((_0x50935e,_0x1c2aec)=>'f_rest_'+_0x1c2aec),_0x40d800=()=>_0x58899a[0x65*0x2d+-0x1661*-0x1+-0x2822]['name']==='chunk'&&_0x58899a[0x5ac+-0x24df+-0x31*-0xa3]['properties']['every']((_0x893327,_0x47aba5)=>_0x893327['name']===_0x3e53f6[_0x47aba5]&&_0x893327['type']==='float')&&_0x58899a[0x41a*-0x8+-0x252d+0x1f*0x242]['name']==='vertex'&&_0x58899a[0x157*0x16+0x5e1+0xa*-0x389]['properties']['every']((_0x16718e,_0xb4bd14)=>_0x16718e['name']===_0x25e08f[_0xb4bd14]&&_0x16718e['type']==='uint'),_0x52b1af=()=>_0x58899a[-0x8ad+0x1*0x1c19+-0x8e*0x23]['name']==='sh'&&[0x11*0x161+0xc+-0x1774,-0x78b*0x3+0x12*-0x1b5+0x1*0x3573,0x125*-0x2+0x183b*-0x1+0x1ab2]['indexOf'](_0x58899a[-0x218f+-0x3*-0x5d5+0x1012]['properties']['length'])!==-(0x1ecd+0x193f*-0x1+-0x58d)&&_0x58899a[0xe8+0x43*-0x1d+0x6b1*0x1]['properties']['every']((_0x296903,_0x28f46c)=>_0x296903['name']===_0x20dfe1[_0x28f46c]&&_0x296903['type']==='uchar');return _0x58899a['length']===0xd87*0x1+-0x214a+0x697*0x3&&_0x40d800()||_0x58899a['length']===0x283*-0xb+0x61*-0x16+0x5*0x732&&_0x40d800()&&_0x52b1af();},N2=_0xe6beef=>_0xe6beef['length']===-0x442*-0x1+0x16f4+0x3e3*-0x7&&_0xe6beef[-0x5f*0x2b+0x6a6+0x1*0x94f]['name']==='vertex'&&_0xe6beef[0x19ea+-0x8e5+-0x1*0x1105]['properties']['every'](_0x10c8f0=>_0x10c8f0['type']==='float'),z2=async(_0x1c4431,_0xc433d2)=>{const _0x4717a6=new I2(),_0x5ee37a=_0xc433d2[-0xedb+-0x1094+0x1f6f]['count'],_0x422195=_0xc433d2[0x13ff*0x1+0x7*-0x422+0x8ef*0x1]['properties']['length'],_0x5685e2=_0xc433d2[-0x162d+0x1ead*-0x1+-0x1*-0x34db]['count'],_0x3c3bf9=_0xc433d2[-0xba5+0x1266+-0x6c0]['properties']['some'](_0x17152a=>_0x17152a['name']==='packed_tim'+'e'),_0x3b995c=_0x585171=>{const _0x3de2c9=Math['ceil'](Math['sqrt'](_0x585171)),_0x378569=Math['ceil'](_0x585171/_0x3de2c9);return _0x3de2c9*_0x378569;};_0x4717a6['numSplats']=_0x5685e2,_0x4717a6['is4D']=_0x3c3bf9,_0x4717a6['chunkData']=new Float32Array(_0x5ee37a*_0x422195),_0x4717a6['vertexData']=new Uint32Array(_0x3b995c(_0x5685e2)*(0x151*0xf+-0x2559+-0x30*-0x5e));const _0x22958f=async(_0x27cc9d,_0x4d423c)=>{const _0x5ba88c=new Uint8Array(_0x27cc9d);let _0x107d29=-0x774+-0xd9d+0x1511;for(;_0x107d29<_0x4d423c;){for(;_0x1c4431['remaining']===-0x4b3+-0xacb+0xf7e;)await _0x1c4431['read']();const _0x1a3f86=Math['min'](_0x4d423c-_0x107d29,_0x1c4431['remaining']),_0x5b5205=_0x1c4431['data'];for(let _0x18f3b9=-0xc83+-0x23b5+0x3038;_0x18f3b9<_0x1a3f86;++_0x18f3b9)_0x5ba88c[_0x107d29++]=_0x5b5205[_0x1c4431['head']++];}};return await _0x22958f(_0x4717a6['chunkData']['buffer'],_0x5ee37a*_0x422195*(0xc34+0xc49+-0x1879)),await _0x22958f(_0x4717a6['vertexData']['buffer'],_0x5685e2*(-0x127+-0x392+0x4bf)*(0x8*-0xfd+-0x101e*-0x1+-0x832*0x1)),_0xc433d2['length']===0x1*-0x8cc+-0x13a8+-0x15*-0x15b&&(_0x4717a6['shData']=new Uint8Array(_0xc433d2[0x101*0x1+-0x12b*0x1+0x2c]['count']*_0xc433d2[0x1c*0x12c+0x1927+-0x25*0x191]['properties']['length']),await _0x22958f(_0x4717a6['shData']['buffer'],_0x4717a6['shData']['byteLength'])),_0x4717a6;},U2=async(_0x556020,_0x4f1113)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x19c6a7=_0x4f1113[-0x146*0x13+-0x8fd+0x212f],_0x536b8f=_0x19c6a7['properties'],_0x54a9c0=_0x536b8f['length'],_0x31b23a=_0x536b8f['map'](_0x14cc3a=>_0x14cc3a['storage']),_0x431679=_0x536b8f['reduce']((_0x8b1f99,_0x56dc51)=>_0x8b1f99+_0x56dc51['byteSize'],-0x1556*-0x1+-0x22e3+0xd8d);let _0x107484=-0xd0*-0x2+-0x101*-0x1f+-0x20bf,_0x367a5c;const _0xe37972=()=>{const _0x4cb079=_0x556020['data']['buffer'];(_0x367a5c==null?void(-0x9be+0x2f4+0x6ca):_0x367a5c['buffer'])!==_0x4cb079&&(_0x367a5c=new Float32Array(_0x4cb079,0x1707+0x1*0x266c+-0x3d73,_0x4cb079['byteLength']/(0x1*0x4c7+0xe32+-0x12f5)));};for(_0xe37972();_0x107484<_0x19c6a7['count'];){for(;_0x556020['remaining']<_0x431679;)await _0x556020['read'](),_0xe37972();const _0x395994=Math['min'](_0x19c6a7['count']-_0x107484,Math['floor'](_0x556020['remaining']/_0x431679));for(let _0x515f88=0x1b02+-0xcf8+-0xe0a;_0x515f88<_0x54a9c0;++_0x515f88){const _0x1aa792=_0x31b23a[_0x515f88];for(let _0x5dd27f=0x1834+-0x24d+-0x1*0x15e7;_0x5dd27f<_0x395994;++_0x5dd27f)_0x1aa792[_0x5dd27f+_0x107484]=_0x367a5c[_0x5dd27f*_0x54a9c0+_0x515f88];}_0x107484+=_0x395994,_0x556020['head']+=_0x395994*_0x431679;}return new Ia(_0x4f1113);},V2=async(_0x45baa0,_0x59003e)=>{for(let _0x2ae4cf=-0x3c6+0x13c5+0x5*-0x333;_0x2ae4cf<_0x59003e['length'];++_0x2ae4cf){const _0xa1243a=_0x59003e[_0x2ae4cf],_0x3cca9e=_0xa1243a['properties']['reduce']((_0x3a5f32,_0x722a)=>_0x3a5f32+_0x722a['byteSize'],0x13c*-0x5+-0x17d9+0x1e05),_0x21b954=_0xa1243a['properties']['map'](_0xd2af70=>{if(_0xd2af70['storage'])switch(_0xd2af70['type']){case'char':return(_0x35b438,_0x36c9f7)=>{_0xd2af70['storage'][_0x36c9f7]=_0x35b438['getInt8']();};case'uchar':return(_0x150f81,_0x308414)=>{_0xd2af70['storage'][_0x308414]=_0x150f81['getUint8']();};case'short':return(_0x5b13af,_0x329b4b)=>{_0xd2af70['storage'][_0x329b4b]=_0x5b13af['getInt16']();};case'ushort':return(_0x1cbb08,_0x5239dc)=>{_0xd2af70['storage'][_0x5239dc]=_0x1cbb08['getUint16']();};case'int':return(_0x1d4cd9,_0x2b09cd)=>{_0xd2af70['storage'][_0x2b09cd]=_0x1d4cd9['getInt32']();};case'uint':return(_0x28296b,_0x52b9b5)=>{_0xd2af70['storage'][_0x52b9b5]=_0x28296b['getUint32']();};case'float':return(_0x1385d0,_0xb85750)=>{_0xd2af70['storage'][_0xb85750]=_0x1385d0['getFloat32']();};case'double':return(_0x143640,_0x319b7d)=>{_0xd2af70['storage'][_0x319b7d]=_0x143640['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0xd2af70['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x112e65=>{_0x112e65['head']+=_0xd2af70['byteSize'];};});let _0x2f93ff=-0x5*0x10a+-0x1*-0x169c+-0x116a;for(;_0x2f93ff<_0xa1243a['count'];){for(;_0x45baa0['remaining']<_0x3cca9e;)await _0x45baa0['read']();const _0x4e6f34=Math['min'](_0xa1243a['count']-_0x2f93ff,Math['floor'](_0x45baa0['remaining']/_0x3cca9e));for(let _0x79fb0f=-0xe2*0x1+-0x1*-0x6fc+-0x61a;_0x79fb0f<_0x4e6f34;++_0x79fb0f){for(let _0x3ac65f=-0x2182*0x1+0x1152+0x8*0x206;_0x3ac65f<_0xa1243a['properties']['length'];++_0x3ac65f)_0x21b954[_0x3ac65f](_0x45baa0,_0x2f93ff);_0x2f93ff++;}}}return new Ia(_0x59003e);},G2=async(_0x16c833,_0x4491d0=null,_0x4ad8a5=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x5a5c41=(_0x1fde65,_0x52ff9b)=>{const _0x5a0940=_0x1fde65['length']-_0x52ff9b['length'];let _0x261bbd,_0x4d8e84;for(_0x261bbd=0x161b*-0x1+-0x1*-0x1ec7+0x3c*-0x25;_0x261bbd<=_0x5a0940;++_0x261bbd){for(_0x4d8e84=0x1ba6+-0x1*-0x254f+0x45*-0xf1;_0x4d8e84<_0x52ff9b['length']&&_0x1fde65[_0x261bbd+_0x4d8e84]===_0x52ff9b[_0x4d8e84];++_0x4d8e84);if(_0x4d8e84===_0x52ff9b['length'])return _0x261bbd;}return-(0x2109+-0x76f*-0x4+0x19c*-0x27);},_0x12e281=(_0x3766ef,_0x351c91)=>{if(_0x3766ef['length']<_0x351c91['length'])return!(0x3b*-0x33+0x2024+-0x1462);for(let _0x3109fb=0xa2*0x37+0x1237+-0x3505;_0x3109fb<_0x351c91['length'];++_0x3109fb)if(_0x3766ef[_0x3109fb]!==_0x351c91[_0x3109fb])return!(0x1*-0x1e0b+0x1604+-0x808*-0x1);return!(-0x20c4+-0xdc+-0x1*-0x21a0);},_0x1d025d=new O2(_0x16c833,_0x4ad8a5);let _0x264005;for(;;){if(await _0x1d025d['read'](),_0x1d025d['tail']>=Ug['length']&&!_0x12e281(_0x1d025d['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x264005=_0x5a5c41(_0x1d025d['data'],Vg),_0x264005!==-(0x5*-0x617+-0x6*-0x417+0x5ea))break;}const _0x23b247=new TextDecoder('ascii')['decode'](_0x1d025d['data']['subarray'](0x37c*-0x5+-0x4*0x5e1+0x106*0x28,_0x264005))['split']('\x0a'),{elements:_0x2ce705,format:_0x4d6a27,comments:_0x2a0a9e}=k2(_0x23b247);if(_0x4d6a27!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x1d025d['head']=_0x264005+Vg['length'],_0x1d025d['compact'](),{'data':await((async()=>B2(_0x2ce705)?await z2(_0x1d025d,_0x2ce705):(_0x2ce705['forEach'](_0x2893ef=>{_0x2893ef['properties']['forEach'](_0x5d079f=>{const _0x549a8a=bf['get'](_0x5d079f['type']);if(_0x549a8a){const _0x5e054c=!_0x4491d0||_0x4491d0(_0x5d079f['name'])?new _0x549a8a(_0x2893ef['count']):null;_0x5d079f['storage']=_0x5e054c;}});}),N2(_0x2ce705)?await U2(_0x1d025d,_0x2ce705):await V2(_0x1d025d,_0x2ce705)))()),'comments':_0x2a0a9e};},H2=_0x5f486a=>!(0x15*0xb+-0x6bb*0x3+-0x2*-0x9a5);class W2{constructor(_0x46c39a,_0x38261e,_0x2b5aac){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x46c39a,this['assets']=_0x38261e,this['maxRetries']=_0x2b5aac,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x522ccd,_0x30bf83,_0x55de8c){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x522ccd['load']['includes'](',')?this['urlList']=_0x522ccd['load']['split'](','):this['urlList']['push'](_0x522ccd['load']);const _0x620a48=_0x55de8c['data']['loadAllSeq']?this['urlList']['length']:-0xf*0x266+0x11ea+-0x25*-0x7d,_0x4863a2=_0x55de8c['data']['timeOption'],_0x5e21b0=_0x55de8c['data']['events'];for(let _0x5dfc66=-0xebf+0x1193*0x1+-0xb5*0x4;_0x5dfc66<_0x620a48;_0x5dfc66++)await this['loadGsplat'+'Data'](this['urlList'][_0x5dfc66]['trim'](),_0x30bf83,_0x55de8c,_0x5dfc66,_0x4863a2,_0x5e21b0);}async['loadGsplat'+'Data'](_0x5b093a,_0x3e4e15,_0x1635da,_0x4cd46a,_0x2f245e,_0x38e39e){var _0x53848a;try{const _0x2bb55a=await fetch(_0x5b093a);if(!_0x2bb55a||!_0x2bb55a['body'])_0x3e4e15('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x537094=parseInt(_0x2bb55a['headers']['get']('content-le'+'ngth')??'0',-0x16f0+-0x4*-0x44d+0x5c6*0x1);let _0x5d435b=0x29f+-0x1*-0x207d+-0x231c;const {data:_0x3e9b57,comments:_0x56c237}=await G2(_0x2bb55a['body']['getReader'](),_0x1635da['data']['elementFil'+'ter']??H2,_0x6c31cc=>{_0x5d435b+=_0x6c31cc,_0x1635da&&_0x38e39e['fire']('progress',_0x5d435b,_0x537094);});_0x3e9b57['isCompress'+'ed']||_0x1635da['data']['reorder'],this['gsplatReso'+'urce']&&((_0x53848a=this['gsplatReso'+'urce'])!=null&&_0x53848a['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x3e9b57['isCompress'+'ed']&&_0x1635da['data']['decompress']?await _0x3e9b57['decompress']():_0x3e9b57,_0x2f245e,_0x4cd46a):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x3e9b57['isCompress'+'ed']&&_0x1635da['data']['decompress']?await _0x3e9b57['decompress']():_0x3e9b57,_0x56c237),this['gsplatReso'+'urce']['timeOption']=_0x2f245e,_0x38e39e['fire']('progressEn'+'d')),_0x3e4e15(null,this['gsplatReso'+'urce']);}}catch(_0x17a86d){_0x3e4e15(_0x17a86d,null);}}['open'](_0x4742a7,_0x148866){return _0x148866;}}class $2 extends Ne{constructor(_0x1adb17){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x1adb17,'gsplat'),this['parser']=new W2(_0x1adb17['graphicsDe'+'vice'],_0x1adb17['assets'],0x1*0x1945+0x3e9*-0x1+-0x1559);}['load'](_0x2e32fc,_0x1acc15,_0x14964d){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x2e32fc=='string'&&(_0x2e32fc={'load':_0x2e32fc,'original':_0x2e32fc}),this['parser']['load'](_0x2e32fc,_0x1acc15,_0x14964d);}['open'](_0x4b6f9a,_0x122a39,_0x1e4303){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x4b6f9a,_0x122a39,_0x1e4303);}}class wf{static['setCompres'+'sedPRS'](_0x34f269,_0x5da265,_0x20ae2f){const _0x498cb3=_0x20ae2f['singleVecs'];let _0x40cb3d,_0x3123f4;const _0x1c7545=_0x5da265['___1'];_0x1c7545||(_0x40cb3d=_0x20ae2f['tripleVecs'],_0x3123f4=_0x5da265['___2']);let _0x571523=_0x1c7545?_0x1c7545[-0x56*-0x4e+-0x25fe+0xbca]:_0x40cb3d[_0x3123f4];_0x34f269['setLocalPo'+'sition'](_0x498cb3[_0x571523],_0x498cb3[_0x571523+(0xd*0x1e7+-0x3ec+-0x1*0x14ce)],_0x498cb3[_0x571523+(0xad*-0x31+-0x1485+0x35a4)]),_0x571523=_0x1c7545?_0x1c7545[0x1*-0x1eef+0x2223+-0x333]:_0x40cb3d[_0x3123f4+(0x4a*-0x79+0x31*-0x65+0x3650)],_0x34f269['setLocalEu'+'lerAngles'](_0x498cb3[_0x571523],_0x498cb3[_0x571523+(0x38b*-0x9+-0x2a*0x13+0x2302)],_0x498cb3[_0x571523+(-0x964+0x215b+0x17f5*-0x1)]),_0x571523=_0x1c7545?_0x1c7545[-0x745*-0x4+0x3*-0x921+-0x1af]:_0x40cb3d[_0x3123f4+(-0x2222+-0x2*-0xedd+0x46a*0x1)],_0x34f269['setLocalSc'+'ale'](_0x498cb3[_0x571523],_0x498cb3[_0x571523+(-0xeca+0x1e1c+-0xf51)],_0x498cb3[_0x571523+(0xeb1*-0x2+0x1*0x1e5d+-0xf9)]);}static['oneCharToK'+'ey'](_0x2d10b9,_0x1806d4){const _0x2bfcc4=_0x2d10b9['charCodeAt'](0x10*0xbd+0x1*-0x538+-0x698)-_0x1806d4['fieldFirst'+'Code'];return _0x1806d4['fieldArray'][_0x2bfcc4];}static['multCharTo'+'Key'](_0x49d7fb,_0xae6cb1){let _0x49637b=0x201e+0x151*0x1+-0x216f;for(let _0x32514d=-0x14a1*-0x1+-0x1c4d+-0x3d6*-0x2;_0x32514d<_0x49d7fb['length'];_0x32514d++)_0x49637b=_0x49637b*_0xae6cb1['fieldCodeB'+'ase']+_0x49d7fb['charCodeAt'](_0x32514d)-_0xae6cb1['fieldFirst'+'Code'];return _0xae6cb1['fieldArray'][_0x49637b];}}class sc{constructor(_0x2edeb1,_0x3c68d9){this['_node']=_0x2edeb1,this['_data']=_0x3c68d9;}['run'](){const _0x4b2f43=Object['prototype']['toString']['call'](this['_node']);return _0x4b2f43==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x4b2f43==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0xafc3d3){let _0x1e417f=_0xafc3d3;const _0xe0aee2=_0xafc3d3['length'];_0xe0aee2===-0xae2+0x138+-0x1ef*-0x5?_0x1e417f=wf['oneCharToK'+'ey'](_0xafc3d3,this['_data']):_0xe0aee2===-0xaf3+0x15ff+-0x6*0x1d7&&(_0x1e417f=wf['multCharTo'+'Key'](_0xafc3d3,this['_data'])),this['_result'][_0x1e417f]=new sc(this['_node'][_0xafc3d3],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x343117){const _0x1a459a=new sc(_0x343117,this['_data'])['run']();this['_result']['push'](_0x1a459a);}}class Wp{constructor(_0x13a7bc,_0x2a8380){this['_app']=_0x13a7bc,this['_isTemplat'+'e']=_0x2a8380;}['parse'](_0xc41d9c){const _0x4435a1={};let _0x44c2a2=null;const _0x51e740=_0xc41d9c['compressed'+'Format'];_0x51e740&&!_0xc41d9c['entDecompr'+'essed']&&(_0xc41d9c['entDecompr'+'essed']=!(0x265+0x3*-0x65f+-0x2*-0x85c),_0xc41d9c['entities']=new sc(_0xc41d9c['entities'],_0x51e740)['run']());for(const _0xb8c0c2 in _0xc41d9c['entities']){const _0xd2e30d=_0xc41d9c['entities'][_0xb8c0c2],_0x348cf8=this['_createEnt'+'ity'](_0xd2e30d,_0x51e740);_0x4435a1[_0xb8c0c2]=_0x348cf8,_0xd2e30d['parent']===null&&(_0x44c2a2=_0x348cf8);}for(const _0x213f89 in _0xc41d9c['entities']){const _0x325893=_0x4435a1[_0x213f89],_0x305b0d=_0xc41d9c['entities'][_0x213f89]['children'],_0x3f4dbf=_0x305b0d['length'];for(let _0x48f24b=0x1*-0x1292+-0x240e+0x36a0;_0x48f24b<_0x3f4dbf;_0x48f24b++){const _0x377b9e=_0x4435a1[_0x305b0d[_0x48f24b]];_0x377b9e&&_0x325893['addChild'](_0x377b9e);}}return this['_openCompo'+'nentData'](_0x44c2a2,_0xc41d9c['entities']),_0x44c2a2;}['_createEnt'+'ity'](_0x117955,_0x16c886){const _0x36c802=new We(_0x117955['name'],this['_app']);if(_0x36c802['setGuid'](_0x117955['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x36c802,_0x117955,_0x16c886),_0x36c802['_enabled']=_0x117955['enabled']??!(-0x7e9*0x1+0x996+-0x1ad),this['_isTemplat'+'e']?_0x36c802['_template']=!(-0x8*-0x335+0x1*0x233+0x1bdb*-0x1):_0x36c802['_enabledIn'+'Hierarchy']=_0x36c802['_enabled'],_0x36c802['template']=_0x117955['template'],_0x117955['tags']){for(let _0x380b90=-0x2582+0x1d*-0xa9+-0x1*-0x38a7;_0x380b90<_0x117955['tags']['length'];_0x380b90++)_0x36c802['tags']['add'](_0x117955['tags'][_0x380b90]);}return _0x36c802;}['_setPosRot'+'Scale'](_0x454647,_0x76b575,_0x3217b7){if(_0x3217b7)wf['setCompres'+'sedPRS'](_0x454647,_0x76b575,_0x3217b7);else{const _0x121336=_0x76b575['position'],_0xc83a80=_0x76b575['rotation'],_0x242126=_0x76b575['scale'];_0x454647['setLocalPo'+'sition'](_0x121336[-0x13*-0x19d+-0x1*-0x1b3a+-0x134b*0x3],_0x121336[-0x1*0x24d9+0x5c5+-0x6d*-0x49],_0x121336[0x1a90+0x124+-0x5*0x58a]),_0x454647['setLocalEu'+'lerAngles'](_0xc83a80[-0x19e0+0x22*-0x21+0x1e42],_0xc83a80[-0x29*-0x17+-0x1480*-0x1+-0xa*0x26b],_0xc83a80[-0x2*0x86a+0x18cc+-0x7f6]),_0x454647['setLocalSc'+'ale'](_0x242126[-0x3a*-0x7c+-0x1e47+0x22f],_0x242126[0xd*-0x136+0x2*0x4d6+-0x613*-0x1],_0x242126[-0x123a*-0x2+-0x1328+-0x114a]);}}['_openCompo'+'nentData'](_0x28d14f,_0x2f4a87){const _0x40f7fe=this['_app']['systems']['list'];let _0xd7bbd6=_0x40f7fe['length'];const _0xf221a5=_0x2f4a87[_0x28d14f['getGuid']()];for(let _0x5dd9b8=0xc17+-0x1880+-0x9*-0x161;_0x5dd9b8<_0xd7bbd6;_0x5dd9b8++){const _0x2a87d6=_0x40f7fe[_0x5dd9b8],_0x3c3afa=_0xf221a5['components'][_0x2a87d6['id']];_0x3c3afa&&_0x2a87d6['addCompone'+'nt'](_0x28d14f,_0x3c3afa);}_0xd7bbd6=_0xf221a5['children']['length'];const _0x103757=_0x28d14f['_children'];for(let _0x8c4dc6=-0x1a73+0x1fd7+-0x5*0x114;_0x8c4dc6<_0xd7bbd6;_0x8c4dc6++)_0x103757[_0x8c4dc6]?_0x103757[_0x8c4dc6]=this['_openCompo'+'nentData'](_0x103757[_0x8c4dc6],_0x2f4a87):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x28d14f['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x28d14f;}}class Lx{static['load'](_0x1fedd9,_0x553e68,_0xb5ebbc){typeof _0x1fedd9=='string'&&(_0x1fedd9={'load':_0x1fedd9,'original':_0x1fedd9}),$e['get'](_0x1fedd9['load'],{'retry':_0x553e68>-0x170*-0xe+0xa*-0xf5+-0xa8e,'maxRetries':_0x553e68},(_0xfa97d9,_0x3c4866)=>{if(!_0xfa97d9)_0xb5ebbc(_0xfa97d9,_0x3c4866);else{let _0x5c4eb4='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x1fedd9['original'];_0xfa97d9['message']?(_0x5c4eb4+=':\x20'+_0xfa97d9['message'],_0xfa97d9['stack']&&(_0x5c4eb4+='\x0a'+_0xfa97d9['stack'])):_0x5c4eb4+=':\x20'+_0xfa97d9,_0xb5ebbc(_0x5c4eb4);}});}}class q2 extends Ne{constructor(_0x4c3926){super(_0x4c3926,'hierarchy');}['load'](_0x549dad,_0xd3cedf){Lx['load'](_0x549dad,this['maxRetries'],_0xd3cedf);}['open'](_0x55fb7b,_0x3d1913){this['_app']['systems']['script']['preloading']=!(-0x1*0x1a3f+0x1f0b+-0x4cc*0x1);const _0x401954=new Wp(this['_app'],!(-0x2608+0x3e3*0x1+-0xba*-0x2f))['parse'](_0x3d1913);return this['_app']['systems']['script']['preloading']=!(-0x1fb9*-0x1+0x2*-0x1021+0x8a),_0x401954;}}class X2 extends Ne{constructor(_0x157e87){super(_0x157e87,'html'),c(this,'decoder',null);}['load'](_0x1412ce,_0x2e512c){typeof _0x1412ce=='string'&&(_0x1412ce={'load':_0x1412ce,'original':_0x1412ce}),$e['get'](_0x1412ce['load'],{'retry':this['maxRetries']>0x107*0x5+0x3e*-0x53+-0x3*-0x4fd,'maxRetries':this['maxRetries']},(_0x318e9a,_0x4c8871)=>{_0x318e9a?_0x2e512c('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x1412ce['original']+'\x20['+_0x318e9a+']'):_0x2e512c(null,_0x4c8871);});}['openBinary'](_0x408d3c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x408d3c);}}class j2 extends Ne{constructor(_0xc3e148){super(_0xc3e148,'json'),c(this,'decoder',null);}['load'](_0x55574a,_0x3070dd){typeof _0x55574a=='string'&&(_0x55574a={'load':_0x55574a,'original':_0x55574a});const _0x2450a7={'retry':this['maxRetries']>-0x142b+0xd3+0x1358,'maxRetries':this['maxRetries']};_0x55574a['load']['startsWith']('blob:')&&(_0x2450a7['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x55574a['load'],_0x2450a7,(_0x273b62,_0x483d8b)=>{_0x273b62?_0x3070dd('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x55574a['original']+'\x20['+_0x273b62+']'):_0x3070dd(null,_0x483d8b);});}['openBinary'](_0x547d63){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x547d63));}}class Y2{constructor(){this['removeInva'+'lid']=!(-0x22a8*-0x1+-0x1081+-0x1227*0x1),this['valid']=!(0x30b*0xb+0x5f*-0x11+-0x1b2a),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x6d2524,_0x4bb574){this['valid']=!(-0x2a5+-0x31*0x58+0x137e*0x1),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x6d2524,_0x4bb574[_0x6d2524]),this['removeInva'+'lid']&&delete _0x4bb574[_0x6d2524];}['validate'](_0x3a7a3e){const _0x598698=Pa,_0x40b2e1=QC,_0x51ac0b=_0x3a7a3e['mappingFor'+'mat']==='path';for(const _0x55ae8a in _0x3a7a3e){const _0x57ac0d=_0x598698[_0x55ae8a];if(!_0x57ac0d){_0x40b2e1[_0x55ae8a]?delete _0x3a7a3e[_0x55ae8a]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x55ae8a),this['valid']=!(-0x1*0x422+0x211+-0x1*-0x212));continue;}if(_0x57ac0d['startsWith']('enum')){const _0x552d90=_0x57ac0d['split'](':')[0x1f4c+0x1711+-0x3e2*0xe];this['enumValida'+'tors'][_0x552d90]&&(this['enumValida'+'tors'][_0x552d90](_0x3a7a3e[_0x55ae8a])||this['setInvalid'](_0x55ae8a,_0x3a7a3e));}else{if(_0x57ac0d==='number')typeof _0x3a7a3e[_0x55ae8a]!='number'&&this['setInvalid'](_0x55ae8a,_0x3a7a3e);else{if(_0x57ac0d==='boolean')typeof _0x3a7a3e[_0x55ae8a]!='boolean'&&this['setInvalid'](_0x55ae8a,_0x3a7a3e);else{if(_0x57ac0d==='string')typeof _0x3a7a3e[_0x55ae8a]!='string'&&this['setInvalid'](_0x55ae8a,_0x3a7a3e);else{if(_0x57ac0d==='vec2')_0x3a7a3e[_0x55ae8a]instanceof Array&&_0x3a7a3e[_0x55ae8a]['length']===-0x1*0x14b5+0x5e5+0x1*0xed2||this['setInvalid'](_0x55ae8a,_0x3a7a3e);else{if(_0x57ac0d==='rgb')_0x3a7a3e[_0x55ae8a]instanceof Array&&_0x3a7a3e[_0x55ae8a]['length']===0x1ef+0x24a2+-0x268e||this['setInvalid'](_0x55ae8a,_0x3a7a3e);else{if(_0x57ac0d==='texture')_0x51ac0b?typeof _0x3a7a3e[_0x55ae8a]=='string'||_0x3a7a3e[_0x55ae8a]===null||_0x3a7a3e[_0x55ae8a]instanceof he||this['setInvalid'](_0x55ae8a,_0x3a7a3e):typeof _0x3a7a3e[_0x55ae8a]=='number'||_0x3a7a3e[_0x55ae8a]===null||_0x3a7a3e[_0x55ae8a]instanceof he||this['setInvalid'](_0x55ae8a,_0x3a7a3e);else{if(_0x57ac0d==='boundingbo'+'x')_0x3a7a3e[_0x55ae8a]['center']&&_0x3a7a3e[_0x55ae8a]['center']instanceof Array&&_0x3a7a3e[_0x55ae8a]['center']['length']===-0x189c+0x2ef*0x5+0x9f4||this['setInvalid'](_0x55ae8a,_0x3a7a3e),_0x3a7a3e[_0x55ae8a]['halfExtent'+'s']&&_0x3a7a3e[_0x55ae8a]['halfExtent'+'s']instanceof Array&&_0x3a7a3e[_0x55ae8a]['halfExtent'+'s']['length']===-0x1234+0x15*-0x21+0x14ec||this['setInvalid'](_0x55ae8a,_0x3a7a3e);else{if(_0x57ac0d==='cubemap')typeof _0x3a7a3e[_0x55ae8a]=='number'||_0x3a7a3e[_0x55ae8a]===null||_0x3a7a3e[_0x55ae8a]===void(-0x3*-0x7f1+0x1ef*0xb+-0x1a*0x1bc)||_0x3a7a3e[_0x55ae8a]instanceof he&&_0x3a7a3e[_0x55ae8a]['cubemap']||this['setInvalid'](_0x55ae8a,_0x3a7a3e);else{if(_0x57ac0d==='chunks'){const _0x48a85c=Object['keys'](_0x3a7a3e[_0x55ae8a]);for(let _0x22b6d3=-0x1d*0x89+-0x5a7*-0x4+-0x717;_0x22b6d3<_0x48a85c['length'];_0x22b6d3++)typeof _0x3a7a3e[_0x55ae8a][_0x48a85c[_0x22b6d3]]!='string'&&this['setInvalid'](_0x48a85c[_0x22b6d3],_0x3a7a3e[_0x55ae8a]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x57ac0d);}}}}}}}}}}return _0x3a7a3e['validated']=!(0x1*0x1cb2+-0x29*-0x9f+-0x3629),this['valid'];}['_createEnu'+'mValidator'](_0x58792f){return function(_0x4f4564){return _0x58792f['indexOf'](_0x4f4564)>=-0x2412+-0x1a*0xd7+0x39e8;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x578620){const _0x2e700a=this['migrate'](_0x578620),_0x480397=this['_validate'](_0x2e700a),_0x4342ce=new cs();return this['initialize'](_0x4342ce,_0x480397),_0x4342ce;}['initialize'](_0x53e7fb,_0x12b5e0){_0x12b5e0['validated']||(_0x12b5e0=this['_validate'](_0x12b5e0)),_0x12b5e0['chunks']&&(_0x53e7fb['chunks']={..._0x12b5e0['chunks']});for(const _0x569745 in _0x12b5e0){const _0x5abaaf=Pa[_0x569745],_0x5c25bc=_0x12b5e0[_0x569745];if(_0x5abaaf==='vec2')_0x53e7fb[_0x569745]=new W(_0x5c25bc[-0x1bb*0x6+0x1*-0x1f5b+0x5*0x859],_0x5c25bc[-0x244d*0x1+-0x105*0xb+0x2f85]);else{if(_0x5abaaf==='rgb')_0x53e7fb[_0x569745]=new Y(_0x5c25bc[-0x1e7+0x827*0x3+-0x168e*0x1],_0x5c25bc[-0x95*0xb+0x3*0x25+-0x5f9*-0x1],_0x5c25bc[-0x1*0x1cbc+-0x1331+-0x7*-0x6d9]);else{if(_0x5abaaf==='texture')_0x5c25bc instanceof he?_0x53e7fb[_0x569745]=_0x5c25bc:_0x53e7fb[_0x569745]instanceof he&&typeof _0x5c25bc=='number'&&_0x5c25bc>0xf92+0x25*0x2f+0x479*-0x5||(_0x53e7fb[_0x569745]=null);else{if(_0x5abaaf==='cubemap')_0x5c25bc instanceof he?_0x53e7fb[_0x569745]=_0x5c25bc:_0x53e7fb[_0x569745]instanceof he&&typeof _0x5c25bc=='number'&&_0x5c25bc>0x159d+0x22f7+-0x3894||(_0x53e7fb[_0x569745]=null),_0x569745==='cubeMap'&&!_0x5c25bc&&(_0x53e7fb['prefiltere'+'dCubemaps']=null);else{if(_0x5abaaf==='boundingbo'+'x'){const _0x9e4204=new T(_0x5c25bc['center'][0x19f6+-0x19*0xb+-0x1*0x18e3],_0x5c25bc['center'][-0x1*-0x10d9+-0xb3*-0x21+-0xb*0x3a1],_0x5c25bc['center'][-0x1*-0x2176+0x12f*-0x1d+0xdf]),_0x4e3941=new T(_0x5c25bc['halfExtent'+'s'][-0x2*-0x1ca+0x185c+0x6*-0x4a8],_0x5c25bc['halfExtent'+'s'][-0xe25+0x1*0x2653+-0x182d],_0x5c25bc['halfExtent'+'s'][0x17dc+-0x2157+0x97d*0x1]);_0x53e7fb[_0x569745]=new _e(_0x9e4204,_0x4e3941);}else _0x53e7fb[_0x569745]=_0x12b5e0[_0x569745];}}}}}_0x53e7fb['update']();}['migrate'](_0xefea5b){_0xefea5b['shader']&&delete _0xefea5b['shader'],_0xefea5b['mapping_fo'+'rmat']&&(_0xefea5b['mappingFor'+'mat']=_0xefea5b['mapping_fo'+'rmat'],delete _0xefea5b['mapping_fo'+'rmat']);let _0xa70ba1;const _0x13109d=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0xa70ba1=0x3*0x8f9+0x2*0x1145+-0x3d75;_0xa70ba1<_0x13109d['length'];_0xa70ba1++){const _0x32bd25=_0x13109d[_0xa70ba1][-0x11d1*0x1+0x2e*0x3a+0x765],_0x4b35b1=_0x13109d[_0xa70ba1][-0x3*0x99b+0x11+0x11*0x1b1];_0xefea5b[_0x32bd25]!==void(-0x582+-0x26a5*0x1+0x59*0x7f)&&(_0xefea5b[_0x4b35b1]===void(-0x41b+0x953+-0x8*0xa7)&&(_0xefea5b[_0x4b35b1]=_0xefea5b[_0x32bd25]),delete _0xefea5b[_0x32bd25]);}const _0x2d1430=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0xa70ba1=0x4d*-0x79+0x5*-0x793+0x2*0x2522;_0xa70ba1<_0x2d1430['length'];_0xa70ba1++){const _0x235bd4=_0x2d1430[_0xa70ba1];_0xefea5b['hasOwnProp'+'erty'](_0x235bd4)&&delete _0xefea5b[_0x235bd4];}return _0xefea5b;}['_validate'](_0x352d24){return _0x352d24['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x352d24)),_0x352d24;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x562234){super(_0x562234,'material'),this['_assets']=_0x562234['assets'],this['_device']=_0x562234['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x29a46d,_0x2afe21){typeof _0x29a46d=='string'&&(_0x29a46d={'load':_0x29a46d,'original':_0x29a46d}),$e['get'](_0x29a46d['load'],{'retry':this['maxRetries']>-0xc62+0x6*0x261+-0x1e4,'maxRetries':this['maxRetries']},(_0x7090d2,_0x28bdd0)=>{_0x7090d2?_0x2afe21&&_0x2afe21('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x29a46d['original']+'\x20['+_0x7090d2+']'):_0x2afe21&&(_0x28bdd0['_engine']=!(-0x1ab0+-0x12e6*-0x1+-0x7ca*-0x1),_0x2afe21(null,_0x28bdd0));});}['open'](_0x197bcd,_0x2210f1){const _0x5df634=this['_parser']['parse'](_0x2210f1);return _0x2210f1['_engine']&&(_0x5df634['_data']=_0x2210f1,delete _0x2210f1['_engine']),_0x5df634;}['patch'](_0x5eb0e9,_0x3db0fe){_0x5eb0e9['resource']['_data']&&(_0x5eb0e9['_data']=_0x5eb0e9['resource']['_data'],delete _0x5eb0e9['resource']['_data']),_0x5eb0e9['data']['name']=_0x5eb0e9['name'],_0x5eb0e9['resource']['name']=_0x5eb0e9['name'],this['_bindAndAs'+'signAssets'](_0x5eb0e9,_0x3db0fe),_0x5eb0e9['off']('unload',this['_onAssetUn'+'load'],this),_0x5eb0e9['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x48a82b){delete _0x48a82b['data']['parameters'],delete _0x48a82b['data']['chunks'],delete _0x48a82b['data']['name'];}['_assignTex'+'ture'](_0x37d55f,_0x14fdcd,_0x51b80f){_0x14fdcd['resource'][_0x37d55f]=_0x51b80f;}['_getPlaceh'+'olderTextu'+'re'](_0x22ce3a){const _0x195ac4=Z2[_0x22ce3a];return v['assert'](_0x195ac4,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x22ce3a),en(this['_device'],_0x195ac4);}['_assignPla'+'ceholderTe'+'xture'](_0x15f472,_0x18b013){_0x18b013['resource'][_0x15f472]=this['_getPlaceh'+'olderTextu'+'re'](_0x15f472);}['_onTexture'+'Load'](_0x2d4996,_0x1fdd3e,_0x4f73c3){this['_assignTex'+'ture'](_0x2d4996,_0x1fdd3e,_0x4f73c3['resource']),_0x1fdd3e['resource']['update']();}['_onTexture'+'Add'](_0x36bfc1,_0x1f00ff,_0x5722be){this['_assets']['load'](_0x5722be);}['_onTexture'+'RemoveOrUn'+'load'](_0x50922e,_0x2dd582,_0x3526da){const _0x497a41=_0x2dd582['resource'];_0x497a41&&_0x2dd582['resource'][_0x50922e]===_0x3526da['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x50922e,_0x2dd582),_0x497a41['update']());}['_assignCub'+'emap'](_0x4c6d29,_0x5576b8,_0x8cfa2e){if(_0x5576b8['resource'][_0x4c6d29]=_0x8cfa2e[0x4*-0x7b7+0x7bc*-0x2+0x2e54],_0x4c6d29==='cubeMap'){const _0x483db0=_0x8cfa2e['slice'](-0x112b*-0x1+-0x2364+-0x1*-0x123a);_0x483db0['every'](_0x27d95b=>_0x27d95b)?_0x5576b8['resource']['prefiltere'+'dCubemaps']=_0x483db0:_0x483db0[0x1488+-0x26f7+0x126f]&&(_0x5576b8['resource']['envAtlas']=_0x483db0[-0x1571+-0x2a2+-0x1813*-0x1]);}}['_onCubemap'+'Load'](_0x3a6f0d,_0x4c402a,_0x24020a){this['_assignCub'+'emap'](_0x3a6f0d,_0x4c402a,_0x24020a['resources']),this['_parser']['initialize'](_0x4c402a['resource'],_0x4c402a['data']);}['_onCubemap'+'Add'](_0x49f3d0,_0x53e6ad,_0x269736){this['_assets']['load'](_0x269736);}['_onCubemap'+'RemoveOrUn'+'load'](_0x5f2713,_0x27d34f,_0x25ac08){const _0x27c481=_0x27d34f['resource'];_0x27d34f['data']['prefiltere'+'dCubeMap12'+'8']===_0x25ac08['resources'][-0x25ef+-0x8*-0x117+0x1d38]&&(this['_assignCub'+'emap'](_0x5f2713,_0x27d34f,[null,null,null,null,null,null,null]),_0x27c481['update']());}['_bindAndAs'+'signAssets'](_0x307d41,_0x3d8412){const _0x3724bc=this['_parser']['migrate'](_0x307d41['data']),_0x42a8cc=_0x307d41['resource'],_0x4ff3a4=_0x3724bc['mappingFor'+'mat']==='path',_0x7a2483=Kc;let _0xa227c0,_0x3502cd,_0x1af3d3;for(_0xa227c0=0x20e+-0x698+0x48a;_0xa227c0<_0x7a2483['length'];_0xa227c0++){_0x3502cd=_0x7a2483[_0xa227c0],_0x1af3d3=_0x42a8cc['_assetRefe'+'rences'][_0x3502cd];const _0x4f046c=_0x3724bc[_0x3502cd],_0x5277a8=_0x42a8cc[_0x3502cd],_0xcba10e=_0x5277a8===this['_getPlaceh'+'olderTextu'+'re'](_0x3502cd),_0x54a5e2=_0x3724bc['validated'];_0x4f046c&&(!_0x5277a8||!_0x54a5e2||_0xcba10e)?(_0x1af3d3||(_0x1af3d3=new Go(_0x3502cd,_0x307d41,_0x3d8412,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x42a8cc['_assetRefe'+'rences'][_0x3502cd]=_0x1af3d3),_0x4ff3a4?_0x1af3d3['url']=_0x307d41['getAbsolut'+'eUrl'](_0x4f046c):_0x1af3d3['id']=_0x4f046c,_0x1af3d3['asset']&&(_0x1af3d3['asset']['resource']?this['_assignTex'+'ture'](_0x3502cd,_0x307d41,_0x1af3d3['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x3502cd,_0x307d41),_0x3d8412['load'](_0x1af3d3['asset']))):_0x1af3d3&&(_0x4ff3a4?_0x1af3d3['url']=null:_0x1af3d3['id']=null);}const _0x19ec0f=Fp;for(_0xa227c0=-0x18c8+-0xc91*-0x1+0x1*0xc37;_0xa227c0<_0x19ec0f['length'];_0xa227c0++)_0x3502cd=_0x19ec0f[_0xa227c0],_0x1af3d3=_0x42a8cc['_assetRefe'+'rences'][_0x3502cd],_0x3724bc[_0x3502cd]&&!_0x307d41['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x1af3d3||(_0x1af3d3=new Go(_0x3502cd,_0x307d41,_0x3d8412,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x42a8cc['_assetRefe'+'rences'][_0x3502cd]=_0x1af3d3),_0x4ff3a4?_0x1af3d3['url']=_0x3724bc[_0x3502cd]:_0x1af3d3['id']=_0x3724bc[_0x3502cd],_0x1af3d3['asset']&&(_0x1af3d3['asset']['loaded']&&this['_assignCub'+'emap'](_0x3502cd,_0x307d41,_0x1af3d3['asset']['resources']),_0x3d8412['load'](_0x1af3d3['asset'])));this['_parser']['initialize'](_0x42a8cc,_0x3724bc);}}class J2{constructor(_0x5c59f8){this['_device']=_0x5c59f8['device'],this['_defaultMa'+'terial']=_0x5c59f8['defaultMat'+'erial'],this['_assets']=_0x5c59f8['assets'];}['parse'](_0x241acd,_0x2c79d2,_0x10f2b1){tc['parse']('filename.g'+'lb','',_0x241acd,this['_device'],this['_assets'],(_0x10f2b1==null?void(-0x72c+-0x1fbc+-0x6*-0x67c):_0x10f2b1['options'])??{},(_0x2220c6,_0x1a7bbc)=>{if(_0x2220c6)_0x2c79d2(_0x2220c6);else{const _0x4ab3f7=tr['createMode'+'l'](_0x1a7bbc,this['_defaultMa'+'terial']);_0x1a7bbc['destroy'](),_0x2c79d2(null,_0x4ab3f7);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x2d27e6){this['_device']=_0x2d27e6['device'],this['_defaultMa'+'terial']=_0x2d27e6['defaultMat'+'erial'];}['parse'](_0x5ad50f,_0xbf0630){const _0x17dd23=_0x5ad50f['model'];if(!_0x17dd23){_0xbf0630(null,null);return;}if(_0x17dd23['version']<=0x8fe+0x15db*-0x1+0x6*0x225){_0xbf0630('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x33890a=this['_parseNode'+'s'](_0x5ad50f),_0x235b41=this['_parseSkin'+'s'](_0x5ad50f,_0x33890a),_0x1a2d34=this['_parseVert'+'exBuffers'](_0x5ad50f),_0x306e11=this['_parseInde'+'xBuffers'](_0x5ad50f,_0x1a2d34),_0x476fb6=this['_parseMorp'+'hs'](_0x5ad50f,_0x33890a,_0x1a2d34),_0x271d00=this['_parseMesh'+'es'](_0x5ad50f,_0x235b41['skins'],_0x476fb6['morphs'],_0x1a2d34,_0x306e11['buffer'],_0x306e11['data']),_0x398bb6=this['_parseMesh'+'Instances'](_0x5ad50f,_0x33890a,_0x271d00,_0x235b41['skins'],_0x235b41['instances'],_0x476fb6['morphs'],_0x476fb6['instances']),_0x7d71a9=new Oi();_0x7d71a9['graph']=_0x33890a[-0x75b*0x3+-0x44a+0x1a5b],_0x7d71a9['meshInstan'+'ces']=_0x398bb6,_0x7d71a9['skinInstan'+'ces']=_0x235b41['instances'],_0x7d71a9['morphInsta'+'nces']=_0x476fb6['instances'],_0x7d71a9['getGraph']()['syncHierar'+'chy'](),_0xbf0630(null,_0x7d71a9);}['_parseNode'+'s'](_0x2192f2){const _0x1b2516=_0x2192f2['model'],_0x1fe553=[];let _0x182260;for(_0x182260=-0x11bd*-0x2+-0x2594+0x21a;_0x182260<_0x1b2516['nodes']['length'];_0x182260++){const _0x326fa7=_0x1b2516['nodes'][_0x182260],_0x28f7b0=new De(_0x326fa7['name']);_0x28f7b0['setLocalPo'+'sition'](_0x326fa7['position'][0x10aa+0xeb2+-0x1f5c],_0x326fa7['position'][-0x19a6+-0x24de+0x3e85],_0x326fa7['position'][-0x398*-0x8+0x8e7*-0x3+-0x209]),_0x28f7b0['setLocalEu'+'lerAngles'](_0x326fa7['rotation'][0x1a*-0x68+-0x1*-0x19b4+-0xf24],_0x326fa7['rotation'][-0x2557+0x794+0x2fa*0xa],_0x326fa7['rotation'][-0x83a+0x1*0x229b+-0x1a5f]),_0x28f7b0['setLocalSc'+'ale'](_0x326fa7['scale'][-0x1e00+-0xbe*-0x8+0x38*0x6e],_0x326fa7['scale'][-0x51a+-0x1*0x17a8+0x25*0xc7],_0x326fa7['scale'][-0x26ef*-0x1+-0x1b91*0x1+-0xb5c]),_0x28f7b0['scaleCompe'+'nsation']=!!_0x326fa7['scaleCompe'+'nsation'],_0x1fe553['push'](_0x28f7b0);}for(_0x182260=-0x1*-0x9a3+0x5a9+-0xf4b;_0x182260<_0x1b2516['parents']['length'];_0x182260++)_0x1fe553[_0x1b2516['parents'][_0x182260]]['addChild'](_0x1fe553[_0x182260]);return _0x1fe553;}['_parseSkin'+'s'](_0x26032f,_0x1b216e){const _0x5cf08d=_0x26032f['model'],_0x208991=[],_0x5ee1f0=[];let _0x26992c,_0x3bf3fc;for(_0x26992c=0x23*0x1+0x2184+0x5*-0x6bb;_0x26992c<_0x5cf08d['skins']['length'];_0x26992c++){const _0x149c2a=_0x5cf08d['skins'][_0x26992c],_0x50f44d=[];for(_0x3bf3fc=0x1e06+0x157c+0x15b*-0x26;_0x3bf3fc<_0x149c2a['inverseBin'+'dMatrices']['length'];_0x3bf3fc++){const _0x12519c=_0x149c2a['inverseBin'+'dMatrices'][_0x3bf3fc];_0x50f44d[_0x3bf3fc]=new q()['set'](_0x12519c);}const _0x27e9de=new N0(this['_device'],_0x50f44d,_0x149c2a['boneNames']);_0x208991['push'](_0x27e9de);const _0x2b8cad=new nl(_0x27e9de),_0x7de908=[];for(_0x3bf3fc=-0x1d5a+0xd4f*-0x1+0x2aa9;_0x3bf3fc<_0x27e9de['boneNames']['length'];_0x3bf3fc++){const _0x58f7ed=_0x27e9de['boneNames'][_0x3bf3fc],_0xbb223e=_0x1b216e[-0x9bc+0x4fe+0x4be*0x1]['findByName'](_0x58f7ed);_0x7de908['push'](_0xbb223e);}_0x2b8cad['bones']=_0x7de908,_0x5ee1f0['push'](_0x2b8cad);}return{'skins':_0x208991,'instances':_0x5ee1f0};}['_getMorphV'+'ertexCount'](_0x2b9d0f,_0x2fc9d1,_0x4e1daa){for(let _0x24ba65=0x1264+-0x17de+0x57a*0x1;_0x24ba65<_0x2b9d0f['meshes']['length'];_0x24ba65++){const _0x2292f9=_0x2b9d0f['meshes'][_0x24ba65];if(_0x2292f9['morph']===_0x2fc9d1)return _0x4e1daa[_0x2292f9['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x125b17,_0x42c920,_0x113c04){const _0x39e1db=_0x125b17['model'],_0x3e6759=[],_0x2d9a9a=[];let _0x4de521,_0x426cf7,_0xe6d07f,_0x3cd261,_0x1ec272,_0x120b48;if(_0x39e1db['morphs']){const _0x1cb3b2=function(_0x5ecfd0,_0x1461f1,_0x1d33fa){const _0x125e35=new Float32Array(_0x1d33fa*(-0x4a*0x6f+0x29*-0xbf+0x3b0*0x11));for(let _0x55199b=0x965*-0x1+0x146b+-0xb06;_0x55199b<_0x1461f1['length'];_0x55199b++){const _0x491a29=_0x1461f1[_0x55199b]*(-0x2*0x11b4+-0x251*-0x7+0x1334*0x1);_0x125e35[_0x491a29]=_0x5ecfd0[_0x55199b*(0x24cb*0x1+-0xca3+-0x1825)],_0x125e35[_0x491a29+(0x4*-0x64b+-0x1789+-0x2b*-0x122)]=_0x5ecfd0[_0x55199b*(-0x52f*0x7+-0x2*0x1c3+0x27d2)+(-0x4fb+-0x44*0x7a+0x2564)],_0x125e35[_0x491a29+(0x203b*-0x1+0x1397+0xca6)]=_0x5ecfd0[_0x55199b*(0x1e5d+-0x3b7+0x1aa3*-0x1)+(0x1583*0x1+0x1a07*0x1+-0x2f88)];}return _0x125e35;};for(_0x4de521=-0x26b0+0x9b6+0x1cfa;_0x4de521<_0x39e1db['morphs']['length'];_0x4de521++){for(_0x3cd261=_0x39e1db['morphs'][_0x4de521]['targets'],_0x120b48=[],_0xe6d07f=this['_getMorphV'+'ertexCount'](_0x39e1db,_0x4de521,_0x113c04),_0x426cf7=0x154a+0x8*-0x32f+0x42e*0x1;_0x426cf7<_0x3cd261['length'];_0x426cf7++){const _0x5060b1=_0x3cd261[_0x426cf7]['aabb'],_0x323bb5=_0x5060b1['min'],_0x11d3cc=_0x5060b1['max'],_0x41271c=new _e(new T((_0x11d3cc[-0x3cd*-0x1+-0x131e+0xf51]+_0x323bb5[0xd68+0x1*-0x251+0x1*-0xb17])*(0x1*-0x198+0x41f*-0x7+-0x1*-0x1e71+0.5),(_0x11d3cc[-0x4ce*0x3+-0x517*-0x4+-0x5f1]+_0x323bb5[0x7d*-0x13+-0xb99*0x1+-0x42d*-0x5])*(-0xa3*0x3+-0x6*-0x559+-0x1e2d+0.5),(_0x11d3cc[-0x17*0x71+0x3a*0x8+0x1*0x859]+_0x323bb5[-0x4*-0x14c+-0xe6b+0x93d])*(-0x105f+-0x1*-0x44d+-0x26a*-0x5+0.5)),new T((_0x11d3cc[0x22ca+0x201b*0x1+0x19*-0x2ad]-_0x323bb5[-0x931*-0x1+-0xcc8*0x1+0x397])*(0x16de+-0x4*0x921+0x2*0x6d3+0.5),(_0x11d3cc[0x1*0x236d+0x4*-0x1f+0x2b*-0xd0]-_0x323bb5[-0x1525+-0x4*-0x4ee+-0x3*-0x7a])*(-0xfcf+0xff3+0xc*-0x3+0.5),(_0x11d3cc[-0x21*-0xdf+-0x1*0x2526+-0x869*-0x1]-_0x323bb5[-0x2448+0x1b18+0x932*0x1])*(0x10*0x268+0x2251+0x1*-0x48d1+0.5))),_0x57a4a6=_0x3cd261[_0x426cf7]['indices'];let _0x39863d=_0x3cd261[_0x426cf7]['deltaPosit'+'ions'],_0x308cf2=_0x3cd261[_0x426cf7]['deltaNorma'+'ls'];_0x57a4a6&&(_0x39863d=_0x1cb3b2(_0x39863d,_0x57a4a6,_0xe6d07f),_0x308cf2=_0x1cb3b2(_0x308cf2,_0x57a4a6,_0xe6d07f)),_0x1ec272=new Qc({'deltaPositions':_0x39863d,'deltaNormals':_0x308cf2,'name':_0x3cd261[_0x426cf7]['name'],'aabb':_0x41271c}),_0x120b48['push'](_0x1ec272);}const _0x4e6fbf=new F0(_0x120b48,this['_device']);_0x3e6759['push'](_0x4e6fbf);const _0x15ec64=new fn(_0x4e6fbf);_0x2d9a9a['push'](_0x15ec64);}}return{'morphs':_0x3e6759,'instances':_0x2d9a9a};}['_parseVert'+'exBuffers'](_0x4d81cd){const _0x1ae89a=_0x4d81cd['model'],_0x353928=[],_0x2860a3={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x3ea3ea=-0x882+0x108d+-0x80b;_0x3ea3ea<_0x1ae89a['vertices']['length'];_0x3ea3ea++){const _0x351ebe=_0x1ae89a['vertices'][_0x3ea3ea],_0x886a0e=[];for(const _0x1a79c0 in _0x351ebe){const _0x792e96=_0x351ebe[_0x1a79c0];_0x886a0e['push']({'semantic':_0x2860a3[_0x1a79c0],'components':_0x792e96['components'],'type':tL[_0x792e96['type']],'normalize':_0x2860a3[_0x1a79c0]===At});}const _0x527d74=new Et(this['_device'],_0x886a0e),_0x7cd376=_0x351ebe['position']['data']['length']/_0x351ebe['position']['components'],_0x17252d=new os(this['_device'],_0x527d74,_0x7cd376),_0x40488b=new go(_0x17252d);for(let _0x1a166c=0x820+-0x8a7*-0x1+-0x10c7*0x1;_0x1a166c<_0x7cd376;_0x1a166c++){for(const _0xf3e2bc in _0x351ebe){const _0xfabc9c=_0x351ebe[_0xf3e2bc];switch(_0xfabc9c['components']){case-0x2287*-0x1+0xf0+-0x2376:_0x40488b['element'][_0x2860a3[_0xf3e2bc]]['set'](_0xfabc9c['data'][_0x1a166c]);break;case 0x1*-0x529+-0x455*0x5+-0x22*-0xca:_0x40488b['element'][_0x2860a3[_0xf3e2bc]]['set'](_0xfabc9c['data'][_0x1a166c*(0x11*-0x16e+0x33*0x3+-0x17b7*-0x1)],0x18d8+-0x190c+0x35-_0xfabc9c['data'][_0x1a166c*(0x1d07+0x2117+-0x3e1c)+(-0x114d+-0x418+0x1566)]);break;case-0x47c+-0x4f*-0xe+0x2d:_0x40488b['element'][_0x2860a3[_0xf3e2bc]]['set'](_0xfabc9c['data'][_0x1a166c*(-0x4db+0x1582+0x47*-0x3c)],_0xfabc9c['data'][_0x1a166c*(-0x1a26+-0x1*-0x119b+-0x49*-0x1e)+(0x441*-0x8+0x161f+-0x19*-0x7a)],_0xfabc9c['data'][_0x1a166c*(0x49*-0x14+-0x3b*0x1a+-0x6f*-0x1b)+(-0x76c+-0xaa9+-0x1a5*-0xb)]);break;case-0xfa8+0x12d*0x2+0xd52:_0x40488b['element'][_0x2860a3[_0xf3e2bc]]['set'](_0xfabc9c['data'][_0x1a166c*(0x118b*0x2+0x775*0x4+-0x2073*0x2)],_0xfabc9c['data'][_0x1a166c*(-0x808*-0x4+-0x38d+-0x1c8f)+(0x98f+0xb2+-0xa40)],_0xfabc9c['data'][_0x1a166c*(-0x281*0x5+0x13*-0x19e+0x2b43)+(-0x1271+0x46b+0xe08)],_0xfabc9c['data'][_0x1a166c*(-0x2*0xe96+-0xcce+0x29fe)+(-0x1a2b+-0x1cd*0x5+0x232f)]);break;}}_0x40488b['next']();}_0x40488b['end'](),_0x353928['push'](_0x17252d);}return _0x353928;}['_parseInde'+'xBuffers'](_0x282ef8,_0x2c1632){const _0x4d9551=_0x282ef8['model'];let _0x48d794=null,_0x512821=null,_0x4b54ca,_0x23f082=0x15ca*-0x1+-0x5a1+-0x1b6b*-0x1;for(_0x4b54ca=-0x1c8a+0x17c3+0x4c7;_0x4b54ca<_0x4d9551['meshes']['length'];_0x4b54ca++){const _0x25eb79=_0x4d9551['meshes'][_0x4b54ca];_0x25eb79['indices']!==void(0x9d3+-0x12f8+-0x925*-0x1)&&(_0x23f082+=_0x25eb79['indices']['length']);}let _0x593c0a=0x3*0xcf7+0x3*0xc4a+-0xf*0x50d;for(_0x4b54ca=0x1bc5+-0xb*0x21d+-0x243*0x2;_0x4b54ca<_0x2c1632['length'];_0x4b54ca++)_0x593c0a=Math['max'](_0x593c0a,_0x2c1632[_0x4b54ca]['numVertice'+'s']);return _0x23f082>-0x13*-0x1a4+0x7d4*0x2+-0x2ed4&&(_0x593c0a>-0x1*0x4f7+-0xb585+0x1ba7b?(_0x48d794=new lr(this['_device'],nr,_0x23f082),_0x512821=new Uint32Array(_0x48d794['lock']())):(_0x48d794=new lr(this['_device'],Pi,_0x23f082),_0x512821=new Uint16Array(_0x48d794['lock']()))),{'buffer':_0x48d794,'data':_0x512821};}['_parseMesh'+'es'](_0x4908db,_0x211f7d,_0x538d3e,_0x16b5b2,_0x2af8ef,_0x3c4e46){const _0x440b9b=_0x4908db['model'],_0x5930b7=[];let _0x4a7de6=-0x2db*0xd+-0x11*-0xfb+0x1*0x1474;for(let _0x50d579=-0xebe+0x36*-0xc+0x1146;_0x50d579<_0x440b9b['meshes']['length'];_0x50d579++){const _0x4307b2=_0x440b9b['meshes'][_0x50d579],_0x285382=_0x4307b2['aabb'],_0x458c4e=_0x285382['min'],_0x313220=_0x285382['max'],_0x5bd914=new _e(new T((_0x313220[0x200f*0x1+-0x959+-0x3*0x792]+_0x458c4e[0x3eb*-0x6+0x18f0+-0x16e])*(-0xa3c*0x1+0x235b+0x6d*-0x3b+0.5),(_0x313220[0x2*-0x83f+-0xfd*-0x25+-0x1412]+_0x458c4e[0x1021*0x1+-0xe0f+-0x211])*(0x9*-0x223+0x36*-0x4d+-0x2379*-0x1+0.5),(_0x313220[0x1*0x1057+0x1125+-0x217a]+_0x458c4e[0x1fb+0x194f+-0xc2*0x24])*(0x3*-0xa8+-0x6be*0x5+0x1*0x23ae+0.5)),new T((_0x313220[-0x1*-0xcf+-0x1e78+0x1da9]-_0x458c4e[0xa*0x332+-0x445*0x6+-0x656])*(-0x14e0+-0x206a+-0x167*-0x26+0.5),(_0x313220[0x57a+0x20f2+-0x266b]-_0x458c4e[-0x7a5*-0x2+-0x322+-0xc27])*(-0xd5*-0x7+0x346*-0x4+0x745+0.5),(_0x313220[-0x68*-0xd+0xdce+-0x1314]-_0x458c4e[-0x51f+0x24dc+-0x1*0x1fbb])*(-0x134*0x11+0x243e+-0xfca+0.5))),_0x228c8f=_0x4307b2['indices']!==void(0x6bb*-0x1+0x13c5+0xd0a*-0x1),_0x3e55d6=new Ie(this['_device']);_0x3e55d6['vertexBuff'+'er']=_0x16b5b2[_0x4307b2['vertices']],_0x3e55d6['indexBuffe'+'r'][0x6f*-0x15+0x202*-0xd+-0x1*-0x2335]=_0x228c8f?_0x2af8ef:null,_0x3e55d6['primitive'][0xcf1+-0x165d*-0x1+-0x234e]['type']=eL[_0x4307b2['type']],_0x3e55d6['primitive'][0x230f+0x1f0+-0x21*0x11f]['base']=_0x228c8f?_0x4307b2['base']+_0x4a7de6:_0x4307b2['base'],_0x3e55d6['primitive'][0x12f9+0x7*0x3b0+0x5*-0x8f5]['count']=_0x4307b2['count'],_0x3e55d6['primitive'][-0x1c3b+0x2*-0x1346+0x42c7]['indexed']=_0x228c8f,_0x3e55d6['skin']=_0x4307b2['skin']!==void(0x1f0c+-0x2699+-0x1*-0x78d)?_0x211f7d[_0x4307b2['skin']]:null,_0x3e55d6['morph']=_0x4307b2['morph']!==void(0x1abf*0x1+0xb6*-0x1a+-0x1*0x843)?_0x538d3e[_0x4307b2['morph']]:null,_0x3e55d6['aabb']=_0x5bd914,_0x228c8f&&(_0x3c4e46['set'](_0x4307b2['indices'],_0x4a7de6),_0x4a7de6+=_0x4307b2['indices']['length']),_0x5930b7['push'](_0x3e55d6);}return _0x2af8ef!==null&&_0x2af8ef['unlock'](),_0x5930b7;}['_parseMesh'+'Instances'](_0x1decfa,_0x3c8757,_0x4ee0a5,_0x287fb0,_0x543d3a,_0x64ffa4,_0x5e6e23){const _0x374102=_0x1decfa['model'],_0x4272ea=[];let _0x394dae;for(_0x394dae=-0x1529+0x197b+-0x452;_0x394dae<_0x374102['meshInstan'+'ces']['length'];_0x394dae++){const _0x244a46=_0x374102['meshInstan'+'ces'][_0x394dae],_0x1f4c0b=_0x3c8757[_0x244a46['node']],_0x216f1f=_0x4ee0a5[_0x244a46['mesh']],_0x35a948=new Le(_0x216f1f,this['_defaultMa'+'terial'],_0x1f4c0b);if(_0x216f1f['skin']){const _0x36ed23=_0x287fb0['indexOf'](_0x216f1f['skin']);if(_0x36ed23===-(0x43*-0x71+-0x1c20+0x39b4))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x35a948['skinInstan'+'ce']=_0x543d3a[_0x36ed23];}if(_0x216f1f['morph']){const _0x220075=_0x64ffa4['indexOf'](_0x216f1f['morph']);if(_0x220075===-(-0x58a*0x5+-0x531+0x20e4))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x35a948['morphInsta'+'nce']=_0x5e6e23[_0x220075];}_0x4272ea['push'](_0x35a948);}return _0x4272ea;}}class iL extends Ne{constructor(_0x4fdae0){super(_0x4fdae0,'model'),this['_parsers']=[],this['device']=_0x4fdae0['graphicsDe'+'vice'],this['assets']=_0x4fdae0['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x36c9b7,_0x123c65)=>fe['getExtensi'+'on'](_0x36c9b7)==='.json'),this['addParser'](new J2(this),(_0x467585,_0x4d5204)=>fe['getExtensi'+'on'](_0x467585)==='.glb');}['load'](_0xceec63,_0x35a2f1,_0x419bf6){typeof _0xceec63=='string'&&(_0xceec63={'load':_0xceec63,'original':_0xceec63});const _0x5c76b8={'retry':this['maxRetries']>-0x1fc+-0x178d+0x1989,'maxRetries':this['maxRetries']};(_0xceec63['load']['startsWith']('blob:')||_0xceec63['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0xceec63['original'])['toLowerCas'+'e']()==='.glb'?_0x5c76b8['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x5c76b8['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0xceec63['load'],_0x5c76b8,(_0x2954ec,_0xa46307)=>{if(_0x35a2f1){if(_0x2954ec)_0x35a2f1('Error\x20load'+'ing\x20model:'+'\x20'+_0xceec63['original']+'\x20['+_0x2954ec+']');else{for(let _0x4292c1=0x1abd+-0x319*-0x1+0x43*-0x72;_0x4292c1<this['_parsers']['length'];_0x4292c1++){const _0x1873ca=this['_parsers'][_0x4292c1];if(_0x1873ca['decider'](_0xceec63['original'],_0xa46307)){_0x1873ca['parser']['parse'](_0xa46307,(_0xcc3f03,_0xec21a6)=>{_0xcc3f03?_0x35a2f1(_0xcc3f03):_0x35a2f1(null,_0xec21a6);},_0x419bf6);return;}}_0x35a2f1('No\x20parsers'+'\x20found');}}});}['open'](_0x21cce7,_0xd6ec32){return _0xd6ec32;}['patch'](_0x40d135,_0x52deb8){if(!_0x40d135['resource'])return;const _0x4add8a=_0x40d135['data'],_0x4bf526=this;_0x40d135['resource']['meshInstan'+'ces']['forEach']((_0x5484ec,_0x59acc7)=>{if(_0x4add8a['mapping']){const _0x4dd79f=function(_0x484642){_0x484642['resource']?_0x5484ec['material']=_0x484642['resource']:(_0x484642['once']('load',_0x4dd79f),_0x52deb8['load'](_0x484642)),_0x484642['once']('remove',_0x35d4e4=>{_0x5484ec['material']===_0x35d4e4['resource']&&(_0x5484ec['material']=_0x4bf526['defaultMat'+'erial']);});};if(!_0x4add8a['mapping'][_0x59acc7]){_0x5484ec['material']=_0x4bf526['defaultMat'+'erial'];return;}const _0x170b9b=_0x4add8a['mapping'][_0x59acc7]['material'],_0x10cea7=_0x4add8a['mapping'][_0x59acc7]['path'];let _0x1984a7;if(_0x170b9b!==void(-0x1*-0x188f+-0x1*0x646+-0x1249*0x1))_0x170b9b?(_0x1984a7=_0x52deb8['get'](_0x170b9b),_0x1984a7?_0x4dd79f(_0x1984a7):_0x52deb8['once']('add:'+_0x170b9b,_0x4dd79f)):_0x5484ec['material']=_0x4bf526['defaultMat'+'erial'];else{if(_0x10cea7){const _0x5101a8=_0x40d135['getAbsolut'+'eUrl'](_0x4add8a['mapping'][_0x59acc7]['path']);_0x1984a7=_0x52deb8['getByUrl'](_0x5101a8),_0x1984a7?_0x4dd79f(_0x1984a7):_0x52deb8['once']('add:url:'+_0x5101a8,_0x4dd79f);}}}});}['addParser'](_0x5d1e3f,_0x297a0c){this['_parsers']['push']({'parser':_0x5d1e3f,'decider':_0x297a0c});}}class rL extends Ne{constructor(_0x4dc7bd){super(_0x4dc7bd,'scene');}['load'](_0x141d1a,_0x4db726){Lx['load'](_0x141d1a,this['maxRetries'],_0x4db726);}['open'](_0x3feb7b,_0x373318){this['_app']['systems']['script']['preloading']=!(-0x3c4+-0xef8+0x12bc);const _0x54d087=new Wp(this['_app'],!(-0x25c1+-0x1*0x1f8b+-0x9d*-0x71))['parse'](_0x373318),_0x48c5ea=this['_app']['scene'];return _0x48c5ea['root']=_0x54d087,this['_app']['applyScene'+'Settings'](_0x373318['settings']),this['_app']['systems']['script']['preloading']=!(-0x1*0x9f5+-0x1a+-0x1c*-0x5c),_0x48c5ea;}}const hc=class hc{static['push'](_0x1a34e0){hc['_types']['push'](_0x1a34e0);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x1b8a56,_0x18be1d,_0x3c4e7e)=>{aL[_0x1b8a56]=0x249b*0x1+0x124a+0x1*-0x36e4;});function oL(_0x770dce,_0xc19aa4,_0x49daa7){if(typeof _0x770dce!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x770dce+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x770dce['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x770dce)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0xc19aa4=_0xc19aa4||_0x770dce['__name']||Qh['__getScrip'+'tName'](_0x770dce),nL['has'](_0xc19aa4))throw new Error('script\x20nam'+'e:\x20\x27'+_0xc19aa4+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x770dce['__name']=_0xc19aa4,qh['getApplica'+'tion']()['scripts']['add'](_0x770dce),Xr['push'](_0x770dce);}const lL=_0x50f5e8=>_0x50f5e8[-0x2*-0x581+0x1*0x1a47+-0x2549]['toLowerCas'+'e']()+_0x50f5e8['substring'](-0x22c3+0x17b7*0x1+-0x1*-0xb0d);class hL extends Ne{constructor(_0x293333){super(_0x293333,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x15b82d in this['_cache']){const _0x4c27f6=this['_cache'][_0x15b82d],_0x2f063d=_0x4c27f6['parentNode'];_0x2f063d&&_0x2f063d['removeChil'+'d'](_0x4c27f6);}this['_cache']={};}['load'](_0x22f2bc,_0x4e6bc1){typeof _0x22f2bc=='string'&&(_0x22f2bc={'load':_0x22f2bc,'original':_0x22f2bc});const _0xb93057=this;this['_app'];const _0x2c4b45=(_0x22f2bc['load'],(_0x19310a,_0x85290,_0x35b51e)=>{if(_0x19310a)_0x4e6bc1(_0x19310a);else{const _0x17d53e={};for(let _0x33de5b=-0x191b+0x347*0xb+-0xaf2;_0x33de5b<Xr['_types']['length'];_0x33de5b++)_0x17d53e[Xr['_types'][_0x33de5b]['name']]=Xr['_types'][_0x33de5b];Xr['_types']['length']=0x3af*0x5+0x827*-0x4+0xe31,_0x4e6bc1(null,_0x17d53e,_0x35b51e);const _0x22261b=_0x85290['split']('&hash=')[-0x20f5+-0x20a3*-0x1+-0x1*-0x52];delete _0xb93057['_loader']['_cache'][pa['makeKey'](_0x22261b,'script')];}}),[_0x1da103]=_0x22f2bc['load']['split']('?');_0x1da103['endsWith']('.mjs')?this['_loadModul'+'e'](_0x1da103,_0x2c4b45):this['_loadScrip'+'t'](_0x22f2bc['load'],_0x2c4b45);}['open'](_0x188751,_0x21baaa){return _0x21baaa;}['patch'](_0x9fdd9f,_0x4e01c5){}['_loadScrip'+'t'](_0x14644c,_0xfce716){const _0x4c16a8=document['head'],_0x4828fa=document['createElem'+'ent']('script');this['_cache'][_0x14644c]=_0x4828fa,_0x4828fa['async']=!(0xdc5+-0xfa8+-0x16*-0x16),_0x4828fa['addEventLi'+'stener']('error',_0x326d2b=>{_0xfce716('Script:\x20'+_0x326d2b['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x18f+-0x17f1+0x1981));let _0x343c6b=!(-0x1*-0x11b0+0xbcb+-0xe*0x21b);_0x4828fa['onload']=_0x4828fa['onreadysta'+'techange']=function(){!_0x343c6b&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x343c6b=!(0x6*-0x1f8+-0x179*0x1a+-0x247*-0x16),_0xfce716(null,_0x14644c,_0x4828fa));},_0x4828fa['src']=_0x14644c,_0x4c16a8['appendChil'+'d'](_0x4828fa);}['_loadModul'+'e'](_0x494d8e,_0x238aad){const _0x3403fd=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x2c7ec6=new URL(_0x494d8e,_0x3403fd);import(_0x2c7ec6['toString']())['then'](_0x342f13=>{var _0x3d7459,_0x5b14ab;const _0x428c41=_0x2c7ec6['pathname']['split']('/')['pop'](),_0x4d2a59=(_0x5b14ab=(_0x3d7459=this['_app']['assets']['find'](_0x428c41,'script'))==null?void(0x154f+0xa*-0x23f+0x127):_0x3d7459['data'])==null?void(0x3*0x18d+0xc37+-0x2*0x86f):_0x5b14ab['scripts'];for(const _0x19d228 in _0x342f13){const _0x24549c=_0x342f13[_0x19d228];if(_0x24549c['prototype']instanceof Ht){const _0x6cf723=lL(_0x24549c['name']);oL(_0x24549c,_0x6cf723),_0x4d2a59&&this['_app']['scripts']['addSchema'](_0x6cf723,_0x4d2a59[_0x6cf723]);}}_0x238aad(null,_0x494d8e,null);})['catch'](_0x545a22=>{_0x238aad(_0x545a22);});}}class cL extends Ne{constructor(_0xd89614){super(_0xd89614,'shader'),c(this,'decoder',null);}['load'](_0x4bc744,_0x301018){typeof _0x4bc744=='string'&&(_0x4bc744={'load':_0x4bc744,'original':_0x4bc744}),$e['get'](_0x4bc744['load'],{'retry':this['maxRetries']>0x3*-0x92a+0x18ef+0x28f,'maxRetries':this['maxRetries']},(_0x2529d4,_0x32fc40)=>{_0x2529d4?_0x301018('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x4bc744['original']+'\x20['+_0x2529d4+']'):_0x301018(null,_0x32fc40);});}['openBinary'](_0x17d78d){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x17d78d);}}function eu(_0x4c52e5){const _0x31f0ce=this;_0x31f0ce['resource']&&(_0x31f0ce['resource']['atlas']=_0x4c52e5['resource']);}function tu(_0x413a78){this['registry']['load'](_0x413a78);}class dL extends Ne{constructor(_0x37af77){super(_0x37af77,'sprite'),this['_assets']=_0x37af77['assets'],this['_device']=_0x37af77['graphicsDe'+'vice'];}['load'](_0x1939c0,_0x294549){typeof _0x1939c0=='string'&&(_0x1939c0={'load':_0x1939c0,'original':_0x1939c0}),fe['getExtensi'+'on'](_0x1939c0['original'])==='.json'&&$e['get'](_0x1939c0['load'],{'retry':this['maxRetries']>0x2*0xeef+0x1ee5+-0xc27*0x5,'maxRetries':this['maxRetries']},(_0x361862,_0x37f271)=>{_0x361862?_0x294549(_0x361862):_0x294549(null,_0x37f271);});}['open'](_0x29930f,_0x524c78){const _0x106627=new T1(this['_device']);return _0x29930f&&(_0x106627['__data']=_0x524c78),_0x106627;}['patch'](_0x269d86,_0x543031){const _0x50abc9=_0x269d86['resource'];if(_0x50abc9['__data']&&(_0x269d86['data']['pixelsPerU'+'nit']=_0x50abc9['__data']['pixelsPerU'+'nit'],_0x269d86['data']['renderMode']=_0x50abc9['__data']['renderMode'],_0x269d86['data']['frameKeys']=_0x50abc9['__data']['frameKeys'],_0x50abc9['__data']['textureAtl'+'asAsset'])){const _0x1645ca=_0x543031['getByUrl'](_0x50abc9['__data']['textureAtl'+'asAsset']);_0x1645ca?_0x269d86['data']['textureAtl'+'asAsset']=_0x1645ca['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x50abc9['__data']['textureAtl'+'asAsset']);}_0x50abc9['startUpdat'+'e'](),_0x50abc9['renderMode']=_0x269d86['data']['renderMode'],_0x50abc9['pixelsPerU'+'nit']=_0x269d86['data']['pixelsPerU'+'nit'],_0x50abc9['frameKeys']=_0x269d86['data']['frameKeys'],this['_updateAtl'+'as'](_0x269d86),_0x50abc9['endUpdate'](),_0x269d86['off']('change',this['_onAssetCh'+'ange'],this),_0x269d86['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x53c4bb){const _0x399886=_0x53c4bb['resource'];if(!_0x53c4bb['data']['textureAtl'+'asAsset']){_0x399886['atlas']=null;return;}this['_assets']['off']('load:'+_0x53c4bb['data']['textureAtl'+'asAsset'],eu,_0x53c4bb),this['_assets']['on']('load:'+_0x53c4bb['data']['textureAtl'+'asAsset'],eu,_0x53c4bb);const _0x22e6de=this['_assets']['get'](_0x53c4bb['data']['textureAtl'+'asAsset']);_0x22e6de&&_0x22e6de['resource']?_0x399886['atlas']=_0x22e6de['resource']:_0x22e6de?this['_assets']['load'](_0x22e6de):(this['_assets']['off']('add:'+_0x53c4bb['data']['textureAtl'+'asAsset'],tu,_0x53c4bb),this['_assets']['on']('add:'+_0x53c4bb['data']['textureAtl'+'asAsset'],tu,_0x53c4bb));}['_onAssetCh'+'ange'](_0x3b4a17,_0x53de94,_0x26091a,_0x4d1a26){_0x53de94==='data'&&_0x26091a&&_0x26091a['textureAtl'+'asAsset']&&_0x4d1a26&&_0x26091a['textureAtl'+'asAsset']!==_0x4d1a26['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x4d1a26['textureAtl'+'asAsset'],eu,_0x3b4a17),this['_assets']['off']('add:'+_0x4d1a26['textureAtl'+'asAsset'],tu,_0x3b4a17));}}class Gg{constructor(_0x1f9574,_0x8475e7){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x1f9574,this['_data']=_0x8475e7);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x29e1b0=new Wp(this['_app'],!(0xc5*0x1+-0x3bd*0x2+0x6b5));this['_templateR'+'oot']=_0x29e1b0['parse'](this['_data']);}}class uL extends Ne{constructor(_0x16f411){super(_0x16f411,'template'),c(this,'decoder',null);}['load'](_0x1fbeaf,_0x506eb1){typeof _0x1fbeaf=='string'&&(_0x1fbeaf={'load':_0x1fbeaf,'original':_0x1fbeaf});const _0x1d64c1={'retry':this['maxRetries']>-0x51*0x1+0x254d+-0x24fc,'maxRetries':this['maxRetries']};$e['get'](_0x1fbeaf['load'],_0x1d64c1,(_0x5bfd2a,_0xf28d09)=>{_0x5bfd2a?_0x506eb1('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x1fbeaf['original']):_0x506eb1(_0x5bfd2a,_0xf28d09);});}['open'](_0x16575b,_0x253f8c){return new Gg(this['_app'],_0x253f8c);}['openBinary'](_0x4516cb){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x4516cb)));}}class fL extends Ne{constructor(_0x45e41a){super(_0x45e41a,'text'),c(this,'decoder',null);}['load'](_0x84fefc,_0x2c5bc1){typeof _0x84fefc=='string'&&(_0x84fefc={'load':_0x84fefc,'original':_0x84fefc}),$e['get'](_0x84fefc['load'],{'retry':this['maxRetries']>-0x1b2c+0x163a+-0x279*-0x2,'maxRetries':this['maxRetries']},(_0x1aeeec,_0x31c0eb)=>{_0x1aeeec?_0x2c5bc1('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x84fefc['original']+'\x20['+_0x1aeeec+']'):_0x2c5bc1(null,_0x31c0eb);});}['openBinary'](_0x1f412b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1f412b);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x3f9846){super(_0x3f9846,'textureatl'+'as'),this['_loader']=_0x3f9846['loader'];}['load'](_0x551346,_0x2fbf4a){typeof _0x551346=='string'&&(_0x551346={'load':_0x551346,'original':_0x551346});const _0xb7af3c=this,_0x4253a7=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x551346['original'])==='.json'?$e['get'](_0x551346['load'],{'retry':this['maxRetries']>0x2653+-0x15ed+-0x1066,'maxRetries':this['maxRetries']},(_0x5339ad,_0x3c2b04)=>{if(_0x5339ad)_0x2fbf4a(_0x5339ad);else{const _0x320f29=_0x551346['original']['replace']('.json','.png');_0xb7af3c['_loader']['load'](_0x320f29,'texture',(_0x102b57,_0x3c391a)=>{_0x102b57?_0x2fbf4a(_0x102b57):_0x2fbf4a(null,{'data':_0x3c2b04,'texture':_0x3c391a});});}}):_0x4253a7['load'](_0x551346,_0x2fbf4a);}['open'](_0x37a54a,_0x34683d,_0x4a23ca){const _0x1808eb=new A1();if(_0x34683d['texture']&&_0x34683d['data'])_0x1808eb['texture']=_0x34683d['texture'],_0x1808eb['__data']=_0x34683d['data'];else{const _0xab1861=this['_loader']['getHandler']('texture')['open'](_0x37a54a,_0x34683d,_0x4a23ca);if(!_0xab1861)return null;_0x1808eb['texture']=_0xab1861;}return _0x1808eb;}['patch'](_0x21c47d,_0x38d5ab){if(!_0x21c47d['resource'])return;_0x21c47d['resource']['__data']&&(_0x21c47d['resource']['__data']['minfilter']!==void(-0x6*0x1c6+-0x2149+0x2bed)&&(_0x21c47d['data']['minfilter']=_0x21c47d['resource']['__data']['minfilter']),_0x21c47d['resource']['__data']['magfilter']!==void(-0x92d*-0x3+-0xf56*-0x1+-0x2add)&&(_0x21c47d['data']['magfilter']=_0x21c47d['resource']['__data']['magfilter']),_0x21c47d['resource']['__data']['addressu']!==void(-0x396+0xb0a+-0x774)&&(_0x21c47d['data']['addressu']=_0x21c47d['resource']['__data']['addressu']),_0x21c47d['resource']['__data']['addressv']!==void(0x11*0x2f+0x2454+0x2773*-0x1)&&(_0x21c47d['data']['addressv']=_0x21c47d['resource']['__data']['addressv']),_0x21c47d['resource']['__data']['mipmaps']!==void(0x2c*-0x97+-0x1fb6+0x39aa)&&(_0x21c47d['data']['mipmaps']=_0x21c47d['resource']['__data']['mipmaps']),_0x21c47d['resource']['__data']['anisotropy']!==void(0x2*-0x9ed+0x11de+0x1fc)&&(_0x21c47d['data']['anisotropy']=_0x21c47d['resource']['__data']['anisotropy']),_0x21c47d['resource']['__data']['rgbm']!==void(-0x11b9+-0x5*-0x5a7+-0xa8a)&&(_0x21c47d['data']['rgbm']=!!_0x21c47d['resource']['__data']['rgbm']),_0x21c47d['data']['frames']=_0x21c47d['resource']['__data']['frames'],delete _0x21c47d['resource']['__data']);const _0x19ce09=_0x21c47d['resource']['texture'];if(_0x19ce09&&(_0x19ce09['name']=_0x21c47d['name'],_0x21c47d['data']['hasOwnProp'+'erty']('minfilter')&&_0x19ce09['minFilter']!==sh[_0x21c47d['data']['minfilter']]&&(_0x19ce09['minFilter']=sh[_0x21c47d['data']['minfilter']]),_0x21c47d['data']['hasOwnProp'+'erty']('magfilter')&&_0x19ce09['magFilter']!==sh[_0x21c47d['data']['magfilter']]&&(_0x19ce09['magFilter']=sh[_0x21c47d['data']['magfilter']]),_0x21c47d['data']['hasOwnProp'+'erty']('addressu')&&_0x19ce09['addressU']!==th[_0x21c47d['data']['addressu']]&&(_0x19ce09['addressU']=th[_0x21c47d['data']['addressu']]),_0x21c47d['data']['hasOwnProp'+'erty']('addressv')&&_0x19ce09['addressV']!==th[_0x21c47d['data']['addressv']]&&(_0x19ce09['addressV']=th[_0x21c47d['data']['addressv']]),_0x21c47d['data']['hasOwnProp'+'erty']('mipmaps')&&_0x19ce09['mipmaps']!==_0x21c47d['data']['mipmaps']&&(_0x19ce09['mipmaps']=_0x21c47d['data']['mipmaps']),_0x21c47d['data']['hasOwnProp'+'erty']('anisotropy')&&_0x19ce09['anisotropy']!==_0x21c47d['data']['anisotropy']&&(_0x19ce09['anisotropy']=_0x21c47d['data']['anisotropy']),_0x21c47d['data']['hasOwnProp'+'erty']('rgbm'))){const _0x2e310d=_0x21c47d['data']['rgbm']?on:Di;_0x19ce09['type']!==_0x2e310d&&(_0x19ce09['type']=_0x2e310d);}_0x21c47d['resource']['texture']=_0x19ce09;const _0x480d99={};for(const _0x50cbce in _0x21c47d['data']['frames']){const _0x23bcd6=_0x21c47d['data']['frames'][_0x50cbce];_0x480d99[_0x50cbce]={'rect':new Q(_0x23bcd6['rect']),'pivot':new W(_0x23bcd6['pivot']),'border':new Q(_0x23bcd6['border'])};}_0x21c47d['resource']['frames']=_0x480d99,_0x21c47d['off']('change',this['_onAssetCh'+'ange'],this),_0x21c47d['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x5cf598,_0x715fd8,_0x3af6c9){let _0x2ea01d;if(_0x715fd8==='data'||_0x715fd8==='data.frame'+'s'){const _0x137f8c={};for(const _0x4437e2 in _0x3af6c9['frames'])_0x2ea01d=_0x3af6c9['frames'][_0x4437e2],_0x137f8c[_0x4437e2]={'rect':new Q(_0x2ea01d['rect']),'pivot':new W(_0x2ea01d['pivot']),'border':new Q(_0x2ea01d['border'])};_0x5cf598['resource']['frames']=_0x137f8c;}else{const _0x4eed7f=_0x715fd8['match'](pL);if(_0x4eed7f){const _0x42af1c=_0x4eed7f[-0x7b5*0x5+-0x1376+0x2*0x1d00];_0x3af6c9?(_0x5cf598['resource']['frames'][_0x42af1c]?(_0x2ea01d=_0x5cf598['resource']['frames'][_0x42af1c],_0x2ea01d['rect']['set'](_0x3af6c9['rect'][0xe12+0x38e+-0x11a0],_0x3af6c9['rect'][0x1f70+0x1*0x2b4+-0x2223],_0x3af6c9['rect'][-0x1*0x12bb+0x1*0x1565+-0x22*0x14],_0x3af6c9['rect'][-0x3d5*-0x7+0x2*0x1156+-0x313*0x14]),_0x2ea01d['pivot']['set'](_0x3af6c9['pivot'][0x7d8+-0x71*0x6+-0x532],_0x3af6c9['pivot'][-0xed6+-0x17ea+0x26c1*0x1]),_0x2ea01d['border']['set'](_0x3af6c9['border'][-0x6ea+-0xc50+0x133a],_0x3af6c9['border'][0x912+0x19*0xb3+-0x1a8c*0x1],_0x3af6c9['border'][0x1a2d*-0x1+-0x48e*0x5+0x30f5],_0x3af6c9['border'][0x160*-0x1a+-0x1*0x11a+0x24dd])):_0x5cf598['resource']['frames'][_0x42af1c]={'rect':new Q(_0x3af6c9['rect']),'pivot':new W(_0x3af6c9['pivot']),'border':new Q(_0x3af6c9['border'])},_0x5cf598['resource']['fire']('set:frame',_0x42af1c,_0x5cf598['resource']['frames'][_0x42af1c])):_0x5cf598['resource']['frames'][_0x42af1c]&&(delete _0x5cf598['resource']['frames'][_0x42af1c],_0x5cf598['resource']['fire']('remove:fra'+'me',_0x42af1c));}}}}function _L(){const _0x244fa4={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x5672d2={'astc':_0x244fa4['cTFASTC_4x'+'4'],'dxt':_0x244fa4['cTFBC1'],'etc1':_0x244fa4['cTFETC1'],'etc2':_0x244fa4['cTFETC1'],'pvr':_0x244fa4['cTFPVRTC1_'+'4_RGB'],'atc':_0x244fa4['cTFATC_RGB'],'none':_0x244fa4['cTFRGB565']},_0x3ecd16={'astc':_0x244fa4['cTFASTC_4x'+'4'],'dxt':_0x244fa4['cTFBC3'],'etc1':_0x244fa4['cTFRGBA444'+'4'],'etc2':_0x244fa4['cTFETC2'],'pvr':_0x244fa4['cTFPVRTC1_'+'4_RGBA'],'atc':_0x244fa4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x244fa4['cTFRGBA444'+'4']},_0x33f0c7={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x76b892=(_0x3d774d,_0x142fb1)=>{switch(_0x3d774d){case _0x244fa4['cTFETC1']:return _0x142fb1['formats']['etc2']?_0x33f0c7['ETC2_RGB']:_0x33f0c7['ETC1'];case _0x244fa4['cTFETC2']:return _0x33f0c7['ETC2_RGBA'];case _0x244fa4['cTFBC1']:return _0x33f0c7['DXT1'];case _0x244fa4['cTFBC3']:return _0x33f0c7['DXT5'];case _0x244fa4['cTFPVRTC1_'+'4_RGB']:return _0x33f0c7['PVRTC_4BPP'+'_RGB_1'];case _0x244fa4['cTFPVRTC1_'+'4_RGBA']:return _0x33f0c7['PVRTC_4BPP'+'_RGBA_1'];case _0x244fa4['cTFASTC_4x'+'4']:return _0x33f0c7['ASTC_4x4'];case _0x244fa4['cTFATC_RGB']:return _0x33f0c7['ATC_RGB'];case _0x244fa4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x33f0c7['ATC_RGBA'];case _0x244fa4['cTFRGBA32']:return _0x33f0c7['R8_G8_B8_A'+'8'];case _0x244fa4['cTFRGB565']:return _0x33f0c7['R5_G6_B5'];case _0x244fa4['cTFRGBA444'+'4']:return _0x33f0c7['R4_G4_B4_A'+'4'];}},_0x27f6b2=_0x295248=>{const _0x1a8a19=function(_0x162ec5,_0x4acd15){const _0x4639cf=_0x162ec5*(0x29*-0xdd+-0x2013+0x4378+0.00784313725490196)-(-0x50a+0x1102+-0xbf7),_0x653ac5=_0x4acd15*((-0x22b8+0xd*0x28c+0x45*0x6)/(-0x1a6b+-0xf09+0x2a73))-(-0x1*-0x937+0x1f52+-0x2888),_0x152cf1=Math['sqrt'](-0x1*-0x1e4d+0x1b4b+-0x3997-Math['min'](0x1551+0x16*-0x98+-0x840,_0x4639cf*_0x4639cf+_0x653ac5*_0x653ac5));return Math['max'](-0x6d4+-0xa81+-0x5c7*-0x3,Math['min'](-0x82*0xa+-0x1f95+0x8*0x4b5,Math['floor']((_0x152cf1+(-0x1a87+0x8*-0x499+0x3f50))*(-0x1*0xa16+0x122b+-0x815+0.5)*(-0x127c+0xe73+0x508))));};for(let _0x582042=-0x3*-0x8c1+0x14e+0x1*-0x1b91;_0x582042<_0x295248['length'];_0x582042+=-0x1*0xf0e+-0xa79*0x3+-0x1*-0x2e7d){const _0xb1722d=_0x295248[_0x582042+(0x1*0x1d55+-0x2f+0x1d23*-0x1)],_0x13f9f1=_0x295248[_0x582042+(-0xc60+0x5e6+0x67b)];_0x295248[_0x582042+(-0x55*-0x6b+-0x209*0x11+-0xee)]=_0xb1722d,_0x295248[_0x582042+(-0x16cb*0x1+-0x1d81*-0x1+-0x6b4)]=_0x1a8a19(_0xb1722d,_0x13f9f1),_0x295248[_0x582042+(-0xddd+-0xaa*-0x37+-0x16a6)]=-0x1c26+-0x1c37+0x395c;}return _0x295248;},_0x18ad68=_0x44e452=>{const _0xe2afa7=new Uint16Array(_0x44e452['length']/(-0x1*0x815+0xb*-0x21a+0x1f37));for(let _0x40d4e4=0x125*0x6+-0x209a+0x19bc;_0x40d4e4<_0x44e452['length'];_0x40d4e4+=-0x1*0x205b+-0x24e9+0x4548){const _0x32ac15=_0x44e452[_0x40d4e4+(0x5*0x4b3+0x1fcd+-0x374c)],_0x270db6=_0x44e452[_0x40d4e4+(-0x125*-0x1d+-0xa55+-0x16db)],_0x215d90=_0x44e452[_0x40d4e4+(0x42f+0x153f+0xcb6*-0x2)];_0xe2afa7[_0x40d4e4/(-0x33*-0x6f+-0x1*0x219f+-0x127*-0xa)]=(_0x32ac15&-0x8b1+0x1256+0x8ad*-0x1)<<-0x2a*-0xa8+-0x2d2+-0x18b6|(_0x270db6&-0xe8e+-0x1*0x1273+0x21fd)<<0x1f9e+-0xf95*-0x1+-0x2f30|_0x215d90>>-0x4*-0x240+0x729+-0x1026;}return _0xe2afa7;},_0x5dd509=(_0x44ec35,_0x1eabb4)=>(_0x44ec35&_0x44ec35-(-0x3*-0x54b+0x1*-0x1b3b+0x3*0x3c9))===-0x1dd3+0x83*0x1+0x430*0x7&&(_0x1eabb4&_0x1eabb4-(-0xbc1+0x141*0x1b+-0x1619))===-0x2fe+0x832+0x9*-0x94,_0x4eaceb=()=>typeof performance<'u'?performance['now']():0x1fd*-0x5+-0x78a+0x117b*0x1;let _0x13a6d3,_0x3fdcb7,_0x91eaae;const _0x1e1923=(_0x46cda0,_0x2fecb2,_0x3eb7e7)=>{if(_0x3eb7e7){if(_0x46cda0['formats']['astc'])return'astc';}else{if(_0x2fecb2){if(_0x46cda0['formats']['etc2'])return'etc2';}else{if(_0x46cda0['formats']['etc2'])return'etc2';if(_0x46cda0['formats']['etc1'])return'etc1';}}return(_0x4b6ff4=>{for(let _0x32d41d=-0x2250*-0x1+0x7f8+-0xa4*0x42;_0x32d41d<_0x4b6ff4['length'];++_0x32d41d){const _0x31dcfe=_0x4b6ff4[_0x32d41d];if(_0x46cda0['formats'][_0x31dcfe])return _0x31dcfe;}return'none';})(_0x2fecb2?_0x91eaae:_0x3fdcb7);},_0x443f9c=(_0x35cfc2,_0x32234f,_0x313ce7)=>{switch(_0x313ce7){case _0x244fa4['cTFETC1']:case _0x244fa4['cTFETC2']:return!(-0x2337+0x357*0x3+0x6*0x433);case _0x244fa4['cTFBC1']:case _0x244fa4['cTFBC3']:return(_0x35cfc2&0x2046+0x1d16+0x417*-0xf)===0x1d75*-0x1+0x3*0x57e+0xcfb&&(_0x32234f&0x13*0x1b8+0xb42+0x2be7*-0x1)===-0x7fd+0x2112+-0x1*0x1915;case _0x244fa4['cTFPVRTC1_'+'4_RGB']:case _0x244fa4['cTFPVRTC1_'+'4_RGBA']:return _0x5dd509(_0x35cfc2,_0x32234f);case _0x244fa4['cTFASTC_4x'+'4']:return!(-0x1074+0x3*-0xcf9+0x375f);case _0x244fa4['cTFATC_RGB']:case _0x244fa4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x17fd+0x1ec*-0x9+-0x6b1);}return!(0x245*-0x4+-0x2ad*0x1+0xd7*0xe);},_0x49b004=(_0x137497,_0x1cfe18,_0x1c5fc0)=>{if(!_0x13a6d3['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x1b3096=_0x4eaceb(),_0x1045f5=new _0x13a6d3['KTX2File'](new Uint8Array(_0x1cfe18)),_0x4bc040=_0x1045f5['getWidth'](),_0x49acaf=_0x1045f5['getHeight'](),_0x51905d=_0x1045f5['getLevels'](),_0x55e300=!!_0x1045f5['getHasAlph'+'a'](),_0x2a94ab=_0x1045f5['isUASTC']&&_0x1045f5['isUASTC']();if(!_0x4bc040||!_0x49acaf||!_0x51905d)throw _0x1045f5['close'](),_0x1045f5['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x137497+'\x20width='+_0x4bc040+'\x20height='+_0x49acaf+'\x20levels='+_0x51905d);const _0x31c123=_0x1e1923(_0x1c5fc0['deviceDeta'+'ils'],_0x55e300,_0x2a94ab),_0x5121fc=!!_0x1c5fc0['isGGGR']&&_0x31c123==='pvr';let _0x23184f;if(_0x5121fc?_0x23184f=_0x244fa4['cTFRGBA32']:(_0x23184f=_0x55e300?_0x3ecd16[_0x31c123]:_0x5672d2[_0x31c123],_0x443f9c(_0x4bc040,_0x49acaf,_0x23184f)||(_0x23184f=_0x55e300?_0x244fa4['cTFRGBA32']:_0x244fa4['cTFRGB565'])),!_0x1045f5['startTrans'+'coding']())throw _0x1045f5['close'](),_0x1045f5['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x137497);let _0x206697;const _0x48620a=[];for(let _0x438557=-0x1*0x25cd+-0x22d9+0x223*0x22;_0x438557<_0x51905d;++_0x438557){const _0x1c9521=_0x1045f5['getImageTr'+'anscodedSi'+'zeInBytes'](_0x438557,-0x10dd+0x1e45+-0x8f*0x18,-0x1b28+0x23e6+0x175*-0x6,_0x23184f),_0x5ac974=new Uint8Array(_0x1c9521);if(!_0x1045f5['transcodeI'+'mage'](_0x5ac974,_0x438557,-0x1971+0x7*-0xb+0x19be,-0x2*0xfc4+0x1767+-0x1*-0x821,_0x23184f,0x3ad+0x255b*-0x1+0x21ae,-(0x320+0x1a5*0x3+0x407*-0x2),-(0x10*-0x209+-0x1afd+0x3b8e)))throw _0x1045f5['close'](),_0x1045f5['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x137497);const _0x22acf7=_0x23184f===_0x244fa4['cTFRGB565']||_0x23184f===_0x244fa4['cTFRGBA444'+'4'];_0x48620a['push'](_0x22acf7?new Uint16Array(_0x5ac974['buffer']):_0x5ac974);}if(_0x1045f5['close'](),_0x1045f5['delete'](),_0x5121fc){for(_0x23184f=_0x244fa4['cTFRGB565'],_0x206697=0x205d*0x1+0xc82+-0xef5*0x3;_0x206697<_0x48620a['length'];++_0x206697)_0x48620a[_0x206697]=_0x18ad68(_0x27f6b2(_0x48620a[_0x206697]));}return{'format':_0x76b892(_0x23184f,_0x1c5fc0['deviceDeta'+'ils']),'width':_0x4bc040,'height':_0x49acaf,'levels':_0x48620a,'cubemap':!(0x1*-0x1c5d+0xc09+0x1055),'transcodeTime':_0x4eaceb()-_0x1b3096,'url':_0x137497,'unswizzledGGGR':_0x5121fc};},_0x1cb5cb=(_0x56236b,_0x23f212,_0x354b1a)=>{const _0x10e827=_0x4eaceb(),_0x51cceb=new _0x13a6d3['BasisFile'](new Uint8Array(_0x23f212)),_0x46db42=_0x51cceb['getImageWi'+'dth'](-0x2*-0x3ec+0x19*0xfb+-0x205b,0xdc*0x2+-0x1*-0x13b3+-0x156b*0x1),_0x5bd928=_0x51cceb['getImageHe'+'ight'](-0x1*0x8e1+0x8d5+-0x3*-0x4,0xc13+-0x1115*-0x1+-0x4*0x74a),_0x269fd8=_0x51cceb['getNumImag'+'es'](),_0x43e111=_0x51cceb['getNumLeve'+'ls'](-0xaf5+-0xed9+-0x44d*-0x6),_0x50d31a=!!_0x51cceb['getHasAlph'+'a'](),_0xd3f1a3=_0x51cceb['isUASTC']&&_0x51cceb['isUASTC']();if(!_0x46db42||!_0x5bd928||!_0x269fd8||!_0x43e111)throw _0x51cceb['close'](),_0x51cceb['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x56236b+'\x20width='+_0x46db42+'\x20height='+_0x5bd928+'\x20images='+_0x269fd8+'\x20levels='+_0x43e111);const _0x532503=_0x1e1923(_0x354b1a['deviceDeta'+'ils'],_0x50d31a,_0xd3f1a3),_0x74ff4f=!!_0x354b1a['isGGGR']&&_0x532503==='pvr';let _0x217b7b;if(_0x74ff4f?_0x217b7b=_0x244fa4['cTFRGBA32']:(_0x217b7b=_0x50d31a?_0x3ecd16[_0x532503]:_0x5672d2[_0x532503],_0x443f9c(_0x46db42,_0x5bd928,_0x217b7b)||(_0x217b7b=_0x50d31a?_0x244fa4['cTFRGBA32']:_0x244fa4['cTFRGB565'])),!_0x51cceb['startTrans'+'coding']())throw _0x51cceb['close'](),_0x51cceb['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x56236b);let _0x1de248;const _0x4bfaec=[];for(let _0x56e082=0x1*0x6d+0x1*-0x21dd+0x2170;_0x56e082<_0x43e111;++_0x56e082){const _0x42e73b=_0x51cceb['getImageTr'+'anscodedSi'+'zeInBytes'](0x73f*-0x1+0x3d*0x35+-0xd*0x6a,_0x56e082,_0x217b7b),_0x5cf05e=new Uint8Array(_0x42e73b);if(!_0x51cceb['transcodeI'+'mage'](_0x5cf05e,0x1*-0x4b5+0xfe3+-0x597*0x2,_0x56e082,_0x217b7b,-0x1c78+-0x2*-0xb61+0x5b6,0xbfc*0x3+-0x24e3*0x1+-0xef*-0x1)){if(_0x56e082===_0x43e111-(-0x2c5+0x1bd9+-0x1913)&&_0x42e73b===_0x4bfaec[_0x56e082-(-0x1*-0x13d0+-0x2*0xe25+0x87b)]['buffer']['byteLength'])_0x5cf05e['set'](new Uint8Array(_0x4bfaec[_0x56e082-(-0x3*0x1c9+-0xe55+0x13b1)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x56236b);else throw _0x51cceb['close'](),_0x51cceb['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x56236b);}const _0x5e2e3f=_0x217b7b===_0x244fa4['cTFRGB565']||_0x217b7b===_0x244fa4['cTFRGBA444'+'4'];_0x4bfaec['push'](_0x5e2e3f?new Uint16Array(_0x5cf05e['buffer']):_0x5cf05e);}if(_0x51cceb['close'](),_0x51cceb['delete'](),_0x74ff4f){for(_0x217b7b=_0x244fa4['cTFRGB565'],_0x1de248=-0x101*-0x3+0x5*-0x273+0x3*0x314;_0x1de248<_0x4bfaec['length'];++_0x1de248)_0x4bfaec[_0x1de248]=_0x18ad68(_0x27f6b2(_0x4bfaec[_0x1de248]));}return{'format':_0x76b892(_0x217b7b,_0x354b1a['deviceDeta'+'ils']),'width':_0x46db42,'height':_0x5bd928,'levels':_0x4bfaec,'cubemap':!(-0x1465+0x11dc+0x28a),'transcodeTime':_0x4eaceb()-_0x10e827,'url':_0x56236b,'unswizzledGGGR':_0x74ff4f};},_0x3108a5=(_0x3677c0,_0x1cd7ff,_0x3aadb8)=>_0x3aadb8['isKTX2']?_0x49b004(_0x3677c0,_0x1cd7ff,_0x3aadb8):_0x1cb5cb(_0x3677c0,_0x1cd7ff,_0x3aadb8),_0x49c3dc=(_0x3c66f7,_0x53bcb8,_0x17753b)=>{try{const _0x2ceeea=_0x3108a5(_0x3c66f7,_0x53bcb8,_0x17753b);_0x2ceeea['levels']=_0x2ceeea['levels']['map'](_0x5e9068=>_0x5e9068['buffer']),self['postMessag'+'e']({'url':_0x3c66f7,'data':_0x2ceeea},_0x2ceeea['levels']);}catch(_0x96adc0){self['postMessag'+'e']({'url':_0x3c66f7,'err':_0x96adc0},null);}},_0x5d036f=(_0x38ed0f,_0x80c979)=>{const _0x44f437=(_0x31df53,_0x4e7d8c)=>(WebAssembly['instantiat'+'e'](_0x38ed0f['module'],_0x31df53)['then'](_0x4815b3=>{_0x4e7d8c(_0x4815b3);})['catch'](_0x3b7d89=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x3b7d89);}),{});self['BASIS'](_0x38ed0f['module']?{'instantiateWasm':_0x44f437}:null)['then'](_0x102804=>{_0x102804['initialize'+'Basis'](),_0x13a6d3=_0x102804,_0x3fdcb7=_0x38ed0f['rgbPriorit'+'y'],_0x91eaae=_0x38ed0f['rgbaPriori'+'ty'],_0x80c979(null);});},_0xae28da=[];self['onmessage']=_0x2be653=>{const _0x2601ab=_0x2be653['data'];switch(_0x2601ab['type']){case'init':_0x5d036f(_0x2601ab['config'],()=>{for(let _0x1cdb13=0x2025*0x1+0x1*-0x2285+0x26*0x10;_0x1cdb13<_0xae28da['length'];++_0x1cdb13)_0x49c3dc(_0xae28da[_0x1cdb13]['url'],_0xae28da[_0x1cdb13]['data'],_0xae28da[_0x1cdb13]['options']);_0xae28da['length']=-0x3*-0x1fa+-0x1881+0x13d*0xf;});break;case'transcode':_0x13a6d3?_0x49c3dc(_0x2601ab['url'],_0x2601ab['data'],_0x2601ab['options']):_0xae28da['push'](_0x2601ab);break;}};}const gL=_0x5b16c9=>({'astc':!!_0x5b16c9['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x5b16c9['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x5b16c9['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x5b16c9['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x5b16c9['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x5b16c9['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x510e82,_0x3ecfbc)=>{const _0x5072b3=_0x4b4d00=>{const _0x80c824=['/*\x20basis\x20*'+'/',_0x4b4d00,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x80c824],{'type':'applicatio'+'n/javascri'+'pt'});},_0x1393ff=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x307fcf=new WebAssembly['Module'](Uint8Array['of'](-0x4c7*0x1+-0x80a+0xcd1*0x1,0x1983*-0x1+-0x7*0xad+0x1e9f,0x4*-0x185+-0x10de+-0x35*-0x71,0x709+0x1*-0x1835+0x1199,0x835*-0x2+-0x1b2*-0x4+0x1*0x9a3,-0x25e1+-0xb63+0x3144,-0x1*0x1b9f+0x8a7+0x4be*0x4,0x7c*0x12+-0x19e+0x1*-0x71a));if(_0x307fcf instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x307fcf)instanceof WebAssembly['Instance'];}}catch{}return!(0x2563+-0x1*-0x18d7+-0x3e39);},_0x11d746=(_0x15fac1,_0x4a177e)=>{_0x3ecfbc(null,{'workerUrl':URL['createObje'+'ctURL'](_0x5072b3(_0x15fac1)),'module':_0x4a177e,'rgbPriority':_0x510e82['rgbPriorit'+'y'],'rgbaPriority':_0x510e82['rgbaPriori'+'ty']});},_0x51ddb6={'cache':!(-0x2*0x6d3+0x1d3c*0x1+-0x1*0xf96),'responseType':'text','retry':_0x510e82['maxRetries']>-0x1098+0x1*0x198f+-0x8f7,'maxRetries':_0x510e82['maxRetries']};if(_0x510e82['glueUrl']&&_0x510e82['wasmUrl']&&_0x1393ff()){let _0x2d4137=null,_0x3aae25=null;$e['get'](_0x510e82['glueUrl'],_0x51ddb6,(_0x42e841,_0x56dc46)=>{_0x42e841?_0x3ecfbc(_0x42e841):_0x3aae25?_0x11d746(_0x56dc46,_0x3aae25):_0x2d4137=_0x56dc46;});const _0x36f643=fetch(_0x510e82['wasmUrl']),_0x5aec91=()=>{_0x36f643['then'](_0x19ff50=>_0x19ff50['arrayBuffe'+'r']())['then'](_0x4f4aa6=>WebAssembly['compile'](_0x4f4aa6))['then'](_0x9fcfc2=>{_0x2d4137?_0x11d746(_0x2d4137,_0x9fcfc2):_0x3aae25=_0x9fcfc2;})['catch'](_0x2b5cba=>{_0x3ecfbc(_0x2b5cba,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x36f643)['then'](_0x3d5cab=>{_0x2d4137?_0x11d746(_0x2d4137,_0x3d5cab):_0x3aae25=_0x3d5cab;})['catch'](_0x50dda4=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x510e82['wasmUrl']+'\x20('+_0x50dda4+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5aec91();}):_0x5aec91();}else $e['get'](_0x510e82['fallbackUr'+'l'],_0x51ddb6,(_0x57aa50,_0x3b760e)=>{_0x57aa50?_0x3ecfbc(_0x57aa50,null):_0x11d746(_0x3b760e,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x2d0107,_0x5e6ca6,_0x354e35,_0x393724){if(this['callbacks']['hasOwnProp'+'erty'](_0x2d0107))this['callbacks'][_0x2d0107]['push'](_0x354e35);else{this['callbacks'][_0x2d0107]=[_0x354e35];const _0x311b6b={'url':_0x2d0107,'data':_0x5e6ca6,'options':_0x393724};this['clients']['length']>-0x25e1*-0x1+-0xb*0x350+-0x7b*0x3?this['clients']['shift']()['run'](_0x311b6b):this['queue']['push'](_0x311b6b);}}['enqueueCli'+'ent'](_0x4bf7b1){this['queue']['length']>0x844+0x2329*-0x1+0x1cb*0xf?_0x4bf7b1['run'](this['queue']['shift']()):this['clients']['push'](_0x4bf7b1);}['handleResp'+'onse'](_0x327217,_0x5a42ae,_0x31b9cd){const _0x446b7f=this['callbacks'][_0x327217];if(_0x5a42ae){for(let _0x52f19f=0xd3*0x2+0x1dd2+-0x1f78;_0x52f19f<_0x446b7f['length'];++_0x52f19f)_0x446b7f[_0x52f19f](_0x5a42ae);}else{_0x31b9cd['format']===_c||_0x31b9cd['format']===gc?_0x31b9cd['levels']=_0x31b9cd['levels']['map'](_0x48424a=>new Uint16Array(_0x48424a)):_0x31b9cd['levels']=_0x31b9cd['levels']['map'](_0x3cb88a=>new Uint8Array(_0x3cb88a));for(let _0x16ee2c=0x8*0x4dc+-0x302+-0x23de;_0x16ee2c<_0x446b7f['length'];++_0x16ee2c)_0x446b7f[_0x16ee2c](null,_0x31b9cd);}delete this['callbacks'][_0x327217];}}class SL{constructor(_0x5ec39a,_0x4c13ad,_0x4efedb){this['queue']=_0x5ec39a,this['worker']=new Worker(_0x4c13ad['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x1acf44=>{const _0x37fdda=_0x1acf44['data'];this['queue']['handleResp'+'onse'](_0x37fdda['url'],_0x37fdda['err'],_0x37fdda['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x4c13ad}),this['eager']=_0x4efedb;}['run'](_0x3078e2){const _0x486df8=[];_0x3078e2['data']instanceof ArrayBuffer&&_0x486df8['push'](_0x3078e2['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x3078e2['url'],'format':_0x3078e2['format'],'data':_0x3078e2['data'],'options':_0x3078e2['options']},_0x486df8),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x1193+0x1735+-0x5a1,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=0x12e9*-0x2+0xc0+-0x2d*-0xd3,Tf=new xL();let Hg=null,Af=!(-0x3cb*0x1+0x111d*0x2+-0x1e6e);function AL(_0x46c048){if(!Af){if(!_0x46c048)_0x46c048=Hg||{};else{if(_0x46c048['lazyInit']){Hg=_0x46c048;return;}}if(!_0x46c048['glueUrl']||!_0x46c048['wasmUrl']||!_0x46c048['fallbackUr'+'l']){const _0x430637=ay['getConfig']('BASIS');_0x430637&&(_0x46c048={'glueUrl':_0x430637['glueUrl'],'wasmUrl':_0x430637['wasmUrl'],'fallbackUrl':_0x430637['fallbackUr'+'l'],'numWorkers':_0x430637['numWorkers']});}if(_0x46c048['glueUrl']||_0x46c048['wasmUrl']||_0x46c048['fallbackUr'+'l']){Af=!(0xc*0x106+0xd31*-0x1+0x1*0xe9);const _0x4d41cb=Math['max'](0xf86*0x1+0x118b+0x1*-0x2110,Math['min'](0x78f+0x4e3+-0x27a*0x5,_0x46c048['numWorkers']||vL)),_0x2595f8=_0x46c048['numWorkers']===0x178c+0x53a+0x5*-0x5c1||(_0x46c048['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x46c048['eagerWorke'+'rs']:!(0x1*0x2237+-0x4b*-0x26+0x37d*-0xd));_0x46c048['rgbPriorit'+'y']=_0x46c048['rgbPriorit'+'y']||bL,_0x46c048['rgbaPriori'+'ty']=_0x46c048['rgbaPriori'+'ty']||wL,_0x46c048['maxRetries']=_0x46c048['hasOwnProp'+'erty']('maxRetries')?_0x46c048['maxRetries']:TL,yL(_0x46c048,(_0x54ec8a,_0x12b23a)=>{if(_0x54ec8a)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x54ec8a);else{for(let _0x1494f6=-0x3fe*-0x3+-0x1bec+0x1a*0x9d;_0x1494f6<_0x4d41cb;++_0x1494f6)Tf['enqueueCli'+'ent'](new SL(Tf,_0x12b23a,_0x2595f8));}});}}}let su=null;function Fx(_0x4b8302,_0x47f4cd,_0x346bc2,_0x6de337,_0x458630){return AL(),su||(su={'formats':gL(_0x4b8302)}),Tf['enqueueJob'](_0x47f4cd,_0x346bc2,_0x6de337,{'deviceDetails':su,'isGGGR':!!(_0x458630!=null&&_0x458630['isGGGR']),'isKTX2':!!(_0x458630!=null&&_0x458630['isKTX2'])}),Af;}class Na{['load'](_0x2af0fe,_0x49ced2,_0x47a033){throw new Error('not\x20implem'+'ented');}['open'](_0x15060b,_0x173ddd,_0x1ba0a0){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x1df219,_0x1cf2df){super(),this['device']=_0x1cf2df,this['maxRetries']=-0x1109+0x155+0xfb4;}['load'](_0x2b8f9b,_0x359573,_0x68cb31){const _0x3b20ef=this['device'],_0x228d0b=_0x1db638=>{var _0x42f3d4,_0x45ca53,_0x453bb4;Fx(_0x3b20ef,_0x2b8f9b['load'],_0x1db638,_0x359573,{'isGGGR':(((_0x453bb4=(_0x45ca53=(_0x42f3d4=_0x68cb31==null?void(0x3*-0x6cc+0x231*-0x3+0x75*0x3b):_0x68cb31['file'])==null?void(0x1*-0x1e54+-0x771*-0x5+-0x6e1):_0x42f3d4['variants'])==null?void(0x1095*0x2+-0x122*-0x1+0x36e*-0xa):_0x45ca53['basis'])==null?void(0x10c1+-0x14f6+0x435):_0x453bb4['opt'])&-0x16a0+0x40f*-0x7+0x3311)!==-0x6ca+-0x53b*-0x1+-0x3*-0x85})||_0x359573('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x68cb31['name']+']('+_0x68cb31['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x2b8f9b['load'],(_0x42f1d9,_0x5adb69)=>{_0x42f1d9?_0x359573(_0x42f1d9):_0x228d0b(_0x5adb69);},_0x68cb31,this['maxRetries']);}['open'](_0xe474e3,_0xbb1628,_0x4c61c8,_0x2dfa46={}){const _0x458a4e=_0x2dfa46['srgb']?Cc(_0xbb1628['format']):_0xbb1628['format'],_0x9b58f0=new he(_0x4c61c8,{'name':_0xe474e3,'profilerHint':ur,'addressU':_0xbb1628['cubemap']?ae:tt,'addressV':_0xbb1628['cubemap']?ae:tt,'width':_0xbb1628['width'],'height':_0xbb1628['height'],'format':_0x458a4e,'cubemap':_0xbb1628['cubemap'],'levels':_0xbb1628['levels'],..._0x2dfa46});return _0x9b58f0['upload'](),_0x9b58f0;}}const Ox=new Uint8Array([0x1*-0x1976+0x2*-0x4f3+0x23e5,0x1f43+0x1c1a+-0x3*0x13af,-0x13a6+-0x1d8b*-0x1+-0x5*0x1eb,0x99e+-0x37*0x26+-0x12d*0x1,0x1db6+-0x19bc+0xc9*-0x5,0x24c9+0x21b1+-0x4670,-0xa4*-0x16+-0xf58+0x15a*0x1,-0xf7d+0x375+-0x609*-0x2,0x442*-0x7+-0x389+-0x1*-0x2157,0x4f8+-0x6*0x207+0x732*0x1,-0x840+-0x69*0x29+-0xcf*-0x1f,0x1c73+-0x52a+-0x173c,0x26*0xf1+-0xd4*-0x12+0x13*-0x2a7,0x1593+0x98*0x23+-0x2a13,0x18*-0x112+-0x263a+0x402e,-0xcc9+0x1*0x1cbb+-0xfa0,-0x1439+-0x23e0+0x3819,-0x21fd+-0x13c8+0x35c5,-0x7b3+-0x33*0x1b+-0x6*-0x22e,0x1ce2+-0x1*-0x26b0+-0x4391,-0x17af+-0x1ef2+0x36a1,-0x1fdc+0xf*0x1c6+0x542,-0x79d*0x4+-0x6*-0x220+0xb*0x19c,-0x3e8+0xdb0+-0x9c7,0x204e+0x1*-0x13f3+-0xc53,0x1c39+-0x1f8a*0x1+0x357,0x1356+0x1bf4+0x2f4a*-0x1,0x1*-0x1358+-0x3*-0x3db+-0xb5*-0xb,0x20b8+-0x2193+0x49*0x3,-0x69a+0xd4*0x8+-0x19*-0x1,-0x2692*0x1+-0x93*-0x2d+-0x50*-0x29,-0x1665+-0x200*-0xd+-0x2d7,0x1*-0x611+-0x1*0x14a6+0x1b40,0xa1*0x25+-0x1e3e+0x6f9,0x15df+-0x81*-0x2b+-0x2b8a,-0xc59+-0x243*-0x1+0x50b*0x2,0x13d3+0x2707+-0x3acd,0x1e09+0x7f9*-0x1+-0x15c7,-0x5d*0x37+0x189d+0x1*-0x45e,-0x56f+-0x316*0xc+0x4*0xaae,-0x43*0x26+-0x434+0xe7a,-0x2b*0x61+-0xb9b*-0x1+-0x37*-0x18,-0x6f2*0x3+-0xaf1+0x20a1,-0x24a9+-0x2333+0x483f,-0x38*0x56+-0x7bb*-0x5+0x1373*-0x1,-0x1be5+-0x1*0x12b9+0x2f02,-0x1*-0x94f+0x1bde+-0x24cb,0x193b*0x1+-0xbd3*-0x1+-0x2458,-0x15ea+-0x1*0x18fe+-0x5*-0x963,-0x1a*-0x2+0x146a+-0x149e,-0x277+-0xb*0x23+0x1*0x3f8,-0xa3c*0x1+0xc61*0x1+-0x1cc,0x116f*-0x2+0x1*-0x9d5+0x2cb3,-0x1f00+0x9*0x1d+-0x6*-0x50b,0xb63+-0x7c+0xc*-0xe3,-0xc12+0x96d*-0x3+0x28de*0x1,0x2*-0x79b+-0x126a*0x2+-0x1a4f*-0x2,-0x1*-0xbd2+-0x240b*-0x1+-0x2ef0,0x6e*0x4b+-0x557*0x5+-0x587,0xa1*0x34+0x18e1+0x3995*-0x1,-0x1f83*0x1+-0x1*-0x22d3+-0x350,0x1*-0x843+-0xb2c+0x5*0x3e3,0x2*0x136e+0x7dd*0x1+-0x2e70,0x177c+-0x2702+-0xfcb*-0x1,-0x172*-0xf+0x15*0x17+-0x7c1*0x3,0x170f+-0x12f0+-0x3db,0x3*0x6ca+0x2678+-0x2*0x1d14,0x1*0x1927+0x1336*0x1+-0x2c1b,-0x1*0x34d+-0x11fc+0x455*0x5,0x6ff+0x221f+-0x71*0x5c]),kx=(_0x1703c0,_0x370cd7)=>{const _0x46d4a6=new he(_0x1703c0,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(0x1d09+0x1c13+-0x391b*0x1),'levels':[_0x370cd7]}),_0x252cb9=new pt({'colorBuffer':_0x46d4a6,'depth':!(-0xb44*0x1+0x1ece+-0x1389)});_0x1703c0['setFramebu'+'ffer'](_0x252cb9['impl']['_glFrameBu'+'ffer']),_0x1703c0['initRender'+'Target'](_0x252cb9);const _0x136eb4=new Uint8ClampedArray(-0x1181+0x5f1*-0x3+-0x1d*-0x138);return _0x1703c0['gl']['readPixels'](0x149*-0x15+0x2a*-0xaa+0x124b*0x3,-0xe19+0x2626+-0x180d,0xc98+-0xc6a*0x1+-0xf*0x3,0xf96+0xf50*-0x1+-0x45,_0x1703c0['gl']['RGBA'],_0x1703c0['gl']['UNSIGNED_B'+'YTE'],_0x136eb4),_0x252cb9['destroy'](),_0x46d4a6['destroy'](),_0x136eb4[-0x21d*-0x1+-0x94*-0xd+0x5*-0x1ed]===0xf6f+0x1838*-0x1+0x1e*0x4b&&_0x136eb4[-0x1fc3+-0x10d7+0x309b]===0x56b+-0xd2*0x2c+0x1eaf&&_0x136eb4[-0x1b14*0x1+-0x1*-0xc85+0xe91*0x1]===0x1c43+0x23*0x26+-0x1*0x2172&&_0x136eb4[-0x1e7b+-0xe*-0x1e5+-0x4*-0xfe]===-0xe70+-0x11f5+-0x1*-0x20a4;},CL=_0x302ff5=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x4dfdf9=>kx(_0x302ff5,_0x4dfdf9))['catch'](_0x3b5ec8=>!(-0x2412+-0x2135*0x1+0x4548)),ML=_0x1d909a=>new Promise((_0x277237,_0x4a21f4)=>{const _0x2811cc=new Image();_0x2811cc['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x2811cc['onload']=()=>{_0x277237(kx(_0x1d909a,_0x2811cc));};});class PL{static['run'](_0x2132c6){CL(_0x2132c6)['then'](_0x53121e=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x53121e);}),ML(_0x2132c6)['then'](_0x1e2281=>{console['log']('imgElement'+'IsCorrect='+_0x1e2281);});}}class RL extends Na{constructor(_0x319bfa,_0x574fd3){super(),this['crossOrigi'+'n']=_0x319bfa['prefix']?'anonymous':null,this['maxRetries']=0x13da+0x2*0x227+0x1828*-0x1,this['device']=_0x574fd3,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x1ee5f0,_0x4a0778,_0x3549a9){var _0x5f32b6;const _0x59a149=!!((_0x5f32b6=_0x3549a9==null?void(0x19*-0x18b+-0x63d*-0x1+0x2056):_0x3549a9['file'])!=null&&_0x5f32b6['contents']);if(_0x59a149){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x3549a9['file']['contents']]),_0x4a0778);return;}_0x1ee5f0={'load':URL['createObje'+'ctURL'](new Blob([_0x3549a9['file']['contents']])),'original':_0x1ee5f0['original']};}const _0x36db19=(_0xc2cec7,_0x216382)=>{_0x59a149&&URL['revokeObje'+'ctURL'](_0x1ee5f0['load']),_0x4a0778(_0xc2cec7,_0x216382);};let _0x205911;_0x3549a9&&_0x3549a9['options']&&_0x3549a9['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x205911=_0x3549a9['options']['crossOrigi'+'n']:Da['test'](_0x1ee5f0['load'])&&(_0x205911=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x1ee5f0['load'],_0x1ee5f0['original'],_0x205911,_0x36db19):this['_loadImage'](_0x1ee5f0['load'],_0x1ee5f0['original'],_0x205911,_0x36db19);}['open'](_0xab3cfb,_0x1b51e4,_0x159f8c,_0x4ac117={}){const _0x186e5f=new he(_0x159f8c,{'name':_0xab3cfb,'profilerHint':ur,'width':_0x1b51e4['width'],'height':_0x1b51e4['height'],'format':_0x4ac117['srgb']?rs:Se,..._0x4ac117});return _0x186e5f['setSource'](_0x1b51e4),_0x186e5f;}['_loadImage'](_0xe1e4e6,_0x58fa2f,_0x4d48fc,_0x1ccf7d){const _0x11f643=new Image();_0x4d48fc&&(_0x11f643['crossOrigi'+'n']=_0x4d48fc);let _0x30fdc8=0x608+0x1*-0x13d5+0xdcd*0x1;const _0x293eb9=this['maxRetries'];let _0x2908d0;_0x11f643['onload']=function(){_0x1ccf7d(null,_0x11f643);},_0x11f643['onerror']=function(){if(!_0x2908d0){if(_0x293eb9>0x3*-0x74f+0x5*-0x719+0x396a*0x1&&++_0x30fdc8<=_0x293eb9){const _0x272008=Math['pow'](-0x10b*0x13+0x2548+-0x1175,_0x30fdc8)*(0x1aaa+0x1aaa+-0x79*0x70);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x58fa2f+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x272008+'ms...');const _0x4059ae=_0xe1e4e6['indexOf']('?')>=-0x1240+0x1*0x13ed+-0x1ad?'&':'?';_0x2908d0=setTimeout(()=>{_0x11f643['src']=_0xe1e4e6+_0x4059ae+'retry='+Date['now'](),_0x2908d0=null;},_0x272008);}else _0x1ccf7d('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x58fa2f+'\x27');}},_0x11f643['src']=_0xe1e4e6;}['_loadImage'+'Bitmap'](_0x8aa93d,_0x14cf21,_0x43475c,_0x4426e8){const _0x5ae82b={'cache':!(0xa21+0x1285+-0x1ca6),'responseType':'blob','retry':this['maxRetries']>0x1416+-0x8d0*0x1+-0x6*0x1e1,'maxRetries':this['maxRetries']};$e['get'](_0x8aa93d,_0x5ae82b,(_0xd12e6b,_0x1e026d)=>{_0xd12e6b?_0x4426e8(_0xd12e6b):this['_loadImage'+'BitmapFrom'+'Blob'](_0x1e026d,_0x4426e8);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x430e0b,_0x3e784b){createImageBitmap(_0x430e0b,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x344b12=>_0x3e784b(null,_0x344b12))['catch'](_0x4455f7=>_0x3e784b(_0x4455f7));}}const iu=[0x6350c20c+-0x3c62*0x16db7+0x1*0x4b466dad,-0x998dff8c+-0xf5*0x809bbd+0x1cfd43c8d,0x11ef1a0c+-0x4131a6b*0x3+-0x2*-0x2321fa1],IL={0x83f0:yc,0x83f2:zf,0x83f3:$o,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x190e01,_0x5da256,_0x47c77a,_0x18fc31){return _0x190e01===_a?new Uint32Array(_0x5da256,_0x47c77a,_0x18fc31/(-0x2254+-0x1ff*0x11+0x4447)):new Uint8Array(_0x5da256,_0x47c77a,_0x18fc31);}class LL extends Na{constructor(_0xca56b){super(),this['maxRetries']=-0x7*-0x40c+0x57c*0x3+-0x1*0x2cc8;}['load'](_0x364b31,_0x28d45b,_0x3f925f){le['fetchArray'+'Buffer'](_0x364b31['load'],_0x28d45b,_0x3f925f,this['maxRetries']);}['open'](_0x5d1a5c,_0x2c4f92,_0x2a5e15,_0x5847a1={}){const _0xa2b0de=this['parse'](_0x2c4f92);if(!_0xa2b0de)return null;const _0x358d88=_0x5847a1['srgb']?Cc(_0xa2b0de['format']):_0xa2b0de['format'],_0x5cbc74=new he(_0x2a5e15,{'name':_0x5d1a5c,'profilerHint':ur,'addressU':_0xa2b0de['cubemap']?ae:tt,'addressV':_0xa2b0de['cubemap']?ae:tt,'width':_0xa2b0de['width'],'height':_0xa2b0de['height'],'format':_0x358d88,'cubemap':_0xa2b0de['cubemap'],'levels':_0xa2b0de['levels'],..._0x5847a1});return _0x5cbc74['upload'](),_0x5cbc74;}['parse'](_0x395b7b){const _0x525db6=new Uint32Array(_0x395b7b);if(iu[-0x31d*-0x5+0x21d8+-0x5b*0x8b]!==_0x525db6[0x20ca+0x30a*-0xc+-0x6*-0x9d]||iu[-0xd79*0x1+0x2081+-0x1*0x1307]!==_0x525db6[0x1*0x105e+-0x11cf+0x172]||iu[0x1d5+0x1460+-0x1*0x1633]!==_0x525db6[-0x2c5*-0x7+0x5*0x2d7+0x865*-0x4])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x40fa40={'endianness':_0x525db6[0x245*-0x7+0x1ed6+-0xef0],'glType':_0x525db6[-0x83d+0x161f+-0xdde],'glTypeSize':_0x525db6[-0x1*0x6aa+-0xf*0x2b+0x934],'glFormat':_0x525db6[-0x62a+0xad6+0x55*-0xe],'glInternalFormat':_0x525db6[-0x107c*0x1+-0x3d1*-0x2+0x8e1],'glBaseInternalFormat':_0x525db6[0x1fe4+0x1d6e+-0x3d4a],'pixelWidth':_0x525db6[-0x1f7*-0xf+0x7bf*-0x2+0xd2*-0x11],'pixelHeight':_0x525db6[0x911*0x3+0x3*-0x8e7+-0x2*0x3a],'pixelDepth':_0x525db6[-0x2669+0x1*-0x200c+0x4680],'numberOfArrayElements':_0x525db6[0x713*0x3+-0x2f*-0xa1+0x11*-0x2fc],'numberOfFaces':_0x525db6[0x5*-0x5aa+0x2586+-0x21*0x47],'numberOfMipmapLevels':_0x525db6[0x1*-0x18a5+0x2ee+0x15c5],'bytesOfKeyValueData':_0x525db6[0x991+0xeab*0x1+0x182d*-0x1]};if(_0x40fa40['pixelDepth']>0x11*-0x185+-0x14b2+0x2e88)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x40fa40['numberOfAr'+'rayElement'+'s']!==0x984+-0xbf8+0x274*0x1)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x55c08e=IL[_0x40fa40['glInternal'+'Format']];if(_0x55c08e===void(-0x3*0xb54+-0x32*0x1f+0x280a))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x40fa40['glInternal'+'Format']),null;let _0x168f84=-0x13d*-0x15+-0x1985+0x36*-0x2+_0x40fa40['bytesOfKey'+'ValueData']/(0x62b*0x4+-0x34*0x82+-0x70*-0x4);const _0x3b6d4f=_0x40fa40['numberOfFa'+'ces']>-0x1a*0x152+0xa10+0x1845,_0x5c4bf4=[];for(let _0x16f4fa=-0x1ec+0x1*-0x1327+-0xd*-0x19f;_0x16f4fa<(_0x40fa40['numberOfMi'+'pmapLevels']||0x74f*-0x3+0xe*0x242+-0x9ae);_0x16f4fa++){const _0x42f2e6=_0x525db6[_0x168f84++];_0x3b6d4f&&_0x5c4bf4['push']([]);const _0x311f86=_0x3b6d4f?_0x5c4bf4[_0x16f4fa]:_0x5c4bf4;for(let _0x32f338=-0xe9a*-0x1+-0xcea*0x3+0x1824;_0x32f338<(_0x3b6d4f?0x331+-0x2466+-0x2f*-0xb5:0x1673+0x1e65+-0x34d7);++_0x32f338)_0x311f86['push'](DL(_0x55c08e,_0x395b7b,_0x168f84*(-0x641*-0x5+0x1a4f*0x1+-0x998*0x6),_0x42f2e6)),_0x168f84+=_0x42f2e6+(-0x270a+0x1*-0x238f+0x4a9c)>>-0x1973+-0x1979+-0x1*-0x32ee;}return{'format':_0x55c08e,'width':_0x40fa40['pixelWidth'],'height':_0x40fa40['pixelHeigh'+'t'],'levels':_0x5c4bf4,'cubemap':_0x3b6d4f};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x5d10e3,_0x2da42f){super(),this['maxRetries']=0x25b1+-0x8cd*-0x1+-0x2e7e,this['device']=_0x2da42f;}['load'](_0x2fc596,_0x253dbe,_0x40cca9){le['fetchArray'+'Buffer'](_0x2fc596['load'],(_0x396367,_0x10a384)=>{_0x396367?_0x253dbe(_0x396367,_0x10a384):this['parse'](_0x10a384,_0x2fc596,_0x253dbe,_0x40cca9);},_0x40cca9,this['maxRetries']);}['open'](_0x358876,_0x4438d3,_0xff4cd0,_0x5a401a={}){const _0x1acbe8=_0x5a401a['srgb']?Cc(_0x4438d3['format']):_0x4438d3['format'],_0x37d66d=new he(_0xff4cd0,{'name':_0x358876,'profilerHint':ur,'addressU':_0x4438d3['cubemap']?ae:tt,'addressV':_0x4438d3['cubemap']?ae:tt,'width':_0x4438d3['width'],'height':_0x4438d3['height'],'format':_0x1acbe8,'cubemap':_0x4438d3['cubemap'],'levels':_0x4438d3['levels'],..._0x5a401a});return _0x37d66d['upload'](),_0x37d66d;}['parse'](_0xe4fbf1,_0x469ab3,_0x3c3bee,_0x1d581){var _0x2c699b,_0x553ef8,_0x5d6477;const _0x17e7dc=new oy(_0xe4fbf1),_0x5f9b0d=[_0x17e7dc['readU32be'](),_0x17e7dc['readU32be'](),_0x17e7dc['readU32be']()];if(_0x5f9b0d[0x17d9+0x388+-0x1b61]!==0x105bc598a+-0xb4ef519*-0x15+-0x17d*0xdc556b||_0x5f9b0d[-0xfa*0xe+0x620+0x78d*0x1]!==-0x18a319a9+-0x3fbbc0fd+0x78910b61||_0x5f9b0d[-0x1f67+0xba*0x1+-0x1eaf*-0x1]!==0x5befa36+0xf63627a+-0xb82*0xb413)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x3d842d={'vkFormat':_0x17e7dc['readU32'](),'typeSize':_0x17e7dc['readU32'](),'pixelWidth':_0x17e7dc['readU32'](),'pixelHeight':_0x17e7dc['readU32'](),'pixelDepth':_0x17e7dc['readU32'](),'layerCount':_0x17e7dc['readU32'](),'faceCount':_0x17e7dc['readU32'](),'levelCount':_0x17e7dc['readU32'](),'supercompressionScheme':_0x17e7dc['readU32']()},_0x179b30={'dfdByteOffset':_0x17e7dc['readU32'](),'dfdByteLength':_0x17e7dc['readU32'](),'kvdByteOffset':_0x17e7dc['readU32'](),'kvdByteLength':_0x17e7dc['readU32'](),'sgdByteOffset':_0x17e7dc['readU64'](),'sgdByteLength':_0x17e7dc['readU64']()},_0x4ec444=[];for(let _0x21446b=-0x165d+0x1bec+-0x58f;_0x21446b<Math['max'](-0x551*0x5+0x2*-0x763+-0x14ae*-0x2,_0x3d842d['levelCount']);++_0x21446b)_0x4ec444['push']({'byteOffset':_0x17e7dc['readU64'](),'byteLength':_0x17e7dc['readU64'](),'uncompressedByteLength':_0x17e7dc['readU64']()});if(_0x17e7dc['readU32']()!==_0x179b30['kvdByteOff'+'set']-_0x179b30['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x17e7dc['skip'](0x35*-0xb3+-0xd*0x241+0x4264);const _0xdb32a9=_0x17e7dc['readU8']();_0x17e7dc['skip'](_0x179b30['dfdByteLen'+'gth']-(-0x1*0x25b3+-0x110e*-0x1+-0x1*-0x14ae)),_0x17e7dc['skip'](_0x179b30['kvdByteLen'+'gth']),_0x3d842d['supercompr'+'essionSche'+'me']===-0xd*-0x7e+0x59*-0x9+-0x344||_0xdb32a9===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x469ab3['load'],_0xe4fbf1,_0x3c3bee,{'isGGGR':(((_0x5d6477=(_0x553ef8=(_0x2c699b=_0x1d581==null?void(0x23c5+-0xefb+0x1*-0x14ca):_0x1d581['file'])==null?void(-0xdd*-0x2+0x7c0+-0x97a):_0x2c699b['variants'])==null?void(0x16b+-0x1496+0x132b):_0x553ef8['basis'])==null?void(0x1*-0x32d+-0x327+-0xb4*-0x9):_0x5d6477['opt'])&0x3*0x403+0x5*-0x789+0x19ac)!==-0x1e68+0x15*0x10d+-0x131*-0x7,'isKTX2':!(-0x743+0x1bc3+0x40*-0x52)})||_0x3c3bee('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x1d581['name']+']('+_0x1d581['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x3c3bee('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x7b6d7f){super(),this['maxRetries']=0x12e*-0x1+-0xce4+0xe12;}['load'](_0x4dbae4,_0x3b2cc8,_0x5299ad){le['fetchArray'+'Buffer'](_0x4dbae4['load'],_0x3b2cc8,_0x5299ad,this['maxRetries']);}['open'](_0x4975b0,_0x30f890,_0x29be19,_0x1810df={}){const _0xa370a1=new Uint32Array(_0x30f890,-0x22ec+-0x14dc+0x37c8,0x251c+-0xf+-0x24ed),_0xbe1550=_0xa370a1[0x101*-0x11+-0x3b*0xa3+-0x1b53*-0x2],_0x47d587=_0xa370a1[-0x10b2+0x21*-0x7f+-0x2*-0x108a],_0x585061=Math['max'](_0xa370a1[0xda*0x8+0x6*0x3be+-0x1d3d],-0x7ed*-0x3+0xeed+-0x26b3),_0x55d3b7=_0xa370a1[-0x1*0x12fb+-0xf*0x18c+0x2a43]===0x1ae1+0x5b*-0x4f+0x138*0x1,_0x26fe53=_0xa370a1[-0x13b2*0x1+0x2602+-0xd*0x167],_0x7eced2=_0xa370a1[0x9a2+0x5bf*-0x6+0xc77*0x2],_0x3144a5=_0xa370a1[0x1b*-0x13+-0x1d03+0x1f20]===-0xef80+0x1*0x181c3+0x6bbd*0x1,_0xdd791d=0x867971b+0x46fc7d64*0x1+-0x1*0x1e0fbc3b,_0x4c68a2=0x1b551e0a+0x46c45a1f+-0x15*0x221c491,_0x56c658=-0xc8a*0x1+0xbb7+0x144,_0x48e220=0x2b6+-0x260f*-0x1+0x2851*-0x1,_0x308316=-0x16bdba7*-0x26+-0x3367e8eb+-0x2*-0x17545133,_0x9d138f=0x366b1aea+-0x1130e291+-0x1b5da91*-0x7,_0x398aaf=-0x5e2652d7+-0xebc955*-0x5d+0x4e*0xbd5d25,_0x1f61bd=0x15d3bd*0x247+0x3c8c397c+0x3f3*-0xf75cd,_0x2c3908=0x4fb89827*0x1+-0x270dbb01+-0x164ca5*-0x62;let _0x436b16=!(0x5f3+-0x1*0x79f+0x1ad),_0x2dd387=!(0x120f+-0xaab*-0x2+-0x2764),_0x289cef=!(-0x8ef+-0x1*0x202a+0x291a),_0x4d44c2=!(-0xc5*-0x29+0x1a97*-0x1+0x1*-0x4f5),_0x405838=null,_0x2f5f2e=0xeab+0x17cb+-0x2675,_0x4f232b;if(_0x55d3b7?_0x26fe53===_0xdd791d?(_0x405838=yc,_0x436b16=!(-0x26aa+-0x26*-0x11+-0x1*-0x2424)):_0x26fe53===_0x4c68a2?(_0x405838=$o,_0x436b16=!(-0x1*0xeb8+-0x1ed5+0x27*0x12b)):_0x26fe53===_0x56c658?(_0x405838=Je,_0x2f5f2e=0x2a7+-0xf22+0xc7d):_0x26fe53===_0x48e220?(_0x405838=Ke,_0x2f5f2e=-0x3*-0x137+-0x11*-0x219+-0x274a):_0x26fe53===_0x308316?(_0x405838=bc,_0x436b16=!(0xb8b*-0x3+0xce0+-0x15c1*-0x1),_0x2dd387=!(-0x7*-0xa3+-0xd*-0x1ec+0x1d71*-0x1)):_0x26fe53===_0x9d138f||_0x26fe53===_0x398aaf?(_0x405838=_0x26fe53===_0x9d138f?qo:Xo,_0x436b16=!(0x262e*-0x1+0xcae+0x1980),_0x289cef=!(0xa*-0x149+-0x10d6*-0x1+-0xf*0x44)):(_0x26fe53===_0x1f61bd||_0x26fe53===_0x2c3908)&&(_0x405838=_0x26fe53===_0x1f61bd?wc:Tc,_0x436b16=!(-0x2*0x75d+-0x2005+0x2ebf),_0x4d44c2=!(-0x158f+-0xc08+0x2197*0x1)):_0x7eced2===-0x14fa+-0x2456+0x3970&&(_0x405838=Se),!_0x405838)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x4975b0+'.'),_0x4f232b=new he(_0x29be19,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x4f232b;_0x4f232b=new he(_0x29be19,{'name':_0x4975b0,'profilerHint':ur,'addressU':_0x3144a5?ae:tt,'addressV':_0x3144a5?ae:tt,'width':_0xbe1550,'height':_0x47d587,'format':_0x405838,'cubemap':_0x3144a5,'mipmaps':_0x585061>-0xb52+-0xc*-0x18d+-0x749,..._0x1810df});let _0x48f581=0x1c*-0xa9+0x4*0x71f+-0x980;const _0x1d0932=_0x3144a5?0x4*0x239+-0x22de+0x340*0x8:-0xd43+-0x6*-0x595+-0x143a;let _0x33ad01;const _0x3124f7=0xb*-0xb6+0x4c1+0x1*0x315,_0x4f9079=0x7*-0x4b8+-0x21a1+0x42ad,_0x377bef=_0x26fe53===_0xdd791d?0x7*0x4ab+0x170*-0xb+-0x10d5*0x1:0x1f3d*-0x1+-0x1b1f+-0x2*-0x1d36;let _0x2bd4c4,_0x4d9da3,_0x3a5fb1;for(let _0x3cb60a=0x10b*0x1+0x12fd+0x4*-0x502;_0x3cb60a<_0x1d0932;_0x3cb60a++){let _0x49d5de=_0xbe1550,_0x56e4df=_0x47d587;for(let _0x575279=-0x19bd*-0x1+-0x7*0x326+-0x3b3;_0x575279<_0x585061;_0x575279++){_0x436b16?_0x2dd387?_0x33ad01=Math['floor']((_0x49d5de+(-0x1d86+-0x25d3+-0x1*-0x435c))/(-0x165e+0xeff*-0x2+0xd18*0x4))*Math['floor']((_0x56e4df+(0x2*0x445+-0x23*0xf1+0x186c))/(0x93+-0x244d+0x23be))*(0x397*-0x2+0x487+0x2af):_0x289cef?_0x33ad01=Math['max'](_0x49d5de,0x537+0xa*-0x1ee+0xe25)*Math['max'](_0x56e4df,0x13d+-0x1928+-0x17f3*-0x1)/(0x257*0x2+0xfdf+-0x1489):_0x4d44c2?_0x33ad01=Math['max'](_0x49d5de,-0x1*-0x887+-0x79*0x4f+0x1cd8)*Math['max'](_0x56e4df,-0x23a0+-0x7cb+0x2b73)/(0x1979+-0xfb8+-0x1f3*0x5):(_0x2bd4c4=Math['floor']((_0x49d5de+_0x3124f7-(0x132b+0x1d45+-0x1025*0x3))/_0x3124f7),_0x4d9da3=Math['floor']((_0x56e4df+_0x4f9079-(0x1904*-0x1+-0x2370+0x3c75))/_0x4f9079),_0x3a5fb1=_0x2bd4c4*_0x4d9da3,_0x33ad01=_0x3a5fb1*_0x377bef):_0x33ad01=_0x49d5de*_0x56e4df*(-0x5*-0x79d+-0x2182+-0x48b);const _0x2c0691=_0x405838===Ke?new Float32Array(_0x30f890,_0x48f581,_0x33ad01):_0x405838===Je?new Uint16Array(_0x30f890,_0x48f581,_0x33ad01):new Uint8Array(_0x30f890,_0x48f581,_0x33ad01);_0x3144a5?(_0x4f232b['_levels'][_0x575279]||(_0x4f232b['_levels'][_0x575279]=[]),_0x4f232b['_levels'][_0x575279][_0x3cb60a]=_0x2c0691):_0x4f232b['_levels'][_0x575279]=_0x2c0691,_0x48f581+=_0x33ad01*_0x2f5f2e,_0x49d5de=Math['max'](_0x49d5de*(-0x164*0x2+0x1a+0x2ae+0.5),-0x1598+0x2705+-0x116c),_0x56e4df=Math['max'](_0x56e4df*(-0xebf+0x4f*-0x47+0x24a8+0.5),-0x1*-0x1549+0x5*0x39f+-0x1*0x2763);}}return _0x4f232b['upload'](),_0x4f232b;}}class BL extends Na{constructor(_0x4aa4e9){super(),this['maxRetries']=-0x22*0xa6+-0x1e*-0x6b+0x982;}['load'](_0x1c5e10,_0x1b4625,_0x52d635){le['fetchArray'+'Buffer'](_0x1c5e10['load'],_0x1b4625,_0x52d635,this['maxRetries']);}['open'](_0x49b9ba,_0x46c81e,_0x1dd88e,_0x34acbf={}){const _0x2bfc88=this['parse'](_0x46c81e);if(!_0x2bfc88)return null;const _0x36cb3f=new he(_0x1dd88e,{'name':_0x49b9ba,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x2bfc88['width'],'height':_0x2bfc88['height'],'levels':_0x2bfc88['levels'],'format':Se,'type':ap,'mipmaps':!(-0x1ac*0x12+-0x6*-0x46d+-0x1*-0x38b),..._0x34acbf});return _0x36cb3f['upload'](),_0x36cb3f;}['parse'](_0x3d4c60){const _0x2c6599=new oy(_0x3d4c60);if(!_0x2c6599['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x317061={};for(;;){const _0x591f3b=_0x2c6599['readLine']();if(_0x591f3b['length']===-0x2d*-0x7+-0x134c+-0x1211*-0x1)break;{const _0x1a0803=_0x591f3b['split']('=');_0x1a0803['length']===0x93e+0x1*-0x32f+-0x60d&&(_0x317061[_0x1a0803[0x7*0x54d+-0x93c+0x1bdf*-0x1]]=_0x1a0803[-0x1a4e+-0x167*-0x10+0x3df]);}}if(!_0x317061['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0xa42593=_0x2c6599['readLine']()['split']('\x20');if(_0xa42593['length']!==-0x902+-0xd*0x35+0xbb7)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x558e2c=parseInt(_0xa42593[0x10e3+0x1e4b+-0x1*0x2f2d],0x2619+-0x20c+-0x2403),_0x143a9e=parseInt(_0xa42593[0x5a8*-0x2+0x5*-0x6+0xb71],0xb7e+0x124b+0x1dbf*-0x1),_0x128abe=this['_readPixel'+'s'](_0x2c6599,_0x143a9e,_0x558e2c,_0xa42593[-0x32b*-0x4+0x552*0x4+-0x52*0x6a]==='-Y');return _0x128abe?{'width':_0x143a9e,'height':_0x558e2c,'levels':[_0x128abe]}:null;}['_readPixel'+'s'](_0x23e1ad,_0x54e05a,_0x505f87,_0x2d5d4e){if(_0x54e05a<0x1*0x1b6b+-0x18b3+-0x2b0||_0x54e05a>-0x295*0x35+-0xcb7c+0x1d454)return this['_readPixel'+'sFlat'](_0x23e1ad,_0x54e05a,_0x505f87);const _0x24917e=[0x805*0x1+-0x19e9+0x2*0x8f2,0x105e*-0x2+-0x1d1b+0x3dd7,-0x2e*-0x6d+-0x20fc+-0xe*-0xf5,-0xe93+-0x1d83+0x160b*0x2];if(_0x23e1ad['readArray'](_0x24917e),_0x24917e[0x1b2f+0x1*-0x2118+0x5e9]!==-0x1582*0x1+-0x17f*0x7+-0x13*-0x1af||_0x24917e[-0x5*-0x48b+0x1488+-0x2b3e]!==-0x19b*0xc+0x17*0x49+-0x1*-0xcb7||(_0x24917e[-0x1c39+-0x9*0x331+0x51*0xb4]&0x1e80+-0x14ef*0x1+-0x911*0x1)!==0x1385+-0x13a1+0x1c)return _0x23e1ad['skip'](-(-0x73f*0x2+0xf17*0x1+0x1*-0x95)),this['_readPixel'+'sFlat'](_0x23e1ad,_0x54e05a,_0x505f87);const _0x38056e=new ArrayBuffer(_0x54e05a*_0x505f87*(0x252a+0xba3+-0x30c9*0x1)),_0x450a29=new Uint8Array(_0x38056e);let _0x4d1ef6=_0x2d5d4e?-0x5*-0x6f1+-0x4ea*-0x3+0x3173*-0x1:_0x54e05a*(0x1*0xd0e+-0x5*0x315+0x1*0x25f)*(_0x505f87-(-0x68c+-0x17e7+0xf3a*0x2)),_0x2301c4,_0x4da71d,_0x43e988,_0x26ea9c,_0x132547,_0x14d888;for(_0x4da71d=-0x1857*-0x1+-0x1f3*0x3+-0x127e;_0x4da71d<_0x505f87;++_0x4da71d){if(_0x4da71d&&_0x23e1ad['readArray'](_0x24917e),(_0x24917e[-0x1*0x5c+0x9e6+-0x988]<<-0xf*0x79+-0x1*-0x214b+-0x1a2c)+_0x24917e[0x21aa+-0x7*0x1f5+-0x9fa*0x2]!==_0x54e05a)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x26ea9c=0x1961+-0x5d4+-0x138d;_0x26ea9c<-0x59+-0x4e7*-0x1+-0x48a;++_0x26ea9c)for(_0x2301c4=0x1431*-0x1+0x972+0xabf;_0x2301c4<_0x54e05a;)if(_0x132547=_0x23e1ad['readU8'](),_0x132547>-0x275+-0x1949+0x1c3e){if(_0x132547-=0x2440+-0xc64+-0x175c,_0x2301c4+_0x132547>_0x54e05a)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x14d888=_0x23e1ad['readU8'](),_0x43e988=-0x18b1+-0x8e4+-0x1*-0x2195;_0x43e988<_0x132547;++_0x43e988)_0x450a29[_0x4d1ef6+_0x26ea9c+(0x5f6+-0x637*-0x6+0x4*-0xacf)*_0x2301c4++]=_0x14d888;}else{if(_0x132547===0x210d+-0x4*0x410+-0x10cd||_0x2301c4+_0x132547>_0x54e05a)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x43e988=0x956+0xba3+-0x14f9;_0x43e988<_0x132547;++_0x43e988)_0x450a29[_0x4d1ef6+_0x26ea9c+(0xe63+0x15e1+-0x2440)*_0x2301c4++]=_0x23e1ad['readU8']();}_0x4d1ef6+=_0x54e05a*(-0x4ca+0x19e0+0x3e*-0x57)*(_0x2d5d4e?-0x3*-0x28e+-0x5*-0x1db+-0x10*0x10f:-(0x1*0x22b+-0x1*-0x20e6+0x2ec*-0xc));}return _0x450a29;}['_readPixel'+'sFlat'](_0x3fc91a,_0x236d81,_0x5c1dfa){return _0x3fc91a['remainingB'+'ytes']===_0x236d81*_0x5c1dfa*(-0x93c+-0x1015*0x2+0x1*0x296a)?new Uint8Array(_0x3fc91a['arraybuffe'+'r'],_0x3fc91a['offset']):null;}}const Wg={'repeat':tt,'clamp':ae,'mirror':Of},$g={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x6ad852){const _0x32750e=Mi['calcMipLev'+'elsCount'](_0x6ad852['_width'],_0x6ad852['_height']),_0x40242f=function(_0x1cea45){return _0x1cea45 instanceof HTMLCanvasElement||_0x1cea45 instanceof HTMLImageElement||_0x1cea45 instanceof HTMLVideoElement;};if(!(_0x6ad852['_format']===Se||_0x6ad852['_format']===Ke)||_0x6ad852['_volume']||_0x6ad852['_compresse'+'d']||_0x6ad852['_levels']['length']===0xcce+0x33e+-0x100b||_0x6ad852['_levels']['length']===_0x32750e||_0x40242f(_0x6ad852['_cubemap']?_0x6ad852['_levels'][-0xee0+0x1*-0x1edf+0x2dbf][0x50e+-0x16*-0xcf+0x4*-0x5b6]:_0x6ad852['_levels'][-0x12*-0x223+0x1a3b+-0x1*0x40b1]))return;const _0x4507a7=function(_0x58b302,_0xb86197,_0x442de6){const _0x2b4f8b=Math['max'](0x1976+0xa21*0x3+-0x37d8,_0x58b302>>-0x68f+0x1862+0x11d2*-0x1),_0x4095c8=Math['max'](0x1e4+0xc05+-0xde8,_0xb86197>>0x99a+-0x2001+0x1668),_0x2bc0a1=new _0x442de6['constructo'+'r'](_0x2b4f8b*_0x4095c8*(0x2355+0x33f*-0x1+-0x2012)),_0x349f7e=Math['floor'](_0x58b302/_0x2b4f8b),_0x54a684=Math['floor'](_0xb86197/_0x4095c8),_0x495581=_0x349f7e*_0x54a684;for(let _0x47579c=-0x1c*0x127+-0x4f*-0x2f+0x11c3;_0x47579c<_0x4095c8;++_0x47579c)for(let _0x272c66=-0x1*-0x1d37+-0x6b*-0x47+-0x3ae4;_0x272c66<_0x2b4f8b;++_0x272c66)for(let _0x1b10f2=-0x1456+-0x1deb+0x3241;_0x1b10f2<0x1cf+-0x1212+0x3*0x56d;++_0x1b10f2){let _0xf60584=0x3*-0x957+0x157*-0x7+-0x12b3*-0x2;for(let _0x22986e=-0x2*-0xfd9+0x17ab*0x1+-0x1*0x375d;_0x22986e<_0x54a684;++_0x22986e)for(let _0x3e357d=-0x2c5*-0x2+-0x1c2a+-0x2*-0xb50;_0x3e357d<_0x349f7e;++_0x3e357d)_0xf60584+=_0x442de6[(_0x272c66*_0x349f7e+_0x3e357d+(_0x47579c*_0x54a684+_0x22986e)*_0x58b302)*(-0x6a6+0x14f*0x5+0x1f)+_0x1b10f2];_0x2bc0a1[(_0x272c66+_0x47579c*_0x2b4f8b)*(0x19b5*-0x1+0x1bb*-0x13+0x3a9a)+_0x1b10f2]=_0xf60584/_0x495581;}return _0x2bc0a1;};for(let _0x15b419=_0x6ad852['_levels']['length'];_0x15b419<_0x32750e;++_0x15b419){const _0x48931f=Math['max'](-0x1*0x791+0x1a*0x3b+-0x65*-0x4,_0x6ad852['_width']>>_0x15b419-(0x9fd*-0x2+0x2c*-0x42+-0x37b*-0x9)),_0xb39b37=Math['max'](0x2*0xe6e+-0x117a+-0x1*0xb61,_0x6ad852['_height']>>_0x15b419-(-0x1127+-0x3e1+0x1509));if(_0x6ad852['_cubemap']){const _0x16870b=[];for(let _0x5e3bf5=-0x2235+-0x9*-0x174+-0x259*-0x9;_0x5e3bf5<0x789*-0x5+-0x7*0x527+0x2*0x24e2;++_0x5e3bf5)_0x16870b['push'](_0x4507a7(_0x48931f,_0xb39b37,_0x6ad852['_levels'][_0x15b419-(0x239*-0x4+-0x1*0x1a03+0x22e8)][_0x5e3bf5]));_0x6ad852['_levels']['push'](_0x16870b);}else _0x6ad852['_levels']['push'](_0x4507a7(_0x48931f,_0xb39b37,_0x6ad852['_levels'][_0x15b419-(-0x7*-0x521+0x4a*-0x86+0x2d6)]));}_0x6ad852['_levelsUpd'+'ated']=_0x6ad852['_cubemap']?[[!(0x5ab*-0x1+-0x111d+0x16c8),!(-0x169e+-0x439*0x2+0x238*0xe),!(-0x91f*-0x4+0x1d03+-0xcf*0x51),!(0x6be+0x1b7+-0x875*0x1),!(-0x3f5*0x1+0x21bc+-0x7*0x441),!(-0xab*0x29+0x247f+-0x91c)]]:[!(-0x2ea*-0x6+-0x43*-0x42+-0x2*0x1161)];};class UL extends Ne{constructor(_0x4e0c19){super(_0x4e0c19,'texture');const _0x4db057=_0x4e0c19['assets'],_0x420644=_0x4e0c19['graphicsDe'+'vice'];this['_device']=_0x420644,this['_assets']=_0x4db057,this['imgParser']=new RL(_0x4db057,_0x420644),this['parsers']={'dds':new kL(_0x4db057),'ktx':new LL(_0x4db057),'ktx2':new OL(_0x4db057,_0x420644),'basis':new EL(_0x4db057,_0x420644),'hdr':new BL(_0x4db057)};}set['crossOrigi'+'n'](_0x540e13){this['imgParser']['crossOrigi'+'n']=_0x540e13;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x2248c7){this['imgParser']['maxRetries']=_0x2248c7;for(const _0x576680 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x576680)&&(this['parsers'][_0x576680]['maxRetries']=_0x2248c7);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x26dc5a){return _0x26dc5a['indexOf']('?')>=0x6ad*-0x1+-0x393*-0x4+-0x79f?_0x26dc5a['split']('?')[-0x1*0x2597+-0x270b+0x4ca2*0x1]:_0x26dc5a;}['_getParser'](_0x7a1d94){const _0x22cc8=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x7a1d94))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x22cc8]||this['imgParser'];}['_getTextur'+'eOptions'](_0x4a4071){var _0x405524;const _0x2bead8={'profilerHint':ur};if(_0x4a4071){((_0x405524=_0x4a4071['name'])==null?void(0x18cb+-0x1*-0xb71+0x90f*-0x4):_0x405524['length'])>0x92b+0x417*-0x9+0x1*0x1ba4&&(_0x2bead8['name']=_0x4a4071['name']);const _0x25a15a=_0x4a4071['data'];_0x25a15a['hasOwnProp'+'erty']('minfilter')&&(_0x2bead8['minFilter']=$g[_0x25a15a['minfilter']]),_0x25a15a['hasOwnProp'+'erty']('magfilter')&&(_0x2bead8['magFilter']=$g[_0x25a15a['magfilter']]),_0x25a15a['hasOwnProp'+'erty']('addressu')&&(_0x2bead8['addressU']=Wg[_0x25a15a['addressu']]),_0x25a15a['hasOwnProp'+'erty']('addressv')&&(_0x2bead8['addressV']=Wg[_0x25a15a['addressv']]),_0x25a15a['hasOwnProp'+'erty']('mipmaps')&&(_0x2bead8['mipmaps']=_0x25a15a['mipmaps']),_0x25a15a['hasOwnProp'+'erty']('anisotropy')&&(_0x2bead8['anisotropy']=_0x25a15a['anisotropy']),_0x25a15a['hasOwnProp'+'erty']('flipY')&&(_0x2bead8['flipY']=!!_0x25a15a['flipY']),_0x25a15a['hasOwnProp'+'erty']('srgb')&&(_0x2bead8['srgb']=!!_0x25a15a['srgb']),_0x25a15a['hasOwnProp'+'erty']('type')?_0x2bead8['type']=NL[_0x25a15a['type']]:_0x25a15a['hasOwnProp'+'erty']('rgbm')&&_0x25a15a['rgbm']?_0x2bead8['type']=on:_0x4a4071['file']&&(_0x4a4071['file']['opt']&-0x1*-0x527+-0x2*0x51+0x3*-0x17f)!==0xd03+-0x143a*0x1+0x737&&(_0x2bead8['type']=op);}return _0x2bead8;}['load'](_0x51396c,_0x43ed2b,_0x1d9afd){typeof _0x51396c=='string'&&(_0x51396c={'load':_0x51396c,'original':_0x51396c}),this['_getParser'](_0x51396c['original'])['load'](_0x51396c,_0x43ed2b,_0x1d9afd);}['open'](_0x3102e5,_0x138705,_0xb16848){if(!_0x3102e5)return;const _0x18ddfd=this['_getTextur'+'eOptions'](_0xb16848);let _0x2ec2fe=this['_getParser'](_0x3102e5)['open'](_0x3102e5,_0x138705,this['_device'],_0x18ddfd);return _0x2ec2fe===null?_0x2ec2fe=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x2ec2fe),_0x138705['unswizzled'+'GGGR']&&(_0xb16848['file']['variants']['basis']['opt']&=-(0x1*0x23a7+0x12cf+-0x366d))),_0x2ec2fe;}['patch'](_0x402900,_0x104051){const _0xe2ba2a=_0x402900['resource'];if(!_0xe2ba2a)return;const _0x1a2d4a=this['_getTextur'+'eOptions'](_0x402900);for(const _0x24269c of Object['keys'](_0x1a2d4a))_0xe2ba2a[_0x24269c]=_0x1a2d4a[_0x24269c];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',WL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class $L{constructor(_0x201dba){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),(this['_manager']=_0x201dba,this['init']());}async['init'](){const _0x32eff0=await navigator['xr']['isSessionS'+'upported']('immersive-'+'ar',{'features':['dom-overla'+'y']});this['_supported']=_0x32eff0;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x3928bc){!this['_supported']||this['_manager']['active']||(this['_root']=_0x3928bc);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x5e9472,_0x519c6a,_0x5d5c90,_0x2ffce0=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x5e9472,this['_xrHitTest'+'Source']=_0x519c6a,this['_transient']=_0x5d5c90,this['_inputSour'+'ce']=_0x2ffce0);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x1b0d4d=this['manager']['hitTest']['sources'],_0x543be4=_0x1b0d4d['indexOf'](this);_0x543be4!==-(-0x2095+-0x3*0x28f+0x1*0x2843)&&_0x1b0d4d['splice'](_0x543be4,0x2f9*-0x3+0x2414+-0x13c*0x16),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x4e2728){if(this['_transient']){const _0x9ce345=_0x4e2728['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x29948c=-0x1c00+0x1220+0x9e0;_0x29948c<_0x9ce345['length'];_0x29948c++){const _0x464e9e=_0x9ce345[_0x29948c];if(!_0x464e9e['results']['length'])continue;let _0x37a1b0;_0x464e9e['inputSourc'+'e']&&(_0x37a1b0=this['manager']['input']['_getByInpu'+'tSource'](_0x464e9e['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x464e9e['results'],_0x37a1b0);}}else{const _0x524475=_0x4e2728['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x524475['length'])return;this['updateHitR'+'esults'](_0x524475);}}['updateHitR'+'esults'](_0x1f5e9f,_0x2d7677){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x2d7677)return;const _0x1fce3f=ih['pop']()??new T();_0x2d7677?_0x1fce3f['copy'](_0x2d7677['getOrigin']()):_0x1fce3f['copy'](this['manager']['camera']['getPositio'+'n']());let _0x573870=(0x1dc+0x8e9+-0x35*0x34)/(-0x1204+-0x1240+0x2444),_0x5134d9=null;const _0x1669a9=ih['pop']()??new T(),_0x1e6ef7=Xg['pop']()??new se();for(let _0x3a5721=-0x1812+-0x3e3+0x1a5*0x11;_0x3a5721<_0x1f5e9f['length'];_0x3a5721++){const _0x308e89=_0x1f5e9f[_0x3a5721]['getPose'](this['manager']['_reference'+'Space']),_0x3d7976=_0x1fce3f['distance'](_0x308e89['transform']['position']);_0x3d7976>=_0x573870||(_0x573870=_0x3d7976,_0x5134d9=_0x1f5e9f[_0x3a5721],_0x1669a9['copy'](_0x308e89['transform']['position']),_0x1e6ef7['copy'](_0x308e89['transform']['orientatio'+'n']));}this['fire']('result',_0x1669a9,_0x1e6ef7,_0x2d7677||this['_inputSour'+'ce'],_0x5134d9),this['manager']['hitTest']['fire']('result',this,_0x1669a9,_0x1e6ef7,_0x2d7677||this['_inputSour'+'ce'],_0x5134d9),ih['push'](_0x1fce3f),ih['push'](_0x1669a9),Xg['push'](_0x1e6ef7);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x4f2dd4){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(0x1de*0x1+0x5*0x28a+0xe8f*-0x1)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x43*-0x52+0x4e8+-0x1a5d)),c(this,'sources',[]),(this['manager']=_0x4f2dd4,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x201f09=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0xef9+-0xef*-0xd+0x2d7*0x1);if(!_0x201f09)return;this['_available']=_0x201f09,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0xd1f*-0x1+0x1*0x90f+-0x28*-0x1a),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x3c6ffa=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x3c6ffa})['then'](_0x5e5919=>{_0x5e5919['cancel'](),this['manager']['active']&&(this['_available']=!(-0xd2b+0x1*0x259+0xad2*0x1),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1762+0x2*-0xe8f+0x1*0x5bd);for(let _0x58f025=-0x89d+0x338+0x565;_0x58f025<this['sources']['length'];_0x58f025++)this['sources'][_0x58f025]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x1c89d8={}){var _0x243ce5,_0x383af4;if(!this['_supported']){(_0x243ce5=_0x1c89d8['callback'])==null||_0x243ce5['call'](_0x1c89d8,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x383af4=_0x1c89d8['callback'])==null||_0x383af4['call'](_0x1c89d8,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x1c89d8['profile']&&!_0x1c89d8['spaceType']&&(_0x1c89d8['spaceType']=qg);let _0x3cc8a2;const _0x1a79e3=_0x1c89d8['offsetRay'];if(_0x1a79e3){const _0x12001e=new DOMPoint(_0x1a79e3['origin']['x'],_0x1a79e3['origin']['y'],_0x1a79e3['origin']['z'],-0x16c4+-0x17*0x1a3+0x3c6a),_0x47deb5=new DOMPoint(_0x1a79e3['direction']['x'],_0x1a79e3['direction']['y'],_0x1a79e3['direction']['z'],0x767*0x2+-0xdc+-0xdf2);_0x3cc8a2=new XRRay(_0x12001e,_0x47deb5);}const _0x495121=_0x1c89d8['callback'];_0x1c89d8['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x1c89d8['spaceType'])['then'](_0x5a5f07=>{if(!this['manager']['session']){const _0x53f229=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x495121&&_0x495121(_0x53f229),this['fire']('error',_0x53f229);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x5a5f07,'entityTypes':_0x1c89d8['entityType'+'s']||void(0x5d1*-0x4+0xf6e+0x7d6),'offsetRay':_0x3cc8a2})['then'](_0x1fa60e=>{this['_onHitTest'+'Source'](_0x1fa60e,!(-0xd33+0x5d*0x66+-0x17da),_0x1c89d8['inputSourc'+'e'],_0x495121);})['catch'](_0x4242d0=>{_0x495121&&_0x495121(_0x4242d0),this['fire']('error',_0x4242d0);});})['catch'](_0x58004f=>{_0x495121&&_0x495121(_0x58004f),this['fire']('error',_0x58004f);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x1c89d8['profile'],'entityTypes':_0x1c89d8['entityType'+'s']||void(-0xa93*-0x2+-0xc*0x90+-0xe66),'offsetRay':_0x3cc8a2})['then'](_0x2adb0e=>{this['_onHitTest'+'Source'](_0x2adb0e,!(-0x3a1*0x7+0x25e5+-0x27*0x52),_0x1c89d8['inputSourc'+'e'],_0x495121);})['catch'](_0x10d89f=>{_0x495121&&_0x495121(_0x10d89f),this['fire']('error',_0x10d89f);});}['_onHitTest'+'Source'](_0x4610c1,_0x3d1531,_0x40bf8a,_0x5e0f07){if(!this['manager']['session']){_0x4610c1['cancel']();const _0x502fa8=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x5e0f07&&_0x5e0f07(_0x502fa8),this['fire']('error',_0x502fa8);return;}const _0x30ad48=new Ef(this['manager'],_0x4610c1,_0x3d1531,_0x40bf8a??null);this['sources']['push'](_0x30ad48),_0x5e0f07&&_0x5e0f07(null,_0x30ad48),this['fire']('add',_0x30ad48);}['update'](_0x411871){if(this['_available']){for(let _0x116023=0x1cd9+0x16f2+-0x33cb;_0x116023<this['sources']['length'];_0x116023++)this['sources'][_0x116023]['update'](_0x411871);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x1d37c4,_0xc872e1){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',-0x7b*0x25+0x2*-0x7eb+0x219d),c(this,'_trackable',!(0x21f4+-0xb64+0x785*-0x3)),c(this,'_tracking',!(-0x2663+-0x7f*-0x26+0x138a)),c(this,'_emulated',!(0x6*0x184+0x25cc+-0x2ee3)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x1d37c4,this['_width']=_0xc872e1);}get['image'](){return this['_image'];}set['width'](_0x27eb90){this['_width']=_0x27eb90;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x4c7e1a=>(this['_bitmap']=_0x4c7e1a,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x161130){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(0x6*-0x5bd+0x4*-0x311+0x2eb3)),c(this,'_images',[]),(this['_manager']=_0x161130,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x1c0627,_0x1c1173){if(!this['_supported']||this['_manager']['active'])return null;const _0x2f8b1f=new Cf(_0x1c0627,_0x1c1173);return this['_images']['push'](_0x2f8b1f),_0x2f8b1f;}['remove'](_0x5d3840){if(this['_manager']['active'])return;const _0x42f22f=this['_images']['indexOf'](_0x5d3840);_0x42f22f!==-(0x59*0x4a+0x3*0xc05+0x1*-0x3dc8)&&(_0x5d3840['destroy'](),this['_images']['splice'](_0x42f22f,0x6c8+0x2296+-0x295d*0x1));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x519c92=>{this['_available']=!(0x13e7*0x1+0xb3*-0x7+-0xf02);for(let _0x4313ac=0x3*-0xd9+0x1125+-0xe9a;_0x4313ac<_0x519c92['length'];_0x4313ac++)this['_images'][_0x4313ac]['_trackable']=_0x519c92[_0x4313ac]==='trackable';})['catch'](_0xe2e2aa=>{this['_available']=!(-0x2b0*0x7+-0x17*0x61+-0x2*-0xdc4),this['fire']('error',_0xe2e2aa);});}['_onSession'+'End'](){this['_available']=!(0x4a3+-0x13e9+-0xf47*-0x1);for(let _0x4ee252=0x2309*0x1+0x1*0xb26+0x233*-0x15;_0x4ee252<this['_images']['length'];_0x4ee252++){const _0x463857=this['_images'][_0x4ee252];_0x463857['_pose']=null,_0x463857['_measuredW'+'idth']=0x5d4+0x11*-0x33+-0x5*0x7d,_0x463857['_tracking']&&(_0x463857['_tracking']=!(-0x1ee5*-0x1+0x1c7c*-0x1+0x1*-0x268),_0x463857['fire']('untracked'));}}['prepareIma'+'ges'](_0xc8005d){this['_images']['length']?Promise['all'](this['_images']['map'](_0x23e6a5=>_0x23e6a5['prepare']()))['then'](_0x49bbbf=>{_0xc8005d(null,_0x49bbbf);})['catch'](_0x2602e4=>{_0xc8005d(_0x2602e4,null);}):_0xc8005d(null,null);}['update'](_0x410132){if(!this['_available'])return;const _0xa934cd=_0x410132['getImageTr'+'ackingResu'+'lts'](),_0x2f7dc3={};for(let _0x214933=0x1f*-0x5b+-0x915+-0xa0d*-0x2;_0x214933<_0xa934cd['length'];_0x214933++){_0x2f7dc3[_0xa934cd[_0x214933]['index']]=_0xa934cd[_0x214933];const _0xe5f0d4=this['_images'][_0xa934cd[_0x214933]['index']];_0xe5f0d4['_emulated']=_0xa934cd[_0x214933]['trackingSt'+'ate']==='emulated',_0xe5f0d4['_measuredW'+'idth']=_0xa934cd[_0x214933]['measuredWi'+'dthInMeter'+'s'],_0xe5f0d4['_pose']=_0x410132['getPose'](_0xa934cd[_0x214933]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x4bb49e=0xb76+0x3*-0x449+0x165;_0x4bb49e<this['_images']['length'];_0x4bb49e++)this['_images'][_0x4bb49e]['_tracking']&&!_0x2f7dc3[_0x4bb49e]?(this['_images'][_0x4bb49e]['_tracking']=!(-0x2483+0x120*0x7+0xd*0x234),this['_images'][_0x4bb49e]['fire']('untracked')):!this['_images'][_0x4bb49e]['_tracking']&&_0x2f7dc3[_0x4bb49e]&&(this['_images'][_0x4bb49e]['_tracking']=!(0x9*-0x5b+-0x219*-0x6+0x321*-0x3),this['_images'][_0x4bb49e]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x245d11,_0x136591){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x245d11,this['_hand']=_0x136591,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=0x1f1c+-0x7*0x3e2+-0x2*0x1f7;l<jg['length'];l++)Gx[jg[l]]=!(-0x1c3e+-0x11ea+0x2e28);class Yg{constructor(_0x4d926e,_0x9f06c3,_0x337bb2,_0x261532=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(-0xf1e+-0x1d*-0x53+0xd1*0x7)),(this['_index']=_0x4d926e,this['_id']=_0x9f06c3,this['_hand']=_0x337bb2,this['_finger']=_0x261532,this['_wrist']=_0x9f06c3==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x9f06c3]);}['update'](_0x11be26){this['_dirtyLoca'+'l']=!(0x4d*0x2b+0xbf5*0x3+-0x1*0x30ce),this['_radius']=_0x11be26['radius'],this['_localPosi'+'tion']['copy'](_0x11be26['transform']['position']),this['_localRota'+'tion']['copy'](_0x11be26['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x83*-0x2f+-0x203f*-0x1+-0x384b),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x47fdfe=this['_hand']['_manager']['camera']['parent'];_0x47fdfe?this['_worldTran'+'sform']['mul2'](_0x47fdfe['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x287+0x152c+-0x17b3+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x355719){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x167*-0x12+0x3*0x25a+0x1231)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x43c0e8=_0x355719['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x355719['_manager'],this['_inputSour'+'ce']=_0x355719,_0x43c0e8['get']('wrist')){const _0x4db14f=new Yg(0x8e1*0x3+0xe25+-0x28c8,'wrist',this,null);this['_wrist']=_0x4db14f,this['_joints']['push'](_0x4db14f),this['_jointsByI'+'d']['wrist']=_0x4db14f;}for(let _0x67d356=-0x1129*-0x1+-0x1*-0xc97+-0x220*0xe;_0x67d356<Sh['length'];_0x67d356++){const _0x15bd7c=new qL(_0x67d356,this);for(let _0x13f775=0x30a+-0xe6*-0xa+-0xc06;_0x13f775<Sh[_0x67d356]['length'];_0x13f775++){const _0x527c19=Sh[_0x67d356][_0x13f775];if(!_0x43c0e8['get'](_0x527c19))continue;const _0x3a767b=new Yg(_0x13f775,_0x527c19,this,_0x15bd7c);this['_joints']['push'](_0x3a767b),this['_jointsByI'+'d'][_0x527c19]=_0x3a767b,_0x3a767b['tip']&&(this['_tips']['push'](_0x3a767b),_0x15bd7c['_tip']=_0x3a767b),_0x15bd7c['_joints']['push'](_0x3a767b);}}}['update'](_0x1c208d){const _0x161d4c=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x3af4cd=0x1fe0+0x1f12+-0x3ef2;_0x3af4cd<this['_joints']['length'];_0x3af4cd++){const _0x5d318c=this['_joints'][_0x3af4cd],_0x27bc80=_0x161d4c['hand']['get'](_0x5d318c['_id']);if(_0x27bc80){let _0x551780;if(_0x1c208d['session']['visibility'+'State']!=='hidden'&&(_0x551780=_0x1c208d['getJointPo'+'se'](_0x27bc80,this['_manager']['_reference'+'Space'])),_0x551780)_0x5d318c['update'](_0x551780),_0x5d318c['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x640+0xe81+0x15*-0xfd),this['fire']('tracking'));else{if(_0x5d318c['wrist']){this['_tracking']&&(this['_tracking']=!(0x15b5+-0x83f*-0x2+-0x2632),this['fire']('trackinglo'+'st'));break;}}}}const _0x483d04=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x2569f2=this['_jointsByI'+'d']['thumb-tip'],_0x303b33=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x5c0315=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x332777=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x262c8e=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x483d04&&_0x2569f2&&_0x303b33&&_0x5c0315&&_0x332777&&_0x262c8e){this['_inputSour'+'ce']['_dirtyRay']=!(-0x1*-0xfa7+0x20e7+0x5*-0x9b6),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x2569f2['_localPosi'+'tion'],_0x5c0315['_localPosi'+'tion'],-0x1a56+-0x13bf+-0x1*-0x2e15+0.5);let _0x36f77e=_0x483d04,_0x2d29db=_0x262c8e;if(this['_inputSour'+'ce']['handedness']===HL){const _0x4f850e=_0x36f77e;_0x36f77e=_0x2d29db,_0x2d29db=_0x4f850e;}Ir['sub2'](_0x36f77e['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x2d29db['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x303b33['_localPosi'+'tion'],_0x332777['_localPosi'+'tion'],-0x33*0x83+0xf82+0xa97+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,0x8*0x356+0x1394+-0x2e44+0.5)['normalize']();}const _0xda8ebf=this['_fingerIsC'+'losed'](-0x6dc+-0x22a8+-0x2*-0x14c3)&&this['_fingerIsC'+'losed'](-0x4f6*-0x5+-0x4*-0x25c+-0x17d*0x17)&&this['_fingerIsC'+'losed'](-0x1460+-0xcd0+0x2134);this['_fingersTi'+'pDistance'](-0xcf2*0x2+0x1*-0x2417+-0x29*-0x183,0x566+0x1705+0x1c6a*-0x1)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0x711+-0x5ff+-0x8*-0x1a2),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x1*-0x24be+-0x15db+0x3a9a),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0xda8ebf?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x178a+-0x1b57+-0x1*-0x3cd),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x1*-0x234a+0x1709+-0x3a52),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x36fea5,_0x5ac843){const _0x2396cf=this['_fingers'][_0x36fea5],_0x5db6bd=this['_fingers'][_0x5ac843];return _0x2396cf['tip']['_localPosi'+'tion']['distance'](_0x5db6bd['tip']['_localPosi'+'tion'])<=-0x1bb9+0x14bb+-0x37f*-0x2+0.01;}['_fingerIsC'+'losed'](_0x414465){const _0x62ee86=this['_fingers'][_0x414465];return Ir['sub2'](_0x62ee86['joints'][-0xd6a+-0x613*-0x3+-0x1*0x4cf]['_localPosi'+'tion'],_0x62ee86['joints'][0x885+-0x194c+0x10c8]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x62ee86['joints'][-0xadc+0x8b3+-0xb9*-0x3]['_localPosi'+'tion'],_0x62ee86['joints'][-0x6d2+-0x404*-0x8+-0x194b]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(0x1e75+0x24d2+-0x1*0x4347+0.8);}['getJointBy'+'Id'](_0x58e69c){return this['_jointsByI'+'d'][_0x58e69c]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=0x5*0x40d+-0x23ac*-0x1+0x8b*-0x67;class xs extends ce{constructor(_0x445b79,_0x389aeb){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0xb9a+0x15bc+-0x17*0x173)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0x12b5*-0x1+0xa5d+-0x1d11*0x1)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x125e*0x1+0xf77*0x1+-0x21d5)),c(this,'_dirtyRay',!(0x1a17*-0x1+-0x25*-0xbe+-0x15e)),c(this,'_selecting',!(-0x1*0x1cfa+-0x6cb*0x1+0x2*0x11e3)),c(this,'_squeezing',!(0x1*0x215f+-0x1*0x254a+0x4*0xfb)),c(this,'_pinching',!(0x3be+0x4*0x8a1+-0x2641)),c(this,'_elementIn'+'put',!(-0x1*-0x203c+0x2344+0x14*-0x360)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x445b79,this['_xrInputSo'+'urce']=_0x389aeb,_0x389aeb['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x3e7f66){this['_elementIn'+'put']!==_0x3e7f66&&(this['_elementIn'+'put']=_0x3e7f66,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x34a018){if(this['_hand'])this['_hand']['update'](_0x34a018);else{const _0x3aeac2=this['_xrInputSo'+'urce']['gripSpace'];if(_0x3aeac2){const _0x4ea5ec=_0x34a018['getPose'](_0x3aeac2,this['_manager']['_reference'+'Space']);if(_0x4ea5ec){this['_grip']||(this['_grip']=!(-0x513*0x2+0x8*0x4c3+-0x1bf2),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x5b6a3d=ne(),_0x130960=(_0x5b6a3d-this['_velocitie'+'sTimestamp'])/(-0x1466+0x2251*-0x1+0x3a9f);this['_velocitie'+'sTimestamp']=_0x5b6a3d,this['_dirtyLoca'+'l']=!(0x823*-0x1+-0x1*0x13c7+0x3*0x94e),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x4ea5ec['transform']['position']),this['_localRota'+'tion']['copy'](_0x4ea5ec['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x28b+-0x1*-0x1b5+-0x6b*-0x2),this['_manager']['input']['velocities'+'Supported']&&_0x4ea5ec['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x4ea5ec['linearVelo'+'city']):_0x130960>-0x9*-0x272+0x208*-0x13+-0x2*-0x84b&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x130960),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,-0xcb6+0x2493*0x1+-0x17dd+0.15));}else this['_velocitie'+'sAvailable']=!(-0x34d+0xa10+0x361*-0x2);}const _0x32caa5=_0x34a018['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x32caa5&&(this['_dirtyRay']=!(0xd87*0x2+-0x12aa+-0x4*0x219),this['_rayLocal']['origin']['copy'](_0x32caa5['transform']['position']),this['_rayLocal']['direction']['set'](0x151a+0xc*-0xf4+0x4d5*-0x2,-0xb73*-0x3+0x36*0x59+-0x351f,-(0x1*-0x3c7+-0x1bd+0x585)),Qg['copy'](_0x32caa5['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1*0x26f5+-0xc7e+0x2*0x19ba),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x34ab52=this['_manager']['camera']['parent'];_0x34ab52?this['_worldTran'+'sform']['mul2'](_0x34ab52['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x3fa976=this['_dirtyRay'];if(this['_dirtyRay']=!(-0xdf*0x4+-0x38*0x48+0x19*0xc5),this['_manager']['camera']['parent']){const _0xdc9580=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0xdc9580['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0xdc9580),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x3fa976&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x177c19={}){_0x177c19['inputSourc'+'e']=this,_0x177c19['profile']=this['_xrInputSo'+'urce']['profiles'][-0x1*0x20bd+0x1*0x242b+0x36e*-0x1];const _0x50c3b4=_0x177c19['callback'];_0x177c19['callback']=(_0x12a19f,_0x19f316)=>{_0x19f316&&this['onHitTestS'+'ourceAdd'](_0x19f316),_0x50c3b4&&_0x50c3b4(_0x12a19f,_0x19f316);},this['_manager']['hitTest']['start'](_0x177c19);}['onHitTestS'+'ourceAdd'](_0x22d7a5){this['_hitTestSo'+'urces']['push'](_0x22d7a5),this['fire']('hittest:ad'+'d',_0x22d7a5),_0x22d7a5['on']('result',(_0x46ba6f,_0x216e03,_0x9d46fa,_0x2e7769)=>{_0x9d46fa===this&&this['fire']('hittest:re'+'sult',_0x22d7a5,_0x46ba6f,_0x216e03,_0x2e7769);}),_0x22d7a5['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x22d7a5),this['fire']('hittest:re'+'move',_0x22d7a5);});}['onHitTestS'+'ourceRemov'+'e'](_0x1d0a75){const _0x4aa5eb=this['_hitTestSo'+'urces']['indexOf'](_0x1d0a75);_0x4aa5eb!==-(0x1f1a+0x1*0x51d+0x5*-0x73e)&&this['_hitTestSo'+'urces']['splice'](_0x4aa5eb,0x1*0x243c+-0xd*-0x4+0xc25*-0x3);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x2ea160){var _0x45a4dc,_0x3b166a;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0x3*0x49+0x4a*-0x3b+0x1034)),(this['manager']=_0x2ea160,this['velocities'+'Supported']=!!(ye['browser']&&((_0x3b166a=(_0x45a4dc=window['XRPose'])==null?void(-0x1eb2+0x910+-0x2*-0xad1):_0x45a4dc['prototype'])!=null&&_0x3b166a['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x2fafb8=>{this['_onInputSo'+'urcesChang'+'e'](_0x2fafb8);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x2d046b=this['manager']['session'];_0x2d046b['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x2d046b['addEventLi'+'stener']('select',_0x1062d1=>{const _0x1ada5a=this['_getByInpu'+'tSource'](_0x1062d1['inputSourc'+'e']);_0x1ada5a['update'](_0x1062d1['frame']),_0x1ada5a['fire']('select',_0x1062d1),this['fire']('select',_0x1ada5a,_0x1062d1);}),_0x2d046b['addEventLi'+'stener']('selectstar'+'t',_0x576eae=>{const _0x12a07b=this['_getByInpu'+'tSource'](_0x576eae['inputSourc'+'e']);_0x12a07b['_selecting']||(_0x12a07b['update'](_0x576eae['frame']),_0x12a07b['_selecting']=!(0xc41+-0x1*-0x2360+-0x2fa1),_0x12a07b['fire']('selectstar'+'t',_0x576eae),this['fire']('selectstar'+'t',_0x12a07b,_0x576eae));}),_0x2d046b['addEventLi'+'stener']('selectend',_0x27bab3=>{const _0x4537e1=this['_getByInpu'+'tSource'](_0x27bab3['inputSourc'+'e']);_0x4537e1['update'](_0x27bab3['frame']),_0x4537e1['_selecting']=!(-0x1dc3+-0x34d+0x2111),_0x4537e1['fire']('selectend',_0x27bab3),this['fire']('selectend',_0x4537e1,_0x27bab3);}),_0x2d046b['addEventLi'+'stener']('squeeze',_0x30134b=>{const _0x3b5645=this['_getByInpu'+'tSource'](_0x30134b['inputSourc'+'e']);_0x3b5645['update'](_0x30134b['frame']),_0x3b5645['fire']('squeeze',_0x30134b),this['fire']('squeeze',_0x3b5645,_0x30134b);}),_0x2d046b['addEventLi'+'stener']('squeezesta'+'rt',_0x25305c=>{const _0x3057f2=this['_getByInpu'+'tSource'](_0x25305c['inputSourc'+'e']);_0x3057f2['update'](_0x25305c['frame']),_0x3057f2['_squeezing']=!(0xee0+0x7*0x33e+0x2*-0x12c9),_0x3057f2['fire']('squeezesta'+'rt',_0x25305c),this['fire']('squeezesta'+'rt',_0x3057f2,_0x25305c);}),_0x2d046b['addEventLi'+'stener']('squeezeend',_0x3b9cbb=>{const _0x34a2ac=this['_getByInpu'+'tSource'](_0x3b9cbb['inputSourc'+'e']);_0x34a2ac['update'](_0x3b9cbb['frame']),_0x34a2ac['_squeezing']=!(-0x7f+-0x88*-0x11+-0x888),_0x34a2ac['fire']('squeezeend',_0x3b9cbb),this['fire']('squeezeend',_0x34a2ac,_0x3b9cbb);});const _0x2ea35a=_0x2d046b['inputSourc'+'es'];for(let _0x46a0f0=0x20ad+0x1*-0x9aa+-0x1703;_0x46a0f0<_0x2ea35a['length'];_0x46a0f0++)this['_addInputS'+'ource'](_0x2ea35a[_0x46a0f0]);}['_onSession'+'End'](){let _0x314300=this['_inputSour'+'ces']['length'];for(;_0x314300--;){const _0x27830d=this['_inputSour'+'ces'][_0x314300];this['_inputSour'+'ces']['splice'](_0x314300,0x52*-0x37+0x1*-0xe0f+-0x656*-0x5),_0x27830d['fire']('remove'),this['fire']('remove',_0x27830d);}this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x34dbf4){for(let _0xce094=-0x2d*0x3a+0x1f55+-0x1523;_0xce094<_0x34dbf4['removed']['length'];_0xce094++)this['_removeInp'+'utSource'](_0x34dbf4['removed'][_0xce094]),console['log']('_removeInp'+'utSource',_0x34dbf4['removed']);for(let _0xf4dc6b=0xbc4+-0x7f8*0x1+0x1*-0x3cc;_0xf4dc6b<_0x34dbf4['added']['length'];_0xf4dc6b++)this['_addInputS'+'ource'](_0x34dbf4['added'][_0xf4dc6b]),console['log']('_addInputS'+'ource',_0x34dbf4['added']);}['_getByInpu'+'tSource'](_0x49c8c0){for(let _0x55f362=-0x222b+0x24cd*-0x1+0x46f8;_0x55f362<this['_inputSour'+'ces']['length'];_0x55f362++)if(this['_inputSour'+'ces'][_0x55f362]['inputSourc'+'e']===_0x49c8c0)return this['_inputSour'+'ces'][_0x55f362];return null;}['_addInputS'+'ource'](_0x43e812){if(this['_getByInpu'+'tSource'](_0x43e812))return;const _0x117db9=new xs(this['manager'],_0x43e812);this['_inputSour'+'ces']['push'](_0x117db9),this['fire']('add',_0x117db9);}['_removeInp'+'utSource'](_0x1aef99){for(let _0x54eaf5=0x49*0x11+0xe8*-0x6+0x97*0x1;_0x54eaf5<this['_inputSour'+'ces']['length'];_0x54eaf5++){if(this['_inputSour'+'ces'][_0x54eaf5]['inputSourc'+'e']!==_0x1aef99)continue;const _0x402d95=this['_inputSour'+'ces'][_0x54eaf5];this['_inputSour'+'ces']['splice'](_0x54eaf5,-0x1*-0x989+-0x77+-0x911);let _0x13da70=_0x402d95['hitTestSou'+'rces']['length'];for(;_0x13da70--;)_0x402d95['hitTestSou'+'rces'][_0x13da70]['remove']();_0x402d95['fire']('remove'),this['fire']('remove',_0x402d95);return;}}['update'](_0xa6ee9d){for(let _0x182de6=-0xe*-0x21+-0x14*-0x1+-0x1e2;_0x182de6<this['_inputSour'+'ces']['length'];_0x182de6++)this['_inputSour'+'ces'][_0x182de6]['update'](_0xa6ee9d);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x4d0738){super(),c(this,'_manager'),c(this,'_supported',!(-0x5e*-0x59+0x2*-0x3a7+0x875*-0x3)),c(this,'_available',!(-0x17b7+0x2273+0x29*-0x43)),c(this,'_lightProb'+'eRequested',!(0xeb8+-0xcd+0x2*-0x6f5)),c(this,'_lightProb'+'e',null),c(this,'_intensity',-0x18b3+-0x12be+0x2b71),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(-0x1d6+0x26*0x107+-0x2519)),(this['_manager']=_0x4d0738,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0xf02+0x70+-0x5*-0x2ea));}['_onSession'+'End'](){this['_supported']=!(-0x132c+0x1062+-0x2cb*-0x1),this['_available']=!(-0x2f*-0x41+-0x57*-0x2d+0x65*-0x45),this['_lightProb'+'eRequested']=!(0x725+0x328+0x526*-0x2),this['_lightProb'+'e']=null;}['start'](){let _0x2a13be;if(this['_manager']['session']||(_0x2a13be=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x2a13be&&this['_manager']['type']!==Ao&&(_0x2a13be=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x2a13be&&!this['_supported']&&(_0x2a13be=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x2a13be&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x2a13be=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x2a13be){this['fire']('error',_0x2a13be);return;}this['_lightProb'+'eRequested']=!(0x137*0x20+-0x1*0xe96+0x2*-0xc25),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x3f41d4=>{const _0x3bdd91=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x10bd+0x104f*-0x1+0x6d*-0x1),this['_manager']['active']?_0x3bdd91&&(this['_lightProb'+'e']=_0x3f41d4):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x27b53c=>{this['_lightProb'+'eRequested']=!(0x1260+0x21ef+-0x344e),this['fire']('error',_0x27b53c);});}['end'](){this['_lightProb'+'eRequested']=!(0x13ed+-0x8*0xe5+-0x26*0x56),this['_lightProb'+'e']=null,this['_available']=!(0x1e26+0x6*-0x3ea+-0x1*0x6a9);}['update'](_0x44a0c6){if(!this['_lightProb'+'e'])return;const _0x359969=_0x44a0c6['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x359969)return;this['_available']||(this['_available']=!(-0x5*0x3d7+0x1*0x379+-0x7dd*-0x2),this['fire']('available'));const _0x3d0554=_0x359969['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x1171*0x1+-0x89*0x19+-0xd*-0x25f,Math['max'](_0x3d0554['x'],Math['max'](_0x3d0554['y'],_0x3d0554['z']))),Xn['copy'](_0x3d0554)['mulScalar']((0x1e8b+-0x1303+-0xb87)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](0x13*-0x1f9+-0x1d27+0x42a2,-0x87f+0x1*-0x11+0x890,-0x5f7*0x2+-0x2d3+-0x4eb*-0x3),Jg['copy'](_0x359969['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0x20ac+-0x91f*0x4+0x52*0xd),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x359969['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=0x1*-0x4bd+0x2211+-0x1d54;class Rf extends ce{constructor(_0x46b7f2,_0x14ddad){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x46b7f2,this['_xrPlane']=_0x14ddad,this['_lastChang'+'edTime']=_0x14ddad['lastChange'+'dTime'],this['_orientati'+'on']=_0x14ddad['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x3125c6){const _0x5d36bd=this['_planeDete'+'ction']['_manager'],_0x5bb6ed=_0x3125c6['getPose'](this['_xrPlane']['planeSpace'],_0x5d36bd['_reference'+'Space']);_0x5bb6ed&&(this['_position']['copy'](_0x5bb6ed['transform']['position']),this['_rotation']['copy'](_0x5bb6ed['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x7c6150){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(0x13ec+0x1bcc+-0x2fb7)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x7c6150,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x1860+-0x7*-0x3b3+-0x3244)&&(this['_available']=!(-0x1*0x741+-0x3*-0x236+0x35*0x3),this['fire']('available'));}['_onSession'+'End'](){for(let _0x17499f=0x1d4b+-0x252*0x3+-0x1655;_0x17499f<this['_planes']['length'];_0x17499f++)this['_planes'][_0x17499f]['destroy'](),this['fire']('remove',this['_planes'][_0x17499f]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x1844+-0x1042+0x2886,this['_available']&&(this['_available']=!(-0xed*0x1f+0xd*-0x111+0x2a91),this['fire']('unavailabl'+'e'));}['update'](_0x1bfff3){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x1bfff3['detectedPl'+'anes']['size'])this['_available']=!(-0x1*-0x4b2+0x25eb+-0x2a9d),this['fire']('available');else return;}const _0x241263=_0x1bfff3['detectedPl'+'anes'];for(const [_0x5f47f9,_0x377b10]of this['_planesInd'+'ex'])_0x241263['has'](_0x5f47f9)||(this['_planesInd'+'ex']['delete'](_0x5f47f9),this['_planes']['splice'](this['_planes']['indexOf'](_0x377b10),-0x8a+0x1*0xf95+-0xe*0x113),_0x377b10['destroy'](),this['fire']('remove',_0x377b10));for(const _0x1e25a9 of _0x241263){let _0x3c2127=this['_planesInd'+'ex']['get'](_0x1e25a9);_0x3c2127?_0x3c2127['update'](_0x1bfff3):(_0x3c2127=new Rf(this,_0x1e25a9),this['_planesInd'+'ex']['set'](_0x1e25a9,_0x3c2127),this['_planes']['push'](_0x3c2127),_0x3c2127['update'](_0x1bfff3),this['fire']('add',_0x3c2127));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x14c105,_0x101f95,_0x21d63a=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x14c105,this['_xrAnchor']=_0x101f95,this['_uuid']=_0x21d63a);}['destroy'](){if(!this['_xrAnchor'])return;const _0x2449c7=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x2449c7,this);}['update'](_0x1b237d){if(!this['_xrAnchor'])return;const _0x286ef5=_0x1b237d['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x286ef5){if(this['_position']['equals'](_0x286ef5['transform']['position'])&&this['_rotation']['equals'](_0x286ef5['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x286ef5['transform']['position']),this['_rotation']['copy'](_0x286ef5['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x4957b0){if(!this['_anchors']['persistenc'+'e']){_0x4957b0==null||_0x4957b0(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x4957b0==null||_0x4957b0(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x4957b0&&this['_uuidReque'+'sts']['push'](_0x4957b0);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x576cec=>{this['_uuid']=_0x576cec,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x4957b0==null||_0x4957b0(null,_0x576cec);for(const _0x340627 of this['_uuidReque'+'sts'])_0x340627(null,_0x576cec);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x576cec);})['catch'](_0xd6f805=>{_0x4957b0==null||_0x4957b0(_0xd6f805,null);for(const _0x1f010b of this['_uuidReque'+'sts'])_0x1f010b(_0xd6f805,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x304253){if(!this['_uuid']){_0x304253==null||_0x304253(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x1f89f3=>{this['_uuid']=null,_0x304253==null||_0x304253(_0x1f89f3),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x1db0ef){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(0x1c75+0x1d6e+0x39e2*-0x1)),c(this,'_checkingA'+'vailabilit'+'y',!(0x1fbf+0x1768+-0x3726)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(0x2708*0x1+-0x26c5*-0x1+-0x8a5*0x9):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x1db0ef,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x1b58d4=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0x43*0x63+-0x8b0+0x2*0x114d);_0x1b58d4&&(this['_available']=_0x1b58d4,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x25*0x10c+0x566*-0x7+-0xf1);for(let _0x4ac45f=0x2014+0x2*0xc8e+0xf0*-0x3d;_0x4ac45f<this['_creationQ'+'ueue']['length'];_0x4ac45f++)this['_creationQ'+'ueue'][_0x4ac45f]['callback']&&this['_creationQ'+'ueue'][_0x4ac45f]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x11*0x209+0x94d*-0x3+0x359*-0x2,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x129fee=this['_list']['length'];for(;_0x129fee--;)this['_list'][_0x129fee]['destroy']();this['_list']['length']=0x1*-0xd36+0xd27+0x5*0x3,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0xb8736d,_0x184fde=null){const _0x354aa8=new uo(this,_0xb8736d,_0x184fde);return this['_index']['set'](_0xb8736d,_0x354aa8),_0x184fde&&this['_indexByUu'+'id']['set'](_0x184fde,_0x354aa8),this['_list']['push'](_0x354aa8),_0x354aa8['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x354aa8;}['_onAnchorD'+'estroy'](_0x42a01a,_0x3313be){this['_index']['delete'](_0x42a01a),_0x3313be['uuid']&&this['_indexByUu'+'id']['delete'](_0x3313be['uuid']);const _0xc78f29=this['_list']['indexOf'](_0x3313be);_0xc78f29!==-(0x1c8c+0x8c7+-0x11*0x232)&&this['_list']['splice'](_0xc78f29,0xa3*-0x5+-0x25e*-0x6+-0xb04),this['fire']('destroy',_0x3313be);}['create'](_0x548a01,_0x52f534,_0x5a933b){if(!this['_available']){_0x5a933b==null||_0x5a933b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x548a01 instanceof XRHitTestResult){const _0x42cdb4=_0x548a01;if(_0x5a933b=_0x52f534,!this['_supported']){_0x5a933b==null||_0x5a933b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x42cdb4['createAnch'+'or']){_0x5a933b==null||_0x5a933b(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x42cdb4['createAnch'+'or']()['then'](_0x5b5b40=>{const _0x32e745=this['_createAnc'+'hor'](_0x5b5b40);_0x5a933b==null||_0x5a933b(null,_0x32e745),this['fire']('add',_0x32e745);})['catch'](_0x1f69e6=>{_0x5a933b==null||_0x5a933b(_0x1f69e6,null),this['fire']('error',_0x1f69e6);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x548a01,_0x52f534),'callback':_0x5a933b});}['restore'](_0x303b9d,_0x319bbd){if(!this['_available']){_0x319bbd==null||_0x319bbd(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x319bbd==null||_0x319bbd(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x319bbd==null||_0x319bbd(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x303b9d)['then'](_0x4afa38=>{const _0x54ec88=this['_createAnc'+'hor'](_0x4afa38,_0x303b9d);_0x319bbd==null||_0x319bbd(null,_0x54ec88),this['fire']('add',_0x54ec88);})['catch'](_0x58e205=>{_0x319bbd==null||_0x319bbd(_0x58e205,null),this['fire']('error',_0x58e205);});}['forget'](_0x8ffec3,_0x3bee15){if(!this['_available']){_0x3bee15==null||_0x3bee15(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x3bee15==null||_0x3bee15(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x3bee15==null||_0x3bee15(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x8ffec3)['then'](()=>{_0x3bee15==null||_0x3bee15(null);})['catch'](_0xafe546=>{_0x3bee15==null||_0x3bee15(_0xafe546),this['fire']('error',_0xafe546);});}['update'](_0x2b40fb){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x645+-0x1873+0x1*0x1eb8),_0x2b40fb['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x41634a=>{_0x41634a['delete'](),this['manager']['active']&&(this['_available']=!(-0x391+0x10ba*0x1+-0xd29),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x10954d=-0x140+-0x1a*0xb+0x6*0x65;_0x10954d<this['_creationQ'+'ueue']['length'];_0x10954d++){const _0x35e7f7=this['_creationQ'+'ueue'][_0x10954d];_0x2b40fb['createAnch'+'or'](_0x35e7f7['transform'],this['manager']['_reference'+'Space'])['then'](_0x11622d=>{_0x35e7f7['callback']&&this['_callbacks'+'Anchors']['set'](_0x11622d,_0x35e7f7['callback']);})['catch'](_0x141ff1=>{_0x35e7f7['callback']&&_0x35e7f7['callback'](_0x141ff1,null),this['fire']('error',_0x141ff1);});}this['_creationQ'+'ueue']['length']=-0x5*0x9a+-0x1237+-0x1*-0x1539;}for(const [_0x4b6e3a,_0x5335de]of this['_index'])_0x2b40fb['trackedAnc'+'hors']['has'](_0x4b6e3a)||(this['_index']['delete'](_0x4b6e3a),_0x5335de['destroy']());for(let _0x1b1fe5=-0x1280+0x377*0x7+-0x5c1;_0x1b1fe5<this['_list']['length'];_0x1b1fe5++)this['_list'][_0x1b1fe5]['update'](_0x2b40fb);for(const _0x46c62d of _0x2b40fb['trackedAnc'+'hors']){if(this['_index']['has'](_0x46c62d))continue;try{const _0x237cf8=_0x46c62d['anchorSpac'+'e'];}catch{continue;}const _0xb37b7d=this['_createAnc'+'hor'](_0x46c62d);_0xb37b7d['update'](_0x2b40fb);const _0xb63676=this['_callbacks'+'Anchors']['get'](_0x46c62d);_0xb63676&&(this['_callbacks'+'Anchors']['delete'](_0x46c62d),_0xb63676(null,_0xb37b7d)),this['fire']('add',_0xb37b7d);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x42b0d6,_0x2c037d){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',-0x155e+0x1cab+0x59*-0x15),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x42b0d6,this['_xrMesh']=_0x2c037d,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x331cb6){const _0x306a30=this['_meshDetec'+'tion']['_manager'],_0x5686cf=_0x331cb6['getPose'](this['_xrMesh']['meshSpace'],_0x306a30['_reference'+'Space']);_0x5686cf&&(this['_position']['copy'](_0x5686cf['transform']['position']),this['_rotation']['copy'](_0x5686cf['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x5488d4){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(0x20df+-0xdd*0x29+-0x287*-0x1)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x5488d4,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0xcfc988){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0xcfc988['detectedMe'+'shes']['size'])this['_available']=!(0x8a1*0x1+-0x1*-0x201e+-0x28bf),this['fire']('available');else return;}for(const _0x567d69 of _0xcfc988['detectedMe'+'shes']){let _0x183e40=this['_index']['get'](_0x567d69);_0x183e40?_0x183e40['update'](_0xcfc988):(_0x183e40=new If(this,_0x567d69),this['_index']['set'](_0x567d69,_0x183e40),this['_list']['push'](_0x183e40),_0x183e40['update'](_0xcfc988),this['fire']('add',_0x183e40));}for(const _0x428952 of this['_index']['values']())_0xcfc988['detectedMe'+'shes']['has'](_0x428952['xrMesh'])||this['_removeMes'+'h'](_0x428952);}['_removeMes'+'h'](_0x625683){this['_index']['delete'](_0x625683['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x625683),0x2519+0x5e2*-0x1+-0x1f36),_0x625683['destroy'](),this['fire']('remove',_0x625683);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x227107=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x1*0x2701+-0x20c7*0x1+0x47c9);if(!_0x227107)return;this['_available']=_0x227107,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x8*-0x18a+0x3fd+-0x12a*0xe);for(const _0x32b022 of this['_index']['values']())this['_removeMes'+'h'](_0x32b022);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x168a94,_0x85b5dc,_0x2d2d58){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0xc5*0x1b+0x130f+0x1*0x1bb)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x1420+0x13d*0x1f+0x1223*-0x1)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x168a94,this['_xrView']=_0x85b5dc);const _0x48c573=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x48c573,{'format':dr,'mipmaps':!(-0x1aa3+0xf7f*0x1+0xb25),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x4a6f4c=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x48c573,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x2d2d58===0x364+-0x1*-0x1445+-0x17a8?0x3*0x814+0x230+0x1*-0x1a6c:_0x2d2d58,'mipmaps':!(-0x7*0x175+0x1b*-0x41+-0x110f*-0x1),'addressU':ae,'addressV':ae,'minFilter':_0x4a6f4c,'magFilter':_0x4a6f4c,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x287c60=0x25ff*0x1+0x1852+-0x3e51;_0x287c60<this['_textureDe'+'pth']['_levels']['length'];_0x287c60++)this['_textureDe'+'pth']['_levels'][_0x287c60]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x48c573['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x270999;return((_0x270999=this['_depthInfo'])==null?void(0x517*-0x7+0x2*-0x4d5+0x2d4b):_0x270999['rawValueTo'+'Meters'])||-0x4b1*-0x5+0x79c+-0x1f11;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x14cc40,_0x3514a1){this['_xrView']=_0x3514a1,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x31f068=_0x14cc40['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x31f068['x'],this['_viewport']['y']=_0x31f068['y'],this['_viewport']['z']=_0x31f068['width'],this['_viewport']['w']=_0x31f068['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x14cc40);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x2e3769=this['_manager']['webglBindi'+'ng'];if(!_0x2e3769)return;const _0x5b30ba=_0x2e3769['getCameraI'+'mage'](this['_xrCamera']);if(!_0x5b30ba)return;const _0x2a448c=this['_manager']['app']['graphicsDe'+'vice'],_0x2a70bc=_0x2a448c['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x2a70bc['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x2a70bc['createFram'+'ebuffer']();else{const _0x6a23e0=_0x2a70bc['COLOR_ATTA'+'CHMENT0'],_0x833dd0=this['_xrCamera']['width'],_0x6907d6=this['_xrCamera']['height'];_0x2a448c['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x2a70bc['framebuffe'+'rTexture2D'](_0x2a70bc['FRAMEBUFFE'+'R'],_0x6a23e0,_0x2a70bc['TEXTURE_2D'],_0x5b30ba,-0x1*0x116f+-0x219d*-0x1+0x13*-0xda),_0x2a448c['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x2a70bc['framebuffe'+'rTexture2D'](_0x2a70bc['FRAMEBUFFE'+'R'],_0x6a23e0,_0x2a70bc['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x1e64+-0x2*0xdf8+-0x1*-0x3a54),_0x2a70bc['bindFrameb'+'uffer'](_0x2a70bc['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x2a70bc['bindFrameb'+'uffer'](_0x2a70bc['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x2a70bc['blitFrameb'+'uffer'](-0x1fe*-0x8+-0xb4e+-0x4a2*0x1,_0x6907d6,_0x833dd0,0x3d2*-0x9+-0x74f*0x1+0x29b1,-0x1*-0x704+0x20c6*-0x1+0x19c2,-0x3a+-0x5e5*0x3+0x11e9,_0x833dd0,_0x6907d6,_0x2a70bc['COLOR_BUFF'+'ER_BIT'],_0x2a70bc['NEAREST']);}}['_updateDep'+'th'](_0x1530a7){var _0x4871d4,_0x8350dd;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x5a0a2e=this['_manager']['views']['depthGpuOp'+'timized'],_0x4c67b8=_0x5a0a2e?this['_manager']['webglBindi'+'ng']:_0x1530a7;if(!_0x4c67b8){this['_depthInfo']=null;return;}const _0x5a9d2a=_0x4c67b8['getDepthIn'+'formation'](this['_xrView']);if(!_0x5a9d2a){this['_depthInfo']=null;return;}let _0x537bef=!this['_depthInfo']!=!_0x5a9d2a;this['_depthInfo']=_0x5a9d2a;const _0x4cfc27=((_0x4871d4=this['_depthInfo'])==null?void(-0x1b2d+-0xb*-0x2b1+-0x26e*0x1):_0x4871d4['width'])||-0x6d*0x12+-0x18fb+0x1*0x20a9,_0x584f6e=((_0x8350dd=this['_depthInfo'])==null?void(0xe8f+-0x3*-0x6d3+0x461*-0x8):_0x8350dd['height'])||0x13*-0x72+0x236*0x2+0x40e;let _0x360c34=!(-0x178*0x17+-0x1*0x526+0x26ef);if((this['_textureDe'+'pth']['width']!==_0x4cfc27||this['_textureDe'+'pth']['height']!==_0x584f6e)&&(this['_textureDe'+'pth']['_width']=_0x4cfc27,this['_textureDe'+'pth']['_height']=_0x584f6e,_0x537bef=!(-0x143c+0x2621*-0x1+-0x1*-0x3a5d),_0x360c34=!(-0x31*0x46+0x1d2+-0x3dc*-0x3)),_0x537bef&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x5a0a2e){if(this['_depthInfo']['texture']){const _0x292005=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x292005['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x292005['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x292005['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x292005['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x292005['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x292005['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x292005['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x292005['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x20ea+-0x655*-0x1+-0x273f);}}else this['_textureDe'+'pth']['_levels'][-0x1ad1+0x1e28+0x2d*-0x13]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x5f*-0x5b+-0x2675+-0x739*-0xa]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x360c34&&this['fire']('depth:resi'+'ze',_0x4cfc27,_0x584f6e);}['updateTran'+'sforms'](_0x266179){_0x266179?(this['_viewInvOf'+'fMat']['mul2'](_0x266179,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x2351+-0x1038+0x3389]=this['_viewInvOf'+'fMat']['data'][0xdca+0x1c5*0x2+-0x1148],this['_positionD'+'ata'][-0x241*-0x6+0x2550+-0x32d5]=this['_viewInvOf'+'fMat']['data'][-0x787*-0x4+-0x265+-0x1baa],this['_positionD'+'ata'][0x1ec8+-0x17aa+-0x71c]=this['_viewInvOf'+'fMat']['data'][-0x33*-0x92+0x25b8+-0x42c0];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x243c97,_0x1f851b){var _0x1e8d4f;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x1e8d4f=this['_depthInfo'])==null?void(-0x1*-0x4a0+0x373+-0x813):_0x1e8d4f['getDepthIn'+'Meters'](_0x243c97,_0x1f851b))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0xee6306=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0xee6306['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0xee6306['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x236aef){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(0xe75*-0x1+-0x184*0x1+0x332*0x5)),c(this,'_available'+'Depth',!(-0x262b+0x2085+-0x5a7*-0x1)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x236aef,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x4e80ab,_0xeba754){for(let _0xda4ff1=0x2640+0x19da+-0x401a;_0xda4ff1<_0xeba754['length'];_0xda4ff1++)this['_indexTmp']['set'](_0xeba754[_0xda4ff1]['eye'],_0xeba754[_0xda4ff1]);for(const [_0xb1ed4a,_0x47f19a]of this['_indexTmp']){let _0x58b9d6=this['_index']['get'](_0xb1ed4a);_0x58b9d6?_0x58b9d6['update'](_0x4e80ab,_0x47f19a):(_0x58b9d6=new Hx(this['_manager'],_0x47f19a,_0xeba754['length']),this['_index']['set'](_0xb1ed4a,_0x58b9d6),this['_list']['push'](_0x58b9d6),_0x58b9d6['update'](_0x4e80ab,_0x47f19a),this['fire']('add',_0x58b9d6));}for(const [_0x2a49e3,_0x15094f]of this['_index']){if(this['_indexTmp']['has'](_0x2a49e3))continue;_0x15094f['destroy'](),this['_index']['delete'](_0x2a49e3);const _0x495cf4=this['_list']['indexOf'](_0x15094f);_0x495cf4!==-(0x610+-0x18*0x9d+0x8a9)&&this['_list']['splice'](_0x495cf4,-0x3d1*0x7+0x1c1f+-0x167),this['fire']('remove',_0x15094f);}this['_indexTmp']['clear']();}['get'](_0x1541ef){return this['_index']['get'](_0x1541ef)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x1*-0x133e+-0x235d*-0x1+0x80f*-0x2),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x5*-0x64f+0xd7+0x7*0x463),this['_available'+'Depth'])){const _0x42d9c9=this['_manager']['session'];this['_depthUsag'+'e']=_0x42d9c9['depthUsage'],this['_depthForm'+'at']=_0x42d9c9['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x4d05a4 of this['_index']['values']())_0x4d05a4['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x21b0+0x2557+0x1*-0x3a6),this['_available'+'Depth']=!(-0x2058+-0x1d4d+0x3da6),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0xfe*-0x18+0x1*-0x2635+0x37*0x43;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x10e661){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',-0xe60+-0x6*-0x477+-0xc6a+0.1),c(this,'_depthFar',-0xb*-0x9+0xe0b+-0xa86),c(this,'_supported'+'FrameRates',null),c(this,'_width',0x23c+-0x7*-0x8c+0x8*-0xc2),c(this,'_height',0x1ddd+0x3*0x897+-0x1bd1*0x2),c(this,'_framebuff'+'erScaleFac'+'tor',-0x1b61+-0x29*-0x6b+0x2b*0x3d),(this['app']=_0x10e661,this['_available'][VL]=!(-0x3c4*-0x8+0x33*0x2f+-0x277c),this['_available'][GL]=!(0xf6+-0x231b+-0x6*-0x5b1),this['_available'][Ao]=!(-0x2*0x518+0x10a+0x47*0x21),this['views']=new ic(this),this['domOverlay']=new $L(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x3e9155,_0xd116cd,_0x3c5fe1,_0x7d7b7c){var _0x4ea5d1;let _0x2aed18=_0x7d7b7c;if(typeof _0x7d7b7c=='object'&&(_0x2aed18=_0x7d7b7c['callback']),!this['_available'][_0xd116cd]){_0x2aed18&&_0x2aed18(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x2aed18&&_0x2aed18(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x3e9155,this['_camera']['camera']['xr']=this,this['_type']=_0xd116cd,this['_spaceType']=_0x3c5fe1,this['_framebuff'+'erScaleFac'+'tor']=(_0x7d7b7c==null?void(0x830+-0xfb9+0x283*0x3):_0x7d7b7c['framebuffe'+'rScaleFact'+'or'])??0x19fb+-0x1*-0x9b7+-0x23b1,this['_setClipPl'+'anes'](_0x3e9155['nearClip'],_0x3e9155['farClip']);const _0x4f63b7={'requiredFeatures':[_0x3c5fe1],'optionalFeatures':[]},_0x4fd912=(_0x4ea5d1=this['app']['graphicsDe'+'vice'])==null?void(-0x22b2+0xa*0x9d+0x1c90):_0x4ea5d1['isWebGL2'];if(_0xd116cd===Ao){if(_0x4f63b7['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x4f63b7['optionalFe'+'atures']['push']('hit-test'),_0x7d7b7c&&(_0x7d7b7c['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x4f63b7['optionalFe'+'atures']['push']('image-trac'+'king'),_0x7d7b7c['planeDetec'+'tion']&&_0x4f63b7['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x7d7b7c['meshDetect'+'ion']&&_0x4f63b7['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x4f63b7['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x4f63b7['domOverlay']={'root':this['domOverlay']['root']}),_0x7d7b7c&&_0x7d7b7c['anchors']&&this['anchors']['supported']&&_0x4f63b7['optionalFe'+'atures']['push']('anchors'),_0x7d7b7c&&_0x7d7b7c['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x4f63b7['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x563d31=[],_0x124887=[];if(_0x563d31['push'](Bx,WL),_0x124887['push'](Ux,Nx,zx),_0x7d7b7c['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x2579d3=_0x563d31['indexOf'](_0x7d7b7c['depthSensi'+'ng']['usagePrefe'+'rence']);_0x2579d3!==-(-0x2287+-0x1c75+0x3efd)&&_0x563d31['splice'](_0x2579d3,0x1dbd+-0x11e*-0x1f+-0x405e),_0x563d31['unshift'](_0x7d7b7c['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x7d7b7c['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x27814e=_0x124887['indexOf'](_0x7d7b7c['depthSensi'+'ng']['dataFormat'+'Preference']);_0x27814e!==-(0x79*0x4d+-0xf52+-0x706*0x3)&&_0x124887['splice'](_0x27814e,-0x27b*-0xc+-0x225d+0x26*0x1f),_0x124887['unshift'](_0x7d7b7c['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x4f63b7['depthSensi'+'ng']={'usagePreference':_0x563d31,'dataFormatPreference':_0x124887};}_0x4fd912&&_0x7d7b7c&&_0x7d7b7c['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x4f63b7['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x4f63b7['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x7d7b7c&&_0x7d7b7c['optionalFe'+'atures']&&(_0x4f63b7['optionalFe'+'atures']=_0x4f63b7['optionalFe'+'atures']['concat'](_0x7d7b7c['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x34e407,_0x35d882)=>{if(_0x34e407){_0x2aed18&&_0x2aed18(_0x34e407),this['fire']('error',_0x34e407);return;}_0x35d882!==null&&(_0x4f63b7['trackedIma'+'ges']=_0x35d882),this['_onStartOp'+'tionsReady'](_0xd116cd,_0x3c5fe1,_0x4f63b7,_0x2aed18);}):this['_onStartOp'+'tionsReady'](_0xd116cd,_0x3c5fe1,_0x4f63b7,_0x2aed18);}['_onStartOp'+'tionsReady'](_0x472fe6,_0x4b8257,_0x184d92,_0x1120ea){navigator['xr']['requestSes'+'sion'](_0x472fe6,_0x184d92)['then'](_0x27adee=>{this['_onSession'+'Start'](_0x27adee,_0x4b8257,_0x1120ea);})['catch'](_0x3a9f41=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x1120ea&&_0x1120ea(_0x3a9f41),this['fire']('error',_0x3a9f41);});}['end'](_0x55a00c){if(!this['_session']){_0x55a00c&&_0x55a00c(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x55a00c&&this['once']('end',_0x55a00c),this['_session']['end']();}['isAvailabl'+'e'](_0x185c91){return this['_available'][_0x185c91];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x571ed3 in this['_available'])this['_sessionSu'+'pportCheck'](_0x571ed3);}['initiateRo'+'omCapture'](_0x2ef210){if(!this['_session']){_0x2ef210(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x2ef210(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x2ef210&&_0x2ef210(null);})['catch'](_0x361040=>{_0x2ef210&&_0x2ef210(_0x361040);});}['updateTarg'+'etFrameRat'+'e'](_0x3cc38e,_0x3d85ad){var _0x4002b2;if(!((_0x4002b2=this['_session'])!=null&&_0x4002b2['updateTarg'+'etFrameRat'+'e'])){_0x3d85ad==null||_0x3d85ad(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x3cc38e)['then'](()=>{_0x3d85ad==null||_0x3d85ad();})['catch'](_0xc18287=>{_0x3d85ad==null||_0x3d85ad(_0xc18287);});}['_sessionSu'+'pportCheck'](_0xef82c6){navigator['xr']['isSessionS'+'upported'](_0xef82c6)['then'](_0x6706ac=>{this['_available'][_0xef82c6]!==_0x6706ac&&(this['_available'][_0xef82c6]=_0x6706ac,this['fire']('available',_0xef82c6,_0x6706ac),this['fire']('available:'+_0xef82c6,_0x6706ac));})['catch'](_0x4d41e6=>{this['fire']('error',_0x4d41e6);});}['_onSession'+'Start'](_0x2faba4,_0x3b6003,_0x181556){let _0x5715fd=!(0xb*-0xe+-0xd9b+0x71b*0x2);this['_session']=_0x2faba4;const _0xd8d53b=()=>{this['fire']('visibility'+':change',_0x2faba4['visibility'+'State']);},_0x1ed004=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x25497e=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x1ed004),this['_camera']['off']('set_farCli'+'p',_0x1ed004),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x2faba4['removeEven'+'tListener']('end',_0x25497e),_0x2faba4['removeEven'+'tListener']('visibility'+'change',_0xd8d53b),_0x5715fd||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x1*0x227c+0x200a+0x272,this['_height']=-0x1d1a+-0x8d+0x1da7,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x2faba4['addEventLi'+'stener']('end',_0x25497e),_0x2faba4['addEventLi'+'stener']('visibility'+'change',_0xd8d53b),this['_camera']['on']('set_nearCl'+'ip',_0x1ed004),this['_camera']['on']('set_farCli'+'p',_0x1ed004),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x177329;this['fire']('frameratec'+'hange',(_0x177329=this['_session'])==null?void(-0xb1a*0x3+0x1*0x539+0x1c15*0x1):_0x177329['frameRate']);}),_0x2faba4['requestRef'+'erenceSpac'+'e'](_0x3b6003)['then'](_0x41d2e9=>{this['_reference'+'Space']=_0x41d2e9,this['app']['tick'](),_0x181556&&_0x181556(null),this['fire']('start');})['catch'](_0x4c23e8=>{_0x5715fd=!(0x72*0x1c+-0x1*-0x2683+-0x32fb),_0x2faba4['end'](),_0x181556&&_0x181556(_0x4c23e8),this['fire']('error',_0x4c23e8);});}['_setClipPl'+'anes'](_0xf2afb1,_0x219faf){this['_depthNear']===_0xf2afb1&&this['_depthFar']===_0x219faf||(this['_depthNear']=_0xf2afb1,this['_depthFar']=_0x219faf,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x4bf795=this['app']['graphicsDe'+'vice'],_0x40738d=_0x4bf795['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x4bf795['gl'],{'alpha':!(-0x92a*-0x1+-0x60b*0x5+0x13d*0x11),'depth':!(-0xdf3*0x2+-0x1*0x259b+0x4181),'stencil':!(-0x47*0x43+0x356*-0x3+-0x1c97*-0x1),'framebufferScaleFactor':_0x40738d,'antialias':!(-0x1*0xb45+-0x2077+0x2bbd)}),_0x4bf795!=null&&_0x4bf795['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x4bf795['gl']);}catch(_0x10e136){this['fire']('error',_0x10e136);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x4a2d9c=>{this['fire']('error',_0x4a2d9c);});},0x18ae+-0x1b69+0x2bb);}['update'](_0x4243a2){if(!this['_session'])return!(0x20c4+0x1974+0x1*-0x3a37);const _0x3d3e44=_0x4243a2['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x1c6f61=_0x4243a2['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x3d3e44||this['_height']!==_0x1c6f61)&&(this['_width']=_0x3d3e44,this['_height']=_0x1c6f61,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x3d3e44,_0x1c6f61));const _0x25354b=_0x4243a2['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x25354b)return!(0x5a8+-0x1*-0xb7+-0xa*0xa3);const _0x1d1cb5=this['views']['list']['length'];this['views']['update'](_0x4243a2,_0x25354b['views']);const _0x16d617=_0x25354b['transform']['position'],_0x555f77=_0x25354b['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x16d617['x'],_0x16d617['y'],_0x16d617['z']),this['_localRota'+'tion']['set'](_0x555f77['x'],_0x555f77['y'],_0x555f77['z'],_0x555f77['w']),_0x1d1cb5===0x1*0x2191+-0x1cd2+-0x3*0x195&&this['views']['list']['length']>-0x2223+0x61c*-0x4+0x3a93){const _0x3ad9c=new q(),_0x2108d0=this['views']['list'][-0x11c4+-0x20de+-0x2*-0x1951];_0x3ad9c['copy'](_0x2108d0['projMat']);const _0x4a466b=_0x3ad9c['data'],_0x5d22e8=(0x12ab+-0x37*-0x96+-0x32e3)*Math['atan']((-0x13b9+0x89*-0xb+0x199d)/_0x4a466b[0x4*0x3b0+0x1531+0xd1*-0x2c])*(-0x30*-0x4b+-0x1e9b+0x113f)/Math['PI'],_0x208a65=_0x4a466b[-0x157f+0x2*-0xd2a+0x2fd8]/_0x4a466b[-0xd9a+0x436*0x3+-0x7c*-0x2],_0x389150=_0x4a466b[-0x12fc+-0x1511+0x281b]/(_0x4a466b[-0x1e84+-0x1*0x1f+0x1ead*0x1]+(-0x392+-0x1859*0x1+0x1bec)),_0x370921=_0x4a466b[-0xd1b+0x112b*-0x1+-0x3*-0xa1c]/(_0x4a466b[0x52*0x5+0x419+-0x5a9]-(-0x3d2*-0x3+0x4*-0x2d7+-0x1*0x19));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x208a65,'farClip':_0x389150,'fov':_0x5d22e8,'horizontalFov':!(0x1*-0x204d+0x355*-0xb+0x1*0x44f5),'nearClip':_0x370921});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x4243a2),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x4243a2),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x4243a2),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x4243a2),this['anchors']['supported']&&this['anchors']['update'](_0x4243a2),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x4243a2),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x4243a2)),this['fire']('update',_0x4243a2),!(0xcbe+0xf94+0x1d*-0xfa);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x47df48;return((_0x47df48=this['_session'])==null?void(-0x8b9+-0x172*0x8+-0x9*-0x241):_0x47df48['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x32434d){var _0x34b995;(((_0x34b995=this['_baseLayer'])==null?void(0xe0d+-0x1*-0x1d8b+0x48*-0x9b):_0x34b995['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x6*0x2b7+-0x511+-0x167*0x8&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x32434d);}get['fixedFovea'+'tion'](){var _0x2d0ef8;return((_0x2d0ef8=this['_baseLayer'])==null?void(0x238+-0x1*-0x2243+-0x247b):_0x2d0ef8['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x58e765,_0x52de93={}){super(_0x58e765);const _0x197618=new pP();_0x197618['graphicsDe'+'vice']=_0x52de93['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x58e765,_0x52de93),this['addCompone'+'ntSystems'](_0x197618),this['addResourc'+'eHandles'](_0x197618),_0x197618['elementInp'+'ut']=_0x52de93['elementInp'+'ut'],_0x197618['keyboard']=_0x52de93['keyboard'],_0x197618['mouse']=_0x52de93['mouse'],_0x197618['touch']=_0x52de93['touch'],_0x197618['gamepads']=_0x52de93['gamepads'],_0x197618['scriptPref'+'ix']=_0x52de93['scriptPref'+'ix'],_0x197618['assetPrefi'+'x']=_0x52de93['assetPrefi'+'x'],_0x197618['scriptsOrd'+'er']=_0x52de93['scriptsOrd'+'er'],_0x197618['soundManag'+'er']=new kb(),_0x197618['lightmappe'+'r']=vP,_0x197618['batchManag'+'er']=dC,_0x197618['xr']=Qn,this['init'](_0x197618);}['createDevi'+'ce'](_0x50bce0,_0x57a3fc){return _0x57a3fc['graphicsDe'+'viceOption'+'s']||(_0x57a3fc['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x57a3fc['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x16da+-0xc79+-0xa61)),_0x57a3fc['graphicsDe'+'viceOption'+'s']['alpha']=_0x57a3fc['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x3*0x477+0x4*0x5e4+0x2*-0x515),new pb(_0x50bce0,_0x57a3fc['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x3ddf80){_0x3ddf80['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x1c17c1){_0x1c17c1['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,$2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x3a2b23,_0x477c55){super(_0x3a2b23),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x477c55;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x428de7=>{_0x428de7['defaultUni'+'formBuffer']['destroy'](),_0x428de7['destroy']();}),this['viewBindGr'+'oups']['length']=0x1*0x18d7+-0xe42+-0xa95;}['update'](_0x55b3ae,_0x33bc08,_0x4014a8,_0x5e2074){this['camera']=_0x55b3ae,this['scene']=_0x33bc08,this['layers']=_0x4014a8,this['mapping']=_0x5e2074;}['execute'](){const _0xfa0a71=this['device'],{renderer:_0x1df96c,camera:_0x4e0f96,scene:_0x18ae00,layers:_0x5edbf3,mapping:_0x300866,renderTarget:_0x5491ed}=this,_0x5ba6a4=_0x18ae00['layers']['layerList'],_0xce5cab=_0x18ae00['layers']['subLayerEn'+'abled'],_0x27ef58=_0x18ae00['layers']['subLayerLi'+'st'];for(let _0x2724d4=-0x34*0x89+-0x1d8f+0x3963;_0x2724d4<_0x5ba6a4['length'];_0x2724d4++){const _0x5185ee=_0x5ba6a4[_0x2724d4];if(!(_0x5edbf3&&_0x5edbf3['indexOf'](_0x5185ee)<-0x1*0xcbd+0x1abf*-0x1+0x277c)&&_0x5185ee['enabled']&&_0xce5cab[_0x2724d4]&&_0x5185ee['camerasSet']['has'](_0x4e0f96['camera'])){const _0x510348=_0x27ef58[_0x2724d4];G['pushGpuMar'+'ker'](_0xfa0a71,_0x5185ee['name']+'('+(_0x510348?'TRANSP':'OPAQUE')+')'),_0x5185ee['_clearDept'+'hBuffer']&&_0x1df96c['clear'](_0x4e0f96['camera'],!(0x1358*0x1+0x53*-0x74+-0x1*-0x1245),!(0xe90+-0x9be+-0x4d2),!(0x1b*-0x9d+0x1adc+-0xa4c));const _0x5af7e0=_0x5185ee['meshInstan'+'ces'];for(let _0x3d08a7=-0x104f+0xa53*0x1+0x2fe*0x2;_0x3d08a7<_0x5af7e0['length'];_0x3d08a7++){const _0x5c971e=_0x5af7e0[_0x3d08a7];_0x5c971e['pick']&&_0x5c971e['transparen'+'t']===_0x510348&&(nh['push'](_0x5c971e),_0x300866['set'](_0x5c971e['id'],_0x5c971e));}nh['length']>-0x1825+-0x1698+-0x2ebd*-0x1&&(_0x18ae00['clusteredL'+'ightingEna'+'bled']&&_0x1df96c['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x1df96c['setCameraU'+'niforms'](_0x4e0f96['camera'],_0x5491ed),_0xfa0a71['supportsUn'+'iformBuffe'+'rs']&&_0x1df96c['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x1df96c['viewUnifor'+'mFormat'],_0x1df96c['viewBindGr'+'oupFormat'],-0x717*-0x2+0xc4e+0x1a7b*-0x1),_0x1df96c['renderForw'+'ard'](_0x4e0f96['camera'],_0x5491ed,nh,YL,Oa,_0xc32e1d=>{_0xfa0a71['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=-0x62b*-0x5+0x8*0x403+0x3eef*-0x1),G['popGpuMark'+'er'](_0xfa0a71);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x2548dd,_0xba5d96,_0x4b86d6){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x112e+-0x6af*-0x4+-0x4c7*0x2)),(v['assert'](_0x2548dd),this['renderer']=_0x2548dd['renderer'],this['device']=_0x2548dd['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x2548dd['renderer']),this['width']=-0x2f0+-0x13a2+0x12*0x141,this['height']=-0x25*-0x89+0x9*0x121+0x5fe*-0x5,this['resize'](_0xba5d96,_0x4b86d6),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x236*0xd+-0x1aa1+-0x21c);}));}['getSelecti'+'on'](_0xa15eba,_0x5adec3,_0x469ac5=0x169*0x1+-0x2491+0x2329,_0x424160=-0x25ee+0x2294+0x35b){const _0x44f0e4=this['device'];if(_0x44f0e4['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0xa15eba!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x5adec3=this['renderTarg'+'et']['height']-(_0x5adec3+_0x424160);const _0x562c17=this['sanitizeRe'+'ct'](_0xa15eba,_0x5adec3,_0x469ac5,_0x424160);_0x44f0e4['setRenderT'+'arget'](this['renderTarg'+'et']),_0x44f0e4['updateBegi'+'n']();const _0x2261d9=new Uint8Array((-0x16d5+0xef2*-0x1+0x25cb)*_0x562c17['z']*_0x562c17['w']);return _0x44f0e4['readPixels'](_0x562c17['x'],_0x562c17['y'],_0x562c17['z'],_0x562c17['w'],_0x2261d9),_0x44f0e4['updateEnd'](),this['decodePixe'+'ls'](_0x2261d9,this['mapping']);}['getSelecti'+'onAsync'](_0x4e889c,_0x368723,_0x1ee27d=-0x11ea+-0x2*-0xe3b+0xa8b*-0x1,_0x83805c=0x26bd+0x25fd+0x1993*-0x3){var _0x5b6077;(_0x5b6077=this['device'])!=null&&_0x5b6077['isWebGL2']&&(_0x368723=this['renderTarg'+'et']['height']-(_0x368723+_0x83805c));const _0x166487=this['sanitizeRe'+'ct'](_0x4e889c,_0x368723,_0x1ee27d,_0x83805c);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x166487['x'],_0x166487['y'],_0x166487['z'],_0x166487['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x11*0x1bb+-0x2d*0xbe+0x3ed1)})['then'](_0x10b6e0=>this['decodePixe'+'ls'](_0x10b6e0,this['mapping']));}['sanitizeRe'+'ct'](_0x40ca0c,_0x4b59b3,_0x310933,_0xdaa329){const _0x152d7a=this['renderTarg'+'et']['width'],_0x546c10=this['renderTarg'+'et']['height'];return _0x40ca0c=N['clamp'](Math['floor'](_0x40ca0c),-0x237*-0x4+0xbf3+0x14cf*-0x1,_0x152d7a-(-0x1*0x266+-0x467*-0x1+0x8*-0x40)),_0x4b59b3=N['clamp'](Math['floor'](_0x4b59b3),0x1ce5+0x175a+-0x343f,_0x546c10-(0x22b7+-0x14a1*0x1+-0xe15)),_0x310933=Math['floor'](Math['max'](_0x310933,-0x2*0x8dd+-0x29*0x7+0x2*0x96d)),_0x310933=Math['min'](_0x310933,_0x152d7a-_0x40ca0c),_0xdaa329=Math['floor'](Math['max'](_0xdaa329,-0x24c8+0x1*0x1c2b+0x44f*0x2)),_0xdaa329=Math['min'](_0xdaa329,_0x546c10-_0x4b59b3),ZL['set'](_0x40ca0c,_0x4b59b3,_0x310933,_0xdaa329);}['decodePixe'+'ls'](_0x49c334,_0x391183){const _0x101c9f=[];if(this['deviceVali'+'d']){const _0x4ff704=_0x49c334['length'];for(let _0x213561=-0x8f3+0x1*-0x275+-0x2*-0x5b4;_0x213561<_0x4ff704;_0x213561+=0x1840+0x1*0x1619+-0x2e55){const _0xb3bd2c=_0x49c334[_0x213561+(0x1*-0xb94+0x1*0x1915+0xd81*-0x1)],_0x38e9b5=_0x49c334[_0x213561+(-0x1f0e*-0x1+0x1c5a+-0x89*0x6f)],_0x5aa64d=_0x49c334[_0x213561+(0x5*0xe9+0xa*0x34c+-0x123*0x21)],_0x305702=_0x49c334[_0x213561+(-0xa21+-0x89b+0x12bf)]<<0xb65*-0x3+0x1d80+0x4c7|_0xb3bd2c<<0x1582+0x581*-0x5+0x613|_0x38e9b5<<0x23a7+-0x2de*-0x5+0x93*-0x57|_0x5aa64d;_0x305702!==-(-0x25a5+-0x5dc+0x15c1*0x2)&&nu['add'](_0x391183['get'](_0x305702));}nu['forEach'](_0x5bab22=>{_0x5bab22&&_0x101c9f['push'](_0x5bab22);}),nu['clear']();}return _0x101c9f;}['allocateRe'+'nderTarget'](){const _0x552817=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(-0x227c*-0x1+0x338*0xa+-0x42ab),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x552817,'depth':!(-0x2248+-0x1d7b*0x1+0x1541*0x3)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x42c8ad,_0x458dcf,_0x32ee88){_0x32ee88 instanceof Lr&&(_0x32ee88=[_0x32ee88]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x3d5b4d=this['renderPass'];_0x3d5b4d['init'](this['renderTarg'+'et']),_0x3d5b4d['colorOps']['clearValue']=Y['WHITE'],_0x3d5b4d['colorOps']['clear']=!(-0x1*0x655+-0x23cd+-0x1511*-0x2),_0x3d5b4d['depthStenc'+'ilOps']['clearDepth']=!(0x1*0x1e8c+0x266+-0x20f2),_0x3d5b4d['update'](_0x42c8ad,_0x458dcf,_0x32ee88,this['mapping']),_0x3d5b4d['render']();}['resize'](_0x25d3d7,_0x1cdf8e){this['width']=Math['floor'](_0x25d3d7),this['height']=Math['floor'](_0x1cdf8e);}};class QL{constructor(_0x6538a4){this['_frameInde'+'x']=-0x9d*0x31+-0x150+0x1f5d,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x1773+0x6f1+0x1083,this['enabled']=!(-0x845+-0xd92+0x15d7),_0x6538a4['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x6538a4['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x6538a4['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x4a0d59){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x136e9a=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x136e9a,this['_frameInde'+'x']=-0xdf6*-0x2+0x254d+-0x1*0x4139,this['mark'](_0x4a0d59);}['mark'](_0x1b9c44){if(!this['enabled'])return;const _0x38ba3e=ne();if(this['_frameInde'+'x']>-0x1a23+-0x3*0x2f1+0x22f6){const _0xd5c5ee=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x5*0x3f8+0xbad+-0x1f84)];_0xd5c5ee[-0xbd+0x12a*0x1+0x1*-0x6c]=_0x38ba3e-_0xd5c5ee[0x27*0xa3+-0x237b+0xaa7];}else{if(this['_timings']['length']>-0xca0+-0x4*-0x191+0x65c){const _0x2d7673=this['_timings'][this['_timings']['length']-(-0x1ec7+0x1*0x1e8e+0x3a)];_0x2d7673[-0x590+0x84*0x14+0x87*-0x9]=_0x38ba3e-_0x2d7673[-0x1*-0x1b48+-0x2377+0x10*0x83];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x1b9c44,_0x38ba3e]);else{const _0x18b03d=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x18b03d[-0x6ee+0x22e8+-0x2*0xdfd]=_0x1b9c44,_0x18b03d[-0x2f6+0x1ba8*0x1+-0x18b1]=_0x38ba3e;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x1f81+0xdfd*-0x1+0x50e*0x9,-(0x12f9+-0x4*-0x2ab+-0x1da4))['map'](_0xec2e14=>_0xec2e14[0x172c+-0x850+-0x1*0xedb]);}}class JL{constructor(_0x26d40a){this['device']=_0x26d40a,_0x26d40a['gpuProfile'+'r']['enabled']=!(0x16*-0x12a+-0x15e8+0x2f84),this['enabled']=!(0x1*0x238a+-0xfb*0x4+-0xd5*0x26),this['unitsName']='ms',this['decimalPla'+'ces']=-0x1978+0x15d9+0x3a0,this['_timings']=[];}get['timings'](){return this['_timings'][0x3a1*-0x8+-0xb72+-0x2*-0x143d]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x22b518,_0x31a33c,_0x99ae5a,_0x2b0e8b,_0xe08514){this['app']=_0x22b518,this['values']=[],this['statNames']=_0x31a33c,this['statNames']['length']>-0x1d41+0x1*-0xd19+0x2a5d&&(this['statNames']['length']=-0x1d1f+0x151c+0x806),this['unitsName']=_0x2b0e8b,this['decimalPla'+'ces']=_0x99ae5a,this['multiplier']=_0xe08514||-0x1*0x1780+-0xaf*-0x20+0x1a1;const _0x82fbb=(_0x1c0a31,_0x2cf671)=>_0x1c0a31['split']('.')['reduce']((_0xfbefcc,_0x43558c)=>_0xfbefcc?_0xfbefcc[_0x43558c]:null,_0x2cf671||this);_0x22b518['on']('frameupdat'+'e',_0x2b5294=>{for(let _0x2396b1=0xfa*-0x19+0x231+0x1639;_0x2396b1<this['statNames']['length'];_0x2396b1++)this['values'][_0x2396b1]=_0x82fbb(this['statNames'][_0x2396b1],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x164065,_0x43234e,_0x536c76,_0x56ef53,_0x46321e){this['app']=_0x43234e,this['name']=_0x164065,this['device']=_0x43234e['graphicsDe'+'vice'],this['timer']=_0x46321e,this['watermark']=_0x536c76,this['enabled']=!(-0xd2*-0x2+0x11c0*-0x1+0x101d),this['textRefres'+'hRate']=_0x56ef53,this['avgTotal']=-0x1f2*0x13+0x20db+0x1*0x41b,this['avgTimer']=0x1b8f+-0x2*-0x7f4+0x3*-0xe7d,this['avgCount']=-0x1726+0x1d3+0x1553,this['timingText']='',this['texture']=null,this['yOffset']=0x6*0x32c+0x628*0x6+-0x37f8,this['cursor']=-0x167e+0x228b+-0xc0d,this['sample']=new Uint8ClampedArray(0x1*0x2e2+0xd06+0xfe4*-0x1),this['sample']['set']([0x1b7b+-0x4b8+-0x16c3,-0x258f*-0x1+-0x1efd+-0x692,-0x66*0x1e+0x113+0xae1,-0x1*-0x3d7+-0x1d0a+0x1a32]),this['counter']=0x108e+-0x165a+0x5cc,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x2530cc){const _0x4d4521=this['timer']['timings'],_0x244826=_0x4d4521['reduce']((_0x55361b,_0x51c53d)=>_0x55361b+_0x51c53d,-0x20*0xd7+-0x1*0xd01+0x27e1);if(this['avgTotal']+=_0x244826,this['avgTimer']+=_0x2530cc,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x150b+0x7*0x33f+0x1*-0x2bc4,this['avgTotal']=0x1bbf*-0x1+-0xcec+-0x1*-0x28ab,this['avgCount']=0xf56+0x5*0x449+-0x3*0xc41),this['enabled']){let _0x465461=-0x8b*0x35+-0x2b3*0x6+0x2cf9;const _0x5777fe=(0x27*0x9+-0x2414+0x22b6+0.5)*this['watermark'];for(let _0x4ee436=-0x5d2+-0x4*0x173+0x1*0xb9e;_0x4ee436<_0x4d4521['length'];++_0x4ee436)_0x465461+=Math['floor'](_0x4d4521[_0x4ee436]/_0x5777fe*(0x1d3c+-0x11f2*0x2+-0x3*-0x28d)),this['sample'][_0x4ee436]=_0x465461;this['sample'][-0x1c19*-0x1+0x109d*-0x1+-0x3*0x3d3]=this['watermark']/_0x5777fe*(-0xf*0x9f+-0x994+0x13e4),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x597+-0x164*0xd+0x2f*0x81)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x6a*0x5e+-0x5*-0x145+0x10d*0x1f);}}['render'](_0x44fac3,_0x51beac,_0xad7630,_0x26a8ea,_0x5dcefc){_0x44fac3['quad'](_0x51beac+_0x26a8ea,_0xad7630,-_0x26a8ea,_0x5dcefc,this['enabled']?this['cursor']:0xc0+-0x14f9+-0x1*-0x1439,this['enabled']?0x22f3*0x1+-0x183+-0x2170+0.5+this['yOffset']:this['texture']['height']-(0x1ecf+0x7b1+-0x267f),-_0x26a8ea,-0x322+-0x1779+-0x31*-0x8b,this['texture'],0x1*0x198e+0x1234+-0x2bc2);}}class tF{constructor(_0x40019c,_0x1e639c){const _0x3dd91c=_0x506f4a=>{_0x506f4a['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x506f4a['textAlign']='left',_0x506f4a['textBaseli'+'ne']='alphabetic';},_0x501a1c=_0x49daa4=>_0x49daa4==='.'||_0x49daa4['length']===0x297+-0xcef*-0x1+0xf85*-0x1&&_0x49daa4['charCodeAt'](0x263b*-0x1+0x113*-0x5+0x2b9a)>=-0xd1c*0x2+0x18b*-0x8+0x26c0&&_0x49daa4['charCodeAt'](0x1c12*0x1+-0x1*-0x460+-0x2*0x1039)<=-0x1a9e+-0x10e7+0x2bbe,_0x46ec64=document['createElem'+'ent']('canvas'),_0x261105=_0x46ec64['getContext']('2d',{'alpha':!(-0x1*-0x1054+0x1*-0xad2+-0x582)});_0x3dd91c(_0x261105);const _0x31db67=new Map(),_0x25d27d=0x8dd+0x68e+-0xf66,_0x51ae48=0x2a1+-0x139*-0x8+-0xa69;let _0x5bae35=_0x25d27d,_0x1f655e=_0x25d27d;_0x1e639c['forEach'](_0x392158=>{const _0x5a659a=_0x261105['measureTex'+'t'](_0x392158),_0xed808b=Math['ceil'](-_0x5a659a['actualBoun'+'dingBoxLef'+'t']),_0x269790=Math['ceil'](_0x5a659a['actualBoun'+'dingBoxRig'+'ht']),_0x5ebcec=Math['ceil'](_0x5a659a['actualBoun'+'dingBoxAsc'+'ent']),_0x2d9abf=Math['ceil'](_0x5a659a['actualBoun'+'dingBoxDes'+'cent']),_0x2479da=_0xed808b+_0x269790,_0x3765cc=_0x5ebcec+_0x2d9abf;_0x5bae35+_0x2479da+_0x25d27d>=_0x51ae48&&(_0x5bae35=_0x25d27d,_0x1f655e+=0x4*-0x2ce+-0x20*-0x1f+0x768),_0x31db67['set'](_0x392158,{'l':_0xed808b,'r':_0x269790,'a':_0x5ebcec,'d':_0x2d9abf,'w':_0x2479da,'h':_0x3765cc,'x':_0x5bae35,'y':_0x1f655e}),_0x5bae35+=_0x2479da+_0x25d27d;}),_0x46ec64['width']=-0x1272+0x1*0x1f6f+-0x61*0x1d,_0x46ec64['height']=N['nextPowerO'+'fTwo'](_0x1f655e+(-0x1*0x6b2+-0xc*0x3b+0x1*0x986)+_0x25d27d),_0x3dd91c(_0x261105),_0x261105['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x261105['fillRect'](0x4*-0xc1+0x787+0x37*-0x15,0x1f90+-0x145a+-0xb36,_0x46ec64['width'],_0x46ec64['height']),_0x31db67['forEach']((_0x7c62bb,_0x1869d0)=>{_0x261105['fillStyle']=_0x501a1c(_0x1869d0)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x261105['fillText'](_0x1869d0,_0x7c62bb['x']-_0x7c62bb['l'],_0x7c62bb['y']+_0x7c62bb['a']);}),this['placements']=_0x31db67;const _0x474e2d=_0x261105['getImageDa'+'ta'](-0x136d+-0x593+-0x28*-0xa0,-0x6f3*0x2+-0xa0a*-0x2+-0x62e,_0x46ec64['width'],_0x46ec64['height'])['data'];for(let _0x3471a3=-0x2f4+-0xd3*-0x17+0x1*-0x1001;_0x3471a3<_0x474e2d['length'];_0x3471a3+=-0x1*-0x20ab+-0xcb3*-0x3+-0x46c0*0x1)_0x474e2d[_0x3471a3+(-0x13*0x1b7+0x23a1+0x309*-0x1)]=_0x474e2d[_0x3471a3+(-0x1*0x11af+0x4ef*-0x1+0x169e)],_0x474e2d[_0x3471a3+(0xbd5*-0x1+-0x24b8+0x308d)]=-0x158*-0x17+0x22b2+-0x409b,_0x474e2d[_0x3471a3+(0x1*-0x1be5+0x1ad8+0x10e)]=0x1bed+0x5e*0x5e+-0x2cb*0x16,_0x474e2d[_0x3471a3+(-0x1*-0x23b6+-0x3d+0x7*-0x511)]=0xc1*-0xb+0x1a5d+-0x1113;this['texture']=new he(_0x40019c,{'name':'mini-stats'+'-word-atla'+'s','width':_0x46ec64['width'],'height':_0x46ec64['height'],'mipmaps':!(-0x1*0x10d6+-0x1ca*0xd+-0x5*-0x805),'minFilter':de,'magFilter':de,'levels':[_0x474e2d]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x5461c0,_0x2d209e,_0x28e637,_0x24f44c){const _0x2b209a=this['placements']['get'](_0x2d209e);return _0x2b209a?(_0x5461c0['quad'](_0x28e637+_0x2b209a['l']-(-0x836+-0x2*-0xcbb+-0x113f),_0x24f44c-_0x2b209a['d']+(0x2*0x1147+0x1*0x24f7+-0x4*0x11e1),_0x2b209a['w']+(-0x1*-0x3f9+-0x839+0x441)*(-0x127*0x3+0x2441*-0x1+0x27b8),_0x2b209a['h']+(-0x1*0x15f7+-0xa7*-0x2f+-0x59*0x19)*(-0x1e4*-0x6+-0x16d9+0xb83),_0x2b209a['x']-(-0x1*0x8cd+-0x10b*-0xe+-0xd4*0x7),this['texture']['height']-_0x2b209a['y']-_0x2b209a['h']-(-0x1c10+0x51a*-0x7+0x3fc7),void(-0x1240+-0x12cc+-0x4*-0x943),void(-0x25bf*-0x1+0x2411+-0x49d0),this['texture'],-0x7d*0x7+0x3*0xb23+0x355*-0x9),_0x2b209a['w']):0x1*0xa81+-0xa04+-0x7d;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x1c711a,_0x6213a3=-0x26b2+-0x11*0x217+0x4c39){const _0x5bf899=new Et(_0x1c711a,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x19429c=new Uint16Array(_0x6213a3*(0x1*-0x1de+0x32*-0x89+0x1ca6));for(let _0x4d99ef=-0x145d+-0x11c1+0x261e;_0x4d99ef<_0x6213a3;++_0x4d99ef)_0x19429c[_0x4d99ef*(0x5*0x723+-0xc27*-0x3+-0x481e)+(0x1d16+-0x7*-0x473+0x38b*-0x11)]=_0x4d99ef*(0x1a6+0x5*0x53c+-0xde7*0x2),_0x19429c[_0x4d99ef*(0x97*0x1+-0x1d58+0x1cc7)+(0x137f+0x1d*0x158+-0x3a76)]=_0x4d99ef*(-0x1cf3+-0x263d+0x4334)+(0x1c96+0x3c5*-0xa+0x91d),_0x19429c[_0x4d99ef*(0x3ce+-0x51*0x3b+-0x67*-0x25)+(-0x1*-0x4ff+0xae*0x36+0x1*-0x29b1)]=_0x4d99ef*(0x1*-0xb6f+0x116e+0x5fb*-0x1)+(-0xd54*0x2+-0x1c6c+0x1b8b*0x2),_0x19429c[_0x4d99ef*(0x14b1*0x1+-0x1f1e+0xa73)+(0x80b*0x3+-0xe79+-0x9a5*0x1)]=_0x4d99ef*(-0xe9*0x1d+-0x1ae4+0x354d),_0x19429c[_0x4d99ef*(0xd54+0x1873+0x1*-0x25c1)+(-0x2c0+0x2f5*-0x7+0x1777)]=_0x4d99ef*(0x1*0x20c7+0x343*-0xa+-0x25)+(-0x131*0x19+-0xe7c+-0x2c47*-0x1),_0x19429c[_0x4d99ef*(-0x1*-0x178f+-0x2*0x251+-0x12e7)+(0x153c+0xf48+-0x247f)]=_0x4d99ef*(-0x36f*0x5+-0x3d*-0x1+-0x12*-0xf1)+(-0x190e+0x22a+0x16e7);this['device']=_0x1c711a,this['buffer']=new os(_0x1c711a,_0x5bf899,_0x6213a3*(0xb38*0x2+0x1df5*-0x1+-0x3*-0x283),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(0xfe7+0x2*-0x2a7+-0xa95)),this['indexBuffe'+'r']=new lr(_0x1c711a,Pi,_0x6213a3*(0x11fb*0x2+-0x367*-0x4+-0x6*0x842),jt,_0x19429c),this['prim']={'type':Ms,'indexed':!(-0x176e+-0x1473+0xef*0x2f),'base':0x0,'count':0x0},this['quads']=0x515*0x5+-0x1*-0x3d7+-0x10*0x1d4,this['mesh']=new Ie(_0x1c711a),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0xa72+0x3a*0x76+-0x104a]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x5189b3=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x5189b3,_0x5189b3['cull']=mt,_0x5189b3['depthState']=as['NODEPTH'],_0x5189b3['blendState']=new _t(!(-0x1*0x1a0f+0xffc+0xa13),Lt,dc,uc,Lt,at,at),_0x5189b3['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x5189b3,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x2005*-0x1+-0x1630+0x3639)},this['targetSize']={'width':_0x1c711a['width'],'height':_0x1c711a['height']};}['quad'](_0x1ddee6,_0xd2dc17,_0x2253df,_0x3ac1d7,_0x47355b,_0x53c2fa,_0x5efbba,_0x4070b6,_0x331fe4,_0x322524=-0x23ff+0x3*0x903+0x2*0x47b){const _0x384adc=this['targetSize']['width'],_0x3e55a2=this['targetSize']['height'],_0x45eadc=_0x1ddee6/_0x384adc,_0x5e0f81=_0xd2dc17/_0x3e55a2,_0x4374a2=(_0x1ddee6+_0x2253df)/_0x384adc,_0x5d5e13=(_0xd2dc17+_0x3ac1d7)/_0x3e55a2,_0x433a5e=_0x331fe4['width'],_0xf6b399=_0x331fe4['height'],_0x3252e6=_0x47355b/_0x433a5e,_0x2ca403=_0x53c2fa/_0xf6b399,_0x51a606=(_0x47355b+(_0x5efbba??_0x2253df))/_0x433a5e,_0x1d11cd=(_0x53c2fa+(_0x4070b6??_0x3ac1d7))/_0xf6b399;this['data']['set']([_0x45eadc,_0x5e0f81,_0x322524,_0x3252e6,_0x2ca403,-0x264+0x351*0x3+-0x183*0x5,0x1275+0x1f*-0xbb+0x430,_0x4374a2,_0x5e0f81,_0x322524,_0x51a606,_0x2ca403,0x68c*-0x2+0x147+0xbd2,-0x1a36+0x6*-0x24e+0xfa*0x29,_0x4374a2,_0x5d5e13,_0x322524,_0x51a606,_0x1d11cd,-0x573+0x1200+0x323*-0x4,-0x61*-0x1+0x187c*-0x1+0x181c,_0x45eadc,_0x5d5e13,_0x322524,_0x3252e6,_0x1d11cd,0x1*-0x17e+-0x3b*-0x25+-0x709,-0x1ef7+0x105e+0xe9a],(0x4d1*-0x8+0x18f6+-0x2f*-0x4a)*(-0x21ce+0x1d1d+-0x4*-0x12e)*this['quads']),this['quads']++,this['prim']['count']+=0x1*-0xe3b+-0x9a9*0x3+0x2b3c;}['startFrame'](){this['quads']=-0x4e1*-0x8+0x1093*0x1+-0x379b,this['prim']['count']=0x1*-0x2145+-0x5d*0x6+0x2373,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x26924c,_0x330608,_0xf16c13,_0x59dcbc,_0x1e4e8a,_0x34aa60){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x1e4e8a,0xaad+-0x1e6a+0x13bd*0x1),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0xf16c13),this['material']['setParamet'+'er']('wordsTex',_0x59dcbc),_0x26924c['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x330608);}}class Wx{constructor(_0x51ef70,_0x506b19){const _0x4c5115=_0x51ef70['graphicsDe'+'vice'];_0x506b19=_0x506b19||Wx['getDefault'+'Options'](),this['initGraphs'](_0x51ef70,_0x4c5115,_0x506b19);const _0xa34ecd=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x31d5d9=>_0x31d5d9['name']))['concat'](_0x506b19['stats']?_0x506b19['stats']['map'](_0x5359d1=>_0x5359d1['unitsName']):[])['filter'](_0x460379=>!!_0x460379));this['wordAtlas']=new tF(_0x4c5115,_0xa34ecd),this['sizes']=_0x506b19['sizes'],this['_activeSiz'+'eIndex']=_0x506b19['startSizeI'+'ndex'];const _0xa9d39=document['createElem'+'ent']('div');_0xa9d39['setAttribu'+'te']('id','mini-stats'),_0xa9d39['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0xa9d39),_0xa9d39['addEventLi'+'stener']('mouseenter',_0x1fb360=>{this['opacity']=0x145a+-0x3d6+0x3*-0x581;}),_0xa9d39['addEventLi'+'stener']('mouseleave',_0xaaf73b=>{this['opacity']=0x2483+0x6f*0x41+-0x1a*0x27d+0.7;}),_0xa9d39['addEventLi'+'stener']('click',_0x363197=>{_0x363197['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x9*-0x1c5+-0xfe3+0x1fd1))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x4c5115['on']('resizecanv'+'as',this['updateDiv'],this),_0x4c5115['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x51ef70['on']('postrender',this['postRender'],this),this['app']=_0x51ef70,this['drawLayer']=_0x51ef70['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x4c5115,this['render2d']=new rF(_0x4c5115),this['div']=_0xa9d39,this['width']=0x1b1d*0x1+0x1*-0xf0b+-0xc12,this['height']=0x2*0xeaa+0x6e8+-0x243c,this['gspacing']=-0x171a+-0x2042+0x375e,this['clr']=[-0x1*-0x1657+-0x1878+-0x6*-0x5b,0x769*0x2+0x18f+-0x1060,-0x14f3+-0x5fe*0x1+0x1af2,0x76b+0x942+-0x10ad+0.5],this['_enabled']=!(-0x24e0+0x1692+0xe4e*0x1),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x1d90d0=>_0x1d90d0['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x1*0x2443+-0x9d1+0x1a71*-0x1)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x1a48+-0xb37*0x2+0x1ae*0x1d)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x86c+0x9f1+-0x125d)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x1*0x220a+0x20c6+0x144*0x1),'watermark':0x21},'gpu':{'enabled':!(-0x25ea+-0x26d2+0x4cbc),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x1f3303){this['_activeSiz'+'eIndex']=_0x1f3303,this['gspacing']=this['sizes'][_0x1f3303]['spacing'],this['resize'](this['sizes'][_0x1f3303]['width'],this['sizes'][_0x1f3303]['height'],this['sizes'][_0x1f3303]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x5e8334){this['clr'][0x2132+-0x2156+0x27]=_0x5e8334;}get['opacity'](){return this['clr'][0x1463*0x1+-0x408+-0x1058];}get['overallHei'+'ght'](){const _0x5f02fd=this['graphs'],_0x30c891=this['gspacing'];return this['height']*_0x5f02fd['length']+_0x30c891*(_0x5f02fd['length']-(-0x1db6*-0x1+0xee5*-0x1+-0xed0));}set['enabled'](_0x721ff9){if(_0x721ff9!==this['_enabled']){this['_enabled']=_0x721ff9;for(let _0x12ed34=0x272*0x2+0x1877+0xf*-0x1f5;_0x12ed34<this['graphs']['length'];++_0x12ed34)this['graphs'][_0x12ed34]['enabled']=_0x721ff9,this['graphs'][_0x12ed34]['timer']['enabled']=_0x721ff9;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x57769c,_0x1010a3,_0x3b863c){if(this['graphs']=[],_0x3b863c['cpu']['enabled']){const _0x3fae3e=new QL(_0x57769c),_0x2d2c3c=new au('CPU',_0x57769c,_0x3b863c['cpu']['watermark'],_0x3b863c['textRefres'+'hRate'],_0x3fae3e);this['graphs']['push'](_0x2d2c3c);}if(_0x3b863c['gpu']['enabled']){const _0x236378=new JL(_0x1010a3),_0x4b28c6=new au('GPU',_0x57769c,_0x3b863c['gpu']['watermark'],_0x3b863c['textRefres'+'hRate'],_0x236378);this['graphs']['push'](_0x4b28c6);}_0x3b863c['stats']&&_0x3b863c['stats']['forEach'](_0x225ad5=>{const _0x361d37=new eF(_0x57769c,_0x225ad5['stats'],_0x225ad5['decimalPla'+'ces'],_0x225ad5['unitsName'],_0x225ad5['multiplier']),_0x5ca221=new au(_0x225ad5['name'],_0x57769c,_0x225ad5['watermark'],_0x3b863c['textRefres'+'hRate'],_0x361d37);this['graphs']['push'](_0x5ca221);});const _0x403480=_0x3b863c['sizes']['reduce']((_0x1b1f31,_0x5b7350)=>_0x5b7350['width']>_0x1b1f31?_0x5b7350['width']:_0x1b1f31,-0xb*-0x15b+-0xf0d+0x24);this['texture']=new he(_0x1010a3,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x403480),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x38b*-0x1+-0x19a9+-0x1d35*-0x1),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x4f5fc0,_0x1e5108)=>{_0x4f5fc0['texture']=this['texture'],_0x4f5fc0['yOffset']=_0x1e5108;});}['render'](){const _0x5a29f5=this['graphs'],_0x40509a=this['wordAtlas'],_0xc0341=this['render2d'],_0x52d648=this['width'],_0x5b1084=this['height'],_0x25a1d5=this['gspacing'];_0xc0341['startFrame']();for(let _0x56870=-0x1b6+0x1*0x143c+0x2*-0x943;_0x56870<_0x5a29f5['length'];++_0x56870){const _0x31f9cb=_0x5a29f5[_0x56870];let _0x398ed3=_0x56870*(_0x5b1084+_0x25a1d5);_0x31f9cb['render'](_0xc0341,0x2223+0x547+0x7e2*-0x5,_0x398ed3,_0x52d648,_0x5b1084);let _0x38027d=-0x399*-0x3+0x2431+-0x2efb;_0x398ed3+=_0x5b1084-(-0x25bd+0x4*0x84a+0x4a2),_0x38027d+=_0x40509a['render'](_0xc0341,_0x31f9cb['name'],_0x38027d,_0x398ed3)+(-0x13*0x1f6+-0x1de5*0x1+-0x1*-0x4331);const _0x460047=_0x31f9cb['timingText'];for(let _0x2b3610=0x232d+0x248d+-0x47ba;_0x2b3610<_0x460047['length'];++_0x2b3610)_0x38027d+=_0x40509a['render'](_0xc0341,_0x460047[_0x2b3610],_0x38027d,_0x398ed3);_0x31f9cb['timer']['unitsName']&&(_0x38027d+=0x1*0x1ab1+0x3*-0x789+-0x413,_0x40509a['render'](_0xc0341,_0x31f9cb['timer']['unitsName'],_0x38027d,_0x398ed3));}_0xc0341['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x5b1084);}['resize'](_0xbd6ed6,_0x4d2cae,_0x489145){const _0x7235ec=this['graphs'];for(let _0x598e0f=0x72b*-0x1+0xe1b+-0x6*0x128;_0x598e0f<_0x7235ec['length'];++_0x598e0f)_0x7235ec[_0x598e0f]['enabled']=_0x489145;this['width']=_0xbd6ed6,this['height']=_0x4d2cae,this['updateDiv']();}['updateDiv'](){const _0x5ec646=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x5ec646['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x5ec646['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x37600f=>_0x37600f['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation\x20===>'+'>>xr');return;}this['app']['xr']['input']['on']('add',async _0x5938a0=>{var _0x53cfaa;if(!((_0x53cfaa=_0x5938a0['profiles'])!=null&&_0x53cfaa['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x58c86c=_0x5938a0['profiles']['map'](async _0x3a2266=>{var _0x497526;const _0x20993d=this['basePath']+'/'+_0x3a2266+('/profile.j'+'son');try{const _0x5c8c05=await fetch(_0x20993d);if(!_0x5c8c05['ok'])return null;const _0x490ce8=await _0x5c8c05['json'](),_0x16daf1=((_0x497526=_0x490ce8['layouts'][_0x5938a0['handedness']])==null?void(0x1*0x2597+0x4*-0x502+-0x1*0x118f):_0x497526['assetPath'])||'',_0x5b5bdf=this['basePath']+'/'+_0x490ce8['profileId']+'/'+_0x5938a0['handedness']+_0x16daf1['replace'](/^\/?(left|right)/,''),_0x50f7b0=await new Promise((_0x2230b0,_0xf3bfa1)=>{this['app']['assets']['loadFromUr'+'l'](_0x5b5bdf,'container',(_0xb8444a,_0x226c5a)=>{_0xb8444a?_0xf3bfa1(_0xb8444a):_0x2230b0(_0x226c5a);});});return{'profileId':_0x3a2266,'asset':_0x50f7b0};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x3a2266),null;}}),_0x52b91e=(await Promise['all'](_0x58c86c))['find'](_0xb44dd4=>_0xb44dd4!==null);if(_0x52b91e){const {asset:_0x5ac836}=_0x52b91e,_0x28d973=_0x5ac836['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x28d973);const _0x194b11=new Map();if(_0x5938a0['hand'])for(const _0x3a8cba of _0x5938a0['hand']['joints']){const _0x10af75=_0x28d973['findByName'](_0x3a8cba['id']);_0x10af75&&_0x194b11['set'](_0x3a8cba,_0x10af75);}this['controller'+'s']['set'](_0x5938a0,{'entity':_0x28d973,'jointMap':_0x194b11});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x4b592e=>{const _0xe09612=this['controller'+'s']['get'](_0x4b592e);_0xe09612&&(_0xe09612['entity']['destroy'](),this['controller'+'s']['delete'](_0x4b592e));});}['update'](_0x305bd5){var _0x47a8f3;if((_0x47a8f3=this['app']['xr'])!=null&&_0x47a8f3['active']){for(const [_0x8638d5,{entity:_0x540065,jointMap:_0x351365}]of this['controller'+'s'])if(_0x8638d5['hand']){for(const [_0x3c7f6e,_0x3a0992]of _0x351365)_0x3a0992['setPositio'+'n'](_0x3c7f6e['getPositio'+'n']()),_0x3a0992['setRotatio'+'n'](_0x3c7f6e['getRotatio'+'n']());}else _0x540065['setPositio'+'n'](_0x8638d5['getPositio'+'n']()),_0x540065['setRotatio'+'n'](_0x8638d5['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,We as E,$1 as F,hh as G,ex as H,Wx as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,W as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,Wr as t,Ts as u,cs as v,SI as w,$n as x,M0 as y,q as z};function _0x4f6c7c(_0x460430){function _0xd42721(_0xb77d51){if(typeof _0xb77d51==='string')return function(_0x477986){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0xb77d51/_0xb77d51)['length']!==-0x68a+0xaef+0x232*-0x2||_0xb77d51%(-0x25*0xe1+0x1b60+-0xbf*-0x7)===-0x3d7*-0x4+-0x2*-0x186+-0x13*0xf8?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0xd42721(++_0xb77d51);}try{if(_0x460430)return _0xd42721;else _0xd42721(-0xb95+-0x153c*0x1+-0x1f*-0x10f);}catch(_0x2b26d0){}}
