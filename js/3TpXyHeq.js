const _0x54e0d0=(function(){let _0x1f1bbd=!![];return function(_0x1ebebd,_0x5786e1){const _0x1d72b7=_0x1f1bbd?function(){if(_0x5786e1){const _0x473c7e=_0x5786e1['apply'](_0x1ebebd,arguments);return _0x5786e1=null,_0x473c7e;}}:function(){};return _0x1f1bbd=![],_0x1d72b7;};}()),_0x59a377=_0x54e0d0(this,function(){return _0x59a377['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x59a377)['search']('(((.+)+)+)'+'+$');});_0x59a377();const _0x38bcff=(function(){let _0x2def05=!![];return function(_0x54445e,_0x432bd0){const _0x2faa99=_0x2def05?function(){if(_0x432bd0){const _0x5a42bd=_0x432bd0['apply'](_0x54445e,arguments);return _0x432bd0=null,_0x5a42bd;}}:function(){};return _0x2def05=![],_0x2faa99;};}());(function(){_0x38bcff(this,function(){const _0x159061=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x58a859=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x46b6a4=_0xcbdac2('init');!_0x159061['test'](_0x46b6a4+'chain')||!_0x58a859['test'](_0x46b6a4+'input')?_0x46b6a4('0'):_0xcbdac2();})();}());const _0x34be80=(function(){let _0x4f81b1=!![];return function(_0x4808ea,_0xf53d00){const _0x5b939b=_0x4f81b1?function(){if(_0xf53d00){const _0x3fcbc5=_0xf53d00['apply'](_0x4808ea,arguments);return _0xf53d00=null,_0x3fcbc5;}}:function(){};return _0x4f81b1=![],_0x5b939b;};}()),_0x5baab9=_0x34be80(this,function(){const _0xcfe7e0=function(){let _0x1fa8ab;try{_0x1fa8ab=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0xb5f212){_0x1fa8ab=window;}return _0x1fa8ab;},_0x3f2d7f=_0xcfe7e0(),_0x3de200=_0x3f2d7f['console']=_0x3f2d7f['console']||{},_0xcc12b5=['log','warn','info','error','exception','table','trace'];for(let _0x4f2eb3=-0x3e6*-0x1+-0xdfd+0xa17;_0x4f2eb3<_0xcc12b5['length'];_0x4f2eb3++){const _0x2faadd=_0x34be80['constructo'+'r']['prototype']['bind'](_0x34be80),_0xe75d7c=_0xcc12b5[_0x4f2eb3],_0x1aa4da=_0x3de200[_0xe75d7c]||_0x2faadd;_0x2faadd['__proto__']=_0x34be80['bind'](_0x34be80),_0x2faadd['toString']=_0x1aa4da['toString']['bind'](_0x1aa4da),_0x3de200[_0xe75d7c]=_0x2faadd;}});_0x5baab9();var qx=Object['defineProp'+'erty'],Xx=(_0x14b1e8,_0x2a44c7,_0x3d118d)=>_0x2a44c7 in _0x14b1e8?qx(_0x14b1e8,_0x2a44c7,{'enumerable':!(-0x3*0x257+-0x2*-0x12da+0x1eaf*-0x1),'configurable':!(-0x44*0x5d+0x23b7+0xb03*-0x1),'writable':!(0x4cf*-0x3+-0x1*0x1c43+0x2ab0),'value':_0x3d118d}):_0x14b1e8[_0x2a44c7]=_0x3d118d,c=(_0x3e68d6,_0x1fd70b,_0x3cd1a9)=>Xx(_0x3e68d6,typeof _0x1fd70b!='symbol'?_0x1fd70b+'':_0x1fd70b,_0x3cd1a9);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x46c7fe,_0x1ab25e){for(const _0x434784 in _0x1ab25e){const _0x4166db=_0x1ab25e[_0x434784];Array['isArray'](_0x4166db)?_0x46c7fe[_0x434784]=vh([],_0x4166db):_0x4166db&&typeof _0x4166db=='object'?_0x46c7fe[_0x434784]=vh({},_0x4166db):_0x46c7fe[_0x434784]=_0x4166db;}return _0x46c7fe;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x10a511=>{const _0x1fdfa4=Math['random']()*(-0x74*0x53+0x1b6b+0xa41)|-0x10*0x25c+0x6a4+0x1f1c;return(_0x10a511==='x'?_0x1fdfa4:_0x1fdfa4&-0x12cc+0x1*0x1319+-0x4a|0x1*-0x121f+0x2*-0x1005+0x3231)['toString'](0x246*-0x9+0x5*0x228+-0x3a*-0x2b);});}},fe={'delimiter':'/','join'(..._0x17b232){let _0x5ea372=_0x17b232[-0x6c+-0x1445*-0x1+0x13d9*-0x1];for(let _0xdbce6e=-0x7*0xd3+0xe59*0x2+-0x1*0x16ed;_0xdbce6e<_0x17b232['length']-(0x10a*-0x1c+-0x676+0x238f);_0xdbce6e++){const _0x418b08=_0x17b232[_0xdbce6e],_0x3ef827=_0x17b232[_0xdbce6e+(-0x1aad*-0x1+-0xb2*0x2d+0xc5*0x6)];if(_0x3ef827[-0x44d*0x3+0x5*-0x47d+0x2b8*0xd]===fe['delimiter']){_0x5ea372=_0x3ef827;continue;}_0x418b08&&_0x3ef827&&_0x418b08[_0x418b08['length']-(0x23b9+-0x70e+-0xe55*0x2)]!==fe['delimiter']&&_0x3ef827[0x1*-0x2164+-0x93a+0x2a9e]!==fe['delimiter']?_0x5ea372+=fe['delimiter']+_0x3ef827:_0x5ea372+=_0x3ef827;}return _0x5ea372;},'normalize'(_0x385f04){const _0x4479d9=_0x385f04['startsWith'](fe['delimiter']),_0x1d3b8a=_0x385f04['endsWith'](fe['delimiter']),_0x3867cc=_0x385f04['split']('/');let _0x44a53e='',_0x5750ad=[];for(let _0x6ee8b3=-0x241a+0x3ec*0x6+0xc92;_0x6ee8b3<_0x3867cc['length'];_0x6ee8b3++)if(_0x3867cc[_0x6ee8b3]!==''&&_0x3867cc[_0x6ee8b3]!=='.'){if(_0x3867cc[_0x6ee8b3]==='..'&&_0x5750ad['length']>-0x46+0x80f*-0x1+0x855*0x1){_0x5750ad=_0x5750ad['slice'](0x49*0x5+0xbf3+-0xd60,_0x5750ad['length']-(-0xabc+0x1*-0x1f58+-0x150b*-0x2));continue;}_0x6ee8b3>0x129d*-0x1+-0xa55+0x1cf2&&_0x5750ad['push'](fe['delimiter']),_0x5750ad['push'](_0x3867cc[_0x6ee8b3]);}return _0x44a53e=_0x5750ad['join'](''),!_0x4479d9&&_0x44a53e[-0x16bf+-0x13f1+0x2ab0]===fe['delimiter']&&(_0x44a53e=_0x44a53e['slice'](0x1107*-0x1+-0x15f+0x1267)),_0x1d3b8a&&_0x44a53e[_0x44a53e['length']-(0x62a+0x1d*0x55+-0x1*0xfca)]!==fe['delimiter']&&(_0x44a53e+=fe['delimiter']),_0x44a53e;},'split'(_0x5a78a2){const _0x50da0a=_0x5a78a2['lastIndexO'+'f'](fe['delimiter']);return _0x50da0a!==-(0x1*0x16af+-0x180b+0x15d)?[_0x5a78a2['substring'](-0x38a*-0x1+0x6*0xa3+-0x75c,_0x50da0a),_0x5a78a2['substring'](_0x50da0a+(-0x958+0x6e7+0x272))]:['',_0x5a78a2];},'getBasename'(_0x5c79d3){return fe['split'](_0x5c79d3)[0x499+-0xad5*0x2+0x36a*0x5];},'getDirectory'(_0x4d4abf){return fe['split'](_0x4d4abf)[0x15a0+-0xa*-0x1a6+-0x261c];},'getExtension'(_0x2753ba){const _0x3c54a9=_0x2753ba['split']('?')[0xf4d*-0x2+-0x1c1*0xb+0x31e5]['split']('.')['pop']();return _0x3c54a9!==_0x2753ba?'.'+_0x3c54a9:'';},'isRelativePath'(_0x290e09){return _0x290e09['charAt'](0x1f21*-0x1+0xc*0x2a9+-0xcb)!=='/'&&_0x290e09['match'](/:\/\//)===null;},'extractPath'(_0x57e098){let _0x2a2151='';const _0x4a8a06=_0x57e098['split']('/');let _0x47e692=0x241*-0x10+-0x525+0x2935;if(_0x4a8a06['length']>-0xca*0x28+0x48*-0x6d+0x3e39){if(fe['isRelative'+'Path'](_0x57e098)){if(_0x4a8a06[0xd18+-0x83*0x4c+0x19cc*0x1]==='.'){for(_0x47e692=-0x1d45+-0x551+0x2296;_0x47e692<_0x4a8a06['length']-(0x79*-0x49+0x1a3e*-0x1+0x3cc0);++_0x47e692)_0x2a2151+=_0x47e692===0x403*-0x2+-0x1*0x2599+0x33*0xe5?_0x4a8a06[_0x47e692]:'/'+_0x4a8a06[_0x47e692];}else{if(_0x4a8a06[0x2535+-0x19e0+-0x1*0xb55]==='..'){for(_0x47e692=0x1a27+-0x2630+0xd*0xed;_0x47e692<_0x4a8a06['length']-(0x1486+0x7cd*0x5+-0x3b86);++_0x47e692)_0x2a2151+=_0x47e692===-0x1973+0x1*-0xa2e+-0x517*-0x7?_0x4a8a06[_0x47e692]:'/'+_0x4a8a06[_0x47e692];}else{for(_0x2a2151='.',_0x47e692=-0x42+-0x1d5+0x217;_0x47e692<_0x4a8a06['length']-(-0x1f8+0x1920+-0x1727*0x1);++_0x47e692)_0x2a2151+='/'+_0x4a8a06[_0x47e692];}}}else{for(_0x47e692=-0x2567+-0x45*-0x61+-0x83*-0x16;_0x47e692<_0x4a8a06['length']-(-0xb49+0x265c*0x1+0x483*-0x6);++_0x47e692)_0x2a2151+=_0x47e692===-0x23a1+0xc89*0x2+-0x3*-0x385?_0x4a8a06[_0x47e692]:'/'+_0x4a8a06[_0x47e692];}}return _0x2a2151;}},iS=()=>{let _0x1cd213=!(0x10*0x247+0x647+-0x2ab6);try{const _0x3a5b84=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x1cd213=!(-0x1*-0xae5+0x1*-0x21e2+-0xb*-0x217),!(-0x101*0x3+0x1*0x6a7+-0x3a3*0x1);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x3a5b84),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x3a5b84);}catch{}return _0x1cd213;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x1*0x2a1+-0x261a+0x28bb),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=0x47ed*-0x5+0x2228+-0x21d79*-0x1,ny=0xcf0a+0x3383+0x46*-0x8d,Jp=-0x276b*-0x2+-0x35b3*-0x4+-0x49a2,lS=-0xc290+0x994a*-0x1+0x23bd9,hS=-0x2a5*-0x1+-0x190c+0x334*0x11,em=0x1*0x2551+-0x7d45*-0x1+0x14f50,tm=0x71e*-0x34+-0x1e6d0+0x54ae7,cS=0x3*0x74f+0x3337c+-0x3a*0x5e3,dS=-0xc661+-0x62a7+0x31d07,uS=-0x2561+0x160d+-0x13c*-0x27,fS=-0xd23+-0xc6d*0x5+0x6c43,lu=-0x14*-0x10df+-0x1e0df+-0x1*-0x18d73,hu=-0x15b13+0x9062*-0x1+-0x1*-0x2e984;function cu(_0x1eddc5,_0x568395=-0x4ca*0x8+0x1aee+0xb62){const _0x25a615=_0x1eddc5['length'];if(_0x568395<-0x2d*-0x27+0x1e5a+-0x2535||_0x568395>=_0x25a615)return null;const _0x5af89d=_0x1eddc5['charCodeAt'](_0x568395);if(_0x25a615>0xd9b*-0x1+-0x3*-0x59f+-0x341&&_0x5af89d>=ou&&_0x5af89d<=ny){const _0x309bd2=_0x1eddc5['charCodeAt'](_0x568395+(0x8eb*0x1+0x10f*0x7+-0x3*0x571));if(_0x309bd2>=Jp&&_0x309bd2<=lS)return{'code':(_0x5af89d-ou)*(0x1faf+0xb*-0xfb+-0x10e6)+_0x309bd2-Jp+(-0x1891a*-0x1+0xb*-0x365+-0x63c3),'long':!(0x86c+0x1*-0x43f+-0x42d)};}return{'code':_0x5af89d,'long':!(-0xba2+-0x9cb*-0x1+-0x8*-0x3b)};}function Xi(_0x401014,_0x271797,_0x8f1c17){if(!_0x401014)return!(0x16f4+-0x23b0*0x1+0x43f*0x3);const _0x519c04=cu(_0x401014);if(_0x519c04){const _0xd76a86=_0x519c04['code'];return _0xd76a86>=_0x271797&&_0xd76a86<=_0x8f1c17;}return!(0x1156+0x1*-0x1f62+0xe0d);}function pS(_0xa91b7e,_0x5892db){if(_0x5892db===_0xa91b7e['length']-(0xb*-0xc7+-0x1*-0x46d+-0x7*-0x97))return 0x25*-0x87+0x16ac+0x1*-0x328;if(Xi(_0xa91b7e[_0x5892db],ou,ny)){const _0x4f36cc=_0xa91b7e['substring'](_0x5892db,_0x5892db+(-0x13f3*-0x1+0x1598+-0x2989)),_0x2fd959=_0xa91b7e['substring'](_0x5892db+(-0xaf*0x6+-0x13*-0x121+0x1*-0x1157),_0x5892db+(-0x4*0x630+0xe0c+-0x1*-0xab8));return Xi(_0x2fd959,cS,dS)||Xi(_0x4f36cc,em,tm)&&Xi(_0x2fd959,em,tm)?-0x13b+0x1ad8+-0x1999*0x1:Xi(_0x2fd959,lu,hu)?-0x254*-0x10+0x1ceb+-0x4228:-0x70+0x20+0x52;}return Xi(_0xa91b7e[_0x5892db+(0x55*0x4+-0x3b*-0x3d+0xf62*-0x1)],lu,hu)?0x1*0x2145+0x1fb6+-0x40f9:0x793+0x636+-0x38*0x3f;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x1908ea,..._0x4ea823){for(let _0x5f464d=-0x1*-0x1567+-0x163+0x2a*-0x7a;_0x5f464d<_0x4ea823['length'];_0x5f464d++)_0x1908ea=_0x1908ea['replace']('{'+_0x5f464d+'}',_0x4ea823[_0x5f464d]);return _0x1908ea;},'getCodePoint'(_0x546363,_0x5981f4){const _0x175af4=cu(_0x546363,_0x5981f4);return _0x175af4&&_0x175af4['code'];},'getCodePoints'(_0x2fe032){if(typeof _0x2fe032!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x14c964=-0x209b*-0x1+-0x26f9*-0x1+-0x24*0x1fd;const _0x4e62ef=[];let _0x277e5b;for(;_0x277e5b=cu(_0x2fe032,_0x14c964);)_0x4e62ef['push'](_0x277e5b['code']),_0x14c964+=_0x277e5b['long']?-0xa36+-0x22d*-0x1+0x80b*0x1:0x49*0x81+-0x32*-0xc4+-0x4b10;return _0x4e62ef;},'getSymbols'(_0x22dd49){if(typeof _0x22dd49!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x5201fa=-0x1164+-0x915*-0x3+-0x9db;const _0x318c73=_0x22dd49['length'],_0x12aa21=[];let _0x5cd79c=0x93*-0x3+-0x25e3+0x279c,_0x243e99;for(;_0x5201fa<_0x318c73;){if(_0x5cd79c+=pS(_0x22dd49,_0x5201fa+_0x5cd79c),_0x243e99=_0x22dd49[_0x5201fa+_0x5cd79c],Xi(_0x243e99,uS,fS)&&(_0x243e99=_0x22dd49[_0x5201fa+_0x5cd79c++]),Xi(_0x243e99,lu,hu)&&(_0x243e99=_0x22dd49[_0x5201fa+_0x5cd79c++]),_0x243e99&&_0x243e99['charCodeAt'](0xe*0x214+0x12f8+-0x8*0x602)===hS){_0x243e99=_0x22dd49[_0x5201fa+_0x5cd79c++];continue;}const _0x18cb6d=_0x22dd49['substring'](_0x5201fa,_0x5201fa+_0x5cd79c);_0x12aa21['push'](_0x18cb6d),_0x5201fa+=_0x5cd79c,_0x5cd79c=-0x45*0x65+-0x269*-0xb+0xb6;}return _0x12aa21;},'fromCodePoint'(){const _0xbbf183=[];let _0x18fa73,_0x3af961,_0x4acf8d;for(let _0x1ca749=0x2286+0x7f*0x1b+0x105*-0x2f;_0x1ca749<arguments['length'];++_0x1ca749)_0x18fa73=Number(arguments[_0x1ca749]),_0x3af961=_0x18fa73-(-0x58f*-0x49+0x43b8+-0x1*0xd97f),_0x4acf8d=_0x18fa73>-0x1*-0x464f+-0x4d02+-0x2*-0x8359?[(_0x3af961>>-0x30*-0xc9+-0x300*0x1+-0x22a6)+(-0x5f*-0x3d+0x44f*-0x9+-0x14c*-0xb3),_0x3af961%(0x1d*0xb5+-0x1e31+-0x6*-0x248)+(0x19885+-0x37d*0x47+0x71*0x86)]:[_0x18fa73],_0xbbf183['push'](String['fromCharCo'+'de']['apply'](null,_0x4acf8d));return _0xbbf183['join']('');}},zr=class zr{static['set'](_0x223c62,_0x49739b=!(-0x1*-0x2+0x1414+-0x6b2*0x3)){_0x49739b?zr['_traceChan'+'nels']['add'](_0x223c62):zr['_traceChan'+'nels']['delete'](_0x223c62);}static['get'](_0x950bc){return zr['_traceChan'+'nels']['has'](_0x950bc);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(-0x1*-0x971+-0xa6d+0xfd));let Xs=zr;const bt=class bt{static['deprecated'](_0x47e758){bt['_loggedMes'+'sages']['has'](_0x47e758)||(bt['_loggedMes'+'sages']['add'](_0x47e758),console['warn']('DEPRECATED'+':\x20'+_0x47e758));}static['removed'](_0x447399){bt['_loggedMes'+'sages']['has'](_0x447399)||(bt['_loggedMes'+'sages']['add'](_0x447399),console['error']('REMOVED:\x20'+_0x447399));}static['assertDepr'+'ecated'](_0x21c353,_0x189c51){_0x21c353||bt['deprecated'](_0x189c51);}static['assert'](_0x2ffe57,..._0x21eaf1){_0x2ffe57||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x21eaf1);}static['assertDest'+'royed'](_0x42ffac){var _0x5755a3;if(_0x42ffac!=null&&_0x42ffac['__alreadyD'+'estroyed']){const _0xbe8bd5='['+((_0x5755a3=_0x42ffac['constructo'+'r'])==null?void(0x732+0x1*0x251+-0x5*0x1e7):_0x5755a3['name'])+(']\x20with\x20nam'+'e\x20[')+_0x42ffac['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0xbe8bd5)||(bt['_loggedMes'+'sages']['add'](_0xbe8bd5),console['error']('ASSERT\x20FAI'+'LED:\x20',_0xbe8bd5,_0x42ffac));}}static['call'](_0x282e6f){_0x282e6f();}static['log'](..._0x18b775){console['log'](..._0x18b775);}static['logOnce'](_0x4220e2,..._0x158fcf){bt['_loggedMes'+'sages']['has'](_0x4220e2)||(bt['_loggedMes'+'sages']['add'](_0x4220e2),console['log'](_0x4220e2,..._0x158fcf));}static['warn'](..._0xb97785){console['warn'](..._0xb97785);}static['warnOnce'](_0x4ae4e6,..._0x13c2aa){bt['_loggedMes'+'sages']['has'](_0x4ae4e6)||(bt['_loggedMes'+'sages']['add'](_0x4ae4e6),console['warn'](_0x4ae4e6,..._0x13c2aa));}static['error'](..._0x271406){console['error'](..._0x271406);}static['errorOnce'](_0x43179e,..._0x1344bd){bt['_loggedMes'+'sages']['has'](_0x43179e)||(bt['_loggedMes'+'sages']['add'](_0x43179e),console['error'](_0x43179e,..._0x1344bd));}static['trace'](_0x382af9,..._0x26a8be){Xs['get'](_0x382af9)&&(console['groupColla'+'psed'](_0x382af9['padEnd'](0x4*-0x329+0x1613+-0x95b,'\x20')+'|',..._0x26a8be),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x4614eb,_0x5e9fdf){_0x4614eb&&(_0x4614eb['name']=_0x5e9fdf);}static['setLabel'](_0x3b42b7,_0xc47154){_0x3b42b7&&(_0x3b42b7['label']=_0xc47154);}static['setDestroy'+'ed'](_0x540db4){_0x540db4&&(_0x540db4['__alreadyD'+'estroyed']=!(0xe34*0x1+0xdcd*-0x2+0xd66));}}class mS{constructor(_0x21ee58,_0x5721f7,_0x5915fe,_0x2cd8b4,_0x2acc60=!(0x9a1+-0x1996+-0xe3*-0x12)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0xa82+0xb3e+-0x15bf)),(this['handler']=_0x21ee58,this['name']=_0x5721f7,this['callback']=_0x5915fe,this['scope']=_0x2cd8b4,this['_once']=_0x2acc60);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x1e4012,_0x4fbf69,_0x324225=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x1e4012,_0x4fbf69,_0x324225,!(0x1f79+0x1*0x2242+-0x41ba));}['once'](_0xf79767,_0x4ed9b2,_0x5084aa=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0xf79767,_0x4ed9b2,_0x5084aa,!(0x1b23+0xab5*0x1+-0x2b4*0xe));}set['removed'](_0x9b51f){_0x9b51f&&(this['_removed']=!(0x1*0x1ac4+-0x3*0xbd9+0x141*0x7));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x3b3d8f,_0x33c8ca,_0x1a1d0d,_0x49bae4){if((!_0x3b3d8f||typeof _0x3b3d8f!='string'||!_0x33c8ca)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x3b3d8f+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x33c8ca),this['_callbacks']['has'](_0x3b3d8f)||this['_callbacks']['set'](_0x3b3d8f,[]),this['_callbackA'+'ctive']['has'](_0x3b3d8f)){const _0x4b3fd4=this['_callbackA'+'ctive']['get'](_0x3b3d8f);_0x4b3fd4&&_0x4b3fd4===this['_callbacks']['get'](_0x3b3d8f)&&this['_callbackA'+'ctive']['set'](_0x3b3d8f,_0x4b3fd4['slice']());}const _0x4c2fe6=new mS(this,_0x3b3d8f,_0x33c8ca,_0x1a1d0d,_0x49bae4);return this['_callbacks']['get'](_0x3b3d8f)['push'](_0x4c2fe6),_0x4c2fe6;}['on'](_0x535f27,_0x3bdbe8,_0x4e405a=this){return this['_addCallba'+'ck'](_0x535f27,_0x3bdbe8,_0x4e405a,!(0x1aa2+-0x199*-0x16+-0x3dc7));}['once'](_0x337b93,_0x52acfd,_0x592d70=this){return this['_addCallba'+'ck'](_0x337b93,_0x52acfd,_0x592d70,!(0x140a+-0x1a38+0x62e));}['off'](_0x54276e,_0x104d57,_0x390663){if(_0x54276e)this['_callbackA'+'ctive']['has'](_0x54276e)&&this['_callbackA'+'ctive']['get'](_0x54276e)===this['_callbacks']['get'](_0x54276e)&&this['_callbackA'+'ctive']['set'](_0x54276e,this['_callbackA'+'ctive']['get'](_0x54276e)['slice']());else{for(const [_0x48c155,_0x58ef8b]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x48c155)&&this['_callbacks']['get'](_0x48c155)===_0x58ef8b&&this['_callbackA'+'ctive']['set'](_0x48c155,_0x58ef8b['slice']());}if(_0x54276e){if(_0x104d57){const _0x5dc9a4=this['_callbacks']['get'](_0x54276e);if(!_0x5dc9a4)return this;for(let _0x26c06d=0x1*-0x8ab+-0x8*-0x3ac+-0x14b5;_0x26c06d<_0x5dc9a4['length'];_0x26c06d++)_0x5dc9a4[_0x26c06d]['callback']===_0x104d57&&(_0x390663&&_0x5dc9a4[_0x26c06d]['scope']!==_0x390663||(_0x5dc9a4[_0x26c06d]['removed']=!(0x203c+-0x3*-0x88b+-0x39dd),_0x5dc9a4['splice'](_0x26c06d,0x61f+0xa44*-0x2+0xe6a),_0x26c06d--));_0x5dc9a4['length']===-0x149+0x21*0xe7+-0x1c7e*0x1&&this['_callbacks']['delete'](_0x54276e);}else{const _0x186c31=this['_callbacks']['get'](_0x54276e);if(_0x186c31){for(let _0xc2c256=-0x2*-0x118d+0x137*-0x1f+0x28f;_0xc2c256<_0x186c31['length'];_0xc2c256++)_0x186c31[_0xc2c256]['removed']=!(0x53f*-0x2+0x1*-0x2477+0x2ef5);this['_callbacks']['delete'](_0x54276e);}}}else{for(const _0x1f93a8 of this['_callbacks']['values']())for(let _0x23165c=0x1b8+-0x168d+-0x1*-0x14d5;_0x23165c<_0x1f93a8['length'];_0x23165c++)_0x1f93a8[_0x23165c]['removed']=!(-0x11c1+0x362*0x5+0xd7);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0xe17745){const _0x5be5ad=_0xe17745['name'];_0xe17745['removed']=!(0x2*-0x1181+0x19e3+-0x5*-0x1d3),this['_callbackA'+'ctive']['has'](_0x5be5ad)&&this['_callbackA'+'ctive']['get'](_0x5be5ad)===this['_callbacks']['get'](_0x5be5ad)&&this['_callbackA'+'ctive']['set'](_0x5be5ad,this['_callbackA'+'ctive']['get'](_0x5be5ad)['slice']());const _0x31264d=this['_callbacks']['get'](_0x5be5ad);if(!_0x31264d)return this;const _0x150757=_0x31264d['indexOf'](_0xe17745);return _0x150757!==-(-0x1*-0x824+0x1f*-0x12b+-0xe09*-0x2)&&(_0x31264d['splice'](_0x150757,0x1fe1*-0x1+-0x1257*-0x1+0xd8b),_0x31264d['length']===0x20d0+0x3ee*0x1+-0x24be&&this['_callbacks']['delete'](_0x5be5ad)),this;}['fire'](_0x318b6d,_0x193e06,_0x590dd5,_0x211e09,_0x40dac8,_0x51d022,_0x56358c,_0x56a44c,_0x419b0d){if(!_0x318b6d)return this;const _0x27215b=this['_callbacks']['get'](_0x318b6d);if(!_0x27215b)return this;let _0x402b02;this['_callbackA'+'ctive']['has'](_0x318b6d)?this['_callbackA'+'ctive']['get'](_0x318b6d)!==_0x27215b&&(_0x402b02=_0x27215b['slice']()):this['_callbackA'+'ctive']['set'](_0x318b6d,_0x27215b);for(let _0x450912=-0x1df0+0x154a+0x8a6;(_0x402b02||this['_callbackA'+'ctive']['get'](_0x318b6d))&&_0x450912<(_0x402b02||this['_callbackA'+'ctive']['get'](_0x318b6d))['length'];_0x450912++){const _0x41f45b=(_0x402b02||this['_callbackA'+'ctive']['get'](_0x318b6d))[_0x450912];if(_0x41f45b['callback']&&(_0x41f45b['callback']['call'](_0x41f45b['scope'],_0x193e06,_0x590dd5,_0x211e09,_0x40dac8,_0x51d022,_0x56358c,_0x56a44c,_0x419b0d),_0x41f45b['_once'])){const _0x2f1df9=this['_callbacks']['get'](_0x318b6d),_0x11dd24=_0x2f1df9?_0x2f1df9['indexOf'](_0x41f45b):-(-0x33*0x4e+0x1848+-0x8bd);if(_0x11dd24!==-(0x6d1+0x2440+-0x2b10)){this['_callbackA'+'ctive']['get'](_0x318b6d)===_0x2f1df9&&this['_callbackA'+'ctive']['set'](_0x318b6d,this['_callbackA'+'ctive']['get'](_0x318b6d)['slice']());const _0x2ac0c5=this['_callbacks']['get'](_0x318b6d);if(!_0x2ac0c5)continue;_0x2ac0c5[_0x11dd24]['removed']=!(0x6f5+0x1a13+-0x2108),_0x2ac0c5['splice'](_0x11dd24,0x8*0x25f+-0x11bc+-0x13b),_0x2ac0c5['length']===0x1*0x1af+-0x1193+-0x9*-0x1c4&&this['_callbacks']['delete'](_0x318b6d);}}}return _0x402b02||this['_callbackA'+'ctive']['delete'](_0x318b6d),this;}['hasEvent'](_0x355551){var _0x133883;return!!((_0x133883=this['_callbacks']['get'](_0x355551))!=null&&_0x133883['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x3148b8,_0x3a74b2){if(this['_index'][_0x3148b8])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x3148b8);const _0x38bac1=this['_list']['push'](_0x3a74b2)-(-0x1*-0xee9+0x2*-0x362+-0x1*0x824);this['_index'][_0x3148b8]=_0x38bac1;}['has'](_0x1ff136){return this['_index'][_0x1ff136]!==void(0x238f+0x1661+-0x6*0x9a8);}['get'](_0xebe90a){const _0x40469e=this['_index'][_0xebe90a];return _0x40469e!==void(0x6f*-0x1b+0x1f6+-0x1*-0x9bf)?this['_list'][_0x40469e]:null;}['remove'](_0x56f2f7){const _0xbf9344=this['_index'][_0x56f2f7];if(_0xbf9344!==void(0x4*0x5b1+-0x69*0x1e+-0x2*0x53b)){this['_list']['splice'](_0xbf9344,0x1c51+-0x1c77+-0x1*-0x27),delete this['_index'][_0x56f2f7];for(_0x56f2f7 in this['_index']){const _0x577f46=this['_index'][_0x56f2f7];_0x577f46>_0xbf9344&&(this['_index'][_0x56f2f7]=_0x577f46-(0x1e71*-0x1+-0x40e*-0x4+0xe3a));}return!(0xcb3*-0x2+-0x18fa+-0x1f*-0x1a0);}return!(-0xa9b+-0x5f9*-0x4+-0xd48*0x1);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0xc*-0xd3+-0x8b4+0x1298;for(const _0x5a2be1 in this['_index'])delete this['_index'][_0x5a2be1];}}const gS=_0x5819a5=>{const _0x20f0be={};let _0x1521a8=_0x20f0be;return()=>(_0x1521a8===_0x20f0be&&(_0x1521a8=_0x5819a5()),_0x1521a8);},Ns=class Ns{static['loadScript'](_0xb76f43,_0x32d372){const _0x26b7a5=document['createElem'+'ent']('script');_0x26b7a5['setAttribu'+'te']('src',_0xb76f43),_0x26b7a5['onload']=()=>{_0x32d372(null);},_0x26b7a5['onerror']=()=>{_0x32d372('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0xb76f43+'\x27');},document['body']['appendChil'+'d'](_0x26b7a5);}static['loadWasm'](_0x3b8ea7,_0x30dd38,_0x41d9da){const _0x306e55=Ns['wasmSuppor'+'ted']()&&_0x30dd38['glueUrl']&&_0x30dd38['wasmUrl']?_0x30dd38['glueUrl']:_0x30dd38['fallbackUr'+'l'];_0x306e55?Ns['loadScript'](_0x306e55,_0x1073fc=>{if(_0x1073fc)_0x41d9da(_0x1073fc,null);else{const _0x5eb023=window[_0x3b8ea7];window[_0x3b8ea7]=void(-0x24a1+0x3*-0x35f+0x1*0x2ebe),_0x5eb023({'locateFile':()=>_0x30dd38['wasmUrl'],'onAbort':()=>{_0x41d9da('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x406fe7=>{_0x41d9da(null,_0x406fe7);});}}):_0x41d9da('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x1a848a){return Ns['modules']['hasOwnProp'+'erty'](_0x1a848a)||(Ns['modules'][_0x1a848a]={'config':null,'initializing':!(-0x2591+0x20f*-0x6+-0x4*-0xc7b),'instance':null,'callbacks':[]}),Ns['modules'][_0x1a848a];}static['initialize'](_0xf8fc7f,_0x1941e3){if(_0x1941e3['initializi'+'ng'])return;const _0x41950d=_0x1941e3['config'];(_0x41950d['glueUrl']||_0x41950d['wasmUrl']||_0x41950d['fallbackUr'+'l'])&&(_0x1941e3['initializi'+'ng']=!(0xf7f+0xe3f+0x51*-0x5e),Ns['loadWasm'](_0xf8fc7f,_0x41950d,(_0x7240d4,_0x189e9c)=>{_0x7240d4?_0x41950d['errorHandl'+'er']?_0x41950d['errorHandl'+'er'](_0x7240d4):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0xf8fc7f+'\x20error='+_0x7240d4):(_0x1941e3['instance']=_0x189e9c,_0x1941e3['callbacks']['forEach'](_0x25395d=>{_0x25395d(_0x189e9c);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x1b855f=new WebAssembly['Module'](Uint8Array['of'](-0x1532+0x1728+-0x1f6,0x1be7+0x6bc+0x2242*-0x1,0xed4+-0x4*-0x4bd+0x17*-0x173,-0x61*-0x67+0x6e5*-0x5+-0x421,-0xc1f+0x201f+-0x13ff*0x1,-0x15d0+-0x568*-0x2+0x2c*0x40,-0xcd7+0x7*0x4bd+-0x515*0x4,0x1e3d*-0x1+-0x4ae*-0x1+0x2d7*0x9));if(_0x1b855f instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x1b855f)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1*-0x23c5+0x62e+-0x29f2);}));let Br=Ns;class ay{static['setConfig'](_0x245b30,_0x10f3b2){const _0x38b555=Br['getModule'](_0x245b30);_0x38b555['config']=_0x10f3b2,_0x38b555['callbacks']['length']>-0x123d+0x2*-0xd23+0x2c83*0x1&&Br['initialize'](_0x245b30,_0x38b555);}static['getConfig'](_0x3d8d4b){var _0x139e6b,_0x345196;return(_0x345196=(_0x139e6b=Br['modules'])==null?void(-0x3*-0x971+0x4*0x82b+-0x3cff):_0x139e6b[_0x3d8d4b])==null?void(-0x1c7*0x13+-0x57*-0x7+0x1f64):_0x345196['config'];}static['getInstanc'+'e'](_0x132c7d,_0x539cb6){const _0x5b7ed9=Br['getModule'](_0x132c7d);_0x5b7ed9['instance']?_0x539cb6(_0x5b7ed9['instance']):(_0x5b7ed9['callbacks']['push'](_0x539cb6),_0x5b7ed9['config']&&Br['initialize'](_0x132c7d,_0x5b7ed9));}}class oy{constructor(_0x5550b8){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',-0x10ef+0x1*-0x17f6+-0x227*-0x13),(this['arraybuffe'+'r']=_0x5550b8,this['dataView']=new DataView(_0x5550b8));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x51c24c=0x23e9+0x18dc+-0x3cc5){this['offset']=_0x51c24c;}['skip'](_0x342a6d){this['offset']+=_0x342a6d;}['align'](_0x198786){this['offset']=this['offset']+_0x198786-(-0x1*0x56b+0x1236+-0xcca)&~(_0x198786-(0xfb0*0x1+0xb5d+-0x482*0x6));}['_inc'](_0x471cc0){return this['offset']+=_0x471cc0,this['offset']-_0x471cc0;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x4ac324){let _0x4e3537='';for(let _0x4221e4=0x4*-0x799+0xf*0x77+0x176b;_0x4221e4<_0x4ac324;++_0x4221e4)_0x4e3537+=this['readChar']();return _0x4e3537;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x3*-0x55d+-0xf8b+-0x45*0x2),!(0xfe3+0x801*-0x2+0x1f));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x136c*-0x2+0x138c+0x1350),!(0x12*-0x3d+-0x239b+0x27e5));}['readU64'](){return this['readU32']()+(-0x3d*-0x59+-0x1*-0xfee+-0x2521)**(0x54b*0x1+0x9bc+-0x1*0xee7)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x141*-0x14+0x6b*-0x59+0x1af*0x25),!(-0x13d*-0x10+-0x1*-0xe6a+-0x2239*0x1));}['readArray'](_0x8c1406){for(let _0x204411=0xb7a+-0x289*-0xe+-0x2ef8;_0x204411<_0x8c1406['length'];++_0x204411)_0x8c1406[_0x204411]=this['readU8']();}['readLine'](){const _0x14bc10=this['dataView'];let _0x559ec9='';for(;!(this['offset']>=_0x14bc10['byteLength']);){const _0x92ff34=String['fromCharCo'+'de'](this['readU8']());if(_0x92ff34==='\x0a')break;_0x559ec9+=_0x92ff34;}return _0x559ec9;}}class wh{constructor(_0x562bc4){c(this,'items',[]),c(this,'length',-0x3*-0xa49+-0x1*-0xaf4+-0x29cf),c(this,'loopIndex',-(0x1*0x391+-0x54f+0x95*0x3)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x562bc4['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x5b6a40){let _0x38e97c=0x125a+-0x4*0x11e+-0xde2*0x1,_0x51c05d=this['items']['length']-(-0x1959+-0x1fb3+0x390d);const _0xa2b40c=_0x5b6a40[this['_sortBy']];let _0x26b4f4,_0x1c6c14;for(;_0x38e97c<=_0x51c05d;)_0x26b4f4=Math['floor']((_0x38e97c+_0x51c05d)/(0x8b8+-0x4cb+-0x3eb)),_0x1c6c14=this['items'][_0x26b4f4][this['_sortBy']],_0x1c6c14<=_0xa2b40c?_0x38e97c=_0x26b4f4+(-0x2c*-0xdc+-0x95*-0x3e+-0x49e5):_0x1c6c14>_0xa2b40c&&(_0x51c05d=_0x26b4f4-(0x243*-0xd+0x1*0x252e+-0x1*0x7c6));return _0x38e97c;}['_doSort'](_0x1f4480,_0x37dcf6){const _0x27c24d=this['_sortBy'];return _0x1f4480[_0x27c24d]-_0x37dcf6[_0x27c24d];}['insert'](_0x2ad2a7){const _0x553e5d=this['_binarySea'+'rch'](_0x2ad2a7);this['items']['splice'](_0x553e5d,0x45*-0x43+0xa67+0x1ea*0x4,_0x2ad2a7),this['length']++,this['loopIndex']>=_0x553e5d&&this['loopIndex']++;}['append'](_0x32201d){this['items']['push'](_0x32201d),this['length']++;}['remove'](_0x2a206d){const _0x4f2835=this['items']['indexOf'](_0x2a206d);_0x4f2835<-0x1*-0x10d7+0xbe7+-0x1a*0x11b||(this['items']['splice'](_0x4f2835,-0x1a46+-0x35d+0x1da4),this['length']--,this['loopIndex']>=_0x4f2835&&this['loopIndex']--);}['sort'](){const _0x45f043=this['loopIndex']>=-0x1*0xe20+-0x19c3+0x27e3?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x45f043!==null&&(this['loopIndex']=this['items']['indexOf'](_0x45f043));}}class po extends ce{constructor(_0x476310){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x476310;}['add'](..._0x31be5d){let _0xc3c755=!(0x2e*0xb2+0xca*-0x7+-0x209*0xd);const _0x402167=this['_processAr'+'guments'](_0x31be5d,!(0xd3f*-0x1+0x6d*-0x32+0x7*0x4ef));if(!_0x402167['length'])return _0xc3c755;for(let _0x18de81=0x24fb+-0x1a2c+-0xacf;_0x18de81<_0x402167['length'];_0x18de81++)this['_index'][_0x402167[_0x18de81]]||(_0xc3c755=!(0xc08+0x3a*-0xa9+-0x2*-0xd21),this['_index'][_0x402167[_0x18de81]]=!(-0x608+-0x32*-0x3d+0xfb*-0x6),this['_list']['push'](_0x402167[_0x18de81]),this['fire']('add',_0x402167[_0x18de81],this['_parent']));return _0xc3c755&&this['fire']('change',this['_parent']),_0xc3c755;}['remove'](..._0x41571e){let _0x3774a5=!(-0xc*0x232+-0x1*0x17f+-0x12*-0x18c);if(!this['_list']['length'])return _0x3774a5;const _0x437e2c=this['_processAr'+'guments'](_0x41571e,!(0x2*-0xb51+0x1674+0x2e));if(!_0x437e2c['length'])return _0x3774a5;for(let _0x146668=0x6a3+-0x1ce2+-0x14f*-0x11;_0x146668<_0x437e2c['length'];_0x146668++)this['_index'][_0x437e2c[_0x146668]]&&(_0x3774a5=!(-0x1*0x1e3b+0x238d+-0x552),delete this['_index'][_0x437e2c[_0x146668]],this['_list']['splice'](this['_list']['indexOf'](_0x437e2c[_0x146668]),-0x201+-0x1873+0x1a75),this['fire']('remove',_0x437e2c[_0x146668],this['_parent']));return _0x3774a5&&this['fire']('change',this['_parent']),_0x3774a5;}['clear'](){if(!this['_list']['length'])return;const _0x40bccb=this['_list']['slice'](-0x6*-0x44f+0x135*-0x1+-0x2bd*0x9);this['_list']=[],this['_index']={};for(let _0x252b24=-0x8b4*0x3+-0x9*-0x3d1+-0x83d;_0x252b24<_0x40bccb['length'];_0x252b24++)this['fire']('remove',_0x40bccb[_0x252b24],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x19abbf){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x19abbf)):!(-0x914+-0x1c*-0xd0+0xdab*-0x1);}['_has'](_0x307754){if(!this['_list']['length']||!_0x307754['length'])return!(0x1*-0x1b23+0x1a30+-0x3d*-0x4);for(let _0x2e1c00=-0x121a+0x13f5+0x1*-0x1db;_0x2e1c00<_0x307754['length'];_0x2e1c00++)if(_0x307754[_0x2e1c00]['length']===-0x22aa+-0x191d*-0x1+0x98e*0x1){if(this['_index'][_0x307754[_0x2e1c00][0x82a*-0x3+0x1ca6*-0x1+0x166*0x26]])return!(0x12b8+-0x2*-0x8fb+-0x24ae);}else{let _0x214984=!(-0x3*-0xd0+0x1bfb+-0x1e6b);for(let _0x1e7e8e=0x6b2*0x1+-0x1*0x1fd5+0x1923;_0x1e7e8e<_0x307754[_0x2e1c00]['length'];_0x1e7e8e++)if(!this['_index'][_0x307754[_0x2e1c00][_0x1e7e8e]]){_0x214984=!(-0x5fb+-0xd70+0x136c);break;}if(_0x214984)return!(-0x10bb*0x2+0xa19+0x175d*0x1);}return!(0x1e8e*0x1+0x2153*-0x1+0x2c6);}['list'](){return this['_list']['slice'](0x257*0xa+0x8*0x2cb+-0x2dbe);}['_processAr'+'guments'](_0x40f3b2,_0x5b2632){const _0x1b4ba6=[];let _0x27aaa3=[];if(!_0x40f3b2||!_0x40f3b2['length'])return _0x1b4ba6;for(let _0x12379d=-0x18fd*-0x1+0x1*0x1381+-0x2c7e*0x1;_0x12379d<_0x40f3b2['length'];_0x12379d++)if(_0x40f3b2[_0x12379d]instanceof Array){_0x5b2632||(_0x27aaa3=[]);for(let _0x502ff2=0x23c1+-0x242a+-0x3*-0x23;_0x502ff2<_0x40f3b2[_0x12379d]['length'];_0x502ff2++)typeof _0x40f3b2[_0x12379d][_0x502ff2]=='string'&&(_0x5b2632?_0x1b4ba6['push'](_0x40f3b2[_0x12379d][_0x502ff2]):_0x27aaa3['push'](_0x40f3b2[_0x12379d][_0x502ff2]));!_0x5b2632&&_0x27aaa3['length']&&_0x1b4ba6['push'](_0x27aaa3);}else typeof _0x40f3b2[_0x12379d]=='string'&&(_0x5b2632?_0x1b4ba6['push'](_0x40f3b2[_0x12379d]):_0x1b4ba6['push']([_0x40f3b2[_0x12379d]]));return _0x1b4ba6;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0xf99285){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x15a90c=_0xf99285['match'](yS);this['scheme']=_0x15a90c[0x96*0x36+0x511*0x3+-0x2ed5],this['authority']=_0x15a90c[0x57f+0xf*0x9d+-0xeae],this['path']=_0x15a90c[0x1a69*-0x1+-0xec5+0x2933],this['query']=_0x15a90c[0xd65*0x1+-0x21c1*-0x1+-0x2f1f*0x1],this['fragment']=_0x15a90c[0x1578+-0x2c9+-0x12a6];}['toString'](){let _0x3541cc='';return this['scheme']&&(_0x3541cc+=this['scheme']+':'),this['authority']&&(_0x3541cc+='//'+this['authority']),_0x3541cc+=this['path'],this['query']&&(_0x3541cc+='?'+this['query']),this['fragment']&&(_0x3541cc+='#'+this['fragment']),_0x3541cc;}['getQuery'](){const _0x1f6f51={};if(this['query']){const _0x14ca2c=decodeURIComponent(this['query'])['split']('&');for(const _0x141a34 of _0x14ca2c){const _0x55f726=_0x141a34['split']('=');_0x1f6f51[_0x55f726[0x2c5*0xa+0x2c*-0x3a+0x2*-0x8dd]]=_0x55f726[-0x9e5+-0x2233*-0x1+0x184d*-0x1];}}return _0x1f6f51;}['setQuery'](_0x203547){let _0x95b6f4='';for(const _0x2cc12b in _0x203547)_0x203547['hasOwnProp'+'erty'](_0x2cc12b)&&(_0x95b6f4!==''&&(_0x95b6f4+='&'),_0x95b6f4+=encodeURIComponent(_0x2cc12b)+'='+encodeURIComponent(_0x203547[_0x2cc12b]));this['query']=_0x95b6f4;}}const xS=0xd*0x15+-0x257*-0x2+-0x5bf,Df=0x1b92+-0x11ad+0x34c*-0x3,sm=-0x804+0x1*-0x211+-0xb*-0xeb,SS=0x95*-0x1+-0x1e55+0x1eef,N={'DEG_TO_RAD':Math['PI']/(0x1d4f+-0x2*-0x414+-0x24c3),'RAD_TO_DEG':(-0x1*-0x2516+-0xe9+0x2379*-0x1)/Math['PI'],'clamp'(_0x2562ab,_0x61d44e,_0x29d580){return _0x2562ab>=_0x29d580?_0x29d580:_0x2562ab<=_0x61d44e?_0x61d44e:_0x2562ab;},'intToBytes24'(_0x474d13){const _0x3cae45=_0x474d13>>0x19b7+0xaa8*0x3+-0x399f&0x2146+-0x60*-0x1f+0x1*-0x2be7,_0x6b7034=_0x474d13>>-0x5*-0xb3+-0x277+-0x100&-0x137*-0x1d+-0x12e9+-0xf53,_0x27ef65=_0x474d13&0x1*-0x1b5b+0x43*0x2f+0x100d;return[_0x3cae45,_0x6b7034,_0x27ef65];},'intToBytes32'(_0x93380f){const _0x34b60c=_0x93380f>>0x1*0x1cc1+-0x162*-0xb+-0x3fd*0xb&0xbce*-0x2+0x1*-0xa94+0x232f*0x1,_0x59fb95=_0x93380f>>-0x5d9+0x1450+-0xe67*0x1&0x23a6+-0x18bc+-0x9eb,_0x59bacb=_0x93380f>>-0x49*-0x75+-0x8*0xa7+-0x1c1d*0x1&0x13f1+0x196b+0x2c5d*-0x1,_0x2fa8ec=_0x93380f&0x1d4f+0xa30+-0x2680;return[_0x34b60c,_0x59fb95,_0x59bacb,_0x2fa8ec];},'bytesToInt24'(_0x17d022,_0x1e7932,_0x2e93d9){return _0x17d022['length']&&(_0x2e93d9=_0x17d022[-0x8a*-0x47+0x895*-0x1+-0x3*0x9e5],_0x1e7932=_0x17d022[0xa8+-0x4*0x9c+0x1c9],_0x17d022=_0x17d022[0x11a1+-0x25*0xde+-0xe75*-0x1]),_0x17d022<<0xe81+-0x55f+-0x912|_0x1e7932<<0x1*0x1d53+0xa1f+0x5*-0x7e2|_0x2e93d9;},'bytesToInt32'(_0x460346,_0x294879,_0x3b72e7,_0x42cf85){return _0x460346['length']&&(_0x42cf85=_0x460346[-0x2*-0x170+-0x1803+0x1526],_0x3b72e7=_0x460346[0x1873+-0x1f62+0x6f1],_0x294879=_0x460346[0x10f7+-0x519*-0x1+-0x1*0x160f],_0x460346=_0x460346[-0x1*-0x142a+-0x83*0x21+-0x347*0x1]),(_0x460346<<-0x16b8+0x35*-0xa0+0x8*0x6fe|_0x294879<<0x1cd1+0x1380+-0x3041|_0x3b72e7<<-0x138c+-0x409+0x193*0xf|_0x42cf85)>>>0xc6c+-0xfa4+0x338*0x1;},'lerp'(_0x4cebf9,_0x2957b1,_0x2d14af){return _0x4cebf9+(_0x2957b1-_0x4cebf9)*N['clamp'](_0x2d14af,-0xe92+0x259c+0x170a*-0x1,0x1169*0x2+0x2*-0xfee+-0x2f5);},'lerpAngle'(_0x488d36,_0x17f5ef,_0x120e40){return _0x17f5ef-_0x488d36>0xb47+0x7*-0x4ca+-0xeb*-0x19&&(_0x17f5ef-=-0x16bb+0x1625+0x1fe),_0x17f5ef-_0x488d36<-(0x1c57+-0x1d47*0x1+-0xf*-0x1c)&&(_0x17f5ef+=0x51*0x49+-0x1d6+-0x12b*0x11),N['lerp'](_0x488d36,_0x17f5ef,N['clamp'](_0x120e40,-0x22ca+0x1fd1+0x2f9,0x259f+0x1bf*0x5+-0x2e59));},'powerOfTwo'(_0x4b6bc7){return _0x4b6bc7!==0xeb3+0x3b9+0x126c*-0x1&&!(_0x4b6bc7&_0x4b6bc7-(0x2*-0x12c2+-0xe8*-0x20+0x885));},'nextPowerOfTwo'(_0x3f90bb){return _0x3f90bb--,_0x3f90bb|=_0x3f90bb>>0xc6b+-0x3*-0x259+-0x1*0x1375,_0x3f90bb|=_0x3f90bb>>-0x175b+-0xec4+0x2621,_0x3f90bb|=_0x3f90bb>>0x46b*-0x1+0x6*0x17+0x3e5*0x1,_0x3f90bb|=_0x3f90bb>>-0x21*-0x95+0x851*0x1+0x9*-0x30e,_0x3f90bb|=_0x3f90bb>>0x25*0x7d+-0x8ef+-0x3*0x306,_0x3f90bb++,_0x3f90bb;},'nearestPowerOfTwo'(_0x2d0053){return Math['pow'](-0x1*0x1525+0x1823*-0x1+0x1f*0x176,Math['round'](Math['log'](_0x2d0053)/Math['log'](0x11c4+0x8ef*-0x2+0x1c)));},'random'(_0x1034c8,_0x44a136){const _0x49abd2=_0x44a136-_0x1034c8;return Math['random']()*_0x49abd2+_0x1034c8;},'smoothstep'(_0xe1df45,_0x3def86,_0x1e7d18){return _0x1e7d18<=_0xe1df45?0x9b5+0x1b87+-0x253c:_0x1e7d18>=_0x3def86?-0x14f2+-0x1*0x269a+0x3b8d:(_0x1e7d18=(_0x1e7d18-_0xe1df45)/(_0x3def86-_0xe1df45),_0x1e7d18*_0x1e7d18*(0x67*-0x35+0xb*-0x277+0x3073*0x1-(-0x4e*-0x65+-0x1985+-0x1*0x53f)*_0x1e7d18));},'smootherstep'(_0x492ef5,_0x160eb2,_0x67e1f0){return _0x67e1f0<=_0x492ef5?-0x1*0x2674+0x1492+0x2*0x8f1:_0x67e1f0>=_0x160eb2?-0x5c8+-0xeb6+0x9f*0x21:(_0x67e1f0=(_0x67e1f0-_0x492ef5)/(_0x160eb2-_0x492ef5),_0x67e1f0*_0x67e1f0*_0x67e1f0*(_0x67e1f0*(_0x67e1f0*(0x5c3*0x3+-0x1*-0x8d2+-0x1a15)-(-0x549+-0x7*0x407+0x2189))+(-0xb*0x89+0x1ca*-0x6+0x10a9)));},'roundUp'(_0x37da00,_0x4a866d){return _0x4a866d===0x143a+-0x1*-0x115+0x443*-0x5?_0x37da00:Math['ceil'](_0x37da00/_0x4a866d)*_0x4a866d;},'between'(_0x2f98f4,_0x1c24a8,_0x318042,_0x41c731){const _0x4cc1b4=Math['min'](_0x1c24a8,_0x318042),_0x377eb4=Math['max'](_0x1c24a8,_0x318042);return _0x41c731?_0x2f98f4>=_0x4cc1b4&&_0x2f98f4<=_0x377eb4:_0x2f98f4>_0x4cc1b4&&_0x2f98f4<_0x377eb4;}},it=class it{constructor(_0x45d503=-0xb+-0xf8f+0xf9a,_0x30b70d=0x1b70+-0x49*0x19+-0x144f,_0x88379d=0x13b*-0x1+0xec*0x29+0x197*-0x17,_0x4be64f=0x1075+-0x5*-0x347+-0x1*0x20d7){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x2ecd63=_0x45d503['length'];_0x2ecd63===0x25c3+0x67*-0x4+-0x101*0x24||_0x2ecd63===0x1*-0x633+-0x1*0x8c9+0xf00?(this['r']=_0x45d503[0x22*-0x23+-0x12c5+0x176b],this['g']=_0x45d503[0x702+-0x20df+0x19de],this['b']=_0x45d503[0x1acf*-0x1+-0x5*-0x79d+-0xb40],this['a']=_0x45d503[0x15db+0x23*0x68+-0x2410]??-0x1*-0x1a0a+-0x9da+0x1*-0x102f):(this['r']=_0x45d503,this['g']=_0x30b70d,this['b']=_0x88379d,this['a']=_0x4be64f);}['clone'](){const _0x138bac=this['constructo'+'r'];return new _0x138bac(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x3c6155){return this['r']=_0x3c6155['r'],this['g']=_0x3c6155['g'],this['b']=_0x3c6155['b'],this['a']=_0x3c6155['a'],this;}['equals'](_0x3f9390){return this['r']===_0x3f9390['r']&&this['g']===_0x3f9390['g']&&this['b']===_0x3f9390['b']&&this['a']===_0x3f9390['a'];}['set'](_0x58e09f,_0x44e118,_0x34b16a,_0x2ad957=-0x25d6+-0xf*0x14c+0x394b){return this['r']=_0x58e09f,this['g']=_0x44e118,this['b']=_0x34b16a,this['a']=_0x2ad957,this;}['lerp'](_0xd0afd4,_0x266bd2,_0x3a5e61){return this['r']=_0xd0afd4['r']+_0x3a5e61*(_0x266bd2['r']-_0xd0afd4['r']),this['g']=_0xd0afd4['g']+_0x3a5e61*(_0x266bd2['g']-_0xd0afd4['g']),this['b']=_0xd0afd4['b']+_0x3a5e61*(_0x266bd2['b']-_0xd0afd4['b']),this['a']=_0xd0afd4['a']+_0x3a5e61*(_0x266bd2['a']-_0xd0afd4['a']),this;}['linear'](_0x1962b2=this){return this['r']=Math['pow'](_0x1962b2['r'],-0x5d*0x62+-0x1475+0x3811+0.20000000000000018),this['g']=Math['pow'](_0x1962b2['g'],-0x16cd+-0x218a+0x3859+0.20000000000000018),this['b']=Math['pow'](_0x1962b2['b'],-0x1*0x11e9+-0x2*0xd81+-0x2ced*-0x1+0.20000000000000018),this['a']=_0x1962b2['a'],this;}['gamma'](_0x2d7563=this){return this['r']=Math['pow'](_0x2d7563['r'],(0x1e87+0x61*-0x1+-0x1e25)/(0xcd4+-0x208f*0x1+0x13bd+0.20000000000000018)),this['g']=Math['pow'](_0x2d7563['g'],(0x22e*0x2+0x1*-0x94d+0x4f2)/(-0x6d0+0x1*0x647+0x8b+0.20000000000000018)),this['b']=Math['pow'](_0x2d7563['b'],(-0xc7f+-0x59c+0x121c)/(0x18a6+0x19be+-0x1*0x3262+0.20000000000000018)),this['a']=_0x2d7563['a'],this;}['mulScalar'](_0x551f58){return this['r']*=_0x551f58,this['g']*=_0x551f58,this['b']*=_0x551f58,this;}['fromString'](_0x4b9c95){const _0x2f6902=parseInt(_0x4b9c95['replace']('#','0x'),0x677*0x5+-0x38b+0x8*-0x397);let _0x58f894;return _0x4b9c95['length']>-0x3*-0x6e3+-0xa9c+-0xa06?_0x58f894=N['intToBytes'+'32'](_0x2f6902):(_0x58f894=N['intToBytes'+'24'](_0x2f6902),_0x58f894[0x12c2+0x90*0x17+-0x1faf*0x1]=0x3d3+-0x1fb5+0x1ce1),this['set'](_0x58f894[0x6*-0xb2+0x14f9*-0x1+0x1925]/(0xadb+0x14aa+0x2*-0xf43),_0x58f894[-0x1535+-0x1066+0x3a*0xa6]/(-0x1*-0x219b+-0x5a4*-0x5+-0x3cd0),_0x58f894[0x1*0x1a6a+0x1957+-0xd*0x3fb]/(-0x2*0x3df+0x737*0x2+-0x5b1),_0x58f894[0x2543+0x1a6e+-0x3fae]/(-0x5d+-0xada+-0x1*-0xc36)),this;}['fromArray'](_0x4a8d16,_0x8fc9ae=0x17*0x159+0xf9b+0x1*-0x2e9a){return this['r']=_0x4a8d16[_0x8fc9ae]??this['r'],this['g']=_0x4a8d16[_0x8fc9ae+(-0x1*0x493+-0xd4+0x15a*0x4)]??this['g'],this['b']=_0x4a8d16[_0x8fc9ae+(-0xe0d+-0x2076+-0x2e85*-0x1)]??this['b'],this['a']=_0x4a8d16[_0x8fc9ae+(-0x6e*-0x11+-0x7ed+0xa2)]??this['a'],this;}['toString'](_0x1d71ac,_0x561a74){const {r:_0x547097,g:_0x271aa8,b:_0x4e7fd2,a:_0x149273}=this;if(_0x561a74||_0x547097>-0x26*0x66+-0x531+-0x1456*-0x1||_0x271aa8>0xf38+0x16a2+-0x25d9*0x1||_0x4e7fd2>0x1*-0x1c0d+0x70a+-0xa*-0x21a)return _0x547097['toFixed'](0xd*0x275+-0x20f4+0x106)+',\x20'+_0x271aa8['toFixed'](0x8bb+0x226b+-0x2b23)+',\x20'+_0x4e7fd2['toFixed'](0x20e*-0x2+0x15fe+0x11df*-0x1)+',\x20'+_0x149273['toFixed'](0x1*0x407+0x20d9+-0x24dd*0x1);let _0x5dcf8d='#'+((0x1369*-0x1+-0xacc+0x1e36<<-0x1*-0xe0f+-0x7*-0x1+-0x3*0x4aa)+(Math['round'](_0x547097*(0xd6c+0x217*0x7+0xd87*-0x2))<<0x23f+0x1*-0x1403+0xa3*0x1c)+(Math['round'](_0x271aa8*(0x84*0x37+0x18e*0x16+0x1*-0x3d91))<<-0x1938+0x2316+-0x9d6*0x1)+Math['round'](_0x4e7fd2*(0x3*0x4a9+0x2377+-0x3073*0x1)))['toString'](-0x7a6+0x20de+-0x17*0x118)['slice'](0x1c*0x10+-0xef3*-0x1+-0x10b2);if(_0x1d71ac===!(0x157a+0x20fb+0x60d*-0x9)){const _0x3b46d2=Math['round'](_0x149273*(0x1ce6+-0x16c2+-0x1b7*0x3))['toString'](0xb6b+-0x1eb6+0x135b);this['a']<(0xcac+0x2*0x3c7+0x2*-0xa15)/(-0x1875+-0x1b*-0x25+-0x72f*-0x3)?_0x5dcf8d+='0'+_0x3b46d2:_0x5dcf8d+=_0x3b46d2;}return _0x5dcf8d;}['toArray'](_0x295b40=[],_0x199a7d=0x253+-0x5fb*0x1+0x3a8,_0x445a14=!(-0x4*-0x3f3+-0xe9c+-0x130)){return _0x295b40[_0x199a7d]=this['r'],_0x295b40[_0x199a7d+(-0x2f7+0x1cee+0x1*-0x19f6)]=this['g'],_0x295b40[_0x199a7d+(-0x1*-0x1cec+-0x10dd*-0x2+0x2*-0x1f52)]=this['b'],_0x445a14&&(_0x295b40[_0x199a7d+(0x816+-0x1*0x26e9+0x1ed6)]=this['a']),_0x295b40;}};(function(){let _0x135480;try{const _0x4ef81c=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x135480=_0x4ef81c();}catch(_0x1ac2b4){_0x135480=window;}_0x135480['setInterva'+'l'](_0xcbdac2,-0x13d0+0x4ef+0x16b1);}()),(c(it,'BLACK',Object['freeze'](new it(-0x1b2f+-0x10*0x260+0xb*0x5ed,-0x1*0xa66+0x136*0x6+0x191*0x2,0xb71+0x8a9*0x1+0xa0d*-0x2,0xbbe*-0x1+-0x1af3+0x27*0xfe))),c(it,'BLUE',Object['freeze'](new it(0x5b8+-0x1*-0x1266+-0x181e,-0x1a04+-0x94e+0x5e3*0x6,0x1325+0xd+-0x1331,-0x4*0x9a4+-0x1*0x21eb+0x1*0x487c))),c(it,'CYAN',Object['freeze'](new it(0x1ee+-0x5e0+-0xca*-0x5,0x73*0x2d+-0x15c1*-0x1+-0x29f7,-0x1fd8+-0x4b7*-0x6+0x38f,-0xf1c+0x216f+-0x1252))),c(it,'GRAY',Object['freeze'](new it(-0x2302*0x1+0x1f44+0x3be+0.5,0xb*0xae+0x1*-0x21ef+0x1a75+0.5,-0x941*0x1+-0x85*-0x26+0xa7d*-0x1+0.5,0x12f8+0x74f*-0x3+-0x2f6*-0x1))),c(it,'GREEN',Object['freeze'](new it(-0xf+-0x1744+-0x355*-0x7,-0x15*0x13d+-0x20e4+0x3ae6,0x176d+0x12aa*-0x1+-0x4c3,0x3*0xafb+-0x758+-0x1998))),c(it,'MAGENTA',Object['freeze'](new it(-0xb03*0x2+-0x1*-0x469+0x119e,-0x1*0x4cf+-0x3*0xc1+0x712,0x1*0xdc7+0x16ee+-0x24b4,0x19a5+-0x6f7*-0x1+-0x209b))),c(it,'RED',Object['freeze'](new it(0x1e6c+-0x5f3+-0x1878,0x6c*-0x3+0x1de*0x9+0x6*-0x297,-0x9db+0xf54+-0x579,0x3eb*-0x7+0x1*0x1eab+-0x1*0x33d))),c(it,'WHITE',Object['freeze'](new it(0xd2b+0x53*-0x1b+-0x1*0x469,0x1*0x21cd+0x21da+-0x43a6,-0x17b8+-0xd*-0x3+-0xbc9*-0x2,0x26a5+0x17b6+-0x3e5a))),c(it,'YELLOW',Object['freeze'](new it(0x23*0x3+-0xf*0xc4+-0x1*-0xb14,-0x1375+0x225+0xb*0x193,0x25c2+-0x1fae+0x4*-0x185,0x2*0x48f+-0x1a*-0x89+0x5*-0x49b))));let Y=it;class ly{constructor(_0x15d46b,_0x2ae066=-0x7be+0x8*-0x149+0x1206*0x1){c(this,'_curve'),c(this,'_left',-(-0x1556+0xd98+0x7bf)/(-0x116*-0xa+0xfd6+0xc9*-0x22)),c(this,'_right',(0x2523+0x1e1b+-0x433d)/(0x85d+0x1183*0x1+-0x10*0x19e)),c(this,'_recip',0xf8*0x21+-0x257f+0x587),c(this,'_p0',-0x14b7+0xaa1*-0x3+0x349a*0x1),c(this,'_p1',-0x1d49+0x1168+-0x1*-0xbe1),c(this,'_m0',-0x43f*0x7+0xa04+0x13b5),c(this,'_m1',-0x1*0x575+-0x1*0x2517+0x2a8c*0x1),(this['_curve']=_0x15d46b,this['_reset'](_0x2ae066));}['evaluate'](_0x581124,_0x229844=!(0x70+-0x5d4*-0x1+0x1*-0x643)){(_0x229844||_0x581124<this['_left']||_0x581124>=this['_right'])&&this['_reset'](_0x581124);let _0xd3f0fc;const _0x23ea8e=this['_curve']['type'];if(_0x23ea8e===SS)_0xd3f0fc=this['_p0'];else{const _0x38014f=this['_recip']===-0x129b*-0x1+0x5*-0xa+-0x1269?-0x1*-0x4cd+-0x11bd+-0x2*-0x678:(_0x581124-this['_left'])*this['_recip'];_0x23ea8e===xS?_0xd3f0fc=N['lerp'](this['_p0'],this['_p1'],_0x38014f):_0x23ea8e===Df?_0xd3f0fc=N['lerp'](this['_p0'],this['_p1'],_0x38014f*_0x38014f*(-0x2*0x103d+-0x1*0xdf0+0x2e6d-(0x1c9e+-0x1d6c*-0x1+0x9ac*-0x6)*_0x38014f)):_0xd3f0fc=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x38014f);}return _0xd3f0fc;}['_reset'](_0x34172c){const _0x4f85a1=this['_curve']['keys'],_0xaa3602=_0x4f85a1['length'];if(!_0xaa3602)this['_left']=-(-0x2*-0xc2e+0x1de6+0x2db*-0x13)/(0x1*0x3c9+0x2017+-0x11f0*0x2),this['_right']=(0xc2c+-0x156d+0x942*0x1)/(0x56f*-0x1+-0x7d7*-0x1+-0x268),this['_recip']=0x95*0x43+0x1591+-0xa18*0x6,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x1*0x12bf+-0x21a*0x1+0x6f3*0x3;else{if(_0x34172c<_0x4f85a1[-0xe*-0x2a2+0x13ff+-0x5*0xb5f][0x1bc0+0x7e*0x42+-0x3c3c])this['_left']=-(0x1*-0x20d7+0x1*0x206+0x1ed2)/(-0x9bc*0x1+-0x53*0x10+0xeec),this['_right']=_0x4f85a1[-0x1319+0x11c*0x7+0xb55][0x1779+0x148+-0x18c1],this['_recip']=-0x7b7+-0x22f9+-0xaac*-0x4,this['_p0']=this['_p1']=_0x4f85a1[-0x3*0x10d+-0x72f*-0x3+0x2*-0x933][0x6d*0x17+-0x1*0xa4+-0x493*0x2],this['_m0']=this['_m1']=-0x6e4+-0x29*0x26+0x16*0x97;else{if(_0x34172c>=_0x4f85a1[_0xaa3602-(-0x20e1+0x14a8+-0x139*-0xa)][-0x1*-0x67+-0x555+0x4ee])this['_left']=_0x4f85a1[_0xaa3602-(-0x94f+0x28e*0x2+-0x1*-0x434)][-0xa66+-0x3*-0xa01+-0x139d*0x1],this['_right']=(-0x204b+0x1*0x202+-0x1*-0x1e4a)/(0x14c0+0x178+-0x1638),this['_recip']=0x1af*0x1+0x4f*0x4f+-0x1a10,this['_p0']=this['_p1']=_0x4f85a1[_0xaa3602-(-0x6cc*0x4+-0xe55*0x1+0x2986)][0x1d6c+0x248a+-0x41f5],this['_m0']=this['_m1']=-0xba*0x31+0x1151+0x1249*0x1;else{let _0x3b1520=0x1a*-0xf7+0xa2b*-0x2+0x2d6c;for(;_0x34172c>=_0x4f85a1[_0x3b1520+(0x11b+0x2*-0x605+-0xc8*-0xe)][-0x2485+0x21ed+0x298];)_0x3b1520++;this['_left']=_0x4f85a1[_0x3b1520][-0x16b3*-0x1+0x166+-0x1819],this['_right']=_0x4f85a1[_0x3b1520+(0x22b*0xd+0xfc7+0x5d*-0x79)][-0x1084+-0x43f*-0x2+0x806*0x1];const _0x19274c=(-0x2bb+0x2212+-0x47a*0x7)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x19274c)?_0x19274c:-0x106b+-0xdf3+-0xd*-0x256,this['_p0']=_0x4f85a1[_0x3b1520][-0x14af+0x1*0x1107+0x3a9],this['_p1']=_0x4f85a1[_0x3b1520+(-0x54*-0x1f+0x344+-0xd6f)][0xb4e+-0x924+-0x229],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x4f85a1,_0x3b1520);}}}}['_calcTange'+'nts'](_0x14929d,_0x2fff89){let _0x301654;const _0x34f051=_0x14929d[_0x2fff89],_0x508080=_0x14929d[_0x2fff89+(0xc73+0x18f4+-0x2566)];let _0x338a5c;if(_0x2fff89===-0xda6*-0x1+0x15a6+-0x9*0x3ec?_0x301654=[_0x14929d[0xcd5+0x83*-0x20+0x38b][0x1a*-0x6d+0x118f+-0xb*0x97]+(_0x14929d[0xe61+-0x2*0xf88+0x10af][0xdda+0x6b1+-0x148b]-_0x14929d[-0x95*-0x9+0x1a93+-0x1fcf][-0xd9d+-0x8c1+0xb2f*0x2]),_0x14929d[-0xbb1+0x35*-0x19+0x86f*0x2][-0x478*0x8+0x388+-0x2039*-0x1]+(_0x14929d[-0x85d+0x20b6+-0x10f*0x17][-0x15e1+0x2*-0x20+-0x2*-0xb11]-_0x14929d[0x1*-0x2132+0x7f+0x20b4][-0xef8+-0xeba+0x1db3])]:_0x301654=_0x14929d[_0x2fff89-(0x1fe5+0x65*0x47+-0x3be7)],_0x2fff89===_0x14929d['length']-(0x131d+-0x298+-0x581*0x3)?_0x338a5c=[_0x14929d[_0x2fff89+(-0x3*0x613+-0x538+0x1*0x1772)][0x1d4b+0x95*0x2+0x3*-0xa27]+(_0x14929d[_0x2fff89+(-0x69a+0x8dc+-0x241)][-0x3ec+-0x1*0xdd3+0x11bf]-_0x14929d[_0x2fff89][0x648+-0x6d*-0x2b+-0x1897]),_0x14929d[_0x2fff89+(-0x848+-0x10*0xc1+-0x1459*-0x1)][-0x23fa+0x7b8+0x1c43]+(_0x14929d[_0x2fff89+(-0x2ea+0x1*0xfe9+0x1*-0xcfe)][-0x3d3+-0xbb9+-0xf8d*-0x1]-_0x14929d[_0x2fff89][-0xd27+-0x5d6+0x12fe])]:_0x338a5c=_0x14929d[_0x2fff89+(0x22c6+0x1c49+-0x3f0d)],this['_curve']['type']===sm){const _0x41779b=(0x6f*-0x10+-0x210e+0x2800)*(_0x508080[-0x2*0x89+-0x1f4f+0x2061]-_0x34f051[-0x1715*0x1+0x2*-0x830+0x2775])/(_0x508080[0x948+0xed+0xa35*-0x1]-_0x301654[0xa*0x8+-0x4ff+0x1*0x4af]),_0x4f958b=(-0x1*-0x182d+-0xe67+-0x19*0x64)*(_0x508080[-0x9af+0x2*-0xe1f+0x25ed]-_0x34f051[-0xb*-0x1ab+-0x256c+0x1313])/(_0x338a5c[-0x79f+-0x3*-0x3d6+-0x3e3]-_0x34f051[-0x2141+0x1ea5+0x29c]);this['_m0']=this['_curve']['tension']*(isFinite(_0x41779b)?_0x41779b:-0x1*0x22f+0x7*0x33d+-0x147c)*(_0x508080[0x1af5+-0x5c1+-0x1533]-_0x301654[0x17e8+-0x1aac+0x2c5]),this['_m1']=this['_curve']['tension']*(isFinite(_0x4f958b)?_0x4f958b:0x262f+0x1ad4*0x1+0x4103*-0x1)*(_0x338a5c[0x1af*-0x9+0x1d82+-0x14e*0xb]-_0x34f051[0x3b*0x3d+-0x1bca+-0x6de*-0x2]);}else{const _0x28aaa3=(_0x508080[0x5e*0x29+0x7*-0x83+-0x21*0x59]-_0x34f051[0x8a6+0x1a74+0x2*-0x118d])/(_0x34f051[0x1fc9+-0x11e7+0x1*-0xde2]-_0x301654[-0x1c31+-0xdf*0x17+0x181d*0x2]),_0x5f7bcd=(_0x508080[-0x1b12+0x89c+-0x1276*-0x1]-_0x34f051[-0x1*0x18b5+-0xb*-0x25f+-0x160])/(_0x338a5c[0xa*0x25+-0xb47*-0x3+0xb*-0x335]-_0x508080[0x4ca+-0x2575+0x20ab]),_0x3b9524=_0x34f051[0x16de*-0x1+-0x2189+0x3868]+(_0x301654[0xf*-0x32+-0x38*-0xb+0x5*0x1b]-_0x34f051[-0x17*-0x25+0x17c1+-0x1d*0xef])*(isFinite(_0x28aaa3)?_0x28aaa3:0x2*0x79c+-0x1*0x63f+0x8f9*-0x1),_0x5d43d4=_0x508080[0x7*0x3d9+0x17e*-0x1+-0xb*0x250]+(_0x338a5c[0x1*-0xd46+-0xda3+0x1aea]-_0x508080[0x1f59+0x2088+0x3fe*-0x10])*(isFinite(_0x5f7bcd)?_0x5f7bcd:-0x103*0x1a+0x16eb*0x1+-0x1*-0x363),_0x4a8bae=this['_curve']['tension'];this['_m0']=_0x4a8bae*(_0x508080[0x4fd+-0x3*0xcbd+-0x213b*-0x1]-_0x3b9524),this['_m1']=_0x4a8bae*(_0x5d43d4-_0x34f051[-0xb6c+0x2*-0xf0d+0x2987*0x1]);}}['_evaluateH'+'ermite'](_0x4fdba8,_0x22ee55,_0x4d1ee2,_0x391f23,_0x43ea33){const _0x14d816=_0x43ea33*_0x43ea33,_0x22b8ab=_0x43ea33+_0x43ea33,_0x1bbfc2=-0x262+0x4d*0x25+-0x2ea*0x3-_0x43ea33,_0x2ec6ef=_0x1bbfc2*_0x1bbfc2;return _0x4fdba8*((-0x1d96+0xd68+0x102f+_0x22b8ab)*_0x2ec6ef)+_0x4d1ee2*(_0x43ea33*_0x2ec6ef)+_0x22ee55*(_0x14d816*(-0x27b*-0x7+0x1996+0x728*-0x6-_0x22b8ab))+_0x391f23*(_0x14d816*(_0x43ea33-(0x237*0x1+-0x977*0x2+0x6b*0x28)));}}class Cs{constructor(_0x568f0e){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x1*-0x11ff+0x1*0x21f5+0x214*-0x19+0.5),c(this,'_eval',new ly(this));if(_0x568f0e){for(let _0x157e32=0xb2*-0x2+-0x17a5+-0x1ed*-0xd;_0x157e32<_0x568f0e['length']-(0x1*-0x17bf+-0x1c66+0x3426);_0x157e32+=-0x1*0x1c13+-0x67*0x35+0x4*0xc5a)this['keys']['push']([_0x568f0e[_0x157e32],_0x568f0e[_0x157e32+(-0x1208+0x1529+-0x320)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x4b85f9,_0x473fb6){const _0x4ce0d7=this['keys'],_0x38cae5=_0x4ce0d7['length'];let _0x58edae=0x1997*-0x1+0x1*0x1468+0x52f*0x1;for(;_0x58edae<_0x38cae5&&!(_0x4ce0d7[_0x58edae][-0x17*0x1af+0x513*0x2+0x1c93]>_0x4b85f9);_0x58edae++);const _0xd7d40b=[_0x4b85f9,_0x473fb6];return this['keys']['splice'](_0x58edae,-0x41c+0x490*-0x8+0x289c,_0xd7d40b),_0xd7d40b;}['get'](_0x349f1b){return this['keys'][_0x349f1b];}['sort'](){this['keys']['sort']((_0x53b476,_0x577a91)=>_0x53b476[-0x13*-0x107+-0xc3f+-0x746]-_0x577a91[0x20d3+-0x1e82+0x251*-0x1]);}['value'](_0x252b1f){return this['_eval']['evaluate'](_0x252b1f,!(-0x4f7+-0x1427+0x191e));}['closest'](_0x3fcc1a){const _0x21e1c3=this['keys'],_0x820f25=_0x21e1c3['length'];let _0x25363b=-0x197+0x1b3c+-0x19a3,_0x321c15=null;for(let _0x3792f8=-0x5*0x561+0x9af+0x1136;_0x3792f8<_0x820f25;_0x3792f8++){const _0x35f021=Math['abs'](_0x3fcc1a-_0x21e1c3[_0x3792f8][-0x10d+0xd9d+-0xc90]);if(_0x25363b>=_0x35f021)_0x25363b=_0x35f021,_0x321c15=_0x21e1c3[_0x3792f8];else break;}return _0x321c15;}['clone'](){const _0x38a8b2=new this['constructo'+'r']();return _0x38a8b2['keys']=this['keys']['map'](_0x111561=>[..._0x111561]),_0x38a8b2['type']=this['type'],_0x38a8b2['tension']=this['tension'],_0x38a8b2;}['quantize'](_0x4ff7a8){_0x4ff7a8=Math['max'](_0x4ff7a8,0x1*0x21d+0x4d*0xb+-0x56a);const _0x68d1bb=new Float32Array(_0x4ff7a8),_0x12b191=(-0x1*-0x25e1+-0x1eed*-0x1+-0x44cd)/(_0x4ff7a8-(-0x6a9+0x193f+0x1*-0x1295));_0x68d1bb[-0x25*0x45+-0x1468+0x1e61]=this['_eval']['evaluate'](0xb5f*0x1+-0x1d37+0x2*0x8ec,!(0x3b4+0x167*-0x1b+-0x109*-0x21));for(let _0x287f6f=0xe75*0x2+-0x29b*-0x3+-0x24ba;_0x287f6f<_0x4ff7a8;_0x287f6f++)_0x68d1bb[_0x287f6f]=this['_eval']['evaluate'](_0x12b191*_0x287f6f);return _0x68d1bb;}['quantizeCl'+'amped'](_0x4cb4b7,_0x3b0d15,_0x113544){const _0x21bbc9=this['quantize'](_0x4cb4b7);for(let _0x4dfe35=-0x11ea+-0x86b*-0x2+0x114;_0x4dfe35<_0x21bbc9['length'];++_0x4dfe35)_0x21bbc9[_0x4dfe35]=Math['min'](_0x113544,Math['max'](_0x3b0d15,_0x21bbc9[_0x4dfe35]));return _0x21bbc9;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>-0x1726+0x318+0x5*0x403){for(let _0x50a615=-0x1*0x705+-0x28*-0x48+-0x43b;_0x50a615<arguments['length'];_0x50a615++)this['curves']['push'](new Cs(arguments[_0x50a615]));}else{if(arguments['length']===-0x107+0x10aa+0x1*-0xfa3)this['curves']['push'](new Cs());else{const _0x27ca01=arguments[0x23ea+-0x3fd*-0x1+-0x27e7];if(typeof _0x27ca01=='number'){for(let _0x37fa60=-0x23ec+-0x26d*-0x1+0x217f;_0x37fa60<_0x27ca01;_0x37fa60++)this['curves']['push'](new Cs());}else{for(let _0xfd88f3=0x14ed+0x1*0x17a5+-0x5*0x8ea;_0xfd88f3<_0x27ca01['length'];_0xfd88f3++)this['curves']['push'](new Cs(_0x27ca01[_0xfd88f3]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x27b081){this['_type']=_0x27b081;for(let _0x119935=0xb75+-0x6*-0x30+-0x1*0xc95;_0x119935<this['curves']['length'];_0x119935++)this['curves'][_0x119935]['type']=_0x27b081;}get['type'](){return this['_type'];}['get'](_0x7a8985){return this['curves'][_0x7a8985];}['value'](_0x323494,_0x4cd109=[]){const _0x55fd3e=this['curves']['length'];_0x4cd109['length']=_0x55fd3e;for(let _0x4feb80=-0x2*-0xbe9+0x2360+-0x3b32;_0x4feb80<_0x55fd3e;_0x4feb80++)_0x4cd109[_0x4feb80]=this['curves'][_0x4feb80]['value'](_0x323494);return _0x4cd109;}['clone'](){const _0xe9ed65=new this['constructo'+'r']();_0xe9ed65['curves']=[];for(let _0x3d6394=0x1102+-0xcc6+-0x2*0x21e;_0x3d6394<this['curves']['length'];_0x3d6394++)_0xe9ed65['curves']['push'](this['curves'][_0x3d6394]['clone']());return _0xe9ed65['_type']=this['_type'],_0xe9ed65;}['quantize'](_0x495d94){_0x495d94=Math['max'](_0x495d94,-0x1d61+-0x6eb+0x244e);const _0x4f1b95=this['curves']['length'],_0x4ba7fe=new Float32Array(_0x495d94*_0x4f1b95),_0x20adb9=(0x1abd+-0x121*-0x13+-0x302f)/(_0x495d94-(0x1e6e+0x23bf*-0x1+0x552));for(let _0x49dfbc=0x20aa+0x9c+-0x2146;_0x49dfbc<_0x4f1b95;_0x49dfbc++){const _0x244c96=new ly(this['curves'][_0x49dfbc]);for(let _0x4ec93c=-0x7*0x509+-0x1200+0x353f;_0x4ec93c<_0x495d94;_0x4ec93c++)_0x4ba7fe[_0x4ec93c*_0x4f1b95+_0x49dfbc]=_0x244c96['evaluate'](_0x20adb9*_0x4ec93c);}return _0x4ba7fe;}['quantizeCl'+'amped'](_0xae0eea,_0xde8cd1,_0x50b0b8){const _0x109354=this['quantize'](_0xae0eea);for(let _0xe80c71=-0x2252+-0x1d41+0x3f93;_0xe80c71<_0x109354['length'];++_0xe80c71)_0x109354[_0xe80c71]=Math['min'](_0x50b0b8,Math['max'](_0xde8cd1,_0x109354[_0xe80c71]));return _0x109354;}}let im=0x4dd*0x3+-0xa*-0x21d+0x392*-0xa;const id=(-0x1*-0x107f+-0x3*-0x1c3+-0x15c7)/(-0x13de*-0x1+-0x752+-0xb8d),du=new Float32Array(-0x81*-0x39+0x767+0x1*-0x241f),rm=new Int32Array(du['buffer']);class Wt{static['float2Half'](_0x464e48){du[-0x20*0x4f+-0x2*-0x6c6+-0x3ac]=_0x464e48;const _0x33be7a=rm[0x1*0x17+-0x14c4+0x14ad];let _0x2cd3bb=_0x33be7a>>0xe*0xb9+0x1*0x20c3+-0x2ad1&0xfd4b+0xfd39+-0x17a84,_0x48df6c=_0x33be7a>>0x1*0xbb9+0x2*0xc52+0x409*-0x9&-0x1454+0x2*-0x5ce+0x27ef;const _0x3aeaf0=_0x33be7a>>-0x1a91+0x473*-0x5+0x1*0x30e7&-0xc98+-0xc45*-0x1+-0x2*-0xa9;return _0x3aeaf0<-0x11f8+-0x125*0x1f+0x35da?_0x2cd3bb:_0x3aeaf0>0x3b*0x1d+-0x2299+0x1c78?(_0x2cd3bb|=-0xb875+-0x1ad*-0x1b+-0xe*-0x12cd,_0x2cd3bb|=(_0x3aeaf0===-0x15bb+-0x1a8a+0x3144?0x1410+0x4d2*-0x6+0x8dc:-0x187c+-0x1104+-0x11*-0x271)&&_0x33be7a&-0xde527f+0x4dae64+0x110a41a,_0x2cd3bb):_0x3aeaf0<0x2de*-0x6+0xbb3+0x5f2?(_0x48df6c|=0x1048*-0x1+-0xb4e*-0x1+0xcfa,_0x2cd3bb|=(_0x48df6c>>0x2*-0x773+0x1c8b+0xd33*-0x1-_0x3aeaf0)+(_0x48df6c>>-0x7b9+-0xf4+0x6*0x185-_0x3aeaf0&-0x1*0xbc7+-0x119*-0x9+0x1e7*0x1),_0x2cd3bb):(_0x2cd3bb|=_0x3aeaf0-(0x19e*0x1+-0x1b82+0x1a54)<<-0xb*0x67+0xeec+-0xa75|_0x48df6c>>-0x53*0x56+-0x1be3+0x1be3*0x2,_0x2cd3bb+=_0x48df6c&-0x1dae+0x2f0+0x1abf*0x1,_0x2cd3bb);}static['float2Byte'+'s'](_0x46f238,_0x1db1e5,_0x420fdd,_0x55b92b){const _0x31e5fd=(0x1*-0x257f+0x1*0xcbd+0x19c1)*_0x46f238%(-0x91*0x2f+0x1a*-0x10d+-0x565*-0xa);if(_0x1db1e5[_0x420fdd+(0xe1b*-0x2+0x2*-0x875+-0x8*-0x5a4)]=Math['round']((_0x46f238%(0x495+0x26e0+-0x2b74)-id*_0x31e5fd)*(-0x2bd*0x1+-0x61*0x2f+0x158b)),_0x55b92b>0x15f*0x1+-0x1*-0x14a6+-0x1604){const _0x1caeff=(-0x1f*-0x78b+-0x1*-0x12efe+-0x11ad2)*_0x46f238%(0x1ed5+-0xdd1+0x1103*-0x1);if(_0x1db1e5[_0x420fdd+(0x5d*0x47+0x1291+-0x2c5b*0x1)]=Math['round']((_0x31e5fd-id*_0x1caeff)*(0x29*-0x65+0x3*-0xa73+-0x3085*-0x1)),_0x55b92b>-0x2275+-0xf3*-0x20+-0x417*-0x1){const _0x4d965b=(-0x71f45*-0x43+-0x4507*0x403+0x34bf05)*_0x46f238%(0x37*0x5a+0x25b3*-0x1+0x125e);_0x1db1e5[_0x420fdd+(-0x9b4+0x83+0x933)]=Math['round']((_0x1caeff-id*_0x4d965b)*(-0x1fc5+0x316+0x1dae)),_0x55b92b>-0x940+-0x23a4+0x2ce7&&(_0x1db1e5[_0x420fdd+(-0x61f*-0x6+-0x27e*0xb+-0x94d)]=Math['round'](_0x4d965b*(0x1227*0x1+0x121*0x20+-0x1f*0x1b8)));}}}static['float2Byte'+'sRange'](_0x10ab9a,_0x5e5b21,_0x188064,_0x25ec7c,_0x16ab4f,_0x55c419){(_0x10ab9a<_0x25ec7c||_0x10ab9a>_0x16ab4f)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x10ab9a=N['clamp']((_0x10ab9a-_0x25ec7c)/(_0x16ab4f-_0x25ec7c),-0x26*0x13+0xfe*-0x5+0x53*0x18,0x181d+-0x174f+-0xcd),Wt['float2Byte'+'s'](_0x10ab9a,_0x5e5b21,_0x188064,_0x55c419);}static['float2RGBA'+'8'](_0x258da,_0x17f112){du[-0x386*0x7+-0x6*-0x423+-0x28]=_0x258da;const _0x5d7371=rm[0x11c3*0x1+0x1*-0x1b09+0x946];_0x17f112['r']=(_0x5d7371>>-0x26*0x43+0x951+-0x1*-0xb9&0x10e9+0x75*-0x54+-0xb3d*-0x2)/(0x1fe8*-0x1+0x1*-0x16af+0x58f*0xa),_0x17f112['g']=(_0x5d7371>>0xf4e+-0x14cb+-0x31*-0x1d&0x8d0+-0x96*0x1+-0x3*0x269)/(0x1bb*-0xb+-0x267+0x1*0x166f),_0x17f112['b']=(_0x5d7371>>-0x236e+-0x1*0x1721+0x3a97&-0xcf7*0x1+-0x118*0x19+-0x11*-0x26e)/(-0xa5c+-0xa28+-0x1583*-0x1),_0x17f112['a']=(_0x5d7371&0x25e7*-0x1+0x26b9+0x3*0xf)/(-0x1b0c+-0xa8f+0x134d*0x2);}}const rt=class rt{constructor(_0x9bda9a=0x18f7+-0x1*-0x166d+-0x2f64,_0x3c252a=-0x1*0x9a3+0x1f6+-0x189*-0x5,_0x30f538=0x1*0xd85+0x1fe7*0x1+-0x2d6c){c(this,'x'),c(this,'y'),c(this,'z'),_0x9bda9a['length']===-0x3*-0x7fe+-0x3dc+0x1*-0x141b?(this['x']=_0x9bda9a[-0x1f9*0xd+0x4*-0x3d5+0x28f9],this['y']=_0x9bda9a[0x175c+-0x16b3+-0xa8],this['z']=_0x9bda9a[0x125b+-0x36a*-0x4+0xaab*-0x3]):(this['x']=_0x9bda9a,this['y']=_0x3c252a,this['z']=_0x30f538);}['add'](_0x5188fa){return this['x']+=_0x5188fa['x'],this['y']+=_0x5188fa['y'],this['z']+=_0x5188fa['z'],this;}['add2'](_0xf24513,_0x383d2a){return this['x']=_0xf24513['x']+_0x383d2a['x'],this['y']=_0xf24513['y']+_0x383d2a['y'],this['z']=_0xf24513['z']+_0x383d2a['z'],this;}['addScalar'](_0x173282){return this['x']+=_0x173282,this['y']+=_0x173282,this['z']+=_0x173282,this;}['addScaled'](_0x5a1bfc,_0x509004){return this['x']+=_0x5a1bfc['x']*_0x509004,this['y']+=_0x5a1bfc['y']*_0x509004,this['z']+=_0x5a1bfc['z']*_0x509004,this;}['clone'](){const _0x44b060=this['constructo'+'r'];return new _0x44b060(this['x'],this['y'],this['z']);}['copy'](_0x42fd17){return this['x']=_0x42fd17['x'],this['y']=_0x42fd17['y'],this['z']=_0x42fd17['z'],this;}['cross'](_0x16dcfb,_0x1504cf){const _0x2c8cb8=_0x16dcfb['x'],_0x45a457=_0x16dcfb['y'],_0x8185d8=_0x16dcfb['z'],_0x3e75d7=_0x1504cf['x'],_0x2b7afb=_0x1504cf['y'],_0xb7535c=_0x1504cf['z'];return this['x']=_0x45a457*_0xb7535c-_0x2b7afb*_0x8185d8,this['y']=_0x8185d8*_0x3e75d7-_0xb7535c*_0x2c8cb8,this['z']=_0x2c8cb8*_0x2b7afb-_0x3e75d7*_0x45a457,this;}['distance'](_0x2891fa){const _0x19a086=this['x']-_0x2891fa['x'],_0x49a6de=this['y']-_0x2891fa['y'],_0x23d06f=this['z']-_0x2891fa['z'];return Math['sqrt'](_0x19a086*_0x19a086+_0x49a6de*_0x49a6de+_0x23d06f*_0x23d06f);}['div'](_0xf7e7be){return this['x']/=_0xf7e7be['x'],this['y']/=_0xf7e7be['y'],this['z']/=_0xf7e7be['z'],this;}['div2'](_0x4e9daa,_0x1893b7){return this['x']=_0x4e9daa['x']/_0x1893b7['x'],this['y']=_0x4e9daa['y']/_0x1893b7['y'],this['z']=_0x4e9daa['z']/_0x1893b7['z'],this;}['divScalar'](_0x22477a){return this['x']/=_0x22477a,this['y']/=_0x22477a,this['z']/=_0x22477a,this;}['dot'](_0x57be0a){return this['x']*_0x57be0a['x']+this['y']*_0x57be0a['y']+this['z']*_0x57be0a['z'];}['equals'](_0x330553){return this['x']===_0x330553['x']&&this['y']===_0x330553['y']&&this['z']===_0x330553['z'];}['equalsAppr'+'ox'](_0x57a4e3,_0x1b30bb=0x1836*-0x1+-0x1967+-0x319d*-0x1+0.000001){return Math['abs'](this['x']-_0x57a4e3['x'])<_0x1b30bb&&Math['abs'](this['y']-_0x57a4e3['y'])<_0x1b30bb&&Math['abs'](this['z']-_0x57a4e3['z'])<_0x1b30bb;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x277e91,_0x163461,_0x2630f4){return this['x']=_0x277e91['x']+_0x2630f4*(_0x163461['x']-_0x277e91['x']),this['y']=_0x277e91['y']+_0x2630f4*(_0x163461['y']-_0x277e91['y']),this['z']=_0x277e91['z']+_0x2630f4*(_0x163461['z']-_0x277e91['z']),this;}['mul'](_0x137dbf){return this['x']*=_0x137dbf['x'],this['y']*=_0x137dbf['y'],this['z']*=_0x137dbf['z'],this;}['mul2'](_0x5ccfbf,_0x342aff){return this['x']=_0x5ccfbf['x']*_0x342aff['x'],this['y']=_0x5ccfbf['y']*_0x342aff['y'],this['z']=_0x5ccfbf['z']*_0x342aff['z'],this;}['mulScalar'](_0x2de8d0){return this['x']*=_0x2de8d0,this['y']*=_0x2de8d0,this['z']*=_0x2de8d0,this;}['normalize'](_0x1a8eec=this){const _0xb9174e=_0x1a8eec['x']*_0x1a8eec['x']+_0x1a8eec['y']*_0x1a8eec['y']+_0x1a8eec['z']*_0x1a8eec['z'];if(_0xb9174e>0x25c0+-0x155*-0x19+-0x470d){const _0x259898=(-0x1eb1+0x1cac+-0x4a*-0x7)/Math['sqrt'](_0xb9174e);this['x']=_0x1a8eec['x']*_0x259898,this['y']=_0x1a8eec['y']*_0x259898,this['z']=_0x1a8eec['z']*_0x259898;}return this;}['floor'](_0x16fd1c=this){return this['x']=Math['floor'](_0x16fd1c['x']),this['y']=Math['floor'](_0x16fd1c['y']),this['z']=Math['floor'](_0x16fd1c['z']),this;}['ceil'](_0x48a221=this){return this['x']=Math['ceil'](_0x48a221['x']),this['y']=Math['ceil'](_0x48a221['y']),this['z']=Math['ceil'](_0x48a221['z']),this;}['round'](_0x1df892=this){return this['x']=Math['round'](_0x1df892['x']),this['y']=Math['round'](_0x1df892['y']),this['z']=Math['round'](_0x1df892['z']),this;}['min'](_0x330660){return _0x330660['x']<this['x']&&(this['x']=_0x330660['x']),_0x330660['y']<this['y']&&(this['y']=_0x330660['y']),_0x330660['z']<this['z']&&(this['z']=_0x330660['z']),this;}['max'](_0x541789){return _0x541789['x']>this['x']&&(this['x']=_0x541789['x']),_0x541789['y']>this['y']&&(this['y']=_0x541789['y']),_0x541789['z']>this['z']&&(this['z']=_0x541789['z']),this;}['project'](_0x4a4f7e){const _0x20c8f2=this['x']*_0x4a4f7e['x']+this['y']*_0x4a4f7e['y']+this['z']*_0x4a4f7e['z'],_0x66dbc5=_0x4a4f7e['x']*_0x4a4f7e['x']+_0x4a4f7e['y']*_0x4a4f7e['y']+_0x4a4f7e['z']*_0x4a4f7e['z'],_0x16114b=_0x20c8f2/_0x66dbc5;return this['x']=_0x4a4f7e['x']*_0x16114b,this['y']=_0x4a4f7e['y']*_0x16114b,this['z']=_0x4a4f7e['z']*_0x16114b,this;}['set'](_0x4d3b3e,_0x133509,_0x525761){return this['x']=_0x4d3b3e,this['y']=_0x133509,this['z']=_0x525761,this;}['sub'](_0x3286f0){return this['x']-=_0x3286f0['x'],this['y']-=_0x3286f0['y'],this['z']-=_0x3286f0['z'],this;}['sub2'](_0x2803d4,_0x498379){return this['x']=_0x2803d4['x']-_0x498379['x'],this['y']=_0x2803d4['y']-_0x498379['y'],this['z']=_0x2803d4['z']-_0x498379['z'],this;}['subScalar'](_0x155e55){return this['x']-=_0x155e55,this['y']-=_0x155e55,this['z']-=_0x155e55,this;}['fromArray'](_0x45cda1,_0x39b07=-0x8ad*-0x1+0xc8+0x327*-0x3){return this['x']=_0x45cda1[_0x39b07]??this['x'],this['y']=_0x45cda1[_0x39b07+(0x3*-0x5d1+0x47*0x3d+0x1*0x89)]??this['y'],this['z']=_0x45cda1[_0x39b07+(-0x2*-0xafa+-0x2f4+0x16*-0xdd)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x2be619=[],_0x5eb0e4=-0x1304+0x2584+-0x4a0*0x4){return _0x2be619[_0x5eb0e4]=this['x'],_0x2be619[_0x5eb0e4+(-0x295*0x8+0x1cd8+-0x82f)]=this['y'],_0x2be619[_0x5eb0e4+(-0x1*0xbd7+-0x67*0x3f+0x2532)]=this['z'],_0x2be619;}};c(rt,'ZERO',Object['freeze'](new rt(0x218f+0x1f20+0x1*-0x40af,-0x1aa5+0x70b+0x139a,0x25dc+0x3a5+0x55*-0x7d))),c(rt,'HALF',Object['freeze'](new rt(0x2*-0x9f2+-0x13c*0x1b+0x3538+0.5,0x255*0x9+-0x30a*-0x4+-0x2125+0.5,0x22d4+0xed4+-0x31a8+0.5))),c(rt,'ONE',Object['freeze'](new rt(0x52*0x1f+-0x1*0x150e+0xb21,0x1*0x2383+0x1a0+-0x2522,-0x1f9e+0x195+-0xa*-0x301))),c(rt,'UP',Object['freeze'](new rt(0x185*0x3+0x4*0x7d9+0x23f3*-0x1,0xce1+0xac6*-0x1+-0x21a*0x1,0x14e3*0x1+0x125*0x2+-0x172d))),c(rt,'DOWN',Object['freeze'](new rt(-0xb*-0x30d+-0x21d*-0x9+0x4*-0xd25,-(-0x1d75*0x1+-0x15*0xa+0x1e48),0x9d+-0xb3*0xf+0x4*0x278))),c(rt,'RIGHT',Object['freeze'](new rt(0xba7+-0x1537+0x991,0x1afb+0x1966+-0x3461,0x4d*-0x11+0x1a3*0x2+0x1d7))),c(rt,'LEFT',Object['freeze'](new rt(-(0x69a*-0x1+-0xb5*0x37+0x50e*0x9),-0x1*-0x1a69+0xee*0x7+-0x35*0x9f,0x2659*-0x1+0x254d+-0x4*-0x43))),c(rt,'FORWARD',Object['freeze'](new rt(-0x13fb+0x61*0x35+-0x1a,0x7eb*-0x1+0x11a1+0xb*-0xe2,-(-0x4*-0xb+-0x1d68*0x1+0x1d3d)))),c(rt,'BACK',Object['freeze'](new rt(0x1*0x21dd+-0x1*-0x14f3+-0x1b68*0x2,-0x1*-0x226b+-0x1179+-0x9*0x1e2,0x15*-0x151+0x9a9+0x399*0x5)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(0xe68+0x3*-0x425+-0x1f0)),this['data'][0x9*0x3a8+0x1*-0xe18+-0x12d0]=this['data'][0x186b+-0x2*-0xac7+-0x2df5]=this['data'][0x355*-0x7+-0xaef+0x1a2*0x15]=0x2b8*-0xe+0xb41*0x1+0x1ad0;}['clone'](){const _0x4906db=this['constructo'+'r'];return new _0x4906db()['copy'](this);}['copy'](_0x476eb7){const _0x45d923=_0x476eb7['data'],_0x3c6a8e=this['data'];return _0x3c6a8e[-0xbc4+0x170*-0xa+0x1a24]=_0x45d923[-0x1713+-0x1b*-0x6d+0x2*0x5ca],_0x3c6a8e[0x1d75*0x1+0x10b5+-0x2e29]=_0x45d923[-0x1cc1+0x31*0xa6+0x182*-0x2],_0x3c6a8e[0x1bae+-0x2419+-0x86d*-0x1]=_0x45d923[-0x756+0x2201+-0x555*0x5],_0x3c6a8e[0x277*-0xa+-0x21d*-0x4+-0x567*-0x3]=_0x45d923[0x1312*0x2+-0x25a9*-0x1+-0x4bca],_0x3c6a8e[-0x5*-0x312+-0x3c6+-0xb90]=_0x45d923[-0x1997+-0x9a8+0x3*0xbc1],_0x3c6a8e[0x1851+-0x177a+-0xd2]=_0x45d923[-0x1a5d+-0x9*-0xdd+0x3b9*0x5],_0x3c6a8e[-0x1d*-0xd3+-0x1*-0xa47+-0x88a*0x4]=_0x45d923[0x500+-0x2347+0x1*0x1e4d],_0x3c6a8e[-0x10*-0x57+-0x13*0x166+0x1529]=_0x45d923[0x1f37+-0x1*-0x1f4e+0x1*-0x3e7e],_0x3c6a8e[-0x35*0x23+0x589+0x1*0x1be]=_0x45d923[0x467*0x5+0x80*0x39+-0x327b*0x1],this;}['set'](_0x388e63){const _0x195236=this['data'];return _0x195236[-0x1*0xeb3+0x5*-0x4fd+0x27a4]=_0x388e63[-0x12b*0xd+-0x1bea+-0x2b19*-0x1],_0x195236[0x1*-0x447+-0x1*0x2029+0x2471]=_0x388e63[-0x5*-0x605+0xff9+0x2e11*-0x1],_0x195236[0x14d3+0x1*0x9d6+-0x1ea7]=_0x388e63[0x1757+0x5*-0x205+-0x1e4*0x7],_0x195236[-0x1*0x1ed1+-0x551+0x2425]=_0x388e63[-0x1336*-0x1+0x82e+-0x2b*0xa3],_0x195236[0x2a8+-0xf4d+0xca9]=_0x388e63[0x291*0xe+0xd4e+-0x3138],_0x195236[0x1d*0x1d+0x31*-0x59+0xdc5]=_0x388e63[0x1*-0x1032+0x8*-0x242+0x2247],_0x195236[-0x54e*0x4+-0x1000+0x253e]=_0x388e63[0x2a*0x5f+0x1*-0x1430+0x4a0],_0x195236[0x14f3+-0x2*-0x6dc+-0x22a4]=_0x388e63[-0x201d*0x1+0x180a+0x2*0x40d],_0x195236[-0x5*0x749+0xd*0x203+0xa4e]=_0x388e63[-0xcf0+0x2591+-0x1*0x1899],this;}['getX'](_0x541fa1=new T()){return _0x541fa1['set'](this['data'][-0x218+0x6*-0x66e+0x28ac],this['data'][0xb97*0x3+-0x116b*-0x1+-0x342f],this['data'][0xd3d+0x1d5*0x8+0x289*-0xb]);}['getY'](_0x2693be=new T()){return _0x2693be['set'](this['data'][0x1*-0x1fa2+-0x20b*0x3+0x25c6*0x1],this['data'][-0x21f0+-0xc5e+0x2e52],this['data'][-0x1ab0+-0x2*0x151+-0x431*-0x7]);}['getZ'](_0x56e048=new T()){return _0x56e048['set'](this['data'][-0x2395+0x1*0xc06+0x1795],this['data'][-0xadf+-0x2*-0x747+-0x3a8],this['data'][0x26de+0x11a1*0x1+-0x3877]);}['equals'](_0x88d3d5){const _0x1cbe6d=this['data'],_0x515282=_0x88d3d5['data'];return _0x1cbe6d[-0x152e*0x1+-0x14f*-0x11+-0x111]===_0x515282[0x139d*0x1+0x258f+-0x392c]&&_0x1cbe6d[-0xfb9+0x2154+-0x119a]===_0x515282[0x180*-0x12+0x2*-0x272+-0x17*-0x163]&&_0x1cbe6d[-0xda5+0xb40+0x267]===_0x515282[0x1410+-0x1*0x6cd+-0xd41]&&_0x1cbe6d[-0x752+0xba0+-0x44b]===_0x515282[0xb92*0x1+0x44b*0x4+0x1cbb*-0x1]&&_0x1cbe6d[0x65*-0x23+-0x1*0x1e24+0x2bf7]===_0x515282[0xa3*0x27+0x1cef+-0x35c0]&&_0x1cbe6d[0x26b*0x1+0x1b*0x162+-0x27bc]===_0x515282[0xa51*0x3+0x180b*-0x1+-0x1*0x6e3]&&_0x1cbe6d[-0x440+-0x53*0x23+0xf9f]===_0x515282[0xb76+-0x1d5c*-0x1+-0x28cc]&&_0x1cbe6d[-0x1*0x1dcb+0x5*0xb5+0x1a49]===_0x515282[0x2336+-0x5*0x611+-0x4da]&&_0x1cbe6d[0x152d+-0xf12*-0x1+-0x2437]===_0x515282[-0x1*0xb98+-0x1*0xa1a+0x1*0x15ba];}['isIdentity'](){const _0x1ebd39=this['data'];return _0x1ebd39[0x1*0x12b+-0xb78+0x125*0x9]===-0x8bb+-0x1193*0x1+-0x8c5*-0x3&&_0x1ebd39[-0xbe5+0x2c1*-0x7+-0x15b*-0x17]===0x1*0x23a6+0x1758+-0x12*0x347&&_0x1ebd39[0x1aa4+0x1ac1+-0xad*0x4f]===0x1*-0x283+0x1*0x1105+-0x741*0x2&&_0x1ebd39[0x1*0x1eec+0x221c+0x4105*-0x1]===0x58c+-0x3da+-0x1b2&&_0x1ebd39[0x12ad+-0x2*-0x287+-0xd*0x1d3]===-0xf63*0x1+0x135e+-0x3fa&&_0x1ebd39[0x21ab+0x1c*-0xe3+0x2*-0x469]===-0xfb2+0x5*0x20d+0x571&&_0x1ebd39[-0xcc+0x2468+-0x2396]===-0x612+0x44*0x8b+-0x2*0xf6d&&_0x1ebd39[-0x1117*-0x2+0x38b*0xb+-0x4920]===-0x3d2+0x4*-0x162+0x95a&&_0x1ebd39[0x2414+0xcaf+-0x5*0x9bf]===-0xc+-0x2e9*0x5+0xe9a;}['setIdentit'+'y'](){const _0x3e0de0=this['data'];return _0x3e0de0[0x118f+-0x1bea+0xa5b]=0x3*-0x8b7+-0x23c8+0x3dee,_0x3e0de0[0x83b*0x1+0xe38+0x1672*-0x1]=-0x65*0x2e+0x422+0xe04,_0x3e0de0[-0x17*-0xf3+-0x7*0x3f5+0x5e0]=-0x1e00*0x1+-0x594+0x2394,_0x3e0de0[-0x84f+0x20*-0x8+-0x2*-0x4a9]=-0x1*-0x18ef+0x2210+0x1*-0x3aff,_0x3e0de0[-0xe3*0x1d+-0x1130+0x2aeb]=-0x1d48+0xb02+-0x1247*-0x1,_0x3e0de0[-0x1ed1+-0x6d6+0x25ac]=0x1eb*-0x1+0x2bb*0xd+-0x2194,_0x3e0de0[-0x2*0x598+0x10a*0x20+-0x1*0x160a]=-0x878+0x920*0x1+-0xa8,_0x3e0de0[0x2378+0x19c4+0x3d35*-0x1]=-0x5b*-0x52+-0x11*0x46+-0x40*0x62,_0x3e0de0[-0x551*-0x4+-0x3ee+-0x2*0x8a7]=-0xde*0xa+-0x2667*-0x1+-0x2*0xedd,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x48331a=this){const _0x38fade=_0x48331a['data'],_0x30718b=this['data'];if(_0x38fade===_0x30718b){let _0x5dfe29;_0x5dfe29=_0x38fade[0x9fc+-0x7*-0x567+-0x2fcc],_0x30718b[-0x5bb+0x25*-0x47+0xfff*0x1]=_0x38fade[-0x2a*0x5+0x1*0x472+-0x39d],_0x30718b[0x40c+-0x1b65+0xbae*0x2]=_0x5dfe29,_0x5dfe29=_0x38fade[-0x2482+-0xa0b+0x2e8f*0x1],_0x30718b[0x8*-0xa8+-0x1ae3+0xab7*0x3]=_0x38fade[-0x6bb+0x1136+-0xa75],_0x30718b[0x1*-0xa59+-0x1699+0x14*0x1a6]=_0x5dfe29,_0x5dfe29=_0x38fade[0x18b5+-0x1*-0x1bd3+-0x3483],_0x30718b[0x1*0x1a4d+0x1fcf+-0x3a17]=_0x38fade[0x1e5d*0x1+0x1*-0xcf9+-0x115d],_0x30718b[0xa*-0x2ab+0x1*-0x1256+0x2d0b]=_0x5dfe29;}else _0x30718b[0x13d1+0x9fa+-0x1*0x1dcb]=_0x38fade[-0x12f+0x9*-0x9d+0x6b4],_0x30718b[-0xc87+-0xfca+0xa*0x2d5]=_0x38fade[-0x44e*0x9+0x4c1*-0x2+0x161*0x23],_0x30718b[0x23ae+-0x1e31+0x3d*-0x17]=_0x38fade[0x253*-0x1+-0x1a26+0x1c7f*0x1],_0x30718b[-0xc95*0x1+-0x623+0x7*0x2ad]=_0x38fade[-0xe0c+0x1564*0x1+-0x757],_0x30718b[0x1432+0x93*-0x21+0x5*-0x3f]=_0x38fade[-0x155e+-0x3f*-0x1+-0x1523*-0x1],_0x30718b[0x102f+-0x470+-0xbba]=_0x38fade[0xf6d+0xb3*0x10+-0x1a96],_0x30718b[0x148b+0x1*0x655+-0x2*0xd6d]=_0x38fade[0x709*0x4+0x25b9+0x17*-0x2dd],_0x30718b[-0x16c5+-0x1661*-0x1+0x6b]=_0x38fade[0x2*-0x8ba+0x231f+-0x11a6],_0x30718b[0x72f+-0x12d*-0x7+-0xf62]=_0x38fade[0x49*0x49+-0x5*0x721+0xedc];return this;}['setFromMat'+'4'](_0x12a3e0){const _0x26e05d=_0x12a3e0['data'],_0x5584a8=this['data'];return _0x5584a8[-0x17ea+0x47*0x1f+0x51b*0x3]=_0x26e05d[0x3*-0x41b+0xd66+-0x1*0x115],_0x5584a8[-0x115f*-0x1+0x5*-0x180+-0x9de]=_0x26e05d[0x12e6+-0x255c+0x1277],_0x5584a8[-0x141e+0x17*0xff+0x17*-0x1f]=_0x26e05d[-0x221e+-0x249f+0x1795*0x3],_0x5584a8[0xaa7+-0x1db9*0x1+0x1315]=_0x26e05d[0x16f1+0x8*0x4db+-0x3*0x1497],_0x5584a8[0x93f+0xc5d*-0x2+0xf7f]=_0x26e05d[-0x1e51+0x826+-0x2c6*-0x8],_0x5584a8[-0x16f*-0x8+0x65*-0x18+-0x1fb]=_0x26e05d[0x1*-0x16d5+-0x8b*0x2c+0x2ebf],_0x5584a8[-0xe*-0x1e+-0x10cc+0x1*0xf2e]=_0x26e05d[-0x2*0xb18+0x247f+0x5*-0x2db],_0x5584a8[0x1149+-0x1abc+0x4bd*0x2]=_0x26e05d[0xb*0x44+0x3*-0x2da+0x5ab],_0x5584a8[-0x1fe5+0x4f*0x52+0x71*0xf]=_0x26e05d[0x2*-0x7ef+-0x4*-0x1df+0x7*0x134],this;}['setFromQua'+'t'](_0x21c6e8){const _0x12895d=_0x21c6e8['x'],_0x524997=_0x21c6e8['y'],_0x5af60e=_0x21c6e8['z'],_0x11a232=_0x21c6e8['w'],_0x30c660=_0x12895d+_0x12895d,_0x2d1559=_0x524997+_0x524997,_0x5e32e4=_0x5af60e+_0x5af60e,_0x1efb50=_0x12895d*_0x30c660,_0xfec37=_0x12895d*_0x2d1559,_0x1b4cc0=_0x12895d*_0x5e32e4,_0x42fd72=_0x524997*_0x2d1559,_0x180368=_0x524997*_0x5e32e4,_0x1c77a3=_0x5af60e*_0x5e32e4,_0x5b5aaf=_0x11a232*_0x30c660,_0x2d1b19=_0x11a232*_0x2d1559,_0x5be8e4=_0x11a232*_0x5e32e4,_0xa8a441=this['data'];return _0xa8a441[0x69*-0x2+-0x9ed+0xabf]=-0x6*0x11a+-0x2b3*-0x1+0x3ea-(_0x42fd72+_0x1c77a3),_0xa8a441[0x302+-0x3b*0x5d+0x126e]=_0xfec37+_0x5be8e4,_0xa8a441[-0x1*0x2326+0x1f*0x13b+-0x2fd]=_0x1b4cc0-_0x2d1b19,_0xa8a441[0x67d+0x26b2+-0x2d2c]=_0xfec37-_0x5be8e4,_0xa8a441[-0xb92+-0x66d*-0x5+-0x148b]=0x2c*-0x12+0xae7+-0x1b*0x4a-(_0x1efb50+_0x1c77a3),_0xa8a441[0xc70+-0x2670+-0x1*-0x1a05]=_0x180368+_0x5b5aaf,_0xa8a441[0x1447+-0xa99*0x1+-0x9a8]=_0x1b4cc0+_0x2d1b19,_0xa8a441[-0x51c*-0x7+0x35*0x95+-0x4296]=_0x180368-_0x5b5aaf,_0xa8a441[-0x142a+0x249*0x1+0x11e9]=0x841+0x922+-0x1162-(_0x1efb50+_0x42fd72),this;}['invertMat4'](_0x1bf919){const _0x297d19=_0x1bf919['data'],_0x1a0f85=_0x297d19[0x1235+0xbf*0xe+0x32f*-0x9],_0x14d996=_0x297d19[-0xb02+0x6d*0x1a+0xf*-0x1],_0x197730=_0x297d19[-0x13*-0x1ea+0xb47*0x2+0x3aea*-0x1],_0x35a293=_0x297d19[0x1*0x6fe+-0x1acf*-0x1+0x9*-0x3c1],_0x1ccc9f=_0x297d19[-0x1*-0x1a8f+-0x2*0xe59+0x228],_0x3d3f66=_0x297d19[0x1d74+0xb2+-0x1e20],_0x43651f=_0x297d19[-0x1943*0x1+-0x39*-0x8a+-0x56f],_0x3f3f38=_0x297d19[0x38f*0x1+0x8e2+-0xc68],_0x5a2d85=_0x297d19[0x11f+-0x464+-0x4d*-0xb],_0x2cee5d=_0x5a2d85*_0x1ccc9f-_0x3d3f66*_0x3f3f38,_0x5833c8=-_0x5a2d85*_0x14d996+_0x197730*_0x3f3f38,_0x12f7b4=_0x3d3f66*_0x14d996-_0x197730*_0x1ccc9f,_0x36360b=-_0x5a2d85*_0x35a293+_0x3d3f66*_0x43651f,_0x4d0f5a=_0x5a2d85*_0x1a0f85-_0x197730*_0x43651f,_0x4607dd=-_0x3d3f66*_0x1a0f85+_0x197730*_0x35a293,_0x2b3b80=_0x3f3f38*_0x35a293-_0x1ccc9f*_0x43651f,_0x5a5b2a=-_0x3f3f38*_0x1a0f85+_0x14d996*_0x43651f,_0x9ed386=_0x1ccc9f*_0x1a0f85-_0x14d996*_0x35a293,_0x47206d=_0x1a0f85*_0x2cee5d+_0x14d996*_0x36360b+_0x197730*_0x2b3b80;if(_0x47206d===0xda2*-0x2+0x17b*0x6+0x1262)this['setIdentit'+'y']();else{const _0x5aa36d=(0x584+-0x1da9+0x1826)/_0x47206d,_0x115626=this['data'];_0x115626[-0xc4e+-0x1e74+-0x1a*-0x1a5]=_0x2cee5d*_0x5aa36d,_0x115626[0x1ec0+0x1c*0xe5+0x45*-0xcf]=_0x5833c8*_0x5aa36d,_0x115626[-0xb*-0x211+-0x1f57+-0x2*-0x44f]=_0x12f7b4*_0x5aa36d,_0x115626[-0x1*-0xceb+0x3*-0x9a5+0x1007]=_0x36360b*_0x5aa36d,_0x115626[0x1b94+-0x5d5+-0x15bb]=_0x4d0f5a*_0x5aa36d,_0x115626[0x59*0x6+-0x2*0x53+-0x16b]=_0x4607dd*_0x5aa36d,_0x115626[0x1d9a+0x12ab+0x1*-0x303f]=_0x2b3b80*_0x5aa36d,_0x115626[0x211a+-0x2a1*-0x5+-0x2e38]=_0x5a5b2a*_0x5aa36d,_0x115626[0x1441+0x6d*0x21+-0x2246]=_0x9ed386*_0x5aa36d;}return this;}['transformV'+'ector'](_0x31f282,_0x370502=new T()){const _0x256a33=this['data'],{x:_0x568705,y:_0x317b9c,z:_0x4b3892}=_0x31f282;return _0x370502['x']=_0x568705*_0x256a33[0x1b6e+-0xe2f+-0xd3f]+_0x317b9c*_0x256a33[0x8ac+0x2323+-0x2bcc]+_0x4b3892*_0x256a33[-0x1*-0x133+0x10db*-0x2+0x2089*0x1],_0x370502['y']=_0x568705*_0x256a33[0x5b+-0xb0b*0x1+0xab1]+_0x317b9c*_0x256a33[-0x7*0x397+-0x1dbd+0x36e2]+_0x4b3892*_0x256a33[0x1*-0xc1c+-0xceb*-0x1+-0x2*0x64],_0x370502['z']=_0x568705*_0x256a33[0x1*-0x7b5+-0x4c5*0x6+0x1*0x2455]+_0x317b9c*_0x256a33[0x1946+-0x1*-0x20f2+-0x3a33]+_0x4b3892*_0x256a33[-0x292+0x1d02+-0x1a68],_0x370502;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([0x31a+-0x198d*-0x1+-0x1ca7,0x1d51*-0x1+0x1ec6+-0x175,-0x12f9+-0xb3b+0x1e34,-0x7*0x38e+0x1ce7+-0x405,0x1ad4+-0x919+-0x11bb*0x1,0x1*-0x17f3+-0xb77*0x2+0x2ee1,0x62e+-0xc44+0x616,-0x1b62+0xb93+-0x47*-0x39,-0x2220+0x1*-0x22a9+0x44c9])));let js=na;const wt=class wt{constructor(_0x147174=0x1*-0x192f+0xc73*0x1+0xcbc,_0x31d975=-0x219a+0x49*-0x57+0x3a69){c(this,'x'),c(this,'y'),_0x147174['length']===0x4a1+0x1946+0x1*-0x1de5?(this['x']=_0x147174[-0x240f+-0x1960+-0x3d6f*-0x1],this['y']=_0x147174[-0xee2+0x1476+-0x593]):(this['x']=_0x147174,this['y']=_0x31d975);}['add'](_0x303287){return this['x']+=_0x303287['x'],this['y']+=_0x303287['y'],this;}['add2'](_0x48e1ba,_0x43cd1b){return this['x']=_0x48e1ba['x']+_0x43cd1b['x'],this['y']=_0x48e1ba['y']+_0x43cd1b['y'],this;}['addScalar'](_0x23f649){return this['x']+=_0x23f649,this['y']+=_0x23f649,this;}['addScaled'](_0x4516a1,_0x1c7b33){return this['x']+=_0x4516a1['x']*_0x1c7b33,this['y']+=_0x4516a1['y']*_0x1c7b33,this;}['clone'](){const _0x19723b=this['constructo'+'r'];return new _0x19723b(this['x'],this['y']);}['copy'](_0x116098){return this['x']=_0x116098['x'],this['y']=_0x116098['y'],this;}['cross'](_0x2cb09a){return this['x']*_0x2cb09a['y']-this['y']*_0x2cb09a['x'];}['distance'](_0x53fc4d){const _0x76586b=this['x']-_0x53fc4d['x'],_0x12b45c=this['y']-_0x53fc4d['y'];return Math['sqrt'](_0x76586b*_0x76586b+_0x12b45c*_0x12b45c);}['div'](_0x1b1dbb){return this['x']/=_0x1b1dbb['x'],this['y']/=_0x1b1dbb['y'],this;}['div2'](_0x4a769d,_0x35619f){return this['x']=_0x4a769d['x']/_0x35619f['x'],this['y']=_0x4a769d['y']/_0x35619f['y'],this;}['divScalar'](_0x2377df){return this['x']/=_0x2377df,this['y']/=_0x2377df,this;}['dot'](_0x23107b){return this['x']*_0x23107b['x']+this['y']*_0x23107b['y'];}['equals'](_0x36d841){return this['x']===_0x36d841['x']&&this['y']===_0x36d841['y'];}['equalsAppr'+'ox'](_0x4cccb8,_0x3f7539=0x77*-0x44+0x151*0x9+-0x1*-0x13c3+0.000001){return Math['abs'](this['x']-_0x4cccb8['x'])<_0x3f7539&&Math['abs'](this['y']-_0x4cccb8['y'])<_0x3f7539;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x494939,_0x117eb4,_0x4487c6){return this['x']=_0x494939['x']+_0x4487c6*(_0x117eb4['x']-_0x494939['x']),this['y']=_0x494939['y']+_0x4487c6*(_0x117eb4['y']-_0x494939['y']),this;}['mul'](_0x7ffc30){return this['x']*=_0x7ffc30['x'],this['y']*=_0x7ffc30['y'],this;}['mul2'](_0x5ca77,_0x2e8a4f){return this['x']=_0x5ca77['x']*_0x2e8a4f['x'],this['y']=_0x5ca77['y']*_0x2e8a4f['y'],this;}['mulScalar'](_0xa2476){return this['x']*=_0xa2476,this['y']*=_0xa2476,this;}['normalize'](_0x5cbee4=this){const _0x1a40e3=_0x5cbee4['x']*_0x5cbee4['x']+_0x5cbee4['y']*_0x5cbee4['y'];if(_0x1a40e3>0x43a+0x3*0x69d+0x65*-0x3d){const _0x5d2273=(0x165d+-0x11db+-0x481)/Math['sqrt'](_0x1a40e3);this['x']=_0x5cbee4['x']*_0x5d2273,this['y']=_0x5cbee4['y']*_0x5d2273;}return this;}['rotate'](_0x44ee6c){const _0x1bbe83=Math['atan2'](this['x'],this['y'])+_0x44ee6c*N['DEG_TO_RAD'],_0x25d9f6=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x1bbe83)*_0x25d9f6,this['y']=Math['cos'](_0x1bbe83)*_0x25d9f6,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0xfcf422){return Math['atan2'](this['x']*_0xfcf422['y']+this['y']*_0xfcf422['x'],this['x']*_0xfcf422['x']+this['y']*_0xfcf422['y'])*N['RAD_TO_DEG'];}['floor'](_0x310cb2=this){return this['x']=Math['floor'](_0x310cb2['x']),this['y']=Math['floor'](_0x310cb2['y']),this;}['ceil'](_0x433ebd=this){return this['x']=Math['ceil'](_0x433ebd['x']),this['y']=Math['ceil'](_0x433ebd['y']),this;}['round'](_0x1a0d59=this){return this['x']=Math['round'](_0x1a0d59['x']),this['y']=Math['round'](_0x1a0d59['y']),this;}['min'](_0x481761){return _0x481761['x']<this['x']&&(this['x']=_0x481761['x']),_0x481761['y']<this['y']&&(this['y']=_0x481761['y']),this;}['max'](_0x4ce7ba){return _0x4ce7ba['x']>this['x']&&(this['x']=_0x4ce7ba['x']),_0x4ce7ba['y']>this['y']&&(this['y']=_0x4ce7ba['y']),this;}['set'](_0x3d5ee6,_0x387b0e){return this['x']=_0x3d5ee6,this['y']=_0x387b0e,this;}['sub'](_0x40b10b){return this['x']-=_0x40b10b['x'],this['y']-=_0x40b10b['y'],this;}['sub2'](_0x21b364,_0x4b97e7){return this['x']=_0x21b364['x']-_0x4b97e7['x'],this['y']=_0x21b364['y']-_0x4b97e7['y'],this;}['subScalar'](_0x51068f){return this['x']-=_0x51068f,this['y']-=_0x51068f,this;}['fromArray'](_0x4e8926,_0x585cc7=0x1555+0xd15+0xa*-0x371){return this['x']=_0x4e8926[_0x585cc7]??this['x'],this['y']=_0x4e8926[_0x585cc7+(-0x24b2+0x3*0x883+0xb2a)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x2f8b77=[],_0x596b23=-0x84b*-0x3+0x20b4+-0x3995){return _0x2f8b77[_0x596b23]=this['x'],_0x2f8b77[_0x596b23+(0x320+0x114f+0xa37*-0x2)]=this['y'],_0x2f8b77;}static['angleRad'](_0x2359aa,_0x1d03e6){return Math['atan2'](_0x2359aa['x']*_0x1d03e6['y']-_0x2359aa['y']*_0x1d03e6['x'],_0x2359aa['x']*_0x1d03e6['x']+_0x2359aa['y']*_0x1d03e6['y']);}};c(wt,'ZERO',Object['freeze'](new wt(0x94c+0x9fe+-0x134a,-0x2104+0x51*-0x5d+0x3e71))),c(wt,'HALF',Object['freeze'](new wt(0xff*0x1f+0x26e1+-0x45c2+0.5,0xf95+-0x1*0x64d+-0x948+0.5))),c(wt,'ONE',Object['freeze'](new wt(0x17d5*0x1+0x13c5+-0x1*0x2b99,0x1987+-0x9b2+-0x3f5*0x4))),c(wt,'UP',Object['freeze'](new wt(-0x6*-0x6e+-0x20de+0x1e4a,0x22e0+0x2*-0xd76+-0x7f3))),c(wt,'DOWN',Object['freeze'](new wt(-0xeef*0x1+-0x2182+0x3071*0x1,-(0x50*0x8+0x984+-0xc03)))),c(wt,'RIGHT',Object['freeze'](new wt(-0x1*-0x102+-0x577*0x1+-0x476*-0x1,-0xd5*-0x3+-0xbed+0x96e))),c(wt,'LEFT',Object['freeze'](new wt(-(-0x1bd6+-0xb*0x24d+0x3526),-0x23*-0xad+-0x24b3+-0x5*-0x29c)));let W=wt;const Yi=class Yi{constructor(_0x1ee3aa=0x1972*0x1+-0xdca+-0xba8,_0x302519=-0x71f*-0x4+-0x2467+0x7eb,_0xe3dd5c=0xe9f+0x12e4+-0x17*0x175,_0x2e73e6=-0x15c7+-0xca*0x11+0x21*0x111){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1ee3aa['length']===0xab1*-0x1+0x71f+0x396?(this['x']=_0x1ee3aa[-0x10*0x2+-0x1*-0x23b0+-0x4*0x8e4],this['y']=_0x1ee3aa[0xef*-0xb+0x13ef+0x9a9*-0x1],this['z']=_0x1ee3aa[0x10d4+0x2cf*-0x7+-0x1*-0x2d7],this['w']=_0x1ee3aa[0xc94+0x1203+-0x1e94]):(this['x']=_0x1ee3aa,this['y']=_0x302519,this['z']=_0xe3dd5c,this['w']=_0x2e73e6);}['add'](_0xef2337){return this['x']+=_0xef2337['x'],this['y']+=_0xef2337['y'],this['z']+=_0xef2337['z'],this['w']+=_0xef2337['w'],this;}['add2'](_0x2b0e98,_0x361b9d){return this['x']=_0x2b0e98['x']+_0x361b9d['x'],this['y']=_0x2b0e98['y']+_0x361b9d['y'],this['z']=_0x2b0e98['z']+_0x361b9d['z'],this['w']=_0x2b0e98['w']+_0x361b9d['w'],this;}['addScalar'](_0x4d8790){return this['x']+=_0x4d8790,this['y']+=_0x4d8790,this['z']+=_0x4d8790,this['w']+=_0x4d8790,this;}['addScaled'](_0xb2035b,_0x5a4b26){return this['x']+=_0xb2035b['x']*_0x5a4b26,this['y']+=_0xb2035b['y']*_0x5a4b26,this['z']+=_0xb2035b['z']*_0x5a4b26,this['w']+=_0xb2035b['w']*_0x5a4b26,this;}['clone'](){const _0x2eea03=this['constructo'+'r'];return new _0x2eea03(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x14a873){return this['x']=_0x14a873['x'],this['y']=_0x14a873['y'],this['z']=_0x14a873['z'],this['w']=_0x14a873['w'],this;}['div'](_0x37270e){return this['x']/=_0x37270e['x'],this['y']/=_0x37270e['y'],this['z']/=_0x37270e['z'],this['w']/=_0x37270e['w'],this;}['div2'](_0x484f10,_0x3a5282){return this['x']=_0x484f10['x']/_0x3a5282['x'],this['y']=_0x484f10['y']/_0x3a5282['y'],this['z']=_0x484f10['z']/_0x3a5282['z'],this['w']=_0x484f10['w']/_0x3a5282['w'],this;}['divScalar'](_0x4eee9f){return this['x']/=_0x4eee9f,this['y']/=_0x4eee9f,this['z']/=_0x4eee9f,this['w']/=_0x4eee9f,this;}['dot'](_0xc66bcd){return this['x']*_0xc66bcd['x']+this['y']*_0xc66bcd['y']+this['z']*_0xc66bcd['z']+this['w']*_0xc66bcd['w'];}['equals'](_0x33ecea){return this['x']===_0x33ecea['x']&&this['y']===_0x33ecea['y']&&this['z']===_0x33ecea['z']&&this['w']===_0x33ecea['w'];}['equalsAppr'+'ox'](_0x180480,_0x4021ac=0xd3f+0x11f9+0x3*-0xa68+0.000001){return Math['abs'](this['x']-_0x180480['x'])<_0x4021ac&&Math['abs'](this['y']-_0x180480['y'])<_0x4021ac&&Math['abs'](this['z']-_0x180480['z'])<_0x4021ac&&Math['abs'](this['w']-_0x180480['w'])<_0x4021ac;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x5f4374,_0x3c119a,_0x4ac7bf){return this['x']=_0x5f4374['x']+_0x4ac7bf*(_0x3c119a['x']-_0x5f4374['x']),this['y']=_0x5f4374['y']+_0x4ac7bf*(_0x3c119a['y']-_0x5f4374['y']),this['z']=_0x5f4374['z']+_0x4ac7bf*(_0x3c119a['z']-_0x5f4374['z']),this['w']=_0x5f4374['w']+_0x4ac7bf*(_0x3c119a['w']-_0x5f4374['w']),this;}['mul'](_0xbb1e51){return this['x']*=_0xbb1e51['x'],this['y']*=_0xbb1e51['y'],this['z']*=_0xbb1e51['z'],this['w']*=_0xbb1e51['w'],this;}['mul2'](_0x350c,_0x230cae){return this['x']=_0x350c['x']*_0x230cae['x'],this['y']=_0x350c['y']*_0x230cae['y'],this['z']=_0x350c['z']*_0x230cae['z'],this['w']=_0x350c['w']*_0x230cae['w'],this;}['mulScalar'](_0xadb95d){return this['x']*=_0xadb95d,this['y']*=_0xadb95d,this['z']*=_0xadb95d,this['w']*=_0xadb95d,this;}['normalize'](_0x37769e=this){const _0x482cf2=_0x37769e['x']*_0x37769e['x']+_0x37769e['y']*_0x37769e['y']+_0x37769e['z']*_0x37769e['z']+_0x37769e['w']*_0x37769e['w'];if(_0x482cf2>-0x1085+0x92*0x5+-0xdab*-0x1){const _0x573c67=(-0x21c+0x5ae+-0x391)/Math['sqrt'](_0x482cf2);this['x']=_0x37769e['x']*_0x573c67,this['y']=_0x37769e['y']*_0x573c67,this['z']=_0x37769e['z']*_0x573c67,this['w']=_0x37769e['w']*_0x573c67;}return this;}['floor'](_0x236b78=this){return this['x']=Math['floor'](_0x236b78['x']),this['y']=Math['floor'](_0x236b78['y']),this['z']=Math['floor'](_0x236b78['z']),this['w']=Math['floor'](_0x236b78['w']),this;}['ceil'](_0x449d8b=this){return this['x']=Math['ceil'](_0x449d8b['x']),this['y']=Math['ceil'](_0x449d8b['y']),this['z']=Math['ceil'](_0x449d8b['z']),this['w']=Math['ceil'](_0x449d8b['w']),this;}['round'](_0x5860cd=this){return this['x']=Math['round'](_0x5860cd['x']),this['y']=Math['round'](_0x5860cd['y']),this['z']=Math['round'](_0x5860cd['z']),this['w']=Math['round'](_0x5860cd['w']),this;}['min'](_0x36d1bb){return _0x36d1bb['x']<this['x']&&(this['x']=_0x36d1bb['x']),_0x36d1bb['y']<this['y']&&(this['y']=_0x36d1bb['y']),_0x36d1bb['z']<this['z']&&(this['z']=_0x36d1bb['z']),_0x36d1bb['w']<this['w']&&(this['w']=_0x36d1bb['w']),this;}['max'](_0x23cd54){return _0x23cd54['x']>this['x']&&(this['x']=_0x23cd54['x']),_0x23cd54['y']>this['y']&&(this['y']=_0x23cd54['y']),_0x23cd54['z']>this['z']&&(this['z']=_0x23cd54['z']),_0x23cd54['w']>this['w']&&(this['w']=_0x23cd54['w']),this;}['set'](_0x201d30,_0x13bb7f,_0x4bfc80,_0x495183){return this['x']=_0x201d30,this['y']=_0x13bb7f,this['z']=_0x4bfc80,this['w']=_0x495183,this;}['sub'](_0x7109cc){return this['x']-=_0x7109cc['x'],this['y']-=_0x7109cc['y'],this['z']-=_0x7109cc['z'],this['w']-=_0x7109cc['w'],this;}['sub2'](_0x1a2e60,_0x31884e){return this['x']=_0x1a2e60['x']-_0x31884e['x'],this['y']=_0x1a2e60['y']-_0x31884e['y'],this['z']=_0x1a2e60['z']-_0x31884e['z'],this['w']=_0x1a2e60['w']-_0x31884e['w'],this;}['subScalar'](_0x296593){return this['x']-=_0x296593,this['y']-=_0x296593,this['z']-=_0x296593,this['w']-=_0x296593,this;}['fromArray'](_0x308fe3,_0x426c8e=0x2059+-0x45b+-0x1bfe){return this['x']=_0x308fe3[_0x426c8e]??this['x'],this['y']=_0x308fe3[_0x426c8e+(0x5ff+0x1f6a+-0x2568)]??this['y'],this['z']=_0x308fe3[_0x426c8e+(-0xf*0x265+-0x26f9+0x4ae6)]??this['z'],this['w']=_0x308fe3[_0x426c8e+(-0xc81+0x1956+-0x6*0x223)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0xb433d=[],_0xcad769=-0xbb1+0x1bbb*-0x1+-0xae*-0x3a){return _0xb433d[_0xcad769]=this['x'],_0xb433d[_0xcad769+(-0x1*0x687+-0x588+0x10*0xc1)]=this['y'],_0xb433d[_0xcad769+(-0x64a+-0x5f*0x47+0x3d*0x89)]=this['z'],_0xb433d[_0xcad769+(-0x65*0x29+0x17fc+0x1*-0x7cc)]=this['w'],_0xb433d;}};c(Yi,'ZERO',Object['freeze'](new Yi(-0xb*-0x37c+-0x118c+-0x14c8,-0x1ef3+-0xae5+0x67*0x68,-0x1*-0xbb1+-0x1*-0xe6e+-0x1a1f,0x268d+0x1*0x1afd+-0x20c5*0x2))),c(Yi,'HALF',Object['freeze'](new Yi(0x6e7*-0x1+0x1288*0x1+0xd*-0xe5+0.5,0x1*-0x1101+0x2*-0x18e+0x141d+0.5,-0x5b6*-0x1+-0x1502+0xf4c+0.5,0x55*-0x2+-0x1*-0x1051+0xfa7*-0x1+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(0x1693*-0x1+-0x16f7*-0x1+0xb*-0x9,-0x18f3*0x1+0x1063+0x81*0x11,-0x24a0+-0x1628+0x3ac9*0x1,0x732+0xa2d+0xea*-0x13)));let Q=Yi;const Ua=new W(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0x212f+0xffe+-0x311d)),this['data'][-0xdc4+0x3b9*0x7+-0xc4b]=this['data'][0x2*-0x1c+-0x2610+-0xb9*-0x35]=this['data'][-0x51*0x53+0x2*0x5c2+-0x5*-0x2f5]=this['data'][0x78c*0x2+-0xdd1+0x4*-0x4e]=0x49*0x33+0x581+-0x140b;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x11579f,_0x38f566,_0x43dfc5,_0x492222,_0x4d1bd1){_0x4d1bd1?(_0x11579f['x']=_0x492222*Math['tan'](_0x38f566*Math['PI']/(-0x16cc+0x374+0x14c0)),_0x11579f['y']=_0x11579f['x']/_0x43dfc5):(_0x11579f['y']=_0x492222*Math['tan'](_0x38f566*Math['PI']/(-0xdfb+0x13b*-0x7+0x1800)),_0x11579f['x']=_0x11579f['y']*_0x43dfc5);}['add2'](_0x420e06,_0x31c733){const _0x3dac42=_0x420e06['data'],_0x3c2877=_0x31c733['data'],_0x32d490=this['data'];return _0x32d490[0x1f2d+0x61*0xa+-0x22f7*0x1]=_0x3dac42[0xe48+-0x16*-0x61+-0x5*0x486]+_0x3c2877[-0x18*-0x59+0x61*0x13+-0xf8b],_0x32d490[-0xdc5+-0x2ef+-0xd*-0x149]=_0x3dac42[0x1*-0x248c+-0x1473+0x3900]+_0x3c2877[-0x132+0x11*-0x144+0x5*0x48b],_0x32d490[-0x5f*-0x17+0x7ca+-0x1051]=_0x3dac42[0x3d7*0x2+0x599*0x6+-0x2942]+_0x3c2877[-0x1*0x1bf7+-0xfb5*0x2+-0x17*-0x295],_0x32d490[-0x8dd+0x395*-0x7+0x21f3]=_0x3dac42[-0x4*0x54a+0x5*-0x21+0xae8*0x2]+_0x3c2877[0x1*0x1e47+0x1a89+0x6f*-0x83],_0x32d490[-0x1*0x9e1+-0x12b6+0x1c9b]=_0x3dac42[0x1e98+0x43*-0x47+-0x53*0x25]+_0x3c2877[-0x1dca+-0x29*0x80+0x324e],_0x32d490[0x9f3+0xe*-0x213+0x4c7*0x4]=_0x3dac42[-0x1492+-0x218e+0x3625]+_0x3c2877[-0xd9+0x1f17+-0x1e39],_0x32d490[0x1758+0x3*-0x20+0x216*-0xb]=_0x3dac42[0xa7*0xb+-0x120e+-0xae7*-0x1]+_0x3c2877[0x92+-0x2f*0xf+0x235],_0x32d490[0x497*0x1+0x2406+-0x2896]=_0x3dac42[0x20b*0x10+-0x41*0x59+0x17*-0x70]+_0x3c2877[0x1*0x128a+-0x44*0x5d+0x1*0x631],_0x32d490[0x371*-0x3+0x6ec*0x2+-0x37d]=_0x3dac42[0x133a*0x2+0x686+0xb*-0x416]+_0x3c2877[0x1ef9+-0x24df+0x5ee],_0x32d490[0x109*0x5+0x2*0x205+0x32*-0x2f]=_0x3dac42[0x4eb*0x3+0xb4*0x2+-0x1020]+_0x3c2877[0x1d91+-0x1816+0x2*-0x2b9],_0x32d490[0x1e*0x88+0x4*0x2c5+0x1afa*-0x1]=_0x3dac42[0x31a*-0x8+0x4*0x2f1+0xd16]+_0x3c2877[-0x1bc+0x2*-0x673+0xeac*0x1],_0x32d490[0x1553*0x1+0x1*0x267b+-0x3bc3]=_0x3dac42[0x39b*0x5+0xb67+-0x1d63]+_0x3c2877[-0x15d*-0x6+-0xd16+0x4f3],_0x32d490[-0x12c1+-0xb73+0x1e40*0x1]=_0x3dac42[-0x1*-0x17ae+0x10f9+-0x289b]+_0x3c2877[-0x1*-0x1b25+0x34+-0x1*0x1b4d],_0x32d490[0x130a+0x7*0x2e6+0x5*-0x7db]=_0x3dac42[0x5*0x1b5+-0x763+-0x119*0x1]+_0x3c2877[-0xc89*-0x1+0x93b+-0x6d*0x33],_0x32d490[0x1606+0x2605*0x1+-0x3bfd]=_0x3dac42[0xbac*0x1+0x988+-0x1526]+_0x3c2877[-0x73*0x23+-0x1730+0x26f7],_0x32d490[0x1a46+0xb*0xdf+-0x8f3*0x4]=_0x3dac42[0x1*-0x14d1+-0x456+0x1936]+_0x3c2877[0x1*0x1682+0xc05*0x2+-0xf7f*0x3],this;}['add'](_0x5837cb){return this['add2'](this,_0x5837cb);}['clone'](){const _0x3fc908=this['constructo'+'r'];return new _0x3fc908()['copy'](this);}['copy'](_0x410847){const _0x1ea9c5=_0x410847['data'],_0x79bb1d=this['data'];return _0x79bb1d[-0x1afe+-0x1537+0x11f*0x2b]=_0x1ea9c5[0x36a*0x7+-0x4*-0x82d+-0x12de*0x3],_0x79bb1d[0x5*-0x22b+0x742+0x396*0x1]=_0x1ea9c5[0x4c*-0x6c+-0x2324+-0xd71*-0x5],_0x79bb1d[-0x16eb*-0x1+0xb6f*-0x3+0x2*0x5b2]=_0x1ea9c5[0xf2a+-0x24cb+0x15a3*0x1],_0x79bb1d[0x2259*-0x1+-0x26a6+0x4902]=_0x1ea9c5[-0x1*-0xe35+0x25*-0x13+-0xb73],_0x79bb1d[-0x20d9+-0x377+0x2454]=_0x1ea9c5[-0x1*-0xe8f+0x13*-0x11+-0xd48],_0x79bb1d[-0x6*-0x65b+-0x1*0x36f+0x2*-0x1157]=_0x1ea9c5[-0x1*0x11b+-0x23c6+0x1273*0x2],_0x79bb1d[-0x659+-0x23cd+0x1516*0x2]=_0x1ea9c5[-0x520*-0x4+-0x1ba0+0x726],_0x79bb1d[0x18e5+-0x12f5+0x59*-0x11]=_0x1ea9c5[-0x1325+-0x7ae+0x2*0xd6d],_0x79bb1d[-0x3d7+-0x1910+0x1cef]=_0x1ea9c5[0x2478+-0x1728+-0xd48],_0x79bb1d[-0x25c0+0x4*0x5b2+-0xa7*-0x17]=_0x1ea9c5[0x3f*-0x60+-0x299+0x1a42],_0x79bb1d[0xec0+-0x2*-0x37c+-0x1*0x15ae]=_0x1ea9c5[-0xda6+-0x5a8+0x26b*0x8],_0x79bb1d[0x2b*-0x85+0x13ef+0xb*0x39]=_0x1ea9c5[-0x5ae*-0x1+-0x286*-0x3+-0x93*0x17],_0x79bb1d[0x13*-0x14b+0x17ca+0x1*0xd3]=_0x1ea9c5[-0xec6*0x1+-0x49*0x35+0x1def],_0x79bb1d[-0x1fd4*0x1+-0x28+0x2009]=_0x1ea9c5[-0xe9*-0x1d+0x2544+-0x3f9c],_0x79bb1d[0x3cd+-0x1*0x171d+0x135e]=_0x1ea9c5[-0x1d18*-0x1+-0xda7+-0x65*0x27],_0x79bb1d[0x599*-0x3+-0x151c+-0x1*-0x25f6]=_0x1ea9c5[-0x167b+0x225d+-0xbd3],this;}['equals'](_0x1c3948){const _0x39e067=this['data'],_0x50ab1e=_0x1c3948['data'];return _0x39e067[-0x1*0x239f+-0x1*-0xe0b+0x1594]===_0x50ab1e[0x14*0x7c+-0x1*-0x7cf+-0x5d5*0x3]&&_0x39e067[0x10bf+-0x597+0x1*-0xb27]===_0x50ab1e[-0x20ad+-0xe66+0x2f14]&&_0x39e067[-0x2431+-0x32*-0x2a+0x1bff]===_0x50ab1e[-0x1140+-0x1854+-0x2996*-0x1]&&_0x39e067[-0x1*0x115b+0x24c3+0xf*-0x14b]===_0x50ab1e[0x6*0x322+-0x10bb+0x1*-0x20e]&&_0x39e067[-0x121*-0x11+-0x73*0x3+-0x11d4]===_0x50ab1e[0x592+-0x5*0x2db+0x8b9]&&_0x39e067[-0x1*0x91c+-0xf00+0x1821]===_0x50ab1e[-0x3cc+-0xc5*0x31+0x2*0x14c3]&&_0x39e067[-0x1db+-0xb01*0x2+0x1*0x17e3]===_0x50ab1e[0x4bd+-0x15ff+0x1148]&&_0x39e067[-0xd9*-0x1d+-0x76d*-0x4+0x3*-0x1216]===_0x50ab1e[-0x1e2+-0x4b8*-0x2+0x29*-0x2f]&&_0x39e067[0x17d0+-0x172b+-0x9d]===_0x50ab1e[0x34c*0x4+-0x43*-0x44+-0x1ef4*0x1]&&_0x39e067[-0x1716+0xec8+0x857]===_0x50ab1e[-0x1f76+0x219f+-0x8*0x44]&&_0x39e067[0x1e62+0xa19+0x33*-0xcb]===_0x50ab1e[-0x2530+0x13*-0xbf+0x3367]&&_0x39e067[0x2353+0x2*-0x7d5+-0x139e]===_0x50ab1e[0x233a+0x1*-0x134b+-0xfe4]&&_0x39e067[0x25*-0x23+-0x70*0x9+-0x1cf*-0x5]===_0x50ab1e[0x1f59+0x9f1*0x2+-0x1*0x332f]&&_0x39e067[0x2*-0x68a+-0x1ced+0x2a0e]===_0x50ab1e[-0x1af5+0xc9a+0xe68]&&_0x39e067[-0x290+-0x31f*0x2+0x54*0x1b]===_0x50ab1e[0x3f5*-0x2+-0x21fc+0x29f4]&&_0x39e067[0x10*-0x1f6+0xcbb+-0x12*-0x10a]===_0x50ab1e[0x253f+-0x737*-0x1+-0x2c67];}['isIdentity'](){const _0x6fcbf0=this['data'];return _0x6fcbf0[-0x6a7*-0x4+0xaac+-0x8*0x4a9]===0x1*-0x45d+-0xd*-0x105+-0x8e3&&_0x6fcbf0[0x11*-0x169+0x1317+0x4e3]===0x1634+0x239c+-0x39d0&&_0x6fcbf0[0x2626+-0x1*0x12eb+-0x1339]===-0x1571*-0x1+0x767+-0x1cd8&&_0x6fcbf0[0x49*0x7f+0xed*0x5+-0x28d5]===-0x1*0x166b+0x100d*-0x1+0x2678&&_0x6fcbf0[-0x5e*0xe+0x3e*0x37+-0x82a]===0x10c2+-0x1*-0x13be+-0x2480&&_0x6fcbf0[-0x22ed+0x2*0x839+-0x10*-0x128]===-0x9d+-0x53d*0x7+0x2549&&_0x6fcbf0[0x89*0x1d+0xbd7+-0x1b56]===-0x1*-0x4f3+-0x301*-0x1+-0x7f4&&_0x6fcbf0[0x1b*-0xd0+0x1*-0x2e3+-0xc6d*-0x2]===-0x85a*-0x2+-0x215a+0x853*0x2&&_0x6fcbf0[0xf7d+0x61*-0x41+0x24b*0x4]===0xa6+-0x1fd5+0x1f2f&&_0x6fcbf0[0x1b7a*0x1+-0x1c6b+0xfa]===0x7a3*0x2+0x14a8+-0x23ee&&_0x6fcbf0[-0x1e29+-0xd*-0x29b+0x2f*-0x14]===0x1*-0x14fe+0x20a2+-0x3*0x3e1&&_0x6fcbf0[-0x46f*-0x1+0xe3f+-0x12a3]===-0x17b9+-0x43*0x35+0x2598&&_0x6fcbf0[0xe56+0x26e+-0x2*0x85c]===-0x585+0x3*-0x1c6+0x22b*0x5&&_0x6fcbf0[0x3*-0x151+-0x2*-0x1276+0x31*-0xac]===0x25*-0xcb+-0x18d+0x1ee4&&_0x6fcbf0[0x545+0x22f1+-0xa*0x404]===0x1115*-0x1+0x46e+0xca7&&_0x6fcbf0[0x6*-0xc0+0x602*0x4+-0x5*0x3e5]===-0x1*-0x21cb+-0x2285+-0xbb*-0x1;}['mul2'](_0x2bdded,_0x2f823){const _0x18e5da=_0x2bdded['data'],_0x259da2=_0x2f823['data'],_0x1eaf1a=this['data'],_0x3f78de=_0x18e5da[-0x1d8*-0x7+-0x1e6d+0x1185],_0x79a1d0=_0x18e5da[-0x504+-0xa2e*-0x2+-0xf57],_0x1dff28=_0x18e5da[0x2*0x95+-0xd*-0x10f+-0xeeb],_0x2f0b72=_0x18e5da[0x2*0xb02+-0x6*-0x34c+-0x29c9],_0x53180f=_0x18e5da[0x1c4c*0x1+0x64*-0x51+0x35c],_0x4a2889=_0x18e5da[-0x64+-0x13a6+0x140f],_0x5a6eb7=_0x18e5da[-0xdc2*0x1+0x2340+-0x1578],_0x3817d0=_0x18e5da[-0xf+0xb*-0x2a5+0x1d2d*0x1],_0xdbc7dd=_0x18e5da[-0x2*-0x929+0x1035+-0x227f],_0x5be132=_0x18e5da[0x1e85+0x2324+-0x1*0x41a0],_0x2a0193=_0x18e5da[-0x535*0x1+0x744+-0x205],_0x3fa587=_0x18e5da[-0x22f5+0x1386+-0x236*-0x7],_0x296bae=_0x18e5da[-0x1*-0x2543+-0x39a+-0x219d],_0x5caa1b=_0x18e5da[-0x24e9*-0x1+-0x86*0x32+-0x72*0x18],_0x4da42e=_0x18e5da[-0x349*-0x5+-0x12f7+0x298],_0x464d37=_0x18e5da[-0x67*-0x35+-0x7*-0x3b+-0x16e1*0x1];let _0x49a0c8,_0x591e76,_0x52d3d5,_0xf136a1;return _0x49a0c8=_0x259da2[0x1*-0x10bb+0x1acc+-0x1*0xa11],_0x591e76=_0x259da2[-0x1*0x1f5a+-0x30a*0x3+0x2879],_0x52d3d5=_0x259da2[0x2*-0x6d5+0x2477+-0x3*0x799],_0xf136a1=_0x259da2[-0xe*0x248+-0x8*0x373+0x3b8b],_0x1eaf1a[-0x1e60+-0x1ded+0x167*0x2b]=_0x3f78de*_0x49a0c8+_0x53180f*_0x591e76+_0xdbc7dd*_0x52d3d5+_0x296bae*_0xf136a1,_0x1eaf1a[0x1*-0x21c7+-0x656+-0x4f*-0x82]=_0x79a1d0*_0x49a0c8+_0x4a2889*_0x591e76+_0x5be132*_0x52d3d5+_0x5caa1b*_0xf136a1,_0x1eaf1a[-0x14b7*-0x1+-0x3*0x49d+-0x6de]=_0x1dff28*_0x49a0c8+_0x5a6eb7*_0x591e76+_0x2a0193*_0x52d3d5+_0x4da42e*_0xf136a1,_0x1eaf1a[-0x2261+0x1c02+0x662]=_0x2f0b72*_0x49a0c8+_0x3817d0*_0x591e76+_0x3fa587*_0x52d3d5+_0x464d37*_0xf136a1,_0x49a0c8=_0x259da2[0x11e8+0x4*0x2d3+-0x1d30],_0x591e76=_0x259da2[0x1*-0x7eb+-0x33b+-0x3b9*-0x3],_0x52d3d5=_0x259da2[-0x1f82+-0x3f9*-0x2+0x2*0xbcb],_0xf136a1=_0x259da2[0xd9*0x9+-0x2328+0x1b8e],_0x1eaf1a[-0x119*0x3+0xe4f+-0xb00]=_0x3f78de*_0x49a0c8+_0x53180f*_0x591e76+_0xdbc7dd*_0x52d3d5+_0x296bae*_0xf136a1,_0x1eaf1a[-0x1*0x3ef+-0x1*-0x526+0x2*-0x99]=_0x79a1d0*_0x49a0c8+_0x4a2889*_0x591e76+_0x5be132*_0x52d3d5+_0x5caa1b*_0xf136a1,_0x1eaf1a[-0x3da*0x6+0xbde+0xb44]=_0x1dff28*_0x49a0c8+_0x5a6eb7*_0x591e76+_0x2a0193*_0x52d3d5+_0x4da42e*_0xf136a1,_0x1eaf1a[0x4*-0xcd+0x20e3+-0x1a*0x124]=_0x2f0b72*_0x49a0c8+_0x3817d0*_0x591e76+_0x3fa587*_0x52d3d5+_0x464d37*_0xf136a1,_0x49a0c8=_0x259da2[-0x1580+0x17c9+-0x241*0x1],_0x591e76=_0x259da2[-0x903*-0x3+0xf8b+-0x2a8b*0x1],_0x52d3d5=_0x259da2[-0xc63+-0x1*-0x24+0xc49],_0xf136a1=_0x259da2[-0x17ad+0x9*0x18f+0x9b1*0x1],_0x1eaf1a[0x1846+-0x577*0x3+-0x7*0x11f]=_0x3f78de*_0x49a0c8+_0x53180f*_0x591e76+_0xdbc7dd*_0x52d3d5+_0x296bae*_0xf136a1,_0x1eaf1a[0x26*-0x5d+-0x6bc*-0x3+-0x65d]=_0x79a1d0*_0x49a0c8+_0x4a2889*_0x591e76+_0x5be132*_0x52d3d5+_0x5caa1b*_0xf136a1,_0x1eaf1a[-0x191+-0x6fa+0x895]=_0x1dff28*_0x49a0c8+_0x5a6eb7*_0x591e76+_0x2a0193*_0x52d3d5+_0x4da42e*_0xf136a1,_0x1eaf1a[0xea*-0x19+0xc98+0x9*0x125]=_0x2f0b72*_0x49a0c8+_0x3817d0*_0x591e76+_0x3fa587*_0x52d3d5+_0x464d37*_0xf136a1,_0x49a0c8=_0x259da2[-0x1015+0x1b31+-0xb10],_0x591e76=_0x259da2[0x1a07+0x1*-0x259a+0xba0],_0x52d3d5=_0x259da2[-0x1e15+-0xa76*-0x3+0x1*-0x13f],_0xf136a1=_0x259da2[-0x3*0x95+-0xf*-0x6d+-0x495],_0x1eaf1a[0x389+-0x12b8+0xf3b]=_0x3f78de*_0x49a0c8+_0x53180f*_0x591e76+_0xdbc7dd*_0x52d3d5+_0x296bae*_0xf136a1,_0x1eaf1a[0x637*0x1+0x3*-0xb21+0x1b39]=_0x79a1d0*_0x49a0c8+_0x4a2889*_0x591e76+_0x5be132*_0x52d3d5+_0x5caa1b*_0xf136a1,_0x1eaf1a[-0x1534+0x173b+-0x1f9]=_0x1dff28*_0x49a0c8+_0x5a6eb7*_0x591e76+_0x2a0193*_0x52d3d5+_0x4da42e*_0xf136a1,_0x1eaf1a[-0x35e*0x3+0xb66*0x3+-0x1809]=_0x2f0b72*_0x49a0c8+_0x3817d0*_0x591e76+_0x3fa587*_0x52d3d5+_0x464d37*_0xf136a1,this;}['mulAffine2'](_0x44a08d,_0x46986c){const _0x5b9cd5=_0x44a08d['data'],_0x33e701=_0x46986c['data'],_0x51c37b=this['data'],_0x5586fa=_0x5b9cd5[0x2514+-0xa44+0x58*-0x4e],_0x501ca5=_0x5b9cd5[-0x4a*0x2b+0x20f5+-0x1486],_0x3d73b5=_0x5b9cd5[-0x1e53*-0x1+-0xaeb*0x3+0x138*0x2],_0x42545f=_0x5b9cd5[0xfc6+0x1*0x19ce+0xe*-0x2f8],_0x4e713a=_0x5b9cd5[-0x1*0x256c+-0x557*0x7+0x9d*0x7a],_0xf90f1f=_0x5b9cd5[0x955*-0x2+-0x1b79*0x1+0x38d*0xd],_0x100cfc=_0x5b9cd5[-0x246d+0xbc*-0x11+-0x30f1*-0x1],_0x1957a6=_0x5b9cd5[0x17fc+-0x126d+-0x586],_0xcfc118=_0x5b9cd5[-0x74*0x55+-0x11e8+0x646*0x9],_0x17353a=_0x5b9cd5[-0x13db+0x2393+-0x3b*0x44],_0x32c552=_0x5b9cd5[0x1d*-0x105+-0x4b*0x5a+0x37fc*0x1],_0x5cd83e=_0x5b9cd5[-0x15b7*0x1+0x1*0xd19+0x8ac];let _0x365eec,_0x477ce6,_0xd0319e;return _0x365eec=_0x33e701[-0x2bd*-0x1+-0x986+0x6c9],_0x477ce6=_0x33e701[-0x2275+0x1b41*0x1+-0xcd*-0x9],_0xd0319e=_0x33e701[-0x1*0x17c9+-0x4be*0x5+-0x1*-0x2f81],_0x51c37b[-0x1*-0x25f7+0x1*-0x1a5a+-0xb9d*0x1]=_0x5586fa*_0x365eec+_0x42545f*_0x477ce6+_0x100cfc*_0xd0319e,_0x51c37b[-0x1404+0x4f+-0x1d*-0xae]=_0x501ca5*_0x365eec+_0x4e713a*_0x477ce6+_0x1957a6*_0xd0319e,_0x51c37b[-0x1c8a*0x1+0x1cc5+-0x39]=_0x3d73b5*_0x365eec+_0xf90f1f*_0x477ce6+_0xcfc118*_0xd0319e,_0x51c37b[0x7fa+-0x7c4+-0x33]=0x52*-0xd+-0x6ab+-0x3b*-0x2f,_0x365eec=_0x33e701[0x54e+-0x244*-0x3+-0xc16],_0x477ce6=_0x33e701[-0xc82+0x17*-0xbf+-0x26*-0xc8],_0xd0319e=_0x33e701[0x1*-0x557+0x2071+-0x1b14*0x1],_0x51c37b[0x19e8+0x1c42+-0x3626]=_0x5586fa*_0x365eec+_0x42545f*_0x477ce6+_0x100cfc*_0xd0319e,_0x51c37b[-0x855+0x146*-0x1+0x9a0]=_0x501ca5*_0x365eec+_0x4e713a*_0x477ce6+_0x1957a6*_0xd0319e,_0x51c37b[-0x1058+-0x116d+0x1*0x21cb]=_0x3d73b5*_0x365eec+_0xf90f1f*_0x477ce6+_0xcfc118*_0xd0319e,_0x51c37b[-0x1752+0x168b+0xce]=-0x1e*0x112+0x1932+0x1e*0x3b,_0x365eec=_0x33e701[0x1b8b+0x2112+-0x3c95*0x1],_0x477ce6=_0x33e701[-0x2208+-0x16c8+0x38d9],_0xd0319e=_0x33e701[0x81d+-0x266f+0x1e5c],_0x51c37b[0x6*0x67b+-0xc31*-0x2+-0x1aa*0x26]=_0x5586fa*_0x365eec+_0x42545f*_0x477ce6+_0x100cfc*_0xd0319e,_0x51c37b[-0x110*-0x1d+-0x8f0+-0x15d7]=_0x501ca5*_0x365eec+_0x4e713a*_0x477ce6+_0x1957a6*_0xd0319e,_0x51c37b[0x1286+0x1fb2+0x322e*-0x1]=_0x3d73b5*_0x365eec+_0xf90f1f*_0x477ce6+_0xcfc118*_0xd0319e,_0x51c37b[-0xd7a+-0x25b7+0x3*0x1114]=-0x16da+0x3b*-0x3d+0x24e9,_0x365eec=_0x33e701[-0x5b3*0x2+0x18*-0x82+0x17a2],_0x477ce6=_0x33e701[-0x23ee+0x186b+0x10*0xb9],_0xd0319e=_0x33e701[0x1*-0x1375+0x49f+-0x4*-0x3b9],_0x51c37b[-0x1541+0x284+-0x12c9*-0x1]=_0x5586fa*_0x365eec+_0x42545f*_0x477ce6+_0x100cfc*_0xd0319e+_0x17353a,_0x51c37b[-0x2211+0x1f98+0x286]=_0x501ca5*_0x365eec+_0x4e713a*_0x477ce6+_0x1957a6*_0xd0319e+_0x32c552,_0x51c37b[0x2094+0x17bc+-0x3842]=_0x3d73b5*_0x365eec+_0xf90f1f*_0x477ce6+_0xcfc118*_0xd0319e+_0x5cd83e,_0x51c37b[-0x1bf*0x9+-0x65*-0x3e+-0x8b0]=-0x1515+0x3*-0x4bb+0x2347,this;}['mul'](_0x544b83){return this['mul2'](this,_0x544b83);}['transformP'+'oint'](_0x4e9105,_0x4f96d2=new T()){const _0x5b4378=this['data'],{x:_0x3753c7,y:_0x4e0d40,z:_0x4b9027}=_0x4e9105;return _0x4f96d2['x']=_0x3753c7*_0x5b4378[-0x47*-0x85+-0x1681+-0x2*0x731]+_0x4e0d40*_0x5b4378[-0x181b+-0x858+0x2077]+_0x4b9027*_0x5b4378[0x114a+0x26bc+-0x3*0x12aa]+_0x5b4378[-0x25d*-0xb+-0x6c*0x12+-0x7f*0x25],_0x4f96d2['y']=_0x3753c7*_0x5b4378[-0x1*-0x1ae4+-0x65c+-0x1487]+_0x4e0d40*_0x5b4378[0x1efe+-0xb9b+0x9af*-0x2]+_0x4b9027*_0x5b4378[0x1b89+0x10e1+-0x2c61]+_0x5b4378[0x25f5+0x1*0xd3+-0x26bb],_0x4f96d2['z']=_0x3753c7*_0x5b4378[0x1034+0x13f1+-0x2423]+_0x4e0d40*_0x5b4378[0x1*-0x15b+-0x446+-0x1*-0x5a7]+_0x4b9027*_0x5b4378[-0x25d3+0x3*0x547+0x1608]+_0x5b4378[0x148+0x2d*0x3a+-0xb6c],_0x4f96d2;}['transformV'+'ector'](_0x587025,_0x52ca37=new T()){const _0x2048a3=this['data'],{x:_0x2519b4,y:_0x13cdff,z:_0x3ad8bf}=_0x587025;return _0x52ca37['x']=_0x2519b4*_0x2048a3[0x8*-0x93+-0x1a48*-0x1+-0x15b0]+_0x13cdff*_0x2048a3[0x1*0x186d+0x4*-0xb5+-0x1595]+_0x3ad8bf*_0x2048a3[-0x2577+-0x2453+-0x1*-0x49d2],_0x52ca37['y']=_0x2519b4*_0x2048a3[0x5*0x1c9+0x1218+0x4*-0x6c1]+_0x13cdff*_0x2048a3[-0x7*-0x10d+-0x1*-0x14b3+0x1*-0x1c09]+_0x3ad8bf*_0x2048a3[0x13b5+-0xca+-0x12e2],_0x52ca37['z']=_0x2519b4*_0x2048a3[0xace+0xdd3*0x1+0x189f*-0x1]+_0x13cdff*_0x2048a3[0x615+-0x26dc+0x3*0xaef]+_0x3ad8bf*_0x2048a3[-0xec3*0x2+-0x6*-0x35+0x3a*0x7d],_0x52ca37;}['transformV'+'ec4'](_0x40ce2b,_0x1b372d=new Q()){const _0x2c3005=this['data'],{x:_0x51d369,y:_0x369a09,z:_0x3ce41e,w:_0x4fcdbf}=_0x40ce2b;return _0x1b372d['x']=_0x51d369*_0x2c3005[-0x3*0x351+0x2*0x3fe+0x1f7]+_0x369a09*_0x2c3005[0x1*0x2564+0x2fc*0xa+-0x24*0x1de]+_0x3ce41e*_0x2c3005[0x17ad*0x1+0x3*-0x821+-0x5f*-0x2]+_0x4fcdbf*_0x2c3005[0x79f*-0x1+-0xe2+0xc7*0xb],_0x1b372d['y']=_0x51d369*_0x2c3005[0xd9a*-0x2+-0xd6b+0x28a0]+_0x369a09*_0x2c3005[0x268d+0x3bf+0x1*-0x2a47]+_0x3ce41e*_0x2c3005[-0xe*-0x219+-0x32+0x1*-0x1d23]+_0x4fcdbf*_0x2c3005[0xce9+0x7a3+-0x147f],_0x1b372d['z']=_0x51d369*_0x2c3005[0x1*-0xa49+0xa3*-0x2a+0x2509*0x1]+_0x369a09*_0x2c3005[0x1*-0x838+0x4*-0x116+0xc96]+_0x3ce41e*_0x2c3005[0x83*-0xb+0xd2b*-0x1+0x12d6]+_0x4fcdbf*_0x2c3005[0x1*0x26a5+-0x195+0xc56*-0x3],_0x1b372d['w']=_0x51d369*_0x2c3005[0xf*0x232+-0x267b+0x590]+_0x369a09*_0x2c3005[-0x1c57+0x16f3+0x49*0x13]+_0x3ce41e*_0x2c3005[-0x2698+0x7d*0x8+-0x11*-0x20b]+_0x4fcdbf*_0x2c3005[0x173a+0x253*-0x3+0x2b3*-0x6],_0x1b372d;}['setLookAt'](_0x534973,_0x19f862,_0x3bd3c5){Os['sub2'](_0x534973,_0x19f862)['normalize'](),Fs['copy'](_0x3bd3c5)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x32b344=this['data'];return _0x32b344[0x2b7+-0x53*0x58+0x19d1*0x1]=us['x'],_0x32b344[-0xcb5+0x2338+-0x1682]=us['y'],_0x32b344[0x698+-0xe46+0x7b0]=us['z'],_0x32b344[-0x893+0x1edf+0x475*-0x5]=-0x83d+0x1994+0x1157*-0x1,_0x32b344[-0x16b3+-0x229c*-0x1+-0xbe5]=Fs['x'],_0x32b344[-0x18f2+-0x1a95+0x338c*0x1]=Fs['y'],_0x32b344[0x8d*0x3+-0xc7a+0xad9]=Fs['z'],_0x32b344[0x259*-0xb+-0x1*0x213d+-0x3b17*-0x1]=-0x192d+-0x169a+0x2fc7,_0x32b344[-0x2*0x586+-0x127+0x65*0x1f]=Os['x'],_0x32b344[-0xde+-0xb4d+0xc34]=Os['y'],_0x32b344[0x143*-0xf+0x8ed*0x1+-0x202*-0x5]=Os['z'],_0x32b344[0x206a+0xaa*0x1+-0x3*0xb03]=-0x11b0+-0xeb6+0x1033*0x2,_0x32b344[0x2210+0x8e5+-0x2ae9]=_0x534973['x'],_0x32b344[0x1583+0x1*0x1710+0x2c86*-0x1]=_0x534973['y'],_0x32b344[-0x16ad+0x1626+-0x1*-0x95]=_0x534973['z'],_0x32b344[0x21ab*-0x1+-0x6*0x65+0x2418]=-0x1cd+0x2*-0x90d+0x13e8,this;}['setFrustum'](_0x2548df,_0x2bea6a,_0x2b88d8,_0x2b5a68,_0xdcb649,_0x36f1d6){const _0x4a75f1=(0x40*-0x3e+0x1e7c+-0x6*0x27f)*_0xdcb649,_0x566f22=_0x2bea6a-_0x2548df,_0x11dda6=_0x2b5a68-_0x2b88d8,_0x37c19b=_0x36f1d6-_0xdcb649,_0x1e34c3=this['data'];return _0x1e34c3[-0x387*-0x3+-0x1e3a+-0x2f*-0x6b]=_0x4a75f1/_0x566f22,_0x1e34c3[-0xf4e+0xb03+0x44c]=0x157e+0xd5b*-0x1+-0x823,_0x1e34c3[-0x1064+-0x91d*-0x1+0x749*0x1]=-0x2b5*-0x5+-0x1*0x246+-0x1f*0x5d,_0x1e34c3[-0x35e+0x4*-0x8b8+0x2641]=-0x52a*-0x5+0x15d7*0x1+-0x2fa9,_0x1e34c3[0x3*0x8bf+0x1*0x166d+-0xd*0x3be]=0x18d*0x11+-0x89c+-0x11c1,_0x1e34c3[-0x1f*-0xcd+0x1b5*-0x2+-0x1564*0x1]=_0x4a75f1/_0x11dda6,_0x1e34c3[0x1a6f*0x1+-0x1a07+-0x62]=0x22db+-0x1af*-0xb+-0x70*0x7a,_0x1e34c3[-0xa*-0x2e7+0x1*-0x197a+-0x385]=0x107c+-0x2116+0x109a,_0x1e34c3[0x16ca+-0xad+-0x1615]=(_0x2bea6a+_0x2548df)/_0x566f22,_0x1e34c3[0xca0+-0x1*0x263d+-0xcd3*-0x2]=(_0x2b5a68+_0x2b88d8)/_0x11dda6,_0x1e34c3[-0x21d4+0x2c*0x3a+0x17e6]=(-_0x36f1d6-_0xdcb649)/_0x37c19b,_0x1e34c3[-0x24c7+-0x309+-0x219*-0x13]=-(0xb26*0x2+-0x5b6*0x3+-0x529*0x1),_0x1e34c3[0x265f+0x1eb+-0x283e]=-0x1e49+0x143e*0x1+0xa0b,_0x1e34c3[0x2614+-0x1704+-0xf03]=0x1344+-0x2552+0x120e,_0x1e34c3[0x1a07+-0xb75*-0x3+0xf16*-0x4]=-_0x4a75f1*_0x36f1d6/_0x37c19b,_0x1e34c3[-0x1713+-0x1f51+0x3673]=-0x267e+0x1fa5*-0x1+0x4623,this;}['setPerspec'+'tive'](_0xfd4cb7,_0x3d4e12,_0x127707,_0x2020e9,_0x2c4a38){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0xfd4cb7,_0x3d4e12,_0x127707,_0x2c4a38),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x127707,_0x2020e9);}['setOrtho'](_0x523e1f,_0x39bf8a,_0x25d1ec,_0x200471,_0x5768b1,_0x3ac8cb){const _0x469e3b=this['data'];return _0x469e3b[-0x1*0x9cb+-0xab*0x12+0x15d1]=(0x3ca+-0x1*-0x6e1+-0xaa9)/(_0x39bf8a-_0x523e1f),_0x469e3b[0x2512+-0x1b77+-0x99a]=-0x7d+0xdda+0xb*-0x137,_0x469e3b[-0x9*-0x3ba+-0x2*-0x3c5+-0x2ef*0xe]=0x77c+0x7ea*-0x2+-0x164*-0x6,_0x469e3b[0x1aae+0x2d*0xa1+0x2*-0x1b7c]=-0x2170+-0x259d*-0x1+0x1*-0x42d,_0x469e3b[0x1*0x29c+-0x110f+0xe77]=0x12cf+-0x8d+-0x1242,_0x469e3b[0x1*0x7f+0x1e4a+0x166*-0x16]=(0x5*0x4b1+0x1*-0xcdf+-0x2*0x54a)/(_0x200471-_0x25d1ec),_0x469e3b[0x1f8+0x11d0+-0x13c2]=-0x85+0x638+-0x5b3,_0x469e3b[0x16*0x18a+-0xa*-0x185+-0x3107]=0x1339+-0xcf6+0x1*-0x643,_0x469e3b[0x6af*0x3+-0x25fe+0x11f9]=0x906+0x2077+0x2b*-0xf7,_0x469e3b[0x12e3*0x1+0x1*-0x2063+0xf*0xe7]=0x327*-0x3+-0x140a+0x1d7f,_0x469e3b[-0x1dd3+-0x1*0x2081+0x3e5e]=-(0xccb+-0x1341+0x678)/(_0x3ac8cb-_0x5768b1),_0x469e3b[-0x21d7+-0x1*0x9e3+0x2bc5]=-0x1*-0x210d+0x3*-0x24b+-0x1a2c,_0x469e3b[-0x36*-0x6d+0xf36+-0x2628]=-(_0x39bf8a+_0x523e1f)/(_0x39bf8a-_0x523e1f),_0x469e3b[0xdbd+-0x232*0x1+-0x2*0x5bf]=-(_0x200471+_0x25d1ec)/(_0x200471-_0x25d1ec),_0x469e3b[0x10be*-0x1+0xc5b+0x471]=-(_0x3ac8cb+_0x5768b1)/(_0x3ac8cb-_0x5768b1),_0x469e3b[-0x10c7+-0x61c*-0x1+-0x1*-0xaba]=-0x206+-0x22cb+0x2*0x1269,this;}['setFromAxi'+'sAngle'](_0x18dcd2,_0x4d76d5){_0x4d76d5*=N['DEG_TO_RAD'];const {x:_0x581cb2,y:_0x5ead6a,z:_0x306afe}=_0x18dcd2,_0x57d117=Math['cos'](_0x4d76d5),_0x5e4afd=Math['sin'](_0x4d76d5),_0x179917=-0x19*0x29+0x1d49+-0x2cf*0x9-_0x57d117,_0x1d15a1=_0x179917*_0x581cb2,_0x3010a5=_0x179917*_0x5ead6a,_0x2db01f=this['data'];return _0x2db01f[0x49*-0x27+-0x10bd+0x1bdc]=_0x1d15a1*_0x581cb2+_0x57d117,_0x2db01f[0x3c+0x1068*-0x1+-0x1*-0x102d]=_0x1d15a1*_0x5ead6a+_0x5e4afd*_0x306afe,_0x2db01f[-0x1*-0x1eb7+-0x1da8+-0x10d]=_0x1d15a1*_0x306afe-_0x5e4afd*_0x5ead6a,_0x2db01f[0x162a+-0x83*0x3e+0x993]=0x2bc+0x4eb+-0x28d*0x3,_0x2db01f[-0x61+0x258b+-0x2*0x1293]=_0x1d15a1*_0x5ead6a-_0x5e4afd*_0x306afe,_0x2db01f[-0x70a+0x263f+0x2*-0xf98]=_0x3010a5*_0x5ead6a+_0x57d117,_0x2db01f[-0x6*0x5ab+0x1907+0x901]=_0x3010a5*_0x306afe+_0x5e4afd*_0x581cb2,_0x2db01f[-0x9ec+0x1*0x23b1+-0x19be]=0x3e8+0x2*-0x1100+-0x12*-0x1ac,_0x2db01f[0xa2f+-0x6*-0x594+0x2b9f*-0x1]=_0x1d15a1*_0x306afe+_0x5e4afd*_0x5ead6a,_0x2db01f[-0x1954+0x9*0x2b+0x17da]=_0x3010a5*_0x306afe-_0x581cb2*_0x5e4afd,_0x2db01f[0x1c54+-0x7ae+-0x149c]=_0x179917*_0x306afe*_0x306afe+_0x57d117,_0x2db01f[-0x335*-0x8+-0x9e7+-0xfb6]=-0x144b+-0x232d+-0xdde*-0x4,_0x2db01f[-0x9c*-0x20+0x1*-0x92c+0x7*-0x178]=-0xab6+-0x10a*-0xb+-0xb8,_0x2db01f[0xbcc+-0x3*0xcf7+-0x1b26*-0x1]=0xe*0xeb+-0x56b+-0x76f,_0x2db01f[-0x1*-0x1eff+0x3*0x3cc+-0x2a55]=0x6c*-0x25+-0x219b+0x3137,_0x2db01f[0x827+-0xb8f*0x1+-0x1*-0x377]=-0x22ee+-0xfe0+-0x32cf*-0x1,this;}['setTransla'+'te'](_0x400c19,_0x40a75a,_0x53eae1){const _0x193513=this['data'];return _0x193513[-0x1710+0x885*0x1+0xe8b]=0xbb*-0x16+-0x83d+0x1850,_0x193513[0xcbd*-0x3+0x2278*0x1+0x3c0]=0x22*-0xc4+0x146d+0x59b,_0x193513[-0x1*-0x159b+0x2bd*0x1+-0x1856]=0x1a48+0x2c*-0xf+-0x4*0x5ed,_0x193513[0x1*-0xa7f+-0x1450+-0xa46*-0x3]=-0x6c5*-0x4+-0x1cf5+0xd*0x25,_0x193513[-0x230+0x20a8+0x2*-0xf3a]=-0x1936+0x1*0x3fd+0x3*0x713,_0x193513[-0x396+-0x3*-0x1cf+-0x1d2*0x1]=-0x1*-0x1bc1+0x1*0x2188+-0x3d48,_0x193513[-0x1*0x1e75+0x143d+-0x26*-0x45]=-0x1*-0x1edb+0x85b*-0x2+-0xe25*0x1,_0x193513[-0x180b*0x1+0x2348+0x19a*-0x7]=0xd*0x1+-0x1933+0x1926,_0x193513[-0x204+0x1112+-0xf06*0x1]=-0x1*0x19d8+0x14*-0x97+0x92*0x42,_0x193513[0x32*-0x17+-0x1*-0x15af+-0x3d*0x48]=0x2eb+0x155e+-0x1*0x1849,_0x193513[-0x99e*0x4+-0x1*-0x1918+-0x11*-0xca]=0x1599+-0x53*0xd+-0x1161*0x1,_0x193513[-0xc26+0x25ee+0x257*-0xb]=0x1a7+-0x1*-0x1867+-0x1a0e,_0x193513[0x1fba+0x8e+0x1*-0x203c]=_0x400c19,_0x193513[0x3e*0x4d+0x10a2*0x2+-0x11*0x30d]=_0x40a75a,_0x193513[0xae4+0x1f6a+-0x2a40]=_0x53eae1,_0x193513[0x26f4+-0x326*-0x5+-0x1*0x36a3]=-0x2661+0x132+-0x2*-0x1298,this;}['setScale'](_0x1027c0,_0x5ad83b,_0x11aa01){const _0x2b75ab=this['data'];return _0x2b75ab[-0x1c41+-0x1*-0xbf1+0x1050]=_0x1027c0,_0x2b75ab[0x21ea+-0x1*-0x2469+0x1*-0x4652]=0x2*0x451+0x878+-0x88d*0x2,_0x2b75ab[-0x42a*0x4+0x15a9+-0x1*0x4ff]=0x106d+0xedb*-0x1+-0x192,_0x2b75ab[-0x2677+0x2*0xa82+0x2*0x8bb]=0x86*-0x12+0xdb3+0xf*-0x49,_0x2b75ab[-0x2*-0xdf+0x12a7+-0x1461]=-0x58b+0x1efb+-0x65c*0x4,_0x2b75ab[-0x8cd*-0x1+-0x3dc+-0x4ec]=_0x5ad83b,_0x2b75ab[0x14d9+-0x1702+0xd*0x2b]=-0x1af*-0x5+-0xb13+0x2a8,_0x2b75ab[0x171f*-0x1+-0x5*0x3f5+0x1d*0x17b]=-0x853*-0x4+-0x364+0xc*-0x27e,_0x2b75ab[0x25d9+-0x5*-0x1af+0x434*-0xb]=-0xa42+-0x2105+0x2b47,_0x2b75ab[-0x1*-0x61b+-0xf*0x199+0x1*0x11e5]=-0x1651*0x1+0x336*-0x2+0x1cbd*0x1,_0x2b75ab[0x1*0xe3b+-0x1*-0x1df5+0x1*-0x2c26]=_0x11aa01,_0x2b75ab[-0xb7d+0x1eb*0x4+0x3dc]=0x2471+-0x1ba0+0x3d*-0x25,_0x2b75ab[-0x630+0x2*-0xa4f+0x1ada*0x1]=0x1863+0x13*-0x1f+-0x1616,_0x2b75ab[0x7d5+0x1*-0x1e07+0x163f]=0x3*0x815+-0x28*0xef+0xd19,_0x2b75ab[0x4ee+0x3*0x4f3+-0x13b9]=-0x717+-0x1375+0x1a8c,_0x2b75ab[0x14bc+0x17a2+-0x2c4f]=0x30*0x73+-0x24c4+-0xe5*-0x11,this;}['setViewpor'+'t'](_0x44c462,_0x1978a6,_0x5b0029,_0x1d8256){const _0x2740e1=this['data'];return _0x2740e1[0x2fe+0x1b*-0x14f+0x2057]=_0x5b0029*(0x1351+-0x26f*-0xd+0x87e*-0x6+0.5),_0x2740e1[-0x148e+0xfa3+0x4ec]=-0x1fea+0x254d+-0x563,_0x2740e1[-0x11*0x26+-0x1760+0xcf4*0x2]=0x1*0x1f51+0x2*0xb02+-0x5ed*0x9,_0x2740e1[-0x2569+-0x356*0x1+-0x28c2*-0x1]=-0xc05*0x3+0xa1a*0x3+0x5c1,_0x2740e1[0x4b*-0x7d+-0x25*-0x31+0x4e*0x61]=0xfb2+-0x1*-0x174+0xa*-0x1b7,_0x2740e1[0x25fc+0x2c*-0x1+-0x25cb]=_0x1d8256*(-0x1a68+0x74c*-0x3+0x4*0xc13+0.5),_0x2740e1[-0xf*0x12e+-0x22da+-0x8c3*-0x6]=0x1*0x207b+0x1ab7+0x1d99*-0x2,_0x2740e1[0x3*-0x41+0xc24*-0x1+0xcee]=-0x21b4+0x12*-0x36+0x2580,_0x2740e1[-0x189+0x24d7+-0x2346]=0x5*0x63d+0x12fd+-0x322e,_0x2740e1[-0x1*-0x955+0x1*0x2f5+-0xc41*0x1]=-0x7e5+-0x19b1+0x6*0x599,_0x2740e1[0x5*0x29b+-0x154e+0x851]=-0x18ba+0x1*0x179b+-0x1*-0x11f+0.5,_0x2740e1[0x1f75+0x54a+0x24b4*-0x1]=-0x7bd+0xa8b+-0x2ce,_0x2740e1[0x1*0xec5+0x1*0xb27+-0x60*0x45]=_0x44c462+_0x5b0029*(0x4*0x1f9+0x1853+0x2037*-0x1+0.5),_0x2740e1[0x2*0x49a+-0x11f6+0x8cf]=_0x1978a6+_0x1d8256*(-0x3*-0xcdc+-0x12*0x37+-0x1*0x22b6+0.5),_0x2740e1[0x4c*0x79+-0x74b*-0x1+-0x2b29]=-0x26dd+-0x15c5+0x3ca2*0x1+0.5,_0x2740e1[0x1490*-0x1+0x137a+0x1*0x125]=0x3a7+0x2482*-0x1+0x20dc,this;}['setReflect'+'ion'](_0x3b13c3,_0x378b3f){const _0xb3bfe3=_0x3b13c3['x'],_0x3cdb99=_0x3b13c3['y'],_0x473fee=_0x3b13c3['z'],_0x207201=this['data'];return _0x207201[0x2546+0xef+-0x2635]=-0x16f*-0x7+0x682+-0x108a-(0x217*0x2+0x3*0x66f+-0x1779)*_0xb3bfe3*_0xb3bfe3,_0x207201[-0x2*0xe11+-0x24c7+-0x2*-0x2075]=-(-0x1b8c*-0x1+-0x7db*0x2+-0x2*0x5ea)*_0xb3bfe3*_0x3cdb99,_0x207201[-0xda3*-0x1+-0x23e4+0x1643]=-(0x1fb1+0x1067+-0x3016)*_0xb3bfe3*_0x473fee,_0x207201[0xc51+0x1475+-0x20c3]=0x11d3+0x1*0x1e2c+0x1*-0x2fff,_0x207201[-0x6b6+0x1*-0x1e43+0x24fd]=-(0x1730+0x194d+-0x7*0x6ed)*_0xb3bfe3*_0x3cdb99,_0x207201[-0x245b+0x2584+-0x4*0x49]=-0x1*0x2519+0x23*0xe3+0x611-(-0x71*0x4+-0x169*0x10+0x1856)*_0x3cdb99*_0x3cdb99,_0x207201[-0x1735+-0x17*-0x47+0x10da]=-(-0x2298+-0x5f6+-0x289*-0x10)*_0x3cdb99*_0x473fee,_0x207201[-0x218e*0x1+-0x225c+0x43f1]=-0x92f+-0x7e3+0x5*0x36a,_0x207201[0x2119+-0x1ca7+0x71*-0xa]=-(-0x767*0x1+-0x5*0x19c+0xf75)*_0xb3bfe3*_0x473fee,_0x207201[-0x1edb+-0x128f*0x2+0x4402]=-(-0x13f3*0x1+0xb9*0x2c+-0xbd7)*_0x3cdb99*_0x473fee,_0x207201[0x2518*0x1+0x6a*0x1e+-0x3*0x107e]=0xbd9+0x12*-0x16b+-0x11*-0xce-(0x190+-0x16df+0x1551)*_0x473fee*_0x473fee,_0x207201[-0x71*0x8+0x1caf+0xc8e*-0x2]=-0x1f3*-0x4+-0x180*0x1+0x64c*-0x1,_0x207201[-0x3b8+-0xa2a+0xdee]=-(-0x197b+0x1c3d+-0x2c0)*_0xb3bfe3*_0x378b3f,_0x207201[-0x41f*0x7+-0x251*0xe+0x9d*0x64]=-(0x1298+-0x1705+0x46f)*_0x3cdb99*_0x378b3f,_0x207201[-0x2203*-0x1+0x121a+-0x340f]=-(0x2629+0x1f49*0x1+-0x328*0x16)*_0x473fee*_0x378b3f,_0x207201[-0x7b6+0x4ee+0x2d7*0x1]=-0x1aab+-0x24c4+0x3f70,this;}['invert'](_0x301e4a=this){const _0x236aad=_0x301e4a['data'],_0x417770=_0x236aad[0x7ae+-0x2514+0x35*0x8e],_0x4f79aa=_0x236aad[-0x1*-0x3e+0xe8a+0x1*-0xec7],_0x46fa8c=_0x236aad[-0x39e+-0x909+0x1*0xca9],_0x148921=_0x236aad[-0x24b2+0x7d*0x29+0x10b0],_0x4b131e=_0x236aad[-0x2340+-0x1c6f+0x2c5*0x17],_0x40adbe=_0x236aad[0x1*0x42e+-0x1*0x914+0x4eb*0x1],_0x253599=_0x236aad[-0xbef+0x1f4e+-0x1359],_0x5d77fd=_0x236aad[-0x24d6+0x17db+0x1e*0x6f],_0x3a3b52=_0x236aad[-0x3*0x7c3+0x12*0x1d8+-0x9df],_0x557266=_0x236aad[0x234d+0x40*-0x2e+-0x17c4],_0x4a698c=_0x236aad[-0x1*0x23a7+-0xb56*0x1+0x2f07],_0x452d64=_0x236aad[-0x7*-0xa6+0x2074+-0x24f3],_0x1ebf3b=_0x236aad[-0x1*-0x13d4+0x1cb5+0x307d*-0x1],_0x1cb6f1=_0x236aad[-0x992*0x4+0x4bf+-0x599*-0x6],_0xb387fa=_0x236aad[-0x6*0x67f+-0x2556+0x4c5e],_0x10d9d4=_0x236aad[0x1*0x1a0f+-0x1e5e+-0x1*-0x45e],_0x26f00f=_0x417770*_0x40adbe-_0x4f79aa*_0x4b131e,_0x359d11=_0x417770*_0x253599-_0x46fa8c*_0x4b131e,_0xa72ab=_0x417770*_0x5d77fd-_0x148921*_0x4b131e,_0x2ed259=_0x4f79aa*_0x253599-_0x46fa8c*_0x40adbe,_0x501867=_0x4f79aa*_0x5d77fd-_0x148921*_0x40adbe,_0x1e4773=_0x46fa8c*_0x5d77fd-_0x148921*_0x253599,_0x3deea5=_0x3a3b52*_0x1cb6f1-_0x557266*_0x1ebf3b,_0x127657=_0x3a3b52*_0xb387fa-_0x4a698c*_0x1ebf3b,_0x169683=_0x3a3b52*_0x10d9d4-_0x452d64*_0x1ebf3b,_0xdf6dd3=_0x557266*_0xb387fa-_0x4a698c*_0x1cb6f1,_0x3d3280=_0x557266*_0x10d9d4-_0x452d64*_0x1cb6f1,_0x3c3c69=_0x4a698c*_0x10d9d4-_0x452d64*_0xb387fa,_0x2667d9=_0x26f00f*_0x3c3c69-_0x359d11*_0x3d3280+_0xa72ab*_0xdf6dd3+_0x2ed259*_0x169683-_0x501867*_0x127657+_0x1e4773*_0x3deea5;if(_0x2667d9===0x12*0xae+0x85*-0x29+-0x1*-0x911)this['setIdentit'+'y']();else{const _0xa7f27f=(-0x251*0xe+0x5*-0x559+0x3b2c)/_0x2667d9,_0x4e66e2=this['data'];_0x4e66e2[-0xcaf*-0x1+0x1a77*0x1+0x1393*-0x2]=(_0x40adbe*_0x3c3c69-_0x253599*_0x3d3280+_0x5d77fd*_0xdf6dd3)*_0xa7f27f,_0x4e66e2[-0x319*0x1+0x1*-0x1b57+-0x1*-0x1e71]=(-_0x4f79aa*_0x3c3c69+_0x46fa8c*_0x3d3280-_0x148921*_0xdf6dd3)*_0xa7f27f,_0x4e66e2[-0x626+0xd2b*0x1+0x703*-0x1]=(_0x1cb6f1*_0x1e4773-_0xb387fa*_0x501867+_0x10d9d4*_0x2ed259)*_0xa7f27f,_0x4e66e2[0x5*0x298+-0x9ca*0x2+-0x1*-0x69f]=(-_0x557266*_0x1e4773+_0x4a698c*_0x501867-_0x452d64*_0x2ed259)*_0xa7f27f,_0x4e66e2[-0x1bba+0x1324+0x2*0x44d]=(-_0x4b131e*_0x3c3c69+_0x253599*_0x169683-_0x5d77fd*_0x127657)*_0xa7f27f,_0x4e66e2[0x3*0xba3+0x21ed+-0x44d1]=(_0x417770*_0x3c3c69-_0x46fa8c*_0x169683+_0x148921*_0x127657)*_0xa7f27f,_0x4e66e2[-0x1*-0xb93+0x7*-0x525+0x1876]=(-_0x1ebf3b*_0x1e4773+_0xb387fa*_0xa72ab-_0x10d9d4*_0x359d11)*_0xa7f27f,_0x4e66e2[-0x4*-0x8f2+0x1a37+0x8*-0x7bf]=(_0x3a3b52*_0x1e4773-_0x4a698c*_0xa72ab+_0x452d64*_0x359d11)*_0xa7f27f,_0x4e66e2[0x1*0x1c96+0x233a+-0x3fc8]=(_0x4b131e*_0x3d3280-_0x40adbe*_0x169683+_0x5d77fd*_0x3deea5)*_0xa7f27f,_0x4e66e2[-0x1*0x1a8a+-0x50*0xe+0x1ef3]=(-_0x417770*_0x3d3280+_0x4f79aa*_0x169683-_0x148921*_0x3deea5)*_0xa7f27f,_0x4e66e2[0xee*0x1e+0x349+0xa61*-0x3]=(_0x1ebf3b*_0x501867-_0x1cb6f1*_0xa72ab+_0x10d9d4*_0x26f00f)*_0xa7f27f,_0x4e66e2[-0x1a33+-0x1811+0x9*0x597]=(-_0x3a3b52*_0x501867+_0x557266*_0xa72ab-_0x452d64*_0x26f00f)*_0xa7f27f,_0x4e66e2[0x3c*-0x29+0x2*0x6df+-0x20b*0x2]=(-_0x4b131e*_0xdf6dd3+_0x40adbe*_0x127657-_0x253599*_0x3deea5)*_0xa7f27f,_0x4e66e2[0x3*-0x3b9+0x256e+-0x1a36]=(_0x417770*_0xdf6dd3-_0x4f79aa*_0x127657+_0x46fa8c*_0x3deea5)*_0xa7f27f,_0x4e66e2[-0xf56+0x1*-0x2014+0x2f78]=(-_0x1ebf3b*_0x2ed259+_0x1cb6f1*_0x359d11-_0xb387fa*_0x26f00f)*_0xa7f27f,_0x4e66e2[-0x11bb*-0x1+-0x87*0x49+-0x3*-0x6f1]=(_0x3a3b52*_0x2ed259-_0x557266*_0x359d11+_0x4a698c*_0x26f00f)*_0xa7f27f;}return this;}['set'](_0x852f96){const _0x1a4d48=this['data'];return _0x1a4d48[-0x1879+-0x98a*0x2+0x2b8d]=_0x852f96[0x8*-0x32b+-0x2413+-0x1479*-0x3],_0x1a4d48[-0x2*-0x44d+-0x1f*-0x99+0x7*-0x3e0]=_0x852f96[0x242e+0x9*-0xb7+-0x9*0x34e],_0x1a4d48[0x65*0x2f+-0x550+-0x2a5*0x5]=_0x852f96[0x1c60+-0x1e9+-0x1*0x1a75],_0x1a4d48[0x2279+-0xee0+-0x1396]=_0x852f96[-0x50e+0x2*0xc46+0x1*-0x137b],_0x1a4d48[-0x5*0x4d0+0x1*-0x28f+0x8e1*0x3]=_0x852f96[0x2285+0x1*0x505+-0x2786],_0x1a4d48[0x2*-0x1163+-0x1e5f+0x412a]=_0x852f96[0x21ed+-0x13d9+-0xe0f],_0x1a4d48[0x4*0x8dd+0x18eb*-0x1+0x27*-0x45]=_0x852f96[0x14bb+-0x6c1*0x1+-0xdf4],_0x1a4d48[-0x1*0x1091+0xa77+-0x1*-0x621]=_0x852f96[-0x259f+-0x38b*-0x8+0x6*0x18d],_0x1a4d48[0x2a*0xa3+0x104f+-0x2b05]=_0x852f96[0x1290+-0xb07+-0x11*0x71],_0x1a4d48[0x23b3*-0x1+-0x8ec+0x2ca8]=_0x852f96[0x1*-0x1675+-0x79+0x16f7],_0x1a4d48[0x1e4d+-0x26bb+-0x21e*-0x4]=_0x852f96[0x11b4+-0x1294*0x1+0xea],_0x1a4d48[0x1*-0x8a8+-0x89d+0x1150]=_0x852f96[0x7*-0x105+0x1130+-0xa02*0x1],_0x1a4d48[-0x7de+-0x431*0x3+-0x419*-0x5]=_0x852f96[0xed*-0x29+0x1*-0xaf+-0x9ac*-0x4],_0x1a4d48[0xb4+0x1a28+-0x1acf]=_0x852f96[0x401*0x2+0x8d8*0x4+-0x2b55*0x1],_0x1a4d48[0xfc+-0x1*0x1553+0x17*0xe3]=_0x852f96[-0x1db5+0x1d5f+0x64],_0x1a4d48[0x20fc+-0x1*-0x7b9+-0x79*0x56]=_0x852f96[-0x2*0xb8d+0x78+0x25*0x9d],this;}['setIdentit'+'y'](){const _0x3f8a65=this['data'];return _0x3f8a65[0x1b4*0xa+-0xb1*-0x1b+-0x23b3]=-0x1368+0x2*0x121f+-0x10d5*0x1,_0x3f8a65[0x1488+-0x2*0xa09+0x9*-0xd]=0x1141+0x243e+-0x391*0xf,_0x3f8a65[0x8*0xde+0x1*0x253d+-0x1*0x2c2b]=0x1f87+0x95*-0xc+-0x3d*0x67,_0x3f8a65[-0x1c13*-0x1+-0x1bc0+-0x4*0x14]=0x246+0x211c+-0x2362,_0x3f8a65[-0x17b*-0x2+0x89+-0x37b]=0x13d9+0x2344*0x1+0x125f*-0x3,_0x3f8a65[0x1a33+-0x22c1+0x893]=0x55*0x9+0x49d+-0x185*0x5,_0x3f8a65[0x5*0x1b4+-0x22bc+0x1a3e*0x1]=0xae8*-0x2+-0x109b+0x7*0x57d,_0x3f8a65[0x1c8b*-0x1+0x1874+0x41e]=-0x163c+-0xd53+-0x1*-0x238f,_0x3f8a65[0x72f+0x20d5+0x3*-0xd54]=-0x17e3+-0x119*-0x13+0x308,_0x3f8a65[-0x7fd+0x30d*0x1+0x4f9]=-0x2*0x685+0x1599+0x7*-0x139,_0x3f8a65[-0x43d+0x1*-0x1bb6+0x13*0x1af]=0x18b3*-0x1+0x2e0*0x2+-0x12f4*-0x1,_0x3f8a65[0x3a*-0x57+-0x1*-0xc47+0x77a]=0x1*0x5ed+0x697+-0x9*0x164,_0x3f8a65[0xf26*0x1+0x18ab+-0x27c5]=-0x8*0xc9+0x18e7+-0x129f,_0x3f8a65[0xf7c+0xca*-0x11+-0x1*0x205]=0x25c3+0x1*-0x1169+-0x145a,_0x3f8a65[-0x19*-0x76+0x19*0x11b+0xd09*-0x3]=-0x2033*-0x1+-0x1a77+-0x5bc,_0x3f8a65[-0x227d+0x1*-0x5c3+0x284f*0x1]=0x87c+0x70b+0x1*-0xf86,this;}['setTRS'](_0x2c68a5,_0x4712ba,_0x23ea3a){const _0x2e6733=_0x4712ba['x'],_0x428a35=_0x4712ba['y'],_0x22ff7a=_0x4712ba['z'],_0x3c772=_0x4712ba['w'],_0x14fbad=_0x23ea3a['x'],_0x3fbb96=_0x23ea3a['y'],_0x50a778=_0x23ea3a['z'],_0x47358f=_0x2e6733+_0x2e6733,_0x10e869=_0x428a35+_0x428a35,_0x35caed=_0x22ff7a+_0x22ff7a,_0xac866a=_0x2e6733*_0x47358f,_0x17c3a4=_0x2e6733*_0x10e869,_0x28916c=_0x2e6733*_0x35caed,_0x5daa1e=_0x428a35*_0x10e869,_0x5f44d5=_0x428a35*_0x35caed,_0x1c9004=_0x22ff7a*_0x35caed,_0x2309da=_0x3c772*_0x47358f,_0x1f59e5=_0x3c772*_0x10e869,_0x41c5dd=_0x3c772*_0x35caed,_0x930978=this['data'];return _0x930978[0x15a0+0x2*0x1ed+-0x197a]=(-0x5*-0x25+-0x99*0x15+-0xe9*-0xd-(_0x5daa1e+_0x1c9004))*_0x14fbad,_0x930978[-0x9fa+0x7a7*0x4+0x1*-0x14a1]=(_0x17c3a4+_0x41c5dd)*_0x14fbad,_0x930978[-0xb85+0x2*0xbce+-0xc15]=(_0x28916c-_0x1f59e5)*_0x14fbad,_0x930978[-0x2085+0xfba+0x10ce]=-0x149*-0x3+-0x1*-0xdb5+-0x1190,_0x930978[-0x6*0xe0+-0x1*0x2333+0x3*0xd7d]=(_0x17c3a4-_0x41c5dd)*_0x3fbb96,_0x930978[0xab9+-0x1724+-0xc70*-0x1]=(0xe8*-0x1d+-0x345+0x1d8e-(_0xac866a+_0x1c9004))*_0x3fbb96,_0x930978[0xbfe+-0x400*0x6+-0x118*-0xb]=(_0x5f44d5+_0x2309da)*_0x3fbb96,_0x930978[0xa*-0x144+-0x78f+0xa1f*0x2]=-0x1d09+0xa*0x64+0x1921,_0x930978[0x1*-0x2160+-0x1*0x211f+-0x32b*-0x15]=(_0x28916c+_0x1f59e5)*_0x50a778,_0x930978[-0xff*0x19+-0x24b4+0x3da4*0x1]=(_0x5f44d5-_0x2309da)*_0x50a778,_0x930978[0x81e+0x434+-0x2*0x624]=(0x4*-0x1bf+0x54*-0x35+0x1861-(_0xac866a+_0x5daa1e))*_0x50a778,_0x930978[-0x35c+0x1e3f+-0x1ad8]=-0x2a5+0x2*0x8cf+0xef9*-0x1,_0x930978[0x1924*-0x1+0xb35*-0x1+-0x2465*-0x1]=_0x2c68a5['x'],_0x930978[-0x13e7+0x4*0x59b+-0x278]=_0x2c68a5['y'],_0x930978[-0x21*-0xb0+-0xef7+-0x7ab]=_0x2c68a5['z'],_0x930978[-0x5b3+0x12b5*-0x1+0x1877*0x1]=-0x66b+-0xef9+0x1565,this;}['transpose'](_0x1be1fd=this){const _0x55b190=_0x1be1fd['data'],_0xf0ad98=this['data'];if(_0x55b190===_0xf0ad98){let _0x34701a;_0x34701a=_0x55b190[-0x2678+-0x26b8+0x4d31],_0xf0ad98[-0x6*0x428+-0x56*0x1f+0x235b]=_0x55b190[-0x1*0x2c5+0xf1*0x13+-0xf1a],_0xf0ad98[0x267b*0x1+0x10*-0x10+-0x2577]=_0x34701a,_0x34701a=_0x55b190[0x7*0xf7+0xd*-0x1dd+0x1*0x117a],_0xf0ad98[0x779+-0x1*0xa19+0x2a2]=_0x55b190[0x127e*-0x1+0x223a*-0x1+0x34c0],_0xf0ad98[0x3fb+-0xd*-0x14f+-0x14f6]=_0x34701a,_0x34701a=_0x55b190[-0x163d+0x5bc+0x1084],_0xf0ad98[-0x465+0xe60+-0x8*0x13f]=_0x55b190[0xb57*0x1+-0x1616+0x3*0x399],_0xf0ad98[-0x36d*-0x4+0x6dd+-0x6d7*0x3]=_0x34701a,_0x34701a=_0x55b190[-0xba8+-0x942+0x14f0],_0xf0ad98[-0x549+0xb48+-0xb*0x8b]=_0x55b190[-0xf49*-0x1+0x2f9*0xd+-0x1*0x35e5],_0xf0ad98[0x1*-0x376+-0xce8+0x1067]=_0x34701a,_0x34701a=_0x55b190[0x6*-0x49a+0x13*-0x97+0x71*0x58],_0xf0ad98[-0x1359*0x2+-0x216*-0x3+-0x1*-0x2077]=_0x55b190[-0x22c7+0x8e2+0x19f2],_0xf0ad98[0x19ab+-0x1*0x4c8+-0x14d6]=_0x34701a,_0x34701a=_0x55b190[-0x1ea1+0x2*0x807+-0x2*-0x74f],_0xf0ad98[-0xd21*-0x2+0x4e5*0x1+-0x1f1c]=_0x55b190[0x851+-0xc12+0x3cf],_0xf0ad98[0x19fa+0x1*-0x1223+-0x7c9]=_0x34701a;}else _0xf0ad98[0x1*0x1bd1+-0x402*0x4+-0x7*0x1af]=_0x55b190[-0xcda*0x3+-0x77*0x49+0x487d],_0xf0ad98[0x2*0x4ed+-0xcb*0x22+0x111d]=_0x55b190[0x1*-0x1fa5+-0x8d5+0x287e],_0xf0ad98[0x445+-0x254e+0x210b]=_0x55b190[0x31*0xc7+0x642+-0x2c51],_0xf0ad98[0x59*0x25+-0xc3c*-0x3+-0x318e]=_0x55b190[0x1705+0x2*0xc7f+-0xffd*0x3],_0xf0ad98[-0xfb3*0x1+0x1*0x821+-0x1*-0x796]=_0x55b190[-0x205*-0x8+-0x24c5+0x149e],_0xf0ad98[-0x4*0x971+-0xa*-0xf7+-0x7*-0x405]=_0x55b190[-0x45*-0x26+0x4c*-0x76+0x18cf],_0xf0ad98[0x1d3b*0x1+-0x45e+-0x18d7*0x1]=_0x55b190[0x24bf+0x2ac+0x47*-0x8e],_0xf0ad98[0x8b4+-0x1963+-0x1f*-0x8a]=_0x55b190[0xed9+-0x1517*0x1+-0x3*-0x219],_0xf0ad98[0x14d3+-0x1d12+0xa3*0xd]=_0x55b190[-0x2279+-0x20be+0x4339*0x1],_0xf0ad98[0x64a+-0x1af9+0x14b8]=_0x55b190[0x14ed+-0x2121+0xc3a],_0xf0ad98[-0x14e1+0x5*-0x1bb+0x5*0x5ea]=_0x55b190[-0x351*0x5+-0x19e6+0x2a85],_0xf0ad98[0x47*0x67+0xebf+-0x247*0x13]=_0x55b190[-0x1*0x234c+0x5a*0x3+0x224c],_0xf0ad98[-0x38*-0x69+0x2*0x3a+-0x1760]=_0x55b190[-0x1*0x1a35+-0x14a6+0x2ede],_0xf0ad98[-0x1*0x1d72+-0x1cf*0x9+0x2dc6]=_0x55b190[0xd50+0x76*-0x23+-0x3*-0xf3],_0xf0ad98[-0x1*0x13e5+-0xec7*0x1+0x22ba]=_0x55b190[-0x1877+-0x1869+0x7*0x6fd],_0xf0ad98[0x1db5+0x13f3*-0x1+-0x9b3]=_0x55b190[0x344+0x24ab+-0x8*0x4fc];return this;}['getTransla'+'tion'](_0x4c4015=new T()){return _0x4c4015['set'](this['data'][0x2005+-0x25ee+0x1*0x5f5],this['data'][-0x1b*-0x5b+0x1*0x19e5+0xd3*-0x2b],this['data'][0xb9e+0x1bd*-0xb+0x78f]);}['getX'](_0x3de7a4=new T()){return _0x3de7a4['set'](this['data'][-0x19e3+0xa3*0x3a+-0xb0b],this['data'][0x1ffe+-0xd54*-0x2+0x3aa5*-0x1],this['data'][-0x3ea+0x8eb+-0x4ff*0x1]);}['getY'](_0x5045db=new T()){return _0x5045db['set'](this['data'][-0xe58+-0xce9+0xd*0x219],this['data'][0x18c1+-0x2*-0x8e4+-0x2a84],this['data'][-0x680+-0xcc7*0x1+0x1*0x134d]);}['getZ'](_0x48dce2=new T()){return _0x48dce2['set'](this['data'][-0x33b*0x9+0x151d+0x7fe],this['data'][0x228b+0x22a6+0x4*-0x114a],this['data'][-0x4*-0x2bf+0x28f+0xd81*-0x1]);}['getScale'](_0xdc6091=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0xdc6091['set'](us['length'](),Fs['length'](),Os['length']()),_0xdc6091;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<0x1*0xb89+-0x222f+-0x16a6*-0x1?-(0x1f3d+-0x25e0+0x6a4):0xbdd*-0x1+0x6cd*0x1+0x1*0x511;}['setFromEul'+'erAngles'](_0x23fe5d,_0x43e8f8,_0x13faf8){_0x23fe5d*=N['DEG_TO_RAD'],_0x43e8f8*=N['DEG_TO_RAD'],_0x13faf8*=N['DEG_TO_RAD'];const _0x4bcf0d=Math['sin'](-_0x23fe5d),_0x142204=Math['cos'](-_0x23fe5d),_0x3cfe9d=Math['sin'](-_0x43e8f8),_0x352801=Math['cos'](-_0x43e8f8),_0x34dca1=Math['sin'](-_0x13faf8),_0x535ade=Math['cos'](-_0x13faf8),_0x18f23a=this['data'];return _0x18f23a[-0x63c+-0x131b+0x1957]=_0x352801*_0x535ade,_0x18f23a[0x1*0x971+-0x1d9e*-0x1+0x270e*-0x1]=-_0x352801*_0x34dca1,_0x18f23a[-0x55a*0x7+0x1*-0xd15+0x1*0x328d]=_0x3cfe9d,_0x18f23a[-0x250*-0x6+0x21b8+-0xd*0x3a9]=-0xb23+0x43*-0x5b+0x2*0x117a,_0x18f23a[0x1578+0x1f*0x4+-0x15f0]=_0x142204*_0x34dca1+_0x535ade*_0x4bcf0d*_0x3cfe9d,_0x18f23a[-0x1*-0x20e1+0x8cf+-0x29ab]=_0x142204*_0x535ade-_0x4bcf0d*_0x3cfe9d*_0x34dca1,_0x18f23a[-0x21e1+0x14cb*0x1+-0x68e*-0x2]=-_0x352801*_0x4bcf0d,_0x18f23a[-0x8*-0x1a3+0x2*0x7e2+-0x1cd5]=-0x1d29+0x24d*0xe+0xb*-0x47,_0x18f23a[0x1035+0x24*0x98+-0x258d]=_0x4bcf0d*_0x34dca1-_0x142204*_0x535ade*_0x3cfe9d,_0x18f23a[0x1cd9+-0x3*0x31c+-0x137c]=_0x535ade*_0x4bcf0d+_0x142204*_0x3cfe9d*_0x34dca1,_0x18f23a[0xab5*0x1+0x10f0+-0x1b9b]=_0x142204*_0x352801,_0x18f23a[-0x5*-0x397+-0x9*-0x41d+0x147*-0x2b]=-0x1*-0x1a94+0x1*-0x162b+0x1*-0x469,_0x18f23a[-0xc*-0x2f0+-0xe6a+-0x14ca]=0x1*-0x1e7+0x2fd+-0x116,_0x18f23a[0x176b+0x47*0x4b+0xeb9*-0x3]=-0x1*-0x2687+0x16ba+0x3*-0x146b,_0x18f23a[0x5*-0x169+0x1*-0x1b91+0x22ac]=-0x595*-0x1+0x2086+-0x5*0x79f,_0x18f23a[0x147d+0x2200+0x1b37*-0x2]=-0x25b9+-0x1*-0x98b+0xb9*0x27,this;}['getEulerAn'+'gles'](_0x5b0bc5=new T()){this['getScale'](_l);const _0x332a69=_l['x'],_0x39de5f=_l['y'],_0x1f0c1d=_l['z'];if(_0x332a69===-0x155f*-0x1+-0x4*0x51e+-0xe7||_0x39de5f===-0x1ff9+-0x58b+0x55c*0x7||_0x1f0c1d===-0x25c+-0x1838+0x1a94)return _0x5b0bc5['set'](0x9*-0x202+-0x1f04*0x1+-0x3116*-0x1,-0x20e8+-0x1219+0x3301,-0x3fa+-0x4*-0x76f+0x44b*-0x6);const _0x3df7f6=this['data'],_0x194941=Math['asin'](-_0x3df7f6[0x1ccf+-0xd83+-0xce*0x13]/_0x332a69),_0x4cd4c8=Math['PI']*(0x2648+-0x5*0x153+0x5*-0x655+0.5);let _0x58b820,_0x55033b;return _0x194941<_0x4cd4c8?_0x194941>-_0x4cd4c8?(_0x58b820=Math['atan2'](_0x3df7f6[0x6b+0x8*-0x3d6+-0x205*-0xf]/_0x39de5f,_0x3df7f6[-0x10f4+0x434*-0x5+0x46*0x8b]/_0x1f0c1d),_0x55033b=Math['atan2'](_0x3df7f6[0x45a*0x3+0xa*-0x20c+0x76b]/_0x332a69,_0x3df7f6[0x3f3*0x3+0x884+-0x145d]/_0x332a69)):(_0x55033b=0x43f*-0x4+-0x853+0x1f*0xd1,_0x58b820=-Math['atan2'](_0x3df7f6[0xa07+-0x1*0x18c7+-0x5*-0x2f4]/_0x39de5f,_0x3df7f6[-0x1d*-0x67+-0x34c*0x3+-0x1c2]/_0x39de5f)):(_0x55033b=-0x22b0+-0x1*-0x5bb+-0x1cf5*-0x1,_0x58b820=Math['atan2'](_0x3df7f6[0x225f+-0x87d*-0x2+-0x11*0x305]/_0x39de5f,_0x3df7f6[-0x565+-0x2684+0x2bee]/_0x39de5f)),_0x5b0bc5['set'](_0x58b820,_0x194941,_0x55033b)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x96c+-0x1*-0x2627+0x281*-0x13,-0x2*-0x101+0x67d+-0x87f,-0xb8d+-0x1baf+-0x6c*-0x5d,-0x2*-0xd03+-0x4f+0x1*-0x19b7,-0x819*-0x2+0x61d+-0x164f,-0x5cb*0x3+0x420+0xd41,0xf*-0x1b3+0x1530+0x44d,0x26ea+0x1595+-0x3c7f,0x1c93+-0x4*0x952+0x2e7*0x3,-0x1*-0x1436+0x23fb+-0x3831,0x17*-0x5e+0x1f14+-0x2*0xb51,-0x1f15+0x1*-0x2167+-0x101f*-0x4,0x1c69+0x297+-0x1f00,-0x198d*0x1+-0x4*-0x94a+0xb9b*-0x1,0xea1+0x1*0x2147+0x18*-0x1ff,-0x21ee+-0x4a*-0x6b+0x300])));let q=Ur;const aa=class aa{constructor(_0x41b9df=-0xe71+-0x721+-0xfb*-0x16,_0x37c0e7=-0x2*0x12b3+0x16a5+-0x1*-0xec1,_0x1c0585=-0x722*0x1+0x1*0x38e+-0xe5*-0x4,_0x1158af=-0x25*-0x3d+0x2f2+-0x25a*0x5){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x41b9df['length']===0x24c2*-0x1+0x688+0xe*0x229?(this['x']=_0x41b9df[-0x1d7+-0x1*0x25c4+0x279b*0x1],this['y']=_0x41b9df[0x2*0x108d+0x7*0x403+-0x3d2e],this['z']=_0x41b9df[0x166+0x2*0x213+-0x2c5*0x2],this['w']=_0x41b9df[0x17f5*0x1+-0x154e+0xa9*-0x4]):(this['x']=_0x41b9df,this['y']=_0x37c0e7,this['z']=_0x1c0585,this['w']=_0x1158af);}['clone'](){const _0x53eeef=this['constructo'+'r'];return new _0x53eeef(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x1c230c=this){return this['x']=_0x1c230c['x']*-(-0x1d*0xdd+0x1*-0x2024+0x1a*0x233),this['y']=_0x1c230c['y']*-(0x2*0xf17+0xc08+-0x2a35),this['z']=_0x1c230c['z']*-(-0x56+0x89d+-0x846),this['w']=_0x1c230c['w'],this;}['copy'](_0x4b1319){return this['x']=_0x4b1319['x'],this['y']=_0x4b1319['y'],this['z']=_0x4b1319['z'],this['w']=_0x4b1319['w'],this;}['equals'](_0x2557d5){return this['x']===_0x2557d5['x']&&this['y']===_0x2557d5['y']&&this['z']===_0x2557d5['z']&&this['w']===_0x2557d5['w'];}['equalsAppr'+'ox'](_0x1040f6,_0x21f478=0x1*-0x1459+0x1e71+-0xa18+0.000001){return Math['abs'](this['x']-_0x1040f6['x'])<_0x21f478&&Math['abs'](this['y']-_0x1040f6['y'])<_0x21f478&&Math['abs'](this['z']-_0x1040f6['z'])<_0x21f478&&Math['abs'](this['w']-_0x1040f6['w'])<_0x21f478;}['getAxisAng'+'le'](_0x270075){let _0x501b64=Math['acos'](this['w'])*(0x2340+0x1ab*0xf+-0x3c43*0x1);const _0x55ce85=Math['sin'](_0x501b64/(0x6*0x47+0x81*0x1d+-0x1045));return _0x55ce85!==0xd5f+-0x23be+0x165f?(_0x270075['x']=this['x']/_0x55ce85,_0x270075['y']=this['y']/_0x55ce85,_0x270075['z']=this['z']/_0x55ce85,(_0x270075['x']<0x922+0xb49+0x1*-0x146b||_0x270075['y']<0x39*0x7e+-0x6*-0x42b+-0x3510||_0x270075['z']<0x1a13+-0x1151*0x1+0x76*-0x13)&&(_0x270075['x']*=-(0x2262+0x277+-0x106*0x24),_0x270075['y']*=-(0x4*-0x233+0x3*-0x9c1+0x2610),_0x270075['z']*=-(0x22e1+-0x22c3+-0x1d),_0x501b64*=-(0x26dd+0x1*-0xa56+-0x6*0x4c1))):(_0x270075['x']=0x58d*0x1+0x700*-0x2+0x874,_0x270075['y']=-0xfcd+0x14c0+-0x1*0x4f3,_0x270075['z']=0xbe3*-0x1+-0x6*0x4df+0x291d),_0x501b64*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x595b44=new T()){let _0x4dc9a1,_0x93abd3,_0x4fa5a3;const _0x484593=this['x'],_0x2363c0=this['y'],_0x159567=this['z'],_0x31847e=this['w'],_0x46e25d=(0x2a2*-0x1+-0x586+0x82a*0x1)*(_0x31847e*_0x2363c0-_0x484593*_0x159567);return _0x46e25d<=-(-0x623*-0x4+-0x13*0x8c+0x6*-0x25c+0.99999)?(_0x4dc9a1=(0x1b50+-0x1*0x43f+-0x170f)*Math['atan2'](_0x484593,_0x31847e),_0x93abd3=-Math['PI']/(-0xfbe+-0x983*-0x1+0x63d),_0x4fa5a3=0x2*0xadb+-0x1b45+0x58f):_0x46e25d>=0x10c7+-0x86f+0x216*-0x4+0.99999?(_0x4dc9a1=(-0x1aa*-0xa+-0x2591+0x14ef)*Math['atan2'](_0x484593,_0x31847e),_0x93abd3=Math['PI']/(-0xb*-0x19b+-0x3ad*0x5+0xba),_0x4fa5a3=-0x429+-0x1dc+0x605):(_0x4dc9a1=Math['atan2']((0xa6*0x32+-0x89*-0x29+-0x365b)*(_0x31847e*_0x484593+_0x2363c0*_0x159567),0xbdb*0x1+-0x151*-0x18+-0x2b72-(0x23*0xa+0x1*-0x89+-0xd3)*(_0x484593*_0x484593+_0x2363c0*_0x2363c0)),_0x93abd3=Math['asin'](_0x46e25d),_0x4fa5a3=Math['atan2']((-0x239d+0x5*0x7a9+-0x2ae)*(_0x31847e*_0x159567+_0x484593*_0x2363c0),-0x977+0x207c+0x1*-0x1704-(0x4*-0x8e0+-0xd7f*0x2+0xc8*0x50)*(_0x2363c0*_0x2363c0+_0x159567*_0x159567))),_0x595b44['set'](_0x4dc9a1,_0x93abd3,_0x4fa5a3)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0xcc8657=this){return this['conjugate'](_0xcc8657)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x5388cf){const _0x1daa9c=this['x'],_0x58d1eb=this['y'],_0x23f60b=this['z'],_0x142fa7=this['w'],_0x1faf7a=_0x5388cf['x'],_0x4f04c0=_0x5388cf['y'],_0x280987=_0x5388cf['z'],_0x40381c=_0x5388cf['w'];return this['x']=_0x142fa7*_0x1faf7a+_0x1daa9c*_0x40381c+_0x58d1eb*_0x280987-_0x23f60b*_0x4f04c0,this['y']=_0x142fa7*_0x4f04c0+_0x58d1eb*_0x40381c+_0x23f60b*_0x1faf7a-_0x1daa9c*_0x280987,this['z']=_0x142fa7*_0x280987+_0x23f60b*_0x40381c+_0x1daa9c*_0x4f04c0-_0x58d1eb*_0x1faf7a,this['w']=_0x142fa7*_0x40381c-_0x1daa9c*_0x1faf7a-_0x58d1eb*_0x4f04c0-_0x23f60b*_0x280987,this;}['mulScalar'](_0x1e7c79,_0xb38a52=this){return this['x']=_0xb38a52['x']*_0x1e7c79,this['y']=_0xb38a52['y']*_0x1e7c79,this['z']=_0xb38a52['z']*_0x1e7c79,this['w']=_0xb38a52['w']*_0x1e7c79,this;}['mul2'](_0x5ed992,_0x7c1227){const _0x5d029f=_0x5ed992['x'],_0x26048e=_0x5ed992['y'],_0x30641f=_0x5ed992['z'],_0x57cbab=_0x5ed992['w'],_0x5b7c7a=_0x7c1227['x'],_0xd16c6d=_0x7c1227['y'],_0x4764ff=_0x7c1227['z'],_0xc490d1=_0x7c1227['w'];return this['x']=_0x57cbab*_0x5b7c7a+_0x5d029f*_0xc490d1+_0x26048e*_0x4764ff-_0x30641f*_0xd16c6d,this['y']=_0x57cbab*_0xd16c6d+_0x26048e*_0xc490d1+_0x30641f*_0x5b7c7a-_0x5d029f*_0x4764ff,this['z']=_0x57cbab*_0x4764ff+_0x30641f*_0xc490d1+_0x5d029f*_0xd16c6d-_0x26048e*_0x5b7c7a,this['w']=_0x57cbab*_0xc490d1-_0x5d029f*_0x5b7c7a-_0x26048e*_0xd16c6d-_0x30641f*_0x4764ff,this;}['normalize'](_0x143c4f=this){let _0x552a9c=_0x143c4f['length']();return _0x552a9c===0x1fb5*-0x1+0x15d*-0xa+-0x2d57*-0x1?(this['x']=this['y']=this['z']=-0x1e01+0x2613+-0x812,this['w']=-0x2680+0xd2c+0x1955):(_0x552a9c=(0x24da+-0xe5d+-0x167c)/_0x552a9c,this['x']=_0x143c4f['x']*_0x552a9c,this['y']=_0x143c4f['y']*_0x552a9c,this['z']=_0x143c4f['z']*_0x552a9c,this['w']=_0x143c4f['w']*_0x552a9c),this;}['set'](_0x3109b,_0x5ef3c4,_0x3e9481,_0xec9780){return this['x']=_0x3109b,this['y']=_0x5ef3c4,this['z']=_0x3e9481,this['w']=_0xec9780,this;}['setFromAxi'+'sAngle'](_0x270368,_0x1668b5){_0x1668b5*=(-0x24f6+-0x612+-0x288*-0x11+0.5)*N['DEG_TO_RAD'];const _0x2c67eb=Math['sin'](_0x1668b5),_0x3963c7=Math['cos'](_0x1668b5);return this['x']=_0x2c67eb*_0x270368['x'],this['y']=_0x2c67eb*_0x270368['y'],this['z']=_0x2c67eb*_0x270368['z'],this['w']=_0x3963c7,this;}['setFromEul'+'erAngles'](_0x8e0ea6,_0x8f2e9e,_0x31e918){if(_0x8e0ea6 instanceof T){const _0x56da90=_0x8e0ea6;_0x8e0ea6=_0x56da90['x'],_0x8f2e9e=_0x56da90['y'],_0x31e918=_0x56da90['z'];}const _0x2d19e1=(-0x1*-0x1d55+0x1743+0x16*-0x264+0.5)*N['DEG_TO_RAD'];_0x8e0ea6*=_0x2d19e1,_0x8f2e9e*=_0x2d19e1,_0x31e918*=_0x2d19e1;const _0xd99b6a=Math['sin'](_0x8e0ea6),_0x44b2fa=Math['cos'](_0x8e0ea6),_0x574f79=Math['sin'](_0x8f2e9e),_0x4c368d=Math['cos'](_0x8f2e9e),_0x568e94=Math['sin'](_0x31e918),_0x3b08f4=Math['cos'](_0x31e918);return this['x']=_0xd99b6a*_0x4c368d*_0x3b08f4-_0x44b2fa*_0x574f79*_0x568e94,this['y']=_0x44b2fa*_0x574f79*_0x3b08f4+_0xd99b6a*_0x4c368d*_0x568e94,this['z']=_0x44b2fa*_0x4c368d*_0x568e94-_0xd99b6a*_0x574f79*_0x3b08f4,this['w']=_0x44b2fa*_0x4c368d*_0x3b08f4+_0xd99b6a*_0x574f79*_0x568e94,this;}['setFromMat'+'4'](_0xd0ba6b){const _0x2fc6cc=_0xd0ba6b['data'];let _0x443fd6=_0x2fc6cc[0x68a+-0x151b+-0xe91*-0x1],_0x22662f=_0x2fc6cc[0x2370+-0x442+0x1*-0x1f2d],_0xdb7628=_0x2fc6cc[-0x672*-0x1+-0xd5a+-0xa*-0xb1],_0xc959be=_0x2fc6cc[0x12b2+-0x1627+0x379],_0x26e941=_0x2fc6cc[0x1c66+0x2*-0x28d+-0x1747],_0x25ecae=_0x2fc6cc[0x8cc+-0x7*-0x124+-0x10c2],_0x346214=_0x2fc6cc[-0x1e09+-0x2da*0xc+0x7*0x92f],_0x570fc8=_0x2fc6cc[-0xe7*-0xf+0x1c80+-0x2a00],_0xab5116=_0x2fc6cc[0x8*0x461+0x957+-0x2c55],_0x3f45e2;return _0x3f45e2=_0x443fd6*_0x443fd6+_0x22662f*_0x22662f+_0xdb7628*_0xdb7628,_0x3f45e2===-0x8d0+-0x2069+0x2939?this['set'](-0x10c6+-0x5ce+0x1694,0x38*0x1+-0x14f0+-0x138*-0x11,-0x2*0xb3e+0x17c2*0x1+0x146*-0x1,0x1897+0x25f*-0x1+-0x1637):(_0x3f45e2=(0x281+0x447+-0x6c7)/Math['sqrt'](_0x3f45e2),_0x443fd6*=_0x3f45e2,_0x22662f*=_0x3f45e2,_0xdb7628*=_0x3f45e2,_0x3f45e2=_0xc959be*_0xc959be+_0x26e941*_0x26e941+_0x25ecae*_0x25ecae,_0x3f45e2===0x1bf+-0x1*-0xe97+0x7b*-0x22?this['set'](0xc6b+-0x65*0x5e+0x4ef*0x5,0x10*-0x1dc+0x1be5+0x1db,0x1aa2+0xaec+-0x258e,0x1d91+0xfc4+-0x2d54):(_0x3f45e2=(0x1*0x97+-0x3b3*-0x5+-0x1*0x1315)/Math['sqrt'](_0x3f45e2),_0xc959be*=_0x3f45e2,_0x26e941*=_0x3f45e2,_0x25ecae*=_0x3f45e2,_0x3f45e2=_0x346214*_0x346214+_0x570fc8*_0x570fc8+_0xab5116*_0xab5116,_0x3f45e2===0xf25*0x2+0x146*-0x18+0x46?this['set'](0x174a+-0x12e*-0x21+0x2d4*-0x16,0x37*-0x83+-0x1*0x503+0x2128,0x2a*-0xb3+-0x2*0x1d5+0xe*0x25c,-0x1eb*0x9+-0x10*-0x217+-0x1e*0x8a):(_0x3f45e2=(-0x6d3+0x207a*0x1+0x43*-0x62)/Math['sqrt'](_0x3f45e2),_0x346214*=_0x3f45e2,_0x570fc8*=_0x3f45e2,_0xab5116*=_0x3f45e2,_0xab5116<-0x26a*0x4+-0x1059+0x3*0x8ab?_0x443fd6>_0x26e941?this['set'](0x25dd+-0x78a*-0x1+-0x2d66+_0x443fd6-_0x26e941-_0xab5116,_0x22662f+_0xc959be,_0x346214+_0xdb7628,_0x25ecae-_0x570fc8):this['set'](_0x22662f+_0xc959be,-0x1*0x54e+0xf63+-0xa14-_0x443fd6+_0x26e941-_0xab5116,_0x25ecae+_0x570fc8,_0x346214-_0xdb7628):_0x443fd6<-_0x26e941?this['set'](_0x346214+_0xdb7628,_0x25ecae+_0x570fc8,0x1*0x7c6+0xe5d+-0x1622-_0x443fd6-_0x26e941+_0xab5116,_0x22662f-_0xc959be):this['set'](_0x25ecae-_0x570fc8,_0x346214-_0xdb7628,_0x22662f-_0xc959be,-0x24e9*0x1+-0x1e43+0x432d+_0x443fd6+_0x26e941+_0xab5116),this['mulScalar']((-0x56e+-0x1*0x988+0x1*0xef7)/this['length']()))));}['setFromDir'+'ections'](_0x5ec539,_0x5405a9){const _0x30d13=-0x11*0x21a+0x17*0x154+-0x52f*-0x1+_0x5ec539['dot'](_0x5405a9);return _0x30d13<Number['EPSILON']?Math['abs'](_0x5ec539['x'])>Math['abs'](_0x5ec539['y'])?(this['x']=-_0x5ec539['z'],this['y']=-0x22dc+0x1*-0x47f+0x275b,this['z']=_0x5ec539['x'],this['w']=0x21d5+0xe61+-0x3036):(this['x']=0x2*-0x11a2+-0x4c*0x20+0x2cc4,this['y']=-_0x5ec539['z'],this['z']=_0x5ec539['y'],this['w']=0x21b7+0x26c6+-0x7*0xa5b):(this['x']=_0x5ec539['y']*_0x5405a9['z']-_0x5ec539['z']*_0x5405a9['y'],this['y']=_0x5ec539['z']*_0x5405a9['x']-_0x5ec539['x']*_0x5405a9['z'],this['z']=_0x5ec539['x']*_0x5405a9['y']-_0x5ec539['y']*_0x5405a9['x'],this['w']=_0x30d13),this['normalize']();}['slerp'](_0x14597c,_0x327992,_0x57c4bf){const _0x2c022b=_0x14597c['x'],_0xe2f793=_0x14597c['y'],_0x4d38bf=_0x14597c['z'],_0x137786=_0x14597c['w'];let _0x478221=_0x327992['x'],_0x5ce5e9=_0x327992['y'],_0x413ea0=_0x327992['z'],_0x378912=_0x327992['w'],_0x5e6a86=_0x137786*_0x378912+_0x2c022b*_0x478221+_0xe2f793*_0x5ce5e9+_0x4d38bf*_0x413ea0;if(_0x5e6a86<0x1ad0+0x1*0x1fad+0x28b*-0x17&&(_0x378912=-_0x378912,_0x478221=-_0x478221,_0x5ce5e9=-_0x5ce5e9,_0x413ea0=-_0x413ea0,_0x5e6a86=-_0x5e6a86),Math['abs'](_0x5e6a86)>=0x1e8f+0x6b6+-0x2544)return this['w']=_0x137786,this['x']=_0x2c022b,this['y']=_0xe2f793,this['z']=_0x4d38bf,this;const _0x4c1e76=Math['acos'](_0x5e6a86),_0x115c9b=Math['sqrt'](-0x22e0+-0x7f*0x3+0x245e-_0x5e6a86*_0x5e6a86);if(Math['abs'](_0x115c9b)<-0x1dc7+-0x10f1+-0x4*-0xbae+0.001)return this['w']=_0x137786*(0x2312+0x18*-0x20+-0x335*0xa+0.5)+_0x378912*(-0x1*0x997+0x6+0x4f*0x1f+0.5),this['x']=_0x2c022b*(-0x1a1a+0x1c5e+-0x244+0.5)+_0x478221*(0xc*0x2b5+0x394+-0x2410+0.5),this['y']=_0xe2f793*(-0x2ef+0x3a9+-0x3*0x3e+0.5)+_0x5ce5e9*(-0x1*0x23b2+0x225a+0x4*0x56+0.5),this['z']=_0x4d38bf*(0x1cb4+0x10aa+0x16af*-0x2+0.5)+_0x413ea0*(-0x37b+0x486*0x6+-0x17a9+0.5),this;const _0x38ce93=Math['sin']((0x551*0x3+-0x24*0xe3+0x1*0xffa-_0x57c4bf)*_0x4c1e76)/_0x115c9b,_0x392b90=Math['sin'](_0x57c4bf*_0x4c1e76)/_0x115c9b;return this['w']=_0x137786*_0x38ce93+_0x378912*_0x392b90,this['x']=_0x2c022b*_0x38ce93+_0x478221*_0x392b90,this['y']=_0xe2f793*_0x38ce93+_0x5ce5e9*_0x392b90,this['z']=_0x4d38bf*_0x38ce93+_0x413ea0*_0x392b90,this;}['transformV'+'ector'](_0x35a4e2,_0x31297d=new T()){const _0x10c926=_0x35a4e2['x'],_0x3f4ea5=_0x35a4e2['y'],_0x39db0f=_0x35a4e2['z'],_0x19f373=this['x'],_0x16a8b6=this['y'],_0x49d951=this['z'],_0x55aa34=this['w'],_0x1b384d=_0x55aa34*_0x10c926+_0x16a8b6*_0x39db0f-_0x49d951*_0x3f4ea5,_0x57d357=_0x55aa34*_0x3f4ea5+_0x49d951*_0x10c926-_0x19f373*_0x39db0f,_0x5b056f=_0x55aa34*_0x39db0f+_0x19f373*_0x3f4ea5-_0x16a8b6*_0x10c926,_0x4eeb38=-_0x19f373*_0x10c926-_0x16a8b6*_0x3f4ea5-_0x49d951*_0x39db0f;return _0x31297d['x']=_0x1b384d*_0x55aa34+_0x4eeb38*-_0x19f373+_0x57d357*-_0x49d951-_0x5b056f*-_0x16a8b6,_0x31297d['y']=_0x57d357*_0x55aa34+_0x4eeb38*-_0x16a8b6+_0x5b056f*-_0x19f373-_0x1b384d*-_0x49d951,_0x31297d['z']=_0x5b056f*_0x55aa34+_0x4eeb38*-_0x49d951+_0x1b384d*-_0x16a8b6-_0x57d357*-_0x19f373,_0x31297d;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(-0x2592+0x1ee1+0x6b1,0x1*0x233d+0x844+0x7*-0x637,-0x2181+0xc33+0x154e,-0x13a0+0x455+-0x2c*-0x59))),c(aa,'ZERO',Object['freeze'](new aa(-0x7f*0x2d+0x1ff6+-0x9a3,-0x3*-0x9e1+0x972*-0x4+0x825,0x2e*0xc5+-0x7c2*-0x3+-0x1*0x3aac,-0x1ffb+-0x1*-0x490+0x1b6b)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x140cca,_0x31e405){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(-0x2f2*-0x8+0x185+-0x1915+0.5,0x243d+0x1f*-0x89+-0x2*0x9d3+0.5,0x1032+-0x2*0xc4c+-0x19*-0x56+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x140cca&&this['center']['copy'](_0x140cca),_0x31e405&&this['halfExtent'+'s']['copy'](_0x31e405));}['add'](_0x4079d4){const _0x1f8cf2=this['center'],_0x4cd11b=_0x1f8cf2['x'],_0x414dc5=_0x1f8cf2['y'],_0x579fbe=_0x1f8cf2['z'],_0x5b3ae4=this['halfExtent'+'s'],_0x3ea87d=_0x5b3ae4['x'],_0x26737e=_0x5b3ae4['y'],_0x591337=_0x5b3ae4['z'];let _0x439bfb=_0x4cd11b-_0x3ea87d,_0x5e8883=_0x4cd11b+_0x3ea87d,_0x28e40e=_0x414dc5-_0x26737e,_0x3ab1ed=_0x414dc5+_0x26737e,_0x1d6313=_0x579fbe-_0x591337,_0x111dfb=_0x579fbe+_0x591337;const _0x5544f1=_0x4079d4['center'],_0x447c80=_0x5544f1['x'],_0x114582=_0x5544f1['y'],_0x2d4a46=_0x5544f1['z'],_0x5cf112=_0x4079d4['halfExtent'+'s'],_0x407128=_0x5cf112['x'],_0x3343dc=_0x5cf112['y'],_0x425289=_0x5cf112['z'],_0x1ae283=_0x447c80-_0x407128,_0x2621a8=_0x447c80+_0x407128,_0x18136b=_0x114582-_0x3343dc,_0x251dc3=_0x114582+_0x3343dc,_0x287a1d=_0x2d4a46-_0x425289,_0x346578=_0x2d4a46+_0x425289;_0x1ae283<_0x439bfb&&(_0x439bfb=_0x1ae283),_0x2621a8>_0x5e8883&&(_0x5e8883=_0x2621a8),_0x18136b<_0x28e40e&&(_0x28e40e=_0x18136b),_0x251dc3>_0x3ab1ed&&(_0x3ab1ed=_0x251dc3),_0x287a1d<_0x1d6313&&(_0x1d6313=_0x287a1d),_0x346578>_0x111dfb&&(_0x111dfb=_0x346578),_0x1f8cf2['x']=(_0x439bfb+_0x5e8883)*(-0x92d+0xb79+-0x24c*0x1+0.5),_0x1f8cf2['y']=(_0x28e40e+_0x3ab1ed)*(0x1*0x20f4+-0x1079*-0x1+-0x316d+0.5),_0x1f8cf2['z']=(_0x1d6313+_0x111dfb)*(0x4*-0x461+0x2*0x275+-0x2*-0x64d+0.5),_0x5b3ae4['x']=(_0x5e8883-_0x439bfb)*(0x1*0x20ef+-0x79d*0x5+0x522+0.5),_0x5b3ae4['y']=(_0x3ab1ed-_0x28e40e)*(0x2254+-0xa0b+-0x1*0x1849+0.5),_0x5b3ae4['z']=(_0x111dfb-_0x1d6313)*(-0x15e3+0x308+0x12db+0.5);}['copy'](_0x354769){this['center']['copy'](_0x354769['center']),this['halfExtent'+'s']['copy'](_0x354769['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x1d93d2){const _0x4a1a92=this['getMax'](),_0x590702=this['getMin'](),_0x181179=_0x1d93d2['getMax'](),_0xceb55e=_0x1d93d2['getMin']();return _0x590702['x']<=_0x181179['x']&&_0x4a1a92['x']>=_0xceb55e['x']&&_0x590702['y']<=_0x181179['y']&&_0x4a1a92['y']>=_0xceb55e['y']&&_0x590702['z']<=_0x181179['z']&&_0x4a1a92['z']>=_0xceb55e['z'];}['_intersect'+'sRay'](_0x14112a,_0x3555c3){const _0x2b5ffc=vn['copy'](this['getMin']())['sub'](_0x14112a['origin']),_0x31eda0=bn['copy'](this['getMax']())['sub'](_0x14112a['origin']),_0x328a25=_0x14112a['direction'];_0x328a25['x']===-0x24f2*-0x1+-0x662+0xa30*-0x3?(_0x2b5ffc['x']=_0x2b5ffc['x']<-0xf6b+-0x9c+0x1007*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x31eda0['x']=_0x31eda0['x']<0xa7a*-0x2+-0x12d8+0x27cc?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2b5ffc['x']/=_0x328a25['x'],_0x31eda0['x']/=_0x328a25['x']),_0x328a25['y']===-0x29*0x53+-0x1006+0x1d51?(_0x2b5ffc['y']=_0x2b5ffc['y']<-0x2132+-0x1*0x23f5+0x4527?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x31eda0['y']=_0x31eda0['y']<0x19ad+-0x1072+-0x93b?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2b5ffc['y']/=_0x328a25['y'],_0x31eda0['y']/=_0x328a25['y']),_0x328a25['z']===-0x1d7a+-0x10fa*0x1+0x7be*0x6?(_0x2b5ffc['z']=_0x2b5ffc['z']<-0x1bac+-0x1f81+-0x1*-0x3b2d?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x31eda0['z']=_0x31eda0['z']<-0x223*-0x1+-0x1dc5+0x1ba2?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2b5ffc['z']/=_0x328a25['z'],_0x31eda0['z']/=_0x328a25['z']);const _0x516fd4=nm['set'](Math['min'](_0x2b5ffc['x'],_0x31eda0['x']),Math['min'](_0x2b5ffc['y'],_0x31eda0['y']),Math['min'](_0x2b5ffc['z'],_0x31eda0['z'])),_0x1b8fe9=am['set'](Math['max'](_0x2b5ffc['x'],_0x31eda0['x']),Math['max'](_0x2b5ffc['y'],_0x31eda0['y']),Math['max'](_0x2b5ffc['z'],_0x31eda0['z'])),_0x46e75b=Math['min'](Math['min'](_0x1b8fe9['x'],_0x1b8fe9['y']),_0x1b8fe9['z']),_0x194ca7=Math['max'](Math['max'](_0x516fd4['x'],_0x516fd4['y']),_0x516fd4['z']),_0x5730b2=_0x46e75b>=_0x194ca7&&_0x194ca7>=-0x1*0x1779+0xef9*-0x2+0x356b;return _0x5730b2&&_0x3555c3['copy'](_0x14112a['direction'])['mulScalar'](_0x194ca7)['add'](_0x14112a['origin']),_0x5730b2;}['_fastInter'+'sectsRay'](_0x2c0e2b){const _0x4d7c94=vn,_0x2b7644=bn,_0x59fbba=nm,_0x1cb064=am,_0x1b2ada=vS,_0xd58c75=_0x2c0e2b['direction'];return _0x4d7c94['sub2'](_0x2c0e2b['origin'],this['center']),_0x1cb064['set'](Math['abs'](_0x4d7c94['x']),Math['abs'](_0x4d7c94['y']),Math['abs'](_0x4d7c94['z'])),_0x59fbba['mul2'](_0x4d7c94,_0xd58c75),!(_0x1cb064['x']>this['halfExtent'+'s']['x']&&_0x59fbba['x']>=-0x1*0xfec+0x1*0x21dd+-0x11f1||_0x1cb064['y']>this['halfExtent'+'s']['y']&&_0x59fbba['y']>=0x12dd+0x44b*0x6+-0x2c9f||_0x1cb064['z']>this['halfExtent'+'s']['z']&&_0x59fbba['z']>=-0x22b8+0x2613+-0x35b||(_0x1b2ada['set'](Math['abs'](_0xd58c75['x']),Math['abs'](_0xd58c75['y']),Math['abs'](_0xd58c75['z'])),_0x2b7644['cross'](_0xd58c75,_0x4d7c94),_0x2b7644['set'](Math['abs'](_0x2b7644['x']),Math['abs'](_0x2b7644['y']),Math['abs'](_0x2b7644['z'])),_0x2b7644['x']>this['halfExtent'+'s']['y']*_0x1b2ada['z']+this['halfExtent'+'s']['z']*_0x1b2ada['y'])||_0x2b7644['y']>this['halfExtent'+'s']['x']*_0x1b2ada['z']+this['halfExtent'+'s']['z']*_0x1b2ada['x']||_0x2b7644['z']>this['halfExtent'+'s']['x']*_0x1b2ada['y']+this['halfExtent'+'s']['y']*_0x1b2ada['x']);}['intersects'+'Ray'](_0x350c02,_0x50dca7){return _0x50dca7?this['_intersect'+'sRay'](_0x350c02,_0x50dca7):this['_fastInter'+'sectsRay'](_0x350c02);}['setMinMax'](_0x30d915,_0x14c5fc){this['center']['add2'](_0x14c5fc,_0x30d915)['mulScalar'](0x214+-0x4*-0x469+-0x13b8+0.5),this['halfExtent'+'s']['sub2'](_0x14c5fc,_0x30d915)['mulScalar'](0x23bb+-0x1*-0x65b+-0x1*0x2a16+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x14e156){const _0x3ff2e5=this['getMin'](),_0x35741e=this['getMax']();return!(_0x14e156['x']<_0x3ff2e5['x']||_0x14e156['x']>_0x35741e['x']||_0x14e156['y']<_0x3ff2e5['y']||_0x14e156['y']>_0x35741e['y']||_0x14e156['z']<_0x3ff2e5['z']||_0x14e156['z']>_0x35741e['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x300a05,_0x5cbc1b,_0x4d2af9=!(-0xdbb*0x1+-0x4*0x5bf+0x24b8)){const _0x9cc32f=_0x300a05['center'],_0x410197=_0x300a05['halfExtent'+'s'],_0x17e2ac=_0x5cbc1b['data'];let _0x498e7a=_0x17e2ac[-0xdbb+0x1*-0x24ab+0x3266],_0x13ea03=_0x17e2ac[0x2234+0x2a*-0xda+0x2*0xca],_0x476550=_0x17e2ac[0xb*-0x7d+-0x1345+0x62b*0x4],_0x15fe21=_0x17e2ac[0xa*0x264+-0xa37+-0xdb0],_0x537b2e=_0x17e2ac[-0x1*-0xeef+-0x5de+-0x90c],_0x17dc61=_0x17e2ac[-0xb7f+-0x26+-0x17*-0x82],_0x796b78=_0x17e2ac[0x1e94+0xb32+-0x29c4],_0x57d953=_0x17e2ac[0x1b28+0x12f6+0x32*-0xec],_0xd60962=_0x17e2ac[0x5f3*-0x5+0x1129*-0x1+0x7d3*0x6];if(_0x4d2af9){let _0x2c4036=_0x498e7a*_0x498e7a+_0x13ea03*_0x13ea03+_0x476550*_0x476550;if(_0x2c4036>-0x97*0x25+-0x1961+0x2f34){const _0xf6972b=(0x4ef*0x6+0x1*0xe1d+0xe92*-0x3)/Math['sqrt'](_0x2c4036);_0x498e7a*=_0xf6972b,_0x13ea03*=_0xf6972b,_0x476550*=_0xf6972b;}if(_0x2c4036=_0x15fe21*_0x15fe21+_0x537b2e*_0x537b2e+_0x17dc61*_0x17dc61,_0x2c4036>0x65+0x99a+-0x9ff*0x1){const _0x5ddae9=(0x215d+-0x2*-0x104+-0x4*0x8d9)/Math['sqrt'](_0x2c4036);_0x15fe21*=_0x5ddae9,_0x537b2e*=_0x5ddae9,_0x17dc61*=_0x5ddae9;}if(_0x2c4036=_0x796b78*_0x796b78+_0x57d953*_0x57d953+_0xd60962*_0xd60962,_0x2c4036>-0x1473+-0x25b7+0x5d1*0xa){const _0x5d5134=(0x1*-0xe8+0x1ad7+-0x19ee)/Math['sqrt'](_0x2c4036);_0x796b78*=_0x5d5134,_0x57d953*=_0x5d5134,_0xd60962*=_0x5d5134;}}this['center']['set'](_0x17e2ac[-0x2f*-0x44+0x40c+-0xa*0x1a6]+_0x498e7a*_0x9cc32f['x']+_0x13ea03*_0x9cc32f['y']+_0x476550*_0x9cc32f['z'],_0x17e2ac[-0x30*-0x92+0x26cc+-0x421f*0x1]+_0x15fe21*_0x9cc32f['x']+_0x537b2e*_0x9cc32f['y']+_0x17dc61*_0x9cc32f['z'],_0x17e2ac[0x1304+0x1*0x403+0x1*-0x16f9]+_0x796b78*_0x9cc32f['x']+_0x57d953*_0x9cc32f['y']+_0xd60962*_0x9cc32f['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x498e7a)*_0x410197['x']+Math['abs'](_0x13ea03)*_0x410197['y']+Math['abs'](_0x476550)*_0x410197['z'],Math['abs'](_0x15fe21)*_0x410197['x']+Math['abs'](_0x537b2e)*_0x410197['y']+Math['abs'](_0x17dc61)*_0x410197['z'],Math['abs'](_0x796b78)*_0x410197['x']+Math['abs'](_0x57d953)*_0x410197['y']+Math['abs'](_0xd60962)*_0x410197['z']);}static['computeMin'+'Max'](_0x52ef98,_0x2289b4,_0x5d1286,_0x29d7e1=_0x52ef98['length']/(0x13ea+0x1*0x1063+-0x5*0x742)){if(_0x29d7e1>0x24*0x106+-0xe1c+0x4*-0x5af){let _0x117558=_0x52ef98[-0x1*0x2349+-0x6f9+0x3*0xe16],_0xd4294a=_0x52ef98[-0x883+-0x25*-0xe8+-0xc82*0x2],_0x33b8e6=_0x52ef98[-0x17ae+-0x254e+0x2*0x1e7f],_0x6da82a=_0x117558,_0x1b98f3=_0xd4294a,_0x37e964=_0x33b8e6;const _0x348faa=_0x29d7e1*(0x1907+0x1366+0x1*-0x2c6a);for(let _0x103ddb=-0x2689+0x1e44+0x212*0x4;_0x103ddb<_0x348faa;_0x103ddb+=-0x1*-0x1057+0x196f*-0x1+0x6f*0x15){const _0x2e838f=_0x52ef98[_0x103ddb],_0x3c8bd6=_0x52ef98[_0x103ddb+(-0x103d*-0x1+0x233f*-0x1+-0x1303*-0x1)],_0x7f8253=_0x52ef98[_0x103ddb+(0x19d9+-0xceb*0x3+0xcea)];_0x2e838f<_0x117558&&(_0x117558=_0x2e838f),_0x3c8bd6<_0xd4294a&&(_0xd4294a=_0x3c8bd6),_0x7f8253<_0x33b8e6&&(_0x33b8e6=_0x7f8253),_0x2e838f>_0x6da82a&&(_0x6da82a=_0x2e838f),_0x3c8bd6>_0x1b98f3&&(_0x1b98f3=_0x3c8bd6),_0x7f8253>_0x37e964&&(_0x37e964=_0x7f8253);}_0x2289b4['set'](_0x117558,_0xd4294a,_0x33b8e6),_0x5d1286['set'](_0x6da82a,_0x1b98f3,_0x37e964);}}['compute'](_0x4c7fa6,_0x27d2a3){_e['computeMin'+'Max'](_0x4c7fa6,vn,bn,_0x27d2a3),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x20ccdd){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x20ccdd)<=_0x20ccdd['radius']*_0x20ccdd['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x249255){const _0x4b07ec=this['getMin'](),_0x5e92a5=this['getMax']();let _0x6aaea9=0x1f87+-0x2595+0x60e;const _0x3148e8=['x','y','z'];for(let _0x12a3c0=-0x2290+-0x1*-0x1484+0x706*0x2;_0x12a3c0<-0xc23+-0x51*0xc+0xff2;++_0x12a3c0){let _0x1d6e38=-0x1*0xff5+-0x1127*-0x2+-0x1259;const _0x46153a=_0x249255['center'][_0x3148e8[_0x12a3c0]],_0x126f79=_0x4b07ec[_0x3148e8[_0x12a3c0]],_0x20f60d=_0x5e92a5[_0x3148e8[_0x12a3c0]];let _0x317016=-0x64f+-0x1e53*0x1+-0x2*-0x1251;_0x46153a<_0x126f79&&(_0x317016=_0x126f79-_0x46153a,_0x1d6e38+=_0x317016*_0x317016),_0x46153a>_0x20f60d&&(_0x317016=_0x46153a-_0x20f60d,_0x1d6e38+=_0x317016*_0x317016),_0x6aaea9+=_0x1d6e38;}return _0x6aaea9;}['_expand'](_0x3e7fe9,_0x174ab7){vn['add2'](this['getMin'](),_0x3e7fe9),bn['add2'](this['getMax'](),_0x174ab7),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x48f82f=new T(),_0x5c679d=-0x1148+-0x2325+-0x1*-0x346d+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x48f82f),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x48f82f,this['radius']=_0x5c679d);}['containsPo'+'int'](_0x44ac92){const _0x75520d=gl['sub2'](_0x44ac92,this['center'])['lengthSq'](),_0x39f31d=this['radius'];return _0x75520d<_0x39f31d*_0x39f31d;}['intersects'+'Ray'](_0x56ba12,_0x2610e6){const _0x176f29=gl['copy'](_0x56ba12['origin'])['sub'](this['center']),_0xdb9d06=_0x176f29['dot'](bS['copy'](_0x56ba12['direction'])['normalize']()),_0x5f4ca5=_0x176f29['dot'](_0x176f29)-this['radius']*this['radius'];if(_0x5f4ca5>-0xfd8+0x548+0xa90&&_0xdb9d06>0x26c+0x11b4+-0x1420)return!(0x1873+0x1c50+-0x34c2);const _0x100cfb=_0xdb9d06*_0xdb9d06-_0x5f4ca5;if(_0x100cfb<-0x47f*-0x1+-0x270c+0x228d)return!(0x348*-0x1+0x1*-0x1de4+0x212d);const _0x143912=Math['abs'](-_0xdb9d06-Math['sqrt'](_0x100cfb));return _0x2610e6&&_0x2610e6['copy'](_0x56ba12['direction'])['mulScalar'](_0x143912)['add'](_0x56ba12['origin']),!(-0x11c2+-0x18a2+0x2a64);}['intersects'+'BoundingSp'+'here'](_0x9a18a0){gl['sub2'](_0x9a18a0['center'],this['center']);const _0x51bca4=_0x9a18a0['radius']+this['radius'];return gl['lengthSq']()<=_0x51bca4*_0x51bca4;}}class hy{constructor(_0x1b9e80=T['UP'],_0x90e9ae=-0x258d+0xa6a+-0x1*-0x1b23){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x1b9e80),this['distance']=_0x90e9ae);}['clone'](){const _0x4daa96=this['constructo'+'r'];return new _0x4daa96()['copy'](this);}['copy'](_0x3ebc70){return this['normal']['copy'](_0x3ebc70['normal']),this['distance']=_0x3ebc70['distance'],this;}['intersects'+'Line'](_0x5aa8b0,_0x23b335,_0x44053a){const _0x29c901=this['distance'],_0x17eb2c=this['normal']['dot'](_0x5aa8b0)+_0x29c901,_0x437c46=this['normal']['dot'](_0x23b335)+_0x29c901,_0x218b3e=_0x17eb2c/(_0x17eb2c-_0x437c46),_0x3b71cb=_0x218b3e>=-0x1fd*0x13+-0x1*-0x1a1b+0xbac&&_0x218b3e<=-0x1b53*0x1+-0x2*0x4f+0x1bf2;return _0x3b71cb&&_0x44053a&&_0x44053a['lerp'](_0x5aa8b0,_0x23b335,_0x218b3e),_0x3b71cb;}['intersects'+'Ray'](_0x45a3b2,_0x2ad7fb){const _0x3c3ddd=this['normal']['dot'](_0x45a3b2['direction']);if(_0x3c3ddd===-0x1*-0x1f3f+-0x27*-0x1+0x1*-0x1f66)return!(0x8ba+0x1*-0x12e3+0xa2a);const _0x39f5ef=-(this['normal']['dot'](_0x45a3b2['origin'])+this['distance'])/_0x3c3ddd;return _0x39f5ef>=-0x6fc*-0x1+0x62+-0x75e&&_0x2ad7fb&&_0x2ad7fb['copy'](_0x45a3b2['direction'])['mulScalar'](_0x39f5ef)['add'](_0x45a3b2['origin']),_0x39f5ef>=0x41*0x1+-0x87b+-0x6*-0x15f;}['normalize'](){const _0xe15721=(-0x3*0x259+-0x2*0x473+0xff2)/this['normal']['length']();return this['normal']['mulScalar'](_0xe15721),this['distance']*=_0xe15721,this;}['set'](_0x2713a2,_0x2c0575,_0x15c0c3,_0x270c79){return this['normal']['set'](_0x2713a2,_0x2c0575,_0x15c0c3),this['distance']=_0x270c79,this;}['setFromPoi'+'ntNormal'](_0x1e40e4,_0x3ce50b){return this['normal']['copy'](_0x3ce50b),this['distance']=-this['normal']['dot'](_0x1e40e4),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x7ff99e=-0x238b+-0x989*-0x1+0x1a02;_0x7ff99e<-0x7a*0x3b+-0x37*-0x3b+0xf77;_0x7ff99e++)this['planes'][_0x7ff99e]=new hy();}['clone'](){const _0x5e28cd=this['constructo'+'r'];return new _0x5e28cd()['copy'](this);}['copy'](_0x39aba1){for(let _0x282ee3=-0x19ab*0x1+0x4*0x437+0x1c3*0x5;_0x282ee3<0x1*0xbfb+0xf6a*0x2+-0x2ac9;_0x282ee3++)this['planes'][_0x282ee3]['copy'](_0x39aba1['planes'][_0x282ee3]);return this;}['setFromMat'+'4'](_0x1d5e91){const [_0x5c3097,_0x3c44a2,_0x2c961b,_0x1eccd5,_0x145c38,_0x15a556,_0x5eaf99,_0x24e05a,_0x3fc4cf,_0x5ea18e,_0x16daea,_0x4a8b54,_0x1e68c6,_0x162597,_0xb656d2,_0x1aabdc]=_0x1d5e91['data'],_0x2063b9=this['planes'];_0x2063b9[-0x1eca+0x21c9+-0x2ff]['set'](_0x1eccd5-_0x5c3097,_0x24e05a-_0x145c38,_0x4a8b54-_0x3fc4cf,_0x1aabdc-_0x1e68c6)['normalize'](),_0x2063b9[0x17*0x10c+0x271+-0x1a84*0x1]['set'](_0x1eccd5+_0x5c3097,_0x24e05a+_0x145c38,_0x4a8b54+_0x3fc4cf,_0x1aabdc+_0x1e68c6)['normalize'](),_0x2063b9[-0x67f*-0x6+0x2*0x3be+-0x1*0x2e74]['set'](_0x1eccd5+_0x3c44a2,_0x24e05a+_0x15a556,_0x4a8b54+_0x5ea18e,_0x1aabdc+_0x162597)['normalize'](),_0x2063b9[-0x1dd2+0x1a35+0x3a0]['set'](_0x1eccd5-_0x3c44a2,_0x24e05a-_0x15a556,_0x4a8b54-_0x5ea18e,_0x1aabdc-_0x162597)['normalize'](),_0x2063b9[0x16bf+0x448*0x1+0xf*-0x1cd]['set'](_0x1eccd5-_0x2c961b,_0x24e05a-_0x5eaf99,_0x4a8b54-_0x16daea,_0x1aabdc-_0xb656d2)['normalize'](),_0x2063b9[0x2*0x62a+-0x1e8c+-0x123d*-0x1]['set'](_0x1eccd5+_0x2c961b,_0x24e05a+_0x5eaf99,_0x4a8b54+_0x16daea,_0x1aabdc+_0xb656d2)['normalize']();}['containsPo'+'int'](_0x157fd0){for(let _0x499873=0xafd+-0x2699+-0x7c*-0x39;_0x499873<-0x3cc+0xe*-0x3f+-0xba*-0xa;_0x499873++){const {normal:_0x531f4f,distance:_0x75e341}=this['planes'][_0x499873];if(_0x531f4f['dot'](_0x157fd0)+_0x75e341<=-0x607*-0x3+-0x1e66+0xc51)return!(0x2e6+0x31*-0x9a+0x1a95);}return!(0x2639+-0x192b+-0xd0e);}['containsSp'+'here'](_0x118817){const {center:_0x148afb,radius:_0x4b0982}=_0x118817;let _0x936777=-0x170e+0xe6f+0x89f*0x1;for(let _0x4262f7=-0x1ba+0x945+-0x1*0x78b;_0x4262f7<0x1397+0x2424+0x449*-0xd;_0x4262f7++){const {normal:_0x49a0f7,distance:_0x1a62a1}=this['planes'][_0x4262f7],_0x565103=_0x49a0f7['dot'](_0x148afb)+_0x1a62a1;if(_0x565103<=-_0x4b0982)return 0x1*0xdf+0x1f*-0xb+-0x76*-0x1;_0x565103>_0x4b0982&&_0x936777++;}return _0x936777===-0x1456*0x1+0x17cb+-0x36f*0x1?0x5*0x4d6+0x2*0x67f+-0x1295*0x2:0x7*-0x55b+0x1566+0x1018;}}class uu{constructor(_0x5a963e,_0x1cb065){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x5a963e&&this['origin']['copy'](_0x5a963e),_0x1cb065&&this['direction']['copy'](_0x1cb065));}['set'](_0x4f6d4,_0x411647){return this['origin']['copy'](_0x4f6d4),this['direction']['copy'](_0x411647),this;}['copy'](_0x23e34b){return this['set'](_0x23e34b['origin'],_0x23e34b['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=0x7a1+0x25db+0xa4*-0x47,ae=-0x9*-0x30f+-0x2708+0xb82,Of=-0xce9*0x3+-0x2a*0x7e+-0xe3*-0x43,kf=0x292*0xe+-0xc*-0x13e+0xcb9*-0x4,at=0x1*-0x2047+-0x13*0xed+-0x1*-0x31df,TS=0x5*-0x6fa+0x1468+0xe7c,dy=-0x1c2+-0x1a*0x175+0x48*0x8d,AS=0x227d+-0x21e2+-0x96,dc=-0x8*-0x416+0x58b+0x1*-0x2635,uc=0xd82+0xb30+-0x29*0x9a,Lt=0xf4e+-0xe5*-0x8+0x7d*-0x2e,ES=0x1002+0x2693+0x1*-0x3693,CS=-0x23df+-0x25d3+0x49b5*0x1,MS=0x9bb*0x2+0xeac+-0x221e,jt=-0x1a7f+0x81d+-0x1262*-0x1,Th=-0x17*-0x71+0x2519+-0x5*0x973,uy=-0x2359*0x1+0x17e*-0x19+0x48a9,PS=0x5*0x117+0x116f*-0x2+0x1d6e,Co=0x17b*-0x7+-0x2175+0x2bd3*0x1,Mo=-0x160d+0xd04+0x90b,Ah=0x2*0x37c+0x92b+-0x101f,mt=-0x30*0x7+0xcc3+-0xb73,rn=0x1*0x15eb+0x12*0x174+0x7*-0x6de,mo=0xc*0x85+-0x13f6+0xdbc*0x1,RS=0x1b4*0x8+0x1*0x32b+-0x10c8,de=-0x2*-0xc9b+-0x255d+-0x1*-0xc27,st=-0x103*-0x8+0x1563*0x1+-0x4d*0x62,fc=-0x295*-0x6+-0xa66*0x2+0x550,pc=-0xcf7*0x2+0x1*-0x1a1a+0x340b,mc=0x32*0x62+-0x3b9+-0xf67*0x1,nn=-0x12e0+0x9a+0x124b,IS=0x155e+-0x1517*0x1+-0x47,Eh=0x9c7*0x1+-0xb75*0x1+0x1af,Ch=0x1560+-0x15c3*-0x1+-0x1*0x2b21,fu=0x455*-0x7+0x2*0x136f+0x9c*-0xe,DS=0x241b+-0x1796+-0xc81,LS=-0x5c3*0x6+0x1f8b+0x1*0x30c,FS=0xbc6+-0x21*-0xdb+0x1*-0x27fb,Ai=0xbf5+0x1856+0x34c*-0xb,pu=-0x17d9+-0x749+0x1f22,Pi=0x15e3+0x56c*0x6+-0x571*0xa,nr=0x2*-0x10c7+0x1808+0x988,fy=-0x26eb+-0xc61+0x334c,py=0x53*-0x3+0x4*-0x2e+-0x1*-0x1b2,Bf=0x478+0x2123+0x785*-0x5,_c=0x127a+-0x10fd+-0x17a,Nf=0x1*-0x17a5+0x60e+0x119b*0x1,gc=0x84c+0x65*0x20+-0x14e7,dr=-0x5*0x69d+-0xbe8+0x1*0x2cff,Se=0xe17*0x1+0x600+0x282*-0x8,yc=0x6*0x2e6+0x185e+0xe*-0x2fb,zf=-0x1*0x2376+0x1e3a+0x545,$o=0x14e3*0x1+-0x2164+-0x13*-0xa9,xc=0x2bc+0x2517+-0x27c8,Je=0x2112+-0x5d*0x13+-0x1a1f,Sc=0x1*-0x1631+-0x926+0x1f64,Ke=-0x1*0x1c75+0x43*0x49+0x968,Ii=0x1559*0x1+0x9*-0x323+0x6f1,Ci=0x1d81+0x3*0x74b+-0x3352*0x1,vc=-0xcb*-0x3+0x2eb*-0x2+-0x1*-0x386,_a=-0xad*0x29+0xad*-0x5+0x1f28,Uf=-0xb9*-0xf+0x23f*-0xf+0x16ed,rs=-0x1*-0x1135+0x1f38+-0x3059,bc=-0x25*0x27+0xa86+-0x52*0xf,Vf=0x90d*0x3+-0x230+-0x18e1,Gf=0x1d47*0x1+-0x1552+0x7de*-0x1,qo=0x116+0x1128+-0x1226,Xo=0x441*0x1+-0x1*-0x1c02+0x2e*-0xb3,wc=0x1beb+0x2597*-0x1+0x9c6,Tc=-0x1f37+0x19ac+-0x1*-0x5a6,my=-0x300+0x1f3*-0x3+-0x1*-0x8f5,_y=-0x5d*0x26+-0x21c2+0x2fad,gy=-0x788+-0x2*0x7b4+0x170e,yy=-0xa8b+0x4*-0x266+-0x2*-0xa21,Hf=0x1631+-0x4*-0x756+-0x3369,xy=-0xaf1+-0xb29+0x163b,Wf=0x6de+-0xfab+-0x8ef*-0x1,$f=0x19*-0x103+-0xc11*-0x1+0x137*0xb,qf=-0xd*0x180+-0x137f+-0xe9*-0x2b,an=0x1*-0x1348+0x21f5+0x1*-0xe88,Xf=-0x239*-0x3+0x2*0xd0c+-0x17*0x16b,Sy=-0xfdd+0x1cae+-0x1*0xcaa,jf=0x123c+0x248d+-0x36a1,Yf=-0x5df*-0x3+-0x29*-0xd6+0x1*-0x33ba,Kf=-0x86*0x38+0x21*0x76+0x53*0x2c,Zf=0x1a00+0xa*0x3cb+0x3fc3*-0x1,Qf=-0x9c7+-0x1aae+0x24a1,vy=0x2591+0x1cc*0x3+-0x2ac8,Jf=0x1f30+-0x8a1+-0x11*0x151,Ac=0x7ed+-0x10*0x83+-0x72*-0x1,ep=-0x4c2*0x3+0x2392+-0x151c,ut=-0x1c85+-0x2650+-0x175*-0x2e,Ec=0x5e0+-0x1cd5+0x1727,tp=-0x1920+-0xa6+0x19f9,sp=0x231b+-0x4f1+-0x1df6,ip=-0xb15+0x1a1d+-0x159*0xb,mu=-0x1771+-0x21a1+-0x3*-0x1318,_u=0xe8f*0x1+0x2a3+-0x9*0x1e3,gu=-0xd04+-0x1a6e+0x27aa,yu=0x7*0x4a3+0xbcb+-0x2c03,xu=0x1*-0x2089+0x14ed+0x25*0x52,Su=0x1*-0x1631+-0x453+0xd*0x20f,by=-0x1*-0x1e07+-0x5d5+0x5*-0x4ca,wy=-0x3d5*-0x5+-0x4*0x1c6+0x6c*-0x1c,Ty=0x3d*0x9f+-0x26a9+0x108,Ay=-0x2f1*-0x1+-0x35*-0x28+-0xaf6,vu=0x20f1+-0x28d+-0x1e2*0x10,la=-0x2f*-0x4c+-0x812+-0x1df*0x3,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(-0x1*-0x1e9e+-0x226d+0x19*0x27)}],[sp,{'name':'R8','size':0x1,'ldr':!(0xf1e+-0x101*0x2+-0xd1c)}],[py,{'name':'L8','size':0x1,'ldr':!(-0x4cd*0x5+-0x1e75+0x3676)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x1*-0x1cf4+-0x3*-0x5bb+-0x2e25*0x1)}],[ip,{'name':'RG8','size':0x2,'ldr':!(-0x37*-0x55+-0x31*0x7a+0x517)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(-0xbda+0x25e0+0xd03*-0x2)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(-0x9*-0x16d+0x10*-0x239+-0x211*-0xb)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(0x33d+-0x1868+0x152b)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0x1016+-0x3d*0x2f+-0x1b49*-0x1)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(0x1*-0x1beb+-0x283*0x2+0x20f1),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(0x251f+0x3d4+0x28f3*-0x1),'srgb':!(0x1b8*-0x8+0xfb1+0x7*-0x47)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(-0x19f1+-0x1*-0x2023+-0x632),'srgb':!(0x1*0x1363+0x1266+-0x25c9)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(-0x863*0x1+-0x990*0x4+0x2ea3*0x1)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(0x16*0xdf+0x466*-0x7+-0x10*-0xba),'srgb':!(0x14fd*0x1+0x3*-0x4a9+-0x702)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(0x1012+-0x248d+0x147b),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x14d0+0x844+-0x4*0x745),'srgbFormat':_u}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x1*-0x1cdf+0xc72+0x2951*-0x1),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(0x18fc+0xf+-0x190b)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x3*-0x6cd+0x8f8+0xb6f),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x1e9*-0x10+0x11dd+0x1*0xcb3),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0xb46+0xb0f+0x37),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x1c32+-0x17e7+-0x3419*-0x1),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x1e26+-0x803+-0x1623),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x215d+-0x454+0x25b1),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x12ba*0x1+0xaa4+0x2*0x40b),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x91f*-0x1+0x9a3*0x1+-0x1*0x84)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x7*-0x4a+-0x175*-0x1a+-0x23dc)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x1454+0x61*0x47+0xb*-0x99),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x1f72+-0x2*-0x1200+-0x35*0x16),'srgb':!(-0x1f42+0x1b*0x51+0x16b7)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1*-0x8c8+-0x2*-0xfd5+-0x2872*0x1),'srgb':!(0x4*0x616+-0x137*-0x1+-0x198f)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x1*-0x721+0x6f*-0x47+0xd3*0x2e),'srgb':!(0x17*-0xef+0x207d+-0xb04)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x2149*-0x1+-0x1f*0x35+-0x1ade),'srgb':!(0x2*-0xfda+0x13a+0x1e7a)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x58*-0x1f+0x123d*-0x1+0x795),'srgb':!(0x254a+-0x89*0x35+0x1*-0x8ed)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x194a+0x2053+0x1*-0x399d),'srgb':!(0x1*0x1e33+-0xacf*-0x1+-0x2902)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x16db+-0x2e1*-0xb+-0x3686),'srgb':!(-0xd8f+-0x25eb*0x1+-0x16*-0x257)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(0x1e01+-0x647+-0xbdd*0x2)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x268+-0x2*0x16b+0x53e)}],[Wf,{'name':'R16I','size':0x2,'isInt':!(0x62b*-0x4+-0x2605+0x3eb1*0x1)}],[$f,{'name':'R16U','size':0x2,'isInt':!(-0x1*0x259c+0x19dc+0xbc0)}],[qf,{'name':'R32I','size':0x4,'isInt':!(0x3*0x315+-0x1462+0xb23*0x1)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0x82d+-0x222*0x12+-0x83*-0x5b)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(0x1274+-0x25ab*0x1+-0x1*-0x1337)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(0x1823+-0x122b+-0x5f8)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x182d+-0x2c9+0x2*0xd7b)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(0x1a43+0x1a7d+-0x34c0)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(-0x226e+-0x492+0x2*0x1380)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(0x2*0xccd+0x1a2c+-0x33c6)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0x239+-0x1*0x1d36+-0x3*-0x8ff)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0xc91+-0x5fe+0x33*-0x21)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(-0x12*-0x28+-0x238d+0x20bd)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(-0x22fe+0xa7*-0x1d+0x35e9*0x1)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(0x39e*-0x3+0xc1*-0x1d+-0x43*-0x7d)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0x6*0x2a0+-0x2*-0x2a5+0xa76*0x1)}]]),OS=_0x13d69b=>{var _0x367f1c;return((_0x367f1c=xt['get'](_0x13d69b))==null?void(0x1435+0x54*-0x3+0x103*-0x13):_0x367f1c['blockSize'])!==void(0x594*-0x5+0x1a*0x22+0x1870);},Mh=_0x98a8b=>{var _0x53a64c;return((_0x53a64c=xt['get'](_0x98a8b))==null?void(0x3*0xb39+-0x107*0x1d+-0x3e0):_0x53a64c['srgb'])===!(0x1*0x2af+-0x17a8+0x14f9);},ea=_0x488496=>{var _0x40db2f;return((_0x40db2f=xt['get'](_0x488496))==null?void(-0x2392+-0x23ed*-0x1+-0x5b):_0x40db2f['isInt'])===!(0x3*0xb3+0x19c*0x12+-0x1f11);},Cc=_0x292b0f=>{var _0x270dec;return((_0x270dec=xt['get'](_0x292b0f))==null?void(-0x183*0x11+-0x6a*0x21+0x275d):_0x270dec['srgbFormat'])||_0x292b0f;},kS=_0x16341f=>{for(const [_0x4c085d,_0x336334]of xt)if(_0x336334['srgbFormat']===_0x16341f)return _0x4c085d;return _0x16341f;},Ey=_0x7f24ff=>{const _0x1cbd33=xt['get'](_0x7f24ff);return!!(_0x1cbd33!=null&&_0x1cbd33['ldr']&&!(_0x1cbd33!=null&&_0x1cbd33['srgb']));},Cy=_0x47cc7=>{switch(_0x47cc7){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case Wf:case jf:case Jf:return Int16Array;case ip:case $f:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=-0xcf8+-0x891+0x1589*0x1,Pc=0x1283+0xa4b+-0x49*0x65,My=-0x26f3+-0x10fa*0x2+0x5*0xe95,Py=-0x1*0xdfb+-0x245e+-0x192e*-0x2,Ms=-0xca*-0x13+-0xa55+-0x4a5,ar=0x13ce+0x200e+0x33d7*-0x1,Yr=0x28e+0x11b9*0x2+0x1*-0x25fa,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=-0x683+0x130f+-0xc8b,ha=0x1ce5*0x1+0x135b*0x2+-0x439b,GS=-0x3ed*-0x1+0x27*-0xdd+0x1dc0,HS=-0xb43+0x1226+0xb*-0xa0,WS=0x167e*-0x1+0x2*0x223+0x123d,yl=-0x395+0x18*0x103+0x14b3*-0x1,Fy=-0x47*-0x10+-0x12df+0xe70,rd=-0x1*-0x136d+0x1b1b*0x1+-0x18d*0x1e,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0x1840+0x22f9+-0xab8,ur=-0x409*-0x5+-0x11d9+-0x252,Oy=-0x1a9*0x2+-0xfbb+0x1*0x1310,Us='2d',$S='2d-array',qS='cube',XS='3d',oh=-0x218e+0x575+0x1c19*0x1,nd=0x85f+-0x10*0x25e+-0x9d6*-0x3,jS=0x1*-0x201d+-0x633+0x2652,YS=0x26c2*-0x1+0x1ca3+0x1*0xa22,KS=0x2229+0x5c9*-0x5+-0x538,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=0x6*0x576+0x1d01+-0x3dc5,Kr=-0x413+-0x170d+0x1*0x1b21,Ic=-0x1d00+-0xc02+0x2904,el=-0x44b+0x40f+0x3f,By=-0x5f5+0x1*-0x155c+0x1b55,Do=0x118f+0x1827+-0x29b1,Ee=0x1933*0x1+-0x1*0x1fae+0x6f*0xf,ca=-0x1*0x2d8+-0x22dd+0xc5*0x31,ln=0xe*0x24d+-0x10b5+-0x80*0x1f,$s=-0x50e+0x1*0x1fed+-0x1add,or=-0xb79+0xbc1+-0x45,$t=0x145a+-0x542*0x4+0xb2,xa=0x798*0x2+0x78a+0x16b5*-0x1,Zr=-0x262f+-0x1*-0x359+0x22dc*0x1,Qr=-0x2*-0xf69+0x3b1+-0x1*0x227c,Jr=0x1ce3*0x1+-0x489*-0x1+-0x859*0x4,Lo=0x2394+0xcd3+0x182f*-0x2,Fo=-0x2fd+-0xf63+0x935*0x2,Oo=-0x1975+-0x1*0xbf1+0x2571,Rh=0xa*-0x17f+0x12*0xea+-0x172,ko=0x2419*-0x1+0x1817*0x1+0xc0f,Sa=0x16e5+0x359+0x2*-0xd18,JS=-0x663+-0x1082*0x1+0x16f4,ev=0x3*-0x10c+-0x3e5*-0x9+-0x1fd9,Dc=-0x259c+-0x1*0x2506+0x4ab3,tv=-0x15ba+0x1535+0x97,sv=0x15c6+0x12b7+-0x286a,iv=-0x17b4+-0x9e0+-0x59c*-0x6,Lc=-0x1*-0x12b3+-0xc0*-0x27+-0x2fde,Fc=-0x1eb*-0x3+-0x16a8+0x1*0x10fd,lp=0x174f+-0x25ea+0xeb2,Ny=-0x30*-0x3a+-0x649*0x2+-0xe5*-0x2,rv=-0x1591+0x1*-0x1b1f+-0xb5*-0x45,va=-0x1*-0xea4+-0x188*-0x2+-0x119a,ba=-0x10ec+0x1c83+-0xb7c,wa=-0x151*-0x1+-0x11ff+-0xe*-0x133,Ta=0x21d0+0x454+-0x2607,Aa=-0x1a9e+-0x1*0x1778+0x3234,Oc=-0x1*0x1c4f+-0x541*0x5+0x36b3,kc=0x13bf+0x2434+0x37d3*-0x1,Ea=-0xf0f+0x1*0x2237+-0x1307*0x1,Bc=0x18d7*-0x1+-0x8d4+0x21cd,Nc=-0x1c73*0x1+0x1*-0x1ef7+0x3b8d*0x1,Ca=0x177+-0x5*0x7c1+0x2572,zc=-0x1089+0x1b4*0x2+0xd46,Uc=0x257f+-0xa*0x251+0xe2f*-0x1,Ih=0x119d+-0x5*0x2a6+-0x438,hp=0x61*-0x11+-0x1288+-0x1*-0x1921,cp=0x5*-0x255+0x4ba+0x718,nv=-0x15e9+0xbcb+-0x1*-0xa48,av=0x30d+0x1b64+-0x1e46,ov=-0x12a2+-0xea8+0x2176,lv=-0x281*0x2+-0x1d0d+0x1c*0x139,hv=-0x555+-0x3*-0x7eb+-0x123e,cv=-0x6*0x86+-0x1c9*0x4+-0x13*-0x8d,dv=-0x25ee+-0x830+0x2e4e,uv=0x23d*-0x11+-0xead*-0x1+0x1791,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x30df02,_0x34a9f1)=>{_0x30df02['forEach'](_0x1e6826=>pv['set'](_0x1e6826,_0x34a9f1));});const mv='webgl2',up=0x1808+0x1*0x6a5+0x1*-0x1eac,li=-0x3*0x977+0x1aeb+-0x5f*-0x4,_v=0x5f4+-0x1042*-0x1+-0x1632,gv='ldr',zy=-0x369*-0x3+0x8*-0x1ca+0x416,Uy=-0xdbd*-0x1+-0x257a+-0x1*-0x17bf,Vy=-0x6*0x597+0xb9b*-0x1+0x2d29,Gy=-0x190e+-0x1*-0xc6f+0xca7,Hy=-0x3da*0x7+-0x25*0x59+0x27e3*0x1,Wy=0x1*0x112c+0x92c+-0x1a38,$y=0x231e+0x95+-0x2373,qy=0xc*-0xbc+-0x3*-0x3f9+-0x29b,yv=0x1e4+0x2369+0x6*-0x60d,Dh=0x1a*-0xd+0x1216*0x1+0x94*-0x1d,Xy=0x5ac+0x5ed+-0xb98,Eu=-0x1f89+-0x42a*0x7+0x3cb1,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[-0x7*0x57c+0x7ab*-0x5+0x1*0x4cbc,0xec3+-0x213d+0x127b,-0x12c6+-0x1315+-0xc9f*-0x3,-0x1d8e+-0x589+-0x705*-0x5,-0x1*-0x1304+-0x48*-0xc+-0x1660,-0x478*0x2+-0x2*-0x119b+-0x1a42,-0x1a3*-0x5+0xe9*-0x2a+-0x1*-0x1e0f,0x2*0xdf4+-0x1944+0x1*-0x2a2],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[0x1*0x85f+-0x1c1c*-0x1+-0x247a,-0xdc9+-0x640+0x140b,0x799+-0x321+-0x4c*0xf],ve={};ve[He]=0x64*-0x56+0xec*-0x1f+0x3e2c,ve[Yt]=0xaf0+0xcaa*0x2+0x1*-0x2443,ve[Ys]=-0x4ef+0x12*0x8e+-0x50b*0x1,ve[qt]=-0x10b2+-0x2394+0xa75*0x5,ve[At]=0x1*0x22c1+0x33f*0x1+0xd*-0x2ec,ve[ns]=0x1048+-0x2577+-0x2*-0xa9a,ve[_n]=0x1b85+0x3*-0x62b+-0x8fe,ve[jo]=0x472+-0x16d*0x6+0x161*0x3,ve[Yo]=-0x158d+-0x3*-0x2ef+-0x2*-0x664,ve[Ko]=-0x162b+-0xa5*-0xd+-0xdd3*-0x1,ve[Zo]=0x1870+-0xe81+0x9e5*-0x1,ve[Qo]=-0xf96+0x1f41+-0xfa0,ve[Jo]=-0x9fe+-0x1*0x267d+0x3087,ve[Zs]=-0x350+-0x1b58+0x1eb5,ve[bu]=-0xb*-0xc8+-0x704+-0x194,ve[wu]=-0x948+-0x48d*-0x1+0x4bc,ve[Ry]=0x22*0xcf+0x13*-0xe3+-0xaa3,ve[Iy]=-0xc9*-0x5+0x202d+-0x2417,ve[Dy]=-0x2*-0x1235+0x4*0x431+-0x551*0xa,ve[BS]=0x1003+-0x13e7+-0x5b*-0xb,ve[NS]=-0x1513+0x5d0+0xf49,ve[zS]=-0x21c1*0x1+-0x1ce1+0x3ea9,ve[Po]=-0x1*0x1297+-0x1175+0x120a*0x2,ve[Ro]=0x1c8d+-0x14f*-0xf+-0x3025,ve[US]=0x1*-0xbdb+-0x1a1f+0x2604,ve[VS]=0x176c+0x1e5c+0x1*-0x35bd,ve[rp]=0xb2a*0x1+-0x3c7+-0x757*0x1,ve[ga]=0x2196+0x215f+0x8*-0x85d,ve[np]=-0x7*0x57e+0x2*-0x547+0x222*0x17,ve[ya]=-0x1*-0x2217+0x151*0x17+-0x404f;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=0x1f9*0xd+0x955+-0xb*0x32e;}static['pushGpuMar'+'ker'](_0x4346e0,_0x2269ca){Ki['markers']['push'](_0x2269ca),_0x4346e0['pushMarker'](_0x2269ca);}static['popGpuMark'+'er'](_0x12164d){Ki['markers']['length']&&Ki['markers']['pop'](),_0x12164d['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=0xc15*0x1+0x248d*-0x1+-0x414*-0x6;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Vc{constructor(_0x4b9c9b,_0x110b57){c(this,'slot',-(-0x2433*-0x1+0x2*0x1307+0x21*-0x240)),c(this,'scopeId',null),(this['name']=_0x4b9c9b,this['visibility']=_0x110b57);}}class pp extends Vc{}class Av extends Vc{constructor(_0x5e95b0,_0x5a2819,_0x198eeb=!(-0x1*-0x1ff6+-0x1f8b+-0x6a)){super(_0x5e95b0,_0x5a2819),c(this,'format',''),(this['readOnly']=_0x198eeb,v['assert'](_0x198eeb||!(_0x5a2819&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x31fe16,_0x4f908e,_0x4a9607=Us,_0x3baa74=oh,_0x4aef0d=!(-0x179+-0x499+0x612),_0x11858f=null){super(_0x31fe16,_0x4f908e),this['textureDim'+'ension']=_0x4a9607,this['sampleType']=_0x3baa74,this['hasSampler']=_0x4aef0d,this['samplerNam'+'e']=_0x11858f??_0x31fe16+'_sampler';}}class Ev extends Vc{constructor(_0x4fcbe6,_0x42f824=Se,_0x43453c=Us,_0xd3f6d8=!(0x240*-0x11+0x3ec+0x2254),_0x1e2b7c=!(0xfbd+0x607*0x6+0x1a*-0x1ff)){super(_0x4fcbe6,_v),this['format']=_0x42f824,this['textureDim'+'ension']=_0x43453c,this['write']=_0xd3f6d8,this['read']=_0x1e2b7c;}}class jy{constructor(_0x57e9cd,_0x4e3459){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x4e3459));let _0x1ac142=-0x3e*-0x23+-0x1052*0x1+0x7d8;_0x4e3459['forEach'](_0x10ecee=>{_0x10ecee['slot']=_0x1ac142++,_0x10ecee instanceof fi&&_0x10ecee['hasSampler']&&_0x1ac142++,_0x10ecee instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x10ecee):_0x10ecee instanceof fi?this['textureFor'+'mats']['push'](_0x10ecee):_0x10ecee instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x10ecee):_0x10ecee instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x10ecee):v['assert']('Invalid\x20bi'+'nd\x20format',_0x10ecee);}),this['device']=_0x57e9cd;const _0xf98d88=_0x57e9cd['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x3c22ff,_0x29d6e2)=>this['bufferForm'+'atsMap']['set'](_0x3c22ff['name'],_0x29d6e2)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x4b7b6b,_0x4c8000)=>{this['textureFor'+'matsMap']['set'](_0x4b7b6b['name'],_0x4c8000),_0x4b7b6b['scopeId']=_0xf98d88['resolve'](_0x4b7b6b['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x22fc99,_0xa0744c)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x22fc99['name'],_0xa0744c),_0x22fc99['scopeId']=_0xf98d88['resolve'](_0x22fc99['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x2976c2,_0x994f1e)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x2976c2['name'],_0x994f1e),_0x2976c2['scopeId']=_0xf98d88['resolve'](_0x2976c2['name']);}),this['impl']=_0x57e9cd['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x1fdfce){const _0x58c513=this['textureFor'+'matsMap']['get'](_0x1fdfce);return _0x58c513!==void(-0x116f*0x2+0xde+0x2200)?this['textureFor'+'mats'][_0x58c513]:null;}['getStorage'+'Texture'](_0xb3850a){const _0x30c877=this['storageTex'+'tureFormat'+'sMap']['get'](_0xb3850a);return _0x30c877!==void(-0x26cb+0xb3e+0x3*0x92f)?this['storageTex'+'tureFormat'+'s'][_0x30c877]:null;}['getShaderD'+'eclaration'+'Textures'](_0x34e55c){let _0x167485='';return this['textureFor'+'mats']['forEach'](_0x246607=>{let _0x3c594c=Tv[_0x246607['textureDim'+'ension']];v['assert'](_0x3c594c,'Unsupporte'+'d\x20texture\x20'+'type',_0x246607['textureDim'+'ension']);const _0x183dcb=_0x3c594c==='texture2DA'+'rray',_0x2fba21=_0x246607['sampleType']===KS?'u':_0x246607['sampleType']===YS?'i':'';_0x3c594c=''+_0x2fba21+_0x3c594c;let _0x51e307='',_0x3362c8='';_0x183dcb&&(_0x51e307='_texture',_0x3362c8='#define\x20'+_0x246607['name']+'\x20'+_0x2fba21+('sampler2DA'+'rray(')+_0x246607['name']+_0x51e307+',\x20'+_0x246607['name']+'_sampler)\x0a'),_0x167485+='layout(set'+'\x20=\x20'+_0x34e55c+(',\x20binding\x20'+'=\x20')+_0x246607['slot']+')\x20uniform\x20'+_0x3c594c+'\x20'+_0x246607['name']+_0x51e307+';\x0a',_0x246607['hasSampler']&&(_0x167485+='layout(set'+'\x20=\x20'+_0x34e55c+(',\x20binding\x20'+'=\x20')+(_0x246607['slot']+(-0x3*0x42d+-0x52c*-0x1+0x75c))+(')\x20uniform\x20'+'sampler\x20')+_0x246607['name']+'_sampler;\x0a'),_0x167485+=_0x3362c8;}),_0x167485;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x1e2cf6,_0x5eaf25){return this['_cache']['has'](_0x1e2cf6)||(this['_cache']['set'](_0x1e2cf6,_0x5eaf25()),_0x1e2cf6['on']('destroy',()=>{this['remove'](_0x1e2cf6);}),_0x1e2cf6['on']('devicelost',()=>{var _0x31ea50,_0x2632e9;(_0x2632e9=(_0x31ea50=this['_cache']['get'](_0x1e2cf6))==null?void(-0x1*0x155c+-0x109a+-0x56*-0x71):_0x31ea50['loseContex'+'t'])==null||_0x2632e9['call'](_0x31ea50,_0x1e2cf6);})),this['_cache']['get'](_0x1e2cf6);}['remove'](_0x5f127f){var _0x2217ba,_0x53bc70;(_0x53bc70=(_0x2217ba=this['_cache']['get'](_0x5f127f))==null?void(0x1*0x14ef+-0x1*-0x178d+-0x2c7c):_0x2217ba['destroy'])==null||_0x53bc70['call'](_0x2217ba,_0x5f127f),this['_cache']['delete'](_0x5f127f);}}class Mi{static['calcLevelD'+'imension'](_0x5653fd,_0x291e4b){return Math['max'](_0x5653fd>>_0x291e4b,-0x413+-0x17e0+0x4*0x6fd);}static['calcMipLev'+'elsCount'](_0x255020,_0x232c3f,_0x14c79d=-0x1d0+-0x5*0x10d+0x389*0x2){return-0x12cd*0x2+-0x12*-0x124+-0x3*-0x5b1+Math['floor'](Math['log2'](Math['max'](_0x255020,_0x232c3f,_0x14c79d)));}static['calcLevelG'+'puSize'](_0x1bde0f,_0x298325,_0x3a9896,_0x56e8e0){var _0x55c4a7;const _0x24c140=xt['get'](_0x56e8e0);v['assert'](_0x24c140!==void(0x1bb3+-0x2*0x423+-0x136d*0x1),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x56e8e0);const _0x31335a=((_0x55c4a7=xt['get'](_0x56e8e0))==null?void(-0x3fa+0x1*0x181d+-0x5*0x407):_0x55c4a7['size'])??-0x76e+0x16ea+-0xf7c;if(_0x31335a>-0x241*-0x4+-0x7a*-0x7+-0xc5a)return _0x1bde0f*_0x298325*_0x3a9896*_0x31335a;const _0x1b0ef1=_0x24c140['blockSize']??0x7*-0x547+-0x10e3+-0x14*-0x2b1;let _0x301c37=Math['floor']((_0x1bde0f+(-0x7c4+-0x24d0+0x2c97))/(0x5f3*-0x3+0x1eef+-0xd12));const _0x5d26d7=Math['floor']((_0x298325+(0x3ce+-0x149a+0x10cf))/(0xc99+-0xbcd+-0xc8)),_0x48562c=Math['floor']((_0x3a9896+(0x994+-0x3e*0xa1+0x1d6d))/(-0x17f*0x2+0x73a*0x3+-0x2*0x956));return(_0x56e8e0===qo||_0x56e8e0===Xo)&&(_0x301c37=Math['max'](Math['floor'](_0x301c37/(0x2185+0x25aa+-0x472d)),0x2e*-0xd+-0x1ddd+-0x9*-0x394)),_0x301c37*_0x5d26d7*_0x48562c*_0x1b0ef1;}static['calcGpuSiz'+'e'](_0x1e582f,_0x1185c4,_0x1af014,_0x2ef64d,_0x5854b7,_0x48fa80){let _0x363430=0x4eb*0x4+-0x5e+-0x2c2*0x7;for(;_0x363430+=Mi['calcLevelG'+'puSize'](_0x1e582f,_0x1185c4,_0x1af014,_0x2ef64d),!(!_0x5854b7||_0x1e582f===-0xac1*0x2+0x18a5+0x191*-0x2&&_0x1185c4===0x20ff+-0x2689+0x3*0x1d9&&_0x1af014===-0x1ee1+-0x135+0x2017);)_0x1e582f=Math['max'](_0x1e582f>>0x3fb+-0xb07+0x70d,0x1cb8+-0x1*0x21d+-0x1a9a),_0x1185c4=Math['max'](_0x1185c4>>0x5*-0x29+0xc7d*-0x1+-0xd4b*-0x1,0xfbb*0x1+0xb2*-0x29+-0x1*-0xcc8),_0x1af014=Math['max'](_0x1af014>>-0x90b+-0x2389*0x1+-0x1*-0x2c95,0x18bd+0x1885*0x1+-0x579*0x9);return _0x363430*(_0x48fa80?0xc3e*-0x2+0x93f+-0xf43*-0x1:-0x1bd7+-0x2278+0x3e50);}}let Cv=0xff7*0x1+-0x1ef4+0xefd*0x1;class he{constructor(_0x319e37,_0x19cd7a={}){c(this,'name'),c(this,'_gpuSize',0x3bc+-0xea3+0xae7),c(this,'id',Cv++),c(this,'_invalid',!(0x25a8+0x10*0x8a+-0x2e47)),c(this,'_lockedLev'+'el',-(0x4*0x39f+0x5*0x2dd+-0x26*0xc2)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',-0x18a*-0x14+-0xba+-0x1e0e),c(this,'_storage',!(0x3b8+-0x1b92+0x17db)),c(this,'_numLevels',0x1*-0xfb+0x3*-0x4bf+-0x8*-0x1e7),c(this,'_numLevels'+'Requested');var _0x8e9848;this['device']=_0x319e37,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x19cd7a['width']||Number['isInteger'](_0x19cd7a['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x19cd7a),v['assert'](!_0x19cd7a['height']||Number['isInteger'](_0x19cd7a['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x19cd7a),v['assert'](!_0x19cd7a['depth']||Number['isInteger'](_0x19cd7a['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x19cd7a),this['name']=_0x19cd7a['name']??'',this['_width']=Math['floor'](_0x19cd7a['width']??-0xca+-0x8*-0x3ac+-0x6*0x4c3),this['_height']=Math['floor'](_0x19cd7a['height']??0x969+-0x1f2*-0x7+-0x1703),this['_format']=_0x19cd7a['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x19cd7a['minFilter']=de,_0x19cd7a['magFilter']=de),this['_volume']=_0x19cd7a['volume']??!(0x26af+-0x7f4*0x4+-0x6de),this['_depth']=Math['floor'](_0x19cd7a['depth']??-0x1134+-0xd72+0x1ea7),this['_arrayLeng'+'th']=Math['floor'](_0x19cd7a['arrayLengt'+'h']??-0xb7b+-0x19bc+0x2537),this['_storage']=_0x19cd7a['storage']??!(-0x1c6f+0x8b*0x2f+0x2eb*0x1),this['_cubemap']=_0x19cd7a['cubemap']??!(0x8b*0x1+0x1f9*-0x13+-0x7*-0x547),this['_flipY']=_0x19cd7a['flipY']??!(0x1415+0x33*0x8+-0x15ac),this['_premultip'+'lyAlpha']=_0x19cd7a['premultipl'+'yAlpha']??!(-0x757+-0x1*-0x1d25+-0x15cd),this['_mipmaps']=_0x19cd7a['mipmaps']??!(-0x1*0x1d82+-0xa7*-0x25+0x55f),this['_numLevels'+'Requested']=_0x19cd7a['numLevels'],_0x19cd7a['numLevels']!==void(0x2579+0x4c6+-0x2a3f)&&(this['_numLevels']=_0x19cd7a['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x19cd7a['minFilter']??nn,this['_magFilter']=_0x19cd7a['magFilter']??st,this['_anisotrop'+'y']=_0x19cd7a['anisotropy']??-0x17a2+-0xf79+-0x9c7*-0x4,this['_addressU']=_0x19cd7a['addressU']??tt,this['_addressV']=_0x19cd7a['addressV']??tt,this['_addressW']=_0x19cd7a['addressW']??tt,this['_compareOn'+'Read']=_0x19cd7a['compareOnR'+'ead']??!(-0x64d+0x4*-0x523+-0x7*-0x3d6),this['_compareFu'+'nc']=_0x19cd7a['compareFun'+'c']??Eh,this['type']=_0x19cd7a['hasOwnProp'+'erty']('type')?_0x19cd7a['type']:Di,v['assert'](!_0x19cd7a['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x19cd7a['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x19cd7a['projection']&&_0x19cd7a['projection']!==Au&&(this['projection']=_0x19cd7a['projection']),this['profilerHi'+'nt']=_0x19cd7a['profilerHi'+'nt']??0x228a+-0xd36+-0x1554,this['_levels']=_0x19cd7a['levels'];const _0x1c4b32=!!_0x19cd7a['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x1c4b32),_0x319e37['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x8e9848=xt['get'](this['format']))==null?void(-0xb21+0xd7+0xa4a):_0x8e9848['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0xd60c17=this['device'];if(_0xd60c17){const _0x4a0328=_0xd60c17['textures']['indexOf'](this);_0x4a0328!==-(-0x9*0xa7+0x19e4+-0x1404)&&_0xd60c17['textures']['splice'](_0x4a0328,0x27d*0x4+-0x26d2*-0x1+-0x30c5),_0xd60c17['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0xd60c17),this['adjustVram'+'SizeTracki'+'ng'](_0xd60c17['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x43268a=!(-0xf95+-0x163b+0x25d0)){var _0x301a88;const {device:_0x4d29c2}=this;(_0x301a88=this['impl'])==null||_0x301a88['destroy'](_0x4d29c2),this['impl']=null,this['impl']=_0x4d29c2['createText'+'ureImpl'](this),this['dirtyAll'](),_0x43268a&&this['upload']();}['resize'](_0x3ffc18,_0x25b226,_0x177286=-0xb81+0x1044+-0x4c2){const _0x15f60f=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x15f60f['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x15f60f),this['_width']=Math['floor'](_0x3ffc18),this['_height']=Math['floor'](_0x25b226),this['_depth']=Math['floor'](_0x177286),this['_updateNum'+'Level'](),this['impl']=_0x15f60f['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x34b037,_0x11f719){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x11f719+('\x20vram.text'+'ure:\x20')+_0x34b037['tex']+'\x20=>\x20'+(_0x34b037['tex']+_0x11f719)),_0x34b037['tex']+=_0x11f719,this['profilerHi'+'nt']===Tu?_0x34b037['texShadow']+=_0x11f719:this['profilerHi'+'nt']===ur?_0x34b037['texAsset']+=_0x11f719:this['profilerHi'+'nt']===Oy&&(_0x34b037['texLightma'+'p']+=_0x11f719);}['propertyCh'+'anged'](_0x20c3e4){this['impl']['propertyCh'+'anged'](_0x20c3e4),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x160346=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):0xbcf+-0x1*-0xc9b+-0x1869,_0x29f338=this['_numLevels'+'Requested'];_0x29f338!==void(0xb*0x182+0x123f+0xf1*-0x25)&&_0x29f338>_0x160346&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x160346,this),this['_numLevels']=Math['min'](_0x29f338??_0x160346,_0x160346),this['_mipmaps']=this['_numLevels']>-0x1f8c+0x1146+0xe47;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x1274df){this['_minFilter']!==_0x1274df&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x1274df,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x436a72){this['_magFilter']!==_0x436a72&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x436a72,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0xaa3541){this['_addressU']!==_0xaa3541&&(this['_addressU']=_0xaa3541,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x13a744){this['_addressV']!==_0x13a744&&(this['_addressV']=_0x13a744,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x4b764f){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x4b764f!==this['_addressW']&&(this['_addressW']=_0x4b764f,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x17e953){this['_compareOn'+'Read']!==_0x17e953&&(this['_compareOn'+'Read']=_0x17e953,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x2c36d8){this['_compareFu'+'nc']!==_0x2c36d8&&(this['_compareFu'+'nc']=_0x2c36d8,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x3aa4d0){this['_anisotrop'+'y']!==_0x3aa4d0&&(this['_anisotrop'+'y']=_0x3aa4d0,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x2acaa2){this['_mipmaps']!==_0x2acaa2&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x2acaa2,_0x2acaa2&&(this['_needsMipm'+'apsUpload']=!(-0x8c1+0x2165+-0x18a4)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x1f5e8b=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x18c3+0x1354*0x2+-0xde4);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x1f5e8b,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x1d*0xab+0x1e20+-0xac1*0x1;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0xc2d950){var _0x212f29,_0x2cc442,_0x4ce77a,_0x1e18ed;const _0x2ca587=Mh(this['format']);if(_0xc2d950!==_0x2ca587){if(_0xc2d950){const _0x7de24e=Cc(this['format']);this['_format']!==_0x7de24e&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x212f29=xt['get'](this['format']))==null?void(0x341+0x1*0x24f7+-0x9c*0x42):_0x212f29['name'])+'\x20->\x20'+((_0x2cc442=xt['get'](_0x7de24e))==null?void(0x1c4+0xa*0x3af+-0x3*0xcde):_0x2cc442['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x7de24e,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x1e77+-0x4*-0x41f+0xdfb));}else{const _0x1faf06=kS(this['format']);this['_format']!==_0x1faf06&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x4ce77a=xt['get'](this['format']))==null?void(0x1527+-0x24b9+0x1*0xf92):_0x4ce77a['name'])+'\x20->\x20'+((_0x1e18ed=xt['get'](_0x1faf06))==null?void(-0x5*-0x26+0x217c*0x1+-0x223a):_0x1e18ed['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1faf06,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x1e6f*0x1+0x16fe+-0xf*-0x7f));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x39f877){this['_flipY']!==_0x39f877&&(this['_flipY']=_0x39f877,this['_needsUplo'+'ad']=!(0x5cd+0x90+-0x65d));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x275dbe){this['_premultip'+'lyAlpha']!==_0x275dbe&&(this['_premultip'+'lyAlpha']=_0x275dbe,this['_needsUplo'+'ad']=!(0x1d47+-0x1d63*0x1+-0x1*-0x1c));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x3fc+-0x7*-0xcd+-0x1eb*0x5),!(0x1127+0x43*0x61+-0x2a8a),!(0xe02+0x16a*-0x17+0x6*0x316),!(-0x1190*0x1+0x4*0x2c6+-0x18*-0x45),!(-0x1c6f+-0x1*-0x1a6b+0x56*0x6),!(-0x1*0x77d+-0x2*0x10c1+0x28ff)]]:[!(-0xb1e+0x1d59+-0x167*0xd)],this['_needsUplo'+'ad']=!(-0xabf*-0x1+-0x22a6+0x17e7*0x1),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x1*-0x2d3+-0xeb1*-0x2+-0x42*0x67),this['propertyCh'+'anged'](yv);}['lock'](_0x5fbd7e={}){_0x5fbd7e['level']??(_0x5fbd7e['level']=-0x1082*-0x1+0x1eec*-0x1+-0x2*-0x735),_0x5fbd7e['face']??(_0x5fbd7e['face']=-0xdeb*0x1+-0x1221+-0x125*-0x1c),_0x5fbd7e['mode']??(_0x5fbd7e['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x5fbd7e['mode']===Fy||_0x5fbd7e['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x5fbd7e['mode'],this['_lockedLev'+'el']=_0x5fbd7e['level'];const _0x3b755d=this['cubemap']?this['_levels'][_0x5fbd7e['face']]:this['_levels'];if(_0x3b755d[_0x5fbd7e['level']]===null){const _0x3bb7ee=Math['max'](-0xa99*-0x1+-0x8*-0xe6+-0x11c8,this['_width']>>_0x5fbd7e['level']),_0x3390d6=Math['max'](0x1b5+-0x1c1f+0x1*0x1a6b,this['_height']>>_0x5fbd7e['level']),_0x3fb32a=Math['max'](-0x16df+0x60f*0x6+0x159*-0xa,this['_depth']>>_0x5fbd7e['level']),_0x1f9a52=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x3bb7ee,_0x3390d6,_0x3fb32a,this['_format']));_0x3b755d[_0x5fbd7e['level']]=new(Cy(this['_format']))(_0x1f9a52);}return _0x3b755d[_0x5fbd7e['level']];}['setSource'](_0x8f77ca,_0x5c682f=-0x1*-0xd99+-0x12f+0x1c6*-0x7){let _0x1b45f4=!(-0x1*-0x519+0x12cd+-0x17e5),_0x155331,_0x5b1778;if(this['_cubemap']){if(_0x8f77ca[-0x2379+-0x1*-0xa1d+0x195c]){_0x155331=_0x8f77ca[0x1*0x20ed+0xd7e+-0x2e6b]['width']||0xd*-0x233+-0x161b+0x15*0x26a,_0x5b1778=_0x8f77ca[-0x1995*-0x1+0x2569+-0x3efe]['height']||0x1*-0x2411+-0x1*0x139c+-0x37ad*-0x1;for(let _0xc9a54e=0x11*0x1e5+0x26c0+-0x5*0xe31;_0xc9a54e<-0x269e+0x56a+-0x109d*-0x2;_0xc9a54e++){const _0x9bb0b0=_0x8f77ca[_0xc9a54e];if(!_0x9bb0b0||_0x9bb0b0['width']!==_0x155331||_0x9bb0b0['height']!==_0x5b1778||!this['device']['_isBrowser'+'Interface'](_0x9bb0b0)){_0x1b45f4=!(-0x1595+-0x92*-0x2b+-0x2f1);break;}}}else _0x1b45f4=!(-0x3*0x25b+0x3eb*-0x9+0x2a54);if(!_0x1b45f4){for(let _0x20ad6a=-0x1945+0x471+0x14d4;_0x20ad6a<-0x1421+0x10*-0x9+-0x1*-0x14b7;_0x20ad6a++)this['_levels'][_0x5c682f][_0x20ad6a]!==_0x8f77ca[_0x20ad6a]&&(this['_levelsUpd'+'ated'][_0x5c682f][_0x20ad6a]=!(-0x9fe*0x3+0x1*-0xf45+0x2d3f));}}else this['device']['_isBrowser'+'Interface'](_0x8f77ca)||(_0x1b45f4=!(0x1*0x13f4+0x7c4*0x1+-0x2*0xddc)),_0x1b45f4||(_0x8f77ca!==this['_levels'][_0x5c682f]&&(this['_levelsUpd'+'ated'][_0x5c682f]=!(0x1b39+-0x1d93+0x25a)),_0x8f77ca instanceof HTMLVideoElement?(_0x155331=_0x8f77ca['videoWidth'],_0x5b1778=_0x8f77ca['videoHeigh'+'t']):(_0x155331=_0x8f77ca['width'],_0x5b1778=_0x8f77ca['height']));if(_0x1b45f4){if(this['_width']=-0x209f*-0x1+0x401*0x7+-0x3ca2,this['_height']=0x221+0x23cd+-0x25ea,this['_cubemap']){for(let _0x28f6e7=-0x1*-0x1fcf+-0x2423+-0x4*-0x115;_0x28f6e7<0x165a+0x4*-0x905+-0x6e0*-0x2;_0x28f6e7++)this['_levels'][_0x5c682f][_0x28f6e7]=null,this['_levelsUpd'+'ated'][_0x5c682f][_0x28f6e7]=!(0xb81+0x17*-0x12a+0xf45);}else this['_levels'][_0x5c682f]=null,this['_levelsUpd'+'ated'][_0x5c682f]=!(-0x8e4+-0x1*0xa59+-0x5*-0x3d9);}else _0x5c682f===0xaf6+0x1f05+0x1*-0x29fb&&(this['_width']=_0x155331,this['_height']=_0x5b1778),this['_levels'][_0x5c682f]=_0x8f77ca;(this['_invalid']!==_0x1b45f4||!_0x1b45f4)&&(this['_invalid']=_0x1b45f4,this['upload']());}['getSource'](_0x418479=0x1dd8+-0x16d9+0x9*-0xc7){return this['_levels'][_0x418479];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(-0xc3+0x11*-0x1ac+0x1d30),this['_lockedMod'+'e']=yl;}['upload'](){var _0x171601,_0x1ecf1e;this['_needsUplo'+'ad']=!(0x16d5+0x1ddb+0x696*-0x8),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x1ecf1e=(_0x171601=this['impl'])['uploadImme'+'diate'])==null||_0x1ecf1e['call'](_0x171601,this['device'],this);}['read'](_0x46aad9,_0x520278,_0x1eb2b9,_0x355286,_0x86f73b={}){var _0xab8ce7,_0x26b1da;return(_0x26b1da=(_0xab8ce7=this['impl'])['read'])==null?void(0x1*0x1f76+0x1525+-0x349b):_0x26b1da['call'](_0xab8ce7,_0x46aad9,_0x520278,_0x1eb2b9,_0x355286,_0x86f73b);}}const Mv={'white':[0x8fd*0x4+0x1c0+0x1*-0x24b5,0x6df*0x5+-0x1c0b+-0x551,0x1681+0x200d+-0x358f,-0x157f+0x5de*0x2+-0x66*-0x1b],'gray':[-0xd05+0x3*0x602+-0x1*0x481,-0x6*-0x10d+0xe5c+-0x59*0x3a,0x2525+-0x3d7*0x1+-0x20ce,0xa98+0x203c+-0x1*0x29d5],'black':[-0x2*-0x390+0x35*0x22+0xe2a*-0x1,-0x248+0x2*-0x1340+0x28c8,0x1*-0x26e5+-0x38b*0x9+0x46c8,-0x1456+-0x12a7+0x27fc],'normal':[-0x2*-0x1169+-0x5d0+-0x1c82,-0x23*-0xa9+0xa89+0x65*-0x54,0x3ff*0x1+-0xdb8+0xe*0xc4,-0x129a+0x1594+0xd*-0x27],'pink':[0x3d*-0x3a+-0x1f2b+0x2dfc,-0x1aac+0x1*-0x2137+0x3c63*0x1,-0x1d04+0x2642+-0x83f,0x7de+0x13a9*-0x1+0xcca]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x420418=>{_0x420418['destroy']();});}}const Rv=new Ot(),en=(_0x229a5d,_0x6bef2e)=>{const _0x1fe5a9=Rv['get'](_0x229a5d,()=>new Pv());if(!_0x1fe5a9['map']['has'](_0x6bef2e)){const _0x4cf3d6=new he(_0x229a5d,{'name':'built-in-t'+'exture-'+_0x6bef2e,'width':0x1,'height':0x1,'format':Se}),_0x564dc1=_0x4cf3d6['lock'](),_0x5a0939=Mv[_0x6bef2e];v['assert'](_0x5a0939,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x6bef2e+('\x27\x20not\x20foun'+'d')),_0x564dc1['set'](_0x5a0939),_0x4cf3d6['unlock'](),_0x1fe5a9['map']['set'](_0x6bef2e,_0x4cf3d6);}return _0x1fe5a9['map']['get'](_0x6bef2e);};let Iv=0x9ce*0x1+0x132a+-0x1cf8;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x364732,_0xc6fde5,_0x25f0dc){c(this,'renderVers'+'ionUpdated',-(0x263c+-0x2344+-0x2f7)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x364732,this['format']=_0xc6fde5,this['dirty']=!(0x2*0x248+-0x1*-0x13de+-0x186e),this['impl']=_0x364732['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x25f0dc,_0x25f0dc&&this['setUniform'+'Buffer'](fp,_0x25f0dc),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0xc6fde5));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0xc9b2ac,_0x245293){const _0xb04fb0=this['format']['bufferForm'+'atsMap']['get'](_0xc9b2ac);v['assert'](_0xb04fb0!==void(-0x13c9+-0x1*0x13b5+0x13bf*0x2),'Setting\x20a\x20'+'uniform\x20['+_0xc9b2ac+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0xb04fb0]!==_0x245293&&(this['uniformBuf'+'fers'][_0xb04fb0]=_0x245293,this['dirty']=!(-0x1*-0x22fc+0x1*0x1857+0x3b53*-0x1));}['setStorage'+'Buffer'](_0x15d849,_0x102b07){const _0x61453f=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x15d849);v['assert'](_0x61453f!==void(0x1e7e+0x1ab5+0x9*-0x65b),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x15d849+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x61453f]!==_0x102b07&&(this['storageBuf'+'fers'][_0x61453f]=_0x102b07,this['dirty']=!(0x193a*-0x1+-0x1f35*0x1+-0x386f*-0x1));}['setTexture'](_0x47120b,_0x4ca957){const _0x524249=this['format']['textureFor'+'matsMap']['get'](_0x47120b);v['assert'](_0x524249!==void(0x7*-0x199+0x1*0x668+0x4c7*0x1),'Setting\x20a\x20'+'texture\x20['+_0x47120b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x524249]!==_0x4ca957?(this['textures'][_0x524249]=_0x4ca957,this['dirty']=!(0x1dbf+0x4c*-0x29+-0x1193)):this['renderVers'+'ionUpdated']<_0x4ca957['renderVers'+'ionDirty']&&(this['dirty']=!(-0x7b4+0x1*0xad2+-0x31e));}['setStorage'+'Texture'](_0x459997,_0x24f0b2){const _0x5f0532=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x459997);v['assert'](_0x5f0532!==void(-0x1b1*-0x17+0xd30+-0x3417),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x459997+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x5f0532]!==_0x24f0b2?(this['storageTex'+'tures'][_0x5f0532]=_0x24f0b2,this['dirty']=!(-0x1*-0xc12+-0x13af+0x79d*0x1)):this['renderVers'+'ionUpdated']<_0x24f0b2['renderVers'+'ionDirty']&&(this['dirty']=!(0x1*0x10d4+-0x10bc+-0x18));}['updateUnif'+'ormBuffers'](){for(let _0x5f06a4=0x9*-0x13d+-0x1ba+0xcdf;_0x5f06a4<this['uniformBuf'+'fers']['length'];_0x5f06a4++)this['uniformBuf'+'fers'][_0x5f06a4]['update']();}['update'](){const {textureFormats:_0x2e4c05,storageTextureFormats:_0x2680db,storageBufferFormats:_0x85da11}=this['format'];for(let _0x179cbb=-0xcc+0x538*0x2+-0x9a4;_0x179cbb<_0x2e4c05['length'];_0x179cbb++){const _0x2091b1=_0x2e4c05[_0x179cbb];let _0x2ff178=_0x2091b1['scopeId']['value'];_0x2ff178||(_0x2091b1['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x2ff178=en(this['device'],'white')),_0x2091b1['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x2ff178=en(this['device'],'pink')),_0x2ff178||(v['errorOnce']('Texture\x20'+_0x2091b1['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x2ff178=en(this['device'],'pink'))),this['setTexture'](_0x2091b1['name'],_0x2ff178);}for(let _0x359f60=0x1935*0x1+0x16b6+0x57*-0x8d;_0x359f60<_0x2680db['length'];_0x359f60++){const _0x174c87=_0x2680db[_0x359f60],_0x40950b=_0x174c87['scopeId']['value'];v['assert'](_0x40950b,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x174c87['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x174c87['name'],_0x40950b);}for(let _0x3b2656=-0x1ea+0xb*0x51+-0x191;_0x3b2656<_0x85da11['length'];_0x3b2656++){const _0x1de260=_0x85da11[_0x3b2656],_0x1ce35a=_0x1de260['scopeId']['value'];v['assert'](_0x1ce35a,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x1de260['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x1de260['name'],_0x1ce35a);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x539b73=-0x203e+-0x2*0x134b+-0x3*-0x179c;_0x539b73<this['uniformBuf'+'fers']['length'];_0x539b73++){const _0x72371e=this['uniformBuf'+'fers'][_0x539b73];this['uniformBuf'+'ferOffsets'][_0x539b73]=_0x72371e['offset'],this['renderVers'+'ionUpdated']<_0x72371e['renderVers'+'ionDirty']&&(this['dirty']=!(-0x174b*-0x1+-0x128f+-0x4bc));}this['dirty']&&(this['dirty']=!(-0x1f52+-0x253c+-0x448f*-0x1),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x39efc,_0x37c550,_0x284c2a,_0x564295=0x73*0x25+-0x208e+0xff0){return _0x39efc&~(_0x564295<<_0x284c2a)|_0x37c550<<_0x284c2a;},'get'(_0x242d9f,_0x47d719,_0x2aff29=-0x154*-0x1b+0x10a7+-0x3482){return _0x242d9f>>_0x47d719&_0x2aff29;},'all'(_0xc1b07b,_0x2464d3,_0x13eb5e=0x1*0x890+-0x2d*0x1d+0x376*-0x1){const _0x51ca15=_0x13eb5e<<_0x2464d3;return(_0xc1b07b&_0x51ca15)===_0x51ca15;},'any'(_0x16de1f,_0x31f3bb,_0x1ac91b=0x11ae*0x2+0x87*-0xb+-0xd*0x246){return(_0x16de1f&_0x1ac91b<<_0x31f3bb)!==0xb18+0x20a4+-0x2bbc;}},xl=-0x7f*-0x11+0x9*0x12f+0x2b9*-0x7,Vi=0x16c5+0x1539+-0x45*0xa3,dm=-0x3fb*0x5+-0x25c4+-0x1*-0x39ab,um=0x111a*-0x1+0x1592+-0x475,fm=-0xcdf+0x259c+-0x18b6,pm=-0x21*-0x46+0x40f+-0x2*0x685,mm=0xd19+0xa12+0x3d*-0x61,_m=-0xc39*-0x1+0x49d+-0x10c4,Cu=0x23de*-0x1+0x2d*-0xd5+0x4965,gm=0x854+0x829*0x4+-0x28e1,ym=-0xa7f+0xb*0x2c9+-0x140c,xm=0x4*-0x166+-0x1fd+0x7ae,Sm=0x1*-0x4f7+-0x26*-0xbf+0x3*-0x7c3,Dv=0x261f+-0x765*0x1+-0x1eab,Lv=Cu,zs=class zs{constructor(_0x9de216=!(-0x15*0xc5+0xcab+-0x1*-0x37f),_0x129a55=Lt,_0x551cfb=at,_0x4bf66f=kf,_0x1eaa9e,_0xf6159a,_0x18036b,_0x53006e=!(-0xc*0xde+0xec6+-0x45e),_0x5aa879=!(0x1139+0x1d85+-0x2ebe),_0x6a5372=!(0x1*0x71+0x1a11+0x1*-0x1a82),_0x4b1b34=!(0x246+-0x217a+0x1f34)){c(this,'target0',-0x1*0x16+-0x1*-0xf05+-0xeef),(this['setColorBl'+'end'](_0x129a55,_0x551cfb,_0x4bf66f),this['setAlphaBl'+'end'](_0x1eaa9e??_0x129a55,_0xf6159a??_0x551cfb,_0x18036b??_0x4bf66f),this['setColorWr'+'ite'](_0x53006e,_0x5aa879,_0x6a5372,_0x4b1b34),this['blend']=_0x9de216);}set['blend'](_0x55f608){this['target0']=Oe['set'](this['target0'],_0x55f608?-0x7b6+-0x5*0xed+0x2*0x62c:-0x1981*0x1+0x1b6e*0x1+-0x1ed,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x329e54,_0x5a2f6a,_0x17f375){this['target0']=Oe['set'](this['target0'],_0x329e54,dm,xl),this['target0']=Oe['set'](this['target0'],_0x5a2f6a,um,Vi),this['target0']=Oe['set'](this['target0'],_0x17f375,fm,Vi);}['setAlphaBl'+'end'](_0x2960ca,_0x17c282,_0x44bb04){this['target0']=Oe['set'](this['target0'],_0x2960ca,pm,xl),this['target0']=Oe['set'](this['target0'],_0x17c282,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x44bb04,_m,Vi);}['setColorWr'+'ite'](_0x22a7d1,_0x5ce3d2,_0xf719e5,_0x111edc){this['redWrite']=_0x22a7d1,this['greenWrite']=_0x5ce3d2,this['blueWrite']=_0xf719e5,this['alphaWrite']=_0x111edc;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x5cef1b){this['target0']=Oe['set'](this['target0'],_0x5cef1b?0xeca+-0x1*0x1f6f+0x10a6*0x1:-0x1dd3+0x1*-0x1206+0x2fd9,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x3adb0a){this['target0']=Oe['set'](this['target0'],_0x3adb0a?-0xa11+0x2c*0xbf+-0x16c2:-0x1406+0x16c1+0x1*-0x2bb,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x489a60){this['target0']=Oe['set'](this['target0'],_0x489a60?-0x18e+0x1105+-0xf76:-0x367*0x3+0x3*0xbdf+-0x1968,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x16360f){this['target0']=Oe['set'](this['target0'],_0x16360f?-0x1*-0x1fa5+0x1*-0x20dd+0x139:0x3*-0x163+-0x2f*0x2f+0xcca,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x232b20){return this['target0']=_0x232b20['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0xf6d41d){return this['target0']===_0xf6d41d['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(0x191*-0x1+0x1869+-0x16d8),void(-0xf07*-0x1+0x1fa3+-0x2eaa),void(0x9f6+-0x1df3+0x7*0x2db),void(0x17f1+-0xb8f*0x2+0x1*-0xd3),void(0x929+0x1f44+0x1*-0x286d),void(0x21f3*-0x1+-0x21ef*0x1+0x43e2),void(-0x1605+0x1d5d+0x14*-0x5e),!(0xe56+0x249b+-0x32f0),!(0x3dc+0x21dd+-0x238*0x11),!(-0x10ca+0x1*-0xaca+0x1b95),!(-0x49a*-0x8+-0x245*-0xe+-0x4495*0x1)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(-0x1867*0x1+-0x2021+0x3888),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0xfba+0x1973+-0x13*0x83),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',0xbc*0x1d+0x7*0x476+-0x3486);}['get'](_0x4f7f21){let _0x527a13=this['map']['get'](_0x4f7f21);return _0x527a13===void(0x14e9+0x1*0xd3f+-0x2228)&&(_0x527a13=this['id']++,this['map']['set'](_0x4f7f21,_0x527a13)),_0x527a13;}}const Fv=new _p(),vm=0x12ee+-0x6da*0x4+-0x881*-0x1,bm=-0x1*0x1d86+-0x2*0x89+-0x4*-0x7a6,wm=0x16*0x20+-0x447+0x18a,Zi=class Zi{constructor(_0x14443d=fu,_0x3367e3=!(0x2167+0x1*-0x10a+-0x205d)){c(this,'data',0x10b3*0x2+0x34b*-0x1+0x7*-0x44d),c(this,'_depthBias',0x53*0x8+0xf5a+0x1*-0x11f2),c(this,'_depthBias'+'Slope',0x97*0x2d+0x1*0xa31+-0x24bc),c(this,'key',0x1d90+-0x1a0d+0x383*-0x1),(this['func']=_0x14443d,this['write']=_0x3367e3);}set['test'](_0x1a3fa8){this['func']=_0x1a3fa8?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x266ddb){this['data']=Oe['set'](this['data'],_0x266ddb?-0xe5*-0x2+-0x5a9+0x3e0:-0x10ec+0x8c*-0x23+0x8*0x482,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0xcd7e56){this['data']=Oe['set'](this['data'],_0xcd7e56,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x90f5c3){this['_depthBias']=_0x90f5c3,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x41fbf2){this['_depthBias'+'Slope']=_0x41fbf2,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x36c679){return this['data']=_0x36c679['data'],this['_depthBias']=_0x36c679['_depthBias'],this['_depthBias'+'Slope']=_0x36c679['_depthBias'+'Slope'],this['key']=_0x36c679['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x1a0507,_depthBias:_0x5add6b,_depthBiasSlope:_0x4a3f08}=this,_0x106f67=_0x1a0507+'-'+_0x5add6b+'-'+_0x4a3f08;this['key']=Fv['get'](_0x106f67);}['equals'](_0x3a0630){return this['key']===_0x3a0630['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(-0x161e+-0x1*0x95f+0x1f7e)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(0x2349+-0x496*-0x1+-0x27df))));let as=Zi;class Ky{constructor(){c(this,'globalId',0x272*0x1+0x11*-0x1a0+0x192e),c(this,'revision',-0x1*0x1d11+-0x1a0e+-0x89*-0x67);}['equals'](_0x6544a0){return this['globalId']===_0x6544a0['globalId']&&this['revision']===_0x6544a0['revision'];}['copy'](_0x10927e){this['globalId']=_0x10927e['globalId'],this['revision']=_0x10927e['revision'];}['reset'](){this['globalId']=-0xe70+0x97f+0x4f1,this['revision']=0x2322+0x1944+-0x3c66;}}let Tm=0x7c3*0x1+0x172d+0x37*-0x90;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x23dbec){this['name']=_0x23dbec,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x4491ad){}['setValue'](_0x46970f){this['value']=_0x46970f,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x3886b3){this['name']=_0x3886b3,this['variables']=new Map();}['resolve'](_0x10bade){return this['variables']['has'](_0x10bade)||this['variables']['set'](_0x10bade,new kv(_0x10bade)),this['variables']['get'](_0x10bade);}['removeValu'+'e'](_0x1b340b){for(const _0x4706f8 in this['variables']){const _0x48a285=this['variables'][_0x4706f8];_0x48a285['value']===_0x1b340b&&(_0x48a285['value']=null);}}}let Nv=0xf6f*-0x1+-0x9ab+0x7*0x396;class os{constructor(_0x5a401b,_0x19ff80,_0x144b1d,_0x47a791){c(this,'usage',jt),(v['assert'](arguments['length']<=-0x89e*0x1+0x8d5+-0x33&&(!_0x47a791||typeof _0x47a791=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x47a791==null?void(-0xd6a+0x1f86+0x487*-0x4):_0x47a791['usage'])??jt,this['device']=_0x5a401b,this['format']=_0x19ff80,this['numVertice'+'s']=_0x144b1d,this['id']=Nv++,this['impl']=_0x5a401b['createVert'+'exBufferIm'+'pl'](this,_0x19ff80,_0x47a791),this['numBytes']=_0x19ff80['verticesBy'+'teSize']?_0x19ff80['verticesBy'+'teSize']:_0x19ff80['size']*_0x144b1d,this['adjustVram'+'SizeTracki'+'ng'](_0x5a401b['_vram'],this['numBytes']));const _0xa4588b=_0x47a791==null?void(0x4*0x607+0x3*-0xcdc+-0x4*-0x39e):_0x47a791['data'];_0xa4588b?this['setData'](_0xa4588b):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x1b8f7a=this['device'],_0x54110f=_0x1b8f7a['buffers']['indexOf'](this);_0x54110f!==-(0x1a7*-0x10+0x1*-0x1517+0x2f88)&&_0x1b8f7a['buffers']['splice'](_0x54110f,-0x7*-0x25d+0x273*-0xf+0x1433*0x1),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x1b8f7a),this['adjustVram'+'SizeTracki'+'ng'](_0x1b8f7a['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x8ff259,_0x16e88b){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x16e88b+'\x20vram.vb:\x20'+_0x8ff259['vb']+'\x20=>\x20'+(_0x8ff259['vb']+_0x16e88b)),_0x8ff259['vb']+=_0x16e88b;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x5a282a){return _0x5a282a['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x5a282a['byteLength']),!(-0x207+-0x629*0x5+0x20d5)):(this['storage']=_0x5a282a,this['unlock'](),!(-0x1a*-0x84+0x1b3a+-0x2*0x1451));}}function hn(_0x4640bb){if(_0x4640bb==null)return 0x1d6b+-0x642+0xb*-0x21b;let _0x3dc482=0x1954+0x1fed+-0x3941;for(let _0x1cb0be=0x1956+0x976+-0x11*0x20c,_0x13538f=_0x4640bb['length'];_0x1cb0be<_0x13538f;_0x1cb0be++)_0x3dc482=(_0x3dc482<<-0x8b*-0xf+0x13fe+0x2*-0xe0f)-_0x3dc482+_0x4640bb['charCodeAt'](_0x1cb0be),_0x3dc482|=-0x19eb+-0x26cd+0x40b8;return _0x3dc482;}function Zy(_0x5704d3){let _0x2e3b5e=0x720050d0+0x271e3f17*-0x1+0x363a8c0c;for(let _0x3678c1=0xe5d+0x21*0x29+-0x13a6;_0x3678c1<_0x5704d3['length'];_0x3678c1++)_0x2e3b5e^=_0x5704d3[_0x3678c1],_0x2e3b5e*=0x95d810*-0x1+0xd732eb+0xa977c*0x12;return _0x2e3b5e>>>-0x232+0x158b+-0x1359;}const zv=new _p(),Uv=[-0x1ab7+0xf*-0x169+-0xbf8*-0x4,0x1*-0x2543+0x46b+0x837*0x4,0x175f+-0xcb6+-0x38b*0x3,0x734+-0x7b*-0x1+-0x7a3,-0x25a+-0x1*0x18e1+0x1b4b],Vv=new Ot();class Et{constructor(_0x4dc956,_0x19ac3a,_0x33d6e9){this['device']=_0x4dc956,this['_elements']=[],this['hasUv0']=!(-0x2a*-0xa7+-0x2180+0x61b),this['hasUv1']=!(-0x1f51*-0x1+-0x2312+0x1e1*0x2),this['hasColor']=!(-0x1*0x166b+0x65*0x49+-0x661),this['hasTangent'+'s']=!(-0x1cca+0x192f+0x39c),this['verticesBy'+'teSize']=-0x1*-0x2cf+-0x1a60+0x1791,this['vertexCoun'+'t']=_0x33d6e9,this['interleave'+'d']=_0x33d6e9===void(-0x66c*0x1+0x285*-0x9+0x1d19),this['instancing']=!(-0x65f+0x2*0x635+0x305*-0x2),this['size']=_0x19ac3a['reduce']((_0x312ba7,_0x5b70e3)=>_0x312ba7+Math['ceil'](_0x5b70e3['components']*_o[_0x5b70e3['type']]/(-0xa*-0xa1+0x1ca7+-0x22ed))*(-0xfb*0x10+-0x1*-0x1e73+-0xebf),0xd*-0x9f+0xd69+-0x556);let _0x3ea377=-0x9d3+0x20*0x41+0x1b3,_0x22bac9;for(let _0x4bc86f=0x373+-0x1483+-0x30*-0x5b,_0x117047=_0x19ac3a['length'];_0x4bc86f<_0x117047;_0x4bc86f++){const _0x4fd074=_0x19ac3a[_0x4bc86f];_0x22bac9=_0x4fd074['components']*_o[_0x4fd074['type']],v['assert'](Et['isElementV'+'alid'](_0x4dc956,_0x4fd074),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x4fd074['semantic']+'\x20:\x20'+Sv[_0x4fd074['type']]+'\x20x\x20'+_0x4fd074['components']),_0x33d6e9&&(_0x3ea377=N['roundUp'](_0x3ea377,_0x22bac9),v['assert'](_0x22bac9%(-0x38*0x3e+-0x2577+0x330b)===-0x21d7+0x15ac+0xc2b,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x22bac9));const _0x183c56=_0x4fd074['asInt']??!(-0x4f7+0x1*0x17bd+-0x12c5),_0x21b62b=_0x183c56?!(-0x1a6c+-0x1a49+-0x40e*-0xd):_0x4fd074['normalize']??!(0x3*-0xcb8+0x89d+0x1d8c),_0x503c22={'name':_0x4fd074['semantic'],'offset':_0x33d6e9?_0x3ea377:_0x4fd074['hasOwnProp'+'erty']('offset')?_0x4fd074['offset']:_0x3ea377,'stride':_0x33d6e9?_0x22bac9:_0x4fd074['hasOwnProp'+'erty']('stride')?_0x4fd074['stride']:this['size'],'dataType':_0x4fd074['type'],'numComponents':_0x4fd074['components'],'normalize':_0x21b62b,'size':_0x22bac9,'asInt':_0x183c56};this['_elements']['push'](_0x503c22),_0x33d6e9?_0x3ea377+=_0x22bac9*_0x33d6e9:_0x3ea377+=Math['ceil'](_0x22bac9/(-0xb6b+0x14c6+-0x31d*0x3))*(-0x1*-0xab5+-0x2058+0x15a7*0x1),_0x4fd074['semantic']===ns?this['hasUv0']=!(0x2*0x534+-0xe*0x1d9+0xf76):_0x4fd074['semantic']===_n?this['hasUv1']=!(0x1*-0x1d05+0x38*0x53+0xadd):_0x4fd074['semantic']===At?this['hasColor']=!(-0x50b*-0x5+-0x1ee9*0x1+0x5b2):_0x4fd074['semantic']===Zs&&(this['hasTangent'+'s']=!(0x7c*0x1f+0x990+-0x1894));}_0x33d6e9&&(this['verticesBy'+'teSize']=_0x3ea377),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x207e95){return Vv['get'](_0x207e95,()=>new Et(_0x207e95,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x2151fb,_0x5c0422){const _0x35879e=_0x5c0422['components']*_o[_0x5c0422['type']];return!(_0x2151fb['isWebGPU']&&!Uv['includes'](_0x35879e));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x27a99c=[],_0x1862ee=[],_0x45042c=this['_elements']['length'];for(let _0x3513f1=-0x243a+-0x2a*-0xe9+-0x200;_0x3513f1<_0x45042c;_0x3513f1++){const {name:_0x5a72e5,dataType:_0x3fa26e,numComponents:_0x212ef5,normalize:_0x1c2f95,offset:_0x158709,stride:_0x22e777,size:_0x5a4a01,asInt:_0x42794d}=this['_elements'][_0x3513f1],_0x53c95c=_0x5a72e5+_0x3fa26e+_0x212ef5+_0x1c2f95+_0x42794d;_0x27a99c['push'](_0x53c95c);const _0x1df7d4=_0x53c95c+_0x158709+_0x22e777+_0x5a4a01;_0x1862ee['push'](_0x1df7d4);}_0x27a99c['sort']();const _0x3d41bb=_0x27a99c['join']();this['batchingHa'+'sh']=hn(_0x3d41bb),this['shaderProc'+'essingHash'+'String']=_0x3d41bb,this['renderingH'+'ashString']=_0x1862ee['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x38ca50={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x1016+0x1c8+-0x11de)),c(this,'_key'),(this['_func']=_0x38ca50['func']??Ai,this['_ref']=_0x38ca50['ref']??-0x665*-0x2+0x4be*-0x1+-0x2*0x406,this['_readMask']=_0x38ca50['readMask']??0x1560+-0x1*-0x1be8+-0x3049,this['_writeMask']=_0x38ca50['writeMask']??0x218f*0x1+-0x1e55+-0x23b,this['_fail']=_0x38ca50['fail']??ha,this['_zfail']=_0x38ca50['zfail']??ha,this['_zpass']=_0x38ca50['zpass']??ha,this['_evalKey']());}set['func'](_0x43f584){this['_func']=_0x43f584,this['_dirty']=!(-0x2661+0x1d5f+0x902);}get['func'](){return this['_func'];}set['ref'](_0x3382fa){this['_ref']=_0x3382fa,this['_dirty']=!(-0x83*-0x3d+0xc*0x290+-0x1*0x3df7);}get['ref'](){return this['_ref'];}set['fail'](_0x2c163b){this['_fail']=_0x2c163b,this['_dirty']=!(0x19b9+-0x4f0+0x14c9*-0x1);}get['fail'](){return this['_fail'];}set['zfail'](_0x4e2e8f){this['_zfail']=_0x4e2e8f,this['_dirty']=!(-0x660+-0x1bc5+0x2225);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x41fe46){this['_zpass']=_0x41fe46,this['_dirty']=!(-0x12ce+-0xdd3*-0x1+-0x5*-0xff);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x2c423f){this['_readMask']=_0x2c423f,this['_dirty']=!(0x1*-0xefe+-0x1*0x1a15+0xdb1*0x3);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x4e8ca2){this['_writeMask']=_0x4e8ca2,this['_dirty']=!(0x1*0x11e7+0x1f86+-0x316d);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x2dccca,_ref:_0x4771b0,_fail:_0x21c838,_zfail:_0x20e127,_zpass:_0x282de9,_readMask:_0x873ef7,_writeMask:_0x33ebc3}=this,_0x36f851=_0x2dccca+','+_0x4771b0+','+_0x21c838+','+_0x20e127+','+_0x282de9+','+_0x873ef7+','+_0x33ebc3;this['_key']=Gv['get'](_0x36f851),this['_dirty']=!(-0x87c+-0x11*-0x6f+-0xd*-0x16);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x26b21d){return this['_func']=_0x26b21d['_func'],this['_ref']=_0x26b21d['_ref'],this['_readMask']=_0x26b21d['_readMask'],this['_writeMask']=_0x26b21d['_writeMask'],this['_fail']=_0x26b21d['_fail'],this['_zfail']=_0x26b21d['_zfail'],this['_zpass']=_0x26b21d['_zpass'],this['_dirty']=_0x26b21d['_dirty'],this['_key']=_0x26b21d['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x32f6e4,_0x12731d){var _0xa35317,_0x2e08fd,_0x15f906,_0x189645,_0x219344,_0x48f2ef;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0x1279+0x256+-0x14ce)),c(this,'isWebGPU',!(-0xd34*-0x2+0x1c4b+0x36b2*-0x1)),c(this,'isWebGL2',!(0x12fd+0x43*0x5d+0x3*-0xe71)),c(this,'isHdr',!(-0x1437+-0x1d19+0x1f9*0x19)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0x232a+0x26e3+0x38*-0x11),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',0x1*0x3b9+0x1e22+-0x21da),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x1501+-0x1020+-0x4*0x138)),c(this,'supportsSt'+'orageTextu'+'reRead',!(0xd0b*-0x2+0xe3*0x2b+-0xc0a)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0x1233+0x5ae*-0x1+-0x1*-0x17e1),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x2222+0xb*0x166+0x19*-0x1fb)),c(this,'supportsUn'+'iformBuffe'+'rs',!(-0x1dae+0x16*-0xfe+0x3383)),c(this,'supportsCl'+'ipDistance'+'s',!(-0xcfc+0x79b+0x562*0x1)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0x3*0xa0f+-0x1a*-0x9d+-0x2e1e)),c(this,'textureFlo'+'atFilterab'+'le',!(0x2*0x564+0x18a*0xa+-0x1a2b)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(-0x319+-0x6ed*0x2+-0x1b2*-0xa)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0x6*0x2fa+-0x1caf+0x2e8b,0xb*-0x114+0x6*-0x10d+0xba*0x19,-0xa10+-0x161c+0x8e*0x3a,0x27*-0x26+-0x14c3+0x135*0x16],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x1*-0x1d7b+-0x1f44+-0x6c*-0x90)),(this['canvas']=_0x32f6e4,this['initOption'+'s']={..._0x12731d},(_0xa35317=this['initOption'+'s'])['alpha']??(_0xa35317['alpha']=!(-0x1*-0x2216+-0x25d*-0x1+-0x2473)),(_0x2e08fd=this['initOption'+'s'])['depth']??(_0x2e08fd['depth']=!(0xc5*0xc+-0x4*0x638+0xfa4)),(_0x15f906=this['initOption'+'s'])['stencil']??(_0x15f906['stencil']=!(-0x2213+0x8e*0x2b+0xa39)),(_0x189645=this['initOption'+'s'])['antialias']??(_0x189645['antialias']=!(-0xbb*0x2+-0x2*-0x102e+0x1*-0x1ee6)),(_0x219344=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x219344['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x48f2ef=this['initOption'+'s'])['displayFor'+'mat']??(_0x48f2ef['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](0x4*-0x92e+0x90*0x1b+0x1589,window['devicePixe'+'lRatio']):-0x463*-0x7+0x1337*-0x1+0xb7d*-0x1,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0xd37+0x81e+-0x91*-0x9,this['_shaderSwi'+'tchesPerFr'+'ame']=0x22ee+-0x683+0x61*-0x4b,this['_primsPerF'+'rame']=[]);for(let _0x385429=Mc;_0x385429<=Yr;_0x385429++)this['_primsPerF'+'rame'][_0x385429]=0x17f3*-0x1+0x21bd+0x9ca*-0x1;this['_renderTar'+'getCreatio'+'nTime']=0x55b+-0x2e9+0x1*-0x272,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x1e18+-0x19d5+0x1*-0x443);}['postInit'](){const _0x32f74e=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x386227=new Float32Array([-(-0x13ce+-0x2*-0x454+-0x23b*-0x5),-(-0x209d+0x17eb*-0x1+-0x3889*-0x1),-0x14f7*-0x1+0x1*-0x12cd+-0x229,-(-0x5*0x287+-0x3a9+-0xd*-0x141),-(0x223*-0x6+0x38d*-0x1+0x1060),-0x21aa+-0x1e0e*-0x1+-0x19*-0x25,0x17f5*-0x1+-0xd*0x8f+0x1f39,0x217d+-0x88c+0x8*-0x31e]);this['quadVertex'+'Buffer']=new os(this,_0x32f74e,-0x100a+0x71f*-0x2+0xf26*0x2,{'data':_0x386227});}['destroy'](){var _0x169345,_0x12d4de,_0x3f368a;this['fire']('destroy'),(_0x169345=this['quadVertex'+'Buffer'])==null||_0x169345['destroy'](),this['quadVertex'+'Buffer']=null,(_0x12d4de=this['dynamicBuf'+'fers'])==null||_0x12d4de['destroy'](),this['dynamicBuf'+'fers']=null,(_0x3f368a=this['gpuProfile'+'r'])==null||_0x3f368a['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x11b642){this['fire']('destroy:sh'+'ader',_0x11b642);const _0x2550b4=this['shaders']['indexOf'](_0x11b642);_0x2550b4!==-(-0x1233*0x1+-0x1*0xeb7+-0xaf9*-0x3)&&this['shaders']['splice'](_0x2550b4,-0xf12+0xb*0x188+-0x1c5*0x1);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x157f0b;this['contextLos'+'t']=!(-0x25f9+0x5*-0x1a3+-0x1a6*-0x1c),this['backBuffer'+'Size']['set'](-(0x1f*0x10d+-0xf08+-0x118a),-(0x3*0x62b+-0xcd2+-0x5ae));for(const _0xb8e52b of this['textures'])_0xb8e52b['loseContex'+'t']();for(const _0xae61d7 of this['buffers'])_0xae61d7['loseContex'+'t']();for(const _0x5bd414 of this['targets'])_0x5bd414['loseContex'+'t']();(_0x157f0b=this['gpuProfile'+'r'])==null||_0x157f0b['loseContex'+'t']();}['restoreCon'+'text'](){var _0x1af773,_0x3e546a;this['contextLos'+'t']=!(-0x1a70+-0x147b+0xc*0x3e9),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x16c5a7 of this['buffers'])_0x16c5a7['unlock']();(_0x3e546a=(_0x1af773=this['gpuProfile'+'r'])==null?void(-0x1*-0x236c+0x4*-0x382+-0x25*0x94):_0x1af773['restoreCon'+'text'])==null||_0x3e546a['call'](_0x1af773);}['toJSON'](_0x30be6){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x1e36+-0x11b3*-0x1+-0x1*-0xc83),this['shaderAsyn'+'cCompile']=!(0x1610+0x1445+-0x2a54),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=-0x8a1+0x149f*-0x1+0x10*0x1d4,this['sx']=this['sy']=this['sw']=this['sh']=-0x1*0x1cb7+-0x11e5+0x13a*0x26,this['blendColor']=new Y(0x2237+0x20d1*0x1+-0x4308,-0x17f4+-0x2087+0x387b,-0x23b*0xb+-0x1f26+0x37af,0x1cda+-0x18e3*0x1+-0x3f7);}['setStencil'+'State'](_0x57c206,_0x5f4b3b){v['assert'](!(0x84*-0x14+-0x5*-0xe9+-0x3*-0x1ec));}['setBlendSt'+'ate'](_0x48dcd8){v['assert'](!(-0x1bb9*0x1+-0x3*-0x9e4+0x2*-0xf9));}['setBlendCo'+'lor'](_0x403140,_0x4c5ad2,_0x1e0a90,_0x15be30){v['assert'](!(-0x2647*-0x1+0x252b+-0x4b71*0x1));}['setDepthSt'+'ate'](_0x39310b){v['assert'](!(0x1e3d+-0x768+-0x16d4));}['setCullMod'+'e'](_0x11cc53){v['assert'](!(0xf3f+-0x1dfe+-0x4*-0x3b0));}['setRenderT'+'arget'](_0x38e1b9){this['renderTarg'+'et']=_0x38e1b9;}['setIndexBu'+'ffer'](_0x405cab){this['indexBuffe'+'r']=_0x405cab;}['setVertexB'+'uffer'](_0x5c5d57){_0x5c5d57&&this['vertexBuff'+'ers']['push'](_0x5c5d57);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x252a+-0x419*-0x1+0x1*-0x2943;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x16daf9){if(_0x16daf9['initialize'+'d'])return;const _0x242aff=ne();this['fire']('fbo:create',{'timestamp':_0x242aff,'target':this}),_0x16daf9['init'](),this['targets']['add'](_0x16daf9),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x242aff;}['_isBrowser'+'Interface'](_0x554ba6){return this['_isImageBr'+'owserInter'+'face'](_0x554ba6)||this['_isImageCa'+'nvasInterf'+'ace'](_0x554ba6)||this['_isImageVi'+'deoInterfa'+'ce'](_0x554ba6);}['_isImageBr'+'owserInter'+'face'](_0x5c3944){return typeof ImageBitmap<'u'&&_0x5c3944 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x5c3944 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x350c6f){return typeof HTMLCanvasElement<'u'&&_0x350c6f instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x33a9d6){return typeof HTMLVideoElement<'u'&&_0x33a9d6 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x1310ad,_0xe8ba0f){const _0x2e4d24=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x77f+-0x1827*-0x1+0x93*-0x1d),_0x21051d=Math['floor'](_0x1310ad*_0x2e4d24),_0x49877a=Math['floor'](_0xe8ba0f*_0x2e4d24);(_0x21051d!==this['canvas']['width']||_0x49877a!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x21051d,_0x49877a);}['setResolut'+'ion'](_0x3105e7,_0x2b0e5b){this['canvas']['width']=_0x3105e7,this['canvas']['height']=_0x2b0e5b,this['fire'](nc['EVENT_RESI'+'ZE'],_0x3105e7,_0x2b0e5b);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x4a5c52=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x4a5c52['width'],this['clientRect']['height']=_0x4a5c52['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x281e2d){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0x237+0xaf*-0x2b+-0x1*-0x1f9d);}set['maxPixelRa'+'tio'](_0x437dca){this['_maxPixelR'+'atio']=_0x437dca;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x3d6f5b){}['endRenderP'+'ass'](_0x3bc0a5){}['startCompu'+'tePass'](_0x799566){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x9fb+0x14b*-0xc+0x589,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x4e0e71=this['textures']['slice']();_0x4e0e71['sort']((_0x307eac,_0xbcfbf5)=>_0xbcfbf5['gpuSize']-_0x307eac['gpuSize']),v['log']('Textures:\x20'+_0x4e0e71['length']);let _0x50d7ea=0xe9*0x16+0x1517+-0x291d;_0x4e0e71['forEach']((_0x351e9c,_0x9fe908)=>{const _0x4781ff=_0x351e9c['gpuSize'];_0x50d7ea+=_0x4781ff,v['log'](_0x9fe908+'.\x20'+_0x351e9c['name']+'\x20'+_0x351e9c['width']+'x'+_0x351e9c['height']+'\x20VRAM:\x20'+(_0x4781ff/(-0x101*0xd+0x4ef*0x3+0x240*0x1)/(-0x1708+-0x351*-0x2+0x1466))['toFixed'](-0x145f+-0x1f0d*0x1+0x336e)+'\x20MB');}),v['log']('Total:\x20'+(_0x50d7ea/(-0x1d*0x85+0x64a*-0x5+0x3283*0x1)/(0x75*0x19+0xd29*-0x1+0x5bc))['toFixed'](0x1bb*-0x3+0x2403+-0x1ed0)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x361c2e,_0x54d323='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x18348d=[_a,Je,Ke],_0x87fda=!(0x1dc0+-0x2170+0x3b0),_0x2de84f=0xc7c+-0x269*0x1+-0xa12){for(let _0x309cf1=-0x1*-0x87e+-0x1*0x1817+0xf99;_0x309cf1<_0x18348d['length'];_0x309cf1++){const _0x1f6575=_0x18348d[_0x309cf1];switch(_0x1f6575){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x1f6575;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x1f6575;break;case Ke:if(this['isWebGPU']&&_0x2de84f>-0xf18+-0x3d3+-0x7*-0x2b4)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x87fda||this['textureFlo'+'atFilterab'+'le']))return _0x1f6575;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=-0x12fc+0x2*0x161+0x3e*0x43;class pt{constructor(_0x257cfd={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x23536c,_0x26b957,_0x40776e,_0x57113b,_0x2e9f8a,_0x5f1df2;v['assert'](!(_0x257cfd instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x24185c=((_0x23536c=_0x257cfd['colorBuffe'+'r'])==null?void(0x144d*0x1+0x1d63+0x6a*-0x78):_0x23536c['device'])??((_0x26b957=_0x257cfd['colorBuffe'+'rs'])==null?void(0x82+0x2*0xfd+-0x6a*0x6):_0x26b957[0x1a7f+-0x1d0f*0x1+0x290]['device'])??((_0x40776e=_0x257cfd['depthBuffe'+'r'])==null?void(0xfaf+0x248d+0x2*-0x1a1e):_0x40776e['device'])??_0x257cfd['graphicsDe'+'vice'];v['assert'](_0x24185c,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x24185c;const {maxSamples:_0x3bd3f5}=this['_device'];if(this['_samples']=Math['min'](_0x257cfd['samples']??0x1aa5+0x1*-0x232+0x413*-0x6,_0x3bd3f5),_0x24185c['isWebGPU']&&(this['_samples']=this['_samples']>0x279*0xa+-0x1*-0x25a6+0x1*-0x3e5f?_0x3bd3f5:-0x9f2+0x1b48+0x1d*-0x99),this['_colorBuff'+'er']=_0x257cfd['colorBuffe'+'r'],_0x257cfd['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x257cfd['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x257cfd['depthBuffe'+'r'],this['_face']=_0x257cfd['face']??0x20b3+-0x2*0x1057+0x5*-0x1,this['_depthBuff'+'er']){const _0xcfa64f=this['_depthBuff'+'er']['_format'];_0xcfa64f===Ci||_0xcfa64f===la?(this['_depth']=!(0x167*0xc+-0x25df+-0x1*-0x150b),this['_stencil']=!(-0x1*-0xaa1+-0x1074+0x2ea*0x2)):_0xcfa64f===vc?(this['_depth']=!(-0x2d*0x4c+-0x849*0x1+0x15a5),this['_stencil']=!(0x5b*0x3+0x23d2+-0x24e3)):_0xcfa64f===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x7a*0x47+0xf9a+0x123d*0x1?(this['_depth']=!(0x93a*-0x4+-0xa97+0x2f7f),this['_stencil']=!(0x59f*-0x5+0x2*0xcac+0x2c4)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x75a+-0x2624+-0x1*-0x1ecb),this['_stencil']=!(-0x2*-0x1118+0x184+-0x23b3));}else this['_depth']=_0x257cfd['depth']??!(-0x1aa7*0x1+-0x21f7+0x3c9e),this['_stencil']=_0x257cfd['stencil']??!(-0x3d+0x194d+-0x1*0x190f);_0x257cfd['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x257cfd['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x257cfd['colorBuffe'+'rs'][0x1*0x2093+0x7*-0x542+-0x43b*-0x1])),this['autoResolv'+'e']=_0x257cfd['autoResolv'+'e']??!(-0x1f19+-0x211+0x212a),this['name']=_0x257cfd['name'],this['name']||(this['name']=(_0x57113b=this['_colorBuff'+'er'])==null?void(-0x1b*0x51+0x1*-0x1689+-0x132*-0x1a):_0x57113b['name']),this['name']||(this['name']=(_0x2e9f8a=this['_depthBuff'+'er'])==null?void(-0xb46+-0x374+0xeba):_0x2e9f8a['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x257cfd['flipY']??!(0x19de+0xa0c+-0x23e9),this['_mipLevel']=_0x257cfd['mipLevel']??-0x2ff+-0x2e*-0xa3+-0x1a4b,this['_mipLevel']>-0xf1*0x8+-0x14ad+0x1c35&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x257cfd}),this['_mipLevel']=0x1*-0x1c1+0x149*0x13+-0x3*0x78e),this['_mipmaps']=_0x257cfd['mipLevel']===void(-0x2a1*-0xc+0x12c3+-0x324f),this['validateMr'+'t'](),this['impl']=_0x24185c['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x5f1df2=this['_colorBuff'+'ers'])!=null&&_0x5f1df2['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x266ffa=this['_device'];_0x266ffa&&(_0x266ffa['targets']['delete'](this),_0x266ffa['renderTarg'+'et']===this&&_0x266ffa['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x1fef96=this['_device'];_0x1fef96&&this['impl']['destroy'](_0x1fef96);}['destroyTex'+'tureBuffer'+'s'](){var _0x1cfce5,_0x14741a;(_0x1cfce5=this['_depthBuff'+'er'])==null||_0x1cfce5['destroy'](),this['_depthBuff'+'er']=null,(_0x14741a=this['_colorBuff'+'ers'])==null||_0x14741a['forEach'](_0x10ef8a=>{_0x10ef8a['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x43a2a2,_0x487dc4){var _0x106dad,_0x4b2fb3;if(this['width']!==_0x43a2a2||this['height']!==_0x487dc4){if(this['mipLevel']>-0xd78+0x1bf9+-0xe81){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0xd19683=this['_device'];this['destroyFra'+'meBuffers'](),_0xd19683['renderTarg'+'et']===this&&_0xd19683['setRenderT'+'arget'](null),(_0x106dad=this['_depthBuff'+'er'])==null||_0x106dad['resize'](_0x43a2a2,_0x487dc4),(_0x4b2fb3=this['_colorBuff'+'ers'])==null||_0x4b2fb3['forEach'](_0x4539c8=>{_0x4539c8['resize'](_0x43a2a2,_0x487dc4);}),this['validateMr'+'t'](),this['impl']=_0xd19683['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x1bae55,height:_0x399415,cubemap:_0x3673dc,volume:_0x301c83}=this['_colorBuff'+'ers'][-0x1fc4+-0x12bf*0x1+-0x43*-0xc1];for(let _0x117e4a=-0x17ff*-0x1+-0xf2a+0x46a*-0x2;_0x117e4a<this['_colorBuff'+'ers']['length'];_0x117e4a++){const _0x27f23b=this['_colorBuff'+'ers'][_0x117e4a];v['assert'](_0x27f23b['width']===_0x1bae55,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x27f23b['height']===_0x399415,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x27f23b['cubemap']===_0x3673dc,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x27f23b['volume']===_0x301c83,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x23f952=!(-0x107*-0x11+-0x25a3*0x1+0x1*0x142c),_0x489b44=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x1c02+0xddf+0x430*-0xa&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x23f952?'[color]':'')+':'+(_0x489b44?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x23f952,_0x489b44),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x43c0b8,_0x38c85e,_0xdc7a7c){if(!this['_device']){if(_0x43c0b8['_device'])this['_device']=_0x43c0b8['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0xd*-0x1c1+0x19a9*0x1+-0x3075);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x43c0b8['name']+'->'+this['name']);const _0x403314=this['_device']['copyRender'+'Target'](_0x43c0b8,this,_0x38c85e,_0xdc7a7c);return G['popGpuMark'+'er'](this['_device']),_0x403314;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x1e0d44){var _0x1be446;return(_0x1be446=this['_colorBuff'+'ers'])==null?void(0x1ffb+-0x7b*0x47+0x222):_0x1be446[_0x1e0d44];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x59b3ce,_0x4a1059;let _0x5cbf9f=((_0x59b3ce=this['_colorBuff'+'er'])==null?void(0x19*-0x8d+0x1d4*0x10+-0xf7b*0x1):_0x59b3ce['width'])||((_0x4a1059=this['_depthBuff'+'er'])==null?void(0x9e*-0xf+0x82+-0x5*-0x1c0):_0x4a1059['width'])||this['_device']['width'];return this['_mipLevel']>0x5a*0x3e+-0x15a+0x1*-0x1472&&(_0x5cbf9f=Mi['calcLevelD'+'imension'](_0x5cbf9f,this['_mipLevel'])),_0x5cbf9f;}get['height'](){var _0x1caef5,_0x3efed3;let _0x36d8d5=((_0x1caef5=this['_colorBuff'+'er'])==null?void(-0x114b*-0x1+0x49*-0x7b+0x472*0x4):_0x1caef5['height'])||((_0x3efed3=this['_depthBuff'+'er'])==null?void(-0x25*-0x89+-0xc7*-0x22+-0xf*0x315):_0x3efed3['height'])||this['_device']['height'];return this['_mipLevel']>-0xca6+0x29*0xb0+0x297*-0x6&&(_0x36d8d5=Mi['calcLevelD'+'imension'](_0x36d8d5,this['_mipLevel'])),_0x36d8d5;}['isColorBuf'+'ferSrgb'](_0x237bcb=0x1d01+-0x15fb*-0x1+-0x32fc){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x396575=this['getColorBu'+'ffer'](_0x237bcb);return _0x396575?Mh(_0x396575['format']):!(-0x11fb*0x2+-0xf5*-0x8+-0x1*-0x1c4f);}}const Wv={'equals'(_0x4abd35,_0x174b91){if(_0x4abd35['length']!==_0x174b91['length'])return!(-0x2*0xe1f+0x1757+0x13a*0x4);for(let _0x20dc1e=-0x1*-0x182b+0x2*-0xf91+0x6f7;_0x20dc1e<_0x4abd35['length'];_0x20dc1e++)if(_0x4abd35[_0x20dc1e]!==_0x174b91[_0x20dc1e])return!(0x8d3+0x6aa+0x7be*-0x2);return!(-0x2*-0x2af+-0x221d*-0x1+-0x277b);}};class Gc{constructor(){c(this,'_refCount',-0x1ce*0x11+-0x1*0x1471+0x331f);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Gc{constructor(_0x1e225e){super(),c(this,'object'),(this['object']=_0x1e225e,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x2aef41=>{var _0x152c5b;(_0x152c5b=_0x2aef41['object'])==null||_0x152c5b['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x38932f){const _0x55f1f2=this['cache']['get'](_0x38932f);return _0x55f1f2?(_0x55f1f2['incRefCoun'+'t'](),_0x55f1f2['object']):null;}['set'](_0x285631,_0x262e5e){v['assert'](!this['cache']['has'](_0x285631),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x285631,'object':_0x262e5e}),this['cache']['set'](_0x285631,new $v(_0x262e5e));}['release'](_0x1c5a2b){var _0x1409b9;const _0x4afd7d=this['cache']['get'](_0x1c5a2b);_0x4afd7d?(_0x4afd7d['decRefCoun'+'t'](),_0x4afd7d['refCount']===0x2*-0x26b+-0x12fb*0x1+0x17d1&&(this['cache']['delete'](_0x1c5a2b),(_0x1409b9=_0x4afd7d['object'])==null||_0x1409b9['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x1c5a2b});}}class Xv extends qv{['loseContex'+'t'](_0x500283){this['clear']();}}const jv=new Ot(),od=_0xc9df06=>jv['get'](_0xc9df06,()=>new Xv()),ot=[];ot[$s]=0x1*-0xcb9+0x32*0x1+0xc88,ot[or]=-0x227+-0x1*-0x977+-0x74e,ot[$t]=-0x1eda+-0xbb+0x1f98,ot[xa]=-0x368+-0x17af*-0x1+-0x1443,ot[ln]=0x115a+-0x1*0x1079+0x4*-0x38,ot[Zr]=0x5*-0x1b7+0x2*0x83+0xd7*0x9,ot[Qr]=-0x1ef4+-0x10ae+-0x1*-0x2fa5,ot[Jr]=-0xd3*-0x1f+-0xc58+-0xd31,ot[ca]=0x2392+-0x7f4+0x1*-0x1b9d,ot[Lo]=0xc29+0x1109+-0x1d30,ot[Fo]=0x5*0x423+0x1*0x9c7+-0x1e73,ot[Oo]=0x1062+-0x1f*-0x139+-0x3645,ot[Rh]=0x266+-0x1*0x261+-0x3*-0x1,ot[ko]=-0x1*-0x72a+-0xeea+0x7cc,ot[Sa]=-0x21cc+0x4*0x95e+0x21*-0x1c,ot[va]=-0x49f*-0x6+-0x1740+0x1*-0x479,ot[ba]=0x10bb+0xb*-0x1a5+-0x46*-0x5,ot[wa]=-0x352+0x2040+-0x1ceb,ot[Ta]=-0x14b*-0x11+-0xa5*-0x18+-0x7*0x559;class gt{constructor(_0x21bc85,_0x2a2cfe,_0x32adbb=-0x3fb*0x5+-0x1ec4+0x7*0x73d){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x21bc85,this['name']=_0x32adbb?_0x21bc85+'[0]':_0x21bc85,this['type']=_0x2a2cfe,this['numCompone'+'nts']=ot[_0x2a2cfe],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x2a2cfe+'\x20used\x20for\x20'+_0x21bc85),this['updateType']=_0x2a2cfe,_0x32adbb>0x213f+-0x984+-0x17bb)switch(_0x2a2cfe){case $s:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case $t:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x2a2cfe]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x21bc85+'\x27.'),v['call'](()=>{this['invalid']=!(-0x24dc+0xd*0x20b+0xa4d);});break;}this['count']=_0x32adbb,v['assert'](!isNaN(_0x32adbb),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x21bc85+'['+_0x32adbb+']'),v['call'](()=>{isNaN(_0x32adbb)&&(this['invalid']=!(-0x19ab+0x17b2+-0x65*-0x5));});let _0x220252=this['numCompone'+'nts'];_0x32adbb&&(_0x220252=N['roundUp'](_0x220252,0x202*0x10+0x169d+-0x36b9)),this['byteSize']=_0x220252*(-0xa79+-0x1cab+-0x2*-0x1394),_0x32adbb&&(this['byteSize']*=_0x32adbb),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x2a2cfe+'\x20used\x20for\x20'+_0x21bc85);}get['isArrayTyp'+'e'](){return this['count']>0x1d2*0xf+-0x2*0x429+-0x12fc;}['calculateO'+'ffset'](_0x5e612d){let _0x15546e=this['byteSize']<=0x1*0x1dc8+-0x2*-0x764+-0x2c88?this['byteSize']:0x2694+-0xb25+-0x31*0x8f;this['count']&&(_0x15546e=0x22*0x45+-0x243b+-0x1cf*-0xf),_0x5e612d=N['roundUp'](_0x5e612d,_0x15546e),this['offset']=_0x5e612d/(-0xe9e*0x2+-0x2195+0x3ed5);}}class Qy{constructor(_0x1514db,_0x170861){c(this,'byteSize',-0x79*-0x15+-0x4*0x515+0xa67*0x1),c(this,'map',new Map()),(this['scope']=_0x1514db['scope'],this['uniforms']=_0x170861);let _0x2532a8=0x9*-0x2af+0x199*-0xf+0x301e;for(let _0xf73dd5=-0x1*-0x15db+0xf56+-0x2531;_0xf73dd5<_0x170861['length'];_0xf73dd5++){const _0x504c6c=_0x170861[_0xf73dd5];_0x504c6c['calculateO'+'ffset'](_0x2532a8),_0x2532a8=_0x504c6c['offset']*(-0x2295+-0xd05*-0x2+0x88f)+_0x504c6c['byteSize'],_0x504c6c['scopeId']=this['scope']['resolve'](_0x504c6c['name']),this['map']['set'](_0x504c6c['name'],_0x504c6c);}this['byteSize']=N['roundUp'](_0x2532a8,0x3d*0x43+-0x1a4b+0xa64);}['get'](_0xba46ab){return this['map']['get'](_0xba46ab);}['getShaderD'+'eclaration'](_0x549f42,_0x3a6a55){const _0x206898=xv[_0x549f42];let _0x54845c='layout(set'+'\x20=\x20'+_0x549f42+(',\x20binding\x20'+'=\x20')+_0x3a6a55+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x206898+'\x20{\x0a';return this['uniforms']['forEach'](_0x466abb=>{const _0x73ffe4=dp[_0x466abb['type']];v['assert'](_0x73ffe4['length']>0xee0+-0x1*0x62d+-0x8b3,'Uniform\x20ty'+'pe\x20'+_0x466abb['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x54845c+='\x20\x20\x20\x20'+_0x73ffe4+'\x20'+_0x466abb['shortName']+(_0x466abb['count']?'['+_0x466abb['count']+']':'')+';\x0a';}),_0x54845c+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0xfd3669,_0x43572a=new Map(),_0x3ae4cc={}){vs['sourceName']=_0x3ae4cc['sourceName'],_0xfd3669=this['stripComme'+'nts'](_0xfd3669),_0xfd3669=_0xfd3669['split'](/\r?\n/)['map'](_0x588e3b=>_0x588e3b['trimEnd']())['join']('\x0a');const _0x11cafa=new Map();if(_0x3ae4cc['stripUnuse'+'dColorAtta'+'chments']){const _0x1f499a=new Map(),_0x2ec1e7=/(pcFragColor[1-8])\b/g,_0x5e129f=_0xfd3669['match'](_0x2ec1e7);_0x5e129f==null||_0x5e129f['forEach'](_0x26c4d1=>{const _0x299206=parseInt(_0x26c4d1['charAt'](_0x26c4d1['length']-(-0x1*-0x7fb+-0xadf+0x2e5)),0x1a03*-0x1+-0x1b*-0x142+-0x19*0x51);_0x1f499a['set'](_0x299206,(_0x1f499a['get'](_0x299206)??0x1*0x99a+-0x2554+0x1bba)+(-0x11b0+0x2636+-0x1485));}),_0x1f499a['forEach']((_0x1ca319,_0x25d1a1)=>{_0x1ca319===0x5+-0xd40+-0x7*-0x1e4&&_0x11cafa['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x25d1a1,'');});}_0xfd3669=this['_preproces'+'s'](_0xfd3669,_0x11cafa,_0x43572a,_0x3ae4cc['stripDefin'+'es']);const _0x5cf08b=new Map();_0x11cafa['forEach']((_0x4cce5a,_0x1a9123)=>{Number['isInteger'](parseFloat(_0x4cce5a))&&!_0x4cce5a['includes']('.')&&_0x5cf08b['set'](_0x1a9123,_0x4cce5a);});const _0x35933d=new Map();return _0x11cafa['forEach']((_0x30e881,_0x3fe306)=>{_0x3fe306['startsWith']('__INJECT_')&&_0x35933d['set'](_0x3fe306,_0x30e881);}),_0xfd3669=this['stripComme'+'nts'](_0xfd3669),_0xfd3669=this['RemoveEmpt'+'yLines'](_0xfd3669),_0xfd3669=this['processArr'+'aySize'](_0xfd3669,_0x5cf08b),_0xfd3669=this['injectDefi'+'nes'](_0xfd3669,_0x35933d),_0xfd3669;}static['stripComme'+'nts'](_0x21576e){return _0x21576e['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x591567,_0x3c44b4){return _0x591567!==null&&_0x3c44b4['forEach']((_0x3ff3a1,_0x5abbbc)=>{_0x591567=_0x591567['replace'](new RegExp('\x5c['+_0x5abbbc+'\x5c]','g'),'['+_0x3ff3a1+']');}),_0x591567;}static['injectDefi'+'nes'](_0x2c78b0,_0x5a34bc){if(_0x2c78b0!==null&&_0x5a34bc['size']>-0x1f*0xa+-0x17*0x121+0x1b2d){const _0x185617=_0x2c78b0['split']('\x0a');_0x5a34bc['forEach']((_0x1094f2,_0x26357a)=>{const _0x12b6c0=new RegExp('\x5cb'+_0x26357a+'\x5cb','g');for(let _0x15bd34=-0x3a1+0x14ee+0x114d*-0x1;_0x15bd34<_0x185617['length'];_0x15bd34++)_0x185617[_0x15bd34]['includes']('#')||(_0x185617[_0x15bd34]=_0x185617[_0x15bd34]['replace'](_0x12b6c0,_0x1094f2));}),_0x2c78b0=_0x185617['join']('\x0a');}return _0x2c78b0;}static['RemoveEmpt'+'yLines'](_0x3dda54){return _0x3dda54!==null&&(_0x3dda54=_0x3dda54['split'](/\r?\n/)['map'](_0x48fd95=>_0x48fd95['trim']()===''?'':_0x48fd95)['join']('\x0a'),_0x3dda54=_0x3dda54['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x3dda54;}static['_preproces'+'s'](_0x3b947e,_0x2a0908=new Map(),_0x13f6f8,_0xe5bf41){const _0x32f859=_0x3b947e,_0x57ce15=[];let _0x1c496a=!(-0x8c5*0x3+0x46d+0x15e3),_0x53b81b;for(;(_0x53b81b=fs['exec'](_0x3b947e))!==null;){const _0x44f757=_0x53b81b[0x5*-0x7b9+0x95e+0x1d40];switch(_0x44f757){case'define':{ld['lastIndex']=_0x53b81b['index'];const _0x3d0372=ld['exec'](_0x3b947e);v['assert'](_0x3d0372,'Invalid\x20['+_0x44f757+']:\x20'+_0x3b947e['substring'](_0x53b81b['index'],_0x53b81b['index']+(0x1a8e+0x11*0x13d+-0x11*0x2c7))+'...'),_0x1c496a||(_0x1c496a=_0x3d0372===null);const _0x409e35=_0x3d0372[0x5ff+0x5*0x45d+-0x1bcf];Em['lastIndex']=_0x3d0372['index'];const _0x308af3=Em['exec'](_0x409e35)[0x138c+0x2587+-0x3912];let _0x3d8a8a=_0x409e35['substring'](_0x308af3['length'])['trim']();_0x3d8a8a===''&&(_0x3d8a8a='true');const _0x5dc90d=vs['_keep'](_0x57ce15);_0x5dc90d&&(_0x2a0908['set'](_0x308af3,_0x3d8a8a),_0xe5bf41&&(_0x3b947e=_0x3b947e['substring'](-0x214a+-0x417+0x1*0x2561,_0x3d0372['index']-(0x269*-0x1+0x736+-0x4cc))+_0x3b947e['substring'](ld['lastIndex']),fs['lastIndex']=_0x3d0372['index']-(-0x1e36+0x12c5*-0x1+0x4*0xc3f))),v['trace'](gr,_0x44f757+':\x20['+_0x308af3+']\x20'+_0x3d8a8a+'\x20'+(_0x5dc90d?'':'IGNORED')),_0xe5bf41||(fs['lastIndex']=_0x3d0372['index']+_0x3d0372[0x7*0x2c+-0x260a*-0x1+-0x273e]['length']);break;}case'undef':{hd['lastIndex']=_0x53b81b['index'];const _0x19dbb1=hd['exec'](_0x3b947e),_0x82defa=_0x19dbb1[0x39*0x5b+0xb9d+-0x1fdf]['trim'](),_0x261fe4=vs['_keep'](_0x57ce15);_0x261fe4&&(_0x2a0908['delete'](_0x82defa),_0xe5bf41&&(_0x3b947e=_0x3b947e['substring'](0x5*-0x2fc+-0x1182+0x206e,_0x19dbb1['index']-(0xb66*0x1+0x884+-0x13e9))+_0x3b947e['substring'](hd['lastIndex']),fs['lastIndex']=_0x19dbb1['index']-(0x16a8+0xc92*0x2+-0x5*0x98f))),v['trace'](gr,_0x44f757+':\x20['+_0x82defa+']\x20'+(_0x261fe4?'':'IGNORED')),_0xe5bf41||(fs['lastIndex']=_0x19dbb1['index']+_0x19dbb1[-0x2098+0x26*0x6c+0x1090]['length']);break;}case'extension':{Am['lastIndex']=_0x53b81b['index'];const _0x586be6=Am['exec'](_0x3b947e);if(v['assert'](_0x586be6,'Invalid\x20['+_0x44f757+']:\x20'+_0x3b947e['substring'](_0x53b81b['index'],_0x53b81b['index']+(-0x2b*-0x43+-0x1*0x4aa+-0x633))+'...'),_0x1c496a||(_0x1c496a=_0x586be6===null),_0x586be6){const _0x33bd14=_0x586be6[-0xedb*0x1+-0x20e*-0x8+0x194*-0x1],_0x13fc5a=vs['_keep'](_0x57ce15);_0x13fc5a&&_0x2a0908['set'](_0x33bd14,'true'),v['trace'](gr,_0x44f757+':\x20['+_0x33bd14+']\x20'+(_0x13fc5a?'':'IGNORED'));}fs['lastIndex']=_0x586be6['index']+_0x586be6[0x2580+0x2665+0x4be5*-0x1]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x53b81b['index'];const _0x5641f9=cd['exec'](_0x3b947e),_0x1ed5ba=_0x5641f9[-0x4d*-0x3d+-0x14bc+-0x265*-0x1],_0x4e55ea=vs['evaluate'](_0x1ed5ba,_0x2a0908);_0x1c496a||(_0x1c496a=_0x4e55ea['error']);let _0x502ceb=_0x4e55ea['result'];_0x44f757==='ifndef'&&(_0x502ceb=!_0x502ceb),_0x57ce15['push']({'anyKeep':_0x502ceb,'keep':_0x502ceb,'start':_0x53b81b['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x44f757+':\x20['+_0x1ed5ba+']\x20=>\x20'+_0x502ceb),fs['lastIndex']=_0x5641f9['index']+_0x5641f9[-0x4fd*-0x2+0x201f+0x1*-0x2a19]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x53b81b['index'];const _0x388081=dd['exec'](_0x3b947e),_0x308fad=_0x57ce15['pop'](),_0x73b7b7=_0x308fad['keep']?_0x3b947e['substring'](_0x308fad['end'],_0x53b81b['index']):'';v['trace'](gr,_0x44f757+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x73b7b7!=='')),_0x3b947e=_0x3b947e['substring'](-0x15da+-0x23a9+-0x3983*-0x1,_0x308fad['start'])+_0x73b7b7+_0x3b947e['substring'](dd['lastIndex']),fs['lastIndex']=_0x308fad['start']+_0x73b7b7['length'];const _0x1033f0=_0x388081[-0x14b1*0x1+-0x1*-0x23d1+-0x31*0x4f];if(_0x1033f0==='else'||_0x1033f0==='elif'){let _0x395626=!(-0x3*0xa8d+0x22fa+0x352*-0x1);if(!_0x308fad['anyKeep']){if(_0x1033f0==='else')_0x395626=!_0x308fad['keep'];else{const _0x568fb0=vs['evaluate'](_0x388081[-0x17f4+0x1f*-0x139+0x1*0x3ddd],_0x2a0908);_0x395626=_0x568fb0['result'],_0x1c496a||(_0x1c496a=_0x568fb0['error']);}}_0x57ce15['push']({'anyKeep':_0x308fad['anyKeep']||_0x395626,'keep':_0x395626,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x44f757+':\x20['+_0x388081[-0x2142+-0x1f6*-0x5+0x1776]+']\x20=>\x20'+_0x395626);}break;}case'include':{ud['lastIndex']=_0x53b81b['index'];const _0x34d40a=ud['exec'](_0x3b947e);_0x1c496a||(_0x1c496a=_0x34d40a===null),v['assert'](_0x34d40a,'Invalid\x20['+_0x44f757+']:\x20'+_0x3b947e['substring'](_0x53b81b['index'],_0x53b81b['index']+(-0x86*0xe+0x2*0x2f5+0xb*0x2a))+'...');const _0x392dfe=_0x34d40a[-0x26*0x5+-0x14*0xf5+0x6a1*0x3]['trim'](),_0xbcdd9e=vs['_keep'](_0x57ce15);if(_0xbcdd9e){const _0x27152a=_0x13f6f8==null?void(-0xa7c+-0xad5*0x2+-0x2026*-0x1):_0x13f6f8['get'](_0x392dfe);_0x27152a!==void(0x15*0x18e+0x484+-0x252a)?(_0x3b947e=_0x3b947e['substring'](-0xbcf+0x19fd+-0xe2e,_0x34d40a['index']-(-0x1*-0xfa9+-0x6b7*-0x2+-0x33*0x92))+_0x27152a+_0x3b947e['substring'](ud['lastIndex']),fs['lastIndex']=_0x34d40a['index']-(0x1432+0x1546+0x5*-0x84b)):(console['error']('Include\x20\x22'+_0x392dfe+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x32f859}),_0x1c496a=!(0xb97*-0x1+-0x2567+-0x187f*-0x2));}v['trace'](gr,_0x44f757+':\x20['+_0x392dfe+']\x20'+(_0xbcdd9e?'':'IGNORED'));break;}}}return _0x1c496a?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x32f859}),_0x32f859):_0x3b947e;}static['_keep'](_0x4e93f0){for(let _0x4625f5=0x107f+0x13bf+-0x1*0x243e;_0x4625f5<_0x4e93f0['length'];_0x4625f5++)if(!_0x4e93f0[_0x4625f5]['keep'])return!(-0xc65+0x16c6+-0xa60*0x1);return!(0x1b74+-0xc3c+0x1*-0xf38);}static['evaluate'](_0x55dfd6,_0x188f4c){const _0x10273f=Zv['exec'](_0x55dfd6)===null;v['assert'](_0x10273f,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x55dfd6);let _0x51533c=!(0x9b6+0x1*-0xccf+-0x18d*-0x2);const _0x5700be=Yv['exec'](_0x55dfd6);_0x5700be&&(_0x51533c=_0x5700be[0x6e9+-0x17c4+0x10dc]==='!',_0x55dfd6=_0x5700be[-0x2*-0x6a+-0xb1+-0x21]);const _0x14f955=Kv['exec'](_0x55dfd6);if(_0x14f955){const _0x23d3a4=_0x188f4c['get'](_0x14f955[0xef*-0x25+0xed*-0xd+0x19*0x1dd])??_0x14f955[-0x905+0x3cd+0x539],_0xff07f9=_0x188f4c['get'](_0x14f955[0x2b0*0x7+0x40e+-0x16db])??_0x14f955[-0xb*0xfb+-0x1377+0x1e43],_0x5b1110=_0x14f955[-0x1873+0x1a*0x3e+0x1*0x1229];let _0x8ca082=!(0x5b*0xd+0xe14+-0x12b2);switch(_0x5b1110){case'==':_0x8ca082=_0x23d3a4===_0xff07f9;break;case'!=':_0x8ca082=_0x23d3a4!==_0xff07f9;break;case'<':_0x8ca082=_0x23d3a4<_0xff07f9;break;case'<=':_0x8ca082=_0x23d3a4<=_0xff07f9;break;case'>':_0x8ca082=_0x23d3a4>_0xff07f9;break;case'>=':_0x8ca082=_0x23d3a4>=_0xff07f9;break;}return{'result':_0x8ca082,'error':!_0x10273f};}_0x55dfd6=_0x55dfd6['trim']();let _0x43405=_0x188f4c['has'](_0x55dfd6);return _0x51533c&&(_0x43405=!_0x43405),{'result':_0x43405,'error':!_0x10273f};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x27ba60,_0x32c129){v['assert'](_0x32c129),v['assert'](!_0x32c129['vertexDefi'+'nes']||_0x32c129['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x32c129['vertexIncl'+'udes']||_0x32c129['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x32c129['fragmentDe'+'fines']||_0x32c129['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x32c129['fragmentIn'+'cludes']||_0x32c129['fragmentIn'+'cludes']instanceof Map);const _0x25e828=(_0x579468,_0x53ce57,_0x148c05,_0x2c880b)=>{const _0x55ea37=_0x27ba60['isWebGPU']?_0x579468:_0x53ce57;let _0x17c73c='';if(!_0x148c05){let _0x1dcb7f=_0x2c880b['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x1dcb7f)||(_0x1dcb7f=[_0x1dcb7f]);for(let _0x316f68=-0x2*-0x1087+-0x2*-0x1af+-0x246c;_0x316f68<_0x27ba60['maxColorAt'+'tachments'];_0x316f68++){_0x17c73c+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x316f68+'\x0a';const _0x1498b6=_0x1dcb7f[_0x316f68]??'vec4';_0x17c73c+='#define\x20ou'+'tType_'+_0x316f68+'\x20'+_0x1498b6+'\x0a';}}return _0x17c73c+_0x55ea37;},_0x3b1112=_0x32c129['name']??'Untitled';let _0x7bdb72,_0x11df05;return _0x32c129['shaderLang'+'uage']===Ph?(_0x7bdb72=_0x32c129['vertexCode'],_0x11df05=_0x32c129['fragmentCo'+'de']):(_0x7bdb72=Mt['versionCod'+'e'](_0x27ba60)+_0x25e828(s0,e0,!(0x1aca+0x197*0x11+-0x35d1),_0x32c129)+Mt['getDefines'+'Code'](_0x32c129['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x27ba60)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x3b1112)+_0x32c129['vertexCode'],_0x11df05=(_0x32c129['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x27ba60)+_0x25e828(t0,Jy,!(0x1e74+0x2da+-0x37*0x9b),_0x32c129)+Mt['getDefines'+'Code'](_0x32c129['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x27ba60)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x3b1112)+(_0x32c129['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x3b1112,'shaderLanguage':_0x32c129['shaderLang'+'uage']??ky,'attributes':_0x32c129['attributes'],'vshader':_0x7bdb72,'vincludes':_0x32c129['vertexIncl'+'udes'],'fincludes':_0x32c129['fragmentIn'+'cludes'],'fshader':_0x11df05,'useTransformFeedback':_0x32c129['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x32c129['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x32c129['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x44550d){let _0x348993='';return _0x44550d==null||_0x44550d['forEach']((_0x470759,_0x211745)=>{_0x348993+='#define\x20'+_0x211745+'\x20'+_0x470759+'\x0a';}),_0x348993;}static['getShaderN'+'ameCode'](_0x379f8f){return'#define\x20SH'+'ADER_NAME\x20'+_0x379f8f+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x567f00){return _0x567f00['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x144faf,_0x3b56c8){_0x3b56c8&&_0x3b56c8!=='highp'&&_0x3b56c8!=='mediump'&&_0x3b56c8!=='lowp'&&(_0x3b56c8=null),_0x3b56c8&&(_0x3b56c8==='highp'&&_0x144faf['maxPrecisi'+'on']!=='highp'&&(_0x3b56c8='mediump'),_0x3b56c8==='mediump'&&_0x144faf['maxPrecisi'+'on']==='lowp'&&(_0x3b56c8='lowp'));const _0x11e7d4=_0x3b56c8||_0x144faf['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x11e7d4+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x11e7d4+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x11e7d4+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x11e7d4+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x11e7d4+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x11e7d4+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x11e7d4+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x2bd490){const _0x3b9422={};let _0x6c48ef=0x154f+-0xbcd+-0x982,_0xa8912a=_0x2bd490['indexOf']('attribute');for(;_0xa8912a>=0x1106+0x1eb8+-0x2fbe&&!(_0xa8912a>-0x121e+0x1*0x2623+-0x1405&&_0x2bd490[_0xa8912a-(-0x5a8+-0x162f+-0x24*-0xc6)]==='/');){let _0xb2bfc7=!(0x3a*-0x4f+0x5b*0x68+-0x1311);if(_0xa8912a>-0x2347*-0x1+-0x17*0x1+-0x2330){let _0x4c6a06=_0x2bd490['lastIndexO'+'f']('\x0a',_0xa8912a);_0x4c6a06=_0x4c6a06!==-(-0xb1b*0x2+0x2e1*-0x1+-0xb*-0x248)?_0x4c6a06+(-0x1fd8+-0xd*0x283+0x4080):-0x124c*0x2+0x2586+-0xee,_0x2bd490['substring'](_0x4c6a06,_0xa8912a)['includes']('#')&&(_0xb2bfc7=!(-0x227d*-0x1+-0x55f+0x1*-0x1d1e));}if(!_0xb2bfc7){const _0x33b07b=_0x2bd490['indexOf'](';',_0xa8912a),_0xf20b13=_0x2bd490['lastIndexO'+'f']('\x20',_0x33b07b),_0x2d1332=_0x2bd490['substring'](_0xf20b13+(-0x18d5+-0x1*-0x1301+0x1*0x5d5),_0x33b07b);if(_0x3b9422[_0x2d1332])v['warn']('Attribute\x20'+'['+_0x2d1332+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x2bd490});else{const _0x3d69f0=Qv[_0x2d1332];_0x3d69f0!==void(-0x29*-0xad+0x18e*0x2+-0x1ed1)?_0x3b9422[_0x2d1332]=_0x3d69f0:(_0x3b9422[_0x2d1332]='ATTR'+_0x6c48ef,_0x6c48ef++);}}_0xa8912a=_0x2bd490['indexOf']('attribute',_0xa8912a+(-0x1748+-0x1*0x12e5+0x2a2e));}return _0x3b9422;}}let Jv=0xc71+-0x45f*0x3+0xac;class i0{constructor(_0x24639b,_0x10b696){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x24639b,this['definition']=_0x10b696,this['name']=_0x10b696['name']||'Untitled',this['init'](),_0x10b696['cshader'])v['assert'](_0x24639b['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x10b696['vshader']&&!_0x10b696['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x10b696['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x10b696['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x10b696['vshader']=Oh['run'](_0x10b696['vshader'],_0x10b696['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x10b696['shaderLang'+'uage']===ky&&(_0x10b696['attributes']??(_0x10b696['attributes']=Mt['collectAtt'+'ributes'](_0x10b696['vshader'])));const _0x318305=_0x24639b['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x10b696['fshader']=Oh['run'](_0x10b696['fshader'],_0x10b696['fincludes'],{'stripUnusedColorAttachments':_0x318305,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x24639b['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0x1*-0xa0e+0xb9f+-0x190),this['failed']=!(0x1*-0x26e9+-0x8*-0x2d8+0x102a);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0xac3131,_0xfa1891,_0x40c2f8){const _0x4015cf=_0xac3131['storageFlo'+'at32'];_0x4015cf[_0x40c2f8]=_0xfa1891;},Te[or]=(_0x2aa270,_0x131f58,_0x3a9582)=>{const _0x3be77c=_0x2aa270['storageFlo'+'at32'];_0x3be77c[_0x3a9582]=_0x131f58[0x3e1*-0x1+0x2414+-0x2033],_0x3be77c[_0x3a9582+(-0x1a1+-0x2*0xb7d+0x189c)]=_0x131f58[-0x275+-0x1654+0x18ca];},Te[$t]=(_0x5b9905,_0x3e87db,_0x23746c)=>{const _0x29961e=_0x5b9905['storageFlo'+'at32'];_0x29961e[_0x23746c]=_0x3e87db[0xfa9+-0x1a3b+-0x29*-0x42],_0x29961e[_0x23746c+(0x2089+0x1*0x17c+-0x2204)]=_0x3e87db[-0x1da0+-0x1*0x102f+0xb74*0x4],_0x29961e[_0x23746c+(0x2242+-0x1*-0x1b1a+-0x3d5a)]=_0x3e87db[-0x1761+-0x16e7+0x2e4a];},Te[xa]=(_0x2a25fd,_0x5485d3,_0x37cb66)=>{const _0x3bcb15=_0x2a25fd['storageFlo'+'at32'];_0x3bcb15[_0x37cb66]=_0x5485d3[-0xc49*0x3+0x14ad+0xda*0x13],_0x3bcb15[_0x37cb66+(-0xf*-0x140+0xedc+-0x219b)]=_0x5485d3[0x13bd+-0x1224+-0x6*0x44],_0x3bcb15[_0x37cb66+(0x1*-0x50d+-0x1e97*0x1+0xea*0x27)]=_0x5485d3[0x1359+-0x2*-0xc3d+-0x2bd1],_0x3bcb15[_0x37cb66+(-0x16*-0x83+-0xb5*0xd+-0x20e)]=_0x5485d3[-0x24ff+0x183a+0xcc8];},Te[ln]=function(_0x3547e1,_0x188342,_0x2f5272){const _0x8aa5ce=_0x3547e1['storageInt'+'32'];_0x8aa5ce[_0x2f5272]=_0x188342;},Te[Zr]=function(_0x550ba4,_0x3c6406,_0x1edb5a){const _0x31802b=_0x550ba4['storageInt'+'32'];_0x31802b[_0x1edb5a]=_0x3c6406[0x1*0xd4b+0x1323+-0x206e],_0x31802b[_0x1edb5a+(-0x26b9+0x22eb+0x3cf)]=_0x3c6406[0x136b+0x2*-0xd9+-0x11b8];},Te[Qr]=function(_0x5bdd3f,_0x5932d9,_0x18c48d){const _0x5489db=_0x5bdd3f['storageInt'+'32'];_0x5489db[_0x18c48d]=_0x5932d9[-0x252f+0x1dea+-0x1*-0x745],_0x5489db[_0x18c48d+(0x7*-0x4bd+-0x15cc+-0x6df*-0x8)]=_0x5932d9[-0x25f8+0xec+0x250d],_0x5489db[_0x18c48d+(-0x87b*0x2+-0x77f+-0x1*-0x1877)]=_0x5932d9[-0x1520+-0x1ff*-0xb+0x1*-0xd3];},Te[Jr]=function(_0x252a17,_0x268b95,_0x3a58e1){const _0x25277c=_0x252a17['storageInt'+'32'];_0x25277c[_0x3a58e1]=_0x268b95[0xd*0x211+-0x17e+-0x195f],_0x25277c[_0x3a58e1+(0x1*0xf8+0x2*-0x14c+0x1a1)]=_0x268b95[-0xd*0xc1+0x70*-0x28+0x2*0xda7],_0x25277c[_0x3a58e1+(-0x11*-0xb5+0x1618+-0x221b)]=_0x268b95[-0x55f*-0x5+-0x22b5+0x7dc],_0x25277c[_0x3a58e1+(-0x1*0x81e+0x25b4+-0x1d93)]=_0x268b95[-0x8*0x42b+-0x8*-0x1bf+0x1363];},Te[Rh]=(_0x1f781b,_0x565e72,_0x511db6)=>{const _0x37ed20=_0x1f781b['storageFlo'+'at32'];_0x37ed20[_0x511db6]=_0x565e72[0x1a*-0x105+0x1a78+0x5*0x2],_0x37ed20[_0x511db6+(0x2ac+0x56e+-0x819)]=_0x565e72[-0x2e9+0x33e*-0x3+0x652*0x2],_0x37ed20[_0x511db6+(0x161+-0x2384*-0x1+0xc4b*-0x3)]=_0x565e72[-0xec3*-0x1+0x157b+-0x243c],_0x37ed20[_0x511db6+(0x1*0xe84+0xcf*-0x9+-0x738)]=_0x565e72[-0xb*0x372+0x24a8+-0x3*-0x6b],_0x37ed20[_0x511db6+(-0xb3+0x2*-0x1be+0x437)]=_0x565e72[0x2*0xfa+0x1304+-0x14f4],_0x37ed20[_0x511db6+(-0xd4c+0x6df+0x676)]=_0x565e72[0xa4*-0x1f+-0x1a93*0x1+0x7be*0x6];},Te[ko]=(_0x151803,_0x38b925,_0x2b22f1)=>{const _0x575dea=_0x151803['storageFlo'+'at32'];_0x575dea[_0x2b22f1]=_0x38b925[-0x1066+0x6fc*-0x2+0x1e5e],_0x575dea[_0x2b22f1+(-0x1bee+-0x2*0xd0a+0x3603)]=_0x38b925[0x795*0x2+0x2*0x4ce+-0x18c5],_0x575dea[_0x2b22f1+(-0x1943+-0xb02*0x3+-0x1*-0x3a4b)]=_0x38b925[0x17*0x18a+-0xf82+0x1*-0x13e2],_0x575dea[_0x2b22f1+(0xfb9*0x2+0xe3*0x11+-0x2e81)]=_0x38b925[0x17*-0x135+-0x36e*0x2+0x2aa*0xd],_0x575dea[_0x2b22f1+(0x1*-0x95+0xdbf+-0xd25*0x1)]=_0x38b925[0x2586+0xeb1*-0x2+-0x820],_0x575dea[_0x2b22f1+(0x1*0x142c+-0x2*0x43b+0xb*-0x110)]=_0x38b925[-0x1065*-0x1+-0x179f*-0x1+-0x27ff],_0x575dea[_0x2b22f1+(-0xc65*-0x1+-0xe19*0x1+0x1bc)]=_0x38b925[-0xbb*0x3+-0xb45*0x3+-0x35*-0xae],_0x575dea[_0x2b22f1+(-0x73d*-0x1+-0x2229+0x1af5*0x1)]=_0x38b925[-0x1c19+0x1*0x21e2+0x43*-0x16],_0x575dea[_0x2b22f1+(0xd8d+0x1*-0x2681+0x18fe)]=_0x38b925[0x19fd+0x1f08+0x12ff*-0x3];},Te[Dc]=function(_0x19e228,_0x531201,_0x12c1dd,_0x440921){const _0x635b55=_0x19e228['storageFlo'+'at32'];for(let _0x4abbc4=0x3*-0x7c3+0xf7*0x27+-0x66*0x24;_0x4abbc4<_0x440921;_0x4abbc4++)_0x635b55[_0x12c1dd+_0x4abbc4*(-0x22b*-0x8+-0x9*0x175+-0x437)]=_0x531201[_0x4abbc4];},Te[Lc]=(_0x1657b8,_0x51264d,_0x3b1d24,_0x3bcf9a)=>{const _0x5e943e=_0x1657b8['storageFlo'+'at32'];for(let _0x6201b5=0x1e28+-0x21f1+-0x3c9*-0x1;_0x6201b5<_0x3bcf9a;_0x6201b5++)_0x5e943e[_0x3b1d24+_0x6201b5*(-0x48*-0x6+0x1d00+-0x1eac)]=_0x51264d[_0x6201b5*(0xcd9+0x1053+-0x1d2a)],_0x5e943e[_0x3b1d24+_0x6201b5*(0x784+0x22ed+-0x2a6d)+(0x16db+-0x675*0x1+0x577*-0x3)]=_0x51264d[_0x6201b5*(-0x3d8+0xba7+-0x7cd*0x1)+(-0xab0+-0x19b7*-0x1+-0x783*0x2)];},Te[Fc]=(_0x567a6d,_0x1abadc,_0x34f33b,_0x23433a)=>{const _0x3062d6=_0x567a6d['storageFlo'+'at32'];for(let _0x4163bf=0x128c+-0x2134+-0x1c*-0x86;_0x4163bf<_0x23433a;_0x4163bf++)_0x3062d6[_0x34f33b+_0x4163bf*(0x21ff+-0x25*-0x2e+-0x28a1)]=_0x1abadc[_0x4163bf*(-0xe72+-0x31*-0x3e+-0xdd*-0x3)],_0x3062d6[_0x34f33b+_0x4163bf*(-0x607+-0x1*-0xe48+0x83d*-0x1)+(0x1114+-0x240b*-0x1+-0xd*0x416)]=_0x1abadc[_0x4163bf*(-0xd56+0x349+0x38*0x2e)+(0x16ce+-0xe*-0x1b1+-0x49*0xa3)],_0x3062d6[_0x34f33b+_0x4163bf*(0xeea*-0x1+0x2062+0x2*-0x8ba)+(-0xa3d*-0x1+-0x1506+0xacb)]=_0x1abadc[_0x4163bf*(-0x6a+-0x1678+0x16e5)+(-0x22af+0x1b3+0x20fe)];},Te[va]=(_0x57cd0a,_0x5c1ced,_0x2873c1,_0x3c8cbd)=>{const _0x50d9e1=_0x57cd0a['storageUin'+'t32'];_0x50d9e1[_0x2873c1]=_0x5c1ced;},Te[ba]=(_0x2f1b86,_0x58fcf2,_0x4de5c8,_0x2f77f3)=>{const _0x3970ea=_0x2f1b86['storageUin'+'t32'];_0x3970ea[_0x4de5c8]=_0x58fcf2[-0x3*-0x9b7+0x95f+-0x3a*0xaa],_0x3970ea[_0x4de5c8+(0x1968+-0x56b+-0x4*0x4ff)]=_0x58fcf2[0x1f65*-0x1+-0x2e7*-0x2+0x1998];},Te[wa]=(_0x442b1f,_0x2b5a3c,_0x524a3d,_0x566bc3)=>{const _0x36ec96=_0x442b1f['storageUin'+'t32'];_0x36ec96[_0x524a3d]=_0x2b5a3c[0x1489+-0xc1*-0x9+-0x1b52],_0x36ec96[_0x524a3d+(-0x2b*-0x2d+0x1*-0xbc3+0x1*0x435)]=_0x2b5a3c[-0xa70+-0x1ba+0xc2b*0x1],_0x36ec96[_0x524a3d+(0xdc*0x1d+-0x348+0x47*-0x4e)]=_0x2b5a3c[0x2*-0xb07+0x18e9+-0x1b*0x1b];},Te[Ta]=(_0x1e57ef,_0x3858f0,_0x2420f2,_0x3cb6b9)=>{const _0x44062a=_0x1e57ef['storageUin'+'t32'];_0x44062a[_0x2420f2]=_0x3858f0[-0x328*-0x7+-0x2010+-0x16*-0x74],_0x44062a[_0x2420f2+(0x1f5f+-0x1*0x25e+0x4*-0x740)]=_0x3858f0[-0x3e*0x6b+0x5*0x23b+0xbd*0x14],_0x44062a[_0x2420f2+(-0x12f4+0x15c6+-0x2d0)]=_0x3858f0[-0x6b*-0xe+0x879+-0xe51],_0x44062a[_0x2420f2+(0x2320+-0x1*-0x25f2+-0x13d*0x3b)]=_0x3858f0[-0x7*0x359+0x132e+-0x4e*-0xe];},Te[Aa]=function(_0x19d6a0,_0x310493,_0x109211,_0x45a2aa){const _0x32264a=_0x19d6a0['storageInt'+'32'];for(let _0x3e3d42=-0x5*-0x155+0x1*0x2033+-0x26dc;_0x3e3d42<_0x45a2aa;_0x3e3d42++)_0x32264a[_0x109211+_0x3e3d42*(0x1e23+0x4*0x196+0x1*-0x2477)]=_0x310493[_0x3e3d42];},Te[kc]=Te[Aa],Te[Oc]=function(_0x53fabe,_0x45a9af,_0x4de0dc,_0x1be6ee){const _0x585396=_0x53fabe['storageUin'+'t32'];for(let _0x212f06=0x6d9*0x3+-0x14de+0x53;_0x212f06<_0x1be6ee;_0x212f06++)_0x585396[_0x4de0dc+_0x212f06*(-0xc8+-0x1f4c*-0x1+0x80*-0x3d)]=_0x45a9af[_0x212f06];},Te[Ea]=(_0x25d08a,_0x3aa858,_0x5a8b78,_0x380f58)=>{const _0x312f1c=_0x25d08a['storageInt'+'32'];for(let _0x23345b=-0x89e+-0x1255+-0x1*-0x1af3;_0x23345b<_0x380f58;_0x23345b++)_0x312f1c[_0x5a8b78+_0x23345b*(-0x1ac1+-0xd76+0xd69*0x3)]=_0x3aa858[_0x23345b*(0x2192+0x1*-0x1489+0x17*-0x91)],_0x312f1c[_0x5a8b78+_0x23345b*(0xd*-0xd3+0x404*-0x5+0xb*0x2cd)+(0x176c*-0x1+0x2156+-0x3b*0x2b)]=_0x3aa858[_0x23345b*(-0x28*0xb4+0x2a*-0x17+-0x7fa*-0x4)+(0x2178+-0x266e+-0x1*-0x4f7)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x2685f7,_0x44d9f4,_0x395065,_0x59b83a)=>{const _0x292f24=_0x2685f7['storageUin'+'t32'];for(let _0x361491=0x7*-0x2ce+0xa3*0x35+-0xe1d;_0x361491<_0x59b83a;_0x361491++)_0x292f24[_0x395065+_0x361491*(-0x81e+-0x2*-0xf35+-0x1648)]=_0x44d9f4[_0x361491*(-0xc25*0x3+0x1c92+0x7df)],_0x292f24[_0x395065+_0x361491*(0xa4*0x18+0x13*0x1a7+-0x2ec1)+(0x1*-0xe8a+-0x7a8+-0x1*-0x1633)]=_0x44d9f4[_0x361491*(0x19d*0x13+-0xceb*0x2+-0x4cf)+(-0x1efe+-0x1*0x228+0x171*0x17)];},Te[Ca]=(_0x3d02d8,_0x405332,_0x47f526,_0x317902)=>{const _0x57e2fe=_0x3d02d8['storageInt'+'32'];for(let _0x467409=-0x1ad2+0x5f3+0x14df;_0x467409<_0x317902;_0x467409++)_0x57e2fe[_0x47f526+_0x467409*(-0xfd6*-0x2+0x11f9+-0x34f*0xf)]=_0x405332[_0x467409*(0x47*-0x44+0xdeb*0x1+0x1*0x4f4)],_0x57e2fe[_0x47f526+_0x467409*(-0xde0+-0xd7f*-0x1+0x65)+(0x1*-0x214c+-0x2c*-0xb4+0x25d)]=_0x405332[_0x467409*(-0x1f2a+0x3b1+0x1b7c)+(-0x2*-0x895+-0x22a3+0x1*0x117a)],_0x57e2fe[_0x47f526+_0x467409*(-0xb*0x13+0x684+-0x5af*0x1)+(0x270a*0x1+-0x362+0x1fb*-0x12)]=_0x405332[_0x467409*(-0x5*-0xab+-0x18*0xb+-0x24c)+(-0x1a53+0x5*-0x11d+0x1fe6)];},Te[Uc]=Te[Ca],Te[zc]=(_0x36e4d3,_0x226700,_0x503e20,_0x227ce8)=>{const _0x3524f8=_0x36e4d3['storageUin'+'t32'];for(let _0xd7aa10=-0x2f7*-0x5+0x15e3+-0x25*0xfe;_0xd7aa10<_0x227ce8;_0xd7aa10++)_0x3524f8[_0x503e20+_0xd7aa10*(0x1*0x147d+-0x18*-0xf2+-0x2b29)]=_0x226700[_0xd7aa10*(-0x1fc2+0x1d9*-0xa+0x323f)],_0x3524f8[_0x503e20+_0xd7aa10*(0x1b0d+0x1*-0x1179+-0x990)+(-0x1883+-0x1012*0x1+0x2896)]=_0x226700[_0xd7aa10*(0x836*0x2+-0x4c1*0x3+-0x226)+(-0x8b*0x25+0x1f6c+-0x14*0x91)],_0x3524f8[_0x503e20+_0xd7aa10*(0x148c+-0x2051+0x7*0x1af)+(0x12fb*-0x1+-0x1a17+-0x241*-0x14)]=_0x226700[_0xd7aa10*(-0x21ba+0x2006+0x1b7)+(-0x149+-0x1380+0x14cb)];};class gp{constructor(_0x27e686,_0x10cf28,_0x2e753b=!(0x167b+0x24df+-0x3b5a)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',-0x2e3+0x2109+0x1*-0x1e26);if(this['device']=_0x27e686,this['format']=_0x10cf28,this['persistent']=_0x2e753b,v['assert'](_0x10cf28),_0x2e753b){this['impl']=_0x27e686['createUnif'+'ormBufferI'+'mpl'](this);const _0x57d7b6=new ArrayBuffer(_0x10cf28['byteSize']);this['assignStor'+'age'](new Int32Array(_0x57d7b6)),_0x27e686['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0xbf0a8b=this['device'];this['impl']['destroy'](_0xbf0a8b),_0xbf0a8b['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x1*-0x1391+-0x14d1+0xd76*0x3:this['allocation']['offset'];}['assignStor'+'age'](_0xefd3d9){this['storageInt'+'32']=_0xefd3d9,this['storageUin'+'t32']=new Uint32Array(_0xefd3d9['buffer'],_0xefd3d9['byteOffset'],_0xefd3d9['byteLength']/(-0x3*-0x3d8+0x8bc+0x6*-0x360)),this['storageFlo'+'at32']=new Float32Array(_0xefd3d9['buffer'],_0xefd3d9['byteOffset'],_0xefd3d9['byteLength']/(-0x178+-0x92*-0x6+-0x1f0));}['loseContex'+'t'](){var _0x1b076e;(_0x1b076e=this['impl'])==null||_0x1b076e['loseContex'+'t']();}['setUniform'](_0x4b0804,_0x476ec0){v['assert'](_0x4b0804);const _0x160937=_0x4b0804['offset'];if(_0x476ec0!=null){const _0x490828=Te[_0x4b0804['updateType']];_0x490828?_0x490828(this,_0x476ec0,_0x160937,_0x4b0804['count']):this['storageFlo'+'at32']['set'](_0x476ec0,_0x160937);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x4b0804['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x4b0804['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x4a0952,_0x50ed78){const _0xeb1de7=this['format']['map']['get'](_0x4a0952);v['assert'](_0xeb1de7,'Uniform\x20na'+'me\x20['+_0x4a0952+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0xeb1de7&&this['setUniform'](_0xeb1de7,_0x50ed78);}['startUpdat'+'e'](_0x4b9f0b){if(!this['persistent']){const _0xdbd73c=this['allocation'],_0x4630fd=_0xdbd73c['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0xdbd73c,this['format']['byteSize']),this['assignStor'+'age'](_0xdbd73c['storage']),_0x4b9f0b&&(_0x4b9f0b['bindGroup']=_0xdbd73c['gpuBuffer']['getBindGro'+'up'](this),_0x4b9f0b['offsets'][-0x1f6*-0x3+-0x10c6+0xae4]=_0xdbd73c['offset']),_0x4630fd!==_0xdbd73c['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0xdafb25){this['startUpdat'+'e'](_0xdafb25);const _0x4ffff7=this['format']['uniforms'];for(let _0x3bb594=0x20ea+0xa63+0x3*-0xe6f;_0x3bb594<_0x4ffff7['length'];_0x3bb594++){const _0x442220=_0x4ffff7[_0x3bb594]['scopeId']['value'];this['setUniform'](_0x4ffff7[_0x3bb594],_0x442220);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(0x1a16+0x441+-0x1e56)),c(this,'_enableReq'+'uest',!(0xff0+0xa*0x275+-0x2881)),c(this,'_frameTime',-0x13c7+-0x2*0x13+0x13ed);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x4d0a90){this['_enableReq'+'uest']=_0x4d0a90;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0xe9d+-0x23ff+0x1562));}['request'](_0x316f6c){this['pastFrameA'+'llocations']['set'](_0x316f6c,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x2d61b6,_0x5df83a){if(_0x5df83a){const _0x52cd56=this['pastFrameA'+'llocations']['get'](_0x2d61b6);if(v['assert'](_0x52cd56['length']===_0x5df83a['length']),_0x5df83a['length']>-0xdd0+-0xb*0x18+0x4c*0x32&&(this['_frameTime']=_0x5df83a[0x23*0xda+-0xde0+-0xfee]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x2d61b6+'\x20--');let _0xf923c=-0x194e+-0x8*0x2ab+-0x2ea6*-0x1;for(let _0x40a91c=-0x1*-0x24fe+0x15+-0x2513;_0x40a91c<_0x52cd56['length'];++_0x40a91c){const _0x1aacfe=_0x52cd56[_0x40a91c];_0xf923c+=_0x5df83a[_0x40a91c],v['trace'](ml,_0x5df83a[_0x40a91c]['toFixed'](0xe51+0x21ea+-0x3039)+'\x20ms\x20'+_0x1aacfe);}v['trace'](ml,_0xf923c['toFixed'](-0x256e+0xf23+0x164d)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x2d61b6);}['getSlot'](_0x410552){const _0x110320=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x410552),_0x110320;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x4977f6){this['bufferId']&&(_0x4977f6['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0xc6b7c9,_0x4f35f7,_0x1e7247,_0x58e05e){const _0x3712eb=_0xc6b7c9['gl'];if(this['bufferId'])_0x3712eb['bindBuffer'](_0x1e7247,this['bufferId']),_0x3712eb['bufferSubD'+'ata'](_0x1e7247,-0xae*-0xa+0x5*-0x47+-0x5*0x115,_0x58e05e);else{let _0x416df5;switch(_0x4f35f7){case jt:_0x416df5=_0x3712eb['STATIC_DRA'+'W'];break;case Th:_0x416df5=_0x3712eb['DYNAMIC_DR'+'AW'];break;case uy:_0x416df5=_0x3712eb['STREAM_DRA'+'W'];break;case PS:_0x416df5=_0x3712eb['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x3712eb['createBuff'+'er'](),_0x3712eb['bindBuffer'](_0x1e7247,this['bufferId']),_0x3712eb['bufferData'](_0x1e7247,_0x58e05e,_0x416df5);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x479ad5){super['destroy'](_0x479ad5),_0x479ad5['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x9b76b4){const _0x15196d=_0x9b76b4['device'];super['unlock'](_0x15196d,_0x9b76b4['usage'],_0x15196d['gl']['ARRAY_BUFF'+'ER'],_0x9b76b4['storage']);}}class ib extends r0{constructor(_0x11ca0d){super();const _0x17807f=_0x11ca0d['device']['gl'],_0x14fa2b=_0x11ca0d['format'];_0x14fa2b===pu?this['glFormat']=_0x17807f['UNSIGNED_B'+'YTE']:_0x14fa2b===Pi?this['glFormat']=_0x17807f['UNSIGNED_S'+'HORT']:_0x14fa2b===nr&&(this['glFormat']=_0x17807f['UNSIGNED_I'+'NT']);}['unlock'](_0x2b7e61){const _0x54d366=_0x2b7e61['device'];super['unlock'](_0x54d366,_0x2b7e61['usage'],_0x54d366['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x2b7e61['storage']);}}class Mm{constructor(_0xa64fec,_0x2bf645,_0x33c094,_0x14a1f2){if(this['locationId']=_0x14a1f2,this['scopeId']=_0xa64fec['scope']['resolve'](_0x2bf645),this['version']=new Ky(),_0x2bf645['substring'](_0x2bf645['length']-(0x1294+0x355*-0x3+-0x892))==='[0]')switch(_0x33c094){case $s:_0x33c094=Dc;break;case ln:_0x33c094=Aa;break;case va:_0x33c094=Oc;break;case ca:_0x33c094=kc;break;case or:_0x33c094=Lc;break;case Zr:_0x33c094=Ea;break;case ba:_0x33c094=Bc;break;case Lo:_0x33c094=Nc;break;case $t:_0x33c094=Fc;break;case Qr:_0x33c094=Ca;break;case wa:_0x33c094=zc;break;case Fo:_0x33c094=Uc;break;case xa:_0x33c094=lp;break;case Jr:_0x33c094=Ih;break;case Ta:_0x33c094=hp;break;case Oo:_0x33c094=cp;break;}this['dataType']=_0x33c094,this['value']=[null,null,null,null],this['array']=[];}}let Pm=0x19ba+0xbf9*-0x3+0xa31;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x44b252){this['map']['forEach'](_0x81ff9d=>{_0x44b252['gl']['deleteShad'+'er'](_0x81ff9d);});}['loseContex'+'t'](_0x1a2573){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x2a912a){c(this,'compileDur'+'ation',-0x1*-0x35f+0x477+-0x22*0x3b),(this['init'](),this['compile'](_0x2a912a['device'],_0x2a912a),this['link'](_0x2a912a['device'],_0x2a912a),_0x2a912a['device']['shaders']['push'](_0x2a912a));}['destroy'](_0x12a9fa){this['glProgram']&&(_0x12a9fa['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x1ab618,_0x14eb46){this['compile'](_0x1ab618,_0x14eb46),this['link'](_0x1ab618,_0x14eb46);}['compile'](_0x1a515c,_0x4e248b){const _0x441d70=_0x4e248b['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x1a515c,_0x441d70['vshader'],!(-0x1221+-0x14d5+0x1*0x26f6)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x1a515c,_0x441d70['fshader'],!(0x1a08+-0x21f4+-0x1*-0x7ed));}['link'](_0x1f63a0,_0x4cd428){if(this['glProgram'])return;const _0x3b3a05=_0x1f63a0['gl'];if(_0x3b3a05['isContextL'+'ost']())return;let _0x3fc879=-0x2545+-0x1003+0xa*0x554;v['call'](()=>{this['compileDur'+'ation']=0x19d3+0x1*-0x2269+0x896,_0x3fc879=ne();});const _0x4018a9=_0x3b3a05['createProg'+'ram']();this['glProgram']=_0x4018a9,_0x3b3a05['attachShad'+'er'](_0x4018a9,this['glVertexSh'+'ader']),_0x3b3a05['attachShad'+'er'](_0x4018a9,this['glFragment'+'Shader']);const _0x2feb72=_0x4cd428['definition'],_0x1118f1=_0x2feb72['attributes'];if(_0x2feb72['useTransfo'+'rmFeedback']){const _0x153ebd=[];for(const _0x4abb4d in _0x1118f1)_0x1118f1['hasOwnProp'+'erty'](_0x4abb4d)&&_0x153ebd['push']('out_'+_0x4abb4d);_0x3b3a05['transformF'+'eedbackVar'+'yings'](_0x4018a9,_0x153ebd,_0x3b3a05['INTERLEAVE'+'D_ATTRIBS']);}const _0x5957d6={};for(const _0x51eeb4 in _0x1118f1)if(_0x1118f1['hasOwnProp'+'erty'](_0x51eeb4)){const _0x2d7aef=_0x1118f1[_0x51eeb4],_0x5580aa=ve[_0x2d7aef];v['assert'](!_0x5957d6['hasOwnProp'+'erty'](_0x5580aa),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x5957d6[_0x5580aa]+'\x20and\x20'+_0x51eeb4),_0x5957d6[_0x5580aa]=_0x51eeb4,_0x3b3a05['bindAttrib'+'Location'](_0x4018a9,_0x5580aa,_0x51eeb4);}_0x3b3a05['linkProgra'+'m'](_0x4018a9),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x3fc879;}),_0x1f63a0['_shaderSta'+'ts']['linked']++,_0x2feb72['tag']===Ly&&_0x1f63a0['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x3ddc43,_0x220e9e,_0x1e8548){const _0x32e654=_0x3ddc43['gl'];if(_0x32e654['isContextL'+'ost']())return null;const _0xc0f84c=(_0x1e8548?ab:ob)['get'](_0x3ddc43,()=>new nb());let _0x48c925=_0xc0f84c['map']['get'](_0x220e9e);if(!_0x48c925){const _0x159564=ne();_0x3ddc43['fire']('shader:com'+'pile:start',{'timestamp':_0x159564,'target':_0x3ddc43}),_0x48c925=_0x32e654['createShad'+'er'](_0x1e8548?_0x32e654['VERTEX_SHA'+'DER']:_0x32e654['FRAGMENT_S'+'HADER']),_0x32e654['shaderSour'+'ce'](_0x48c925,_0x220e9e),_0x32e654['compileSha'+'der'](_0x48c925),_0xc0f84c['map']['set'](_0x220e9e,_0x48c925);const _0x3b5959=ne();_0x3ddc43['fire']('shader:com'+'pile:end',{'timestamp':_0x3b5959,'target':_0x3ddc43}),_0x3ddc43['_shaderSta'+'ts']['compileTim'+'e']+=_0x3b5959-_0x159564,_0x1e8548?_0x3ddc43['_shaderSta'+'ts']['vsCompiled']++:_0x3ddc43['_shaderSta'+'ts']['fsCompiled']++;}return _0x48c925;}['finalize'](_0x5a38df,_0x1fc1d4){var _0xe01313,_0x45ea55;const _0x26b341=_0x5a38df['gl'];if(_0x26b341['isContextL'+'ost']())return!(-0x181e+-0x1*0x18c3+0x104b*0x3);const _0x3b81a3=this['glProgram'],_0x45bea4=_0x1fc1d4['definition'],_0x4b4461=ne();_0x5a38df['fire']('shader:lin'+'k:start',{'timestamp':_0x4b4461,'target':_0x5a38df});let _0x2a159c=0x13f7+-0x249a+0x10a3;if(v['call'](()=>{_0x2a159c=ne();}),!_0x26b341['getProgram'+'Parameter'](_0x3b81a3,_0x26b341['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x5a38df,_0x1fc1d4,this['glVertexSh'+'ader'],_0x45bea4['vshader'],'vertex')||!this['_isCompile'+'d'](_0x5a38df,_0x1fc1d4,this['glFragment'+'Shader'],_0x45bea4['fshader'],'fragment'))return!(-0x1801+-0x2*-0x61b+0xbcc);const _0x2332b6='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x26b341['getProgram'+'InfoLog'](_0x3b81a3);return _0x45bea4['translated'+'Frag']=(_0xe01313=_0x26b341['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x2425+0x211+0x2214):_0xe01313['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x45bea4['translated'+'Vert']=(_0x45ea55=_0x26b341['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0xa4*0x1c+0x19c4+-0x2bb4):_0x45ea55['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x2332b6,_0x45bea4),console['error'](_0x2332b6),!(0xa9b+-0x341*-0x3+0x1*-0x145d);}const _0x5d8e97=_0x26b341['getProgram'+'Parameter'](_0x3b81a3,_0x26b341['ACTIVE_ATT'+'RIBUTES']);for(let _0x550ee4=0x1*0x1e21+0x25c3+-0x43e4;_0x550ee4<_0x5d8e97;_0x550ee4++){const _0xa4a4bd=_0x26b341['getActiveA'+'ttrib'](_0x3b81a3,_0x550ee4),_0x1e1195=_0x26b341['getAttribL'+'ocation'](_0x3b81a3,_0xa4a4bd['name']);if(!rb['has'](_0xa4a4bd['name'])){if(_0x45bea4['attributes'][_0xa4a4bd['name']]===void(0x25fc+0x5*0x5+-0x2615))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0xa4a4bd['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x1fc1d4['label']+']',_0x1fc1d4),_0x1fc1d4['failed']=!(0x20e1*0x1+-0x1f2+-0x1eef);else{const _0x3fca8e=new Mm(_0x5a38df,_0x45bea4['attributes'][_0xa4a4bd['name']],_0x5a38df['pcUniformT'+'ype'][_0xa4a4bd['type']],_0x1e1195);this['attributes']['push'](_0x3fca8e);}}}const _0x4c11c2=_0x5a38df['_samplerTy'+'pes'],_0x498ff1=_0x26b341['getProgram'+'Parameter'](_0x3b81a3,_0x26b341['ACTIVE_UNI'+'FORMS']);for(let _0x459e43=-0x1*-0xab7+-0x1*-0x2627+-0x9c6*0x5;_0x459e43<_0x498ff1;_0x459e43++){const _0x26476e=_0x26b341['getActiveU'+'niform'](_0x3b81a3,_0x459e43),_0x2a4aa8=_0x26b341['getUniform'+'Location'](_0x3b81a3,_0x26476e['name']),_0x5d5d5a=new Mm(_0x5a38df,_0x26476e['name'],_0x5a38df['pcUniformT'+'ype'][_0x26476e['type']],_0x2a4aa8);_0x4c11c2['has'](_0x26476e['type'])?this['samplers']['push'](_0x5d5d5a):this['uniforms']['push'](_0x5d5d5a);}_0x1fc1d4['ready']=!(0x1a7b*-0x1+-0x61f*-0x6+-0xa3f);const _0xff3bbd=ne();return _0x5a38df['fire']('shader:lin'+'k:end',{'timestamp':_0xff3bbd,'target':_0x5a38df}),_0x5a38df['_shaderSta'+'ts']['compileTim'+'e']+=_0xff3bbd-_0x4b4461,v['call'](()=>{const _0x36959b=ne()-_0x2a159c;this['compileDur'+'ation']+=_0x36959b,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x1fc1d4['id']+']\x20'+_0x1fc1d4['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x902+0x19*-0x8e+0x5*0xf9)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](0xc2b+-0x233*-0x7+-0x53*0x55)+'ms');}),!(-0x17*-0x15b+0x1905+-0x2*0x1c19);}['_isCompile'+'d'](_0x1ff50a,_0x3f2f8d,_0x26e629,_0x59efce,_0x239796){const _0x1924ef=_0x1ff50a['gl'];if(!_0x1924ef['getShaderP'+'arameter'](_0x26e629,_0x1924ef['COMPILE_ST'+'ATUS'])){const _0xe85bf9=_0x1924ef['getShaderI'+'nfoLog'](_0x26e629),[_0x3a2e56,_0x2f8b96]=this['_processEr'+'ror'](_0x59efce,_0xe85bf9),_0x13ea04='Failed\x20to\x20'+'compile\x20'+_0x239796+'\x20shader:\x0a\x0a'+_0xe85bf9+'\x0a'+_0x3a2e56+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x2f8b96['shader']=_0x3f2f8d,console['error'](_0x13ea04,_0x2f8b96),console['error'](_0x13ea04),!(-0x5*0x51d+-0x1*-0x1962+0x30);}return!(-0x15e*0xd+0x271*0xf+-0x12d9);}['isLinked'](_0x56a824){const {extParallelShaderCompile:_0x2afa4d}=_0x56a824;return _0x2afa4d?_0x56a824['gl']['getProgram'+'Parameter'](this['glProgram'],_0x2afa4d['COMPLETION'+'_STATUS_KH'+'R']):!(0x1*0x14b0+-0x45d*-0x3+-0x21c7);}['_processEr'+'ror'](_0x5a2eb4,_0x3716c3){const _0x2c889a={};let _0x35a4db='';if(_0x5a2eb4){const _0x45afba=_0x5a2eb4['split']('\x0a');let _0x4cd268=-0x2d*-0x9e+-0x1e29+0x263,_0x5595df=_0x45afba['length'];if(_0x3716c3&&_0x3716c3['startsWith']('ERROR:')){const _0x478133=_0x3716c3['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x478133&&(_0x2c889a['message']=_0x478133[0x763*-0x2+0x20d6+-0x120d],_0x2c889a['line']=parseInt(_0x478133[0x1ce2+0xa3*-0x25+-0x1*0x551],0xc9d+-0x21cd+0x153a),_0x4cd268=Math['max'](0xaab+-0x2381+-0x2*-0xc6b,_0x2c889a['line']-(0x26be+0x1656+-0xc36*0x5)),_0x5595df=Math['min'](_0x45afba['length'],_0x2c889a['line']+(0x1af8+-0x5*0x727+0x8d0)));}for(let _0x445080=_0x4cd268;_0x445080<_0x5595df;_0x445080++)_0x35a4db+=_0x445080+(-0x1f39+-0x9b*0x15+0x2bf1)+':\x09'+_0x45afba[_0x445080]+'\x0a';_0x2c889a['source']=_0x5a2eb4;}return[_0x35a4db,_0x2c889a];}}function Rm(_0x5d5666,_0x172573){const _0x99ba5a=_0x5d5666['width'],_0x43c7f9=_0x5d5666['height'];if(_0x99ba5a>_0x172573||_0x43c7f9>_0x172573){const _0x3c8ec2=_0x172573/Math['max'](_0x99ba5a,_0x43c7f9),_0x38bf5e=Math['floor'](_0x99ba5a*_0x3c8ec2),_0x49fc47=Math['floor'](_0x43c7f9*_0x3c8ec2);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x172573+('.\x20Resizing'+'\x20from\x20')+_0x99ba5a+',\x20'+_0x43c7f9+'\x20to\x20'+_0x38bf5e+',\x20'+_0x49fc47+'.');const _0x28e0dc=document['createElem'+'ent']('canvas');return _0x28e0dc['width']=_0x38bf5e,_0x28e0dc['height']=_0x49fc47,_0x28e0dc['getContext']('2d')['drawImage'](_0x5d5666,0x2285+-0x16c7+-0xbbe,0x3e8+0xd2*0x18+-0x1798,_0x99ba5a,_0x43c7f9,-0x1ef+-0x26a4+-0xd*-0x31f,0xd07+-0xa*0x220+0x839,_0x38bf5e,_0x49fc47),_0x28e0dc;}return _0x5d5666;}class hb{constructor(_0x35e446){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',-0x34c+-0x1cf5*-0x1+-0x19a9),this['texture']=_0x35e446;}['destroy'](_0xe2c8f2){if(this['_glTexture']){for(let _0xffb754=-0x1*0xba2+0x1*-0xc7+0xc69;_0xffb754<_0xe2c8f2['textureUni'+'ts']['length'];_0xffb754++){const _0xab83d4=_0xe2c8f2['textureUni'+'ts'][_0xffb754];for(let _0x869899=0x7a1*0x2+0xe0a+-0x1d4c;_0x869899<_0xab83d4['length'];_0x869899++)_0xab83d4[_0x869899]===this['_glTexture']&&(_0xab83d4[_0x869899]=null);}_0xe2c8f2['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x36ba1f){this['dirtyParam'+'eterFlags']|=_0x36ba1f;}['initialize'](_0x9f4cbc,_0x2d7861){const _0x4cdfe5=_0x9f4cbc['gl'];switch(this['_glTexture']=_0x4cdfe5['createText'+'ure'](),this['_glTarget']=_0x2d7861['_cubemap']?_0x4cdfe5['TEXTURE_CU'+'BE_MAP']:_0x2d7861['_volume']?_0x4cdfe5['TEXTURE_3D']:_0x2d7861['array']?_0x4cdfe5['TEXTURE_2D'+'_ARRAY']:_0x4cdfe5['TEXTURE_2D'],_0x2d7861['_format']){case fy:this['_glFormat']=_0x4cdfe5['ALPHA'],this['_glInterna'+'lFormat']=_0x4cdfe5['ALPHA'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x4cdfe5['LUMINANCE'],this['_glInterna'+'lFormat']=_0x4cdfe5['LUMINANCE'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x4cdfe5['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x4cdfe5['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x4cdfe5['RED'],this['_glInterna'+'lFormat']=_0x4cdfe5['R8'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x4cdfe5['RG'],this['_glInterna'+'lFormat']=_0x4cdfe5['RG8'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGB'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGB8'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA8'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x4cdfe5['SRGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x4cdfe5['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x4cdfe5['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x4cdfe5['SRGB'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x4cdfe5['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x4cdfe5['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x9f4cbc['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x4cdfe5['RED'],this['_glInterna'+'lFormat']=_0x4cdfe5['R16F'],this['_glPixelTy'+'pe']=_0x4cdfe5['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x4cdfe5['RG'],this['_glInterna'+'lFormat']=_0x4cdfe5['RG16F'],this['_glPixelTy'+'pe']=_0x4cdfe5['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGB16F'],this['_glPixelTy'+'pe']=_0x4cdfe5['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA16F'],this['_glPixelTy'+'pe']=_0x4cdfe5['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGB32F'],this['_glPixelTy'+'pe']=_0x4cdfe5['FLOAT'];break;case Ke:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA32F'],this['_glPixelTy'+'pe']=_0x4cdfe5['FLOAT'];break;case Ii:this['_glFormat']=_0x4cdfe5['RED'],this['_glInterna'+'lFormat']=_0x4cdfe5['R32F'],this['_glPixelTy'+'pe']=_0x4cdfe5['FLOAT'];break;case Ci:this['_glFormat']=_0x4cdfe5['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x4cdfe5['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x4cdfe5['FLOAT'];break;case la:this['_glFormat']=_0x4cdfe5['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x4cdfe5['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x4cdfe5['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x4cdfe5['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x4cdfe5['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x4cdfe5['RGB'],this['_glInterna'+'lFormat']=_0x4cdfe5['SRGB8'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x4cdfe5['RGBA'],this['_glInterna'+'lFormat']=_0x4cdfe5['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x4cdfe5['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4cdfe5['R8I'],this['_glPixelTy'+'pe']=_0x4cdfe5['BYTE'];break;case xy:this['_glFormat']=_0x4cdfe5['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4cdfe5['R8UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x4cdfe5['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4cdfe5['R16I'],this['_glPixelTy'+'pe']=_0x4cdfe5['SHORT'];break;case $f:this['_glFormat']=_0x4cdfe5['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4cdfe5['R16UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x4cdfe5['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4cdfe5['R32I'],this['_glPixelTy'+'pe']=_0x4cdfe5['INT'];break;case an:this['_glFormat']=_0x4cdfe5['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4cdfe5['R32UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x4cdfe5['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RG8I'],this['_glPixelTy'+'pe']=_0x4cdfe5['BYTE'];break;case Sy:this['_glFormat']=_0x4cdfe5['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RG8UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x4cdfe5['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RG16I'],this['_glPixelTy'+'pe']=_0x4cdfe5['SHORT'];break;case Yf:this['_glFormat']=_0x4cdfe5['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RG16UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x4cdfe5['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RG32I'],this['_glPixelTy'+'pe']=_0x4cdfe5['INT'];break;case Zf:this['_glFormat']=_0x4cdfe5['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RG32UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x4cdfe5['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA8I'],this['_glPixelTy'+'pe']=_0x4cdfe5['BYTE'];break;case vy:this['_glFormat']=_0x4cdfe5['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA8UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x4cdfe5['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA16I'],this['_glPixelTy'+'pe']=_0x4cdfe5['SHORT'];break;case Ac:this['_glFormat']=_0x4cdfe5['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA16UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x4cdfe5['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA32I'],this['_glPixelTy'+'pe']=_0x4cdfe5['INT'];break;case ut:this['_glFormat']=_0x4cdfe5['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4cdfe5['RGBA32UI'],this['_glPixelTy'+'pe']=_0x4cdfe5['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x1e9f+0x12d6+-0x3174);}['upload'](_0xc871e,_0x18657c){v['assert'](_0x18657c['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x18657c);const _0x303adf=_0xc871e['gl'];if(!_0x18657c['_needsUplo'+'ad']&&(_0x18657c['_needsMipm'+'apsUpload']&&_0x18657c['_mipmapsUp'+'loaded']||!_0x18657c['pot']))return;let _0x59da65=-0x3cf+0x9*0x153+-0x40e*0x2,_0x86a1d,_0x3ccc34;const _0xe93500=_0x18657c['numLevels'];for(_0x18657c['array']&&_0x303adf['texStorage'+'3D'](_0x303adf['TEXTURE_2D'+'_ARRAY'],_0xe93500,this['_glInterna'+'lFormat'],_0x18657c['_width'],_0x18657c['_height'],_0x18657c['_arrayLeng'+'th']);_0x18657c['_levels'][_0x59da65]||_0x59da65===0x163f+-0x864+-0xddb;){if(!_0x18657c['_needsUplo'+'ad']&&_0x59da65===0x1*-0x542+-0x1095*-0x1+0xd*-0xdf){_0x59da65++;continue;}else{if(_0x59da65&&(!_0x18657c['_needsMipm'+'apsUpload']||!_0x18657c['_mipmaps']))break;}if(_0x86a1d=_0x18657c['_levels'][_0x59da65],_0x3ccc34=(-0x77c+0x2a5*0x1+0x4d8)/Math['pow'](-0x11f*0x10+-0x2*-0xfc5+-0x14*0xae,_0x59da65),_0x59da65===0x1e3d*0x1+0xd1*0x3+-0xae5*0x3&&!_0x18657c['_compresse'+'d']&&!_0x18657c['_integerFo'+'rmat']&&_0x18657c['_levels']['length']<_0xe93500&&(_0x303adf['generateMi'+'pmap'](this['_glTarget']),_0x18657c['_mipmapsUp'+'loaded']=!(0x1*0x1d87+-0x719+-0x166e)),_0x18657c['_cubemap']){let _0x4ecfb3;if(_0xc871e['_isBrowser'+'Interface'](_0x86a1d[-0x1486+0x641*-0x3+0x2749]))for(_0x4ecfb3=0x3ea*-0x1+0x1b11*0x1+-0x1727;_0x4ecfb3<0xefa+0xb3b*-0x2+0x782;_0x4ecfb3++){if(!_0x18657c['_levelsUpd'+'ated'][-0xaa9*0x1+-0x25*0xec+0x1*0x2cc5][_0x4ecfb3])continue;let _0x510a8c=_0x86a1d[_0x4ecfb3];_0xc871e['_isImageBr'+'owserInter'+'face'](_0x510a8c)&&(_0x510a8c['width']>_0xc871e['maxCubeMap'+'Size']||_0x510a8c['height']>_0xc871e['maxCubeMap'+'Size'])&&(_0x510a8c=Rm(_0x510a8c,_0xc871e['maxCubeMap'+'Size']),_0x59da65===-0x24*-0x105+0x118c+0x3e0*-0xe&&(_0x18657c['_width']=_0x510a8c['width'],_0x18657c['_height']=_0x510a8c['height'])),_0xc871e['setUnpackF'+'lipY'](!(-0x9cf+0x9d2*-0x1+0x9d1*0x2)),_0xc871e['setUnpackP'+'remultiply'+'Alpha'](_0x18657c['_premultip'+'lyAlpha']),this['_glCreated']?_0x303adf['texSubImag'+'e2D'](_0x303adf['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4ecfb3,_0x59da65,-0x155+0x1*0xeb1+-0x6ae*0x2,-0x16f1*0x1+0x1*0x17b3+-0x1*0xc2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x510a8c):_0x303adf['texImage2D'](_0x303adf['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4ecfb3,_0x59da65,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x510a8c);}else for(_0x3ccc34=(0x120b+0x1cdf+0x2ee9*-0x1)/Math['pow'](0x1788+-0x1e1*-0x2+-0x1b48,_0x59da65),_0x4ecfb3=0x48a*-0x8+0x21aa+0x2a6;_0x4ecfb3<0x1de5+-0x1*-0x1ef7+0x257*-0x1a;_0x4ecfb3++){if(!_0x18657c['_levelsUpd'+'ated'][0x2*-0x60+-0x637+-0x6f7*-0x1][_0x4ecfb3])continue;const _0x52c5c4=_0x86a1d[_0x4ecfb3];_0x18657c['_compresse'+'d']?this['_glCreated']&&_0x52c5c4?_0x303adf['compressed'+'TexSubImag'+'e2D'](_0x303adf['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4ecfb3,_0x59da65,-0x7fe+0x1*-0x42+-0x6*-0x160,0x1*0x169f+0xb76*-0x1+0xb29*-0x1,Math['max'](_0x18657c['_width']*_0x3ccc34,0x2531+0x39*-0x24+-0x4*0x74b),Math['max'](_0x18657c['_height']*_0x3ccc34,-0x1921+0x32f*0x9+0x35*-0x11),this['_glInterna'+'lFormat'],_0x52c5c4):_0x303adf['compressed'+'TexImage2D'](_0x303adf['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4ecfb3,_0x59da65,this['_glInterna'+'lFormat'],Math['max'](_0x18657c['_width']*_0x3ccc34,-0x110*-0x17+0x2360+-0x3bcf),Math['max'](_0x18657c['_height']*_0x3ccc34,0x1c4+0xd5*0x13+-0x1192),0x166c+0x1167+0x7f7*-0x5,_0x52c5c4):(_0xc871e['setUnpackF'+'lipY'](!(-0x1f37+-0x25a5*-0x1+-0x7*0xeb)),_0xc871e['setUnpackP'+'remultiply'+'Alpha'](_0x18657c['_premultip'+'lyAlpha']),this['_glCreated']&&_0x52c5c4?_0x303adf['texSubImag'+'e2D'](_0x303adf['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4ecfb3,_0x59da65,0x5dc+0x747*-0x4+-0x174*-0x10,-0x7*-0x58d+-0xc3a*0x1+-0x1aa1,Math['max'](_0x18657c['_width']*_0x3ccc34,-0x2191+0x1*0x139b+0x145*0xb),Math['max'](_0x18657c['_height']*_0x3ccc34,0x50b*-0x2+-0xae1+0x8*0x29f),this['_glFormat'],this['_glPixelTy'+'pe'],_0x52c5c4):_0x303adf['texImage2D'](_0x303adf['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4ecfb3,_0x59da65,this['_glInterna'+'lFormat'],Math['max'](_0x18657c['_width']*_0x3ccc34,0x1331+0xf5+-0x1425),Math['max'](_0x18657c['_height']*_0x3ccc34,0x162d+0x7d0+0x13*-0x194),-0x7*0x1ec+0x1*0x2602+-0xc47*0x2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x52c5c4));}}else{if(_0x18657c['_volume'])_0x18657c['_compresse'+'d']?_0x303adf['compressed'+'TexImage3D'](_0x303adf['TEXTURE_3D'],_0x59da65,this['_glInterna'+'lFormat'],Math['max'](_0x18657c['_width']*_0x3ccc34,0x718+-0x462+-0x4d*0x9),Math['max'](_0x18657c['_height']*_0x3ccc34,-0x13b2*0x1+-0x10d6*0x2+-0x41b*-0xd),Math['max'](_0x18657c['_depth']*_0x3ccc34,-0x10*0x103+0x1*-0x184c+-0x3*-0xd7f),0xd7f+-0x19*-0x2e+-0x11fd,_0x86a1d):(_0xc871e['setUnpackF'+'lipY'](!(-0x1682*0x1+-0x6e0+0x1d63*0x1)),_0xc871e['setUnpackP'+'remultiply'+'Alpha'](_0x18657c['_premultip'+'lyAlpha']),_0x303adf['texImage3D'](_0x303adf['TEXTURE_3D'],_0x59da65,this['_glInterna'+'lFormat'],Math['max'](_0x18657c['_width']*_0x3ccc34,0x2312+-0x977*-0x2+0x35ff*-0x1),Math['max'](_0x18657c['_height']*_0x3ccc34,-0x6ff+0x3*0x22d+0x79),Math['max'](_0x18657c['_depth']*_0x3ccc34,-0x3a2*-0x7+-0x1758+-0x215),0x20c*-0x2+-0xeae*-0x2+-0x1944,this['_glFormat'],this['_glPixelTy'+'pe'],_0x86a1d));else{if(_0x18657c['array']&&typeof _0x86a1d=='object'){if(_0x18657c['_arrayLeng'+'th']===_0x86a1d['length']){if(_0x18657c['_compresse'+'d']){for(let _0x59d1f6=0x693+-0x356*-0x2+0xd3f*-0x1;_0x59d1f6<_0x18657c['_arrayLeng'+'th'];_0x59d1f6++)_0x303adf['compressed'+'TexSubImag'+'e3D'](_0x303adf['TEXTURE_2D'+'_ARRAY'],_0x59da65,0x8*-0x6d+0x834+0x4cc*-0x1,0x2636+0xaa0+0x186b*-0x2,_0x59d1f6,Math['max'](Math['floor'](_0x18657c['_width']*_0x3ccc34),0x4b5+-0xcb0+0x7fc),Math['max'](Math['floor'](_0x18657c['_height']*_0x3ccc34),-0x1f2e+0x145*0x9+-0x9*-0x232),0x1856+-0x1a4d+0x1f8,this['_glInterna'+'lFormat'],_0x86a1d[_0x59d1f6]);}else{for(let _0x54d73c=-0xbf1+-0xd66+0x1957;_0x54d73c<_0x18657c['_arrayLeng'+'th'];_0x54d73c++)_0x303adf['texSubImag'+'e3D'](_0x303adf['TEXTURE_2D'+'_ARRAY'],_0x59da65,0x1*-0x24cd+0xa11*-0x3+0x4300,0x3ee*0x6+-0x89+0x15b*-0x11,_0x54d73c,Math['max'](Math['floor'](_0x18657c['_width']*_0x3ccc34),-0x245f+-0x1305*0x1+0x3765),Math['max'](Math['floor'](_0x18657c['_height']*_0x3ccc34),0xb2f*0x3+0xc32*-0x1+-0x155a),-0x23*-0xfb+0x59*0x65+-0x456d,this['_glFormat'],this['_glPixelTy'+'pe'],_0x86a1d[_0x54d73c]);}}}else{if(_0xc871e['_isBrowser'+'Interface'](_0x86a1d)){_0xc871e['_isImageBr'+'owserInter'+'face'](_0x86a1d)&&(_0x86a1d['width']>_0xc871e['maxTexture'+'Size']||_0x86a1d['height']>_0xc871e['maxTexture'+'Size'])&&(_0x86a1d=Rm(_0x86a1d,_0xc871e['maxTexture'+'Size']),_0x59da65===0x1146+-0x1dba+-0x2*-0x63a&&(_0x18657c['_width']=_0x86a1d['width'],_0x18657c['_height']=_0x86a1d['height']));const _0x415be4=_0x86a1d['width']||_0x86a1d['videoWidth'],_0x33fdb5=_0x86a1d['height']||_0x86a1d['videoHeigh'+'t'];_0xc871e['setUnpackF'+'lipY'](_0x18657c['_flipY']),_0xc871e['setUnpackP'+'remultiply'+'Alpha'](_0x18657c['_premultip'+'lyAlpha']),this['_glCreated']&&_0x18657c['_width']===_0x415be4&&_0x18657c['_height']===_0x33fdb5&&!_0xc871e['_isImageVi'+'deoInterfa'+'ce'](_0x86a1d)?_0x303adf['texSubImag'+'e2D'](_0x303adf['TEXTURE_2D'],_0x59da65,0x2b*0x9b+0x1453+-0x2e5c,-0x2441+-0x23ba*0x1+0x1*0x47fb,this['_glFormat'],this['_glPixelTy'+'pe'],_0x86a1d):(_0x303adf['texImage2D'](_0x303adf['TEXTURE_2D'],_0x59da65,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x86a1d),_0x59da65===-0xda4*0x2+0x2*-0x15c+0x1e00&&(_0x18657c['_width']=_0x415be4,_0x18657c['_height']=_0x33fdb5));}else _0x3ccc34=(0x2*0xed1+0x137*-0x1+0x1*-0x1c6a)/Math['pow'](-0x9*0x31f+-0x1*-0x5f3+0x36*0x69,_0x59da65),_0x18657c['_compresse'+'d']?this['_glCreated']&&_0x86a1d?_0x303adf['compressed'+'TexSubImag'+'e2D'](_0x303adf['TEXTURE_2D'],_0x59da65,0x797*0x1+-0xe0d+-0x2*-0x33b,0x1*0xa1a+-0x19*0x77+0x185,Math['max'](Math['floor'](_0x18657c['_width']*_0x3ccc34),-0x1*-0x1f79+-0x1d*-0xdb+0x1*-0x3847),Math['max'](Math['floor'](_0x18657c['_height']*_0x3ccc34),0x2*-0x1e7+0x1f*0x51+-0x600),this['_glInterna'+'lFormat'],_0x86a1d):_0x303adf['compressed'+'TexImage2D'](_0x303adf['TEXTURE_2D'],_0x59da65,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x18657c['_width']*_0x3ccc34),0xb*-0x2da+0x1a38+0x527),Math['max'](Math['floor'](_0x18657c['_height']*_0x3ccc34),0x32c+0x2190+0x24bb*-0x1),-0x10b1+0x1db4+0x1*-0xd03,_0x86a1d):(_0xc871e['setUnpackF'+'lipY'](!(0x194e+0x7*-0x293+-0x1d2*0x4)),_0xc871e['setUnpackP'+'remultiply'+'Alpha'](_0x18657c['_premultip'+'lyAlpha']),this['_glCreated']&&_0x86a1d?_0x303adf['texSubImag'+'e2D'](_0x303adf['TEXTURE_2D'],_0x59da65,0x1130+0x22b*-0x1+-0xf05,0x4a3+-0xc0e+0x76b,Math['max'](_0x18657c['_width']*_0x3ccc34,-0xe12+0x1*-0x1c7f+0x2*0x1549),Math['max'](_0x18657c['_height']*_0x3ccc34,0x12e*-0x1d+0x196e+0x8c9),this['_glFormat'],this['_glPixelTy'+'pe'],_0x86a1d):_0x303adf['texImage2D'](_0x303adf['TEXTURE_2D'],_0x59da65,this['_glInterna'+'lFormat'],Math['max'](_0x18657c['_width']*_0x3ccc34,-0xffe+0x19c0+-0x9c1),Math['max'](_0x18657c['_height']*_0x3ccc34,-0x6*0x306+-0xb96+0x1dbb),0x1*-0x1880+0x1d12+-0x492,this['_glFormat'],this['_glPixelTy'+'pe'],_0x86a1d));_0x59da65===0x621+0x9a7*0x1+-0xfc8?_0x18657c['_mipmapsUp'+'loaded']=!(0x2065+-0xb*-0x241+0x392f*-0x1):_0x18657c['_mipmapsUp'+'loaded']=!(-0x1*0xfd+0x432*-0x1+-0x1*-0x52f);}}}_0x59da65++;}if(_0x18657c['_needsUplo'+'ad']){if(_0x18657c['_cubemap']){for(let _0x15d1c0=-0xfe*-0x26+-0x183d+0x9*-0x17f;_0x15d1c0<0x7*0x382+0x53*0x55+-0x3417;_0x15d1c0++)_0x18657c['_levelsUpd'+'ated'][-0x1fee+-0xcfa*-0x1+0x12f4*0x1][_0x15d1c0]=!(0x1498*-0x1+0x17aa+0x1*-0x311);}else _0x18657c['_levelsUpd'+'ated'][-0xdd*-0x27+0x26ee+-0x4899]=!(0x17*0xae+-0x1*0x11+-0xf90);}!_0x18657c['_compresse'+'d']&&!_0x18657c['_integerFo'+'rmat']&&_0x18657c['_mipmaps']&&_0x18657c['_needsMipm'+'apsUpload']&&_0x18657c['_levels']['length']===0x2168+-0x109*-0x8+-0x29af&&(_0x303adf['generateMi'+'pmap'](this['_glTarget']),_0x18657c['_mipmapsUp'+'loaded']=!(0x18ec+-0x9eb+-0xf01)),_0x18657c['_gpuSize']&&_0x18657c['adjustVram'+'SizeTracki'+'ng'](_0xc871e['_vram'],-_0x18657c['_gpuSize']),_0x18657c['_gpuSize']=_0x18657c['gpuSize'],_0x18657c['adjustVram'+'SizeTracki'+'ng'](_0xc871e['_vram'],_0x18657c['_gpuSize']),this['_glCreated']=!(0x162e+-0x8*-0x146+-0x205e);}['read'](_0x467228,_0x363add,_0x3b02b5,_0x1f850c,_0x1d1e0c){const _0x5a6168=this['texture'];return _0x5a6168['device']['readTextur'+'eAsync'](_0x5a6168,_0x467228,_0x363add,_0x3b02b5,_0x1f850c,_0x1d1e0c);}}class cb{constructor(_0x5dab39,_0x2dfb79){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x5dab39,this['resolveFB']=_0x2dfb79);}['destroy'](_0x142357){this['msaaFB']&&(_0x142357['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x142357['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(0xe09+0x1f9d+-0x2da5));}['destroy'](_0x41f0a5){var _0x6f41d1;const _0x3e7beb=_0x41f0a5['gl'];this['_isInitial'+'ized']=!(0x5f8*0x2+-0x1d53+0x1164),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x3e7beb['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x3e7beb['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x3e7beb['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x151658=>{_0x3e7beb['deleteRend'+'erbuffer'](_0x151658);}),this['_glMsaaCol'+'orBuffers']['length']=0x26d+-0x1e22+0x1bb5,(_0x6f41d1=this['colorMrtFr'+'amebuffers'])==null||_0x6f41d1['forEach'](_0x4b6a0d=>{_0x4b6a0d['destroy'](_0x3e7beb);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x41f0a5)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x20*-0x52+0x4*-0x34f+0x14e*0x12);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x18d301,_0x1dbb2c){var _0x27cc08,_0x30a05e;const _0x3a4554=_0x18d301['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0xda0+0xf23*0x2+-0x10a6);const _0x555446=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x2*-0x7b9+-0x1196+0x2108))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x1dbb2c['width']<=-0x3*0x1e7+-0xf6a*0x2+-0x2f*-0xc7||_0x1dbb2c['height']<=-0x70e+0x1035+-0x927)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x1dbb2c['width']+'\x20x\x20'+_0x1dbb2c['height'],_0x1dbb2c);}),this['_glFrameBu'+'ffer']=_0x3a4554['createFram'+'ebuffer'](),_0x18d301['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x59df49=((_0x27cc08=_0x1dbb2c['_colorBuff'+'ers'])==null?void(0x1133+-0x1*0x914+0x2b5*-0x3):_0x27cc08['length'])??0x599*-0x3+-0x1dc9+0x2e94,_0x5b9503=_0x3a4554['COLOR_ATTA'+'CHMENT0'];for(let _0x5a5ba1=-0xd*0x24b+-0x1ee0+0x3caf;_0x5a5ba1<_0x59df49;++_0x5a5ba1){const _0x59bc53=_0x1dbb2c['getColorBu'+'ffer'](_0x5a5ba1);_0x59bc53&&(_0x59bc53['impl']['_glTexture']||(_0x59bc53['_width']=Math['min'](_0x59bc53['width'],_0x18d301['maxRenderB'+'ufferSize']),_0x59bc53['_height']=Math['min'](_0x59bc53['height'],_0x18d301['maxRenderB'+'ufferSize']),_0x18d301['setTexture'](_0x59bc53,-0xaae+-0x678+0x1126)),_0x3a4554['framebuffe'+'rTexture2D'](_0x3a4554['FRAMEBUFFE'+'R'],_0x5b9503+_0x5a5ba1,_0x59bc53['_cubemap']?_0x3a4554['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1dbb2c['_face']:_0x3a4554['TEXTURE_2D'],_0x59bc53['impl']['_glTexture'],_0x1dbb2c['mipLevel']),_0x555446['push'](_0x5b9503+_0x5a5ba1));}_0x3a4554['drawBuffer'+'s'](_0x555446);const _0x3e93a1=_0x1dbb2c['_depthBuff'+'er'];if(_0x3e93a1||_0x1dbb2c['_depth']){const _0x34e7b8=_0x1dbb2c['_stencil']?_0x3a4554['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3a4554['DEPTH_ATTA'+'CHMENT'];if(_0x3e93a1)_0x3e93a1['impl']['_glTexture']||(_0x3e93a1['_width']=Math['min'](_0x3e93a1['width'],_0x18d301['maxRenderB'+'ufferSize']),_0x3e93a1['_height']=Math['min'](_0x3e93a1['height'],_0x18d301['maxRenderB'+'ufferSize']),_0x18d301['setTexture'](_0x3e93a1,0x1*0xb9+-0x22e+0x175)),_0x3a4554['framebuffe'+'rTexture2D'](_0x3a4554['FRAMEBUFFE'+'R'],_0x34e7b8,_0x3e93a1['_cubemap']?_0x3a4554['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1dbb2c['_face']:_0x3a4554['TEXTURE_2D'],_0x1dbb2c['_depthBuff'+'er']['impl']['_glTexture'],_0x1dbb2c['mipLevel']);else{if(!(_0x1dbb2c['_samples']>0x1*-0x1f3+-0x1e79+0x206d)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x3a4554['createRend'+'erbuffer']());const _0x2b6b3c=_0x1dbb2c['_stencil']?_0x3a4554['DEPTH24_ST'+'ENCIL8']:_0x3a4554['DEPTH_COMP'+'ONENT32F'];_0x3a4554['bindRender'+'buffer'](_0x3a4554['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3a4554['renderbuff'+'erStorage'](_0x3a4554['RENDERBUFF'+'ER'],_0x2b6b3c,_0x1dbb2c['width'],_0x1dbb2c['height']),_0x3a4554['framebuffe'+'rRenderbuf'+'fer'](_0x3a4554['FRAMEBUFFE'+'R'],_0x34e7b8,_0x3a4554['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3a4554['bindRender'+'buffer'](_0x3a4554['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x18d301,_0x1dbb2c));}if(_0x1dbb2c['_samples']>-0x60*-0x8+-0x5*-0x43+0x1*-0x44e){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x3a4554['createFram'+'ebuffer'](),_0x18d301['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x42796a=((_0x30a05e=_0x1dbb2c['_colorBuff'+'ers'])==null?void(-0x181e+-0xd77+0x2595):_0x30a05e['length'])??0xb32*0x2+0x658+-0x6*0x4ca;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xdfb+0x13f7+-0x21f2)){const _0x2afb95=_0x3a4554['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x2afb95);const _0x33a404=_0x18d301['backBuffer'+'Format']===Se?_0x3a4554['RGBA8']:_0x3a4554['RGB8'];_0x3a4554['bindRender'+'buffer'](_0x3a4554['RENDERBUFF'+'ER'],_0x2afb95),_0x3a4554['renderbuff'+'erStorageM'+'ultisample'](_0x3a4554['RENDERBUFF'+'ER'],_0x1dbb2c['_samples'],_0x33a404,_0x1dbb2c['width'],_0x1dbb2c['height']),_0x3a4554['framebuffe'+'rRenderbuf'+'fer'](_0x3a4554['FRAMEBUFFE'+'R'],_0x3a4554['COLOR_ATTA'+'CHMENT0'],_0x3a4554['RENDERBUFF'+'ER'],_0x2afb95);}else for(let _0x1908d7=-0xd7d*-0x1+-0xe48*-0x1+-0x1*0x1bc5;_0x1908d7<_0x42796a;++_0x1908d7){const _0x4aaec2=_0x1dbb2c['getColorBu'+'ffer'](_0x1908d7);if(_0x4aaec2){const _0x52c8d4=_0x3a4554['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x52c8d4),_0x3a4554['bindRender'+'buffer'](_0x3a4554['RENDERBUFF'+'ER'],_0x52c8d4),_0x3a4554['renderbuff'+'erStorageM'+'ultisample'](_0x3a4554['RENDERBUFF'+'ER'],_0x1dbb2c['_samples'],_0x4aaec2['impl']['_glInterna'+'lFormat'],_0x1dbb2c['width'],_0x1dbb2c['height']),_0x3a4554['framebuffe'+'rRenderbuf'+'fer'](_0x3a4554['FRAMEBUFFE'+'R'],_0x3a4554['COLOR_ATTA'+'CHMENT0']+_0x1908d7,_0x3a4554['RENDERBUFF'+'ER'],_0x52c8d4);}}if(_0x1dbb2c['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x584499=_0x1dbb2c['_stencil']?_0x3a4554['DEPTH24_ST'+'ENCIL8']:_0x3a4554['DEPTH_COMP'+'ONENT32F'],_0x289cd2=_0x1dbb2c['_stencil']?_0x3a4554['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3a4554['DEPTH_ATTA'+'CHMENT'];let _0x4234d9;const _0x43c7fd=_0x1dbb2c['_depthBuff'+'er'];_0x43c7fd&&(_0x4234d9=_0x43c7fd['id']+':'+_0x1dbb2c['width']+':'+_0x1dbb2c['height']+':'+_0x1dbb2c['_samples']+':'+_0x584499+':'+_0x289cd2,this['_glMsaaDep'+'thBuffer']=od(_0x18d301)['get'](_0x4234d9)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x3a4554['createRend'+'erbuffer'](),_0x3a4554['bindRender'+'buffer'](_0x3a4554['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x3a4554['renderbuff'+'erStorageM'+'ultisample'](_0x3a4554['RENDERBUFF'+'ER'],_0x1dbb2c['_samples'],_0x584499,_0x1dbb2c['width'],_0x1dbb2c['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x3a4554['deleteRend'+'erbuffer'](this);},_0x43c7fd&&od(_0x18d301)['set'](_0x4234d9,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x4234d9,_0x3a4554['framebuffe'+'rRenderbuf'+'fer'](_0x3a4554['FRAMEBUFFE'+'R'],_0x289cd2,_0x3a4554['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x18d301,_0x1dbb2c,'MSAA')),_0x42796a>-0xaf5+0x101e+0xa*-0x84&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x18d301,_0x1dbb2c,_0x42796a),_0x18d301['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x3a4554['drawBuffer'+'s'](_0x555446));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x2ab463,_0x219a2f,_0x5b9973){const _0x1ae41d=_0x2ab463['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x4b64e1=0x1bf5+-0x17cb*-0x1+0xcf*-0x40;_0x4b64e1<_0x5b9973;++_0x4b64e1){const _0x12b0c5=_0x219a2f['getColorBu'+'ffer'](_0x4b64e1),_0xf00225=_0x1ae41d['createFram'+'ebuffer']();_0x2ab463['setFramebu'+'ffer'](_0xf00225);const _0x2f4878=this['_glMsaaCol'+'orBuffers'][_0x4b64e1];_0x1ae41d['bindRender'+'buffer'](_0x1ae41d['RENDERBUFF'+'ER'],_0x2f4878),_0x1ae41d['renderbuff'+'erStorageM'+'ultisample'](_0x1ae41d['RENDERBUFF'+'ER'],_0x219a2f['_samples'],_0x12b0c5['impl']['_glInterna'+'lFormat'],_0x219a2f['width'],_0x219a2f['height']),_0x1ae41d['framebuffe'+'rRenderbuf'+'fer'](_0x1ae41d['FRAMEBUFFE'+'R'],_0x1ae41d['COLOR_ATTA'+'CHMENT0'],_0x1ae41d['RENDERBUFF'+'ER'],_0x2f4878),_0x1ae41d['drawBuffer'+'s']([_0x1ae41d['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x2ab463,_0x219a2f,'MSAA-MRT-s'+'rc'+_0x4b64e1));const _0xa59066=_0x1ae41d['createFram'+'ebuffer']();_0x2ab463['setFramebu'+'ffer'](_0xa59066),_0x1ae41d['framebuffe'+'rTexture2D'](_0x1ae41d['FRAMEBUFFE'+'R'],_0x1ae41d['COLOR_ATTA'+'CHMENT0'],_0x12b0c5['_cubemap']?_0x1ae41d['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x219a2f['_face']:_0x1ae41d['TEXTURE_2D'],_0x12b0c5['impl']['_glTexture'],0x1043+-0x701*-0x3+-0x2546),this['colorMrtFr'+'amebuffers'][_0x4b64e1]=new cb(_0xf00225,_0xa59066),v['call'](()=>this['_checkFbo'](_0x2ab463,_0x219a2f,'MSAA-MRT-d'+'st'+_0x4b64e1));}}['_checkFbo'](_0x5375a2,_0x51b27e,_0x1977c0=''){const _0x53b926=_0x5375a2['gl'],_0x24ef2e=_0x53b926['checkFrame'+'bufferStat'+'us'](_0x53b926['FRAMEBUFFE'+'R']);let _0x27b956;switch(_0x24ef2e){case _0x53b926['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x27b956='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x53b926['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x27b956='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x53b926['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x27b956='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x53b926['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x27b956='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x27b956,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x27b956+(',\x20render\x20t'+'arget:\x20')+_0x51b27e['name']+'\x20'+_0x1977c0,_0x51b27e);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x1*0x1d9f+0x1319+-0x382*-0x3,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x23*-0x62+-0x1952+0xbec),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x47f+-0x1*-0x608+0x83*-0x3),this['_isInitial'+'ized']=!(-0x17d+-0x1ffd+0x217b);}['internalRe'+'solve'](_0x5c39b3,_0x3d0a22,_0xc9de72,_0x227673,_0x313433){v['assert'](_0x3d0a22!==_0xc9de72,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5c39b3['setScissor'](-0x1*0xc41+-0x12ba+0x1*0x1efb,0x5*-0x123+0x6e*-0x4b+0x25e9,_0x227673['width'],_0x227673['height']);const _0x20de8a=_0x5c39b3['gl'];_0x20de8a['bindFrameb'+'uffer'](_0x20de8a['READ_FRAME'+'BUFFER'],_0x3d0a22),_0x20de8a['bindFrameb'+'uffer'](_0x20de8a['DRAW_FRAME'+'BUFFER'],_0xc9de72),_0x20de8a['blitFrameb'+'uffer'](0x9*-0x14b+0x1*0x26ea+-0x1b47,-0x2604+0x46+0x12df*0x2,_0x227673['width'],_0x227673['height'],0x2012+-0x431+-0x1be1,0x1*-0x56f+-0x635*-0x3+-0x8*0x1a6,_0x227673['width'],_0x227673['height'],_0x313433,_0x20de8a['NEAREST']);}['resolve'](_0x23e76c,_0x4f0581,_0x42cf07,_0x1c43f5){const _0x1f6cac=_0x23e76c['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x42cf07)for(let _0x215b87=-0x20c3*0x1+0xe*0x2b1+-0x4eb;_0x215b87<this['colorMrtFr'+'amebuffers']['length'];_0x215b87++){const _0x53c852=this['colorMrtFr'+'amebuffers'][_0x215b87];G['pushGpuMar'+'ker'](_0x23e76c,'RESOLVE-MR'+'T'+_0x215b87),this['internalRe'+'solve'](_0x23e76c,_0x53c852['msaaFB'],_0x53c852['resolveFB'],_0x4f0581,_0x1f6cac['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x23e76c);}_0x1c43f5&&(G['pushGpuMar'+'ker'](_0x23e76c,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x23e76c,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x4f0581,_0x1f6cac['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x23e76c));}else G['pushGpuMar'+'ker'](_0x23e76c,'RESOLVE'),this['internalRe'+'solve'](_0x23e76c,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x4f0581,(_0x42cf07?_0x1f6cac['COLOR_BUFF'+'ER_BIT']:-0x1649*-0x1+0x14d6+-0x2b1f)|(_0x1c43f5?_0x1f6cac['DEPTH_BUFF'+'ER_BIT']:0x21b*-0xb+0x12a4*-0x1+-0x7b*-0x57)),G['popGpuMark'+'er'](_0x23e76c);_0x1f6cac['bindFrameb'+'uffer'](_0x1f6cac['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x5d1847){this['queries']['forEach'](_0x5c97e5=>_0x5d1847['deleteQuer'+'y'](_0x5c97e5)),this['queries']=null;}}class fb extends tb{constructor(_0xcf3846){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0xcf3846,this['ext']=_0xcf3846['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x32bbdd=>this['device']['gl']['deleteQuer'+'y'](_0x32bbdd)),this['frameQueri'+'es']['forEach'](_0x412de0=>this['device']['gl']['deleteQuer'+'y'](_0x412de0)),this['previousFr'+'ameQueries']['forEach'](_0x1b7cdd=>_0x1b7cdd['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x3b32eb){if(this['ext']){const _0x2c24cb=this['getSlot'](_0x3b32eb),_0x1a8d92=this['getQuery']();return this['frameQueri'+'es'][_0x2c24cb]=_0x1a8d92,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x1a8d92),_0x2c24cb;}}['end'](_0x3a4d43){_0x3a4d43!==void(0x1eef+-0x109b+0x20c*-0x7)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x2349e9=this['ext'],_0x87f3f1=this['device']['gl'],_0x2f94c9=this['device']['renderVers'+'ion'],_0x14d3ae=this['frameQueri'+'es'];if(_0x14d3ae['length']>-0x2383*-0x1+0x789*-0x1+0x2*-0xdfd){this['frameQueri'+'es']=[];const _0x1eae49=new ub();_0x1eae49['queries']=_0x14d3ae,_0x1eae49['renderVers'+'ion']=_0x2f94c9,this['previousFr'+'ameQueries']['push'](_0x1eae49);}if(this['previousFr'+'ameQueries']['length']>0x1fe0+0x15ea+-0x35ca){const _0x5a7a74=this['previousFr'+'ameQueries'][-0xdb+0xb7*0x5+-0x2b8],_0x1a64a4=_0x5a7a74['queries'],_0x6e6be4=_0x1a64a4[_0x1a64a4['length']-(-0x1*0x418+-0x283*-0x1+0x196)],_0xd1895=_0x87f3f1['getQueryPa'+'rameter'](_0x6e6be4,_0x87f3f1['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x1671ab=_0x87f3f1['getParamet'+'er'](_0x2349e9['GPU_DISJOI'+'NT_EXT']);if(_0xd1895&&!_0x1671ab){this['previousFr'+'ameQueries']['shift']();const _0x3802b0=this['timings'];_0x3802b0['length']=0x1267+0x1093*0x1+-0xf2*0x25;for(let _0x8199d0=-0x2*-0x310+-0x2*-0x126a+-0x2af4;_0x8199d0<_0x1a64a4['length'];_0x8199d0++){const _0x430f3b=_0x1a64a4[_0x8199d0],_0x3fb48d=_0x87f3f1['getQueryPa'+'rameter'](_0x430f3b,_0x87f3f1['QUERY_RESU'+'LT']);_0x3802b0[_0x8199d0]=_0x3fb48d*(0xdb*0x17+0x1017+-0x23c4+0.000001),this['freeQuerie'+'s']['push'](_0x430f3b);}this['report'](_0x5a7a74['renderVers'+'ion'],_0x3802b0);}_0x1671ab&&(this['previousFr'+'ameQueries']['forEach'](_0x5b7110=>{this['report'](_0x5b7110['renderVers'+'ion'],null),_0x5b7110['destroy'](_0x87f3f1);}),this['previousFr'+'ameQueries']['length']=-0x1be5+0x2*0x3df+0x1d5*0xb);}super['request'](_0x2f94c9);}}}const Tn=[];class pb extends Fh{constructor(_0x2189aa,_0xb14cb9={}){super(_0x2189aa,_0xb14cb9),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x1a8e+0x21d3*0x1+-0x744)),(_0xb14cb9=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x205c+0x7d0+-0x282b),this['_contextLo'+'stHandler']=_0x433c6e=>{_0x433c6e['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x3e589d=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x3e589d&&_0x3e589d['includes']('AppleWebKi'+'t')&&(_0x3e589d['includes']('15.4')||_0x3e589d['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0xb14cb9['antialias']=!(-0xfa9*0x2+0x2523+-0x5d0),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x52e6aa=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0xeebb47=_0x52e6aa?_0x52e6aa[-0x2eb+-0x1dce+0x20ba]:null;if(_0xeebb47){const _0x432672=parseFloat(_0xeebb47);(ye['name']==='windows'&&(_0x432672>=-0x1f2d+0x1022+0xf83||_0x432672===-0x9*-0x2+-0xe2c*-0x1+-0x1*0xdcb)||ye['name']==='android'&&_0x432672>=-0x79f+-0x1a+-0x25*-0x39)&&(_0xb14cb9['antialias']=!(-0x2188+0x65b*-0x2+-0x1*-0x2e3f),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0xeebb47));}}this['backBuffer'+'Antialias']=_0xb14cb9['antialias']??!(0x2587+0x1966+-0x3eec),_0xb14cb9['antialias']=!(-0x844+0x1f03+-0x16be);const _0x4fb37b=_0xb14cb9['gl']??_0x2189aa['getContext']('webgl2',_0xb14cb9);if(!_0x4fb37b)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x4fb37b,this['isWebGL2']=!(0x1821*-0x1+-0x20d5+0x38f6),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x162fc4=ye['browserNam'+'e']==='chrome',_0x5b978d=ye['browserNam'+'e']==='safari',_0x48ca74=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x610+0x6*-0x5d6+0x2915);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x5b978d,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x48ca74&&_0x162fc4&&!_0xb14cb9['alpha'],_0x2189aa['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x49*-0x3d+0x117e+-0x22e2)),_0x2189aa['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x1*-0x1479+-0x1b9a*-0x1+-0x720)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x5b978d&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x4fb37b['SAMPLER_2D'],_0x4fb37b['SAMPLER_CU'+'BE'],_0x4fb37b['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x4fb37b['INT_SAMPLE'+'R_2D'],_0x4fb37b['SAMPLER_2D'+'_SHADOW'],_0x4fb37b['SAMPLER_CU'+'BE_SHADOW'],_0x4fb37b['SAMPLER_3D'],_0x4fb37b['INT_SAMPLE'+'R_3D'],_0x4fb37b['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x4fb37b['SAMPLER_2D'+'_ARRAY'],_0x4fb37b['INT_SAMPLE'+'R_2D_ARRAY'],_0x4fb37b['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x4fb37b['REPEAT'],_0x4fb37b['CLAMP_TO_E'+'DGE'],_0x4fb37b['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x4fb37b['FUNC_ADD'],_0x4fb37b['FUNC_SUBTR'+'ACT'],_0x4fb37b['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x4fb37b['MIN'],_0x4fb37b['MAX']],this['glBlendFun'+'ctionColor']=[_0x4fb37b['ZERO'],_0x4fb37b['ONE'],_0x4fb37b['SRC_COLOR'],_0x4fb37b['ONE_MINUS_'+'SRC_COLOR'],_0x4fb37b['DST_COLOR'],_0x4fb37b['ONE_MINUS_'+'DST_COLOR'],_0x4fb37b['SRC_ALPHA'],_0x4fb37b['SRC_ALPHA_'+'SATURATE'],_0x4fb37b['ONE_MINUS_'+'SRC_ALPHA'],_0x4fb37b['DST_ALPHA'],_0x4fb37b['ONE_MINUS_'+'DST_ALPHA'],_0x4fb37b['CONSTANT_C'+'OLOR'],_0x4fb37b['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x4fb37b['ZERO'],_0x4fb37b['ONE'],_0x4fb37b['SRC_COLOR'],_0x4fb37b['ONE_MINUS_'+'SRC_COLOR'],_0x4fb37b['DST_COLOR'],_0x4fb37b['ONE_MINUS_'+'DST_COLOR'],_0x4fb37b['SRC_ALPHA'],_0x4fb37b['SRC_ALPHA_'+'SATURATE'],_0x4fb37b['ONE_MINUS_'+'SRC_ALPHA'],_0x4fb37b['DST_ALPHA'],_0x4fb37b['ONE_MINUS_'+'DST_ALPHA'],_0x4fb37b['CONSTANT_A'+'LPHA'],_0x4fb37b['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x4fb37b['NEVER'],_0x4fb37b['LESS'],_0x4fb37b['EQUAL'],_0x4fb37b['LEQUAL'],_0x4fb37b['GREATER'],_0x4fb37b['NOTEQUAL'],_0x4fb37b['GEQUAL'],_0x4fb37b['ALWAYS']],this['glStencilO'+'p']=[_0x4fb37b['KEEP'],_0x4fb37b['ZERO'],_0x4fb37b['REPLACE'],_0x4fb37b['INCR'],_0x4fb37b['INCR_WRAP'],_0x4fb37b['DECR'],_0x4fb37b['DECR_WRAP'],_0x4fb37b['INVERT']],this['glClearFla'+'g']=[0x21e9*-0x1+0x2515+-0x32c,_0x4fb37b['COLOR_BUFF'+'ER_BIT'],_0x4fb37b['DEPTH_BUFF'+'ER_BIT'],_0x4fb37b['COLOR_BUFF'+'ER_BIT']|_0x4fb37b['DEPTH_BUFF'+'ER_BIT'],_0x4fb37b['STENCIL_BU'+'FFER_BIT'],_0x4fb37b['STENCIL_BU'+'FFER_BIT']|_0x4fb37b['COLOR_BUFF'+'ER_BIT'],_0x4fb37b['STENCIL_BU'+'FFER_BIT']|_0x4fb37b['DEPTH_BUFF'+'ER_BIT'],_0x4fb37b['STENCIL_BU'+'FFER_BIT']|_0x4fb37b['COLOR_BUFF'+'ER_BIT']|_0x4fb37b['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x1477+0xe6f+-0x2*0x1173,_0x4fb37b['BACK'],_0x4fb37b['FRONT'],_0x4fb37b['FRONT_AND_'+'BACK']],this['glFilter']=[_0x4fb37b['NEAREST'],_0x4fb37b['LINEAR'],_0x4fb37b['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x4fb37b['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x4fb37b['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x4fb37b['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x4fb37b['POINTS'],_0x4fb37b['LINES'],_0x4fb37b['LINE_LOOP'],_0x4fb37b['LINE_STRIP'],_0x4fb37b['TRIANGLES'],_0x4fb37b['TRIANGLE_S'+'TRIP'],_0x4fb37b['TRIANGLE_F'+'AN']],this['glType']=[_0x4fb37b['BYTE'],_0x4fb37b['UNSIGNED_B'+'YTE'],_0x4fb37b['SHORT'],_0x4fb37b['UNSIGNED_S'+'HORT'],_0x4fb37b['INT'],_0x4fb37b['UNSIGNED_I'+'NT'],_0x4fb37b['FLOAT'],_0x4fb37b['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x4fb37b['BOOL']]=ca,this['pcUniformT'+'ype'][_0x4fb37b['INT']]=ln,this['pcUniformT'+'ype'][_0x4fb37b['FLOAT']]=$s,this['pcUniformT'+'ype'][_0x4fb37b['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x4fb37b['FLOAT_VEC3']]=$t,this['pcUniformT'+'ype'][_0x4fb37b['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x4fb37b['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x4fb37b['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x4fb37b['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x4fb37b['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x4fb37b['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x4fb37b['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x4fb37b['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x4fb37b['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x4fb37b['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x4fb37b['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x4fb37b['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x4fb37b['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x4fb37b['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x4fb37b['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x4fb37b['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x4fb37b['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x4fb37b['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x4fb37b['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x4fb37b['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x4fb37b['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x4fb37b['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x4fb37b['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x4fb37b['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x4fb37b['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x4fb37b['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x4fb37b['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x4fb37b['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x4fb37b['TEXTURE_2D']]=0x217+-0x3b5*-0x5+-0x1e0*0xb,this['targetToSl'+'ot'][_0x4fb37b['TEXTURE_CU'+'BE_MAP']]=0x110e+-0x26cb+0x15be,this['targetToSl'+'ot'][_0x4fb37b['TEXTURE_3D']]=-0x4b4+-0x1634+0x1aea;let _0x2038f4,_0xc6270c,_0xc279c0,_0x15f22b,_0x491d4a;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x161042,_0x200615){_0x161042['value']!==_0x200615&&(_0x4fb37b['uniform1i'](_0x161042['locationId'],_0x200615),_0x161042['value']=_0x200615);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][$s]=function(_0x2cc0d2,_0x2110d6){_0x2cc0d2['value']!==_0x2110d6&&(_0x4fb37b['uniform1f'](_0x2cc0d2['locationId'],_0x2110d6),_0x2cc0d2['value']=_0x2110d6);},this['commitFunc'+'tion'][or]=function(_0x31bec6,_0x445ae7){_0x491d4a=_0x31bec6['value'],_0x2038f4=_0x445ae7[-0x23e9+-0x5*-0x2d6+0x15bb],_0xc6270c=_0x445ae7[0x225*-0xb+-0x778+0x1f10],(_0x491d4a[0x6d*-0x20+-0x240b+0x31ab*0x1]!==_0x2038f4||_0x491d4a[-0x6b*0x29+-0x382*-0x9+-0x1*0xe6e]!==_0xc6270c)&&(_0x4fb37b['uniform2fv'](_0x31bec6['locationId'],_0x445ae7),_0x491d4a[0x1*-0x943+0x24*0x67+-0x539]=_0x2038f4,_0x491d4a[-0xb82+-0x1c*0x67+0x16c7]=_0xc6270c);},this['commitFunc'+'tion'][$t]=function(_0x3e2608,_0x1a6eff){_0x491d4a=_0x3e2608['value'],_0x2038f4=_0x1a6eff[-0x208d+0x1f78+0x115*0x1],_0xc6270c=_0x1a6eff[-0x1f6d+-0x196e+-0x97a*-0x6],_0xc279c0=_0x1a6eff[0xd8a*0x1+0x1cf3+-0x5*0x87f],(_0x491d4a[0x819+-0x1*0x6fa+-0x11f]!==_0x2038f4||_0x491d4a[0x1c43*0x1+-0x3*0x4de+0x26*-0x5c]!==_0xc6270c||_0x491d4a[0xb*-0x21+0x1fa2+-0xd1*0x25]!==_0xc279c0)&&(_0x4fb37b['uniform3fv'](_0x3e2608['locationId'],_0x1a6eff),_0x491d4a[-0x13*0x49+0x1f60+-0x19f5]=_0x2038f4,_0x491d4a[-0xda5*0x2+0x1*-0x157f+0x30ca]=_0xc6270c,_0x491d4a[-0x1780+0x1f73+-0x7f1]=_0xc279c0);},this['commitFunc'+'tion'][xa]=function(_0x34ccee,_0x229549){_0x491d4a=_0x34ccee['value'],_0x2038f4=_0x229549[-0x92*0x21+0xd15+0x5bd*0x1],_0xc6270c=_0x229549[-0x1f3*0x1+0x3*0x335+-0x7ab*0x1],_0xc279c0=_0x229549[-0x1d11+0x76d*-0x5+0x4234],_0x15f22b=_0x229549[0x2497+0x2365+-0x47f9],(_0x491d4a[0x9*-0x1e9+0x3a5*-0x7+0x3*0xe3c]!==_0x2038f4||_0x491d4a[-0x19e4+0x217a+-0x795]!==_0xc6270c||_0x491d4a[0xffb+-0xe6e+0x18b*-0x1]!==_0xc279c0||_0x491d4a[0x31f+0x2c6+-0x3*0x1f6]!==_0x15f22b)&&(_0x4fb37b['uniform4fv'](_0x34ccee['locationId'],_0x229549),_0x491d4a[0x1ff1+-0x1*0xd01+-0x18*0xca]=_0x2038f4,_0x491d4a[0x15f6+-0x2f9*-0x5+-0x24d2]=_0xc6270c,_0x491d4a[0x193*0x17+-0xf4f*0x2+-0x595]=_0xc279c0,_0x491d4a[0x25be+0x40b+-0x29c6]=_0x15f22b);},this['commitFunc'+'tion'][Zr]=function(_0x1526ca,_0x1309f6){_0x491d4a=_0x1526ca['value'],_0x2038f4=_0x1309f6[-0xffe+0x1357*-0x1+-0x87*-0x43],_0xc6270c=_0x1309f6[0x83c+-0x7*-0x551+-0x2d72],(_0x491d4a[-0x1b54+0x2611+-0x1*0xabd]!==_0x2038f4||_0x491d4a[-0x2f9*0x3+-0xa5f+0xb*0x1c1]!==_0xc6270c)&&(_0x4fb37b['uniform2iv'](_0x1526ca['locationId'],_0x1309f6),_0x491d4a[0x25d4+-0x2429+0x1*-0x1ab]=_0x2038f4,_0x491d4a[0x181f*0x1+-0x1b93+-0x127*-0x3]=_0xc6270c);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x4d335c,_0x29e769){_0x491d4a=_0x4d335c['value'],_0x2038f4=_0x29e769[-0x67+-0x75c+0x7c3],_0xc6270c=_0x29e769[0xb11*0x2+-0x11*0x24a+0x1*0x10c9],_0xc279c0=_0x29e769[0x24b6+-0x196e+-0x6f*0x1a],(_0x491d4a[-0x1544+-0x1*-0x2149+0x11*-0xb5]!==_0x2038f4||_0x491d4a[-0x1*0x248a+-0x4+-0x248f*-0x1]!==_0xc6270c||_0x491d4a[0x2683+0xf14+0x1*-0x3595]!==_0xc279c0)&&(_0x4fb37b['uniform3iv'](_0x4d335c['locationId'],_0x29e769),_0x491d4a[0x1799+0x469*0x7+0xa6*-0x54]=_0x2038f4,_0x491d4a[0x1845+0x16bb+0x35*-0xe3]=_0xc6270c,_0x491d4a[0xafc+-0x1216+-0x5b*-0x14]=_0xc279c0);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x2e0841,_0x2715e0){_0x491d4a=_0x2e0841['value'],_0x2038f4=_0x2715e0[0x11c2+0x24b8+0x367a*-0x1],_0xc6270c=_0x2715e0[-0x19ec+-0xb8f*-0x1+0xe5e],_0xc279c0=_0x2715e0[-0x1*0x23c5+0x5c9+-0x1*-0x1dfe],_0x15f22b=_0x2715e0[-0x4f*-0x2b+0x1a9e+-0x27e0],(_0x491d4a[-0xfb4+-0x20e0+0x3094]!==_0x2038f4||_0x491d4a[0x901+0x2123+-0x2a23]!==_0xc6270c||_0x491d4a[-0x103b+-0xa5*0x13+0x1*0x1c7c]!==_0xc279c0||_0x491d4a[-0x209b+0x6bb+0x19e3]!==_0x15f22b)&&(_0x4fb37b['uniform4iv'](_0x2e0841['locationId'],_0x2715e0),_0x491d4a[-0x2620+0x8c5+0x9*0x343]=_0x2038f4,_0x491d4a[-0x1c32+0x25c9+-0x996]=_0xc6270c,_0x491d4a[0x7dd+-0x65*-0x57+-0x2a2e*0x1]=_0xc279c0,_0x491d4a[-0x3*0x427+-0x125*0x9+-0x3*-0x797]=_0x15f22b);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x212a8b,_0x11c849){_0x4fb37b['uniformMat'+'rix2fv'](_0x212a8b['locationId'],!(-0x459*-0x2+0x111*-0x2+0x1*-0x68f),_0x11c849);},this['commitFunc'+'tion'][ko]=function(_0x2a62b5,_0x3faa00){_0x4fb37b['uniformMat'+'rix3fv'](_0x2a62b5['locationId'],!(-0x71d+-0x1*0xcef+0x140d),_0x3faa00);},this['commitFunc'+'tion'][Sa]=function(_0x4e17ef,_0x53d92f){_0x4fb37b['uniformMat'+'rix4fv'](_0x4e17ef['locationId'],!(0x2428+-0x22c7+-0x160),_0x53d92f);},this['commitFunc'+'tion'][Dc]=function(_0x7a1244,_0x226000){_0x4fb37b['uniform1fv'](_0x7a1244['locationId'],_0x226000);},this['commitFunc'+'tion'][Lc]=function(_0x40d467,_0x594b2a){_0x4fb37b['uniform2fv'](_0x40d467['locationId'],_0x594b2a);},this['commitFunc'+'tion'][Fc]=function(_0x47cd03,_0xa08458){_0x4fb37b['uniform3fv'](_0x47cd03['locationId'],_0xa08458);},this['commitFunc'+'tion'][lp]=function(_0x23b88c,_0x4c1976){_0x4fb37b['uniform4fv'](_0x23b88c['locationId'],_0x4c1976);},this['commitFunc'+'tion'][va]=function(_0x158abd,_0x96b6){_0x158abd['value']!==_0x96b6&&(_0x4fb37b['uniform1ui'](_0x158abd['locationId'],_0x96b6),_0x158abd['value']=_0x96b6);},this['commitFunc'+'tion'][ba]=function(_0x53c6b7,_0x45d87a){_0x491d4a=_0x53c6b7['value'],_0x2038f4=_0x45d87a[-0xe8d+0x2251+-0x13c4],_0xc6270c=_0x45d87a[0x1871*0x1+0xa26+-0x26*0xe9],(_0x491d4a[-0x1c3c+0x18de+-0x1*-0x35e]!==_0x2038f4||_0x491d4a[0x1887+0x1963*0x1+-0x31e9]!==_0xc6270c)&&(_0x4fb37b['uniform2ui'+'v'](_0x53c6b7['locationId'],_0x45d87a),_0x491d4a[-0x1*-0x523+0xdc*0xa+0x13*-0xb9]=_0x2038f4,_0x491d4a[-0xc1*-0x25+0x961+0x7*-0x553]=_0xc6270c);},this['commitFunc'+'tion'][wa]=function(_0x40224b,_0x5bfe58){_0x491d4a=_0x40224b['value'],_0x2038f4=_0x5bfe58[0x21c1+0x24*-0xe5+0x1*-0x18d],_0xc6270c=_0x5bfe58[0x8f5*-0x4+0x7*0x4f5+0x3a*0x5],_0xc279c0=_0x5bfe58[0xce*-0x8+0xcb4+-0x642],(_0x491d4a[0x2288+-0x2203*0x1+-0x85]!==_0x2038f4||_0x491d4a[-0x1*0x2681+0x1e5f+-0x1*-0x823]!==_0xc6270c||_0x491d4a[0x2b+0x1550+0x1579*-0x1]!==_0xc279c0)&&(_0x4fb37b['uniform3ui'+'v'](_0x40224b['locationId'],_0x5bfe58),_0x491d4a[-0x218b+0x2672+0x4e7*-0x1]=_0x2038f4,_0x491d4a[-0xc2*0x5+-0x4aa+0x875*0x1]=_0xc6270c,_0x491d4a[0x8*0x493+-0xbf6*-0x3+-0x4878]=_0xc279c0);},this['commitFunc'+'tion'][Ta]=function(_0x55de57,_0x310168){_0x491d4a=_0x55de57['value'],_0x2038f4=_0x310168[0x2176+-0x18ae+0x8*-0x119],_0xc6270c=_0x310168[0x513+-0x434+-0xde],_0xc279c0=_0x310168[-0x671+-0x199f+0x2012],_0x15f22b=_0x310168[-0x91c+-0x401*-0x8+-0x16e9],(_0x491d4a[-0x2*-0x46b+0x9*0x3e1+-0x2bbf]!==_0x2038f4||_0x491d4a[0x25d9+-0x2006*-0x1+-0x65a*0xb]!==_0xc6270c||_0x491d4a[0x9*-0x7e+0x1729+0x1*-0x12b9]!==_0xc279c0||_0x491d4a[0x1*-0x223a+-0x2db+0x2518]!==_0x15f22b)&&(_0x4fb37b['uniform4ui'+'v'](_0x55de57['locationId'],_0x310168),_0x491d4a[0x725+0xf8f+-0x16b4]=_0x2038f4,_0x491d4a[-0x4*-0x236+0x1*0xd91+0xc*-0x1de]=_0xc6270c,_0x491d4a[0x36*-0x3e+-0x1e*-0x40+0x596]=_0xc279c0,_0x491d4a[0x1233+0x551*0x2+-0x1cd2]=_0x15f22b);},this['commitFunc'+'tion'][Aa]=function(_0x14a631,_0x25a7e7){_0x4fb37b['uniform1iv'](_0x14a631['locationId'],_0x25a7e7);},this['commitFunc'+'tion'][Oc]=function(_0x5b02e1,_0x3c3809){_0x4fb37b['uniform1ui'+'v'](_0x5b02e1['locationId'],_0x3c3809);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x2f845f,_0x3c91ca){_0x4fb37b['uniform2iv'](_0x2f845f['locationId'],_0x3c91ca);},this['commitFunc'+'tion'][Bc]=function(_0xf69953,_0x34b08e){_0x4fb37b['uniform2ui'+'v'](_0xf69953['locationId'],_0x34b08e);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x2e11b4,_0x2ed96e){_0x4fb37b['uniform3iv'](_0x2e11b4['locationId'],_0x2ed96e);},this['commitFunc'+'tion'][zc]=function(_0x3a592c,_0x430675){_0x4fb37b['uniform3ui'+'v'](_0x3a592c['locationId'],_0x430675);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x33d20e,_0x32db31){_0x4fb37b['uniform4iv'](_0x33d20e['locationId'],_0x32db31);},this['commitFunc'+'tion'][hp]=function(_0x5af3c2,_0x3697e0){_0x4fb37b['uniform4ui'+'v'](_0x5af3c2['locationId'],_0x3697e0);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x546e08,_0x353197){_0x4fb37b['uniformMat'+'rix4fv'](_0x546e08['locationId'],!(-0x11*-0xd+0x173+0x24f*-0x1),_0x353197);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x13977b=this['gl'];this['feedback']&&_0x13977b['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x251f*-0x1+0x397*-0x1+0x3*-0xb2d)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x1191*0x2+0x1155+-0x3476)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x56c8b4){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x56c8b4;}['updateBack'+'bufferForm'+'at'](_0x4ac6e6){const _0x314061=this['gl'];_0x314061['bindFrameb'+'uffer'](_0x314061['FRAMEBUFFE'+'R'],_0x4ac6e6);const _0x2c53eb=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x2c53eb?Se:dr;}['updateBack'+'buffer'](){const _0x4003cb=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x4003cb)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1d57+0xd3+0x1c85),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x19039b,_0x13b9a8){return new sb();}['createInde'+'xBufferImp'+'l'](_0xe63e48){return new ib(_0xe63e48);}['createShad'+'erImpl'](_0x5333af){return new lb(_0x5333af);}['createText'+'ureImpl'](_0x28a01e){return new hb(_0x28a01e);}['createRend'+'erTargetIm'+'pl'](_0x4870d9){return new db();}['pushMarker'](_0x5de53f){if(ye['browser']&&window['spector']){const _0xdaa69a=G['toString']();window['spector']['setMarker'](_0xdaa69a+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x133a04=G['toString']();_0x133a04['length']?window['spector']['setMarker'](_0x133a04+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x460ed0=this['gl'];let _0x2c6134='highp';if(_0x460ed0['getShaderP'+'recisionFo'+'rmat']){const _0x3047e7=_0x460ed0['getShaderP'+'recisionFo'+'rmat'](_0x460ed0['VERTEX_SHA'+'DER'],_0x460ed0['HIGH_FLOAT']),_0x3db96b=_0x460ed0['getShaderP'+'recisionFo'+'rmat'](_0x460ed0['VERTEX_SHA'+'DER'],_0x460ed0['MEDIUM_FLO'+'AT']),_0xbcc0cf=_0x460ed0['getShaderP'+'recisionFo'+'rmat'](_0x460ed0['FRAGMENT_S'+'HADER'],_0x460ed0['HIGH_FLOAT']),_0x12795d=_0x460ed0['getShaderP'+'recisionFo'+'rmat'](_0x460ed0['FRAGMENT_S'+'HADER'],_0x460ed0['MEDIUM_FLO'+'AT']);if(_0x3047e7&&_0x3db96b&&_0xbcc0cf&&_0x12795d){const _0x120281=_0x3047e7['precision']>0x1bd0+-0x1c1e+0x27*0x2&&_0xbcc0cf['precision']>0x329*0x9+0x3e5*-0xa+0xa81,_0x30c5f7=_0x3db96b['precision']>0x17c+0x4*0x647+0x4a*-0x5c&&_0x12795d['precision']>-0x1c53+0x41d+0x1836;_0x120281||(_0x30c5f7?(_0x2c6134='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x2c6134='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x2c6134;}['getExtensi'+'on'](){for(let _0x24d373=0xf*-0xbe+-0x1*-0xda6+-0x7*0x5c;_0x24d373<arguments['length'];_0x24d373++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x24d373])!==-(-0x1*-0x25c7+-0x34*-0xb3+0xc5b*-0x6))return this['gl']['getExtensi'+'on'](arguments[_0x24d373]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x299615=this['gl'];this['supportedE'+'xtensions']=_0x299615['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x8*-0x400+-0xa15*-0x3+-0x1*0x3e3f),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x337a5b=this['gl'];let _0x27e5d3;const _0x523363=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x511144=_0x337a5b['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x511144==null?void(0x219+0x1*0x18c1+-0x1ada):_0x511144['antialias'])??!(-0x1b+-0x10b5+-0xcd*-0x15),this['supportsSt'+'encil']=(_0x511144==null?void(0x3*-0x8c3+-0x1eda+0x3923):_0x511144['stencil'])??!(-0x872+-0x2113*0x1+0x2986),this['maxTexture'+'Size']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_3D_TEX'+'TURE_SIZE']),_0x27e5d3=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x27e5d3?_0x337a5b['getParamet'+'er'](_0x27e5d3['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x27e5d3?_0x337a5b['getParamet'+'er'](_0x27e5d3['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0xc81c47=/\bMali-G52+/,_0x2c961f=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x523363['match'](_0x2c961f))&&!this['unmaskedRe'+'nderer']['match'](_0xc81c47),_0x27e5d3=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x27e5d3?_0x337a5b['getParamet'+'er'](_0x27e5d3['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x907*0x2+0x1c60+-0x2e6d;const _0x5b14c7=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x5b14c7?_0x337a5b['getParamet'+'er'](_0x337a5b['MAX_SAMPLE'+'S']):0x2*-0x9e3+-0xc00+0x5*0x65b,this['maxSamples']=Math['min'](this['maxSamples'],-0x4bb+0x6a*-0x2f+0x1835*0x1),this['samples']=_0x5b14c7&&this['backBuffer'+'Antialias']?this['maxSamples']:0x1eef*0x1+0x24ae+0x4*-0x10e7,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=0x23e7+0x51b*-0x1+-0x1ec4&&(this['supportsAr'+'eaLights']=!(0x22e7+0x5*0x16f+-0x2a11));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0xa7b9cb=this['gl'];_0xa7b9cb['disable'](_0xa7b9cb['BLEND']),_0xa7b9cb['blendFunc'](_0xa7b9cb['ONE'],_0xa7b9cb['ZERO']),_0xa7b9cb['blendEquat'+'ion'](_0xa7b9cb['FUNC_ADD']),_0xa7b9cb['colorMask'](!(-0x450+-0x1*-0x645+-0x1*0x1f5),!(-0x33b*0x7+0x1*0x6c9+0xfd4),!(-0x7*0x39c+-0x1a63+0x33a7),!(-0x1262+0x80d+0xa55)),_0xa7b9cb['blendColor'](0xd72*0x1+0x12e5+0x1*-0x2057,0x167e+-0x352+-0x132c,-0x3*0x58f+0x10aa+-0x1*-0x3,0xc31*-0x3+-0xb6*0x27+0x117*0x3b),_0xa7b9cb['enable'](_0xa7b9cb['CULL_FACE']),this['cullFace']=_0xa7b9cb['BACK'],_0xa7b9cb['cullFace'](_0xa7b9cb['BACK']),_0xa7b9cb['enable'](_0xa7b9cb['DEPTH_TEST']),_0xa7b9cb['depthFunc'](_0xa7b9cb['LEQUAL']),_0xa7b9cb['depthMask'](!(-0x308*-0x6+0x792+-0x3ae*0x7)),this['stencil']=!(0x1*-0xde4+0x91*0x38+-0x11d3*0x1),_0xa7b9cb['disable'](_0xa7b9cb['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x713*0x1+0x1*0x239+0x4da,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x3e+0x15eb+-0x387*0x6,_0xa7b9cb['stencilFun'+'c'](_0xa7b9cb['ALWAYS'],-0x24ab+0xe43+0x778*0x3,-0x39*-0x72+-0x2125+0x8c2),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=-0x4*0x181+0x2*0xbdd+-0x10b7,this['stencilWri'+'teMaskBack']=0x3c4+-0x2*-0x5a8+0x5*-0x2d1,_0xa7b9cb['stencilOp'](_0xa7b9cb['KEEP'],_0xa7b9cb['KEEP'],_0xa7b9cb['KEEP']),_0xa7b9cb['stencilMas'+'k'](0x1*-0x1c74+-0x1415+0x3188),this['alphaToCov'+'erage']=!(0x1619+-0x161c+-0x4*-0x1),this['raster']=!(0xe7f+0x52*-0x22+-0x39b),_0xa7b9cb['disable'](_0xa7b9cb['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0xa7b9cb['disable'](_0xa7b9cb['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x3d*0x1a+0x1429+-0x1a5a),_0xa7b9cb['disable'](_0xa7b9cb['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0x5c1*0x4+-0x7*0x1d3+0x23ca,_0xa7b9cb['clearDepth'](-0x1636*0x1+0x1159*0x1+0x1*0x4de),this['clearColor']=new Y(0x15a9+-0xfde+0x1*-0x5cb,-0xb08+0x61*0x3a+-0xaf2,-0x2*0x92b+0x6*0x45d+-0x7d8,0x289+-0x234a+0x20c1),_0xa7b9cb['clearColor'](0x255d+-0x1d85+0x2*-0x3ec,0x1*-0x156b+-0x8ba*0x2+-0x3*-0xcf5,0x1d30+-0x716+-0x161a,0x24a*0x1+-0x209e+0x1e54),this['clearStenc'+'il']=-0x13e1*-0x1+-0x21e2+0xe01,_0xa7b9cb['clearStenc'+'il'](-0x235*-0x3+-0x638+0x67*-0x1),_0xa7b9cb['hint'](_0xa7b9cb['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0xa7b9cb['NICEST']),_0xa7b9cb['enable'](_0xa7b9cb['SCISSOR_TE'+'ST']),_0xa7b9cb['pixelStore'+'i'](_0xa7b9cb['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0xa7b9cb['NONE']),this['unpackFlip'+'Y']=!(-0x1*0x2332+-0xb51+0x2e84),_0xa7b9cb['pixelStore'+'i'](_0xa7b9cb['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x2*0x433+-0x1c30+0x1d*0x143)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x85c+0x740+0x11d),_0xa7b9cb['pixelStore'+'i'](_0xa7b9cb['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x149b+0x268e+-0x3b28)),_0xa7b9cb['pixelStore'+'i'](_0xa7b9cb['UNPACK_ALI'+'GNMENT'],0x202*-0x2+0x11*0x13f+-0x112a);}['initTextur'+'eUnits'](_0x3a9d1c=0x226d*0x1+0xe73+-0x30d0){this['textureUni'+'ts']=[];for(let _0x367b5c=0x61*0x2e+-0xb4e*-0x1+-0x1cbc;_0x367b5c<_0x3a9d1c;_0x367b5c++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x5cd+-0xb63*0x3+0x1c5c,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x813d0d of this['shaders'])_0x813d0d['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x3beef1 of this['shaders'])_0x3beef1['restoreCon'+'text']();}['setViewpor'+'t'](_0x38ea41,_0x32110a,_0x19f3aa,_0x581f31){(this['vx']!==_0x38ea41||this['vy']!==_0x32110a||this['vw']!==_0x19f3aa||this['vh']!==_0x581f31)&&(this['gl']['viewport'](_0x38ea41,_0x32110a,_0x19f3aa,_0x581f31),this['vx']=_0x38ea41,this['vy']=_0x32110a,this['vw']=_0x19f3aa,this['vh']=_0x581f31);}['setScissor'](_0xccc747,_0x20e9d3,_0x282216,_0x10006b){(this['sx']!==_0xccc747||this['sy']!==_0x20e9d3||this['sw']!==_0x282216||this['sh']!==_0x10006b)&&(this['gl']['scissor'](_0xccc747,_0x20e9d3,_0x282216,_0x10006b),this['sx']=_0xccc747,this['sy']=_0x20e9d3,this['sw']=_0x282216,this['sh']=_0x10006b);}['setFramebu'+'ffer'](_0x12cd11){if(this['activeFram'+'ebuffer']!==_0x12cd11){const _0x172ed5=this['gl'];_0x172ed5['bindFrameb'+'uffer'](_0x172ed5['FRAMEBUFFE'+'R'],_0x12cd11),this['activeFram'+'ebuffer']=_0x12cd11;}}['copyRender'+'Target'](_0x146de9,_0x30e174,_0x35a706,_0x5d1eea){var _0x279b67,_0x39c359;const _0x36dc16=this['gl'];if(_0x146de9===this['backBuffer']&&(_0x146de9=null),_0x35a706){if(_0x30e174){if(_0x146de9){if(!_0x146de9['_colorBuff'+'er']||!_0x30e174['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x1dc7+-0x1d1b+0x3ed*0xf);if(_0x146de9['_colorBuff'+'er']['_format']!==_0x30e174['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0xa0*-0x16+0x1eb*-0x1+-0x1*0xbd4);}}else{if(!_0x146de9['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x19d*0x11+0x2474+-0x906);}}if(_0x5d1eea&&_0x146de9&&!_0x146de9['_depth']){if(!_0x146de9['_depthBuff'+'er']||!_0x30e174['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x112d+0x412+-0x153e);if(_0x146de9['_depthBuff'+'er']['_format']!==_0x30e174['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0xdb+-0x10a0+0xc*0x175);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x1bfcb0=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x30e174,this['updateBegi'+'n']();const _0x30662a=_0x146de9?_0x146de9['impl']['_glFrameBu'+'ffer']:(_0x279b67=this['backBuffer'])==null?void(0x1285*0x2+0x18ee+-0x7bf*0x8):_0x279b67['impl']['_glFrameBu'+'ffer'],_0x26ff20=_0x30e174?_0x30e174['impl']['_glFrameBu'+'ffer']:(_0x39c359=this['backBuffer'])==null?void(-0xd*-0x186+0x26b7+-0x3a85):_0x39c359['impl']['_glFrameBu'+'ffer'];v['assert'](_0x30662a!==_0x26ff20,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x36dc16['bindFrameb'+'uffer'](_0x36dc16['READ_FRAME'+'BUFFER'],_0x30662a),_0x36dc16['bindFrameb'+'uffer'](_0x36dc16['DRAW_FRAME'+'BUFFER'],_0x26ff20);const _0x2737dd=_0x146de9?_0x146de9['width']:_0x30e174?_0x30e174['width']:this['width'],_0x32d26e=_0x146de9?_0x146de9['height']:_0x30e174?_0x30e174['height']:this['height'];return _0x36dc16['blitFrameb'+'uffer'](-0x239*-0xc+0xb*-0x54+-0x1710,0x1e33+0x278+-0x20ab*0x1,_0x2737dd,_0x32d26e,0x7d0*0x1+0x1452+0xe11*-0x2,0x288+0x3*0x92f+-0x1*0x1e15,_0x2737dd,_0x32d26e,(_0x35a706?_0x36dc16['COLOR_BUFF'+'ER_BIT']:0x1dfc+0x2649+-0x4445)|(_0x5d1eea?_0x36dc16['DEPTH_BUFF'+'ER_BIT']:0x1*0x416+-0x1780+-0x47*-0x46),_0x36dc16['NEAREST']),this['renderTarg'+'et']=_0x1bfcb0,_0x36dc16['bindFrameb'+'uffer'](_0x36dc16['FRAMEBUFFE'+'R'],_0x1bfcb0?_0x1bfcb0['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(0x1cc8*0x1+0x35*-0x89+-0x6b);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0xefafb){const _0xa6a21b=_0xefafb['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0xa6a21b,v['assert'](_0xa6a21b),G['pushGpuMar'+'ker'](this,'Pass:'+_0xefafb['name']+'\x20RT:'+_0xa6a21b['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x453015,height:_0x23b0d7}=_0xa6a21b;this['setViewpor'+'t'](0xb3a+-0x26b0+0x1b76,-0x88e+-0x23f3+0x2c81,_0x453015,_0x23b0d7),this['setScissor'](0xdc+-0x1fd0+0x1ef4,0x1*0x20f6+-0x1ba1+-0x5*0x111,_0x453015,_0x23b0d7);const _0x1f354b=_0xefafb['colorOps'],_0x21c8bb=_0xefafb['depthStenc'+'ilOps'];if(_0x1f354b!=null&&_0x1f354b['clear']||_0x21c8bb['clearDepth']||_0x21c8bb['clearStenc'+'il']){let _0x55d068=-0xf*0xff+0xb75+0x1be*0x2;const _0x54b81a={};_0x1f354b!=null&&_0x1f354b['clear']&&(_0x55d068|=Co,_0x54b81a['color']=[_0x1f354b['clearValue']['r'],_0x1f354b['clearValue']['g'],_0x1f354b['clearValue']['b'],_0x1f354b['clearValue']['a']]),_0x21c8bb['clearDepth']&&(_0x55d068|=Mo,_0x54b81a['depth']=_0x21c8bb['clearDepth'+'Value']),_0x21c8bb['clearStenc'+'il']&&(_0x55d068|=Ah,_0x54b81a['stencil']=_0x21c8bb['clearStenc'+'ilValue']),_0x54b81a['flags']=_0x55d068,this['clear'](_0x54b81a);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x22e1*0x1+0xef6+-0x13eb*-0x1),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x1b069a){var _0x4672be;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x3a7c48=this['renderTarg'+'et'],_0x32af94=_0x1b069a['colorArray'+'Ops']['length'];if(_0x3a7c48){Tn['length']=-0x1093+0x1*-0x3c2+0x1455;const _0x318cf8=this['gl'];for(let _0x5e4b79=0xa*0x187+0x9*-0x2ba+-0x944*-0x1;_0x5e4b79<_0x32af94;_0x5e4b79++){const _0xb40732=_0x1b069a['colorArray'+'Ops'][_0x5e4b79];_0xb40732['store']||_0xb40732['resolve']||Tn['push'](_0x318cf8['COLOR_ATTA'+'CHMENT0']+_0x5e4b79);}_0x3a7c48!==this['backBuffer']&&(_0x1b069a['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x318cf8['DEPTH_ATTA'+'CHMENT']),_0x1b069a['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x318cf8['STENCIL_AT'+'TACHMENT'])),Tn['length']>0x25ed+-0xc6d*0x2+-0xd13*0x1&&_0x1b069a['fullSizeCl'+'earRect']&&_0x318cf8['invalidate'+'Framebuffe'+'r'](_0x318cf8['DRAW_FRAME'+'BUFFER'],Tn),_0x32af94&&((_0x4672be=_0x1b069a['colorOps'])!=null&&_0x4672be['resolve'])&&_0x1b069a['samples']>0x2288+0x8cb+0x5*-0x8aa&&_0x3a7c48['autoResolv'+'e']&&_0x3a7c48['resolve'](!(-0x2*-0x13+0x198b+-0x19b1),!(-0x1ac7+-0x1*0x25cf+0x4097)),_0x3a7c48['depthBuffe'+'r']&&_0x1b069a['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x1b069a['samples']>-0x1cd5+-0xe4c+0x2b22&&_0x3a7c48['autoResolv'+'e']&&_0x3a7c48['resolve'](!(0x114b+-0xf3*-0x21+-0x83*0x5f),!(-0x8d6+-0x74d+0x1023));for(let _0x2f9b91=0x9ef+-0x153*-0xc+-0xb*0x259;_0x2f9b91<_0x32af94;_0x2f9b91++)if(_0x1b069a['colorArray'+'Ops'][_0x2f9b91]['genMipmaps']){const _0x1ed3c7=_0x3a7c48['_colorBuff'+'ers'][_0x2f9b91];_0x1ed3c7&&_0x1ed3c7['impl']['_glTexture']&&_0x1ed3c7['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x2f9b91),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x7*0x217+-0x17a7+0x16b*0x1b)),this['bindTextur'+'e'](_0x1ed3c7),this['gl']['generateMi'+'pmap'](_0x1ed3c7['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x7a6+-0xfee*0x2+0x1837),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x4c7a58){this['_defaultFr'+'amebuffer']!==_0x4c7a58&&(this['_defaultFr'+'amebuffer']=_0x4c7a58,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x3*-0x162+0x14ba+-0x8*0x31c));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x10ece3=-0x13ac*-0x1+0x9a9+-0x1*0x1d55;_0x10ece3<this['textureUni'+'ts']['length'];++_0x10ece3)for(let _0x5dbef5=0x31*-0x9d+-0x1c96+0x3aa3;_0x5dbef5<0x599+-0x1e9d+0x1907;++_0x5dbef5)this['textureUni'+'ts'][_0x10ece3][_0x5dbef5]=null;}const _0x1963c4=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x1963c4);const _0x140069=_0x1963c4['impl'];_0x140069['initialize'+'d']||this['initRender'+'Target'](_0x1963c4),this['setFramebu'+'ffer'](_0x140069['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x46434d=this['renderTarg'+'et'];if(_0x46434d&&_0x46434d!==this['backBuffer']){_0x46434d['_samples']>-0x819+-0x541+0x107*0xd&&_0x46434d['autoResolv'+'e']&&_0x46434d['resolve']();const _0xff981c=_0x46434d['_colorBuff'+'er'];_0xff981c&&_0xff981c['impl']['_glTexture']&&_0xff981c['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x329*0x8+-0x1*-0x20ce+-0x3a15)),this['bindTextur'+'e'](_0xff981c),this['gl']['generateMi'+'pmap'](_0xff981c['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x1ec6fc){if(this['unpackFlip'+'Y']!==_0x1ec6fc){this['unpackFlip'+'Y']=_0x1ec6fc;const _0x31c218=this['gl'];_0x31c218['pixelStore'+'i'](_0x31c218['UNPACK_FLI'+'P_Y_WEBGL'],_0x1ec6fc);}}['setUnpackP'+'remultiply'+'Alpha'](_0x5ab3b6){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x5ab3b6){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x5ab3b6;const _0x4f7078=this['gl'];_0x4f7078['pixelStore'+'i'](_0x4f7078['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x5ab3b6);}}['activeText'+'ure'](_0x5af1bf){this['textureUni'+'t']!==_0x5af1bf&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x5af1bf),this['textureUni'+'t']=_0x5af1bf);}['bindTextur'+'e'](_0x53d59b){const _0x2f3943=_0x53d59b['impl'],_0x4c390e=_0x2f3943['_glTarget'],_0x27f2ea=_0x2f3943['_glTexture'],_0x106ac2=this['textureUni'+'t'],_0x45fae4=this['targetToSl'+'ot'][_0x4c390e];this['textureUni'+'ts'][_0x106ac2][_0x45fae4]!==_0x27f2ea&&(this['gl']['bindTextur'+'e'](_0x4c390e,_0x27f2ea),this['textureUni'+'ts'][_0x106ac2][_0x45fae4]=_0x27f2ea);}['bindTextur'+'eOnUnit'](_0x549058,_0x24c521){const _0x47527c=_0x549058['impl'],_0x20ff2b=_0x47527c['_glTarget'],_0xc4d615=_0x47527c['_glTexture'],_0x12ed55=this['targetToSl'+'ot'][_0x20ff2b];this['textureUni'+'ts'][_0x24c521][_0x12ed55]!==_0xc4d615&&(this['activeText'+'ure'](_0x24c521),this['gl']['bindTextur'+'e'](_0x20ff2b,_0xc4d615),this['textureUni'+'ts'][_0x24c521][_0x12ed55]=_0xc4d615);}['setTexture'+'Parameters'](_0x491d0d){const _0x4fdddd=this['gl'],_0x40dfe9=_0x491d0d['impl']['dirtyParam'+'eterFlags'],_0x257734=_0x491d0d['impl']['_glTarget'];if(_0x40dfe9&zy){let _0x12938d=_0x491d0d['_minFilter'];(!_0x491d0d['_mipmaps']||_0x491d0d['_compresse'+'d']&&_0x491d0d['_levels']['length']===-0x19ea+-0x228b+0x3c76)&&(_0x12938d===fc||_0x12938d===pc?_0x12938d=de:(_0x12938d===mc||_0x12938d===nn)&&(_0x12938d=st)),_0x4fdddd['texParamet'+'eri'](_0x257734,_0x4fdddd['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x12938d]);}if(_0x40dfe9&Uy&&_0x4fdddd['texParamet'+'eri'](_0x257734,_0x4fdddd['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x491d0d['_magFilter']]),_0x40dfe9&Vy&&_0x4fdddd['texParamet'+'eri'](_0x257734,_0x4fdddd['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x491d0d['_addressU']]),_0x40dfe9&Gy&&_0x4fdddd['texParamet'+'eri'](_0x257734,_0x4fdddd['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x491d0d['_addressV']]),_0x40dfe9&Hy&&_0x4fdddd['texParamet'+'eri'](_0x257734,_0x4fdddd['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x491d0d['_addressW']]),_0x40dfe9&Wy&&_0x4fdddd['texParamet'+'eri'](_0x257734,_0x4fdddd['TEXTURE_CO'+'MPARE_MODE'],_0x491d0d['_compareOn'+'Read']?_0x4fdddd['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x4fdddd['NONE']),_0x40dfe9&$y&&_0x4fdddd['texParamet'+'eri'](_0x257734,_0x4fdddd['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x491d0d['_compareFu'+'nc']]),_0x40dfe9&qy){const _0x48253d=this['extTexture'+'FilterAnis'+'otropic'];_0x48253d&&_0x4fdddd['texParamet'+'erf'](_0x257734,_0x48253d['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x491d0d['_anisotrop'+'y']),-0x139*-0x9+-0x5*-0x1ac+-0x1c*0xb1,this['maxAnisotr'+'opy']));}}['setTexture'](_0x5e9ff1,_0x451824){const _0xbffbe0=_0x5e9ff1['impl'];_0xbffbe0['_glTexture']||_0xbffbe0['initialize'](this,_0x5e9ff1),_0xbffbe0['dirtyParam'+'eterFlags']>-0x1c78+-0x14cf+0xf*0x349||_0x5e9ff1['_needsUplo'+'ad']||_0x5e9ff1['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x451824),this['bindTextur'+'e'](_0x5e9ff1),_0xbffbe0['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x5e9ff1),_0xbffbe0['dirtyParam'+'eterFlags']=-0x2*0x6de+-0x1532*-0x1+-0x776),(_0x5e9ff1['_needsUplo'+'ad']||_0x5e9ff1['_needsMipm'+'apsUpload'])&&(_0xbffbe0['upload'](this,_0x5e9ff1),_0x5e9ff1['_needsUplo'+'ad']=!(0x23a+-0x1*-0x1574+-0x17ad),_0x5e9ff1['_needsMipm'+'apsUpload']=!(0x5b0+-0xd*0x141+0x12*0x97))):this['bindTextur'+'eOnUnit'](_0x5e9ff1,_0x451824);}['createVert'+'exArray'](_0x80d7df){let _0x5d966e,_0x17f68a;const _0x16c763=_0x80d7df['length']>-0x1cf*0x13+-0x1abb+0x1*0x3d19;if(_0x16c763){_0x5d966e='';for(let _0xb2bb57=0x4*-0x5ad+0x22f7+-0xc43;_0xb2bb57<_0x80d7df['length'];_0xb2bb57++){const _0x62e73e=_0x80d7df[_0xb2bb57];_0x5d966e+=_0x62e73e['id']+_0x62e73e['format']['renderingH'+'ash'];}_0x17f68a=this['_vaoMap']['get'](_0x5d966e);}if(!_0x17f68a){const _0x59d00b=this['gl'];_0x17f68a=_0x59d00b['createVert'+'exArray'](),_0x59d00b['bindVertex'+'Array'](_0x17f68a),_0x59d00b['bindBuffer'](_0x59d00b['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x20bc0a=!(-0x38*0x40+-0x2*-0xcbd+-0xb79);for(let _0x52cc42=0x35*-0x5b+0x20df+-0xe08;_0x52cc42<_0x80d7df['length'];_0x52cc42++){const _0x1bf2f6=_0x80d7df[_0x52cc42];_0x59d00b['bindBuffer'](_0x59d00b['ARRAY_BUFF'+'ER'],_0x1bf2f6['impl']['bufferId']);const _0x26446c=_0x1bf2f6['format']['elements'];for(let _0x339c9f=0x2617+-0xdf7+-0x8*0x304;_0x339c9f<_0x26446c['length'];_0x339c9f++){const _0x273b10=_0x26446c[_0x339c9f],_0x2958df=ve[_0x273b10['name']];_0x2958df===-0x1f00+-0x29*0x69+0x2fd1*0x1&&(_0x20bc0a=!(0x1*0x2275+-0x99e*-0x2+-0xabd*0x5)),_0x273b10['asInt']?_0x59d00b['vertexAttr'+'ibIPointer'](_0x2958df,_0x273b10['numCompone'+'nts'],this['glType'][_0x273b10['dataType']],_0x273b10['stride'],_0x273b10['offset']):_0x59d00b['vertexAttr'+'ibPointer'](_0x2958df,_0x273b10['numCompone'+'nts'],this['glType'][_0x273b10['dataType']],_0x273b10['normalize'],_0x273b10['stride'],_0x273b10['offset']),_0x59d00b['enableVert'+'exAttribAr'+'ray'](_0x2958df),_0x1bf2f6['format']['instancing']&&_0x59d00b['vertexAttr'+'ibDivisor'](_0x2958df,-0x72b+0xa*-0x2b3+-0x1115*-0x2);}}_0x59d00b['bindVertex'+'Array'](null),_0x59d00b['bindBuffer'](_0x59d00b['ARRAY_BUFF'+'ER'],null),_0x16c763&&this['_vaoMap']['set'](_0x5d966e,_0x17f68a),_0x20bc0a||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x17f68a;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x373a0a=this['gl'];let _0xdef001;if(this['vertexBuff'+'ers']['length']===0x5*0x237+0x6*0x45f+-0x254c){const _0x84ab6c=this['vertexBuff'+'ers'][-0x1*0x1cf+-0x1cc8+0x29*0xbf];v['assert'](_0x84ab6c['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x84ab6c['impl']['vao']||(_0x84ab6c['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0xdef001=_0x84ab6c['impl']['vao'];}else _0xdef001=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0xdef001&&(this['boundVao']=_0xdef001,_0x373a0a['bindVertex'+'Array'](_0xdef001)),this['clearVerte'+'xBuffer']();const _0x1bdba8=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x373a0a['bindBuffer'](_0x373a0a['ELEMENT_AR'+'RAY_BUFFER'],_0x1bdba8);}['draw'](_0x488066,_0x9ddae5,_0x2dbfa7){const _0x3dfb3d=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x479722,_0x4c6789,_0x8ea3b6,_0x231f22,_0x84c3fb,_0x7f176b,_0x5a6076,_0x4f1db6;const _0x3be2a7=this['shader'];if(!_0x3be2a7)return;const _0x2bb3b4=_0x3be2a7['impl']['samplers'],_0x29e4ce=_0x3be2a7['impl']['uniforms'];_0x2dbfa7||this['setBuffers']();let _0x4488ad=0x1ac9+0x2ef*0xa+-0x381f;for(let _0x5e913d=-0x10*-0x1d7+0x1257+-0x2fc7,_0x43720a=_0x2bb3b4['length'];_0x5e913d<_0x43720a;_0x5e913d++){if(_0x479722=_0x2bb3b4[_0x5e913d],_0x4c6789=_0x479722['scopeId']['value'],!_0x4c6789){const _0x4b897b=_0x479722['scopeId']['name'];v['assert'](_0x4b897b!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x4b897b!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x4b897b==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x4c6789=en(this,'white')),_0x4b897b==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x4c6789=en(this,'pink')),_0x4c6789||(v['errorOnce']('Shader\x20'+_0x3be2a7['name']+'\x20requires\x20'+_0x4b897b+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x4c6789=en(this,'pink'));}if(_0x4c6789 instanceof he)_0x8ea3b6=_0x4c6789,this['setTexture'](_0x8ea3b6,_0x4488ad),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x6bf+-0xccf*-0x1+-0x138c&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x8ea3b6?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x8ea3b6}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x8ea3b6&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x8ea3b6})),_0x479722['slot']!==_0x4488ad&&(_0x3dfb3d['uniform1i'](_0x479722['locationId'],_0x4488ad),_0x479722['slot']=_0x4488ad),_0x4488ad++;else{_0x479722['array']['length']=0x7*0x4e1+0xf83+-0x31aa,_0x231f22=_0x4c6789['length'];for(let _0x101c93=0x4e7*-0x1+0x8*-0x4ca+0x2b37;_0x101c93<_0x231f22;_0x101c93++)_0x8ea3b6=_0x4c6789[_0x101c93],this['setTexture'](_0x8ea3b6,_0x4488ad),_0x479722['array'][_0x101c93]=_0x4488ad,_0x4488ad++;_0x3dfb3d['uniform1iv'](_0x479722['locationId'],_0x479722['array']);}}for(let _0x56b43e=-0xd53*-0x1+0x3e7+-0x62*0x2d,_0x437d21=_0x29e4ce['length'];_0x56b43e<_0x437d21;_0x56b43e++)_0x84c3fb=_0x29e4ce[_0x56b43e],_0x7f176b=_0x84c3fb['scopeId'],_0x5a6076=_0x84c3fb['version'],_0x4f1db6=_0x7f176b['versionObj'+'ect']['version'],(_0x5a6076['globalId']!==_0x4f1db6['globalId']||_0x5a6076['revision']!==_0x4f1db6['revision'])&&(_0x5a6076['globalId']=_0x4f1db6['globalId'],_0x5a6076['revision']=_0x4f1db6['revision'],_0x7f176b['value']!==null&&this['commitFunc'+'tion'][_0x84c3fb['dataType']](_0x84c3fb,_0x7f176b['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x3dfb3d['bindBuffer'+'Base'](_0x3dfb3d['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x2d3*-0x9+-0x9e0+0x234b,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x3dfb3d['beginTrans'+'formFeedba'+'ck'](_0x3dfb3d['POINTS']));const _0x18e3e8=this['glPrimitiv'+'e'][_0x488066['type']],_0x29b688=_0x488066['count'];if(_0x488066['indexed']){const _0x473b86=this['indexBuffe'+'r'];v['assert'](_0x473b86['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x2ea2d1=_0x473b86['impl']['glFormat'],_0xa942f0=_0x488066['base']*_0x473b86['bytesPerIn'+'dex'];_0x9ddae5>0x1530+-0x1e30+0x24*0x40?_0x3dfb3d['drawElemen'+'tsInstance'+'d'](_0x18e3e8,_0x29b688,_0x2ea2d1,_0xa942f0,_0x9ddae5):_0x3dfb3d['drawElemen'+'ts'](_0x18e3e8,_0x29b688,_0x2ea2d1,_0xa942f0);}else{const _0x22a935=_0x488066['base'];_0x9ddae5>-0x1*-0x1538+0x1ade+-0x99e*0x5?_0x3dfb3d['drawArrays'+'Instanced'](_0x18e3e8,_0x22a935,_0x29b688,_0x9ddae5):_0x3dfb3d['drawArrays'](_0x18e3e8,_0x22a935,_0x29b688);}this['transformF'+'eedbackBuf'+'fer']&&(_0x3dfb3d['endTransfo'+'rmFeedback'](),_0x3dfb3d['bindBuffer'+'Base'](_0x3dfb3d['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0xae1*0x2+0x1a59+-0x5*0xeb,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x488066['type']]+=_0x488066['count']*(_0x9ddae5>0x11e*0x2+0x78a+0x3d*-0x29?_0x9ddae5:-0x24d9+-0xe70+-0xa*-0x521);}['clear'](_0x5e1a64){const _0x34c4be=this['defaultCle'+'arOptions'];_0x5e1a64=_0x5e1a64||_0x34c4be;const _0x42371f=_0x5e1a64['flags']??_0x34c4be['flags'];if(_0x42371f!==0x61a+-0x2*-0xc8b+-0x1f30*0x1){const _0xd411d3=this['gl'];if(_0x42371f&Co){const _0x3c3225=_0x5e1a64['color']??_0x34c4be['color'],_0x274924=_0x3c3225[0x5eb*-0x1+-0x99*-0xc+0x3*-0x6b],_0x5b49a5=_0x3c3225[-0x2411+0x1f19+-0x43*-0x13],_0x5ab198=_0x3c3225[-0x40d*0x7+-0x2*-0x113e+-0x61f*0x1],_0x14c71e=_0x3c3225[-0xb09*0x3+0x5ff+0x1*0x1b1f],_0x22ab70=this['clearColor'];(_0x274924!==_0x22ab70['r']||_0x5b49a5!==_0x22ab70['g']||_0x5ab198!==_0x22ab70['b']||_0x14c71e!==_0x22ab70['a'])&&(this['gl']['clearColor'](_0x274924,_0x5b49a5,_0x5ab198,_0x14c71e),this['clearColor']['set'](_0x274924,_0x5b49a5,_0x5ab198,_0x14c71e)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x42371f&Mo){const _0x5abfad=_0x5e1a64['depth']??_0x34c4be['depth'];_0x5abfad!==this['clearDepth']&&(this['gl']['clearDepth'](_0x5abfad),this['clearDepth']=_0x5abfad),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x42371f&Ah){const _0x1b5d0b=_0x5e1a64['stencil']??_0x34c4be['stencil'];_0x1b5d0b!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x1b5d0b),this['clearStenc'+'il']=_0x1b5d0b),_0xd411d3['stencilMas'+'k'](0x1d27+0x5*-0x73f+0x813),this['stencilWri'+'teMaskFron'+'t']=0xd66*0x2+-0x1ac6*0x1+-0x53*-0x3,this['stencilWri'+'teMaskBack']=-0x101c*-0x1+-0x1416+0x4f9;}_0xd411d3['clear'](this['glClearFla'+'g'][_0x42371f]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x323c35,_0x4644df,_0x2bbfa3,_0x38fa37,_0xd0aa00){const _0x49f35b=this['gl'];_0x49f35b['readPixels'](_0x323c35,_0x4644df,_0x2bbfa3,_0x38fa37,_0x49f35b['RGBA'],_0x49f35b['UNSIGNED_B'+'YTE'],_0xd0aa00);}async['readPixels'+'Async'](_0x313c1b,_0x584bbe,_0x159f15,_0x41e7ca,_0x43ebce){var _0x3c4824;const _0x3d84bf=this['gl'],_0x26aa68=(_0xd03a25,_0x4d086c)=>{const _0x11e4e8=_0x3d84bf['fenceSync'](_0x3d84bf['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0xf3*0x1c+0x258e+0x2*-0x2011);return this['submit'](),new Promise((_0x4db4d0,_0x37b952)=>{function _0x2bae11(){const _0x4c4cdf=_0x3d84bf['clientWait'+'Sync'](_0x11e4e8,_0xd03a25,0x1*-0x1064+-0xef*-0x13+-0xf*0x17);_0x4c4cdf===_0x3d84bf['WAIT_FAILE'+'D']?(_0x3d84bf['deleteSync'](_0x11e4e8),_0x37b952(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x4c4cdf===_0x3d84bf['TIMEOUT_EX'+'PIRED']?setTimeout(_0x2bae11,_0x4d086c):(_0x3d84bf['deleteSync'](_0x11e4e8),_0x4db4d0());}_0x2bae11();});},_0x5872f3=(_0x3c4824=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x1b60+-0x469*0x3+-0xe25):_0x3c4824['impl'],_0x36227b=(_0x5872f3==null?void(0x143d+-0xe03*0x1+-0x31d*0x2):_0x5872f3['_glFormat'])??_0x3d84bf['RGBA'],_0x5df3b6=(_0x5872f3==null?void(-0x53c+0x298*0xa+-0x14b4):_0x5872f3['_glPixelTy'+'pe'])??_0x3d84bf['UNSIGNED_B'+'YTE'],_0x3f9b31=_0x3d84bf['createBuff'+'er']();return _0x3d84bf['bindBuffer'](_0x3d84bf['PIXEL_PACK'+'_BUFFER'],_0x3f9b31),_0x3d84bf['bufferData'](_0x3d84bf['PIXEL_PACK'+'_BUFFER'],_0x43ebce['byteLength'],_0x3d84bf['STREAM_REA'+'D']),_0x3d84bf['readPixels'](_0x313c1b,_0x584bbe,_0x159f15,_0x41e7ca,_0x36227b,_0x5df3b6,-0x1*0x2206+-0x13c+0x2342*0x1),_0x3d84bf['bindBuffer'](_0x3d84bf['PIXEL_PACK'+'_BUFFER'],null),await _0x26aa68(-0x13*-0xa9+0x1e57+0x1f3*-0x16,0x5b9+0x5*0x5b9+-0x2242),_0x3d84bf['bindBuffer'](_0x3d84bf['PIXEL_PACK'+'_BUFFER'],_0x3f9b31),_0x3d84bf['getBufferS'+'ubData'](_0x3d84bf['PIXEL_PACK'+'_BUFFER'],0x1*-0xef9+-0xd42+0x1c3b,_0x43ebce),_0x3d84bf['bindBuffer'](_0x3d84bf['PIXEL_PACK'+'_BUFFER'],null),_0x3d84bf['deleteBuff'+'er'](_0x3f9b31),_0x43ebce;}['readTextur'+'eAsync'](_0x4505c6,_0xd32a0f,_0x2950b9,_0x596792,_0x1f8e95,_0x20c1fb){const _0x34a702=_0x20c1fb['face']??-0x390+-0x670+0xa00,_0x274bc1=_0x20c1fb['renderTarg'+'et']??new pt({'colorBuffer':_0x4505c6,'depth':!(0x17d4+-0x1f6b+0x798),'face':_0x34a702});v['assert'](_0x274bc1['colorBuffe'+'r']===_0x4505c6);const _0x7874a6=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x596792,_0x1f8e95,0x2572+-0x59*0x59+0x20*-0x34,_0x4505c6['_format'])),_0x523f06=_0x20c1fb['data']??new(Cy(_0x4505c6['_format']))(_0x7874a6);return this['setRenderT'+'arget'](_0x274bc1),this['initRender'+'Target'](_0x274bc1),new Promise((_0x1949f6,_0xfa2be8)=>{this['readPixels'+'Async'](_0xd32a0f,_0x2950b9,_0x596792,_0x1f8e95,_0x523f06)['then'](_0x2d3d2a=>{_0x20c1fb['renderTarg'+'et']||_0x274bc1['destroy'](),_0x1949f6(_0x2d3d2a);})['catch'](_0xfa2be8);});}['setAlphaTo'+'Coverage'](_0x1285f9){this['alphaToCov'+'erage']!==_0x1285f9&&(this['alphaToCov'+'erage']=_0x1285f9,_0x1285f9?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x4185b9){if(this['transformF'+'eedbackBuf'+'fer']!==_0x4185b9){this['transformF'+'eedbackBuf'+'fer']=_0x4185b9;const _0x284df3=this['gl'];_0x4185b9?(this['feedback']||(this['feedback']=_0x284df3['createTran'+'sformFeedb'+'ack']()),_0x284df3['bindTransf'+'ormFeedbac'+'k'](_0x284df3['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x284df3['bindTransf'+'ormFeedbac'+'k'](_0x284df3['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x540355){this['raster']!==_0x540355&&(this['raster']=_0x540355,_0x540355?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x53ffd6){if(this['stencil']!==_0x53ffd6){const _0x4bd448=this['gl'];_0x53ffd6?_0x4bd448['enable'](_0x4bd448['STENCIL_TE'+'ST']):_0x4bd448['disable'](_0x4bd448['STENCIL_TE'+'ST']),this['stencil']=_0x53ffd6;}}['setStencil'+'Func'](_0x2b9f29,_0x3e9aca,_0x20863d){(this['stencilFun'+'cFront']!==_0x2b9f29||this['stencilRef'+'Front']!==_0x3e9aca||this['stencilMas'+'kFront']!==_0x20863d||this['stencilFun'+'cBack']!==_0x2b9f29||this['stencilRef'+'Back']!==_0x3e9aca||this['stencilMas'+'kBack']!==_0x20863d)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x2b9f29],_0x3e9aca,_0x20863d),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x2b9f29,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x3e9aca,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x20863d);}['setStencil'+'FuncFront'](_0x24164c,_0x50bbd4,_0x5cf388){if(this['stencilFun'+'cFront']!==_0x24164c||this['stencilRef'+'Front']!==_0x50bbd4||this['stencilMas'+'kFront']!==_0x5cf388){const _0x1c026f=this['gl'];_0x1c026f['stencilFun'+'cSeparate'](_0x1c026f['FRONT'],this['glComparis'+'on'][_0x24164c],_0x50bbd4,_0x5cf388),this['stencilFun'+'cFront']=_0x24164c,this['stencilRef'+'Front']=_0x50bbd4,this['stencilMas'+'kFront']=_0x5cf388;}}['setStencil'+'FuncBack'](_0x361c33,_0x28546d,_0x5e05c7){if(this['stencilFun'+'cBack']!==_0x361c33||this['stencilRef'+'Back']!==_0x28546d||this['stencilMas'+'kBack']!==_0x5e05c7){const _0x3af2f9=this['gl'];_0x3af2f9['stencilFun'+'cSeparate'](_0x3af2f9['BACK'],this['glComparis'+'on'][_0x361c33],_0x28546d,_0x5e05c7),this['stencilFun'+'cBack']=_0x361c33,this['stencilRef'+'Back']=_0x28546d,this['stencilMas'+'kBack']=_0x5e05c7;}}['setStencil'+'Operation'](_0x3d1b9d,_0x499c8d,_0x570b20,_0x2614e5){(this['stencilFai'+'lFront']!==_0x3d1b9d||this['stencilZfa'+'ilFront']!==_0x499c8d||this['stencilZpa'+'ssFront']!==_0x570b20||this['stencilFai'+'lBack']!==_0x3d1b9d||this['stencilZfa'+'ilBack']!==_0x499c8d||this['stencilZpa'+'ssBack']!==_0x570b20)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x3d1b9d],this['glStencilO'+'p'][_0x499c8d],this['glStencilO'+'p'][_0x570b20]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x3d1b9d,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x499c8d,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x570b20),(this['stencilWri'+'teMaskFron'+'t']!==_0x2614e5||this['stencilWri'+'teMaskBack']!==_0x2614e5)&&(this['gl']['stencilMas'+'k'](_0x2614e5),this['stencilWri'+'teMaskFron'+'t']=_0x2614e5,this['stencilWri'+'teMaskBack']=_0x2614e5);}['setStencil'+'OperationF'+'ront'](_0x2dbfd5,_0x52d1db,_0x3f52d2,_0x241e02){(this['stencilFai'+'lFront']!==_0x2dbfd5||this['stencilZfa'+'ilFront']!==_0x52d1db||this['stencilZpa'+'ssFront']!==_0x3f52d2)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x2dbfd5],this['glStencilO'+'p'][_0x52d1db],this['glStencilO'+'p'][_0x3f52d2]),this['stencilFai'+'lFront']=_0x2dbfd5,this['stencilZfa'+'ilFront']=_0x52d1db,this['stencilZpa'+'ssFront']=_0x3f52d2),this['stencilWri'+'teMaskFron'+'t']!==_0x241e02&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x241e02),this['stencilWri'+'teMaskFron'+'t']=_0x241e02);}['setStencil'+'OperationB'+'ack'](_0x46c010,_0x4513cd,_0x3c7209,_0x2908b2){(this['stencilFai'+'lBack']!==_0x46c010||this['stencilZfa'+'ilBack']!==_0x4513cd||this['stencilZpa'+'ssBack']!==_0x3c7209)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x46c010],this['glStencilO'+'p'][_0x4513cd],this['glStencilO'+'p'][_0x3c7209]),this['stencilFai'+'lBack']=_0x46c010,this['stencilZfa'+'ilBack']=_0x4513cd,this['stencilZpa'+'ssBack']=_0x3c7209),this['stencilWri'+'teMaskBack']!==_0x2908b2&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x2908b2),this['stencilWri'+'teMaskBack']=_0x2908b2);}['setBlendSt'+'ate'](_0xec33fc){const _0x3a6dbb=this['blendState'];if(!_0x3a6dbb['equals'](_0xec33fc)){const _0x2c694a=this['gl'],{blend:_0x8c5696,colorOp:_0xff534d,alphaOp:_0x128d04,colorSrcFactor:_0x593640,colorDstFactor:_0x4ab4b9,alphaSrcFactor:_0x3fc68a,alphaDstFactor:_0x50399f}=_0xec33fc;if(_0x3a6dbb['blend']!==_0x8c5696&&(_0x8c5696?_0x2c694a['enable'](_0x2c694a['BLEND']):_0x2c694a['disable'](_0x2c694a['BLEND'])),_0x3a6dbb['colorOp']!==_0xff534d||_0x3a6dbb['alphaOp']!==_0x128d04){const _0x23b126=this['glBlendEqu'+'ation'];_0x2c694a['blendEquat'+'ionSeparat'+'e'](_0x23b126[_0xff534d],_0x23b126[_0x128d04]);}(_0x3a6dbb['colorSrcFa'+'ctor']!==_0x593640||_0x3a6dbb['colorDstFa'+'ctor']!==_0x4ab4b9||_0x3a6dbb['alphaSrcFa'+'ctor']!==_0x3fc68a||_0x3a6dbb['alphaDstFa'+'ctor']!==_0x50399f)&&_0x2c694a['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x593640],this['glBlendFun'+'ctionColor'][_0x4ab4b9],this['glBlendFun'+'ctionAlpha'][_0x3fc68a],this['glBlendFun'+'ctionAlpha'][_0x50399f]),_0x3a6dbb['allWrite']!==_0xec33fc['allWrite']&&this['gl']['colorMask'](_0xec33fc['redWrite'],_0xec33fc['greenWrite'],_0xec33fc['blueWrite'],_0xec33fc['alphaWrite']),_0x3a6dbb['copy'](_0xec33fc);}}['setBlendCo'+'lor'](_0x4d0336,_0x227eba,_0x569fcf,_0x12d24b){const _0x32e733=this['blendColor'];(_0x4d0336!==_0x32e733['r']||_0x227eba!==_0x32e733['g']||_0x569fcf!==_0x32e733['b']||_0x12d24b!==_0x32e733['a'])&&(this['gl']['blendColor'](_0x4d0336,_0x227eba,_0x569fcf,_0x12d24b),_0x32e733['set'](_0x4d0336,_0x227eba,_0x569fcf,_0x12d24b));}['setStencil'+'State'](_0x2fa049,_0x136fb3){_0x2fa049||_0x136fb3?(this['setStencil'+'Test'](!(0x1322+0x89*-0x4+-0x2d5*0x6)),_0x2fa049===_0x136fb3?(this['setStencil'+'Func'](_0x2fa049['func'],_0x2fa049['ref'],_0x2fa049['readMask']),this['setStencil'+'Operation'](_0x2fa049['fail'],_0x2fa049['zfail'],_0x2fa049['zpass'],_0x2fa049['writeMask'])):(_0x2fa049??(_0x2fa049=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x2fa049['func'],_0x2fa049['ref'],_0x2fa049['readMask']),this['setStencil'+'OperationF'+'ront'](_0x2fa049['fail'],_0x2fa049['zfail'],_0x2fa049['zpass'],_0x2fa049['writeMask']),_0x136fb3??(_0x136fb3=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x136fb3['func'],_0x136fb3['ref'],_0x136fb3['readMask']),this['setStencil'+'OperationB'+'ack'](_0x136fb3['fail'],_0x136fb3['zfail'],_0x136fb3['zpass'],_0x136fb3['writeMask']))):this['setStencil'+'Test'](!(0x3*-0x5e4+-0x861+0x122*0x17));}['setDepthSt'+'ate'](_0x5a54d8){const _0x3ed613=this['depthState'];if(!_0x3ed613['equals'](_0x5a54d8)){const _0x547070=this['gl'],_0x11a204=_0x5a54d8['write'];_0x3ed613['write']!==_0x11a204&&_0x547070['depthMask'](_0x11a204);let {func:_0x46d390,test:_0x567b64}=_0x5a54d8;!_0x567b64&&_0x11a204&&(_0x567b64=!(-0x7*-0x2f3+0x1b91+-0x3036),_0x46d390=Ai),_0x3ed613['func']!==_0x46d390&&_0x547070['depthFunc'](this['glComparis'+'on'][_0x46d390]),_0x3ed613['test']!==_0x567b64&&(_0x567b64?_0x547070['enable'](_0x547070['DEPTH_TEST']):_0x547070['disable'](_0x547070['DEPTH_TEST']));const {depthBias:_0x51bd6b,depthBiasSlope:_0x267ed8}=_0x5a54d8;_0x51bd6b||_0x267ed8?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x5f3+0xa*-0x10f+-0x583*-0x3),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x547070['polygonOff'+'set'](_0x267ed8,_0x51bd6b)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x13*-0x192+0x2*0x263+0xcf*0x1f),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x3ed613['copy'](_0x5a54d8);}}['setCullMod'+'e'](_0x2216dc){if(this['cullMode']!==_0x2216dc){if(_0x2216dc===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x3b0599=this['glCull'][_0x2216dc];this['cullFace']!==_0x3b0599&&(this['gl']['cullFace'](_0x3b0599),this['cullFace']=_0x3b0599);}this['cullMode']=_0x2216dc;}}['setShader'](_0x221dbc,_0x8a722c=!(-0x1b*0xd5+-0x72*0x1b+0x227e)){_0x221dbc!==this['shader']&&(this['shader']=_0x221dbc,this['shaderAsyn'+'cCompile']=_0x8a722c,this['shaderVali'+'d']=void(0x916*-0x1+0x174c+-0xe36*0x1),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x28a18e){const {shader:_0x1c59b8}=this,{impl:_0x452797}=_0x1c59b8;this['shaderVali'+'d']===void(0x1b64*0x1+-0x1196+-0x4e7*0x2)&&(_0x1c59b8['failed']?this['shaderVali'+'d']=!(0xee0+0x1c35+0x4*-0xac5):_0x1c59b8['ready']||(this['shaderAsyn'+'cCompile']?_0x452797['isLinked'](_0x28a18e)?_0x452797['finalize'](this,_0x1c59b8)||(_0x1c59b8['failed']=!(-0xfc*-0x3+-0x7*0x258+0x7*0x1ec),this['shaderVali'+'d']=!(0x1*-0x10c4+0xc9*0x9+0x2*0x4da)):this['shaderVali'+'d']=!(-0x209a+-0x234+0x22cf):_0x452797['finalize'](this,_0x1c59b8)||(_0x1c59b8['failed']=!(-0x60a*-0x1+0x719+-0xd23),this['shaderVali'+'d']=!(-0xd*-0x2d7+-0x1c97+-0x853)))),this['shaderVali'+'d']===void(0xe1c+0x1a5+-0xfc1)&&(this['gl']['useProgram'](_0x452797['glProgram']),this['shaderVali'+'d']=!(0x10a*-0x1f+0x154a+0xaec));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x18c4e3=this['gl'];this['_vaoMap']['forEach']((_0x55b7e6,_0x24761c,_0x4e77db)=>{_0x18c4e3['deleteVert'+'exArray'](_0x55b7e6);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x3ee10c){_0x3ee10c?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x1c38dd=-0x2126+0x21fb+-0x71){const _0x471713=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x471713['loseContex'+'t'](),setTimeout(()=>_0x471713['restoreCon'+'text'](),_0x1c38dd);}}let mb=-0xa5*0x4+-0xfc1+0x1255;class lr{constructor(_0x2517a9,_0x27aaf4,_0x4b309a,_0x764c61=jt,_0x49c5e7,_0x3cc035){this['device']=_0x2517a9,this['format']=_0x27aaf4,this['numIndices']=_0x4b309a,this['usage']=_0x764c61,this['id']=mb++,this['impl']=_0x2517a9['createInde'+'xBufferImp'+'l'](this,_0x3cc035);const _0x515d29=vv[_0x27aaf4];this['bytesPerIn'+'dex']=_0x515d29,this['numBytes']=this['numIndices']*_0x515d29,_0x49c5e7?this['setData'](_0x49c5e7):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x2517a9['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x1175f4=this['device'],_0x333962=_0x1175f4['buffers']['indexOf'](this);_0x333962!==-(-0x1d6e+-0xf0d+0x4e*0x92)&&_0x1175f4['buffers']['splice'](_0x333962,0xa64+-0x1a43+0xfe0),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x1175f4),this['adjustVram'+'SizeTracki'+'ng'](_0x1175f4['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x40c1e0,_0x323c31){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x323c31+'\x20vram.ib:\x20'+_0x40c1e0['ib']+'\x20=>\x20'+(_0x40c1e0['ib']+_0x323c31)),_0x40c1e0['ib']+=_0x323c31;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x275157){return _0x275157['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x275157['byteLength']),!(-0x300*0x7+-0xa94+0x1f95)):(this['storage']=_0x275157,this['unlock'](),!(0x4ca+0x3a*0x71+-0x1e64));}['_lockTyped'+'Array'](){const _0x132031=this['lock']();return this['format']===nr?new Uint32Array(_0x132031):this['format']===Pi?new Uint16Array(_0x132031):new Uint8Array(_0x132031);}['writeData'](_0xef6e53,_0x381ba6){const _0x392357=this['_lockTyped'+'Array']();if(_0xef6e53['length']>_0x381ba6){if(ArrayBuffer['isView'](_0xef6e53))_0xef6e53=_0xef6e53['subarray'](0x1f1a+0x89*-0x10+-0x482*0x5,_0x381ba6),_0x392357['set'](_0xef6e53);else{for(let _0x113b3b=0x15eb+0x40*-0xf+-0x122b*0x1;_0x113b3b<_0x381ba6;_0x113b3b++)_0x392357[_0x113b3b]=_0xef6e53[_0x113b3b];}}else _0x392357['set'](_0xef6e53);this['unlock']();}['readData'](_0x45f63a){const _0x4e89dd=this['_lockTyped'+'Array'](),_0x13bb62=this['numIndices'];if(ArrayBuffer['isView'](_0x45f63a))_0x45f63a['set'](_0x4e89dd);else{_0x45f63a['length']=-0x1*-0x7a9+0x2d3+-0xa7c;for(let _0x2b6535=-0x237b+-0x1ea5+-0x1*-0x4220;_0x2b6535<_0x13bb62;_0x2b6535++)_0x45f63a[_0x2b6535]=_0x4e89dd[_0x2b6535];}return _0x13bb62;}}class _b{constructor(){c(this,'clearValue',new Y(-0x797+-0x283+0xa1a,0x109f+0x13*-0x12e+-0x1*-0x5cb,-0xf*-0xc1+-0xf6c+0x41d,0x1*0x35f+-0x2f*0xce+-0x12*-0x1ea)),c(this,'clearValue'+'Linear',new Y(-0x1*-0x1ae3+0x7fa+-0x22dd,-0x2f7+0x26f4+-0x23fd,-0x2690+-0x3b*-0x37+0x8a1*0x3,-0x2*-0x251+-0x5*-0xdf+-0x8fc)),c(this,'clear',!(0x1*0xe75+0x1cf9+-0x2b6d)),c(this,'store',!(0x41*-0x43+-0x7d0+0x18d4)),c(this,'resolve',!(0x15*-0x1af+-0xa9*0x2c+-0x4067*-0x1)),c(this,'genMipmaps',!(-0x2*-0xa63+-0x36*-0x90+-0x3325));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x25fd*0x1+0x2371+0x28d),c(this,'clearStenc'+'ilValue',-0x1b*0x31+-0x7*0x31b+-0x8*-0x35d),c(this,'clearDepth',!(0x7*-0xef+-0x2311+0x299b)),c(this,'clearStenc'+'il',!(-0x1918+-0x2265+0x3b7e)),c(this,'storeDepth',!(-0x238b+-0x17e9*-0x1+0xba3)),c(this,'resolveDep'+'th',!(0x13a*0x13+0xbd5*-0x1+-0x5bc*0x2)),c(this,'storeStenc'+'il',!(-0x1845+-0x6*-0x328+0x556*0x1));}}class ds{constructor(_0x35a5dc){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x20a1*-0x1+-0x459*-0x2+-0x2953)),c(this,'_skipStart',!(-0x25a4+0x490*-0x1+0x2a35)),c(this,'_skipEnd',!(0x1*-0xa2a+-0xe64+0x1*0x188f)),c(this,'executeEna'+'bled',!(-0x1077+-0x1d*-0x121+-0x1046)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',0x1*-0x25b3+-0xfa*0x23+-0x47e1*-0x1),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(0xb33*0x1+0x3*-0x1eb+-0x572)),c(this,'fullSizeCl'+'earRect',!(-0x5b*0x26+0xc69+0x119)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x35a5dc),this['device']=_0x35a5dc);}get['colorOps'](){return this['colorArray'+'Ops'][0x12a0+0x1*-0x1599+-0x1*-0x2f9];}set['name'](_0x35a5b7){this['_name']=_0x35a5b7;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x46c5de){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x46c5de;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0xee97b5){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0xee97b5;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x4661c4){this['_options']=_0x4661c4,_0x4661c4&&(this['scaleX']=this['scaleX']??0x1*-0x191+-0x3*0x788+0x182a,this['scaleY']=this['scaleY']??-0x1*0x14e5+0x12d5+0x1*0x211);}get['options'](){return this['_options'];}['init'](_0x143411=null,_0x445bd7){this['options']=_0x445bd7,this['renderTarg'+'et']=_0x143411,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x1485+-0x1c3+-0x12c1),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x319397,_0x2871ce,_0x20e4fa,_0x5ec146;const _0x3d9619=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x3d9619!=null&&_0x3d9619['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x2158+0x26d7+-0x57f));const _0x336271=_0x3d9619?((_0x319397=_0x3d9619['_colorBuff'+'ers'])==null?void(-0x47*0x2b+0xe45+-0x8*0x4b):_0x319397['length'])??-0x7*-0x7+-0x4*-0x71b+-0x1c9d:-0xe*0xc8+-0x5b8+0x10a9;this['colorArray'+'Ops']['length']=0x11e4+-0x26ad+-0x11*-0x139;for(let _0x4313c5=0x2ac+0xa21*0x1+0xccd*-0x1;_0x4313c5<_0x336271;_0x4313c5++){const _0x34b272=new _b();this['colorArray'+'Ops'][_0x4313c5]=_0x34b272,this['samples']===0x813+-0x18cc+0x10ba&&(_0x34b272['store']=!(-0x15d3+-0x1c*0xcd+0x2c3f),_0x34b272['resolve']=!(-0x1*0x14+0x1a*-0xd3+-0x1583*-0x1));const _0x461530=(_0x20e4fa=(_0x2871ce=this['renderTarg'+'et'])==null?void(-0x1147+0xee2+0x265):_0x2871ce['_colorBuff'+'ers'])==null?void(0x1c70+-0x22ff+-0x17*-0x49):_0x20e4fa[_0x4313c5];if((_0x5ec146=this['renderTarg'+'et'])!=null&&_0x5ec146['mipmaps']&&(_0x461530!=null&&_0x461530['mipmaps'])){const _0x57c73f=ea(_0x461530['_format']);_0x34b272['genMipmaps']=!_0x57c73f;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x45a24f=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x31f525=Math['floor'](_0x45a24f['width']*this['scaleX']),_0x57fbf2=Math['floor'](_0x45a24f['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x31f525,_0x57fbf2);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x2b7f40){this['_enabled']!==_0x2b7f40&&(this['_enabled']=_0x2b7f40,_0x2b7f40?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x23d5e8){const _0x27d240=this['colorArray'+'Ops']['length'];for(let _0x2c1002=0x38f*-0x7+-0x99*0x1e+0x2ad7;_0x2c1002<_0x27d240;_0x2c1002++){const _0x195bff=this['colorArray'+'Ops'][_0x2c1002];_0x23d5e8&&(_0x195bff['clearValue']['copy'](_0x23d5e8),_0x195bff['clearValue'+'Linear']['linear'](_0x23d5e8)),_0x195bff['clear']=!!_0x23d5e8;}}['setClearDe'+'pth'](_0x39d0c4){_0x39d0c4&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x39d0c4),this['depthStenc'+'ilOps']['clearDepth']=_0x39d0c4!==void(0x1993+-0x9b8+-0xfdb);}['setClearSt'+'encil'](_0x430553){_0x430553&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x430553),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x430553!==void(-0x1b92+0x3ad*-0x2+0x22ec);}['render'](){if(this['enabled']){const _0x42757f=this['device'],_0x5c71c9=this['renderTarg'+'et']!==void(0x22e1+-0x226f*-0x1+-0x4550);v['call'](()=>{this['log'](_0x42757f,_0x42757f['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x5c71c9&&!this['_skipStart']&&_0x42757f['startRende'+'rPass'](this),this['execute'](),_0x5c71c9&&!this['_skipEnd']&&_0x42757f['endRenderP'+'ass'](this)),this['after'](),_0x42757f['renderPass'+'Index']++;}}['log'](_0x3acfff,_0x2cc4e1=0x149a+0x20*-0xad+0x2*0x83){var _0x48d102,_0x5df6e3,_0x5be510;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x4a7de8=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x3acfff['backBuffer']:null),_0x12be52=!!(_0x4a7de8!=null&&_0x4a7de8['impl']['assignedCo'+'lorTexture'])||(_0x4a7de8==null?void(0x1*-0x22f7+-0x69a*0x5+-0x43f9*-0x1):_0x4a7de8['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x4*0x29e+0x904+-0x1*-0x174),_0x55fe65=((_0x48d102=_0x4a7de8==null?void(-0x8f1+-0x91d+0x2*0x907):_0x4a7de8['_colorBuff'+'ers'])==null?void(-0x1*-0x64d+-0x9*-0xc1+0x19*-0x86):_0x48d102['length'])??(_0x12be52?-0x3d*0x7f+0x5d*-0x49+-0x38c9*-0x1:0x65+-0x2170+0x210b),_0x429397=_0x4a7de8==null?void(0x2*0x175+-0x1327+0x103d):_0x4a7de8['depth'],_0x20d1a8=_0x4a7de8==null?void(0x17c3+0x1885+0x67*-0x78):_0x4a7de8['stencil'],_0x2c5928=_0x4a7de8==null?void(0x1601+0xd0+-0x16d1):_0x4a7de8['mipLevel'],_0x4c9243=_0x4a7de8?'\x20RT:\x20'+(_0x4a7de8?_0x4a7de8['name']:'NULL')+'\x20'+(_0x55fe65>0x1726+0x14*0x148+0x3*-0x1042?'[Color'+(_0x55fe65>-0x1ddd+0xd2d+0x10b1?'\x20x\x20'+_0x55fe65:'')+']':'')+(_0x429397?'[Depth]':'')+(_0x20d1a8?'[Stencil]':'')+'\x20'+_0x4a7de8['width']+'\x20x\x20'+_0x4a7de8['height']+(this['samples']>-0x1cdf+0x199e+0x341?'\x20samples:\x20'+this['samples']:'')+(_0x2c5928>-0x2387+-0x83*-0x7+0x1ff2?'\x20mipLevel:'+'\x20'+_0x2c5928:''):'',_0x12088c=this['_skipStart']?'++':_0x2cc4e1['toString']()['padEnd'](0x25f7+0x108*0xd+-0x335d,'\x20');v['trace'](jp,_0x12088c+':\x20'+this['name']['padEnd'](0xde9+-0xff9+0x2*0x112,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x4c9243['padEnd'](-0x520+0xefd+-0x9bf));for(let _0x3df464=0x15f8+0x2517*-0x1+0xf1f;_0x3df464<_0x55fe65;_0x3df464++){const _0x12b8d1=this['colorArray'+'Ops'][_0x3df464],_0x4ed3e0=(_0x5df6e3=xt['get'](_0x12be52?_0x3acfff['backBuffer'+'Format']:_0x4a7de8['getColorBu'+'ffer'](_0x3df464)['format']))==null?void(0xe21*0x2+0x3*0xcac+0x2123*-0x2):_0x5df6e3['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x3df464+']:\x20'+(_0x12b8d1['clear']?'clear':'load')+'->'+(_0x12b8d1['store']?'store':'discard')+'\x20'+(_0x12b8d1['resolve']?'resolve\x20':'')+(_0x12b8d1['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x4ed3e0+']\x20'+(_0x12b8d1['clear']?'[clear:\x20'+_0x12b8d1['clearValue']['toString'](!(0xbdd+0x1*0x20e7+-0x2cc4),!(0x11ad+0x2*-0x89e+0x71*-0x1))+']':''));}if(this['depthStenc'+'ilOps']){const _0x9e96a1=''+(_0x4a7de8['depthBuffe'+'r']?'\x20[format:\x20'+((_0x5be510=xt['get'](_0x4a7de8['depthBuffe'+'r']['format']))==null?void(0x646+0xf49+-0x158f):_0x5be510['name'])+']':'');_0x429397&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x9e96a1+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x20d1a8&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x9e96a1+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x21166f){this['array'][this['index']]=_0x21166f;}function xb(_0x1d254b,_0x1d7c69){this['array'][this['index']]=_0x1d254b,this['array'][this['index']+(-0x7*-0x185+0x26*-0xc4+0x22*0x8b)]=_0x1d7c69;}function Sb(_0x4e0bc5,_0x4904b1,_0x343653){this['array'][this['index']]=_0x4e0bc5,this['array'][this['index']+(0x1*0xda4+0x1b73*0x1+-0x2916)]=_0x4904b1,this['array'][this['index']+(-0x2208+0x1c50+0x2dd*0x2)]=_0x343653;}function vb(_0x138e88,_0x2a5f96,_0x1ee62c,_0x30a6a6){this['array'][this['index']]=_0x138e88,this['array'][this['index']+(-0x1d7f+-0x1b*-0x75+0x1129)]=_0x2a5f96,this['array'][this['index']+(-0x194e+0xbcd+0x481*0x3)]=_0x1ee62c,this['array'][this['index']+(0x3b3*0x3+-0x4e6*0x6+-0x16*-0xd5)]=_0x30a6a6;}function bb(_0x4fe6e0,_0x3f7fb2,_0x1bcb12){this['array'][_0x4fe6e0]=_0x3f7fb2[_0x1bcb12];}function wb(_0x3c70eb,_0xa3e98,_0x1bb7af){this['array'][_0x3c70eb]=_0xa3e98[_0x1bb7af],this['array'][_0x3c70eb+(-0x17fb+-0x1*0x1f81+0x377d)]=_0xa3e98[_0x1bb7af+(0x43f*0x1+0x7*-0xa1+0x29)];}function Tb(_0x4a9358,_0x36a651,_0x2aab54){this['array'][_0x4a9358]=_0x36a651[_0x2aab54],this['array'][_0x4a9358+(0x26a4+0x1a3*-0x15+-0x444)]=_0x36a651[_0x2aab54+(-0x1b46+0xba*-0x1b+0x23*0x157)],this['array'][_0x4a9358+(-0x3*0x9eb+0x496+0x192d)]=_0x36a651[_0x2aab54+(0x1*-0x4c1+0x1ccd+-0x16a*0x11)];}function Ab(_0x1f17c1,_0x580645,_0x228516){this['array'][_0x1f17c1]=_0x580645[_0x228516],this['array'][_0x1f17c1+(0x12f9*0x1+0x171a+0x703*-0x6)]=_0x580645[_0x228516+(-0x6*-0x624+0x1977+-0x3e4e)],this['array'][_0x1f17c1+(0xf81+-0x1069+0xea)]=_0x580645[_0x228516+(-0xf52+-0xabb*0x3+0x2f85)],this['array'][_0x1f17c1+(-0x692*0x5+-0x192d+0x1d05*0x2)]=_0x580645[_0x228516+(-0x1ed9*-0x1+-0x2*0x653+-0x1230)];}function Eb(_0x542ea3,_0x54571e,_0x452600){_0x54571e[_0x452600]=this['array'][_0x542ea3];}function Cb(_0x4cfad9,_0x2b2eb3,_0x144baa){_0x2b2eb3[_0x144baa]=this['array'][_0x4cfad9],_0x2b2eb3[_0x144baa+(0xab*0xb+-0x4*0x241+0x1ac)]=this['array'][_0x4cfad9+(-0xe5*-0xd+0x1523+-0x20c3*0x1)];}function Mb(_0x56eb63,_0x5e6e6e,_0xaaa692){_0x5e6e6e[_0xaaa692]=this['array'][_0x56eb63],_0x5e6e6e[_0xaaa692+(0x1e5d+-0x2*-0x922+-0x10*0x30a)]=this['array'][_0x56eb63+(0x34*-0x3a+0x382*0x1+-0x1*-0x847)],_0x5e6e6e[_0xaaa692+(0x6*-0x10f+0xa19+-0x3bd)]=this['array'][_0x56eb63+(0x1*-0x17f9+-0x18f2+-0x30ed*-0x1)];}function Pb(_0x362b50,_0x14bd6f,_0x399a82){_0x14bd6f[_0x399a82]=this['array'][_0x362b50],_0x14bd6f[_0x399a82+(0x1*0x24af+-0xd01+-0x17ad)]=this['array'][_0x362b50+(0x15*0x175+0x130a+-0x31a2*0x1)],_0x14bd6f[_0x399a82+(0x3*0x4ab+-0x7f1+-0x2*0x307)]=this['array'][_0x362b50+(0x2*-0x607+0x884+0x38c)],_0x14bd6f[_0x399a82+(0xa82+0x539*-0x4+0x3*0x377)]=this['array'][_0x362b50+(0x866*-0x1+0x1*0xcaa+-0x441)];}class Rb{constructor(_0x553dab,_0x11b187,_0x50fff0){switch(this['index']=-0x34b+0x187b+-0x1530,this['numCompone'+'nts']=_0x11b187['numCompone'+'nts'],_0x50fff0['interleave'+'d']?this['array']=new da[_0x11b187['dataType']](_0x553dab,_0x11b187['offset']):this['array']=new da[_0x11b187['dataType']](_0x553dab,_0x11b187['offset'],_0x50fff0['vertexCoun'+'t']*_0x11b187['numCompone'+'nts']),this['stride']=_0x11b187['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x11b187['numCompone'+'nts']){case 0x23*-0x77+0x12cb+-0x285:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case-0x2*0x2b+0x1a3d+-0x19e5:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0x3*-0xb84+-0x9*0xb2+-0x1c47:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case-0x11c1+-0x201e+0x31e3:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x3ccfe4){return this['array'][this['index']+_0x3ccfe4];}['set'](_0x2e75aa,_0x7825a7,_0x592c1a,_0x365fce){}['getToArray'](_0x3cebf6,_0x1b2a37,_0x12ac78){}['setFromArr'+'ay'](_0x1cd774,_0x5c6bd7,_0x3e722b){}}class go{constructor(_0x4ff1ac){this['vertexBuff'+'er']=_0x4ff1ac,this['vertexForm'+'atSize']=_0x4ff1ac['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0xa4840d=this['vertexBuff'+'er']['getFormat']();for(let _0x2a1cc6=-0x21a+0x1b81+-0x1967;_0x2a1cc6<_0xa4840d['elements']['length'];_0x2a1cc6++){const _0x346b07=_0xa4840d['elements'][_0x2a1cc6];this['accessors'][_0x2a1cc6]=new Rb(this['buffer'],_0x346b07,_0xa4840d),this['element'][_0x346b07['name']]=this['accessors'][_0x2a1cc6];}}['next'](_0x2016e3=0x1208*0x2+-0x1642+0x1*-0xdcd){let _0x28b571=0x1*-0x13ca+-0x1*-0x2581+-0x38b*0x5;const _0xc51f0c=this['accessors'],_0x3251e4=this['accessors']['length'];for(;_0x28b571<_0x3251e4;){const _0x4f0296=_0xc51f0c[_0x28b571++];_0x4f0296['index']+=_0x2016e3*_0x4f0296['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x491b2f,_0x1a67ad,_0x57027d){const _0x16a842=this['element'][_0x491b2f];if(_0x16a842){_0x57027d>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x57027d+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x57027d=this['vertexBuff'+'er']['numVertice'+'s']);const _0x1de61d=_0x16a842['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x3c38c7=-0x10cc+0x1c5f+0xb93*-0x1;for(let _0xc97af3=-0x11*-0x104+0x186e+-0x29b2;_0xc97af3<_0x57027d;_0xc97af3++)_0x16a842['setFromArr'+'ay'](_0x3c38c7,_0x1a67ad,_0xc97af3*_0x1de61d),_0x3c38c7+=_0x16a842['stride'];}else{if(_0x1a67ad['length']>_0x57027d*_0x1de61d){const _0x2a33f6=_0x57027d*_0x1de61d;if(ArrayBuffer['isView'](_0x1a67ad))_0x1a67ad=_0x1a67ad['subarray'](-0x1*-0x11e5+0x5e2*-0x4+-0x25*-0x27,_0x2a33f6),_0x16a842['array']['set'](_0x1a67ad);else{for(let _0x4db28a=0x1834+-0x50f+-0x1*0x1325;_0x4db28a<_0x2a33f6;_0x4db28a++)_0x16a842['array'][_0x4db28a]=_0x1a67ad[_0x4db28a];}}else _0x16a842['array']['set'](_0x1a67ad);}}}['readData'](_0x46d130,_0x36b94e){const _0x487013=this['element'][_0x46d130];let _0x136258=-0x166f+0x20d7+-0x2*0x534;if(_0x487013){_0x136258=this['vertexBuff'+'er']['numVertice'+'s'];let _0x24422b;const _0x5815c9=_0x487013['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x36b94e)&&(_0x36b94e['length']=-0xc*0x238+-0x2*-0xafd+-0xa*-0x77),_0x487013['index']=-0x4*-0x92b+-0x7+-0x24a5;let _0x37e257=-0x1fdd+-0x139*0x7+0x286c;for(_0x24422b=0x1d09*-0x1+0x2564*-0x1+0x13*0x37f;_0x24422b<_0x136258;_0x24422b++)_0x487013['getToArray'](_0x37e257,_0x36b94e,_0x24422b*_0x5815c9),_0x37e257+=_0x487013['stride'];}else{if(ArrayBuffer['isView'](_0x36b94e))_0x36b94e['set'](_0x487013['array']);else{_0x36b94e['length']=0x26b9+0x45*0x2f+-0x3364;const _0x3709be=_0x136258*_0x5815c9;for(_0x24422b=0xfce*0x1+0x569+-0x1537*0x1;_0x24422b<_0x3709be;_0x24422b++)_0x36b94e[_0x24422b]=_0x487013['array'][_0x24422b];}}}return _0x136258;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(0x3a1+-0x22df*0x1+-0x1f3f*-0x1);class Db{constructor(_0x3e5414,_0x198b6d){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x198b6d&&(this['key']=_0x198b6d['keyCode'],this['element']=_0x198b6d['target'],this['event']=_0x198b6d);}}const Sl=new Db();function fd(_0x371133){return Sl['key']=_0x371133['keyCode'],Sl['element']=_0x371133['target'],Sl['event']=_0x371133,Sl;}function vl(_0x224f2f){return typeof _0x224f2f=='string'?_0x224f2f['toUpperCas'+'e']()['charCodeAt'](-0x1da2+0x135b+-0xa47*-0x1):_0x224f2f;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x3b30a7,_0x531502={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x3b30a7&&this['attach'](_0x3b30a7),this['preventDef'+'ault']=_0x531502['preventDef'+'ault']||!(-0x971*0x1+-0x19cf+0x5f*0x5f),this['stopPropag'+'ation']=_0x531502['stopPropag'+'ation']||!(-0x676+0x3*0xc6d+0x4*-0x7b4));}['attach'](_0x3149cf){this['_element']&&this['detach'](),this['_element']=_0x3149cf,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0xe4b+-0x12b3+0x469*0x1)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x17ce+-0x18c3+0x3092)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x711+0x29c*0x3+-0x1*0xee4)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x8d0+-0x4*-0x471+-0x8f3)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x1c90+-0xccf*0x1+0x1*0x2960));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1*0xc37+0xdc3+0x3d*-0x6d)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x236b+-0x82f+-0x1b3b));}['toKeyIdent'+'ifier'](_0x3e4702){_0x3e4702=vl(_0x3e4702);const _0x4ec934=Lb[_0x3e4702['toString']()];if(_0x4ec934)return _0x4ec934;let _0x356d6e=_0x3e4702['toString'](0xf85+-0xefc+0xb*-0xb)['toUpperCas'+'e']();const _0x4208a4=_0x356d6e['length'];for(let _0xd21b39=0x60*0x18+0x7a5+-0x10a5*0x1;_0xd21b39<-0x14ba+0xfb*0xf+0x609-_0x4208a4;_0xd21b39++)_0x356d6e='0'+_0x356d6e;return'U+'+_0x356d6e;}['_handleKey'+'Down'](_0x4c097a){const _0x119c99=_0x4c097a['keyCode']||_0x4c097a['charCode'];if(_0x119c99===void(-0x1*0x13c+-0x7c4+0x900))return;const _0x3bbf38=this['toKeyIdent'+'ifier'](_0x119c99);this['_keymap'][_0x3bbf38]=!(-0x16f4+0x95a+0xd9a),this['fire']('keydown',fd(_0x4c097a)),this['preventDef'+'ault']&&_0x4c097a['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x4c097a['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x2530aa){const _0x6a41e0=_0x2530aa['keyCode']||_0x2530aa['charCode'];if(_0x6a41e0===void(0x1b7*0x5+0xd27*0x1+0x6*-0x39f))return;const _0x1ed1b6=this['toKeyIdent'+'ifier'](_0x6a41e0);delete this['_keymap'][_0x1ed1b6],this['fire']('keyup',fd(_0x2530aa)),this['preventDef'+'ault']&&_0x2530aa['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x2530aa['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x25251c){this['fire']('keypress',fd(_0x25251c)),this['preventDef'+'ault']&&_0x25251c['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x25251c['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x2e25db in this['_lastmap'])delete this['_lastmap'][_0x2e25db];for(const _0x2b420f in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x2b420f)&&(this['_lastmap'][_0x2b420f]=this['_keymap'][_0x2b420f]);}['isPressed'](_0x54b809){const _0x3d033a=vl(_0x54b809),_0x2c74e9=this['toKeyIdent'+'ifier'](_0x3d033a);return!!this['_keymap'][_0x2c74e9];}['wasPressed'](_0x5665c7){const _0x4fe683=vl(_0x5665c7),_0x18eddd=this['toKeyIdent'+'ifier'](_0x4fe683);return!!this['_keymap'][_0x18eddd]&&!this['_lastmap'][_0x18eddd];}['wasRelease'+'d'](_0x2c413b){const _0x43007b=vl(_0x2c413b),_0x3e9e30=this['toKeyIdent'+'ifier'](_0x43007b);return!this['_keymap'][_0x3e9e30]&&!!this['_lastmap'][_0x3e9e30];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x34f260,_0x58e19b){c(this,'x',0x283*-0x5+0x1*-0xabd+-0x7c4*-0x3),c(this,'y',0x128f+-0x3*-0x53+-0x1388),c(this,'dx',-0xfff+-0x17be+0x27bd),c(this,'dy',-0x1*-0x305+0x26b5+-0x29ba),c(this,'button',Ib),c(this,'wheelDelta',0x1*-0xcc5+-0x703*-0x1+-0xb*-0x86),c(this,'element'),c(this,'ctrlKey',!(-0x1*-0x709+-0x106a+-0x4b1*-0x2)),c(this,'altKey',!(0x15*-0xa3+0x22*-0x6a+-0x3ec*-0x7)),c(this,'shiftKey',!(-0xcf6+-0xdba+-0x1ab1*-0x1)),c(this,'metaKey',!(-0x2*0x565+-0x2*-0x10a2+0x1679*-0x1)),c(this,'event');let _0x20e88d={'x':0x0,'y':0x0};if(_0x58e19b){if(_0x58e19b instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x20e88d=_0x34f260['_getTarget'+'Coords'](_0x58e19b);}else _0x58e19b={};if(_0x20e88d)this['x']=_0x20e88d['x'],this['y']=_0x20e88d['y'];else{if(Pu())this['x']=0x3*0x24+0x7*-0x36e+0xbcb*0x2,this['y']=-0xf*0x199+0x199f+-0x1a8;else return;}_0x58e19b['type']==='wheel'&&(_0x58e19b['deltaY']>-0x321+0x241*0x9+-0x1128*0x1?this['wheelDelta']=-0xe3d+0x2198+-0x2*0x9ad:_0x58e19b['deltaY']<-0x1*-0x121c+-0x12e0*-0x2+0x44c*-0xd&&(this['wheelDelta']=-(0x8b*0x36+-0x1f37+0x1e6))),Pu()?(this['dx']=_0x58e19b['movementX']||_0x58e19b['webkitMove'+'mentX']||_0x58e19b['mozMovemen'+'tX']||-0x1*-0xffd+0x219*0xd+-0x2b42,this['dy']=_0x58e19b['movementY']||_0x58e19b['webkitMove'+'mentY']||_0x58e19b['mozMovemen'+'tY']||0x139a*-0x1+-0x1490+0x2*0x1415):(this['dx']=this['x']-_0x34f260['_lastX'],this['dy']=this['y']-_0x34f260['_lastY']),(_0x58e19b['type']==='mousedown'||_0x58e19b['type']==='mouseup')&&(this['button']=_0x58e19b['button']),this['buttons']=_0x34f260['_buttons']['slice'](-0x1fec+-0x25fd+0x1*0x45e9),this['element']=_0x58e19b['target'],this['ctrlKey']=_0x58e19b['ctrlKey']??!(-0x4a*-0x7f+0xac2+-0x2f77),this['altKey']=_0x58e19b['altKey']??!(-0x19fa+0x323*-0x1+0x2*0xe8f),this['shiftKey']=_0x58e19b['shiftKey']??!(0x1f5*-0xd+0x1*0x77+0x18fb),this['metaKey']=_0x58e19b['metaKey']??!(-0x2284+0x166e+0x26b*0x5),this['event']=_0x58e19b;}}class bl extends ce{constructor(_0xc1a969){super(),c(this,'_lastX',0x1cd*0xa+0x2363+0x1*-0x3565),c(this,'_lastY',0x184*-0x3+-0x1bd4+-0x1030*-0x2),c(this,'_buttons',[!(0xf84+0x2513*0x1+-0x3496),!(0x1ad1+-0x4*0x6a6+0x7*-0x8),!(-0xff8+-0x17*0x7f+-0x2*-0xdb1)]),c(this,'_lastbutto'+'ns',[!(0x3ad*0x2+0x1*-0x719+-0x2*0x20),!(0x41a+-0x3*0x89e+0x15c1*0x1),!(-0x1*-0x2554+-0x1c55*0x1+-0x8fe*0x1)]),c(this,'_target',null),c(this,'_attached',!(0x20a1*0x1+0x116d+-0x320d*0x1)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x470404=>{_0x470404['preventDef'+'ault']();},this['attach'](_0xc1a969));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x1d6762){if(this['_target']=_0x1d6762,this['_attached'])return;this['_attached']=!(-0x15e1+0x2*-0xd37+0x304f);const _0x12bb92={'passive':!(-0x22ed*-0x1+0x1*-0x2033+-0x2b9)},_0x6032ff=ye['passiveEve'+'nts']?_0x12bb92:!(0x896*0x2+0x1ce8+-0x937*0x5);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x6032ff),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x6032ff),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x6032ff),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x6032ff);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0xddd+0x1912+-0xb34),this['_target']=null;const _0x1bb219={'passive':!(0x5d*-0x8+0x3b8+0x45*-0x3)},_0x1a485e=ye['passiveEve'+'nts']?_0x1bb219:!(-0x148d+0x3*-0x21d+0x1ae5);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x1a485e),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x1a485e),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x1a485e),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x1a485e);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x1bc542,_0x57af0f){if(!document['body']['requestPoi'+'nterLock']){_0x57af0f&&_0x57af0f();return;}const _0xab89bd=()=>{_0x1bc542(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xab89bd);},_0x17b8dd=()=>{_0x57af0f(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x17b8dd);};_0x1bc542&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xab89bd,!(-0xc41*0x3+0x153b+0xf89)),_0x57af0f&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x17b8dd,!(-0x4a5+-0x258b+0x2a31)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x3a326a){if(!document['exitPointe'+'rLock'])return;const _0x5b9758=()=>{_0x3a326a(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x5b9758);};_0x3a326a&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x5b9758,!(-0x186c+0xcc9*-0x2+0x31ff)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x1*0x75a+-0x1faf+-0x1*-0x1855]=this['_buttons'][-0x169b+-0x186b+0x2f06],this['_lastbutto'+'ns'][0x876+-0x10f1+-0xb5*-0xc]=this['_buttons'][0x9f9+0x167f+-0x1*0x2077],this['_lastbutto'+'ns'][-0x1424+-0x11a1+0x25c7]=this['_buttons'][-0x39a*-0x1+-0x25*0x9e+0x133e];}['isPressed'](_0x5b0bdb){return this['_buttons'][_0x5b0bdb];}['wasPressed'](_0x2ad3b9){return this['_buttons'][_0x2ad3b9]&&!this['_lastbutto'+'ns'][_0x2ad3b9];}['wasRelease'+'d'](_0x16152a){return!this['_buttons'][_0x16152a]&&this['_lastbutto'+'ns'][_0x16152a];}['_handleUp'](_0x2f3017){this['_buttons'][_0x2f3017['button']]=!(-0x1ae3*-0x1+0x1d95+-0x3877);const _0x12a22d=new ta(this,_0x2f3017);_0x12a22d['event']&&this['fire'](Lm,_0x12a22d);}['_handleDow'+'n'](_0x258296){this['_buttons'][_0x258296['button']]=!(0x21c1+-0x501+0x10*-0x1cc);const _0x2ff6a4=new ta(this,_0x258296);_0x2ff6a4['event']&&this['fire'](Im,_0x2ff6a4);}['_handleMov'+'e'](_0x23d9cc){const _0x4f1173=new ta(this,_0x23d9cc);_0x4f1173['event']&&(this['fire'](Dm,_0x4f1173),this['_lastX']=_0x4f1173['x'],this['_lastY']=_0x4f1173['y']);}['_handleWhe'+'el'](_0x32473a){const _0x46a631=new ta(this,_0x32473a);_0x46a631['event']&&this['fire'](Mu,_0x46a631);}['_getTarget'+'Coords'](_0x223bc1){const _0x5dd870=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x2c7df5=Math['floor'](_0x5dd870['left']),_0x54bafe=Math['floor'](_0x5dd870['top']);return _0x223bc1['clientX']<_0x2c7df5||_0x223bc1['clientX']>=_0x2c7df5+this['_target']['clientWidt'+'h']||_0x223bc1['clientY']<_0x54bafe||_0x223bc1['clientY']>=_0x54bafe+this['_target']['clientHeig'+'ht']?null:{'x':_0x223bc1['clientX']-_0x2c7df5,'y':_0x223bc1['clientY']-_0x54bafe};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x396690,_0x158ff8,_0x331d33){return typeof _0x158ff8=='function'&&(_0x331d33=_0x158ff8,_0x158ff8={}),this['request']('GET',_0x396690,_0x158ff8,_0x331d33);}['post'](_0x15087b,_0xe9356f,_0xc4bfa6,_0x36f056){return typeof _0xc4bfa6=='function'&&(_0x36f056=_0xc4bfa6,_0xc4bfa6={}),_0xc4bfa6['postdata']=_0xe9356f,this['request']('POST',_0x15087b,_0xc4bfa6,_0x36f056);}['put'](_0x5e637c,_0x34434c,_0x500920,_0x29aeef){return typeof _0x500920=='function'&&(_0x29aeef=_0x500920,_0x500920={}),_0x500920['postdata']=_0x34434c,this['request']('PUT',_0x5e637c,_0x500920,_0x29aeef);}['del'](_0x22b054,_0x58456f,_0x3b8bc4){return typeof _0x58456f=='function'&&(_0x3b8bc4=_0x58456f,_0x58456f={}),this['request']('DELETE',_0x22b054,_0x58456f,_0x3b8bc4);}['request'](_0x312865,_0x57302e,_0x447901,_0x23c0fe){let _0x3b854b,_0x42e2cb,_0x44a9ea,_0x83a87d=!(0x1*0x23cf+-0x992+0x1a3c*-0x1);if(typeof _0x447901=='function'&&(_0x23c0fe=_0x447901,_0x447901={}),_0x447901['retry']&&(_0x447901=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x447901)),_0x447901['callback']=_0x23c0fe,_0x447901['async']==null&&(_0x447901['async']=!(-0x169b+0x153d+-0xa*-0x23)),_0x447901['headers']==null&&(_0x447901['headers']={}),_0x447901['postdata']!=null){if(_0x447901['postdata']instanceof Document)_0x44a9ea=_0x447901['postdata'];else{if(_0x447901['postdata']instanceof FormData)_0x44a9ea=_0x447901['postdata'];else{if(_0x447901['postdata']instanceof Object){let _0x2ab557=_0x447901['headers']['Content-Ty'+'pe'];switch(_0x2ab557===void(-0x1*0x521+-0x241d+0x1*0x293e)&&(_0x447901['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x2ab557=_0x447901['headers']['Content-Ty'+'pe']),_0x2ab557){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x44a9ea='';let _0x34a093=!(0xb24*-0x2+-0x1*0x11db+0xf*0x2ad);for(const _0x4493f9 in _0x447901['postdata'])if(_0x447901['postdata']['hasOwnProp'+'erty'](_0x4493f9)){_0x34a093?_0x34a093=!(0xd*-0x2af+0x120a*-0x2+-0xbd4*-0x6):_0x44a9ea+='&';const _0x3a7497=encodeURIComponent(_0x4493f9),_0x3101d2=encodeURIComponent(_0x447901['postdata'][_0x4493f9]);_0x44a9ea+=_0x3a7497+'='+_0x3101d2;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x2ab557==null&&(_0x447901['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x44a9ea=JSON['stringify'](_0x447901['postdata']);break;}}else _0x44a9ea=_0x447901['postdata'];}}}if(_0x447901['cache']===!(0x232*0x11+-0x1ece*0x1+-0x683)){const _0x4e4d5a=ne();_0x3b854b=new sd(_0x57302e),_0x3b854b['query']?_0x3b854b['query']=_0x3b854b['query']+'&ts='+_0x4e4d5a:_0x3b854b['query']='ts='+_0x4e4d5a,_0x57302e=_0x3b854b['toString']();}_0x447901['query']&&(_0x3b854b=new sd(_0x57302e),_0x42e2cb=vh(_0x3b854b['getQuery'](),_0x447901['query']),_0x3b854b['setQuery'](_0x42e2cb),_0x57302e=_0x3b854b['toString']());const _0x338e51=new XMLHttpRequest();_0x338e51['open'](_0x312865,_0x57302e,_0x447901['async']),_0x338e51['withCreden'+'tials']=_0x447901['withCreden'+'tials']!==void(-0x18e5+-0x1*-0x47+-0x17*-0x112)?_0x447901['withCreden'+'tials']:!(-0x4e8+-0x1d7c+0x2265),_0x338e51['responseTy'+'pe']=_0x447901['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x57302e);for(const _0x928810 in _0x447901['headers'])_0x447901['headers']['hasOwnProp'+'erty'](_0x928810)&&_0x338e51['setRequest'+'Header'](_0x928810,_0x447901['headers'][_0x928810]);_0x338e51['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x312865,_0x57302e,_0x447901,_0x338e51);},_0x338e51['onerror']=()=>{this['_onError'](_0x312865,_0x57302e,_0x447901,_0x338e51),_0x83a87d=!(0x9b4+0x1d86*0x1+-0x1*0x273a);};try{_0x338e51['send'](_0x44a9ea);}catch(_0x4fb9cc){_0x83a87d||_0x447901['error'](_0x338e51['status'],_0x338e51,_0x4fb9cc);}return _0x338e51;}['_guessResp'+'onseType'](_0x384575){const _0x49dfe5=new sd(_0x384575),_0x592283=fe['getExtensi'+'on'](_0x49dfe5['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x592283)>=-0x701*0x1+0x5*-0x649+0x1*0x266e?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x592283==='.json'?be['ResponseTy'+'pe']['JSON']:_0x592283==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x256feb){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x256feb)>=-0x257f+-0x7*0x449+0x437e;}['_isBinaryR'+'esponseTyp'+'e'](_0xe1249a){return _0xe1249a===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0xe1249a===be['ResponseTy'+'pe']['BLOB']||_0xe1249a===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5783ae,_0x348054,_0x3789fe,_0x58266b){if(_0x58266b['readyState']===-0xc07*0x2+0x1051*-0x1+0x5c5*0x7)switch(_0x58266b['status']){case 0x1c8+0x1807+-0x19cf:{_0x58266b['responseUR'+'L']&&_0x58266b['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5783ae,_0x348054,_0x3789fe,_0x58266b):this['_onError'](_0x5783ae,_0x348054,_0x3789fe,_0x58266b);break;}case 0x2697+-0x94e*-0x4+-0x4b07:case 0x2167+0x1f53+-0x3ff1*0x1:case 0x1*0x218f+-0x1*-0x997+0x2a58*-0x1:case 0xa06+-0x23cd+-0xb1*-0x27:{this['_onSuccess'](_0x5783ae,_0x348054,_0x3789fe,_0x58266b);break;}default:{this['_onError'](_0x5783ae,_0x348054,_0x3789fe,_0x58266b);break;}}}['_onSuccess'](_0xa8b1c7,_0x219c16,_0x54f325,_0xab1afe){let _0x14ee77,_0x4711a2;const _0x25b534=_0xab1afe['getRespons'+'eHeader']('Content-Ty'+'pe');_0x25b534&&(_0x4711a2=_0x25b534['split'](';')[0x1*-0xbc6+0xb*-0x370+0x3196]['trim']());try{this['_isBinaryC'+'ontentType'](_0x4711a2)||this['_isBinaryR'+'esponseTyp'+'e'](_0xab1afe['responseTy'+'pe'])?_0x14ee77=_0xab1afe['response']:_0x4711a2===be['ContentTyp'+'e']['JSON']||_0x219c16['split']('?')[-0x19f6+-0x13*0x71+0x1*0x2259]['endsWith']('.json')?_0x14ee77=JSON['parse'](_0xab1afe['responseTe'+'xt']):_0xab1afe['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x4711a2===be['ContentTyp'+'e']['XML']?_0x14ee77=_0xab1afe['responseXM'+'L']:_0x14ee77=_0xab1afe['responseTe'+'xt'],_0x54f325['callback'](null,_0x14ee77);}catch(_0x20746b){_0x54f325['callback'](_0x20746b);}}['_onError'](_0x231568,_0x161a0e,_0x3d5f93,_0x827052){if(!_0x3d5f93['retrying']){if(_0x3d5f93['retry']&&_0x3d5f93['retries']<_0x3d5f93['maxRetries']){_0x3d5f93['retries']++,_0x3d5f93['retrying']=!(-0x12da*-0x1+0x1710+-0x29ea);const _0xeb690e=N['clamp'](Math['pow'](0x306+0xbf1+-0xef5,_0x3d5f93['retries'])*be['retryDelay'],0x4*-0x5a1+0x1*0x111b+0x569*0x1,_0x3d5f93['maxRetryDe'+'lay']||-0x1105*-0x2+0x1987*0x1+0x115*-0x25);console['log'](_0x231568+':\x20'+_0x161a0e+'\x20-\x20Error\x20'+_0x827052['status']+('.\x20Retrying'+'\x20in\x20')+_0xeb690e+'\x20ms'),setTimeout(()=>{_0x3d5f93['retrying']=!(-0x1*-0x1879+0x19a7+-0x321f),this['request'](_0x231568,_0x161a0e,_0x3d5f93,_0x3d5f93['callback']);},_0xeb690e);}else _0x3d5f93['callback'](_0x827052['status']===-0x6d7*0x5+-0x121*0x7+-0x27a*-0x11?'Network\x20er'+'ror':_0x827052['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',-0x2668+0x2081+0x64b);let ls=be;const $e=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x40db2a,_0x2e8755,_0x447be8={}){if(this['volume']=_0x447be8['volume']??-0x379*-0x8+0x21*-0x57+-0x1090,this['loop']=_0x447be8['loop']??!(0x1a52+-0x36e*-0x6+-0x23*0x157),this['pitch']=_0x447be8['pitch']??-0xddb+0xcde+0x2*0x7f,this['sound']=_0x2e8755,this['paused']=!(0x21e*-0x1+-0x1385*-0x2+-0x24eb),this['suspended']=!(0x7*-0x257+0x299*0x2+0xb30),this['manager']=_0x40db2a,this['source']=null,Li()){this['startTime']=-0x1d64+-0x1e07*-0x1+-0x1*0xa3,this['startOffse'+'t']=0x1c06+0x175*-0x7+-0x11d3;const _0x31ddee=_0x40db2a['context'];this['gain']=_0x31ddee['createGain']();}else _0x2e8755['audio']&&(this['source']=_0x2e8755['audio']['cloneNode'](!(0x171d+0x911+-0x202d)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x30ab25){this['loop']=_0x30ab25,this['source']&&(this['source']['loop']=_0x30ab25);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x5*-0x339+0x17b2+-0x795),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0x1*0xd75+-0x68f*0x1+-0x1*-0x1405),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x1528+-0xb1e+0x2046,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(0x2*0x569+-0x17c*-0x8+-0x16b2),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](-0x1308+0x3*0x7e3+-0x4a1),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x1fe6+-0x2*0x365+0x26b0,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0x2*0x66f+0x18c8+-0x25a5));}['stop'](){this['source']&&(this['source']['stop'](-0x1f*-0x13c+-0x1b65+-0x1*0xadf),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x187119){_0x187119=N['clamp'](_0x187119,0x1e31+0x21b5+-0x2*0x1ff3,0x1*-0x19e2+0x17*0x6c+0x102f),this['volume']=_0x187119,this['gain']&&(this['gain']['gain']['value']=_0x187119*this['manager']['volume']);}['setPitch'](_0x42fb26){this['pitch']=_0x42fb26,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x42fb26);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x1*0x935+-0x8c9+0x11fe;}['_createSou'+'rce'](){const _0x4981df=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x4981df['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x4981df['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(0xa0*0x3c+-0x2301+-0x27e),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(0x1*-0x1d23+0x3*0x577+-0xe*-0xe9),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x1f79+-0x13f5+-0xb*-0x4ad),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x4ee080){_0x4ee080=N['clamp'](_0x4ee080,-0x1533+0x7*-0x3d3+0x2ff8,-0x92f*0x2+-0x1062+0x22c1),this['volume']=_0x4ee080,this['source']&&(this['source']['volume']=_0x4ee080*this['manager']['volume']);},'setPitch':function(_0x58033c){this['pitch']=_0x58033c,this['source']&&(this['source']['playbackRa'+'te']=_0x58033c);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:0x5bc+0xa51+-0x1*0x100d;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=-0x4029+-0x1100+-0x1*-0x7839;class Ru extends kh{constructor(_0x26677b,_0x1a04f5,_0xc864a8){super(_0x26677b,_0x1a04f5,_0xc864a8),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x26677b['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x7*-0x405+-0x2c9+-0x1959,this['rollOffFac'+'tor']=-0x47c+-0x6*0x29e+-0x6bb*-0x3,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x4de9ee){this['position']['copy'](_0x4de9ee);const _0x382d0c=this['panner'];'positionX'in _0x382d0c?(_0x382d0c['positionX']['value']=_0x4de9ee['x'],_0x382d0c['positionY']['value']=_0x4de9ee['y'],_0x382d0c['positionZ']['value']=_0x4de9ee['z']):_0x382d0c['setPositio'+'n']&&_0x382d0c['setPositio'+'n'](_0x4de9ee['x'],_0x4de9ee['y'],_0x4de9ee['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x278b6f){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x278b6f);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x1d8ddd){this['panner']['maxDistanc'+'e']=_0x1d8ddd;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x3e5585){this['panner']['refDistanc'+'e']=_0x3e5585;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x394d13){this['panner']['rolloffFac'+'tor']=_0x394d13;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x48affd){this['panner']['distanceMo'+'del']=_0x48affd;}['_createSou'+'rce'](){const _0x47593c=this['manager']['context'];this['source']=_0x47593c['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x47593c['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x4e7126,_0x70018b,_0x360a85,_0x56c15d,_0x14d5fe,_0x4ff3e3){l=l['sub2'](_0x4e7126,_0x70018b);const _0x3b36f3=l['length']();if(_0x3b36f3<_0x360a85)return 0xd63+-0x1*0x7e1+-0x1*0x581;if(_0x3b36f3>_0x56c15d)return 0x155*0xb+-0x7*0x4cd+0x97a*0x2;let _0x3777e4=0x1*-0x16bf+0x1c3c+-0x57d;return _0x4ff3e3===cc?_0x3777e4=-0x1604+0x1a*0x116+0x25*-0x2b-_0x14d5fe*(_0x3b36f3-_0x360a85)/(_0x56c15d-_0x360a85):_0x4ff3e3===Ff?_0x3777e4=_0x360a85/(_0x360a85+_0x14d5fe*(_0x3b36f3-_0x360a85)):_0x4ff3e3===cy&&(_0x3777e4=Math['pow'](_0x3b36f3/_0x360a85,-_0x14d5fe)),N['clamp'](_0x3777e4,-0xb*-0xb1+0x2bd+-0xa58,0xd2+0x141+-0xa*0x35);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x229005){if(this['position']['copy'](_0x229005),this['source']){const _0x426ab5=this['manager']['listener']['getPositio'+'n'](),_0x55ea2f=t(_0x426ab5,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x5bd478=this['getVolume']();this['source']['volume']=_0x5bd478*_0x55ea2f;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x338770){this['maxDistanc'+'e']=_0x338770;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0xe50ae4){this['minDistanc'+'e']=_0xe50ae4;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x46a9b3){this['rollOffFac'+'tor']=_0x46a9b3;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x156612){this['distanceMo'+'del']=_0x156612;}});}class Ob{constructor(_0x31be2d){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x31be2d;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x1daca9){this['position']['copy'](_0x1daca9);const _0x542883=this['listener'];_0x542883&&('positionX'in _0x542883?(_0x542883['positionX']['value']=_0x1daca9['x'],_0x542883['positionY']['value']=_0x1daca9['y'],_0x542883['positionZ']['value']=_0x1daca9['z']):_0x542883['setPositio'+'n']&&_0x542883['setPositio'+'n'](_0x1daca9['x'],_0x1daca9['y'],_0x1daca9['z']));}['setOrienta'+'tion'](_0x570d0e){this['orientatio'+'n']['copy'](_0x570d0e);const _0x2cb50d=this['listener'];if(_0x2cb50d){const _0x394e30=_0x570d0e['data'];'forwardX'in _0x2cb50d?(_0x2cb50d['forwardX']['value']=-_0x394e30[0x1dd0+-0x1311+-0xab7],_0x2cb50d['forwardY']['value']=-_0x394e30[0x2189*0x1+-0x473+0xc9*-0x25],_0x2cb50d['forwardZ']['value']=-_0x394e30[0x31f+0x135*0x1d+-0x186*0x19],_0x2cb50d['upX']['value']=_0x394e30[-0xdd*-0x22+0x7*-0x35c+0x5d2*-0x1],_0x2cb50d['upY']['value']=_0x394e30[-0x240f+-0xc3d+0x24d*0x15],_0x2cb50d['upZ']['value']=_0x394e30[0x25a*-0x1+-0x7b9+-0x205*-0x5]):_0x2cb50d['setOrienta'+'tion']&&_0x2cb50d['setOrienta'+'tion'](-_0x394e30[0x57f+0xfb6+-0x8b*0x27],-_0x394e30[-0x1d91+0x1608+0x792],-_0x394e30[-0x56a+0x45c+0x118*0x1],_0x394e30[-0x6*-0x3bc+0x1*0x2fa+-0x195e],_0x394e30[-0x950+-0x1a44+0x1*0x2399],_0x394e30[0x2671+-0x17*0x102+-0xf3d]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x849e1b=this['_manager']['context'];return _0x849e1b?_0x849e1b['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x5*0x7b5+0xeba+-0x3542),this['listener']=new Ob(this),this['_volume']=-0x2*0x4d3+0xa*-0x363+0x359*0xd;}set['volume'](_0x233098){_0x233098=N['clamp'](_0x233098,-0x2*-0x44c+-0x1*0xe25+0x58d,-0x1ffa*-0x1+0x22c2*-0x1+0x17*0x1f),this['_volume']=_0x233098,this['fire']('volumechan'+'ge',_0x233098);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x1149*0x2+0x79e+-0x2a30),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x2*-0x413+0x222*-0x6+-0x1*-0x14f3),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x40640f;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x40640f=this['_context'])==null||_0x40640f['close'](),this['_context']=null);}['playSound'](_0xbe74a4,_0x1bc6e3={}){let _0x476643=null;return kh&&(_0x476643=new kh(this,_0xbe74a4,_0x1bc6e3),_0x476643['play']()),_0x476643;}['playSound3'+'d'](_0x25d1f8,_0x2e81ef,_0x27c816={}){let _0x129362=null;return Ru&&(_0x129362=new Ru(this,_0x25d1f8,_0x27c816),_0x129362['setPositio'+'n'](_0x2e81ef),_0x27c816['volume']&&_0x129362['setVolume'](_0x27c816['volume']),_0x27c816['loop']&&_0x129362['setLoop'](_0x27c816['loop']),_0x27c816['maxDistanc'+'e']&&_0x129362['setMaxDist'+'ance'](_0x27c816['maxDistanc'+'e']),_0x27c816['minDistanc'+'e']&&_0x129362['setMinDist'+'ance'](_0x27c816['minDistanc'+'e']),_0x27c816['rollOffFac'+'tor']&&_0x129362['setRollOff'+'Factor'](_0x27c816['rollOffFac'+'tor']),_0x27c816['distanceMo'+'del']&&_0x129362['setDistanc'+'eModel'](_0x27c816['distanceMo'+'del']),_0x129362['play']()),_0x129362;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x380090=this['_context']['createBuff'+'erSource']();_0x380090['buffer']=this['_context']['createBuff'+'er'](-0x1cd2+-0x159c+-0x1*-0x326f,-0x1c24+0x24d8+0x1*-0x8b3,this['_context']['sampleRate']),_0x380090['connect'](this['_context']['destinatio'+'n']),_0x380090['start'](0xa5b+0x8f7+0x1*-0x1352),_0x380090['onended']=_0x51838b=>{_0x380090['disconnect'](-0x61d+0x18b5+-0x11*0x118),this['fire']('resume');};},_0x546c43=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x546c43);})['catch'](_0x270e36=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x270e36);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x4ede77=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x4ede77);})['catch'](_0xe352dc=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0xe352dc);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x5b8d06=>{window['addEventLi'+'stener'](_0x5b8d06,this['_unlockHan'+'dlerFunc'],!(0x1*0x644+0x1*-0x25e2+0x1f9f*0x1));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x3d8beb=>{window['removeEven'+'tListener'](_0x3d8beb,this['_unlockHan'+'dlerFunc'],!(0xe1f+-0x2506+0x2dd*0x8));});}}class Bb{constructor(_0x1110dd){c(this,'audio'),c(this,'buffer'),_0x1110dd instanceof Audio?this['audio']=_0x1110dd:this['buffer']=_0x1110dd;}get['duration'](){let _0x12bb4d=-0x1e39+-0x7d7*-0x3+-0x16*-0x4e;return this['buffer']?_0x12bb4d=this['buffer']['duration']:this['audio']&&(_0x12bb4d=this['audio']['duration']),_0x12bb4d||0x1*-0x1492+-0x1*0x1a2e+0xbb*0x40;}}const Pt=0x54d*-0x2+0x20*-0xd+-0x272*-0x5,sa=-0x7c6+-0xeb1*0x2+0x421*0x9,ws=-0xab0+-0x1*-0x541+-0xc7*-0x7;function Rt(_0x2201d9,_0x3b49e0){return _0x2201d9%_0x3b49e0||-0x1de3*-0x1+-0x9d0+-0x1413;}class ss extends ce{constructor(_0x445c4a,_0x484d81,_0x15d578){super(),c(this,'source',null),(this['_manager']=_0x445c4a,this['_volume']=_0x15d578['volume']!==void(0x23bb+0x2490+-0x484b)?N['clamp'](Number(_0x15d578['volume'])||0x11*0x1c4+-0x10*-0xa3+-0x2834,0xd99*0x1+0x3fd+-0x1196,0x1*-0x1d3+0x1*-0x1b78+0x1d4c):-0x2173+-0x1a81+-0x3bf5*-0x1,this['_pitch']=_0x15d578['pitch']!==void(-0xb7*-0x2c+0x128+-0x104e*0x2)?Math['max'](-0x94b+-0x14b*-0xc+-0x3*0x213+0.01,Number(_0x15d578['pitch'])||-0x18c2*0x1+0x26e1+-0xe1f):-0x1e52*-0x1+0x1*0xced+-0x2b3e,this['_loop']=!!(_0x15d578['loop']!==void(0xf2*-0x21+-0x1ed3+0x1*0x3e05)&&_0x15d578['loop']),this['_sound']=_0x484d81,this['_state']=ws,this['_suspended']=!(-0xc1d*0x1+-0x61f+0x123d),this['_suspendEn'+'dEvent']=0x1f64+-0x42*0x42+-0xe60,this['_suspendIn'+'stanceEven'+'ts']=!(-0x96c+0x1d6b+-0x13fe),this['_playWhenL'+'oaded']=!(-0x91a+-0x25cd+0x2ee7),this['_startTime']=Math['max'](0x22d7+-0x1*0x623+-0x1cb4,Number(_0x15d578['startTime'])||0x1716+-0x5f8*-0x2+-0x2306),this['_duration']=Math['max'](-0x1afb*0x1+-0x231c+0x3e17,Number(_0x15d578['duration'])||-0x943+0xd*0x228+0x5*-0x3c1),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x15d578['onPlay'],this['_onPauseCa'+'llback']=_0x15d578['onPause'],this['_onResumeC'+'allback']=_0x15d578['onResume'],this['_onStopCal'+'lback']=_0x15d578['onStop'],this['_onEndCall'+'back']=_0x15d578['onEnd'],Li()?(this['_startedAt']=-0xa05+-0x1*-0x3a1+-0x1*-0x664,this['_currentTi'+'me']=-0x1e*0x20+0x2*-0x132d+-0x27a*-0x11,this['_currentOf'+'fset']=0x17e3+-0x13bb+0x7*-0x98,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*0x2619+-0x4*0x26e+0x1*0x2fd2),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x1*-0x14ff+0x2b2*0x7+0x27dc*-0x1),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x496799){if(!(_0x496799<-0xbb6+0x30d+0x8a9)){if(this['_state']===Pt){const _0x388e5c=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x1509+-0x1afe+0x3007),this['stop'](),this['_startOffs'+'et']=_0x496799,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x388e5c;}else this['_startOffs'+'et']=_0x496799,this['_currentTi'+'me']=_0x496799;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0xf1*0x25+-0x1*0x1344+-0x1*-0x3619:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x16d972){this['_duration']=Math['max'](-0x1da*-0x3+-0x9f5*-0x2+-0x1978,Number(_0x16d972)||0x583+-0xe04+-0x7*-0x137);const _0x42ddb8=this['_state']===Pt;this['stop'](),_0x42ddb8&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x9*0x2f+0x579+-0x3d2;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x15dadb){this['_loop']=!!_0x15dadb,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x11f5ae){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x11f5ae)||0xf56+0x105f+-0x1fb5,-0x2*0xd6f+0x9f2*-0x2+0x2ec2+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x163e14){this['_sound']=_0x163e14,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x28624d){this['_startTime']=Math['max'](0x17c7+-0x21ee+0x17*0x71,Number(_0x28624d)||-0x28+-0x38f+-0x3b7*-0x1);const _0x501770=this['_state']===Pt;this['stop'](),_0x501770&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x4bb87d){_0x4bb87d=N['clamp'](_0x4bb87d,-0x95d+0x6a7*-0x3+0x1d52,-0x2*0x47e+0x1*0xe5d+-0x560),this['_volume']=_0x4bb87d,this['gain']&&(this['gain']['gain']['value']=_0x4bb87d*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x1*0x20bd+-0x2*0x2c9+-0x1b2b){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(0x790+0x52*0x38+-0x1980),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x33*0x37+-0xe*0x1c3+0xdb6),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0xf7f+0x1500+-0x247e),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x1435+-0x7aa+0x1be0):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x51*-0x4b+-0x1d62+0x351d*0x1),!(-0x18b9*0x1+0x2b*0x86+0x238)):(this['_playAudio'+'Immediate'](),!(-0x5*0x3d1+-0x1*0x6bb+0x1*0x19d0));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x47*-0x3d+-0x1a5+0x1291),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x27c4ca=Rt(this['_startOffs'+'et'],this['duration']);_0x27c4ca=Rt(this['_startTime']+_0x27c4ca,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x7c5+0x21cd*0x1+-0x1a08,_0x27c4ca,this['_duration']):this['source']['start'](0x13*-0x70+0x12a4+0x52a*-0x2,_0x27c4ca),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x1ffc*0x1+-0x44*-0x2e+0x13c4,this['_currentOf'+'fset']=_0x27c4ca,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x17e5+0x4dd*-0x7+0x17*0x71),this['_state']!==Pt?!(-0x20*0x43+-0x4d3+0xd34):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x133*0x1+0x1*0x1f8d+-0x20c0),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x262e+0x21e9+-0x4817));}['resume'](){if(this['_state']!==sa)return!(-0x1*0xa51+-0x22c7+0x2d19);let _0x4a698e=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x4a698e=Rt(this['_startOffs'+'et'],this['duration']),_0x4a698e=Rt(this['_startTime']+_0x4a698e,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x3e5+0x8*0x7f+-0x13*0x1,_0x4a698e,this['_duration']):this['source']['start'](-0x198b+0x2363+-0x276*0x4,_0x4a698e),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x4a698e,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x19cf*-0x1+-0xc44*0x1+0x2614),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1*0xedc+-0xf9c+0x2*0x60);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x28e+-0x1696+0x1409),this['_state']===ws)return!(-0x13b1*0x1+-0x1454+0x2806);const _0x73183=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1295*0x1+-0xb*0x1bc+0x25a9,this['_currentTi'+'me']=-0x10fa+0x14e3+-0x3e9,this['_currentOf'+'fset']=0x24d4*-0x1+0x1ed9*-0x1+0x43ad,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x73183&&this['source']&&this['source']['stop'](0x4*-0x6e6+-0x1*0xfc1+0x2b59*0x1),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x1*-0x24d4+0x20e*-0xb+0x2*0x1db7);}['setExterna'+'lNodes'](_0x2ac0b9,_0x34c89b){if(!_0x2ac0b9){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x34c89b||(_0x34c89b=_0x2ac0b9);const _0x4cc7fa=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x2ac0b9&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x4cc7fa),this['_firstNode']=_0x2ac0b9,this['_connector'+'Node']['connect'](_0x2ac0b9)),this['_lastNode']!==_0x34c89b&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x4cc7fa),this['_lastNode']=_0x34c89b,this['_lastNode']['connect'](_0x4cc7fa));}['clearExter'+'nalNodes'](){const _0x989448=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x989448),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x989448);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0xf96d57=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0xf96d57['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0xa6*0x9+0x24b1+0x39*-0xbf),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x64+0x2fc*-0xa+0x1d75):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x1f24+-0x1fe+-0x33d*0x9),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x3*0xa7e+-0x1c7*0x1+0x1db3*-0x1));},'pause':function(){return!this['source']||this['_state']!==Pt?!(-0x2*0xae8+-0x1fcd+0x359e):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1c1b+-0xa3c+-0x8ef*0x2),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x1337*0x1+-0x560*-0x3+0x317));},'resume':function(){return!this['source']||this['_state']!==sa?!(-0xcb1+0x54*0x74+0xcaf*-0x2):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0xdc3+-0x1e9d*0x1+0x10db),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x16f*-0x19+-0x13*0xa1+0xfee*0x3));},'stop':function(){return!this['source']||this['_state']===ws?!(-0xa71*0x3+-0x17d1+0x3725):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1*0x108a+0x35*0x49+0x16e),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0xb83+-0x1d7d+0x2900));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x90e+0x1*-0x26e9+-0x2ff7*-0x1);let _0x36f207=Rt(this['_startOffs'+'et'],this['duration']);_0x36f207=Rt(this['_startTime']+_0x36f207,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x36f207;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0xfa3*0x1+-0x71*0x3f+0xc2d),this['source']=this['_sound']['audio']['cloneNode'](!(0x138*0x2+-0x11*0x65+-0x1*-0x445)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x1e2205){_0x1e2205=N['clamp'](_0x1e2205,0x1070+0x1b1a*-0x1+-0x111*-0xa,0x196c+0x22a1+-0x9*0x6ac),this['_volume']=_0x1e2205,this['source']&&(this['source']['volume']=_0x1e2205*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x580b5b){this['_pitch']=Math['max'](Number(_0x580b5b)||0x13*0x13a+0xf92+-0x26e0,0x1603+0x4f*0xc+-0x19b7+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x17eae0){this['stop'](),this['_sound']=_0x17eae0;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?0x19e3+0x255*0xb+-0x338a:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x190078){_0x190078<0x5b*0x64+0x1bad+-0x3f39||(this['_startOffs'+'et']=_0x190078,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x190078,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0x7*0x773+-0x4153+0x343e;class jn extends ss{constructor(_0x2ea098,_0x784cf7,_0x21adf4={}){super(_0x2ea098,_0x784cf7,_0x21adf4),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x21adf4['position']&&(this['position']=_0x21adf4['position']),this['maxDistanc'+'e']=_0x21adf4['maxDistanc'+'e']!==void(-0x11c3+-0x18d2+0x3df*0xb)?Number(_0x21adf4['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x21adf4['refDistanc'+'e']!==void(-0x1a84+0x28f*-0xb+0x7cf*0x7)?Number(_0x21adf4['refDistanc'+'e']):0xb*-0x221+-0xbc*0x33+-0xf38*-0x4,this['rollOffFac'+'tor']=_0x21adf4['rollOffFac'+'tor']!==void(0x1*-0x25c9+0x1cc8+0x901)?Number(_0x21adf4['rollOffFac'+'tor']):-0x2582+-0x7fc+-0x2d7f*-0x1,this['distanceMo'+'del']=_0x21adf4['distanceMo'+'del']!==void(0x1d23*0x1+0x2402+-0x4125)?_0x21adf4['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x9bf76e){this['_position']['copy'](_0x9bf76e);const _0x4a003c=this['panner'];'positionX'in _0x4a003c?(_0x4a003c['positionX']['value']=_0x9bf76e['x'],_0x4a003c['positionY']['value']=_0x9bf76e['y'],_0x4a003c['positionZ']['value']=_0x9bf76e['z']):_0x4a003c['setPositio'+'n']&&_0x4a003c['setPositio'+'n'](_0x9bf76e['x'],_0x9bf76e['y'],_0x9bf76e['z']);}get['position'](){return this['_position'];}set['velocity'](_0x1f07c9){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x1f07c9);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x34ddff){this['panner']['maxDistanc'+'e']=_0x34ddff;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x5c5e7d){this['panner']['refDistanc'+'e']=_0x5c5e7d;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x20498b){this['panner']['rolloffFac'+'tor']=_0x20498b;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x5d36c4){this['panner']['distanceMo'+'del']=_0x5d36c4;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x3bed77,_0x5af87e,_0x2fa0ac,_0x4e0e2b,_0x5c0172,_0x37e44f){l=l['sub2'](_0x3bed77,_0x5af87e);const _0x135f47=l['length']();if(_0x135f47<_0x2fa0ac)return 0x591+0x2*-0x10d+-0x376;if(_0x135f47>_0x4e0e2b)return-0x7*-0x79+0x22b4+-0x25*0x107;let _0x20e13a=0xd58+-0x31*0x7f+0xaf7;return _0x37e44f===cc?_0x20e13a=0x2166+0xc3d+0x12*-0x289-_0x5c0172*(_0x135f47-_0x2fa0ac)/(_0x4e0e2b-_0x2fa0ac):_0x37e44f===Ff?_0x20e13a=_0x2fa0ac/(_0x2fa0ac+_0x5c0172*(_0x135f47-_0x2fa0ac)):_0x37e44f===cy&&(_0x20e13a=Math['pow'](_0x135f47/_0x2fa0ac,-_0x5c0172)),N['clamp'](_0x20e13a,0x1a55+0x2fb*0x6+-0x2c37,0x1140+-0x1*-0x1fc7+-0x3106);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x2b4e0a){if(this['_position']['copy'](_0x2b4e0a),this['source']){const _0xae862=this['_manager']['listener']['getPositio'+'n'](),_0x13d989=t(_0xae862,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x50548=this['volume'];this['source']['volume']=_0x50548*_0x13d989*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x42712f){this['_maxDistan'+'ce']=_0x42712f;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x562e02){this['_refDistan'+'ce']=_0x562e02;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x53395c){this['_rollOffFa'+'ctor']=_0x53395c;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x588814){this['_distanceM'+'odel']=_0x588814;}});}const n0=-0x39f*0x6+0x6a7+-0x1*-0xf13,yp=0x9a6+-0x834+0x9*-0x29,Kt=0x5*0x742+0x1f20+-0x8*0x86d,is=0x3d*-0x5f+0xf87+0x71f*0x1,hr=0x3*-0xad9+-0x2619+0x46a8,xp=-0x22c6+-0x2594+0x485f,Hc=0x180b+-0x938+-0xecd,a0=0x1*0xd55+-0x1f*-0x2f+0x655*-0x3,o0=0x4c*0x56+-0xaf5+0x1*-0xe8b,l0=0x1c6f+-0x1cbe+0x58*0x1,h0=0x1ff9+0x14ce+-0x34bd,Fa='none',zb='linear',Sp=0xc55+-0x5*0x119+-0x6d6,Ub=0x17f1+0x2461+0x3c52*-0x1,Vb=-0x232f+0x5*0x25b+0x36*0x6f,c0=0x1e5e+-0xb8f*0x1+0x64*-0x30,Fi=-0x2*-0x13+0x1a5f+-0x8d7*0x3,Xt=-0x1*-0xd3f+-0x3f6+-0x4a4*0x2,vp=0x54d+-0x24a*-0x10+-0x29eb,bp=-0x2192+-0xbc4*0x2+0x391d,tl=-0x3*-0x80f+0x50*0x2+0x2c1*-0x9,oe=0x1834+-0x91*-0x3d+0x1*-0x3ac1,Pe=-0xcf7+-0x3*-0x28b+0x557,Re=0xac1+0x1f2c+-0x29eb*0x1,yt=0x2c0+-0x444*0x4+0x4*0x394,Gb=-0x2623+-0x18fb+0x5bd*0xb,Hb=-0x1577+-0x227d+-0x227*-0x1a,Wb=-0x103f+0x1*0x5ab+0x1*0xa97,wp=0x1*0x2597+0x7*0x233+-0x34fc,$b=-0x24ec+-0x72*-0x1+0x1*0x247b,Dt=-0x2*-0xf4e+0x1e59+0x5*-0xc31,Hr=0x1efd+-0x6*-0x1b2+-0x2927,Wr=0x7d0+-0x6b7+0x8b*-0x2,lh=-0x1*-0x1a87+-0x8bc*-0x1+-0x233f*0x1,Bh=0x1632+0x416*-0x6+0x257,Ts=-0x1654+0x2*-0xfbb+0x2*0x1ae8,Nh=0xbf*-0x2b+-0x971*-0x2+-0xd3a*-0x1,zh=-0x1e12*-0x1+0x2*-0x25f+-0x194c,Iu=-0x1ce1+-0x49d+-0x2187*-0x1,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(0x188a+-0xfde+-0x1*0x8ac)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(0x174b+0x3df*0x1+-0x1b2a)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0x417*0x1+-0x2358+0x3f*0x7f)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(0x1*-0xf25+0x14af+-0x58a)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(0x1256*0x1+0x1*-0xe5+0x2f*-0x5f)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0x1*-0x1505+-0x182d+0x328)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(-0x1cc6+0x2*-0x1048+-0x6*-0xa39)}],[Wr,{'name':'VSM_32F','format':Ke,'vsm':!(-0x1054+-0x14c1+0xb*0x35f)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(0x1e22+-0x12b*0x1+0x5cb*-0x5)}]]),Tp=0x37d+0x16bf+-0x1a3b,Du=-0xd32+-0x1*-0x22ff+0x15cd*-0x1,d0=-0x1db8+0x1b02+0x2b6,Vs=-0x14ed*0x1+0x135e+0x3*0x85,qb=0xd85+-0xd*-0x49+-0x1139,Uh=0x1b35+0x1*0x11a5+-0x1*0x2cda,Xb=-0x5d6+0x1571+-0xf9a,Gs=0xe3+-0x1c9*0x2+0x2af,ua=0x199*-0x7+0x7*-0x493+0x2b35,yo=0x2639+-0xf26*-0x1+0x41b*-0xd,Dr=0x8*0x17e+-0x1*0xaa9+-0x146,Tl=-0x2520+0x1*0xa2a+0x6be*0x4,u0=0x1*0xb57+-0xb*0x24d+0xdf8,jb=0x4+0x25*-0x7e+0x1233,km='mul',sl=0xeb2+0xe4e+-0x1d00,hh=-0x1*0xd6e+0x6*-0x12e+-0x1*-0x1483,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=-0x3df*-0x6+-0x1122+-0x618,aF=-0xa03+0x1ba1+-0x5df*0x3,oF=-0x200a+-0xb*0x8+0x4*0x819,lF=-0x728+-0x26f8+0x1*0x2e23,hF=0x2f9*-0x7+0x5*0x2ea+0x1*0x641,cF=-0xc45+0xb09+0x1*0x141,f0=0xf04+-0x5*-0x3b6+0x26*-0xe2,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=0x19fb+-0x1dfc+0x401,Bo=0x20*-0x89+-0x17b4+0x28d5*0x1,Lu=-0x1d5*-0x3+-0x5d0+0x53,Ep=-0x2d0+0x6fd*0x1+-0x42c,Wc=-0x3*-0x1c7+0xb1b+-0x106e,m0=-0x3b7*-0x3+0x1*0x1cb7+0x1e*-0x154,_0=0x1cc5+-0x10c3+-0x6*0x1ff,g0=0xca*-0x7+0x9d0+-0x43a,$c=-0x25d5+-0x298*0x3+0x2dbd,Fu=0x7*0x23b+0x8f8+-0x1855,y0=0x313*0x4+0x19a9+0x2b*-0xdf,Cp=0x21f4+-0x2433+0x33f,Mp=-0x162+0x2d0+0x92*0x1,qc=0x339*0xc+-0x70e+-0x1b9e,Xc=-0x1f01+-0x4d6+0x2bd7,x0=0x55*0x29+0x203*-0x5+0xc72,jc=-0x12d4+-0xe5*-0x10+-0x1*-0x2484,Ou=-0x16f*0x1e+0x8b5+-0x624d*-0x1,Ps=0x57d*0x3+0x18d4+0x294b*-0x1,cn=0x1*-0x1a4a+-0x1fd8+0x3a23,Pp=-0x5*0x7bd+-0x1b53+0x272*0x1b,Ei=-0x1*-0x4e8+-0x9e8+-0x10*-0x50,ku=0x29d*0x1+-0x1*-0x1329+-0x15c5*0x1,hs=0x1cd3+0x1d9f+0x1*-0x3a71,cr=0x1d17+0x1a6d+-0xcb*0x46,rr=-0xd46*-0x1+0x11*-0x221+0x16ef*0x1,gn=0x2277+0x27*0x56+-0x129*0x29,il=-0x509*0x3+0x1e4d+-0xf31*0x1,rl=0x9b3*-0x1+0x125*-0x21+0x17bd*0x2,Oa=-0x2*-0xe96+0x26*-0x106+0x1*0x9bb,Rp=0x3b*0x89+0x5*-0x5fa+-0x8f*0x3,Ti=0x17db+0x217c+-0x9*0x65f,nt=0x18*-0x17f+0x2161+-0x144*-0x2,Qe=0x1*0x103d+-0xa0a+-0x13d*0x5,ch=-0xb1f+0x1*0x1149+-0x629,Al=-0x9*-0x35a+-0x1*-0x673+-0x249d,dh=-0x53*-0x39+0x660+-0x3f*0x65,Zb=-0x770+0xd5f+-0x5ee,Qb=0x21db+0x94*0x1e+-0x3331,Bm=0x5db+-0x14*0x1e5+-0xe*-0x24a,Jb=-0x7*0x202+-0x1323*-0x1+-0x511,ew=-0x260e+0x15e4+0x102f*0x1,Ip=0x545*-0x7+0x5*0x653+0x2a2*0x2,Bu=0xccd+-0x2419+0x174d,pe=-0x359+0x22af+-0x15*0x17e,ke=-0x1930+0x20d0+0x79f*-0x1,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0xb81349,_0x18eb3e,_0x19466b){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0xb81349,this['bindGroupF'+'ormats'][Dh]=_0x18eb3e,this['vertexForm'+'at']=_0x19466b);}['hasUniform'](_0x40dbc8){for(let _0x582069=0x171f*-0x1+0x2f5*-0xd+-0xc50*-0x5;_0x582069<this['uniformFor'+'mats']['length'];_0x582069++){const _0x550813=this['uniformFor'+'mats'][_0x582069];if(_0x550813!=null&&_0x550813['get'](_0x40dbc8))return!(0x4d*0x52+0x385*-0x1+-0x1525);}return!(0x18f8+-0x256b+0x4*0x31d);}['hasTexture'](_0x4c8917){for(let _0x35b11f=-0x4e*-0x1b+0x11d4+-0x2e*0x91;_0x35b11f<this['bindGroupF'+'ormats']['length'];_0x35b11f++){const _0x2df59c=this['bindGroupF'+'ormats'][_0x35b11f];if(_0x2df59c!=null&&_0x2df59c['getTexture'](_0x4c8917))return!(-0x1*0x2467+-0x1058+-0x283*-0x15);}return!(0x39a+-0x20ba+0x1d21);}['getVertexE'+'lement'](_0x277479){var _0x380868;return(_0x380868=this['vertexForm'+'at'])==null?void(-0x8e6*0x2+0x14a+0x841*0x2):_0x380868['elements']['find'](_0x130287=>_0x130287['name']===_0x277479);}['generateKe'+'y'](_0x4ef2a9){var _0x46f1a0;let _0x2bc033=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x4ef2a9['isWebGPU']&&(_0x2bc033+=(_0x46f1a0=this['vertexForm'+'at'])==null?void(-0x1*0xed7+0x5*-0x3a1+0x20fc):_0x46f1a0['shaderProc'+'essingHash'+'String']),_0x2bc033;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x2b6f78){const _0x3a3383=b0['get'](_0x2b6f78);return v['assert'](_0x3a3383),_0x3a3383;}function WE(_0x505ba4,_0x2d1e0c){v['assert'](_0x2d1e0c),b0['get'](_0x505ba4,()=>_0x2d1e0c);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x33c3e0){const _0x4172c7=Array['from'](_0x33c3e0)['sort']((_0x5a1414,_0x3f5fe6)=>_0x5a1414[0x11*-0x6e+0xcbe+-0x1*0x570]>_0x3f5fe6[-0x23aa+-0x805+0x2baf]?0x8b*-0x7+-0x3*0xb78+0x49*0x86:-(0x2*-0x884+0x1bab+-0x2*0x551));return hn(JSON['stringify'](_0x4172c7));}}const $E=new Ot();class qE{constructor(_0xd8bc7c,_0x20518b,_0x835421={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0xd8bc7c),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0xd8bc7c),this['name']=_0xd8bc7c,this['index']=_0x20518b,Object['assign'](this,_0x835421),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x113b5d;this['isShadow']?_0x113b5d='SHADOW':this['isForward']?_0x113b5d='FORWARD':this['index']===rl?_0x113b5d='DEPTH':this['index']===Oa&&(_0x113b5d='PICK'),this['defines']['set'](_0x113b5d+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x22a*0x10+0x480*-0x8+-0x5*-0xe20);const _0x446706=(_0x12b90c,_0x32249e,_0x5b8e32)=>{const _0x723640=this['allocate'](_0x12b90c,_0x5b8e32);v['assert'](_0x723640['index']===_0x32249e);};_0x446706('forward',gn,{'isForward':!(-0x128a+-0x1*0xfd9+-0x1*-0x2263)}),_0x446706('prepass',il),_0x446706('depth',rl),_0x446706('pick',Oa),_0x446706('shadow',Rp);}static['get'](_0xbff1e5){return v['assert'](_0xbff1e5),$E['get'](_0xbff1e5,()=>new Ks());}['allocate'](_0x215be4,_0x1c4e53){let _0x33b0c7=this['passesName'+'d']['get'](_0x215be4);return _0x33b0c7===void(-0x3*-0x510+-0x6b4+-0x87c*0x1)&&(_0x33b0c7=new qE(_0x215be4,this['nextIndex'],_0x1c4e53),this['passesName'+'d']['set'](_0x33b0c7['name'],_0x33b0c7),this['passesInde'+'xed'][_0x33b0c7['index']]=_0x33b0c7,this['nextIndex']++),_0x33b0c7;}['getByIndex'](_0x1f09d0){const _0x5a018d=this['passesInde'+'xed'][_0x1f09d0];return v['assert'](_0x5a018d),_0x5a018d;}['getByName'](_0x18d5a7){return this['passesName'+'d']['get'](_0x18d5a7);}}function Is(_0x3fd465,_0x3e8d3b,_0xeefee8,_0xa6afa5,_0x2e9b9c,_0xaad05f=!(0x42*-0x2f+-0x2172+0x2d91),_0x23f422={}){v['assert'](!(0x11e2+0x1491+-0xc1*0x33)),typeof _0xaad05f=='boolean'?_0x23f422['useTransfo'+'rmFeedback']=_0xaad05f:typeof _0xaad05f=='object'&&(_0x23f422={..._0x23f422,..._0xaad05f});const _0x85d71f=ka(_0x3fd465);let _0x29f660=_0x85d71f['getCachedS'+'hader'](_0xa6afa5);return _0x29f660||(_0x29f660=new i0(_0x3fd465,Mt['createDefi'+'nition'](_0x3fd465,{..._0x23f422,'name':_0xa6afa5,'vertexCode':_0x3e8d3b,'fragmentCode':_0xeefee8,'attributes':_0x2e9b9c})),_0x85d71f['setCachedS'+'hader'](_0xa6afa5,_0x29f660)),_0x29f660;}class XE extends It{constructor(_0x16bf79,_0x516ef1){super(),this['key']=_0x16bf79,this['shaderDefi'+'nition']=_0x516ef1;}['generateKe'+'y'](_0xc1ded6){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x4cd459,_0x8a2dc1){return this['shaderDefi'+'nition'];}}function jE(_0x23b516,_0x2390ce){v['assert'](_0x23b516);const _0xb717bb=_0x23b516['definition'],_0x21ffb9=(_0xb717bb['name']??'shader')+'-id-'+_0x23b516['id'],_0x3814e6=new XE(_0x21ffb9,_0xb717bb),_0x30a1f3='shader',_0x1c0d3c=ka(_0x23b516['device']);v['assert'](!_0x1c0d3c['isRegister'+'ed'](_0x30a1f3)),_0x1c0d3c['register'](_0x30a1f3,_0x3814e6);const _0x53deb1=_0x1c0d3c['getProgram'](_0x30a1f3,{},_0x2390ce);return _0x23b516['definition']['shaderLang'+'uage']===Ph&&(_0x53deb1['meshUnifor'+'mBufferFor'+'mat']=_0xb717bb['meshUnifor'+'mBufferFor'+'mat'],_0x53deb1['meshBindGr'+'oupFormat']=_0xb717bb['meshBindGr'+'oupFormat']),_0x1c0d3c['unregister'](_0x30a1f3),_0x53deb1;}const Dp=(_0x2df598,_0x241518)=>{const _0x2e128a=new Map(_0x2df598['defines']);return _0x241518['cameraShad'+'erParams']['defines']['forEach']((_0x3a09c1,_0x281cc0)=>_0x2e128a['set'](_0x281cc0,_0x3a09c1)),Ks['get'](_0x241518['device'])['getByIndex'](_0x241518['pass'])['defines']['forEach']((_0x50c488,_0x3f128c)=>_0x2e128a['set'](_0x3f128c,_0x50c488)),_0x2e128a;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(-0x525*0x7+-0x23e+0x2642)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0xce5d8b){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x361c03=_0xce5d8b['device'];if(this['shader']=_0xce5d8b,v['assert'](_0xce5d8b),_0x361c03['supportsUn'+'iformBuffe'+'rs']){const _0x4ba499=new Yc();this['shader']=jE(_0xce5d8b,_0x4ba499);const _0x239bb4=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x239bb4&&(this['uniformBuf'+'fer']=new gp(_0x361c03,_0x239bb4,!(0xe*0x29e+-0x17dc+-0xcc7)));const _0x3a22f1=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x3a22f1),this['bindGroup']=new mp(_0x361c03,_0x3a22f1),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x5dcd60,_0x46f2c9;(_0x5dcd60=this['uniformBuf'+'fer'])==null||_0x5dcd60['destroy'](),this['uniformBuf'+'fer']=null,(_0x46f2c9=this['bindGroup'])==null||_0x46f2c9['destroy'](),this['bindGroup']=null;}['render'](_0x58f77c,_0x66a0fc){const _0x374aa8=this['shader']['device'];G['pushGpuMar'+'ker'](_0x374aa8,'QuadRender'),_0x58f77c&&(Va['set'](_0x374aa8['vx'],_0x374aa8['vy'],_0x374aa8['vw'],_0x374aa8['vh']),Ga['set'](_0x374aa8['sx'],_0x374aa8['sy'],_0x374aa8['sw'],_0x374aa8['sh']),_0x66a0fc=_0x66a0fc??_0x58f77c,_0x374aa8['setViewpor'+'t'](_0x58f77c['x'],_0x58f77c['y'],_0x58f77c['z'],_0x58f77c['w']),_0x374aa8['setScissor'](_0x66a0fc['x'],_0x66a0fc['y'],_0x66a0fc['z'],_0x66a0fc['w'])),_0x374aa8['setVertexB'+'uffer'](_0x374aa8['quadVertex'+'Buffer'],0x6b*-0x50+0x2*0x6da+0x1*0x13bc);const _0x4b7e0d=this['shader'];if(_0x374aa8['setShader'](_0x4b7e0d),_0x374aa8['supportsUn'+'iformBuffe'+'rs']){_0x374aa8['setBindGro'+'up'](Dh,_0x374aa8['emptyBindG'+'roup']);const _0x318198=this['bindGroup'];_0x318198['update'](),_0x374aa8['setBindGro'+'up'](Xy,_0x318198);const _0x507345=this['uniformBuf'+'fer'];_0x507345?(_0x507345['update'](pd),_0x374aa8['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x374aa8['setBindGro'+'up'](Eu,_0x374aa8['emptyBindG'+'roup']);}_0x374aa8['draw'](YE),_0x58f77c&&(_0x374aa8['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x374aa8['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x374aa8);}}class KE extends ds{constructor(_0x283bb1,_0x4a548d,_0x6f7bca,_0xe03eee){super(_0x283bb1),this['quad']=_0x4a548d,this['rect']=_0x6f7bca,this['scissorRec'+'t']=_0xe03eee;}['execute'](){const {device:_0x5a50a3}=this;G['pushGpuMar'+'ker'](_0x5a50a3,this['name']+':'+this['quad']['shader']['name']),_0x5a50a3['setCullMod'+'e'](mt),_0x5a50a3['setDepthSt'+'ate'](as['NODEPTH']),_0x5a50a3['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x5a50a3);}}const ZE=new Q();function dn(_0xdaece7,_0x580f55,_0x1c2d78,_0x5ba617,_0x54bf27){v['assert'](_0x580f55!==void(-0x46*0xa+-0x24f*-0x6+-0xb1e));const _0x983127=arguments[-0x2*0x8dd+-0x1708+-0xb*-0x3b5];v['call'](()=>{_0x983127!==void(0x58f*-0x7+-0xce7*0x2+0x1*0x40b7)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x2df317=new Nu(_0x1c2d78);_0x5ba617||(_0x5ba617=ZE,_0x5ba617['x']=-0x2292+-0x1e3a+0x40cc,_0x5ba617['y']=-0x2595+-0x1*-0x14a1+0x10f4,_0x5ba617['z']=_0x580f55?_0x580f55['width']:_0xdaece7['width'],_0x5ba617['w']=_0x580f55?_0x580f55['height']:_0xdaece7['height']);const _0x2f0fd6=new KE(_0xdaece7,_0x2df317,_0x5ba617,_0x54bf27);_0x2f0fd6['init'](_0x580f55),_0x2f0fd6['colorOps']['clear']=!(0x2*-0x119+-0x1efd*-0x1+-0x1cca),_0x2f0fd6['depthStenc'+'ilOps']['clearDepth']=!(0x721+-0xe3e+-0x38f*-0x2),_0xdaece7['isWebGPU']&&_0x580f55===null&&_0xdaece7['samples']>0x25a6+0x350*0x4+-0x65*0x81&&(_0x2f0fd6['colorOps']['store']=!(-0x77e*-0x1+0xd11*-0x2+-0x2*-0x952)),_0x2f0fd6['render'](),_0x2df317['destroy']();}class zm{constructor(_0x54675f,_0x702d89,_0x56d7d5){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x54675f,this['dynamic']=_0x702d89,this['batchGroup'+'Id']=_0x56d7d5);}['destroy'](_0x727375,_0x4ade2c){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x727375,_0x4ade2c),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x303756,_0x2630b1){for(let _0x366ae8=0x1*-0x745+0x1*0x12a+0x61b;_0x366ae8<_0x2630b1['length'];_0x366ae8++){const _0x55b25f=_0x303756['layers']['getLayerBy'+'Id'](_0x2630b1[_0x366ae8]);_0x55b25f&&_0x55b25f['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x2947d2,_0x21a7a6){for(let _0xc5dc47=-0x1096+0x1831*-0x1+0x28c7*0x1;_0xc5dc47<_0x21a7a6['length'];_0xc5dc47++){const _0xccda8a=_0x2947d2['layers']['getLayerBy'+'Id'](_0x21a7a6[_0xc5dc47]);_0xccda8a&&_0xccda8a['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x6*-0x411+0x46e*0x6+-0x22e]['aabb']);for(let _0x116db3=0x1*0x23d2+0x165b+-0x3a2c;_0x116db3<this['origMeshIn'+'stances']['length'];_0x116db3++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x116db3]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x1be1+0x1f4d+-0x36c;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x2a7619,_0x26ba8a,_0x4450b6,_0x33cac7,_0x3fdf57=[Fi]){c(this,'_ui',!(-0xb93*0x2+0x1*0xddc+0x94b)),c(this,'_sprite',!(-0x2287+-0x1*-0x1b7+0x20d1)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x2a7619,this['name']=_0x26ba8a,this['dynamic']=_0x4450b6,this['maxAabbSiz'+'e']=_0x33cac7,this['layers']=_0x3fdf57);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x196811){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x5ac+0xba4+-0x5f8),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x1470+0x2*-0x955+0x271b),this['_updateBef'+'oreCull']=!(-0x164b+0x17d9+0x18e*-0x1),_0x196811&&this['initSkin'](_0x196811));}set['rootBone'](_0x3b2af2){this['_rootBone']=_0x3b2af2;}get['rootBone'](){return this['_rootBone'];}['init'](_0x4adaaf,_0x345e1b){const _0x4f2007=_0x345e1b*(0x116+-0x4*-0x18d+0x17*-0x51);let _0x3faaaa=Math['ceil'](Math['sqrt'](_0x4f2007));_0x3faaaa=N['roundUp'](_0x3faaaa,-0xe3f+-0x43d+0x127f);const _0x19be6c=Math['ceil'](_0x4f2007/_0x3faaaa);this['boneTextur'+'e']=new he(_0x4adaaf,{'width':_0x3faaaa,'height':_0x19be6c,'format':Ke,'mipmaps':!(0x7*-0x1d9+0x14b+0xba5*0x1),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x3faaaa,_0x19be6c,(-0x12f*0x5+0x208d+-0x1aa1)/_0x3faaaa,(0x7*-0x263+-0x1bb5*0x1+-0x53*-0x89)/_0x19be6c],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x48b069,_0xac199a){this['rootBone']=_0x48b069;const _0x120daa=this['skin'],_0x138a43=[];for(let _0x37af01=-0x2ed*0x5+0x1*0x2598+-0x16f7;_0x37af01<_0x120daa['boneNames']['length'];_0x37af01++){const _0x2752e5=_0x120daa['boneNames'][_0x37af01];let _0x3284ac=_0x48b069['findByName'](_0x2752e5);_0x3284ac||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x2752e5+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0xac199a['name']+(',\x20rootBone'+':\x20')+_0x48b069['name']),_0x3284ac=_0xac199a),_0x138a43['push'](_0x3284ac);}this['bones']=_0x138a43;}['initSkin'](_0xeaa7ee){this['skin']=_0xeaa7ee,this['bones']=[];const _0x213bec=_0xeaa7ee['inverseBin'+'dPose']['length'];this['init'](_0xeaa7ee['device'],_0x213bec),this['matrices']=[];for(let _0x25b0ef=-0x4af*0x1+-0x8bd*-0x2+-0xccb;_0x25b0ef<_0x213bec;_0x25b0ef++)this['matrices'][_0x25b0ef]=new q();}['uploadBone'+'s'](_0xa07491){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x4fb430,_0x8e4d22){if(this['_skinUpdat'+'eIndex']!==_0x8e4d22){this['_skinUpdat'+'eIndex']=_0x8e4d22,Um['copy'](_0x4fb430['getWorldTr'+'ansform']())['invert']();for(let _0xa7f8b5=this['bones']['length']-(0x1be5+0x1*0x249b+0x5dd*-0xb);_0xa7f8b5>=0x74d+0xc*0x28c+-0x25dd;_0xa7f8b5--)this['matrices'][_0xa7f8b5]['mulAffine2'](Um,this['bones'][_0xa7f8b5]['getWorldTr'+'ansform']()),this['matrices'][_0xa7f8b5]['mulAffine2'](this['matrices'][_0xa7f8b5],this['skin']['inverseBin'+'dPose'][_0xa7f8b5]);}}['updateMatr'+'ices'](_0x4eb160,_0x15a257){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x4eb160,_0x15a257);}['updateMatr'+'ixPalette'](_0x545ed3,_0x59befe){this['_updateMat'+'rices'](_0x545ed3,_0x59befe);const _0x23d933=this['matrixPale'+'tte'],_0x5b9a59=this['bones']['length'];for(let _0x5cb280=-0x551*0x2+0x1d39+-0x1297;_0x5cb280<_0x5b9a59;_0x5cb280++){const _0x3ad133=this['matrices'][_0x5cb280]['data'],_0x84f37f=_0x5cb280*(-0x1b82+-0x14b5+0x161*0x23);_0x23d933[_0x84f37f]=_0x3ad133[-0x1bab+0x1c1+0x19ea],_0x23d933[_0x84f37f+(0xfde+-0x450+-0xb8d)]=_0x3ad133[-0x1fa2*-0x1+-0x1*-0x1cc3+-0x3c61],_0x23d933[_0x84f37f+(-0x8d7+-0x1b00*-0x1+-0x3*0x60d)]=_0x3ad133[0xe1a+-0x895*-0x2+-0x1f3c],_0x23d933[_0x84f37f+(-0xfee+0xaa2*0x1+-0x9*-0x97)]=_0x3ad133[0x180f+-0x2*-0x5fa+-0x23f7],_0x23d933[_0x84f37f+(0x1019+0x12dd+-0x47*0x7e)]=_0x3ad133[-0x443*0x1+0xb48+-0x704],_0x23d933[_0x84f37f+(0x83*0x47+0x24e6+0x4936*-0x1)]=_0x3ad133[0x16c9*0x1+-0x14ec+0x8*-0x3b],_0x23d933[_0x84f37f+(0x217b+-0x103a+-0x113b)]=_0x3ad133[-0x2*-0xc1e+0x280*0x1+0x1ab3*-0x1],_0x23d933[_0x84f37f+(-0x2*-0xb4e+0x1d07+-0x339c)]=_0x3ad133[-0x9*-0x92+-0x25aa+0x2095],_0x23d933[_0x84f37f+(-0x71+-0x7d1+-0x425*-0x2)]=_0x3ad133[-0x1b*0x57+-0x20*-0x25+-0x48f*-0x1],_0x23d933[_0x84f37f+(0x103+0x1c6*-0xb+0x1288)]=_0x3ad133[0x1cb7*-0x1+-0x1*-0xd3c+0x9*0x1b9],_0x23d933[_0x84f37f+(0x5ab+-0x20cc+0x1b2b)]=_0x3ad133[-0x1bef+-0x1*0x1f6f+-0x8*-0x76d],_0x23d933[_0x84f37f+(-0xb9*0xe+-0x25a0+-0x1*-0x2fc9)]=_0x3ad133[-0x4ca+0x6+-0x269*-0x2];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x44575d,_0x8f55d9,_0x15851e){super();const _0x4af145=_0x8f55d9['length'];this['init'](_0x44575d,_0x4af145),this['device']=_0x44575d,this['rootNode']=_0x15851e,this['bones']=_0x8f55d9;}['updateMatr'+'ices'](_0x1d790f,_0x4deb30){}['updateMatr'+'ixPalette'](_0x232dac,_0x4dd9d6){const _0x58e628=this['matrixPale'+'tte'],_0x603163=this['bones']['length'];for(let _0x3469bd=-0x95*0x13+-0x359*0x1+0xe68;_0x3469bd<_0x603163;_0x3469bd++){const _0x54f5b6=this['bones'][_0x3469bd]['getWorldTr'+'ansform']()['data'],_0xd12c34=_0x3469bd*(-0x251f+-0x1*-0x15b2+0xf79);_0x58e628[_0xd12c34]=_0x54f5b6[-0x1939+0x1898+0xa1],_0x58e628[_0xd12c34+(-0x1*-0x11c5+0x1142*-0x1+-0x82)]=_0x54f5b6[-0x1729+-0x1*0x1529+-0x19*-0x1c6],_0x58e628[_0xd12c34+(-0x11d*0x4+0x16a7+-0x1231*0x1)]=_0x54f5b6[-0x2563+-0x126b*0x2+-0x1*-0x4a41],_0x58e628[_0xd12c34+(-0x159+0x1*-0x25bb+0x2717)]=_0x54f5b6[0x1*0xeb8+-0x4a*0x2+0x58*-0x29],_0x58e628[_0xd12c34+(0x12*-0x169+0x2d3*0x6+-0x2*-0x43a)]=_0x54f5b6[0xb57+-0x16ef*-0x1+-0x2245],_0x58e628[_0xd12c34+(0x1e20+-0xe78+-0xfa3)]=_0x54f5b6[-0x874+-0x61*-0x1+-0x206*-0x4],_0x58e628[_0xd12c34+(0xd7f+-0x4b*-0x83+-0x33da)]=_0x54f5b6[-0xbd6+-0xa40+0x161f],_0x58e628[_0xd12c34+(-0x1e0e+0x567*0x6+-0x255)]=_0x54f5b6[-0x2*0x65+0x2303*0x1+-0x222c],_0x58e628[_0xd12c34+(0x1eff*-0x1+0xeec+0x101b)]=_0x54f5b6[-0x2*-0x96b+0x2*-0x102b+0xd82],_0x58e628[_0xd12c34+(0x19*-0xa6+0x72a+0x307*0x3)]=_0x54f5b6[-0x56c*-0x3+-0x1389*-0x1+0x1*-0x23c7],_0x58e628[_0xd12c34+(-0xb*-0xa3+0xbde+-0x1*0x12d5)]=_0x54f5b6[-0x35d*-0x4+-0xa0b+-0x35f],_0x58e628[_0xd12c34+(0x25f9+0x188c*-0x1+-0xd62)]=_0x54f5b6[-0x1d4f+0xc32+-0x125*-0xf];}this['uploadBone'+'s'](this['device']);}}let QE=0x1*0xa18+-0xfb*-0x3+-0x1*0xd09;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0xab0+0x2b6*-0xc+0x15d9*0x1),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=-0xbb*-0x29+0x4b5*0x5+-0x1abe*0x2,this['maxIndices']=-0x6*-0x409+0xadb+-0x2311,this['vertexCoun'+'t']=-0x16a*0xe+-0x1e6+-0xad9*-0x2,this['indexCount']=-0x35*0xa4+-0x497+0x1*0x268b,this['vertexStre'+'amsUpdated']=!(0x2710+-0x1*0xf97+-0x8*0x2ef),this['indexStrea'+'mUpdated']=!(-0x181d*-0x1+0x14da+0x167b*-0x2),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x5037bc,_0x29ec5f){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x5037bc,'Vertex\x20str'+'eam\x20'+_0x29ec5f+'\x20has\x20'+_0x5037bc+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x5037bc;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x15ed+0x2d*-0x43+0x21b7),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x8cf+0x67*0x5b+-0x177*0x1f),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x3b7+-0x21d2+0x258b),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x1890+0xb*-0x8b+-0x1293);class JE{constructor(_0x4103de,_0x5c9f14,_0x1f2105,_0x43f750,_0x478a0b){this['data']=_0x4103de,this['componentC'+'ount']=_0x5c9f14,this['dataType']=_0x1f2105,this['dataTypeNo'+'rmalize']=_0x43f750,this['asInt']=_0x478a0b;}}class Ie extends Gc{constructor(_0x3c0c75,_0x192b86){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',0x1*-0x1652+0x5*0x177+0xeff),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0xc24+-0x1b7f+0xf5c)),c(this,'_storageVe'+'rtex',!(-0xae*-0x2f+0x1b4e+0x1d*-0x20b)),(this['id']=QE++,v['assert'](_0x3c0c75,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x3c0c75,this['_storageIn'+'dex']=(_0x192b86==null?void(-0x24da*-0x1+0x51e+-0x29f8):_0x192b86['storageInd'+'ex'])||!(-0x2393+0x1d9*-0x3+0x21*0x13f),this['_storageVe'+'rtex']=(_0x192b86==null?void(0x8f3+-0x457*-0x2+-0x11a1):_0x192b86['storageVer'+'tex'])||!(-0xd61+-0x2548+0x32aa));}static['fromGeomet'+'ry'](_0x61551a,_0x3f12c9,_0x299314={}){const _0x5bbd61=new Ie(_0x61551a,_0x299314),{positions:_0xe71ffd,normals:_0x3c18d3,tangents:_0x2e51f1,colors:_0x24209e,uvs:_0xc44091,uvs1:_0x191e43,blendIndices:_0x3280a2,blendWeights:_0x40cfdb,indices:_0x2464a7}=_0x3f12c9;return _0xe71ffd&&_0x5bbd61['setPositio'+'ns'](_0xe71ffd),_0x3c18d3&&_0x5bbd61['setNormals'](_0x3c18d3),_0x2e51f1&&_0x5bbd61['setVertexS'+'tream'](Zs,_0x2e51f1,-0x21d6+-0x11*0xe4+-0x2*-0x187f),_0x24209e&&_0x5bbd61['setColors3'+'2'](_0x24209e),_0xc44091&&_0x5bbd61['setUvs'](0x819+0x2cf+-0x8*0x15d,_0xc44091),_0x191e43&&_0x5bbd61['setUvs'](0x2380+-0x8d*0x3f+-0x2*0x66,_0x191e43),_0x3280a2&&_0x5bbd61['setVertexS'+'tream'](qt,_0x3280a2,0xb8d+-0xdc7*-0x1+0x8*-0x32a,_0x3280a2['length']/(-0x1a*-0xb4+0x32d*0x6+0x12a9*-0x2),Kr),_0x40cfdb&&_0x5bbd61['setVertexS'+'tream'](Ys,_0x40cfdb,0x223d*-0x1+-0x11db+0x341c),_0x2464a7&&_0x5bbd61['setIndices'](_0x2464a7),_0x5bbd61['update'](),_0x5bbd61;}set['morph'](_0x1d7195){_0x1d7195!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x1d7195,_0x1d7195&&_0x1d7195['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x1b6f4e){this['_aabb']=_0x1b6f4e,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x51ed79=this['morph'];_0x51ed79&&(this['morph']=null,_0x51ed79['refCount']<0x1de9+0x26a7*-0x1+0x8bf&&_0x51ed79['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x2456e4=-0x198+-0x7*0x112+0x2*0x48b;_0x2456e4<this['indexBuffe'+'r']['length'];_0x2456e4++)this['_destroyIn'+'dexBuffer'](_0x2456e4);this['indexBuffe'+'r']['length']=0x1f63+0xa8c+0x29ef*-0x1,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x58cf77){this['indexBuffe'+'r'][_0x58cf77]&&(this['indexBuffe'+'r'][_0x58cf77]['destroy'](),this['indexBuffe'+'r'][_0x58cf77]=null);}['_initBoneA'+'abbs'](_0x2d68a8){this['boneAabb']=[],this['boneUsed']=[];let _0x3dcfef,_0x1d0fce,_0x51a021,_0x169155,_0x4776de;const _0x2f706f=[],_0x3c38e2=[],_0x3e1222=this['boneUsed'],_0x55d6e9=this['skin']['boneNames']['length'];let _0x9e17f2,_0x5c5921,_0x3d0a09;for(let _0x488b10=0xa62*-0x3+0x9b6+-0x70*-0x31;_0x488b10<_0x55d6e9;_0x488b10++)_0x2f706f[_0x488b10]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x3c38e2[_0x488b10]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x1c2dac=new go(this['vertexBuff'+'er']),_0x89157d=_0x1c2dac['element'][He],_0xaeca3c=_0x1c2dac['element'][Ys],_0x78e058=_0x1c2dac['element'][qt],_0x10bd96=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x2e92bf=-0x20e9+0xa5a+0x4d*0x4b;_0x2e92bf<_0x10bd96;_0x2e92bf++){for(let _0x177d44=-0x16fd+-0x1e01+0xe*0x3c9;_0x177d44<-0xd7c+-0x133*-0x6+0x64e;_0x177d44++)if(_0xaeca3c['array'][_0xaeca3c['index']+_0x177d44]>0x43*-0x13+0xa6a+-0x1*0x571){const _0x5b8643=_0x78e058['array'][_0x78e058['index']+_0x177d44];if(_0x3e1222[_0x5b8643]=!(-0x2239+-0x2*0x771+-0x311b*-0x1),_0x3dcfef=_0x89157d['array'][_0x89157d['index']],_0x1d0fce=_0x89157d['array'][_0x89157d['index']+(0x55*-0x29+0x721*-0x5+0x3143)],_0x51a021=_0x89157d['array'][_0x89157d['index']+(0x4*-0xaa+0x2458+-0x59d*0x6)],_0x169155=_0x3c38e2[_0x5b8643],_0x4776de=_0x2f706f[_0x5b8643],_0x4776de['x']>_0x3dcfef&&(_0x4776de['x']=_0x3dcfef),_0x4776de['y']>_0x1d0fce&&(_0x4776de['y']=_0x1d0fce),_0x4776de['z']>_0x51a021&&(_0x4776de['z']=_0x51a021),_0x169155['x']<_0x3dcfef&&(_0x169155['x']=_0x3dcfef),_0x169155['y']<_0x1d0fce&&(_0x169155['y']=_0x1d0fce),_0x169155['z']<_0x51a021&&(_0x169155['z']=_0x51a021),_0x2d68a8){let _0x418edf=_0x9e17f2=_0x3dcfef,_0x3c494e=_0x5c5921=_0x1d0fce,_0x1250cd=_0x3d0a09=_0x51a021;for(let _0x3ea201=0x646*-0x1+-0x1*0x1b64+0x21aa;_0x3ea201<_0x2d68a8['length'];_0x3ea201++){const _0x55f75c=_0x2d68a8[_0x3ea201],_0x3c685f=_0x55f75c['deltaPosit'+'ions'][_0x2e92bf*(0x4*-0x19c+0x5e5*0x5+-0x1706)],_0x57da48=_0x55f75c['deltaPosit'+'ions'][_0x2e92bf*(0x1d*-0x103+-0xffe+0x2d58)+(-0x4af+0xa4c+-0x2ce*0x2)],_0x7c6c06=_0x55f75c['deltaPosit'+'ions'][_0x2e92bf*(0x1c90+-0xc97*0x2+-0x35f)+(0x31*0x7+0x1b25+-0x6*0x4bf)];_0x3c685f<0x1b76+-0xc31*-0x1+-0x27a7?_0x418edf+=_0x3c685f:_0x9e17f2+=_0x3c685f,_0x57da48<-0x1c49+-0x85e+-0xb*-0x355?_0x3c494e+=_0x57da48:_0x5c5921+=_0x57da48,_0x7c6c06<0x261f+0x9db+-0x17fd*0x2?_0x1250cd+=_0x7c6c06:_0x3d0a09+=_0x7c6c06;}_0x4776de['x']>_0x418edf&&(_0x4776de['x']=_0x418edf),_0x4776de['y']>_0x3c494e&&(_0x4776de['y']=_0x3c494e),_0x4776de['z']>_0x1250cd&&(_0x4776de['z']=_0x1250cd),_0x169155['x']<_0x9e17f2&&(_0x169155['x']=_0x9e17f2),_0x169155['y']<_0x5c5921&&(_0x169155['y']=_0x5c5921),_0x169155['z']<_0x3d0a09&&(_0x169155['z']=_0x3d0a09);}}_0x1c2dac['next']();}const _0x2c167e=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x111e3d=>_0x111e3d['name']===He);if(_0x2c167e&&_0x2c167e['normalize']){const _0x47d3c9=((()=>{switch(_0x2c167e['dataType']){case Rc:return _0x439d1f=>Math['max'](_0x439d1f/(-0x2690+-0x1c4f*-0x1+0x20*0x56),-(0xc1c+0x5c8+-0x11e3));case Kr:return _0x588f37=>_0x588f37/(-0x17e6+-0x1b8f+-0x2ea*-0x12);case Ic:return _0x4cdcb8=>Math['max'](_0x4cdcb8/(0x7e88+0x1c87+-0x1b10),-(-0x1ae0+-0x542+0x2023));case el:return _0x783a7c=>_0x783a7c/(0x1*0x198e0+0x1ab88+-0x24469);default:return _0x4b25bd=>_0x4b25bd;}})());for(let _0x4dae3c=0x15c5+0x2598+0x87b*-0x7;_0x4dae3c<_0x55d6e9;_0x4dae3c++)if(_0x3e1222[_0x4dae3c]){const _0x1c0ec3=_0x2f706f[_0x4dae3c],_0xde2ec=_0x3c38e2[_0x4dae3c];_0x1c0ec3['set'](_0x47d3c9(_0x1c0ec3['x']),_0x47d3c9(_0x1c0ec3['y']),_0x47d3c9(_0x1c0ec3['z'])),_0xde2ec['set'](_0x47d3c9(_0xde2ec['x']),_0x47d3c9(_0xde2ec['y']),_0x47d3c9(_0xde2ec['z']));}}for(let _0xfab7e7=-0x801+-0x112f+-0x1f0*-0xd;_0xfab7e7<_0x55d6e9;_0xfab7e7++){const _0x470996=new _e();_0x470996['setMinMax'](_0x2f706f[_0xfab7e7],_0x3c38e2[_0xfab7e7]),this['boneAabb']['push'](_0x470996);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x23be+0x93*-0x30+-0x82e&&this['indexBuffe'+'r'][-0x1*-0x2581+0x1a04+-0x3f85]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x24*-0x8a+-0x1d*-0xbd+-0x201]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x223*0x1+-0x145f+0x123c]['numIndices']));}['clear'](_0x126480,_0x57cf6b,_0x43ddd4=-0x1*-0x794+-0xa*-0x395+-0x2b66,_0x134340=0xbc*-0x2+-0x191e+0x1a96){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x645*0x2+0xe4c+-0x1c2),this['_geometryD'+'ata']['maxVertice'+'s']=_0x43ddd4,this['_geometryD'+'ata']['maxIndices']=_0x134340,this['_geometryD'+'ata']['verticesUs'+'age']=_0x126480?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x57cf6b?jt:Th;}['setVertexS'+'tream'](_0x55d9e6,_0x10945e,_0x526c5,_0x156735,_0x2697c7=Ee,_0x2b1cfe=!(-0x1*-0x74c+0x2*0x542+-0x11cf),_0x50fb0d=!(-0xfd8+0x1313+-0x33a)){this['_initGeome'+'tryData']();const _0xe01e42=_0x156735||_0x10945e['length']/_0x526c5;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0xe01e42,_0x55d9e6),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1073+0x5d4*-0x3+0x11*0x1ff),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x55d9e6]=new JE(_0x10945e,_0x526c5,_0x2697c7,_0x2b1cfe,_0x50fb0d);}['getVertexS'+'tream'](_0x4a4b3e,_0x58b130){let _0x53434d=-0x1e9b+0xbe2+-0x12b9*-0x1,_0x565c12=!(0x1d60+0xf75+0x2*-0x166a);if(this['_geometryD'+'ata']){const _0x311358=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4a4b3e];_0x311358&&(_0x565c12=!(0x1add+-0x187+-0x6*0x439),_0x53434d=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x58b130)?_0x58b130['set'](_0x311358['data']):(_0x58b130['length']=0x2*-0x7b6+-0xe0c+0x1d78,_0x58b130['push'](_0x311358['data'])));}return _0x565c12||this['vertexBuff'+'er']&&(_0x53434d=new go(this['vertexBuff'+'er'])['readData'](_0x4a4b3e,_0x58b130)),_0x53434d;}['setPositio'+'ns'](_0x3df695,_0x369364=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x284f57){this['setVertexS'+'tream'](He,_0x3df695,_0x369364,_0x284f57,Ee,!(0x1268+-0x18da+0x673));}['setNormals'](_0x4ec569,_0x156468=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x57ce53){this['setVertexS'+'tream'](Yt,_0x4ec569,_0x156468,_0x57ce53,Ee,!(0x1e1d+-0x1*-0xf23+-0x2d3f));}['setUvs'](_0x4996f2,_0x57470c,_0x2bc970=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x40d551){this['setVertexS'+'tream'](om+_0x4996f2,_0x57470c,_0x2bc970,_0x40d551,Ee,!(-0x233a+0xdc*-0x29+0xa11*0x7));}['setColors'](_0x41e61d,_0x1006af=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2a191c){this['setVertexS'+'tream'](At,_0x41e61d,_0x1006af,_0x2a191c,Ee,!(-0x2*-0x174+0x1135*-0x1+0xe4e));}['setColors3'+'2'](_0x5c3f49,_0x3cce82){this['setVertexS'+'tream'](At,_0x5c3f49,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3cce82,Kr,!(-0x1dbc+-0x7*-0x4ab+-0x2f1));}['setIndices'](_0x1bf2d8,_0x18b81c){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x2629+-0x2571+0x25cd*0x2),this['_geometryD'+'ata']['indices']=_0x1bf2d8,this['_geometryD'+'ata']['indexCount']=_0x18b81c||_0x1bf2d8['length'];}['getPositio'+'ns'](_0x4706fe){return this['getVertexS'+'tream'](He,_0x4706fe);}['getNormals'](_0x55f75a){return this['getVertexS'+'tream'](Yt,_0x55f75a);}['getUvs'](_0x46f3bc,_0x1d2281){return this['getVertexS'+'tream'](om+_0x46f3bc,_0x1d2281);}['getColors'](_0x589439){return this['getVertexS'+'tream'](At,_0x589439);}['getIndices'](_0x595ffc){let _0x4ebd01=0x11ac+-0x39*0x95+0xf81;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x5a3c54=this['_geometryD'+'ata']['indices'];if(_0x4ebd01=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x595ffc))_0x595ffc['set'](_0x5a3c54);else{_0x595ffc['length']=-0x737+-0x11*0x11b+0x1a02*0x1;for(let _0xa3ad1b=0x202c+0x1588+-0x7*0x7ac,_0x264753=_0x5a3c54['length'];_0xa3ad1b<_0x264753;_0xa3ad1b++)_0x595ffc['push'](_0x5a3c54[_0xa3ad1b]);}}else this['indexBuffe'+'r']['length']>-0x26e+-0x235b*-0x1+0x20ed*-0x1&&this['indexBuffe'+'r'][-0x2*-0x386+-0x252b+-0xb*-0x2bd]&&(_0x4ebd01=this['indexBuffe'+'r'][0x4*0x2c+0xe9a+-0xf4a]['readData'](_0x595ffc));return _0x4ebd01;}['update'](_0xc2eb79=Ms,_0x4e7fed=!(-0x2*-0xd3d+-0x9d5+-0x10a5)){if(this['_geometryD'+'ata']){if(_0x4e7fed){const _0x144152=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x144152&&_0x144152['componentC'+'ount']===0x1f0a+0x6a*-0x5c+0x711&&(this['_aabb']['compute'](_0x144152['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x4c9d69=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x4c9d69=!(-0x7*0x2ba+0x1603+-0x2ed),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x4c9d69&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x5bf9d1=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x5bf9d1=!(0x26*-0xed+-0x438*0x5+0x3846),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x5bf9d1&&this['indexBuffe'+'r']['length']>0x19c6+-0x16*-0xa9+0x2*-0x1426&&this['indexBuffe'+'r'][0x2b*-0x23+0x2653+0x2*-0x1039]&&(this['indexBuffe'+'r'][-0xb3*-0x13+0x115f+-0x1ea8]['destroy'](),this['indexBuffe'+'r'][0x1*0x1381+0x645+-0x19c6]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x1634+0x17be+-0x2df2]['type']=_0xc2eb79,this['indexBuffe'+'r']['length']>0x1637*0x1+0x1973+0x2faa*-0x1&&this['indexBuffe'+'r'][0xc9d*0x1+0x687+-0x19*0xc4]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0xaa5+-0x1af3+-0x18*-0x191]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x2709*-0x1+-0x5c5*0x3+-0x39f*0x6]['indexed']=!(-0x1358+-0xe08+0x2c8*0xc)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0xacc+-0xac*-0x11+-0x1638]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x4*0x821+-0xa*-0x138+-0x4*0xb2d]['indexed']=!(0x2482+-0x1db3+-0x367*0x2)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x448*0x8+0x209*-0x8+0x1*-0x11f8,this['_geometryD'+'ata']['indexCount']=0x227d+0x3*-0x8b4+0x37*-0x27,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1884+0x589+-0x6*-0x32a),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x1640*0x1+0x2*0x10cf+-0x1*0x37dd),this['_geometryD'+'ata']['recreate']=!(-0x1812+-0x1ae4*0x1+0x1*0x32f7),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x1b8cc6){const _0x2219c7=[];for(const _0x44182e in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x5f042f=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x44182e];_0x2219c7['push']({'semantic':_0x44182e,'components':_0x5f042f['componentC'+'ount'],'type':_0x5f042f['dataType'],'normalize':_0x5f042f['dataTypeNo'+'rmalize'],'asInt':_0x5f042f['asInt']});}return new Et(this['device'],_0x2219c7,_0x1b8cc6);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x1e0cdb=this['_geometryD'+'ata']['maxVertice'+'s'],_0x662a0e=this['_buildVert'+'exFormat'](_0x1e0cdb);this['vertexBuff'+'er']=new os(this['device'],_0x662a0e,_0x1e0cdb,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x1163f9=new go(this['vertexBuff'+'er']),_0x38087b=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x97f888 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3d8d5e=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x97f888];_0x1163f9['writeData'](_0x97f888,_0x3d8d5e['data'],_0x38087b),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x97f888];}_0x1163f9['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x1dea+-0x11*0xd3+0x45*-0x3b||!this['indexBuffe'+'r'][0x39*-0xa1+0x2*0xb7+-0x10b*-0x21]){const _0x5d5711=this['_geometryD'+'ata']['maxVertice'+'s'],_0x2ab791=_0x5d5711>0x1753e+-0x7357*-0x1+-0x744b*0x2||_0x5d5711===-0xb*0x1+-0x113+0x1a*0xb?nr:Pi,_0x4cc220=this['_storageIn'+'dex']?{'storage':!(0x1cf7+-0x8b4+-0x1443)}:void(0x1fc*0x1+0xe*-0x11c+0xd8c);this['indexBuffe'+'r'][-0x5*0x76f+0x1a7c+0xaaf*0x1]=new lr(this['device'],_0x2ab791,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x5*-0x589+0x87*0x1+-0xd93*-0x2),_0x4cc220);}const _0x1d4eb9=this['_geometryD'+'ata']['indices'];_0x1d4eb9&&(this['indexBuffe'+'r'][-0x303*-0xb+0x3d*-0x55+0x8*-0x19c]['writeData'](_0x1d4eb9,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x2714ab){_0x2714ab===Dr?this['generateWi'+'reframe']():_0x2714ab===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x26fd+0x1ce0+0xa1d,'indexed':!(-0x1645+-0x209c+0x36e2)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x1aa9cd=this['vertexBuff'+'er']['numVertice'+'s'],_0x15d515=[];let _0x4e396a;if(this['indexBuffe'+'r']['length']>-0x11b8+-0x1747+0x28ff&&this['indexBuffe'+'r'][0xd08*0x2+-0x11f1+-0x81f]){const _0x36e085=[[0x2445+0x27b*-0x5+0x2f*-0x82,0xe11+0x6*0x49d+-0x29be],[-0x1095*0x2+0x1b9c+0x58f*0x1,0x7*0x3a6+-0x10c*0x13+-0x5a4],[0x5ee+-0x15f7+0x100b,-0x17c1+-0x2224+0x39e5*0x1]],_0x237b15=this['primitive'][yo]['base'],_0x24adc7=this['primitive'][yo]['count'],_0x4fdc5f=this['indexBuffe'+'r'][yo],_0x57faaa=new Lh[_0x4fdc5f['format']](_0x4fdc5f['storage']),_0x390550=new Set();for(let _0xc33f37=_0x237b15;_0xc33f37<_0x237b15+_0x24adc7;_0xc33f37+=-0x1e35+0x2334+0x2c*-0x1d)for(let _0x339ed7=0xbc*-0x26+0x6b4+-0x76*-0x2e;_0x339ed7<0x4*0x8e7+-0x2*0x74+-0x53*0x6b;_0x339ed7++){const _0x3d8dc0=_0x57faaa[_0xc33f37+_0x36e085[_0x339ed7][0x21c9+0x1b19+-0x3ce2]],_0x2c873d=_0x57faaa[_0xc33f37+_0x36e085[_0x339ed7][-0x1*0x47a+0x11ab+-0x10*0xd3]],_0x467c86=_0x3d8dc0>_0x2c873d?_0x2c873d*_0x1aa9cd+_0x3d8dc0:_0x3d8dc0*_0x1aa9cd+_0x2c873d;_0x390550['has'](_0x467c86)||(_0x390550['add'](_0x467c86),_0x15d515['push'](_0x3d8dc0,_0x2c873d));}_0x4e396a=_0x4fdc5f['format'];}else{for(let _0x362cbb=-0x8*-0x130+0x813+-0x1193;_0x362cbb<_0x1aa9cd;_0x362cbb+=0x1*-0x463+0xb9b+-0x735)_0x15d515['push'](_0x362cbb,_0x362cbb+(0x1*0x72b+-0x8ea+-0x1c0*-0x1),_0x362cbb+(-0x5*-0x611+0xeba+-0x2d0e*0x1),_0x362cbb+(-0x379*-0x2+0x3ea+-0xada),_0x362cbb+(-0x867*-0x1+0x1dfc+-0x28f*0xf),_0x362cbb);_0x4e396a=_0x15d515['length']>-0x5ec2+-0x1615*0x13+0x550*0x91?nr:Pi;}const _0x472107=new lr(this['vertexBuff'+'er']['device'],_0x4e396a,_0x15d515['length']);new Lh[_0x472107['format']](_0x472107['storage'])['set'](_0x15d515),_0x472107['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x15d515['length'],'indexed':!(-0x204a+0x16bf+-0x15d*-0x7)},this['indexBuffe'+'r'][Dr]=_0x472107;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),Wm=new T(),$m=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x440fc2,_0x39e1b4){return _0x440fc2 instanceof Function?_0x440fc2:_0xa10b3a=>{let _0x5df6f5=_0xa10b3a[_0x440fc2];return _0x5df6f5 instanceof Function&&(_0x5df6f5=_0x5df6f5()),_0x5df6f5===_0x39e1b4;};}function w0(_0x5d5a43,_0x3198cb){if(_0x3198cb(_0x5d5a43))return _0x5d5a43;const _0x2b6c3f=_0x5d5a43['_children'],_0x4e28be=_0x2b6c3f['length'];for(let _0x5766ae=-0x2340+0x12a*-0x13+-0xe*-0x419;_0x5766ae<_0x4e28be;++_0x5766ae){const _0xb2980c=w0(_0x2b6c3f[_0x5766ae],_0x3198cb);if(_0xb2980c)return _0xb2980c;}return null;}class De extends ce{constructor(_0x533aa0='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(0x35a*0x7+-0xd9b+-0x61*0x1a,-0x1*-0x1411+-0x2303+0xef3,0xf*0x175+-0x1942+0x1b4*0x2)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x2fc+-0x20bc+0x3b*0x9b)),c(this,'_aabbVer',-0x1eb5+0x888*0x2+-0x7*-0x1f3),c(this,'_frozen',!(0x1*-0x21e7+-0x14e7+-0x36cf*-0x1)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0x92*-0x44+0x3ee*0x3+-0x3291)),c(this,'_worldScal'+'eSign',-0x8*-0x449+0x14d*-0xc+-0x12ac),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(0x1*-0xa35+0x1999+-0xf64)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0x218f+-0x2258+-0x1*-0xc9),c(this,'_enabled',!(-0x1*0x2221+-0x18ce+-0x2f*-0x141)),c(this,'_enabledIn'+'Hierarchy',!(-0x178b+-0x25b6+0x1*0x3d42)),c(this,'scaleCompe'+'nsation',!(0xb*-0x21d+-0xc*-0x7f+0x114c)),this['name']=_0x533aa0;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x927+-0xcf7+-0x161f*-0x1));}get['normalMatr'+'ix'](){const _0x3f102d=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x3f102d['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x6*0x532+-0x1c18+0x1*-0x313)),_0x3f102d;}set['enabled'](_0x345f74){var _0x55f8f4;this['_enabled']!==_0x345f74&&(this['_enabled']=_0x345f74,(_0x345f74&&((_0x55f8f4=this['_parent'])!=null&&_0x55f8f4['enabled'])||!_0x345f74)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x345f74));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x47442d=this['_parent'];if(!_0x47442d)return'';let _0x39bf2f=this['name'];for(;_0x47442d&&_0x47442d['_parent'];)_0x39bf2f=_0x47442d['name']+'/'+_0x39bf2f,_0x47442d=_0x47442d['_parent'];return _0x39bf2f;}get['root'](){let _0x5885d5=this;for(;_0x5885d5['_parent'];)_0x5885d5=_0x5885d5['_parent'];return _0x5885d5;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x27e2ec,_0x1fd067){_0x27e2ec['_onHierarc'+'hyStateCha'+'nged'](_0x1fd067);const _0x30a7cc=_0x27e2ec['_children'];for(let _0x2a6b57=0xd0d+0x14*0x19c+-0x139*0x25,_0x38af83=_0x30a7cc['length'];_0x2a6b57<_0x38af83;_0x2a6b57++)_0x30a7cc[_0x2a6b57]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x30a7cc[_0x2a6b57],_0x1fd067);}['_onHierarc'+'hyStateCha'+'nged'](_0x33891c){this['_enabledIn'+'Hierarchy']=_0x33891c,_0x33891c&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x54e291){_0x54e291['name']=this['name'];const _0x5276eb=this['tags']['_list'];_0x54e291['tags']['clear']();for(let _0x54576c=-0xad*0x13+0x147c+-0x7a5;_0x54576c<_0x5276eb['length'];_0x54576c++)_0x54e291['tags']['add'](_0x5276eb[_0x54576c]);_0x54e291['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x54e291['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x54e291['localScale']['copy'](this['localScale']),_0x54e291['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x54e291['position']['copy'](this['position']),_0x54e291['rotation']['copy'](this['rotation']),_0x54e291['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x54e291['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x54e291['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x54e291['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x54e291['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x54e291['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x54e291['_aabbVer']=this['_aabbVer']+(0x404*0x7+-0x4*-0x6a9+-0x1*0x36bf),_0x54e291['_enabled']=this['_enabled'],_0x54e291['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x54e291['_enabledIn'+'Hierarchy']=!(0x1*0x16e5+-0x1403+-0x2e1);}['clone'](){const _0x1dd574=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x1dd574),_0x1dd574;}['copy'](_0x5e52a5){return _0x5e52a5['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x15bffb=this['_children'];for(;_0x15bffb['length'];){const _0x589b53=_0x15bffb['pop']();_0x589b53['_parent']=null,_0x589b53['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x389f9f,_0x257a66){const _0x53f5b3=[],_0x5ee9a9=Xm(_0x389f9f,_0x257a66);return this['forEach'](_0x392033=>{_0x5ee9a9(_0x392033)&&_0x53f5b3['push'](_0x392033);}),_0x53f5b3;}['findOne'](_0x586dc6,_0x83391e){const _0x3faf7d=Xm(_0x586dc6,_0x83391e);return w0(this,_0x3faf7d);}['findByTag'](){const _0x10cbde=arguments,_0x5095f5=[],_0x4ce332=(_0xfbc50f,_0x4525ac)=>{_0x4525ac&&_0xfbc50f['tags']['has'](..._0x10cbde)&&_0x5095f5['push'](_0xfbc50f);for(let _0x2492ac=0xfe8+0x18d*0x4+0x1*-0x161c;_0x2492ac<_0xfbc50f['_children']['length'];_0x2492ac++)_0x4ce332(_0xfbc50f['_children'][_0x2492ac],!(0xa80+-0x1b3*-0x16+-0x2fe2));};return _0x4ce332(this,!(-0x4c*0x40+-0x1*-0x1369+0x1*-0x68)),_0x5095f5;}['findByName'](_0x477881){return this['findOne']('name',_0x477881);}['findByPath'](_0x1a3313){const _0x2a9c7a=Array['isArray'](_0x1a3313)?_0x1a3313:_0x1a3313['split']('/');let _0x4ae69a=this;for(let _0x305368=-0x2252+-0x2003+0x4255,_0x320e7f=_0x2a9c7a['length'];_0x305368<_0x320e7f;++_0x305368)if(_0x4ae69a=_0x4ae69a['children']['find'](_0x42c1eb=>_0x42c1eb['name']===_0x2a9c7a[_0x305368]),!_0x4ae69a)return null;return _0x4ae69a;}['forEach'](_0x29af24,_0x190a81){_0x29af24['call'](_0x190a81,this);const _0x49f354=this['_children'],_0x3f31df=_0x49f354['length'];for(let _0x34350c=0x1*-0x86b+-0xfd1+0x183c;_0x34350c<_0x3f31df;++_0x34350c)_0x49f354[_0x34350c]['forEach'](_0x29af24,_0x190a81);}['isDescenda'+'ntOf'](_0x30e548){let _0x161571=this['_parent'];for(;_0x161571;){if(_0x161571===_0x30e548)return!(-0x236e+0x12b2*-0x1+0x3620);_0x161571=_0x161571['_parent'];}return!(-0x1a44+-0x23*0x13+0xa*0x2e3);}['isAncestor'+'Of'](_0x37eb70){return _0x37eb70['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x2326+0xf9d+0x7a*0x29)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x1119+0x1b*-0xdd+0xd78*0x3&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x22e7f1;(_0x22e7f1=this['_parent'])==null||_0x22e7f1['removeChil'+'d'](this);}['reparent'](_0x5bfb1c,_0x8ad427){this['remove'](),_0x5bfb1c&&(_0x8ad427>=0x1*-0x44d+-0x1480+0x18cd?_0x5bfb1c['insertChil'+'d'](this,_0x8ad427):_0x5bfb1c['addChild'](this));}['setLocalEu'+'lerAngles'](_0x552db5,_0x59336f,_0x20fa87){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x552db5,_0x59336f,_0x20fa87),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x2be7e2,_0x56aed2,_0x54a737){_0x2be7e2 instanceof T?this['localPosit'+'ion']['copy'](_0x2be7e2):this['localPosit'+'ion']['set'](_0x2be7e2,_0x56aed2,_0x54a737),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x3d4488,_0x2cb5ed,_0x2d9799,_0x15858a){_0x3d4488 instanceof se?this['localRotat'+'ion']['copy'](_0x3d4488):this['localRotat'+'ion']['set'](_0x3d4488,_0x2cb5ed,_0x2d9799,_0x15858a),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x2614d5,_0x5d312c,_0x16ff74){_0x2614d5 instanceof T?this['localScale']['copy'](_0x2614d5):this['localScale']['set'](_0x2614d5,_0x5d312c,_0x16ff74),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x1c*0x15e+-0x6*0x41b+0x2*-0x6d3),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x2556b6=this['_parent'];for(;_0x2556b6;)_0x2556b6['_frozen']=!(0x1111+0x2521+-0x1*0x3631),_0x2556b6=_0x2556b6['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x249e+-0x2f*0x21+0x1*-0x1e8e),this['_dirtyWorl'+'d']=!(0xb4*-0x1c+-0xc*0x11+0x147c);for(let _0x1b1384=-0x2106+-0x1194+0x66*0x7f;_0x1b1384<this['_children']['length'];_0x1b1384++)this['_children'][_0x1b1384]['_dirtyWorl'+'d']||this['_children'][_0x1b1384]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x24*-0x1a+0xa41+-0xde9),this['_worldScal'+'eSign']=-0xb38*-0x1+-0x183*0x3+-0x6af,this['_aabbVer']++;}['setPositio'+'n'](_0x18be3c,_0x49554b,_0x53f04b){_0x18be3c instanceof T?kt['copy'](_0x18be3c):kt['set'](_0x18be3c,_0x49554b,_0x53f04b),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x34c46c,_0x120563,_0x3a9d47,_0x2c0995){if(_0x34c46c instanceof se?Bt['copy'](_0x34c46c):Bt['set'](_0x34c46c,_0x120563,_0x3a9d47,_0x2c0995),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x2d98e6=this['_parent']['getRotatio'+'n']();An['copy'](_0x2d98e6)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x26ab37,_0x1bab32){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x26ab37),this['localRotat'+'ion']['copy'](_0x1bab32);else{const _0x3e64d7=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x3e64d7)['invert'](),Ha['transformP'+'oint'](_0x26ab37,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x1bab32);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x415bd3,_0x448209,_0x42e8fd){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x415bd3,_0x448209,_0x42e8fd),this['_parent']!==null){const _0x5b6e35=this['_parent']['getRotatio'+'n']();An['copy'](_0x5b6e35)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x15362f){this['_prepareIn'+'sertChild'](_0x15362f),this['_children']['push'](_0x15362f),this['_onInsertC'+'hild'](_0x15362f);}['addChildAn'+'dSaveTrans'+'form'](_0x2839d8){const _0x206555=_0x2839d8['getPositio'+'n'](),_0x3bf0aa=_0x2839d8['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x2839d8),_0x2839d8['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x206555)),_0x2839d8['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x3bf0aa)),this['_children']['push'](_0x2839d8),this['_onInsertC'+'hild'](_0x2839d8);}['insertChil'+'d'](_0x2b384a,_0x56cbdf){this['_prepareIn'+'sertChild'](_0x2b384a),this['_children']['splice'](_0x56cbdf,-0xd3*0x25+0x627*0x5+-0x44,_0x2b384a),this['_onInsertC'+'hild'](_0x2b384a);}['_prepareIn'+'sertChild'](_0x175847){_0x175847['remove'](),v['assert'](_0x175847!==this,'GraphNode\x20'+(_0x175847==null?void(0xb21+-0x1*0xd60+0x23f):_0x175847['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x175847),'GraphNode\x20'+(_0x175847==null?void(-0x1b2+0x1*0x10b4+-0xf02):_0x175847['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x26a1ef,_0x1d382f,_0x3abc8c){this['fire'](_0x26a1ef,_0x3abc8c);for(let _0x3b93ef=-0x1*0x2326+0x540+-0xef3*-0x2;_0x3b93ef<this['_children']['length'];_0x3b93ef++)this['_children'][_0x3b93ef]['_fireOnHie'+'rarchy'](_0x1d382f,_0x1d382f,_0x3abc8c);}['_onInsertC'+'hild'](_0x520c05){_0x520c05['_parent']=this;const _0x2e9929=_0x520c05['_enabled']&&this['enabled'];_0x520c05['_enabledIn'+'Hierarchy']!==_0x2e9929&&(_0x520c05['_enabledIn'+'Hierarchy']=_0x2e9929,_0x520c05['_notifyHie'+'rarchyStat'+'eChanged'](_0x520c05,_0x2e9929)),_0x520c05['_updateGra'+'phDepth'](),_0x520c05['_dirtifyWo'+'rld'](),this['_frozen']&&_0x520c05['_unfreezeP'+'arentToRoo'+'t'](),_0x520c05['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x520c05);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x15*0x159+-0xdea+0xe*-0x107):0x7*0x43f+-0x912+0x137*-0x11;for(let _0x5f2655=0xadf*0x1+-0x2b*-0x11+-0xdba,_0x275bf5=this['_children']['length'];_0x5f2655<_0x275bf5;_0x5f2655++)this['_children'][_0x5f2655]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x5707f8){const _0x23238e=this['_children']['indexOf'](_0x5707f8);_0x23238e!==-(-0x15ed+-0x7b2+0x1da0)&&(this['_children']['splice'](_0x23238e,-0x369+0x1cf5+-0x198b),_0x5707f8['_parent']=null,_0x5707f8['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x5707f8));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x58b*-0x1+0x658*0x1+-0xbe2)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x33912a;const _0xddb9a6=this['_parent'];let _0x8fa0a7=this['localScale'],_0x4ee26e=_0xddb9a6;if(_0x4ee26e){for(;_0x4ee26e&&_0x4ee26e['scaleCompe'+'nsation'];)_0x4ee26e=_0x4ee26e['_parent'];_0x4ee26e&&(_0x4ee26e=_0x4ee26e['_parent'],_0x4ee26e&&(_0x33912a=_0x4ee26e['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x33912a,this['localScale']),_0x8fa0a7=Wm));}_d['setFromMat'+'4'](_0xddb9a6['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x23d031=_0xddb9a6['worldTrans'+'form'];_0xddb9a6['scaleCompe'+'nsation']&&($m['mul2'](_0x33912a,_0xddb9a6['getLocalSc'+'ale']()),Gm['setTRS'](_0xddb9a6['worldTrans'+'form']['getTransla'+'tion'](md),_d,$m),_0x23d031=Gm),_0x23d031['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x8fa0a7);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x1195*0x2+-0xca1*0x2+0x3c6d);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x10*0xa0+0x92d+-0xd3*-0x1),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x51786b=this['_children'];for(let _0x2e28b0=-0x2*0xda8+-0xf69+0x2ab9*0x1,_0x389897=_0x51786b['length'];_0x2e28b0<_0x389897;_0x2e28b0++)_0x51786b[_0x2e28b0]['syncHierar'+'chy']();}['lookAt'](_0xa5a044,_0x4771f6,_0x1018e1,_0x16fbc1=-0x1361*-0x1+-0x1700+-0x67*-0x9,_0x5e5c84=-0xf64+0x228f+-0x132a*0x1,_0x550a83=-0xd5*-0x17+0x110c*0x1+-0x242f){if(_0xa5a044 instanceof T)gd['copy'](_0xa5a044),_0x4771f6 instanceof T?El['copy'](_0x4771f6):El['copy'](T['UP']);else{if(_0x1018e1===void(-0xedb*-0x1+-0x2*-0x685+-0x25*0xc1))return;gd['set'](_0xa5a044,_0x4771f6,_0x1018e1),El['set'](_0x16fbc1,_0x5e5c84,_0x550a83);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x2417aa,_0x3a79a7,_0x451020){_0x2417aa instanceof T?kt['copy'](_0x2417aa):kt['set'](_0x2417aa,_0x3a79a7,_0x451020),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x13f105,_0x463d0f,_0x514aa8){_0x13f105 instanceof T?kt['copy'](_0x13f105):kt['set'](_0x13f105,_0x463d0f,_0x514aa8),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x300593,_0x93a76,_0x55f496){if(Bt['setFromEul'+'erAngles'](_0x300593,_0x93a76,_0x55f496),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x31a775=this['getRotatio'+'n'](),_0x5ea0a2=this['_parent']['getRotatio'+'n']();An['copy'](_0x5ea0a2)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x31a775);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x4d4a53,_0x57f53d,_0x47c1ca){Bt['setFromEul'+'erAngles'](_0x4d4a53,_0x57f53d,_0x47c1ca),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x154002){const _0x34843f=T0['get'](_0x154002);return v['assert'](_0x34843f),_0x34843f;}function sC(_0x51dfeb,_0x1fd231){v['assert'](_0x1fd231),T0['get'](_0x51dfeb,()=>_0x1fd231);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0xff0b64,_0x5e1af7)=>{_0x5e1af7['destroy']();}),this['cache']['clear']();}['incRef'](_0x4b7000){const _0x1d9acf=(this['cache']['get'](_0x4b7000)||0x1*0xb5a+0x1e55+-0x29af)+(-0x2294+-0x1*0x2453+0x46e8);this['cache']['set'](_0x4b7000,_0x1d9acf);}['decRef'](_0x4fb8f9){if(_0x4fb8f9){let _0x3bdfd1=this['cache']['get'](_0x4fb8f9);_0x3bdfd1&&(_0x3bdfd1--,_0x3bdfd1===-0x629*-0x1+0x3a9*-0x8+-0x7b5*-0x3?(this['cache']['delete'](_0x4fb8f9),_0x4fb8f9['destroy']()):this['cache']['set'](_0x4fb8f9,_0x3bdfd1));}}}class Si{static['incRef'](_0x187b5d){this['cache']['incRef'](_0x187b5d);}static['decRef'](_0xe6285d){this['cache']['decRef'](_0xe6285d);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=0x2c6*-0x5+-0xdbe*0x2+0x295a;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(-0xcbb+-0x1c50+-0x17*-0x1c9);class aC{constructor(_0xb947a8){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(0xeeb+-0x20e+-0xcdc)),this['count']=_0xb947a8;}['destroy'](){var _0x5cdedf;this['_destroyVe'+'rtexBuffer']&&((_0x5cdedf=this['vertexBuff'+'er'])==null||_0x5cdedf['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x2b5b3e){if(!this['bindGroup']){const _0x321e16=this['shader'];v['assert'](_0x321e16);const _0x5e957b=_0x321e16['meshBindGr'+'oupFormat'];v['assert'](_0x5e957b),this['bindGroup']=new mp(_0x2b5b3e,_0x5e957b),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x469cfe){if(!this['uniformBuf'+'fer']){const _0x5a183d=this['shader'];v['assert'](_0x5a183d);const _0x183d3a=_0x5a183d['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x183d3a),this['uniformBuf'+'fer']=new gp(_0x469cfe,_0x183d3a,!(-0x2043+-0x658+0x269c));}return this['uniformBuf'+'fer'];}['destroy'](){var _0xeebe71,_0x2f093d;(_0xeebe71=this['bindGroup'])==null||_0xeebe71['destroy'](),this['bindGroup']=null,(_0x2f093d=this['uniformBuf'+'fer'])==null||_0x2f093d['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x4c6eb4,_0x1d97fe,_0x454d5b=null){c(this,'castShadow',!(0x1f03*-0x1+0x2cb+0x1c39)),c(this,'cull',!(-0x59*0x29+-0x1f32+0x2d73)),c(this,'drawOrder',0xb*-0x1a1+0x643*0x1+-0x5d4*-0x2),c(this,'node'),c(this,'visible',!(0x17b8+0x963+-0x71*0x4b)),c(this,'visibleThi'+'sFrame',!(-0x19f8+0x52d+0x2c*0x79)),c(this,'flipFacesF'+'actor',0x361*0xb+0x3*0x15c+-0x293e),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(0xd43+0x63*-0x11+-0x6b0)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0xc2a+0xfe0+-0x1c09*0x1)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(-0x15*0x188+0xd*-0x1e8+0x38f1)),c(this,'_aabbMeshV'+'er',-(0x2037+-0x1d0c+0x6*-0x87)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(-0x22ca+-0x196*0x8+0x2f7a*0x1)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x1*-0x1d77+0x3ec+-0xd*-0x1f7,-0x40e+0x2159+-0x1d4b]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0x35*0x3d+-0xdd6+0x1a77)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(-0x131*-0x11+-0x2451+0x1011)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0x1655+-0xf2*-0x11+-0x1*0x2657),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x4c6eb4 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x454d5b,this['_mesh']=_0x4c6eb4,_0x4c6eb4['incRefCoun'+'t'](),this['material']=_0x1d97fe,_0x4c6eb4['vertexBuff'+'er']){const _0x8dfee9=_0x4c6eb4['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x8dfee9['hasUv0']?m0:0x62*0x4a+0x1*0xe1f+-0x1*0x2a73,this['_shaderDef'+'s']|=_0x8dfee9['hasUv1']?_0:0xae*0x2+-0x4b2*-0x7+0x2*-0x111d,this['_shaderDef'+'s']|=_0x8dfee9['hasColor']?g0:0x1236+0x2499+-0x9*0x617,this['_shaderDef'+'s']|=_0x8dfee9['hasTangent'+'s']?Mp:0x771*0x2+0x2*-0xae7+0x4*0x1bb;}this['updateKey']();}set['renderStyl'+'e'](_0x42146b){this['_renderSty'+'le']=_0x42146b,this['mesh']['prepareRen'+'derState'](_0x42146b);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x34b65f){_0x34b65f!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x34b65f,_0x34b65f&&_0x34b65f['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x33c70b){this['_aabb']=_0x33c70b;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x576a75=this['_customAab'+'b'],_0x4b8ead=!!_0x576a75;if(!_0x576a75){if(_0x576a75=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x146059=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x146059);}const _0x1720f1=this['mesh']['boneUsed'];let _0x53d26e=!(0x1*0x24cd+-0x1c08+0x5*-0x1c1);for(let _0x482da9=-0x5*-0x4c1+0xa16+-0x51*0x6b;_0x482da9<this['mesh']['boneAabb']['length'];_0x482da9++)_0x1720f1[_0x482da9]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x482da9],this['skinInstan'+'ce']['matrices'][_0x482da9]),_0x53d26e?(_0x53d26e=!(0xc9*0x1b+0x1cc7*-0x1+0x287*0x3),_0x576a75['center']['copy'](Cl['center']),_0x576a75['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x576a75['add'](Cl));_0x4b8ead=!(0x61b+-0x1*-0xafe+0x1*-0x1119);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x576a75['center']['copy'](this['mesh']['aabb']['center']),_0x576a75['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x576a75['center']['set'](0x1*0x1ea1+-0x146c+-0xa35,0x1fc1+-0x1bb*0x1+-0x501*0x6,-0x231*0x2+-0x1*0x16e6+-0x6*-0x48c),_0x576a75['halfExtent'+'s']['set'](0x2342+-0x1f9f+-0x3a3,0x1*0x1c2b+0xc1c+0x15*-0x1eb,0xfd8+-0x1*0x10a3+0xcb)),this['mesh']&&this['mesh']['morph']){const _0x5867cc=this['mesh']['morph']['aabb'];_0x576a75['_expand'](_0x5867cc['getMin'](),_0x5867cc['getMax']());}_0x4b8ead=!(-0x3*0xaec+-0x232f+0x43f3),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x4b8ead&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x576a75,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x58f0d8=>{_0x58f0d8['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x66e849,_0x33ead3,_0x2878f1,_0x4b5163,_0x3ff41b,_0x3cf5da,_0x24acc8){var _0xc2e19d;const _0x3e0dab=this['_shaderDef'+'s'];yr[-0x1f13+0x868*0x3+-0x1*-0x5db]=_0x66e849,yr[0x40a+-0xb67+0x75e]=_0x33ead3,yr[0x2d4*-0x1+-0x5db*0x4+0x1a42]=_0x3e0dab,yr[-0x1b20+0x613*0x1+0x1510]=_0x4b5163['hash'];const _0x301645=Zy(yr);let _0x10724c=this['_shaderCac'+'he']['get'](_0x301645);if(!_0x10724c){const _0x27dbe6=this['_material'];if(_0x10724c=new oC(),_0x10724c['shader']=_0x27dbe6['variants']['get'](_0x301645),_0x10724c['hashes']=new Uint32Array(yr),!_0x10724c['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x2efde9=_0x27dbe6['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x2878f1,'objDefs':_0x3e0dab,'cameraShaderParams':_0x4b5163,'pass':_0x66e849,'sortedLights':_0x24acc8,'viewUniformFormat':_0x3ff41b,'viewBindGroupFormat':_0x3cf5da,'vertexFormat':(_0xc2e19d=this['mesh']['vertexBuff'+'er'])==null?void(-0x957*-0x4+0xb0d+0x1*-0x3069):_0xc2e19d['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x27dbe6['variants']['set'](_0x301645,_0x2efde9),_0x10724c['shader']=_0x2efde9;}this['_shaderCac'+'he']['set'](_0x301645,_0x10724c);}return v['call'](()=>{Wv['equals'](_0x10724c['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x10724c;}set['material'](_0x17bcfc){this['clearShade'+'rs']();const _0x29a11b=this['_material'];_0x29a11b&&_0x29a11b['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x17bcfc,_0x17bcfc&&(_0x17bcfc['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x17bcfc['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x36b05e){this['_layer']=_0x36b05e,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x25da2a){_0x25da2a!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x25da2a,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x3c3a02){this['_calculate'+'SortDistan'+'ce']=_0x3c3a02;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x488026){this['_receiveSh'+'adow']!==_0x488026&&(this['_receiveSh'+'adow']=_0x488026,this['_updateSha'+'derDefs'](_0x488026?this['_shaderDef'+'s']&-(-0x1*-0x1051+0x6e9+-0x1738):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x2bf166){this['_updateSha'+'derDefs'](_0x2bf166?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(0x4ebe*0x1+-0x455a+-0x155*-0x29));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0x2110+0x2208+-0x13*0x388;}set['skinInstan'+'ce'](_0x20b5e1){this['_skinInsta'+'nce']=_0x20b5e1,this['_updateSha'+'derDefs'](_0x20b5e1?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0xb73+-0xd2b+0xd*0x1e5)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x1f04e9){var _0x5c8ec3;(_0x5c8ec3=this['_morphInst'+'ance'])==null||_0x5c8ec3['destroy'](),this['_morphInst'+'ance']=_0x1f04e9;let _0xda5316=this['_shaderDef'+'s'];_0xda5316=_0x1f04e9&&_0x1f04e9['morph']['morphPosit'+'ions']?_0xda5316|qc:_0xda5316&-(0x3*-0x95f+-0xc39*-0x3+0x5*-0xe9),_0xda5316=_0x1f04e9&&_0x1f04e9['morph']['morphNorma'+'ls']?_0xda5316|Xc:_0xda5316&-(0x1*0x676+0x14*0xaf+0x1b*-0x73),_0xda5316=_0x1f04e9&&_0x1f04e9['morph']['intRenderF'+'ormat']?_0xda5316|jc:_0xda5316&-(-0x29c9+0x9eb*-0x1+0x94d*0x9),this['_updateSha'+'derDefs'](_0xda5316);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x4463a5){this['_screenSpa'+'ce']!==_0x4463a5&&(this['_screenSpa'+'ce']=_0x4463a5,this['_updateSha'+'derDefs'](_0x4463a5?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(-0x19f5+-0x1fd6+0x3acc)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x2f25c6){this['_key'][Ei]=_0x2f25c6;}get['key'](){return this['_key'][Ei];}set['mask'](_0x4a6d77){const _0x4b209d=this['_shaderDef'+'s']&0x1*0x1f562+0x50e9+0x3662*-0x6;this['_updateSha'+'derDefs'](_0x4b209d|_0x4a6d77<<-0x2658+-0x8c+0x26f4);}get['mask'](){return this['_shaderDef'+'s']>>-0x1*0x23b7+-0x4*-0x7e2+0x43f;}set['instancing'+'Count'](_0x1303c4){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x1303c4);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x1*0x1e55+0x182a*-0x1+0x367f;}['destroy'](){var _0x2f665f,_0x2b40bd,_0xa1ef1;const _0x3e68f7=this['mesh'];_0x3e68f7&&(this['mesh']=null,_0x3e68f7['refCount']<0x259d*-0x1+-0x1958+0x2*0x1f7b&&_0x3e68f7['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x2123+-0x3ad*-0x5+0x274*-0x15],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0xfdd+0x14a*-0x3+-0xbfe],null),(_0x2f665f=this['_skinInsta'+'nce'])==null||_0x2f665f['destroy'](),this['_skinInsta'+'nce']=null,(_0x2b40bd=this['morphInsta'+'nce'])==null||_0x2b40bd['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0xa1ef1=this['instancing'+'Data'])==null||_0xa1ef1['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x391845,_0xaabb20){if(_0x391845){for(let _0x5afaaa=-0x17*-0x12+0x96b+-0x235*0x5;_0x5afaaa<_0x391845['length'];_0x5afaaa++){_0x391845[_0x5afaaa]['_renderSty'+'le']=_0xaabb20;const _0x185209=_0x391845[_0x5afaaa]['mesh'];xd['has'](_0x185209)||(xd['add'](_0x185209),_0x185209['prepareRen'+'derState'](_0xaabb20));}xd['clear']();}}['_isVisible'](_0x3a2b5e){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x3a2b5e):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x3a2b5e['frustum']['containsSp'+'here'](yd)>-0x7a6*-0x5+0x1*0x3fc+-0x2a3a):!(0x5*0x69a+0x741+-0x2842);}['updateKey'](){const _0x13e768=this['material'],_0x545418=_0x13e768['alphaToCov'+'erage']||_0x13e768['alphaTest']?Kt:_0x13e768['blendType'];this['_key'][Ei]=(this['layer']&-0x7ab+-0x1*0x9f2+-0xae*-0x1a)<<-0x1*0x107b+-0x2134+0x31ca|(_0x545418===is?-0x1336+0x2*0x2e3+0xd71:0x407*0x7+0x1*0x1b59+-0x378a)<<-0x125+-0xbd3+0x689*0x2|(_0x13e768['id']&-0x123f*0x127f+0x174d3*-0x27a+0x6eccdce)<<-0x12b9*0x2+-0x17cd+0x3d3f*0x1;}['setInstanc'+'ing'](_0xe184cc,_0x56499c=!(0x1627*0x1+0x5*0x3b3+-0x821*0x5)){_0xe184cc?(this['instancing'+'Data']=new aC(_0xe184cc['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0xe184cc,_0xe184cc['format']['instancing']=!(-0x90f+-0xb1e*-0x2+-0x1*0xd2d),this['cull']=_0x56499c):(this['instancing'+'Data']=null,this['cull']=!(0xa25+-0x1b*0x53+-0x164)),this['_updateSha'+'derDefs'](_0xe184cc?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(0x2*-0x1357+0xfc3+0x170c));}['ensureMate'+'rial'](_0x12833a){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x12833a));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x28f0eb){return this['parameters'][_0x28f0eb];}['setParamet'+'er'](_0x306eb4,_0x2cf479,_0x1010e6=-0xd32ce53f*-0x1+-0x1cf7c89cf+0x1fc4fa48f*0x1){const _0x5b2175=this['parameters'][_0x306eb4];_0x5b2175?(_0x5b2175['data']=_0x2cf479,_0x5b2175['passFlags']=_0x1010e6):this['parameters'][_0x306eb4]={'scopeId':null,'data':_0x2cf479,'passFlags':_0x1010e6};}['setRealtim'+'eLightmap'](_0x1f7cfc,_0x588d9b){const _0x5bfd15=this['getParamet'+'er'](_0x1f7cfc);_0x5bfd15!==_0x588d9b&&(_0x5bfd15&&Si['decRef'](_0x5bfd15['data']),_0x588d9b?(Si['incRef'](_0x588d9b),this['setParamet'+'er'](_0x1f7cfc,_0x588d9b)):this['deletePara'+'meter'](_0x1f7cfc));}['deletePara'+'meter'](_0x29e1d8){this['parameters'][_0x29e1d8]&&delete this['parameters'][_0x29e1d8];}['setParamet'+'ers'](_0x5640af,_0x2be7ec){const _0x3d214d=this['parameters'];for(const _0x1d6e0e in _0x3d214d){const _0x331885=_0x3d214d[_0x1d6e0e];_0x331885['passFlags']&_0x2be7ec&&(_0x331885['scopeId']||(_0x331885['scopeId']=_0x5640af['scope']['resolve'](_0x1d6e0e)),_0x331885['scopeId']['setValue'](_0x331885['data']));}}['setLightma'+'pped'](_0x4990dc){_0x4990dc?this['mask']=(this['mask']|cr)&-(0xec4+-0x47*-0x51+-0x2535):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x5*-0x247+-0x2047+0x14e4],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x1394+-0x25f7*-0x1+-0x1262],null),this['_shaderDef'+'s']&=-(-0x1069+0x377+0x1db3),this['mask']=(this['mask']|hs)&-(-0x1896+-0x3ce*0x3+0x2407));}['setCustomA'+'abb'](_0x33db43){_0x33db43?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x33db43):this['_customAab'+'b']=_0x33db43['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x43*-0x46+-0x191+0x13e4)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[0x535*0x7+0x16c5+-0x3b38,-0x1*0xeef+-0xc21*0x1+0x215*0xd,-0x10ff*-0x1+-0x79*0x19+-0x52b,-0x1aee+0xa7*-0x37+0x3ed1,-0x1f62+0x242f+-0x4ca,-0x4*0x28f+0x31*-0x7+0x34*0x39],hC=[0x21a3+-0x3c+-0x11*0x1f7,-0x23d3*0x1+-0x25a8+0x497c*0x1,-0xce8+0xf08+0x21d*-0x1,-0x86*0x43+0x94b+-0x1*-0x19c7,-0x21*0xae+-0x48+0x16b9*0x1,-0x192f+-0x4*-0x393+0xae5],jm=new js();function Ym(_0x2e52e3,_0x1ec875){if(_0x2e52e3&&!_0x1ec875||!_0x2e52e3&&_0x1ec875)return!(-0x154b*0x1+0x116b*-0x2+0x3822);if(_0x2e52e3=_0x2e52e3['data'],_0x1ec875=_0x1ec875['data'],_0x2e52e3===_0x1ec875)return!(-0x1f88+-0x2*0x106d+0x2031*0x2);if(_0x2e52e3 instanceof Float32Array&&_0x1ec875 instanceof Float32Array){if(_0x2e52e3['length']!==_0x1ec875['length'])return!(-0x9be+-0x1cdb*-0x1+-0x131c);for(let _0x54775e=-0x1e8+-0xabf+0xca7;_0x54775e<_0x2e52e3['length'];_0x54775e++)if(_0x2e52e3[_0x54775e]!==_0x1ec875[_0x54775e])return!(0x14f1+0x9cf+-0x1cf*0x11);return!(0xd*-0x12f+0x5*-0x281+0x2f*0x98);}return!(-0x52*-0x47+0x6*0x47+-0x1867*0x1);}function cC(_0x3316bf,_0x4ad7a2){for(const _0x59a950 in _0x3316bf)if(_0x3316bf['hasOwnProp'+'erty'](_0x59a950)&&!Ym(_0x3316bf[_0x59a950],_0x4ad7a2[_0x59a950]))return!(-0x15cd*0x1+-0x42d*0x7+0x3309);for(const _0x8a602b in _0x4ad7a2)if(_0x4ad7a2['hasOwnProp'+'erty'](_0x8a602b)&&!Ym(_0x4ad7a2[_0x8a602b],_0x3316bf[_0x8a602b]))return!(0xf40+0x530+-0x1*0x146f);return!(-0x3f*0x3+0xceb+0xc2e*-0x1);}function Sd(_0x51e031){return _0x51e031['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x39750c,_0x262165,_0x5b4168){this['device']=_0x39750c,this['rootNode']=_0x262165,this['scene']=_0x5b4168,this['_init']=!(-0x1f77+-0x1434+0x2*0x19d6),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0x1b1c+-0x1210+0xb4b*0x4,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x57be79,_0x5649cb,_0x3e5111,_0x52a3df,_0x40d424){if(_0x52a3df===void(-0x20b3+0xa3e+0x1675)&&(_0x52a3df=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x52a3df]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x52a3df+('\x20already\x20e'+'xists.'));return;}const _0x33c661=new et(_0x52a3df,_0x57be79,_0x5649cb,_0x3e5111,_0x40d424);return this['_batchGrou'+'ps'][_0x52a3df]=_0x33c661,_0x33c661;}['removeGrou'+'p'](_0x4a3389){if(!this['_batchGrou'+'ps'][_0x4a3389]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x4a3389+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x42e4c8=[];for(let _0x4d735b=0x12c3*-0x2+0x6e+0x2518;_0x4d735b<this['_batchList']['length'];_0x4d735b++)this['_batchList'][_0x4d735b]['batchGroup'+'Id']===_0x4a3389?this['destroyBat'+'ch'](this['_batchList'][_0x4d735b]):_0x42e4c8['push'](this['_batchList'][_0x4d735b]);this['_batchList']=_0x42e4c8,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x4a3389),delete this['_batchGrou'+'ps'][_0x4a3389];}['markGroupD'+'irty'](_0x1b3557){this['_dirtyGrou'+'ps']['indexOf'](_0x1b3557)<-0x7*0x323+0x1231*0x1+0x3c4&&this['_dirtyGrou'+'ps']['push'](_0x1b3557);}['getGroupBy'+'Name'](_0x3a814e){const _0x16c16b=this['_batchGrou'+'ps'];for(const _0xf5f126 in _0x16c16b)if(_0x16c16b['hasOwnProp'+'erty'](_0xf5f126)&&_0x16c16b[_0xf5f126]['name']===_0x3a814e)return _0x16c16b[_0xf5f126];return null;}['getBatches'](_0x1bfcdd){const _0xfc702d=[],_0x33eb68=this['_batchList']['length'];for(let _0x434009=-0x1e2b*0x1+-0x1aec+0x3917;_0x434009<_0x33eb68;_0x434009++){const _0x39f686=this['_batchList'][_0x434009];_0x39f686['batchGroup'+'Id']===_0x1bfcdd&&_0xfc702d['push'](_0x39f686);}return _0xfc702d;}['_removeMod'+'elsFromBat'+'chGroup'](_0x492630,_0x26842f){if(_0x492630['enabled']){_0x492630['model']&&_0x492630['model']['batchGroup'+'Id']===_0x26842f&&(_0x492630['model']['batchGroup'+'Id']=-(-0x6e9*0x4+0x2472+-0x8cd)),_0x492630['render']&&_0x492630['render']['batchGroup'+'Id']===_0x26842f&&(_0x492630['render']['batchGroup'+'Id']=-(0x1e1e+-0x1a0d+0x82*-0x8)),_0x492630['element']&&_0x492630['element']['batchGroup'+'Id']===_0x26842f&&(_0x492630['element']['batchGroup'+'Id']=-(0x11b5+0x2605+-0x37b9)),_0x492630['sprite']&&_0x492630['sprite']['batchGroup'+'Id']===_0x26842f&&(_0x492630['sprite']['batchGroup'+'Id']=-(-0xd8e+0xc53+-0x2*-0x9e));for(let _0x30b318=0x34*-0x79+-0xd27+0x25bb;_0x30b318<_0x492630['_children']['length'];_0x30b318++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x492630['_children'][_0x30b318],_0x26842f);}}['insert'](_0x2854af,_0x1a6feb,_0x5b64d7){const _0x39f4f9=this['_batchGrou'+'ps'][_0x1a6feb];v['assert'](_0x39f4f9,'Invalid\x20ba'+'tch\x20'+_0x1a6feb+'\x20insertion'),_0x39f4f9&&_0x39f4f9['_obj'][_0x2854af]['indexOf'](_0x5b64d7)<-0x4c*-0x16+0xdf6+-0x147e&&(_0x39f4f9['_obj'][_0x2854af]['push'](_0x5b64d7),this['markGroupD'+'irty'](_0x1a6feb));}['remove'](_0x512fa5,_0x8e9e63,_0x435663){const _0x4281c8=this['_batchGrou'+'ps'][_0x8e9e63];if(v['assert'](_0x4281c8,'Invalid\x20ba'+'tch\x20'+_0x8e9e63+'\x20insertion'),_0x4281c8){const _0x2b9c77=_0x4281c8['_obj'][_0x512fa5]['indexOf'](_0x435663);_0x2b9c77>=0x1caf+-0x235e+-0x1d*-0x3b&&(_0x4281c8['_obj'][_0x512fa5]['splice'](_0x2b9c77,0x2488+-0x5*0x5f3+0x1c*-0x3e),this['markGroupD'+'irty'](_0x8e9e63));}}['_extractRe'+'nder'](_0x5ac868,_0x4ead7b,_0x3a3638,_0x53d561){return _0x5ac868['render']&&(_0x4ead7b=_0x53d561[_0x5ac868['render']['batchGroup'+'Id']]=_0x4ead7b['concat'](_0x5ac868['render']['meshInstan'+'ces']),_0x5ac868['render']['removeFrom'+'Layers']()),_0x4ead7b;}['_extractMo'+'del'](_0x99688f,_0x5e7b6a,_0x530398,_0x5bf0cd){return _0x99688f['model']&&_0x99688f['model']['model']&&(_0x5e7b6a=_0x5bf0cd[_0x99688f['model']['batchGroup'+'Id']]=_0x5e7b6a['concat'](_0x99688f['model']['meshInstan'+'ces']),_0x99688f['model']['removeMode'+'lFromLayer'+'s'](),_0x99688f['model']['_batchGrou'+'p']=_0x530398),_0x5e7b6a;}['_extractEl'+'ement'](_0x4c394d,_0x165fac,_0x534c7c){if(!_0x4c394d['element'])return;let _0x3905ac=!(0x2*0xcb1+0xf57+-0x28b8*0x1);_0x4c394d['element']['_text']&&_0x4c394d['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x2d*-0x61+0x22fb+-0x3408?(_0x165fac['push'](_0x4c394d['element']['_text']['_model']['meshInstan'+'ces'][-0xbc0+0x1f2+0xa*0xfb]),_0x4c394d['element']['removeMode'+'lFromLayer'+'s'](_0x4c394d['element']['_text']['_model']),_0x3905ac=!(0x21ef+-0xd*0xbb+-0x1870*0x1)):_0x4c394d['element']['_image']&&(_0x165fac['push'](_0x4c394d['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x4c394d['element']['removeMode'+'lFromLayer'+'s'](_0x4c394d['element']['_image']['_renderabl'+'e']['model']),_0x4c394d['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x165fac['push'](_0x4c394d['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x4c394d['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x4c394d['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x4c394d['element']['_dirtifyMa'+'sk'](),_0x4c394d['element']['_onPrerend'+'er']())),_0x3905ac=!(0x149*-0x9+-0x149d+-0x1*-0x202e)),_0x3905ac&&(_0x534c7c['_ui']=!(0x1fa6*0x1+0x2036+0x3d*-0x10c),_0x4c394d['element']['_batchGrou'+'p']=_0x534c7c);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x16ee49,_0x5dc4ba){for(let _0x46eae6=-0x9*0x1c1+0x8*-0x6c+-0x1329*-0x1;_0x46eae6<_0x5dc4ba['length'];_0x46eae6++){const _0x335766=_0x5dc4ba[_0x46eae6],_0x483574=this['_batchGrou'+'ps'][_0x335766];if(!_0x483574)continue;let _0x46fc4c=_0x16ee49[_0x335766];_0x46fc4c||(_0x46fc4c=_0x16ee49[_0x335766]=[]);for(let _0x597806=-0x1*-0x9fe+-0x153f+0xb41*0x1;_0x597806<_0x483574['_obj']['model']['length'];_0x597806++)_0x46fc4c=this['_extractMo'+'del'](_0x483574['_obj']['model'][_0x597806],_0x46fc4c,_0x483574,_0x16ee49);for(let _0x11952c=-0xc56+0x3c9*-0x1+0x101f;_0x11952c<_0x483574['_obj']['render']['length'];_0x11952c++)_0x46fc4c=this['_extractRe'+'nder'](_0x483574['_obj']['render'][_0x11952c],_0x46fc4c,_0x483574,_0x16ee49);for(let _0x57c46d=-0xafe+0x18cf+-0xdd1;_0x57c46d<_0x483574['_obj']['element']['length'];_0x57c46d++)this['_extractEl'+'ement'](_0x483574['_obj']['element'][_0x57c46d],_0x46fc4c,_0x483574);for(let _0x10b123=-0x19fb+0xee*-0x11+0x29c9;_0x10b123<_0x483574['_obj']['sprite']['length'];_0x10b123++){const _0x4187a4=_0x483574['_obj']['sprite'][_0x10b123];_0x4187a4['sprite']&&_0x4187a4['sprite']['_meshInsta'+'nce']&&(_0x483574['dynamic']||_0x4187a4['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x46fc4c['push'](_0x4187a4['sprite']['_meshInsta'+'nce']),_0x4187a4['sprite']['removeMode'+'lFromLayer'+'s'](),_0x483574['_sprite']=!(-0x21d1+-0x2*-0x99e+0xe95),_0x4187a4['sprite']['_batchGrou'+'p']=_0x483574);}}}['generate'](_0x319fff){const _0x502fa3={};_0x319fff||(_0x319fff=Object['keys'](this['_batchGrou'+'ps']));const _0x1525d9=[];for(let _0x1d499c=-0x6*0xf6+-0x43*0x2f+0x1211;_0x1d499c<this['_batchList']['length'];_0x1d499c++){if(_0x319fff['indexOf'](this['_batchList'][_0x1d499c]['batchGroup'+'Id'])<-0x117a+-0x2*0x250+0x161a*0x1){_0x1525d9['push'](this['_batchList'][_0x1d499c]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x1d499c]);}if(this['_batchList']=_0x1525d9,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x502fa3,_0x319fff),_0x319fff===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x1*0x2657+-0x65b*-0x6+-0x4c79;else{const _0x25d283=[];for(let _0x3913ec=-0x508*-0x1+0x21d5+-0x26dd;_0x3913ec<this['_dirtyGrou'+'ps']['length'];_0x3913ec++)_0x319fff['indexOf'](this['_dirtyGrou'+'ps'][_0x3913ec])<-0xf05+-0x1acc+0x29d1&&_0x25d283['push'](this['_dirtyGrou'+'ps'][_0x3913ec]);this['_dirtyGrou'+'ps']=_0x25d283;}let _0x5cb006,_0x532699,_0x1b4f41,_0xcd67de;for(const _0x1b2243 in _0x502fa3)if(_0x502fa3['hasOwnProp'+'erty'](_0x1b2243)){if(_0x5cb006=_0x502fa3[_0x1b2243],_0x1b4f41=this['_batchGrou'+'ps'][_0x1b2243],!_0x1b4f41){v['error']('batch\x20grou'+'p\x20'+_0x1b2243+'\x20not\x20found');continue;}_0x532699=this['prepare'](_0x5cb006,_0x1b4f41['dynamic'],_0x1b4f41['maxAabbSiz'+'e'],_0x1b4f41['_ui']||_0x1b4f41['_sprite']);for(let _0x5b29cd=0x2*-0x1085+-0x10a*0x1+-0x2214*-0x1;_0x5b29cd<_0x532699['length'];_0x5b29cd++)_0xcd67de=this['create'](_0x532699[_0x5b29cd],_0x1b4f41['dynamic'],parseInt(_0x1b2243,0x14e*-0x13+0x16de+0x1*0x1f6)),_0xcd67de&&_0xcd67de['addToLayer'+'s'](this['scene'],_0x1b4f41['layers']);}}['prepare'](_0x5674e9,_0x4bc497,_0xb0adf8=Number['POSITIVE_I'+'NFINITY'],_0x380fa3){if(_0x5674e9['length']===-0x1ae2+0x20cf+-0x5ed)return[];const _0x1ed773=_0xb0adf8*(-0x287*-0x2+-0x4*-0x189+-0xb32+0.5),_0x4e0600=0x2*0x453+-0x121f+0xd79,_0x2a6b6b=0x100eca5bf*0x1+-0x10fad3a7b+-0x1*-0x10ec094bb,_0x4c756f=new _e(),_0x512209=new _e();let _0xfb0d8c=null,_0x3372f0;const _0x4fe3b4=[];let _0x59d58a=0xbc6+-0x43*-0x41+-0x1*0x1cc9;_0x380fa3&&_0x5674e9['sort']((_0x4866db,_0x390308)=>_0x4866db['drawOrder']-_0x390308['drawOrder']);let _0x3b9f51=_0x5674e9,_0x29c35c;const _0x5452dc=_0x380fa3?function(_0x49ca11){_0xfb0d8c?_0xfb0d8c['add'](_0x49ca11['aabb']):_0xfb0d8c=_0x49ca11['aabb']['clone'](),_0x29c35c['push'](_0x49ca11);}:function(_0x1be9a2){_0x29c35c['push'](_0x1be9a2);};for(;_0x3b9f51['length']>-0x1ac8+-0xf6f+0x2a37;){_0x4fe3b4[_0x59d58a]=[_0x3b9f51[0x1a89+-0x47*0x7a+-0x3*-0x26f]],_0x29c35c=[];const _0x5906fe=_0x3b9f51[-0x468*-0x6+0x5e3*-0x1+-0x148d]['material'],_0x188346=_0x3b9f51[0x1a27+0x2*0x3e3+-0x21ed]['layer'],_0xd9735f=_0x3b9f51[-0x1b00+-0x5*0x68e+0x3bc6]['_shaderDef'+'s'],_0x48ccad=_0x3b9f51[0x1699+-0x4ff*0x7+-0x20*-0x63]['parameters'],_0x41151b=_0x3b9f51[-0x1e*0x4+0x14ed+-0x1475*0x1]['stencilFro'+'nt'];let _0x14da2d=_0x3b9f51[-0xda*-0xd+0x4*0x4+0x1db*-0x6]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x5b4927=_0x3b9f51[-0x1b90+0x2f*-0x85+0x33fb*0x1]['drawOrder'];_0x4c756f['copy'](_0x3b9f51[-0xb32+0x113+0xa1f*0x1]['aabb']);const _0x1c359d=Sd(_0x3b9f51[0xf*0xc2+0x18a1+0x1*-0x23ff]),_0x508602=_0x3b9f51[0x1d71+0x1a1e*-0x1+-0x25*0x17]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x3da583=_0x3b9f51[0x16*-0x4+0xb01*0x3+-0x1*0x20ab]['mesh']['primitive'][0x1*0x1bd+-0x1*0x1a6+-0x17]['indexed'];_0xfb0d8c=null;for(let _0x589810=-0x3*0xacf+-0x1*0x1cd+0x3*0xb69;_0x589810<_0x3b9f51['length'];_0x589810++){const _0x3738f0=_0x3b9f51[_0x589810];if(_0x4bc497&&_0x4fe3b4[_0x59d58a]['length']>=_0x4e0600){_0x29c35c=_0x29c35c['concat'](_0x3b9f51['slice'](_0x589810));break;}if(_0x5906fe!==_0x3738f0['material']||_0x188346!==_0x3738f0['layer']||_0x508602!==_0x3738f0['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x3da583!==_0x3738f0['mesh']['primitive'][0x3*-0xa39+0x5ea*-0x5+-0x3c3d*-0x1]['indexed']||_0xd9735f!==_0x3738f0['_shaderDef'+'s']||_0x14da2d+_0x3738f0['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x2a6b6b){_0x5452dc(_0x3738f0);continue;}if(_0x512209['copy'](_0x4c756f),_0x512209['add'](_0x3738f0['aabb']),_0x512209['halfExtent'+'s']['x']>_0x1ed773||_0x512209['halfExtent'+'s']['y']>_0x1ed773||_0x512209['halfExtent'+'s']['z']>_0x1ed773){_0x5452dc(_0x3738f0);continue;}if(_0x41151b&&(!(_0x3372f0=_0x3738f0['stencilFro'+'nt'])||_0x41151b['func']!==_0x3372f0['func']||_0x41151b['zpass']!==_0x3372f0['zpass'])){_0x5452dc(_0x3738f0);continue;}if(_0x1c359d!==Sd(_0x3738f0)){_0x5452dc(_0x3738f0);continue;}if(!cC(_0x48ccad,_0x3738f0['parameters'])){_0x5452dc(_0x3738f0);continue;}if(_0x380fa3&&_0xfb0d8c&&_0xfb0d8c['intersects'](_0x3738f0['aabb'])&&_0x3738f0['drawOrder']!==_0x5b4927){_0x5452dc(_0x3738f0);continue;}_0x4c756f['add'](_0x3738f0['aabb']),_0x14da2d+=_0x3738f0['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x4fe3b4[_0x59d58a]['push'](_0x3738f0);}_0x59d58a++,_0x3b9f51=_0x29c35c;}return _0x4fe3b4;}['collectBat'+'chedMeshDa'+'ta'](_0x5514e9,_0x1760aa){let _0x10d1e2=null,_0x573d97=-0x1d35+-0x23a*0xe+0xd*0x4a5,_0x55fb45=0x713*0x2+-0x1*-0x1c2d+-0x2a53,_0x7c7b03=null;for(let _0x9149b3=0x91*0x5+0xe*-0x20b+-0x897*-0x3;_0x9149b3<_0x5514e9['length'];_0x9149b3++)if(_0x5514e9[_0x9149b3]['visible']){const _0x53d11d=_0x5514e9[_0x9149b3]['mesh'],_0x19b3b2=_0x53d11d['vertexBuff'+'er']['numVertice'+'s'];if(_0x573d97+=_0x19b3b2,_0x53d11d['primitive'][0x126b+-0x3*0xc11+0x11c8]['indexed'])_0x55fb45+=_0x53d11d['primitive'][0x19cb+-0x2b+-0x19a0]['count'];else{const _0x4a342e=_0x53d11d['primitive'][0xb*0x2cf+0x1*0x7a2+-0x2687]['type'];(_0x4a342e===Yr||_0x4a342e===ar)&&_0x53d11d['primitive'][0x3a4+0x1*-0xc51+0x1*0x8ad]['count']===0x2*0x1254+-0x623*-0x1+-0x2f*0xe9&&(_0x55fb45+=-0x1106+-0x2376+0x3482);}if(!_0x10d1e2){_0x7c7b03=_0x5514e9[_0x9149b3]['material'],_0x10d1e2={};const _0x1ee35d=_0x53d11d['vertexBuff'+'er']['format']['elements'];for(let _0x72c4d3=0xa53*-0x3+-0x251*-0xb+0x57e;_0x72c4d3<_0x1ee35d['length'];_0x72c4d3++){const _0x55158b=_0x1ee35d[_0x72c4d3]['name'];_0x10d1e2[_0x55158b]={'numComponents':_0x1ee35d[_0x72c4d3]['numCompone'+'nts'],'dataType':_0x1ee35d[_0x72c4d3]['dataType'],'normalize':_0x1ee35d[_0x72c4d3]['normalize'],'count':0x0};}_0x1760aa&&(_0x10d1e2[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(0x3*-0x64b+0x1*0x22c0+-0xfde),'count':0x0});}}return{'streams':_0x10d1e2,'batchNumVerts':_0x573d97,'batchNumIndices':_0x55fb45,'material':_0x7c7b03};}['create'](_0x36d4c5,_0x37e398,_0x5d36be){const _0x2b7fd1=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x6c4+0x2181+0xb9*-0x25));let _0x2efac3=null,_0x1ad390,_0x4a9f2c,_0x46e455,_0x4a27b1=null;const _0x27b4f7=this['collectBat'+'chedMeshDa'+'ta'](_0x36d4c5,_0x37e398);if(_0x27b4f7['streams']){const _0xe1af15=_0x27b4f7['streams'];let _0x2fcb82=_0x27b4f7['material'];const _0x56e63d=_0x27b4f7['batchNumVe'+'rts'],_0x2a320e=_0x27b4f7['batchNumIn'+'dices'];_0x4a27b1=new zm(_0x36d4c5,_0x37e398,_0x5d36be),this['_batchList']['push'](_0x4a27b1);let _0x4ff26a,_0x4b7bf8,_0x5bf67a,_0x1d623c=0x268c+0xa20+-0x30ac,_0x419eaf=-0xbdd+-0x242b*-0x1+0x7a*-0x33,_0x274dec;const _0x372c02=_0x56e63d<=-0x1*0x1f9e3+0x8*-0x16ee+-0x1d8a9*-0x2?Uint16Array:Uint32Array,_0x7b7c79=new _0x372c02(_0x2a320e);for(_0x1ad390 in _0xe1af15)_0x2efac3=_0xe1af15[_0x1ad390],_0x2efac3['typeArrayT'+'ype']=da[_0x2efac3['dataType']],_0x2efac3['elementByt'+'eSize']=_o[_0x2efac3['dataType']],_0x2efac3['buffer']=new _0x2efac3['typeArrayT'+'ype'](_0x56e63d*_0x2efac3['numCompone'+'nts']);for(let _0x3801ec=0xf23+-0x2242+-0x5*-0x3d3;_0x3801ec<_0x36d4c5['length'];_0x3801ec++)if(_0x36d4c5[_0x3801ec]['visible']){_0x4a9f2c=_0x36d4c5[_0x3801ec]['mesh'],_0x46e455=_0x4a9f2c['vertexBuff'+'er']['numVertice'+'s'],_0x37e398||(_0x274dec=_0x36d4c5[_0x3801ec]['node']['getWorldTr'+'ansform']());for(_0x1ad390 in _0xe1af15)if(_0x1ad390!==qt){_0x2efac3=_0xe1af15[_0x1ad390];const _0x1561d3=new _0x2efac3['typeArrayT'+'ype'](_0x2efac3['buffer']['buffer'],_0x2efac3['elementByt'+'eSize']*_0x2efac3['count']),_0x58a09f=_0x4a9f2c['getVertexS'+'tream'](_0x1ad390,_0x1561d3)*_0x2efac3['numCompone'+'nts'];if(_0x2efac3['count']+=_0x58a09f,!_0x37e398&&_0x2efac3['numCompone'+'nts']>=-0x3bf*-0x7+-0x1*0xa57+-0xef*0x11){if(_0x1ad390===He){const _0x101915=_0x274dec['data'],_0x12192f=_0x101915[0xf60*-0x1+-0x8fd+-0x51*-0x4d],_0x57567a=_0x101915[0x1a1a+0xf10+-0x2929*0x1],_0x20ef78=_0x101915[0x2016+-0x81d+-0x17f7],_0x518909=_0x101915[-0x23f6+-0x12a8+0x36a2],_0x1069eb=_0x101915[0x2140+0x1*-0xddb+-0x1360],_0x39da85=_0x101915[-0x1225+-0x1466+0x2691],_0x210ead=_0x101915[-0x7a+-0x17*-0x10+0x7*-0x22],_0x403ffc=_0x101915[-0x1*0x129e+0x1945*0x1+-0x69e],_0x1ad1cc=_0x101915[0x10d+0x1ef3+0x1*-0x1ff6],_0x18c34c=_0x101915[-0x1346+0x23*0x33+0xc59],_0x198c05=_0x101915[-0x1b30+0x2098+-0x55b],_0x3a830c=_0x101915[0xc*-0x175+-0x249d+0x120d*0x3];let _0x44804a,_0x4eee0c,_0x53ac00;for(let _0x511831=-0xd*-0x2aa+0x7*-0x2ae+-0xfe0;_0x511831<_0x58a09f;_0x511831+=_0x2efac3['numCompone'+'nts'])_0x44804a=_0x1561d3[_0x511831],_0x4eee0c=_0x1561d3[_0x511831+(0x4*0x45+-0x15d9+-0xa63*-0x2)],_0x53ac00=_0x1561d3[_0x511831+(0x31*0x94+0x128b+-0x81*0x5d)],_0x1561d3[_0x511831]=_0x44804a*_0x12192f+_0x4eee0c*_0x518909+_0x53ac00*_0x210ead+_0x18c34c,_0x1561d3[_0x511831+(0x1de*0x2+0x14f5+-0xc58*0x2)]=_0x44804a*_0x57567a+_0x4eee0c*_0x1069eb+_0x53ac00*_0x403ffc+_0x198c05,_0x1561d3[_0x511831+(0x8b3*-0x3+0x5*0x78a+-0x17*0x81)]=_0x44804a*_0x20ef78+_0x4eee0c*_0x39da85+_0x53ac00*_0x1ad1cc+_0x3a830c;}else{if(_0x1ad390===Yt||_0x1ad390===Zs){jm['invertMat4'](_0x274dec)['transpose']();const [_0x2d633c,_0x3f229b,_0x39223b,_0x2865f9,_0x17cff0,_0xd14bbe,_0x40dab0,_0x1a7f1d,_0x3cb2bb]=jm['data'];let _0x216644,_0xa736c4,_0x48baea;for(let _0x35c288=0x1*0xa7+-0x2*0x1292+0x247d;_0x35c288<_0x58a09f;_0x35c288+=_0x2efac3['numCompone'+'nts'])_0x216644=_0x1561d3[_0x35c288],_0xa736c4=_0x1561d3[_0x35c288+(-0x22c8+0x9d2*0x3+-0x1*-0x553)],_0x48baea=_0x1561d3[_0x35c288+(0x125*-0x1a+0x113b*-0x1+0x2eff)],_0x1561d3[_0x35c288]=_0x216644*_0x2d633c+_0xa736c4*_0x2865f9+_0x48baea*_0x40dab0,_0x1561d3[_0x35c288+(-0xea+-0x1e25*0x1+0x1f10)]=_0x216644*_0x3f229b+_0xa736c4*_0x17cff0+_0x48baea*_0x1a7f1d,_0x1561d3[_0x35c288+(0x24ef+-0x17a5+0x1*-0xd48)]=_0x216644*_0x39223b+_0xa736c4*_0xd14bbe+_0x48baea*_0x3cb2bb;}}}}if(_0x37e398){_0x2efac3=_0xe1af15[qt];for(let _0x27e913=-0x1b0f+0x34*0x6a+0x5*0x11b;_0x27e913<_0x46e455;_0x27e913++)_0x2efac3['buffer'][_0x2efac3['count']++]=_0x3801ec;}if(_0x4a9f2c['primitive'][0x94d+-0x5b*-0x39+-0x1d90]['indexed']){_0x4ff26a=_0x4a9f2c['primitive'][0x701+0x1241+-0x1942]['base'],_0x4b7bf8=_0x4a9f2c['primitive'][0xc*-0xd0+-0xd2b+0x16eb]['count'];const _0x333b57=_0x4a9f2c['indexBuffe'+'r'][0x4bd*-0x1+-0x25*-0x6c+-0xadf*0x1]['getFormat']();_0x5bf67a=new Lh[_0x333b57](_0x4a9f2c['indexBuffe'+'r'][0x1e9d*-0x1+0x373+0x26*0xb7]['storage']);}else{const _0x53bb10=_0x4a9f2c['primitive'][0x774+-0xbb*-0x2e+-0x290e]['type'];if(_0x53bb10===Yr||_0x53bb10===ar){if(_0x4a9f2c['primitive'][0x2*-0x6bb+-0xaea+0x1860]['count']===0x31e*-0x2+0xef4+-0x22d*0x4)_0x4ff26a=0x1*0x875+0x1043+-0x18b8,_0x4b7bf8=0x2b*0x67+0x973*-0x2+-0x53*-0x5,_0x5bf67a=_0x53bb10===Yr?lC:hC;else{_0x4b7bf8=-0x260b+0x1*-0x14de+0x3ae9;continue;}}}for(let _0xf0e64f=0x1b8c+0x3e1*0x6+-0x32d2;_0xf0e64f<_0x4b7bf8;_0xf0e64f++)_0x7b7c79[_0xf0e64f+_0x419eaf]=_0x5bf67a[_0x4ff26a+_0xf0e64f]+_0x1d623c;_0x419eaf+=_0x4b7bf8,_0x1d623c+=_0x46e455;}_0x4a9f2c=new Ie(this['device']);for(_0x1ad390 in _0xe1af15)_0x2efac3=_0xe1af15[_0x1ad390],_0x4a9f2c['setVertexS'+'tream'](_0x1ad390,_0x2efac3['buffer'],_0x2efac3['numCompone'+'nts'],void(-0x4*-0x30+-0xaab+0x9eb),_0x2efac3['dataType'],_0x2efac3['normalize']);_0x7b7c79['length']>-0x26fb+-0xa7*-0x2e+0x8f9&&_0x4a9f2c['setIndices'](_0x7b7c79),_0x4a9f2c['update'](Ms,!(-0xbd7+-0x4b2*0x1+-0x108a*-0x1)),_0x37e398&&(_0x2fcb82=_0x2fcb82['clone'](),_0x2fcb82['update']());const _0x1aac32=new Le(_0x4a9f2c,_0x2fcb82,this['rootNode']);_0x1aac32['castShadow']=_0x4a27b1['origMeshIn'+'stances'][0x8c5+-0x10b3+0x7ee]['castShadow'],_0x1aac32['parameters']=_0x4a27b1['origMeshIn'+'stances'][0x1677+0x23f7+-0x6*0x9bd]['parameters'],_0x1aac32['layer']=_0x4a27b1['origMeshIn'+'stances'][0x5*-0x57+0x462*0x5+-0x1437]['layer'],_0x1aac32['_shaderDef'+'s']=_0x4a27b1['origMeshIn'+'stances'][0x2596+-0xcf8+0x1*-0x189e]['_shaderDef'+'s'],_0x1aac32['batching']=!(0x337+-0x21ac+0xa27*0x3),_0x1aac32['cull']=_0x4a27b1['origMeshIn'+'stances'][0x2d7+-0x2674+0x239d]['cull'];const _0xaaa68f=this['_batchGrou'+'ps'][_0x5d36be];if(_0xaaa68f&&_0xaaa68f['_ui']&&(_0x1aac32['cull']=!(0x70*0x7+0x6*-0x5d4+0x1fe9)),_0x37e398){const _0x502951=[];for(let _0x2687a1=0x3*-0x168+-0x1f3d+-0x1*-0x2375;_0x2687a1<_0x4a27b1['origMeshIn'+'stances']['length'];_0x2687a1++)_0x502951['push'](_0x4a27b1['origMeshIn'+'stances'][_0x2687a1]['node']);_0x1aac32['skinInstan'+'ce']=new Vm(this['device'],_0x502951,this['rootNode']);}_0x1aac32['_updateAab'+'b']=!(-0x3e6+-0x1723+0x1b0a),_0x1aac32['drawOrder']=_0x4a27b1['origMeshIn'+'stances'][-0x5cf*0x2+0x56*-0x5c+-0x1543*-0x2]['drawOrder'],_0x1aac32['stencilFro'+'nt']=_0x4a27b1['origMeshIn'+'stances'][0x1b4*-0x1+0x16da+-0x1526*0x1]['stencilFro'+'nt'],_0x1aac32['stencilBac'+'k']=_0x4a27b1['origMeshIn'+'stances'][0x9c0+0x1*-0x5c4+-0xaa*0x6]['stencilBac'+'k'],_0x1aac32['flipFacesF'+'actor']=Sd(_0x4a27b1['origMeshIn'+'stances'][-0x1d*-0x29+0x1c6a+-0x210f]),_0x1aac32['castShadow']=_0x4a27b1['origMeshIn'+'stances'][0x9e1*-0x1+-0x2135*-0x1+-0x1754]['castShadow'],_0x4a27b1['meshInstan'+'ce']=_0x1aac32,_0x4a27b1['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x2b7fd1,_0x4a27b1;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0x1b2c+-0x55e+0x208a&&this['generate'](this['_dirtyGrou'+'ps']);const _0x3d97de=ne();for(let _0x5dd4f1=-0x20a4+0xf*0x205+0x259;_0x5dd4f1<this['_batchList']['length'];_0x5dd4f1++)this['_batchList'][_0x5dd4f1]['dynamic']&&this['_batchList'][_0x5dd4f1]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x3d97de;}['clone'](_0x161945,_0x334721){const _0x22af93=new zm(_0x334721,_0x161945['dynamic'],_0x161945['batchGroup'+'Id']);this['_batchList']['push'](_0x22af93);const _0x24a695=[];for(let _0x42f836=0x1396+-0x12c3+-0xd3*0x1;_0x42f836<_0x334721['length'];_0x42f836++)_0x24a695['push'](_0x334721[_0x42f836]['node']);return _0x22af93['meshInstan'+'ce']=new Le(_0x161945['meshInstan'+'ce']['mesh'],_0x161945['meshInstan'+'ce']['material'],_0x161945['meshInstan'+'ce']['node']),_0x22af93['meshInstan'+'ce']['_updateAab'+'b']=!(-0x17*0xb6+-0xb73+0x1bce),_0x22af93['meshInstan'+'ce']['parameters']=_0x334721[-0x1f1b+0x1*-0x413+-0x3*-0xbba]['parameters'],_0x22af93['meshInstan'+'ce']['cull']=_0x334721[-0x1d00+0x14ec+0x2f*0x2c]['cull'],_0x22af93['meshInstan'+'ce']['layer']=_0x334721[-0x1ff6+0x10*0x211+-0x11a]['layer'],_0x161945['dynamic']&&(_0x22af93['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x24a695,this['rootNode'])),_0x22af93['meshInstan'+'ce']['castShadow']=_0x161945['meshInstan'+'ce']['castShadow'],_0x22af93;}['destroyBat'+'ch'](_0x31d01f){_0x31d01f['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x31d01f['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x30d1ea,_0x4b70dd,_0xaeccbb){if((_0x30d1ea==null?void(-0x13f1+0x3*-0x1e6+0x19a3):_0x30d1ea['colorBuffe'+'r']['format'])!==_0xaeccbb)return!(-0xd20+0x3*-0x939+-0xd99*-0x3);const _0x1af605=(_0x4b70dd==null?void(-0x1d2+0x1120*0x2+-0x206e):_0x4b70dd['width'])||this['device']['width'],_0x4c1432=(_0x4b70dd==null?void(-0x1080+0x3*0x9a1+-0xc63):_0x4b70dd['height'])||this['device']['height'];return!_0x30d1ea||_0x1af605!==_0x30d1ea['width']||_0x4c1432!==_0x30d1ea['height'];}['allocateRe'+'nderTarget'](_0x233661,_0x174349,_0x557987,_0x419ddb){const _0x1d2436=new he(_0x557987,{'name':Km,'format':_0x419ddb,'width':_0x174349?_0x174349['colorBuffe'+'r']['width']:_0x557987['width'],'height':_0x174349?_0x174349['colorBuffe'+'r']['height']:_0x557987['height'],'mipmaps':!(-0x21*-0x7f+-0x211d+0x10be),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x233661?(_0x233661['destroyFra'+'meBuffers'](),_0x233661['_colorBuff'+'er']=_0x1d2436,_0x233661['_colorBuff'+'ers']=[_0x1d2436]):_0x233661=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x1d2436,'depth':!(0x2616+0x1d7d*0x1+-0x4392),'stencil':!(0x218+-0xb74+0x2f*0x33),'autoResolve':!(-0x1*0x3d+0x4f*-0x6f+0x1*0x227f)}),_0x233661;}['releaseRen'+'derTarget'](_0x1bcd4e){_0x1bcd4e&&(_0x1bcd4e['destroyTex'+'tureBuffer'+'s'](),_0x1bcd4e['destroy']());}['frameUpdat'+'e'](){const _0x23c7e5=this['device'],_0x23133e=this['source'],_0xffe562=(_0x23133e==null?void(0x2*0x569+0x1*-0x15dd+0xb0b):_0x23133e['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x23133e==null?void(-0x1585+-0x11ef*-0x2+-0xe59):_0x23133e['colorBuffe'+'r'],_0xffe562)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x23133e,_0x23c7e5,_0xffe562));const _0x552b71=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x23c7e5['scope']['resolve'](Km)['setValue'](_0x552b71);}['execute'](){const _0x4e9d8a=this['device'];G['pushGpuMar'+'ker'](_0x4e9d8a,'GRAB-COLOR');const _0x3b3fa2=this['source'],_0x129cdb=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4e9d8a['isWebGPU']?(_0x4e9d8a['copyRender'+'Target'](_0x3b3fa2,this['colorRende'+'rTarget'],!(-0x22dd+-0x1888+0x3b65*0x1),!(-0x2e2+0x8e*-0x4+0x51b*0x1)),_0x4e9d8a['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x4e9d8a['copyRender'+'Target'](_0x3b3fa2,this['colorRende'+'rTarget'],!(-0x1e46+0x3*0x4eb+0xf85),!(0x7*0x4bb+0x5d2+-0x26ee)),_0x4e9d8a['activeText'+'ure'](_0x4e9d8a['maxCombine'+'dTextures']-(-0x1*-0x1543+-0x20de+-0x2*-0x5ce)),_0x4e9d8a['bindTextur'+'e'](_0x129cdb),_0x4e9d8a['gl']['generateMi'+'pmap'](_0x129cdb['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x4e9d8a);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x28fe81,_0x57e53){super(_0x28fe81),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x57e53;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x599bd8,_0x3fc181){const _0x4eba78=(_0x3fc181==null?void(-0x139c+-0x10f*0x23+0x38a9):_0x3fc181['width'])||this['device']['width'],_0x4ab40d=(_0x3fc181==null?void(-0xe*0x215+0x2*0x1273+0x8*-0xf8):_0x3fc181['height'])||this['device']['height'];return!_0x599bd8||_0x4eba78!==_0x599bd8['width']||_0x4ab40d!==_0x599bd8['height'];}['allocateRe'+'nderTarget'](_0x3adcbc,_0x4768e7,_0x3198e7,_0xafb7b,_0x3bd289){const _0x54f240=new he(_0x3198e7,{'name':Zm,'format':_0xafb7b,'width':_0x4768e7?_0x4768e7['colorBuffe'+'r']['width']:_0x3198e7['width'],'height':_0x4768e7?_0x4768e7['colorBuffe'+'r']['height']:_0x3198e7['height'],'mipmaps':!(0x37d*-0x3+-0xafe+-0x29*-0x86),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x3adcbc?(_0x3adcbc['destroyFra'+'meBuffers'](),_0x3bd289?_0x3adcbc['_depthBuff'+'er']=_0x54f240:(_0x3adcbc['_colorBuff'+'er']=_0x54f240,_0x3adcbc['_colorBuff'+'ers']=[_0x54f240])):_0x3adcbc=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x3bd289?null:_0x54f240,'depthBuffer':_0x3bd289?_0x54f240:null,'depth':!_0x3bd289,'stencil':_0x3198e7['supportsSt'+'encil'],'autoResolve':!(0x10a8*0x1+-0x1d07+0xc60)}),_0x3adcbc;}['releaseRen'+'derTarget'](_0x463b43){_0x463b43&&(_0x463b43['destroyTex'+'tureBuffer'+'s'](),_0x463b43['destroy']());}['before'](){var _0x3fceac,_0xa71fa;const _0x33417c=this['camera'],_0xf38370=this['device'],_0x538086=(_0x33417c==null?void(0x1b0e+0x18d*-0x1+-0x1981):_0x33417c['renderTarg'+'et'])??_0xf38370['backBuffer'];let _0x1bca9e=!(0x6dd+0x1800+0x1*-0x1edd),_0x5c6629=_0x538086['stencil']?vc:Ci;_0xf38370['isWebGPU']&&_0x538086['samples']>-0x1297*0x2+0xe06+0x1729&&(_0x5c6629=Ii,_0x1bca9e=!(-0x2e*0x38+-0xb9d+-0x4a*-0x4b));const _0x33a59c=((_0x3fceac=_0x33417c['renderTarg'+'et'])==null?void(-0x15*-0x1d+0x3*0x2be+-0xa9b):_0x3fceac['depthBuffe'+'r'])??((_0xa71fa=_0x33417c['renderTarg'+'et'])==null?void(-0x3*-0x5bb+0x9*-0x156+0xbd*-0x7):_0xa71fa['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x33a59c)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x33417c['renderTarg'+'et'],_0xf38370,_0x5c6629,_0x1bca9e));const _0x1bb9bd=_0x1bca9e?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0xf38370['scope']['resolve'](Zm)['setValue'](_0x1bb9bd);}['execute'](){const _0x44a254=this['device'];if(G['pushGpuMar'+'ker'](_0x44a254,'GRAB-DEPTH'),_0x44a254['isWebGL2']&&_0x44a254['renderTarg'+'et']['samples']>0x887+-0x207f+-0x13*-0x143){const _0x528f8a=_0x44a254['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0xa84aae=this['depthRende'+'rTarget'];_0x44a254['renderTarg'+'et']=_0xa84aae,_0x44a254['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x44a254,_0x528f8a,_0xa84aae['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x44a254['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x44a254['copyRender'+'Target'](_0x44a254['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x43*0x2+0x1627+-0x16ac*0x1),!(0xc71+0x258*0x5+-0x1829));G['popGpuMark'+'er'](_0x44a254);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(-0x31*-0x82+-0xd18*0x1+-0x1af*0x7)),c(this,'_ssaoEnabl'+'ed',!(0x1667+0x2*-0x2b0+-0x1106)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(0xb*-0x34b+0x1ea+-0xc*-0x2dc)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x1*-0x1394+0x15f7*0x1+-0x263));}get['hash'](){if(this['_hash']===void(0xcd*-0x9+0x5*-0x45c+-0x5*-0x5cd)){const _0x589c21=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x589c21);}return this['_hash'];}get['defines'](){const _0x142301=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x1*0x1e89+-0x555+0x23df),_0x142301['clear'](),this['_sceneDept'+'hMapLinear']&&_0x142301['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x1e9b*-0x1+-0xa64+-0x1437)),_0x142301['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x142301['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x142301['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x142301;}['markDirty'](){this['_hash']=void(0x45*0x56+0x2555+0x3c83*-0x1),this['_definesDi'+'rty']=!(0x846*-0x3+-0x1ea3*-0x1+-0x5d1);}set['fog'](_0x32aec2){this['_fog']!==_0x32aec2&&(this['_fog']=_0x32aec2,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x355654){this['_ssaoEnabl'+'ed']!==_0x355654&&(this['_ssaoEnabl'+'ed']=_0x355654,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0xa14121){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x25ef+0x11*-0x4+-0x25ab),this['_gammaCorr'+'ection']!==_0xa14121&&(this['_gammaCorr'+'ection']=_0xa14121,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x305c24){this['_toneMappi'+'ng']!==_0x305c24&&(this['_toneMappi'+'ng']=_0x305c24,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0xa55c83){this['_srgbRende'+'rTarget']!==_0xa55c83&&(this['_srgbRende'+'rTarget']=_0xa55c83,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x2bbf04){this['_sceneDept'+'hMapLinear']!==_0x2bbf04&&(this['_sceneDept'+'hMapLinear']=_0x2bbf04,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0x6c6+0x3*-0xad3+0x19b3),(this['_aspectRat'+'io']=(-0x241c+-0x6b2+0xba*0x3b)/(0x457*-0x2+0xadb+0x89*-0x4),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(0x1639+0x1ac*-0x6+-0xc31+0.75,0x2648+-0xc75*-0x3+-0x4ba7+0.75,-0x6*-0x146+-0x68a+0x2*-0x8d+0.75,0x7d4+0xa6c*-0x1+0x299),this['_clearColo'+'rBuffer']=!(-0xcd2+-0x1f30+-0x56*-0x83),this['_clearDept'+'h']=0x2076+-0x3*-0xc97+-0xca*0x59,this['_clearDept'+'hBuffer']=!(0x1*0xbfa+-0x15f7+-0x9fd*-0x1),this['_clearSten'+'cil']=0x331*0xb+-0x2*-0x4b1+0x2c7d*-0x1,this['_clearSten'+'cilBuffer']=!(-0x3d9*0x8+0x29*-0x59+0x66f*0x7),this['_cullFaces']=!(0x2*0x3f2+-0xd*-0x13d+-0x17fd),this['_farClip']=0x20*0xed+-0x1d3b+0x1*0x383,this['_flipFaces']=!(-0x1*-0x1fef+0x21c9+0x41b7*-0x1),this['_fov']=0x23c7+0x578+-0x2912,this['_frustumCu'+'lling']=!(0xd6c+0x13*0x4+-0xdb8),this['_horizonta'+'lFov']=!(0x552+0x1a1c+-0x5*0x649),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x2*-0x1253+-0x1*-0x1505+0xfa1+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0xe0*-0x2+-0x4e*-0x72+-0x20f2,this['_projectio'+'n']=Gs,this['_rect']=new Q(0xb5e+-0x7a0+0x3be*-0x1,-0x1*0x647+0x23d4+0x1*-0x1d8d,0x44*0x85+0x1*0x1871+0x1e*-0x1fe,-0x1e9d+0x73c+0x1762),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(0xa9f*0x3+0x49*0x3f+-0xc*0x427,-0x15a0+-0x1*0x1d93+-0x3*-0x1111,0xfa4+0x1f9*0xb+-0x1b*0x162,0x21e4+0xe*0x84+-0x291b),this['_scissorRe'+'ctClear']=!(-0x1977+0x692*0x2+0x62a*0x2),this['_aperture']=0x39*0x8d+-0x12b3*0x1+0x126*-0xb,this['_shutter']=(-0x1*0xb1a+-0x100b+0x5*0x56e)/(-0x1a85+-0x46f+0x22dc),this['_sensitivi'+'ty']=0x11ed+0x1*0xb90+0x3b*-0x6f,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(0x1acc+0xee4+-0x29b0),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(0x55*0x15+0x1*0x1af3+-0x21ec),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0x1*-0x6ac+0x2*0xe0d+0xab7*-0x2),this['_shaderMat'+'ricesVersi'+'on']=0xeb*0xf+-0x3*0x68c+0x5df,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[-0x478+0x1ea2+-0x1a2a,-0x17f6+-0xe*0x1b4+0x2fce,0x25c+-0x614+0x2*0x1dc,-0x295*0x1+-0xc25+-0x5*-0x2f2],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0xd58bb5,_0x4174e2;(_0xd58bb5=this['renderPass'+'ColorGrab'])==null||_0xd58bb5['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x4174e2=this['renderPass'+'DepthGrab'])==null||_0x4174e2['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x1e7*0x13+-0x194b+0x3d70;}['_storeShad'+'erMatrices'](_0x357bad,_0x1ac80e,_0x1badfc,_0x53c407){this['_shaderMat'+'ricesVersi'+'on']!==_0x53c407&&(this['_shaderMat'+'ricesVersi'+'on']=_0x53c407,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x357bad),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x357bad),this['_viewProjI'+'nverse']['invert'](_0x357bad),this['_jitters'][0x1c1*-0x13+0x1*0x13b1+-0x6*-0x246]=this['_jitters'][-0x203e+0x75*0x1f+0x1213],this['_jitters'][-0x12*0xdf+0x49a*-0x3+-0x1*-0x1d7f]=this['_jitters'][-0x17f6+-0x20fa+0x38f1],this['_jitters'][-0x6b*-0x59+-0xbf9+-0x193a]=_0x1ac80e,this['_jitters'][-0x4*0x3ea+0xe7*-0x11+0x1f00]=_0x1badfc);}get['fullSizeCl'+'earRect'](){const _0x50dd2d=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x50dd2d['x']===0x2675+0x12fa+-0x1325*0x3&&_0x50dd2d['y']===0xc12+-0x1c4e+-0x40f*-0x4&&_0x50dd2d['z']===0x26*0x13+0x12d5+0x2*-0xad3&&_0x50dd2d['w']===-0x22ce+-0x1081+0x3350;}set['aspectRati'+'o'](_0x1dca68){this['_aspectRat'+'io']!==_0x1dca68&&(this['_aspectRat'+'io']=_0x1dca68,this['_projMatDi'+'rty']=!(-0x15*0x191+0x1e2f*-0x1+0x3f14));}get['aspectRati'+'o'](){var _0x57ddd5;return(_0x57ddd5=this['xr'])!=null&&_0x57ddd5['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x2f7812){this['_aspectRat'+'ioMode']!==_0x2f7812&&(this['_aspectRat'+'ioMode']=_0x2f7812,this['_projMatDi'+'rty']=!(-0x1dbb+0x10f8+0xcc3));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x5b47d2){this['_calculate'+'Projection']=_0x5b47d2,this['_projMatDi'+'rty']=!(0x1084+0x10ab+-0x212f);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x5cc1c5){this['_calculate'+'Transform']=_0x5cc1c5;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x325cda){this['_clearColo'+'r']['copy'](_0x325cda);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0xf3ee2){this['_clearColo'+'rBuffer']=_0xf3ee2;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x4b97bb){this['_clearDept'+'h']=_0x4b97bb;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x269c72){this['_clearDept'+'hBuffer']=_0x269c72;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x3229ce){this['_clearSten'+'cil']=_0x3229ce;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x83dfee){this['_clearSten'+'cilBuffer']=_0x83dfee;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x2c18aa){this['_cullFaces']=_0x2c18aa;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x5800b3){this['_farClip']!==_0x5800b3&&(this['_farClip']=_0x5800b3,this['_projMatDi'+'rty']=!(0x13df+-0x3a*-0x5d+-0x28f1));}get['farClip'](){var _0x4d496f;return(_0x4d496f=this['xr'])!=null&&_0x4d496f['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x1471b1){this['_flipFaces']=_0x1471b1;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x49aaee){this['_fov']!==_0x49aaee&&(this['_fov']=_0x49aaee,this['_projMatDi'+'rty']=!(-0x5c9*-0x1+0x26d8+-0x8ed*0x5));}get['fov'](){var _0x1dc32a;return(_0x1dc32a=this['xr'])!=null&&_0x1dc32a['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x13a9c6){this['_frustumCu'+'lling']=_0x13a9c6;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x18c616){this['_horizonta'+'lFov']!==_0x18c616&&(this['_horizonta'+'lFov']=_0x18c616,this['_projMatDi'+'rty']=!(0xfff+-0x3*0x932+0xb97));}get['horizontal'+'Fov'](){var _0x3f8c93;return(_0x3f8c93=this['xr'])!=null&&_0x3f8c93['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x48270d){this['_layers']=_0x48270d['slice'](0xce1+0x244e+-0x577*0x9),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x2bdd3a){this['_nearClip']!==_0x2bdd3a&&(this['_nearClip']=_0x2bdd3a,this['_projMatDi'+'rty']=!(0x50e*0x7+-0x17a2+-0x2f0*0x4));}get['nearClip'](){var _0x560233;return(_0x560233=this['xr'])!=null&&_0x560233['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x63808e){this['_node']=_0x63808e;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x522b73){this['_orthoHeig'+'ht']!==_0x522b73&&(this['_orthoHeig'+'ht']=_0x522b73,this['_projMatDi'+'rty']=!(-0xaec+-0xb*0x359+0x2fbf));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x1b3198){this['_projectio'+'n']!==_0x1b3198&&(this['_projectio'+'n']=_0x1b3198,this['_projMatDi'+'rty']=!(-0x2185+-0x18a8+0x3a2d));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x416232){this['_rect']['copy'](_0x416232);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x5aa3e3){this['_renderTar'+'get']=_0x5aa3e3;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x220e37){this['_scissorRe'+'ct']['copy'](_0x220e37);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x3bc644=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x3bc644)['invert'](),this['_viewMatDi'+'rty']=!(-0x4a*-0x41+0x5d*-0x5c+-0x4e1*-0x3);}return this['_viewMat'];}set['aperture'](_0x3d4c2d){this['_aperture']=_0x3d4c2d;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x14ec65){this['_sensitivi'+'ty']=_0x14ec65;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x2af351){this['_shutter']=_0x2af351;}get['shutter'](){return this['_shutter'];}set['xr'](_0x38b4e6){this['_xr']!==_0x38b4e6&&(this['_xr']=_0x38b4e6,this['_projMatDi'+'rty']=!(0x183e+-0x23e4+0xba6));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x12cae2){return this['_aspectRat'+'io']=_0x12cae2['_aspectRat'+'io'],this['_farClip']=_0x12cae2['_farClip'],this['_fov']=_0x12cae2['_fov'],this['_horizonta'+'lFov']=_0x12cae2['_horizonta'+'lFov'],this['_nearClip']=_0x12cae2['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x12cae2['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x12cae2['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x12cae2['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x12cae2['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x12cae2['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x12cae2['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x12cae2['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x12cae2['calculateT'+'ransform'],this['clearColor']=_0x12cae2['clearColor'],this['clearColor'+'Buffer']=_0x12cae2['clearColor'+'Buffer'],this['clearDepth']=_0x12cae2['clearDepth'],this['clearDepth'+'Buffer']=_0x12cae2['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x12cae2['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x12cae2['clearStenc'+'ilBuffer'],this['cullFaces']=_0x12cae2['cullFaces'],this['flipFaces']=_0x12cae2['flipFaces'],this['frustumCul'+'ling']=_0x12cae2['frustumCul'+'ling'],this['layers']=_0x12cae2['layers'],this['orthoHeigh'+'t']=_0x12cae2['orthoHeigh'+'t'],this['projection']=_0x12cae2['projection'],this['rect']=_0x12cae2['rect'],this['renderTarg'+'et']=_0x12cae2['renderTarg'+'et'],this['scissorRec'+'t']=_0x12cae2['scissorRec'+'t'],this['aperture']=_0x12cae2['aperture'],this['shutter']=_0x12cae2['shutter'],this['sensitivit'+'y']=_0x12cae2['sensitivit'+'y'],this['shaderPass'+'Info']=_0x12cae2['shaderPass'+'Info'],this['jitter']=_0x12cae2['jitter'],this['_projMatDi'+'rty']=!(0xd*-0x6+-0x8e1+-0x1*-0x92f),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x4f09f7,_0x26c6cb){var _0x4bfa7d;_0x26c6cb?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x4f09f7)):((_0x4bfa7d=this['renderPass'+'ColorGrab'])==null||_0x4bfa7d['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x23a4c5,_0xde32a,_0x55b14e){var _0x367207;_0x55b14e?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x23a4c5,this)):((_0x367207=this['renderPass'+'DepthGrab'])==null||_0x367207['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0x1619*-0x1+0x5b*0x10+-0x1*-0x106a));}['worldToScr'+'een'](_0x304d08,_0x2a403d,_0x2fc939,_0x46eedc=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x304d08,_0x46eedc);const _0x14ae0c=this['_viewProjM'+'at']['data'],_0x5fdb54=_0x304d08['x']*_0x14ae0c[0x1ce1+0x72e+-0x1206*0x2]+_0x304d08['y']*_0x14ae0c[0x7f8+-0x1*0xe13+0x622]+_0x304d08['z']*_0x14ae0c[0xe*-0x1e9+-0x413+0x1edc]+(0x24a8+-0x229d*0x1+0x1*-0x20a)*_0x14ae0c[-0x2*-0x8e1+0x2fb*-0xd+-0xa86*-0x2];return _0x46eedc['x']=(_0x46eedc['x']/_0x5fdb54+(-0x1c9c+-0xd39+0x29d6))*(-0x17*-0x23+0x1f5d+0x277*-0xe+0.5)*_0x2a403d,_0x46eedc['y']=(0x22bf*0x1+-0x1200+0x10be*-0x1-_0x46eedc['y']/_0x5fdb54)*(0xb*0xbf+0xe11+-0x1646+0.5)*_0x2fc939,_0x46eedc;}['screenToWo'+'rld'](_0x4522bf,_0x54aa25,_0x3cbbf6,_0x33396d,_0x2f1843,_0x2b7b3c=new T()){const _0x1ebd31=this['farClip']-this['nearClip'];if(En['set'](_0x4522bf/_0x33396d,(_0x2f1843-_0x54aa25)/_0x2f1843,_0x3cbbf6/_0x1ebd31),En['mulScalar'](0x215f+0x42f+-0x12c6*0x2),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x8f1179=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x8f1179['transformP'+'oint'](Wa,Qm);const _0x55be04=this['_node']['getPositio'+'n']();_0x2b7b3c['sub2'](Qm,_0x55be04),_0x2b7b3c['normalize'](),_0x2b7b3c['mulScalar'](_0x3cbbf6),_0x2b7b3c['add'](_0x55be04);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x2b7b3c);return _0x2b7b3c;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x2a8f82=this['_orthoHeig'+'ht'],_0x12d5b7=_0x2a8f82*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x12d5b7,_0x12d5b7,-_0x2a8f82,_0x2a8f82,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x23b1+-0x3b9+0x276b);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x4d75f4=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x1c45*-0x1+-0x7c2+0x1*0x246b)/this['_sensitivi'+'ty']);return(-0x973+0x1*-0xb3d+0x14b1)/(Math['pow'](-0x93f+-0x35b*0xb+-0x2*-0x1715,_0x4d75f4)*(0x16a*0xd+0x1043+-0x3*0xb8c+0.19999999999999996));}['getScreenS'+'ize'](_0x22a2bd){if(this['_projectio'+'n']===Gs){const _0x55f82b=this['_node']['getPositio'+'n']()['distance'](_0x22a2bd['center']);if(_0x55f82b<_0x22a2bd['radius'])return-0x89d+0x13*0x203+-0x1*0x1d9b;const _0x31b9be=Math['asin'](_0x22a2bd['radius']/_0x55f82b),_0x995704=Math['tan'](_0x31b9be),_0x42864d=Math['tan'](this['fov']/(-0x1c5d+-0xc2c+0x61*0x6b)*N['DEG_TO_RAD']);return Math['min'](_0x995704/_0x42864d,-0x8*-0xa8+0x681+0x5e*-0x20);}return N['clamp'](_0x22a2bd['radius']/this['_orthoHeig'+'ht'],-0x4*0x26+0x5*-0x62+0x282,0x8*-0x7e+0x107b+-0xc8a);}['getFrustum'+'Corners'](_0x1c7042=this['nearClip'],_0x40b2a3=this['farClip']){const _0x166fad=this['fov']*Math['PI']/(0x13b8+0x307+-0x160b);let _0x4d4296,_0x530bb4;this['projection']===Gs?this['horizontal'+'Fov']?(_0x4d4296=_0x1c7042*Math['tan'](_0x166fad/(0x67b*0x1+-0x902+0xb*0x3b)),_0x530bb4=_0x4d4296/this['aspectRati'+'o']):(_0x530bb4=_0x1c7042*Math['tan'](_0x166fad/(0x266b+0x1789+0x2*-0x1ef9)),_0x4d4296=_0x530bb4*this['aspectRati'+'o']):(_0x530bb4=this['_orthoHeig'+'ht'],_0x4d4296=_0x530bb4*this['aspectRati'+'o']);const _0x92cf4=pC;return _0x92cf4[-0xb5*-0x11+0x1d2f*-0x1+0x112a]['x']=_0x4d4296,_0x92cf4[0x1*-0x26a2+0x49*0x65+-0x9d5*-0x1]['y']=-_0x530bb4,_0x92cf4[0x941+0x1977+-0x22b8]['z']=-_0x1c7042,_0x92cf4[0x6a9+-0x1*-0x8e3+-0xf8b]['x']=_0x4d4296,_0x92cf4[0x1f1c+0xc7f+0x2*-0x15cd]['y']=_0x530bb4,_0x92cf4[-0x13*-0x2f+-0x1ff2+-0x1*-0x1c76]['z']=-_0x1c7042,_0x92cf4[0x82f+0x121*0x1+0x3*-0x31a]['x']=-_0x4d4296,_0x92cf4[0xd*-0xc5+-0x1*0xc9f+0x16a2*0x1]['y']=_0x530bb4,_0x92cf4[0x1*0x26d0+0x794+-0x2e62*0x1]['z']=-_0x1c7042,_0x92cf4[-0x1*-0x24bf+-0x2a*-0xe3+0x45a*-0x11]['x']=-_0x4d4296,_0x92cf4[0x1*0xbd3+-0x23d7+0x1807]['y']=-_0x530bb4,_0x92cf4[0x9ba+-0x1cdb+0x15e*0xe]['z']=-_0x1c7042,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x4d4296=_0x40b2a3*Math['tan'](_0x166fad/(-0x1dc7+-0xe7b+-0x1*-0x2c44)),_0x530bb4=_0x4d4296/this['aspectRati'+'o']):(_0x530bb4=_0x40b2a3*Math['tan'](_0x166fad/(-0x29b+0xf*0x207+0x251*-0xc)),_0x4d4296=_0x530bb4*this['aspectRati'+'o'])),_0x92cf4[0x1783+0x1885+0x4*-0xc01]['x']=_0x4d4296,_0x92cf4[0x6*-0x543+0xc*0x2c3+-0xc7*0x2]['y']=-_0x530bb4,_0x92cf4[-0x1*0x2275+-0x1d*0x122+-0x3*-0x1671]['z']=-_0x40b2a3,_0x92cf4[0x1bc+0x3f5*-0x1+0x23e]['x']=_0x4d4296,_0x92cf4[-0x2561+0xc9b+0x18cb]['y']=_0x530bb4,_0x92cf4[-0x1*-0x146b+0x4b1*-0x1+-0xfb5]['z']=-_0x40b2a3,_0x92cf4[0x1*0xf97+0x108a+-0x1*0x201b]['x']=-_0x4d4296,_0x92cf4[-0x1e5d+-0xe03+0x2c66]['y']=_0x530bb4,_0x92cf4[0x16c*0x2+-0x1*-0x9d+-0x36f]['z']=-_0x40b2a3,_0x92cf4[0x133a+0x2489+-0x37bc]['x']=-_0x4d4296,_0x92cf4[-0x1cd*0x1+0x31b*-0x1+-0x3*-0x1a5]['y']=-_0x530bb4,_0x92cf4[0x4*0xfe+0x1d*-0x8b+0x1*0xbce]['z']=-_0x40b2a3,_0x92cf4;}['setXrPrope'+'rties'](_0x1bf282){Object['assign'](this['_xrPropert'+'ies'],_0x1bf282),this['_projMatDi'+'rty']=!(-0x26e1+-0x4d*0x37+0x376c);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0xe3ebbb,_0x500ae2,_0x249ca2){const _0x18b6f0=new ol();switch(_0x18b6f0['node']=new De(_0xe3ebbb),_0x18b6f0['aspectRati'+'o']=-0x1f*0x4+0x54*0x65+-0x20a7*0x1,_0x18b6f0['aspectRati'+'oMode']=Bu,_0x18b6f0['_scissorRe'+'ctClear']=!(0x1ec9+-0x2e*0x2+0x1*-0x1e6d),_0x500ae2){case Pe:_0x18b6f0['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x249ca2]),_0x18b6f0['fov']=-0x583*-0x4+-0x4f*0x6+0x28*-0x7f,_0x18b6f0['projection']=Gs;break;case Re:_0x18b6f0['projection']=Gs;break;case oe:_0x18b6f0['projection']=ua;break;}return _0x18b6f0;}static['evalSpotCo'+'okieMatrix'](_0x3774ef){let _0x46ad8d=Qi['_spotCooki'+'eCamera'];_0x46ad8d||(_0x46ad8d=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x46ad8d),_0x46ad8d['fov']=_0x3774ef['_outerCone'+'Angle']*(-0x385*-0x6+-0x5c2+0x7ad*-0x2);const _0x2f1f83=_0x46ad8d['_node'];_0x2f1f83['setPositio'+'n'](_0x3774ef['_node']['getPositio'+'n']()),_0x2f1f83['setRotatio'+'n'](_0x3774ef['_node']['getRotatio'+'n']()),_0x2f1f83['rotateLoca'+'l'](-(-0xec7+0x20a9+-0x8*0x231),0xe56+0x215b+0x1*-0x2fb1,0xa6c+-0x170b+0xc9f),e_['setTRS'](_0x2f1f83['getPositio'+'n'](),_0x2f1f83['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x46ad8d['projection'+'Matrix'],e_);const _0x318180=_0x3774ef['cookieMatr'+'ix'],_0x591efa=_0x3774ef['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x591efa['x'],_0x591efa['y'],_0x591efa['z'],_0x591efa['w']),_0x318180['mul2'](s_,t_),_0x318180;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x340*-0xb+-0x1*0x257f+-0x95*-0x3,-0x34d*-0x2+-0x11f9+0xbb9,-0x46f+0x1ff6+0x147*-0x15),new se()['setFromEul'+'erAngles'](-0x15ef+0x2557+-0xf68,-(-0xf*0x16a+-0x3*-0x1c1+0x104d),0x15d*0x16+-0x172a+-0x620),new se()['setFromEul'+'erAngles'](-0x1e81+-0xa89+0x2964,-0xf4d+0x33*-0x29+-0xbbc*-0x2,-0x686+-0x1*0x5df+-0x1*-0xc65),new se()['setFromEul'+'erAngles'](-(-0x2e9*-0x5+-0x100a*-0x1+0x1*-0x1e3d),-0x14*-0x29+0xa7e+-0xdb2,-0x12c7*0x2+-0x8*0x471+0x4916),new se()['setFromEul'+'erAngles'](-0x93c+-0x24*0xee+0x2ab4,-0x1eaa+-0x2ea*0x3+0x11*0x25c,0x24d5+0x2*-0xf1c+0x11*-0x59),new se()['setFromEul'+'erAngles'](-0x1d6+-0x6b*0x2b+0x13cf,0x10c+-0x34c+-0x60*-0x6,-0x2*-0x907+0x2*0x6ab+0x1eb*-0x10)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=0x2*-0x9fe+-0x2*0x8f9+0x796*0x5+0.000001,Zt=new T(),xr=new Float32Array(0x1597+-0x13e+-0x1d9*0xb),mC=new T(-(0x17cc+-0x1eea+0x71e+0.5),0x9cf+-0x224+-0x97*0xd,-0x806+0x276+-0x59*-0x10),_C=new T(0x1e7e*-0x1+0x2293+-0x5f*0xb,0x19bb*-0x1+0x1b59+-0x19e,0x9cb+-0x24df+-0x2*-0xd8a+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x24e4a9){c(this,'areaLights'+'Enabled',!(-0x1*-0x2172+-0x1*0xb08+-0x1669)),(this['device']=_0x24e4a9,this['cookiesEna'+'bled']=!(0x73e+0x858+-0xf95),this['shadowsEna'+'bled']=!(0xac6*-0x1+-0x1*0x6d3+0x119a),this['areaLights'+'Enabled']=!(-0x2b6+0x1ca*-0x1+0x481),this['maxLights']=-0x144+0x109a+-0xe57);const _0x390584=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((0x3*-0x3dd+-0x2443+-0x1*-0x2fde)*_0x390584*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x390584,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x5a5fd2=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x1*0x7d6+0x1d04+-0x24d6)*_0x5a5fd2*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x5a5fd2,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=-0x19e8+-0x1a0b*0x1+0x3*0x1151,this['invMaxAtte'+'nuation']=-0x57b*0x1+-0xc1*0x25+0x2160,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x426a2d=(_0x1cd9d0,_0x2b5112)=>Object['keys'](_0x1cd9d0)['map'](_0x398c0f=>'#define\x20'+_0x2b5112+_0x398c0f+'\x20'+_0x1cd9d0[_0x398c0f])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x426a2d(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x426a2d(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x461717,_0x264510;(_0x461717=this['lightsText'+'ure8'])==null||_0x461717['destroy'](),this['lightsText'+'ure8']=null,(_0x264510=this['lightsText'+'ureFloat'])==null||_0x264510['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x45b70b,_0x4e3918,_0x3fd57e,_0x3404ac,_0x563e0e){return new he(_0x45b70b,{'name':_0x563e0e,'width':_0x4e3918,'height':_0x3fd57e,'mipmaps':!(0x1f3d+0x1*-0x14af+0x49*-0x25),'format':_0x3404ac,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x93688f,_0xc1c90c){this['invMaxColo'+'rValue']=(-0x1c18+-0xc3c+0x2855)/_0xc1c90c,this['invMaxAtte'+'nuation']=(0x1fb9+0x1*-0x1e07+-0x1b1*0x1)/_0x93688f;}['setBounds'](_0x46ed81,_0x419064){this['boundsMin']['copy'](_0x46ed81),this['boundsDelt'+'a']['copy'](_0x419064);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x4ca0e9,_0x4efdc5){_0x4efdc5['_node']['getWorldTr'+'ansform']()['getY'](_0x4ca0e9)['mulScalar'](-(0x51*0x1+-0x2*0x121d+0x11f5*0x2)),_0x4ca0e9['normalize']();}['getLightAr'+'eaSizes'](_0xfce7a8){const _0x2cd81a=_0xfce7a8['_node']['getWorldTr'+'ansform']();return _0x2cd81a['transformV'+'ector'](mC,Zt),xr[0x129+0x8*0xd4+-0x7c9]=Zt['x'],xr[-0x216*0x4+0x6be*-0x2+-0x1b*-0xcf]=Zt['y'],xr[0x1284+-0xfb*-0x1+-0x67f*0x3]=Zt['z'],_0x2cd81a['transformV'+'ector'](_C,Zt),xr[0x147+0x22d4+0xdc*-0x2a]=Zt['x'],xr[0x1*0x1f46+-0x69c+0x1*-0x18a6]=Zt['y'],xr[-0x7d3+0x10*0x250+-0x1d28]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x2c34e3,_0x2b5bfa,_0x193972,_0x3d8472,_0x4d949a,_0x2417d0){_0x2c34e3[_0x2b5bfa+(-0x8af+0x1*-0xeac+0x175b)]=_0x3d8472?0x35*0x53+-0x219d+0x116d:-0x4c0+-0x161f+-0x1adf*-0x1,_0x2c34e3[_0x2b5bfa+(-0xdd4+-0xf*0x17d+0x2428)]=this['areaLights'+'Enabled']?_0x193972['_shape']*(-0x2d5*-0xd+0xa*0x301+-0x429b*0x1):0x151a+-0x502*0x5+0x6*0xa8,_0x2c34e3[_0x2b5bfa+(0x1e65+-0x2*-0x5b+-0x1f19)]=_0x193972['_falloffMo'+'de']*(0x22e*-0x2+0x26*-0x37+0xd85),_0x2c34e3[_0x2b5bfa+(-0x25d3+-0xdaa+0x8*0x670)]=_0x4d949a?_0x2417d0*(0x13fe*0x1+-0x5ae+-0xd51):-0x18be*-0x1+-0x1*0x2184+0x8c6;}['addLightDa'+'taColor'](_0x4c82de,_0x2dfdf2,_0x124087,_0x29a8e8){const _0x2c58c1=this['invMaxColo'+'rValue'],_0x35b06e=_0x124087['_colorLine'+'ar'];Wt['float2Byte'+'s'](_0x35b06e[-0x1104+-0x16b+-0xd*-0x16b]*_0x2c58c1,_0x4c82de,_0x2dfdf2+(-0x2028+-0x17c1+0x37e9),0x12c7+0xbc8+-0x1e8d),Wt['float2Byte'+'s'](_0x35b06e[0x57c+-0x1a8c+0x1511*0x1]*_0x2c58c1,_0x4c82de,_0x2dfdf2+(-0xe4+0x1a37+-0x1*0x1951),-0xa61+-0x130e+-0x1d71*-0x1),Wt['float2Byte'+'s'](_0x35b06e[0x8f7+-0xb07*0x3+0x1820]*_0x2c58c1,_0x4c82de,_0x2dfdf2+(-0x1e9c+0x213*-0x6+-0x1589*-0x2),-0xcdc*0x2+0x1*0x1549+-0x471*-0x1),_0x4c82de[_0x2dfdf2+(-0x488*-0x6+-0xc*-0x1f6+-0x32b2)]=_0x29a8e8?0x19*0x93+0x1*0x89e+0x3a*-0x61:0x1*-0x20ed+-0x3*-0xc63+-0x4*0x10f;const _0x3cdf41=!!(_0x124087['mask']&hs),_0x59a6ab=!!(_0x124087['mask']&cr);_0x4c82de[_0x2dfdf2+(-0x672*-0x2+0x176c+0x1*-0x2449)]=_0x3cdf41&&_0x59a6ab?-0x15af+-0xa44+0x1039*0x2:_0x59a6ab?0x944*-0x4+0x215+0x23fa:-0x8fc+-0x2114+0x2a10;}['addLightDa'+'taSpotAngl'+'es'](_0x37cefb,_0x1bbbe2,_0x250713){Wt['float2Byte'+'s'](_0x250713['_innerCone'+'AngleCos']*(0x2*0xbb9+0x93a*-0x4+-0x6bb*-0x2+0.5-i_)+(0x4*-0x36b+0xb97+-0x1*-0x215+0.5),_0x37cefb,_0x1bbbe2+(-0x1*-0x18c2+-0x197a+-0x5c*-0x2),0x1*0xec2+-0x270f+-0x31*-0x7f),Wt['float2Byte'+'s'](_0x250713['_outerCone'+'AngleCos']*(0x18f*0x2+0x52c*-0x2+0x73a+0.5-i_)+(0x4*-0x4af+-0xc*0x2e+-0x539*-0x4+0.5),_0x37cefb,_0x1bbbe2+(0x1*-0xae5+-0xc7*-0x4+0x1*0x7cb),-0x47*0xb+0x7af*-0x3+0x1a1c);}['addLightDa'+'taShadowBi'+'as'](_0x3b60ae,_0x366717,_0x48b832){const _0xc77a3c=_0x48b832['getRenderD'+'ata'](null,0x2491+-0x1*0xb63+-0x192e),_0x1105dc=_0x48b832['_getUnifor'+'mBiasValue'+'s'](_0xc77a3c);Wt['float2Byte'+'sRange'](_0x1105dc['bias'],_0x3b60ae,_0x366717,-(0x82e*-0x1+0x5*-0x75+-0x2*-0x53c),-0x127d+0xbaf*-0x2+0x29ef,-0x92a+-0x439+0xd65),Wt['float2Byte'+'s'](_0x1105dc['normalBias'],_0x3b60ae,_0x366717+(0xc*0x3a+-0x1999+0x16e3),0x1f48+0x2445+-0x438b*0x1);}['addLightDa'+'taCookies'](_0x313e09,_0x33e608,_0x380f49){const _0x5c9a8e=_0x380f49['_cookieCha'+'nnel']==='rgb';if(_0x313e09[_0x33e608+(-0x1*-0x1f23+0x97*-0x7+-0x1b02)]=Math['floor'](_0x380f49['cookieInte'+'nsity']*(-0x63f+0x24fa+-0x1dbc)),_0x313e09[_0x33e608+(-0xf2e*-0x1+-0x3*-0xef+0x162*-0xd)]=_0x5c9a8e?0x1*0x1093+-0x15bc+0x628:0xf43*-0x1+-0x11ac+-0x1*-0x20ef,!_0x5c9a8e){const _0x49c1bb=_0x380f49['_cookieCha'+'nnel'];_0x313e09[_0x33e608+(-0x1*0x1ab9+0x273*-0xb+0x35ae*0x1)]=_0x49c1bb==='rrr'?0x5*-0x67a+0x264a+0x3*-0x1a3:-0x2*-0x187+-0x1132+0xe24,_0x313e09[_0x33e608+(0x4*0x4a9+-0x5c7+0x112*-0xc)]=_0x49c1bb==='ggg'?0x1*0xf9d+0x4*0x1ab+0x5*-0x442:-0x720+0x744+-0x24*0x1,_0x313e09[_0x33e608+(-0x1*-0x1339+0x17f*-0x7+-0x8ba)]=_0x49c1bb==='bbb'?-0xab1+-0x2070+-0x10*-0x2c2:0x70d+-0x24b2+0x1*0x1da5,_0x313e09[_0x33e608+(-0x14c*-0xf+-0x2535+0x11c8)]=_0x49c1bb==='aaa'?-0x2193+-0xade+0x4*0xb5c:0x547*-0x1+-0x1*-0x10d4+0x1*-0xb8d;}}['addLightDa'+'ta'](_0x1b29e8,_0x4cf3cc){const _0x1fb852=_0x1b29e8['_type']===Re,_0x5314c4=_0x1b29e8['atlasViewp'+'ortAllocat'+'ed'],_0x50f5bb=this['cookiesEna'+'bled']&&!!_0x1b29e8['_cookie']&&_0x5314c4,_0x3175f3=this['areaLights'+'Enabled']&&_0x1b29e8['shape']!==yt,_0x51ec27=this['shadowsEna'+'bled']&&_0x1b29e8['castShadow'+'s']&&_0x5314c4,_0x56fcb4=_0x1b29e8['_node']['getPositio'+'n']();let _0x49a9fe=null,_0x587077=null;_0x1fb852?_0x51ec27?_0x49a9fe=_0x1b29e8['getRenderD'+'ata'](null,-0x127+0x132f+0x904*-0x2)['shadowMatr'+'ix']:_0x50f5bb&&(_0x49a9fe=Ma['evalSpotCo'+'okieMatrix'](_0x1b29e8)):(_0x51ec27||_0x50f5bb)&&(_0x587077=_0x1b29e8['atlasViewp'+'ort']);const _0x59be4c=this['lights8'],_0x40451c=_0x4cf3cc*this['lightsText'+'ure8']['width']*(0x32*-0x29+-0x1e49*-0x1+-0x1643*0x1);this['addLightDa'+'taFlags'](_0x59be4c,_0x40451c+(-0x17f+-0xd1c+-0x1*-0xe9f)*Sr['FLAGS'],_0x1b29e8,_0x1fb852,_0x51ec27,_0x1b29e8['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x59be4c,_0x40451c+(0x56f+0x8f4+0xd*-0x11b)*Sr['COLOR_A'],_0x1b29e8,_0x50f5bb),_0x1fb852&&this['addLightDa'+'taSpotAngl'+'es'](_0x59be4c,_0x40451c+(0xd*-0xe5+0x1e*0x9b+-0x1*0x685)*Sr['SPOT_ANGLE'+'S'],_0x1b29e8),_0x1b29e8['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x59be4c,_0x40451c+(-0x1*-0xc3e+0x180a+-0x2444)*Sr['SHADOW_BIA'+'S'],_0x1b29e8),_0x50f5bb&&this['addLightDa'+'taCookies'](_0x59be4c,_0x40451c+(0x7*-0x506+-0x1bbe+0x3eec)*Sr['COOKIE_A'],_0x1b29e8);const _0x313221=this['lightsFloa'+'t'],_0x3e45ac=_0x4cf3cc*this['lightsText'+'ureFloat']['width']*(0x24f8+-0x15c0+-0x2*0x79a);if(_0x313221[_0x3e45ac+(-0x85d*-0x1+-0x1705+0xeac)*lt['POSITION_R'+'ANGE']+(0x1f9c+0xdfb*0x2+-0x3b92)]=_0x56fcb4['x'],_0x313221[_0x3e45ac+(0xc08+0x5b7*-0x1+-0x64d*0x1)*lt['POSITION_R'+'ANGE']+(0x72d+-0xf82+0x856)]=_0x56fcb4['y'],_0x313221[_0x3e45ac+(-0x92f*0x4+0x6*0x1b7+0x1a76)*lt['POSITION_R'+'ANGE']+(-0xf8*-0x4+0x1cc*-0x5+-0x83*-0xa)]=_0x56fcb4['z'],_0x313221[_0x3e45ac+(-0x742*-0x1+-0x2*-0x10a6+-0x288a)*lt['POSITION_R'+'ANGE']+(-0x5*0x161+0x1*0x589+-0x15f*-0x1)]=_0x1b29e8['attenuatio'+'nEnd'],_0x1fb852&&(this['getSpotDir'+'ection'](Zt,_0x1b29e8),_0x313221[_0x3e45ac+(-0x1f6a+0x1c9b+0x1*0x2d3)*lt['SPOT_DIREC'+'TION']+(-0x35*0x91+-0x17a0+0x35a5)]=Zt['x'],_0x313221[_0x3e45ac+(-0x1bcc+0x1305+0x8cb)*lt['SPOT_DIREC'+'TION']+(-0x44d+0x1087+0x95*-0x15)]=Zt['y'],_0x313221[_0x3e45ac+(0x14e+0x1*-0x67a+0x530)*lt['SPOT_DIREC'+'TION']+(-0x1*-0x95+-0x3*-0x7e1+-0x6*0x409)]=Zt['z']),_0x49a9fe){const _0x597311=_0x49a9fe['data'];for(let _0x35aa9c=0x18c2+0x5f*-0x19+-0xf7b;_0x35aa9c<0x8*0x15b+-0xa*0x3a2+0x198c;_0x35aa9c++)_0x313221[_0x3e45ac+(0x27c*-0x1+0x511*0x7+0x57*-0x61)*lt['PROJ_MAT_0']+_0x35aa9c]=_0x597311[_0x35aa9c];}if(_0x587077&&(_0x313221[_0x3e45ac+(-0x1df*0xd+0x1070+0x7e7)*lt['ATLAS_VIEW'+'PORT']+(0xde0+0x5*-0x4cc+-0x287*-0x4)]=_0x587077['x'],_0x313221[_0x3e45ac+(-0x13ae+-0x61*-0x5b+-0xec9)*lt['ATLAS_VIEW'+'PORT']+(0x25d7*0x1+-0x162b*0x1+0xfab*-0x1)]=_0x587077['y'],_0x313221[_0x3e45ac+(-0x24*-0xb7+0x126*0x7+-0x95*0x3a)*lt['ATLAS_VIEW'+'PORT']+(-0x26*0x75+0x24ce+-0x6*0x33d)]=_0x587077['z']/(-0xb5*-0x1+-0x6a*-0x20+-0xdf2)),_0x3175f3){const _0x24719a=this['getLightAr'+'eaSizes'](_0x1b29e8);_0x313221[_0x3e45ac+(0x1882+-0x1c9*-0x13+0x313*-0x13)*lt['AREA_DATA_'+'WIDTH']+(-0x745+0x138e+0x11*-0xb9)]=_0x24719a[0x1f75+-0xe12+-0x1163],_0x313221[_0x3e45ac+(0x2c*0x3e+0xe3b*0x1+-0x1*0x18df)*lt['AREA_DATA_'+'WIDTH']+(0xb*0x9e+0x51*-0x3e+0xf*0xdb)]=_0x24719a[-0x4*0x78e+0x10eb*0x1+0xd4e],_0x313221[_0x3e45ac+(-0xdfa+0xd*0xd5+0x32d)*lt['AREA_DATA_'+'WIDTH']+(0x37b*0x3+0x13bf+0x1*-0x1e2e)]=_0x24719a[-0x2*0xea2+0x2cf*0x3+-0x3*-0x6f3],_0x313221[_0x3e45ac+(0x5d5+-0x5*-0x5e8+0x2359*-0x1)*lt['AREA_DATA_'+'HEIGHT']+(0x470*0x3+-0x94d*0x4+0x17e4)]=_0x24719a[0xa03+0x5*0x1d7+-0x1333],_0x313221[_0x3e45ac+(-0x1816+0x1fd3+-0x3*0x293)*lt['AREA_DATA_'+'HEIGHT']+(-0x24c2+0x25b5+-0x1*0xf2)]=_0x24719a[-0x2041+0x19c2+0x683],_0x313221[_0x3e45ac+(-0x53d*0x1+0x44e+0xf3)*lt['AREA_DATA_'+'HEIGHT']+(0x2428+-0x1057+-0x13cf*0x1)]=_0x24719a[0x1cf4+-0x19ab*0x1+-0x344];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x34d*0x8+0x22b0+-0x848+0.000001,n_=0x26c9+0xaa3+-0x216c;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x545208){c(this,'clusterTex'+'ture'),(this['device']=_0x545208,this['name']='Untitled',this['reportCoun'+'t']=0x1*0x313+-0x26e0+0x23cd,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(0x559+0xfb*-0x1+-0x45d*0x1,0x103*0x7+-0x1*0x518+-0x1fc,0x2425+-0x1b86+-0x89e),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x2ff+0x16f5+-0x13f2*0x1,this['_maxAttenu'+'ation']=-0x9c6+0x3*-0xb92+-0xc*-0x3b5,this['_maxColorV'+'alue']=0x216*-0x2+-0x16*0xa9+0x2*0x959,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x545208),this['registerUn'+'iforms'](_0x545208));}set['maxCellLig'+'htCount'](_0xd18291){_0xd18291!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0xd18291,this['_cellsDirt'+'y']=!(-0x23fb+-0x2316+-0x7*-0xa27));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x8d4c99){Ml['copy'](_0x8d4c99)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(0xf*0xf7+0xd69+0x2*-0xdf1));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x47e85e){this['_clusterSk'+'ipId']=_0x47e85e['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x47e85e['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x47e85e['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x47e85e['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x7f*0x31+0x25fb+-0x3e47),this['_clusterBo'+'undsMinId']=_0x47e85e['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x61+-0x106*0x10+-0x801*-0x2),this['_clusterBo'+'undsDeltaI'+'d']=_0x47e85e['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x17*0x163+-0x204d*-0x1+-0x65),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x47e85e['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x1e80+0x1f6*-0x2+0x5*0x6e3),this['_clusterCe'+'llsDotId']=_0x47e85e['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x66f*0x1+-0x19a7+0x133b),this['_clusterCe'+'llsMaxId']=_0x47e85e['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x1*0x1c22+0x66*-0x25+-0xd61),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x47e85e['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x96d+0x1917+-0xa7*0x18);}['updatePara'+'ms'](_0x5398bf){_0x5398bf&&(this['cells']=_0x5398bf['cells'],this['maxCellLig'+'htCount']=_0x5398bf['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x5398bf['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x5398bf['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x5398bf['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0xd80*0x2+0x1f9e+-0x3a9d);const _0x3adfc1=this['_cells']['x'],_0x5a864e=this['_cells']['y'],_0x50e342=this['_cells']['z'],_0x4dfe9a=_0x3adfc1*_0x5a864e*_0x50e342,_0x5eccf1=this['maxCellLig'+'htCount']*_0x4dfe9a;let _0x19ccf3=Math['ceil'](Math['sqrt'](_0x5eccf1));_0x19ccf3=N['roundUp'](_0x19ccf3,this['maxCellLig'+'htCount']);const _0x180853=Math['ceil'](_0x5eccf1/_0x19ccf3);v['assert'](_0x19ccf3<=n_&&_0x180853<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x7*-0xdc+-0x1*-0x15aa+-0x1bae]=_0x3adfc1,this['_clusterCe'+'llsMaxData'][0x1297+-0x136b+0xd5]=_0x5a864e,this['_clusterCe'+'llsMaxData'][0x555*0x2+-0x26ff+0x1c57]=_0x50e342,this['_clusterCe'+'llsDotData'][0x8*-0x18d+0x1a72+0xe0a*-0x1]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x19b7+-0x45*0x71+-0x4bf*-0x1]=_0x3adfc1*_0x50e342*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0xf06+0xfda+-0xd2]=_0x3adfc1*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x5eccf1),this['counts']=new Int32Array(_0x4dfe9a),this['_clusterTe'+'xtureSizeD'+'ata'][0x137a+0x6dc+0x1*-0x1a56]=_0x19ccf3,this['_clusterTe'+'xtureSizeD'+'ata'][-0x310+-0x2038+0x2349]=(-0x5be+-0xb*-0x23e+0x12eb*-0x1)/_0x19ccf3,this['_clusterTe'+'xtureSizeD'+'ata'][0x6b+-0x5f5*0x1+-0x2*-0x2c6]=(-0x18e4+-0x2df+-0x6f1*-0x4)/_0x180853,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x19ccf3,_0x180853,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0xf93+-0x8b*0x32+0x6*0x71f?-0x15c7+0x3f*-0x60+0x1*0x2d67:0x6*-0xbb+-0x886+-0x5*-0x295),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x212ca5=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x60c*0x1+-0x1c8e+0x1682]=this['_cells']['x']/_0x212ca5['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x65*0x22+0x1408+0x7*-0x4c7]=this['_cells']['y']/_0x212ca5['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x170f+0x21*-0xff+0x4e9*0x2]=this['_cells']['z']/_0x212ca5['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x1223*-0x2+0x2f*0x5b+-0x34fb]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x518*-0x1+-0x203a+0x1b23*0x1]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x1*0x176f+-0x1*-0x2333+0x218*-0x1c]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1c40+-0x9e1*-0x1+-0x2621]=_0x212ca5['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x2b*-0x52+0x1510+-0xf1*0x25]=_0x212ca5['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x32*-0x4d+-0x25b5+0x16ad]=_0x212ca5['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x11e7+-0x1cf9*-0x1+0xb12*-0x1]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0xa1e+0xbbc+-0x19d]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x5e8fda,_0x1ded0a,_0x4b3e5c){_0x1ded0a['copy'](_0x5e8fda['min']),_0x1ded0a['sub'](this['boundsMin']),_0x1ded0a['div'](this['boundsDelt'+'a']),_0x1ded0a['mul2'](_0x1ded0a,this['cells']),_0x1ded0a['floor'](),_0x4b3e5c['copy'](_0x5e8fda['max']),_0x4b3e5c['sub'](this['boundsMin']),_0x4b3e5c['div'](this['boundsDelt'+'a']),_0x4b3e5c['mul2'](_0x4b3e5c,this['cells']),_0x4b3e5c['ceil'](),_0x1ded0a['max'](T['ZERO']),_0x4b3e5c['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x520c8e){const _0x5ad6f8=this['lightsBuff'+'er']['maxLights'],_0x223a1e=this['_usedLight'+'s'];let _0x21beab=-0x521*0x7+-0x1e*0xf4+0x60*0xac;_0x520c8e['forEach'](_0x2589e9=>{const _0x2f032f=!!(_0x2589e9['mask']&(hs|cr)),_0x5beaa4=_0x2589e9['type']===Re&&_0x2589e9['_outerCone'+'Angle']===0x409+0x1af*-0x9+0xb1e;if(_0x2589e9['enabled']&&_0x2589e9['type']!==oe&&_0x2589e9['visibleThi'+'sFrame']&&_0x2589e9['intensity']>-0x2268+0xc*0x5f+0x1df4&&_0x2f032f&&!_0x5beaa4){if(_0x21beab<_0x5ad6f8){let _0x453188;_0x21beab<_0x223a1e['length']?_0x453188=_0x223a1e[_0x21beab]:(_0x453188=new a_(),_0x223a1e['push'](_0x453188)),_0x453188['light']=_0x2589e9,_0x2589e9['getBoundin'+'gBox'](bd),_0x453188['min']['copy'](bd['getMin']()),_0x453188['max']['copy'](bd['getMax']()),_0x21beab++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x5ad6f8-(0x2*-0xab5+-0x4ea+-0x141*-0x15))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x223a1e['length']=_0x21beab;}['evaluateBo'+'unds'](){const _0x93a80c=this['_usedLight'+'s'],_0x3f445f=this['boundsMin'],_0x17a70b=this['boundsMax'];if(_0x93a80c['length']>-0x5*0x6ef+-0x1*-0x144d+0x11b*0xd){_0x3f445f['copy'](_0x93a80c[0x5*-0x34b+0xc8e+0x14e*0x3]['min']),_0x17a70b['copy'](_0x93a80c[0x29*0x3a+0x5b4*0x3+-0x1a65]['max']);for(let _0x4919f5=-0x1a5e+-0x33*-0x7+0x18fb;_0x4919f5<_0x93a80c['length'];_0x4919f5++)_0x3f445f['min'](_0x93a80c[_0x4919f5]['min']),_0x17a70b['max'](_0x93a80c[_0x4919f5]['max']);}else _0x3f445f['set'](-0x8*-0x21d+-0x1d*0xb3+0x1*0x35f,0x14d7+0x1c2*0x11+-0x1*0x32b9,0x7ea+-0x2365+-0xf*-0x1d5),_0x17a70b['set'](-0x251d*-0x1+-0x1bd2+-0x94a,0x11f*-0x13+0x26*0x1f+0x10b4,0x97*0x1+0xaf0+-0x127*0xa);this['boundsDelt'+'a']['sub2'](_0x17a70b,_0x3f445f),this['lightsBuff'+'er']['setBounds'](_0x3f445f,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x155003=0x2588+-0x1ed1+-0x6b7,_0x121b10=0x5c9*0x1+-0x21f9+-0xa4*-0x2c;const _0xb5a28=this['_usedLight'+'s'];for(let _0x383cb3=0x15e3*-0x1+0x105+-0x27*-0x89;_0x383cb3<_0xb5a28['length'];_0x383cb3++){const _0x263c40=_0xb5a28[_0x383cb3]['light'];_0x155003=Math['max'](_0x263c40['attenuatio'+'nEnd'],_0x155003);const _0x1fde84=_0x263c40['_colorLine'+'ar'];_0x121b10=Math['max'](_0x1fde84[0x1*0x1e8b+-0x5f+-0x4*0x78b],_0x121b10),_0x121b10=Math['max'](_0x1fde84[-0x612+0x15*-0x2f+0x1f*0x52],_0x121b10),_0x121b10=Math['max'](_0x1fde84[0x1c5b+-0x6a6+-0xb*0x1f9],_0x121b10);}this['_maxAttenu'+'ation']=_0x155003+r_,this['_maxColorV'+'alue']=_0x121b10+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x2505a8){this['counts']['fill'](0xc90*0x1+0x796*0x2+0x8e*-0x32),this['clusters']['fill'](0x3e*0x59+0x182d+-0x17*0x1fd),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x2505a8?_0x2505a8['areaLights'+'Enabled']:!(-0x282+0x19f6*0x1+-0x1773);const _0x3f8a7a=this['_cells']['x'],_0x22b278=this['_cells']['z'],_0x2282d7=this['counts'],_0x2c3cd6=this['_maxCellLi'+'ghtCount'],_0x388946=this['clusters'],_0x9fead7=this['maxCellLig'+'htCount'];let _0x13fbb0=!(0xd9a+0x154c+-0x22e5);const _0x49dbcd=this['_usedLight'+'s'];for(let _0x5a0335=-0xc56+-0x1*0x143a+0x2091;_0x5a0335<_0x49dbcd['length'];_0x5a0335++){const _0x361551=_0x49dbcd[_0x5a0335],_0x4c33dd=_0x361551['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x4c33dd,_0x5a0335),this['evalLightC'+'ellMinMax'](_0x361551,Pl,Rl);const _0x3b8163=Pl['x'],_0x5075aa=Rl['x'],_0x134096=Pl['y'],_0xb33428=Rl['y'],_0x40339c=Pl['z'],_0xa2e0c=Rl['z'];for(let _0x5d59df=_0x3b8163;_0x5d59df<=_0x5075aa;_0x5d59df++)for(let _0x392b4a=_0x40339c;_0x392b4a<=_0xa2e0c;_0x392b4a++)for(let _0x34dcd0=_0x134096;_0x34dcd0<=_0xb33428;_0x34dcd0++){const _0x4d582=_0x5d59df+_0x3f8a7a*(_0x392b4a+_0x34dcd0*_0x22b278),_0x1ee688=_0x2282d7[_0x4d582];_0x1ee688<_0x2c3cd6?(_0x388946[_0x9fead7*_0x4d582+_0x1ee688]=_0x5a0335,_0x2282d7[_0x4d582]=_0x1ee688+(-0x2625+0x2169+0x4bd)):_0x13fbb0=!(-0x231a+-0x19e5+-0x1455*-0x3);}}_0x13fbb0&&this['reportCoun'+'t']<0x4*0x33b+-0x1*-0x1129+-0x8*0x3c2&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x246b*-0x1+0x1*0x7f6+0x1c79?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x38e5e7,_0x1e7cce=null){this['updatePara'+'ms'](_0x1e7cce),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x38e5e7),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x1e7cce),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=-0x1951+-0x6f2+-0x2045*-0x1+0.39996322972865306,ll={'circlePoint'(_0x17c836){const _0x5953ce=Math['sqrt'](Math['random']()),_0x485cb0=Math['random']()*(0x1b4*0xf+-0x26be*-0x1+-0x1e4*0x22)*Math['PI'];_0x17c836['x']=_0x5953ce*Math['cos'](_0x485cb0),_0x17c836['y']=_0x5953ce*Math['sin'](_0x485cb0);},'circlePointDeterministic'(_0x3ef54e,_0x47e30f,_0x506fd8){const _0x571993=_0x47e30f*o_,_0x2bac11=Math['sqrt'](_0x47e30f)/Math['sqrt'](_0x506fd8);_0x3ef54e['x']=_0x2bac11*Math['cos'](_0x571993),_0x3ef54e['y']=_0x2bac11*Math['sin'](_0x571993);},'spherePointDeterministic'(_0xfe22f4,_0x1aa495,_0x1fae3a,_0xed6cee=-0xa*0x1db+-0xb2d*-0x1+0x761,_0x68f7e2=0x65*0x16+-0xb*-0x2b4+0x1*-0x2669){_0xed6cee=0x2*0x9c8+-0xb8*0x2+-0x121f-(-0x1*-0x83d+-0x1f03+0x1b*0xd8)*_0xed6cee,_0x68f7e2=0xbc1+0x1163+-0x1d23-(0x1*0x1445+-0x22ff+0x4*0x3af)*_0x68f7e2;const _0x5ea17e=N['lerp'](_0xed6cee,_0x68f7e2,_0x1aa495/_0x1fae3a),_0x16aae4=Math['sqrt'](0x453*0x2+0x16*0x1c2+-0x2f51-_0x5ea17e*_0x5ea17e),_0x3b33b2=o_*_0x1aa495;_0xfe22f4['x']=Math['cos'](_0x3b33b2)*_0x16aae4,_0xfe22f4['y']=_0x5ea17e,_0xfe22f4['z']=Math['sin'](_0x3b33b2)*_0x16aae4;},'radicalInverse'(_0xf0590d){let _0x7d5143=(_0xf0590d<<0x80b+0x788+-0x13*0xd1|_0xf0590d>>>0x1619+0x140e*0x1+-0x1af*0x19)>>>0x106c+0x3d4*0x2+-0x1814;return _0x7d5143=((_0x7d5143&0x1b5*-0x394139+0x6a58f9f*-0xb+0x1002ed777)<<-0x1*-0x1250+0x1ba9+0x1*-0x2df8|(_0x7d5143&-0xb15c882a+0x36b92*-0x55a5+0x280f301ee)>>>-0x324+-0x27b*-0x3+-0x44c)>>>0x35*0x97+-0x2*0x7b1+-0x10f*0xf,_0x7d5143=((_0x7d5143&0x44ca0fb5+-0x4cfda870+0x3b66cbee)<<0x673*0x1+0xf06*-0x1+0x895*0x1|(_0x7d5143&-0xa16a4696*0x2+-0x10b182b*0x166+0x38525261a)>>>-0x180f+-0x2*-0x35b+0x115b)>>>0x49a+0xde8+-0x1282,_0x7d5143=((_0x7d5143&0x1c8a47d*-0x6+-0x1*-0x4061251+-0x15bcd7ac*-0x1)<<0x1d50+-0x18e1+-0x3*0x179|(_0x7d5143&0x11e07a0d2+0x1*-0x1afc1ccb3+0x2326d413*0xb)>>>0x25f*0x7+-0x11*-0x1eb+0x1898*-0x2)>>>-0x1d15+-0x11ce+0x2ee3,_0x7d5143=((_0x7d5143&0xf8a816+-0x6219ee+0x1*0x6872d7)<<0x4c7*-0x4+0xa49+0x8db*0x1|(_0x7d5143&-0x4e1fd*0x7bd+0x20fbb4*0x10d+0x1022145a5)>>>-0xc0*-0x20+-0x3*0x281+-0xb*0x17f)>>>0x62d+0x4*-0x641+0x12d7,_0x7d5143*(-0x18dd+0x1*-0x16f7+0x2*0x17ea+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x13f961){return gC[_0x13f961]||'decodeGamm'+'a';}static['encodeFunc'](_0x176fec){return yC[_0x176fec]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x320116,_0x4356e1){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x4356e1['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x320116['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x48f142=>{switch(_0x48f142){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x35fcee,_0xd7c1f8,_0x5ac301)=>{if(_0x35fcee<=-0x681+-0x11c5*-0x2+0x1*-0x1d09)_0xd7c1f8[_0x5ac301+(-0x1945+-0x12d2+-0x2c17*-0x1)]=-0x1b29+0xd4+-0x8c7*-0x3,_0xd7c1f8[_0x5ac301+(-0x6b*-0x50+-0x1c8b+0x139*-0x4)]=0x3d1+0x14e+-0x51f,_0xd7c1f8[_0x5ac301+(0x45*-0x43+0x3*0x554+-0x215*-0x1)]=-0x295+0x243e+-0x7*0x4cf,_0xd7c1f8[_0x5ac301+(0x79*0x44+-0x446+0x3*-0x949)]=-0x43f*0x5+0xf13+0x628*0x1;else{if(_0x35fcee>=0x1*0x21d1+-0x6c6*0x1+-0x1b0a)_0xd7c1f8[_0x5ac301+(0x11*-0x102+-0x1b9*-0xb+-0x5d*0x5)]=0x57*-0x2d+0x244f+-0x1405,_0xd7c1f8[_0x5ac301+(-0x139*0x6+-0x4*-0x287+-0x2c5)]=-0x22f8+-0xac0+0x2db8,_0xd7c1f8[_0x5ac301+(-0xfd6+0x16b5*0x1+0x1*-0x6dd)]=-0x2553*-0x1+0x3*0xbac+-0x4857,_0xd7c1f8[_0x5ac301+(0x874+-0x1*-0x279+-0xaea)]=-0x43*-0x25+-0x21f*0x7+0x52a;else{let _0x437d65=(-0x6ed*-0x4+0x84e+-0x2401)*_0x35fcee%(0x1*-0xacb+-0x1*-0xe27+-0x1*0x35b),_0x406297=(0x1*-0x20ac+0x19b5*0x1+-0x7f6*-0x1)*_0x35fcee%(-0x1a4a+0x1*0x12e2+0x769),_0x187986=(-0x2c*-0x49c+-0x18508+0x1*0x1b839)*_0x35fcee%(-0x10bf+0x4*-0x92f+0xc*0x475);const _0x2bb62f=(0xb39a58+0x4f4552*-0x2+0xe7f34b)*_0x35fcee%(-0x1*0x901+-0x3*-0x443+-0x3c7*0x1);_0x437d65-=_0x406297/(-0x1817+0x8a*-0xe+0x20a2),_0x406297-=_0x187986/(0x11*0x9d+-0xe9f*-0x1+-0x83*0x2f),_0x187986-=_0x2bb62f/(0x26d6+0x1539+-0x3b10),_0xd7c1f8[_0x5ac301+(-0x2*-0x416+0x10bb*0x1+-0x18e7)]=Math['min'](-0x779+0x1a31+-0x11b9,Math['floor'](_0x437d65*(-0x1b7*-0x11+0x1*-0x1b55+-0xd2))),_0xd7c1f8[_0x5ac301+(-0x3c3+-0x1be8+-0x1*-0x1fac)]=Math['min'](-0x5cc+0x1*0x201d+-0x1952,Math['floor'](_0x406297*(-0x5c*-0x12+-0xec3*-0x1+0x1*-0x143b))),_0xd7c1f8[_0x5ac301+(0x1f75*0x1+0x9ad*0x2+-0x32cd)]=Math['min'](0x2028+0x17*-0x187+0x7f*0x8,Math['floor'](_0x187986*(-0x1384+0x24*-0x105+-0x4*-0xe4e))),_0xd7c1f8[_0x5ac301+(0x8f4+0x835*-0x1+-0xbc)]=Math['min'](0x14*0x5+-0x1ada+0x1b75,Math['floor'](_0x2bb62f*(0x400+-0x30c*-0x3+0x94*-0x15)));}}},xC=_0x135fe3=>{const _0x4e941f=_0x135fe3['length'],_0x30f912=Math['min'](_0x4e941f,-0x149*-0x5+-0x267f+0x2212),_0x46047e=Math['ceil'](_0x4e941f/_0x30f912),_0x55f323=new Uint8Array(_0x30f912*_0x46047e*(-0x8dd*-0x3+0x1a97+0x1a95*-0x2));let _0x16523f=0x1690+-0x8*-0x321+0x1*-0x2f98;for(let _0x4f2794=0xc99+-0x2648+-0x107*-0x19;_0x4f2794<_0x4e941f;_0x4f2794+=-0x1b3c+-0xdc7+-0x3*-0xdad)Il(_0x135fe3[_0x4f2794+(-0x1*-0x1421+0x149b+-0x2c*0xed)]*(-0xdea+-0x923*-0x4+0x16a2*-0x1+0.5)+(0xd1d+-0x391*0x1+-0x98c+0.5),_0x55f323,_0x16523f+(-0x7*-0x6d+-0x2f*-0x9a+-0x1f41)),Il(_0x135fe3[_0x4f2794+(-0x1585*0x1+-0x961+-0x125*-0x1b)]*(0xddd+-0x26da+0x1*0x18fd+0.5)+(0x310+0x108*0xf+-0x1288+0.5),_0x55f323,_0x16523f+(-0x1911+0x1781*0x1+0x194)),Il(_0x135fe3[_0x4f2794+(0x33b*0x1+0x2a*-0xc1+0x1c71*0x1)]*(0x167*0xa+0x1e7*-0x1+-0x1d*0x6b+0.5)+(-0x1175+0xc03+-0x22*-0x29+0.5),_0x55f323,_0x16523f+(-0x287*-0x6+0xc9b+-0x1bbd)),Il(_0x135fe3[_0x4f2794+(0x19da+-0x4e*-0x6b+-0x137b*0x3)]/(-0xf58+-0x1cd8+0x161c*0x2),_0x55f323,_0x16523f+(-0x24e1+0x2*-0xa8f+0x3a0b)),_0x16523f+=-0xf77+0x7*0x74+0xc5b;return{'width':_0x30f912,'height':_0x46047e,'data':_0x55f323};},SC=(_0x305831,_0x17b727,_0x4b909a,_0x264aa2)=>{const _0x5efb88=_0x4b909a*(-0x1*0x13c1+0x1b00+0x6d*-0x11)*Math['PI'],_0x594e3f=Math['pow'](-0x3*-0x16f+-0x2519+-0x9*-0x3a5-_0x17b727,(-0x2*0xb9+-0x2*0x1f1+0x555)/(_0x264aa2+(-0xb1*-0x17+0x1*0x1622+-0x982*0x4))),_0x54a494=Math['sqrt'](-0x17*-0x8b+-0xdfa+-0xbf*-0x2-_0x594e3f*_0x594e3f);_0x305831['set'](Math['cos'](_0x5efb88)*_0x54a494,Math['sin'](_0x5efb88)*_0x54a494,_0x594e3f)['normalize']();},vC=(_0x1cf081,_0x2149b4,_0x352ac1)=>{const _0x2bdc1e=_0x352ac1*(0x685*-0x4+0x7*0xa3+0x15a1)*Math['PI'],_0x21f1e4=Math['sqrt'](0xa1b+-0xd79*-0x2+-0x4*0x943-_0x2149b4),_0x74def2=Math['sqrt'](_0x2149b4);_0x1cf081['set'](Math['cos'](_0x2bdc1e)*_0x74def2,Math['sin'](_0x2bdc1e)*_0x74def2,_0x21f1e4)['normalize']();},bC=(_0x543b05,_0x3638f8,_0x4a97d6,_0xdd63b8)=>{const _0x1df49c=_0x4a97d6*(0x1*0xb77+-0x2475+0x1900)*Math['PI'],_0x32d301=Math['sqrt']((0x7c*-0x44+0x37f*0x2+-0x49*-0x5b-_0x3638f8)/(-0x22a6+-0x16*-0x14+0x20ef+(_0xdd63b8*_0xdd63b8-(0x5d5*-0x2+-0x8c1+0x4*0x51b))*_0x3638f8)),_0x316bd4=Math['sqrt'](-0x15*0xf+0x21bb+-0x207f-_0x32d301*_0x32d301);_0x543b05['set'](Math['cos'](_0x1df49c)*_0x316bd4,Math['sin'](_0x1df49c)*_0x316bd4,_0x32d301)['normalize']();},wC=(_0x4026f9,_0x339cea)=>{const _0x46dda5=_0x4026f9*_0x339cea,_0x312c94=_0x339cea/(-0x24af+-0x2*0x266+0x84c*0x5-_0x4026f9*_0x4026f9+_0x46dda5*_0x46dda5);return _0x312c94*_0x312c94*((-0x12ec+0x63f*0x1+0xcae*0x1)/Math['PI']);},TC=(_0x81741b,_0x50d780)=>{const _0x51c56d=new T(),_0x4b2f01=[];for(let _0x20eb90=-0x2c3*-0x1+-0x1b3b+0x1878;_0x20eb90<_0x81741b;++_0x20eb90)SC(_0x51c56d,_0x20eb90/_0x81741b,ll['radicalInv'+'erse'](_0x20eb90),_0x50d780),_0x4b2f01['push'](_0x51c56d['x'],_0x51c56d['y'],_0x51c56d['z'],0x68a+0x29*-0xc6+-0x166*-0x12);return _0x4b2f01;},AC=(_0x1d97c8,_0x11d707)=>{const _0x3e74c1=_0x11d707/_0x1d97c8,_0x18072d=new T(),_0x4624c6=[];for(let _0x1db04b=-0x2055*0x1+0x14ff+0xb56;_0x1db04b<_0x1d97c8;++_0x1db04b){vC(_0x18072d,_0x1db04b/_0x1d97c8,ll['radicalInv'+'erse'](_0x1db04b));const _0x1ef6a=_0x18072d['z']/Math['PI'],_0x2789d7=(0xebd+0x1*-0x1edf+-0x3b*-0x46+0.5)*Math['log2'](_0x3e74c1/_0x1ef6a);_0x4624c6['push'](_0x18072d['x'],_0x18072d['y'],_0x18072d['z'],_0x2789d7);}return _0x4624c6;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x47938d,_0x4a838e)=>{const _0x48988a=EC[_0x47938d];return _0x48988a&&_0x48988a[_0x4a838e]||_0x47938d;},MC=(_0x22396c,_0x3d4f80,_0x582b84)=>{const _0x7491be=_0x582b84/_0x22396c,_0x571ab4=0x1fb9+-0x242+-0x2*0xebb-Math['log2'](_0x3d4f80)/(0x125f+0xda1*0x2+-0x1*0x2d96),_0x150d5b=_0x571ab4*_0x571ab4,_0x1f4537=new T(),_0x4894c6=new T(),_0x76e609=new T(0xe5b+0x23b+-0x1096,0x5bb+0x202c+-0x25e7,-0x1ad8+-0x152*-0xc+0xb01),_0x2e1470=[],_0x228e64=CC(_0x22396c,_0x3d4f80);for(let _0x47fea8=0x157b+-0x6cb+0x4*-0x3ac;_0x47fea8<_0x228e64;++_0x47fea8){bC(_0x1f4537,_0x47fea8/_0x228e64,ll['radicalInv'+'erse'](_0x47fea8),_0x150d5b);const _0x5ec47f=_0x1f4537['z'];if(_0x4894c6['set'](_0x1f4537['x'],_0x1f4537['y'],_0x1f4537['z'])['mulScalar']((0x1a4b*-0x1+-0x125d*-0x2+0x11*-0x9d)*_0x5ec47f)['sub'](_0x76e609),_0x4894c6['z']>0xcbd+-0xb5+-0xc08){const _0x587a54=wC(Math['min'](0x1*0x449+0x527*-0x1+-0x1*-0xdf,_0x5ec47f),_0x150d5b)/(0x227d+-0x1af5+-0x784)+(0x26ca+-0x1183+-0x1547+0.001),_0x44245a=(0x2*0x11d6+-0x26ae+0x302+0.5)*Math['log2'](_0x7491be/_0x587a54);_0x2e1470['push'](_0x4894c6['x'],_0x4894c6['y'],_0x4894c6['z'],_0x44245a);}}for(;_0x2e1470['length']<_0x22396c*(-0x5b7+0x138f+-0xec*0xf);)_0x2e1470['push'](0x1f29*-0x1+0x18be+0x66b,0xb*0x53+0x1dbd*0x1+-0x126*0x1d,0x4*0x383+0x46+-0x2f*0x4e,-0x20f*0x8+0x25b6*-0x1+0x362e);return _0x2e1470;},PC=(_0x33187b,_0x152e3b,_0x4b17eb)=>{const _0x9f7d0e=xC(_0x4b17eb);return new he(_0x33187b,{'name':_0x152e3b,'width':_0x9f7d0e['width'],'height':_0x9f7d0e['height'],'mipmaps':!(-0x21*0xe2+0x131e*0x2+-0x919),'minFilter':de,'magFilter':de,'levels':[_0x9f7d0e['data']]});};class C0{constructor(_0xf2b6df=!(0x2*-0x125c+0x8e*-0x1+0x2546*0x1)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0xf2b6df;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x4c9ad8,_0x12079e)=>{_0x4c9ad8['destroy']();});}['get'](_0x3f1dc2,_0x2bced9){if(!this['map']['has'](_0x3f1dc2)){const _0x597071=_0x2bced9();return this['map']['set'](_0x3f1dc2,_0x597071),_0x597071;}return this['map']['get'](_0x3f1dc2);}}const RC=new C0(!(0xfe2+-0x1*0x215b+0x1*0x117a)),IC=new Ot(),Lp=(_0x3e0d57,_0x5cdc6c,_0x57ebc3)=>IC['get'](_0x3e0d57,()=>new C0())['get'](_0x5cdc6c,()=>PC(_0x3e0d57,_0x5cdc6c,RC['get'](_0x5cdc6c,_0x57ebc3))),DC=(_0x5a4a83,_0x3b1d57,_0x250b87)=>{const _0x26bca5='lambert-sa'+'mples-'+_0x3b1d57+'-'+_0x250b87;return Lp(_0x5a4a83,_0x26bca5,()=>AC(_0x3b1d57,_0x250b87));},LC=(_0x3744c9,_0x3b3b8c,_0x207110)=>{const _0x4f7652='phong-samp'+'les-'+_0x3b3b8c+'-'+_0x207110;return Lp(_0x3744c9,_0x4f7652,()=>TC(_0x3b3b8c,_0x207110));},FC=(_0x4ce20a,_0x53de40,_0x45c5a3,_0x39c45a)=>{const _0x24fedb='ggx-sample'+'s-'+_0x53de40+'-'+_0x45c5a3+'-'+_0x39c45a;return Lp(_0x4ce20a,_0x24fedb,()=>MC(_0x53de40,_0x45c5a3,_0x39c45a));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x1f94d6,_0x4a23a9,_0x4c0c82={}){var _0x310aac,_0x398d1f;v['assert'](_0x1f94d6 instanceof he&&_0x4a23a9 instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x1e424d=_0x4c0c82['seamPixels']??0xa6*0x11+-0x11d6+-0x1b4*-0x4,_0x4c9ffd=(((_0x310aac=_0x4c0c82['rect'])==null?void(0x1*0x22fd+-0x1*-0x13d5+-0x36d2):_0x310aac['z'])??_0x4a23a9['width'])-_0x1e424d*(0x1*0x1082+0x4f*-0x35+-0x25),_0x2a0736=(((_0x398d1f=_0x4c0c82['rect'])==null?void(0x13ea+-0x164*-0xb+0x2336*-0x1):_0x398d1f['w'])??_0x4a23a9['height'])-_0x1e424d*(0x13b2+-0x232c+0xf7c*0x1);if(_0x4c9ffd<-0x6fa+-0x18e6+0x1fe1||_0x2a0736<0x219d+0x18a6+-0x2*0x1d21)return!(-0xfe5+-0x3cb*-0x1+-0x409*-0x3);const _0x4ea7e5={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x5fef7e=_0x4c0c82['hasOwnProp'+'erty']('specularPo'+'wer')?_0x4c0c82['specularPo'+'wer']:0x49*0x7d+-0x1944+0x2*-0x530,_0x4f8c83=_0x4c0c82['hasOwnProp'+'erty']('face')?_0x4c0c82['face']:null,_0x3d386d=_0x4c0c82['hasOwnProp'+'erty']('distributi'+'on')?_0x4c0c82['distributi'+'on']:_0x5fef7e===0x2457+-0x1298+-0x11be*0x1?'none':'phong',_0x4ee6ac=_0x4ea7e5[_0x3d386d]||'reproject',_0x3c7e9b=_0x4ee6ac['startsWith']('prefilterS'+'amples'),_0x207794=Es['decodeFunc'](_0x1f94d6['encoding']),_0x469fc6=Es['encodeFunc'](_0x4a23a9['encoding']),_0x4cb7e5='sample'+l_(_0x1f94d6['projection']),_0x113043='getDirecti'+'on'+l_(_0x4a23a9['projection']),_0x42e9c6=_0x4c0c82['hasOwnProp'+'erty']('numSamples')?_0x4c0c82['numSamples']:-0x26dd+0x22c5+-0x128*-0x7,_0x43ba55=_0x4ee6ac+'_'+_0x207794+'_'+_0x469fc6+'_'+_0x4cb7e5+'_'+_0x113043+'_'+_0x42e9c6,_0x55fa2b=_0x1f94d6['device'];let _0x53cb21=ka(_0x55fa2b)['getCachedS'+'hader'](_0x43ba55);if(!_0x53cb21){const _0x54f19c='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x4ee6ac+'\x0a'+(_0x3c7e9b?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x1f94d6['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x207794+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x469fc6+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x4cb7e5+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x113043+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x42e9c6+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x42e9c6))['toFixed'](-0x2dd*-0xd+0x659+-0x2b91)+'\x0a';_0x53cb21=Is(_0x55fa2b,OC,_0x54f19c+'\x0a'+X['reprojectP'+'S'],_0x43ba55);}G['pushGpuMar'+'ker'](_0x55fa2b,'ReprojectT'+'exture'),_0x55fa2b['setBlendSt'+'ate'](_t['NOBLEND']);const _0x4153bb=_0x55fa2b['scope']['resolve'](_0x1f94d6['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x4153bb),_0x4153bb['setValue'](_0x1f94d6);const _0x37f4db=_0x55fa2b['scope']['resolve']('params'),_0x1fd266=_0x55fa2b['scope']['resolve']('uvMod');_0x1e424d>-0xb5*-0x17+-0x2441+0x3*0x6aa?_0x1fd266['setValue']([(_0x4c9ffd+_0x1e424d*(-0x313+0xf1+0x224))/_0x4c9ffd,(_0x2a0736+_0x1e424d*(0x151b+0x7+-0x1520))/_0x2a0736,-_0x1e424d/_0x4c9ffd,-_0x1e424d/_0x2a0736]):_0x1fd266['setValue']([0x1c22+0x169*0x7+-0x2600*0x1,-0x2334+-0x1343*-0x2+-0x351*0x1,-0x11a7*0x2+0x2*0xa1d+-0xa*-0x182,0x1b05*0x1+-0x1258+-0x8ad]);const _0x3064e9=[-0x47*-0x43+-0x1d1*0x5+-0x10*0x98,_0x4a23a9['width']*_0x4a23a9['height']*(_0x4a23a9['cubemap']?-0xbf3*0x3+-0x12a0*-0x2+-0x161:0x17df+0xb29+0x93*-0x3d),_0x1f94d6['width']*_0x1f94d6['height']*(_0x1f94d6['cubemap']?-0x1*-0x1ede+-0x1*0x208+0x10*-0x1cd:-0x18aa+0x1f2d*0x1+-0x682)];if(_0x3c7e9b){const _0x2df0e7=_0x1f94d6['width']*_0x1f94d6['height']*(_0x1f94d6['cubemap']?0x1c*-0x10a+0x23f6+-0x6d8:0x1a43+0x2*-0xc+-0x1a2a),_0x2fae9e=_0x3d386d==='ggx'?FC(_0x55fa2b,_0x42e9c6,_0x5fef7e,_0x2df0e7):_0x3d386d==='lambert'?DC(_0x55fa2b,_0x42e9c6,_0x2df0e7):LC(_0x55fa2b,_0x42e9c6,_0x5fef7e);_0x55fa2b['scope']['resolve']('samplesTex')['setValue'](_0x2fae9e),_0x55fa2b['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x14dc+0x6c2+-0x1b9d)/_0x2fae9e['width'],(-0x65*0x1c+0x1f89+-0x147c)/_0x2fae9e['height']]);}for(let _0x4e0bef=0x22ae+-0x12e2+-0xfcc;_0x4e0bef<(_0x4a23a9['cubemap']?0xa9*0x1+-0x1f3e+-0x61f*-0x5:0x2*0x9fa+0xa4e+-0x1e41);_0x4e0bef++)if(_0x4f8c83===null||_0x4e0bef===_0x4f8c83){const _0x4af5b5=new pt({'colorBuffer':_0x4a23a9,'face':_0x4e0bef,'depth':!(0x7c2+0x22ad+0x2*-0x1537),'flipY':_0x55fa2b['isWebGPU']});_0x3064e9[0x1f67+-0x101f*-0x1+-0x452*0xb]=_0x4e0bef,_0x37f4db['setValue'](_0x3064e9),dn(_0x55fa2b,_0x4af5b5,_0x53cb21,_0x4c0c82==null?void(-0xa5b*-0x1+0x11b5+-0x1c10):_0x4c0c82['rect']),_0x4af5b5['destroy']();}return G['popGpuMark'+'er'](_0x55fa2b),!(-0xddf+0xb*0x16+0xced);}const wd=(_0x4f0e66,_0x1c888a=0x699+0x2*-0x41+-0x617)=>0x19fc+-0x1*0x9d6+-0x1*0x1025+Math['floor'](Math['log2'](Math['max'](_0x4f0e66,_0x1c888a))),kC=_0x1a84b2=>_0x1a84b2['textureHal'+'fFloatRend'+'erable'],BC=_0x38d635=>_0x38d635['textureFlo'+'atRenderab'+'le'],NC=_0x55ecb4=>kC(_0x55ecb4)?Je:BC(_0x55ecb4)?Ke:Se,zC=_0x293cc1=>Se,UC=(_0xa5ad80,_0x1022d4,_0x1a2514,_0x3e165e)=>new he(_0xa5ad80,{'name':'lighting-'+_0x1022d4,'cubemap':!(0x2571+-0x1765+-0x2*0x706),'width':_0x1022d4,'height':_0x1022d4,'format':_0x1a2514,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(0x209c+-0x122*-0xa+-0x2bef)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x462e3d,_0x535b4b){const _0x4d8fd4=_0x462e3d['device'];G['pushGpuMar'+'ker'](_0x4d8fd4,'genSkyboxC'+'ubemap');const _0xddaaba=UC(_0x4d8fd4,_0x535b4b||(_0x462e3d['cubemap']?_0x462e3d['width']:_0x462e3d['width']/(0x55*-0x5f+-0x43c+0x31*0xbb)),Se);return Qs(_0x462e3d,_0xddaaba,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x4d8fd4),_0xddaaba;}static['generateLi'+'ghtingSour'+'ce'](_0x256fdd,_0xcb57fa){const _0x1c0139=_0x256fdd['device'];G['pushGpuMar'+'ker'](_0x1c0139,'genLightin'+'gSource');const _0x270791=NC(_0x1c0139),_0x53e1fd=(_0xcb57fa==null?void(0x2a5*-0xe+0x1*0x159b+0xf6b*0x1):_0xcb57fa['target'])||new he(_0x1c0139,{'name':'lighting-s'+'ource','cubemap':!(0x1*-0xe6b+0x7*-0x58f+-0x1*-0x3554),'width':(_0xcb57fa==null?void(-0x116e*-0x1+-0x1*-0x1a52+-0xaf0*0x4):_0xcb57fa['size'])||0x120a+0x2*-0x3d+-0x2*0x888,'height':(_0xcb57fa==null?void(0x122d+0x25ac+-0x37d9):_0xcb57fa['size'])||-0x4*0x380+0x749*0x1+0x1*0x737,'format':_0x270791,'type':_0x270791===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(0x228a+-0x101f+0x29*-0x73)});return Qs(_0x256fdd,_0x53e1fd,{'numSamples':_0x256fdd['mipmaps']?-0x2591+0x1*-0x1066+0x35f8:0x1*-0x2570+0x1ae9*0x1+0xe87*0x1}),G['popGpuMark'+'er'](_0x1c0139),_0x53e1fd;}static['generateAt'+'las'](_0x86d556,_0x4e87ad){const _0x494443=_0x86d556['device'],_0x4dcd26=zC();G['pushGpuMar'+'ker'](_0x494443,'genAtlas');const _0x28ba84=(_0x4e87ad==null?void(0x24ad+-0x41a+-0x2093):_0x4e87ad['target'])||new he(_0x494443,{'name':'envAtlas','width':(_0x4e87ad==null?void(-0x6c5+0x2254+-0x1b8f):_0x4e87ad['size'])||0x2543+-0xa98+-0x18ab,'height':(_0x4e87ad==null?void(-0x1b62+0x12bb+0x8a7):_0x4e87ad['size'])||0x6e2+0x29*0x8+-0x107*0x6,'format':_0x4dcd26,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x1f1*0x5+0x3e7+0x1b*-0x81)});G['pushGpuMar'+'ker'](_0x494443,'mipmaps');const _0x2119c9=_0x28ba84['width']/(-0xefa+0xf3f+0x1*0x1bb),_0x2009b0=new Q(0x8eb+-0x106*0x17+0xe9f,0x1*-0xbd7+-0x1*0x241+-0x70c*-0x2,(-0x2dc+-0x202*-0x8+-0xb34)*_0x2119c9,(0x1fab+-0x1ce4+-0x1c7)*_0x2119c9),_0x18c0b8=wd(0x242d+-0xf74*-0x1+-0x32a1)-wd(0x2109+0x1*0x107e+-0x145*0x27);for(let _0x2dfad6=-0x3*-0x998+-0x621+0x1*-0x16a7;_0x2dfad6<_0x18c0b8;++_0x2dfad6)Qs(_0x86d556,_0x28ba84,{'numSamples':0x1,'rect':_0x2009b0,'seamPixels':_0x2119c9}),_0x2009b0['x']+=_0x2009b0['w'],_0x2009b0['y']+=_0x2009b0['w'],_0x2009b0['z']=Math['max'](0x1f*-0x11d+-0x1579+0x37fd,Math['floor'](_0x2009b0['z']*(0x1315+0x1*-0x2011+0xcfc*0x1+0.5))),_0x2009b0['w']=Math['max'](0x9*-0x69+-0x2*0x1fd+-0x7ac*-0x1,Math['floor'](_0x2009b0['w']*(-0x439*-0x1+0xbb*-0x5+0x2*-0x49+0.5)));G['popGpuMark'+'er'](_0x494443),G['pushGpuMar'+'ker'](_0x494443,'reflection'+'s'),_0x2009b0['set'](-0x1*-0xe3b+0xe46+-0x1c81,(-0xb9*0xb+0x1*0x180b+0x2e*-0x54)*_0x2119c9,(-0x1*-0xbdf+-0x1bb9*0x1+-0x2cf*-0x6)*_0x2119c9,(0x1a3f*-0x1+0x84a*-0x4+0x3be7*0x1)*_0x2119c9);for(let _0x2f076a=0x1822+0x48b*-0x5+-0x16a;_0x2f076a<-0x15a*0x4+0x3*0x878+-0x13f9*0x1;++_0x2f076a)Qs(_0x86d556,_0x28ba84,{'numSamples':(_0x4e87ad==null?void(0x913*-0x3+0x25e7+-0xaae):_0x4e87ad['numReflect'+'ionSamples'])||-0x1f30+-0x131e*-0x1+0x1012,'distribution':(_0x4e87ad==null?void(0x91d*0x2+-0x1c0+-0x107a):_0x4e87ad['distributi'+'on'])||'ggx','specularPower':Math['max'](0x128d+-0x1*0x1ba+0x2*-0x869,0xfb7+-0x473*-0x1+-0xc2a>>_0x2f076a*(-0x1e5a+0x2133*0x1+-0x2d7)),'rect':_0x2009b0,'seamPixels':_0x2119c9}),_0x2009b0['y']+=_0x2009b0['w'],_0x2009b0['z']=Math['max'](0x2d3+0x21*0xa6+-0xf8*0x19,Math['floor'](_0x2009b0['z']*(0x290*0x2+-0x1700+0x11e0+0.5))),_0x2009b0['w']=Math['max'](-0x236a+0x21fb+0x17*0x10,Math['floor'](_0x2009b0['w']*(0x2401+0x2052+0x1*-0x4453+0.5)));return G['popGpuMark'+'er'](_0x494443),G['pushGpuMar'+'ker'](_0x494443,'ambient'),_0x2009b0['set']((0x12b1+-0x11c5+0x6c*-0x1)*_0x2119c9,(-0x89c+-0x2*0x9e0+0x1ddc)*_0x2119c9,(0xaca*-0x3+0x1*0xc7+0x1fd7)*_0x2119c9,(-0x1be*-0x11+-0xdc5+-0x17*0xaf)*_0x2119c9),Qs(_0x86d556,_0x28ba84,{'numSamples':(_0x4e87ad==null?void(0x1ab9+-0x10*-0x27+-0x1d29*0x1):_0x4e87ad['numAmbient'+'Samples'])||0x15e*0x1c+0xfc0+-0x8*0x5c1,'distribution':'lambert','rect':_0x2009b0,'seamPixels':_0x2119c9}),G['popGpuMark'+'er'](_0x494443),G['popGpuMark'+'er'](_0x494443),_0x28ba84;}static['generatePr'+'efilteredA'+'tlas'](_0x395b95,_0xc2a86a){const _0x503d05=_0x395b95[-0xb03+0x196c+0x11*-0xd9]['device'],_0x5326ff=_0x395b95[0x5c8*-0x5+-0xd7f+0x2a67]['format'],_0x84e71a=_0x395b95[-0x30*0xe+-0x161+0x401]['type'];G['pushGpuMar'+'ker'](_0x503d05,'genPrefilt'+'eredAtlas');const _0x1fd4b1=(_0xc2a86a==null?void(0xaa+-0x1*-0x15e4+-0x168e):_0xc2a86a['target'])||new he(_0x503d05,{'name':'envPrefilt'+'eredAtlas','width':(_0xc2a86a==null?void(0x29d+0x73*-0x3e+0x193d):_0xc2a86a['size'])||-0x16*-0x52+-0x76d*-0x3+-0x5*0x577,'height':(_0xc2a86a==null?void(-0x74e+-0x1*0x1791+-0x1edf*-0x1):_0xc2a86a['size'])||0x1d*0x8b+-0x1ce4*0x1+0xf25,'format':_0x5326ff,'type':_0x84e71a,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0x1*0x1413+-0x1*0x18a9+0x1*0x2cbd)});G['pushGpuMar'+'ker'](_0x503d05,'mipmaps');const _0x3fe183=_0x1fd4b1['width']/(0xdb3+-0x802+-0x3b1),_0x4814d7=new Q(-0xfb0+-0x8ba+-0x1*-0x186a,-0x187e+-0x25b2+0x28*0x18e,(0x118*0x9+0x16*0x1+-0xcb*0xa)*_0x3fe183,(0x159d+0x4*0x112+0x1*-0x18e5)*_0x3fe183),_0x5c9f21=wd(-0x1175+0xf*0xcd+0x772);for(let _0x4f07a3=0x1bb4+0x1d75+-0x1*0x3929;_0x4f07a3<_0x5c9f21;++_0x4f07a3)Qs(_0x395b95[-0x88b+0x6a7+0x1*0x1e4],_0x1fd4b1,{'numSamples':0x1,'rect':_0x4814d7,'seamPixels':_0x3fe183}),_0x4814d7['x']+=_0x4814d7['w'],_0x4814d7['y']+=_0x4814d7['w'],_0x4814d7['z']=Math['max'](-0x85*-0x43+0xf98+-0x3266,Math['floor'](_0x4814d7['z']*(0x7*-0x3ee+-0x5d2+0x2154+0.5))),_0x4814d7['w']=Math['max'](-0x3*-0x99d+0x93*-0x3d+-0x5*-0x13d,Math['floor'](_0x4814d7['w']*(0x189d+0x9*-0x1c6+-0x1bb*0x5+0.5)));G['popGpuMark'+'er'](_0x503d05),G['pushGpuMar'+'ker'](_0x503d05,'reflection'+'s'),_0x4814d7['set'](-0x5*0xf1+-0xed2+0x1387,(-0x19e2+0xc3a*-0x1+-0x138e*-0x2)*_0x3fe183,(0xc5b+0x5e5+-0x1140)*_0x3fe183,(-0x2228+0x61*0x1f+0x16e9)*_0x3fe183);for(let _0x33f74e=0x60d+-0xcb7+-0x6ab*-0x1;_0x33f74e<_0x395b95['length'];++_0x33f74e)Qs(_0x395b95[_0x33f74e],_0x1fd4b1,{'numSamples':0x1,'rect':_0x4814d7,'seamPixels':_0x3fe183}),_0x4814d7['y']+=_0x4814d7['w'],_0x4814d7['z']=Math['max'](0x1*-0x407+0x1*-0x3bc+0x7c4,Math['floor'](_0x4814d7['z']*(-0x1*0x664+-0x1*0x1863+0x1ec7+0.5))),_0x4814d7['w']=Math['max'](-0x1f67+0x1d5*-0xe+0x390e,Math['floor'](_0x4814d7['w']*(-0x1536+-0x2303+0x3839+0.5)));return G['popGpuMark'+'er'](_0x503d05),G['pushGpuMar'+'ker'](_0x503d05,'ambient'),_0x4814d7['set']((-0x1*0x11ce+0x269*-0x8+0x2596)*_0x3fe183,(0x1f5+-0x23be+-0x3*-0xbc3)*_0x3fe183,(-0x84+-0x257*0xc+0x1cd8)*_0x3fe183,(-0x390+0xd03+-0x4d*0x1f)*_0x3fe183),_0xc2a86a!=null&&_0xc2a86a['legacyAmbi'+'ent']?Qs(_0x395b95[0x5c+-0xb18+0xac1],_0x1fd4b1,{'numSamples':0x1,'rect':_0x4814d7,'seamPixels':_0x3fe183}):Qs(_0x395b95[0x1dbe+0x198b+-0x3749],_0x1fd4b1,{'numSamples':(_0xc2a86a==null?void(0x2627+0x5*-0x5fe+-0x831):_0xc2a86a['numSamples'])||-0x148c+-0x1595+0x3221,'distribution':'lambert','rect':_0x4814d7,'seamPixels':_0x3fe183}),G['popGpuMark'+'er'](_0x503d05),G['popGpuMark'+'er'](_0x503d05),_0x1fd4b1;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x41c7d6,_0x5b4252)=>{const _0x25c937=_0x41c7d6['split']('.')['map'](_0x349472=>parseInt(_0x349472,0x244b+0xf50+-0x3391)),_0x4b71f5=_0x5b4252['split']('.')['map'](_0x4b6eaa=>parseInt(_0x4b6eaa,0xd*-0x19e+0x2*0x4f+0x1472));return _0x25c937[0x24f9+0x1e92+-0x438b]<_0x4b71f5[-0x1*-0x1d65+0x79*0x51+-0x43ae]||_0x25c937[0x1024+0x1*0x16ca+0x1377*-0x2]===_0x4b71f5[-0x1b5d+-0x55*0x1d+-0xa*-0x3b3]&&_0x25c937[0x13d9+0xa0*0x1+-0x1478]<_0x4b71f5[0x961+-0x3*-0x259+-0x106b];},WC=_0x387d64=>{const _0x5bc7b3=_0x387d64['APIVersion'];for(const _0x6d47a7 in _0x387d64)if(_0x6d47a7!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x6d47a7)){const _0x1b3674=VC[_0x6d47a7];_0x1b3674&&(!_0x5bc7b3||HC(_0x5bc7b3,_0x1b3674))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x6d47a7+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x1b3674+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x5bc7b3||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x61fcc9=GC[_0x6d47a7];_0x61fcc9?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x6d47a7+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x61fcc9+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x6d47a7+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x4d5962){_0x4d5962['forEach'](_0x179677=>{_0x179677['endsWith']('\x0a')?this['code']+=_0x179677:this['code']+=_0x179677+'\x0a';});}['prepend'](..._0x1d39b1){_0x1d39b1['forEach'](_0x92bd8c=>{_0x92bd8c['endsWith']('\x0a')?this['code']=_0x92bd8c+this['code']:this['code']=_0x92bd8c+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class $C{constructor(_0x3f0608,_0x15812b){if(this['device']=_0x3f0608,this['options']=_0x15812b,this['attributes']={'vertex_position':He},_0x15812b['userAttrib'+'utes']){for(const [_0x15cfd6,_0x514db5]of Object['entries'](_0x15812b['userAttrib'+'utes']))this['attributes'][_0x514db5]=_0x15cfd6;}if(_0x15812b['chunks']){const _0x3678c9=_0x15812b['chunks'];WC(_0x3678c9),this['chunks']=Object['create'](X);for(const _0x5cbc9d in X)if(_0x3678c9['hasOwnProp'+'erty'](_0x5cbc9d)){const _0x362f42=_0x3678c9[_0x5cbc9d];for(const _0x63905 in Td)Td['hasOwnProp'+'erty'](_0x63905)&&_0x362f42['indexOf'](_0x63905)>=0x158d+0x14a*-0x1+0x2e5*-0x7&&(this['attributes'][_0x63905]=Td[_0x63905]);this['chunks'][_0x5cbc9d]=_0x362f42;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x15812b['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x15812b['lights']['length']>-0x1d*-0xf+-0x113e+0xf8b||_0x15812b['dirLightMa'+'pEnabled']||_0x15812b['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x15812b['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x15812b['useSpecula'+'r']||_0x15812b['ambientSH']||_0x15812b['useHeights']||_0x15812b['enableGGXS'+'pecular']||_0x15812b['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x15812b['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x15812b['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x15812b['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x15812b['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x3f1d5c,_0x171900,_0x3d7a9b){return _0x3f1d5c+=_0x171900['baseVS'],(_0x3d7a9b['nineSliced'+'Mode']===nt||_0x3d7a9b['nineSliced'+'Mode']===Qe)&&(_0x3f1d5c+=_0x171900['baseNineSl'+'icedVS']),_0x3f1d5c;}['_setMapTra'+'nsform'](_0x3a9ad8,_0x425741,_0x11f98b,_0x50dafc){const _0x543ad0=_0x11f98b+_0x50dafc*(-0x856+-0x150f+-0x3d*-0x7d);if(!_0x3a9ad8[0x7*0xab+0xe5f+-0x1309][_0x543ad0]){const _0x599e75='texture_'+_0x425741+('MapTransfo'+'rm');_0x3a9ad8[-0xd99*-0x1+0x326+-0x10bf]+='uniform\x20ve'+'c3\x20'+_0x599e75+'0;\x0a',_0x3a9ad8[0x2428+-0x54*0x74+-0x1e8*-0x1]+='uniform\x20ve'+'c3\x20'+_0x599e75+'1;\x0a',_0x3a9ad8[0x19+-0x1*-0xd91+-0xda9]+='varying\x20ve'+'c2\x20vUV'+_0x50dafc+'_'+_0x11f98b+';\x0a',_0x3a9ad8[0x42a*0x5+0x1fd0+-0x34a0*0x1]+='\x20\x20\x20vUV'+_0x50dafc+'_'+_0x11f98b+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x50dafc+',\x201),\x20'+_0x599e75+('0),\x20dot(ve'+'c3(uv')+_0x50dafc+',\x201),\x20'+_0x599e75+'1));\x0a',_0x3a9ad8[0x82*0x4+-0x327+0x5*0x3a][_0x543ad0]=!(0x5fc+0x2a2*-0x8+0x182*0xa);}return _0x3a9ad8;}['_fsGetBase'+'Code'](){const _0x3814af=this['options'],_0x2d9f89=this['chunks'];let _0x3343bb=this['chunks']['basePS'];return _0x3814af['nineSliced'+'Mode']===nt?_0x3343bb+=_0x2d9f89['baseNineSl'+'icedPS']:_0x3814af['nineSliced'+'Mode']===Qe&&(_0x3343bb+=_0x2d9f89['baseNineSl'+'icedTiledP'+'S']),_0x3343bb;}['_fsGetStar'+'tCode'](_0x3ccf3e,_0x1d866a,_0x1b5b60,_0x5a9e30){let _0x43478e=_0x1b5b60['startPS'];return _0x5a9e30['nineSliced'+'Mode']===nt?_0x43478e+=_0x1b5b60['startNineS'+'licedPS']:_0x5a9e30['nineSliced'+'Mode']===Qe&&(_0x43478e+=_0x1b5b60['startNineS'+'licedTiled'+'PS']),_0x43478e;}['_getLightS'+'ourceShape'+'String'](_0x1c5cb0){switch(_0x1c5cb0){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x407c5f,_0x1be8c0,_0x18eee8){const _0x33fa3d=this['device'],_0x5239da=this['options'],_0x1efbf8=this['chunks'];let _0x210ecf='',_0x4e85c6='',_0x531845='';_0x210ecf=this['_vsAddBase'+'Code'](_0x210ecf,_0x1efbf8,_0x5239da),_0x4e85c6+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x531845+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x4e85c6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x210ecf+=_0x1efbf8['transformV'+'S'],this['needsNorma'+'l']&&(_0x210ecf+=_0x1efbf8['normalCore'+'VS'],_0x210ecf+=_0x1efbf8['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x4e85c6+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x5239da['reflection'+'Source']==='sphereMap'&&_0x33fa3d['fragmentUn'+'iformsCoun'+'t']<=0x1*-0x17f3+-0x2d*0xde+0x3f09&&(_0x210ecf+=_0x1efbf8['viewNormal'+'VS'],_0x4e85c6+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x5239da['hasTangent'+'s']&&(_0x5239da['useHeights']||_0x5239da['useNormals']||_0x5239da['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x210ecf+=_0x1efbf8['tangentBin'+'ormalVS'],_0x4e85c6+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x4e85c6+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x5239da['enableGGXS'+'pecular']&&(_0x4e85c6+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x437f04=-0x2462*0x1+0x2016+0x44e;for(let _0x5552a7=-0x7*-0x9d+0x2285+-0x450*0x9;_0x5552a7<_0x437f04;_0x5552a7++)_0x407c5f[_0x5552a7]&&(this['attributes']['vertex_tex'+'Coord'+_0x5552a7]='TEXCOORD'+_0x5552a7,_0x210ecf+=_0x1efbf8['uv'+_0x5552a7+'VS'],_0x4e85c6+='\x20\x20\x20vec2\x20uv'+_0x5552a7+'\x20=\x20getUv'+_0x5552a7+'();\x0a'),_0x1be8c0[_0x5552a7]&&(_0x4e85c6+='\x20\x20\x20vUv'+_0x5552a7+'\x20=\x20uv'+_0x5552a7+';\x0a');const _0x4d4dd8=[_0x210ecf,this['varyings'],_0x4e85c6,[]];_0x18eee8['forEach'](_0x174716=>{this['_setMapTra'+'nsform'](_0x4d4dd8,_0x174716['name'],_0x174716['id'],_0x174716['uv']);}),_0x210ecf=_0x4d4dd8[0x14bf+-0xacc+-0x9*0x11b],this['varyings']=_0x4d4dd8[-0x104c+0x535+0xb18],_0x4e85c6=_0x4d4dd8[-0x1217*0x1+-0x1e19+0x3032],_0x5239da['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x4e85c6+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x5239da['useMsdf']&&_0x5239da['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x4e85c6+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x210ecf+=_0x1efbf8['msdfVS']),(_0x5239da['useMorphPo'+'sition']||_0x5239da['useMorphNo'+'rmal'])&&(_0x531845+='#define\x20MO'+'RPHING\x0a',_0x5239da['useMorphTe'+'xtureBased'+'Int']&&(_0x531845+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x5239da['useMorphPo'+'sition']&&(_0x531845+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x5239da['useMorphNo'+'rmal']&&(_0x531845+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x5239da['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x5239da['batch']?_0x531845+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x531845+='#define\x20SK'+'IN\x0a')):_0x5239da['useInstanc'+'ing']&&(_0x531845+='#define\x20IN'+'STANCING\x0a'),_0x5239da['screenSpac'+'e']&&(_0x531845+='#define\x20SC'+'REENSPACE\x0a'),_0x5239da['pixelSnap']&&(_0x531845+='#define\x20PI'+'XELSNAP\x0a'),_0x210ecf+='\x0a',_0x210ecf+=_0x1efbf8['startVS'],_0x210ecf+=_0x4e85c6,_0x210ecf+=_0x1efbf8['endVS'],_0x210ecf+='}',Object['keys'](h_)['forEach'](_0x1d6546=>{_0x210ecf['indexOf'](_0x1d6546)>=0x167f+0x1*-0x89a+-0xde5&&(this['varyings']+='varying\x20'+h_[_0x1d6546]+'\x20'+_0x1d6546+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x1d6546['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x531845+this['varyings']+_0x210ecf;}['_fsGetBegi'+'nCode'](){let _0x29bbb9='';for(let _0x17704c=0x13dd+-0x187*-0x17+-0x36fe;_0x17704c<this['defines']['length'];_0x17704c++)_0x29bbb9+='#define\x20'+this['defines'][_0x17704c]+'\x0a';return _0x29bbb9;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x558af7=this['_fsGetBegi'+'nCode']();return _0x558af7+=this['varyings'],_0x558af7+=this['varyingDef'+'ines'],_0x558af7+=this['frontendDe'+'cl'],_0x558af7+=this['frontendCo'+'de'],_0x558af7+=It['begin'](),_0x558af7+=this['frontendFu'+'nc'],_0x558af7+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x558af7+=It['end'](),_0x558af7;}['_fsGetPreP'+'assCode'](){let _0x58de0a=this['_fsGetBegi'+'nCode']();return _0x58de0a+=this['varyings'],_0x58de0a+=this['varyingDef'+'ines'],_0x58de0a+=this['chunks']['floatAsUin'+'tPS'],_0x58de0a+=this['frontendDe'+'cl'],_0x58de0a+=this['frontendCo'+'de'],_0x58de0a+=It['begin'](),_0x58de0a+=this['frontendFu'+'nc'],_0x58de0a+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x58de0a+=It['end'](),_0x58de0a;}['_fsGetShad'+'owPassCode'](){const _0x27c42a=this['options'],_0x5be40e=this['chunks'],_0x1408f5=this['varyings'],_0x12d5c6=this['shaderPass'+'Info']['lightType'];let _0x334101=this['shaderPass'+'Info']['shadowType'];_0x12d5c6!==oe&&_0x27c42a['clusteredL'+'ightingEna'+'bled']&&(_0x334101===Hr||_0x334101===Wr||_0x334101===Ts)&&(_0x334101=Dt);const _0x3661cc=ir['get'](_0x334101);v['assert'](_0x3661cc);const _0xaf9dce=(_0x3661cc==null?void(-0x11b4+0x142+0x1072):_0x3661cc['vsm'])??!(0x16f9+0xc*-0x2d6+-0x30*-0x3b),_0x3411d1=(_0x3661cc==null?void(-0xb*0x1d2+-0x197b+0xb*0x423):_0x3661cc['pcss'])??!(0x12ab+0x209b*-0x1+0xdf1);let _0x31dc03=this['_fsGetBegi'+'nCode']();_0x334101===Wr?_0x31dc03+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x334101===Hr&&(_0x31dc03+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x12d5c6!==oe&&(_0x31dc03+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x31dc03+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x31dc03+=_0x1408f5,_0x31dc03+=this['varyingDef'+'ines'],_0x31dc03+=this['frontendDe'+'cl'],_0x31dc03+=this['frontendCo'+'de'],_0x334101===Ts&&(_0x31dc03+=X['linearizeD'+'epthPS']),_0x31dc03+=It['begin'](),_0x31dc03+=this['frontendFu'+'nc'];const _0x377db9=_0x12d5c6===oe||!_0xaf9dce&&_0x12d5c6===Re;let _0x1f1a93=!(0x1d94+0x530*0x3+-0x2d23);return _0x377db9?(_0x31dc03+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x3411d1&&_0x12d5c6!==oe&&(_0x31dc03+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x31dc03+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x1f1a93=!(0x2*0x6a1+0x23cd+0x13*-0x295)),_0xaf9dce?_0x31dc03+=_0x5be40e['storeEVSMP'+'S']:_0x3411d1?_0x31dc03+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x1f1a93&&(_0x31dc03+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x31dc03+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x31dc03+=It['end'](),_0x31dc03;}['_fsGetLitP'+'assCode'](){var _0x594916;const _0x4ceda9=this['device'],_0x513d1c=this['options'],_0xc02303=this['chunks'],_0x1bd7e9=new sr(),_0x5123b5=new sr(),_0x384ffa=new sr(),_0x1bc1ad=new sr();_0x513d1c['opacityFad'+'esSpecular']===!(-0x819*0x1+0xe6c+0x2*-0x329)&&_0x1bd7e9['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x513d1c['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x513d1c['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x513d1c['fresnelMod'+'el']>-0x1*-0x531+0x1*0x25c7+-0x55f*0x8&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x513d1c['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x513d1c['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x17cc3e=[];let _0x476bf2=-0x27a*-0xd+0xacd+-0x2aff*0x1,_0x21fbf9=!(0x17f*-0xe+-0x110d+0x2600),_0x440803=!(-0x12f2+-0x21f9+0x34ec),_0x2c77b0=!(-0x390+-0xac+-0x23*-0x1f),_0x4a8985=_0x513d1c['lights']['some'](_0x12267b=>_0x12267b['_shape']&&_0x12267b['_shape']!==yt);_0x513d1c['clusteredL'+'ightingEna'+'bled']&&_0x513d1c['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x4a8985=!(0xd4*-0x21+-0x11b*-0x4+0xb74*0x2)),(_0x4a8985||_0x513d1c['clusteredL'+'ightingEna'+'bled'])&&(_0x1bd7e9['append']('#define\x20AR'+'EA_LIGHTS'),_0x1bd7e9['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x1bd7e9['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x3eda86=-0x972+0x155a+0x17d*-0x8;_0x3eda86<_0x513d1c['lights']['length'];_0x3eda86++){const _0x375a8c=_0x513d1c['lights'][_0x3eda86],_0x5b9060=_0x375a8c['_type'];if(_0x513d1c['clusteredL'+'ightingEna'+'bled']&&_0x5b9060!==oe)continue;const _0x1ace5a=_0x4a8985&&_0x375a8c['_shape']?_0x375a8c['_shape']:yt;_0x1bd7e9['append']('uniform\x20ve'+'c3\x20light'+_0x3eda86+'_color;'),_0x375a8c['_shadowTyp'+'e']===Ts&&_0x375a8c['castShadow'+'s']&&!_0x513d1c['noShadow']&&(_0x1bd7e9['append']('uniform\x20fl'+'oat\x20light'+_0x3eda86+('_shadowSea'+'rchArea;')),_0x1bd7e9['append']('uniform\x20ve'+'c4\x20light'+_0x3eda86+('_cameraPar'+'ams;')),_0x5b9060===oe&&_0x1bd7e9['append']('uniform\x20ve'+'c4\x20light'+_0x3eda86+('_softShado'+'wParams;'))),_0x5b9060===oe?_0x1bd7e9['append']('uniform\x20ve'+'c3\x20light'+_0x3eda86+('_direction'+';')):(_0x1bd7e9['append']('uniform\x20ve'+'c3\x20light'+_0x3eda86+'_position;'),_0x1bd7e9['append']('uniform\x20fl'+'oat\x20light'+_0x3eda86+'_radius;'),_0x5b9060===Re&&(_0x1bd7e9['append']('uniform\x20ve'+'c3\x20light'+_0x3eda86+('_direction'+';')),_0x1bd7e9['append']('uniform\x20fl'+'oat\x20light'+_0x3eda86+('_innerCone'+'Angle;')),_0x1bd7e9['append']('uniform\x20fl'+'oat\x20light'+_0x3eda86+('_outerCone'+'Angle;')))),_0x1ace5a!==yt&&(_0x5b9060===oe&&_0x1bd7e9['append']('uniform\x20ve'+'c3\x20light'+_0x3eda86+'_position;'),_0x1bd7e9['append']('uniform\x20ve'+'c3\x20light'+_0x3eda86+('_halfWidth'+';')),_0x1bd7e9['append']('uniform\x20ve'+'c3\x20light'+_0x3eda86+('_halfHeigh'+'t;'))),_0x375a8c['castShadow'+'s']&&!_0x513d1c['noShadow']&&(_0x1bd7e9['append']('uniform\x20ma'+'t4\x20light'+_0x3eda86+('_shadowMat'+'rix;')),_0x1bd7e9['append']('uniform\x20fl'+'oat\x20light'+_0x3eda86+('_shadowInt'+'ensity;')),_0x5b9060===oe&&(_0x1bd7e9['append']('uniform\x20ma'+'t4\x20light'+_0x3eda86+('_shadowMat'+'rixPalette'+'[4];')),_0x1bd7e9['append']('uniform\x20ve'+'c4\x20light'+_0x3eda86+('_shadowCas'+'cadeDistan'+'ces;')),_0x1bd7e9['append']('uniform\x20in'+'t\x20light'+_0x3eda86+('_shadowCas'+'cadeCount;')),_0x1bd7e9['append']('uniform\x20fl'+'oat\x20light'+_0x3eda86+('_shadowCas'+'cadeBlend;'))),_0x1bd7e9['append']('uniform\x20ve'+'c4\x20light'+_0x3eda86+('_shadowPar'+'ams;')),_0x5b9060===oe&&(_0x21fbf9=!(0x9ac*0x1+-0x443*-0x7+-0x2781)),_0x5b9060===Pe?_0x1bd7e9['append']('uniform\x20'+(_0x375a8c['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x3eda86+('_shadowMap'+';')):_0x1bd7e9['append']('uniform\x20'+(_0x375a8c['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x3eda86+('_shadowMap'+';')),_0x476bf2++,_0x17cc3e[_0x375a8c['_shadowTyp'+'e']]=!(-0x1439+-0x11b*0x7+0xdfb*0x2),_0x375a8c['_isVsm']&&(_0x440803=!(-0x25d*0x8+-0x2490+0x3778)),_0x375a8c['_shadowTyp'+'e']===Ts&&(_0x2c77b0=!(-0x11db+0x1357*0x1+-0x17c))),_0x375a8c['_cookie']&&(_0x375a8c['_cookie']['_cubemap']?_0x5b9060===Pe&&(_0x1bd7e9['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x3eda86+'_cookie;'),_0x1bd7e9['append']('uniform\x20fl'+'oat\x20light'+_0x3eda86+('_cookieInt'+'ensity;')),(!_0x375a8c['castShadow'+'s']||_0x513d1c['noShadow'])&&_0x1bd7e9['append']('uniform\x20ma'+'t4\x20light'+_0x3eda86+('_shadowMat'+'rix;'))):_0x5b9060===Re&&(_0x1bd7e9['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x3eda86+'_cookie;'),_0x1bd7e9['append']('uniform\x20fl'+'oat\x20light'+_0x3eda86+('_cookieInt'+'ensity;')),(!_0x375a8c['castShadow'+'s']||_0x513d1c['noShadow'])&&_0x1bd7e9['append']('uniform\x20ma'+'t4\x20light'+_0x3eda86+('_shadowMat'+'rix;')),_0x375a8c['_cookieTra'+'nsform']&&(_0x1bd7e9['append']('uniform\x20ve'+'c4\x20light'+_0x3eda86+('_cookieMat'+'rix;')),_0x1bd7e9['append']('uniform\x20ve'+'c2\x20light'+_0x3eda86+('_cookieOff'+'set;')))));}const _0x5ad2e9=this['needsNorma'+'l']&&(_0x513d1c['useNormals']||_0x513d1c['useClearCo'+'atNormals']||_0x513d1c['enableGGXS'+'pecular']&&!_0x513d1c['useHeights']);if(_0x5ad2e9&&(_0x513d1c['hasTangent'+'s']?_0x5123b5['append'](_0xc02303['TBNPS']):_0x513d1c['useNormals']||_0x513d1c['useClearCo'+'atNormals']?_0x5123b5['append'](_0xc02303['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x5123b5['append'](_0xc02303['TBNObjectS'+'pacePS']),_0x513d1c['twoSidedLi'+'ghting']&&_0x5123b5['append'](_0xc02303['twoSidedLi'+'ghtingPS'])),_0x5123b5['append'](_0xc02303['sphericalP'+'S']),_0x5123b5['append'](_0xc02303['decodePS']),_0x5123b5['append'](_0xc02303['gammaPS']),_0x5123b5['append'](_0xc02303['tonemappin'+'gPS']),_0x5123b5['append'](_0xc02303['fogPS']),_0x5123b5['append'](this['frontendCo'+'de']),_0x513d1c['useCubeMap'+'Rotation']&&_0x1bd7e9['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x5123b5['append'](_0xc02303['cubeMapRot'+'atePS']),_0x5123b5['append'](_0x513d1c['cubeMapPro'+'jection']>0x5b*0x34+0x1b76+0x2df2*-0x1?_0xc02303['cubeMapPro'+'jectBoxPS']:_0xc02303['cubeMapPro'+'jectNonePS']),_0x5123b5['append'](_0x513d1c['skyboxInte'+'nsity']?_0xc02303['envMultipl'+'yPS']:_0xc02303['envConstPS'])),(this['lighting']&&_0x513d1c['useSpecula'+'r']||this['reflection'+'s'])&&(_0x513d1c['useMetalne'+'ss']&&_0x5123b5['append'](_0xc02303['metalnessM'+'odulatePS']),_0x513d1c['fresnelMod'+'el']===Sp&&_0x5123b5['append'](_0xc02303['fresnelSch'+'lickPS']),_0x513d1c['useIridesc'+'ence']&&_0x5123b5['append'](_0xc02303['iridescenc'+'eDiffracti'+'onPS'])),_0x513d1c['useAo'])switch(_0x5123b5['append'](_0xc02303['aoDiffuseO'+'ccPS']),_0x513d1c['occludeSpe'+'cular']){case Bo:_0x5123b5['append'](_0x513d1c['occludeSpe'+'cularFloat']?_0xc02303['aoSpecOccS'+'implePS']:_0xc02303['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x5123b5['append'](_0x513d1c['occludeSpe'+'cularFloat']?_0xc02303['aoSpecOccP'+'S']:_0xc02303['aoSpecOccC'+'onstPS']);break;}_0x513d1c['reflection'+'Source']==='envAtlasHQ'?(_0x5123b5['append'](_0xc02303['envAtlasPS']),_0x5123b5['append'](_0xc02303['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x513d1c['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x513d1c['reflection'+'Encoding'])))):_0x513d1c['reflection'+'Source']==='envAtlas'?(_0x5123b5['append'](_0xc02303['envAtlasPS']),_0x5123b5['append'](_0xc02303['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x513d1c['reflection'+'Encoding'])))):_0x513d1c['reflection'+'Source']==='cubeMap'?_0x5123b5['append'](_0xc02303['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x513d1c['reflection'+'Encoding']))):_0x513d1c['reflection'+'Source']==='sphereMap'&&_0x5123b5['append'](_0xc02303['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x513d1c['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x513d1c['useClearCo'+'at']&&_0x5123b5['append'](_0xc02303['reflection'+'CCPS']),_0x513d1c['useSheen']&&_0x5123b5['append'](_0xc02303['reflection'+'SheenPS'])),_0x513d1c['useRefract'+'ion']&&(_0x513d1c['useDynamic'+'Refraction']?(_0x513d1c['dispersion']&&(_0x1bd7e9['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x1bd7e9['append']('#define\x20DI'+'SPERSION\x0a')),_0x5123b5['append'](_0xc02303['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x5123b5['append'](_0xc02303['refraction'+'CubePS'])),_0x513d1c['useSheen']&&_0x5123b5['append'](_0xc02303['lightSheen'+'PS']),_0x513d1c['clusteredL'+'ightingEna'+'bled']&&(_0x5123b5['append'](_0xc02303['clusteredL'+'ightUtilsP'+'S']),_0x513d1c['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x5123b5['append'](_0xc02303['clusteredL'+'ightCookie'+'sPS']),_0x513d1c['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x513d1c['noShadow']&&(_0x17cc3e[Dt]=!(-0x2b*-0x5e+-0x2156+0x118c),_0x17cc3e[lh]=!(0x2084*-0x1+-0x79*0x3f+0x3e4b*0x1),_0x17cc3e[Ts]=!(-0x1d9b+0x778+-0x1623*-0x1))),(_0x476bf2>-0xf0b+0xf80+-0x75||_0x513d1c['clusteredL'+'ightingEna'+'bled'])&&(_0x21fbf9&&_0x5123b5['append'](_0xc02303['shadowCasc'+'adesPS']),(_0x17cc3e[Bh]||_0x17cc3e[Dt]||_0x17cc3e[Nh]||_0x17cc3e[zh])&&_0x5123b5['append'](_0xc02303['shadowStan'+'dardPS']),(_0x17cc3e[lh]||_0x17cc3e[Iu])&&_0x5123b5['append'](_0xc02303['shadowStan'+'dardGL2PS']),_0x440803&&(_0x5123b5['append'](_0xc02303['shadowVSM_'+'commonPS']),_0x17cc3e[Hr]&&_0x5123b5['append'](_0xc02303['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x17cc3e[Wr]&&_0x5123b5['append'](_0x4ceda9['extTexture'+'FloatLinea'+'r']?_0xc02303['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0xc02303['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x2c77b0&&(_0x5123b5['append'](_0xc02303['linearizeD'+'epthPS']),_0x5123b5['append'](_0xc02303['shadowPCSS'+'PS']),_0x5123b5['append'](_0xc02303['shadowSoft'+'PS']))),_0x513d1c['enableGGXS'+'pecular']&&_0x5123b5['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x5123b5['append'](_0xc02303['lightDiffu'+'seLambertP'+'S']),(_0x4a8985||_0x513d1c['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x5123b5['append'](_0xc02303['ltcPS']));let _0x3e47b7=!(-0x4bf+-0x84+0x151*0x4);_0x513d1c['useSpecula'+'r']&&(this['lighting']&&_0x5123b5['append'](_0x513d1c['enableGGXS'+'pecular']?_0xc02303['lightSpecu'+'larAnisoGG'+'XPS']:_0xc02303['lightSpecu'+'larBlinnPS']),!_0x513d1c['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x513d1c['diffuseMap'+'Enabled']&&(_0x1bd7e9['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x1bd7e9['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x3e47b7=!(0x1*-0x833+-0x36*0x98+0x2843))),_0x5123b5['append'](_0xc02303['combinePS']),_0x513d1c['lightMapEn'+'abled']&&_0x5123b5['append'](_0x513d1c['useSpecula'+'r']&&_0x513d1c['dirLightMa'+'pEnabled']?_0xc02303['lightmapDi'+'rAddPS']:_0xc02303['lightmapAd'+'dPS']);const _0x71564d=!_0x513d1c['lightMapEn'+'abled']||_0x513d1c['lightMapWi'+'thoutAmbie'+'nt'];_0x71564d&&(_0x513d1c['ambientSou'+'rce']==='ambientSH'?_0x5123b5['append'](_0xc02303['ambientSHP'+'S']):_0x513d1c['ambientSou'+'rce']==='envAtlas'?(_0x513d1c['reflection'+'Source']!=='envAtlas'&&_0x513d1c['reflection'+'Source']!=='envAtlasHQ'&&_0x5123b5['append'](_0xc02303['envAtlasPS']),_0x5123b5['append'](_0xc02303['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x513d1c['ambientEnc'+'oding'])))):_0x5123b5['append'](_0xc02303['ambientCon'+'stantPS'])),_0x3e47b7||_0x1bd7e9['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x513d1c['useMsdf']&&(_0x513d1c['msdfTextAt'+'tribute']||_0x1bd7e9['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x5123b5['append'](_0xc02303['msdfPS'])),this['needsNorma'+'l']&&(_0x5123b5['append'](_0xc02303['viewDirPS']),_0x513d1c['useSpecula'+'r']&&_0x5123b5['append'](_0x513d1c['enableGGXS'+'pecular']?_0xc02303['reflDirAni'+'soPS']:_0xc02303['reflDirPS']));let _0x580afb=!(0x42*0x36+0x15*0xdf+-0x2036),_0x355385=!(0x26*0x5b+0x1*0xa99+-0x181a),_0x4d3166=!(-0x340*-0x7+0x2*-0x10d+-0x1*0x14a5),_0xbac6f4=!(0x319*-0x7+0xb39*-0x1+-0x695*-0x5),_0xce45a3=!(-0x271*-0x1+0x177a+-0x19ea*0x1),_0x294b41;if(_0x513d1c['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0xbac6f4=!(0x6b9+0x18d*-0x8+0x5af),_0x580afb=!(-0x22c0+-0x1664+0x3924),_0x355385=!(0xbe9+0x4*0x579+-0x21cd*0x1),_0xce45a3=!(0x1d35+-0x2239+0x504),_0x5123b5['append'](_0xc02303['floatUnpac'+'kingPS']),_0x513d1c['lightMaskD'+'ynamic']&&_0x1bd7e9['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x513d1c['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x1bd7e9['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x513d1c['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x513d1c['noShadow']){const _0xbe510=(_0x594916=ir['get'](_0x513d1c['clusteredL'+'ightingSha'+'dowType']))==null?void(0xfb3*-0x1+0x846*0x1+0x76d):_0x594916['name'];v['assert'](_0xbe510);const _0x181c5c=_0xbe510['substring'](0x33+0x1*-0x2128+0x20f5,0xc1*0x4+-0x158*0xc+0xd20);_0x1bd7e9['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x1bd7e9['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x181c5c);}_0x513d1c['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x1bd7e9['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x1bd7e9['append'](E0['getShaderD'+'efines']()),_0x513d1c['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x513d1c['noShadow']&&_0x5123b5['append'](_0xc02303['clusteredL'+'ightShadow'+'sPS']),_0x5123b5['append'](_0xc02303['clusteredL'+'ightPS']);}if(_0x1bc1ad['append'](this['_fsGetStar'+'tCode'](_0x1bc1ad,_0x4ceda9,_0xc02303,_0x513d1c)),this['needsNorma'+'l']&&(_0x1bc1ad['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x513d1c['useHeights']||_0x513d1c['useNormals'])&&_0x513d1c['hasTangent'+'s']&&(_0x1bc1ad['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x1bc1ad['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x1bc1ad['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x5ad2e9&&(_0x1bc1ad['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x513d1c['twoSidedLi'+'ghting']&&_0x1bc1ad['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x1bc1ad['append'](this['frontendFu'+'nc']),_0x513d1c['ssao']&&(_0x5123b5['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x384ffa['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x513d1c['useSpecula'+'r']&&_0x384ffa['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x513d1c['useClearCo'+'at']&&_0x384ffa['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x513d1c['useSpecula'+'r']||this['reflection'+'s'])&&(_0x513d1c['useMetalne'+'ss']&&(_0x384ffa['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x384ffa['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x384ffa['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x513d1c['useIridesc'+'ence']&&_0x384ffa['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x71564d&&(_0x384ffa['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x513d1c['useSpecula'+'r']&&_0x384ffa['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x513d1c['separateAm'+'bient']&&_0x384ffa['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x3e47b7||_0x384ffa['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x513d1c['useAo']&&!_0x513d1c['occludeDir'+'ect']&&_0x384ffa['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x513d1c['lightMapEn'+'abled']&&_0x384ffa['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x513d1c['useClearCo'+'at']&&(_0x384ffa['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x513d1c['fresnelMod'+'el']>-0x21ea+0x44b+0x1d9f*0x1?(_0x384ffa['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x384ffa['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x384ffa['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x513d1c['useSpecula'+'rityFactor']&&_0x384ffa['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x513d1c['useSheen']&&_0x384ffa['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x384ffa['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x513d1c['fresnelMod'+'el']>-0x104*-0x1d+-0x1a98+0xc*-0x3d?_0x384ffa['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x384ffa['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x513d1c['useSpecula'+'rityFactor']&&_0x384ffa['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x4a8985&&(_0x384ffa['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x513d1c['useSpecula'+'r']&&_0x384ffa['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x2e72bc=0x1849+0xe96*-0x1+-0xbf*0xd;_0x2e72bc<_0x513d1c['lights']['length'];_0x2e72bc++){const _0x5158bf=_0x513d1c['lights'][_0x2e72bc],_0x2add57=_0x5158bf['_type'];if(_0x513d1c['clusteredL'+'ightingEna'+'bled']&&_0x2add57!==oe)continue;_0x294b41=!(0x260b+0x194a+0xc*-0x547);const _0x5c4619=_0x4a8985&&_0x5158bf['_shape']?_0x5158bf['shape']:yt,_0x4a00b4=_0x4a8985&&_0x5158bf['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x5c4619):'';if(_0x5c4619!==yt&&_0x384ffa['append']('\x20\x20\x20\x20calc'+_0x4a00b4+('LightValue'+'s(light')+_0x2e72bc+('_position,'+'\x20light')+_0x2e72bc+('_halfWidth'+',\x20light')+_0x2e72bc+('_halfHeigh'+'t);')),_0x2add57===oe?(_0x384ffa['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x2e72bc+('_direction'+';')),_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x5158bf['_cookie']&&(_0x2add57===Re&&!_0x5158bf['_cookie']['_cubemap']||_0x2add57===Pe&&_0x5158bf['_cookie']['_cubemap'])&&(_0xce45a3=!(-0x1*-0xcba+-0xcc*0x13+0x26a),_0x294b41=!(-0x2297+-0x3f4+-0x45*-0x8f)),_0x384ffa['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x2e72bc+('_position)'+';')),_0x580afb=!(0xc89*-0x3+0xe1f+0x2*0xbbe),_0x294b41&&(_0x2add57===Re?_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x5158bf['_cookieFal'+'loff']?'':'Clip')+(_0x5158bf['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x2e72bc+('_cookie,\x20l'+'ight')+_0x2e72bc+('_shadowMat'+'rix,\x20light')+_0x2e72bc+('_cookieInt'+'ensity')+(_0x5158bf['_cookieTra'+'nsform']?',\x20light'+_0x2e72bc+('_cookieMat'+'rix,\x20light')+_0x2e72bc+('_cookieOff'+'set'):'')+').'+_0x5158bf['_cookieCha'+'nnel']+';'):_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x2e72bc+('_cookie,\x20l'+'ight')+_0x2e72bc+('_shadowMat'+'rix,\x20light')+_0x2e72bc+('_cookieInt'+'ensity).')+_0x5158bf['_cookieCha'+'nnel']+';')),_0x5c4619===yt?_0x5158bf['_falloffMo'+'de']===wp?(_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x2e72bc+('_radius,\x20d'+'LightDirW)'+';')),_0x355385=!(0xeb*-0x29+-0x1b52+-0x2d3*-0x17)):(_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x2e72bc+('_radius,\x20d'+'LightDirW)'+';')),_0x4d3166=!(-0x1bf*0x10+-0xe29+0x2a19)):(_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x2e72bc+('_radius,\x20d'+'LightDirW)'+';')),_0x4d3166=!(0x2bb*0x8+0x1773+-0x2d4b*0x1)),_0x384ffa['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x2add57===Re&&(_0x294b41&&!_0x5158bf['_cookieFal'+'loff']||(_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x2e72bc+('_direction'+',\x20light')+_0x2e72bc+('_innerCone'+'Angle,\x20lig'+'ht')+_0x2e72bc+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0xbac6f4=!(0x16*0x1+0x2348+-0x235e)))),_0x5c4619!==yt?_0x2add57===oe?_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x4a00b4+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x5158bf['castShadow'+'s']&&!_0x513d1c['noShadow']){const _0x20a087=ir['get'](_0x5158bf['_shadowTyp'+'e']);v['assert'](_0x20a087);const _0x15e56e=_0x5158bf['_shadowTyp'+'e']===Ts,_0x5c8b1c=_0x20a087==null?void(-0x3c6+-0xbf*0x15+0x7*0x2c7):_0x20a087['vsm'],_0x1b4747=_0x20a087==null?void(0x15*0x1b1+0x2597+-0x491c*0x1):_0x20a087['pcf'];let _0x56fca3=null,_0x37d253;switch(_0x5158bf['_shadowTyp'+'e']){case Hr:_0x56fca3='VSM16',_0x37d253='5.54';break;case Wr:_0x56fca3='VSM32',_0x37d253='15.0';break;case Bh:case Nh:_0x56fca3='PCF1x1';break;case lh:case Iu:_0x56fca3='PCF5x5';break;case Ts:_0x56fca3='PCSS';break;case Dt:case zh:default:_0x56fca3='PCF3x3';break;}if(_0x56fca3!==null){_0x5158bf['_normalOff'+'setBias']&&!_0x5158bf['_isVsm']&&_0x5123b5['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x2add57===oe&&_0x5123b5['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x1b4747||_0x15e56e||_0x4ceda9['isWebGPU'])&&_0x5123b5['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x2add57===Pe&&_0x5123b5['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x4b0b39=_0xc02303['shadowSamp'+'leCoordPS'];_0x5123b5['append'](_0x4b0b39['replace']('$LIGHT',_0x2e72bc)),_0x5123b5['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x5123b5['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x5123b5['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x5123b5['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x5dcb04='light'+_0x2e72bc+('_shadowMat'+'rix');_0x2add57===oe&&_0x5158bf['numCascade'+'s']>-0x11c9+-0x9c1+-0xb*-0x281&&(_0x384ffa['append']('int\x20cascad'+'eIndex'+_0x2e72bc+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x2e72bc+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x2e72bc+('_shadowCas'+'cadeCount)'+';')),_0x5158bf['cascadeBle'+'nd']>0x26e2+-0x39a+0x8*-0x469&&_0x384ffa['append']('cascadeInd'+'ex'+_0x2e72bc+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x2e72bc+',\x20light'+_0x2e72bc+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x2e72bc+('_shadowCas'+'cadeCount,'+'\x20light')+_0x2e72bc+('_shadowCas'+'cadeBlend)'+';')),_0x384ffa['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x2e72bc+'\x20=\x20light'+_0x2e72bc+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x2e72bc+'];'),_0x5dcb04='cascadeSha'+'dowMat'+_0x2e72bc),_0x384ffa['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x2e72bc+'('+_0x5dcb04+',\x20light'+_0x2e72bc+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x2add57===oe&&_0x384ffa['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x2e72bc+('_shadowCas'+'cadeDistan'+'ces);'));let _0x37e505='SHADOWMAP_'+'PASS(light'+_0x2e72bc+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x2e72bc+('_shadowPar'+'ams');if(_0x5c8b1c)_0x37e505=_0x37e505+',\x20'+_0x37d253+(',\x20dLightDi'+'rW');else{if(_0x15e56e){let _0xe85453=_0x2add57===oe?'light'+_0x2e72bc+('_softShado'+'wParams'):'vec2(light'+_0x2e72bc+('_shadowSea'+'rchArea)');_0x5c4619!==yt&&(_0xe85453='vec2(lengt'+'h(light'+_0x2e72bc+('_halfWidth'+'),\x20length('+'light')+_0x2e72bc+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x2e72bc+('_shadowSea'+'rchArea')),_0x37e505=_0x37e505+',\x20light'+_0x2e72bc+('_cameraPar'+'ams,\x20')+_0xe85453+(',\x20dLightDi'+'rW');}}_0x2add57===Pe?(_0x56fca3='Point'+_0x56fca3,_0x15e56e||(_0x37e505=_0x37e505+(',\x20dLightDi'+'rW'))):_0x2add57===Re&&(_0x56fca3='Spot'+_0x56fca3),_0x384ffa['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x2e72bc+('\x20=\x20getShad'+'ow')+_0x56fca3+'('+_0x37e505+');'),_0x384ffa['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x2e72bc+',\x20light'+_0x2e72bc+('_shadowInt'+'ensity);'));}}if(_0x5c4619!==yt?_0x513d1c['useSpecula'+'r']?_0x384ffa['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x384ffa['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3':'')+';'):_0x4a8985&&_0x513d1c['useSpecula'+'r']?_0x384ffa['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x384ffa['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3':'')+';'),_0x513d1c['useSpecula'+'r']&&_0x384ffa['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x5158bf['affectSpec'+'ularity']){if(_0x5c4619!==yt)_0x513d1c['useClearCo'+'at']&&_0x384ffa['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x4a00b4+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3':'')+';'),_0x513d1c['useSpecula'+'r']&&_0x384ffa['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x4a00b4+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3':'')+';');else{let _0x31ef8a=!(-0x1*0x1471+-0xd3*0x1d+0x2c59);_0x2add57===oe&&_0x513d1c['fresnelMod'+'el']>0xa52+-0x180b+0xdb9&&(_0x31ef8a=!(-0x1*0x157f+-0x25e7+0x1db3*0x2)),_0x513d1c['useClearCo'+'at']&&_0x384ffa['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3':'')+(_0x31ef8a?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x513d1c['useSheen']&&_0x384ffa['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3'+';':';')),_0x513d1c['useSpecula'+'r']&&_0x384ffa['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x2e72bc+'_color'+(_0x294b41?'\x20*\x20dAtten3':'')+(_0x31ef8a?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x2add57!==oe&&_0x384ffa['append']('\x20\x20\x20\x20}');}_0x513d1c['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x355385=!(0x26*-0x53+0x1d0*0x13+-0x1*0x161e),_0x4d3166=!(-0xb5*-0x7+-0x22c3+0x1dd0),_0x580afb=!(0xa1f+0x18db+-0x22fa),_0x384ffa['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x4a8985&&(_0x513d1c['useClearCo'+'at']&&_0x384ffa['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x513d1c['useSpecula'+'r']&&_0x384ffa['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x513d1c['useRefract'+'ion']&&_0x384ffa['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x513d1c['useAo']&&(_0x513d1c['occludeDir'+'ect']&&_0x384ffa['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x513d1c['occludeSpe'+'cular']===Bo||_0x513d1c['occludeSpe'+'cular']===Lu)&&_0x384ffa['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x513d1c['useSpecula'+'rityFactor']&&_0x384ffa['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x513d1c['opacityFad'+'esSpecular']===!(-0x1df0+0x1bc4+-0x1*-0x22d)&&((_0x513d1c['blendType']===Kt||_0x513d1c['blendType']===hr)&&(_0x384ffa['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x384ffa['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x384ffa['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x384ffa['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x384ffa['append'](_0xc02303['endPS']),_0x513d1c['blendType']===Kt||_0x513d1c['blendType']===Hc||_0x513d1c['alphaToCov'+'erage']?_0x384ffa['append'](_0xc02303['outputAlph'+'aPS']):_0x513d1c['blendType']===hr?_0x384ffa['append'](_0xc02303['outputAlph'+'aPremulPS']):_0x384ffa['append'](_0xc02303['outputAlph'+'aOpaquePS']),_0x513d1c['useMsdf']&&_0x384ffa['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x384ffa['append'](_0xc02303['outputPS']),_0x384ffa['append'](_0xc02303['debugOutpu'+'tPS']),_0x580afb&&_0x5123b5['prepend'](_0xc02303['lightDirPo'+'intPS']),_0x355385&&_0x5123b5['prepend'](_0xc02303['falloffLin'+'earPS']),_0x4d3166&&_0x5123b5['prepend'](_0xc02303['falloffInv'+'SquaredPS']),_0xbac6f4&&_0x5123b5['prepend'](_0xc02303['spotPS']),_0xce45a3&&!_0x513d1c['clusteredL'+'ightingEna'+'bled']&&_0x5123b5['prepend'](_0xc02303['cookiePS']);let _0x3d541c='';const _0x410a7e='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x384ffa['code']+'\x0a}';_0x5123b5['append'](_0x410a7e),_0x1bc1ad['append'](_0xc02303['debugProce'+'ssFrontend'+'PS']),_0x1bc1ad['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x1bc1ad['append'](It['end']());const _0x17b1ca=_0x1bd7e9['code']+_0x5123b5['code']+_0x1bc1ad['code'];return _0x17b1ca['includes']('dTBN')&&(_0x3d541c+='mat3\x20dTBN;'+'\x0a'),_0x17b1ca['includes']('dVertexNor'+'malW')&&(_0x3d541c+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x17b1ca['includes']('dTangentW')&&(_0x3d541c+='vec3\x20dTang'+'entW;\x0a'),_0x17b1ca['includes']('dBinormalW')&&(_0x3d541c+='vec3\x20dBino'+'rmalW;\x0a'),_0x17b1ca['includes']('dViewDirW')&&(_0x3d541c+='vec3\x20dView'+'DirW;\x0a'),_0x17b1ca['includes']('dReflDirW')&&(_0x3d541c+='vec3\x20dRefl'+'DirW;\x0a'),_0x17b1ca['includes']('dHalfDirW')&&(_0x3d541c+='vec3\x20dHalf'+'DirW;\x0a'),_0x17b1ca['includes']('ccReflDirW')&&(_0x3d541c+='vec3\x20ccRef'+'lDirW;\x0a'),_0x17b1ca['includes']('dLightDirN'+'ormW')&&(_0x3d541c+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x17b1ca['includes']('dLightDirW')&&(_0x3d541c+='vec3\x20dLigh'+'tDirW;\x0a'),_0x17b1ca['includes']('dLightPosW')&&(_0x3d541c+='vec3\x20dLigh'+'tPosW;\x0a'),_0x17b1ca['includes']('dShadowCoo'+'rd')&&(_0x3d541c+='vec3\x20dShad'+'owCoord;\x0a'),_0x17b1ca['includes']('dReflectio'+'n')&&(_0x3d541c+='vec4\x20dRefl'+'ection;\x0a'),_0x17b1ca['includes']('dDiffuseLi'+'ght')&&(_0x3d541c+='vec3\x20dDiff'+'useLight;\x0a'),_0x17b1ca['includes']('dSpecularL'+'ight')&&(_0x3d541c+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x17b1ca['includes']('dAtten')&&(_0x3d541c+='float\x20dAtt'+'en;\x0a'),_0x17b1ca['includes']('dAttenD')&&(_0x3d541c+='float\x20dAtt'+'enD;\x0a'),_0x17b1ca['includes']('dAtten3')&&(_0x3d541c+='vec3\x20dAtte'+'n3;\x0a'),_0x17b1ca['includes']('dMsdf')&&(_0x3d541c+='vec4\x20dMsdf'+';\x0a'),_0x17b1ca['includes']('ccFresnel')&&(_0x3d541c+='float\x20ccFr'+'esnel;\x0a'),_0x17b1ca['includes']('ccReflecti'+'on')&&(_0x3d541c+='vec3\x20ccRef'+'lection;\x0a'),_0x17b1ca['includes']('ccSpecular'+'Light')&&(_0x3d541c+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x17b1ca['includes']('ccSpecular'+'ityNoFres')&&(_0x3d541c+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x17b1ca['includes']('sSpecularL'+'ight')&&(_0x3d541c+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x17b1ca['includes']('sReflectio'+'n')&&(_0x3d541c+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x3d541c+this['frontendDe'+'cl']+_0x17b1ca;}['generateFr'+'agmentShad'+'er'](_0x4ad4b3,_0x44a7df,_0x59aeb2,_0x276415){const _0x56cf22=this['options'];this['frontendDe'+'cl']=_0x4ad4b3,this['frontendCo'+'de']=_0x44a7df,this['frontendFu'+'nc']=_0x59aeb2,this['lightingUv']=_0x276415,_0x56cf22['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x56cf22['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x56cf22['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x56cf22['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x56cf22['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0x3fb+0x31*0xd+0x14b*-0x5)),c(this,'chunks',{}),c(this,'pass',-0xe*-0x83+-0x167f+0xf55),c(this,'alphaTest',!(0x2307+-0x11aa+-0x115c)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(0xc7a*-0x1+-0x3*-0x821+0x17d*-0x8)),c(this,'screenSpac'+'e',!(-0x212d+-0x1*-0x2507+0x3d9*-0x1)),c(this,'skin',!(-0x2*0x128c+-0x7df+0x1*0x2cf8)),c(this,'batch',!(-0xc2c+0x828+0x405)),c(this,'useInstanc'+'ing',!(-0xc*-0xd7+-0x83*-0x17+0x1d2*-0xc)),c(this,'useMorphPo'+'sition',!(0xf8*-0x19+0x28d*-0x1+0x1ac6)),c(this,'useMorphNo'+'rmal',!(-0x3*-0xcb3+0x1*0x12b7+0x38cf*-0x1)),c(this,'useMorphTe'+'xtureBased'+'Int',!(0x57c+-0x6*0x2bd+0xaf3*0x1)),c(this,'nineSliced'+'Mode',-0x2136*-0x1+0x527+0x57b*-0x7),c(this,'clusteredL'+'ightingEna'+'bled',!(0x23d*-0x5+0x7*-0x73+0xe56)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x1757+0x1a7+-0x18fd)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x2*-0x121d+0x1c09+-0x4042)),c(this,'clusteredL'+'ightingSha'+'dowType',-0x6b+0x163d*-0x1+-0x1d*-0xc8),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x20f*-0x1+-0x20f8+0x527*0x6)),c(this,'vertexColo'+'rs',!(-0x99e+0x1156+-0x7b7*0x1)),c(this,'lightMapEn'+'abled',!(0xdbf+0x717+-0x14d5)),c(this,'dirLightMa'+'pEnabled',!(0xdb*-0x1+-0xf*-0x220+-0x1f04)),c(this,'useHeights',!(0x23d*0x2+-0x1*-0x190c+-0x21*0xe5)),c(this,'useNormals',!(0x382+-0x11*-0x11b+-0x1*0x164c)),c(this,'useClearCo'+'atNormals',!(0x1*0x230+-0x797*-0x2+-0x115d)),c(this,'useAo',!(-0xd5*0x23+-0x339+0x27d*0xd)),c(this,'diffuseMap'+'Enabled',!(0x1aa1+-0x590+-0x544*0x4)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(0x33b*-0x1+-0x1b65+-0x1*-0x1ea1)),c(this,'ambientSH',!(-0x1*-0xf3d+-0x943*0x3+-0x3f*-0x33)),c(this,'ssao',!(-0x12c0+-0x77*-0x2+0x11d3)),c(this,'twoSidedLi'+'ghting',!(-0x21f*0x5+-0x2047+0x2ae3)),c(this,'occludeDir'+'ect',!(-0x138+-0x8cd+0xa06)),c(this,'occludeSpe'+'cular',0x6a+0x1b13+-0x1*0x1b7d),c(this,'occludeSpe'+'cularFloat',!(0x696+0x23*-0x51+0x32*0x17)),c(this,'useMsdf',!(0x2460+0x31*0x22+-0x1*0x2ae1)),c(this,'msdfTextAt'+'tribute',!(-0x5*-0x657+-0x1785+0x5b*-0x17)),c(this,'alphaToCov'+'erage',!(0x92*-0x13+-0x1*-0xd01+0x115*-0x2)),c(this,'opacityFad'+'esSpecular',!(0x1*-0x1ecb+-0xe87+0x2d53)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',-0x12a0+0xd75+0x52b),c(this,'useSpecula'+'r',!(-0x979*0x1+-0x1546+0x30*0xa4)),c(this,'useSpecula'+'rityFactor',!(0x1dc+0x2*-0x1175+0x210f)),c(this,'enableGGXS'+'pecular',!(0x660*-0x2+0x1af2*0x1+-0x207*0x7)),c(this,'fresnelMod'+'el',-0x2*0x8bf+0x754*-0x4+0x2*0x1767),c(this,'useRefract'+'ion',!(-0x76*0x49+-0x728+0x28cf)),c(this,'useClearCo'+'at',!(-0x13ce+0x166e+0xb*-0x3d)),c(this,'useSheen',!(-0x582+0x2ac*-0x8+0x1ae3)),c(this,'useIridesc'+'ence',!(-0x7*0x1e9+0x4f*-0x11+0x129f)),c(this,'useMetalne'+'ss',!(-0x1*-0x1ea8+0x11f1+0x184c*-0x2)),c(this,'useDynamic'+'Refraction',!(-0x263c+0x2275+0x3c8)),c(this,'dispersion',!(0x35e*-0x2+0x3*0x75b+-0xf54)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(0x1*-0x10bf+-0x690+0x2ea*0x8)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0x2674+-0x3a5+0x1*0x2a1a),c(this,'useCubeMap'+'Rotation',!(0xf6f+0xab*0x36+0xce*-0x40)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0xb5d+0x2*-0x296+-0x845*-0x2)),c(this,'lights',[]),c(this,'noShadow',!(-0x23c2+0x1821+0xba2)),c(this,'lightMaskD'+'ynamic',-0xd*0x14+0x2b*-0x16+0x4b6),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0x25aa+-0x1f*-0x1e+0x2209));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(-0x2a6*-0x5+-0xb90+0x8f*-0x3)),c(this,'specularTi'+'nt',!(0x273*-0x2+-0x1e24+-0x1*-0x230b)),c(this,'metalnessT'+'int',!(-0xa72+0xac*0x35+-0x1929)),c(this,'glossTint',!(-0x2052+0xa80+-0x1*-0x15d3)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x101d+-0xda7+0x1dc5)),c(this,'glossInver'+'t',!(0x45*-0x83+0x2bd*0xb+0x531)),c(this,'sheenGloss'+'Invert',!(0x1*0x1241+0x17fa+-0x2a3a)),c(this,'clearCoatG'+'lossInvert',!(0x28*0x53+0xbf*0xd+-0x16aa)),c(this,'useAO',!(-0x1*0x22c7+0x1c4f*0x1+-0x679*-0x1)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x5e307f){return'lit'+Object['keys'](_0x5e307f)['sort']()['map'](_0x3c1675=>_0x3c1675==='chunks'?Uu['generateCh'+'unksKey'](_0x5e307f):_0x3c1675==='lights'?Uu['generateLi'+'ghtsKey'](_0x5e307f):_0x3c1675+_0x5e307f[_0x3c1675])['join']('\x0a');},'generateLightsKey'(_0xb44feb){return'lights:'+_0xb44feb['lights']['map'](_0x50ef0e=>!_0xb44feb['clusteredL'+'ightingEna'+'bled']||_0x50ef0e['_type']===oe?_0x50ef0e['key']+',':'')['join']('');},'generateChunksKey'(_0xdf7e8c){return'chunks:\x0a'+Object['keys'](_0xdf7e8c['chunks']??{})['sort']()['map'](_0x2fef0e=>_0x2fef0e+_0xdf7e8c['chunks'][_0x2fef0e])['join']('');}},fa=[],Ad=_0x101ebe=>Object['keys'](_0x101ebe)['filter'](_0x4bdcf5=>_0x4bdcf5!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x342f21){let _0x58d4a1;return _0x342f21===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x342f21)),_0x58d4a1=this['propsMin']):_0x342f21===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x342f21)),_0x58d4a1=this['props']):_0x58d4a1=Ad(_0x342f21),'standard:\x0a'+It['definesHas'+'h'](_0x342f21['defines'])+'\x0a'+_0x58d4a1['map'](_0x5a3526=>_0x5a3526+_0x342f21[_0x5a3526])['join']('\x0a')+Uu['generateKe'+'y'](_0x342f21['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x301a18,_0x13b3b5,_0x545928){const _0xc2c587=_0x545928[_0x301a18],_0x34571e=_0x545928[_0x13b3b5],_0x1a6739=_0x545928['litOptions']['pass']===gn;let _0x56ffcf;return _0x1a6739&&_0x545928['litOptions']['nineSliced'+'Mode']===nt||_0x1a6739&&_0x545928['litOptions']['nineSliced'+'Mode']===Qe?_0x56ffcf='nineSliced'+'Uv':(_0xc2c587===-0x67*-0x18+0x536+-0xede?_0x56ffcf='vUv'+_0x34571e:_0x56ffcf='vUV'+_0x34571e+'_'+_0xc2c587,_0x545928['heightMap']&&_0x301a18!=='heightMapT'+'ransform'&&(_0x56ffcf+='\x20+\x20dUvOffs'+'et')),_0x56ffcf;}['_addMapDef'](_0x55dd5f,_0x5784a5){return _0x5784a5?'#define\x20'+_0x55dd5f+'\x0a':'#undef\x20'+_0x55dd5f+'\x0a';}['_addMapDef'+'s'](_0xabff78,_0x189f04,_0xfdd901,_0x5c6df8,_0x294a71){return this['_addMapDef']('MAPFLOAT',_0xabff78)+this['_addMapDef']('MAPCOLOR',_0x189f04)+this['_addMapDef']('MAPVERTEX',_0xfdd901)+this['_addMapDef']('MAPTEXTURE',_0x5c6df8)+this['_addMapDef']('MAPINVERT',_0x294a71);}['_addMap'](_0x7c8394,_0x4a7e75,_0x74ce63,_0x51cdeb,_0x1faadf,_0x2b47e9=null){const _0x370f6b=_0x7c8394+'Map',_0x2a05c1=_0x370f6b+'Uv',_0xfe7b67=_0x370f6b+'Identifier',_0x3835ce=_0x370f6b+'Transform',_0x2bc3c9=_0x370f6b+'Channel',_0x14bbac=_0x7c8394+('VertexColo'+'rChannel'),_0x3c5842=_0x7c8394+'Tint',_0x568f7a=_0x7c8394+('VertexColo'+'r'),_0x5b2e8f=_0x7c8394+'Mode',_0x400090=_0x7c8394+'Invert',_0x684598=_0x74ce63[_0x3c5842],_0x2f7c02=_0x74ce63[_0x568f7a],_0x4a3458=_0x74ce63[_0x370f6b],_0x44665b=_0x74ce63[_0xfe7b67],_0x12cae0=_0x74ce63[_0x5b2e8f];let _0x1a124f=_0x51cdeb[_0x4a7e75];if(_0x4a3458){const _0x42919d=this['_getUvSour'+'ceExpressi'+'on'](_0x3835ce,_0x2a05c1,_0x74ce63);if(_0x1a124f=_0x1a124f['replace'](/\$UV/g,_0x42919d)['replace'](/\$CH/g,_0x74ce63[_0x2bc3c9]),_0x1faadf&&_0x1a124f['search'](/\$SAMPLER/g)!==-(-0x26f3+-0x7ff+-0x77*-0x65)){let _0x291b44='texture_'+_0x370f6b;const _0x3428ef=_0x1faadf[_0x44665b];_0x3428ef?_0x291b44=_0x3428ef:_0x1faadf[_0x44665b]=_0x291b44,_0x1a124f=_0x1a124f['replace'](/\$SAMPLER/g,_0x291b44);}if(_0x2b47e9&&(_0x74ce63[_0x2bc3c9]==='aaa'?_0x1a124f=_0x1a124f['replace'](/\$DECODE/g,'passThroug'+'h'):_0x1a124f=_0x1a124f['replace'](/\$DECODE/g,Es['decodeFunc'](_0x2b47e9)),_0x1a124f['indexOf']('$texture2D'+'SAMPLE'))){const _0x15c854={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x1a124f=_0x1a124f['replace'](/\$texture2DSAMPLE/g,_0x15c854[_0x2b47e9]||'texture2D');}}_0x2f7c02&&(_0x1a124f=_0x1a124f['replace'](/\$VC/g,_0x74ce63[_0x14bbac])),_0x12cae0&&(_0x1a124f=_0x1a124f['replace'](/\$DETAILMODE/g,_0x12cae0));const _0x245ea6=!!(_0x684598&-0x2084+-0x899+0x22a*0x13),_0x3c3be=!!(_0x684598&0x10d4+0x6cd*0x5+-0x32d3),_0x3fb8bc=!!_0x74ce63[_0x400090];return _0x1a124f=this['_addMapDef'+'s'](_0x245ea6,_0x3c3be,_0x2f7c02,_0x4a3458,_0x3fb8bc)+_0x1a124f,_0x1a124f['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x4ea61e,_0x855eec,_0x1c6b40){if(_0x1c6b40[_0x4ea61e]>0x1a78+-0x2682+0x2*0x605){if(_0x1c6b40[_0x4ea61e]<_0x855eec['length'])return _0x855eec['substring'](0x1e8e*-0x1+0x7*-0x3d0+-0x1c9f*-0x2,_0x1c6b40[_0x4ea61e]);if(_0x1c6b40[_0x4ea61e]>_0x855eec['length']){let _0x4d3810=_0x855eec;const _0x3c061a=_0x4d3810['charAt'](_0x4d3810['length']-(0x234b+-0x186+-0x21c4)),_0x11ac2b=_0x1c6b40[_0x4ea61e]-_0x4d3810['length'];for(let _0x18775d=-0x248e*0x1+-0x2*0x55+0x2538;_0x18775d<_0x11ac2b;_0x18775d++)_0x4d3810+=_0x3c061a;return _0x4d3810;}return _0x855eec;}}['createShad'+'erDefiniti'+'on'](_0x4ae5f4,_0x35108c){const _0xd5f230=Ks['get'](_0x4ae5f4)['getByIndex'](_0x35108c['litOptions']['pass'])['isForward'],_0x25bbce=new $C(_0x4ae5f4,_0x35108c['litOptions']),_0x5c0f2f=[],_0x4a686d=[],_0x2d9bb0=[],_0x4d6215=-0x9ff+-0x7*-0x365+-0x496*0x3,_0x529f07={};for(const _0x362227 in fa){const _0xbc8fb6=_0x362227+'Map';if(_0x35108c[_0x362227+('VertexColo'+'r')]){const _0x1bba0d=_0x362227+('VertexColo'+'rChannel');_0x35108c[_0x1bba0d]=this['_correctCh'+'annel'](_0x362227,_0x35108c[_0x1bba0d],fa);}if(_0x35108c[_0xbc8fb6]){const _0x3794f3=_0xbc8fb6+'Channel',_0x473a0c=_0xbc8fb6+'Transform',_0x462954=_0xbc8fb6+'Uv';_0x35108c[_0x462954]=Math['min'](_0x35108c[_0x462954],_0x4d6215-(-0x2044+-0xe*-0x71+0x1a17)),_0x35108c[_0x3794f3]=this['_correctCh'+'annel'](_0x362227,_0x35108c[_0x3794f3],fa);const _0x54f50c=_0x35108c[_0x462954];_0x5c0f2f[_0x54f50c]=!(0x2ba+-0x3ac+0xf2),_0x4a686d[_0x54f50c]=_0x4a686d[_0x54f50c]||_0x35108c[_0xbc8fb6]&&!_0x35108c[_0x473a0c],_0x35108c[_0x473a0c]&&_0x2d9bb0['push']({'name':_0x362227,'id':_0x35108c[_0x473a0c],'uv':_0x35108c[_0x462954]});}}_0x35108c['forceUv1']&&(_0x5c0f2f[0x3b*0x71+0x1b44+-0x354e]=!(0x2590+0xaaf+0x17*-0x219),_0x4a686d[0x244*-0x6+-0x13*-0x15a+-0xc15]=_0x4a686d[-0x1986+-0x3*-0xa47+-0x54e]!==void(0xef*-0x3+0x1430+-0x1163)?_0x4a686d[0x267*-0xd+0xb2*-0x2b+0x3d22]:!(0xcd5+-0xefa+0x9*0x3d)),_0x25bbce['generateVe'+'rtexShader'](_0x5c0f2f,_0x4a686d,_0x2d9bb0),_0x35108c['litOptions']['fresnelMod'+'el']=_0x35108c['litOptions']['fresnelMod'+'el']===-0x1d5*-0xf+-0x906+-0x1275?Sp:_0x35108c['litOptions']['fresnelMod'+'el'];const _0xaf66f6=new sr(),_0x500bed=new sr(),_0x30ba7a=new sr(),_0x586a56=new sr();let _0x3b1acf='';if(_0x35108c['litOptions']['nineSliced'+'Mode']===Qe?_0xaf66f6['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0xaf66f6['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0xd5f230){if(_0x35108c['heightMap']&&(_0xaf66f6['append']('vec2\x20dUvOf'+'fset;'),_0x500bed['append'](this['_addMap']('height','parallaxPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getParalla'+'x();')),_0x35108c['litOptions']['blendType']!==is||_0x35108c['litOptions']['alphaTest']||_0x35108c['litOptions']['alphaToCov'+'erage']||_0x35108c['litOptions']['opacityDit'+'her']!==Rs){_0xaf66f6['append']('float\x20dAlp'+'ha;'),_0x500bed['append'](this['_addMap']('opacity','opacityPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getOpacity'+'();'),_0x586a56['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x35108c['litOptions']['alphaTest']&&(_0x500bed['append'](_0x25bbce['chunks']['alphaTestP'+'S']),_0x30ba7a['append']('alphaTest('+'dAlpha);'));const _0x3d3674=_0x35108c['litOptions']['opacityDit'+'her'];_0x3d3674!==Rs&&(_0x3d3674===Nm&&_0xaf66f6['append'](_0x25bbce['chunks']['bayerPS']),_0xaf66f6['append']('#define\x20DI'+'THER_'+_0x3d3674['toUpperCas'+'e']()+'\x0a'),_0xaf66f6['append'](_0x25bbce['chunks']['opacityDit'+'herPS']),_0x30ba7a['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0xaf66f6['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x25bbce['needsNorma'+'l']){if((_0x35108c['normalMap']||_0x35108c['clearCoatN'+'ormalMap'])&&(_0x500bed['append'](_0x35108c['packedNorm'+'al']?_0x25bbce['chunks']['normalXYPS']:_0x25bbce['chunks']['normalXYZP'+'S']),!_0x35108c['litOptions']['hasTangent'+'s'])){const _0x49d218=_0x35108c['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x3b1acf=this['_getUvSour'+'ceExpressi'+'on'](_0x49d218+'Transform',_0x49d218+'Uv',_0x35108c);}_0xaf66f6['append']('vec3\x20dNorm'+'alW;'),_0x500bed['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x500bed['append'](this['_addMap']('normal','normalMapP'+'S',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getNormal('+');'),_0x586a56['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x25bbce['needsScene'+'Color']&&_0xaf66f6['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x25bbce['needsScree'+'nSize']&&_0xaf66f6['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x25bbce['needsTrans'+'forms']&&(_0xaf66f6['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0xaf66f6['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x35108c['diffuseDet'+'ail']||_0x35108c['aoDetail'])&&_0x500bed['append'](_0x25bbce['chunks']['detailMode'+'sPS']),_0xaf66f6['append']('vec3\x20dAlbe'+'do;'),_0x35108c['diffuseDet'+'ail']&&_0x500bed['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x35108c,_0x25bbce['chunks'],_0x529f07,_0x35108c['diffuseDet'+'ailEncodin'+'g'])),_0x500bed['append'](this['_addMap']('diffuse','diffusePS',_0x35108c,_0x25bbce['chunks'],_0x529f07,_0x35108c['diffuseEnc'+'oding'])),_0x30ba7a['append']('getAlbedo('+');'),_0x586a56['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x35108c['litOptions']['useRefract'+'ion']&&(_0xaf66f6['append']('float\x20dTra'+'nsmission;'),_0x500bed['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getRefract'+'ion();'),_0x586a56['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0xaf66f6['append']('float\x20dThi'+'ckness;'),_0x500bed['append'](this['_addMap']('thickness','thicknessP'+'S',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getThickne'+'ss();'),_0x586a56['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x35108c['litOptions']['dispersion']&&_0x586a56['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x35108c['litOptions']['useIridesc'+'ence']&&(_0xaf66f6['append']('float\x20dIri'+'descence;'),_0x500bed['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getIridesc'+'ence();'),_0x586a56['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0xaf66f6['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x500bed['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getIridesc'+'enceThickn'+'ess();'),_0x586a56['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x25bbce['lighting']&&_0x35108c['litOptions']['useSpecula'+'r']||_0x25bbce['reflection'+'s']?(_0xaf66f6['append']('vec3\x20dSpec'+'ularity;'),_0xaf66f6['append']('float\x20dGlo'+'ssiness;'),_0x35108c['litOptions']['useSheen']&&(_0xaf66f6['append']('vec3\x20sSpec'+'ularity;'),_0x500bed['append'](this['_addMap']('sheen','sheenPS',_0x35108c,_0x25bbce['chunks'],_0x529f07,_0x35108c['sheenEncod'+'ing'])),_0x30ba7a['append']('getSheen()'+';'),_0x586a56['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0xaf66f6['append']('float\x20sGlo'+'ssiness;'),_0x500bed['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getSheenGl'+'ossiness()'+';'),_0x586a56['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x35108c['litOptions']['useMetalne'+'ss']&&(_0xaf66f6['append']('float\x20dMet'+'alness;'),_0x500bed['append'](this['_addMap']('metalness','metalnessP'+'S',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getMetalne'+'ss();'),_0x586a56['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0xaf66f6['append']('float\x20dIor'+';'),_0x500bed['append'](this['_addMap']('ior','iorPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getIor();'),_0x586a56['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x35108c['litOptions']['useSpecula'+'rityFactor']&&(_0xaf66f6['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x500bed['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getSpecula'+'rityFactor'+'();'),_0x586a56['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x35108c['useSpecula'+'rColor']?_0x500bed['append'](this['_addMap']('specular','specularPS',_0x35108c,_0x25bbce['chunks'],_0x529f07,_0x35108c['specularEn'+'coding'])):_0x500bed['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x500bed['append'](this['_addMap']('gloss','glossPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getGlossin'+'ess();'),_0x30ba7a['append']('getSpecula'+'rity();'),_0x586a56['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x586a56['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0xaf66f6['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0xaf66f6['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x35108c['aoDetail']&&_0x500bed['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),(_0x35108c['aoMap']||_0x35108c['aoVertexCo'+'lor']||_0x35108c['useAO'])&&(_0xaf66f6['append']('float\x20dAo;'),_0x500bed['append'](this['_addMap']('ao','aoPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getAO();'),_0x586a56['append']('litArgs_ao'+'\x20=\x20dAo;')),_0xaf66f6['append']('vec3\x20dEmis'+'sion;'),_0x500bed['append'](this['_addMap']('emissive','emissivePS',_0x35108c,_0x25bbce['chunks'],_0x529f07,_0x35108c['emissiveEn'+'coding'])),_0x30ba7a['append']('getEmissio'+'n();'),_0x586a56['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x35108c['litOptions']['useClearCo'+'at']&&(_0xaf66f6['append']('float\x20ccSp'+'ecularity;'),_0xaf66f6['append']('float\x20ccGl'+'ossiness;'),_0xaf66f6['append']('vec3\x20ccNor'+'malW;'),_0x500bed['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x500bed['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x500bed['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getClearCo'+'at();'),_0x30ba7a['append']('getClearCo'+'atGlossine'+'ss();'),_0x30ba7a['append']('getClearCo'+'atNormal()'+';'),_0x586a56['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x586a56['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x586a56['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x35108c['lightMap']||_0x35108c['lightVerte'+'xColor']){const _0x48988f=_0x35108c['dirLightMa'+'p']&&_0x35108c['litOptions']['useSpecula'+'r'],_0x92cec1=_0x48988f?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0xaf66f6['append']('vec3\x20dLigh'+'tmap;'),_0x48988f&&_0xaf66f6['append']('vec3\x20dLigh'+'tmapDir;'),_0x500bed['append'](this['_addMap']('light',_0x92cec1,_0x35108c,_0x25bbce['chunks'],_0x529f07,_0x35108c['lightMapEn'+'coding'])),_0x30ba7a['append']('getLightMa'+'p();'),_0x586a56['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x48988f&&_0x586a56['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x500bed['code']['indexOf']('texture2DS'+'RGB')===-(0x6d*0x33+0x1756+-0x2d0c)&&_0x500bed['code']['indexOf']('texture2DR'+'GBM')===-(-0x16e*0xa+0xfa*-0x17+0x24c3)&&_0x500bed['code']['indexOf']('texture2DR'+'GBE')===-(0x1fc5+-0xb59+-0x1*0x146b),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x38864e=_0x35108c['litOptions']['opacitySha'+'dowDither'];(_0x35108c['litOptions']['alphaTest']||_0x38864e)&&(_0xaf66f6['append']('float\x20dAlp'+'ha;'),_0x500bed['append'](this['_addMap']('opacity','opacityPS',_0x35108c,_0x25bbce['chunks'],_0x529f07)),_0x30ba7a['append']('getOpacity'+'();'),_0x586a56['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x35108c['litOptions']['alphaTest']&&(_0x500bed['append'](_0x25bbce['chunks']['alphaTestP'+'S']),_0x30ba7a['append']('alphaTest('+'dAlpha);')),_0x38864e!==Rs&&(_0x38864e===Nm&&_0xaf66f6['append'](_0x25bbce['chunks']['bayerPS']),_0xaf66f6['append']('#define\x20DI'+'THER_'+_0x38864e['toUpperCas'+'e']()+'\x0a'),_0xaf66f6['append'](_0x25bbce['chunks']['opacityDit'+'herPS']),_0x30ba7a['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0xaf66f6['append'](_0x25bbce['chunks']['litShaderA'+'rgsPS']),_0x500bed['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x30ba7a['code']+'\x0a'+_0x586a56['code']+'\x0a\x20}\x0a'),_0x30ba7a['code']='evaluateFr'+'ontend();';for(const _0x42224f in _0x529f07)_0xaf66f6['append']('uniform\x20sa'+'mpler2D\x20'+_0x529f07[_0x42224f]+';');_0x30ba7a['code']='\x0a'+_0x30ba7a['code']['split']('\x0a')['map'](_0x101177=>'\x20\x20\x20\x20'+_0x101177)['join']('\x0a')+'\x0a\x0a',_0x25bbce['generateFr'+'agmentShad'+'er'](_0xaf66f6['code'],_0x500bed['code'],_0x30ba7a['code'],_0x3b1acf);const _0x492895=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x25bbce['chunks']),..._0x25bbce['chunks'],..._0x35108c['litOptions']['chunks']})),_0x616abc=new Map(_0x35108c['defines']),_0x1ee867=Mt['createDefi'+'nition'](_0x4ae5f4,{'name':'StandardSh'+'ader','attributes':_0x25bbce['attributes'],'vertexCode':_0x25bbce['vshader'],'fragmentCode':_0x25bbce['fshader'],'vertexIncludes':_0x492895,'fragmentIncludes':_0x492895,'fragmentDefines':_0x616abc,'vertexDefines':_0x616abc});return _0x25bbce['shaderPass'+'Info']['isForward']&&(_0x1ee867['tag']=Ly),_0x1ee867;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=0x87e+-0x42*0x2+-0x7fa*0x1;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x251*0x1+0x747+0x997*-0x1)),c(this,'parameters',{}),c(this,'alphaTest',-0x653+-0xa51+-0x4*-0x429),c(this,'alphaToCov'+'erage',!(-0x258c+-0x8aa+0x2e37)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x21*-0x106+0x1e*-0xb3+0x36c0)),c(this,'_shaderVer'+'sion',0x1*-0x149f+-0x4*-0x271+-0x18d*-0x7),c(this,'_scene',null),c(this,'dirty',!(-0x1c1d+-0x909*-0x3+0x56*0x3)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x3298c2){this['_dirtyShad'+'er']=!(-0x866+-0x1a07+0x226d),this['_chunks']=_0x3298c2;}get['chunks'](){return this['_dirtyShad'+'er']=!(-0x34*-0x8d+0x20ec+0x1ec8*-0x2),this['_chunks'];}set['depthBias'](_0x3381be){this['_depthStat'+'e']['depthBias']=_0x3381be;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x3cb43b){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x3cb43b;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0xa0998){this['_blendStat'+'e']['redWrite']=_0xa0998;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x568afe){this['_blendStat'+'e']['greenWrite']=_0x568afe;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x85cfc6){this['_blendStat'+'e']['blueWrite']=_0x85cfc6;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x1c9905){this['_blendStat'+'e']['alphaWrite']=_0x1c9905;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x179e72=this['transparen'+'t'],_0x2a0a3c=this['meshInstan'+'ces'];for(let _0x5c1c7b=0x101f+-0x97f*0x2+0x2df*0x1;_0x5c1c7b<_0x2a0a3c['length'];_0x5c1c7b++)_0x2a0a3c[_0x5c1c7b]['transparen'+'t']=_0x179e72;}set['blendState'](_0x54084b){this['_blendStat'+'e']['copy'](_0x54084b),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x329543){const _0x3002c7=Ft[_0x329543];v['assert'](_0x3002c7,'Unknown\x20bl'+'end\x20mode\x20'+_0x329543),this['_blendStat'+'e']['setColorBl'+'end'](_0x3002c7['op'],_0x3002c7['src'],_0x3002c7['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x3002c7['alphaOp']??_0x3002c7['op'],_0x3002c7['alphaSrc']??_0x3002c7['src'],_0x3002c7['alphaDst']??_0x3002c7['dst']);const _0x27c8b4=_0x329543!==is;this['_blendStat'+'e']['blend']!==_0x27c8b4&&(this['_blendStat'+'e']['blend']=_0x27c8b4,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x3b64af,colorSrcFactor:_0x38ecb9,colorDstFactor:_0x5cda22,alphaOp:_0x2d240c,alphaSrcFactor:_0x324568,alphaDstFactor:_0xbbddd3}=this['_blendStat'+'e'];for(let _0x4f4cac=-0x461*-0x4+-0x13bc*-0x1+-0x2540;_0x4f4cac<Ft['length'];_0x4f4cac++){const _0x6c3703=Ft[_0x4f4cac];if(_0x6c3703['src']===_0x38ecb9&&_0x6c3703['dst']===_0x5cda22&&_0x6c3703['op']===_0x3b64af&&_0x6c3703['src']===_0x324568&&_0x6c3703['dst']===_0xbbddd3&&_0x6c3703['op']===_0x2d240c)return _0x4f4cac;}return Kt;}set['depthState'](_0x32794f){this['_depthStat'+'e']['copy'](_0x32794f);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x5e0689){this['_depthStat'+'e']['test']=_0x5e0689;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x4f90ea){this['_depthStat'+'e']['func']=_0x4f90ea;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x332875){this['_depthStat'+'e']['write']=_0x332875;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x20a44c){var _0x38c5af;this['name']=_0x20a44c['name'],this['alphaTest']=_0x20a44c['alphaTest'],this['alphaToCov'+'erage']=_0x20a44c['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x20a44c['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x20a44c['_depthStat'+'e']),this['cull']=_0x20a44c['cull'],this['stencilFro'+'nt']=(_0x38c5af=_0x20a44c['stencilFro'+'nt'])==null?void(-0x1c88+-0x126+0x2*0xed7):_0x38c5af['clone'](),_0x20a44c['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x20a44c['stencilFro'+'nt']===_0x20a44c['stencilBac'+'k']?this['stencilFro'+'nt']:_0x20a44c['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x2544e9 in _0x20a44c['parameters'])_0x20a44c['parameters']['hasOwnProp'+'erty'](_0x2544e9)&&this['_setParame'+'terSimple'](_0x2544e9,_0x20a44c['parameters'][_0x2544e9]['data']);this['defines']['clear'](),_0x20a44c['defines']['forEach']((_0x60db3f,_0x2c85d6)=>this['defines']['set'](_0x2c85d6,_0x60db3f));const _0x5bba3c=_0x20a44c['_chunks'];for(const _0x24e9ad in _0x5bba3c)_0x5bba3c['hasOwnProp'+'erty'](_0x24e9ad)&&(this['_chunks'][_0x24e9ad]=_0x5bba3c[_0x24e9ad]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x2cb26c=this['meshInstan'+'ces'];for(let _0x41aab6=0xd2a+0x26c5+-0x1*0x33ef;_0x41aab6<_0x2cb26c['length'];_0x41aab6++)_0x2cb26c[_0x41aab6]['updateKey']();}['updateUnif'+'orms'](_0x433c2e,_0x35cb04){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x3e6d72){v['assert'](!(-0x2*0xfed+-0x1*0x1ece+-0x3*-0x14e3),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x21f0+-0x1*-0x23e3+0x14b*-0x36),this['clearVaria'+'nts']()),this['dirty']=!(-0x8*0x4b5+0x2660+-0xb8);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x504374=this['meshInstan'+'ces'],_0x47d8cf=_0x504374['length'];for(let _0x5241a2=0x1276+0x1091+-0x3d*0x93;_0x5241a2<_0x47d8cf;_0x5241a2++)_0x504374[_0x5241a2]['clearShade'+'rs']();}['getParamet'+'er'](_0x1e6bee){return this['parameters'][_0x1e6bee];}['_setParame'+'terSimple'](_0x312743,_0x2445fe){v['call'](()=>{_0x2445fe===void(0x633+0x269a+-0xeef*0x3)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x312743+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0xc8bc9c=this['parameters'][_0x312743];_0xc8bc9c?_0xc8bc9c['data']=_0x2445fe:this['parameters'][_0x312743]={'scopeId':null,'data':_0x2445fe};}['setParamet'+'er'](_0x570e4a,_0x223499){if(_0x223499===void(-0x19fb+-0xf1a+-0x329*-0xd)&&typeof _0x570e4a=='object'){const _0x10f7ef=_0x570e4a;if(_0x10f7ef['length']){for(let _0x490454=0x8f*-0x2c+-0x1f06+0x379a;_0x490454<_0x10f7ef['length'];_0x490454++)this['setParamet'+'er'](_0x10f7ef[_0x490454]);return;}_0x570e4a=_0x10f7ef['name'],_0x223499=_0x10f7ef['value'];}this['_setParame'+'terSimple'](_0x570e4a,_0x223499);}['deletePara'+'meter'](_0x1e3fe6){this['parameters'][_0x1e3fe6]&&delete this['parameters'][_0x1e3fe6];}['setParamet'+'ers'](_0x2d6821,_0x584db7){const _0x18234b=this['parameters'];_0x584db7===void(-0x1*-0x1ef9+0x26b*0x8+-0x493*0xb)&&(_0x584db7=_0x18234b);for(const _0x2f5160 in _0x584db7){const _0x49f609=_0x18234b[_0x2f5160];_0x49f609&&(_0x49f609['scopeId']||(_0x49f609['scopeId']=_0x2d6821['scope']['resolve'](_0x2f5160)),_0x49f609['scopeId']['setValue'](_0x49f609['data']));}}['setDefine'](_0x1f89a0,_0x587ac1){let _0x247638=!(0x73c+0x144b+-0x1b86);const {defines:_0x461dc0}=this;_0x587ac1!==void(-0xd7*-0x1+-0xf87+0x10*0xeb)&&_0x587ac1!==!(0x1*0x1924+0x1*-0xf3f+-0x9e4)?(_0x247638=!_0x461dc0['has'](_0x1f89a0)||_0x461dc0['get'](_0x1f89a0)!==_0x587ac1,_0x461dc0['set'](_0x1f89a0,_0x587ac1)):(_0x247638=_0x461dc0['has'](_0x1f89a0),_0x461dc0['delete'](_0x1f89a0)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x247638);}['getDefine'](_0x2adef7){return this['defines']['has'](_0x2adef7);}['destroy'](){this['variants']['clear']();for(let _0x56f2a5=-0x6b8*-0x1+-0x15*0x12+-0x53e;_0x56f2a5<this['meshInstan'+'ces']['length'];_0x56f2a5++){const _0x45821c=this['meshInstan'+'ces'][_0x56f2a5];if(_0x45821c['clearShade'+'rs'](),_0x45821c['_material']=null,_0x45821c['mesh']){const _0x429211=al(_0x45821c['mesh']['device']);this!==_0x429211&&(_0x45821c['material']=_0x429211);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x243*0x1+0x375*0x7+-0x3*0x8d2;}['addMeshIns'+'tanceRef'](_0x51ca79){this['meshInstan'+'ces']['push'](_0x51ca79);}['removeMesh'+'InstanceRe'+'f'](_0x4abe97){const _0x227304=this['meshInstan'+'ces'],_0x32deb9=_0x227304['indexOf'](_0x4abe97);_0x32deb9!==-(0x1a1f+0xcdb*0x3+-0x40af)&&_0x227304['splice'](_0x32deb9,-0x20ee+-0x5f9+0x26e8);}}class As{static['update'](_0x50fd78,_0x3ea5a3,_0x42c5d0,_0x3428e0,_0x2d5f03,_0x34d0b5,_0x4159ef){As['updateShar'+'edOptions'](_0x50fd78,_0x3ea5a3,_0x42c5d0,_0x2d5f03,_0x34d0b5),As['updateMate'+'rialOption'+'s'](_0x50fd78,_0x3ea5a3),As['updateEnvO'+'ptions'](_0x50fd78,_0x3ea5a3,_0x42c5d0,_0x3428e0),As['updateLigh'+'tingOption'+'s'](_0x50fd78,_0x3ea5a3,_0x2d5f03,_0x4159ef);}static['updateShar'+'edOptions'](_0x572492,_0x3e4b0d,_0x16afb9,_0x8f2e75,_0x4310b8){_0x572492['chunks']=_0x3e4b0d['chunks'],_0x572492['pass']=_0x4310b8,_0x572492['alphaTest']=_0x3e4b0d['alphaTest']>0x1cef+0x41*0x1f+-0x24ce,_0x572492['blendType']=_0x3e4b0d['blendType'],_0x572492['screenSpac'+'e']=_0x8f2e75&&(_0x8f2e75&Cp)!==0x3*0x7e6+-0x17*0x163+-0x833*-0x1,_0x572492['skin']=_0x8f2e75&&(_0x8f2e75&Wc)!==-0x6fc+0x4*0x30d+-0x2*0x29c,_0x572492['useInstanc'+'ing']=_0x8f2e75&&(_0x8f2e75&$c)!==0x18de+0x16c3*-0x1+-0x21b,_0x572492['useMorphPo'+'sition']=_0x8f2e75&&(_0x8f2e75&qc)!==-0x29f*0x7+-0x4*-0x383+-0x16f*-0x3,_0x572492['useMorphNo'+'rmal']=_0x8f2e75&&(_0x8f2e75&Xc)!==0x2119+0xdfd*0x1+-0x2f16,_0x572492['useMorphTe'+'xtureBased'+'Int']=_0x8f2e75&&(_0x8f2e75&jc)!==-0x2*-0x12bf+-0xa0*-0x3e+-0x4c3e,_0x572492['hasTangent'+'s']=_0x8f2e75&&(_0x8f2e75&Mp)!==-0x23e3+-0x1c18*-0x1+-0xf*-0x85,_0x572492['nineSliced'+'Mode']=_0x3e4b0d['nineSliced'+'Mode']||Ti,_0x3e4b0d['useLightin'+'g']&&_0x16afb9['clusteredL'+'ightingEna'+'bled']?(_0x572492['clusteredL'+'ightingEna'+'bled']=!(0x1*0x24cd+-0x6*-0x18a+-0x2e09),_0x572492['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x16afb9['lighting']['cookiesEna'+'bled'],_0x572492['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x16afb9['lighting']['shadowsEna'+'bled'],_0x572492['clusteredL'+'ightingSha'+'dowType']=_0x16afb9['lighting']['shadowType'],_0x572492['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x16afb9['lighting']['areaLights'+'Enabled']):(_0x572492['clusteredL'+'ightingEna'+'bled']=!(-0x967*0x3+-0x1934+0x356a),_0x572492['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x11*0x1db+0x1*-0x1391+0x265*-0x5),_0x572492['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x4*-0x955+-0x3*0x283+0x4f7*-0x6),_0x572492['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1*0x114b+0x2d*0x1d+0x1*-0x1663));}static['updateMate'+'rialOption'+'s'](_0x3a91cd,_0x5cfa64){_0x3a91cd['separateAm'+'bient']=!(-0x1f2a+0x213a+0x1f*-0x11),_0x3a91cd['customFrag'+'mentShader']=null,_0x3a91cd['pixelSnap']=_0x5cfa64['pixelSnap'],_0x3a91cd['ambientSH']=_0x5cfa64['ambientSH'],_0x3a91cd['twoSidedLi'+'ghting']=_0x5cfa64['twoSidedLi'+'ghting'],_0x3a91cd['occludeDir'+'ect']=_0x5cfa64['occludeDir'+'ect'],_0x3a91cd['occludeSpe'+'cular']=_0x5cfa64['occludeSpe'+'cular'],_0x3a91cd['occludeSpe'+'cularFloat']=_0x5cfa64['occludeSpe'+'cularInten'+'sity']!==-0x3a0+-0x910+0xcb1,_0x3a91cd['useMsdf']=!(-0x1cdd*0x1+-0xab0+0x1*0x278e),_0x3a91cd['msdfTextAt'+'tribute']=!(-0x2235+0x15*0xfc+0xd8a),_0x3a91cd['alphaToCov'+'erage']=_0x5cfa64['alphaToCov'+'erage'],_0x3a91cd['opacityFad'+'esSpecular']=_0x5cfa64['opacityFad'+'esSpecular'],_0x3a91cd['opacityDit'+'her']=_0x5cfa64['opacityDit'+'her'],_0x3a91cd['cubeMapPro'+'jection']=u0,_0x3a91cd['useSpecula'+'r']=_0x5cfa64['hasSpecula'+'r'],_0x3a91cd['useSpecula'+'rityFactor']=_0x5cfa64['hasSpecula'+'rityFactor'],_0x3a91cd['enableGGXS'+'pecular']=_0x5cfa64['ggxSpecula'+'r'],_0x3a91cd['fresnelMod'+'el']=_0x5cfa64['fresnelMod'+'el'],_0x3a91cd['useRefract'+'ion']=_0x5cfa64['hasRefract'+'ion'],_0x3a91cd['useClearCo'+'at']=_0x5cfa64['hasClearCo'+'at'],_0x3a91cd['useSheen']=_0x5cfa64['hasSheen'],_0x3a91cd['useIridesc'+'ence']=_0x5cfa64['hasIrrides'+'cence'],_0x3a91cd['useMetalne'+'ss']=_0x5cfa64['hasMetalne'+'ss'],_0x3a91cd['useDynamic'+'Refraction']=_0x5cfa64['dynamicRef'+'raction'],_0x3a91cd['dispersion']=_0x5cfa64['dispersion']>0x13*0x3d+-0x1*-0x2515+-0x299c,_0x3a91cd['vertexColo'+'rs']=!(0x2*0x5b3+0x29*0xca+-0x2bbf),_0x3a91cd['lightMapEn'+'abled']=_0x5cfa64['hasLightin'+'g'],_0x3a91cd['dirLightMa'+'pEnabled']=_0x5cfa64['dirLightMa'+'p'],_0x3a91cd['useHeights']=_0x5cfa64['hasHeights'],_0x3a91cd['useNormals']=_0x5cfa64['hasNormals'],_0x3a91cd['useClearCo'+'atNormals']=_0x5cfa64['hasClearCo'+'atNormals'],_0x3a91cd['useAo']=_0x5cfa64['hasAo'],_0x3a91cd['diffuseMap'+'Enabled']=_0x5cfa64['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x198711,_0x44459f,_0x271583,_0x23aa99){_0x198711['fog']=_0x44459f['useFog']?_0x23aa99['fog']:Fa,_0x198711['gamma']=_0x23aa99['shaderOutp'+'utGamma'],_0x198711['toneMap']=_0x44459f['useTonemap']?_0x23aa99['toneMappin'+'g']:f0,_0x44459f['useSkybox']&&_0x271583['envAtlas']&&_0x271583['skybox']?(_0x198711['reflection'+'Source']='envAtlasHQ',_0x198711['reflection'+'Encoding']=_0x271583['envAtlas']['encoding'],_0x198711['reflection'+'CubemapEnc'+'oding']=_0x271583['skybox']['encoding']):_0x44459f['useSkybox']&&_0x271583['envAtlas']?(_0x198711['reflection'+'Source']='envAtlas',_0x198711['reflection'+'Encoding']=_0x271583['envAtlas']['encoding']):_0x44459f['useSkybox']&&_0x271583['skybox']?(_0x198711['reflection'+'Source']='cubeMap',_0x198711['reflection'+'Encoding']=_0x271583['skybox']['encoding']):(_0x198711['reflection'+'Source']=null,_0x198711['reflection'+'Encoding']=null),_0x44459f['ambientSH']?(_0x198711['ambientSou'+'rce']='ambientSH',_0x198711['ambientEnc'+'oding']=null):_0x198711['reflection'+'Source']&&_0x271583['envAtlas']?(_0x198711['ambientSou'+'rce']='envAtlas',_0x198711['ambientEnc'+'oding']=_0x271583['envAtlas']['encoding']):(_0x198711['ambientSou'+'rce']='constant',_0x198711['ambientEnc'+'oding']=null);const _0x5efb0c=!!_0x198711['reflection'+'Source'];_0x198711['skyboxInte'+'nsity']=_0x5efb0c,_0x198711['useCubeMap'+'Rotation']=_0x5efb0c&&_0x271583['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x387e37,_0x107ac6,_0x39951e,_0x8364c3){if(_0x387e37['lightMapWi'+'thoutAmbie'+'nt']=!(0xb6+-0x228+0x173),_0x107ac6['useLightin'+'g']){const _0x50168f=[],_0x37e951=_0x39951e?_0x39951e>>0x1d*0x85+0x2069+-0x2*0x17b5:hs;_0x387e37['lightMaskD'+'ynamic']=!!(_0x37e951&hs),_0x387e37['lightMapWi'+'thoutAmbie'+'nt']=!(-0x2033+-0x1*0x21cc+0x4200),_0x8364c3&&(As['collectLig'+'hts'](oe,_0x8364c3[oe],_0x50168f,_0x37e951),As['collectLig'+'hts'](Pe,_0x8364c3[Pe],_0x50168f,_0x37e951),As['collectLig'+'hts'](Re,_0x8364c3[Re],_0x50168f,_0x37e951)),_0x387e37['lights']=_0x50168f;}else _0x387e37['lights']=[];(_0x387e37['lights']['length']===0x2417*0x1+0x3fd+-0x3*0xd5c||(_0x39951e&Ep)!==0x1*0x1727+0x115*0x15+-0x4*0xb78)&&(_0x387e37['noShadow']=!(-0x56*-0x8+-0x1a73*-0x1+-0x1d23));}static['collectLig'+'hts'](_0x194cc4,_0x3bbbec,_0x144576,_0x341bd3){for(let _0x1193b7=-0x4d*-0x69+0x75a+-0x26ef*0x1;_0x1193b7<_0x3bbbec['length'];_0x1193b7++){const _0x56eaa5=_0x3bbbec[_0x1193b7];_0x56eaa5['enabled']&&_0x56eaa5['mask']&_0x341bd3&&_0x144576['push'](_0x56eaa5);}}}const c_=(_0x51a94e,_0xe1b29a)=>{if(_0x51a94e['length']!==_0xe1b29a['length'])return!(-0x118*0x4+-0x1e1a*-0x1+-0x1*0x19b9);for(let _0x26b184=-0xb8d*-0x1+-0x7bb*-0x5+0x4*-0xc8d;_0x26b184<_0x51a94e['length'];++_0x26b184)if(_0x51a94e[_0x26b184]!==_0xe1b29a[_0x26b184])return!(0x14a+-0x4fd+-0xed*-0x4);return!(-0xe*-0xbb+0x20fa+0xe*-0x316);},YC=_0x40f5c1=>_0x40f5c1['r']!==0x1997+-0x5*-0x277+0xf*-0x287||_0x40f5c1['g']!==-0xbaa+0x2*-0x130d+0x1*0x31c5||_0x40f5c1['b']!==-0x1*-0x159a+-0x1fc5+0xa2c,KC=_0x231fe0=>_0x231fe0['r']!==0x6*0xad+0x11a5+0xb*-0x1f9||_0x231fe0['g']!==0x1*-0x1502+0x19b1+-0x4af||_0x231fe0['b']!==0x3*-0x4d9+-0xdc7+-0x7d*-0x3a;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x186334,_0x3b72a7,_0x26d87d,_0x39f96a,_0x409b0e,_0x53139c){this['_updateSha'+'redOptions'](_0x186334,_0x3b72a7,_0x26d87d,_0x39f96a,_0x409b0e),this['_updateMin'+'Options'](_0x186334,_0x26d87d,_0x409b0e),this['_updateUVO'+'ptions'](_0x186334,_0x26d87d,_0x39f96a,!(-0x1b9c+0xfd9+0x1*0xbc3));}['updateRef'](_0x4e6c1a,_0x4cbab0,_0x25d619,_0x2f3e65,_0x9503e6,_0x2a7d21,_0x179498){this['_updateSha'+'redOptions'](_0x4e6c1a,_0x4cbab0,_0x2f3e65,_0x9503e6,_0x2a7d21),this['_updateEnv'+'Options'](_0x4e6c1a,_0x2f3e65,_0x4cbab0,_0x25d619),this['_updateMat'+'erialOptio'+'ns'](_0x4e6c1a,_0x2f3e65),_0x4e6c1a['litOptions']['hasTangent'+'s']=_0x9503e6&&(_0x9503e6&Mp)!==0x1*0x2653+0x2*0x977+-0x3941,this['_updateLig'+'htOptions'](_0x4e6c1a,_0x4cbab0,_0x2f3e65,_0x9503e6,_0x179498),this['_updateUVO'+'ptions'](_0x4e6c1a,_0x2f3e65,_0x9503e6,!(-0x169c+-0x91*-0x39+0x4*-0x26b),_0x25d619);}['_updateSha'+'redOptions'](_0x11aeb9,_0xe1ba2c,_0x2c2c30,_0x476d0e,_0x25cada){_0x11aeb9['forceUv1']=_0x2c2c30['forceUv1'],_0x2c2c30['userAttrib'+'utes']&&(_0x11aeb9['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x2c2c30['userAttrib'+'utes']['entries']())),_0x11aeb9['litOptions']['chunks']=_0x2c2c30['chunks']||{},_0x11aeb9['litOptions']['pass']=_0x25cada,_0x11aeb9['litOptions']['alphaTest']=_0x2c2c30['alphaTest']>-0x193e+0x66*0x10+0x12de,_0x11aeb9['litOptions']['blendType']=_0x2c2c30['blendType'],_0x11aeb9['litOptions']['screenSpac'+'e']=_0x476d0e&&(_0x476d0e&Cp)!==-0x22e3+-0x5fa*-0x1+0x9a3*0x3,_0x11aeb9['litOptions']['skin']=_0x476d0e&&(_0x476d0e&Wc)!==-0x15bf+0x341+-0x127e*-0x1,_0x11aeb9['litOptions']['batch']=_0x476d0e&&(_0x476d0e&Ou)!==-0x1*0xbbc+0xb*0x251+-0xdbf,_0x11aeb9['litOptions']['useInstanc'+'ing']=_0x476d0e&&(_0x476d0e&$c)!==0xde0+0xe29*-0x1+0x49,_0x11aeb9['litOptions']['useMorphPo'+'sition']=_0x476d0e&&(_0x476d0e&qc)!==-0x1869+0x4*-0x16d+0x1e1d,_0x11aeb9['litOptions']['useMorphNo'+'rmal']=_0x476d0e&&(_0x476d0e&Xc)!==-0xb*0x137+0x20ef+-0x1392,_0x11aeb9['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x476d0e&&(_0x476d0e&jc)!==0x98f*-0x1+0x1c5b+0x4b3*-0x4,_0x11aeb9['litOptions']['nineSliced'+'Mode']=_0x2c2c30['nineSliced'+'Mode']||0xfa6+0xe5c+-0x1e02,_0xe1ba2c['clusteredL'+'ightingEna'+'bled']&&_0x2c2c30['useLightin'+'g']?(_0x11aeb9['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x15a9+-0x1e7c+0x8d3),_0x11aeb9['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0xe1ba2c['lighting']['cookiesEna'+'bled'],_0x11aeb9['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0xe1ba2c['lighting']['shadowsEna'+'bled'],_0x11aeb9['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0xe1ba2c['lighting']['shadowType'],_0x11aeb9['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0xe1ba2c['lighting']['areaLights'+'Enabled']):(_0x11aeb9['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1faa+0x1*-0xdb2+0x2d5d),_0x11aeb9['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x5d4+0x1*0x7f5+-0x2a*0x54),_0x11aeb9['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x2*-0x6a1+0x24ec+-0x17a9),_0x11aeb9['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x61b+0x1951+0x21*-0x95));}['_updateUVO'+'ptions'](_0xd33ffd,_0x397c56,_0x2aadae,_0x168996,_0x4c302a){let _0x179749=!(0x37*-0x29+-0x37f*-0x4+-0x52c),_0x4a9c51=!(0x1971+0x4*-0x229+-0x2*0x866),_0x3d4b48=!(-0x561+-0x1*0x1d5+0x737);_0x2aadae&&(_0x179749=(_0x2aadae&m0)!==0x1*-0x5ae+0x9ee+0x40*-0x11,_0x4a9c51=(_0x2aadae&_0)!==0x1067+-0x20de+-0x5*-0x34b,_0x3d4b48=(_0x2aadae&g0)!==0x1c8*0x7+-0x5a7*0x2+-0x12a),_0xd33ffd['litOptions']['vertexColo'+'rs']=!(0x1*-0x232a+0x3*0x22d+0x3*0x98c),this['_mapXForms']=[];const _0x12d9e5={};for(const _0x31b615 in fa)this['_updateTex'+'Options'](_0xd33ffd,_0x397c56,_0x31b615,_0x179749,_0x4a9c51,_0x3d4b48,_0x168996,_0x12d9e5);this['_mapXForms']=null,_0xd33ffd['litOptions']['ssao']=_0x4c302a==null?void(0x17*-0x65+0x153c+-0xb*0x11b):_0x4c302a['ssaoEnable'+'d'],_0xd33ffd['useAO']=_0xd33ffd['litOptions']['ssao'],_0xd33ffd['litOptions']['lightMapEn'+'abled']=_0xd33ffd['lightMap'],_0xd33ffd['litOptions']['dirLightMa'+'pEnabled']=_0xd33ffd['dirLightMa'+'p'],_0xd33ffd['litOptions']['useHeights']=_0xd33ffd['heightMap'],_0xd33ffd['litOptions']['useNormals']=_0xd33ffd['normalMap'],_0xd33ffd['litOptions']['useClearCo'+'atNormals']=_0xd33ffd['clearCoatN'+'ormalMap'],_0xd33ffd['litOptions']['useAo']=_0xd33ffd['aoMap']||_0xd33ffd['aoVertexCo'+'lor']||_0xd33ffd['litOptions']['ssao'],_0xd33ffd['litOptions']['diffuseMap'+'Enabled']=_0xd33ffd['diffuseMap'];}['_updateTex'+'Options'](_0x54a7f3,_0x24348b,_0x4db0ae,_0x17a73e,_0x5be586,_0x2eab77,_0x407416,_0xa5501f){const _0x10401a=_0x4db0ae==='opacity';if(!_0x407416||_0x10401a){const _0xe2443c=_0x4db0ae+'Map',_0xbe7369=_0x4db0ae+('VertexColo'+'r'),_0x37d947=_0x4db0ae+('VertexColo'+'rChannel'),_0x5cb3ac=_0xe2443c+'Channel',_0x208b6e=_0xe2443c+'Transform',_0x13a8fb=_0xe2443c+'Uv',_0x1be63a=_0xe2443c+'Identifier';if(_0x4db0ae!=='light'&&(_0x54a7f3[_0xe2443c]=!(-0xa*0x88+-0x8*-0x4bd+-0x2097),_0x54a7f3[_0x1be63a]=void(-0x5*0x54e+0x352+0x1734),_0x54a7f3[_0x5cb3ac]='',_0x54a7f3[_0x208b6e]=0x2676+0x1808+-0x3e7e,_0x54a7f3[_0x13a8fb]=0x1*-0xd5a+0x1b7+0xba3),_0x54a7f3[_0xbe7369]=!(-0xc83+0x2*0x23+0xc3e),_0x54a7f3[_0x37d947]='',_0x10401a&&_0x24348b['blendType']===is&&_0x24348b['alphaTest']===0x917+-0x1*-0x1fdb+0x6*-0x6d3&&!_0x24348b['alphaToCov'+'erage']&&_0x24348b['opacityDit'+'her']===Rs)return;if(_0x4db0ae!=='height'&&_0x24348b[_0xbe7369]&&_0x2eab77&&(_0x54a7f3[_0xbe7369]=_0x24348b[_0xbe7369],_0x54a7f3[_0x37d947]=_0x24348b[_0x37d947],_0x54a7f3['litOptions']['vertexColo'+'rs']=!(0x37*0x10+-0x228b+0x1f1b)),_0x24348b[_0xe2443c]){let _0x3c151e=!(-0x1bac+-0x41d+-0x67*-0x4f);if(_0x24348b[_0x13a8fb]===0x2*0x646+-0x31*0x44+0xa*0xc&&!_0x17a73e&&(_0x3c151e=!(0x293+-0x1*-0x1ac8+-0x1d5a)),_0x24348b[_0x13a8fb]===-0x11*-0x1b9+0x1*0x1ec7+0xc03*-0x5&&!_0x5be586&&(_0x3c151e=!(0x2b*-0x67+0x887+-0x15*-0x6b)),_0x3c151e){const _0x16e8d1=_0x24348b[_0xe2443c]['id'];let _0x813961=_0xa5501f[_0x16e8d1];_0x813961===void(-0x2*-0xd1f+0x14d7+-0x2f15)&&(_0xa5501f[_0x16e8d1]=_0x4db0ae,_0x813961=_0x4db0ae),_0x54a7f3[_0xe2443c]=!!_0x24348b[_0xe2443c],_0x54a7f3[_0x1be63a]=_0x813961,_0x54a7f3[_0x208b6e]=this['_getMapTra'+'nsformID'](_0x24348b['getUniform'](_0x208b6e),_0x24348b[_0x13a8fb]),_0x54a7f3[_0x5cb3ac]=_0x24348b[_0x5cb3ac],_0x54a7f3[_0x13a8fb]=_0x24348b[_0x13a8fb];}}}}['_updateMin'+'Options'](_0x5bca2d,_0xf9ab1a,_0xc24eab){const _0x3e88ea=_0xc24eab===il;_0x5bca2d['litOptions']['opacitySha'+'dowDither']=_0x3e88ea?_0xf9ab1a['opacityDit'+'her']:_0xf9ab1a['opacitySha'+'dowDither'],_0x5bca2d['litOptions']['linearDept'+'h']=_0x3e88ea,_0x5bca2d['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x5d7d3f,_0x14cf5e){var _0x560982,_0x5ed76b,_0xa1aae5,_0x566532;const _0x67d944=!!(_0x14cf5e['useMetalne'+'ss']||_0x14cf5e['specularMa'+'p']||_0x14cf5e['sphereMap']||_0x14cf5e['cubeMap']||KC(_0x14cf5e['specular'])||_0x14cf5e['specularit'+'yFactor']>0x1dd7*-0x1+0x1*-0x168a+0x3461&&_0x14cf5e['useMetalne'+'ss']||_0x14cf5e['enableGGXS'+'pecular']||_0x14cf5e['clearCoat']>0x17e8+-0x4*0x52c+-0x338),_0x202d40=!_0x14cf5e['useMetalne'+'ss']||_0x14cf5e['useMetalne'+'ssSpecular'+'Color'],_0x5aee93=_0x67d944&&(_0x14cf5e['specularTi'+'nt']||!_0x14cf5e['specularMa'+'p']&&!_0x14cf5e['specularVe'+'rtexColor'])&&YC(_0x14cf5e['specular']),_0x1e34c6=_0x67d944&&_0x14cf5e['useMetalne'+'ssSpecular'+'Color']&&(_0x14cf5e['specularit'+'yFactorTin'+'t']||_0x14cf5e['specularit'+'yFactor']<-0x8e*-0x2e+-0x9*-0x13b+-0x2496&&!_0x14cf5e['specularit'+'yFactorMap']),_0x10e7ad=_0x14cf5e['normalMap']?_0x14cf5e['normalMap']['format']===$o||_0x14cf5e['normalMap']['type']===op:!(0x25a5+-0x25e*0xf+-0x222),_0x4289e2=(_0xe0a4b3,_0x7e0213)=>Math['abs'](_0xe0a4b3-_0x7e0213)<-0x1306+0x9a2+0x964+0.0001;_0x5d7d3f['specularTi'+'nt']=_0x5aee93?-0x289+-0x2571+0x27fc:0x1df5*0x1+0x1571+-0x3366,_0x5d7d3f['specularit'+'yFactorTin'+'t']=_0x1e34c6?0xb*0x87+0x2534*0x1+-0x8*0x560:0x1517*0x1+-0x10cd+-0x44a,_0x5d7d3f['metalnessT'+'int']=_0x14cf5e['useMetalne'+'ss']&&_0x14cf5e['metalness']<-0x2329*0x1+0x40*-0x72+-0x119*-0x3a?0x82*-0x31+0x2702*0x1+-0xe1f:0x2076+0x7fe*-0x1+-0x1878,_0x5d7d3f['glossTint']=-0x20e3+-0x35*0x6b+0x370b,_0x5d7d3f['diffuseEnc'+'oding']=(_0x560982=_0x14cf5e['diffuseMap'])==null?void(0x1*-0xa34+0x1177+-0x743*0x1):_0x560982['encoding'],_0x5d7d3f['diffuseDet'+'ailEncodin'+'g']=(_0x5ed76b=_0x14cf5e['diffuseDet'+'ailMap'])==null?void(-0x169f+0x14ed*-0x1+0x2b8c):_0x5ed76b['encoding'],_0x5d7d3f['emissiveEn'+'coding']=(_0xa1aae5=_0x14cf5e['emissiveMa'+'p'])==null?void(0x1d44+-0x397+-0x139*0x15):_0xa1aae5['encoding'],_0x5d7d3f['lightMapEn'+'coding']=(_0x566532=_0x14cf5e['lightMap'])==null?void(-0x3*0x62b+-0x1537+0x52*0x7c):_0x566532['encoding'],_0x5d7d3f['packedNorm'+'al']=_0x10e7ad,_0x5d7d3f['refraction'+'Tint']=_0x4289e2(_0x14cf5e['refraction'],-0x2e8+-0x247b+0x2764)?-0x4*0x107+-0xa9a+0xeb6:-0x2229+0x569*0x3+-0x11ef*-0x1,_0x5d7d3f['refraction'+'IndexTint']=_0x4289e2(_0x14cf5e['refraction'+'Index'],(0x8f9*0x2+-0x184d+0x65c)/(0x8cf+-0x3*-0x4d5+-0x174d+0.5))?-0x3bf+-0x4*-0x156+-0x199:0x1e45+-0x97e+-0x14c6*0x1,_0x5d7d3f['thicknessT'+'int']=_0x14cf5e['useDynamic'+'Refraction']&&_0x14cf5e['thickness']!==0x1877+-0x1*-0x1028+-0x289e?0x5d4+-0x1d9*0x1+-0x3fa:0x2149+-0x9ca+-0x177f,_0x5d7d3f['specularEn'+'coding']=_0x14cf5e['specularEn'+'coding']||'linear',_0x5d7d3f['sheenEncod'+'ing']=_0x14cf5e['sheenEncod'+'ing']||'linear',_0x5d7d3f['aoMapUv']=_0x14cf5e['aoUvSet'],_0x5d7d3f['aoDetail']=!!_0x14cf5e['aoMap'],_0x5d7d3f['diffuseDet'+'ail']=!!_0x14cf5e['diffuseMap'],_0x5d7d3f['normalDeta'+'il']=!!_0x14cf5e['normalMap'],_0x5d7d3f['diffuseDet'+'ailMode']=_0x14cf5e['diffuseDet'+'ailMode'],_0x5d7d3f['aoDetailMo'+'de']=_0x14cf5e['aoDetailMo'+'de'],_0x5d7d3f['clearCoatT'+'int']=_0x4289e2(_0x14cf5e['clearCoat'],0x1*0x1b09+-0x8c*0x44+-0x2*-0x514)?0x377+0x421*0x4+0xa5*-0x1f:0x1b99+-0x112b+0x11*-0x9d,_0x5d7d3f['clearCoatG'+'loss']=!!_0x14cf5e['clearCoatG'+'loss'],_0x5d7d3f['clearCoatG'+'lossTint']=_0x14cf5e['clearCoatG'+'loss']!==-0x1*-0x1ba7+-0x21f*0x11+0x869?0x17ee+0x7e1*-0x1+-0x4f*0x34:-0x1*-0x2e3+0x127+0x2*-0x205,_0x5d7d3f['iorTint']=_0x4289e2(_0x14cf5e['refraction'+'Index'],(-0x1*-0xb55+-0x1d*-0x105+-0x227*0x13)/(0x8e*-0x35+0xa70+-0x1*-0x12f7+0.5))?-0x82c+0x3d3+-0x35*-0x15:0x35*0xa4+-0x119*0xd+-0x9d7*0x2,_0x5d7d3f['iridescenc'+'eTint']=_0x14cf5e['iridescenc'+'e']!==0x223e+-0x1*0x730+-0x1b0d?0x1979+0x326*0x7+-0x2f82:-0x44*0x8b+0xd22+-0x5*-0x4c2,_0x5d7d3f['glossInver'+'t']=_0x14cf5e['glossInver'+'t'],_0x5d7d3f['sheenGloss'+'Invert']=_0x14cf5e['sheenGloss'+'Invert'],_0x5d7d3f['clearCoatG'+'lossInvert']=_0x14cf5e['clearCoatG'+'lossInvert'],_0x5d7d3f['useSpecula'+'rColor']=_0x202d40,_0x5d7d3f['litOptions']['separateAm'+'bient']=!(0x204*0x5+0x4a*-0x5f+0x1163),_0x5d7d3f['litOptions']['customFrag'+'mentShader']=_0x14cf5e['customFrag'+'mentShader'],_0x5d7d3f['litOptions']['pixelSnap']=_0x14cf5e['pixelSnap'],_0x5d7d3f['litOptions']['ambientSH']=!!_0x14cf5e['ambientSH'],_0x5d7d3f['litOptions']['twoSidedLi'+'ghting']=_0x14cf5e['twoSidedLi'+'ghting'],_0x5d7d3f['litOptions']['occludeSpe'+'cular']=_0x14cf5e['occludeSpe'+'cular'],_0x5d7d3f['litOptions']['occludeSpe'+'cularFloat']=_0x14cf5e['occludeSpe'+'cularInten'+'sity']!==0x969*-0x3+0x8c5+0x1377*0x1,_0x5d7d3f['litOptions']['useMsdf']=!!_0x14cf5e['msdfMap'],_0x5d7d3f['litOptions']['msdfTextAt'+'tribute']=!!_0x14cf5e['msdfTextAt'+'tribute'],_0x5d7d3f['litOptions']['alphaToCov'+'erage']=_0x14cf5e['alphaToCov'+'erage'],_0x5d7d3f['litOptions']['opacityFad'+'esSpecular']=_0x14cf5e['opacityFad'+'esSpecular'],_0x5d7d3f['litOptions']['opacityDit'+'her']=_0x14cf5e['opacityDit'+'her'],_0x5d7d3f['litOptions']['cubeMapPro'+'jection']=_0x14cf5e['cubeMapPro'+'jection'],_0x5d7d3f['litOptions']['occludeDir'+'ect']=_0x14cf5e['occludeDir'+'ect'],_0x5d7d3f['litOptions']['useSpecula'+'r']=_0x67d944,_0x5d7d3f['litOptions']['useSpecula'+'rityFactor']=(_0x1e34c6||!!_0x14cf5e['specularit'+'yFactorMap'])&&_0x14cf5e['useMetalne'+'ssSpecular'+'Color'],_0x5d7d3f['litOptions']['enableGGXS'+'pecular']=_0x14cf5e['enableGGXS'+'pecular'],_0x5d7d3f['litOptions']['fresnelMod'+'el']=_0x14cf5e['fresnelMod'+'el'],_0x5d7d3f['litOptions']['useRefract'+'ion']=(_0x14cf5e['refraction']||!!_0x14cf5e['refraction'+'Map'])&&(_0x14cf5e['useDynamic'+'Refraction']||!!_0x5d7d3f['litOptions']['reflection'+'Source']),_0x5d7d3f['litOptions']['useClearCo'+'at']=!!_0x14cf5e['clearCoat'],_0x5d7d3f['litOptions']['useSheen']=_0x14cf5e['useSheen'],_0x5d7d3f['litOptions']['useIridesc'+'ence']=_0x14cf5e['useIridesc'+'ence']&&_0x14cf5e['iridescenc'+'e']!==-0x9e2+0xe60+-0x47e*0x1,_0x5d7d3f['litOptions']['useMetalne'+'ss']=_0x14cf5e['useMetalne'+'ss'],_0x5d7d3f['litOptions']['useDynamic'+'Refraction']=_0x14cf5e['useDynamic'+'Refraction'],_0x5d7d3f['litOptions']['dispersion']=_0x14cf5e['dispersion']>-0x21ee+-0x1ed2+0x8*0x818;}['_updateEnv'+'Options'](_0x55b49d,_0x32f263,_0x462c72,_0x1fa05b){_0x55b49d['litOptions']['fog']=_0x32f263['useFog']?_0x1fa05b['fog']:Fa,_0x55b49d['litOptions']['gamma']=_0x1fa05b['shaderOutp'+'utGamma'],_0x55b49d['litOptions']['toneMap']=_0x32f263['useTonemap']?_0x1fa05b['toneMappin'+'g']:f0;let _0x4af1d9=!(-0xff3+0x6c*-0x1f+0x1d08);if(_0x32f263['envAtlas']&&_0x32f263['cubeMap']?(_0x55b49d['litOptions']['reflection'+'Source']='envAtlasHQ',_0x55b49d['litOptions']['reflection'+'Encoding']=_0x32f263['envAtlas']['encoding'],_0x55b49d['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x32f263['cubeMap']['encoding']):_0x32f263['envAtlas']?(_0x55b49d['litOptions']['reflection'+'Source']='envAtlas',_0x55b49d['litOptions']['reflection'+'Encoding']=_0x32f263['envAtlas']['encoding']):_0x32f263['cubeMap']?(_0x55b49d['litOptions']['reflection'+'Source']='cubeMap',_0x55b49d['litOptions']['reflection'+'Encoding']=_0x32f263['cubeMap']['encoding']):_0x32f263['sphereMap']?(_0x55b49d['litOptions']['reflection'+'Source']='sphereMap',_0x55b49d['litOptions']['reflection'+'Encoding']=_0x32f263['sphereMap']['encoding']):_0x32f263['useSkybox']&&_0x462c72['envAtlas']&&_0x462c72['skybox']?(_0x55b49d['litOptions']['reflection'+'Source']='envAtlasHQ',_0x55b49d['litOptions']['reflection'+'Encoding']=_0x462c72['envAtlas']['encoding'],_0x55b49d['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x462c72['skybox']['encoding'],_0x4af1d9=!(-0x57b+0xfa6+0xa2b*-0x1)):_0x32f263['useSkybox']&&_0x462c72['envAtlas']?(_0x55b49d['litOptions']['reflection'+'Source']='envAtlas',_0x55b49d['litOptions']['reflection'+'Encoding']=_0x462c72['envAtlas']['encoding'],_0x4af1d9=!(-0x816+-0x819+0x102f)):_0x32f263['useSkybox']&&_0x462c72['skybox']?(_0x55b49d['litOptions']['reflection'+'Source']='cubeMap',_0x55b49d['litOptions']['reflection'+'Encoding']=_0x462c72['skybox']['encoding'],_0x4af1d9=!(-0x1*0x22d9+-0x5e*0x35+-0x1*-0x364f)):(_0x55b49d['litOptions']['reflection'+'Source']=null,_0x55b49d['litOptions']['reflection'+'Encoding']=null),_0x32f263['ambientSH'])_0x55b49d['litOptions']['ambientSou'+'rce']='ambientSH',_0x55b49d['litOptions']['ambientEnc'+'oding']=null;else{const _0xf22a4c=_0x32f263['envAtlas']||(_0x32f263['useSkybox']&&_0x462c72['envAtlas']?_0x462c72['envAtlas']:null);_0xf22a4c&&!_0x32f263['sphereMap']?(_0x55b49d['litOptions']['ambientSou'+'rce']='envAtlas',_0x55b49d['litOptions']['ambientEnc'+'oding']=_0xf22a4c['encoding']):(_0x55b49d['litOptions']['ambientSou'+'rce']='constant',_0x55b49d['litOptions']['ambientEnc'+'oding']=null);}_0x55b49d['litOptions']['skyboxInte'+'nsity']=_0x4af1d9,_0x55b49d['litOptions']['useCubeMap'+'Rotation']=_0x4af1d9&&_0x462c72['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x26d035,_0x49e2ed,_0x1c0223,_0x4a64e5,_0x2fded5){if(_0x26d035['lightMap']=!(0x1*0x1ca2+0x6*-0x205+-0x1083),_0x26d035['lightMapCh'+'annel']='',_0x26d035['lightMapUv']=-0x5bf*0x1+-0xe34+-0x13f3*-0x1,_0x26d035['lightMapTr'+'ansform']=-0x47*0x6b+-0x3*0x437+0x1*0x2a52,_0x26d035['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1147+0x1e8*-0x4+0x8*0x31d),_0x26d035['dirLightMa'+'p']=!(0x15a*0x3+0x1*-0x2437+0xb3*0x2e),_0x4a64e5&&(_0x26d035['litOptions']['noShadow']=(_0x4a64e5&Ep)!==-0x1c42+-0x1*0x35+0x3*0x97d,(_0x4a64e5&Fu)!==0x1ab+-0x205a+0x5*0x623&&(_0x26d035['lightMapEn'+'coding']=_0x49e2ed['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x26d035['lightMap']=!(-0x14ef*0x1+0x118+-0x13d7*-0x1),_0x26d035['lightMapCh'+'annel']='rgb',_0x26d035['lightMapUv']=0xf1+-0x5*-0x1fc+0x4*-0x2b7,_0x26d035['lightMapTr'+'ansform']=-0x515+-0x2*0xcee+-0x1ef1*-0x1,_0x26d035['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x1c0223['lightMap'],(_0x4a64e5&y0)!==0x1261+-0xa*-0x2bb+-0x2daf&&(_0x26d035['dirLightMa'+'p']=!(-0x1e8*0x10+-0x2*0x66d+0x2b5a)),(_0x4a64e5&x0)!==-0x171+-0x1cdf*0x1+-0x10*-0x1e5&&(_0x26d035['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x3df+0x6d7+-0xab5)))),_0x1c0223['useLightin'+'g']){const _0x4bad08=[],_0x4cfd45=_0x4a64e5?_0x4a64e5>>-0x1448+-0x5*-0x783+-0x1137:hs;_0x26d035['litOptions']['lightMaskD'+'ynamic']=!!(_0x4cfd45&hs),_0x2fded5&&(As['collectLig'+'hts'](oe,_0x2fded5[oe],_0x4bad08,_0x4cfd45),As['collectLig'+'hts'](Pe,_0x2fded5[Pe],_0x4bad08,_0x4cfd45),As['collectLig'+'hts'](Re,_0x2fded5[Re],_0x4bad08,_0x4cfd45)),_0x26d035['litOptions']['lights']=_0x4bad08;}else _0x26d035['litOptions']['lights']=[];_0x26d035['litOptions']['lights']['length']===-0x1827+-0x228b*-0x1+0x214*-0x5&&(_0x26d035['litOptions']['noShadow']=!(0x2*0x7+0xa90+-0x1*0xa9e));}['_getMapTra'+'nsformID'](_0x19d274,_0x5e0bc1){if(!_0x19d274)return 0xe11*0x2+-0x10e*-0x5+-0x2168;let _0x3ad677=this['_mapXForms'][_0x5e0bc1];_0x3ad677||(_0x3ad677=[],this['_mapXForms'][_0x5e0bc1]=_0x3ad677);for(let _0x43b656=-0x2*-0x1a8+0x5a2+0xa*-0xe5;_0x43b656<_0x3ad677['length'];_0x43b656++)if(c_(_0x3ad677[_0x43b656][-0x1fb4+0x1*0x1a93+-0xd*-0x65]['value'],_0x19d274[-0x22b4+0x1ff*0x4+-0x24*-0xbe]['value'])&&c_(_0x3ad677[_0x43b656][-0xdd*-0x2+0x1*0xa8d+-0xc46]['value'],_0x19d274[-0x3*0x5a9+-0x4a9*-0x4+-0x1a8]['value']))return _0x43b656+(-0x3a0*-0x5+-0x1410+0x7*0x47);return _0x3ad677['push'](_0x19d274);}}function qe(_0x3db841,_0x4fabcb=!(0x5*0x3d3+0x5*0x531+-0x2d14),_0x2eedaf=!(-0x1f6+-0xe0*0x2b+0x2796)){const _0x329a03={};return _0x329a03[_0x3db841+'Map']='texture',_0x329a03[_0x3db841+'MapTiling']='vec2',_0x329a03[_0x3db841+'MapOffset']='vec2',_0x329a03[_0x3db841+('MapRotatio'+'n')]='number',_0x329a03[_0x3db841+'MapUv']='number',_0x4fabcb&&(_0x329a03[_0x3db841+'MapChannel']='string',_0x2eedaf&&(_0x329a03[_0x3db841+('VertexColo'+'r')]='boolean',_0x329a03[_0x3db841+('VertexColo'+'rChannel')]='string')),_0x329a03;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(-0x146e+0x1c9b+-0x82d),!(0x30f*-0x7+-0x12ea+-0x59*-0x74)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0x1*-0x1198+0x1*-0xeb1+-0x3*-0xac3),!(-0x1*0x328+-0x810+-0x11*-0xa9)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x6a7*0x4+0x1af1+-0x2a*0x2)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(-0x13e1+0x13*0x76+0xb20)),'bumpiness':'number',...qe('normalDeta'+'il',!(0x44*0x80+-0x1*-0x21d7+-0x43d6)),'normalDetailMapBumpiness':'number',...qe('height',!(0xc83*0x2+0x16ac+-0x2fb2),!(-0xdef+0x17f*0x3+-0x1*-0x973)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let $a=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x22726a=>{this['_'+_0x22726a]=uh[_0x22726a]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x3dab10){return super['copy'](_0x3dab10),Object['keys'](uh)['forEach'](_0x5abbe0=>{this[_0x5abbe0]=_0x3dab10[_0x5abbe0];}),this['userAttrib'+'utes']=new Map(_0x3dab10['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x3286ef,_0x506140){this['userAttrib'+'utes']['set'](_0x506140,_0x3286ef);}['_setParame'+'ter'](_0x42741a,_0x4df2d6){$a['add'](_0x42741a),this['setParamet'+'er'](_0x42741a,_0x4df2d6);}['_setParame'+'ters'](_0x1f7c6f){_0x1f7c6f['forEach'](_0x2bec96=>{this['_setParame'+'ter'](_0x2bec96['name'],_0x2bec96['value']);});}['_processPa'+'rameters'](_0x360a4d){const _0x34b777=this[_0x360a4d];_0x34b777['forEach'](_0x5bc65d=>{$a['has'](_0x5bc65d)||delete this['parameters'][_0x5bc65d];}),this[_0x360a4d]=$a,$a=_0x34b777,$a['clear']();}['_updateMap'](_0x5eb03a){const _0x5a73aa=_0x5eb03a+'Map',_0x328406=this[_0x5a73aa];if(_0x328406){this['_setParame'+'ter']('texture_'+_0x5a73aa,_0x328406);const _0x5e5cf2=_0x5a73aa+'Transform',_0x1652ac=this['getUniform'](_0x5e5cf2);_0x1652ac&&this['_setParame'+'ters'](_0x1652ac);}}['_allocUnif'+'orm'](_0x526780,_0x452339){let _0x2e2f6a=this['_uniformCa'+'che'][_0x526780];return _0x2e2f6a||(_0x2e2f6a=_0x452339(),this['_uniformCa'+'che'][_0x526780]=_0x2e2f6a),_0x2e2f6a;}['getUniform'](_0x4e15df,_0x2e4c92,_0x189e0a){return P0[_0x4e15df](this,_0x2e4c92,_0x189e0a);}['updateUnif'+'orms'](_0x502632,_0x16ff7d){const _0x5254ba=_0x2a491a=>this['getUniform'](_0x2a491a,_0x502632,_0x16ff7d);this['_setParame'+'ter']('material_a'+'mbient',_0x5254ba('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x5254ba('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x1*-0x100b+-0x1997+0x29a3)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5254ba('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x5254ba('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5254ba('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0xc37+-0x5b3*-0x1+-0x1a1*-0x4&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x24e4+0x1a7a+0xa6a&&this['emissive']['g']===-0x1*0x65f+0x275+0x3*0x14e&&this['emissive']['b']===0x8ce+-0x266f+0x1da1&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x5254ba('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x1d81+-0x1c9*0xb+0x1*-0x9de&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x22e+0x19b1*-0x1+0x1bdf&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x5254ba('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0xe7+-0xf29+0xe42?0x1681+-0x1*-0x144b+-0x2acc:(0x2a9*0xd+-0x4*-0x8b7+0x650*-0xb)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x2*-0x449+0xf5e+-0x2f*0x25)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x5254ba('cubeMapPro'+'jectionBox'));for(const _0x4dc2f1 in fa)this['_updateMap'](_0x4dc2f1);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x5254ba('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x502632,_0x16ff7d);}['updateEnvU'+'niforms'](_0x32d8cd,_0x11b67f){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x11b67f['envAtlas']&&_0x11b67f['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x11b67f['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x11b67f['skybox'])):_0x11b67f['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x11b67f['envAtlas']):_0x11b67f['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x11b67f['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x327060){const {device:_0x4f5bb0,scene:_0x104081,pass:_0x5ac8e1,objDefs:_0xc5d9e7,sortedLights:_0x546883,cameraShaderParams:_0x4a246f}=_0x327060;this['updateEnvU'+'niforms'](_0x4f5bb0,_0x104081);const _0xe039b3=Ks['get'](_0x4f5bb0)['getByIndex'](_0x5ac8e1),_0x5bd886=_0x5ac8e1===rl||_0x5ac8e1===Oa||_0x5ac8e1===il||_0xe039b3['isShadow'];let _0x517c47=_0x5bd886?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x517c47['defines']=Dp(this,_0x327060),_0x5bd886?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x517c47,_0x104081,this,_0xc5d9e7,_0x5ac8e1,_0x546883):this['shaderOptB'+'uilder']['updateRef'](_0x517c47,_0x104081,_0x4a246f,this,_0xc5d9e7,_0x5ac8e1,_0x546883),_0x517c47['defines']['set']('TONEMAP',p0[_0x517c47['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x517c47=this['onUpdateSh'+'ader'](_0x517c47));const _0x41ea24=new Yc(_0x327060['viewUnifor'+'mFormat'],_0x327060['viewBindGr'+'oupFormat'],_0x327060['vertexForm'+'at']),_0x34374b=ka(_0x4f5bb0);_0x34374b['register']('standard',Ed);const _0x47f50d=_0x34374b['getProgram']('standard',_0x517c47,_0x41ea24,this['userId']);return this['_dirtyShad'+'er']=!(-0x728+0x9e6+-0x2bd),_0x47f50d;}['destroy'](){for(const _0x31f5d8 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x31f5d8]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x3088de,_0x1b3bcd)=>{P0[_0x3088de]=_0x1b3bcd;},Op=(_0x231c0c,_0x1ffabb,_0x52f67a,_0x539b8b)=>{Object['defineProp'+'erty'](cs['prototype'],_0x231c0c,{'get':_0x539b8b||function(){return this['_'+_0x231c0c];},'set':_0x52f67a}),uh[_0x231c0c]={'value':_0x1ffabb};},JC=_0x2d4b25=>{const _0x4e5121='_'+_0x2d4b25['name'],_0x51322d=_0x2d4b25['dirtyShade'+'rFunc']||(()=>!(0x234a+-0x19dc+-0x96e*0x1)),_0x9ebabe=function(_0x58da73){const _0x51bc66=this[_0x4e5121];_0x51bc66!==_0x58da73&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x51322d(_0x51bc66,_0x58da73),this[_0x4e5121]=_0x58da73);};Op(_0x2d4b25['name'],()=>_0x2d4b25['defaultVal'+'ue'],_0x9ebabe,_0x2d4b25['getterFunc']);},eM=_0x48880c=>{const _0x4ffc4b='_'+_0x48880c['name'],_0x28b57f=_0x48880c['dirtyShade'+'rFunc']||(()=>!(0x22*-0x56+0x4*0x3fc+-0x11*0x44)),_0xff3d07=function(_0x2b50b9){const _0x23dce4=this[_0x4ffc4b];_0x23dce4['equals'](_0x2b50b9)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x28b57f(_0x23dce4,_0x2b50b9),this[_0x4ffc4b]=_0x23dce4['copy'](_0x2b50b9));};Op(_0x48880c['name'],()=>_0x48880c['defaultVal'+'ue']['clone'](),_0xff3d07,_0x48880c['getterFunc']);},ts=_0x1804d8=>_0x1804d8['defaultVal'+'ue']&&_0x1804d8['defaultVal'+'ue']['clone']?eM(_0x1804d8):JC(_0x1804d8);function Ge(_0x591d1e,_0x5b2cf7='rgb',_0x3ff779=!(0xb2d+-0x241+-0x8ec),_0x449ee6=0x1dc9+-0x1*-0x53+-0x1e1c){fa[_0x591d1e]=_0x5b2cf7['length']||-(0x12d3*-0x1+0x117d+0x157),ts({'name':_0x591d1e+'Map','defaultValue':null,'dirtyShaderFunc':(_0x476a6e,_0x4d3e9c)=>!!_0x476a6e!=!!_0x4d3e9c||_0x476a6e&&(_0x476a6e['type']!==_0x4d3e9c['type']||_0x476a6e['format']!==_0x4d3e9c['format'])}),ts({'name':_0x591d1e+'MapTiling','defaultValue':new W(-0x12d*-0x2+0x1d15+-0x1f6e,-0x75b+-0x1ad4+0x2230)}),ts({'name':_0x591d1e+'MapOffset','defaultValue':new W(0x1*0x896+0x1162+-0x19f8,-0x2419*-0x1+-0x1435+0x1*-0xfe4)}),ts({'name':_0x591d1e+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x591d1e+'MapUv','defaultValue':_0x449ee6}),_0x5b2cf7&&(ts({'name':_0x591d1e+'MapChannel','defaultValue':_0x5b2cf7}),_0x3ff779&&(ts({'name':_0x591d1e+('VertexColo'+'r'),'defaultValue':!(-0xeb3*-0x1+-0x25b7+-0x1705*-0x1)}),ts({'name':_0x591d1e+('VertexColo'+'rChannel'),'defaultValue':_0x5b2cf7})));const _0x5abd57=_0x591d1e+'MapTiling',_0x372563=_0x591d1e+'MapOffset',_0x37a209=_0x591d1e+('MapRotatio'+'n'),_0x3aa6fb=_0x591d1e+('MapTransfo'+'rm');Zc(_0x3aa6fb,(_0xfd13c9,_0x358a89,_0xbb0387)=>{const _0x4ebe29=_0xfd13c9[_0x5abd57],_0x52f82e=_0xfd13c9[_0x372563],_0x447c8e=_0xfd13c9[_0x37a209];if(_0x4ebe29['x']===0xa96+-0xb0*0x2d+0x145b&&_0x4ebe29['y']===-0x2*-0xc6f+0x2231*0x1+-0x3b0e*0x1&&_0x52f82e['x']===0x2313+0x5*-0x38b+-0x2*0x8ae&&_0x52f82e['y']===-0x7a3*0x1+-0x42*0x8f+0x1*0x2c81&&_0x447c8e===0x1561*0x1+0x886+0x5fb*-0x5)return null;const _0x3c9cc0=_0xfd13c9['_allocUnif'+'orm'](_0x3aa6fb,()=>[{'name':'texture_'+_0x3aa6fb+'0','value':new Float32Array(0x118b+-0x2c3*0xb+0xcd9)},{'name':'texture_'+_0x3aa6fb+'1','value':new Float32Array(0x2057+0xcdf*-0x1+-0x1*0x1375)}]),_0x39d355=Math['cos'](_0x447c8e*N['DEG_TO_RAD']),_0x33b4fa=Math['sin'](_0x447c8e*N['DEG_TO_RAD']),_0x1dfb6c=_0x3c9cc0[0x8*0x203+-0x1a67+-0xa4f*-0x1]['value'];_0x1dfb6c[-0x167c+0x649*0x5+-0x8f1]=_0x39d355*_0x4ebe29['x'],_0x1dfb6c[-0x1cf9+0x1bb+0x1b3f]=-_0x33b4fa*_0x4ebe29['y'],_0x1dfb6c[0xd96+-0x104c+0x2b8]=_0x52f82e['x'];const _0x47be36=_0x3c9cc0[0x25b4*-0x1+0x5d*-0x1+0x2612]['value'];return _0x47be36[0x3*-0x6be+-0x19d*0x3+0x1911]=_0x33b4fa*_0x4ebe29['x'],_0x47be36[-0x18*-0x168+0x1*0x9c3+-0x2b82]=_0x39d355*_0x4ebe29['y'],_0x47be36[-0x1009+0xb09+0x502*0x1]=0x2457+-0x1af3*-0x1+-0x3f49-_0x4ebe29['y']-_0x52f82e['y'],_0x3c9cc0;});}function Cn(_0x810aca,_0x50166f){ts({'name':_0x810aca,'defaultValue':_0x50166f,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x112a+-0xa*-0xee+0x7de),this['_'+_0x810aca];}}),Zc(_0x810aca,(_0x4f112f,_0x464028,_0x371814)=>{const _0x48cf7a=_0x4f112f['_allocUnif'+'orm'](_0x810aca,()=>new Float32Array(-0xf3d+-0x1*0x1667+-0x33*-0xbd)),_0x1fbd7c=_0x4f112f[_0x810aca];return Dl['linear'](_0x1fbd7c),_0x48cf7a[-0x1*-0x152b+0xfd9+-0x1*0x2504]=Dl['r'],_0x48cf7a[-0x1*-0x1115+0x20fc*0x1+-0x3210]=Dl['g'],_0x48cf7a[-0x8e6+0x2fb*0xd+-0x1dd7]=Dl['b'],_0x48cf7a;});}function Ce(_0x573a47,_0x442d5f,_0x483d7a){ts({'name':_0x573a47,'defaultValue':_0x442d5f,'dirtyShaderFunc':(_0x5374d6,_0x255a6a)=>(_0x5374d6===-0x1996+0x72e*0x1+-0x4c*-0x3e||_0x5374d6===-0x259+-0x7bb*0x5+0x3*0xdab)!=(_0x255a6a===-0x1*-0x524+-0x99d+0x479||_0x255a6a===0x8c*0x15+-0x5d1*0x1+-0x5aa)}),Zc(_0x573a47,_0x483d7a);}function qa(_0x3b053e,_0x188b73){ts({'name':_0x3b053e,'defaultValue':null,'dirtyShaderFunc':(_0x49c167,_0x38afe6)=>!!_0x49c167==!!_0x38afe6}),Zc(_0x3b053e,_0x188b73);}function we(_0x560e80,_0x1a3c90){ts({'name':_0x560e80,'defaultValue':_0x1a3c90});}function tM(){Cn('ambient',new Y(-0x3*0x335+-0x1171+0x1b11,0x2*-0x84e+-0x2*0x61a+0x99b*0x3,0x1a68+0x1*-0xa4a+-0x113*0xf)),Cn('diffuse',new Y(0x1b09+-0x2e3+-0x373*0x7,-0x1*-0x91+0xb5*0x8+0x4*-0x18e,0x6a*0x51+0x1e86+-0x17*0x2c9)),Cn('specular',new Y(0xc*-0x1c8+-0x3*-0x257+0x69*0x23,-0x719*-0x3+-0x25+0x1*-0x1526,0x1d76+0x3*-0x23d+-0x1*0x16bf)),Cn('emissive',new Y(-0x1*0x1ddb+-0x1479+0x1*0x3254,0xe3*-0x6+-0x988+-0x2*-0x76d,0x35*-0xa3+0x1477+0xd48)),Cn('sheen',new Y(0x1042+0x561*-0x3+-0x1e,-0x1e2b+0x1*-0xffd+-0x75*-0x65,-0xa7*0x3+0x1*0x11ef+-0xff9)),Cn('attenuatio'+'n',new Y(-0x5d7*-0x2+0x238+0x1*-0xde5,-0x1*0x1b3b+-0x1fc2+-0x68e*-0x9,0x1f6+0x221*0x1+-0x416)),Ce('emissiveIn'+'tensity',0x1b61*-0x1+0x19bb+-0x1*-0x1a7),Ce('specularit'+'yFactor',0x1*0x10f0+-0xd95+-0x35a),Ce('sheenGloss',0x1c4*-0xb+0x237e+-0x1012),Ce('gloss',-0x165+0x2*-0x1205+0x256f+0.25),Ce('aoIntensit'+'y',0xd78+-0x1be*-0x1+-0xf35),Ce('heightMapF'+'actor',0x1*0x13af+0x5*-0x565+0x1*0x74b,(_0x47117c,_0x336134,_0x140ef9)=>_0x47117c['heightMapF'+'actor']*(0x2*0x38b+-0x26be+-0xfd4*-0x2+0.025)),Ce('opacity',0xe27+0x1e86*-0x1+0x1060),Ce('alphaFade',-0x1*-0x2135+-0x18c7+-0x86d),Ce('alphaTest',0x13*0x14a+0x7*-0x250+-0x84e*0x1),Ce('bumpiness',-0x13dc*0x1+-0x1da6+0x3183),Ce('normalDeta'+'ilMapBumpi'+'ness',0x17bd+-0x7*0x2ed+0x77*-0x7),Ce('reflectivi'+'ty',-0x1*0x4cd+0x2534+0x3a*-0x8f),Ce('occludeSpe'+'cularInten'+'sity',0x4*0x305+0x94*0x43+-0x32cf),Ce('refraction',0x1142+-0x215+-0xf2d),Ce('refraction'+'Index',(0x1306+0x1*-0x609+-0xc*0x115)/(0xef*0x1f+-0xf6d+-0xd83+0.5)),Ce('dispersion',-0x23c2+0x389*-0x9+0x4393),Ce('thickness',0x11ca*0x1+0x120b+-0x23d5),Ce('attenuatio'+'nDistance',-0x1bb8+-0x1d4f+0x3907),Ce('metalness',-0x13*0x197+0x2e3*-0xd+0x43bd),Ce('anisotropy',0x1d05+-0xf4e+-0xdb7),Ce('clearCoat',0x1*0x2590+0x2bb+-0x284b),Ce('clearCoatG'+'loss',-0x562+-0xe52+0x13b5),Ce('clearCoatB'+'umpiness',-0x26d4+-0xa99+-0x156*-0x25),Ce('aoUvSet',-0x941*0x3+0x1d*0x3c+-0x3*-0x6fd,null),Ce('iridescenc'+'e',-0x1327*0x1+-0x251*-0x7+0x10*0x2f),Ce('iridescenc'+'eRefractio'+'nIndex',(0xa97+0x24f6*-0x1+0x1a6*0x10)/(0xafe+-0x2ec*0x1+-0x1*0x811+0.5)),Ce('iridescenc'+'eThickness'+'Min',0x1*0x1c19+-0x1a2f+-0x1ea),Ce('iridescenc'+'eThickness'+'Max',-0x1a*-0xe5+0x1*0x270e+0x7ca*-0x8),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x2238a1,_0x45956e,_0x268946)=>{const _0x476824=_0x2238a1['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x2307+0xc19+-0x2f1d)},{'name':'envBoxMax','value':new Float32Array(0x2*-0x45b+-0xc51*0x3+0x2dac)}]),_0x29f68c=_0x2238a1['cubeMapPro'+'jectionBox']['getMin'](),_0x179d04=_0x476824[-0x33a+-0x1c+-0x356*-0x1]['value'];_0x179d04[0x2*-0x10d9+-0xf3d*0x1+-0x30ef*-0x1]=_0x29f68c['x'],_0x179d04[0x1a5c+-0x134*-0x19+-0x386f]=_0x29f68c['y'],_0x179d04[-0x1203*0x1+0x1a33*0x1+-0x82e]=_0x29f68c['z'];const _0x40c26d=_0x2238a1['cubeMapPro'+'jectionBox']['getMax'](),_0x359d48=_0x476824[-0x648*0x4+-0x2236+0x3b57]['value'];return _0x359d48[-0x1*-0x487+0x1ade+0x3*-0xa77]=_0x40c26d['x'],_0x359d48[0x89*0x31+0x1cc0+-0x36f8*0x1]=_0x40c26d['y'],_0x359d48[0x1074+0x101*-0x5+0x9*-0x145]=_0x40c26d['z'],_0x476824;}),we('specularTi'+'nt',!(-0xb3*0x1f+-0x6e*0x2f+0x29e0)),we('specularit'+'yFactorTin'+'t',!(0x34*0xa9+-0x1578+-0xcdb)),we('useMetalne'+'ss',!(-0x175a+0x371+-0x1*-0x13ea)),we('useMetalne'+'ssSpecular'+'Color',!(0x1*0x26a5+0x363*0x5+-0x3793)),we('useSheen',!(-0x734+0x1b1d+-0x13e8)),we('enableGGXS'+'pecular',!(-0x21f5+-0x1*0x15d8+0x37ce)),we('occludeDir'+'ect',!(0xc0c+-0x1*0x2008+-0x2db*-0x7)),we('opacityFad'+'esSpecular',!(0x47f*0x6+0x10ff+-0x2bf9)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(-0x127*-0x2+0x1093+0x4b8*-0x4)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(0x517*-0x3+0x2b*-0x48+-0x3*-0x91f)),we('useLightin'+'g',!(0x5d2*-0x2+-0x276+-0x26*-0x5f)),we('useTonemap',!(-0x1c87+0x132a+-0x1*-0x95d)),we('useSkybox',!(-0x23*-0xdd+0xc5a+-0x2a91)),we('forceUv1',!(0x1769+-0x67*0x53+-0x9fd*-0x1)),we('pixelSnap',!(0x420+-0x71*-0x4c+-0x25ab*0x1)),we('twoSidedLi'+'ghting',!(-0x16eb+-0x2b7*-0x5+0x1*0x959)),we('nineSliced'+'Mode',void(-0x4d1*0x3+-0xad*-0x29+-0xd42)),we('msdfTextAt'+'tribute',!(0x10d4+-0x1e8b+0x36e*0x4)),we('useIridesc'+'ence',!(0x46+-0x870+0x82b)),we('glossInver'+'t',!(0x1f7b+0x193f+-0x38b9)),we('sheenGloss'+'Invert',!(-0xdfe+0x1f31+-0x1132)),we('clearCoatG'+'lossInvert',!(0x30e*-0x2+0x25bf+0xfd1*-0x2)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(0x406+0x1*-0xb03+0x6fe)),Ge('ao','g'),Ge('light','rgb',!(0xf52+-0x67f+0x2f1*-0x3),0x948*0x1+-0x1*0xd4e+0x407),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(0x2077+-0x1*-0xa64+0x2ada*-0x1)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0x759+-0x2*0x2a+-0x2*0x382)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x23c94d=function(){return this['_prefilter'+'edCubemaps'];},_0x26b07b=function(_0xddcad1){const _0x47e672=this['_prefilter'+'edCubemaps'];_0xddcad1=_0xddcad1||[];let _0xdaa59=!(-0x4*-0x82b+0x21e8+-0x4293),_0x53680d=!(0x23f1+-0x1033*0x1+-0x9df*0x2);for(let _0x44a2d3=-0x6*0x64f+-0x95a+-0x2*-0x179a;_0x44a2d3<0x176d*0x1+0x3ad*0xa+0x1*-0x3c29;++_0x44a2d3){const _0x369d38=_0xddcad1[_0x44a2d3]||null;_0x47e672[_0x44a2d3]!==_0x369d38&&(_0x47e672[_0x44a2d3]=_0x369d38,_0xdaa59=!(0x6b*-0x1c+0x25ad+-0x19f9)),_0x53680d=_0x53680d&&!!_0x47e672[_0x44a2d3];}_0xdaa59&&(_0x53680d?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x47e672,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0x7c2+-0x1b*0x14c+0x2ac6));},_0x5bebb7=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x5bebb7['slice'](),_0x26b07b,_0x23c94d);}tM();const dt=class dt{static['render'](_0x3d09df,_0x4b1451){const _0x86bcfe=_0x4b1451['device'],_0x277920=_0x3d09df['cells'],_0x3bd7aa=_0x3d09df['lightsBuff'+'er'],_0x567c46=_0x3bd7aa['boundsMin'],_0x210424=_0x3bd7aa['boundsDelt'+'a'],_0x470df5=_0x567c46['clone']()['add'](_0x210424),_0x244aed=_0x3bd7aa['boundsDelt'+'a']['clone']()['div'](_0x277920),_0x1b589b=dt['gridPositi'+'ons'],_0x52f96f=dt['gridColors'],_0x5d015d=new Y(0x197f*-0x1+0x7ac*-0x2+0x28d7+0.3,0x190a+0xcab+0x1*-0x25b5+0.3,0x19af+0x183b*0x1+-0x1*0x31ea+0.3),_0x506497=(_0x23601a,_0x461ae4,_0x5e4274,_0x4d3028,_0x1ca7b4,_0xbc7952,_0x265608,_0x379358,_0x2bf12d)=>{for(let _0x4fc8da=0xde8*0x1+-0x61*0x5a+0x1432;_0x4fc8da<=_0x23601a;_0x4fc8da++)for(let _0x32eef4=0x14a+-0x1*-0x2452+-0xa6*0x3a;_0x32eef4<=_0x461ae4;_0x32eef4++){const _0x1d2139=_0x5e4274+_0x4fc8da*_0x4d3028,_0x8972b0=_0x1ca7b4+_0x32eef4*_0xbc7952;_0x2bf12d===0x260e+0x1032*0x2+-0x4672?_0x1b589b['push'](_0x1d2139,_0x265608,_0x8972b0,_0x1d2139,_0x379358,_0x8972b0):_0x2bf12d===0x10*-0x268+-0x18cb+0x1*0x3f4c?_0x1b589b['push'](_0x1d2139,_0x8972b0,_0x265608,_0x1d2139,_0x8972b0,_0x379358):_0x2bf12d===-0x1c18+0x12*-0x219+0x41dc&&_0x1b589b['push'](_0x265608,_0x1d2139,_0x8972b0,_0x379358,_0x1d2139,_0x8972b0);}};if(_0x506497(_0x277920['x'],_0x277920['z'],_0x567c46['x'],_0x244aed['x'],_0x567c46['z'],_0x244aed['z'],_0x567c46['y'],_0x470df5['y'],-0x11b*-0x23+-0x15b6+-0x10fb),_0x506497(_0x277920['x'],_0x277920['y'],_0x567c46['x'],_0x244aed['x'],_0x567c46['y'],_0x244aed['y'],_0x567c46['z'],_0x470df5['z'],-0x42e+0x2*-0x496+0xd*0x107),_0x506497(_0x277920['y'],_0x277920['z'],_0x567c46['y'],_0x244aed['y'],_0x567c46['z'],_0x244aed['z'],_0x567c46['x'],_0x470df5['x'],-0x1*-0x2593+0x18d7+-0x1f34*0x2),_0x1b589b['length']){const _0x5f0d5f=_0x1b589b['length']/(-0xc67*-0x2+0x23a+-0x1*0x1b05);if(_0x5f0d5f!==_0x52f96f['length']/(-0x1a8+-0x2297+0x2443)){_0x52f96f['length']=-0x6*0x507+-0x212b*0x1+0x3f55;for(let _0x38b78b=-0x25c7+-0xc08+-0x29*-0x137;_0x38b78b<_0x5f0d5f;_0x38b78b++)_0x52f96f['push'](_0x5d015d['r'],_0x5d015d['g'],_0x5d015d['b'],_0x5d015d['a']);}_0x4b1451['drawLineAr'+'rays'](_0x1b589b,_0x52f96f),_0x1b589b['length']=-0x23*0xd+0x1b20+-0x1959;}let _0x5e47ab=dt['mesh'];_0x5e47ab||(_0x5e47ab=new Ie(_0x86bcfe),_0x5e47ab['clear'](!(-0x828+0x1626+-0xdfe),!(-0xd7*-0x1f+0x3ac*0x1+-0x1fb*0xf)),dt['mesh']=_0x5e47ab);const _0x70732a=[],_0x22652f=[],_0x1514d7=[],_0x173218=_0x3d09df['_cells']['x'],_0x47cbb0=_0x3d09df['_cells']['z'],_0x3eb972=_0x3d09df['counts'],_0x1565e3=_0x3d09df['_maxCellLi'+'ghtCount'],_0x94b0fc=new T(),_0x20bbab=new T(),_0x4af93a=new T(),_0x41ab6e=_0x210424['clone']()['div'](_0x277920);let _0x433005=0x1*0xe05+-0x1a45+0x1*0xc40;for(let _0x22bcd7=0x170f+-0xaed+-0xc22;_0x22bcd7<_0x277920['x'];_0x22bcd7++)for(let _0x191bc=0x37d*-0xb+0x1*0x4f4+0x1d*0x127;_0x191bc<_0x277920['z'];_0x191bc++)for(let _0x5eedb9=-0x2*0x7c3+0x2136+-0x11b0;_0x5eedb9<_0x277920['y'];_0x5eedb9++){const _0x13ab1a=_0x22bcd7+_0x173218*(_0x191bc+_0x5eedb9*_0x47cbb0),_0x57d7db=_0x3eb972[_0x13ab1a];if(_0x57d7db>0x1993+0x2670+-0x1*0x4003){_0x94b0fc['x']=_0x567c46['x']+_0x41ab6e['x']*_0x22bcd7,_0x94b0fc['y']=_0x567c46['y']+_0x41ab6e['y']*_0x5eedb9,_0x94b0fc['z']=_0x567c46['z']+_0x41ab6e['z']*_0x191bc,_0x20bbab['add2'](_0x94b0fc,_0x41ab6e),_0x70732a['push'](_0x94b0fc['x'],_0x94b0fc['y'],_0x20bbab['z']),_0x70732a['push'](_0x20bbab['x'],_0x94b0fc['y'],_0x20bbab['z']),_0x70732a['push'](_0x20bbab['x'],_0x20bbab['y'],_0x20bbab['z']),_0x70732a['push'](_0x94b0fc['x'],_0x20bbab['y'],_0x20bbab['z']),_0x70732a['push'](_0x20bbab['x'],_0x94b0fc['y'],_0x94b0fc['z']),_0x70732a['push'](_0x94b0fc['x'],_0x94b0fc['y'],_0x94b0fc['z']),_0x70732a['push'](_0x94b0fc['x'],_0x20bbab['y'],_0x94b0fc['z']),_0x70732a['push'](_0x20bbab['x'],_0x20bbab['y'],_0x94b0fc['z']),_0x4af93a['lerp'](dt['colorLow'],dt['colorHigh'],_0x57d7db/_0x1565e3)['round']();for(let _0x1c9b0f=0x15df+-0x2*-0x670+-0xb95*0x3;_0x1c9b0f<-0x105*0x17+-0x26fe*0x1+-0x14d3*-0x3;_0x1c9b0f++)_0x22652f['push'](_0x4af93a['x'],_0x4af93a['y'],_0x4af93a['z'],-0x23*0x49+0x639+0x3c3);_0x1514d7['push'](_0x433005*(-0x54b+0x1*0x1925+-0x13d2)+(0x172f+0x27*0x1f+0x178*-0x13),_0x433005*(-0x1*0x4be+-0x22eb*-0x1+-0x1e25)+(-0x68d+0x2e7*0x1+-0x3a7*-0x1),_0x433005*(-0x1e89*-0x1+-0x1005+-0xe7c)+(-0x224b+0x2b*-0xbf+0x4263)),_0x1514d7['push'](_0x433005*(-0x2543+0xb9a+0x19b1)+(0x1*-0x26d6+-0x1f6*-0xe+0xb65),_0x433005*(0x160b*0x1+0xac9*-0x1+-0x2*0x59d)+(0x1*0x20b5+-0x189+-0x4f*0x65),_0x433005*(-0x1*-0x1bef+0x10ea+-0x1*0x2cd1)+(-0x1*0x116f+0x395+0x2*0x6ee)),_0x1514d7['push'](_0x433005*(-0x1*0x1697+-0x11a9+0x2848)+(-0x6*0x355+-0x1471+-0x1*-0x2873),_0x433005*(0x1004*-0x2+0x1d36+0x2da)+(0x579*-0x1+0x1632+-0x10b4),_0x433005*(-0x109d+0xbcb+0x19e*0x3)+(0x5*0x48b+-0x21d0+0xb20)),_0x1514d7['push'](_0x433005*(0x2*-0xef2+0x2c0+0x1b2c)+(-0x249c+0xe3*-0x1d+-0x2*-0x1f2d),_0x433005*(-0x18d*-0x7+0x1179+0x4*-0x713)+(-0x1980+0xd38+0xc4d),_0x433005*(-0x1c9d+0x1b0d+0x8*0x33)+(-0x34*0x74+0x18ac+-0x1*0x116)),_0x1514d7['push'](_0x433005*(0x1bb3+0x21ca+-0x3d75)+(-0x6*-0x58f+-0xd*-0x17a+-0x3489),_0x433005*(0x23ee+0xe12*-0x1+-0x15d4)+(-0xa51+0x171c+-0xcc9),_0x433005*(-0x25e8+-0x4*-0x35e+0x1878)+(-0xb9f*0x1+-0x2487+-0x302c*-0x1)),_0x1514d7['push'](_0x433005*(0x1*0x1617+0x1e1b*-0x1+0x80c)+(-0x1*0xc45+-0xa67*-0x3+0x977*-0x2),_0x433005*(0x5b*-0x2a+-0x5*-0x313+0x69*-0x1)+(0x6c9+-0x143*-0x1+-0x805),_0x433005*(0x100*-0x1b+0x26a9+-0xba1)+(-0x2134+-0x1e54*0x1+0x65b*0xa)),_0x1514d7['push'](_0x433005*(0x41c+0x1fdb+-0x1*0x23ef)+(0xbf*0xb+-0x1*-0x3cb+-0x53*0x25),_0x433005*(-0x577*-0x5+-0x56d*0x4+0x1b*-0x35)+(-0x236a+-0x18e2+0x3c4c),_0x433005*(0x20cc+-0x734+-0x1990)+(-0x62*-0x2d+-0x16c3*-0x1+-0x27f9)),_0x1514d7['push'](_0x433005*(0x172c*-0x1+-0x2645+0x3d79)+(0x2366+-0x3e*0x71+-0x808*0x1),_0x433005*(-0x14c9+0x1*-0x1255+0x2726)+(0x12e5*0x2+-0x1b*0x51+-0xae*0x2b),_0x433005*(-0x228c+-0x80a*-0x1+0x2*0xd45)+(-0x2067+0xe7*0x7+0x1a1a)),_0x1514d7['push'](_0x433005*(0x38c+0x9a*-0x21+0x1056)+(0x1210+-0x22f*-0x1+-0x143e),_0x433005*(-0x2e*0xa6+0x4c3+0x1919)+(-0x18ba*0x1+-0x1a62+0x3320),_0x433005*(0x92b*0x1+-0x117b+-0x42c*-0x2)+(-0x3*0xf2+-0x27*-0xab+-0x1735)),_0x1514d7['push'](_0x433005*(0x4e0+-0x24*-0xaa+0x28*-0xb8)+(0x1655+-0x26b3+0x1062),_0x433005*(0x79+-0x3*-0x4d2+-0x2fb*0x5)+(0x457*-0x2+0x525+-0x4c*-0xc),_0x433005*(0x1*-0x2511+-0x1*0x1048+-0x3561*-0x1)+(-0x1fa9+-0x1*-0x18a5+0x706)),_0x1514d7['push'](_0x433005*(-0x2221+0x1cb1+0x578)+(0x34b*0x2+-0x2*0x7ed+0x949),_0x433005*(-0x38*0xf+-0x11f7+-0xd*-0x1a3)+(-0x16*-0x43+0x917*0x3+-0x2107),_0x433005*(-0x6*-0xbf+-0x853*-0x1+-0xcc5)+(0xa8c+0x606+-0x108c*0x1)),_0x1514d7['push'](_0x433005*(0x1fcd+-0x682*0x2+0x12c1*-0x1)+(-0x1*-0x16eb+0x1435+-0x2b20),_0x433005*(-0x1506+-0x223a*0x1+0x3748)+(0x15cd*0x1+0x9de*-0x3+0x19*0x50),_0x433005*(0x1c7f*0x1+-0xd13+-0xf64)+(-0x5*-0x791+0x23*-0xd6+-0x88d)),_0x433005++;}}if(_0x433005){if(_0x5e47ab['setPositio'+'ns'](_0x70732a),_0x5e47ab['setColors3'+'2'](_0x22652f),_0x5e47ab['setIndices'](_0x1514d7),_0x5e47ab['update'](Ms,!(0x132a*0x1+0x125*-0x20+0x1177)),!dt['meshInstan'+'ce']){const _0x3ee252=new cs();_0x3ee252['useLightin'+'g']=!(-0x1cb9+0x1*-0x10e8+-0x79b*-0x6),_0x3ee252['emissive']=new Y(0xabe*0x2+0x156+-0x16d1,-0x97*0x15+-0xb6+0x6*0x22f,-0x2*0x3fb+-0x75b+0x6a*0x25),_0x3ee252['emissiveVe'+'rtexColor']=!(-0x1b66+-0x2403+0x15*0x305),_0x3ee252['blendType']=Hc,_0x3ee252['depthWrite']=!(0x1*-0x1205+0x1efb+0x1f*-0x6b),_0x3ee252['update']();const _0x3f64a2=new De('WorldClust'+'ersDebug');_0x3f64a2['worldTrans'+'form']=q['IDENTITY'],_0x3f64a2['_dirtyWorl'+'d']=_0x3f64a2['_dirtyNorm'+'al']=!(0xdfc+0x3c7*-0x2+0x2f*-0x23),dt['meshInstan'+'ce']=new Le(_0x5e47ab,_0x3ee252,_0x3f64a2),dt['meshInstan'+'ce']['cull']=!(0x2*-0xedc+-0x25b3+0x14*0x35f);}const _0x2996b2=dt['meshInstan'+'ce'];_0x4b1451['immediate']['drawMesh'](_0x2996b2['material'],_0x2996b2['node']['worldTrans'+'form'],null,_0x2996b2,_0x4b1451['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(-0xa32*-0x3+-0x1779+-0x5b*0x14,-0x23a1*0x1+-0x1*-0x96b+0x1a37,-0x39*-0x31+-0xfbe+0x4d6)),c(dt,'colorHigh',new T(-0x1743+0x1d61+-0x5f6,0xae8+0x321+-0xe09,-0x2*-0x4ea+-0x1*0x1cfb+0x1327));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x39e993=atob(sM);vi=Uint8Array['from'](_0x39e993,_0x1da0a0=>_0x1da0a0['charCodeAt'](0x831+0x35*-0x22+-0x127));}},iM=()=>(R0(),vi);class rM{constructor(_0x47b57e=-0x29*0xc2+-0x262a+0x453c){c(this,'seed',-0xc*0x2d7+-0x6f3*0x4+0x318*0x14),(this['seed']=_0x47b57e*(0xc*-0x19+0xbc6+-0xa96),R0());}['_next'](){this['seed']=(this['seed']+(0x3*-0x3da+0x362+-0x8*-0x106))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(-0xeb*0xf+-0x245b+0x17*0x239);}['vec4'](_0xd47fa3=new Q()){return this['_next'](),_0xd47fa3['set'](vi[this['seed']],vi[this['seed']+(-0x18d9+-0x1*0x263+0x1b3d)],vi[this['seed']+(0xca9*-0x1+0x5*0x6c5+0xa97*-0x2)],vi[this['seed']+(-0x5ce*0x3+-0x14*-0x1d1+-0x12e7*0x1)])['mulScalar']((0x1c45+0x20d9+-0x3d1d)/(0x1c4a+-0x1baf+0x64));}}const nM=[new T(-(0x9ef+-0x4ab*-0x3+0x17ef*-0x1),0x2176*0x1+0x451*-0x6+-0x790,-0x177e+-0x362+-0x8*-0x35c),new T(0x1395+-0x18ac+0x518,-0x1f*0x86+0x1149+-0x10f,0x1c11+0x165b*0x1+-0x326c),new T(0x3f9*0x4+0x1836+-0x281a,-(-0x263d+0x2*0x698+-0x85a*-0x3),0xfaf*0x1+-0x19c9*0x1+0x2*0x50d),new T(-0x915+0x17de+-0x2f5*0x5,0x5*0x151+0x19c1+-0x2055,-0x1453+-0x1*-0x1754+0x1*-0x301),new T(-0x1d+0x36e+0x3*-0x11b,0x1*0x223+0x1ccb+0x25*-0xd6,-(0x1*0x72d+0x2*0x581+-0xd*0x166)),new T(0x66b+0x3f*0x53+-0x1ad8,0xc2*-0x3+0x92d+-0x6e7,-0x2397+-0xef*-0xf+0x1597)];class aM{constructor(){c(this,'colors',new Float32Array((-0x890+0x1c17+-0x1*0x1381)*(-0x5b5+0x2265+-0x1cad)));}['update'](_0x1fff56,_0x3a0c22){const _0xd0d616=this['colors'],{r:_0x49ee1b,g:_0x1eafb6,b:_0x437e97}=_0x1fff56;for(let _0x21dc26=-0x94b+0x2446+-0x1afb*0x1;_0x21dc26<0x899+0x1e04+-0x10b*0x25;_0x21dc26++)_0xd0d616[_0x21dc26*(-0x13ed+0x13c0+0x30)]=_0x49ee1b,_0xd0d616[_0x21dc26*(0x2*-0x1134+0x113f+0x9d*0x1c)+(0x9ae+-0x10d0*-0x1+-0x1a7d)]=_0x1eafb6,_0xd0d616[_0x21dc26*(-0x26d4+0xd6*0x5+0x22a9)+(-0x16*0x1bf+-0x5b5*-0x4+0xf98)]=_0x437e97;for(let _0x1119dc=0x3d*0x1+0x1a7e+-0x1abb;_0x1119dc<_0x3a0c22['length'];_0x1119dc++){const _0x62a4ae=_0x3a0c22[_0x1119dc];if(_0x62a4ae['_type']===oe)for(let _0x491840=-0x26d5*0x1+0x1*-0x15bf+-0xf25*-0x4;_0x491840<-0x1f99+0xe60+0x5*0x373;_0x491840++){const _0x45b0ee=Math['max'](nM[_0x491840]['dot'](_0x62a4ae['_direction']),-0x1d81*-0x1+-0xbea+-0x1197)*_0x62a4ae['_intensity'],_0x12aa11=_0x62a4ae['_color'];_0xd0d616[_0x491840*(-0x5e7+-0x9*-0x65+0x25d)]+=_0x12aa11['r']*_0x45b0ee,_0xd0d616[_0x491840*(-0x228+-0x6f1+-0x1*-0x91c)+(0xeb7*-0x2+0x24b7+-0x1*0x748)]+=_0x12aa11['g']*_0x45b0ee,_0xd0d616[_0x491840*(-0xf5+-0x10a9+0x11a1)+(-0xb53+-0x771+0x12c6)]+=_0x12aa11['b']*_0x45b0ee;}}}}const oM=(_0x1c208e,_0x2c40d3,_0x4f27aa,_0x2e0663)=>{const _0x301170=new he(_0x1c208e,{'name':''+_0x2c40d3+_0x4f27aa,'width':_0x4f27aa,'height':_0x4f27aa,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0xd*0x1d1+-0x8f*-0x3b+0x1*-0x957)});return _0x301170['lock']()['set'](_0x2e0663),_0x301170['unlock'](),_0x301170;},lM=new Ot(),hM=_0x4d6aa0=>lM['get'](_0x4d6aa0,()=>{const _0x402336=iM(),_0xf45c3f=Math['sqrt'](_0x402336['length']/(-0x120*0xf+-0x181*0xd+-0x2471*-0x1));return oM(_0x4d6aa0,'BlueNoise',_0xf45c3f,_0x402336);});class un{constructor(_0x154dcd,_0x401939){this['texture']=_0x154dcd,this['cached']=!(-0xead+-0x5*-0xda+0xa6c),this['renderTarg'+'ets']=_0x401939;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x435e98=this['renderTarg'+'ets'];for(let _0x70b21e=0x7cb+-0x1d18+-0x30b*-0x7;_0x70b21e<_0x435e98['length'];_0x70b21e++)_0x435e98[_0x70b21e]['destroy']();this['renderTarg'+'ets']['length']=-0x26b3+0x1df*-0xd+0x3f06;}static['getShadowF'+'iltering'](_0x4aa361,_0x2e5b95){return _0x2e5b95===Wr?_0x4aa361['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x267a5f,_0x2da552){let _0x5f327b=null;return _0x2da552['_type']===Pe?_0x5f327b=this['createCube'+'map'](_0x267a5f,_0x2da552['_shadowRes'+'olution'],_0x2da552['_shadowTyp'+'e']):_0x5f327b=this['create2dMa'+'p'](_0x267a5f,_0x2da552['_shadowRes'+'olution'],_0x2da552['_shadowTyp'+'e']),_0x5f327b;}static['createAtla'+'s'](_0x109ea3,_0x105b07,_0x1a5bf8){const _0x408824=this['create2dMa'+'p'](_0x109ea3,_0x105b07,_0x1a5bf8),_0x308464=_0x408824['renderTarg'+'ets'],_0x260290=_0x308464[0x3bc*-0x2+0xa7*-0x2c+0x242c];for(let _0x456b91=0x1*0x367+0x106b+0x2*-0x9e9;_0x456b91<-0x8b*0xd+-0xf12+0x1626;_0x456b91++)_0x308464['push'](_0x260290);return _0x408824;}static['create2dMa'+'p'](_0x2932d2,_0x26e6cd,_0x448629){var _0xba1379;const _0x3ce08b=ir['get'](_0x448629);v['assert'](_0x3ce08b);let _0x5d55e8=_0x3ce08b['format'];_0x5d55e8===Ii&&!_0x2932d2['textureFlo'+'atRenderab'+'le']&&_0x2932d2['textureHal'+'fFloatRend'+'erable']&&(_0x5d55e8=Ec);const _0x5b3732=(_0xba1379=xt['get'](_0x5d55e8))==null?void(0xc48+0x1d75+-0x29bd):_0xba1379['name'],_0x354364=this['getShadowF'+'iltering'](_0x2932d2,_0x448629),_0x270923=new he(_0x2932d2,{'profilerHint':Tu,'format':_0x5d55e8,'width':_0x26e6cd,'height':_0x26e6cd,'mipmaps':!(-0x15ec+-0x1b6e*-0x1+0x1*-0x581),'minFilter':_0x354364,'magFilter':_0x354364,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x5b3732});let _0x4862fe=null;return _0x3ce08b!=null&&_0x3ce08b['pcf']?(_0x270923['compareOnR'+'ead']=!(-0x7*0x25f+-0x17*-0x13c+0x1*-0xbcb),_0x270923['compareFun'+'c']=Eh,_0x4862fe=new pt({'depthBuffer':_0x270923})):_0x4862fe=new pt({'colorBuffer':_0x270923,'depth':!(-0x1*0x1e4f+-0x1e5d+0x3cac)}),_0x2932d2['isWebGPU']&&(_0x4862fe['flipY']=!(-0x2*0xd5d+0x50d*0x1+0x15ad)),new un(_0x270923,[_0x4862fe]);}static['createCube'+'map'](_0x42778a,_0x9155da,_0x237510){var _0x1560d9;const _0x2a85ad=ir['get'](_0x237510);v['assert'](_0x2a85ad);const _0x4917c6=(_0x1560d9=xt['get'](_0x2a85ad['format']))==null?void(-0x251*-0x2+-0x25f*-0x6+-0x12dc):_0x1560d9['name'],_0x15ec8b=_0x237510===Ts,_0x1c0e83=_0x15ec8b?de:st,_0x4179ba=new he(_0x42778a,{'profilerHint':Tu,'format':_0x2a85ad==null?void(0x6ca*0x1+0xde5*0x1+0x1*-0x14af):_0x2a85ad['format'],'width':_0x9155da,'height':_0x9155da,'cubemap':!(-0x17cf+-0x1b2+0x1981),'mipmaps':!(-0x1a83+-0x171b+0x319f),'minFilter':_0x1c0e83,'magFilter':_0x1c0e83,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x4917c6});_0x15ec8b||(_0x4179ba['compareOnR'+'ead']=!(0x1d3+-0x1bd2+-0x79*-0x37),_0x4179ba['compareFun'+'c']=Eh);const _0x4d4301=[];for(let _0xe4dec7=0x6e3+0x1*-0x1fcf+-0x63b*-0x4;_0xe4dec7<-0x1c2d+0x1*0xb83+0x10b0;_0xe4dec7++)_0x15ec8b?_0x4d4301['push'](new pt({'colorBuffer':_0x4179ba,'face':_0xe4dec7,'depth':!(0xaf0+0x3*0xb96+-0x2db2)})):_0x4d4301['push'](new pt({'depthBuffer':_0x4179ba,'face':_0xe4dec7}));return new un(_0x4179ba,_0x4d4301);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x5a27ac){this['size']=Math['floor'](_0x5a27ac['w']*(0x1fa1+-0x1f7f+0xc6*0x5)),this['used']=!(-0x33*-0xb0+0x190e+0x3c1d*-0x1),this['lightId']=-(0x1*-0x615+0xe0f+-0x9d*0xd),this['rect']=_0x5a27ac;}}class uM{constructor(_0x31d8ff){this['device']=_0x31d8ff,this['version']=-0x1*0x17f6+0xf*0xe9+-0x528*-0x2,this['shadowAtla'+'sResolutio'+'n']=0x1198+-0x116*0xb+0x12d*0x2,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x58b*0x1+0x23b3+-0x1e25,this['cookieAtla'+'sResolutio'+'n']=0xbb5*0x2+0x1a17*-0x1+0x2b1,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(0x16b4*0x1+0x6ca+-0x1d7d),'mipmaps':!(-0x2372+-0x183b+0x2*0x1dd7),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x3*0x65b+-0x1*0x1ebb+-0x3d*-0xd1),'flipY':!(-0x1e4a+0x5f7*0x4+0x66e)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(-0x158d+0xf20+0x66d,0xf06+0x179+-0x107f),new W(-0x5de+-0x3*-0x5a2+-0x2*0x584,-0x197b+-0x17e9*0x1+0x3165),new W(-0xa46+0x7*0x3b9+-0xfc8,-0x1d8b+0x259*0x7+0xd1c),new W(-0xb*0xcf+-0x4*-0x1bc+0x1f6,-0x246a+-0x594+0x29ff),new W(-0x72a+0x1*0x2674+-0x1f48,-0x1*0x18eb+-0x819+0x2104),new W(0x12e3+-0x213d+0xe5c,0x84c+0x709*-0x1+-0x142)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](-0x3*-0x4ed+0xf9+-0xfbf),this['allocateCo'+'okieAtlas'](0x42*0x12+-0xbd7*0x2+0x130b),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x4e1ba8;(_0x4e1ba8=this['shadowAtla'+'s'])==null||_0x4e1ba8['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x3ac3a0,_0x48a267;(_0x3ac3a0=this['cookieAtla'+'s'])==null||_0x3ac3a0['destroy'](),this['cookieAtla'+'s']=null,(_0x48a267=this['cookieRend'+'erTarget'])==null||_0x48a267['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x405834,_0x242dce=Dt){var _0x2108ff;const _0x3fa60d=(_0x2108ff=this['shadowAtla'+'s'])==null?void(0x94d*0x1+0x1d3f*-0x1+0x13f2):_0x2108ff['texture']['format'],_0x1dffe6=ir['get'](_0x242dce)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x405834||_0x3fa60d!==_0x1dffe6){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x405834,_0x242dce),this['shadowAtla'+'s']['cached']=!(0xb8c+-0x20*-0x6b+-0x18ec);const _0x3b56b6=(-0x15e4*-0x1+-0x8ff+-0x15*0x9d)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x3b56b6,_0x3b56b6,-(0x1d46+0x1a*0x76+0x528*-0x8)*_0x3b56b6,-(0x8b7+0x57e+0xe33*-0x1)*_0x3b56b6);}}['allocateCo'+'okieAtlas'](_0x1c9236){this['cookieAtla'+'s']['width']!==_0x1c9236&&(this['cookieRend'+'erTarget']['resize'](_0x1c9236,_0x1c9236),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x1*0x7f+0x7*-0x14f+0x2*0x4d5),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x464fd3=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x3*-0xb15+-0xcc6+-0x1479]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x464fd3),this['_shadowAtl'+'asParams'][0x168a*-0x1+0x15df+0x1*0xab]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x5*0x9b+-0x656*0x1+-0x95e*-0x1]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x309cea,_0x25343f){let _0x118186=_0x25343f['atlasSplit'];if(!_0x118186){const _0x11b3a3=Math['ceil'](Math['sqrt'](_0x309cea));_0x118186=dM,_0x118186[-0x265b+0x1299+-0x9*-0x232]=_0x11b3a3,_0x118186['length']=0x472*-0x5+0x1*-0xe8b+0x416*0x9;}if(!((_0x3af1e8,_0x935d3c)=>_0x3af1e8['length']===_0x935d3c['length']&&_0x3af1e8['every']((_0x456cc6,_0xdc5109)=>_0x456cc6===_0x935d3c[_0xdc5109]))(_0x118186,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x10c8+-0x1*0x10dc+0x21a4,this['atlasSplit']['length']=-0x2306+0xaea*-0x1+0x5be*0x8,this['atlasSplit']['push'](..._0x118186);const _0x135bf5=this['atlasSplit'][-0x1d51+-0x5c*-0x53+-0x83];if(_0x135bf5>0x4bd+0x21cc+-0x2688){const _0xfc1d78=(0x1c5*0x1+0x1ff*-0xf+0x1c2d)/_0x135bf5;for(let _0x744c01=0x641*-0x1+0x3a3+-0x86*-0x5;_0x744c01<_0x135bf5;_0x744c01++)for(let _0x16f4a5=0x683+-0x56f+-0x114;_0x16f4a5<_0x135bf5;_0x16f4a5++){const _0x11fc29=new Q(_0x744c01*_0xfc1d78,_0x16f4a5*_0xfc1d78,_0xfc1d78,_0xfc1d78),_0x1287b9=this['atlasSplit'][0x639*0x2+0x1*0x1e5d+0x1*-0x2ace+_0x744c01*_0x135bf5+_0x16f4a5];if(_0x1287b9>0x835+0x909+-0x113d){for(let _0x58d131=0x7*-0x3a1+0x1*-0x1+-0x1*-0x1968;_0x58d131<_0x1287b9;_0x58d131++)for(let _0x59f9e4=0x47*0x5c+-0x2471*-0x1+-0x137*0x33;_0x59f9e4<_0x1287b9;_0x59f9e4++){const _0x33e082=_0xfc1d78/_0x1287b9,_0x5a06cf=new Q(_0x11fc29['x']+_0x58d131*_0x33e082,_0x11fc29['y']+_0x59f9e4*_0x33e082,_0x33e082,_0x33e082);this['slots']['push'](new Md(_0x5a06cf));}}else this['slots']['push'](new Md(_0x11fc29));}}else this['slots']['push'](new Md(new Q(-0x1a91+-0x1*-0x2e7+0x17aa,-0x1008+-0x2*-0x541+-0xca*-0x7,-0x104c+-0x1*0x2593+0x35e*0x10,0x1c0f*0x1+-0xfda+-0x61a*0x2)));this['slots']['sort']((_0x3d6f35,_0x34456e)=>_0x34456e['size']-_0x3d6f35['size']);}}['collectLig'+'hts'](_0x6e9399,_0x2e2d6b){const _0xb2f32f=_0x2e2d6b['cookiesEna'+'bled'],_0x739f2c=_0x2e2d6b['shadowsEna'+'bled'];let _0x196d54=!(0x117c+0x6a*0x11+0x1885*-0x1),_0x5071fa=!(0x170e+0x3ec*0x9+-0x27*0x17f);const _0x4e6596=cM;return _0x4e6596['length']=-0x26b7+0x15e1+-0xa*-0x1af,(_0xb2f32f||_0x739f2c)&&(_0x557601=>{for(let _0x2f83ef=0x10c4+0x113d+-0x2201;_0x2f83ef<_0x557601['length'];_0x2f83ef++){const _0xd937ed=_0x557601[_0x2f83ef];if(_0xd937ed['visibleThi'+'sFrame']){const _0x3b37f3=_0x739f2c&&_0xd937ed['castShadow'+'s'],_0x5835f8=_0xb2f32f&&!!_0xd937ed['cookie'];_0x196d54||(_0x196d54=_0x3b37f3),_0x5071fa||(_0x5071fa=_0x5835f8),(_0x3b37f3||_0x5835f8)&&_0x4e6596['push'](_0xd937ed);}}})(_0x6e9399),_0x4e6596['sort']((_0x2231d2,_0x16eae6)=>_0x16eae6['maxScreenS'+'ize']-_0x2231d2['maxScreenS'+'ize']),_0x196d54&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x2e2d6b['shadowType']),_0x5071fa&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x196d54||_0x5071fa)&&this['subdivide'](_0x4e6596['length'],_0x2e2d6b),_0x4e6596;}['setupSlot'](_0x40dbd9,_0x2a0147){_0x40dbd9['atlasViewp'+'ort']['copy'](_0x2a0147);const _0x364be2=_0x40dbd9['numShadowF'+'aces'];for(let _0x114d39=0x3*0x782+0x1f55+-0x1*0x35db;_0x114d39<_0x364be2;_0x114d39++)if(_0x40dbd9['castShadow'+'s']||_0x40dbd9['_cookie']){if(Js['copy'](_0x2a0147),Cd['copy'](_0x2a0147),_0x40dbd9['_type']===Re&&Js['add'](this['scissorVec']),_0x40dbd9['_type']===Pe){const _0xd77a80=Js['z']/(-0xe6d+0x1eb*0x13+0x1601*-0x1),_0x6d66f9=this['cubeSlotsO'+'ffsets'][_0x114d39];Js['x']+=_0xd77a80*_0x6d66f9['x'],Js['y']+=_0xd77a80*_0x6d66f9['y'],Js['z']=_0xd77a80,Js['w']=_0xd77a80,Cd['copy'](Js);}if(_0x40dbd9['castShadow'+'s']){const _0x5438ee=_0x40dbd9['getRenderD'+'ata'](null,_0x114d39);_0x5438ee['shadowView'+'port']['copy'](Js),_0x5438ee['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x3269ff,_0x1a4c69,_0x1c07d8){_0x3269ff['atlasViewp'+'ortAllocat'+'ed']=!(0x19*-0xdf+-0x7c7+0x1d8e);const _0x407338=this['slots'][_0x1a4c69];_0x407338['lightId']=_0x3269ff['id'],_0x407338['used']=!(0x498+0x1*-0x12e9+0xe51),_0x1c07d8&&(_0x3269ff['atlasSlotU'+'pdated']=!(-0x1*-0x20e3+-0x1c53+-0x124*0x4),_0x3269ff['atlasVersi'+'on']=this['version'],_0x3269ff['atlasSlotI'+'ndex']=_0x1a4c69);}['update'](_0x1dc90e,_0x5cf04e){this['shadowAtla'+'sResolutio'+'n']=_0x5cf04e['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x5cf04e['cookieAtla'+'sResolutio'+'n'];const _0x5b90ca=this['collectLig'+'hts'](_0x1dc90e,_0x5cf04e);if(_0x5b90ca['length']>-0xe3+-0x551*0x1+0x634){const _0x3613d8=this['slots'];for(let _0x2f8235=-0x4*0x4d3+-0x2+0x134e;_0x2f8235<_0x3613d8['length'];_0x2f8235++)_0x3613d8[_0x2f8235]['used']=!(-0xb*0x8b+-0x24bb+0x2ab5);const _0x4b4fb0=Math['min'](_0x5b90ca['length'],_0x3613d8['length']);for(let _0x238556=0x259d*0x1+-0xa21+0xdbe*-0x2;_0x238556<_0x4b4fb0;_0x238556++){const _0x4b344d=_0x5b90ca[_0x238556];_0x4b344d['castShadow'+'s']&&(_0x4b344d['_shadowMap']=this['shadowAtla'+'s']);const _0x3d14c8=_0x3613d8[_0x4b344d['atlasSlotI'+'ndex']];if(_0x4b344d['atlasVersi'+'on']===this['version']&&_0x4b344d['id']===(_0x3d14c8==null?void(0x15c8+0x1c10+-0x13f*0x28):_0x3d14c8['lightId'])){const _0x16eeff=_0x3613d8[_0x4b344d['atlasSlotI'+'ndex']];_0x16eeff['size']===_0x3613d8[_0x238556]['size']&&!_0x16eeff['used']&&this['assignSlot'](_0x4b344d,_0x4b344d['atlasSlotI'+'ndex'],!(0x4*-0x5ce+-0x11fb+0x4*0xa4d));}}let _0xefed32=-0x79+-0x107+0x180;for(let _0x3422d2=0x151f*0x1+0x25*-0x34+0x9*-0x183;_0x3422d2<_0x4b4fb0;_0x3422d2++){for(;_0xefed32<_0x3613d8['length']&&_0x3613d8[_0xefed32]['used'];)_0xefed32++;const _0x35cd23=_0x5b90ca[_0x3422d2];_0x35cd23['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x35cd23,_0xefed32,!(0x107e*-0x1+0x3fe+0x64*0x20));const _0x546e75=_0x3613d8[_0x35cd23['atlasSlotI'+'ndex']];this['setupSlot'](_0x35cd23,_0x546e75['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x1156f6=>{_0x1156f6['forEach'](_0x21bc1a=>{_0x21bc1a['destroy']();});}),this['cache']['clear']();}['getKey'](_0x2e37fc){const _0x3df227=_0x2e37fc['_type']===Pe,_0x190396=_0x2e37fc['_shadowTyp'+'e'],_0x1d8aa9=_0x2e37fc['_shadowRes'+'olution'];return _0x3df227+'-'+_0x190396+'-'+_0x1d8aa9;}['get'](_0x29c65c,_0x24217e){const _0x280947=this['getKey'](_0x24217e),_0x49c9d4=this['cache']['get'](_0x280947);if(_0x49c9d4&&_0x49c9d4['length'])return _0x49c9d4['pop']();const _0x501fa3=un['create'](_0x29c65c,_0x24217e);return _0x501fa3['cached']=!(-0x1589+0xe2f+0x75a),_0x501fa3;}['add'](_0x1aeb75,_0x294b0c){const _0x4d5287=this['getKey'](_0x1aeb75),_0x44705f=this['cache']['get'](_0x4d5287);_0x44705f?_0x44705f['push'](_0x294b0c):this['cache']['set'](_0x4d5287,[_0x294b0c]);}}class pM extends ds{constructor(_0x5799b0,_0x1249f1,_0x5de129,_0x49c2bf,_0x4120b7){super(_0x5799b0),mn['setName'](this,this['name']+'-'+_0x5de129['_node']['name']),this['requiresCu'+'bemaps']=!(-0x103*0x14+-0x1b28+0x44f*0xb),this['shadowRend'+'erer']=_0x1249f1,this['light']=_0x5de129,this['face']=_0x49c2bf,this['applyVsm']=_0x4120b7,this['shadowCame'+'ra']=_0x1249f1['prepareFac'+'e'](_0x5de129,null,_0x49c2bf),_0x1249f1['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x17dd+0x1861+-0x84));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x1*0x23f9+-0x1643+0x3a3d));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x4c2fa9,_0x344c93){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4c2fa9,this['shadowRend'+'erer']=_0x344c93,this['device']=_0x4c2fa9['device']);}['cull'](_0x1c95ac,_0x4c68ad,_0x4794ca=null){const _0x272d0a=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x1c95ac['visibleThi'+'sFrame']=!(-0xc6e+0x26f1+-0x1a83),_0x272d0a||_0x1c95ac['_shadowMap']||(_0x1c95ac['_shadowMap']=un['create'](this['device'],_0x1c95ac));const _0x1ecd03=_0x1c95ac['_type'],_0x33cbb6=_0x1ecd03===Re?0x1637+0x8*-0x220+0x1*-0x536:0x4b*0x18+-0x1*0x12c6+0xbc4;for(let _0x5f456b=-0x81*0x45+0x1032*-0x1+0x32f7;_0x5f456b<_0x33cbb6;_0x5f456b++){const _0x35fe2d=_0x1c95ac['getRenderD'+'ata'](null,_0x5f456b),_0x10f85f=_0x35fe2d['shadowCame'+'ra'];_0x10f85f['nearClip']=_0x1c95ac['attenuatio'+'nEnd']/(-0x1dcc+0x2458+-0x2a4),_0x10f85f['farClip']=_0x1c95ac['attenuatio'+'nEnd'];const _0x4b95b0=_0x10f85f['_node'],_0x2d3d0c=_0x1c95ac['_node'];if(_0x4b95b0['setPositio'+'n'](_0x2d3d0c['getPositio'+'n']()),_0x1ecd03===Re)_0x10f85f['fov']=_0x1c95ac['_outerCone'+'Angle']*(0x5e3*-0x2+-0x7f0+0x4*0x4ee),_0x4b95b0['setRotatio'+'n'](_0x2d3d0c['getRotatio'+'n']()),_0x4b95b0['rotateLoca'+'l'](-(0x1ce5+0x2b*-0x1f+0x2*-0xbab),0x1*-0x15a1+-0x3*0xba1+0x4*0xe21,0x200+0x2180+-0x2380);else{if(_0x1ecd03===Pe){if(_0x272d0a){const _0x2ab26c=(0x1964+0x2692+-0x1ffa*0x2)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x1c95ac['atlasViewp'+'ort']['z']/(0x2*0x12b8+0x1*0x1d91+-0x42fe))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x10f85f['fov']=Math['atan'](-0xfd1*-0x2+0xe8c+-0x2e2d+_0x2ab26c)*N['RAD_TO_DEG']*(-0x7+-0x1*0xf92+0x31f*0x5);}else _0x10f85f['fov']=-0x68d+-0x9a1*0x1+-0x17*-0xb8;}}this['renderer']['updateCame'+'raFrustum'](_0x10f85f),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x4c68ad,_0x1c95ac,_0x35fe2d['visibleCas'+'ters'],_0x10f85f,_0x4794ca);}}['prepareLig'+'hts'](_0x29b2e3,_0x225ca2){let _0x3eda43;for(let _0x3c95e9=0x188b+0x137*-0x3+-0x14e6;_0x3c95e9<_0x225ca2['length'];_0x3c95e9++){const _0x3a3a81=_0x225ca2[_0x3c95e9];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3a3a81)&&_0x3a3a81['atlasViewp'+'ortAllocat'+'ed']){_0x29b2e3['push'](_0x3a3a81);for(let _0x1a2a0e=-0x119+-0x225f+0x2378;_0x1a2a0e<_0x3a3a81['numShadowF'+'aces'];_0x1a2a0e++)_0x3eda43=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3a3a81,null,_0x1a2a0e);}}return _0x3eda43;}['buildNonCl'+'usteredRen'+'derPasses'](_0x3397d4,_0x5c2bc5){for(let _0x16e6d7=0x184*-0xb+0x1*0x24f5+-0x1449;_0x16e6d7<_0x5c2bc5['length'];_0x16e6d7++){const _0x230dc4=_0x5c2bc5[_0x16e6d7];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x230dc4)){const _0x4f09fb=_0x230dc4['_type']===Re,_0xb499da=_0x230dc4['numShadowF'+'aces'];for(let _0x5042e9=-0x1021+0x10d7+-0xb6;_0x5042e9<_0xb499da;_0x5042e9++){const _0x47120a=new pM(this['device'],this['shadowRend'+'erer'],_0x230dc4,_0x5042e9,_0x4f09fb);_0x3397d4['addRenderP'+'ass'](_0x47120a);}}}}}class _M extends ds{constructor(_0x111378,_0x43cbfa,_0x850125,_0x40070b,_0x56396f){super(_0x111378),mn['setName'](this,this['name']+'-'+_0x850125['_node']['name']),this['shadowRend'+'erer']=_0x43cbfa,this['light']=_0x850125,this['camera']=_0x40070b,this['allCascade'+'sRendering']=_0x56396f;}['execute'](){const {light:_0x505971,camera:_0x451c23,shadowRenderer:_0x591d16,allCascadesRendering:_0x23f6df}=this,_0xb4785b=_0x505971['numShadowF'+'aces'],_0x546418=_0x505971['shadowUpda'+'teOverride'+'s'];for(let _0xea288e=0xa*0x1ed+-0x134+0x907*-0x2;_0xea288e<_0xb4785b;_0xea288e++)(_0x546418==null?void(-0x1048+-0xae1+0x1b29):_0x546418[_0xea288e])!==Ps&&_0x591d16['renderFace'](_0x505971,_0x451c23,_0xea288e,!_0x23f6df),(_0x546418==null?void(0x35*0x7+-0x1*-0x481+-0x5f4):_0x546418[_0xea288e])===cn&&(_0x546418[_0xea288e]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0xb19e7c,_0x59bb46,_0x5c5920){Fe[0x13c9+-0xb*0x32f+0xf3c]['x']=Fe[0x7bc*-0x3+-0x18b2+-0x1*-0x2fe7]['x']=Fe[-0x1*-0x1579+-0x4*0x1eb+-0x3*0x499]['x']=Fe[-0xcdf+0x5aa+0x4*0x1ce]['x']=_0x59bb46['x'],Fe[0x1321+-0x110b+-0x1*0x215]['y']=Fe[-0x1958+0x2b*0xb1+-0x460]['y']=Fe[0x1d28+0xbef+-0x2910]['y']=Fe[-0x1*-0x1013+0xc2f*-0x2+0x850]['y']=_0x59bb46['y'],Fe[0x2e*0x29+0x799+-0x1*0xef5]['z']=Fe[0x3f*-0x56+0x19f8*-0x1+0x3*0xfb7]['z']=Fe[0x11ab*-0x1+0x1*-0x2492+-0x1*-0x3643]['z']=Fe[0x127*0x19+-0x2*-0x1384+-0x43d0]['z']=_0x59bb46['z'],Fe[0x1da1+-0x2*0x2bf+-0x181f]['x']=Fe[0x4*-0x6e9+-0xbd*0x26+-0x347*-0x11]['x']=Fe[0x1fde+0x21c5+-0x3*0x15df]['x']=Fe[0x57d+0x911+0xe87*-0x1]['x']=_0x5c5920['x'],Fe[-0x13a*0x2+-0x2000+0x1b9*0x14]['y']=Fe[-0x1*-0x13f5+0x1*0xe35+-0x2228]['y']=Fe[-0x15d0+-0x1*-0x5d3+0x1001]['y']=Fe[0x2467+0xc*0xd1+-0x2e2d*0x1]['y']=_0x5c5920['y'],Fe[-0x2401*-0x1+-0x1*-0x2a4+-0x2f9*0xd]['z']=Fe[0x2e*0x7+-0xe*0x13f+0x1031]['z']=Fe[-0x2502+-0x6c7*0x1+-0x1*-0x2bcd]['z']=Fe[0x174b*0x1+-0x85c+-0xeea]['z']=_0x5c5920['z'];let _0x2e5dba=0x33b0423d2+0x6d3b0af0*0x3+-0x287*0xdd0c05,_0x49fc17=-(0x2ef76eef7+0x2b66a47bb+-0x351d552b3);for(let _0x46dc4a=-0x1a7e+0x22d7+0x1*-0x859;_0x46dc4a<0x17*0xa3+0x1e6+-0x1083;++_0x46dc4a){_0xb19e7c['transformP'+'oint'](Fe[_0x46dc4a],Fe[_0x46dc4a]);const _0x3a527c=Fe[_0x46dc4a]['z'];_0x3a527c<_0x2e5dba&&(_0x2e5dba=_0x3a527c),_0x3a527c>_0x49fc17&&(_0x49fc17=_0x3a527c);}return Pd['min']=_0x2e5dba,Pd['max']=_0x49fc17,Pd;}class yM{constructor(_0x14773d,_0x5eb286){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x14773d,this['shadowRend'+'erer']=_0x5eb286,this['device']=_0x14773d['device']);}['cull'](_0x224bfa,_0x66a560,_0x55a8dd,_0x1947eb=null){_0x224bfa['visibleThi'+'sFrame']=!(-0x12af+-0x7*0x22+0x139d),_0x224bfa['_shadowMap']||(_0x224bfa['_shadowMap']=un['create'](this['device'],_0x224bfa));const _0x20f297=_0x55a8dd['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x224bfa,_0x20f297,Math['min'](_0x55a8dd['_farClip'],_0x224bfa['shadowDist'+'ance']));const _0xa2469e=_0x224bfa['shadowUpda'+'teOverride'+'s'];for(let _0xe55807=0x1edd+-0x52b+-0x19b2;_0xe55807<_0x224bfa['numCascade'+'s']&&(_0xa2469e==null?void(-0x9*0xaf+-0x146f*-0x1+-0xe48):_0xa2469e[_0xe55807])!==Ps;_0xe55807++){const _0x43bbb4=_0x224bfa['getRenderD'+'ata'](_0x55a8dd,_0xe55807),_0x273e0f=_0x43bbb4['shadowCame'+'ra'];_0x273e0f['renderTarg'+'et']=_0x224bfa['_shadowMap']['renderTarg'+'ets'][0x6ef+-0x1887+-0x466*-0x4],_0x43bbb4['shadowView'+'port']['copy'](_0x224bfa['cascades'][_0xe55807]),_0x43bbb4['shadowScis'+'sor']['copy'](_0x224bfa['cascades'][_0xe55807]);const _0x1a7fce=_0x273e0f['_node'],_0x1942d9=_0x224bfa['_node'];_0x1a7fce['setPositio'+'n'](_0x1942d9['getPositio'+'n']()),_0x1a7fce['setRotatio'+'n'](_0x1942d9['getRotatio'+'n']()),_0x1a7fce['rotateLoca'+'l'](-(-0x1*-0x2cf+0xb*-0x3b+0x4*0x5),-0x2dd*0x2+0x404*-0x4+0x15ca,-0x521*-0x1+-0x1ec4+0x19a3);const _0x38c356=_0xe55807===0xe41+-0x20aa+0x1269?_0x20f297:_0x224bfa['_shadowCas'+'cadeDistan'+'ces'][_0xe55807-(0xb*-0x89+-0xa25+0x1009*0x1)],_0x522939=_0x224bfa['_shadowCas'+'cadeDistan'+'ces'][_0xe55807],_0x22f493=_0x55a8dd['getFrustum'+'Corners'](_0x38c356,_0x522939);ei['set'](-0x1*0x16e5+0xbf8+0xaed*0x1,-0x1*0x20ef+0x43c+0x1cb3,0x292+-0x14*-0x1b6+-0x2*0x1265);const _0x2b47ac=_0x55a8dd['node']['getWorldTr'+'ansform']();for(let _0x6b94f=0x44*-0x8a+0x1*0x1dc5+0x6e3;_0x6b94f<0xa3*-0xd+-0x1*0x649+-0x3a6*-0x4;_0x6b94f++)_0x2b47ac['transformP'+'oint'](_0x22f493[_0x6b94f],_0x22f493[_0x6b94f]),ei['add'](_0x22f493[_0x6b94f]);ei['mulScalar']((0x1680+-0x1ca3*-0x1+-0x3322)/(-0x11*-0x24+0x209c+0x8*-0x45f));let _0x182b69=-0x3*0x5d2+-0x368+-0xa6f*-0x2;for(let _0x4d3ecd=0x1f55+0x1*-0x1b37+-0x41e;_0x4d3ecd<-0x21c4*0x1+-0x1*0x1fe7+0x41b3;_0x4d3ecd++){const _0x5009aa=_0x22f493[_0x4d3ecd]['sub'](ei)['length']();_0x5009aa>_0x182b69&&(_0x182b69=_0x5009aa);}const _0x2d2dd1=_0x1a7fce['right'],_0x33f954=_0x1a7fce['up'],_0x2ddf93=_0x1a7fce['forward'],_0x17461a=(0x16a2*0x1+0x20d4+-0x3776+0.25)*_0x224bfa['_shadowRes'+'olution']/_0x182b69,_0x25da0d=Math['ceil'](ei['dot'](_0x33f954)*_0x17461a)/_0x17461a,_0x226ba0=Math['ceil'](ei['dot'](_0x2d2dd1)*_0x17461a)/_0x17461a,_0x5daef5=_0x33f954['mulScalar'](_0x25da0d),_0x2fa8f3=_0x2d2dd1['mulScalar'](_0x226ba0),_0x5466b7=ei['dot'](_0x2ddf93),_0x3498f7=_0x2ddf93['mulScalar'](_0x5466b7);ei['add2'](_0x5daef5,_0x2fa8f3)['add'](_0x3498f7),_0x1a7fce['setPositio'+'n'](ei),_0x1a7fce['translateL'+'ocal'](-0x5d5+0x791*0x4+-0x186f,-0x1a45+-0x16f0+-0x143*-0x27,0x7f96f*-0x1+0xe7d*-0xf4+0x250ad3*0x1),_0x273e0f['nearClip']=-0x1f1a+-0x1fd3+-0x3eed*-0x1+0.01,_0x273e0f['farClip']=-0x5f*0xa4d+-0x21*0xd305+0x3d8ab8,_0x273e0f['orthoHeigh'+'t']=_0x182b69,this['renderer']['updateCame'+'raFrustum'](_0x273e0f),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x66a560,_0x224bfa,_0x43bbb4['visibleCas'+'ters'],_0x273e0f,_0x1947eb);let _0xf66bd1=!(0x19bd+0x2585+0x6*-0xa8b);const _0x1ad0ec=_0x43bbb4['visibleCas'+'ters'];for(let _0x30a919=0x18cb+0x1*-0xaa6+-0xe25;_0x30a919<_0x1ad0ec['length'];_0x30a919++){const _0xbb29cc=_0x1ad0ec[_0x30a919];_0xf66bd1?(_0xf66bd1=!(0x20db+-0x4*0x191+0x53*-0x52),Ll['copy'](_0xbb29cc['aabb'])):Ll['add'](_0xbb29cc['aabb']);}d_['copy'](_0x1a7fce['getWorldTr'+'ansform']())['invert']();const _0x26b6af=gM(d_,Ll['getMin'](),Ll['getMax']());_0x1a7fce['translateL'+'ocal'](0x4*-0x2ed+0x1c0+0x9f4,-0x1*0x1900+-0x199*0x14+0x12*0x32a,_0x26b6af['max']+(-0x21b5*-0x1+-0x23*-0x1d+-0x96b*0x4+0.1)),_0x273e0f['farClip']=_0x26b6af['max']-_0x26b6af['min']+(-0x2*0x126a+-0x17*-0x107+0xd33+0.2),_0x43bbb4['projection'+'Compensati'+'on']=_0x182b69;}}['generateSp'+'litDistanc'+'es'](_0x23f997,_0x318fca,_0x23c29c){_0x23f997['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x23c29c);for(let _0x1a2996=0x6*0x1d2+-0x117+-0x1*0x9d4;_0x1a2996<_0x23f997['numCascade'+'s'];_0x1a2996++){const _0x27cf75=_0x1a2996/_0x23f997['numCascade'+'s'],_0x13666d=_0x318fca+(_0x23c29c-_0x318fca)*_0x27cf75,_0x380bc0=_0x318fca*(_0x23c29c/_0x318fca)**_0x27cf75,_0x4f7a14=N['lerp'](_0x13666d,_0x380bc0,_0x23f997['cascadeDis'+'tribution']);_0x23f997['_shadowCas'+'cadeDistan'+'ces'][_0x1a2996-(0x11*-0x12b+-0x1392+-0x13b7*-0x2)]=_0x4f7a14;}}['getLightRe'+'nderPass'](_0x2aa88e,_0x52a77b){v['assert'](_0x2aa88e&&_0x2aa88e['_type']===oe);let _0x58a4bf=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2aa88e)){const _0x13d69c=_0x2aa88e['numShadowF'+'aces'],_0x3ef2bc=_0x2aa88e['shadowUpda'+'teOverride'+'s'];let _0xd80fdf=!(-0x1e57+0x4c*-0x64+0x3c07),_0x117285;for(let _0x330f15=0x3d7+0x2*0xc85+-0x1*0x1ce1;_0x330f15<_0x13d69c;_0x330f15++)(_0x3ef2bc==null?void(0x1*-0x178c+-0x3f1*0x7+0x3323):_0x3ef2bc[_0x330f15])===Ps&&(_0xd80fdf=!(-0x3*-0x3d1+0x2592+-0x1*0x3104)),_0x117285=this['shadowRend'+'erer']['prepareFac'+'e'](_0x2aa88e,_0x52a77b,_0x330f15);_0x58a4bf=new _M(this['device'],this['shadowRend'+'erer'],_0x2aa88e,_0x52a77b,_0xd80fdf),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x58a4bf,_0x117285,_0xd80fdf);}return _0x58a4bf;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(0x11d3+-0x5*-0x635+-0x30da),Xa=new Q(0x16a1*-0x1+0x1c42+-0x3*0x1e0,-0xc77+0x233f+-0x16c7,0x12cc+-0x5*-0x757+0x1*-0x377f,-0xa7b*0x1+-0x1e75+0x1*0x28f0),p_=new q();function xM(_0x1474e2,_0x3077f9){return Math['exp'](-(_0x1474e2*_0x1474e2)/((-0x225b+-0xf9d+0x31fa)*_0x3077f9*_0x3077f9));}function SM(_0x370d67){const _0xa7c974=(_0x370d67-(-0x5*0x403+-0x172b+0x2b3b*0x1))/(-0xf59+0xd08+0x257),_0x5e171b=(_0x370d67-(-0x1f18+0x20ef+0x5e*-0x5))*(0x10b8+-0xa*0x3b5+-0x145a*-0x1+0.5),_0xdc129a=new Array(_0x370d67);let _0x45a274=0x2*0x3e3+-0x1071+0x8ab;for(let _0x1b8919=0x18ae+0x16c*0xd+-0x1a*0x1a9;_0x1b8919<_0x370d67;++_0x1b8919)_0xdc129a[_0x1b8919]=xM(_0x1b8919-_0x5e171b,_0xa7c974),_0x45a274+=_0xdc129a[_0x1b8919];for(let _0x37f7e6=-0x1b9*0x9+0x1*-0x1fae+-0x2f*-0x101;_0x37f7e6<_0x370d67;++_0x37f7e6)_0xdc129a[_0x37f7e6]/=_0x45a274;return _0xdc129a;}class I0{constructor(_0xda0b71,_0x1c0757){c(this,'shadowPass'+'Cache',[]),(this['device']=_0xda0b71['device'],this['renderer']=_0xda0b71,this['lightTextu'+'reAtlas']=_0x1c0757);const _0x471aac=this['device']['scope'];this['sourceId']=_0x471aac['resolve']('source'),this['pixelOffse'+'tId']=_0x471aac['resolve']('pixelOffse'+'t'),this['weightId']=_0x471aac['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x471aac['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x1091*-0x1+0x1*0x1a7d+-0x9eb),!(0x139*-0x11+0x13b3+-0x5d*-0x3),!(0x1*-0x22c3+-0x99*0x25+-0x1*-0x38e1),!(0xdbb*-0x2+0x1769+0x40e));}static['createShad'+'owCamera'](_0x106e60,_0x216b29,_0x4fad28){const _0x4bea35=Ma['create']('ShadowCame'+'ra',_0x216b29,_0x4fad28),_0x12e5ad=ir['get'](_0x106e60);v['assert'](_0x12e5ad);const _0x4d3854=(_0x12e5ad==null?void(0xa16+-0x104d+0x637):_0x12e5ad['vsm'])??!(0x190b+-0x1*-0x1813+-0x311d),_0x1da9c0=(_0x12e5ad==null?void(-0x255*0xa+0x2*-0x1007+0x3760):_0x12e5ad['pcf'])??!(-0xe6a+-0x1c35+0x2aa0);return _0x4d3854?_0x4bea35['clearColor']=new Y(-0x22eb*0x1+-0x1608+0x38f3,-0x2dc*-0x4+-0x33*-0x43+-0x18c9,-0xd8b*-0x2+0x6c4+-0x10ed*0x2,-0xc2*0x16+0x2*-0x2a8+0x15fc):_0x4bea35['clearColor']=new Y(0x24f5+-0x14*-0x1bb+-0x4790,0xebd+-0x13ca+0x50e,0x64d*0x4+0x15c6+-0x2ef9,0x10b9+-0x36f*-0xa+0x330e*-0x1),_0x4bea35['clearDepth'+'Buffer']=!(0x165c+-0x1bfc*-0x1+-0x3258),_0x4bea35['clearStenc'+'ilBuffer']=!(0x1*0xb6f+0x2*-0x265+-0x1*0x6a4),_0x4bea35['clearColor'+'Buffer']=!_0x1da9c0,_0x4bea35;}['_cullShado'+'wCastersIn'+'ternal'](_0x448b14,_0x108ba1,_0x389c02){const _0x223e32=_0x448b14['length'];for(let _0x2c36aa=-0x15b*0x1+0xa3*-0x5+0x48a;_0x2c36aa<_0x223e32;_0x2c36aa++){const _0x4c539a=_0x448b14[_0x2c36aa];_0x4c539a['castShadow']&&(!_0x4c539a['cull']||_0x4c539a['_isVisible'](_0x389c02))&&(_0x4c539a['visibleThi'+'sFrame']=!(-0xc80+0x548+0x738),_0x108ba1['push'](_0x4c539a));}}['cullShadow'+'Casters'](_0x295bdd,_0x23fce3,_0x1774b3,_0x49d118,_0xde4429){if(_0x1774b3['length']=-0x3*0x8a5+-0x16b0+-0x1035*-0x3,_0xde4429)this['_cullShado'+'wCastersIn'+'ternal'](_0xde4429,_0x1774b3,_0x49d118);else{const _0x25f89b=_0x295bdd['layerList'],_0x3cf50c=_0x25f89b['length'];for(let _0x37d6f1=-0x2698+0x1483+0x1215;_0x37d6f1<_0x3cf50c;_0x37d6f1++){const _0xf245a=_0x25f89b[_0x37d6f1];_0xf245a['_lightsSet']['has'](_0x23fce3)&&(Rd['has'](_0xf245a)||(Rd['add'](_0xf245a),this['_cullShado'+'wCastersIn'+'ternal'](_0xf245a['shadowCast'+'ers'],_0x1774b3,_0x49d118)));}Rd['clear']();}_0x1774b3['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x123e11,_0x148716){const _0x4c2995=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x148716['_isPcf']:_0x148716['_isPcf']&&_0x148716['_type']!==Pe;_0x123e11['setBlendSt'+'ate'](_0x4c2995?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x123e11['setDepthSt'+'ate'](_0x148716['shadowDept'+'hState']),_0x123e11['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x31d0e1,_0x3a7957,_0x5987fd,_0x3a99f6){const _0x398a49=_0x3a7957['_node'];_0x31d0e1['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x398a49['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x31d0e1['attenuatio'+'nEnd'])),u_['setTRS'](_0x398a49['getPositio'+'n'](),_0x398a49['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x3a7957['projection'+'Matrix'],u_);const _0x1a6f93=_0x5987fd['shadowView'+'port'];_0x3a7957['rect']=_0x1a6f93,_0x3a7957['scissorRec'+'t']=_0x5987fd['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x1a6f93['x'],_0x1a6f93['y'],_0x1a6f93['z'],_0x1a6f93['w']),_0x5987fd['shadowMatr'+'ix']['mul2'](p_,f_),_0x31d0e1['_type']===oe&&_0x31d0e1['_shadowMat'+'rixPalette']['set'](_0x5987fd['shadowMatr'+'ix']['data'],_0x3a99f6*(-0xf22+-0x1*-0x20ab+-0x1179));}['getShadowP'+'ass'](_0x27b0d5){var _0x3d442f;const _0x2230ae=_0x27b0d5['_type'],_0x4dd481=_0x27b0d5['_shadowTyp'+'e'];let _0x2ad516=(_0x3d442f=this['shadowPass'+'Cache'][_0x2230ae])==null?void(-0x9b9+0x1a8d*-0x1+0x2446):_0x3d442f[_0x4dd481];if(!_0x2ad516){const _0x4ec24b='ShadowPass'+'_'+_0x2230ae+'_'+_0x4dd481;_0x2ad516=Ks['get'](this['device'])['allocate'](_0x4ec24b,{'isShadow':!(0x16*0x11a+0x818+-0x2054),'lightType':_0x2230ae,'shadowType':_0x4dd481}),this['shadowPass'+'Cache'][_0x2230ae]||(this['shadowPass'+'Cache'][_0x2230ae]=[]),this['shadowPass'+'Cache'][_0x2230ae][_0x4dd481]=_0x2ad516;}return _0x2ad516['index'];}['submitCast'+'ers'](_0x21dbbc,_0x1b8f03,_0x1250e5){const _0x261a4d=this['device'],_0x6a11d7=this['renderer'],_0x81136f=_0x6a11d7['scene'],_0x4429a5=0x5f2*0x4+0x1*0xe24+-0x25eb<<Rp,_0x2dc693=this['getShadowP'+'ass'](_0x1b8f03),_0x418cc9=_0x1250e5['shaderPara'+'ms'],_0x40b040=_0x1250e5['renderTarg'+'et']['flipY']?-(-0x977+-0x10b5+0x1a2d):0x1fb2*0x1+-0x2c7+-0x1cea,_0x2b438b=_0x21dbbc['length'];for(let _0x5409f1=-0x1255+0x5dd+-0x214*-0x6;_0x5409f1<_0x2b438b;_0x5409f1++){const _0x38abad=_0x21dbbc[_0x5409f1],_0x22565b=_0x38abad['mesh'];_0x38abad['ensureMate'+'rial'](_0x261a4d);const _0x50d84c=_0x38abad['material'];G['pushGpuMar'+'ker'](_0x261a4d,'Node:\x20'+_0x38abad['node']['name']+(',\x20Material'+':\x20')+_0x50d84c['name']),_0x6a11d7['setBaseCon'+'stants'](_0x261a4d,_0x50d84c),_0x6a11d7['setSkinnin'+'g'](_0x261a4d,_0x38abad),_0x50d84c['dirty']&&(_0x50d84c['updateUnif'+'orms'](_0x261a4d,_0x81136f),_0x50d84c['dirty']=!(-0xc4+0x1*0xe41+0x1*-0xd7c)),_0x6a11d7['setupCullM'+'ode'](!(0x17f0+-0x1ea1*-0x1+-0x3691),_0x40b040,_0x38abad),_0x50d84c['setParamet'+'ers'](_0x261a4d),_0x38abad['setParamet'+'ers'](_0x261a4d,_0x4429a5);const _0x5d1689=_0x38abad['getShaderI'+'nstance'](_0x2dc693,-0x33*-0x7c+0x5c4*0x1+-0xc3*0x28,_0x81136f,_0x418cc9,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x537e5f=_0x5d1689['shader'];v['assert'](_0x537e5f,'no\x20shader\x20'+'for\x20pass\x20'+_0x2dc693,_0x50d84c),_0x38abad['_key'][ku]=_0x537e5f['id'],_0x261a4d['setShader'](_0x537e5f),_0x6a11d7['setVertexB'+'uffers'](_0x261a4d,_0x22565b),_0x6a11d7['setMorphin'+'g'](_0x261a4d,_0x38abad['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x5d1689,_0x38abad);const _0x43c623=_0x38abad['renderStyl'+'e'];_0x261a4d['setIndexBu'+'ffer'](_0x22565b['indexBuffe'+'r'][_0x43c623]),_0x6a11d7['drawInstan'+'ce'](_0x261a4d,_0x38abad,_0x22565b,_0x43c623),_0x6a11d7['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x261a4d);}}['needsShado'+'wRendering'](_0x2f4daf){const _0x3c1c0c=_0x2f4daf['enabled']&&_0x2f4daf['castShadow'+'s']&&_0x2f4daf['shadowUpda'+'teMode']!==Ps&&_0x2f4daf['visibleThi'+'sFrame'];return _0x2f4daf['shadowUpda'+'teMode']===cn&&(_0x2f4daf['shadowUpda'+'teMode']=Ps),_0x3c1c0c&&(this['renderer']['_shadowMap'+'Updates']+=_0x2f4daf['numShadowF'+'aces']),_0x3c1c0c;}['getLightRe'+'nderData'](_0x20c405,_0x361f5d,_0x48495b){return _0x20c405['getRenderD'+'ata'](_0x20c405['_type']===oe?_0x361f5d:null,_0x48495b);}['setupRende'+'rPass'](_0x15f7d8,_0x255733,_0x5b479f){const _0x6042f0=_0x255733['renderTarg'+'et'];_0x15f7d8['init'](_0x6042f0),_0x15f7d8['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x7*0x1f7+-0x23*-0x10d+-0x1705,_0x15f7d8['depthStenc'+'ilOps']['clearDepth']=_0x5b479f,_0x6042f0['depthBuffe'+'r']?_0x15f7d8['depthStenc'+'ilOps']['storeDepth']=!(0x967+0x260a+-0x5*0x97d):(_0x15f7d8['colorOps']['clearValue']['copy'](_0x255733['clearColor']),_0x15f7d8['colorOps']['clear']=_0x5b479f,_0x15f7d8['depthStenc'+'ilOps']['storeDepth']=!(0x42a+-0x89*0x21+0x80*0x1b)),_0x15f7d8['requiresCu'+'bemaps']=!(-0x3a5+0xb2d+0x1*-0x787);}['prepareFac'+'e'](_0x3c43aa,_0x19b10a,_0x55f61d){const _0x5019db=_0x3c43aa['_type'],_0x29d9c6=this['getLightRe'+'nderData'](_0x3c43aa,_0x19b10a,_0x55f61d)['shadowCame'+'ra'],_0x278be6=_0x5019db===oe?0x3*-0x813+-0x7c6*0x1+0x1fff:_0x55f61d;return _0x29d9c6['renderTarg'+'et']=_0x3c43aa['_shadowMap']['renderTarg'+'ets'][_0x278be6],_0x29d9c6;}['renderFace'](_0x1f4e08,_0x6f2165,_0x23c852,_0x4c9dd7,_0x40b927=!(0x193*0x5+-0x1276+0xa97)){const _0x3f5c1e=this['device'],_0x38a3ab=ne();G['pushGpuMar'+'ker'](_0x3f5c1e,'SHADOW\x20'+_0x1f4e08['_node']['name']+'\x20FACE\x20'+_0x23c852);const _0x22dced=this['getLightRe'+'nderData'](_0x1f4e08,_0x6f2165,_0x23c852),_0x2986b3=_0x22dced['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x1f4e08,_0x2986b3,_0x22dced,_0x23c852);const _0x28c130=_0x2986b3['renderTarg'+'et'],_0x3b61ae=this['renderer'];_0x3b61ae['setCameraU'+'niforms'](_0x2986b3,_0x28c130),_0x3f5c1e['supportsUn'+'iformBuffe'+'rs']&&_0x3b61ae['setupViewU'+'niformBuff'+'ers'](_0x22dced['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x47*0x10+0xfc1*0x1+-0x1430*0x1),_0x40b927?(_0x3b61ae['setupViewp'+'ort'](_0x2986b3,_0x28c130),_0x4c9dd7&&_0x3b61ae['clear'](_0x2986b3)):_0x3b61ae['clearView'](_0x2986b3,_0x28c130,!(0x28e+-0x2161+-0x1ed3*-0x1),!(-0x3e*0x14+-0x1*-0xe7d+0x1*-0x9a4)),this['setupRende'+'rState'](_0x3f5c1e,_0x1f4e08),this['submitCast'+'ers'](_0x22dced['visibleCas'+'ters'],_0x1f4e08,_0x2986b3),G['popGpuMark'+'er'](_0x3f5c1e),_0x3b61ae['_shadowMap'+'Time']+=ne()-_0x38a3ab;}['render'](_0x1fd8bd,_0x1a361e,_0x5dbb4b=!(-0x14b1+0x1935+0x2*-0x242)){if(this['needsShado'+'wRendering'](_0x1fd8bd)){const _0x311eea=_0x1fd8bd['numShadowF'+'aces'];for(let _0x5716bc=0x1*0xc87+-0x14*0x1e8+-0x1999*-0x1;_0x5716bc<_0x311eea;_0x5716bc++)this['prepareFac'+'e'](_0x1fd8bd,_0x1a361e,_0x5716bc),this['renderFace'](_0x1fd8bd,_0x1a361e,_0x5716bc,!(-0x1*0x2065+0x579+0x1aec),_0x5dbb4b);this['renderVsm'](_0x1fd8bd,_0x1a361e);}}['renderVsm'](_0x3a019a,_0x5cf28a){_0x3a019a['_isVsm']&&_0x3a019a['_vsmBlurSi'+'ze']>0x1ce9*-0x1+-0x3d7*-0x5+-0x33d*-0x3&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x3a019a['_type']===oe)&&this['applyVsmBl'+'ur'](_0x3a019a,_0x5cf28a);}['getVsmBlur'+'Shader'](_0x1de41e,_0x56ea1f){const _0x4c46b0=this['blurVsmSha'+'der'];let _0x1b1dda=_0x4c46b0[_0x1de41e][_0x56ea1f];if(!_0x1b1dda){this['blurVsmWei'+'ghts'][_0x56ea1f]=SM(_0x56ea1f);const _0x49b644=X['fullscreen'+'QuadVS'];let _0x4a11c7='#define\x20SA'+'MPLES\x20'+_0x56ea1f+'\x0a';_0x4a11c7+=this['blurVsmSha'+'derCode'][_0x1de41e];const _0x3775d7='blurVsm'+_0x1de41e+_0x56ea1f;_0x1b1dda=Is(this['device'],_0x49b644,_0x4a11c7,_0x3775d7),_0x4c46b0[_0x1de41e][_0x56ea1f]=_0x1b1dda;}return _0x1b1dda;}['applyVsmBl'+'ur'](_0x5570aa,_0x4af594){const _0xbabe76=this['device'];G['pushGpuMar'+'ker'](_0xbabe76,'VSM\x20'+_0x5570aa['_node']['name']),_0xbabe76['setBlendSt'+'ate'](_t['NOBLEND']);const _0x422d1f=_0x5570aa['getRenderD'+'ata'](_0x5570aa['_type']===oe?_0x4af594:null,-0xc66+-0x1*0x1c23+-0x3*-0xd83)['shadowCame'+'ra']['renderTarg'+'et'],_0x1105ef=this['renderer']['shadowMapC'+'ache']['get'](_0xbabe76,_0x5570aa),_0x1d2359=_0x1105ef['renderTarg'+'ets'][0x7*-0x16e+0x1109+-0x707],_0x71826a=_0x5570aa['vsmBlurMod'+'e'],_0x271c5b=_0x5570aa['_vsmBlurSi'+'ze'],_0x339a7f=this['getVsmBlur'+'Shader'](_0x71826a,_0x271c5b);Xa['z']=_0x5570aa['_shadowRes'+'olution']-(0x1a11+-0x104c+0x3*-0x341),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x422d1f['colorBuffe'+'r']),vr[0x10b7+0x18e3+0x3*-0xdde]=(-0x1*-0xd0a+0xae9+-0x17f2)/_0x5570aa['_shadowRes'+'olution'],vr[0x156f+0x1b88+-0x30f6]=-0x1*0x20d3+0x166a+0xa69,this['pixelOffse'+'tId']['setValue'](vr),_0x71826a===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x271c5b]),dn(_0xbabe76,_0x1d2359,_0x339a7f,null,Xa),this['sourceId']['setValue'](_0x1d2359['colorBuffe'+'r']),vr[0x2548+0xcc7+0x1907*-0x2]=vr[0x931+0x125b+-0xa4*0x2b],vr[-0x10d*-0x1c+0xe13+-0x2b7f]=0xd48+0x2*0xffc+0xb50*-0x4,this['pixelOffse'+'tId']['setValue'](vr),dn(_0xbabe76,_0x422d1f,_0x339a7f,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x5570aa,_0x1105ef),G['popGpuMark'+'er'](_0xbabe76);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x395729){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x395729;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x2ee7c5=>{_0x2ee7c5['destroy']();}),this['_allocated']['length']=-0x17e0+-0x1cd*0x1+0x19ad;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x786f36=new zu(this['device']);_0x786f36['name']='ClusterEmp'+'ty',_0x786f36['update']([]),this['_empty']=_0x786f36;}return this['_empty'];}['assign'](_0x205607){const _0x1ef3ce=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=0x153f+-0x127+-0x1418,this['_clusters']['clear']();const _0x26a52c=_0x205607['length'];for(let _0x3ed740=-0x835+-0x40*0x1a+-0x4e7*-0x3;_0x3ed740<_0x26a52c;_0x3ed740++){const _0x57e4d2=_0x205607[_0x3ed740]['renderActi'+'ons'];if(_0x57e4d2){const _0x591c5c=_0x57e4d2['length'];for(let _0x582420=-0x2214+-0x1*0xe41+-0x3055*-0x1;_0x582420<_0x591c5c;_0x582420++){const _0x5b81c3=_0x57e4d2[_0x582420];_0x5b81c3['lightClust'+'ers']=null;const _0x4e5356=_0x5b81c3['layer'];if(_0x4e5356['hasCluster'+'edLights']&&_0x4e5356['meshInstan'+'ces']['length']){const _0x3d849b=_0x4e5356['getLightId'+'Hash'](),_0x336ee3=this['_clusters']['get'](_0x3d849b);let _0x1c49df=_0x336ee3==null?void(-0xb*-0x125+0xca*-0x1a+0x7ed):_0x336ee3['lightClust'+'ers'];_0x1c49df||(_0x1c49df=Fl['pop']()??new zu(this['device']),mn['setName'](_0x1c49df,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x1c49df),this['_clusters']['set'](_0x3d849b,_0x5b81c3)),_0x5b81c3['lightClust'+'ers']=_0x1c49df;}_0x5b81c3['lightClust'+'ers']||(_0x5b81c3['lightClust'+'ers']=_0x1ef3ce);}}}Fl['forEach'](_0x43b0e7=>_0x43b0e7['destroy']()),Fl['length']=-0x167b+-0x1*0x14d7+0x2b52;}['update'](_0x2b8a6b,_0x4a7950){this['assign'](_0x2b8a6b),this['_clusters']['forEach'](_0x2c683c=>{const _0x1144de=_0x2c683c['layer'];_0x2c683c['lightClust'+'ers']['update'](_0x1144de['clusteredL'+'ightsSet'],_0x4a7950);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0xb94bd9,_0x555a30){super(_0xb94bd9),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x555a30,this['requiresCu'+'bemaps']=!(0x1*-0x1ca1+0x2081+-0x3df),this['blitTextur'+'eId']=_0xb94bd9['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0xb94bd9['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x5d95d5,_0x491ca1;(_0x5d95d5=this['_quadRende'+'rer2D'])==null||_0x5d95d5['destroy'](),this['_quadRende'+'rer2D']=null,(_0x491ca1=this['_quadRende'+'rerCube'])==null||_0x491ca1['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x19e61a,_0x47b252){v['assert'](_0x19e61a);const _0x5a7f68=new kp(_0x19e61a['device'],_0x47b252);return _0x5a7f68['init'](_0x19e61a),_0x5a7f68['colorOps']['clear']=!(0x2e0*-0x1+-0xb*0x133+-0xb*-0x176),_0x5a7f68['depthStenc'+'ilOps']['clearDepth']=!(0x1623+-0x185*0xa+0x6*-0x128),_0x5a7f68;}['update'](_0xfcda29){const _0x3f0450=this['_filteredL'+'ights'];this['filter'](_0xfcda29,_0x3f0450),this['executeEna'+'bled']=_0x3f0450['length']>-0x1*-0x25e1+-0x1*0x641+-0x1fa0;}['filter'](_0xb1bfde,_0x3cc3f1){for(let _0x57318a=-0x2*0x208+-0xf94+0x13a4;_0x57318a<_0xb1bfde['length'];_0x57318a++){const _0x4953d4=_0xb1bfde[_0x57318a];_0x4953d4['_type']!==oe&&_0x4953d4['atlasViewp'+'ortAllocat'+'ed']&&_0x4953d4['atlasSlotU'+'pdated']&&_0x4953d4['enabled']&&_0x4953d4['cookie']&&_0x4953d4['visibleThi'+'sFrame']&&_0x3cc3f1['push'](_0x4953d4);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x31a0b1=0x184b+0x1e4b+-0x3696;_0x31a0b1<0x18*-0x2+0xc5e+0x4*-0x30a;_0x31a0b1++){const _0x4c6627=Ma['create'](null,Pe,_0x31a0b1),_0x26e4aa=_0x4c6627['projection'+'Matrix'],_0x383db1=_0x4c6627['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x31a0b1]=new q()['mul2'](_0x26e4aa,_0x383db1)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x4bf6ce=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x4bf6ce);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x471c0e=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x471c0e);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x9a50f4=this['device'];_0x9a50f4['setBlendSt'+'ate'](_t['NOBLEND']),_0x9a50f4['setCullMod'+'e'](mt),_0x9a50f4['setDepthSt'+'ate'](as['NODEPTH']),_0x9a50f4['setStencil'+'State']();const _0x553ce8=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x39be1b=this['_cubeSlots'+'Offsets'],_0x57d2ae=this['_filteredL'+'ights'];for(let _0x342cd2=0x14*0x8f+-0x216b+-0x5*-0x473;_0x342cd2<_0x57d2ae['length'];_0x342cd2++){const _0x47a751=_0x57d2ae[_0x342cd2];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x47a751['_node']['name']);const _0x56ee05=_0x47a751['numShadowF'+'aces'],_0x2b4867=_0x56ee05>-0x295*0x3+-0x1*-0x101+0x6bf*0x1?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x56ee05>0x1*-0x1953+0x91c*-0x1+0x44e*0x8&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x47a751['cookie']);for(let _0x12c61b=0xaee+-0x1*-0x1991+-0x247f;_0x12c61b<_0x56ee05;_0x12c61b++){if(Gi['copy'](_0x47a751['atlasViewp'+'ort']),_0x56ee05>-0x905*-0x2+-0x1*0x16d9+0x7*0xb0){const _0x31b198=Gi['z']/(-0x1*0x59a+0x95c*0x1+-0x89*0x7),_0x1c7114=_0x39be1b[_0x12c61b];Gi['x']+=_0x31b198*_0x1c7114['x'],Gi['y']+=_0x31b198*_0x1c7114['y'],Gi['z']=_0x31b198,Gi['w']=_0x31b198,this['invViewPro'+'jId']['setValue'](Id[_0x12c61b]['data']);}Gi['mulScalar'](_0x553ce8),_0x2b4867['render'](Gi);}G['popGpuMark'+'er'](_0x9a50f4);}_0x57d2ae['length']=0x160f+-0xf5*0x15+-0x1f6;}}class TM extends ds{constructor(_0x2c1d37,_0x3407b5,_0x4dcab0){super(_0x2c1d37),this['requiresCu'+'bemaps']=!(0x144c+0x144+0x1*-0x158f),this['shadowRend'+'erer']=_0x3407b5,this['shadowRend'+'ererLocal']=_0x4dcab0;}['update'](_0x29ee24){const _0x2ba28c=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x59fe3a=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x2ba28c,_0x29ee24),_0x217550=_0x2ba28c['length'];this['enabled']=_0x217550>-0xe7b+0x10e2+-0x1*0x267,_0x217550&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x59fe3a,!(0xffd+-0x2b*0xc7+-0x5f*-0x2f));}['execute'](){const _0x3a4ddc=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x48298b=_0x3a4ddc['length'];for(let _0x189f48=0xc1+-0x138*0xf+0x7*0x281;_0x189f48<_0x48298b;_0x189f48++){const _0x149e7b=_0x3a4ddc[_0x189f48];for(let _0x2f3a68=-0x1*0x15b+-0x1*0x2709+0x2*0x1432;_0x2f3a68<_0x149e7b['numShadowF'+'aces'];_0x2f3a68++)this['shadowRend'+'erer']['renderFace'](_0x149e7b,null,_0x2f3a68,!(-0x13da+0xf9c+0x43e));}_0x3a4ddc['length']=-0x1beb+0x2667+-0xf4*0xb;}}class AM extends ds{constructor(_0x401f30,_0x114fd4,_0x17bab0,_0x434a83,_0xd8992){super(_0x401f30),this['renderer']=_0x114fd4,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0xd8992['cookieRend'+'erTarget'],_0xd8992['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x401f30,_0x17bab0,_0x434a83),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x2926ee,_0x7089e9,_0x55150f,_0x477c2c,_0x11916f){this['frameGraph']=_0x2926ee,this['cookiesRen'+'derPass']['enabled']=_0x55150f,_0x55150f&&this['cookiesRen'+'derPass']['update'](_0x477c2c),this['shadowRend'+'erPass']['enabled']=_0x7089e9,_0x7089e9&&this['shadowRend'+'erPass']['update'](_0x11916f);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x491008=ne(),{renderer:_0x4bedc0}=this,{scene:_0x3eefc7}=_0x4bedc0;_0x4bedc0['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x3eefc7['lighting']),_0x4bedc0['_lightClus'+'tersTime']+=ne()-_0x491008,_0x4bedc0['_lightClus'+'ters']=_0x4bedc0['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=-0x1f37+-0xc6+0x1ffd;const Hi=new q(),Wi=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0x4*-0x11b+0x60b*0x5+0x3e*-0x8f,-(-0x1036+-0xa49*0x2+-0xc43*-0x3),0x1*0x6fd+-0x2691+0x1f95),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([-0xb95+0x158+0xa3e,-0x18f7+-0x166+-0x1*-0x1a5d,-0x4cd+0x1*-0x1e2b+0x22f8,0x141d+-0x4*-0x58f+0x2a59*-0x1,-0x88b+-0x556+0xde1,-0x2*-0x12ec+0x1*0xa6+0x1*-0x267d,-0x32f+0x1260+-0x1*0xf31,-0x1*-0x706+0x195d+-0x2063,0xe3c*-0x1+-0x22ab+0x27*0x141,0x4f*-0x79+-0x1f*0xfd+0x43fa,-0x2268+0xeb7*0x2+0x4fa+0.5,0x1*0xa61+0xb*0xd7+0x1f*-0xa2,0x23*-0xad+-0x19b9*0x1+0x3160,0x202d+0x45*-0x5c+0x1*-0x761,-0x224b*-0x1+-0xa43+-0xc04*0x2+0.5,-0x19bd+-0x8*-0x15a+0xd*0x126]),x_=[new W(-0x835+0xe*-0x2e+0xab9+0.5,0x2*-0xecc+-0x162*-0x1+0x1c36+0.333333),new W(0xa*0x26+-0x155c+0x13e0+0.25,0x1756+0x237a+0x4*-0xeb4+0.666667),new W(0x1df4+0x1df9+-0x3bed+0.75,-0x4*-0x86a+0x1*-0x2405+0xb*0x37+0.111111),new W(-0x59*0x4c+-0x160e+0x307a+0.125,-0x263c+0xb*-0xc5+0x2eb3*0x1+0.444444),new W(0x1*0x1b5a+0x1*-0x12fa+-0x860*0x1+0.625,-0x32b*0x3+-0x3bf+-0x40*-0x35+0.777778),new W(-0x629*0x4+-0xda*-0x20+-0x2*0x14e+0.375,-0x1077+-0x1285+0x22fc+0.222222),new W(0x131f+0x20e4+-0x3403+0.875,-0x4cf*0x1+0x1*-0x1072+-0x1541*-0x1+0.555556),new W(0x52a+-0x3a6*-0x5+-0x1768+0.0625,0x5cf*-0x1+-0x999+0xf68+0.888889),new W(-0x1169*0x2+-0xa71+0x2d43+0.5625,0x4fd*0x7+0x130+-0x241b+0.037037),new W(-0x21f6+0xc27*-0x3+-0x1*-0x466b+0.3125,-0x10f*-0x9+-0x943+-0x1*0x44+0.37037),new W(-0x1f5d+-0x9d9*0x3+-0xf3a*-0x4+0.8125,-0x1e5*0x11+-0x2*-0x90c+0xe1d+0.703704),new W(0x31d+-0x524*0x1+-0x3*-0xad+0.1875,-0x151*-0x4+-0xe*-0x23b+-0x247e+0.148148),new W(0x242*0x11+-0x135+-0x252d+0.6875,0xa31*-0x1+0x2561*-0x1+0x2f92+0.481481),new W(0x2*0xa39+0x8*-0x101+-0x1*0xc6a+0.4375,-0x9f2+0x9d7*-0x3+-0x2777*-0x1+0.814815),new W(0x871*0x2+0x2*-0x127f+0x1*0x141c+0.9375,-0x10a1+-0x393+0x1434+0.259259),new W(0x1*0x632+0x108c*-0x2+0x1ae6+0.03125,-0x141b+-0x1*0x18d9+0x2a*0x112+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x160ac5){c(this,'clustersDe'+'bugRendere'+'d',!(-0xab1+0x7*0x455+-0x13a1)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(-0x9a2+-0x1b9+-0x12f*-0xa)),(this['device']=_0x160ac5,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x160ac5),this['lightTextu'+'reAtlas']=new uM(_0x160ac5),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x21f5+0x1*-0x1638+-0x1*0xbbd,this['_morphTime']=-0x1f*-0xd3+0x1ef0+-0x387d,this['_cullTime']=-0x1*0x78b+-0x1386+0x1b11,this['_shadowMap'+'Time']=-0x2033+0x1a4d+-0x12e*-0x5,this['_lightClus'+'tersTime']=0x2*0xbd4+0x8a2*0x1+-0x1025*0x2,this['_layerComp'+'ositionUpd'+'ateTime']=-0x103a+0x4f7*0x3+0x155,this['_shadowDra'+'wCalls']=-0x1847+0x2074+-0x1*0x82d,this['_skinDrawC'+'alls']=0x1*0x1c09+-0x1*-0xc01+0x1405*-0x2,this['_instanced'+'DrawCalls']=-0x5a9+-0x24c3+0x2a6c,this['_shadowMap'+'Updates']=-0x3*0x92b+-0xd*0x16a+0x2b3*0x11,this['_numDrawCa'+'llsCulled']=-0x103*-0x25+-0x215c+-0x413,this['_camerasRe'+'ndered']=-0x1b8a+0x20c2+-0x538,this['_lightClus'+'ters']=0x4f4*-0x7+0x1*-0x2c9+0x2575);const _0x5b7f9d=_0x160ac5['scope'];this['boneTextur'+'eId']=_0x5b7f9d['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x5b7f9d['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x5b7f9d['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x5b7f9d['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x5b7f9d['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x48d*0x7+-0x1d41*-0x1+0x29d),this['viewPosId']=_0x5b7f9d['resolve']('view_posit'+'ion'),this['projId']=_0x5b7f9d['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x5b7f9d['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x5b7f9d['resolve']('matrix_vie'+'w'),this['viewId3']=_0x5b7f9d['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x5b7f9d['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x5b7f9d['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x5b7f9d['resolve']('tbnBasis'),this['nearClipId']=_0x5b7f9d['resolve']('camera_nea'+'r'),this['farClipId']=_0x5b7f9d['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x1c64+-0x11b5*0x2+0x70a),this['cameraPara'+'msId']=_0x5b7f9d['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x5b7f9d['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0x18b6+0x3*-0x837+0x315b,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(0x1fd7+-0x1ab*0x7+-0x1426),this['blueNoiseJ'+'itterId']=_0x5b7f9d['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x5b7f9d['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x5b7f9d['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x5b7f9d['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x5b7f9d['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x5b7f9d['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x1*-0x15a5+-0x1c54+0x48b*0xb),this['morphPosit'+'ionTex']=_0x5b7f9d['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x5b7f9d['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x5b7f9d['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x5b7f9d['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x5a9a33,_0x164252){if(_0x5a9a33['layer']===_0x164252['layer']){if(_0x5a9a33['drawOrder']&&_0x164252['drawOrder'])return _0x5a9a33['drawOrder']-_0x164252['drawOrder'];if(_0x5a9a33['zdist']&&_0x164252['zdist'])return _0x164252['zdist']-_0x5a9a33['zdist'];if(_0x5a9a33['zdist2']&&_0x164252['zdist2'])return _0x5a9a33['zdist2']-_0x164252['zdist2'];}return _0x164252['_key'][Ei]-_0x5a9a33['_key'][Ei];}['sortCompar'+'eMesh'](_0x5145c2,_0x1eac4c){if(_0x5145c2['layer']===_0x1eac4c['layer']){if(_0x5145c2['drawOrder']&&_0x1eac4c['drawOrder'])return _0x5145c2['drawOrder']-_0x1eac4c['drawOrder'];if(_0x5145c2['zdist']&&_0x1eac4c['zdist'])return _0x1eac4c['zdist']-_0x5145c2['zdist'];}const _0x454487=_0x5145c2['_key'][Ei],_0x1c0f6f=_0x1eac4c['_key'][Ei];return _0x454487===_0x1c0f6f&&_0x5145c2['mesh']&&_0x1eac4c['mesh']?_0x1eac4c['mesh']['id']-_0x5145c2['mesh']['id']:_0x1c0f6f-_0x454487;}['sortCompar'+'eDepth'](_0x4f01d7,_0xba95d0){const _0xc595f8=_0x4f01d7['_key'][ku],_0xb9ce05=_0xba95d0['_key'][ku];return _0xc595f8===_0xb9ce05&&_0x4f01d7['mesh']&&_0xba95d0['mesh']?_0xba95d0['mesh']['id']-_0x4f01d7['mesh']['id']:_0xb9ce05-_0xc595f8;}['setupViewp'+'ort'](_0x74da59,_0x389401){const _0x1ed2ec=this['device'],_0x4e4d66=_0x389401?_0x389401['width']:_0x1ed2ec['width'],_0x5183e8=_0x389401?_0x389401['height']:_0x1ed2ec['height'],_0x184afe=_0x74da59['rect'];let _0x21ddd6=Math['floor'](_0x184afe['x']*_0x4e4d66),_0x375d5e=Math['floor'](_0x184afe['y']*_0x5183e8),_0x57a100=Math['floor'](_0x184afe['z']*_0x4e4d66),_0x3cfebd=Math['floor'](_0x184afe['w']*_0x5183e8);if(_0x1ed2ec['setViewpor'+'t'](_0x21ddd6,_0x375d5e,_0x57a100,_0x3cfebd),_0x74da59['_scissorRe'+'ctClear']){const _0x4c7bc4=_0x74da59['scissorRec'+'t'];_0x21ddd6=Math['floor'](_0x4c7bc4['x']*_0x4e4d66),_0x375d5e=Math['floor'](_0x4c7bc4['y']*_0x5183e8),_0x57a100=Math['floor'](_0x4c7bc4['z']*_0x4e4d66),_0x3cfebd=Math['floor'](_0x4c7bc4['w']*_0x5183e8);}_0x1ed2ec['setScissor'](_0x21ddd6,_0x375d5e,_0x57a100,_0x3cfebd);}['setCameraU'+'niforms'](_0x3243ec,_0x5a3f51){var _0x177572,_0x21f1b1;const _0x1c15fb=_0x5a3f51==null?void(0x5*0x1d+-0x26c+0x19*0x13):_0x5a3f51['flipY'];let _0x2e9fba=-0x20b6+0x17a3+-0xe*-0xa6;if(_0x3243ec['xr']&&_0x3243ec['xr']['session']){const _0x5e2747=((_0x21f1b1=(_0x177572=_0x3243ec['_node'])==null?void(0x1*0x26f9+0x2070+-0x4769*0x1):_0x177572['parent'])==null?void(0x258f+-0x2482+-0x1*0x10d):_0x21f1b1['getWorldTr'+'ansform']())||null,_0x498702=_0x3243ec['xr']['views'];_0x2e9fba=_0x498702['list']['length'];for(let _0x383165=0x39a*0xa+-0x9+-0x97*0x3d;_0x383165<_0x2e9fba;_0x383165++){const _0x3c6b65=_0x498702['list'][_0x383165];_0x3c6b65['updateTran'+'sforms'](_0x5e2747),_0x3243ec['frustum']['setFromMat'+'4'](_0x3c6b65['projViewOf'+'fMat']);}}else{let _0x29e0cf=_0x3243ec['projection'+'Matrix'];_0x3243ec['calculateP'+'rojection']&&_0x3243ec['calculateP'+'rojection'](_0x29e0cf,Al);let _0x114674=_0x3243ec['getProject'+'ionMatrixS'+'kybox']();_0x1c15fb&&(_0x29e0cf=EM['mul2'](g_,_0x29e0cf),_0x114674=CM['mul2'](g_,_0x114674)),this['device']['isWebGPU']&&(_0x29e0cf=MM['mul2'](y_,_0x29e0cf),_0x114674=PM['mul2'](y_,_0x114674));const {jitter:_0x2bf573}=_0x3243ec;let _0x299ad9=0x1a81+-0x45e+-0x3*0x761,_0x3c0cd8=-0x281+0x66*-0x11+-0x19*-0x5f;if(_0x2bf573>0x1*0xeb0+-0xfd4+-0x4*-0x49){const _0x4353fe=_0x5a3f51?_0x5a3f51['width']:this['device']['width'],_0x374874=_0x5a3f51?_0x5a3f51['height']:this['device']['height'],_0x52f8e2=x_[this['device']['renderVers'+'ion']%x_['length']];_0x299ad9=_0x2bf573*(_0x52f8e2['x']*(0x1ce3+-0x6*-0x5b9+-0x3f37)-(0xf67*0x1+0x8b2+-0x1818))/_0x4353fe,_0x3c0cd8=_0x2bf573*(_0x52f8e2['y']*(-0x187d*0x1+-0x331+0x376*0x8)-(0x1326+-0x1375+0x1*0x50))/_0x374874,_0x29e0cf=RM['copy'](_0x29e0cf),_0x29e0cf['data'][-0x11c7+-0x159f+-0x2*-0x13b7]=_0x299ad9,_0x29e0cf['data'][0x22ae+-0xbce+-0x16d7]=_0x3c0cd8,_0x114674=IM['copy'](_0x114674),_0x114674['data'][-0x1849*0x1+0x469*-0x2+0x2123]=_0x299ad9,_0x114674['data'][-0x15a7+0x1778+-0x1c8]=_0x3c0cd8,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x4f358c=_0x2bf573>-0x174c+0x11bc+0x590?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][0x8cd*0x3+-0x12b1+-0x6*0x149]=_0x4f358c['x'],this['blueNoiseJ'+'itterData'][-0x1094+-0x7bf*-0x3+-0x6a8]=_0x4f358c['y'],this['blueNoiseJ'+'itterData'][-0x842+-0x1e51+0x77*0x53]=_0x4f358c['z'],this['blueNoiseJ'+'itterData'][0x68c*-0x3+-0xe48+0x21ef]=_0x4f358c['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x29e0cf['data']),this['projSkybox'+'Id']['setValue'](_0x114674['data']),_0x3243ec['calculateT'+'ransform'])_0x3243ec['calculateT'+'ransform'](Wi,Al);else{const _0x5e3396=_0x3243ec['_node']['getPositio'+'n'](),_0xbd703=_0x3243ec['_node']['getRotatio'+'n']();Wi['setTRS'](_0x5e3396,_0xbd703,T['ONE']);}this['viewInvId']['setValue'](Wi['data']),Mn['copy'](Wi)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x29e0cf,Mn),this['viewProjId']['setValue'](Hi['data']),_0x3243ec['_storeShad'+'erMatrices'](Hi,_0x299ad9,_0x3c0cd8,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x1c15fb?-(-0x7fd+0x229c+-0x1a9e):0x922+-0xb53+0x232),this['dispatchVi'+'ewPos'](_0x3243ec['_node']['getPositio'+'n']()),_0x3243ec['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x1c15fb?-(-0x9*0x3e6+-0x1*0x910+0x1*0x2c27):-0xb*-0x119+0x1e85+0x1*-0x2a97);const _0x1c6dad=_0x3243ec['_nearClip'],_0x53149b=_0x3243ec['_farClip'];return this['nearClipId']['setValue'](_0x1c6dad),this['farClipId']['setValue'](_0x53149b),this['cameraPara'+'ms'][0x96d+-0x152a+-0x5*-0x259]=(-0xafd*-0x3+0xda8+-0x2e9e)/_0x53149b,this['cameraPara'+'ms'][0x4e8+-0xa7a*0x1+0x1*0x593]=_0x53149b,this['cameraPara'+'ms'][-0x1*0x135+0x1*-0x107b+0x11b2]=_0x1c6dad,this['cameraPara'+'ms'][0x10ec+-0xe24*-0x1+-0x1f0d]=_0x3243ec['projection']===ua?0xe4e+-0x1be0+0xd93:0x1*0xab5+-0x105*0x9+-0x188,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x3243ec['getExposur'+'e']():this['scene']['exposure']),_0x2e9fba;}['clear'](_0x2e876b,_0x47018f,_0x7c687b,_0x50da51){const _0x4a7a6c=(_0x47018f??_0x2e876b['_clearColo'+'rBuffer']?Co:0xa7*-0xb+-0xa99*0x1+0xaf*0x1a)|(_0x7c687b??_0x2e876b['_clearDept'+'hBuffer']?Mo:0x22b2+0x17e1+0x3a93*-0x1)|(_0x50da51??_0x2e876b['_clearSten'+'cilBuffer']?Ah:-0x1b4a+-0xdf9+-0x1f7*-0x15);if(_0x4a7a6c){const _0x22b464=this['device'];G['pushGpuMar'+'ker'](_0x22b464,'CLEAR'),_0x22b464['clear']({'color':[_0x2e876b['_clearColo'+'r']['r'],_0x2e876b['_clearColo'+'r']['g'],_0x2e876b['_clearColo'+'r']['b'],_0x2e876b['_clearColo'+'r']['a']],'depth':_0x2e876b['_clearDept'+'h'],'stencil':_0x2e876b['_clearSten'+'cil'],'flags':_0x4a7a6c}),G['popGpuMark'+'er'](_0x22b464);}}['setCamera'](_0x17351e,_0x20666c,_0x11e068,_0x4d0518=null){this['setCameraU'+'niforms'](_0x17351e,_0x20666c),this['clearView'](_0x17351e,_0x20666c,_0x11e068,!(0x1e46+-0xa18+-0x142d*0x1));}['clearView'](_0x209057,_0x3bf93e,_0x3ee619,_0x37787b){const _0x227b0a=this['device'];if(G['pushGpuMar'+'ker'](_0x227b0a,'CLEAR-VIEW'),_0x227b0a['setRenderT'+'arget'](_0x3bf93e),_0x227b0a['updateBegi'+'n'](),_0x37787b&&(_0x227b0a['setColorWr'+'ite'](!(0x2352+-0x202+-0x2150),!(0x2591*0x1+-0x1*-0x1972+-0x1*0x3f03),!(-0x5ab*-0x1+0x727*-0x1+0x14*0x13),!(0x851*-0x1+-0x74c+-0x1*-0xf9d)),_0x227b0a['setDepthWr'+'ite'](!(0x377*-0x7+-0x67c+0x1ebd))),this['setupViewp'+'ort'](_0x209057,_0x3bf93e),_0x3ee619){const _0x2a2cfa=_0x209057['_clearOpti'+'ons'];_0x227b0a['clear'](_0x2a2cfa||{'color':[_0x209057['_clearColo'+'r']['r'],_0x209057['_clearColo'+'r']['g'],_0x209057['_clearColo'+'r']['b'],_0x209057['_clearColo'+'r']['a']],'depth':_0x209057['_clearDept'+'h'],'flags':(_0x209057['_clearColo'+'rBuffer']?Co:-0xb*-0x7f+-0x20d7+0x1b62)|(_0x209057['_clearDept'+'hBuffer']?Mo:0x3ec*-0x1+-0x1366*0x2+0x2ab8)|(_0x209057['_clearSten'+'cilBuffer']?Ah:-0x111c+-0x9a8*0x3+0x2e14),'stencil':_0x209057['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x227b0a);}['setupCullM'+'ode'](_0x262428,_0x4d7c8c,_0x300ce0){const _0x2e0a5=_0x300ce0['material'];let _0x2fdfa0=mt;if(_0x262428){let _0x5c77cb=0x278+-0x2562+0x22eb*0x1;(_0x2e0a5['cull']===mo||_0x2e0a5['cull']===rn)&&(_0x5c77cb=_0x4d7c8c*_0x300ce0['flipFacesF'+'actor']*_0x300ce0['node']['worldScale'+'Sign']),_0x5c77cb<-0x1b6d+-0xbb6*0x2+0x3*0x10f3?_0x2fdfa0=_0x2e0a5['cull']===mo?rn:mo:_0x2fdfa0=_0x2e0a5['cull'];}this['device']['setCullMod'+'e'](_0x2fdfa0),_0x2fdfa0===mt&&_0x2e0a5['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x300ce0['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x4ad14b){if(_0x4ad14b['xr']&&_0x4ad14b['xr']['views']['list']['length']){const _0x1b1bb9=_0x4ad14b['xr']['views']['list'][-0x1273*0x1+0x4*-0x4bb+0x255f];Hi['mul2'](_0x1b1bb9['projMat'],_0x1b1bb9['viewOffMat']),_0x4ad14b['frustum']['setFromMat'+'4'](Hi);return;}const _0x39b9ad=_0x4ad14b['projection'+'Matrix'];if(_0x4ad14b['calculateP'+'rojection']&&_0x4ad14b['calculateP'+'rojection'](_0x39b9ad,Al),_0x4ad14b['calculateT'+'ransform'])_0x4ad14b['calculateT'+'ransform'](Wi,Al);else{const _0x45b58f=_0x4ad14b['_node']['getPositio'+'n'](),_0x4673db=_0x4ad14b['_node']['getRotatio'+'n']();Wi['setTRS'](_0x45b58f,_0x4673db,T['ONE']),this['viewInvId']['setValue'](Wi['data']);}Mn['copy'](Wi)['invert'](),Hi['mul2'](_0x39b9ad,Mn),_0x4ad14b['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x3f7d38,_0x517969){_0x3f7d38['setCullMod'+'e'](_0x517969['cull']),_0x517969['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x517969['opacityMap']),(_0x517969['opacityMap']||_0x517969['alphaTest']>0xb*-0x1ae+-0x1584+-0x27fe*-0x1)&&this['alphaTestI'+'d']['setValue'](_0x517969['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x4ba43b){Dd++;const _0x1e6c5f=_0x4ba43b['length'];if(_0x1e6c5f===0x141a+0x1*-0x1012+-0x3*0x158)return;const _0x5596df=ne();for(let _0x637d72=0xf27+0x2076+-0x2f9d;_0x637d72<_0x1e6c5f;_0x637d72++){const _0x21bd03=_0x4ba43b[_0x637d72]['skinInstan'+'ce'];_0x21bd03&&(_0x21bd03['updateMatr'+'ices'](_0x4ba43b[_0x637d72]['node'],Dd),_0x21bd03['_dirty']=!(0x14eb+0x30a*0x4+0x2113*-0x1));}this['_skinTime']+=ne()-_0x5596df;}['updateGpuS'+'kinMatrice'+'s'](_0x21dac7){const _0x35c1cf=ne();for(const _0x5a48e1 of _0x21dac7){const _0x38d3cb=_0x5a48e1['skinInstan'+'ce'];_0x38d3cb&&_0x38d3cb['_dirty']&&(_0x38d3cb['updateMatr'+'ixPalette'](_0x5a48e1['node'],Dd),_0x38d3cb['_dirty']=!(0xa9c+-0x36*-0x1+-0xad1));}this['_skinTime']+=ne()-_0x35c1cf;}['updateMorp'+'hing'](_0x2bc02b){const _0x8b8eb4=ne();for(const _0x80774 of _0x2bc02b){const _0x165327=_0x80774['morphInsta'+'nce'];_0x165327&&_0x165327['_dirty']&&_0x165327['update']();}this['_morphTime']+=ne()-_0x8b8eb4;}['updateGSpl'+'ats'](_0x4184f8){var _0x4e4a4c;for(const _0xfbeff8 of _0x4184f8)(_0x4e4a4c=_0xfbeff8['gsplatInst'+'ance'])==null||_0x4e4a4c['update']();}['gpuUpdate'](_0x1a467e){this['updateGpuS'+'kinMatrice'+'s'](_0x1a467e),this['updateMorp'+'hing'](_0x1a467e),this['updateGSpl'+'ats'](_0x1a467e);}['setVertexB'+'uffers'](_0x4f58a0,_0x54786d){_0x4f58a0['setVertexB'+'uffer'](_0x54786d['vertexBuff'+'er']);}['setMorphin'+'g'](_0x4ea2d8,_0x5d7f6f){_0x5d7f6f&&(_0x5d7f6f['prepareRen'+'dering'](_0x4ea2d8),_0x4ea2d8['setVertexB'+'uffer'](_0x5d7f6f['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x5d7f6f['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x5d7f6f['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x5d7f6f['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x471a66,_0x30398e){const _0x1170d6=_0x30398e['skinInstan'+'ce'];if(_0x1170d6){this['_skinDrawC'+'alls']++;const _0x3ad7e3=_0x1170d6['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x3ad7e3),this['boneTextur'+'eSizeId']['setValue'](_0x1170d6['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x2a31c3){const _0x4d84f5=this['viewPos'];_0x4d84f5[-0x1d*-0x58+0x149*-0xd+0xf*0x73]=_0x2a31c3['x'],_0x4d84f5[-0x637*0x4+-0x8*0x346+-0x7*-0x74b]=_0x2a31c3['y'],_0x4d84f5[-0x2*0xf5e+0x1fa6+-0xe8]=_0x2a31c3['z'],this['viewPosId']['setValue'](_0x4d84f5);}['initViewBi'+'ndGroupFor'+'mat'](_0x30d95e){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x2642ef=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',$t),new gt('skyboxInte'+'nsity',$s),new gt('exposure',$s),new gt('textureBia'+'s',$s)];_0x30d95e&&_0x2642ef['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',$t),new gt('clusterTex'+'tureSize',$t),new gt('clusterBou'+'ndsMin',$t),new gt('clusterBou'+'ndsDelta',$t),new gt('clusterCel'+'lsDot',$t),new gt('clusterCel'+'lsMax',$t),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x2642ef);const _0x108d27=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x30d95e&&_0x108d27['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x108d27);}}['setupViewU'+'niformBuff'+'ers'](_0x17d614,_0x54a82b,_0x3359f1,_0x34f4bb){v['assert'](Array['isArray'](_0x17d614),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x36da3b=this['device'];for(v['assert'](_0x34f4bb===0x145+-0xa6b+0x927,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x17d614['length']<_0x34f4bb;){const _0x2935d3=new gp(_0x36da3b,_0x54a82b,!(-0x12a5+0x14c1+-0x4d*0x7)),_0x93238=new mp(_0x36da3b,_0x3359f1,_0x2935d3);mn['setName'](_0x93238,'ViewBindGr'+'oup_'+_0x93238['id']),_0x17d614['push'](_0x93238);}const _0x201f3c=_0x17d614[-0x7ce+0x7*0x44d+-0x164d];_0x201f3c['defaultUni'+'formBuffer']['update'](),_0x201f3c['update'](),_0x36da3b['setBindGro'+'up'](Dh,_0x201f3c);}['setupMeshU'+'niformBuff'+'ers'](_0x550721,_0x564e4b){const _0x673400=this['device'];if(_0x673400['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x564e4b['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x564e4b['node']['normalMatr'+'ix']['data']);const _0x1a002f=_0x550721['getBindGro'+'up'](_0x673400);_0x1a002f['update'](),_0x673400['setBindGro'+'up'](Xy,_0x1a002f),_0x550721['getUniform'+'Buffer'](_0x673400)['update'](kd),_0x673400['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x46ad9d,_0x43c28b,_0x90f44d,_0x587630,_0xfdc4a8){const _0xa3e8ad=_0x43c28b['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0xa3e8ad['data']),_0xfdc4a8&&this['normalMatr'+'ixId']['setValue'](_0x43c28b['node']['normalMatr'+'ix']['data']);const _0x318695=_0x43c28b['instancing'+'Data'];_0x318695?_0x318695['count']>-0x2250+0xafe+0x5*0x4aa?(this['_instanced'+'DrawCalls']++,_0x46ad9d['setVertexB'+'uffer'](_0x318695['vertexBuff'+'er']),_0x46ad9d['draw'](_0x90f44d['primitive'][_0x587630],_0x318695['count'])):_0x46ad9d['clearVerte'+'xBuffer']():_0x46ad9d['draw'](_0x90f44d['primitive'][_0x587630]);}['drawInstan'+'ce2'](_0x420c82,_0x43da2d,_0x30ef9c,_0x4c6112){const _0x81480d=_0x43da2d['instancing'+'Data'];_0x81480d?_0x81480d['count']>0x17c1+-0x15b+0x2f*-0x7a?(this['_instanced'+'DrawCalls']++,_0x420c82['draw'](_0x30ef9c['primitive'][_0x4c6112],_0x81480d['count'],!(-0x1cfd+-0x2335+0x4032))):_0x420c82['clearVerte'+'xBuffer']():_0x420c82['draw'](_0x30ef9c['primitive'][_0x4c6112],void(0x2*-0x96b+-0x1*0x1970+0xec2*0x3),!(0xc9f*-0x1+0x5d5*-0x5+0x1*0x29c8));}['cull'](_0x12a982,_0x21e8f4,_0x5d45a2){const _0x38a46c=ne(),_0x4cf3f1=_0x5d45a2['opaque'];_0x4cf3f1['length']=0x32*-0x1f+0x2360+-0x2*0xea9;const _0x4870b7=_0x5d45a2['transparen'+'t'];_0x4870b7['length']=-0x247c+-0xc75+0x30f1;const _0x488d92=_0x12a982['frustumCul'+'ling'],_0x470cf0=_0x21e8f4['length'];for(let _0x457d20=0x1932+-0xb23+0x3b*-0x3d;_0x457d20<_0x470cf0;_0x457d20++){const _0x3645a1=_0x21e8f4[_0x457d20];_0x3645a1['visible']&&(!_0x488d92||!_0x3645a1['cull']||_0x3645a1['_isVisible'](_0x12a982))&&(_0x3645a1['visibleThi'+'sFrame']=!(-0x2470+0x7b4+0x1cbc),(_0x3645a1['transparen'+'t']?_0x4870b7:_0x4cf3f1)['push'](_0x3645a1),(_0x3645a1['skinInstan'+'ce']||_0x3645a1['morphInsta'+'nce']||_0x3645a1['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x3645a1),_0x3645a1['gsplatInst'+'ance']&&_0x3645a1['gsplatInst'+'ance']['cameras']['push'](_0x12a982)));}this['_cullTime']+=ne()-_0x38a46c,this['_numDrawCa'+'llsCulled']+=_0x488d92?_0x470cf0:0xe5*-0x11+0x63*-0x25+0x1d84;}['collectLig'+'hts'](_0x43894c){this['lights']['length']=0x14f7+-0x98*0x12+0x1*-0xa47,this['localLight'+'s']['length']=-0x55*-0x1+-0x104f+0xffa;const _0x37b274=this['scene']['_stats'];_0x37b274['dynamicLig'+'hts']=-0x1c5+0x1fa0+0x1*-0x1ddb,_0x37b274['bakedLight'+'s']=0x9a8+0x150a+-0x2*0xf59;const _0x26c369=_0x43894c['layerList']['length'];for(let _0x2ee912=-0xc85+-0x6*-0x5ab+0x157d*-0x1;_0x2ee912<_0x26c369;_0x2ee912++){const _0x559e43=_0x43894c['layerList'][_0x2ee912];if(!Od['has'](_0x559e43)){Od['add'](_0x559e43);const _0x4021c1=_0x559e43['_lights'];for(let _0x313697=-0x1de0+-0xf21+0x2d01;_0x313697<_0x4021c1['length'];_0x313697++){const _0x1ed5ca=_0x4021c1[_0x313697];Fd['has'](_0x1ed5ca)||(Fd['add'](_0x1ed5ca),this['lights']['push'](_0x1ed5ca),_0x1ed5ca['_type']!==oe&&this['localLight'+'s']['push'](_0x1ed5ca),(_0x1ed5ca['mask']&hs||_0x1ed5ca['mask']&cr)&&_0x37b274['dynamicLig'+'hts']++,_0x1ed5ca['mask']&rr&&_0x37b274['bakedLight'+'s']++);}}}_0x37b274['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x4e2679,_0x1f4fd8){const _0x328cb8=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x5c2e6c=this['scene']['physicalUn'+'its'];for(let _0x4f1a44=-0x83*0x4+0xcdc+-0xad0;_0x4f1a44<_0x1f4fd8['length'];_0x4f1a44++){const _0x12b46a=_0x1f4fd8[_0x4f1a44];if(_0x12b46a['enabled']){if(_0x12b46a['_type']!==oe){if(_0x12b46a['getBoundin'+'gSphere'](Ld),_0x4e2679['frustum']['containsSp'+'here'](Ld)){_0x12b46a['visibleThi'+'sFrame']=!(-0x10dc+-0x259+-0x3*-0x667),_0x12b46a['usePhysica'+'lUnits']=_0x5c2e6c;const _0x57c100=_0x4e2679['getScreenS'+'ize'](Ld);_0x12b46a['maxScreenS'+'ize']=Math['max'](_0x12b46a['maxScreenS'+'ize'],_0x57c100);}else _0x328cb8||_0x12b46a['castShadow'+'s']&&!_0x12b46a['shadowMap']&&(_0x12b46a['visibleThi'+'sFrame']=!(0x203b+0x58c*0x4+-0x1*0x366b));}else _0x12b46a['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x4e588f){const _0x13c3b9=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x1c6b1e=0x4f5+0x5c4+-0xab9;_0x1c6b1e<this['localLight'+'s']['length'];_0x1c6b1e++){const _0x326ceb=this['localLight'+'s'][_0x1c6b1e];_0x326ceb['_type']!==oe&&(_0x13c3b9?_0x326ceb['atlasSlotU'+'pdated']&&_0x326ceb['shadowUpda'+'teMode']===Ps&&(_0x326ceb['shadowUpda'+'teMode']=cn):_0x326ceb['shadowUpda'+'teMode']===Ps&&_0x326ceb['castShadow'+'s']&&(_0x326ceb['getRenderD'+'ata'](null,-0x1*0x94b+0x5b*0x2+0xd*0xa9)['shadowCame'+'ra']['renderTarg'+'et']||(_0x326ceb['shadowUpda'+'teMode']=cn)),_0x326ceb['visibleThi'+'sFrame']&&_0x326ceb['castShadow'+'s']&&_0x326ceb['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x326ceb,_0x4e588f));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x4a0616=_0x4e588f['cameras'];for(let _0x484710=0x33b*0x9+0x25ac+0x7*-0x989;_0x484710<_0x4a0616['length'];_0x484710++){const _0x4e8a1e=_0x4a0616[_0x484710];if(_0x4e8a1e['enabled']){const _0x5313a8=_0x4e8a1e['camera'];let _0x548501;const _0x2ab6cf=_0x5313a8['layers'];for(let _0x5a395e=0x18d5+0x1cc*-0x13+0x94f;_0x5a395e<_0x2ab6cf['length'];_0x5a395e++){const _0x20c5eb=_0x4e588f['getLayerBy'+'Id'](_0x2ab6cf[_0x5a395e]);if(_0x20c5eb){const _0x4a1c2c=_0x20c5eb['splitLight'+'s'][oe];for(let _0x231413=-0x11c9+-0x24db+0x2*0x1b52;_0x231413<_0x4a1c2c['length'];_0x231413++){const _0xb59e=_0x4a1c2c[_0x231413];_0xb59e['castShadow'+'s']&&!Pn['has'](_0xb59e)&&(Pn['add'](_0xb59e),_0x548501=_0x548501??[],_0x548501['push'](_0xb59e),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0xb59e,_0x4e588f,_0x5313a8));}}}_0x548501&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x5313a8,_0x548501),Pn['clear']();}}}['cullCompos'+'ition'](_0x502e45){const _0x2e99b3=ne(),{scene:_0x5a1dcc}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x268faa=_0x502e45['cameras']['length'];this['_camerasRe'+'ndered']+=_0x268faa;for(let _0x50dd9e=-0x1a*-0x14b+-0x3*0xdf+-0x1f01;_0x50dd9e<_0x268faa;_0x50dd9e++){const _0x1f8202=_0x502e45['cameras'][_0x50dd9e];_0x5a1dcc==null||_0x5a1dcc['fire'](ow,_0x1f8202);const _0x153385=_0x1f8202['renderTarg'+'et'];_0x1f8202['frameUpdat'+'e'](_0x153385),this['updateCame'+'raFrustum'](_0x1f8202['camera']);const _0x52e4aa=_0x1f8202['layers'];for(let _0x3b6fde=-0xb3*0x2e+0xae8+0x1542;_0x3b6fde<_0x52e4aa['length'];_0x3b6fde++){const _0x4d1e23=_0x502e45['getLayerBy'+'Id'](_0x52e4aa[_0x3b6fde]);if(_0x4d1e23&&_0x4d1e23['enabled']){this['cullLights'](_0x1f8202['camera'],_0x4d1e23['_lights']);const _0x204392=_0x4d1e23['getCulledI'+'nstances'](_0x1f8202['camera']);this['cull'](_0x1f8202['camera'],_0x4d1e23['meshInstan'+'ces'],_0x204392);}}_0x5a1dcc==null||_0x5a1dcc['fire'](lw,_0x1f8202);}_0x5a1dcc['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x502e45),this['_cullTime']+=ne()-_0x2e99b3;}['updateShad'+'ers'](_0x153306,_0x49c30c){const _0x66aeec=_0x153306['length'];for(let _0x74795d=0x1fd4+0xe83+-0x2e57;_0x74795d<_0x66aeec;_0x74795d++){const _0x4f6919=_0x153306[_0x74795d]['material'];if(_0x4f6919&&!Pn['has'](_0x4f6919)&&(Pn['add'](_0x4f6919),_0x4f6919['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x49c30c&&(!_0x4f6919['useLightin'+'g']||_0x4f6919['emitter']&&!_0x4f6919['emitter']['lighting']))continue;_0x4f6919['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x2c4aab){const _0x2c88d6=this['scene'],_0x453617=_0x2c88d6['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x51f358=0x872+-0x233a+0x1ac8*0x1;const _0x33eacb=_0x2c4aab['layerList'],_0x4e87e5=_0x33eacb['length'];for(let _0x1403b3=-0x14ec+-0xda2+-0x228e*-0x1;_0x1403b3<_0x4e87e5;_0x1403b3++){const _0x3330e3=_0x33eacb[_0x1403b3]['meshInstan'+'ces'],_0x207a87=_0x3330e3['length'];_0x51f358+=_0x207a87;for(let _0x522cdf=0xb54+0x77b+-0x12cf;_0x522cdf<_0x207a87;_0x522cdf++){const _0x17a5d8=_0x3330e3[_0x522cdf];_0x17a5d8['visibleThi'+'sFrame']=!(-0x2263+0x46*-0x86+-0x1*-0x4708),_0x453617&&Bd['push'](_0x17a5d8),_0x17a5d8['skinInstan'+'ce']&&Nd['push'](_0x17a5d8);}}if(_0x2c88d6['_stats']['meshInstan'+'ces']=_0x51f358,_0x453617){const _0x182997=!_0x2c88d6['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x182997),_0x2c88d6['updateShad'+'ers']=!(-0x2328*0x1+0xc5*-0x18+0x35a1),this['device']['_shadersDi'+'rty']=!(0x49*0x43+0x1725+0x7*-0x609),_0x2c88d6['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0x147d+0x3e*0x34+-0x2115,Nd['length']=-0x8e9*-0x2+-0x2+0x50*-0x39;const _0x2bd855=this['lights'],_0x101682=_0x2bd855['length'];for(let _0x38ec40=0x71*0x2b+0x17*0x5+-0x136e;_0x38ec40<_0x101682;_0x38ec40++)_0x2bd855[_0x38ec40]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x330f7e){const _0x476816=ne(),_0x55f0d3=_0x330f7e['layerList']['length'],_0x48213a=this['scene']['_shaderVer'+'sion'];for(let _0x1ad03a=-0xfd+0xeac+-0xdaf;_0x1ad03a<_0x55f0d3;_0x1ad03a++){const _0x596ca5=_0x330f7e['layerList'][_0x1ad03a];_0x596ca5['_shaderVer'+'sion']=_0x48213a,_0x596ca5['_skipRende'+'rCounter']=-0x6ad*0x2+0x209d+-0x1343,_0x596ca5['_forwardDr'+'awCalls']=0x1*0xd1b+-0x8c6+-0x455*0x1,_0x596ca5['_shadowDra'+'wCalls']=-0x1c99+-0x527*0x7+0x3e*0x10b,_0x596ca5['_renderTim'+'e']=0x41*0x9+-0x19cc+0x1783;}_0x330f7e['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x476816;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x1f68+-0x537+0x24a0),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x2*-0x1058+0x4*0x229+-0x1*0x2953),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x1b95+0x2a3+0x18f3),this['clearDepth']=!(0x1b6b+-0x239*0x4+0x943*-0x2),this['clearStenc'+'il']=!(-0x1*0x1ec5+0x1ef0+-0x2a),this['triggerPos'+'tprocess']=!(0xd99*-0x1+-0x2ef+0x33*0x53),this['firstCamer'+'aUse']=!(-0x102a+-0x26c3+-0x4f*-0xb2),this['lastCamera'+'Use']=!(0x1*-0x2624+0xea4*-0x1+0x1*0x34c9),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x29*0x6+-0x502*0x1+0x8b*0xb));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x835d3b=>{_0x835d3b['defaultUni'+'formBuffer']['destroy'](),_0x835d3b['destroy']();}),this['viewBindGr'+'oups']['length']=0x5e9*-0x5+-0x1097+0x2e24*0x1;}['setupClear'+'s'](_0x46c79e,_0x5c133b){this['clearColor']=(_0x46c79e==null?void(0x250d+0x1797+0x4*-0xf29):_0x46c79e['clearColor'+'Buffer'])||_0x5c133b['clearColor'+'Buffer'],this['clearDepth']=(_0x46c79e==null?void(-0x251*-0xb+0x331*0x6+-0x2ca1):_0x46c79e['clearDepth'+'Buffer'])||_0x5c133b['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x46c79e==null?void(-0x1e8e+-0xf*-0xa4+0x17f*0xe):_0x46c79e['clearStenc'+'ilBuffer'])||_0x5c133b['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x3d00bf,_0x2bca4,_0x2e7d7b,_0x12e075){super(_0x3d00bf),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0x37*-0xd+-0x166b+0x1937)),(this['layerCompo'+'sition']=_0x2bca4,this['scene']=_0x2e7d7b,this['renderer']=_0x12e075);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x107c+-0x1451+0x24cd;}['addRenderA'+'ction'](_0x23fda8){this['renderActi'+'ons']['push'](_0x23fda8);}['addLayer'](_0x208f5c,_0x3b1254,_0x306b88,_0x186189=!(0xf96+-0x11ba+0x2*0x112)){v['assert'](_0x208f5c),v['assert'](this['renderTarg'+'et']!==void(0xeb0+0x17ae+0x132f*-0x2),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x208f5c['camera']['layersSet']['has'](_0x3b1254['id']),'Camera\x20'+_0x208f5c['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x3b1254['name']+'.');const _0x24e05d=new D0();if(_0x24e05d['renderTarg'+'et']=this['renderTarg'+'et'],_0x24e05d['camera']=_0x208f5c,_0x24e05d['layer']=_0x3b1254,_0x24e05d['transparen'+'t']=_0x306b88,_0x186189){const _0x2cabc8=this['renderActi'+'ons']['length']===0x1cd*-0x15+0x11b9+0x506*0x4;_0x24e05d['setupClear'+'s'](_0x2cabc8?_0x208f5c:void(0x9*-0x3b9+0x1*-0x1231+-0x33b2*-0x1),_0x3b1254);}this['addRenderA'+'ction'](_0x24e05d);}['addLayers'](_0x40f598,_0x7b4905,_0x42aeb5,_0x1e61ac,_0x41c602,_0x2993df=!(-0xdc9+0x1279*-0x1+-0x1*-0x2042)){const {layerList:_0x2540fb,subLayerList:_0x1d4daa}=_0x40f598;let _0x738071=_0x1e61ac,_0x597303=_0x42aeb5;for(;_0x597303<_0x2540fb['length'];){const _0x4030cf=_0x2540fb[_0x597303],_0x12e5f9=_0x1d4daa[_0x597303];if(_0x7b4905['camera']['layersSet']['has'](_0x4030cf['id'])&&(this['addLayer'](_0x7b4905,_0x4030cf,_0x12e5f9,_0x738071),_0x738071=!(-0x2671+0x200f+0x663)),_0x597303++,_0x4030cf['id']===_0x41c602&&_0x12e5f9===_0x2993df)break;}return _0x597303;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x417e09,renderActions:_0x4fefcf}=this;for(let _0x252d50=0x14*-0x76+-0xa*-0x24a+-0xdac;_0x252d50<_0x4fefcf['length'];_0x252d50++){const _0x15a96f=_0x4fefcf[_0x252d50]['camera']['camera'],_0x71ef39=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x15a96f);if(_0x71ef39)for(let _0x10eb01=-0x4*-0x331+0x2*-0xb0e+-0x8*-0x12b;_0x10eb01<_0x71ef39['length'];_0x10eb01++){const _0x4e2968=_0x71ef39[_0x10eb01];if(_0x417e09['dirLightSh'+'adows']['get'](_0x4e2968)!==_0x15a96f){_0x417e09['dirLightSh'+'adows']['set'](_0x4e2968,_0x15a96f);const _0x22bd23=_0x417e09['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4e2968,_0x15a96f);_0x22bd23&&this['beforePass'+'es']['push'](_0x22bd23);}}}}['updateClea'+'rs'](){const _0x2eddfd=this['renderActi'+'ons'][-0x160c+-0x2708*0x1+0x1*0x3d14];if(_0x2eddfd){const _0x27dd5c=_0x2eddfd['camera']['camera'],_0x269f39=_0x27dd5c['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x269f39&&_0x2eddfd['clearColor']?_0x27dd5c['clearColor']:void(-0x26*-0xf2+-0x683+-0x1d69)),this['setClearDe'+'pth'](_0x269f39&&_0x2eddfd['clearDepth']&&!this['noDepthCle'+'ar']?_0x27dd5c['clearDepth']:void(0x3ca+-0x73c*0x5+-0x1*-0x2062)),this['setClearSt'+'encil'](_0x269f39&&_0x2eddfd['clearStenc'+'il']?_0x27dd5c['clearStenc'+'il']:void(0x349+0x1*-0x1501+0x11b8));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x217ce7}=this;for(let _0x2c0600=-0x2*0xb5d+0x1e48+-0x78e;_0x2c0600<_0x217ce7['length'];_0x2c0600++){const _0x3b4a23=_0x217ce7[_0x2c0600];_0x3b4a23['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x3b4a23['camera']);}}['execute'](){const {layerComposition:_0x311add,renderActions:_0x444098}=this;for(let _0x436bb3=0xb38+-0x1446+0x90e;_0x436bb3<_0x444098['length'];_0x436bb3++){const _0x55192f=_0x444098[_0x436bb3],_0x93947=_0x55192f['layer'];v['call'](()=>{_0x311add['getLayerBy'+'Name'](_0x93947['name'])||v['warnOnce']('Layer\x20'+_0x93947['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x311add['isEnabled'](_0x93947,_0x55192f['transparen'+'t'])&&this['renderRend'+'erAction'](_0x55192f,_0x436bb3===0x1*0x8a5+0x988+-0x122d);}}['after'](){for(let _0x5670ad=-0x6ec+-0x22a3+0x298f;_0x5670ad<this['renderActi'+'ons']['length'];_0x5670ad++){const _0x5b7276=this['renderActi'+'ons'][_0x5670ad];_0x5b7276['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x5b7276['camera']);}this['beforePass'+'es']['length']=-0x168+0x8fa*-0x2+0x135c;}['renderRend'+'erAction'](_0x35d427,_0x4a7fbf){var _0x59757d;const {renderer:_0x9eb036,scene:_0x12fee5}=this,_0x1b8df6=_0x9eb036['device'],{layer:_0x353533,transparent:_0x3310ff,camera:_0x32c689}=_0x35d427;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x32c689?_0x32c689['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x353533['name']+'('+(_0x3310ff?'TRANSP':'OPAQUE')+')');const _0x258745=ne();if(_0x32c689){const _0x38ccad=_0x32c689['gammaCorre'+'ction'],_0x58be34=_0x32c689['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x153f+0xba2+-0x20e1)&&(_0x32c689['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0xfbd+0x67c+0x941)&&(_0x32c689['toneMappin'+'g']=this['toneMappin'+'g']),_0x12fee5['fire'](nw,_0x32c689,_0x353533,_0x3310ff);const _0x58f0b9={'lightClusters':_0x35d427['lightClust'+'ers']},_0x5140e9=((_0x59757d=_0x32c689['camera']['shaderPass'+'Info'])==null?void(0x23cc+-0x18b7*0x1+-0xb15):_0x59757d['index'])??gn;(!_0x4a7fbf||!_0x32c689['camera']['fullSizeCl'+'earRect'])&&(_0x58f0b9['clearColor']=_0x35d427['clearColor'],_0x58f0b9['clearDepth']=_0x35d427['clearDepth'],_0x58f0b9['clearStenc'+'il']=_0x35d427['clearStenc'+'il']);const _0x57c26e=_0x35d427['renderTarg'+'et']??_0x1b8df6['backBuffer'];_0x9eb036['renderForw'+'ardLayer'](_0x32c689['camera'],_0x57c26e,_0x353533,_0x3310ff,_0x5140e9,_0x35d427['viewBindGr'+'oups'],_0x58f0b9),_0x1b8df6['setBlendSt'+'ate'](_t['NOBLEND']),_0x1b8df6['setStencil'+'State'](null,null),_0x1b8df6['setAlphaTo'+'Coverage'](!(0x23c5+0xbaf+-0x2f73)),_0x12fee5['fire'](aw,_0x32c689,_0x353533,_0x3310ff),this['gammaCorre'+'ction']!==void(-0x24f6+-0x5*0x95+-0x27df*-0x1)&&(_0x32c689['gammaCorre'+'ction']=_0x38ccad),this['toneMappin'+'g']!==void(-0x1*0x9c6+-0x62b*-0x5+-0x1511*0x1)&&(_0x32c689['toneMappin'+'g']=_0x58be34);}G['popGpuMark'+'er'](this['device']),_0x353533['_renderTim'+'e']+=ne()-_0x258745;}['log'](_0x290bd5,_0x1e5e04){if(super['log'](_0x290bd5,_0x1e5e04),Xs['get'](Jn)){const {layerComposition:_0x3d0433}=this;this['renderActi'+'ons']['forEach']((_0x37195e,_0x36973f)=>{const _0x56bc9e=_0x37195e['layer'],_0x57d748=_0x56bc9e['enabled']&&_0x3d0433['isEnabled'](_0x56bc9e,_0x37195e['transparen'+'t']),_0x505a60=_0x37195e['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x36973f+':'+('\x20Cam:\x20'+(_0x505a60?_0x505a60['entity']['name']:'-'))['padEnd'](-0xa70+0x180*-0x16+0x2b86,'\x20')+('\x20Lay:\x20'+_0x56bc9e['name'])['padEnd'](0x2446+0x1baa+-0x1*0x3fda,'\x20')+(_0x37195e['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x57d748?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x56bc9e['meshInstan'+'ces']['length'])['padEnd'](0x81c+-0x1b74+0x135d,'\x20'));});}}}class FM extends ds{constructor(_0x35df83,_0x313a3c,_0x351948){super(_0x35df83),this['renderer']=_0x313a3c,this['renderActi'+'on']=_0x351948,this['requiresCu'+'bemaps']=!(-0x169d+-0x1*0x2197+0x3835);}['execute'](){const _0x2c9e7f=this['renderActi'+'on'],_0x237543=_0x2c9e7f['camera'];v['assert'](_0x2c9e7f['triggerPos'+'tprocess']&&_0x237543['onPostproc'+'essing']),_0x237543['onPostproc'+'essing']();}}const OM=[[],[],[]],$i=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0x20b8+-0xd2+-0x9*-0x3ba,this['shaderInst'+'ances']['length']=-0x1ddd+-0x638+0x2415,this['isNewMater'+'ial']['length']=-0xe07+-0x5b9*0x2+0x1979,this['lightMaskC'+'hanged']['length']=-0xa88+-0x1*-0x18ad+-0xd5*0x11;}};function kM(_0x2c7ba0){const _0x2a3dca=[];for(let _0x2d444e=-0xd1f+-0x1edd+-0x14*-0x233;_0x2d444e<_0x2c7ba0;++_0x2d444e){const _0x2eb210=Math['sqrt'](_0x2d444e+(0xbc3*0x1+-0x1de+0x1*-0x9e5+0.5))/Math['sqrt'](_0x2c7ba0);_0x2a3dca['push'](_0x2eb210);}return _0x2a3dca;}function BM(_0x2defc3){const _0x26ec2e=[];for(let _0x55cb14=0xeed+-0xa3c+-0x1*0x4b1;_0x55cb14<_0x2defc3;_0x55cb14++){const _0x526ec5=_0x55cb14/_0x2defc3,_0x288284=Math['sqrt'](_0x526ec5*_0x526ec5);_0x26ec2e['push'](_0x288284);}return _0x26ec2e;}const _i=class _i extends DM{constructor(_0x32be6b){super(_0x32be6b);const _0x2f7092=this['device'];this['_forwardDr'+'awCalls']=-0x1*-0x1+0x8dd+-0x8de,this['_materialS'+'witches']=-0x1fd7+0xf0c+0x599*0x3,this['_depthMapT'+'ime']=-0x5*0x26f+-0x1*0x1721+-0x1*-0x234c,this['_forwardTi'+'me']=-0x13*0x197+-0x2e*-0x3a+-0x3f5*-0x5,this['_sortTime']=-0x47*0xd+-0xf05+0x4*0x4a8;const _0xe834cb=_0x2f7092['scope'];this['fogColorId']=_0xe834cb['resolve']('fog_color'),this['fogStartId']=_0xe834cb['resolve']('fog_start'),this['fogEndId']=_0xe834cb['resolve']('fog_end'),this['fogDensity'+'Id']=_0xe834cb['resolve']('fog_densit'+'y'),this['ambientId']=_0xe834cb['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0xe834cb['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0xe834cb['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0xe834cb['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0xe834cb['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0xe834cb['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x227+-0x1ee1+0x210c),this['fogColor']=new Float32Array(-0x3c*0x15+0x65b*-0x3+0x1800),this['ambientCol'+'or']=new Float32Array(-0x1595+-0x15d*-0x1+-0x143b*-0x1),this['pcssDiskSa'+'mples']=kM(-0x1*-0x24c3+0x7c*0x2c+-0x3a03),this['pcssSphere'+'Samples']=BM(-0x22f1*-0x1+-0x637*0x5+-0x1*0x3ce);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x3767da){const _0x119c1c=this['ambientCol'+'or'];if($i['linear'](_0x3767da['ambientLig'+'ht']),_0x119c1c[-0x9*-0x22f+-0x1215+-0x192*0x1]=$i['r'],_0x119c1c[0x2216+0x4c8+-0x26dd]=$i['g'],_0x119c1c[0x5ba*0x1+-0x1*0x2551+0x1f99*0x1]=$i['b'],_0x3767da['physicalUn'+'its']){for(let _0x5899ea=0x8fc*0x3+-0xf7b+-0xb79;_0x5899ea<-0xcfb+0x52*0x1d+0x13c*0x3;_0x5899ea++)_0x119c1c[_0x5899ea]*=_0x3767da['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x119c1c),this['skyboxInte'+'nsityId']['setValue'](_0x3767da['physicalUn'+'its']?_0x3767da['skyboxLumi'+'nance']:_0x3767da['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x3767da['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x2d56e1,_0x2c8b9f){const _0x109010='light'+_0x2c8b9f;this['lightColor'+'Id'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+'_color'),this['lightDir'][_0x2c8b9f]=new Float32Array(0x21ab+0x86*0x29+-0x371e),this['lightDirId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+'_direction'),this['lightShado'+'wMapId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+'_radius'),this['lightPos'][_0x2c8b9f]=new Float32Array(0xb*-0x36e+0x9*-0xbf+0x8e4*0x5),this['lightPosId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+'_position'),this['lightWidth'][_0x2c8b9f]=new Float32Array(0x1239+0x1*0x12e+-0x1364),this['lightWidth'+'Id'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+'_halfWidth'),this['lightHeigh'+'t'][_0x2c8b9f]=new Float32Array(0x672*0x3+-0x4d8+-0xe7b),this['lightHeigh'+'tId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+'_cookie'),this['lightCooki'+'eIntId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x2c8b9f]=_0x2d56e1['resolve'](_0x109010+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x5d541a,_0x45beb2,_0x5f342c,_0xbebac2,_0x4b7e0b){this['lightPos'][_0x45beb2][-0xf4*-0x17+0x164f*-0x1+0x63]=_0xbebac2['x']-_0x5f342c['x']*_0x4b7e0b,this['lightPos'][_0x45beb2][-0x8*-0x10d+-0x60a+-0x25d]=_0xbebac2['y']-_0x5f342c['y']*_0x4b7e0b,this['lightPos'][_0x45beb2][0x172c+0x18fe*0x1+-0x3028]=_0xbebac2['z']-_0x5f342c['z']*_0x4b7e0b,this['lightPosId'][_0x45beb2]['setValue'](this['lightPos'][_0x45beb2]);const _0x580843=_0x5d541a['transformV'+'ector'](new T(-(-0x85c*-0x2+0x1*-0x50b+-0xbad+0.5),-0x1ba5+-0x1a*0xb6+-0x1*-0x2e21,0x3a4*0x3+-0x1d97+0x12ab));this['lightWidth'][_0x45beb2][-0x1*0x842+0x5f2*-0x1+-0x6*-0x25e]=_0x580843['x']*_0x4b7e0b,this['lightWidth'][_0x45beb2][0x919+0x1663+-0x1f7b]=_0x580843['y']*_0x4b7e0b,this['lightWidth'][_0x45beb2][-0x120a+-0x3fb*0x3+-0x355*-0x9]=_0x580843['z']*_0x4b7e0b,this['lightWidth'+'Id'][_0x45beb2]['setValue'](this['lightWidth'][_0x45beb2]);const _0x1b9025=_0x5d541a['transformV'+'ector'](new T(-0x6*0x3d0+0x151b+0x1c5,0x1*-0x1bd1+0x25c6+-0x9f5*0x1,0x5*0x404+0x1*-0x1b25+0x711+0.5));this['lightHeigh'+'t'][_0x45beb2][0x2375+-0x1e49+-0x52c]=_0x1b9025['x']*_0x4b7e0b,this['lightHeigh'+'t'][_0x45beb2][0x1dfe+0x19d*0x8+-0x2ae5*0x1]=_0x1b9025['y']*_0x4b7e0b,this['lightHeigh'+'t'][_0x45beb2][-0x73*0xb+-0x6*0xa7+-0x8dd*-0x1]=_0x1b9025['z']*_0x4b7e0b,this['lightHeigh'+'tId'][_0x45beb2]['setValue'](this['lightHeigh'+'t'][_0x45beb2]);}['dispatchDi'+'rectLights'](_0x22ea4f,_0x5a187b,_0x1eb20){let _0x5c1374=0x1*0x1760+0x686+0x1de6*-0x1;const _0x8b9079=this['device']['scope'];for(let _0x43b22e=0x1*0x6ca+0xa49+-0x1113;_0x43b22e<_0x22ea4f['length'];_0x43b22e++){if(!(_0x22ea4f[_0x43b22e]['mask']&_0x5a187b))continue;const _0x17bdc8=_0x22ea4f[_0x43b22e],_0x54b93f=_0x17bdc8['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5c1374]||this['_resolveLi'+'ght'](_0x8b9079,_0x5c1374),this['lightColor'+'Id'][_0x5c1374]['setValue'](_0x17bdc8['_colorLine'+'ar']),_0x54b93f['getY'](_0x17bdc8['_direction'])['mulScalar'](-(-0x49*0x1f+0x329*0x1+0x5af)),_0x17bdc8['_direction']['normalize'](),this['lightDir'][_0x5c1374][-0xa12*0x2+0x3*-0x189+0x18bf*0x1]=_0x17bdc8['_direction']['x'],this['lightDir'][_0x5c1374][-0x2683*0x1+-0x168c+0x3d10*0x1]=_0x17bdc8['_direction']['y'],this['lightDir'][_0x5c1374][-0xf99+0x1b6c+-0xbd1]=_0x17bdc8['_direction']['z'],this['lightDirId'][_0x5c1374]['setValue'](this['lightDir'][_0x5c1374]),_0x17bdc8['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x54b93f,_0x5c1374,_0x17bdc8['_direction'],_0x1eb20['_node']['getPositio'+'n'](),_0x1eb20['farClip']),_0x17bdc8['castShadow'+'s']){const _0x4bebc5=_0x17bdc8['getRenderD'+'ata'](_0x1eb20,-0xb19+-0x1*0x1d9f+0x28b8),_0x4d59e5=_0x17bdc8['_getUnifor'+'mBiasValue'+'s'](_0x4bebc5);this['lightShado'+'wMapId'][_0x5c1374]['setValue'](_0x4bebc5['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x5c1374]['setValue'](_0x4bebc5['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x5c1374]['setValue'](_0x17bdc8['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x5c1374]['setValue'](_0x17bdc8['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x5c1374]['setValue'](_0x17bdc8['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x5c1374]['setValue'](0x243d+0x12ff+-0x373b-_0x17bdc8['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x5c1374]['setValue'](_0x17bdc8['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x5c1374]['setValue'](_0x17bdc8['_softShado'+'wParams']),_0x4bebc5['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x5c1374]['setValue'](_0x17bdc8['penumbraSi'+'ze']/_0x4bebc5['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x4bebc5['projection'+'Compensati'+'on']);const _0x3d54b4=_0x17bdc8['_shadowCam'+'eraParams'];_0x3d54b4['length']=0x1*-0x2156+-0x25*-0x59+0x147d*0x1,_0x3d54b4[-0x7*-0x1d+-0x7c4+-0x11*-0x69]=-0x1e5d+-0x100+0x1f5d,_0x3d54b4[-0x14*0x25+0x1ba9+0x27a*-0xa]=_0x4bebc5['shadowCame'+'ra']['_farClip'],_0x3d54b4[0x1236+-0x722+-0xda*0xd]=_0x4bebc5['shadowCame'+'ra']['_nearClip'],_0x3d54b4[0x1e75+-0x4f8*0x2+-0x1482]=0xf9c+0x5*0x777+0xa*-0x54b,this['lightCamer'+'aParamsId'][_0x5c1374]['setValue'](_0x3d54b4);const _0x456c1d=_0x17bdc8['_shadowRen'+'derParams'];_0x456c1d['length']=-0x1279*0x1+0x1031+0x24c,_0x456c1d[-0xd*0x258+-0x35*0x17+0x233b]=_0x17bdc8['_shadowRes'+'olution'],_0x456c1d[0x113+0xeb0+0x2*-0x7e1]=_0x4d59e5['normalBias'],_0x456c1d[0xe3e+-0xd51+0x1*-0xeb]=_0x4d59e5['bias'],_0x456c1d[0x2610*-0x1+0x1067*0x1+0x15ac]=-0xb23+-0x466+0xf89*0x1,this['lightShado'+'wParamsId'][_0x5c1374]['setValue'](_0x456c1d);}_0x5c1374++;}return _0x5c1374;}['setLTCPosi'+'tionalLigh'+'t'](_0x4c0f24,_0x17c61a){const _0x225f18=_0x4c0f24['transformV'+'ector'](new T(-(0x1*-0x127d+0x18*0xa+0x118d+0.5),0x2095+-0x3fd*0x9+0x350,0x2b4*-0xb+-0x1848+0x1b02*0x2));this['lightWidth'][_0x17c61a][0x2257+0x9e8+-0x2c3f]=_0x225f18['x'],this['lightWidth'][_0x17c61a][-0x123e+-0x220+0x145f]=_0x225f18['y'],this['lightWidth'][_0x17c61a][0x19ce+-0x13*0xb9+-0xc11]=_0x225f18['z'],this['lightWidth'+'Id'][_0x17c61a]['setValue'](this['lightWidth'][_0x17c61a]);const _0x455f18=_0x4c0f24['transformV'+'ector'](new T(0x5f6+-0x581+0x1*-0x75,-0x2*-0xcf0+-0x1ec2*-0x1+-0x38a2,0x29a+0x20d8+-0x1*0x2372+0.5));this['lightHeigh'+'t'][_0x17c61a][0x1d43+0x23bd+0x208*-0x20]=_0x455f18['x'],this['lightHeigh'+'t'][_0x17c61a][0x3e*0x1d+-0x12*0x1fd+0x5c1*0x5]=_0x455f18['y'],this['lightHeigh'+'t'][_0x17c61a][0x1edd+-0x11ae+-0xd2d]=_0x455f18['z'],this['lightHeigh'+'tId'][_0x17c61a]['setValue'](this['lightHeigh'+'t'][_0x17c61a]);}['dispatchOm'+'niLight'](_0x514262,_0x3cbce0,_0x2d5201){const _0x16320c=_0x3cbce0['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x2d5201]||this['_resolveLi'+'ght'](_0x514262,_0x2d5201),this['lightRadiu'+'sId'][_0x2d5201]['setValue'](_0x3cbce0['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x2d5201]['setValue'](_0x3cbce0['_colorLine'+'ar']),_0x16320c['getTransla'+'tion'](_0x3cbce0['_position']),this['lightPos'][_0x2d5201][0x7d*-0x3b+0x8d6+-0x13f9*-0x1]=_0x3cbce0['_position']['x'],this['lightPos'][_0x2d5201][0x1e7*0x8+0x50*-0x7c+0x1789]=_0x3cbce0['_position']['y'],this['lightPos'][_0x2d5201][-0x140d+-0x17b*-0x1+0x1294]=_0x3cbce0['_position']['z'],this['lightPosId'][_0x2d5201]['setValue'](this['lightPos'][_0x2d5201]),_0x3cbce0['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x16320c,_0x2d5201),_0x3cbce0['castShadow'+'s']){const _0x326470=_0x3cbce0['getRenderD'+'ata'](null,-0x1*-0xb77+0x1*0x10ee+0x1*-0x1c65);this['lightShado'+'wMapId'][_0x2d5201]['setValue'](_0x326470['shadowBuff'+'er']);const _0x54ff08=_0x3cbce0['_getUnifor'+'mBiasValue'+'s'](_0x326470),_0x321133=_0x3cbce0['_shadowRen'+'derParams'];_0x321133['length']=-0x3ee+-0x25e5+0x29d7,_0x321133[-0x1d54+-0x150*-0x13+-0x464*-0x1]=_0x3cbce0['_shadowRes'+'olution'],_0x321133[0x81*-0x44+0xc82+-0x741*-0x3]=_0x54ff08['normalBias'],_0x321133[-0x1b65*0x1+0xb*0xa3+0x175*0xe]=_0x54ff08['bias'],_0x321133[-0x721*0x1+-0x235e+0x2a82]=(0x25e5*0x1+0x1bb+-0x467*0x9)/_0x3cbce0['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x2d5201]['setValue'](_0x321133),this['lightShado'+'wIntensity'][_0x2d5201]['setValue'](_0x3cbce0['shadowInte'+'nsity']);const _0x5dcea2=_0x3cbce0['penumbraSi'+'ze']/_0x326470['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x2d5201]['setValue'](_0x5dcea2);const _0x16a196=_0x3cbce0['_shadowCam'+'eraParams'];_0x16a196['length']=-0x10f*-0x19+0x1a*0x10d+-0x35c5,_0x16a196[0x2*-0xf4e+-0x70f*0x1+-0x25ab*-0x1]=-0x28d*0x5+0x7c9*0x3+-0xa9a,_0x16a196[-0x626+-0x1*0xc8e+0x12b5]=_0x326470['shadowCame'+'ra']['_farClip'],_0x16a196[-0x439*-0x3+0x2*0x95+0xdd3*-0x1]=_0x326470['shadowCame'+'ra']['_nearClip'],_0x16a196[0xf10+-0xbce+-0x33f]=-0xc4*-0x14+0xccc+0x1c*-0x101,this['lightCamer'+'aParamsId'][_0x2d5201]['setValue'](_0x16a196);}_0x3cbce0['_cookie']&&(this['lightCooki'+'eId'][_0x2d5201]['setValue'](_0x3cbce0['_cookie']),this['lightShado'+'wMatrixId'][_0x2d5201]['setValue'](_0x16320c['data']),this['lightCooki'+'eIntId'][_0x2d5201]['setValue'](_0x3cbce0['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x4f6556,_0x38eeec,_0x5d5312){const _0x581f4d=_0x38eeec['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5d5312]||this['_resolveLi'+'ght'](_0x4f6556,_0x5d5312),this['lightInAng'+'leId'][_0x5d5312]['setValue'](_0x38eeec['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x5d5312]['setValue'](_0x38eeec['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x5d5312]['setValue'](_0x38eeec['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x5d5312]['setValue'](_0x38eeec['_colorLine'+'ar']),_0x581f4d['getTransla'+'tion'](_0x38eeec['_position']),this['lightPos'][_0x5d5312][-0x2*0x122b+-0xa4a+0x1*0x2ea0]=_0x38eeec['_position']['x'],this['lightPos'][_0x5d5312][-0x241f+-0xbca+0x2fea]=_0x38eeec['_position']['y'],this['lightPos'][_0x5d5312][-0x3*-0x6da+0x1b*0xc8+-0x854*0x5]=_0x38eeec['_position']['z'],this['lightPosId'][_0x5d5312]['setValue'](this['lightPos'][_0x5d5312]),_0x38eeec['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x581f4d,_0x5d5312),_0x581f4d['getY'](_0x38eeec['_direction'])['mulScalar'](-(-0x9cc+-0x2327*0x1+0xb3d*0x4)),_0x38eeec['_direction']['normalize'](),this['lightDir'][_0x5d5312][-0xaa9*-0x2+0x4dc+-0x1a2e]=_0x38eeec['_direction']['x'],this['lightDir'][_0x5d5312][0x13c1+-0x1*0x2543+0x1183]=_0x38eeec['_direction']['y'],this['lightDir'][_0x5d5312][0x2e*0xd+0x341*-0x2+0x42e]=_0x38eeec['_direction']['z'],this['lightDirId'][_0x5d5312]['setValue'](this['lightDir'][_0x5d5312]),_0x38eeec['castShadow'+'s']){const _0x471207=_0x38eeec['getRenderD'+'ata'](null,-0x259f+-0x23ff*-0x1+0x10*0x1a);this['lightShado'+'wMapId'][_0x5d5312]['setValue'](_0x471207['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x5d5312]['setValue'](_0x471207['shadowMatr'+'ix']['data']);const _0x3e655c=_0x38eeec['_getUnifor'+'mBiasValue'+'s'](_0x471207),_0xf76496=_0x38eeec['_shadowRen'+'derParams'];_0xf76496['length']=0x2*0x11d1+-0x1a8a+-0x914*0x1,_0xf76496[0x1500+-0x91c+-0xbe4]=_0x38eeec['_shadowRes'+'olution'],_0xf76496[-0x3a+0xa3*-0x2+0x181]=_0x3e655c['normalBias'],_0xf76496[-0x15b*-0x15+-0x145e+-0x817]=_0x3e655c['bias'],_0xf76496[-0x63e+0x1067*0x2+0x1a8d*-0x1]=(-0x2ae+0x7a6+-0x4f7)/_0x38eeec['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x5d5312]['setValue'](_0xf76496),this['lightShado'+'wIntensity'][_0x5d5312]['setValue'](_0x38eeec['shadowInte'+'nsity']);const _0x21c15e=_0x38eeec['penumbraSi'+'ze']/_0x471207['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x568484=_0x471207['shadowCame'+'ra']['_fov']*Math['PI']/(0x2613+0x108*0x10+-0x35df),_0x23f346=(0xb3f+0x8*-0x122+-0x22e)/Math['tan'](_0x568484/(0x26db+-0x1e88*-0x1+0x1*-0x4561));this['lightShado'+'wSearchAre'+'aId'][_0x5d5312]['setValue'](_0x21c15e*_0x23f346);const _0x4ed17a=_0x38eeec['_shadowCam'+'eraParams'];_0x4ed17a['length']=0xdce+-0x7f5+-0x5d5,_0x4ed17a[-0x3e*0x52+-0xe34+0x2210]=0x2677+-0x293+-0x1*0x23e4,_0x4ed17a[0x303+-0x3*-0x81e+-0xdae*0x2]=_0x471207['shadowCame'+'ra']['_farClip'],_0x4ed17a[-0x1fac+0x126e+0xd40]=_0x471207['shadowCame'+'ra']['_nearClip'],_0x4ed17a[-0x222+-0x1882+0x1aa7]=-0x2f2*-0x6+-0xe2d+-0x37f,this['lightCamer'+'aParamsId'][_0x5d5312]['setValue'](_0x4ed17a);}if(_0x38eeec['_cookie']){if(!_0x38eeec['castShadow'+'s']){const _0x353127=Ma['evalSpotCo'+'okieMatrix'](_0x38eeec);this['lightShado'+'wMatrixId'][_0x5d5312]['setValue'](_0x353127['data']);}this['lightCooki'+'eId'][_0x5d5312]['setValue'](_0x38eeec['_cookie']),this['lightCooki'+'eIntId'][_0x5d5312]['setValue'](_0x38eeec['cookieInte'+'nsity']),_0x38eeec['_cookieTra'+'nsform']&&(_0x38eeec['_cookieTra'+'nsformUnif'+'orm'][-0x2*0x3eb+-0x1d9c+0x2572]=_0x38eeec['_cookieTra'+'nsform']['x'],_0x38eeec['_cookieTra'+'nsformUnif'+'orm'][-0x4*-0x3d7+0x10*0x40+0x135b*-0x1]=_0x38eeec['_cookieTra'+'nsform']['y'],_0x38eeec['_cookieTra'+'nsformUnif'+'orm'][0x11f0+0x1c41+-0x2e2f]=_0x38eeec['_cookieTra'+'nsform']['z'],_0x38eeec['_cookieTra'+'nsformUnif'+'orm'][-0x8*0x115+0x18fc+-0x1051]=_0x38eeec['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x5d5312]['setValue'](_0x38eeec['_cookieTra'+'nsformUnif'+'orm']),_0x38eeec['_cookieOff'+'setUniform'][0x5cb+-0x3*0x329+0x3b0]=_0x38eeec['_cookieOff'+'set']['x'],_0x38eeec['_cookieOff'+'setUniform'][-0x37*0x42+-0x1*0x46a+0x1299]=_0x38eeec['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x5d5312]['setValue'](_0x38eeec['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x45ff97,_0x5cb7d2,_0x2267cd){let _0x371dac=_0x2267cd;const _0x313a26=this['device']['scope'],_0x147e6c=_0x45ff97[Pe],_0x28703c=_0x147e6c['length'];for(let _0x44d810=0x13e1*0x1+-0xc*0x78+-0x59*0x29;_0x44d810<_0x28703c;_0x44d810++){const _0x2dc922=_0x147e6c[_0x44d810];_0x2dc922['mask']&_0x5cb7d2&&(this['dispatchOm'+'niLight'](_0x313a26,_0x2dc922,_0x371dac),_0x371dac++);}const _0x206787=_0x45ff97[Re],_0x28bf86=_0x206787['length'];for(let _0xa27063=0x1ef*-0x9+0x2312+-0x11ab;_0xa27063<_0x28bf86;_0xa27063++){const _0x34a3de=_0x206787[_0xa27063];_0x34a3de['mask']&_0x5cb7d2&&(this['dispatchSp'+'otLight'](_0x313a26,_0x34a3de,_0x371dac),_0x371dac++);}}['renderForw'+'ardPrepare'+'Materials'](_0x47e0df,_0xb0b016,_0x1d325d,_0x356d79,_0x327981,_0x14bed3){const _0x3fc87a=_0x47e0df['fog']??this['scene']['fog'],_0x5d5e9f=_0x47e0df['shaderPara'+'ms'];_0x5d5e9f['fog']=_0x3fc87a['type'],_0x5d5e9f['srgbRender'+'Target']=(_0xb0b016==null?void(0x24fd+0x1ea0+-0x439d):_0xb0b016['isColorBuf'+'ferSrgb'](-0xc*-0xb7+0x7*0x27b+-0x1d*0xe5))??!(0x3*0x617+0x1c57+-0x123*0x29);const _0x398ed6=(_0x14b0e8,_0x49dbdf,_0x4c4f8a,_0x55cce6)=>{br['drawCalls']['push'](_0x14b0e8),br['shaderInst'+'ances']['push'](_0x49dbdf),br['isNewMater'+'ial']['push'](_0x4c4f8a),br['lightMaskC'+'hanged']['push'](_0x55cce6);};br['clear']();const _0x2847a3=this['device'],_0x132a1e=this['scene'],_0x5a3770=_0x132a1e['clusteredL'+'ightingEna'+'bled'],_0x5a22b0=(_0x327981==null?void(-0x89*-0x13+0x80e+-0x1239):_0x327981['getLightHa'+'sh'](_0x5a3770))??0x1ed7+-0x1*0x461+0x8d2*-0x3;let _0x254ba8=null,_0xd9f189,_0x8bf7b9;const _0xc616b1=_0x1d325d['length'];for(let _0x1a4914=-0x7ff+0x1229+-0xa2a;_0x1a4914<_0xc616b1;_0x1a4914++){const _0x2ff5d0=_0x1d325d[_0x1a4914];if(_0x47e0df===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x327981){if(_0x327981['_skipRende'+'rCounter']>=_0x327981['skipRender'+'After'])continue;_0x327981['_skipRende'+'rCounter']++;}_0x2ff5d0['ensureMate'+'rial'](_0x2847a3);const _0x2ce6e9=_0x2ff5d0['material'],_0x49cbc5=_0x2ff5d0['_shaderDef'+'s'],_0x4ddc36=_0x2ff5d0['mask'];_0x2ce6e9&&_0x2ce6e9===_0x254ba8&&_0x49cbc5!==_0xd9f189&&(_0x254ba8=null),_0x2ce6e9!==_0x254ba8&&(this['_materialS'+'witches']++,_0x2ce6e9['_scene']=_0x132a1e,_0x2ce6e9['dirty']&&(G['pushGpuMar'+'ker'](_0x2847a3,'Node:\x20'+_0x2ff5d0['node']['name']+(',\x20Material'+':\x20')+_0x2ce6e9['name']),_0x2ce6e9['updateUnif'+'orms'](_0x2847a3,_0x132a1e),_0x2ce6e9['dirty']=!(-0x17f0+0x2d*0x9d+-0x34*0x12),G['popGpuMark'+'er'](_0x2847a3)));const _0x395256=_0x2ff5d0['getShaderI'+'nstance'](_0x14bed3,_0x5a22b0,_0x132a1e,_0x5d5e9f,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x356d79);_0x398ed6(_0x2ff5d0,_0x395256,_0x2ce6e9!==_0x254ba8,!_0x254ba8||_0x4ddc36!==_0x8bf7b9),_0x254ba8=_0x2ce6e9,_0xd9f189=_0x49cbc5,_0x8bf7b9=_0x4ddc36;}return br;}['renderForw'+'ardInterna'+'l'](_0x2acd9b,_0x3fd6c8,_0x5bd735,_0x2c4947,_0x515068,_0x31f778){const _0x2eabba=this['device'],_0x1d8c4a=this['scene'],_0x58539b=-0x8*0x409+-0x1*-0x1122+0xf27<<_0x2c4947,_0x5e53e8=_0x31f778?-(-0x7*0x377+-0x13*0x31+0x25*0xc1):0x1*-0x29+0x1eaa+0x3d0*-0x8,_0x8d8643=_0x1d8c4a['clusteredL'+'ightingEna'+'bled'],_0x389119=_0x3fd6c8['drawCalls']['length'];for(let _0x2ac07b=-0x1dfa+-0x3*0x823+-0x77*-0x75;_0x2ac07b<_0x389119;_0x2ac07b++){const _0xdde62b=_0x3fd6c8['drawCalls'][_0x2ac07b],_0x20bd5d=_0x3fd6c8['isNewMater'+'ial'][_0x2ac07b],_0x57f9c9=_0x3fd6c8['lightMaskC'+'hanged'][_0x2ac07b],_0x3baac4=_0x3fd6c8['shaderInst'+'ances'][_0x2ac07b],_0xc334fb=_0xdde62b['material'],_0xe8055a=_0xdde62b['mask'];if(_0x20bd5d){if(_0x2eabba['setShader'](_0x3baac4['shader'],!(0x221*0xd+0x61b*-0x3+0x1df*-0x5)),_0xc334fb['setParamet'+'ers'](_0x2eabba),_0x57f9c9){const _0x5acfba=this['dispatchDi'+'rectLights'](_0x5bd735[oe],_0xe8055a,_0x2acd9b);_0x8d8643||this['dispatchLo'+'calLights'](_0x5bd735,_0xe8055a,_0x5acfba);}this['alphaTestI'+'d']['setValue'](_0xc334fb['alphaTest']),_0x2eabba['setBlendSt'+'ate'](_0xc334fb['blendState']),_0x2eabba['setDepthSt'+'ate'](_0xc334fb['depthState']),_0x2eabba['setAlphaTo'+'Coverage'](_0xc334fb['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x2eabba,'Node:\x20'+_0xdde62b['node']['name']+(',\x20Material'+':\x20')+_0xc334fb['name']),this['setupCullM'+'ode'](_0x2acd9b['_cullFaces'],_0x5e53e8,_0xdde62b);const _0x2ab25e=_0xdde62b['stencilFro'+'nt']??_0xc334fb['stencilFro'+'nt'],_0xc2264f=_0xdde62b['stencilBac'+'k']??_0xc334fb['stencilBac'+'k'];_0x2eabba['setStencil'+'State'](_0x2ab25e,_0xc2264f),_0xdde62b['setParamet'+'ers'](_0x2eabba,_0x58539b),_0x2eabba['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0xdde62b['id']);const _0x58b6dd=_0xdde62b['mesh'];this['setVertexB'+'uffers'](_0x2eabba,_0x58b6dd),this['setMorphin'+'g'](_0x2eabba,_0xdde62b['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x2eabba,_0xdde62b),this['setupMeshU'+'niformBuff'+'ers'](_0x3baac4,_0xdde62b);const _0x305a86=_0xdde62b['renderStyl'+'e'];if(_0x2eabba['setIndexBu'+'ffer'](_0x58b6dd['indexBuffe'+'r'][_0x305a86]),_0x515068==null||_0x515068(_0xdde62b,_0x2ac07b),_0x2acd9b['xr']&&_0x2acd9b['xr']['session']&&_0x2acd9b['xr']['views']['list']['length']){const _0x160b91=_0x2acd9b['xr']['views'];for(let _0xcd9ae1=-0xfd4*0x2+0xd*-0xd6+0x2a86;_0xcd9ae1<_0x160b91['list']['length'];_0xcd9ae1++){const _0x380158=_0x160b91['list'][_0xcd9ae1];_0x2eabba['setViewpor'+'t'](_0x380158['viewport']['x'],_0x380158['viewport']['y'],_0x380158['viewport']['z'],_0x380158['viewport']['w']),this['projId']['setValue'](_0x380158['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x380158['projMat']['data']),this['viewId']['setValue'](_0x380158['viewOffMat']['data']),this['viewInvId']['setValue'](_0x380158['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x380158['viewMat3']['data']),this['viewProjId']['setValue'](_0x380158['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x380158['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0xcd9ae1),_0xcd9ae1===-0x28a+-0x1c1c+0x1ea6?this['drawInstan'+'ce'](_0x2eabba,_0xdde62b,_0x58b6dd,_0x305a86,!(-0x2*-0x24b+0x1*-0x25c9+0x2133)):this['drawInstan'+'ce2'](_0x2eabba,_0xdde62b,_0x58b6dd,_0x305a86),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x2eabba,_0xdde62b,_0x58b6dd,_0x305a86,!(0x6*-0x475+0x1*-0x137b+-0x1*-0x2e39)),this['_forwardDr'+'awCalls']++;_0x2ac07b<_0x389119-(0x215e+0x1*-0x187d+-0x2*0x470)&&!_0x3fd6c8['isNewMater'+'ial'][_0x2ac07b+(-0x4*0x53c+-0x7e5+-0x2*-0xe6b)]&&_0xc334fb['setParamet'+'ers'](_0x2eabba,_0xdde62b['parameters']),G['popGpuMark'+'er'](_0x2eabba);}}['renderForw'+'ard'](_0x4e029f,_0x19619b,_0x39f972,_0x347149,_0x28ea49,_0x3ebd9c,_0x55b297,_0x2c49df){const _0x10fb37=ne(),_0x37108b=this['renderForw'+'ardPrepare'+'Materials'](_0x4e029f,_0x19619b,_0x39f972,_0x347149,_0x55b297,_0x28ea49);this['renderForw'+'ardInterna'+'l'](_0x4e029f,_0x37108b,_0x347149,_0x28ea49,_0x3ebd9c,_0x2c49df),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x10fb37;}['renderForw'+'ardLayer'](_0x3ab400,_0x4a75cb,_0x3e7ef7,_0x52a467,_0xe427a7,_0x3369b2,_0x143cd8={}){const {scene:_0x1d9ba1,device:_0x3677ef}=this,_0x4ff50a=_0x1d9ba1['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x3ab400,_0x4a75cb);let _0x2496f9,_0x5e27cc;if(_0x3e7ef7){const _0x588fd2=ne();_0x3e7ef7['sortVisibl'+'e'](_0x3ab400,_0x52a467),this['_sortTime']+=ne()-_0x588fd2;const _0x36d235=_0x3e7ef7['getCulledI'+'nstances'](_0x3ab400);_0x2496f9=_0x52a467?_0x36d235['transparen'+'t']:_0x36d235['opaque'],_0x1d9ba1['immediate']['onPreRende'+'rLayer'](_0x3e7ef7,_0x2496f9,_0x52a467),_0x3e7ef7['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x1d9ba1['ambientLig'+'ht'],_0x3e7ef7['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x5e27cc=_0x3e7ef7['splitLight'+'s'];}else _0x2496f9=_0x143cd8['meshInstan'+'ces'],_0x5e27cc=_0x143cd8['splitLight'+'s']??OM;if(v['assert'](_0x2496f9,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x4ff50a){const _0x2d6ef7=_0x143cd8['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x2d6ef7['activate'](),_0x3e7ef7&&!this['clustersDe'+'bugRendere'+'d']&&_0x1d9ba1['lighting']['debugLayer']===_0x3e7ef7['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x169a+-0x205d+0x9c3),Vu['render'](_0x2d6ef7,this['scene']));}_0x1d9ba1['_activeCam'+'era']=_0x3ab400;const _0x169616=_0x3ab400['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x169616);const _0x307864=this['setCameraU'+'niforms'](_0x3ab400,_0x4a75cb);_0x3677ef['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x3369b2,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x307864);const _0x4efaa8=_0x143cd8['clearColor']??!(-0x259*0xb+-0x1*0x1521+-0x3*-0xfa7),_0xef465=_0x143cd8['clearDepth']??!(-0x67*-0x1a+0x1f37+-0x29ac),_0x356e70=_0x143cd8['clearStenc'+'il']??!(-0x4a9*0x2+-0x132c+0x1c7f*0x1);(_0x4efaa8||_0xef465||_0x356e70)&&this['clear'](_0x3ab400,_0x4efaa8,_0xef465,_0x356e70);const _0x234159=!!(_0x3ab400['_flipFaces']^(_0x4a75cb==null?void(-0x1b*0xe1+-0x2631+0x3dec*0x1):_0x4a75cb['flipY'])),_0x3a066c=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x3ab400,_0x4a75cb,_0x2496f9,_0x5e27cc,_0xe427a7,null,_0x3e7ef7,_0x234159),_0x3e7ef7&&(_0x3e7ef7['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x3a066c);}['setFogCons'+'tants'](_0x3271f2){if(_0x3271f2['type']!==Fa){$i['linear'](_0x3271f2['color']);const _0x324c9b=this['fogColor'];_0x324c9b[0x26*-0x29+-0x20a6*-0x1+0x2a8*-0xa]=$i['r'],_0x324c9b[-0x1fbd+-0x1857+-0x1*-0x3815]=$i['g'],_0x324c9b[-0xb*0x75+-0x143*-0x19+-0x1a82]=$i['b'],this['fogColorId']['setValue'](_0x324c9b),_0x3271f2['type']===zb?(this['fogStartId']['setValue'](_0x3271f2['start']),this['fogEndId']['setValue'](_0x3271f2['end'])):this['fogDensity'+'Id']['setValue'](_0x3271f2['density']);}}['setSceneCo'+'nstants'](){const _0x325d0c=this['scene'];this['dispatchGl'+'obalLights'](_0x325d0c);const _0x499d7d=this['device'];this['_screenSiz'+'e'][0x269b*-0x1+0x1*-0xc1c+0x32b7]=_0x499d7d['width'],this['_screenSiz'+'e'][0x1*0x2575+-0xd03*-0x1+-0x3277]=_0x499d7d['height'],this['_screenSiz'+'e'][-0xd4a+-0x831*-0x3+-0xb47]=(-0x1161+-0x12*-0x10c+-0x2*0xbb)/_0x499d7d['width'],this['_screenSiz'+'e'][0x1279+0xe7d+-0x20f3*0x1]=(0x1cd2*0x1+-0x2004+0x333)/_0x499d7d['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x2c170f,_0x82b360){const _0x46d393=this['scene'];if(_0x2c170f['reset'](),_0x46d393['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x3f7215,cookiesEnabled:_0x4e3b6e}=_0x46d393['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x2c170f,_0x3f7215,_0x4e3b6e,this['lights'],this['localLight'+'s']),_0x2c170f['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x2c170f,this['localLight'+'s']);let _0x2c2ccd=0x26c1+-0xe*0xc3+0x95d*-0x3,_0x2ceffa=!(-0xa93+0x20*-0xc5+-0x1*-0x2333),_0x22cebe=null;const _0x2c57d3=_0x82b360['_renderAct'+'ions'];for(let _0xff8372=_0x2c2ccd;_0xff8372<_0x2c57d3['length'];_0xff8372++){const _0x2f72c3=_0x2c57d3[_0xff8372],{layer:_0x1630d7,camera:_0x243a04}=_0x2f72c3;if(_0x2f72c3['useCameraP'+'asses'])v['call'](()=>{_0x243a04['postEffect'+'s']['effects']['length']>-0x13c0+-0x460+0x1820&&v['warnOnce']('Camera\x20\x27'+_0x243a04['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x243a04['camera']['renderPass'+'es']['forEach'](_0x1d20e1=>{_0x2c170f['addRenderP'+'ass'](_0x1d20e1);});else{const _0x378f73=_0x1630d7['id']===Xt,_0x22aa77=_0x378f73&&(_0x243a04['renderScen'+'eColorMap']||_0x243a04['renderScen'+'eDepthMap']);_0x2ceffa&&(_0x2ceffa=!(0xf0f+-0x19e0+0xad2),_0x2c2ccd=_0xff8372,_0x22cebe=_0x2f72c3['renderTarg'+'et']);const _0x2b4f35=_0x2c57d3[_0xff8372+(-0x23f0+0x92d*0x2+0x1197)],_0x32afd0=(_0x2b4f35?!_0x2b4f35['useCameraP'+'asses']&&_0x2b4f35['layer']['id']===Xt:!(-0xd01+0x1*0x991+0x371))&&(_0x243a04['renderScen'+'eColorMap']||_0x243a04['renderScen'+'eDepthMap']),_0x38c934=_0x2b4f35?_0x2b4f35['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x2b4f35['camera']['camera']):!(-0x2483+0x2*0xff4+0xec*0x5);if(!_0x2b4f35||_0x2b4f35['renderTarg'+'et']!==_0x22cebe||_0x38c934||_0x32afd0||_0x22aa77){if(_0x378f73&&_0x2c2ccd===_0xff8372||this['addMainRen'+'derPass'](_0x2c170f,_0x82b360,_0x22cebe,_0x2c2ccd,_0xff8372),_0x378f73){if(_0x243a04['renderScen'+'eColorMap']){const _0x4f1dc0=_0x243a04['camera']['renderPass'+'ColorGrab'];_0x4f1dc0['source']=_0x243a04['renderTarg'+'et'],_0x2c170f['addRenderP'+'ass'](_0x4f1dc0);}_0x243a04['renderScen'+'eDepthMap']&&_0x2c170f['addRenderP'+'ass'](_0x243a04['camera']['renderPass'+'DepthGrab']);}if(_0x2f72c3['triggerPos'+'tprocess']&&(_0x243a04!=null&&_0x243a04['onPostproc'+'essing'])){const _0x2b4b50=new FM(this['device'],this,_0x2f72c3);_0x2c170f['addRenderP'+'ass'](_0x2b4b50);}_0x2ceffa=!(-0x6a1*-0x5+-0x8*0x48b+0x333);}}}}['addMainRen'+'derPass'](_0x185b64,_0x3ca2a5,_0x40c793,_0xfbc9c6,_0x30139f){const _0x2c791c=new LM(this['device'],_0x3ca2a5,this['scene'],this);_0x2c791c['init'](_0x40c793);const _0x494552=_0x3ca2a5['_renderAct'+'ions'];for(let _0x269f0a=_0xfbc9c6;_0x269f0a<=_0x30139f;_0x269f0a++)_0x2c791c['addRenderA'+'ction'](_0x494552[_0x269f0a]);_0x185b64['addRenderP'+'ass'](_0x2c791c);}['update'](_0x4fd5ad){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x4fd5ad),this['collectLig'+'hts'](_0x4fd5ad),this['beginFrame'](_0x4fd5ad),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x4fd5ad),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',-0x1da9+-0x2158+-0x1*-0x3f01),c(_i,'skipRender'+'After',-0x204d+-0x13cf+-0x341c*-0x1);let Gh=_i,zd=0x45e+-0x1*0x2b4+-0x1aa*0x1;const ja=[],Ol=new Set();function NM(_0x2fead9,_0x1dbde8){return _0x2fead9['drawOrder']-_0x1dbde8['drawOrder'];}function zM(_0x4a3fa4,_0x1779be){const _0x25852f=_0x4a3fa4['_key'][Ei],_0x3391b2=_0x1779be['_key'][Ei];return _0x25852f===_0x3391b2&&_0x4a3fa4['mesh']&&_0x1779be['mesh']?_0x1779be['mesh']['id']-_0x4a3fa4['mesh']['id']:_0x3391b2-_0x25852f;}function UM(_0x470d92,_0x2d098d){return _0x2d098d['zdist']-_0x470d92['zdist'];}function VM(_0x934ea8,_0x4dd831){return _0x934ea8['zdist']-_0x4dd831['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x411240={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(-0xd1e+0x39*-0x6f+0x25d5)),c(this,'requiresLi'+'ghtCube',!(0x2443+0x969+-0x9*0x513)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x5*0x261+0xaa4*-0x3+-0x9e*-0x47)),(_0x411240['id']!==void(-0x1*0x150b+0x79c+0xb5*0x13)?(this['id']=_0x411240['id'],zd=Math['max'](this['id']+(0x2335+-0x2b2+-0x2082),zd)):this['id']=zd++,this['name']=_0x411240['name'],this['_enabled']=_0x411240['enabled']??!(-0x1e5a+-0x6*0x1+0x1e60),this['_refCounte'+'r']=this['_enabled']?0x22b*-0x7+-0x4b*-0x8+0x35*0x3e:0x212f*-0x1+-0x9cc+0x2afb,this['opaqueSort'+'Mode']=_0x411240['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x411240['transparen'+'tSortMode']??Bm,_0x411240['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x411240['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x411240['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x411240['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x411240['clearStenc'+'ilBuffer'],this['onEnable']=_0x411240['onEnable'],this['onDisable']=_0x411240['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x1123*0x2+-0x2273+0x2d,this['_lightHash'+'Dirty']=!(0xb3*0x1d+0xe39+0x227f*-0x1),this['_lightIdHa'+'sh']=-0x2657+-0x136a+-0x1*-0x39c1,this['_lightIdHa'+'shDirty']=!(-0x1c41*-0x1+0x338+0x26*-0xd4),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x1944+0x1*-0x56+-0xe2*-0x1d,this['_renderTim'+'e']=-0x1*-0x1392+-0x115c+-0x236*0x1,this['_forwardDr'+'awCalls']=0xd6e+-0x2*-0xb2d+-0x4*0x8f2,this['_shadowDra'+'wCalls']=-0x8*0x293+-0x6c9*-0x3+0x3d,this['_shaderVer'+'sion']=-(0x126*0x1a+0x220f+-0x3fea));}set['enabled'](_0x2d66e3){_0x2d66e3!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0xd73+-0x1*0x21f+-0x1*-0xf92),this['_enabled']=_0x2d66e3,_0x2d66e3?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x4d1943){this['_clearColo'+'rBuffer']=_0x4d1943,this['_dirtyComp'+'osition']=!(-0xa5e+-0x1*-0x1ead+0x1*-0x144f);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x4c5a1f){this['_clearDept'+'hBuffer']=_0x4c5a1f,this['_dirtyComp'+'osition']=!(-0x14ef*0x1+0x268b+0x1c*-0xa1);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x351655){this['_clearSten'+'cilBuffer']=_0x351655,this['_dirtyComp'+'osition']=!(0xf34+0xcda+-0x1c0e);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x53a*-0x7+0xf4a+-0x33e0;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x93b+-0x8d*0x1f+0x1a4e&&(this['_enabled']=!(0x22cd*0x1+-0x1b67+0x3b3*-0x2),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0xee4+-0x1*0x14e7+0x23cc)this['_enabled']=!(0x15ee+-0x3c8*0x1+-0x1225),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x1*0xddb+0x3*-0xb88+0x3073*0x1){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x57f1ea,_0x32c25d){const _0x112b09=this['meshInstan'+'ces'],_0x3689a7=this['meshInstan'+'cesSet'];for(let _0x5cc451=-0xdda+0x1f15+-0x113b;_0x5cc451<_0x57f1ea['length'];_0x5cc451++){const _0x580131=_0x57f1ea[_0x5cc451];_0x3689a7['has'](_0x580131)||(_0x112b09['push'](_0x580131),_0x3689a7['add'](_0x580131),Ol['add'](_0x580131['material']));}if(_0x32c25d||this['addShadowC'+'asters'](_0x57f1ea),Ol['size']>-0x7*0x383+0x8a4+0x247*0x7){const _0x2520c3=this['_shaderVer'+'sion'];Ol['forEach'](_0x3ad9ad=>{_0x2520c3>=0x4*-0x850+0x40d+0x1d33&&_0x3ad9ad['_shaderVer'+'sion']!==_0x2520c3&&(_0x3ad9ad['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x3ad9ad['clearVaria'+'nts'](),_0x3ad9ad['_shaderVer'+'sion']=_0x2520c3);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x27e2f8,_0x73c31c){const _0x17a425=this['meshInstan'+'ces'],_0x42ef95=this['meshInstan'+'cesSet'];for(let _0x4afb99=-0x121b*-0x2+0x7*0x347+-0x13*0x31d;_0x4afb99<_0x27e2f8['length'];_0x4afb99++){const _0x2ad4ea=_0x27e2f8[_0x4afb99];if(_0x42ef95['has'](_0x2ad4ea)){_0x42ef95['delete'](_0x2ad4ea);const _0x11116e=_0x17a425['indexOf'](_0x2ad4ea);_0x11116e>=-0x1*-0x25e9+-0x1ac2+-0xb27&&_0x17a425['splice'](_0x11116e,0x3b3*-0x7+-0x1*-0xceb+0xcfb);}}_0x73c31c||this['removeShad'+'owCasters'](_0x27e2f8);}['addShadowC'+'asters'](_0xb266d0){const _0xeac709=this['shadowCast'+'ers'],_0x41650e=this['shadowCast'+'ersSet'];for(let _0x5c716e=0x1*0x22e9+0x2d7*0xb+-0x1*0x4226;_0x5c716e<_0xb266d0['length'];_0x5c716e++){const _0x932e79=_0xb266d0[_0x5c716e];_0x932e79['castShadow']&&!_0x41650e['has'](_0x932e79)&&(_0x41650e['add'](_0x932e79),_0xeac709['push'](_0x932e79));}}['removeShad'+'owCasters'](_0x7d8a08){const _0x35abc8=this['shadowCast'+'ers'],_0x38b7f6=this['shadowCast'+'ersSet'];for(let _0x3d2a39=-0x197*0x13+0x16eb+0x74a;_0x3d2a39<_0x7d8a08['length'];_0x3d2a39++){const _0x28e45d=_0x7d8a08[_0x3d2a39];if(_0x38b7f6['has'](_0x28e45d)){_0x38b7f6['delete'](_0x28e45d);const _0x223d60=_0x35abc8['indexOf'](_0x28e45d);_0x223d60>=-0x1894+0x1a08+-0x174&&_0x35abc8['splice'](_0x223d60,0x15c3*-0x1+0x241a+0x5*-0x2de);}}}['clearMeshI'+'nstances'](_0x4530dd=!(0x1*0xa49+0x1c7e+-0x26c6)){this['meshInstan'+'ces']['length']=0x2106+-0xad9+-0x162d,this['meshInstan'+'cesSet']['clear'](),_0x4530dd||(this['shadowCast'+'ers']['length']=0x944+0x710+-0x1054,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0x20*0x113+-0x1*0xea2+-0x2*0x9df),this['_lightIdHa'+'shDirty']=!(-0x72a*-0x2+0x8f6+0xba5*-0x2),this['_splitLigh'+'tsDirty']=!(0x2*0xf17+-0x207+-0x1*0x1c27);}['hasLight'](_0x45ce4b){return this['_lightsSet']['has'](_0x45ce4b);}['addLight'](_0x34c3d5){const _0x16924d=_0x34c3d5['light'];this['_lightsSet']['has'](_0x16924d)||(this['_lightsSet']['add'](_0x16924d),this['_lights']['push'](_0x16924d),this['markLights'+'Dirty']()),_0x16924d['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x16924d);}['removeLigh'+'t'](_0x21ffe3){const _0x3aa510=_0x21ffe3['light'];this['_lightsSet']['has'](_0x3aa510)&&(this['_lightsSet']['delete'](_0x3aa510),this['_lights']['splice'](this['_lights']['indexOf'](_0x3aa510),-0x2bd*-0xd+0x687*0x3+-0x372d),this['markLights'+'Dirty']()),_0x3aa510['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x3aa510);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x241dcf=>_0x241dcf['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x78f+-0x9b2+-0x1*-0x1141,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x3*0x284+0x4b1*-0x2+0x1*0x10ef);const _0xf1af82=this['_splitLigh'+'ts'];for(let _0x3f4b81=-0x1*-0x581+0x2181+-0x2*0x1381;_0x3f4b81<_0xf1af82['length'];_0x3f4b81++)_0xf1af82[_0x3f4b81]['length']=0x987+0x1*0xc88+-0x160f;const _0xb24e27=this['_lights'];for(let _0x1668b7=0x3bf*-0x6+0x1e9+0x1491;_0x1668b7<_0xb24e27['length'];_0x1668b7++){const _0x223700=_0xb24e27[_0x1668b7];_0x223700['enabled']&&_0xf1af82[_0x223700['_type']]['push'](_0x223700);}for(let _0x51e23c=0x3cb+-0x2405+-0xfa*-0x21;_0x51e23c<_0xf1af82['length'];_0x51e23c++)_0xf1af82[_0x51e23c]['sort']((_0xfbeefe,_0x5b1c23)=>_0xfbeefe['key']-_0x5b1c23['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x369cf6,_0x21eb92,_0x2fc728){let _0x138971=0x40*0x73+-0xbe6*0x1+-0x10da;const _0x4316e5=this['_lights'];for(let _0x5ef037=-0x1043*-0x1+-0x1f83+0xf40;_0x5ef037<_0x4316e5['length'];_0x5ef037++){const _0x2e99f2=_0x4316e5[_0x5ef037]['type']!==oe;(_0x369cf6&&_0x2e99f2||_0x21eb92&&!_0x2e99f2)&&ja['push'](_0x2fc728?_0x4316e5[_0x5ef037]['id']:_0x4316e5[_0x5ef037]['key']);}return ja['length']>0x47d*0x5+0x21df+-0x3850&&(ja['sort'](),_0x138971=Zy(ja),ja['length']=0xd8b*-0x1+-0x3a3+0x112e),_0x138971;}['getLightHa'+'sh'](_0x448dae){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x712+0x253a+-0x1e27),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x448dae,!(0x218d+0x13bd+-0x2*0x1aa5),!(0x2*-0xa15+-0xf73+-0x239e*-0x1))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x1db7+-0x7c+-0x1*-0x1e34),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x4*-0x31+0x1*0x1636+-0x16fa),!(0xa42+0x42e*-0x2+0x1e5*-0x1),!(-0x10a+-0xb7*0xd+0xa55))),this['_lightIdHa'+'sh'];}['addCamera'](_0x51610a){this['camerasSet']['has'](_0x51610a['camera'])||(this['camerasSet']['add'](_0x51610a['camera']),this['cameras']['push'](_0x51610a),this['_dirtyComp'+'osition']=!(0x10ac+-0xfea+0xc2*-0x1));}['removeCame'+'ra'](_0x13acf0){if(this['camerasSet']['has'](_0x13acf0['camera'])){this['camerasSet']['delete'](_0x13acf0['camera']);const _0x1be111=this['cameras']['indexOf'](_0x13acf0);this['cameras']['splice'](_0x1be111,-0x226a+0x1*-0x2027+-0x2*-0x2149),this['_dirtyComp'+'osition']=!(0x72f+-0x205c+0x5*0x509);}}['clearCamer'+'as'](){this['cameras']['length']=0x2b3*-0x7+0x10*0x219+-0xeab,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x1b5e+-0x2*0x8cb+-0x77e*-0x6);}['_calculate'+'SortDistan'+'ces'](_0x405af0,_0x3d17f1,_0x36fd00,_0x1e624a){for(let _0x365630=0x4f8*-0x7+0x328*-0xb+-0x22c0*-0x2;_0x365630<_0x3d17f1;_0x365630++){const _0x2764c2=_0x405af0[_0x365630];if(_0x2764c2['layer']<=Vb)continue;if(_0x2764c2['calculateS'+'ortDistanc'+'e']){_0x2764c2['zdist']=_0x2764c2['calculateS'+'ortDistanc'+'e'](_0x2764c2,_0x36fd00,_0x1e624a);continue;}const _0x7a934e=_0x2764c2['aabb']['center'],_0x291e5f=_0x7a934e['x']-_0x36fd00['x'],_0x392da4=_0x7a934e['y']-_0x36fd00['y'],_0x3e20c5=_0x7a934e['z']-_0x36fd00['z'];_0x2764c2['zdist']=_0x291e5f*_0x1e624a['x']+_0x392da4*_0x1e624a['y']+_0x3e20c5*_0x1e624a['z'];}}['getCulledI'+'nstances'](_0x3a76ba){let _0x3454f3=this['_visibleIn'+'stances']['get'](_0x3a76ba);return _0x3454f3||(_0x3454f3=new HM(),this['_visibleIn'+'stances']['set'](_0x3a76ba,_0x3454f3)),_0x3454f3;}['sortVisibl'+'e'](_0x56c8c3,_0x22f51a){const _0x11af86=_0x22f51a?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x11af86===dh)return;const _0x111791=this['getCulledI'+'nstances'](_0x56c8c3),_0x25736b=_0x22f51a?_0x111791['transparen'+'t']:_0x111791['opaque'],_0x4600eb=_0x56c8c3['node'];if(_0x11af86===ew){const _0x3a1523=_0x4600eb['getPositio'+'n'](),_0x494ded=_0x4600eb['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x25736b,_0x25736b['length'],_0x3a1523,_0x494ded),this['customSort'+'Callback']&&_0x25736b['sort'](this['customSort'+'Callback']);}else{if(_0x11af86===Bm||_0x11af86===Jb){const _0x3ac9b0=_0x4600eb['getPositio'+'n'](),_0x1dcd88=_0x4600eb['forward'];this['_calculate'+'SortDistan'+'ces'](_0x25736b,_0x25736b['length'],_0x3ac9b0,_0x1dcd88);}_0x25736b['sort'](GM[_0x11af86]);}}}const WM=(_0xaddb73,_0x22fe39)=>_0xaddb73['priority']-_0x22fe39['priority'],No=_0x48c14=>_0x48c14['sort'](WM);class S_ extends ce{constructor(_0x4618b8='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0x5*0x37b+-0x4*-0x36d+-0x1*0x1f1a)),(this['name']=_0x4618b8,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x49c35b=>_0x49c35b['destroy']()),this['_renderAct'+'ions']['length']=-0x5b5+-0x20*-0x2d+0x15;}['_update'](){const _0x5a74ce=this['layerList']['length'];if(!this['_dirty']){for(let _0xeec415=0x24b*0xf+0x1*-0x1627+-0xc3e;_0xeec415<_0x5a74ce;_0xeec415++)if(this['layerList'][_0xeec415]['_dirtyComp'+'osition']){this['_dirty']=!(-0x128f*0x2+-0xa66+-0x1*-0x2f84);break;}}if(this['_dirty']){this['_dirty']=!(-0x1a*-0x29+-0x2f1*0x7+0x6*0x2bd),this['cameras']['length']=0x19a1*0x1+-0x337+0xb35*-0x2;for(let _0x3b034f=0x1461+-0x1da4+0x1*0x943;_0x3b034f<_0x5a74ce;_0x3b034f++){const _0x3538d9=this['layerList'][_0x3b034f];_0x3538d9['_dirtyComp'+'osition']=!(-0x249f+-0xa7f+0x2f1f);for(let _0x290628=-0x1*0x2521+0xf9e+0x1583;_0x290628<_0x3538d9['cameras']['length'];_0x290628++){const _0x59d23c=_0x3538d9['cameras'][_0x290628];this['cameras']['indexOf'](_0x59d23c)<0x11b+0x1963+-0x1a7e&&this['cameras']['push'](_0x59d23c);}}this['cameras']['length']>0x25f*-0x2+-0xb65+0x1024&&No(this['cameras']);let _0x2e5962=0x207a+0x1*0xe86+-0x2f00;this['destroyRen'+'derActions']();for(let _0x1abf60=0x1b87+-0x1a*-0x35+-0x1*0x20e9;_0x1abf60<this['cameras']['length'];_0x1abf60++){const _0x2343f4=this['cameras'][_0x1abf60];if(_0x2343f4['camera']['renderPass'+'es']['length']>0xb05+0x46c*-0x1+-0x699){this['addDummyRe'+'nderAction'](_0x2e5962,_0x2343f4),_0x2e5962++;continue;}let _0x3cd2be=!(0x65b*-0x3+0x1509+-0x1f8);const _0x1a4bdc=_0x2e5962;let _0x36a0a3=null,_0x176b67=!(0xef3*0x1+-0x4*0x9a3+0x179a);for(let _0x3e01d7=-0x1fce+-0x85e+0x282c;_0x3e01d7<_0x5a74ce;_0x3e01d7++){const _0x34292d=this['layerList'][_0x3e01d7];if(_0x34292d['enabled']&&this['subLayerEn'+'abled'][_0x3e01d7]&&_0x34292d['cameras']['length']>0xb92+-0xc*-0xf8+-0x2*0xb99&&_0x2343f4['layers']['indexOf'](_0x34292d['id'])>=0x1204+0x22b3+-0x34b7){!_0x176b67&&_0x34292d['id']===_0x2343f4['disablePos'+'tEffectsLa'+'yer']&&(_0x176b67=!(-0x219*-0x2+0xb8*0x28+-0x20f2),_0x36a0a3&&(_0x36a0a3['triggerPos'+'tprocess']=!(0x5*0x653+0x905+0xc*-0x363)));const _0x41329c=this['subLayerLi'+'st'][_0x3e01d7];_0x36a0a3=this['addRenderA'+'ction'](_0x2e5962,_0x34292d,_0x41329c,_0x2343f4,_0x3cd2be,_0x176b67),_0x2e5962++,_0x3cd2be=!(-0x77e+0xbb+-0x4*-0x1b1);}}_0x1a4bdc<_0x2e5962&&(_0x36a0a3['lastCamera'+'Use']=!(-0x1*0x161d+-0x5*-0x595+-0x5cc)),!_0x176b67&&_0x36a0a3&&(_0x36a0a3['triggerPos'+'tprocess']=!(0xd62+-0x1c7c+0x2*0x78d)),_0x2343f4['renderTarg'+'et']&&_0x2343f4['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x1a4bdc-(0x1a7a+0x1*0x29c+-0x1d15),_0x2343f4);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x7eaf54){v['assert'](this['_renderAct'+'ions']['length']===_0x7eaf54);const _0x1604e7=new D0();return this['_renderAct'+'ions']['push'](_0x1604e7),_0x1604e7;}['addDummyRe'+'nderAction'](_0x1bfc5d,_0x4fd564){const _0x1a15de=this['getNextRen'+'derAction'](_0x1bfc5d);_0x1a15de['camera']=_0x4fd564,_0x1a15de['useCameraP'+'asses']=!(0x1404+0x1f71+-0x1*0x3375);}['addRenderA'+'ction'](_0xfc019e,_0x12acb3,_0x2ad3e8,_0x2dd0fb,_0x4bd966,_0x4aea74){let _0x5a8132=_0x12acb3['id']!==Xt?_0x2dd0fb['renderTarg'+'et']:null,_0x4d7c85=!(0x80f+-0x21df+0x19d1);const _0x14b0b5=this['_renderAct'+'ions'];for(let _0x8d495a=_0xfc019e-(0x2666*0x1+0x1f*-0x119+-0x1a*0x2b);_0x8d495a>=0x12bf*-0x1+-0x1b46+0x2e05;_0x8d495a--)if(_0x14b0b5[_0x8d495a]['camera']===_0x2dd0fb&&_0x14b0b5[_0x8d495a]['renderTarg'+'et']===_0x5a8132){_0x4d7c85=!(0x3a*-0x84+0x11*-0x2f+0x2107);break;}_0x4aea74&&_0x2dd0fb['postEffect'+'sEnabled']&&(_0x5a8132=null);const _0x5f1d5e=this['getNextRen'+'derAction'](_0xfc019e);_0x5f1d5e['triggerPos'+'tprocess']=!(-0x16*-0x18b+0xe59+-0x1*0x304a),_0x5f1d5e['layer']=_0x12acb3,_0x5f1d5e['transparen'+'t']=_0x2ad3e8,_0x5f1d5e['camera']=_0x2dd0fb,_0x5f1d5e['renderTarg'+'et']=_0x5a8132,_0x5f1d5e['firstCamer'+'aUse']=_0x4bd966,_0x5f1d5e['lastCamera'+'Use']=!(-0x189b*0x1+0x1205+-0x7*-0xf1);const _0x22ce70=_0x4bd966||!_0x4d7c85,_0x1f7060=_0x12acb3['clearColor'+'Buffer']||_0x12acb3['clearDepth'+'Buffer']||_0x12acb3['clearStenc'+'ilBuffer'];return(_0x22ce70||_0x1f7060)&&_0x5f1d5e['setupClear'+'s'](_0x22ce70?_0x2dd0fb:void(-0x2345+0x180b+0x2*0x59d),_0x12acb3),_0x5f1d5e;}['propagateR'+'enderTarge'+'t'](_0x5b243d,_0x1e6162){for(let _0x426498=_0x5b243d;_0x426498>=-0x10c+0x2341+-0x2235;_0x426498--){const _0x5c470b=this['_renderAct'+'ions'][_0x426498],_0x17d5ac=_0x5c470b['layer'];if(_0x5c470b['renderTarg'+'et']&&_0x17d5ac['id']!==Xt)break;if(_0x17d5ac['id']===Xt)continue;if(_0x5c470b['useCameraP'+'asses'])break;const _0x235968=_0x5c470b==null?void(0x1*0x23dd+-0x3*0xca+-0x217f):_0x5c470b['camera']['camera'];if(_0x235968&&(!_0x1e6162['camera']['rect']['equals'](_0x235968['rect'])||!_0x1e6162['camera']['scissorRec'+'t']['equals'](_0x235968['scissorRec'+'t'])))break;_0x5c470b['renderTarg'+'et']=_0x1e6162['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x285a5e=-0x8d5+0x267e+0x1da9*-0x1;_0x285a5e<this['_renderAct'+'ions']['length'];_0x285a5e++){const _0x2bb5c1=this['_renderAct'+'ions'][_0x285a5e],_0x5987c8=_0x2bb5c1['camera'];if(_0x2bb5c1['useCameraP'+'asses'])v['trace'](pl,_0x285a5e+('CustomPass'+'es\x20Cam:\x20')+(_0x5987c8?_0x5987c8['entity']['name']:'-'));else{const _0x5c75f5=_0x2bb5c1['layer'],_0x137f89=_0x5c75f5['enabled']&&this['isEnabled'](_0x5c75f5,_0x2bb5c1['transparen'+'t']),_0x3581f3=(_0x2bb5c1['clearColor']?'Color\x20':'.....\x20')+(_0x2bb5c1['clearDepth']?'Depth\x20':'.....\x20')+(_0x2bb5c1['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x285a5e+('\x20Cam:\x20'+(_0x5987c8?_0x5987c8['entity']['name']:'-'))['padEnd'](-0x17*-0x13e+-0xd48+0xf34*-0x1,'\x20')+('\x20Lay:\x20'+_0x5c75f5['name'])['padEnd'](-0x14c+0x1*-0x6cd+0x1a3*0x5,'\x20')+(_0x2bb5c1['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x137f89?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x2bb5c1['renderTarg'+'et']?_0x2bb5c1['renderTarg'+'et']['name']:'-'))['padEnd'](0x107d+0x243d*0x1+-0x3c2*0xe,'\x20')+'\x20Clear:\x20'+_0x3581f3+(_0x2bb5c1['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x2bb5c1['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x2bb5c1['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x2db927){const _0x5d4aae=this['layerIdMap']['get'](_0x2db927['id'])===_0x2db927;return v['assert'](!_0x5d4aae,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x2db927['name']),_0x5d4aae;}['_isSublaye'+'rAdded'](_0x17a9ac,_0x7a7af3){return(_0x7a7af3?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x17a9ac)!==void(-0x78d*-0x1+0xc8*-0x17+0xa6b)?(v['error']('Sublayer\x20'+_0x17a9ac['name']+(',\x20transpar'+'ent:\x20')+_0x7a7af3+('\x20is\x20alread'+'y\x20added.')),!(-0x5e*0x3a+0x1e0*0x1+0x4db*0x4)):!(-0xb22+-0xf41+-0x8cc*-0x3);}['push'](_0x56affd){this['_isLayerAd'+'ded'](_0x56affd)||(this['layerList']['push'](_0x56affd),this['layerList']['push'](_0x56affd),this['_opaqueOrd'+'er'][_0x56affd['id']]=this['subLayerLi'+'st']['push'](!(0x25ca+0x1ba9*0x1+-0x2*0x20b9))-(-0x5c*0x4+-0x80f*0x1+0x980),this['_transpare'+'ntOrder'][_0x56affd['id']]=this['subLayerLi'+'st']['push'](!(0xbee+-0x1f73*0x1+-0x13*-0x107))-(-0x23b7+0x4a*0x1d+-0x1*-0x1b56),this['subLayerEn'+'abled']['push'](!(0x1*-0x1a+-0x1e0f+0x1e29)),this['subLayerEn'+'abled']['push'](!(-0x1*-0x1881+0xb95+0x2*-0x120b)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x18fd+0x25f*0x3+0x11e0),this['fire']('add',_0x56affd));}['insert'](_0x552132,_0x33daa3){if(this['_isLayerAd'+'ded'](_0x552132))return;this['layerList']['splice'](_0x33daa3,-0x1d83+0x484*0x3+0xff7,_0x552132,_0x552132),this['subLayerLi'+'st']['splice'](_0x33daa3,0x2c3+-0x3*0xbdd+0x20d4,!(0x1f00+0x1fdf+-0x3ede),!(-0x20ea+0x1*0x24b1+-0x3c7));const _0x49b371=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x33daa3,_0x49b371-(0x8d*-0x17+0x6*0x36+0xb68)),this['_updateTra'+'nsparentOr'+'der'](_0x33daa3,_0x49b371-(-0xc2*0x21+0x24d8+-0xbd5)),this['subLayerEn'+'abled']['splice'](_0x33daa3,-0x2*-0x1ab+0x18d0+-0x1c26*0x1,!(-0x3f2+-0x794+-0x5c3*-0x2),!(0x21da*-0x1+-0x1583+0x375d*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1712+0x1837+-0x5*0x975),this['fire']('add',_0x552132);}['remove'](_0x317130){let _0x1d8b5a=this['layerList']['indexOf'](_0x317130);for(delete this['_opaqueOrd'+'er'][_0x1d8b5a],delete this['_transpare'+'ntOrder'][_0x1d8b5a];_0x1d8b5a>=-0x67*-0x59+0x1fdd*-0x1+-0x3f2;)this['layerList']['splice'](_0x1d8b5a,0x143*0x1c+0x1*0x511+0xa19*-0x4),this['subLayerLi'+'st']['splice'](_0x1d8b5a,-0x5*0x5e3+-0xa1d*-0x1+0x61*0x33),this['subLayerEn'+'abled']['splice'](_0x1d8b5a,0x1*-0x110b+-0x24cd+0x35d9),_0x1d8b5a=this['layerList']['indexOf'](_0x317130),this['_dirty']=!(-0x20ff*0x1+0x256c+-0x46d),this['fire']('remove',_0x317130);const _0x5b4d99=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x1d06+-0x308+0x175*0x16,_0x5b4d99-(-0x2459+0x2654+-0x1fa)),this['_updateTra'+'nsparentOr'+'der'](0x1937+0x4*-0x258+-0xfd7,_0x5b4d99-(0x15d9+-0x264f+0x1077)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x4d5f32){this['_isSublaye'+'rAdded'](_0x4d5f32,!(-0x173a+0x2365+-0xc2a))||(this['layerList']['push'](_0x4d5f32),this['_opaqueOrd'+'er'][_0x4d5f32['id']]=this['subLayerLi'+'st']['push'](!(0x1*-0x6a2+-0xa61*0x1+0x1104))-(-0x1256*0x2+-0x1*-0x6f5+-0x1*-0x1db8),this['subLayerEn'+'abled']['push'](!(0x369+-0xe6*-0x27+-0x3*0xcd1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1a28*0x1+0x16d7+0x351),this['fire']('add',_0x4d5f32));}['insertOpaq'+'ue'](_0x2287ae,_0xac1eeb){if(this['_isSublaye'+'rAdded'](_0x2287ae,!(-0x2*0xbdb+0xc4d+-0xb6a*-0x1)))return;this['layerList']['splice'](_0xac1eeb,0x1*-0x537+0xb2*-0x2e+0x2533,_0x2287ae),this['subLayerLi'+'st']['splice'](_0xac1eeb,0xe9*0xb+-0x7f8+-0x20b*0x1,!(0x69*0x3f+-0xb5d*-0x2+-0x2a*0x128));const _0x2741f6=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0xac1eeb,_0x2741f6-(0x557*-0x3+-0x1008+0x200e)),this['subLayerEn'+'abled']['splice'](_0xac1eeb,0x17a6+-0xebd*-0x1+-0x2663,!(-0x1c5b*0x1+0x11a6+0xab5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x254*-0x1+0x3*0x4c5+-0x10a3),this['fire']('add',_0x2287ae);}['removeOpaq'+'ue'](_0x3ca060){for(let _0x225b2b=0x31f+0x17a3*0x1+0xa*-0x2ad,_0xf69154=this['layerList']['length'];_0x225b2b<_0xf69154;_0x225b2b++)if(this['layerList'][_0x225b2b]===_0x3ca060&&!this['subLayerLi'+'st'][_0x225b2b]){this['layerList']['splice'](_0x225b2b,-0x4*-0x4f2+0x1*-0xe6+-0x12e1*0x1),this['subLayerLi'+'st']['splice'](_0x225b2b,0x219b+0x222+-0x1*0x23bc),_0xf69154--,this['_updateOpa'+'queOrder'](_0x225b2b,_0xf69154-(0x7e3*-0x3+0x920+0x2*0x745)),this['subLayerEn'+'abled']['splice'](_0x225b2b,-0x1098+0x1f1+0xea8),this['_dirty']=!(0x139e+-0x803*0x1+0x1*-0xb9b),this['layerList']['indexOf'](_0x3ca060)<-0x52d+-0xc*-0x299+-0x19ff&&this['fire']('remove',_0x3ca060);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x5c9679){this['_isSublaye'+'rAdded'](_0x5c9679,!(0x129*-0x17+-0x1b31*0x1+0x4*0xd78))||(this['layerList']['push'](_0x5c9679),this['_transpare'+'ntOrder'][_0x5c9679['id']]=this['subLayerLi'+'st']['push'](!(-0x1e6f+-0xf73+-0x7*-0x68e))-(0x1207+-0x1d4b*0x1+-0xb45*-0x1),this['subLayerEn'+'abled']['push'](!(-0x1*-0x23bf+-0x2*0x1260+0x101)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x7a*0x11+-0xeb+-0x72f),this['fire']('add',_0x5c9679));}['insertTran'+'sparent'](_0x133aa6,_0x1bf70b){if(this['_isSublaye'+'rAdded'](_0x133aa6,!(0x2003+0xac1*0x2+0x1*-0x3585)))return;this['layerList']['splice'](_0x1bf70b,-0x1bdc+-0x1f80+0x3b5c,_0x133aa6),this['subLayerLi'+'st']['splice'](_0x1bf70b,0xe*-0x1f+0x1*-0x1be9+0x8f*0x35,!(0x314*0x4+-0x6d1+-0x57f));const _0x4d6dda=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x1bf70b,_0x4d6dda-(-0x1576*-0x1+0x7*-0xa3+-0x1100)),this['subLayerEn'+'abled']['splice'](_0x1bf70b,0x1*0x9ff+0x12db+-0x6*0x4cf,!(0x494*0x6+0xe69*0x1+0x97*-0x47)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x10*-0x1be+0x5*-0x36d+0x2d01),this['fire']('add',_0x133aa6);}['removeTran'+'sparent'](_0x56c05f){for(let _0x48b93c=0xd4c+0x12f*0x13+-0x23c9,_0x357d0a=this['layerList']['length'];_0x48b93c<_0x357d0a;_0x48b93c++)if(this['layerList'][_0x48b93c]===_0x56c05f&&this['subLayerLi'+'st'][_0x48b93c]){this['layerList']['splice'](_0x48b93c,-0x1087+0x105e+0x2a),this['subLayerLi'+'st']['splice'](_0x48b93c,0x2529+-0x19*-0x2f+-0x29bf),_0x357d0a--,this['_updateTra'+'nsparentOr'+'der'](_0x48b93c,_0x357d0a-(0x1*-0x1916+-0x5b*0x29+0x27aa*0x1)),this['subLayerEn'+'abled']['splice'](_0x48b93c,-0x7*-0x413+-0xc5*-0x8+-0x22ac),this['_dirty']=!(0xe*-0x1ad+-0x1150+0x28c6),this['layerList']['indexOf'](_0x56c05f)<0x317+0x1*0x204a+-0x2361&&this['fire']('remove',_0x56c05f);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x22ef96){return this['layerOpaqu'+'eIndexMap']['get'](_0x22ef96)??-(0x9*0x226+-0x38b+-0xfca);}['getTranspa'+'rentIndex'](_0x1e6ad1){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x1e6ad1)??-(0x5ea*-0x3+-0xcd*-0x5+0xdbe);}['isEnabled'](_0x1b4b6f,_0x172767){if(_0x1b4b6f['enabled']){const _0x18bac4=_0x172767?this['getTranspa'+'rentIndex'](_0x1b4b6f):this['getOpaqueI'+'ndex'](_0x1b4b6f);if(_0x18bac4>=-0x1*0xdab+-0x20*-0x20+0x9ab)return this['subLayerEn'+'abled'][_0x18bac4];}return!(0xb73+-0x8c7+-0x1*0x2ab);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x219e22=-0x241*-0x4+-0x732+-0x1d2;_0x219e22<this['layerList']['length'];_0x219e22++){const _0x517ccc=this['layerList'][_0x219e22];this['layerIdMap']['set'](_0x517ccc['id'],_0x517ccc),this['layerNameM'+'ap']['set'](_0x517ccc['name'],_0x517ccc),(this['subLayerLi'+'st'][_0x219e22]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x517ccc,_0x219e22);}}['getLayerBy'+'Id'](_0x27ad7a){return this['layerIdMap']['get'](_0x27ad7a)??null;}['getLayerBy'+'Name'](_0x509c7a){return this['layerNameM'+'ap']['get'](_0x509c7a)??null;}['_updateOpa'+'queOrder'](_0x4c369f,_0x518cca){for(let _0x35d5b4=_0x4c369f;_0x35d5b4<=_0x518cca;_0x35d5b4++)this['subLayerLi'+'st'][_0x35d5b4]===!(0x2194+-0x1ca3+-0x4f0)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x35d5b4]['id']]=_0x35d5b4);}['_updateTra'+'nsparentOr'+'der'](_0x59704a,_0x536cba){for(let _0x380e8e=_0x59704a;_0x380e8e<=_0x536cba;_0x380e8e++)this['subLayerLi'+'st'][_0x380e8e]===!(0xb20+0xb*0x39+-0xd93)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x380e8e]['id']]=_0x380e8e);}['_sortLayer'+'sDescendin'+'g'](_0x7bab84,_0x93a583,_0x2c280c){let _0x197ad2=-(0x4a5*-0x2+0x1*-0xdb4+0x1*0x16ff),_0xf9c0e4=-(0x33*0xa3+0x1c3*-0xa+-0xeda);for(let _0x207333=-0x2*0xabb+0xfb9*0x1+0x5bd,_0x13058d=_0x7bab84['length'];_0x207333<_0x13058d;_0x207333++){const _0x1bad56=_0x7bab84[_0x207333];_0x2c280c['hasOwnProp'+'erty'](_0x1bad56)&&(_0x197ad2=Math['max'](_0x197ad2,_0x2c280c[_0x1bad56]));}for(let _0x1bcf91=-0x13*-0x5e+-0x18db+0x11e1,_0x3d5f91=_0x93a583['length'];_0x1bcf91<_0x3d5f91;_0x1bcf91++){const _0x344a97=_0x93a583[_0x1bcf91];_0x2c280c['hasOwnProp'+'erty'](_0x344a97)&&(_0xf9c0e4=Math['max'](_0xf9c0e4,_0x2c280c[_0x344a97]));}return _0x197ad2===-(-0x4f7+-0x91*-0x19+0x1*-0x931)&&_0xf9c0e4!==-(0x5d5*0x1+0xc78+-0x124c)?-0x3*0x692+0x5c+-0x5*-0x3df:_0xf9c0e4===-(-0x1b98+0x2057+-0x4be)&&_0x197ad2!==-(-0x2311*-0x1+0x85d+-0x2b6d)?-(-0x1*0x2419+0x289*0xf+0x1*-0x1ed):_0xf9c0e4-_0x197ad2;}['sortTransp'+'arentLayer'+'s'](_0x4fc68c,_0x1ee249){return this['_sortLayer'+'sDescendin'+'g'](_0x4fc68c,_0x1ee249,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x4bf54a,_0x2b4411){return this['_sortLayer'+'sDescendin'+'g'](_0x4bf54a,_0x2b4411,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(0xb*0x369+-0x844+-0x1d3f,-0x19b0+0x4*-0x63e+0x32a8,0x883*-0x1+-0x21cf+0x2a53,-0x245e+-0x22f7+0x2e*0x18d)],[new Q(0x1d3b+0xb*0x3+-0x1d5c,0x2*-0x257+-0x15b1+0x1a5f,-0x8bd*0x1+0x17*0x1+-0x6*-0x171+0.5,0x728+-0x2*0x851+0x97a+0.5),new Q(0x1*-0x377+-0x1136*-0x2+0x13d*-0x19,0x19cc+0x115*-0x13+0x1bf*-0x3+0.5,0x65*0x4f+-0x1ad6+-0x455+0.5,0x136*-0x1+0x1*-0x6ab+0x7e1+0.5)],[new Q(-0x167*0x17+0x1*-0x26c3+0x4704,0x16ca+-0x9*0x7f+-0x1253,-0x2*0x815+0xc6a*0x2+-0x2*0x455+0.5,-0x208f+-0x2e9*-0x3+0x17d4+0.5),new Q(0xfc6*-0x1+-0x6bb+0x1681,-0x9d*-0x29+0x7*-0x515+0xa6e+0.5,-0x2*-0x727+0x1987+-0x27d5+0.5,0x1cfd+0x11a+-0x1e17+0.5),new Q(0xd+0xb6f+-0xb7c+0.5,-0x1c77+-0xf48+0x2bbf,0x37*0x59+-0x1285*-0x2+-0x3829+0.5,0x1f39+-0x1*-0x2046+0xcb3*-0x5+0.5)],[new Q(0x139f+-0x1*0x257+-0x1148,-0x125d+0x7b+-0x6*-0x2fb,0x2*-0xbe9+0x1338+-0x24d*-0x2+0.5,-0x1*-0x2637+-0x1e+-0x2619+0.5),new Q(0x12f8+-0x243b+0x1143,0x1*-0x1592+-0x2615+0x3ba7+0.5,-0x3e*-0x9b+-0x24ac+0x4a*-0x3+0.5,0x209*-0x3+0x1fec+-0x19d1+0.5),new Q(-0x5f2+-0x948+-0x1*-0xf3a+0.5,-0x2*0xde7+-0xb1f+0x5*0x7c9,-0x3f5+-0x3*0x27+-0xe2*-0x5+0.5,0x5f*0x60+-0x1f9+0x6bb*-0x5+0.5),new Q(0x1881+-0x3da*-0x3+0x11*-0x21f+0.5,0x19cc+0x22*-0x76+0x2*-0x510+0.5,0x13f5+0x230b*0x1+0x8*-0x6e0+0.5,-0x40e*-0x2+-0x10d*0x22+0x1b9e+0.5)]];let qM=-0x186e+-0xe55*0x2+0x3518;class XM{constructor(_0x23cafb,_0x2af072,_0x36b9b1){this['light']=_0x36b9b1,this['camera']=_0x23cafb,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x36b9b1['_shadowTyp'+'e'],_0x36b9b1['_type'],_0x2af072),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0xbc4+-0x47*0x89+0x1*0x31c3,0x14a4+-0x297*-0x1+-0x173b,0x1a9*0x14+-0x2b*-0x9+-0x5c9*0x6,0x18ef+-0xc82+0xc*-0x109),this['shadowScis'+'sor']=new Q(-0x15a2+-0x220*-0xf+0x26*-0x45,0xfab+-0x11b*-0x7+-0x1768,0x2*-0xb11+0x1f12+-0x1*0x8ef,0xa*-0x1d+0x85a+-0x737),this['projection'+'Compensati'+'on']=-0xd*-0x20f+-0xe35+-0xc8e,this['face']=_0x2af072,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xc3b5e2=>{_0xc3b5e2['defaultUni'+'formBuffer']['destroy'](),_0xc3b5e2['destroy']();}),this['viewBindGr'+'oups']['length']=-0x2013+-0x2668+0x467b;}get['shadowBuff'+'er'](){const _0x1d7499=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x1d7499?this['light']['_isPcf']?_0x1d7499['depthBuffe'+'r']:_0x1d7499['colorBuffe'+'r']:null;}}class zo{constructor(_0x50ba45,_0x283498){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x50ba45,this['clusteredL'+'ighting']=_0x283498,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0x13*0x175+0x1cd6+0x5*-0x3b+0.8,-0x147*0x5+-0x649+-0x4*-0x32b+0.8,-0x10f*-0x3+-0x1465+0x1138+0.8),this['_intensity']=0x66c*0x5+0x2b3*-0x1+0x3ad*-0x8,this['_affectSpe'+'cularity']=!(-0x92a+0x207f*0x1+-0x1755),this['_luminance']=-0x945+-0x3*-0x936+0x61f*-0x3,this['_castShado'+'ws']=!(-0x7f*0x44+0x2089+-0xb*-0x1c),this['_enabled']=!(-0x20cb+-0x1ae6+0x3bb2),this['_mask']=hs,this['isStatic']=!(0x1e1a+-0xe3*0x7+-0x22c*0xb),this['key']=-0x1419+-0x1*-0xced+0x6c*0x11,this['bakeDir']=!(-0x4*0x4d4+-0x6a*0x24+0x2238),this['bakeNumSam'+'ples']=-0x94*-0x6+0xbc9*0x1+-0xf40,this['bakeArea']=0x1*0x837+0x1431+-0x1c68,this['attenuatio'+'nStart']=-0x9*-0x129+-0x1*0xb45+0xde,this['attenuatio'+'nEnd']=0xb8*0x1c+0x3*0xc98+-0x66e*0x9,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=0x5*0x36f+0x1a7e*-0x1+0xda*0xb,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x31*-0x62+0x1273*-0x2+-0x8*-0x6f5+0.01)*(0x1e65+0x1948+-0x37ad+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x8f6+-0x11f2+-0x53*-0x53,this['_cookieFal'+'loff']=!(0x79*0x3b+0x39d*-0x2+0x81*-0x29),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x2ef*-0x6+-0x236d+0x11d7),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x4ae+-0x165e+-0x1b0e*-0x1),this['_cookieTra'+'nsformSet']=!(-0x14f3+-0x1840+0x2d34),this['_cookieOff'+'setSet']=!(0x34c*0x3+-0x7*0x2dd+0xa28),this['_innerCone'+'Angle']=-0x15f7+0x1*-0x939+0x3b*0x88,this['_outerCone'+'Angle']=-0x16e+0x1eb*0x9+0x2*-0x7d4,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x194a+-0x21*-0x39+-0x1*0x20a2,this['_cascadeBl'+'end']=-0xe*0x212+-0x1*0x7f1+0x1*0x24ed,this['cascadeDis'+'tribution']=0x849+-0x141d*0x1+-0xbd4*-0x1+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(0x53*0x47+-0x32c+-0x13d6),this['_updateLin'+'earColor'](),this['_position']=new T(0x19a9+0xf3c+0x1d*-0x169,0x38*0x14+0x4d*-0x6b+0x1bcf,0x24d+0xefc*-0x1+-0xbf*-0x11),this['_direction']=new T(-0x259*-0xd+0x2689+-0x1*0x450e,0x2202+0xa7*0x1d+-0x1*0x34ed,-0x2386+0x128+0x225e),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x1*0x24e+0x1*0x1e5e+0x19c*-0x11)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x1996+-0x1c06+0x359c),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0x1*0x1e76+0x6d*-0x1+0x1f0b,this['_shadowRes'+'olution']=0x1481+-0x26a6+0x1625*0x1,this['_shadowBia'+'s']=-(0x2ef*0x6+-0x1b6b+-0x1*-0x9d1+0.0005),this['shadowInte'+'nsity']=-0x74*-0x1d+0x7*-0x4cc+-0x1*-0x1471,this['_normalOff'+'setBias']=0x122f+0x1154+-0x1*0x2383,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x176f+0x100a+-0x2778),this['_isPcf']=!(-0x138d+-0x7*0x17e+0x1*0x1dff),this['_softShado'+'wParams']=new Float32Array(0xbaf+-0x26f4+0x1b49),this['shadowSamp'+'les']=-0xb3a+-0x1*0x6e2+-0x122c*-0x1,this['shadowBloc'+'kerSamples']=0x7*-0x3fd+-0xe90+0x2a8b,this['penumbraSi'+'ze']=0x1*0x1429+0x2*0xde7+-0x17fb*0x2,this['penumbraFa'+'lloff']=0x21ec+-0xad*0x11+-0x166e,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x15*-0xb9+-0x25af+0x34dd),this['atlasVersi'+'on']=0xe5d+-0x1d3c+0xedf*0x1,this['atlasSlotI'+'ndex']=-0x9f7+0x7c1+0x236,this['atlasSlotU'+'pdated']=!(-0x65+0x26b6+0x1*-0x2650),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0xce*-0x25+-0x116f+-0xc56),this['maxScreenS'+'ize']=-0x3*-0x259+0x4*0x6b1+-0x21cf,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x5b16d3=-0x134b+-0x41*0x25+0x1cb0;_0x5b16d3<this['_renderDat'+'a']['length'];_0x5b16d3++)this['_renderDat'+'a'][_0x5b16d3]['destroy']();this['_renderDat'+'a']['length']=0x1e5c+0x7*-0x1b1+-0x1285;}}['addLayer'](_0x1732e1){this['layers']['add'](_0x1732e1);}['removeLaye'+'r'](_0x5589d5){this['layers']['delete'](_0x5589d5);}set['shadowSamp'+'les'](_0x2247f0){this['_softShado'+'wParams'][0x13ee*-0x1+-0x12c9+0x26b7]=_0x2247f0;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x1*-0x2705+0x2198+-0x489d];}set['shadowBloc'+'kerSamples'](_0x19e88e){this['_softShado'+'wParams'][0xfc+-0x7be+-0x3*-0x241]=_0x19e88e;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x6*0x1f3+0x31a*-0x2+-0x119*0x5];}set['shadowBias'](_0x5c9337){this['_shadowBia'+'s']!==_0x5c9337&&(this['_shadowBia'+'s']=_0x5c9337,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x42c3a0){(!this['cascades']||this['numCascade'+'s']!==_0x42c3a0)&&(this['cascades']=$M[_0x42c3a0-(-0x25b1+-0xcdd*0x3+0x4c49)],this['_shadowMat'+'rixPalette']=new Float32Array((0x8*-0x2b4+-0x2653*0x1+0x77*0x81)*(0x25c7+-0x7f9+-0x1dbe)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x1ffc+-0x1573+-0xa85),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x41d1a9){this['_cascadeBl'+'end']!==_0x41d1a9&&(this['_cascadeBl'+'end']=_0x41d1a9,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x3a04aa){this['_shadowMap']!==_0x3a04aa&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x3a04aa);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x1a061d){this['_mask']!==_0x1a061d&&(this['_mask']=_0x1a061d,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x3bfedb=this['_type'];return _0x3bfedb===oe?this['numCascade'+'s']:_0x3bfedb===Pe?0x3*-0x7e5+0xee2+-0x8d3*-0x1:0x11b*0x17+-0x1*0x1bdc+0x4*0x9c;}set['type'](_0x2957c0){if(this['_type']===_0x2957c0)return;this['_type']=_0x2957c0,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0xbd95f9=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0xbd95f9;}get['type'](){return this['_type'];}set['shape'](_0x5aa6e7){if(this['_shape']===_0x5aa6e7)return;this['_shape']=_0x5aa6e7,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x3712d6=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x3712d6;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0xe822b5){this['_usePhysic'+'alUnits']!==_0xe822b5&&(this['_usePhysic'+'alUnits']=_0xe822b5,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x3b49d2){if(this['_shadowTyp'+'e']===_0x3b49d2)return;const _0x2e341e=this['device'];_0x3b49d2===Ts&&!_0x2e341e['textureFlo'+'atRenderab'+'le']&&!_0x2e341e['textureHal'+'fFloatRend'+'erable']&&(_0x3b49d2=Dt),this['_type']===Pe&&_0x3b49d2!==Bh&&_0x3b49d2!==Dt&&_0x3b49d2!==Nh&&_0x3b49d2!==zh&&_0x3b49d2!==Ts&&(_0x3b49d2=Dt),_0x3b49d2===Wr&&(!_0x2e341e['textureFlo'+'atRenderab'+'le']||!_0x2e341e['textureFlo'+'atFilterab'+'le'])&&(_0x3b49d2=Hr),_0x3b49d2===Hr&&!_0x2e341e['textureHal'+'fFloatRend'+'erable']&&(_0x3b49d2=Dt);const _0x207d4b=ir['get'](_0x3b49d2);this['_isVsm']=(_0x207d4b==null?void(0x4f*0x20+0x1*-0x3fa+-0x2f3*0x2):_0x207d4b['vsm'])??!(0x1634+-0x199f*-0x1+-0x2fd2),this['_isPcf']=(_0x207d4b==null?void(0xbd4+-0x1*-0x13ed+-0x1fc1):_0x207d4b['pcf'])??!(-0x1*0xf1+0x3ce+-0x2dc),this['_shadowTyp'+'e']=_0x3b49d2,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x4e2906){this['_enabled']!==_0x4e2906&&(this['_enabled']=_0x4e2906,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x49d60d){this['_castShado'+'ws']!==_0x49d60d&&(this['_castShado'+'ws']=_0x49d60d,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0xf25+-0x16a8+-0x783*-0x1;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x3e54fa){this['_shadowRes'+'olution']!==_0x3e54fa&&(this['_type']===Pe?_0x3e54fa=Math['min'](_0x3e54fa,this['device']['maxCubeMap'+'Size']):_0x3e54fa=Math['min'](_0x3e54fa,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x3e54fa,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x1cd4da){this['_vsmBlurSi'+'ze']!==_0x1cd4da&&(_0x1cd4da%(-0x1*-0xe21+-0x26a8+0xb*0x23b)===0x688+-0x4a*-0x79+-0x1*0x2982&&_0x1cd4da++,this['_vsmBlurSi'+'ze']=_0x1cd4da);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x1da9ee){if(this['_normalOff'+'setBias']!==_0x1da9ee){const _0x559cdb=!this['_normalOff'+'setBias']&&_0x1da9ee||this['_normalOff'+'setBias']&&!_0x1da9ee;this['_normalOff'+'setBias']=_0x1da9ee,_0x559cdb&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x4fb23e){this['_falloffMo'+'de']!==_0x4fb23e&&(this['_falloffMo'+'de']=_0x4fb23e,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x797e90){this['_innerCone'+'Angle']!==_0x797e90&&(this['_innerCone'+'Angle']=_0x797e90,this['_innerCone'+'AngleCos']=Math['cos'](_0x797e90*Math['PI']/(0x9a6+0x1*-0x1f79+0x1*0x1687)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0xa656b9){this['_outerCone'+'Angle']!==_0xa656b9&&(this['_outerCone'+'Angle']=_0xa656b9,this['_updateOut'+'erAngle'](_0xa656b9),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5ee2fb){this['_penumbraS'+'ize']=_0x5ee2fb,this['_softShado'+'wParams'][0x1e82+0x1681+-0x3501]=_0x5ee2fb;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x58e239){this['_softShado'+'wParams'][0x1*-0x120d+0x1*0x1373+-0x163*0x1]=_0x58e239;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x1*-0x1dbf+0x2553+-0x1*0x791];}['_updateOut'+'erAngle'](_0x5eda40){const _0x428107=_0x5eda40*Math['PI']/(-0x24a+-0x64b*-0x3+-0xfe3);this['_outerCone'+'AngleCos']=Math['cos'](_0x428107),this['_outerCone'+'AngleSin']=Math['sin'](_0x428107);}set['intensity'](_0x2386c7){this['_intensity']!==_0x2386c7&&(this['_intensity']=_0x2386c7,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x5e024e){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x5e024e,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x3a061f){this['_luminance']!==_0x3a061f&&(this['_luminance']=_0x3a061f,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0xbca*0x1+0xf4b+-0x1b15,0x1b37+-0x2332+0x1*0x7fb,0x2*-0x274+-0x421*-0x6+-0x13dd,0x194*0x3+-0x1*-0x2021+-0x4*0x937)),this['_atlasView'+'port'];}set['cookie'](_0x225dd2){this['_cookie']!==_0x225dd2&&(this['_cookie']=_0x225dd2,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x23cd17){this['_cookieFal'+'loff']!==_0x23cd17&&(this['_cookieFal'+'loff']=_0x23cd17,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x2057fd){if(this['_cookieCha'+'nnel']!==_0x2057fd){if(_0x2057fd['length']<-0x3*-0x115+-0x1e6*0x5+0x6*0x10b){const _0x4efb42=_0x2057fd['charAt'](_0x2057fd['length']-(-0x2*-0xef2+0x25c5+0x1b1*-0x28)),_0x5a0512=-0x184d*0x1+0x63*0x4d+-0x577-_0x2057fd['length'];for(let _0x35a932=-0x13a*0x5+-0x247b+0x2a9d;_0x35a932<_0x5a0512;_0x35a932++)_0x2057fd+=_0x4efb42;}this['_cookieCha'+'nnel']=_0x2057fd,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0xf1b85b){this['_cookieTra'+'nsform']!==_0xf1b85b&&(this['_cookieTra'+'nsform']=_0xf1b85b,this['_cookieTra'+'nsformSet']=!!_0xf1b85b,_0xf1b85b&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(-0x1164+-0x1bd7+0x2d3c)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x202bb4){if(this['_cookieOff'+'set']===_0x202bb4)return;!!(this['_cookieTra'+'nsformSet']||_0x202bb4)&&!_0x202bb4&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x56e+0x1*-0x10f+-0x3*0x175,0x1*-0x9fb+0x1408+-0xa0d):this['_cookieOff'+'set']=_0x202bb4,this['_cookieOff'+'setSet']=!!_0x202bb4,_0x202bb4&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x11af+-0x249b+0x3c9*0x5,-0x1*-0x115b+-0x22c6+-0x2*-0x8b6,0x71*-0x3+0x2285+-0x2132,-0x1447*0x1+-0x1c2c+0x3073),this['_cookieTra'+'nsformSet']=!(0x47f*0x7+-0x26e3*0x1+0x76b)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=0x1eea+0x1b67+-0x3a51,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x15f1+0x1e84+-0x892),this['atlasSlotU'+'pdated']=!(0x2062+0x2*-0xa6d+-0xb87);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x17b6a7=-0x1999*-0x1+0x6*0x22+0x1*-0x1a65;_0x17b6a7<this['shadowUpda'+'teOverride'+'s']['length'];_0x17b6a7++)this['shadowUpda'+'teOverride'+'s'][_0x17b6a7]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x17b6a7]=cn);}}['getRenderD'+'ata'](_0x458d43,_0x1017b4){for(let _0x4e83bc=0x26e1*-0x1+-0x1799+-0x2*-0x1f3d;_0x4e83bc<this['_renderDat'+'a']['length'];_0x4e83bc++){const _0x25e258=this['_renderDat'+'a'][_0x4e83bc];if(_0x25e258['camera']===_0x458d43&&_0x25e258['face']===_0x1017b4)return _0x25e258;}const _0x4b985a=new XM(_0x458d43,_0x1017b4,this);return this['_renderDat'+'a']['push'](_0x4b985a),_0x4b985a;}['clone'](){const _0x10d6b3=new zo(this['device'],this['clusteredL'+'ighting']);return _0x10d6b3['type']=this['_type'],_0x10d6b3['setColor'](this['_color']),_0x10d6b3['intensity']=this['_intensity'],_0x10d6b3['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x10d6b3['luminance']=this['_luminance'],_0x10d6b3['castShadow'+'s']=this['castShadow'+'s'],_0x10d6b3['_enabled']=this['_enabled'],_0x10d6b3['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x10d6b3['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x10d6b3['falloffMod'+'e']=this['_falloffMo'+'de'],_0x10d6b3['shadowType']=this['_shadowTyp'+'e'],_0x10d6b3['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x10d6b3['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x10d6b3['vsmBias']=this['vsmBias'],_0x10d6b3['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x10d6b3['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x10d6b3['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x10d6b3['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x10d6b3['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x10d6b3['numCascade'+'s']=this['numCascade'+'s'],_0x10d6b3['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x10d6b3['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x10d6b3['shape']=this['_shape'],_0x10d6b3['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x10d6b3['shadowBias']=this['shadowBias'],_0x10d6b3['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x10d6b3['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x10d6b3['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x10d6b3['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x10d6b3['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x10d6b3['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x10d6b3['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x10d6b3['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x10d6b3;}static['getLightUn'+'itConversi'+'on'](_0x40a4ae,_0x4b6f41=Math['PI']/(0x24c7+0xe46+-0x3309),_0x133e7d=0x1a23+0x2b4+-0x1cd7){switch(_0x40a4ae){case Re:{const _0x5eed22=Math['cos'](_0x4b6f41),_0x52ebe7=Math['cos'](_0x133e7d);return(0x39*-0x6b+-0x25c+0x1a31)*Math['PI']*(0x24fa*0x1+-0x701+0x2*-0xefc-_0x52ebe7+(_0x52ebe7-_0x5eed22)/(0x2*0x901+0x199a+-0x2b9a));}case Pe:return(0x2047*-0x1+0x1*0x1fe7+-0x64*-0x1)*Math['PI'];case oe:return-0x1ac3+-0x41f*0x8+0x3bbc*0x1;}}['_getUnifor'+'mBiasValue'+'s'](_0x364fac){const _0x23b1fc=_0x364fac['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(0x1904+-0x281*-0x3+-0xb*0x2f5+0.00001)*(-0x1*0x23d3+-0x21b4+0x459b):ti['bias']=this['shadowBias']*(0x559+0x1*0x1389+-0xc67*0x2),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x2c1*-0xe+0x5c*0x14+0x3*0xa77)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(-0x831*0x1+-0x157b*0x1+0x1a6*0x12+0.00001)*(-0x1be7*-0x1+-0x1cfe+0x17*0xd):ti['bias']=this['shadowBias']/_0x23b1fc*(-0x25cb+-0x47*0x69+0x434e),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x23b1fc/(0x1c6a+-0x37*0xb+0x1*-0x1a06)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0xbf30e5){if(this['_type']===Re){const _0x5873fa=this['attenuatio'+'nEnd'],_0x56cb6c=this['_outerCone'+'Angle'],_0x2e2da3=this['_outerCone'+'AngleCos'],_0x21d5b8=this['_node'];kl['copy'](_0x21d5b8['up']),_0x56cb6c>0x2327+-0x7e*-0x32+-0x1d*0x20e?(_0xbf30e5['radius']=_0x5873fa*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x5873fa*_0x2e2da3)):(_0xbf30e5['radius']=_0x5873fa/((-0xbd*-0x1a+-0x1e*0xd6+0x5e4)*_0x2e2da3),kl['mulScalar'](-_0xbf30e5['radius'])),_0xbf30e5['center']['add2'](_0x21d5b8['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0xbf30e5['center']=this['_node']['getPositio'+'n'](),_0xbf30e5['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x1487a1){if(this['_type']===Re){const _0x4d3d8a=this['attenuatio'+'nEnd'],_0x247630=this['_outerCone'+'Angle'],_0x1457d4=this['_node'],_0x53413c=Math['abs'](Math['sin'](_0x247630*N['DEG_TO_RAD'])*_0x4d3d8a);_0x1487a1['center']['set'](-0x1*-0x234e+-0xa*0x62+-0x1f7a,-_0x4d3d8a*(0x1*0x16a1+-0x3e2+0x12bf*-0x1+0.5),-0x2ab*-0x7+0x175*0x11+-0x2b72),_0x1487a1['halfExtent'+'s']['set'](_0x53413c,_0x4d3d8a*(0xd*0x8b+0x1118+0xe5*-0x1b+0.5),_0x53413c),_0x1487a1['setFromTra'+'nsformedAa'+'bb'](_0x1487a1,_0x1457d4['getWorldTr'+'ansform'](),!(-0x1e68+0x68*0x5d+-0x760));}else this['_type']===Pe&&(_0x1487a1['center']['copy'](this['_node']['getPositio'+'n']()),_0x1487a1['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x1835+0xa53+0xde2,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x1857+-0x147a+-0x1*0x3dd;else{const _0xc024a=this['shadowBias']*-(0x3b*-0x5b+-0x1*0x15f8+0x2ed9);this['shadowDept'+'hState']['depthBias']=_0xc024a,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0xc024a;}}['_updateLin'+'earColor'](){let _0x302b1f=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x302b1f=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x1bc44a=this['_color'],_0x15bf93=this['_colorLine'+'ar'];_0x302b1f>=0x1988+-0xf48+0x2b*-0x3d?Ya['linear'](_0x1bc44a)['mulScalar'](_0x302b1f):Ya['copy'](_0x1bc44a)['mulScalar'](_0x302b1f)['linear'](),_0x15bf93[-0x1*0x23d5+-0x3d8*0x8+0x4295]=Ya['r'],_0x15bf93[-0x15b6+-0x32e+0x18e5]=Ya['g'],_0x15bf93[0x202a+0x1ec8+-0x3ef0]=Ya['b'];}['setColor'](){arguments['length']===0x6b*0x22+0x12d2+-0x2107?this['_color']['set'](arguments[0x126b+-0x94f*-0x1+-0x1bba]['r'],arguments[0x88+0xff4+-0x107c]['g'],arguments[0x1*0x156b+-0x92c+0x39*-0x37]['b']):arguments['length']===0x84*0x1f+0xc95+0x2*-0xe47&&this['_color']['set'](arguments[0x1863+0x17d5*0x1+-0x3038],arguments[-0x957*-0x2+0x26a9+-0x3956],arguments[0x1*0xdcd+0x96f+0x3*-0x7be]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0xc69cd=>{_0xc69cd['hasLight'](this)&&_0xc69cd['markLights'+'Dirty']();});}['updateKey'](){let _0x153925=this['_type']<<0xd9a+0x9*-0x2bd+0xb28|this['_shadowTyp'+'e']<<-0x19b5+0x1123+0x1*0x8ab|this['_falloffMo'+'de']<<0x2567+0xf3b+-0x348b|(this['_normalOff'+'setBias']!==0x3*0x30d+-0x4af*-0x1+-0xdd6?0xa*0x151+-0x3*-0x698+-0x20f1:-0xa*-0xa3+0x23a7+-0x1*0x2a05)<<0x2e4*-0x7+0x24be*0x1+-0x836*0x2|(this['_cookie']?-0x1277+0x1d9f+-0xb27:-0x192+-0x22ab+0x243d)<<0x949+-0x168d+0xd59|(this['_cookieFal'+'loff']?-0x1431+-0x1*0x159c+0x29ce:-0xa97+-0x95f*0x1+0x13f6)<<0x20dd+0x530+0x25f9*-0x1|Ud[this['_cookieCha'+'nnel']['charAt'](0xaf7+-0x13a3+0x5*0x1bc)]<<-0x1d0f+-0x22*-0x11+0x1adf|(this['_cookieTra'+'nsform']?-0x1*0xb1+-0x35*0x99+-0x205f*-0x1:0xc6a+-0x1df5*0x1+0x118b)<<-0x1*-0x14bd+-0x1997+-0x39*-0x16|this['_shape']<<0x14bd+-0x1392+-0x121|(this['numCascade'+'s']>-0x13b1+0x90b*-0x3+0x2ed2?-0xb3c+0x1a32+-0xef5:-0xf67+-0x2001+0x2f68)<<0x2502+-0x2306+0x1f3*-0x1|(this['_cascadeBl'+'end']>0x57a*-0x3+0x1b*0x164+-0x33*0x6a?-0x1831*-0x1+0x101b+-0x284b:-0x11*0x74+0x3*0xae3+-0x18f5*0x1)<<-0x407+-0x156*-0x7+-0x54b|(this['affectSpec'+'ularity']?-0x4c0+-0x1*0x542+0x1*0xa03:0x89f+0x1b67+0x57*-0x6a)<<-0x1560+-0x1*-0xc7c+0x2f9*0x3|this['mask']<<0x9dc+0x996+-0x136c|(this['_castShado'+'ws']?0x25ac+0xe70+-0x341b:-0x2560+0x11ab+0x1*0x13b5)<<-0x1bfa+-0x22*0x22+0x2081;this['_cookieCha'+'nnel']['length']===-0x13*0x11+-0xa24*-0x1+-0x8de&&(_0x153925|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x18af+0x439+-0x1477*-0x1)]<<0x16d7+0x7e+-0x1745,_0x153925|=Ud[this['_cookieCha'+'nnel']['charAt'](0xd91+0x1d6c+0x2afb*-0x1)]<<-0xea3+-0x12a4*-0x1+0x3f3*-0x1),_0x153925!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x153925;}}class L0{constructor(_0x2ec2ee,_0xe0e8df,_0x35a29a){c(this,'_areaLight'+'sEnabled',!(0x195d+0x2*-0xc0e+-0x10*0x14)),c(this,'_cells',new T(-0x9*0x19b+-0x15b2+-0x242f*-0x1,-0x1deb+0xf5b*0x1+0xe93,-0x2f4*-0xb+0x1*-0x285+-0x1ded)),c(this,'_maxLights'+'PerCell',-0x1*-0x18eb+0x1*-0xe96+-0x1*0x956),c(this,'_shadowsEn'+'abled',!(0x2554+-0x2*-0x442+-0x3d2*0xc)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x1ae9*-0x1+-0x1e4*0x1+0x24cd*0x1),c(this,'_cookiesEn'+'abled',!(0xc9f+-0x1151*-0x2+0xfc*-0x30)),c(this,'_cookieAtl'+'asResoluti'+'on',-0x13a3+-0x17b*-0xf+0x116*0x5),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x2ec2ee,this['_maxTextur'+'eSize']=_0xe0e8df,this['_dirtyLigh'+'tsFnc']=_0x35a29a);}['applySetti'+'ngs'](_0x293533){this['shadowsEna'+'bled']=_0x293533['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x293533['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x293533['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x293533['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x293533['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x293533['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x293533['lightingSh'+'adowType']??this['shadowType'],_0x293533['lightingCe'+'lls']&&(this['cell']=new T(_0x293533['lightingCe'+'lls']));}set['cells'](_0x5bac7f){this['_cells']['copy'](_0x5bac7f);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x2ffc03){this['_maxLights'+'PerCell']=N['clamp'](_0x2ffc03,-0x28+-0x1b13*-0x1+-0x1aea,0x128b+0x5*0x6db+-0x33d3*0x1);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x3b8934){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x3b8934,0x1*-0x1d0f+0xab8+0x1d*0xa3,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x39f478){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x39f478,-0x409*0x1+-0x14bc+0x1*0x18e5,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x544696){this['_shadowTyp'+'e']!==_0x544696&&(this['_shadowTyp'+'e']=_0x544696,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x290a56){this['_cookiesEn'+'abled']!==_0x290a56&&(this['_cookiesEn'+'abled']=_0x290a56,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x46931d){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x46931d&&(this['_areaLight'+'sEnabled']=_0x46931d,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x15f0d2){this['_shadowsEn'+'abled']!==_0x15f0d2&&(this['_shadowsEn'+'abled']=_0x15f0d2,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0x5*-0x4a0+-0x29b*0x8+0x15*0x218),Lt,at,at);class fn{constructor(_0x1f6761){c(this,'shaderCach'+'e',[]),(this['morph']=_0x1f6761,_0x1f6761['incRefCoun'+'t'](),this['device']=_0x1f6761['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x31c3a1=0x6*0x339+-0x119*-0x4+-0x17ba;_0x31c3a1<_0x1f6761['_targets']['length'];_0x31c3a1++){const _0x10b3cc=_0x1f6761['_targets'][_0x31c3a1];_0x10b3cc['name']&&this['_weightMap']['set'](_0x10b3cc['name'],_0x31c3a1),this['setWeight'](_0x31c3a1,_0x10b3cc['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x34c5bf=(_0x110149,_0x1bd433)=>(this[_0x1bd433]=_0x1f6761['_createTex'+'ture'](_0x110149,_0x1f6761['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x1bd433],'depth':!(0xbf5*-0x2+-0x2*-0x18c+0x14d3)}));_0x1f6761['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x34c5bf('MorphRTPos','texturePos'+'itions')),_0x1f6761['morphNorma'+'ls']&&(this['rtNormals']=_0x34c5bf('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x1f6761['morphTextu'+'reWidth'],_0x1f6761['morphTextu'+'reHeight']]);const _0x84c3d9=_0x1f6761['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x84c3d9['x']*(0x31*-0x97+0x120b*-0x1+-0x177b*-0x2),_0x84c3d9['y']*(-0x12f3+0x4*0x301+0x3*0x251),_0x84c3d9['z']*(0x2536+0x1*0x2223+-0x4755)]);const _0x30077b=_0x1f6761['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x30077b['x']*(0x2484+-0x1b28+-0x2*0x4ad),_0x30077b['y']*(-0x91e+-0xd61+0x7*0x337),_0x30077b['z']*(0xa*0x1aa+-0x15a*0x5+-0x278*0x4)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x1d*-0x153+0x529+0x5*-0x8b6,-0xc9d+0xd17+0x28*-0x3,-0x1*-0x12ea+0x17f8+0x8*-0x55c]),this['_aabbNrmMi'+'n']=new Float32Array([-(0xc66+0x51*0x5d+0x1*-0x29d2),-(0x2081+0x8aa+-0x1495*0x2),-(-0x18e*0x2+-0x301*0x4+0xf21)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x1bbd11=-0x4*0x527+-0x225c+-0x4*-0xdbe;_0x1bbd11<this['maxSubmitC'+'ount'];_0x1bbd11++)this['morphBlend'+'Tex'+_0x1bbd11]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x1bbd11);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0x13e*-0x12+0x2294+0x35*-0x3b);}['destroy'](){this['shader']=null;const _0x3bb9b0=this['morph'];_0x3bb9b0&&(this['morph']=null,_0x3bb9b0['decRefCoun'+'t'](),_0x3bb9b0['refCount']<0x89*-0x32+0x10*-0x54+-0x5*-0x667&&_0x3bb9b0['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x55699d){if(typeof _0x55699d=='string'){const _0x254f4d=this['_weightMap']['get'](_0x55699d);return _0x254f4d===void(-0x163*0x5+-0x11*-0x175+-0x6*0x2f9)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x55699d+'.'),_0x254f4d;}return _0x55699d;}['getWeight'](_0x11724e){const _0x3a435b=this['_getWeight'+'Index'](_0x11724e);return this['_weights'][_0x3a435b];}['setWeight'](_0x3f9e77,_0x2fdf17){const _0x4452fa=this['_getWeight'+'Index'](_0x3f9e77);v['assert'](_0x4452fa>=-0x47*-0x2e+0x3df*0x9+-0x2f99&&_0x4452fa<this['morph']['_targets']['length']),this['_weights'][_0x4452fa]=_0x2fdf17,this['_dirty']=!(-0x7bb*0x1+0x176f+-0xfb4);}['_getFragme'+'ntShader'](_0x4d9789){let _0x449fb2='',_0x592de9='';for(let _0x577e4f=0x283+-0xe8*0x2b+-0x11*-0x225;_0x577e4f<_0x4d9789;_0x577e4f++)_0x449fb2+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x577e4f+';',_0x592de9+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x577e4f+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x577e4f+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x4d9789>-0x2570+-0xee3*-0x1+-0x168d*-0x1?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x4d9789+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x449fb2+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x592de9+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x50b710){let _0x24b1dc=this['shaderCach'+'e'][_0x50b710];if(!_0x24b1dc){const _0x20a548=this['_getFragme'+'ntShader'](_0x50b710),_0x55f557=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x24b1dc=Is(this['device'],jM,_0x20a548,'textureMor'+'ph'+_0x50b710,void(-0x2*-0x82f+0x307+-0x1365),{'fragmentOutputTypes':[_0x55f557]}),this['shaderCach'+'e'][_0x50b710]=_0x24b1dc;}return _0x24b1dc;}['_updateTex'+'tureRender'+'Target'](_0x4c6e2e,_0xb9ff9c,_0x3069ab){const _0x1cf87a=this['device'],_0xf2a7c0=(_0x3122c0,_0x347eee)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x1cf87a['setBlendSt'+'ate'](_0x347eee?YM:_t['NOBLEND']);const _0x56d6a5=this['_getShader'](_0x3122c0);dn(_0x1cf87a,_0x4c6e2e,_0x56d6a5);};this['setAabbUni'+'forms'](_0x3069ab);let _0x369b7b=0xcea+0x5cc*0x5+-0x1f*0x15a,_0x2a96a9=!(-0x108f+0xdcf+0x2c1);const _0x40b2e4=this['_activeTar'+'gets']['length'];for(let _0xa1a02f=0x3*-0x3e2+0x24a+0x95c;_0xa1a02f<_0x40b2e4;_0xa1a02f++){const _0x4c554c=this['_activeTar'+'gets'][_0xa1a02f],_0x2f09f4=_0x4c554c['target'][_0xb9ff9c];_0x2f09f4&&(this['morphBlend'+'Tex'+_0x369b7b]['setValue'](_0x2f09f4),this['_shaderMor'+'phWeights'][_0x369b7b]=_0x4c554c['weight'],_0x369b7b++,_0x369b7b>=this['maxSubmitC'+'ount']&&(_0xf2a7c0(_0x369b7b,_0x2a96a9),_0x369b7b=-0xd9*0x17+0x181+0x11fe,_0x2a96a9=!(-0xb23+-0x219c+0x2cbf)));}(_0x369b7b>0x15de+-0x1d94+0x7b6||_0x40b2e4===0x1fcc+0x1775+-0x1*0x3741&&!this['zeroTextur'+'es'])&&_0xf2a7c0(_0x369b7b,_0x2a96a9);}['_updateTex'+'tureMorph'](){const _0x1a6730=this['device'];G['pushGpuMar'+'ker'](_0x1a6730,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>-0x8c1*-0x3+0x18*-0x26+-0x16b3||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x13ed*0x1+-0x9*0x2c9+-0x1*-0x2cfe)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0x1936+0xbef*-0x2+-0x3115*-0x1)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===-0x16f5+-0x13c7+0x2abc),G['popGpuMark'+'er'](_0x1a6730);}['setAabbUni'+'forms'](_0x492613=!(0x267f+0x1305+-0x132c*0x3)){this['aabbSizeId']['setValue'](_0x492613?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x492613?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x154d41){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x15e3+0x19e6+-0x2fc8);const _0x50db42=this['morph']['_targets'];let _0x427dc4=-0x1b91+-0x1a*0xe4+0x32b9;const _0x5e9731=0x1*-0x88c+-0x70*0x3e+0x23ac+0.00001;for(let _0x396fd1=-0x10db+-0x1634+0x270f;_0x396fd1<_0x50db42['length'];_0x396fd1++){const _0x2ed0d7=Math['abs'](this['getWeight'](_0x396fd1));if(_0x2ed0d7>_0x5e9731){this['_activeTar'+'gets']['length']<=_0x427dc4&&(this['_activeTar'+'gets'][_0x427dc4]={});const _0x4ee0df=this['_activeTar'+'gets'][_0x427dc4++];_0x4ee0df['absWeight']=_0x2ed0d7,_0x4ee0df['weight']=this['getWeight'](_0x396fd1),_0x4ee0df['target']=_0x50db42[_0x396fd1];}}this['_activeTar'+'gets']['length']=_0x427dc4,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x1e20ac,_0x35f291)=>_0x1e20ac['absWeight']<_0x35f291['absWeight']?0x11a*0x16+-0x1d*0x130+0xa35:_0x35f291['absWeight']<_0x1e20ac['absWeight']?-(0x3*-0x4e5+0xa5e+0x4f*0xe):0x19f9+0x66f+0x2068*-0x1),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x7dc+-0xe3b*0x2+0x2452,this['_immutable']=!(0x26*0xb1+-0x605+0x24*-0x90));}['getGraph'](){return this['graph'];}['setGraph'](_0x1ccc35){this['graph']=_0x1ccc35;}['getCameras'](){return this['cameras'];}['setCameras'](_0x5aadfd){this['cameras']=_0x5aadfd;}['getLights'](){return this['lights'];}['setLights'](_0x42134d){this['lights']=_0x42134d;}['getMateria'+'ls'](){const _0x3c0b07=[];for(let _0x5cf9c1=0xa16+-0x6de+-0x338*0x1;_0x5cf9c1<this['meshInstan'+'ces']['length'];_0x5cf9c1++){const _0x5138ae=this['meshInstan'+'ces'][_0x5cf9c1];_0x3c0b07['indexOf'](_0x5138ae['material'])===-(0x1*-0xff7+-0x1db5+0x2dad)&&_0x3c0b07['push'](_0x5138ae['material']);}return _0x3c0b07;}['clone'](){const _0x571046=[],_0xf1b76f=[],_0x47f8d8=function(_0x451520){const _0x5e8f1b=_0x451520['clone']();_0x571046['push'](_0x451520),_0xf1b76f['push'](_0x5e8f1b);for(let _0xf8c965=-0x1*0x5c9+0x7*-0x563+0x2b7e*0x1;_0xf8c965<_0x451520['_children']['length'];_0xf8c965++)_0x5e8f1b['addChild'](_0x47f8d8(_0x451520['_children'][_0xf8c965]));return _0x5e8f1b;},_0x4d876a=_0x47f8d8(this['graph']),_0x2cbc6e=[],_0x2b7de4=[],_0x542882=[];for(let _0x5281e2=0x902+-0x163*-0xd+0x1*-0x1b09;_0x5281e2<this['skinInstan'+'ces']['length'];_0x5281e2++){const _0x4c1047=this['skinInstan'+'ces'][_0x5281e2]['skin'],_0x5054b2=new nl(_0x4c1047),_0x4ebf61=[];for(let _0xdb6d20=-0x53b*0x1+0x933+-0xfe*0x4;_0xdb6d20<_0x4c1047['boneNames']['length'];_0xdb6d20++){const _0x54062f=_0x4c1047['boneNames'][_0xdb6d20],_0x4195ab=_0x4d876a['findByName'](_0x54062f);_0x4ebf61['push'](_0x4195ab);}_0x5054b2['bones']=_0x4ebf61,_0x2b7de4['push'](_0x5054b2);}for(let _0x5353d9=-0x11*-0x185+0x1dc1+-0x3796;_0x5353d9<this['morphInsta'+'nces']['length'];_0x5353d9++){const _0x4832f6=this['morphInsta'+'nces'][_0x5353d9]['morph'],_0x17d0b5=new fn(_0x4832f6);_0x542882['push'](_0x17d0b5);}for(let _0x5d4ee1=0x1c6b+0x9*0x3+-0x1c86;_0x5d4ee1<this['meshInstan'+'ces']['length'];_0x5d4ee1++){const _0x864e2e=this['meshInstan'+'ces'][_0x5d4ee1],_0xb399e8=_0x571046['indexOf'](_0x864e2e['node']),_0x506dc3=new Le(_0x864e2e['mesh'],_0x864e2e['material'],_0xf1b76f[_0xb399e8]);if(_0x864e2e['skinInstan'+'ce']){const _0x3046d5=this['skinInstan'+'ces']['indexOf'](_0x864e2e['skinInstan'+'ce']);_0x506dc3['skinInstan'+'ce']=_0x2b7de4[_0x3046d5];}if(_0x864e2e['morphInsta'+'nce']){const _0x45df4c=this['morphInsta'+'nces']['indexOf'](_0x864e2e['morphInsta'+'nce']);_0x506dc3['morphInsta'+'nce']=_0x542882[_0x45df4c];}_0x2cbc6e['push'](_0x506dc3);}const _0x38eeb5=new Oi();return _0x38eeb5['graph']=_0x4d876a,_0x38eeb5['meshInstan'+'ces']=_0x2cbc6e,_0x38eeb5['skinInstan'+'ces']=_0x2b7de4,_0x38eeb5['morphInsta'+'nces']=_0x542882,_0x38eeb5['getGraph']()['syncHierar'+'chy'](),_0x38eeb5;}['destroy'](){const _0x481236=this['meshInstan'+'ces'];for(let _0x506d62=0x2*0x859+0xb51+-0x1c03;_0x506d62<_0x481236['length'];_0x506d62++)_0x481236[_0x506d62]['destroy']();this['meshInstan'+'ces']['length']=-0xcaa+-0x1*0x98a+0x1634;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x261fd0,_0x295acd,{preferHighPrecision:_0x4cb23f=!(-0xb61*-0x3+0x16f*-0x6+-0x1988)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x295acd,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x295acd,this['preferHigh'+'Precision']=_0x4cb23f,v['assert'](_0x261fd0['every'](_0x1b0eee=>!_0x1b0eee['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x261fd0['slice']());const _0x278986=this['device'],_0x1ebfb6=_0x278986['textureHal'+'fFloatRend'+'erable']?Je:void(-0x14af+0x1aa6+-0x5f7),_0x10f187=_0x278986['textureFlo'+'atRenderab'+'le']?Ke:void(0x799*-0x3+-0xa*0xef+-0x2021*-0x1);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x10f187??_0x1ebfb6:_0x1ebfb6??_0x10f187,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x19f9e3=new T(),_0x63ea0a=new T();for(let _0x3d2e35=0x11b9*0x1+-0x315*-0x2+-0x4c7*0x5;_0x3d2e35<this['_targets']['length'];_0x3d2e35++){const _0x109777=this['_targets'][_0x3d2e35]['aabb'];_0x19f9e3['min'](_0x109777['getMin']()),_0x63ea0a['max'](_0x109777['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x19f9e3,_0x63ea0a);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x171f8d=0x5*0xf3+0x1*-0x125d+-0x48a*-0x3;_0x171f8d<this['_targets']['length'];_0x171f8d++)this['_targets'][_0x171f8d]['_postInit']();}['_findSpars'+'eSet'](_0x5c8d11,_0x4dd47b,_0x4e4f94){let _0x496272=-0x5ec+0x20d1+0x2*-0xd72;const _0x5ce162=_0x5c8d11[0x14a7*0x1+-0x221+-0x1286*0x1]['length'];for(let _0x38a1ca=0x1798+0x156f+-0x2d07;_0x38a1ca<_0x5ce162;_0x38a1ca+=-0x3f1*0x7+0x1353+0xa3*0xd){let _0x11227c=!(0xa94+-0xe2f+-0x4d*-0xc);for(let _0x308763=0xf4*-0x2+0x864+-0x67c;_0x308763<_0x5c8d11['length'];_0x308763++){const _0x19392b=_0x5c8d11[_0x308763];if(_0x19392b[_0x38a1ca]!==-0xae5+0x72*-0x7+0x11*0xd3||_0x19392b[_0x38a1ca+(0x1c*-0xa9+0xd11+0x56c)]!==0xedb*-0x1+0xaef+0x3ec*0x1||_0x19392b[_0x38a1ca+(0x24e*-0x4+0x252b+0x1bf1*-0x1)]!==0x44*-0x3b+-0x3*-0xac8+-0x10ac){_0x11227c=!(-0x1b13+-0x1502*-0x1+0x611);break;}}_0x11227c?(_0x4dd47b['push'](_0x496272),_0x4e4f94['push'](_0x38a1ca/(-0x1008+0x3*0x7ed+-0x16*0x5a)),_0x496272++):_0x4dd47b['push'](-0x4*-0x779+-0x491*0x4+-0xba0);}return _0x496272;}['_initTextu'+'reBased'](){const _0x46ece4=[],_0x351821=[];for(let _0x27024f=0x779+-0xd5*0x2c+0x1d23;_0x27024f<this['_targets']['length'];_0x27024f++){const _0x66e3f6=this['_targets'][_0x27024f];_0x66e3f6['options']['deltaPosit'+'ions']&&(_0x46ece4['push'](_0x66e3f6['options']['deltaPosit'+'ions']),_0x351821['push']({'target':_0x66e3f6,'name':'texturePos'+'itions'})),_0x66e3f6['options']['deltaNorma'+'ls']&&(_0x46ece4['push'](_0x66e3f6['options']['deltaNorma'+'ls']),_0x351821['push']({'target':_0x66e3f6,'name':'textureNor'+'mals'}));}const _0x2629bf=[],_0x1b8e12=[],_0x467e41=this['_findSpars'+'eSet'](_0x46ece4,_0x2629bf,_0x1b8e12),_0x22d88c=this['device']['maxTexture'+'Size'];let _0x214d2a=Math['ceil'](Math['sqrt'](_0x467e41));_0x214d2a=Math['min'](_0x214d2a,_0x22d88c);const _0x25103b=Math['ceil'](_0x467e41/_0x214d2a);if(_0x25103b>_0x22d88c)return!(-0x2*-0xac4+0x1694+-0x2c1b);this['morphTextu'+'reWidth']=_0x214d2a,this['morphTextu'+'reHeight']=_0x25103b;let _0x33e278=!(0x1dbc+0x7*-0x534+0x3*0x23b),_0x258740=0x1003+-0x26cb+0x1*0x16cb;const _0x42e1f1=Wt['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x33e278=!(-0x1*-0x265e+-0xe2*0x7+0x203*-0x10),_0x258740=-0x146*0xe+0x3e8*-0x7+0x2d30);const _0x2be104=[];for(let _0x94dc2e=-0x16d*-0x3+0x4e9+0x93*-0x10;_0x94dc2e<_0x46ece4['length'];_0x94dc2e++)_0x2be104['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x28d233=-0x1*0xacf+0x1595+-0xac6;_0x28d233<_0x46ece4['length'];_0x28d233++){const _0x59dd95=_0x46ece4[_0x28d233],_0x20f3ac=_0x2be104[_0x28d233],_0x38dd1e=_0x20f3ac['lock']();if(_0x33e278)for(let _0x40cf2c=0x1188+0x8a6+0x1*-0x1a2e;_0x40cf2c<_0x1b8e12['length'];_0x40cf2c++){const _0x5d8903=_0x1b8e12[_0x40cf2c]*(0xed*-0x17+0x16a9+-0x15b),_0x49b7d2=_0x40cf2c*_0x258740+_0x258740;_0x38dd1e[_0x49b7d2]=_0x42e1f1(_0x59dd95[_0x5d8903]),_0x38dd1e[_0x49b7d2+(0x1985+0x1188+-0x2b0c)]=_0x42e1f1(_0x59dd95[_0x5d8903+(-0x3*0x31+-0x8d7*0x4+0x23f0)]),_0x38dd1e[_0x49b7d2+(0x3*0x96b+-0x958+0x1*-0x12e7)]=_0x42e1f1(_0x59dd95[_0x5d8903+(-0x1de3+0x45*-0x5b+0x366c)]);}else for(let _0x12ad44=-0x108b*-0x2+0x1027+-0x1*0x313d;_0x12ad44<_0x1b8e12['length'];_0x12ad44++){const _0x7ca12a=_0x1b8e12[_0x12ad44]*(-0x1*0x14ef+0x1b*0x105+-0x695),_0x27c215=_0x12ad44*_0x258740+_0x258740;_0x38dd1e[_0x27c215]=_0x59dd95[_0x7ca12a],_0x38dd1e[_0x27c215+(0x3*-0x5e1+0x4de+0x663*0x2)]=_0x59dd95[_0x7ca12a+(-0x1*0x1289+-0x1*-0x5bc+0x1*0xcce)],_0x38dd1e[_0x27c215+(-0x1*0x2ef+0xecf*-0x2+0x5*0x683)]=_0x59dd95[_0x7ca12a+(0xdad*0x2+-0x2*-0xe3+-0x1d1e*0x1)];}_0x20f3ac['unlock'](),_0x351821[_0x28d233]['target']['_setTextur'+'e'](_0x351821[_0x28d233]['name'],_0x20f3ac);}const _0x1fefdd=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(-0xf48+0x2*-0xc29+0x25*0x112)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x1fefdd,_0x2629bf['length']),_0x2629bf['length'],{'data':new Uint32Array(_0x2629bf)}),!(-0x5a7+0x18*0xb7+-0x5f*0x1f);}['destroy'](){var _0x55bbea;(_0x55bbea=this['vertexBuff'+'erIds'])==null||_0x55bbea['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x22330c=-0x6*0x97+-0x43*-0x61+0x2f*-0x77;_0x22330c<this['_targets']['length'];_0x22330c++)this['_targets'][_0x22330c]['destroy']();this['_targets']['length']=-0x3*0x952+-0x1633+-0x3229*-0x1;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x1a70+-0x15c*-0x7+0x1*0x10ed),this['_morphNorm'+'als']=!(-0x17*0x45+0x9b7+-0x383*0x1);for(let _0x462d0c=-0x158c+-0xe75+0x2401;_0x462d0c<this['_targets']['length'];_0x462d0c++){const _0x13927b=this['_targets'][_0x462d0c];_0x13927b['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0xcde+-0x2b9+-0xd*-0x133)),_0x13927b['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x2*-0x127b+-0xd02+-0x27*-0x148));}}['_createTex'+'ture'](_0x18338c,_0x409c1d){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x409c1d,'cubemap':!(0x2464+0x1*0x2099+-0x44fc),'mipmaps':!(-0x3*0xb57+-0x21d1+0x1*0x43d7),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x18338c});}}class Qc{constructor(_0x581931){c(this,'used',!(-0x1*-0x259+0x1586+0x5*-0x4c6)),(v['assert'](arguments['length']===0x2583+0x2576+-0x4*0x12be),this['options']=_0x581931,this['_name']=_0x581931['name'],this['_defaultWe'+'ight']=_0x581931['defaultWei'+'ght']||0x7ab*0x3+0xad3+-0x21d4,this['_aabb']=_0x581931['aabb'],this['deltaPosit'+'ions']=_0x581931['deltaPosit'+'ions']);}['destroy'](){var _0x3c30e6,_0x1cc1a2;(_0x3c30e6=this['texturePos'+'itions'])==null||_0x3c30e6['destroy'](),this['texturePos'+'itions']=null,(_0x1cc1a2=this['textureNor'+'mals'])==null||_0x1cc1a2['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x6*0x219+0xc63+-0x18f9);}['_setTextur'+'e'](_0x3353b4,_0xb1bf2e){this[_0x3353b4]=_0xb1bf2e;}}let si,v_=-0x1ccf+-0x1*0x235f+0x402f;const ie=-0xac*-0x12+0x1e83+-0x2a97,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0xe11b7a){return _0xe11b7a-Math['floor'](_0xe11b7a);}function KM(_0x439a75){return Math['max'](Math['min'](_0x439a75,0x13d*0x1f+-0x1*-0x1547+-0x3ba9*0x1),-0x239e+0xde8+0x15b6);}function Hd(_0x1b3216,_0x13377e){return _0x1b3216-_0x13377e*Math['floor'](_0x1b3216/_0x13377e);}function ZM(_0x427041){let _0x4c6d36=ia(_0x427041),_0x21b6ea=ia((0xce2+-0xd9*0x11+0x26*0x11)*_0x427041),_0x42b410=ia((-0x13d1d*-0x1+0x5059+0x71*-0x145)*_0x427041),_0x1bfb56=ia((0x1e94888+0xe9*0x761e9+0x1af3a*0x8f)*_0x427041);return _0x4c6d36-=_0x21b6ea/(0x8e*-0x1b+-0x11*-0x35+0xc74),_0x21b6ea-=_0x42b410/(-0xd48+-0xb61*-0x2+-0x87b),_0x42b410-=_0x1bfb56/(0x1dc2+-0x1*0x1621+0x6a2*-0x1),_0x1bfb56-=_0x1bfb56/(-0x9*0x102+0xa98+-0x87),[_0x4c6d36,_0x21b6ea,_0x42b410,_0x1bfb56];}function Nl(_0x5b756b){let _0x1a742a=ia(_0x5b756b),_0x1ad81d=ia((-0x3ec+0x1ee*-0x7+-0x59*-0x35)*_0x5b756b);return _0x1a742a-=_0x1ad81d/(0x331*0x3+0x1199+0x1*-0x1a2d),_0x1ad81d-=_0x1ad81d/(-0x9*-0x21+-0x10dd+-0x5*-0x357),[_0x1a742a,_0x1ad81d];}class QM{constructor(_0x97a785){this['_emitter']=_0x97a785;}['calcSpawnP'+'osition'](_0x5745af,_0x506b0a,_0x5c5893,_0xa2ea8b,_0x4f3121){const _0x28477d=this['_emitter'],_0x4c18e0=Math['random'](),_0x1db3c1=Math['random'](),_0x39bd3c=Math['random'](),_0x38e3f5=Math['random']();if(_0x28477d['useCpu']&&(_0x5745af[_0x4f3121*ie+(-0x1e*0x71+0x2*-0x102f+0x2d9c)+_0x28477d['numParticl'+'esPot']*(-0xaf8+0x3*-0x415+-0x91*-0x29)*ie]=_0x4c18e0,_0x5745af[_0x4f3121*ie+(-0xd2e+0x225a*-0x1+-0x1*-0x2f89)+_0x28477d['numParticl'+'esPot']*(-0x1*-0x911+0x13ac+-0x1cbb)*ie]=_0x1db3c1,_0x5745af[_0x4f3121*ie+(-0x2678+-0x1d6*0x13+-0x24ae*-0x2)+_0x28477d['numParticl'+'esPot']*(-0x1f70+-0xd*-0x2aa+0x10*-0x33)*ie]=_0x39bd3c),ze['x']=_0x4c18e0-(-0x5*-0x212+-0x19b+0x1*-0x8bf+0.5),ze['y']=_0x1db3c1-(-0x19*0x43+-0x1b1f+0x21aa+0.5),ze['z']=_0x39bd3c-(-0xe*-0x1c+-0x341*0x4+0x126*0xa+0.5),_0x28477d['emitterSha'+'pe']===Vs){const _0xef4093=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x474b59=_0xef4093+(0x2d2+-0x9f6+0x724+0.5-_0xef4093)*_0x5c5893[-0x1c4b+0x1cd*0x15+-0x986],_0x36676f=_0xef4093+(-0x138c+0x20b9+0x1*-0xd2d+0.5-_0xef4093)*_0x5c5893[0x15*-0x40+-0x26d5*0x1+0x2c16],_0x3a7e8c=_0xef4093+(0x49*-0x43+-0x3f*-0x2f+-0x3c5*-0x2+0.5-_0xef4093)*_0x5c5893[-0xdce+-0x2289+-0x1*-0x3059];ze['x']=_0x474b59*(_0xef4093===Math['abs'](ze['x'])?Math['sign'](ze['x']):(0x1*0x151f+0x21b1+0x73*-0x7a)*ze['x']),ze['y']=_0x36676f*(_0xef4093===Math['abs'](ze['y'])?Math['sign'](ze['y']):(0x2d5*-0x1+0x2441+-0x216a)*ze['y']),ze['z']=_0x3a7e8c*(_0xef4093===Math['abs'](ze['z'])?Math['sign'](ze['z']):(0x1*-0x68f+-0x39f*0x6+0x1c4b)*ze['z']),_0x28477d['localSpace']?ks['copy'](_0x506b0a['transformP'+'oint'](ze)):ks['copy'](_0xa2ea8b)['add'](_0x506b0a['transformP'+'oint'](ze));}else{ze['normalize']();const _0x508d07=_0x28477d['emitterRad'+'ius']===0x1a*-0x5a+-0xd1*0x21+0x2415?-0xef*0x18+0x1*0x2e1+0x1387*0x1:_0x28477d['emitterRad'+'iusInner']/_0x28477d['emitterRad'+'ius'],_0x3c1c97=_0x38e3f5*(-0x23+0xeb1*-0x1+0xed5-_0x508d07)+_0x508d07;_0x28477d['localSpace']?ks['copy'](ze['mulScalar'](_0x3c1c97*_0x28477d['emitterRad'+'ius'])):ks['copy'](_0xa2ea8b)['add'](ze['mulScalar'](_0x3c1c97*_0x28477d['emitterRad'+'ius']));}let _0xe60ec5=-N['lerp'](_0x28477d['rate'],_0x28477d['rate2'],_0x4c18e0)*_0x4f3121;if(_0x28477d['pack8']){const _0x393317=(ks['x']-_0x28477d['worldBound'+'s']['center']['x'])/_0x28477d['worldBound'+'sSize']['x']+(0x1091*0x2+0xa+0x304*-0xb+0.5),_0x553901=(ks['y']-_0x28477d['worldBound'+'s']['center']['y'])/_0x28477d['worldBound'+'sSize']['y']+(0x814+0x14d8+-0xe76*0x2+0.5),_0x3e51b9=(ks['z']-_0x28477d['worldBound'+'s']['center']['z'])/_0x28477d['worldBound'+'sSize']['z']+(0x97*0x25+0x55a*0x3+-0x25e1+0.5);let _0x5926a5=N['lerp'](_0x28477d['startAngle']*N['DEG_TO_RAD'],_0x28477d['startAngle'+'2']*N['DEG_TO_RAD'],_0x4c18e0);_0x5926a5=_0x5926a5%(Math['PI']*(0x343*-0xb+-0x1b7a+0x3f5d*0x1))/(Math['PI']*(-0x889*0x3+-0x224f+0x3bec));const _0x829e60=Nl(_0x393317);_0x5745af[_0x4f3121*ie]=_0x829e60[-0x1ab8+0x5*-0x665+0x3ab1],_0x5745af[_0x4f3121*ie+(-0x8fb+0x18e7+0x5*-0x32f)]=_0x829e60[0x1894+0x1*0x85f+0x1079*-0x2];const _0x2e703d=Nl(_0x553901);_0x5745af[_0x4f3121*ie+(-0x1f51+0x1c81+0x2d2)]=_0x2e703d[-0x1*0xa8b+0x1d9+-0x2e6*-0x3],_0x5745af[_0x4f3121*ie+(-0x4b8+0x97b+-0x4c0)]=_0x2e703d[0x3*-0x4b3+0xad1+0x349];const _0x4f2740=Nl(_0x3e51b9);_0x5745af[_0x4f3121*ie+(0xb*0x359+0x8f3+0x17a*-0x1f)+_0x28477d['numParticl'+'esPot']*ie]=_0x4f2740[0x59+-0x1b79+0x6c8*0x4],_0x5745af[_0x4f3121*ie+(0xf*0x1a9+-0x1fe0+0x6fa)+_0x28477d['numParticl'+'esPot']*ie]=_0x4f2740[-0xf1f+0xdd*0xe+-0x30a*-0x1];const _0x81f0b0=Nl(_0x5926a5);_0x5745af[_0x4f3121*ie+(-0x4*-0x504+0x15f*-0x3+-0xff1)+_0x28477d['numParticl'+'esPot']*ie]=_0x81f0b0[-0x54*-0x10+0x6aa*0x1+-0x1*0xbea],_0x5745af[_0x4f3121*ie+(0x18*-0xb5+0x26*0xb1+0x1*-0x94b)+_0x28477d['numParticl'+'esPot']*ie]=_0x81f0b0[0x4f3*0x1+0x17cf+0x1*-0x1cc1];const _0x571efc=0x19b7+-0xa7*-0x18+-0x295e;_0x5745af[_0x4f3121*ie+(0x13bb*-0x1+-0x1031*-0x1+0x38d)+_0x28477d['numParticl'+'esPot']*ie*(0x202b+0x2de*0x1+-0x93*0x3d)]=_0x571efc;const _0x2a86d5=Math['max'](_0x28477d['lifetime'],(_0x28477d['numParticl'+'es']-(-0x28*-0x3e+-0xae4*-0x1+0xe5*-0x17))*Math['max'](_0x28477d['rate'],_0x28477d['rate2'])),_0x5a6100=_0x28477d['lifetime']+(-0x714+0x25c4+-0x1eaf);_0xe60ec5=(_0xe60ec5+_0x2a86d5)/(_0x2a86d5+_0x5a6100);const _0x4de3fb=ZM(_0xe60ec5);_0x5745af[_0x4f3121*ie+(0xa69+0x264+-0xccd)+_0x28477d['numParticl'+'esPot']*ie*(0x1362+-0x1*-0x23dd+-0x373c)]=_0x4de3fb[-0xfa5+0x5*0x64b+-0x1c2*0x9],_0x5745af[_0x4f3121*ie+(-0x2404+0x1034+0x13d1)+_0x28477d['numParticl'+'esPot']*ie*(-0x4eb*-0x2+0xbec+-0x15bf)]=_0x4de3fb[0x1804+0x3*0x73b+-0x2db4],_0x5745af[_0x4f3121*ie+(0x126a+-0x8aa+-0x9be)+_0x28477d['numParticl'+'esPot']*ie*(-0xb07+-0x7f8+-0x32b*-0x6)]=_0x4de3fb[0xb*0x30b+0x184b+-0x39c2],_0x5745af[_0x4f3121*ie+(-0xcfb*0x1+-0x18ec+-0x17*-0x1a6)+_0x28477d['numParticl'+'esPot']*ie*(0x1*-0x1853+-0x1*0x1acf+0x3325)]=_0x4de3fb[0x1*-0x260e+0x5a+0x25b7];}else _0x5745af[_0x4f3121*ie]=ks['x'],_0x5745af[_0x4f3121*ie+(0x1ceb+0x2*-0x5b3+-0x1184)]=ks['y'],_0x5745af[_0x4f3121*ie+(0x26c3+-0x9*0x42c+-0x67*0x3)]=ks['z'],_0x5745af[_0x4f3121*ie+(-0x19bd*-0x1+-0x230b+-0x31b*-0x3)]=N['lerp'](_0x28477d['startAngle']*N['DEG_TO_RAD'],_0x28477d['startAngle'+'2']*N['DEG_TO_RAD'],_0x4c18e0),_0x5745af[_0x4f3121*ie+(0x1ef*-0x12+0x1621+0x3a*0x38)+_0x28477d['numParticl'+'esPot']*ie]=_0xe60ec5;}['update'](_0x26e878,_0x1f3861,_0x3494ec,_0x4c0156,_0x46a441,_0x103539,_0x4a7740,_0x1718e2){let _0x456ccf,_0x2fe683,_0x198135;const _0x25507c=this['_emitter'];if(_0x25507c['meshInstan'+'ce']['node']){const _0x59cfb6=_0x25507c['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x302368=0x1*-0x1114+-0x107*0x3+0x1429;_0x302368<0x5c9*0x1+0x1c02+-0x21bf;_0x302368++)Vd['data'][_0x302368]=_0x59cfb6['data'][_0x302368];Gd['copy'](Vd),Gd['invert'](),si=_0x25507c['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x103539=_0x25507c['meshInstan'+'ce']['node']===null||_0x25507c['localSpace']?T['ZERO']:_0x25507c['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x3bb0f2=_0x25507c['camera']?_0x25507c['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x11ac8b=_0x25507c['useMesh']?-0x36a+0xf2f*0x2+-0x1ae3:-0x1*-0x710+-0x2ae+-0x7b*0x9;let _0x49736c,_0x34667f,_0x59dccb,_0x555bdf,_0x5b0f42,_0x5261e7,_0x50ad42,_0x24deff,_0x58911b;const _0x5e14f1=_0x25507c['precision']-(-0x173+-0x65*-0x7+-0x14f);for(let _0x2a27c4=-0xa*-0x135+0xaa*0x37+0x26e*-0x14;_0x2a27c4<_0x25507c['numParticl'+'es'];_0x2a27c4++){const _0xb8e7a1=Math['floor'](_0x25507c['vbCPU'][_0x2a27c4*_0x25507c['numParticl'+'eVerts']*(_0x25507c['useMesh']?0x21e2+-0xb*-0x23a+0x42b*-0xe:0x47*0x39+0x14cb+0x7*-0x53a)+(-0x2*0x229+-0x1*-0xf67+-0x1a*0x6d)]),_0x4177c7=_0x3494ec[_0xb8e7a1*ie+(0xde+0x9*-0x27a+-0x55b*-0x4)+_0x25507c['numParticl'+'esPot']*(0x3b*-0xd+-0x9b2+-0x1*-0xcb3)*ie];ps['x']=_0x4177c7,ps['y']=_0x3494ec[_0xb8e7a1*ie+(0x1*-0x1a29+-0xc7c+-0x2*-0x1353)+_0x25507c['numParticl'+'esPot']*(-0x2667*-0x1+0x15dc+-0x19*0x269)*ie],ps['z']=_0x3494ec[_0xb8e7a1*ie+(0x1bb3+-0x35*-0xb3+-0x40c0)+_0x25507c['numParticl'+'esPot']*(0x1*0x215e+0x10ac+-0x1*0x3208)*ie];const _0x5e9b8f=_0x25507c['rate']+(_0x25507c['rate2']-_0x25507c['rate'])*_0x4177c7,_0x402d0c=_0x25507c['lifetime'];let _0x3aa6d2=_0x3494ec[_0xb8e7a1*ie+(0x36b+-0xe1*-0x16+-0x16be)+_0x25507c['numParticl'+'esPot']*ie]+_0x4a7740;const _0x579086=KM(_0x3aa6d2/_0x402d0c);let _0x4c8c02=-0x1*-0x1181+-0x1ca6+0xb25,_0x1d4131=0xdf6+-0xeda+0xe4;const _0x15df84=-0x12*0x145+-0x2de*0xb+0xd99*0x4;(_0x3aa6d2-_0x4a7740<=0x11f1+0x61*0xd+0x16de*-0x1||_0x3aa6d2>=_0x402d0c)&&this['calcSpawnP'+'osition'](_0x3494ec,_0x4c0156,_0x46a441,_0x103539,_0xb8e7a1);let _0x46a78c=_0x3aa6d2>0x1fc9+-0x1*0x1ca1+-0x65*0x8&&_0x3aa6d2<_0x402d0c;_0x46a78c&&(_0x198135=_0x579086*_0x5e14f1,_0x49736c=Math['floor'](_0x198135),_0x34667f=Math['ceil'](_0x198135),_0x198135%=0xd4*-0x2+0x79c+-0x5f3,_0x456ccf=_0x25507c['qRotSpeed'][_0x49736c],_0x2fe683=_0x25507c['qRotSpeed'][_0x34667f],_0x59dccb=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qRotSpeed2'][_0x49736c],_0x2fe683=_0x25507c['qRotSpeed2'][_0x34667f],_0x555bdf=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qScale'][_0x49736c],_0x2fe683=_0x25507c['qScale'][_0x34667f],_0x4c8c02=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qScale2'][_0x49736c],_0x2fe683=_0x25507c['qScale2'][_0x34667f],_0x5b0f42=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qAlpha'][_0x49736c],_0x2fe683=_0x25507c['qAlpha'][_0x34667f],_0x5261e7=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qAlpha2'][_0x49736c],_0x2fe683=_0x25507c['qAlpha2'][_0x34667f],_0x50ad42=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qRadialSpe'+'ed'][_0x49736c],_0x2fe683=_0x25507c['qRadialSpe'+'ed'][_0x34667f],_0x24deff=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qRadialSpe'+'ed2'][_0x49736c],_0x2fe683=_0x25507c['qRadialSpe'+'ed2'][_0x34667f],_0x58911b=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x24deff+=(_0x58911b-_0x24deff)*(_0x4177c7*(0x14*-0x161+-0x1e0d+0x3a05)%(-0x1460+0x14b*0x17+-0x95c)),Rn['x']=_0x3494ec[_0xb8e7a1*ie],Rn['y']=_0x3494ec[_0xb8e7a1*ie+(-0x10*-0x155+-0xadb+-0xa74)],Rn['z']=_0x3494ec[_0xb8e7a1*ie+(-0xc62+-0x1d4b*-0x1+-0x1*0x10e7)],_0x25507c['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x103539),Ka['normalize']()['mulScalar'](_0x24deff),_0x49736c*=-0x1*-0x1677+0x26ba+-0x2*0x1e97,_0x34667f*=-0x4a*-0x1a+0x103f*-0x1+0x45f*0x2,_0x456ccf=_0x25507c['qLocalVelo'+'city'][_0x49736c],_0x2fe683=_0x25507c['qLocalVelo'+'city'][_0x34667f],Ze['x']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qLocalVelo'+'city'][_0x49736c+(-0x1*0x57b+0x1155+-0xbd9)],_0x2fe683=_0x25507c['qLocalVelo'+'city'][_0x34667f+(-0x1b57+-0xaaa+0x2602)],Ze['y']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qLocalVelo'+'city'][_0x49736c+(-0xdc6*-0x2+0x75e+0x8ba*-0x4)],_0x2fe683=_0x25507c['qLocalVelo'+'city'][_0x34667f+(-0x1f22+-0x1ef7+0x3e1b)],Ze['z']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qLocalVelo'+'city2'][_0x49736c],_0x2fe683=_0x25507c['qLocalVelo'+'city2'][_0x34667f],Dn['x']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qLocalVelo'+'city2'][_0x49736c+(0x60a+-0x1*-0x2678+-0x1*0x2c81)],_0x2fe683=_0x25507c['qLocalVelo'+'city2'][_0x34667f+(0xc52+0x104f+-0x394*0x8)],Dn['y']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qLocalVelo'+'city2'][_0x49736c+(0x1*-0x124b+-0x5c9+-0x1816*-0x1)],_0x2fe683=_0x25507c['qLocalVelo'+'city2'][_0x34667f+(-0xf53+0x61*-0x5+0x113a)],Dn['z']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qVelocity'][_0x49736c],_0x2fe683=_0x25507c['qVelocity'][_0x34667f],Nt['x']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qVelocity'][_0x49736c+(-0x21ae+-0xb*0xa+-0x47*-0x7b)],_0x2fe683=_0x25507c['qVelocity'][_0x34667f+(0x23d9+-0xd38+-0x16a0)],Nt['y']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qVelocity'][_0x49736c+(0x2*0x851+-0x24f7+-0x1457*-0x1)],_0x2fe683=_0x25507c['qVelocity'][_0x34667f+(-0x24c6+0x1c59+-0x86f*-0x1)],Nt['z']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qVelocity2'][_0x49736c],_0x2fe683=_0x25507c['qVelocity2'][_0x34667f],In['x']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qVelocity2'][_0x49736c+(-0xad*0x20+0xd50+0x1*0x851)],_0x2fe683=_0x25507c['qVelocity2'][_0x34667f+(-0x248a+0x33e*0x1+0x214d)],In['y']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,_0x456ccf=_0x25507c['qVelocity2'][_0x49736c+(-0x152a+-0x76*-0x1e+-0x3ac*-0x2)],_0x2fe683=_0x25507c['qVelocity2'][_0x34667f+(-0xd43+0x2265+-0xa9*0x20)],In['z']=_0x456ccf+(_0x2fe683-_0x456ccf)*_0x198135,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x25507c['initialVel'+'ocity']>0x1*-0xdcf+0x4e5*-0x1+0x12b4&&(_0x25507c['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](0x2119+0x1076+0x2b*-0x127)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x25507c['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x25507c['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x59dccb+=(_0x555bdf-_0x59dccb)*ps['y'],_0x4c8c02=(_0x4c8c02+(_0x5b0f42-_0x4c8c02)*(_0x4177c7*(-0x67f*-0x7+0x1859+-0x1ec2)%(-0x137*0x16+0x33*0x1d+0x14f4)))*v_,_0x1d4131=(_0x50ad42-_0x5261e7)*(_0x4177c7*(-0x1b01+0x3*-0x533+0x2e82)%(-0x1*-0x1af3+-0xe23+-0xccf*0x1)),_0x25507c['meshInstan'+'ce']['node']&&(_0x25507c['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x25507c['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x4a7740)),vt['copy'](b_),_0x3494ec[_0xb8e7a1*ie]=vt['x'],_0x3494ec[_0xb8e7a1*ie+(0x69+0x118c+-0x17f*0xc)]=vt['y'],_0x3494ec[_0xb8e7a1*ie+(0x13db+0x1654*0x1+-0x2a2d)]=vt['z'],_0x3494ec[_0xb8e7a1*ie+(-0x1d20+0xfa*0x23+-0x50b*0x1)]+=_0x59dccb*_0x4a7740,_0x25507c['wrap']&&_0x25507c['wrapBounds']&&(_0x25507c['localSpace']||vt['sub'](_0x103539),vt['x']=Hd(vt['x'],_0x25507c['wrapBounds']['x'])-_0x25507c['wrapBounds']['x']*(-0x16a+0xdf4*0x1+-0xc8a*0x1+0.5),vt['y']=Hd(vt['y'],_0x25507c['wrapBounds']['y'])-_0x25507c['wrapBounds']['y']*(-0x1*0xf9+0x2*0x105e+-0x1fc3+0.5),vt['z']=Hd(vt['z'],_0x25507c['wrapBounds']['z'])-_0x25507c['wrapBounds']['z']*(0xd40*0x2+0x2c4+0x4*-0x751+0.5),_0x25507c['localSpace']||vt['add'](_0x103539)),_0x25507c['sort']>-0x1*-0x166f+0xe*0x1f5+-0x31d5*0x1&&(_0x25507c['sort']===0x10d3+-0x13d5+0x303*0x1?(wr['copy'](vt)['sub'](_0x3bb0f2),_0x25507c['particleDi'+'stance'][_0xb8e7a1]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x25507c['sort']===0x209b+0x1*-0x1d67+-0x332?_0x25507c['particleDi'+'stance'][_0xb8e7a1]=_0x3aa6d2:_0x25507c['sort']===0x11f6+-0x18a*-0x18+-0x36e3&&(_0x25507c['particleDi'+'stance'][_0xb8e7a1]=-_0x3aa6d2))),_0x1718e2?_0x3aa6d2<0x10*-0x8b+-0xe2*0x1a+0x1fa4&&(_0x3494ec[_0xb8e7a1*ie+(0x2d4*0x4+0x8*-0x327+0xdeb)+_0x25507c['numParticl'+'esPot']*(-0x1f8+0x1471*0x1+-0x1277)*ie]=-(-0x1158+-0x1e53+-0x2a6*-0x12)):(_0x3aa6d2>=_0x402d0c&&(_0x3aa6d2-=Math['max'](_0x402d0c,(_0x25507c['numParticl'+'es']-(-0xf*-0x1bf+0x1*0x695+-0x20c5))*_0x5e9b8f),_0x3494ec[_0xb8e7a1*ie+(0x2*-0x833+-0x2489*0x1+0x1f6*0x1b)+_0x25507c['numParticl'+'esPot']*(-0xb29*-0x1+-0x2a*0x52+-0x1f*-0x13)*ie]=_0x25507c['loop']?0x11be+0x12aa*-0x2+0x1397:-(-0x1ab0+0x2178+-0x6c7)),_0x3aa6d2<0x17eb+-0x13*-0xa3+-0x2404&&_0x25507c['loop']&&(_0x3494ec[_0xb8e7a1*ie+(-0x1336+0x2632*0x1+-0x653*0x3)+_0x25507c['numParticl'+'esPot']*(0x132e*0x2+0xed5+-0x352f)*ie]=0x1*-0x119+0x1256+-0x113c)),_0x3494ec[_0xb8e7a1*ie+(-0x2a4*-0x7+-0x23*-0x114+-0x1*0x3835)+_0x25507c['numParticl'+'esPot']*(-0x1d4f+-0x2571+0x42c2)*ie]<0xa31+-0x7*0x445+0x1*0x13b2&&(_0x46a78c=!(-0x1*-0xa15+-0x5*0x45f+0xbc7)),_0x3494ec[_0xb8e7a1*ie+(0x23*0xe3+0x1bf3+-0x1*0x3af9)+_0x25507c['numParticl'+'esPot']*ie]=_0x3aa6d2;for(let _0x2485f9=0x522+0x1359+-0x187b;_0x2485f9<_0x25507c['numParticl'+'eVerts'];_0x2485f9++){const _0x3c0391=(_0x2a27c4*_0x25507c['numParticl'+'eVerts']+_0x2485f9)*(_0x25507c['useMesh']?-0x5be+0x19*0x57+-0x2bb:0x19c3+-0x4a9*0x4+0x6b*-0x11);let _0x49928c=_0x25507c['vbCPU'][_0x3c0391],_0x5aa0e7=_0x25507c['vbCPU'][_0x3c0391+(-0x12d6*0x2+-0x1*-0xc02+-0x1*-0x19ab)],_0x5e582e=_0x25507c['vbCPU'][_0x3c0391+(-0x185*0x11+0x22dc+-0x905)];_0x46a78c||(_0x49928c=_0x5aa0e7=_0x5e582e=-0x1*0x220f+-0x2000*-0x1+0x20f);const _0x2f8932=_0x2a27c4*_0x25507c['numParticl'+'eVerts']*_0x11ac8b+_0x2485f9*_0x11ac8b;_0x26e878[_0x2f8932]=vt['x'],_0x26e878[_0x2f8932+(-0x223*-0xd+0x598*0x5+-0x37be)]=vt['y'],_0x26e878[_0x2f8932+(-0x70f*-0x5+0x1*-0x10a5+-0x12a4)]=vt['z'],_0x26e878[_0x2f8932+(0x1397*-0x1+-0x1d*-0x13+0x1173)]=_0x579086,_0x26e878[_0x2f8932+(0xe*0x52+-0x61*0x3+-0x1*0x355)]=_0x25507c['alignToMot'+'ion']?_0x15df84:_0x3494ec[_0xb8e7a1*ie+(0x56b+0x7*-0x565+0x205b)],_0x26e878[_0x2f8932+(-0x1fb1+0x10d4+0xfe*0xf)]=_0x4c8c02,_0x26e878[_0x2f8932+(0x90b+-0x3*-0x191+-0x1b7*0x8)]=_0x1d4131,_0x26e878[_0x2f8932+(-0x978+0x82a*-0x1+0x11a9*0x1)]=Bl['x'],_0x26e878[_0x2f8932+(-0x15b4+0x295*-0xf+0x3c77)]=_0x49928c,_0x26e878[_0x2f8932+(0x10ef+-0x1595+-0x1*-0x4af)]=_0x5aa0e7,_0x26e878[_0x2f8932+(0x9*-0x183+0x58+0xd4d)]=_0x5e582e,_0x26e878[_0x2f8932+(-0x1*-0xaa1+0x1fbd+-0x2a53)]=Bl['y'],_0x26e878[_0x2f8932+(0x128d+-0x1f*-0xc1+-0x1*0x29e0)]=_0xb8e7a1,_0x26e878[_0x2f8932+(-0x1*-0x2e7+0x4*-0x24f+-0x1*-0x662)]=Bl['z'],_0x26e878[_0x2f8932+(0x1a53+-0x251+-0x17f4)]=_0x25507c['vbCPU'][_0x3c0391+(0x1976+-0x2349+-0x4eb*-0x2)],_0x25507c['useMesh']&&(_0x26e878[_0x2f8932+(-0xa9a+-0x1*0x9c7+-0x6d*-0x30)]=_0x25507c['vbCPU'][_0x3c0391+(0xf29*0x1+0x728+-0x164d)],_0x26e878[_0x2f8932+(-0x902+0x1a84+-0x1172)]=_0x25507c['vbCPU'][_0x3c0391+(0x49*0xb+-0x751+0x19*0x2b)]);}}if(_0x25507c['sort']>Du&&_0x25507c['camera']){const _0x53f97a=_0x25507c['useMesh']?0x10bf+-0x1b*0xca+0x495*0x1:-0x1050+0x1*0x842+0x812*0x1,_0x19e579=_0x25507c['particleDi'+'stance'];for(let _0x271c9d=0x1ec1*-0x1+-0x1*0x9a5+0x2866;_0x271c9d<_0x25507c['numParticl'+'es'];_0x271c9d++)_0x1f3861[_0x271c9d][-0x2634+0x4aa+0x218a]=_0x271c9d,_0x1f3861[_0x271c9d][0xaa*-0xa+0x24fd+-0x1e58]=_0x19e579[Math['floor'](_0x25507c['vbCPU'][_0x271c9d*_0x25507c['numParticl'+'eVerts']*_0x53f97a+(-0x2fa+-0x24a6*-0x1+0x4cf*-0x7)])];_0x25507c['vbOld']['set'](_0x25507c['vbCPU']),_0x1f3861['sort']((_0x192bdb,_0x43252d)=>_0x192bdb[0x118a+-0x1*0xc9+-0x10c0]-_0x43252d[0x1*-0x1dad+0x1*-0xf9+0x13*0x19d]);for(let _0x423792=-0x1*0x2456+-0x1*0x16db+0x3b31;_0x423792<_0x25507c['numParticl'+'es'];_0x423792++){const _0x20785d=_0x1f3861[_0x423792][0x761+-0x2*-0xfa+-0x955]*_0x25507c['numParticl'+'eVerts']*_0x53f97a,_0x3a89ad=_0x423792*_0x25507c['numParticl'+'eVerts']*_0x53f97a;for(let _0x1c63f0=0xced+0x2557+0x1922*-0x2;_0x1c63f0<_0x25507c['numParticl'+'eVerts']*_0x53f97a;_0x1c63f0++)_0x25507c['vbCPU'][_0x3a89ad+_0x1c63f0]=_0x25507c['vbOld'][_0x20785d+_0x1c63f0];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x3809ea,_0x267c2e){this['_emitter']=_0x3809ea,this['frameRando'+'mUniform']=new Float32Array(-0x16ed*0x1+-0x1*-0xa39+0x1*0xcb7),this['emitterPos'+'Uniform']=new Float32Array(-0xebe*0x1+0x31*0x5b+-0xb*0x3e),this['emitterSca'+'leUniform']=new Float32Array([-0x14*-0x106+0x1*-0xffb+-0x47c,0x227c+-0x1e23+-0x22c*0x2,-0x2b*-0xd9+0x1*-0x1d27+-0x74b]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x1*-0x257c+-0xbfe*0x2+-0xd7d),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x16*-0x1a+-0x1*0x98e+0x755),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x125e+0x5*-0x24b+0x776*0x4),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x148c+-0x2*-0x653+0x7e9),this['constantPa'+'rticleTexI'+'N']=_0x267c2e['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x267c2e['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x267c2e['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x267c2e['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x267c2e['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x267c2e['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x267c2e['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x267c2e['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x267c2e['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x267c2e['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x267c2e['scope']['resolve']('delta'),this['constantRa'+'te']=_0x267c2e['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x267c2e['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x267c2e['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x267c2e['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x267c2e['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x267c2e['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x267c2e['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x267c2e['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x267c2e['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x267c2e['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x267c2e['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x267c2e['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x267c2e['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x267c2e['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x267c2e['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x267c2e['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x267c2e['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x267c2e['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x267c2e['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x267c2e['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x267c2e['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x267c2e['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x267c2e['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x267c2e['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x267c2e['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x267c2e['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x24c5+0x1a6b+-0x3f30]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x7d3*0x4+-0x1*-0x90f+-0x2*0x142d]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x1*0x2669+-0x75*-0x28+-0x38af]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x1718+0x2*0x1367+-0xfb6]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x15a1+0xd*-0x151+-0x21*0x23]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x13ac+-0x1db0+0xb2*0x47]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x1c0b+-0x1abd+0x36c8]=Math['random'](),this['frameRando'+'mUniform'][0x23c+0x148e+-0x16c9]=Math['random'](),this['frameRando'+'mUniform'][-0xece+-0x20e+0xfe*0x11]=Math['random']();}['update'](_0x4b64fa,_0x2897ee,_0x43b6a9,_0x24817b,_0x26d4e0){G['pushGpuMar'+'ker'](_0x4b64fa,'ParticleGP'+'U');const _0x119c9b=this['_emitter'];_0x4b64fa['setBlendSt'+'ate'](_t['NOBLEND']),_0x4b64fa['setDepthSt'+'ate'](as['NODEPTH']),_0x4b64fa['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x5f7*-0x4+-0x2355+0xb7a)/_0x119c9b['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x119c9b['precision']),this['constantNu'+'mParticles']['setValue'](_0x119c9b['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x119c9b['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x119c9b['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x119c9b['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x119c9b['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x119c9b['internalTe'+'x3']);const _0x1151c0=_0x119c9b['meshInstan'+'ce']['node'],_0x139898=_0x1151c0===null?T['ONE']:_0x1151c0['localScale'];if(_0x119c9b['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x1237+0x2*0x62c+-0x1e8f]=_0x119c9b['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x19c7*-0x1+0xcd*-0x11+0x2765]=_0x119c9b['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x31*0xa9+-0x38a*0x9+0x3*0x1567]=_0x119c9b['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x1e61*-0x1+0x173f+0x23c*-0x18]=_0x119c9b['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x1335*-0x1+-0x2496+-0x1162*-0x1]=_0x119c9b['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x1a1f+-0x124f+0x2c70]=_0x119c9b['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x52fd0d=_0x119c9b['maxVel']*Math['max'](Math['max'](_0x139898['x'],_0x139898['y']),_0x139898['z']);_0x52fd0d=Math['max'](_0x52fd0d,-0x154e+0x3*0x71a+0x1*0x1),this['constantMa'+'xVel']['setValue'](_0x52fd0d);}const _0x3f346f=_0x1151c0===null||_0x119c9b['localSpace']?T['ZERO']:_0x1151c0['getPositio'+'n'](),_0x3f7243=_0x1151c0===null?q['IDENTITY']:_0x1151c0['getWorldTr'+'ansform']();_0x119c9b['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x2897ee),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x43b6a9)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x119c9b['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x119c9b['emitterRad'+'ius']===0x815+0x1*0x53+-0x868?0x8cc*-0x2+-0x1*0x18e0+-0x12e*-0x24:_0x119c9b['emitterRad'+'iusInner']/_0x119c9b['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x119c9b['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x3f7243),A_['invertMat4'](_0x3f7243),this['emitterPos'+'Uniform'][0x2581*-0x1+-0x24a2+0x4a23*0x1]=_0x3f346f['x'],this['emitterPos'+'Uniform'][-0x17*-0x166+0x20*-0x15+-0x1d89]=_0x3f346f['y'],this['emitterPos'+'Uniform'][0x4e*-0x11+0x1aa1+-0x1571]=_0x3f346f['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x24817b),this['constantRa'+'te']['setValue'](_0x119c9b['rate']),this['constantRa'+'teDiv']['setValue'](_0x119c9b['rate2']-_0x119c9b['rate']),this['constantSt'+'artAngle']['setValue'](_0x119c9b['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x119c9b['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x119c9b['seed']),this['constantLi'+'fetime']['setValue'](_0x119c9b['lifetime']),this['emitterSca'+'leUniform'][-0x1*0x24d1+-0x32+0x2503]=_0x139898['x'],this['emitterSca'+'leUniform'][0x2183+0x10f+0x1*-0x2291]=_0x139898['y'],this['emitterSca'+'leUniform'][-0x12a0+-0x9f4+-0x2*-0xe4b]=_0x139898['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x119c9b['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x119c9b['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x119c9b['rotSpeedUM'+'ax'][0x1f90+0x1d2*0x1+-0x2162]);let _0x3263ca=_0x119c9b['swapTex']?_0x119c9b['particleTe'+'xOUT']:_0x119c9b['particleTe'+'xIN'];_0x3263ca=_0x119c9b['beenReset']?_0x119c9b['particleTe'+'xStart']:_0x3263ca;const _0x3809d0=_0x119c9b['swapTex']?_0x119c9b['particleTe'+'xIN']:_0x119c9b['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x3263ca),dn(_0x4b64fa,_0x119c9b['swapTex']?_0x119c9b['rtParticle'+'TexIN']:_0x119c9b['rtParticle'+'TexOUT'],_0x26d4e0?_0x119c9b['shaderPart'+'icleUpdate'+'OnStop']:_0x119c9b['loop']?_0x119c9b['shaderPart'+'icleUpdate'+'Respawn']:_0x119c9b['shaderPart'+'icleUpdate'+'NoRespawn']),_0x119c9b['material']['setParamet'+'er']('particleTe'+'xOUT',_0x3263ca),_0x119c9b['material']['setParamet'+'er']('particleTe'+'xIN',_0x3809d0),_0x119c9b['beenReset']=!(-0x2391+-0x1b*-0x10d+0x733*0x1),_0x119c9b['swapTex']=!_0x119c9b['swapTex'],_0x119c9b['prevWorldB'+'oundsSize']['copy'](_0x119c9b['worldBound'+'sSize']),_0x119c9b['prevWorldB'+'oundsCente'+'r']['copy'](_0x119c9b['worldBound'+'s']['center']),_0x119c9b['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x4b64fa);}}class e1 extends It{['generateKe'+'y'](_0xa1ef48){let _0x1d6a0f='particle_'+It['definesHas'+'h'](_0xa1ef48['defines'])+'_';for(const _0xc100c in _0xa1ef48)_0xa1ef48['hasOwnProp'+'erty'](_0xc100c)&&(_0x1d6a0f+=_0xa1ef48[_0xc100c]);return _0x1d6a0f;}['_animTex'](_0x48d81f){let _0x3c53f4='';return _0x3c53f4+=_0x48d81f['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x3c53f4+=X['particleAn'+'imTexVS'],_0x3c53f4;}['createShad'+'erDefiniti'+'on'](_0xedb685,_0x225f11){const _0x1ff5ed='#define\x20PA'+'RTICLE_'+(_0x225f11['useCpu']?'CPU':'GPU')+'\x0a';let _0x460aca='#define\x20PA'+'RTICLE\x0a'+_0x1ff5ed,_0x1c27c4='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x1ff5ed;_0x225f11['mesh']&&(_0x1c27c4+='#define\x20US'+'E_MESH\x0a'),_0x225f11['localSpace']&&(_0x1c27c4+='#define\x20LO'+'CAL_SPACE\x0a'),_0x225f11['screenSpac'+'e']&&(_0x1c27c4+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x225f11['animTex']&&(_0x1c27c4+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x225f11['animTex']&&(_0x1c27c4+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x225f11['animTex']&&(_0x1c27c4+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x225f11['normal']===-0x1a99+0x1310+-0x1*-0x78b&&(_0x1c27c4+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x225f11['normal']===-0x5b6+0x173a+-0x1183&&(_0x1c27c4+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x225f11['soft']&&(_0x1c27c4+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x4966eb=_0x225f11['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x225f11['useCpu']?(_0x225f11['soft']>-0xabd+-0x5c3+-0x8*-0x210&&(_0x1c27c4+=X['screenDept'+'hPS']),_0x1c27c4+=X['particle_c'+'puVS'],_0x225f11['localSpace']&&(_0x1c27c4+=X['particle_l'+'ocalShiftV'+'S']),_0x225f11['animTex']&&(_0x1c27c4+=this['_animTex'](_0x225f11)),_0x225f11['alignToMot'+'ion']&&(_0x1c27c4+=X['particle_p'+'ointAlongV'+'S']),_0x1c27c4+=_0x225f11['mesh']?X['particle_m'+'eshVS']:_0x4966eb,_0x225f11['normal']===-0x29*0x5+-0x2289+0x2357&&(_0x1c27c4+=X['particle_n'+'ormalVS']),_0x225f11['normal']===0x5*-0x158+0xff4+-0x2*0x49d&&(_0x1c27c4+=X['particle_T'+'BNVS']),_0x225f11['stretch']>0x8e*-0x10+-0x149f+0x347*0x9&&(_0x1c27c4+=X['particle_s'+'tretchVS']),_0x1c27c4+=X['particle_c'+'pu_endVS'],_0x225f11['soft']>-0x1d9c+0xb1c+0x1280&&(_0x1c27c4+=X['particle_s'+'oftVS'])):(_0x1c27c4+=X['particle_i'+'nitVS'],_0x1c27c4+=_0x225f11['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x225f11['soft']>-0x1*-0xa0c+0x1*0x1acd+-0x24d9*0x1&&(_0x1c27c4+=X['screenDept'+'hPS']),_0x1c27c4+=X['particleVS'],_0x225f11['localSpace']&&(_0x1c27c4+=X['particle_l'+'ocalShiftV'+'S']),_0x225f11['animTex']&&(_0x1c27c4+=this['_animTex'](_0x225f11)),_0x225f11['wrap']&&(_0x1c27c4+=X['particle_w'+'rapVS']),_0x225f11['alignToMot'+'ion']&&(_0x1c27c4+=X['particle_p'+'ointAlongV'+'S']),_0x1c27c4+=_0x225f11['mesh']?X['particle_m'+'eshVS']:_0x4966eb,_0x225f11['normal']===-0x3*-0xbe9+0x711*0x2+-0x31dc&&(_0x1c27c4+=X['particle_n'+'ormalVS']),_0x225f11['normal']===-0x246d+0x1e1+0x228e&&(_0x1c27c4+=X['particle_T'+'BNVS']),_0x225f11['stretch']>0x26e1+-0x455*-0x8+-0x1*0x4989&&(_0x1c27c4+=X['particle_s'+'tretchVS']),_0x1c27c4+=X['particle_e'+'ndVS'],_0x225f11['soft']>0x3*-0xb3e+-0x2*0x19c+0x24f2&&(_0x1c27c4+=X['particle_s'+'oftVS'])),_0x1c27c4+='}\x0a',_0x225f11['normal']>0x19a2+0x201*-0xb+-0x397&&(_0x225f11['normal']===-0x17b3+0x127*-0x18+-0x15a*-0x26?_0x460aca+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x225f11['normal']===0x435*0x3+-0x17c5*-0x1+-0x1*0x2462&&(_0x460aca+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x460aca+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x225f11['soft']&&(_0x460aca+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x460aca+=X['decodePS'],_0x460aca+='#include\x20\x22'+'gammaPS\x22\x0a',_0x460aca+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x460aca+='#include\x20\x22'+'fogPS\x22\x0a',_0x225f11['normal']===0x2418+0x2674*0x1+-0x4a8a&&(_0x460aca+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x225f11['soft']>0x1cef+0x1e3+-0x6*0x523&&(_0x460aca+=X['screenDept'+'hPS']),_0x460aca+=X['particlePS'],_0x225f11['soft']>0x26b2+-0x1*-0x1901+-0x2c5*0x17&&(_0x460aca+=X['particle_s'+'oftPS']),_0x225f11['normal']===0x19d3+0xb6b+0x1*-0x253d&&(_0x460aca+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x225f11['normal']===-0x570+0x1*0xb6f+-0x7*0xdb&&(_0x460aca+=X['particle_n'+'ormalMapPS']),_0x225f11['normal']>-0x145+0x5*0x75d+-0x238c&&(_0x460aca+=_0x225f11['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x225f11['normal']>-0x1601+-0x6d*0x25+0x25c2&&(_0x460aca+=X['particle_l'+'ightingPS']),_0x225f11['blend']===Kt?_0x460aca+=X['particle_b'+'lendNormal'+'PS']:_0x225f11['blend']===yp?_0x460aca+=X['particle_b'+'lendAddPS']:_0x225f11['blend']===xp&&(_0x460aca+=X['particle_b'+'lendMultip'+'lyPS']),_0x460aca+=X['particle_e'+'ndPS'];const _0x98b665=new Map(Object['entries']({...X,..._0x225f11['chunks']}));return Mt['createDefi'+'nition'](_0xedb685,{'name':'ParticleSh'+'ader','vertexCode':_0x1c27c4,'fragmentCode':_0x460aca,'fragmentDefines':_0x225f11['defines'],'fragmentIncludes':_0x98b665,'vertexDefines':_0x225f11['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x298ab3){super(),c(this,'emitter',null),(this['emitter']=_0x298ab3,v['assert'](_0x298ab3));}['getShaderV'+'ariant'](_0x49a3d1){const {device:_0x1aa650,scene:_0xec0c7c,cameraShaderParams:_0x384c0a}=_0x49a3d1,{emitter:_0x10a2bd}=this,_0x4e7040={'defines':Dp(this,_0x49a3d1),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x10a2bd['lighting']?_0x10a2bd['normalMap']!==null?-0x2*0xa0c+-0x1*-0x175+0x12a5:0x2651+-0xf72+-0x1*0x16de:-0x1faf*0x1+-0xa4a+0x133*0x23,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x384c0a==null?void(-0x1*0x559+-0xd2f+0x1288):_0x384c0a['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x384c0a==null?void(-0x235d+0x160e+0xd4f):_0x384c0a['toneMappin'+'g'])??Ap,'fog':_0xec0c7c&&!this['emitter']['noFog']?_0xec0c7c['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x10a2bd['inTools']?!(0xcdb*-0x1+-0x1c30+-0x1*-0x290c):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x16fa8c=new Yc(_0x49a3d1['viewUnifor'+'mFormat'],_0x49a3d1['viewBindGr'+'oupFormat'],_0x49a3d1['vertexForm'+'at']),_0x41e9df=ka(_0x1aa650);return _0x41e9df['register']('particle',t1),_0x41e9df['getProgram']('particle',_0x4e7040,_0x16fa8c,this['userId']);}}const E_=[[-(-0x2271*-0x1+-0x1f9*-0x13+-0x47eb),-(0x1c8+0x1*0x1f70+0x1*-0x2137)],[0x2a*-0x1+0x5f7*-0x1+-0x5*-0x13a,-(-0x1*-0x15e1+-0x2*-0xb9e+-0x2d1c)],[-0x109*0x20+-0x1b3*-0x11+0x16a*0x3,0x1a3*0xd+0x19a0+-0x2ee6],[-(-0x1836+-0x2399+0x74*0x84),0x206b*-0x1+-0xe*-0xe2+0x1410]];function Qt(_0x2f332f,_0x1849be,_0x1c3c83,_0x180657,_0x1e1fb3=Ke,_0x18dc99,_0x592f3e){let _0x528187=de;_0x592f3e&&(_0x1e1fb3===Se||_0x1e1fb3===rs)&&(_0x528187=st);const _0x2f658c=new he(_0x2f332f,{'width':_0x1849be,'height':_0x1c3c83,'format':_0x1e1fb3,'cubemap':!(-0xcea+0x263e+-0x1953),'mipmaps':!(0x565*0x2+-0x2*-0x479+-0x1*0x13bb),'minFilter':_0x528187,'magFilter':_0x528187,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x56856e=_0x2f658c['lock']();if(_0x1e1fb3===Se||_0x1e1fb3===rs){const _0x2ad524=new Uint8Array(_0x180657['length']);for(let _0x1b0bf0=0x25f2+0x556*-0x1+-0x209c;_0x1b0bf0<_0x180657['length'];_0x1b0bf0++)_0x2ad524[_0x1b0bf0]=_0x180657[_0x1b0bf0]*_0x18dc99*(-0x3*0x765+-0x3*0x6d0+0x2b9e);_0x180657=_0x2ad524;}return _0x56856e['set'](_0x180657),_0x2f658c['unlock'](),_0x2f658c;}function C_(_0x4809d9){return Math['max'](Math['min'](_0x4809d9,-0x2057+0x1147+-0x13*-0xcb),-0xc25+0x1*-0x2016+-0x2c3b*-0x1);}const M_=new Cs([0xfb4+0x52+-0x1006,-0x2383*-0x1+0x125a+-0x35dd,0x1e7a+0x1240+-0x30b9,0x2dd+-0x1652+0x1375]),P_=new Cs([0x1330*-0x1+-0x1310+0x2640,-0x23b8+0x59e+-0x16f*-0x15,-0xb78+0x115c+0x1*-0x5e3,0x18+-0x1e73+0x1d*0x10c]),R_=new jr([0xdfc+-0x2211+0x1415,-0xdb2+0xa*-0xb+0xe20,0x26a8+-0xc51+-0x2*0xd2b,-0x543+-0x110b+0x164e],[-0x140b*0x1+0x22f*0x7+0x261*0x2,0x1274*0x1+-0x16f6*0x1+0x2*0x241,0xb83+-0x7*-0x335+-0x21f5,-0x1*0x2347+-0x611*0x5+-0xdd*-0x4c],[-0x7*0x3cd+0x1dda+-0x33f,-0x255+0x4*-0x669+0x1*0x1bf9,-0x4f*0x4f+-0x3d2+0x1c34,0xd86+0x2700+0x5d6*-0x9]),i1=new jr([0x19c0+0x4*-0x4ae+-0x708,-0x5*0x680+-0x158*0x3+0xc7*0x2f,-0x9c*-0x32+0x2*-0xf01+-0x75,0x1*0x16be+0xb10+-0x21cd],[-0xca3+-0x9a6+0x1649,0xa93+-0x10ab+-0x619*-0x1,0x35b*-0x1+0x14c6+-0x116a,0x1721*-0x1+0x1*-0x22f4+-0x3a16*-0x1],[0xb5*-0x25+-0x2*0xb87+-0x125*-0x2b,0xb27+0x1*0x17f6+-0x231c,-0x28b+0x115a*0x2+-0x498*0x7,0x1*0x19cd+-0x356+-0x1676]);let ii=-0x1f26+0x2305+-0x3dd;const zl=-0x2*0x6f4+0xc13+0x1d9,ri=new Float32Array(0xd*0x1ad+0x246a+-0x3a30),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x1cd697,_0x40cbc5){fh[_0x1cd697]!==void(0xb64*0x3+-0x4*-0x102+-0x1e9*0x14)&&fh[_0x1cd697]!==null?Hu[_0x1cd697]=fh[_0x1cd697]:Hu[_0x1cd697]=_0x40cbc5;}function O0(_0x4bc9e8,_0x124f5c,_0x3de5e5){return(_0x4bc9e8*(-0x13c+-0x14c4*0x1+0x16ff*0x1)<<-0x11c9+-0x16bd+-0x2*-0x144b|_0x124f5c*(0xaea+-0x283+-0x768)<<-0x1119*0x2+-0x21*0xc9+0x3c23|_0x3de5e5*(-0x1d3f*0x1+-0x19b9+0x37f7))/(0x2061*-0x1+0x3*-0x36f+0x7*0x619<<0x1*-0x3+-0x7c3+0x7de);}function D_(_0x3a0d0d,_0x3d8b0d){const _0x167e2c=_0x3a0d0d['length']/(0x3a9*0x1+0xc0b*-0x2+0x8*0x28e),_0xcccefd=new Array(_0x167e2c*(0x3*-0x49+0x5ba+-0x4db));for(let _0x2e5697=-0x1b00+0x75+0x3*0x8d9;_0x2e5697<_0x167e2c;_0x2e5697++)_0xcccefd[_0x2e5697*(0x240+-0x427+0x1eb*0x1)]=_0x3a0d0d[_0x2e5697*(0x481*-0x4+-0x541+0x14*0x12a)],_0xcccefd[_0x2e5697*(-0x3e3*0x7+-0xe0+0x1*0x1c19)+(-0xb4b+-0xf0d+0x47*0x5f)]=_0x3a0d0d[_0x2e5697*(0x1c4*-0x8+-0x1*-0xc92+0x191*0x1)+(0x0+-0xcbd+0xe9*0xe)],_0xcccefd[_0x2e5697*(0xd4d+0x15d4+0x1*-0x231d)+(0x1*0x2f9+0x10fb+-0x13f2)]=_0x3a0d0d[_0x2e5697*(-0x14f2+-0x165*-0x1b+-0x10b2*0x1)+(-0x1ab2+0x1d35*-0x1+0x37e9)],_0xcccefd[_0x2e5697*(-0xc5+-0xb9d*0x1+0xc66)+(-0x3*0xc89+0x7b*-0x5+-0x1*-0x2805)]=O0(_0x3d8b0d[_0x2e5697*(0x1036+-0xc5f*-0x3+-0x3550)],_0x3d8b0d[_0x2e5697*(-0x204*0x4+-0x2673+0x2e86)+(0x1*-0x251+0x1290+-0x103e)],_0x3d8b0d[_0x2e5697*(-0x19c3+-0x7*0xa3+-0x47*-0x6d)+(-0xdd*0x3+-0xdb2+0x2b*0x61)]);return _0xcccefd;}function r1(_0x3ce4bc,_0x24f5de){const _0x435622=new Array(_0x24f5de['length']*(-0x1694+-0x1bc2+-0xa12*-0x5));for(let _0x3da689=-0xca+-0x1fc9*0x1+0x2093*0x1;_0x3da689<_0x24f5de['length'];_0x3da689++)_0x435622[_0x3da689*(0x1*-0x2ed+0x9*-0x105+-0x60f*-0x2)]=_0x3ce4bc[_0x3da689*(-0x1576+0x3*0x9d9+-0x812)],_0x435622[_0x3da689*(0x1*-0x1c3c+-0x16*-0x33+0x17de)+(-0x59*0x17+-0xbcb*0x1+0x699*0x3)]=_0x3ce4bc[_0x3da689*(-0x23f*0x2+-0x180+0x1*0x601)+(-0x83c+-0x200e+0x284b)],_0x435622[_0x3da689*(0x55f+-0x1b73+0x8*0x2c3)+(0x1384+0x2*0x1159+0x3634*-0x1)]=_0x3ce4bc[_0x3da689*(-0x20*0x99+0xa7c*0x1+0x8a7)+(-0x17*-0xa3+-0x262f+0x178c)],_0x435622[_0x3da689*(-0x4f*0x2d+-0x1*-0x1cd0+-0xee9)+(0x1*-0x849+0x134+-0xe3*-0x8)]=_0x24f5de[_0x3da689];return _0x435622;}function n1(_0x285213,_0x354d23,_0x29e000,_0x548fde,_0x3c8c5d){const _0x511316=new Array(_0x285213['length']*(0x1183*0x1+-0x11b7+0x38));for(let _0x1b5845=-0x1*0x1bc4+0x1*0x67f+0x1545;_0x1b5845<_0x285213['length'];_0x1b5845++)_0x511316[_0x1b5845*(-0x1687+0x14df+0x2*0xd6)]=_0x285213[_0x1b5845],_0x511316[_0x1b5845*(-0x16e2+-0x6ab+0x9*0x349)+(0x4eb*-0x1+0xd1*0x4+0x6a*0x4)]=_0x354d23[_0x1b5845],_0x511316[_0x1b5845*(0x7*-0x17c+-0x1b86+0x2*0x12f7)+(-0x295*0x5+0x646*-0x1+0x1331)]=-0x1abd*0x1+-0xf82+0x203*0x15,_0x511316[_0x1b5845*(-0xb2f*-0x3+0x15ef+-0x3778)+(0x160a+0xf12+0x1*-0x2519)]=O0(_0x29e000[_0x1b5845],_0x548fde[_0x1b5845],_0x3c8c5d[_0x1b5845]);return _0x511316;}function a1(_0x53cbb6,_0x139a09){const _0x1c3624=new Array(_0x53cbb6['length']*(0xee*0xe+0x134b+-0x204b*0x1));for(let _0x2d1aa6=-0x1*-0x10fd+0x623*0x2+0xb*-0x2a9;_0x2d1aa6<_0x53cbb6['length'];_0x2d1aa6++)_0x1c3624[_0x2d1aa6*(0x3d6*0xa+-0xae7*-0x2+-0x1e13*0x2)]=_0x53cbb6[_0x2d1aa6],_0x1c3624[_0x2d1aa6*(-0x1*0x108e+-0x1*-0x2285+-0x11f3)+(0x21a6+0x15e*0xb+0x46d*-0xb)]=_0x139a09[_0x2d1aa6],_0x1c3624[_0x2d1aa6*(0x1a79+0x225+0xe4d*-0x2)+(0xac7+0x9*0x5+-0x2*0x579)]=0x1f4b+0x18*0xc7+-0x1*0x31f3,_0x1c3624[_0x2d1aa6*(0x31*-0x46+-0x1e8c+0x2bf6)+(-0x1517+-0x1e96+0x33b0)]=-0x1b38+-0x1*0x232d+0x3e65;return _0x1c3624;}function o1(_0x34a2e5){const _0x3fb020=Math['max'](_0x34a2e5['rate'],_0x34a2e5['rate2'])*_0x34a2e5['numParticl'+'es']+_0x34a2e5['lifetime'];return Date['now']()+_0x3fb020*(-0x13*0x167+0xf87+0xf06);}function l1(_0x36eb50,_0x447348){const _0x5e7d74=new Float32Array(_0x36eb50['length']);for(let _0xe5c6ea=0x1f57+-0xd49*0x2+-0x4c5;_0xe5c6ea<_0x36eb50['length'];_0xe5c6ea++)_0x5e7d74[_0xe5c6ea]=_0x36eb50[_0xe5c6ea]-_0x447348[_0xe5c6ea];return _0x5e7d74;}function Fr(_0xda6db,_0x70f0b0){const _0x54fcdd=_0x70f0b0['length'],_0x559f44=_0xda6db['length']/_0x54fcdd;for(let _0x290c1b=0x5a7+0x1*0x2ab+0x1aa*-0x5;_0x290c1b<_0x559f44;_0x290c1b++)for(let _0x156f38=-0x11*0x1c6+0x1d73+0xb3;_0x156f38<_0x54fcdd;_0x156f38++){const _0x18402e=Math['abs'](_0xda6db[_0x290c1b*_0x54fcdd+_0x156f38]);_0x70f0b0[_0x156f38]=Math['max'](_0x70f0b0[_0x156f38],_0x18402e);}}function h1(_0xd22dc1,_0x341022){const _0x7b022e=_0x341022['length'],_0x351ccc=_0xd22dc1['length']/_0x7b022e;for(let _0x5bb07e=-0x1147+-0x1*-0x1197+-0x50*0x1;_0x5bb07e<_0x351ccc;_0x5bb07e++)for(let _0x58c70a=0x1537+-0x944*-0x1+-0x1e7b;_0x58c70a<_0x7b022e;_0x58c70a++)_0xd22dc1[_0x5bb07e*_0x7b022e+_0x58c70a]/=_0x341022[_0x58c70a]===-0x224c+0x2b1+0x1f9b?-0x10e0+0x3d*0x2f+0x5ae:_0x341022[_0x58c70a],_0xd22dc1[_0x5bb07e*_0x7b022e+_0x58c70a]*=-0x1561+-0xfc4*-0x2+-0x17*0x71+0.5,_0xd22dc1[_0x5bb07e*_0x7b022e+_0x58c70a]+=-0x2037+0x17*0x199+0x3a*-0x14+0.5;}function Ar(_0x1dabe6,_0x350565,_0x345948){const _0x5b7f39=l1(_0x350565,_0x1dabe6);return Fr(_0x5b7f39,_0x345948),h1(_0x5b7f39,_0x345948),_0x5b7f39;}const c1=new Ot();class d1{constructor(_0x597864,_0x3e3cf1){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x597864;const _0x43d6cb=_0x597864,_0x270b60=0x1e*0x14d+-0x324+-0x23c2;this['precision']=_0x270b60,this['_addTimeTi'+'me']=0x18f*-0x17+-0x80d+-0x1*-0x2be6,Hu=this,fh=_0x3e3cf1,re('numParticl'+'es',0x2a*0x68+-0x1*-0xc4b+0xead*-0x2),this['numParticl'+'es']>_0x597864['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x597864['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x597864['maxTexture'+'Size']),re('rate',0x1ebc+-0x1aa4+0x15d*-0x3),re('rate2',this['rate']),re('lifetime',0x18b1+0x1b*0x3f+-0x1f24),re('emitterExt'+'ents',new T(0x18cd+-0x1be0+-0x313*-0x1,-0x10e*0x7+-0x1e4b+-0x3*-0xc8f,-0x1e00+-0x2*0x107b+0x3ef6*0x1)),re('emitterExt'+'entsInner',new T(-0x4*-0x41c+-0x1733+-0x3*-0x241,-0x24d*0x6+0x1*0x277+-0x1*-0xb57,0x4af*0x1+-0x14f7+0x1048)),re('emitterRad'+'ius',0x2430+0x19ad+-0x3ddd*0x1),re('emitterRad'+'iusInner',0x11b2+0x1*0x2cd+-0x1dd*0xb),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',-0x11*0x123+0x13dc+-0x88),re('wrap',!(0xdf+-0x1*0x49d+0x3bf)),re('localSpace',!(-0x1*-0x1cdc+-0x20d7+-0x4*-0xff)),re('screenSpac'+'e',!(-0x1*-0x1774+-0x13fa+-0x379)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(-0x1cd8+-0x5*-0x46c+-0x1*-0x6bc)),re('preWarm',!(0xd78+0xfaf+0xb6*-0x29)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(0xec0*0x1+-0x238*0xb+0x9a9*0x1)),re('halfLamber'+'t',!(0x227d+0xcc+-0x2348)),re('intensity',-0x2*-0xb7e+0x266e*0x1+-0x3d69),re('stretch',-0x76e+-0x1*-0x1b0e+0x274*-0x8),re('alignToMot'+'ion',!(0x680+0x2be*0x9+0x17*-0x15b)),re('depthSofte'+'ning',0x1b1a+-0x1655*-0x1+-0x316f*0x1),re('mesh',null),re('particleNo'+'rmal',new T(0x244c+0x11*0x73+-0x1e9*0x17,0x748+0x361*-0x5+0x99e,0x4*0x1f+-0x1a*0x67+0x9fa)),re('orientatio'+'n',Uh),re('depthWrite',!(0xedc+-0x19c2+0xae7)),re('noFog',!(-0x7*0x38b+-0x1bcf+0x349d)),re('blendType',Kt),re('node',null),re('startAngle',-0x1ccc+-0xce0+-0x4*-0xa6b),re('startAngle'+'2',this['startAngle']),re('animTilesX',-0x16db*0x1+-0x167*0x1+0x1843),re('animTilesY',0x1*-0xb0f+-0x1264*0x1+-0x104*-0x1d),re('animStartF'+'rame',-0x1b0a+-0x1fb2+-0x4*-0xeaf),re('animNumFra'+'mes',0x1478+-0xe0a+-0x5*0x149),re('animNumAni'+'mations',-0x82d*-0x3+0x1a36+-0x32bc),re('animIndex',0xb*-0x67+0xfd5+-0xb68),re('randomizeA'+'nimIndex',!(0x40a*-0x7+-0x1*0x1327+-0x1a*-0x1d3)),re('animSpeed',-0xd*0xef+0xa11+0x213),re('animLoop',!(-0x991+-0x177c*-0x1+-0xdeb)),this['_gpuUpdate'+'r']=new JM(this,_0x43d6cb),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(0x1982+0x104*0x19+-0x32e3*0x1),this['wrapBounds'+'Uniform']=new Float32Array(0x1171+-0x29*0x7b+0x245),this['emitterSca'+'leUniform']=new Float32Array([0x30f*-0x3+0x21be+0x312*-0x8,0x4bd*-0x4+0x3*-0x5b5+0x2414,-0xa31+-0x1181*0x1+-0x7*-0x3f5]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0xc9d+0x150d+-0x86e),this['animParams']=new Float32Array(-0x1*-0xc25+-0x1f8a+0x1369),this['animIndexP'+'arams']=new Float32Array(-0x164*-0x1+0x35c*0x3+0x146*-0x9),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x257e+-0xd08+-0x1*0x1875),this['useMesh']=!(-0x16*-0x19c+-0x2441+0x1*0xd9),this['useCpu']=!_0x597864['supportsGp'+'uParticles'],this['pack8']=!(0x1969+-0xff0+-0x979),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x1eeb*-0x1+0x92b*0x1+0x60*0x3a,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x24f5*-0x1+0x26b8+-0x1c3,this['numParticl'+'eIndices']=0x217c+0x200*0x13+-0x11df*0x4,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x1343*0x1+0x233e+-0x3681,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0xebe+-0x10ad*0x1+-0x1f0*-0x1)/(-0x848*0x3+0x3ac+0x8*0x2ad),this['maxSubStep'+'s']=-0x1fee+-0x1499*0x1+0x1*0x3491,this['simTime']=-0x429+0x6fd*-0x4+-0x201d*-0x1,this['simTimeTot'+'al']=0x199b+0x1a7d+-0x3418,this['beenReset']=!(0xc2e*-0x1+0x18b6+-0xc87),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x577c27=new Float32Array(0x1*-0x21d6+0xf51+-0x1*-0x1685);for(let _0x4c0e94=-0x4ca+-0x1*0x1ba6+-0x2b4*-0xc;_0x4c0e94<0x12d2+-0x16b5+0x3f3;_0x4c0e94++)for(let _0x2d8dad=-0x4d2+0x43b+-0x1*-0x97;_0x2d8dad<-0x1*-0x4fa+0xa0c+-0x2fe*0x5;_0x2d8dad++){const _0x2a4351=_0x2d8dad+(-0xd91*0x2+-0x652+0x2175)-(0x3*-0x319+-0x69d+0x88*0x1e+0.5),_0x5a7c48=_0x4c0e94+(0x8*0x104+0xa*0x1f5+-0x93b*0x3)-(0x4a*-0x6d+-0x2099*0x1+-0x1561*-0x3+0.5),_0x4c7aee=C_(-0x1*-0xf43+-0x201b+0x10d9-C_(Math['sqrt'](_0x2a4351*_0x2a4351+_0x5a7c48*_0x5a7c48)/(0x269b*-0x1+0xf8f+-0xcc*-0x1d))-(-0x19d*-0xb+-0x14a1*0x1+0x1*0x2e2+0.5)),_0x192293=_0x4c0e94*(0x135*0xc+0xa*-0x1a5+-0x7*-0x4a)+_0x2d8dad;_0x577c27[_0x192293*(-0x20cc+0x1a84+-0xd*-0x7c)]=0x11c*-0x3+0x89f+-0x54a*0x1,_0x577c27[_0x192293*(0xc*0x28+-0x10bc+-0x4*-0x3b8)+(-0x107d*0x2+0x1b83+0x578)]=-0x20c1+-0x5*-0x87+0x1*0x1e1f,_0x577c27[_0x192293*(0xb1*0x13+0x1*0x199c+-0x26bb)+(-0xf*-0x1dd+-0x94+-0x1b5d)]=-0x1*0x379+0xae*0x33+-0x1f30,_0x577c27[_0x192293*(0x2163+0x107*-0x1f+0xc3*-0x2)+(-0x28d*-0xd+0x15b2*-0x1+-0xb74)]=_0x4c7aee;}const _0x3f7f62=Qt(this['graphicsDe'+'vice'],-0x1635+0x3*-0x757+0x2c4a,0x2235+0x97*-0x7+-0x44*0x71,_0x577c27,rs,-0x971*-0x1+-0x9d8+-0x4*-0x1a,!(0x8*-0x136+-0x344*-0x4+0x1b0*-0x2));return _0x3f7f62['minFilter']=st,_0x3f7f62['magFilter']=st,_0x3f7f62;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x2e3*0xd+0x983+-0x2f09*0x1)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x838+0x3*-0xba2+0x1aaf)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x688+0x17ab+-0x1e32)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x1*0x14d7+0x1cd7+-0x7ff)),this['worldBound'+'sAdd']['x']+=0x1*0x1051+-0x31*0x28+-0x3*0x2e3+0.5,this['worldBound'+'sAdd']['y']+=-0x30*-0xc7+-0x1ae7+-0x215*0x5+0.5,this['worldBound'+'sAdd']['z']+=0x194*0x5+-0x3*-0x5dd+-0x197b+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x56720d=!(0x56*-0x21+0x73*0x3d+-0x1050);this['emitterSha'+'pe']===Vs?_0x56720d=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x56720d=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x56720d&&this['calculateL'+'ocalBounds']();}const _0x22ee05=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x22ee05),this['worldBound'+'sTrail'][-0xbc8*-0x1+-0x2179+0x15b1]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0xf26*0x2+0x231e*0x1+0x19b*-0x3]['add'](this['worldBound'+'sNoTrail']);const _0x1bcdbc=this['simTimeTot'+'al'];_0x1bcdbc>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x643*-0x5+-0x1347+-0xc08]['copy'](this['worldBound'+'sTrail'][-0x3d*-0x57+0x86*0x3+0x164c*-0x1]),this['worldBound'+'sTrail'][0xf7b+-0xaf7+-0x483]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x1bcdbc+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x12a*-0x4+0x1d4e+0xa*-0x277]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x45f*-0x7+-0x5*0x18e+-0x16d1),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x22ee05),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x22ee05)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x3fe*0x3+-0x146*-0x1d+0x851*-0x3-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1fd7+-0x1*-0x1697+0x940]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1d*0x59+0x5*-0x391+0x7c1]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x1141*-0x1+-0x2508+-0xd*-0x42d]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x2*-0x3ec+0x1ea9+0xcd5*-0x3),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0xd00+-0xa7c+-0x17*0x1c,this['timeToSwit'+'chBounds']=-0xec+0x2168+-0x207c);}['calculateL'+'ocalBounds'](){let _0x3281ea=Number['MAX_VALUE'],_0x2b8854=Number['MAX_VALUE'],_0x12914f=Number['MAX_VALUE'],_0x1a8719=-Number['MAX_VALUE'],_0xa25f84=-Number['MAX_VALUE'],_0x491e29=-Number['MAX_VALUE'],_0x5e9a1e=0x1a4c+0xa1f*0x1+-0x246b*0x1,_0x2a3659=0x2197+-0x9*-0x2a6+-0x396d;const _0x2bcda6=this['lifetime']/this['precision'],_0x4b9943=[this['qVelocity'],this['qVelocity2']],_0xc8b482=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x29098c=[-0xc0d*0x3+0xbd7*0x2+0xc79,-0x2047*-0x1+-0x6e9+-0x2*0xcaf],_0x357eef=[-0x15ec+-0x1d53+0x333f,0x4d8+0x65c+-0xb34],_0x1db161=[0x48d+-0x79*0x1+-0x414,0xe*-0x241+-0x1*0x242f+0x43bd*0x1],_0x9bf2af=[-0xd3e+0x255*-0x9+0x223b,0x16*-0xad+-0x1679*-0x1+0x289*-0x3],_0x2e12d8=[0xb85*-0x1+-0x956+0x14db,0xdd0+0x1090+-0x2*0xf30];let _0x15a42e,_0x2fae31,_0x148bc0;for(let _0x209cc4=0xb3*-0x1+0x377*-0x7+-0x4*-0x63d;_0x209cc4<this['precision']+(0x994+-0x7f9+0xa*-0x29);_0x209cc4++){const _0x439379=Math['min'](_0x209cc4,this['precision']-(-0x15cd*-0x1+-0x1dbf+-0xb*-0xb9));for(let _0x5f0788=-0x7dc+0x1*-0x26cb+0x2ea7;_0x5f0788<-0x5*0x236+-0x3*0x259+0x121b;_0x5f0788++)_0x15a42e=_0xc8b482[_0x5f0788][_0x439379*(0x16ca+-0x1556+0x3*-0x7b)+(0x5*-0x72e+0x24b5+0xcf*-0x1)]*_0x2bcda6+_0x29098c[_0x5f0788],_0x2fae31=_0xc8b482[_0x5f0788][_0x439379*(-0x921+-0xcb0+0x15d4)+(0x1b32+-0xbd9*0x2+-0x37f)]*_0x2bcda6+_0x357eef[_0x5f0788],_0x148bc0=_0xc8b482[_0x5f0788][_0x439379*(-0x3bb+-0x10a5+0x133*0x11)+(0x50b+-0xfd8+-0x1*-0xacf)]*_0x2bcda6+_0x1db161[_0x5f0788],_0x3281ea=Math['min'](_0x15a42e,_0x3281ea),_0x2b8854=Math['min'](_0x2fae31,_0x2b8854),_0x12914f=Math['min'](_0x148bc0,_0x12914f),_0x1a8719=Math['max'](_0x15a42e,_0x1a8719),_0xa25f84=Math['max'](_0x2fae31,_0xa25f84),_0x491e29=Math['max'](_0x148bc0,_0x491e29),_0x29098c[_0x5f0788]=_0x15a42e,_0x357eef[_0x5f0788]=_0x2fae31,_0x1db161[_0x5f0788]=_0x148bc0;for(let _0x53d948=-0x4e1*-0x2+-0x8f9+-0x43*0x3;_0x53d948<0x3a5+-0x1ead*-0x1+-0x225*0x10;_0x53d948++)_0x2e12d8[_0x53d948]+=_0x2bcda6*Math['sqrt'](_0x4b9943[_0x53d948][_0x439379*(0x1c*-0x24+0x5*-0x7c1+0x2ab8*0x1)+(-0x3*0x517+-0x1c3*-0x10+-0xceb)]*_0x4b9943[_0x53d948][_0x439379*(0xe62+-0x8e*-0x1a+0x3*-0x999)+(0x162b+-0x27*-0x3b+0x1*-0x1f28)]+_0x4b9943[_0x53d948][_0x439379*(0x3*-0x821+0x7b2+0x4*0x42d)+(-0x78+0x26e4+0x5*-0x7af)]*_0x4b9943[_0x53d948][_0x439379*(0x780+0x21ca+-0x2947)+(-0x4f4*-0x4+0x20c3+0x1*-0x3492)]+_0x4b9943[_0x53d948][_0x439379*(0x12*-0xa1+0x1fce+-0x1479)+(-0x1dfa+-0x2246+0x2f*0x15e)]*_0x4b9943[_0x53d948][_0x439379*(-0x16c+-0xa*0x211+0x1619*0x1)+(-0x212*0x1+0xb*0x2ab+0xd*-0x219)]);_0x9bf2af[-0x1312+0x1d5c+0x6*-0x1b7]+=this['qRadialSpe'+'ed'][_0x439379]*_0x2bcda6,_0x9bf2af[-0x1*-0x1a17+0xac3+-0x24d9*0x1]+=this['qRadialSpe'+'ed2'][_0x439379]*_0x2bcda6,_0x5e9a1e=Math['max'](_0x5e9a1e,Math['max'](Math['abs'](_0x9bf2af[-0x4*-0x410+-0xf9+-0xf47]),Math['abs'](_0x9bf2af[0x1*-0xcb6+0x1*0x2593+0x25*-0xac]))),_0x2a3659=Math['max'](_0x2a3659,this['qScale'][_0x439379]);}this['emitterSha'+'pe']===Vs?(_0x15a42e=this['emitterExt'+'ents']['x']*(-0xc47+0x35*-0x4+0x29f*0x5+0.5),_0x2fae31=this['emitterExt'+'ents']['y']*(-0x162d+-0x34*0x7d+0x2f91+0.5),_0x148bc0=this['emitterExt'+'ents']['z']*(-0x1*-0x1d4b+-0xd4f*0x1+0x1*-0xffc+0.5)):(_0x15a42e=this['emitterRad'+'ius'],_0x2fae31=this['emitterRad'+'ius'],_0x148bc0=this['emitterRad'+'ius']);const _0xade2d=Math['max'](_0x2e12d8[0x3d4*-0x2+-0x10e7+0x188f],_0x2e12d8[0x8f9*0x3+-0x8c*-0x17+-0x13bf*0x2]);Ul['x']=_0x3281ea-_0x2a3659-_0x15a42e-_0x5e9a1e-_0xade2d,Ul['y']=_0x2b8854-_0x2a3659-_0x2fae31-_0x5e9a1e-_0xade2d,Ul['z']=_0x12914f-_0x2a3659-_0x148bc0-_0x5e9a1e-_0xade2d,Vl['x']=_0x1a8719+_0x2a3659+_0x15a42e+_0x5e9a1e+_0xade2d,Vl['y']=_0xa25f84+_0x2a3659+_0x2fae31+_0x5e9a1e+_0xade2d,Vl['z']=_0x491e29+_0x2a3659+_0x148bc0+_0x5e9a1e+_0xade2d,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x3df160=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x3df160['maxVertexT'+'extures']<=-0x51b*-0x1+0x1338+-0x1852||_0x3df160['fragmentUn'+'iformsCoun'+'t']<0x69e+-0x2fa+-0x364||_0x3df160['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x3df160['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?-0x6d*-0xa+0xa3*-0x21+0x1*0x10c5:0x2386+0x3*-0x949+-0x7a9,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x35d+-0x886+0x1*0xbe3]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0xdab+0x5d2+0x7da]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0xcd*0x7+-0x135b+-0x5e*-0x44),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x50f00b=0x753+-0xef1*-0x1+0x591*-0x4;_0x50f00b<this['numParticl'+'es'];_0x50f00b++)this['vbToSort'][_0x50f00b]=[-0x16d0+0xe7c+0x854,-0xce8+-0x7d9+-0x4d*-0x45];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x38693e=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[0x2087+0x155f+-0x35e6]=this['emitterExt'+'ents']['x']!==0x138d+0x22d*-0xd+0x45e*0x2?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1935*0x1+-0x134a+-0xf*0x65,ri[0x1742+-0x57f+0x1*-0x11c2]=this['emitterExt'+'ents']['y']!==-0x268+-0x1*0x1607+-0x186f*-0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x1e4b+0x971+-0x1*0x27bc,ri[0x1d27+-0xce5+-0x1040]=this['emitterExt'+'ents']['z']!==-0x11c0*-0x1+0x1*-0xbfb+-0x5c5?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x462+-0x1aa4+-0x197*-0xe);for(let _0x53c313=0x1a97+-0x80*-0xe+-0x2197;_0x53c313<this['numParticl'+'es'];_0x53c313++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x38693e,_0x53c313),this['useCpu']&&(this['particleTe'+'x'][_0x53c313*zl+(-0x1*-0x1815+0x1*0xa95+-0x22a7)+this['numParticl'+'esPot']*(0x41d*-0x3+0x21a5+-0x154c)*zl]=0x1e4e+-0x1*-0x2359+-0x41a6);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x138abf=-0x120f+-0xe04*-0x1+0x40b;_0x138abf<this['particleTe'+'xStart']['length'];_0x138abf++)this['particleTe'+'xStart'][_0x138abf]=this['particleTe'+'x'][_0x138abf];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x3df160,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0xca4+0x259+0x4*0x293,!(-0x2695+-0xc0f+0x32a5)),this['particleTe'+'xOUT']=Qt(_0x3df160,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x91f+-0x169a+-0x2*-0x6be,!(-0x1218+-0x8c+0x12a5)),this['particleTe'+'xStart']=Qt(_0x3df160,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,0x1647+-0x2525+0xedf,!(0x58+-0x2*0x673+-0x1*-0xc8f))):(this['particleTe'+'xIN']=Qt(_0x3df160,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x3df160,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x3df160,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x38*0xe+-0xb41+0xe52*0x1)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x65*0x5f+0xc27+-0x5*-0x511)}),this['swapTex']=!(-0x8f4+-0xb*0x260+0x2315*0x1));const _0x3e70f7=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x5655d8=_0x3e70f7+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x4e4373=_0x3e70f7+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x3d2fbf=_0x3e70f7+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x25b250='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x3df160,X['fullscreen'+'QuadVS'],_0x5655d8,'ParticleUp'+'dateRespaw'+'n-'+_0x25b250),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x3df160,X['fullscreen'+'QuadVS'],_0x4e4373,'ParticleUp'+'dateNoResp'+'awn-'+_0x25b250),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x3df160,X['fullscreen'+'QuadVS'],_0x3d2fbf,'ParticleUp'+'dateStop-'+_0x25b250),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x210e+-0xa*-0x7d+0x652*-0x6,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x1*-0x9b7+-0xa*-0x3df+-0x1cff]['numIndices']:-0x31*-0x83+0xf*-0x31+0xa7*-0x22,this['_allocate'](this['numParticl'+'es']);const _0x5f33e3=new Ie(_0x3df160);_0x5f33e3['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x5f33e3['indexBuffe'+'r'][0x1963+0x1e7c+-0x37df]=this['indexBuffe'+'r'],_0x5f33e3['primitive'][0x14d0+0x1*-0x274+0xa*-0x1d6]['type']=Ms,_0x5f33e3['primitive'][-0x2065+0x2088*-0x1+-0x5e7*-0xb]['base']=-0x1*-0xfad+0x1d*0x7c+0x7*-0x43f,_0x5f33e3['primitive'][-0x1204+0x1c19+-0x1*0xa15]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x5f33e3['primitive'][0x1c65*-0x1+-0x19cc+-0x1*-0x3631]['indexed']=!(-0x1821+0x66e*-0x2+0x24fd),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x385bce=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x20d4+0x1eb*-0xe+-0x5fa);this['meshInstan'+'ce']=new Le(_0x5f33e3,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x1*-0x446+-0x193f+-0x1d86*-0x1),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x7*0x238+0x1*-0x13a9+0x1*0x2331),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0xb7+0xc7*-0x4+0x46*0xe),this['meshInstan'+'ce']['visible']=_0x385bce,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x3*0x175+0x95c+0x1*-0x4fd,!(0x77*0x47+-0x185c+-0x8a4)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x1c5a+-0x14c5+-0x1*0x794&&(this['animTilesX']>0x9*-0x2a5+-0x6d*0x11+0x3*0xa59||this['animTilesY']>-0x7*-0x173+-0x1c46+0x1222)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0xe50382=this['precision'],_0x1042c8=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0xe50382),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0xe50382),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0xe50382,-0x4*0x3b9+0x2b7*-0x9+-0x2753*-0x1,-0xea7+0x44e*-0x6+-0x1*-0x287c),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0xe50382),this['qScale']=this['scaleGraph']['quantize'](_0xe50382),this['qAlpha']=this['alphaGraph']['quantize'](_0xe50382),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0xe50382),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0xe50382),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0xe50382),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0xe50382,0x1*-0xf12+0x19*-0x47+-0x2b*-0x83,-0x237+-0x10*-0xcb+-0x14*0x86),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0xe50382),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0xe50382),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0xe50382),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0xe50382);for(let _0x5740c8=0xd83+0x20a+0xf8d*-0x1;_0x5740c8<_0xe50382;_0x5740c8++)this['qRotSpeed'][_0x5740c8]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x5740c8]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0xb2d+-0x25b7*-0x1+-0x30e1),this['velocityUM'+'ax']=new Float32Array(0xe*0xf5+0x22c2+-0x5*0x9a1),this['colorUMax']=new Float32Array(-0x474+0xd4b+0x1c4*-0x5),this['rotSpeedUM'+'ax']=[-0x59*-0x5f+-0x2ff*-0x1+-0x2406],this['scaleUMax']=[-0x1*-0x1b1a+-0x407*0x1+0x219*-0xb],this['alphaUMax']=[-0x1*0x19ed+-0x1bd5+0x35c2*0x1],this['radialSpee'+'dUMax']=[-0x1741*-0x1+0xa1d*0x3+-0x3598],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x4878df=[-0x16c9+0x1597+0x66*0x3,-0x1a47+-0x4cb*0x2+-0x23dd*-0x1,-0x19ae+-0x17*-0x10f+-0x1f*-0xb];Fr(this['qVelocity'],_0x4878df);const _0x2110eb=[0x1b19+-0x1*-0x8e2+-0x23fb,0xa*-0x34+0x1*-0xe4e+0x1056,-0x1921+-0xf7*0x21+0x38f8];Fr(this['qVelocity2'],_0x2110eb);const _0x1004ad=[-0x211b+-0x2d3*0xd+0x45d2,0x1daa+-0x23af+0x605,0x6c7+-0x15c4+0xefd];Fr(this['qLocalVelo'+'city'],_0x1004ad);const _0x2ce16e=[-0x3*0x47a+-0x3*0x137+-0x3*-0x5b1,-0x1091+0xb71*0x1+-0x520*-0x1,0x250a+-0x1759*0x1+-0xdb1];Fr(this['qLocalVelo'+'city2'],_0x2ce16e);const _0x96598f=[-0x1*0x638+-0xe21+0x1*0x1459];Fr(this['qRadialSpe'+'ed'],_0x96598f);const _0x4d532e=[0x45f*-0x8+-0x6*-0x148+0x3*0x918];Fr(this['qRadialSpe'+'ed2'],_0x4d532e);let _0x3c68f2=Math['max'](_0x4878df[-0x1ee3+-0x2ae+0x2191*0x1],_0x2110eb[-0x20b0*-0x1+0xc09+-0x2cb9]);_0x3c68f2=Math['max'](_0x3c68f2,_0x4878df[-0x2383*0x1+0x1e2*-0xa+-0x4*-0xd96]),_0x3c68f2=Math['max'](_0x3c68f2,_0x2110eb[-0x663+-0x1df4+-0x1*-0x2458]),_0x3c68f2=Math['max'](_0x3c68f2,_0x4878df[0x1548+-0x5*0x1d8+-0xc0e]),_0x3c68f2=Math['max'](_0x3c68f2,_0x2110eb[-0x9fb+0x100b*0x1+0x60e*-0x1]);let _0x4f0107=Math['max'](_0x1004ad[0x265d+-0x23f2+-0x26b*0x1],_0x2ce16e[0x23b0+-0x1*-0x981+-0x2d31]);_0x4f0107=Math['max'](_0x4f0107,_0x1004ad[-0x911*-0x1+-0x1f80+-0x1*-0x1670]),_0x4f0107=Math['max'](_0x4f0107,_0x2ce16e[0x191c+-0x1821+-0xfa]),_0x4f0107=Math['max'](_0x4f0107,_0x1004ad[0x1fcc+-0x5*-0x202+0x1*-0x29d4]),_0x4f0107=Math['max'](_0x4f0107,_0x2ce16e[-0x11e0+0x1093*0x2+-0x2*0x7a2]);const _0x13cac2=Math['max'](_0x96598f[-0x2385+-0x1d1d+0x40a2],_0x4d532e[-0x7*-0xbb+-0x2*-0x1378+0x9*-0x4e5]);this['maxVel']=_0x3c68f2+_0x4f0107+_0x13cac2;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x1042c8,_0xe50382,-0x52d+-0x2543+0x35*0xcd,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x1042c8,_0xe50382,0x4d9*-0x1+0x1*-0x1df9+0x22d3,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x1042c8,_0xe50382,-0x1738+0x374+0x13c5,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x1042c8,_0xe50382,0x236a*0x1+-0x336*-0x5+-0x3377,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x1042c8,_0xe50382,-0x64+0x193a*-0x1+0x199f,r1(this['qColor'],this['qAlpha']),rs,0x4*0x305+-0x2*0xad2+-0x4f*-0x1f,!(-0x99*-0x41+-0x10f2+-0x15e7*0x1));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x5c183f=new s1(this);return _0x5c183f['name']='EmitterMat'+'erial:'+this['node']['name'],_0x5c183f['cull']=mt,_0x5c183f['alphaWrite']=!(-0x79*-0xd+0x1189*0x2+0x1*-0x2936),_0x5c183f['blendType']=this['blendType'],_0x5c183f['depthWrite']=this['depthWrite'],_0x5c183f;}['resetMater'+'ial'](){const _0x12c669=this['material'];_0x12c669['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x12c669['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x12c669['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x12c669['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x12c669['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x12c669['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x12c669['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x12c669['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x12c669['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x12c669['setParamet'+'er']('colorParam',this['colorParam']),_0x12c669['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x12c669['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x12c669['setParamet'+'er']('lifetime',this['lifetime']),_0x12c669['setParamet'+'er']('rate',this['rate']),_0x12c669['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x12c669['setParamet'+'er']('seed',this['seed']),_0x12c669['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0xac9+-0x15e7+0xb1e]),_0x12c669['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0xc2f+-0xe5c+0x1a8b]),_0x12c669['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x1*0x74+-0x14ea*0x1+0x155e]),_0x12c669['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x12c669['setParamet'+'er']('graphSampl'+'eSize',(-0x153a+0x6d0+0xe6b)/this['precision']),_0x12c669['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x283+-0x1e57+-0xd*-0x287,-0x126*0x1+-0x13f7+0x151e,-0x18b1+0x3*0xa04+0x2*-0x2ad])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x12c669['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x12c669['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x12c669['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x8*0x77+-0x2*-0x1f3+-0x79e]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x165f+-0x3e3*0x8+-0x1abc*-0x2]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0xaae+-0xc1b+0x16cb]=this['wrapBounds']['z'],_0x12c669['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x6*-0x1e2+-0x1c12+0x10c6&&_0x12c669['setParamet'+'er']('softening',(0x1*-0x116f+0xb4a+-0x1*-0x626)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x1b6f+0x1d65*-0x1+0x3938))),this['stretch']>0xb1b+0x2*0x1271+0x333*-0xf&&(_0x12c669['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x1ce7a7,_0x1b4f75;if(this['orientatio'+'n']===Uh)_0x1ce7a7=new Float32Array([-0x1d2a+-0xbd8+-0x1*-0x2903,0xfe9+0xb79+-0x1b62*0x1,-0x1143*0x1+0x500+-0xc43*-0x1]),_0x1b4f75=new Float32Array([0x113*-0x7+0x71*0x3b+-0x1286,0xc94+0x10d1+-0x1d65,0x1b2a+0x1f*0xd1+-0x3478]);else{let _0x823177;this['orientatio'+'n']===Xb?_0x823177=this['particleNo'+'rmal']['normalize']():_0x823177=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x31e56e=new T(0x1be9+0x223*-0x11+0x86b,0x5c3*-0x3+0x9cc+-0x9*-0xd5,0x226b+-0x1*-0x2469+0x46d4*-0x1);Math['abs'](_0x31e56e['dot'](_0x823177))===0x21f5+-0x1a0b+-0x7e9&&_0x31e56e['set'](0x116*0x10+0xd42+0x6*-0x51b,-0x7*0x43a+0x18bc+0x4da,-0x2*-0xe95+0x1c83*-0x1+0xa6*-0x1);const _0x583cb9=new T()['cross'](_0x823177,_0x31e56e)['normalize']();_0x31e56e['cross'](_0x583cb9,_0x823177)['normalize'](),_0x1ce7a7=new Float32Array([_0x31e56e['x'],_0x31e56e['y'],_0x31e56e['z']]),_0x1b4f75=new Float32Array([_0x583cb9['x'],_0x583cb9['y'],_0x583cb9['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x1ce7a7),this['material']['setParamet'+'er']('faceBinorm',_0x1b4f75);}['_allocate'](_0xf7832){const _0x4338db=_0xf7832*this['numParticl'+'eVerts'],_0x2aac1c=_0xf7832*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x634*0x2+0x1c76+-0x100e)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x4338db){const _0x4b8e35=[];this['useCpu']?_0x4b8e35['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0x2*-0xd72+-0x264a+0xb6a:-0x2*0xd6b+-0x4f0*-0x6+0xb2*-0x4,'type':Ee}):(_0x4b8e35['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x4b8e35['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x48c10f=new Et(this['graphicsDe'+'vice'],_0x4b8e35);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x48c10f,_0x4338db,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x2aac1c);const _0xa86095=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x50a24,_0x5713c1,_0x1c2bb7;if(this['useMesh']){_0x50a24=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x5713c1=_0x50a24['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x20e9f1=0x9b8+-0x945+-0x5*0x17;_0x20e9f1<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x20e9f1++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x20e9f1]['name']===ns){_0x1c2bb7=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x20e9f1]['offset']/(-0x5c*-0x39+0x595+-0x1a0d);break;}}for(let _0x102fdc=-0x5ec+-0x2d2*-0xa+0x4*-0x592;_0x102fdc<_0x4338db;_0x102fdc++){const _0x426a9f=Math['floor'](_0x102fdc/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x48aad8=_0x102fdc%this['numParticl'+'eVerts'];_0xa86095[_0x102fdc*(-0x1*0x2531+0x1*0x1943+0xbf4)]=_0x50a24[_0x48aad8*_0x5713c1],_0xa86095[_0x102fdc*(0x26ff+0x21f4+-0x48ed)+(-0x11*-0xdb+0x54a*-0x4+-0x4d*-0x16)]=_0x50a24[_0x48aad8*_0x5713c1+(-0x1*-0x233c+0x2*0x7f7+-0x3329)],_0xa86095[_0x102fdc*(-0x82d+0x6b1+-0x182*-0x1)+(-0x1bb*0x13+-0x2b*0x1f+0x2618)]=_0x50a24[_0x48aad8*_0x5713c1+(0x1977+-0x1fd*0xe+-0x261*-0x1)],_0xa86095[_0x102fdc*(-0x1dac+-0x9df+0x2791)+(-0x7b*0x10+0x3*-0x5a7+0x838*0x3)]=_0x426a9f,_0xa86095[_0x102fdc*(-0x1dd9+0xa9+0x1d36)+(0x2289+-0x25f*-0x1+-0xc*0x313)]=_0x50a24[_0x48aad8*_0x5713c1+_0x1c2bb7+(0xd*0x2e9+0x2450*-0x1+-0x185)],_0xa86095[_0x102fdc*(-0xbbf+-0x8f+0x20e*0x6)+(0x1679+-0x2231+0xbbd*0x1)]=-0x37b+-0x4f*0x55+0x1db7-_0x50a24[_0x48aad8*_0x5713c1+_0x1c2bb7+(0x18f4+-0xaf*0x2c+0x521)];}else{const _0x445af0=_0x102fdc%(0x1aab+0x22*0x1+-0x1*0x1ac9);_0xa86095[_0x102fdc*(-0x98e+0xc7*-0x2b+-0xe55*-0x3)]=E_[_0x445af0][-0xbd4+-0x11e3+-0x1db7*-0x1],_0xa86095[_0x102fdc*(0x14ec+0x1b72+-0x1*0x305a)+(0xa4b+-0x95*-0x2+-0xb74)]=E_[_0x445af0][0x173d+-0x920+-0xe1c],_0xa86095[_0x102fdc*(0x1fc3*-0x1+0x182*0x5+0x183d)+(-0x14bf+-0x23ee+0x38af)]=0x1bf7+-0x106*-0xb+-0x2739,_0xa86095[_0x102fdc*(-0x1ff9+0x1d*-0xa2+0x3257)+(-0x1*-0x51b+-0x34*-0x75+0x1*-0x1cdc)]=_0x426a9f;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0xa86095),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x3a5a65=0x1acf+0x18cc+-0x339b*0x1;const _0x9e614c=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x2b6891=this['mesh']['indexBuffe'+'r'][-0x1*0x11e7+-0x1f3f+0x3126];_0x50a24=new Lh[_0x2b6891['format']](_0x2b6891['lock']());}for(let _0x64a315=-0x145c+-0x941+-0x39*-0x85;_0x64a315<_0xf7832;_0x64a315++)if(this['useMesh']){for(let _0x2adfea=0x1*0x1957+0x33*0x81+-0x2f*0x116;_0x2adfea<this['numParticl'+'eIndices'];_0x2adfea++)_0x9e614c[_0x64a315*this['numParticl'+'eIndices']+_0x2adfea]=_0x50a24[_0x2adfea]+_0x64a315*this['numParticl'+'eVerts'];}else{const _0x44d402=_0x64a315*(0x3b*0x73+-0xa5*0x1+0x8*-0x33b);_0x9e614c[_0x3a5a65++]=_0x44d402,_0x9e614c[_0x3a5a65++]=_0x44d402+(0x1c7*0x1+0x266+-0x42c),_0x9e614c[_0x3a5a65++]=_0x44d402+(-0x25f7+-0x2*-0xdd2+0xa55),_0x9e614c[_0x3a5a65++]=_0x44d402,_0x9e614c[_0x3a5a65++]=_0x44d402+(0x539*-0x1+0x1359+-0x1a*0x8b),_0x9e614c[_0x3a5a65++]=_0x44d402+(-0x80a+-0x2634+-0xf6b*-0x3);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x23d7+-0x1516+0x38ed]['unlock']();}}['reset'](){if(this['beenReset']=!(0x93f+-0x35*0x3b+0x2f8),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x397ea6=0x1157+-0x83c+-0x91b;_0x397ea6<this['particleTe'+'xStart']['length'];_0x397ea6++)this['particleTe'+'x'][_0x397ea6]=this['particleTe'+'xStart'][_0x397ea6];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x3bcb3e=this['loop'];this['loop']=!(0x1a28+-0x3*0x74f+-0x43b),this['addTime'](0x1af2+0xf17+-0x33*0xd3,!(0xd18+0x5e*0x2b+0x1*-0x1ce1)),this['loop']=_0x3bcb3e,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x5bfb05){const _0x55b4a7=_0x5bfb05/this['lifetime'],_0x5c3e94=Math['min'](Math['floor'](_0x55b4a7*this['precision']),this['precision']),_0x4fb188=_0x5bfb05/_0x5c3e94;for(let _0x36548e=-0x2185+0x1*0x84f+0x1936;_0x36548e<_0x5c3e94;_0x36548e++)this['addTime'](_0x4fb188,!(-0xf*-0xb3+0xb07+0x1583*-0x1));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x26fca1,_0x2c5e54){const _0x1b4785=this['graphicsDe'+'vice'],_0x994d88=ne();if(this['simTimeTot'+'al']+=_0x26fca1,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x14545b=this['animTilesP'+'arams'];_0x14545b[-0x23d7+0x22d1+0x1*0x106]=(-0x5*-0x5ad+-0x1d60+0x100)/this['animTilesX'],_0x14545b[-0x5d*0x65+-0x3*0x1a7+-0x1*-0x29a7]=(0xc73+0x7*0x469+0x1*-0x2b51)/this['animTilesY'];const _0x44e143=this['animParams'];_0x44e143[-0x1f5e+0x24eb*0x1+-0x58d]=this['animStartF'+'rame'],_0x44e143[0x1e12+-0x12b6+0x143*-0x9]=this['animNumFra'+'mes']*this['animSpeed'],_0x44e143[0x9b5+-0x14d8+0x13d*0x9]=this['animNumFra'+'mes']-(0xaf5+-0x252e*0x1+0x1a3a),_0x44e143[-0x6e5*-0x1+0x4*-0xd8+0x1c1*-0x2]=this['animNumAni'+'mations']-(0x1985+-0x57*0x6d+0xd*0xe3);const _0x285dbd=this['animIndexP'+'arams'];_0x285dbd[0xb7*0x2b+-0x2*-0xfad+-0x3e17]=this['animIndex'],_0x285dbd[0xb46+0x16d1*-0x1+-0x2*-0x5c6]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[0x212f+0x146e+0x5f5*-0x9]=this['emitterExt'+'ents']['x']!==0x1d0e+0x46f+-0x1*0x217d?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1*-0x13fb+-0x35*-0x83+-0x1*0x724,ri[-0x1e92+-0x1831+0x36c4*0x1]=this['emitterExt'+'ents']['y']!==-0x26ec+-0x1*-0x733+0x1fb9*0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x1*0xc23+-0x1e3*-0x3+-0x67a*-0x1,ri[0x25bf+-0x1175*-0x2+-0x48a7]=this['emitterExt'+'ents']['z']!==-0x21f+-0x1*-0x120e+-0x1*0xfef?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x11cd*-0x1+0x1*-0x551+-0x16*-0x10d,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x4ca5c0;const _0x2cc472=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x1*-0xfb3+-0x1eb5+0x2e68]=_0x2cc472['x'],this['emitterSca'+'leUniform'][0xcb1*-0x2+0x1*-0x171a+0x307d]=_0x2cc472['y'],this['emitterSca'+'leUniform'][-0x1e2f+0x1a73+-0x1*-0x3be]=_0x2cc472['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x4ca5c0=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x2*0x88d+-0x1*-0xc1a+-0x28*-0x20]=_0x4ca5c0['x'],this['emitterPos'+'Uniform'][-0x8bc+0x399*-0x6+0x1*0x1e53]=_0x4ca5c0['y'],this['emitterPos'+'Uniform'][0xd6*0x17+-0x26b4*0x1+0x4df*0x4]=_0x4ca5c0['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x1b4785,Tr,ri,_0x26fca1,_0x2c5e54);else{const _0x24e759=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x24e759,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x4ca5c0,_0x26fca1,_0x2c5e54);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x11c*0xf+0x177*0x7+-0x1ae4)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x994d88;}['_destroyRe'+'sources'](){var _0x2df028,_0x50000e,_0x3323c9,_0x3020ae,_0x11ca28,_0x23286b,_0x278763,_0x3ac26e,_0xbf9114,_0x54b414,_0x88ac11,_0x8f5b61;(_0x2df028=this['particleTe'+'xIN'])==null||_0x2df028['destroy'](),this['particleTe'+'xIN']=null,(_0x50000e=this['particleTe'+'xOUT'])==null||_0x50000e['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x3323c9=this['rtParticle'+'TexIN'])==null||_0x3323c9['destroy'](),this['rtParticle'+'TexIN']=null,(_0x3020ae=this['rtParticle'+'TexOUT'])==null||_0x3020ae['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x11ca28=this['internalTe'+'x0'])==null||_0x11ca28['destroy'](),this['internalTe'+'x0']=null,(_0x23286b=this['internalTe'+'x1'])==null||_0x23286b['destroy'](),this['internalTe'+'x1']=null,(_0x278763=this['internalTe'+'x2'])==null||_0x278763['destroy'](),this['internalTe'+'x2']=null,(_0x3ac26e=this['internalTe'+'x3'])==null||_0x3ac26e['destroy'](),this['internalTe'+'x3']=null,(_0xbf9114=this['colorParam'])==null||_0xbf9114['destroy'](),this['colorParam']=null,(_0x54b414=this['vertexBuff'+'er'])==null||_0x54b414['destroy'](),this['vertexBuff'+'er']=void(-0x142a+-0x1*-0x14d9+-0x5*0x23),(_0x88ac11=this['indexBuffe'+'r'])==null||_0x88ac11['destroy'](),this['indexBuffe'+'r']=void(0x19fe+0x242*-0x8+0x2*-0x3f7),(_0x8f5b61=this['material'])==null||_0x8f5b61['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x2ce370){const _0x114813=_0x2ce370['shaderDesc'],_0x34a5d7=_0x114813['vertexCode']?hn(_0x114813['vertexCode']):-0x1c1e+-0x22f2+-0x3f10*-0x1,_0x137fd5=_0x114813['fragmentCo'+'de']?hn(_0x114813['fragmentCo'+'de']):0x8ba+-0x8*0x1e2+-0x32b*-0x2,_0x24c41c=It['definesHas'+'h'](_0x2ce370['defines']);let _0x499b20=_0x114813['uniqueName']+'_'+_0x34a5d7+'_'+_0x137fd5+'_'+_0x24c41c;return _0x2ce370['skin']&&(_0x499b20+='_skin'),_0x2ce370['useInstanc'+'ing']&&(_0x499b20+='_inst'),_0x2ce370['useMorphPo'+'sition']&&(_0x499b20+='_morphp'),_0x2ce370['useMorphNo'+'rmal']&&(_0x499b20+='_morphn'),_0x2ce370['useMorphTe'+'xtureBased'+'Int']&&(_0x499b20+='_morphi'),_0x499b20;}['createAttr'+'ibutesDefi'+'nition'](_0x31986d,_0x2bf99b){const _0x5ca50b=_0x2bf99b['shaderDesc']['attributes'],_0x13b6b8=_0x5ca50b?{..._0x5ca50b}:void(0x1bb6+0x1405*-0x1+-0x7b1);_0x2bf99b['skin']&&(_0x13b6b8['vertex_bon'+'eWeights']=Ys,_0x13b6b8['vertex_bon'+'eIndices']=qt),(_0x2bf99b['useMorphPo'+'sition']||_0x2bf99b['useMorphNo'+'rmal'])&&(_0x13b6b8['morph_vert'+'ex_id']=ya),_0x31986d['attributes']=_0x13b6b8;}['createVert'+'exDefiniti'+'on'](_0x85413,_0x37fd3e,_0xda79be){const _0x25b958=_0x37fd3e['shaderDesc'];if(_0x85413['shaderLang'+'uage']===Ph)_0x85413['vertexCode']=_0x25b958['vertexCode'];else{const _0x5d1e41=new Map(_0xda79be),_0x1522c7=new Map(_0x37fd3e['defines']);_0x5d1e41['set']('transformI'+'nstancingV'+'S',''),_0x37fd3e['skin']&&_0x1522c7['set']('SKIN',!(-0x1*0xd9d+0x1e88+-0x10eb)),_0x37fd3e['useInstanc'+'ing']&&_0x1522c7['set']('INSTANCING',!(0x2a3+0x2*0xb1f+-0x18e1)),(_0x37fd3e['useMorphPo'+'sition']||_0x37fd3e['useMorphNo'+'rmal'])&&(_0x1522c7['set']('MORPHING',!(-0x19d5+-0xc96+0x266b)),_0x37fd3e['useMorphTe'+'xtureBased'+'Int']&&_0x1522c7['set']('MORPHING_I'+'NT',!(0x533*0x6+-0x9a2+-0x45*0x50)),_0x37fd3e['useMorphPo'+'sition']&&_0x1522c7['set']('MORPHING_P'+'OSITION',!(-0x8b3*-0x3+-0x77e+0x129b*-0x1)),_0x37fd3e['useMorphNo'+'rmal']&&_0x1522c7['set']('MORPHING_N'+'ORMAL',!(0xf4a+0x46a*0x2+-0x7*0x372))),_0x85413['vertexCode']=_0x25b958['vertexCode'],_0x85413['vertexIncl'+'udes']=_0x5d1e41,_0x85413['vertexDefi'+'nes']=_0x1522c7;}}['createFrag'+'mentDefini'+'tion'](_0x12684b,_0x3e1b39,_0x6761a2){const _0x50be1f=_0x3e1b39['shaderDesc'];if(_0x12684b['shaderLang'+'uage']===Ph)_0x12684b['fragmentCo'+'de']=_0x50be1f['fragmentCo'+'de'];else{const _0x273467=new Map(_0x6761a2),_0xe51616=new Map(_0x3e1b39['defines']);_0x12684b['fragmentCo'+'de']=_0x50be1f['fragmentCo'+'de'],_0x12684b['fragmentIn'+'cludes']=_0x273467,_0x12684b['fragmentDe'+'fines']=_0xe51616;}}['createShad'+'erDefiniti'+'on'](_0x37c25e,_0x942a87){const _0x17df0a=_0x942a87['shaderDesc'],_0x4868fb={'name':'ShaderMate'+'rial-'+_0x17df0a['uniqueName'],'shaderLanguage':_0x17df0a['shaderLang'+'uage'],'fragmentOutputTypes':_0x17df0a['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x17df0a['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x17df0a['meshBindGr'+'oupFormat']},_0xdd4573=new Map(Object['entries']({...X,..._0x942a87['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x4868fb,_0x942a87),this['createVert'+'exDefiniti'+'on'](_0x4868fb,_0x942a87,_0xdd4573),this['createFrag'+'mentDefini'+'tion'](_0x4868fb,_0x942a87,_0xdd4573),Mt['createDefi'+'nition'](_0x37c25e,_0x4868fb);}}const f1=new u1();class Ra extends yn{constructor(_0x30f148){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x30f148;}set['shaderDesc'](_0x458507){_0x458507&&(v['assert'](_0x458507['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x458507['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x458507?{..._0x458507}:void(-0xeff+0x3a+0xec5),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x2d54b2){return super['copy'](_0x2d54b2),this['shaderDesc']=_0x2d54b2['shaderDesc'],this;}['getShaderV'+'ariant'](_0x3ba57c){const {objDefs:_0x23fda1}=_0x3ba57c,_0x1ed9f3={'defines':Dp(this,_0x3ba57c),'skin':(_0x23fda1&Wc)!==-0xd05+0xaa4+0x261,'useInstancing':(_0x23fda1&$c)!==-0xbee*0x1+-0x2043*0x1+0xebb*0x3,'useMorphPosition':(_0x23fda1&qc)!==0xa12*-0x3+0x1*-0x7ef+0x69*0x5d,'useMorphNormal':(_0x23fda1&Xc)!==0x19*0xf3+0x152*0x2+-0x1a5f,'useMorphTextureBasedInt':(_0x23fda1&jc)!==-0x1*0x1b3d+0x1*0x1fdc+-0x49f,'pass':_0x3ba57c['pass'],'gamma':_0x3ba57c['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x3ba57c['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x3ba57c['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x5174a5=new Yc(_0x3ba57c['viewUnifor'+'mFormat'],_0x3ba57c['viewBindGr'+'oupFormat'],_0x3ba57c['vertexForm'+'at']),_0x122a45=ka(_0x3ba57c['device']);return _0x122a45['register']('shader-mat'+'erial',f1),_0x122a45['getProgram']('shader-mat'+'erial',_0x1ed9f3,_0x5174a5,this['userId']);}}const k0=(_0x2f74c3,_0x98a7f6)=>{const _0x5e761e=_0x98a7f6['length']/(0x810+0x17da+-0x1fe7*0x1),_0x523a7d=_0x2f74c3['length']/(0x12fc+-0xf37*-0x1+-0x2230),_0xfda876=new T(),_0x1cefaa=new T(),_0x28f9ab=new T(),_0x351704=new T(),_0x1051c1=new T(),_0x59e5e8=new T(),_0x4e2b95=[];for(let _0x2c3868=0x2ab*0x2+0x1af7+-0x204d*0x1;_0x2c3868<_0x2f74c3['length'];_0x2c3868++)_0x4e2b95[_0x2c3868]=-0x113d+0x3e5+0x1*0xd58;for(let _0xb2478f=-0xcf1*-0x1+0x1492+-0x2183;_0xb2478f<_0x5e761e;_0xb2478f++){const _0x189c37=_0x98a7f6[_0xb2478f*(0xfe*0x1d+-0x1d0d+0x4a)],_0x1bb808=_0x98a7f6[_0xb2478f*(-0xdcc*-0x1+0x217c+0x1*-0x2f45)+(0xcd8+-0x2361+0x1*0x168a)],_0x4f0b7f=_0x98a7f6[_0xb2478f*(0x15d7+0x1fb7*-0x1+-0x1*-0x9e3)+(0xe*0x1a5+0x3aa*-0x7+0x2a2)];_0xfda876['set'](_0x2f74c3[_0x189c37*(0x1*-0xe9b+0xf1*-0x12+0x10*0x1f9)],_0x2f74c3[_0x189c37*(-0x109*0x6+-0x457+0x1*0xa90)+(-0xd7a+0xc1*-0x32+-0xb*-0x4a7)],_0x2f74c3[_0x189c37*(0xf1*-0x23+0x5*-0x18a+-0x1*-0x28a8)+(-0x1d9*0xd+-0x1*-0x1e25+-0x3a*0x1b)]),_0x1cefaa['set'](_0x2f74c3[_0x1bb808*(-0x1afc+0x6af*-0x5+-0x26*-0x197)],_0x2f74c3[_0x1bb808*(-0xb02+-0x7*-0x377+-0xd3c)+(0xc4+-0x62*0xb+0x373)],_0x2f74c3[_0x1bb808*(-0x520*0x7+0x221a+0x1c9)+(0x44d+0x1a1c+-0x1e67)]),_0x28f9ab['set'](_0x2f74c3[_0x4f0b7f*(-0x24c+-0x2057+0x22a6)],_0x2f74c3[_0x4f0b7f*(0x1329*0x1+0x872+-0x1*0x1b98)+(0x2124+-0x6*-0x3a+-0x1*0x227f)],_0x2f74c3[_0x4f0b7f*(-0x1a88+0x565*-0x3+-0x2*-0x155d)+(-0x1f4e+-0x18ea+0x12be*0x3)]),_0x351704['sub2'](_0x1cefaa,_0xfda876),_0x1051c1['sub2'](_0x28f9ab,_0xfda876),_0x59e5e8['cross'](_0x351704,_0x1051c1)['normalize'](),_0x4e2b95[_0x189c37*(-0x1d*-0x1a+-0x25f8+0x1*0x2309)]+=_0x59e5e8['x'],_0x4e2b95[_0x189c37*(-0xfd1*-0x2+0x1f*-0x6c+-0x128b)+(0x20bf+0x155+0x1*-0x2213)]+=_0x59e5e8['y'],_0x4e2b95[_0x189c37*(-0x1fa2+-0x1*0x25fa+0x1c9*0x27)+(-0x20a8+-0x61e+0x88*0x49)]+=_0x59e5e8['z'],_0x4e2b95[_0x1bb808*(0x2*0x1172+0x4e5+0x6*-0x6a1)]+=_0x59e5e8['x'],_0x4e2b95[_0x1bb808*(0x16e7+-0xa13+-0xcd1)+(-0x86f+-0x1*-0x1863+-0x3*0x551)]+=_0x59e5e8['y'],_0x4e2b95[_0x1bb808*(-0xff4+-0x2c6+-0x171*-0xd)+(-0x1a68+-0x7de*-0x2+-0xaae*-0x1)]+=_0x59e5e8['z'],_0x4e2b95[_0x4f0b7f*(-0x21de+-0x1cc+0x23ad)]+=_0x59e5e8['x'],_0x4e2b95[_0x4f0b7f*(-0x1*-0x1a4a+-0x2236+-0x3*-0x2a5)+(0x551*0x3+0x1df9+0x2deb*-0x1)]+=_0x59e5e8['y'],_0x4e2b95[_0x4f0b7f*(0x7b8+-0x2*-0xc46+0x1*-0x2041)+(-0xdfd*-0x2+0x10ca*0x1+0x2a2*-0x11)]+=_0x59e5e8['z'];}for(let _0x181489=-0x1915+-0xc6+0x19db;_0x181489<_0x523a7d;_0x181489++){const _0x1883e0=_0x4e2b95[_0x181489*(0x1d28+-0x4*0x8b5+0x5af)],_0x32670f=_0x4e2b95[_0x181489*(0x148+0x1*-0x25e2+0x249d)+(0x57*0x51+0x12e6*-0x2+0x20e*0x5)],_0x3b5248=_0x4e2b95[_0x181489*(-0xf39*-0x1+-0x32b*0xb+-0x13a3*-0x1)+(0x2*0xddb+-0x73*-0x2e+0x182f*-0x2)],_0x4c167c=(0x396+0x49*-0x1c+-0x17*-0x31)/Math['sqrt'](_0x1883e0*_0x1883e0+_0x32670f*_0x32670f+_0x3b5248*_0x3b5248);_0x4e2b95[_0x181489*(0x1*0x18d9+0x1*-0xc46+-0xc90)]*=_0x4c167c,_0x4e2b95[_0x181489*(0xae7*0x3+0x16ac+0x1baf*-0x2)+(-0x1*0x2b5+-0x10aa+0xf8*0x14)]*=_0x4c167c,_0x4e2b95[_0x181489*(0x24e+-0xf83+0xd38)+(-0x1*0x1c05+0x4*0x6d9+0xa3)]*=_0x4c167c;}return _0x4e2b95;},fr=(_0x3f1594,_0x557348,_0x515c81,_0x26de79)=>{const _0x42967d=_0x26de79['length']/(-0x1*0x12f7+0x7*-0x4ad+0x33b5),_0x309461=_0x3f1594['length']/(0x10e2+-0xff0+-0xef),_0xd9f006=new T(),_0x559fa8=new T(),_0x21c9fe=new T(),_0xafb88e=new W(),_0x4a9007=new W(),_0x33bf87=new W(),_0x170a1b=new T(),_0x1af28c=new T(),_0x21f129=new Float32Array(_0x309461*(-0x2*0x102e+0x119+0x1f46)),_0x4db024=new Float32Array(_0x309461*(0x21dd+0x1*0x8a1+-0x3*0xe29)),_0x300da6=[];for(let _0x367875=0xc62+-0x235f+0x16fd;_0x367875<_0x42967d;_0x367875++){const _0x2bd890=_0x26de79[_0x367875*(0x2633+-0x19f9+0x3b*-0x35)],_0x194297=_0x26de79[_0x367875*(0x1af3+-0x124f+-0x8a1)+(0x4d6+0x3*0xbdf+-0xa7*0x3e)],_0x3f2b5a=_0x26de79[_0x367875*(0xa*-0x151+0x1ff7+-0x12ca)+(-0x18f9+0x169c+0x25f*0x1)];_0xd9f006['set'](_0x3f1594[_0x2bd890*(0x1c29*-0x1+0x1*-0xbc6+0x27f2*0x1)],_0x3f1594[_0x2bd890*(0x1382+0x3f*0x61+0x2b5e*-0x1)+(0x275*-0xa+0x101f+0x874)],_0x3f1594[_0x2bd890*(-0xc15*-0x2+-0x5*-0x139+-0x1e44)+(0xc6f+-0x2334+0x16c7)]),_0x559fa8['set'](_0x3f1594[_0x194297*(-0x26e1*-0x1+-0xb*0x157+-0x47*0x57)],_0x3f1594[_0x194297*(-0x62f+-0x1*-0x13eb+-0xdb9)+(-0xec3+0xbff*0x1+0x1*0x2c5)],_0x3f1594[_0x194297*(0x26c5*-0x1+-0x26ea+-0x2fd*-0x1a)+(-0x34f+-0x123f+0x1590)]),_0x21c9fe['set'](_0x3f1594[_0x3f2b5a*(-0x1*0xa60+-0x1eb*0x10+0x2913)],_0x3f1594[_0x3f2b5a*(-0x1da3+0x196c+0x43a)+(0xc92+0x8f2*0x1+-0x1583)],_0x3f1594[_0x3f2b5a*(-0xfe9*0x1+-0x9*0x44+0x1250)+(-0x237d+0x187*0x1+0x8*0x43f)]),_0xafb88e['set'](_0x515c81[_0x2bd890*(0x199e+-0x122c+-0x1dc*0x4)],_0x515c81[_0x2bd890*(0x24c4+-0x17e+0x3d*-0x94)+(0x1*0x1a55+-0x17*-0x10+-0x4*0x6f1)]),_0x4a9007['set'](_0x515c81[_0x194297*(0x2*-0x2d7+-0x3d7+0x987*0x1)],_0x515c81[_0x194297*(-0x2007*0x1+-0x1f9e+0x5*0xcbb)+(0x4c7*-0x1+-0xe*0x133+0x1592)]),_0x33bf87['set'](_0x515c81[_0x3f2b5a*(0x401+-0xe3e+0xa3f)],_0x515c81[_0x3f2b5a*(-0x58a*0x1+-0x136e+-0x17*-0x116)+(-0x1414*0x1+-0x215+-0x162a*-0x1)]);const _0x255c3d=_0x559fa8['x']-_0xd9f006['x'],_0x5236ad=_0x21c9fe['x']-_0xd9f006['x'],_0x41c2ba=_0x559fa8['y']-_0xd9f006['y'],_0x3e4d69=_0x21c9fe['y']-_0xd9f006['y'],_0x432e9c=_0x559fa8['z']-_0xd9f006['z'],_0x3100a1=_0x21c9fe['z']-_0xd9f006['z'],_0x2bc70a=_0x4a9007['x']-_0xafb88e['x'],_0x3fae79=_0x33bf87['x']-_0xafb88e['x'],_0x4bdc42=_0x4a9007['y']-_0xafb88e['y'],_0x2408c0=_0x33bf87['y']-_0xafb88e['y'],_0xc81669=_0x2bc70a*_0x2408c0-_0x3fae79*_0x4bdc42;if(_0xc81669===-0x5ef+-0x21bb*-0x1+-0x1bcc)_0x170a1b['set'](0x1*0x18d+-0xf*-0x136+-0x13b7,-0xa01+-0xf64+0xcb3*0x2,0x1c60+0x10f6+-0x2d56),_0x1af28c['set'](-0x206c+0x1*-0x15b+-0x2e*-0xbc,0x1276+0x1*-0x1085+-0x1f1,-0x199*0x2+-0x1*0x1579+0x4ef*0x5);else{const _0x47bb78=(0x4ee*0x1+0x15*0xeb+0xc1a*-0x2)/_0xc81669;_0x170a1b['set']((_0x2408c0*_0x255c3d-_0x4bdc42*_0x5236ad)*_0x47bb78,(_0x2408c0*_0x41c2ba-_0x4bdc42*_0x3e4d69)*_0x47bb78,(_0x2408c0*_0x432e9c-_0x4bdc42*_0x3100a1)*_0x47bb78),_0x1af28c['set']((_0x2bc70a*_0x5236ad-_0x3fae79*_0x255c3d)*_0x47bb78,(_0x2bc70a*_0x3e4d69-_0x3fae79*_0x41c2ba)*_0x47bb78,(_0x2bc70a*_0x3100a1-_0x3fae79*_0x432e9c)*_0x47bb78);}_0x21f129[_0x2bd890*(-0x6*-0xb8+-0x6cb*0x2+0x949)+(-0x1*0x1f+0x1*-0x1af9+0x1b18)]+=_0x170a1b['x'],_0x21f129[_0x2bd890*(0x14a6+0x113+-0x15b6)+(-0x1ad5*0x1+-0x2*-0xa06+0x6ca)]+=_0x170a1b['y'],_0x21f129[_0x2bd890*(0x1147*-0x1+-0x1*0x18d7+-0xf*-0x2cf)+(-0x218f+0x1cb1+-0x8*-0x9c)]+=_0x170a1b['z'],_0x21f129[_0x194297*(0x1f68+0x2153+-0x40b8)+(-0x3*0x59a+0x6ec+0x9e2)]+=_0x170a1b['x'],_0x21f129[_0x194297*(0x14e2+0x371*0x3+-0x1f32)+(-0x153*0x19+-0x167*-0x5+-0x83*-0x33)]+=_0x170a1b['y'],_0x21f129[_0x194297*(0x17c7+-0x56f+-0x169*0xd)+(0x15ce+0x2657+-0x3c23)]+=_0x170a1b['z'],_0x21f129[_0x3f2b5a*(-0x13cb*-0x1+0xb*0x27b+0x1*-0x2f11)+(-0xe42+0x32*-0x2+0x32*0x4b)]+=_0x170a1b['x'],_0x21f129[_0x3f2b5a*(0xb4a*-0x2+0x22ae+-0xc17)+(0x7ed*0x4+0x4*0x2d6+-0xe59*0x3)]+=_0x170a1b['y'],_0x21f129[_0x3f2b5a*(0x380+0x2148+-0x24c5*0x1)+(0x19*-0x14+-0x522*-0x4+-0x1292)]+=_0x170a1b['z'],_0x4db024[_0x2bd890*(0x6*0x1+-0xbb+0xb8)+(-0x29*0xba+-0x615*-0x4+0x576)]+=_0x1af28c['x'],_0x4db024[_0x2bd890*(0x205f+-0x275*-0x5+-0x2ca5)+(-0x191+-0xb1a*0x1+0xcac)]+=_0x1af28c['y'],_0x4db024[_0x2bd890*(0x13f*0x19+-0x15d0+-0x954)+(0x7*0x105+-0xa*-0x203+-0x1b3f)]+=_0x1af28c['z'],_0x4db024[_0x194297*(-0x1*-0x1cfb+-0x263*0xe+0x2*0x239)+(0x43a+-0x1475*-0x1+-0x18af)]+=_0x1af28c['x'],_0x4db024[_0x194297*(-0x119f+-0x6*0x4e9+0xb*0x448)+(-0x7bb+-0x19*-0x6d+-0x2e9)]+=_0x1af28c['y'],_0x4db024[_0x194297*(-0x1b27+0xab5*-0x3+0x3b49)+(-0x1f66+-0x2489+-0x1*-0x43f1)]+=_0x1af28c['z'],_0x4db024[_0x3f2b5a*(0xf22+0x424+-0x1343*0x1)+(-0x24dd*-0x1+-0x2200+-0x2dd)]+=_0x1af28c['x'],_0x4db024[_0x3f2b5a*(-0x1*-0x19c3+-0x1161+-0x85f)+(-0xc9*0x3+-0x1aa9+0x1d05)]+=_0x1af28c['y'],_0x4db024[_0x3f2b5a*(-0x155*-0x6+0x4d*0x25+0x2*-0x98e)+(0xdf7+-0x1074+0x1*0x27f)]+=_0x1af28c['z'];}const _0x531e0b=new T(),_0x51a6b9=new T(),_0x1ce90f=new T(),_0x9a503f=new T();for(let _0x4a9f47=-0x1*0x2605+0x2197+0x46e;_0x4a9f47<_0x309461;_0x4a9f47++){_0x1ce90f['set'](_0x557348[_0x4a9f47*(-0x898+-0x12de+-0xd*-0x21d)],_0x557348[_0x4a9f47*(-0x1335+0x8*-0x266+0x1*0x2668)+(0xe*-0xe5+0xddb+-0x11*0x14)],_0x557348[_0x4a9f47*(-0x14a5*-0x1+-0x87b+-0xc27)+(-0xb2*0x21+-0x1ba7+0x329b)]),_0x531e0b['set'](_0x21f129[_0x4a9f47*(0x23*-0x13+0x15*0x1c3+-0x2263)],_0x21f129[_0x4a9f47*(-0x1d*0x56+0x6d*-0x8+0x1*0xd29)+(0x11b7+0x169*-0x1+-0x56f*0x3)],_0x21f129[_0x4a9f47*(-0x7*0x1bb+0x276+0x9aa)+(-0x83*-0x25+-0x79d+-0xb50)]),_0x51a6b9['set'](_0x4db024[_0x4a9f47*(-0x2642+-0x14b*0x19+0x11a6*0x4)],_0x4db024[_0x4a9f47*(-0x49*-0x53+-0x89*0x2f+-0x17f*-0x1)+(0x14ed+0x797+-0x1c83)],_0x4db024[_0x4a9f47*(0x2515+-0xeb0+-0x23d*0xa)+(-0x2309+-0x1a6c+0x3d77*0x1)]);const _0x5ed27e=_0x1ce90f['dot'](_0x531e0b);_0x9a503f['copy'](_0x1ce90f)['mulScalar'](_0x5ed27e),_0x9a503f['sub2'](_0x531e0b,_0x9a503f)['normalize'](),_0x300da6[_0x4a9f47*(0x1d0c+-0x3f*-0x75+-0x39d3)]=_0x9a503f['x'],_0x300da6[_0x4a9f47*(0x213e+-0x1fb3+-0x1*0x187)+(0x14f+-0x3*-0xac+0x19*-0x22)]=_0x9a503f['y'],_0x300da6[_0x4a9f47*(0x23b0+0x16f4+-0x8*0x754)+(-0x1252*-0x1+0xc30+-0x1e80)]=_0x9a503f['z'],_0x9a503f['cross'](_0x1ce90f,_0x531e0b),_0x300da6[_0x4a9f47*(-0x1946+0x1769+-0x1e1*-0x1)+(0x52*-0x26+0x1*0x1879+-0xc4a)]=_0x9a503f['dot'](_0x51a6b9)<0x1df1+-0x11d4*-0x2+-0x4199?-(0x51*0x53+0x14a9+-0x2eeb):-0x14cd+-0x1b84+-0x5*-0x9aa;}return _0x300da6;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const Wu=(0x378+0x1b*0x162+-0x28ca)/(-0x2566+-0x1bed+0x4193*0x1),L_=-0x1317+0x2159+-0xe41-Wu*(-0x7c3+-0xba4+0x1369);class $u extends pn{constructor(_0x106e5e={}){super();const _0x336d1e=_0x106e5e['halfExtent'+'s']??new T(0x25*-0x81+-0x1004+0x22a9+0.5,0x29*0x5e+0x67*0x37+-0x252f+0.5,-0x1b1*-0xa+0xa9*-0x2+-0xf98+0.5),_0x3903e2=_0x106e5e['widthSegme'+'nts']??-0x859*0x1+0xd91+0x5*-0x10b,_0x328954=_0x106e5e['lengthSegm'+'ents']??0x2536+-0x17*0x5f+-0x1cac,_0x343605=_0x106e5e['heightSegm'+'ents']??0x6*-0x106+-0x2*0x7ed+0x15ff,_0x193806=_0x106e5e['yOffset']??0x5e6+-0x1391*0x1+0xdab,_0x14b0cc=-_0x336d1e['y']+_0x193806,_0x59339b=_0x336d1e['y']+_0x193806,_0xbb4273=[new T(-_0x336d1e['x'],_0x14b0cc,_0x336d1e['z']),new T(_0x336d1e['x'],_0x14b0cc,_0x336d1e['z']),new T(_0x336d1e['x'],_0x59339b,_0x336d1e['z']),new T(-_0x336d1e['x'],_0x59339b,_0x336d1e['z']),new T(_0x336d1e['x'],_0x14b0cc,-_0x336d1e['z']),new T(-_0x336d1e['x'],_0x14b0cc,-_0x336d1e['z']),new T(-_0x336d1e['x'],_0x59339b,-_0x336d1e['z']),new T(_0x336d1e['x'],_0x59339b,-_0x336d1e['z'])],_0x3c514b=[[0xc81*0x2+0xe9a+0x27*-0x104,0x1dd9+-0x432+-0x19a6,0x3a7+0x868+-0x1*0xc0c],[0xab0+0x2183+-0x2c2f,0x8*0x33+-0x140c+-0x1*-0x1279,-0x93*-0x8+0x7*0x281+-0x1618],[0x39b+-0x5*0x601+-0x1*-0x1a6d,0x13ea+-0x130d*0x2+0x2*0x919,0x2ec+-0x21ac+0x1ec6],[-0x10ae*-0x1+-0x49*-0x11+-0xa*0x227,0x11f4+0x1302+-0x24f6,-0x1fa4+-0x4ed*0x6+0x61f*0xa],[0xb3+-0xca2+0x10*0xbf,0x511+-0x3f*0x4c+0xe9*0xf,0xcb*-0xe+0x281*0x8+-0x8ec],[-0x1427+-0x1fc5+0x33f1,-0x12eb*-0x2+0x22c*-0x5+-0x2*0xd7d,0x9*0xfb+-0x648+-0x285]],_0x6cb66a=[[-0xea8+0x1451+-0x45*0x15,0x1b32+0xa18*0x1+0x102*-0x25,-0x1bdb+-0x248e+0x406a],[0x2686+0x205f*0x1+-0x46e5,0x46c+-0x1256*-0x1+-0x3cb*0x6,-(-0x6fd*-0x3+0xf*0x101+-0x2405)],[0x1*0x247c+-0x221b+0x7*-0x57,0x1*-0x1039+-0x15f6+0x2630,0x1f9c+0x1*-0x64f+-0x194d],[-0x2535+-0x1903*0x1+0x3e38,-(0x733+0x764+-0xe96),-0x1147+-0x8b*-0x5+0x4*0x3a4],[-0x13*-0x125+0x1*-0x1114+-0x18e*0x3,0x40c+0x1c07+0x1*-0x2013,0x6b4+-0xdec+-0xb*-0xa8],[-(0x1*0x1df9+0x1b88+0xe60*-0x4),-0x165+-0x17c9*0x1+0x192e,-0xfcb+-0x563+-0xa97*-0x2]],_0x39aa75={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x5d33aa=[],_0x166b7e=[],_0x101217=[],_0x486528=[];let _0x311827=-0x29*-0xa7+0x16fd+-0x31bc;const _0x3b12ec=(_0x1814be,_0x1ae5f0,_0x3be9e7)=>{const _0x4a3b05=new T(),_0x31dfa5=new T(),_0x2b2ec5=new T(),_0x1b0f01=new T();for(let _0x577266=0x2*0x923+-0x1fbb+0xd75;_0x577266<=_0x1ae5f0;_0x577266++)for(let _0x235be9=0x1*-0x24dd+-0x1f1b+-0x57*-0xc8;_0x235be9<=_0x3be9e7;_0x235be9++){_0x4a3b05['lerp'](_0xbb4273[_0x3c514b[_0x1814be][-0x121*0x2+-0x11b*-0x14+0x4d*-0x42]],_0xbb4273[_0x3c514b[_0x1814be][0xfb9+-0x1062+0x2*0x55]],_0x577266/_0x1ae5f0),_0x31dfa5['lerp'](_0xbb4273[_0x3c514b[_0x1814be][0xb82+-0x16e*0x3+0x21*-0x38]],_0xbb4273[_0x3c514b[_0x1814be][0x8*-0x4+-0x1139+0x115b]],_0x235be9/_0x3be9e7),_0x2b2ec5['sub2'](_0x31dfa5,_0xbb4273[_0x3c514b[_0x1814be][-0x18a7+-0x19ad+0x3254]]),_0x1b0f01['add2'](_0x4a3b05,_0x2b2ec5);let _0x5e97ec=_0x577266/_0x1ae5f0,_0x1aa9a9=_0x235be9/_0x3be9e7;_0x5d33aa['push'](_0x1b0f01['x'],_0x1b0f01['y'],_0x1b0f01['z']),_0x166b7e['push'](_0x6cb66a[_0x1814be][0x7*0x209+0x16ea+-0x2529],_0x6cb66a[_0x1814be][0x6cb+-0x11*-0x1ea+-0x2754],_0x6cb66a[_0x1814be][0x2db*0x8+-0x3f*0x35+0x6d*-0x17]),_0x101217['push'](_0x5e97ec,-0x1*0x12b+-0xcf6+0xc9*0x12-_0x1aa9a9),_0x5e97ec=_0x5e97ec*L_+Wu,_0x1aa9a9=_0x1aa9a9*L_+Wu,_0x5e97ec/=-0x1*0xd+-0x1*0x207a+0x208a,_0x1aa9a9/=0x6d*0x4a+-0x15b3*0x1+-0x9cc,_0x5e97ec+=_0x1814be%(0x142d+0xf88+0x23b2*-0x1)/(-0x867+0xe*-0x27+-0x2d*-0x3c),_0x1aa9a9+=Math['floor'](_0x1814be/(-0x14b9+-0x1*0x373+0x182f*0x1))/(-0x1244+-0x2583+0x37ca),_0x577266<_0x1ae5f0&&_0x235be9<_0x3be9e7&&(_0x486528['push'](_0x311827+_0x3be9e7+(-0x1845+0x254a+-0xd04),_0x311827+(0x253d+0xdbc+-0x32f8*0x1),_0x311827),_0x486528['push'](_0x311827+_0x3be9e7+(0x1b23+0x1774+-0x3296),_0x311827+_0x3be9e7+(0x53a*0x1+-0x1*0x163c+0x1104),_0x311827+(0x12f*0x3+-0x33c+0x50*-0x1))),_0x311827++;}};_0x3b12ec(_0x39aa75['FRONT'],_0x3903e2,_0x343605),_0x3b12ec(_0x39aa75['BACK'],_0x3903e2,_0x343605),_0x3b12ec(_0x39aa75['TOP'],_0x3903e2,_0x328954),_0x3b12ec(_0x39aa75['BOTTOM'],_0x3903e2,_0x328954),_0x3b12ec(_0x39aa75['RIGHT'],_0x328954,_0x343605),_0x3b12ec(_0x39aa75['LEFT'],_0x328954,_0x343605),this['positions']=_0x5d33aa,this['normals']=_0x166b7e,this['uvs']=_0x101217,this['uvs1']=_0x101217,this['indices']=_0x486528,_0x106e5e['calculateT'+'angents']&&(this['tangents']=fr(_0x5d33aa,_0x166b7e,_0x101217,_0x486528));}}class B0 extends pn{constructor(_0x20dc0d={}){super();const _0x1e29b0=_0x20dc0d['radius']??0x2*0x12f5+0x181a+-0x3e04+0.5,_0x3b57e9=_0x20dc0d['latitudeBa'+'nds']??-0x190c+-0x12bf*-0x1+0x3*0x21f,_0x4b1512=_0x20dc0d['longitudeB'+'ands']??0x1*0x14e8+-0x9f6+-0xae2,_0x5aead3=[],_0x1f1b37=[],_0x28f3e0=[],_0x2b9020=[];for(let _0x298bb9=0xe2+-0x1efe*0x1+-0x5e*-0x52;_0x298bb9<=_0x3b57e9;_0x298bb9++){const _0x10bf10=_0x298bb9*Math['PI']/_0x3b57e9,_0xef1ae9=Math['sin'](_0x10bf10),_0x1baada=Math['cos'](_0x10bf10);for(let _0x2b5f57=0xb8*-0x1+-0x2*0x95b+0x136e;_0x2b5f57<=_0x4b1512;_0x2b5f57++){const _0x396383=_0x2b5f57*(0x44c*-0x5+-0x6*-0x568+-0xaf2)*Math['PI']/_0x4b1512-Math['PI']/(-0x1440+-0xe1b*0x1+-0x13*-0x1cf),_0x242cf7=Math['sin'](_0x396383),_0x128ab3=Math['cos'](_0x396383)*_0xef1ae9,_0x115414=_0x1baada,_0x42c433=_0x242cf7*_0xef1ae9,_0x1b9bdd=-0x1557+-0x2227+0x377f-_0x2b5f57/_0x4b1512,_0x57dd9c=0x1936*-0x1+-0x66e*-0x1+-0x3*-0x643-_0x298bb9/_0x3b57e9;_0x5aead3['push'](_0x128ab3*_0x1e29b0,_0x115414*_0x1e29b0,_0x42c433*_0x1e29b0),_0x1f1b37['push'](_0x128ab3,_0x115414,_0x42c433),_0x28f3e0['push'](_0x1b9bdd,0x51d+0x987*0x1+0x3*-0x4e1-_0x57dd9c);}}for(let _0x298d0e=0xe9f+0xa47*0x1+-0x18e6*0x1;_0x298d0e<_0x3b57e9;++_0x298d0e)for(let _0x3f6d7e=0x1042+0x156+-0x8*0x233;_0x3f6d7e<_0x4b1512;++_0x3f6d7e){const _0x3e6626=_0x298d0e*(_0x4b1512+(-0x8c6*-0x4+-0x4d0*0x4+-0xfd7))+_0x3f6d7e,_0x12a431=_0x3e6626+_0x4b1512+(0x4d6*-0x7+-0x60f*-0x3+0x9*0x1be);_0x2b9020['push'](_0x3e6626+(0x187a+0x5f*0x30+-0x2a49),_0x12a431,_0x3e6626),_0x2b9020['push'](_0x3e6626+(0x15b4+-0x1925+0xe*0x3f),_0x12a431+(-0x1765+-0x1229*-0x2+-0xcec),_0x12a431);}this['positions']=_0x5aead3,this['normals']=_0x1f1b37,this['uvs']=_0x28f3e0,this['uvs1']=_0x28f3e0,this['indices']=_0x2b9020,_0x20dc0d['calculateT'+'angents']&&(this['tangents']=fr(_0x5aead3,_0x1f1b37,_0x28f3e0,_0x2b9020));}}class p1 extends B0{constructor(_0x51aefe={}){const _0x14bbd1=_0x51aefe['latitudeBa'+'nds']??0x1*-0x16c3+-0x13*-0x44+0x11c7,_0x496ba1=_0x51aefe['longitudeB'+'ands']??-0xb*-0x53+-0x5*-0xbd+-0x266*0x3;super({'radius':0.5,'latitudeBands':_0x14bbd1,'longitudeBands':_0x496ba1});const _0x255a4e=0xaf7*-0x1+-0x262+0xd59+0.1,_0x12ba6f=-0x5*-0x59f+0x1*-0x409+0x27*-0x9e+0.95,_0xba89cc=_0x12ba6f*_0x12ba6f,_0xea853=this['positions'];for(let _0x294915=0x2*0x6a+-0x15f0+-0x1*-0x151c;_0x294915<_0xea853['length'];_0x294915+=-0x8+-0x1*0x214f+0x3*0xb1e){const _0x28e4a8=_0xea853[_0x294915]/(0x10af*0x2+0xd*0x85+0x1*-0x281f+0.5);let _0x4056b9=_0xea853[_0x294915+(-0x1*0x9f3+-0x2f*0x5d+-0xb*-0x275)]/(-0x337*0x3+-0x11b6*0x1+-0x1b5b*-0x1+0.5);const _0x5a7d44=_0xea853[_0x294915+(0xb3*0xd+0x2cd*-0xc+-0x15*-0x12b)]/(0x1b*-0x125+0x1819+0x6ce+0.5);_0x4056b9<0x1be*0x1+0x867+-0xa25&&(_0x4056b9*=-0x1*-0x18b+0x218f+-0x231a+0.3,_0x28e4a8*_0x28e4a8+_0x5a7d44*_0x5a7d44<_0xba89cc&&(_0x4056b9=-(-0xb07+0xd*-0xc1+0x3e*0x56+0.1))),_0x4056b9+=_0x255a4e,_0x4056b9*=-0x512+0x1e15+0x151*-0x13+0.5,_0xea853[_0x294915+(-0x3c*-0x35+0x3a2+-0x1*0x100d)]=_0x4056b9;}}}class So{static['create'](_0x19369c,_0x607f89){switch(_0x607f89){case tw:return So['box'](_0x19369c);case sw:return So['dome'](_0x19369c);}return v['assert'](_0x607f89===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x607f89),So['infinite'](_0x19369c);}static['infinite'](_0x1cc15d){return Ie['fromGeomet'+'ry'](_0x1cc15d,new $u(_0x1cc15d));}static['box'](_0x2301c2){return Ie['fromGeomet'+'ry'](_0x2301c2,new $u({'yOffset':0.5}));}static['dome'](_0x54213a){const _0x4c978d=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x4c978d['normals']=void(-0x9b*-0x1a+0x4af+-0x146d),_0x4c978d['uvs']=void(-0x1*-0x155e+-0x24a2+0xf44),Ie['fromGeomet'+'ry'](_0x54213a,_0x4c978d);}}class m1{constructor(_0x5181b6,_0x4a3981,_0x3e2aeb,_0x393d98,_0x810bfd){c(this,'meshInstan'+'ce',null);const _0x509220=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x509220['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x393d98['encoding'])),_0x810bfd!==xo&&_0x509220['setDefine']('SKYMESH',''),_0x393d98['cubemap']&&_0x509220['setDefine']('SKY_CUBEMA'+'P',''),_0x509220['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x4a3981['skyboxHigh'+'lightMulti'+'plier']),_0x393d98['cubemap']?_0x509220['setParamet'+'er']('texture_cu'+'beMap',_0x393d98):(_0x509220['setParamet'+'er']('texture_en'+'vAtlas',_0x393d98),_0x509220['setParamet'+'er']('mipLevel',_0x4a3981['skyboxMip'])),_0x509220['cull']=mo,_0x509220['depthWrite']=!(-0x2221+0x103d+0x11e5);const _0x5c9901=_0x4a3981['layers']['getLayerBy'+'Id'](vp);if(_0x5c9901){const _0x58e74e=So['create'](_0x5181b6,_0x810bfd),_0x316b98=new Le(_0x58e74e,_0x509220,_0x3e2aeb);this['meshInstan'+'ce']=_0x316b98,_0x316b98['cull']=!(0x38*-0x4f+-0x3*-0xdd+0xeb2),_0x316b98['pick']=!(-0x1064+-0x2330+-0xa51*-0x5),_0x5c9901['addMeshIns'+'tances']([_0x316b98]),this['skyLayer']=_0x5c9901;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x35e9c7){c(this,'_type',xo),c(this,'_center',new T(-0x5cf+0xb01+-0x532,-0x2255+0x1686+0xbd0,0x9d6*-0x1+0x259d+-0x1bc7)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x35e9c7['device'],this['scene']=_0x35e9c7,this['center']=new T(-0x213f+-0x2153*-0x1+-0x14,-0xc8b*-0x2+-0x12e*0xd+0x1f3*-0x5,0x1055+-0x1*-0x140b+-0x2460),this['centerArra'+'y']=new Float32Array(0x1*-0x9a9+0xef5*0x1+-0x549),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x293f6b){this['type']=_0x293f6b['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x293f6b['skyMeshPos'+'ition']??[-0x8aa+0x1f95+-0x16eb,-0x1112+-0x1*0x113d+0x224f,0x1*0x238d+-0x5ad+-0x1de0])),this['node']['setLocalEu'+'lerAngles'](new T(_0x293f6b['skyMeshRot'+'ation']??[0x1b*-0x12d+0x121*-0x1f+0x42be*0x1,0x2064+-0x2135+0xd1,0x6c5+-0x2*0x977+0xc29])),this['node']['setLocalSc'+'ale'](new T(_0x293f6b['skyMeshSca'+'le']??[0x9e6+-0x135*0x13+0xd0a,0x1*0xa5d+0x232b*-0x1+0xdb*0x1d,0xe59*0x1+-0x91d+-0x53b])),_0x293f6b['skyCenter']&&(this['_center']=new T(_0x293f6b['skyCenter']));}set['type'](_0x29aa53){this['_type']!==_0x29aa53&&(this['_type']=_0x29aa53,this['scene']['updateShad'+'ers']=!(0x33*0xbf+-0xe2f+-0x17de),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x32574f){this['_center']['copy'](_0x32574f);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x15fb34=this['scene']['_getSkybox'+'Tex']();_0x15fb34&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x15fb34,this['type']),this['scene']['fire']('set:skybox',_0x15fb34));}['resetSkyMe'+'sh'](){var _0x1d0cd1;(_0x1d0cd1=this['skyMesh'])==null||_0x1d0cd1['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x139885,centerArray:_0x4ff89c}=this,_0x247534=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x139885,_0x247534),_0x4ff89c[-0x2000+0xeed*-0x1+0x2eed]=_0x247534['x'],_0x4ff89c[0x27*0x3d+0x2d9*0xb+-0x289d]=_0x247534['y'],_0x4ff89c[-0x1b84+0x1*-0x8e2+0x48d*0x8]=_0x247534['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x4ff89c);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x29*-0x2f+-0x1*0x890+-0x2*-0x85);class g1{constructor(_0x36e989,_0x3d0a0f,_0x196a54){this['material']=_0x3d0a0f,this['layer']=_0x196a54,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x36e989),this['meshInstan'+'ce']=null;}['addLines'](_0x1067fa,_0x17d3a0){const _0x2c78de=this['positions'],_0x5e747a=_0x1067fa['length'];for(let _0x4d8624=-0x23a1+0xa5*0x11+-0x18ac*-0x1;_0x4d8624<_0x5e747a;_0x4d8624++){const _0x3269aa=_0x1067fa[_0x4d8624];_0x2c78de['push'](_0x3269aa['x'],_0x3269aa['y'],_0x3269aa['z']);}const _0x480d42=this['colors'];if(_0x17d3a0['length'])for(let _0x2d482c=0x15cf+-0xf77+0x196*-0x4;_0x2d482c<_0x5e747a;_0x2d482c++){const _0x42d63c=_0x17d3a0[_0x2d482c];_0x480d42['push'](_0x42d63c['r'],_0x42d63c['g'],_0x42d63c['b'],_0x42d63c['a']);}else{for(let _0x14b775=-0x96f+0x2110+0x1*-0x17a1;_0x14b775<_0x5e747a;_0x14b775++)_0x480d42['push'](_0x17d3a0['r'],_0x17d3a0['g'],_0x17d3a0['b'],_0x17d3a0['a']);}}['addLinesAr'+'rays'](_0x54bdc0,_0x156042){const _0xca0866=this['positions'];for(let _0x5909a9=-0x2313+-0x26a6+-0x1b*-0x2bb;_0x5909a9<_0x54bdc0['length'];_0x5909a9+=0x18f4+0x1344+0x1*-0x2c35)_0xca0866['push'](_0x54bdc0[_0x5909a9],_0x54bdc0[_0x5909a9+(0x1b23+-0x215e+-0x2*-0x31e)],_0x54bdc0[_0x5909a9+(-0xaee*0x3+-0x7*-0x125+-0x8d*-0x2d)]);const _0x5071b8=this['colors'];if(_0x156042['length']){for(let _0x5b326e=-0x2463+-0x5*-0x138+0x1e4b;_0x5b326e<_0x156042['length'];_0x5b326e+=-0xdb6+-0xd34+0x1aee)_0x5071b8['push'](_0x156042[_0x5b326e],_0x156042[_0x5b326e+(0x24*-0x76+0x24b*0x9+0x2*-0x205)],_0x156042[_0x5b326e+(0x1035*0x1+-0x7*0x111+-0x56*0x1a)],_0x156042[_0x5b326e+(0x154+-0x1*0x2b7+0x166)]);}else{const _0x365420=_0x54bdc0['length']/(-0x25*0xdf+-0x541*-0x3+0x107b);for(let _0xa48e26=-0x1288+0x1bd8+-0x254*0x4;_0xa48e26<_0x365420;_0xa48e26++)_0x5071b8['push'](_0x156042['r'],_0x156042['g'],_0x156042['b'],_0x156042['a']);}}['onPreRende'+'r'](_0x1cbdc6,_0x29f496){this['positions']['length']>0x4*-0x611+-0x5*-0x5+0x182b&&this['material']['transparen'+'t']===_0x29f496&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(-0xb2*-0xc+-0x4*0x9c1+0x1ead)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x1cbdc6['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x16a+0x2465+-0x22fb,this['colors']['length']=0x1ec5+-0x2283+-0x1*-0x3be;}}class y1{constructor(_0x4e5dda){this['device']=_0x4e5dda,this['map']=new Map();}['getBatch'](_0x32605c,_0x434feb){let _0x58ebab=this['map']['get'](_0x32605c);return _0x58ebab||(_0x58ebab=new g1(this['device'],_0x32605c,_0x434feb),this['map']['set'](_0x32605c,_0x58ebab)),_0x58ebab;}['onPreRende'+'r'](_0x10686a,_0xc85e9c){this['map']['forEach'](_0x32e399=>{_0x32e399['onPreRende'+'r'](_0x10686a,_0xc85e9c);});}['clear'](){this['map']['forEach'](_0x24a7a7=>_0x24a7a7['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x26e809){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x26e809,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x209c64){const _0xe59c51=new Ra(x1);return _0xe59c51['blendType']=Kt,_0xe59c51['depthTest']=_0x209c64,_0xe59c51['update'](),_0xe59c51;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x16ec+0x18ca+0x1de*-0x1))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x1b78+-0x5*0xab+-0x20*0xc1))),this['_materialN'+'oDepth'];}['getBatch'](_0x12fd7e,_0x4e2aa7){let _0xa327af=this['batchesMap']['get'](_0x12fd7e);_0xa327af||(_0xa327af=new y1(this['device']),this['batchesMap']['set'](_0x12fd7e,_0xa327af)),this['allBatches']['add'](_0xa327af);const _0x2d0557=_0x4e2aa7?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0xa327af['getBatch'](_0x2d0557,_0x12fd7e);}['getShaderD'+'esc'](_0x3c5820,_0x38944c){return this['shaderDesc'+'s']['has'](_0x3c5820)||this['shaderDesc'+'s']['set'](_0x3c5820,{'uniqueName':'DebugShade'+'r:'+_0x3c5820,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x38944c,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x3c5820);}['getTexture'+'ShaderDesc'](_0x3a9da1){const _0x1b13ed=Es['decodeFunc'](_0x3a9da1);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x3a9da1,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x1b13ed+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x26ae*-0x1+0xb18+-0x2*0x18e3+0.5),-(0x10d5+-0x1*-0x1559+0x16a*-0x1b+0.5),-0x2*-0xd58+0xb*-0x130+-0xda0,0x1db2+-0xc8f+-0x1123*0x1+0.5,-(0x1*-0x10a7+0x2187*-0x1+0x322e*0x1+0.5),-0xb29+-0x7*0x47b+0x2a86,-(-0x2e*-0x2+0x7c4+-0x820+0.5),0x3a*-0xa+0x3fa+-0x1b6+0.5,0xea7+0x6*0x64d+0xd*-0x409,-0x13a*0x3+-0x1419+0x17c7+0.5,-0x159f+-0x38c*-0x3+0xafb*0x1+0.5,-0x5*-0x43d+0x2f*-0x25+-0xe66]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x48bba3,_0x81b50a,_0x4c6b13,_0x24b908,_0xd58af4){if(!_0x24b908){const _0x2b12d4=this['getGraphNo'+'de'](_0x81b50a);_0x24b908=new Le(_0x4c6b13,_0x48bba3,_0x2b12d4);}let _0x4a2eae=this['layerMeshI'+'nstances']['get'](_0xd58af4);_0x4a2eae||(_0x4a2eae=[],this['layerMeshI'+'nstances']['set'](_0xd58af4,_0x4a2eae)),_0x4a2eae['push'](_0x24b908);}['drawWireAl'+'ignedBox'](_0x34938d,_0x24e270,_0x48cb50,_0x47eb53,_0x304ad1,_0x21f80e){if(_0x21f80e){const _0x296791=(_0x25d550,_0xa4baac,_0x356298)=>{Ln['set'](_0x25d550,_0xa4baac,_0x356298),_0x21f80e['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x296791(_0x34938d['x'],_0x34938d['y'],_0x34938d['z']),_0x296791(_0x34938d['x'],_0x24e270['y'],_0x34938d['z']),_0x296791(_0x34938d['x'],_0x24e270['y'],_0x34938d['z']),_0x296791(_0x24e270['x'],_0x24e270['y'],_0x34938d['z']),_0x296791(_0x24e270['x'],_0x24e270['y'],_0x34938d['z']),_0x296791(_0x24e270['x'],_0x34938d['y'],_0x34938d['z']),_0x296791(_0x24e270['x'],_0x34938d['y'],_0x34938d['z']),_0x296791(_0x34938d['x'],_0x34938d['y'],_0x34938d['z']),_0x296791(_0x34938d['x'],_0x34938d['y'],_0x24e270['z']),_0x296791(_0x34938d['x'],_0x24e270['y'],_0x24e270['z']),_0x296791(_0x34938d['x'],_0x24e270['y'],_0x24e270['z']),_0x296791(_0x24e270['x'],_0x24e270['y'],_0x24e270['z']),_0x296791(_0x24e270['x'],_0x24e270['y'],_0x24e270['z']),_0x296791(_0x24e270['x'],_0x34938d['y'],_0x24e270['z']),_0x296791(_0x24e270['x'],_0x34938d['y'],_0x24e270['z']),_0x296791(_0x34938d['x'],_0x34938d['y'],_0x24e270['z']),_0x296791(_0x34938d['x'],_0x34938d['y'],_0x34938d['z']),_0x296791(_0x34938d['x'],_0x34938d['y'],_0x24e270['z']),_0x296791(_0x34938d['x'],_0x24e270['y'],_0x34938d['z']),_0x296791(_0x34938d['x'],_0x24e270['y'],_0x24e270['z']),_0x296791(_0x24e270['x'],_0x24e270['y'],_0x34938d['z']),_0x296791(_0x24e270['x'],_0x24e270['y'],_0x24e270['z']),_0x296791(_0x24e270['x'],_0x34938d['y'],_0x34938d['z']),_0x296791(_0x24e270['x'],_0x34938d['y'],_0x24e270['z']);}else Jt['push'](_0x34938d['x'],_0x34938d['y'],_0x34938d['z'],_0x34938d['x'],_0x24e270['y'],_0x34938d['z'],_0x34938d['x'],_0x24e270['y'],_0x34938d['z'],_0x24e270['x'],_0x24e270['y'],_0x34938d['z'],_0x24e270['x'],_0x24e270['y'],_0x34938d['z'],_0x24e270['x'],_0x34938d['y'],_0x34938d['z'],_0x24e270['x'],_0x34938d['y'],_0x34938d['z'],_0x34938d['x'],_0x34938d['y'],_0x34938d['z'],_0x34938d['x'],_0x34938d['y'],_0x24e270['z'],_0x34938d['x'],_0x24e270['y'],_0x24e270['z'],_0x34938d['x'],_0x24e270['y'],_0x24e270['z'],_0x24e270['x'],_0x24e270['y'],_0x24e270['z'],_0x24e270['x'],_0x24e270['y'],_0x24e270['z'],_0x24e270['x'],_0x34938d['y'],_0x24e270['z'],_0x24e270['x'],_0x34938d['y'],_0x24e270['z'],_0x34938d['x'],_0x34938d['y'],_0x24e270['z'],_0x34938d['x'],_0x34938d['y'],_0x34938d['z'],_0x34938d['x'],_0x34938d['y'],_0x24e270['z'],_0x34938d['x'],_0x24e270['y'],_0x34938d['z'],_0x34938d['x'],_0x24e270['y'],_0x24e270['z'],_0x24e270['x'],_0x24e270['y'],_0x34938d['z'],_0x24e270['x'],_0x24e270['y'],_0x24e270['z'],_0x24e270['x'],_0x34938d['y'],_0x34938d['z'],_0x24e270['x'],_0x34938d['y'],_0x24e270['z']);this['getBatch'](_0x304ad1,_0x47eb53)['addLinesAr'+'rays'](Jt,_0x48cb50),Jt['length']=0x3d*-0xd+-0x13a8+0x16c1;}['drawWireSp'+'here'](_0x3bed7a,_0x51153f,_0x249cec,_0xbf6ebc,_0x18efe6,_0x4e1cec){const _0x115dc9=(-0x1ee7+-0x1604+0x34ed)*Math['PI']/_0xbf6ebc;let _0x4dba9f=-0x818+0x2557*-0x1+-0x2d6f*-0x1;for(let _0x8cf723=-0x2523+0x1015+-0x6e*-0x31;_0x8cf723<_0xbf6ebc;_0x8cf723++){const _0x56180a=Math['sin'](_0x4dba9f),_0x255763=Math['cos'](_0x4dba9f);_0x4dba9f+=_0x115dc9;const _0x495be0=Math['sin'](_0x4dba9f),_0x1845c9=Math['cos'](_0x4dba9f);Jt['push'](_0x3bed7a['x']+_0x51153f*_0x56180a,_0x3bed7a['y'],_0x3bed7a['z']+_0x51153f*_0x255763),Jt['push'](_0x3bed7a['x']+_0x51153f*_0x495be0,_0x3bed7a['y'],_0x3bed7a['z']+_0x51153f*_0x1845c9),Jt['push'](_0x3bed7a['x']+_0x51153f*_0x56180a,_0x3bed7a['y']+_0x51153f*_0x255763,_0x3bed7a['z']),Jt['push'](_0x3bed7a['x']+_0x51153f*_0x495be0,_0x3bed7a['y']+_0x51153f*_0x1845c9,_0x3bed7a['z']),Jt['push'](_0x3bed7a['x'],_0x3bed7a['y']+_0x51153f*_0x56180a,_0x3bed7a['z']+_0x51153f*_0x255763),Jt['push'](_0x3bed7a['x'],_0x3bed7a['y']+_0x51153f*_0x495be0,_0x3bed7a['z']+_0x51153f*_0x1845c9);}this['getBatch'](_0x4e1cec,_0x18efe6)['addLinesAr'+'rays'](Jt,_0x249cec),Jt['length']=0x4e0+-0x305+-0x1db;}['getGraphNo'+'de'](_0x522337){const _0x329b15=new De('ImmediateD'+'ebug');return _0x329b15['worldTrans'+'form']=_0x522337,_0x329b15['_dirtyWorl'+'d']=_0x329b15['_dirtyNorm'+'al']=!(0x1941+0x1024+-0x2964),_0x329b15;}['onPreRende'+'rLayer'](_0x4b0b61,_0x261d78,_0x50d7e0){if(this['batchesMap']['forEach']((_0x4805e6,_0x3312a5)=>{_0x3312a5===_0x4b0b61&&_0x4805e6['onPreRende'+'r'](_0x261d78,_0x50d7e0);}),!this['updatedLay'+'ers']['has'](_0x4b0b61)){this['updatedLay'+'ers']['add'](_0x4b0b61);const _0xf0fa05=this['layerMeshI'+'nstances']['get'](_0x4b0b61);if(_0xf0fa05){for(let _0x1436d1=0x2e9+-0x2102+0x1e19;_0x1436d1<_0xf0fa05['length'];_0x1436d1++)_0x261d78['push'](_0xf0fa05[_0x1436d1]);_0xf0fa05['length']=-0x1af+0x25a5+-0x23f6;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x49e1c6=>_0x49e1c6['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(-0x1099+0x218f+0x14e*-0xd,-0xa06*0x2+0x25f9+-0xd*0x161,0x931+0x187f+0x70*-0x4d)),c(this,'density',0x35*-0x19+0xb0d+-0x5e0),c(this,'start',0x204+0x85*0x8+-0x1*0x62b),c(this,'end',0x144d+0x2*-0x11ef+0x1379);}}class ci extends ce{constructor(_0x317845){super(),c(this,'ambientBak'+'e',!(0x23bc+-0x3*-0xc59+0x1e*-0x26d)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x2*-0x12b2+0x1*-0x1bda+0x413e),c(this,'ambientBak'+'eOcclusion'+'Contrast',-0x10*0x1f7+0x1*0xefa+0x62*0x2b),c(this,'ambientLig'+'ht',new Y(-0x177*0x1+0x100*-0xd+0xe77,0x495*0x6+-0xc43+-0x7*0x22d,-0x1*-0x254b+0x851+-0x2d9c)),c(this,'ambientLum'+'inance',0x1bf2+0x783+-0x2375),c(this,'exposure',-0x1fe5+0xbf+-0x19*-0x13f),c(this,'lightmapSi'+'zeMultipli'+'er',-0xc*-0x13+0x1*-0xc59+0xb76),c(this,'lightmapMa'+'xResolutio'+'n',0x1158+0x4b*-0x5+-0x7e1),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x25*-0x18+-0x8*-0x3cc+-0x21d7)),c(this,'lightmapHD'+'R',!(0x8*0x388+-0x565+-0x16da)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0x2*0x24b+0xf32+-0x5*0x21f)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x317845,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x317845,this['_gravity']=new T(-0x7c*0x2f+0x47f*0x5+0x49,-(0x4f*-0x15+0xe62+-0x1*0x7de+0.8000000000000007),-0xafb+0x18c5+-0x1*0xdca),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x8*0x1ca+-0x152b+0x6dc,this['_skyboxLum'+'inance']=-0x1f80+0x22fb+-0x129*0x3,this['_skyboxMip']=0x2057+0x7*0x2f3+-0x34fc,this['_skyboxHig'+'hlightMult'+'iplier']=0x95*0x1+-0x1d28+-0x3e*-0x76,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x26c0+-0x10*-0x25a+0x121),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0x43*0x31+0x1de7*0x1+0x1*-0x1113,this['_ambientBa'+'keSpherePa'+'rt']=-0x66f+0xdcb+0x3*-0x274+0.4,this['_lightmapF'+'ilterRange']=-0x22*-0xa7+0x4*0x45d+-0x9e6*0x4,this['_lightmapF'+'ilterSmoot'+'hness']=-0x35*0x99+0x1aea+0x4c3*0x1+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x2*0x458+-0x9d*-0x2e+-0x24e6),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x5*0x12d+0x2*0x3+-0x1*0x5e7);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x10c*-0x16+-0x1804+0xbc3*0x4),this['_shaderVer'+'sion']=-0x1*-0x1763+-0x1154+-0x60f,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x35f426){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x35f426),0x1*-0x3c8+-0x21a8+0x2571,-0x1*0x1e86+-0x13e1+0x3366*0x1);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0xdbf83a){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0xdbf83a,0x1b6b+0x2289*-0x1+0x71e+0.001,0x14*0xce+-0x1f3*-0xb+0x2588*-0x1);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x356443){if(this['device']['isWebGPU']&&!_0x356443){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x356443){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x356443;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x169415){_0x169415!==this['_envAtlas']&&(this['_envAtlas']=_0x169415,_0x169415&&(_0x169415['addressU']=ae,_0x169415['addressV']=ae,_0x169415['minFilter']=st,_0x169415['magFilter']=st,_0x169415['mipmaps']=!(0x19e6+-0x1*0x1b7f+-0xcd*-0x2)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x318142){const _0x2d21d1=this['_layers'];this['_layers']=_0x318142,this['fire']('set:layers',_0x2d21d1,_0x318142);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x3b252f){this['_lightmapF'+'ilterRange']=Math['max'](_0x3b252f,0x1*0x1843+-0x2*-0x223+-0x1c89+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x4533a1){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x4533a1,0x3*0x67+-0x1d24+0x1bef+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x216171){_0x216171=_0x216171||[];const _0x32f243=this['_prefilter'+'edCubemaps'];(_0x32f243['length']!==_0x216171['length']||_0x32f243['some']((_0x3df7ef,_0x59a565)=>_0x3df7ef!==_0x216171[_0x59a565]))&&(_0x216171['length']===0x267d+0x1*0xe+-0x2685&&_0x216171['every'](_0x28b42d=>!!_0x28b42d)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x216171,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x216171['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x54d50a){_0x54d50a!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x54d50a,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x4fc763){_0x4fc763!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x4fc763,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x586f63){_0x586f63!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x586f63,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x222a80){_0x222a80!==this['_skyboxMip']&&(this['_skyboxMip']=_0x222a80,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x261f71){_0x261f71!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x261f71,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x23a904){if(!this['_skyboxRot'+'ation']['equals'](_0x23a904)){const _0x5976b8=_0x23a904['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x23a904),_0x5976b8?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x23a904,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x5976b8&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x14d0+0x1f4e+0x1*-0xa7e),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x2e1bf8,_0x37c494,_0x5ce7d2=Y['WHITE'],_0x321144=!(-0x22*0x1c+-0x1*0x1567+0x191f),_0x7bfe3=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x7bfe3,_0x321144)['addLines']([_0x2e1bf8,_0x37c494],[_0x5ce7d2,_0x5ce7d2]);}['drawLines'](_0x5cc407,_0x32141d,_0x32b685=!(-0xbec+-0x1adf+0x26cb),_0x5bbbd3=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5bbbd3,_0x32b685)['addLines'](_0x5cc407,_0x32141d);}['drawLineAr'+'rays'](_0x259dff,_0x15fbd4,_0x2eb13e=!(-0x25a5*0x1+-0xb25+-0x30ca*-0x1),_0x1f6102=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x1f6102,_0x2eb13e)['addLinesAr'+'rays'](_0x259dff,_0x15fbd4);}['applySetti'+'ngs'](_0x368aef){const _0x4514be=_0x368aef['physics'],_0x4d0f7c=_0x368aef['render'];this['_gravity']['set'](_0x4514be['gravity'][0x111d+-0xab7*-0x1+-0x1bd4],_0x4514be['gravity'][0xa6+-0x2*0x176+0x247],_0x4514be['gravity'][-0x573+-0x2*-0xf92+-0x1*0x19af]),this['ambientLig'+'ht']['set'](_0x4d0f7c['global_amb'+'ient'][0x1*-0xe92+0x2*-0x287+0x13a0],_0x4d0f7c['global_amb'+'ient'][-0x2*-0x1053+-0x229d+0x1f8],_0x4d0f7c['global_amb'+'ient'][0x124d+-0x1916+-0x2f*-0x25]),this['ambientLum'+'inance']=_0x4d0f7c['ambientLum'+'inance'],this['fog']['type']=_0x4d0f7c['fog'],this['fog']['color']['set'](_0x4d0f7c['fog_color'][-0x2060+0x42+0x2*0x100f],_0x4d0f7c['fog_color'][0x1636+-0x1f0d+0x8d8],_0x4d0f7c['fog_color'][0x320*-0x1+-0x1c0e+0x1f30]),this['fog']['start']=_0x4d0f7c['fog_start'],this['fog']['end']=_0x4d0f7c['fog_end'],this['fog']['density']=_0x4d0f7c['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x4d0f7c['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x4d0f7c['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x4d0f7c['lightmapMo'+'de'],this['exposure']=_0x4d0f7c['exposure'],this['_skyboxInt'+'ensity']=_0x4d0f7c['skyboxInte'+'nsity']??0x15e9*-0x1+-0x57a+-0x1b64*-0x1,this['_skyboxLum'+'inance']=_0x4d0f7c['skyboxLumi'+'nance']??-0x5e*0x16+-0xa63+-0x139*-0x4f,this['_skyboxMip']=_0x4d0f7c['skyboxMip']??-0x143f*-0x1+0x16f0+-0x3*0xe65,_0x4d0f7c['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x4d0f7c['skyboxRota'+'tion'][-0x6*-0x9a+-0x19*0x83+0x92f],_0x4d0f7c['skyboxRota'+'tion'][0x1098+0x1d29+0x60*-0x7a],_0x4d0f7c['skyboxRota'+'tion'][-0x16f*0x2+0x2483+-0x21a3])),this['sky']['applySetti'+'ngs'](_0x4d0f7c),this['clusteredL'+'ightingEna'+'bled']=_0x4d0f7c['clusteredL'+'ightingEna'+'bled']??!(0x10cc+0xfd9+-0x20a4),this['lighting']['applySetti'+'ngs'](_0x4d0f7c),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x3f4c30=>{_0x4d0f7c['hasOwnProp'+'erty'](_0x3f4c30)&&(this[_0x3f4c30]=_0x4d0f7c[_0x3f4c30]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x4f6447=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x4f6447[[-0x24e8+-0x1*-0xd59+0x178f,0x9b5+-0x9*-0x300+-0x24b4,0x15f3*0x1+0x1f86+-0x3576,0xa3*-0x9+-0x21b6+0x2775,0x1*0x2228+-0x3b3+-0x1e70,0x1806+0x1*0x1529+0x1*-0x2d29][this['_skyboxMip']]]||this['_envAtlas']||_0x4f6447[0xeb8+-0x1cc6+0xe0e]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x4f6447[0x692*0x1+0xd74+-0x1406]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x1816+-0x15*-0x93+-0x2425*0x1);}['setSkybox'](_0x283ff6){_0x283ff6?(this['skybox']=_0x283ff6[-0x19*0x161+0x1887+0x9f2]||null,_0x283ff6[-0x830*-0x1+-0x3*0x316+0x5*0x37]&&!_0x283ff6[-0xd3*-0x1f+0x13a2+-0x2d2e]['cubemap']?this['envAtlas']=_0x283ff6[0x1*-0x25c+0x102+-0x1*-0x15b]:this['prefiltere'+'dCubemaps']=_0x283ff6['slice'](-0x1*-0x719+-0x1c00+-0x6*-0x37c)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x113a7e,_0x37f800,_0x432475){this['device']=_0x113a7e,this['inverseBin'+'dPose']=_0x37f800,this['boneNames']=_0x432475;}}const b1=[-0x1ba9+0x599+0x1610,0x1f8e*0x1+-0x56f*-0x5+-0x3ab9*0x1,0x51*-0x1+0xf94*0x2+-0x1*0x1ed6,-0x1*-0x1664+0x1d48+-0x33ac*0x1,-0x15ef+-0x172c+0xf09*0x3,0xe8d+0x19d2+-0x285e,-0xf67*-0x1+-0x1*-0x907+-0x186e,0x8b1*-0x1+0x1df*0x13+-0x6b7*0x4,-0xb81*-0x1+-0x1499*0x1+-0x919*-0x1,-0x2131+0xa3f+0x16f2,0x22d2+-0x16d4+-0x133*0xa,0x82e+-0x205c+0x29*0x97],w1=[-0xab6+-0xc3*-0x1f+-0xce7,0x2663+0x3*0x88+-0x27fa,-0x1*-0x102c+-0x443*-0x2+-0x18af*0x1,-0x1a36+0x2120+-0x6e8,0x3b+-0x33b*-0x5+0x3*-0x575,0x1334+-0x1399+-0x11*-0x6];class T1 extends ce{constructor(_0x4691ea,_0x4c649c){super(),this['_device']=_0x4691ea,this['_pixelsPer'+'Unit']=_0x4c649c&&_0x4c649c['pixelsPerU'+'nit']!==void(0x29*0xa9+0x557*-0x1+-0x135*0x12)?_0x4c649c['pixelsPerU'+'nit']:0x40*0x98+-0x18a*0x18+-0x10f,this['_renderMod'+'e']=_0x4c649c&&_0x4c649c['renderMode']!==void(-0x23b3+-0xde*-0x1a+0xd27)?_0x4c649c['renderMode']:Ti,this['_atlas']=_0x4c649c&&_0x4c649c['atlas']!==void(-0x1*-0x1599+0xc0d*-0x3+0x1b*0x8a)?_0x4c649c['atlas']:null,this['_frameKeys']=_0x4c649c&&_0x4c649c['frameKeys']!==void(0x52+0x1c7+-0x219)?_0x4c649c['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x1*-0x1a6c+-0xb*0xb1+-0x12d0),this['_meshesDir'+'ty']=!(-0x1a7e+0xf00+-0x1b*-0x6d),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x1857d0){this['_frameKeys']=_0x1857d0,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xa20+-0x3*-0x841+-0x3*0x4e1):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x1857d0);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x8fa7d0){_0x8fa7d0!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x8fa7d0,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x3b9*0x1+0x956*-0x1+0xd0f):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x8fa7d0));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0xf76f00){this['_pixelsPer'+'Unit']!==_0xf76f00&&(this['_pixelsPer'+'Unit']=_0xf76f00,this['fire']('set:pixels'+'PerUnit',_0xf76f00),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1393*-0x1+0xd4b+-0x20de):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x3ebc68){if(this['_renderMod'+'e']===_0x3ebc68)return;const _0x933877=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x3ebc68,this['fire']('set:render'+'Mode',_0x3ebc68),(_0x933877===Ti||_0x3ebc68===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x8*-0xf+-0xd01+-0x1*-0xd79):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x2b6187=this['_meshes']['length'];for(let _0x2d9a4a=0x1fb+-0xa62+0x867;_0x2d9a4a<_0x2b6187;_0x2d9a4a++){const _0xc98a8d=this['_meshes'][_0x2d9a4a];_0xc98a8d&&_0xc98a8d['destroy']();}const _0x2360ac=this['_frameKeys']['length'];this['_meshes']=new Array(_0x2360ac);const _0x5903bc=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x5613db=-0x2615+-0x1de2+0x7f*0x89;_0x5613db<_0x2360ac;_0x5613db++){const _0x3bb4b4=this['_atlas']['frames'][this['_frameKeys'][_0x5613db]];this['_meshes'][_0x5613db]=_0x3bb4b4?_0x5903bc['call'](this,_0x3bb4b4):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x109a10){const _0x42a628=_0x109a10['rect'],_0x2b211=this['_atlas']['texture']['width'],_0xdf7e03=this['_atlas']['texture']['height'],_0x53b304=_0x42a628['z']/this['_pixelsPer'+'Unit'],_0x480b50=_0x42a628['w']/this['_pixelsPer'+'Unit'],_0x5104a9=_0x109a10['pivot']['x'],_0x2ca766=_0x109a10['pivot']['y'],_0x4b6f24=[-_0x5104a9*_0x53b304,-_0x2ca766*_0x480b50,-0xb*-0x17+0x1cb+-0x164*0x2,(0xcc2+0x2*-0x1322+0x1983-_0x5104a9)*_0x53b304,-_0x2ca766*_0x480b50,0x1f59+0x4*-0x427+-0xebd,(-0x17c7+-0x1*0xa2+0x186a-_0x5104a9)*_0x53b304,(0x4dc+0x2495+-0x2970-_0x2ca766)*_0x480b50,0x9*-0x3a6+0x783+0x1953,-_0x5104a9*_0x53b304,(0x17b3*0x1+-0x6d7*-0x3+-0x2c37-_0x2ca766)*_0x480b50,-0x44*0x16+-0x6*-0x574+-0x1ae0],_0x2efe34=_0x42a628['x']/_0x2b211,_0x1cfff7=0x19cc*-0x1+0x26*-0x92+-0x3*-0xfd3-_0x42a628['y']/_0xdf7e03,_0x488d7b=(_0x42a628['x']+_0x42a628['z'])/_0x2b211,_0x3a4f8b=0x2348+0x3*-0x6d7+-0x761*0x2-(_0x42a628['y']+_0x42a628['w'])/_0xdf7e03,_0x3263ce=[_0x2efe34,_0x1cfff7,_0x488d7b,_0x1cfff7,_0x488d7b,_0x3a4f8b,_0x2efe34,_0x3a4f8b],_0x210bd6=new pn();return _0x210bd6['positions']=_0x4b6f24,_0x210bd6['normals']=b1,_0x210bd6['uvs']=_0x3263ce,_0x210bd6['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x210bd6);}['_create9Sl'+'iceMesh'](){const _0x7360b1=W['ONE'],_0x4665ad=-0xb*-0x14d+0x1e05+-0x2c51,_0x16aabd=-0x1463+0xe13+-0x1*-0x653,_0x2e5a35=[],_0xacd336=[],_0x116780=[],_0x55ec04=[];let _0x303ff2=-0x3*-0x3c5+0x18e*0x17+-0x1*0x2f11;for(let _0x9d3f95=0x83*0xb+0x34f*-0x1+-0x252;_0x9d3f95<=_0x4665ad;_0x9d3f95++){const _0x49996c=_0x9d3f95===-0x118*-0x1d+0x1768+-0x38*0xfc||_0x9d3f95===_0x4665ad?0x1b0*0xe+0x1ced+0xb*-0x4c7:-0x3*0x6ee+0x1902+0x1*-0x437;for(let _0x80ffd6=-0x67f*0x1+0x9b4+-0x1*0x335;_0x80ffd6<=_0x16aabd;_0x80ffd6++){const _0xb029bf=-_0x7360b1['x']+(-0x8ef*-0x2+-0x67e+-0xa*0x123)*_0x7360b1['x']*(_0x9d3f95<=0x2*0xc6f+-0x487*-0x4+0x39*-0xc1?0x23ca+0x165a+0x4*-0xe89:-0x17*0xf7+-0x2*0xb33+0x2c9a)/_0x4665ad,_0x307f61=0x2639+-0x37*0xa+-0x2413,_0x39b57d=-(-_0x7360b1['y']+(0xf88+0xc4*-0x29+0xfde)*_0x7360b1['y']*(_0x80ffd6<=0xab*-0x2c+0x4c9*0x4+0x3*0x36b?-0x1052+-0x1c2b+0x2c7d:0x6bc*-0x5+-0x3*-0x917+-0x66a*-0x1)/_0x16aabd),_0x4bb4d3=_0x80ffd6===0x7e3*0x1+-0x1*0x22d9+-0x3da*-0x7||_0x80ffd6===_0x16aabd?0xc59+-0x23e8+0x178f:-0x12f0+-0x13ed+-0x136f*-0x2;_0x2e5a35['push'](-_0xb029bf,_0x307f61,_0x39b57d),_0xacd336['push'](0x1de2+-0x579+0x1*-0x1869,0x1f*-0x12e+-0x1de4+-0x4277*-0x1,-0x1*-0x11f5+0x2027+-0x85a*0x6),_0x116780['push'](_0x49996c,_0x4bb4d3),_0x9d3f95<_0x4665ad&&_0x80ffd6<_0x16aabd&&(_0x55ec04['push'](_0x303ff2+_0x16aabd+(0x1*0x22ce+-0x1cb3+-0x61a),_0x303ff2+(0x6b*-0x3+-0x2*-0x9c+0x2*0x5),_0x303ff2),_0x55ec04['push'](_0x303ff2+_0x16aabd+(0x2487+0xddb+0x10cb*-0x3),_0x303ff2+_0x16aabd+(0x1665+0x1c1d+0xca*-0x40),_0x303ff2+(-0x2*0x12e6+0x2*-0xb06+0x1*0x3bd9))),_0x303ff2++;}}const _0x4887a5=new pn();return _0x4887a5['positions']=_0x2e5a35,_0x4887a5['normals']=_0xacd336,_0x4887a5['uvs']=_0x116780,_0x4887a5['indices']=_0x55ec04,Ie['fromGeomet'+'ry'](this['_device'],_0x4887a5);}['_onSetFram'+'es'](_0x4b25ad){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x2*-0xea5+-0x1243*-0x1+-0x2f8d):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x900077,_0x2b772d){const _0x220432=this['_frameKeys']['indexOf'](_0x900077);_0x220432<-0xbd*-0x29+0x23b*0x5+-0x296c||(_0x2b772d?this['renderMode']===Ti&&(this['_meshes'][_0x220432]=this['_createSim'+'pleMesh'](_0x2b772d)):this['_meshes'][_0x220432]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x75f1bb){const _0x280a64=this['_frameKeys']['indexOf'](_0x75f1bb);_0x280a64<-0x3b6+0xe03+0x3*-0x36f||(this['_meshes'][_0x280a64]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x47*0x79+0xf52+0x123d),this['_meshesDir'+'ty']=!(-0xb14*-0x1+0x1*-0xd6f+0x25c);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x21b1+-0xb*-0x49+-0x1*0x24d3),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x68f*-0x4+-0xb73+-0xec8);}['destroy'](){for(const _0x3491f2 of this['_meshes'])_0x3491f2&&_0x3491f2['destroy']();this['_meshes']['length']=-0x412*0x3+-0xc5a*-0x1+-0x24;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x3882ba){this['_texture']=_0x3882ba,this['fire']('set:textur'+'e',_0x3882ba);}get['texture'](){return this['_texture'];}set['frames'](_0x25064a){this['_frames']=_0x25064a,this['fire']('set:frames',_0x25064a);}get['frames'](){return this['_frames'];}['setFrame'](_0x4b9728,_0x11eef6){let _0x2f87e3=this['_frames'][_0x4b9728];_0x2f87e3?(_0x2f87e3['rect']['copy'](_0x11eef6['rect']),_0x2f87e3['pivot']['copy'](_0x11eef6['pivot']),_0x2f87e3['border']['copy'](_0x11eef6['border'])):(_0x2f87e3={'rect':_0x11eef6['rect']['clone'](),'pivot':_0x11eef6['pivot']['clone'](),'border':_0x11eef6['border']['clone']()},this['_frames'][_0x4b9728]=_0x2f87e3),this['fire']('set:frame',_0x4b9728['toString'](),_0x2f87e3);}['removeFram'+'e'](_0x237951){const _0x1f548b=this['_frames'][_0x237951];_0x1f548b&&(delete this['_frames'][_0x237951],this['fire']('remove:fra'+'me',_0x237951['toString'](),_0x1f548b));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x3e8157,_0x55165b,_0x3656bb,_0x5dc49b){this['time']=_0x3e8157,this['position']=_0x55165b,this['rotation']=_0x3656bb,this['scale']=_0x5dc49b;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',0x45e+-0x195b+-0x3*-0x6ff),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x3b21bd){return this['_nodeDict'][_0x3b21bd];}['addNode'](_0x3abc54){this['_nodes']['push'](_0x3abc54),this['_nodeDict'][_0x3abc54['_name']]=_0x3abc54;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0x133*0x1f+-0x181b+-0xd11),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x512a12){this['_targetNod'+'e']=_0x512a12;}}class Wd{constructor(_0x376170){c(this,'looping',!(0x1e2c+0x9d*0x3e+-0x4432)),(this['_animation']=null,this['_time']=0x252a+-0x6*0x4c0+0x2*-0x455,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x5ccd48=_0x58ce6a=>{const _0x18661b=new E1();_0x18661b['_name']=_0x58ce6a['name'],this['_interpola'+'tedKeys']['push'](_0x18661b),this['_interpola'+'tedKeyDict'][_0x58ce6a['name']]=_0x18661b,this['_currKeyIn'+'dices'][_0x58ce6a['name']]=0x821+-0xb*-0x2e9+-0x1*0x2824;for(let _0x19d318=-0x7*0x225+-0x16*-0x82+0x3d7;_0x19d318<_0x58ce6a['_children']['length'];_0x19d318++)_0x5ccd48(_0x58ce6a['_children'][_0x19d318]);};_0x5ccd48(_0x376170);}set['animation'](_0x502eb0){this['_animation']=_0x502eb0,this['currentTim'+'e']=-0x1*0x1a11+-0xefc+0x290d;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x6bed7){this['_time']=_0x6bed7;const _0x150b9b=this['_interpola'+'tedKeys']['length'];for(let _0x187e1a=-0x1*0x1995+-0x19ce+-0x3*-0x1121;_0x187e1a<_0x150b9b;_0x187e1a++){const _0x572181=this['_interpola'+'tedKeys'][_0x187e1a]['_name'];this['_currKeyIn'+'dices'][_0x572181]=-0xa*0x376+-0x256*-0x7+0x1242;}this['addTime'](-0x1b08+-0x1b45*-0x1+-0x3d*0x1),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x5556b4){if(this['_animation']!==null){const _0x21cd94=this['_animation']['_nodes'],_0x434e70=this['_animation']['duration'];if(this['_time']===_0x434e70&&!this['looping'])return;if(this['_time']+=_0x5556b4,this['_time']>_0x434e70){this['_time']=this['looping']?0x136f*0x2+0x1903+-0x17*0x2c7:_0x434e70;for(let _0x77b702=0x2*-0xb99+-0x22ab+0x39dd;_0x77b702<_0x21cd94['length'];_0x77b702++){const _0x17463a=_0x21cd94[_0x77b702]['_name'];this['_currKeyIn'+'dices'][_0x17463a]=-0x7ae*0x1+0x3*0x8d7+-0x1*0x12d7;}}else{if(this['_time']<0x1763+-0x2584+0x1*0xe21){this['_time']=this['looping']?_0x434e70:0x3*-0xaad+-0x22f0+0x42f7;for(let _0x275fe1=-0x1f01+0x227*-0xd+0x3afc;_0x275fe1<_0x21cd94['length'];_0x275fe1++){const _0x37ea71=_0x21cd94[_0x275fe1],_0x1bc389=_0x37ea71['_name'];this['_currKeyIn'+'dices'][_0x1bc389]=_0x37ea71['_keys']['length']-(-0x1eb5+0xfe5+0xed2);}}}const _0x3864e4=_0x5556b4>=-0x410+0xd64*-0x1+0x1174*0x1?-0x843+-0x3*0xac+0xa48:-(-0xf*-0xb7+0x5*-0x587+0x10eb);for(let _0x5282bd=0x7*-0x2bd+-0x7ae*-0x3+0x1*-0x3df;_0x5282bd<_0x21cd94['length'];_0x5282bd++){const _0x584fc1=_0x21cd94[_0x5282bd],_0x4cfe47=_0x584fc1['_name'],_0x34bf14=_0x584fc1['_keys'],_0xc2c63b=this['_interpola'+'tedKeyDict'][_0x4cfe47];if(_0xc2c63b===void(0x1e33+0x6b3+-0x24e6)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x4cfe47);continue;}let _0x5ae775=!(0x20e2+0xfa6+-0x3087);if(_0x34bf14['length']!==0x2211*-0x1+-0x1b7*0xb+0x34ef)for(let _0x1ab4db=this['_currKeyIn'+'dices'][_0x4cfe47];_0x1ab4db<_0x34bf14['length']-(0x20cf+0x1*0x1196+-0x866*0x6)&&_0x1ab4db>=0x12d*0xb+-0x500*-0x5+-0x25ef;_0x1ab4db+=_0x3864e4){const _0x374e46=_0x34bf14[_0x1ab4db],_0x22b604=_0x34bf14[_0x1ab4db+(-0x4b2*-0x8+-0x92f*-0x4+-0x1*0x4a4b)];if(_0x374e46['time']<=this['_time']&&_0x22b604['time']>=this['_time']){const _0x5125f7=(this['_time']-_0x374e46['time'])/(_0x22b604['time']-_0x374e46['time']);_0xc2c63b['_pos']['lerp'](_0x374e46['position'],_0x22b604['position'],_0x5125f7),_0xc2c63b['_quat']['slerp'](_0x374e46['rotation'],_0x22b604['rotation'],_0x5125f7),_0xc2c63b['_scale']['lerp'](_0x374e46['scale'],_0x22b604['scale'],_0x5125f7),_0xc2c63b['_written']=!(0x1c77+0x1638+-0x32af),this['_currKeyIn'+'dices'][_0x4cfe47]=_0x1ab4db,_0x5ae775=!(0x2*-0x1165+0x17dd+-0x1*-0xaed);break;}}(_0x34bf14['length']===0x666+0x3*-0x856+-0x5*-0x3b9||!_0x5ae775&&this['_time']===0x1ccb+0x6*-0x1e9+-0x1155&&this['looping'])&&(_0xc2c63b['_pos']['copy'](_0x34bf14[-0xd81*0x1+-0x1ae6+0x2867]['position']),_0xc2c63b['_quat']['copy'](_0x34bf14[-0x17c9+-0x1540+0x2d09]['rotation']),_0xc2c63b['_scale']['copy'](_0x34bf14[-0x201e+-0xbf*-0x1c+0x1df*0x6]['scale']),_0xc2c63b['_written']=!(0x1a87*0x1+-0x1c82+0x3*0xa9));}}}['blend'](_0x59dabd,_0xc95078,_0x30fcec){const _0x1612b0=this['_interpola'+'tedKeys']['length'];for(let _0x1283d2=-0x3bc*-0x4+-0xa61+-0x48f;_0x1283d2<_0x1612b0;_0x1283d2++){const _0x199109=_0x59dabd['_interpola'+'tedKeys'][_0x1283d2],_0x2b7061=_0xc95078['_interpola'+'tedKeys'][_0x1283d2],_0x34c9ea=this['_interpola'+'tedKeys'][_0x1283d2];_0x199109['_written']&&_0x2b7061['_written']?(_0x34c9ea['_quat']['slerp'](_0x199109['_quat'],_0xc95078['_interpola'+'tedKeys'][_0x1283d2]['_quat'],_0x30fcec),_0x34c9ea['_pos']['lerp'](_0x199109['_pos'],_0xc95078['_interpola'+'tedKeys'][_0x1283d2]['_pos'],_0x30fcec),_0x34c9ea['_scale']['lerp'](_0x199109['_scale'],_0x2b7061['_scale'],_0x30fcec),_0x34c9ea['_written']=!(-0x9b*0x32+-0x1886+0x1*0x36cc)):_0x199109['_written']?(_0x34c9ea['_quat']['copy'](_0x199109['_quat']),_0x34c9ea['_pos']['copy'](_0x199109['_pos']),_0x34c9ea['_scale']['copy'](_0x199109['_scale']),_0x34c9ea['_written']=!(-0x268+-0x1ef1+-0x1*-0x2159)):_0x2b7061['_written']&&(_0x34c9ea['_quat']['copy'](_0x2b7061['_quat']),_0x34c9ea['_pos']['copy'](_0x2b7061['_pos']),_0x34c9ea['_scale']['copy'](_0x2b7061['_scale']),_0x34c9ea['_written']=!(-0x136b+-0xb4f*-0x2+-0x111*0x3));}}['setGraph'](_0x47b3ff){if(this['graph']=_0x47b3ff,_0x47b3ff)for(let _0x523822=-0xdab*0x1+-0x41*0x5+0xef0;_0x523822<this['_interpola'+'tedKeys']['length'];_0x523822++){const _0x5468ee=this['_interpola'+'tedKeys'][_0x523822],_0x231b7c=_0x47b3ff['findByName'](_0x5468ee['_name']);this['_interpola'+'tedKeys'][_0x523822]['setTarget'](_0x231b7c);}else{for(let _0x467179=0x3*0x3c+-0x11c+-0x4*-0x1a;_0x467179<this['_interpola'+'tedKeys']['length'];_0x467179++)this['_interpola'+'tedKeys'][_0x467179]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x9a6f41=0x22*0x1b+-0x1*-0x2449+-0x27df;_0x9a6f41<this['_interpola'+'tedKeys']['length'];_0x9a6f41++){const _0x1ab91d=this['_interpola'+'tedKeys'][_0x9a6f41];if(_0x1ab91d['_written']){const _0x5360f9=_0x1ab91d['getTarget']();_0x5360f9['localPosit'+'ion']['copy'](_0x1ab91d['_pos']),_0x5360f9['localRotat'+'ion']['copy'](_0x1ab91d['_quat']),_0x5360f9['localScale']['copy'](_0x1ab91d['_scale']),_0x5360f9['_dirtyLoca'+'l']||_0x5360f9['_dirtifyLo'+'cal'](),_0x1ab91d['_written']=!(0x1*-0x16cd+0x1cba*-0x1+0x3388);}}}}const ys=(0x2682+-0x771*0x5+0x1*-0x149)/(-0x2331+-0x7bb+0x2b2c),Bs=-0xe59*0x1+0x2321+0x1*-0x14c7-ys*(0x2*0x4dc+-0x1b02+0x114c);class Bp extends pn{constructor(_0x99a531,_0x3d3777,_0x35e80f,_0x4abc9b,_0x21de60,_0x3dded1){super();const _0x2252d4=new T(),_0xe60c12=new T(),_0x43b1b4=new T(),_0x3505d8=new T(),_0x965090=new T(),_0x3eec9d=new T(),_0x1edab2=[],_0xa9f49c=[],_0x54ce27=[],_0x327ab0=[],_0x574b08=[];let _0x54464c;if(_0x35e80f>0x16c7+-0x447*0x5+0x59*-0x4){for(let _0x546672=0x2*-0x10b0+0x1d28+0x438;_0x546672<=_0x4abc9b;_0x546672++)for(let _0x321823=0x1*0xb69+-0x22df+0x1776;_0x321823<=_0x21de60;_0x321823++){const _0x51a2da=_0x321823/_0x21de60*(0x3c2*-0x7+-0x1bfa+0x364a)*Math['PI']-Math['PI'],_0x3dd13e=Math['sin'](_0x51a2da),_0x161c3a=Math['cos'](_0x51a2da);_0x965090['set'](_0x3dd13e*_0x99a531,-_0x35e80f/(0x459+-0x24bb+0x2064),_0x161c3a*_0x99a531),_0x3505d8['set'](_0x3dd13e*_0x3d3777,_0x35e80f/(-0x1dbf+-0xf35*-0x1+-0x31*-0x4c),_0x161c3a*_0x3d3777),_0x2252d4['lerp'](_0x965090,_0x3505d8,_0x546672/_0x4abc9b),_0xe60c12['sub2'](_0x3505d8,_0x965090)['normalize'](),_0x3eec9d['set'](_0x161c3a,-0xb29*0x3+0x36+0x2145,-_0x3dd13e),_0x43b1b4['cross'](_0x3eec9d,_0xe60c12)['normalize'](),_0x1edab2['push'](_0x2252d4['x'],_0x2252d4['y'],_0x2252d4['z']),_0xa9f49c['push'](_0x43b1b4['x'],_0x43b1b4['y'],_0x43b1b4['z']);let _0x23a641=_0x321823/_0x21de60,_0x4df21a=_0x546672/_0x4abc9b;_0x54ce27['push'](_0x23a641,0x1b32+-0x1433*-0x1+-0x2f64-_0x4df21a);const _0x275a82=_0x4df21a;if(_0x4df21a=_0x23a641,_0x23a641=_0x275a82,_0x23a641=_0x23a641*Bs+ys,_0x4df21a=_0x4df21a*Bs+ys,_0x23a641/=0xdf4+-0x1d1a+-0x1*-0xf29,_0x327ab0['push'](_0x23a641,0xb43+0x1a84*0x1+-0x25c6-_0x4df21a),_0x546672<_0x4abc9b&&_0x321823<_0x21de60){const _0x3200dd=_0x546672*(_0x21de60+(0x6fd+-0xd8b+0x68f))+_0x321823,_0x29d9ce=_0x546672*(_0x21de60+(0x953*0x2+-0x15df+0x1*0x33a))+(_0x321823+(0x4*-0x223+-0x305+-0x1*-0xb92)),_0x2748de=(_0x546672+(0x1cd3+0x9+0x1cdb*-0x1))*(_0x21de60+(0x3*-0x407+0x29*0x61+-0x373*0x1))+_0x321823,_0x51206a=(_0x546672+(0x4a*0x62+-0x1f*-0x1f+-0x2014))*(_0x21de60+(0x18d6+-0x1296+0x63f*-0x1))+(_0x321823+(-0x20b0+0xa45+-0xb36*-0x2));_0x574b08['push'](_0x3200dd,_0x29d9ce,_0x2748de),_0x574b08['push'](_0x29d9ce,_0x51206a,_0x2748de);}}}if(_0x3dded1){const _0x578907=Math['floor'](_0x21de60/(-0x1a78+0x1dd3+-0x359*0x1)),_0x14a938=_0x21de60,_0x36ef62=_0x35e80f/(0x539*0x5+-0x1*0x1c13+-0x8*-0x3f);for(let _0x28620f=-0x1443+-0xd*0xbc+-0x1*-0x1dcf;_0x28620f<=_0x578907;_0x28620f++){const _0x4ed40c=_0x28620f*Math['PI']*(0x1ac9*-0x1+0x2*0x9ce+0xb*0xa7+0.5)/_0x578907,_0x55f62a=Math['sin'](_0x4ed40c),_0x1d6061=Math['cos'](_0x4ed40c);for(let _0x3948d6=0x263+0x1b75+0x776*-0x4;_0x3948d6<=_0x14a938;_0x3948d6++){const _0x3d3706=_0x3948d6*(-0x3*0x4ea+-0x2a8+0x1168)*Math['PI']/_0x14a938-Math['PI']/(0x1*-0x1ebf+0xc52+0x126f),_0x4e5f85=Math['sin'](_0x3d3706),_0x515db8=Math['cos'](_0x3d3706)*_0x55f62a,_0x15184d=_0x1d6061,_0x289e08=_0x4e5f85*_0x55f62a;let _0x4a4228=-0x4*0x6af+-0x127a+0x2d37-_0x3948d6/_0x14a938,_0x291e6a=-0x1df5+0xa8b*-0x2+-0x441*-0xc-_0x28620f/_0x578907;_0x1edab2['push'](_0x515db8*_0x3d3777,_0x15184d*_0x3d3777+_0x36ef62,_0x289e08*_0x3d3777),_0xa9f49c['push'](_0x515db8,_0x15184d,_0x289e08),_0x54ce27['push'](_0x4a4228,0x16ae*0x1+-0x1*-0xbf5+0xb*-0x326-_0x291e6a),_0x4a4228=_0x4a4228*Bs+ys,_0x291e6a=_0x291e6a*Bs+ys,_0x4a4228/=-0x1*-0x14d5+0x661*0x3+0x27f5*-0x1,_0x291e6a/=0x13ea+-0x726*0x1+-0x1*0xcc1,_0x4a4228+=(-0x17c5+-0x1a33+0x31f9)/(0xd26+0x1f97+-0x5*0x8f2),_0x327ab0['push'](_0x4a4228,0xdcd*-0x2+-0x2321+0x3ebc-_0x291e6a);}}_0x54464c=(_0x4abc9b+(0x1662+-0xee6+0x77b*-0x1))*(_0x21de60+(-0x504+0x1*-0xc91+-0x8cb*-0x2));for(let _0x5f3051=-0x2*0x4a3+-0x230d+-0x1*-0x2c53;_0x5f3051<_0x578907;++_0x5f3051)for(let _0x369754=0xa22*0x1+0x361*0x5+-0xb*0x275;_0x369754<_0x14a938;++_0x369754){const _0xdb2ff6=_0x5f3051*(_0x14a938+(0x2*-0xbeb+-0x3*0xc5b+0x1*0x3ce8))+_0x369754,_0x2bf137=_0xdb2ff6+_0x14a938+(0x6d9*-0x1+-0x1*0x407+0xae1);_0x574b08['push'](_0x54464c+_0xdb2ff6+(-0x31d+0x1511+-0x11f3),_0x54464c+_0x2bf137,_0x54464c+_0xdb2ff6),_0x574b08['push'](_0x54464c+_0xdb2ff6+(-0x1*0x25d2+0x19e2+0x3*0x3fb),_0x54464c+_0x2bf137+(0x1758+-0x6*-0x40f+-0x1d*0x1a5),_0x54464c+_0x2bf137);}for(let _0x5d1ee1=-0x1*0x201d+0x1ad2+0x54b;_0x5d1ee1<=_0x578907;_0x5d1ee1++){const _0x53e8a0=Math['PI']*(-0x1*0x26d3+0x20a5+-0x62e*-0x1+0.5)+_0x5d1ee1*Math['PI']*(-0xcc7*-0x2+0x17a7*0x1+-0x3135+0.5)/_0x578907,_0x46c4a2=Math['sin'](_0x53e8a0),_0x2f678b=Math['cos'](_0x53e8a0);for(let _0x3bf5ad=0xa*0x12c+-0xc52+0x9a;_0x3bf5ad<=_0x14a938;_0x3bf5ad++){const _0x20de14=_0x3bf5ad*(-0x1*-0xe3e+-0x2c*-0x8a+-0x25f4)*Math['PI']/_0x14a938-Math['PI']/(-0x13*-0x1d0+-0xf*-0x1f7+-0x3fe7),_0x56367d=Math['sin'](_0x20de14),_0x4a1995=Math['cos'](_0x20de14)*_0x46c4a2,_0x242ec2=_0x2f678b,_0x58d3a6=_0x56367d*_0x46c4a2;let _0x2367eb=-0x1454+0x37*0xd+0x118a-_0x3bf5ad/_0x14a938,_0x1a8725=-0x1c7*-0x1+-0x3*0x7d+0x4f*-0x1-_0x5d1ee1/_0x578907;_0x1edab2['push'](_0x4a1995*_0x3d3777,_0x242ec2*_0x3d3777-_0x36ef62,_0x58d3a6*_0x3d3777),_0xa9f49c['push'](_0x4a1995,_0x242ec2,_0x58d3a6),_0x54ce27['push'](_0x2367eb,0x17cb*-0x1+-0x1915*0x1+-0x30e1*-0x1-_0x1a8725),_0x2367eb=_0x2367eb*Bs+ys,_0x1a8725=_0x1a8725*Bs+ys,_0x2367eb/=0xe91+0x9bf+-0x184d,_0x1a8725/=-0xf08+0x166b+-0x760,_0x2367eb+=(-0x22*-0x4+0x382*-0x2+0x67e)/(0x2118+-0x4*-0x33a+0x1*-0x2dfd),_0x327ab0['push'](_0x2367eb,0xe40+0xfa4+-0x1de3-_0x1a8725);}}_0x54464c=(_0x4abc9b+(0x6*0x20b+0x5bc+-0x11fd*0x1))*(_0x21de60+(0x63*-0x43+-0x2*-0xcb3+0x84))+(_0x14a938+(-0x1b*-0x44+0x16b2+-0x5f9*0x5))*(_0x578907+(0x165*-0x1c+0x202d+-0xdc*-0x8));for(let _0x23116c=-0x1400+0x1356*-0x1+0x2756;_0x23116c<_0x578907;++_0x23116c)for(let _0x8f34bf=-0x9d*-0x2+-0x1c45+0x1b0b;_0x8f34bf<_0x14a938;++_0x8f34bf){const _0x31118e=_0x23116c*(_0x14a938+(0x2d7*0x1+0x4*0x388+-0x10f6*0x1))+_0x8f34bf,_0x2c95b6=_0x31118e+_0x14a938+(-0x2521*-0x1+-0x258a+0x6a);_0x574b08['push'](_0x54464c+_0x31118e+(-0x1*0x20f+-0x1f*-0x76+-0x5*0x272),_0x54464c+_0x2c95b6,_0x54464c+_0x31118e),_0x574b08['push'](_0x54464c+_0x31118e+(-0x17*0x15f+0x4*-0x581+0x358e),_0x54464c+_0x2c95b6+(0x4c*-0x60+-0x9c*-0x20+0x901),_0x54464c+_0x2c95b6);}}else{if(_0x54464c=(_0x4abc9b+(0x1*0x1e13+-0x1e8+-0x1c2a))*(_0x21de60+(0x3*0x3cd+0x3*-0x2d4+-0x2ea)),_0x99a531>0x7b*0x25+0x7be+-0x1985)for(let _0x55b7f=0x1*0xdd2+-0x80c+0x2e3*-0x2;_0x55b7f<_0x21de60;_0x55b7f++){const _0x328bdb=_0x55b7f/_0x21de60*(0x191b+0x8*-0x469+0xa2f)*Math['PI'],_0x3eae8d=Math['sin'](_0x328bdb),_0x1ecbd3=-_0x35e80f/(0xb40+0x4cb*-0x7+0x164f),_0x4f5ce6=Math['cos'](_0x328bdb);let _0x166c26=-0x4*0xee+0x1*0x89+0x2*0x198-(_0x3eae8d+(0x3*-0x8ff+-0x769*0x5+-0x3*-0x1559))/(-0x1e01+-0x1*-0x1a4e+0x3b5),_0x514963=(_0x4f5ce6+(-0x2423+-0x1813+0x3c37))/(-0x31e+-0x1233*0x1+0x1553);_0x1edab2['push'](_0x3eae8d*_0x99a531,_0x1ecbd3,_0x4f5ce6*_0x99a531),_0xa9f49c['push'](-0xe6e+0x1313*-0x1+-0x1*-0x2181,-(0x11f5+0x6b8*0x4+-0x2cd4),-0x3*0x664+0x1b5a*0x1+-0x82e),_0x54ce27['push'](_0x166c26,0x15*-0x14b+0xb5d+0xfcb-_0x514963),_0x166c26=_0x166c26*Bs+ys,_0x514963=_0x514963*Bs+ys,_0x166c26/=-0x2e1+0x196*0x7+-0x836,_0x514963/=-0x151*0x1d+0x7*0x94+0x2224,_0x166c26+=(-0xbdf*0x2+-0xb*-0xf7+0xd22)/(0x4bb*-0x1+-0x126c+0x172a),_0x327ab0['push'](_0x166c26,-0xfb4+-0x131c+0x22d1*0x1-_0x514963),_0x55b7f>-0x368*0x3+0x16b9+-0xc80&&_0x574b08['push'](_0x54464c,_0x54464c+_0x55b7f,_0x54464c+_0x55b7f-(0x8e*-0x10+-0xe*-0x270+0x193f*-0x1));}if(_0x54464c+=_0x21de60,_0x3d3777>-0x1*0x42f+0xbc5+-0x796)for(let _0x49a066=0xe*0x19f+-0x1158+-0x55a;_0x49a066<_0x21de60;_0x49a066++){const _0x2606fd=_0x49a066/_0x21de60*(-0x1ca6*0x1+0x2149+0x4f*-0xf)*Math['PI'],_0x8e04f=Math['sin'](_0x2606fd),_0x1e897b=_0x35e80f/(0xafa+0x73b+0x1233*-0x1),_0x5cdc83=Math['cos'](_0x2606fd);let _0x413974=0x3*-0x1c9+-0xa5*0x17+0x142f-(_0x8e04f+(-0x2473+-0x73*-0x1d+0x176d))/(-0x21ca+-0x162e+0x37fa),_0x80fe60=(_0x5cdc83+(0x1e4d*0x1+-0x2117+0x2cb*0x1))/(0x1ec4+-0x182*-0x8+-0x2ad2);_0x1edab2['push'](_0x8e04f*_0x3d3777,_0x1e897b,_0x5cdc83*_0x3d3777),_0xa9f49c['push'](-0x111*-0x11+-0x1*-0xbe1+-0x1e02,0x1*0xb7b+-0x1*0x6c7+-0x3*0x191,-0x1e*-0x103+-0x1f0b+0xb1),_0x54ce27['push'](_0x413974,0xd*-0x1b+0x1eb0+-0x1d50-_0x80fe60),_0x413974=_0x413974*Bs+ys,_0x80fe60=_0x80fe60*Bs+ys,_0x413974/=0x1679+0x1c5c+-0x32d2,_0x80fe60/=-0x2*0xe9+-0x1*-0x1079+0x2*-0x752,_0x413974+=(0x24d3+0x1*-0x2532+-0x61*-0x1)/(-0x1d9*-0xf+-0x295*-0xe+-0x3fda),_0x327ab0['push'](_0x413974,-0x1*-0x1130+-0xbe6*-0x2+-0x28fb-_0x80fe60),_0x49a066>-0x5d0+0x153*0x5+-0xce*0x1&&_0x574b08['push'](_0x54464c,_0x54464c+_0x49a066-(-0x1427+0x1df8+-0x9d0),_0x54464c+_0x49a066);}}this['positions']=_0x1edab2,this['normals']=_0xa9f49c,this['uvs']=_0x54ce27,this['uvs1']=_0x327ab0,this['indices']=_0x574b08;}}class C1 extends Bp{constructor(_0x3aa118={}){const _0x675c6=_0x3aa118['radius']??-0x198e*0x1+-0x3*-0x6f3+-0x5*-0xf1+0.3,_0x10ceb3=_0x3aa118['height']??0xe9b+-0x212e+0x1294,_0x47e1f8=_0x3aa118['heightSegm'+'ents']??0xa9b+0x1*-0x1cb9+0x121f*0x1,_0x471f0d=_0x3aa118['sides']??0x68c*0x1+0xc71+-0x12e9;super(_0x675c6,_0x675c6,_0x10ceb3-(0xa4*-0x1+0xd4b+-0xca5)*_0x675c6,_0x47e1f8,_0x471f0d,!(-0x10*-0x1fd+0x3a8+-0x46f*0x8)),_0x3aa118['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x5ebb80={}){const _0x138472=_0x5ebb80['baseRadius']??-0x1f51+0x9f2+0x155f+0.5,_0x408eb3=_0x5ebb80['peakRadius']??0x61f*0x4+-0x23dd+0x3cb*0x3,_0x25e4a1=_0x5ebb80['height']??-0x434*0x7+0x29*0xc1+-0x26*0xa,_0x50d2cc=_0x5ebb80['heightSegm'+'ents']??-0x108e*-0x2+0x15a8+-0x36bf*0x1,_0xb08cb8=_0x5ebb80['capSegment'+'s']??0x7cf*-0x1+0x1*-0x547+0xd28;super(_0x138472,_0x408eb3,_0x25e4a1,_0x50d2cc,_0xb08cb8,!(0x1538+0x10e2+-0x2619)),_0x5ebb80['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x3f7305={}){const _0x1dd7eb=_0x3f7305['radius']??0x226+0x178c+-0x19b2+0.5,_0x1a82fb=_0x3f7305['height']??0x365*0x2+-0x19d*0x5+-0x2*-0xa4,_0x4e3219=_0x3f7305['heightSegm'+'ents']??0x1293*-0x2+0x1415+-0x2d9*-0x6,_0x1a2898=_0x3f7305['capSegment'+'s']??0xb4b+-0x22a8+0x1771*0x1;super(_0x1dd7eb,_0x1dd7eb,_0x1a82fb,_0x4e3219,_0x1a2898,!(0x1*-0x1e13+-0x301*-0xa+-0x5*-0x2)),_0x3f7305['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x39cd0c={}){super();const _0x6337b=_0x39cd0c['halfExtent'+'s']??new W(0x1289+-0x45b*-0x6+-0x2cab+0.5,0x132c+-0x17d+-0x3*0x5e5+0.5),_0x512414=_0x39cd0c['widthSegme'+'nts']??-0xbe7+-0xd71+0x195d,_0x580d67=_0x39cd0c['lengthSegm'+'ents']??-0x341*-0x7+-0x4*0x697+-0x39a*-0x1,_0x53c0e2=[],_0x3ea8cf=[],_0x3b604c=[],_0x2d40e4=[];let _0x3c8e7a=0x14*0xf+0x6f8*0x1+-0x824*0x1;for(let _0x1e3cb6=-0x18a1+0x17f8+0xa9;_0x1e3cb6<=_0x512414;_0x1e3cb6++)for(let _0xc4ed8b=-0x1dae+-0x5*-0x61b+-0xd9*0x1;_0xc4ed8b<=_0x580d67;_0xc4ed8b++){const _0x3a8a31=-_0x6337b['x']+(0x1232+-0x8*-0x2ca+0x90*-0x48)*_0x6337b['x']*_0x1e3cb6/_0x512414,_0x196399=0x1e26+-0x1c18+-0x20e,_0xa92a5=-(-_0x6337b['y']+(0xe3b+-0xe77+0x3e)*_0x6337b['y']*_0xc4ed8b/_0x580d67),_0x279935=_0x1e3cb6/_0x512414,_0x40b486=_0xc4ed8b/_0x580d67;_0x53c0e2['push'](_0x3a8a31,_0x196399,_0xa92a5),_0x3ea8cf['push'](0x175d+0x225c+-0x1*0x39b9,-0x9b9+0x1849*0x1+-0xe8f,0x4f*0x2c+0x182*0x7+-0x2*0xc11),_0x3b604c['push'](_0x279935,-0x14d4*-0x1+0x8cf+-0x1da2-_0x40b486),_0x1e3cb6<_0x512414&&_0xc4ed8b<_0x580d67&&(_0x2d40e4['push'](_0x3c8e7a+_0x580d67+(-0x1ba4+0x65*0x5+-0xcd6*-0x2),_0x3c8e7a+(0x1cfd+0x1966+-0x1*0x3662),_0x3c8e7a),_0x2d40e4['push'](_0x3c8e7a+_0x580d67+(-0x9*0x2e3+0x1*-0x1051+-0xdd*-0x31),_0x3c8e7a+_0x580d67+(-0x1*0x922+0x1*0x2011+-0x16ed),_0x3c8e7a+(-0x1*0xa81+-0xe7+0xb69))),_0x3c8e7a++;}this['positions']=_0x53c0e2,this['normals']=_0x3ea8cf,this['uvs']=_0x3b604c,this['uvs1']=_0x3b604c,this['indices']=_0x2d40e4,_0x39cd0c['calculateT'+'angents']&&(this['tangents']=fr(_0x53c0e2,_0x3ea8cf,_0x3b604c,_0x2d40e4));}}class I1 extends pn{constructor(_0x4f8dc4={}){super();const _0x1c378b=_0x4f8dc4['tubeRadius']??-0x1a6f*0x1+-0x1*0x201b+0x76*0x7f+0.2,_0x45ff26=_0x4f8dc4['ringRadius']??-0x33e+-0x67f*0x3+0xb*0x211+0.3,_0x4334cf=(_0x4f8dc4['sectorAngl'+'e']??0x94a+0x63*-0x53+0x1837)*N['DEG_TO_RAD'],_0x2c103a=_0x4f8dc4['segments']??-0x34b*-0x1+-0x163*0x2+-0x67,_0x280e28=_0x4f8dc4['sides']??-0x939+-0x54d+-0x2a*-0x59,_0x435e40=[],_0x373532=[],_0x28308d=[],_0x41b5d3=[];for(let _0x3f1ff1=-0x1027+0x269c+0x1675*-0x1;_0x3f1ff1<=_0x280e28;_0x3f1ff1++)for(let _0x591bb2=0xbb*-0x29+-0x2f*-0xb0+-0x25d;_0x591bb2<=_0x2c103a;_0x591bb2++){const _0x4d90bf=Math['cos'](_0x4334cf*_0x591bb2/_0x2c103a)*(_0x45ff26+_0x1c378b*Math['cos']((0x57a*0x2+-0x5*0x283+0x19d)*Math['PI']*_0x3f1ff1/_0x280e28)),_0x5c24dd=Math['sin']((-0x14e0+-0x1354+0x141b*0x2)*Math['PI']*_0x3f1ff1/_0x280e28)*_0x1c378b,_0x3882a8=Math['sin'](_0x4334cf*_0x591bb2/_0x2c103a)*(_0x45ff26+_0x1c378b*Math['cos']((0x1e29*0x1+0x577+-0x239e*0x1)*Math['PI']*_0x3f1ff1/_0x280e28)),_0x3a8366=Math['cos'](_0x4334cf*_0x591bb2/_0x2c103a)*Math['cos']((-0x1d*-0x9e+-0x2*-0xd2d+-0x2*0x161f)*Math['PI']*_0x3f1ff1/_0x280e28),_0x81f500=Math['sin']((0x6d3*-0x1+-0x1*0x1727+0x1dfc)*Math['PI']*_0x3f1ff1/_0x280e28),_0x208f07=Math['sin'](_0x4334cf*_0x591bb2/_0x2c103a)*Math['cos']((-0xbb5*-0x3+-0xd57+-0x15c6*0x1)*Math['PI']*_0x3f1ff1/_0x280e28),_0x194e74=_0x3f1ff1/_0x280e28,_0x337ce5=-0x378*0x1+-0x451+0x7ca-_0x591bb2/_0x2c103a;if(_0x435e40['push'](_0x4d90bf,_0x5c24dd,_0x3882a8),_0x373532['push'](_0x3a8366,_0x81f500,_0x208f07),_0x28308d['push'](_0x194e74,-0x1367+-0x9*-0x9+-0x1b*-0xb5-_0x337ce5),_0x3f1ff1<_0x280e28&&_0x591bb2<_0x2c103a){const _0x53d569=_0x3f1ff1*(_0x2c103a+(-0xa*-0x2b7+0x1d2c+-0x3851))+_0x591bb2,_0x4b96c1=(_0x3f1ff1+(-0x148a+-0xb*0x2b3+0x323c))*(_0x2c103a+(0x3*0x15b+-0x39f*-0x3+-0xeed))+_0x591bb2,_0x5f06ab=_0x3f1ff1*(_0x2c103a+(0x4dc+-0x21*-0xf4+-0xd*0x2cb))+(_0x591bb2+(-0x58e*-0x7+-0x92d+-0x1db4)),_0x472d36=(_0x3f1ff1+(-0x22*-0x91+0x12b1+0x2*-0x12f9))*(_0x2c103a+(-0x5bf*0x3+0x25d3+-0x1495))+(_0x591bb2+(-0x1ab9*-0x1+-0xa*0x2c8+0x118));_0x41b5d3['push'](_0x53d569,_0x4b96c1,_0x5f06ab),_0x41b5d3['push'](_0x4b96c1,_0x472d36,_0x5f06ab);}}this['positions']=_0x435e40,this['normals']=_0x373532,this['uvs']=_0x28308d,this['uvs1']=_0x28308d,this['indices']=_0x41b5d3,_0x4f8dc4['calculateT'+'angents']&&(this['tangents']=fr(_0x435e40,_0x373532,_0x28308d,_0x41b5d3));}}class D1{constructor(_0x2d542f,_0x47f682){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x2d542f,this['_isClearin'+'gCache']=!(-0xa4f+0x5*0x581+-0x5*0x371),this['_precached']=!(-0x11cd+0x1*-0x6ce+0x189c),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x574762=new A0();_0x47f682['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x574762,_0x47f682,null,[],gn,null),_0x47f682['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x47f682,null,Rp,null),_0x2d542f['on']('destroy:sh'+'ader',_0xf6aa0a=>{this['removeFrom'+'Cache'](_0xf6aa0a);});}['destroy'](){this['clearCache']();}['register'](_0x41a063,_0x110f57){this['_generator'+'s']['has'](_0x41a063)||this['_generator'+'s']['set'](_0x41a063,_0x110f57);}['unregister'](_0x59bd43){this['_generator'+'s']['has'](_0x59bd43)&&this['_generator'+'s']['delete'](_0x59bd43);}['isRegister'+'ed'](_0xe7e32a){return this['_generator'+'s']['has'](_0xe7e32a);}['generateSh'+'aderDefini'+'tion'](_0x2007cd,_0x1f5e3b,_0x4ef531,_0x3d5f3e){var _0x3a2060,_0x3b4779;let _0x48e5de=this['definition'+'sCache']['get'](_0x4ef531);if(!_0x48e5de){let _0x4890f2;(_0x3a2060=_0x3d5f3e['litOptions'])!=null&&_0x3a2060['lights']&&(_0x4890f2=_0x3d5f3e['litOptions']['lights'],_0x3d5f3e['litOptions']['lights']=_0x4890f2['map'](_0x238795=>{const _0x1b926f=_0x238795['clone']?_0x238795['clone']():_0x238795;return _0x1b926f['key']=_0x238795['key'],_0x1b926f;})),this['storeNewPr'+'ogram'](_0x1f5e3b,_0x3d5f3e),(_0x3b4779=_0x3d5f3e['litOptions'])!=null&&_0x3b4779['lights']&&(_0x3d5f3e['litOptions']['lights']=_0x4890f2),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x1f5e3b+'\x20key\x20'+_0x4ef531+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x4a7aa8=this['_device'];_0x48e5de=_0x2007cd['createShad'+'erDefiniti'+'on'](_0x4a7aa8,_0x3d5f3e),_0x48e5de['name']=_0x48e5de['name']??(_0x3d5f3e['pass']?_0x1f5e3b+'-pass:'+_0x3d5f3e['pass']:_0x1f5e3b),this['definition'+'sCache']['set'](_0x4ef531,_0x48e5de);}return _0x48e5de;}['getCachedS'+'hader'](_0x1c321c){return this['processedC'+'ache']['get'](_0x1c321c);}['setCachedS'+'hader'](_0x1bc2bf,_0x4348bf){this['processedC'+'ache']['set'](_0x1bc2bf,_0x4348bf);}['getProgram'](_0x494a5b,_0xb6508d,_0x5d336,_0x5116bf){const _0x3d930f=this['_generator'+'s']['get'](_0x494a5b);if(!_0x3d930f)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x494a5b),null;const _0x12f1ce=_0x3d930f['generateKe'+'y'](_0xb6508d),_0x5c0378=hn(_0x12f1ce),_0x42db35=_0x5d336['generateKe'+'y'](this['_device']),_0xa2908a=hn(_0x42db35),_0x4acb3f=_0x5c0378+'#'+_0xa2908a;let _0x55feef=this['getCachedS'+'hader'](_0x4acb3f);if(!_0x55feef){const _0x48ccf4=this['generateSh'+'aderDefini'+'tion'](_0x3d930f,_0x494a5b,_0x5c0378,_0xb6508d);v['assert'](_0x48ccf4);let _0x2fb1f9='',_0x46b783;_0xb6508d['pass']!==void(-0x16d7+-0x1*-0x2637+-0xf60)&&(_0x46b783=Ks['get'](this['_device'])['getByIndex'](_0xb6508d['pass']),_0x2fb1f9='-'+_0x46b783['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x5116bf,'shaderPassInfo':_0x46b783,'definition':_0x48ccf4});const _0x3fba29={'name':''+_0x48ccf4['name']+_0x2fb1f9+'-proc','attributes':_0x48ccf4['attributes'],'vshader':_0x48ccf4['vshader'],'vincludes':_0x48ccf4['vincludes'],'fincludes':_0x48ccf4['fincludes'],'fshader':_0x48ccf4['fshader'],'processingOptions':_0x5d336,'shaderLanguage':_0x48ccf4['shaderLang'+'uage'],'meshUniformBufferFormat':_0x48ccf4['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x48ccf4['meshBindGr'+'oupFormat']};_0x55feef=new i0(this['_device'],_0x3fba29),v['call'](()=>{_0x55feef['_generatio'+'nKey']=_0x12f1ce,_0x55feef['_processin'+'gKey']=_0x42db35;}),this['setCachedS'+'hader'](_0x4acb3f,_0x55feef);}return _0x55feef;}['storeNewPr'+'ogram'](_0x1cb3ca,_0x411041){let _0x2fbcdd={};if(_0x1cb3ca==='standard'){const _0x296237=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x411041['pass']);for(const _0x1679db in _0x411041)(_0x411041['hasOwnProp'+'erty'](_0x1679db)&&_0x296237[_0x1679db]!==_0x411041[_0x1679db]||_0x1679db==='pass')&&(_0x2fbcdd[_0x1679db]=_0x411041[_0x1679db]);for(const _0x9c7deb in _0x411041['litOptions'])_0x2fbcdd[_0x9c7deb]=_0x411041['litOptions'][_0x9c7deb];}else _0x2fbcdd=_0x411041;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x1cb3ca,'options':_0x2fbcdd}));}['dumpProgra'+'ms'](){let _0x28789b='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x28789b+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x39d+0x25*0xb0+0x1*-0x15d3]&&(_0x28789b+='\x0a\x09'+this['_programsC'+'ollection'][0x16f*0x6+-0x47c*-0x7+-0x27fe]);for(let _0x5955f8=-0x32*-0x53+-0x4*0x959+0x152f;_0x5955f8<this['_programsC'+'ollection']['length'];++_0x5955f8)_0x28789b+=',\x0a\x09'+this['_programsC'+'ollection'][_0x5955f8];_0x28789b+='\x0a];\x0a',_0x28789b+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x28789b+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x28789b+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x3c37ba=document['createElem'+'ent']('a');_0x3c37ba['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x28789b)),_0x3c37ba['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x3c37ba['style']['display']='none',document['body']['appendChil'+'d'](_0x3c37ba),_0x3c37ba['click'](),document['body']['removeChil'+'d'](_0x3c37ba);}['clearCache'](){this['_isClearin'+'gCache']=!(0x17*-0x4f+0x1b*-0x153+0x2ada),this['processedC'+'ache']['forEach'](_0x4e17c3=>{_0x4e17c3['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x1adc+-0x1d3d+0x262);}['removeFrom'+'Cache'](_0x3e4161){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x210c5c,_0x2fe564)=>{_0x3e4161===_0x210c5c&&this['processedC'+'ache']['delete'](_0x2fe564);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x4b8152){const _0xcd4ac2=Ks['get'](this['_device'])['getByIndex'](_0x4b8152);return _0x4b8152===rl||_0x4b8152===Oa||_0x4b8152===il||_0xcd4ac2['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x1ddd37){if(_0x1ddd37){const _0x1f3274=new Array(_0x1ddd37['length']);for(let _0x42fa19=-0x1a1b+-0x185b+0x3276;_0x42fa19<_0x1ddd37['length'];_0x42fa19++){if(_0x1ddd37[_0x42fa19]['name']==='standard'){const _0x1bcd8f=_0x1ddd37[_0x42fa19]['options'],_0xa82f1=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x1bcd8f['pass']);for(const _0xc3a83 in _0xa82f1)_0xa82f1['hasOwnProp'+'erty'](_0xc3a83)&&_0x1bcd8f[_0xc3a83]===void(-0x1469+0x96e+0x3*0x3a9)&&(_0x1bcd8f[_0xc3a83]=_0xa82f1[_0xc3a83]);}_0x1f3274[_0x42fa19]=this['getProgram'](_0x1ddd37[_0x42fa19]['name'],_0x1ddd37[_0x42fa19]['options']);}}this['_precached']=!(0x17db+0x23c9*0x1+-0x3ba4*0x1);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),$d=new _e(),N_=new _e(),B1=new Y(-0x2108+-0x4cd*-0x1+0x1c3c,0x79*-0x43+-0x4d*-0x17+0x18c1,-0x7ed*-0x3+0x1c97+-0x345e,-0x13a4*0x1+0x59*-0x1d+0x1db9*0x1+0.4),qd=-0x2d7*-0x6+-0x2441*0x1+0x1337+0.28209479177387814;class N1{constructor(_0x1f5a6a,_0x2ee974,_0x1cf634,_0x501202,_0x2b8282,_0x313ea9){const _0x3059be=_0x1f5a6a['getProp']('x'),_0x53b8ac=_0x1f5a6a['getProp']('y'),_0x3e063f=_0x1f5a6a['getProp']('z'),_0x4c6859=_0x1f5a6a['getProp']('rot_1'),_0x29f63f=_0x1f5a6a['getProp']('rot_2'),_0x28b6d2=_0x1f5a6a['getProp']('rot_3'),_0x1e6b3a=_0x1f5a6a['getProp']('rot_0'),_0x974d1c=_0x1f5a6a['getProp']('motion_0'),_0x21218d=_0x1f5a6a['getProp']('motion_1'),_0x1c2dff=_0x1f5a6a['getProp']('motion_2'),_0x1732bc=_0x1f5a6a['getProp']('scale_0'),_0x5527c9=_0x1f5a6a['getProp']('scale_1'),_0x1dec99=_0x1f5a6a['getProp']('scale_2'),_0x248df9=_0x1f5a6a['getProp']('f_dc_0'),_0x494534=_0x1f5a6a['getProp']('f_dc_1'),_0x4b4987=_0x1f5a6a['getProp']('f_dc_2'),_0xf5e66c=_0x1f5a6a['getProp']('opacity'),_0x121643=_0x2c4cb5=>{if(_0x2c4cb5>-0x1bcc*-0x1+0x1d3*0x5+-0x24eb)return(-0x1a7*-0x1+-0x65*0x5e+0x2370)/(-0x104c+0x243a+-0x13ed+Math['exp'](-_0x2c4cb5));const _0x1aa05c=Math['exp'](_0x2c4cb5);return _0x1aa05c/(-0x21*-0x107+0x12*0xd7+-0x3104+_0x1aa05c);};this['read']=_0x1b8e09=>{_0x2ee974&&(_0x2ee974['x']=_0x3059be[_0x1b8e09],_0x2ee974['y']=_0x53b8ac[_0x1b8e09],_0x2ee974['z']=_0x3e063f[_0x1b8e09]),_0x1cf634&&_0x1cf634['set'](_0x4c6859[_0x1b8e09],_0x29f63f[_0x1b8e09],_0x28b6d2[_0x1b8e09],_0x1e6b3a[_0x1b8e09]),_0x501202&&_0x501202['set'](Math['exp'](_0x1732bc[_0x1b8e09]),Math['exp'](_0x5527c9[_0x1b8e09]),Math['exp'](_0x1dec99[_0x1b8e09])),_0x313ea9&&_0x974d1c&&_0x313ea9['set'](_0x974d1c[_0x1b8e09],_0x21218d[_0x1b8e09],_0x1c2dff[_0x1b8e09]),_0x2b8282&&_0x2b8282['set'](-0x293*0x1+-0x1*-0x12ef+-0x105c+0.5+_0x248df9[_0x1b8e09]*qd,-0x1*0xbf3+-0x1659+0x14*0x1b7+0.5+_0x494534[_0x1b8e09]*qd,-0x1945+0x11b*0x16+-0x51*-0x3+0.5+_0x4b4987[_0x1b8e09]*qd,_0x121643(_0xf5e66c[_0x1b8e09]));};}}const z_=(_0x130960,_0x178d9b,_0x1c69f5)=>{B_['set'](_0x1c69f5['x'],_0x1c69f5['y'],_0x1c69f5['z'],_0x1c69f5['w'])['normalize'](),_0x130960['setTRS'](_0x178d9b,B_,T['ONE']);};class Ia{constructor(_0x18e18f){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x38b7e6,_0x4a44ff,_0x38841b;this['elements']=_0x18e18f,this['numSplats']=(_0x38b7e6=this['getElement']('vertex'))==null?void(-0x565*-0x7+0x1657+-0x3c1a):_0x38b7e6['count'],this['is4D']=!!((_0x38841b=(_0x4a44ff=this['getElement']('vertex'))==null?void(-0xf82+0x1bdf+-0x5*0x279):_0x4a44ff['properties']['find'](_0x5b510d=>_0x5b510d['name']==='t'))!=null&&_0x38841b['storage']);}['appendGSpl'+'atData'](_0x51e6fe,_0x1e94e5,_0x357712){const _0x4c9d2d=this['getElement']('vertex')['properties'];_0x4c9d2d['find'](_0x5b92c9=>_0x5b92c9['name']==='time_index')||_0x4c9d2d['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x51e6fe['numSplats'];for(let _0x3c88a2=0x16*0x94+0x2b*-0x43+-0x177;_0x3c88a2<_0x4c9d2d['length'];_0x3c88a2++){const _0x28a5bb=_0x4c9d2d[_0x3c88a2],_0x5e72f5=_0x51e6fe['getElement']('vertex')['properties']['find'](_0x33987d=>_0x33987d['name']===_0x28a5bb['name']);if(_0x28a5bb['name']==='time_index'){const _0x291330=new Float32Array(this['numSplats']);_0x291330['fill'](_0x1e94e5),_0x291330['set'](_0x28a5bb['storage'],0x1810+0x1a52+0x1*-0x3262),_0x28a5bb['storage']=_0x291330;}else{if(_0x5e72f5&&_0x28a5bb['name']==='t'){const _0x98ba5b=new Float32Array(this['numSplats']);if(_0x98ba5b['set'](_0x28a5bb['storage'],0x1*0xad1+0x41*-0x8d+-0x42a*-0x6),_0x357712){for(let _0x598b72=_0x28a5bb['storage']['length'];_0x598b72<this['numSplats'];_0x598b72++)_0x98ba5b[_0x598b72]=_0x5e72f5['storage'][_0x598b72-_0x28a5bb['storage']['length']]+_0x357712[(0x1*0x4bd+-0x175*-0xf+-0x29*0xa6)*_0x1e94e5];}else _0x98ba5b['set'](_0x5e72f5['storage'],_0x28a5bb['storage']['length']);_0x28a5bb['storage']=_0x98ba5b;}else{if(_0x5e72f5){const _0xcd8d24=new Float32Array(this['numSplats']);_0xcd8d24['set'](_0x28a5bb['storage'],0x1851+0x20fa+-0x1319*0x3),_0xcd8d24['set'](_0x5e72f5['storage'],_0x28a5bb['storage']['length']),_0x28a5bb['storage']=_0xcd8d24;}}}}}static['calcSplatA'+'abb'](_0x54a0a3,_0x81e8b5,_0x5afe25,_0x11fe3d){z_(Fn,_0x81e8b5,_0x5afe25),$d['center']['set'](0x2*0x1077+-0xaab*0x1+0x29*-0x8b,0xda2*-0x1+-0x61f*0x2+0x19e0,-0xb*0x2f5+0x2b1*-0x8+0x360f),$d['halfExtent'+'s']['set'](_0x11fe3d['x']*(-0x1827+-0x13ec+0x25*0x131),_0x11fe3d['y']*(0xe77+-0x1*-0x235d+0x7*-0x71e),_0x11fe3d['z']*(0x19*0x58+-0x94*0x2f+0x1296)),_0x54a0a3['setFromTra'+'nsformedAa'+'bb']($d,Fn);}['getProp'](_0x4718fc,_0x52b3d2='vertex'){var _0x13cf32,_0x352d62;return(_0x352d62=(_0x13cf32=this['getElement'](_0x52b3d2))==null?void(0x3*-0x773+-0x60*0x5+-0x1839*-0x1):_0x13cf32['properties']['find'](_0x2fc887=>_0x2fc887['name']===_0x4718fc))==null?void(0x1399+-0xbff+0x79a*-0x1):_0x352d62['storage'];}['getElement'](_0x3e1920){return this['elements']['find'](_0x2d255f=>_0x2d255f['name']===_0x3e1920);}['addProp'](_0x139761,_0x51fab5){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x139761,'storage':_0x51fab5,'byteSize':0x4});}['createIter'](_0x3671e6,_0x2e7ba2,_0xe25a5b,_0x1cf132,_0x4b636b){return new N1(this,_0x3671e6,_0x2e7ba2,_0xe25a5b,_0x1cf132,_0x4b636b);}['calcAabb'](_0x45bf18,_0x4046c4){let _0x5b86fa,_0x7f481d,_0x2665c6,_0x3f1f7d,_0x1a46fd,_0x4ab1c0,_0x490779=!(0x63b+0x242a+-0x2a65);const _0x217431=this['getProp']('x'),_0x533958=this['getProp']('y'),_0x34c1d9=this['getProp']('z'),_0x43b554=this['getProp']('scale_0'),_0x334a0f=this['getProp']('scale_1'),_0x2fe419=this['getProp']('scale_2');for(let _0x24712c=-0xe*0x29b+0x7f*-0x40+-0xb5f*-0x6;_0x24712c<this['numSplats'];++_0x24712c){if(_0x4046c4&&!_0x4046c4(_0x24712c))continue;const _0x5aaecc=(0x1ad8+-0x1fe6+0x510)*Math['exp'](Math['max'](_0x43b554[_0x24712c],_0x334a0f[_0x24712c],_0x2fe419[_0x24712c])),_0x23d2d6=_0x217431[_0x24712c],_0x14b87c=_0x533958[_0x24712c],_0x430978=_0x34c1d9[_0x24712c];_0x490779?(_0x490779=!(-0x4d*-0x1+-0x57+-0xb*-0x1),_0x5b86fa=_0x23d2d6-_0x5aaecc,_0x7f481d=_0x14b87c-_0x5aaecc,_0x2665c6=_0x430978-_0x5aaecc,_0x3f1f7d=_0x23d2d6+_0x5aaecc,_0x1a46fd=_0x14b87c+_0x5aaecc,_0x4ab1c0=_0x430978+_0x5aaecc):(_0x5b86fa=Math['min'](_0x5b86fa,_0x23d2d6-_0x5aaecc),_0x7f481d=Math['min'](_0x7f481d,_0x14b87c-_0x5aaecc),_0x2665c6=Math['min'](_0x2665c6,_0x430978-_0x5aaecc),_0x3f1f7d=Math['max'](_0x3f1f7d,_0x23d2d6+_0x5aaecc),_0x1a46fd=Math['max'](_0x1a46fd,_0x14b87c+_0x5aaecc),_0x4ab1c0=Math['max'](_0x4ab1c0,_0x430978+_0x5aaecc));}return _0x490779||(_0x45bf18['center']['set']((_0x5b86fa+_0x3f1f7d)*(-0x14e8+0x16f1+-0x209+0.5),(_0x7f481d+_0x1a46fd)*(-0x1*0x24fe+0x3*0x54c+-0x2*-0xa8d+0.5),(_0x2665c6+_0x4ab1c0)*(0x2278*0x1+-0x217*-0x2+-0x26a6+0.5)),_0x45bf18['halfExtent'+'s']['set']((_0x3f1f7d-_0x5b86fa)*(-0x1c2b+-0x1*0x13b5+-0x5fc*-0x8+0.5),(_0x1a46fd-_0x7f481d)*(-0x17*0x14f+-0x1*-0x1c7e+0x1*0x19b+0.5),(_0x4ab1c0-_0x2665c6)*(0xf0a+0x12*-0x57+-0x8ec+0.5))),!_0x490779;}['calcAabbEx'+'act'](_0x59cad8,_0x4e7ee3){const _0x1257ce=new T(),_0x4d37b2=new se(),_0x4931ab=new T(),_0x445346=this['createIter'](_0x1257ce,_0x4d37b2,_0x4931ab);let _0x5eae6d=!(0x3*0x4b2+0x2*0x81f+-0x1e54);for(let _0x4b952c=-0x587*-0x2+-0x51*-0x25+-0x16c3;_0x4b952c<this['numSplats'];++_0x4b952c)_0x4e7ee3&&!_0x4e7ee3(_0x4b952c)||(_0x445346['read'](_0x4b952c),_0x5eae6d?(_0x5eae6d=!(-0x5b*0x2f+-0x19bc+-0x1*-0x2a72),Ia['calcSplatA'+'abb'](_0x59cad8,_0x1257ce,_0x4d37b2,_0x4931ab)):(Ia['calcSplatA'+'abb'](N_,_0x1257ce,_0x4d37b2,_0x4931ab),_0x59cad8['add'](N_)));return!_0x5eae6d;}['getCenters'](_0x48ba8d){const _0x165edd=this['getProp']('x'),_0x2482be=this['getProp']('y'),_0x58f187=this['getProp']('z');for(let _0x10adb5=-0x1611+0xc7*-0xb+0x2*0xf4f;_0x10adb5<this['numSplats'];++_0x10adb5)_0x48ba8d[_0x10adb5*(-0x269*0x5+0x6d8+0x2*0x29c)+(0x2*0xe17+-0x150*0x5+-0x159e)]=_0x165edd[_0x10adb5],_0x48ba8d[_0x10adb5*(0x12a*0x4+0xc76+0x1*-0x111b)+(0xc73+-0x1fb+0x1*-0xa77)]=_0x2482be[_0x10adb5],_0x48ba8d[_0x10adb5*(0x1771*-0x1+0x90*0x3f+-0x4*0x2ff)+(-0x18ac*0x1+-0x18d*0x19+-0x1b7*-0x25)]=_0x58f187[_0x10adb5];}['getMuT'](){const _0x270307=this['getProp']('t');if(!_0x270307)return;const _0x92e44f=new Float32Array(this['numSplats']);for(let _0x149732=0x21*-0x25+-0x1*0x5a8+0xa6d;_0x149732<this['numSplats'];++_0x149732)_0x92e44f[_0x149732]=_0x270307[_0x149732];return _0x92e44f;}['getTScale'](){const _0x3397d5=this['getProp']('t_scale');if(!_0x3397d5)return;const _0x1c1488=new Float32Array(this['numSplats']);for(let _0x9e6f48=-0x6b6+0x1a45+-0x3*0x685;_0x9e6f48<this['numSplats'];++_0x9e6f48)_0x1c1488[_0x9e6f48]=Math['exp'](_0x3397d5[_0x9e6f48]);return _0x1c1488;}['getMotion'](_0xe70043){const _0x49f44d=this['getProp']('motion_0'),_0x4b96fc=this['getProp']('motion_1'),_0x2833c9=this['getProp']('motion_2');if(!(!_0x49f44d||!_0x4b96fc||!_0x2833c9)){for(let _0x1d4558=0x117e*0x1+-0x5b6+-0xbc8;_0x1d4558<this['numSplats'];++_0x1d4558)_0xe70043[_0x1d4558*(0x955*-0x3+0x357+0x3*0x839)+(-0x1156+-0xdca+0x1f20)]=_0x49f44d[_0x1d4558],_0xe70043[_0x1d4558*(0x5*-0xef+-0x1*-0x247f+-0xb5*0x2d)+(0x1d0c+-0x4*0x8cc+0x625)]=_0x4b96fc[_0x1d4558],_0xe70043[_0x1d4558*(0x399*-0x3+0xbbc*0x1+-0xee)+(-0x2312*-0x1+-0x1926+-0x9ea)]=_0x2833c9[_0x1d4558];}}['getTimeInd'+'ex'](_0x11b532){const _0x597b2f=this['getProp']('time_index');_0x597b2f&&_0x11b532['set'](_0x597b2f,-0x26bc+-0xa74*-0x1+-0xa*-0x2d4);}['calcFocalP'+'oint'](_0x3cedab,_0x50bd5c){const _0x3b3dda=this['getProp']('x'),_0x33b3c4=this['getProp']('y'),_0x48ca9c=this['getProp']('z'),_0x5468ea=this['getProp']('scale_0'),_0x4bc0fa=this['getProp']('scale_1'),_0x598ccb=this['getProp']('scale_2');_0x3cedab['x']=0x1*0x1025+-0x2326+-0x2b7*-0x7,_0x3cedab['y']=-0x3*-0x538+0xa03+-0x19ab,_0x3cedab['z']=-0x127a+-0x7ae+0xd8*0x1f;let _0x58ceab=0x1613*-0x1+-0x10cb+0x26de;for(let _0x1015da=-0x1f*0x12b+-0x1*0x24c1+-0x16*-0x351;_0x1015da<this['numSplats'];++_0x1015da){if(_0x50bd5c&&!_0x50bd5c(_0x1015da))continue;const _0x1a01e7=(-0x11f9*-0x1+0x65*0x25+0x2091*-0x1)/(0x463*0x5+0x14d0+-0x2abe+Math['exp'](Math['max'](_0x5468ea[_0x1015da],_0x4bc0fa[_0x1015da],_0x598ccb[_0x1015da])));_0x3cedab['x']+=_0x3b3dda[_0x1015da]*_0x1a01e7,_0x3cedab['y']+=_0x33b3c4[_0x1015da]*_0x1a01e7,_0x3cedab['z']+=_0x48ca9c[_0x1015da]*_0x1a01e7,_0x58ceab+=_0x1a01e7;}_0x3cedab['mulScalar']((0x131*0x17+-0x1*0x427+0xb*-0x21d)/_0x58ceab);}['renderWire'+'frameBound'+'s'](_0x373a35,_0x4eb0dd){const _0x402aa7=new T(),_0x560ce8=new se(),_0x15fdba=new T(),_0x2c857c=new T(),_0x456122=new T(),_0x3ff4eb=this['createIter'](_0x402aa7,_0x560ce8,_0x15fdba);for(let _0x142e4c=0x67b*0x4+-0x1a*0x56+-0x1*0x1130;_0x142e4c<this['numSplats'];++_0x142e4c)_0x3ff4eb['read'](_0x142e4c),z_(Fn,_0x402aa7,_0x560ce8),Fn['mul2'](_0x4eb0dd,Fn),_0x2c857c['set'](_0x15fdba['x']*-(0x23bd*0x1+0x1847+-0x3c02),_0x15fdba['y']*-(-0xa59*-0x1+0x1442+-0x1e99),_0x15fdba['z']*-(-0x1b16+0xdd4*0x2+-0x12*0x8)),_0x456122['set'](_0x15fdba['x']*(-0x219*-0xb+-0x92*-0x2b+-0x2f97),_0x15fdba['y']*(0x113f+0xf*0x13a+-0x23a3),_0x15fdba['z']*(0x1a6a+0x68d+-0x2ff*0xb)),_0x373a35['immediate']['drawWireAl'+'ignedBox'](_0x2c857c,_0x456122,B1,!(0x1*-0x19e2+-0x3b6+0x1d98),_0x373a35['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(0x10b6*0x1+-0x1*0x23b1+-0xa*-0x1e6);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2fa1a2=-0x19c8+0xa4d+0x529*0x3;_0x2fa1a2<-0x1*-0x183+-0x268f*0x1+0x1*0x2539;++_0x2fa1a2)if(!this['getProp']('f_rest_'+_0x2fa1a2))return _0x2fa1a2;return 0x5*-0x6c5+-0x1b2*0xa+0x32fa;})())]??-0x1*0xee9+-0x3*0x473+0x1c42;}['calcMorton'+'Order'](){const _0x15fd6b=_0x3582dc=>{let _0x166a2e=_0x3582dc[-0xf*0x66+0x864+-0x2*0x135],_0xcc3977=_0x3582dc[0x1921+-0x13cd+0x1*-0x554];for(let _0x593e98=-0x2466+-0x2309*0x1+-0x3*-0x17d0;_0x593e98<_0x3582dc['length'];_0x593e98++)_0x3582dc[_0x593e98]<_0x166a2e&&(_0x166a2e=_0x3582dc[_0x593e98]),_0x3582dc[_0x593e98]>_0xcc3977&&(_0xcc3977=_0x3582dc[_0x593e98]);return{'min':_0x166a2e,'max':_0xcc3977};},_0x59b534=(_0x38823c,_0x532a71,_0x31fd42)=>{const _0x110441=_0x418c9e=>(_0x418c9e&=-0x477*-0x1+0xc01+-0x67*0x1f,_0x418c9e=(_0x418c9e^_0x418c9e<<0xf25+0x766+0x167b*-0x1)&-0x60b7329a+-0x5*-0x3be3c30+0x14d0006a9,_0x418c9e=(_0x418c9e^_0x418c9e<<-0x20f9+0x4*-0x716+-0x15d*-0x2d)&0xd1775b+0x58b*-0xf978+0x79644dc,_0x418c9e=(_0x418c9e^_0x418c9e<<-0x1*0x2078+-0x2b*0x15+0x2403)&0xa*-0x681277+0x555a57f+0x1c743ea,_0x418c9e=(_0x418c9e^_0x418c9e<<-0x700*0x1+0xb3*-0x27+0x2247)&0x17ee71*0x37+0x101eb1ed*-0x1+0x141f09ef,_0x418c9e);return(_0x110441(_0x31fd42)<<-0x5e7+0x237f+0x2*-0xecb)+(_0x110441(_0x532a71)<<-0x2*0xc23+-0x1ca8+0x34ef)+_0x110441(_0x38823c);},_0x14074c=this['getProp']('x'),_0x28b7a3=this['getProp']('y'),_0x2726e3=this['getProp']('z'),{min:_0x596598,max:_0x2b89a1}=_0x15fd6b(_0x14074c),{min:_0x2eec4c,max:_0x3a3e0c}=_0x15fd6b(_0x28b7a3),{min:_0x272228,max:_0x534b61}=_0x15fd6b(_0x2726e3),_0x4a563b=_0x596598===_0x2b89a1?-0x1*0x6d9+-0x11dd+0x18b6:(-0x1ede+0x143d+0xea1)/(_0x2b89a1-_0x596598),_0x4ecf61=_0x2eec4c===_0x3a3e0c?0x12*-0x184+0x832+-0x98b*-0x2:(-0x1*-0x2401+0xf91+0x2*-0x17c9)/(_0x3a3e0c-_0x2eec4c),_0x4ac4ec=_0x272228===_0x534b61?0x1*-0xdd5+0x1*-0x7bd+0x2*0xac9:(-0x7a+0x1fbb*0x1+-0x1b41*0x1)/(_0x534b61-_0x272228),_0x506e35=new Map();for(let _0x32a3ef=-0x181b+0x11e1*-0x1+-0x14fe*-0x2;_0x32a3ef<this['numSplats'];_0x32a3ef++){const _0x349fff=Math['floor']((_0x14074c[_0x32a3ef]-_0x596598)*_0x4a563b),_0x425d10=Math['floor']((_0x28b7a3[_0x32a3ef]-_0x2eec4c)*_0x4ecf61),_0x2b6bff=Math['floor']((_0x2726e3[_0x32a3ef]-_0x272228)*_0x4ac4ec),_0x4528b7=_0x59b534(_0x349fff,_0x425d10,_0x2b6bff),_0x4b7b13=_0x506e35['get'](_0x4528b7);_0x4b7b13?_0x4b7b13['push'](_0x32a3ef):_0x506e35['set'](_0x4528b7,[_0x32a3ef]);}const _0x4695d9=Array['from'](_0x506e35['keys']())['sort']((_0x5c0c89,_0x4e4430)=>_0x5c0c89-_0x4e4430),_0x286a3c=new Uint32Array(this['numSplats']);let _0x317314=-0x315+-0xb03+-0x70c*-0x2;for(let _0x153f36=0x110d+0x87e*0x4+0x1*-0x3305;_0x153f36<_0x4695d9['length'];++_0x153f36){const _0x56ad9d=_0x506e35['get'](_0x4695d9[_0x153f36]);for(let _0x54bd9a=0x17ed+-0x1ae2+0x2f5;_0x54bd9a<_0x56ad9d['length'];++_0x54bd9a)_0x286a3c[_0x317314++]=_0x56ad9d[_0x54bd9a];}return _0x286a3c;}['reorder'](_0x254b5e){const _0x4afa17=new Map(),_0x231b93=_0x47b312=>{if(_0x4afa17['has'](_0x47b312)){const _0x42cd66=_0x4afa17['get'](_0x47b312);return _0x4afa17['delete'](_0x47b312),_0x42cd66;}return new ArrayBuffer(_0x47b312);},_0x5b3c09=_0x2859c0=>{_0x4afa17['set'](_0x2859c0['byteLength'],_0x2859c0);},_0x3462d2=_0xf2d1e2=>{const _0xb7b0f0=new _0xf2d1e2['constructo'+'r'](_0x231b93(_0xf2d1e2['byteLength']));for(let _0x20a013=-0x18bb+0xe1*0x1e+-0x1a3;_0x20a013<_0x254b5e['length'];_0x20a013++)_0xb7b0f0[_0x20a013]=_0xf2d1e2[_0x254b5e[_0x20a013]];return _0x5b3c09(_0xf2d1e2['buffer']),_0xb7b0f0;};this['elements']['forEach'](_0x59eb5f=>{_0x59eb5f['properties']['forEach'](_0x3204a2=>{_0x3204a2['storage']&&(_0x3204a2['storage']=_0x3462d2(_0x3204a2['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0xaa67c4={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x1be583=_0xaa67c4['dither']??Rs,_0x39f431=_0x1be583!==Rs,_0x4bb5e5=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0xaa67c4['vertex']??X['gsplatVS'],'fragmentCode':_0xaa67c4['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x4bb5e5['setDefine']('DITHER_'+_0x1be583['toUpperCas'+'e'](),''),_0x4bb5e5['cull']=mt,_0x4bb5e5['blendType']=_0x39f431?is:hr,_0x4bb5e5['depthWrite']=_0x39f431,_0x4bb5e5['update'](),_0x4bb5e5;};async function z1(){self['onmessage']=async _0x44e670=>{const {data:_0x3b23e3}=_0x44e670;switch(_0x3b23e3['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x3df4ee(_0x3b23e3['numSplats'],_0x3b23e3['shBands'],_0x3b23e3['SHData']);break;}};const _0x3df4ee=(_0x4e3142,_0x2aa5e9,_0x3debb2)=>{const _0xaef5a=new Uint32Array(_0x4e3142*(-0x44c+0x20b4+-0x1c64)),_0x20db6f=new Uint32Array(_0x4e3142*(-0x1b2f*0x1+-0x2276+0x3da9)),_0x5ca0bf=new Uint32Array(_0x4e3142*(0x1511+0x1eff+-0x2*0x1a06)),_0x16a6ac=new Uint32Array(_0x4e3142*(-0x1975*-0x1+-0x7*-0x2e5+0x5*-0x924)),_0x1da521={0x1:0x3,0x2:0x8,0x3:0xf}[_0x2aa5e9],_0x17889c=_0x3debb2,_0x258fe4=0x186e+-0x1de9+-0x2*-0x6bd,_0x4828b6=-0x329*0x2+-0x95d+0x9d7*0x2,_0x14d4f2=new Float32Array(0x266*0x3+-0xda*0x18+0xd3f),_0x2ae682=new Uint32Array(_0x14d4f2['buffer']),_0x3473ac=new Array(_0x1da521*(-0x81f+-0x5ca*0x4+-0x5*-0x642))['fill'](0x11f0+-0x9b*-0x29+0x10b*-0x29);for(let _0x34b335=-0x5f0+-0x5*0x728+0x29b8;_0x34b335<_0x4e3142;++_0x34b335){for(let _0x28deff=0x1cf4+-0x2*0x11fa+0x700;_0x28deff<_0x1da521;++_0x28deff)_0x3473ac[_0x28deff*(0x1ead+0x342*-0x9+-0x158*0x1)]=_0x17889c[_0x28deff][_0x34b335],_0x3473ac[_0x28deff*(0xb8a*0x1+0x507+-0x108e)+(0x2*0xb3f+-0x448+-0x1235)]=_0x17889c[_0x28deff+_0x1da521][_0x34b335],_0x3473ac[_0x28deff*(0x5e*-0x4b+-0x1119*-0x1+0xa74)+(-0x1832+0x2004+0x2*-0x3e8)]=_0x17889c[_0x28deff+_0x1da521*(-0x11ec+-0x1*-0x94f+0x89f)][_0x34b335];let _0x30dc09=_0x3473ac[0x233*-0x6+0x105e+-0x32c];for(let _0x31af0c=-0x2315+-0x2168+0x2*0x223f;_0x31af0c<_0x1da521*(0x17d5*-0x1+-0x2606+-0x1eef*-0x2);++_0x31af0c)_0x30dc09=Math['max'](_0x30dc09,Math['abs'](_0x3473ac[_0x31af0c]));if(_0x30dc09!==0x89e+-0x957+0xb9){for(let _0x131275=-0x11c3*0x2+-0x235b+-0x5*-0xe2d;_0x131275<_0x1da521;++_0x131275)_0x3473ac[_0x131275*(-0x43f*0x4+0x18bc*0x1+0x1*-0x7bd)+(0x1*0x2333+-0x7*0x19d+-0x17e8)]=Math['max'](0x15a1+-0x963+0x61f*-0x2,Math['min'](_0x258fe4,Math['floor']((_0x3473ac[_0x131275*(0x334*-0x2+0x30b*0xa+-0x1803)+(0x1*0x1646+-0x212d+0xae7)]/_0x30dc09*(-0x64a+0x1*-0x5e7+0xc31*0x1+0.5)+(0x1*-0x14e1+-0x7ae+0x1c8f+0.5))*_0x258fe4+(0x154*-0x6+0x1*-0x26af+-0x9*-0x52f+0.5)))),_0x3473ac[_0x131275*(-0x1f8c+0x19f9+0x596)+(-0x10a+0x1*-0x92b+0xa36)]=Math['max'](0x223*-0x7+0x4ff*0x1+-0x3*-0x352,Math['min'](_0x4828b6,Math['floor']((_0x3473ac[_0x131275*(0x319*0x6+-0x1de*0x13+0x10e7*0x1)+(-0x3*-0xb73+-0x17ba+-0xa9e)]/_0x30dc09*(-0x11e6+0x21ca+0x1c4*-0x9+0.5)+(0xb*0x2bf+0x2*0x11ce+-0x7*0x967+0.5))*_0x4828b6+(-0x1*0xac1+0x89b*0x1+0x226+0.5)))),_0x3473ac[_0x131275*(-0xab6+-0x15*0x11+0xc1e)+(-0xd74+0x1*0x1b6b+-0xdf5*0x1)]=Math['max'](-0x432+-0x1966+0x2*0xecc,Math['min'](_0x258fe4,Math['floor']((_0x3473ac[_0x131275*(-0x2c*0x26+0x195c+-0x1*0x12d1)+(-0x3b7*-0x9+-0x770+-0x19fd)]/_0x30dc09*(-0x246e+0x2399+0xd5+0.5)+(0x7e4+0x2646+-0x1715*0x2+0.5))*_0x258fe4+(0x1*0x266f+-0x1*0x2479+-0x1*0x1f6+0.5))));_0x14d4f2[0xcd1*-0x2+0x6*0x613+-0xad0]=_0x30dc09,_0xaef5a[_0x34b335*(-0xe3*0xe+-0x15*0x88+0x1796)+(0x3e+-0x278*-0xd+-0x2056)]=_0x2ae682[0x235b+0x25fc+-0x4957],_0xaef5a[_0x34b335*(0xd*-0x2ce+-0x9*-0x283+0x43*0x35)+(0x1107+0xce4*-0x2+0x76*0x13)]=_0x3473ac[-0xd8*0x5+0x2528+0x7c*-0x44]<<-0x9c*-0x1c+-0xb16*0x3+0x1047|_0x3473ac[0x25d9*0x1+-0x1c6a*-0x1+-0x4242]<<-0x99b*0x2+-0x34*-0x1e+0xd29|_0x3473ac[0x28*-0x2f+-0x1*-0x6c5+-0x1*-0x95],_0xaef5a[_0x34b335*(-0xe1e+0x4*0x8e9+-0x1582)+(-0x1d70+0x4*-0x332+-0x151d*-0x2)]=_0x3473ac[-0x466+0x1cb+0x29e]<<-0x3*-0x173+0x3b*-0x5e+0x1166|_0x3473ac[-0x106+0x141d+-0x1313]<<-0xcb5*-0x2+0x134e+-0x2cad|_0x3473ac[0x83+0x185b+-0x18d9*0x1],_0xaef5a[_0x34b335*(-0x369*-0x2+0x2a3*0xa+0x212c*-0x1)+(-0x223f+0x2171+0xd1)]=_0x3473ac[-0x92c+0x1*0x150d+0x5*-0x25f]<<-0x1a4a+-0x1646+-0x3*-0x1037|_0x3473ac[-0x1e4f*-0x1+0x2333+0x1*-0x417b]<<0x5b*0x4f+-0x15b5+0x1*-0x655|_0x3473ac[-0x65a*0x6+0x437+0x21ed],_0x2aa5e9>0x941*-0x1+0x26f5*-0x1+-0x1*-0x3037&&(_0x20db6f[_0x34b335*(0x1f70+-0x2*0x50b+0x1556*-0x1)+(-0x1*-0x2236+-0x1ec9+-0x36d)]=_0x3473ac[-0xcb*0x11+-0x1cff+0x1*0x2a83]<<0x1*-0x1c0b+0x235e+-0x135*0x6|_0x3473ac[-0x2029+0x22ab+0x8*-0x4f]<<0x163*-0x2+-0x19ae+0x1c7f|_0x3473ac[0x4d8*-0x1+-0xee3*-0x2+0x115*-0x17],_0x20db6f[_0x34b335*(0x1*0x1ed+0x1*0x1979+0x2*-0xdb1)+(-0xde9+-0x2425+0x320f)]=_0x3473ac[-0x8c6+0x1d*0xc5+0x5*-0x2b3]<<0x18cd+0x8*-0x2f6+-0x108|_0x3473ac[0x1e22+-0x2429*-0x1+0x116*-0x3d]<<0xa93*0x2+0x1ea7+-0x33c2|_0x3473ac[-0x600+-0x1391+0x199f],_0x20db6f[_0x34b335*(0xdee+0xa61*-0x1+-0x5*0xb5)+(0x3*-0x623+0x1edc+-0x5*0x27d)]=_0x3473ac[0xc7b*-0x2+-0xdc6*0x2+0x3491]<<0x9*-0x33+0x1514+-0x1334|_0x3473ac[0xa13+0x2*0x1194+-0x2d2b]<<-0x3*-0xc5a+0x2*-0x6aa+0x17af*-0x1|_0x3473ac[0x1b67+-0xd4f*0x2+-0xb8],_0x20db6f[_0x34b335*(-0x3*-0x2fc+0x2643+0x2f33*-0x1)+(0x14fa+-0x1d03+-0xce*-0xa)]=_0x3473ac[0x55f+0x76*-0x3d+0x9*0x289]<<0x2*-0xad6+0x1f39*0x1+-0x978|_0x3473ac[-0x11+0xa*-0x209+0x147e]<<-0x2f8*0x7+-0x100+-0x1*-0x15d3|_0x3473ac[-0x2280+-0x1964+0x3bf8],_0x2aa5e9>-0x2104+-0x5e*0x69+0x1*0x4794?(_0x5ca0bf[_0x34b335*(-0x8*-0x3a+-0x7*0x13+0x147*-0x1)+(0x18b*-0x2+-0x4*-0x131+-0x1ae)]=_0x3473ac[-0x235f+-0x16cd+0x3a41]<<0x1d*0x150+-0x1c51*0x1+-0x9aa*0x1|_0x3473ac[-0xc70+0x5e0+0x6a6*0x1]<<-0x9*-0x203+-0x13ab*-0x1+-0x25bb|_0x3473ac[0xa*0x359+-0x15ab+-0xbb8],_0x5ca0bf[_0x34b335*(0xf3+-0x3*0xce9+-0x3b*-0xa4)+(-0x17a9+0x2611+-0xe67)]=_0x3473ac[-0x1a82+-0xebc+0x2956]<<-0x8a0+0xb1d*-0x3+0x2a0c|_0x3473ac[0x1dca+-0x25f0+0x83f]<<-0x7cf+-0x14ea*-0x1+0x1*-0xd10|_0x3473ac[0x1ef1+0xd99*-0x1+-0x89f*0x2],_0x5ca0bf[_0x34b335*(-0x1*0x1ec5+-0x23b0+-0x77*-0x8f)+(-0x411+0x457*-0x1+0x86a)]=_0x3473ac[0x21c+-0x1*0x1595+0x1394*0x1]<<0x221f+0x2*-0x4ae+-0x15f*0x12|_0x3473ac[0x1*-0x9b3+-0x85*-0x18+-0x2a9]<<-0x5e6+0x13*-0x5e+0xceb|_0x3473ac[-0x7*0x2f3+-0xac0+0x1f82],_0x5ca0bf[_0x34b335*(0x780+-0xd1e+0x5a2)+(-0x25ef+-0x18e3+0x3ed5)]=_0x3473ac[0x32*-0xbc+0x107c+0x5*0x412]<<0xd71+0x494+-0x11f0|_0x3473ac[0x433+0x12e7+-0x16fb]<<0x773*-0x1+-0x1*-0x245f+0x1*-0x1ce1|_0x3473ac[-0x1002+-0x1db*-0x11+-0x107*0xf],_0x16a6ac[_0x34b335*(-0xb*-0x117+0x1*0xe3+-0xcdc)+(0x22c8+-0x24d8+-0x2*-0x108)]=_0x3473ac[0x71+-0x1c75+-0xb*-0x28f]<<-0x59*-0x29+-0x1b0f+0x1*0xce3|_0x3473ac[0x1*0x11a7+0x1a*0xa7+-0x227b]<<0x1*0x1963+-0x52a*0x5+0x7a|_0x3473ac[-0x3*0x5db+0x1293+-0xdf],_0x16a6ac[_0x34b335*(0x28c*-0x5+0x109b+0x15*-0x2f)+(-0x75*-0x38+-0x7*-0xd6+0x1*-0x1f71)]=_0x3473ac[0x1a4b*-0x1+0x13b+0x64d*0x4]<<0x9*-0x1ad+-0x252f+0x3459|_0x3473ac[-0x26d4+0x257f*-0x1+0x4c78]<<0x2d6+-0x3a*0x8f+0x1d9b|_0x3473ac[-0xabc+-0x20dd+0x2bbf],_0x16a6ac[_0x34b335*(-0x6*0x1a3+0x149f+-0xac9)+(0x6*0xc6+-0xd0f*0x2+0x157c)]=_0x3473ac[-0x1d*0x143+0x1357+0x1167]<<-0x2cb+0x2f4+-0x14|_0x3473ac[0x25a0+0x1*-0x1cb1+-0x8c7]<<0x2*0xf01+-0x1d17+0x7*-0x20|_0x3473ac[0x1ef5+-0x1025*0x1+-0xea7],_0x16a6ac[_0x34b335*(-0x1013*0x2+-0x1*0xa0a+0x2a34)+(-0x9f2+0x10c8+-0x6d3)]=_0x3473ac[0x569*0x5+-0x3*-0x5ce+-0x2c4d]<<-0x13fa+-0x4eb*0x3+-0x1168*-0x2|_0x3473ac[-0x685*0x2+-0x9*0xa7+-0x4c5*-0x4]<<0x1*-0xde3+0x1379+-0xb*0x81|_0x3473ac[0xc*-0x43+-0x1576+0x18c6]):_0x5ca0bf[_0x34b335]=_0x3473ac[0x1*0xf43+0x5a7+-0x14d5*0x1]<<0x182*0x11+-0x24cc+-0xb3f*-0x1|_0x3473ac[0xcc4+0x40e+-0x10bc]<<-0x439+0xe0c+-0x2*0x4e4|_0x3473ac[0xb96+-0xd6*0x27+-0x3*-0x709]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0xaef5a,'sh4to7Data':_0x20db6f,'sh8to11Data':_0x5ca0bf,'sh12to15Data':_0x16a6ac},[_0xaef5a['buffer'],_0x20db6f['buffer'],_0x5ca0bf['buffer'],_0x16a6ac['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x362a95=>{if(!this['worker'])return;const {data:_0x1e6647}=_0x362a95;switch(_0x1e6647['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x1e6647['sh1to3Data'],_0x1e6647['sh4to7Data'],_0x1e6647['sh8to11Dat'+'a'],_0x1e6647['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x375a9e,_0x20c539,_0x24d14f){var _0x3dc13a;(_0x3dc13a=this['worker'])==null||_0x3dc13a['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x375a9e,'shBands':_0x20c539,'SHData':_0x24d14f});}['destroy'](){var _0x5922ce;this['worker']&&((_0x5922ce=this['worker'])==null||_0x5922ce['terminate'](),this['worker']=null);}}const U_=(_0x29060e,_0x105d6e)=>{const _0x565a12=[];for(let _0x4abbf2=0x517+-0x1a86+0x156f;_0x4abbf2<_0x105d6e;++_0x4abbf2)_0x565a12['push'](_0x29060e['getProp']('f_rest_'+_0x4abbf2));return _0x565a12;};class V1{constructor(_0xb85264,_0x222a2e){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x5e5ea2=_0x222a2e['numSplats'];this['device']=_0xb85264,this['numSplats']=_0x5e5ea2,this['numSplatsV'+'isible']=_0x5e5ea2,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x222a2e['numSplats']*(-0x1ab*-0x15+0x24e2+-0x47e6)),this['motion']=new Float32Array(_0x222a2e['numSplats']*(-0x60c+-0xde3+-0x6f*-0x2e)),this['timeIndex']=new Float32Array(_0x222a2e['numSplats']),_0x222a2e['getCenters'](this['centers']),_0x222a2e['getMotion'](this['motion']),_0x222a2e['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x222a2e['getMuT'](this['timeOption']),this['tScale']=_0x222a2e['getTScale'](),this['is4D']=_0x222a2e['is4D'],this['aabb']=new _e(),_0x222a2e['calcAabb'](this['aabb']);const _0x5c116a=this['evalTextur'+'eSize'](_0x5e5ea2);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x5c116a),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x5c116a),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x5c116a),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x5c116a),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x5c116a),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x5c116a)),this['updateColo'+'rData'](_0x222a2e),this['updateTran'+'sformData'](_0x222a2e),this['shBands']=_0x222a2e['shBands'],this['shBands']>-0x1*0x1855+0x1959+-0x104&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x5c116a),this['shBands']>-0x40a+-0x2f5+0x700*0x1&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x5c116a),this['shBands']>0x270a+0x21f6+-0x48fe?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x5c116a),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x5c116a)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x5c116a)),this['updateSHDa'+'ta'](_0x222a2e));}['updateData'](_0x178cc6){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x58662e=_0x178cc6['numSplats'];this['numSplats']=_0x58662e,this['numSplatsV'+'isible']=_0x58662e,this['centers']=new Float32Array(_0x178cc6['numSplats']*(0xc6b+0xe5+-0xd4d)),this['motion']=new Float32Array(_0x178cc6['numSplats']*(0xaa5+-0xbd8+-0x5*-0x3e)),this['timeIndex']=new Float32Array(_0x178cc6['numSplats']),_0x178cc6['getCenters'](this['centers']),_0x178cc6['getMotion'](this['motion']),_0x178cc6['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x178cc6['getMuT'](this['timeOption']),this['tScale']=_0x178cc6['getTScale'](),this['is4D']=_0x178cc6['is4D'],this['aabb']=new _e(),_0x178cc6['calcAabb'](this['aabb']);const _0x40908f=this['evalTextur'+'eSize'](_0x58662e);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x40908f),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x40908f),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x40908f),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x40908f),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x40908f),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x40908f)),this['updateColo'+'rData'](_0x178cc6),this['updateTran'+'sformData'](_0x178cc6),this['shBands']=_0x178cc6['shBands'],this['shBands']>-0x1*-0x684+-0x22cb+-0x17d*-0x13&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x40908f),this['shBands']>-0x1*0x11d7+0x1f3+0xfe5&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x40908f),this['shBands']>0xbbf+-0x12fa+-0x6d*-0x11?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x40908f),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x40908f)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x40908f)),this['updateSHDa'+'ta'](_0x178cc6));}['destroy'](){var _0x440c8f,_0x4c8558,_0x4e18d4,_0x4f5d28,_0x49f3e0,_0x308acf,_0x103200,_0x247c65,_0x166066,_0x2fb419;(_0x440c8f=this['colorTextu'+'re'])==null||_0x440c8f['destroy'](),(_0x4c8558=this['transformA'+'Texture'])==null||_0x4c8558['destroy'](),(_0x4e18d4=this['transformB'+'Texture'])==null||_0x4e18d4['destroy'](),(_0x4f5d28=this['transformR'+'Texture'])==null||_0x4f5d28['destroy'](),(_0x49f3e0=this['transformT'+'SpeedTextu'+'re'])==null||_0x49f3e0['destroy'](),(_0x308acf=this['transformT'+'Texture'])==null||_0x308acf['destroy'](),(_0x103200=this['sh1to3Text'+'ure'])==null||_0x103200['destroy'](),(_0x247c65=this['sh4to7Text'+'ure'])==null||_0x247c65['destroy'](),(_0x166066=this['sh8to11Tex'+'ture'])==null||_0x166066['destroy'](),(_0x2fb419=this['sh12to15Te'+'xture'])==null||_0x2fb419['destroy']();}['createMate'+'rial'](_0x18e623){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x18d94b=z0(_0x18e623);return _0x18d94b['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x18d94b['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x18d94b['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x18d94b['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x18d94b['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x18d94b['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x18d94b['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x18d94b['setDefine']('SH_BANDS',this['shBands']),_0x18d94b['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x18d94b['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x18d94b['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x18d94b['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x18d94b['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x18d94b;}['evalTextur'+'eSize'](_0x43e829){const _0x45e68b=Math['ceil'](Math['sqrt'](_0x43e829)),_0x753338=Math['ceil'](_0x43e829/_0x45e68b);return new W(_0x45e68b,_0x753338);}['createText'+'ure'](_0x4560b2,_0xbe8c64,_0x263f18){return new he(this['device'],{'name':_0x4560b2,'width':_0x263f18['x'],'height':_0x263f18['y'],'format':_0xbe8c64,'cubemap':!(0x71b+-0x3f*-0x43+-0x1797),'mipmaps':!(0x1*-0x131b+0x2a6+-0x83b*-0x2),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x3d8baf){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x4efbb1=this['colorTextu'+'re'];if(!_0x4efbb1)return;const _0xdc24dc=Wt['float2Half'],_0x41537c=_0x4efbb1['lock'](),_0x4233d3=_0x3d8baf['getProp']('f_dc_0'),_0x2950ad=_0x3d8baf['getProp']('f_dc_1'),_0x2a148c=_0x3d8baf['getProp']('f_dc_2'),_0x3b228c=_0x3d8baf['getProp']('opacity'),_0x31a34e=-0x2*-0x9fa+0x248d+-0x3881+0.28209479177387814;for(let _0x309c45=0x83c*0x1+-0x25b0+-0xa*-0x2f2;_0x309c45<this['numSplats'];++_0x309c45){const _0x365ccb=_0x4233d3[_0x309c45]*_0x31a34e+(-0x2*-0x66e+-0x1df5+0x1119+0.5),_0x232be9=_0x2950ad[_0x309c45]*_0x31a34e+(0x4b*0x6f+-0x1adc+-0x5a9+0.5),_0x2aff99=_0x2a148c[_0x309c45]*_0x31a34e+(-0x202b+0xc36*-0x3+0x44cd+0.5),_0x518154=(-0x3*-0x71e+-0x2519+0xfc0)/(0x54f+-0x173f+0x11f1*0x1+Math['exp'](-_0x3b228c[_0x309c45]));_0x41537c[_0x309c45*(0x1de*-0x5+-0x1e1d+0x2777*0x1)+(0x4b1*0x5+-0x1026+-0x74f)]=_0xdc24dc(_0x365ccb),_0x41537c[_0x309c45*(-0xa46*0x2+0x1fb4+-0xb24)+(0x1178+0x3e*0x3d+-0x203d)]=_0xdc24dc(_0x232be9),_0x41537c[_0x309c45*(-0x1813+-0x24d6+0x1*0x3ced)+(0x9d*-0x35+0xf69+0x111a)]=_0xdc24dc(_0x2aff99),_0x41537c[_0x309c45*(-0x5ee*-0x3+-0x19*0x28+0x163*-0xa)+(0x8b0+0x4f6+-0xda3)]=_0xdc24dc(_0x518154);}_0x4efbb1['unlock']();}['updateTran'+'sformData'](_0x39979a){var _0x256515,_0x1b4ff8,_0x2d4e96,_0x56807d;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x33e03b=Wt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x8c7e8a=this['transformA'+'Texture']['lock'](),_0x41c982=new Float32Array(_0x8c7e8a['buffer']),_0x159619=this['transformR'+'Texture']['lock'](),_0x4bbc1c=new Float32Array(_0x159619['buffer']),_0x53340b=this['transformB'+'Texture']['lock'](),_0x501623=(_0x256515=this['transformT'+'SpeedTextu'+'re'])==null?void(0x3d9+0x1*0x15e3+0xb7*-0x24):_0x256515['lock']();let _0x1b5d07;_0x501623&&(_0x1b5d07=new Float32Array(_0x501623['buffer']));const _0x2c9543=(_0x1b4ff8=this['transformT'+'Texture'])==null?void(0x2e9*0x7+-0xca1+-0x7be):_0x1b4ff8['lock']();let _0x3cbf79;_0x2c9543&&(_0x3cbf79=new Float32Array(_0x2c9543['buffer']));const _0x65de08=new T(),_0x4dc5ca=new se(),_0x598772=new T(),_0xc2c016=new T(),_0x5be301=_0x39979a['createIter'](_0x65de08,_0x4dc5ca,_0x598772,null,_0xc2c016),_0x3a7f90=_0x39979a['getProp']('t'),_0x9ab30c=_0x39979a['getProp']('t_scale');for(let _0x212a0b=-0x2*0xd53+0x1a36+0x70;_0x212a0b<this['numSplats'];_0x212a0b++)_0x5be301['read'](_0x212a0b),_0x4dc5ca['normalize'](),_0x4dc5ca['w']<-0x2ad*0x7+0x7*-0x361+0x2a62&&_0x4dc5ca['mulScalar'](-(-0x199d+-0x15eb*-0x1+0x3b3)),_0x41c982[_0x212a0b*(-0x4e*0x4+-0x334+0x4*0x11c)+(-0x1*-0x2017+0x10d7+0x1*-0x30ee)]=_0x65de08['x'],_0x41c982[_0x212a0b*(-0x80a+0x2387+-0x1b79*0x1)+(0xeff+-0x2691+0x11*0x163)]=_0x65de08['y'],_0x41c982[_0x212a0b*(0x2*-0x144+-0x6*0x351+0xb39*0x2)+(-0x705+0x4ce+-0x1*-0x239)]=_0x65de08['z'],_0x53340b[_0x212a0b*(0x2250+-0x236+-0x2016)+(-0xd3*0x16+0x17a+-0x854*-0x2)]=_0x33e03b(_0x598772['x']),_0x53340b[_0x212a0b*(-0x9d*0x3b+-0x107b+-0x2*-0x1a57)+(-0xc9c+-0xa97*-0x2+-0x891)]=_0x33e03b(_0x598772['y']),_0x53340b[_0x212a0b*(-0x2148+0x197*0xf+0x973)+(-0x1df0+-0x3*-0x975+0x193*0x1)]=_0x33e03b(_0x598772['z']),_0x4bbc1c[_0x212a0b*(0x1*-0x50b+0x15eb+0x34*-0x53)+(-0x3a8+0x116c*-0x2+0x2680)]=_0x4dc5ca['x'],_0x4bbc1c[_0x212a0b*(0x2*0xf2c+-0x1585+-0x5*0x1c3)+(-0x3*0xb27+-0x1d1c+0x3e92)]=_0x4dc5ca['y'],_0x4bbc1c[_0x212a0b*(0x521*-0x1+0x1*0xb3+0x472*0x1)+(0x135e*0x2+0x2*-0x5cf+-0x1b1c)]=_0x4dc5ca['z'],this['is4D']&&_0x1b5d07&&_0x3cbf79&&(_0x1b5d07[_0x212a0b*(0x8cf+0x3*0x48f+0xb3c*-0x2)+(-0x9*0x213+-0x1d*-0x13d+-0x113e)]=_0xc2c016['x'],_0x1b5d07[_0x212a0b*(-0x234c+0x1a52+0x8fe)+(0x1e4d+0x6e*0x37+-0x35ee)]=_0xc2c016['y'],_0x1b5d07[_0x212a0b*(-0x4*-0x29+-0x2e*-0x29+0x5d*-0x16)+(-0x1724+-0x85a+0x1f80)]=_0xc2c016['z'],_0x3cbf79[_0x212a0b*(0x47f*-0x7+-0x256d+-0x2*-0x2275)+(-0x27*0x41+0x1c6*0xd+0x1e1*-0x7)]=_0x3a7f90?_0x3a7f90[_0x212a0b]:0x115f+-0x12+-0x2b*0x67,_0x3cbf79[_0x212a0b*(0x498*0x1+-0x2471+0x1fdd)+(0x1*-0xc31+0x2453+-0x3*0x80b)]=_0x9ab30c?Math['exp'](_0x9ab30c[_0x212a0b]):-0x144a*-0x1+0x66a+0x1ab4*-0x1);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x2d4e96=this['transformT'+'SpeedTextu'+'re'])==null||_0x2d4e96['unlock'](),(_0x56807d=this['transformT'+'Texture'])==null||_0x56807d['unlock']();}['updateSHDa'+'ta'](_0x35f03e){var _0x170042,_0x47a614,_0x790153,_0x12fb41,_0x582951,_0x4d2209,_0xee4e24;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x156627=(_0x170042=this['sh1to3Text'+'ure'])==null?void(0x12ef+0x116d+-0x245c*0x1):_0x170042['lock'](),_0x48a4de=(_0x47a614=this['sh4to7Text'+'ure'])==null?void(-0x2bd*0x6+-0x1d*0xae+0x2424):_0x47a614['lock'](),_0x294364=(_0x790153=this['sh8to11Tex'+'ture'])==null?void(-0x63e*-0x4+0x4*-0x812+0x27*0x30):_0x790153['lock'](),_0x1df6f1=(_0x12fb41=this['sh12to15Te'+'xture'])==null?void(0x1*0xb12+-0x439+-0x6d9):_0x12fb41['lock'](),_0x1b06c8={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x2c072e=U_(_0x35f03e,_0x1b06c8*(0x53*-0x6+0x2156+-0x1f61)),_0x3a505e=0x22b4*0x1+0x74d+-0x5ab*0x6,_0xebdda8=0x1024+0x1efa+-0x1*0x2b1f,_0x23a2f5=new Float32Array(-0x373*-0x3+-0x25fc*-0x1+-0x3054),_0x1d2d91=new Uint32Array(_0x23a2f5['buffer']),_0x1db809=new Array(_0x1b06c8*(0x23ed*0x1+0xa04*0x1+-0x2dee))['fill'](0x4*0x86+-0x403*0x2+-0x5ee*-0x1);for(let _0x2b171e=-0x1*0x1e85+0x5b3+0x18d2*0x1;_0x2b171e<_0x35f03e['numSplats'];++_0x2b171e){for(let _0xe4f264=0x4a4+0x1*0x1045+-0x1*0x14e9;_0xe4f264<_0x1b06c8;++_0xe4f264)_0x1db809[_0xe4f264*(0x521+-0x188*-0x3+0xb*-0xe2)]=_0x2c072e[_0xe4f264][_0x2b171e],_0x1db809[_0xe4f264*(0x10d9*-0x2+-0x11c5+0xb*0x4ae)+(-0x5a*-0x44+0x4*-0x4be+-0x4ef)]=_0x2c072e[_0xe4f264+_0x1b06c8][_0x2b171e],_0x1db809[_0xe4f264*(0x67e*-0x1+0x65*-0x28+0x1649)+(-0x187f+-0xd5c+0x25dd)]=_0x2c072e[_0xe4f264+_0x1b06c8*(0xdce*-0x1+-0x1ad2+0x28a2)][_0x2b171e];let _0x1df7a9=_0x1db809[0xb8e*-0x3+-0xf9e+0x2*0x1924];for(let _0x376bb7=0x2501+-0x12d2+0xd*-0x166;_0x376bb7<_0x1b06c8*(0xb71+-0x1cec+0x117e);++_0x376bb7)_0x1df7a9=Math['max'](_0x1df7a9,Math['abs'](_0x1db809[_0x376bb7]));if(_0x1df7a9!==-0x1*0x135b+0x19b6+0x1*-0x65b){for(let _0x28d54d=0x119*-0x13+-0x3*-0xe1+0x1238;_0x28d54d<_0x1b06c8;++_0x28d54d)_0x1db809[_0x28d54d*(0x90e*0x1+0xc*0x324+0x1*-0x2ebb)+(-0x10e5*0x2+0x1*0x427+0x1da3)]=Math['max'](-0x3*-0x543+-0x785+-0x844,Math['min'](_0x3a505e,Math['floor']((_0x1db809[_0x28d54d*(0x365+-0x24b4+0x2152)+(-0xbbf+0x1419+0x42d*-0x2)]/_0x1df7a9*(-0x94*0x6+-0x37+0x3af+0.5)+(-0x1126+0x23ee+-0x12c8+0.5))*_0x3a505e+(-0x17d5+-0xed7+0x26ac+0.5)))),_0x1db809[_0x28d54d*(-0x1e37+-0x3ae+0x21e8)+(0x218d+0x158a+-0x502*0xb)]=Math['max'](-0x1c45+-0x2459+-0x2*-0x204f,Math['min'](_0xebdda8,Math['floor']((_0x1db809[_0x28d54d*(-0x65b*-0x4+-0x25*0xbd+0x3d*0x8)+(-0x24ed+-0x5cf+0x2abd)]/_0x1df7a9*(-0x1*-0x14c3+0x1*-0xd69+0x2*-0x3ad+0.5)+(-0x2092+0x1893+0x7ff+0.5))*_0xebdda8+(0x125*0x1+-0x1afe+0x19d9+0.5)))),_0x1db809[_0x28d54d*(0x1*-0x242a+0x158+0x22d5)+(0x1*-0x1fe3+0x1e2+0x1e03)]=Math['max'](0x1188+-0x26b5+0x152d*0x1,Math['min'](_0x3a505e,Math['floor']((_0x1db809[_0x28d54d*(-0x1aa0+-0x4b*0x4f+0x31c8)+(0xa8d*0x1+-0x39*-0x1+-0xac4)]/_0x1df7a9*(0x2b+-0x6f+-0x11*-0x4+0.5)+(-0x3f*-0x25+0x1028+-0x1*0x1943+0.5))*_0x3a505e+(0x21a*0x7+-0x2027+0x1171+0.5))));_0x23a2f5[-0x1f*-0x1f+0x2453*0x1+-0x2814]=_0x1df7a9,_0x156627[_0x2b171e*(-0x1*0x1f19+-0x7a0+0x26bd)+(0x1d67+-0x11b*0xd+0x25*-0x68)]=_0x1d2d91[-0x20a8+-0x19c8+0x3a70],_0x156627[_0x2b171e*(-0x192*-0x17+0x107e+-0x3498)+(0x23f7+-0x2340+-0xb6)]=_0x1db809[0x2f*-0x97+-0x406*-0x5+0x79b]<<0x1a86+0x51*-0x25+-0xebc|_0x1db809[-0x19*0x5+0xc73+-0xbf5]<<0x11*-0x20e+-0x26de+-0x1*-0x49d7|_0x1db809[-0x33*0x71+0x1ed8+0x853*-0x1],_0x156627[_0x2b171e*(-0x1e2a+-0x1ab2*-0x1+0x37c)+(0x1*0x251b+-0x38f*-0x3+-0x2fc6)]=_0x1db809[0x9d6+0x18f9*0x1+-0x4*0x8b3]<<0x266a+0x1ee0+-0x4535|_0x1db809[-0x1e3d+0x256a+-0x729]<<0x59b+-0x251*0xd+0x188d|_0x1db809[0x20f7+0x1*-0x6a2+0x4*-0x694],_0x156627[_0x2b171e*(-0x4*0x677+-0x24a6+0x3e86)+(0x5*0x73a+-0x2263+-0x3*0x94)]=_0x1db809[0xc98+0x22*0xcb+-0x2788]<<0x8cb+-0x2001+-0x43*-0x59|_0x1db809[-0x3*-0x632+0x1efc+0x1*-0x318b]<<0x1*0x6e5+0x2226+-0x520*0x8|_0x1db809[-0x58e+0x4d9+-0xbd*-0x1],this['shBands']>0xade+0x457+-0xf34&&(_0x48a4de[_0x2b171e*(-0x2d*0xae+0x97*-0x17+0x2c2b)+(-0x270b*0x1+0x2*-0x551+0x31ad)]=_0x1db809[-0x17bd+0x503*0x3+0x1*0x8bd]<<0x2*-0x10af+0x1fa2+0x5d*0x5|_0x1db809[-0x119a+0xef2+0x2b2]<<-0x1*0x25d2+0x1*0x19bb+-0x611*-0x2|_0x1db809[-0x1*-0x2452+-0x79*0x3c+-0x7eb*0x1],_0x48a4de[_0x2b171e*(-0xbfd+0x2236*0x1+-0x1635)+(0x104d+-0x11*0xe0+-0x16c)]=_0x1db809[-0x22d1*-0x1+0x4*-0x740+0x5c5*-0x1]<<-0xace+-0x5bf+0x10a2|_0x1db809[-0x8a*-0x3a+0x1*0x8ad+-0x27e4]<<-0x2*-0xd04+0x1e5+-0x1be2|_0x1db809[0x1*-0x1dfb+-0x169*-0x19+-0x538],_0x48a4de[_0x2b171e*(0x208*0x1+0x1475*0x1+-0x1679)+(-0x2b*-0x9e+0x12c7+-0x2d4f)]=_0x1db809[-0x5*0x422+0x9*0x147+0x93a]<<-0x41*0xd+-0x5*0x5cc+-0x2*-0x102f|_0x1db809[0x1830+-0x2*0xc2e+0x3c]<<-0x1ed*-0x13+-0x12c3+-0x11c9|_0x1db809[-0x129*-0xb+-0x2545+0x1893],_0x48a4de[_0x2b171e*(0x4*0x6b2+-0x2069+0x5a5)+(-0xcc*-0x9+-0x251*0xd+0x16f4)]=_0x1db809[0x9*-0x3db+-0x214e+0x4413]<<-0x21*0x126+-0xec2+0x34bd|_0x1db809[-0x1*0x1a56+0x54a+0x1*0x151f]<<0xa79+0x1d4b*-0x1+0x1*0x12dd|_0x1db809[-0xbc7+0x316*0x3+-0x5*-0x85],this['shBands']>0x8*0x4cb+0x1*0x15ad+-0x3c03?(_0x294364[_0x2b171e*(0xdc2+0x109f+0x1*-0x1e5d)+(-0x16fc+0x47*-0x3+-0xd*-0x1d5)]=_0x1db809[0x1f56+-0x25*-0xeb+-0x4138]<<-0x3e6*-0x2+-0x201+-0x5b6|_0x1db809[-0x96c+-0x838+0x11ba]<<0x6c8+0xd2*0x23+-0x3*0xbd1|_0x1db809[0x2d0+-0x5f9*-0x2+-0xeab],_0x294364[_0x2b171e*(0x1*-0x1243+0x26ac+0x1465*-0x1)+(0x105e+-0x11*-0x113+-0x20*0x115)]=_0x1db809[-0x26e6+0x1*-0x2479+0x4b77]<<-0x16c9+-0x1f*0x3c+0x1e22|_0x1db809[-0x2652+0x1e94+-0xdf*-0x9]<<-0x26d*-0x3+-0x1f5f*-0x1+0x269b*-0x1|_0x1db809[0x2b3*-0x6+-0x236*0x3+0x16ee],_0x294364[_0x2b171e*(-0x2657+-0x1611+-0x2*-0x1e36)+(-0xf8b*-0x2+0x5d1+-0x1*0x24e5)]=_0x1db809[0x1*-0x2192+0x1*-0x1df3+0x3fa0]<<0x12*0xf9+0x176f*0x1+-0x5*0x82c|_0x1db809[-0xa78+0xb*0x135+-0x2b3*0x1]<<0x8*-0x1f8+0x4*-0x10+0x3*0x559|_0x1db809[0x17*-0xb2+-0x1c67+0x2c82],_0x294364[_0x2b171e*(0xe48*-0x1+-0x2cd+0x1119*0x1)+(-0x239*-0xd+0x25d5+-0x42b7)]=_0x1db809[0x8b5+0x2b*0x3+0x48c*-0x2]<<0xb78+-0xa2c+0x1*-0x137|_0x1db809[-0x1*-0x728+0xde8+-0x3*0x6fb]<<0x31c+0x1161+0x2*-0xa39|_0x1db809[0x65*-0x57+-0x223c+0x44af],_0x1df6f1[_0x2b171e*(0x23e3+0x1*0x1d7f+-0x3*0x15ca)+(-0x1602+-0xaf3*-0x2+-0x2*-0xe)]=_0x1db809[0xb*-0x63+0xbf*-0x4+-0x17*-0x52]<<-0xc35+-0x3*-0xb55+-0x1*0x15b5|_0x1db809[0x57b+-0x17*-0xf7+-0x96*0x2f]<<0x96c+-0x1795+0xe34|_0x1db809[0x1*0x1cff+-0x1016+-0xcc6],_0x1df6f1[_0x2b171e*(-0x26f2+-0x47*0x5+-0xd73*-0x3)+(-0x1235+0x8c*0x47+-0x149e)]=_0x1db809[-0xb34+-0x1*0x29b+0x1*0xdf3]<<-0x137*0x3+-0xaee+0x43*0x38|_0x1db809[0x1*0x22de+0x4b*-0x5d+-0x77a]<<0x36*-0x9+0x1*0xb6b+-0x97a*0x1|_0x1db809[-0x11f1+0x5a1+0x1*0xc76],_0x1df6f1[_0x2b171e*(-0xc8b+0xcf*-0x17+0x1f28)+(0x2f*-0x9e+0x854+-0x2*-0xa58)]=_0x1db809[0x219a+-0x214*-0x1+-0x2387]<<0x10*-0x1dc+-0x1f58+0x3d2d|_0x1db809[0x2*-0x11fa+0x2a1*0x2+0x1eda]<<0x17fb+0x1e+0x180e*-0x1|_0x1db809[0x1*0x1c73+-0x25+0x28f*-0xb],_0x1df6f1[_0x2b171e*(-0x1*-0x752+-0x7*-0x306+-0x1c78)+(0x1477+-0x3*-0x23d+-0x1b2b)]=_0x1db809[-0x2*0x3a9+0x103d+-0x8c1]<<0xc9c+0x93e+0x1*-0x15c5|_0x1db809[0x9b*0x1d+-0xdfd+0xd*-0x43]<<0x15b6+0x471+-0x1a1c|_0x1db809[-0x1f0c+-0x2ab*-0xc+0x6*-0x22]):_0x294364[_0x2b171e]=_0x1db809[0x1ea9*-0x1+0x13bc+0xb02]<<-0xa95+0xbec+0x17*-0xe|_0x1db809[0x1bb3+0x73*-0x17+-0x1148]<<-0x748+0x1*0x269b+0x4d*-0x68|_0x1db809[0x1938+0xd*0x2c5+-0x3d22]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x582951=this['sh4to7Text'+'ure'])==null||_0x582951['unlock'](),(_0x4d2209=this['sh8to11Tex'+'ture'])==null||_0x4d2209['unlock'](),(_0xee4e24=this['sh12to15Te'+'xture'])==null||_0xee4e24['unlock']();}['updateSHDa'+'taByWorker'](_0x4364de){const _0x61b774={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x31ae9c=U_(_0x4364de,_0x61b774*(-0x1d6e+0xf31+0xe40));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x4364de['numSplats'],this['shBands'],_0x31ae9c),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x26affe,_0x2ff6e4,_0x5ea0cf,_0x3e119b)=>{var _0xd5a42b,_0x5d26ae,_0x1d2f19,_0x5e22fb,_0x5457b3,_0x27cbba,_0x4e3286,_0x330f2a,_0xd3ce0b,_0x3260d7;const _0x1b8d0c=(_0xd5a42b=this['sh1to3Text'+'ure'])==null?void(0xdfb+-0xb11+-0x2ea):_0xd5a42b['lock']();if(new Uint32Array(_0x1b8d0c['buffer'])['set'](_0x26affe),(_0x5d26ae=this['sh1to3Text'+'ure'])==null||_0x5d26ae['unlock'](),this['shBands']>0x1e0c+-0x31*-0x71+-0x33ac){const _0x2d7989=(_0x1d2f19=this['sh4to7Text'+'ure'])==null?void(-0x1ea5+0x5*0x5d1+0x190):_0x1d2f19['lock']();if(new Uint32Array(_0x2d7989['buffer'])['set'](_0x2ff6e4),(_0x5e22fb=this['sh4to7Text'+'ure'])==null||_0x5e22fb['unlock'](),this['shBands']>0x31*0x93+0x117a+0x2d9b*-0x1){const _0x3c4a5e=(_0x5457b3=this['sh8to11Tex'+'ture'])==null?void(-0x1*0x1f0f+-0x25*0xa9+-0x35*-0x10c):_0x5457b3['lock']();new Uint32Array(_0x3c4a5e['buffer'])['set'](_0x5ea0cf),(_0x27cbba=this['sh8to11Tex'+'ture'])==null||_0x27cbba['unlock']();const _0x386050=(_0x4e3286=this['sh12to15Te'+'xture'])==null?void(-0x1dbf+0x1*0x3a8+0x1a17):_0x4e3286['lock']();new Uint32Array(_0x386050['buffer'])['set'](_0x3e119b),(_0x330f2a=this['sh12to15Te'+'xture'])==null||_0x330f2a['unlock']();}else{const _0x5853a9=(_0xd3ce0b=this['sh8to11Tex'+'ture'])==null?void(0x1e74+-0x3*-0x876+-0x7fa*0x7):_0xd3ce0b['lock']();new Uint32Array(_0x5853a9['buffer'])['set'](_0x5ea0cf),(_0x3260d7=this['sh8to11Tex'+'ture'])==null||_0x3260d7['unlock']();}}});}}async function G1(){let _0x81ef38=null,_0x30146f=null,_0x5a4910=null,_0x185453=null,_0xbd8dd3=null,_0x8aa648=null,_0x2443e6=null,_0x3ff2eb=null,_0x26a42f=null,_0x219e2e=null,_0x183b45=null,_0x260f92=null,_0x4881a8=null,_0x33d521=null,_0x259441=null,_0x38a086=null,_0x42f294=null,_0xe3125d=null,_0x5c766d=null,_0x12c85f=null,_0x5bebfe=null,_0x311af7=null,_0x47c8ff=null,_0x173317=null,_0x5535b7=null,_0x5d1dd1=Float32Array['BYTES_PER_'+'ELEMENT'],_0x5ba47f=Uint32Array['BYTES_PER_'+'ELEMENT'],_0xe9b0a6=-0xdba+0x1669+0xab*-0xd,_0x520e88=!(0x1c6c+0x4a*-0x25+0x1*-0x11ba),_0xb4aaf7,_0xd5e982,_0x96e92b={'x':0x0,'y':0x0,'z':0x0},_0xe8a1ec={'x':0x0,'y':0x0,'z':0x0},_0x23ac8a=!(0xd0a*0x1+-0x175*-0xf+0x22e5*-0x1),_0x47d9bb=!(0x1bb7+0x1b7c+-0x12*0x311),_0x1c5f43=!(0x634+0x461+-0xa94),_0x3a9b9d=0x239*-0x3+-0x257d+0x2c28,_0x3fb99d=0x1*-0x1799+-0x1109+0x2e7*0xe,_0x14729c=!(0x718+0x35*-0xad+-0xe5d*-0x2),_0x16f2e5=null;self['onmessage']=async _0x54f57b=>{const {data:_0x141434}=_0x54f57b;switch(_0x141434['type']){case'initWorker':_0xe9b0a6=_0x141434['numSplats'],_0x1e015a(),_0x520e88=_0x141434['is4d'],await _0xd94ec3(_0x141434['sortWasmUr'+'l']),_0x49f87c(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x141434['dataReady']){if(_0x8aa648&&_0x141434['centers']&&_0x8aa648['length']===_0x141434['centers']['length']){const _0x28ed8f=new Float32Array(_0x141434['centers']);_0x8aa648['set'](_0x28ed8f);}if(_0x26a42f&&_0x141434['timeIndex']&&_0x26a42f['length']===_0x141434['timeIndex']['length']){const _0x30b984=new Uint32Array(_0x141434['timeIndex']);_0x26a42f['set'](_0x30b984);}if(_0x260f92&&_0x141434['motion']&&_0x260f92['length']===_0x141434['motion']['length']){const _0x4ea268=new Float32Array(_0x141434['motion']);_0x260f92['set'](_0x4ea268);}if(_0x520e88&&_0x219e2e&&_0x183b45&&_0x141434['muT']&&_0x141434['tScale']&&_0x219e2e['length']===_0x141434['muT']['length']&&_0x183b45['length']===_0x141434['tScale']['length']&&(_0x219e2e['set'](_0x141434['muT']),_0x183b45['set'](_0x141434['tScale'])),_0x2443e6){for(let _0x74a131=-0xef8+0x1217*0x1+-0x31f;_0x74a131<_0x2443e6['length'];++_0x74a131)_0x2443e6[_0x74a131]=_0x74a131;}_0xbd8dd3&&_0x141434['timeOption']&&_0xbd8dd3['set'](_0x141434['timeOption']),setTimeout(()=>{_0x126d26();},0x617+0x1c*-0x86+0x2b*0x33);}break;case'setTime':_0xb4aaf7=_0x141434['time'],_0x32d21e();break;case'setUseTemp'+'oralSort':_0x23ac8a=_0x141434['useTempora'+'lSort'];break;case'sort':if(!_0x5a4910)return;_0x5a4910[0x388*-0xa+-0x19df+0x3*0x1465]=_0x141434['cameraPosi'+'tion']['x'],_0x5a4910[-0x3a*-0x15+-0x1*0x85a+0x399]=_0x141434['cameraPosi'+'tion']['y'],_0x5a4910[0xefd+0x5*0x773+-0x343a]=_0x141434['cameraPosi'+'tion']['z'],_0x185453[-0x1*-0x224+-0x137*0x2+-0x25*-0x2]=_0x141434['cameraDire'+'ction']['x'],_0x185453[-0xb5*0x18+-0x4d1*-0x2+0x757]=_0x141434['cameraDire'+'ction']['y'],_0x185453[0x481*-0x7+-0xc38+0x2bc1]=_0x141434['cameraDire'+'ction']['z'],_0x32d21e();break;}};const _0x32d21e=()=>{_0x16f2e5&&clearTimeout(_0x16f2e5),_0x16f2e5=setTimeout(()=>{_0x16f2e5=null,_0x36d439();},-0x205+-0x2*-0x16e+-0xd7);},_0x1e015a=()=>{_0x3fb99d=Math['max'](-0xc83*-0x1+-0xcd5+0x5c,Math['min'](-0x5*-0x790+-0x1*0x60f+-0x1fad,Math['round'](Math['log2'](_0xe9b0a6/(0x704+-0xe91*-0x2+0x2*-0x1211))))),_0x3a9b9d=(0xd57*0x2+0xa*-0x203+0x68e*-0x1)**_0x3fb99d+(-0x1c20+0x15f5+0x62c);},_0x49f87c=()=>(_0x4881a8=0x9*0x23d+0x1bc7+0x17f6*-0x2,_0x33d521=_0x4881a8+_0xe9b0a6*_0x5d1dd1*(-0x8*0x3ea+0x117d+0xb*0x142),_0x5c766d=_0x33d521+(0x2372*0x1+-0xe*-0x135+-0x33f4)*_0x5d1dd1*(0x6a1+0xe*-0x59+-0x1c1*0x1),_0x12c85f=_0x5c766d+_0xe9b0a6*_0x5ba47f,_0x5bebfe=_0x12c85f+(0x220+0x56b*0x7+-0x29*0xfa)*_0x5d1dd1,_0x311af7=_0x5bebfe+(-0x8*-0x39f+-0xb9*0xd+-0x1390)*_0x5d1dd1,_0x47c8ff=_0x311af7+(0xca*0x29+0x714+-0x276b)*_0x5d1dd1,_0x173317=_0x47c8ff+(-0x372+-0x14b*-0x2+0xdf*0x1)*_0x5d1dd1,_0x5535b7=_0x173317+_0xe9b0a6*_0x5ba47f,_0x8aa648=new Float32Array(_0x30146f,_0x4881a8,_0xe9b0a6*(-0x2*0x99f+-0xf*-0x73+-0x42c*-0x3)),_0xbd8dd3=new Float32Array(_0x30146f,_0x33d521,(-0x209*0xe+0xc83+0x105f)*(-0x26a4+0x9*-0x313+0x3*0x161b)),_0x2443e6=new Uint32Array(_0x30146f,_0x5c766d,_0xe9b0a6),_0x3ff2eb=new Uint32Array(_0x2443e6),_0x5a4910=new Float32Array(_0x30146f,_0x12c85f,-0xcc3+-0x1d8*0x2+0x1*0x1076),_0x185453=new Float32Array(_0x30146f,_0x5bebfe,-0x1*-0xb80+-0x171d+0xba0),_0x520e88&&(_0x42f294=_0x5535b7+_0x3a9b9d*_0x5ba47f,_0xe3125d=_0x42f294+_0xe9b0a6*_0x5d1dd1,_0x38a086=_0xe3125d+_0xe9b0a6*_0x5d1dd1,_0x259441=_0x38a086+_0xe9b0a6*(0x1*0x212e+-0xbd9*-0x3+0x2*-0x225b)*_0x5d1dd1,_0x219e2e=new Float32Array(_0x30146f,_0x42f294,_0xe9b0a6),_0x183b45=new Float32Array(_0x30146f,_0xe3125d,_0xe9b0a6),_0x260f92=new Float32Array(_0x30146f,_0x38a086,_0xe9b0a6*(0x1*0x673+-0x1*-0xb4d+0xef*-0x13)),_0x26a42f=new Uint32Array(_0x30146f,_0x259441,_0xe9b0a6)),{'sharedMemory':_0x30146f,'layout':{'timeOptionPtr':_0x33d521,'timeIndexPtr':_0x259441,'centersPtr':_0x4881a8,'motionPtr':_0x38a086,'muTPtr':_0x42f294,'tScalePtr':_0xe3125d,'orderPtr':_0x5c766d,'cameraPositionPtr':_0x12c85f,'cameraDirectionPtr':_0x5bebfe,'boundMinPtr':_0x311af7,'boundMaxPtr':_0x47c8ff,'distancesPtr':_0x173317,'countBufferPtr':_0x5535b7}}),_0xd94ec3=async _0x179d4f=>{let _0x239e4d=_0xe9b0a6*_0x5d1dd1*(0xd*-0x275+-0x1*0x134e+-0x3342*-0x1);_0x239e4d+=_0xe9b0a6*_0x5ba47f,_0x239e4d+=(0xb*0xfd+-0x24*-0x8c+0x1*-0x1e8c)*_0x5d1dd1,_0x239e4d+=(-0xd91+0x1a1a+0xe5*-0xe)*_0x5d1dd1,_0x239e4d+=(-0x2*-0x602+0x3c7+-0xfc8)*_0x5d1dd1,_0x239e4d+=(-0x1db1+0xf32+-0x26b*-0x6)*_0x5d1dd1,_0x239e4d+=_0xe9b0a6*_0x5d1dd1,_0x239e4d+=_0x3a9b9d*_0x5ba47f,_0x239e4d+=(0x1170+-0x116*-0x20+-0x33cc)*_0x5d1dd1*(-0x8e0+0x8d*-0x2f+0x45*0x81),_0x239e4d+=_0xe9b0a6*_0x5ba47f,_0x520e88&&(_0x239e4d+=_0xe9b0a6*_0x5d1dd1,_0x239e4d+=_0xe9b0a6*_0x5d1dd1,_0x239e4d+=_0xe9b0a6*_0x5d1dd1*(-0xea0+0xf*-0x101+0x1db2));const _0x256045=(0x4*0x78b+0x7fa+-0x372*0xb)*(-0x229a+-0x4*-0x1c4+0x1f8a),_0x195a46=Math['ceil'](_0x239e4d/_0x256045),_0x47cade={'env':{'memory':new WebAssembly['Memory']({'initial':_0x195a46,'maximum':_0x195a46,'shared':!(-0x1*0x833+0x373*0x3+-0xa*0x37)}),'pthread_self':function(){return 0xc2e+-0x217a+0xaa6*0x2;},'emscripten_builtin_memalign':function(){return 0x2bf*0x5+-0x16*0x123+0x1*0xb47;},'loggerVec3':(_0x48f9b4,_0x2824af,_0x3be9b8,_0x925137)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x48f9b4+']\x200:'+_0x2824af+'\x201:'+_0x3be9b8+'\x202:'+_0x925137);},'loggerFloat':(_0x1a9826,_0x54c1a8)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x1a9826+']\x20a:'+_0x54c1a8);},'loggerValue':(_0x3303cc,_0x13f64b,_0x4f79b4,_0x4421aa,_0x1efc74)=>{console['log']('C++\x20logger'+'Value\x20['+_0x3303cc+']\x20minDist:'+_0x13f64b+'\x20maxDist:'+_0x4f79b4+'\x20range:'+_0x4421aa+'\x20divider:'+_0x1efc74);},'loggerCamera':(_0x4223c2,_0x3a6fcc,_0x542d93,_0x84dde5,_0xd4e3e0,_0x31c06d,_0xe7999a)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x4223c2+']\x20x:'+_0x3a6fcc+'\x20y:'+_0x542d93+'\x20z:'+_0x84dde5+'\x20dx:'+_0xd4e3e0+'\x20dy:'+_0x31c06d+'\x20dz:'+_0xe7999a);},'loggerBound':(_0x26b842,_0x6f4b80,_0x5326b5,_0x4f155a,_0x331631,_0x4a4f95)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x26b842+'\x20minY:'+_0x6f4b80+'\x20minZ:'+_0x5326b5+'\x20maxX:'+_0x4f155a+'\x20maxY:'+_0x331631+'\x20maxZ:'+_0x4a4f95);},'loggerDebug':_0x199628=>{console['log']('C++\x20logger'+'Debug\x20['+_0x199628+']');}}};try{const _0x196b15=await(await fetch(_0x179d4f))['arrayBuffe'+'r']();return _0x81ef38=(await WebAssembly['instantiat'+'e'](_0x196b15,_0x47cade))['instance'],_0x30146f=_0x47cade['env']['memory']['buffer'],_0x81ef38;}catch(_0x4bf9ca){throw console['error']('WASM'+':',_0x4bf9ca),_0x4bf9ca;}},_0x126d26=()=>{if(!_0x81ef38)return;const {calcAABB:_0x198211}=_0x81ef38['exports'];_0x198211(_0x4881a8,_0x311af7,_0x47c8ff,_0xe9b0a6);},_0x36d439=()=>{if(!_0x81ef38||_0x5c766d===null||_0x4881a8===null||_0x12c85f===null||_0x5bebfe===null||_0x311af7===null||_0x47c8ff===null)return;const _0x6a9193=_0x5a4910[0x14bd+0x868+0x3*-0x9b7],_0x519b4d=_0x5a4910[0xc42+-0xa70+-0x1d1],_0x44fbdb=_0x5a4910[0x12e*0x11+-0xd87+-0x685*0x1],_0x5b402a=_0x185453[0x27*-0xed+-0x2*-0xa67+0xf4d],_0x2f01db=_0x185453[-0xb14+0x991+-0xc2*-0x2],_0x31bdf9=_0x185453[0x82*0x12+0x3c*0x49+-0x1*0x1a3e],_0x3aa17f=0x12d8+-0x2*-0xe91+0x8a*-0x59+0.001;if(!_0x47d9bb&&Math['abs'](_0x6a9193-_0x96e92b['x'])<_0x3aa17f&&Math['abs'](_0x519b4d-_0x96e92b['y'])<_0x3aa17f&&Math['abs'](_0x44fbdb-_0x96e92b['z'])<_0x3aa17f&&Math['abs'](_0x5b402a-_0xe8a1ec['x'])<_0x3aa17f&&Math['abs'](_0x2f01db-_0xe8a1ec['y'])<_0x3aa17f&&Math['abs'](_0x31bdf9-_0xe8a1ec['z'])<_0x3aa17f&&Math['abs'](_0xb4aaf7-_0xd5e982)<-0x1d6a+-0xe4f+0x2bb9+0.01)return;if(_0x1c5f43){_0x14729c=!(0x2614+-0x1*-0x3a5+-0xb*0x3cb);return;}_0x1c5f43=!(0x989*-0x1+0x3b*0x58+-0xabf),_0x47d9bb=!(0x15ad+0x249d*0x1+-0x15b*0x2b),_0xd5e982=_0xb4aaf7,_0x96e92b['x']=_0x6a9193,_0x96e92b['y']=_0x519b4d,_0x96e92b['z']=_0x44fbdb,_0xe8a1ec['x']=_0x5b402a,_0xe8a1ec['y']=_0x2f01db,_0xe8a1ec['z']=_0x31bdf9,_0x14729c=!(-0x20bf*0x1+-0x255b+0x461b);const {sortIndexes:_0x2678d3}=_0x81ef38['exports'];try{const _0x59e6e7=_0x2678d3(_0x5c766d,_0x4881a8,_0x38a086,_0x42f294,_0xe3125d,_0x12c85f,_0x5bebfe,_0x311af7,_0x47c8ff,_0x173317,_0x5535b7,_0xb4aaf7,_0x23ac8a,_0x520e88,_0xe9b0a6,_0x3a9b9d,_0x3fb99d,_0x33d521,_0x259441);_0x3ff2eb['set'](_0x2443e6),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x59e6e7,'order':_0x3ff2eb});}catch(_0x31474e){console['error'](':',_0x31474e),self['postMessag'+'e']({'type':'error','error':_0x31474e['message']});}_0x1c5f43=!(-0x1475+0x16*-0x166+0x333a),_0x14729c&&_0x32d21e();};}class H1 extends ce{constructor(_0x5c3702,_0x1eb615=!(-0x2+-0x2051*-0x1+-0xac5*0x3)){super(),c(this,'worker',null),c(this,'numSplats',0x631+0x1a9c+0x20cd*-0x1),c(this,'is4d',!(0x1ac6+-0x456+0x10*-0x167)),c(this,'sortStartT'+'ime',-0x1974+0x5b3*0x6+-0x8be),c(this,'orderTextu'+'re'),(this['numSplats']=_0x5c3702,this['is4d']=_0x1eb615,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x54d9d2=>{if(!this['worker'])return;const {data:_0x29accf}=_0x54d9d2;switch(_0x29accf['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x29accf['order']){const _0x176f78=this['orderTextu'+'re']['lock']();new Uint32Array(_0x176f78['buffer'])['set'](_0x29accf['order']),this['orderTextu'+'re']['unlock']();}let _0xc3c1d9=-0x41*0x67+-0x21fa+-0x2dd*-0x15;this['sortStartT'+'ime']!==0x32b*0x1+0x75*0x15+-0xcc4&&(_0xc3c1d9=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x54d9d2['data']['count'],_0xc3c1d9),this['sortStartT'+'ime']=-0x905*-0x1+-0x1760+0x5*0x2df;break;case'error':console['error']('Worker:',_0x29accf['error']),this['fire']('error',_0x29accf['error']);break;}};const _0x331448=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x331448,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x558239,_0x3a8f72,_0x3fce18,_0x5467d2,_0x123904,_0x1ae6c6,_0x3db476){var _0xdf7d75;(!_0x3db476||_0x3db476['length']===0xb2*0x1+-0x18*0xc9+0x2e*0x65)&&(_0x3db476=[-0xcf3+0x1be4+-0x33*0x4b,-0x18d9+-0x2b*-0x17+0x1538]),this['orderTextu'+'re']=_0x558239,(_0xdf7d75=this['worker'])==null||_0xdf7d75['postMessag'+'e']({'type':'initData','centers':_0x3a8f72,'muT':_0x3fce18,'tScale':_0x5467d2,'motion':_0x123904,'timeIndex':_0x1ae6c6,'timeOption':_0x3db476,'dataReady':!(0x2038+0x1b73*-0x1+0x25*-0x21)});}['resize'](_0xbeca3b){this['destroy'](),this['numSplats']=_0xbeca3b,this['_initWorke'+'r']();}['setCamera'](_0x337ccb,_0x64c98e){this['worker']&&(this['sortStartT'+'ime']===0x1*-0x5ae+0x12c*0x1+0x482*0x1&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x337ccb['x'],'y':_0x337ccb['y'],'z':_0x337ccb['z']},'cameraDirection':{'x':_0x64c98e['x'],'y':_0x64c98e['y'],'z':_0x64c98e['z']}}));}['setCurrent'+'Time'](_0x2e3197){this['worker']&&(this['sortStartT'+'ime']===0x1077+-0x10f5+0x7e*0x1&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x2e3197}));}['setUseTemp'+'oralSort'](_0x4099fc){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x4099fc});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),kn=new T(),Gl=[0x166+-0xd06+0xba0,0xe13+0x9bf+-0x17d2];class Np{constructor(_0x4ce0ab,_0x294421){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x15cd+-0x1*0x2467+0x19*0x254),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x4ce0ab['numSplats']),this['splat']=_0x4ce0ab,this['options']=Object['assign'](this['options'],_0x294421));const _0x468260=_0x4ce0ab['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x11af8d=-0x89*0x7+0x153*0x19+0x4*-0x737,_0x1912e5=Math['ceil'](_0x4ce0ab['numSplats']/_0x11af8d)*_0x11af8d/_0x11af8d,_0x4ff21b=new Uint32Array(_0x1912e5);for(let _0xcdc020=0x9*0x283+-0x4*0x8ba+0xc4d;_0xcdc020<_0x1912e5;++_0xcdc020)_0x4ff21b[_0xcdc020]=_0xcdc020*_0x11af8d;const _0xbaae96=new Et(_0x468260,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0xe*0x133+-0xb*-0x1ed+0x5*-0xe1)}]),_0x1f7530=new os(_0x468260,_0xbaae96,_0x1912e5,{'usage':jt,'data':_0x4ff21b['buffer']}),_0x473cd6=new Float32Array((0x11e0+-0x44*-0x62+-0x2bdc)*_0x11af8d),_0x4346bf=new Uint32Array((0x5d5*-0x2+0x47*0x5+0x36f*0x3)*_0x11af8d);for(let _0x30894e=-0x8*-0x1b7+0x531*0x5+-0x1*0x27ad;_0x30894e<_0x11af8d;++_0x30894e){_0x473cd6['set']([-(0xa06+0x8b*0x42+-0x2ddb),-(-0x231b+-0x126a+-0x41e*-0xd),_0x30894e,-0x14e3*-0x1+0x1*0x462+-0x93*0x2c,-(-0x1d40+-0x16d6+0x3417),_0x30894e,-0x1f7c+-0xb12+-0x2a8f*-0x1,-0xa5*-0x1d+0x11d8+-0x2488,_0x30894e,-(0xae1+0x2296*0x1+-0x17*0x1fa),-0x1570+-0x1*0x13c7+0x2938,_0x30894e],_0x30894e*(0x6*-0x38b+0xeca*0x1+0x684));const _0x268965=_0x30894e*(0x2ee+-0x1*-0xdf3+-0x10dd);_0x4346bf['set']([-0xdd4+-0x2*0xa11+0x26d*0xe+_0x268965,0x323+0x9*-0x179+-0xa1f*-0x1+_0x268965,0x10da+-0x5*0x2db+-0x49*0x9+_0x268965,-0x598+-0x14e9+-0x3b*-0x73+_0x268965,-0xfe*0x10+-0x11be*0x1+0x21a0+_0x268965,0x1*0xdfb+0x13c0+-0x21b8+_0x268965],_0x30894e*(0xdad+0x2a+-0xdd1));}const _0x29be0f=new Ie(_0x468260);_0x29be0f['setPositio'+'ns'](_0x473cd6,0x1f04+-0x1b0f+-0x3f2),_0x29be0f['setIndices'](_0x4346bf),_0x29be0f['update'](),this['mesh']=_0x29be0f,this['mesh']['aabb']['copy'](_0x4ce0ab['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x1f7530,!(-0xf*0x191+-0x171f+0x2e9e)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x13*-0x84+0xf3*-0x15+0x3*0x361,(!_0x294421['dither']||_0x294421['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x2f43a1;(_0x2f43a1=this['sorter'])==null||_0x2f43a1['initData'](this['orderTextu'+'re'],_0x4ce0ab['centers'],_0x4ce0ab['muT'],_0x4ce0ab['tScale'],_0x4ce0ab['motion'],_0x4ce0ab['timeIndex'],_0x4ce0ab['timeOption']);}),this['sorter']['on']('updated',_0x5b331b=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x5b331b/_0x11af8d),this['material']['setParamet'+'er']('numSplats',_0x5b331b);}));}['updateData'](_0x282a54){var _0x356b62;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x282a54['numSplats']),this['splat']=_0x282a54;const _0x2599bc=_0x282a54['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x3456db=0x1*-0x25+-0x2008+0x20ad,_0x5b73ce=Math['ceil'](_0x282a54['numSplats']/_0x3456db)*_0x3456db/_0x3456db,_0x537baa=new Uint32Array(_0x5b73ce);for(let _0xfb315f=0x5e*-0x4f+-0x1*0x168e+0x3390;_0xfb315f<_0x5b73ce;++_0xfb315f)_0x537baa[_0xfb315f]=_0xfb315f*_0x3456db;const _0x3d2830=new Et(_0x2599bc,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x1b5*-0x5+0x1f71+-0x16e8)}]),_0x50df8d=new os(_0x2599bc,_0x3d2830,_0x5b73ce,{'usage':jt,'data':_0x537baa['buffer']});this['mesh']['aabb']['copy'](_0x282a54['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x50df8d,!(0x4b*0x2c+0xc2f*0x1+0x31*-0x83)),this['meshInstan'+'ce']['instancing'+'Count']=0xb2a+0x683*-0x1+-0x4a7,(_0x356b62=this['sorter'])==null||_0x356b62['resize'](_0x282a54['numSplats']);}['releaseSeq'](_0x427b6d){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x427b6d);}['destroy'](){var _0x4e1b36,_0x50d2bb,_0x2da96c;(_0x4e1b36=this['material'])==null||_0x4e1b36['destroy'](),(_0x50d2bb=this['meshInstan'+'ce'])==null||_0x50d2bb['destroy'](),(_0x2da96c=this['sorter'])==null||_0x2da96c['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x2fae42){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x2fae42),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x11da79=this['splat']['device'];if(Gl[-0x13b9+0x1*-0x1172+0x252b]=_0x11da79['width'],Gl[0x134*0x18+0x13a+-0x1e19]=_0x11da79['height'],this['cameras']['length']>0x49e*-0x8+-0xc*-0x295+0x5f4){const _0x3dbf9e=this['cameras'][-0x3e5*-0x9+-0xd*-0x17d+0x1a6*-0x21]['xr'];_0x3dbf9e&&_0x3dbf9e['active']&&_0x3dbf9e['views']['list']['length']===-0x1a3+-0xc32+0xdd7&&(Gl[0xfae+-0xdaf+-0x1ff*0x1]/=0x1b*-0x116+-0x1*-0x20e1+-0x65*0x9);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x414032){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x1a9aac=_0x414032['getWorldTr'+'ansform']();_0x1a9aac['getTransla'+'tion'](On),_0x1a9aac['getZ'](kn);const _0xea07f5=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x255d46=W1['invert'](_0xea07f5);_0x255d46['transformP'+'oint'](On,On),_0x255d46['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x1b4a*-0x1+-0x85d+0x23a7){const _0x5093ec=this['cameras'][-0x3*0x8cd+0xd3a+-0xd2d*-0x1];this['sort'](_0x5093ec['_node']),this['cameras']['length']=-0x4*-0xe2+-0x1b2*-0xd+0x3*-0x886;}}['updateTime'](_0x5e708d){this['time']=_0x5e708d;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x21cc94){U0=_0x21cc94;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x3bac63){v['assert'](_0x3bac63),_0x3bac63['frameUpdat'+'e']();const _0x2fda1b=_0x3bac63['beforePass'+'es'];for(let _0x3a6681=-0x12*-0x152+-0xbed+-0x1*0xbd7;_0x3a6681<_0x2fda1b['length'];_0x3a6681++){const _0xc5ffda=_0x2fda1b[_0x3a6681];_0xc5ffda['enabled']&&this['addRenderP'+'ass'](_0xc5ffda);}_0x3bac63['enabled']&&this['renderPass'+'es']['push'](_0x3bac63);const _0x45c58c=_0x3bac63['afterPasse'+'s'];for(let _0x49d7bd=0x1db4+0x1932+0x36e6*-0x1;_0x49d7bd<_0x45c58c['length'];_0x49d7bd++){const _0x856bfe=_0x45c58c[_0x49d7bd];_0x856bfe['enabled']&&this['addRenderP'+'ass'](_0x856bfe);}}['reset'](){this['renderPass'+'es']['length']=-0x2395+-0x1*-0x24c1+0x5*-0x3c;}['compile'](){const _0x26b366=this['renderTarg'+'etMap'],_0x305795=this['renderPass'+'es'];for(let _0x2065bb=-0x1d55+0x232d+-0x176*0x4;_0x2065bb<_0x305795['length'];_0x2065bb++){const _0x25153e=_0x305795[_0x2065bb],_0x52d306=_0x25153e['renderTarg'+'et'];if(_0x52d306!==void(-0xf*0x191+-0x67*-0x19+0x10*0xd7)){const _0x1cfd9c=_0x26b366['get'](_0x52d306);if(_0x1cfd9c){const _0x9b98b4=_0x25153e['colorArray'+'Ops']['length'];for(let _0x415ea3=0x79*0x2+0xf8f+-0x1081;_0x415ea3<_0x9b98b4;_0x415ea3++)_0x25153e['colorArray'+'Ops'][_0x415ea3]['clear']||(_0x1cfd9c['colorArray'+'Ops'][_0x415ea3]['store']=!(-0xb7f*0x3+-0x8e8+0x2b65));_0x25153e['depthStenc'+'ilOps']['clearDepth']||(_0x1cfd9c['depthStenc'+'ilOps']['storeDepth']=!(0x3*0x107+-0x23d2+0x20bd)),_0x25153e['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x1cfd9c['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x2191*-0x1+-0x58f+-0x1c02));}_0x26b366['set'](_0x52d306,_0x25153e);}}for(let _0x50252b=0x19cd*0x1+0x39e*-0x6+-0x1*0x419;_0x50252b<_0x305795['length']-(-0x18e9+0x2*-0x27e+0x1de6);_0x50252b++){const _0x347a83=_0x305795[_0x50252b],_0x978850=_0x347a83['renderTarg'+'et'],_0x5e417c=_0x305795[_0x50252b+(-0x67*0x14+0x4*0x13a+-0x5*-0xa1)],_0x475356=_0x5e417c['renderTarg'+'et'];_0x978850!==_0x475356||_0x978850===void(0x2*-0x542+-0x1*0xdc3+0x1847)||_0x5e417c['depthStenc'+'ilOps']['clearDepth']||_0x5e417c['depthStenc'+'ilOps']['clearStenc'+'il']||_0x5e417c['colorArray'+'Ops']['some'](_0x10aa7d=>_0x10aa7d['clear'])||_0x347a83['afterPasse'+'s']['length']>0x5*0x197+0xc35+0xc*-0x1ae||_0x5e417c['beforePass'+'es']['length']>0x3*0x9c1+0x11e1+0x1*-0x2f24||(_0x347a83['_skipEnd']=!(-0x7b*-0x2e+0xbab+-0x21c5),_0x5e417c['_skipStart']=!(-0x362*0x8+-0xb*-0x13d+0xd71));}let _0x408311=null,_0x34ed9a=null;for(let _0x498be5=0x223*0x7+0xaf*-0x15+-0x9a;_0x498be5<_0x305795['length'];_0x498be5++){const _0x3d5671=_0x305795[_0x498be5],_0x464f77=_0x3d5671['renderTarg'+'et'],_0xc049cb=_0x464f77==null?void(-0x2c*0xd5+0x3e5+-0x7d*-0x43):_0x464f77['colorBuffe'+'r'];if(_0xc049cb!=null&&_0xc049cb['cubemap']){if(_0x408311===_0xc049cb){const _0x34c5c1=_0x34ed9a['colorArray'+'Ops']['length'];for(let _0x17c4d8=-0xe5e*0x2+0x8d5*0x1+0x13e7;_0x17c4d8<_0x34c5c1;_0x17c4d8++)_0x34ed9a['colorArray'+'Ops'][_0x17c4d8]['mipmaps']=!(-0x89*0xd+-0xe6b*-0x1+-0x775);}_0x408311=_0x464f77['colorBuffe'+'r'],_0x34ed9a=_0x3d5671;}else _0x3d5671['requiresCu'+'bemaps']&&(_0x408311=null,_0x34ed9a=null);}_0x26b366['clear']();}['render'](_0xf993cb){this['compile']();const _0xdbbaab=this['renderPass'+'es'];for(let _0xa04cb=-0x1572+0x1555+0x1d*0x1;_0xa04cb<_0xdbbaab['length'];_0xa04cb++)_0xdbbaab[_0xa04cb]['render']();}}class j1{constructor(_0x287d61,_0x232210){this['texture0']=_0x287d61,this['texture1']=_0x232210;}['destroy'](){var _0x32d8e8,_0x3367e6;(_0x32d8e8=this['texture0'])==null||_0x32d8e8['destroy'](),(_0x3367e6=this['texture1'])==null||_0x3367e6['destroy']();}}const H_=new Ot();class $r{static['createText'+'ure'](_0x57fafa,_0x2fdd93,_0x5618b7,_0xf4f3c2=''){return new he(_0x57fafa,{'name':'AreaLightL'+'UT'+_0xf4f3c2,'width':_0x5618b7,'height':_0x5618b7,'format':_0x2fdd93,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x24a8+0xdd9+0xa*0x248)});}static['applyTextu'+'res'](_0x24bb22,_0x803568,_0xb53d8a){H_['remove'](_0x24bb22),H_['get'](_0x24bb22,()=>new j1(_0x803568,_0x803568===_0xb53d8a?null:_0xb53d8a)),_0x24bb22['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x803568),_0x24bb22['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0xb53d8a);}static['createPlac'+'eholder'](_0x53de58){const _0x24525d=$r['createText'+'ure'](_0x53de58,Je,0x1a8*0x9+-0xea0+0x7*-0xa,'placeholde'+'r');_0x24525d['lock']()['fill'](-0x1b8f+0x5*0x50d+-0x3b*-0xa),_0x24525d['unlock'](),$r['applyTextu'+'res'](_0x53de58,_0x24525d,_0x24525d);}static['set'](_0x16c730,_0x31fd7d,_0x330e24){function _0x331679(_0x38c9cb,_0x3ff476,_0x1be599){const _0x1cce4d=$r['createText'+'ure'](_0x38c9cb,_0x1be599,-0x12f*0x9+-0x2bc+-0x1*-0xda3);return _0x1cce4d['lock']()['set'](_0x3ff476),_0x1cce4d['unlock'](),_0x1cce4d;}function _0x5928f7(_0x493d1e){const _0x1339ee=_0x493d1e['length'],_0x557e09=new Uint16Array(_0x1339ee),_0x39468d=Wt['float2Half'];for(let _0x13a9cb=0xcd6+-0x126e+0x166*0x4;_0x13a9cb<_0x1339ee;_0x13a9cb++)_0x557e09[_0x13a9cb]=_0x39468d(_0x493d1e[_0x13a9cb]);return _0x557e09;}const _0x41f8e8=_0x31fd7d,_0x5f7b5a=_0x330e24,_0x391530=_0x5928f7(_0x41f8e8),_0x29070d=_0x5928f7(_0x5f7b5a),_0x1677c0=_0x331679(_0x16c730,_0x391530,Je),_0xd9da07=_0x331679(_0x16c730,_0x29070d,Je);$r['applyTextu'+'res'](_0x16c730,_0x1677c0,_0xd9da07);}}const Wh='en-US',$h={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x4df7bb,_0x2efab5){for(let _0x388794=-0x1*0x1f7+0x37*-0x4e+0x1*0x12b9,_0x1fda2=_0x4df7bb['length'];_0x388794<_0x1fda2;_0x388794++)zp[_0x4df7bb[_0x388794]]=_0x2efab5;}function pi(_0x3dfdf5){const _0x2a0c2b=_0x3dfdf5['indexOf']('-');return _0x2a0c2b!==-(-0x15d*-0x15+-0x21b3*-0x1+-0x3e53)?_0x3dfdf5['substring'](-0x2008+0x2b*0xbd+0x49,_0x2a0c2b):_0x3dfdf5;}function Y1(_0x25ffb2,_0x46f309){const _0x4c4c98=_0x25ffb2['indexOf']('-');return _0x4c4c98!==-(-0x14d+0x3*0x1c9+0x1*-0x40d)?_0x46f309+_0x25ffb2['substring'](_0x4c4c98):_0x46f309;}function V0(_0x5c170b,_0x19cad1){if(_0x19cad1[_0x5c170b])return _0x5c170b;let _0x248526=$h[_0x5c170b];if(_0x248526&&_0x19cad1[_0x248526])return _0x248526;const _0x116dd7=pi(_0x5c170b);return _0x248526=$h[_0x116dd7],_0x19cad1[_0x248526]?_0x248526:_0x19cad1[_0x116dd7]?_0x116dd7:Wh;}pr(['ja','ko','th','vi','zh','id'],_0x4d4960=>0x2d*0x8f+0x23cd+-0x3cf0),pr(['fa','hi'],_0x24b19a=>_0x24b19a>=0xa9a+-0x6b2*0x4+-0x2*-0x817&&_0x24b19a<=-0x1*0x268f+-0x1006*-0x1+-0x168a*-0x1?-0x1fc2+-0x1bf5*-0x1+0x1*0x3cd:-0x23d*0x3+0x241*-0xa+-0xea1*-0x2),pr(['fr','pt'],_0xb23507=>_0xb23507>=0x18a6+-0x2703+-0xe5d*-0x1&&_0xb23507<-0xa89+0x2e7*-0x2+0x3*0x573?0x5*0x7cb+0xd31+-0x3428:-0x68b+0x1cfe+-0x1672),pr(['da'],_0x3bd836=>_0x3bd836===0x13f3+0x295*-0x5+-0x709||!Number['isInteger'](_0x3bd836)&&_0x3bd836>=-0x917+0x1eb+-0x6*-0x132&&_0x3bd836<=0x9c6*0x1+0x269f+-0x3064?0x965+-0x1c0a*0x1+0x3*0x637:0x1*0x67f+0x248a+-0x2b08),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x116aa9=>_0x116aa9===0x19*0xec+-0x72*0x2+0x1627*-0x1?-0xbb6+-0x1639*0x1+0x21ef:-0x1202+-0x20c9+-0x32cc*-0x1),pr(['ru','uk'],_0x46f882=>{if(Number['isInteger'](_0x46f882)){const _0x21bdb9=_0x46f882%(-0x1*-0x1df8+0x640*0x4+-0x36ee),_0x25b0b9=_0x46f882%(-0x110a+0x1*0x11e3+-0x75);if(_0x21bdb9===-0x12b0+0x8da+-0xe5*-0xb&&_0x25b0b9!==-0x18e8+0x6c4+0x122f)return-0x1*-0xe8d+-0x7*-0x43+-0x1062;if(_0x21bdb9>=0x1*-0x190f+0x17f7+0x11a&&_0x21bdb9<=-0x2554+0x2*0xf0d+0x73e&&(_0x25b0b9<-0x1*0x139d+-0xb37+0x1ee0||_0x25b0b9>0xbdb*-0x2+0x2581+-0xdbd))return-0x1f*-0xa2+0x1993+0x2d3*-0x10;if(_0x21bdb9===0x1*0xf91+0x2*0xc86+0x289d*-0x1||_0x21bdb9>=-0x2240*0x1+0x1*0x1d8+-0xacf*-0x3&&_0x21bdb9<=0x598+0x155*0x11+-0x70d*0x4||_0x25b0b9>=-0x195+0x191+-0xf*-0x1&&_0x25b0b9<=0x26ef*-0x1+0x2423+-0x1*-0x2da)return-0x103d+-0x83*-0x24+-0x22d*0x1;}return-0x99*-0x1+-0x1918+0x1882;}),pr(['pl'],_0x4a43da=>{if(Number['isInteger'](_0x4a43da)){if(_0x4a43da===0x529*0x1+-0xf22+0x9fa)return 0xd*-0x19f+0xd89+0x78a;const _0x59fcac=_0x4a43da%(0x246d+0x20a7+0x450a*-0x1),_0x4eb5a5=_0x4a43da%(0xb6c+0x5fe+-0x1106);if(_0x59fcac>=0x1ee*-0x10+-0x804+0x1a*0x17f&&_0x59fcac<=0x1cf2+-0x1882+0x1*-0x46c&&(_0x4eb5a5<0x390+-0x76*0x2e+0x11b0||_0x4eb5a5>0x3a*-0x1f+0x2178+-0x1a64))return-0xe68*-0x2+0xe79+-0x2b48;if(_0x59fcac>=0x2b*0x52+-0x1*0x1ae1+-0x3d*-0x37&&_0x59fcac<=-0x136d+0x22d*-0x3+-0x19f5*-0x1||_0x59fcac>=0x1c11+-0x1*0x707+0x1*-0x1505&&_0x59fcac<=-0xcd2+0xbfb*-0x1+0x18d6||_0x4eb5a5>=0x2200+0xc*0x1b7+-0x4*0xda2&&_0x4eb5a5<=0xf69+-0x1*-0x10f3+-0x204e*0x1)return-0x2da+-0x131b+0x15f7;}return-0x5*0x75b+0x30f+-0x5*-0x6bf;}),pr(['ar'],_0x209274=>{if(_0x209274===0x1a17+0x197c+-0x1e9*0x1b)return-0x5b3+-0x23d6+-0x2989*-0x1;if(_0x209274===0x1e15+-0x11c5+-0xc4f)return-0x17f3+0xeec+0x908;if(_0x209274===-0x2*-0x1003+0x67*-0x5f+-0x1*-0x635)return 0x119b*0x1+0x1c32+-0x2dcb;if(Number['isInteger'](_0x209274)){const _0x689c67=_0x209274%(0x265*0x8+-0x1187+-0x13d);if(_0x689c67>=-0x1b96+-0x35*-0x80+0x1*0x119&&_0x689c67<=0x172+-0xe35*-0x2+-0x1dd2)return-0x12a0+0x1f21*0x1+-0xc7e;if(_0x689c67>=-0x141d+-0x1e8e+0x32b6*0x1&&_0x689c67<=-0x1*0x1029+-0x2d*0xd1+0x3549*0x1)return-0x766+0x1*0x31+0x739;}return-0x1dce+0x2684+-0x59*0x19;});const K1=zp[pi(Wh)];function Xd(_0x3bcb31){return zp[_0x3bcb31]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x3454a3='',_0x35b124='',_0x26b61e=null,_0x1718b5=null,_0x2c9d82=null,_0x73960d=null){this['url']=_0x3454a3,this['filename']=_0x35b124,this['hash']=_0x26b61e,this['size']=_0x1718b5,this['opt']=_0x2c9d82,this['contents']=_0x73960d;}['equals'](_0x4b5aca){return this['url']===_0x4b5aca['url']&&this['filename']===_0x4b5aca['filename']&&this['hash']===_0x4b5aca['hash']&&this['size']===_0x4b5aca['size']&&this['opt']===_0x4b5aca['opt']&&this['contents']===_0x4b5aca['contents'];}}let Q1=-(0x49*0x2c+-0x916+-0x3b*0xf);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x4739a5,_0x5daf42,_0x15737d,_0x510162,_0x4a6473){super(),this['_id']=Q1--,this['_name']=_0x4739a5||'',this['type']=_0x5daf42,this['tags']=new po(this),this['_preload']=!(0x21a*-0x12+-0x71b*-0x1+0x1eba),this['_file']=null,this['_data']=_0x510162||{},this['options']=_0x4a6473||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x9f8+-0x1269+0x7*0x40e),this['loading']=!(0x22b9+-0x9*-0x301+0x1*-0x3dc1),this['registry']=null,_0x15737d&&(this['file']=_0x15737d);}set['id'](_0x32fa8f){this['_id']=_0x32fa8f;}get['id'](){return this['_id'];}set['name'](_0x4e94c6){if(this['_name']===_0x4e94c6)return;const _0x42b952=this['_name'];this['_name']=_0x4e94c6,this['fire']('name',this,this['_name'],_0x42b952);}get['name'](){return this['_name'];}set['file'](_0x2db23b){var _0x101d56,_0x31ddbd;if(_0x2db23b&&_0x2db23b['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x1*0x5a6+0x1129*-0x2+-0x3*-0xd53)){const _0x5f40f1=((_0x31ddbd=(_0x101d56=this['registry'])==null?void(0x75a+0x8*0x136+-0x110a):_0x101d56['_loader'])==null?void(0x126a+-0x4c1*-0x4+0x3*-0xc7a):_0x31ddbd['_app'])||tn(),_0x3129a3=_0x5f40f1==null?void(-0x15c2+0xa12+0xbb0):_0x5f40f1['graphicsDe'+'vice'];if(_0x3129a3)for(let _0x4f6c03=-0x16d5+-0xa96+0x91*0x3b,_0x27d327=W_['length'];_0x4f6c03<_0x27d327;_0x4f6c03++){const _0x2435e0=W_[_0x4f6c03];if(_0x2db23b['variants'][_0x2435e0]&&_0x3129a3[J1[_0x2435e0]]){_0x2db23b=_0x2db23b['variants'][_0x2435e0];break;}if(_0x5f40f1['enableBund'+'les']){const _0x5c871d=_0x5f40f1['bundles']['listBundle'+'sForAsset'](this);if(_0x5c871d&&_0x5c871d['find'](_0xac60a0=>{var _0x828970;return(_0x828970=_0xac60a0==null?void(-0x1*-0x32a+0x1771*0x1+0x3cd*-0x7):_0xac60a0['file'])==null?void(0x2*0x90b+-0x10a+-0x110c):_0x828970['variants'][_0x2435e0];}))break;}}}const _0x550fad=this['_file'],_0x34d860=_0x2db23b?new Z1(_0x2db23b['url'],_0x2db23b['filename'],_0x2db23b['hash'],_0x2db23b['size'],_0x2db23b['opt'],_0x2db23b['contents']):null;(!!_0x34d860!=!!_0x550fad||_0x34d860&&!_0x34d860['equals'](_0x550fad))&&(this['_file']=_0x34d860,this['fire']('change',this,'file',_0x34d860,_0x550fad),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x15ce7b){const _0x436ef6=this['_data'];this['_data']=_0x15ce7b,_0x15ce7b!==_0x436ef6&&(this['fire']('change',this,'data',_0x15ce7b,_0x436ef6),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x2ee4a5){const _0x1249b9=this['_resources'][-0x15*0x57+-0x1*0x15b2+0x1cd5*0x1];this['_resources'][0x24f9+0xbe4*0x2+-0x3cc1*0x1]=_0x2ee4a5,this['fire']('change',this,'resource',_0x2ee4a5,_0x1249b9);}get['resource'](){return this['_resources'][-0xb36+0x13cc+-0x896];}set['resources'](_0x24d896){const _0x972520=this['_resources'];this['_resources']=_0x24d896,this['fire']('change',this,'resources',_0x24d896,_0x972520);}get['resources'](){return this['_resources'];}set['preload'](_0x4fb370){_0x4fb370=!!_0x4fb370,this['_preload']!==_0x4fb370&&(this['_preload']=_0x4fb370,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x33c71c){_0x33c71c=!!_0x33c71c,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x33c71c!==this['_loadFaces'])&&(this['_loadFaces']=_0x33c71c,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x4aec6f=this['file'];if(!_0x4aec6f||!_0x4aec6f['url'])return null;let _0x4e60c4=_0x4aec6f['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x4e60c4)&&(_0x4e60c4=this['registry']['prefix']+_0x4e60c4),this['type']!=='script'&&_0x4aec6f['hash']){const _0xf83e41=_0x4e60c4['indexOf']('?')!==-(0xb*0x32b+-0x30*-0x2a+-0xaae*0x4)?'&':'?';_0x4e60c4+=_0xf83e41+'t='+_0x4aec6f['hash'];}return _0x4e60c4;}['getAbsolut'+'eUrl'](_0xc07ff3){if(_0xc07ff3['startsWith']('blob:')||_0xc07ff3['startsWith']('data:'))return _0xc07ff3;const _0x43e165=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x43e165,_0xc07ff3);}['getLocaliz'+'edAssetId'](_0xa9540){return _0xa9540=V0(_0xa9540,this['_i18n']),this['_i18n'][_0xa9540]||null;}['addLocaliz'+'edAssetId'](_0x353cad,_0x3adb48){this['_i18n'][_0x353cad]=_0x3adb48,this['fire']('add:locali'+'zed',_0x353cad,_0x3adb48);}['removeLoca'+'lizedAsset'+'Id'](_0x25f4d5){const _0xa31baf=this['_i18n'][_0x25f4d5];_0xa31baf&&(delete this['_i18n'][_0x25f4d5],this['fire']('remove:loc'+'alized',_0x25f4d5,_0xa31baf));}['ready'](_0x234012,_0x756644){_0x756644=_0x756644||this,this['loaded']?_0x234012['call'](_0x756644,this):this['once']('load',_0x48d3a6=>{_0x234012['call'](_0x756644,_0x48d3a6);});}['reload'](){this['loaded']&&(this['loaded']=!(0x1b1+0x6*-0x4fd+0x5*0x5a6),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x294+0x1a0f+0x1ca3*-0x1)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x3e40f3=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x2*0x655+0x33*-0xa9+0x1502),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x11491c=-0x4ff*-0x1+-0x3a5*0x1+-0x15a;_0x11491c<_0x3e40f3['length'];++_0x11491c){const _0x57de09=_0x3e40f3[_0x11491c];_0x57de09&&_0x57de09['destroy']&&_0x57de09['destroy']();}}static['fetchArray'+'Buffer'](_0x548529,_0x45280a,_0x517d5b,_0x35c9c6=-0x231b+0x26e5*0x1+-0x3ca){var _0x5a3520;(_0x5a3520=_0x517d5b==null?void(0x25a7+-0x1d99+0x80e*-0x1):_0x517d5b['file'])!=null&&_0x5a3520['contents']?setTimeout(()=>{_0x45280a(null,_0x517d5b['file']['contents']);}):$e['get'](_0x548529,{'cache':!(-0x1e*-0x13a+-0x2*-0xb9b+0x1e01*-0x2),'responseType':'arraybuffe'+'r','retry':_0x35c9c6>-0x13c6+0x1d1c+-0x4ab*0x2,'maxRetries':_0x35c9c6},_0x45280a);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x501e91=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x501e91;}['addItem'](_0x2ba460){const _0x31e385=_0x2ba460['tags']['_list'];for(const _0x1c592c of _0x31e385)this['add'](_0x1c592c,_0x2ba460);}['removeItem'](_0x58b7e8){const _0xbabe4d=_0x58b7e8['tags']['_list'];for(const _0x48d099 of _0xbabe4d)this['remove'](_0x48d099,_0x58b7e8);}['add'](_0x10614f,_0x2a140a){this['_index'][_0x10614f]&&this['_index'][_0x10614f]['list']['indexOf'](_0x2a140a)!==-(0x1d17+-0x11c6+-0xb50)||(this['_index'][_0x10614f]||(this['_index'][_0x10614f]={'list':[]},this['_key']&&(this['_index'][_0x10614f]['keys']={})),this['_index'][_0x10614f]['list']['push'](_0x2a140a),this['_key']&&(this['_index'][_0x10614f]['keys'][_0x2a140a[this['_key']]]=_0x2a140a));}['remove'](_0x1fcf72,_0x14ce1e){if(!this['_index'][_0x1fcf72]||this['_key']&&!this['_index'][_0x1fcf72]['keys'][_0x14ce1e[this['_key']]])return;const _0x4309a0=this['_index'][_0x1fcf72]['list']['indexOf'](_0x14ce1e);_0x4309a0!==-(0x25ed+-0x1e71*0x1+0x77b*-0x1)&&(this['_index'][_0x1fcf72]['list']['splice'](_0x4309a0,-0x18a5+0x647+0x125f),this['_key']&&delete this['_index'][_0x1fcf72]['keys'][_0x14ce1e[this['_key']]],this['_index'][_0x1fcf72]['list']['length']===-0x5*0x1b7+-0x1*-0x895+0x2*-0x1&&delete this['_index'][_0x1fcf72]);}['find'](_0x551669){const _0x9372bc={},_0x4a52c8=[];let _0x225ce2,_0x4c472b,_0x3bad84,_0x501bcc,_0x16fe83;const _0x31db02=(_0x5a4a04,_0x4e3ca8)=>this['_index'][_0x5a4a04]['list']['length']-this['_index'][_0x4e3ca8]['list']['length'];for(let _0xf6bab2=-0x19d2+-0x2131+0x3b03;_0xf6bab2<_0x551669['length'];_0xf6bab2++){if(_0x4c472b=_0x551669[_0xf6bab2],_0x4c472b instanceof Array){if(_0x4c472b['length']===0xefe+0x22bc+0x9f2*-0x5)continue;if(_0x4c472b['length']===0x216e+0x57*0x71+0x11f5*-0x4)_0x4c472b=_0x4c472b[-0x13f6+-0x191c*-0x1+-0x526];else{_0x16fe83=!(-0x12f7+0x1*0x232b+-0x1033);for(let _0x206c33=-0x153*0x19+-0xd*-0x1de+0x8d5;_0x206c33<_0x4c472b['length'];_0x206c33++)if(!this['_index'][_0x4c472b[_0x206c33]]){_0x16fe83=!(0x4*-0x4f3+0x6cc+-0x10*-0xd0);break;}if(_0x16fe83)continue;_0x3bad84=_0x4c472b['slice'](0x2*-0x151+-0x1ec3+0x2165)['sort'](_0x31db02),_0x501bcc=_0x3bad84['slice'](-0xa3a+-0x22e+0x9*0x161),_0x501bcc['length']===-0xbf*-0x3+-0x54e+0x3*0x106&&(_0x501bcc=_0x501bcc[0x911+-0x73*0x45+0x15ee]);for(let _0x385b1a=-0x1b27*-0x1+-0x1a*-0xe3+-0x3235;_0x385b1a<this['_index'][_0x3bad84[-0xef*0x13+0x2*0x9e6+0x20f*-0x1]]['list']['length'];_0x385b1a++)_0x225ce2=this['_index'][_0x3bad84[0x63*0x42+0x3e6+-0x1d6c]]['list'][_0x385b1a],(this['_key']?!_0x9372bc[_0x225ce2[this['_key']]]:_0x4a52c8['indexOf'](_0x225ce2)===-(-0x4*-0x6ca+-0x9d1+0x1156*-0x1))&&_0x225ce2['tags']['has'](_0x501bcc)&&(this['_key']&&(_0x9372bc[_0x225ce2[this['_key']]]=!(0x142f+0x1aed+-0x2f1c)),_0x4a52c8['push'](_0x225ce2));continue;}}if(_0x4c472b&&typeof _0x4c472b=='string'&&this['_index'][_0x4c472b]){for(let _0xee34cf=0x132f+-0x11ba+-0x175;_0xee34cf<this['_index'][_0x4c472b]['list']['length'];_0xee34cf++)_0x225ce2=this['_index'][_0x4c472b]['list'][_0xee34cf],this['_key']?_0x9372bc[_0x225ce2[this['_key']]]||(_0x9372bc[_0x225ce2[this['_key']]]=!(-0xeee+-0x8*0x1f6+-0x2*-0xf4f),_0x4a52c8['push'](_0x225ce2)):_0x4a52c8['indexOf'](_0x225ce2)===-(0x3*0xbcd+0x50f+-0x2875*0x1)&&_0x4a52c8['push'](_0x225ce2);}}return _0x4a52c8;}}class ao extends ce{constructor(_0x10b5f4){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x10b5f4;}['list'](_0x457c29={}){const _0x55b229=Array['from'](this['_assets']);return _0x457c29['preload']!==void(-0x1545+-0x2444+0x46d*0xd)?_0x55b229['filter'](_0x17f326=>_0x17f326['preload']===_0x457c29['preload']):_0x55b229;}['add'](_0x32ffc6){var _0x18355c,_0x28c83c;this['_assets']['has'](_0x32ffc6)||(this['_assets']['add'](_0x32ffc6),this['_idToAsset']['set'](_0x32ffc6['id'],_0x32ffc6),(_0x18355c=_0x32ffc6['file'])!=null&&_0x18355c['url']&&this['_urlToAsse'+'t']['set'](_0x32ffc6['file']['url'],_0x32ffc6),this['_nameToAss'+'et']['has'](_0x32ffc6['name'])||this['_nameToAss'+'et']['set'](_0x32ffc6['name'],new Set()),this['_nameToAss'+'et']['get'](_0x32ffc6['name'])['add'](_0x32ffc6),_0x32ffc6['on']('name',this['_onNameCha'+'nge'],this),_0x32ffc6['registry']=this,this['_tags']['addItem'](_0x32ffc6),_0x32ffc6['tags']['on']('add',this['_onTagAdd'],this),_0x32ffc6['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x32ffc6),this['fire']('add:'+_0x32ffc6['id'],_0x32ffc6),(_0x28c83c=_0x32ffc6['file'])!=null&&_0x28c83c['url']&&this['fire']('add:url:'+_0x32ffc6['file']['url'],_0x32ffc6),_0x32ffc6['preload']&&this['load'](_0x32ffc6));}['remove'](_0x31a2fe){var _0x5c7f8b,_0x24a990;if(!this['_assets']['has'](_0x31a2fe))return!(0xa62+-0x19*-0x173+-0x4c*0x9d);if(this['_assets']['delete'](_0x31a2fe),this['_idToAsset']['delete'](_0x31a2fe['id']),(_0x5c7f8b=_0x31a2fe['file'])!=null&&_0x5c7f8b['url']&&this['_urlToAsse'+'t']['delete'](_0x31a2fe['file']['url']),_0x31a2fe['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x31a2fe['name'])){const _0x39947d=this['_nameToAss'+'et']['get'](_0x31a2fe['name']);_0x39947d['delete'](_0x31a2fe),_0x39947d['size']===-0x1dfd+-0x214b+0x3f48&&this['_nameToAss'+'et']['delete'](_0x31a2fe['name']);}return this['_tags']['removeItem'](_0x31a2fe),_0x31a2fe['tags']['off']('add',this['_onTagAdd'],this),_0x31a2fe['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x31a2fe['fire']('remove',_0x31a2fe),this['fire']('remove',_0x31a2fe),this['fire']('remove:'+_0x31a2fe['id'],_0x31a2fe),(_0x24a990=_0x31a2fe['file'])!=null&&_0x24a990['url']&&this['fire']('remove:url'+':'+_0x31a2fe['file']['url'],_0x31a2fe),!(0x14a1+0x10ab+-0x254c);}['get'](_0x8e3f1f){return this['_idToAsset']['get'](Number(_0x8e3f1f));}['getByUrl'](_0x567d76){return this['_urlToAsse'+'t']['get'](_0x567d76);}['load'](_0x586f71,_0x18d398){if((_0x586f71['loading']||_0x586f71['loaded'])&&!(_0x18d398!=null&&_0x18d398['force']))return;const _0x424677=_0x586f71['file'],_0x5c5f8f=()=>{this['fire']('load',_0x586f71),this['fire']('load:'+_0x586f71['id'],_0x586f71),_0x424677&&_0x424677['url']&&this['fire']('load:url:'+_0x424677['url'],_0x586f71),_0x586f71['fire']('load',_0x586f71);},_0x20ffd7=_0x155986=>{if(_0x155986 instanceof Array?_0x586f71['resources']=_0x155986:_0x586f71['resource']=_0x155986,this['_loader']['patch'](_0x586f71,this),_0x586f71['type']==='bundle'){const _0x271db0=_0x586f71['data']['assets'];for(let _0x5e3377=0x1*-0x1c05+-0xcdf+0x28e4;_0x5e3377<_0x271db0['length'];_0x5e3377++){const _0x390506=this['_idToAsset']['get'](_0x271db0[_0x5e3377]);_0x390506&&!_0x390506['loaded']&&this['load'](_0x390506,{'force':!(0x1d12+0x1921+0x1211*-0x3)});}_0x586f71['resource']['loaded']?_0x5c5f8f():(this['fire']('load:start',_0x586f71),this['fire']('load:start'+':'+_0x586f71['id'],_0x586f71),_0x424677&&_0x424677['url']&&this['fire']('load:start'+':url:'+_0x424677['url'],_0x586f71),_0x586f71['fire']('load:start',_0x586f71),_0x586f71['resource']['on']('load',_0x5c5f8f));}else _0x5c5f8f();},_0x9ab97f=(_0x1a52ab,_0x33eedb,_0x561a32)=>{if(_0x586f71['loaded']=!(0x1*0x1be9+-0x4*0x856+0x56f),_0x586f71['loading']=!(-0x115*-0x10+-0x20eb+0xf9c),_0x1a52ab)this['fire']('error',_0x1a52ab,_0x586f71),this['fire']('error:'+_0x586f71['id'],_0x1a52ab,_0x586f71),_0x586f71['fire']('error',_0x1a52ab,_0x586f71);else{if(_0x586f71['type']==='script'){const _0x34c00d=this['_loader']['getHandler']('script');_0x34c00d['_cache'][_0x586f71['id']]&&_0x34c00d['_cache'][_0x586f71['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x34c00d['_cache'][_0x586f71['id']]),_0x34c00d['_cache'][_0x586f71['id']]=_0x561a32;}_0x20ffd7(_0x33eedb);}};if(_0x424677||_0x586f71['type']==='cubemap'){this['fire']('load:start',_0x586f71),this['fire']('load:'+_0x586f71['id']+':start',_0x586f71),_0x586f71['loading']=!(0x469+0x7dc+-0x15d*0x9);const _0x2760f7=_0x586f71['getFileUrl']();if(_0x586f71['type']==='bundle'){const _0x52729c=_0x586f71['data']['assets'];for(let _0x430fa9=-0x156c+-0x3d*0x8+0x1754;_0x430fa9<_0x52729c['length'];_0x430fa9++){const _0x5781eb=this['_idToAsset']['get'](_0x52729c[_0x430fa9]);_0x5781eb&&(_0x5781eb['loaded']||_0x5781eb['resource']||_0x5781eb['loading']||(_0x5781eb['loading']=!(0x1d4+0xbac+0x24*-0x60)));}}this['_loader']['load'](_0x2760f7,_0x586f71['type'],_0x9ab97f,_0x586f71,_0x18d398);}else{const _0x39699e=this['_loader']['open'](_0x586f71['type'],_0x586f71['data']);_0x586f71['loaded']=!(0x1579+-0x119a+-0x1*0x3df),_0x20ffd7(_0x39699e);}}['loadFromUr'+'l'](_0x19bef2,_0x5c958e,_0x151f4b){this['loadFromUr'+'lAndFilena'+'me'](_0x19bef2,null,_0x5c958e,_0x151f4b);}['loadFromUr'+'lAndFilena'+'me'](_0x4625bf,_0x52e67f,_0x3d8199,_0x2c199c){const _0x2aa046=fe['getBasenam'+'e'](_0x52e67f||_0x4625bf),_0x415d3e={'filename':_0x52e67f||_0x2aa046,'url':_0x4625bf};let _0x353c47=this['getByUrl'](_0x4625bf);if(!_0x353c47)_0x353c47=new le(_0x2aa046,_0x3d8199,_0x415d3e),this['add'](_0x353c47);else{if(_0x353c47['loaded']){_0x2c199c(_0x353c47['loadFromUr'+'lError']||null,_0x353c47);return;}}const _0x11375a=_0x52107e=>{_0x52107e['once']('load',_0x2b8291=>{_0x3d8199==='material'?this['_loadTextu'+'res'](_0x2b8291,(_0xb18531,_0x106a9c)=>{_0x2c199c(_0xb18531,_0x2b8291);}):_0x2c199c(null,_0x2b8291);}),_0x52107e['once']('error',_0x24431c=>{_0x24431c&&(this['loadFromUr'+'lError']=_0x24431c),_0x2c199c(_0x24431c,_0x52107e);}),this['load'](_0x52107e);};_0x353c47['resource']?_0x2c199c(null,_0x353c47):_0x3d8199==='model'?this['_loadModel'](_0x353c47,_0x11375a):_0x11375a(_0x353c47);}['_loadModel'](_0x281908,_0x589e74){const _0xe47f2b=_0x281908['getFileUrl'](),_0x394f97=fe['getExtensi'+'on'](_0xe47f2b);if(_0x394f97==='.json'||_0x394f97==='.glb'){const _0x847210=fe['getDirecto'+'ry'](_0xe47f2b),_0x168bad=fe['getBasenam'+'e'](_0xe47f2b),_0x40542a=fe['join'](_0x847210,_0x168bad['replace'](_0x394f97,'.mapping.j'+'son'));this['_loader']['load'](_0x40542a,'json',(_0x3323f1,_0x105770)=>{_0x3323f1?(_0x281908['data']={'mapping':[]},_0x589e74(_0x281908)):this['_loadMater'+'ials'](_0x281908,_0x105770,(_0x1bb8b8,_0x5f5189)=>{_0x281908['data']=_0x105770,_0x589e74(_0x281908);});});}else _0x589e74(_0x281908);}['_loadMater'+'ials'](_0x4dc376,_0x58d8f8,_0x2d4b97){const _0x3507d9=[];let _0x5440ba=0x945+-0x6df*0x1+-0x266;const _0x5ce993=(_0x1411b1,_0x1be0cd)=>{this['_loadTextu'+'res'](_0x1be0cd,(_0x49da8d,_0x6b0a19)=>{_0x3507d9['push'](_0x1be0cd),_0x3507d9['length']===_0x5440ba&&_0x2d4b97(null,_0x3507d9);});};for(let _0xedab1f=-0x305+-0x2f5*0x1+0x5fa;_0xedab1f<_0x58d8f8['mapping']['length'];_0xedab1f++){const _0x33094b=_0x58d8f8['mapping'][_0xedab1f]['path'];if(_0x33094b){_0x5440ba++;const _0x2cf8ac=_0x4dc376['getAbsolut'+'eUrl'](_0x33094b);this['loadFromUr'+'l'](_0x2cf8ac,'material',_0x5ce993);}}_0x5440ba===0x1f9d+-0xa8f+-0x150e&&_0x2d4b97(null,_0x3507d9);}['_loadTextu'+'res'](_0x5d9e09,_0x1f158b){const _0xb4f7ae=[];let _0x49307e=-0xd*-0x53+-0xad6+0x69f;const _0xc973fe=_0x5d9e09['data'];if(_0xc973fe['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x5d9e09['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x1f158b(null,_0xb4f7ae);return;}const _0x4ca0ff=(_0x2d4b48,_0x48b941)=>{_0x2d4b48&&console['error'](_0x2d4b48),_0xb4f7ae['push'](_0x48b941),_0xb4f7ae['length']===_0x49307e&&_0x1f158b(null,_0xb4f7ae);},_0x5f076a=Kc;for(let _0x58b0aa=0x2*-0xc1c+-0x283*0x9+0x2ed3;_0x58b0aa<_0x5f076a['length'];_0x58b0aa++){const _0x18b839=_0xc973fe[_0x5f076a[_0x58b0aa]];if(_0x18b839&&typeof _0x18b839=='string'){_0x49307e++;const _0x1ef24d=_0x5d9e09['getAbsolut'+'eUrl'](_0x18b839);this['loadFromUr'+'l'](_0x1ef24d,'texture',_0x4ca0ff);}}_0x49307e===-0x5*-0x3a5+0x15*-0x10b+0x1*0x3ae&&_0x1f158b(null,_0xb4f7ae);}['_onTagAdd'](_0x7c2518,_0x5e4e2f){this['_tags']['add'](_0x7c2518,_0x5e4e2f);}['_onTagRemo'+'ve'](_0xb7c6c8,_0x12acfd){this['_tags']['remove'](_0xb7c6c8,_0x12acfd);}['_onNameCha'+'nge'](_0x1f572b,_0x4a57dd,_0x58d8ed){if(this['_nameToAss'+'et']['has'](_0x58d8ed)){const _0x573457=this['_nameToAss'+'et']['get'](_0x58d8ed);_0x573457['delete'](_0x1f572b),_0x573457['size']===0x6be+-0x22d0+-0x2*-0xe09&&this['_nameToAss'+'et']['delete'](_0x58d8ed);}this['_nameToAss'+'et']['has'](_0x1f572b['name'])||this['_nameToAss'+'et']['set'](_0x1f572b['name'],new Set()),this['_nameToAss'+'et']['get'](_0x1f572b['name'])['add'](_0x1f572b);}['findByTag'](..._0x42d941){return this['_tags']['find'](_0x42d941);}['filter'](_0x12058b){return Array['from'](this['_assets'])['filter'](_0x3b6120=>_0x12058b(_0x3b6120));}['find'](_0x5dc7e0,_0x3918c8){const _0x1b5cdd=this['_nameToAss'+'et']['get'](_0x5dc7e0);if(!_0x1b5cdd)return null;for(const _0x318284 of _0x1b5cdd)if(!_0x3918c8||_0x318284['type']===_0x3918c8)return _0x318284;return null;}['findAll'](_0x244da9,_0x5f2b23){const _0x30e385=this['_nameToAss'+'et']['get'](_0x244da9);if(!_0x30e385)return[];const _0x2572b3=Array['from'](_0x30e385);return _0x5f2b23?_0x2572b3['filter'](_0x436e59=>_0x436e59['type']===_0x5f2b23):_0x2572b3;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0xdb0752){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0xdb0752,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x4c2005){if(_0x4c2005['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x4c2005['id'],_0x4c2005),this['_assets']['on']('load:start'+':'+_0x4c2005['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x4c2005['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x4c2005['id'],this['_onBundleE'+'rror'],this);const _0x56ecf9=_0x4c2005['data']['assets'];for(let _0x2f4f0e=0x1d74+0x1*0xfa9+0x2d1d*-0x1;_0x2f4f0e<_0x56ecf9['length'];_0x2f4f0e++)this['_indexAsse'+'tInBundle'](_0x56ecf9[_0x2f4f0e],_0x4c2005);}else this['_assetToBu'+'ndles']['has'](_0x4c2005['id'])&&this['_indexAsse'+'tFileUrls'](_0x4c2005);}['_unbindAss'+'etEvents'](_0x4b1ae5){this['_assets']['off']('load:start'+':'+_0x4b1ae5,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x4b1ae5,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x4b1ae5,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0xd233d,_0x449ac3){let _0x25df67=this['_assetToBu'+'ndles']['get'](_0xd233d);_0x25df67||(_0x25df67=new Set(),this['_assetToBu'+'ndles']['set'](_0xd233d,_0x25df67)),_0x25df67['add'](_0x449ac3);const _0x1b2dad=this['_assets']['get'](_0xd233d);_0x1b2dad&&this['_indexAsse'+'tFileUrls'](_0x1b2dad);}['_indexAsse'+'tFileUrls'](_0x3e947e){const _0x3e2443=this['_getAssetF'+'ileUrls'](_0x3e947e);if(_0x3e2443)for(let _0x3147ab=-0x2*0x95f+-0x13e2+0x67*0x60;_0x3147ab<_0x3e2443['length'];_0x3147ab++){const _0x13f109=this['_assetToBu'+'ndles']['get'](_0x3e947e['id']);_0x13f109&&this['_urlsToBun'+'dles']['set'](_0x3e2443[_0x3147ab],_0x13f109);}}['_getAssetF'+'ileUrls'](_0x21e47d){let _0x5c77c9=_0x21e47d['getFileUrl']();if(!_0x5c77c9)return null;_0x5c77c9=_0x5c77c9['split']('?')[-0xea9+0x458+0xa51*0x1];const _0x4b2a72=[_0x5c77c9];if(_0x21e47d['type']==='font'){const _0x1817e2=_0x21e47d['data']['info']['maps']['length'];for(let _0x416b50=-0x8*-0x308+-0x1*0x15a5+-0x29a;_0x416b50<_0x1817e2;_0x416b50++)_0x4b2a72['push'](_0x5c77c9['replace']('.png',_0x416b50+'.png'));}return _0x4b2a72;}['_onAssetRe'+'move'](_0x1797fd){if(_0x1797fd['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x1797fd['id']),this['_unbindAss'+'etEvents'](_0x1797fd['id']);const _0x485204=_0x1797fd['data']['assets'];for(let _0x713efc=-0xb03+0xc*0x21c+-0xe4d;_0x713efc<_0x485204['length'];_0x713efc++){const _0x47f49b=this['_assetToBu'+'ndles']['get'](_0x485204[_0x713efc]);if(_0x47f49b&&(_0x47f49b['delete'](_0x1797fd),_0x47f49b['size']===-0xf5d+-0xf55+-0x1*-0x1eb2)){this['_assetToBu'+'ndles']['delete'](_0x485204[_0x713efc]);for(const [_0x279abe,_0x38a0b6]of this['_urlsToBun'+'dles'])_0x38a0b6===_0x47f49b&&this['_urlsToBun'+'dles']['delete'](_0x279abe);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x1797fd['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x1797fd['id']))return;this['_assetToBu'+'ndles']['delete'](_0x1797fd['id']);const _0x55f0c5=this['_getAssetF'+'ileUrls'](_0x1797fd);if(!_0x55f0c5)return;for(let _0x527bdf=-0x10*-0x24e+0xbb*0x1f+-0x1*0x3b85;_0x527bdf<_0x55f0c5['length'];_0x527bdf++)this['_urlsToBun'+'dles']['delete'](_0x55f0c5[_0x527bdf]);}}['_onBundleL'+'oadStart'](_0xeba8c0){_0xeba8c0['resource']['on']('add',(_0x2c1cf0,_0x37a6a3)=>{const _0x36ced7=this['_fileReque'+'sts']['get'](_0x2c1cf0);if(_0x36ced7){for(let _0x34c903=0x1494+0xf*0x23a+-0x11fe*0x3;_0x34c903<_0x36ced7['length'];_0x34c903++)_0x36ced7[_0x34c903](null,_0x37a6a3);this['_fileReque'+'sts']['delete'](_0x2c1cf0);}});}['_onBundleL'+'oad'](_0x2afc8b){if(!_0x2afc8b['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x2afc8b['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x37b69a,_0x5d2712]of this['_fileReque'+'sts']){const _0x2ffa8f=this['_urlsToBun'+'dles']['get'](_0x37b69a);if(!_0x2ffa8f||!_0x2ffa8f['has'](_0x2afc8b))continue;const _0x4dcd05=decodeURIComponent(_0x37b69a);let _0x4f936a,_0x4a500f;if(_0x2afc8b['resource']['has'](_0x4dcd05))_0x4a500f=_0x2afc8b['resource']['get'](_0x4dcd05);else{if(_0x2afc8b['resource']['loaded'])_0x4f936a='Bundle\x20'+_0x2afc8b['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x37b69a;else continue;}for(let _0x3e41d1=-0x1*0xc45+0x1316+-0x6d1;_0x3e41d1<_0x5d2712['length'];_0x3e41d1++)_0x5d2712[_0x3e41d1](_0x4f936a,_0x4f936a||_0x4a500f);this['_fileReque'+'sts']['delete'](_0x37b69a);}}['_onBundleE'+'rror'](_0x10aa49){for(const [_0x3ed732,_0x52b06c]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3ed732)){for(let _0x4c07db=0x70c+0x1387*0x1+0x1*-0x1a93;_0x4c07db<_0x52b06c['length'];_0x4c07db++)_0x52b06c[_0x4c07db](_0x10aa49);this['_fileReque'+'sts']['delete'](_0x3ed732);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4ce6e3){const _0x2f55f8=this['_urlsToBun'+'dles']['get'](_0x4ce6e3);if(!_0x2f55f8)return null;let _0x5c0565=null;for(const _0xa1eeae of _0x2f55f8){if(_0xa1eeae['loaded']&&_0xa1eeae['resource'])return _0xa1eeae;_0xa1eeae['loading']&&(_0x5c0565=_0xa1eeae);}return _0x5c0565;}['listBundle'+'sForAsset'](_0x512e1c){const _0x13520c=this['_assetToBu'+'ndles']['get'](_0x512e1c['id']);return _0x13520c?Array['from'](_0x13520c):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x7e85c){return this['_urlsToBun'+'dles']['has'](_0x7e85c);}['urlIsLoade'+'dOrLoading'](_0x683b17){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x683b17);}['loadUrl'](_0x31ccf9,_0x3455fa){const _0x430d1f=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x31ccf9);if(!_0x430d1f){_0x3455fa('URL\x20'+_0x31ccf9+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x430d1f['loaded']){const _0x4febbb=decodeURIComponent(_0x31ccf9);if(_0x430d1f['resource']['has'](_0x4febbb)){_0x3455fa(null,_0x430d1f['resource']['get'](_0x4febbb));return;}else{if(_0x430d1f['resource']['loaded']){_0x3455fa('Bundle\x20'+_0x430d1f['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x31ccf9);return;}}}let _0x22d22a=this['_fileReque'+'sts']['get'](_0x31ccf9);_0x22d22a||(_0x22d22a=[],this['_fileReque'+'sts']['set'](_0x31ccf9,_0x22d22a)),_0x22d22a['push'](_0x3455fa);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x368bbf of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x368bbf);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x1d7b2e){const _0x4e0cfe=_0x1d7b2e['id'];if(this[_0x4e0cfe])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x4e0cfe+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x4e0cfe]=_0x1d7b2e,this['list']['push'](_0x1d7b2e);}['remove'](_0xaad9f4){const _0x1bfb31=_0xaad9f4['id'];if(!this[_0x1bfb31])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x1bfb31+('\x27\x20register'+'ed'));delete this[_0x1bfb31];const _0x1a3008=this['list']['indexOf'](this[_0x1bfb31]);_0x1a3008!==-(0x91*0x26+0x15*-0x137+-0x92*-0x7)&&this['list']['splice'](_0x1a3008,0xb89+-0x20b*-0x5+-0x15bf);}['destroy'](){this['off']();for(let _0x2600fb=0x1bbe+0x1ab4+-0x3672;_0x2600fb<this['list']['length'];_0x2600fb++)this['list'][_0x2600fb]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(0x1103+-0x1*0xd59+-0x3a9*0x1));}['addFile'](_0x3829ad,_0x52d37b){this['_index']['has'](_0x3829ad)||(this['_index']['set'](_0x3829ad,_0x52d37b),this['fire']('add',_0x3829ad,_0x52d37b));}['has'](_0x244f5a){return this['_index']['has'](_0x244f5a);}['get'](_0x4466ad){return this['_index']['get'](_0x4466ad)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x3f1294){!_0x3f1294||this['_loaded']||(this['_loaded']=!(-0x1d46+-0x1546+0x328c),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x49ca02,_0x2ac97c=''){super(),c(this,'headerSize',0xcc4+0x19e+0x5*-0x27a),c(this,'paddingSiz'+'e',0x171+-0x2*0x99e+-0x3*-0x699),c(this,'bytesRead',-0x1de8+-0x1520+0x3308),c(this,'bytesRecei'+'ved',0x1ce3+-0xd5*-0x5+0x12*-0x1d6),c(this,'headerRead',!(-0x1c23+0x271+0x9*0x2db)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x3*-0x5f7+-0x1c16+0xa31)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x2600+-0xc88+0xa*-0x28c),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x2ac97c||'',this['reader']=_0x49ca02['body']['getReader'](),this['reader']['read']()['then'](_0x4f400d=>{this['pump'](_0x4f400d['done'],_0x4f400d['value']);})['catch'](_0x4b2a13=>{this['fire']('error',_0x4b2a13);}));}['pump'](_0x124ee3,_0x21fd77){if(_0x124ee3)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x21fd77['byteLength'];const _0x157094=new Uint8Array(this['data']['length']+_0x21fd77['length']);for(_0x157094['set'](this['data']),_0x157094['set'](_0x21fd77,this['data']['length']),this['data']=_0x157094;this['readFile'](););return this['reader']['read']()['then'](_0x13c2a9=>{this['pump'](_0x13c2a9['done'],_0x13c2a9['value']);})['catch'](_0x4c3945=>{this['fire']('error',_0x4c3945);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x516+0x2359+0x3ad*-0xb);const _0x46d3f7=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x3fdeec=this['decoder']['decode'](_0x46d3f7);if(this['fileName']=_0x3fdeec['substring'](0x17a8*-0x1+0x6cd*0x5+-0xa59,0x1386+0x542+-0x1864)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x3fdeec['substring'](0x1*0x2011+0x1*0x2001+0x1fcb*-0x2,-0x134+0x1d59+-0x1b9d),0x132d*-0x1+0x48d*-0x5+0x29f6),this['fileType']=_0x3fdeec['substring'](0x16b6+-0x10b1*-0x1+-0x26cb,-0x12f+-0x213b*-0x1+-0x1*0x1f6f),this['ustarForma'+'t']=_0x3fdeec['substring'](0x248+-0xbb0+0xa69,0x136c*-0x1+-0xfc9+-0x2*-0x121e),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x1*-0x61f+-0x26*0xe3+0x161*0x14)){const _0x11172f=_0x3fdeec['substring'](-0x205*-0x7+-0x77c*0x2+0x6*0x5d,0x20*0xa3+-0xbb4+-0x6b8)['replace'](/\0/g,'');_0x11172f['length']>-0x15*0x56+-0xfb8+-0x247*-0xa&&(this['fileName']=_0x11172f['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x1bb9*0x1+0x8*-0x232+-0x829;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0xe*0x5f+-0x1df*-0x1+0x354);if(this['fileType']===''||this['fileType']==='0'){const _0x377949=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x32b826={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x377949};this['fire']('file',_0x32b826);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x2ed*0x8+0x1b77+-0x40e);const _0x38421c=this['bytesRead']%this['paddingSiz'+'e'];return _0x38421c!==-0x1138+-0xbd7+0x1d0f&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x38421c),!(-0x25*0x5a+0xf93+-0x291);}return!(0x20b+0x1*0x118a+-0x9ca*0x2);}}class Ne{constructor(_0x28e5dd,_0x67bd76){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',0x261d+-0x1d82+-0x89b),(this['_app']=_0x28e5dd,this['handlerTyp'+'e']=_0x67bd76);}set['maxRetries'](_0xbde731){this['_maxRetrie'+'s']=_0xbde731;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x4581ea,_0x32baa5,_0x2b32c2){}['open'](_0x2d4d77,_0x91ed51,_0x520686){return _0x91ed51;}['patch'](_0x1cc6fd,_0x15246f){}}class rP extends Ne{constructor(_0x47205a){super(_0x47205a,'bundle'),this['_assets']=_0x47205a['assets'];}['_fetchRetr'+'ies'](_0x230226,_0x1bd487,_0x3b8770=0x2*-0x1271+0xd46+0x179c){return new Promise((_0x240ede,_0x190dbb)=>{const _0x55c960=()=>{fetch(_0x230226,_0x1bd487)['then'](_0x240ede)['catch'](_0x5dafc7=>{_0x3b8770++,_0x3b8770<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x3b8770),_0x55c960()):_0x190dbb(_0x5dafc7);});};_0x55c960();});}['load'](_0x420065,_0x1247a9){typeof _0x420065=='string'&&(_0x420065={'load':_0x420065,'original':_0x420065}),this['_fetchRetr'+'ies'](_0x420065['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x29ed4b=>{const _0x499d23=new Xu();_0x1247a9(null,_0x499d23);const _0x19fc08=new iP(_0x29ed4b,this['_assets']['prefix']);_0x19fc08['on']('file',_0x12a9e3=>{_0x499d23['addFile'](_0x12a9e3['name'],_0x12a9e3['data']);}),_0x19fc08['on']('done',()=>{_0x499d23['loaded']=!(0x10*-0x1c1+0x117*-0x17+0x3521);}),_0x19fc08['on']('error',_0x3d530b=>{v['error'](_0x3d530b),_0x1247a9(_0x3d530b);});})['catch'](_0x3369b1=>{v['error'](_0x3369b1),_0x1247a9(_0x3369b1);});}['open'](_0x4420e8,_0x17caea){return _0x17caea;}}class pa{constructor(_0x553aae){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x553aae;}['addHandler'](_0x10c504,_0x4303c7){this['_handlers'][_0x10c504]=_0x4303c7,_0x4303c7['_loader']=this;}['removeHand'+'ler'](_0x3f70c1){delete this['_handlers'][_0x3f70c1];}['getHandler'](_0x3d8f22){return this['_handlers'][_0x3d8f22];}static['makeKey'](_0x42e4c0,_0x2cc9e7){return _0x42e4c0+'-'+_0x2cc9e7;}['load'](_0x173ffe,_0x48120f,_0xf36153,_0x547317,_0x30266e){var _0x164453;const _0x167714=this['_handlers'][_0x48120f];if(!_0x167714){const _0x4783af='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x48120f+('\x27\x20when\x20loa'+'ding\x20[')+_0x173ffe+']';v['errorOnce'](_0x4783af),_0xf36153(_0x4783af);return;}if(!_0x173ffe){this['_loadNull'](_0x167714,_0xf36153,_0x547317);return;}const _0x335c8e=pa['makeKey'](_0x173ffe,_0x48120f);if(this['_cache'][_0x335c8e]!==void(-0x1920+-0x1cc5*0x1+0x35e5))_0xf36153(null,this['_cache'][_0x335c8e]);else{if(this['_requests'][_0x335c8e])this['_requests'][_0x335c8e]['push'](_0xf36153);else{this['_requests'][_0x335c8e]=[_0xf36153];const _0x338a60=this,_0x43283a=function(_0x22e91f,_0x3bfc28){if(_0x22e91f){_0x338a60['_onFailure'](_0x335c8e,_0x22e91f);return;}if(_0x3bfc28['load']instanceof DataView){if(_0x167714['openBinary']){if(!_0x338a60['_requests'][_0x335c8e])return;try{const _0x207e8e=_0x167714['openBinary'](_0x3bfc28['load']);_0x338a60['_onSuccess'](_0x335c8e,_0x207e8e);}catch(_0x36f599){_0x338a60['_onFailure'](_0x335c8e,_0x36f599);}return;}_0x3bfc28['load']=URL['createObje'+'ctURL'](new Blob([_0x3bfc28['load']])),_0x547317&&(_0x547317['urlObject']&&URL['revokeObje'+'ctURL'](_0x547317['urlObject']),_0x547317['urlObject']=_0x3bfc28['load']);}_0x167714['load'](_0x3bfc28,(_0x3a3220,_0x23bace,_0x8e41c6)=>{if(_0x338a60['_requests'][_0x335c8e]){if(_0x3a3220){_0x338a60['_onFailure'](_0x335c8e,_0x3a3220);return;}try{_0x338a60['_onSuccess'](_0x335c8e,_0x167714['open'](_0x3bfc28['original'],_0x23bace,_0x547317),_0x8e41c6);}catch(_0x43fabf){_0x338a60['_onFailure'](_0x335c8e,_0x43fabf);}}},_0x547317);},_0x610884=_0x173ffe['split']('?')[0x27f*-0x3+0x14a7+-0x1*0xd2a];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x610884)&&!(_0x30266e&&_0x30266e['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x610884)){const _0x5655f4=this['_app']['bundles']['listBundle'+'sForAsset'](_0x547317);let _0x33c726;_0x30266e&&_0x30266e['bundlesFil'+'ter']&&(_0x33c726=_0x30266e['bundlesFil'+'ter'](_0x5655f4)),_0x33c726||(_0x5655f4==null||_0x5655f4['sort']((_0x4db71a,_0x51177b)=>_0x4db71a['file']['size']-_0x51177b['file']['size']),_0x33c726=_0x5655f4==null?void(0x1*-0x1fec+0x4ef+0x3*0x8ff):_0x5655f4[-0x29+0x20ad+0x1*-0x2084]),_0x33c726&&((_0x164453=this['_app']['assets'])==null||_0x164453['load'](_0x33c726));}this['_app']['bundles']['loadUrl'](_0x610884,(_0x246225,_0xba581e)=>{_0x43283a(_0x246225,{'load':_0xba581e,'original':_0x610884});});}else _0x43283a(null,{'load':_0x173ffe,'original':_0x547317&&_0x547317['file']['filename']||_0x173ffe});}}}['_loadNull'](_0x331647,_0x3a3ac9,_0x126f87){const _0x2aa31a=function(_0x470825,_0x20691f,_0x18e80c){if(_0x470825)_0x3a3ac9(_0x470825);else try{_0x3a3ac9(null,_0x331647['open'](null,_0x20691f,_0x126f87),_0x18e80c);}catch(_0xdaa9d1){_0x3a3ac9(_0xdaa9d1);}};_0x331647['load'](null,_0x2aa31a,_0x126f87);}['_onSuccess'](_0x3fe32f,_0x1490a4,_0x1b5b53){_0x1490a4!==null?this['_cache'][_0x3fe32f]=_0x1490a4:delete this['_cache'][_0x3fe32f];for(let _0x169567=-0x1087+0x27c+0xe0b;_0x169567<this['_requests'][_0x3fe32f]['length'];_0x169567++)this['_requests'][_0x3fe32f][_0x169567](null,_0x1490a4,_0x1b5b53);delete this['_requests'][_0x3fe32f];}['_onFailure'](_0x3a364e,_0x18c6ba){if(console['error'](_0x18c6ba),this['_requests'][_0x3a364e]){for(let _0x3deb55=0x2c3+0x94*0x29+-0x1a77;_0x3deb55<this['_requests'][_0x3a364e]['length'];_0x3deb55++)this['_requests'][_0x3a364e][_0x3deb55](_0x18c6ba);delete this['_requests'][_0x3a364e];}}['open'](_0x4d121c,_0x2f362a){const _0x587f20=this['_handlers'][_0x4d121c];return _0x587f20?_0x587f20['open'](null,_0x2f362a):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x4d121c),_0x2f362a);}['patch'](_0x5d827a,_0x53baf4){const _0x1d6e22=this['_handlers'][_0x5d827a['type']];if(!_0x1d6e22){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x5d827a['type']);return;}_0x1d6e22['patch']&&_0x1d6e22['patch'](_0x5d827a,_0x53baf4);}['clearCache'](_0xe8c34,_0x24788e){const _0x148438=pa['makeKey'](_0xe8c34,_0x24788e);delete this['_cache'][_0x148438];}['getFromCac'+'he'](_0x56c530,_0x13ae09){const _0x431c11=pa['makeKey'](_0x56c530,_0x13ae09);if(this['_cache'][_0x431c11])return this['_cache'][_0x431c11];}['enableRetr'+'y'](_0x586aed=-0x67c+-0x35d*-0x2+-0x39){_0x586aed=Math['max'](0x26ab+-0x1*-0xcf1+-0x19ce*0x2,_0x586aed)||-0x15d7+-0x5e4*-0x5+-0x79d;for(const _0x5a3d26 in this['_handlers'])this['_handlers'][_0x5a3d26]['maxRetries']=_0x586aed;}['disableRet'+'ry'](){for(const _0x43c226 in this['_handlers'])this['_handlers'][_0x43c226]['maxRetries']=-0x2aa+0x1d67+0x5*-0x559;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x1feb94){if(!_0x1feb94['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x1feb94['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1feb94['header']['version']!==0x1723+-0x16f6*0x1+0x16*-0x2)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1feb94['data']){if(!Array['isArray'](_0x1feb94['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x3a03f2=0x26fd+0xc32+0x332f*-0x1,_0x56a9a1=_0x1feb94['data']['length'];_0x3a03f2<_0x56a9a1;_0x3a03f2++){const _0x332d7f=_0x1feb94['data'][_0x3a03f2];if(!_0x332d7f['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3a03f2+('].info\x22\x20fi'+'eld'));if(!_0x332d7f['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3a03f2+('].info.loc'+'ale\x22\x20field'));if(typeof _0x332d7f['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x3a03f2+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x332d7f['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3a03f2+('].messages'+'\x22\x20field'));}}['parse'](_0x18fd33){return this['_validate'](_0x18fd33),_0x18fd33['data'];}}class aP extends ce{constructor(_0x56e902){super(),this['locale']=Wh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x56e902,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x574940){const _0x4327e3={};for(let _0x513009=0x1ec4+-0xc6e+-0x1256,_0x102411=_0x574940['length'];_0x513009<_0x102411;_0x513009++){const _0x1f5cc8=_0x574940[_0x513009]instanceof le?_0x574940[_0x513009]['id']:_0x574940[_0x513009];_0x4327e3[_0x1f5cc8]=!(-0x11db+-0xc56+0x1e31*0x1);}let _0x427719=this['_assets']['length'];for(;_0x427719--;){const _0x136eba=this['_assets'][_0x427719];if(!_0x4327e3[_0x136eba]){this['_app']['assets']['off']('add:'+_0x136eba,this['_onAssetAd'+'d'],this);const _0x10a954=this['_app']['assets']['get'](_0x136eba);_0x10a954&&this['_onAssetRe'+'move'](_0x10a954),this['_assets']['splice'](_0x427719,0x4*0x78d+0xf1d+0x190*-0x1d);}}for(const _0x1623e3 in _0x4327e3){const _0x10dfec=parseInt(_0x1623e3,0x51e+0x1*0x1976+-0x1e8a);if(this['_assets']['indexOf'](_0x10dfec)!==-(-0x1c34+0x1cd8+-0xa3))continue;this['_assets']['push'](_0x10dfec);const _0x416e3b=this['_app']['assets']['get'](_0x10dfec);_0x416e3b?this['_onAssetAd'+'d'](_0x416e3b):this['_app']['assets']['once']('add:'+_0x10dfec,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x18cdc2){if(this['_locale']===_0x18cdc2)return;let _0x1c7cb2=pi(_0x18cdc2);if(_0x1c7cb2==='in'&&(_0x1c7cb2='id',_0x18cdc2=Y1(_0x18cdc2,_0x1c7cb2),this['_locale']===_0x18cdc2))return;const _0xd62242=this['_locale'];this['_locale']=_0x18cdc2,this['_lang']=_0x1c7cb2,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x18cdc2,_0xd62242);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x2e53b8,_0x3c8a1f){return V0(_0x2e53b8,_0x3c8a1f);}['findAvaila'+'bleLocale'](_0x2c6238){if(this['_translati'+'ons'][_0x2c6238])return _0x2c6238;const _0x14606f=pi(_0x2c6238);return this['_findFallb'+'ackLocale'](_0x2c6238,_0x14606f);}['getText'](_0x2e7495,_0x5402fd){let _0x289dab=_0x2e7495,_0x230596;_0x5402fd||(_0x5402fd=this['_locale'],_0x230596=this['_lang']);let _0x485c66=this['_translati'+'ons'][_0x5402fd];return _0x485c66||(_0x230596||(_0x230596=pi(_0x5402fd)),_0x5402fd=this['_findFallb'+'ackLocale'](_0x5402fd,_0x230596),_0x485c66=this['_translati'+'ons'][_0x5402fd]),_0x485c66&&_0x485c66['hasOwnProp'+'erty'](_0x2e7495)&&(_0x289dab=_0x485c66[_0x2e7495],Array['isArray'](_0x289dab)&&(_0x289dab=_0x289dab[0x1*-0x1359+0x8b3*-0x1+0x14*0x167]),_0x289dab==null&&(_0x289dab=_0x2e7495)),_0x289dab;}['getPluralT'+'ext'](_0x86294b,_0x3a4a2e,_0x14de28){let _0x22fde0=_0x86294b,_0x2b76ea,_0x457fef;_0x14de28?(_0x2b76ea=pi(_0x14de28),_0x457fef=Xd(_0x2b76ea)):(_0x14de28=this['_locale'],_0x2b76ea=this['_lang'],_0x457fef=this['_pluralFn']);let _0x21fa87=this['_translati'+'ons'][_0x14de28];if(_0x21fa87||(_0x14de28=this['_findFallb'+'ackLocale'](_0x14de28,_0x2b76ea),_0x2b76ea=pi(_0x14de28),_0x457fef=Xd(_0x2b76ea),_0x21fa87=this['_translati'+'ons'][_0x14de28]),_0x21fa87&&_0x21fa87[_0x86294b]&&_0x457fef){const _0x2e8d22=_0x457fef(_0x3a4a2e);_0x22fde0=_0x21fa87[_0x86294b][_0x2e8d22],_0x22fde0==null&&(_0x22fde0=_0x86294b);}return _0x22fde0;}['addData'](_0x18c4fe){let _0x2d6e1a;try{_0x2d6e1a=this['_parser']['parse'](_0x18c4fe);}catch(_0x226b36){console['error'](_0x226b36);return;}for(let _0x3158e6=-0x92b+0x824+0x107*0x1,_0x5ba0ce=_0x2d6e1a['length'];_0x3158e6<_0x5ba0ce;_0x3158e6++){const _0xb42e3d=_0x2d6e1a[_0x3158e6],_0x3f6654=_0xb42e3d['info']['locale'],_0x58bee2=_0xb42e3d['messages'];if(!this['_translati'+'ons'][_0x3f6654]){this['_translati'+'ons'][_0x3f6654]={};const _0x4d8d5c=pi(_0x3f6654);this['_available'+'Langs'][_0x4d8d5c]||(this['_available'+'Langs'][_0x4d8d5c]=_0x3f6654);}Object['assign'](this['_translati'+'ons'][_0x3f6654],_0x58bee2),this['fire']('data:add',_0x3f6654,_0x58bee2);}}['removeData'](_0x1a372d){let _0x190a20;try{_0x190a20=this['_parser']['parse'](_0x1a372d);}catch(_0x4a5d59){console['error'](_0x4a5d59);return;}for(let _0x393180=-0x3f5*0x1+0x16*0xd7+-0xe85,_0x40c2a2=_0x190a20['length'];_0x393180<_0x40c2a2;_0x393180++){const _0x4ff009=_0x190a20[_0x393180],_0x321d5b=_0x4ff009['info']['locale'],_0x122af4=this['_translati'+'ons'][_0x321d5b];if(!_0x122af4)continue;const _0x7121db=_0x4ff009['messages'];for(const _0x474ec in _0x7121db)delete _0x122af4[_0x474ec];Object['keys'](_0x122af4)['length']===0x1*-0x551+0x21ab+-0x1c5a&&(delete this['_translati'+'ons'][_0x321d5b],delete this['_available'+'Langs'][pi(_0x321d5b)]),this['fire']('data:remov'+'e',_0x321d5b,_0x7121db);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0xb537c6,_0xf9f71c){let _0x53d093=$h[_0xb537c6];return _0x53d093&&this['_translati'+'ons'][_0x53d093]||(_0x53d093=$h[_0xf9f71c],_0x53d093&&this['_translati'+'ons'][_0x53d093])||(_0x53d093=this['_available'+'Langs'][_0xf9f71c],_0x53d093&&this['_translati'+'ons'][_0x53d093])?_0x53d093:Wh;}['_onAssetAd'+'d'](_0x1be497){_0x1be497['on']('load',this['_onAssetLo'+'ad'],this),_0x1be497['on']('change',this['_onAssetCh'+'ange'],this),_0x1be497['on']('remove',this['_onAssetRe'+'move'],this),_0x1be497['on']('unload',this['_onAssetUn'+'load'],this),_0x1be497['resource']&&this['_onAssetLo'+'ad'](_0x1be497);}['_onAssetLo'+'ad'](_0x165644){this['addData'](_0x165644['resource']);}['_onAssetCh'+'ange'](_0x5ec5a){_0x5ec5a['resource']&&this['addData'](_0x5ec5a['resource']);}['_onAssetRe'+'move'](_0x2f431f){_0x2f431f['off']('load',this['_onAssetLo'+'ad'],this),_0x2f431f['off']('change',this['_onAssetCh'+'ange'],this),_0x2f431f['off']('remove',this['_onAssetRe'+'move'],this),_0x2f431f['off']('unload',this['_onAssetUn'+'load'],this),_0x2f431f['resource']&&this['removeData'](_0x2f431f['resource']),this['_app']['assets']['once']('add:'+_0x2f431f['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x48050e){_0x48050e['resource']&&this['removeData'](_0x48050e['resource']);}}class oP extends ce{constructor(_0x13b9df){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x13b9df;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0xe060b5,_0x37034e){_0x37034e&&this['_scriptSch'+'emas']['set'](_0xe060b5,_0x37034e);}['getSchema'](_0x53de66){return this['_scriptSch'+'emas']['get'](_0x53de66);}['add'](_0x48e5f5){const _0x4cc0ab=_0x48e5f5['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x4cc0ab)?(setTimeout(()=>{if(_0x48e5f5['prototype']['swap']){const _0x1f30de=this['_scripts'][_0x4cc0ab],_0x3fde5a=this['_list']['indexOf'](_0x1f30de);this['_list'][_0x3fde5a]=_0x48e5f5,this['_scripts'][_0x4cc0ab]=_0x48e5f5,this['fire']('swap',_0x4cc0ab,_0x48e5f5),this['fire']('swap:'+_0x4cc0ab,_0x48e5f5);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x4cc0ab+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0xe0+0x1c7d+-0x1b9c)):(this['_scripts'][_0x4cc0ab]=_0x48e5f5,this['_list']['push'](_0x48e5f5),this['fire']('add',_0x4cc0ab,_0x48e5f5),this['fire']('add:'+_0x4cc0ab,_0x48e5f5),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x4cc0ab)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x474a95=this['app']['systems']['script']['_component'+'s'];let _0xdbc06e;const _0x471175=[],_0x394563=[];for(_0x474a95['loopIndex']=0x5*0x5c3+-0x1*0x1442+-0x88d;_0x474a95['loopIndex']<_0x474a95['length'];_0x474a95['loopIndex']++){const _0x39d023=_0x474a95['items'][_0x474a95['loopIndex']];if(_0x39d023['_scriptsIn'+'dex'][_0x4cc0ab]&&_0x39d023['_scriptsIn'+'dex'][_0x4cc0ab]['awaiting']){_0x39d023['_scriptsDa'+'ta']&&_0x39d023['_scriptsDa'+'ta'][_0x4cc0ab]&&(_0xdbc06e=_0x39d023['_scriptsDa'+'ta'][_0x4cc0ab]['attributes']);const _0x1d5c2e=_0x39d023['create'](_0x4cc0ab,{'preloading':!(-0xcdc+0x211+0x133*0x9),'ind':_0x39d023['_scriptsIn'+'dex'][_0x4cc0ab]['ind'],'attributes':_0xdbc06e});_0x1d5c2e&&_0x471175['push'](_0x1d5c2e);for(const _0x5ec5e6 of _0x39d023['scripts'])_0x39d023['initialize'+'Attributes'](_0x5ec5e6);}}for(let _0x154409=0x3*0x137+-0x2d6+-0xcf;_0x154409<_0x471175['length'];_0x154409++)_0x471175[_0x154409]['enabled']&&(_0x471175[_0x154409]['_initializ'+'ed']=!(-0x18*0x83+0x1e13*0x1+-0x11cb),_0x394563['push'](_0x471175[_0x154409]),_0x471175[_0x154409]['initialize']&&_0x471175[_0x154409]['initialize']());for(let _0x5ed0e2=0x94b+-0x5*0x44b+-0xc2c*-0x1;_0x5ed0e2<_0x394563['length'];_0x5ed0e2++)!_0x394563[_0x5ed0e2]['enabled']||_0x394563[_0x5ed0e2]['_postIniti'+'alized']||(_0x394563[_0x5ed0e2]['_postIniti'+'alized']=!(-0x18b4+0x1*-0x1a80+0xe2*0x3a),_0x394563[_0x5ed0e2]['postInitia'+'lize']&&_0x394563[_0x5ed0e2]['postInitia'+'lize']());}),!(-0x3*0x90f+0x2b*-0x2b+0x2266));}['remove'](_0x3b0b71){let _0x311a37=_0x3b0b71,_0x323faa=_0x3b0b71;if(typeof _0x323faa!='string'?_0x323faa=_0x311a37['__name']:_0x311a37=this['get'](_0x323faa),this['get'](_0x323faa)!==_0x311a37)return!(-0x9*-0x336+0x1c4b*0x1+0x28*-0x16e);delete this['_scripts'][_0x323faa];const _0x14c811=this['_list']['indexOf'](_0x311a37);return this['_list']['splice'](_0x14c811,0x18c1+0xed6+-0x2796),this['fire']('remove',_0x323faa,_0x311a37),this['fire']('remove:'+_0x323faa,_0x311a37),!(0x640+0x1d18+-0x138*0x1d);}['get'](_0x58c4ff){return this['_scripts'][_0x58c4ff]||null;}['has'](_0x417e98){if(typeof _0x417e98=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x417e98);if(!_0x417e98)return!(-0x20*0x97+0x209*0xa+-0x1*0x179);const _0x303f75=_0x417e98['__name'];return this['_scripts'][_0x303f75]===_0x417e98;}['list'](){return this['_list'];}}const lP=(_0x5363a9,_0x1a3d69)=>_0x5363a9['constructo'+'r']['order']-_0x1a3d69['constructo'+'r']['order'],hP=_0x23d470=>_0x23d470['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x3ae5d9=>{_0x3ae5d9['length']=0x1f37*-0x1+-0x90f+0x407*0xa,G0['push'](_0x3ae5d9);},ac=class ac extends De{constructor(_0x468808,_0x451559=tn()){super(_0x468808),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(-0x4*0x449+0x30a*-0xa+0x2f89)),c(this,'_guid',null),c(this,'_template',!(0x3*-0xce5+-0x1f*0xa5+0x3aab)),(v['assert'](_0x451559,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x451559);}['addCompone'+'nt'](_0x3409d1,_0x2ca706){const _0x4871a0=this['_app']['systems'][_0x3409d1];return _0x4871a0?this['c'][_0x3409d1]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x3409d1+('\x27\x20componen'+'t')),null):_0x4871a0['addCompone'+'nt'](this,_0x2ca706):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x3409d1+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x57a69f){const _0x59fe4b=this['_app']['systems'][_0x57a69f];if(!_0x59fe4b){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x57a69f+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x57a69f]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x57a69f+('\x27\x20componen'+'t'));return;}_0x59fe4b['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x505fe3){const _0x5cdede=this['findOne'](_0x19a4b5=>{var _0x5f5dfb;return(_0x5f5dfb=_0x19a4b5['c'])==null?void(0x392*-0x1+0x1*0x188c+-0x14fa):_0x5f5dfb[_0x505fe3];});return _0x5cdede&&_0x5cdede['c'][_0x505fe3];}['findCompon'+'ents'](_0x5b3920){return this['find'](_0x37d310=>{var _0x34d7d6;return(_0x34d7d6=_0x37d310['c'])==null?void(-0x5e2+-0x7ee+0xdd0):_0x34d7d6[_0x5b3920];})['map'](_0x46e164=>_0x46e164['c'][_0x5b3920]);}['findScript'](_0x4e303f){const _0x4f30b8=this['findOne'](_0x254ecf=>{var _0x100cf6,_0x2b11b8;return(_0x2b11b8=(_0x100cf6=_0x254ecf['c'])==null?void(-0x6d*-0x26+-0x1cba+-0x49*-0x2c):_0x100cf6['script'])==null?void(0x11b*-0x11+0x4*0x399+0x467):_0x2b11b8['has'](_0x4e303f);});return _0x4f30b8==null?void(0xb2+0xf7f*0x1+-0x1*0x1031):_0x4f30b8['c']['script']['get'](_0x4e303f);}['findScript'+'s'](_0xa75d0a){return this['find'](_0x256ec4=>{var _0x3b3133,_0x368b07;return(_0x368b07=(_0x3b3133=_0x256ec4['c'])==null?void(-0x2b*0xd+0x1505+-0x2*0x96b):_0x3b3133['script'])==null?void(-0x1c13*-0x1+0x2f*0x2a+-0x23c9):_0x368b07['has'](_0xa75d0a);})['map'](_0x526676=>_0x526676['c']['script']['get'](_0xa75d0a));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x7bcbc0){const _0x49e85b=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x49e85b[this['_guid']],this['_guid']=_0x7bcbc0,_0x49e85b[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x11ef34,_0x2254fc){let _0x176d9f=!(-0x21b9+0x254b+-0x1*0x391);_0x11ef34===this&&Za['length']===0x1cf1+0x339*-0x1+-0x66e*0x4&&(_0x176d9f=!(-0xdca+-0x6a2+0x146c)),_0x11ef34['_beingEnab'+'led']=!(-0x2*0xf9d+0x1*-0x2647+0x4581),_0x11ef34['_onHierarc'+'hyStateCha'+'nged'](_0x2254fc),_0x11ef34['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x11ef34);const _0x5e022a=_0x11ef34['_children'];for(let _0x6eb53=0x1229*-0x2+0x4b5*0x4+0x117e*0x1,_0x21a7b9=_0x5e022a['length'];_0x6eb53<_0x21a7b9;_0x6eb53++)_0x5e022a[_0x6eb53]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x5e022a[_0x6eb53],_0x2254fc);if(_0x11ef34['_beingEnab'+'led']=!(-0x5*-0x276+0x2*0xba2+-0x2391),_0x176d9f){for(let _0x3a154a=-0x515*0x7+-0x428*-0x7+0x7*0xed;_0x3a154a<Za['length'];_0x3a154a++)Za[_0x3a154a]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=-0x1d37+-0x48d+0x21c4*0x1;}}['_onHierarc'+'hyStateCha'+'nged'](_0x2cd22a){super['_onHierarc'+'hyStateCha'+'nged'](_0x2cd22a);const _0xa309bb=this['_getSorted'+'Components']();for(let _0x3236e0=0xe*0x5f+0x18a7*0x1+-0x351*0x9;_0x3236e0<_0xa309bb['length'];_0x3236e0++){const _0x1f5ba9=_0xa309bb[_0x3236e0];_0x1f5ba9['enabled']&&(_0x2cd22a?_0x1f5ba9['onEnable']():_0x1f5ba9['onDisable']());}$_(_0xa309bb);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x93710d=this['_getSorted'+'Components']();for(let _0x49c70f=0x544*-0x1+0x7*-0x217+0x13e5;_0x49c70f<_0x93710d['length'];_0x49c70f++)_0x93710d[_0x49c70f]['onPostStat'+'eChange']();$_(_0x93710d);}['findByGuid'](_0x44f04c){if(this['_guid']===_0x44f04c)return this;const _0x322d14=this['_app']['_entityInd'+'ex'][_0x44f04c];return _0x322d14&&(_0x322d14===this||_0x322d14['isDescenda'+'ntOf'](this))?_0x322d14:null;}['destroy'](){this['_destroyin'+'g']=!(-0x21*-0x38+-0x15bd*0x1+0xe85);for(const _0x4ad201 in this['c'])this['c'][_0x4ad201]['enabled']=!(-0x138b+-0xbf*0x29+0x3223);for(const _0x277e63 in this['c'])this['c'][_0x277e63]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x8*-0x397+-0x1043+-0x1*-0x2cfc);}['clone'](){const _0x2ca75b={},_0x5460f2=this['_cloneRecu'+'rsively'](_0x2ca75b);return _0x2ca75b[this['getGuid']()]=_0x5460f2,H0(this,this,_0x5460f2,_0x2ca75b),_0x5460f2;}['_getSorted'+'Components'](){const _0x5991d1=this['c'],_0xedad1e=cP();let _0x1cde10=-0xbac+-0xd07+0x18b3;for(const _0x39a109 in _0x5991d1)if(_0x5991d1['hasOwnProp'+'erty'](_0x39a109)){const _0x1eb95a=_0x5991d1[_0x39a109];_0x1cde10|=_0x1eb95a['constructo'+'r']['order']!==-0x1b7a+-0x16*-0x142+-0x32*0x1,_0xedad1e['push'](_0x1eb95a);}return _0x1cde10&&_0xedad1e['length']>-0x1*-0x2077+0xe37+0x3*-0xf8f&&hP(_0xedad1e),_0xedad1e;}['_cloneRecu'+'rsively'](_0x49c253){const _0x342958=new this['constructo'+'r'](void(0x179d+0x35*0xa3+-0x395c),this['_app']);super['_cloneInte'+'rnal'](_0x342958);for(const _0x44b49e in this['c'])this['c'][_0x44b49e]['system']['cloneCompo'+'nent'](this,_0x342958);for(let _0xa37552=0x242b+0xac1+0x134*-0x27;_0xa37552<this['_children']['length'];_0xa37552++){const _0x1ea628=this['_children'][_0xa37552];if(_0x1ea628 instanceof ac){const _0x506f78=_0x1ea628['_cloneRecu'+'rsively'](_0x49c253);_0x342958['addChild'](_0x506f78),_0x49c253[_0x1ea628['getGuid']()]=_0x506f78;}}return _0x342958;}};c(ac,'EVENT_DEST'+'ROY','destroy');let We=ac;function H0(_0x414507,_0x28ac26,_0xcfd835,_0x1e960d){if(_0x28ac26 instanceof We){const _0x4095f4=_0x28ac26['c'];for(const _0x3a7d11 in _0x4095f4){const _0x55d415=_0x4095f4[_0x3a7d11],_0x34810a=_0x55d415['system']['getPropert'+'iesOfType']('entity');for(let _0x40fcbc=-0x1472+0x933+-0xb3f*-0x1,_0x291863=_0x34810a['length'];_0x40fcbc<_0x291863;_0x40fcbc++){const _0x571263=_0x34810a[_0x40fcbc]['name'],_0x23583=_0x55d415[_0x571263];if(!!_0x414507['findByGuid'](_0x23583)){const _0x263bd8=_0x1e960d[_0x23583]['getGuid']();_0x263bd8?_0xcfd835['c'][_0x3a7d11][_0x571263]=_0x263bd8:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x4095f4['script']&&_0xcfd835['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4095f4['script'],_0x1e960d),_0x4095f4['render']&&_0xcfd835['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4095f4['render'],_0x1e960d),_0x4095f4['button']&&_0xcfd835['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4095f4['button'],_0x1e960d),_0x4095f4['scrollview']&&_0xcfd835['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4095f4['scrollview'],_0x1e960d),_0x4095f4['scrollbar']&&_0xcfd835['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4095f4['scrollbar'],_0x1e960d),_0x4095f4['anim']&&_0xcfd835['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4095f4['anim'],_0x1e960d);const _0x5443ec=_0x28ac26['children']['filter'](_0x5759fd=>_0x5759fd instanceof We),_0x2bf925=_0xcfd835['children']['filter'](_0x499f21=>_0x499f21 instanceof We);for(let _0x180fdf=0x76*0x3b+-0x1*0x53a+-0x15f8,_0x116b34=_0x5443ec['length'];_0x180fdf<_0x116b34;_0x180fdf++)H0(_0x414507,_0x5443ec[_0x180fdf],_0x2bf925[_0x180fdf],_0x1e960d);}}class q_{constructor(_0x5222f2,_0x3abcc9){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0xca+0xe38+0xf01*-0x1)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x5222f2,this['url']=_0x3abcc9);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x5e7689){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x5e7689;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x116680,_0x3dcba6){if(this['_index']['hasOwnProp'+'erty'](_0x116680))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x116680),!(-0x12ed+-0xb49+0x1e37);const _0x3d248f=new q_(_0x116680,_0x3dcba6),_0x5467eb=this['_list']['push'](_0x3d248f);return this['_index'][_0x3d248f['name']]=_0x5467eb-(0x1*0x1bf+-0x116*0x7+0x5dc),this['_urlIndex'][_0x3d248f['url']]=_0x5467eb-(0x107+-0x1f29+-0x1e23*-0x1),!(-0x54*0xe+-0x1*0xb87+-0x101f*-0x1);}['find'](_0x290694){return this['_index']['hasOwnProp'+'erty'](_0x290694)?this['_list'][this['_index'][_0x290694]]:null;}['findByUrl'](_0x1a5047){return this['_urlIndex']['hasOwnProp'+'erty'](_0x1a5047)?this['_list'][this['_urlIndex'][_0x1a5047]]:null;}['remove'](_0xafd23a){if(this['_index']['hasOwnProp'+'erty'](_0xafd23a)){const _0x3f21f8=this['_index'][_0xafd23a];let _0x3544ec=this['_list'][_0x3f21f8];delete this['_urlIndex'][_0x3544ec['url']],delete this['_index'][_0xafd23a],this['_list']['splice'](_0x3f21f8,0x94a*-0x2+-0xb9+0x134e);for(let _0x1766b5=0xcd1*-0x1+0x35*-0x12+0x108b;_0x1766b5<this['_list']['length'];_0x1766b5++)_0x3544ec=this['_list'][_0x1766b5],this['_index'][_0x3544ec['name']]=_0x1766b5,this['_urlIndex'][_0x3544ec['url']]=_0x1766b5;}}['_loadScene'+'Data'](_0x384666,_0x148162,_0x3286b0){const _0x231ab2=this['_app'];let _0x38c1fc=_0x384666;if(typeof _0x384666=='string'&&(_0x384666=this['findByUrl'](_0x38c1fc)||this['find'](_0x38c1fc)||new q_('Untitled',_0x38c1fc)),_0x38c1fc=_0x384666['url'],!_0x38c1fc){_0x3286b0('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x384666['loaded']){_0x3286b0(null,_0x384666);return;}_0x231ab2['assets']&&_0x231ab2['assets']['prefix']&&!Da['test'](_0x38c1fc)&&(_0x38c1fc=fe['join'](_0x231ab2['assets']['prefix'],_0x38c1fc)),_0x384666['_onLoadedC'+'allbacks']['push'](_0x3286b0),_0x384666['_loading']||_0x231ab2['loader']['getHandler']('hierarchy')['load'](_0x38c1fc,(_0x239a07,_0x43520e)=>{_0x384666['data']=_0x43520e,_0x384666['_loading']=!(-0xc*-0x8f+-0x1ef*0x14+-0x665*-0x5);for(let _0x22eb41=-0x847*-0x2+-0x1646+0x5b8;_0x22eb41<_0x384666['_onLoadedC'+'allbacks']['length'];_0x22eb41++)_0x384666['_onLoadedC'+'allbacks'][_0x22eb41](_0x239a07,_0x384666);_0x148162||(_0x384666['data']=null),_0x384666['_onLoadedC'+'allbacks']['length']=0x9*-0x197+-0x1266+0x20b5;}),_0x384666['_loading']=!(-0x2*-0x69d+0x2290+-0x2fca);}['loadSceneD'+'ata'](_0x4e14e5,_0x40a02c){this['_loadScene'+'Data'](_0x4e14e5,!(-0x1*0xbbf+0x173e+-0xb7f),_0x40a02c);}['unloadScen'+'eData'](_0x21c8f0){typeof _0x21c8f0=='string'&&(_0x21c8f0=this['findByUrl'](_0x21c8f0)),_0x21c8f0&&(_0x21c8f0['data']=null);}['_loadScene'+'Hierarchy'](_0x649af3,_0x21afb9,_0x2da94d){this['_loadScene'+'Data'](_0x649af3,!(0x11b1+0x23e0+-0x3590),(_0x253a22,_0x1baf62)=>{if(_0x253a22){_0x2da94d&&_0x2da94d(_0x253a22);return;}_0x21afb9&&_0x21afb9(_0x1baf62);const _0x549bb3=this['_app'],_0x199c2c=()=>{const _0x24e88e=_0x549bb3['loader']['getHandler']('hierarchy');_0x549bb3['systems']['script']['preloading']=!(-0x4ed*0x4+0xc71*0x3+0x1*-0x119f);const _0x3cdc37=_0x24e88e['open'](_0x1baf62['url'],_0x1baf62['data']);_0x549bb3['systems']['script']['preloading']=!(-0x1*0x1897+0x10c4+-0x2*-0x3ea),_0x549bb3['loader']['clearCache'](_0x1baf62['url'],'hierarchy'),_0x549bb3['root']['addChild'](_0x3cdc37),_0x549bb3['systems']['fire']('initialize',_0x3cdc37),_0x549bb3['systems']['fire']('postInitia'+'lize',_0x3cdc37),_0x549bb3['systems']['fire']('postPostIn'+'itialize',_0x3cdc37),_0x2da94d&&_0x2da94d(null,_0x3cdc37);};_0x549bb3['_preloadSc'+'ripts'](_0x1baf62['data'],_0x199c2c);});}['loadSceneH'+'ierarchy'](_0x56f5db,_0x438259){this['_loadScene'+'Hierarchy'](_0x56f5db,null,_0x438259);}['loadSceneS'+'ettings'](_0x1993fd,_0x447980){this['_loadScene'+'Data'](_0x1993fd,!(0xcd6*-0x3+-0xd*0x29f+0x4896),(_0x3db4a9,_0x389a30)=>{_0x3db4a9?_0x447980&&_0x447980(_0x3db4a9):(this['_app']['applyScene'+'Settings'](_0x389a30['data']['settings']),_0x447980&&_0x447980(null));});}['changeScen'+'e'](_0x52e1ae,_0x5f3ee1){const _0x28a9ec=this['_app'],_0x558555=_0x1556d7=>{const {children:_0x3eebc6}=_0x28a9ec['root'];for(;_0x3eebc6['length'];)_0x3eebc6[0x15c1+-0x1c4+0x12d*-0x11]['destroy']();_0x28a9ec['applyScene'+'Settings'](_0x1556d7['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x52e1ae,_0x558555,_0x5f3ee1);}['loadScene'](_0xd10977,_0x16745b){const _0x356ec1=this['_app'],_0x424052=_0x356ec1['loader']['getHandler']('scene');_0x356ec1['assets']&&_0x356ec1['assets']['prefix']&&!Da['test'](_0xd10977)&&(_0xd10977=fe['join'](_0x356ec1['assets']['prefix'],_0xd10977)),_0x424052['load'](_0xd10977,(_0x3b4b00,_0x403f00)=>{if(_0x3b4b00)_0x16745b&&_0x16745b(_0x3b4b00);else{const _0x175213=()=>{_0x356ec1['systems']['script']['preloading']=!(-0x1a24+0x59*0x6f+0x1*-0xc73);const _0x109e4c=_0x424052['open'](_0xd10977,_0x403f00),_0x319b5b=this['findByUrl'](_0xd10977);_0x319b5b&&!_0x319b5b['loaded']&&(_0x319b5b['data']=_0x403f00),_0x356ec1['systems']['script']['preloading']=!(-0x2*-0x831+-0x5fc+0x3*-0x377),_0x356ec1['loader']['clearCache'](_0xd10977,'scene'),_0x356ec1['loader']['patch']({'resource':_0x109e4c,'type':'scene'},_0x356ec1['assets']),_0x356ec1['root']['addChild'](_0x109e4c['root']),_0x356ec1['systems']['rigidbody']&&typeof Ammo<'u'&&_0x356ec1['systems']['rigidbody']['gravity']['set'](_0x109e4c['_gravity']['x'],_0x109e4c['_gravity']['y'],_0x109e4c['_gravity']['z']),_0x16745b&&_0x16745b(null,_0x109e4c);};_0x356ec1['_preloadSc'+'ripts'](_0x403f00,_0x175213);}});}}class uP{constructor(_0x184d07){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x184d07['_shaderSta'+'ts'],this['vram']=_0x184d07['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x292401;return(_0x292401=tn()['lightmappe'+'r'])==null?void(-0x23*0x116+0x2*-0xeef+0x87c*0x8):_0x292401['stats'];}get['batcher'](){const _0x3c5105=tn()['_batcher'];return _0x3c5105?_0x3c5105['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x2a89ff){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(0x1828+-0x3*0xb8f+0x2*0x543)),c(this,'_inFrameUp'+'date',!(0x1b+-0x65f*0x1+0x141*0x5)),c(this,'_libraries'+'Loaded',!(-0x1103+0x70f+0x9f5)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(0x613+-0xc0*0x2b+-0x1*-0x1a2d)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(-0x2b6*0xc+-0xc89*0x2+0x1*0x399b)),c(this,'_scriptPre'+'fix',''),c(this,'_time',-0x22b3+0x53*0x1+0x2260),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0xd*0x21f+-0x15b*0x17+0x3ac1),c(this,'maxDeltaTi'+'me',0x1c5+-0x840+-0x4f*-0x15+0.1),c(this,'frame',0x2ff*0x2+-0x1*0x72+0x8e*-0xa),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x1281+0x1*-0x92b+-0x956)),c(this,'renderNext'+'Frame',!(-0xa14+0x59d*-0x5+0x13*0x202)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x15d1+0xdec+-0x23bd):no['indexOf']('$'))<-0x1ae0+0x76f*0x5+-0xa4b&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x2a89ff['id']]=this,qu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(-0x26f5+-0x1519+0x1*0x3c0e));}['init'](_0x53bb27){const {assetPrefix:_0x45d343,batchManager:_0xd8598a,componentSystems:_0x2933ff,elementInput:_0x489c35,gamepads:_0x25f4de,graphicsDevice:_0x2c121a,keyboard:_0x56801f,lightmapper:_0x54ab63,mouse:_0x339bbc,resourceHandlers:_0x5bb57e,scriptsOrder:_0x4198d7,scriptPrefix:_0x37fa56,soundManager:_0x32c0e1,touch:_0x356c53,xr:_0x2acd30}=_0x53bb27;v['assert'](_0x2c121a,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x2c121a,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x2c121a),this['_soundMana'+'ger']=_0x32c0e1,this['scene']=new ci(_0x2c121a),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x45d343&&(this['assets']['prefix']=_0x45d343),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x4198d7||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(-0x8ca+-0x11db+0x2f6*0x9),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x2ed2ca=new S_('default');_0x2ed2ca['pushOpaque'](this['defaultLay'+'erWorld']),_0x2ed2ca['pushOpaque'](this['defaultLay'+'erDepth']),_0x2ed2ca['pushOpaque'](this['defaultLay'+'erSkybox']),_0x2ed2ca['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x2ed2ca['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x2ed2ca['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x2ed2ca['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x2ed2ca,$r['createPlac'+'eholder'](_0x2c121a),this['renderer']=new Gh(_0x2c121a),this['renderer']['scene']=this['scene'],_0x54ab63&&(this['lightmappe'+'r']=new _0x54ab63(_0x2c121a,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0xd8598a&&(this['_batcher']=new _0xd8598a(_0x2c121a,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x56801f||null,this['mouse']=_0x339bbc||null,this['touch']=_0x356c53||null,this['gamepads']=_0x25f4de||null,_0x489c35&&(this['elementInp'+'ut']=_0x489c35,this['elementInp'+'ut']['app']=this),this['xr']=_0x2acd30?new _0x2acd30(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x37fa56||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x5bb57e['forEach'](_0x573fd2=>{const _0x41fc3b=new _0x573fd2(this);this['loader']['addHandler'](_0x41fc3b['handlerTyp'+'e'],_0x41fc3b);}),_0x2933ff['forEach'](_0x28c9c9=>{this['systems']['add'](new _0x28c9c9(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x1015*-0x1+0x1*-0x108+0xd*0x151)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x130d+-0x29*-0xd9+-0xfb3))):document['mozHidden']!==void(-0x1*0x649+-0x18a*0x3+-0x1*-0xae7)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x145f+0x27*-0x3d+0x43d*0x7))):document['msHidden']!==void(0x17f*0x9+-0x5*0x4cf+0x1*0xa94)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x8f6*0x1+0x1849*0x1+-0x4a*0x73))):document['webkitHidd'+'en']!==void(-0xbc1+-0x3c*-0x55+-0x82b)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x86*0x3b+0x22aa+-0x7*0x95d)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x541877){return _0x541877?Gr['_applicati'+'ons'][_0x541877]:tn();}['_initDefau'+'ltMaterial'](){const _0x2aca6a=new cs();_0x2aca6a['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x2aca6a);}['_initProgr'+'amLibrary'](){const _0x5dca7e=new D1(this['graphicsDe'+'vice'],new cs());WE(this['graphicsDe'+'vice'],_0x5dca7e);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4437ca,_0x51cec0){$e['get'](_0x4437ca,(_0x3accbd,_0x58f4a8)=>{if(_0x3accbd){_0x51cec0(_0x3accbd);return;}const _0x47207b=_0x58f4a8['applicatio'+'n_properti'+'es'],_0x18b961=_0x58f4a8['scenes'],_0x20ea4b=_0x58f4a8['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x47207b,_0x169b0b=>{this['_parseScen'+'es'](_0x18b961),this['_parseAsse'+'ts'](_0x20ea4b),_0x51cec0(_0x169b0b||null);});});}['preload'](_0x322b2e){this['fire']('preload:st'+'art');const _0x325d1e=this['assets']['list']({'preload':!(-0x841+0x23e*0xd+-0x14e5)});if(_0x325d1e['length']===0xeab+-0x1cca+0xe1f){this['fire']('preload:en'+'d'),_0x322b2e();return;}let _0x584967=0x1cb7*0x1+0x31c+-0x1*0x1fd3;const _0x114a36=()=>{_0x584967++,this['fire']('preload:pr'+'ogress',_0x584967/_0x325d1e['length']),_0x584967===_0x325d1e['length']&&(this['fire']('preload:en'+'d'),_0x322b2e());};_0x325d1e['forEach'](_0x57a9a6=>{_0x57a9a6['loaded']?_0x114a36():(_0x57a9a6['once']('load',_0x114a36),_0x57a9a6['once']('error',_0x114a36),this['assets']['load'](_0x57a9a6));});}['_preloadSc'+'ripts'](_0x2bea12,_0x708ed8){_0x708ed8();}['_parseAppl'+'icationPro'+'perties'](_0x5127ba,_0x35b498){if(typeof _0x5127ba['maxAssetRe'+'tries']=='number'&&_0x5127ba['maxAssetRe'+'tries']>-0x333*-0x3+-0x921+-0x78&&this['loader']['enableRetr'+'y'](_0x5127ba['maxAssetRe'+'tries']),_0x5127ba['useDeviceP'+'ixelRatio']||(_0x5127ba['useDeviceP'+'ixelRatio']=_0x5127ba['use_device'+'_pixel_rat'+'io']),_0x5127ba['resolution'+'Mode']||(_0x5127ba['resolution'+'Mode']=_0x5127ba['resolution'+'_mode']),_0x5127ba['fillMode']||(_0x5127ba['fillMode']=_0x5127ba['fill_mode']),this['_width']=_0x5127ba['width'],this['_height']=_0x5127ba['height'],_0x5127ba['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x5127ba['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x5127ba['fillMode'],this['_width'],this['_height']),_0x5127ba['layers']&&_0x5127ba['layerOrder']){const _0x263e80=new S_('applicatio'+'n'),_0x1ebbe6={};for(const _0x18cf74 in _0x5127ba['layers']){const _0x34c971=_0x5127ba['layers'][_0x18cf74];_0x34c971['id']=parseInt(_0x18cf74,0x1c56+0x22f6+-0x3f42),_0x34c971['enabled']=_0x34c971['id']!==Xt,_0x1ebbe6[_0x18cf74]=new Lr(_0x34c971);}for(let _0xc5a9fe=-0x1f99*-0x1+0x96c+-0x2905,_0x4cd23b=_0x5127ba['layerOrder']['length'];_0xc5a9fe<_0x4cd23b;_0xc5a9fe++){const _0x4955df=_0x5127ba['layerOrder'][_0xc5a9fe],_0x3003e0=_0x1ebbe6[_0x4955df['layer']];_0x3003e0&&(_0x4955df['transparen'+'t']?_0x263e80['pushTransp'+'arent'](_0x3003e0):_0x263e80['pushOpaque'](_0x3003e0),_0x263e80['subLayerEn'+'abled'][_0xc5a9fe]=_0x4955df['enabled']);}this['scene']['layers']=_0x263e80;}if(_0x5127ba['batchGroup'+'s']){const _0x3680b7=this['batcher'];if(_0x3680b7)for(let _0x4cd436=-0x1b11+0x21fc+-0x4d*0x17,_0x47b050=_0x5127ba['batchGroup'+'s']['length'];_0x4cd436<_0x47b050;_0x4cd436++){const _0x27aede=_0x5127ba['batchGroup'+'s'][_0x4cd436];_0x3680b7['addGroup'](_0x27aede['name'],_0x27aede['dynamic'],_0x27aede['maxAabbSiz'+'e'],_0x27aede['id'],_0x27aede['layers']);}}_0x5127ba['i18nAssets']&&(this['i18n']['assets']=_0x5127ba['i18nAssets']),this['_loadLibra'+'ries'](_0x5127ba['libraries'],_0x35b498);}['_loadLibra'+'ries'](_0xed90de,_0x37aa08){const _0x719b6d=_0xed90de['length'];let _0x1071c6=_0x719b6d;const _0x142815=/^https?:\/\//;if(_0x719b6d){const _0x395477=(_0x376c4b,_0x3e39b1)=>{_0x1071c6--,_0x376c4b?_0x37aa08(_0x376c4b):_0x1071c6===-0x3e8+0x917+-0x52f&&(this['onLibrarie'+'sLoaded'](),_0x37aa08(null));};for(let _0x16df70=0x6fd*-0x1+-0x319*-0x2+0xcb;_0x16df70<_0x719b6d;++_0x16df70){let _0x5dea29=_0xed90de[_0x16df70];!_0x142815['test'](_0x5dea29['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x5dea29=fe['join'](this['_scriptPre'+'fix'],_0x5dea29)),this['loader']['load'](_0x5dea29,'script',_0x395477);}}else this['onLibrarie'+'sLoaded'](),_0x37aa08(null);}['_parseScen'+'es'](_0x1e560b){if(_0x1e560b){for(let _0x2b5d2a=0xe02+0x73b*-0x2+0x74;_0x2b5d2a<_0x1e560b['length'];_0x2b5d2a++)this['scenes']['add'](_0x1e560b[_0x2b5d2a]['name'],_0x1e560b[_0x2b5d2a]['url']);}}['_parseAsse'+'ts'](_0x2d8ff9){const _0x4fa671=[],_0x28522c={},_0x524e10={};for(let _0xc89c16=-0x311*-0xa+0x1cb4+-0x3b5e;_0xc89c16<this['scriptsOrd'+'er']['length'];_0xc89c16++){const _0x4b5a0e=this['scriptsOrd'+'er'][_0xc89c16];_0x2d8ff9[_0x4b5a0e]&&(_0x28522c[_0x4b5a0e]=!(0x1*-0x26d5+0x16f*0x1+0x1*0x2566),_0x4fa671['push'](_0x2d8ff9[_0x4b5a0e]));}if(this['enableBund'+'les']){for(const _0x4ec125 in _0x2d8ff9)_0x2d8ff9[_0x4ec125]['type']==='bundle'&&(_0x524e10[_0x4ec125]=!(0x142a+-0x4*-0x391+-0x226e),_0x4fa671['push'](_0x2d8ff9[_0x4ec125]));}for(const _0x2ff3a2 in _0x2d8ff9)_0x28522c[_0x2ff3a2]||_0x524e10[_0x2ff3a2]||_0x4fa671['push'](_0x2d8ff9[_0x2ff3a2]);for(let _0x36972c=0xdea+-0x229e+0x14b4;_0x36972c<_0x4fa671['length'];_0x36972c++){const _0x27e80d=_0x4fa671[_0x36972c],_0x35147c=new le(_0x27e80d['name'],_0x27e80d['type'],_0x27e80d['file'],_0x27e80d['data']);if(_0x35147c['id']=parseInt(_0x27e80d['id'],-0xc65*0x1+-0x22be+0x2f2d),_0x35147c['preload']=_0x27e80d['preload']?_0x27e80d['preload']:!(0x1b68+-0x20ff+0x598),_0x35147c['loaded']=_0x27e80d['type']==='script'&&_0x27e80d['data']&&_0x27e80d['data']['loadingTyp'+'e']>0x2e*0x6a+0x7*0x3a5+-0x2c8f,_0x35147c['tags']['add'](_0x27e80d['tags']),_0x27e80d['i18n']){for(const _0x1902cf in _0x27e80d['i18n'])_0x35147c['addLocaliz'+'edAssetId'](_0x1902cf,_0x27e80d['i18n'][_0x1902cf]);}this['assets']['add'](_0x35147c);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x10*0xfb+-0x1*0xcce+0x1c7e);}),this['frame']=0x3*0x58f+-0x14a8*-0x1+-0x13*0x1f7,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x110dea){this['controller']&&this['controller']['update'](_0x110dea),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x51aeb8){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x51aeb8),this['systems']['fire']('animationU'+'pdate',_0x51aeb8),this['systems']['fire']('postUpdate',_0x51aeb8),this['fire']('update',_0x51aeb8),this['inputUpdat'+'e'](_0x51aeb8),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=-0x17*0x4a+-0x2b*-0x13+0x3*0x127,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x34d653){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x34d653),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x34d653),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x48767b,_0x83514e,_0x52e848){const _0x168df2=this['stats']['frame'];_0x168df2['dt']=_0x83514e,_0x168df2['ms']=_0x52e848,_0x48767b>_0x168df2['_timeToCou'+'ntFrames']?(_0x168df2['fps']=_0x168df2['_fpsAccum'],_0x168df2['_fpsAccum']=-0x5*-0x2bb+0x4a*0x34+-0x7*0x419,_0x168df2['_timeToCou'+'ntFrames']=_0x48767b+(0x66b*0x4+0x860+-0x1e24)):_0x168df2['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x1fd1*-0x1+0x1b00+-0x19b*-0x3;}['_fillFrame'+'Stats'](){let _0x4a7623=this['stats']['frame'];_0x4a7623['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x4a7623['materials']=this['renderer']['_materialS'+'witches'],_0x4a7623['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x4a7623['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x4a7623['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x4a7623['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x4a7623['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x1d3fd4=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x4a7623['triangles']=_0x1d3fd4[Ms]/(0x1b56+0x1f1f+-0x3a72)+Math['max'](_0x1d3fd4[ar]-(0x2*-0x925+0x10d*-0x1f+0x3*0x10f5),0x216*-0x1+0x13cc+-0x11b6)+Math['max'](_0x1d3fd4[Yr]-(-0x22f9+-0x89f*-0x3+0x91e),-0x15a3+-0x199+0x5cf*0x4),_0x4a7623['cullTime']=this['renderer']['_cullTime'],_0x4a7623['sortTime']=this['renderer']['_sortTime'],_0x4a7623['skinTime']=this['renderer']['_skinTime'],_0x4a7623['morphTime']=this['renderer']['_morphTime'],_0x4a7623['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x4a7623['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x4a7623['otherPrimi'+'tives']=-0x12c4+-0x2e7*-0x3+0xa0f*0x1;for(let _0x33f6ac=-0x1e7c+-0x269a+-0x1*-0x4516;_0x33f6ac<_0x1d3fd4['length'];_0x33f6ac++)_0x33f6ac<Ms&&(_0x4a7623['otherPrimi'+'tives']+=_0x1d3fd4[_0x33f6ac]),_0x1d3fd4[_0x33f6ac]=-0x1*0x20dd+0xb8*-0x22+0x394d;this['renderer']['_camerasRe'+'ndered']=-0x248a+0xe99*-0x1+0x3ef*0xd,this['renderer']['_materialS'+'witches']=-0x1652+-0xd39+0x238b,this['renderer']['_shadowMap'+'Updates']=-0xfc3+0xbe*0xc+0x6db,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x1e09+0x884+-0x268d,this['renderer']['_cullTime']=-0x1a84+-0x1d1f+-0x1*-0x37a3,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x1d15+-0x1867+-0x4ae,this['renderer']['_lightClus'+'tersTime']=0x1cf+-0x405*-0x3+-0x47*0x32,this['renderer']['_sortTime']=0xa1e+-0x6b7+0x43*-0xd,this['renderer']['_skinTime']=-0x18d0*0x1+0x2d7+0x15f9,this['renderer']['_morphTime']=-0xcce+-0x62e*-0x1+-0x10*-0x6a,this['renderer']['_shadowMap'+'Time']=-0x1e6d*-0x1+0x3*-0x5cf+-0xd00,this['renderer']['_depthMapT'+'ime']=0x8d5*0x1+-0x1*-0x19f3+0x38*-0x9f,this['renderer']['_forwardTi'+'me']=-0x7*0x15b+-0x1*0x3d+0x9ba,_0x4a7623=this['stats']['drawCalls'],_0x4a7623['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x4a7623['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x4a7623['depth']=0x16b5+-0x2159+0xaa4,_0x4a7623['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x4a7623['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x4a7623['immediate']=0x25a9+0x1f73*-0x1+-0x636,_0x4a7623['instanced']=0x247c+-0x9fa*0x1+0x4e*-0x57,_0x4a7623['removedByI'+'nstancing']=0x7bb*0x2+0x232b+0xd*-0x3e5,_0x4a7623['misc']=_0x4a7623['total']-(_0x4a7623['forward']+_0x4a7623['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x879*-0x3+-0x2170+-0x1*-0x805,this['renderer']['_shadowDra'+'wCalls']=-0xb5c+-0xf6a+0x2*0xd63,this['renderer']['_forwardDr'+'awCalls']=-0x1f89+-0x1163+0x30ec,this['renderer']['_numDrawCa'+'llsCulled']=-0x25c5+0x156b+0x105a,this['renderer']['_skinDrawC'+'alls']=0x860+-0x1729+0xec9,this['renderer']['_immediate'+'Rendered']=0x1d37+0x913+-0x264a,this['renderer']['_instanced'+'DrawCalls']=-0x8c9+0x377*0x2+0x1*0x1db,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x4a7623=this['stats']['particles'],_0x4a7623['updatesPer'+'Frame']=_0x4a7623['_updatesPe'+'rFrame'],_0x4a7623['frameTime']=_0x4a7623['_frameTime'],_0x4a7623['_updatesPe'+'rFrame']=0x45*0x6f+0x9*0x2fe+-0x38d9,_0x4a7623['_frameTime']=-0x623*0x2+0x25e6+-0x20*0xcd;}['setCanvasF'+'illMode'](_0x38b40e,_0x52355a,_0x3d0d6a){this['_fillMode']=_0x38b40e,this['resizeCanv'+'as'](_0x52355a,_0x3d0d6a);}['setCanvasR'+'esolution'](_0x49a34c,_0x34513e,_0x53f467){this['_resolutio'+'nMode']=_0x49a34c,_0x49a34c===G_&&_0x34513e===void(0x43a+-0xe85+-0x9b*-0x11)&&(_0x34513e=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x53f467=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x34513e,_0x53f467);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x3cd774,_0x419282){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x5bfb49=window['innerWidth'],_0x35f8c8=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x3d093a=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x35ed2a=_0x5bfb49/_0x35f8c8;_0x3d093a>_0x35ed2a?(_0x3cd774=_0x5bfb49,_0x419282=_0x3cd774/_0x3d093a):(_0x419282=_0x35f8c8,_0x3cd774=_0x419282*_0x3d093a);}else this['_fillMode']===$1&&(_0x3cd774=_0x5bfb49,_0x419282=_0x35f8c8);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x3cd774+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x419282+'px',this['updateCanv'+'asSize'](),{'width':_0x3cd774,'height':_0x419282};}['updateCanv'+'asSize'](){var _0x965132;if(!(!this['_allowResi'+'ze']||(_0x965132=this['xr'])!=null&&_0x965132['active'])&&this['_resolutio'+'nMode']===G_){const _0x20450e=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x20450e['clientWidt'+'h'],_0x20450e['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x168a*0x1+0x23eb+0x5*-0xbb1),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x4a0c6b){let _0x1a0c90;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x32bb44,_0x3fc362,_0x3e038c]=_0x4a0c6b['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x32bb44,_0x3fc362,_0x3e038c);}this['scene']['applySetti'+'ngs'](_0x4a0c6b),_0x4a0c6b['render']['hasOwnProp'+'erty']('skybox')&&(_0x4a0c6b['render']['skybox']?(_0x1a0c90=this['assets']['get'](_0x4a0c6b['render']['skybox']),_0x1a0c90?this['setSkybox'](_0x1a0c90):this['assets']['once']('add:'+_0x4a0c6b['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x5caa83,_0x3d5eec){_0x5caa83&&_0x3d5eec?$r['set'](this['graphicsDe'+'vice'],_0x5caa83,_0x3d5eec):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x52898c){if(_0x52898c!==this['_skyboxAss'+'et']){const _0x33f1c6=()=>{this['setSkybox'](null);},_0x469c57=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x469c57,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x33f1c6,this),this['_skyboxAss'+'et']['off']('change',_0x469c57,this)),this['_skyboxAss'+'et']=_0x52898c,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x469c57,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x33f1c6,this),this['_skyboxAss'+'et']['on']('change',_0x469c57,this),this['scene']['skyboxMip']===0x2606+-0x53a+0x4*-0x833&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0xaed*0x3+0x11*-0x1+-0x2*0x105b)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x469c57();}}['_firstBake'](){var _0x297e47;(_0x297e47=this['lightmappe'+'r'])==null||_0x297e47['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x563b4a;(_0x563b4a=this['batcher'])==null||_0x563b4a['generate']();}['_processTi'+'mestamp'](_0xc8d5a7){return _0xc8d5a7;}['drawLine'](_0x555d94,_0x5a2c48,_0xcfd0ef,_0x5b9acb,_0x2bc64e){this['scene']['drawLine'](_0x555d94,_0x5a2c48,_0xcfd0ef,_0x5b9acb,_0x2bc64e);}['drawLines'](_0x5a8e4d,_0x412a64,_0x2245d5=!(0x1a02*0x1+-0xbac+-0xe56),_0x42fbd0=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x5a8e4d,_0x412a64,_0x2245d5,_0x42fbd0);}['drawLineAr'+'rays'](_0xa23ce3,_0x23c940,_0x2c2659=!(-0x1d*-0xa5+0x7f*0x17+0x1e1a*-0x1),_0xe70c8b=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0xa23ce3,_0x23c940,_0x2c2659,_0xe70c8b);}['drawWireSp'+'here'](_0x8ff3f,_0x5eea87,_0xe6ebcf=Y['WHITE'],_0x4c180a=0x3*0x8a1+0x2381+-0x6d*0x90,_0x1d69ca=!(0x175*-0x11+0xf13+0x1*0x9b2),_0x3c28f9=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x8ff3f,_0x5eea87,_0xe6ebcf,_0x4c180a,_0x1d69ca,_0x3c28f9);}['drawWireAl'+'ignedBox'](_0x46dc55,_0xbcb964,_0x5d53c0=Y['WHITE'],_0x3154bc=!(-0x124d+-0x116b+0x23b8*0x1),_0x4a0067=this['scene']['defaultDra'+'wLayer'],_0x1e23c1){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x46dc55,_0xbcb964,_0x5d53c0,_0x3154bc,_0x4a0067,_0x1e23c1);}['drawMeshIn'+'stance'](_0x15a3c4,_0x45bb72=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x15a3c4,_0x45bb72);}['drawMesh'](_0x572e1a,_0x23c16a,_0x571b03,_0x3a484e=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x23c16a,_0x571b03,_0x572e1a,null,_0x3a484e);}['drawQuad'](_0x5a1aa1,_0x47eb3e,_0x14218a=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x47eb3e,_0x5a1aa1,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x14218a);}['drawTextur'+'e'](_0x26f333,_0x9e27db,_0x55b53e,_0x5ec1bc,_0x50b159,_0x15b714,_0x34fa7b=this['scene']['defaultDra'+'wLayer'],_0x293e6c=!(-0x87a+-0xd*-0x1a3+-0xccd)){if(_0x293e6c===!(-0x1fe9*-0x1+-0xbde+-0x140a)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x161fcb=new q();_0x161fcb['setTRS'](new T(_0x26f333,_0x9e27db,-0x13ce+-0x241*0x3+0x1a91),se['IDENTITY'],new T(_0x55b53e,-_0x5ec1bc,0x9*0x3bb+-0xb3d*-0x3+-0x434a)),_0x15b714||(_0x15b714=new Ra(),_0x15b714['cull']=mt,_0x15b714['setParamet'+'er']('colorMap',_0x50b159),_0x15b714['shaderDesc']=_0x293e6c?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x50b159['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x15b714['update']()),this['drawQuad'](_0x161fcb,_0x15b714,_0x34fa7b);}['drawDepthT'+'exture'](_0x5bf147,_0x5f237d,_0x545068,_0x224516,_0x2e3771=this['scene']['defaultDra'+'wLayer']){const _0x1c3525=new Ra();_0x1c3525['cull']=mt,_0x1c3525['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x1c3525['update'](),this['drawTextur'+'e'](_0x5bf147,_0x5f237d,_0x545068,_0x224516,null,_0x1c3525,_0x2e3771);}['destroy'](){var _0x1e32fa,_0x589a75,_0x336f24,_0x1db09e;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x7a7+0x9*-0xae+0x189*-0x1);return;}const _0x451fea=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x6d3*0x1+0x1a7d+0x1*-0x214f)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1ec5*-0x1+-0x567+-0x97*0x2b)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x169*-0x11+0x10b0+-0x28a8)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2*-0x1311+-0xe37+0x1*-0x17ea))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x2dabd9=this['assets']['list']();for(let _0x25ce90=0x4*0x1a6+0x1*0xc07+0x635*-0x3;_0x25ce90<_0x2dabd9['length'];_0x25ce90++)_0x2dabd9[_0x25ce90]['unload'](),_0x2dabd9[_0x25ce90]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x4681e9=this['loader']['getHandler']('script');_0x4681e9==null||_0x4681e9['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x1e32fa=this['lightmappe'+'r'])==null||_0x1e32fa['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x589a75=this['xr'])==null||_0x589a75['end'](),(_0x336f24=this['xr'])==null||_0x336f24['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x1db09e=this['_soundMana'+'ger'])==null||_0x1db09e['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x451fea]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x1dbf78){_0x1dbf78['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x1dbf78['frameReque'+'stId']),_0x1dbf78['frameReque'+'stId']=void(0x7b*-0x1+-0x2cd+0x348));}['getEntityF'+'romIndex'](_0x51c608){return this['_entityInd'+'ex'][_0x51c608];}['_registerS'+'ceneImmedi'+'ate'](_0x5885b7){this['on']('postrender',_0x5885b7['immediate']['onPostRend'+'er'],_0x5885b7['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x1e4900){const _0x3c7a60=_0x1e4900;return function(_0x4b73cd,_0x74a6c7){var _0x354605,_0x3a4bf8,_0x157265,_0x1ac513;if(!_0x3c7a60['graphicsDe'+'vice'])return;_0x3c7a60['frameReque'+'stId']&&((_0x3a4bf8=(_0x354605=_0x3c7a60['xr'])==null?void(-0x92b*0x2+0x24f9+-0x1*0x12a3):_0x354605['session'])==null||_0x3a4bf8['cancelAnim'+'ationFrame'](_0x3c7a60['frameReque'+'stId']),cancelAnimationFrame(_0x3c7a60['frameReque'+'stId']),_0x3c7a60['frameReque'+'stId']=null),_0x3c7a60['_inFrameUp'+'date']=!(-0x7*0x3e5+-0x49*0x3+-0x76*-0x3d),qu(_0x3c7a60);const _0x5bc128=_0x3c7a60['_processTi'+'mestamp'](_0x4b73cd)||ne(),_0x232cf0=_0x5bc128-(_0x3c7a60['_time']||_0x5bc128);let _0x49ae5f=_0x232cf0/(0x50*0x53+-0x11*0x1ea+0x5*0x21a);if(_0x49ae5f=N['clamp'](_0x49ae5f,0x1263+-0x16fc+0x1*0x499,_0x3c7a60['maxDeltaTi'+'me']),_0x49ae5f*=_0x3c7a60['timeScale'],_0x3c7a60['_time']=_0x5bc128,(_0x157265=_0x3c7a60['xr'])!=null&&_0x157265['session']?_0x3c7a60['frameReque'+'stId']=_0x3c7a60['xr']['session']['requestAni'+'mationFram'+'e'](_0x3c7a60['tick']):_0x3c7a60['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x3c7a60['tick']):null,_0x3c7a60['graphicsDe'+'vice']['contextLos'+'t'])return;_0x3c7a60['_fillFrame'+'StatsBasic'](_0x5bc128,_0x49ae5f,_0x232cf0),_0x3c7a60['_fillFrame'+'Stats'](),_0x3c7a60['fire']('frameupdat'+'e',_0x232cf0);let _0x425cc1=!(-0x12c1+-0x1aa*0x7+0x1*0x1e67);_0x74a6c7?(_0x425cc1=(_0x1ac513=_0x3c7a60['xr'])==null?void(0x670*0x5+0xc8e*0x3+-0x45da*0x1):_0x1ac513['update'](_0x74a6c7),_0x3c7a60['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x74a6c7['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x3c7a60['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x425cc1&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x3c7a60['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](0x8a4+-0x204e+0x17ac)+'ms'),_0x3c7a60['update'](_0x49ae5f),_0x3c7a60['fire']('framerende'+'r'),(_0x3c7a60['autoRender']||_0x3c7a60['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](-0x68a+-0x100e+0x169a)+'ms'),_0x3c7a60['updateCanv'+'asSize'](),_0x3c7a60['frameStart'](),_0x3c7a60['render'](),_0x3c7a60['frameEnd'](),_0x3c7a60['renderNext'+'Frame']=!(0x17b5+-0x16b+-0x1649),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](-0x1*0x160b+0x1560+0xad)+'ms')),jd['timestamp']=ne(),jd['target']=_0x3c7a60,_0x3c7a60['fire']('frameend',jd)),_0x3c7a60['_inFrameUp'+'date']=!(-0x1fd*0x8+0x20fa+-0x1*0x1111),_0x3c7a60['_destroyRe'+'quested']&&_0x3c7a60['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class W0{constructor(_0x26ae5c,_0x35ec11,_0x47b81e){this['scene']=_0x26ae5c,this['light']=_0x35ec11,this['store'](),_0x35ec11['numCascade'+'s']=-0x6*0x406+-0xb*0x35+-0xd36*-0x2,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x35ec11['castShadow'+'s']=_0x35ec11['bakeShadow'+'s']&&_0x47b81e['shadowsEna'+'bled']),_0x35ec11['type']!==oe&&(_0x35ec11['_node']['getWorldTr'+'ansform'](),_0x35ec11['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x2f0ebc=this['light'];_0x2f0ebc['mask']=this['mask'],_0x2f0ebc['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x2f0ebc['enabled']=this['enabled'],_0x2f0ebc['intensity']=this['intensity'],_0x2f0ebc['_node']['setLocalRo'+'tation'](this['rotation']),_0x2f0ebc['numCascade'+'s']=this['numCascade'+'s'],_0x2f0ebc['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x3ad*-0x7+-0x731+-0xc4*-0x2b),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x39ec45){const _0x3f1117=this['light'];_0x3f1117['enabled']=!(-0x1107+0x66+0x10a2),_0x3f1117['shadowMap']&&(_0x3f1117['shadowMap']['cached']&&_0x39ec45['add'](_0x3f1117,_0x3f1117['shadowMap']),_0x3f1117['shadowMap']=null);}}const Hl=new W();class mP extends W0{constructor(_0x309b37,_0x1433b9){super(_0x309b37['scene'],_0x1433b9,_0x309b37['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:-0x106*-0x7+0x242f+-0x2b58;}['prepareVir'+'tualLight'](_0x3d1de6,_0x5dcb64){const _0x25424e=this['light'];if(_0x25424e['_node']['setLocalRo'+'tation'](this['rotation']),_0x3d1de6>0xff7+0xc3*0x1+-0x10ba){const _0x50299f=_0x25424e['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x3d1de6,_0x5dcb64),Hl['mulScalar'](_0x50299f*(-0x1fd5+-0x2e6*0x9+0x39eb+0.5)),_0x25424e['_node']['rotateLoca'+'l'](Hl['x'],-0x16c3+0x649+0x107a,Hl['y']);}_0x25424e['_node']['getWorldTr'+'ansform']();const _0x16f55b=-0x1*0x1467+0x239*-0x7+0x23f8+0.20000000000000018,_0x117801=Math['pow'](this['intensity'],_0x16f55b);_0x25424e['intensity']=Math['pow'](_0x117801/_0x5dcb64,(-0x198+-0xd3*-0x16+-0x1089)/_0x16f55b);}}const X_=new T();class j_ extends W0{constructor(_0x59dbae){const _0x596d5b=_0x59dbae['scene'],_0x19da77=new We('AmbientLig'+'ht');_0x19da77['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x1de8+-0x40+0x1e28),'affectLightmapped':!(0xd7c*0x1+-0x1*-0x2159+-0x29a*0x12),'bake':!(0x1fb5+0x1460+0x1*-0x3415),'bakeNumSamples':_0x596d5b['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x6f2+-0x852+0x1*0xf44),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(-0x9e9+0x1*-0xc56+0xb2*0x20)}),super(_0x596d5b,_0x19da77['light']['light'],_0x59dbae['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x3c8cb4,_0x4c9de1){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x3c8cb4,_0x4c9de1,0x2*0xb57+-0x861+-0xe4d,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0x1f5*-0x4+-0x1*-0xf66+0x95*-0xd))),this['light']['_node']['rotateLoca'+'l'](0x1c56+0x2455+-0x4051,-0x1aee+0x1*-0x1f43+-0x3a31*-0x1,-0x1d12+-0x1977+0x3689);const _0x81efbc=-0x8c9+-0x254b+-0x2*-0x170b+0.20000000000000018,_0x3e8131=(-0x1ea3+-0x1*-0x229e+-0x3f9)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x310579=Math['pow'](_0x3e8131,_0x81efbc);this['light']['intensity']=Math['pow'](_0x310579/_0x4c9de1,(-0x2518*0x1+0x1d5c+0x7bd)/_0x81efbc);}}class Wl{constructor(_0x5e0dca,_0x35641f=null){this['node']=_0x5e0dca,this['component']=_0x5e0dca['render']||_0x5e0dca['model'],_0x35641f=_0x35641f||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x35641f,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0x2467+-0x1dd*0x1+-0x227b;class _P{constructor(_0x511c86){this['device']=_0x511c86,this['shaderDila'+'te']=Is(_0x511c86,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x511c86['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x511c86['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x2b9*0x1+0xc2d*0x2+-0x215*0xd),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x48145d){this['constantTe'+'xSource']['setValue'](_0x48145d);}['prepare'](_0x5d93b3,_0x3908cd){this['pixelOffse'+'t'][0x1ba7+-0x1cdd+-0x2*-0x9b]=(0x1a6f+0xe90+-0x28fe)/_0x5d93b3,this['pixelOffse'+'t'][0x1*-0x1475+-0x49*-0x3d+-0x9d*-0x5]=(0x51*0x73+0x18a7*-0x1+-0xbbb)/_0x3908cd,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x25ac7d,_0x56407e,_0x456b64){const _0x57a537=_0x456b64?-0x2187*-0x1+-0x3b0+0x1dd7*-0x1:0x753*0x1+0x12ad+-0x19ff;if(!this['shaderDeno'+'ise'][_0x57a537]){const _0x17e403='lmBilatera'+'lDeNoise-'+(_0x456b64?'hdr':'rgbm'),_0x3e571b=_0x456b64?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x57a537]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x3e571b+vo['bilateralD'+'eNoisePS'],_0x17e403),this['sigmas']=new Float32Array(-0x22b0+-0x52*-0x5+0x2118),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x5*-0x617+0x2197+-0x324]=_0x25ac7d,this['sigmas'][-0x1fd9+-0x170b+0x36e5*0x1]=_0x56407e,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x25ac7d,_0x56407e);}['getDenoise'](_0x4016d4){const _0x162e2d=_0x4016d4?0x196a+0x111*0x15+-0x2fcf*0x1:0x2483+-0x1*0x1737+-0xd4b;return this['shaderDeno'+'ise'][_0x162e2d];}['getDilate'](_0x197473,_0x396b65){const _0x5db374=_0x396b65?-0x1de1+-0x26f5+0x44d6:-0x1fac+-0x23a4+0x4351;if(!this['shaderDila'+'te'][_0x5db374]){const _0x3b4e53='lmDilate-'+(_0x396b65?'hdr':'rgbm'),_0x23072b=_0x396b65?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x5db374]=Is(_0x197473,X['fullscreen'+'QuadVS'],_0x23072b+vo['dilatePS'],_0x3b4e53);}return this['shaderDila'+'te'][_0x5db374];}['evaluateDe'+'noiseUnifo'+'rms'](_0x121f3e,_0x5dabce){function _0x49d5b5(_0x4af170,_0x1c0556){return(0x9a5+0x3df*-0x1+0x1*-0x5c6+0.39894)*Math['exp'](-(0x23f2+-0x6da*-0x4+-0x3f5a+0.5)*_0x4af170*_0x4af170/(_0x1c0556*_0x1c0556))/_0x1c0556;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x42cb1b=this['kernel'],_0x35e183=Math['floor']((Y_-(-0x202b+0x1ef9+0x133))/(0x1225+0x25fe*0x1+0x3821*-0x1));for(let _0x4323c0=-0x4f6*0x1+0x145f+-0xf69;_0x4323c0<=_0x35e183;++_0x4323c0){const _0x59970d=_0x49d5b5(_0x4323c0,_0x121f3e);_0x42cb1b[_0x35e183+_0x4323c0]=_0x59970d,_0x42cb1b[_0x35e183-_0x4323c0]=_0x59970d;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x512a50=(0x1069+-0x1*-0x789+-0x17f1)/_0x49d5b5(-0x2551+0x70*0x3b+0xb81,_0x5dabce);this['bZnorm']['setValue'](_0x512a50);}}class gP extends ds{constructor(_0x579d2e,_0x43bdab,_0x57666c,_0x217677,_0x5f498c,_0x4f029d){super(_0x579d2e),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x43bdab,this['camera']=_0x57666c,this['worldClust'+'ers']=_0x217677,this['receivers']=_0x5f498c,this['lightArray']=_0x4f029d);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x169036=>{_0x169036['defaultUni'+'formBuffer']['destroy'](),_0x169036['destroy']();}),this['viewBindGr'+'oups']['length']=-0x22a7+-0x1e*0x71+0x2fe5;}['execute'](){const _0x273f01=this['device'];G['pushGpuMar'+'ker'](_0x273f01,'Lightmappe'+'r');const {renderer:_0x5ef13f,camera:_0xa7f690,receivers:_0x1e550f,renderTarget:_0x662472,worldClusters:_0x22ab1b,lightArray:_0x19e025}=this;_0x5ef13f['renderForw'+'ardLayer'](_0xa7f690,_0x662472,null,void(0x4e*0x4+0x1c26+0x432*-0x7),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x1e550f,'splitLights':_0x19e025,'lightClusters':_0x22ab1b}),G['popGpuMark'+'er'](_0x273f01);}}const yP=-0x2519+-0x26b9+-0x29e9*-0x2,xP=0x1b7f+-0x2519+0x99a,SP=-0x6aa+-0x25e5+0x2c90,$l=new T();class vP{constructor(_0x2f0ee1,_0x35b9ee,_0x17e48f,_0x273a0b,_0x3fa3f1){this['device']=_0x2f0ee1,this['root']=_0x35b9ee,this['scene']=_0x17e48f,this['renderer']=_0x273a0b,this['assets']=_0x3fa3f1,this['shadowMapC'+'ache']=_0x273a0b['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x1ab9+-0x1064+-0xa54),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x1cfb39;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x1cfb39=this['camera'])==null||_0x1cfb39['destroy'](),this['camera']=null;}['initBake'](_0x1edb6c){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0x4*-0xff+0x1c67+-0x2063),this['lightmapFi'+'lters']=new _P(_0x1edb6c),this['constantBa'+'keDir']=_0x1edb6c['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0xdbf37a=new ol();_0xdbf37a['clearColor']['set'](-0x1a9b+0xd9*-0x13+-0x7*-0x61a,-0x4a*0x32+-0x3a*-0x43+-0x3e*0x3,0x1bed+-0xae+-0x307*0x9,0x80e+0x1*0xb47+0x7*-0x2c3),_0xdbf37a['clearColor'+'Buffer']=!(0x20fb*-0x1+-0x1*-0x16bd+-0x2e*-0x39),_0xdbf37a['clearDepth'+'Buffer']=!(-0x10*-0x10c+0x1839+0x1*-0x28f8),_0xdbf37a['clearStenc'+'ilBuffer']=!(0x2403*0x1+0x20*0xb2+-0x1d21*0x2),_0xdbf37a['frustumCul'+'ling']=!(-0x24d4+0x9e*0x3a+-0x35*-0x5),_0xdbf37a['projection']=ua,_0xdbf37a['aspectRati'+'o']=-0x4*-0x823+-0x1e76+-0x215,_0xdbf37a['node']=new De(),this['camera']=_0xdbf37a,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x5905c1=new L0(_0x1edb6c['supportsAr'+'eaLights'],_0x1edb6c['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x5905c1;const _0x3cee01=this['scene']['lighting'];_0x5905c1['shadowsEna'+'bled']=_0x3cee01['shadowsEna'+'bled'],_0x5905c1['shadowAtla'+'sResolutio'+'n']=_0x3cee01['shadowAtla'+'sResolutio'+'n'],_0x5905c1['cookiesEna'+'bled']=_0x3cee01['cookiesEna'+'bled'],_0x5905c1['cookieAtla'+'sResolutio'+'n']=_0x3cee01['cookieAtla'+'sResolutio'+'n'],_0x5905c1['areaLights'+'Enabled']=_0x3cee01['areaLights'+'Enabled'],_0x5905c1['cells']=new T(0x4*-0x727+0x9d*0x7+0x1854,-0x108*0x7+0x1*-0xd8f+0x14ca,0x4f*0x49+0x18ab+-0x2f2f),_0x5905c1['maxLightsP'+'erCell']=-0xf13*0x1+0x1*-0x1b0d+0x2a24,this['worldClust'+'ers']=new zu(_0x1edb6c),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x552626){this['materials']=[];function _0x4205b2(_0x1478e5){Si['decRef'](_0x1478e5['colorBuffe'+'r']),_0x1478e5['destroy']();}this['renderTarg'+'ets']['forEach'](_0x26092d=>{_0x4205b2(_0x26092d);}),this['renderTarg'+'ets']['clear'](),_0x552626['forEach'](_0x526cca=>{_0x526cca['renderTarg'+'ets']['forEach'](_0x24beb9=>{_0x4205b2(_0x24beb9);}),_0x526cca['renderTarg'+'ets']['length']=-0x2f6*-0x1+0x2656+0x371*-0xc;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x5f0d4c,_0x212bdf,_0x1465c7,_0xee76ef){const _0x4224a8=new cs();_0x4224a8['name']='lmMaterial'+'-pass:'+_0x1465c7+'-ambient:'+_0xee76ef,_0x4224a8['chunks']['APIVersion']=hi;const _0x45e31e='#define\x20UV'+'1LAYOUT\x0a';if(_0x4224a8['chunks']['transformV'+'S']=_0x45e31e+X['transformV'+'S'],_0x1465c7===xP){let _0x1755ae=vo['bakeLmEndP'+'S'];_0xee76ef?_0x1755ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x212bdf['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](-0x7f+0x71a*-0x1+0x3cd*0x2)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x212bdf['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x4*-0x6f1+0x446*-0x4+-0x8f9*-0x5)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x1755ae:_0x4224a8['ambient']=new Y(-0xfb1+0x13f8+-0xf*0x49,-0x25b1+-0x1*0x1049+0x35fa,-0x17ae+-0x129c+0x2a4a),_0x4224a8['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x4224a8['chunks']['endPS']=_0x1755ae,_0x4224a8['lightMap']=this['blackTex'];}else _0x4224a8['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x4224a8['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x4224a8['chunks']['outputAlph'+'aPS']='\x0a',_0x4224a8['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x4224a8['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x4224a8['cull']=mt,_0x4224a8['forceUv1']=!(-0x1c6*-0x2+-0x8c0+0x12*0x4a),_0x4224a8['update'](),_0x4224a8;}['createMate'+'rials'](_0x1d9186,_0x137db1,_0xd864f0){for(let _0x25dcbd=-0x20d3+0x10dc+0x3d*0x43;_0x25dcbd<_0xd864f0;_0x25dcbd++)this['passMateri'+'als'][_0x25dcbd]||(this['passMateri'+'als'][_0x25dcbd]=this['createMate'+'rialForPas'+'s'](_0x1d9186,_0x137db1,_0x25dcbd,!(-0x20ff+-0x2*0xe16+-0x14*-0x30f)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x1d9186,_0x137db1,0x25*0x2b+-0x1b37+0xe0*0x18,!(-0x20b3+0x1*-0x23ae+-0x185*-0x2d)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x4431a1){return _0x4431a1['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x41*-0x61+-0x4*-0x68e+-0x32d9),_0x4431a1['litOptions']['separateAm'+'bient']=!(0x8c2+-0x1*-0x502+0xdc4*-0x1),_0x4431a1;});}['createText'+'ure'](_0x2fe3df,_0x29568e){return new he(this['device'],{'profilerHint':Oy,'width':_0x2fe3df,'height':_0x2fe3df,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x1*-0xa14+-0x590+0x4d*-0xf),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x29568e});}['collectMod'+'els'](_0x58bcac,_0x2838ae,_0x2ca76e){var _0x45fac2,_0x49df43,_0x1f3f34;if(!_0x58bcac['enabled'])return;let _0x3baa6e;if((_0x45fac2=_0x58bcac['model'])!=null&&_0x45fac2['model']&&((_0x49df43=_0x58bcac['model'])!=null&&_0x49df43['enabled'])&&(_0x2ca76e&&_0x2ca76e['push'](new Wl(_0x58bcac)),_0x58bcac['model']['lightmappe'+'d']&&_0x2838ae&&(_0x3baa6e=_0x58bcac['model']['model']['meshInstan'+'ces'])),(_0x1f3f34=_0x58bcac['render'])!=null&&_0x1f3f34['enabled']&&(_0x2ca76e&&_0x2ca76e['push'](new Wl(_0x58bcac)),_0x58bcac['render']['lightmappe'+'d']&&_0x2838ae&&(_0x3baa6e=_0x58bcac['render']['meshInstan'+'ces'])),_0x3baa6e){let _0x3651fe=!(0x21e4+-0x9*0x40d+0x291);for(let _0x2a28c4=-0xe67+-0xcd*0x2e+0x333d;_0x2a28c4<_0x3baa6e['length'];_0x2a28c4++)if(!_0x3baa6e[_0x2a28c4]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x58bcac['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x3651fe=!(0x5bd+-0x41b*0x1+-0x3*0x8b);break;}if(_0x3651fe){const _0x4269ee=[];for(let _0xced112=-0x410+0x1e67+-0x1a57;_0xced112<_0x3baa6e['length'];_0xced112++){const _0x21e586=_0x3baa6e[_0xced112]['mesh'];this['_tempSet']['has'](_0x21e586)?_0x2838ae['push'](new Wl(_0x58bcac,[_0x3baa6e[_0xced112]])):_0x4269ee['push'](_0x3baa6e[_0xced112]),this['_tempSet']['add'](_0x21e586);}this['_tempSet']['clear'](),_0x4269ee['length']>0x255d*0x1+0x1*-0x4b2+0x20ab*-0x1&&_0x2838ae['push'](new Wl(_0x58bcac,_0x4269ee));}}for(let _0x30a530=-0x1dff+-0x775+0x2574;_0x30a530<_0x58bcac['_children']['length'];_0x30a530++)this['collectMod'+'els'](_0x58bcac['_children'][_0x30a530],_0x2838ae,_0x2ca76e);}['prepareSha'+'dowCasters'](_0x57b28f){const _0x3ddd0f=[];for(let _0x349488=0xed4+-0x131e*0x2+0x1768;_0x349488<_0x57b28f['length'];_0x349488++){const _0x6e7581=_0x57b28f[_0x349488]['component'];if(_0x6e7581['castShadow'+'s']=_0x6e7581['castShadow'+'sLightmap'],_0x6e7581['castShadow'+'sLightmap']){const _0x4f4e04=_0x57b28f[_0x349488]['meshInstan'+'ces'];for(let _0x368cda=0xf4e+-0xa04+-0x2*0x2a5;_0x368cda<_0x4f4e04['length'];_0x368cda++)_0x4f4e04[_0x368cda]['visibleThi'+'sFrame']=!(-0x1bb6+0x1c9*0xb+0x813),_0x3ddd0f['push'](_0x4f4e04[_0x368cda]);}}return _0x3ddd0f;}['updateTran'+'sforms'](_0x5ce754){for(let _0x325898=-0x249e+-0x7*-0x4c1+0x357;_0x325898<_0x5ce754['length'];_0x325898++){const _0x1b42d8=_0x5ce754[_0x325898]['meshInstan'+'ces'];for(let _0x55c6fc=0x1d87+0x23a*0x1+-0x1*0x1fc1;_0x55c6fc<_0x1b42d8['length'];_0x55c6fc++)_0x1b42d8[_0x55c6fc]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x387ca5){let _0x4a33ad;const _0x27b875=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x1ede+0x851+-0x271f,_0x27de79=$l;let _0x19ac47,_0x2bf41c;_0x387ca5['model']?(_0x2bf41c=_0x387ca5['model']['lightmapSi'+'zeMultipli'+'er'],_0x387ca5['model']['asset']?(_0x4a33ad=this['assets']['get'](_0x387ca5['model']['asset'])['data'],_0x4a33ad['area']&&(_0x19ac47=_0x4a33ad['area'])):_0x387ca5['model']['_area']&&(_0x4a33ad=_0x387ca5['model'],_0x4a33ad['_area']&&(_0x19ac47=_0x4a33ad['_area']))):_0x387ca5['render']&&(_0x2bf41c=_0x387ca5['render']['lightmapSi'+'zeMultipli'+'er'],_0x387ca5['render']['type']!=='asset'&&_0x387ca5['render']['_area']&&(_0x4a33ad=_0x387ca5['render'],_0x4a33ad['_area']&&(_0x19ac47=_0x4a33ad['_area'])));const _0xef7dbb={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x19ac47&&(_0xef7dbb['x']=_0x19ac47['x'],_0xef7dbb['y']=_0x19ac47['y'],_0xef7dbb['z']=_0x19ac47['z'],_0xef7dbb['uv']=_0x19ac47['uv']);const _0x96e79b=_0x2bf41c||-0xa7e*-0x1+0xc20+0x169d*-0x1;_0xef7dbb['x']*=_0x96e79b,_0xef7dbb['y']*=_0x96e79b,_0xef7dbb['z']*=_0x96e79b;const _0x334ccf=_0x387ca5['render']||_0x387ca5['model'],_0x5dd538=this['computeNod'+'eBounds'](_0x334ccf['meshInstan'+'ces']);_0x27de79['copy'](_0x5dd538['halfExtent'+'s']);let _0x41a837=_0xef7dbb['x']*_0x27de79['y']*_0x27de79['z']+_0xef7dbb['y']*_0x27de79['x']*_0x27de79['z']+_0xef7dbb['z']*_0x27de79['x']*_0x27de79['y'];return _0x41a837/=_0xef7dbb['uv'],_0x41a837=Math['sqrt'](_0x41a837),Math['min'](N['nextPowerO'+'fTwo'](_0x41a837*_0x27b875),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0xead9c7,_0x4d853b,_0xabecca,_0x1c5dbc){for(let _0x1e25bf=0x1*0x1985+0x11b0+0x1*-0x2b35;_0x1e25bf<_0xead9c7['length'];_0x1e25bf++){const _0x1e1865=_0xead9c7[_0x1e25bf],_0x3456c4=_0x1e1865['meshInstan'+'ces'];for(let _0x5d751c=-0xf3e+-0x730+0x2*0xb37;_0x5d751c<_0x3456c4['length'];_0x5d751c++){const _0x564f2f=_0x3456c4[_0x5d751c];if(_0x564f2f['setLightma'+'pped'](_0x4d853b),_0x4d853b){_0x1c5dbc&&(_0x564f2f['_shaderDef'+'s']|=_0x1c5dbc),_0x564f2f['mask']=cr;for(let _0x237e63=0x397*-0x1+0x1*-0x1fdb+0x2372;_0x237e63<_0xabecca;_0x237e63++){const _0x5ec9b3=_0x1e1865['renderTarg'+'ets'][_0x237e63]['colorBuffe'+'r'];_0x5ec9b3['minFilter']=st,_0x5ec9b3['magFilter']=st,_0x564f2f['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x237e63],_0x5ec9b3);}}}}}['bake'](_0x28941e,_0x5c1175=ch){const _0x4b0075=this['device'],_0x1e00a6=ne();this['scene']['_updateSky'+'Mesh'](),_0x4b0075['fire']('lightmappe'+'r:start',{'timestamp':_0x1e00a6,'target':this}),this['stats']['renderPass'+'es']=0x1c12+-0x36f*0x8+-0x2*0x4d,this['stats']['shadowMapT'+'ime']=0x855+0x2635+-0x2e8a,this['stats']['forwardTim'+'e']=0x22a0+0xc59+0x1*-0x2ef9;const _0x1504e2=_0x4b0075['_shaderSta'+'ts']['linked'],_0x29de68=_0x4b0075['_renderTar'+'getCreatio'+'nTime'],_0x1c3a72=_0x4b0075['_shaderSta'+'ts']['compileTim'+'e'],_0x59f4ec=[],_0x344a64=[];if(_0x28941e){for(let _0x2e67bd=-0xd3d+0x1*0xc8e+0xaf;_0x2e67bd<_0x28941e['length'];_0x2e67bd++)this['collectMod'+'els'](_0x28941e[_0x2e67bd],_0x59f4ec,null);this['collectMod'+'els'](this['root'],null,_0x344a64);}else this['collectMod'+'els'](this['root'],_0x59f4ec,_0x344a64);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x59f4ec['length']>0x13da+-0x215c+0xd82){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x912f68=_0x5c1175===ch?-0x14cb+0x2*-0x83e+-0x53*-0x73:0x213f+0x1a74+-0x3bb2;this['setLightma'+'pping'](_0x59f4ec,!(-0x15b5+0x981*-0x2+-0x2*-0x145c),_0x912f68),this['initBake'](_0x4b0075),this['bakeIntern'+'al'](_0x912f68,_0x59f4ec,_0x344a64);let _0x59f9af=Fu;_0x5c1175===ch&&(_0x59f9af|=y0),this['scene']['ambientBak'+'e']&&(_0x59f9af|=x0),this['setLightma'+'pping'](_0x59f4ec,!(-0x26d1+0xd39*0x1+0x12*0x16c),_0x912f68,_0x59f9af),this['finishBake'](_0x59f4ec);}G['popGpuMark'+'er'](this['device']);const _0x39be99=ne();this['stats']['totalRende'+'rTime']=_0x39be99-_0x1e00a6,this['stats']['shadersLin'+'ked']=_0x4b0075['_shaderSta'+'ts']['linked']-_0x1504e2,this['stats']['compileTim'+'e']=_0x4b0075['_shaderSta'+'ts']['compileTim'+'e']-_0x1c3a72,this['stats']['fboTime']=_0x4b0075['_renderTar'+'getCreatio'+'nTime']-_0x29de68,this['stats']['lightmapCo'+'unt']=_0x59f4ec['length'],_0x4b0075['fire']('lightmappe'+'r:end',{'timestamp':_0x39be99,'target':this});}['allocateTe'+'xtures'](_0x320f27,_0x728d){for(let _0x5624d6=-0x1ef+-0xe8f+-0x1*-0x107e;_0x5624d6<_0x320f27['length'];_0x5624d6++){const _0x12efe3=_0x320f27[_0x5624d6],_0x189bae=this['calculateL'+'ightmapSiz'+'e'](_0x12efe3['node']);for(let _0x27b8c5=-0x1bbd+-0x1*0x1147+0x2d04;_0x27b8c5<_0x728d;_0x27b8c5++){const _0x3fd510=this['createText'+'ure'](_0x189bae,'lightmappe'+'r_lightmap'+'_'+_0x5624d6);Si['incRef'](_0x3fd510),_0x12efe3['renderTarg'+'ets'][_0x27b8c5]=new pt({'colorBuffer':_0x3fd510,'depth':!(0x7fd+0x1*-0x26ee+0x1ef2)});}if(!this['renderTarg'+'ets']['has'](_0x189bae)){const _0x5d0bd3=this['createText'+'ure'](_0x189bae,'lightmappe'+'r_temp_lig'+'htmap_'+_0x189bae);Si['incRef'](_0x5d0bd3),this['renderTarg'+'ets']['set'](_0x189bae,new pt({'colorBuffer':_0x5d0bd3,'depth':!(0x12f2+-0xa42+-0x8af)}));}}}['prepareLig'+'htsToBake'](_0x39dbea,_0x33fdd6){if(this['scene']['ambientBak'+'e']){const _0x3348f0=new j_(this);_0x33fdd6['push'](_0x3348f0);}const _0x370ffe=this['renderer']['lights'];for(let _0x1ebdea=0x25e4+-0x174a*0x1+-0x15*0xb2;_0x1ebdea<_0x370ffe['length'];_0x1ebdea++){const _0x8130ff=_0x370ffe[_0x1ebdea],_0x3218da=new mP(this,_0x8130ff);_0x39dbea['push'](_0x3218da),_0x8130ff['enabled']&&(_0x8130ff['mask']&rr)!==0xde9+0x4e0+-0x12c9&&(_0x8130ff['mask']=rr|cr|hs,_0x8130ff['shadowUpda'+'teMode']=_0x8130ff['type']===oe?Pp:cn,_0x33fdd6['push'](_0x3218da));}_0x33fdd6['sort']();}['restoreLig'+'hts'](_0x440717){for(let _0x209819=0x4e7+0x709+0x10*-0xbf;_0x209819<_0x440717['length'];_0x209819++)_0x440717[_0x209819]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x136*-0x18+0x945*0x3+-0x6b*-0x3,-0x765+0x17*0x122+-0x12a9,-0x1*-0x913+-0xc*-0x312+-0x2deb),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x2bd957){const _0x30df19=new _e();if(_0x2bd957['length']>0x2bb+-0x5*-0x1ac+0x11*-0xa7){_0x30df19['copy'](_0x2bd957[-0x2060+-0x312+-0x2372*-0x1]['aabb']);for(let _0x319ac7=0x308+0x8e*0x40+-0x1*0x2687;_0x319ac7<_0x2bd957['length'];_0x319ac7++)_0x30df19['add'](_0x2bd957[_0x319ac7]['aabb']);}return _0x30df19;}['computeNod'+'esBounds'](_0x257b9c){for(let _0x9229d4=-0x10*-0x1c3+0xa3+0x9d*-0x2f;_0x9229d4<_0x257b9c['length'];_0x9229d4++){const _0x382295=_0x257b9c[_0x9229d4]['meshInstan'+'ces'];_0x257b9c[_0x9229d4]['bounds']=this['computeNod'+'eBounds'](_0x382295);}}['computeBou'+'nds'](_0x20784c){const _0x5949f0=new _e();for(let _0x2cb997=-0x3b*-0xd+-0xbc0+0x8c1;_0x2cb997<_0x20784c['length'];_0x2cb997++){_0x5949f0['copy'](_0x20784c[-0x1*0x1431+-0x1dd*0x2+0x17eb]['aabb']);for(let _0x50cb31=-0x1*-0x20ab+-0xeee+-0x11bc;_0x50cb31<_0x20784c['length'];_0x50cb31++)_0x5949f0['add'](_0x20784c[_0x50cb31]['aabb']);}return _0x5949f0;}['backupMate'+'rials'](_0x4f1c0f){for(let _0x5cbcb2=0x133*-0x3+0x1988+-0x5*0x463;_0x5cbcb2<_0x4f1c0f['length'];_0x5cbcb2++)this['materials'][_0x5cbcb2]=_0x4f1c0f[_0x5cbcb2]['material'];}['restoreMat'+'erials'](_0x5d7201){for(let _0x32c266=-0x3*0xc83+-0xf07+0x4*0xd24;_0x32c266<_0x5d7201['length'];_0x32c266++)_0x5d7201[_0x32c266]['material']=this['materials'][_0x32c266];}['lightCamer'+'aPrepare'](_0x533199,_0x2f3962){const _0x4f0645=_0x2f3962['light'];let _0x5bb4a3;return _0x4f0645['type']===Re&&(_0x5bb4a3=_0x4f0645['getRenderD'+'ata'](null,-0xd9*0x2c+-0xc31+-0x29*-0x135)['shadowCame'+'ra'],_0x5bb4a3['_node']['setPositio'+'n'](_0x4f0645['_node']['getPositio'+'n']()),_0x5bb4a3['_node']['setRotatio'+'n'](_0x4f0645['_node']['getRotatio'+'n']()),_0x5bb4a3['_node']['rotateLoca'+'l'](-(-0x1*0x1cc1+-0x10dc+0x2df7),-0xcd*0xb+-0xeb8+0x13*0x13d,0x173*0x5+-0x256*-0x3+-0xe41),_0x5bb4a3['projection']=Gs,_0x5bb4a3['nearClip']=_0x4f0645['attenuatio'+'nEnd']/(-0x1cb0+-0x216f*0x1+0x4207),_0x5bb4a3['farClip']=_0x4f0645['attenuatio'+'nEnd'],_0x5bb4a3['aspectRati'+'o']=-0x9b4+-0xeb6*-0x1+-0x3d*0x15,_0x5bb4a3['fov']=_0x4f0645['_outerCone'+'Angle']*(0x3e*0x1+-0x3b*0x2b+-0x9ad*-0x1),this['renderer']['updateCame'+'raFrustum'](_0x5bb4a3)),_0x5bb4a3;}['lightCamer'+'aPrepareAn'+'dCull'](_0x3962da,_0x526ebe,_0x483359,_0x1a603a){const _0x459c57=_0x3962da['light'];let _0x1c85c9=!(-0x755*0x3+0x1*0x28+0x15d7*0x1);if(_0x459c57['type']===oe){$l['copy'](_0x1a603a['center']),$l['y']+=_0x1a603a['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n']($l),this['camera']['node']['setEulerAn'+'gles'](-(-0x20b3+0x3a*-0xb+0x238b),0x1e9*-0x1+-0x122b*-0x1+-0x1042,-0xa26+0x1229*0x1+-0x803),this['camera']['nearClip']=-0xd3*-0x5+-0x17ce+0x13af,this['camera']['farClip']=_0x1a603a['halfExtent'+'s']['y']*(-0x233f+-0x1*0xbf5+0x2f36);const _0x3d33d5=Math['max'](_0x1a603a['halfExtent'+'s']['x'],_0x1a603a['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x3d33d5;}else _0x3962da['lightBound'+'s']['intersects'](_0x526ebe['bounds'])||(_0x1c85c9=!(-0x854+0x38e+-0x1*-0x4c7));if(_0x459c57['type']===Re){let _0x521633=!(0xd1+0xd34+-0xe04);const _0x545d85=_0x526ebe['meshInstan'+'ces'];for(let _0x8f90df=0x50e+-0x2*-0xf61+-0x3*0xbf0;_0x8f90df<_0x545d85['length'];_0x8f90df++)if(_0x545d85[_0x8f90df]['_isVisible'](_0x483359)){_0x521633=!(0x9b9*-0x2+0x97*-0x27+0x2a73);break;}_0x521633||(_0x1c85c9=!(-0x2513+-0x19ac+0x3ec0));}return _0x1c85c9;}['setupLight'+'Array'](_0x20239d,_0x3e4742){_0x20239d[oe]['length']=-0x34e*-0x7+-0xa8c+0x12*-0xb3,_0x20239d[Pe]['length']=-0x1*0x859+0x1a3e*0x1+-0x11e5,_0x20239d[Re]['length']=0x1*0x249a+-0x21ca+0xa*-0x48,_0x20239d[_0x3e4742['type']][0xcff+-0xad*-0xd+-0x15c8]=_0x3e4742,_0x3e4742['visibleThi'+'sFrame']=!(-0x1a44+-0xc19+0x265d);}['renderShad'+'owMap'](_0x599132,_0x37a9fa,_0x3049b9,_0x58af4e){const _0x3f9353=_0x58af4e['light'],_0x50c440=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x85379a=_0x3f9353['castShadow'+'s']&&(!_0x50c440||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x37a9fa&&_0x85379a){if(!_0x3f9353['shadowMap']&&!_0x50c440&&(_0x3f9353['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x3f9353)),_0x3f9353['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x3f9353,_0x599132,this['camera'],_0x3049b9);const _0x2c5c57=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x3f9353,this['camera']);_0x2c5c57==null||_0x2c5c57['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x153b*-0x1+0x1*-0x745+0x1c80*0x1);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x3f9353,_0x599132,_0x3049b9),this['renderer']['shadowRend'+'erer']['render'](_0x3f9353,this['camera'],!(-0x2*-0xbff+0x6c8+-0x1ec5));}}return!(-0x39b*-0x1+0x1228+-0x15c3);}['postproces'+'sTextures'](_0x3d34e0,_0x4aab04,_0x3b4b3d){const _0x2f14ac=this['lightmapFi'+'lters']['getDilate'](_0x3d34e0,this['bakeHDR']);let _0x171824;const _0x20ef4c=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x20ef4c&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x171824=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x3d34e0['setBlendSt'+'ate'](_t['NOBLEND']),_0x3d34e0['setDepthSt'+'ate'](as['NODEPTH']),_0x3d34e0['setStencil'+'State'](null,null);for(let _0x31192f=0x1f71+-0x992+-0x15df;_0x31192f<_0x4aab04['length'];_0x31192f++){const _0x1469f1=_0x4aab04[_0x31192f];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x31192f);for(let _0x2ca72b=-0xcb4+0x1*-0x1463+0x2117;_0x2ca72b<_0x3b4b3d;_0x2ca72b++){const _0x4e275b=_0x1469f1['renderTarg'+'ets'][_0x2ca72b],_0x3b9d38=_0x4e275b['colorBuffe'+'r'],_0x47ea73=this['renderTarg'+'ets']['get'](_0x3b9d38['width']),_0x2b55b3=_0x47ea73['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x3b9d38['width'],_0x3b9d38['height']);for(let _0x61ca26=-0xbdd+-0x2*0x1299+-0x13*-0x295;_0x61ca26<-0x1*-0x22c8+0x1*-0x92f+-0x1998;_0x61ca26++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x3b9d38),dn(_0x3d34e0,_0x47ea73,_0x20ef4c&&_0x2ca72b===-0x13db+0xa*-0x136+-0x1ff7*-0x1&&_0x61ca26===-0x18bf+0x1a22+-0x163*0x1?_0x171824:_0x2f14ac),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x2b55b3),dn(_0x3d34e0,_0x4e275b,_0x2f14ac);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x19dfc7,_0x44467c,_0xe47ddf){const _0x486532=this['scene'],_0x4f7707=_0x486532['layers'],_0x100dad=this['device'],_0x138333=_0x486532['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x100dad,_0x486532,_0x19dfc7),this['setupScene'](),_0x4f7707['_update'](),this['computeNod'+'esBounds'](_0x44467c),this['allocateTe'+'xtures'](_0x44467c,_0x19dfc7),this['renderer']['collectLig'+'hts'](_0x4f7707);const _0x4b4dae=[],_0x349c03=[];this['prepareLig'+'htsToBake'](_0x4b4dae,_0x349c03),this['updateTran'+'sforms'](_0xe47ddf);const _0x7a7354=this['prepareSha'+'dowCasters'](_0xe47ddf);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x7a7354),this['renderer']['gpuUpdate'](_0x7a7354);const _0x42ae52=this['computeBou'+'nds'](_0x7a7354);let _0xcc4db0,_0x34dd0f,_0x4f919c,_0xe07897;for(_0xcc4db0=-0x247c+0xad*-0x25+0x63*0x9f;_0xcc4db0<_0x44467c['length'];_0xcc4db0++)for(_0x4f919c=_0x44467c[_0xcc4db0]['meshInstan'+'ces'],_0x34dd0f=0x9e+0x1*-0x14da+-0x7*-0x2e4;_0x34dd0f<_0x4f919c['length'];_0x34dd0f++)_0xe07897=_0x4f919c[_0x34dd0f],_0xe07897['setLightma'+'pped'](!(0x5*0x404+-0x1*0x595+-0xe7e)),_0xe07897['mask']=rr,_0xe07897['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0xfb*-0x5+0x98e+0x4a7*-0x1],this['blackTex']),_0xe07897['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0xd8d+0xa54+-0x20*0xbf],this['blackTex']);for(_0x34dd0f=-0xc0c*-0x3+-0x1398+0x3*-0x584;_0x34dd0f<_0x349c03['length'];_0x34dd0f++)_0x349c03[_0x34dd0f]['light']['enabled']=!(0x2417+0x71*0x5+-0x264b*0x1);const _0x1f7440=[[],[],[]];let _0x45e768,_0x2963e4,_0x57a54e=!(-0xe37*-0x1+-0x1c81+0xe4b);for(_0xcc4db0=0x1b9*-0x2+0x1*0x16ca+-0x1358;_0xcc4db0<_0x349c03['length'];_0xcc4db0++){const _0x531ffb=_0x349c03[_0xcc4db0],_0x3da05a=_0x531ffb instanceof j_,_0x29f0aa=_0x531ffb['light']['type']===oe;let _0x27bbe4=_0x531ffb['numVirtual'+'Lights'];_0x19dfc7>-0x17dc+0x1d5e+-0x581&&_0x27bbe4>0xffd*-0x1+0x68*0x30+-0x2*0x1c1&&_0x531ffb['light']['bakeDir']&&(_0x27bbe4=0x1*-0xd8e+0xf9*0x1+0xc96,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x3cb7bb=0x1*-0x12a9+-0xe5*-0x16+-0x105;_0x3cb7bb<_0x27bbe4;_0x3cb7bb++){G['pushGpuMar'+'ker'](_0x100dad,'Light:'+_0x531ffb['light']['_node']['name']+':'+_0x3cb7bb),_0x27bbe4>0x55e*-0x6+0x1972+0x6c3&&_0x531ffb['prepareVir'+'tualLight'](_0x3cb7bb,_0x27bbe4),_0x531ffb['startBake']();let _0x14a47c=!(-0x17*-0xc1+-0xfd2+-0x184);const _0x55b099=this['lightCamer'+'aPrepare'](_0x100dad,_0x531ffb);for(_0x2963e4=-0x1fc0+-0x2*0x1327+0x460e;_0x2963e4<_0x44467c['length'];_0x2963e4++){const _0x2bcbc0=_0x44467c[_0x2963e4];if(_0x4f919c=_0x2bcbc0['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x531ffb,_0x2bcbc0,_0x55b099,_0x42ae52))continue;this['setupLight'+'Array'](_0x1f7440,_0x531ffb['light']);const _0xf96c02=_0x29f0aa?[]:[_0x531ffb['light']];for(_0x138333&&this['renderer']['lightTextu'+'reAtlas']['update'](_0xf96c02,this['lightingPa'+'rams']),_0x14a47c=this['renderShad'+'owMap'](_0x4f7707,_0x14a47c,_0x7a7354,_0x531ffb),_0x138333&&this['worldClust'+'ers']['update'](_0xf96c02,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x4f919c),_0x45e768=-0x3*0x649+0x43*0x49+0x10*-0x4;_0x45e768<_0x19dfc7&&!(_0x45e768>0x2621*-0x1+0x1453+0x11ce&&_0x3cb7bb>-0x1*-0x539+-0x18c5+0x138c||_0x3da05a&&_0x45e768>0x55b+-0x1d8a+0x182f*0x1);_0x45e768++){G['pushGpuMar'+'ker'](_0x100dad,'LMPass:'+_0x45e768);const _0x57f0ef=_0x2bcbc0['renderTarg'+'ets'][_0x45e768],_0x4d33d1=_0x2bcbc0['renderTarg'+'ets'][_0x45e768]['colorBuffe'+'r']['width'],_0x785cc5=this['renderTarg'+'ets']['get'](_0x4d33d1),_0x2f77a4=_0x785cc5['colorBuffe'+'r'];_0x45e768===-0x8b*-0x1+-0xd1*0x23+0x1c08?_0x57a54e=_0x486532['updateShad'+'ers']:_0x57a54e&&(_0x486532['updateShad'+'ers']=!(0xd81+0x8*-0x162+-0x7d*0x5));let _0x50bf69=this['passMateri'+'als'][_0x45e768];for(_0x3da05a&&_0x3cb7bb+(-0x18a0+0x1*0x1a81+0x60*-0x5)===_0x27bbe4&&_0x45e768===-0x47*0x2b+-0x18e+0x1d*0x77&&(_0x50bf69=this['ambientAOM'+'aterial']),_0x34dd0f=-0xabd*0x1+0xd3*0x2b+-0x18b4;_0x34dd0f<_0x4f919c['length'];_0x34dd0f++)_0x4f919c[_0x34dd0f]['material']=_0x50bf69;if(this['renderer']['updateShad'+'ers'](_0x4f919c),_0x45e768===SP&&this['constantBa'+'keDir']['setValue'](_0x531ffb['light']['bakeDir']?-0x2568+-0xcad+-0x6*-0x859:0x50e*0x3+0x37b+-0x12a5),_0x100dad['isWebGPU']){const _0x5a6a27=new gP(_0x100dad,this['renderer'],this['camera'],_0x138333?this['worldClust'+'ers']:null,_0x4f919c,_0x1f7440);_0x5a6a27['init'](_0x785cc5),_0x5a6a27['render'](),_0x5a6a27['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x785cc5,!(0xf*-0x236+0x18a4+0x886)),_0x138333&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x2557+0x14b*0x1e+-0x4c21*0x1,this['renderer']['_shadowMap'+'Time']=-0x1647+0x1004+0x643*0x1,this['renderer']['renderForw'+'ard'](this['camera'],_0x785cc5,_0x4f919c,_0x1f7440,gn),_0x100dad['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x2bcbc0['renderTarg'+'ets'][_0x45e768]=_0x785cc5,this['renderTarg'+'ets']['set'](_0x4d33d1,_0x57f0ef),_0x34dd0f=0x3ce+-0xc65+0x897;_0x34dd0f<_0x4f919c['length'];_0x34dd0f++)_0xe07897=_0x4f919c[_0x34dd0f],_0xe07897['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x45e768],_0x2f77a4),_0xe07897['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x100dad);}this['restoreMat'+'erials'](_0x4f919c);}_0x531ffb['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x100dad);}}for(this['postproces'+'sTextures'](_0x100dad,_0x44467c,_0x19dfc7),_0x2963e4=-0x14ca+-0x1499*-0x1+0x31;_0x2963e4<_0xe47ddf['length'];_0x2963e4++)_0xe47ddf[_0x2963e4]['restore']();this['restoreLig'+'hts'](_0x4b4dae),this['restoreSce'+'ne'](),_0x138333||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x16fc9a,_0x5a4429){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x16fc9a,this['entity']=_0x5a4429,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x289503,_0x220eab,_0x55b1e7){this['fire']('set_'+_0x289503,_0x289503,_0x220eab,_0x55b1e7);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x49bf6a,_0x8cdf1d){_0x8cdf1d['forEach'](_0x255ff5=>{const _0x23592a=typeof _0x255ff5=='object'?_0x255ff5['name']:_0x255ff5;Object['defineProp'+'erty'](_0x49bf6a,_0x23592a,{'get':function(){return this['data'][_0x23592a];},'set':function(_0x140bff){const _0x10cef5=this['data'],_0x2a9e7e=_0x10cef5[_0x23592a];_0x10cef5[_0x23592a]=_0x140bff,this['fire']('set',_0x23592a,_0x2a9e7e,_0x140bff);},'configurable':!(-0x329*-0xc+-0x1446+-0x11a6)});}),_0x49bf6a['_accessors'+'Built']=!(-0x1f8b+-0x286*0x5+0x13*0x253);}['buildAcces'+'sors'](_0x21eb4c){oc['_buildAcce'+'ssors'](this,_0x21eb4c);}['onSetEnabl'+'ed'](_0x4d243f,_0x14e7ba,_0x218b21){_0x14e7ba!==_0x218b21&&this['entity']['enabled']&&(_0x218b21?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x262be4=this['system']['store'][this['entity']['getGuid']()];return _0x262be4?_0x262be4['data']:null;}set['enabled'](_0x27c138){}get['enabled'](){return!(-0x1405+-0x37*-0x2b+0xac8);}};c(oc,'order',-0x6*-0x251+0x860+-0x2*0xb23);let ue=oc;class Xe extends ce{constructor(_0x5e0b37){super(),this['app']=_0x5e0b37,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x10e3ac,_0x61ff58={}){const _0xbe849c=new this['ComponentT'+'ype'](this,_0x10e3ac),_0x46a0c6=new this['DataType']();return this['store'][_0x10e3ac['getGuid']()]={'entity':_0x10e3ac,'data':_0x46a0c6},_0x10e3ac[this['id']]=_0xbe849c,_0x10e3ac['c'][this['id']]=_0xbe849c,this['initialize'+'ComponentD'+'ata'](_0xbe849c,_0x61ff58,[]),this['fire']('add',_0x10e3ac,_0xbe849c),_0xbe849c;}['removeComp'+'onent'](_0x5d0617){const _0x1c6933=this['id'],_0x3fe2bc=this['store'][_0x5d0617['getGuid']()],_0x43ebf3=_0x5d0617['c'][_0x1c6933];_0x43ebf3['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x5d0617,_0x43ebf3),delete this['store'][_0x5d0617['getGuid']()],_0x5d0617[_0x1c6933]=void(-0x2269+0x22c+-0x15*-0x189),delete _0x5d0617['c'][_0x1c6933],this['fire']('remove',_0x5d0617,_0x3fe2bc['data']);}['cloneCompo'+'nent'](_0x9271d5,_0x4358a8){const _0x14e939=this['store'][_0x9271d5['getGuid']()];return this['addCompone'+'nt'](_0x4358a8,_0x14e939['data']);}['initialize'+'ComponentD'+'ata'](_0x2b64b8,_0x4b99f3={},_0x54f9ab){for(let _0x3e1859=0x7c3+-0x636+-0x1*0x18d,_0x3cc285=_0x54f9ab['length'];_0x3e1859<_0x3cc285;_0x3e1859++){const _0x1a48ab=_0x54f9ab[_0x3e1859];let _0xcc80f7,_0x57afbb;typeof _0x1a48ab=='object'?(_0xcc80f7=_0x1a48ab['name'],_0x57afbb=_0x1a48ab['type']):(_0xcc80f7=_0x1a48ab,_0x57afbb=void(0x1188+0x1fd4+-0x315c));let _0x242f0b=_0x4b99f3[_0xcc80f7];_0x242f0b!==void(-0x7fe+0x4a6+0x358)?(_0x57afbb!==void(0x1f53+-0x1064+-0xeef)&&(_0x242f0b=bP(_0x242f0b,_0x57afbb)),_0x2b64b8[_0xcc80f7]=_0x242f0b):_0x2b64b8[_0xcc80f7]=_0x2b64b8['data'][_0xcc80f7];}_0x2b64b8['enabled']&&_0x2b64b8['entity']['enabled']&&_0x2b64b8['onEnable']();}['getPropert'+'iesOfType'](_0x31452e){const _0x259048=[];return(this['schema']||[])['forEach'](_0x231720=>{_0x231720&&typeof _0x231720=='object'&&_0x231720['type']===_0x31452e&&_0x259048['push'](_0x231720);}),_0x259048;}['destroy'](){this['off']();}}function bP(_0x531f59,_0x47caf2){if(!_0x531f59)return _0x531f59;switch(_0x47caf2){case'rgb':return _0x531f59 instanceof Y?_0x531f59['clone']():new Y(_0x531f59[0xcad+-0x1102+0x455],_0x531f59[0x1*0xeff+-0x1a9+0x1*-0xd55],_0x531f59[0x11e6+-0x212f+0xf4b]);case'rgba':return _0x531f59 instanceof Y?_0x531f59['clone']():new Y(_0x531f59[0x2102+0x59f*-0x2+-0x4*0x571],_0x531f59[-0x1d3*0x5+0x2*-0x9f5+0xe85*0x2],_0x531f59[-0xf+-0x7ce+0x7df],_0x531f59[0x1e*-0xa+0x1*0x253b+0x602*-0x6]);case'vec2':return _0x531f59 instanceof W?_0x531f59['clone']():new W(_0x531f59[-0x8*0x3f3+-0x1b9d+0x3b35],_0x531f59[0x16f*-0xe+-0x1ed*-0x12+-0xe97]);case'vec3':return _0x531f59 instanceof T?_0x531f59['clone']():new T(_0x531f59[0xc16+-0x23ad+0x9*0x29f],_0x531f59[-0x1371+0xb*-0x287+0x29*0x127],_0x531f59[0x20e1+-0xb44+-0x159b]);case'vec4':return _0x531f59 instanceof Q?_0x531f59['clone']():new Q(_0x531f59[0x7c1*0x1+-0x418+-0x3a9],_0x531f59[0xcb8+0x3*0x63d+-0x1f6e],_0x531f59[0x423*-0x3+0x11c3+-0x558],_0x531f59[-0x1a*0x8+-0xe01+0xed4]);case'boolean':case'number':case'string':return _0x531f59;case'entity':return _0x531f59;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x47caf2);}}const $0=0x14cb*-0x1+0x12ac+0xb5*0x3,ju=-0x169f+-0x1b8a+-0x322a*-0x1,Yu=-0x3*-0x6ab+-0x468+-0x1*0xf97;class wP{constructor(){this['_left']=(-0x497+-0xfe*-0x14+-0x3d*0x40)/(0x538*0x1+0x107*-0x17+0x1*0x1269),this['_right']=-(-0xa4+-0xe8*0x3+0x35d)/(-0xee+0xab+0x43),this['_len']=0x3*0x28e+-0x4*0x4fa+0xc3e,this['_recip']=0x3e*-0x80+-0x19a6*0x1+-0x6*-0x971,this['_p0']=0xe*0x1b0+-0x21*0xe8+0x648,this['_p1']=0xd9b+0xd17+-0x43*0x66,this['_t']=-0x1bfa+0x2163+-0x569,this['_hermite']={'valid':!(0xaa0*-0x2+0x983*0x4+-0x599*0x3),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x441577,_0x19bb71){if(_0x441577<this['_left']||_0x441577>=this['_right']){const _0x386d5a=_0x19bb71['length'];if(!_0x386d5a)this['_left']=-(0x25e3*0x1+-0x12cb+-0x1317)/(-0x1*0x1d69+0x19c1*-0x1+0x372a),this['_right']=(0xcc5+0x3*0x556+0xfe*-0x1d)/(-0x9db*0x1+-0x2*-0xcb3+-0xf8b),this['_len']=0xd11+-0xa6b+-0x2a6*0x1,this['_recip']=0xb*0x12b+0x2*-0x80+0x3*-0x3f3,this['_p0']=this['_p1']=0x1580+-0x1865+0x2e5;else{if(_0x441577<_0x19bb71[0x24c7+0x4ff+-0x29c6])this['_left']=-(-0xe8a+0xca3+0x1e8)/(-0x861+-0x1*-0x13f3+0x5c9*-0x2),this['_right']=_0x19bb71[-0x2d*0xb9+0xb91+0x14f4],this['_len']=-0xa0*0x10+-0xcb9*-0x2+-0x6*0x293,this['_recip']=-0x1787+-0xa35*0x3+0x1b13*0x2,this['_p0']=this['_p1']=0x26*0xd9+0x1ca*0xb+-0x114c*0x3;else{if(_0x441577>=_0x19bb71[_0x386d5a-(0x13f3*0x1+0x2316*-0x1+0xf24)])this['_left']=_0x19bb71[_0x386d5a-(0x430*0x1+-0x19*0xdf+0x1198)],this['_right']=(-0xecf+0x1*0x44f+0xa81)/(0xab7+0x5*-0x7f+0x11*-0x7c),this['_len']=-0x1306+0x1*-0x625+-0x192b*-0x1,this['_recip']=0x3ba+-0xa45*0x1+0x68b,this['_p0']=this['_p1']=_0x386d5a-(0x59d+0x61*-0x4d+0x1791);else{const _0x4b6d0c=this['_findKey'](_0x441577,_0x19bb71);this['_left']=_0x19bb71[_0x4b6d0c],this['_right']=_0x19bb71[_0x4b6d0c+(-0x15*0x1b+-0x143*-0x7+-0x69d)],this['_len']=this['_right']-this['_left'];const _0x40eaa8=(0x1201+0xb6c+-0x1d6c)/this['_len'];this['_recip']=isFinite(_0x40eaa8)?_0x40eaa8:-0x1986+0x36d*-0x8+0x34ee,this['_p0']=_0x4b6d0c,this['_p1']=_0x4b6d0c+(0x20e0+-0xd21+-0x13be);}}}}this['_t']=this['_recip']===0x552+0x158a+-0x1adc?-0x38a+0x12e4+-0xf5a:(_0x441577-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x2410+0x126d*0x2+-0xe95*0x5);}['_findKey'](_0x232f7f,_0x1f7301){let _0x3cf8bf=-0x9*-0x148+0x1ff9+-0x7*0x637;for(;_0x232f7f>=_0x1f7301[_0x3cf8bf+(-0x1225+0xa1*-0x5+-0x154b*-0x1)];)_0x3cf8bf++;return _0x3cf8bf;}['eval'](_0x53f82c,_0x3ded58,_0x5a8575){const _0x18a30a=_0x5a8575['_data'],_0x37ea76=_0x5a8575['_component'+'s'],_0x96f17c=this['_p0']*_0x37ea76;if(_0x3ded58===$0){for(let _0x23543e=0x3a6+-0x119c*-0x1+-0x1542;_0x23543e<_0x37ea76;++_0x23543e)_0x53f82c[_0x23543e]=_0x18a30a[_0x96f17c+_0x23543e];}else{const _0x2cfb48=this['_t'],_0x50a28c=this['_p1']*_0x37ea76;switch(_0x3ded58){case ju:for(let _0xf9d7ec=0x1c15+-0x1*-0x14ae+-0x30c3;_0xf9d7ec<_0x37ea76;++_0xf9d7ec)_0x53f82c[_0xf9d7ec]=N['lerp'](_0x18a30a[_0x96f17c+_0xf9d7ec],_0x18a30a[_0x50a28c+_0xf9d7ec],_0x2cfb48);break;case Yu:{const _0x257159=this['_hermite'];if(!_0x257159['valid']){const _0x2d6333=_0x2cfb48*_0x2cfb48,_0x5bc07b=_0x2cfb48+_0x2cfb48,_0x325ea6=-0x1ef1+0x2013+-0x121-_0x2cfb48,_0x2f099e=_0x325ea6*_0x325ea6;_0x257159['valid']=!(0x88e+-0x4d*0x49+0xd67),_0x257159['p0']=(-0x79d*-0x3+0x1*0x16a0+0x211*-0x16+_0x5bc07b)*_0x2f099e,_0x257159['m0']=_0x2cfb48*_0x2f099e,_0x257159['p1']=_0x2d6333*(-0x305*-0x5+-0x1741*-0x1+0x41*-0x97-_0x5bc07b),_0x257159['m1']=_0x2d6333*(_0x2cfb48-(-0xf84+-0x54b+0x25*0x90));}const _0x1278d3=(this['_p0']*(0x67*-0x53+-0xee6+0x304e)+(0x100a+-0x905*0x4+0x1*0x140b))*_0x37ea76,_0x4c219d=(this['_p0']*(0x5dd+0xa50+-0x102a)+(0x1*0xb03+-0xc0d+0x10c))*_0x37ea76,_0x3515cb=(this['_p1']*(0x249b+-0xa0f+-0x1a89)+(-0x298+-0x1c4+0x45d*0x1))*_0x37ea76,_0x5b530d=(this['_p1']*(0x1*0x24d1+0x23e4+0xa*-0x745)+(0x2*0xd13+0x116a+0x2b9*-0x10))*_0x37ea76;for(let _0x20e3a7=0x10b7*0x2+-0x6*0x5b5+0xd0;_0x20e3a7<_0x37ea76;++_0x20e3a7)_0x53f82c[_0x20e3a7]=_0x257159['p0']*_0x18a30a[_0x1278d3+_0x20e3a7]+_0x257159['m0']*_0x18a30a[_0x4c219d+_0x20e3a7]*this['_len']+_0x257159['p1']*_0x18a30a[_0x3515cb+_0x20e3a7]+_0x257159['m1']*_0x18a30a[_0x5b530d+_0x20e3a7]*this['_len'];break;}}}}}class K_{constructor(_0x11bf2c){this['_name']=_0x11bf2c['name']+'Snapshot',this['_time']=-(-0x312*0x4+0x9db+0x26e*0x1),this['_cache']=[],this['_results']=[];for(let _0x37aea9=0x8*-0xd7+-0xf3*0x14+0x19b4;_0x37aea9<_0x11bf2c['_inputs']['length'];++_0x37aea9)this['_cache'][_0x37aea9]=new wP();const _0x117915=_0x11bf2c['_curves'],_0x3b4e16=_0x11bf2c['_outputs'];for(let _0x38d414=-0x2*0xc73+-0xb*-0x1d6+-0x12d*-0x4;_0x38d414<_0x117915['length'];++_0x38d414){const _0x2a9846=_0x117915[_0x38d414],_0x336ab7=_0x3b4e16[_0x2a9846['_output']],_0x10429a=[];for(let _0x5df3b0=0x2536+-0x23c9+-0x16d;_0x5df3b0<_0x336ab7['_component'+'s'];++_0x5df3b0)_0x10429a[_0x5df3b0]=-0x5*0x15+0x8*0x11f+0x88f*-0x1;this['_results'][_0x38d414]=_0x10429a;}}}const Eo=class Eo{constructor(_0x42ba0c,_0x193e80,_0x205318,_0x28d279,_0x44fe67,_0xaa43fa){this['_name']=_0x42ba0c['name'],this['_track']=_0x42ba0c,this['_snapshot']=new K_(_0x42ba0c),this['_playing']=_0x28d279,this['_time']=_0x193e80,this['_speed']=_0x205318,this['_loop']=_0x44fe67,this['_blendWeig'+'ht']=-0x266b+-0x4*0x980+0x4c6c,this['_blendOrde'+'r']=-0x1307+0x1*-0x2113+-0x9*-0x5ca,this['_eventHand'+'ler']=_0xaa43fa,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x320f4d){this['_name']=_0x320f4d;}get['name'](){return this['_name'];}set['track'](_0x419a4e){this['_track']=_0x419a4e,this['_snapshot']=new K_(_0x419a4e);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x560b2e){this['_time']=_0x560b2e,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x524208){const _0x49758f=Math['sign'](_0x524208)!==Math['sign'](this['_speed']);this['_speed']=_0x524208,_0x49758f&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x1ea15d){this['_loop']=_0x1ea15d;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x3d2bd2){this['_blendWeig'+'ht']=_0x3d2bd2;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x47851b){this['_blendOrde'+'r']=_0x47851b;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x560e8b){this['_eventCurs'+'or']=_0x560e8b;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x694+0x4*0x8e4+-0x2a24:this['_track']['events']['length']-(-0x2421*0x1+-0x587*-0x4+0xe06);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x37e+0x11cb+-0x20b*0x7;}['nextEventA'+'headOfTime'](_0x2c3fca){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x2c3fca:this['nextEvent']['time']>=_0x2c3fca:!(-0x2f6*-0x1+0x5*-0x65c+0x1cd7);}['nextEventB'+'ehindTime'](_0x4654b4){return this['nextEvent']?_0x4654b4===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x4654b4:this['nextEvent']['time']<=_0x4654b4:this['isReverse']?this['nextEvent']['time']>_0x4654b4:this['nextEvent']['time']<_0x4654b4:!(0x9e3+0x1*-0x1c8d+0x12ab);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0xe44*-0x2+0x16e9+0x1*-0x3370):0x8d3+0xced*0x1+-0x15c0;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x7b*-0x2b+-0x131*0x12+0x2a1c):0x1*-0x1d3f+-0x5f4+0x2334,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0xe2*-0x26+-0x103*-0x17+0x1*0xa47:this['_eventCurs'+'or']<-0xc89+0x47a*0x1+0x1*0x80f&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x2327*0x1+-0x1d9*0x7+-0x1637));}['clipFrameT'+'ime'](_0x46a9e6){const _0x1d0cc2=Eo['eventFrame'];_0x1d0cc2['start']=0xc67*-0x1+-0xd31*0x1+0x1998,_0x1d0cc2['end']=_0x46a9e6,_0x1d0cc2['residual']=0xb32*0x2+-0x1021+-0x7*0xe5,this['isReverse']?_0x46a9e6<0x12dd+-0x159+-0x1184&&(_0x1d0cc2['start']=this['track']['duration'],_0x1d0cc2['end']=-0xd19+0x483*0x1+0xe*0x9d,_0x1d0cc2['residual']=_0x46a9e6+this['track']['duration']):_0x46a9e6>this['track']['duration']&&(_0x1d0cc2['start']=0x583*0x5+-0x1*-0x18aa+0x3439*-0x1,_0x1d0cc2['end']=this['track']['duration'],_0x1d0cc2['residual']=_0x46a9e6-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x2004e2,_0x151a04){return this['nextEventA'+'headOfTime'](_0x2004e2)&&this['nextEventB'+'ehindTime'](_0x151a04)?(this['fireNextEv'+'ent'](),!(-0x26ad*0x1+-0x55*0x60+0x468d*0x1)):!(0xb1a*0x3+0x1*-0x18f5+-0x42c*0x2);}['activeEven'+'tsForFrame'](_0x3438a6,_0x150f23){const _0x5d33dc=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x150f23);const _0x4bc6e1=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x3438a6,_0x5d33dc['end'])&&_0x4bc6e1!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x5d33dc['residual'])>-0x462*0x3+-0x197a*0x1+-0xc*-0x338&&this['activeEven'+'tsForFrame'](_0x5d33dc['start'],_0x5d33dc['residual']);}['progressFo'+'rTime'](_0x3f922e){return _0x3f922e*this['_speed']/this['_track']['duration'];}['_update'](_0x2fd4e7){if(this['_playing']){let _0x221795=this['_time'];const _0x14c868=this['_track']['duration'],_0x5ef477=this['_speed'],_0x5b1636=this['_loop'];this['_track']['events']['length']>0x1*-0x225d+0x18d2+-0x7*-0x15d&&_0x14c868>-0x102+0x12ad+0x11ab*-0x1&&this['activeEven'+'tsForFrame'](_0x221795,_0x221795+_0x5ef477*_0x2fd4e7),_0x221795+=_0x5ef477*_0x2fd4e7,_0x5ef477>=0xb7*-0xd+-0x1*0x68f+0xfda?_0x221795>_0x14c868&&(_0x5b1636?_0x221795=_0x221795%_0x14c868||-0x31*0xa7+-0x8*-0x425+-0x1*0x131:(_0x221795=this['_track']['duration'],this['pause']())):_0x221795<0x4e6+-0x6f1*-0x1+-0xbd7*0x1&&(_0x5b1636?_0x221795=_0x14c868+(_0x221795%_0x14c868||0x20b0+0x1*-0x13de+0x6*-0x223):(_0x221795=0x25b+-0x941*0x3+0x1968,this['pause']())),this['_time']=_0x221795;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x1*0x14ae+-0x8*0x3f8+0x6*0x8bd),this['_time']=-0x253f+0x2cb+0x14*0x1b9;}['stop'](){this['_playing']=!(-0x1e98+0x2353*-0x1+0x41ec),this['_time']=0x1b78+0xcca+-0x2*0x1421;}['pause'](){this['_playing']=!(0x1180+-0x15b0+0x431);}['resume'](){this['_playing']=!(0x2305*-0x1+-0x1*0xeb7+0x3*0x1094);}['reset'](){this['_time']=0x251c+-0x12*-0xf6+-0x3668;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x4b9385,_0x1aae3a){const _0x4e656e=_0x4b9385['length'];let _0x221eae=0x2359+-0x2099+0x4*-0xb0;for(let _0x16cf26=0x20c6+0x15b9+-0x367f;_0x16cf26<_0x4e656e;++_0x16cf26)_0x221eae+=_0x4b9385[_0x16cf26]*_0x1aae3a[_0x16cf26];return _0x221eae;}static['normalize'](_0xda2b94){let _0x631aa2=Tt['dot'](_0xda2b94,_0xda2b94);if(_0x631aa2>0x6da*-0x1+0x19a1+-0x12c7){_0x631aa2=(0x1*-0x8c1+-0x1795+0x2057*0x1)/Math['sqrt'](_0x631aa2);const _0x2e5db5=_0xda2b94['length'];for(let _0x327ff3=-0x1550+0x2653*-0x1+0x3ba3;_0x327ff3<_0x2e5db5;++_0x327ff3)_0xda2b94[_0x327ff3]*=_0x631aa2;}}static['set'](_0x26444c,_0x3af63f,_0x830324){const _0x55b4cf=_0x26444c['length'];if(_0x830324==='quaternion'){let _0x305567=Tt['dot'](_0x3af63f,_0x3af63f);_0x305567>0xc*0x56+0xbdf*-0x2+-0x349*-0x6&&(_0x305567=(0xc6d+0x24e8+-0x3154)/Math['sqrt'](_0x305567));for(let _0x3db51c=-0x11a9*0x1+0xabf+0x6ea;_0x3db51c<_0x55b4cf;++_0x3db51c)_0x26444c[_0x3db51c]=_0x3af63f[_0x3db51c]*_0x305567;}else{for(let _0x337a55=-0xf*-0x1+0x1efa+-0x1f09;_0x337a55<_0x55b4cf;++_0x337a55)_0x26444c[_0x337a55]=_0x3af63f[_0x337a55];}}static['blendVec'](_0x4a3767,_0xb59fc,_0x389a75,_0x3e94be){const _0x38c35d=_0x3e94be?0x1*0x1a98+-0x73d*-0x1+-0x1*0x21d4:0x1*0x1bd9+0x1327*-0x2+-0xa76*-0x1-_0x389a75,_0x2032ae=_0x4a3767['length'];for(let _0x16d14b=0x1ce2+0xef9+-0x2bdb;_0x16d14b<_0x2032ae;++_0x16d14b)_0x4a3767[_0x16d14b]=_0x4a3767[_0x16d14b]*_0x38c35d+_0xb59fc[_0x16d14b]*_0x389a75;}static['blendQuat'](_0x10b461,_0xc99bcc,_0x2eb8a6,_0x1f2fc0){const _0x4b3d8d=_0x10b461['length'],_0x27159d=_0x1f2fc0?0x1979*0x1+0x1*-0x179d+-0x1db:-0x17*-0x112+-0xb03+0x1*-0xd9a-_0x2eb8a6;Tt['dot'](_0x10b461,_0xc99bcc)<-0x40*0x61+-0xcc8+-0xed*-0x28&&(_0x2eb8a6=-_0x2eb8a6);for(let _0x4c0496=-0x1f*-0xb+-0x11ac+0x1057;_0x4c0496<_0x4b3d8d;++_0x4c0496)_0x10b461[_0x4c0496]=_0x10b461[_0x4c0496]*_0x27159d+_0xc99bcc[_0x4c0496]*_0x2eb8a6;_0x1f2fc0||Tt['normalize'](_0x10b461);}static['blend'](_0x198504,_0x5b4cff,_0xca5146,_0x135bc1,_0x2bac27){_0x135bc1==='quaternion'?Tt['blendQuat'](_0x198504,_0x5b4cff,_0xca5146,_0x2bac27):Tt['blendVec'](_0x198504,_0x5b4cff,_0xca5146,_0x2bac27);}static['stableSort'](_0x42ebd5,_0x126d0c){const _0x1b68df=_0x42ebd5['length'];for(let _0x55e29b=-0xf0c+-0x22a6+-0x31b2*-0x1;_0x55e29b<_0x1b68df-(0x1*0x5d+-0x5b6+0x55a);++_0x55e29b)for(let _0x53b4fc=_0x55e29b+(0x1*-0x7a7+0x5f5+0x1b3);_0x53b4fc<_0x1b68df;++_0x53b4fc)if(_0x126d0c(_0x42ebd5[_0x53b4fc],_0x42ebd5[_0x55e29b])){const _0x2f3ff2=_0x42ebd5[_0x55e29b];_0x42ebd5[_0x55e29b]=_0x42ebd5[_0x53b4fc],_0x42ebd5[_0x53b4fc]=_0x2f3ff2;}}}const Ue=class Ue{constructor(_0x9e4410,_0x2f9724){this['_component']=_0x9e4410,this['mask']=new Int8Array(_0x9e4410['layers']['length']),this['weights']=new Float32Array(_0x9e4410['layers']['length']),this['totalWeigh'+'t']=0x1f4d*-0x1+-0xcfb+0x2c48,this['counter']=0x112*0xd+0x2445+-0x322f,this['layerCount'+'er']=0x14fa+0x41a+-0x1914,this['valueType']=_0x2f9724,this['dirty']=!(0x5df+0x1404+-0x19e3),this['value']=_0x2f9724===Ue['TYPE_QUAT']?[-0x202b+0xce5*0x2+0x47*0x17,-0x90e*-0x1+0xf85+0x2bb*-0x9,-0x17b7+0x62d+0x2*0x8c5,-0x1b7*-0xd+0x2606+-0x3c50]:[0x1c94+0x269*-0xd+-0x2c1*-0x1,-0x10*-0x1d8+-0x1ccd+0x1*-0xb3,-0x61*0x4d+-0x2524+0x4251],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x16a6d7){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0xb4e+-0x687+0x11d5||!this['mask'][_0x16a6d7]?0x782*-0x4+-0x5c4+0x1d*0x13c:this['_normalize'+'Weights']?this['weights'][_0x16a6d7]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x16a6d7],-0x1db*0x4+0x145a*-0x1+-0x9e*-0x2d,0xe4+0x19cf+-0x1ab2);}['_layerBlen'+'dType'](_0x33b97a){return this['_component']['layers'][_0x33b97a]['blendType'];}['setMask'](_0x26924a,_0x23f879){this['mask'][_0x26924a]=_0x23f879,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x26924a]['blendType']===X0&&(this['mask']=this['mask']['fill'](0x149b+0xda6+0xed*-0x25,-0xdd*-0xa+0x1652+-0x1ef4,_0x26924a)),this['dirty']=!(-0x18d3+0x301+-0x93*-0x26));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x1964+-0x10a4+0x28*0x10d;for(let _0x58c998=0xa9d+0x1*0x19c6+-0x2463;_0x58c998<this['weights']['length'];_0x58c998++)this['weights'][_0x58c998]=this['_component']['layers'][_0x58c998]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x58c998]*this['weights'][_0x58c998];this['dirty']=!(0x1*0x8db+-0x1962+0x8*0x211);}['updateValu'+'e'](_0x15061d,_0x3d4db5){if(this['counter']===-0xfae+-0xbf*0x9+0xd*0x1b9&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],0x4a3+-0x1e01*-0x1+-0x22a3,this['valueType'])),!(!this['mask'][_0x15061d]||this['getWeight'](_0x15061d)===-0x1ce*0xd+-0x3c9+0x1b3f)){if(this['_layerBlen'+'dType'](_0x15061d)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x175c60=Ue['q1']['set'](this['value'][-0x205+0x8c1+-0x6bc],this['value'][-0x1c8f*-0x1+0x35*-0x10+-0x193e],this['value'][-0x1*0x13f+-0xca9+-0x112*-0xd],this['value'][0x106f+-0x190c+0x8a0]),_0x50d52f=Ue['q2']['set'](this['baseValue'][-0x33d*0xb+0x1009+-0x2e*-0x6d],this['baseValue'][0xfb0*-0x2+0x11c*0x3+-0x2b*-0xa7],this['baseValue'][-0x1c*0x4a+-0x22d7+0x2af1],this['baseValue'][-0x2350+0x161a+0xd39]),_0x33f618=Ue['q3']['set'](_0x3d4db5[-0x6ed+-0x1*0x64e+0xd3b],_0x3d4db5[0x1d66+-0x23ff+0x34d*0x2],_0x3d4db5[0xb1e+-0x1b4b+-0x565*-0x3],_0x3d4db5[-0x1*-0x1b3c+0x10eb*0x1+-0x19*0x1c4]),_0xe0f15a=_0x50d52f['invert']()['mul'](_0x33f618);_0xe0f15a['slerp'](se['IDENTITY'],_0xe0f15a,this['getWeight'](_0x15061d)),_0x175c60['mul'](_0xe0f15a),Ue['quatArr'][0xa55+-0x205*-0xc+0x2291*-0x1]=_0x175c60['x'],Ue['quatArr'][-0x1bdb+-0x10*-0x18b+0x32c]=_0x175c60['y'],Ue['quatArr'][0x4*-0x971+-0x17*-0x7f+-0x1a5d*-0x1]=_0x175c60['z'],Ue['quatArr'][-0x1689+0x1*-0x2a5+-0x1*-0x1931]=_0x175c60['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][0x104d+0x14bc+-0x2509]=_0x3d4db5[0x11eb+-0x8+0x1*-0x11e3]-this['baseValue'][-0xbaf*0x1+0x1d4b+-0x119c],Ue['vecArr'][0x897+0x2c*0x5+-0x972]=_0x3d4db5[-0x1115+-0x1ecc*-0x1+-0xdb6]-this['baseValue'][0x850+-0x230+0x61f*-0x1],Ue['vecArr'][-0x14*0x1b3+-0xf46*-0x1+0x12b8]=_0x3d4db5[-0x1a5*0x7+0x173a+0x25*-0x51]-this['baseValue'][-0xc*0x22+-0x1846*-0x1+-0x16ac],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x15061d),this['valueType'],!(0x21c0+-0x12c1+0x15d*-0xb));}else Tt['blend'](this['value'],_0x3d4db5,this['getWeight'](_0x15061d),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0x765+-0x6dd+0xe42,0xa1c*0x1+0x13*-0x1f0+-0x1ab4*-0x1,-0x21bd+0x2*0x103c+0x41*0x5,-0x7*0x281+-0x5ee*0x1+0x1776]),c(Ue,'vecArr',[0x4*0x43a+-0x1fb4*0x1+-0x4*-0x3b3,0x17ac+0x19c*-0x3+-0x12d8,-0xc32+0x16e5+-0xab3]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[0x4*-0x48e+-0xfdb*-0x2+0x13a*-0xb,-0x23*-0x7a+-0x22e7+-0x5*-0x3a5,-0xe52+0x2e6+-0x4*-0x2db,0x183b+0x2581+-0x3dbb]);let bo=Ue;class j0{constructor(_0x2173a5){this['_binder']=_0x2173a5,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x240854){const _0x1d28d4=this['_targets'],_0x49bcd3=this['_binder'],_0x1adf65=_0x240854['track']['curves'],_0x34123f=_0x240854['snapshot'],_0x5a621b=[],_0x545379=[];for(let _0x412300=-0x1862+-0x984+0x21e6;_0x412300<_0x1adf65['length'];++_0x412300){const _0x4cf555=_0x1adf65[_0x412300]['paths'];for(let _0x8f3661=0x5dd*-0x5+-0x2193+-0xa1*-0x64;_0x8f3661<_0x4cf555['length'];++_0x8f3661){const _0x231d62=_0x4cf555[_0x8f3661],_0x3df519=_0x49bcd3['resolve'](_0x231d62);let _0x530811=_0x1d28d4[_0x3df519&&_0x3df519['targetPath']||null];if(!_0x530811&&_0x3df519){_0x530811={'target':_0x3df519,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x3b0e00=0xbc3+-0x5*-0x35f+-0x1c9e;_0x3b0e00<_0x530811['target']['components'];++_0x3b0e00)_0x530811['value']['push'](-0x2b+-0x22a2+-0x97*-0x3b);if(_0x1d28d4[_0x3df519['targetPath']]=_0x530811,_0x49bcd3['animCompon'+'ent']){if(!_0x49bcd3['animCompon'+'ent']['targets'][_0x3df519['targetPath']]){let _0x32301d;_0x3df519['targetPath']['substring'](_0x3df519['targetPath']['length']-(0x1aed*-0x1+-0x1cd3+0x37cd))==='localRotat'+'ion'?_0x32301d=bo['TYPE_QUAT']:_0x32301d=bo['TYPE_VEC3'],_0x49bcd3['animCompon'+'ent']['targets'][_0x3df519['targetPath']]=new bo(_0x49bcd3['animCompon'+'ent'],_0x32301d);}_0x49bcd3['animCompon'+'ent']['targets'][_0x3df519['targetPath']]['layerCount'+'er']++,_0x49bcd3['animCompon'+'ent']['targets'][_0x3df519['targetPath']]['setMask'](_0x49bcd3['layerIndex'],-0x1*-0x88b+0x573+-0xdfd*0x1);}}_0x530811&&(_0x530811['curves']++,_0x5a621b['push'](_0x34123f['_results'][_0x412300]),_0x545379['push'](_0x530811));}}this['_clips']['push'](_0x240854),this['_inputs']['push'](_0x5a621b),this['_outputs']['push'](_0x545379);}['removeClip'](_0x5175bf){const _0x5e79ee=this['_targets'],_0x606a72=this['_binder'],_0x1e6643=this['_clips'],_0x145369=_0x1e6643[_0x5175bf]['track']['curves'];for(let _0x5b8b85=0x1824+0x1675*-0x1+-0x1af;_0x5b8b85<_0x145369['length'];++_0x5b8b85){const _0x4ad8fd=_0x145369[_0x5b8b85]['paths'];for(let _0x176b05=-0x1fc2+0x63d*-0x1+0x25ff;_0x176b05<_0x4ad8fd['length'];++_0x176b05){const _0x483aae=_0x4ad8fd[_0x176b05],_0x416d38=this['_binder']['resolve'](_0x483aae);_0x416d38&&(_0x416d38['curves']--,_0x416d38['curves']===-0x24f0+-0x13c2+0x38b2&&(_0x606a72['unresolve'](_0x483aae),delete _0x5e79ee[_0x416d38['targetPath']],_0x606a72['animCompon'+'ent']&&_0x606a72['animCompon'+'ent']['targets'][_0x416d38['targetPath']]['layerCount'+'er']--));}}_0x1e6643['splice'](_0x5175bf,-0x1*0x16e+0x12ec+0xb*-0x197),this['_inputs']['splice'](_0x5175bf,-0xd82+0x2*0x1328+-0x18cd),this['_outputs']['splice'](_0x5175bf,-0x165*-0x11+0x4e*0xf+-0x1c46);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x18c+-0x261e+0x27aa;)this['removeClip'](-0x11da+0x1794+-0x5ba);}['updateClip'+'Track'](_0x55690f,_0x534038){this['_clips']['forEach'](_0x43b598=>{_0x43b598['name']['includes'](_0x55690f)&&(_0x43b598['track']=_0x534038);}),this['rebind']();}['findClip'](_0x48d9b8){const _0x1f12b9=this['_clips'];for(let _0x5c9e2a=-0x2627+-0x25*-0x41+-0x6*-0x4cb;_0x5c9e2a<_0x1f12b9['length'];++_0x5c9e2a){const _0x2b2962=_0x1f12b9[_0x5c9e2a];if(_0x2b2962['name']===_0x48d9b8)return _0x2b2962;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x511b5c=[...this['clips']];this['removeClip'+'s'](),_0x511b5c['forEach'](_0x2e2a3f=>{this['addClip'](_0x2e2a3f);});}['assignMask'](_0x1b96e5){return this['_binder']['assignMask'](_0x1b96e5);}['update'](_0xef9fdb,_0x17e16c=!(0x1e45+-0x4*-0xed+-0x21f9)){const _0x3ab80d=this['_clips'],_0x5272f7=_0x3ab80d['map']((_0xd4e68c,_0x2aae96)=>_0x2aae96);Tt['stableSort'](_0x5272f7,(_0x5aa8a2,_0x1f81e2)=>_0x3ab80d[_0x5aa8a2]['blendOrder']<_0x3ab80d[_0x1f81e2]['blendOrder']);for(let _0x1758ac=0xc83*-0x2+-0x1*-0x2+0x641*0x4;_0x1758ac<_0x5272f7['length'];++_0x1758ac){const _0x224f2b=_0x5272f7[_0x1758ac],_0x105af7=_0x3ab80d[_0x224f2b],_0x10987d=this['_inputs'][_0x224f2b],_0x4829bf=this['_outputs'][_0x224f2b],_0x481411=_0x105af7['blendWeigh'+'t'];if(_0x481411>0x2298+0x102b*-0x1+0x59*-0x35&&_0x105af7['_update'](_0xef9fdb),!_0x17e16c)break;let _0x5ea075,_0x35d2db,_0x5db9f7;if(_0x481411>=-0xbef+0x4*-0x87+0xe0c){for(let _0x1d4cca=0x1997+-0xd28+-0xc6f*0x1;_0x1d4cca<_0x10987d['length'];++_0x1d4cca)_0x5ea075=_0x10987d[_0x1d4cca],_0x35d2db=_0x4829bf[_0x1d4cca],_0x5db9f7=_0x35d2db['value'],Tt['set'](_0x5db9f7,_0x5ea075,_0x35d2db['target']['type']),_0x35d2db['blendCount'+'er']++;}else{if(_0x481411>0x623*-0x1+-0x186b+0x1e8e){for(let _0x139b29=-0xb*-0x9c+0x298+0x8c*-0x11;_0x139b29<_0x10987d['length'];++_0x139b29)_0x5ea075=_0x10987d[_0x139b29],_0x35d2db=_0x4829bf[_0x139b29],_0x5db9f7=_0x35d2db['value'],_0x35d2db['blendCount'+'er']===-0x3f3*-0x2+-0x26a9+0x1*0x1ec3?Tt['set'](_0x5db9f7,_0x5ea075,_0x35d2db['target']['type']):Tt['blend'](_0x5db9f7,_0x5ea075,_0x481411,_0x35d2db['target']['type']),_0x35d2db['blendCount'+'er']++;}}}const _0x24c7a9=this['_targets'],_0xe48a1c=this['_binder'];for(const _0x1f4e82 in _0x24c7a9)if(_0x24c7a9['hasOwnProp'+'erty'](_0x1f4e82)){const _0x5cf442=_0x24c7a9[_0x1f4e82];if(_0xe48a1c['animCompon'+'ent']&&_0x5cf442['target']['isTransfor'+'m']){const _0x1d61c5=_0xe48a1c['animCompon'+'ent']['targets'][_0x1f4e82];_0x1d61c5['counter']===_0x1d61c5['layerCount'+'er']&&(_0x1d61c5['counter']=-0x8d0+-0x5*0x506+0x65*0x56),_0x1d61c5['path']||(_0x1d61c5['path']=_0x1f4e82,_0x1d61c5['baseValue']=_0x5cf442['target']['get'](),_0x1d61c5['setter']=_0x5cf442['target']['set']),_0x1d61c5['updateValu'+'e'](_0xe48a1c['layerIndex'],_0x5cf442['value']),_0x1d61c5['counter']++;}else _0x5cf442['target']['set'](_0x5cf442['value']);_0x5cf442['blendCount'+'er']=-0x255d+0x66d*-0x5+0x172a*0x3;}this['_binder']['update'](_0xef9fdb);}}class Y0{constructor(_0x5c0d18){this['_events']=[..._0x5c0d18],this['_events']['sort']((_0x5433ce,_0x194b6d)=>_0x5433ce['time']-_0x194b6d['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x4fd255,_0x1da5f2,_0x52301a,_0x8becf5,_0x30d370,_0x322cd9=new Y0([])){this['_name']=_0x4fd255,this['_duration']=_0x1da5f2,this['_inputs']=_0x52301a,this['_outputs']=_0x8becf5,this['_curves']=_0x30d370,this['_animEvent'+'s']=_0x322cd9;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x5e29d1){this['_animEvent'+'s']=_0x5e29d1;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x1daf39,_0x5f2262){_0x5f2262['_time']=_0x1daf39;const _0x5b545a=this['_inputs'],_0x50dc26=this['_outputs'],_0x2669b4=this['_curves'],_0x43c5f0=_0x5f2262['_cache'],_0x1c7e5d=_0x5f2262['_results'];for(let _0xb8efc=-0x1f58+-0x1fd5*-0x1+-0x7d;_0xb8efc<_0x5b545a['length'];++_0xb8efc)_0x43c5f0[_0xb8efc]['update'](_0x1daf39,_0x5b545a[_0xb8efc]['_data']);for(let _0xc32365=-0x10c5+-0x1e+0xb*0x189;_0xc32365<_0x2669b4['length'];++_0xc32365){const _0x667cb1=_0x2669b4[_0xc32365],_0x1a965e=_0x50dc26[_0x667cb1['_output']],_0x1e52e6=_0x1c7e5d[_0xc32365];_0x43c5f0[_0x667cb1['_input']]['eval'](_0x1e52e6,_0x667cb1['_interpola'+'tion'],_0x1a965e);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x3d08ca,_0x181e8a){_0x181e8a=_0x181e8a||'.';const _0x111e02=function(_0x1c1490){return _0x1c1490['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x181e8a,'g'),'\x5c'+_0x181e8a);};return _0x3d08ca['map'](_0x111e02)['join'](_0x181e8a);}static['splitPath'](_0x5b4fca,_0xad9561){_0xad9561=_0xad9561||'.';const _0x5a9fc0=[];let _0x215867='',_0x550ce7=-0x19b9+0x1d*0x2f+0x2ea*0x7;for(;_0x550ce7<_0x5b4fca['length'];){let _0x4cf42b=_0x5b4fca[_0x550ce7++];_0x4cf42b==='\x5c'&&_0x550ce7<_0x5b4fca['length']?(_0x4cf42b=_0x5b4fca[_0x550ce7++],_0x4cf42b==='\x5c'||_0x4cf42b===_0xad9561?_0x215867+=_0x4cf42b:_0x215867+='\x5c'+_0x4cf42b):_0x4cf42b===_0xad9561?(_0x5a9fc0['push'](_0x215867),_0x215867=''):_0x215867+=_0x4cf42b;}return _0x215867['length']>-0xb*-0x1eb+0x95*-0x2+-0x15*0xf3&&_0x5a9fc0['push'](_0x215867),_0x5a9fc0;}static['encode'](_0xa5e1dc,_0x5dcdc4,_0x2307d0){return(Array['isArray'](_0xa5e1dc)?_0xa5e1dc['join']('/'):_0xa5e1dc)+'/'+_0x5dcdc4+'/'+(Array['isArray'](_0x2307d0)?_0x2307d0['join']('/'):_0x2307d0);}['resolve'](_0x3c03d9){return null;}['unresolve'](_0x3c6488){}['update'](_0x56db8f){}}class Zu{constructor(_0x367df1,_0x18c082,_0x899627,_0x292fcc){_0x367df1['set']?(this['_set']=_0x367df1['set'],this['_get']=_0x367df1['get']):this['_set']=_0x367df1,this['_type']=_0x18c082,this['_component'+'s']=_0x899627,this['_targetPat'+'h']=_0x292fcc,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x2a7+0xc77+-0x9c3))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0xccd+0x3*-0x727+0x224f*0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0xee6*0x1+-0xf8b+0x19*0x7))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x2f2c25){c(this,'_isPathInM'+'ask',(_0x1b26d2,_0x561e41)=>{const _0x58f3bc=this['_mask'][_0x1b26d2];if(_0x58f3bc){if(_0x58f3bc['children']||_0x561e41&&_0x58f3bc['value']!==!(0x1d6a+-0x41f*-0x5+0x1*-0x3204))return!(0x26dc+0x1*-0x256d+-0x1*0x16f);}else return!(0x2674+0x21e6+0x1*-0x4859);return!(-0x17*-0x134+-0x1*0x1711+0x49a*-0x1);});if(this['graph']=_0x2f2c25,!_0x2f2c25)return;this['_mask']=null;const _0x5686bb={},_0x15448a=function(_0x1e9edb){_0x5686bb[_0x1e9edb['name']]=_0x1e9edb;for(let _0x5a2809=0x1*0xa26+-0x3*0x48f+0x7*0x81;_0x5a2809<_0x1e9edb['children']['length'];++_0x5a2809)_0x15448a(_0x1e9edb['children'][_0x5a2809]);};_0x15448a(_0x2f2c25),this['nodes']=_0x5686bb,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x1e14bc=function(_0x203895){let _0x5090a0=_0x203895;for(;_0x5090a0&&!(_0x5090a0 instanceof We);)_0x5090a0=_0x5090a0['parent'];let _0x12b301;return _0x5090a0&&(_0x5090a0['render']?_0x12b301=_0x5090a0['render']['meshInstan'+'ces']:_0x5090a0['model']&&(_0x12b301=_0x5090a0['model']['meshInstan'+'ces'])),_0x12b301;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x101b96){const _0x45fef9=_0x101b96['localPosit'+'ion'],_0x5be47d=function(_0x17f75f){_0x45fef9['set'](..._0x17f75f);};return Ji['createAnim'+'Target'](_0x5be47d,'vector',0x13c3*0x1+-0x1855+0x495,_0x101b96,'localPosit'+'ion');},'localRotation':function(_0x325e0d){const _0x30e95d=_0x325e0d['localRotat'+'ion'],_0x200fa3=function(_0x13a0de){_0x30e95d['set'](..._0x13a0de);};return Ji['createAnim'+'Target'](_0x200fa3,'quaternion',-0xb97+-0x1c41+0x27dc,_0x325e0d,'localRotat'+'ion');},'localScale':function(_0x2dbb2c){const _0x32d612=_0x2dbb2c['localScale'],_0x3a5a45=function(_0x1f48e8){_0x32d612['set'](..._0x1f48e8);};return Ji['createAnim'+'Target'](_0x3a5a45,'vector',-0x237b+0x3c2+0x1fbc,_0x2dbb2c,'localScale');},'weight':function(_0x440bf6,_0x77f61){_0x77f61['indexOf']('name.')===-0xe4b*-0x2+-0x4a*0x13+-0x1718?_0x77f61=_0x77f61['replace']('name.',''):_0x77f61=Number(_0x77f61);const _0x35a4a2=_0x1e14bc(_0x440bf6);let _0x19ad62;if(_0x35a4a2){for(let _0x50dfc9=0x15*0xad+0x145d+-0x1*0x228e;_0x50dfc9<_0x35a4a2['length'];++_0x50dfc9)if(_0x35a4a2[_0x50dfc9]['node']['name']===_0x440bf6['name']&&_0x35a4a2[_0x50dfc9]['morphInsta'+'nce']){const _0x3e5fc8=_0x35a4a2[_0x50dfc9]['morphInsta'+'nce'],_0x9ad1aa=_0xd9c5c7=>{_0x3e5fc8['setWeight'](_0x77f61,_0xd9c5c7[0x7*0x496+-0x188a+0x2*-0x3c8]);};_0x19ad62||(_0x19ad62=[]),_0x19ad62['push'](_0x9ad1aa);}}if(_0x19ad62){const _0x2174ea=_0x5d60a1=>{for(let _0x4460f7=-0x9f9+0x1*-0x165d+-0x102b*-0x2;_0x4460f7<_0x19ad62['length'];++_0x4460f7)_0x19ad62[_0x4460f7](_0x5d60a1);};return Ji['createAnim'+'Target'](_0x2174ea,'number',-0x1514+-0x811*0x2+-0x2537*-0x1,_0x440bf6,'weight.'+_0x77f61);}return null;},'materialTexture':(_0x1bd6e3,_0x3d42a5)=>{const _0x187498=_0x1e14bc(_0x1bd6e3);if(_0x187498){let _0x56b231;for(let _0x251e38=-0x3*0x8c5+0xf24+-0x3b9*-0x3;_0x251e38<_0x187498['length'];++_0x251e38)if(_0x187498[_0x251e38]['node']['name']===_0x1bd6e3['name']){_0x56b231=_0x187498[_0x251e38];break;}if(_0x56b231){const _0x5be5c0=_0x3740d3=>{const _0x308983=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x3740d3[-0x1*0x13ee+-0x1524+-0x1489*-0x2]);_0x308983&&_0x308983['resource']&&_0x308983['type']==='texture'&&(_0x56b231['material'][_0x3d42a5]=_0x308983['resource'],_0x56b231['material']['update']());};return Ji['createAnim'+'Target'](_0x5be5c0,'vector',0x1438+-0x2406*0x1+0xfcf,_0x1bd6e3,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x453445){if(!this['_mask'])return!(-0x93f+-0xd*0xe5+0x14e0);const _0x4f6615=[_0x453445['entityPath'][-0x16c0+0x106b+-0x655*-0x1],this['graph']['name']];for(let _0x19ac54=0x6e8+-0x494+-0x254;_0x19ac54<_0x4f6615['length'];++_0x19ac54){let _0x12560f=_0x4f6615[_0x19ac54];if(this['_isPathInM'+'ask'](_0x12560f,_0x453445['entityPath']['length']===-0x1a6b+-0x1791+0x31fd))return!(0xb*0x2c9+-0x228e+0x3eb);for(let _0x3e10ac=0x1f*0x6+0x3*0xe5+-0xda*0x4;_0x3e10ac<_0x453445['entityPath']['length'];_0x3e10ac++)if(_0x12560f+='/'+_0x453445['entityPath'][_0x3e10ac],this['_isPathInM'+'ask'](_0x12560f,_0x3e10ac===_0x453445['entityPath']['length']-(-0x1bd3+-0x5*-0x3b0+0x964)))return!(0xb2d*-0x2+0x847*0x1+-0x1*-0xe13);}return!(0x861+0x1*-0x1ac3+-0x621*-0x3);}['findNode'](_0x4d446a){if(!this['_isPathAct'+'ive'](_0x4d446a))return null;let _0x429954;if(this['graph']&&(_0x429954=this['graph']['findByPath'](_0x4d446a['entityPath']),_0x429954||(_0x429954=this['graph']['findByPath'](_0x4d446a['entityPath']['slice'](-0x266f+-0x1a9+0x805*0x5)))),!_0x429954){_0x429954=this['nodes'][_0x4d446a['entityPath'][_0x4d446a['entityPath']['length']-(0x6df+0x128f+-0x17*0x11b)]||''];const _0x3c87a0=qr['encode'](_0x4d446a['entityPath'][_0x4d446a['entityPath']['length']-(0x125f+0x1a45+-0xd*0x36f)]||'','graph',_0x4d446a['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x3c87a0]===-0x109f*0x1+-0x118b+0x222b&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x3c87a0+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x3c87a0])?this['visitedFal'+'lbackGraph'+'Paths'][_0x3c87a0]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x3c87a0]=-0x5*-0x2+-0x3c2+0x3b8;}return _0x429954;}static['createAnim'+'Target'](_0x207a92,_0x2e2ca0,_0x268aa6,_0x319fa5,_0x281cd8,_0x252674){const _0x2b7c4d=qr['encode'](_0x319fa5['path'],_0x252674||'entity',_0x281cd8);return new Zu(_0x207a92,_0x2e2ca0,_0x268aa6,_0x2b7c4d);}['resolve'](_0x3959be){const _0x36a30a=qr['encode'](_0x3959be['entityPath'],_0x3959be['component'],_0x3959be['propertyPa'+'th']);let _0xbf15c9=this['targetCach'+'e'][_0x36a30a];if(_0xbf15c9)return _0xbf15c9;const _0x12b644=this['findNode'](_0x3959be);if(!_0x12b644)return null;const _0x4be867=this['handlers'][_0x3959be['propertyPa'+'th']];return!_0x4be867||(_0xbf15c9=_0x4be867(_0x12b644),!_0xbf15c9)?null:(this['targetCach'+'e'][_0x36a30a]=_0xbf15c9,this['nodeCounts'][_0x12b644['path']]?this['nodeCounts'][_0x12b644['path']]++:(this['activeNode'+'s']['push'](_0x12b644),this['nodeCounts'][_0x12b644['path']]=-0xe*0x12a+-0x1*-0x1472+-0x425),_0xbf15c9);}['unresolve'](_0x48f9de){if(_0x48f9de['component']!=='graph')return;const _0x507459=this['nodes'][_0x48f9de['entityPath'][_0x48f9de['entityPath']['length']-(-0xb*-0x51+-0x18ac+0x1532*0x1)]||''];if(this['nodeCounts'][_0x507459['path']]--,this['nodeCounts'][_0x507459['path']]===0x1*-0x55d+0x1ada+-0x157d){const _0x4823cb=this['activeNode'+'s'],_0x3e2e33=_0x4823cb['indexOf'](_0x507459['node']),_0x4bc0d2=_0x4823cb['length'];_0x3e2e33<_0x4bc0d2-(0x197*-0x11+-0x79*0xd+0x212d)&&(_0x4823cb[_0x3e2e33]=_0x4823cb[_0x4bc0d2-(0x2c*-0x3a+0x23ba+-0x15b*0x13)]),_0x4823cb['pop']();}}['update'](_0x2306b0){const _0x221698=this['activeNode'+'s'];for(let _0x56317e=0x775+0x23*0x76+-0x1797;_0x56317e<_0x221698['length'];++_0x56317e)_0x221698[_0x56317e]['_dirtifyLo'+'cal']();}['assignMask'](_0x1f3a5c){return _0x1f3a5c!==this['_mask']?(this['_mask']=_0x1f3a5c,!(0x255e*-0x1+-0xe3*-0x18+0x1016)):!(0x22ac*0x1+0xd5+0x11c*-0x20);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x13a*0x8+-0x18e5+-0x22b5*-0x1)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x2525+0x71*0x32+-0x5d*0xa3),c(this,'blending',!(-0x3c3*-0x2+0x15f6+-0x1*0x1d7b)),c(this,'blendSpeed',-0x17*0xd5+-0x1*-0x1b4b+-0x828),c(this,'activate',!(0x3b*-0x2+-0x2*0x1eb+0x44c)),c(this,'speed',-0x6ce+0x24f+-0x120*-0x4);}set['animations'](_0x19d681){this['_animation'+'s']=_0x19d681,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x2f1b04){const _0xa70af8=this['_assets'];if(_0xa70af8&&_0xa70af8['length']){for(let _0x56d6a7=0x1*-0x1267+0x1d6a+-0xb03;_0x56d6a7<_0xa70af8['length'];_0x56d6a7++)if(_0xa70af8[_0x56d6a7]){const _0x2de1da=this['system']['app']['assets']['get'](_0xa70af8[_0x56d6a7]);if(_0x2de1da){_0x2de1da['off']('change',this['onAssetCha'+'nged'],this),_0x2de1da['off']('remove',this['onAssetRem'+'oved'],this);const _0x35796f=this['animations'+'Index'][_0x2de1da['id']];this['currAnim']===_0x35796f&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x35796f],delete this['animations'+'Index'][_0x2de1da['id']];}}}this['_assets']=_0x2f1b04;const _0x4dcad2=_0x2f1b04['map'](_0x4e90fb=>_0x4e90fb instanceof le?_0x4e90fb['id']:_0x4e90fb);this['loadAnimat'+'ionAssets'](_0x4dcad2);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0xe00f48){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0xe00f48,this['skeleton']['addTime'](0x1*0x187d+-0x13b6+-0x4c7),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x76bbbc=this['animEvalua'+'tor']['clips'];for(let _0x5accf5=0x1ff0+-0x24ff+0x7*0xb9;_0x5accf5<_0x76bbbc['length'];++_0x5accf5)_0x76bbbc[_0x5accf5]['time']=_0xe00f48;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x4f340f=this['animEvalua'+'tor']['clips'];if(_0x4f340f['length']>-0x1*0x22db+0x783+0x6d6*0x4)return _0x4f340f[_0x4f340f['length']-(-0x1ded+-0x9cf*-0x1+0x141f)]['time'];}return-0x1259+0x2*-0xafb+0x284f;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0x1272+-0x1*-0xdd5+0x2047*-0x1);}set['loop'](_0xca1c68){if(this['_loop']=_0xca1c68,this['skeleton']&&(this['skeleton']['looping']=_0xca1c68),this['animEvalua'+'tor']){for(let _0x2308ac=0x1e5b+-0x650*-0x3+-0x1*0x314b;_0x2308ac<this['animEvalua'+'tor']['clips']['length'];++_0x2308ac)this['animEvalua'+'tor']['clips'][_0x2308ac]['loop']=_0xca1c68;}}get['loop'](){return this['_loop'];}['play'](_0x3ab62e,_0x3e848e=0x410+0x4*0x102+-0x818){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x3ab62e]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x3ab62e+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x3ab62e,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0xd81f02=this['animations'][this['prevAnim']],_0x37660d=this['animations'][this['currAnim']];if(this['blending']=_0x3e848e>-0x88*0x1+0x3*-0x64d+-0x136f*-0x1&&!!this['prevAnim'],this['blending']&&(this['blend']=0x4*0x515+0x582+-0x19d6,this['blendSpeed']=(-0x645+-0xe60*-0x2+-0x167a)/_0x3e848e),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0xd81f02,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x37660d):this['skeleton']['animation']=_0x37660d),this['animEvalua'+'tor']){const _0x200ba6=this['animEvalua'+'tor'];if(this['blending']){for(;_0x200ba6['clips']['length']>-0x2*0xdfa+0x37*0x5b+-0x4*-0x21a;)_0x200ba6['removeClip'](-0x4ec+0x2*0x1163+0x1dda*-0x1);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x229934=new Xh(this['animations'][this['currAnim']],-0x886*0x1+0x2*-0x36d+0xf60,0x94f+-0x22bb+0x196d,!(-0x12e5+0x1e5f+0x5bd*-0x2),this['loop']);_0x229934['name']=this['currAnim'],_0x229934['blendWeigh'+'t']=this['blending']?-0x1278+0x175e+-0x4e6:-0xdb1+0x39*-0x36+0x19b8,_0x229934['reset'](),this['animEvalua'+'tor']['addClip'](_0x229934);}}this['playing']=!(-0x15e4+-0x5*-0xc+0xe7*0x18);}}['getAnimati'+'on'](_0x19d2ee){return this['animations'][_0x19d2ee];}['setModel'](_0x1588b6){_0x1588b6!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x1588b6,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x5346b4=this['entity']['model'];if(_0x5346b4){const _0x2ad7bc=_0x5346b4['model'];_0x2ad7bc&&_0x2ad7bc!==this['model']&&this['setModel'](_0x2ad7bc);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0xf199c9=Object['keys'](this['_animation'+'s']);_0xf199c9['length']>-0x1a63+-0xffe+0x2a61&&this['play'](_0xf199c9[-0x49*0x69+0x42a+0x19c7]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x7dc683=this['model'],_0x18ea58=this['animations'];let _0x266559=!(0x5f*-0x19+-0x22c3+0x2c0b),_0x5c5962=!(-0x1*0x70e+0x2*0xe0+0x54f);for(const _0x525e62 in _0x18ea58)_0x18ea58['hasOwnProp'+'erty'](_0x525e62)&&(_0x18ea58[_0x525e62]['constructo'+'r']===Ri?_0x5c5962=!(0xc59*0x1+0x1*-0x266b+0x2f*0x8e):_0x266559=!(0x2cd*0xd+0xa63+-0x2ecc*0x1));const _0x774c1c=_0x7dc683['getGraph']();_0x266559?(this['fromSkel']=new Wd(_0x774c1c),this['toSkel']=new Wd(_0x774c1c),this['skeleton']=new Wd(_0x774c1c),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x774c1c)):_0x5c5962&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x2f33ff){if(!_0x2f33ff||!_0x2f33ff['length'])return;const _0x3600d2=this['system']['app']['assets'],_0xae4db=_0xbb3503=>{if(_0xbb3503['resources']['length']>-0x11ad+0xb4e+0x660){for(let _0xf8d32b=0x1d7*0xd+-0x16a4+-0x147;_0xf8d32b<_0xbb3503['resources']['length'];_0xf8d32b++)this['animations'][_0xbb3503['resources'][_0xf8d32b]['name']]=_0xbb3503['resources'][_0xf8d32b],this['animations'+'Index'][_0xbb3503['id']]=_0xbb3503['resources'][_0xf8d32b]['name'];}else this['animations'][_0xbb3503['name']]=_0xbb3503['resource'],this['animations'+'Index'][_0xbb3503['id']]=_0xbb3503['name'];this['animations']=this['animations'];},_0x889689=_0x14d408=>{_0x14d408['off']('change',this['onAssetCha'+'nged'],this),_0x14d408['on']('change',this['onAssetCha'+'nged'],this),_0x14d408['off']('remove',this['onAssetRem'+'oved'],this),_0x14d408['on']('remove',this['onAssetRem'+'oved'],this),_0x14d408['resource']?_0xae4db(_0x14d408):(_0x14d408['once']('load',_0xae4db,this),this['enabled']&&this['entity']['enabled']&&_0x3600d2['load'](_0x14d408));};for(let _0x1ffe2a=0x1a86+0x26f0+-0x4176,_0x4b6749=_0x2f33ff['length'];_0x1ffe2a<_0x4b6749;_0x1ffe2a++){const _0x42847e=_0x3600d2['get'](_0x2f33ff[_0x1ffe2a]);_0x42847e?_0x889689(_0x42847e):_0x3600d2['on']('add:'+_0x2f33ff[_0x1ffe2a],_0x889689);}}['onAssetCha'+'nged'](_0x32cc4e,_0x3abe6d,_0x450946,_0x1e83a0){if(_0x3abe6d==='resource'||_0x3abe6d==='resources'){if(_0x3abe6d==='resources'&&_0x450946&&_0x450946['length']===-0x20f3*-0x1+-0x4d4+-0x1c1f&&(_0x450946=null),_0x450946){let _0x9ae879=!(0x2*0xdb+-0x1*-0xd21+-0x4f2*0x3);if(_0x450946['length']>0xe1*0x3+-0x4db*0x1+0x239){if(_0x1e83a0&&_0x1e83a0['length']>-0xbfb+-0xece+0x1aca){for(let _0x597aa7=-0x2491+0x89*-0x17+-0x44*-0xb8;_0x597aa7<_0x1e83a0['length'];_0x597aa7++)delete this['animations'][_0x1e83a0[_0x597aa7]['name']];}else delete this['animations'][_0x32cc4e['name']];_0x9ae879=!(-0x22d*0xd+-0x1*0x71f+0x2369);for(let _0xa4acad=0x1*-0x2185+0xa58+0x1*0x172d;_0xa4acad<_0x450946['length'];_0xa4acad++)this['animations'][_0x450946[_0xa4acad]['name']]=_0x450946[_0xa4acad],!_0x9ae879&&this['currAnim']===_0x450946[_0xa4acad]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x9ae879=!(0x12*0xcc+0xf*0x146+-0x2*0x10b9),this['play'](_0x450946[_0xa4acad]['name']));_0x9ae879||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x1e83a0&&_0x1e83a0['length']>0x49b*0x5+-0x29*0xc+-0x151a*0x1){for(let _0x318778=-0xca*-0xc+0x1*-0x24cd+0x1b55;_0x318778<_0x1e83a0['length'];_0x318778++)delete this['animations'][_0x1e83a0[_0x318778]['name']];}this['animations'][_0x32cc4e['name']]=_0x450946[-0x1e07+0x6*-0x2ef+0x2fa1]||_0x450946,_0x9ae879=!(0x1*0x1a14+0xe90*0x1+-0x1*0x28a3),this['currAnim']===_0x32cc4e['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x9ae879=!(-0xa0f+-0x10f4*0x2+0x2bf7),this['play'](_0x32cc4e['name'])),_0x9ae879||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x32cc4e['id']]=_0x32cc4e['name'];}else{if(_0x1e83a0['length']>0x1f85+-0x1d*-0x65+-0x2af5){for(let _0x3a5d5e=-0x8f5+0x2700+-0x1e0b;_0x3a5d5e<_0x1e83a0['length'];_0x3a5d5e++)delete this['animations'][_0x1e83a0[_0x3a5d5e]['name']],this['currAnim']===_0x1e83a0[_0x3a5d5e]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x32cc4e['name']],this['currAnim']===_0x32cc4e['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x32cc4e['id']];}}}['onAssetRem'+'oved'](_0x42d8af){if(_0x42d8af['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x42d8af['resources']['length']>-0x4*0x1e2+-0x15*-0x132+0x1191*-0x1){for(let _0x4ed346=-0xd1c+0x1bf*-0xe+0x258e;_0x4ed346<_0x42d8af['resources']['length'];_0x4ed346++)delete this['animations'][_0x42d8af['resources'][_0x4ed346]['name']],this['currAnim']===_0x42d8af['resources'][_0x4ed346]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x42d8af['name']],this['currAnim']===_0x42d8af['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x42d8af['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x12d6+0x4*-0xb5+0x739*0x3),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x1*-0x20ef+-0x161d+0x5*-0x22a,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x37839d=0x22d4+-0x923+-0x19b1;_0x37839d<this['animEvalua'+'tor']['clips']['length'];++_0x37839d)this['animEvalua'+'tor']['clips'][_0x37839d]['stop']();this['animEvalua'+'tor']['update'](0x1ecc+-0x2412+0x546),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x49bc71=this['assets'],_0xd9b757=this['system']['app']['assets'];if(_0x49bc71)for(let _0x5a7a7b=-0x1ca0+-0x6fd*-0x4+0x56*0x2,_0x2eb534=_0x49bc71['length'];_0x5a7a7b<_0x2eb534;_0x5a7a7b++){let _0x1b5c95=_0x49bc71[_0x5a7a7b];_0x1b5c95 instanceof le||(_0x1b5c95=_0xd9b757['get'](_0x1b5c95)),_0x1b5c95&&!_0x1b5c95['resource']&&_0xd9b757['load'](_0x1b5c95);}if(this['activate']&&!this['currAnim']){const _0x59024d=Object['keys'](this['animations']);_0x59024d['length']>-0xb*-0xac+-0x1884+0x1120&&this['play'](_0x59024d[0x7f*-0x4b+0x1ca0+-0xa9*-0xd]);}}['onBeforeRe'+'move'](){for(let _0x3d09ea=-0x151e+-0xce3+0x2201;_0x3d09ea<this['assets']['length'];_0x3d09ea++){let _0x37c000=this['assets'][_0x3d09ea];typeof _0x37c000=='number'&&(_0x37c000=this['system']['app']['assets']['get'](_0x37c000)),_0x37c000&&(_0x37c000['off']('change',this['onAssetCha'+'nged'],this),_0x37c000['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x1f2991){if(this['blending']&&(this['blend']+=_0x1f2991*this['blendSpeed'],this['blend']>=0x729+-0x133f+0xc17&&(this['blend']=-0x2699+0x1*-0x1edd+-0x4577*-0x1)),this['playing']){const _0x124933=this['skeleton'];if(_0x124933!==null&&this['model']!==null){if(this['blending'])_0x124933['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x25a225=_0x1f2991*this['speed'];_0x124933['addTime'](_0x25a225),this['speed']>0x81d+-0x11af*-0x1+-0x19cc&&_0x124933['_time']===_0x124933['animation']['duration']&&!this['loop']?this['playing']=!(-0x790+0x6aa+0x4d*0x3):this['speed']<-0x22b0+0x481*0x7+0x329*0x1&&_0x124933['_time']===0x1983*0x1+-0x39b*-0x4+-0x27ef&&!this['loop']&&(this['playing']=!(-0x78f+-0x33*-0xb8+-0x4c*0x62));}this['blending']&&this['blend']===0x126e+-0x845+-0x32*0x34&&(_0x124933['animation']=this['toSkel']['animation']),_0x124933['updateGrap'+'h']();}}const _0x353eb=this['animEvalua'+'tor'];if(_0x353eb){for(let _0xf92471=0x10*-0x1c4+-0x3*-0xb32+-0x556;_0xf92471<_0x353eb['clips']['length'];++_0xf92471){const _0x3ae207=_0x353eb['clips'][_0xf92471];_0x3ae207['speed']=this['speed'],this['playing']?_0x3ae207['resume']():_0x3ae207['pause']();}this['blending']&&_0x353eb['clips']['length']>0xa47+-0x243f*0x1+-0x19f9*-0x1&&(_0x353eb['clips'][-0x18d3+0x1582+0x352]['blendWeigh'+'t']=this['blend']),_0x353eb['update'](_0x1f2991);}this['blending']&&this['blend']===0x791+-0x796+0x6&&(this['blending']=!(0x5*-0x445+0x5*0x748+-0xf0e));}}class zP{constructor(){this['enabled']=!(-0x182*-0xb+0x1*0x203f+-0x1cf*0x1b);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x29c3e4){super(_0x29c3e4),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x48e8ad,_0x55f27b,_0x4a4f54){_0x4a4f54=['activate','enabled','loop','speed','assets'];for(const _0x33d8e8 of _0x4a4f54)_0x55f27b['hasOwnProp'+'erty'](_0x33d8e8)&&(_0x48e8ad[_0x33d8e8]=_0x55f27b[_0x33d8e8]);super['initialize'+'ComponentD'+'ata'](_0x48e8ad,_0x55f27b,Qu);}['cloneCompo'+'nent'](_0x3b3070,_0x2ac9f2){this['addCompone'+'nt'](_0x2ac9f2,{}),_0x2ac9f2['animation']['assets']=_0x3b3070['animation']['assets']['slice'](),_0x2ac9f2['animation']['speed']=_0x3b3070['animation']['speed'],_0x2ac9f2['animation']['loop']=_0x3b3070['animation']['loop'],_0x2ac9f2['animation']['activate']=_0x3b3070['animation']['activate'],_0x2ac9f2['animation']['enabled']=_0x3b3070['animation']['enabled'];const _0x2dc191={},_0x2e751e=_0x3b3070['animation']['animations'];for(const _0x3e8179 in _0x2e751e)_0x2e751e['hasOwnProp'+'erty'](_0x3e8179)&&(_0x2dc191[_0x3e8179]=_0x2e751e[_0x3e8179]);_0x2ac9f2['animation']['animations']=_0x2dc191;const _0x4384e0={},_0x337865=_0x3b3070['animation']['animations'+'Index'];for(const _0x14138d in _0x337865)_0x337865['hasOwnProp'+'erty'](_0x14138d)&&(_0x4384e0[_0x14138d]=_0x337865[_0x14138d]);return _0x2ac9f2['animation']['animations'+'Index']=_0x4384e0,_0x2ac9f2['animation'];}['onBeforeRe'+'move'](_0x37a12f,_0x40a8a7){_0x40a8a7['onBeforeRe'+'move']();}['onUpdate'](_0x240769){const _0x43cbc7=this['store'];for(const _0x2c2623 in _0x43cbc7)if(_0x43cbc7['hasOwnProp'+'erty'](_0x2c2623)){const _0x282795=_0x43cbc7[_0x2c2623];_0x282795['data']['enabled']&&_0x282795['entity']['enabled']&&_0x282795['entity']['animation']['update'](_0x240769);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x49b8f8,_0x329915,_0x352427,_0x8451a2,_0x377c98=0x1*-0x214a+-0x1dba+0x3f05){this['_state']=_0x49b8f8,this['_parent']=_0x329915,this['_name']=_0x352427,Array['isArray'](_0x8451a2)?(this['_point']=new W(_0x8451a2[0x1*0x1165+0x156c+-0x26d1],_0x8451a2[-0x1*0x218d+-0x89b+-0xfb*-0x2b]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x8451a2,this['_pointLeng'+'th']=_0x8451a2),this['_speed']=_0x377c98,this['_weightedS'+'peed']=-0x73f+0x3*-0x6fb+0x1c31,this['_weight']=0x3*0x3b6+0x556*0x1+-0x3*0x57d,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x956860){this['_weight']=_0x956860;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x223bfd=this['_state']['totalWeigh'+'t'];return _0x223bfd===0x1857+-0x747+-0x1110?0x13ee+-0x21c+-0x11d2:this['weight']/_0x223bfd;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x5d5ec3){this['_weightedS'+'peed']=_0x5d5ec3;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x5b8409){this['_animTrack']=_0x5b8409;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x4c0b54,_0x2e24ef,_0x437545,_0xecfcfd,_0x47dfd5,_0x2e69ac,_0x55f87d,_0x533c66,_0x4c68b8){super(_0x4c0b54,_0x2e24ef,_0x437545,_0xecfcfd),this['_parameter'+'s']=_0x47dfd5,this['_parameter'+'Values']=new Array(_0x47dfd5['length']),this['_children']=[],this['_findParam'+'eter']=_0x4c68b8,this['_syncAnima'+'tions']=_0x55f87d!==!(-0x2231*-0x1+-0xc7*0xb+-0x19a3),this['_pointCach'+'e']={};for(let _0x3581c1=-0xf97+0xeea+-0x1*-0xad;_0x3581c1<_0x2e69ac['length'];_0x3581c1++){const _0x59d0c3=_0x2e69ac[_0x3581c1];_0x59d0c3['children']?this['_children']['push'](_0x533c66(_0x59d0c3['type'],_0x4c0b54,this,_0x59d0c3['name'],-0x8ff+-0xd83+-0x11*-0x153,_0x59d0c3['parameter']?[_0x59d0c3['parameter']]:_0x59d0c3['parameters'],_0x59d0c3['children'],_0x59d0c3['syncAnimat'+'ions'],_0x533c66,_0x4c68b8)):this['_children']['push'](new Uo(_0x4c0b54,this,_0x59d0c3['name'],_0x59d0c3['point'],_0x59d0c3['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x2fb6fd){for(let _0x53fc82=0x1*-0xd45+0x1*0x1085+-0x340;_0x53fc82<this['_children']['length'];_0x53fc82++)if(this['_children'][_0x53fc82]['name']===_0x2fb6fd)return this['_children'][_0x53fc82];return null;}['updatePara'+'meterValue'+'s'](){let _0x58b269=!(-0xc00+-0x135a+0x1f5a);for(let _0x2853eb=0x103b+-0x393+-0x3c*0x36;_0x2853eb<this['_parameter'+'Values']['length'];_0x2853eb++){const _0x385ad1=this['_findParam'+'eter'](this['_parameter'+'s'][_0x2853eb])['value'];this['_parameter'+'Values'][_0x2853eb]!==_0x385ad1&&(this['_parameter'+'Values'][_0x2853eb]=_0x385ad1,_0x58b269=!(0x1331+-0x1c2b*0x1+0x8fb));}return _0x58b269;}['getNodeWei'+'ghtedDurat'+'ion'](_0x4e1dd9){return this['_children'][_0x4e1dd9]['animTrack']['duration']/this['_children'][_0x4e1dd9]['speedMulti'+'plier']*this['_children'][_0x4e1dd9]['weight'];}['getNodeCou'+'nt'](){let _0xdd3e06=-0x2178+0xdca+0x13ae;for(let _0x44fb9f=-0x344+0x188a+-0x1546;_0x44fb9f<this['_children']['length'];_0x44fb9f++)this['_children'][_0x44fb9f]['constructo'+'r']===Ba?_0xdd3e06+=this['_children'][_0x44fb9f]['getNodeCou'+'nt']():_0xdd3e06++;return _0xdd3e06;}}class VP extends Ba{constructor(_0x4e6198,_0x16adfe,_0xad1b49,_0x383a70,_0x5d1f17,_0x398f92,_0x875312,_0x365001,_0x11a604){_0x398f92['sort']((_0x1ce946,_0x37dd42)=>_0x1ce946['point']-_0x37dd42['point']),super(_0x4e6198,_0x16adfe,_0xad1b49,_0x383a70,_0x5d1f17,_0x398f92,_0x875312,_0x365001,_0x11a604);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2d8335=0x1*-0x1741+0x2536+-0xdf5;this['_children'][-0x1183+0x1*-0x20f6+0x3279]['weight']=-0x1577+-0x186f+0x2de6;for(let _0x6eb130=0x208*0xb+0x4a*-0x83+0xf86;_0x6eb130<this['_children']['length'];_0x6eb130++){const _0x826549=this['_children'][_0x6eb130];if(_0x6eb130!==this['_children']['length']-(-0x173e+-0x1*0x1ec1+0x3600)){const _0x2479b8=this['_children'][_0x6eb130+(0x147d+0x1dfe+-0x1a*0x1f1)];if(_0x826549['point']===_0x2479b8['point'])_0x826549['weight']=-0x1233+0x4e*-0x7f+0x12f7*0x3+0.5,_0x2479b8['weight']=-0x11*0x1b7+0x1c7*-0x5+0x260a+0.5;else{if(N['between'](this['_parameter'+'Values'][0x7*0x4f9+0x1796+0x54f*-0xb],_0x826549['point'],_0x2479b8['point'],!(-0x1091*-0x2+-0x916+-0x6*0x402))){const _0x117747=Math['abs'](_0x826549['point']-_0x2479b8['point']),_0x11e7e2=Math['abs'](_0x826549['point']-this['_parameter'+'Values'][-0xd2d+-0x764+0x1491]),_0x13caff=(_0x117747-_0x11e7e2)/_0x117747;_0x826549['weight']=_0x13caff,_0x2479b8['weight']=-0x1*0x1b05+0xfbc+0x55*0x22-_0x13caff;}else _0x2479b8['weight']=0x821*0x1+-0x67*0x1+0x2e*-0x2b;}}this['_syncAnima'+'tions']&&(_0x2d8335+=_0x826549['animTrack']['duration']/_0x826549['absoluteSp'+'eed']*_0x826549['weight']);}if(this['_syncAnima'+'tions'])for(let _0x485643=0xa*0x115+0x179e+-0x13*0x1d0;_0x485643<this['_children']['length'];_0x485643++){const _0x2a0efd=this['_children'][_0x485643];_0x2a0efd['weightedSp'+'eed']=_0x2a0efd['animTrack']['duration']/_0x2a0efd['absoluteSp'+'eed']/_0x2d8335;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x8ce487,_0x1483e7){const _0x48ef7a=''+_0x8ce487+_0x1483e7;return this['_pointCach'+'e'][_0x48ef7a]||(this['_pointCach'+'e'][_0x48ef7a]=this['_children'][_0x1483e7]['point']['clone']()['sub'](this['_children'][_0x8ce487]['point'])),this['_pointCach'+'e'][_0x48ef7a];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2a1354,_0x4cdc3f;gi['_p']['set'](...this['_parameter'+'Values']),_0x2a1354=0x46f+-0xa3c*0x3+0x1a45,_0x4cdc3f=-0xab9+-0x2b*0x2+0xb0f;for(let _0x6a3fbf=-0x16e2+-0x1*0x1d07+0x33e9*0x1;_0x6a3fbf<this['_children']['length'];_0x6a3fbf++){const _0x5756aa=this['_children'][_0x6a3fbf],_0x7d3d64=_0x5756aa['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x7d3d64);let _0x1c1fe0=Number['MAX_VALUE'];for(let _0x2cc6d7=-0x141*-0x17+0x2*0xb0c+-0x32ef;_0x2cc6d7<this['_children']['length'];_0x2cc6d7++){if(_0x6a3fbf===_0x2cc6d7)continue;const _0x43c06d=this['pointDista'+'nceCache'](_0x6a3fbf,_0x2cc6d7),_0x24c17d=N['clamp'](0x1bf1+-0x1885+0xaf*-0x5-gi['_pip']['dot'](_0x43c06d)/_0x43c06d['lengthSq'](),-0x793*-0x2+0x165d+-0x2583*0x1,-0x18c2+0x2cd+0x15f6);_0x24c17d<_0x1c1fe0&&(_0x1c1fe0=_0x24c17d);}_0x5756aa['weight']=_0x1c1fe0,_0x2a1354+=_0x1c1fe0,this['_syncAnima'+'tions']&&(_0x4cdc3f+=_0x5756aa['animTrack']['duration']/_0x5756aa['absoluteSp'+'eed']*_0x5756aa['weight']);}for(let _0x2e78f2=-0x553*0x6+-0x1c8+0x21ba;_0x2e78f2<this['_children']['length'];_0x2e78f2++){const _0x336d1a=this['_children'][_0x2e78f2];_0x336d1a['weight']=_0x336d1a['_weight']/_0x2a1354,this['_syncAnima'+'tions']&&(_0x336d1a['weightedSp'+'eed']=_0x336d1a['animTrack']['duration']/_0x336d1a['absoluteSp'+'eed']/_0x4cdc3f);}}};c(gi,'_p',new W()),c(gi,'_pip',new W());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x3353fa,_0x180b47){const _0x333585=''+_0x3353fa+_0x180b47;return this['_pointCach'+'e'][_0x333585]||(this['_pointCach'+'e'][_0x333585]=new W((this['_children'][_0x180b47]['pointLengt'+'h']-this['_children'][_0x3353fa]['pointLengt'+'h'])/((this['_children'][_0x180b47]['pointLengt'+'h']+this['_children'][_0x3353fa]['pointLengt'+'h'])/(-0x240a+-0x9*0x331+-0x40c5*-0x1)),W['angleRad'](this['_children'][_0x3353fa]['point'],this['_children'][_0x180b47]['point'])*(0x177e+0x19d6+-0x2*0x18a9))),this['_pointCach'+'e'][_0x333585];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x4dadde,_0x149db2;yi['_p']['set'](...this['_parameter'+'Values']);const _0x7acf9e=yi['_p']['length']();_0x4dadde=-0x241d+0x6e9+0x2*0xe9a,_0x149db2=-0x6*0x29d+-0x1*0x679+-0x1627*-0x1;for(let _0x4d67e3=-0x61f*0x5+0x1cfa+-0x1a1*-0x1;_0x4d67e3<this['_children']['length'];_0x4d67e3++){const _0x5e926f=this['_children'][_0x4d67e3],_0x408ae0=_0x5e926f['point'],_0x448c69=_0x5e926f['pointLengt'+'h'];let _0x3f0125=Number['MAX_VALUE'];for(let _0x1d4e15=-0x2368+0x5d*0x4b+0x829;_0x1d4e15<this['_children']['length'];_0x1d4e15++){if(_0x4d67e3===_0x1d4e15)continue;const _0xc2798f=this['pointCache'](_0x4d67e3,_0x1d4e15),_0x356e90=this['_children'][_0x1d4e15]['pointLengt'+'h'];yi['_pip']['set']((_0x7acf9e-_0x448c69)/((_0x356e90+_0x448c69)/(0x1883+-0xa3a+-0x2db*0x5)),W['angleRad'](_0x408ae0,yi['_p'])*(-0x27f+0x11*0x109+-0x508*0x3));const _0x5b0a96=N['clamp'](0x7*0x48b+0x1677+-0x3643-Math['abs'](yi['_pip']['dot'](_0xc2798f)/_0xc2798f['lengthSq']()),-0x80b+-0x4b+0x856,-0x215b*0x1+0x1*0xf0b+-0x61b*-0x3);_0x5b0a96<_0x3f0125&&(_0x3f0125=_0x5b0a96);}_0x5e926f['weight']=_0x3f0125,_0x4dadde+=_0x3f0125,this['_syncAnima'+'tions']&&(_0x149db2+=_0x5e926f['animTrack']['duration']/_0x5e926f['absoluteSp'+'eed']*_0x5e926f['weight']);}for(let _0x33462d=-0x2*-0xcf1+-0x75+-0x196d;_0x33462d<this['_children']['length'];_0x33462d++){const _0xd22ebd=this['_children'][_0x33462d];if(_0xd22ebd['weight']=_0xd22ebd['_weight']/_0x4dadde,this['_syncAnima'+'tions']){const _0x2ec803=_0xd22ebd['animTrack']['duration']/_0x149db2*_0x4dadde;_0xd22ebd['weightedSp'+'eed']=_0xd22ebd['absoluteSp'+'eed']*_0x2ec803;}}}};c(yi,'_p',new W()),c(yi,'_pip',new W());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x541bfd=-0x652*-0x5+-0x20eb+0x151,_0x484274=0x69*-0x2f+0x25d9+-0x1292;for(let _0x3a8bc7=-0x2000+0x1*0x13e2+0xc1e;_0x3a8bc7<this['_children']['length'];_0x3a8bc7++)if(_0x541bfd+=Math['max'](this['_parameter'+'Values'][_0x3a8bc7],-0x3*0x7cc+0xa6*0x29+0x199*-0x2),this['_syncAnima'+'tions']){const _0x37cfda=this['_children'][_0x3a8bc7];_0x484274+=_0x37cfda['animTrack']['duration']/_0x37cfda['absoluteSp'+'eed']*_0x37cfda['weight'];}for(let _0xea246=0xddc*0x2+0x2461+-0x1*0x4019;_0xea246<this['_children']['length'];_0xea246++){const _0x5c289a=this['_children'][_0xea246],_0x1d4574=Math['max'](this['_parameter'+'Values'][_0xea246],0x961*-0x1+0xb02+-0x1a1*0x1);_0x541bfd?(_0x5c289a['weight']=_0x1d4574/_0x541bfd,this['_syncAnima'+'tions']&&(_0x5c289a['weightedSp'+'eed']=_0x5c289a['animTrack']['duration']/_0x5c289a['absoluteSp'+'eed']/_0x484274)):(_0x5c289a['weight']=-0xce4+0x1*0x1a63+0xd7f*-0x1,this['_syncAnima'+'tions']&&(_0x5c289a['weightedSp'+'eed']=0xb32*0x2+-0x1cc1*-0x1+-0x3325));}}}class eg{constructor(_0x237d33,_0x137090,_0x317293=0x2a*0x19+-0x431*0x1+0x4*0x6,_0x5da39e=!(-0x76f+-0x1c8e+0x23fd),_0x17f913){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x237d33,this['_name']=_0x137090,this['_speed']=_0x317293,this['_loop']=_0x5da39e,this['_hasAnimat'+'ions']=!(0x34*-0x46+0xb77*0x1+-0x161*-0x2),_0x17f913?this['_blendTree']=this['_createTre'+'e'](_0x17f913['type'],this,null,_0x137090,0x1c0c+0x1*0x584+0x218f*-0x1,_0x17f913['parameter']?[_0x17f913['parameter']]:_0x17f913['parameters'],_0x17f913['children'],_0x17f913['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x137090,0x2*-0x761+0x1*0xda9+-0x2*-0x8d,_0x317293));}['_createTre'+'e'](_0x30b636,_0x1b890b,_0x28c49f,_0x393271,_0x54527b,_0x1078ef,_0x26ca44,_0x1443e8,_0x46834d,_0x21c229){switch(_0x30b636){case FP:return new VP(_0x1b890b,_0x28c49f,_0x393271,_0x54527b,_0x1078ef,_0x26ca44,_0x1443e8,_0x46834d,_0x21c229);case kP:return new Ju(_0x1b890b,_0x28c49f,_0x393271,_0x54527b,_0x1078ef,_0x26ca44,_0x1443e8,_0x46834d,_0x21c229);case OP:return new ef(_0x1b890b,_0x28c49f,_0x393271,_0x54527b,_0x1078ef,_0x26ca44,_0x1443e8,_0x46834d,_0x21c229);case BP:return new GP(_0x1b890b,_0x28c49f,_0x393271,_0x54527b,_0x1078ef,_0x26ca44,_0x1443e8,_0x46834d,_0x21c229);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x30b636);}['_getNodeFr'+'omPath'](_0x5288f7){let _0x2c2b79=this['_blendTree'];for(let _0x1492b9=0x2151+0x723+-0x2873;_0x1492b9<_0x5288f7['length'];_0x1492b9++)_0x2c2b79=_0x2c2b79['getChild'](_0x5288f7[_0x1492b9]);return _0x2c2b79;}['addAnimati'+'on'](_0x473545,_0x4e3a99){const _0x1114a3=_0x473545['join']('.'),_0x2a262e=this['_animation'+'List']['findIndex'](_0x3963e1=>_0x3963e1['path']===_0x1114a3);if(_0x2a262e>=0x326*0x8+0x13*0x1e7+0x7*-0x8c3)this['_animation'+'List'][_0x2a262e]['animTrack']=_0x4e3a99;else{const _0x56bcc3=this['_getNodeFr'+'omPath'](_0x473545);_0x56bcc3['animTrack']=_0x4e3a99,this['_animation'+'List']['push'](_0x56bcc3);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x1787+0x1186*0x1+-0x290d&&this['_animation'+'List']['every'](_0x39c4f2=>_0x39c4f2['animTrack']&&_0x39c4f2['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x361f3b){this['_animation'+'List']=_0x361f3b,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x4d20d1){this['_speed']=_0x4d20d1;}get['speed'](){return this['_speed'];}set['loop'](_0x50c892){this['_loop']=_0x50c892;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?0x6*0x3df+-0xd6a+-0x9cf:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(-0x1c7b+-0xd43+0x29bf*0x1)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x24fa+-0x9d4+0x2ece){const _0x2e8a75=this['name']+'.'+this['animations'][0x123c*-0x2+-0xa72+0x1775*0x2]['animTrack']['name'],_0x334bc2=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x2e8a75);if(_0x334bc2)return _0x334bc2['loop'];}return!(-0x359+0x1af*0x2+-0x4);}get['totalWeigh'+'t'](){let _0x627d3b=0x7*0xb3+0x2513+0x22*-0x13c;for(let _0x1f207d=-0x2*-0xd06+0x12eb+0x2cf7*-0x1;_0x1f207d<this['animations']['length'];_0x1f207d++)_0x627d3b+=this['animations'][_0x1f207d]['weight'];return _0x627d3b;}get['timelineDu'+'ration'](){let _0x4d8ea1=-0x1dcf*-0x1+0x3da+-0x21a9;for(let _0x2e73fa=-0xeb7+0x7*-0x167+0x9d*0x28;_0x2e73fa<this['animations']['length'];_0x2e73fa++){const _0x1061ae=this['animations'][_0x2e73fa];_0x1061ae['animTrack']['duration']>_0x4d8ea1&&(_0x4d8ea1=_0x1061ae['animTrack']['duration']);}return _0x4d8ea1;}}class Yh{constructor({from:_0x1b03c3,to:_0x597df9,time:_0x49d5cc=0x16e0+-0xd03+0x1*-0x9dd,priority:_0x1c491e=0x1f*0xa+0x525+-0x1*0x65b,conditions:_0x5579d9=[],exitTime:_0x2c2850=null,transitionOffset:_0x50aab6=null,interruptionSource:_0x5a3f2b=q0}){this['_from']=_0x1b03c3,this['_to']=_0x597df9,this['_time']=_0x49d5cc,this['_priority']=_0x1c491e,this['_condition'+'s']=_0x5579d9,this['_exitTime']=_0x2c2850,this['_transitio'+'nOffset']=_0x50aab6,this['_interrupt'+'ionSource']=_0x5a3f2b;}get['from'](){return this['_from'];}set['to'](_0x7fcc0b){this['_to']=_0x7fcc0b;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x51db1b,_0x700bb3,_0x5bd5f9,_0x46ba62,_0x3d8c56,_0x2bed3d,_0x51d947){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',0x122a+0x1849+-0x2a73),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x1da2+-0x8*-0x12f+0x2*0xa15)),c(this,'_playing',!(-0x79*0x2d+-0x1*0x55+0x159b)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x5*0x409+-0xe71*-0x2+-0x310e),c(this,'_totalTran'+'sitionTime',0x1011+0x1e22+-0x2e32),c(this,'_isTransit'+'ioning',!(0x2*0x6f7+0x1b0c+-0x28f9)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x1467+0x27*-0xc7+0x9ea),c(this,'_timeInSta'+'teBefore',-0x23*0x2a+-0x2c*-0xc5+-0x1c1e),c(this,'findParame'+'ter',_0x24bef8=>this['_findParam'+'eter'](_0x24bef8)),(this['_animEvalu'+'ator']=_0x51db1b,this['_eventHand'+'ler']=_0x3d8c56,this['_findParam'+'eter']=_0x2bed3d,this['_consumeTr'+'igger']=_0x51d947);for(let _0x1d1a78=0x1dc9+-0x16*-0x18d+0x29*-0x18f;_0x1d1a78<_0x700bb3['length'];_0x1d1a78++)this['_states'][_0x700bb3[_0x1d1a78]['name']]=new eg(this,_0x700bb3[_0x1d1a78]['name'],_0x700bb3[_0x1d1a78]['speed'],_0x700bb3[_0x1d1a78]['loop'],_0x700bb3[_0x1d1a78]['blendTree']),this['_stateName'+'s']['push'](_0x700bb3[_0x1d1a78]['name']);this['_transitio'+'ns']=_0x5bd5f9['map'](_0x92cb86=>new Yh({..._0x92cb86})),this['_activate']=_0x46ba62;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x17aa7c){this['_activeSta'+'teName']=_0x17aa7c;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x7b4959){this['_previousS'+'tateName']=_0x7b4959;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x5747f2=!(0x235b+-0x5c1+-0x1d9a);for(let _0x43eb0e=-0x1c89+0x1c72+0x17;_0x43eb0e<this['_stateName'+'s']['length'];_0x43eb0e++)this['_states'][this['_stateName'+'s'][_0x43eb0e]]['playable']||(_0x5747f2=!(-0x1157+0xab*-0x1f+0xcaf*0x3));return _0x5747f2;}set['playing'](_0x3fec9b){this['_playing']=_0x3fec9b;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x14b8fb=0x134d+-0x3da*0x7+0x7a9;for(let _0x3900fa=-0xf*0x1f0+0x17c9*0x1+-0x547*-0x1;_0x3900fa<this['activeStat'+'eAnimation'+'s']['length'];_0x3900fa++){const _0x2656fa=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x3900fa]['name']);_0x2656fa&&(_0x14b8fb=Math['max'](_0x14b8fb,_0x2656fa['track']['duration']));}this['_activeSta'+'teDuration']=_0x14b8fb,this['_activeSta'+'teDuration'+'Dirty']=!(-0xf19*-0x2+0x2100+-0x907*0x7);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x3f3795){this['_timeInSta'+'teBefore']=_0x3f3795,this['_timeInSta'+'te']=_0x3f3795;for(let _0x39e0b9=-0x6e+-0x457+0x4c5;_0x39e0b9<this['activeStat'+'eAnimation'+'s']['length'];_0x39e0b9++){const _0x179e31=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x39e0b9]['name']);_0x179e31&&(_0x179e31['time']=_0x3f3795);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x3283a7){return this['_animEvalu'+'ator']['assignMask'](_0x3283a7);}['_findState'](_0x173407){return this['_states'][_0x173407];}['_getActive'+'StateProgr'+'essForTime'](_0x15cf74){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return 0xa*-0x5f+0x1b4*-0x1+0x56b;const _0x3bbaa9=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0xb22+-0x18d*0xc+0x1dbe]['name']);return _0x3bbaa9?_0x3bbaa9['progressFo'+'rTime'](_0x15cf74):null;}['_findTrans'+'itionsFrom'+'State'](_0x4a397d){let _0x1b8480=this['_findTrans'+'itionsFrom'+'StateCache'][_0x4a397d];return _0x1b8480||(_0x1b8480=this['_transitio'+'ns']['filter'](_0x2c702e=>_0x2c702e['from']===_0x4a397d),No(_0x1b8480),this['_findTrans'+'itionsFrom'+'StateCache'][_0x4a397d]=_0x1b8480),_0x1b8480;}['_findTrans'+'itionsBetw'+'eenStates'](_0x3f71af,_0xa032a9){let _0x19d77f=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x3f71af+'->'+_0xa032a9];return _0x19d77f||(_0x19d77f=this['_transitio'+'ns']['filter'](_0x3df084=>_0x3df084['from']===_0x3f71af&&_0x3df084['to']===_0xa032a9),No(_0x19d77f),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x3f71af+'->'+_0xa032a9]=_0x19d77f),_0x19d77f;}['_transitio'+'nHasCondit'+'ionsMet'](_0x4d07db){const _0x5e0f47=_0x4d07db['conditions'];for(let _0x219479=-0x1956+0x1c1a*0x1+-0x2c4;_0x219479<_0x5e0f47['length'];_0x219479++){const _0x526cc8=_0x5e0f47[_0x219479],_0x5c5fe8=this['_findParam'+'eter'](_0x526cc8['parameterN'+'ame']);switch(_0x526cc8['predicate']){case MP:if(!(_0x5c5fe8['value']>_0x526cc8['value']))return!(0x5f9+0x79*-0x9+-0x1b7);break;case PP:if(!(_0x5c5fe8['value']<_0x526cc8['value']))return!(-0x1f*0xc7+-0xdfe+0x2618);break;case RP:if(!(_0x5c5fe8['value']>=_0x526cc8['value']))return!(0x12*-0x12f+-0x17b+0x2*0xb65);break;case IP:if(!(_0x5c5fe8['value']<=_0x526cc8['value']))return!(0x1f8c+-0x2038+0xad);break;case DP:if(_0x5c5fe8['value']!==_0x526cc8['value'])return!(0x1474+-0x1648+-0x43*-0x7);break;case LP:if(_0x5c5fe8['value']===_0x526cc8['value'])return!(-0x20c0+-0x7*0xd5+0x2694);break;}}return!(0x1921+0x21*-0x8e+-0x6d3);}['_findTrans'+'ition'](_0x7748b6,_0x11c3fa){let _0x37b6e7=[];if(_0x7748b6&&_0x11c3fa)_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x7748b6,_0x11c3fa));else{if(!this['_isTransit'+'ioning'])_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x37b6e7=_0x37b6e7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x37b6e7=_0x37b6e7['filter'](_0x353074=>{if(_0x353074['to']===this['activeStat'+'eName'])return!(-0x5c*0x68+0x25a3+-0x42);if(_0x353074['hasExitTim'+'e']){let _0x2bc2c7=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x40b9d6=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x353074['exitTime']<0x1*-0xc7+0x71b+-0x653&&this['activeStat'+'e']['loop']&&(_0x2bc2c7-=Math['floor'](_0x2bc2c7),_0x40b9d6-=Math['floor'](_0x40b9d6)),_0x40b9d6===_0x2bc2c7){if(_0x40b9d6!==_0x353074['exitTime'])return null;}else{if(!(_0x353074['exitTime']>_0x2bc2c7&&_0x353074['exitTime']<=_0x40b9d6))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x353074);}),_0x37b6e7['length']>0x37c*-0x5+-0x1b7*-0x3+0xc47*0x1){const _0x132122=_0x37b6e7[-0x5*0x68c+0x1fe7*-0x1+0x40a3];if(_0x132122['to']===Ku){const _0x353531=this['_findTrans'+'itionsFrom'+'State'](oo)[0xa7b+0xa9*-0x12+0x167];_0x132122['to']=_0x353531['to'];}return _0x132122;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x181711){let _0x1fda6f,_0x46f145,_0x4e5f94;this['previousSt'+'ate']=_0x181711['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x181711['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x1225*-0x1+-0x11e+0x1343);for(let _0x1ec0b3=-0x4d8+0x1fed*0x1+-0x1*0x1b15;_0x1ec0b3<_0x181711['conditions']['length'];_0x1ec0b3++){const _0x5572a3=_0x181711['conditions'][_0x1ec0b3];this['_findParam'+'eter'](_0x5572a3['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x5572a3['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x5af39d=Math['min'](this['_totalTran'+'sitionTime']!==0x2da*-0xa+-0x1be*0x2+-0x4*-0x800?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x66d+-0x17*-0x14d+-0x2457,-0xe47*0x1+0x175e+-0x916);for(let _0x5f5911=0x16*0x9b+0x7eb+-0x1*0x153d;_0x5f5911<this['_transitio'+'nPreviousS'+'tates']['length'];_0x5f5911++){this['_isTransit'+'ioning']?_0x5f5911!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x2055+-0x26e*0x4+0x4*-0x5a7)?this['_transitio'+'nPreviousS'+'tates'][_0x5f5911]['weight']*=0x3f7+-0x1*0x55e+-0x4*-0x5a-_0x5af39d:this['_transitio'+'nPreviousS'+'tates'][_0x5f5911]['weight']=_0x5af39d:this['_transitio'+'nPreviousS'+'tates'][_0x5f5911]['weight']=0x7*0x169+0x212+-0xbf0*0x1,_0x1fda6f=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x5f5911]['name']);for(let _0x1f8920=-0x1*0x1b+-0x115e+0x1179;_0x1f8920<_0x1fda6f['animations']['length'];_0x1f8920++)_0x46f145=_0x1fda6f['animations'][_0x1f8920],_0x4e5f94=this['_animEvalu'+'ator']['findClip'](_0x46f145['name']+'.previous.'+_0x5f5911),_0x4e5f94||(_0x4e5f94=this['_animEvalu'+'ator']['findClip'](_0x46f145['name']),_0x4e5f94['name']=_0x46f145['name']+'.previous.'+_0x5f5911),_0x5f5911!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0xe*-0x28c+-0x228+-0x217f)&&_0x4e5f94['pause']();}}this['_isTransit'+'ioning']=!(-0x20ce+0x22ae+0x60*-0x5),this['_totalTran'+'sitionTime']=_0x181711['time'],this['_currTrans'+'itionTime']=-0x594+0xd*-0x79+0xbb9,this['_transitio'+'nInterrupt'+'ionSource']=_0x181711['interrupti'+'onSource'];const _0x518cc8=this['activeStat'+'e'],_0x1325a0=_0x181711['transition'+'Offset']&&_0x181711['transition'+'Offset']>-0x15*-0x1d5+-0xfb0+-0x16c9&&_0x181711['transition'+'Offset']<0x1c01*-0x1+0xf5*-0x27+0x4155;let _0xf7487a=-0x1b50+-0x7ee+0x233e,_0x38aac7=-0x1*-0x1d9e+-0x15c*-0xe+-0x30a6;if(_0x1325a0){const _0x3b56d4=_0x518cc8['timelineDu'+'ration']*_0x181711['transition'+'Offset'];_0xf7487a=_0x3b56d4,_0x38aac7=_0x3b56d4;}this['_timeInSta'+'te']=_0xf7487a,this['_timeInSta'+'teBefore']=_0x38aac7;for(let _0x4d03db=-0x3*-0x9f9+0x5e*-0x34+-0x11*0xa3;_0x4d03db<_0x518cc8['animations']['length'];_0x4d03db++){if(_0x4e5f94=this['_animEvalu'+'ator']['findClip'](_0x518cc8['animations'][_0x4d03db]['name']),_0x4e5f94)_0x4e5f94['reset']();else{const _0x5df2e3=Number['isFinite'](_0x518cc8['animations'][_0x4d03db]['speed'])?_0x518cc8['animations'][_0x4d03db]['speed']:_0x518cc8['speed'];_0x4e5f94=new Xh(_0x518cc8['animations'][_0x4d03db]['animTrack'],this['_timeInSta'+'te'],_0x5df2e3,!(0x95f*-0x1+0x1a54+-0x10f5),_0x518cc8['loop'],this['_eventHand'+'ler']),_0x4e5f94['name']=_0x518cc8['animations'][_0x4d03db]['name'],this['_animEvalu'+'ator']['addClip'](_0x4e5f94);}if(_0x181711['time']>-0x21b2+-0x2*0x776+0x2*0x184f?_0x4e5f94['blendWeigh'+'t']=0x23*-0xef+-0x1c13+-0x8*-0x798:_0x4e5f94['blendWeigh'+'t']=_0x518cc8['animations'][_0x4d03db]['normalized'+'Weight'],_0x4e5f94['play'](),_0x1325a0)_0x4e5f94['time']=_0x518cc8['timelineDu'+'ration']*_0x181711['transition'+'Offset'];else{const _0x3004d9=_0x518cc8['speed']>=-0x1*0x764+-0x1*0x26dd+0x2e41?-0x1000+0xd76+0x1a*0x19:this['activeStat'+'eDuration'];_0x4e5f94['time']=_0x3004d9;}}}['_transitio'+'nToState'](_0xc28305){if(!this['_findState'](_0xc28305))return;let _0xe74cf3=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0xc28305);_0xe74cf3||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0xe74cf3=new Yh({'from':null,'to':_0xc28305})),this['updateStat'+'eFromTrans'+'ition'](_0xe74cf3);}['assignAnim'+'ation'](_0x3b9d1f,_0x4cd05c,_0x6d9cc3,_0x2a2e64){const _0x23957b=_0x3b9d1f['split']('.');let _0x22b0e1=this['_findState'](_0x23957b[-0x1924+0x1a8e+-0xb5*0x2]);_0x22b0e1||(_0x22b0e1=new eg(this,_0x23957b[-0x2b8*0x3+0x23f*0x4+-0xd4],_0x6d9cc3),this['_states'][_0x23957b[0x2c*0x42+-0x2f*0x71+0x1*0x967]]=_0x22b0e1,this['_stateName'+'s']['push'](_0x23957b[-0xe5d+0x1*0x56c+0x8f1])),_0x22b0e1['addAnimati'+'on'](_0x23957b,_0x4cd05c),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x22b0e1['name'],_0x4cd05c),_0x6d9cc3!==void(0x7*0xde+-0x10dd+0x9*0x133)&&(_0x22b0e1['speed']=_0x6d9cc3),_0x2a2e64!==void(0x2249+-0x24f7+-0x7*-0x62)&&(_0x22b0e1['loop']=_0x2a2e64),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x20a9+-0x3*-0x59d+0xfd2);}['removeNode'+'Animations'](_0x1d150b){if(jh['indexOf'](_0x1d150b)!==-(0xd*0x23+-0x88f*0x1+0x6c9))return!(0x1390+-0x74f+-0xc40);const _0x45cd2a=this['_findState'](_0x1d150b);return _0x45cd2a?(_0x45cd2a['animations']=[],!(-0x19d5+0x117d*0x1+0x858*0x1)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x1d150b),!(0x2*0x25d+0x4*-0xb2+-0x1f1*0x1));}['play'](_0x4c703a){_0x4c703a&&this['_transitio'+'nToState'](_0x4c703a),this['_playing']=!(-0x1*-0x9ee+-0x1bbf+0x11d1);}['pause'](){this['_playing']=!(0x2*-0x120a+0x17*-0x1a9+-0xc4*-0x61);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0x2*-0x932+-0x1c13+0x1*0x2e78),this['_currTrans'+'itionTime']=-0x9*0x34b+-0x40*-0x60+0x2*0x2d2,this['_totalTran'+'sitionTime']=0x155c+0x236c+-0x38c7,this['_isTransit'+'ioning']=!(-0xda*-0x2+-0x4*0x373+0xc19),this['_timeInSta'+'te']=0xfa7+-0x1*-0xe5f+-0x1e06,this['_timeInSta'+'teBefore']=0x173d+-0x7c7+-0xf76,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x54d5b7){if(!this['_playing'])return;let _0x2b2e68,_0x3f35aa,_0xd75ffa;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x54d5b7*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x54d5b7=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x67fb89=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x67fb89&&this['updateStat'+'eFromTrans'+'ition'](_0x67fb89),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x54d5b7,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x4a6286=this['_totalTran'+'sitionTime']!==-0x107*0x11+-0x1728+0x289f?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x3*-0x945+0x1213*0x1+0x3*0x33f;for(let _0x512ab0=0x1425+0xc75+-0xd6*0x27;_0x512ab0<this['_transitio'+'nPreviousS'+'tates']['length'];_0x512ab0++){_0x2b2e68=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x512ab0]['name']);const _0x5be318=this['_transitio'+'nPreviousS'+'tates'][_0x512ab0]['weight'];for(let _0x3e1c44=-0x702+0x4*-0x76b+0x24ae;_0x3e1c44<_0x2b2e68['animations']['length'];_0x3e1c44++)_0x3f35aa=_0x2b2e68['animations'][_0x3e1c44],_0xd75ffa=this['_animEvalu'+'ator']['findClip'](_0x3f35aa['name']+'.previous.'+_0x512ab0),_0xd75ffa&&(_0xd75ffa['blendWeigh'+'t']=(-0x4f*-0x2f+-0x8b3+-0x63*0xf-_0x4a6286)*_0x3f35aa['normalized'+'Weight']*_0x5be318);}_0x2b2e68=this['activeStat'+'e'];for(let _0x30da2f=0x5d0+-0x1*0xefd+0x57*0x1b;_0x30da2f<_0x2b2e68['animations']['length'];_0x30da2f++)_0x3f35aa=_0x2b2e68['animations'][_0x30da2f],this['_animEvalu'+'ator']['findClip'](_0x3f35aa['name'])['blendWeigh'+'t']=_0x4a6286*_0x3f35aa['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x7b2+0x23*-0x74+-0x1*-0x178f);const _0x298a66=this['activeStat'+'eAnimation'+'s']['length'],_0x520be4=this['_animEvalu'+'ator']['clips']['length'];for(let _0x116442=0x1b*0xed+-0x1445+-0x4ba;_0x116442<_0x520be4-_0x298a66;_0x116442++)this['_animEvalu'+'ator']['removeClip'](-0x5bf+0xef3*-0x1+0x14b2);this['_transitio'+'nPreviousS'+'tates']=[],_0x2b2e68=this['activeStat'+'e'];for(let _0x565a52=-0x1135*-0x2+-0x1e76+-0x3f4;_0x565a52<_0x2b2e68['animations']['length'];_0x565a52++)_0x3f35aa=_0x2b2e68['animations'][_0x565a52],_0xd75ffa=this['_animEvalu'+'ator']['findClip'](_0x3f35aa['name']),_0xd75ffa&&(_0xd75ffa['blendWeigh'+'t']=_0x3f35aa['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x2b2e68=this['activeStat'+'e'];for(let _0x355ead=-0x120b+0x51*-0x72+-0x1*-0x361d;_0x355ead<_0x2b2e68['animations']['length'];_0x355ead++)_0x3f35aa=_0x2b2e68['animations'][_0x355ead],_0xd75ffa=this['_animEvalu'+'ator']['findClip'](_0x3f35aa['name']),_0xd75ffa&&(_0xd75ffa['blendWeigh'+'t']=_0x3f35aa['normalized'+'Weight'],_0x3f35aa['parent']['syncAnimat'+'ions']&&(_0xd75ffa['speed']=_0x3f35aa['speed']));}}this['_animEvalu'+'ator']['update'](_0x54d5b7,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new W(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x1dde50,_0x50b9b6,_0x3cb411,_0x2fc406,_0x21a4c1){super(_0x50b9b6),this['animCompon'+'ent']=_0x1dde50,this['_mask']=_0x2fc406,this['layerName']=_0x3cb411,this['layerIndex']=_0x21a4c1;}static['_packFloat'](_0x52c459){return _0x52c459[0x133d+-0x65*-0x11+-0x52*0x51];}static['_packBoole'+'an'](_0x32c0d8){return!!_0x32c0d8[0x13a6+-0x1b03+0x91*0xd];}static['_packVec2'](_0x48854d){return Yd['x']=_0x48854d[0x1c*0x103+0x1769+-0x33bd],Yd['y']=_0x48854d[-0x1*0x3cb+0x1a06+-0x163a],Yd;}static['_packVec3'](_0x3582b0){return ql['x']=_0x3582b0[0x12ef*-0x1+0x1fc7+-0xcd8],ql['y']=_0x3582b0[0xac4+0x135e+-0x1e21],ql['z']=_0x3582b0[0x11d1+0xd81+-0x1f50],ql;}static['_packVec4'](_0x2b0f17){return Ja['x']=_0x2b0f17[-0x193*0xc+0x16b8*0x1+0x1*-0x3d4],Ja['y']=_0x2b0f17[0x332*0x1+0x1e66+-0x1*0x2197],Ja['z']=_0x2b0f17[0x2298+-0x22*-0xc4+0x3c9e*-0x1],Ja['w']=_0x2b0f17[0x1675+-0x267b*-0x1+-0x3ced],Ja;}static['_packColor'](_0x2e9843){return eo['r']=_0x2e9843[0x14b0+0x581*-0x2+-0x9ae],eo['g']=_0x2e9843[-0x1e96+0x6f7+0x5e8*0x4],eo['b']=_0x2e9843[0xdfd+0x2*-0xf29+0x1057],eo['a']=_0x2e9843[0x23db+-0x17e+-0x225a*0x1],eo;}static['_packQuat'](_0x418d7e){return to['x']=_0x418d7e[-0xe09*0x1+-0x6c3+0x14cc],to['y']=_0x418d7e[-0x329*-0x7+0x12f0+0x1*-0x290e],to['z']=_0x418d7e[0x1f62+-0x1*0x1e41+-0x7*0x29],to['w']=_0x418d7e[0x1eba+0x1*0x4b5+0x236c*-0x1],to;}['resolve'](_0x56b48b){const _0x1988dc=qr['encode'](_0x56b48b['entityPath'],_0x56b48b['component'],_0x56b48b['propertyPa'+'th']);let _0xdb2974=this['targetCach'+'e'][_0x1988dc];if(_0xdb2974)return _0xdb2974;let _0x567b7b,_0x163702,_0x39946f;switch(_0x56b48b['component']){case'entity':_0x567b7b=this['_getEntity'+'FromHierar'+'chy'](_0x56b48b['entityPath']),_0x39946f=qr['encode'](_0x567b7b['path'],'entity',_0x56b48b['propertyPa'+'th']),_0x163702=_0x567b7b;break;case'graph':if(_0x163702=this['findNode'](_0x56b48b),!_0x163702)return null;_0x39946f=qr['encode'](_0x163702['path'],'graph',_0x56b48b['propertyPa'+'th']);break;default:if(_0x567b7b=this['_getEntity'+'FromHierar'+'chy'](_0x56b48b['entityPath']),_0x163702=_0x567b7b['findCompon'+'ent'](_0x56b48b['component']),!_0x163702)return null;_0x39946f=qr['encode'](_0x567b7b['path'],_0x56b48b['component'],_0x56b48b['propertyPa'+'th']);break;}return _0xdb2974=this['_createAni'+'mTargetFor'+'Property'](_0x163702,_0x56b48b['propertyPa'+'th'],_0x39946f),this['targetCach'+'e'][_0x1988dc]=_0xdb2974,_0xdb2974;}['update'](_0x17b2a3){const _0x12fad5=this['activeNode'+'s'];if(_0x12fad5){for(let _0x2cd9f5=0x16f*-0x9+0x6a1+0x646;_0x2cd9f5<_0x12fad5['length'];_0x2cd9f5++)_0x12fad5[_0x2cd9f5]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x440c8e){if(!this['animCompon'+'ent']['entity']['name']===_0x440c8e[-0x6b2+-0x241*-0xb+-0x1219])return null;const _0x240fc1=this['animCompon'+'ent']['entity'];return _0x440c8e['length']===0x20fa+-0x6f*-0x29+0x3a0*-0xe?_0x240fc1:_0x240fc1['_parent']['findByPath'](_0x440c8e);}['_resolvePa'+'th'](_0x152f8f,_0xeafa00,_0x419f33){const _0x154f29=_0xeafa00['length']-(_0x419f33?-0x141b*-0x1+-0x2581*0x1+0x1166:0x1a3d+0x6f+-0x1aab);for(let _0x334074=0x262e+-0x4d9*0x7+-0x43f;_0x334074<_0x154f29;_0x334074++)_0x152f8f=_0x152f8f[_0xeafa00[_0x334074]];return _0x152f8f;}['_setter'](_0x2b8422,_0x2ad9c2,_0x1049da){const _0x51f499=this['_resolvePa'+'th'](_0x2b8422,_0x2ad9c2),_0x5b1821=_0x2ad9c2[_0x2ad9c2['length']-(0x2*0x593+0x81a*-0x1+-0x30b)],_0xcbcc8d='set'+_0x5b1821['substring'](-0x675+0xfa8+-0x933,0xa7f*0x1+0x520+-0x1*0xf9e)['toUpperCas'+'e']()+_0x5b1821['substring'](0x3*0x559+0x1357*0x1+0x2361*-0x1);if(_0x51f499[_0xcbcc8d]){let _0x977992=_0x51f499['get'+_0x5b1821['substring'](-0x35*-0xb9+0x54*-0x52+-0xb65*0x1,-0x1f16+-0x9dc+0xb*0x3b9)['toUpperCas'+'e']()+_0x5b1821['substring'](0x10f3+0x1646+0x14*-0x1f6)]['bind'](_0x51f499)();_0x977992=[_0x977992['x'],_0x977992['y'],_0x977992['z'],_0x977992['w']];const _0x6afa28=_0x51f499[_0xcbcc8d]['bind'](_0x51f499);return{'set':_0x5c6e82=>{_0x6afa28(_0x1049da(_0x5c6e82));},'get':()=>_0x977992};}const _0x58d4b8=_0x51f499[_0x5b1821];if(typeof _0x58d4b8=='object'&&_0x58d4b8['hasOwnProp'+'erty']('copy'))return function(_0x420fd7){_0x58d4b8['copy'](_0x1049da(_0x420fd7));};if([W,T,Q,Y,se]['indexOf'](_0x51f499['constructo'+'r'])!==-(0x1*0x90d+-0xdda+0x4ce)&&_0x2ad9c2['length']>-0x8*0x125+-0x2301+0x2c2a){const _0x2e5dbb=_0x2ad9c2['length']>-0x126d+-0x12b2+0x2521?this['_resolvePa'+'th'](_0x2b8422,_0x2ad9c2['slice'](0x2f1*-0xc+-0xb50+0x2e9c,-(0x1539+-0x9d*0x19+-0x5e3))):_0x2b8422,_0x48654d=_0x2ad9c2[_0x2ad9c2['length']-(-0x11bc*0x1+-0xb7*0x25+-0x1a3*-0x1b)];return function(_0x16a40f){_0x51f499[_0x5b1821]=_0x1049da(_0x16a40f),_0x2e5dbb[_0x48654d]=_0x51f499;};}return function(_0xb8ee80){_0x51f499[_0x5b1821]=_0x1049da(_0xb8ee80);};}['_createAni'+'mTargetFor'+'Property'](_0x48cd81,_0x1bd025,_0x56a033){if(this['handlers']&&_0x1bd025[0x130f+0x1*0x103f+-0x234e]['startsWith']('weight.'))return this['handlers']['weight'](_0x48cd81,_0x1bd025[0x483+0x240f+-0x2892]['replace']('weight.',''));if(this['handlers']&&_0x1bd025[-0x1*-0x9ee+-0x95*-0x3e+-0x2e04]==='material'&&_0x1bd025['length']===0x16b5+0xf1*-0x8+-0xf2b){const _0x397fdc=_0x1bd025[0x4*0x5ba+0x5*0x79e+0x3cfd*-0x1];if(_0x397fdc['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x48cd81,_0x397fdc);}const _0x3b68c0=this['_resolvePa'+'th'](_0x48cd81,_0x1bd025,!(-0xbe6+0x1cfe+-0x4*0x446));if(typeof _0x3b68c0>'u')return null;let _0x51bc2b,_0x38b277,_0x29e01c;if(typeof _0x3b68c0=='number')_0x51bc2b=this['_setter'](_0x48cd81,_0x1bd025,mi['_packFloat']),_0x38b277='vector',_0x29e01c=0x129+0x2430+-0x2558;else{if(typeof _0x3b68c0=='boolean')_0x51bc2b=this['_setter'](_0x48cd81,_0x1bd025,mi['_packBoole'+'an']),_0x38b277='vector',_0x29e01c=-0x74*0x1a+-0x1220*0x1+0x1de9;else{if(typeof _0x3b68c0=='object')switch(_0x3b68c0['constructo'+'r']){case W:_0x51bc2b=this['_setter'](_0x48cd81,_0x1bd025,mi['_packVec2']),_0x38b277='vector',_0x29e01c=-0x3ab*0x3+0x24b1+-0x19ae;break;case T:_0x51bc2b=this['_setter'](_0x48cd81,_0x1bd025,mi['_packVec3']),_0x38b277='vector',_0x29e01c=0x1*-0x17e7+0x7b0+0x2*0x81d;break;case Q:_0x51bc2b=this['_setter'](_0x48cd81,_0x1bd025,mi['_packVec4']),_0x38b277='vector',_0x29e01c=-0x20bb+-0x2*0x99a+0x33f3;break;case Y:_0x51bc2b=this['_setter'](_0x48cd81,_0x1bd025,mi['_packColor']),_0x38b277='vector',_0x29e01c=-0x1bca+0x1*-0x2185+0x3d53;break;case se:_0x51bc2b=this['_setter'](_0x48cd81,_0x1bd025,mi['_packQuat']),_0x38b277='quaternion',_0x29e01c=-0x14db+0x9fc+0xae3;break;default:return null;}}}return _0x1bd025['indexOf']('material')!==-(-0x13f1+0x10d7+0x31b)?new Zu(_0x578228=>{_0x51bc2b(_0x578228),_0x48cd81['material']['update']();},_0x38b277,_0x29e01c,_0x56a033):new Zu(_0x51bc2b,_0x38b277,_0x29e01c,_0x56a033);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x3d72bd={},_0x5086a1=function(_0x4c7cb3){_0x3d72bd[_0x4c7cb3['name']]=_0x4c7cb3;for(let _0x46c59a=-0x24b4+-0xb*0x5a+0x2892;_0x46c59a<_0x4c7cb3['children']['length'];++_0x46c59a)_0x5086a1(_0x4c7cb3['children'][_0x46c59a]);};_0x5086a1(this['graph']),this['nodes']=_0x3d72bd;}}class WP{constructor(_0x4a4fd4,_0x30fd8a,_0x222398,_0x35ab6a=0x973+-0x68c*0x2+0x3a6,_0xbf41fc=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',-0x1*-0x1585+-0xab*-0x1+0xa*-0x238),c(this,'_blendTime'+'Elapsed',-0x1d92*0x1+-0x7bc+0x254e),c(this,'_startingW'+'eight',-0x1*0x5ef+0x21e6+0x1*-0x1bf7),c(this,'_targetWei'+'ght',0x1bd+0xe*-0x24a+0x1e4f),(this['_name']=_0x4a4fd4,this['_controlle'+'r']=_0x30fd8a,this['_component']=_0x222398,this['_weight']=_0x35ab6a,this['_blendType']=_0xbf41fc);}get['name'](){return this['_name'];}set['playing'](_0x446071){this['_controlle'+'r']['playing']=_0x446071;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x5a1c1d){const _0x4139ec=this['_controlle'+'r'],_0x342d4b=_0x4139ec['playing'];_0x4139ec['playing']=!(-0x1c11+-0x228+0x1e39),_0x4139ec['activeStat'+'eCurrentTi'+'me']=_0x5a1c1d,_0x342d4b||_0x4139ec['update'](-0x3*-0xd1+0x1e3d+-0x4*0x82c),_0x4139ec['playing']=_0x342d4b;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x3cbbd5){this['_weight']=_0x3cbbd5,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x15f4a9){_0x15f4a9!==this['_blendType']&&(this['_blendType']=_0x15f4a9,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x722b22){this['_controlle'+'r']['assignMask'](_0x722b22)&&this['_component']['rebind'](),this['_mask']=_0x722b22;}get['mask'](){return this['_mask'];}['play'](_0x1f164c){this['_controlle'+'r']['play'](_0x1f164c);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x4989ef){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x4989ef):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x195+0xda*0x2+-0x349,this['_blendTime'+'Elapsed']=-0x1*0x1eef+-0x245e+0x434d,this['_startingW'+'eight']=0x5cf*-0x2+0x85f+0x33f,this['_targetWei'+'ght']=0x1*-0xba1+-0xdf6+0x1997*0x1)),this['_controlle'+'r']['update'](_0x4989ef);}['blendToWei'+'ght'](_0x3b3c52,_0x33ffa7){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x3b3c52,this['_blendTime']=Math['max'](0x49*0x37+-0x84a*0x1+-0x765,_0x33ffa7),this['_blendTime'+'Elapsed']=0x14e2+0xb43*-0x3+0x3*0x44d;}['assignAnim'+'ation'](_0x3ec387,_0xd62a2e,_0x34184b,_0x2c99bb){if(!(_0xd62a2e instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x3ec387,_0xd62a2e,_0x34184b,_0x2c99bb),this['_controlle'+'r']['_transitio'+'ns']['length']===0xa2e+0xebd+0x1*-0x18eb&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x3ec387})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x1290+0x1967+-0x8cb*0x5));}['removeNode'+'Animations'](_0x3bda11){this['_controlle'+'r']['removeNode'+'Animations'](_0x3bda11)&&(this['_component']['playing']=!(0x1d25+0x78e*-0x3+-0x67a));}['getAnimati'+'onAsset'](_0x5df6e4){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x5df6e4];}['transition'](_0x5119a4,_0x4c543f=-0x1*0x713+-0x3*0x61f+0xb*0x250,_0x588174=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x5119a4,'time':_0x4c543f,'transitionOffset':_0x588174}));}}class mh{constructor(_0x4fd99b){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x4fd99b['layers']))this['_layers']=_0x4fd99b['layers'];else for(const _0x467bfa in _0x4fd99b['layers']){const _0x590980=_0x4fd99b['layers'][_0x467bfa],_0x3f1448={'name':_0x590980['name'],'blendType':_0x590980['blendType'],'weight':_0x590980['weight'],'states':[],'transitions':[]};for(let _0x4ad2c6=-0x877*-0x4+-0x833*-0x1+-0x2a0f;_0x4ad2c6<_0x590980['states']['length'];_0x4ad2c6++)_0x3f1448['states']['push'](_0x4fd99b['states'][_0x590980['states'][_0x4ad2c6]]);for(let _0x4396fa=0x10be*0x1+0x3*0x63b+-0x236f*0x1;_0x4396fa<_0x590980['transition'+'s']['length'];_0x4396fa++){const _0x211344=_0x4fd99b['transition'+'s'][_0x590980['transition'+'s'][_0x4396fa]];if(_0x211344['conditions']&&!Array['isArray'](_0x211344['conditions'])){const _0x5658b6=Object['keys'](_0x211344['conditions']),_0x5ef8e5=[];for(let _0x427915=0x1bb7+-0xee9+-0xcce;_0x427915<_0x5658b6['length'];_0x427915++){const _0x56a5d6=_0x211344['conditions'][_0x5658b6[_0x427915]];_0x56a5d6['parameterN'+'ame']&&_0x5ef8e5['push'](_0x56a5d6);}_0x211344['conditions']=_0x5ef8e5;}Number['isInteger'](_0x211344['from'])&&(_0x211344['from']=_0x4fd99b['states'][_0x211344['from']]['name']),Number['isInteger'](_0x211344['to'])&&(_0x211344['to']=_0x4fd99b['states'][_0x211344['to']]['name']),_0x3f1448['transition'+'s']['push'](_0x211344);}this['_layers']['push'](_0x3f1448);}for(const _0x4667eb in _0x4fd99b['parameters']){const _0x5cde61=_0x4fd99b['parameters'][_0x4667eb];this['_parameter'+'s'][_0x5cde61['name']]={'type':_0x5cde61['type'],'value':_0x5cde61['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0x145*0xc+-0x1a9e*0x1+0x29db),c(this,'_activate',!(-0x2b*0x53+0x246e*-0x1+0xa13*0x5)),c(this,'_playing',!(0x16ab+-0xb84+-0xb26)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0x2a6*-0x9+0x1c00+-0x33d5)),c(this,'findParame'+'ter',_0x1f43e1=>this['_parameter'+'s'][_0x1f43e1]),c(this,'consumeTri'+'gger',_0x5bf709=>{this['_consumedT'+'riggers']['add'](_0x5bf709);});}set['stateGraph'+'Asset'](_0xd66484){if(_0xd66484===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x2a1393,_0x3678ee;_0xd66484 instanceof le?(_0x2a1393=_0xd66484['id'],_0x3678ee=this['system']['app']['assets']['get'](_0x2a1393),_0x3678ee||(this['system']['app']['assets']['add'](_0xd66484),_0x3678ee=this['system']['app']['assets']['get'](_0x2a1393))):(_0x2a1393=_0xd66484,_0x3678ee=this['system']['app']['assets']['get'](_0x2a1393)),!(!_0x3678ee||this['_stateGrap'+'hAsset']===_0x2a1393)&&(_0x3678ee['resource']?(this['_stateGrap'+'h']=_0x3678ee['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x3678ee['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x3678ee['once']('load',_0x583892=>{this['_stateGrap'+'h']=_0x583892['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x3678ee['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x3678ee)),this['_stateGrap'+'hAsset']=_0x2a1393);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x307f64){this['_normalize'+'Weights']=_0x307f64,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x53e20f){this['_animation'+'Assets']=_0x53e20f,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x59f36a){this['_speed']=_0x59f36a;}get['speed'](){return this['_speed'];}set['activate'](_0x4407ab){this['_activate']=_0x4407ab;}get['activate'](){return this['_activate'];}set['playing'](_0x114d33){this['_playing']=_0x114d33;}get['playing'](){return this['_playing'];}set['rootBone'](_0x4fcc41){if(typeof _0x4fcc41=='string'){const _0x4c3373=this['entity']['root']['findByGuid'](_0x4fcc41);v['assert'](_0x4c3373,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x4fcc41+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x4c3373;}else _0x4fcc41 instanceof We?this['_rootBone']=_0x4fcc41:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x24a553){this['_stateGrap'+'h']=_0x24a553;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x231302){this['_layerIndi'+'ces']=_0x231302;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x6bd0fe){this['_parameter'+'s']=_0x6bd0fe;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x24a59a){this['_targets']=_0x24a59a;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x56a345=0xe6b*-0x1+-0xa*-0x3ce+-0x17*0x107;_0x56a345<this['_layers']['length'];_0x56a345++)if(!this['_layers'][_0x56a345]['playable'])return!(0x1*-0x1edf+-0xfe8+0xf98*0x3);return!(0x13*0x35+0xd9c+-0x118b);}get['baseLayer'](){return this['_layers']['length']>0x19d*-0x5+0x1578*0x1+-0xd67?this['_layers'][0x19fc+-0x583+-0x1*0x1479]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x3278e7){const _0x39b9c8=this['animationA'+'ssets'],_0xb8eed9=this['layers']['map'](_0x9eff52=>_0x9eff52['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x3278e7['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x39b9c8,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x232951,_0x6dbd3b)=>{_0x232951['mask']=_0xb8eed9[_0x6dbd3b];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x28d71b=Object['values'](this['_targets']);for(let _0x38e73c=-0x2fe+0x1*-0x9cd+-0x19*-0x83;_0x38e73c<_0x28d71b['length'];_0x38e73c++)_0x28d71b[_0x38e73c]['dirty']=!(0x1de1+0x1d0c+0x5*-0xbc9);}['_addLayer']({name:_0x5d6688,states:_0x5c4756,transitions:_0x5d48d0,weight:_0x2f9cb5,mask:_0x361a66,blendType:_0x150d9a}){let _0x40f19f;this['rootBone']?_0x40f19f=this['rootBone']:_0x40f19f=this['entity'];const _0x14575b=this['_layers']['length'],_0x3e3109=new mi(this,_0x40f19f,_0x5d6688,_0x361a66,_0x14575b),_0x27b838=new j0(_0x3e3109),_0x1ef425=new HP(_0x27b838,_0x5c4756,_0x5d48d0,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x5d6688,_0x1ef425,this,_0x2f9cb5,_0x150d9a)),this['_layerIndi'+'ces'][_0x5d6688]=_0x14575b,this['_layers'][_0x14575b];}['addLayer'](_0x5097b9,_0x462ba3,_0x29c97c,_0x4c40e4){const _0xdf1e9c=this['findAnimat'+'ionLayer'](_0x5097b9);if(_0xdf1e9c)return _0xdf1e9c;const _0xddf72a=[{'name':'START','speed':0x1}],_0x314706=[];return this['_addLayer']({'name':_0x5097b9,'states':_0xddf72a,'transitions':_0x314706,'weight':_0x462ba3,'mask':_0x29c97c,'blendType':_0x4c40e4});}['_assignPar'+'ameters'](_0x37a1d2){this['_parameter'+'s']={};const _0x17266c=Object['keys'](_0x37a1d2['parameters']);for(let _0x3c2bc2=0x11b5*0x1+0x1*0x24b+-0x1400;_0x3c2bc2<_0x17266c['length'];_0x3c2bc2++){const _0x487bfd=_0x17266c[_0x3c2bc2];this['_parameter'+'s'][_0x487bfd]={'type':_0x37a1d2['parameters'][_0x487bfd]['type'],'value':_0x37a1d2['parameters'][_0x487bfd]['value']};}}['loadStateG'+'raph'](_0x164fd3){this['_stateGrap'+'h']=_0x164fd3,this['_assignPar'+'ameters'](_0x164fd3),this['_layers']=[];let _0x3e56d1=!(-0x7*-0x1e7+-0x17c8+-0xa78*-0x1);for(let _0x2164ee=-0x2*0x713+-0x1887+0x26ad*0x1;_0x2164ee<_0x164fd3['layers']['length'];_0x2164ee++){const _0x1a7a7e=_0x164fd3['layers'][_0x2164ee];this['_addLayer']({..._0x1a7a7e}),_0x1a7a7e['states']['some'](_0x11255d=>_0x11255d['blendTree'])&&(_0x3e56d1=!(-0x1*0x2597+0x1*-0x9af+-0x7e1*-0x6));}_0x3e56d1||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x40a876=0xb14+0x103c*-0x1+-0x294*-0x2;_0x40a876<this['_layers']['length'];_0x40a876++){const _0x3f1e62=this['_layers'][_0x40a876],_0x38afc7=_0x3f1e62['name'];for(let _0x384294=0x1338+-0x9c0+0x328*-0x3;_0x384294<_0x3f1e62['states']['length'];_0x384294++){const _0x37108e=_0x3f1e62['states'][_0x384294];if(jh['indexOf'](_0x37108e)===-(-0x1518+-0x2*-0x1331+-0x1149)){const _0x450eca=_0x38afc7+':'+_0x37108e;this['_animation'+'Assets'][_0x450eca]||(this['_animation'+'Assets'][_0x450eca]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x2384a1=0x1*0x1e9b+-0xa3*0x11+0x698*-0x3;_0x2384a1<this['_layers']['length'];_0x2384a1++){const _0x369c70=this['_layers'][_0x2384a1];for(let _0x213754=0x1c8b+-0x3cb*0x5+-0x994;_0x213754<_0x369c70['states']['length'];_0x213754++){const _0x1743f3=_0x369c70['states'][_0x213754];if(jh['indexOf'](_0x1743f3)!==-(0x2e3*0x1+0x19c9+-0x1cab))continue;const _0x3f5200=this['_animation'+'Assets'][_0x369c70['name']+':'+_0x1743f3];if(!_0x3f5200||!_0x3f5200['asset']){this['findAnimat'+'ionLayer'](_0x369c70['name'])['assignAnim'+'ation'](_0x1743f3,Ri['EMPTY']);continue;}const _0x34b145=_0x3f5200['asset'],_0x564c58=this['system']['app']['assets']['get'](_0x34b145);_0x564c58&&(_0x564c58['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x369c70['name'],_0x1743f3,_0x564c58):(_0x564c58['once']('load',function(_0x5e4a96,_0x41398f){return function(_0x1aa017){this['onAnimatio'+'nAssetLoad'+'ed'](_0x5e4a96,_0x41398f,_0x1aa017);}['bind'](this);}['bind'](this)(_0x369c70['name'],_0x1743f3)),this['system']['app']['assets']['load'](_0x564c58)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x9f0b98,_0x147e5e,_0x3c628e){this['findAnimat'+'ionLayer'](_0x9f0b98)['assignAnim'+'ation'](_0x147e5e,_0x3c628e['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x17c+0x17e2+-0x1665),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x95ce0d=-0x16d2+0x50f+0x11c3*0x1;_0x95ce0d<this['_layers']['length'];_0x95ce0d++){const _0x2d9443=this['_layers'][_0x95ce0d]['playing'];this['_layers'][_0x95ce0d]['reset'](),this['_layers'][_0x95ce0d]['playing']=_0x2d9443;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x5de5e6=>{this['_targets'][_0x5de5e6]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x2f21ee=0xfb6+-0x4af+-0xb07;_0x2f21ee<this['_layers']['length'];_0x2f21ee++)this['_layers'][_0x2f21ee]['rebind']();}['findAnimat'+'ionLayer'](_0x363017){const _0x1eaec8=this['_layerIndi'+'ces'][_0x363017];return this['_layers'][_0x1eaec8]||null;}['addAnimati'+'onState'](_0x17ee2a,_0x488629,_0x3b8e1a=0x1*0x404+-0x1*-0x4c7+-0x8ca,_0x545559=!(-0x3a5*0x1+-0xe17+0x11bc),_0x54bca4='Base'){var _0xecd773;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x54bca4,'states':[{'name':'START','speed':0x1},{'name':_0x17ee2a,'speed':_0x3b8e1a,'loop':_0x545559,'defaultState':!(0x1*0x5a9+0xecb+-0x1474)}],'transitions':[{'from':'START','to':_0x17ee2a}]}],'parameters':{}}));const _0x33e747=this['findAnimat'+'ionLayer'](_0x54bca4);_0x33e747?_0x33e747['assignAnim'+'ation'](_0x17ee2a,_0x488629,_0x3b8e1a,_0x545559):(_0xecd773=this['addLayer'](_0x54bca4))==null||_0xecd773['assignAnim'+'ation'](_0x17ee2a,_0x488629,_0x3b8e1a,_0x545559);}['assignAnim'+'ation'](_0x2ac7bd,_0x53abd7,_0x12983b,_0x483143=-0x5+0x870+-0x86a,_0x1fe8da=!(-0x10*-0x33+0x2*-0x131e+0x230c)){if(!this['_stateGrap'+'h']&&_0x2ac7bd['indexOf']('.')===-(0x18f2*-0x1+-0x1*-0x15cd+-0x326*-0x1)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x2ac7bd,'speed':_0x483143,'loop':_0x1fe8da,'defaultState':!(-0x1c08+-0x1af*0x2+0x1f66)}],'transitions':[{'from':'START','to':_0x2ac7bd}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x2ac7bd,_0x53abd7);return;}const _0x1577c2=_0x12983b?this['findAnimat'+'ionLayer'](_0x12983b):this['baseLayer'];if(!_0x1577c2){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x1577c2['assignAnim'+'ation'](_0x2ac7bd,_0x53abd7,_0x483143,_0x1fe8da);}['removeNode'+'Animations'](_0x502d45,_0x22d4cc){const _0x3c8988=_0x22d4cc?this['findAnimat'+'ionLayer'](_0x22d4cc):this['baseLayer'];if(!_0x3c8988){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x3c8988['removeNode'+'Animations'](_0x502d45);}['getParamet'+'erValue'](_0x373e04,_0x212002){const _0x1e3182=this['_parameter'+'s'][_0x373e04];if(_0x1e3182&&_0x1e3182['type']===_0x212002)return _0x1e3182['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x373e04+('\x22\x20of\x20type\x20'+'\x22')+_0x212002+'\x22');}['setParamet'+'erValue'](_0x37848f,_0x4d6099,_0x9bdb36){const _0x331a40=this['_parameter'+'s'][_0x37848f];if(_0x331a40&&_0x331a40['type']===_0x4d6099){_0x331a40['value']=_0x9bdb36;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x37848f+('\x22\x20of\x20type\x20'+'\x22')+_0x4d6099+'\x22');}['getFloat'](_0x87f087){return this['getParamet'+'erValue'](_0x87f087,Q_);}['setFloat'](_0x136984,_0x4af848){this['setParamet'+'erValue'](_0x136984,Q_,_0x4af848);}['getInteger'](_0x41f3db){return this['getParamet'+'erValue'](_0x41f3db,Z_);}['setInteger'](_0x5aedfc,_0x49c943){typeof _0x49c943=='number'&&_0x49c943%(0x49d+-0x1f*-0x53+-0x3*0x4e3)===0x1a48+0x2516+-0x3f5e?this['setParamet'+'erValue'](_0x5aedfc,Z_,_0x49c943):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x5aedfc,_0x49c943);}['getBoolean'](_0x28106b){return this['getParamet'+'erValue'](_0x28106b,J_);}['setBoolean'](_0x265b4f,_0x52d0f0){this['setParamet'+'erValue'](_0x265b4f,J_,!!_0x52d0f0);}['getTrigger'](_0x38a93a){return this['getParamet'+'erValue'](_0x38a93a,ph);}['setTrigger'](_0x5a59a8,_0x57a8f5=!(0x2454+0x6c5+-0x2b18)){this['setParamet'+'erValue'](_0x5a59a8,ph,!(-0x1*-0xbc4+-0x6a5+-0x3*0x1b5)),_0x57a8f5&&this['_consumedT'+'riggers']['add'](_0x5a59a8);}['resetTrigg'+'er'](_0x3d182f){this['setParamet'+'erValue'](_0x3d182f,ph,!(0x133b+0x11*0xe2+0x1*-0x223c));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x119d4e){for(let _0x3f6679=-0x39e+-0x226*0xc+-0x1d66*-0x1;_0x3f6679<this['layers']['length'];_0x3f6679++)this['layers'][_0x3f6679]['update'](_0x119d4e*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x3a3c32=>{this['parameters'][_0x3a3c32]['value']=!(-0x1898+0x1*0x2f+0x186a);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b6fe5,_0x486563){_0x2b6fe5['rootBone']&&_0x486563[_0x2b6fe5['rootBone']['getGuid']()]?this['rootBone']=_0x486563[_0x2b6fe5['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(0x107a+-0x666+0x4*-0x285);}}const tf=['enabled'];class qP extends Xe{constructor(_0x5aa3e2){super(_0x5aa3e2),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x374fbd,_0x4e8d51,_0x1a1aec){super['initialize'+'ComponentD'+'ata'](_0x374fbd,_0x4e8d51,tf);const _0x30449e=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x4e8d51)['forEach'](_0xc11d08=>{_0x30449e['includes'](_0xc11d08)||(_0x374fbd[_0xc11d08]=_0x4e8d51[_0xc11d08]);}),_0x4e8d51['stateGraph']&&(_0x374fbd['stateGraph']=_0x4e8d51['stateGraph'],_0x374fbd['loadStateG'+'raph'](_0x374fbd['stateGraph'])),_0x4e8d51['layers']&&_0x4e8d51['layers']['forEach']((_0x1e2b4d,_0x51906a)=>{_0x1e2b4d['_controlle'+'r']['states']['forEach'](_0xbc537e=>{_0x1e2b4d['_controlle'+'r']['_states'][_0xbc537e]['_animation'+'List']['forEach'](_0x530893=>{if(!_0x530893['animTrack']||_0x530893['animTrack']===Ri['EMPTY']){const _0x405f4d=this['app']['assets']['get'](_0x1e2b4d['_component']['_animation'+'Assets'][_0x1e2b4d['name']+':'+_0x530893['name']]['asset']);_0x405f4d&&!_0x405f4d['loaded']&&_0x405f4d['once']('load',()=>{_0x374fbd['layers'][_0x51906a]['assignAnim'+'ation'](_0x530893['name'],_0x405f4d['resource']);});}else _0x374fbd['layers'][_0x51906a]['assignAnim'+'ation'](_0x530893['name'],_0x530893['animTrack']);});});}),_0x4e8d51['animationA'+'ssets']&&(_0x374fbd['animationA'+'ssets']=Object['assign'](_0x374fbd['animationA'+'ssets'],_0x4e8d51['animationA'+'ssets'])),_0x4e8d51['masks']&&Object['keys'](_0x4e8d51['masks'])['forEach'](_0x12a99e=>{if(_0x374fbd['layers'][_0x12a99e]){const _0x1b5042=_0x4e8d51['masks'][_0x12a99e]['mask'],_0x528d48={};Object['keys'](_0x1b5042)['forEach'](_0x238d0d=>{_0x528d48[decodeURI(_0x238d0d)]=_0x1b5042[_0x238d0d];}),_0x374fbd['layers'][_0x12a99e]['mask']=_0x528d48;}});}['onAnimatio'+'nUpdate'](_0xef9614){const _0x222800=this['store'];for(const _0x4ffa40 in _0x222800)if(_0x222800['hasOwnProp'+'erty'](_0x4ffa40)){const _0x5a6a4a=_0x222800[_0x4ffa40]['entity']['anim'];_0x5a6a4a['data']['enabled']&&_0x5a6a4a['entity']['enabled']&&_0x5a6a4a['playing']&&_0x5a6a4a['update'](_0xef9614);}}['cloneCompo'+'nent'](_0x2a828c,_0x2ce6a6){let _0x406020;(!_0x2a828c['anim']['rootBone']||_0x2a828c['anim']['rootBone']===_0x2a828c)&&(_0x406020={},_0x2a828c['anim']['layers']['forEach']((_0x35857e,_0x1e9aef)=>{if(_0x35857e['mask']){const _0x556767={};Object['keys'](_0x35857e['mask'])['forEach'](_0x23fdaf=>{const _0x42c908=_0x23fdaf['split']('/');_0x42c908['shift']();const _0x5cf71f=[_0x2ce6a6['name'],..._0x42c908]['join']('/');_0x556767[_0x5cf71f]=_0x35857e['mask'][_0x23fdaf];}),_0x406020[_0x1e9aef]={'mask':_0x556767};}}));const _0x343f40={'enabled':_0x2a828c['anim']['enabled'],'stateGraphAsset':_0x2a828c['anim']['stateGraph'+'Asset'],'animationAssets':_0x2a828c['anim']['animationA'+'ssets'],'speed':_0x2a828c['anim']['speed'],'activate':_0x2a828c['anim']['activate'],'playing':_0x2a828c['anim']['playing'],'rootBone':_0x2a828c['anim']['rootBone'],'stateGraph':_0x2a828c['anim']['stateGraph'],'layers':_0x2a828c['anim']['layers'],'layerIndices':_0x2a828c['anim']['layerIndic'+'es'],'parameters':_0x2a828c['anim']['parameters'],'normalizeWeights':_0x2a828c['anim']['normalizeW'+'eights'],'masks':_0x406020};return this['addCompone'+'nt'](_0x2ce6a6,_0x343f40);}['onBeforeRe'+'move'](_0x5ac764,_0x34d8bb){_0x34d8bb['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x31a558=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x31a558);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(-0x5b3*0x1+-0x1afb+-0x20ae*-0x1);}}const J0=['enabled'];class jP extends Xe{constructor(_0x4fc155){super(_0x4fc155),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x4fc155['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x52e101,_0x39d165,_0x55d869){_0x55d869=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x52e101,_0x39d165,_0x55d869);}['onUpdate'](_0x3e9b61){if(this['current']){const _0x54b1e0=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x54b1e0);const _0x33bf06=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x33bf06);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=0x13a6+0x87e+-0x4*0x709,tg=-0x29*0x15+-0x352+0x8*0xd6,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x4f1c0b,_0x1f3475){super(_0x4f1c0b,_0x1f3475),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0x17*0x133+0x2413+0x1*-0x3fa7)),c(this,'_hoveringC'+'ounter',-0x18c5+0x5*-0x3f1+0x2c7a*0x1),c(this,'_isPressed',!(-0x98*-0x41+0x10ca+-0x3761*0x1)),c(this,'_defaultTi'+'nt',new Y(0xa7*0x13+0x1fe1+-0x2c45,0x1f6b*0x1+0x2306+0x4*-0x109c,-0x78d+0x254e+-0x1dc0,-0xd49*0x1+0x2044+0x2b6*-0x7)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x1*0x174d+-0x54*-0x71+-0x3c61),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x13bb+-0x4b8+-0x139*-0x14),this['_hoveringC'+'ounter']=0xad*-0x2f+-0x3*0xa03+0x3dcc,this['_isPressed']=!(0x2571+0x1*0x23a7+-0x4917),this['_defaultTi'+'nt']=new Y(0xdf*0x24+-0x1*-0x4ab+-0x2406,-0x1588*0x1+0x25*0xeb+-0xc6e,-0x1*-0x1f2e+-0xa89+-0x14a4*0x1,-0x1*-0xc5+0x2f7+0xbf*-0x5),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x250d+0x748+0x4ed*-0x9,this['_toggleLif'+'ecycleList'+'eners']('on',_0x4f1c0b));}get['data'](){const _0x2208c1=this['system']['store'][this['entity']['getGuid']()];return _0x2208c1?_0x2208c1['data']:null;}set['enabled'](_0x18c644){this['_setValue']('enabled',_0x18c644);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x5b8d04){this['_setValue']('active',_0x5b8d04);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x13f3a3){if(this['_imageEnti'+'ty']!==_0x13f3a3){const _0x4d7ac6=typeof _0x13f3a3=='string';if(this['_imageEnti'+'ty']&&_0x4d7ac6&&this['_imageEnti'+'ty']['getGuid']()===_0x13f3a3)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x13f3a3 instanceof De?this['_imageEnti'+'ty']=_0x13f3a3:_0x4d7ac6?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x13f3a3)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x4d7ac6&&_0x13f3a3&&(this['data']['imageEntit'+'y']=_0x13f3a3);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x1be8cd){this['_setValue']('hitPadding',_0x1be8cd);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0xa7ff3){this['_setValue']('transition'+'Mode',_0xa7ff3);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x1ed88a){this['_setValue']('hoverTint',_0x1ed88a);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x4d718c){this['_setValue']('pressedTin'+'t',_0x4d718c);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x4ba5ba){this['_setValue']('inactiveTi'+'nt',_0x4ba5ba);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x563942){this['_setValue']('fadeDurati'+'on',_0x563942);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x41b9bf){this['_setValue']('hoverSprit'+'eAsset',_0x41b9bf);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x1f94f2){this['_setValue']('hoverSprit'+'eFrame',_0x1f94f2);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x28176e){this['_setValue']('pressedSpr'+'iteAsset',_0x28176e);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x231556){this['_setValue']('pressedSpr'+'iteFrame',_0x231556);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x5d31b7){this['_setValue']('inactiveSp'+'riteAsset',_0x5d31b7);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x1ea8ad){this['_setValue']('inactiveSp'+'riteFrame',_0x1ea8ad);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x4c0206,_0x531dad){const _0x5325e9=this['data'],_0x3d4625=_0x5325e9[_0x4c0206];_0x5325e9[_0x4c0206]=_0x531dad,this['fire']('set',_0x4c0206,_0x3d4625,_0x531dad);}['_toggleLif'+'ecycleList'+'eners'](_0x2d1b58,_0x73196){var _0xa1d2f9;this[_0x2d1b58]('set_active',this['_onSetActi'+'ve'],this),this[_0x2d1b58]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x2d1b58]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d1b58]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d1b58]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d1b58]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d1b58]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d1b58]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d1b58]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d1b58]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d1b58]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x2d1b58==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0xa1d2f9=this['_evtElemen'+'tAdd'])==null||_0xa1d2f9['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x291c27,_0x3897e2,_0x11b3a5){_0x3897e2!==_0x11b3a5&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x28f21f,_0x281655,_0x4259ed){_0x281655!==_0x4259ed&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x281655),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x182f9c,_0x113f5f,_0x49a657){_0x113f5f!==_0x49a657&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x22896a,_0x1243e0;(_0x22896a=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x22896a['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x1243e0=this['_imageEnti'+'ty'])!=null&&_0x1243e0['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x366678=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x366678['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x366678['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x366678['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x366678['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x366678['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x4a124e,_0x5201aa,_0x2af10d,_0x2b6836,_0x2cec89;(_0x4a124e=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x4a124e['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x5201aa=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x5201aa['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x2af10d=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x2af10d['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x2b6836=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x2b6836['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x2cec89=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x2cec89['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x5a50f9){if(this['entity']['element']){const _0x1ece3d=_0x5a50f9==='on';if(_0x1ece3d&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x5a50f9]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x5a50f9]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x5a50f9]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x5a50f9]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x5a50f9]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x5a50f9]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x5a50f9]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x5a50f9]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x5a50f9]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x5a50f9]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x5a50f9]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x5a50f9]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x5a50f9]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x5a50f9]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x1ece3d;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x207f54;const _0x4bfafd=(_0x207f54=this['_imageEnti'+'ty'])==null?void(-0xd*0x86+-0x1f2e*-0x1+-0x618*0x4):_0x207f54['element'];!_0x4bfafd||_0x4bfafd['type']===_h||(this['_storeDefa'+'ultColor'](_0x4bfafd['color']),this['_storeDefa'+'ultOpacity'](_0x4bfafd['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x4bfafd['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x4bfafd['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x5ae650){this['_defaultTi'+'nt']['r']=_0x5ae650['r'],this['_defaultTi'+'nt']['g']=_0x5ae650['g'],this['_defaultTi'+'nt']['b']=_0x5ae650['b'];}['_storeDefa'+'ultOpacity'](_0x411467){this['_defaultTi'+'nt']['a']=_0x411467;}['_storeDefa'+'ultSpriteA'+'sset'](_0x2ca539){this['_defaultSp'+'riteAsset']=_0x2ca539;}['_storeDefa'+'ultSpriteF'+'rame'](_0x5301f7){this['_defaultSp'+'riteFrame']=_0x5301f7;}['_onSetColo'+'r'](_0x27dae3){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x27dae3),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x87413){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x87413),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x55eff6){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x55eff6),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x467005){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x467005),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x483349){this['_isHoverin'+'g']=!(-0x41d+-0x59*0x1d+0xe32),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x483349);}['_onMouseLe'+'ave'](_0x15d677){this['_isHoverin'+'g']=!(0x1*-0x26dd+0x71*0x1+0x266d),this['_isPressed']=!(-0x3d0*0x4+-0x1475+0x1*0x23b6),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x15d677);}['_onMouseDo'+'wn'](_0xe91907){this['_isPressed']=!(-0x1*-0x1ec5+0x1*-0x239b+0x4d6),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0xe91907);}['_onMouseUp'](_0x248e07){this['_isPressed']=!(0x1*-0x22de+-0x663+0x2942),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x248e07);}['_onTouchSt'+'art'](_0x3c95f0){this['_isPressed']=!(0x1*0x5e1+0x8e*-0x9+-0x1*0xe3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x3c95f0);}['_onTouchEn'+'d'](_0x4aa4da){_0x4aa4da['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x1223*0x1+-0x238d+-0x35b1*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x4aa4da);}['_onTouchLe'+'ave'](_0x48b58e){this['_isPressed']=!(0x1*-0xee5+-0xdee+0x5c4*0x5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x48b58e);}['_onTouchCa'+'ncel'](_0x181ec0){this['_isPressed']=!(-0x1c3e+-0xd*0x243+-0x13a*-0x2f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x181ec0);}['_onSelectS'+'tart'](_0x22a64b){this['_isPressed']=!(-0x8*-0x6b+0x41c+-0x774),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x22a64b);}['_onSelectE'+'nd'](_0xbd37f0){this['_isPressed']=!(0x22b9+-0x179*-0x1+-0x2431),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0xbd37f0);}['_onSelectE'+'nter'](_0x5d8e5e){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x949*-0x3+-0x3*0x3a9+0x1*-0x10df&&(this['_isHoverin'+'g']=!(0x7a0+0x2*0x1262+-0x3b3*0xc),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x5d8e5e);}['_onSelectL'+'eave'](_0x46359c){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x1f95+-0x1999+-0x1*0x5fc&&(this['_isHoverin'+'g']=!(-0xd04+0x19*0x19+0xa94),this['_isPressed']=!(-0x1*-0x2179+-0x1e64+0x4*-0xc5),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x46359c);}['_onClick'](_0x351b19){this['_fireIfAct'+'ive']('click',_0x351b19);}['_fireIfAct'+'ive'](_0x509c55,_0x5c8f0f){this['data']['active']&&this['fire'](_0x509c55,_0x5c8f0f);}['_updateVis'+'ualState'](_0x384ff6){const _0x2fd324=this['_visualSta'+'te'],_0x314acc=this['_determine'+'VisualStat'+'e']();if((_0x2fd324!==_0x314acc||_0x384ff6)&&this['enabled'])switch(this['_visualSta'+'te']=_0x314acc,_0x2fd324===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x2fd324===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x314acc===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x314acc===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x128164=hl[this['_visualSta'+'te']],_0x271201=this[_0x128164];this['_applyTint'](_0x271201);break;}case tg:{const _0x4f4112=cl[this['_visualSta'+'te']],_0xbe3051=dl[this['_visualSta'+'te']],_0xfea302=this[_0x4f4112],_0x120947=this[_0xbe3051];this['_applySpri'+'te'](_0xfea302,_0x120947);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0xe6c+0x2333+-0x14c7));}['_resetToDe'+'faultVisua'+'lState'](_0x22a888){var _0x314e05;if((_0x314e05=this['_imageEnti'+'ty'])!=null&&_0x314e05['element'])switch(_0x22a888){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x38024d,_0x5370ac){var _0x10ca3f;const _0x47200f=(_0x10ca3f=this['_imageEnti'+'ty'])==null?void(0x6*-0x3fa+0x664+0x1178):_0x10ca3f['element'];_0x47200f&&(_0x5370ac=_0x5370ac||0xc77*0x1+0x2411+-0x3088,this['_isApplyin'+'gSprite']=!(0xd01*-0x1+-0x5b1*0x2+0x1863),_0x47200f['spriteAsse'+'t']!==_0x38024d&&(_0x47200f['spriteAsse'+'t']=_0x38024d),_0x47200f['spriteFram'+'e']!==_0x5370ac&&(_0x47200f['spriteFram'+'e']=_0x5370ac),this['_isApplyin'+'gSprite']=!(-0x1e7e+-0x16c9+0x6e*0x7c));}['_applyTint'](_0x53c5ab){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x9e*0x7+-0x1de8+0x28f*0xa?this['_applyTint'+'Immediatel'+'y'](_0x53c5ab):this['_applyTint'+'WithTween'](_0x53c5ab);}['_applyTint'+'Immediatel'+'y'](_0x29114e){var _0x391adf;const _0x462b2b=(_0x391adf=this['_imageEnti'+'ty'])==null?void(-0x2*-0x11ab+-0x2d7*-0xa+-0x1*0x3fbc):_0x391adf['element'];if(!_0x29114e||!_0x462b2b||_0x462b2b['type']===_h)return;const _0x4a4438=sg(_0x29114e);this['_isApplyin'+'gTint']=!(-0x16a2+0x213e+0x1*-0xa9c),_0x4a4438['equals'](_0x462b2b['color'])||(_0x462b2b['color']=_0x4a4438),_0x462b2b['opacity']!==_0x29114e['a']&&(_0x462b2b['opacity']=_0x29114e['a']),this['_isApplyin'+'gTint']=!(-0x957+-0x6dd+0x1035);}['_applyTint'+'WithTween'](_0x2be045){var _0x3fd3db;const _0x1f8ada=(_0x3fd3db=this['_imageEnti'+'ty'])==null?void(0x39+0x12ca+0x9d*-0x1f):_0x3fd3db['element'];if(!_0x2be045||!_0x1f8ada||_0x1f8ada['type']===_h)return;const _0x36c4ad=sg(_0x2be045),_0x4b443f=_0x1f8ada['color'],_0x53e358=_0x1f8ada['opacity'];_0x36c4ad['equals'](_0x4b443f)&&_0x2be045['a']===_0x53e358||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x4b443f['r'],_0x4b443f['g'],_0x4b443f['b'],_0x53e358),'to':_0x2be045['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x4b2c2a=ne()-this['_tweenInfo']['startTime'];let _0x2d28c8=this['fadeDurati'+'on']===0x2301+-0x35*0x8+-0x2159?-0x1*-0xe26+-0x1b51+0x119*0xc:_0x4b2c2a/this['fadeDurati'+'on'];if(_0x2d28c8=N['clamp'](_0x2d28c8,-0x44f+0x16eb+-0x129c*0x1,-0xcd0+-0x1*-0x1d6b+-0x109a),Math['abs'](_0x2d28c8-(-0x129+-0x994+0x32*0x37))>-0x1001*0x1+-0x2444+0x3445*0x1+0.00001){const _0x31d8ec=this['_tweenInfo']['lerpColor'];_0x31d8ec['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x2d28c8),this['_applyTint'+'Immediatel'+'y'](new Y(_0x31d8ec['r'],_0x31d8ec['g'],_0x31d8ec['b'],_0x31d8ec['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x263a+-0x1799+-0x6*-0xa4e),this['_hoveringC'+'ounter']=0x1f7*0x8+0x2c1*0x5+-0x1d7d,this['_isPressed']=!(0x1*-0x142f+0xc91*0x2+0x279*-0x2),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1b06ac,_0x4d4dc2){_0x1b06ac['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x4d4dc2[_0x1b06ac['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x18d6d8){return new Y(_0x18d6d8['r'],_0x18d6d8['g'],_0x18d6d8['b']);}class ZP{constructor(){this['enabled']=!(0x2120+-0x49f+0x1c81*-0x1),this['active']=!(0x455+-0xc58+0x1*0x803),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(-0x885*0x1+-0x8*-0x272+0x101*-0xb+0.75,-0xc48+-0x2638+0x3280+0.75,-0x21*0xcd+0x13a1+0x57*0x14+0.75),this['pressedTin'+'t']=new Y(0x1*0x14d1+-0xf0d*0x1+-0x1ec*0x3+0.5,-0xe82+-0x1f06+-0x16c4*-0x2+0.5,0x2a*-0xa+0x14b0+-0x130c+0.5),this['inactiveTi'+'nt']=new Y(-0xc0c*-0x1+-0x268*0x8+0x734+0.25,0x12ea*-0x1+-0x70b+0x19f5+0.25,-0x1f81+0x1f7e+-0x1*-0x3+0.25),this['fadeDurati'+'on']=0x2*0xffb+-0x115d+-0xe99,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x22e1+0x13a6+-0x4f5*0xb,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x5fb*0x6+-0x4d7+-0x9*0x373,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0xa0b+-0x212f+0x1724;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x36b4a0){super(_0x36b4a0),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x27b7e8,_0x2569a8,_0x25cd69){_0x27b7e8['imageEntit'+'y']=_0x2569a8['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x27b7e8,_0x2569a8,ig);}['onUpdate'](_0x548cbc){const _0x43de90=this['store'];for(const _0x4eb48e in _0x43de90){const _0x191676=_0x43de90[_0x4eb48e]['entity'],_0x1f4c3b=_0x191676['button'];_0x1f4c3b['enabled']&&_0x191676['enabled']&&_0x1f4c3b['onUpdate']();}}['_onRemoveC'+'omponent'](_0x4668b3,_0x16d805){_0x16d805['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x29e060,_0x1e3800){super(_0x29e060,_0x1e3800),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0xd*-0x179+0x1*-0x1ee9+0xbc5*0x1)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x2e4629=this['system']['store'][this['entity']['getGuid']()];return _0x2e4629?_0x2e4629['data']:null;}set['enabled'](_0x14611a){this['_setValue']('enabled',_0x14611a);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x25b073){this['_setValue']('type',_0x25b073);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x474228){this['_setValue']('halfExtent'+'s',_0x474228);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x3ffa78){this['_setValue']('linearOffs'+'et',_0x3ffa78);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x16cf8a){this['_setValue']('angularOff'+'set',_0x16cf8a);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x262ce2){this['_setValue']('radius',_0x262ce2);}get['radius'](){return this['data']['radius'];}set['axis'](_0x18590e){this['_setValue']('axis',_0x18590e);}get['axis'](){return this['data']['axis'];}set['height'](_0x111aba){this['_setValue']('height',_0x111aba);}get['height'](){return this['data']['height'];}set['asset'](_0x2b0b93){this['_setValue']('asset',_0x2b0b93);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x4bd37e){this['_setValue']('renderAsse'+'t',_0x4bd37e);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x4ecda2){this['_setValue']('convexHull',_0x4ecda2);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x2d191a){this['_setValue']('shape',_0x2d191a);}get['shape'](){return this['data']['shape'];}set['model'](_0x4941ab){this['_setValue']('model',_0x4941ab);}get['model'](){return this['data']['model'];}set['render'](_0x58e3ab){this['_setValue']('render',_0x58e3ab);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x3f3060){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x3f3060);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x1e1ef5,_0x5644a4){const _0x301f82=this['data'],_0x2ca023=_0x301f82[_0x1e1ef5];_0x301f82[_0x1e1ef5]=_0x5644a4,this['fire']('set',_0x1e1ef5,_0x2ca023,_0x5644a4);}['onSetType'](_0x509125,_0x5a8e27,_0x531401){_0x5a8e27!==_0x531401&&this['system']['changeType'](this,_0x5a8e27,_0x531401);}['onSetHalfE'+'xtents'](_0x22ca90,_0x1f9f45,_0x19636e){const _0x4737e4=this['data']['type'];this['data']['initialize'+'d']&&_0x4737e4==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x3b2de9,_0x4e7d7f,_0x35af3a){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x5ee774,_0x3430f6,_0x21005d){const _0x6e25c9=this['data']['type'];this['data']['initialize'+'d']&&(_0x6e25c9==='sphere'||_0x6e25c9==='capsule'||_0x6e25c9==='cylinder'||_0x6e25c9==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x72f7f,_0x56ad57,_0x309edd){const _0x21afeb=this['data']['type'];this['data']['initialize'+'d']&&(_0x21afeb==='capsule'||_0x21afeb==='cylinder'||_0x21afeb==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x46a5e4,_0x5f8384,_0x357575){const _0x236e2f=this['data']['type'];this['data']['initialize'+'d']&&(_0x236e2f==='capsule'||_0x236e2f==='cylinder'||_0x236e2f==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x46adc7,_0x4fec78,_0x4e5461){const _0x670898=this['system']['app']['assets'];if(_0x4fec78){const _0x36fecf=_0x670898['get'](_0x4fec78);_0x36fecf&&_0x36fecf['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x4e5461){_0x4e5461 instanceof le&&(this['data']['asset']=_0x4e5461['id']);const _0x4f3bff=_0x670898['get'](this['data']['asset']);_0x4f3bff&&(_0x4f3bff['off']('remove',this['onAssetRem'+'oved'],this),_0x4f3bff['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x4e5461||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x24a5be,_0x392791,_0x2ccfa3){const _0x519d32=this['system']['app']['assets'];if(_0x392791){const _0x29b5aa=_0x519d32['get'](_0x392791);_0x29b5aa&&_0x29b5aa['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x2ccfa3){_0x2ccfa3 instanceof le&&(this['data']['renderAsse'+'t']=_0x2ccfa3['id']);const _0x303dfe=_0x519d32['get'](this['data']['renderAsse'+'t']);_0x303dfe&&(_0x303dfe['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x303dfe['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x2ccfa3||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x5f1e30,_0x3e8eb5,_0x223326){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x2aae54,_0x4d079d,_0x3f5599){this['onSetModel'](_0x2aae54,_0x4d079d,_0x3f5599);}['onAssetRem'+'oved'](_0x8cda8e){_0x8cda8e['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x8cda8e['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x59b666){_0x59b666['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x59b666['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x508d9a){const _0x23dc2b=this['data']['shape'],_0x553cf9=_0x23dc2b['getNumChil'+'dShapes']();for(let _0x20d544=0x1*0xae5+0x2011*0x1+-0x2af6;_0x20d544<_0x553cf9;_0x20d544++){const _0x2b1135=_0x23dc2b['getChildSh'+'ape'](_0x20d544);if(Ammo['getPointer'](_0x2b1135)===Ammo['getPointer'](_0x508d9a))return _0x20d544;}return null;}['_onInsert'](_0x69b644){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x4c734f=this['entity']['parent'];for(;_0x4c734f;){if(_0x4c734f['collision']&&_0x4c734f['collision']['type']==='compound'){_0x4c734f['collision']['shape']['getNumChil'+'dShapes']()===0x1d5d+-0x6a3+-0x16ba?this['system']['recreatePh'+'ysicalShap'+'es'](_0x4c734f['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x4c734f=_0x4c734f['parent'];}}}}}['_updateCom'+'pound'](){const _0x3a6be9=this['entity'];if(_0x3a6be9['_dirtyWorl'+'d']){let _0x118e08=_0x3a6be9['_dirtyLoca'+'l'],_0x584bfc=_0x3a6be9;for(;_0x584bfc&&!_0x118e08&&!(_0x584bfc['collision']&&_0x584bfc['collision']===this['_compoundP'+'arent']);)_0x584bfc['_dirtyLoca'+'l']&&(_0x118e08=!(0x2*0xfac+0x23fd+-0x4355)),_0x584bfc=_0x584bfc['parent'];if(_0x118e08){_0x3a6be9['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x3a6be9);const _0x4df8cc=this['_compoundP'+'arent']['entity']['rigidbody'];_0x4df8cc&&_0x4df8cc['activate']();}}}['getShapePo'+'sition'](){const _0x53c7e3=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x1a17ba=this['entity']['getRotatio'+'n'](),_0x45e1a8=this['data']['linearOffs'+'et'];return ng['copy'](_0x1a17ba)['transformV'+'ector'](_0x45e1a8,rg),rg['add'](_0x53c7e3);}return _0x53c7e3;}['getShapeRo'+'tation'](){const _0x5b44a2=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x5b44a2)['mul'](this['data']['angularOff'+'set']):_0x5b44a2;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x768cc1=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x768cc1&&(!_0x768cc1['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1f9c+0x2303+-0x367)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x35691f=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x35691f,this['data']['shape']),Ammo['destroy'](_0x35691f),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(-0x2*-0x11f2+0x1a15+0xc65*-0x5),this['type']='box',this['halfExtent'+'s']=new T(-0x2*-0x17f+-0x349+0x4b+0.5,0x1*0xe56+0x8b*0x1+-0xd*0x125+0.5,-0x673*0x2+0x18e9+-0xc03+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=0xf*0x101+0x18a9+-0x27b8+0.5,this['axis']=-0x701+-0x1*0x75a+-0x397*-0x4,this['height']=-0x1c44+0x1*-0xe16+0x2a5c,this['convexHull']=!(0x17fe+0xb00+-0x22fd),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x844*0x4+0x1*-0xb29+-0x2c39*-0x1),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0xc05+-0x11a8+-0xed7*-0x2);}}const so='static',ms='dynamic',Bn='kinematic',eR=-0x1019+0x1f1+0x715*0x2,lo=0x9b2+-0xee2+0x534,nf=0x270a+-0x43f*-0x8+0xb*-0x6a3,ag=-0x949*-0x2+-0x1494+0x206,tx=-0xa13+-0x347+-0xd5f*-0x1,tR=-0x1163*0x1+-0x197c+-0xe*-0x310,og=-0x7*0x1c9+-0x25ce+-0x324f*-0x1,sR=0x1f09*-0x1+0x194e+0x1*0x5bf,lg=0x264b+0x64e+0x1*-0x2c89,hg=-0x142d1+0x219d+-0x1*-0x22133,af=-0x18f9d*-0x1+-0x7c6c+0x1*-0x1334;let _s,Er,Nn;class sx{constructor(_0x56b382,_0x57bf63,_0x2326b8){this['entity']=_0x57bf63['entity'],this['component']=_0x57bf63,this['app']=_0x56b382,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x2326b8);}['initialize'](_0x173586){const _0x449571=this['entity'],_0x5bd496=_0x173586['shape'];if(_0x5bd496&&typeof Ammo<'u'){_0x449571['trigger']&&_0x449571['trigger']['destroy']();const _0x5104a1=0x17f*0xf+0x1acb+-0x1*0x313b,_0x41d13a=this['component'];if(_0x41d13a){const _0x14e2f6=_0x41d13a['getShapePo'+'sition'](),_0x555da4=_0x41d13a['getShapeRo'+'tation']();_s['setValue'](_0x14e2f6['x'],_0x14e2f6['y'],_0x14e2f6['z']),Er['setValue'](_0x555da4['x'],_0x555da4['y'],_0x555da4['z'],_0x555da4['w']);}else{const _0x365efa=_0x449571['getPositio'+'n'](),_0xe2ebfd=_0x449571['getRotatio'+'n']();_s['setValue'](_0x365efa['x'],_0x365efa['y'],_0x365efa['z']),Er['setValue'](_0xe2ebfd['x'],_0xe2ebfd['y'],_0xe2ebfd['z'],_0xe2ebfd['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x173611=this['app']['systems']['rigidbody']['createBody'](_0x5104a1,_0x5bd496,Nn);_0x173611['setRestitu'+'tion'](0xaea+-0x3cf+0x1*-0x71b),_0x173611['setFrictio'+'n'](-0x1094+-0x10d*-0x7+0x939),_0x173611['setDamping'](-0x250b+-0x13d2+0x38dd,-0x24db+0x146e+-0x1*-0x106d),_s['setValue'](-0x181*0x11+-0x22ad+0x3c3e,-0x7cd+-0x206c+0x2839,-0x1e6a+0x12ab+0xbbf),_0x173611['setLinearF'+'actor'](_s),_0x173611['setAngular'+'Factor'](_s),_0x173611['setCollisi'+'onFlags'](_0x173611['getCollisi'+'onFlags']()|lo),_0x173611['entity']=_0x449571,this['body']=_0x173611,this['component']['enabled']&&_0x449571['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x2277c3){const _0x359e7e=this['component'];if(_0x359e7e){const _0x28a052=_0x359e7e['getShapePo'+'sition'](),_0xc0c88f=_0x359e7e['getShapeRo'+'tation']();_s['setValue'](_0x28a052['x'],_0x28a052['y'],_0x28a052['z']),Er['setValue'](_0xc0c88f['x'],_0xc0c88f['y'],_0xc0c88f['z'],_0xc0c88f['w']);}else{const _0x211275=this['entity']['getPositio'+'n'](),_0x1bf664=this['entity']['getRotatio'+'n']();_s['setValue'](_0x211275['x'],_0x211275['y'],_0x211275['z']),Er['setValue'](_0x1bf664['x'],_0x1bf664['y'],_0x1bf664['z'],_0x1bf664['w']);}_0x2277c3['setOrigin'](_s),_0x2277c3['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x44be56=this['body'];_0x44be56['setWorldTr'+'ansform'](Nn),_0x44be56['activate']();}['enable'](){const _0x18772f=this['body'];if(!_0x18772f)return;const _0x1c53d4=this['app']['systems']['rigidbody'];_0x1c53d4['_triggers']['indexOf'](this)<0x1bde+-0x257+-0x1987&&(_0x1c53d4['addBody'](_0x18772f,lg,af^lg),_0x1c53d4['_triggers']['push'](this)),_0x18772f['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x195c9c=this['body'];if(!_0x195c9c)return;const _0x47e7af=this['app']['systems']['rigidbody'],_0x199146=_0x47e7af['_triggers']['indexOf'](this);_0x199146>-(0x1*0x22bf+-0x2489+0x1cb)&&(_0x47e7af['removeBody'](_0x195c9c),_0x47e7af['_triggers']['splice'](_0x199146,-0x1c79+0x113a+0x168*0x8)),_0x195c9c['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0xb61ad4){this['system']=_0xb61ad4;}['beforeInit'+'ialize'](_0x565e4d,_0xbb99ef){_0xbb99ef['shape']=null,_0xbb99ef['model']=new Oi(),_0xbb99ef['model']['graph']=new De();}['afterIniti'+'alize'](_0x216079,_0x3398cf){this['recreatePh'+'ysicalShap'+'es'](_0x216079),_0x216079['data']['initialize'+'d']=!(-0x19bc+-0x1*0x1b61+0x351d);}['reset'](_0x4ceb15,_0x1610a6){this['beforeInit'+'ialize'](_0x4ceb15,_0x1610a6),this['afterIniti'+'alize'](_0x4ceb15,_0x1610a6);}['recreatePh'+'ysicalShap'+'es'](_0x49f8ca){const _0xad05b4=_0x49f8ca['entity'],_0x5a7031=_0x49f8ca['data'];if(typeof Ammo<'u'){_0xad05b4['trigger']&&(_0xad05b4['trigger']['destroy'](),delete _0xad05b4['trigger']),_0x5a7031['shape']&&(_0x49f8ca['_compoundP'+'arent']&&(_0x49f8ca!==_0x49f8ca['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x49f8ca['_compoundP'+'arent'],_0x5a7031['shape']),_0x49f8ca['_compoundP'+'arent']['entity']['rigidbody']&&_0x49f8ca['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x5a7031)),_0x5a7031['shape']=this['createPhys'+'icalShape'](_0x49f8ca['entity'],_0x5a7031);const _0x2398e9=!_0x49f8ca['_compoundP'+'arent'];if(_0x5a7031['type']==='compound'&&(!_0x49f8ca['_compoundP'+'arent']||_0x49f8ca===_0x49f8ca['_compoundP'+'arent']))_0x49f8ca['_compoundP'+'arent']=_0x49f8ca,_0xad05b4['forEach'](this['_addEachDe'+'scendant'],_0x49f8ca);else{if(_0x5a7031['type']!=='compound'&&!_0x49f8ca['rigidbody']){_0x49f8ca['_compoundP'+'arent']=null;let _0x6a75cd=_0xad05b4['parent'];for(;_0x6a75cd;){if(_0x6a75cd['collision']&&_0x6a75cd['collision']['type']==='compound'){_0x49f8ca['_compoundP'+'arent']=_0x6a75cd['collision'];break;}_0x6a75cd=_0x6a75cd['parent'];}}}_0x49f8ca['_compoundP'+'arent']&&_0x49f8ca!==_0x49f8ca['_compoundP'+'arent']&&(_0x2398e9&&_0x49f8ca['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1*0x1bfb+-0x3*-0xcf7+0x1*-0xaea?this['system']['recreatePh'+'ysicalShap'+'es'](_0x49f8ca['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0xad05b4,!(-0x2217*-0x1+-0x266*-0x9+-0x128f*0x3)),_0x49f8ca['_compoundP'+'arent']['entity']['rigidbody']&&_0x49f8ca['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0xad05b4['rigidbody']?(_0xad05b4['rigidbody']['disableSim'+'ulation'](),_0xad05b4['rigidbody']['createBody'](),_0xad05b4['enabled']&&_0xad05b4['rigidbody']['enabled']&&_0xad05b4['rigidbody']['enableSimu'+'lation']()):_0x49f8ca['_compoundP'+'arent']||(_0xad05b4['trigger']?_0xad05b4['trigger']['initialize'](_0x5a7031):_0xad05b4['trigger']=new sx(this['system']['app'],_0x49f8ca,_0x5a7031));}}['createPhys'+'icalShape'](_0x684bcd,_0x365c2e){}['updateTran'+'sform'](_0x18f8b2,_0x5b4dc2,_0x572921,_0x1db27a){_0x18f8b2['entity']['trigger']&&_0x18f8b2['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x30cbc0){_0x30cbc0['shape']&&(Ammo['destroy'](_0x30cbc0['shape']),_0x30cbc0['shape']=null);}['beforeRemo'+'ve'](_0x6be783,_0x5027ac){_0x5027ac['data']['shape']&&(_0x5027ac['_compoundP'+'arent']&&!_0x5027ac['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x5027ac['_compoundP'+'arent'],_0x5027ac['data']['shape']),_0x5027ac['_compoundP'+'arent']['entity']['rigidbody']&&_0x5027ac['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x5027ac['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x5027ac['data']));}['remove'](_0x21ce7e,_0x3082aa){_0x21ce7e['rigidbody']&&_0x21ce7e['rigidbody']['body']&&_0x21ce7e['rigidbody']['disableSim'+'ulation'](),_0x21ce7e['trigger']&&(_0x21ce7e['trigger']['destroy'](),delete _0x21ce7e['trigger']);}['clone'](_0x5040eb,_0x25a1fc){const _0x4c5648=this['system']['store'][_0x5040eb['getGuid']()],_0x3a108b={'enabled':_0x4c5648['data']['enabled'],'type':_0x4c5648['data']['type'],'halfExtents':[_0x4c5648['data']['halfExtent'+'s']['x'],_0x4c5648['data']['halfExtent'+'s']['y'],_0x4c5648['data']['halfExtent'+'s']['z']],'linearOffset':[_0x4c5648['data']['linearOffs'+'et']['x'],_0x4c5648['data']['linearOffs'+'et']['y'],_0x4c5648['data']['linearOffs'+'et']['z']],'angularOffset':[_0x4c5648['data']['angularOff'+'set']['x'],_0x4c5648['data']['angularOff'+'set']['y'],_0x4c5648['data']['angularOff'+'set']['z'],_0x4c5648['data']['angularOff'+'set']['w']],'radius':_0x4c5648['data']['radius'],'axis':_0x4c5648['data']['axis'],'height':_0x4c5648['data']['height'],'convexHull':_0x4c5648['data']['convexHull'],'asset':_0x4c5648['data']['asset'],'renderAsset':_0x4c5648['data']['renderAsse'+'t'],'model':_0x4c5648['data']['model'],'render':_0x4c5648['data']['render'],'checkVertexDuplicates':_0x4c5648['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x25a1fc,_0x3a108b);}}class aR extends xn{['createPhys'+'icalShape'](_0x29e92f,_0x1c765c){if(typeof Ammo<'u'){const _0x373c5d=_0x1c765c['halfExtent'+'s'],_0x452ba3=new Ammo['btVector3'](_0x373c5d?_0x373c5d['x']:-0x1802+-0x8*0x48a+0x3c52+0.5,_0x373c5d?_0x373c5d['y']:0x113*-0x7+-0xc56+0x12b*0x11+0.5,_0x373c5d?_0x373c5d['z']:-0x27a*0xf+-0x11*0x46+0x5*0x85c+0.5),_0x20c7b2=new Ammo['btBoxShape'](_0x452ba3);return Ammo['destroy'](_0x452ba3),_0x20c7b2;}}}class oR extends xn{['createPhys'+'icalShape'](_0xecced6,_0x270ae1){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x270ae1['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x379524,_0x326973){const _0x10b95d=_0x326973['axis']??0x1419+-0xad2+-0x946,_0x17cfe0=_0x326973['radius']??0x831+0xa36*-0x3+0x1671+0.5,_0x3bca72=Math['max']((_0x326973['height']??0x1a8a+0x2419+0x3ea1*-0x1)-(0x9bc+0x1ab1+0x1*-0x246b)*_0x17cfe0,0x1ed6*0x1+-0x19*-0x16f+-0x42ad);let _0x5eab4d=null;if(typeof Ammo<'u')switch(_0x10b95d){case 0x99*-0x1+0x216*0x4+0x7bf*-0x1:_0x5eab4d=new Ammo['btCapsuleS'+'hapeX'](_0x17cfe0,_0x3bca72);break;case 0x26e4+-0x1*0xbb0+-0x1b33:_0x5eab4d=new Ammo['btCapsuleS'+'hape'](_0x17cfe0,_0x3bca72);break;case 0xe4*-0x1+0x1c19+-0x1b33:_0x5eab4d=new Ammo['btCapsuleS'+'hapeZ'](_0x17cfe0,_0x3bca72);break;}return _0x5eab4d;}}class hR extends xn{['createPhys'+'icalShape'](_0x1108ef,_0x29955d){const _0x5e2f0e=_0x29955d['axis']??0x2160+0x1844+-0x39a3,_0x5b00c3=_0x29955d['radius']??-0x1c32+-0x3*0x7f0+-0x3402*-0x1+0.5,_0x262469=_0x29955d['height']??-0x12a9+-0x1f6*0x3+-0x188c*-0x1;let _0x338f45=null,_0x25d4fe=null;if(typeof Ammo<'u')switch(_0x5e2f0e){case 0x3*0x4a+0x123*0x1d+-0x21d5:_0x338f45=new Ammo['btVector3'](_0x262469*(0x2*0xf33+0x1*-0xc41+-0x1225+0.5),_0x5b00c3,_0x5b00c3),_0x25d4fe=new Ammo['btCylinder'+'ShapeX'](_0x338f45);break;case-0x22f3+-0x4fa+-0x1*-0x27ee:_0x338f45=new Ammo['btVector3'](_0x5b00c3,_0x262469*(-0x10e1*0x1+-0x4fb+-0x4*-0x577+0.5),_0x5b00c3),_0x25d4fe=new Ammo['btCylinder'+'Shape'](_0x338f45);break;case 0x119*-0x23+0x1*0x102f+0x49*0x4e:_0x338f45=new Ammo['btVector3'](_0x5b00c3,_0x5b00c3,_0x262469*(-0x24*-0xdd+0x1877*0x1+-0x378b+0.5)),_0x25d4fe=new Ammo['btCylinder'+'ShapeZ'](_0x338f45);break;}return _0x338f45&&Ammo['destroy'](_0x338f45),_0x25d4fe;}}class cR extends xn{['createPhys'+'icalShape'](_0x2e7d96,_0x481fba){const _0x52cd8a=_0x481fba['axis']??0x213e+-0x22c2+-0x1*-0x185,_0x568471=_0x481fba['radius']??-0x12e8+-0x3*-0x2e7+-0x175*-0x7+0.5,_0x1f522a=_0x481fba['height']??-0xdf*0x2b+0x8cc+0x1caa;let _0x3a1dd5=null;if(typeof Ammo<'u')switch(_0x52cd8a){case-0x11*0x1cd+-0x3*0x657+0x31a2:_0x3a1dd5=new Ammo['btConeShap'+'eX'](_0x568471,_0x1f522a);break;case 0x120*0x10+0x4*0x4e0+-0x257f:_0x3a1dd5=new Ammo['btConeShap'+'e'](_0x568471,_0x1f522a);break;case 0x21bc+0x110b+-0x32c5:_0x3a1dd5=new Ammo['btConeShap'+'eZ'](_0x568471,_0x1f522a);break;}return _0x3a1dd5;}}class dR extends xn{['beforeInit'+'ialize'](_0x5f4a19,_0x1965f9){}['createAmmo'+'Hull'](_0x3ef29a,_0x557fc4,_0xbbdd97,_0x55b878){const _0x14fff9=new Ammo['btConvexHu'+'llShape'](),_0x4896e3=new Ammo['btVector3'](),_0x3ceb1c=[];_0x3ef29a['getPositio'+'ns'](_0x3ceb1c);for(let _0x168e6e=-0x21c6+-0x535+-0x26fb*-0x1;_0x168e6e<_0x3ceb1c['length'];_0x168e6e+=0x1aa8+0x2249+-0x3cee)_0x4896e3['setValue'](_0x3ceb1c[_0x168e6e]*_0x55b878['x'],_0x3ceb1c[_0x168e6e+(-0x7e3+0x11bd*0x1+-0x9d9*0x1)]*_0x55b878['y'],_0x3ceb1c[_0x168e6e+(0x1e43*0x1+-0x139+-0x1d08)]*_0x55b878['z']),_0x14fff9['addPoint'](_0x4896e3,!(-0x1a4e+0x4*-0x9b8+-0x1*-0x412f));Ammo['destroy'](_0x4896e3),_0x14fff9['recalcLoca'+'lAabb'](),_0x14fff9['setMargin'](0x1*0x3a9+-0x35*-0x22+-0xab3+0.01);const _0xc29325=this['system']['_getNodeTr'+'ansform'](_0x557fc4);_0xbbdd97['addChildSh'+'ape'](_0xc29325,_0x14fff9),Ammo['destroy'](_0xc29325);}['createAmmo'+'Mesh'](_0x219889,_0x2ce5b3,_0x30056c,_0x55946c,_0x477210=!(-0x4*-0x96e+0x1*0x26f9+0x1*-0x4cb1)){const _0x2ddb1c=this['system'];let _0x132ef8;if(_0x2ddb1c['_triMeshCa'+'che'][_0x219889['id']])_0x132ef8=_0x2ddb1c['_triMeshCa'+'che'][_0x219889['id']];else{const _0x15b47e=_0x219889['vertexBuff'+'er'],_0x333920=_0x15b47e['getFormat']();let _0x2f481d,_0x56092e;for(let _0x15a041=-0x7d7+0x1581+0x9f*-0x16;_0x15a041<_0x333920['elements']['length'];_0x15a041++){const _0x2cf03d=_0x333920['elements'][_0x15a041];if(_0x2cf03d['name']===He){_0x56092e=new Float32Array(_0x15b47e['lock'](),_0x2cf03d['offset']),_0x2f481d=_0x2cf03d['stride']/(0xeaf+-0x11f+0xd8c*-0x1);break;}}const _0x13fb35=[];_0x219889['getIndices'](_0x13fb35);const _0x586538=_0x219889['primitive'][0x7cd*-0x3+-0x80f*0x1+0x1*0x1f76]['count']/(0x21f*0x1+-0x7*0x2af+0x1*0x10ad),_0x3b2f87=new Ammo['btVector3']();let _0xf5c96b,_0x2fe568,_0x266d8a;const _0x24ac88=_0x219889['primitive'][0x1681+0x1*-0x17ff+0x17e]['base'];_0x132ef8=new Ammo['btTriangle'+'Mesh'](),_0x2ddb1c['_triMeshCa'+'che'][_0x219889['id']]=_0x132ef8;const _0x36d9ce=new Map();v['assert'](typeof _0x132ef8['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x34c5fa=_0x132ef8['getIndexed'+'MeshArray']();_0x34c5fa['at'](-0x4be+-0x986+0x4*0x391)['m_numTrian'+'gles']=_0x586538;const _0x52ea37=_0x55946c?_0x55946c['x']:-0x2*-0x28+-0x60d*0x3+-0x23b*-0x8,_0x1eaa4e=_0x55946c?_0x55946c['y']:0x2fa*-0x1+0x2*-0xce3+0x1b1*0x11,_0x8e50fc=_0x55946c?_0x55946c['z']:-0xc52+-0x1*-0xe41+-0x1ee,_0x265f25=_0x579ebb=>{const _0x3660fb=_0x56092e[_0x579ebb*_0x2f481d]*_0x52ea37,_0x53a18e=_0x56092e[_0x579ebb*_0x2f481d+(-0xeaa+-0x1f38+0x2de3)]*_0x1eaa4e,_0x23c9a9=_0x56092e[_0x579ebb*_0x2f481d+(0x152d+0x4eb*0x3+-0x23ec)]*_0x8e50fc;let _0x21683f;if(_0x477210){const _0x48c915=_0x3660fb+':'+_0x53a18e+':'+_0x23c9a9;if(_0x21683f=_0x36d9ce['get'](_0x48c915),_0x21683f!==void(0x21b4+-0x1*0x1835+-0x97f))return _0x21683f;_0x3b2f87['setValue'](_0x3660fb,_0x53a18e,_0x23c9a9),_0x21683f=_0x132ef8['findOrAddV'+'ertex'](_0x3b2f87,!(-0x1e11+0xb23+0x12ef)),_0x36d9ce['set'](_0x48c915,_0x21683f);}else _0x3b2f87['setValue'](_0x3660fb,_0x53a18e,_0x23c9a9),_0x21683f=_0x132ef8['findOrAddV'+'ertex'](_0x3b2f87,!(0x1*-0x55d+-0x126e+-0x5f3*-0x4));return _0x21683f;};for(let _0x156224=-0xe1*-0x21+-0x1a*-0xec+-0x34f9;_0x156224<_0x586538;_0x156224++)_0xf5c96b=_0x265f25(_0x13fb35[_0x24ac88+_0x156224*(-0xbdd+-0x268a*0x1+-0xef*-0x36)]),_0x2fe568=_0x265f25(_0x13fb35[_0x24ac88+_0x156224*(-0x481+-0xa*0x8f+0xa1a)+(-0x3cc+-0x29*-0xbf+-0x36*0x7f)]),_0x266d8a=_0x265f25(_0x13fb35[_0x24ac88+_0x156224*(-0x16d*0x6+-0x194+0xa25)+(-0x1*0x1dcf+-0x262f+0x11*0x400)]),_0x132ef8['addIndex'](_0xf5c96b),_0x132ef8['addIndex'](_0x2fe568),_0x132ef8['addIndex'](_0x266d8a);Ammo['destroy'](_0x3b2f87);}const _0x107fdc=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x132ef8,!(0x15d*0x11+0x1a71+0x319e*-0x1));if(!_0x55946c){const _0x2e93f7=_0x2ddb1c['_getNodeSc'+'aling'](_0x2ce5b3);_0x107fdc['setLocalSc'+'aling'](_0x2e93f7),Ammo['destroy'](_0x2e93f7);}const _0x3e53d1=_0x2ddb1c['_getNodeTr'+'ansform'](_0x2ce5b3);_0x30056c['addChildSh'+'ape'](_0x3e53d1,_0x107fdc),Ammo['destroy'](_0x3e53d1);}['createPhys'+'icalShape'](_0x57051b,_0x3afe3c){if(!(typeof Ammo>'u')&&(_0x3afe3c['model']||_0x3afe3c['render'])){const _0x4bcec4=new Ammo['btCompound'+'Shape'](),_0x5a71c7=_0x57051b['getWorldTr'+'ansform']()['getScale']();if(_0x3afe3c['render']){const _0x31566d=_0x3afe3c['render']['meshes'];for(let _0x12281a=0x1*-0x98d+-0x694+-0x1*-0x1021;_0x12281a<_0x31566d['length'];_0x12281a++)_0x3afe3c['convexHull']?this['createAmmo'+'Hull'](_0x31566d[_0x12281a],cg,_0x4bcec4,_0x5a71c7):this['createAmmo'+'Mesh'](_0x31566d[_0x12281a],cg,_0x4bcec4,_0x5a71c7,_0x3afe3c['checkVerte'+'xDuplicate'+'s']);}else{if(_0x3afe3c['model']){const _0x38ffd6=_0x3afe3c['model']['meshInstan'+'ces'];for(let _0x319340=-0x430+0x76e+-0x19f*0x2;_0x319340<_0x38ffd6['length'];_0x319340++)this['createAmmo'+'Mesh'](_0x38ffd6[_0x319340]['mesh'],_0x38ffd6[_0x319340]['node'],_0x4bcec4,null,_0x3afe3c['checkVerte'+'xDuplicate'+'s']);const _0x55d056=new Ammo['btVector3'](_0x5a71c7['x'],_0x5a71c7['y'],_0x5a71c7['z']);_0x4bcec4['setLocalSc'+'aling'](_0x55d056),Ammo['destroy'](_0x55d056);}}return _0x4bcec4;}}['recreatePh'+'ysicalShap'+'es'](_0x4a5f1f){const _0x3979b4=_0x4a5f1f['data'];if((_0x3979b4['renderAsse'+'t']||_0x3979b4['asset'])&&_0x4a5f1f['enabled']&&_0x4a5f1f['entity']['enabled']){this['loadAsset'](_0x4a5f1f,_0x3979b4['renderAsse'+'t']||_0x3979b4['asset'],_0x3979b4['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x4a5f1f);}['loadAsset'](_0x54db5a,_0x1a568b,_0x5ced7b){const _0x386412=_0x54db5a['data'],_0x38c4b5=this['system']['app']['assets'],_0xc1c0e5=_0x386412[_0x5ced7b],_0x55fb99=_0xbaa192=>{_0x386412[_0x5ced7b]===_0xc1c0e5&&(_0x386412[_0x5ced7b]=_0xbaa192['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x54db5a));},_0x25b58e=_0x6fd492=>{_0x6fd492['ready'](_0x242f5a=>{if(_0x242f5a['data']['containerA'+'sset']){const _0xcd345c=_0x38c4b5['get'](_0x242f5a['data']['containerA'+'sset']);_0xcd345c['loaded']?_0x55fb99(_0x242f5a):(_0xcd345c['ready'](()=>{_0x55fb99(_0x242f5a);}),_0x38c4b5['load'](_0xcd345c));}else _0x55fb99(_0x242f5a);}),_0x38c4b5['load'](_0x6fd492);},_0x263c48=_0x38c4b5['get'](_0x1a568b);_0x263c48?_0x25b58e(_0x263c48):_0x38c4b5['once']('add:'+_0x1a568b,_0x25b58e);}['doRecreate'+'PhysicalSh'+'ape'](_0x2e3b5b){const _0x43ee40=_0x2e3b5b['entity'],_0x1486d6=_0x2e3b5b['data'];_0x1486d6['model']||_0x1486d6['render']?(this['destroySha'+'pe'](_0x1486d6),_0x1486d6['shape']=this['createPhys'+'icalShape'](_0x43ee40,_0x1486d6),_0x43ee40['rigidbody']?(_0x43ee40['rigidbody']['disableSim'+'ulation'](),_0x43ee40['rigidbody']['createBody'](),_0x43ee40['enabled']&&_0x43ee40['rigidbody']['enabled']&&_0x43ee40['rigidbody']['enableSimu'+'lation']()):_0x43ee40['trigger']?_0x43ee40['trigger']['initialize'](_0x1486d6):_0x43ee40['trigger']=new sx(this['system']['app'],_0x2e3b5b,_0x1486d6)):(this['beforeRemo'+'ve'](_0x43ee40,_0x2e3b5b),this['remove'](_0x43ee40,_0x1486d6));}['updateTran'+'sform'](_0x203bce,_0x21a787,_0x324f99,_0xcd7284){if(_0x203bce['shape']){const _0x1524a3=_0x203bce['entity']['getWorldTr'+'ansform']()['getScale'](),_0x1eed3c=_0x203bce['shape']['getLocalSc'+'aling']();(_0x1524a3['x']!==_0x1eed3c['x']()||_0x1524a3['y']!==_0x1eed3c['y']()||_0x1524a3['z']!==_0x1eed3c['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x203bce);}super['updateTran'+'sform'](_0x203bce,_0x21a787,_0x324f99,_0xcd7284);}['destroySha'+'pe'](_0x2ac5df){if(!_0x2ac5df['shape'])return;const _0x93bae9=_0x2ac5df['shape']['getNumChil'+'dShapes']();for(let _0x6233a1=0x1c3c+0xc7*0x3+-0x19*0x139;_0x6233a1<_0x93bae9;_0x6233a1++){const _0x58ed07=_0x2ac5df['shape']['getChildSh'+'ape'](_0x6233a1);Ammo['destroy'](_0x58ed07);}Ammo['destroy'](_0x2ac5df['shape']),_0x2ac5df['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x43a041,_0x4d2abe){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x199be1){!_0x199be1['collision']||_0x199be1['rigidbody']||(_0x199be1['collision']['_compoundP'+'arent']=this,_0x199be1!==this['entity']&&_0x199be1['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x199be1['collision']));}['_updateEac'+'hDescendan'+'t'](_0x5128fe){_0x5128fe['collision']&&_0x5128fe['collision']['_compoundP'+'arent']===this&&(_0x5128fe['collision']['_compoundP'+'arent']=null,_0x5128fe!==this['entity']&&!_0x5128fe['rigidbody']&&_0x5128fe['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x5128fe['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x4d9475){!_0x4d9475['collision']||_0x4d9475['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x4d9475,!(0x14e2+0x7*0x295+-0x26f4));}}class fR extends Xe{constructor(_0x174d74){super(_0x174d74),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5cfaae,_0x420af0,_0x1af26f){_0x1af26f=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x26a646={};for(let _0x524840=0x222e+-0xf8b+0x12a3*-0x1,_0x242955=_0x1af26f['length'];_0x524840<_0x242955;_0x524840++){const _0x548305=_0x1af26f[_0x524840];_0x26a646[_0x548305]=_0x420af0[_0x548305];}let _0xfc6e6c;if(_0x420af0['hasOwnProp'+'erty']('asset')?(_0xfc6e6c=_0x1af26f['indexOf']('model'),_0xfc6e6c!==-(-0x1791+0x7*0x400+-0x46e)&&_0x1af26f['splice'](_0xfc6e6c,0x16fe+0x15c5+-0x2*0x1661),_0xfc6e6c=_0x1af26f['indexOf']('render'),_0xfc6e6c!==-(0x25*-0xe9+0x14aa+0xee*0xe)&&_0x1af26f['splice'](_0xfc6e6c,-0x11da+-0x336+0x1511*0x1)):_0x420af0['hasOwnProp'+'erty']('model')&&(_0xfc6e6c=_0x1af26f['indexOf']('asset'),_0xfc6e6c!==-(-0x4a*-0x27+0xc14+-0x1759)&&_0x1af26f['splice'](_0xfc6e6c,0x4e3+0x6*0xd1+-0x9c8)),_0x26a646['type']||(_0x26a646['type']=_0x5cfaae['data']['type']),_0x5cfaae['data']['type']=_0x26a646['type'],Array['isArray'](_0x26a646['halfExtent'+'s'])&&(_0x26a646['halfExtent'+'s']=new T(_0x26a646['halfExtent'+'s'])),Array['isArray'](_0x26a646['linearOffs'+'et'])&&(_0x26a646['linearOffs'+'et']=new T(_0x26a646['linearOffs'+'et'])),Array['isArray'](_0x26a646['angularOff'+'set'])){const _0x2830fb=_0x26a646['angularOff'+'set'];_0x2830fb['length']===-0x69b*-0x1+0xc1*0x13+-0x14eb?_0x26a646['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x2830fb[0x109+-0x2d+-0x1*0xdc],_0x2830fb[0x7cd+0x9e+-0x86a],_0x2830fb[-0xc6b*-0x3+0x4a3*0x5+-0x3c6e]):_0x26a646['angularOff'+'set']=new se(_0x26a646['angularOff'+'set']);}const _0x540f47=this['_createImp'+'lementatio'+'n'](_0x26a646['type']);_0x540f47['beforeInit'+'ialize'](_0x5cfaae,_0x26a646),super['initialize'+'ComponentD'+'ata'](_0x5cfaae,_0x26a646,_0x1af26f),_0x540f47['afterIniti'+'alize'](_0x5cfaae,_0x26a646);}['_createImp'+'lementatio'+'n'](_0x3b5306){if(this['implementa'+'tions'][_0x3b5306]===void(0x2f*0x2b+0x9a3*-0x1+-0x1*-0x1be)){let _0x11a41c;switch(_0x3b5306){case'box':_0x11a41c=new aR(this);break;case'sphere':_0x11a41c=new oR(this);break;case'capsule':_0x11a41c=new lR(this);break;case'cylinder':_0x11a41c=new hR(this);break;case'cone':_0x11a41c=new cR(this);break;case'mesh':_0x11a41c=new dR(this);break;case'compound':_0x11a41c=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x3b5306);}this['implementa'+'tions'][_0x3b5306]=_0x11a41c;}return this['implementa'+'tions'][_0x3b5306];}['_getImplem'+'entation'](_0x305514){return this['implementa'+'tions'][_0x305514['collision']['data']['type']];}['cloneCompo'+'nent'](_0x485110,_0x41005c){return this['_getImplem'+'entation'](_0x485110)['clone'](_0x485110,_0x41005c);}['onBeforeRe'+'move'](_0x5121ac,_0x2c3bcf){this['implementa'+'tions'][_0x2c3bcf['data']['type']]['beforeRemo'+'ve'](_0x5121ac,_0x2c3bcf),_0x2c3bcf['onBeforeRe'+'move']();}['onRemove'](_0xcafbe3,_0x1bb3fc){this['implementa'+'tions'][_0x1bb3fc['type']]['remove'](_0xcafbe3,_0x1bb3fc);}['updateComp'+'oundChildT'+'ransform'](_0x698b96,_0x2e1307){const _0x17db52=_0x698b96['collision']['_compoundP'+'arent'];if(_0x17db52!==_0x698b96['collision']&&_0x698b96['enabled']&&_0x698b96['collision']['enabled']&&(_0x698b96['_dirtyLoca'+'l']||_0x2e1307)){const _0x110f89=this['_getNodeTr'+'ansform'](_0x698b96,_0x17db52['entity']),_0x1457e8=_0x17db52['getCompoun'+'dChildShap'+'eIndex'](_0x698b96['collision']['shape']);_0x1457e8===null?_0x17db52['shape']['addChildSh'+'ape'](_0x110f89,_0x698b96['collision']['data']['shape']):_0x17db52['shape']['updateChil'+'dTransform'](_0x1457e8,_0x110f89,!(-0x4bc+0x91e+-0x462*0x1)),Ammo['destroy'](_0x110f89);}}['_removeCom'+'poundChild'](_0x4f18aa,_0x26c4a6){if(_0x4f18aa['shape']['getNumChil'+'dShapes']()!==0x566*0x3+0xb*0xa3+-0x1733){if(_0x4f18aa['shape']['removeChil'+'dShape'])_0x4f18aa['shape']['removeChil'+'dShape'](_0x26c4a6);else{const _0x318442=_0x4f18aa['getCompoun'+'dChildShap'+'eIndex'](_0x26c4a6);_0x318442!==null&&_0x4f18aa['shape']['removeChil'+'dShapeByIn'+'dex'](_0x318442);}}}['onTransfor'+'mChanged'](_0x5efb4c,_0x4b7a4a,_0x35754e,_0xa334f4){this['implementa'+'tions'][_0x5efb4c['data']['type']]['updateTran'+'sform'](_0x5efb4c,_0x4b7a4a,_0x35754e,_0xa334f4);}['changeType'](_0x5c46a8,_0x47981a,_0x3c71de){this['implementa'+'tions'][_0x47981a]['beforeRemo'+'ve'](_0x5c46a8['entity'],_0x5c46a8),this['implementa'+'tions'][_0x47981a]['remove'](_0x5c46a8['entity'],_0x5c46a8['data']),this['_createImp'+'lementatio'+'n'](_0x3c71de)['reset'](_0x5c46a8,_0x5c46a8['data']);}['recreatePh'+'ysicalShap'+'es'](_0x2ebdde){this['implementa'+'tions'][_0x2ebdde['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x2ebdde);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5efc95,_0x11b87e){if(_0x5efc95===_0x11b87e){const _0x458951=_0x5efc95['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x458951['x'],_0x458951['y'],_0x458951['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5efc95['parent'],_0x11b87e),Xl['mul'](_0x5efc95['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x592761){const _0x4987cc=_0x592761['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x4987cc['x'],_0x4987cc['y'],_0x4987cc['z']);}['_getNodeTr'+'ansform'](_0x26972d,_0x50f957){let _0x4537d7,_0x390fb9;_0x50f957?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x26972d,_0x50f957),_0x4537d7=iR,_0x390fb9=Cr,Xl['getTransla'+'tion'](_0x4537d7),_0x390fb9['setFromMat'+'4'](Xl)):(_0x4537d7=_0x26972d['getPositio'+'n'](),_0x390fb9=_0x26972d['getRotatio'+'n']());const _0x42ea74=new Ammo['btQuaterni'+'on'](),_0x29a8ac=new Ammo['btTransfor'+'m']();_0x29a8ac['setIdentit'+'y']();const _0x3243eb=_0x29a8ac['getOrigin'](),_0x29031d=_0x26972d['collision'];if(_0x29031d&&_0x29031d['_hasOffset']){const _0x10b0be=_0x29031d['data']['linearOffs'+'et'],_0x5ce31d=_0x29031d['data']['angularOff'+'set'],_0x57db8d=rR;Cr['copy'](_0x390fb9)['transformV'+'ector'](_0x10b0be,_0x57db8d),_0x57db8d['add'](_0x4537d7),Cr['copy'](_0x390fb9)['mul'](_0x5ce31d),_0x3243eb['setValue'](_0x57db8d['x'],_0x57db8d['y'],_0x57db8d['z']),_0x42ea74['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x3243eb['setValue'](_0x4537d7['x'],_0x4537d7['y'],_0x4537d7['z']),_0x42ea74['setValue'](_0x390fb9['x'],_0x390fb9['y'],_0x390fb9['z'],_0x390fb9['w']);return _0x29a8ac['setRotatio'+'n'](_0x42ea74),Ammo['destroy'](_0x42ea74),_0x29a8ac;}['destroy'](){for(const _0x1d8347 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x1d8347]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x21965f,_0x2d5eaf,_0x279eac){this['_entity']=_0x21965f,this['_element']=_0x21965f['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x2d5eaf,this['meshInstan'+'ce']=new Le(this['mesh'],_0x279eac,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x21965f['name'],this['meshInstan'+'ce']['castShadow']=!(0xbaa+0xdf+-0xc88),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0xe20+-0x1d9a*-0x1+0xe9*-0x11),this['_meshDirty']=!(0x23dc+0x235*-0x7+0x1468*-0x1),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x38f33f,_0x4e7b18;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x38f33f=this['meshInstan'+'ce'])==null||_0x38f33f['destroy'](),this['meshInstan'+'ce']=null,(_0x4e7b18=this['unmaskMesh'+'Instance'])==null||_0x4e7b18['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x422a3c){this['meshInstan'+'ce']&&(this['mesh']=_0x422a3c,this['meshInstan'+'ce']['mesh']=_0x422a3c,this['meshInstan'+'ce']['visible']=!!_0x422a3c,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x422a3c),this['forceUpdat'+'eAabb']());}['setMask'](_0x4652ac){var _0x3f19a2;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x4652ac){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x1b92*0x1+0x24f+0x126*0x16),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0xede+0x1*-0x25eb+0x1c6*0xd),this['unmaskMesh'+'Instance']['pick']=!(0x6d+0x3*-0x972+0x1bea),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x6daff6 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x6daff6,this['meshInstan'+'ce']['parameters'][_0x6daff6]['data']);}else{const _0x56f811=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x56f811>=-0x1d62+-0x1ddc+0x1*0x3b3e&&this['model']['meshInstan'+'ces']['splice'](_0x56f811,0x1055+0x45e*0x3+0xeb7*-0x2);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x4652ac||((_0x3f19a2=this['unmaskMesh'+'Instance'])==null||_0x3f19a2['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x21d2e9){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x21d2e9,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x21d2e9));}['setParamet'+'er'](_0x2448f3,_0x5846b4){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x2448f3,_0x5846b4),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x2448f3,_0x5846b4));}['deletePara'+'meter'](_0x47dfbb){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x47dfbb),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x47dfbb));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x1a5052=function(_0x3fe539){let _0x30de1d;const _0x1fa9f7=_0x3fe539['children'],_0x2cd0b9=_0x1fa9f7['length'];if(_0x2cd0b9){for(let _0x5816a3=0xc8e+0x1f38+-0x1a*0x1af;_0x5816a3<_0x2cd0b9;_0x5816a3++)_0x1fa9f7[_0x5816a3]['element']&&(_0x30de1d=_0x1fa9f7[_0x5816a3]);if(!_0x30de1d)return null;const _0x53e731=_0x1a5052(_0x30de1d);return _0x53e731||_0x30de1d;}return null;};if(this['unmaskMesh'+'Instance']){const _0x5dd355=_0x1a5052(this['_entity']);_0x5dd355&&_0x5dd355['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x5dd355['element']['drawOrder']+_0x5dd355['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x297ead){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x297ead),this['meshInstan'+'ce']['drawOrder']=_0x297ead);}['setCull'](_0x5b640d){if(!this['meshInstan'+'ce'])return;const _0x482e9c=this['_element'];let _0x2c18f6=null;_0x5b640d&&_0x482e9c['_isScreenS'+'pace']()&&(_0x2c18f6=function(_0x1acdf8){return _0x482e9c['isVisibleF'+'orCamera'](_0x1acdf8);}),this['meshInstan'+'ce']['cull']=_0x5b640d,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x2c18f6,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x5b640d,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x2c18f6);}['setScreenS'+'pace'](_0x3d7437){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x3d7437,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x3d7437));}['setLayer'](_0x3dfc76){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x3dfc76,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x3dfc76));}['forceUpdat'+'eAabb'](_0x381bc4){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x1a7a+0xe85+0x1*0xbf6),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x2215+-0xba6*-0x1+0x1670)));}['setAabbFun'+'c'](_0x2bea54){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x2bea54,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x2bea54));}}class _R{constructor(_0x11ddc3){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x11ddc3,this['_entity']=_0x11ddc3['entity'],this['_system']=_0x11ddc3['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x2f*-0x6d+0x26a1+0x8b*-0x6c,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0xc96+-0x9dd+-0x2b8),this['_rect']=new Q(0x1*0x544+0xb1d+-0x1061,-0x1aec+-0x14bf+0x2fab*0x1,-0x1e*-0x14b+0x19bf+0x4088*-0x1,0x74+-0x10f*0x2+-0x1*-0x1ab),this['_mask']=!(0x2*-0x469+0x1286+0x1*-0x9b3),this['_maskRef']=0x5fc+0x98c+-0xf88,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(-0x1cdf+0x446*-0x1+-0x3af*-0x9),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0xcba+0xa19+0x2a5),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x8a6+0x14c9+-0x1d6b),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(-0x16f7+-0x9*0x295+-0x3*-0xf67,0x1f50+-0x1*-0x1e8a+-0x3dd9,0x26aa+0xf77+-0x3620,-0xb24+0x235d+0x32*-0x7c),this['_colorUnif'+'orm']=new Float32Array([0x2b6+0x1*-0x2f5+-0x40*-0x1,-0x36f+0x19c+0x1d4,0x1dcc+-0xe*-0x1bb+-0x3605]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0xd3e+0xb*0x147+-0x1b4a),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x2682ac){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x28fdf6){this['_updateMat'+'erial'](_0x28fdf6);}['_onScreenC'+'hange'](_0x17a883,_0x12891b){_0x17a883?this['_updateMat'+'erial'](_0x17a883['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x48d+0x1fc5+0xc1b*-0x3));}['_onDrawOrd'+'erChange'](_0x464b8b){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x464b8b),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x105e+0x1*0xbc9+-0x1c26);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0xba9b89){const _0x44aed4=!!this['_mask'],_0x4a85bf=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0xe57de1=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0xba9b89,_0x44aed4,_0x4a85bf,_0xe57de1)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0xba9b89),this['_renderabl'+'e']['setLayer'](_0xba9b89?Ub:c0));}['_createMes'+'h'](){const _0x13a43c=this['_element'],_0x574f25=_0x13a43c['calculated'+'Width'],_0x2eabad=_0x13a43c['calculated'+'Height'],_0x48231c=this['_rect'],_0x2c87d1=this['_system']['app']['graphicsDe'+'vice'],_0x29a8a4=new Float32Array([_0x574f25,0x7ba+-0x2501+0x1d47*0x1,0x752+-0x2f*-0xd1+-0x22d*0x15,-0x46*-0x33+0x1435+-0x2227,0x7*-0x513+-0x1a7d+-0x1f01*-0x2,-0x4b*-0x35+-0xdf0+-0x3a*0x7,_0x48231c['x']+_0x48231c['z'],-0x5b*-0x4b+-0x1bc2+-0x11a*-0x1-_0x48231c['y'],_0x574f25,_0x2eabad,-0x1*-0x7a2+0xe8+-0x88a,0xa2*-0x33+-0x2*0x1114+-0x426e*-0x1,-0x2408+-0x1640+0x5d4*0xa,-0xdb*-0x5+-0x209+-0x23d,_0x48231c['x']+_0x48231c['z'],0x23cf+0x1a69+-0x3e37-(_0x48231c['y']+_0x48231c['w']),0x7*-0x467+0x694+0x183d,-0x4d1*0x3+-0x2388+0xf*0x355,-0x8b*-0x14+0x1370+-0x22a*0xe,-0x16ae+0x15b+0x1553,-0x1fb5+0xf67+0x2*0x827,-0x1090+0xd*0x151+0x23*-0x4,_0x48231c['x'],-0x186b+0xe9*-0x17+-0x2d5b*-0x1-_0x48231c['y'],-0x24e9+0x135f+0x118a,_0x2eabad,0x7cf+-0x4c6*-0x8+-0xf55*0x3,0x2f7+-0x13bc+-0x9*-0x1dd,-0x183c+-0x1c28+0x3464,-0x565+0x9eb+-0x1*0x485,_0x48231c['x'],0x17dc+-0xae*0xe+0xe57*-0x1-(_0x48231c['y']+_0x48231c['w'])]),_0x8e1b92=pR['get'](_0x2c87d1,()=>new Et(_0x2c87d1,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0xd513f9=new os(_0x2c87d1,_0x8e1b92,-0x7f5+0x687+0x5*0x4a,{'data':_0x29a8a4['buffer']}),_0x2df4b6=new Ie(_0x2c87d1);return _0x2df4b6['vertexBuff'+'er']=_0xd513f9,_0x2df4b6['primitive'][0x13c1+0x2*-0x11d7+-0x3*-0x54f]['type']=ar,_0x2df4b6['primitive'][-0x2675+0xd93+0x18e2]['base']=-0x1d37+-0xb*-0x1ce+0x95d,_0x2df4b6['primitive'][0xf6a+0xb0b*-0x3+0x11b7]['count']=-0x8*0x15d+-0x26cb+0x31b7,_0x2df4b6['primitive'][-0x197*-0xb+0x1d64+-0x2ee1]['indexed']=!(0x2*0xff3+-0x13e8+-0xb*0x117),_0x2df4b6['aabb']['setMinMax'](T['ZERO'],new T(_0x574f25,_0x2eabad,0xe47+0x1381+-0x21c8)),this['_updateMes'+'h'](_0x2df4b6),_0x2df4b6;}['_updateMes'+'h'](_0x19607f){const _0x113a91=this['_element'];let _0x1a0d9a=_0x113a91['calculated'+'Width'],_0x47057e=_0x113a91['calculated'+'Height'];if(_0x113a91['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0x2*0x337+0x10a*-0xf+0x928){const _0x4ba251=_0x113a91['calculated'+'Width']/_0x113a91['calculated'+'Height'];_0x113a91['fitMode']===YP&&_0x4ba251>this['_targetAsp'+'ectRatio']||_0x113a91['fitMode']===KP&&_0x4ba251<this['_targetAsp'+'ectRatio']?_0x1a0d9a=_0x113a91['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x47057e=_0x113a91['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x5f207b=_0x113a91['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x5f207b),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x111770=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0xf651f1=(-0x1043+-0x17d2+-0x1*-0x2817)/_0x111770['rect']['z'],_0xaaa5ec=(0x25a5+0x9*-0x2c4+-0xcbf)/_0x111770['rect']['w'];this['_innerOffs'+'et']['set'](_0x111770['border']['x']*_0xf651f1,_0x111770['border']['y']*_0xaaa5ec,_0x111770['border']['z']*_0xf651f1,_0x111770['border']['w']*_0xaaa5ec);const _0x29a958=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x111770['rect']['x']/_0x29a958['width'],_0x111770['rect']['y']/_0x29a958['height'],_0x111770['rect']['z']/_0x29a958['width'],_0x111770['rect']['w']/_0x29a958['height']);const _0x77b60e=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x49b307=_0x111770['rect']['z']/_0x77b60e,_0x230f3d=_0x111770['rect']['w']/_0x77b60e;this['_outerScal'+'e']['set'](Math['max'](_0x1a0d9a,this['_innerOffs'+'et']['x']*_0x49b307),Math['max'](_0x47057e,this['_innerOffs'+'et']['y']*_0x230f3d));let _0x20e284=_0x49b307,_0x441116=_0x230f3d;this['_outerScal'+'e']['x']/=_0x49b307,this['_outerScal'+'e']['y']/=_0x230f3d,_0x20e284*=N['clamp'](_0x1a0d9a/(this['_innerOffs'+'et']['x']*_0x49b307),-0x12e1+0x1545+-0x264+0.0001,0x11b9+0x1*0x5db+-0x1793),_0x441116*=N['clamp'](_0x47057e/(this['_innerOffs'+'et']['y']*_0x230f3d),0x43c*-0x2+-0x2*0x919+-0xd55*-0x2+0.0001,0xd*-0x23b+-0x7a8+0x24a8),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x1357*0x2+0x337*-0x1+0xdf7*0x3]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1930+0x1*-0x13bb+-0x1cc*-0x19]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x5da+-0x6bc*-0x4+-0x20c8*0x1]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x3c0*-0x8+0x10cf+-0xa*0x4ae]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0xc25*0x1+-0x35b*0x9+0x907*0x2]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x2*-0x556+0x20*0x125+0x1*-0x2f4b]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x213e*0x1+0xb*0x346+-0x453e]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x12a*-0x21+-0x12e8+-0x137f]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x1*0x14cd+0x87b*0x3+0x1*-0x2e3e]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1eb6+-0x1*0xf43+0x2dfa]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x20e284,_0x441116,0x26*-0xbf+-0x1*0xb1e+-0x7e5*-0x5),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0xb90+0x1*-0x16b8+0x7*0x198+0.5-_0x113a91['pivot']['x'])*_0x1a0d9a,(-0x240f*0x1+0x1*-0x1961+-0x3d70*-0x1+0.5-_0x113a91['pivot']['y'])*_0x47057e,0x1*0x572+0x90c+-0x7*0x212));}else{const _0x1efa45=_0x19607f['vertexBuff'+'er'],_0x539242=new Float32Array(_0x1efa45['lock']()),_0x51996f=_0x113a91['pivot']['x'],_0xa254d6=_0x113a91['pivot']['y'];_0x539242[-0x22a+-0x1e88*0x1+0x20b2]=_0x1a0d9a-_0x51996f*_0x1a0d9a,_0x539242[0xa*0x388+0xc*0x1cd+-0x38eb]=-0x14*-0xce+-0x636+0x17*-0x6e-_0xa254d6*_0x47057e,_0x539242[0xf9*0xd+0x1c2*0xd+-0x2377]=_0x1a0d9a-_0x51996f*_0x1a0d9a,_0x539242[-0x1*-0x1253+-0x88c+-0x9be]=_0x47057e-_0xa254d6*_0x47057e,_0x539242[-0x7ad+0x17ac+-0xfef]=0x200+0x307*0xa+-0x2046-_0x51996f*_0x1a0d9a,_0x539242[0xb39+0x1f2+0x1*-0xd1a]=-0x2*0x1107+0xc48+-0x6*-0x3a1-_0xa254d6*_0x47057e,_0x539242[-0x1338+0x19d*0x11+-0x81d]=-0x3*0x9d7+-0x9b*0x36+0x3e37-_0x51996f*_0x1a0d9a,_0x539242[-0xe3*0xd+-0x1f77+0x2b17]=_0x47057e-_0xa254d6*_0x47057e;let _0x268006=-0x8*0x4b8+0x1e15+0x7ac,_0x2fc561=0xb03*-0x3+0x20da+0x30,_0x20943c=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x5495ae=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x5495ae&&(_0x20943c=_0x5495ae['rect'],_0x268006=this['_sprite']['atlas']['texture']['width'],_0x2fc561=this['_sprite']['atlas']['texture']['height']);}_0x539242[-0x1e6a+-0xf81+0x2df1]=(_0x20943c['x']+_0x20943c['z'])/_0x268006,_0x539242[-0x18fb+0x1*-0x142c+-0x1697*-0x2]=-0x613*0x1+-0x14*-0x133+-0x11e8-_0x20943c['y']/_0x2fc561,_0x539242[-0xa9d+-0x97f+0x142a]=(_0x20943c['x']+_0x20943c['z'])/_0x268006,_0x539242[-0x8d3+-0x15+0x8f7]=-0x4a6+0xef2+0x1f*-0x55-(_0x20943c['y']+_0x20943c['w'])/_0x2fc561,_0x539242[-0x146+0xe70+-0xd14]=_0x20943c['x']/_0x268006,_0x539242[-0x2126+0x17b*-0x1+0x22b8]=-0x18e*-0x4+0x555+-0xb8c-_0x20943c['y']/_0x2fc561,_0x539242[0x146c+0x2*-0x11fc+0x5*0x322]=_0x20943c['x']/_0x268006,_0x539242[-0x3eb+-0x1*0x1f9d+0x23a7]=-0x1*0x9e3+-0x3cd+0xdb1-(_0x20943c['y']+_0x20943c['w'])/_0x2fc561,_0x1efa45['unlock']();const _0x35c190=new T(-0xe9f+-0x163d*-0x1+-0x3cf*0x2-_0x51996f*_0x1a0d9a,0x22b+0x12be+-0x14e9-_0xa254d6*_0x47057e,0x71*-0x27+-0x26f9+0x3830),_0x306cd0=new T(_0x1a0d9a-_0x51996f*_0x1a0d9a,_0x47057e-_0xa254d6*_0x47057e,0x13*-0xf+-0xab4+0x1*0xbd1);_0x19607f['aabb']['setMinMax'](_0x35c190,_0x306cd0),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x106d+0x4ce+-0x153a,-0x19*-0x125+-0x3*0x6e4+-0x7f0,0xf6b*0x2+0x0+-0x1ed5*0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x2267+0x1*-0x1f+-0x2*0x1124,-0x1a9d*0x1+0x1966+0x137*0x1,-0x1f86+-0x249+0x21cf),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x2*0x22d+-0x9*0x77+-0x1*-0x88a);}['_updateSpr'+'ite'](){let _0xd53743=!(0x176*0x19+0x3*-0x9ef+0x2*-0x35c),_0x5d2673=null;if(this['_targetAsp'+'ectRatio']=-(0x457+0x242b+0x1*-0x2881),this['_sprite']&&this['_sprite']['atlas']){_0x5d2673=this['_sprite']['meshes'][this['spriteFram'+'e']],_0xd53743=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x50bd8b=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x50bd8b==null?void(-0xa05+-0xb*0x16f+0x19ca):_0x50bd8b['rect']['w'])>-0x1faa+0x11a6+0xe04&&(this['_targetAsp'+'ectRatio']=_0x50bd8b['rect']['z']/_0x50bd8b['rect']['w']);}this['mesh']=_0xd53743?_0x5d2673:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x139*-0x1+-0x7eb*0x1+0x2*0x492):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x17df23){return _0x17df23['center']['set'](-0x238f+0x25*0x107+-0x274,0x6f3*-0x3+0x1bb*-0x7+0x20f6,0x1ef0+-0xb20+-0x13d0),_0x17df23['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x4bb+-0x68a+0xb45+0.5),this['_outerScal'+'e']['y']*(0x4*0x8cd+0x2187+-0x44bb+0.5),0x16*0x139+0x1*0x209b+-0x3b81+0.001),_0x17df23['setFromTra'+'nsformedAa'+'bb'](_0x17df23,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x17df23;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x1af1d7=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x1af1d7),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x5c7389){this['material']=_0x5c7389['resource'];}['_onMateria'+'lAdded'](_0x41f68b){this['_system']['app']['assets']['off']('add:'+_0x41f68b['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x41f68b['id']&&this['_bindMater'+'ialAsset'](_0x41f68b);}['_bindMater'+'ialAsset'](_0x282468){this['_entity']['enabled']&&(_0x282468['on']('load',this['_onMateria'+'lLoad'],this),_0x282468['on']('change',this['_onMateria'+'lChange'],this),_0x282468['on']('remove',this['_onMateria'+'lRemove'],this),_0x282468['resource']?this['_onMateria'+'lLoad'](_0x282468):this['_system']['app']['assets']['load'](_0x282468));}['_unbindMat'+'erialAsset'](_0x2d3e00){_0x2d3e00['off']('load',this['_onMateria'+'lLoad'],this),_0x2d3e00['off']('change',this['_onMateria'+'lChange'],this),_0x2d3e00['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x373200){this['_system']['app']['assets']['off']('add:'+_0x373200['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x373200['id']&&this['_bindTextu'+'reAsset'](_0x373200);}['_bindTextu'+'reAsset'](_0x3e169a){this['_entity']['enabled']&&(_0x3e169a['on']('load',this['_onTexture'+'Load'],this),_0x3e169a['on']('change',this['_onTexture'+'Change'],this),_0x3e169a['on']('remove',this['_onTexture'+'Remove'],this),_0x3e169a['resource']?this['_onTexture'+'Load'](_0x3e169a):this['_system']['app']['assets']['load'](_0x3e169a));}['_unbindTex'+'tureAsset'](_0x3ccbac){_0x3ccbac['off']('load',this['_onTexture'+'Load'],this),_0x3ccbac['off']('change',this['_onTexture'+'Change'],this),_0x3ccbac['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x5f4b17){this['texture']=_0x5f4b17['resource'];}['_onTexture'+'Change'](_0x55912a){}['_onTexture'+'Remove'](_0x348345){}['_onSpriteA'+'ssetAdded'](_0x1a44fc){this['_system']['app']['assets']['off']('add:'+_0x1a44fc['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x1a44fc['id']&&this['_bindSprit'+'eAsset'](_0x1a44fc);}['_bindSprit'+'eAsset'](_0x5255c9){this['_entity']['enabled']&&(_0x5255c9['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5255c9['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x5255c9['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5255c9['resource']?this['_onSpriteA'+'ssetLoad'](_0x5255c9):this['_system']['app']['assets']['load'](_0x5255c9));}['_unbindSpr'+'iteAsset'](_0x4fc366){_0x4fc366['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4fc366['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x4fc366['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4fc366['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x4fc366['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x20bde6){if(!_0x20bde6||!_0x20bde6['resource'])this['sprite']=null;else{if(_0x20bde6['resource']['atlas'])this['sprite']=_0x20bde6['resource'];else{const _0x4ed16a=_0x20bde6['data']['textureAtl'+'asAsset'];if(_0x4ed16a){const _0x42230b=this['_system']['app']['assets'];_0x42230b['off']('load:'+_0x4ed16a,this['_onTexture'+'AtlasLoad'],this),_0x42230b['once']('load:'+_0x4ed16a,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x4ab2ca){this['_onSpriteA'+'ssetLoad'](_0x4ab2ca);}['_onSpriteA'+'ssetRemove'](_0x21c0e9){}['_bindSprit'+'e'](_0x9c32f2){this['_evtSetMes'+'hes']=_0x9c32f2['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x9c32f2['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x9c32f2['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x9c32f2['atlas']&&_0x9c32f2['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x25327d){var _0x4943df;(_0x4943df=this['_evtSetMes'+'hes'])==null||_0x4943df['off'](),this['_evtSetMes'+'hes']=null,_0x25327d['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x25327d['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x25327d['atlas']&&_0x25327d['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x256f+0x949*0x2+0xb*0x1b7,this['_sprite']['frameKeys']['length']-(-0x10b9+-0x1cec+0x2da6))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x4a8017){const _0x3869e6=this['_spriteAss'+'et'];_0x3869e6 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x3869e6):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x3869e6));}['onEnable'](){if(this['_materialA'+'sset']){const _0x28b036=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x28b036&&_0x28b036['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x28b036);}if(this['_textureAs'+'set']){const _0x4e60bb=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x4e60bb&&_0x4e60bb['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x4e60bb);}if(this['_spriteAss'+'et']){const _0x4d39a6=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x4d39a6&&_0x4d39a6['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x4d39a6);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x58c2a0){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x58c2a0,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x58c2a0;let _0x1887ae=-0x2ba*0x7+-0x207d+0x3393;if(this['_element']['maskedBy']&&(_0x1887ae=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x5285b7=new qs({'ref':_0x1887ae+(-0x20f9+0x5d1+0x1b29),'func':Ch,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x5285b7,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x5285b7;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][0x268d+0x25d+-0x28ea]=jl['r'],this['_colorUnif'+'orm'][0x2*0x157+-0x19e3+0x1736]=jl['g'],this['_colorUnif'+'orm'][0x1c*-0x4+-0x2114+0xe*0x265]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x3035ee){this['_color']===_0x3035ee&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x1df406,g:_0xbb53c9,b:_0x49073b}=_0x3035ee;(this['_color']['r']!==_0x1df406||this['_color']['g']!==_0xbb53c9||this['_color']['b']!==_0x49073b)&&(this['_color']['r']=_0x1df406,this['_color']['g']=_0xbb53c9,this['_color']['b']=_0x49073b,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x587627){_0x587627!==this['_color']['a']&&(this['_color']['a']=_0x587627,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x587627)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x587627);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x3ef100){this['_rect']===_0x3ef100&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x61dad8,_0x454bcc,_0x26254f,_0x350ec9;_0x3ef100 instanceof Q?(_0x61dad8=_0x3ef100['x'],_0x454bcc=_0x3ef100['y'],_0x26254f=_0x3ef100['z'],_0x350ec9=_0x3ef100['w']):(_0x61dad8=_0x3ef100[0x241a+-0xe*0x8e+-0x1*0x1c56],_0x454bcc=_0x3ef100[0x3f*0x9c+-0x5*-0x7c3+-0x4d32],_0x26254f=_0x3ef100[-0x2bd*-0x1+-0x299+-0x2*0x11],_0x350ec9=_0x3ef100[-0x104b+0x3f5*-0x1+-0x27*-0x85]),!(_0x61dad8===this['_rect']['x']&&_0x454bcc===this['_rect']['y']&&_0x26254f===this['_rect']['z']&&_0x350ec9===this['_rect']['w'])&&(this['_rect']['set'](_0x61dad8,_0x454bcc,_0x26254f,_0x350ec9),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0xd06+0x160f+0x909*-0x1):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x55351a=this['_system']['app']['assets'];_0x55351a['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x5cbbe0=_0x55351a['get'](this['_materialA'+'sset']);_0x5cbbe0&&(_0x5cbbe0['off']('load',this['_onMateria'+'lLoad'],this),_0x5cbbe0['off']('change',this['_onMateria'+'lChange'],this),_0x5cbbe0['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x5c5c9d){if(this['_material']!==_0x5c5c9d){if(!_0x5c5c9d){const _0x528d39=this['_element']['_isScreenS'+'pace']();this['mask']?_0x5c5c9d=_0x528d39?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x5c5c9d=_0x528d39?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x5c5c9d,this['_materialA'+'sset']){const _0x12ec87=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x12ec87||_0x12ec87['resource']!==_0x5c5c9d)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x5c5c9d&&(this['_renderabl'+'e']['setMateria'+'l'](_0x5c5c9d),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x3db62e){const _0x4f032e=this['_system']['app']['assets'];let _0x5cd241=_0x3db62e;if(_0x3db62e instanceof le&&(_0x5cd241=_0x3db62e['id']),this['_materialA'+'sset']!==_0x5cd241){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x5cd241,this['_materialA'+'sset']){const _0x3cb039=_0x4f032e['get'](this['_materialA'+'sset']);_0x3cb039?this['_bindMater'+'ialAsset'](_0x3cb039):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x5cd241,_0x4f032e['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x5cd241;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x4fe128){if(this['_texture']!==_0x4fe128){if(this['_textureAs'+'set']){const _0x5ef14f=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x5ef14f&&_0x5ef14f['resource']!==_0x4fe128&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x4fe128,_0x4fe128){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x43f828=this['_texture']['width']/this['_texture']['height'];_0x43f828!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x43f828,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x13cd*-0x1+0x46d*0x7+0x32c7*-0x1),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x3a0ec1){const _0x32112a=this['_system']['app']['assets'];let _0x203292=_0x3a0ec1;if(_0x3a0ec1 instanceof le&&(_0x203292=_0x3a0ec1['id']),this['_textureAs'+'set']!==_0x203292){if(this['_textureAs'+'set']){_0x32112a['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x53afc3=_0x32112a['get'](this['_textureAs'+'set']);_0x53afc3&&(_0x53afc3['off']('load',this['_onTexture'+'Load'],this),_0x53afc3['off']('change',this['_onTexture'+'Change'],this),_0x53afc3['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x203292,this['_textureAs'+'set']){const _0x463409=_0x32112a['get'](this['_textureAs'+'set']);_0x463409?this['_bindTextu'+'reAsset'](_0x463409):(this['texture']=null,_0x32112a['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x5ba14b){const _0x4d6ec1=this['_system']['app']['assets'];let _0x4982e3=_0x5ba14b;if(_0x5ba14b instanceof le&&(_0x4982e3=_0x5ba14b['id']),this['_spriteAss'+'et']!==_0x4982e3){if(this['_spriteAss'+'et']){_0x4d6ec1['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x4d8d36=_0x4d6ec1['get'](this['_spriteAss'+'et']);_0x4d8d36&&this['_unbindSpr'+'iteAsset'](_0x4d8d36);}if(this['_spriteAss'+'et']=_0x4982e3,this['_spriteAss'+'et']){const _0x34f9ad=_0x4d6ec1['get'](this['_spriteAss'+'et']);_0x34f9ad?this['_bindSprit'+'eAsset'](_0x34f9ad):(this['sprite']=null,_0x4d6ec1['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x4982e3);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x517685){if(this['_sprite']!==_0x517685){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x57f826=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x57f826&&_0x57f826['resource']!==_0x517685&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x517685,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x1*-0x2279+0x3*-0x827+-0xa04,this['_sprite']['frameKeys']['length']-(0x137*-0x16+-0x2694+-0x1*-0x414f))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0xefe520){const _0x5da55a=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0xefe520,-0xf3b+-0x13*0xb1+0x1c5e,this['_sprite']['frameKeys']['length']-(0x1*-0xe2f+0x7*0x257+0xbb*-0x3)):this['_spriteFra'+'me']=_0xefe520,this['_spriteFra'+'me']!==_0x5da55a&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0xefe520);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x2de12b){this['_renderabl'+'e']['setMesh'](_0x2de12b),this['_defaultMe'+'sh']===_0x2de12b?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x54e596){this['_mask']!==_0x54e596&&(this['_mask']=_0x54e596,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x318e2c){this['_pixelsPer'+'Unit']!==_0x318e2c&&(this['_pixelsPer'+'Unit']=_0x318e2c,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x5a64ac){super(),this['_app']=_0x5a64ac,_0x5a64ac['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x1*0x1522+-0x23*-0x35+0xe30*-0x2),this['_disableLo'+'calization']=!(0x6dc+-0xa60+0x385),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x4a9af4){const _0x4a8acd=_0x4a9af4 instanceof le?_0x4a9af4['id']:_0x4a9af4;this['_defaultAs'+'set']!==_0x4a8acd&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x4a8acd,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x73a4a2){const _0x1830c2=_0x73a4a2 instanceof le?_0x73a4a2['id']:_0x73a4a2;this['_localized'+'Asset']!==_0x1830c2&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x1830c2,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x3c7ec9){this['_autoLoad']!==_0x3c7ec9&&(this['_autoLoad']=_0x3c7ec9,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x2d438f){this['_disableLo'+'calization']!==_0x2d438f&&(this['_disableLo'+'calization']=_0x2d438f,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x577b02=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x577b02?this['_onDefault'+'AssetAdd'](_0x577b02):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x18da74=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x18da74&&(_0x18da74['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x18da74['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x18da74['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x12d959){this['_defaultAs'+'set']===_0x12d959['id']&&(_0x12d959['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x12d959['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x12d959['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x55865c){this['_defaultAs'+'set']===_0x55865c['id']&&(_0x55865c['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x55865c['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x283b13=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x283b13&&(_0x283b13['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x283b13['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x283b13['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x283b13['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x283b13):this['_app']['assets']['load'](_0x283b13));}['_unbindLoc'+'alizedAsse'+'t'](){const _0xa1ca9f=this['_app']['assets']['get'](this['_localized'+'Asset']);_0xa1ca9f&&(_0xa1ca9f['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0xa1ca9f['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0xa1ca9f['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x3c1d6){this['_localized'+'Asset']===_0x3c1d6['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x4be0f0){this['fire']('load',_0x4be0f0);}['_onLocaliz'+'edAssetCha'+'nge'](_0x492595,_0x16f352,_0x5afbf8,_0x1f501c){this['fire']('change',_0x492595,_0x16f352,_0x5afbf8,_0x1f501c);}['_onLocaliz'+'edAssetRem'+'ove'](_0x4153a1){this['_localized'+'Asset']===_0x4153a1['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x4153a1);}['_onLocaleA'+'dd'](_0x150207,_0x5e595e){this['_app']['i18n']['locale']===_0x150207&&this['_onSetLoca'+'le'](_0x150207);}['_onLocaleR'+'emove'](_0x55e7f1,_0xe94372){this['_app']['i18n']['locale']===_0x55e7f1&&this['_onSetLoca'+'le'](_0x55e7f1);}['_onSetLoca'+'le'](_0x2f29d1){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0xfdf2e6=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0xfdf2e6||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x44de5d=_0xfdf2e6['getLocaliz'+'edAssetId'](_0x2f29d1);if(!_0x44de5d){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x44de5d;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=-0x43*-0x65+0x1b11+-0x3580,Kn=-0x1519+0x9a8+0xb72,of=0x162b+-0x14a4+-0x185,ix=0x26ee+0x1*-0x22bd+-0x5*0xd6,lf=0x2482*-0x1+0x13b9+-0x17*-0xbb,hf=0x1*0x1139+0x2517+-0x364b,cf=-0x4*0x33b+0x1e3e*0x1+-0x8a6*0x2,df=-0xb7f+-0x23c1+0x2f47,dg=-0x1460+-0x1*0x2265+0x36cd*0x1,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x104724){this['_symbols']=_0x104724,this['_index']=-0x2e2*-0x1+-0x2330+0x204e,this['_last']=-0xc40+0x1579+-0x939,this['_cur']=this['_symbols']['length']>0xf4*0x11+-0x559*0x1+-0xadb?this['_symbols'][-0x463*-0x1+-0x1dea+-0x5*-0x51b]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x3b9dda=this['_read']();for(;_0x3b9dda===dg;)_0x3b9dda=this['_read']();return _0x3b9dda!==ho&&_0x3b9dda!==Kn&&(this['_last']=this['_index']),_0x3b9dda;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x129526=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x150776=this['read'](),_0xfa88af='';for(;_0xfa88af+=(_0xfa88af['length']>-0x1e70+-0x1cb+0x203b?'\x0a':'')+_0x129526[_0x150776]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x150776===ho||_0x150776===Kn);)_0x150776=this['read']();return _0xfa88af;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x17a+-0x2b*-0x9d+0x1*-0x18e5?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>-0x1*0x11e4+0x143a+-0x256?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(-0x6a*0x7+0x49*0x9+0x2*0x2b);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x5f03ac){return _0x5f03ac['length']===-0x224*-0xd+0x10ce+-0x2ca1&&_0x5f03ac['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x341314){this['_buf']['push'](_0x341314);}}class bR{constructor(_0x56b798){this['_scanner']=new vR(_0x56b798),this['_error']=null;}['parse'](_0x1cb1b1,_0x2d7248){for(;;)switch(this['_scanner']['read']()){case ho:return!(0x1*0x2287+-0x133*0x20+0x3d9);case Kn:return!(0x3*0x4ea+0x7*-0x2cb+0xb0*0x7);case of:Array['prototype']['push']['apply'](_0x1cb1b1,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x1cb1b1,_0x2d7248))return!(-0x1c91+-0xd01*0x3+0x49*0xed);break;default:return!(-0x5*-0x4e1+-0xd81+-0xae3);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x4677af,_0x4ef464){let _0x2d67e0=this['_scanner']['read']();if(_0x2d67e0!==df)return this['_error']='expected\x20i'+'dentifier',!(0x49*0x3b+-0x48*-0xd+-0xa3d*0x2);const _0x264d4b=this['_scanner']['buf']()['join']('');if(_0x264d4b[-0x178c+-0x1b6*0x7+-0x11c3*-0x2]==='/'){for(let _0x455a95=_0x4ef464['length']-(-0x9bb+0x3*-0x39e+0x1496);_0x455a95>=0xbaa+0xae6*-0x2+-0x2*-0x511;--_0x455a95)if(_0x264d4b==='/'+_0x4ef464[_0x455a95]['name']&&_0x4ef464[_0x455a95]['end']===null)return _0x4ef464[_0x455a95]['end']=_0x4677af['length'],_0x2d67e0=this['_scanner']['read'](),_0x2d67e0!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x1cf*0x4+0xc*-0x12e+0x1*0x1565)):!(-0x457+-0x1f91*0x1+0x2fe*0xc);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0xe9*-0xa+-0x1*-0x2600+-0x1ce5);}const _0x4d26a7={'name':_0x264d4b,'value':null,'attributes':{},'start':_0x4677af['length'],'end':null};if(_0x2d67e0=this['_scanner']['read'](),_0x2d67e0===hf){if(_0x2d67e0=this['_scanner']['read'](),_0x2d67e0!==cf)return this['_error']='expected\x20s'+'tring',!(0x1995+0x12*0x15b+-0x2*0x18fd);_0x4d26a7['value']=this['_scanner']['buf']()['join'](''),_0x2d67e0=this['_scanner']['read']();}for(;;){switch(_0x2d67e0){case lf:return _0x4ef464['push'](_0x4d26a7),!(0x2701*-0x1+0x1cd9+0xa28);case df:{const _0x5267e=this['_scanner']['buf']()['join']('');if(_0x2d67e0=this['_scanner']['read'](),_0x2d67e0!==hf)return this['_error']='expected\x20e'+'quals',!(-0xe2*-0x1e+0x157c+-0x2ff7);if(_0x2d67e0=this['_scanner']['read'](),_0x2d67e0!==cf)return this['_error']='expected\x20s'+'tring',!(-0x9ea*-0x3+0x85a*0x3+-0x36cb);const _0x8b6989=this['_scanner']['buf']()['join']('');_0x4d26a7['attributes'][_0x5267e]=_0x8b6989;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x1*0xb9d+0x82c+-0x4*0x4f2);}_0x2d67e0=this['_scanner']['read']();}}}function rx(_0x2b5d8c,_0x4fce02){for(const _0x4fc158 in _0x4fce02){if(!_0x4fce02['hasOwnProp'+'erty'](_0x4fc158))continue;const _0x5c49cb=_0x4fce02[_0x4fc158];_0x5c49cb instanceof Object?(_0x2b5d8c['hasOwnProp'+'erty'](_0x4fc158)||(_0x2b5d8c[_0x4fc158]={}),rx(_0x2b5d8c[_0x4fc158],_0x4fce02[_0x4fc158])):_0x2b5d8c[_0x4fc158]=_0x5c49cb;}}function wR(_0x4f539c){if(_0x4f539c['length']===-0x9fd+-0x7*-0x305+0xb26*-0x1)return null;const _0x241ad5={};for(let _0x531f6b=-0x18e9+-0x10d0+0x29b9*0x1;_0x531f6b<_0x4f539c['length'];++_0x531f6b){const _0x5c3c8e=_0x4f539c[_0x531f6b],_0x566415={};_0x566415[_0x5c3c8e['name']]={'value':_0x5c3c8e['value'],'attributes':_0x5c3c8e['attributes']},rx(_0x241ad5,_0x566415);}return _0x241ad5;}function TR(_0x313c8a,_0xb35ec){if(_0x313c8a['length']===-0x2*0x12e3+0x1a70+-0x2*-0x5ab)return null;const _0x2511e2={};for(let _0x2921af=0x1f81+0x24e9*0x1+-0x446a;_0x2921af<_0x313c8a['length'];++_0x2921af){const _0x3f2537=_0x313c8a[_0x2921af];_0x2511e2['hasOwnProp'+'erty'](_0x3f2537['start'])?_0x2511e2[_0x3f2537['start']]['open']===null?_0x2511e2[_0x3f2537['start']]['open']=[_0x3f2537]:_0x2511e2[_0x3f2537['start']]['open']['push'](_0x3f2537):_0x2511e2[_0x3f2537['start']]={'open':[_0x3f2537],'close':null},_0x2511e2['hasOwnProp'+'erty'](_0x3f2537['end'])?_0x2511e2[_0x3f2537['end']]['close']===null?_0x2511e2[_0x3f2537['end']]['close']=[_0x3f2537]:_0x2511e2[_0x3f2537['end']]['close']['push'](_0x3f2537):_0x2511e2[_0x3f2537['end']]={'open':null,'close':[_0x3f2537]};}let _0x3d951a=[];function _0x2e895a(_0x48c334){_0x3d951a=_0x3d951a['filter'](_0x32f374=>_0x48c334['find'](_0x192f4a=>_0x192f4a===_0x32f374)===void(-0x1dd7*0x1+0x189a+0x95*0x9));}function _0x146911(_0x5ac656){for(let _0x1b14be=0x144*-0xe+0x44f+-0x1*-0xd69;_0x1b14be<_0x5ac656['length'];++_0x1b14be)_0x3d951a['push'](_0x5ac656[_0x1b14be]);}const _0x212567=Object['keys'](_0x2511e2)['sort']((_0x3ca102,_0x6c593)=>_0x3ca102-_0x6c593),_0x287322=[];for(let _0x465f40=-0x2186*0x1+0xba0+0x15e6;_0x465f40<_0x212567['length'];++_0x465f40){const _0xf84150=_0x2511e2[_0x212567[_0x465f40]];_0xf84150['close']!==null&&_0x2e895a(_0xf84150['close']),_0xf84150['open']!==null&&_0x146911(_0xf84150['open']),_0x287322['push']({'start':_0x212567[_0x465f40],'tags':wR(_0x3d951a)});}const _0x175f84=[];let _0x585d3b=null;for(let _0x3c3770=0xc3e+-0x3d*-0x23+0xb*-0x1df;_0x3c3770<_0x287322['length'];++_0x3c3770){const _0x4a735b=_0x287322[_0x3c3770];for(;_0x175f84['length']<_0x4a735b['start'];)_0x175f84['push'](_0x585d3b?_0x585d3b['tags']:null);_0x585d3b=_0x4a735b;}for(;_0x175f84['length']<_0xb35ec;)_0x175f84['push'](null);return _0x175f84;}function AR(_0x524742){const _0x5b722e=new bR(_0x524742),_0x2d11ac=[],_0x1efeaf=[];if(!_0x5b722e['parse'](_0x2d11ac,_0x1efeaf))return console['warn'](_0x5b722e['error']()),{'symbols':_0x524742,'tags':null};const _0x453655=_0x1efeaf['find'](_0x407dfc=>_0x407dfc['end']===null);if(_0x453655)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x453655['name']+'\x27'),{'symbols':_0x524742,'tags':null};const _0x2e770c=TR(_0x1efeaf,_0x2d11ac['length']);return{'symbols':_0x2d11ac,'tags':_0x2e770c};}class ER{static['evaluate'](_0x877e7a){return AR(_0x877e7a);}}class CR{constructor(){this['count']=0x16e7+0x4*0x38+0x1*-0x17c7,this['quad']=-0x926+0x3*0xbcb+-0x1a3b*0x1,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x7ff51b,_0x595f5d){const _0x4db745=new Ie(_0x7ff51b);return _0x4db745['setPositio'+'ns'](_0x595f5d['positions']),_0x4db745['setNormals'](_0x595f5d['normals']),_0x4db745['setColors3'+'2'](_0x595f5d['colors']),_0x4db745['setUvs'](-0x6*-0x42+-0x174d+0x15c1*0x1,_0x595f5d['uvs']),_0x4db745['setIndices'](_0x595f5d['indices']),_0x4db745['setVertexS'+'tream'](Po,_0x595f5d['outlines'],0x10db*-0x1+-0x16df*0x1+-0xd3f*-0x3,void(0x16a0+0x249b*0x1+-0x3b*0x101),Ee,!(0x22fd*-0x1+0x175*-0x5+0x2a47)),_0x4db745['setVertexS'+'tream'](Ro,_0x595f5d['shadows'],0x1a*0x89+-0x1e09+0x1*0x1022,void(0x144b+0x12e9+-0x34*0xc1),Ee,!(0x2578+-0x61*0x1d+-0x1a7a)),_0x4db745['update'](),_0x4db745;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[]$/,DR=['','','','','','','','','','','','',''],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class OR{constructor(_0x5db1c7){this['_element']=_0x5db1c7,this['_system']=_0x5db1c7['system'],this['_entity']=_0x5db1c7['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x30e*-0x5+0x3d6+0x4*-0x4c7),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(0xd*-0x209+-0x72+-0x35d*-0x8,0x6fb*0x4+0x2134*0x1+-0x3d1f,-0x9ad+-0xfb*0x21+-0x33*-0xd3,-0xda6+-0x81d+0x15c4),this['_colorUnif'+'orm']=new Float32Array(-0x190*0x2+-0x1ad2*-0x1+-0x17af),this['_spacing']=-0x1013+-0x152*0x1d+0x365e,this['_fontSize']=0x2a*0x2f+0x4*-0xea+-0x3ee,this['_fontMinY']=0x24a7*0x1+0x2*-0xf7b+0x5b1*-0x1,this['_fontMaxY']=0x4*0x5bf+0x11*0x20e+0x134e*-0x3,this['_originalF'+'ontSize']=0x1b6c*0x1+0xb17*-0x3+0x8b*0xb,this['_maxFontSi'+'ze']=0x1c26+-0xb*-0x112+0x46c*-0x9,this['_minFontSi'+'ze']=0x221c+0x3*-0x137+-0x1e6f,this['_autoFitWi'+'dth']=!(0x16ca*-0x1+0x4fb+0x11d0),this['_autoFitHe'+'ight']=!(0x2b*0x5c+-0xa58+-0x51b),this['_maxLines']=-(-0x1d52+-0x1d9e+0x3af1),this['_lineHeigh'+'t']=0x2262+-0x115*0xd+-0x1431,this['_scaledLin'+'eHeight']=-0x1db0+-0xa*0xe5+0x26c2,this['_wrapLines']=!(-0xe6b+-0x1*-0x12cb+-0x45f),this['_drawOrder']=-0x1e92+-0x1*0x1f+-0x3*-0xa3b,this['_alignment']=new W(-0x204b*0x1+-0x7*0x2b9+0x335a+0.5,-0x111*0x9+0xd49+-0x3b0+0.5),this['_autoWidth']=!(-0x21ad*0x1+-0x2*0x161+-0x246f*-0x1),this['_autoHeigh'+'t']=!(0x1415+-0x5e7*-0x6+-0x377f),this['width']=-0x5*0x539+-0xc58+0x1*0x2675,this['height']=0x1*-0x10fd+-0x1629+0x2726,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x19*-0x137+-0x1e6b+0x1*0xc),this['_aabb']=new _e(),this['_noResize']=!(0x2345*0x1+-0x961*0x3+-0x16d*0x5),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x1bf8+-0x92*0x31+0x37eb),this['_unicodeCo'+'nverter']=!(-0x6*0x443+0x22c9+0x1*-0x936),this['_rtl']=!(0x1774+-0x1*-0x1cf4+0xa7b*-0x5),this['_outlineCo'+'lor']=new Y(0x1*-0x1083+0x1b93+0x2*-0x588,-0x1e8*0x7+0x7da+-0x2bf*-0x2,-0x19de+-0xd*-0x1a5+0x47d,0x1ee7+-0x7b3+-0x1*0x1733),this['_outlineCo'+'lorUniform']=new Float32Array(-0x1854+0x23e*-0xf+0x39fa),this['_outlineTh'+'icknessSca'+'le']=-0x504+-0x4b*-0x3e+0x42*-0x33+0.2,this['_outlineTh'+'ickness']=0x1*-0xd1d+0x103f*0x1+0x1*-0x322,this['_shadowCol'+'or']=new Y(0x0+0x1021+-0x1021,0xa8c+0x12ea+-0x1a3*0x12,-0x2cc+0x23c1+-0x20f5,0x1b21*-0x1+-0x18b*0x6+-0x2464*-0x1),this['_shadowCol'+'orUniform']=new Float32Array(0x23e2+0x836*-0x1+-0x78*0x3b),this['_shadowOff'+'setScale']=0x308*-0x4+-0xec1+-0x3d7*-0x7+0.005,this['_shadowOff'+'set']=new W(-0x1971+-0x190c+0x327d,-0x1363+-0x85f*0x1+0x1bc2),this['_shadowOff'+'setUniform']=new Float32Array(0x21d4+0x1*0x739+-0x290b),this['_enableMar'+'kup']=!(0x3ee*-0x1+0xcac+-0x1*0x8bd),this['_onScreenC'+'hange'](this['_element']['screen']),_0x5db1c7['on']('resize',this['_onParentR'+'esize'],this),_0x5db1c7['on']('set:screen',this['_onScreenC'+'hange'],this),_0x5db1c7['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x5db1c7['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x5db1c7['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x7de+0x1387*0x1+-0x1b65,this['_rangeEnd']=-0x21f4+0x1285*0x1+0xf6f;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x3cdcb0,_0x1c90dd){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x61ad51){_0x61ad51?this['_updateMat'+'erial'](_0x61ad51['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x1*0x16ae+0x1f*-0xac+0xb*-0x2b));}['_onScreenS'+'paceChange'](_0x2edc67){this['_updateMat'+'erial'](_0x2edc67);}['_onDrawOrd'+'erChange'](_0x34bd0b){if(this['_drawOrder']=_0x34bd0b,this['_model']){for(let _0x44d60e=0x44c*-0x6+0x2*0x11f3+-0xb9*0xe,_0x55b325=this['_model']['meshInstan'+'ces']['length'];_0x44d60e<_0x55b325;_0x44d60e++)this['_model']['meshInstan'+'ces'][_0x44d60e]['drawOrder']=_0x34bd0b;}}['_onPivotCh'+'ange'](_0x12fb8e){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x6fd476){if(this['_i18nKey']){if(this['fontAsset']){const _0xeb2fbc=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0xeb2fbc||!_0xeb2fbc['resource']||_0xeb2fbc['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x5492e3,_0x559ee3){this['_i18nKey']&&_0x559ee3[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x216256){if(this['unicodeCon'+'verter']){const _0xb1e46a=this['_system']['getUnicode'+'Converter']();_0xb1e46a?_0x216256=_0xb1e46a(_0x216256):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x216256&&(this['_font']&&this['_updateTex'+'t'](_0x216256),this['_text']=_0x216256);}['_updateTex'+'t'](_0x39e304){let _0xa2a4af;if(_0x39e304===void(0x3*0xfb+-0xd33+0xa42)&&(_0x39e304=this['_text']),this['_symbols']=ah['getSymbols'](_0x39e304['normalize']?_0x39e304['normalize']('NFC'):_0x39e304),this['_symbols']['length']===0x1f8b+-0x1*0x923+-0x1668&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x226cef=ER['evaluate'](this['_symbols']);this['_symbols']=_0x226cef['symbols'],_0xa2a4af=_0x226cef['tags']||[];}if(this['_rtlReorde'+'r']){const _0x3559e7=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x3559e7){const _0x58bff5=_0x3559e7(this['_symbols']);this['_rtl']=_0x58bff5['rtl'],this['_symbols']=_0x58bff5['mapping']['map'](function(_0x19d294){return this['_symbols'][_0x19d294];},this),_0xa2a4af&&(_0xa2a4af=_0x58bff5['mapping']['map'](_0x18bd88=>_0xa2a4af[_0x18bd88]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x2159*-0x1+0x1*0xb23+-0x2c7b);const _0x14e9c0=(_0x256614,_0x191d72)=>_0x256614['toString'](!(-0x1e90+0x483+0x1a0d*0x1))['toLowerCas'+'e']()+':'+_0x191d72['toFixed'](0x119+0xcec+0x11*-0xd3),_0x4bcdc8=(_0x6c74f1,_0x2503bf)=>_0x6c74f1['toString'](!(0x1*-0x18d+-0x59*-0x45+-0x1670))['toLowerCas'+'e']()+':'+_0x2503bf['x']['toFixed'](0xc19*0x2+0xedd+-0x270d*0x1)+':'+_0x2503bf['y']['toFixed'](-0x9e5*0x1+-0xd59+0x1740);if(_0xa2a4af){const _0x210787={},_0x563f72={},_0x45a8f4={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x2494+-0x41*0x3c+0x1*0x34cf)),Math['round'](this['_color']['g']*(0xdcc+-0x135*-0x3+0x106c*-0x1)),Math['round'](this['_color']['b']*(-0x7*-0x45a+-0x8b8*-0x4+-0x4057*0x1))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x1*0x951+-0x1966+0x1114)),Math['round'](this['_outlineCo'+'lor']['g']*(0x261a*-0x1+0x1*0x199b+0xd7e)),Math['round'](this['_outlineCo'+'lor']['b']*(0xb*-0x37d+-0x47f*-0x1+-0x22df*-0x1)),Math['round'](this['_outlineCo'+'lor']['a']*(0x1*0x191+0x89*-0x11+0x887)),Math['round'](this['_outlineTh'+'ickness']*(0x1*-0x1f9d+-0x1*0x1f37+0x3fd3))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x1*-0x2597+-0xcde+-0x94*-0x59)),Math['round'](this['_shadowCol'+'or']['g']*(0x2018+-0x1e66+-0xb3)),Math['round'](this['_shadowCol'+'or']['b']*(0x269b*0x1+-0x730*-0x4+-0x3e*0x112)),Math['round'](this['_shadowCol'+'or']['a']*(0xa9b+-0x1*0x193d+-0x1*-0xfa1)),Math['round'](this['_shadowOff'+'set']['x']*(-0x2*-0x530+0xd5*-0xb+-0xba)),Math['round'](this['_shadowOff'+'set']['y']*(-0x115*-0x4+-0x2480+0x20ab))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x210787[this['_color']['toString'](!(-0x1dba+-0x2348+0x5e9*0xb))['toLowerCas'+'e']()]=0x51*0x27+-0x1558+0x901*0x1,_0x563f72[_0x14e9c0(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x7bb*-0x1+0x588*-0x5+0x2363,_0x45a8f4[_0x4bcdc8(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x43*0x9+-0x1a*-0x3b+-0x3a3;for(let _0x23b675=0x1aec+-0x25e+-0x188e,_0x494f3c=this['_symbols']['length'];_0x23b675<_0x494f3c;++_0x23b675){const _0xbd1b4d=_0xa2a4af[_0x23b675];let _0x6a00ad=-0x38f+0x6*0x435+-0x15af;if(_0xbd1b4d&&_0xbd1b4d['color']&&_0xbd1b4d['color']['value']){const _0x4deb15=_0xbd1b4d['color']['value'];if(_0x4deb15['length']===-0x1468+-0xa9*-0x38+-0x1089&&_0x4deb15[0x1239*-0x1+-0xdb2*0x2+0x1*0x2d9d]==='#'){const _0x3e8256=_0x4deb15['substring'](0x8+0x24d0+-0x24d7)['toLowerCas'+'e']();_0x210787['hasOwnProp'+'erty'](_0x3e8256)?_0x6a00ad=_0x210787[_0x3e8256]:/^[0-9a-f]{6}$/['test'](_0x3e8256)&&(_0x6a00ad=this['_colorPale'+'tte']['length']/(0x21a+-0x7fa+0x1*0x5e3),_0x210787[_0x3e8256]=_0x6a00ad,this['_colorPale'+'tte']['push'](parseInt(_0x3e8256['substring'](0x1db6*-0x1+-0x1*-0x20f4+-0x33e*0x1,-0x38*-0x19+0xf9*0x1a+-0x1ec0),-0x80b+-0x65*-0x2f+0x538*-0x2)),this['_colorPale'+'tte']['push'](parseInt(_0x3e8256['substring'](0x1c01*0x1+-0x2*0x23b+-0x4b5*0x5,0xe8d*-0x1+-0x649*-0x3+-0x44a),-0x1*0x1844+0x245c+-0xc08)),this['_colorPale'+'tte']['push'](parseInt(_0x3e8256['substring'](-0x1*0x1756+-0x6*0x2e5+0x28b8,0xa7*-0x26+0x1*-0xfab+0x287b),-0x7*0x2b1+-0xe31+0x2118)));}}this['_symbolCol'+'ors']['push'](_0x6a00ad);let _0x49ec90=-0x2208+-0x10d1+0x10f3*0x3;if(_0xbd1b4d&&_0xbd1b4d['outline']&&(_0xbd1b4d['outline']['attributes']['color']||_0xbd1b4d['outline']['attributes']['thickness'])){let _0x279c99=_0xbd1b4d['outline']['attributes']['color']?mg['fromString'](_0xbd1b4d['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x43b72f=Number(_0xbd1b4d['outline']['attributes']['thickness']);(Number['isNaN'](_0x279c99['r'])||Number['isNaN'](_0x279c99['g'])||Number['isNaN'](_0x279c99['b'])||Number['isNaN'](_0x279c99['a']))&&(_0x279c99=this['_outlineCo'+'lor']),Number['isNaN'](_0x43b72f)&&(_0x43b72f=this['_outlineTh'+'ickness']);const _0x3c0120=_0x14e9c0(_0x279c99,_0x43b72f);_0x563f72['hasOwnProp'+'erty'](_0x3c0120)?_0x49ec90=_0x563f72[_0x3c0120]:(_0x49ec90=this['_outlinePa'+'lette']['length']/(0x1d61+0x973+-0x26cf),_0x563f72[_0x3c0120]=_0x49ec90,this['_outlinePa'+'lette']['push'](Math['round'](_0x279c99['r']*(0x5b2*-0x3+0x14a*0xb+-0x14d*-0x3)),Math['round'](_0x279c99['g']*(0xb35+0x3*-0x8e6+0x107c)),Math['round'](_0x279c99['b']*(-0x73b+0x232*0x3+0x23*0xc)),Math['round'](_0x279c99['a']*(0x2*-0xe9+-0x1cdf+0x30*0xa9)),Math['round'](_0x43b72f*(-0x3f*0x29+-0xbae*0x2+0x2272))));}this['_symbolOut'+'lineParams']['push'](_0x49ec90);let _0x4be340=0x24f5*0x1+-0x15ee+0xf07*-0x1;if(_0xbd1b4d&&_0xbd1b4d['shadow']&&(_0xbd1b4d['shadow']['attributes']['color']||_0xbd1b4d['shadow']['attributes']['offset']||_0xbd1b4d['shadow']['attributes']['offsetX']||_0xbd1b4d['shadow']['attributes']['offsetY'])){let _0x11427c=_0xbd1b4d['shadow']['attributes']['color']?mg['fromString'](_0xbd1b4d['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x1a9522=Number(_0xbd1b4d['shadow']['attributes']['offset']),_0x3efaab=Number(_0xbd1b4d['shadow']['attributes']['offsetX']),_0x336bb7=Number(_0xbd1b4d['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x11427c['r'])||Number['isNaN'](_0x11427c['g'])||Number['isNaN'](_0x11427c['b'])||Number['isNaN'](_0x11427c['a']))&&(_0x11427c=this['_shadowCol'+'or']);const _0x4983b9=FR['set'](Number['isNaN'](_0x3efaab)?Number['isNaN'](_0x1a9522)?this['_shadowOff'+'set']['x']:_0x1a9522:_0x3efaab,Number['isNaN'](_0x336bb7)?Number['isNaN'](_0x1a9522)?this['_shadowOff'+'set']['y']:_0x1a9522:_0x336bb7),_0x51720a=_0x4bcdc8(_0x11427c,_0x4983b9);_0x45a8f4['hasOwnProp'+'erty'](_0x51720a)?_0x4be340=_0x45a8f4[_0x51720a]:(_0x4be340=this['_shadowPal'+'ette']['length']/(-0x1f7*-0xf+-0x1e61*-0x1+-0x446*0xe),_0x45a8f4[_0x51720a]=_0x4be340,this['_shadowPal'+'ette']['push'](Math['round'](_0x11427c['r']*(-0x7a*-0x25+-0x23*0xca+-0x3a9*-0x3)),Math['round'](_0x11427c['g']*(0x11ae*-0x1+0xcd4+0x5d9)),Math['round'](_0x11427c['b']*(-0x1*0x87b+0x2*-0x36b+0x48*0x3a)),Math['round'](_0x11427c['a']*(0xa11+0x384*0x4+-0x1722)),Math['round'](_0x4983b9['x']*(0x1b67*0x1+0x23bb+0x42d*-0xf)),Math['round'](_0x4983b9['y']*(0x2e8*0x4+-0x575+-0x84*0xb))));}this['_symbolSha'+'dowParams']['push'](_0x4be340);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x4974a0=this['_calculate'+'CharsPerTe'+'xture']();let _0x2b28a4=!(0x1c0c+-0x577*-0x4+0xaf*-0x49);const _0x38f571=this['_element'],_0x468652=_0x38f571['_isScreenS'+'pace'](),_0x551644=_0x38f571['_isScreenC'+'ulled'](),_0x2f7b6a=function(_0xba85b3){return _0x38f571['isVisibleF'+'orCamera'](_0xba85b3);};for(let _0x196dff=0xa5a+-0x25da+-0x1b80*-0x1,_0x1013b8=this['_meshInfo']['length'];_0x196dff<_0x1013b8;_0x196dff++){const _0x824623=_0x4974a0[_0x196dff]||0xb9*-0xa+-0x1ded+0x2527,_0x51eaa4=this['_meshInfo'][_0x196dff];if(_0x51eaa4['count']!==_0x824623){if(_0x2b28a4||(_0x38f571['removeMode'+'lFromLayer'+'s'](this['_model']),_0x2b28a4=!(-0x5*-0x4a1+0x4*-0x6a+-0x157d)),_0x51eaa4['count']=_0x824623,_0x51eaa4['positions']['length']=_0x51eaa4['normals']['length']=_0x824623*(0x777*0x4+-0x1236+-0xba3)*(0x22fa+0x7bf+0x2ab5*-0x1),_0x51eaa4['indices']['length']=_0x824623*(-0x111b+0x10*0x7f+0x92e)*(-0xc*0x2c+0x355*0x8+0x1896*-0x1),_0x51eaa4['uvs']['length']=_0x824623*(-0xb69*-0x2+0x2f*-0x61+-0x501)*(0x7*0x469+-0x3b*-0x1+-0x15a*0x17),_0x51eaa4['colors']['length']=_0x824623*(0x2*-0x1e9+-0x4dc*-0x2+-0x5e2)*(-0x1765+-0xc5c+0x1*0x23c5),_0x51eaa4['outlines']['length']=_0x824623*(-0x1dd9+0x1ee7+-0x10a)*(0x1c77*-0x1+0x73*-0x3d+-0x5*-0xb2d),_0x51eaa4['shadows']['length']=_0x824623*(0x150b+-0x1*-0x1f49+-0x117*0x30)*(0x1*0x37a+0x1bc+-0x533),_0x51eaa4['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x51eaa4['meshInstan'+'ce']),_0x824623===-0x58*0x2f+0x1*0x117f+-0x7*0x31){_0x51eaa4['meshInstan'+'ce']=null;continue;}for(let _0x40b7bc=-0x19c6+0x539+0x1*0x148d;_0x40b7bc<_0x824623;_0x40b7bc++)_0x51eaa4['indices'][_0x40b7bc*(-0x9b*-0x6+0x1aab*-0x1+-0x127*-0x14)*(0xac*0x35+-0x24c5+0x17*0xd)+(0x7f6+0x3*-0xbb2+0x1b20)]=_0x40b7bc*(0x201+0x1351+-0x154e),_0x51eaa4['indices'][_0x40b7bc*(-0x1*-0x287+-0x1*0x3f4+0x170)*(0x2*0xaa+0x5*0x7a5+-0x278b)+(-0xa68*0x3+-0xd*0x254+0x3d7d)]=_0x40b7bc*(-0x1a28+-0x2605+0x1*0x4031)+(0x95*0x28+0x1a43+-0x318a),_0x51eaa4['indices'][_0x40b7bc*(0x1e9e+0x6fa+0x2595*-0x1)*(0x8*-0x257+-0x1*0x2321+0x35db)+(0x15c3+-0x1c3f*-0x1+-0x3200)]=_0x40b7bc*(-0x1d09+-0x27*-0x11+0x6*0x469)+(0x1b0b+-0x1c7c+0x1*0x174),_0x51eaa4['indices'][_0x40b7bc*(-0x18f0+0x10*0x137+0x53*0x11)*(-0xd3*0x11+0x239f*0x1+-0x159a)+(-0x66c+0x1044+-0x9d5*0x1)]=_0x40b7bc*(0x1*-0x2317+-0xd*0x19+0x2460)+(-0x1a2b+0x5*0x7b5+0xc5c*-0x1),_0x51eaa4['indices'][_0x40b7bc*(0x3*0xaed+0x2512+0x45d6*-0x1)*(-0x765+-0x74*0x1+0x1*0x7db)+(-0x19c1+-0xd*0xc9+-0x266*-0xf)]=_0x40b7bc*(0x541*-0x5+0x1*-0x46a+-0x10f*-0x1d)+(-0x2af*-0x1+0x26d8+-0x2*0x14c2),_0x51eaa4['indices'][_0x40b7bc*(0x2*-0x71f+0x19f0+-0xbaf)*(-0x7*-0x349+-0x1f4b+0x84e)+(0x25d3+0x128+-0x26f6)]=_0x40b7bc*(0x5*0x6aa+0xf74+0x4f*-0x9e)+(-0xf4+-0x2601+-0x2*-0x137b),_0x51eaa4['normals'][_0x40b7bc*(0x6c2+0x14dc+-0x1b9a)*(0x1001+-0x1*-0xca4+-0x1ca2)+(0x665*-0x1+0x2*-0x3df+0xb*0x149)]=-0x1619+-0x23ba+0x39d3,_0x51eaa4['normals'][_0x40b7bc*(0x1f2d+-0x2a*0x6f+-0xcf3)*(0x8d*0x8+0x122c+-0x1691)+(0x912+-0x1361+-0x8*-0x14a)]=-0x1b6*-0x1+0x3a3+-0x559,_0x51eaa4['normals'][_0x40b7bc*(-0x1387+0x243*0x6+0xb*0x8b)*(-0xd97+-0x5d8+0x1372)+(0x1052*-0x2+-0x1953+0x39f9)]=-(-0x2e*-0x1c+-0x2b*-0x6d+-0x1756),_0x51eaa4['normals'][_0x40b7bc*(-0x167e*0x1+-0x2*-0xdc4+-0x283*0x2)*(-0x1938+0x1c*-0x13+0x1*0x1b4f)+(-0x1ea7*0x1+0x600+0x18aa)]=-0x3ec*0x2+0x4b5*0x5+-0xfb1,_0x51eaa4['normals'][_0x40b7bc*(-0x345+-0xce3+0xc*0x159)*(0x1d0d+-0x1316+0xe*-0xb6)+(0x35*0x81+-0x2595+0x22*0x52)]=-0x9*-0x47+-0x2f*-0x2d+0x22*-0x51,_0x51eaa4['normals'][_0x40b7bc*(0x2179+0x5*0x4df+-0x39d0)*(-0x17fe+-0x6b0+-0x1eb1*-0x1)+(-0x15e4+0x5eb+-0x59*-0x2e)]=-(0x7*-0xd5+0xfce+0x2*-0x4fd),_0x51eaa4['normals'][_0x40b7bc*(-0x7e5+-0x643*0x3+0x1ab2*0x1)*(0xc9e+0xbea+-0x1885)+(0x1361+-0xa7*0x15+-0x1*0x5a8)]=0x2263+0x49*0x3f+-0x345a,_0x51eaa4['normals'][_0x40b7bc*(0x87f+0xf75+-0x17f*0x10)*(-0xd93+0x1c9+-0x39*-0x35)+(0x885+-0x155c+0x9*0x16e)]=0xad*-0x39+-0x1*0x1ed6+0x455b,_0x51eaa4['normals'][_0x40b7bc*(0x424+0x21ff+-0x1*0x261f)*(-0x21f3+-0x92c+0x2b22*0x1)+(-0xdb7+-0x24c3*-0x1+0x2*-0xb82)]=-(0x1189*-0x2+0x2*-0x28f+0x2831),_0x51eaa4['normals'][_0x40b7bc*(0x3*0x79+-0x7df+-0x678*-0x1)*(-0x1*-0x225b+0x1004*0x1+-0x325c)+(0x16b2+-0x14dd+-0x1cc)]=-0x1*-0x1853+0x3*-0x28e+-0x1*0x10a9,_0x51eaa4['normals'][_0x40b7bc*(0x21*0x10c+-0x10ef+-0x1199)*(0x37c+0xbd6+-0x1*0xf4f)+(0x904*0x1+-0x2e4*-0x3+-0x11a6)]=-0x5e*0x5e+0x24e6+-0x131*0x2,_0x51eaa4['normals'][_0x40b7bc*(0xd*-0xc5+-0x242d+-0x3*-0xf66)*(0xd61+-0x1*0x1a92+0xd34)+(-0x10a7+-0x1af*0x11+0x2d51)]=-(0xdb*-0xd+0x596+0x58a*0x1);const _0x5d4f52=MR(this['_system']['app']['graphicsDe'+'vice'],_0x51eaa4),_0x2d3343=new Le(_0x5d4f52,this['_material'],this['_node']);if(_0x2d3343['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x2d3343['castShadow']=!(0x62b*0x5+0x152e+-0x3404),_0x2d3343['receiveSha'+'dow']=!(0x1744+-0x1b1a*-0x1+-0x325d),_0x2d3343['cull']=!_0x468652,_0x2d3343['screenSpac'+'e']=_0x468652,_0x2d3343['drawOrder']=this['_drawOrder'],_0x551644&&(_0x2d3343['cull']=!(-0x8f*0xf+-0x257e+0x1*0x2ddf),_0x2d3343['isVisibleF'+'unc']=_0x2f7b6a),this['_setTextur'+'eParams'](_0x2d3343,this['_font']['textures'][_0x196dff]),_0x2d3343['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x2d3343['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x2d3343['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2d3343['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2d3343['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x196dff]['width']),_0x2d3343['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x2d3343['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x2d3343['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0xfb*0x5+0x17c5+-0x1cac]=0xa61*0x1+0x1d2*-0x8+0x42f*0x1,this['_shadowOff'+'setUniform'][0x4c*-0x7b+-0x1c47+0x40cc]=-0xe2*0x2b+0x247f*0x1+0x177;else{const _0x2713fe=-this['_font']['data']['info']['maps'][_0x196dff]['width']/this['_font']['data']['info']['maps'][_0x196dff]['height'];this['_shadowOff'+'setUniform'][-0xa3d+0x4*-0x910+0x2e7d*0x1]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1a0+-0x3*-0xcef+-0x94b*0x4]=_0x2713fe*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x2d3343['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x51eaa4['meshInstan'+'ce']=_0x2d3343,this['_model']['meshInstan'+'ces']['push'](_0x2d3343);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x2b28a4&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0xe31+0x40a+-0x71*-0x17,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x62adb7){_0x62adb7['destroy']();const _0x4954a3=this['_model']['meshInstan'+'ces']['indexOf'](_0x62adb7);_0x4954a3!==-(0xde6+-0xdf1+0x1*0xc)&&this['_model']['meshInstan'+'ces']['splice'](_0x4954a3,0x1*-0x1cea+0x1*-0x22fc+0x3fe7);}['_setMateri'+'al'](_0x4171ed){if(this['_material']=_0x4171ed,this['_model'])for(let _0x3c5add=0xb*0xd3+0xa5*-0x4+-0x67d,_0x4bdeb1=this['_model']['meshInstan'+'ces']['length'];_0x3c5add<_0x4bdeb1;_0x3c5add++){const _0x525266=this['_model']['meshInstan'+'ces'][_0x3c5add];_0x525266['material']=_0x4171ed;}}['_updateMat'+'erial'](_0x43d28f){const _0x4c534b=this['_element'],_0x171b3a=_0x4c534b['_isScreenC'+'ulled'](),_0x3b31e2=function(_0x3c1dc3){return _0x4c534b['isVisibleF'+'orCamera'](_0x3c1dc3);},_0x64ab3e=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x43d28f,_0x64ab3e,this['_enableMar'+'kup']),this['_model'])for(let _0x574c7f=0x1*0x8f3+-0x148f+-0x4*-0x2e7,_0x385be5=this['_model']['meshInstan'+'ces']['length'];_0x574c7f<_0x385be5;_0x574c7f++){const _0x2e4259=this['_model']['meshInstan'+'ces'][_0x574c7f];_0x2e4259['cull']=!_0x43d28f,_0x2e4259['material']=this['_material'],_0x2e4259['screenSpac'+'e']=_0x43d28f,_0x171b3a?(_0x2e4259['cull']=!(-0x5be+-0x818+0xdd6),_0x2e4259['isVisibleF'+'unc']=_0x3b31e2):_0x2e4259['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x6a1*0x1+-0x1008+0x16a9]=-0x11a1+-0x6fb+-0x1*-0x189d,this['_colorUnif'+'orm'][-0x222b+-0x3*0x4d+-0x3*-0xbb1]=0x37*0xd+-0x207f+0x1db5,this['_colorUnif'+'orm'][-0x18b3*-0x1+0x17cd+-0x307e]=0x95f+-0x1eb1+0x1553):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x61a+-0x4e*-0x22+-0x1076]=Me['r'],this['_colorUnif'+'orm'][0xafd+0x890+-0x138c]=Me['g'],this['_colorUnif'+'orm'][0x47d*0x6+-0x16e7+0x93*-0x7]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0xd0f*-0x2+-0x1ddd+-0x3*-0x12a9]=-0x991*0x2+0x29*0xd+0x110d,this['_outlineCo'+'lorUniform'][0x360+0xdde+0x3*-0x5bf]=0x1b1f*-0x1+0x1*-0x21a6+0x3cc5,this['_outlineCo'+'lorUniform'][-0x2619+-0x3*0x745+-0x3bea*-0x1]=0x244d*-0x1+-0x2*-0x34a+0x1db9,this['_outlineCo'+'lorUniform'][-0x1399+0x23ff+0x1063*-0x1]=0x117b*-0x1+0x6e9*-0x1+-0x1865*-0x1):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x2*0x821+-0x13d3+-0xb*-0x53]=Me['r'],this['_outlineCo'+'lorUniform'][0x2c5+0x15d9+-0x189d]=Me['g'],this['_outlineCo'+'lorUniform'][0x9*0x303+0x1*-0x1657+-0x4c2]=Me['b'],this['_outlineCo'+'lorUniform'][0x2*-0x11ef+-0x1*0x21d1+0x45b2]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x2033+-0xf0b+0x2*-0x894]=0x7*0x494+0x461*-0x3+-0x12e9,this['_shadowCol'+'orUniform'][0x4*-0x962+0x2174+0x415]=-0x11ac+0x1*0xa95+0x717,this['_shadowCol'+'orUniform'][-0x2063+0xd27+0x66a*0x3]=0x19*-0x109+0x111a+0x8c7,this['_shadowCol'+'orUniform'][-0x41c+0x4b8+-0x99]=0x1*-0x71f+-0x1*-0x2132+0x1a13*-0x1):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x38b+0x132f+-0x3e9*0x4]=Me['r'],this['_shadowCol'+'orUniform'][-0xf*-0x16e+0x37*0x2b+-0x9a*0x33]=Me['g'],this['_shadowCol'+'orUniform'][0x1200+0xd60+-0x1f5e]=Me['b'],this['_shadowCol'+'orUniform'][-0x3b*0x7+0xb41*-0x1+0xce1]=Me['a']);}['_isWordBou'+'ndary'](_0x21a8ab){return fg['test'](_0x21a8ab);}['_isValidNe'+'xtChar'](_0x4f6a09){return _0x4f6a09!==null&&!IR['test'](_0x4f6a09);}['_isNextCJK'+'Boundary'](_0x1b0ff3,_0x190e6f){return pg['test'](_0x1b0ff3)&&(fg['test'](_0x190e6f)||RR['test'](_0x190e6f));}['_isNextCJK'+'WholeWord'](_0x4dedf1){return pg['test'](_0x4dedf1);}['_updateMes'+'hes'](){const _0x1393a9=this['_font']['data'],_0x3cbd5c=this,_0x10c93c=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x408f41=this['_maxFontSi'+'ze'],_0x1861c7=this['_shouldAut'+'oFit']();_0x1861c7&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x36f332=0x16fa+-0xbf*0x27+0x63f,_0x46c7c1=this['_symbols']['length'];let _0x520589=0x1bb9+0x1afe+-0x1e3*0x1d,_0x48ee1e=-0x552*-0x2+0x1bd7+0x1*-0x267b,_0x3e2fc4=-0x119*-0x10+-0x377*0x1+0x1*-0xe19,_0x24e565=-0x1ce6+-0x6*-0xf9+0x1710,_0xdd5b85=-0x22a1+-0x229a+0x453c,_0x3bbaf2=0xd3e+0xd*-0x96+-0x5a0,_0x589383=-0x1083+-0x1f*0x31+-0x22*-0xa9,_0x112c8d=-0x6d1+0x212*-0x8+0x13b*0x13,_0x5a1723=-0xf41+0x515*-0x2+-0x196b*-0x1,_0x59ced7=-0x874+-0x1*0x191+-0x87*-0x13,_0x3452c0=-0x2445+0x401*-0x2+0x5*0x8db;const _0x1808ad=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x4*-0x8ba+-0xcb8+-0x7f*-0x60+0.0001;let _0x39494f=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x1808ad||!this['_wrapLines'])&&(_0x39494f=Number['POSITIVE_I'+'NFINITY']);let _0xbe0f9b=-0x5*-0x22c+0x5*0x4b5+-0x2265,_0x52546d=0x5b*-0x6a+0x194*0x17+0x162,_0x57f38d,_0x2984c6,_0x59fd88,_0x21217a;function _0x518799(_0xabac45,_0x555d65,_0x5b7b18){_0x3cbd5c['_lineWidth'+'s']['push'](Math['abs'](_0x5b7b18));const _0x1cd629=_0x112c8d>_0x555d65?_0x555d65+(-0xb*0x265+-0x18ff+0x3357):_0x112c8d,_0x148f33=_0x112c8d>_0x555d65?_0x112c8d+(0x27*-0x62+0x24*-0x109+0x17*0x245):_0x555d65,_0x3fa435=_0xabac45['slice'](_0x1cd629,_0x148f33);if(_0x3452c0){let _0x2025d3=_0x3fa435['length'];for(;_0x2025d3--&&_0x3452c0>0x1*-0x605+-0x97a+0xf7f*0x1;)ug['test'](_0x3fa435[_0x2025d3])&&(_0x3fa435['splice'](_0x2025d3,0x7b6+-0x757*-0x3+-0x2*0xedd),_0x3452c0--);}_0x3cbd5c['_lineConte'+'nts']['push'](_0x3fa435['join']('')),_0x520589=0x6*0x1bf+-0x19cd+-0xf53*-0x1,_0x48ee1e-=_0x3cbd5c['_scaledLin'+'eHeight'],_0xdd5b85++,_0x5a1723=0x2*0x19f+-0x61f+0xb*0x43,_0x59ced7=0x123d+0xeee+-0x1*0x212b,_0x3452c0=0x1*-0x211e+-0x1*-0x4f6+-0xd4*-0x22,_0x3bbaf2=-0x79*0x17+-0xdd1+0xc58*0x2,_0x112c8d=_0x555d65;}let _0x5ded0a=!(-0x4aa*-0x2+-0x1*0x1e9+-0x76b*0x1);for(;_0x5ded0a;){_0x5ded0a=!(0x3a*0x80+0x2*-0x494+-0x3*0x69d),_0x1861c7?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x1ee6+-0x9a9+-0x153d+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x1510+0x6f+-0x1*0x157f,this['height']=0x1*0x664+0x1287+-0x18eb,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x520589=0x2c6+0x2b4+0x57a*-0x1,_0x48ee1e=-0xe82+-0x13d5+0x2257,_0x3e2fc4=0x1cb9+0x1765+0x1a0f*-0x2,_0x24e565=-0x1*0x2345+0x769*0x4+0x5a1,_0xdd5b85=0xd71+-0x1*-0x974+0x5*-0x494,_0x3bbaf2=-0x68c+-0x208b*0x1+-0x2717*-0x1,_0x589383=0x23ff+0x83*0x2c+-0x1381*0x3,_0x112c8d=0x1*-0x2313+-0x1ae0+-0x1*-0x3df3,_0x5a1723=0x1*-0x1c9c+0x223a+-0x59e,_0x59ced7=-0x2671+0x41f*0x7+0x998,_0x3452c0=0x1a7a+0x4ee*-0x6+0x18d*0x2;const _0x36ec3c=this['_fontSize']/_0x36f332;_0xbe0f9b=this['_fontMinY']*_0x36ec3c,_0x52546d=this['_fontMaxY']*_0x36ec3c;for(let _0x2d7003=0x211a+-0x2*-0x124a+-0x45ae;_0x2d7003<this['_meshInfo']['length'];_0x2d7003++)this['_meshInfo'][_0x2d7003]['quad']=0x691*0x5+0x80e+-0x28e3*0x1,this['_meshInfo'][_0x2d7003]['lines']={};let _0x407d9a=0x92+0x529*0x7+-0x23b2,_0x49f3de=-0x1*0x1629+0x998+-0x8*-0x1b2,_0x5523c0=-0x1*-0x2482+0x1*0x1d62+-0x40e5,_0x3bbfdf=-0x1f97+0x1*0x209f+-0x3*0x3+(-0x221b+0xc*-0x1f4+0x3a8a)*(-0x268+0x31c+0x4c),_0x335a42=0x872+-0x1bd4+-0x1461*-0x1+(-0x185e+0x1*-0x1d23+0x3680)*(0x1*-0x1393+0xd*-0x163+0x269a),_0x58d95e=0x7a3*-0x1+0x116f*0x1+0xe4*-0xb,_0x44f5e5=0xf76+0x53*-0x25+-0x278+(0xbc1+-0xb8b*0x3+0x15*0x123)*(-0xbf7+0x1604+-0x90d*0x1),_0x139c4b=0x1bd4+0x961+-0x2436+(0x89*0x35+-0x407*-0x9+-0x1*0x3f9d)*(0xd4c+-0x1*0x111b+0x4cf*0x1),_0x1cd02a=0x1703+-0xa85*0x3+0x90b*0x1+(-0x903+-0x1c3e+0x20*0x12e)*(-0x12d6+0x985+0x13*0x8b);for(let _0xe80d0b=-0x224*0x12+0x1c1*-0x3+0xe99*0x3;_0xe80d0b<_0x46c7c1;_0xe80d0b++){if(_0x57f38d=this['_symbols'][_0xe80d0b],_0x21217a=_0xe80d0b+(-0xfec+0xb3f*-0x1+0x2f*0x94)>=_0x46c7c1?null:this['_symbols'][_0xe80d0b+(-0x6c*0x12+-0xbfe+0x1397)],ug['test'](_0x57f38d)){_0x3452c0++,(!this['_wrapLines']||this['_maxLines']<-0xeab+0x18d0+-0xa25||_0xdd5b85<this['_maxLines'])&&(_0x518799(this['_symbols'],_0xe80d0b,_0x24e565),_0x589383=_0xe80d0b+(0x1cfe+-0x1a67*-0x1+0x2c5*-0x14),_0x112c8d=_0xe80d0b+(0x1*0x24f+0x177c+-0x19ca));continue;}let _0x454f56=-0x28*-0x5+-0x1*-0x10da+-0x11a2,_0x530b2a=0x244a+0x61d+-0x2a67,_0x1adabb=0x703+-0x15*-0x71+0x8*-0x209,_0x148dbe=0x5*-0x761+-0x2*-0x890+-0x13c6*-0x1,_0xa05b3f,_0x4beb96;if(_0x2984c6=_0x1393a9['chars'][_0x57f38d],!_0x2984c6){if(DR['indexOf'](_0x57f38d)!==-(-0x6b9*0x1+0x1e6a+-0x17b0))_0x2984c6=LR;else{if(_0x1393a9['chars']['\x20'])_0x2984c6=_0x1393a9['chars']['\x20'];else for(const _0x6c6b40 in _0x1393a9['chars']){_0x2984c6=_0x1393a9['chars'][_0x6c6b40];break;}_0x1393a9['missingCha'+'rs']||(_0x1393a9['missingCha'+'rs']=new Set()),_0x1393a9['missingCha'+'rs']['has'](_0x57f38d)||(console['warn']('Character\x20'+'\x27'+_0x57f38d+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x1393a9['info']['face']),_0x1393a9['missingCha'+'rs']['add'](_0x57f38d));}}if(_0x2984c6){let _0x57ee78=0x1*-0xbbe+0x1579+-0x9bb;if(_0x59ced7>-0x76b*-0x4+0xd*-0xe2+0x1232*-0x1){const _0x1b376f=this['_font']['data']['kerning'];if(_0x1b376f){const _0xf834=_0x1b376f[ah['getCodePoi'+'nt'](this['_symbols'][_0xe80d0b-(-0x2154+-0x95f+0x2ab4)])||-0xca4*-0x2+-0x79c*-0x5+-0xfd5*0x4];_0xf834&&(_0x57ee78=_0xf834[ah['getCodePoi'+'nt'](this['_symbols'][_0xe80d0b])||0x1*-0x20bf+0x97*-0x29+0x38ee]||0x1595+0xc34*0x1+-0x21c9);}}_0xa05b3f=_0x2984c6['scale']||-0x2167+-0x419*-0x3+0x439*0x5,_0x4beb96=(_0x2984c6['width']+_0x2984c6['height'])/(-0x21d6+0x1c99+0x53f),_0x148dbe=_0x36ec3c*_0x4beb96/_0xa05b3f,_0x1adabb=(_0x2984c6['xadvance']+_0x57ee78)*_0x36ec3c,_0x454f56=(_0x2984c6['xoffset']-_0x57ee78)*_0x36ec3c,_0x530b2a=_0x2984c6['yoffset']*_0x36ec3c;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x57f38d+'\x27');const _0xebbb59=PR['test'](_0x57f38d),_0x11f6b2=_0x2984c6&&_0x2984c6['map']||0x15b+0xb7b*-0x3+0x6e*0x4d,_0xcf7b39=-this['_font']['data']['info']['maps'][_0x11f6b2]['width']/this['_font']['data']['info']['maps'][_0x11f6b2]['height'],_0x201266=this['_meshInfo'][_0x11f6b2],_0xabafe=_0x520589+this['_spacing']*_0x1adabb;if(_0xabafe>_0x39494f&&_0x59ced7>0x1c9*0x13+0xa67+0x3d*-0xba&&!_0xebbb59&&(this['_maxLines']<-0x9*0x15b+-0x1*0x8b5+0x14e8||_0xdd5b85<this['_maxLines'])){if(_0x5a1723===-0x5*0x3b9+0x1*-0xdc7+0x2064)_0x589383=_0xe80d0b,_0x518799(this['_symbols'],_0xe80d0b,_0x24e565);else{const _0x1b729a=Math['max'](_0xe80d0b-_0x589383,-0xf*-0x25c+-0xc98+0x2*-0xb66);if(this['_meshInfo']['length']<=0x1*-0x26ef+-0x7ed+0x2edd)_0x201266['lines'][_0xdd5b85-(0x847+0xd3*0x22+-0x244c)]-=_0x1b729a,_0x201266['quad']-=_0x1b729a;else{const _0x401fba=_0x589383,_0x2c24c9=_0xe80d0b;for(let _0xda126f=_0x401fba;_0xda126f<_0x2c24c9;_0xda126f++){const _0x4cd63a=this['_symbols'][_0xda126f],_0x1f4f14=_0x1393a9['chars'][_0x4cd63a],_0x2c6d2f=this['_meshInfo'][_0x1f4f14&&_0x1f4f14['map']||-0x7b3+-0xc90+0x1443];_0x2c6d2f['lines'][_0xdd5b85-(-0xb5b*-0x1+-0x2b*-0xbf+-0x2b6f)]-=0x349+-0x1308+-0x2*-0x7e0,_0x2c6d2f['quad']-=-0x1f45+-0xf1*-0x18+0x8ae;}}_0xe80d0b-=_0x1b729a+(0x9af+-0x3*0x5+-0x1*0x99f),_0x518799(this['_symbols'],_0x589383,_0x3bbaf2);continue;}}_0x59fd88=_0x201266['quad'],_0x201266['lines'][_0xdd5b85-(0x2619+-0x16e7+-0x1*0xf31)]=_0x59fd88;let _0x1243cb=_0x520589-_0x454f56,_0x431a05=_0x1243cb+_0x148dbe;const _0x945b6d=_0x48ee1e-_0x530b2a,_0x183698=_0x945b6d+_0x148dbe;if(this['_rtl']){const _0x50b138=_0x148dbe-_0x454f56-this['_spacing']*_0x1adabb-_0x454f56;_0x1243cb-=_0x50b138,_0x431a05-=_0x50b138;}_0x201266['positions'][_0x59fd88*(0xc*-0x11b+-0x143b+0x17*0x175)*(0x1*-0x815+-0x9d2+0x11ea)+(0x1*-0x7d9+0x3*-0x65+0x908)]=_0x1243cb,_0x201266['positions'][_0x59fd88*(0x5a9+-0xaae*0x1+-0x1*-0x509)*(0x90c*-0x1+-0x116c+0x1a7b)+(-0x1*-0x44f+-0x3b5+-0x99)]=_0x945b6d,_0x201266['positions'][_0x59fd88*(0xeae+0x16d8+0x2582*-0x1)*(0xc*-0x1c9+-0x9b3+0x1f22)+(-0x5*0x7af+0xa*0x155+0x191b)]=_0x3e2fc4,_0x201266['positions'][_0x59fd88*(0x14d*-0x8+-0x4ea*0x5+0xbaa*0x3)*(0x231d*-0x1+-0xa21+-0x5*-0x90d)+(0x783*0x2+-0x7cb*-0x2+0x15*-0x175)]=_0x431a05,_0x201266['positions'][_0x59fd88*(-0x1*0x2f+0x205c+-0x2029*0x1)*(-0x2424+0xf*0x4e+-0xb*-0x2df)+(0xb6*0xe+0x1*-0x13d+-0x8b3)]=_0x945b6d,_0x201266['positions'][_0x59fd88*(-0x1b07+0xffe+0xb0d)*(0x1a9d+-0x2285+0x1*0x7eb)+(0x5db+0xf1f+-0x14f5)]=_0x3e2fc4,_0x201266['positions'][_0x59fd88*(0x1f86+-0xa1b+0x1567*-0x1)*(0x180a+-0xf*0x146+-0x4ed)+(0xb5c+-0x4aa+0x3d*-0x1c)]=_0x431a05,_0x201266['positions'][_0x59fd88*(0x1317*0x2+0xc38+-0x2*0x1931)*(-0x1f*0xa4+-0x1*-0x1e53+-0xa74)+(0x14a+0x1a21+-0x1b64)]=_0x183698,_0x201266['positions'][_0x59fd88*(0x1*0x98a+-0x1*0x2437+0x1ab1*0x1)*(0xc16+-0x61+0x3*-0x3e6)+(0x2677+-0x4*0x87b+-0x3*0x181)]=_0x3e2fc4,_0x201266['positions'][_0x59fd88*(-0x7*-0x29d+0x23e5+0xd8b*-0x4)*(0xa*-0x15b+-0x5cc+0x135d)+(0x2*-0x8ab+0x1169+-0xa)]=_0x1243cb,_0x201266['positions'][_0x59fd88*(-0x1d44+-0x1*0x895+0x25dd)*(0x2199+-0x1073*-0x2+-0x427c)+(0x6f6+0x1*-0x909+-0x21d*-0x1)]=_0x183698,_0x201266['positions'][_0x59fd88*(-0x511*-0x5+0x2*0xc41+-0x31d3)*(0x553*0x1+0x1abe+0x1007*-0x2)+(0x322+0x1a9*0xf+0x1bfe*-0x1)]=_0x3e2fc4,this['width']=Math['max'](this['width'],_0xabafe);let _0x487aa4;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x487aa4=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x117+-0x1*-0x26f2+-0x25db+0.0001)),_0x487aa4=N['clamp'](_0x487aa4,_0x10c93c,_0x408f41),_0x487aa4!==this['_element']['fontSize'])){this['_fontSize']=_0x487aa4,_0x5ded0a=!(0x1bb4+-0x1dce+0x21a);break;}if(this['height']=Math['max'](this['height'],_0x52546d-(_0x48ee1e+_0xbe0f9b)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x487aa4=N['clamp'](this['_fontSize']-(-0x25c*0x10+-0x1fa7+0x115a*0x4),_0x10c93c,_0x408f41),_0x487aa4!==this['_element']['fontSize'])){this['_fontSize']=_0x487aa4,_0x5ded0a=!(0x6*-0x3c+-0x16f*0x17+0x2261);break;}_0x520589+=this['_spacing']*_0x1adabb,_0xebbb59||(_0x24e565=_0x520589),(this['_isWordBou'+'ndary'](_0x57f38d)||this['_isValidNe'+'xtChar'](_0x21217a)&&(this['_isNextCJK'+'Boundary'](_0x57f38d,_0x21217a)||this['_isNextCJK'+'WholeWord'](_0x21217a)))&&(_0x5a1723++,_0x3bbaf2=_0x24e565,_0x589383=_0xe80d0b+(0xe2+0x1153*-0x1+0x1a5*0xa)),_0x59ced7++;const _0x369d16=this['_getUv'](_0x57f38d);if(_0x201266['uvs'][_0x59fd88*(0x683*0x2+0x2*-0xe3+-0xb3c)*(-0x8*-0x476+0x3*-0x672+0x2*-0x82c)+(0x11f6+0x1b*0x43+-0x1907)]=_0x369d16[0x18ad*-0x1+0x627+-0x1*-0x1286],_0x201266['uvs'][_0x59fd88*(0x1685+0xfaf+-0x1*0x2630)*(-0xa9*-0x29+-0x2eb+-0x1824)+(0x18a2*0x1+0x137d+-0x2c1e)]=0x3d7*0x6+0x87f+0x2*-0xfc4-_0x369d16[0xbda*-0x3+-0x20c*-0x1+0x2183],_0x201266['uvs'][_0x59fd88*(0x5*0x416+0x329+-0x1793)*(0x3f*0x96+-0x8f4+0x2*-0xdfa)+(0x1ffd*-0x1+-0x1*0x363+0x2362)]=_0x369d16[0x2133+0x1a46+-0x3b77],_0x201266['uvs'][_0x59fd88*(-0x1187*-0x1+-0x1*0x100f+-0x174)*(-0x1e94+-0x847*-0x1+-0x164f*-0x1)+(0x21fe+-0x2bb+-0xc8*0x28)]=0x432+0x33b*-0x4+0x8bb*0x1-_0x369d16[-0x70*-0x24+0x1439+-0x23f8],_0x201266['uvs'][_0x59fd88*(0x19ec+0xc24+-0x260c)*(0x1754+-0x23b3+0xc61*0x1)+(-0x1628+0x4c0+0x116c)]=_0x369d16[-0xd9a*0x1+0x77e*-0x3+0x2416],_0x201266['uvs'][_0x59fd88*(0x1*0x99b+-0x1*-0xbab+-0x2*0xaa1)*(0x3*-0x99f+-0x2*-0xfbb+-0x27*0x11)+(0x1fe4+0x416+-0x23f5)]=-0xf*-0x1b2+-0x12fb+-0x672-_0x369d16[-0x1bd0+0x2*-0x473+0x4f*0x77],_0x201266['uvs'][_0x59fd88*(-0x217d+0x1286+0xefb)*(0x681+0x124e*-0x2+0xd*0x251)+(-0x2e*-0x76+-0x1*0x1cfa+0x7cc)]=_0x369d16[-0x1*-0x5f+0x287*-0x3+-0x39b*-0x2],_0x201266['uvs'][_0x59fd88*(-0x4*-0xdf+0x1b8+-0x4*0x14c)*(0x1*0x1df+0xc65+0x19*-0x92)+(0x637+0xeb*-0x25+0x1bc7)]=-0xc5*-0x7+-0x117f+0xc1d-_0x369d16[-0x21e9*-0x1+-0x53*0x49+0x61*-0x1b],this['_symbolCol'+'ors']){const _0x4fd2da=this['_symbolCol'+'ors'][_0xe80d0b]*(-0x2144+0x63*-0x2d+0x32ae);_0x407d9a=this['_colorPale'+'tte'][_0x4fd2da],_0x49f3de=this['_colorPale'+'tte'][_0x4fd2da+(0x4f*-0x29+-0x192b+0x1*0x25d3)],_0x5523c0=this['_colorPale'+'tte'][_0x4fd2da+(-0x294+-0x15ce+0x1864)];}if(_0x201266['colors'][_0x59fd88*(0xf41*0x1+0x47*0x2b+-0x1b2a)*(-0x1ae1*0x1+0x1769+0xdf*0x4)+(0x167a+-0x886*-0x3+-0x300c)]=_0x407d9a,_0x201266['colors'][_0x59fd88*(-0x3*0x799+-0x628*0x1+0x1cf7)*(0xd8b+0x24a2+-0x1*0x3229)+(-0x11ce+0xe9b*-0x1+0x206a)]=_0x49f3de,_0x201266['colors'][_0x59fd88*(-0x15c1+0x1d61+-0x2*0x3ce)*(-0x1*0x1293+-0x812*-0x1+-0x1*-0xa85)+(-0x11ab+0x1*-0x531+0x16de)]=_0x5523c0,_0x201266['colors'][_0x59fd88*(-0x1849*0x1+0x26e6+0xe99*-0x1)*(0x2377+0x59*0x62+-0x1*0x4585)+(0x362*-0x7+-0x2204+-0x4f*-0xbb)]=-0x29*-0x71+0x3*-0x1d7+-0xb95,_0x201266['colors'][_0x59fd88*(0x42f+-0x1d9b+-0x58*-0x4a)*(0xeef+-0x4ab*-0x8+-0x3443)+(0x2*0x5a6+-0x10*0x1f+-0x958)]=_0x407d9a,_0x201266['colors'][_0x59fd88*(0x3a7*0xa+0x2df*0x2+-0x2a40)*(-0x2e*0xa6+-0x10bf+0x2e97)+(-0x303*0x2+0x1f65+-0xa*0x289)]=_0x49f3de,_0x201266['colors'][_0x59fd88*(0x542+0x1de3*-0x1+0x18a5*0x1)*(-0x10*-0x175+0xa1*0x31+-0x361d)+(-0x26ae*0x1+-0x1b2b+0x1*0x41df)]=_0x5523c0,_0x201266['colors'][_0x59fd88*(0x6*-0x4b7+0x989*0x2+0x93c)*(-0x9d*0x34+0xaed+-0x1*-0x14fb)+(-0x24f8*0x1+0xff4*0x2+0x1*0x517)]=0x1348+0x1*-0x139d+0x154,_0x201266['colors'][_0x59fd88*(-0x17*-0xa3+0x67*-0x27+0x44*0x4)*(-0x3*0x2b1+-0x68c+-0x3*-0x4e1)+(0x17e1+-0x89c+-0xf3d)]=_0x407d9a,_0x201266['colors'][_0x59fd88*(-0x38b+-0xa21+-0x36c*-0x4)*(-0xa46+-0xf*-0x263+-0x1983)+(-0x2*-0x1bd+0x14d3+-0x1844*0x1)]=_0x49f3de,_0x201266['colors'][_0x59fd88*(0x1748+0x2cd*-0xa+0x4be)*(0x2*-0xecc+-0x1*0x1222+0x2fbe)+(-0x12b*0xb+0x24d9+0xbfb*-0x2)]=_0x5523c0,_0x201266['colors'][_0x59fd88*(0x1a*-0x4d+0x5b7*-0x4+0x1eb2)*(0x16*-0xa+0x19b0+-0x18d0)+(-0x1793+-0x3*-0x7bb+-0x6d*-0x1)]=0x2*0xe9b+-0x3*0x72d+-0x6b0,_0x201266['colors'][_0x59fd88*(-0x52c*-0x5+0x2c7+-0x1af*0x11)*(0x1*0x4e2+0x7*0x1f1+-0x1275)+(-0xa7b*0x1+-0x141e+0x1ea5)]=_0x407d9a,_0x201266['colors'][_0x59fd88*(-0x1457+-0x378*-0xa+-0xe55*0x1)*(-0x1341+0x40f*0x2+-0x5*-0x23b)+(-0x14a7+0x1ac+0x1308)]=_0x49f3de,_0x201266['colors'][_0x59fd88*(-0x180a+-0x1848+0x3056)*(0x7c9+0x1913+0x1*-0x20d8)+(0x4*0x883+-0x1e6f+-0x1*0x38f)]=_0x5523c0,_0x201266['colors'][_0x59fd88*(0x18*-0x124+-0x200d+0x3b71)*(0x277*0x2+0x8e0+-0xdca)+(0x1ed2+-0x1f26+-0x9*-0xb)]=-0x6c+-0x2512+0x267d,this['_symbolOut'+'lineParams']){const _0x505078=this['_symbolOut'+'lineParams'][_0xe80d0b]*(-0x463*-0x5+0xa55+-0x203f);_0x3bbfdf=this['_outlinePa'+'lette'][_0x505078]+this['_outlinePa'+'lette'][_0x505078+(-0xae8+-0xe60+0x1949)]*(0x1d32+0xb*0x33b+0xfb*-0x41),_0x335a42=this['_outlinePa'+'lette'][_0x505078+(0x1bf0+-0x3d*-0x63+-0x3385)]+this['_outlinePa'+'lette'][_0x505078+(-0x1d*0x3d+0xb1c+-0x430)]*(0x553*-0x2+0x1d*-0x9d+0x89*0x37),_0x58d95e=this['_outlinePa'+'lette'][_0x505078+(-0xb*-0x2f2+-0x16f6*-0x1+-0x3758)];}if(_0x201266['outlines'][_0x59fd88*(-0xa78+0x143b+-0x5*0x1f3)*(-0x1df0*0x1+0x17*-0x125+0xe*0x405)+(-0x245b*0x1+-0x33b*-0x1+0xd4*0x28)]=_0x3bbfdf,_0x201266['outlines'][_0x59fd88*(-0xb4b+-0x1*0xd06+-0x1*-0x1855)*(0xda*0x26+-0x23b1+0x358)+(-0x196d+-0x1210*0x2+0x1ec7*0x2)]=_0x335a42,_0x201266['outlines'][_0x59fd88*(0x59f+0x1*0x7b1+-0xd4c)*(-0x918+0x1*0x53+-0x1*-0x8c8)+(0x98e+-0x11*0x1a5+0x1*0x1269)]=_0x58d95e,_0x201266['outlines'][_0x59fd88*(-0x277*0x3+0x2*0x11f3+0x33*-0x8f)*(-0x1741*0x1+0x1b5a+-0x416)+(-0x2*-0x2bf+0x3*0x6+-0xcb*0x7)]=_0x3bbfdf,_0x201266['outlines'][_0x59fd88*(-0x1*0x1661+-0x1746+0x2dab)*(-0x1a*0xa9+0x3*0x6da+0xad*-0x5)+(0xa2+0x1*0x1351+-0x6a5*0x3)]=_0x335a42,_0x201266['outlines'][_0x59fd88*(-0x7d*0x3d+-0x1*0x3bf+0x218c)*(-0x12fe+-0x2045+0x3346)+(-0x1*-0x1717+0x167e+-0x2d90)]=_0x58d95e,_0x201266['outlines'][_0x59fd88*(-0xc9b*0x2+-0x219+0x1b53)*(-0x114e+0x87*0x12+0x7d3)+(-0x170b+-0x1*-0x491+-0x128*-0x10)]=_0x3bbfdf,_0x201266['outlines'][_0x59fd88*(-0x343+-0x4a9*-0x7+0x756*-0x4)*(-0x1289+-0xcfa*0x3+-0xe*-0x41b)+(-0x1*-0x22e5+0x8*0x9d+-0x27c6)]=_0x335a42,_0x201266['outlines'][_0x59fd88*(-0x1454*0x1+-0x1c5d+0x30b5)*(-0x2e*-0x1c+0xbff*-0x3+0x1ef8)+(-0x1*-0x587+-0x1*0x1979+0x13fa)]=_0x58d95e,_0x201266['outlines'][_0x59fd88*(-0x1*0x1d4b+0x11d5+0x1a*0x71)*(-0xe8+0x527+-0x43c)+(-0xee0+-0x81c+0x53*0x47)]=_0x3bbfdf,_0x201266['outlines'][_0x59fd88*(0x2345+-0x1*0x464+-0x1*0x1edd)*(-0x1*-0x238d+-0x1b31*0x1+-0x859)+(0xa3b+0x8ba*-0x2+0x743)]=_0x335a42,_0x201266['outlines'][_0x59fd88*(-0x3*-0x157+0x6d*-0x29+0xd74)*(0x227b+-0x7fa+0x2*-0xd3f)+(-0x1*0x245f+-0xa90+0x1*0x2efa)]=_0x58d95e,this['_symbolSha'+'dowParams']){const _0x2a3d80=this['_symbolSha'+'dowParams'][_0xe80d0b]*(-0x21b3+-0xe5f+-0x12*-0x2ac);_0x44f5e5=this['_shadowPal'+'ette'][_0x2a3d80]+this['_shadowPal'+'ette'][_0x2a3d80+(-0x16ec+-0x1315+0x2*0x1501)]*(0x1f3*-0xb+0x6d*-0x6+0x1*0x18ff),_0x139c4b=this['_shadowPal'+'ette'][_0x2a3d80+(-0x1*-0x190b+-0x267d*0x1+0xd74)]+this['_shadowPal'+'ette'][_0x2a3d80+(-0x81*0x3+-0x1089+0x120f)]*(0x2ae*0x8+0x20ea*-0x1+0xc7a),_0x1cd02a=this['_shadowPal'+'ette'][_0x2a3d80+(-0x1790+-0x71*-0x4c+-0x9f8)]+(-0xbf4+0x1*0x1fa2+-0x3*0x665)+Math['round'](_0xcf7b39*this['_shadowPal'+'ette'][_0x2a3d80+(0xdf1*0x1+-0x1e06+0x101a)]+(-0x11*0x133+-0x16*-0x10f+-0x268))*(-0x181+0x186f+-0x15ee);}_0x201266['shadows'][_0x59fd88*(0xfed+0xbd9+-0x1bc2)*(0x1*0x687+0xa7d+-0x1101)+(0xabe+-0x74e+-0x370)]=_0x44f5e5,_0x201266['shadows'][_0x59fd88*(-0x1*0x1bb+0x1e4a+-0x1c8b)*(-0x27a+-0x1879+0xe*0x1ed)+(-0x9dc*-0x3+-0x1f9a+0x207)]=_0x139c4b,_0x201266['shadows'][_0x59fd88*(-0x401*0x5+-0x763+0x1b6c)*(0xd*0x9d+-0x2*-0xdd7+-0x23a4*0x1)+(0x2e9+-0x1*0x10f6+0xe0f*0x1)]=_0x1cd02a,_0x201266['shadows'][_0x59fd88*(-0x1a5c+0x2470+-0xa10)*(-0x1076+-0x193*0x2+0x1*0x139f)+(-0x7*0x1c5+-0xaed*0x1+0x1*0x1753)]=_0x44f5e5,_0x201266['shadows'][_0x59fd88*(-0x24d*-0x7+0xaea*0x1+0xdf*-0x1f)*(0x4*-0x1c5+-0x4e4+0xbfb*0x1)+(0x2d2+0x1*0x234a+-0x2618)]=_0x139c4b,_0x201266['shadows'][_0x59fd88*(-0xc6f+0x1*0x13ca+-0x1*0x757)*(-0x12fd*0x1+-0x17bb+0x2abb)+(-0x36d*-0x5+-0x1*-0x1ecf+-0x2feb)]=_0x1cd02a,_0x201266['shadows'][_0x59fd88*(0xae7+-0x212b*0x1+0x5c*0x3e)*(0x2268+0x2*-0xda6+-0x719)+(-0x320+0x1834+-0x150e)]=_0x44f5e5,_0x201266['shadows'][_0x59fd88*(0x3*0x34+-0xa99+0xa01)*(0x3*-0xbdd+0x1907+0xa93)+(-0x523+0xa*-0x250+0x1c4a)]=_0x139c4b,_0x201266['shadows'][_0x59fd88*(-0xf5*0xf+0x1df+0x19*0x80)*(0x1a5+-0x15ef+0x144d*0x1)+(0xdbe+0x245e+0x281*-0x14)]=_0x1cd02a,_0x201266['shadows'][_0x59fd88*(-0x11*0x5b+-0x97*0x21+0x1986*0x1)*(0x19cd*0x1+0x3f3*-0x7+0x5f*0x5)+(-0x3d9*0x1+-0x11ce+0x15b0)]=_0x44f5e5,_0x201266['shadows'][_0x59fd88*(0xd0d+-0x1*0x9f7+-0x312)*(-0xf6f+-0x1*0x18e2+0x164*0x1d)+(-0x10de+-0x1cd3+0x2dbb)]=_0x139c4b,_0x201266['shadows'][_0x59fd88*(0x2357*0x1+-0x12a6+-0x10ad)*(-0x9*0x27b+-0x48d+0x1*0x1ae3)+(-0x24fd+-0x1*-0x175c+0xe*0xfa)]=_0x1cd02a,_0x201266['quad']++;}_0x5ded0a||_0x112c8d<_0x46c7c1&&_0x518799(this['_symbols'],_0x46c7c1,_0x520589);}this['_noResize']=!(-0x108f+0x95d+-0x6*-0x133),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x2250+-0x6*0x9d+-0x1ea1);const _0x4fc745=this['_element']['pivot']['x'],_0x4c81a2=this['_element']['pivot']['y'],_0x21ff25=this['_alignment']['x'],_0x492aad=this['_alignment']['y'];for(let _0x3ac651=0x216+-0x12*0x154+0x15d2;_0x3ac651<this['_meshInfo']['length'];_0x3ac651++){if(this['_meshInfo'][_0x3ac651]['count']===-0x1037+0x6*-0x44f+-0x79*-0x59)continue;let _0xad4fac=-0x2479+-0x16f0+0x3b69;for(const _0x2ab83c in this['_meshInfo'][_0x3ac651]['lines']){const _0x252636=this['_meshInfo'][_0x3ac651]['lines'][_0x2ab83c],_0x5ac771=this['_lineWidth'+'s'][parseInt(_0x2ab83c,-0x2289+0xc*-0x17b+0x3457)],_0x591e0a=-_0x4fc745*this['_element']['calculated'+'Width']+_0x21ff25*(this['_element']['calculated'+'Width']-_0x5ac771)*(this['_rtl']?-(-0x870+-0x3b7*-0x1+0x16*0x37):-0x641+0x2003+-0x13*0x15b),_0x24338d=(-0x1ed5+0x7*-0xd3+-0x249b*-0x1-_0x4c81a2)*this['_element']['calculated'+'Height']-_0x52546d-(0xcd*0x2b+0x1*0x13bf+-0x17*0x25b-_0x492aad)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x512ff3=_0xad4fac;_0x512ff3<=_0x252636;_0x512ff3++)this['_meshInfo'][_0x3ac651]['positions'][_0x512ff3*(0x23b8*-0x1+-0x2566*-0x1+0x1aa*-0x1)*(0x1*-0x20c9+0x1bb6*0x1+0x516)]+=_0x591e0a,this['_meshInfo'][_0x3ac651]['positions'][_0x512ff3*(0x23e0+-0xc23+-0x17b9)*(-0x21fb+-0x1826+0x3a24)+(0x3*0xa5f+-0x1*0x1139+-0xde1)]+=_0x591e0a,this['_meshInfo'][_0x3ac651]['positions'][_0x512ff3*(-0x11ea+-0x210*-0x1+0xfde)*(0x379*0x5+0x1aad+0x363*-0xd)+(0x4*-0x83f+0x1903+0x7ff)]+=_0x591e0a,this['_meshInfo'][_0x3ac651]['positions'][_0x512ff3*(0xf4a+-0x1293+0x34d)*(0x1de4+0x1*0x2575+-0x4356)+(0x100f+0x21f6+-0x31fc)]+=_0x591e0a,this['_meshInfo'][_0x3ac651]['positions'][_0x512ff3*(0xba1+-0x1711+-0x2dd*-0x4)*(0x13*-0x13e+-0x38f+0x1b2c)+(0x2621+-0x1be*0x8+-0x1830)]+=_0x24338d,this['_meshInfo'][_0x3ac651]['positions'][_0x512ff3*(-0x32e*-0x3+-0x83*-0x15+-0x1445)*(0xca1+0x1112+-0x1db0)+(-0x25db*-0x1+0x56*-0xa+-0x4ed*0x7)]+=_0x24338d,this['_meshInfo'][_0x3ac651]['positions'][_0x512ff3*(0x24fd*-0x1+0x530+0x5*0x65d)*(-0x1733+-0x1*-0x2006+0x2f*-0x30)+(-0x869+0x1a61*-0x1+0xb9b*0x3)]+=_0x24338d,this['_meshInfo'][_0x3ac651]['positions'][_0x512ff3*(-0x1d02*-0x1+0x1963+-0x3661)*(0x28e*-0xd+0x214c*0x1+-0x13*0x1)+(0x2307+0x3*0x4bd+-0x3134)]+=_0x24338d;if(this['_rtl'])for(let _0x10ca3c=_0xad4fac;_0x10ca3c<=_0x252636;_0x10ca3c++){const _0x553363=_0x10ca3c*(-0x1*-0x95f+-0x2b*-0x7e+-0x1e85)*(0x282+-0x1*0x1b25+0xa*0x277);for(let _0x5a6ec3=-0xa38+-0x131d+0x1d55;_0x5a6ec3<-0x825+-0xf51*0x2+-0x1*-0x26cb;++_0x5a6ec3)this['_meshInfo'][_0x3ac651]['positions'][_0x553363+_0x5a6ec3*(0x1f6d*0x1+-0xbd0+-0x139a)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x3ac651]['positions'][_0x553363+_0x5a6ec3*(-0x1553+-0x1035+0x1*0x258b)]+_0x591e0a*(0x22a1+0x19bb+-0x3c5a);const _0x1a41fe=this['_meshInfo'][_0x3ac651]['positions'][_0x553363+(-0x107b*-0x1+0xd15+-0x1d8d)],_0x3e19c4=this['_meshInfo'][_0x3ac651]['positions'][_0x553363+(-0x56a+-0x1eee+0x245e)];this['_meshInfo'][_0x3ac651]['positions'][_0x553363+(0x1d78+-0xf19*0x2+-0xbd*-0x1)]=this['_meshInfo'][_0x3ac651]['positions'][_0x553363+(0x110c+-0x11c1*0x1+0xb5)],this['_meshInfo'][_0x3ac651]['positions'][_0x553363+(0x2ff+-0x21d2+0x1ed9)]=this['_meshInfo'][_0x3ac651]['positions'][_0x553363+(0x24b0+-0x1*0x2e+-0x2479)],this['_meshInfo'][_0x3ac651]['positions'][_0x553363+(-0xf1d*-0x1+0x212f*0x1+0x1826*-0x2)]=_0x1a41fe,this['_meshInfo'][_0x3ac651]['positions'][_0x553363+(0x1130+0x68e+-0x15*0x121)]=_0x3e19c4;}_0xad4fac=_0x252636+(0xad0+-0xa*-0x3a1+-0x2f19);}const _0x1a432d=this['_meshInfo'][_0x3ac651]['count']*(0xd*0x133+0x48d+-0x1*0x1420),_0x17adfd=this['_meshInfo'][_0x3ac651]['quad']*(0x5*-0x87+0x11bb+-0x4*0x3c5),_0x1bdcc0=new go(this['_meshInfo'][_0x3ac651]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x2134ef=-0x1*0x1cc9+-0x2125+-0x3dee*-0x1;_0x2134ef<_0x1a432d;_0x2134ef++)_0x2134ef>=_0x17adfd?(_0x1bdcc0['element'][He]['set'](0xcae+-0x100a+0x35c,0x1d89+-0x1994+-0x3f5*0x1,0x1ac3*0x1+0x1*0x1570+-0x9*0x55b),_0x1bdcc0['element'][ns]['set'](0x2c*0x1c+0x2162+-0x2632,-0x20c4+0xbbf*0x2+0x946),_0x1bdcc0['element'][At]['set'](-0x21ce+0x90f+0x18bf,0x1863+-0x3f*-0x29+-0x227a,0x23a5*-0x1+-0x9*-0x33d+0x680,-0x23d8+0xd*0x133+-0x11*-0x131),_0x1bdcc0['element'][Po]['set'](0x962*0x4+0x1188+-0x3710,0x8bb+0x26b*0x3+-0xffc,0x14*-0x1b0+-0x1c*-0x122+0x8*0x41,0x24ae*0x1+-0x1c9e+0x158*-0x6),_0x1bdcc0['element'][Ro]['set'](0x1eb1+-0x962+-0x154f,0xb6f+-0x1835+0xcc6,0x633+0x59a*0x4+-0x1c9b,0xa*-0xc5+0x1f*0x11b+-0x1a93)):(_0x1bdcc0['element'][He]['set'](this['_meshInfo'][_0x3ac651]['positions'][_0x2134ef*(-0x3f5+-0x1*0x1dd+0x5d5*0x1)+(-0x1c4c+-0x300+0x1f4c)],this['_meshInfo'][_0x3ac651]['positions'][_0x2134ef*(-0x236f*-0x1+-0x9*-0x35e+-0x41ba)+(0x181*-0x1+-0x44a+-0x6a*-0xe)],this['_meshInfo'][_0x3ac651]['positions'][_0x2134ef*(-0x1*0x1477+0xe7f+0x5fb)+(-0xd7*0x3+-0x23b*-0x1+0x4c)]),_0x1bdcc0['element'][ns]['set'](this['_meshInfo'][_0x3ac651]['uvs'][_0x2134ef*(-0xff4+0xeb*-0x7+0xb*0x209)+(-0x15b9+0x5*-0x38b+0x2770)],this['_meshInfo'][_0x3ac651]['uvs'][_0x2134ef*(0x213*-0x5+0x2475+0x685*-0x4)+(0x91+-0x1b2a+-0xe3*-0x1e)]),_0x1bdcc0['element'][At]['set'](this['_meshInfo'][_0x3ac651]['colors'][_0x2134ef*(0xc9d+0x1*-0x1b93+-0x1aa*-0x9)+(0xa14+0x3bf+-0xdd3)],this['_meshInfo'][_0x3ac651]['colors'][_0x2134ef*(-0x1915+0x211*-0xd+0x19fb*0x2)+(0x1745+-0x218f+0xa4b)],this['_meshInfo'][_0x3ac651]['colors'][_0x2134ef*(0x19f3+-0x1e42+0x453)+(0x1e28+-0xd5a+-0x2b*0x64)],this['_meshInfo'][_0x3ac651]['colors'][_0x2134ef*(0x118a+0xc33+-0x1db9)+(0x1*0x1760+-0x1212+0x54b*-0x1)]),_0x1bdcc0['element'][Po]['set'](this['_meshInfo'][_0x3ac651]['outlines'][_0x2134ef*(0x1aaf+-0x4a*0x7+-0x18a6)+(0x3d*-0x6d+0xdf*0xd+0xea6)],this['_meshInfo'][_0x3ac651]['outlines'][_0x2134ef*(-0xef*0x26+-0x182d+0x3baa)+(0x1*-0x107e+-0x1491+0x2510)],this['_meshInfo'][_0x3ac651]['outlines'][_0x2134ef*(0xaba+0xe4c+-0x1903)+(-0x34*-0x96+-0x62e+-0x1848)]),_0x1bdcc0['element'][Ro]['set'](this['_meshInfo'][_0x3ac651]['shadows'][_0x2134ef*(0x17*0x14b+-0x1613+-0x7a7)+(-0x4c8+-0x24db+0xb*0x3c9)],this['_meshInfo'][_0x3ac651]['shadows'][_0x2134ef*(0x4*-0x65e+0x5f*-0x8+-0x1c73*-0x1)+(-0x8*-0x3f5+0x1f14+0x3*-0x14e9)],this['_meshInfo'][_0x3ac651]['shadows'][_0x2134ef*(-0x18d*0x15+0xa6a*-0x1+0x2afe)+(0x2*-0xb17+0x412*0x4+-0x15*-0x48)])),_0x1bdcc0['next']();_0x1bdcc0['end'](),this['_meshInfo'][_0x3ac651]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x3ac651]['positions']),this['_meshInfo'][_0x3ac651]['meshInstan'+'ce']['_aabbVer']=-(-0x1ce9+0x10*-0x1c3+0x391a*0x1);}this['_aabbDirty']=!(0x48*-0x2b+0xd89+0x3*-0x7b);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x4bc499){this['font']!==_0x4bc499['resource']&&(this['font']=_0x4bc499['resource']);}['_onFontCha'+'nge'](_0x4ae993,_0x51e597,_0x5d33a5,_0x34eda2){if(_0x51e597==='data'){this['_font']['data']=_0x5d33a5;const _0x59eb71=this['_font']['data']['info']['maps']['length'];for(let _0x11c7ad=-0xa61*0x1+0x142*0x11+-0xb01;_0x11c7ad<_0x59eb71;_0x11c7ad++){if(!this['_meshInfo'][_0x11c7ad])continue;const _0x57cb11=this['_meshInfo'][_0x11c7ad]['meshInstan'+'ce'];_0x57cb11&&(_0x57cb11['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x57cb11['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x57cb11['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x11c7ad]['width']));}}}['_onFontRem'+'ove'](_0x20fa4d){}['_setTextur'+'eParams'](_0x38eaf2,_0x3c12a0){this['_font']&&(this['_font']['type']===Kh?(_0x38eaf2['deletePara'+'meter']('texture_em'+'issiveMap'),_0x38eaf2['deletePara'+'meter']('texture_op'+'acityMap'),_0x38eaf2['setParamet'+'er']('texture_ms'+'dfMap',_0x3c12a0)):this['_font']['type']===yR&&(_0x38eaf2['deletePara'+'meter']('texture_ms'+'dfMap'),_0x38eaf2['setParamet'+'er']('texture_em'+'issiveMap',_0x3c12a0),_0x38eaf2['setParamet'+'er']('texture_op'+'acityMap',_0x3c12a0)));}['_getPxRang'+'e'](_0x5d5210){const _0x35f67b=Object['keys'](this['_font']['data']['chars']);for(let _0x37fed3=0x1117+0x1912+-0x2b*0xfb;_0x37fed3<_0x35f67b['length'];_0x37fed3++){const _0x7c106=this['_font']['data']['chars'][_0x35f67b[_0x37fed3]];if(_0x7c106['range'])return(_0x7c106['scale']||-0x1db3+-0x12b*-0x17+0x2d7)*_0x7c106['range'];}return-0x52f*-0x5+-0x179+-0x88*0x2e;}['_getUv'](_0x38b636){const _0x271254=this['_font']['data'];if(!_0x271254['chars'][_0x38b636]){const _0x4e8c9a='\x20';return _0x271254['chars'][_0x4e8c9a]?this['_getUv'](_0x4e8c9a):[0x19d3+-0xc1*0x23+0x3*0x30,-0x3*-0x6ee+-0xd3d*0x1+-0x78d,-0x1b1f+0xb6b+-0x53c*-0x3,-0x10f0+-0x1c91+0x1*0x2d81];}const _0x54652d=_0x271254['chars'][_0x38b636]['map'],_0x48cf7d=_0x271254['info']['maps'][_0x54652d]['width'],_0x3d057c=_0x271254['info']['maps'][_0x54652d]['height'],_0x439f76=_0x271254['chars'][_0x38b636]['x'],_0x446e4e=_0x271254['chars'][_0x38b636]['y'],_0x1d600d=_0x439f76,_0x4afd0a=_0x446e4e,_0x15b2b7=_0x439f76+_0x271254['chars'][_0x38b636]['width'],_0x33e874=_0x446e4e-_0x271254['chars'][_0x38b636]['height'],_0x22b74a=-0x72f+-0x1ad0+-0x880*-0x4-_0x271254['chars'][_0x38b636]['height']/_0x3d057c;return[_0x1d600d/_0x48cf7d,_0x22b74a-_0x4afd0a/_0x3d057c,_0x15b2b7/_0x48cf7d,_0x22b74a-_0x33e874/_0x3d057c];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x155c*0x1+-0x3f*0x79+0x3ef*0xd),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x2217+-0x1354+-0xec2),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x18cf2c){if(this['_model']){const _0xd496cf=this['_model']['meshInstan'+'ces'];for(let _0x55323c=0x1*0x68b+-0x121f*-0x2+0x9*-0x4c1;_0x55323c<_0xd496cf['length'];_0x55323c++)_0xd496cf[_0x55323c]['stencilFro'+'nt']=_0x18cf2c,_0xd496cf[_0x55323c]['stencilBac'+'k']=_0x18cf2c;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x4510cf){const _0x164ae8={};_0x4510cf===void(0x7*-0x205+0x1b12+-0xcef)&&(_0x4510cf=this['_symbols']['length']);for(let _0x483b72=0xc6d*0x1+-0x34c*-0x9+-0x2a19,_0x32392a=_0x4510cf;_0x483b72<_0x32392a;_0x483b72++){const _0x472cda=this['_symbols'][_0x483b72];let _0x5b6eab=this['_font']['data']['chars'][_0x472cda];_0x5b6eab||(_0x5b6eab=this['_font']['data']['chars']['\x20'],_0x5b6eab||(_0x5b6eab=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x2*-0x60b+0x1adf+0x5*-0x2f5]]));const _0x34a49e=_0x5b6eab['map'];_0x164ae8[_0x34a49e]?_0x164ae8[_0x34a49e]++:_0x164ae8[_0x34a49e]=0x3*0x565+0x1f4c+-0x2f7a;}return _0x164ae8;}['_updateRen'+'derRange'](){const _0x27375d=this['_rangeStar'+'t']===-0x4f*0x64+-0x40*0x98+0x44dc?0x35*-0xbb+0x12ae+-0x1409*-0x1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x5b6251=this['_rangeEnd']===0x5*0x1f2+0x4*0x3e4+0x6*-0x437?-0xe1e+0x1673+0x9*-0xed:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x33d220=-0x30b*-0x5+0x5a3+-0xa6d*0x2,_0x55c5c5=this['_meshInfo']['length'];_0x33d220<_0x55c5c5;_0x33d220++){const _0x24cf40=_0x27375d[_0x33d220]||-0x10f*-0xf+-0x2a4*-0xd+-0x3235*0x1,_0x60107b=_0x5b6251[_0x33d220]||-0x31*-0x41+-0x1bad+-0xd*-0x12c,_0x425884=this['_meshInfo'][_0x33d220]['meshInstan'+'ce'];if(_0x425884){const _0x37c6ba=_0x425884['mesh'];_0x37c6ba&&(_0x37c6ba['primitive'][0x1d17+-0x83+0x1c94*-0x1]['base']=_0x24cf40*(0xcf*0x13+-0xe8d+-0x1*0xcd)*(-0x2*0x2f5+0x1*0x48f+0x15d),_0x37c6ba['primitive'][-0x558+-0x1ad*0x1+0x705]['count']=(_0x60107b-_0x24cf40)*(0x11a1+-0x2233+0x1095)*(-0x155e+-0x1*0x477+0x19d7));}}}set['text'](_0x291abb){this['_i18nKey']=null;const _0x4e09aa=_0x291abb!=null&&_0x291abb['toString']()||'';this['_setText'](_0x4e09aa);}get['text'](){return this['_text'];}set['key'](_0x1c07df){const _0x43cd63=_0x1c07df!==null?_0x1c07df['toString']():null;this['_i18nKey']!==_0x43cd63&&(this['_i18nKey']=_0x43cd63,_0x43cd63?(this['_fontAsset']['disableLoc'+'alization']=!(0x2454+0x1*-0x107+-0x234c),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x5*-0x123+0x26c7*-0x1+0x2c76));}get['key'](){return this['_i18nKey'];}set['color'](_0x43db1b){const _0x594429=_0x43db1b['r'],_0x2f5d91=_0x43db1b['g'],_0x548041=_0x43db1b['b'];if(this['_color']===_0x43db1b&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x594429&&this['_color']['g']===_0x2f5d91&&this['_color']['b']===_0x548041)&&(this['_color']['r']=_0x594429,this['_color']['g']=_0x2f5d91,this['_color']['b']=_0x548041,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x2d6+0x3b*0x5b+0x1223*-0x1]=Me['r'],this['_colorUnif'+'orm'][-0x123*0x16+-0x1ac1+0x33c4]=Me['g'],this['_colorUnif'+'orm'][-0x60d*-0x5+-0xe8+-0x1d57]=Me['b'];for(let _0x4cfc04=0xde7*-0x2+-0x5*-0x25e+0xff8,_0x35e992=this['_model']['meshInstan'+'ces']['length'];_0x4cfc04<_0x35e992;_0x4cfc04++)this['_model']['meshInstan'+'ces'][_0x4cfc04]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x24cb96){if(this['_color']['a']!==_0x24cb96&&(this['_color']['a']=_0x24cb96,this['_model'])){for(let _0x1d3164=-0x2695+0x863+0x1e32,_0x47f37e=this['_model']['meshInstan'+'ces']['length'];_0x1d3164<_0x47f37e;_0x1d3164++)this['_model']['meshInstan'+'ces'][_0x1d3164]['setParamet'+'er']('material_o'+'pacity',_0x24cb96);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x24cb96);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x16d143){const _0x49e107=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x16d143,this['_scaledLin'+'eHeight']=_0x16d143,_0x49e107!==_0x16d143&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x1cd65b){const _0x405e2f=this['_wrapLines'];this['_wrapLines']=_0x1cd65b,_0x405e2f!==_0x1cd65b&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x76a31){const _0x5b1726=this['_spacing'];this['_spacing']=_0x76a31,_0x5b1726!==_0x76a31&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x8ee9ad){const _0x5a4fa8=this['_fontSize'];this['_fontSize']=_0x8ee9ad,this['_originalF'+'ontSize']=_0x8ee9ad,_0x5a4fa8!==_0x8ee9ad&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0xa9db8d){this['_fontAsset']['defaultAss'+'et']=_0xa9db8d;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0xe58381){let _0x442c2e;if(this['_font']&&(_0x442c2e=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0xe58381,this['_fontMinY']=0x1*0x407+-0x29*-0x4d+-0x105c*0x1,this['_fontMaxY']=-0x1c5c+-0x1a56+0x36b2,!_0xe58381)return;const _0x48a04d=this['_font']['data'];for(const _0x2263c0 in _0x48a04d['chars']){const _0x22a5d2=_0x48a04d['chars'][_0x2263c0];_0x22a5d2['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x22a5d2['bounds'][0x2123+0x23ee+-0x4510]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x22a5d2['bounds'][-0x8af+0xcdf*0x3+-0x1deb*0x1]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0xe58381['type']!==_0x442c2e){const _0x5f44c4=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x5f44c4);}for(let _0x31e60a=0x2*-0x10d3+0x3*-0x9d6+0x3f28,_0xe73b19=this['_font']['textures']['length'];_0x31e60a<_0xe73b19;_0x31e60a++)if(!this['_meshInfo'][_0x31e60a])this['_meshInfo'][_0x31e60a]=new CR();else{const _0x2a2aaa=this['_meshInfo'][_0x31e60a]['meshInstan'+'ce'];_0x2a2aaa&&(_0x2a2aaa['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2a2aaa['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2a2aaa['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x31e60a]['width']),this['_setTextur'+'eParams'](_0x2a2aaa,this['_font']['textures'][_0x31e60a]));}let _0x563f48=!(-0x1b73+0x183+0x19f1);for(let _0x4a3b6c=this['_font']['textures']['length'];_0x4a3b6c<this['_meshInfo']['length'];_0x4a3b6c++)this['_meshInfo'][_0x4a3b6c]['meshInstan'+'ce']&&(_0x563f48||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x563f48=!(0x1de2+-0x7*0xbf+-0x18a9)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x4a3b6c]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x2bbcd4){_0x2bbcd4 instanceof W?this['_alignment']['set'](_0x2bbcd4['x'],_0x2bbcd4['y']):this['_alignment']['set'](_0x2bbcd4[-0x71*-0x5+0x90*-0x2f+0x1*0x183b],_0x2bbcd4[-0x2027*-0x1+0x5d*0x8+0x2*-0x1187]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x27c25b){const _0x21774b=this['_autoWidth'];if(this['_autoWidth']=_0x27c25b,_0x27c25b&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x2259+0x2c6+-0x22f*0x11+0.0001&&(this['_element']['width']=this['width']),_0x21774b!==_0x27c25b){const _0x3ddeb2=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3ddeb2!==this['_fontSize']&&(this['_fontSize']=_0x3ddeb2,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x431e04){const _0x31932c=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x431e04,_0x431e04&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x1f7e+-0x1*0x26b3+-0x735*-0x1+0.0001&&(this['_element']['height']=this['height']),_0x31932c!==_0x431e04){const _0x31f93c=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x31f93c!==this['_fontSize']&&(this['_fontSize']=_0x31f93c,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x3eeef3){this['_rtlReorde'+'r']!==_0x3eeef3&&(this['_rtlReorde'+'r']=_0x3eeef3,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x2cefc2){this['_unicodeCo'+'nverter']!==_0x2cefc2&&(this['_unicodeCo'+'nverter']=_0x2cefc2,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x1385eb=!(0x13*0x30+0x2562+-0x28f1);for(let _0x1c2463=-0x1bf*0x5+0x254e+-0x1c93;_0x1c2463<this['_meshInfo']['length'];_0x1c2463++)this['_meshInfo'][_0x1c2463]['meshInstan'+'ce']&&(_0x1385eb?this['_aabb']['add'](this['_meshInfo'][_0x1c2463]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x1c2463]['meshInstan'+'ce']['aabb']),_0x1385eb=!(-0x1753*0x1+0x1038+0x71b*0x1)));this['_aabbDirty']=!(0xccf*-0x3+-0x7cf+-0x59*-0x85);}return this['_aabb'];}set['outlineCol'+'or'](_0x41a8b9){const _0x358532=_0x41a8b9 instanceof Y?_0x41a8b9['r']:_0x41a8b9[-0x56e*-0x4+0xcb1+-0x2269],_0x235290=_0x41a8b9 instanceof Y?_0x41a8b9['g']:_0x41a8b9[-0x22*-0x2c+-0x964*0x2+0xcf1],_0x192d81=_0x41a8b9 instanceof Y?_0x41a8b9['b']:_0x41a8b9[-0x888+0x1*-0x1bcb+0x2455*0x1],_0x86f278=_0x41a8b9 instanceof Y?_0x41a8b9['a']:_0x41a8b9[-0x5*-0x2b+0x608+-0x6dc];if(this['_outlineCo'+'lor']===_0x41a8b9&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x358532&&this['_outlineCo'+'lor']['g']===_0x235290&&this['_outlineCo'+'lor']['b']===_0x192d81&&this['_outlineCo'+'lor']['a']===_0x86f278)&&(this['_outlineCo'+'lor']['r']=_0x358532,this['_outlineCo'+'lor']['g']=_0x235290,this['_outlineCo'+'lor']['b']=_0x192d81,this['_outlineCo'+'lor']['a']=_0x86f278,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x11a+-0x14fe+0x1618]=Me['r'],this['_outlineCo'+'lorUniform'][0x7c5+-0x1e3f*0x1+0x47f*0x5]=Me['g'],this['_outlineCo'+'lorUniform'][0x253d+0x6df+-0x2c1a]=Me['b'],this['_outlineCo'+'lorUniform'][0x419*0x7+-0x1800+-0x4ac]=Me['a'];for(let _0x1a7b67=-0x94*-0x1+-0x1*0x1703+0x166f,_0x2ae374=this['_model']['meshInstan'+'ces']['length'];_0x1a7b67<_0x2ae374;_0x1a7b67++)this['_model']['meshInstan'+'ces'][_0x1a7b67]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x5a295c){const _0xe8af24=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x5a295c,_0xe8af24!==_0x5a295c&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x2bcb7b=0x1ba0+0x47*0x59+0x7*-0x779,_0x5189e5=this['_model']['meshInstan'+'ces']['length'];_0x2bcb7b<_0x5189e5;_0x2bcb7b++)this['_model']['meshInstan'+'ces'][_0x2bcb7b]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0xd7178b){const _0x5d6905=_0xd7178b instanceof Y?_0xd7178b['r']:_0xd7178b[-0xd9f+-0x20cd+0xb9b*0x4],_0x297d73=_0xd7178b instanceof Y?_0xd7178b['g']:_0xd7178b[-0x45*-0x56+-0x1615+-0x46*0x4],_0x221717=_0xd7178b instanceof Y?_0xd7178b['b']:_0xd7178b[0x1a23+0xc*0x100+-0x2621],_0x236b19=_0xd7178b instanceof Y?_0xd7178b['a']:_0xd7178b[0x793*-0x5+0x58c+-0x2*-0x102b];if(this['_shadowCol'+'or']===_0xd7178b&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x5d6905&&this['_shadowCol'+'or']['g']===_0x297d73&&this['_shadowCol'+'or']['b']===_0x221717&&this['_shadowCol'+'or']['a']===_0x236b19)&&(this['_shadowCol'+'or']['r']=_0x5d6905,this['_shadowCol'+'or']['g']=_0x297d73,this['_shadowCol'+'or']['b']=_0x221717,this['_shadowCol'+'or']['a']=_0x236b19,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x5*0x278+0xd67*-0x2+0x2726*0x1]=Me['r'],this['_shadowCol'+'orUniform'][0xe*-0x221+0x2*-0x7d7+0x55*0x89]=Me['g'],this['_shadowCol'+'orUniform'][0x2655+-0x16e9+0x2*-0x7b5]=Me['b'],this['_shadowCol'+'orUniform'][-0x154d*-0x1+0x1f69*0x1+-0x34b3]=Me['a'];for(let _0x4c45cf=-0xfa*0x1c+0x1*0x17b5+-0x85*-0x7,_0x3c6a5a=this['_model']['meshInstan'+'ces']['length'];_0x4c45cf<_0x3c6a5a;_0x4c45cf++)this['_model']['meshInstan'+'ces'][_0x4c45cf]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0xb25fee){const _0x30e4db=_0xb25fee instanceof W?_0xb25fee['x']:_0xb25fee[-0x6b4+0x111+0x5a3],_0x2801b3=_0xb25fee instanceof W?_0xb25fee['y']:_0xb25fee[-0x107e+0x21b9+0x46*-0x3f];if(!(this['_shadowOff'+'set']['x']===_0x30e4db&&this['_shadowOff'+'set']['y']===_0x2801b3)&&(this['_shadowOff'+'set']['set'](_0x30e4db,_0x2801b3),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x172b9f=0x25*-0xa1+0x127a+0x1*0x4cb,_0x3a3845=this['_model']['meshInstan'+'ces']['length'];_0x172b9f<_0x3a3845;_0x172b9f++){const _0x1278be=-this['_font']['data']['info']['maps'][_0x172b9f]['width']/this['_font']['data']['info']['maps'][_0x172b9f]['height'];this['_shadowOff'+'setUniform'][0x43b+0x11cf*-0x1+-0x2*-0x6ca]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x246c+-0x22c8+0x4735]=_0x1278be*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x172b9f]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x248953){this['_minFontSi'+'ze']!==_0x248953&&(this['_minFontSi'+'ze']=_0x248953,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x240b79){this['_maxFontSi'+'ze']!==_0x240b79&&(this['_maxFontSi'+'ze']=_0x240b79,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x30b921){this['_autoFitWi'+'dth']!==_0x30b921&&(this['_autoFitWi'+'dth']=_0x30b921,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x8a52a2){this['_autoFitHe'+'ight']!==_0x8a52a2&&(this['_autoFitHe'+'ight']=_0x8a52a2,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x1c0795){this['_maxLines']!==_0x1c0795&&(_0x1c0795===null&&this['_maxLines']===-(-0x2052+0x2*0xe87+0x345)||(this['_maxLines']=_0x1c0795===null?-(-0x13b8+-0x14cc+0x2885):_0x1c0795,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x546434){if(_0x546434=!!_0x546434,this['_enableMar'+'kup']===_0x546434)return;this['_enableMar'+'kup']=_0x546434,this['font']&&this['_updateTex'+'t']();const _0x5e19c1=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x5e19c1);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x4700e8){return this['_colorPale'+'tte']['slice'](_0x4700e8*(0x740+-0xc2*0x29+0x17d5),_0x4700e8*(0x1785+0x1ca4+-0x3426)+(0x1b12+0xcaf+0x27be*-0x1));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x346b11){return this['_outlinePa'+'lette']['slice'](_0x346b11*(-0x1ac4+-0x8db+0x23a4),_0x346b11*(-0x6a2*-0x3+0x1*0x74f+-0x1b30)+(0x20ad+0x1*0x31d+-0x1*0x23c5));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x8d070){return this['_shadowPal'+'ette']['slice'](_0x8d070*(0x1f4*-0xe+0xbc4+0xf9a),_0x8d070*(-0x113c+0x1472*-0x1+-0xfe*-0x26)+(-0x7*-0x48a+0x2462+-0x16b6*0x3));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x2a6513){_0x2a6513=Math['max'](0x451+0x2315+-0x1*0x2766,Math['min'](_0x2a6513,this['_symbols']['length'])),_0x2a6513!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x2a6513,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x5c5acb){_0x5c5acb=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x5c5acb,this['_symbols']['length'])),_0x5c5acb!==this['_rangeEnd']&&(this['_rangeEnd']=_0x5c5acb,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x6aeac9,_0x587724){super(_0x6aeac9,_0x587724),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0xe73+-0x1*0x801+0x1675*0x1),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=0x13e2+-0xd*-0xf6+-0x2040,this['_height']=this['_calculate'+'dHeight']=0x2*0xcc+0x3f5+-0x56d,this['_margin']=new Q(-0xb*-0x1a6+0x8bf*-0x1+-0x963,-0x14e0+0x1c9e+-0x7be,-(-0x7*0x2b3+0x69b+0x1*0xc6a),-(-0xa1*0x1+0xdb+-0x1a)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x23a4+-0x22d2+0xe*-0xf),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(-0x733*0x3+-0x29*-0xd6+0x127*-0xb),this['_canvasCor'+'nersDirty']=!(-0x237b+-0x13db+0x2*0x1bab),this['_worldCorn'+'ersDirty']=!(-0x388+-0x1f34+-0x72*-0x4e),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x1567+0x176a+0x1*-0x203,this['_fitMode']=gh,this['_useInput']=!(-0x1*-0x1ba3+0x121*0x3+0x1f05*-0x1),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0xc1d*0x1+-0x17e5+-0x7*-0x1af),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x43+0x17c2+-0x177f,this['_maskOffse'+'t']=0x123f+-0x11b*0x11+0x8c*0x1+0.5,this['_maskedBy']=null);}get['data'](){const _0x4880c8=this['system']['store'][this['entity']['getGuid']()];return _0x4880c8?_0x4880c8['data']:null;}set['enabled'](_0x31dec5){const _0x57961f=this['data'],_0x41b9d8=_0x57961f['enabled'];_0x57961f['enabled']=_0x31dec5,this['fire']('set','enabled',_0x41b9d8,_0x31dec5);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x3f1*0x7+0x1*0x6fe+0x27*-0xe3+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x1478+-0x796*-0x1+0xce2+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x301591){_0x301591 instanceof Q?this['_anchor']['copy'](_0x301591):this['_anchor']['set'](..._0x301591),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x98b+-0x176c+0xde1),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x1abee9){var _0x5b9deb,_0x3b125b;this['_batchGrou'+'pId']!==_0x1abee9&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0xf0e*0x1+0x15e*0x1+-0x106c&&((_0x5b9deb=this['system']['app']['batcher'])==null||_0x5b9deb['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x1abee9>=0x13*-0x179+0x22e6+-0x6eb&&((_0x3b125b=this['system']['app']['batcher'])==null||_0x3b125b['insert'](et['ELEMENT'],_0x1abee9,this['entity'])),_0x1abee9<0x20bf+0x1774+0x3833*-0x1&&this['_batchGrou'+'pId']>=0xb*0x303+-0x6*-0x2a1+-0x30e7*0x1&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x1abee9);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x2c6863){this['_margin']['y']=_0x2c6863;const _0x37da2f=this['entity']['getLocalPo'+'sition'](),_0x15a069=this['_absTop'],_0x112b62=this['_localAnch'+'or']['y']+_0x2c6863;this['_setHeight'](_0x15a069-_0x112b62),_0x37da2f['y']=_0x2c6863+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x37da2f);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x2a2107){this['_setCalcul'+'atedWidth'](_0x2a2107,!(-0x1*0xb77+-0xe94+-0x3b*-0x71));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x3f9f5c){this['_setCalcul'+'atedHeight'](_0x3f9f5c,!(0x882*0x3+-0x3*0x6fb+-0x495*0x1));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x209fb4=this['system']['app']['graphicsDe'+'vice'],_0x26a3f2=this['screenCorn'+'ers'],_0x4a9277=_0x209fb4['canvas']['clientWidt'+'h']/_0x209fb4['width'],_0x511ed0=_0x209fb4['canvas']['clientHeig'+'ht']/_0x209fb4['height'];for(let _0x247c25=-0x1eee+0xf60+0xb5*0x16;_0x247c25<-0x986+0x1fb3+0x3*-0x763;_0x247c25++)this['_canvasCor'+'ners'][_0x247c25]['set'](_0x26a3f2[_0x247c25]['x']*_0x4a9277,(_0x209fb4['height']-_0x26a3f2[_0x247c25]['y'])*_0x511ed0);return this['_canvasCor'+'nersDirty']=!(0x22be+0xc*-0x98+-0x1b9d),this['_canvasCor'+'ners'];}set['drawOrder'](_0x165289){let _0x2d641a=0x12b1+0xe2*0x1+0x1393*-0x1;this['screen']&&(_0x2d641a=this['screen']['screen']['priority']),_0x165289>0x51*0x162ce+-0x833*0x27be+-0x71*-0x427db&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x165289=0x13c90e8+-0x1668247*0x1+0x129f15e),this['_drawOrder']=(_0x2d641a<<-0x29+0x11*0xf1+-0xfc0)+_0x165289,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x38092a){this['_height']=_0x38092a,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x38092a,!(-0x49*-0x63+-0x15*-0x1c9+-0x41b8)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x3fe092){if(this['_addedMode'+'ls']['length'])for(let _0x500c0c=0x59*-0x26+-0x178f*0x1+0x24c5;_0x500c0c<this['_layers']['length'];_0x500c0c++){const _0x5950ab=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x500c0c]);if(_0x5950ab){for(let _0x443414=-0x116e+0x26e0+-0x1572;_0x443414<this['_addedMode'+'ls']['length'];_0x443414++)_0x5950ab['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x443414]['meshInstan'+'ces']);}}if(this['_layers']=_0x3fe092,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x2f1ed5=-0xb99*0x2+-0xa9*-0x2e+0x1*-0x72c;_0x2f1ed5<this['_layers']['length'];_0x2f1ed5++){const _0x2db14e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x2f1ed5]);if(_0x2db14e){for(let _0x1ad191=0x20f+0x12+-0x6d*0x5;_0x1ad191<this['_addedMode'+'ls']['length'];_0x1ad191++)_0x2db14e['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x1ad191]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0xef8bcd){this['_margin']['x']=_0xef8bcd;const _0x576e13=this['entity']['getLocalPo'+'sition'](),_0x2522fc=this['_absRight'],_0x3df770=this['_localAnch'+'or']['x']+_0xef8bcd;this['_setWidth'](_0x2522fc-_0x3df770),_0x576e13['x']=_0xef8bcd+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x576e13);}get['left'](){return this['_margin']['x'];}set['margin'](_0x15c78b){this['_margin']['copy'](_0x15c78b),this['_calculate'+'Size'](!(0x1*-0x2072+0x15fd+-0xa75*-0x1),!(-0x2146+0x7*-0x466+0x802*0x8)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x2f78e3){const {pivot:_0x1e2ff5,margin:_0x43367c}=this,_0x2bc5d9=_0x1e2ff5['x'],_0x37d8a4=_0x1e2ff5['y'];_0x2f78e3 instanceof W?_0x1e2ff5['copy'](_0x2f78e3):_0x1e2ff5['set'](..._0x2f78e3);const _0x48edc2=_0x43367c['x']+_0x43367c['z'],_0x4f183b=_0x1e2ff5['x']-_0x2bc5d9;_0x43367c['x']+=_0x48edc2*_0x4f183b,_0x43367c['z']-=_0x48edc2*_0x4f183b;const _0x2791e3=_0x43367c['y']+_0x43367c['w'],_0x2eaef0=_0x1e2ff5['y']-_0x37d8a4;_0x43367c['y']+=_0x2791e3*_0x2eaef0,_0x43367c['w']-=_0x2791e3*_0x2eaef0,this['_anchorDir'+'ty']=!(-0x2*0x11e6+0x1e*0x1d+0x2066),this['_cornersDi'+'rty']=!(0x263e+-0xb*-0x34e+-0x4a98),this['_worldCorn'+'ersDirty']=!(0x13c8+-0xb98+-0x830*0x1),this['_calculate'+'Size'](!(0x1*0x125f+0x679+-0x18d7),!(0x2178+-0x1320+0x1*-0xe57)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x1e2ff5);}get['pivot'](){return this['_pivot'];}set['right'](_0x997eb2){this['_margin']['z']=_0x997eb2;const _0x5b8656=this['entity']['getLocalPo'+'sition'](),_0x1d9331=this['_absLeft'],_0x402feb=this['_localAnch'+'or']['z']-_0x997eb2;this['_setWidth'](_0x402feb-_0x1d9331),_0x5b8656['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x997eb2-this['_calculate'+'dWidth']*(-0x238a+-0xca*-0x16+0x122f-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x5b8656);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x350b82=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x102d+-0x2084+0x1057];this['_screenCor'+'ners'][0x689+0x3cf*0x2+0xe27*-0x1]['set'](this['_absLeft'],this['_absBottom'],-0xa96+-0x1b9a*0x1+-0xd*-0x2f0),this['_screenCor'+'ners'][-0x5*-0x6f1+-0x1*0x151b+0xd99*-0x1]['set'](this['_absRight'],this['_absBottom'],-0x1*0x245b+-0x2060+-0x45*-0xff),this['_screenCor'+'ners'][0x17*0xdf+-0x159*-0x3+-0x1812]['set'](this['_absRight'],this['_absTop'],0x7*-0xcd+-0x14fe+0x1*0x1a99),this['_screenCor'+'ners'][0x1*0x1b56+-0x13*-0xb3+-0x289c]['set'](this['_absLeft'],this['_absTop'],0x1108+-0x1fd4+0x2*0x766);const _0x359ce0=this['screen']['screen']['screenSpac'+'e'];for(let _0x278370=-0x170e+0xf05*-0x1+0x2613;_0x278370<-0x158d+0x1*-0xd2b+0xc*0x2e5;_0x278370++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x278370],this['_screenCor'+'ners'][_0x278370]),_0x359ce0&&this['_screenCor'+'ners'][_0x278370]['mulScalar'](this['screen']['screen']['scale']),_0x350b82&&this['_screenCor'+'ners'][_0x278370]['add'](_0x350b82);return this['_cornersDi'+'rty']=!(-0x57*0x61+-0x1479+-0x1*-0x3571),this['_canvasCor'+'nersDirty']=!(-0xaa8+-0xe*0x1a1+0x2176*0x1),this['_worldCorn'+'ersDirty']=!(-0x8de+0x209+0x6d5),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x17*0x17b+0xab*0xd+0x195e;}get['textHeight'](){return this['_text']?this['_text']['height']:0x4*-0x7b4+-0x1f*0x11d+0x955*0x7;}set['top'](_0x52dafa){this['_margin']['w']=_0x52dafa;const _0x35140f=this['entity']['getLocalPo'+'sition'](),_0x394e50=this['_absBottom'],_0x55727a=this['_localAnch'+'or']['w']-_0x52dafa;this['_setHeight'](_0x55727a-_0x394e50),_0x35140f['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x52dafa-this['_calculate'+'dHeight']*(0x8fc+-0x2377+0x1a7c-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x35140f);}get['top'](){return this['_margin']['w'];}set['type'](_0x4404a1){_0x4404a1!==this['_type']&&(this['_type']=_0x4404a1,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x4404a1===rf?this['_image']=new _R(this):_0x4404a1===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x57d8af){this['_useInput']!==_0x57d8af&&(this['_useInput']=_0x57d8af,this['system']['app']['elementInp'+'ut']?_0x57d8af?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0xb6e+-0x1*0xa58+0x2*0xae3)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x57d8af));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x213b41){this['_fitMode']=_0x213b41,this['_calculate'+'Size'](!(-0x10e7+-0x2*-0x118b+0x23*-0x85),!(0x1bb+0x1*-0x39e+0x1e3)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x4b35f8){this['_width']=_0x4b35f8,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x4b35f8,!(-0x15e9+-0x1*0x1fa1+-0x3d3*-0xe)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0xb1d927=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][0x2*0x3dd+-0x2*-0x62b+0x2f*-0x6d]=-es['data'][-0x2*0x118d+0x2392+-0x6b*0x1],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x2f3b66=-0x1a09*0x1+0x22ba+-0x8b1;_0x2f3b66<0x17d*0x19+-0x2502+-0x2f;_0x2f3b66++)es['transformP'+'oint'](_0xb1d927[_0x2f3b66],this['_worldCorn'+'ers'][_0x2f3b66]);}}else{const _0x45c6bc=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x45c6bc['x'],-_0x45c6bc['y'],-_0x45c6bc['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x45c6bc['x'],_0x45c6bc['y'],_0x45c6bc['z']);const _0x37aca5=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x37aca5['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x45c6bc['x']-this['pivot']['x']*this['calculated'+'Width'],_0x45c6bc['y']-this['pivot']['y']*this['calculated'+'Height'],_0x45c6bc['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x36*0x7f+0x30b*0x3+0x19b*0xb]),ni['set'](_0x45c6bc['x']+(0x646*-0x3+-0x21a9+0x2*0x1a3e-this['pivot']['x'])*this['calculated'+'Width'],_0x45c6bc['y']-this['pivot']['y']*this['calculated'+'Height'],_0x45c6bc['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0xd9*0x1c+-0x2048+0x88d]),ni['set'](_0x45c6bc['x']+(0x20ab+-0xfd1*-0x2+-0x404c-this['pivot']['x'])*this['calculated'+'Width'],_0x45c6bc['y']+(-0xf2b+0x7d*-0x19+0x1*0x1b61-this['pivot']['y'])*this['calculated'+'Height'],_0x45c6bc['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x26f+0x12*0x101+-0x147f]),ni['set'](_0x45c6bc['x']-this['pivot']['x']*this['calculated'+'Width'],_0x45c6bc['y']+(0x8*-0x284+0x9f*0x39+0x73*-0x22-this['pivot']['y'])*this['calculated'+'Height'],_0x45c6bc['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x30e*0x1+-0x2628+0x231d*0x1]);}return this['_worldCorn'+'ersDirty']=!(-0x3*-0xa97+-0x7f0+-0x17d4),this['_worldCorn'+'ers'];}set['fontSize'](_0x2fef3e){this['_setValue']('fontSize',_0x2fef3e);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x5aa425){this['_setValue']('minFontSiz'+'e',_0x5aa425);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x20cd37){this['_setValue']('maxFontSiz'+'e',_0x20cd37);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x51b858){this['_setValue']('maxLines',_0x51b858);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x2492ed){this['_setValue']('autoFitWid'+'th',_0x2492ed);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x5aae62){this['_setValue']('autoFitHei'+'ght',_0x5aae62);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x564de5){this['_setValue']('color',_0x564de5);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x31829d){this['_setValue']('font',_0x31829d);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x17301e){this['_setValue']('fontAsset',_0x17301e);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x426ba5){this['_setValue']('spacing',_0x426ba5);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x2d93e0){this['_setValue']('lineHeight',_0x2d93e0);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x3d54f9){this['_setValue']('wrapLines',_0x3d54f9);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x512725){this['_setValue']('lines',_0x512725);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x35c88b){this['_setValue']('alignment',_0x35c88b);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x35bfa6){this['_setValue']('autoWidth',_0x35bfa6);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x8003a1){this['_setValue']('autoHeight',_0x8003a1);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x148643){this['_setValue']('rtlReorder',_0x148643);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x48f21c){this['_setValue']('unicodeCon'+'verter',_0x48f21c);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x324644){this['_setValue']('text',_0x324644);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x6ec0e){this['_setValue']('key',_0x6ec0e);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x153138){this['_setValue']('texture',_0x153138);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x533b2c){this['_setValue']('textureAss'+'et',_0x533b2c);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x28add4){this['_setValue']('material',_0x28add4);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x5b72ed){this['_setValue']('materialAs'+'set',_0x5b72ed);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x22ae17){this['_setValue']('sprite',_0x22ae17);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x17c3a2){this['_setValue']('spriteAsse'+'t',_0x17c3a2);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x1ac32b){this['_setValue']('spriteFram'+'e',_0x1ac32b);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x275d30){this['_setValue']('pixelsPerU'+'nit',_0x275d30);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x132ed4){this['_setValue']('opacity',_0x132ed4);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x3d8bf8){this['_setValue']('rect',_0x3d8bf8);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x5c9119){this['_setValue']('mask',_0x5c9119);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x4fbda5){this['_setValue']('outlineCol'+'or',_0x4fbda5);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x4a9a86){this['_setValue']('outlineThi'+'ckness',_0x4a9a86);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x105811){this['_setValue']('shadowColo'+'r',_0x105811);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x3a69ab){this['_setValue']('shadowOffs'+'et',_0x3a69ab);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x4f4fb4){this['_setValue']('enableMark'+'up',_0x4f4fb4);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x2802f1){this['_setValue']('rangeStart',_0x2802f1);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x4c2735){this['_setValue']('rangeEnd',_0x4c2735);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x4696b2,_0x212ed1){this['_text']?(this['_text'][_0x4696b2]!==_0x212ed1&&this['_dirtyBatc'+'h'](),this['_text'][_0x4696b2]=_0x212ed1):this['_image']&&(this['_image'][_0x4696b2]!==_0x212ed1&&this['_dirtyBatc'+'h'](),this['_image'][_0x4696b2]=_0x212ed1);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x478fbb,_0x4cc13f,_0x918bcf){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0x478fbb,_0x4cc13f,_0x918bcf);return;}_0x478fbb instanceof T?Kd['copy'](_0x478fbb):Kd['set'](_0x478fbb,_0x4cc13f,_0x918bcf),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x2a64cd,_0x5058c0,_0x3212b4){_0x2a64cd instanceof T?this['localPosit'+'ion']['copy'](_0x2a64cd):this['localPosit'+'ion']['set'](_0x2a64cd,_0x5058c0,_0x3212b4);const _0x192d77=this['element'],_0x38cee3=this['localPosit'+'ion'],_0x1187a0=_0x192d77['_pivot'];_0x192d77['_margin']['x']=_0x38cee3['x']-_0x192d77['_calculate'+'dWidth']*_0x1187a0['x'],_0x192d77['_margin']['z']=_0x192d77['_localAnch'+'or']['z']-_0x192d77['_localAnch'+'or']['x']-_0x192d77['_calculate'+'dWidth']-_0x192d77['_margin']['x'],_0x192d77['_margin']['y']=_0x38cee3['y']-_0x192d77['_calculate'+'dHeight']*_0x1187a0['y'],_0x192d77['_margin']['w']=_0x192d77['_localAnch'+'or']['w']-_0x192d77['_localAnch'+'or']['y']-_0x192d77['_calculate'+'dHeight']-_0x192d77['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x3af4db=this['element'],_0x2cab94=_0x3af4db['screen'];if(_0x2cab94){if(_0x3af4db['_anchorDir'+'ty']){let _0xbd1ec0=-0x135+-0x2*0x606+0xd41,_0x4983b1=0x10b2+-0x2b4+0x1*-0xdfe,_0x2be8ea=0x493+-0x22d+-0x266*0x1,_0x2d589b=-0x4ac*0x1+-0x8*-0xb2+-0xe3;if(this['_parent']&&this['_parent']['element'])_0xbd1ec0=this['_parent']['element']['calculated'+'Width'],_0x4983b1=this['_parent']['element']['calculated'+'Height'],_0x2be8ea=this['_parent']['element']['pivot']['x'],_0x2d589b=this['_parent']['element']['pivot']['y'];else{const _0x1f6cb2=_0x2cab94['screen']['resolution'];_0xbd1ec0=_0x1f6cb2['x']/_0x2cab94['screen']['scale'],_0x4983b1=_0x1f6cb2['y']/_0x2cab94['screen']['scale'];}_0x3af4db['_anchorTra'+'nsform']['setTransla'+'te'](_0xbd1ec0*(_0x3af4db['anchor']['x']-_0x2be8ea),-(_0x4983b1*(_0x2d589b-_0x3af4db['anchor']['y'])),-0x833+-0x146b+-0x98a*-0x3),_0x3af4db['_anchorDir'+'ty']=!(0x1ff8+-0x382+-0x9b*0x2f),_0x3af4db['_calculate'+'LocalAncho'+'rs']();}_0x3af4db['_sizeDirty']&&_0x3af4db['_calculate'+'Size'](!(0x48f*-0x7+-0x2572+-0x17*-0x304),!(0x653+-0x178+0x26d*-0x2));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x55cbd2=this['localPosit'+'ion'],_0x2cbed7=_0x3af4db['_pivot'];_0x3af4db['_margin']['x']=_0x55cbd2['x']-_0x3af4db['_calculate'+'dWidth']*_0x2cbed7['x'],_0x3af4db['_margin']['z']=_0x3af4db['_localAnch'+'or']['z']-_0x3af4db['_localAnch'+'or']['x']-_0x3af4db['_calculate'+'dWidth']-_0x3af4db['_margin']['x'],_0x3af4db['_margin']['y']=_0x55cbd2['y']-_0x3af4db['_calculate'+'dHeight']*_0x2cbed7['y'],_0x3af4db['_margin']['w']=_0x3af4db['_localAnch'+'or']['w']-_0x3af4db['_localAnch'+'or']['y']-_0x3af4db['_calculate'+'dHeight']-_0x3af4db['_margin']['y'],this['_dirtyLoca'+'l']=!(-0xeea+0x1514+-0x629);}if(!_0x2cab94){this['_dirtyWorl'+'d']&&(_0x3af4db['_cornersDi'+'rty']=!(-0x1d6c+0x7ef+0x157d),_0x3af4db['_canvasCor'+'nersDirty']=!(0xa5*0xe+-0x125*-0x14+-0x1fea),_0x3af4db['_worldCorn'+'ersDirty']=!(0xff6*-0x1+-0x8ea*-0x1+0x70c*0x1)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x3af4db['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x3af4db['_anchorTra'+'nsform']):_0x3af4db['_screenToW'+'orld']['copy'](_0x3af4db['_anchorTra'+'nsform']),_0x3af4db['_modelTran'+'sform']['mul2'](_0x3af4db['_screenToW'+'orld'],this['localTrans'+'form']),_0x2cab94){_0x3af4db['_screenToW'+'orld']['mul2'](_0x2cab94['screen']['_screenMat'+'rix'],_0x3af4db['_screenToW'+'orld']),_0x2cab94['screen']['screenSpac'+'e']||_0x3af4db['_screenToW'+'orld']['mul2'](_0x2cab94['worldTrans'+'form'],_0x3af4db['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x3af4db['_screenToW'+'orld'],this['localTrans'+'form']);const _0x15ac04=_0x3af4db['_parentWor'+'ldTransfor'+'m'];_0x15ac04['setIdentit'+'y']();const _0x43bf5e=this['_parent'];_0x43bf5e&&_0x43bf5e['element']&&_0x43bf5e!==_0x2cab94&&(es['setTRS'](T['ZERO'],_0x43bf5e['getLocalRo'+'tation'](),_0x43bf5e['getLocalSc'+'ale']()),_0x15ac04['mul2'](_0x43bf5e['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x3dc0cd=ni;_0x3dc0cd['set'](-0xef9+0x1696*0x1+-0x79d*0x1,0xf6*0x25+-0xf7b+-0x1413,this['localPosit'+'ion']['z']);const _0x1519c0=kR;_0x1519c0['set'](_0x3af4db['_absLeft']+_0x3af4db['_pivot']['x']*_0x3af4db['calculated'+'Width'],_0x3af4db['_absBottom']+_0x3af4db['_pivot']['y']*_0x3af4db['calculated'+'Height'],0xe9a+-0x1*0x21f0+-0x9*-0x226),es['setTransla'+'te'](-_0x1519c0['x'],-_0x1519c0['y'],-_0x1519c0['z']),Yl['setTRS'](_0x3dc0cd,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x1519c0['x'],_0x1519c0['y'],_0x1519c0['z']),_0x3af4db['_screenTra'+'nsform']['mul2'](_0x3af4db['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x3af4db['_cornersDi'+'rty']=!(-0xb87+0x2*-0x1142+0x2e0b),_0x3af4db['_canvasCor'+'nersDirty']=!(0x2f*-0xa6+-0x45*-0x3+0x1dab),_0x3af4db['_worldCorn'+'ersDirty']=!(-0xdd3+-0x185f+0x2632);}else this['worldTrans'+'form']['copy'](_0x3af4db['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x1f99+0x206d+0x1b*-0x25f);}}['_onInsert'](_0x3c1b10){const _0xd5c554=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0xd5c554['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x2e5415=this['entity'];for(;_0x2e5415;){const _0x547c47=_0x2e5415['parent'];if((_0x547c47===null||_0x547c47['screen'])&&_0x2e5415['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x17b2f3=this['system']['_prerender']['indexOf'](this['entity']);_0x17b2f3>=-0x118b*0x2+0x1a86+0x890&&this['system']['_prerender']['splice'](_0x17b2f3,-0x1568+0xab*0x2b+-0x750),this['system']['_prerender']['indexOf'](_0x2e5415)<0x127a*0x1+0x2*-0x6f7+-0x48c&&this['system']['_prerender']['push'](_0x2e5415),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x2e5415['name']);}_0x2e5415=_0x547c47;}}['_onPrerend'+'er'](){for(let _0x5dd874=-0x25c2+-0x1d29+0x42eb;_0x5dd874<this['system']['_prerender']['length'];_0x5dd874++){const _0x32572c=this['system']['_prerender'][_0x5dd874];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x32572c['name']),_0x32572c['element']&&_0x32572c['element']['syncMask'](0x101+-0x10e4+0xfe4);}this['system']['_prerender']['length']=0xc8a+-0xf4e*-0x2+0x2*-0x1593;}['_bindScree'+'n'](_0x4f02c9){_0x4f02c9['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x5bc198){_0x5bc198['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x41aeb9){this['screen']&&this['screen']!==_0x41aeb9&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x41ecc4=this['screen'];this['screen']=_0x41aeb9,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x41ecc4),this['_anchorDir'+'ty']=!(0x889+-0x22c9*0x1+-0xd2*-0x20);const _0x5eaee4=this['entity']['children'];for(let _0x3b7186=0x39*0x83+0x39d*0x3+-0x2802,_0x56d726=_0x5eaee4['length'];_0x3b7186<_0x56d726;_0x3b7186++)_0x5eaee4[_0x3b7186]['element']&&_0x5eaee4[_0x3b7186]['element']['_updateScr'+'een'](_0x41aeb9);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x38ebf3){const _0x221d39=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x221d39['mask'],_0x38ebf3);}['_setMasked'+'By'](_0x105c70){const _0x199f00=this['_image']||this['_text'];if(_0x105c70){const _0x2ccc4c=_0x105c70['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x2ccc4c),_0x199f00==null||_0x199f00['_setStenci'+'l'](new qs({'ref':_0x2ccc4c,'func':Ch})),this['_maskedBy']=_0x105c70;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x199f00==null||_0x199f00['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x147d8c,_0x4f6475){var _0x5287c4,_0xc23a5f;if(_0x147d8c){if(this['_setMasked'+'By'](_0x147d8c),this['mask']){const _0x33e8ef=_0x147d8c['element']['_image']['_maskRef'],_0x4e13c0=new qs({'ref':_0x33e8ef,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x4e13c0),this['_image']['_maskRef']=_0x4f6475,_0x4f6475++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x4e13c0['ref']+(-0x4*0x1a7+-0x2*-0xc8b+0x1279*-0x1))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x4f6475),_0x147d8c=this['entity'];}const _0x4550a3=this['entity']['children'];for(let _0xc46c0d=-0xa04+-0x1970+0x2374,_0x103c3a=_0x4550a3['length'];_0xc46c0d<_0x103c3a;_0xc46c0d++)(_0x5287c4=_0x4550a3[_0xc46c0d]['element'])==null||_0x5287c4['_updateMas'+'k'](_0x147d8c,_0x4f6475);this['mask']&&_0x4f6475--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x469d9d=new qs({'ref':_0x4f6475,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x469d9d),this['_image']['_maskRef']=_0x4f6475,_0x4f6475++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x469d9d['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x4f6475),_0x147d8c=this['entity'];}const _0x3cc377=this['entity']['children'];for(let _0x1303d1=0x8*0x307+-0xd15*-0x2+-0x3262*0x1,_0x280236=_0x3cc377['length'];_0x1303d1<_0x280236;_0x1303d1++)(_0xc23a5f=_0x3cc377[_0x1303d1]['element'])==null||_0xc23a5f['_updateMas'+'k'](_0x147d8c,_0x4f6475);this['mask']&&_0x4f6475--;}}['_parseUpTo'+'Screen'](){const _0x37f559={'screen':null,'mask':null};let _0x1c8e6a=this['entity']['_parent'];for(;_0x1c8e6a&&!_0x1c8e6a['screen'];)_0x1c8e6a['element']&&_0x1c8e6a['element']['mask']&&(_0x37f559['mask']||(_0x37f559['mask']=_0x1c8e6a)),_0x1c8e6a=_0x1c8e6a['parent'];return _0x1c8e6a&&_0x1c8e6a['screen']&&(_0x37f559['screen']=_0x1c8e6a),_0x37f559;}['_onScreenR'+'esize'](_0x4f52ef){this['_anchorDir'+'ty']=!(0x2454+0x16ac+-0x3b0*0x10),this['_cornersDi'+'rty']=!(-0x871*0x4+0x1*-0x392+0x6*0x639),this['_worldCorn'+'ersDirty']=!(0x211d+0x158f+0x36ac*-0x1),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x4f52ef);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x13c68b=0xb*0x36+-0x74*-0x3d+-0x1a0e,_0x5da7b6=0x5b9+0x226c+-0x243d;const _0x2e9d9d=this['entity']['_parent'];if(_0x2e9d9d&&_0x2e9d9d['element'])_0x13c68b=_0x2e9d9d['element']['calculated'+'Width'],_0x5da7b6=_0x2e9d9d['element']['calculated'+'Height'];else{if(this['screen']){const _0x42b291=this['screen']['screen']['resolution'],_0x194bf8=this['screen']['screen']['scale'];_0x13c68b=_0x42b291['x']/_0x194bf8,_0x5da7b6=_0x42b291['y']/_0x194bf8;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x13c68b,this['_anchor']['y']*_0x5da7b6,this['_anchor']['z']*_0x13c68b,this['_anchor']['w']*_0x5da7b6);}['getOffsetP'+'osition'](_0x48a54b,_0x88eff9){const _0x297ec4=this['entity']['getLocalPo'+'sition']()['clone']();return _0x297ec4['x']+=_0x48a54b,_0x297ec4['y']+=_0x88eff9,this['_screenToW'+'orld']['transformP'+'oint'](_0x297ec4,_0x297ec4),_0x297ec4;}['onLayersCh'+'anged'](_0x24c60a,_0x1b8854){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x24c60a['off']('add',this['onLayerAdd'+'ed'],this),_0x24c60a['off']('remove',this['onLayerRem'+'oved'],this),_0x1b8854['on']('add',this['onLayerAdd'+'ed'],this),_0x1b8854['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x55be9e){this['layers']['indexOf'](_0x55be9e['id'])<0x1*0x98f+-0x95*0x3c+0x195d||(this['_image']?_0x55be9e['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x55be9e['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x236a18){this['layers']['indexOf'](_0x236a18['id'])<0xa5*-0x32+0x2*-0x619+0x1*0x2c6c||(this['_image']?_0x236a18['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x236a18['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x542bf5;const _0x1c7069=this['system']['app']['scene'],_0x573100=_0x1c7069['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x1c7069['on']('set:layers',this['onLayersCh'+'anged'],this),_0x573100&&(this['_evtLayerA'+'dded']=_0x573100['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x573100['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x2*-0xa51+0xc47+-0x20e9&&((_0x542bf5=this['system']['app']['batcher'])==null||_0x542bf5['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x3375f4,_0xafac15,_0x455898,_0x52c88a;const _0x336eb2=this['system']['app']['scene']['layers'];(_0x3375f4=this['_evtLayers'+'Changed'])==null||_0x3375f4['off'](),this['_evtLayers'+'Changed']=null,_0x336eb2&&((_0xafac15=this['_evtLayerA'+'dded'])==null||_0xafac15['off'](),this['_evtLayerA'+'dded']=null,(_0x455898=this['_evtLayerR'+'emoved'])==null||_0x455898['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x13a1+-0x62b*0x6+0x219*0x1b&&((_0x52c88a=this['system']['app']['batcher'])==null||_0x52c88a['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x2edb28,_0xe07cbb){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0xc1734b=this['_absRight']-this['_absLeft'],_0x1971e0=this['_absTop']-this['_absBottom'];_0x2edb28?this['_setWidth'](_0xc1734b):this['_setCalcul'+'atedWidth'](_0xc1734b,!(-0xda6+-0x1*0xade+0x1885)),_0xe07cbb?this['_setHeight'](_0x1971e0):this['_setCalcul'+'atedHeight'](_0x1971e0,!(0xe99+0x1be*0x3+0x2b*-0x76));const _0x2f8ee9=this['entity']['getLocalPo'+'sition']();_0x2f8ee9['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x2f8ee9['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x2f8ee9),this['_sizeDirty']=!(0x5dd+-0xe4e+0x872);}['_setWidth'](_0x20f6d5){this['_width']=_0x20f6d5,this['_setCalcul'+'atedWidth'](_0x20f6d5,!(0xf4*-0xa+-0x1*0x1daf+0x2738)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x274005){this['_height']=_0x274005,this['_setCalcul'+'atedHeight'](_0x274005,!(-0x1*0x20c4+0x1*-0x254f+0x82*0x8a)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x2662ea,_0x3e597b){if(!(Math['abs'](_0x2662ea-this['_calculate'+'dWidth'])<=0x13*0x1c1+0x2e*-0x66+0xeff*-0x1+0.0001)){if(this['_calculate'+'dWidth']=_0x2662ea,this['entity']['_dirtifyLo'+'cal'](),_0x3e597b){const _0x4f2844=this['entity']['getLocalPo'+'sition'](),_0x3a10aa=this['_pivot'];this['_margin']['x']=_0x4f2844['x']-this['_calculate'+'dWidth']*_0x3a10aa['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x161b71,_0x263188){if(!(Math['abs'](_0x161b71-this['_calculate'+'dHeight'])<=0x142e+0x1dd0+0x2c7*-0x12+0.0001)){if(this['_calculate'+'dHeight']=_0x161b71,this['entity']['_dirtifyLo'+'cal'](),_0x263188){const _0x262ad2=this['entity']['getLocalPo'+'sition'](),_0xaa57f5=this['_pivot'];this['_margin']['y']=_0x262ad2['y']-this['_calculate'+'dHeight']*_0xaa57f5['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x1fcf27=this['entity']['_children'];for(let _0x5111c5=-0x2321+0x16*-0x68+0x2c11,_0x32e666=_0x1fcf27['length'];_0x5111c5<_0x32e666;_0x5111c5++)_0x1fcf27[_0x5111c5]['element']&&(_0x1fcf27[_0x5111c5]['element']['_anchorDir'+'ty']=!(0x634*0x3+0x141*-0x1b+0xf3f*0x1),_0x1fcf27[_0x5111c5]['element']['_sizeDirty']=!(0x1ff*0xd+-0x1268+0x1*-0x78b));}['addModelTo'+'Layers'](_0x27835a){this['_addedMode'+'ls']['push'](_0x27835a);for(let _0x3c67fd=-0x107d*-0x1+-0x14e7*-0x1+0x2564*-0x1;_0x3c67fd<this['layers']['length'];_0x3c67fd++){const _0x8060bd=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3c67fd]);_0x8060bd&&_0x8060bd['addMeshIns'+'tances'](_0x27835a['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x250b7a){const _0x31296f=this['_addedMode'+'ls']['indexOf'](_0x250b7a);_0x31296f>=-0x750+-0x1*0x463+-0x5*-0x257&&this['_addedMode'+'ls']['splice'](_0x31296f,0xa02+-0xbf*0x1+0x1*-0x942);for(let _0x2f103f=0xf65+-0x7c8*-0x1+-0x1*0x172d;_0x2f103f<this['layers']['length'];_0x2f103f++){const _0x34fe87=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2f103f]);_0x34fe87&&_0x34fe87['removeMesh'+'Instances'](_0x250b7a['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x3d08d7=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x3d08d7&&(this['_maskOffse'+'t']=-0x1264*-0x2+-0x20ec+0xf7*-0x4+0.5,this['_offsetRea'+'dAt']=_0x3d08d7);const _0x593e31=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x2*-0x661+-0x36*-0x88+-0x2972+0.001,_0x593e31;}['isVisibleF'+'orCamera'](_0xdca4d7){let _0x5736e4,_0x51dc3f,_0x249ec1,_0x22c575;if(this['maskedBy']){const _0x436b23=this['maskedBy']['element']['screenCorn'+'ers'];_0x5736e4=Math['min'](Math['min'](_0x436b23[-0x596*0x3+0x440+-0x1*-0xc82]['x'],_0x436b23[-0x17c4+-0xaea+0x22af]['x']),Math['min'](_0x436b23[-0x9*-0x363+-0x1*0x179+-0x1d00]['x'],_0x436b23[-0x3*0x47d+-0x132b+-0x3d*-0x89]['x'])),_0x51dc3f=Math['max'](Math['max'](_0x436b23[-0x1c69+0x1*0x2280+-0x617]['x'],_0x436b23[0x2526+-0x43*-0x37+0x5ba*-0x9]['x']),Math['max'](_0x436b23[-0x26a9*0x1+0x11b*-0x1d+0xb*0x66e]['x'],_0x436b23[-0x221*0x1+0x7*0x35f+0x3*-0x727]['x'])),_0x22c575=Math['min'](Math['min'](_0x436b23[-0x2*-0x9cb+-0x12*-0xd0+0x1*-0x2236]['y'],_0x436b23[0x2270+-0x17ca+-0xaa5]['y']),Math['min'](_0x436b23[-0x66+0x337*-0x2+-0x23*-0x32]['y'],_0x436b23[0x1*0x739+-0x1f03+0x17cd]['y'])),_0x249ec1=Math['max'](Math['max'](_0x436b23[0x2b*-0x38+-0x2280+0x1*0x2be8]['y'],_0x436b23[-0x1d6a+0x270+0x1*0x1afb]['y']),Math['max'](_0x436b23[-0x5e7+0x1*0xa0f+-0x426]['y'],_0x436b23[0x211+0x1091+-0x129f]['y']));}else{const _0x3aca91=this['system']['app']['graphicsDe'+'vice']['width'],_0x8b48e5=this['system']['app']['graphicsDe'+'vice']['height'],_0x15a02f=_0xdca4d7['_rect']['z']*_0x3aca91,_0x2ebb6d=_0xdca4d7['_rect']['w']*_0x8b48e5;_0x5736e4=_0xdca4d7['_rect']['x']*_0x3aca91,_0x51dc3f=_0x5736e4+_0x15a02f,_0x249ec1=(0x1c60+0xeb5*0x1+-0x2b14-_0xdca4d7['_rect']['y'])*_0x8b48e5,_0x22c575=_0x249ec1-_0x2ebb6d;}const _0x3e7204=this['screenCorn'+'ers'],_0x38ecd0=Math['min'](Math['min'](_0x3e7204[0x99+-0x40*0x18+0x567]['x'],_0x3e7204[0x40+0x2664+-0x1*0x26a3]['x']),Math['min'](_0x3e7204[-0x256e+-0x3e2*0xa+0x4c44]['x'],_0x3e7204[-0x19a*0x16+0x490+-0x1*-0x1eaf]['x'])),_0x1edccb=Math['max'](Math['max'](_0x3e7204[-0x5*-0x22f+-0xc9d+0x1b2]['x'],_0x3e7204[0x2706+-0x26c7+0x1f*-0x2]['x']),Math['max'](_0x3e7204[0x301*0xc+-0x139*0x7+0x1b7b*-0x1]['x'],_0x3e7204[-0x1aa0+0x1*0x158e+-0x1*-0x515]['x'])),_0x3f34af=Math['min'](Math['min'](_0x3e7204[-0x43*-0x3+0x2016+-0x20df]['y'],_0x3e7204[-0x2513+-0xbbe+0x30d2]['y']),Math['min'](_0x3e7204[-0xb2d*-0x1+-0x4*0x1e7+-0x38f]['y'],_0x3e7204[0x76*0x3b+-0x35*-0x7d+0x46c*-0xc]['y'])),_0x25bef7=Math['max'](Math['max'](_0x3e7204[0x141e+0x1342+0x13b0*-0x2]['y'],_0x3e7204[-0x32*-0x5e+-0x25*-0xed+-0x349c]['y']),Math['max'](_0x3e7204[0x4cc*0x3+0x2390+-0x31f2]['y'],_0x3e7204[0x2496+0x16d3*0x1+-0x3b66*0x1]['y']));return!(_0x1edccb<_0x5736e4||_0x38ecd0>_0x51dc3f||_0x3f34af>_0x249ec1||_0x25bef7<_0x22c575);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x22*-0x111+0xa2f+-0x4*-0x685);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xc68+0x1*-0x823+0x148c);}['_dirtyBatc'+'h'](){var _0x117f31;this['batchGroup'+'Id']!==-(0x2445+0x19ff+-0x3f*0xfd)&&((_0x117f31=this['system']['app']['batcher'])==null||_0x117f31['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0x645+0xce+0x1*-0x713);}}const NR=['enabled'];class zR extends Xe{constructor(_0x413a96){super(_0x413a96),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x413a96['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x554ec8=this['_defaultTe'+'xture']['lock'](),_0x4ccd35=new Uint8Array(0x7f*0x3a+-0x220b+0x549);_0x4ccd35[0x1cf2+-0x1fd1+0x5*0x93]=0xddd*-0x2+-0x2591+0x424a,_0x4ccd35[-0x1e65+0x1fa4+-0x35*0x6]=0x1013+-0x8ff*-0x1+-0x1813,_0x4ccd35[-0xa15+-0x8*0x39f+-0x9*-0x457]=0x1103+0x515+-0x1519,_0x4ccd35[0x1a16+-0x17b+-0x1898]=0x5cf+0x34*-0x6f+-0x4*-0x46f,_0x554ec8['set'](_0x4ccd35),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x187706,_0x35b074,_0xd9d9f){_0x187706['_beingInit'+'ialized']=!(-0x1d67+-0x52c+0x2293*0x1),_0x35b074['anchor']!==void(-0x38b*0x3+0x2*-0xfc1+0x2a23)&&(_0x35b074['anchor']instanceof Q?_0x187706['anchor']['copy'](_0x35b074['anchor']):_0x187706['anchor']['set'](_0x35b074['anchor'][-0x219*-0x2+-0x84c+0x41a],_0x35b074['anchor'][-0x1cbf+0x87*-0x15+0x27d3],_0x35b074['anchor'][0x2b2+0x16*-0x138+0x1820],_0x35b074['anchor'][0x2*-0x3b3+-0x182f*-0x1+-0x10c6])),_0x35b074['pivot']!==void(0x1*-0x120d+0x1*0xc5+0x1148)&&(_0x35b074['pivot']instanceof W?_0x187706['pivot']['copy'](_0x35b074['pivot']):_0x187706['pivot']['set'](_0x35b074['pivot'][-0x1f51+0xbe1+-0x9b8*-0x2],_0x35b074['pivot'][-0x558+-0x7*0x4cf+0x2702*0x1]));const _0x6d0521=Math['abs'](_0x187706['anchor']['x']-_0x187706['anchor']['z'])>-0x7b*-0x3c+-0x127d*0x1+0x1*-0xa57+0.001,_0x16c826=Math['abs'](_0x187706['anchor']['y']-_0x187706['anchor']['w'])>0xd54+0x2*0x595+0x14a*-0x13+0.001;let _0x575490=!(0x6*-0x5e3+0xc73*-0x1+-0x4c7*-0xa),_0x105579;_0x35b074['margin']!==void(-0x245+0x257b*0x1+-0x2336)&&(_0x35b074['margin']instanceof Q?_0x187706['margin']['copy'](_0x35b074['margin']):_0x187706['_margin']['set'](_0x35b074['margin'][-0xc*0x205+-0x248d+0x3cc9],_0x35b074['margin'][0x15*0x85+0xa*0x393+-0x2ea6],_0x35b074['margin'][-0xf4c+0x1951+-0x1*0xa03],_0x35b074['margin'][-0x1*-0x1e07+0x2606+-0x440a]),_0x575490=!(0x17*-0x1a5+-0x5*-0x61a+0x751)),_0x35b074['left']!==void(-0x1467+0x1*-0x15d3+-0x151d*-0x2)&&(_0x187706['_margin']['x']=_0x35b074['left'],_0x575490=!(-0x1ff9+0xabd*-0x2+0x3573)),_0x35b074['bottom']!==void(0x3ab*-0x1+-0x2*-0x11ec+-0x202d)&&(_0x187706['_margin']['y']=_0x35b074['bottom'],_0x575490=!(0x1291+0x1165*0x2+-0x355b)),_0x35b074['right']!==void(-0x1*-0xf4f+-0x2583+0x1634)&&(_0x187706['_margin']['z']=_0x35b074['right'],_0x575490=!(0x5*-0x1f4+-0x118d+-0x6f*-0x3f)),_0x35b074['top']!==void(0xc09+0xb7*0x12+0x18e7*-0x1)&&(_0x187706['_margin']['w']=_0x35b074['top'],_0x575490=!(0xe7b+-0x2081*0x1+0x1206)),_0x575490&&(_0x187706['margin']=_0x187706['_margin']);let _0x486264=!(0x9e7+-0x1c0+0x826*-0x1);_0x35b074['width']!==void(0x2151*0x1+0x1be3+-0x3d34)&&!_0x6d0521?_0x187706['width']=_0x35b074['width']:_0x6d0521&&(_0x486264=!(-0x76*0xb+0xcd*0x14+-0xaf2)),_0x35b074['height']!==void(0x694+0x535*0x5+-0x209d)&&!_0x16c826?_0x187706['height']=_0x35b074['height']:_0x16c826&&(_0x486264=!(-0xc5*0x13+-0x1*0x7bb+0x165a)),_0x486264&&(_0x187706['anchor']=_0x187706['anchor']),_0x35b074['enabled']!==void(-0x2*-0xa12+-0x744+-0xce0)&&(_0x187706['enabled']=_0x35b074['enabled']),_0x35b074['useInput']!==void(0x7cd+0x288+0x211*-0x5)&&(_0x187706['useInput']=_0x35b074['useInput']),_0x35b074['fitMode']!==void(-0x78b*-0x4+0x30e+-0x2*0x109d)&&(_0x187706['fitMode']=_0x35b074['fitMode']),_0x187706['batchGroup'+'Id']=_0x35b074['batchGroup'+'Id']===void(0x247d+-0x10bd+-0x13c0)||_0x35b074['batchGroup'+'Id']===null?-(-0x21*-0x10b+-0x247b*0x1+0x211):_0x35b074['batchGroup'+'Id'],_0x35b074['layers']&&Array['isArray'](_0x35b074['layers'])&&(_0x187706['layers']=_0x35b074['layers']['slice'](-0x2*-0xbf5+-0x1dfb+0x1*0x611)),_0x35b074['type']!==void(-0xe6+-0x1*0x18be+-0x2*-0xcd2)&&(_0x187706['type']=_0x35b074['type']),_0x187706['type']===rf?(_0x35b074['rect']!==void(0x1e58+0xc87+-0x2adf)&&(_0x187706['rect']=_0x35b074['rect']),_0x35b074['color']!==void(-0x622+-0x1f66+-0x1*-0x2588)&&(_0x105579=_0x35b074['color'],_0x105579 instanceof Y||(_0x105579=new Y(_0x35b074['color'][-0x248c+-0xe*-0x251+0x41e],_0x35b074['color'][0x974+0x1add+0x10*-0x245],_0x35b074['color'][-0x2680+-0x1513+0x3b95])),_0x187706['color']=_0x105579),_0x35b074['opacity']!==void(0x2689+-0x14*-0x16e+-0x997*0x7)&&(_0x187706['opacity']=_0x35b074['opacity']),_0x35b074['textureAss'+'et']!==void(0x2*-0xb1f+-0x10dd*-0x1+0x11*0x51)&&(_0x187706['textureAss'+'et']=_0x35b074['textureAss'+'et']),_0x35b074['texture']&&(_0x187706['texture']=_0x35b074['texture']),_0x35b074['spriteAsse'+'t']!==void(-0x1c2e*-0x1+-0x231+-0x1*0x19fd)&&(_0x187706['spriteAsse'+'t']=_0x35b074['spriteAsse'+'t']),_0x35b074['sprite']&&(_0x187706['sprite']=_0x35b074['sprite']),_0x35b074['spriteFram'+'e']!==void(0x16af+0x89*-0x7+-0x12f0)&&(_0x187706['spriteFram'+'e']=_0x35b074['spriteFram'+'e']),_0x35b074['pixelsPerU'+'nit']!==void(0xfeb+0x57*-0x63+0x11ba)&&_0x35b074['pixelsPerU'+'nit']!==null&&(_0x187706['pixelsPerU'+'nit']=_0x35b074['pixelsPerU'+'nit']),_0x35b074['materialAs'+'set']!==void(-0x342+-0x2332+-0x4*-0x99d)&&(_0x187706['materialAs'+'set']=_0x35b074['materialAs'+'set']),_0x35b074['material']&&(_0x187706['material']=_0x35b074['material']),_0x35b074['mask']!==void(-0x263d+0xa*-0x3df+-0x4cf3*-0x1)&&(_0x187706['mask']=_0x35b074['mask'])):_0x187706['type']===ex&&(_0x35b074['autoWidth']!==void(-0x1*0xaff+0xce7+-0x1e8)&&(_0x187706['autoWidth']=_0x35b074['autoWidth']),_0x35b074['autoHeight']!==void(-0x22b4+-0x115*0x1b+0x3feb)&&(_0x187706['autoHeight']=_0x35b074['autoHeight']),_0x35b074['rtlReorder']!==void(-0xbf7+-0x179b+0x2392)&&(_0x187706['rtlReorder']=_0x35b074['rtlReorder']),_0x35b074['unicodeCon'+'verter']!==void(0x1*-0x1445+-0x2f4+-0x91*-0x29)&&(_0x187706['unicodeCon'+'verter']=_0x35b074['unicodeCon'+'verter']),_0x35b074['text']!==null&&_0x35b074['text']!==void(-0x24b*-0xa+-0x5*0x26e+-0x18*0x73)?_0x187706['text']=_0x35b074['text']:_0x35b074['key']!==null&&_0x35b074['key']!==void(0x1734+0x207b+-0x37af)&&(_0x187706['key']=_0x35b074['key']),_0x35b074['color']!==void(-0x2*0x808+-0xc*0x10b+0x76*0x3e)&&(_0x105579=_0x35b074['color'],_0x105579 instanceof Y||(_0x105579=new Y(_0x105579[0x22a4+-0x38e+-0xf8b*0x2],_0x105579[0x1*-0x667+-0x2542+0x2baa],_0x105579[-0x1d13+0x4*-0x833+0x49*0xd9])),_0x187706['color']=_0x105579),_0x35b074['opacity']!==void(-0x3*0x2+-0x19cd+-0x19d3*-0x1)&&(_0x187706['opacity']=_0x35b074['opacity']),_0x35b074['spacing']!==void(0x4*-0x526+0x6ce*-0x4+-0x3c*-0xcc)&&(_0x187706['spacing']=_0x35b074['spacing']),_0x35b074['fontSize']!==void(-0x1c04+0x8*0xd5+0xaae*0x2)&&(_0x187706['fontSize']=_0x35b074['fontSize'],_0x35b074['lineHeight']||(_0x187706['lineHeight']=_0x35b074['fontSize'])),_0x35b074['lineHeight']!==void(0x1*-0x25e1+-0xa8+0x2689)&&(_0x187706['lineHeight']=_0x35b074['lineHeight']),_0x35b074['maxLines']!==void(-0x26a8+0x1815+0xe93)&&(_0x187706['maxLines']=_0x35b074['maxLines']),_0x35b074['wrapLines']!==void(-0x1657+0x38d+0x12ca)&&(_0x187706['wrapLines']=_0x35b074['wrapLines']),_0x35b074['minFontSiz'+'e']!==void(0x94*-0x3+0x729*-0x1+0x8e5)&&(_0x187706['minFontSiz'+'e']=_0x35b074['minFontSiz'+'e']),_0x35b074['maxFontSiz'+'e']!==void(-0xca6+-0xc*-0x224+-0x2*0x685)&&(_0x187706['maxFontSiz'+'e']=_0x35b074['maxFontSiz'+'e']),_0x35b074['autoFitWid'+'th']&&(_0x187706['autoFitWid'+'th']=_0x35b074['autoFitWid'+'th']),_0x35b074['autoFitHei'+'ght']&&(_0x187706['autoFitHei'+'ght']=_0x35b074['autoFitHei'+'ght']),_0x35b074['fontAsset']!==void(-0x2657+-0x2*0xbed+0x1d*0x225)&&(_0x187706['fontAsset']=_0x35b074['fontAsset']),_0x35b074['font']!==void(-0x1d0e*0x1+0x1586*-0x1+0x3294)&&(_0x187706['font']=_0x35b074['font']),_0x35b074['alignment']!==void(0x1*0x9f7+-0x1*0x1139+-0x1*-0x742)&&(_0x187706['alignment']=_0x35b074['alignment']),_0x35b074['outlineCol'+'or']!==void(0x1198+0x900+0x1a98*-0x1)&&(_0x187706['outlineCol'+'or']=_0x35b074['outlineCol'+'or']),_0x35b074['outlineThi'+'ckness']!==void(-0x1021+0x58b*0x1+0xa96)&&(_0x187706['outlineThi'+'ckness']=_0x35b074['outlineThi'+'ckness']),_0x35b074['shadowColo'+'r']!==void(-0x2607*0x1+-0x2*0x2f3+-0xad*-0x41)&&(_0x187706['shadowColo'+'r']=_0x35b074['shadowColo'+'r']),_0x35b074['shadowOffs'+'et']!==void(0xa90+0xbf7*0x2+-0x227e)&&(_0x187706['shadowOffs'+'et']=_0x35b074['shadowOffs'+'et']),_0x35b074['enableMark'+'up']!==void(-0x1ca9*-0x1+-0x2644+0x99b)&&(_0x187706['enableMark'+'up']=_0x35b074['enableMark'+'up']));const _0x58fcae=_0x187706['_parseUpTo'+'Screen']();_0x58fcae['screen']&&_0x187706['_updateScr'+'een'](_0x58fcae['screen']),super['initialize'+'ComponentD'+'ata'](_0x187706,_0x35b074,_0xd9d9f),_0x187706['_beingInit'+'ialized']=!(-0x6*-0xd1+-0x9e7+0x502),_0x187706['type']===rf&&_0x187706['_image']['_meshDirty']&&_0x187706['_image']['_updateMes'+'h'](_0x187706['_image']['mesh']);}['onAddCompo'+'nent'](_0x267a02,_0x550a43){_0x267a02['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x33b991,_0x5a77d4){_0x5a77d4['onRemove']();}['cloneCompo'+'nent'](_0x2f9a7f,_0x1252a5){const _0x51a06=_0x2f9a7f['element'],_0x1b81ae={'enabled':_0x51a06['enabled'],'width':_0x51a06['width'],'height':_0x51a06['height'],'anchor':_0x51a06['anchor']['clone'](),'pivot':_0x51a06['pivot']['clone'](),'margin':_0x51a06['margin']['clone'](),'alignment':_0x51a06['alignment']&&_0x51a06['alignment']['clone']()||_0x51a06['alignment'],'autoWidth':_0x51a06['autoWidth'],'autoHeight':_0x51a06['autoHeight'],'type':_0x51a06['type'],'rect':_0x51a06['rect']&&_0x51a06['rect']['clone']()||_0x51a06['rect'],'rtlReorder':_0x51a06['rtlReorder'],'unicodeConverter':_0x51a06['unicodeCon'+'verter'],'materialAsset':_0x51a06['materialAs'+'set'],'material':_0x51a06['material'],'color':_0x51a06['color']&&_0x51a06['color']['clone']()||_0x51a06['color'],'opacity':_0x51a06['opacity'],'textureAsset':_0x51a06['textureAss'+'et'],'texture':_0x51a06['texture'],'spriteAsset':_0x51a06['spriteAsse'+'t'],'sprite':_0x51a06['sprite'],'spriteFrame':_0x51a06['spriteFram'+'e'],'pixelsPerUnit':_0x51a06['pixelsPerU'+'nit'],'spacing':_0x51a06['spacing'],'lineHeight':_0x51a06['lineHeight'],'wrapLines':_0x51a06['wrapLines'],'layers':_0x51a06['layers'],'fontSize':_0x51a06['fontSize'],'minFontSize':_0x51a06['minFontSiz'+'e'],'maxFontSize':_0x51a06['maxFontSiz'+'e'],'autoFitWidth':_0x51a06['autoFitWid'+'th'],'autoFitHeight':_0x51a06['autoFitHei'+'ght'],'maxLines':_0x51a06['maxLines'],'fontAsset':_0x51a06['fontAsset'],'font':_0x51a06['font'],'useInput':_0x51a06['useInput'],'fitMode':_0x51a06['fitMode'],'batchGroupId':_0x51a06['batchGroup'+'Id'],'mask':_0x51a06['mask'],'outlineColor':_0x51a06['outlineCol'+'or']&&_0x51a06['outlineCol'+'or']['clone']()||_0x51a06['outlineCol'+'or'],'outlineThickness':_0x51a06['outlineThi'+'ckness'],'shadowColor':_0x51a06['shadowColo'+'r']&&_0x51a06['shadowColo'+'r']['clone']()||_0x51a06['shadowColo'+'r'],'shadowOffset':_0x51a06['shadowOffs'+'et']&&_0x51a06['shadowOffs'+'et']['clone']()||_0x51a06['shadowOffs'+'et'],'enableMarkup':_0x51a06['enableMark'+'up']};return _0x51a06['key']!==void(0x1c01+-0x1381+0x8*-0x110)&&_0x51a06['key']!==null?_0x1b81ae['key']=_0x51a06['key']:_0x1b81ae['text']=_0x51a06['text'],this['addCompone'+'nt'](_0x1252a5,_0x1b81ae);}['getTextEle'+'mentMateri'+'al'](_0x23fbf3,_0xa44690,_0x460a93){const _0x5375b0=(_0x23fbf3&&0xbc3*-0x3+0xe*-0xd6+0x2efe)|(_0xa44690&&-0x22fa+0x1034+-0x259*-0x8)|(_0x460a93&&-0x23e2*-0x1+-0x4*0x6f0+-0x81e);let _0x4730bc=this['_defaultTe'+'xtMaterial'+'s'][_0x5375b0];if(_0x4730bc)return _0x4730bc;let _0x3cdd68='TextMateri'+'al';return _0x4730bc=new cs(),_0xa44690?(_0x4730bc['msdfMap']=this['_defaultTe'+'xture'],_0x4730bc['msdfTextAt'+'tribute']=_0x460a93,_0x4730bc['emissive']['set'](-0x5dd+-0x134e+0x192c,-0x1*0x1edf+0x1370+0x30*0x3d,0xa1*-0x17+0x7e1+0x697)):(_0x3cdd68='Bitmap'+_0x3cdd68,_0x4730bc['emissive']['set'](0x56a+0x1*0x355+-0x1*0x8be,-0xc*-0x1b4+0x259a+-0x3a09,-0x10d3+0xfef*-0x1+0x1*0x20c3),_0x4730bc['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x4730bc['opacityMap']=this['_defaultTe'+'xture'],_0x4730bc['opacityMap'+'Channel']='a'),_0x23fbf3&&(_0x3cdd68='ScreenSpac'+'e'+_0x3cdd68,_0x4730bc['depthTest']=!(-0x6f*0x7+-0x24c3+0x1*0x27cd)),_0x4730bc['name']='default'+_0x3cdd68,_0x4730bc['useLightin'+'g']=!(0xb4b+0x25fb+-0x3145),_0x4730bc['useTonemap']=!(-0xb73+-0x7e3+0x1357),_0x4730bc['useFog']=!(-0x1*0x157f+0xf20+0x660),_0x4730bc['useSkybox']=!(-0x1c30+0xa77*0x1+0x11ba),_0x4730bc['diffuse']['set'](-0x83b*0x1+0x1ef+0x64c,0x127e+-0x2015+0xd97,-0x252a+0x1a*0x41+0x1e90),_0x4730bc['opacity']=0x1*-0x1f19+0x23ea*0x1+-0x4d1+0.5,_0x4730bc['blendType']=hr,_0x4730bc['depthWrite']=!(0x1*-0x24a+0x1d93+-0x1b48),_0x4730bc['emissiveVe'+'rtexColor']=!(0xe93+0x269f+0x3532*-0x1),_0x4730bc['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x5375b0]=_0x4730bc,_0x4730bc;}['_createBas'+'eImageMate'+'rial'](){const _0x5b7725=new cs();return _0x5b7725['diffuse']['set'](0x1317+-0x58a*0x6+0xe25,0x257e+-0x17f*0x8+0x252*-0xb,-0x1*0x329+0x9c7*-0x1+0x90*0x17),_0x5b7725['emissive']['set'](-0x1cc3*-0x1+-0x1*0x6e6+-0x15dc,-0x6ec+0x240e+-0x1d21,0x1591+-0x1a1d+0x48d),_0x5b7725['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x5b7725['opacityMap']=this['_defaultTe'+'xture'],_0x5b7725['opacityMap'+'Channel']='a',_0x5b7725['useLightin'+'g']=!(0xf4a+0x245d+-0x33a6),_0x5b7725['useTonemap']=!(-0x1*0xbd4+-0x3*0x149+0xfb0*0x1),_0x5b7725['useFog']=!(0x220a+0x2169+-0x4372),_0x5b7725['useSkybox']=!(0x2228*0x1+0x10c1+-0x32e8),_0x5b7725['blendType']=hr,_0x5b7725['depthWrite']=!(-0xdce+-0x2e*-0xc4+-0x15*0x105),_0x5b7725;}['getImageEl'+'ementMater'+'ial'](_0x877b57,_0x2602db,_0x58c17d,_0x1bd7e4){return _0x877b57?_0x2602db?_0x58c17d?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x5ab*0x1+0x4f7+-0x3*0x38b),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x2c5*-0x2+-0x319*-0x5+-0x1506,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x9*-0x42+0xc5*-0x1f+0x72e*0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x407*-0x5+-0x150c+-0x4*-0xa4c),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0xb2c+0x1895+-0x23c0),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x23e9+0x1cbb+-0x40a3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x1bd7e4?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x117*-0x4+-0x946+-0x1*-0xda3),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x417*0x1+0x1*0x1d93+-0x21a9,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x1*0xa1d+-0xf0a+0x1928),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x16*-0x55+0x1176+-0x71*0x17),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x17*0x121+-0x19e*0x8+-0xd06),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x8d1+0xd3c+-0x160c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x22ed+0xbc7+0x1727),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1a48+-0x1*-0xf5f+-0x29a6,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x220d+0x3*-0xd+-0x8b*-0x3f),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x8*-0xee+-0x1c87+0x4*0x8fe),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x26e0+-0xc9a+-0x1a45),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x29d*-0x5+0x23bc+-0x6*0x3c7),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x58c17d?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x2cb*0x5+0x16d9+-0x8e1),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x1bd7e4?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x1*0xc83+0xacd+-0x174f),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x717*0x1+-0x10f*-0xe+-0x8*0x2bd),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x2602db?_0x58c17d?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x1b8c+0x23d4+0x3f5f*-0x1,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x1d24+0x70*0x10+0x13f*-0x1d),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0xe23+0x2*0xe75+0x3a*-0xbe),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x1*-0x78b+-0x1*-0x1487+-0x3*0x95b),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x1*-0xae1+0x219b+-0x2c7b),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x1bd7e4?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x25d0+0x1*0x812+0x5f3*0x5,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x1bd3+0xadf+-0x1*0x26b1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0xe32+0x213a+-0x2f6b),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x26be+-0x1024+0x36e3),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x542+0x60d*0x2+-0x115b),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x1035+0xb*0x229+-0x27f7,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0xb4f*0x3+0xb24+0x1*0x16ca),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0xaad+0x12e9+-0x1*0x1d95),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x20fd+0x2*-0x1d5+0x24a8),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0xd90+0x56a+0x1*-0x12f9),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x58c17d?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x1bd7e4?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x4cca81){this['_unicodeCo'+'nverter']=_0x4cca81;}['registerRt'+'lReorder'](_0xb4ed9e){this['_rtlReorde'+'r']=_0xb4ed9e;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x44b3c0,_0x3b84be){super(_0x44b3c0,_0x3b84be),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x15*-0x15f+-0x26ff+0x21e5*0x2),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new W(-0x3f*-0x94+-0x1*0x164c+-0xe20,-0x2492+0x1*-0x216b+0x45fd),this['_linearSpr'+'ingX']=!(0x2*0x39a+0x11cd+-0x1900),this['_linearSti'+'ffnessX']=-0x1*-0xfa3+-0xc*-0x274+-0x2d13,this['_linearDam'+'pingX']=-0x1f90+0x1420+0xb71,this['_linearEqu'+'ilibriumX']=0x329*0x6+0x4*-0x3d9+-0x392,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new W(-0x1*-0x21a9+-0x1375+-0xe34,-0x43f*0x2+-0x77b+-0x2f*-0x57),this['_linearSpr'+'ingY']=!(-0x1715+0x236+-0x14e*-0x10),this['_linearSti'+'ffnessY']=-0x11e1+-0x62b+0xc06*0x2,this['_linearDam'+'pingY']=0x88e+0x2061+-0x28ee,this['_linearEqu'+'ilibriumY']=-0x149f+-0x8*-0x379+0x263*-0x3,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new W(-0x175c+0x13fb+0xad*0x5,0x1ad9+0x1d7d*0x1+-0x3856),this['_linearSpr'+'ingZ']=!(-0x8ae+-0x512+-0x1f7*-0x7),this['_linearSti'+'ffnessZ']=-0x2140*-0x1+0x1785+-0x1*0x38c5,this['_linearDam'+'pingZ']=0x79d*0x1+-0x1239+0xa9d,this['_linearEqu'+'ilibriumZ']=-0x1*0x22df+-0xdd*0x26+-0x20d*-0x21,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new W(0x23fb+0x1efb+-0x42f6,-0xef6+-0x1529+0x241f),this['_angularSp'+'ringX']=!(-0x1516*-0x1+0x1f*0x1f+-0x18d6),this['_angularSt'+'iffnessX']=-0x5*0x7b9+0xbd7+-0x12a*-0x17,this['_angularDa'+'mpingX']=-0x13e*-0xe+-0xf09+0x12d*-0x2,this['_angularEq'+'uilibriumX']=-0x22ff+-0x15*0x83+-0x5*-0x926,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new W(-0x501+-0x200b+0x2*0x1286,-0x2584+0x1*-0x12dc+0x3860),this['_angularSp'+'ringY']=!(-0x253d+0x1bfc*0x1+0x942),this['_angularSt'+'iffnessY']=-0x2e7*0x4+0x251d+-0x1981*0x1,this['_angularDa'+'mpingY']=-0x1679+-0xcc1+0x233b,this['_angularEq'+'uilibriumY']=-0x1744+0x970+-0x1*-0xdd4,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new W(-0x1*0x1+-0x1156+0xc1*0x17,-0x1*0x42+0x110*-0xc+0xd02),this['_angularSp'+'ringZ']=!(-0x2d2*0xa+0x24b9+-0x884),this['_angularEq'+'uilibriumZ']=-0x1701+0x18f7*-0x1+-0x133*-0x28,this['_angularDa'+'mpingZ']=0x24a7+-0x6*0x1f1+-0x1900,this['_angularSt'+'iffnessZ']=0x96+0x1*0xbf5+-0xc8b,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x389520){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x389520,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x1707e5){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x1707e5,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x5d1eac){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x5d1eac&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x5d1eac),this['_breakForc'+'e']=_0x5d1eac);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x357d39){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x357d39,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x4c2780){this['_angularLi'+'mitsX']['equals'](_0x4c2780)||(this['_angularLi'+'mitsX']['copy'](_0x4c2780),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x23302a){this['_angularMo'+'tionX']!==_0x23302a&&(this['_angularMo'+'tionX']=_0x23302a,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x1e73e1){this['_angularLi'+'mitsY']['equals'](_0x1e73e1)||(this['_angularLi'+'mitsY']['copy'](_0x1e73e1),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x1614ad){this['_angularMo'+'tionY']!==_0x1614ad&&(this['_angularMo'+'tionY']=_0x1614ad,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x3412a7){this['_angularLi'+'mitsZ']['equals'](_0x3412a7)||(this['_angularLi'+'mitsZ']['copy'](_0x3412a7),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x5dce67){this['_angularMo'+'tionZ']!==_0x5dce67&&(this['_angularMo'+'tionZ']=_0x5dce67,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x3ad76f){this['_linearLim'+'itsX']['equals'](_0x3ad76f)||(this['_linearLim'+'itsX']['copy'](_0x3ad76f),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x33cfad){this['_linearMot'+'ionX']!==_0x33cfad&&(this['_linearMot'+'ionX']=_0x33cfad,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x273dfe){this['_linearLim'+'itsY']['equals'](_0x273dfe)||(this['_linearLim'+'itsY']['copy'](_0x273dfe),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x31eadd){this['_linearMot'+'ionY']!==_0x31eadd&&(this['_linearMot'+'ionY']=_0x31eadd,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x470ce4){this['_linearLim'+'itsZ']['equals'](_0x470ce4)||(this['_linearLim'+'itsZ']['copy'](_0x470ce4),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x4fa8fb){this['_linearMot'+'ionZ']!==_0x4fa8fb&&(this['_linearMot'+'ionZ']=_0x4fa8fb,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x377690,_0x487cbd){const _0x2c9ff7=_0x377690['getTransla'+'tion'](),_0x319a79=new se();_0x319a79['setFromMat'+'4'](_0x377690);const _0x263a05=new Ammo['btVector3'](_0x2c9ff7['x'],_0x2c9ff7['y'],_0x2c9ff7['z']),_0x313885=new Ammo['btQuaterni'+'on'](_0x319a79['x'],_0x319a79['y'],_0x319a79['z'],_0x319a79['w']);_0x487cbd['setOrigin'](_0x263a05),_0x487cbd['setRotatio'+'n'](_0x313885),Ammo['destroy'](_0x263a05),Ammo['destroy'](_0x313885);}['_updateAng'+'ularLimits'](){const _0x318225=this['_constrain'+'t'];if(_0x318225){let _0x5cdcce,_0x18cc56,_0x190987,_0x2385a0,_0x23f31e,_0x204813;this['_angularMo'+'tionX']===Vn?(_0x5cdcce=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x2385a0=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x5cdcce=-0x5*-0x219+0x7*0x399+-0x1*0x23ab,_0x2385a0=-0x207*0x2+0x6d1*0x4+-0x1736):_0x5cdcce=_0x2385a0=0x5*-0x15d+0x514*-0x4+0x1b21,this['_angularMo'+'tionY']===Vn?(_0x18cc56=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x23f31e=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x18cc56=0x91a+0x1*-0x1fad+0x1694,_0x23f31e=-0x2b*0xe+0x93+0x1c7):_0x18cc56=_0x23f31e=0x1*-0x13a5+-0x15d*0x1+-0x2*-0xa81,this['_angularMo'+'tionZ']===Vn?(_0x190987=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x204813=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x190987=0x7d6+-0x67b*0x6+0x1f0d,_0x204813=0x256e+-0x3b*0x5b+-0x1075):_0x190987=_0x204813=-0xce6+0x43*0x67+-0xe0f;const _0x33b6ad=new Ammo['btVector3'](_0x5cdcce,_0x18cc56,_0x190987);_0x318225['setAngular'+'LowerLimit'](_0x33b6ad),_0x33b6ad['setValue'](_0x2385a0,_0x23f31e,_0x204813),_0x318225['setAngular'+'UpperLimit'](_0x33b6ad),Ammo['destroy'](_0x33b6ad);}}['_updateLin'+'earLimits'](){const _0x55a730=this['_constrain'+'t'];if(_0x55a730){let _0x12d1e4,_0x8981f6,_0xb3968e,_0x3c9c8c,_0x3faedb,_0x2a9764;this['_linearMot'+'ionX']===Vn?(_0x12d1e4=this['_linearLim'+'itsX']['x'],_0x3c9c8c=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x12d1e4=0x1bec+0x784+-0x1*0x236f,_0x3c9c8c=0x1*0x224+-0x1a6f*-0x1+0x5f*-0x4d):_0x12d1e4=_0x3c9c8c=0x1be6*0x1+-0xf15+0x11*-0xc1,this['_linearMot'+'ionY']===Vn?(_0x8981f6=this['_linearLim'+'itsY']['x'],_0x3faedb=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x8981f6=0x243d+0x1a02+0x1*-0x3e3e,_0x3faedb=-0x44+0x502*0x6+0x772*-0x4):_0x8981f6=_0x3faedb=0x6cb*0x2+0x3b8+-0x1bb*0xa,this['_linearMot'+'ionZ']===Vn?(_0xb3968e=this['_linearLim'+'itsZ']['x'],_0x2a9764=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0xb3968e=-0x82b*0x2+-0x1f94+-0x105*-0x2f,_0x2a9764=0x2ef*-0xb+-0x193*0x2+-0x236b*-0x1):_0xb3968e=_0x2a9764=0x128f*0x1+0x18e2+-0x2b71;const _0x18b2d1=new Ammo['btVector3'](_0x12d1e4,_0x8981f6,_0xb3968e);_0x55a730['setLinearL'+'owerLimit'](_0x18b2d1),_0x18b2d1['setValue'](_0x3c9c8c,_0x3faedb,_0x2a9764),_0x55a730['setLinearU'+'pperLimit'](_0x18b2d1),Ammo['destroy'](_0x18b2d1);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x5cf63f=new q(),_0x533dc5=this['_entityA']['rigidbody']['body'];_0x533dc5['activate']();const _0x26211e=this['entity']['getWorldTr'+'ansform'](),_0x29253e=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x5cf63f['mul2'](_0x29253e,_0x26211e);const _0x303303=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x5cf63f,_0x303303),this['_entityB']&&this['_entityB']['rigidbody']){const _0x12431d=this['_entityB']['rigidbody']['body'];_0x12431d['activate']();const _0x26a61f=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x5cf63f['mul2'](_0x26a61f,_0x26211e);const _0x243e0d=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x5cf63f,_0x243e0d),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x533dc5,_0x12431d,_0x303303,_0x243e0d,!this['_enableCol'+'lision']),Ammo['destroy'](_0x243e0d);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x533dc5,_0x303303,!this['_enableCol'+'lision']);Ammo['destroy'](_0x303303);const _0x1f00de=['X','Y','Z','X','Y','Z'];for(let _0x2ec6bb=-0x16c9+0x15*0x1d3+-0xf86;_0x2ec6bb<-0x25*-0x2+-0x1*-0x80f+-0x853*0x1;_0x2ec6bb++){const _0x4d8634=_0x2ec6bb<0x6c3+-0x20c0+0x1a00?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x2ec6bb,this[_0x4d8634+'Spring'+_0x1f00de[_0x2ec6bb]]),this['_constrain'+'t']['setDamping'](_0x2ec6bb,this[_0x4d8634+'Damping'+_0x1f00de[_0x2ec6bb]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x2ec6bb,this[_0x4d8634+('Equilibriu'+'m')+_0x1f00de[_0x2ec6bb]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x2ec6bb,this[_0x4d8634+'Stiffness'+_0x1f00de[_0x2ec6bb]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x24af09){for(const _0x5efaf3 of UR)_0x24af09['hasOwnProp'+'erty'](_0x5efaf3)&&(_0x24af09[_0x5efaf3]instanceof W?this['_'+_0x5efaf3]['copy'](_0x24af09[_0x5efaf3]):this['_'+_0x5efaf3]=_0x24af09[_0x5efaf3]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x3db579,_0x5cd34c,_0x21cfde){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x1ea234=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x2929d9=>{['X','Y','Z']['forEach'](_0x1a75d3=>{const _0x3abba5=_0x1ea234+_0x2929d9+_0x1a75d3,_0xffa62f='_'+_0x3abba5;let _0x3fb157=_0x1ea234==='linear'?0xf79+-0x1611+-0x2*-0x34c:-0x244d+-0x7*-0x1ed+-0x23*-0xa7;_0x1a75d3==='Y'&&(_0x3fb157+=-0x2630+-0x1*-0x10d1+0x48*0x4c),_0x1a75d3==='Z'&&(_0x3fb157+=-0x31d*0x5+-0xc4*0x7+0x17*0xe9),Object['defineProp'+'erty'](Up['prototype'],_0x3abba5,{'get':function(){return this[_0xffa62f];},'set':function(_0x141282){this[_0xffa62f]!==_0x141282&&(this[_0xffa62f]=_0x141282,this['_constrain'+'t'][VR[_0x2929d9]](_0x3fb157,_0x141282));}});});});});class GR{constructor(){this['enabled']=!(-0x10fe+-0x182c+0x292a);}}const uf=['enabled'];class HR extends Xe{constructor(_0x28cc14){super(_0x28cc14),this['id']='joint',this['app']=_0x28cc14,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0xb7cf07,_0x3f9a8e,_0x43be1c){_0xb7cf07['initFromDa'+'ta'](_0x3f9a8e),super['initialize'+'ComponentD'+'ata'](_0xb7cf07,_0x3f9a8e,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',0x11*0xac+0x1d4e+0x145d*-0x2),c(this,'_minHeight',0x8b*-0x2e+0xbb7+0x5*0x2a7),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x9d*0x2b+-0x84f*0x3+-0xa*0x25),c(this,'_fitHeight'+'Proportion',0x1a17*-0x1+-0x3*-0xc34+-0xa85*0x1),c(this,'_excludeFr'+'omLayout',!(-0x44e*0x4+0x261*-0xe+0xd*0x3e3));}set['minWidth'](_0x3ccde9){_0x3ccde9!==this['_minWidth']&&(this['_minWidth']=_0x3ccde9,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x43852c){_0x43852c!==this['_minHeight']&&(this['_minHeight']=_0x43852c,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x36b48f){_0x36b48f!==this['_maxWidth']&&(this['_maxWidth']=_0x36b48f,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x39323a){_0x39323a!==this['_maxHeight']&&(this['_maxHeight']=_0x39323a,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x435723){_0x435723!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x435723,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x513f65){_0x513f65!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x513f65,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x183d92){_0x183d92!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x183d92,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(0x1daf*0x1+0x7c1+-0x4*0x95c);}}const ax=['enabled'];class $R extends Xe{constructor(_0x207120){super(_0x207120),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x5933d4,_0x58798b,_0x3cd111){_0x58798b['enabled']!==void(0x1*-0x23b+0x21c5+0x16f*-0x16)&&(_0x5933d4['enabled']=_0x58798b['enabled']),_0x58798b['minWidth']!==void(-0x22b2+-0xf*0x27+-0x24fb*-0x1)&&(_0x5933d4['minWidth']=_0x58798b['minWidth']),_0x58798b['minHeight']!==void(-0x1069*-0x1+0x1*-0x1b5b+0x3*0x3a6)&&(_0x5933d4['minHeight']=_0x58798b['minHeight']),_0x58798b['maxWidth']!==void(-0x1*-0x26e1+-0x20a+0x1*-0x24d7)&&(_0x5933d4['maxWidth']=_0x58798b['maxWidth']),_0x58798b['maxHeight']!==void(0x1f7*-0x7+0x248d+-0x16cc)&&(_0x5933d4['maxHeight']=_0x58798b['maxHeight']),_0x58798b['fitWidthPr'+'oportion']!==void(0x169c+0x1f8d+-0x3629)&&(_0x5933d4['fitWidthPr'+'oportion']=_0x58798b['fitWidthPr'+'oportion']),_0x58798b['fitHeightP'+'roportion']!==void(0x1b39+0x13c4+-0x17*0x20b)&&(_0x5933d4['fitHeightP'+'roportion']=_0x58798b['fitHeightP'+'roportion']),_0x58798b['excludeFro'+'mLayout']!==void(0x2112+0x5e*0x59+-0x41c0)&&(_0x5933d4['excludeFro'+'mLayout']=_0x58798b['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x5933d4,_0x58798b,_0x3cd111);}['cloneCompo'+'nent'](_0x319208,_0x48a615){const _0x10015f=_0x319208['layoutchil'+'d'];return this['addCompone'+'nt'](_0x48a615,{'enabled':_0x10015f['enabled'],'minWidth':_0x10015f['minWidth'],'minHeight':_0x10015f['minHeight'],'maxWidth':_0x10015f['maxWidth'],'maxHeight':_0x10015f['maxHeight'],'fitWidthProportion':_0x10015f['fitWidthPr'+'oportion'],'fitHeightProportion':_0x10015f['fitHeightP'+'roportion'],'excludeFromLayout':_0x10015f['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=0x1d1+-0x6c1+0x10*0x4f,qR=-0x9f*-0x2f+-0xf05*0x2+0xda,gg=0x1d3+-0x83c+0x66b,XR=-0x1fe1*0x1+0x12af+-0x1*-0xd35,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new W();function ox(_0x479a7c){let _0xcaca9b;const _0x1a5cae=Zh[_0x479a7c],_0x182e54=Zh[Vp[_0x479a7c]];function _0x431290(_0x39bafa,_0x157460){return-_0x157460[_0x1a5cae['size']]*_0x39bafa['pivot'][_0x1a5cae['axis']];}function _0x5d1a05(_0x350ac1,_0x5b5305){return-_0x5b5305[_0x182e54['size']]*_0x350ac1['pivot'][_0x182e54['axis']];}function _0x559f9b(_0x2f3653,_0x142ea4){return _0x142ea4[_0x1a5cae['size']]*(-0x1fe5+0x15*0x13+0x1e57-_0x2f3653['pivot'][_0x1a5cae['axis']]);}function _0x1ad916(_0x399800,_0x36277f){_0x399800=_0x399800['filter'](_0x554118),_0xcaca9b=_0x36277f,Ut['x']=_0xcaca9b['containerS'+'ize']['x']-_0xcaca9b['padding']['x']-_0xcaca9b['padding']['z'],Ut['y']=_0xcaca9b['containerS'+'ize']['y']-_0xcaca9b['padding']['y']-_0xcaca9b['padding']['w'],_0x45ce08(_0x399800);const _0x1a8ffe=_0x3dec0b(_0x59bc3(_0x399800)),_0x435e7b=_0x18afdc(_0x1a8ffe,_0x3271d(_0x1a8ffe)),_0x147b22=_0x3db5b2(_0x1a8ffe,_0x435e7b);return _0x2986c9(_0x1a8ffe,_0x435e7b,_0x147b22),_0x14c32c(_0x1a8ffe,_0x435e7b,_0x147b22),_0x49b354(_0x1a8ffe);}function _0x554118(_0x5db7fc){const _0x4834ab=_0x5db7fc['entity']['layoutchil'+'d'];return!_0x4834ab||!_0x4834ab['enabled']||!_0x4834ab['excludeFro'+'mLayout'];}function _0x45ce08(_0x39c0f2){for(let _0x291262=0x1*0x98c+-0x1a57+0x10cb;_0x291262<_0x39c0f2['length'];++_0x291262){const _0x390204=_0x39c0f2[_0x291262],_0x20f8b4=_0x390204['anchor'];(_0x20f8b4['x']!==0x21fb+0x12e3+-0x34de||_0x20f8b4['y']!==-0xbe6*0x1+0x687*0x3+0x1*-0x7af||_0x20f8b4['z']!==0x1d27+-0x1ba3+-0xc2*0x2||_0x20f8b4['w']!==-0x2b*-0x5b+-0x2*-0xed5+-0x2cf3)&&(_0x390204['anchor']=Q['ZERO']);}}function _0x59bc3(_0x7b5242){if(!_0xcaca9b['wrap'])return[_0x7b5242];const _0x140565=[[]],_0x3a4c6c=_0x449aba(_0x7b5242);let _0x5c7ae1=-0x140f*0x1+-0x1b84+0x2f93;const _0x5bb45c=_0xcaca9b[_0x1a5cae['fitting']]===gg;for(let _0x4df21d=0x23*-0x9d+0x1*0x1675+-0xfe;_0x4df21d<_0x7b5242['length'];++_0x4df21d){_0x140565[_0x140565['length']-(0x34*0x9+-0x172c+-0x5*-0x445)]['length']>0x10*0x1f9+-0x29*-0xd2+-0x2099*0x2&&(_0x5c7ae1+=_0xcaca9b['spacing'][_0x1a5cae['axis']]);const _0xa5fb3a=_0x3a4c6c[_0x4df21d][_0x1a5cae['size']];_0x5c7ae1+=_0xa5fb3a,!_0x5bb45c&&_0x5c7ae1>Ut[_0x1a5cae['axis']]&&_0x140565[_0x140565['length']-(0x1380+0x1626+-0x1*0x29a5)]['length']!==-0x1d9*0xd+0xbd8+-0x1*-0xc2d&&(_0x5c7ae1=_0xa5fb3a,_0x140565['push']([])),_0x140565[_0x140565['length']-(-0xa9*0x1+0x33e*-0x1+-0x5*-0xc8)]['push'](_0x7b5242[_0x4df21d]),_0x5bb45c&&_0x5c7ae1>Ut[_0x1a5cae['axis']]&&_0x4df21d!==_0x7b5242['length']-(0x15c9+-0x1*0x1842+-0x27a*-0x1)&&(_0x5c7ae1=-0x196b+-0xf97+-0x1481*-0x2,_0x140565['push']([]));}return _0x140565;}function _0x3dec0b(_0x5fb82e){const _0x272bf4=_0xcaca9b['orientatio'+'n']===pe&&_0xcaca9b['reverseX']||_0xcaca9b['orientatio'+'n']===ke&&_0xcaca9b['reverseY'],_0xc32466=_0xcaca9b['orientatio'+'n']===pe&&_0xcaca9b['reverseY']||_0xcaca9b['orientatio'+'n']===ke&&_0xcaca9b['reverseX'];if(_0x272bf4){for(let _0x42d518=0xbda+-0x503+-0x6d7*0x1;_0x42d518<_0x5fb82e['length'];++_0x42d518)_0x272bf4&&_0x5fb82e[_0x42d518]['reverse']();}return _0xc32466&&_0x5fb82e['reverse'](),_0x5fb82e;}function _0x3271d(_0x2518ca){const _0x329445=[];for(let _0x2b74b9=-0x71f*-0x3+-0x26*-0x13+-0x182f;_0x2b74b9<_0x2518ca['length'];++_0x2b74b9){const _0x50ccd9=_0x2518ca[_0x2b74b9],_0x4f4638=_0x449aba(_0x50ccd9),_0x458a3b=_0x13fb9f(_0x4f4638,_0x1a5cae),_0xc83bba=_0x41d8b8(_0xcaca9b[_0x1a5cae['fitting']],_0x458a3b,Ut[_0x1a5cae['axis']]);_0xc83bba===zt['APPLY_STRE'+'TCHING']?_0x4809a1(_0x4f4638,_0x458a3b,_0x1a5cae):_0xc83bba===zt['APPLY_SHRI'+'NKING']&&_0x4cb30d(_0x4f4638,_0x458a3b,_0x1a5cae),_0x329445['push'](_0x4f4638);}return _0x329445;}function _0x18afdc(_0x4282e8,_0x454e78){const _0x1ff29e=[],_0x318d4e=[];for(let _0x336d21=-0x1e9a+-0x101d+-0x1*-0x2eb7;_0x336d21<_0x4282e8['length'];++_0x336d21){const _0x2251ed=_0x4282e8[_0x336d21];_0x2251ed['largestEle'+'ment']=null,_0x2251ed['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x519331=0x1*-0xc07+-0x1*0x217c+0xbf*0x3d;_0x519331<_0x2251ed['length'];++_0x519331){const _0x1848bc=_0x454e78[_0x336d21][_0x519331];_0x1848bc[_0x182e54['size']]>_0x2251ed['largestSiz'+'e'][_0x182e54['size']]&&(_0x2251ed['largestEle'+'ment']=_0x2251ed[_0x519331],_0x2251ed['largestSiz'+'e']=_0x1848bc);}_0x1ff29e['push'](_0x2251ed['largestEle'+'ment']),_0x318d4e['push'](_0x2251ed['largestSiz'+'e']);}const _0x4db081=_0x13fb9f(_0x318d4e,_0x182e54),_0x172ae7=_0x41d8b8(_0xcaca9b[_0x182e54['fitting']],_0x4db081,Ut[_0x182e54['axis']]);_0x172ae7===zt['APPLY_STRE'+'TCHING']?_0x4809a1(_0x318d4e,_0x4db081,_0x182e54):_0x172ae7===zt['APPLY_SHRI'+'NKING']&&_0x4cb30d(_0x318d4e,_0x4db081,_0x182e54);for(let _0x4850a4=0x4*0x242+0x1458+-0x1d60;_0x4850a4<_0x4282e8['length'];++_0x4850a4){const _0x4b9c4c=_0x4282e8[_0x4850a4];for(let _0x19ef36=-0x2150+-0x187*-0xf+0xa67;_0x19ef36<_0x4b9c4c['length'];++_0x19ef36){const _0x4ca0e1=_0x454e78[_0x4850a4][_0x19ef36],_0x5a0bcd=_0x4ca0e1[_0x182e54['size']],_0x49b5cf=_0x4282e8['length']===-0x2146+0x164b+0xafc?Ut[_0x182e54['axis']]:_0x4b9c4c['largestSiz'+'e'][_0x182e54['size']],_0xfd92e6=_0x41d8b8(_0xcaca9b[_0x182e54['fitting']],_0x5a0bcd,_0x49b5cf);_0xfd92e6===zt['APPLY_STRE'+'TCHING']?_0x4ca0e1[_0x182e54['size']]=Math['min'](_0x49b5cf,_0x4ca0e1[_0x182e54['maxSize']]):_0xfd92e6===zt['APPLY_SHRI'+'NKING']&&(_0x4ca0e1[_0x182e54['size']]=Math['max'](_0x49b5cf,_0x4ca0e1[_0x182e54['minSize']]));}}return _0x454e78;}function _0x41d8b8(_0x56e46c,_0x408cd2,_0x477a64){switch(_0x56e46c){case ff:return zt['NONE'];case qR:return _0x408cd2<_0x477a64?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x408cd2>=_0x477a64?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x408cd2<_0x477a64?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x56e46c);}}function _0x13fb9f(_0x1d0c3f,_0x4ddcb7){const _0x320ee7=_0x1b38dc(_0x1d0c3f,_0x4ddcb7['size']),_0x36ab60=(_0x1d0c3f['length']-(0x1ed4+0x31a*-0x1+-0x1bb9))*_0xcaca9b['spacing'][_0x4ddcb7['axis']];return _0x320ee7+_0x36ab60;}function _0x4809a1(_0x2873d6,_0x288f92,_0x2e33c3){const _0x4619b5=_0x103fc2(_0x2873d6,_0x2e33c3['maxSize']),_0x4b0ba3=_0x39ed63(_0x2873d6,_0x2e33c3['fittingPro'+'portion']),_0xde6a2d=_0x1fa623(_0x4b0ba3,_0x4619b5);let _0xa39bb5=Ut[_0x2e33c3['axis']]-_0x288f92;for(let _0x13b9ed=-0x1e01+0x9*-0x417+-0x85a*-0x8;_0x13b9ed<_0x2873d6['length'];++_0x13b9ed){const _0x3d845d=_0x4619b5[_0x13b9ed],_0x29ff5f=_0x56dedc(_0x3d845d,_0xa39bb5,_0x4b0ba3,_0xde6a2d),_0x22df67=_0x2873d6[_0x3d845d][_0x2e33c3['size']]+_0x29ff5f,_0x445953=_0x2873d6[_0x3d845d][_0x2e33c3['maxSize']],_0x1ca269=Math['min'](_0x22df67,_0x445953);_0x2873d6[_0x3d845d][_0x2e33c3['size']]=_0x1ca269;const _0x825091=Math['max'](_0x22df67-_0x1ca269,0xb*-0x6e+0x16cc*0x1+-0x1212),_0x34eed8=_0x29ff5f-_0x825091;_0xa39bb5-=_0x34eed8;}}function _0x4cb30d(_0x5d95fc,_0x270347,_0x56ebdb){const _0x43ba89=_0x103fc2(_0x5d95fc,_0x56ebdb['minSize'],!(0x1bb+0x24d1+-0x2*0x1346)),_0x8a065d=_0x39ed63(_0x5d95fc,_0x56ebdb['fittingPro'+'portion']),_0x14428b=_0x380ea9(_0x8a065d),_0x21e997=_0x1fa623(_0x14428b,_0x43ba89);let _0x34af15=_0x270347-Ut[_0x56ebdb['axis']];for(let _0x441a20=-0x2*0xb35+-0x25fa+0x3c64;_0x441a20<_0x5d95fc['length'];++_0x441a20){const _0x1fcb41=_0x43ba89[_0x441a20],_0x1784f7=_0x56dedc(_0x1fcb41,_0x34af15,_0x14428b,_0x21e997),_0x3637a2=_0x5d95fc[_0x1fcb41][_0x56ebdb['size']]-_0x1784f7,_0x198d06=_0x5d95fc[_0x1fcb41][_0x56ebdb['minSize']],_0x5e4862=Math['max'](_0x3637a2,_0x198d06);_0x5d95fc[_0x1fcb41][_0x56ebdb['size']]=_0x5e4862;const _0x367c34=Math['max'](_0x5e4862-_0x3637a2,0xa66+-0x2f*0x3a+0x40),_0x44ff32=_0x1784f7-_0x367c34;_0x34af15-=_0x44ff32;}}function _0x56dedc(_0x98d962,_0x2a71d8,_0x4f54fc,_0x3d1850){const _0x3095b6=_0x4f54fc[_0x98d962],_0x2b5df0=_0x3d1850[_0x98d962];return Math['abs'](_0x3095b6)<0x17a7+0x1aa2+0x3249*-0x1+0.00001&&Math['abs'](_0x2b5df0)<-0x4*-0x58c+0x8*-0x3df+-0x232*-0x4+0.00001?_0x2a71d8:_0x2a71d8*_0x3095b6/_0x2b5df0;}function _0x3db5b2(_0x5ca513,_0x3a030d){const _0x185a61={};_0x185a61[_0x1a5cae['axis']]=-0xab6+-0xcb5*0x1+0x176b,_0x185a61[_0x182e54['axis']]=-0x1239+0x231f+-0x10e6,_0x5ca513[_0x1a5cae['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x31a78f=[];for(let _0x278c5c=0x93*-0xe+0x1*-0x1697+-0x1*-0x1ea1;_0x278c5c<_0x5ca513['length'];++_0x278c5c){const _0x33c74f=_0x5ca513[_0x278c5c];if(_0x33c74f['length']===0x7*0x4ae+-0xdd0+-0x12f2){_0x31a78f['push']([]);continue;}const _0x6a3004=[],_0x49d219=_0x3a030d[_0x278c5c];for(let _0x27b196=-0x784+0x1359+0xe9*-0xd;_0x27b196<_0x33c74f['length'];++_0x27b196){const _0x473f61=_0x33c74f[_0x27b196],_0x2f2dbf=_0x49d219[_0x27b196];_0x185a61[_0x182e54['axis']]-=_0x5d1a05(_0x473f61,_0x2f2dbf),_0x185a61[_0x1a5cae['axis']]-=_0x431290(_0x473f61,_0x2f2dbf),_0x6a3004[_0x27b196]={},_0x6a3004[_0x27b196][_0x1a5cae['axis']]=_0x185a61[_0x1a5cae['axis']],_0x6a3004[_0x27b196][_0x182e54['axis']]=_0x185a61[_0x182e54['axis']],_0x185a61[_0x182e54['axis']]+=_0x5d1a05(_0x473f61,_0x2f2dbf),_0x185a61[_0x1a5cae['axis']]+=_0x559f9b(_0x473f61,_0x2f2dbf)+_0xcaca9b['spacing'][_0x1a5cae['axis']];}_0x33c74f[_0x1a5cae['size']]=_0x185a61[_0x1a5cae['axis']]-_0xcaca9b['spacing'][_0x1a5cae['axis']],_0x33c74f[_0x182e54['size']]=_0x33c74f['largestSiz'+'e'][_0x182e54['size']],_0x5ca513[_0x1a5cae['size']]=Math['max'](_0x5ca513[_0x1a5cae['size']],_0x33c74f[_0x1a5cae['size']]),_0x185a61[_0x1a5cae['axis']]=-0x1a01+0x1*-0x1f93+0x3994,_0x185a61[_0x182e54['axis']]+=_0x33c74f[_0x182e54['size']]+_0xcaca9b['spacing'][_0x182e54['axis']],_0x31a78f['push'](_0x6a3004);}return _0x5ca513[_0x182e54['size']]=_0x185a61[_0x182e54['axis']]-_0xcaca9b['spacing'][_0x182e54['axis']],_0x31a78f;}function _0x2986c9(_0x4e00d8,_0x8c035e,_0x259cd3){const _0x2f33de=_0xcaca9b['alignment'][_0x1a5cae['axis']],_0x1c62fa=_0xcaca9b['alignment'][_0x182e54['axis']],_0x7d4ba3=_0xcaca9b['padding'][_0x1a5cae['axis']],_0x583dd0=_0xcaca9b['padding'][_0x182e54['axis']];for(let _0x223625=0x1*-0x1697+0x1d6f+0x3*-0x248;_0x223625<_0x4e00d8['length'];++_0x223625){const _0x4d2ad0=_0x4e00d8[_0x223625],_0x122b5e=_0x8c035e[_0x223625],_0x5c157a=_0x259cd3[_0x223625],_0x52429e=(Ut[_0x1a5cae['axis']]-_0x4d2ad0[_0x1a5cae['size']])*_0x2f33de+_0x7d4ba3,_0x22dd68=(Ut[_0x182e54['axis']]-_0x4e00d8[_0x182e54['size']])*_0x1c62fa+_0x583dd0;for(let _0x37a280=0x1221+0x2147+-0x3368;_0x37a280<_0x4d2ad0['length'];++_0x37a280){const _0x211adf=(_0x4d2ad0[_0x182e54['size']]-_0x122b5e[_0x37a280][_0x182e54['size']])*_0xcaca9b['alignment'][_0x182e54['axis']];_0x5c157a[_0x37a280][_0x1a5cae['axis']]+=_0x52429e,_0x5c157a[_0x37a280][_0x182e54['axis']]+=_0x22dd68+_0x211adf;}}}function _0x14c32c(_0x28d45d,_0x40730f,_0x4fa152){for(let _0x120ad1=0x7d*-0x35+0x2ce+-0x219*-0xb;_0x120ad1<_0x28d45d['length'];++_0x120ad1){const _0x40241d=_0x28d45d[_0x120ad1],_0x306cfc=_0x40730f[_0x120ad1],_0x3c5e4e=_0x4fa152[_0x120ad1];for(let _0x50fe3a=-0x1cc7+0x8b4+0x1413;_0x50fe3a<_0x40241d['length'];++_0x50fe3a){const _0x1de01f=_0x40241d[_0x50fe3a];_0x1de01f[_0x1a5cae['calculated'+'Size']]=_0x306cfc[_0x50fe3a][_0x1a5cae['size']],_0x1de01f[_0x182e54['calculated'+'Size']]=_0x306cfc[_0x50fe3a][_0x182e54['size']],_0xcaca9b['orientatio'+'n']===pe?_0x1de01f['entity']['setLocalPo'+'sition'](_0x3c5e4e[_0x50fe3a][_0x1a5cae['axis']],_0x3c5e4e[_0x50fe3a][_0x182e54['axis']],_0x1de01f['entity']['getLocalPo'+'sition']()['z']):_0x1de01f['entity']['setLocalPo'+'sition'](_0x3c5e4e[_0x50fe3a][_0x182e54['axis']],_0x3c5e4e[_0x50fe3a][_0x1a5cae['axis']],_0x1de01f['entity']['getLocalPo'+'sition']()['z']);}}}function _0x49b354(_0x25d111){const _0x1a4411=_0x25d111['width'],_0x1bf7bc=_0x25d111['height'],_0x288639=(Ut['x']-_0x1a4411)*_0xcaca9b['alignment']['x']+_0xcaca9b['padding']['x'],_0x2bf8b7=(Ut['y']-_0x1bf7bc)*_0xcaca9b['alignment']['y']+_0xcaca9b['padding']['y'];return{'bounds':new Q(_0x288639,_0x2bf8b7,_0x1a4411,_0x1bf7bc)};}function _0x449aba(_0x45b6f1){const _0x59b4cc=[];for(let _0x1c60ed=-0x2485+0x39*0x8a+-0x1*-0x5cb;_0x1c60ed<_0x45b6f1['length'];++_0x1c60ed){const _0x576099=_0x45b6f1[_0x1c60ed],_0x15e7b9=Math['max'](_0x16a377(_0x576099,'minWidth'),0x2d8+-0xaaf+0x7d7),_0x1f5fca=Math['max'](_0x16a377(_0x576099,'minHeight'),0x67*0x53+-0x4e1+-0x1c84),_0x42dbc9=Math['max'](_0x16a377(_0x576099,'maxWidth'),_0x15e7b9),_0x2793f0=Math['max'](_0x16a377(_0x576099,'maxHeight'),_0x1f5fca),_0x16a20c=_0x4829b5(_0x16a377(_0x576099,'width'),_0x15e7b9,_0x42dbc9),_0x13dfe8=_0x4829b5(_0x16a377(_0x576099,'height'),_0x1f5fca,_0x2793f0),_0x17c56f=_0x16a377(_0x576099,'fitWidthPr'+'oportion'),_0x3e6caf=_0x16a377(_0x576099,'fitHeightP'+'roportion');_0x59b4cc['push']({'minWidth':_0x15e7b9,'minHeight':_0x1f5fca,'maxWidth':_0x42dbc9,'maxHeight':_0x2793f0,'width':_0x16a20c,'height':_0x13dfe8,'fitWidthProportion':_0x17c56f,'fitHeightProportion':_0x3e6caf});}return _0x59b4cc;}function _0x16a377(_0x50f70f,_0x42734f){const _0x157be0=_0x50f70f['entity']['layoutchil'+'d'];return _0x157be0&&_0x157be0['enabled']&&_0x157be0[_0x42734f]!==void(0x2564+0x1f7+0x145*-0x1f)&&_0x157be0[_0x42734f]!==null?_0x157be0[_0x42734f]:_0x50f70f[_0x42734f]!==void(-0x2*0x126c+0x9d0*-0x3+0x4248)?_0x50f70f[_0x42734f]:jR[_0x42734f];}function _0x4829b5(_0x1fabcf,_0x5a7352,_0x5a8b7e){return Math['min'](Math['max'](_0x1fabcf,_0x5a7352),_0x5a8b7e);}function _0x1b38dc(_0x4ed963,_0x40238c){return _0x4ed963['reduce']((_0x2a3666,_0x33a052)=>_0x2a3666+_0x33a052[_0x40238c],-0x1bec*-0x1+0x2*0xa07+-0x2ffa);}function _0x39ed63(_0x29294b,_0x47f814){const _0x439498=_0x1b38dc(_0x29294b,_0x47f814),_0x16c428=[],_0x58c9a8=_0x29294b['length'];if(_0x439498===0x100b*-0x1+0x12f4*-0x1+-0x20f*-0x11){for(let _0x527014=0x2588+-0x4*-0x25a+-0x2ef0;_0x527014<_0x58c9a8;++_0x527014)_0x16c428['push']((0xf82+-0x42d+-0x122*0xa)/_0x58c9a8);}else{for(let _0x3f192c=0x1349+-0x837+0xda*-0xd;_0x3f192c<_0x58c9a8;++_0x3f192c)_0x16c428['push'](_0x29294b[_0x3f192c][_0x47f814]/_0x439498);}return _0x16c428;}function _0x380ea9(_0x2e1a72){if(_0x2e1a72['length']===-0x47*-0x11+-0x226*-0xd+0x829*-0x4)return[0x1b79+0x8f*-0x16+-0x1d*0x86];const _0xd28a32=[],_0x2e6eb9=_0x2e1a72['length'];for(let _0x81edba=0x28*-0x27+-0x11f3+0x180b;_0x81edba<_0x2e6eb9;++_0x81edba)_0xd28a32['push']((0x1cf+-0x333*-0x9+0x7*-0x45f-_0x2e1a72[_0x81edba])/(_0x2e6eb9-(0xd81*-0x1+0x1a0d+0xd*-0xf7)));return _0xd28a32;}function _0x103fc2(_0x36ab86,_0x227c38,_0x2d6de8){return _0x36ab86['forEach'](_0x48a741),_0x36ab86['slice']()['sort']((_0x5fd32f,_0x1beb91)=>_0x2d6de8?_0x1beb91[_0x227c38]-_0x5fd32f[_0x227c38]:_0x5fd32f[_0x227c38]-_0x1beb91[_0x227c38])['map'](_0xfc4629);}function _0x48a741(_0x1c09bf,_0x2ba356){_0x1c09bf['index']=_0x2ba356;}function _0xfc4629(_0x20043b){return _0x20043b['index'];}function _0x1fa623(_0x1a2ba0,_0x525c27){const _0x437d6c=[];_0x437d6c[_0x525c27[_0x1a2ba0['length']-(-0x75*0xd+-0x3dd+0x9cf)]]=_0x1a2ba0[_0x525c27[_0x1a2ba0['length']-(0x1a61*0x1+0x2188+-0x3be8)]];for(let _0x361722=_0x1a2ba0['length']-(-0x1a7d+0x1719+-0x122*-0x3);_0x361722>=-0x2271*0x1+-0x3b*-0xb+-0x7fa*-0x4;--_0x361722)_0x437d6c[_0x525c27[_0x361722]]=_0x437d6c[_0x525c27[_0x361722+(0x1*-0x1593+0xed6+0x6be)]]+_0x1a2ba0[_0x525c27[_0x361722]];return _0x437d6c;}return _0x1ad916;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x1ae86b,_0x42dc50){const _0x21a1e9=Gp[_0x42dc50['orientatio'+'n']];if(_0x21a1e9)return _0x21a1e9(_0x1ae86b,_0x42dc50);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x42dc50['orientatio'+'n']);}}function yg(_0x2623d8){return _0x2623d8['element'];}function KR(_0x38d54f){return _0x38d54f['enabled']&&_0x38d54f['element']&&_0x38d54f['element']['enabled'];}class lx extends ue{constructor(_0x37edb9,_0x7f579f){super(_0x37edb9,_0x7f579f),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0x150a+-0x1217+-0x3a*0xd)),c(this,'_reverseY',!(-0x1*-0x19a3+0x1d87*0x1+-0x372a)),c(this,'_alignment',new W(0x1717*-0x1+0x810+0xf07,-0x6eb*-0x5+0x1*-0x1ce9+0x5ad*-0x1)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(-0xa*-0x35+0x53*0x45+-0x1870)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x149bad=>{this['_listenFor'+'ReflowEven'+'ts'](_0x149bad,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x37edb9['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x37edb9['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x37edb9['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x37edb9['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x37edb9['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x37edb9['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0xda244b){_0xda244b!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0xda244b,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x2e86b3){_0x2e86b3!==this['_reverseX']&&(this['_reverseX']=_0x2e86b3,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x3cf27a){_0x3cf27a!==this['_reverseY']&&(this['_reverseY']=_0x3cf27a,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0xc59534){_0xc59534['equals'](this['_alignment'])||(this['_alignment']['copy'](_0xc59534),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x1c1ce2){_0x1c1ce2['equals'](this['_padding'])||(this['_padding']['copy'](_0x1c1ce2),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x40a56c){_0x40a56c['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x40a56c),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0xcfeaf7){_0xcfeaf7!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0xcfeaf7,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x5e0e78){_0x5e0e78!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x5e0e78,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x8b3c77){_0x8b3c77!==this['_wrap']&&(this['_wrap']=_0x8b3c77,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x36a9c3){return _0x36a9c3===this['entity']||this['entity']['children']['indexOf'](_0x36a9c3)!==-(-0x6*-0x506+-0x633+-0x17f0);}['_listenFor'+'ReflowEven'+'ts'](_0x2d8122,_0x55d75d){_0x2d8122['element']&&(_0x2d8122['element'][_0x55d75d]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x2d8122['element'][_0x55d75d]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x2d8122['element'][_0x55d75d]('resize',this['_scheduleR'+'eflow'],this),_0x2d8122['element'][_0x55d75d]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x2d8122['layoutchil'+'d']&&(_0x2d8122['layoutchil'+'d'][_0x55d75d]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x2d8122['layoutchil'+'d'][_0x55d75d]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x519cdd){this['_isSelfOrC'+'hild'](_0x519cdd)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x519cdd,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x5bbca4){this['_isSelfOrC'+'hild'](_0x5bbca4)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x5bbca4,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x1ae527){this['_listenFor'+'ReflowEven'+'ts'](_0x1ae527,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0xde2749){this['_listenFor'+'ReflowEven'+'ts'](_0xde2749,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x3d9384=yg(this['entity']),_0x5a4f78=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x3d9384||_0x5a4f78['length']===-0xf05*0x2+-0x7*-0x3bf+0x3d1*0x1)return;const _0x558a5f=Math['max'](_0x3d9384['calculated'+'Width'],0x1ff4+0xcdf+-0x11*0x2a3),_0xecf673=Math['max'](_0x3d9384['calculated'+'Height'],-0x641*0x1+0x181e+0x11dd*-0x1),_0x4d2105={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x558a5f,_0xecf673)};this['_isPerform'+'ingReflow']=!(0x155+-0x1*-0x1a21+-0x1b76);const _0x2ca148=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x5a4f78,_0x4d2105);this['_isPerform'+'ingReflow']=!(-0x2133*-0x1+-0x1*-0x4d0+-0x2602),this['fire']('reflow',_0x2ca148);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x25f8b1=>{this['_listenFor'+'ReflowEven'+'ts'](_0x25f8b1,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(-0x152a+-0x41*-0x56+0x4*-0x2b);}}const hx=['enabled'],QR=0x115+0x3*0x8aa+0x26d*-0xb;class JR extends Xe{constructor(_0x315af1){super(_0x315af1),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x524a66,_0x3ff496,_0x2704d3){_0x3ff496['enabled']!==void(0x22c3+-0x1265+-0x105e)&&(_0x524a66['enabled']=_0x3ff496['enabled']),_0x3ff496['orientatio'+'n']!==void(0x544+-0x3*0x32e+0x446)&&(_0x524a66['orientatio'+'n']=_0x3ff496['orientatio'+'n']),_0x3ff496['reverseX']!==void(-0x6*-0x4b1+0x1*0x221+-0x1e47)&&(_0x524a66['reverseX']=_0x3ff496['reverseX']),_0x3ff496['reverseY']!==void(0x1de3+-0x1*0x482+-0x1961)&&(_0x524a66['reverseY']=_0x3ff496['reverseY']),_0x3ff496['alignment']!==void(-0x96a*-0x3+-0x186b+-0x3d3)&&(_0x524a66['alignment']=Array['isArray'](_0x3ff496['alignment'])?new W(_0x3ff496['alignment']):_0x3ff496['alignment']),_0x3ff496['padding']!==void(-0x8c8*0x4+0x565*0x6+0x2c2)&&(_0x524a66['padding']=Array['isArray'](_0x3ff496['padding'])?new Q(_0x3ff496['padding']):_0x3ff496['padding']),_0x3ff496['spacing']!==void(-0x268f*-0x1+0x683+0x1689*-0x2)&&(_0x524a66['spacing']=Array['isArray'](_0x3ff496['spacing'])?new W(_0x3ff496['spacing']):_0x3ff496['spacing']),_0x3ff496['widthFitti'+'ng']!==void(-0x1bcf+-0x1*0x1af2+-0x36c1*-0x1)&&(_0x524a66['widthFitti'+'ng']=_0x3ff496['widthFitti'+'ng']),_0x3ff496['heightFitt'+'ing']!==void(-0x587*0x5+0x1af3+-0x4*-0x2c)&&(_0x524a66['heightFitt'+'ing']=_0x3ff496['heightFitt'+'ing']),_0x3ff496['wrap']!==void(0x217+0x17*0xc4+-0x1*0x13b3)&&(_0x524a66['wrap']=_0x3ff496['wrap']),super['initialize'+'ComponentD'+'ata'](_0x524a66,_0x3ff496,_0x2704d3);}['cloneCompo'+'nent'](_0x1d7577,_0x3d3ab0){const _0x4cac2f=_0x1d7577['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x3d3ab0,{'enabled':_0x4cac2f['enabled'],'orientation':_0x4cac2f['orientatio'+'n'],'reverseX':_0x4cac2f['reverseX'],'reverseY':_0x4cac2f['reverseY'],'alignment':_0x4cac2f['alignment'],'padding':_0x4cac2f['padding'],'spacing':_0x4cac2f['spacing'],'widthFitting':_0x4cac2f['widthFitti'+'ng'],'heightFitting':_0x4cac2f['heightFitt'+'ing'],'wrap':_0x4cac2f['wrap']});}['scheduleRe'+'flow'](_0x55dc2b){this['_reflowQue'+'ue']['indexOf'](_0x55dc2b)===-(0xbe*-0x6+-0x1682+0x1af7)&&this['_reflowQue'+'ue']['push'](_0x55dc2b);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x1e61+0x2*-0x62b+-0xf*-0x2d9)return;let _0x1e08f9=-0x1*0x8ab+-0x253*0xd+0x26e2;for(;this['_reflowQue'+'ue']['length']>0x5d1*0x5+-0x1f*0xb6+0x3*-0x259;){const _0x4b2142=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x1d1f+-0x364+0x2083,_0x4b2142['sort']((_0x490961,_0x577962)=>_0x490961['entity']['graphDepth']-_0x577962['entity']['graphDepth']);for(let _0x4b3fb8=-0xb2d+-0x2*0xf3+0xd13;_0x4b3fb8<_0x4b2142['length'];++_0x4b3fb8)_0x4b2142[_0x4b3fb8]['reflow']();if(++_0x1e08f9>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x14525d,_0x26c321){_0x26c321['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x4b15a8){this['map']['forEach'](_0x1dc82e=>_0x1dc82e['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x312354,_0x2749e8)=>{const _0x4dfda0=tI['get'](_0x312354,()=>new eI());let _0x17c2ce=_0x4dfda0['map']['get'](_0x2749e8);if(!_0x17c2ce){let _0x5286fd,_0x24c5c4;switch(_0x2749e8){case'box':_0x5286fd=Ie['fromGeomet'+'ry'](_0x312354,new $u()),_0x24c5c4={'x':0x2,'y':0x2,'z':0x2,'uv':(-0xadc+-0xcd1+-0x17af*-0x1)/(0x70*0x23+0x1*-0x2197+0x124a)};break;case'capsule':_0x5286fd=Ie['fromGeomet'+'ry'](_0x312354,new C1({'radius':0.5,'height':0x2})),_0x24c5c4={'x':Math['PI']*(0x8*-0xc7+0x24cb*0x1+-0x1e91),'y':Math['PI'],'z':Math['PI']*(-0x1f36+-0xa06+0x1*0x293e),'uv':(-0xff6+-0x171+0x1168*0x1)/(-0x1d18+-0x25+-0x270*-0xc)+(0x2398+0x1a05*0x1+-0x3d9c)/(-0x2cf*-0x5+-0x1*-0xa59+-0x1861)/(-0x1fb6+-0x2189+-0x20a1*-0x2)*(-0x1c36+0x397+-0x18a1*-0x1)};break;case'cone':_0x5286fd=Ie['fromGeomet'+'ry'](_0x312354,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x24c5c4={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x896+0x151a+-0x1*0xc83)/(0x8c*0x8+0xc1b+-0x1078*0x1)+(0x2*-0x118d+-0x1b68+0x3e83)/(0x1*0x10ab+-0x1*-0x2079+-0x1*0x3121)/(0x18*0xc9+0xe94*0x2+0x23*-0x15f)};break;case'cylinder':_0x5286fd=Ie['fromGeomet'+'ry'](_0x312354,new P1({'radius':0.5,'height':0x1})),_0x24c5c4={'x':Math['PI'],'y':(-0x2*0x985+-0x172c+0x2a36+0.79)*(-0xe14+-0xb7*-0x1f+-0x27*0x35),'z':Math['PI'],'uv':(0x1*-0xce5+0x1*0x1524+-0x83e)/(0x21f*-0xa+-0x13c*-0x5+0x1*0xf0d)+(0x1*0xb69+-0x123a+0x6d2)/(0xd3f*-0x2+-0x1412+0x2e93)/(-0xbd8+-0x1*-0x1153+0x64*-0xe)*(0x212e+-0x250*-0x4+-0x4*0xa9b)};break;case'plane':_0x5286fd=Ie['fromGeomet'+'ry'](_0x312354,new R1({'halfExtents':new W(-0x5*0x5c+0xe*0x286+-0x10c4*0x2+0.5,-0x103*-0x26+-0x184a*-0x1+-0x3ebc+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x24c5c4={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x5286fd=Ie['fromGeomet'+'ry'](_0x312354,new B0({'radius':0.5})),_0x24c5c4={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x5286fd=Ie['fromGeomet'+'ry'](_0x312354,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x24c5c4={'x':Math['PI']*(-0x1*0x11cb+-0x9e*-0xe+-0xb*-0xd5+0.5)*(0x239a+-0x14c1+-0xed9+0.5)-Math['PI']*(-0xfa*0x25+-0x1*-0x1c57+-0x3*-0x299+0.1)*(0xc8d+0x2ea*0x4+0x1835*-0x1+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x2749e8);}_0x5286fd['incRefCoun'+'t'](),_0x17c2ce={'mesh':_0x5286fd,'area':_0x24c5c4},_0x4dfda0['map']['set'](_0x2749e8,_0x17c2ce);}return _0x17c2ce;};class dx extends ue{constructor(_0x26bb69,_0x327619){super(_0x26bb69,_0x327619),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0x2460+0xdc0+-0x5a8*-0x4)),c(this,'_receiveSh'+'adows',!(0x1*0x1c3d+0x17d0+0xd*-0x401)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0x116a*0x1+-0x209*-0xd+-0x1cf*0x5)),c(this,'_lightmapp'+'ed',!(-0x4*-0x1c7+0x9e9+-0x1104)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x692+-0x12f*-0x5+-0xc7c),c(this,'isStatic',!(-0x10f1+0x1c1+0x1*0xf31)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(-0x1a3e+-0x2d*-0xda+0x119*-0xb)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(0x6c2+-0xc11*-0x3+-0x2af4)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x26bb69['defaultMat'+'erial'],_0x327619['on']('remove',this['onRemoveCh'+'ild'],this),_0x327619['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x327619['on']('insert',this['onInsertCh'+'ild'],this),_0x327619['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x331859){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x331859);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x4980f7){if(this['_customAab'+'b']=_0x4980f7,this['_model']){const _0x20f4c0=this['_model']['meshInstan'+'ces'];if(_0x20f4c0){for(let _0x64117d=-0x9*0xeb+-0xf0f+0x1752;_0x64117d<_0x20f4c0['length'];_0x64117d++)_0x20f4c0[_0x64117d]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x56cd32){if(this['_type']!==_0x56cd32){if(this['_area']=null,this['_type']=_0x56cd32,_0x56cd32==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x19ba35=cx(this['system']['app']['graphicsDe'+'vice'],_0x56cd32);this['_area']=_0x19ba35['area'];const _0x3aa8c4=_0x19ba35['mesh'],_0x451441=new De(),_0x52498a=new Oi();_0x52498a['graph']=_0x451441,_0x52498a['meshInstan'+'ces']=[new Le(_0x3aa8c4,this['_material'],_0x451441)],this['model']=_0x52498a,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x4678d8){const _0x3813b6=this['system']['app']['assets'];let _0x380f39=_0x4678d8;if(_0x4678d8 instanceof le&&(_0x380f39=_0x4678d8['id']),this['_asset']!==_0x380f39){if(this['_asset']){_0x3813b6['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x36698d=_0x3813b6['get'](this['_asset']);_0x36698d&&this['_unbindMod'+'elAsset'](_0x36698d);}if(this['_asset']=_0x380f39,this['_asset']){const _0x36eec2=_0x3813b6['get'](this['_asset']);_0x36eec2?this['_bindModel'+'Asset'](_0x36eec2):(this['model']=null,_0x3813b6['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x447c02){if(this['_model']!==_0x447c02){if(_0x447c02&&_0x447c02['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x120*0xc+0x7f*-0x45+0x1*0x14bc),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0xe*-0x1fc+-0x17cb+0xff*-0x4))),this['_model']=_0x447c02,this['_model']){this['_model']['_immutable']=!(0x21d*-0x7+-0x1*0x1b47+0x2a12);const _0x53273b=this['_model']['meshInstan'+'ces'];for(let _0x1359c4=0x3*-0x48f+0x1e*0x12e+-0x15b7;_0x1359c4<_0x53273b['length'];_0x1359c4++)_0x53273b[_0x1359c4]['castShadow']=this['_castShado'+'ws'],_0x53273b[_0x1359c4]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x53273b[_0x1359c4]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x409b9c){if(_0x409b9c!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x409b9c,this['_model'])){const _0x1021f1=this['_model']['meshInstan'+'ces'];for(let _0xfa077d=0x1*0x1799+-0x1564+-0x235;_0xfa077d<_0x1021f1['length'];_0xfa077d++)_0x1021f1[_0xfa077d]['setLightma'+'pped'](_0x409b9c);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x2c5ed0){if(this['_castShado'+'ws']===_0x2c5ed0)return;const _0xe5bea=this['_model'];if(_0xe5bea){const _0x5027f0=this['layers'],_0x17bac7=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x2c5ed0)for(let _0x117ef8=-0x56*0x56+0xbf2+0x10f2;_0x117ef8<_0x5027f0['length'];_0x117ef8++){const _0x5b7e63=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x117ef8]);_0x5b7e63&&_0x5b7e63['removeShad'+'owCasters'](_0xe5bea['meshInstan'+'ces']);}const _0x243244=_0xe5bea['meshInstan'+'ces'];for(let _0x1a64b6=-0x648+-0x8e7+0xf2f;_0x1a64b6<_0x243244['length'];_0x1a64b6++)_0x243244[_0x1a64b6]['castShadow']=_0x2c5ed0;if(!this['_castShado'+'ws']&&_0x2c5ed0)for(let _0x39d01c=-0x273+-0x3*-0x91d+-0x18e4;_0x39d01c<_0x5027f0['length'];_0x39d01c++){const _0x332ba9=_0x17bac7['layers']['getLayerBy'+'Id'](_0x5027f0[_0x39d01c]);_0x332ba9&&_0x332ba9['addShadowC'+'asters'](_0xe5bea['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x2c5ed0;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x3ea74){if(this['_receiveSh'+'adows']!==_0x3ea74&&(this['_receiveSh'+'adows']=_0x3ea74,this['_model'])){const _0x40fe87=this['_model']['meshInstan'+'ces'];for(let _0x566586=0x851*0x4+-0x41f+-0x9*0x33d,_0x31fa39=_0x40fe87['length'];_0x566586<_0x31fa39;_0x566586++)_0x40fe87[_0x566586]['receiveSha'+'dow']=_0x3ea74;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0xe1aee5){this['_castShado'+'wsLightmap']=_0xe1aee5;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x1898dd){this['_lightmapS'+'izeMultipl'+'ier']=_0x1898dd;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2a3a74){const _0x2ff846=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x40ba3e=-0x4f5+0x1b23+-0x162e;_0x40ba3e<this['_layers']['length'];_0x40ba3e++){const _0x104133=_0x2ff846['getLayerBy'+'Id'](this['_layers'][_0x40ba3e]);_0x104133&&_0x104133['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x1*0x217b+-0x3*0xcf2+0x55b;for(let _0x507021=0x454*0x1+-0x4a1+0x4d;_0x507021<_0x2a3a74['length'];_0x507021++)this['_layers'][_0x507021]=_0x2a3a74[_0x507021];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x3af43f=-0x1cea+-0x835*0x1+0x251f*0x1;_0x3af43f<this['_layers']['length'];_0x3af43f++){const _0x50ee63=_0x2ff846['getLayerBy'+'Id'](this['_layers'][_0x3af43f]);_0x50ee63&&_0x50ee63['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x4a2462){var _0x4f4a3c,_0x2384ae;this['_batchGrou'+'pId']!==_0x4a2462&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x5*0x6ee+-0x31*-0xc5+-0x1*0x30f&&((_0x4f4a3c=this['system']['app']['batcher'])==null||_0x4f4a3c['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4a2462>=-0x4*-0x73+0x25*0xf6+-0x255a*0x1&&((_0x2384ae=this['system']['app']['batcher'])==null||_0x2384ae['insert'](et['MODEL'],_0x4a2462,this['entity'])),_0x4a2462<-0xc*-0x11+0x2020+0x2*-0x1076&&this['_batchGrou'+'pId']>=0x3*-0x76a+-0x14ef+0x7*0x62b&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x4a2462);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x48f4f3){let _0x4d813e=_0x48f4f3;_0x48f4f3 instanceof le&&(_0x4d813e=_0x48f4f3['id']);const _0x3af926=this['system']['app']['assets'];if(_0x4d813e!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x3af926['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x2f2beb=_0x3af926['get'](this['_materialA'+'sset']);_0x2f2beb&&this['_unbindMat'+'erialAsset'](_0x2f2beb);}if(this['_materialA'+'sset']=_0x4d813e,this['_materialA'+'sset']){const _0x8f6c0=_0x3af926['get'](this['_materialA'+'sset']);_0x8f6c0?this['_bindMater'+'ialAsset'](_0x8f6c0):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x3af926['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0xf3b687){this['_material']!==_0xf3b687&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0xf3b687));}get['material'](){return this['_material'];}set['mapping'](_0x4414ec){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x4414ec||(_0x4414ec={}),this['_mapping']=_0x4414ec,!this['_model']))return;const _0x172c05=this['_model']['meshInstan'+'ces'],_0x59dc04=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0xe1c264=_0x59dc04?_0x59dc04['data']['mapping']:null;let _0x464526=null;for(let _0x1fa666=-0x2646+-0x2*-0x47+0x25b8,_0x34d43f=_0x172c05['length'];_0x1fa666<_0x34d43f;_0x1fa666++)if(_0x4414ec[_0x1fa666]!==void(0xdf3+0xe0b+0xdff*-0x2))_0x4414ec[_0x1fa666]?(_0x464526=this['system']['app']['assets']['get'](_0x4414ec[_0x1fa666]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x464526,_0x172c05[_0x1fa666],_0x1fa666)):_0x172c05[_0x1fa666]['material']=this['system']['defaultMat'+'erial'];else{if(_0xe1c264){if(_0xe1c264[_0x1fa666]&&(_0xe1c264[_0x1fa666]['material']||_0xe1c264[_0x1fa666]['path'])){if(_0xe1c264[_0x1fa666]['material']!==void(0x1*-0x61d+-0x610+0xc2d))_0x464526=this['system']['app']['assets']['get'](_0xe1c264[_0x1fa666]['material']);else{if(_0xe1c264[_0x1fa666]['path']!==void(-0xd3f+-0x2318+0x3057)){const _0x5a98d9=this['_getMateri'+'alAssetUrl'](_0xe1c264[_0x1fa666]['path']);_0x5a98d9&&(_0x464526=this['system']['app']['assets']['getByUrl'](_0x5a98d9));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x464526,_0x172c05[_0x1fa666],_0x1fa666);}else _0x172c05[_0x1fa666]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0xda2662=this['system']['app']['scene']['layers'];for(let _0x55ca10=-0x4*0x22a+-0x1*-0x1727+-0x1*0xe7f;_0x55ca10<this['_layers']['length'];_0x55ca10++){const _0x49ccd9=_0xda2662['getLayerBy'+'Id'](this['_layers'][_0x55ca10]);_0x49ccd9&&_0x49ccd9['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x1c6e32=this['system']['app']['scene']['layers'];for(let _0x5e75cd=-0xb*0x203+0xbd4+0x9*0x125;_0x5e75cd<this['_layers']['length'];_0x5e75cd++){const _0x4ce45d=_0x1c6e32['getLayerBy'+'Id'](this['_layers'][_0x5e75cd]);_0x4ce45d&&_0x4ce45d['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0xb5ef25,_0x402c5b){this['addModelTo'+'Layers'](),_0xb5ef25['off']('add',this['onLayerAdd'+'ed'],this),_0xb5ef25['off']('remove',this['onLayerRem'+'oved'],this),_0x402c5b['on']('add',this['onLayerAdd'+'ed'],this),_0x402c5b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5e3abc){this['layers']['indexOf'](_0x5e3abc['id'])<-0x81*-0x29+0x2*0xb15+0x2ad3*-0x1||_0x5e3abc['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x3cdfd5){this['layers']['indexOf'](_0x3cdfd5['id'])<-0x1123*-0x2+0xeba+-0x1880*0x2||_0x3cdfd5['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x110ab4,_0x34b8c4,_0x5382fa,_0x3f1891){const _0x5c427e=_0x34b8c4+':'+_0x5382fa;this['system']['app']['assets']['on'](_0x5c427e,_0x3f1891,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x110ab4]||(this['_materialE'+'vents'][_0x110ab4]={}),this['_materialE'+'vents'][_0x110ab4][_0x5c427e]={'id':_0x5382fa,'handler':_0x3f1891};}['_unsetMate'+'rialEvents'](){const _0x59606a=this['system']['app']['assets'],_0x246740=this['_materialE'+'vents'];if(_0x246740){for(let _0x28c7b4=-0x267*0x4+0x8b*0x28+-0xc1c,_0x2118eb=_0x246740['length'];_0x28c7b4<_0x2118eb;_0x28c7b4++){if(!_0x246740[_0x28c7b4])continue;const _0x25278a=_0x246740[_0x28c7b4];for(const _0x1eef5e in _0x25278a)_0x59606a['off'](_0x1eef5e,_0x25278a[_0x1eef5e]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x5573ce){let _0xff5990=null;if(!isNaN(parseInt(_0x5573ce,-0x1f9d*0x1+0x1758+0x84f)))_0xff5990=this['system']['app']['assets']['get'](_0x5573ce);else{if(this['asset']){const _0x457ff1=this['_getMateri'+'alAssetUrl'](_0x5573ce);_0x457ff1&&(_0xff5990=this['system']['app']['assets']['getByUrl'](_0x457ff1));}}return _0xff5990;}['_getMateri'+'alAssetUrl'](_0x4f770d){if(!this['asset'])return null;const _0x27efad=this['system']['app']['assets']['get'](this['asset']);return _0x27efad?_0x27efad['getAbsolut'+'eUrl'](_0x4f770d):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x4554f4,_0x561c38,_0x135963){const _0xf9c60a=this['system']['app']['assets'];_0x4554f4&&(_0x4554f4['resource']?(_0x561c38['material']=_0x4554f4['resource'],this['_setMateri'+'alEvent'](_0x135963,'remove',_0x4554f4['id'],function(){_0x561c38['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x135963,'load',_0x4554f4['id'],function(_0x24b4ce){_0x561c38['material']=_0x24b4ce['resource'],this['_setMateri'+'alEvent'](_0x135963,'remove',_0x4554f4['id'],function(){_0x561c38['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0xf9c60a['load'](_0x4554f4)));}['onEnable'](){var _0x57863c;const _0x1c9322=this['system']['app'],_0x2f337f=_0x1c9322['scene'],_0x141bdd=_0x2f337f==null?void(-0xd*-0x33+-0x1*-0x15a5+0x205*-0xc):_0x2f337f['layers'];this['_evtLayers'+'Changed']=_0x2f337f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x141bdd&&(this['_evtLayerA'+'dded']=_0x141bdd['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x141bdd['on']('remove',this['onLayerRem'+'oved'],this));const _0x95c576=this['_type']==='asset';let _0x35eff0;if(this['_model']?this['addModelTo'+'Layers']():_0x95c576&&this['_asset']&&(_0x35eff0=_0x1c9322['assets']['get'](this['_asset']),_0x35eff0&&_0x35eff0['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x35eff0)),this['_materialA'+'sset']&&(_0x35eff0=_0x1c9322['assets']['get'](this['_materialA'+'sset']),_0x35eff0&&_0x35eff0['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x35eff0)),_0x95c576&&this['_mapping']){for(const _0x23f101 in this['_mapping'])this['_mapping'][_0x23f101]&&(_0x35eff0=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x23f101]),_0x35eff0&&!_0x35eff0['resource']&&_0x1c9322['assets']['load'](_0x35eff0));}this['_batchGrou'+'pId']>=0x7e2*0x1+-0x16*0x43+-0x220&&((_0x57863c=_0x1c9322['batcher'])==null||_0x57863c['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x4f1213,_0x1e9bae,_0x1c995d,_0x564977;const _0x3d7715=this['system']['app'],_0x1da395=_0x3d7715['scene']['layers'];(_0x4f1213=this['_evtLayers'+'Changed'])==null||_0x4f1213['off'](),this['_evtLayers'+'Changed']=null,_0x1da395&&((_0x1e9bae=this['_evtLayerA'+'dded'])==null||_0x1e9bae['off'](),this['_evtLayerA'+'dded']=null,(_0x1c995d=this['_evtLayerR'+'emoved'])==null||_0x1c995d['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x2216+-0x1fa9+-0x1*0x26d&&((_0x564977=_0x3d7715['batcher'])==null||_0x564977['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x155eba=this['_model']['meshInstan'+'ces'];for(let _0x3ac6c3=0x10c5+-0x2*0x1239+0x13ad,_0x26afd8=_0x155eba['length'];_0x3ac6c3<_0x26afd8;_0x3ac6c3++)_0x155eba[_0x3ac6c3]['visible']=!(0x11ae+0x1ca3+0x1728*-0x2);}}['show'](){if(this['_model']){const _0x5cd731=this['_model']['meshInstan'+'ces'];for(let _0xfb5268=0x113f+0x2141+-0x3280,_0x3d9729=_0x5cd731['length'];_0xfb5268<_0x3d9729;_0xfb5268++)_0x5cd731[_0xfb5268]['visible']=!(-0x2*0x5f9+-0x1*-0xc92+0xa0*-0x1);}}['_bindMater'+'ialAsset'](_0x41daae){if(_0x41daae['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x41daae['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x41daae['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x41daae['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x41daae['resource'])this['_onMateria'+'lAssetLoad'](_0x41daae);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x41daae);}}['_unbindMat'+'erialAsset'](_0x2c9ef1){_0x2c9ef1['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x2c9ef1['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x2c9ef1['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x2c9ef1['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x1c12ad){this['system']['app']['assets']['off']('add:'+_0x1c12ad['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x1c12ad['id']&&this['_bindMater'+'ialAsset'](_0x1c12ad);}['_onMateria'+'lAssetLoad'](_0x495c17){this['_setMateri'+'al'](_0x495c17['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x1063e8){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x1b0708){this['_onMateria'+'lAssetUnlo'+'ad'](_0x1b0708);}['_onMateria'+'lAssetChan'+'ge'](_0x2a225b){}['_bindModel'+'Asset'](_0x3ea1e3){if(this['_unbindMod'+'elAsset'](_0x3ea1e3),_0x3ea1e3['on']('load',this['_onModelAs'+'setLoad'],this),_0x3ea1e3['on']('unload',this['_onModelAs'+'setUnload'],this),_0x3ea1e3['on']('change',this['_onModelAs'+'setChange'],this),_0x3ea1e3['on']('remove',this['_onModelAs'+'setRemove'],this),_0x3ea1e3['resource'])this['_onModelAs'+'setLoad'](_0x3ea1e3);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3ea1e3);}}['_unbindMod'+'elAsset'](_0x536218){_0x536218['off']('load',this['_onModelAs'+'setLoad'],this),_0x536218['off']('unload',this['_onModelAs'+'setUnload'],this),_0x536218['off']('change',this['_onModelAs'+'setChange'],this),_0x536218['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x5bf8e3){this['system']['app']['assets']['off']('add:'+_0x5bf8e3['id'],this['_onModelAs'+'setAdded'],this),_0x5bf8e3['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x5bf8e3);}['_onModelAs'+'setLoad'](_0x580074){this['model']=_0x580074['resource']['clone'](),this['_clonedMod'+'el']=!(-0x33a*-0x8+-0xe59*-0x1+-0x1bf*0x17);}['_onModelAs'+'setUnload'](_0x6ac7f1){this['model']=null;}['_onModelAs'+'setChange'](_0x4e3b96,_0x196405,_0x4f92f5,_0x190915){_0x196405==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x166f81){this['model']=null;}['_setMateri'+'al'](_0x27bfb0){if(this['_material']===_0x27bfb0)return;this['_material']=_0x27bfb0;const _0x44d24b=this['_model'];if(_0x44d24b&&this['_type']!=='asset'){const _0x5909ba=_0x44d24b['meshInstan'+'ces'];for(let _0x57b32b=0x11a*0x1f+0x1a54+-0x3c7a,_0x253195=_0x5909ba['length'];_0x57b32b<_0x253195;_0x57b32b++)_0x5909ba[_0x57b32b]['material']=_0x27bfb0;}}}class sI{constructor(){this['enabled']=!(-0xc40+0x1a*0x11+0xa86);}}const ux=['enabled'];class iI extends Xe{constructor(_0x202d95){super(_0x202d95),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x202d95['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xbd803a,_0x49d257,_0x78f95){_0x78f95=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x49d257['batchGroup'+'Id']===null||_0x49d257['batchGroup'+'Id']===void(0x1*0x5b0+0x2280+-0x2830))&&(_0x49d257['batchGroup'+'Id']=-(0xc43*0x1+-0x1*-0x1871+0x1*-0x24b3)),_0x49d257['layers']&&_0x49d257['layers']['length']&&(_0x49d257['layers']=_0x49d257['layers']['slice'](-0x1d85+-0x1*-0x5b3+-0x1*-0x17d2));for(let _0x249e50=-0x26fe+0x1*-0x25db+-0xbf*-0x67;_0x249e50<_0x78f95['length'];_0x249e50++)_0x49d257['hasOwnProp'+'erty'](_0x78f95[_0x249e50])&&(_0xbd803a[_0x78f95[_0x249e50]]=_0x49d257[_0x78f95[_0x249e50]]);_0x49d257['aabbCenter']&&_0x49d257['aabbHalfEx'+'tents']&&(_0xbd803a['customAabb']=new _e(new T(_0x49d257['aabbCenter']),new T(_0x49d257['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0xbd803a,_0x49d257,['enabled']);}['cloneCompo'+'nent'](_0x2a334e,_0x220c3f){const _0x5161b8={'type':_0x2a334e['model']['type'],'asset':_0x2a334e['model']['asset'],'castShadows':_0x2a334e['model']['castShadow'+'s'],'receiveShadows':_0x2a334e['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x2a334e['model']['castShadow'+'sLightmap'],'lightmapped':_0x2a334e['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x2a334e['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x2a334e['model']['isStatic'],'enabled':_0x2a334e['model']['enabled'],'layers':_0x2a334e['model']['layers'],'batchGroupId':_0x2a334e['model']['batchGroup'+'Id'],'mapping':vh({},_0x2a334e['model']['mapping'])};let _0x873f85=_0x2a334e['model']['materialAs'+'set'];!(_0x873f85 instanceof le)&&_0x873f85!=null&&(_0x873f85=this['app']['assets']['get'](_0x873f85));const _0xfbcd52=_0x2a334e['model']['material'];(!_0xfbcd52||_0xfbcd52===this['defaultMat'+'erial']||!_0x873f85||_0xfbcd52===_0x873f85['resource'])&&(_0x5161b8['materialAs'+'set']=_0x873f85);const _0x2b34fe=this['addCompone'+'nt'](_0x220c3f,_0x5161b8);if(_0x2a334e['model']['model']&&_0x2a334e['model']['type']==='asset'&&!_0x2a334e['model']['asset']&&(_0x2b34fe['model']=_0x2a334e['model']['model']['clone'](),_0x2b34fe['_clonedMod'+'el']=!(-0x1c74*0x1+0x6b9*0x1+0x15bb)),_0x5161b8['materialAs'+'set']||(_0x2b34fe['material']=_0xfbcd52),_0x2a334e['model']['model']){const _0x57bf3c=_0x2a334e['model']['model']['meshInstan'+'ces'],_0x40910f=_0x2b34fe['model']['meshInstan'+'ces'];for(let _0x5e7298=-0x2*-0x3ed+-0xe10+0x636;_0x5e7298<_0x57bf3c['length'];_0x5e7298++)_0x40910f[_0x5e7298]['mask']=_0x57bf3c[_0x5e7298]['mask'],_0x40910f[_0x5e7298]['material']=_0x57bf3c[_0x5e7298]['material'],_0x40910f[_0x5e7298]['layer']=_0x57bf3c[_0x5e7298]['layer'],_0x40910f[_0x5e7298]['receiveSha'+'dow']=_0x57bf3c[_0x5e7298]['receiveSha'+'dow'];}return _0x2a334e['model']['customAabb']&&(_0x2b34fe['customAabb']=_0x2a334e['model']['customAabb']['clone']()),_0x2b34fe;}['onRemove'](_0x402c25,_0x3eb571){_0x3eb571['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0xe483a2,_0x4a7ee4){super(_0xe483a2,_0x4a7ee4),c(this,'_requested'+'Depth',!(0x60c+0x1bf7+-0x1*0x2202)),c(this,'_drawOrder',-0x239b+0x38c*0x8+-0x1*-0x73b),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x49e92a=>{this['on']('set_'+_0x49e92a,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x19135c=>{this['on']('set_'+_0x19135c,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x73ff0f=>{this['on']('set_'+_0x73ff0f,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x4b77ee=this['system']['store'][this['entity']['getGuid']()];return _0x4b77ee?_0x4b77ee['data']:null;}set['enabled'](_0x45b7d9){this['_setValue']('enabled',_0x45b7d9);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x1ab5c0){this['_setValue']('autoPlay',_0x1ab5c0);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x1fd340){this['_setValue']('numParticl'+'es',_0x1fd340);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x6f6e37){this['_setValue']('lifetime',_0x6f6e37);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x2a066a){this['_setValue']('rate',_0x2a066a);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x2cf80c){this['_setValue']('rate2',_0x2cf80c);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x265993){this['_setValue']('startAngle',_0x265993);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x5f503e){this['_setValue']('startAngle'+'2',_0x5f503e);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x44adca){this['_setValue']('loop',_0x44adca);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x213d95){this['_setValue']('preWarm',_0x213d95);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x57c30d){this['_setValue']('lighting',_0x57c30d);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x403d14){this['_setValue']('halfLamber'+'t',_0x403d14);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x21857d){this['_setValue']('intensity',_0x21857d);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x2a511c){this['_setValue']('depthWrite',_0x2a511c);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x290d34){this['_setValue']('noFog',_0x290d34);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x40ea83){this['_setValue']('depthSofte'+'ning',_0x40ea83);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x58a235){this['_setValue']('sort',_0x58a235);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x112561){this['_setValue']('blendType',_0x112561);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x535c75){this['_setValue']('stretch',_0x535c75);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x4e57d0){this['_setValue']('alignToMot'+'ion',_0x4e57d0);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x21df21){this['_setValue']('emitterSha'+'pe',_0x21df21);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x3f6e70){this['_setValue']('emitterExt'+'ents',_0x3f6e70);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x1fdfb3){this['_setValue']('emitterExt'+'entsInner',_0x1fdfb3);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0xf037dd){this['_setValue']('emitterRad'+'ius',_0xf037dd);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x4309ac){this['_setValue']('emitterRad'+'iusInner',_0x4309ac);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x12073c){this['_setValue']('initialVel'+'ocity',_0x12073c);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x1fc46d){this['_setValue']('wrap',_0x1fc46d);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x43465c){this['_setValue']('wrapBounds',_0x43465c);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x1864ab){this['_setValue']('localSpace',_0x1864ab);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x2df595){this['_setValue']('screenSpac'+'e',_0x2df595);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x39e0b6){this['_setValue']('colorMapAs'+'set',_0x39e0b6);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x3cfaf1){this['_setValue']('normalMapA'+'sset',_0x3cfaf1);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x5743d9){this['_setValue']('mesh',_0x5743d9);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x52bd8e){this['_setValue']('meshAsset',_0x52bd8e);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x16eb68){this['_setValue']('renderAsse'+'t',_0x16eb68);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x52c21e){this['_setValue']('orientatio'+'n',_0x52c21e);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x32a6f6){this['_setValue']('particleNo'+'rmal',_0x32a6f6);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x259e5c){this['_setValue']('localVeloc'+'ityGraph',_0x259e5c);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x51cfd5){this['_setValue']('localVeloc'+'ityGraph2',_0x51cfd5);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x1fc670){this['_setValue']('velocityGr'+'aph',_0x1fc670);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x268455){this['_setValue']('velocityGr'+'aph2',_0x268455);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x2c30ab){this['_setValue']('rotationSp'+'eedGraph',_0x2c30ab);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x575eba){this['_setValue']('rotationSp'+'eedGraph2',_0x575eba);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x1f1092){this['_setValue']('radialSpee'+'dGraph',_0x1f1092);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x16e129){this['_setValue']('radialSpee'+'dGraph2',_0x16e129);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x440dd8){this['_setValue']('scaleGraph',_0x440dd8);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x3522e2){this['_setValue']('scaleGraph'+'2',_0x3522e2);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x1d1d70){this['_setValue']('colorGraph',_0x1d1d70);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x425d47){this['_setValue']('colorGraph'+'2',_0x425d47);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x34f00e){this['_setValue']('alphaGraph',_0x34f00e);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x5731ac){this['_setValue']('alphaGraph'+'2',_0x5731ac);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x31e6ab){this['_setValue']('colorMap',_0x31e6ab);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x333788){this['_setValue']('normalMap',_0x333788);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x3432f3){this['_setValue']('animTilesX',_0x3432f3);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x1dac98){this['_setValue']('animTilesY',_0x1dac98);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x42c79b){this['_setValue']('animStartF'+'rame',_0x42c79b);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x18b181){this['_setValue']('animNumFra'+'mes',_0x18b181);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4250b4){this['_setValue']('animNumAni'+'mations',_0x4250b4);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x4d727c){this['_setValue']('animIndex',_0x4d727c);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x21b190){this['_setValue']('randomizeA'+'nimIndex',_0x21b190);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x45dffe){this['_setValue']('animSpeed',_0x45dffe);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x1ad9d2){this['_setValue']('animLoop',_0x1ad9d2);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x1741ed){this['_setValue']('layers',_0x1741ed);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x30994a){this['_drawOrder']=_0x30994a,this['emitter']&&(this['emitter']['drawOrder']=_0x30994a);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x4a0389,_0x491a54){const _0x32c107=this['data'],_0x5149bb=_0x32c107[_0x4a0389];_0x32c107[_0x4a0389]=_0x491a54,this['fire']('set',_0x4a0389,_0x5149bb,_0x491a54);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x1e981d=0x14c*0xf+-0xce4+-0x690;_0x1e981d<this['layers']['length'];_0x1e981d++){const _0x631c9d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1e981d]);_0x631c9d&&(_0x631c9d['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x631c9d);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x447edb=0x3*0xfb+-0xaf9+-0x202*-0x4;_0x447edb<this['layers']['length'];_0x447edb++){const _0xd9fd57=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x447edb]);_0xd9fd57&&_0xd9fd57['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x254c53,_0x366192,_0x573038){if(this['emitter']){for(let _0x27ce41=0x26d1+-0xc36+0x8b*-0x31;_0x27ce41<_0x366192['length'];_0x27ce41++){const _0x1dae22=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x366192[_0x27ce41]);_0x1dae22&&_0x1dae22['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x425c52=-0x409*-0x5+-0xd5*0x3+-0x11ae;_0x425c52<_0x573038['length'];_0x425c52++){const _0x40f9a4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x573038[_0x425c52]);_0x40f9a4&&_0x40f9a4['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x37fd53,_0x5dbef0){this['addMeshIns'+'tanceToLay'+'ers'](),_0x37fd53['off']('add',this['onLayerAdd'+'ed'],this),_0x37fd53['off']('remove',this['onLayerRem'+'oved'],this),_0x5dbef0['on']('add',this['onLayerAdd'+'ed'],this),_0x5dbef0['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x251cf4){!this['emitter']||this['layers']['indexOf'](_0x251cf4['id'])<-0x168c+0x11*-0x24a+0x3d76||_0x251cf4['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x297650){!this['emitter']||this['layers']['indexOf'](_0x297650['id'])<0x15d9+0x604+-0x1bdd||_0x297650['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x18034c){if(_0x18034c['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x18034c['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x18034c['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x18034c['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x18034c['resource'])this['_onColorMa'+'pAssetLoad'](_0x18034c);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x18034c);}}['_unbindCol'+'orMapAsset'](_0x11240d){_0x11240d['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x11240d['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x11240d['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x11240d['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x506c30){this['colorMap']=_0x506c30['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x6d5c19){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x5c67b8){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x5c67b8);}['_onColorMa'+'pAssetChan'+'ge'](_0x59d20f){}['onSetColor'+'MapAsset'](_0x574023,_0x2a3c86,_0x3b05ca){const _0x4fb623=this['system']['app']['assets'];if(_0x2a3c86){const _0x5040cf=_0x4fb623['get'](_0x2a3c86);_0x5040cf&&this['_unbindCol'+'orMapAsset'](_0x5040cf);}if(_0x3b05ca){_0x3b05ca instanceof le&&(this['data']['colorMapAs'+'set']=_0x3b05ca['id'],_0x3b05ca=_0x3b05ca['id']);const _0x25f408=_0x4fb623['get'](_0x3b05ca);_0x25f408?this['_bindColor'+'MapAsset'](_0x25f408):_0x4fb623['once']('add:'+_0x3b05ca,_0x4c4889=>{this['_bindColor'+'MapAsset'](_0x4c4889);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0xe73217){if(_0xe73217['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0xe73217['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0xe73217['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0xe73217['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0xe73217['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0xe73217);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xe73217);}}['_unbindNor'+'malMapAsse'+'t'](_0xe9595b){_0xe9595b['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0xe9595b['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0xe9595b['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0xe9595b['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x442c93){this['normalMap']=_0x442c93['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0xbf92d3){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x5e61ab){this['_onNormalM'+'apAssetUnl'+'oad'](_0x5e61ab);}['_onNormalM'+'apAssetCha'+'nge'](_0x18eba1){}['onSetNorma'+'lMapAsset'](_0x1b6069,_0x8ae12c,_0x84cfb2){const _0x4e3b35=this['system']['app']['assets'];if(_0x8ae12c){const _0x1668b1=_0x4e3b35['get'](_0x8ae12c);_0x1668b1&&this['_unbindNor'+'malMapAsse'+'t'](_0x1668b1);}if(_0x84cfb2){_0x84cfb2 instanceof le&&(this['data']['normalMapA'+'sset']=_0x84cfb2['id'],_0x84cfb2=_0x84cfb2['id']);const _0x19ae9c=_0x4e3b35['get'](_0x84cfb2);_0x19ae9c?this['_bindNorma'+'lMapAsset'](_0x19ae9c):_0x4e3b35['once']('add:'+_0x84cfb2,_0x1b933a=>{this['_bindNorma'+'lMapAsset'](_0x1b933a);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x3fdff1){if(_0x3fdff1['on']('load',this['_onMeshAss'+'etLoad'],this),_0x3fdff1['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x3fdff1['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x3fdff1['on']('change',this['_onMeshAss'+'etChange'],this),_0x3fdff1['resource'])this['_onMeshAss'+'etLoad'](_0x3fdff1);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3fdff1);}}['_unbindMes'+'hAsset'](_0x5708dd){_0x5708dd['off']('load',this['_onMeshAss'+'etLoad'],this),_0x5708dd['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x5708dd['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x5708dd['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x672027){this['_onMeshCha'+'nged'](_0x672027['resource']);}['_onMeshAss'+'etUnload'](_0x36405b){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x274ab6){this['_onMeshAss'+'etUnload'](_0x274ab6);}['_onMeshAss'+'etChange'](_0x3ff4f7){}['onSetMeshA'+'sset'](_0x4cc925,_0x34690f,_0x41347c){const _0x468de4=this['system']['app']['assets'];if(_0x34690f){const _0x3b629=_0x468de4['get'](_0x34690f);_0x3b629&&this['_unbindMes'+'hAsset'](_0x3b629);}if(_0x41347c){_0x41347c instanceof le&&(this['data']['meshAsset']=_0x41347c['id'],_0x41347c=_0x41347c['id']);const _0x144896=_0x468de4['get'](_0x41347c);_0x144896&&this['_bindMeshA'+'sset'](_0x144896);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0xdcf6fe,_0x267efd,_0x2d32ab){!_0x2d32ab||_0x2d32ab instanceof le||typeof _0x2d32ab=='number'?this['meshAsset']=_0x2d32ab:this['_onMeshCha'+'nged'](_0x2d32ab);}['_onMeshCha'+'nged'](_0x4486fa){_0x4486fa&&!(_0x4486fa instanceof Ie)&&(_0x4486fa['meshInstan'+'ces'][-0x540+-0xcc6*0x1+-0x301*-0x6]?_0x4486fa=_0x4486fa['meshInstan'+'ces'][0x626*0x2+0x39d*0x5+-0x1e5d*0x1]['mesh']:_0x4486fa=null),this['data']['mesh']=_0x4486fa,this['emitter']&&(this['emitter']['mesh']=_0x4486fa,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x573c34,_0x580395,_0x3c1e1e){const _0x36abda=this['system']['app']['assets'];if(_0x580395){const _0x490400=_0x36abda['get'](_0x580395);_0x490400&&this['_unbindRen'+'derAsset'](_0x490400);}if(_0x3c1e1e){_0x3c1e1e instanceof le&&(this['data']['renderAsse'+'t']=_0x3c1e1e['id'],_0x3c1e1e=_0x3c1e1e['id']);const _0x2169b1=_0x36abda['get'](_0x3c1e1e);_0x2169b1&&this['_bindRende'+'rAsset'](_0x2169b1);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x2c9cba){if(_0x2c9cba['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x2c9cba['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x2c9cba['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x2c9cba['resource'])this['_onRenderA'+'ssetLoad'](_0x2c9cba);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2c9cba);}}['_unbindRen'+'derAsset'](_0x103c1a){var _0x4b3cf0;_0x103c1a['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x103c1a['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x103c1a['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x4b3cf0=this['_evtSetMes'+'hes'])==null||_0x4b3cf0['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0xf0f3db){this['_onRenderC'+'hanged'](_0xf0f3db['resource']);}['_onRenderA'+'ssetUnload'](_0x1f0a68){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x5c4b52){this['_onRenderA'+'ssetUnload'](_0x5c4b52);}['_onRenderC'+'hanged'](_0x1847f0){var _0x536a9a;if(!_0x1847f0){this['_onMeshCha'+'nged'](null);return;}(_0x536a9a=this['_evtSetMes'+'hes'])==null||_0x536a9a['off'](),this['_evtSetMes'+'hes']=_0x1847f0['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x1847f0['meshes']&&this['_onRenderS'+'etMeshes'](_0x1847f0['meshes']);}['_onRenderS'+'etMeshes'](_0x466263){this['_onMeshCha'+'nged'](_0x466263&&_0x466263[-0x1750+0xd*0x2b+0x1521*0x1]);}['onSetLoop'](_0x36debc,_0x439838,_0x41ae66){this['emitter']&&(this['emitter'][_0x36debc]=_0x41ae66,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x412f7b,_0x476416,_0x3ada7b){this['emitter']&&(this['emitter'][_0x412f7b]=_0x3ada7b,this['emitter']['material']['blendType']=_0x3ada7b,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1db1+-0x24ff+-0x55*-0x16)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x12*-0x16a+-0x1571+-0x402));}['onSetDepth'+'Softening'](_0x347859,_0xdca468,_0x2b6b94){_0xdca468!==_0x2b6b94&&(_0x2b6b94?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x347859]=_0x2b6b94)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x347859]=_0x2b6b94)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x140796,_0x294dcb,_0x4d1547){this['emitter']&&(this['emitter'][_0x140796]=_0x4d1547,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x5ebe7d,_0x5355c1,_0x16f8a3){this['emitter']&&(this['emitter'][_0x5ebe7d]=_0x16f8a3,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x4b8e65,_0x2a9f78,_0x55960e){this['emitter']&&(this['emitter'][_0x4b8e65]=_0x55960e,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x5d7e20=this['system']['app']['scene'],_0x359e76=_0x5d7e20['layers'],_0x3ba95a=this['data'];for(let _0x289c76=0x1db2*-0x1+-0x1b82*0x1+0x3934,_0x119d00=Zl['length'];_0x289c76<_0x119d00;_0x289c76++){let _0x1a02fc=_0x3ba95a[Zl[_0x289c76]];if(_0x1a02fc){if(!(_0x1a02fc instanceof le)){if(parseInt(_0x1a02fc,-0x1503*0x1+0x1d01*-0x1+-0x12a*-0x2b)>=-0x90b+0x3*-0x605+0x1b1a)_0x1a02fc=this['system']['app']['assets']['get'](_0x1a02fc);else continue;}_0x1a02fc&&!_0x1a02fc['resource']&&this['system']['app']['assets']['load'](_0x1a02fc);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x248f07=_0x3ba95a['mesh'];_0x248f07 instanceof Ie||(_0x248f07=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x3ba95a['numParticl'+'es'],'emitterExtents':_0x3ba95a['emitterExt'+'ents'],'emitterExtentsInner':_0x3ba95a['emitterExt'+'entsInner'],'emitterRadius':_0x3ba95a['emitterRad'+'ius'],'emitterRadiusInner':_0x3ba95a['emitterRad'+'iusInner'],'emitterShape':_0x3ba95a['emitterSha'+'pe'],'initialVelocity':_0x3ba95a['initialVel'+'ocity'],'wrap':_0x3ba95a['wrap'],'localSpace':_0x3ba95a['localSpace'],'screenSpace':_0x3ba95a['screenSpac'+'e'],'wrapBounds':_0x3ba95a['wrapBounds'],'lifetime':_0x3ba95a['lifetime'],'rate':_0x3ba95a['rate'],'rate2':_0x3ba95a['rate2'],'orientation':_0x3ba95a['orientatio'+'n'],'particleNormal':_0x3ba95a['particleNo'+'rmal'],'animTilesX':_0x3ba95a['animTilesX'],'animTilesY':_0x3ba95a['animTilesY'],'animStartFrame':_0x3ba95a['animStartF'+'rame'],'animNumFrames':_0x3ba95a['animNumFra'+'mes'],'animNumAnimations':_0x3ba95a['animNumAni'+'mations'],'animIndex':_0x3ba95a['animIndex'],'randomizeAnimIndex':_0x3ba95a['randomizeA'+'nimIndex'],'animSpeed':_0x3ba95a['animSpeed'],'animLoop':_0x3ba95a['animLoop'],'startAngle':_0x3ba95a['startAngle'],'startAngle2':_0x3ba95a['startAngle'+'2'],'scaleGraph':_0x3ba95a['scaleGraph'],'scaleGraph2':_0x3ba95a['scaleGraph'+'2'],'colorGraph':_0x3ba95a['colorGraph'],'colorGraph2':_0x3ba95a['colorGraph'+'2'],'alphaGraph':_0x3ba95a['alphaGraph'],'alphaGraph2':_0x3ba95a['alphaGraph'+'2'],'localVelocityGraph':_0x3ba95a['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x3ba95a['localVeloc'+'ityGraph2'],'velocityGraph':_0x3ba95a['velocityGr'+'aph'],'velocityGraph2':_0x3ba95a['velocityGr'+'aph2'],'rotationSpeedGraph':_0x3ba95a['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x3ba95a['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x3ba95a['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x3ba95a['radialSpee'+'dGraph2'],'colorMap':_0x3ba95a['colorMap'],'normalMap':_0x3ba95a['normalMap'],'loop':_0x3ba95a['loop'],'preWarm':_0x3ba95a['preWarm'],'sort':_0x3ba95a['sort'],'stretch':_0x3ba95a['stretch'],'alignToMotion':_0x3ba95a['alignToMot'+'ion'],'lighting':_0x3ba95a['lighting'],'halfLambert':_0x3ba95a['halfLamber'+'t'],'intensity':_0x3ba95a['intensity'],'depthSoftening':_0x3ba95a['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x248f07,'depthWrite':_0x3ba95a['depthWrite'],'noFog':_0x3ba95a['noFog'],'node':this['entity'],'blendType':_0x3ba95a['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x3ba95a['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x231+0x296*0x2+-0x2fa));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x5d7e20['on']('set:layers',this['onLayersCh'+'anged'],this),_0x359e76&&(this['_evtLayerA'+'dded']=_0x359e76['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x359e76['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x3ba95a['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x548d5a,_0x1e2edc,_0x3c870a;const _0x711f6=this['system']['app']['scene']['layers'];(_0x548d5a=this['_evtLayers'+'Changed'])==null||_0x548d5a['off'](),this['_evtLayers'+'Changed']=null,_0x711f6&&((_0x1e2edc=this['_evtLayerA'+'dded'])==null||_0x1e2edc['off'](),this['_evtLayerA'+'dded']=null,(_0x3c870a=this['_evtLayerR'+'emoved'])==null||_0x3c870a['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x84a*0x4+0x21e*0x1+0x1*-0x2345)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x457d31=-0x1*-0x13aa+-0x24cd+-0x1*-0x1123;_0x457d31<Zl['length'];_0x457d31++){const _0xa4a0=Zl[_0x457d31];this['data'][_0xa4a0]&&(this[_0xa4a0]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x397*-0x6+-0x2470+0xee7),this['emitter']['resetTime'](),this['emitter']['addTime'](0x1699+0x24bb+-0x3b54,!(-0x320+0x14+0x3*0x104)));}['pause'](){this['data']['paused']=!(0x199+0x3*-0x15b+0x1*0x278);}['unpause'](){this['data']['paused']=!(-0x1205+-0x1307+0x250d);}['play'](){this['data']['paused']=!(0x1*0x1d62+-0x7c*0x2f+-0x69d),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x26a5*0x1+0x2e*-0x61+0x21*0x1b3),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x13fb+0x1dcf+0x9f5*-0x5):this['emitter']&&this['emitter']['loop']?!(-0x7*-0x137+-0x3bf*-0xa+-0x2df7):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x74bfac}=this;_0x74bfac&&!_0x74bfac['inTools']&&(_0x74bfac['inTools']=!(0x3f9*0x2+0x16*0x53+-0x4*0x3c5),this['rebuild']());}['rebuild'](){const _0x1c6e7d=this['enabled'];this['enabled']=!(-0x272*0xe+-0x757+0x2994),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x1c6e7d;}}class lI{constructor(){this['numParticl'+'es']=-0x2703+0x39*-0x25+0x2f41,this['rate']=0x9bc*-0x1+0xeb6+-0x43*0x13,this['rate2']=null,this['startAngle']=-0x8ca+0x25df+0x1d15*-0x1,this['startAngle'+'2']=null,this['lifetime']=0x22f4+0x172a*0x1+0x2c*-0x151,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=-0x1b30+0x25ba+-0xa8a,this['emitterRad'+'iusInner']=0x2337+0x4*0x716+-0x3f8f,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0x16f6+0x1*0xa21+0xcd5,this['wrap']=!(0xf87+-0xf00+-0x86),this['wrapBounds']=new T(),this['localSpace']=!(-0x1*-0x14a1+0x1194+-0x2634),this['screenSpac'+'e']=!(-0x1a96+-0x34a+0x1de1),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0xbb2+0xce3+-0xcb*0x1f),this['preWarm']=!(0x107*0x11+-0x1*0x3a1+-0xdd5*0x1),this['sort']=-0x1bf0+-0x2627+-0x1*-0x4217,this['mode']=d0,this['scene']=null,this['lighting']=!(0x5*-0x2bb+0x23cc*-0x1+0x3174),this['halfLamber'+'t']=!(0xa*-0x10a+-0x1488+-0x15*-0x179),this['intensity']=-0x24dc+-0x1a*-0x8e+-0x3*-0x77b,this['stretch']=0xa7*0x5+-0x1*-0x18af+-0x31*0x92,this['alignToMot'+'ion']=!(-0xe04+-0x5a4+-0x13a9*-0x1),this['depthSofte'+'ning']=-0xa7*-0x27+-0x1773+-0x55*0x6,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0xa60+0x300*-0x6+0x7a1),this['noFog']=!(0x229d+-0xe97+-0x1405),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(-0x185*0x6+0x15a*0x3+-0x1*-0x510,0x1761+0x1438+0xae6*-0x4,-0x2441+0xbf+0x2382),this['animTilesX']=-0x1a00+0xa3*0x26+0x1cf,this['animTilesY']=-0x2553+0x18b9+0xc9b,this['animStartF'+'rame']=-0x481*-0x3+-0x1433+0x2*0x358,this['animNumFra'+'mes']=0x9b*0x35+0x1*-0x239b+0x35*0x11,this['animNumAni'+'mations']=-0x199*-0x15+0x1dae+-0x3f3a,this['animIndex']=0x1*0xf16+0x6be+-0x15d4,this['randomizeA'+'nimIndex']=!(-0x1560+-0x1*-0x171e+0x1bd*-0x1),this['animSpeed']=-0x1187+0x16e0+0x39*-0x18,this['animLoop']=!(-0x347+0x21bb+-0x1e74),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0x21bd+0x1*0xde2+0x12b*0x11),this['paused']=!(0xa30+0x268e+-0x3*0x103f),this['autoPlay']=!(0xa*-0x40+-0x18d7+0x1b57),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x4ae22b){super(_0x4ae22b),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x57597c,_0x2a47ec,_0x8c5d5a){const _0x5113b2={};_0x8c5d5a=[];const _0x592eb0=this['propertyTy'+'pes'];(_0x2a47ec['mesh']instanceof le||typeof _0x2a47ec['mesh']=='number')&&(_0x2a47ec['meshAsset']=_0x2a47ec['mesh'],delete _0x2a47ec['mesh']);for(const _0x3213c7 in _0x2a47ec){if(_0x2a47ec['hasOwnProp'+'erty'](_0x3213c7)&&(_0x8c5d5a['push'](_0x3213c7),_0x5113b2[_0x3213c7]=_0x2a47ec[_0x3213c7]),_0x592eb0[_0x3213c7]==='vec3')Array['isArray'](_0x5113b2[_0x3213c7])&&(_0x5113b2[_0x3213c7]=new T(_0x5113b2[_0x3213c7][-0x389*-0x2+0x1626+-0x3a7*0x8],_0x5113b2[_0x3213c7][0xf*0xcb+-0x1a3*-0x17+0x581*-0x9],_0x5113b2[_0x3213c7][-0x5*0x78+0xa*-0x1b4+0x1362]));else{if(_0x592eb0[_0x3213c7]==='curve'){if(!(_0x5113b2[_0x3213c7]instanceof Cs)){const _0x270645=_0x5113b2[_0x3213c7]['type'];_0x5113b2[_0x3213c7]=new Cs(_0x5113b2[_0x3213c7]['keys']),_0x5113b2[_0x3213c7]['type']=_0x270645;}}else{if(_0x592eb0[_0x3213c7]==='curveset'&&!(_0x5113b2[_0x3213c7]instanceof jr)){const _0x1fd9d8=_0x5113b2[_0x3213c7]['type'];_0x5113b2[_0x3213c7]=new jr(_0x5113b2[_0x3213c7]['keys']),_0x5113b2[_0x3213c7]['type']=_0x1fd9d8;}}}_0x5113b2['layers']&&Array['isArray'](_0x5113b2['layers'])&&(_0x5113b2['layers']=_0x5113b2['layers']['slice'](0x1*0x1e2e+-0x1844+-0x5ea));}super['initialize'+'ComponentD'+'ata'](_0x57597c,_0x5113b2,_0x8c5d5a);}['cloneCompo'+'nent'](_0x56e1fd,_0x6e6ee3){const _0x1f8457=_0x56e1fd['particlesy'+'stem']['data'],_0xc9da9f=this['schema'],_0x4ad637={};for(let _0x24d708=-0xc17*-0x3+0x1be7+-0x402c,_0x3f1e56=_0xc9da9f['length'];_0x24d708<_0x3f1e56;_0x24d708++){const _0x4272e5=_0xc9da9f[_0x24d708];let _0x44d0ab=_0x1f8457[_0x4272e5];_0x44d0ab instanceof T||_0x44d0ab instanceof Cs||_0x44d0ab instanceof jr?(_0x44d0ab=_0x44d0ab['clone'](),_0x4ad637[_0x4272e5]=_0x44d0ab):_0x4272e5==='layers'?_0x4ad637['layers']=_0x1f8457['layers']['slice'](-0x2269+0x3*0x83b+-0x4*-0x26e):_0x44d0ab!=null&&(_0x4ad637[_0x4272e5]=_0x44d0ab);}return this['addCompone'+'nt'](_0x6e6ee3,_0x4ad637);}['onUpdate'](_0x498be7){const _0x340ec1=this['store'];let _0x4a7e5d;const _0x5131d2=this['app']['stats']['particles'],_0x11d1b7=this['app']['scene']['layers'];for(let _0x3cd1f9=-0x25be*0x1+0x1363*-0x1+0x3921;_0x3cd1f9<_0x11d1b7['layerList']['length'];_0x3cd1f9++)_0x11d1b7['layerList'][_0x3cd1f9]['requiresLi'+'ghtCube']=!(0x212+0x4e*-0x7e+0x2453);for(const _0x545f59 in _0x340ec1)if(_0x340ec1['hasOwnProp'+'erty'](_0x545f59)){const _0x583bc1=_0x340ec1[_0x545f59],_0x355afa=_0x583bc1['entity'],_0x1a4c65=_0x583bc1['data'];if(_0x1a4c65['enabled']&&_0x355afa['enabled']){const _0x584437=_0x355afa['particlesy'+'stem']['emitter'];if(!(_0x584437!=null&&_0x584437['meshInstan'+'ce']['visible']))continue;if(_0x584437['lighting']){const _0xb1cb03=_0x1a4c65['layers'];for(let _0x51be40=-0x2*0xf4d+-0x1*-0x1a42+0x458;_0x51be40<_0xb1cb03['length'];_0x51be40++){const _0x31d73d=_0x11d1b7['getLayerBy'+'Id'](_0xb1cb03[_0x51be40]);_0x31d73d&&(_0x31d73d['requiresLi'+'ghtCube']=!(0x1*-0x52e+-0x232*0x6+0x125a));}}if(!_0x1a4c65['paused']){if(_0x584437['simTime']+=_0x498be7,_0x584437['simTime']>_0x584437['fixedTimeS'+'tep']&&(_0x4a7e5d=Math['floor'](_0x584437['simTime']/_0x584437['fixedTimeS'+'tep']),_0x584437['simTime']-=_0x4a7e5d*_0x584437['fixedTimeS'+'tep']),_0x4a7e5d){_0x4a7e5d=Math['min'](_0x4a7e5d,_0x584437['maxSubStep'+'s']);for(let _0x1c4bf0=-0x6*-0x301+0x6*0x33d+-0x2574;_0x1c4bf0<_0x4a7e5d;_0x1c4bf0++)_0x584437['addTime'](_0x584437['fixedTimeS'+'tep'],!(0x9a6+-0x112*0x1d+0x1565));_0x5131d2['_updatesPe'+'rFrame']+=_0x4a7e5d,_0x5131d2['_frameTime']+=_0x584437['_addTimeTi'+'me'],_0x584437['_addTimeTi'+'me']=-0x19e8+-0x25a1+-0xcb5*-0x5;}_0x584437['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x3a3f6c,_0x1f75c8){_0x1f75c8['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x51ca38,_0x3f86eb){super(),this['skin']=_0x51ca38,this['skinInstan'+'ce']=_0x3f86eb;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x416fda,_0x16efe0)=>{console['log'](_0x16efe0['name']+':\x20Array('+_0x416fda['length']+')');for(let _0x305302=0xc26+-0x1*-0xf+-0xc35;_0x305302<_0x416fda['length'];_0x305302++)console['log']('\x20\x20'+_0x305302+(':\x20RefCount'+'\x20')+_0x416fda[_0x305302]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x3c18f0,_0x15f05c,_0x34da28){let _0x1e6f80=bs['getCachedS'+'kinInstanc'+'e'](_0x3c18f0,_0x15f05c);return _0x1e6f80||(_0x1e6f80=new nl(_0x3c18f0),_0x1e6f80['resolve'](_0x15f05c,_0x34da28),bs['addCachedS'+'kinInstanc'+'e'](_0x3c18f0,_0x15f05c,_0x1e6f80)),_0x1e6f80;}static['getCachedS'+'kinInstanc'+'e'](_0x19dbf5,_0x686e66){let _0x27bdc1=null;const _0x4c2d46=bs['_skinInsta'+'nceCache']['get'](_0x686e66);if(_0x4c2d46){const _0x4ba124=_0x4c2d46['find'](_0x2350a2=>_0x2350a2['skin']===_0x19dbf5);_0x4ba124&&(_0x4ba124['incRefCoun'+'t'](),_0x27bdc1=_0x4ba124['skinInstan'+'ce']);}return _0x27bdc1;}static['addCachedS'+'kinInstanc'+'e'](_0x5a589a,_0x203ba8,_0x5ce8a4){let _0x48e343=bs['_skinInsta'+'nceCache']['get'](_0x203ba8);_0x48e343||(_0x48e343=[],bs['_skinInsta'+'nceCache']['set'](_0x203ba8,_0x48e343));let _0x4e5fd9=_0x48e343['find'](_0x2331a1=>_0x2331a1['skin']===_0x5a589a);_0x4e5fd9||(_0x4e5fd9=new dI(_0x5a589a,_0x5ce8a4),_0x48e343['push'](_0x4e5fd9)),_0x4e5fd9['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x3cff0){if(_0x3cff0){const _0x341229=_0x3cff0['rootBone'];if(_0x341229){const _0x365816=bs['_skinInsta'+'nceCache']['get'](_0x341229);if(_0x365816){const _0x25841a=_0x365816['findIndex'](_0x1e9a87=>_0x1e9a87['skinInstan'+'ce']===_0x3cff0);if(_0x25841a>=-0xe6a+0x15a3+-0x2b*0x2b){const _0x26beff=_0x365816[_0x25841a];_0x26beff['decRefCoun'+'t'](),_0x26beff['refCount']===0x1ea3+0x1aad+0x1*-0x3950&&(_0x365816['splice'](_0x25841a,-0x68c*-0x4+0xfc1*0x2+0x1*-0x39b1),_0x365816['length']||bs['_skinInsta'+'nceCache']['delete'](_0x341229),_0x3cff0&&(_0x3cff0['destroy'](),_0x26beff['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x1ab29f,_0x3705a5,_0x1bccf1,_0x2b5dc8,_0x126035){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x1ab29f,this['parent']=_0x3705a5,this['_scope']=_0x126035,this['_registry']=_0x1bccf1,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x2b5dc8['load'],this['_onAssetAd'+'d']=_0x2b5dc8['add'],this['_onAssetRe'+'move']=_0x2b5dc8['remove'],this['_onAssetUn'+'load']=_0x2b5dc8['unload']);}set['id'](_0x361aff){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x361aff,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x37bfac){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x37bfac,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x59bc8c,_0x2e12bc,_0x32aa3a,_0x7d1a99,_0x254dc7,_0x3e7073,_0x17c98d;this['id']&&((_0x59bc8c=this['_evtLoadBy'+'Id'])==null||_0x59bc8c['off'](),this['_evtLoadBy'+'Id']=null,(_0x2e12bc=this['_evtAddByI'+'d'])==null||_0x2e12bc['off'](),this['_evtAddByI'+'d']=null,(_0x32aa3a=this['_evtRemove'+'ById'])==null||_0x32aa3a['off'](),this['_evtRemove'+'ById']=null,(_0x7d1a99=this['_evtUnload'+'ById'])==null||_0x7d1a99['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x254dc7=this['_evtLoadBy'+'Url'])==null||_0x254dc7['off'](),this['_evtLoadBy'+'Url']=null,(_0x3e7073=this['_evtAddByU'+'rl'])==null||_0x3e7073['off'](),this['_evtAddByU'+'rl']=null,(_0x17c98d=this['_evtRemove'+'ByUrl'])==null||_0x17c98d['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x318123){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x318123);}['_onAdd'](_0x36ea3e){this['asset']=_0x36ea3e,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x36ea3e);}['_onRemove'](_0x421897){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x421897),this['asset']=null;}['_onUnload'](_0x15e609){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x15e609);}}class fx extends ue{constructor(_0x34d53c,_0x243427){super(_0x34d53c,_0x243427),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(0xdce+0x16a*-0xf+0x768)),c(this,'_receiveSh'+'adows',!(0x1*-0x15fd+0x46*-0x3d+0x26ab)),c(this,'_castShado'+'wsLightmap',!(0x781*0x2+0x3*-0x536+0x14*0x8)),c(this,'_lightmapp'+'ed',!(0x9bb+0x2*0xc92+-0x22de)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x1613*0x1+-0x1*-0x1ea7+0x199*-0x21),c(this,'isStatic',!(-0x1*-0x1795+-0x25fa+-0xe66*-0x1)),c(this,'_batchGrou'+'pId',-(-0x1b8b+0x1c2+0x19ca*0x1)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x34d53c['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x34d53c['defaultMat'+'erial'],_0x243427['on']('remove',this['onRemoveCh'+'ild'],this),_0x243427['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x243427['on']('insert',this['onInsertCh'+'ild'],this),_0x243427['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x29ac87){this['_renderSty'+'le']!==_0x29ac87&&(this['_renderSty'+'le']=_0x29ac87,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x29ac87));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x539203){this['_customAab'+'b']=_0x539203;const _0x486a78=this['_meshInsta'+'nces'];if(_0x486a78){for(let _0x165e42=0x1477*0x1+-0xd6*0x2+-0x12cb;_0x165e42<_0x486a78['length'];_0x165e42++)_0x486a78[_0x165e42]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x33a56c){if(this['_type']!==_0x33a56c&&(this['_area']=null,this['_type']=_0x33a56c,this['destroyMes'+'hInstances'](),_0x33a56c!=='asset')){let _0x322150=this['_material'];(!_0x322150||_0x322150===this['system']['defaultMat'+'erial'])&&(_0x322150=this['_materialR'+'eferences'][0xb38+0x1d*0xe1+-0x24b5]&&this['_materialR'+'eferences'][-0x22fc+0x19d1+0x92b]['asset']&&this['_materialR'+'eferences'][-0x185a+-0x1a26+0x3280]['asset']['resource']);const _0x4c9daf=cx(this['system']['app']['graphicsDe'+'vice'],_0x33a56c);this['_area']=_0x4c9daf['area'],this['meshInstan'+'ces']=[new Le(_0x4c9daf['mesh'],_0x322150||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x1daa07){if(v['assert'](Array['isArray'](_0x1daa07),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x1daa07,this['_meshInsta'+'nces']){const _0x339091=this['_meshInsta'+'nces'];for(let _0xe82b4c=-0x147f+0x1078+0x1*0x407;_0xe82b4c<_0x339091['length'];_0xe82b4c++)_0x339091[_0xe82b4c]['node']||(_0x339091[_0xe82b4c]['node']=this['entity']),_0x339091[_0xe82b4c]['castShadow']=this['_castShado'+'ws'],_0x339091[_0xe82b4c]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x339091[_0xe82b4c]['renderStyl'+'e']=this['_renderSty'+'le'],_0x339091[_0xe82b4c]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x339091[_0xe82b4c]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x17579b){if(_0x17579b!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x17579b;const _0x5cb29b=this['_meshInsta'+'nces'];if(_0x5cb29b){for(let _0x516b85=0x2ea*0x1+-0x1252+0xf68;_0x516b85<_0x5cb29b['length'];_0x516b85++)_0x5cb29b[_0x516b85]['setLightma'+'pped'](_0x17579b);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x588a39){if(this['_castShado'+'ws']!==_0x588a39){const _0x115cd2=this['_meshInsta'+'nces'];if(_0x115cd2){const _0x48c0f1=this['layers'],_0x3e2e96=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x588a39)for(let _0x3f5888=0x82f*0x4+0x23cc+-0x22*0x204;_0x3f5888<_0x48c0f1['length'];_0x3f5888++){const _0xa81b88=_0x3e2e96['layers']['getLayerBy'+'Id'](this['layers'][_0x3f5888]);_0xa81b88&&_0xa81b88['removeShad'+'owCasters'](_0x115cd2);}for(let _0x209695=0x1927+-0x1a48+-0x1*-0x121;_0x209695<_0x115cd2['length'];_0x209695++)_0x115cd2[_0x209695]['castShadow']=_0x588a39;if(!this['_castShado'+'ws']&&_0x588a39)for(let _0x429ef0=0x1f38+-0x2*-0x224+-0x2380;_0x429ef0<_0x48c0f1['length'];_0x429ef0++){const _0x5279c3=_0x3e2e96['layers']['getLayerBy'+'Id'](_0x48c0f1[_0x429ef0]);_0x5279c3&&_0x5279c3['addShadowC'+'asters'](_0x115cd2);}}this['_castShado'+'ws']=_0x588a39;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x5662c8){if(this['_receiveSh'+'adows']!==_0x5662c8){this['_receiveSh'+'adows']=_0x5662c8;const _0x438491=this['_meshInsta'+'nces'];if(_0x438491){for(let _0x5cb1ed=-0x1382+0x4*0x2cd+0x84e;_0x5cb1ed<_0x438491['length'];_0x5cb1ed++)_0x438491[_0x5cb1ed]['receiveSha'+'dow']=_0x5662c8;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x43d1e1){this['_castShado'+'wsLightmap']=_0x43d1e1;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x111865){this['_lightmapS'+'izeMultipl'+'ier']=_0x111865;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x1706f0){const _0xecca2=this['system']['app']['scene']['layers'];let _0x41588a;if(this['_meshInsta'+'nces']){for(let _0x4f7b19=-0x433+0x804+-0x3d1;_0x4f7b19<this['_layers']['length'];_0x4f7b19++)_0x41588a=_0xecca2['getLayerBy'+'Id'](this['_layers'][_0x4f7b19]),_0x41588a&&_0x41588a['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x183*-0x9+-0x1829+0x2*0x547;for(let _0x105717=-0x4c5*-0x3+-0x146e+0x61f*0x1;_0x105717<_0x1706f0['length'];_0x105717++)this['_layers'][_0x105717]=_0x1706f0[_0x105717];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x1b9dd5=-0xcc9+0x401*0x1+-0x464*-0x2;_0x1b9dd5<this['_layers']['length'];_0x1b9dd5++)_0x41588a=_0xecca2['getLayerBy'+'Id'](this['_layers'][_0x1b9dd5]),_0x41588a&&_0x41588a['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x1ee852){var _0x13a5d7,_0x5ab6b1;this['_batchGrou'+'pId']!==_0x1ee852&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x4*-0x89e+-0x238b*-0x1+-0x4603&&((_0x13a5d7=this['system']['app']['batcher'])==null||_0x13a5d7['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x1ee852>=0x1533+-0x2329+0xdf6&&((_0x5ab6b1=this['system']['app']['batcher'])==null||_0x5ab6b1['insert'](et['RENDER'],_0x1ee852,this['entity'])),_0x1ee852<-0x137+0x20*-0xbf+0x1*0x1917&&this['_batchGrou'+'pId']>=-0x16f6+-0x22cf+-0x39c5*-0x1&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x1ee852);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x8ebb5){if(this['_material']!==_0x8ebb5&&(this['_material']=_0x8ebb5,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x43a124=-0x221d+0xe81+-0x5*-0x3ec;_0x43a124<this['_meshInsta'+'nces']['length'];_0x43a124++)this['_meshInsta'+'nces'][_0x43a124]['material']=_0x8ebb5;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x32c919=[]){if(this['_materialR'+'eferences']['length']>_0x32c919['length']){for(let _0x260e95=_0x32c919['length'];_0x260e95<this['_materialR'+'eferences']['length'];_0x260e95++)this['_materialR'+'eferences'][_0x260e95]['id']=null;this['_materialR'+'eferences']['length']=_0x32c919['length'];}for(let _0x28279d=-0x904+0x21c+0x6e8;_0x28279d<_0x32c919['length'];_0x28279d++)if(this['_materialR'+'eferences'][_0x28279d]||this['_materialR'+'eferences']['push'](new Go(_0x28279d,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x32c919[_0x28279d]){const _0x326105=_0x32c919[_0x28279d]instanceof le?_0x32c919[_0x28279d]['id']:_0x32c919[_0x28279d];this['_materialR'+'eferences'][_0x28279d]['id']!==_0x326105&&(this['_materialR'+'eferences'][_0x28279d]['id']=_0x326105),this['_materialR'+'eferences'][_0x28279d]['asset']&&this['_onMateria'+'lAdded'](_0x28279d,this,this['_materialR'+'eferences'][_0x28279d]['asset']);}else this['_materialR'+'eferences'][_0x28279d]['id']=null,this['_meshInsta'+'nces'][_0x28279d]&&(this['_meshInsta'+'nces'][_0x28279d]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x175f81=>_0x175f81['id']);}set['asset'](_0x5d18c3){const _0x1e33c1=_0x5d18c3 instanceof le?_0x5d18c3['id']:_0x5d18c3;this['_assetRefe'+'rence']['id']!==_0x1e33c1&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1e33c1,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x26384a){const _0x3b50d8=_0x26384a instanceof le?_0x26384a['id']:_0x26384a;this['_assetRefe'+'rence']['id']=_0x3b50d8;}set['rootBone'](_0x1e6919){if(this['_rootBone']!==_0x1e6919){const _0x2d0830=typeof _0x1e6919=='string';if(this['_rootBone']&&_0x2d0830&&this['_rootBone']['getGuid']()===_0x1e6919)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x1e6919 instanceof De?this['_rootBone']=_0x1e6919:_0x2d0830?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x1e6919)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x371156=this['_meshInsta'+'nces'];if(_0x371156){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x35e475=-0x1ec7+-0x114a*0x1+-0x17*-0x217;_0x35e475<_0x371156['length'];_0x35e475++)_0x371156[_0x35e475]['destroy']();this['_meshInsta'+'nces']['length']=0x2608+0x238f*-0x1+0xd3*-0x3;}}['addToLayer'+'s'](){const _0x5c5b22=this['system']['app']['scene']['layers'];for(let _0x12df96=0x172f+-0x1804+0xd5;_0x12df96<this['_layers']['length'];_0x12df96++){const _0x59cc10=_0x5c5b22['getLayerBy'+'Id'](this['_layers'][_0x12df96]);_0x59cc10&&_0x59cc10['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x31cc08=this['system']['app']['scene']['layers'];for(let _0x370759=-0x378+0x714+-0x39c;_0x370759<this['_layers']['length'];_0x370759++){const _0x29a813=_0x31cc08['getLayerBy'+'Id'](this['_layers'][_0x370759]);_0x29a813&&_0x29a813['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x537e3d=0x1037+-0x1bcb+0x6*0x1ee;_0x537e3d<this['_materialR'+'eferences']['length'];_0x537e3d++)this['_materialR'+'eferences'][_0x537e3d]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x6b59fc,_0x21c9e0){this['addToLayer'+'s'](),_0x6b59fc['off']('add',this['onLayerAdd'+'ed'],this),_0x6b59fc['off']('remove',this['onLayerRem'+'oved'],this),_0x21c9e0['on']('add',this['onLayerAdd'+'ed'],this),_0x21c9e0['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xae134a){this['layers']['indexOf'](_0xae134a['id'])<0x6ae+-0x5*-0x375+-0x3*0x7fd||_0xae134a['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x4a3037){this['layers']['indexOf'](_0x4a3037['id'])<-0x86b+0x11*-0x19a+0x23a5||_0x4a3037['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x20a2ab;const _0x4cc217=this['system']['app'],_0x358959=_0x4cc217['scene'],_0x4c8fd8=_0x358959['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x358959['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4c8fd8&&(this['_evtLayerA'+'dded']=_0x4c8fd8['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4c8fd8['on']('remove',this['onLayerRem'+'oved'],this));const _0x3cf5c7=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x3cf5c7&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x2a0072=0x11*0x1f+0x2425+0x131a*-0x2;_0x2a0072<this['_materialR'+'eferences']['length'];_0x2a0072++)this['_materialR'+'eferences'][_0x2a0072]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x2a0072]['asset']);this['_batchGrou'+'pId']>=0xe3d+0xd0e+-0x919*0x3&&((_0x20a2ab=_0x4cc217['batcher'])==null||_0x20a2ab['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x319ced,_0x1ba97e,_0xd42bb8,_0x3f2d92;const _0x42272b=this['system']['app'],_0x56151b=_0x42272b['scene']['layers'];(_0x319ced=this['_evtLayers'+'Changed'])==null||_0x319ced['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x56151b&&((_0x1ba97e=this['_evtLayerA'+'dded'])==null||_0x1ba97e['off'](),this['_evtLayerA'+'dded']=null,(_0xd42bb8=this['_evtLayerR'+'emoved'])==null||_0xd42bb8['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x8a5*0x2+0x6f+-0x15d*0xd&&((_0x3f2d92=_0x42272b['batcher'])==null||_0x3f2d92['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x146a98=0x1*-0xca1+-0x5c5*0x1+0x3*0x622;_0x146a98<this['_meshInsta'+'nces']['length'];_0x146a98++)this['_meshInsta'+'nces'][_0x146a98]['visible']=!(0x1*0x184f+0x153e+-0x2d8c);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x329ab9=0x71*0x9+0x185*0x16+-0x2567;_0x329ab9<this['_meshInsta'+'nces']['length'];_0x329ab9++)this['_meshInsta'+'nces'][_0x329ab9]['visible']=!(-0x3*-0x74e+0x264b+-0x1*0x3c35);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x4a34bb;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x58632e=this['_assetRefe'+'rence']['asset']['resource'];(_0x4a34bb=this['_evtSetMes'+'hes'])==null||_0x4a34bb['off'](),this['_evtSetMes'+'hes']=_0x58632e['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x58632e['meshes']&&this['_onSetMesh'+'es'](_0x58632e['meshes']);}}['_onSetMesh'+'es'](_0x9cb32b){this['_cloneMesh'+'es'](_0x9cb32b);}['_clearSkin'+'Instances'](){for(let _0x32cc0a=-0x1*-0x15a5+-0x750+0x1*-0xe55;_0x32cc0a<this['_meshInsta'+'nces']['length'];_0x32cc0a++){const _0x5bec33=this['_meshInsta'+'nces'][_0x32cc0a];Vo['removeCach'+'edSkinInst'+'ance'](_0x5bec33['skinInstan'+'ce']),_0x5bec33['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x1d0303=0x1558+0xf8d+-0x24e5;_0x1d0303<this['_meshInsta'+'nces']['length'];_0x1d0303++){const _0x3c4f76=this['_meshInsta'+'nces'][_0x1d0303],_0x592a8d=_0x3c4f76['mesh'];_0x592a8d['skin']&&!_0x3c4f76['skinInstan'+'ce']&&(_0x3c4f76['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x592a8d['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x585e84){if(_0x585e84&&_0x585e84['length']){const _0x5a0924=[];for(let _0x193367=-0xa*-0x1a9+0x1850+-0x1475*0x2;_0x193367<_0x585e84['length'];_0x193367++){const _0x1cab36=_0x585e84[_0x193367],_0x40de3c=this['_materialR'+'eferences'][_0x193367]&&this['_materialR'+'eferences'][_0x193367]['asset']&&this['_materialR'+'eferences'][_0x193367]['asset']['resource'],_0x198bb3=new Le(_0x1cab36,_0x40de3c||this['system']['defaultMat'+'erial'],this['entity']);_0x5a0924['push'](_0x198bb3),_0x1cab36['morph']&&(_0x198bb3['morphInsta'+'nce']=new fn(_0x1cab36['morph']));}this['meshInstan'+'ces']=_0x5a0924,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x56bab5;(_0x56bab5=this['_evtSetMes'+'hes'])==null||_0x56bab5['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x204636,_0x2f403c,_0x4b9668){_0x4b9668['resource']?this['_onMateria'+'lLoad'](_0x204636,_0x2f403c,_0x4b9668):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x4b9668);}['_updateMai'+'nMaterial'](_0x21846c,_0x4a6b9e){_0x21846c===-0x704+-0xa7f*-0x2+-0xdfa&&(this['material']=_0x4a6b9e);}['_onMateria'+'lLoad'](_0x3cf898,_0x283b10,_0x3f0659){this['_meshInsta'+'nces'][_0x3cf898]&&(this['_meshInsta'+'nces'][_0x3cf898]['material']=_0x3f0659['resource']),this['_updateMai'+'nMaterial'](_0x3cf898,_0x3f0659['resource']);}['_onMateria'+'lRemove'](_0x538c5e,_0x4c8736,_0x4de2c0){this['_meshInsta'+'nces'][_0x538c5e]&&(this['_meshInsta'+'nces'][_0x538c5e]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x538c5e,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x36333f,_0x2de271,_0x166ad1){this['_meshInsta'+'nces'][_0x36333f]&&(this['_meshInsta'+'nces'][_0x36333f]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x36333f,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x530a96,_0x3a179e){_0x530a96['rootBone']&&(this['rootBone']=_0x3a179e[_0x530a96['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0x1268+-0x1afb+0x2d63);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x387eed){super(_0x387eed),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x387eed['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x452989,_0x8c6d6b,_0xce80a3){(_0x8c6d6b['batchGroup'+'Id']===null||_0x8c6d6b['batchGroup'+'Id']===void(0x23c5+-0x1fd2+-0x3*0x151))&&(_0x8c6d6b['batchGroup'+'Id']=-(-0x1*-0x3+-0x1bc4+0xde1*0x2)),_0x8c6d6b['layers']&&_0x8c6d6b['layers']['length']&&(_0x8c6d6b['layers']=_0x8c6d6b['layers']['slice'](0x2*-0x99b+-0x17*-0x141+0x1ed*-0x5));for(let _0x142a74=-0x11*-0x25+-0x43b+0x1c6;_0x142a74<Mr['length'];_0x142a74++)_0x8c6d6b['hasOwnProp'+'erty'](Mr[_0x142a74])&&(_0x452989[Mr[_0x142a74]]=_0x8c6d6b[Mr[_0x142a74]]);_0x8c6d6b['aabbCenter']&&_0x8c6d6b['aabbHalfEx'+'tents']&&(_0x452989['customAabb']=new _e(new T(_0x8c6d6b['aabbCenter']),new T(_0x8c6d6b['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x452989,_0x8c6d6b,pf);}['cloneCompo'+'nent'](_0x37687c,_0x46d5e8){const _0x392e57={};for(let _0x1ec929=0x1b10+-0x14b1*-0x1+-0x2fc1;_0x1ec929<Mr['length'];_0x1ec929++)_0x392e57[Mr[_0x1ec929]]=_0x37687c['render'][Mr[_0x1ec929]];_0x392e57['enabled']=_0x37687c['render']['enabled'],delete _0x392e57['meshInstan'+'ces'];const _0xb01154=this['addCompone'+'nt'](_0x46d5e8,_0x392e57),_0x4dca2e=_0x37687c['render']['meshInstan'+'ces'],_0x237a97=_0x4dca2e['map'](_0x1a3f0f=>_0x1a3f0f['mesh']);_0xb01154['_onSetMesh'+'es'](_0x237a97);for(let _0x4bbbd7=0x1c52+0xf7c+-0x2bce;_0x4bbbd7<_0x4dca2e['length'];_0x4bbbd7++)_0xb01154['meshInstan'+'ces'][_0x4bbbd7]['material']=_0x4dca2e[_0x4bbbd7]['material'];return _0x37687c['render']['customAabb']&&(_0xb01154['customAabb']=_0x37687c['render']['customAabb']['clone']()),_0xb01154;}['onRemove'](_0x3870d9,_0x4aaa1f){_0x4aaa1f['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x3bb444,_0x49a373){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',-0x1*0x223a+0x9e8+0x1852),(this['_construct'+'or']=_0x3bb444,this['_resize'](_0x49a373));}['_resize'](_0x5568b3){if(_0x5568b3>this['_pool']['length']){for(let _0x3d4485=this['_pool']['length'];_0x3d4485<_0x5568b3;_0x3d4485++)this['_pool'][_0x3d4485]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0xbcd+-0x22*0x49+-0x219)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x2646+0x39*0x77+-0x1*-0xbc7;}}let Vt,xe,gs,Wn;const pI=new se(),mI=new se(),Ql=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',-0x1650+-0x25*-0x78+-0x18*-0x35),c(this,'_angularFa'+'ctor',new T(-0x796*-0x1+-0xbf2+0x45d,-0x1009+0x1*-0x1be+0x11c8,0x62f+0x1*-0x17e1+0x17*0xc5)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',0xa5*0x19+-0x163c+0x61f+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',-0x6*-0x434+0x2269*-0x1+0x931),c(this,'_linearFac'+'tor',new T(-0x959+0x1*-0x1598+0x1ef2,-0x1f6f+-0x121a+0x318a,0x1be6+-0x193*0x13+0x204)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',0x1679+-0x2*0xc6d+-0x7a*-0x5),c(this,'_restituti'+'on',0x83e+0x1*0x1df0+-0x262e),c(this,'_rollingFr'+'iction',-0x7*0x4d9+-0x1517*-0x1+-0xc*-0x112),c(this,'_simulatio'+'nEnabled',!(-0x2*0x62d+-0x1*0x1bbf+0x6af*0x6)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),Wn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy'](Wn),Vt=null,xe=null,gs=null,Wn=null;}set['angularDam'+'ping'](_0x13fa26){this['_angularDa'+'mping']!==_0x13fa26&&(this['_angularDa'+'mping']=_0x13fa26,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x13fa26));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x3a9fe5){this['_angularFa'+'ctor']['equals'](_0x3a9fe5)||(this['_angularFa'+'ctor']['copy'](_0x3a9fe5),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x3a9fe5['x'],_0x3a9fe5['y'],_0x3a9fe5['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x1f0707){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x1f0707['x'],_0x1f0707['y'],_0x1f0707['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x1f0707));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x52de4e=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x52de4e['x'](),_0x52de4e['y'](),_0x52de4e['z']());}return this['_angularVe'+'locity'];}set['body'](_0x224037){this['_body']!==_0x224037&&(this['_body']=_0x224037,_0x224037&&this['_simulatio'+'nEnabled']&&_0x224037['activate']());}get['body'](){return this['_body'];}set['friction'](_0x24689c){this['_friction']!==_0x24689c&&(this['_friction']=_0x24689c,this['_body']&&this['_body']['setFrictio'+'n'](_0x24689c));}get['friction'](){return this['_friction'];}set['group'](_0x13acac){this['_group']!==_0x13acac&&(this['_group']=_0x13acac,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x4bb11d){this['_linearDam'+'ping']!==_0x4bb11d&&(this['_linearDam'+'ping']=_0x4bb11d,this['_body']&&this['_body']['setDamping'](_0x4bb11d,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x499473){this['_linearFac'+'tor']['equals'](_0x499473)||(this['_linearFac'+'tor']['copy'](_0x499473),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x499473['x'],_0x499473['y'],_0x499473['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x1b4346){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x1b4346['x'],_0x1b4346['y'],_0x1b4346['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x1b4346));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x226064=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x226064['x'](),_0x226064['y'](),_0x226064['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x365ac4){this['_mask']!==_0x365ac4&&(this['_mask']=_0x365ac4,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x34e38c){if(this['_mass']!==_0x34e38c&&(this['_mass']=_0x34e38c,this['_body']&&this['_type']===ms)){const _0xf89d3=this['enabled']&&this['entity']['enabled'];_0xf89d3&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x34e38c,xe),this['_body']['setMassPro'+'ps'](_0x34e38c,xe),this['_body']['updateIner'+'tiaTensor'](),_0xf89d3&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x429b9b){this['_restituti'+'on']!==_0x429b9b&&(this['_restituti'+'on']=_0x429b9b,this['_body']&&this['_body']['setRestitu'+'tion'](_0x429b9b));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x4ba42d){this['_rollingFr'+'iction']!==_0x4ba42d&&(this['_rollingFr'+'iction']=_0x4ba42d,this['_body']&&this['_body']['setRolling'+'Friction'](_0x4ba42d));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x2967b8){if(this['_type']!==_0x2967b8){switch(this['_type']=_0x2967b8,this['disableSim'+'ulation'](),_0x2967b8){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x446d42=this['entity'];let _0xb0c926;if(_0x446d42['collision']&&(_0xb0c926=_0x446d42['collision']['shape'],_0x446d42['trigger']&&(_0x446d42['trigger']['destroy'](),delete _0x446d42['trigger'])),_0xb0c926){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x7324a3=this['_type']===ms?this['_mass']:-0x290+0x1*-0x15e7+-0x1877*-0x1;this['_getEntity'+'Transform'](Vt);const _0x1d7020=this['system']['createBody'](_0x7324a3,_0xb0c926,Vt);if(_0x1d7020['setRestitu'+'tion'](this['_restituti'+'on']),_0x1d7020['setFrictio'+'n'](this['_friction']),_0x1d7020['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x1d7020['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x3a20d7=this['_linearFac'+'tor'];xe['setValue'](_0x3a20d7['x'],_0x3a20d7['y'],_0x3a20d7['z']),_0x1d7020['setLinearF'+'actor'](xe);const _0x57551e=this['_angularFa'+'ctor'];xe['setValue'](_0x57551e['x'],_0x57551e['y'],_0x57551e['z']),_0x1d7020['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x1d7020['setCollisi'+'onFlags'](_0x1d7020['getCollisi'+'onFlags']()|eR),_0x1d7020['setActivat'+'ionState'](ag));_0x1d7020['entity']=_0x446d42,this['body']=_0x1d7020,this['enabled']&&_0x446d42['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x260f+-0x1*0x581+0x208d*-0x1);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x6542a0=this['entity'];if(_0x6542a0['collision']&&_0x6542a0['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x3bf972=this['_body'];if(_0x3bf972){switch(this['system']['addBody'](_0x3bf972,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x3bf972['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x3bf972['forceActiv'+'ationState'](ag);break;case so:_0x3bf972['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x6542a0['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x6542a0['collision']),_0x3bf972['activate'](),this['_simulatio'+'nEnabled']=!(0x104*-0xc+-0x3d7+0x1007*0x1);}}}['disableSim'+'ulation'](){const _0x564054=this['_body'];if(_0x564054&&this['_simulatio'+'nEnabled']){const _0x267c60=this['system'];let _0x288712=_0x267c60['_compounds']['indexOf'](this['entity']['collision']);_0x288712>-(-0x118d+-0x1192+0x2320)&&_0x267c60['_compounds']['splice'](_0x288712,-0xeaa+0x86*0x3b+-0x1037),_0x288712=_0x267c60['_dynamic']['indexOf'](this),_0x288712>-(-0x86a*0x4+-0x2197+0x434*0x10)&&_0x267c60['_dynamic']['splice'](_0x288712,0xc1*-0x15+0x1e0c+-0xe36),_0x288712=_0x267c60['_kinematic']['indexOf'](this),_0x288712>-(0x1*-0x925+-0x24f+0xb75)&&_0x267c60['_kinematic']['splice'](_0x288712,-0x10*-0x2c+0xa2*-0x6+0x10d),_0x267c60['removeBody'](_0x564054),_0x564054['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(0xb65*-0x1+0x1*0x2267+0x7ab*-0x3);}}['applyForce'](_0x1a7245,_0x702f03,_0x38aba4,_0x47b67b,_0x17cfaf,_0x14f9a0){const _0x122981=this['_body'];_0x122981&&(_0x122981['activate'](),_0x1a7245 instanceof T?xe['setValue'](_0x1a7245['x'],_0x1a7245['y'],_0x1a7245['z']):xe['setValue'](_0x1a7245,_0x702f03,_0x38aba4),_0x702f03 instanceof T?gs['setValue'](_0x702f03['x'],_0x702f03['y'],_0x702f03['z']):_0x47b67b!==void(-0x1006+0x1*0x4c1+-0x241*-0x5)?gs['setValue'](_0x47b67b,_0x17cfaf,_0x14f9a0):gs['setValue'](-0x659*-0x2+0x265b*-0x1+0x19a9,-0x4d*-0x44+-0xa7*-0xb+-0x1ba1,-0x2671+-0x1b4c+0x41bd*0x1),_0x122981['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x1b54e7,_0x2f28b7,_0xaf020a){const _0x426833=this['_body'];_0x426833&&(_0x426833['activate'](),_0x1b54e7 instanceof T?xe['setValue'](_0x1b54e7['x'],_0x1b54e7['y'],_0x1b54e7['z']):xe['setValue'](_0x1b54e7,_0x2f28b7,_0xaf020a),_0x426833['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x195325,_0x25587a,_0x3f6219,_0x5daeb7,_0x56f2a7,_0x3cc6c3){const _0x40ac1b=this['_body'];_0x40ac1b&&(_0x40ac1b['activate'](),_0x195325 instanceof T?xe['setValue'](_0x195325['x'],_0x195325['y'],_0x195325['z']):xe['setValue'](_0x195325,_0x25587a,_0x3f6219),_0x25587a instanceof T?gs['setValue'](_0x25587a['x'],_0x25587a['y'],_0x25587a['z']):_0x5daeb7!==void(-0x2352+-0x12d8+0x362a)?gs['setValue'](_0x5daeb7,_0x56f2a7,_0x3cc6c3):gs['setValue'](-0xb1+-0x22ea+0x239b,0x23f5+-0x1a6d+0x131*-0x8,0x1bd3*-0x1+0x5a6+0x162d),_0x40ac1b['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x289b49,_0x20a3de,_0x162311){const _0x5230c6=this['_body'];_0x5230c6&&(_0x5230c6['activate'](),_0x289b49 instanceof T?xe['setValue'](_0x289b49['x'],_0x289b49['y'],_0x289b49['z']):xe['setValue'](_0x289b49,_0x20a3de,_0x162311),_0x5230c6['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x54196d){const _0x74342e=this['entity'],_0x1e4edd=_0x74342e['collision'];if(_0x1e4edd){const _0x1500a6=_0x1e4edd['getShapePo'+'sition'](),_0x2525c8=_0x1e4edd['getShapeRo'+'tation']();xe['setValue'](_0x1500a6['x'],_0x1500a6['y'],_0x1500a6['z']),Wn['setValue'](_0x2525c8['x'],_0x2525c8['y'],_0x2525c8['z'],_0x2525c8['w']);}else{const _0x50c74f=_0x74342e['getPositio'+'n'](),_0x1c7b79=_0x74342e['getRotatio'+'n']();xe['setValue'](_0x50c74f['x'],_0x50c74f['y'],_0x50c74f['z']),Wn['setValue'](_0x1c7b79['x'],_0x1c7b79['y'],_0x1c7b79['z'],_0x1c7b79['w']);}_0x54196d['setOrigin'](xe),_0x54196d['setRotatio'+'n'](Wn);}['syncEntity'+'ToBody'](){const _0x4e8028=this['_body'];if(_0x4e8028){if(this['_getEntity'+'Transform'](Vt),_0x4e8028['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0xa5d54b=_0x4e8028['getMotionS'+'tate']();_0xa5d54b&&_0xa5d54b['setWorldTr'+'ansform'](Vt);}_0x4e8028['activate']();}}['_updateDyn'+'amic'](){const _0x214f72=this['_body'];if(_0x214f72['isActive']()){const _0x338f35=_0x214f72['getMotionS'+'tate']();if(_0x338f35){const _0x27e064=this['entity'];_0x338f35['getWorldTr'+'ansform'](Vt);const _0x17706b=Vt['getOrigin'](),_0x2539b0=Vt['getRotatio'+'n'](),_0x2d680c=_0x27e064['collision'];if(_0x2d680c&&_0x2d680c['_hasOffset']){const _0x820bc3=_0x2d680c['data']['linearOffs'+'et'],_0x45ba71=_0x2d680c['data']['angularOff'+'set'],_0x3c0841=mI['copy'](_0x45ba71)['invert'](),_0x5d4384=pI['set'](_0x2539b0['x'](),_0x2539b0['y'](),_0x2539b0['z'](),_0x2539b0['w']())['mul'](_0x3c0841);_0x5d4384['transformV'+'ector'](_0x820bc3,Ql),_0x27e064['setPositio'+'n'](_0x17706b['x']()-Ql['x'],_0x17706b['y']()-Ql['y'],_0x17706b['z']()-Ql['z']),_0x27e064['setRotatio'+'n'](_0x5d4384);}else _0x27e064['setPositio'+'n'](_0x17706b['x'](),_0x17706b['y'](),_0x17706b['z']()),_0x27e064['setRotatio'+'n'](_0x2539b0['x'](),_0x2539b0['y'](),_0x2539b0['z'](),_0x2539b0['w']());}}}['_updateKin'+'ematic'](){const _0x4ac6b3=this['_body']['getMotionS'+'tate']();_0x4ac6b3&&(this['_getEntity'+'Transform'](Vt),_0x4ac6b3['setWorldTr'+'ansform'](Vt));}['teleport'](_0xfe2777,_0x37effd,_0xc0d583,_0x1bcfb3,_0x2a17b1,_0x21f18a){_0xfe2777 instanceof T?this['entity']['setPositio'+'n'](_0xfe2777):this['entity']['setPositio'+'n'](_0xfe2777,_0x37effd,_0xc0d583),_0x37effd instanceof se?this['entity']['setRotatio'+'n'](_0x37effd):_0x37effd instanceof T?this['entity']['setEulerAn'+'gles'](_0x37effd):_0x1bcfb3!==void(-0x21da+-0x1*-0x1cd+0xf*0x223)&&this['entity']['setEulerAn'+'gles'](_0x1bcfb3,_0x2a17b1,_0x21f18a),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(-0x1b2b+0x1*-0x11fb+0x2d27));class _I{constructor(){this['enabled']=!(-0x8e2+-0x1*-0x401+-0x1*-0x4e1);}}let ai,oi;class xg{constructor(_0x542d14,_0x4f3039,_0x223cf3,_0x49d1ea){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x542d14,this['point']=_0x4f3039,this['normal']=_0x223cf3,this['hitFractio'+'n']=_0x49d1ea);}}class gI{constructor(_0x1cb721,_0x46cfb2,_0x132afc){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0x241b+0x12ff+-0x88e*-0x2?(this['a']=_0x1cb721,this['b']=_0x46cfb2,this['impulse']=_0x132afc['impulse'],this['localPoint'+'A']=_0x132afc['localPoint'],this['localPoint'+'B']=_0x132afc['localPoint'+'Other'],this['pointA']=_0x132afc['point'],this['pointB']=_0x132afc['pointOther'],this['normal']=_0x132afc['normal']):(this['a']=null,this['b']=null,this['impulse']=-0xc*0xbb+0xc16+-0x352,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0xcdf1c7=new T(),_0x11d82b=new T(),_0x1a09e5=new T(),_0x151b30=new T(),_0x1101ef=new T(),_0x167295=-0x1ead+-0xfbc+-0x1*-0x2e69){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0xcdf1c7,this['localPoint'+'Other']=_0x11d82b,this['point']=_0x1a09e5,this['pointOther']=_0x151b30,this['normal']=_0x1101ef,this['impulse']=_0x167295);}}class xI{constructor(_0x29ab12,_0x54678e){c(this,'other'),c(this,'contacts'),(this['other']=_0x29ab12,this['contacts']=_0x54678e);}}const px=['enabled'];class mx extends Xe{constructor(_0x55aa1c){super(_0x55aa1c),c(this,'maxSubStep'+'s',-0x9c5+0x183a+-0xe6b*0x1),c(this,'fixedTimeS'+'tep',(0xa31+-0xbf*0x18+-0x3dc*-0x2)/(0x242c+0x1442+-0x3832)),c(this,'gravity',new T(0x2*-0x6e2+0x1*0x10a9+-0x2e5,-(0x3*0x527+0x4a*-0x2+-0xbe*0x14+0.8100000000000005),0x1da3*0x1+0x1602+0x27*-0x153)),c(this,'_gravityFl'+'oat32',new Float32Array(0x1cf5+0x173b+0x2bf*-0x13)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x55aa1c['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x5c0a81=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x5c0a81);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,-0x1*0x2239+-0x1c*0x1e+-0x1*-0x2582),this['contactRes'+'ultPool']=new Zd(xI,-0x11c4+0x25d+0x74*0x22),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0xc29+-0x88e+-0x1a*-0xcc),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3c3800,_0x3cf717,_0x51a9c6){const _0x395141=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x260605 of _0x395141)if(_0x3cf717['hasOwnProp'+'erty'](_0x260605)){const _0x3741cc=_0x3cf717[_0x260605];Array['isArray'](_0x3741cc)?_0x3c3800[_0x260605]=new T(_0x3741cc[0x4*-0x4c6+-0x2*-0x16a+-0xc*-0x15b],_0x3741cc[0x534+0x86a+-0xd9d],_0x3741cc[0x1*-0x106f+-0xbd2+-0x5*-0x5a7]):_0x3c3800[_0x260605]=_0x3741cc;}super['initialize'+'ComponentD'+'ata'](_0x3c3800,_0x3cf717,['enabled']);}['cloneCompo'+'nent'](_0x87f5b4,_0x4ff184){const _0x475a67=_0x87f5b4['rigidbody'],_0x475b4a={'enabled':_0x475a67['enabled'],'mass':_0x475a67['mass'],'linearDamping':_0x475a67['linearDamp'+'ing'],'angularDamping':_0x475a67['angularDam'+'ping'],'linearFactor':[_0x475a67['linearFact'+'or']['x'],_0x475a67['linearFact'+'or']['y'],_0x475a67['linearFact'+'or']['z']],'angularFactor':[_0x475a67['angularFac'+'tor']['x'],_0x475a67['angularFac'+'tor']['y'],_0x475a67['angularFac'+'tor']['z']],'friction':_0x475a67['friction'],'rollingFriction':_0x475a67['rollingFri'+'ction'],'restitution':_0x475a67['restitutio'+'n'],'type':_0x475a67['type'],'group':_0x475a67['group'],'mask':_0x475a67['mask']};return this['addCompone'+'nt'](_0x4ff184,_0x475b4a);}['onBeforeRe'+'move'](_0x4085e7,_0x57c14b){_0x57c14b['enabled']&&(_0x57c14b['enabled']=!(0x1b21*-0x1+0x2573*-0x1+0x1587*0x3)),_0x57c14b['body']&&(this['destroyBod'+'y'](_0x57c14b['body']),_0x57c14b['body']=null);}['addBody'](_0x154841,_0x116676,_0x27e222){_0x116676!==void(0x1f*-0x124+-0x2d*-0x23+0x1d35)&&_0x27e222!==void(0x30b+-0x7*0x5e+-0x1*0x79)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x154841,_0x116676,_0x27e222):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x154841);}['removeBody'](_0x177179){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x177179);}['createBody'](_0x93baff,_0x410a1f,_0x44a7fc){const _0x4b65f1=new Ammo['btVector3'](-0x70d*0x4+-0x164+-0x1*-0x1d98,-0x11a9+-0x1387*-0x2+-0x1565,-0x3*0x6dd+-0x6*0x339+-0x3*-0xd4f);_0x93baff!==-0x4ac+0x152a+-0x107e&&_0x410a1f['calculateL'+'ocalInerti'+'a'](_0x93baff,_0x4b65f1);const _0x4df789=new Ammo['btDefaultM'+'otionState'](_0x44a7fc),_0x3337df=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x93baff,_0x4df789,_0x410a1f,_0x4b65f1),_0x5bca1c=new Ammo['btRigidBod'+'y'](_0x3337df);return Ammo['destroy'](_0x3337df),Ammo['destroy'](_0x4b65f1),_0x5bca1c;}['destroyBod'+'y'](_0x3bb1f0){const _0x1e5325=_0x3bb1f0['getMotionS'+'tate']();_0x1e5325&&Ammo['destroy'](_0x1e5325),Ammo['destroy'](_0x3bb1f0);}['raycastFir'+'st'](_0x1f7608,_0x3b2dd2,_0x215763={}){if(_0x215763['filterTags']||_0x215763['filterCall'+'back'])return _0x215763['sort']=!(-0x1*0xe93+-0x27e+0x1111*0x1),this['raycastAll'](_0x1f7608,_0x3b2dd2,_0x215763)[-0xc8f+-0xe*-0x26a+0x153d*-0x1]||null;let _0x4a0daa=null;ai['setValue'](_0x1f7608['x'],_0x1f7608['y'],_0x1f7608['z']),oi['setValue'](_0x3b2dd2['x'],_0x3b2dd2['y'],_0x3b2dd2['z']);const _0x1db2ac=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x215763['filterColl'+'isionGroup']=='number'&&_0x1db2ac['set_m_coll'+'isionFilte'+'rGroup'](_0x215763['filterColl'+'isionGroup']),typeof _0x215763['filterColl'+'isionMask']=='number'&&_0x1db2ac['set_m_coll'+'isionFilte'+'rMask'](_0x215763['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x1db2ac),_0x1db2ac['hasHit']()){const _0x5407f4=_0x1db2ac['get_m_coll'+'isionObjec'+'t'](),_0x239385=Ammo['castObject'](_0x5407f4,Ammo['btRigidBod'+'y']);if(_0x239385){const _0x453d36=_0x1db2ac['get_m_hitP'+'ointWorld'](),_0x4f4508=_0x1db2ac['get_m_hitN'+'ormalWorld']();_0x4a0daa=new xg(_0x239385['entity'],new T(_0x453d36['x'](),_0x453d36['y'](),_0x453d36['z']()),new T(_0x4f4508['x'](),_0x4f4508['y'](),_0x4f4508['z']()),_0x1db2ac['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x1db2ac),_0x4a0daa;}['raycastAll'](_0x53372b,_0x289edb,_0x379e98={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x1bca44=[];ai['setValue'](_0x53372b['x'],_0x53372b['y'],_0x53372b['z']),oi['setValue'](_0x289edb['x'],_0x289edb['y'],_0x289edb['z']);const _0x2249ac=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x379e98['filterColl'+'isionGroup']=='number'&&_0x2249ac['set_m_coll'+'isionFilte'+'rGroup'](_0x379e98['filterColl'+'isionGroup']),typeof _0x379e98['filterColl'+'isionMask']=='number'&&_0x2249ac['set_m_coll'+'isionFilte'+'rMask'](_0x379e98['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x2249ac),_0x2249ac['hasHit']()){const _0x538b51=_0x2249ac['get_m_coll'+'isionObjec'+'ts'](),_0x18afbf=_0x2249ac['get_m_hitP'+'ointWorld'](),_0x4c1577=_0x2249ac['get_m_hitN'+'ormalWorld'](),_0x41123b=_0x2249ac['get_m_hitF'+'ractions'](),_0x3aaa3a=_0x538b51['size']();for(let _0x42f5a6=-0x8*0x27a+-0x1a04+0x2*0x16ea;_0x42f5a6<_0x3aaa3a;_0x42f5a6++){const _0x31c236=Ammo['castObject'](_0x538b51['at'](_0x42f5a6),Ammo['btRigidBod'+'y']);if(_0x31c236&&_0x31c236['entity']){if(_0x379e98['filterTags']&&!_0x31c236['entity']['tags']['has'](..._0x379e98['filterTags'])||_0x379e98['filterCall'+'back']&&!_0x379e98['filterCall'+'back'](_0x31c236['entity']))continue;const _0x25f55c=_0x18afbf['at'](_0x42f5a6),_0x3b8156=_0x4c1577['at'](_0x42f5a6),_0x42d28f=new xg(_0x31c236['entity'],new T(_0x25f55c['x'](),_0x25f55c['y'](),_0x25f55c['z']()),new T(_0x3b8156['x'](),_0x3b8156['y'](),_0x3b8156['z']()),_0x41123b['at'](_0x42f5a6));_0x1bca44['push'](_0x42d28f);}}_0x379e98['sort']&&_0x1bca44['sort']((_0x2fe1e2,_0x631d5d)=>_0x2fe1e2['hitFractio'+'n']-_0x631d5d['hitFractio'+'n']);}return Ammo['destroy'](_0x2249ac),_0x1bca44;}['_storeColl'+'ision'](_0x20fd02,_0x90a45d){let _0x316dbb=!(0x15*-0x138+-0x258d*-0x1+0x6*-0x1fe);const _0x1cab89=_0x20fd02['getGuid']();return this['collisions'][_0x1cab89]=this['collisions'][_0x1cab89]||{'others':[],'entity':_0x20fd02},this['collisions'][_0x1cab89]['others']['indexOf'](_0x90a45d)<-0x21d8+-0x4*0x713+0x3e24&&(this['collisions'][_0x1cab89]['others']['push'](_0x90a45d),_0x316dbb=!(0x4*-0x28d+0xc92+0x3*-0xca)),this['frameColli'+'sions'][_0x1cab89]=this['frameColli'+'sions'][_0x1cab89]||{'others':[],'entity':_0x20fd02},this['frameColli'+'sions'][_0x1cab89]['others']['push'](_0x90a45d),_0x316dbb;}['_createCon'+'tactPointF'+'romAmmo'](_0x5e8718){const _0x14757b=_0x5e8718['get_m_loca'+'lPointA'](),_0x4303f7=_0x5e8718['get_m_loca'+'lPointB'](),_0x3adaa5=_0x5e8718['getPositio'+'nWorldOnA'](),_0x583c46=_0x5e8718['getPositio'+'nWorldOnB'](),_0x384173=_0x5e8718['get_m_norm'+'alWorldOnB'](),_0x4d2cd0=this['contactPoi'+'ntPool']['allocate']();return _0x4d2cd0['localPoint']['set'](_0x14757b['x'](),_0x14757b['y'](),_0x14757b['z']()),_0x4d2cd0['localPoint'+'Other']['set'](_0x4303f7['x'](),_0x4303f7['y'](),_0x4303f7['z']()),_0x4d2cd0['point']['set'](_0x3adaa5['x'](),_0x3adaa5['y'](),_0x3adaa5['z']()),_0x4d2cd0['pointOther']['set'](_0x583c46['x'](),_0x583c46['y'](),_0x583c46['z']()),_0x4d2cd0['normal']['set'](_0x384173['x'](),_0x384173['y'](),_0x384173['z']()),_0x4d2cd0['impulse']=_0x5e8718['getApplied'+'Impulse'](),_0x4d2cd0;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x1dfbcf){const _0x5b124b=_0x1dfbcf['get_m_loca'+'lPointA'](),_0x209cfc=_0x1dfbcf['get_m_loca'+'lPointB'](),_0x1e0de3=_0x1dfbcf['getPositio'+'nWorldOnA'](),_0x4624f7=_0x1dfbcf['getPositio'+'nWorldOnB'](),_0x2d854b=_0x1dfbcf['get_m_norm'+'alWorldOnB'](),_0x639a8a=this['contactPoi'+'ntPool']['allocate']();return _0x639a8a['localPoint'+'Other']['set'](_0x5b124b['x'](),_0x5b124b['y'](),_0x5b124b['z']()),_0x639a8a['localPoint']['set'](_0x209cfc['x'](),_0x209cfc['y'](),_0x209cfc['z']()),_0x639a8a['pointOther']['set'](_0x1e0de3['x'](),_0x1e0de3['y'](),_0x1e0de3['z']()),_0x639a8a['point']['set'](_0x4624f7['x'](),_0x4624f7['y'](),_0x4624f7['z']()),_0x639a8a['normal']['set'](_0x2d854b['x'](),_0x2d854b['y'](),_0x2d854b['z']()),_0x639a8a['impulse']=_0x1dfbcf['getApplied'+'Impulse'](),_0x639a8a;}['_createSin'+'gleContact'+'Result'](_0x193451,_0x130e6c,_0xc4b63e){const _0x2aff3c=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x2aff3c['a']=_0x193451,_0x2aff3c['b']=_0x130e6c,_0x2aff3c['localPoint'+'A']=_0xc4b63e['localPoint'],_0x2aff3c['localPoint'+'B']=_0xc4b63e['localPoint'+'Other'],_0x2aff3c['pointA']=_0xc4b63e['point'],_0x2aff3c['pointB']=_0xc4b63e['pointOther'],_0x2aff3c['normal']=_0xc4b63e['normal'],_0x2aff3c['impulse']=_0xc4b63e['impulse'],_0x2aff3c;}['_createCon'+'tactResult'](_0x47a1ec,_0x55f3e1){const _0xf81559=this['contactRes'+'ultPool']['allocate']();return _0xf81559['other']=_0x47a1ec,_0xf81559['contacts']=_0x55f3e1,_0xf81559;}['_cleanOldC'+'ollisions'](){for(const _0x269d98 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x269d98)){const _0x1ae732=this['frameColli'+'sions'][_0x269d98],_0xe9739d=this['collisions'][_0x269d98],_0x29317a=_0xe9739d['entity'],_0x367c05=_0x29317a['collision'],_0x4f0d2f=_0x29317a['rigidbody'],_0x1b1377=_0xe9739d['others'];let _0x4f9c21=_0x1b1377['length'];for(;_0x4f9c21--;){const _0x56e703=_0x1b1377[_0x4f9c21];(!_0x1ae732||_0x1ae732['others']['indexOf'](_0x56e703)<0x12bf*0x1+0xe8e+0x113*-0x1f)&&(_0x1b1377['splice'](_0x4f9c21,-0x10da+-0x1*-0xfbd+0x11e*0x1),_0x29317a['trigger']?(_0x367c05&&_0x367c05['fire']('triggerlea'+'ve',_0x56e703),_0x56e703['rigidbody']&&_0x56e703['rigidbody']['fire']('triggerlea'+'ve',_0x29317a)):_0x56e703['trigger']||(_0x4f0d2f&&_0x4f0d2f['fire']('collisione'+'nd',_0x56e703),_0x367c05&&_0x367c05['fire']('collisione'+'nd',_0x56e703)));}_0x1b1377['length']===-0x2*0x1352+0x68*-0x49+0x444c&&delete this['collisions'][_0x269d98];}}['_hasContac'+'tEvent'](_0x1b2d31){const _0x46896f=_0x1b2d31['collision'];if(_0x46896f&&(_0x46896f['hasEvent']('collisions'+'tart')||_0x46896f['hasEvent']('collisione'+'nd')||_0x46896f['hasEvent']('contact')))return!(0x133*-0x4+0x2*-0x886+0x15d8);const _0x6f9c06=_0x1b2d31['rigidbody'];return _0x6f9c06&&(_0x6f9c06['hasEvent']('collisions'+'tart')||_0x6f9c06['hasEvent']('collisione'+'nd')||_0x6f9c06['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x16e2a3,_0x2f810f){const _0x1b614a=Ammo['wrapPointe'+'r'](_0x16e2a3,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x3f0fbc=_0x1b614a['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x55aa13=0x16b*-0xb+0x883+0x716;_0x55aa13<_0x3f0fbc;_0x55aa13++){const _0x28279b=_0x1b614a['getManifol'+'dByIndexIn'+'ternal'](_0x55aa13),_0x41c7c0=_0x28279b['getBody0'](),_0x29fabf=_0x28279b['getBody1'](),_0x193bf1=Ammo['castObject'](_0x41c7c0,Ammo['btRigidBod'+'y']),_0x41dac7=Ammo['castObject'](_0x29fabf,Ammo['btRigidBod'+'y']),_0x375ef6=_0x193bf1['entity'],_0x57b470=_0x41dac7['entity'];if(!_0x375ef6||!_0x57b470)continue;const _0x4cb8a5=_0x193bf1['getCollisi'+'onFlags'](),_0x4f504c=_0x41dac7['getCollisi'+'onFlags'](),_0x15f688=_0x28279b['getNumCont'+'acts'](),_0x11034b=[],_0x5ecfcb=[];let _0x3fed1d;if(_0x15f688>-0x2*-0xffb+0xb36+0xe64*-0x3){if(_0x4cb8a5&lo||_0x4f504c&lo){const _0x1c823d=_0x375ef6['collision']&&(_0x375ef6['collision']['hasEvent']('triggerent'+'er')||_0x375ef6['collision']['hasEvent']('triggerlea'+'ve')),_0x3a16a6=_0x57b470['collision']&&(_0x57b470['collision']['hasEvent']('triggerent'+'er')||_0x57b470['collision']['hasEvent']('triggerlea'+'ve')),_0x48befa=_0x375ef6['rigidbody']&&(_0x375ef6['rigidbody']['hasEvent']('triggerent'+'er')||_0x375ef6['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x5515a=_0x57b470['rigidbody']&&(_0x57b470['rigidbody']['hasEvent']('triggerent'+'er')||_0x57b470['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x1c823d&&(_0x3fed1d=this['_storeColl'+'ision'](_0x375ef6,_0x57b470),_0x3fed1d&&!(_0x4f504c&lo)&&_0x375ef6['collision']['fire']('triggerent'+'er',_0x57b470)),_0x3a16a6&&(_0x3fed1d=this['_storeColl'+'ision'](_0x57b470,_0x375ef6),_0x3fed1d&&!(_0x4cb8a5&lo)&&_0x57b470['collision']['fire']('triggerent'+'er',_0x375ef6)),_0x48befa&&(_0x3fed1d||(_0x3fed1d=this['_storeColl'+'ision'](_0x57b470,_0x375ef6)),_0x3fed1d&&_0x375ef6['rigidbody']['fire']('triggerent'+'er',_0x57b470)),_0x5515a&&(_0x3fed1d||(_0x3fed1d=this['_storeColl'+'ision'](_0x375ef6,_0x57b470)),_0x3fed1d&&_0x57b470['rigidbody']['fire']('triggerent'+'er',_0x375ef6));}else{const _0x43e9c7=this['_hasContac'+'tEvent'](_0x375ef6),_0x292d0b=this['_hasContac'+'tEvent'](_0x57b470),_0x1e4508=this['hasEvent']('contact');if(_0x1e4508||_0x43e9c7||_0x292d0b){for(let _0x474bb5=-0x38c*0x9+0x2ca+0x1d22;_0x474bb5<_0x15f688;_0x474bb5++){const _0x590f2c=_0x28279b['getContact'+'Point'](_0x474bb5),_0x3fa486=this['_createCon'+'tactPointF'+'romAmmo'](_0x590f2c);if(_0x43e9c7||_0x292d0b){_0x11034b['push'](_0x3fa486);const _0x35a0e9=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x590f2c);_0x5ecfcb['push'](_0x35a0e9);}if(_0x1e4508){const _0x4a2c1e=this['_createSin'+'gleContact'+'Result'](_0x375ef6,_0x57b470,_0x3fa486);this['fire']('contact',_0x4a2c1e);}}if(_0x43e9c7){const _0x1ccac8=this['_createCon'+'tactResult'](_0x57b470,_0x11034b);_0x3fed1d=this['_storeColl'+'ision'](_0x375ef6,_0x57b470),_0x375ef6['collision']&&(_0x375ef6['collision']['fire']('contact',_0x1ccac8),_0x3fed1d&&_0x375ef6['collision']['fire']('collisions'+'tart',_0x1ccac8)),_0x375ef6['rigidbody']&&(_0x375ef6['rigidbody']['fire']('contact',_0x1ccac8),_0x3fed1d&&_0x375ef6['rigidbody']['fire']('collisions'+'tart',_0x1ccac8));}if(_0x292d0b){const _0x3b7e4f=this['_createCon'+'tactResult'](_0x375ef6,_0x5ecfcb);_0x3fed1d=this['_storeColl'+'ision'](_0x57b470,_0x375ef6),_0x57b470['collision']&&(_0x57b470['collision']['fire']('contact',_0x3b7e4f),_0x3fed1d&&_0x57b470['collision']['fire']('collisions'+'tart',_0x3b7e4f)),_0x57b470['rigidbody']&&(_0x57b470['rigidbody']['fire']('contact',_0x3b7e4f),_0x3fed1d&&_0x57b470['rigidbody']['fire']('collisions'+'tart',_0x3b7e4f));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x16c6fa){let _0x1cd08c,_0x4319a7;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][0x1438+-0x43a+-0xffe]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x5f8+-0x5b6+0xbaf]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x2054+0x196*-0xd+-0x2*0x5da]=this['gravity']['z'];const _0x23e594=this['dynamicsWo'+'rld']['getGravity']();(_0x23e594['x']()!==this['_gravityFl'+'oat32'][0x14ef+-0x16d3+0x1e4]||_0x23e594['y']()!==this['_gravityFl'+'oat32'][0x1ef3+0xca3*-0x1+-0x2b*0x6d]||_0x23e594['z']()!==this['_gravityFl'+'oat32'][0xcaa*-0x1+0x1ef1+-0x1*0x1245])&&(_0x23e594['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x23e594));const _0x50b329=this['_triggers'];for(_0x1cd08c=0x8d*-0x1+0x2*0xa7b+0x1db*-0xb,_0x4319a7=_0x50b329['length'];_0x1cd08c<_0x4319a7;_0x1cd08c++)_0x50b329[_0x1cd08c]['updateTran'+'sform']();const _0x5aecd5=this['_compounds'];for(_0x1cd08c=-0x2b*0xbc+0x10ed*0x1+0x1*0xea7,_0x4319a7=_0x5aecd5['length'];_0x1cd08c<_0x4319a7;_0x1cd08c++)_0x5aecd5[_0x1cd08c]['_updateCom'+'pound']();const _0x3783be=this['_kinematic'];for(_0x1cd08c=-0x1d21+0x1cd8+0x49,_0x4319a7=_0x3783be['length'];_0x1cd08c<_0x4319a7;_0x1cd08c++)_0x3783be[_0x1cd08c]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x16c6fa,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x2e3ac7=this['_dynamic'];for(_0x1cd08c=-0x16f*0x19+-0x29*0x36+0x2c7d,_0x4319a7=_0x2e3ac7['length'];_0x1cd08c<_0x4319a7;_0x1cd08c++)_0x2e3ac7[_0x1cd08c]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x16c6fa),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const $n='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x125258,_0x4e41d1){super(_0x125258,_0x4e41d1),this['_resolutio'+'n']=new W(-0x2*0xf3d+-0x9e7*0x3+0x3eaf,0x227b+0x41+0x2*-0x10be),this['_reference'+'Resolution']=new W(-0x25e0+-0x3ec*-0x2+0x1044*0x2,-0xee1+0x3*0x2d1+0x3d7*0x2),this['_scaleMode']=$n,this['scale']=0x7b9+0x3*0x699+-0x1b83,this['_scaleBlen'+'d']=-0x2705+0x7*-0x1a3+-0x1*-0x327a+0.5,this['_priority']=0x1bd+0x2bb+-0x478,this['_screenSpa'+'ce']=!(0x571*-0x7+0x4b*0x2+0x2*0x12c1),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x125258['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x51ff04,_0x5a941a){var _0x232a2e;if(!(_0x51ff04 instanceof We))return _0x5a941a;if(_0x51ff04['element']){const _0x40771d=_0x51ff04['element']['drawOrder'];_0x51ff04['element']['drawOrder']=_0x5a941a++,_0x51ff04['element']['_batchGrou'+'pId']>=0x1*0x244f+-0x7*0x4c1+-0x308&&_0x40771d!==_0x51ff04['element']['drawOrder']&&((_0x232a2e=this['system']['app']['batcher'])==null||_0x232a2e['markGroupD'+'irty'](_0x51ff04['element']['_batchGrou'+'pId']));}_0x51ff04['particlesy'+'stem']&&(_0x51ff04['particlesy'+'stem']['drawOrder']=_0x5a941a++);const _0x2f86f5=_0x51ff04['children'];for(let _0x3e4b1e=-0x1*-0x245b+0x1339*0x2+0x1eb*-0x27;_0x3e4b1e<_0x2f86f5['length'];_0x3e4b1e++)_0x5a941a=this['_recurseDr'+'awOrderSyn'+'c'](_0x2f86f5[_0x3e4b1e],_0x5a941a);return _0x5a941a;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x64d*-0x1+0x1c69*-0x1+0x22b7),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x56074d=this['_resolutio'+'n']['x']/this['scale'],_0x11dcdf=this['_resolutio'+'n']['y']/this['scale'],_0x5e6a59=0x9ee+0x1e04+-0x27f2,_0x530796=_0x56074d,_0x2c7fed=-_0x11dcdf;this['_screenMat'+'rix']['setOrtho'](_0x5e6a59,_0x530796,_0x2c7fed,-0x3e6*-0x2+-0x3*0x46+-0x6fa,0x7b5+-0x100+-0x6b4,-(0x1026+0x24c5+-0x412*0xd)),this['_screenSpa'+'ce']||(Sg['setScale']((-0x1*-0xdd+-0xd29+0x1*0xc4c+0.5)*_0x56074d,(0x2*0x4b2+0x1c*0x73+-0x57e*0x4+0.5)*_0x11dcdf,0xa7f*-0x1+-0x15d7*-0x1+-0xb57),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x12f43a,_0xc94539){const _0x5c1319=Math['log2']((_0x12f43a['x']||0x1*-0x26ef+-0xdd+0x27cd)/_0xc94539['x']),_0x3ac2b4=Math['log2']((_0x12f43a['y']||0x242+0x155b+-0x2*0xbce)/_0xc94539['y']);return Math['pow'](-0x949+0x6cd*0x5+-0x18b6,_0x5c1319*(0xfdc*-0x1+-0xe8d+0x1e6a-this['_scaleBlen'+'d'])+_0x3ac2b4*this['_scaleBlen'+'d']);}['_onResize'](_0x245277,_0x512107){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x245277,_0x512107),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0xecae1){this['_elements']['add'](_0xecae1);}['_unbindEle'+'ment'](_0x5d8db3){this['_elements']['delete'](_0x5d8db3);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x4fcd75=>_0x4fcd75['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x1e3fd6){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x1e3fd6['x'],_0x1e3fd6['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x1f84ab=>_0x1f84ab['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x4c73c0){this['_reference'+'Resolution']['set'](_0x4c73c0['x'],_0x4c73c0['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x25609f=>_0x25609f['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===$n?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x1eade7){this['_screenSpa'+'ce']=_0x1eade7,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x320985=>_0x320985['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x20b52c){_0x20b52c!==$n&&_0x20b52c!==SI&&(_0x20b52c=$n),!this['_screenSpa'+'ce']&&_0x20b52c!==$n&&(_0x20b52c=$n),this['_scaleMode']=_0x20b52c,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x24ea62){this['_scaleBlen'+'d']=_0x24ea62,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x89871e=>_0x89871e['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x2c9dac){_0x2c9dac>0x2588+-0x11*-0x2f+-0x9*0x468&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x2c9dac+'\x20to\x20255'),_0x2c9dac=-0x1d8f+0x1782+-0x1c3*-0x4),this['_priority']!==_0x2c9dac&&(this['_priority']=_0x2c9dac,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0x4e*-0x1e+-0x2b*0xc+-0x26*0x30);}}const mf=['enabled'];class bI extends Xe{constructor(_0x5ac331){super(_0x5ac331),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4b5e18,_0x2e634f,_0x1816cd){_0x2e634f['priority']!==void(0x2569+-0xc6*-0x2f+-0x335*0x17)&&(_0x4b5e18['priority']=_0x2e634f['priority']),_0x2e634f['screenSpac'+'e']!==void(-0x3*0x959+0x463*0x1+0x17a8)&&(_0x4b5e18['screenSpac'+'e']=_0x2e634f['screenSpac'+'e']),_0x4b5e18['cull']=_0x4b5e18['screenSpac'+'e'],_0x2e634f['scaleMode']!==void(-0x9*0xc7+-0x1*-0x169d+0xf9e*-0x1)&&(_0x4b5e18['scaleMode']=_0x2e634f['scaleMode']),_0x2e634f['scaleBlend']!==void(0x4*0x2+0x15ed+-0x15f5)&&(_0x4b5e18['scaleBlend']=_0x2e634f['scaleBlend']),_0x2e634f['resolution']!==void(0x224e+0xc97+-0x2ee5)&&(_0x2e634f['resolution']instanceof W?_0x4b5e18['_resolutio'+'n']['copy'](_0x2e634f['resolution']):_0x4b5e18['_resolutio'+'n']['set'](_0x2e634f['resolution'][0x1b38+-0x161c+-0x4*0x147],_0x2e634f['resolution'][-0x1039+0x240e*0x1+0xbc*-0x1b]),_0x4b5e18['resolution']=_0x4b5e18['_resolutio'+'n']),_0x2e634f['referenceR'+'esolution']!==void(0x1a3d+0x1d1e+0x17f*-0x25)&&(_0x2e634f['referenceR'+'esolution']instanceof W?_0x4b5e18['_reference'+'Resolution']['copy'](_0x2e634f['referenceR'+'esolution']):_0x4b5e18['_reference'+'Resolution']['set'](_0x2e634f['referenceR'+'esolution'][0x1*-0x1277+0x1*0x15df+-0x1*0x368],_0x2e634f['referenceR'+'esolution'][0x22b*-0x9+-0xf3e+0x22c2]),_0x4b5e18['referenceR'+'esolution']=_0x4b5e18['_reference'+'Resolution']),_0x4b5e18['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x4b5e18,_0x2e634f,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x288a29){const _0x22ace2=this['store'];for(const _0x149a81 in _0x22ace2)_0x22ace2[_0x149a81]['entity']['screen']['update']&&_0x22ace2[_0x149a81]['entity']['screen']['update'](_0x288a29);}['_onResize'](_0xd21c82,_0x2f80e1){this['windowReso'+'lution']['x']=_0xd21c82,this['windowReso'+'lution']['y']=_0x2f80e1;}['cloneCompo'+'nent'](_0x3eed7f,_0x2e0469){const _0x2292a2=_0x3eed7f['screen'];return this['addCompone'+'nt'](_0x2e0469,{'enabled':_0x2292a2['enabled'],'screenSpace':_0x2292a2['screenSpac'+'e'],'scaleMode':_0x2292a2['scaleMode'],'resolution':_0x2292a2['resolution']['clone'](),'referenceResolution':_0x2292a2['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x11ca09,_0x5e49e8){_0x5e49e8['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x559d8d=this['_drawOrder'+'SyncQueue']['list']();for(let _0x6b080f=-0xebd+0x2335+-0xa*0x20c;_0x6b080f<_0x559d8d['length'];_0x6b080f++){const _0x35f059=_0x559d8d[_0x6b080f];_0x35f059['callback']['call'](_0x35f059['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x28237d,_0x4b009e,_0x3a92c0){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x28237d)||this['_drawOrder'+'SyncQueue']['push'](_0x28237d,{'callback':_0x4b009e,'scope':_0x3a92c0});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new W(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x1c3c1d,_0x4c95dd){if(super(),!_0x1c3c1d||!(_0x1c3c1d instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x4c95dd&&_0x4c95dd!=='x'&&_0x4c95dd!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x4c95dd);this['_element']=_0x1c3c1d,this['_app']=_0x1c3c1d['system']['app'],this['_axis']=_0x4c95dd||null,this['_enabled']=!(-0x3*0x76b+0xbe5+0xa5c),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(-0x265e+-0x219d*-0x1+0x1*0x4c2),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x2ca900){this['_element'][_0x2ca900]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2ca900]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2ca900]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x367017){const _0x20d11d=_0x367017==='on';this['_hasDragLi'+'steners']&&_0x20d11d||(this['_app']['mouse']&&(this['_element'][_0x367017]('mousemove',this['_onMove'],this),this['_element'][_0x367017]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x367017]('touchmove',this['_onMove'],this),this['_element'][_0x367017]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x367017]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x367017]('selectmove',this['_onMove'],this),this['_element'][_0x367017]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x20d11d);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x252f76){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x252f76['camera'],this['_calculate'+'DragScale']();const _0x56c45a=this['_screenToL'+'ocal'](_0x252f76);_0x56c45a&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x215+0x17+-0x22*-0xf),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x56c45a),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x1673+-0x1281+-0x3f1),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x5a180e){return _0x5a180e['inputSourc'+'e']?Pr['set'](_0x5a180e['inputSourc'+'e']['getOrigin'](),_0x5a180e['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x5a180e),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x2e1*0xd+-0x383+0x28f1)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x454308){const _0x4cf8e9=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x454308['x']<'u'&&typeof _0x454308['y']<'u'?(qi['x']=_0x454308['x']*_0x4cf8e9,qi['y']=_0x454308['y']*_0x4cf8e9):_0x454308['changedTou'+'ches']?(qi['x']=_0x454308['changedTou'+'ches'][0x137+0x1*0x2ba+-0x3f1]['x']*_0x4cf8e9,qi['y']=_0x454308['changedTou'+'ches'][-0x103+-0x55f*0x1+-0x13*-0x56]['y']*_0x4cf8e9):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],0x2a7+0x1aa9+0x7*-0x430),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0x6*-0x5bf+-0x5f*0x26+-0x5*0x413)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x1174c3=this['_element']['entity']['parent'];const _0x4be69c=this['_element']['screen']&&this['_element']['screen']['screen'],_0x1f8340=_0x4be69c&&_0x4be69c['screenSpac'+'e'],_0x2ed2a2=_0x1f8340?_0x4be69c['scale']:-0x1efa+-0x1637+0x3532,_0x35ee7d=this['_dragScale'];for(_0x35ee7d['set'](_0x2ed2a2,_0x2ed2a2,_0x2ed2a2);_0x1174c3&&(_0x35ee7d['mul'](_0x1174c3['getLocalSc'+'ale']()),_0x1174c3=_0x1174c3['parent'],!(_0x1f8340&&_0x1174c3['screen'])););_0x35ee7d['x']=(0xcc0+0x1355*0x1+-0x2014*0x1)/_0x35ee7d['x'],_0x35ee7d['y']=(-0x47b*-0x5+-0x4da+-0x118c)/_0x35ee7d['y'],_0x35ee7d['z']=0x1ab*-0xd+-0x2*0x110+-0x17*-0x109;}['_onMove'](_0x3d44fc){const {_element:_0x1e2bf1,_deltaMousePosition:_0x36ba47,_deltaHandlePosition:_0x3156b2,_axis:_0x3f8041}=this;if(_0x1e2bf1&&this['_isDraggin'+'g']&&this['enabled']&&_0x1e2bf1['enabled']&&_0x1e2bf1['entity']['enabled']){const _0x3cc15d=this['_screenToL'+'ocal'](_0x3d44fc);if(_0x3cc15d){if(_0x36ba47['sub2'](_0x3cc15d,this['_dragStart'+'MousePosit'+'ion']),_0x3156b2['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x36ba47),_0x3f8041){const _0x19da32=_0x1e2bf1['entity']['getLocalPo'+'sition'](),_0x4e074a=TI[_0x3f8041];_0x3156b2[_0x4e074a]=_0x19da32[_0x4e074a];}_0x1e2bf1['entity']['setLocalPo'+'sition'](_0x3156b2),this['fire']('drag:move',_0x3156b2);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x3d9d57){this['_enabled']=_0x3d9d57;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x2404+-0x24b1+0x48b5*0x1,Tg=-0x507+-0x13ec+0x18f4,EI=-0x25ca+-0x7*-0x263+-0x1517*-0x1,CI=-0x1*-0x250d+-0x11a*0x17+0xbb7*-0x1,MI=0x720+0xe2b+0x442*-0x5,ro=new W();class gx extends ue{constructor(_0x1bff17,_0x258d89){super(_0x1bff17,_0x258d89),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x6bd+-0x20af+-0x5b*-0x49),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x31a754=this['system']['store'][this['entity']['getGuid']()];return _0x31a754?_0x31a754['data']:null;}set['enabled'](_0x4ca7c5){this['_setValue']('enabled',_0x4ca7c5);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x32ef51){this['_setValue']('horizontal',_0x32ef51);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x3f7eba){this['_setValue']('vertical',_0x3f7eba);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x379f4f){this['_setValue']('scrollMode',_0x379f4f);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x19907e){this['_setValue']('bounceAmou'+'nt',_0x19907e);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x23ff8b){this['_setValue']('friction',_0x23ff8b);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x51091e){this['_setValue']('dragThresh'+'old',_0x51091e);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x45e103){this['_setValue']('useMouseWh'+'eel',_0x45e103);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x59e3c6){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x59e3c6);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x21508c){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x21508c);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x3325df){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x3325df);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x260ddc){if(this['_viewportE'+'ntity']===_0x260ddc)return;const _0x17dae1=typeof _0x260ddc=='string';this['_viewportE'+'ntity']&&_0x17dae1&&this['_viewportE'+'ntity']['getGuid']()===_0x260ddc||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x260ddc instanceof De?this['_viewportE'+'ntity']=_0x260ddc:_0x17dae1?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x260ddc)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x17dae1&&_0x260ddc&&(this['data']['viewportEn'+'tity']=_0x260ddc));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x5f1ee5){if(this['_contentEn'+'tity']===_0x5f1ee5)return;const _0x58622b=typeof _0x5f1ee5=='string';this['_contentEn'+'tity']&&_0x58622b&&this['_contentEn'+'tity']['getGuid']()===_0x5f1ee5||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x5f1ee5 instanceof De?this['_contentEn'+'tity']=_0x5f1ee5:_0x58622b?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x5f1ee5)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x58622b&&_0x5f1ee5&&(this['data']['contentEnt'+'ity']=_0x5f1ee5));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x2070b6){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x2070b6)return;const _0x150816=typeof _0x2070b6=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x150816&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x2070b6||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x2070b6 instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x2070b6:_0x150816?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x2070b6)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x150816&&_0x2070b6&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x2070b6));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x38969e){if(this['_verticalS'+'crollbarEn'+'tity']===_0x38969e)return;const _0x70206f=typeof _0x38969e=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x70206f&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x38969e||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x38969e instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x38969e:_0x70206f?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x38969e)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x70206f&&_0x38969e&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x38969e));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x118027){this['_onSetScro'+'ll'](_0x118027['x'],_0x118027['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x401a2d,_0x16d9e6){const _0x5ee0db=this['data'],_0x20f1fb=_0x5ee0db[_0x401a2d];_0x5ee0db[_0x401a2d]=_0x16d9e6,this['fire']('set',_0x401a2d,_0x20f1fb,_0x16d9e6);}['_toggleLif'+'ecycleList'+'eners'](_0x133fea){this[_0x133fea]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x133fea]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x133fea]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x5af2ad){if(this['entity']['element']){if(_0x5af2ad==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x5af2ad]('resize',this['_syncAll'],this),this['entity']['element'][_0x5af2ad](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x5af2ad==='on';}}['_onElement'+'ComponentA'+'dd'](_0x45eaaa){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x4c4ee6){var _0x426f79;(_0x426f79=this['_evtElemen'+'tRemove'])==null||_0x426f79['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x49d011,_0x3ee343;(_0x49d011=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x49d011['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x3ee343=this['_viewportE'+'ntity'])!=null&&_0x3ee343['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x4bd77e=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x4bd77e['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x4bd77e['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x29b0b2,_0x141907;(_0x29b0b2=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x29b0b2['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x141907=this['_evtViewpo'+'rtResize'])==null||_0x141907['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x4a9b0c,_0x53ccd9;(_0x4a9b0c=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x4a9b0c['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x53ccd9=this['_contentEn'+'tity'])!=null&&_0x53ccd9['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x1f83ca=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x1f83ca['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x1f83ca['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0xa28c0e,_0x1dabc8;(_0xa28c0e=this['_evtConten'+'tElementRe'+'move'])==null||_0xa28c0e['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x1dabc8=this['_evtConten'+'tResize'])==null||_0x1dabc8['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0xf57f62){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x26e5*0x1+0x1ec5*0x1+-0x10*-0x82),this['_setScroll'+'FromConten'+'tPosition'](_0xf57f62),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0xf57f62),!this['_disabledC'+'ontentInpu'+'t'])){const _0x3f5bcf=_0xf57f62['x']-this['_dragStart'+'Position']['x'],_0x19a812=_0xf57f62['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x3f5bcf)>this['dragThresh'+'old']||Math['abs'](_0x19a812)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0xaed400;(_0xaed400=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0xaed400['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0xf6a61;(_0xf6a61=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0xf6a61['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x3369ed){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x3369ed,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x1bcaef){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x1bcaef);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x5c8a45;const _0x115d62=(_0x5c8a45=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x6*0x60d+-0x2678+0x22a):_0x5c8a45['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x115d62['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x115d62['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x203c34;const _0x97abd6=(_0x203c34=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x16c1+-0xf7+0xae5*-0x2):_0x203c34['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x97abd6['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x97abd6['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x41538c,_0x4597be;(_0x41538c=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x41538c['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x4597be=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x4597be['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x52a4b3,_0x5a8c77;(_0x52a4b3=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x52a4b3['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x5a8c77=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x5a8c77['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x4612cc,_0x56f3cb,_0x3ed2b9){_0x3ed2b9!==!(-0x1a76+-0x43a+0xa3b*0x3)&&this['_velocity']['set'](-0x2417*-0x1+-0x101*-0x7+-0x2b1e,-0x2*0xc89+0x2a9*-0xa+0x2*0x19d6,-0x1f*0xa3+-0x16da+0x2a97*0x1);const _0x932606=this['_updateAxi'+'s'](_0x4612cc,'x',pe),_0x42ba1d=this['_updateAxi'+'s'](_0x56f3cb,'y',ke);(_0x932606||_0x42ba1d)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x4d99b8,_0x305e4d,_0x48312e){const _0xbb3a59=_0x4d99b8!==null&&Math['abs'](_0x4d99b8-this['_scroll'][_0x305e4d])>-0x3*-0x38c+0x1b5b+-0x25ff+0.00001;return(_0xbb3a59||this['_isDraggin'+'g']()||_0x4d99b8===-0x1711+-0x1756*0x1+-0x2e67*-0x1)&&(this['_scroll'][_0x305e4d]=this['_determine'+'NewScrollV'+'alue'](_0x4d99b8,_0x305e4d,_0x48312e),this['_syncConte'+'ntPosition'](_0x48312e),this['_syncScrol'+'lbarPositi'+'on'](_0x48312e)),_0xbb3a59;}['_determine'+'NewScrollV'+'alue'](_0x41109f,_0x376cb4,_0x41ba6b){if(!this['_getScroll'+'ingEnabled'](_0x41ba6b))return this['_scroll'][_0x376cb4];switch(this['scrollMode']){case AI:return N['clamp'](_0x41109f,0x76a+-0x1*-0x1d85+0x24ef*-0x1,this['_getMaxScr'+'ollValue'](_0x41ba6b));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x41109f,_0x376cb4,_0x41ba6b),_0x41109f;case EI:return _0x41109f;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x41109f;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x2b5efc){if(!this['_contentEn'+'tity'])return;const _0x4905d4=this['_getAxis'](_0x2b5efc),_0x4128f7=this['_getSign'](_0x2b5efc),_0x5ead6c=this['_prevConte'+'ntSizes'][_0x2b5efc],_0x268e9a=this['_getConten'+'tSize'](_0x2b5efc);if(_0x5ead6c!==null&&Math['abs'](_0x5ead6c-_0x268e9a)>-0x2253+-0x2206+0x4459*0x1+0.0001){const _0x563d62=this['_getMaxOff'+'set'](_0x2b5efc,_0x5ead6c),_0x56e0ca=this['_getMaxOff'+'set'](_0x2b5efc,_0x268e9a);_0x56e0ca===-0x959*0x3+0x873*0x1+-0x9cc*-0x2?this['_scroll'][_0x4905d4]=0x2*-0xb03+0x142*0x11+-0x1*-0xa5:this['_scroll'][_0x4905d4]=N['clamp'](this['_scroll'][_0x4905d4]*_0x563d62/_0x56e0ca,-0xf1a+-0x1fcb*0x1+0x2ee5*0x1,-0x24a8+0x1dfd+-0x1c*-0x3d);}const _0x1f412c=this['_scroll'][_0x4905d4]*this['_getMaxOff'+'set'](_0x2b5efc),_0x3b8d8c=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x3b8d8c[_0x4905d4]=_0x1f412c*_0x4128f7,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x3b8d8c),this['_prevConte'+'ntSizes'][_0x2b5efc]=_0x268e9a;}['_syncScrol'+'lbarPositi'+'on'](_0x2f07a8){const _0x2a628e=this['_scrollbar'+'Entities'][_0x2f07a8];if(!(_0x2a628e!=null&&_0x2a628e['scrollbar']))return;const _0x401235=this['_getAxis'](_0x2f07a8);this['_scrollbar'+'UpdateFlag'+'s'][_0x2f07a8]=!(-0x1b1*0x3+-0x2c5*0xe+0x2bd9*0x1),_0x2a628e['scrollbar']['value']=this['_scroll'][_0x401235],_0x2a628e['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x401235,_0x2f07a8),this['_scrollbar'+'UpdateFlag'+'s'][_0x2f07a8]=!(0x52f+0x1763+-0x1c91);}['_syncScrol'+'lbarEnable'+'dState'](_0x1fbfe1){const _0x4190d1=this['_scrollbar'+'Entities'][_0x1fbfe1];if(!_0x4190d1)return;const _0x108ae4=this['_getScroll'+'ingEnabled'](_0x1fbfe1),_0x58eb93=this['_getScroll'+'barVisibil'+'ity'](_0x1fbfe1);switch(_0x58eb93){case CI:_0x4190d1['enabled']=_0x108ae4;return;case MI:_0x4190d1['enabled']=_0x108ae4&&this['_contentIs'+'LargerThan'+'Viewport'](_0x1fbfe1);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x58eb93),_0x4190d1['enabled']=_0x108ae4;}}['_contentIs'+'LargerThan'+'Viewport'](_0x37bac5){return this['_getConten'+'tSize'](_0x37bac5)>this['_getViewpo'+'rtSize'](_0x37bac5);}['_contentPo'+'sitionToSc'+'rollValue'](_0xfc62e0){const _0x4af247=this['_getMaxOff'+'set'](pe),_0x103901=this['_getMaxOff'+'set'](ke);return _0x4af247===0x10c1*0x2+-0x160+-0x2022?ro['x']=-0x1*-0x244e+0x72*0x1b+-0x3054:ro['x']=_0xfc62e0['x']/_0x4af247,_0x103901===-0xd*-0x2ad+0x11de+0x3*-0x118d?ro['y']=0x707*0x5+0x2664+-0x4987:ro['y']=_0xfc62e0['y']/-_0x103901,ro;}['_getMaxOff'+'set'](_0x36a9f3,_0x43af09){_0x43af09=_0x43af09===void(-0x1338+-0x45a+0x1af*0xe)?this['_getConten'+'tSize'](_0x36a9f3):_0x43af09;const _0x54c3dc=this['_getViewpo'+'rtSize'](_0x36a9f3);return _0x43af09<_0x54c3dc?-this['_getViewpo'+'rtSize'](_0x36a9f3):_0x54c3dc-_0x43af09;}['_getMaxScr'+'ollValue'](_0x54a59b){return this['_contentIs'+'LargerThan'+'Viewport'](_0x54a59b)?-0x7*0xdf+0x40*-0x9b+-0x2cda*-0x1:0x448+0x15*0x19b+0x47*-0x89;}['_getScroll'+'barHandleS'+'ize'](_0xd7b314,_0x50b3b9){const _0x3b718e=this['_getViewpo'+'rtSize'](_0x50b3b9),_0x3fc832=this['_getConten'+'tSize'](_0x50b3b9);if(Math['abs'](_0x3fc832)<0x247c+-0x4a0+0x7f7*-0x4+0.001)return 0x1b83*0x1+0x1619*0x1+0xf9*-0x33;const _0x10b796=Math['min'](_0x3b718e/_0x3fc832,-0x1f8d+-0x5b*-0x9+0x1c5b*0x1),_0x291811=this['_toOversho'+'ot'](this['_scroll'][_0xd7b314],_0x50b3b9);return _0x291811===0x745*0x1+-0xfae+0x869*0x1?_0x10b796:_0x10b796/(-0x1d*0x43+0x23de+-0x1c46+Math['abs'](_0x291811));}['_getViewpo'+'rtSize'](_0x570d77){return this['_getSize'](_0x570d77,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x4c9d4c){return this['_getSize'](_0x4c9d4c,this['_contentEn'+'tity']);}['_getSize'](_0x53db49,_0x447bf9){return _0x447bf9!=null&&_0x447bf9['element']?_0x447bf9['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x53db49)]:0x15*0x197+0x13b3+0x2d*-0x12e;}['_getScroll'+'ingEnabled'](_0xd0cc91){if(_0xd0cc91===pe)return this['horizontal'];if(_0xd0cc91===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0xd0cc91);}['_getScroll'+'barVisibil'+'ity'](_0xe923d6){if(_0xe923d6===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0xe923d6===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0xe923d6);}['_getSign'](_0x4a06c9){return _0x4a06c9===pe?-0x26*0xb+0x1de6+-0x1c43:-(0x1*0x535+-0x24ac+0x1f78);}['_getAxis'](_0x4a120f){return _0x4a120f===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x206192){return _0x206192===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x3e*-0xa+-0x1c*-0x42+-0x2*0x266+0.0001||Math['abs'](this['_velocity']['y'])>-0x1049+0x1*0x466+0xbe3*0x1+0.0001){const _0x32cac3=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x32cac3['x']+=this['_velocity']['x'],_0x32cac3['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x32cac3),this['_setScroll'+'FromConten'+'tPosition'](_0x32cac3);}this['_velocity']['x']*=0x11c6+-0x21e6+-0x1021*-0x1-this['friction'],this['_velocity']['y']*=-0x62d*0x6+0x150b*-0x1+-0x6*-0x9af-this['friction'];}}['_hasOversh'+'oot'](_0x36cc8a,_0x57906c){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x36cc8a],_0x57906c))>-0x32c+0x2*-0x723+-0x9a*-0x1d+0.001;}['_toOversho'+'ot'](_0x58ec6b,_0x4d8498){const _0x144ee0=this['_getMaxScr'+'ollValue'](_0x4d8498);return _0x58ec6b<-0x997*-0x4+0x26b*-0x4+-0x3*0x990?_0x58ec6b:_0x58ec6b>_0x144ee0?_0x58ec6b-_0x144ee0:0xef3+0x17be*0x1+-0x26b1;}['_setVeloci'+'tyFromOver'+'shoot'](_0x52da7e,_0x4132f1,_0x762894){const _0xd4be2c=this['_toOversho'+'ot'](_0x52da7e,_0x762894)*this['_getMaxOff'+'set'](_0x762894)*this['_getSign'](_0x762894);Math['abs'](_0xd4be2c)>-0x20c*-0xd+-0x26*0xf2+-0x254*-0x4&&(this['_velocity'][_0x4132f1]=-_0xd4be2c/(this['bounceAmou'+'nt']*(-0x118d+-0x17cd+0x298c)+(-0x2b*-0xb9+-0x498+-0xd3d*0x2)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x5f17cb){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x5f17cb,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x5f17cb)):(this['_velocity']['set'](-0x5*-0x3c1+-0xb34+0xd*-0x95,-0x2083+-0x1*0x2669+-0x5e9*-0xc,0x4*0x7a9+-0x1e9*0x1+-0x1cbb),this['_prevConte'+'ntDragPosi'+'tion']=_0x5f17cb['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x3fd5fd){let _0x19919a=this['_contentPo'+'sitionToSc'+'rollValue'](_0x3fd5fd);this['_isDraggin'+'g']()&&(_0x19919a=this['_applyScro'+'llValueTen'+'sion'](_0x19919a)),this['_onSetScro'+'ll'](_0x19919a['x'],_0x19919a['y'],!(-0x1*0xb67+0x1fa9+-0x1*0x1441));}['_applyScro'+'llValueTen'+'sion'](_0x337e19){let _0x40468b=this['_getMaxScr'+'ollValue'](pe),_0x1196e9=this['_toOversho'+'ot'](_0x337e19['x'],pe);return _0x1196e9>0x1d30+-0x22a+-0x1b06*0x1?_0x337e19['x']=_0x40468b+(-0x11ce+-0x1cd+-0x1f6*-0xa)*Math['log10'](-0x261d*0x1+0x168a+0x2*0x7ca+_0x1196e9):_0x1196e9<0x1eab+0x7d9*-0x4+0xb9&&(_0x337e19['x']=-(0x2ca*0xd+0x1*0x1b88+-0x3fc9)*Math['log10'](0x245d+0xd85+-0x1*0x31e1-_0x1196e9)),_0x40468b=this['_getMaxScr'+'ollValue'](ke),_0x1196e9=this['_toOversho'+'ot'](_0x337e19['y'],ke),_0x1196e9>0x1f57+-0x23c4+0xb*0x67?_0x337e19['y']=_0x40468b+(0x1f55*0x1+-0x73*0x32+-0x2*0x46f)*Math['log10'](-0x2*-0xfc4+0x2*-0xdf9+-0x395+_0x1196e9):_0x1196e9<0xe07+0x16bd+-0x24c4&&(_0x337e19['y']=-(0xec3*-0x1+0x94d+-0x1*-0x577)*Math['log10'](0x1331+-0x13ee*0x1+0xbe-_0x1196e9)),_0x337e19;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0xd381e1){var _0x3a94a6,_0x39cce4;(_0x3a94a6=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x3a94a6['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0xd381e1),(_0x39cce4=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x39cce4['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0xd381e1);}['_setConten'+'tDraggingE'+'nabled'](_0xb55626){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0xb55626);}['_onMouseWh'+'eel'](_0x52ceaa){var _0xc6b397;if(!this['useMouseWh'+'eel']||!((_0xc6b397=this['_contentEn'+'tity'])!=null&&_0xc6b397['element']))return;const _0x237448=_0x52ceaa['event'],_0x188af4=_0x237448['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x642d57=_0x237448['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x409793=N['clamp'](this['_scroll']['x']+_0x188af4,0x11*0xad+-0x161*0x17+-0x3*-0x6be,this['_getMaxScr'+'ollValue'](pe)),_0x113ee6=N['clamp'](this['_scroll']['y']+_0x642d57,-0x35*-0xa3+-0x5c7*-0x6+-0x53*0xd3,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new W(_0x409793,_0x113ee6);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x2bb6af=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x2bb6af['element']&&(_0x2bb6af['element']['useInput']=!(0x1*-0x1754+-0xb80+0x22d4));}this['_disabledC'+'ontentInpu'+'t']=!(0x5+0x1*-0x236e+0x236a);}['_disableCo'+'ntentInput'](){const _0x5bed5f=_0x170594=>{_0x170594['element']&&_0x170594['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x170594),_0x170594['element']['useInput']=!(0x1*0x745+0x4d5*0x7+0x9d*-0x43));const _0x1e557f=_0x170594['children'];for(let _0x4d566a=-0xd85+-0xbf1+0x1976,_0x2e7cc2=_0x1e557f['length'];_0x4d566a<_0x2e7cc2;_0x4d566a++)_0x5bed5f(_0x1e557f[_0x4d566a]);};if(this['_contentEn'+'tity']){const _0xddadfd=this['_contentEn'+'tity']['children'];for(let _0x451031=0x143*-0x4+-0x1a57+-0x5*-0x647,_0x49ae1c=_0xddadfd['length'];_0x451031<_0x49ae1c;_0x451031++)_0x5bed5f(_0xddadfd[_0x451031]);}this['_disabledC'+'ontentInpu'+'t']=!(0x64e+0x1387+0x1*-0x19d5);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1f44+0x55a+-0x2b*0xda)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x19*-0x167+-0x1885*0x1+0x8e*-0x13)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0xd44+-0x1677+0x934)),this['_setConten'+'tDraggingE'+'nabled'](!(0x2335+0x10a9+-0x33dd));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x117b6b,_0x1df247){_0x117b6b['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x1df247[_0x117b6b['viewportEn'+'tity']['getGuid']()]),_0x117b6b['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x1df247[_0x117b6b['contentEnt'+'ity']['getGuid']()]),_0x117b6b['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x1df247[_0x117b6b['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x117b6b['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x1df247[_0x117b6b['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0x1ec*0xc+0x1*-0x17f1+0x2f0b;class RI{constructor(){c(this,'enabled',!(-0x3b*-0x5+-0x25cb+0x24a4)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(-0x347*0x7+0x671+0x1080)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(0x65*-0x4f+-0x1*0x1fe1+0x1*0x3f0d,0x1*-0x1c39+-0x171+0x7*0x43d)),c(this,'horizontal'+'ScrollbarV'+'isibility',0xbb0+0x2176+0x2d26*-0x1),c(this,'verticalSc'+'rollbarVis'+'ibility',0x1a7f+0x6b9+-0x2138),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=-0x1578+0x1*-0x1b0f+0x3091;class DI extends Xe{constructor(_0xf92157){super(_0xf92157),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x59cc58,_0x3e44bc,_0x25b222){_0x3e44bc['dragThresh'+'old']===void(0x11*0x185+-0x4c8+0x11*-0x13d)&&(_0x3e44bc['dragThresh'+'old']=II),_0x3e44bc['useMouseWh'+'eel']===void(0x133d+-0x5*0x573+0xa*0xcd)&&(_0x3e44bc['useMouseWh'+'eel']=!(-0x10*0x96+0xab6+-0x156)),_0x3e44bc['mouseWheel'+'Sensitivit'+'y']===void(-0x343+-0x20fa+0x243d)&&(_0x3e44bc['mouseWheel'+'Sensitivit'+'y']=new W(-0x9e*0x8+-0x32*0x72+-0x1*-0x1b35,0x1c3e+0x13*0xe5+-0x1e*0x182)),super['initialize'+'ComponentD'+'ata'](_0x59cc58,_0x3e44bc,Ag),_0x59cc58['viewportEn'+'tity']=_0x3e44bc['viewportEn'+'tity'],_0x59cc58['contentEnt'+'ity']=_0x3e44bc['contentEnt'+'ity'],_0x59cc58['horizontal'+'ScrollbarE'+'ntity']=_0x3e44bc['horizontal'+'ScrollbarE'+'ntity'],_0x59cc58['verticalSc'+'rollbarEnt'+'ity']=_0x3e44bc['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x3c1f96){const _0x20d324=this['store'];for(const _0x369590 in _0x20d324){const _0x13ca4a=_0x20d324[_0x369590]['entity'],_0x4260c2=_0x13ca4a['scrollview'];_0x4260c2['enabled']&&_0x13ca4a['enabled']&&_0x4260c2['onUpdate']();}}['_onRemoveC'+'omponent'](_0x385aa5,_0x3f82e4){_0x3f82e4['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x558ce7,_0x2b0036){super(_0x558ce7,_0x2b0036),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x5a0842=this['system']['store'][this['entity']['getGuid']()];return _0x5a0842?_0x5a0842['data']:null;}set['enabled'](_0x1e2c79){this['_setValue']('enabled',_0x1e2c79);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x2fede3){this['_setValue']('orientatio'+'n',_0x2fede3);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x38400f){this['_setValue']('value',_0x38400f);}get['value'](){return this['data']['value'];}set['handleSize'](_0x2a2c05){this['_setValue']('handleSize',_0x2a2c05);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x123d3f){if(this['_handleEnt'+'ity']===_0x123d3f)return;const _0x5d6bf3=typeof _0x123d3f=='string';this['_handleEnt'+'ity']&&_0x5d6bf3&&this['_handleEnt'+'ity']['getGuid']()===_0x123d3f||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x123d3f instanceof De?this['_handleEnt'+'ity']=_0x123d3f:_0x5d6bf3?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x123d3f)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x5d6bf3&&_0x123d3f&&(this['data']['handleEnti'+'ty']=_0x123d3f));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x41536e,_0xa1f51b){const _0x128b51=this['data'],_0x1422a9=_0x128b51[_0x41536e];_0x128b51[_0x41536e]=_0xa1f51b,this['fire']('set',_0x41536e,_0x1422a9,_0xa1f51b);}['_toggleLif'+'ecycleList'+'eners'](_0x331068){this[_0x331068]('set_value',this['_onSetValu'+'e'],this),this[_0x331068]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x331068]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x1eec87,_0x490e9c;(_0x1eec87=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x1eec87['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x490e9c=this['_handleEnt'+'ity'])!=null&&_0x490e9c['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x127829=this['_handleEnt'+'ity']['element'],_0x343093=this['_evtHandle'+'EntityChan'+'ges'];_0x343093['push'](_0x127829['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x343093['push'](_0x127829['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x343093['push'](_0x127829['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x343093['push'](_0x127829['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x4cf290=-0x2163+-0x1ee4+-0x4047*-0x1;_0x4cf290<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x4cf290++)this['_evtHandle'+'EntityChan'+'ges'][_0x4cf290]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0xcdd+0x13*0x2b+-0x100e;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x3780ad){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x3780ad[this['_getAxis']()]));}['_onSetValu'+'e'](_0x3489bb,_0x2e3e5e,_0x196546){Math['abs'](_0x196546-_0x2e3e5e)>0x2c3+-0x10a0+-0x5b*-0x27+0.00001&&(this['data']['value']=N['clamp'](_0x196546,0x23c9*0x1+-0x1b66+-0x863,0x515+0x134c+-0x1860),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x2a8697,_0x43a3de,_0x320631){Math['abs'](_0x320631-_0x43a3de)>-0x1b81+0x1da*0x15+-0xb61+0.00001&&(this['data']['handleSize']=N['clamp'](_0x320631,-0xcd5+0x6bb*-0x1+0x1390,-0x1f35+0x90b+0xe3*0x19),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x19c503,_0x233143,_0x5095a3){var _0x2b0e55;_0x5095a3!==_0x233143&&((_0x2b0e55=this['_handleEnt'+'ity'])!=null&&_0x2b0e55['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x8cb*0x3+0x1*-0x1b31+0xd0);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x47b03b=this['_handleEnt'+'ity'],_0x46e619=_0x47b03b==null?void(-0x23ee+0x452*0x1+0x22*0xee):_0x47b03b['element'];if(_0x47b03b){const _0x5a70cf=_0x47b03b['getLocalPo'+'sition']();_0x5a70cf[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x47b03b['setLocalPo'+'sition'](_0x5a70cf);}_0x46e619&&(_0x46e619[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x1650e6){return _0x1650e6*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x16f838){return _0x16f838*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x2495+0x35*0x86+-0x8d7*-0x1+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x2097+0xb29*0x3+-0x4212;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?-0x247*0xe+-0x2170+0x955*0x7:-(-0x2*0x718+0xe6c+-0x1*0x3b);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x5ec183){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x5ec183);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x7d9+0x43*0x4d+-0xc4e));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x9b1+0x15e0+-0x2*0x617));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xeccfb9,_0x4d0fe5){_0xeccfb9['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x4d0fe5[_0xeccfb9['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x469+0x4*0x1b3+-0xb35*0x1)),c(this,'orientatio'+'n',pe),c(this,'value',0x4*0x862+-0xfe3+-0x11a5),c(this,'handleSize',-0x648+-0x4*0x706+0x2260),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x2b31a5){super(_0x2b31a5),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x312289,_0x205ab8,_0x8273b1){super['initialize'+'ComponentD'+'ata'](_0x312289,_0x205ab8,Eg),_0x312289['handleEnti'+'ty']=_0x205ab8['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x6c769c){_0x6c769c['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x5360a1,_0x3f5571){_0x3f5571['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x2*-0xd78+-0xb*-0x98+-0x37*-0x5f),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x4729ce,_0x1609d6='Untitled',_0x392867={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x4729ce,this['_assets']=_0x4729ce['system']['app']['assets'],this['_manager']=_0x4729ce['system']['manager'],this['name']=_0x1609d6,this['_volume']=_0x392867['volume']!==void(0xb9c+-0x4ba+-0x6e2)?N['clamp'](Number(_0x392867['volume'])||-0x23*0x7e+0x22ff*0x1+-0x1*0x11c5,-0x5*-0x766+-0x581+-0x3*0xa7f,-0x2376+-0x1*-0x22e0+0x97):0x2db+-0x1*0x232f+-0x1f*-0x10b,this['_pitch']=_0x392867['pitch']!==void(0xa8b*0x2+-0xa6*0xb+-0xdf4)?Math['max'](-0x7*0x419+0x1*-0x1d6b+-0x6f*-0x86+0.01,Number(_0x392867['pitch'])||0x13b6+-0xc*0x202+0x462):0x1ee*0xa+-0x1*0x20a9+-0xd5e*-0x1,this['_loop']=!!(_0x392867['loop']!==void(0x47d*-0x1+0x115+0x368)&&_0x392867['loop']),this['_duration']=_0x392867['duration']>-0x1f85+-0x4*-0x366+0x11ed?_0x392867['duration']:null,this['_startTime']=Math['max'](0xbed+0xcaa+-0x1897,Number(_0x392867['startTime'])||-0x1deb+-0x18ed+0x36d8),this['_overlap']=!!_0x392867['overlap'],this['_autoPlay']=!!_0x392867['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x392867['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x13c388){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x18c90f=_0x13c388;if(_0x18c90f||(_0x18c90f=this['_createIns'+'tance'](),this['instances']['push'](_0x18c90f)),this['isLoaded'])_0x18c90f['play']();else{const _0x1a2870=function(_0x501e4c){const _0x54630a=_0x18c90f['_playWhenL'+'oaded'];_0x18c90f['sound']=_0x501e4c,_0x54630a&&_0x18c90f['play']();};this['off']('load',_0x1a2870),this['once']('load',_0x1a2870),this['load']();}return _0x18c90f;}['pause'](){let _0xed58e6=!(0x24*0x91+0x4*0x75c+-0x31d3);const _0x5e9ebd=this['instances'];for(let _0x1c093c=0x13d*0xf+0x60*-0x2+-0x3*0x5f1,_0xbaf5fb=_0x5e9ebd['length'];_0x1c093c<_0xbaf5fb;_0x1c093c++)_0x5e9ebd[_0x1c093c]['pause']()&&(_0xed58e6=!(0x176*0x2+0x217*-0x4+0x570));return _0xed58e6;}['resume'](){let _0x368855=!(-0x17f4+0x14*0x16f+-0x4b7);const _0xcd553c=this['instances'];for(let _0x32bcd5=0x11a5+-0x1a46+0x8a1,_0x33cdda=_0xcd553c['length'];_0x32bcd5<_0x33cdda;_0x32bcd5++)_0xcd553c[_0x32bcd5]['resume']()&&(_0x368855=!(-0x200d+-0x8fd+-0x290a*-0x1));return _0x368855;}['stop'](){let _0x21a8ef=!(-0x17e5+-0x9*-0x1d5+0x769);const _0x175003=this['instances'];let _0x45ed6c=_0x175003['length'];for(;_0x45ed6c--;)_0x175003[_0x45ed6c]['stop'](),_0x21a8ef=!(0x250a+-0xb*-0x37+-0x4d*0x83);return _0x175003['length']=-0x1ab5+-0x1*0x261f+0x40d4,_0x21a8ef;}['load'](){if(!this['_hasAsset']())return;const _0x5db9c6=this['_assets']['get'](this['_asset']);if(!_0x5db9c6){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x5db9c6['off']('remove',this['_onAssetRe'+'moved'],this),_0x5db9c6['on']('remove',this['_onAssetRe'+'moved'],this),!_0x5db9c6['resource']){_0x5db9c6['off']('load',this['_onAssetLo'+'ad'],this),_0x5db9c6['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x5db9c6);return;}this['fire']('load',_0x5db9c6['resource']);}['setExterna'+'lNodes'](_0x5d80b9,_0x5ec7ff){if(!_0x5d80b9){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x5ec7ff||(_0x5ec7ff=_0x5d80b9),this['_firstNode']=_0x5d80b9,this['_lastNode']=_0x5ec7ff,!this['_overlap']){const _0x4001da=this['instances'];for(let _0x2cdfd0=-0x5*-0xa9+-0x1268+-0x509*-0x3,_0x273b75=_0x4001da['length'];_0x2cdfd0<_0x273b75;_0x2cdfd0++)_0x4001da[_0x2cdfd0]['setExterna'+'lNodes'](_0x5d80b9,_0x5ec7ff);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x518dba=this['instances'];for(let _0x56ff63=-0xda2+-0xf81+0x1d23,_0x5491c9=_0x518dba['length'];_0x56ff63<_0x5491c9;_0x56ff63++)_0x518dba[_0x56ff63]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x28c30b=null;const _0x1923ab=this['_component'];let _0x164a4e=null;if(this['_hasAsset']()){const _0x52243e=this['_assets']['get'](this['_asset']);_0x52243e&&(_0x164a4e=_0x52243e['resource']);}const _0x1f5619=OI;return _0x1f5619['volume']=this['_volume']*_0x1923ab['volume'],_0x1f5619['pitch']=this['_pitch']*_0x1923ab['pitch'],_0x1f5619['loop']=this['_loop'],_0x1f5619['startTime']=this['_startTime'],_0x1f5619['duration']=this['_duration'],_0x1f5619['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x1f5619['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x1f5619['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x1f5619['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x1f5619['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x1923ab['positional']?(_0x1f5619['position']['copy'](_0x1923ab['entity']['getPositio'+'n']()),_0x1f5619['maxDistanc'+'e']=_0x1923ab['maxDistanc'+'e'],_0x1f5619['refDistanc'+'e']=_0x1923ab['refDistanc'+'e'],_0x1f5619['rollOffFac'+'tor']=_0x1923ab['rollOffFac'+'tor'],_0x1f5619['distanceMo'+'del']=_0x1923ab['distanceMo'+'del'],_0x28c30b=new jn(this['_manager'],_0x164a4e,_0x1f5619)):_0x28c30b=new ss(this['_manager'],_0x164a4e,_0x1f5619),this['_firstNode']&&_0x28c30b['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x28c30b;}['_onInstanc'+'ePlay'](_0x5e611c){this['fire']('play',_0x5e611c),this['_component']['fire']('play',this,_0x5e611c);}['_onInstanc'+'ePause'](_0x8d69fc){this['fire']('pause',_0x8d69fc),this['_component']['fire']('pause',this,_0x8d69fc);}['_onInstanc'+'eResume'](_0x2eaf3e){this['fire']('resume',_0x2eaf3e),this['_component']['fire']('resume',this,_0x2eaf3e);}['_onInstanc'+'eStop'](_0x1cc4c6){const _0x41a378=this['instances']['indexOf'](_0x1cc4c6);_0x41a378!==-(-0x21a6+0x22*0x121+-0x4bb)&&this['instances']['splice'](_0x41a378,0x1+-0xe33+0xe33),this['fire']('stop',_0x1cc4c6),this['_component']['fire']('stop',this,_0x1cc4c6);}['_onInstanc'+'eEnd'](_0xaf1923){const _0x24f266=this['instances']['indexOf'](_0xaf1923);_0x24f266!==-(-0x2ab*-0x6+0xf1*0x25+0x3*-0x10f2)&&this['instances']['splice'](_0x24f266,-0x1e40+0x2*-0x6d+-0x1f1b*-0x1),this['fire']('end',_0xaf1923),this['_component']['fire']('end',this,_0xaf1923);}['_onAssetAd'+'d'](_0x59a2d2){this['load']();}['_onAssetLo'+'ad'](_0x398ba7){this['load']();}['_onAssetRe'+'moved'](_0x18f463){_0x18f463['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x18f463['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x1f2ead){const _0x3208b4=this['instances'];for(let _0x3751f2=-0x2611+0x1bac+-0x1*-0xa65,_0x42b9d8=_0x3208b4['length'];_0x3751f2<_0x42b9d8;_0x3751f2++)_0x3208b4[_0x3751f2]['position']=_0x1f2ead;}set['asset'](_0x405681){const _0x1b8ca2=this['_asset'];if(_0x1b8ca2){this['_assets']['off']('add:'+_0x1b8ca2,this['_onAssetAd'+'d'],this);const _0x5b8c18=this['_assets']['get'](_0x1b8ca2);_0x5b8c18&&_0x5b8c18['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x405681,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x237f54){this['_autoPlay']=!!_0x237f54;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x59bc44){if(this['_duration']=Math['max'](0x1072+0x15*-0xca+0x20,Number(_0x59bc44)||-0x31*-0x73+0x1e1a+-0x341d)||null,!this['_overlap']){const _0xb0d1ce=this['instances'];for(let _0x33c2db=0x1*0x1bd7+-0x6d*-0x46+-0x39a5*0x1,_0x208814=_0xb0d1ce['length'];_0x33c2db<_0x208814;_0x33c2db++)_0xb0d1ce[_0x33c2db]['duration']=this['_duration'];}}get['duration'](){let _0x3605bc=-0x19*0x16b+0x3bf*-0x6+-0x1*-0x39ed;if(this['_hasAsset']()){const _0xd75893=this['_assets']['get'](this['_asset']);_0x3605bc=_0xd75893!=null&&_0xd75893['resource']?_0xd75893['resource']['duration']:-0x1077+-0x1*0x1dbd+0x2e34;}return this['_duration']!=null?this['_duration']%(_0x3605bc||-0x1*-0x18df+0x16f*0x15+-0x36f9):_0x3605bc;}get['isLoaded'](){if(this['_hasAsset']()){const _0xbf219d=this['_assets']['get'](this['_asset']);if(_0xbf219d)return!!_0xbf219d['resource'];}return!(0x171b+0x529*-0x5+-0x2b3*-0x1);}get['isPaused'](){const _0x207082=this['instances'],_0x15d566=_0x207082['length'];if(_0x15d566===-0x138f+0x3*0x16f+0xf42)return!(0xd13+-0x4b5+-0x85d);for(let _0x31d0a3=-0x102a+-0x1256*-0x2+-0x1482;_0x31d0a3<_0x15d566;_0x31d0a3++)if(!_0x207082[_0x31d0a3]['isPaused'])return!(0x1ad0+0xa38+-0x1*0x2507);return!(-0x2*-0x14f+0x18b*0xb+-0x1397);}get['isPlaying'](){const _0x5277cc=this['instances'];for(let _0x3728e2=0x2473+0x1*-0x11f1+0x2e*-0x67,_0xb707a8=_0x5277cc['length'];_0x3728e2<_0xb707a8;_0x3728e2++)if(_0x5277cc[_0x3728e2]['isPlaying'])return!(-0x9*-0x81+0x8*-0x3d4+0x1a17);return!(-0x1685*-0x1+-0x269*-0x8+-0x14*0x217);}get['isStopped'](){const _0x10925c=this['instances'];for(let _0x552074=-0x12c4+0x776+0xb4e,_0xb71f93=_0x10925c['length'];_0x552074<_0xb71f93;_0x552074++)if(!_0x10925c[_0x552074]['isStopped'])return!(0x2144+-0x124a+-0xef9);return!(-0x2627*-0x1+-0x24c0+-0x167*0x1);}set['loop'](_0x3cb533){this['_loop']=!!_0x3cb533;const _0x5ff8e4=this['instances'];for(let _0xb10095=0x25*-0x44+0x2476+-0x1aa2,_0x43db2b=_0x5ff8e4['length'];_0xb10095<_0x43db2b;_0xb10095++)_0x5ff8e4[_0xb10095]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x37aee1){this['_overlap']=!!_0x37aee1;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x125ac1){if(this['_pitch']=Math['max'](Number(_0x125ac1)||0x1*0x162+-0x1839+-0x79d*-0x3,0x5b6+-0x7b*-0x43+-0x25e7+0.01),!this['_overlap']){const _0x3e3fbf=this['instances'];for(let _0x58872f=0x69c+0x24d5+-0x2b71,_0x1cf7ba=_0x3e3fbf['length'];_0x58872f<_0x1cf7ba;_0x58872f++)_0x3e3fbf[_0x58872f]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x896bac){if(this['_startTime']=Math['max'](-0x1fcb+0x11*0x5a+0x19d1,Number(_0x896bac)||-0x247d*-0x1+0x1bdb+0x1*-0x4058),!this['_overlap']){const _0x137296=this['instances'];for(let _0xbb08fc=0x1*0x2381+-0x2633*-0x1+-0xb2*0x6a,_0x31f837=_0x137296['length'];_0xbb08fc<_0x31f837;_0xbb08fc++)_0x137296[_0xbb08fc]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x4acfab){if(this['_volume']=N['clamp'](Number(_0x4acfab)||0x1*-0x68b+-0x2fc*0x4+0x127b,-0x27d+-0xb70*0x1+-0x73*-0x1f,-0x1*0x2297+-0xd3*0x1+0x236b),!this['_overlap']){const _0x48d77e=this['instances'];for(let _0x5d41f1=0x1d*-0xa0+0x8f8*-0x2+-0x4*-0x904,_0x67e85a=_0x48d77e['length'];_0x5d41f1<_0x67e85a;_0x5d41f1++)_0x48d77e[_0x5d41f1]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',0x254d+0x12a4+0x1bf8*-0x2),c(this,'_pitch',-0x3*-0x5fe+0x9ef+0x8*-0x37d),c(this,'_positiona'+'l',!(0xc7e+-0x387+-0x8f7)),c(this,'_refDistan'+'ce',0x709*-0x1+0x5*0x75+-0x1*-0x4c1),c(this,'_maxDistan'+'ce',-0x196b+0x5*0x696+0x1f8d),c(this,'_rollOffFa'+'ctor',0x67f+-0x1711*-0x1+-0x1d8f*0x1),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x2e781a,_0x5311c0,_0x27025e){const _0x235217=this['_slots'];for(const _0x2d0b6e in _0x235217){const _0x59c5a0=_0x235217[_0x2d0b6e];if(!_0x59c5a0['overlap']){const _0x5b18b6=_0x59c5a0['instances'];for(let _0x41b832=-0x1575*0x1+-0x181a+-0x6d*-0x6b,_0x2efa0c=_0x5b18b6['length'];_0x41b832<_0x2efa0c;_0x41b832++)_0x5b18b6[_0x41b832][_0x2e781a]=_0x27025e?_0x59c5a0[_0x2e781a]*_0x5311c0:_0x5311c0;}}}set['distanceMo'+'del'](_0x1eccc5){this['_distanceM'+'odel']=_0x1eccc5,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x1eccc5,!(0x1666+-0x2*0xedb+0x751));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x19c708){this['_maxDistan'+'ce']=_0x19c708,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x19c708,!(-0x1b*-0x61+-0x1*0x21fb+0x17c1));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x4bf5e8){this['_refDistan'+'ce']=_0x4bf5e8,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x4bf5e8,!(0x20*0x97+-0xb*-0x127+-0x1f8c));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x21199d){this['_rollOffFa'+'ctor']=_0x21199d,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x21199d,!(-0x5d8+-0x1*0x17b6+-0x2f*-0xa1));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x13f4c2){this['_pitch']=_0x13f4c2,this['_updateSou'+'ndInstance'+'s']('pitch',_0x13f4c2,!(0x803+-0x161*0x13+0x308*0x6));}get['pitch'](){return this['_pitch'];}set['volume'](_0x472458){this['_volume']=_0x472458,this['_updateSou'+'ndInstance'+'s']('volume',_0x472458,!(-0x1b45+0x19*-0x7f+0x27ac));}get['volume'](){return this['_volume'];}set['positional'](_0x537f8e){this['_positiona'+'l']=_0x537f8e;const _0x4640ff=this['_slots'];for(const _0x300ba8 in _0x4640ff){const _0x53ca9a=_0x4640ff[_0x300ba8];if(!_0x53ca9a['overlap']){const _0x15f09d=_0x53ca9a['instances'],_0x15d9d6=_0x15f09d['length'];for(let _0x1c05f5=_0x15d9d6-(-0x5*-0x61a+0x299+-0x211a);_0x1c05f5>=-0x1f*-0xac+-0x3d*0x2+-0xa*0x209;_0x1c05f5--){const _0x5d739f=_0x15f09d[_0x1c05f5]['isPlaying']||_0x15f09d[_0x1c05f5]['isSuspende'+'d'],_0x37675c=_0x15f09d[_0x1c05f5]['currentTim'+'e'];_0x5d739f&&_0x15f09d[_0x1c05f5]['stop']();const _0x2c3cd1=_0x53ca9a['_createIns'+'tance']();_0x5d739f&&(_0x2c3cd1['play'](),_0x2c3cd1['currentTim'+'e']=_0x37675c),_0x15f09d['push'](_0x2c3cd1);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x58fa55){const _0x4ad53a=this['_slots'];if(_0x4ad53a){for(const _0x448b97 in _0x4ad53a)_0x4ad53a[_0x448b97]['stop']();}const _0x3e7e5b={};for(const _0x2c3c34 in _0x58fa55)_0x58fa55[_0x2c3c34]instanceof er?_0x3e7e5b[_0x58fa55[_0x2c3c34]['name']]=_0x58fa55[_0x2c3c34]:_0x58fa55[_0x2c3c34]['name']&&(_0x3e7e5b[_0x58fa55[_0x2c3c34]['name']]=new er(this,_0x58fa55[_0x2c3c34]['name'],_0x58fa55[_0x2c3c34]));this['_slots']=_0x3e7e5b,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x24eaee=this['_slots'],_0x343c89=this['_playingBe'+'foreDisabl'+'e'];for(const _0x16157b in _0x24eaee){const _0x1609bf=_0x24eaee[_0x16157b];_0x1609bf['autoPlay']&&_0x1609bf['isStopped']?_0x1609bf['play']():_0x343c89[_0x16157b]?_0x1609bf['resume']():_0x1609bf['isLoaded']||_0x1609bf['load']();}}['onDisable'](){const _0x29dd94=this['_slots'],_0x593894={};for(const _0x5589af in _0x29dd94)_0x29dd94[_0x5589af]['overlap']||_0x29dd94[_0x5589af]['isPlaying']&&(_0x29dd94[_0x5589af]['pause'](),_0x593894[_0x5589af]=!(0x9*-0x8b+0x7d*-0x12+-0xdad*-0x1));this['_playingBe'+'foreDisabl'+'e']=_0x593894;}['onRemove'](){this['off']();}['addSlot'](_0x2598c2,_0x297c96){const _0x484229=this['_slots'];if(_0x484229[_0x2598c2])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x2598c2+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x1ed210=new er(this,_0x2598c2,_0x297c96);return _0x484229[_0x2598c2]=_0x1ed210,_0x1ed210['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x1ed210['play'](),_0x1ed210;}['removeSlot'](_0x2b8885){const _0x3d4ace=this['_slots'];_0x3d4ace[_0x2b8885]&&(_0x3d4ace[_0x2b8885]['stop'](),delete _0x3d4ace[_0x2b8885]);}['slot'](_0x395212){return this['_slots'][_0x395212];}['_getSlotPr'+'operty'](_0x5dfba7,_0x505685){if(!this['enabled']||!this['entity']['enabled'])return;const _0x25d576=this['_slots'][_0x5dfba7];if(!_0x25d576){v['warn']('Trying\x20to\x20'+'get\x20'+_0x505685+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x5dfba7+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x25d576[_0x505685];}['isPlaying'](_0x96dde9){return this['_getSlotPr'+'operty'](_0x96dde9,'isPlaying')||!(-0x72*0x47+-0x1*-0xf17+0x4*0x422);}['isLoaded'](_0x405e7e){return this['_getSlotPr'+'operty'](_0x405e7e,'isLoaded')||!(0x5*-0x290+0x4d*0x69+0x962*-0x2);}['isPaused'](_0x20dd30){return this['_getSlotPr'+'operty'](_0x20dd30,'isPaused')||!(-0x58*-0x64+0x7a7*0x2+-0x1d7*0x1b);}['isStopped'](_0x6a97d){return this['_getSlotPr'+'operty'](_0x6a97d,'isStopped')||!(0xbfc+-0x34*0x9e+-0x13*-0x10f);}['play'](_0x4e701e){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x5ad707=this['_slots'][_0x4e701e];return _0x5ad707?_0x5ad707['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x4e701e+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x42b0d2){const _0x5c49e7=this['_slots'];if(_0x42b0d2){const _0x1cd140=_0x5c49e7[_0x42b0d2];if(!_0x1cd140){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x42b0d2+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x1cd140['pause']();}else{for(const _0x5f95aa in _0x5c49e7)_0x5c49e7[_0x5f95aa]['pause']();}}['resume'](_0x4fdc52){const _0x46effb=this['_slots'];if(_0x4fdc52){const _0x461ef0=_0x46effb[_0x4fdc52];if(!_0x461ef0){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x4fdc52+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x461ef0['isPaused']&&_0x461ef0['resume']();}else{for(const _0x256b2d in _0x46effb)_0x46effb[_0x256b2d]['resume']();}}['stop'](_0x194cce){const _0x539632=this['_slots'];if(_0x194cce){const _0x4d3361=_0x539632[_0x194cce];if(!_0x4d3361){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x194cce+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x4d3361['stop']();}else{for(const _0x4322c1 in _0x539632)_0x539632[_0x4322c1]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x2089+-0x1529*-0x1+-0x3*0x11e6);}}const xx=['enabled'];class BI extends Xe{constructor(_0x4862dd){super(_0x4862dd),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x4862dd['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x4dceb5){this['manager']['volume']=_0x4dceb5;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x25f314,_0x14547c,_0x871e37){_0x871e37=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x18ba82=0x14d7+-0x7a*0x33+0x377;_0x18ba82<_0x871e37['length'];_0x18ba82++)_0x14547c['hasOwnProp'+'erty'](_0x871e37[_0x18ba82])&&(_0x25f314[_0x871e37[_0x18ba82]]=_0x14547c[_0x871e37[_0x18ba82]]);super['initialize'+'ComponentD'+'ata'](_0x25f314,_0x14547c,['enabled']);}['cloneCompo'+'nent'](_0x357263,_0x5808cb){const _0xe125be=_0x357263['sound'],_0x516452=_0xe125be['slots'],_0x13f9dc={};for(const _0x18a76c in _0x516452){const _0x340664=_0x516452[_0x18a76c];_0x13f9dc[_0x18a76c]={'name':_0x340664['name'],'volume':_0x340664['volume'],'pitch':_0x340664['pitch'],'loop':_0x340664['loop'],'duration':_0x340664['duration'],'startTime':_0x340664['startTime'],'overlap':_0x340664['overlap'],'autoPlay':_0x340664['autoPlay'],'asset':_0x340664['asset']};}const _0x13f42b={'distanceModel':_0xe125be['distanceMo'+'del'],'enabled':_0xe125be['enabled'],'maxDistance':_0xe125be['maxDistanc'+'e'],'pitch':_0xe125be['pitch'],'positional':_0xe125be['positional'],'refDistance':_0xe125be['refDistanc'+'e'],'rollOffFactor':_0xe125be['rollOffFac'+'tor'],'slots':_0x13f9dc,'volume':_0xe125be['volume']};return this['addCompone'+'nt'](_0x5808cb,_0x13f42b);}['onUpdate'](_0x4dc2fa){const _0x4051e5=this['store'];for(const _0x11158e in _0x4051e5)if(_0x4051e5['hasOwnProp'+'erty'](_0x11158e)){const _0x20ad25=_0x4051e5[_0x11158e]['entity'];if(_0x20ad25['enabled']){const _0xaea734=_0x20ad25['sound'];if(_0xaea734['enabled']&&_0xaea734['positional']){const _0x1ef563=_0x20ad25['getPositio'+'n'](),_0xde11fb=_0xaea734['slots'];for(const _0x4c5f11 in _0xde11fb)_0xde11fb[_0x4c5f11]['updatePosi'+'tion'](_0x1ef563);}}}}['onBeforeRe'+'move'](_0x29f2cf,_0x58c5b7){const _0x2484bd=_0x58c5b7['slots'];for(const _0x2410c2 in _0x2484bd)_0x2484bd[_0x2410c2]['overlap']||_0x2484bd[_0x2410c2]['stop']();_0x58c5b7['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0xa1e04f,_0x276ab){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0xa1e04f,this['_frame']=-0x1dd5+0x1c27*0x1+0x2b*0xa,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x276ab['spriteAsse'+'t'],this['name']=_0x276ab['name'],this['fps']=_0x276ab['fps']||-0x5*-0x432+0x208d+-0x3587,this['loop']=_0x276ab['loop']||!(0x221e+-0x255b+0x19f*0x2),this['_playing']=!(0x1d3b+0x9*0x175+-0x2a57),this['_paused']=!(0x3*-0x6f4+0x7d6+0x17*0x91),this['_time']=0x268f+0x429+-0x557*0x8);}get['duration'](){if(this['_sprite']){const _0x23a101=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x23a101);}return-0x2173+0x5*-0x18b+0x292a;}set['frame'](_0x438c06){this['_setFrame'](_0x438c06);const _0x1758b1=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x1758b1);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x27cf39){var _0x24d36f;if(this['_sprite']&&((_0x24d36f=this['_evtSetMes'+'hes'])==null||_0x24d36f['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x27cf39,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x242182;!_0x27cf39||!_0x27cf39['atlas']?(_0x242182=this['_component']['_meshInsta'+'nce'],_0x242182&&(_0x242182['deletePara'+'meter']('texture_em'+'issiveMap'),_0x242182['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x27cf39['atlas']['texture']&&(_0x242182=this['_component']['_meshInsta'+'nce'],_0x242182&&(_0x242182['setParamet'+'er']('texture_em'+'issiveMap',_0x27cf39['atlas']['texture']),_0x242182['setParamet'+'er']('texture_op'+'acityMap',_0x27cf39['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x4b4752){const _0x35de3e=this['_component']['system']['app']['assets'];let _0x58f3e8=_0x4b4752;if(_0x4b4752 instanceof le&&(_0x58f3e8=_0x4b4752['id']),this['_spriteAss'+'et']!==_0x58f3e8){if(this['_spriteAss'+'et']){const _0x43d270=_0x35de3e['get'](this['_spriteAss'+'et']);_0x43d270&&this['_unbindSpr'+'iteAsset'](_0x43d270);}if(this['_spriteAss'+'et']=_0x58f3e8,this['_spriteAss'+'et']){const _0x49f4fa=_0x35de3e['get'](this['_spriteAss'+'et']);_0x49f4fa?this['_bindSprit'+'eAsset'](_0x49f4fa):(this['sprite']=null,_0x35de3e['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x2f895b){this['_setTime'](_0x2f895b),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0xa8f+-0xa99+-0xb*-0x1),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x2*-0x1258+0x21fa+0x2b6;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x47f843){this['_component']['system']['app']['assets']['off']('add:'+_0x47f843['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x47f843['id']&&this['_bindSprit'+'eAsset'](_0x47f843);}['_bindSprit'+'eAsset'](_0x31164a){_0x31164a['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x31164a['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x31164a['resource']?this['_onSpriteA'+'ssetLoad'](_0x31164a):this['_component']['system']['app']['assets']['load'](_0x31164a);}['_unbindSpr'+'iteAsset'](_0x358996){_0x358996&&(_0x358996['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x358996['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x358996['resource']&&!_0x358996['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x358996['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x1127ba){if(!_0x1127ba['resource'])this['sprite']=null;else{if(_0x1127ba['resource']['atlas'])this['sprite']=_0x1127ba['resource'];else{const _0x411cfb=_0x1127ba['data']['textureAtl'+'asAsset'],_0x56aa86=this['_component']['system']['app']['assets'];_0x56aa86['off']('load:'+_0x411cfb,this['_onTexture'+'AtlasLoad'],this),_0x56aa86['once']('load:'+_0x411cfb,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x3bfea7){const _0x28ca80=this['_spriteAss'+'et'];_0x28ca80 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x28ca80):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x28ca80));}['_onSpriteA'+'ssetRemove'](_0x14df30){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x1705ca){if(this['fps']===0x5a3+0x219e+-0x2741||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x1012b1=this['fps']<0x1*0x175e+0xe7c+-0x792*0x5?-(0x5ac+0x22a2+-0x284d):-0x4a3*-0x3+0x39+-0xe21*0x1,_0x87db81=this['_time']+_0x1705ca*this['_component']['speed']*_0x1012b1,_0x2e6413=this['duration'],_0x325fe3=_0x87db81>_0x2e6413||_0x87db81<-0x26a3+-0xcb9+0x335c*0x1;this['_setTime'](_0x87db81);let _0x374d90=this['frame'];this['_sprite']?_0x374d90=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x2e6413):_0x374d90=0x26c8+-0x6cd+-0x1ffb,_0x374d90!==this['_frame']&&this['_setFrame'](_0x374d90),_0x325fe3&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1d6d+0x198d+-0x1253*0x3),this['_paused']=!(0x761+-0x12b8*-0x2+0x2*-0x1668),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0xa2f53a){this['_time']=_0xa2f53a;const _0x5b4e66=this['duration'];this['_time']<-0x3d1*0xa+0x4*-0x95+0x287e?this['loop']?this['_time']=this['_time']%_0x5b4e66+_0x5b4e66:this['_time']=0xc9*0x26+0xbdc+-0x29b2:this['_time']>_0x5b4e66&&(this['loop']?this['_time']%=_0x5b4e66:this['_time']=_0x5b4e66);}['_setFrame'](_0x1eedb4){this['_sprite']?this['_frame']=N['clamp'](_0x1eedb4,-0x6cd*-0x1+0x1f8d*-0x1+0x18c0,this['_sprite']['frameKeys']['length']-(-0xd74+0x589*0x5+-0xe38)):this['_frame']=_0x1eedb4,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x2cb00d=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x2cb00d['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x6*-0x48d+0xa4f+-0x259d),this['_paused']=!(-0x1b*-0x164+0x15e1+-0x1*0x3b6c),this['frame']=0x2149+0x14e2+0x1*-0x362b,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x6e3+0x40b+-0x16c*-0x2),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x1d2a+-0x35e*0x4+-0xfb1),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0xb2b+-0x6e1+0x1*0x120d),this['_paused']=!(-0x9*0x2c5+0x1*0x21a1+-0x8b3),this['_time']=0x25*-0xb1+-0x104d+-0x2*-0x14f1,this['frame']=0x29*-0x4f+-0x8c*-0x3a+0x3*-0x65b,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x22b3b9,_0x4e2005){super(_0x22b3b9,_0x4e2005),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x22b3b9['defaultMat'+'erial'],this['_color']=new Y(-0xb5d*0x3+-0xb9*0x11+0x2e61,-0x1*-0x31f+0xabf*0x3+-0x235b,-0x12b0+0x1*-0x215e+0x340f,-0x85d+0xab6+-0x258),this['_colorUnif'+'orm']=new Float32Array(-0x295*0xd+0x626+0xdb7*0x2),this['_speed']=-0x5*0x523+-0x850+0x100*0x22,this['_flipX']=!(0x12*-0x103+-0x12a0+-0x1*-0x24d7),this['_flipY']=!(-0x3*0x5ab+-0x824+0x1926),this['_width']=0x12*0x1a5+0x230+-0x1fc9,this['_height']=-0x1930+-0x26*0x22+0x1e3d*0x1,this['_drawOrder']=-0x1a2d+0x268*-0x8+-0x191*-0x1d,this['_layers']=[Fi],this['_outerScal'+'e']=new W(-0x226a+0x11d7+0x1094,-0x9c8+0x63a*0x5+-0x1*0x1559),this['_outerScal'+'eUniform']=new Float32Array(-0x1b1*-0x2+-0x1*-0x247b+-0x219*0x13),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1678+-0x22d*-0x5+0xb9b),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x175e+-0x2*0x116+0x2*-0xa97),this['_batchGrou'+'pId']=-(0xf46+0x4*0x7fe+-0x1a1*0x1d),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x4e2005['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x4e2005,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x426+-0x2*-0x872+-0x435*0x5),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x1231+0x1*0x373+-0x97*-0x19),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x552a91){this['_type']!==_0x552a91&&(this['_type']=_0x552a91,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x2ad024){this['_currentCl'+'ip']['frame']=_0x2ad024;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x19f2be){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x19f2be;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x268514){this['_currentCl'+'ip']['sprite']=_0x268514;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x15c819){this['_material']=_0x15c819,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x15c819);}get['material'](){return this['_material'];}set['color'](_0x3e289f){this['_color']['r']=_0x3e289f['r'],this['_color']['g']=_0x3e289f['g'],this['_color']['b']=_0x3e289f['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x1663+0x2118+-0x1*0x377b]=this['_color']['r'],this['_colorUnif'+'orm'][0x98f*0x2+0x1a*0x107+0x2dd3*-0x1]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1a9c+0xd*-0x61+0x1db*0x11]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x4c24d0){this['_color']['a']=_0x4c24d0,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x4c24d0);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x3bd08b){if(!_0x3bd08b){for(const _0x3f047b in this['_clips'])this['removeClip'](_0x3f047b);return;}for(const _0x1ea8e9 in this['_clips']){let _0x5bc006=!(0x1ced+-0x762+0x397*-0x6);for(const _0x1f5e07 in _0x3bd08b)if(_0x3bd08b[_0x1f5e07]['name']===_0x1ea8e9){_0x5bc006=!(-0x53b+-0x1*-0x183b+0x98*-0x20),this['_clips'][_0x1ea8e9]['fps']=_0x3bd08b[_0x1f5e07]['fps'],this['_clips'][_0x1ea8e9]['loop']=_0x3bd08b[_0x1f5e07]['loop'],_0x3bd08b[_0x1f5e07]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x1ea8e9]['sprite']=_0x3bd08b[_0x1f5e07]['sprite']:_0x3bd08b[_0x1f5e07]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x1ea8e9]['spriteAsse'+'t']=_0x3bd08b[_0x1f5e07]['spriteAsse'+'t']);break;}_0x5bc006||this['removeClip'](_0x1ea8e9);}for(const _0x2984ab in _0x3bd08b)this['_clips'][_0x3bd08b[_0x2984ab]['name']]||this['addClip'](_0x3bd08b[_0x2984ab]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x5e6333){this['_speed']=_0x5e6333;}get['speed'](){return this['_speed'];}set['flipX'](_0x40ed98){this['_flipX']!==_0x40ed98&&(this['_flipX']=_0x40ed98,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x4763de){this['_flipY']!==_0x4763de&&(this['_flipY']=_0x4763de,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x56a18b){_0x56a18b!==this['_width']&&(this['_width']=_0x56a18b,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x278c93){_0x278c93!==this['_height']&&(this['_height']=_0x278c93,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x52b3cb){var _0x4528a9,_0x33923;if(this['_batchGrou'+'pId']===_0x52b3cb)return;const _0x1ad0e7=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x52b3cb,this['entity']['enabled']&&_0x1ad0e7>=-0x29f*0xd+-0x2*0x9a5+0x355d&&((_0x4528a9=this['system']['app']['batcher'])==null||_0x4528a9['remove'](et['SPRITE'],_0x1ad0e7,this['entity'])),this['entity']['enabled']&&_0x52b3cb>=-0x3*0x16b+0x2488+0x1*-0x2047?(_0x33923=this['system']['app']['batcher'])==null||_0x33923['insert'](et['SPRITE'],_0x52b3cb,this['entity']):_0x1ad0e7>=0x1*-0x22ae+-0x1ce2+-0x10*-0x3f9&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x2bef61){this['_autoPlayC'+'lip']=_0x2bef61 instanceof bi?_0x2bef61['name']:_0x2bef61,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x330085){this['_drawOrder']=_0x330085,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x330085);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x244b2a){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x244b2a,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x25a220;const _0x1b4b5d=this['system']['app'],_0x3d6d2b=_0x1b4b5d['scene'],_0x2a6380=_0x3d6d2b['layers'];this['_evtLayers'+'Changed']=_0x3d6d2b['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x2a6380&&(this['_evtLayerA'+'dded']=_0x2a6380['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x2a6380['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0xa1*0x25+-0x484+-0x12c1&&((_0x25a220=_0x1b4b5d['batcher'])==null||_0x25a220['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x2856cd,_0x55efe3,_0x556e0b,_0x20cf31;const _0x22dd4d=this['system']['app'],_0xe16bef=_0x22dd4d['scene']['layers'];(_0x2856cd=this['_evtLayers'+'Changed'])==null||_0x2856cd['off'](),this['_evtLayers'+'Changed']=null,_0xe16bef&&((_0x55efe3=this['_evtLayerA'+'dded'])==null||_0x55efe3['off'](),this['_evtLayerA'+'dded']=null,(_0x556e0b=this['_evtLayerR'+'emoved'])==null||_0x556e0b['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x11*-0xe2+-0xeba+-0x6*0xc&&((_0x20cf31=_0x22dd4d['batcher'])==null||_0x20cf31['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x288152;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x531980 in this['_clips'])this['_clips'][_0x531980]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x288152=this['_node'])==null||_0x288152['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x3d401a=[this['_meshInsta'+'nce']];for(let _0x3dd3ce=-0x26*-0xa3+0xdc0+-0x25f2,_0x1ae532=this['_layers']['length'];_0x3dd3ce<_0x1ae532;_0x3dd3ce++){const _0x32508f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3dd3ce]);_0x32508f&&_0x32508f['addMeshIns'+'tances'](_0x3d401a);}this['_addedMode'+'l']=!(-0x1cd5+-0x18db+0x4*0xd6c);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x3f64e9=[this['_meshInsta'+'nce']];for(let _0x574d7b=0xea7+-0xc*-0x1ed+-0x565*0x7,_0x1fb090=this['_layers']['length'];_0x574d7b<_0x1fb090;_0x574d7b++){const _0x4d13b4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x574d7b]);_0x4d13b4&&_0x4d13b4['removeMesh'+'Instances'](_0x3f64e9);}this['_addedMode'+'l']=!(0x24a*-0xb+-0xbb+0x19ea);}['_showFrame'](_0x5b7909){if(!this['sprite'])return;const _0x271644=this['sprite']['meshes'][_0x5b7909];if(!_0x271644){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x1450+0x225f+0xe*-0x101));return;}let _0x2f8c4b;if(this['sprite']['renderMode']===nt?_0x2f8c4b=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x2f8c4b=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x2f8c4b=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x271644,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x124d+0x228a+-0x34d6),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x2315+-0x1*0x22ef+-0x1757*-0x3),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x15e3+-0xe59+0x2*0x121e]=this['_color']['r'],this['_colorUnif'+'orm'][0x88+0x4*0x4+0x97*-0x1]=this['_color']['g'],this['_colorUnif'+'orm'][0x1d*-0xe5+0x17c0+0x233*0x1]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x2f8c4b&&(this['_meshInsta'+'nce']['material']=_0x2f8c4b),this['_meshInsta'+'nce']['mesh']!==_0x271644&&(this['_meshInsta'+'nce']['mesh']=_0x271644,this['_meshInsta'+'nce']['visible']=!(-0x1532*0x1+0x1542+-0x10),this['_meshInsta'+'nce']['_aabbVer']=-(0x1e48+-0x130a+-0xb3d*0x1)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x406499=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x5b7909]];if(_0x406499){const _0x2ce792=(0x7b0*0x1+0x30*0x9d+0x128f*-0x2)/_0x406499['rect']['z'],_0x4f8aed=(0x13ba+-0x9d1*0x3+-0x9bb*-0x1)/_0x406499['rect']['w'];this['_innerOffs'+'et']['set'](_0x406499['border']['x']*_0x2ce792,_0x406499['border']['y']*_0x4f8aed,_0x406499['border']['z']*_0x2ce792,_0x406499['border']['w']*_0x4f8aed);const _0x260b30=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x406499['rect']['x']/_0x260b30['width'],_0x406499['rect']['y']/_0x260b30['height'],_0x406499['rect']['z']/_0x260b30['width'],_0x406499['rect']['w']/_0x260b30['height']);}else this['_innerOffs'+'et']['set'](-0x36*-0xb9+0x7c5+-0x2ecb,0x1027+-0x6b9*0x5+0x1176,-0x1512+0x23c4+-0xeb2,-0x4c*0x1+-0x2318+0x1*0x2364);this['_innerOffs'+'etUniform'][-0x2443+0x17f*0x11+0x7*0x18c]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x18b9*-0x1+-0x2c2+-0x1b7c*-0x1]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0xa*-0x22b+0x1997+-0x2f43]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0xf6+-0x132f+0x6*0x30a]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1d87+0xfd*0x4+0x1993]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1*0x1af+-0x1bd+-0x36d*-0x1]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x9e8*-0x3+0xe67+-0x1*-0xf53]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xb00+-0xc3*-0x5+0x734]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x548007=this['flipX']?-(-0x1*-0xf39+0x14b7+-0x23ef):0x261f+0xc*0x154+0x2*-0x1b07,_0x36ba46=this['flipY']?-(0x619+-0x19ed*-0x1+-0x2005):-0x1d14+-0x1*-0x6c5+0x1650,_0x205857=0x14*-0x1b0+0x1216+-0x5*-0x322,_0x2fc42a=-0x1a4d+-0x1f1f*0x1+0x396c;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x432856=-0x586+-0x1*0x60d+-0x2e5*-0x4,_0x138587=-0x43*-0x63+-0x14d+-0x189b;if(this['sprite']['atlas']){const _0xb2e4d4=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0xb2e4d4&&(_0x432856=_0xb2e4d4['rect']['z'],_0x138587=_0xb2e4d4['rect']['w'],_0x205857=(0x1319*-0x1+-0x1a1a+-0x1d*-0x18f+0.5-_0xb2e4d4['pivot']['x'])*this['_width'],_0x2fc42a=(-0x2*0x129d+-0xe60+0xa52*0x5+0.5-_0xb2e4d4['pivot']['y'])*this['_height']);}const _0x4500b3=_0x432856/this['sprite']['pixelsPerU'+'nit'],_0x42245d=_0x138587/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x4500b3),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x42245d)),_0x548007*=_0x4500b3,_0x36ba46*=_0x42245d,this['_outerScal'+'e']['x']/=_0x4500b3,this['_outerScal'+'e']['y']/=_0x42245d,_0x548007*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x4500b3),0x97*-0x35+0x4ec*-0x3+-0x1*-0x2e07+0.0001,-0x2394*-0x1+0x1d3*-0xe+-0x1*0xa09),_0x36ba46*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x42245d),-0x169*0x2+0x1ad7+-0x1805+0.0001,0x31f+0x3c*-0x3d+0xb2e),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x453+-0x3*0x560+0x1473]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0xf62+0x571+-0x14d2]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x548007,_0x36ba46,-0x180c+0xa8b*0x1+0xd82),this['_node']['setLocalPo'+'sition'](_0x205857,_0x2fc42a,0x42c+-0x711+-0x13*-0x27);}['_updateAab'+'b'](_0x25ca64){return _0x25ca64['center']['set'](0x253+-0x7f*0x11+0x61c,0x1c41+-0x1116+-0xb2b*0x1,0xedd+-0x1396+0x4b9),_0x25ca64['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0xa*-0x106+-0x1fe0+-0x454*-0x5+0.5),this['_outerScal'+'e']['y']*(-0x2532+0x494+-0xa*-0x343+0.5),0xbfd+-0x413+-0x7ea+0.001),_0x25ca64['setFromTra'+'nsformedAa'+'bb'](_0x25ca64,this['_node']['getWorldTr'+'ansform']()),_0x25ca64;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0xfe0c35=this['_clips'][this['_autoPlayC'+'lip']];_0xfe0c35&&!_0xfe0c35['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0xfe0c35['name']);}['_onLayersC'+'hanged'](_0x3484d4,_0x4ee721){_0x3484d4['off']('add',this['onLayerAdd'+'ed'],this),_0x3484d4['off']('remove',this['onLayerRem'+'oved'],this),_0x4ee721['on']('add',this['onLayerAdd'+'ed'],this),_0x4ee721['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x253c0b){this['layers']['indexOf'](_0x253c0b['id'])<0x19f5+0x1*0x2552+-0x3f47||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x253c0b['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x3c9a85){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x3c9a85['id'])<0x1115*-0x2+0x261f+-0x3f5||_0x3c9a85['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x2ca0f9=0x975+0x1*0x10f1+-0x1a66;_0x2ca0f9<this['layers']['length'];_0x2ca0f9++){const _0x654787=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2ca0f9]);_0x654787&&_0x654787['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x2e712f){const _0x205e70=new bi(this,{'name':_0x2e712f['name'],'fps':_0x2e712f['fps'],'loop':_0x2e712f['loop'],'spriteAsset':_0x2e712f['spriteAsse'+'t']});return this['_clips'][_0x2e712f['name']]=_0x205e70,_0x205e70['name']&&_0x205e70['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x205e70;}['removeClip'](_0x5bf48e){delete this['_clips'][_0x5bf48e];}['clip'](_0x234b66){return this['_clips'][_0x234b66];}['play'](_0x518236){const _0x47a4cb=this['_clips'][_0x518236],_0x4c2fa4=this['_currentCl'+'ip'];return _0x4c2fa4&&_0x4c2fa4!==_0x47a4cb&&(_0x4c2fa4['_playing']=!(-0x1b28+-0xf3c+-0x1*-0x2a65)),this['_currentCl'+'ip']=_0x47a4cb,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x47a4cb,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x518236+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x47a4cb;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(-0x1f99*-0x1+0x1*0x2232+-0x1*0x41cb);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x5b2172){super(_0x5b2172),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x5b5e08){this['_defaultMa'+'terial']=_0x5b5e08;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x13a288=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x541392=new Uint8Array(_0x13a288['lock']());_0x541392[-0x586+-0x31f*-0x8+-0x1372]=_0x541392[0x112*0xd+-0x181a+-0xa31*-0x1]=_0x541392[-0x989*-0x4+0x2693+0x10d*-0x49]=_0x541392[0x735+-0x16*-0x125+-0x2060]=-0x6f7+0xad9+-0x2e3*0x1,_0x13a288['unlock']();const _0x595772=new cs();_0x595772['diffuse']['set'](-0x1b1a*0x1+0x8e9+-0x1*-0x1231,-0x2602+0x239d+0x265*0x1,0x2*0xd3f+-0xd1a+-0xd64),_0x595772['emissive']['set'](-0x526*-0x1+0x26f5*0x1+0x1*-0x2c1a,0x2*-0xfee+0x1081*-0x1+-0x12e*-0x29,-0x1632+0xcdb+0x958),_0x595772['emissiveMa'+'p']=_0x13a288,_0x595772['opacityMap']=_0x13a288,_0x595772['opacityMap'+'Channel']='a',_0x595772['useLightin'+'g']=!(0x102b*-0x1+0x191f+0x4f*-0x1d),_0x595772['useTonemap']=!(-0x1864+0x4c*-0x27+0x23f9),_0x595772['useFog']=!(0x1949*0x1+-0x10cc+-0x87c),_0x595772['useSkybox']=!(0x18d7+0x16ee+-0x2fc4),_0x595772['blendType']=hr,_0x595772['depthWrite']=!(-0x136d*-0x1+-0xcfb*0x1+-0x671),_0x595772['pixelSnap']=!(0x4*-0x3d+-0x2a7+0x2c*0x15),_0x595772['cull']=mt,_0x595772['update'](),this['_defaultTe'+'xture']=_0x13a288,this['_defaultMa'+'terial']=_0x595772;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x5863a4){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5863a4;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x2efcea=this['defaultMat'+'erial']['clone']();_0x2efcea['nineSliced'+'Mode']=nt,_0x2efcea['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x2efcea;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x990601){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x990601;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x4b658b=this['defaultMat'+'erial']['clone']();_0x4b658b['nineSliced'+'Mode']=Qe,_0x4b658b['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x4b658b;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x4eec98,_0x9d8c5,_0x3f4d25){if(_0x9d8c5['enabled']!==void(-0x1a*-0x82+-0x1*-0x252d+-0x10cb*0x3)&&(_0x4eec98['enabled']=_0x9d8c5['enabled']),_0x4eec98['type']=_0x9d8c5['type'],_0x9d8c5['layers']&&Array['isArray'](_0x9d8c5['layers'])&&(_0x4eec98['layers']=_0x9d8c5['layers']['slice'](-0x206d+-0x18c1*0x1+-0xd*-0x466)),_0x9d8c5['drawOrder']!==void(-0x89*0x12+-0x925*-0x1+0x7d)&&(_0x4eec98['drawOrder']=_0x9d8c5['drawOrder']),_0x9d8c5['color']!==void(0x18b6+0x23c3+-0x3c79)&&(_0x9d8c5['color']instanceof Y?_0x4eec98['color']['set'](_0x9d8c5['color']['r'],_0x9d8c5['color']['g'],_0x9d8c5['color']['b'],_0x9d8c5['opacity']??0x1510+-0x2595+0x1086):_0x4eec98['color']['set'](_0x9d8c5['color'][0x86*-0x11+-0x1f44+0x1415*0x2],_0x9d8c5['color'][0xe42+0x80*-0x4a+0x16bf],_0x9d8c5['color'][-0x3*-0x36e+0x38+-0xa80],_0x9d8c5['opacity']??-0x198d+-0x9e7+-0x139*-0x1d),_0x4eec98['color']=_0x4eec98['color']),_0x9d8c5['opacity']!==void(0x1414+-0x2f*0x2+-0x13b6)&&(_0x4eec98['opacity']=_0x9d8c5['opacity']),_0x9d8c5['flipX']!==void(-0x8*0x3a9+-0x3af*-0x5+0xadd)&&(_0x4eec98['flipX']=_0x9d8c5['flipX']),_0x9d8c5['flipY']!==void(0xd*-0x22d+0xd36+0xf13)&&(_0x4eec98['flipY']=_0x9d8c5['flipY']),_0x9d8c5['width']!==void(-0x1088+0x24e2+-0x145a)&&(_0x4eec98['width']=_0x9d8c5['width']),_0x9d8c5['height']!==void(0x3*0xc2e+-0xdff*0x2+0x446*-0x2)&&(_0x4eec98['height']=_0x9d8c5['height']),_0x9d8c5['spriteAsse'+'t']!==void(-0x727*0x2+-0x6ad+-0x83*-0x29)&&(_0x4eec98['spriteAsse'+'t']=_0x9d8c5['spriteAsse'+'t']),_0x9d8c5['sprite']&&(_0x4eec98['sprite']=_0x9d8c5['sprite']),_0x9d8c5['frame']!==void(-0xaab*0x1+-0x1*0x20c3+0xe7a*0x3)&&(_0x4eec98['frame']=_0x9d8c5['frame']),_0x9d8c5['clips']){for(const _0x20f658 in _0x9d8c5['clips'])_0x4eec98['addClip'](_0x9d8c5['clips'][_0x20f658]);}_0x9d8c5['speed']!==void(0x1c*0x113+0x57a+-0x238e)&&(_0x4eec98['speed']=_0x9d8c5['speed']),_0x9d8c5['autoPlayCl'+'ip']&&(_0x4eec98['autoPlayCl'+'ip']=_0x9d8c5['autoPlayCl'+'ip']),_0x4eec98['batchGroup'+'Id']=_0x9d8c5['batchGroup'+'Id']===void(-0x218c+0x3*-0x784+-0x167*-0x28)||_0x9d8c5['batchGroup'+'Id']===null?-(-0x2665+0x1f37*0x1+0x1*0x72f):_0x9d8c5['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x4eec98,_0x9d8c5,_0x3f4d25);}['cloneCompo'+'nent'](_0x189e0d,_0x468bf1){const _0x4e7bd8=_0x189e0d['sprite'];return this['addCompone'+'nt'](_0x468bf1,{'enabled':_0x4e7bd8['enabled'],'type':_0x4e7bd8['type'],'spriteAsset':_0x4e7bd8['spriteAsse'+'t'],'sprite':_0x4e7bd8['sprite'],'width':_0x4e7bd8['width'],'height':_0x4e7bd8['height'],'frame':_0x4e7bd8['frame'],'color':_0x4e7bd8['color']['clone'](),'opacity':_0x4e7bd8['opacity'],'flipX':_0x4e7bd8['flipX'],'flipY':_0x4e7bd8['flipY'],'speed':_0x4e7bd8['speed'],'clips':_0x4e7bd8['clips'],'autoPlayClip':_0x4e7bd8['autoPlayCl'+'ip'],'batchGroupId':_0x4e7bd8['batchGroup'+'Id'],'drawOrder':_0x4e7bd8['drawOrder'],'layers':_0x4e7bd8['layers']['slice'](-0x1a20+-0x36c+0x763*0x4)});}['onUpdate'](_0x21bd74){const _0x3eb5f9=this['store'];for(const _0x45d43e in _0x3eb5f9)if(_0x3eb5f9['hasOwnProp'+'erty'](_0x45d43e)){const _0x54611e=_0x3eb5f9[_0x45d43e];if(_0x54611e['data']['enabled']&&_0x54611e['entity']['enabled']){const _0x21429b=_0x54611e['entity']['sprite'];_0x21429b['_currentCl'+'ip']&&_0x21429b['_currentCl'+'ip']['_update'](_0x21bd74);}}}['onBeforeRe'+'move'](_0x33e2ad,_0x3ced68){_0x3ced68['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x19bfba,_0x1d544a){super(_0x19bfba,_0x1d544a),this['_oldState']=!(-0x1bc+-0x8c3*0x1+0xa7f),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x9ba575){_0x9ba575 instanceof T?this['_size']['copy'](_0x9ba575):_0x9ba575 instanceof Array&&_0x9ba575['length']>=0x3*0x857+0x1*0x115+0x1a17*-0x1&&this['size']['set'](_0x9ba575[0x2473*0x1+0x552*-0x7+0xcb],_0x9ba575[-0x18c9+-0x499+0x1d63],_0x9ba575[0x213a*0x1+0x1*-0x1769+-0x1*0x9cf]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x2aeb9c,_0x40be22,_0x3e36ab){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x4df02d=this['enabled']&&this['entity']['enabled'];_0x4df02d!==this['_oldState']&&(this['_oldState']=_0x4df02d,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(-0x1790+-0x151+0x18e1);}}const vx=['enabled'];class WI extends Xe{constructor(_0x5800ec){super(_0x5800ec),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x38e63e,_0x3da346,_0x124923){_0x38e63e['enabled']=_0x3da346['hasOwnProp'+'erty']('enabled')?!!_0x3da346['enabled']:!(0x1*-0x17f9+-0x23e2*0x1+-0x4d*-0xc7),_0x3da346['size']&&(_0x3da346['size']instanceof T?_0x38e63e['size']['copy'](_0x3da346['size']):_0x3da346['size']instanceof Array&&_0x3da346['size']['length']>=0x15a+0x1c01+-0x1d58&&_0x38e63e['size']['set'](_0x3da346['size'][0x2*0xaf7+0x2356+-0x3944],_0x3da346['size'][-0x75d*-0x1+-0x1*0xfb7+-0x17*-0x5d],_0x3da346['size'][0xb*0x12b+0xedf+-0x1bb6*0x1]));}['cloneCompo'+'nent'](_0x30d93a,_0x3bd806){const _0x4c9115={'enabled':_0x30d93a['zone']['enabled'],'size':_0x30d93a['zone']['size']};return this['addCompone'+'nt'](_0x3bd806,_0x4c9115);}['_onBeforeR'+'emove'](_0x9f8884,_0x4e0b44){_0x4e0b44['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class $I{constructor(_0x2e6322,_0x1f5500){this['effect']=_0x2e6322,this['inputTarge'+'t']=_0x1f5500,this['outputTarg'+'et']=null,this['name']=_0x2e6322['constructo'+'r']['name'];}}class qI{constructor(_0x5eaa70,_0x1622df){this['app']=_0x5eaa70,this['camera']=_0x1622df,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x127c+-0x5bf+0x183c),this['depthTarge'+'t']=null,_0x1622df['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x57bcdb,_0x929cc4){const _0x4e3cea=this['camera']['rect'],_0x3b93e6=this['destinatio'+'nRenderTar'+'get'],_0x434df5=this['app']['graphicsDe'+'vice'],_0x5d0e98=Math['floor'](_0x4e3cea['z']*((_0x3b93e6==null?void(-0x23cc+0x132b+0x10a1):_0x3b93e6['width'])??_0x434df5['width'])),_0x2de263=Math['floor'](_0x4e3cea['w']*((_0x3b93e6==null?void(0x1ceb+0x311*-0x1+-0x19da):_0x3b93e6['height'])??_0x434df5['height']));return new he(_0x434df5,{'name':_0x929cc4,'format':_0x57bcdb,'width':_0x5d0e98,'height':_0x2de263,'mipmaps':!(-0x1*-0x21b3+-0x1ba8+-0x60a),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x501198,_0x1c533d){const _0x227325=this['app']['graphicsDe'+'vice'],_0x534afa=(this['destinatio'+'nRenderTar'+'get']??_0x227325['backBuffer'])['isColorBuf'+'ferSrgb'](0x36b*0x1+-0x20dc+0x1d71),_0x4ba6c1=(_0x1c533d&&_0x227325['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(0xb*0x355+-0xc4f+-0x1858)))??(_0x534afa?rs:Se),_0x4aad9b=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x27252f=this['_allocateC'+'olorBuffer'](_0x4ba6c1,_0x4aad9b);return new pt({'colorBuffer':_0x27252f,'depth':_0x501198,'stencil':_0x501198&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x501198?_0x227325['samples']:-0x1dc4+0xb9*-0xf+0x1c4*0x17});}['_resizeOff'+'screenTarg'+'et'](_0x4e68a9){const _0x429969=_0x4e68a9['colorBuffe'+'r']['format'],_0x1bedd6=_0x4e68a9['colorBuffe'+'r']['name'];_0x4e68a9['destroyFra'+'meBuffers'](),_0x4e68a9['destroyTex'+'tureBuffer'+'s'](),_0x4e68a9['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x429969,_0x1bedd6),_0x4e68a9['_colorBuff'+'ers']=[_0x4e68a9['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x2754ef){_0x2754ef['destroyTex'+'tureBuffer'+'s'](),_0x2754ef['destroy']();}['addEffect'](_0x5cb390){const _0x542571=this['effects'],_0x41704f=_0x542571['length']===0x1ff+-0x257e*-0x1+-0x277d,_0x35edfe=this['_createOff'+'screenTarg'+'et'](_0x41704f,_0x5cb390['hdr']),_0x482eca=new $I(_0x5cb390,_0x35edfe);_0x542571['push'](_0x482eca),this['_sourceTar'+'get']=_0x482eca['inputTarge'+'t'],_0x542571['length']>-0x1b7*-0x11+-0x154d+-0x7d9&&(_0x542571[_0x542571['length']-(0x1fa8+-0x132d*0x1+-0xc79)]['outputTarg'+'et']=_0x482eca['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x5cb390,_0x5cb390['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x4ef*-0x2+0x2*0x377+-0x10cc);}['removeEffe'+'ct'](_0x415752){let _0xb686c1=-(0x1*-0x47b+0x26*-0xec+-0xd2c*-0x3);for(let _0x2e07a3=-0x1253*-0x2+0x142a+-0x38d0,_0x1f3a90=this['effects']['length'];_0x2e07a3<_0x1f3a90;_0x2e07a3++)if(this['effects'][_0x2e07a3]['effect']===_0x415752){_0xb686c1=_0x2e07a3;break;}_0xb686c1>=-0x4d5+-0x1b17*-0x1+-0x1642&&(_0xb686c1>-0x2*-0x4f9+0x1627+-0x2019?this['effects'][_0xb686c1-(-0x1363*-0x1+-0x68d*-0x1+0x1*-0x19ef)]['outputTarg'+'et']=_0xb686c1+(0x37*-0xe+-0x140e+0x1*0x1711)<this['effects']['length']?this['effects'][_0xb686c1+(-0x145d+0x39d*-0x7+0x2da9)]['inputTarge'+'t']:null:this['effects']['length']>0xa4c+-0x7fe*-0x2+0x1f*-0xd9&&(this['effects'][-0x4e*0x1d+0x1*-0x24bd+0x2d94]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x1993+0x19*0x157+-0x7eb*0x1]['inputTarge'+'t']),this['effects'][0x1*-0x16e1+-0x9e9+0x20cb]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x13b5+0x1*0x1697+-0x4*0xa93),this['effects'][0x2*0xa25+-0x19d8+0x58f]['hdr']),this['_sourceTar'+'get']=this['effects'][0x2ad+-0x469*-0x1+0x103*-0x7]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x1*0xe48+0x219*-0x9+0x212a]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0xb686c1]['inputTarge'+'t']),this['effects']['splice'](_0xb686c1,-0x200e+-0x3fd*0x7+0x3bfa)),this['enabled']&&_0x415752['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x11fd+-0x22e4+0x1*0x34e1&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x3d4047=0x16f0+0x1*-0x6b1+-0x103f*0x1,_0x5537be=this['effects']['length'];_0x3d4047<_0x5537be;_0x3d4047++){const _0x316995=this['effects'][_0x3d4047]['effect'];this['_newPostEf'+'fect']!==_0x316995&&_0x316995['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x3c522b=0x8*-0x236+-0x1*0x567+-0x1*-0x1717,_0x1412ea=this['effects']['length'];_0x3c522b<_0x1412ea;_0x3c522b++)this['effects'][_0x3c522b]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x32de9b=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x32de9b&&(_0x32de9b['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1*-0x12c1+0xd2d*0x1+0x594)));}['_releaseDe'+'pthMap'](){const _0x1c6736=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x1c6736&&(_0x1c6736['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0xdc8+0x1c48+-0x2a0f)));}['destroy'](){for(let _0xf3b948=-0x20ab+0x22c7+-0x10e*0x2,_0x1da16a=this['effects']['length'];_0xf3b948<_0x1da16a;_0xf3b948++)this['effects'][_0xf3b948]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x1142+-0x1304*0x1+-0x1*-0x2446,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0xf*-0xc+0xc5d+0xf*-0xdf),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x11d+-0x1d2c+0x1e49]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x497826=null;const _0x50fd8b=this['effects']['length'];if(_0x50fd8b)for(let _0x2fce72=0x1*0x670+-0x2709+0x2099;_0x2fce72<_0x50fd8b;_0x2fce72++){const _0x217ff5=this['effects'][_0x2fce72];let _0x57ad95=_0x217ff5['outputTarg'+'et'];_0x2fce72===_0x50fd8b-(-0x1f36*0x1+-0x16*-0x190+-0x329)&&(_0x497826=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x57ad95=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x217ff5['name']),_0x217ff5['effect']['render'](_0x217ff5['inputTarge'+'t'],_0x57ad95,_0x497826),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x13f*0x19+-0x97f+-0x15a7),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x29193d,_0x2a5b61){const _0x467ff9=this['camera']['rect'],_0x1358cb=this['destinatio'+'nRenderTar'+'get'];_0x29193d=(_0x1358cb==null?void(-0x7e3*-0x3+-0x4f*-0x6a+-0x385f):_0x1358cb['width'])??_0x29193d,_0x2a5b61=(_0x1358cb==null?void(-0x19e3+-0x5*0x26b+0x25fa):_0x1358cb['height'])??_0x2a5b61,this['camera']['camera']['aspectRati'+'o']=_0x29193d*_0x467ff9['z']/(_0x2a5b61*_0x467ff9['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x3e2867=this['app']['graphicsDe'+'vice'],_0x29c3fa=this['destinatio'+'nRenderTar'+'get'],_0x102fb2=(_0x29c3fa==null?void(-0x7a6*0x1+-0x1c0d+0x23b3):_0x29c3fa['width'])??_0x3e2867['width'],_0x467e46=(_0x29c3fa==null?void(-0x3*0x3fb+0x12a1*-0x1+-0x56*-0x5b):_0x29c3fa['height'])??_0x3e2867['height'],_0x4a02a6=this['camera']['rect'],_0xa7788e=Math['floor'](_0x4a02a6['z']*_0x102fb2),_0xc1617b=Math['floor'](_0x4a02a6['w']*_0x467e46),_0x4af1c7=this['effects'];for(let _0x2a21e3=0x1196+0x131f*-0x1+-0x3*-0x83,_0x1fc5ee=_0x4af1c7['length'];_0x2a21e3<_0x1fc5ee;_0x2a21e3++){const _0xb07664=_0x4af1c7[_0x2a21e3];(_0xb07664['inputTarge'+'t']['width']!==_0xa7788e||_0xb07664['inputTarge'+'t']['height']!==_0xc1617b)&&this['_resizeOff'+'screenTarg'+'et'](_0xb07664['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x40170b,_0x405b3b,_0x4a64bd){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x5c7886,_0x2a1d2b){super(_0x5c7886,_0x2a1d2b),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',-0x25*0x37+-0xc7*-0x3+0x59e),c(this,'_renderSce'+'neColorMap',-0x1*-0x1165+-0xd3*0x15+0xb*-0x2),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0x952+0x1ae7+0x2ee*-0x6)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x1*-0x791+-0x1fa7+0x2739)),c(this,'_priority',-0xdca+-0xa70+0x183a),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x2a1d2b,this['_postEffec'+'ts']=new qI(_0x5c7886['app'],this));}['setShaderP'+'ass'](_0x47a4ed){const _0x499b05=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x2eab8b=_0x47a4ed?_0x499b05['allocate'](_0x47a4ed,{'isForward':!(-0x1*0xe8a+0x1ec3+-0x1039)}):null;return this['_camera']['shaderPass'+'Info']=_0x2eab8b,_0x2eab8b['index'];}['getShaderP'+'ass'](){var _0x2fea61;return(_0x2fea61=this['_camera']['shaderPass'+'Info'])==null?void(0x40*-0x4a+-0xbdf+0x137*0x19):_0x2fea61['name'];}set['renderPass'+'es'](_0x4d65d4){this['_camera']['renderPass'+'es']=_0x4d65d4||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0xfe0+-0x1*-0xe6b+-0x1e4b);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x359006){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x359006;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x30b3ae){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x30b3ae;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x15d48e){this['_camera']['fogParams']=_0x15d48e;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x5bdb43){this['_camera']['aperture']=_0x5bdb43;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x106cbb){this['_camera']['aspectRati'+'o']=_0x106cbb;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x4a6575){this['_camera']['aspectRati'+'oMode']=_0x4a6575;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x3a18bf){this['_camera']['calculateP'+'rojection']=_0x3a18bf;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x1209f2){this['_camera']['calculateT'+'ransform']=_0x1209f2;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x2b741a){this['_camera']['clearColor']=_0x2b741a;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x56372f){this['_camera']['clearColor'+'Buffer']=_0x56372f,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x457ca0){this['_camera']['clearDepth'+'Buffer']=_0x457ca0,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x5e851a){this['_camera']['clearStenc'+'ilBuffer']=_0x5e851a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x10b283){this['_camera']['cullFaces']=_0x10b283;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x39f73){this['_disablePo'+'stEffectsL'+'ayer']=_0x39f73,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x54ce92){this['_camera']['farClip']=_0x54ce92;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x51a7d6){this['_camera']['flipFaces']=_0x51a7d6;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x370917){this['_camera']['fov']=_0x370917;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x2e5d47){this['_camera']['frustumCul'+'ling']=_0x2e5d47;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x3b3751){this['_camera']['horizontal'+'Fov']=_0x3b3751;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x1403c6){const _0x41fc88=this['_camera']['layers'],_0x4863e9=this['system']['app']['scene'];_0x41fc88['forEach'](_0x39c7df=>{const _0x563e69=_0x4863e9['layers']['getLayerBy'+'Id'](_0x39c7df);_0x563e69==null||_0x563e69['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x1403c6,this['enabled']&&this['entity']['enabled']&&_0x1403c6['forEach'](_0x3fd71c=>{const _0x4bd547=_0x4863e9['layers']['getLayerBy'+'Id'](_0x3fd71c);_0x4bd547==null||_0x4bd547['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x1674ca){this['_camera']['jitter']=_0x1674ca;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x529e4d){this['_camera']['nearClip']=_0x529e4d;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x282e8d){this['_camera']['orthoHeigh'+'t']=_0x282e8d;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x5adf80){this['_priority']=_0x5adf80,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x105599){this['_camera']['projection']=_0x105599;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x543b62){this['_camera']['rect']=_0x543b62,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x47b460){_0x47b460&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x19db*-0x1+0xb77+-0x2552)),this['_sceneColo'+'rMapReques'+'ted']=!(0x69*-0x3d+-0x1*0x2551+-0x1*-0x3e56)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x119f+-0xb0a+-0xe55*-0x2)),this['_sceneColo'+'rMapReques'+'ted']=!(0x25f*-0xd+-0x2b8+0x4c*0x71));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x805+-0x1eaf*0x1+0x26b4;}set['renderScen'+'eDepthMap'](_0x3a9b52){_0x3a9b52&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x1742*0x1+0xe*-0x43+-0x3*0x688)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x5*-0x1c1+-0x320*-0x5+-0x1865*0x1)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x6*-0x10e+0x47e*-0x6+0x14a1*0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x49d+-0x805*-0x1+-0x367*0x1));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1*0x23ec+0xf23+-0x1*0x330f;}set['renderTarg'+'et'](_0x732577){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x1c09+-0x8a*-0x40+-0x3e89&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x732577,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x839a2b){this['_camera']['scissorRec'+'t']=_0x839a2b;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x325a66){this['_camera']['sensitivit'+'y']=_0x325a66;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x25f212){this['_camera']['shutter']=_0x25f212;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0xa510a7){if(this['layers']['find'](_0x2bb9fe=>_0x2bb9fe===Xt)){const _0x3956d8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0xa510a7?_0x3956d8==null||_0x3956d8['incrementC'+'ounter']():_0x3956d8==null||_0x3956d8['decrementC'+'ounter']();}else{if(_0xa510a7)return!(0x8*-0x274+0x39*0xc+0x10f5);}return!(-0x1cfc+0x22c2+-0x2*0x2e3);}['requestSce'+'neColorMap'](_0x113711){this['_renderSce'+'neColorMap']+=_0x113711?0x7*0x166+0xb68+-0x1531*0x1:-(0x1691*-0x1+0x1bf7+-0x565),v['assert'](this['_renderSce'+'neColorMap']>=-0x1*0x1ba6+0x8b9+0x12ed),this['_enableDep'+'thLayer'](_0x113711)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x4c11d4){this['_renderSce'+'neDepthMap']+=_0x4c11d4?0x1c*-0x42+-0x135f*-0x1+-0x1*0xc26:-(0x1193+0x20e5+-0x3277*0x1),v['assert'](this['_renderSce'+'neDepthMap']>=-0x1f4c+-0x994+0x28e0),this['_enableDep'+'thLayer'](_0x4c11d4)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x1ffe54=this['system']['app']['scene']['layers'];_0x1ffe54['_dirty']=!(0x1480+0xc65*-0x1+-0x81b);}['screenToWo'+'rld'](_0x2c84df,_0x376760,_0x11a2a7,_0x1addf4){const _0x210fe7=this['system']['app']['graphicsDe'+'vice'],{width:_0x4aa0be,height:_0x57003d}=_0x210fe7['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x2c84df,_0x376760,_0x11a2a7,_0x4aa0be,_0x57003d,_0x1addf4);}['worldToScr'+'een'](_0xf79cd5,_0x220ad7){const _0x5649a=this['system']['app']['graphicsDe'+'vice'],{width:_0x283485,height:_0x5e231d}=_0x5649a['clientRect'];return this['_camera']['worldToScr'+'een'](_0xf79cd5,_0x283485,_0x5e231d,_0x220ad7);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x29*0xda+-0x200d+-0x2dd*0x1),this['_camera']['_viewProjM'+'atDirty']=!(0x6*0x293+0xb83*0x2+0x133c*-0x2);}['addCameraT'+'oLayers'](){const _0x14593b=this['layers'];for(let _0x5b9d12=-0x49*0x5c+0x25cd+-0xb91;_0x5b9d12<_0x14593b['length'];_0x5b9d12++){const _0x3061f8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x14593b[_0x5b9d12]);_0x3061f8&&_0x3061f8['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x135899=this['layers'];for(let _0x5eeb48=0x37*-0xb0+0x1d*-0xa+0x26f2*0x1;_0x5eeb48<_0x135899['length'];_0x5eeb48++){const _0x5ec21a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x135899[_0x5eeb48]);_0x5ec21a&&_0x5ec21a['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x240e3a,_0x4f20d2){this['addCameraT'+'oLayers'](),_0x240e3a['off']('add',this['onLayerAdd'+'ed'],this),_0x240e3a['off']('remove',this['onLayerRem'+'oved'],this),_0x4f20d2['on']('add',this['onLayerAdd'+'ed'],this),_0x4f20d2['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x246db4){this['layers']['indexOf'](_0x246db4['id'])<0x34*-0x21+0x1cc7+-0x1613||_0x246db4['addCamera'](this);}['onLayerRem'+'oved'](_0x447b6c){this['layers']['indexOf'](_0x447b6c['id'])<-0x33*0x12+0x804+0x7*-0xa2||_0x447b6c['removeCame'+'ra'](this);}['onEnable'](){var _0x591ac5,_0x2a5604,_0x513684;const _0x356b50=this['system']['app']['scene'],_0x5fad2=_0x356b50['layers'];this['system']['addCamera'](this),(_0x591ac5=this['_evtLayers'+'Changed'])==null||_0x591ac5['off'](),this['_evtLayers'+'Changed']=_0x356b50['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5fad2&&((_0x2a5604=this['_evtLayerA'+'dded'])==null||_0x2a5604['off'](),this['_evtLayerA'+'dded']=_0x5fad2['on']('add',this['onLayerAdd'+'ed'],this),(_0x513684=this['_evtLayerR'+'emoved'])==null||_0x513684['off'](),this['_evtLayerR'+'emoved']=_0x5fad2['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x3af013,_0x37e080,_0xabbf9e;const _0x253bd7=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x3af013=this['_evtLayers'+'Changed'])==null||_0x3af013['off'](),this['_evtLayers'+'Changed']=null,_0x253bd7&&((_0x37e080=this['_evtLayerA'+'dded'])==null||_0x37e080['off'](),this['_evtLayerA'+'dded']=null,(_0xabbf9e=this['_evtLayerR'+'emoved'])==null||_0xabbf9e['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x6f61e4){const _0x30a2e4=this['system']['app']['graphicsDe'+'vice'],_0x4f218a=_0x6f61e4?_0x6f61e4['width']:_0x30a2e4['width'],_0x1eec1b=_0x6f61e4?_0x6f61e4['height']:_0x30a2e4['height'];return _0x4f218a*this['rect']['z']/(_0x1eec1b*this['rect']['w']);}['frameUpdat'+'e'](_0x191c6f){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x191c6f));}['startXr'](_0x52ffb8,_0x41fcbb,_0x34cd58){this['system']['app']['xr']['start'](this,_0x52ffb8,_0x41fcbb,_0x34cd58);}['endXr'](_0xd70a50){if(!this['_camera']['xr']){_0xd70a50&&_0xd70a50(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0xd70a50);}['copy'](_0x1a1422){this['aperture']=_0x1a1422['aperture'],this['aspectRati'+'o']=_0x1a1422['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x1a1422['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x1a1422['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x1a1422['calculateT'+'ransform'],this['clearColor']=_0x1a1422['clearColor'],this['clearColor'+'Buffer']=_0x1a1422['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x1a1422['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x1a1422['clearStenc'+'ilBuffer'],this['cullFaces']=_0x1a1422['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x1a1422['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x1a1422['farClip'],this['flipFaces']=_0x1a1422['flipFaces'],this['fov']=_0x1a1422['fov'],this['frustumCul'+'ling']=_0x1a1422['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x1a1422['horizontal'+'Fov'],this['layers']=_0x1a1422['layers'],this['nearClip']=_0x1a1422['nearClip'],this['orthoHeigh'+'t']=_0x1a1422['orthoHeigh'+'t'],this['priority']=_0x1a1422['priority'],this['projection']=_0x1a1422['projection'],this['rect']=_0x1a1422['rect'],this['renderTarg'+'et']=_0x1a1422['renderTarg'+'et'],this['scissorRec'+'t']=_0x1a1422['scissorRec'+'t'],this['sensitivit'+'y']=_0x1a1422['sensitivit'+'y'],this['shutter']=_0x1a1422['shutter'];}}class XI{constructor(){this['enabled']=!(0x186a*-0x1+0x15a1*0x1+0x2c9);}}const wx=['enabled'];class jI extends Xe{constructor(_0x484650){super(_0x484650),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x332f29,_0x38ab60,_0x506dde){_0x506dde=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x5222c2=-0x1532+0x199+0x1399;_0x5222c2<_0x506dde['length'];_0x5222c2++){const _0x3df671=_0x506dde[_0x5222c2];if(_0x38ab60['hasOwnProp'+'erty'](_0x3df671)){const _0x4c1b5f=_0x38ab60[_0x3df671];switch(_0x3df671){case'rect':case'scissorRec'+'t':Array['isArray'](_0x4c1b5f)?_0x332f29[_0x3df671]=new Q(_0x4c1b5f[-0xb53*0x1+0x26cd+0xdbd*-0x2],_0x4c1b5f[0x191*-0x15+0xde0*-0x2+0x3ca6],_0x4c1b5f[-0x3*-0x395+0x3c*-0x9b+0x1997],_0x4c1b5f[-0xab7*-0x1+0x1b61+0x2615*-0x1]):_0x332f29[_0x3df671]=_0x4c1b5f;break;case'clearColor':Array['isArray'](_0x4c1b5f)?_0x332f29[_0x3df671]=new Y(_0x4c1b5f[-0xb4b+-0x3*-0xcb+-0xe*-0xa3],_0x4c1b5f[-0xb19+0x1*-0x11fc+0x92*0x33],_0x4c1b5f[-0x10f5+0x19f6+-0x8ff],_0x4c1b5f[0x21*0x10+-0x2*0xf74+0x1*0x1cdb]):_0x332f29[_0x3df671]=_0x4c1b5f;break;default:_0x332f29[_0x3df671]=_0x4c1b5f;break;}}}super['initialize'+'ComponentD'+'ata'](_0x332f29,_0x38ab60,['enabled']);}['cloneCompo'+'nent'](_0x2c7d65,_0x5c797c){const _0xdde7=_0x2c7d65['camera'];return this['addCompone'+'nt'](_0x5c797c,{'aspectRatio':_0xdde7['aspectRati'+'o'],'aspectRatioMode':_0xdde7['aspectRati'+'oMode'],'calculateProjection':_0xdde7['calculateP'+'rojection'],'calculateTransform':_0xdde7['calculateT'+'ransform'],'clearColor':_0xdde7['clearColor'],'clearColorBuffer':_0xdde7['clearColor'+'Buffer'],'clearDepthBuffer':_0xdde7['clearDepth'+'Buffer'],'clearStencilBuffer':_0xdde7['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0xdde7['renderScen'+'eDepthMap'],'renderSceneColorMap':_0xdde7['renderScen'+'eColorMap'],'cullFaces':_0xdde7['cullFaces'],'enabled':_0xdde7['enabled'],'farClip':_0xdde7['farClip'],'flipFaces':_0xdde7['flipFaces'],'fov':_0xdde7['fov'],'frustumCulling':_0xdde7['frustumCul'+'ling'],'horizontalFov':_0xdde7['horizontal'+'Fov'],'layers':_0xdde7['layers'],'renderTarget':_0xdde7['renderTarg'+'et'],'nearClip':_0xdde7['nearClip'],'orthoHeight':_0xdde7['orthoHeigh'+'t'],'projection':_0xdde7['projection'],'priority':_0xdde7['priority'],'rect':_0xdde7['rect'],'scissorRect':_0xdde7['scissorRec'+'t'],'aperture':_0xdde7['aperture'],'sensitivity':_0xdde7['sensitivit'+'y'],'shutter':_0xdde7['shutter'],'gammaCorrection':_0xdde7['gammaCorre'+'ction'],'toneMapping':_0xdde7['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x4b199e,_0x4b8c28){this['removeCame'+'ra'](_0x4b8c28),_0x4b8c28['onRemove']();}['onAppPrere'+'nder'](){for(let _0x1071a0=0x2273+0x745+-0x29b8,_0x374f45=this['cameras']['length'];_0x1071a0<_0x374f45;_0x1071a0++)this['cameras'][_0x1071a0]['onAppPrere'+'nder']();}['addCamera'](_0x725076){this['cameras']['push'](_0x725076),No(this['cameras']);}['removeCame'+'ra'](_0x14974b){const _0x412e98=this['cameras']['indexOf'](_0x14974b);_0x412e98>=-0xaf+0xb2*0x1f+-0x14df&&(this['cameras']['splice'](_0x412e98,0x617+-0x19*-0x185+-0x3*0xeb1),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0x6*0x1d+-0x6fc*0x1+0x64e)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(-0xdff+-0xd*0x25f+0x2cd3,-0x19d8*0x1+0x10*-0xc0+-0x25d9*-0x1,0x43f*0x4+-0xb0+0x104b*-0x1)),c(this,'intensity',0x8*0x287+0xd5f+-0x2196),c(this,'luminance',0x1006*-0x1+-0x1b6b+0x151*0x21),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(0xc70+-0x2036+-0x2*-0x9e3)),c(this,'castShadow'+'s',!(-0x449*-0x5+-0x15a2*0x1+0x2*0x1b)),c(this,'shadowDist'+'ance',0x959*-0x2+0x1*-0xbc4+0x1*0x1e9e),c(this,'shadowInte'+'nsity',-0x2664+0x1ba+-0x24ab*-0x1),c(this,'shadowReso'+'lution',-0x1b55+0x737*-0x5+0x4368),c(this,'shadowBias',0xa8+-0x88c+0x7e4+0.05),c(this,'numCascade'+'s',-0x1861+-0x1*-0x1491+0x3d1),c(this,'cascadeBle'+'nd',-0x1d2f+0x6b*-0x8+0x2087),c(this,'bakeNumSam'+'ples',-0x5*0x368+-0xd78+-0x3*-0xa2b),c(this,'bakeArea',0x170+-0x1e48+0x8e*0x34),c(this,'cascadeDis'+'tribution',-0x7*0x116+0x120a+-0x538*0x2+0.5),c(this,'normalOffs'+'etBias',-0x6f*-0x25+0x2bf*-0x4+-0x50f*0x1),c(this,'range',-0x305*-0x5+0x5cf+-0x14de),c(this,'innerConeA'+'ngle',-0x248b+0x11aa+0x1309),c(this,'outerConeA'+'ngle',-0x12d0+0x95+0x49a*0x4),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',0x178c+-0x6fd*0x3+-0x28a),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(-0x55a+0x49f+0xbb+0.01)*(0x2cb*0x3+0x10df+-0x65*0x40+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0x19ff+0x23a1*0x1+-0x1d*0x55),c(this,'cookieFall'+'off',!(-0x42f+0x1604+0x1*-0x11d5)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x109+0x81*0x1f+0x29*-0x68),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',0xb*-0x13e+-0xf31+0x4*0x737),c(this,'affectDyna'+'mic',!(0x2576+-0x43*0x31+-0x18a3)),c(this,'affectLigh'+'tmapped',!(0x1af5+-0x35b*-0x7+-0x3271)),c(this,'bake',!(0xab0+-0x2c2+-0x7ed)),c(this,'bakeDir',!(-0x1b0f+-0x599*0x4+0x3173)),c(this,'isStatic',!(-0x1*0x869+-0x1*0x7c2+0x102c)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',-0x143f+-0x1e3+0x1623),c(this,'penumbraFa'+'lloff',0x23c*-0x1+0x1ee4+-0x1ca7),c(this,'shadowSamp'+'les',0xeeb+0x2a3*-0xa+0xb83),c(this,'shadowBloc'+'kerSamples',-0x1496+0x1b62*0x1+-0x35e*0x2);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x1*0x24a6+-0xb*-0x20e+-0x20b*0x1d)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x239f12=this['system']['store'][this['entity']['getGuid']()];return _0x239f12?_0x239f12['data']:null;}set['enabled'](_0x5f359a){this['_setValue']('enabled',_0x5f359a,function(_0x9625a7,_0x1bc775){this['onSetEnabl'+'ed'](null,_0x1bc775,_0x9625a7);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x33caf7){this['_setValue']('light',_0x33caf7);}get['light'](){return this['data']['light'];}set['type'](_0x2c22eb){this['_setValue']('type',_0x2c22eb,function(_0x77a7a9,_0x36a1a7){this['system']['changeType'](this,_0x36a1a7,_0x77a7a9),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0xafb2b6){this['_setValue']('color',_0xafb2b6,function(_0x2f21e1,_0x8e551d){this['light']['setColor'](_0x2f21e1);},!(0x26*-0xe9+0x42+0x2254));}get['color'](){return this['data']['color'];}set['intensity'](_0x238acb){this['_setValue']('intensity',_0x238acb,function(_0x26e790,_0x36464a){this['light']['intensity']=_0x26e790;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x2cb6b2){this['_setValue']('luminance',_0x2cb6b2,function(_0x4f5805,_0x39ed2e){this['light']['luminance']=_0x4f5805;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x4fb840){this['_setValue']('shape',_0x4fb840,function(_0x5a4065,_0x5e5e48){this['light']['shape']=_0x5a4065;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x336504){this['_setValue']('affectSpec'+'ularity',_0x336504,function(_0x97a6e3,_0x58c7a9){this['light']['affectSpec'+'ularity']=_0x97a6e3;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x442e19){this['_setValue']('castShadow'+'s',_0x442e19,function(_0x44a911,_0x440153){this['light']['castShadow'+'s']=_0x44a911;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x161afd){this['_setValue']('shadowDist'+'ance',_0x161afd,function(_0xc4f88,_0x10288f){this['light']['shadowDist'+'ance']=_0xc4f88;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x208ff2){this['_setValue']('shadowInte'+'nsity',_0x208ff2,function(_0x2030c5,_0x569e68){this['light']['shadowInte'+'nsity']=_0x2030c5;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x330b3a){this['_setValue']('shadowReso'+'lution',_0x330b3a,function(_0x14c8b5,_0x3f1a13){this['light']['shadowReso'+'lution']=_0x14c8b5;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x106783){this['_setValue']('shadowBias',_0x106783,function(_0x423e74,_0x46a3d3){this['light']['shadowBias']=-(0x2279+0x2635+-0x48ae+0.01)*N['clamp'](_0x423e74,-0x20e7+0x71*-0x8+0x246f,0x1dee+-0x416*-0x7+-0x3a87);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x3d3dba){this['_setValue']('numCascade'+'s',_0x3d3dba,function(_0x2d3788,_0x4e8713){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x2d3788),-0x19af+0x1887+0x129,0x3ff+0x175c+0x91d*-0x3);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x36a7df){this['_setValue']('cascadeBle'+'nd',_0x36a7df,function(_0x426ed3,_0x55d678){this['light']['cascadeBle'+'nd']=N['clamp'](_0x426ed3,0x4*0x735+-0x16e7+0x1*-0x5ed,0x2f*0x1a+-0x51+-0x474);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x412995){this['_setValue']('bakeNumSam'+'ples',_0x412995,function(_0x450347,_0x3447fb){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x450347),0x10a*-0x13+0xacf+0x8f*0x10,0x1a66+0x25c8+-0x3f2f);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x102fc1){this['_setValue']('bakeArea',_0x102fc1,function(_0x473872,_0x5872cc){this['light']['bakeArea']=N['clamp'](_0x473872,-0x659*-0x4+0x21d8+-0x3b3c,-0x189d+-0x4d*-0x7f+-0x2*0x671);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x51e779){this['_setValue']('cascadeDis'+'tribution',_0x51e779,function(_0x315be7,_0x4a81cd){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x315be7,0x17bc+-0x5*-0x18f+-0x1f87,0x1da2+-0x2*0x12b5+0x7c9*0x1);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x8fe9d3){this['_setValue']('normalOffs'+'etBias',_0x8fe9d3,function(_0x5a6d42,_0x28c3f1){this['light']['normalOffs'+'etBias']=N['clamp'](_0x5a6d42,0x1*0xf1b+-0x381+0x1b*-0x6e,-0x1*0x166b+0x1b5+0x14b7);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x1f4bf0){this['_setValue']('range',_0x1f4bf0,function(_0x46df8f,_0x7be2fa){this['light']['attenuatio'+'nEnd']=_0x46df8f;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x1dcb5f){this['_setValue']('innerConeA'+'ngle',_0x1dcb5f,function(_0x18dbb6,_0x35431c){this['light']['innerConeA'+'ngle']=_0x18dbb6;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x41978d){this['_setValue']('outerConeA'+'ngle',_0x41978d,function(_0x2bc8ba,_0x1ada53){this['light']['outerConeA'+'ngle']=_0x2bc8ba;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x3ec744){this['_setValue']('falloffMod'+'e',_0x3ec744,function(_0x3a1c22,_0x44efc8){this['light']['falloffMod'+'e']=_0x3a1c22;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x67d2c3){this['_setValue']('shadowType',_0x67d2c3,function(_0x37d090,_0x3ccd7c){this['light']['shadowType']=_0x37d090;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x4b9b50){this['_setValue']('vsmBlurSiz'+'e',_0x4b9b50,function(_0x17f018,_0x4f57f9){this['light']['vsmBlurSiz'+'e']=_0x17f018;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x2d76c4){this['_setValue']('vsmBlurMod'+'e',_0x2d76c4,function(_0x461d6c,_0x4e193a){this['light']['vsmBlurMod'+'e']=_0x461d6c;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x516079){this['_setValue']('vsmBias',_0x516079,function(_0x587489,_0x5e5adc){this['light']['vsmBias']=N['clamp'](_0x587489,-0xa70*-0x1+0x304*0x8+-0x8a4*0x4,0x59*0x21+-0x7e3+-0x7*0x83);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x594c32){this['_setValue']('cookieAsse'+'t',_0x594c32,function(_0x38aa24,_0x402385){if(!(this['_cookieAss'+'etId']&&(_0x38aa24 instanceof le&&_0x38aa24['id']===this['_cookieAss'+'etId']||_0x38aa24===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x38aa24 instanceof le)this['data']['cookieAsse'+'t']=_0x38aa24['id'],this['_cookieAss'+'etId']=_0x38aa24['id'],this['onCookieAs'+'setAdd'](_0x38aa24);else{if(typeof _0x38aa24=='number'){this['_cookieAss'+'etId']=_0x38aa24;const _0x3dcf11=this['system']['app']['assets']['get'](_0x38aa24);_0x3dcf11?this['onCookieAs'+'setAdd'](_0x3dcf11):(this['_cookieAss'+'etAdd']=!(0x1*0x755+-0x25*0xd3+0x172a*0x1),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x3f6143){this['_setValue']('cookie',_0x3f6143,function(_0x33ea71,_0x2ca32a){this['light']['cookie']=_0x33ea71;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x236b56){this['_setValue']('cookieInte'+'nsity',_0x236b56,function(_0x3be103,_0x52517e){this['light']['cookieInte'+'nsity']=N['clamp'](_0x3be103,-0x16de+0x19*-0x133+0x1*0x34d9,-0x14f0+-0xc27+0x2118);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x47529f){this['_setValue']('cookieFall'+'off',_0x47529f,function(_0x5b1598,_0xaf00f8){this['light']['cookieFall'+'off']=_0x5b1598;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x5880e3){this['_setValue']('cookieChan'+'nel',_0x5880e3,function(_0x3831c0,_0x156908){this['light']['cookieChan'+'nel']=_0x3831c0;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x5a03e1){this['_setValue']('cookieAngl'+'e',_0x5a03e1,function(_0x56b743,_0x47f03c){if(_0x56b743!==0x2*-0xe53+-0x10e4+0x2d8a||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x4c7b54=0x191*0x1+0x202c+-0x21bc,_0x4d107e=-0x42*-0x8c+0x1ee3+-0x2*0x217d;this['cookieScal'+'e']&&(_0x4c7b54=this['cookieScal'+'e']['x'],_0x4d107e=this['cookieScal'+'e']['y']);const _0x444be4=Math['cos'](_0x56b743*N['DEG_TO_RAD']),_0xb6acda=Math['sin'](_0x56b743*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x444be4/_0x4c7b54,-_0xb6acda/_0x4c7b54,_0xb6acda/_0x4d107e,_0x444be4/_0x4d107e),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x17ec00){this['_setValue']('cookieScal'+'e',_0x17ec00,function(_0x4a9344,_0x877099){if(_0x4a9344!==null||this['cookieAngl'+'e']!==0xe0f*-0x1+-0x49*-0x39+0x232*-0x1){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x18a53a=_0x4a9344['x'],_0x4213c4=_0x4a9344['y'],_0x188e30=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x549964=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x188e30/_0x18a53a,-_0x549964/_0x18a53a,_0x549964/_0x4213c4,_0x188e30/_0x4213c4),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x4*0x46c+-0x1*-0xf7+-0x12a7));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x33221e){this['_setValue']('cookieOffs'+'et',_0x33221e,function(_0x3b3063,_0x5d2abd){this['light']['cookieOffs'+'et']=_0x3b3063;},!(0x2*0xc9b+0x2247+-0x3b7d));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x59e613){this['_setValue']('shadowUpda'+'teMode',_0x59e613,function(_0x3bf978,_0x2e533e){this['light']['shadowUpda'+'teMode']=_0x3bf978;},!(-0x3f*-0x4a+0xf2d+-0x2163));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0xf5a449){this['_setValue']('mask',_0xf5a449,function(_0x257e4f,_0x3a1cdc){this['light']['mask']=_0x257e4f;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x11e6ed){this['_setValue']('affectDyna'+'mic',_0x11e6ed,function(_0x13223f,_0x58e8b0){_0x13223f?this['light']['mask']|=hs:this['light']['mask']&=-(-0x2b*0x10+-0x45*-0x25+-0x747),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x130e6b){this['_setValue']('affectLigh'+'tmapped',_0x130e6b,function(_0x4b2720,_0x14a222){_0x4b2720?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(0x1*-0x1a5d+0x59*-0xb+0x1e35))):(this['light']['mask']&=-(0xc7a*-0x3+-0x1*-0xb49+0x24*0xba),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x3e5138){this['_setValue']('bake',_0x3e5138,function(_0x2fccb5,_0x58282a){_0x2fccb5?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0xa65+-0x23da+0x1978))):(this['light']['mask']&=-(-0x26ad+-0x252d*0x1+0x4bdf),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x1ac51b){this['_setValue']('bakeDir',_0x1ac51b,function(_0x422613,_0x110b1b){this['light']['bakeDir']=_0x422613;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x331d22){this['_setValue']('isStatic',_0x331d22,function(_0x457464,_0x563836){this['light']['isStatic']=_0x457464;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x42cecf){this['_setValue']('layers',_0x42cecf,function(_0x17f18c,_0x78b921){for(let _0x222506=0x29*-0xb3+-0xc68*0x1+0x2913;_0x222506<_0x78b921['length'];_0x222506++){const _0x14bf1a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x78b921[_0x222506]);_0x14bf1a&&(_0x14bf1a['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x14bf1a));}for(let _0x193d21=-0xd*-0xef+0x2589+0x2c*-0x121;_0x193d21<_0x17f18c['length'];_0x193d21++){const _0x4ed15a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x17f18c[_0x193d21]);_0x4ed15a&&this['enabled']&&this['entity']['enabled']&&(_0x4ed15a['addLight'](this),this['light']['addLayer'](_0x4ed15a));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x439002){this['light']['shadowUpda'+'teOverride'+'s']=_0x439002;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x46aa73){this['light']['shadowSamp'+'les']=_0x46aa73;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x28af5b){this['light']['shadowBloc'+'kerSamples']=_0x28af5b;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x3cf4c7){this['light']['penumbraSi'+'ze']=_0x3cf4c7;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x5828f8){this['light']['penumbraFa'+'lloff']=_0x5828f8;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x39790f,_0x81b07b,_0xcc4a78,_0x16c1b7){const _0x3bd4dd=this['data'],_0x52c9e3=_0x3bd4dd[_0x39790f];!_0x16c1b7&&_0x52c9e3===_0x81b07b||(_0x3bd4dd[_0x39790f]=_0x81b07b,_0xcc4a78&&_0xcc4a78['call'](this,_0x81b07b,_0x52c9e3));}['addLightTo'+'Layers'](){for(let _0x4e4114=-0x2*0x6dc+-0x1*-0x2fb+-0xabd*-0x1;_0x4e4114<this['layers']['length'];_0x4e4114++){const _0x56fa37=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4e4114]);_0x56fa37&&(_0x56fa37['addLight'](this),this['light']['addLayer'](_0x56fa37));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x4af967=0x2*0x1060+-0x113e+0x7c1*-0x2;_0x4af967<this['layers']['length'];_0x4af967++){const _0x620255=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4af967]);_0x620255&&(_0x620255['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x620255));}}['onLayersCh'+'anged'](_0x1045de,_0x3fe0f2){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x1045de['off']('add',this['onLayerAdd'+'ed'],this),_0x1045de['off']('remove',this['onLayerRem'+'oved'],this),_0x3fe0f2['on']('add',this['onLayerAdd'+'ed'],this),_0x3fe0f2['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2d54c3){this['layers']['indexOf'](_0x2d54c3['id'])>=-0x7c6+0x19ce*0x1+-0x482*0x4&&this['enabled']&&this['entity']['enabled']&&(_0x2d54c3['addLight'](this),this['light']['addLayer'](_0x2d54c3));}['onLayerRem'+'oved'](_0x44772a){this['layers']['indexOf'](_0x44772a['id'])>=-0xf52+-0x3ab*0x4+0x1dfe&&(_0x44772a['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x44772a));}['refreshPro'+'perties'](){for(let _0x35f28f=0x93+-0x2085+-0x1ff2*-0x1;_0x35f28f<To['length'];_0x35f28f++){const _0x266374=To[_0x35f28f];this[_0x266374]=this[_0x266374];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x1a87c2=!(-0x2318+0x2626+-0x30d);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x1991+-0x1*-0xaa2+0xeef),_0x1a87c2=!(0x1d18+-0xb7*-0x3+-0x1f3d*0x1)),(!this['_cookieAss'+'et']['resource']||_0x1a87c2)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x23b1c2){this['_cookieAss'+'etId']===_0x23b1c2['id']&&(this['_cookieAss'+'et']=_0x23b1c2,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x13b*-0x1e+-0x3*-0x512+0x15b5)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x2ea0c5=this['system']['app']['scene'],_0x1c3578=_0x2ea0c5['layers'];this['light']['enabled']=!(0x12e2+-0xa1*-0x1d+-0x251f),this['_evtLayers'+'Changed']=_0x2ea0c5['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1c3578&&(this['_evtLayerA'+'dded']=_0x1c3578['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1c3578['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x16d34b,_0x55b8d1,_0x503040;const _0x243222=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x26fe+-0xec0+-0x1*-0x35bf),(_0x16d34b=this['_evtLayers'+'Changed'])==null||_0x16d34b['off'](),this['_evtLayers'+'Changed']=null,_0x243222&&((_0x55b8d1=this['_evtLayerA'+'dded'])==null||_0x55b8d1['off'](),this['_evtLayerA'+'dded']=null,(_0x503040=this['_evtLayerR'+'emoved'])==null||_0x503040['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x2ad6e7){super(_0x2ad6e7),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x20ae3d,_0x280331){const _0x579ca1={..._0x280331};_0x579ca1['type']||(_0x579ca1['type']=_0x20ae3d['data']['type']),_0x20ae3d['data']['type']=_0x579ca1['type'],_0x579ca1['layers']&&Array['isArray'](_0x579ca1['layers'])&&(_0x579ca1['layers']=_0x579ca1['layers']['slice'](0x8da+-0x1ffb+0x1721)),_0x579ca1['color']&&Array['isArray'](_0x579ca1['color'])&&(_0x579ca1['color']=new Y(_0x579ca1['color'][0x4*0x4c3+0x1*0x1fb+-0x1507],_0x579ca1['color'][0xe9d*0x2+-0x16cb+-0x66e],_0x579ca1['color'][-0xa0d*0x1+-0x21b8+0x2bc7])),_0x579ca1['cookieOffs'+'et']&&_0x579ca1['cookieOffs'+'et']instanceof Array&&(_0x579ca1['cookieOffs'+'et']=new W(_0x579ca1['cookieOffs'+'et'][0x1df0+0xd78+0x15b4*-0x2],_0x579ca1['cookieOffs'+'et'][0x143+0x98e+-0xad0])),_0x579ca1['cookieScal'+'e']&&_0x579ca1['cookieScal'+'e']instanceof Array&&(_0x579ca1['cookieScal'+'e']=new W(_0x579ca1['cookieScal'+'e'][0x13a*-0x9+-0x10cb+0x1*0x1bd5],_0x579ca1['cookieScal'+'e'][0x4*0xc7+-0x1a3*0x3+0x1ce])),_0x579ca1['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x579ca1['enabled']=_0x579ca1['enable']),_0x579ca1['shape']||(_0x579ca1['shape']=yt);const _0x2845b7=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x2845b7['type']=Gu[_0x579ca1['type']],_0x2845b7['_node']=_0x20ae3d['entity'],_0x20ae3d['data']['light']=_0x2845b7,super['initialize'+'ComponentD'+'ata'](_0x20ae3d,_0x579ca1,To);}['_onRemoveC'+'omponent'](_0x2bda0d,_0x440f04){_0x440f04['onRemove']();}['cloneCompo'+'nent'](_0x15df61,_0x5b0083){const _0x432152=_0x15df61['light'],_0x3bddc0=[];let _0x5ce049;for(let _0x35bb2d=0xe*0x23+0x1bce+-0x1db8;_0x35bb2d<To['length'];_0x35bb2d++)_0x5ce049=To[_0x35bb2d],_0x5ce049!=='light'&&(_0x432152[_0x5ce049]&&_0x432152[_0x5ce049]['clone']?_0x3bddc0[_0x5ce049]=_0x432152[_0x5ce049]['clone']():_0x3bddc0[_0x5ce049]=_0x432152[_0x5ce049]);return this['addCompone'+'nt'](_0x5b0083,_0x3bddc0);}['changeType'](_0x23daa3,_0xa7bd28,_0x5ccea6){_0xa7bd28!==_0x5ccea6&&(_0x23daa3['light']['type']=Gu[_0x5ccea6]);}}const ZI=['x','y','z','w'],QI=[void(-0x248c+0x23b1+0x1*0xdb),void(-0x153c+0x1*-0x1c53+0x318f),W,T,Q];function La(_0xae3a59,_0x4b2dfa,_0x3ed924,_0x3b71fe){switch(_0x4b2dfa['type']){case'boolean':return!!_0x3ed924;case'number':if(typeof _0x3ed924=='number')return _0x3ed924;if(typeof _0x3ed924=='string'){const _0x596893=parseInt(_0x3ed924,0xa*0x32+0x16c8+-0x2*0xc59);return isNaN(_0x596893)?null:_0x596893;}else{if(typeof _0x3ed924=='boolean')return 0x53*0x2f+-0x2af*0x7+0x38c+_0x3ed924;}return null;case'json':{const _0x263efa={};if(Array['isArray'](_0x4b2dfa['schema'])){(!_0x3ed924||typeof _0x3ed924!='object')&&(_0x3ed924={});for(let _0x2cd029=-0xc2c+-0x45f*-0x7+-0x35*0x59;_0x2cd029<_0x4b2dfa['schema']['length'];_0x2cd029++){const _0x43bbeb=_0x4b2dfa['schema'][_0x2cd029];if(_0x43bbeb['name']){if(_0x43bbeb['array']){_0x263efa[_0x43bbeb['name']]=[];const _0x23a498=Array['isArray'](_0x3ed924[_0x43bbeb['name']])?_0x3ed924[_0x43bbeb['name']]:[];for(let _0x314f90=0x79a+0xa4+-0x83e;_0x314f90<_0x23a498['length'];_0x314f90++)_0x263efa[_0x43bbeb['name']]['push'](La(_0xae3a59,_0x43bbeb,_0x23a498[_0x314f90]));}else{const _0x4b5542=_0x3ed924['hasOwnProp'+'erty'](_0x43bbeb['name'])?_0x3ed924[_0x43bbeb['name']]:_0x43bbeb['default'];_0x263efa[_0x43bbeb['name']]=La(_0xae3a59,_0x43bbeb,_0x4b5542);}}}}return _0x263efa;}case'asset':return _0x3ed924 instanceof le?_0x3ed924:typeof _0x3ed924=='number'?_0xae3a59['assets']['get'](_0x3ed924)||null:typeof _0x3ed924=='string'&&_0xae3a59['assets']['get'](parseInt(_0x3ed924,-0x2c2+-0x4a9*-0x8+-0x227c))||null;case'entity':return _0x3ed924 instanceof De?_0x3ed924:typeof _0x3ed924=='string'?_0xae3a59['getEntityF'+'romIndex'](_0x3ed924):null;case'rgb':case'rgba':if(_0x3ed924 instanceof Y)return _0x3b71fe instanceof Y?(_0x3b71fe['copy'](_0x3ed924),_0x3b71fe):_0x3ed924['clone']();if(_0x3ed924 instanceof Array&&_0x3ed924['length']>=-0x27c*-0xd+-0x2680+0x637&&_0x3ed924['length']<=0x1*0xffe+0x2*-0x5b7+-0x48c){for(let _0x1dff98=0x2185+-0x3e7*-0x9+0x2252*-0x2;_0x1dff98<_0x3ed924['length'];_0x1dff98++)if(typeof _0x3ed924[_0x1dff98]!='number')return null;return _0x3b71fe||(_0x3b71fe=new Y()),_0x3b71fe['r']=_0x3ed924[-0x105c+0xab4+0x8*0xb5],_0x3b71fe['g']=_0x3ed924[-0xd*0x257+-0x4*0x6d+0x2020],_0x3b71fe['b']=_0x3ed924[-0x1183*0x1+0x26af+-0x56*0x3f],_0x3b71fe['a']=_0x3ed924['length']===-0xb07+0x14e*-0x7+-0xa16*-0x2?-0x4*-0x755+0x533*-0x3+-0xdba:_0x3ed924[0x64f*-0x2+-0x12b7+0x1f58],_0x3b71fe;}else{if(typeof _0x3ed924=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x3ed924))return _0x3b71fe||(_0x3b71fe=new Y()),_0x3b71fe['fromString'](_0x3ed924),_0x3b71fe;}return null;case'vec2':case'vec3':case'vec4':{const _0x2cdb1f=parseInt(_0x4b2dfa['type']['slice'](0x1*-0x2153+-0x66b*0x1+0x27c1),0x1*0x1ede+-0x1*0x4e4+0x4*-0x67c),_0x465bfe=QI[_0x2cdb1f];if(_0x3ed924 instanceof _0x465bfe)return _0x3b71fe instanceof _0x465bfe?(_0x3b71fe['copy'](_0x3ed924),_0x3b71fe):_0x3ed924['clone']();if(_0x3ed924 instanceof Array&&_0x3ed924['length']===_0x2cdb1f){for(let _0x3e7788=-0x6*-0x3fd+0x602*-0x1+0x4*-0x47b;_0x3e7788<_0x3ed924['length'];_0x3e7788++)if(typeof _0x3ed924[_0x3e7788]!='number')return null;_0x3b71fe||(_0x3b71fe=new _0x465bfe());for(let _0x4f2d42=-0x21f8+-0x4d2+0x26ca;_0x4f2d42<_0x2cdb1f;_0x4f2d42++)_0x3b71fe[ZI[_0x4f2d42]]=_0x3ed924[_0x4f2d42];return _0x3b71fe;}return null;}case'curve':if(_0x3ed924){let _0x5d0f27;if(_0x3ed924 instanceof Cs||_0x3ed924 instanceof jr)_0x5d0f27=_0x3ed924['clone']();else{const _0x37a80c=_0x3ed924['keys'][-0xbcf+0x2ea+0x8e5]instanceof Array?jr:Cs;_0x5d0f27=new _0x37a80c(_0x3ed924['keys']),_0x5d0f27['type']=_0x3ed924['type'];}return _0x5d0f27;}break;}return _0x3ed924;}function Ax(_0x3d47da,_0x4fd57f,_0x47dbb2,_0x326176){return _0x4fd57f['array']?_0x47dbb2['map']((_0x9d7a8b,_0x39e0f6)=>La(_0x3d47da,_0x4fd57f,_0x9d7a8b,_0x326176?_0x326176[_0x39e0f6]:null)):La(_0x3d47da,_0x4fd57f,_0x47dbb2,_0x326176);}function Ex(_0x4bebe7,_0x4ee122,_0x226e90,_0x36cfc7){if(_0x226e90)for(const _0x265b6c in _0x4ee122){const _0x2932d6=_0x4ee122[_0x265b6c],_0x13dfe4=_0x226e90[_0x265b6c];_0x13dfe4!==void(0x7*0xe3+-0x66b+0x1b*0x2)&&(_0x36cfc7[_0x265b6c]=Ax(_0x4bebe7,_0x2932d6,_0x13dfe4,_0x36cfc7[_0x265b6c]));}}const oa=class oa{constructor(_0x51b95f){this['scriptType']=_0x51b95f,this['index']={};}['add'](_0x5a59fa,_0x3d2a24){if(this['index'][_0x5a59fa]){v['warn']('attribute\x20'+'\x27'+_0x5a59fa+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x5a59fa)){v['warn']('attribute\x20'+'\x27'+_0x5a59fa+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x5a59fa]=_0x3d2a24,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x5a59fa,{'get':function(){return this['__attribut'+'es'][_0x5a59fa];},'set':function(_0x33c259){const _0x55dcff='attr',_0x7812d3='attr:'+_0x5a59fa,_0x1c89be=this['__attribut'+'es'][_0x5a59fa];let _0x5bc203=_0x1c89be;if(_0x1c89be&&_0x3d2a24['type']!=='json'&&_0x3d2a24['type']!=='entity'&&_0x1c89be['clone']&&(this['hasEvent'](_0x55dcff)||this['hasEvent'](_0x7812d3))&&(_0x5bc203=_0x1c89be['clone']()),_0x3d2a24['array']){if(this['__attribut'+'es'][_0x5a59fa]=[],_0x33c259){for(let _0x407f8e=-0x1d5d+-0x2342+0x409f,_0x115497=_0x33c259['length'];_0x407f8e<_0x115497;_0x407f8e++)this['__attribut'+'es'][_0x5a59fa]['push'](La(this['app'],_0x3d2a24,_0x33c259[_0x407f8e],_0x1c89be?_0x1c89be[_0x407f8e]:null));}}else this['__attribut'+'es'][_0x5a59fa]=La(this['app'],_0x3d2a24,_0x33c259,_0x1c89be);this['fire'](_0x55dcff,_0x5a59fa,this['__attribut'+'es'][_0x5a59fa],_0x5bc203),this['fire'](_0x7812d3,this['__attribut'+'es'][_0x5a59fa],_0x5bc203);}});}['remove'](_0x2d59de){return this['index'][_0x2d59de]?(delete this['index'][_0x2d59de],delete this['scriptType']['prototype'][_0x2d59de],!(0x138c+0x667+-0x19f3)):!(-0xdec+0x9*0x33d+-0xf38);}['has'](_0x5a269e){return!!this['index'][_0x5a269e];}['get'](_0x49a3d9){return this['index'][_0x49a3d9]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x5720fb){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x5720fb);}set['enabled'](_0x255110){this['_enabled']=!!_0x255110,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x3*-0x23+0x11d*-0x3+0xc*0x50),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x857*0x2+-0x3*-0x108+0xd96),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x176691){const _0x497601=this['constructo'+'r'];v['assert'](_0x176691&&_0x176691['app']&&_0x176691['entity'],'script\x20['+_0x497601['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x176691['app'],this['entity']=_0x176691['entity'],this['_enabled']=typeof _0x176691['enabled']=='boolean'?_0x176691['enabled']:!(0x1a34+-0x183f+0x1f5*-0x1),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x4*-0x5c6+-0x11*-0x59+-0x1d0*0x10),this['__scriptTy'+'pe']=_0x497601,this['__executio'+'nOrder']=-(0x6eb+0x26db+-0x1*0x2dc5);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x4c9a3d){if(typeof _0x4c9a3d!='function')return;if('name'in Function['prototype'])return _0x4c9a3d['name'];if(_0x4c9a3d===Function||_0x4c9a3d===Function['prototype']['constructo'+'r'])return'Function';const _0x532a10=(''+_0x4c9a3d)['match'](sD);return _0x532a10?_0x532a10[-0x1b35+0x2*0x10a5+-0x614]:void(0x3e*-0x34+-0x16*0x4+0x12*0xb8);}class Qh extends Ht{constructor(_0x460e2f){super(_0x460e2f),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x460e2f);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x5b65d6){Ht['prototype']['initScript']['call'](this,_0x5b65d6),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x5b65d6['attributes']||{};}['initScript'+'Type'](_0x55d96b){this['initScript'](_0x55d96b);}['__initiali'+'zeAttribut'+'es'](_0x17a6c5){if(!(!_0x17a6c5&&!this['__attribut'+'esRaw'])){for(const _0x9866d3 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x9866d3)?this[_0x9866d3]=this['__attribut'+'esRaw'][_0x9866d3]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x9866d3)||(this['__scriptTy'+'pe']['attributes']['index'][_0x9866d3]['hasOwnProp'+'erty']('default')?this[_0x9866d3]=this['__scriptTy'+'pe']['attributes']['index'][_0x9866d3]['default']:this[_0x9866d3]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x26025d){for(const _0x5a0a86 in _0x26025d)_0x26025d['hasOwnProp'+'erty'](_0x5a0a86)&&(this['prototype'][_0x5a0a86]=_0x26025d[_0x5a0a86]);}}const iD=_0x1fbdc5=>_0x1fbdc5[-0x2230*-0x1+0x24d1*0x1+-0x1*0x4701]['toLowerCas'+'e']()+_0x1fbdc5['substring'](0x476*0x8+0x21ec+0x1*-0x459b);class di extends ue{constructor(_0x3c53cc,_0x78c95d){super(_0x3c53cc,_0x78c95d),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0xf3e+0x220*0xa+-0x601),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x1*-0xd31+-0x1042+-0x1d73*-0x1),this['_enabled']=!(-0x355*0xb+-0x895*0x1+0x2d3c),this['_beingEnab'+'led']=!(0x6d*0x29+-0x1006+0x7a*-0x3),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x30*0xca+0x16aa+0xf37),this['_execution'+'Order']=-(0x1*0x11e1+-0x1039+0x2f*-0x9),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0xb887c5){this['_scriptsDa'+'ta']=_0xb887c5;for(const _0x43304d in _0xb887c5){if(!_0xb887c5['hasOwnProp'+'erty'](_0x43304d))continue;const _0x4be1e5=this['_scriptsIn'+'dex'][_0x43304d];if(_0x4be1e5){if(typeof _0xb887c5[_0x43304d]['enabled']=='boolean'&&(_0x4be1e5['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4be1e5);}),_0x4be1e5['enabled']=!!_0xb887c5[_0x43304d]['enabled']),typeof _0xb887c5[_0x43304d]['attributes']=='object'){for(const _0x4b95bd in _0xb887c5[_0x43304d]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x4b95bd)){if(!_0x4be1e5['__attribut'+'es']['hasOwnProp'+'erty'](_0x4b95bd)){const _0x2e7092=this['system']['app']['scripts']['get'](_0x43304d);_0x2e7092&&_0x2e7092['attributes']['add'](_0x4b95bd,{});}_0x4be1e5[_0x4b95bd]=_0xb887c5[_0x43304d]['attributes'][_0x4b95bd];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0xfbfd6d){const _0xc93be0=this['_enabled'];this['_enabled']=_0xfbfd6d,this['fire']('set','enabled',_0xc93be0,_0xfbfd6d);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x19c9+0x1049+-0x2a12),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x6*-0x491+-0x255*0x9+-0x668);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x539997=this['_beginLoop'+'ing']();for(let _0x322e30=0xbe2+-0x11a+0xb8*-0xf,_0x8a95e0=this['scripts']['length'];_0x322e30<_0x8a95e0;_0x322e30++){const _0x2d307c=this['scripts'][_0x322e30];_0x2d307c['_initializ'+'ed']&&!_0x2d307c['_postIniti'+'alized']&&_0x2d307c['enabled']&&(_0x2d307c['_postIniti'+'alized']=!(-0xd19+0x8*-0x92+0x11a9),_0x2d307c['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x2d307c,gf));}this['_endLoopin'+'g'](_0x539997);}['_beginLoop'+'ing'](){const _0x786a30=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x1709*0x1+-0x239f+0xc96),_0x786a30;}['_endLoopin'+'g'](_0x4876ba){this['_isLooping'+'ThroughScr'+'ipts']=_0x4876ba,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x2c799d,_0x2a9f4d,_0x261d30){this['_beingEnab'+'led']=!(-0xc60+0x3d6+0x88a),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x248b+0x778*-0x1+-0x1d12);}['_checkStat'+'e'](){const _0x418751=this['enabled']&&this['entity']['enabled'];if(_0x418751===this['_oldState'])return;this['_oldState']=_0x418751,this['fire'](_0x418751?'enable':'disable'),this['fire']('state',_0x418751),_0x418751?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x323fec=this['_beginLoop'+'ing']();for(let _0x5cb792=0x1ae7+-0x10c1+0x513*-0x2,_0x2b4aff=this['scripts']['length'];_0x5cb792<_0x2b4aff;_0x5cb792++){const _0x2e3004=this['scripts'][_0x5cb792];_0x2e3004['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x2e3004);}),_0x2e3004['enabled']=_0x2e3004['_enabled'];}this['_endLoopin'+'g'](_0x323fec);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x209feb=this['_beginLoop'+'ing']();for(let _0x5c11fc=-0xa*-0x139+0x1*0x196d+-0x25a7;_0x5c11fc<this['scripts']['length'];_0x5c11fc++){const _0x1b8949=this['scripts'][_0x5c11fc];_0x1b8949&&this['destroy'](_0x1b8949['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x209feb);}['_removeDes'+'troyedScri'+'pts'](){const _0x41e020=this['_destroyed'+'Scripts']['length'];if(_0x41e020){for(let _0x3f2f01=0x1fae+-0x33c+0x1c72*-0x1;_0x3f2f01<_0x41e020;_0x3f2f01++){const _0x30c1d4=this['_destroyed'+'Scripts'][_0x3f2f01];this['_removeScr'+'iptInstanc'+'e'](_0x30c1d4);}this['_destroyed'+'Scripts']['length']=-0xed7*-0x1+-0x9*0xc2+-0x805*0x1,this['_resetExec'+'utionOrder'](-0x12f*-0xb+-0x1*-0x1a43+-0x2748,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x21b00e=-0x22c3+0x1*0x1cb5+0x60e,_0x236692=this['scripts']['length'];_0x21b00e<_0x236692;_0x21b00e++){const _0x136d9c=this['scripts'][_0x21b00e];this['initialize'+'Attributes'](_0x136d9c);}}['initialize'+'Attributes'](_0x11e0cc){var _0x2173c3;if(_0x11e0cc instanceof Qh)_0x11e0cc['__initiali'+'zeAttribut'+'es']();else{const _0x1336b4=_0x11e0cc['__scriptTy'+'pe']['__name'],_0x51d52b=this['_attribute'+'DataMap']['get'](_0x1336b4);if(!_0x51d52b)return;const _0x349b13=(_0x2173c3=this['system']['app']['scripts'])==null?void(-0x2*-0x1183+0x16f*-0x3+0x8f*-0x37):_0x2173c3['getSchema'](_0x1336b4);_0x349b13||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x1336b4+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x349b13['attributes'],_0x51d52b,_0x11e0cc);}}['_scriptMet'+'hod'](_0x1fbd4c,_0x541339,_0x2ae7d5){try{_0x1fbd4c[_0x541339](_0x2ae7d5);}catch(_0x2ef850){_0x1fbd4c['enabled']=!(-0x591+0x2f8+0x29a),_0x1fbd4c['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x541339+'\x22\x20for\x20\x22'+_0x1fbd4c['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x2ef850),console['error'](_0x2ef850)),_0x1fbd4c['fire']('error',_0x2ef850,_0x541339),this['fire']('error',_0x1fbd4c,_0x2ef850,_0x541339);}}['_onInitial'+'ize'](){const _0x76b5be=this['_scripts'],_0x2422e7=this['_beginLoop'+'ing']();for(let _0x27d78b=0x247f+0x2b9*0x1+-0x2738,_0x5bb992=_0x76b5be['length'];_0x27d78b<_0x5bb992;_0x27d78b++){const _0x212301=_0x76b5be[_0x27d78b];!_0x212301['_initializ'+'ed']&&_0x212301['enabled']&&(_0x212301['_initializ'+'ed']=!(-0x24e1+0x566*-0x2+0x2fad),_0x212301['initialize']&&this['_scriptMet'+'hod'](_0x212301,_f));}this['_endLoopin'+'g'](_0x2422e7);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x40decb){const _0x321344=this['_updateLis'+'t'];if(!_0x321344['length'])return;const _0x5d59d0=this['_beginLoop'+'ing']();for(_0x321344['loopIndex']=0xbf9+-0xf92+0x399;_0x321344['loopIndex']<_0x321344['length'];_0x321344['loopIndex']++){const _0x25641d=_0x321344['items'][_0x321344['loopIndex']];_0x25641d['enabled']&&this['_scriptMet'+'hod'](_0x25641d,JI,_0x40decb);}this['_endLoopin'+'g'](_0x5d59d0);}['_onPostUpd'+'ate'](_0x47469f){const _0x527c3d=this['_postUpdat'+'eList'];if(!_0x527c3d['length'])return;const _0x90a34a=this['_beginLoop'+'ing']();for(_0x527c3d['loopIndex']=-0xeae+-0x1*0x285+0x1133*0x1;_0x527c3d['loopIndex']<_0x527c3d['length'];_0x527c3d['loopIndex']++){const _0x127bfb=_0x527c3d['items'][_0x527c3d['loopIndex']];_0x127bfb['enabled']&&this['_scriptMet'+'hod'](_0x127bfb,eD,_0x47469f);}this['_endLoopin'+'g'](_0x90a34a);}['_insertScr'+'iptInstanc'+'e'](_0x48d515,_0x1c9acf,_0x42e723){_0x1c9acf===-(-0x10*0x38+0x885+-0x504)?(this['_scripts']['push'](_0x48d515),_0x48d515['__executio'+'nOrder']=_0x42e723,_0x48d515['update']&&this['_updateLis'+'t']['append'](_0x48d515),_0x48d515['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x48d515)):(this['_scripts']['splice'](_0x1c9acf,0x1e23+0x7e0+-0x2603,_0x48d515),_0x48d515['__executio'+'nOrder']=_0x1c9acf,this['_resetExec'+'utionOrder'](_0x1c9acf+(-0x496*0x1+0x2287+-0xef8*0x2),_0x42e723+(-0xd*0xa6+0x29f+0x5d0)),_0x48d515['update']&&this['_updateLis'+'t']['insert'](_0x48d515),_0x48d515['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x48d515));}['_removeScr'+'iptInstanc'+'e'](_0x44ad26){const _0x369cc5=this['_scripts']['indexOf'](_0x44ad26);return _0x369cc5===-(0x1ef7+0x1fba+-0x88*0x76)||(this['_scripts']['splice'](_0x369cc5,-0x24f+-0x98e+0xe*0xd9),_0x44ad26['update']&&this['_updateLis'+'t']['remove'](_0x44ad26),_0x44ad26['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x44ad26)),_0x369cc5;}['_resetExec'+'utionOrder'](_0x1d970d,_0xb8a7b8){for(let _0x2ab583=_0x1d970d;_0x2ab583<_0xb8a7b8;_0x2ab583++)this['_scripts'][_0x2ab583]['__executio'+'nOrder']=_0x2ab583;}['_resolveEn'+'tityScript'+'Attribute'](_0x2466e7,_0x1151e5,_0x2003c,_0x350805,_0x1abce7,_0x1a198a){if(_0x2466e7['array']){const _0x711719=_0x2003c['length'];if(!_0x711719)return;const _0x49e1a3=_0x2003c['slice']();for(let _0x4532f4=0x5c1+-0x14b6*0x1+0x223*0x7;_0x4532f4<_0x711719;_0x4532f4++){const _0x1757c4=_0x49e1a3[_0x4532f4]instanceof We?_0x49e1a3[_0x4532f4]['getGuid']():_0x49e1a3[_0x4532f4];_0x1a198a[_0x1757c4]&&(_0x49e1a3[_0x4532f4]=_0x350805?_0x1a198a[_0x1757c4]['getGuid']():_0x1a198a[_0x1757c4]);}_0x1abce7[_0x1151e5]=_0x49e1a3;}else{if(_0x2003c instanceof We)_0x2003c=_0x2003c['getGuid']();else{if(typeof _0x2003c!='string')return;}_0x1a198a[_0x2003c]&&(_0x1abce7[_0x1151e5]=_0x1a198a[_0x2003c]);}}['has'](_0xc60f90){if(typeof _0xc60f90=='string')return!!this['_scriptsIn'+'dex'][_0xc60f90];if(!_0xc60f90)return!(0x536*0x1+-0x11*0x67+0x1a2);const _0x3c8f51=_0xc60f90,_0x24d4d2=_0x3c8f51['__name'],_0x5c673f=this['_scriptsIn'+'dex'][_0x24d4d2];return(_0x5c673f&&_0x5c673f['instance'])instanceof _0x3c8f51;}['get'](_0x12de54){if(typeof _0x12de54=='string'){const _0x57e9f5=this['_scriptsIn'+'dex'][_0x12de54];return _0x57e9f5?_0x57e9f5['instance']:null;}if(!_0x12de54)return null;const _0x43a086=_0x12de54,_0x5c5fb7=_0x43a086['__name'],_0x58761a=this['_scriptsIn'+'dex'][_0x5c5fb7],_0x32926f=_0x58761a&&_0x58761a['instance'];return _0x32926f instanceof _0x43a086?_0x32926f:null;}['create'](_0x268512,_0x1810e0={}){const _0x54c5aa=this;let _0x2e0b75=_0x268512,_0xce2624=_0x268512;if(typeof _0x2e0b75=='string'?_0x2e0b75=this['system']['app']['scripts']['get'](_0x2e0b75):_0x2e0b75&&(_0xce2624=_0x2e0b75['__name']??(_0x2e0b75['__name']=iD(Cx(_0x2e0b75)))),_0x2e0b75){if(!this['_scriptsIn'+'dex'][_0xce2624]||!this['_scriptsIn'+'dex'][_0xce2624]['instance']){const _0x448450=new _0x2e0b75({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x1810e0['hasOwnProp'+'erty']('enabled')?_0x1810e0['enabled']:!(0xf87+0x32*-0xc3+0x168f),'attributes':_0x1810e0['attributes']||{}});_0x1810e0['properties']&&typeof _0x1810e0['properties']=='object'&&Object['assign'](_0x448450,_0x1810e0['properties']),_0x448450 instanceof Qh||this['_attribute'+'DataMap']['set'](_0xce2624,_0x1810e0['attributes']);const _0x51c107=this['_scripts']['length'];let _0x185f37=-(-0x1e0d+0x2f6+0x1b18);return typeof _0x1810e0['ind']=='number'&&_0x1810e0['ind']!==-(-0x36f+-0x883*0x3+0x1cf9)&&_0x51c107>_0x1810e0['ind']&&(_0x185f37=_0x1810e0['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x448450,_0x185f37,_0x51c107),this['_scriptsIn'+'dex'][_0xce2624]={'instance':_0x448450,'onSwap':function(){_0x54c5aa['swap'](_0xce2624);}},this[_0xce2624]=_0x448450,_0x1810e0['preloading']||this['initialize'+'Attributes'](_0x448450),this['fire']('create',_0xce2624,_0x448450),this['fire']('create:'+_0xce2624,_0x448450),this['system']['app']['scripts']['on']('swap:'+_0xce2624,this['_scriptsIn'+'dex'][_0xce2624]['onSwap']),_0x1810e0['preloading']||(_0x448450['enabled']&&!_0x448450['_initializ'+'ed']&&(_0x448450['_initializ'+'ed']=!(-0x5f4+0xb0e*-0x2+0x4*0x704),_0x448450['initialize']&&this['_scriptMet'+'hod'](_0x448450,_f)),_0x448450['enabled']&&!_0x448450['_postIniti'+'alized']&&(_0x448450['_postIniti'+'alized']=!(0x1da8+0x1ed2+0x2*-0x1e3d),_0x448450['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x448450,gf))),_0x448450;}v['warn']('script\x20\x27'+_0xce2624+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0xce2624]={'awaiting':!(-0x1ffc+0x182c+-0x14*-0x64),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0xce2624+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x11e188){let _0x4bc448=_0x11e188,_0x59496c=_0x11e188;typeof _0x59496c=='string'?_0x59496c=this['system']['app']['scripts']['get'](_0x59496c):_0x59496c&&(_0x4bc448=_0x59496c['__name']);const _0x51bbf9=this['_scriptsIn'+'dex'][_0x4bc448];if(delete this['_scriptsIn'+'dex'][_0x4bc448],!_0x51bbf9)return!(-0x1f3f+0x1*-0x8e9+-0x2829*-0x1);this['_attribute'+'DataMap']['delete'](_0x4bc448);const _0x160ed3=_0x51bbf9['instance'];if(_0x160ed3&&!_0x160ed3['_destroyed']){if(_0x160ed3['enabled']=!(0xbf1+-0x15d1+0x119*0x9),_0x160ed3['_destroyed']=!(-0x3f+-0x102f+-0x106e*-0x1),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x160ed3);else{const _0x563d8a=this['_removeScr'+'iptInstanc'+'e'](_0x160ed3);_0x563d8a>=0x15*-0x162+-0x2218+-0x1*-0x3f22&&this['_resetExec'+'utionOrder'](_0x563d8a,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x4bc448,_0x51bbf9['onSwap']),delete this[_0x4bc448],this['fire']('destroy',_0x4bc448,_0x160ed3||null),this['fire']('destroy:'+_0x4bc448,_0x160ed3||null),_0x160ed3&&_0x160ed3['fire']('destroy'),!(-0x2552+-0x1565+0x3ab7*0x1);}['swap'](_0xb3c09f){let _0x31a07c=_0xb3c09f,_0x4a3ab7=_0xb3c09f;typeof _0x4a3ab7=='string'?_0x4a3ab7=this['system']['app']['scripts']['get'](_0x4a3ab7):_0x4a3ab7&&(_0x31a07c=_0x4a3ab7['__name']);const _0x12f425=this['_scriptsIn'+'dex'][_0x31a07c];if(!_0x12f425||!_0x12f425['instance'])return!(0x66e*-0x3+0x4ed+0xe5e);const _0x54193d=_0x12f425['instance'],_0x297e2a=this['_scripts']['indexOf'](_0x54193d),_0x58c6e5=new _0x4a3ab7({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x54193d['enabled'],'attributes':_0x54193d['__attribut'+'es']});return _0x58c6e5['swap']?(this['initialize'+'Attributes'](_0x58c6e5),this['_scripts'][_0x297e2a]=_0x58c6e5,this['_scriptsIn'+'dex'][_0x31a07c]['instance']=_0x58c6e5,this[_0x31a07c]=_0x58c6e5,_0x58c6e5['__executio'+'nOrder']=_0x297e2a,_0x54193d['update']&&this['_updateLis'+'t']['remove'](_0x54193d),_0x54193d['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x54193d),_0x58c6e5['update']&&this['_updateLis'+'t']['insert'](_0x58c6e5),_0x58c6e5['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x58c6e5),this['_scriptMet'+'hod'](_0x58c6e5,tD,_0x54193d),this['fire']('swap',_0x31a07c,_0x58c6e5),this['fire']('swap:'+_0x31a07c,_0x58c6e5),!(0x23*-0x4f+0x9*-0x28f+0x10ea*0x2)):!(0x3*-0x38d+0x9ad+-0xfb*-0x1);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3859fd,_0x125889){const _0x2476bd=this['entity']['script'];for(const _0x23d5cf in _0x3859fd['_scriptsIn'+'dex']){const _0x303453=this['system']['app']['scripts']['get'](_0x23d5cf);if(!_0x303453)continue;const _0x2ce0a2=_0x3859fd['_scriptsIn'+'dex'][_0x23d5cf];if(!_0x2ce0a2||!_0x2ce0a2['instance'])continue;const _0x379c5c=_0x2476bd[_0x23d5cf]['__attribut'+'esRaw'],_0x3412e1=_0x2476bd[_0x23d5cf]['__attribut'+'es'];if(!_0x379c5c&&!_0x3412e1)continue;const _0x31e0db=!!_0x379c5c,_0x3445a3=_0x2ce0a2['instance']['__attribut'+'es'];for(const _0x13dd15 in _0x3445a3){if(!_0x3445a3[_0x13dd15])continue;const _0x188fe7=_0x303453['attributes']['get'](_0x13dd15);if(_0x188fe7){if(_0x188fe7['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x188fe7,_0x13dd15,_0x3445a3[_0x13dd15],_0x31e0db,_0x379c5c||_0x3412e1,_0x125889);else{if(_0x188fe7['type']==='json'&&Array['isArray'](_0x188fe7['schema'])){const _0x4ab2f6=_0x3445a3[_0x13dd15],_0x2c9138=_0x379c5c?_0x379c5c[_0x13dd15]:_0x3412e1[_0x13dd15];for(let _0x49883a=0x1*0x311+-0x1152+0xe41;_0x49883a<_0x188fe7['schema']['length'];_0x49883a++){const _0x1d8cdf=_0x188fe7['schema'][_0x49883a];if(_0x1d8cdf['type']==='entity'){if(_0x188fe7['array']){for(let _0x2ccb21=-0x1097+0x1a3c+-0x9a5;_0x2ccb21<_0x4ab2f6['length'];_0x2ccb21++)this['_resolveEn'+'tityScript'+'Attribute'](_0x1d8cdf,_0x1d8cdf['name'],_0x4ab2f6[_0x2ccb21][_0x1d8cdf['name']],_0x31e0db,_0x2c9138[_0x2ccb21],_0x125889);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x1d8cdf,_0x1d8cdf['name'],_0x4ab2f6[_0x1d8cdf['name']],_0x31e0db,_0x2c9138,_0x125889);}}}}}}}}['move'](_0x31e2a9,_0x41fec6){const _0x337334=this['_scripts']['length'];if(_0x41fec6>=_0x337334||_0x41fec6<0x1*0x1e07+0x1d59+-0x3b60)return!(-0x79*0x29+-0x6df+0x1a41);let _0x13ff9f=_0x31e2a9,_0xd4d7cc=_0x31e2a9;typeof _0xd4d7cc!='string'?_0xd4d7cc=_0x31e2a9['__name']:_0x13ff9f=null;const _0x122efe=this['_scriptsIn'+'dex'][_0xd4d7cc];if(!_0x122efe||!_0x122efe['instance'])return!(0x1446+-0x2*0x2ad+0x3*-0x4f9);const _0x11d2ca=_0x122efe['instance'];if(_0x13ff9f&&!(_0x11d2ca instanceof _0x13ff9f))return!(-0xc6b+0x1*0xd8c+-0x120);const _0x116f1f=this['_scripts']['indexOf'](_0x11d2ca);return _0x116f1f===-(0x1eef+-0x23e2+0x4f4)||_0x116f1f===_0x41fec6?!(0x1f5f*-0x1+0x1115*0x1+0xe4b):(this['_scripts']['splice'](_0x41fec6,-0x448+-0x197a+0x125*0x1a,this['_scripts']['splice'](_0x116f1f,-0x2389+0xdae+0x15dc)[-0x125d+-0x718*0x1+-0x85*-0x31]),this['_resetExec'+'utionOrder'](-0xdbd+0x2*0xd8d+-0x137*0xb,_0x337334),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0xd4d7cc,_0x11d2ca,_0x41fec6,_0x116f1f),this['fire']('move:'+_0xd4d7cc,_0x11d2ca,_0x41fec6,_0x116f1f),!(-0x57*-0x3+0x1*-0x5ae+-0x4a9*-0x1));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(-0x2244+0x597*-0x1+0x27db);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=0x1f02+0x1b07*0x1+-0x3a09;class cD extends Xe{constructor(_0xfd6a34){super(_0xfd6a34),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x23ca*-0x1+0x6*0x157+-0xc*0x3a7),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x39dba2,_0x4aa967){if(_0x39dba2['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x39dba2),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x39dba2['enabled']=_0x4aa967['hasOwnProp'+'erty']('enabled')?!!_0x4aa967['enabled']:!(0x1448+-0x1*0x210e+0xcc6),_0x39dba2['enabled']&&_0x39dba2['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x39dba2),_0x4aa967['hasOwnProp'+'erty']('order')&&_0x4aa967['hasOwnProp'+'erty']('scripts')){_0x39dba2['_scriptsDa'+'ta']=_0x4aa967['scripts'];for(let _0xbf9de6=0x1*-0x1ecb+0x2532+-0x667;_0xbf9de6<_0x4aa967['order']['length'];_0xbf9de6++)_0x39dba2['create'](_0x4aa967['order'][_0xbf9de6],{'enabled':_0x4aa967['scripts'][_0x4aa967['order'][_0xbf9de6]]['enabled'],'attributes':_0x4aa967['scripts'][_0x4aa967['order'][_0xbf9de6]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x1ec03b,_0x5372fb){var _0x4b9506;const _0x2f8e2=[],_0x2d0695={};for(let _0x4c9dfa=0x209b+0x1af5+-0x3b90;_0x4c9dfa<_0x1ec03b['script']['_scripts']['length'];_0x4c9dfa++){const _0x87ab2=_0x1ec03b['script']['_scripts'][_0x4c9dfa],_0x1dac1f=_0x87ab2['__scriptTy'+'pe']['__name'];_0x2f8e2['push'](_0x1dac1f);const _0x8338eb=((_0x4b9506=_0x1ec03b['script']['_attribute'+'DataMap'])==null?void(-0x2564+-0x175*0xf+0x3b3f):_0x4b9506['get'](_0x1dac1f))||{};for(const _0x45eeba in _0x87ab2['__attribut'+'es'])_0x8338eb[_0x45eeba]=_0x87ab2['__attribut'+'es'][_0x45eeba];_0x2d0695[_0x1dac1f]={'enabled':_0x87ab2['_enabled'],'attributes':_0x8338eb};}for(const _0x39dc23 in _0x1ec03b['script']['_scriptsIn'+'dex'])_0x39dc23['awaiting']&&_0x2f8e2['splice'](_0x39dc23['ind'],0x254c+0x11d4+0x1b90*-0x2,_0x39dc23);const _0x566b67={'enabled':_0x1ec03b['script']['enabled'],'order':_0x2f8e2,'scripts':_0x2d0695};return this['addCompone'+'nt'](_0x5372fb,_0x566b67);}['_resetExec'+'utionOrder'](){Jl=-0x44*0x15+0x14c7+0x3*-0x511;for(let _0x5ec57c=0x71d+0x43*-0x61+-0x2*-0x923,_0x2434b5=this['_component'+'s']['length'];_0x5ec57c<_0x2434b5;_0x5ec57c++)this['_component'+'s']['items'][_0x5ec57c]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x4ce2a2,_0x32b111,_0x2719d4){for(_0x4ce2a2['loopIndex']=0x1674*-0x1+0x1ea7+-0x1*0x833;_0x4ce2a2['loopIndex']<_0x4ce2a2['length'];_0x4ce2a2['loopIndex']++)_0x4ce2a2['items'][_0x4ce2a2['loopIndex']][_0x32b111](_0x2719d4);}['_onInitial'+'ize'](){this['preloading']=!(0x1*0x4de+0x1736+0x1c13*-0x1),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x3a4183){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x3a4183);}['_onPostUpd'+'ate'](_0x4593e2){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x4593e2);}['_addCompon'+'entToEnabl'+'ed'](_0xa2c81c){this['_enabledCo'+'mponents']['insert'](_0xa2c81c);}['_removeCom'+'ponentFrom'+'Enabled'](_0x5d5869){this['_enabledCo'+'mponents']['remove'](_0x5d5869);}['_onBeforeR'+'emove'](_0x5842e4,_0x48dc71){this['_component'+'s']['items']['indexOf'](_0x48dc71)>=-0x1a11*0x1+-0xbcf+-0x4bc*-0x8&&_0x48dc71['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x48dc71),this['_component'+'s']['remove'](_0x48dc71);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x402824,_0x54fa75){super(_0x402824,_0x54fa75),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x402824['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x54fa75['on']('remove',this['onRemoveCh'+'ild'],this),_0x54fa75['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x54fa75['on']('insert',this['onInsertCh'+'ild'],this),_0x54fa75['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x23e597){var _0x4b2d38,_0x5c79b4;this['_customAab'+'b']=_0x23e597,(_0x5c79b4=(_0x4b2d38=this['_instance'])==null?void(-0x19fc*-0x1+0x839+0x3f*-0x8b):_0x4b2d38['meshInstan'+'ce'])==null||_0x5c79b4['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x4c7c88){var _0x3f582d;if(this['destroyIns'+'tance'](),this['_instance']=_0x4c7c88,(_0x3f582d=this['_instance'])!=null&&_0x3f582d['meshInstan'+'ce']){const _0x40f1bf=this['_instance']['meshInstan'+'ce'];_0x40f1bf['node']||(_0x40f1bf['node']=this['entity']),_0x40f1bf['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x574b91){this['_materialO'+'ptions']=Object['assign']({},_0x574b91),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x3fae68;return(_0x3fae68=this['_instance'])==null?void(-0x1*-0x303+-0x1b05+0x1b7*0xe):_0x3fae68['material'];}set['layers'](_0x13f53a){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x8*-0xb6+0x1*-0x12ef+0x1*0xd3f;for(let _0x6de8e4=-0xc*0x8a+-0x18f*0x13+0x2415*0x1;_0x6de8e4<_0x13f53a['length'];_0x6de8e4++)this['_layers'][_0x6de8e4]=_0x13f53a[_0x6de8e4];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x2c479d){const _0x492fce=_0x2c479d instanceof le?_0x2c479d['id']:_0x2c479d;this['_assetRefe'+'rence']['id']!==_0x492fce&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x492fce,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x229cfe){const _0x1cba8d=_0x229cfe instanceof le?_0x229cfe['id']:_0x229cfe;this['_assetRefe'+'rence']['id']=_0x1cba8d;}['destroyIns'+'tance'](){var _0x398380;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x398380=this['_instance'])==null||_0x398380['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x131dcb,_0xb31598;const _0x17f999=(_0x131dcb=this['instance'])==null?void(-0x24a2+0x2*0xf5c+0x5ea):_0x131dcb['meshInstan'+'ce'];if(_0x17f999){const _0x36423d=this['system']['app']['scene']['layers'];for(let _0x19c55e=0x2156+-0x1*-0x1e59+-0x3faf;_0x19c55e<this['_layers']['length'];_0x19c55e++)(_0xb31598=_0x36423d['getLayerBy'+'Id'](this['_layers'][_0x19c55e]))==null||_0xb31598['addMeshIns'+'tances']([_0x17f999]);}}['removeFrom'+'Layers'](){var _0x5b3490,_0x607858;const _0x1e28eb=(_0x5b3490=this['instance'])==null?void(-0x6e7*-0x2+0x1653+-0x2421):_0x5b3490['meshInstan'+'ce'];if(_0x1e28eb){const _0xb18d23=this['system']['app']['scene']['layers'];for(let _0x2b37cb=-0x18*-0x4+-0x7ec+0x78c;_0x2b37cb<this['_layers']['length'];_0x2b37cb++)(_0x607858=_0xb18d23['getLayerBy'+'Id'](this['_layers'][_0x2b37cb]))==null||_0x607858['removeMesh'+'Instances']([_0x1e28eb]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x38a87a,_0xe321d1){this['addToLayer'+'s'](),_0x38a87a['off']('add',this['onLayerAdd'+'ed'],this),_0x38a87a['off']('remove',this['onLayerRem'+'oved'],this),_0xe321d1['on']('add',this['onLayerAdd'+'ed'],this),_0xe321d1['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x908c0e){this['layers']['indexOf'](_0x908c0e['id'])<-0xa76+0x10b0+0x2*-0x31d||this['_instance']&&_0x908c0e['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x286c53){this['layers']['indexOf'](_0x286c53['id'])<-0x249b*0x1+-0x43*0x3b+0x340c||this['_instance']&&_0x286c53['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x2f564f=this['system']['app']['scene'],_0x34af03=_0x2f564f['layers'];this['_evtLayers'+'Changed']=_0x2f564f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x34af03&&(this['_evtLayerA'+'dded']=_0x34af03['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x34af03['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0xdee501,_0x269642,_0x12ab1d;const _0x26f8d5=this['system']['app']['scene']['layers'];(_0xdee501=this['_evtLayers'+'Changed'])==null||_0xdee501['off'](),this['_evtLayers'+'Changed']=null,_0x26f8d5&&((_0x269642=this['_evtLayerA'+'dded'])==null||_0x269642['off'](),this['_evtLayerA'+'dded']=null,(_0x12ab1d=this['_evtLayerR'+'emoved'])==null||_0x12ab1d['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x51d+-0x17*-0x5f+-0xda5));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1787+-0x1*0x2458+0x3bdf));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x463dd4=this['_assetRefe'+'rence']['asset'];_0x463dd4&&(this['instance']=_0x463dd4['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(0x2*0x1d6+-0x7f1+0x445);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x1eb43b){super(_0x1eb43b),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x186ff2,_0x1b8d0b,_0x56aefd){_0x1b8d0b['layers']&&_0x1b8d0b['layers']['length']&&(_0x1b8d0b['layers']=_0x1b8d0b['layers']['slice'](-0x1394+-0x53*0x47+0x2d7*0xf));for(let _0xa64be3=0xa1*-0x1+-0x14e8+0x1589;_0xa64be3<Rr['length'];_0xa64be3++)_0x1b8d0b['hasOwnProp'+'erty'](Rr[_0xa64be3])&&(_0x186ff2[Rr[_0xa64be3]]=_0x1b8d0b[Rr[_0xa64be3]]);_0x1b8d0b['aabbCenter']&&_0x1b8d0b['aabbHalfEx'+'tents']&&(_0x186ff2['customAabb']=new _e(new T(_0x1b8d0b['aabbCenter']),new T(_0x1b8d0b['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x186ff2,_0x1b8d0b,yf);}['cloneCompo'+'nent'](_0x5ba034,_0xeeb1a9){const _0x52552d=_0x5ba034['gsplat'],_0x57de9e={};for(let _0x34bcc4=-0x1be8+-0x1*0x1dd7+-0x1*-0x39bf;_0x34bcc4<Rr['length'];_0x34bcc4++)_0x57de9e[Rr[_0x34bcc4]]=_0x52552d[Rr[_0x34bcc4]];_0x57de9e['enabled']=_0x52552d['enabled'],delete _0x57de9e['instance'];const _0x5ca1d0=this['addCompone'+'nt'](_0xeeb1a9,_0x57de9e);return _0x5ca1d0['instance']=_0x52552d['instance']['clone'](),_0x52552d['customAabb']&&(_0x5ca1d0['customAabb']=_0x52552d['customAabb']['clone']()),_0x5ca1d0;}['onRemove'](_0x5dae4f,_0x2ef196){_0x2ef196['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x4747d3){this['decRefMesh'+'es'](),this['_meshes']=_0x4747d3,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x4747d3);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x42fe6e;(_0x42fe6e=this['_meshes'])==null||_0x42fe6e['forEach']((_0x4a40ff,_0x3e8d96)=>{_0x4a40ff&&(_0x4a40ff['decRefCoun'+'t'](),_0x4a40ff['refCount']<0x3*-0x6fb+0x8c*0x1f+0x3fe&&(_0x4a40ff['destroy'](),this['_meshes'][_0x3e8d96]=null));});}['incRefMesh'+'es'](){var _0x3b47f;(_0x3b47f=this['_meshes'])==null||_0x3b47f['forEach'](_0xd79a27=>{_0xd79a27==null||_0xd79a27['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x156875){const _0x30c063=this;if(!_0x30c063['resource'])return;const _0x140f81=_0x156875['resource'],_0x4d6cf5=_0x140f81['renders']&&_0x140f81['renders'][_0x30c063['data']['renderInde'+'x']];_0x4d6cf5&&(_0x30c063['resource']['meshes']=_0x4d6cf5['resource']['meshes']);}function Lg(_0x4d47fc){const _0xb01138=this;_0xb01138['registry']['off']('load:'+_0x4d47fc['id'],yh,_0xb01138),_0xb01138['registry']['on']('load:'+_0x4d47fc['id'],yh,_0xb01138),_0xb01138['registry']['off']('remove:'+_0x4d47fc['id'],Fg,_0xb01138),_0xb01138['registry']['once']('remove:'+_0x4d47fc['id'],Fg,_0xb01138),_0x4d47fc['resource']?yh['call'](_0xb01138,_0x4d47fc):_0xb01138['registry']['load'](_0x4d47fc);}function Fg(_0x162dcb){const _0xba4e6b=this;_0xba4e6b['registry']['off']('load:'+_0x162dcb['id'],yh,_0xba4e6b),_0xba4e6b['resource']&&_0xba4e6b['resource']['destroy']();}class fD extends Ne{constructor(_0x446dd1){super(_0x446dd1,'render'),this['_registry']=_0x446dd1['assets'];}['open'](_0xb87c7a,_0x47d553){return new Hp();}['patch'](_0x51b0aa,_0x3955c8){if(!_0x51b0aa['data']['containerA'+'sset'])return;const _0x566e30=_0x3955c8['get'](_0x51b0aa['data']['containerA'+'sset']);if(!_0x566e30){_0x3955c8['once']('add:'+_0x51b0aa['data']['containerA'+'sset'],Lg,_0x51b0aa);return;}Lg['call'](_0x51b0aa,_0x566e30);}}class Px{constructor(_0x104592,_0x23035f,_0x59c3db,_0x156a03){this['_paths']=_0x104592,this['_input']=_0x23035f,this['_output']=_0x59c3db,this['_interpola'+'tion']=_0x156a03;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x3b3968,_0x40a660){this['_component'+'s']=_0x3b3968,this['_data']=_0x40a660;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x46260f,_0x2ca6c7){let _0x9ce21a;const _0x13c794=(_0x7698e4,_0x22c16a)=>{switch(_0x22c16a){case _0x9ce21a['DT_INT8']:return new Int8Array(_0x7698e4['buffer'],_0x7698e4['byteOffset'],_0x7698e4['byteLength']);case _0x9ce21a['DT_INT16']:return new Int16Array(_0x7698e4['buffer'],_0x7698e4['byteOffset'],_0x7698e4['byteLength']/(0xa65+-0x48b*-0x5+0x13*-0x1be));case _0x9ce21a['DT_INT32']:return new Int32Array(_0x7698e4['buffer'],_0x7698e4['byteOffset'],_0x7698e4['byteLength']/(0xb*-0x10c+-0xe6e+0x19f6));case _0x9ce21a['DT_UINT8']:return new Uint8Array(_0x7698e4['buffer'],_0x7698e4['byteOffset'],_0x7698e4['byteLength']);case _0x9ce21a['DT_UINT16']:return new Uint16Array(_0x7698e4['buffer'],_0x7698e4['byteOffset'],_0x7698e4['byteLength']/(0x159*0x1+0x2a5*-0x5+-0x3*-0x3f6));case _0x9ce21a['DT_UINT32']:return new Uint32Array(_0x7698e4['buffer'],_0x7698e4['byteOffset'],_0x7698e4['byteLength']/(0x883*-0x3+-0x176d*-0x1+-0x22*-0x10));case _0x9ce21a['DT_FLOAT32']:return new Float32Array(_0x7698e4['buffer'],_0x7698e4['byteOffset'],_0x7698e4['byteLength']/(0x2643+-0xb1c+0x1*-0x1b23));}return null;},_0x164c5f=_0x2fbc35=>{switch(_0x2fbc35){case _0x9ce21a['DT_INT8']:return 0x24d*-0x1+-0x1*-0x2d6+0x11*-0x8;case _0x9ce21a['DT_INT16']:return 0x1c1*-0xd+-0xb27+0x21f6;case _0x9ce21a['DT_INT32']:return-0x2*0xe76+0x17*0x101+0x5d9;case _0x9ce21a['DT_UINT8']:return-0xa20*0x3+0x258e+-0x72d;case _0x9ce21a['DT_UINT16']:return 0x6de*-0x3+0x1846+-0x2*0x1d5;case _0x9ce21a['DT_UINT32']:return-0x45+-0x1*-0x13c3+-0x1*0x137a;case _0x9ce21a['DT_FLOAT32']:return-0x116*0x18+0x1*-0xb23+0x2537;}return 0x1fe6+0x10e6+-0x30cb*0x1;},_0x56b768=_0x190550=>_0x190550['num_compon'+'ents']()*_0x164c5f(_0x190550['data_type']()),_0x9b5fcc={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x4e6b33=(_0x112b31,_0x2d0d30)=>{const _0x2cca6c=(_0x41ff3d,_0x10fb54,_0x51b7a7)=>{_0x41ff3d[0x190e+0x1b88+-0x3496]=_0x10fb54[0x2215+-0x2*-0x502+0xd5*-0x35]-_0x51b7a7[0x4f3*-0x7+-0x188*-0x1+0x211d],_0x41ff3d[0x893+-0x42f*-0x1+0x5*-0x28d]=_0x10fb54[0x1*0x87d+-0x13cc+-0xb50*-0x1]-_0x51b7a7[0x19f1+-0x2551+0xb61],_0x41ff3d[-0x53*0x77+0x8b*0x22+-0x1*-0x1421]=_0x10fb54[-0x9*0x182+-0x20d1+0x2e65]-_0x51b7a7[0x4*0x880+-0x2366+0x168];},_0x112401=(_0x1298ce,_0x1255ad,_0x3ce761)=>{_0x1298ce[-0x168b+0xa*0xa3+0x102d]=_0x1255ad[0xd61*0x1+0x4*0x769+-0x2b04]*_0x3ce761[-0x3*-0xc1a+0x88*0x1b+0x32a4*-0x1]-_0x3ce761[-0x350*0x2+-0x19cb+0x206c]*_0x1255ad[-0x93+0x10ba+-0x1025],_0x1298ce[0x18d0+-0x20f8+-0x1*-0x829]=_0x1255ad[-0x15cd*0x1+-0x90b+0x1eda]*_0x3ce761[-0x1105*-0x1+-0xaab+-0x32d*0x2]-_0x3ce761[0x2f8+0x271+0x567*-0x1]*_0x1255ad[-0x1618+-0x2540+0x3b58],_0x1298ce[0x1ff5+-0xeb0*0x2+-0x1*0x293]=_0x1255ad[0x17*-0x9b+-0x208b*-0x1+-0x1*0x129e]*_0x3ce761[-0x97*0x6+-0x3a*0x73+0x1d99]-_0x3ce761[0x2*0x56d+0x121f+0x1cf9*-0x1]*_0x1255ad[0x2b*-0x4d+-0xa5f+0x33*0x75];},_0x330025=(_0x2154e8,_0x39c800)=>{const _0x207fc2=_0x2154e8[_0x39c800+(-0x473+0x1*0xa31+-0x2a*0x23)],_0x33d48e=_0x2154e8[_0x39c800+(0x1*0xed1+-0xce*-0x9+-0x160e)],_0x206ee1=_0x2154e8[_0x39c800+(-0x8e7+0x22e2+-0x19f9)],_0x22e90c=(0x14ed+-0x2ff+-0x11ed)/Math['sqrt'](_0x207fc2*_0x207fc2+_0x33d48e*_0x33d48e+_0x206ee1*_0x206ee1);_0x2154e8[_0x39c800+(-0x1c19+0x1e70+-0x1*0x257)]*=_0x22e90c,_0x2154e8[_0x39c800+(-0x4fd+0x59*-0x67+0x829*0x5)]*=_0x22e90c,_0x2154e8[_0x39c800+(0x33d*0x1+-0x4ad+0x4a*0x5)]*=_0x22e90c;},_0x10b2fa=(_0x2e6844,_0x4a9735,_0x44fbf2)=>{for(let _0xbd2556=-0xcc1+0x20*0x25+0x821*0x1;_0xbd2556<-0x5a*-0x14+0x18*-0x168+0x1abb;++_0xbd2556)_0x2e6844[_0xbd2556]=_0x4a9735[_0x44fbf2+_0xbd2556];},_0x14ec77=_0x2d0d30['length']/(-0x1*0x1aeb+-0x1*0x6a3+0x2191),_0x228e28=_0x112b31['length']/(0x13f*-0xe+-0x220f+0x3384),_0xaf2d07=new Float32Array(_0x112b31['length']),_0x384533=[-0x1e1c+0x1293*0x1+0xb89,-0x511*-0x1+0x1e*0x14+-0x769,-0x2162+0x2273+-0x111],_0x1d3e63=[-0x1801*-0x1+-0x986*-0x1+0x2187*-0x1,0x1*0x85a+0x2*0xff4+-0x1421*0x2,0x1eef*0x1+-0x469*0x2+0x9*-0x275],_0x3b26ba=[-0x2696+-0x90e*0x1+0x2fa4,-0x3*0x13+0x538+-0x4ff,0x65*0x17+-0x110a+-0x7f7*-0x1],_0x331b1f=[-0x5*0x6ab+-0x283*-0xb+0x5b6,0xa5c+0x10*0x5a+-0xffc,-0x1*0x833+-0x2379+-0x1ae*-0x1a],_0x1c014d=[0x2*-0x2+-0xb*0x33d+0x1*0x23a3,0x1be1+-0x13f9*0x1+0x2*-0x3f4,0x1b9c+0x641*0x3+-0x2e5f],_0x24f61e=[-0x141e+-0x146*-0x1+-0x12d8*-0x1,-0x1*0x541+0x20e3+-0x1ba2,-0x1021+-0x22a4+0x32c5];for(let _0x18f5d8=-0x2623+-0x178f*-0x1+0xe94;_0x18f5d8<_0x14ec77;++_0x18f5d8){const _0x3eb3e7=_0x2d0d30[_0x18f5d8*(-0x2f*-0xb1+0x1664+-0x36e0)+(0x9ef+0x7f4+-0x1*0x11e3)]*(-0x13e*0x12+0xaaf+0x58*0x22),_0x5de02c=_0x2d0d30[_0x18f5d8*(-0x131*-0x13+-0x2665*0x1+0xfc5)+(0x26b6+0x10e2+0x13*-0x2ed)]*(-0x5eb+0xfa1+-0x9b3),_0x1b88b1=_0x2d0d30[_0x18f5d8*(0x1da2+0x1*-0x264b+0x8ac)+(0x1*0x1ae7+-0xdc*-0xb+-0x2459)]*(-0x1*-0x209+-0xe04+-0x2*-0x5ff);_0x10b2fa(_0x384533,_0x112b31,_0x3eb3e7),_0x10b2fa(_0x1d3e63,_0x112b31,_0x5de02c),_0x10b2fa(_0x3b26ba,_0x112b31,_0x1b88b1),_0x2cca6c(_0x331b1f,_0x1d3e63,_0x384533),_0x2cca6c(_0x1c014d,_0x3b26ba,_0x384533),_0x112401(_0x24f61e,_0x331b1f,_0x1c014d),_0x330025(_0x24f61e,-0x1*-0x1d7b+-0x1b14+-0x267);for(let _0x438a14=0x1*0x161b+0x1*-0x1bb8+0x59d*0x1;_0x438a14<0x1*-0x1963+-0x25ac+0x3f12;++_0x438a14)_0xaf2d07[_0x3eb3e7+_0x438a14]+=_0x24f61e[_0x438a14],_0xaf2d07[_0x5de02c+_0x438a14]+=_0x24f61e[_0x438a14],_0xaf2d07[_0x1b88b1+_0x438a14]+=_0x24f61e[_0x438a14];}for(let _0x58fbb2=-0x1ff9+-0xaac+0x2aa5;_0x58fbb2<_0x228e28;++_0x58fbb2)_0x330025(_0xaf2d07,_0x58fbb2*(-0x7*0x47f+0x86*0x9+0x1ac6));return new Uint8Array(_0xaf2d07['buffer']);},_0x4c5069=_0x2be5a1=>{const _0x474037={},_0x1ccb79=new _0x9ce21a['DecoderBuf'+'fer']();_0x1ccb79['Init'](_0x2be5a1,_0x2be5a1['length']);const _0x59f197=new _0x9ce21a['Decoder']();if(_0x59f197['GetEncoded'+'GeometryTy'+'pe'](_0x1ccb79)!==_0x9ce21a['TRIANGULAR'+'_MESH'])return _0x474037['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x474037;const _0xab14f9=new _0x9ce21a['Mesh'](),_0x385dd6=_0x59f197['DecodeBuff'+'erToMesh'](_0x1ccb79,_0xab14f9);if(!_0x385dd6||!_0x385dd6['ok']()||_0x9ce21a['getPointer'](_0xab14f9)===0x927+-0x22f+-0x6f8)return _0x474037['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x474037;const _0x160244=_0xab14f9['num_faces']()*(-0x2562+-0x2254+0x47b9),_0x56e886=_0xab14f9['num_points']()<=-0x2*0x9374+0xfb1e+0x12bc9,_0x471d65=_0x160244*(_0x56e886?0x155b+0x1f*0x69+0x6d0*-0x5:0x176a+-0xe4e+0x1*-0x918),_0x29c2bd=_0x9ce21a['_malloc'](_0x471d65);_0x56e886?(_0x59f197['GetTriangl'+'esUInt16Ar'+'ray'](_0xab14f9,_0x471d65,_0x29c2bd),_0x474037['indices']=new Uint16Array(_0x9ce21a['HEAPU16']['buffer'],_0x29c2bd,_0x160244)['slice']()['buffer']):(_0x59f197['GetTriangl'+'esUInt32Ar'+'ray'](_0xab14f9,_0x471d65,_0x29c2bd),_0x474037['indices']=new Uint32Array(_0x9ce21a['HEAPU32']['buffer'],_0x29c2bd,_0x160244)['slice']()['buffer']),_0x9ce21a['_free'](_0x29c2bd);const _0x4b7836=[];for(let _0x59ad15=-0x141a+-0x6*0xf+0x1474;_0x59ad15<_0xab14f9['num_attrib'+'utes']();++_0x59ad15)_0x4b7836['push'](_0x59f197['GetAttribu'+'te'](_0xab14f9,_0x59ad15));_0x4b7836['sort']((_0x287a0d,_0x3222ee)=>(_0x9b5fcc[_0x287a0d['attribute_'+'type']()]??_0x9b5fcc['length'])-(_0x9b5fcc[_0x3222ee['attribute_'+'type']()]??_0x9b5fcc['length'])),_0x474037['attributes']=_0x4b7836['map'](_0xa94c90=>_0xa94c90['unique_id']());let _0x5f382d=0x1976*0x1+0xe87*-0x1+-0x1*0xaef;const _0x28ebfe=_0x4b7836['map'](_0x10e642=>{const _0x5c8f40=_0x5f382d;return _0x5f382d+=Math['ceil'](_0x56b768(_0x10e642)/(0x1e30+-0x224c+-0x21*-0x20))*(0x2029+0x26d+-0x2292),_0x5c8f40;}),_0xd2dc38=_0x4b7836['some'](_0x3cb095=>_0x3cb095['attribute_'+'type']()===0x8*0xe5+0x593+-0xcba),_0x4fe9b9=_0x28ebfe[0x178a+0xe*-0x24a+0x883];if(!_0xd2dc38){for(let _0x5842e6=-0x1*0x1341+0x1*-0x323+0x1665;_0x5842e6<_0x28ebfe['length'];++_0x5842e6)_0x28ebfe[_0x5842e6]+=-0x423+-0x17c6+0x1bf5;_0x5f382d+=0x3*-0xb28+-0x2673+0x47f7;}_0x474037['vertices']=new ArrayBuffer(_0xab14f9['num_points']()*_0x5f382d);const _0x78714c=new Uint8Array(_0x474037['vertices']);for(let _0x2588f1=-0x3a*-0x1c+-0x2477+0x2bd*0xb;_0x2588f1<_0xab14f9['num_attrib'+'utes']();++_0x2588f1){const _0x532254=_0x4b7836[_0x2588f1],_0x348980=_0x56b768(_0x532254),_0x2e0af0=_0xab14f9['num_points']()*_0x348980,_0x7a57fa=_0x9ce21a['_malloc'](_0x2e0af0);_0x59f197['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0xab14f9,_0x532254,_0x532254['data_type'](),_0x2e0af0,_0x7a57fa);const _0x45aaaa=new Uint8Array(_0x9ce21a['HEAPU8']['buffer'],_0x7a57fa,_0x2e0af0);for(let _0x38153c=-0x1140+-0x22d*-0x3+-0x1*-0xab9;_0x38153c<_0xab14f9['num_points']();++_0x38153c)for(let _0x1abe39=0x6df*0x5+-0x2*0xf22+0x15d*-0x3;_0x1abe39<_0x348980;++_0x1abe39)_0x78714c[_0x38153c*_0x5f382d+_0x28ebfe[_0x2588f1]+_0x1abe39]=_0x45aaaa[_0x38153c*_0x348980+_0x1abe39];if(!_0xd2dc38&&_0x532254['attribute_'+'type']()===0xf31*0x1+0x1ea4+-0x2dd5){const _0x27baea=_0x4e6b33(_0x13c794(_0x45aaaa,_0x532254['data_type']()),_0x56e886?new Uint16Array(_0x474037['indices']):new Uint32Array(_0x474037['indices']));for(let _0x140e82=0x1*-0xd5d+0xac2*-0x1+0x181f*0x1;_0x140e82<_0xab14f9['num_points']();++_0x140e82)for(let _0x547c2c=-0x1*0x1497+0x25cd+0x2*-0x89b;_0x547c2c<-0x1043+0x59e*0x1+0xab1;++_0x547c2c)_0x78714c[_0x140e82*_0x5f382d+_0x4fe9b9+_0x547c2c]=_0x27baea[_0x140e82*(-0x193*0x15+0x29*0x66+0x1b*0x9f)+_0x547c2c];}_0x9ce21a['_free'](_0x7a57fa);}return _0x9ce21a['destroy'](_0xab14f9),_0x9ce21a['destroy'](_0x59f197),_0x9ce21a['destroy'](_0x1ccb79),_0x474037;},_0x408bad=_0x1f2063=>{const _0x1a5c3f=_0x4c5069(new Uint8Array(_0x1f2063['buffer']));self['postMessag'+'e']({'jobId':_0x1f2063['jobId'],'error':_0x1a5c3f['error'],'indices':_0x1a5c3f['indices'],'vertices':_0x1a5c3f['vertices'],'attributes':_0x1a5c3f['attributes']},[_0x1a5c3f['indices'],_0x1a5c3f['vertices']]['filter'](_0x1ba6ca=>_0x1ba6ca!=null));},_0x8d5bc9=[];self['onmessage']=_0xf1874b=>{const _0x146cf3=_0xf1874b['data'];switch(_0x146cf3['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x40f8fd,_0x2d472c)=>(WebAssembly['instantiat'+'e'](_0x146cf3['module'],_0x40f8fd)['then'](_0x3ea7ec=>_0x2d472c(_0x3ea7ec))['catch'](_0x31b370=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x31b370)),{})})['then'](_0x3d395c=>{_0x9ce21a=_0x3d395c,_0x8d5bc9['forEach'](_0x571f64=>_0x408bad(_0x571f64));});break;case'decodeMesh':_0x9ce21a?_0x408bad(_0x146cf3):_0x8d5bc9['push'](_0x146cf3);break;}};}const Og=-0x2b*0x61+0x11d4+0x1e*-0xd;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x105a+0x1*-0x1ad6+0x2b30,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x491ebd,_0x46ff4f)=>{_0x491ebd['postMessag'+'e']({'type':'decodeMesh','jobId':_0x46ff4f['jobId'],'buffer':_0x46ff4f['buffer']},[_0x46ff4f['buffer']]);};}['init'](_0x4d7261){for(_0x4d7261['forEach'](_0x1bff18=>{_0x1bff18['addEventLi'+'stener']('message',_0x903101=>{const _0x40d789=_0x903101['data'],_0x42c7c0=this['jobCallbac'+'ks']['get'](_0x40d789['jobId']);if(_0x42c7c0&&_0x42c7c0(_0x40d789['error'],{'indices':_0x40d789['indices'],'vertices':_0x40d789['vertices'],'attributes':_0x40d789['attributes']}),this['jobCallbac'+'ks']['delete'](_0x40d789['jobId']),this['jobQueue']['length']>-0x6ea+0x68*-0x1f+0x1382){const _0x1c9384=this['jobQueue']['shift']();this['run'](_0x1bff18,_0x1c9384);}else{const _0x497566=this['workers'][-0x1*0x3db+0x22cb+-0x25*0xd6]['indexOf'](_0x1bff18);if(_0x497566!==-(-0xf7b+0x2d*0x3a+0x54a))this['workers'][-0x15e*-0x17+-0x9fa+0x29*-0x86]['splice'](_0x497566,-0x1e*0xcf+0x6*0x32f+-0x529*-0x1),this['workers'][-0xf27+-0x2*0x452+0x17cc]['push'](_0x1bff18);else{const _0x2efada=this['workers'][-0xac0+-0x189c+0x235d]['indexOf'](_0x1bff18);_0x2efada!==-(0x208d+0x2387+-0x4413)?(this['workers'][0x309*0x1+0x6ca*0x2+-0x109c]['splice'](_0x2efada,-0x1779+0x1a21+-0x2a7),this['workers'][0x104d+0x1a91+-0x6*0x725]['push'](_0x1bff18)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1fa7+0x3*-0x427+-0x1*0x1332]=_0x4d7261;this['jobQueue']['length']&&(this['workers'][-0x255+0xa4f+0x2*-0x3fd]['length']||this['workers'][0xb08*0x1+0x526*0x2+-0x1553]['length']);){const _0x2e3b44=this['jobQueue']['shift']();if(this['workers'][0x1432+0x123*0x22+-0x3ad8]['length']>-0x1*-0x1161+-0x10b3+-0xae){const _0x5e428a=this['workers'][-0xc1a+-0x11be*-0x1+-0x4c*0x13]['shift']();this['workers'][-0x19ec+-0xd9b+0xb*0x398]['push'](_0x5e428a),this['run'](_0x5e428a,_0x2e3b44);}else{const _0x572259=this['workers'][0xc*-0x280+-0x2*0x931+0x3063]['shift']();this['workers'][0x3*-0x30c+-0x26*0xcd+-0x4*-0x9e5]['push'](_0x572259),this['run'](_0x572259,_0x2e3b44);}}}['enqueueJob'](_0xbed8a2,_0x50e850){const _0x2a9b33={'jobId':this['jobId']++,'buffer':_0xbed8a2};if(this['jobCallbac'+'ks']['set'](_0x2a9b33['jobId'],_0x50e850),this['workers'][-0x1be3+-0x1*0x1cb7+-0x276*-0x17]['length']>-0x1*-0x3fd+0x1*0xfe9+-0x13e6){const _0x219601=this['workers'][0x2*-0xe9e+-0x20*0x12e+0x595*0xc]['shift']();this['workers'][-0xe2b+-0xace+0x8b*0x2e]['push'](_0x219601),this['run'](_0x219601,_0x2a9b33);}else{if(this['workers'][-0x7b*0xa+0x1782+-0x12b3]['length']>-0x2195+0x1f07+0x28e){const _0x898dfc=this['workers'][0x371+-0x2048+0x1cd8]['shift']();this['workers'][-0x1d76+0x234*-0xd+0x3a1c]['push'](_0x898dfc),this['run'](_0x898dfc,_0x2a9b33);}else this['jobQueue']['push'](_0x2a9b33);}}}const _D=_0x1ded9b=>new Promise((_0x165e82,_0x409c39)=>{const _0xdbfc0d={'cache':!(-0x3*0x9af+0x757*-0x1+0x919*0x4),'responseType':'text','retry':Og>-0x205d+0x15dc*-0x1+0x3639,'maxRetries':Og};$e['get'](_0x1ded9b,_0xdbfc0d,(_0x498bd5,_0x5f14c3)=>{_0x498bd5?_0x409c39(_0x498bd5):_0x165e82(_0x5f14c3);});}),gD=_0x29923c=>{const _0x47e979=()=>fetch(_0x29923c)['then'](_0x149de4=>_0x149de4['arrayBuffe'+'r']())['then'](_0x43d967=>WebAssembly['compile'](_0x43d967)),_0x14b2f1=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x29923c))['catch'](_0x2b7873=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x29923c+'\x20('+_0x2b7873+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x47e979()));return WebAssembly['compileStr'+'eaming']?_0x14b2f1():_0x47e979();},kg=-0x18fb+0x17e3+0x119;let xh;const yD=_0x3fd1dd=>{if(xh)return!(0x165*-0x3+-0xa*0x4b+0x3*0x25f);if(!_0x3fd1dd){const _0x4dd376=ay['getConfig']('DracoDecod'+'erModule');_0x4dd376?_0x3fd1dd={'jsUrl':_0x4dd376['glueUrl'],'wasmUrl':_0x4dd376['wasmUrl'],'numWorkers':_0x4dd376['numWorkers']}:_0x3fd1dd={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x3fd1dd['jsUrl']||!_0x3fd1dd['wasmUrl']?!(-0x190*0x16+0x115c+0x1105):(xh=new mD(),Promise['all']([_D(_0x3fd1dd['jsUrl']),gD(_0x3fd1dd['wasmUrl'])])['then'](([_0x3dd236,_0x3888b4])=>{const _0x28bb77=['/*\x20draco\x20*'+'/',_0x3dd236,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x3ab246=new Blob([_0x28bb77],{'type':'applicatio'+'n/javascri'+'pt'}),_0xc21a09=URL['createObje'+'ctURL'](_0x3ab246),_0x38804c=Math['max'](0x92f+-0x1b2d+-0x11*-0x10f,Math['min'](0x4f*0x65+0x1407+0x51d*-0xa,_0x3fd1dd['numWorkers']||kg)),_0x3efc57=[];for(let _0x39dbbb=-0x1c16+0xbf*0x15+0x11*0xbb;_0x39dbbb<_0x38804c;++_0x39dbbb){const _0x4fdbef=new Worker(_0xc21a09);_0x4fdbef['postMessag'+'e']({'type':'init','module':_0x3888b4}),_0x3efc57['push'](_0x4fdbef);}xh['init'](_0x3efc57);}),!(0x72*0x51+0x41a+-0x282c));},xD=(_0x5ec6fd,_0x588534)=>yD()?(xh['enqueueJob'](_0x5ec6fd,_0x588534),!(-0x21ca+0x59*-0x48+-0x1*-0x3ad2)):!(-0x92b*-0x3+-0x1fcc+0x226*0x2);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x1086b6=>{_0x1086b6['meshes']=null;});}}const Rx=_0x2c6b5e=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x2c6b5e),vD=_0xfd8f49=>_0xfd8f49['substring'](_0xfd8f49['indexOf'](':')+(0x255+0x3b*0xc+-0x518*0x1),_0xfd8f49['indexOf'](';')),Wo=_0x4acb61=>{switch(_0x4acb61){case'SCALAR':return-0x16*-0x12d+0x1cd1+-0x123a*0x3;case'VEC2':return 0x1a00+-0x1*-0x2454+-0x2*0x1f29;case'VEC3':return 0x7*-0x2fe+-0xc01*-0x1+0x1*0x8f4;case'VEC4':return 0x58b*0x6+-0x1a3e*-0x1+-0x3b7c;case'MAT2':return 0x13d*-0x1d+-0x1d95+0x4182;case'MAT3':return 0x52b+-0x2706+0x21e4;case'MAT4':return-0xb67+-0x213d+0x2cb4;default:return-0x1a76+-0xd8a+-0x1*-0x2803;}},Jc=_0xd54bc9=>{switch(_0xd54bc9){case-0x1884+0x1086+0x1bfe:return Rc;case-0x316*-0x3+0xa*-0x3bf+0x3035:return Kr;case-0x1475*-0x1+-0x106*0x19+0x1923:return Ic;case 0x13f7+-0x2*0x1a0+0x34c:return el;case-0x1*0x11fb+-0xd2*-0x21+0xaed:return By;case-0x87f+0x605+0x167f:return Do;case-0x17ba+0x1*-0x1ebb+0x4a7b:return Ee;default:return 0x11b*0xf+-0x19e3+0x94e;}},bD=_0x26fdaa=>{switch(_0x26fdaa){case-0x13d1+-0xa78+0x3249:return 0x2514+-0x1*-0x1d87+0x16*-0x307;case 0xb*-0x14f+0x50b*-0x2+0x2c7c:return-0x1753+-0xd9f+0x24f3;case-0x1076+0xa*0x2e7+-0x3b9*-0x2:return 0x265a+0x1*-0x1426+0x2*-0x919;case 0x28b*-0x5+-0x5f+0x2119:return-0x248a+0xd26+0x1766;case-0x22f0+-0x77c+0x6f0*0x9:return-0x21de+0x977+0x13*0x149;case-0xfed+0x1155+0x129d:return-0x1904+-0x8ab+-0x1*-0x21b3;case 0x9*0x150+0x21ad+0x87d*-0x3:return-0x1*-0x24e2+-0x1e8d+-0xb*0x93;default:return-0x228+0x1f4b*-0x1+0x2173;}},wD=_0x1b90ad=>{switch(_0x1b90ad){case-0xe*-0x1f9+0x5*-0x233+0x361*0x1:return Int8Array;case-0x5*0x1f0+-0x785+-0x129b*-0x2:return Uint8Array;case-0x2*0x5dd+-0x2*0xee3+0x3d82:return Int16Array;case 0x1*0x1075+0x5b+-0x3*-0x111:return Uint16Array;case 0x5*0x1ae+-0x130a+-0x368*-0x9:return Int32Array;case-0x16bd*-0x1+0x16*0x1cd+-0x2a56:return Uint32Array;case 0x17c2+-0x5e3*-0x4+-0x1b48:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:-0x77b+-0x1f45*0x1+0xa*0x3e0,[Yt]:-0x159*-0xc+0x1*0x18e9+0xef*-0x2c,[Zs]:0x26ab+0xb5*0x21+0x8a*-0x73,[At]:-0x7*0x525+-0x376*0x9+0x432c,[qt]:-0x1*0x23+0xe9d*-0x1+0x2*0x762,[Ys]:0x162+0x23c6*0x1+-0x2523,[ns]:-0x5*-0x455+-0x15ed+-0x1*-0x4a,[_n]:-0x2*-0x114b+-0xa14+-0x187b,[jo]:-0xb1f+0x26cf+-0x1ba8,[Yo]:-0xb66*-0x2+-0x2599+-0xd3*-0x12,[Ko]:-0x13e7+0x3*0xcf1+0x971*-0x2,[Zo]:-0x1ffd*0x1+0x15fa+0x6*0x1ad,[Qo]:-0x2*-0x12e7+-0x576+-0x1a*0x13e,[Jo]:0x24af+-0x7*0x3df+-0x989},TD=_0x2ea5e0=>{switch(_0x2ea5e0){case Rc:return _0xb722ab=>Math['max'](_0xb722ab/(-0xc2d*0x1+0x7*0x577+0x6f*-0x3b),-(-0x23*-0xb6+0xede+-0x27bf));case Kr:return _0x353ac9=>_0x353ac9/(0x1f18+-0x5af+-0x271*0xa);case Ic:return _0x52c56f=>Math['max'](_0x52c56f/(-0x7256+-0x5b95+0x128d*0x12),-(-0xc5b+-0x567+0x11c3));case el:return _0xd84aaf=>_0xd84aaf/(0x15201*0x1+0x7417*-0x2+0x962c);default:return _0x13454f=>_0x13454f;}},xf=(_0xe8b42a,_0x31dfab,_0x548b67)=>{const _0x13891b=TD(_0x548b67),_0x34699d=_0x31dfab['length'];for(let _0x213c34=-0x19ea+0xaf8+0x779*0x2;_0x213c34<_0x34699d;++_0x213c34)_0xe8b42a[_0x213c34]=_0x13891b(_0x31dfab[_0x213c34]);return _0xe8b42a;},sn=(_0x46ae53,_0x4bf8c6,_0x189924=!(0xf67+0x197c+-0x1471*0x2))=>{const _0x38d02f=Wo(_0x46ae53['type']),_0x3069f3=wD(_0x46ae53['componentT'+'ype']);if(!_0x3069f3)return null;let _0x1d1e22;if(_0x46ae53['sparse']){const _0x47356f=_0x46ae53['sparse'],_0x5961bd={'count':_0x47356f['count'],'type':'SCALAR'},_0x4b89db=sn(Object['assign'](_0x5961bd,_0x47356f['indices']),_0x4bf8c6,!(0x2*-0x12ce+0xa2b*0x1+0x1b71)),_0x1cdfba={'count':_0x47356f['count'],'type':_0x46ae53['type'],'componentType':_0x46ae53['componentT'+'ype']},_0x1d7a6c=sn(Object['assign'](_0x1cdfba,_0x47356f['values']),_0x4bf8c6,!(0x7a7*-0x3+0x11c*0x11+-0x1*-0x419));if(_0x46ae53['hasOwnProp'+'erty']('bufferView')){const _0x9f3e56={'bufferView':_0x46ae53['bufferView'],'byteOffset':_0x46ae53['byteOffset'],'componentType':_0x46ae53['componentT'+'ype'],'count':_0x46ae53['count'],'type':_0x46ae53['type']};_0x1d1e22=sn(_0x9f3e56,_0x4bf8c6,!(0xef*0x1d+0x89*0x35+-0x3770))['slice']();}else _0x1d1e22=new _0x3069f3(_0x46ae53['count']*_0x38d02f);for(let _0x21e4d8=-0x19df+0x4a*-0x7f+-0x3e95*-0x1;_0x21e4d8<_0x47356f['count'];++_0x21e4d8){const _0x36628b=_0x4b89db[_0x21e4d8];for(let _0x4a6f3=-0x1bbf*-0x1+-0xb11+-0x1ab*0xa;_0x4a6f3<_0x38d02f;++_0x4a6f3)_0x1d1e22[_0x36628b*_0x38d02f+_0x4a6f3]=_0x1d7a6c[_0x21e4d8*_0x38d02f+_0x4a6f3];}}else{if(_0x46ae53['hasOwnProp'+'erty']('bufferView')){const _0x4e89e2=_0x4bf8c6[_0x46ae53['bufferView']];if(_0x189924&&_0x4e89e2['hasOwnProp'+'erty']('byteStride')){const _0x467279=_0x38d02f*_0x3069f3['BYTES_PER_'+'ELEMENT'],_0x2e80f1=new ArrayBuffer(_0x46ae53['count']*_0x467279),_0x3b77be=new Uint8Array(_0x2e80f1);let _0x1ea6bf=-0x18a5+-0xf64*0x1+-0x25*-0x115;for(let _0xe63f0c=-0x2cf+-0x4fe+0x7cd;_0xe63f0c<_0x46ae53['count'];++_0xe63f0c){let _0x38c64d=(_0x46ae53['byteOffset']||-0x1*0xb4e+-0x268+0xdb6)+_0xe63f0c*_0x4e89e2['byteStride'];for(let _0x40528c=0x1ca4*-0x1+0x1da2+-0xfe;_0x40528c<_0x467279;++_0x40528c)_0x3b77be[_0x1ea6bf++]=_0x4e89e2[_0x38c64d++];}_0x1d1e22=new _0x3069f3(_0x2e80f1);}else _0x1d1e22=new _0x3069f3(_0x4e89e2['buffer'],_0x4e89e2['byteOffset']+(_0x46ae53['byteOffset']||0x247*-0xf+-0x2a9*-0x6+-0x611*-0x3),_0x46ae53['count']*_0x38d02f);}else _0x1d1e22=new _0x3069f3(_0x46ae53['count']*_0x38d02f);}return _0x1d1e22;},ma=(_0x5b4864,_0x4cec8c)=>{const _0x3467e8=sn(_0x5b4864,_0x4cec8c,!(-0x135a+-0x1b*0x83+0x212b));if(_0x3467e8 instanceof Float32Array||!_0x5b4864['normalized'])return _0x3467e8;const _0x2c6161=new Float32Array(_0x3467e8['length']);return xf(_0x2c6161,_0x3467e8,Jc(_0x5b4864['componentT'+'ype'])),_0x2c6161;},Sf=_0x38c382=>{let _0x3d49b2=_0x38c382['min'],_0x2a08f0=_0x38c382['max'];if(!_0x3d49b2||!_0x2a08f0)return null;if(_0x38c382['normalized']){const _0x20e646=Jc(_0x38c382['componentT'+'ype']);_0x3d49b2=xf([],_0x3d49b2,_0x20e646),_0x2a08f0=xf([],_0x2a08f0,_0x20e646);}return new _e(new T((_0x2a08f0[-0x810+-0x1*-0x32b+0x4e5]+_0x3d49b2[-0x4*-0x75e+0x1e2b+0x3*-0x13e1])*(-0x17c4+-0x4e1*0x8+0x3ecc+0.5),(_0x2a08f0[0x19d*-0x17+0x15f*0x8+-0x3bc*-0x7]+_0x3d49b2[0x1*0x1871+-0x1c87+-0x3*-0x15d])*(0x18c3+0x38*-0x71+-0xb+0.5),(_0x2a08f0[-0x28c+0x1*0xdfc+-0xb6e]+_0x3d49b2[0xf3c+0x6*0x43a+0x2896*-0x1])*(0x660+-0x13c1+0xd61+0.5)),new T((_0x2a08f0[0x1*-0x1959+0x22*-0x110+0x3d79]-_0x3d49b2[-0x1*0x36d+0x7e*0x1b+0x5*-0x1f9])*(0x22bd*0x1+-0x223d*0x1+-0x1*0x80+0.5),(_0x2a08f0[-0x15a7+0x1f91*0x1+-0x9e9]-_0x3d49b2[-0xe90+0x97*0x1+0x6fd*0x2])*(0xb*0x305+0xe3f+-0x19*0x1e6+0.5),(_0x2a08f0[-0x19*0xe1+0x60a+-0x7*-0x247]-_0x3d49b2[0x378+-0x8e6+0x30*0x1d])*(-0x2*-0x116b+-0x1b26+0xf6*-0x8+0.5)));},Ix=_0x4d167b=>{if(!_0x4d167b['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x4d167b['mode']){case 0x45b+0x2*0x9f6+-0x1847:return Mc;case-0x3*0x6f9+0x18ad+0x1f*-0x1f:return Pc;case-0xef8+-0x10aa+0x1fa4:return My;case 0xcf6+-0x4a9*0x7+0x13ac:return Py;case 0x7cd+0xb*-0x146+0x3*0x213:return Ms;case 0x1f88+0x1*-0x1069+-0xf1a:return ar;case 0x6b*-0x31+0xf*0x1e3+0x1f3*-0x4:return Yr;default:return Ms;}},AD=_0x5d2df7=>{const _0x1a3ee3=new Uint16Array(_0x5d2df7);for(let _0x1460a3=0x1a35*0x1+0x1*0xca6+0x58d*-0x7;_0x1460a3<_0x5d2df7;_0x1460a3++)_0x1a3ee3[_0x1460a3]=_0x1460a3;return _0x1a3ee3;},ED=(_0x141731,_0xbfed5b)=>{const _0x46cd79=_0x141731[He];if(!_0x46cd79||_0x46cd79['components']!==0x2*0x287+0x2162*0x1+0x1*-0x266d)return;let _0x120bc7;if(_0x46cd79['size']!==_0x46cd79['stride']){const _0xa17f9e=_0x46cd79['stride']/_o[_0x46cd79['type']],_0x1dcc45=new da[_0x46cd79['type']](_0x46cd79['buffer'],_0x46cd79['offset'],_0x46cd79['count']*_0xa17f9e);_0x120bc7=new da[_0x46cd79['type']](_0x46cd79['count']*(-0x665*-0x2+-0x16b0+-0x9e9*-0x1));for(let _0x43cbce=-0x388+0x16f7+-0x136f;_0x43cbce<_0x46cd79['count'];++_0x43cbce)_0x120bc7[_0x43cbce*(-0xbd1+-0x1*0x6bb+0x128f)+(0x7db*0x1+0x4*-0x28d+0x259)]=_0x1dcc45[_0x43cbce*_0xa17f9e+(-0x1461+-0x5f8+0x1a59)],_0x120bc7[_0x43cbce*(0x1*-0x23bf+-0x10*0x3+0xd6*0x2b)+(-0xa9*-0x2b+-0x7*-0x1f4+-0x2a0e)]=_0x1dcc45[_0x43cbce*_0xa17f9e+(-0x2033+-0xa89+0x209*0x15)],_0x120bc7[_0x43cbce*(-0x87*0x3f+-0x1c72*0x1+0x3dae)+(-0x2558+0x25e3+-0x89*0x1)]=_0x1dcc45[_0x43cbce*_0xa17f9e+(-0x1459+-0x400*-0x7+-0x13*0x67)];}else _0x120bc7=new da[_0x46cd79['type']](_0x46cd79['buffer'],_0x46cd79['offset'],_0x46cd79['count']*(0x14b4+0x14e+0x1*-0x15ff));const _0x2751d9=_0x46cd79['count'];_0xbfed5b||(_0xbfed5b=AD(_0x2751d9));const _0x371b10=k0(_0x120bc7,_0xbfed5b),_0x48253a=new Float32Array(_0x371b10['length']);_0x48253a['set'](_0x371b10),_0x141731[Yt]={'buffer':_0x48253a['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x2751d9,'components':0x3,'type':Ee};},CD=_0xfb406=>{const _0x1d05fb=_0x1bca4f=>{const _0xce04f2=[];for(let _0x4d4fec=0x25a3+-0x22fb+-0x4*0xaa;_0x4d4fec<_0x1bca4f['_levels']['length'];++_0x4d4fec){let _0x4986f8=[];if(_0x1bca4f['cubemap']){for(let _0x4bccad=0x2*0xddf+0x1f*-0xbf+-0x49d;_0x4bccad<-0xf*0x13a+-0x11ec+-0x1*-0x2458;++_0x4bccad)_0x4986f8['push'](_0x1bca4f['_levels'][_0x4d4fec][_0x4bccad]);}else _0x4986f8=_0x1bca4f['_levels'][_0x4d4fec];_0xce04f2['push'](_0x4986f8);}return _0xce04f2;},_0x1a9834=new he(_0xfb406['device'],_0xfb406);return _0x1a9834['_levels']=_0x1d05fb(_0xfb406),_0x1a9834;},MD=_0x9108fb=>{const _0x3158f2=new le(_0x9108fb['name']+'_clone',_0x9108fb['type'],_0x9108fb['file'],_0x9108fb['data'],_0x9108fb['options']);return _0x3158f2['loaded']=!(0xfe*-0x3+-0x1145*0x1+-0x1*-0x143f),_0x3158f2['resource']=CD(_0x9108fb['resource']),_0x9108fb['registry']['add'](_0x3158f2),_0x3158f2;},PD=(_0x3b8e2a,_0xe7620c)=>{const _0x1c4032=_0xe7620c[He];if(!_0x1c4032)return null;const _0x159a04=_0x1c4032['count'],_0x8d083c=[];for(const _0x382f2f in _0xe7620c)if(_0xe7620c['hasOwnProp'+'erty'](_0x382f2f)){const _0x1720cf={'semantic':_0x382f2f,'components':_0xe7620c[_0x382f2f]['components'],'type':_0xe7620c[_0x382f2f]['type'],'normalize':!!_0xe7620c[_0x382f2f]['normalize']};Et['isElementV'+'alid'](_0x3b8e2a,_0x1720cf)||_0x1720cf['components']++,_0x8d083c['push'](_0x1720cf);}_0x8d083c['sort']((_0x4e7371,_0x4c7b06)=>Bg[_0x4e7371['semantic']]-Bg[_0x4c7b06['semantic']]);let _0x340e28,_0x390bbc,_0x175186,_0x3e9cd6,_0x4b7431,_0x5ba33d;const _0x46f569=new Et(_0x3b8e2a,_0x8d083c);let _0x226f6c=!(0x1*0x24b5+-0x1*0x1b03+-0x9b2);for(_0x340e28=0x1*-0x79d+-0x61d*-0x6+0x1*-0x1d11;_0x340e28<_0x46f569['elements']['length'];++_0x340e28)if(_0x4b7431=_0x46f569['elements'][_0x340e28],_0x3e9cd6=_0xe7620c[_0x4b7431['name']],_0x5ba33d=_0x3e9cd6['offset']-_0x1c4032['offset'],_0x3e9cd6['buffer']!==_0x1c4032['buffer']||_0x3e9cd6['stride']!==_0x4b7431['stride']||_0x3e9cd6['size']!==_0x4b7431['size']||_0x5ba33d!==_0x4b7431['offset']){_0x226f6c=!(0x108f+0x239*-0xd+-0x27*-0x51);break;}const _0x3e5061=new os(_0x3b8e2a,_0x46f569,_0x159a04),_0x48650d=_0x3e5061['lock'](),_0x4ec2e2=new Uint32Array(_0x48650d);let _0x19bd0b;if(_0x226f6c)_0x19bd0b=new Uint32Array(_0x1c4032['buffer'],_0x1c4032['offset'],_0x159a04*_0x3e5061['format']['size']/(-0x3*-0xc12+-0xc*0x26+-0x226a)),_0x4ec2e2['set'](_0x19bd0b);else{let _0x4aa9aa,_0x1925f5;for(_0x340e28=0x4a2+0x1864+0x2*-0xe83;_0x340e28<_0x3e5061['format']['elements']['length'];++_0x340e28){_0x4b7431=_0x3e5061['format']['elements'][_0x340e28],_0x4aa9aa=_0x4b7431['stride']/(0x19b*-0x13+0x1*0x1b81+0x304),_0x3e9cd6=_0xe7620c[_0x4b7431['name']],_0x1925f5=_0x3e9cd6['stride']/(0x95e+0x123*0x1f+-0x2c97),_0x19bd0b=new Uint32Array(_0x3e9cd6['buffer'],_0x3e9cd6['offset'],(_0x3e9cd6['count']-(-0x47f*-0x1+0x1*0x137f+-0x17fd))*_0x1925f5+(_0x3e9cd6['size']+(0x1d70*-0x1+0x1c8a*-0x1+0x39fd))/(-0x172f+0x14ee+0x245));let _0x1f927d=0xfa3+0x1*0x182f+-0x27d2,_0x59d2dc=_0x4b7431['offset']/(0x1*-0x1441+-0x295*0x2+0x196f);const _0x146038=Math['floor']((_0x3e9cd6['size']+(0x1*-0x1f3+-0x53c+0x732))/(-0x20c*-0x9+-0x20b5+0x7*0x20b));for(_0x390bbc=0x6e6*-0x5+-0xc89*0x3+0x4819;_0x390bbc<_0x159a04;++_0x390bbc){for(_0x175186=0x26c6+-0x18c5*-0x1+0x3f8b*-0x1;_0x175186<_0x146038;++_0x175186)_0x4ec2e2[_0x59d2dc+_0x175186]=_0x19bd0b[_0x1f927d+_0x175186];_0x1f927d+=_0x1925f5,_0x59d2dc+=_0x4aa9aa;}}}return _0x3e5061['unlock'](),_0x3e5061;},RD=(_0x154daf,_0x4b6e03,_0x16fe56,_0x534a01,_0x495835,_0x2479db)=>{const _0x27fbdd={},_0x164b3b=[];for(const _0x30b707 in _0x4b6e03)_0x4b6e03['hasOwnProp'+'erty'](_0x30b707)&&ec['hasOwnProp'+'erty'](_0x30b707)&&(_0x27fbdd[_0x30b707]=_0x4b6e03[_0x30b707],_0x164b3b['push'](_0x30b707+':'+_0x4b6e03[_0x30b707]));_0x164b3b['sort']();const _0xe39cbd=_0x164b3b['join']();let _0x3e9855=_0x2479db[_0xe39cbd];if(!_0x3e9855){const _0x1db3b8={};for(const _0x2cf405 in _0x27fbdd){const _0x284cad=_0x534a01[_0x4b6e03[_0x2cf405]],_0x45ba07=sn(_0x284cad,_0x495835),_0x1cfba9=_0x495835[_0x284cad['bufferView']],_0x5e5118=ec[_0x2cf405],_0x353e97=Wo(_0x284cad['type'])*bD(_0x284cad['componentT'+'ype']),_0x56e786=_0x1cfba9&&_0x1cfba9['hasOwnProp'+'erty']('byteStride')?_0x1cfba9['byteStride']:_0x353e97;_0x1db3b8[_0x5e5118]={'buffer':_0x45ba07['buffer'],'size':_0x353e97,'offset':_0x45ba07['byteOffset'],'stride':_0x56e786,'count':_0x284cad['count'],'components':Wo(_0x284cad['type']),'type':Jc(_0x284cad['componentT'+'ype']),'normalize':_0x284cad['normalized']};}_0x1db3b8['hasOwnProp'+'erty'](Yt)||ED(_0x1db3b8,_0x16fe56),_0x3e9855=PD(_0x154daf,_0x1db3b8),_0x2479db[_0xe39cbd]=_0x3e9855;}return _0x3e9855;},ID=(_0x1645e2,_0x335ed6,_0x1dfc78,_0x3487a6,_0x23aa71,_0x2dfcea)=>{let _0x5c00ad,_0x79e15a,_0x82e4a0;const _0x335a9c=_0x335ed6['joints'],_0x54fb35=_0x335a9c['length'],_0x58b213=[];if(_0x335ed6['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x23cd71=_0x335ed6['inverseBin'+'dMatrices'],_0x2dd59d=sn(_0x1dfc78[_0x23cd71],_0x3487a6,!(-0x116+0x18c1*-0x1+0x19d7)),_0xd7e9c5=[];for(_0x5c00ad=-0x5ec+-0x31*0x4+0x6b0;_0x5c00ad<_0x54fb35;_0x5c00ad++){for(_0x79e15a=0x7*-0x52d+-0x1*-0x1aec+-0x1*-0x94f;_0x79e15a<0x539+0x1614+-0x1b3d*0x1;_0x79e15a++)_0xd7e9c5[_0x79e15a]=_0x2dd59d[_0x5c00ad*(-0x1ecf+0xa*0x157+0x1179)+_0x79e15a];_0x82e4a0=new q(),_0x82e4a0['set'](_0xd7e9c5),_0x58b213['push'](_0x82e4a0);}}else{for(_0x5c00ad=-0x173e+-0x5*0x509+0x306b;_0x5c00ad<_0x54fb35;_0x5c00ad++)_0x82e4a0=new q(),_0x58b213['push'](_0x82e4a0);}const _0x4e251f=[];for(_0x5c00ad=-0x2b+-0x1510+0x153b;_0x5c00ad<_0x54fb35;_0x5c00ad++)_0x4e251f[_0x5c00ad]=_0x23aa71[_0x335a9c[_0x5c00ad]]['name'];const _0x5dd8b4=_0x4e251f['join']('#');let _0x4b83d4=_0x2dfcea['get'](_0x5dd8b4);return _0x4b83d4||(_0x4b83d4=new N0(_0x1645e2,_0x58b213,_0x4e251f),_0x2dfcea['set'](_0x5dd8b4,_0x4b83d4)),_0x4b83d4;},DD=(_0x3205ee,_0x3a04ed,_0xf0a0e4,_0xf3931,_0x448832,_0xdc8185,_0x52baef)=>{var _0x5e7b09;const _0x836636=new Ie(_0x3205ee);_0x836636['aabb']=Sf(_0xf0a0e4[_0x3a04ed['attributes']['POSITION']]);const _0x54c783=[];for(const [_0x552fa3,_0x577013]of Object['entries'](_0x3a04ed['attributes'])){const _0x11786c=_0xf0a0e4[_0x577013],_0x591f85=ec[_0x552fa3],_0x3e5d82=Jc(_0x11786c['componentT'+'ype']);_0x54c783['push']({'semantic':_0x591f85,'components':Wo(_0x11786c['type']),'type':_0x3e5d82,'normalize':_0x11786c['normalized']??(_0x591f85===At&&(_0x3e5d82===Kr||_0x3e5d82===el))});}if(_0x52baef['push'](new Promise((_0xe4bda0,_0x2e8e48)=>{const _0x4ce6cd=_0x3a04ed['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0xf3931[_0x4ce6cd['bufferView']]['slice']()['buffer'],(_0x319810,_0x359e6d)=>{var _0x262b4f;if(_0x319810)console['log'](_0x319810),_0x2e8e48(_0x319810);else{const _0x252000={};for(const [_0x34f623,_0x1053b9]of Object['entries'](_0x4ce6cd['attributes']))_0x252000[ec[_0x34f623]]=_0x359e6d['attributes']['indexOf'](_0x1053b9);_0x54c783['sort']((_0x18d6d1,_0x582c2c)=>_0x252000[_0x18d6d1['semantic']]-_0x252000[_0x582c2c['semantic']]),(_0x262b4f=_0x3a04ed['attributes'])!=null&&_0x262b4f['NORMAL']||_0x54c783['splice'](0xa*-0x2de+0x1ff4+-0x347,-0x27*0xa9+-0x2395*0x1+0x3d54,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x221316=new Et(_0x3205ee,_0x54c783),_0x1d1026=_0x359e6d['vertices']['byteLength']/_0x221316['size'],_0x464d5d=_0x1d1026<=0x3*-0x204a+0x87b9+0x85a*0x1a?Pi:nr,_0x503500=_0x359e6d['indices']['byteLength']/(_0x1d1026<=0x1*0x9d77+0x4749+0x2d*0x9b?-0x1171+0x14d0+0x11f*-0x3:-0x261*-0x1+0x1453*-0x1+0x11f6);v['call'](()=>{_0x1d1026!==_0xf0a0e4[_0x3a04ed['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x503500!==_0xf0a0e4[_0x3a04ed['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x14a43f=new os(_0x3205ee,_0x221316,_0x1d1026,{'data':_0x359e6d['vertices']}),_0x243a57=new lr(_0x3205ee,_0x464d5d,_0x503500,jt,_0x359e6d['indices']);_0x836636['vertexBuff'+'er']=_0x14a43f,_0x836636['indexBuffe'+'r'][-0x2*-0x1f3+0x11b1*0x1+-0x1597]=_0x243a57,_0x836636['primitive'][-0x2599+-0x7*0x534+-0x4a05*-0x1]['type']=Ix(_0x3a04ed),_0x836636['primitive'][-0x146a+0x7f2+0xc78]['base']=0x9a8+-0x1*-0x1b76+-0x251e,_0x836636['primitive'][0x1e0b+-0xc48+-0x11c3*0x1]['count']=_0x243a57?_0x503500:_0x1d1026,_0x836636['primitive'][-0x64*-0x1a+-0x12*0x91+-0xa*-0x1]['indexed']=!!_0x243a57,_0xe4bda0();}});})),(_0x5e7b09=_0x3a04ed==null?void(-0x3*0x607+0x7*-0x2bc+-0x2dd*-0xd):_0x3a04ed['extensions'])!=null&&_0x5e7b09['KHR_materi'+'als_varian'+'ts']){const _0x2a678b=_0x3a04ed['extensions']['KHR_materi'+'als_varian'+'ts'],_0x5c6280={};_0x2a678b['mappings']['forEach'](_0x2c9acc=>{_0x2c9acc['variants']['forEach'](_0x3a1459=>{_0x5c6280[_0x3a1459]=_0x2c9acc['material'];});}),_0x448832[_0x836636['id']]=_0x5c6280;}return _0xdc8185[_0x836636['id']]=_0x3a04ed['material'],_0x836636;},LD=(_0x28d491,_0x51cde2,_0x21e290,_0x7534f1,_0x36064f,_0x2e011c,_0x3e1d20,_0x5a793a,_0x2ce5c2)=>{const _0x159bf4=[];return _0x51cde2['primitives']['forEach'](_0x541801=>{var _0x4f8368;if((_0x4f8368=_0x541801['extensions'])!=null&&_0x4f8368['KHR_draco_'+'mesh_compr'+'ession'])_0x159bf4['push'](DD(_0x28d491,_0x541801,_0x21e290,_0x7534f1,_0x2e011c,_0x3e1d20,_0x2ce5c2));else{let _0x1c39fa=_0x541801['hasOwnProp'+'erty']('indices')?sn(_0x21e290[_0x541801['indices']],_0x7534f1,!(-0x1ec9*-0x1+-0x1de5*-0x1+-0x3cae*0x1)):null;const _0x4a4c63=RD(_0x28d491,_0x541801['attributes'],_0x1c39fa,_0x21e290,_0x7534f1,_0x36064f),_0x27c093=Ix(_0x541801),_0x342c48=new Ie(_0x28d491);if(_0x342c48['vertexBuff'+'er']=_0x4a4c63,_0x342c48['primitive'][-0x33*0x47+-0x6f*0x37+0x3*0xcaa]['type']=_0x27c093,_0x342c48['primitive'][0x1f*-0x1+-0x2*0x9fa+0x1413]['base']=-0x16a9+-0x1*-0x18a5+0x7f*-0x4,_0x342c48['primitive'][0x171d+-0x62*-0x32+-0x2a41]['indexed']=_0x1c39fa!==null,_0x1c39fa!==null){let _0x23a9e4;_0x1c39fa instanceof Uint8Array?_0x23a9e4=pu:_0x1c39fa instanceof Uint16Array?_0x23a9e4=Pi:_0x23a9e4=nr,_0x23a9e4===pu&&_0x28d491['isWebGPU']&&(_0x23a9e4=Pi,_0x1c39fa=new Uint16Array(_0x1c39fa));const _0x124003=new lr(_0x28d491,_0x23a9e4,_0x1c39fa['length'],jt,_0x1c39fa);_0x342c48['indexBuffe'+'r'][-0x1*-0x1079+-0x123*0x1f+-0x4b1*-0x4]=_0x124003,_0x342c48['primitive'][0xdcd+0x271+-0x103e]['count']=_0x1c39fa['length'];}else _0x342c48['primitive'][0x1d8*0x11+0x1d39*0x1+-0x1*0x3c91]['count']=_0x4a4c63['numVertice'+'s'];if(_0x541801['hasOwnProp'+'erty']('extensions')&&_0x541801['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x845df4=_0x541801['extensions']['KHR_materi'+'als_varian'+'ts'],_0x2696dd={};_0x845df4['mappings']['forEach'](_0x170117=>{_0x170117['variants']['forEach'](_0x5ca46d=>{_0x2696dd[_0x5ca46d]=_0x170117['material'];});}),_0x2e011c[_0x342c48['id']]=_0x2696dd;}_0x3e1d20[_0x342c48['id']]=_0x541801['material'];let _0x114135=_0x21e290[_0x541801['attributes']['POSITION']];if(_0x342c48['aabb']=Sf(_0x114135),_0x541801['hasOwnProp'+'erty']('targets')){const _0x3caa3b=[];_0x541801['targets']['forEach']((_0x5d9a0d,_0x339fd5)=>{const _0x1d372b={};_0x5d9a0d['hasOwnProp'+'erty']('POSITION')&&(_0x114135=_0x21e290[_0x5d9a0d['POSITION']],_0x1d372b['deltaPosit'+'ions']=ma(_0x114135,_0x7534f1),_0x1d372b['aabb']=Sf(_0x114135)),_0x5d9a0d['hasOwnProp'+'erty']('NORMAL')&&(_0x114135=_0x21e290[_0x5d9a0d['NORMAL']],_0x1d372b['deltaNorma'+'ls']=ma(_0x114135,_0x7534f1)),_0x51cde2['hasOwnProp'+'erty']('extras')&&_0x51cde2['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x1d372b['name']=_0x51cde2['extras']['targetName'+'s'][_0x339fd5]:_0x1d372b['name']=_0x339fd5['toString'](0x1*0x1b5d+-0x163e+-0x515),_0x51cde2['hasOwnProp'+'erty']('weights')&&(_0x1d372b['defaultWei'+'ght']=_0x51cde2['weights'][_0x339fd5]),_0x1d372b['preserveDa'+'ta']=_0x5a793a['morphPrese'+'rveData'],_0x3caa3b['push'](new Qc(_0x1d372b));}),_0x342c48['morph']=new F0(_0x3caa3b,_0x28d491,{'preferHighPrecision':_0x5a793a['morphPrefe'+'rHighPreci'+'sion']});}_0x159bf4['push'](_0x342c48);}}),_0x159bf4;},ft=(_0x5aad12,_0x3fc343,_0x2984f7)=>{var _0x399997;let _0x22c641;const _0x161faa=_0x5aad12['texCoord'];if(_0x161faa){for(_0x22c641=0xd98+0xeaa+-0x1c42;_0x22c641<_0x2984f7['length'];++_0x22c641)_0x3fc343[_0x2984f7[_0x22c641]+'MapUv']=_0x161faa;}const _0x3c457d=[0x89b+-0x11cb*0x1+0x930,-0x39*-0x9+0x5cf*0x5+-0x1f0c],_0x2f44b4=[0x11d5*0x1+0xe8+-0x12bc,-0xa9d*0x3+-0x128+0x2100],_0x1974b1=(_0x399997=_0x5aad12['extensions'])==null?void(-0x22bb*0x1+0x1*-0x757+0x2a12):_0x399997['KHR_textur'+'e_transfor'+'m'];if(_0x1974b1){const _0x4c9c11=_0x1974b1['offset']||_0x3c457d,_0x429ba9=_0x1974b1['scale']||_0x2f44b4,_0x369ddb=_0x1974b1['rotation']?-_0x1974b1['rotation']*N['RAD_TO_DEG']:0x2*0x1202+-0x1*0x125d+0x11a7*-0x1,_0x3fc70e=new W(_0x429ba9[-0xb38+0x2308+-0xc*0x1fc],_0x429ba9[-0x1418+-0x3f1*0x2+0x1bfb]),_0x501b40=new W(_0x4c9c11[-0x112a+-0x16de*-0x1+0x2da*-0x2],-0x784+0x196d+-0x11e8-_0x429ba9[-0x1e*0x52+0x1*0x154f+0xbb2*-0x1]-_0x4c9c11[-0xb0*0x3+-0xd0f+0xf20*0x1]);for(_0x22c641=0x1abc+0x3a*0x64+-0x3164;_0x22c641<_0x2984f7['length'];++_0x22c641)_0x3fc343[_0x2984f7[_0x22c641]+'MapTiling']=_0x3fc70e,_0x3fc343[_0x2984f7[_0x22c641]+'MapOffset']=_0x501b40,_0x3fc343[_0x2984f7[_0x22c641]+('MapRotatio'+'n')]=_0x369ddb;}},FD=(_0x441fbe,_0xee2d8b,_0xaebf0f)=>{let _0x3ca983,_0x451399;if(_0x441fbe['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x3ca983=_0x441fbe['diffuseFac'+'tor'],_0xee2d8b['diffuse']['set'](Math['pow'](_0x3ca983[0x148f+0x9*-0xe3+0x325*-0x4],(-0x1243+0x3b4+0xe90)/(0x1*0x120e+0x3a*-0x27+-0x936+0.20000000000000018)),Math['pow'](_0x3ca983[0xbc3+0x1a*0x84+0x2*-0xc95],(-0x448*-0x1+-0x19*0x18b+-0x2*-0x1126)/(0x4eb*-0x7+0x1*-0x4e3+-0x1*-0x2752+0.20000000000000018)),Math['pow'](_0x3ca983[0x1181*-0x2+0xec4+0x1440],(0x5*0x1a8+0x67*-0x22+0x3*0x1cd)/(0xe4*-0xf+-0x4f2+0x1250+0.20000000000000018))),_0xee2d8b['opacity']=_0x3ca983[0x493*0x3+0x1e02+0x577*-0x8]):(_0xee2d8b['diffuse']['set'](-0x3*-0xa1b+0x1164+-0x56*0x8e,0x1493*-0x1+-0xd12+0x21a6,0x1175*0x1+0x1350+-0x24c4),_0xee2d8b['opacity']=-0xfe0+0x16e0+0x3*-0x255),_0x441fbe['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x11c089=_0x441fbe['diffuseTex'+'ture'];_0x451399=_0xaebf0f[_0x11c089['index']],_0xee2d8b['diffuseMap']=_0x451399,_0xee2d8b['diffuseMap'+'Channel']='rgb',_0xee2d8b['opacityMap']=_0x451399,_0xee2d8b['opacityMap'+'Channel']='a',ft(_0x11c089,_0xee2d8b,['diffuse','opacity']);}if(_0xee2d8b['useMetalne'+'ss']=!(0x81c*0x1+0x1e3e+-0x2659*0x1),_0x441fbe['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x3ca983=_0x441fbe['specularFa'+'ctor'],_0xee2d8b['specular']['set'](Math['pow'](_0x3ca983[-0x1256*0x1+0x5d0+0xc86],(0xc75*-0x1+0xe74+-0x1fe)/(-0x13*0x19e+-0x2087+0xca7*0x5+0.20000000000000018)),Math['pow'](_0x3ca983[0x3*0x475+0x2351*-0x1+0x15f3],(0x1c4*-0x1+0x19f9+-0xc1a*0x2)/(-0x1894+0x1*0x12c4+0x5d2+0.20000000000000018)),Math['pow'](_0x3ca983[0x1a1+-0x43a*0x7+0x1*0x1bf7],(-0xfed+0x1dbb+0xdcd*-0x1)/(-0x1a85*0x1+-0x187d+0x3304+0.20000000000000018)))):_0xee2d8b['specular']['set'](0x1de0+-0x1512+-0x1*0x8cd,0x2b*-0xb3+-0x150+-0x67*-0x4e,-0xb35+0x12b3*-0x1+0x1de9),_0x441fbe['hasOwnProp'+'erty']('glossiness'+'Factor')?_0xee2d8b['gloss']=_0x441fbe['glossiness'+'Factor']:_0xee2d8b['gloss']=-0x9dc+0x1746+-0xd69,_0x441fbe['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x133411=_0x441fbe['specularGl'+'ossinessTe'+'xture'];_0xee2d8b['specularEn'+'coding']='srgb',_0xee2d8b['specularMa'+'p']=_0xee2d8b['glossMap']=_0xaebf0f[_0x133411['index']],_0xee2d8b['specularMa'+'pChannel']='rgb',_0xee2d8b['glossMapCh'+'annel']='a',ft(_0x133411,_0xee2d8b,['gloss','metalness']);}},OD=(_0x47c027,_0x5bbfb1,_0x1639e8)=>{if(_0x47c027['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x5bbfb1['clearCoat']=_0x47c027['clearcoatF'+'actor']*(-0x6b1*-0x1+-0x13*-0x2+-0x6d7*0x1+0.25):_0x5bbfb1['clearCoat']=0x2b7*0xd+0x1392*-0x1+-0xfb9,_0x47c027['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x518fa5=_0x47c027['clearcoatT'+'exture'];_0x5bbfb1['clearCoatM'+'ap']=_0x1639e8[_0x518fa5['index']],_0x5bbfb1['clearCoatM'+'apChannel']='r',ft(_0x518fa5,_0x5bbfb1,['clearCoat']);}if(_0x47c027['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x5bbfb1['clearCoatG'+'loss']=_0x47c027['clearcoatR'+'oughnessFa'+'ctor']:_0x5bbfb1['clearCoatG'+'loss']=-0x2478+0x1a1*0xd+0xf4b,_0x47c027['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0xd28a5e=_0x47c027['clearcoatR'+'oughnessTe'+'xture'];_0x5bbfb1['clearCoatG'+'lossMap']=_0x1639e8[_0xd28a5e['index']],_0x5bbfb1['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0xd28a5e,_0x5bbfb1,['clearCoatG'+'loss']);}if(_0x47c027['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x58d8ad=_0x47c027['clearcoatN'+'ormalTextu'+'re'];_0x5bbfb1['clearCoatN'+'ormalMap']=_0x1639e8[_0x58d8ad['index']],ft(_0x58d8ad,_0x5bbfb1,['clearCoatN'+'ormal']),_0x58d8ad['hasOwnProp'+'erty']('scale')&&(_0x5bbfb1['clearCoatB'+'umpiness']=_0x58d8ad['scale']);}_0x5bbfb1['clearCoatG'+'lossInvert']=!(-0x19ad+0x2*0xca1+0x6b);},kD=(_0xca5545,_0x116c42,_0x135ba3)=>{_0x116c42['useLightin'+'g']=!(0x114e+0x2419*-0x1+0x12cc),_0x116c42['emissive']['copy'](_0x116c42['diffuse']),_0x116c42['emissiveMa'+'p']=_0x116c42['diffuseMap'],_0x116c42['emissiveMa'+'pUv']=_0x116c42['diffuseMap'+'Uv'],_0x116c42['emissiveMa'+'pTiling']['copy'](_0x116c42['diffuseMap'+'Tiling']),_0x116c42['emissiveMa'+'pOffset']['copy'](_0x116c42['diffuseMap'+'Offset']),_0x116c42['emissiveMa'+'pRotation']=_0x116c42['diffuseMap'+'Rotation'],_0x116c42['emissiveMa'+'pChannel']=_0x116c42['diffuseMap'+'Channel'],_0x116c42['emissiveVe'+'rtexColor']=_0x116c42['diffuseVer'+'texColor'],_0x116c42['emissiveVe'+'rtexColorC'+'hannel']=_0x116c42['diffuseVer'+'texColorCh'+'annel'],_0x116c42['useLightin'+'g']=!(-0x1e3f+0x2f8*0x4+0x1260),_0x116c42['useSkybox']=!(-0xd7a+0x1932+-0xbb7),_0x116c42['diffuse']['set'](-0x81*-0x6+-0xe17*0x1+0xb12,0x1e*0x1f+0x2*0x553+0x11*-0xd7,0xefd+0x26e8+0x35e4*-0x1),_0x116c42['diffuseMap']=null,_0x116c42['diffuseVer'+'texColor']=!(0x1*0x1af7+0x5a5+-0x209b);},BD=(_0xc70f11,_0x3139d6,_0x816bd3)=>{if(_0x3139d6['useMetalne'+'ssSpecular'+'Color']=!(-0x56*-0x3a+0x19*-0x17b+-0x7*-0x281),_0xc70f11['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x3139d6['specularEn'+'coding']='srgb',_0x3139d6['specularMa'+'p']=_0x816bd3[_0xc70f11['specularCo'+'lorTexture']['index']],_0x3139d6['specularMa'+'pChannel']='rgb',ft(_0xc70f11['specularCo'+'lorTexture'],_0x3139d6,['specular'])),_0xc70f11['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x3f3ccd=_0xc70f11['specularCo'+'lorFactor'];_0x3139d6['specular']['set'](Math['pow'](_0x3f3ccd[-0x1c3+-0x978+0xb3b],(-0x894+-0x5*-0x6bf+-0x1926)/(-0x226a+-0x7*0x469+-0x5*-0xd0f+0.20000000000000018)),Math['pow'](_0x3f3ccd[-0x20b2+0xbb7*0x1+0x14fc],(-0x5*-0x3c7+0xfc8+-0x22aa)/(-0x1360+-0x4*-0x161+0xdde+0.20000000000000018)),Math['pow'](_0x3f3ccd[-0x652+-0x192b+0x1f7f],(0x13*-0x74+0x2005+-0x1768)/(-0x2*0x45a+0x7ec+-0x2*-0x65+0.20000000000000018)));}else _0x3139d6['specular']['set'](-0x320+-0x1*0x2183+0xe*0x29e,0x2071+-0x2*-0x583+-0x2*0x15bb,0x4a0+-0x1cfb*-0x1+0x187*-0x16);_0xc70f11['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x3139d6['specularit'+'yFactor']=_0xc70f11['specularFa'+'ctor']:_0x3139d6['specularit'+'yFactor']=0x1833+0x1708+-0x2f3a,_0xc70f11['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x3139d6['specularit'+'yFactorMap'+'Channel']='a',_0x3139d6['specularit'+'yFactorMap']=_0x816bd3[_0xc70f11['specularTe'+'xture']['index']],ft(_0xc70f11['specularTe'+'xture'],_0x3139d6,['specularit'+'yFactor']));},ND=(_0x3474d9,_0x4a814f,_0x5ec804)=>{_0x3474d9['hasOwnProp'+'erty']('ior')&&(_0x4a814f['refraction'+'Index']=(0xb09+0x2249+-0x2d51)/_0x3474d9['ior']);},zD=(_0x10aa1c,_0x23e270,_0x4a6ed5)=>{_0x10aa1c['hasOwnProp'+'erty']('dispersion')&&(_0x23e270['dispersion']=_0x10aa1c['dispersion']);},UD=(_0x2d1f84,_0x2bb09b,_0x1b58ea)=>{_0x2bb09b['blendType']=Kt,_0x2bb09b['useDynamic'+'Refraction']=!(0x74a+0x60+-0x7aa),_0x2d1f84['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x2bb09b['refraction']=_0x2d1f84['transmissi'+'onFactor']),_0x2d1f84['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x2bb09b['refraction'+'MapChannel']='r',_0x2bb09b['refraction'+'Map']=_0x1b58ea[_0x2d1f84['transmissi'+'onTexture']['index']],ft(_0x2d1f84['transmissi'+'onTexture'],_0x2bb09b,['refraction']));},VD=(_0x1af1de,_0x46fd34,_0x5cdf5b)=>{if(_0x46fd34['useSheen']=!(0x15ca+0x819+-0x1de3),_0x1af1de['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x33b761=_0x1af1de['sheenColor'+'Factor'];_0x46fd34['sheen']['set'](Math['pow'](_0x33b761[-0x1f*-0x4c+0x408*-0x6+0xefc],(0x803*-0x2+0x1672+-0x1*0x66b)/(0x1a46+-0x1db2+0x36e+0.20000000000000018)),Math['pow'](_0x33b761[-0xc*0xdc+0x2*-0x2f+0xaaf],(-0xa3d+-0x2b7*0x9+0x21*0x10d)/(0xb2d+0x7a4+0x2d*-0x6b+0.20000000000000018)),Math['pow'](_0x33b761[0x3e3*-0x5+0x1*0x1541+-0x8*0x3a],(0x1*-0x1fc3+-0x76+0x203a)/(-0x5*-0x145+-0x9f*-0x26+-0x1df1+0.20000000000000018)));}else _0x46fd34['sheen']['set'](0x1*-0x1709+0xb*-0x24b+0x3043,-0xad*0x27+0x8cc+0x1190,-0x4e1+0x7eb*0x4+-0x1aca);_0x1af1de['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x46fd34['sheenMap']=_0x5cdf5b[_0x1af1de['sheenColor'+'Texture']['index']],_0x46fd34['sheenEncod'+'ing']='srgb',ft(_0x1af1de['sheenColor'+'Texture'],_0x46fd34,['sheen'])),_0x46fd34['sheenGloss']=_0x1af1de['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x1af1de['sheenRough'+'nessFactor']:0x1*0x655+-0x97*0xb+0x28,_0x1af1de['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x46fd34['sheenGloss'+'Map']=_0x5cdf5b[_0x1af1de['sheenRough'+'nessTextur'+'e']['index']],_0x46fd34['sheenGloss'+'MapChannel']='a',ft(_0x1af1de['sheenRough'+'nessTextur'+'e'],_0x46fd34,['sheenGloss'])),_0x46fd34['sheenGloss'+'Invert']=!(-0xbe2+-0x96b*-0x1+0x1*0x277);},GD=(_0x35c3cd,_0x9cf956,_0x29d52c)=>{if(_0x9cf956['blendType']=Kt,_0x9cf956['useDynamic'+'Refraction']=!(-0x15c6+0x1d38+-0x2*0x3b9),_0x35c3cd['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x9cf956['thickness']=_0x35c3cd['thicknessF'+'actor']),_0x35c3cd['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x9cf956['thicknessM'+'ap']=_0x29d52c[_0x35c3cd['thicknessT'+'exture']['index']],_0x9cf956['thicknessM'+'apChannel']='g',ft(_0x35c3cd['thicknessT'+'exture'],_0x9cf956,['thickness'])),_0x35c3cd['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x9cf956['attenuatio'+'nDistance']=_0x35c3cd['attenuatio'+'nDistance']),_0x35c3cd['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x1a5add=_0x35c3cd['attenuatio'+'nColor'];_0x9cf956['attenuatio'+'n']['set'](Math['pow'](_0x1a5add[0x42f*-0x6+0x17be+0x15c],(0x22d9+0x217e+-0x222b*0x2)/(-0x17fb+0x1802+-0x5+0.20000000000000018)),Math['pow'](_0x1a5add[-0x1c03+0x5dd+0x1627],(-0x21c3+-0x1554+0x3718)/(0x15c7+-0x6*0x3a9+-0x7*-0x7+0.20000000000000018)),Math['pow'](_0x1a5add[0x1*0x15c4+0xf97*0x1+-0x1*0x2559],(0x1f05+0x2416+-0x431a)/(0x130*0xb+-0x198+-0xb76*0x1+0.20000000000000018)));}},HD=(_0x10a104,_0x43a626,_0x1037c1)=>{_0x10a104['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x43a626['emissiveIn'+'tensity']=_0x10a104['emissiveSt'+'rength']);},WD=(_0x56288b,_0x459e08,_0x53df2d)=>{_0x459e08['useIridesc'+'ence']=!(-0x1905+-0xf*-0x83+-0x4*-0x456),_0x56288b['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x459e08['iridescenc'+'e']=_0x56288b['iridescenc'+'eFactor']),_0x56288b['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x459e08['iridescenc'+'eMapChanne'+'l']='r',_0x459e08['iridescenc'+'eMap']=_0x53df2d[_0x56288b['iridescenc'+'eTexture']['index']],ft(_0x56288b['iridescenc'+'eTexture'],_0x459e08,['iridescenc'+'e'])),_0x56288b['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x459e08['iridescenc'+'eRefractio'+'nIndex']=_0x56288b['iridescenc'+'eIor']),_0x56288b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x459e08['iridescenc'+'eThickness'+'Min']=_0x56288b['iridescenc'+'eThickness'+'Minimum']),_0x56288b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x459e08['iridescenc'+'eThickness'+'Max']=_0x56288b['iridescenc'+'eThickness'+'Maximum']),_0x56288b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x459e08['iridescenc'+'eThickness'+'MapChannel']='g',_0x459e08['iridescenc'+'eThickness'+'Map']=_0x53df2d[_0x56288b['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x56288b['iridescenc'+'eThickness'+'Texture'],_0x459e08,['iridescenc'+'eThickness']));},Dx=(_0x59a626,_0x3c512e)=>{const _0x2d2fc6=new cs();_0x59a626['hasOwnProp'+'erty']('name')&&(_0x2d2fc6['name']=_0x59a626['name']),_0x2d2fc6['occludeSpe'+'cular']=Bo,_0x2d2fc6['diffuseVer'+'texColor']=!(0x1f11+0x65*-0xb+-0x1aba),_0x2d2fc6['specularTi'+'nt']=!(0x178e+-0x65*0x44+-0x2*-0x1a3),_0x2d2fc6['specularVe'+'rtexColor']=!(0x18c2*-0x1+-0xd84+-0xd5*-0x2e),_0x2d2fc6['specular']['set'](0x1ce1*0x1+0x265*-0x9+-0x753,-0x1eb*-0x9+0x285+-0x13c7,-0x448+0x2*-0x6dc+0x1201),_0x2d2fc6['gloss']=-0x109f+-0x48*0x54+0x2840,_0x2d2fc6['glossInver'+'t']=!(0x175*0x4+0xece+-0x14a2),_0x2d2fc6['useMetalne'+'ss']=!(-0x1f8f*-0x1+0x1*0xe8a+-0x2e19);let _0x422a96,_0x455d8c;if(_0x59a626['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x3efb94=_0x59a626['pbrMetalli'+'cRoughness'];if(_0x3efb94['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x422a96=_0x3efb94['baseColorF'+'actor'],_0x2d2fc6['diffuse']['set'](Math['pow'](_0x422a96[0x1052*0x2+-0x266e+-0x26*-0x27],(0x1*-0xcf8+-0x18a0+-0x23*-0x113)/(-0xbf8+-0x3*-0xc23+-0x186f+0.20000000000000018)),Math['pow'](_0x422a96[0x169e*-0x1+-0x2585+0x3c24],(-0x4bd*0x7+-0x5d7+0x3*0xd01)/(-0x1*-0x320+-0x1*-0x205f+-0x237d+0.20000000000000018)),Math['pow'](_0x422a96[0x9*0x255+0x7*-0x487+-0x2*-0x55b],(0xdec+0xba3+0x198e*-0x1)/(0x1989+0x29f+-0x962*0x3+0.20000000000000018))),_0x2d2fc6['opacity']=_0x422a96[0x52a*0x2+-0x13d*0x8+-0x3*0x23]),_0x3efb94['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x76e4f7=_0x3efb94['baseColorT'+'exture'];_0x455d8c=_0x3c512e[_0x76e4f7['index']],_0x2d2fc6['diffuseMap']=_0x455d8c,_0x2d2fc6['diffuseMap'+'Channel']='rgb',_0x2d2fc6['opacityMap']=_0x455d8c,_0x2d2fc6['opacityMap'+'Channel']='a',ft(_0x76e4f7,_0x2d2fc6,['diffuse','opacity']);}if(_0x3efb94['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x2d2fc6['metalness']=_0x3efb94['metallicFa'+'ctor']),_0x3efb94['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x2d2fc6['gloss']=_0x3efb94['roughnessF'+'actor']),_0x3efb94['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x413eb8=_0x3efb94['metallicRo'+'ughnessTex'+'ture'];_0x2d2fc6['metalnessM'+'ap']=_0x2d2fc6['glossMap']=_0x3c512e[_0x413eb8['index']],_0x2d2fc6['metalnessM'+'apChannel']='b',_0x2d2fc6['glossMapCh'+'annel']='g',ft(_0x413eb8,_0x2d2fc6,['gloss','metalness']);}}if(_0x59a626['hasOwnProp'+'erty']('normalText'+'ure')){const _0x4bd63b=_0x59a626['normalText'+'ure'];_0x2d2fc6['normalMap']=_0x3c512e[_0x4bd63b['index']],ft(_0x4bd63b,_0x2d2fc6,['normal']),_0x4bd63b['hasOwnProp'+'erty']('scale')&&(_0x2d2fc6['bumpiness']=_0x4bd63b['scale']);}if(_0x59a626['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x222138=_0x59a626['occlusionT'+'exture'];_0x2d2fc6['aoMap']=_0x3c512e[_0x222138['index']],_0x2d2fc6['aoMapChann'+'el']='r',ft(_0x222138,_0x2d2fc6,['ao']);}if(_0x59a626['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x422a96=_0x59a626['emissiveFa'+'ctor'],_0x2d2fc6['emissive']['set'](Math['pow'](_0x422a96[-0x16d0+-0xd*-0x169+0x47b],(0xa7*-0x7+0x2c*-0x8a+0x1c4a)/(0x1a83+0x506*-0x5+-0x5*0x47+0.20000000000000018)),Math['pow'](_0x422a96[0x185*0x14+0xdad+-0x2c10],(0x1ebc+-0x50b*-0x6+-0x1*0x3cfd)/(-0xfc2+-0xf8*-0x1a+0x12*-0x86+0.20000000000000018)),Math['pow'](_0x422a96[0x21ef*-0x1+-0xa33+0x2c24],(-0x566+0x273+-0xc*-0x3f)/(-0x2183+-0xc7f+0x2e04+0.20000000000000018)))),_0x59a626['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x126cca=_0x59a626['emissiveTe'+'xture'];_0x2d2fc6['emissiveMa'+'p']=_0x3c512e[_0x126cca['index']],ft(_0x126cca,_0x2d2fc6,['emissive']);}if(_0x59a626['hasOwnProp'+'erty']('alphaMode'))switch(_0x59a626['alphaMode']){case'MASK':_0x2d2fc6['blendType']=is,_0x59a626['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x2d2fc6['alphaTest']=_0x59a626['alphaCutof'+'f']:_0x2d2fc6['alphaTest']=0x1*0xe7b+-0x6bc+-0x3*0x295+0.5;break;case'BLEND':_0x2d2fc6['blendType']=Kt,_0x2d2fc6['depthWrite']=!(-0x12db+0x1ebc+-0xbe0);break;default:case'OPAQUE':_0x2d2fc6['blendType']=is;break;}else _0x2d2fc6['blendType']=is;_0x59a626['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x2d2fc6['twoSidedLi'+'ghting']=_0x59a626['doubleSide'+'d'],_0x2d2fc6['cull']=_0x59a626['doubleSide'+'d']?mt:rn):(_0x2d2fc6['twoSidedLi'+'ghting']=!(0x1e2c+0x31d*-0x2+-0x17f1),_0x2d2fc6['cull']=rn);const _0x46ea19={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x59a626['hasOwnProp'+'erty']('extensions'))for(const _0x4b07ba in _0x59a626['extensions']){const _0x303d31=_0x46ea19[_0x4b07ba];_0x303d31!==void(0x6*-0x613+-0x195e+0x3dd0)&&_0x303d31(_0x59a626['extensions'][_0x4b07ba],_0x2d2fc6,_0x3c512e);}return _0x2d2fc6['update'](),_0x2d2fc6;},$D=(_0x414428,_0x40412d,_0x1fc9f2,_0x5d0102,_0x44e1ee,_0x58c72d,_0x1a77af)=>{const _0x1e4e66=_0x3ecc3a=>new Jh(Wo(_0x3ecc3a['type']),ma(_0x3ecc3a,_0x5d0102)),_0x32d003={'STEP':$0,'LINEAR':ju,'CUBICSPLINE':Yu},_0xfc8987={},_0x5b044b={},_0x25d7ad={};let _0x2a466f=0x13a*0x4+-0x737*0x2+-0x987*-0x1,_0x534bb5;for(_0x534bb5=-0x1201+0x1e4f*0x1+-0xc4e;_0x534bb5<_0x414428['samplers']['length'];++_0x534bb5){const _0x36f61c=_0x414428['samplers'][_0x534bb5];_0xfc8987['hasOwnProp'+'erty'](_0x36f61c['input'])||(_0xfc8987[_0x36f61c['input']]=_0x1e4e66(_0x1fc9f2[_0x36f61c['input']])),_0x5b044b['hasOwnProp'+'erty'](_0x36f61c['output'])||(_0x5b044b[_0x36f61c['output']]=_0x1e4e66(_0x1fc9f2[_0x36f61c['output']]));const _0x41d3c3=_0x36f61c['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x32d003['hasOwnProp'+'erty'](_0x36f61c['interpolat'+'ion'])?_0x32d003[_0x36f61c['interpolat'+'ion']]:ju,_0x236c35={'paths':[],'input':_0x36f61c['input'],'output':_0x36f61c['output'],'interpolation':_0x41d3c3};_0x25d7ad[_0x534bb5]=_0x236c35;}const _0x42b299=[],_0x512dc6={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x343889=_0x4d2500=>{const _0x159d84=[];for(;_0x4d2500;)_0x159d84['unshift'](_0x4d2500['name']),_0x4d2500=_0x4d2500['parent'];return _0x159d84;},_0x41a196=(_0x2ed6d5,_0x5dff8f,_0x4cc108)=>{const _0x33c5a6=_0x5b044b[_0x2ed6d5['output']];if(!_0x33c5a6){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x4cc108+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x4a5018;if(_0x58c72d&&_0x58c72d[_0x5dff8f['mesh']]){const _0x558053=_0x58c72d[_0x5dff8f['mesh']];_0x558053['hasOwnProp'+'erty']('extras')&&_0x558053['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x4a5018=_0x558053['extras']['targetName'+'s']);}const _0x592e67=_0x33c5a6['data'],_0x4c3c2b=_0x592e67['length']/_0xfc8987[_0x2ed6d5['input']]['data']['length'],_0x243235=_0x592e67['length']/_0x4c3c2b,_0x380654=_0x243235*(-0x17b6+0x2147+-0x5*0x1e9),_0x2b4d78=new ArrayBuffer(_0x380654*_0x4c3c2b);for(let _0x531415=0xe93+0xf2*0xb+-0x18f9;_0x531415<_0x4c3c2b;_0x531415++){const _0x1c7b34=new Float32Array(_0x2b4d78,_0x380654*_0x531415,_0x243235);for(let _0xf21eb0=0x14b1+-0x17*0x22+-0x7*0x285;_0xf21eb0<_0x243235;_0xf21eb0++)_0x1c7b34[_0xf21eb0]=_0x592e67[_0xf21eb0*_0x4c3c2b+_0x531415];const _0x407b05=new Jh(0x1cad+0x2259+0x11*-0x3b5,_0x1c7b34),_0x186b65=_0x4a5018!=null&&_0x4a5018[_0x531415]?'name.'+_0x4a5018[_0x531415]:_0x531415;_0x5b044b[-_0x2a466f]=_0x407b05;const _0x889a2d={'paths':[{'entityPath':_0x4cc108,'component':'graph','propertyPath':['weight.'+_0x186b65]}],'input':_0x2ed6d5['input'],'output':-_0x2a466f,'interpolation':_0x2ed6d5['interpolat'+'ion']};_0x2a466f++,_0x25d7ad['morphCurve'+'-'+_0x534bb5+'-'+_0x531415]=_0x889a2d;}};for(_0x534bb5=0x24a*0x6+0x204a+-0x1703*0x2;_0x534bb5<_0x414428['channels']['length'];++_0x534bb5){const _0x12e47b=_0x414428['channels'][_0x534bb5],_0x447090=_0x12e47b['target'],_0x39ec12=_0x25d7ad[_0x12e47b['sampler']],_0x50896f=_0x44e1ee[_0x447090['node']],_0x488291=_0x1a77af[_0x447090['node']],_0x2b541f=_0x343889(_0x50896f);_0x447090['path']['startsWith']('weights')?(_0x41a196(_0x39ec12,_0x488291,_0x2b541f),_0x25d7ad[_0x12e47b['sampler']]['morphCurve']=!(-0xbfc+0x8d*-0x13+0x1673)):_0x39ec12['paths']['push']({'entityPath':_0x2b541f,'component':'graph','propertyPath':[_0x512dc6[_0x447090['path']]]});}const _0x596ecd=[],_0x27eb8a=[],_0x42a754=[];for(const _0x151297 in _0xfc8987)_0x596ecd['push'](_0xfc8987[_0x151297]),_0xfc8987[_0x151297]=_0x596ecd['length']-(0x1097+0x18a8+-0x293e*0x1);for(const _0x176319 in _0x5b044b)_0x27eb8a['push'](_0x5b044b[_0x176319]),_0x5b044b[_0x176319]=_0x27eb8a['length']-(-0xbbc*-0x2+-0x290+-0x14e7*0x1);for(const _0x2683e8 in _0x25d7ad){const _0x400d0c=_0x25d7ad[_0x2683e8];_0x400d0c['morphCurve']||(_0x42a754['push'](new Px(_0x400d0c['paths'],_0xfc8987[_0x400d0c['input']],_0x5b044b[_0x400d0c['output']],_0x400d0c['interpolat'+'ion'])),_0x400d0c['paths']['length']>-0x43*0x8f+0xe*0x27f+0x27b&&_0x400d0c['paths'][-0x143+0x2529+0xa*-0x397]['propertyPa'+'th'][-0x10a0+-0x1cf5+0x2d95]==='localRotat'+'ion'&&_0x400d0c['interpolat'+'ion']!==Yu&&_0x42b299['push'](_0x42a754[_0x42a754['length']-(0x9*-0x135+-0x43*0x20+0x133e)]['output']));}_0x42b299['sort']();let _0x582e5b=null,_0xd6fe25;for(_0x534bb5=0x180e+-0x7*-0x2e+-0x1950;_0x534bb5<_0x42b299['length'];++_0x534bb5){const _0x419b0f=_0x42b299[_0x534bb5];if(_0x534bb5===0xbe7+0x2445+-0x302c||_0x419b0f!==_0x582e5b){if(_0xd6fe25=_0x27eb8a[_0x419b0f],_0xd6fe25['components']===-0x3*0x945+0x1176+0x7*0x17b){const _0x21aaa3=_0xd6fe25['data'],_0x37d124=_0x21aaa3['length']-(0xbeb*-0x2+-0x1*-0x289+-0x33*-0x6b);for(let _0x59defc=-0x15*-0xcf+-0xb*-0x367+-0x1b34*0x2;_0x59defc<_0x37d124;_0x59defc+=0xaba+-0xb*0x30f+0x16ef)_0x21aaa3[_0x59defc+(-0x1*-0x1c4c+0x210e+-0x3d5a)]*_0x21aaa3[_0x59defc+(0x1*-0x1359+0x215d+0xe00*-0x1)]+_0x21aaa3[_0x59defc+(-0x1105+-0x1b5a+0x2c60)]*_0x21aaa3[_0x59defc+(-0x158b+0x2aa*-0xb+-0x196f*-0x2)]+_0x21aaa3[_0x59defc+(-0xcfb*0x2+-0x84f+0x2a3*0xd)]*_0x21aaa3[_0x59defc+(0x22f+-0x13*0x6a+-0x1*-0x5b5)]+_0x21aaa3[_0x59defc+(-0x12d9+-0x259d+-0x1*-0x3879)]*_0x21aaa3[_0x59defc+(-0xd5b+0xe0+-0x1*-0xc82)]<0x22*-0x41+0x604*0x4+-0xf6e&&(_0x21aaa3[_0x59defc+(0x97*0x38+-0x565*-0x2+-0x2bce)]*=-(-0x11e8+-0x1*0x1799+0x2982),_0x21aaa3[_0x59defc+(0x2055*-0x1+0x1*-0x31b+0x2375)]*=-(-0x1*-0xef9+0x1323+-0x221b),_0x21aaa3[_0x59defc+(-0x10f3*0x1+-0x21fd+-0x197b*-0x2)]*=-(-0x1c*-0x139+0x1b00+-0x3d3b),_0x21aaa3[_0x59defc+(-0x1*-0x7f7+-0x1976*0x1+0x1186)]*=-(0x1*-0x243d+-0xb22*0x1+0x2f60));}_0x582e5b=_0x419b0f;}}let _0x5ac4ee=0x1f99+-0xf09+-0xd4*0x14;for(_0x534bb5=0x160d+-0x16e0+0xd3;_0x534bb5<_0x596ecd['length'];_0x534bb5++)_0xd6fe25=_0x596ecd[_0x534bb5]['_data'],_0x5ac4ee=Math['max'](_0x5ac4ee,_0xd6fe25['length']===-0x14ac+0x19ba+0x50e*-0x1?-0x4f7*0x7+0x1af+0x2112:_0xd6fe25[_0xd6fe25['length']-(-0x18eb*0x1+-0x277*-0xf+0x269*-0x5)]);return new Ri(_0x414428['hasOwnProp'+'erty']('name')?_0x414428['name']:'animation_'+_0x40412d,_0x5ac4ee,_0x596ecd,_0x27eb8a,_0x42a754);},eh=new q(),qn=new T(),qD=(_0x3d3778,_0x1fd8bf,_0x43f80c)=>{const _0x4cd4af=new De();if(_0x3d3778['hasOwnProp'+'erty']('name')&&_0x3d3778['name']['length']>-0x714*0x3+-0x2311+0x384d?_0x4cd4af['name']=_0x3d3778['name']:_0x4cd4af['name']='node_'+_0x1fd8bf,_0x3d3778['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x3d3778['matrix']),eh['getTransla'+'tion'](qn),_0x4cd4af['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x4cd4af['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x4cd4af['setLocalSc'+'ale'](qn)),_0x3d3778['hasOwnProp'+'erty']('rotation')){const _0x21dd5c=_0x3d3778['rotation'];_0x4cd4af['setLocalRo'+'tation'](_0x21dd5c[0x1569+0xb17+-0x2080],_0x21dd5c[0x3*0x773+-0x112c+-0x52c],_0x21dd5c[0x4*0x131+-0xe37+0x975],_0x21dd5c[-0x115*0x1+-0x320*-0x3+0x212*-0x4]);}if(_0x3d3778['hasOwnProp'+'erty']('translatio'+'n')){const _0x1d1b3e=_0x3d3778['translatio'+'n'];_0x4cd4af['setLocalPo'+'sition'](_0x1d1b3e[-0x23f3+-0x15f6+-0xb95*-0x5],_0x1d1b3e[-0x16cb*-0x1+0x1*-0x8b3+-0xe17],_0x1d1b3e[-0x2*0xda3+0xaae+-0x84d*-0x2]);}if(_0x3d3778['hasOwnProp'+'erty']('scale')){const _0x2fa96c=_0x3d3778['scale'];_0x4cd4af['setLocalSc'+'ale'](_0x2fa96c[0x115e+0x20*0x83+-0x10df*0x2],_0x2fa96c[0x1*-0xc91+-0x22af+0x2f41],_0x2fa96c[0xc*-0x88+0x1dbe+0xbae*-0x2]);}return _0x3d3778['hasOwnProp'+'erty']('extensions')&&_0x3d3778['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x43f80c['set'](_0x3d3778,{'ext':_0x3d3778['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x4cd4af;},XD=(_0x3ddb8d,_0x1f5264)=>{const _0x573adb=_0x3ddb8d['type']==='orthograph'+'ic'?ua:Gs,_0x1f4be1=_0x573adb===ua?_0x3ddb8d['orthograph'+'ic']:_0x3ddb8d['perspectiv'+'e'],_0x1456c3={'enabled':!(0x17f*0x1a+0x2*0x12eb+-0x5e7*0xd),'projection':_0x573adb,'nearClip':_0x1f4be1['znear'],'aspectRatioMode':Ip};_0x1f4be1['zfar']&&(_0x1456c3['farClip']=_0x1f4be1['zfar']),_0x573adb===ua?(_0x1456c3['orthoHeigh'+'t']=(0x2649+0x54d+-0x2b96+0.5)*_0x1f4be1['ymag'],_0x1f4be1['ymag']&&(_0x1456c3['aspectRati'+'oMode']=Bu,_0x1456c3['aspectRati'+'o']=_0x1f4be1['xmag']/_0x1f4be1['ymag'])):(_0x1456c3['fov']=_0x1f4be1['yfov']*N['RAD_TO_DEG'],_0x1f4be1['aspectRati'+'o']&&(_0x1456c3['aspectRati'+'oMode']=Bu,_0x1456c3['aspectRati'+'o']=_0x1f4be1['aspectRati'+'o']));const _0x242c74=new We(_0x3ddb8d['name']);return _0x242c74['addCompone'+'nt']('camera',_0x1456c3),_0x242c74;},jD=(_0x3f0bf1,_0x536482)=>{const _0x4f733f={'enabled':!(0x1136+-0x257b+-0x5*-0x40e),'type':_0x3f0bf1['type']==='point'?'omni':_0x3f0bf1['type'],'color':_0x3f0bf1['hasOwnProp'+'erty']('color')?new Y(_0x3f0bf1['color']):Y['WHITE'],'range':_0x3f0bf1['hasOwnProp'+'erty']('range')?_0x3f0bf1['range']:0x35f4*-0x1+-0x255*0x8+0x6fab,'falloffMode':$b,'intensity':_0x3f0bf1['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x3f0bf1['intensity'],-0x1966+0x20a*0xb+0x2f8,0x55*0x3b+-0x152b*-0x1+-0x8*0x518):0x1713+-0x19a*0xb+0x2ba*-0x2};_0x3f0bf1['hasOwnProp'+'erty']('spot')&&(_0x4f733f['innerConeA'+'ngle']=_0x3f0bf1['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x3f0bf1['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:0x11d1+-0x1628*-0x1+-0x27f9,_0x4f733f['outerConeA'+'ngle']=_0x3f0bf1['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x3f0bf1['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(0x741+-0x7*0x298+0xaeb)),_0x3f0bf1['hasOwnProp'+'erty']('intensity')&&(_0x4f733f['luminance']=_0x3f0bf1['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x4f733f['type']],_0x4f733f['outerConeA'+'ngle'],_0x4f733f['innerConeA'+'ngle']));const _0x3c1664=new We(_0x536482['name']);return _0x3c1664['rotateLoca'+'l'](0xb52+-0xf1a*0x1+0x422,0xba0+0xf4*0x3+0x39f*-0x4,0x26bc+-0x81a*-0x1+-0x2ed6*0x1),_0x3c1664['addCompone'+'nt']('light',_0x4f733f),_0x3c1664;},YD=(_0x592653,_0xa7e9fc,_0x2a1782,_0x33313f)=>{if(!_0xa7e9fc['hasOwnProp'+'erty']('skins')||_0xa7e9fc['skins']['length']===-0x3f7*0x1+0x1c01+-0x180a)return[];const _0x4b687a=new Map();return _0xa7e9fc['skins']['map'](_0x581890=>ID(_0x592653,_0x581890,_0xa7e9fc['accessors'],_0x33313f,_0x2a1782,_0x4b687a));},KD=(_0x324a05,_0x3598b9,_0x364e8d,_0x3ca63f)=>{var _0x1707d4,_0x26ee66,_0xa834bc;const _0x5897c1={},_0x5c684c={},_0x671221={},_0xd9bb71=[];return{'meshes':!_0x3ca63f['skipMeshes']&&((_0x1707d4=_0x3598b9==null?void(-0x522+0x234+0x2ee):_0x3598b9['meshes'])==null?void(-0x17*-0x50+0x1c*0x110+0x49e*-0x8):_0x1707d4['length'])&&((_0x26ee66=_0x3598b9==null?void(0x1e3c+-0x17de+-0x1*0x65e):_0x3598b9['accessors'])==null?void(0x3*-0x512+-0x2*0x83f+0x1fb4):_0x26ee66['length'])&&((_0xa834bc=_0x3598b9==null?void(-0x1*0x1609+-0x42d*-0x8+-0xb5f*0x1):_0x3598b9['bufferView'+'s'])==null?void(0x304*0x2+-0x1*0x14e6+-0xb*-0x15a):_0xa834bc['length'])?_0x3598b9['meshes']['map'](_0x357ab2=>LD(_0x324a05,_0x357ab2,_0x3598b9['accessors'],_0x364e8d,_0x5897c1,_0x5c684c,_0x671221,_0x3ca63f,_0xd9bb71)):[],'meshVariants':_0x5c684c,'meshDefaultMaterials':_0x671221,'promises':_0xd9bb71};},ZD=(_0x550bba,_0x4fb661,_0x5714db)=>{var _0x4e9e6e,_0x53e8d7,_0x375e94;if(!_0x550bba['hasOwnProp'+'erty']('materials')||_0x550bba['materials']['length']===0x310+-0xad*0x29+0x18a5)return[];const _0x7abf5f=(_0x4e9e6e=_0x5714db==null?void(0x3*-0x175+0x267c+-0x221d):_0x5714db['material'])==null?void(0xa61+0x2*-0x4cb+-0xcb*0x1):_0x4e9e6e['preprocess'],_0x3bc830=((_0x53e8d7=_0x5714db==null?void(0x2*-0x6f7+0x1*0xca1+-0x9*-0x25):_0x5714db['material'])==null?void(-0x12a3+0x3*0x59+-0x466*-0x4):_0x53e8d7['process'])??Dx,_0x1ca641=(_0x375e94=_0x5714db==null?void(0x1110+0x1770+-0x6*0x6c0):_0x5714db['material'])==null?void(0x2*0x1b7+0x13f7+-0x1765):_0x375e94['postproces'+'s'];return _0x550bba['materials']['map'](_0x6387c3=>{_0x7abf5f&&_0x7abf5f(_0x6387c3);const _0x3efcde=_0x3bc830(_0x6387c3,_0x4fb661);return _0x1ca641&&_0x1ca641(_0x6387c3,_0x3efcde),_0x3efcde;});},QD=_0x4e76b4=>{if(!_0x4e76b4['hasOwnProp'+'erty']('extensions')||!_0x4e76b4['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x2d5901=_0x4e76b4['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x321691={};for(let _0x23d463=0x632+-0x65*-0x47+-0x2235;_0x23d463<_0x2d5901['length'];_0x23d463++)_0x321691[_0x2d5901[_0x23d463]['name']]=_0x23d463;return _0x321691;},JD=(_0x45fbd0,_0x191997,_0x5b6d64,_0x4ba854)=>{var _0x1f303d,_0x55308a;if(!_0x45fbd0['hasOwnProp'+'erty']('animations')||_0x45fbd0['animations']['length']===-0x1d7c+-0x4da+0x1*0x2256)return[];const _0x1ee52d=(_0x1f303d=_0x4ba854==null?void(-0x691*0x5+0x50c*-0x2+0x197*0x1b):_0x4ba854['animation'])==null?void(0x1*-0x2501+0x2004+-0x4fd*-0x1):_0x1f303d['preprocess'],_0x19437e=(_0x55308a=_0x4ba854==null?void(-0x16d7+-0x18f3+0x2fca):_0x4ba854['animation'])==null?void(0x125d+-0x1*0x268b+-0x1*-0x142e):_0x55308a['postproces'+'s'];return _0x45fbd0['animations']['map']((_0x2b94de,_0x1a8c07)=>{_0x1ee52d&&_0x1ee52d(_0x2b94de);const _0x4d20d7=$D(_0x2b94de,_0x1a8c07,_0x45fbd0['accessors'],_0x5b6d64,_0x191997,_0x45fbd0['meshes'],_0x45fbd0['nodes']);return _0x19437e&&_0x19437e(_0x2b94de,_0x4d20d7),_0x4d20d7;});},e2=(_0x166a7c,_0x51e976,_0x386eaf,_0x17d5a9)=>{const _0x3dfbca=_0x51e976['accessors'];_0x386eaf['forEach']((_0x2c5451,_0x666502)=>{const _0x5e5c19=_0x2c5451['ext']['attributes'];let _0x44c9c2;if(_0x5e5c19['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0xca17e9=_0x3dfbca[_0x5e5c19['TRANSLATIO'+'N']];_0x44c9c2=ma(_0xca17e9,_0x17d5a9);}let _0x48fd89;if(_0x5e5c19['hasOwnProp'+'erty']('ROTATION')){const _0x2db754=_0x3dfbca[_0x5e5c19['ROTATION']];_0x48fd89=ma(_0x2db754,_0x17d5a9);}let _0x2d3f86;if(_0x5e5c19['hasOwnProp'+'erty']('SCALE')){const _0x7b80c0=_0x3dfbca[_0x5e5c19['SCALE']];_0x2d3f86=ma(_0x7b80c0,_0x17d5a9);}const _0x4bc5bd=(_0x44c9c2?_0x44c9c2['length']/(0x1d97+0x1179+-0x2f0d):0x871+-0x74e+-0x123)||(_0x48fd89?_0x48fd89['length']/(-0x1265+-0x8b6+-0x1b1f*-0x1):0x6*-0x377+-0x157a+0x2a44)||(_0x2d3f86?_0x2d3f86['length']/(-0xd1a+0x1*-0x1e55+0x2b72):0x15f1+0x22f9+-0x38ea);if(_0x4bc5bd){const _0x598f2a=new Float32Array(_0x4bc5bd*(0x2f1+0x1c*0xbf+0x1*-0x17c5)),_0x10af34=new T(),_0x401369=new se(),_0x4f636a=new T(0x233f+-0x1c*-0x117+-0x41c2,-0x5*-0x678+-0x47c+0x3*-0x949,0xccf*0x1+-0xfc2+0x2f4),_0x4f6f18=new q();let _0x74543f=0x26a1+0x1aab+0xe*-0x4aa;for(let _0x4ed5ab=0x173*-0xd+0xd*0x49+0x2*0x791;_0x4ed5ab<_0x4bc5bd;_0x4ed5ab++){const _0x1161a5=_0x4ed5ab*(0x4f5+0xcac+-0x119e);if(_0x44c9c2&&_0x10af34['set'](_0x44c9c2[_0x1161a5],_0x44c9c2[_0x1161a5+(0x4*0x53b+0x18f0+-0x2ddb)],_0x44c9c2[_0x1161a5+(-0x1f*-0xc7+0x66d+-0x7e*0x3e)]),_0x48fd89){const _0x23a61e=_0x4ed5ab*(-0x227f*0x1+-0x1a2a+-0x31*-0x13d);_0x401369['set'](_0x48fd89[_0x23a61e],_0x48fd89[_0x23a61e+(0x8f*0x2f+0x3*-0x52a+-0xac2)],_0x48fd89[_0x23a61e+(0x15*-0xca+0x1053*-0x2+-0x189d*-0x2)],_0x48fd89[_0x23a61e+(0xf0*-0xc+0x159*0x3+0x738)]);}_0x2d3f86&&_0x4f636a['set'](_0x2d3f86[_0x1161a5],_0x2d3f86[_0x1161a5+(0x138+-0xae9*0x2+0x149b*0x1)],_0x2d3f86[_0x1161a5+(-0x4*0x46+-0x2*-0x10e6+-0x9*0x3a2)]),_0x4f6f18['setTRS'](_0x10af34,_0x401369,_0x4f636a);for(let _0x2518e1=-0x35e*-0x8+-0x21db+0x6eb;_0x2518e1<-0x1*0x2665+0x62*0x5+0x248b;_0x2518e1++)_0x598f2a[_0x74543f++]=_0x4f6f18['data'][_0x2518e1];}_0x2c5451['matrices']=_0x598f2a;}});},t2=(_0x3e4a4a,_0xb936a,_0x37131b)=>{var _0x485705,_0xbd3ab6,_0x144486;if(!_0x3e4a4a['hasOwnProp'+'erty']('nodes')||_0x3e4a4a['nodes']['length']===0xefb+0x2320+0x7f*-0x65)return[];const _0x1e58aa=(_0x485705=_0xb936a==null?void(0x313*0x7+-0xb75+-0xa10):_0xb936a['node'])==null?void(-0x230b*0x1+-0x2439+0x4744):_0x485705['preprocess'],_0x59f1fe=((_0xbd3ab6=_0xb936a==null?void(-0x382*0x8+-0x199*0x7+0x11*0x24f):_0xb936a['node'])==null?void(-0x1*-0x4bb+0x1ef4*0x1+-0x23af*0x1):_0xbd3ab6['process'])??qD,_0x316f79=(_0x144486=_0xb936a==null?void(0xdc6+-0x2006+0x1240):_0xb936a['node'])==null?void(-0xf90+0xd00+-0x2*-0x148):_0x144486['postproces'+'s'],_0x52ee8b=_0x3e4a4a['nodes']['map']((_0xf1b7f2,_0x40a7a3)=>{_0x1e58aa&&_0x1e58aa(_0xf1b7f2);const _0x324a68=_0x59f1fe(_0xf1b7f2,_0x40a7a3,_0x37131b);return _0x316f79&&_0x316f79(_0xf1b7f2,_0x324a68),_0x324a68;});for(let _0x5764b8=0x1bb*-0x11+-0x3e8*-0x7+0x213;_0x5764b8<_0x3e4a4a['nodes']['length'];++_0x5764b8){const _0x296da2=_0x3e4a4a['nodes'][_0x5764b8];if(_0x296da2['hasOwnProp'+'erty']('children')){const _0x4d7de0=_0x52ee8b[_0x5764b8],_0x214d6f={};for(let _0xf43e3c=0x2010+-0x416+-0xdfd*0x2;_0xf43e3c<_0x296da2['children']['length'];++_0xf43e3c){const _0x1d1e95=_0x52ee8b[_0x296da2['children'][_0xf43e3c]];_0x1d1e95['parent']||(_0x214d6f['hasOwnProp'+'erty'](_0x1d1e95['name'])?_0x1d1e95['name']+=_0x214d6f[_0x1d1e95['name']]++:_0x214d6f[_0x1d1e95['name']]=-0x13af+-0x2d3+-0x1683*-0x1,_0x4d7de0['addChild'](_0x1d1e95));}}}return _0x52ee8b;},s2=(_0x1ca5db,_0x556a3b)=>{var _0xcc6b81;const _0x436d60=[],_0x1005a7=_0x1ca5db['scenes']['length'];if(_0x1005a7===-0x2341*0x1+-0xd93+0x30d5&&((_0xcc6b81=_0x1ca5db['scenes'][0x65*-0x45+0x8a5*0x1+0x1294]['nodes'])==null?void(0x9bd+-0x2466+0x1aa9):_0xcc6b81['length'])===-0x48f+0x7c*-0x37+0x1f34){const _0x17d3e8=_0x1ca5db['scenes'][0x1*-0x195e+-0x1447+0x2da5]['nodes'][0x7*-0x469+-0x19a6+0x3885];_0x436d60['push'](_0x556a3b[_0x17d3e8]);}else for(let _0x49f422=0x5db*0x4+0x17*-0x73+-0xd17;_0x49f422<_0x1005a7;_0x49f422++){const _0x106ca4=_0x1ca5db['scenes'][_0x49f422];if(_0x106ca4['nodes']){const _0x2c2ec4=new De(_0x106ca4['name']);for(let _0x3bf998=0x1*0x1fda+-0x1*-0x7fe+-0x14*0x1fe;_0x3bf998<_0x106ca4['nodes']['length'];_0x3bf998++){const _0x1bcd54=_0x556a3b[_0x106ca4['nodes'][_0x3bf998]];_0x2c2ec4['addChild'](_0x1bcd54);}_0x436d60['push'](_0x2c2ec4);}}return _0x436d60;},i2=(_0x58e882,_0x5e9ed7,_0x50e75f)=>{var _0x354cc5,_0x59a74c,_0x4310b2;let _0x43cb64=null;if(_0x58e882['hasOwnProp'+'erty']('nodes')&&_0x58e882['hasOwnProp'+'erty']('cameras')&&_0x58e882['cameras']['length']>0x2637+0x2fa+0x22b*-0x13){const _0x28e3f1=(_0x354cc5=_0x50e75f==null?void(0x2551+0x13*0x5c+0xeb7*-0x3):_0x50e75f['camera'])==null?void(-0xd6c*-0x1+-0x12f*0x7+-0x523):_0x354cc5['preprocess'],_0xb9c1da=((_0x59a74c=_0x50e75f==null?void(0x7*-0x13+-0x11a7*-0x2+0x41*-0x89):_0x50e75f['camera'])==null?void(-0xa94+-0xcd8+0x176c):_0x59a74c['process'])??XD,_0x1eff5a=(_0x4310b2=_0x50e75f==null?void(0x1c40+0x13*-0x9d+-0x1099):_0x50e75f['camera'])==null?void(-0x285+-0x9c*0x22+0x173d):_0x4310b2['postproces'+'s'];_0x58e882['nodes']['forEach']((_0x25f5fc,_0x7443af)=>{if(_0x25f5fc['hasOwnProp'+'erty']('camera')){const _0x942757=_0x58e882['cameras'][_0x25f5fc['camera']];if(_0x942757){_0x28e3f1&&_0x28e3f1(_0x942757);const _0x38fae9=_0xb9c1da(_0x942757,_0x5e9ed7[_0x7443af]);_0x1eff5a&&_0x1eff5a(_0x942757,_0x38fae9),_0x38fae9&&(_0x43cb64||(_0x43cb64=new Map()),_0x43cb64['set'](_0x25f5fc,_0x38fae9));}}});}return _0x43cb64;},r2=(_0x438f0a,_0x454869,_0x2a9802)=>{var _0x438a06,_0x3f53ac,_0x1343cb;let _0x3aafd1=null;if(_0x438f0a['hasOwnProp'+'erty']('nodes')&&_0x438f0a['hasOwnProp'+'erty']('extensions')&&_0x438f0a['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x438f0a['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0xaab492=_0x438f0a['extensions']['KHR_lights'+'_punctual']['lights'];if(_0xaab492['length']){const _0x39f23d=(_0x438a06=_0x2a9802==null?void(0x483+-0x199*0x5+-0x2*-0x1bd):_0x2a9802['light'])==null?void(-0x95b+0x2*-0x7d1+0x18fd):_0x438a06['preprocess'],_0x4d9556=((_0x3f53ac=_0x2a9802==null?void(-0x575*0x5+-0x1ab9*0x1+0x3602):_0x2a9802['light'])==null?void(-0x7*0x282+0x21cc+-0x103e):_0x3f53ac['process'])??jD,_0x2c6a6c=(_0x1343cb=_0x2a9802==null?void(-0xd5*0x2d+0xa8d+-0x6b9*-0x4):_0x2a9802['light'])==null?void(0x22b+0x25f7*0x1+0x1d3*-0x16):_0x1343cb['postproces'+'s'];_0x438f0a['nodes']['forEach']((_0x26cfe2,_0x56e568)=>{if(_0x26cfe2['hasOwnProp'+'erty']('extensions')&&_0x26cfe2['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x26cfe2['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0xfa32d2=_0x26cfe2['extensions']['KHR_lights'+'_punctual']['light'],_0xa0b780=_0xaab492[_0xfa32d2];if(_0xa0b780){_0x39f23d&&_0x39f23d(_0xa0b780);const _0x6059d0=_0x4d9556(_0xa0b780,_0x454869[_0x56e568]);_0x2c6a6c&&_0x2c6a6c(_0xa0b780,_0x6059d0),_0x6059d0&&(_0x3aafd1||(_0x3aafd1=new Map()),_0x3aafd1['set'](_0x26cfe2,_0x6059d0));}}});}}return _0x3aafd1;},n2=(_0xa2eabb,_0x784958,_0x250f49)=>{_0xa2eabb['nodes']['forEach'](_0x27075d=>{_0x27075d['hasOwnProp'+'erty']('mesh')&&_0x27075d['hasOwnProp'+'erty']('skin')&&_0x784958[_0x27075d['mesh']]['meshes']['forEach'](_0x1c5092=>{_0x1c5092['skin']=_0x250f49[_0x27075d['skin']];});});},a2=async(_0xb50036,_0x512e5a,_0x482a72,_0x51e152,_0xa1ffc)=>{var _0x1d24b6,_0x56d250;const _0x256789=(_0x1d24b6=_0xa1ffc==null?void(-0x18fe+0x20e+0x2de*0x8):_0xa1ffc['global'])==null?void(-0x1*0x2135+-0x4c*-0x3+-0x1*-0x2051):_0x1d24b6['preprocess'],_0x58e136=(_0x56d250=_0xa1ffc==null?void(-0xa3*0x2b+0x2b*0x53+0xd70):_0xa1ffc['global'])==null?void(0x2*-0x10c1+-0x1*-0x1495+0xced):_0x56d250['postproces'+'s'];_0x256789&&_0x256789(_0x512e5a),_0x512e5a['asset']&&_0x512e5a['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x45b837=new Map(),_0x3ac481=t2(_0x512e5a,_0xa1ffc,_0x45b837),_0x5559fa=s2(_0x512e5a,_0x3ac481),_0x3f13dc=r2(_0x512e5a,_0x3ac481,_0xa1ffc),_0x25998e=i2(_0x512e5a,_0x3ac481,_0xa1ffc),_0x42970c=QD(_0x512e5a),_0x3d8b13=await Promise['all'](_0x482a72),{meshes:_0x5347b8,meshVariants:_0x21bbdd,meshDefaultMaterials:_0x240c7c,promises:_0x22eafc}=KD(_0xb50036,_0x512e5a,_0x3d8b13,_0xa1ffc),_0x2b16d6=JD(_0x512e5a,_0x3ac481,_0x3d8b13,_0xa1ffc);e2(_0xb50036,_0x512e5a,_0x45b837,_0x3d8b13);const _0x4ea0d3=await Promise['all'](_0x51e152),_0x36f0fa=_0x4ea0d3['map'](_0x1042b3=>_0x1042b3['resource']),_0x2fa742=ZD(_0x512e5a,_0x36f0fa,_0xa1ffc),_0x1edef0=YD(_0xb50036,_0x512e5a,_0x3ac481,_0x3d8b13),_0x1a3e46=[];for(let _0x2a2226=0xb8+-0xec4+0x7c*0x1d;_0x2a2226<_0x5347b8['length'];_0x2a2226++)_0x1a3e46[_0x2a2226]=new Hp(),_0x1a3e46[_0x2a2226]['meshes']=_0x5347b8[_0x2a2226];n2(_0x512e5a,_0x1a3e46,_0x1edef0);const _0x23db48=new SD();return _0x23db48['gltf']=_0x512e5a,_0x23db48['nodes']=_0x3ac481,_0x23db48['scenes']=_0x5559fa,_0x23db48['animations']=_0x2b16d6,_0x23db48['textures']=_0x4ea0d3,_0x23db48['materials']=_0x2fa742,_0x23db48['variants']=_0x42970c,_0x23db48['meshVarian'+'ts']=_0x21bbdd,_0x23db48['meshDefaul'+'tMaterials']=_0x240c7c,_0x23db48['renders']=_0x1a3e46,_0x23db48['skins']=_0x1edef0,_0x23db48['lights']=_0x3f13dc,_0x23db48['cameras']=_0x25998e,_0x23db48['nodeInstan'+'cingMap']=_0x45b837,_0x58e136&&_0x58e136(_0x512e5a,_0x23db48),await Promise['all'](_0x22eafc),_0x23db48;},o2=(_0x457d0f,_0x96296)=>{const _0x46b448=(_0x18e207,_0x475889)=>{switch(_0x18e207){case-0x1*-0x2b06+-0x5ee+0x74*0x2:return de;case-0x2566+-0x4b6e+-0x279*-0x3d:return st;case-0x1b70+-0x4*0x2f6+0x343*0x18:return fc;case 0x4ae0+-0x4a*0x2f+-0x5*0x475:return mc;case-0x17ff+0xf7e*-0x4+-0x6b*-0x12b:return pc;case 0x3871+-0x2*-0x89f+0x22ac*-0x1:return nn;default:return _0x475889;}},_0x58717e=(_0x395a0b,_0x365a98)=>{switch(_0x395a0b){case-0xd*0x76d+0x1ae+-0x16*-0xa2f:return ae;case 0x3910+-0x4*0x3571+0x1803*0xc:return Of;case-0x1*-0x4a23+0x2*0x1633+-0x4d88:return tt;default:return _0x365a98;}};_0x457d0f&&(_0x96296=_0x96296??{},_0x457d0f['minFilter']=_0x46b448(_0x96296['minFilter'],nn),_0x457d0f['magFilter']=_0x46b448(_0x96296['magFilter'],st),_0x457d0f['addressU']=_0x58717e(_0x96296['wrapS'],tt),_0x457d0f['addressV']=_0x58717e(_0x96296['wrapT'],tt));};let l2=0x597+-0x1f*-0xdd+0x1*-0x205a;const vf=_0x3c45ea=>{var _0x33d492,_0x158c7f,_0x5a0ea1,_0x513469;return((_0x158c7f=(_0x33d492=_0x3c45ea['extensions'])==null?void(0x198f+-0x23c+-0x1*0x1753):_0x33d492['KHR_textur'+'e_basisu'])==null?void(0x268d+-0x1*0x156+0x7*-0x551):_0x158c7f['source'])??((_0x513469=(_0x5a0ea1=_0x3c45ea['extensions'])==null?void(-0x9f6+-0x14af+0x1ea5):_0x5a0ea1['EXT_textur'+'e_webp'])==null?void(-0x12e7+-0x2668+0x394f):_0x513469['source'])??_0x3c45ea['source'];},h2=(_0xf92a0d,_0xab8947,_0x1de1f9,_0x151c85,_0x191673)=>{var _0x168261,_0x464f88,_0x394175;if(!_0xf92a0d['images']||_0xf92a0d['images']['length']===-0xd*0x183+0x2*-0x716+-0x7*-0x4d5)return[];const _0x1c1395=(_0x168261=_0x191673==null?void(-0x1*-0x147d+0x2f*0x2c+-0x1c91):_0x191673['image'])==null?void(0x10bc+0x1d84+-0xa*0x4a0):_0x168261['preprocess'],_0x2b5a0b=(_0x464f88=_0x191673==null?void(-0x1b22+-0x2*-0x2f5+0x1538):_0x191673['image'])==null?void(0x6*-0x232+0x2*-0xcbb+-0x1*-0x26a2):_0x464f88['processAsy'+'nc'],_0x599f7a=(_0x394175=_0x191673==null?void(-0x4be*-0x2+0x1dd5*-0x1+0x1459):_0x191673['image'])==null?void(-0x24b*-0xc+0x15b4+-0x3138):_0x394175['postproces'+'s'],_0x1d282a={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x228da6=_0x4a0f66=>{const _0x282668=new Set();return _0x4a0f66['hasOwnProp'+'erty']('materials')&&_0x4a0f66['materials']['forEach'](_0x1b7feb=>{if(_0x1b7feb['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x28076b=_0x1b7feb['pbrMetalli'+'cRoughness'];if(_0x28076b['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x51b32e=_0x4a0f66['textures'][_0x28076b['baseColorT'+'exture']['index']];_0x282668['add'](vf(_0x51b32e));}}if(_0x1b7feb['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x220d0c=_0x4a0f66['textures'][_0x1b7feb['emissiveTe'+'xture']['index']];_0x282668['add'](vf(_0x220d0c));}}),_0x282668;},_0x821871=(_0x5a76b0,_0x29992c,_0x4dedc4,_0x3b1536,_0x318086,_0xbf8468)=>new Promise((_0x4e582a,_0x41c3bb)=>{const _0x34d372=_0x365463=>{const _0x2fce9a=(_0x5a76b0['name']||'gltf-textu'+'re')+'-'+l2++,_0x2ab5cf={'url':_0x29992c||_0x2fce9a};if(_0x365463&&(_0x2ab5cf['contents']=_0x365463['slice'](0x2b*0x3a+-0x1fc5+0x1607)['buffer']),_0x3b1536){const _0x43b9c1=_0x1d282a[_0x3b1536];_0x43b9c1&&(_0x2ab5cf['filename']=_0x2ab5cf['url']+'.'+_0x43b9c1);}const _0x2de09b={'srgb':_0xbf8468},_0x116006=new le(_0x2fce9a,'texture',_0x2ab5cf,_0x2de09b,_0x318086);_0x116006['on']('load',_0x56f76a=>_0x4e582a(_0x56f76a)),_0x116006['on']('error',_0x5755e1=>_0x41c3bb(_0x5755e1)),_0x151c85['add'](_0x116006),_0x151c85['load'](_0x116006);};_0x4dedc4?_0x4dedc4['then'](_0x4077ae=>_0x34d372(_0x4077ae)):_0x34d372(null);}),_0x10d583=_0x228da6(_0xf92a0d);return _0xf92a0d['images']['map']((_0x910a7e,_0x58f799)=>{_0x1c1395&&_0x1c1395(_0x910a7e);let _0x5d8d18;return _0x2b5a0b?_0x5d8d18=new Promise((_0x19b400,_0x53ab84)=>{_0x2b5a0b(_0x910a7e,(_0x573ee0,_0xe02477)=>{_0x573ee0?_0x53ab84(_0x573ee0):_0x19b400(_0xe02477);});}):_0x5d8d18=new Promise(_0x46aaf1=>{_0x46aaf1(null);}),_0x5d8d18=_0x5d8d18['then'](_0x4314e5=>{const _0x480a07=_0x10d583['has'](_0x58f799);return _0x4314e5||(_0x910a7e['hasOwnProp'+'erty']('uri')?Rx(_0x910a7e['uri'])?_0x821871(_0x910a7e,_0x910a7e['uri'],null,vD(_0x910a7e['uri']),null,_0x480a07):_0x821871(_0x910a7e,Da['test'](_0x910a7e['uri'])?_0x910a7e['uri']:fe['join'](_0x1de1f9,_0x910a7e['uri']),null,null,{'crossOrigin':'anonymous'},_0x480a07):_0x910a7e['hasOwnProp'+'erty']('bufferView')&&_0x910a7e['hasOwnProp'+'erty']('mimeType')?_0x821871(_0x910a7e,null,_0xab8947[_0x910a7e['bufferView']],_0x910a7e['mimeType'],null,_0x480a07):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x58f799)));}),_0x599f7a&&(_0x5d8d18=_0x5d8d18['then'](_0x2263c6=>(_0x599f7a(_0x910a7e,_0x2263c6),_0x2263c6))),_0x5d8d18;});},c2=(_0x3d9d3a,_0x32e80f,_0x2ad247)=>{var _0x59ba25,_0x229730,_0x3cb803,_0x2fda23,_0xc883d3;if(!((_0x59ba25=_0x3d9d3a==null?void(0x1e24*-0x1+0x969+-0x3d*-0x57):_0x3d9d3a['images'])!=null&&_0x59ba25['length'])||!((_0x229730=_0x3d9d3a==null?void(-0x1*0x1f4e+0x47*-0x47+0x32ff):_0x3d9d3a['textures'])!=null&&_0x229730['length']))return[];const _0x30ed88=(_0x3cb803=_0x2ad247==null?void(-0x1b9b+-0x4*0x6cb+0x36c7):_0x2ad247['texture'])==null?void(-0x1976+0x1f*-0x3e+-0x1a6*-0x14):_0x3cb803['preprocess'],_0x1b59a8=(_0x2fda23=_0x2ad247==null?void(-0x195f*0x1+0x1*-0x1bc4+0x3523*0x1):_0x2ad247['texture'])==null?void(0x1e37+0x2588+-0x1695*0x3):_0x2fda23['processAsy'+'nc'],_0xe7abc5=(_0xc883d3=_0x2ad247==null?void(-0x1*0x11a7+-0xc6d*-0x3+-0x274*0x8):_0x2ad247['texture'])==null?void(0x56*0x11+0x1796*0x1+-0x3c*0x7d):_0xc883d3['postproces'+'s'],_0x28e251=new Set();return _0x3d9d3a['textures']['map'](_0x5e9fda=>{_0x30ed88&&_0x30ed88(_0x5e9fda);let _0x4b6783;return _0x1b59a8?_0x4b6783=new Promise((_0x530339,_0xa83c94)=>{_0x1b59a8(_0x5e9fda,_0x3d9d3a['images'],(_0x52c6cb,_0x1c42d0)=>{_0x52c6cb?_0xa83c94(_0x52c6cb):_0x530339(_0x1c42d0);});}):_0x4b6783=new Promise(_0x46654a=>{_0x46654a(null);}),_0x4b6783=_0x4b6783['then'](_0x3fbdf8=>{_0x3fbdf8=_0x3fbdf8??vf(_0x5e9fda);const _0x51b0c8=_0x28e251['has'](_0x3fbdf8);return _0x28e251['add'](_0x3fbdf8),_0x32e80f[_0x3fbdf8]['then'](_0x5044b5=>{const _0x1be0f2=_0x51b0c8?MD(_0x5044b5):_0x5044b5;return o2(_0x1be0f2['resource'],(_0x3d9d3a['samplers']??[])[_0x5e9fda['sampler']]),_0x1be0f2;});}),_0xe7abc5&&(_0x4b6783=_0x4b6783['then'](_0x3b3b65=>(_0xe7abc5(_0x5e9fda,_0x3b3b65),_0x3b3b65))),_0x4b6783;});},d2=(_0x290cc1,_0x49fe2b,_0x52b0c6,_0x401f65)=>{var _0x15d243,_0x5b6bdf,_0x30ffdd;if(!_0x290cc1['buffers']||_0x290cc1['buffers']['length']===0xae7+0x1d*0x10f+0x852*-0x5)return[];const _0x4e4068=(_0x15d243=_0x401f65==null?void(0x89e+-0x4e*-0x12+0x26*-0x5f):_0x401f65['buffer'])==null?void(0x714+0x16e+-0x882):_0x15d243['preprocess'],_0x32ef46=(_0x5b6bdf=_0x401f65==null?void(0x38b+0x162f+-0x4a*0x59):_0x401f65['buffer'])==null?void(-0x18a7+-0xf08+0x27af):_0x5b6bdf['processAsy'+'nc'],_0x4464b0=(_0x30ffdd=_0x401f65==null?void(-0x1471*-0x1+-0xe3f*0x1+-0x3d*0x1a):_0x401f65['buffer'])==null?void(0x14cc+-0x106a+-0x462):_0x30ffdd['postproces'+'s'];return _0x290cc1['buffers']['map']((_0x412716,_0x3024d2)=>{_0x4e4068&&_0x4e4068(_0x412716);let _0x399a10;return _0x32ef46?_0x399a10=new Promise((_0x28bcfc,_0x4dd639)=>{_0x32ef46(_0x412716,(_0x58cbb8,_0x3fa0ed)=>{_0x58cbb8?_0x4dd639(_0x58cbb8):_0x28bcfc(_0x3fa0ed);});}):_0x399a10=new Promise(_0x5e9f3b=>{_0x5e9f3b(null);}),_0x399a10=_0x399a10['then'](_0xda3b1f=>{if(_0xda3b1f)return _0xda3b1f;if(_0x412716['hasOwnProp'+'erty']('uri')){if(Rx(_0x412716['uri'])){const _0x43cdb4=atob(_0x412716['uri']['split'](',')[-0x125*0xf+0x1edf*0x1+-0x1f5*0x7]),_0x53fe4d=new Uint8Array(_0x43cdb4['length']);for(let _0x1a4d60=-0x7*-0x27d+0x595*0x5+0x16aa*-0x2;_0x1a4d60<_0x43cdb4['length'];_0x1a4d60++)_0x53fe4d[_0x1a4d60]=_0x43cdb4['charCodeAt'](_0x1a4d60);return _0x53fe4d;}return new Promise((_0xeca749,_0x1e33c9)=>{$e['get'](Da['test'](_0x412716['uri'])?_0x412716['uri']:fe['join'](_0x52b0c6,_0x412716['uri']),{'cache':!(-0x1874+0x1f9f+-0x72b),'responseType':'arraybuffe'+'r','retry':!(-0x1873+0x1be9+-0x375)},(_0x3890ea,_0x44be68)=>{_0x3890ea?_0x1e33c9(_0x3890ea):_0xeca749(new Uint8Array(_0x44be68));});});}return _0x49fe2b;}),_0x4464b0&&(_0x399a10=_0x399a10['then'](_0x44ea41=>(_0x4464b0(_0x290cc1['buffers'][_0x3024d2],_0x44ea41),_0x44ea41))),_0x399a10;});},u2=(_0x4f46e9,_0x1b1b7e)=>{const _0x1898b6=JSON['parse']((_0x341036=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x341036);let _0x52bd60='';for(let _0x3a143a=0x1081+0x58*0x25+-0x1d39;_0x3a143a<_0x341036['length'];_0x3a143a++)_0x52bd60+=String['fromCharCo'+'de'](_0x341036[_0x3a143a]);return decodeURIComponent(escape(_0x52bd60));})(_0x4f46e9));if(_0x1898b6['asset']&&_0x1898b6['asset']['version']&&parseFloat(_0x1898b6['asset']['version'])<-0x2*-0x6ec+-0xa85+-0x11b*0x3){_0x1b1b7e('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x1898b6['asset']['version']+'\x27.');return;}_0x1b1b7e(null,_0x1898b6);},f2=(_0x353d5f,_0x36f1c6)=>{const _0x3d987f=_0x353d5f instanceof ArrayBuffer?new DataView(_0x353d5f):new DataView(_0x353d5f['buffer'],_0x353d5f['byteOffset'],_0x353d5f['byteLength']),_0x2798c1=_0x3d987f['getUint32'](0x1ebd+-0x7*-0x4b1+-0x3f94,!(-0x1875+0x25b+0xb0d*0x2)),_0x1e2a94=_0x3d987f['getUint32'](0x1*0x2062+-0x184d*-0x1+-0x38ab*0x1,!(-0x5*-0xb0+-0x40+0x198*-0x2)),_0x59a0cf=_0x3d987f['getUint32'](-0xd73+-0x619+0x1394,!(0x1374+0x1ba3+-0x1*0x2f17));if(_0x2798c1!==-0x1*-0x18c079b+-0x2de*-0x2d068e+-0x6*0xa0d6664){_0x36f1c6('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x2798c1['toString'](-0x3*-0xc7d+-0x1556+0x1011*-0x1));return;}if(_0x1e2a94!==-0x1dae+-0xc*0x2e2+0x3c8*0x11){_0x36f1c6('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x1e2a94);return;}if(_0x59a0cf<=-0x1*-0xaa3+0x3a6*0x5+-0x1ce1||_0x59a0cf>_0x3d987f['byteLength']){_0x36f1c6('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x59a0cf);return;}const _0x44b842=[];let _0x37682b=-0x89b*-0x1+-0xdf6+0x567;for(;_0x37682b<_0x59a0cf;){const _0x3f339f=_0x3d987f['getUint32'](_0x37682b,!(-0x9d*0x15+-0x2*-0xd7a+-0xe13));_0x37682b+_0x3f339f+(0x10eb+-0xfd4+-0x10f*0x1)>_0x3d987f['byteLength']&&_0x36f1c6('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x3f339f);const _0x467a93=_0x3d987f['getUint32'](_0x37682b+(-0xd73+-0xd*0x6a+-0x12d9*-0x1),!(-0x1454+-0x263*-0x3+-0xd2b*-0x1)),_0x4e89de=new Uint8Array(_0x3d987f['buffer'],_0x3d987f['byteOffset']+_0x37682b+(-0x2*-0xe2+-0x179a+0x137*0x12),_0x3f339f);_0x44b842['push']({'length':_0x3f339f,'type':_0x467a93,'data':_0x4e89de}),_0x37682b+=_0x3f339f+(0x17e2+0x719+-0x1ef3);}if(_0x44b842['length']!==0x1d36*-0x1+0xb50+0x11e7&&_0x44b842['length']!==-0x152b+0x1221+0x1*0x30c){_0x36f1c6('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x44b842[0x99f+0x25ea+-0x1*0x2f89]['type']!==0x24030bdd*-0x1+0x1*0x7b1a432b+-0x8c7e404){_0x36f1c6('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x44b842[0x217a+-0x1cbf*0x1+-0x4bb]['type']['toString'](0x1*0xf0d+-0x297+-0xc66));return;}if(_0x44b842['length']>-0x2*-0x689+-0x18b7+0xba6&&_0x44b842[0x23b1+-0x1*-0x1704+-0x3ab4*0x1]['type']!==0x9150e1+-0x7786c7+0x347f28){_0x36f1c6('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x44b842[0x43*0x56+-0x26*-0x9e+-0x2df5]['type']['toString'](-0x2e7*0x1+-0x1*0xa99+0x1f*0x70));return;}_0x36f1c6(null,{'gltfChunk':_0x44b842[-0xe2e+0x159+-0x1*-0xcd5]['data'],'binaryChunk':_0x44b842['length']===-0xf73+-0x2*0x3d9+0x1727?_0x44b842[0x51+-0x4e*0x7b+0x252a]['data']:null});},p2=(_0x4963f7,_0x469f0f,_0x55f63a)=>{const _0x5cb852=()=>{const _0x44f37a=new Uint8Array(_0x469f0f);return _0x44f37a[0xac*0x1+0x410+-0x4bc]===-0x1*0xec1+0x2080+0x3*-0x5c8&&_0x44f37a[-0x2359+0x1e65*-0x1+-0x41bf*-0x1]===0x6*0xca+-0xb*0x39+0x3*-0x9f&&_0x44f37a[0x1*0x1312+0xf37+-0xe1*0x27]===-0x21b0+0x1632+0x22*0x59&&_0x44f37a[-0x179*0x8+-0x1a08+0x1a5*0x17]===-0x259+0x11*-0x19d+-0xa04*-0x3;};_0x4963f7&&_0x4963f7['toLowerCas'+'e']()['endsWith']('.glb')||_0x5cb852()?f2(_0x469f0f,_0x55f63a):_0x55f63a(null,{'gltfChunk':_0x469f0f,'binaryChunk':null});},m2=(_0x30e710,_0x174797,_0x51df03)=>{var _0x3f7d9c,_0x3a1c31,_0x4c1044,_0x368ad9;const _0x550d1b=[],_0x3d5949=(_0x3f7d9c=_0x51df03==null?void(-0x1520+-0xf12+0x2432):_0x51df03['bufferView'])==null?void(0x132b+0x19*-0xa5+-0x30e):_0x3f7d9c['preprocess'],_0x161994=(_0x3a1c31=_0x51df03==null?void(0x1*-0x1d73+-0x1f7a+0x3ced):_0x51df03['bufferView'])==null?void(-0x1890+-0xce*0x2f+0x3e62*0x1):_0x3a1c31['processAsy'+'nc'],_0x54d162=(_0x4c1044=_0x51df03==null?void(-0x1502+0xab*-0x17+0x245f):_0x51df03['bufferView'])==null?void(0x83*-0x35+-0xa*-0x25a+0x39b):_0x4c1044['postproces'+'s'];if(!((_0x368ad9=_0x30e710['bufferView'+'s'])!=null&&_0x368ad9['length']))return _0x550d1b;for(let _0x49e5f0=-0x6*-0x1d9+-0x1c*0x7f+0x2ce;_0x49e5f0<_0x30e710['bufferView'+'s']['length'];++_0x49e5f0){const _0x53328f=_0x30e710['bufferView'+'s'][_0x49e5f0];_0x3d5949&&_0x3d5949(_0x53328f);let _0x313d76;_0x161994?_0x313d76=new Promise((_0x158970,_0x55be78)=>{_0x161994(_0x53328f,_0x174797,(_0x5d82a9,_0x18813b)=>{_0x5d82a9?_0x55be78(_0x5d82a9):_0x158970(_0x18813b);});}):_0x313d76=new Promise(_0x2e1c45=>{_0x2e1c45(null);}),_0x313d76=_0x313d76['then'](_0x41c704=>_0x41c704||_0x174797[_0x53328f['buffer']]['then'](_0x20558b=>new Uint8Array(_0x20558b['buffer'],_0x20558b['byteOffset']+(_0x53328f['byteOffset']||-0x2347+0x1ce3+-0x4*-0x199),_0x53328f['byteLength']))),_0x53328f['hasOwnProp'+'erty']('byteStride')&&(_0x313d76=_0x313d76['then'](_0x5569fa=>(_0x5569fa['byteStride']=_0x53328f['byteStride'],_0x5569fa))),_0x54d162&&(_0x313d76=_0x313d76['then'](_0xb44fe5=>(_0x54d162(_0x53328f,_0xb44fe5),_0xb44fe5))),_0x550d1b['push'](_0x313d76);}return _0x550d1b;};class tc{static['parse'](_0x4db298,_0x13975c,_0x5eecfc,_0x44a596,_0x1aed96,_0xb9df1b,_0x30a322){p2(_0x4db298,_0x5eecfc,(_0xea2c7d,_0x3ec896)=>{if(_0xea2c7d){_0x30a322(_0xea2c7d);return;}u2(_0x3ec896['gltfChunk'],(_0x3349f9,_0x192140)=>{if(_0x3349f9){_0x30a322(_0x3349f9);return;}const _0x17b288=d2(_0x192140,_0x3ec896['binaryChun'+'k'],_0x13975c,_0xb9df1b),_0x26316b=m2(_0x192140,_0x17b288,_0xb9df1b),_0x52f201=h2(_0x192140,_0x26316b,_0x13975c,_0x1aed96,_0xb9df1b),_0x52be19=c2(_0x192140,_0x52f201,_0xb9df1b);a2(_0x44a596,_0x192140,_0x26316b,_0x52be19,_0xb9df1b)['then'](_0x5835ab=>_0x30a322(null,_0x5835ab))['catch'](_0x403e7f=>_0x30a322(_0x403e7f));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x41d290){super(_0x41d290,'animation'),this['device']=_0x41d290['graphicsDe'+'vice'],this['assets']=_0x41d290['assets'];}['load'](_0x51b8fa,_0x39ff02,_0x5759e6){typeof _0x51b8fa=='string'&&(_0x51b8fa={'load':_0x51b8fa,'original':_0x51b8fa});const _0x4fbff7={'retry':this['maxRetries']>-0x3d7*-0x2+0x83c+-0xfea,'maxRetries':this['maxRetries']};(_0x51b8fa['load']['startsWith']('blob:')||_0x51b8fa['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x51b8fa['original'])['toLowerCas'+'e']()==='.glb'?_0x4fbff7['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4fbff7['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x51b8fa['load'],_0x4fbff7,(_0x3db641,_0x4d4593)=>{_0x3db641?_0x39ff02('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x51b8fa['original']+'\x20['+_0x3db641+']'):fe['getExtensi'+'on'](_0x51b8fa['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x4d4593,this['device'],this['assets'],(_0x5759e6==null?void(-0x39a+-0xcc4+-0x105e*-0x1):_0x5759e6['options'])??{},(_0x3307d6,_0x473074)=>{var _0x336ba1;if(_0x3307d6)_0x39ff02(_0x3307d6);else{const _0x2e7c0e=_0x473074['animations'];if((_0x336ba1=_0x5759e6==null?void(0x213+-0x12*-0x4d+-0x77d):_0x5759e6['data'])!=null&&_0x336ba1['events']){for(let _0x454a8c=-0x152a+-0x10*-0x16b+0x2*-0xc3;_0x454a8c<_0x2e7c0e['length'];_0x454a8c++)_0x2e7c0e[_0x454a8c]['events']=new Y0(Object['values'](_0x5759e6['data']['events']));}_0x473074['destroy'](),_0x39ff02(null,_0x2e7c0e);}}):_0x39ff02(null,this['_parseAnim'+'ationV'+_0x4d4593['animation']['version']](_0x4d4593));});}['open'](_0x29d00a,_0x538bf5,_0x2ef42f){return _0x538bf5;}['_parseAnim'+'ationV3'](_0x462f4a){const _0x5d23b3=_0x462f4a['animation'],_0x232508=new k_();_0x232508['name']=_0x5d23b3['name'],_0x232508['duration']=_0x5d23b3['duration'];for(let _0x224281=-0xe33+0x689+-0x3d5*-0x2;_0x224281<_0x5d23b3['nodes']['length'];_0x224281++){const _0x18ddb2=new O_(),_0x1c8307=_0x5d23b3['nodes'][_0x224281];_0x18ddb2['_name']=_0x1c8307['name'];for(let _0x20ca6c=-0x2e*0x35+0x108*0x2+0x776;_0x20ca6c<_0x1c8307['keys']['length'];_0x20ca6c++){const _0x43ab60=_0x1c8307['keys'][_0x20ca6c],_0x1fb106=_0x43ab60['time'],_0xc948f7=_0x43ab60['pos'],_0x2ae3ef=_0x43ab60['rot'],_0x30c2b9=_0x43ab60['scale'],_0x19634d=new T(_0xc948f7[0xd*-0x20b+-0x2191+0x3c20],_0xc948f7[0xf77*0x1+-0x6*-0x259+-0x1d8c],_0xc948f7[0x11*-0x1f6+0x55b+-0x5*-0x599]),_0x47e654=new se()['setFromEul'+'erAngles'](_0x2ae3ef[-0xf17*-0x2+0xc9*0x2f+-0x4315*0x1],_0x2ae3ef[-0x171c+0x20b5+-0x998],_0x2ae3ef[-0x1700+-0x24dc+0x3bde]),_0x536b73=new T(_0x30c2b9[0x1*0x10de+0x5*0x312+-0x407*0x8],_0x30c2b9[-0x4*-0x637+0x45*-0x1+-0x1*0x1896],_0x30c2b9[-0xb2d+-0x20a5+0x2bd4]),_0x4682af=new F_(_0x1fb106,_0x19634d,_0x47e654,_0x536b73);_0x18ddb2['_keys']['push'](_0x4682af);}_0x232508['addNode'](_0x18ddb2);}return _0x232508;}['_parseAnim'+'ationV4'](_0x6ae607){const _0x5af214=_0x6ae607['animation'],_0x2faf22=new k_();_0x2faf22['name']=_0x5af214['name'],_0x2faf22['duration']=_0x5af214['duration'];for(let _0x1ea792=0xbc8+-0x1*-0x1e1d+0x339*-0xd;_0x1ea792<_0x5af214['nodes']['length'];_0x1ea792++){const _0xa100a3=new O_(),_0x44835a=_0x5af214['nodes'][_0x1ea792];_0xa100a3['_name']=_0x44835a['name'];const _0x24e106=_0x44835a['defaults']['p'],_0x274e71=_0x44835a['defaults']['r'],_0x2ac867=_0x44835a['defaults']['s'];for(let _0x38f8e2=0x1e4f+-0x146b*-0x1+0x97*-0x56;_0x38f8e2<_0x44835a['keys']['length'];_0x38f8e2++){const _0x370e2c=_0x44835a['keys'][_0x38f8e2],_0x25246f=_0x370e2c['t'],_0x15c1a9=_0x24e106||_0x370e2c['p'],_0x4603a7=_0x274e71||_0x370e2c['r'],_0x4ba14a=_0x2ac867||_0x370e2c['s'],_0x4823a6=new T(_0x15c1a9[0x1*0x386+-0xa*-0x2ef+-0x20dc],_0x15c1a9[-0x3d9+-0x2f4+-0x6ce*-0x1],_0x15c1a9[-0x1d96+0x1f*0x35+0x11*0x15d]),_0x61bae2=new se()['setFromEul'+'erAngles'](_0x4603a7[0x19*-0x3b+-0x13d*0x1a+-0xed*-0x29],_0x4603a7[0x37b+-0x7*0x38c+0x155a],_0x4603a7[-0x37e*0x2+-0xd3d*0x1+-0x1*-0x143b]),_0x1ba500=new T(_0x4ba14a[0xdcd+-0x274*0xa+0xabb],_0x4ba14a[-0x9bb+0x2268+-0x18ac],_0x4ba14a[0x1*-0x173b+0x1a9c+-0x35f]),_0x291751=new F_(_0x25246f,_0x4823a6,_0x61bae2,_0x1ba500);_0xa100a3['_keys']['push'](_0x291751);}_0x2faf22['addNode'](_0xa100a3);}return _0x2faf22;}}class g2 extends Ne{constructor(_0x46ae7a){super(_0x46ae7a,'animclip');}['load'](_0x26865f,_0x1ba39c){typeof _0x26865f=='string'&&(_0x26865f={'load':_0x26865f,'original':_0x26865f});const _0x2b616b={'retry':this['maxRetries']>-0x16de+0x335*-0x4+0x23b2,'maxRetries':this['maxRetries']};_0x26865f['load']['startsWith']('blob:')&&(_0x2b616b['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x26865f['load'],_0x2b616b,(_0x407d00,_0x41aa6e)=>{_0x407d00?_0x1ba39c('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x26865f['original']+'\x20['+_0x407d00+']'):_0x1ba39c(null,_0x41aa6e);});}['open'](_0x52f3a4,_0x12aa65){const _0x15de91=_0x12aa65['name'],_0x5b92fd=_0x12aa65['duration'],_0x1c92dc=_0x12aa65['inputs']['map'](_0x34d692=>new Jh(-0x71b*-0x1+-0x2113+0x19f9,_0x34d692)),_0x7d7af2=_0x12aa65['outputs']['map'](_0x71704c=>new Jh(_0x71704c['components'],_0x71704c['data'])),_0x5ab20b=_0x12aa65['curves']['map'](_0x5aa32a=>new Px([_0x5aa32a['path']],_0x5aa32a['inputIndex'],_0x5aa32a['outputInde'+'x'],_0x5aa32a['interpolat'+'ion']));return new Ri(_0x15de91,_0x5b92fd,_0x1c92dc,_0x7d7af2,_0x5ab20b);}}class y2 extends Ne{constructor(_0x361c77){super(_0x361c77,'animstateg'+'raph');}['load'](_0x5e1a39,_0x5b99db){typeof _0x5e1a39=='string'&&(_0x5e1a39={'load':_0x5e1a39,'original':_0x5e1a39});const _0x2ddb7e={'retry':this['maxRetries']>0x875+0x3*0x529+-0x17f0,'maxRetries':this['maxRetries']};_0x5e1a39['load']['startsWith']('blob:')&&(_0x2ddb7e['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x5e1a39['load'],_0x2ddb7e,(_0x3580a0,_0x2f11b8)=>{_0x3580a0?_0x5b99db('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x5e1a39['original']+'\x20['+_0x3580a0+']'):_0x5b99db(null,_0x2f11b8);});}['open'](_0x2bcaea,_0x34048d){return new mh(_0x34048d);}}const Qd=(function(){if(typeof window>'u')return!(-0x4cf*0x7+-0x147e+0x2*0x1b14);const _0x1bb9a8=window['navigator']['userAgent'],_0xefa2bd=_0x1bb9a8['indexOf']('MSIE\x20');if(_0xefa2bd>-0x826+-0x9*-0x2e7+0x1*-0x11f9)return parseInt(_0x1bb9a8['substring'](_0xefa2bd+(0xbb6+-0x137d+0x4*0x1f3),_0x1bb9a8['indexOf']('.',_0xefa2bd)),-0x1583*0x1+0x520+0x106d);if(_0x1bb9a8['indexOf']('Trident/')>0x5e1*-0x1+-0x2*0x66e+0x63f*0x3){const _0x126e10=_0x1bb9a8['indexOf']('rv:');return parseInt(_0x1bb9a8['substring'](_0x126e10+(0x266f+-0x1b3d*-0x1+-0x1*0x41a9),_0x1bb9a8['indexOf']('.',_0x126e10)),0x95d*-0x3+-0x266f+0x4290);}return!(0xb*0x109+-0xd4f+0x1ed);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x364a04){super(_0x364a04,'audio'),this['manager']=_0x364a04['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x4b2031){const _0x7b0dd6=fe['getExtensi'+'on'](_0x4b2031);return x2['indexOf'](_0x7b0dd6)>-(0x25*-0xc3+-0x1*-0x989+0x12a7)||_0x4b2031['startsWith']('blob:');}['load'](_0xdaf72d,_0x25a12c){typeof _0xdaf72d=='string'&&(_0xdaf72d={'load':_0xdaf72d,'original':_0xdaf72d});const _0x1c8063=function(_0x37616d){_0x25a12c(null,new Bb(_0x37616d));},_0x5205c1=function(_0x315160){let _0x50438e='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0xdaf72d['original'];_0x315160&&(_0x50438e+=':\x20'+(_0x315160['message']||_0x315160)),console['warn'](_0x50438e),_0x25a12c(_0x50438e);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0xdaf72d['original'])){_0x5205c1('Audio\x20form'+'at\x20for\x20'+_0xdaf72d['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0xdaf72d['load'],_0x1c8063,_0x5205c1);}else _0x5205c1(null);}['_createSou'+'nd'](_0x384b3b,_0xb1d131,_0x17a3d3){if(Li()){const _0x3a0f07=this['manager'];if(!_0x3a0f07['context']){_0x17a3d3('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x502365={'retry':this['maxRetries']>0x2a*-0x81+-0x2231+0x17f*0x25,'maxRetries':this['maxRetries']};(_0x384b3b['startsWith']('blob:')||_0x384b3b['startsWith']('data:'))&&(_0x502365['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x384b3b,_0x502365,(_0x1b5bee,_0x5dd536)=>{if(_0x1b5bee){_0x17a3d3(_0x1b5bee);return;}_0x3a0f07['context']['decodeAudi'+'oData'](_0x5dd536,_0xb1d131,_0x17a3d3);});}else{let _0x5402e0=null;try{_0x5402e0=new Audio();}catch{_0x17a3d3('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x5402e0);const _0xab39a=function(){_0x5402e0['removeEven'+'tListener']('canplaythr'+'ough',_0xab39a),Qd&&document['body']['removeChil'+'d'](_0x5402e0),_0xb1d131(_0x5402e0);};_0x5402e0['onerror']=function(){_0x5402e0['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x5402e0),_0x17a3d3();},_0x5402e0['addEventLi'+'stener']('canplaythr'+'ough',_0xab39a),_0x5402e0['src']=_0x384b3b;}}}class v2 extends Ne{constructor(_0x136bd6){super(_0x136bd6,'binary');}['load'](_0x3dbe42,_0x14cc82){typeof _0x3dbe42=='string'&&(_0x3dbe42={'load':_0x3dbe42,'original':_0x3dbe42}),$e['get'](_0x3dbe42['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x43c+0x1*-0xc50+-0x846*-0x2,'maxRetries':this['maxRetries']},(_0x19a09d,_0x13a6d1)=>{_0x19a09d?_0x14cc82('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x3dbe42['original']+'\x20['+_0x19a09d+']'):_0x14cc82(null,_0x13a6d1);});}['openBinary'](_0x319ffd){return _0x319ffd['buffer'];}}class tr{constructor(_0x13d553,_0x58ab15,_0x2cb684,_0x43f05d){const _0x420e37=function(_0x222915,_0x3fea24,_0x28318a){const _0xf8ed12=tr['createAsse'+'t'](_0x58ab15['name'],_0x222915,_0x3fea24,_0x28318a);return _0x2cb684['add'](_0xf8ed12),_0xf8ed12;},_0x5f2a3c=[];for(let _0x4cbc37=-0x24d0+0x243*0x5+0x1981;_0x4cbc37<_0x13d553['renders']['length'];++_0x4cbc37)_0x5f2a3c['push'](_0x420e37('render',_0x13d553['renders'][_0x4cbc37],_0x4cbc37));const _0x2e6763=[];for(let _0x5296e8=0xc34+-0x1b94+0xf60;_0x5296e8<_0x13d553['materials']['length'];++_0x5296e8)_0x2e6763['push'](_0x420e37('material',_0x13d553['materials'][_0x5296e8],_0x5296e8));const _0x5c0344=[];for(let _0xf474f0=-0x1*-0x168a+-0x2*-0x100c+0x3e7*-0xe;_0xf474f0<_0x13d553['animations']['length'];++_0xf474f0)_0x5c0344['push'](_0x420e37('animation',_0x13d553['animations'][_0xf474f0],_0xf474f0));this['data']=_0x13d553,this['_model']=null,this['_assetName']=_0x58ab15['name'],this['_assets']=_0x2cb684,this['_defaultMa'+'terial']=_0x43f05d,this['renders']=_0x5f2a3c,this['materials']=_0x2e6763,this['textures']=_0x13d553['textures'],this['animations']=_0x5c0344;}get['model'](){if(!this['_model']){const _0x322089=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x34ac47=tr['createAsse'+'t'](this['_assetName'],'model',_0x322089,0xd43+-0x46d*0x8+0x1625);this['_assets']['add'](_0x34ac47),this['_model']=_0x34ac47;}return this['_model'];}static['createAsse'+'t'](_0x26bb64,_0x39ae31,_0x12097a,_0xe3f0f1){const _0x2c83b1=new le(_0x26bb64+'/'+_0x39ae31+'/'+_0xe3f0f1,_0x39ae31,{'url':''});return _0x2c83b1['resource']=_0x12097a,_0x2c83b1['loaded']=!(-0x21ec+0x92*0x43+-0x6*0xb7),_0x2c83b1;}['instantiat'+'eModelEnti'+'ty'](_0x43db22){const _0x13fa79=new We();return _0x13fa79['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x43db22)),_0x13fa79;}['instantiat'+'eRenderEnt'+'ity'](_0x1f5da7){const _0x2a3db6=this['_defaultMa'+'terial'],_0x45941c=[],_0x174355=function(_0x1aa9f6,_0x5f531e,_0x1f8873,_0xcbc5ec,_0x1f735e,_0x5aa2e6,_0x357669,_0x3ac094){const _0x15f9ff=_0x1f735e[_0x1f8873['id']],_0x50cdb1=_0x15f9ff===void(-0x2*-0x11d7+-0x1668+-0x1*0xd46)?_0x2a3db6:_0xcbc5ec[_0x15f9ff],_0x99158d=new Le(_0x1f8873,_0x50cdb1);_0x1f8873['morph']&&(_0x99158d['morphInsta'+'nce']=new fn(_0x1f8873['morph'])),_0x357669['hasOwnProp'+'erty']('skin')&&_0x45941c['push']({'meshInstance':_0x99158d,'rootBone':_0x1aa9f6,'entity':_0x5f531e});const _0x28217c=_0x3ac094['get'](_0x357669);if(_0x28217c){const _0x236a38=_0x28217c['matrices'],_0x58c5b6=Et['getDefault'+'Instancing'+'Format'](_0x1f8873['device']),_0x33ba17=new os(_0x1f8873['device'],_0x58c5b6,_0x236a38['length']/(0x25*0x4+-0x262f+0x25ab),{'data':_0x236a38});_0x99158d['setInstanc'+'ing'](_0x33ba17),_0x99158d['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x1*-0x1a0c+0x52c+-0x1f38);}return _0x99158d;},_0xbacb89=(_0x1fb681,_0x4e49cc,_0x4e9a3a)=>{const _0x48209c=new We();_0x4e49cc['_cloneInte'+'rnal'](_0x48209c),_0x1fb681||(_0x1fb681=_0x48209c);let _0x53ad4c=null,_0x59d0f0=null;for(let _0x7dc97c=0x2be+-0x115*-0x1f+0x2449*-0x1;_0x7dc97c<_0x4e9a3a['nodes']['length'];_0x7dc97c++)if(_0x4e9a3a['nodes'][_0x7dc97c]===_0x4e49cc){const _0x4ae986=_0x4e9a3a['gltf']['nodes'][_0x7dc97c];if(_0x4ae986['hasOwnProp'+'erty']('mesh')){const _0x56ecc5=_0x4e9a3a['renders'][_0x4ae986['mesh']]['meshes'];_0x59d0f0=this['renders'][_0x4ae986['mesh']];for(let _0x6d6254=0x16f*0x17+-0x235a+-0xcb*-0x3;_0x6d6254<_0x56ecc5['length'];_0x6d6254++){const _0x1f8cb9=_0x56ecc5[_0x6d6254];if(_0x1f8cb9){const _0x10c5e2=_0x174355(_0x1fb681,_0x48209c,_0x1f8cb9,_0x4e9a3a['materials'],_0x4e9a3a['meshDefaul'+'tMaterials'],_0x4e9a3a['skins'],_0x4ae986,_0x4e9a3a['nodeInstan'+'cingMap']);_0x53ad4c||(_0x53ad4c=[]),_0x53ad4c['push'](_0x10c5e2);}}}if(_0x4e9a3a['lights']){const _0x1cc7cb=_0x4e9a3a['lights']['get'](_0x4ae986);_0x1cc7cb&&_0x48209c['addChild'](_0x1cc7cb['clone']());}if(_0x4e9a3a['cameras']){const _0x5be89f=_0x4e9a3a['cameras']['get'](_0x4ae986);_0x5be89f&&_0x5be89f['camera']['system']['cloneCompo'+'nent'](_0x5be89f,_0x48209c);}}_0x53ad4c&&(_0x48209c['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x53ad4c},_0x1f5da7)),_0x48209c['render']['assignAsse'+'t'](_0x59d0f0));const _0x2f8ef7=_0x4e49cc['children'];for(let _0x4c2315=-0x41*0x47+-0x1c3+0x13ca;_0x4c2315<_0x2f8ef7['length'];_0x4c2315++){const _0x9a98b=_0xbacb89(_0x1fb681,_0x2f8ef7[_0x4c2315],_0x4e9a3a);_0x48209c['addChild'](_0x9a98b);}return _0x48209c;},_0x2f4429=[];for(const _0x4e9e21 of this['data']['scenes'])_0x2f4429['push'](_0xbacb89(null,_0x4e9e21,this['data']));return _0x45941c['forEach'](_0x4db563=>{_0x4db563['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x4db563['meshInstan'+'ce']['mesh']['skin'],_0x4db563['rootBone'],_0x4db563['entity']),_0x4db563['meshInstan'+'ce']['node']['render']['rootBone']=_0x4db563['rootBone'];}),tr['createScen'+'eHierarchy'](_0x2f4429,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x191ed1,_0x4a1130){const _0x2a6f00=_0x4a1130?this['data']['variants'][_0x4a1130]:null;if(_0x2a6f00===void(0x17a0+0x5a5*0x2+0x52*-0x6d)){v['warn']('No\x20variant'+'\x20named\x20'+_0x4a1130+('\x20exists\x20in'+'\x20resource'));return;}const _0x170898=_0x191ed1['findCompon'+'ents']('render');for(let _0x282d70=-0xc18+0x1ee5+-0x12cd*0x1;_0x282d70<_0x170898['length'];_0x282d70++){const _0x2ffe8c=_0x170898[_0x282d70];this['_applyMate'+'rialVarian'+'t'](_0x2a6f00,_0x2ffe8c['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x533848,_0x103278){const _0x15a9da=_0x103278?this['data']['variants'][_0x103278]:null;if(_0x15a9da===void(0x1bbd*0x1+0xdd5+-0x2992*0x1)){v['warn']('No\x20variant'+'\x20named\x20'+_0x103278+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x15a9da,_0x533848);}['_applyMate'+'rialVarian'+'t'](_0x5629a1,_0x59d758){_0x59d758['forEach'](_0x3ecb2d=>{if(_0x5629a1===null)_0x3ecb2d['material']=this['_defaultMa'+'terial'];else{const _0x57c53f=this['data']['meshVarian'+'ts'][_0x3ecb2d['mesh']['id']];_0x57c53f&&(_0x3ecb2d['material']=this['data']['materials'][_0x57c53f[_0x5629a1]]);}v['assert'](_0x3ecb2d['material']);});}static['createScen'+'eHierarchy'](_0x58fb6e,_0x336391){let _0x5c10a4=null;if(_0x58fb6e['length']===0x17*-0xf7+0x2*0x40d+0xe18)_0x5c10a4=_0x58fb6e[0x24f*0x3+0x23c4+-0x2ab1*0x1];else{_0x5c10a4=new _0x336391('SceneGroup');for(const _0x3e3931 of _0x58fb6e)_0x5c10a4['addChild'](_0x3e3931);}return _0x5c10a4;}static['createMode'+'l'](_0x4b6fa5,_0x213b6d){const _0xf82397=function(_0x45d732,_0x9b8c91,_0xddaaca,_0x331aba,_0x4b4f94,_0x12a52d,_0x3801cd){const _0x221f7f=_0x4b6fa5['meshDefaul'+'tMaterials'][_0x9b8c91['id']],_0xaecda3=_0x221f7f===void(-0x23*-0x6a+-0x732+-0x74c)?_0x213b6d:_0x4b4f94[_0x221f7f],_0x2bc34a=new Le(_0x9b8c91,_0xaecda3,_0x12a52d);if(_0x9b8c91['morph']){const _0x185dbe=new fn(_0x9b8c91['morph']);_0x2bc34a['morphInsta'+'nce']=_0x185dbe,_0x45d732['morphInsta'+'nces']['push'](_0x185dbe);}if(_0x3801cd['hasOwnProp'+'erty']('skin')){const _0x59a285=_0x3801cd['skin'],_0x49d909=_0xddaaca[_0x59a285];_0x9b8c91['skin']=_0x49d909;const _0x2062cf=_0x331aba[_0x59a285];_0x2bc34a['skinInstan'+'ce']=_0x2062cf,_0x45d732['skinInstan'+'ces']['push'](_0x2062cf);}_0x45d732['meshInstan'+'ces']['push'](_0x2bc34a);},_0x5e3005=new Oi(),_0x163dd1=[];for(const _0x53c460 of _0x4b6fa5['skins']){const _0x534558=new nl(_0x53c460);_0x534558['bones']=_0x53c460['bones'],_0x163dd1['push'](_0x534558);}_0x5e3005['graph']=tr['createScen'+'eHierarchy'](_0x4b6fa5['scenes'],De);for(let _0x4ed59f=-0x1e1b+0x16*0x61+0x15c5;_0x4ed59f<_0x4b6fa5['nodes']['length'];_0x4ed59f++){const _0x4405c3=_0x4b6fa5['nodes'][_0x4ed59f];if(_0x4405c3['root']===_0x5e3005['graph']){const _0x89624f=_0x4b6fa5['gltf']['nodes'][_0x4ed59f];if(_0x89624f['hasOwnProp'+'erty']('mesh')){const _0x480a1f=_0x4b6fa5['renders'][_0x89624f['mesh']]['meshes'];for(let _0x2d1cd8=-0xace+0x143*-0x1d+0x2f65;_0x2d1cd8<_0x480a1f['length'];_0x2d1cd8++){const _0x3cf0fa=_0x480a1f[_0x2d1cd8];_0x3cf0fa&&_0xf82397(_0x5e3005,_0x3cf0fa,_0x4b6fa5['skins'],_0x163dd1,_0x4b6fa5['materials'],_0x4405c3,_0x89624f);}}}}return _0x5e3005;}['destroy'](){const _0x38a20c=this['_assets'],_0x39e0e0=function(_0x348d73){_0x38a20c['remove'](_0x348d73),_0x348d73['unload']();},_0x17fe14=function(_0xdbbf68){_0xdbbf68['forEach'](_0x3d1610=>{_0x39e0e0(_0x3d1610);});};this['animations']&&(_0x17fe14(this['animations']),this['animations']=null),this['textures']&&(_0x17fe14(this['textures']),this['textures']=null),this['materials']&&(_0x17fe14(this['materials']),this['materials']=null),this['renders']&&(_0x17fe14(this['renders']),this['renders']=null),this['_model']&&(_0x39e0e0(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x321389,_0x198989,_0x542d8d){this['_device']=_0x321389,this['_assets']=_0x198989,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x542d8d;}['_getUrlWit'+'houtParams'](_0x64b967){return _0x64b967['indexOf']('?')>=-0x5e9+-0x1c7b+0x2264?_0x64b967['split']('?')[0x267a+-0x25ad+-0xcd]:_0x64b967;}['load'](_0x146b84,_0x35ff35,_0x3b45b4){le['fetchArray'+'Buffer'](_0x146b84['load'],(_0x193f38,_0x54810b)=>{_0x193f38?_0x35ff35(_0x193f38):tc['parse'](this['_getUrlWit'+'houtParams'](_0x146b84['original']),fe['extractPat'+'h'](_0x146b84['load']),_0x54810b,this['_device'],_0x3b45b4['registry'],_0x3b45b4['options'],(_0x30088e,_0x2ac7af)=>{_0x30088e?_0x35ff35(_0x30088e):_0x35ff35(null,new tr(_0x2ac7af,_0x3b45b4,this['_assets'],this['_defaultMa'+'terial']));});},_0x3b45b4,this['maxRetries']);}['open'](_0x2de252,_0x627361,_0x5ad942){return _0x627361;}['patch'](_0xab2606,_0x1a82ed){}}class w2 extends Ne{constructor(_0x5c2834){super(_0x5c2834,'container'),this['glbContain'+'erParser']=new b2(_0x5c2834['graphicsDe'+'vice'],_0x5c2834['assets'],0xc35+-0x25d0+0x199b),this['parsers']={};}set['maxRetries'](_0x1d0c0d){this['glbContain'+'erParser']['maxRetries']=_0x1d0c0d;for(const _0x252f09 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x252f09)&&(this['parsers'][_0x252f09]['maxRetries']=_0x1d0c0d);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x27c307){return _0x27c307['indexOf']('?')>=0x220c+-0x17d7+0xa35*-0x1?_0x27c307['split']('?')[0x122d+0x12e*0x19+0x2fab*-0x1]:_0x27c307;}['_getParser'](_0x358374){const _0x269ca9=_0x358374?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x358374))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x269ca9]||this['glbContain'+'erParser'];}['load'](_0x297d90,_0x4247f0,_0x5820dc){typeof _0x297d90=='string'&&(_0x297d90={'load':_0x297d90,'original':_0x297d90}),this['_getParser'](_0x297d90['original'])['load'](_0x297d90,_0x4247f0,_0x5820dc);}['open'](_0x1dcf8f,_0x269edb,_0x53dc1f){return this['_getParser'](_0x1dcf8f)['open'](_0x1dcf8f,_0x269edb,_0x53dc1f);}}class T2 extends Ne{constructor(_0x6951d9){super(_0x6951d9,'css'),c(this,'decoder',null);}['load'](_0xf71424,_0x51c2ad){typeof _0xf71424=='string'&&(_0xf71424={'load':_0xf71424,'original':_0xf71424}),$e['get'](_0xf71424['load'],{'retry':this['maxRetries']>-0x403+-0x2*-0x44b+-0x493*0x1,'maxRetries':this['maxRetries']},(_0x350734,_0x584baa)=>{_0x350734?_0x51c2ad('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0xf71424['original']+'\x20['+_0x350734+']'):_0x51c2ad(null,_0x584baa);});}['openBinary'](_0x53a1ed){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x53a1ed);}}class A2 extends Ne{constructor(_0x331aa8){super(_0x331aa8,'cubemap'),this['_device']=_0x331aa8['graphicsDe'+'vice'],this['_registry']=_0x331aa8['assets'],this['_loader']=_0x331aa8['loader'];}['load'](_0x199a7b,_0x3f31bd,_0x450a3d){this['loadAssets'](_0x450a3d,_0x3f31bd);}['open'](_0x5a79ef,_0x59eb0d,_0x58ec23){return _0x58ec23?_0x58ec23['resource']:null;}['patch'](_0x290993,_0x4139f5){this['loadAssets'](_0x290993,(_0x99f37c,_0x490afa)=>{_0x99f37c&&(_0x4139f5['fire']('error',_0x290993),_0x4139f5['fire']('error:'+_0x290993['id'],_0x99f37c,_0x290993),_0x290993['fire']('error',_0x290993));});}['getAssetId'+'s'](_0x2a2d76){const _0x5e1b2a=[];if(_0x5e1b2a[0xe98*0x1+-0x7f7+0x6a1*-0x1]=_0x2a2d76['file'],(_0x2a2d76['loadFaces']||!_0x2a2d76['file'])&&_0x2a2d76['data']&&_0x2a2d76['data']['textures']){for(let _0x24d805=0x2421*0x1+-0x1a50+0x1*-0x9d1;_0x24d805<0x169c+0x1246+-0x82c*0x5;++_0x24d805)_0x5e1b2a[_0x24d805+(-0x43*-0x3e+0x2163+0x27b*-0x14)]=_0x2a2d76['data']['textures'][_0x24d805];}else _0x5e1b2a[-0x116c+0x12b*0xc+0x61*0x9]=_0x5e1b2a[0x5*0x3c5+0x12a6*0x1+-0x257d]=_0x5e1b2a[0x186b+0x1391+-0x2bf9]=_0x5e1b2a[-0x15e2*-0x1+0x1236+-0x2814]=_0x5e1b2a[0x2183+0x165+0x1*-0x22e3]=_0x5e1b2a[0x2178+-0x11f5*0x1+-0x1*0xf7d]=null;return _0x5e1b2a;}['compareAss'+'etIds'](_0x5a0116,_0x24066f){return _0x5a0116&&_0x24066f?parseInt(_0x5a0116,-0x2e6+0x1024*-0x1+0x1314)===_0x5a0116||typeof _0x5a0116=='string'?_0x5a0116===_0x24066f:_0x5a0116['url']===_0x24066f['url']:_0x5a0116!==null==(_0x24066f!==null);}['update'](_0x5c3a4e,_0x2abdfc,_0x2cd2ef){const _0x3d992e=_0x5c3a4e['data']||{},_0x373a4c=_0x5c3a4e['_handlerSt'+'ate']['assets'],_0x4f98b2=_0x5c3a4e['_resources'];let _0x4a708f,_0x506ca1,_0xeea682;const _0x259a34=[null,null,null,null,null,null,null],_0x2fc3f5=function(){return _0x3d992e['hasOwnProp'+'erty']('type')?_0x3d992e['type']:_0x3d992e['hasOwnProp'+'erty']('rgbm')?_0x3d992e['rgbm']?on:Di:null;};if(!_0x5c3a4e['loaded']||_0x2cd2ef[0x6c4+-0x1e7*-0x1+-0x8ab]!==_0x373a4c[0x1*-0x84f+-0x81a+0x1*0x1069]){if(_0x2cd2ef[0x34*-0x16+-0x822+-0x1*-0xc9a]){if(_0x4a708f=_0x2cd2ef[-0x4*-0x40+-0x2507+-0x191*-0x17]['resource'],_0x4a708f['cubemap']){for(_0xeea682=0x13c7+-0x3*-0xc9+-0x1622;_0xeea682<-0x1cf*0xc+0x7*-0x266+-0x2684*-0x1;++_0xeea682)_0x259a34[_0xeea682+(0x23fc+-0x13d8+-0x1023)]=new he(this['_device'],{'name':_0x5c3a4e['name']+('_prelitCub'+'emap')+(_0x4a708f['width']>>_0xeea682),'cubemap':!(0xc31+-0x2*-0xb39+0x1*-0x22a3),'type':_0x2fc3f5()||_0x4a708f['type'],'width':_0x4a708f['width']>>_0xeea682,'height':_0x4a708f['height']>>_0xeea682,'format':_0x4a708f['format'],'levels':[_0x4a708f['_levels'][_0xeea682]],'addressU':ae,'addressV':ae,'mipmaps':_0xeea682===-0xc*0x119+-0x4c1*0x3+0x925*0x3});}else _0x259a34[-0x3f*0x1+0x1*-0x263b+0x1*0x267b]=_0x4a708f;}}else _0x259a34[-0x1c55*-0x1+0x1*0x248d+0x40e1*-0x1]=_0x4f98b2[0x5*0x6cd+0xb89+-0x2d89]||null,_0x259a34[-0xb03+-0x2*0xc8c+0x739*0x5]=_0x4f98b2[0x2*0x38c+0xb*-0x297+0x1567]||null,_0x259a34[0x190a+0x140a+0x8b*-0x53]=_0x4f98b2[0x589*-0x1+-0x2020+-0x4*-0x96b]||null,_0x259a34[-0x6*-0x13c+0x808+0x1*-0xf6c]=_0x4f98b2[0x1*-0x2274+0x1635+0xc43]||null,_0x259a34[-0x11b9*0x1+-0xb5*0x7+0x25*0x9d]=_0x4f98b2[0x19*-0x7f+0x3*-0x94f+0x3*0xd73]||null,_0x259a34[0x15e7+0xaf9+-0x1*0x20da]=_0x4f98b2[0x151+-0x167e+0x1533]||null;const _0x46aec1=_0x2cd2ef['slice'](0x969+-0x2*0xd9e+-0xe*-0x146);if(!_0x5c3a4e['loaded']||!this['cmpArrays'](_0x46aec1,_0x373a4c['slice'](-0x3cb*-0x3+-0xa2*0x1b+0x5b6))){if(_0x46aec1['indexOf'](null)===-(0x2207+-0x6*-0x449+-0x3bbc)){const _0x5912dd=_0x46aec1['map'](_0xd60c08=>_0xd60c08['resource']),_0x1404b3=[];for(_0x506ca1=0x1a51+-0x1*0xfcd+-0xa84;_0x506ca1<_0x5912dd[0x1*0x2285+-0x35*-0x53+-0x33b4]['_levels']['length'];++_0x506ca1)_0x1404b3['push'](_0x5912dd['map'](_0x1a4cb7=>_0x1a4cb7['_levels'][_0x506ca1]));const _0x4e8d8f=_0x5912dd[0x17e9+0x1d7b*-0x1+0x592]['format'],_0x9152cc=new he(this['_device'],{'name':_0x5c3a4e['name']+'_faces','cubemap':!(-0x49c*0x1+-0x7f9+-0xc95*-0x1),'type':_0x2fc3f5()||_0x5912dd[0x5*0x633+0x1*0x50b+0x1205*-0x2]['type'],'width':_0x5912dd[-0x78a+-0x1d8*0xb+0x1bd2]['width'],'height':_0x5912dd[0x43*-0x88+0x1fa9+-0x35*-0x13]['height'],'format':_0x4e8d8f===dr?Se:_0x4e8d8f,'mipmaps':_0x3d992e['mipmaps']??!(0x23*-0x5f+0x10a2+-0x1*0x3a5),'levels':_0x1404b3,'minFilter':_0x3d992e['hasOwnProp'+'erty']('minFilter')?_0x3d992e['minFilter']:_0x5912dd[0xd51+-0xcbf+0x2*-0x49]['minFilter'],'magFilter':_0x3d992e['hasOwnProp'+'erty']('magFilter')?_0x3d992e['magFilter']:_0x5912dd[-0x1a13+0x216+0x1*0x17fd]['magFilter'],'anisotropy':_0x3d992e['hasOwnProp'+'erty']('anisotropy')?_0x3d992e['anisotropy']:-0x1*-0x1a49+-0x385+-0x16c3,'addressU':ae,'addressV':ae});_0x259a34[-0xbae+-0x211f+0x2ccd]=_0x9152cc;}}else _0x259a34[-0x1fc1+0x1006+0xfbb]=_0x4f98b2[0x254a+0x15c+0x22*-0x123]||null;if(!this['cmpArrays'](_0x259a34,_0x4f98b2)){for(_0x5c3a4e['resources']=_0x259a34,_0x5c3a4e['_handlerSt'+'ate']['assetIds']=_0x2abdfc,_0x5c3a4e['_handlerSt'+'ate']['assets']=_0x2cd2ef,_0xeea682=0x1d3*0xf+-0x119+-0x4*0x691;_0xeea682<_0x4f98b2['length'];++_0xeea682)_0x4f98b2[_0xeea682]!==null&&_0x259a34['indexOf'](_0x4f98b2[_0xeea682])===-(0x5c6*0x5+0x1*-0x651+-0x5a3*0x4)&&_0x4f98b2[_0xeea682]['destroy']();}for(_0xeea682=0x68c+0x5*0x5cc+0x8e2*-0x4;_0xeea682<_0x373a4c['length'];++_0xeea682)_0x373a4c[_0xeea682]!==null&&_0x2cd2ef['indexOf'](_0x373a4c[_0xeea682])===-(0x270d+-0x14b3+-0x1259)&&_0x373a4c[_0xeea682]['unload']();}['cmpArrays'](_0x561e25,_0x446528){if(_0x561e25['length']!==_0x446528['length'])return!(0x210e*0x1+0x2561*-0x1+0x454);for(let _0x1c4d29=0xeb7+-0x15b3+0x6fc;_0x1c4d29<_0x561e25['length'];++_0x1c4d29)if(_0x561e25[_0x1c4d29]!==_0x446528[_0x1c4d29])return!(0x1f*-0x3d+-0x5ef+-0x9*-0x17b);return!(-0x41+0x40*0x23+-0x87f);}['resolveId'](_0x17cae8){const _0xefe0e9=parseInt(_0x17cae8,0x26b5+0x247d+0x208*-0x25);return _0xefe0e9===_0x17cae8||_0xefe0e9['toString']()===_0x17cae8?_0xefe0e9:_0x17cae8;}['loadAssets'](_0x496685,_0x1ff23c){_0x496685['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x496685['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x234fc7=this,_0x293938=_0x234fc7['getAssetId'+'s'](_0x496685),_0x4df28d=[null,null,null,null,null,null,null],_0xa61474=_0x496685['_handlerSt'+'ate']['assetIds'],_0x15233c=_0x496685['_handlerSt'+'ate']['assets'],_0x5bab3e=_0x234fc7['_registry'];let _0x2adf7e=-0xd9c+0x2a7*-0xd+0x301e;const _0x1af18a=function(_0x317816,_0x2a0882){_0x4df28d[_0x317816]=_0x2a0882,_0x2adf7e--,_0x2adf7e===-0x1*-0x1781+-0x14a6+-0x2db*0x1&&(_0x234fc7['update'](_0x496685,_0x293938,_0x4df28d),_0x1ff23c(null,_0x496685['resources']));},_0x3563c7=function(_0x18263a,_0x122d9e,_0x30581c){_0x1ff23c(_0x122d9e);},_0x32e0e7=function(_0x17bc2a,_0x415068){_0x415068['loaded']?_0x1af18a(_0x17bc2a,_0x415068):(_0x5bab3e['once']('load:'+_0x415068['id'],_0x1af18a['bind'](_0x234fc7,_0x17bc2a)),_0x5bab3e['once']('error:'+_0x415068['id'],_0x3563c7['bind'](_0x234fc7,_0x17bc2a)),_0x415068['loading']||_0x5bab3e['load'](_0x415068));};let _0xadc716;for(let _0x1e80ec=0x2*-0x19f+0x1106*-0x1+0x1444;_0x1e80ec<-0x3c0+0x98f*-0x3+0x2074;++_0x1e80ec){const _0x49fb28=this['resolveId'](_0x293938[_0x1e80ec]);if(!_0x49fb28)_0x1af18a(_0x1e80ec,null);else{if(_0x234fc7['compareAss'+'etIds'](_0x49fb28,_0xa61474[_0x1e80ec]))_0x32e0e7(_0x1e80ec,_0x15233c[_0x1e80ec]);else{if(parseInt(_0x49fb28,-0xc9b+0x15*-0x8+-0x2a9*-0x5)===_0x49fb28)_0xadc716=_0x5bab3e['get'](_0x49fb28),_0xadc716?_0x32e0e7(_0x1e80ec,_0xadc716):setTimeout(((_0x46f189,_0x51cf2d)=>{const _0x50826a=_0x5bab3e['get'](_0x51cf2d);_0x50826a?_0x32e0e7(_0x46f189,_0x50826a):_0x3563c7(_0x46f189,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x51cf2d);})['bind'](null,_0x1e80ec,_0x49fb28));else{const _0x5e682b=typeof _0x49fb28=='string'?{'url':_0x49fb28,'filename':_0x49fb28}:_0x49fb28,_0x27494d=_0x5e682b['url']['search']('.dds')===-(0x106+0x1aff*-0x1+0x5*0x532)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x545+-0x180*0x17+-0xd42*-0x3)}:null;_0xadc716=new le(_0x496685['name']+'_part_'+_0x1e80ec,'texture',_0x5e682b,_0x27494d),_0x5bab3e['add'](_0xadc716),_0x32e0e7(_0x1e80ec,_0xadc716);}}}}}}class E2 extends Ne{constructor(_0x490db0){super(_0x490db0,'folder');}['load'](_0x91edd8,_0x183f52){_0x183f52(null,null);}}class Ng{constructor(_0x27810f,_0x1c0613){this['type']=_0x1c0613&&_0x1c0613['type']||Kh,this['em']=-0x1b41+-0xf07+0x2a49,this['textures']=_0x27810f,this['intensity']=-0x762+0x207d*-0x1+0xad*0x3b,this['_data']=null,this['data']=_0x1c0613;}set['data'](_0x38c51e){if(this['_data']=_0x38c51e,!!_0x38c51e&&(this['_data']['intensity']!==void(0x158f+-0x192a+0xd*0x47)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0xa0+0x2373+0x22d1*-0x1)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x53bffd in this['_data']['chars'])this['_data']['chars'][_0x53bffd]['map']=0x12cc+0xe3a+-0x1*0x2106;}}get['data'](){return this['_data'];}}function Jd(_0x15c369){return _0x15c369['version']<-0x16d*-0x2+-0xbe7+-0x8*-0x122&&(_0x15c369['version']<-0x583*0x4+0x7*-0x51+0x1*0x1845&&(_0x15c369['info']['maps']=_0x15c369['info']['maps']||[{'width':_0x15c369['info']['width'],'height':_0x15c369['info']['height']}]),_0x15c369['chars']=Object['keys'](_0x15c369['chars']||{})['reduce']((_0x218340,_0x34c033)=>{const _0x64cfc2=_0x15c369['chars'][_0x34c033],_0x55dde9=_0x64cfc2['letter']!==void(0x1*0x10c3+-0x1ad4+0xa11)?_0x64cfc2['letter']:ah['fromCodePo'+'int'](_0x34c033);return _0x15c369['version']<-0x1959+-0x314*-0x4+0xd0b&&(_0x64cfc2['map']=_0x64cfc2['map']||-0x1*-0x1632+0xc91+-0x22c3),_0x218340[_0x55dde9]=_0x64cfc2,_0x218340;},{}),_0x15c369['version']=-0x2*0x6e9+-0x1566+0x233b),_0x15c369;}class C2 extends Ne{constructor(_0xf17b3d){super(_0xf17b3d,'font'),this['_loader']=_0xf17b3d['loader'],this['maxRetries']=0xb5c+-0x236*-0x3+-0x11fe;}['load'](_0x249f44,_0x4b98cf,_0xcaf6f4){typeof _0x249f44=='string'&&(_0x249f44={'load':_0x249f44,'original':_0x249f44});const _0x136408=this;fe['getExtensi'+'on'](_0x249f44['original'])==='.json'?$e['get'](_0x249f44['load'],{'retry':this['maxRetries']>0x451+0x11be+-0x1*0x160f,'maxRetries':this['maxRetries']},(_0x33f35d,_0xaac218)=>{if(_0x33f35d)_0x4b98cf('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x249f44['original']+'\x20['+_0x33f35d+']');else{const _0x201fe8=Jd(_0xaac218);_0x136408['_loadTextu'+'res'](_0x249f44['load']['replace']('.json','.png'),_0x201fe8,(_0x37b4ff,_0x5b3019)=>{_0x37b4ff?_0x4b98cf(_0x37b4ff):_0x4b98cf(null,{'data':_0x201fe8,'textures':_0x5b3019});});}}):(_0xcaf6f4&&_0xcaf6f4['data']&&(_0xcaf6f4['data']=Jd(_0xcaf6f4['data'])),this['_loadTextu'+'res'](_0x249f44['load'],_0xcaf6f4&&_0xcaf6f4['data'],_0x4b98cf));}['_loadTextu'+'res'](_0x2c1d81,_0x183384,_0x482901){const _0xc8d87=_0x183384['info']['maps']['length'];let _0x2d9801=-0x1ca*-0x1+0xf54+0x2*-0x88f,_0x4eb336=null;const _0x4b7b49=new Array(_0xc8d87),_0x80844b=this['_loader'],_0x556cc7=function(_0x4a8429){const _0x339ad3=function(_0x504127,_0x303e6a){if(!_0x4eb336){if(_0x504127){_0x4eb336=_0x504127,_0x482901(_0x504127);return;}_0x303e6a['upload'](),_0x4b7b49[_0x4a8429]=_0x303e6a,_0x2d9801++,_0x2d9801===_0xc8d87&&_0x482901(null,_0x4b7b49);}};_0x4a8429===0x1a28+0x83*-0x49+0x2f*0x3d?_0x80844b['load'](_0x2c1d81,'texture',_0x339ad3):_0x80844b['load'](_0x2c1d81['replace']('.png',_0x4a8429+'.png'),'texture',_0x339ad3);};for(let _0x500356=-0xf28+0x109d+-0x1*0x175;_0x500356<_0xc8d87;_0x500356++)_0x556cc7(_0x500356);}['open'](_0x3898b5,_0x3c952b,_0x373347){let _0x43e982;return _0x3c952b['textures']?_0x43e982=new Ng(_0x3c952b['textures'],_0x3c952b['data']):_0x43e982=new Ng(_0x3c952b,null),_0x43e982;}['patch'](_0x4d9a72,_0x360683){const _0x2ce225=_0x4d9a72['resource'];!_0x2ce225['data']&&_0x4d9a72['data']?_0x2ce225['data']=_0x4d9a72['data']:!_0x4d9a72['data']&&_0x2ce225['data']&&(_0x4d9a72['data']=_0x2ce225['data']),_0x4d9a72['data']&&(_0x4d9a72['data']=Jd(_0x4d9a72['data']));}}async function M2(){const _0x336331=0x3f6+0x22c7+-0x26bd*0x1+0.28209479177387814;class _0x39d0e6{constructor(_0x32105f,_0x58520a,_0x573d6a){this['x']=_0x32105f,this['y']=_0x58520a,this['z']=_0x573d6a;}}class _0x4ac395{constructor(_0x52a2b5,_0x30c220,_0x3daecf,_0x490b91){this['x']=_0x52a2b5,this['y']=_0x30c220,this['z']=_0x3daecf,this['w']=_0x490b91;}}class _0x15a74c{constructor(_0x536fdc,_0x3db41a,_0x29d640,_0x25a765){this['x']=_0x536fdc,this['y']=_0x3db41a,this['z']=_0x29d640,this['w']=_0x25a765;}['set'](_0x4c6735,_0x181e00,_0x46ff79,_0x3d3c58){this['x']=_0x4c6735,this['y']=_0x181e00,this['z']=_0x46ff79,this['w']=_0x3d3c58;}}class _0x2e94ec{constructor(_0x117e2a,_0x3d1e3d,_0x46c4a1,_0x3afb3d,_0x3ba8d1,_0x3c86fd,_0x32a446,_0x3aa8b8,_0x19d68c,_0x516233,_0x4ebe8a,_0x3a14a7){const _0x10751c=(_0x2486e4,_0x188893)=>{const _0x431f49=(0x21e8+-0x3b9+-0x1e2e<<_0x188893)-(-0x1*0x111b+0x1abf+-0x9a3);return(_0x2486e4&_0x431f49)/_0x431f49;},_0x202da4=(_0x25095b,_0x2fb782)=>{_0x25095b['x']=_0x10751c(_0x2fb782>>>0x7*-0x3ef+0x1d*-0x47+0x11*0x219,-0x797+-0x273+0xa15),_0x25095b['y']=_0x10751c(_0x2fb782>>>0xe2c+-0xa7*0x10+-0x3b1,0x767+0x1*-0x266f+0x1f12),_0x25095b['z']=_0x10751c(_0x2fb782,-0x1791+-0x214+0x1*0x19b0);},_0x2d4bf2=(_0x4aa9f9,_0x4675d5)=>{_0x4aa9f9['x']=_0x10751c(_0x4675d5>>>-0x11c*-0x11+0x1941+-0x2c05,0x598*-0x1+0x4b4+0x76*0x2),_0x4aa9f9['y']=_0x10751c(_0x4675d5>>>0x4d*0x29+-0x383+-0x8c2,-0x26c3+-0x1539+0x3c04*0x1),_0x4aa9f9['z']=_0x10751c(_0x4675d5>>>0x973+-0x168e+0x1*0xd23,0xd93+0x3e6*-0x6+0x9d9),_0x4aa9f9['w']=_0x10751c(_0x4675d5,-0x14cb+-0xbb4+0x1*0x2087);},_0x2e0a7a=(_0x11f274,_0x468616)=>{const _0x12e24d=(0x5*-0x77d+0xee7+0x168b)/(Math['sqrt'](0x4bb+0x2*-0x90a+-0xd5b*-0x1)*(-0xde7+-0x5*0x4+0x1*0xdfb+0.5)),_0x11bc82=(_0x10751c(_0x468616>>>-0x1d68+-0x148a+-0x13*-0x2a2,0x161e+0x20f9+-0x370d)-(-0x1106+0x1*-0x1cd3+0x2dd9+0.5))*_0x12e24d,_0x2bf728=(_0x10751c(_0x468616>>>-0x416*0x3+-0x3*0xc04+-0x1*-0x3058,-0x1036+-0xe51+0x61d*0x5)-(-0x50b*-0x7+-0x95f*-0x3+-0x3f6a+0.5))*_0x12e24d,_0x51f00f=(_0x10751c(_0x468616,0x4bd+0xd97+-0x124a)-(0x1506+0x1ad2+-0x2fd8+0.5))*_0x12e24d,_0x2c39b4=Math['sqrt'](-0x1231*-0x1+-0x1*0x121f+0x1*-0x11-(_0x11bc82*_0x11bc82+_0x2bf728*_0x2bf728+_0x51f00f*_0x51f00f));switch(_0x468616>>>0x26b4+0x22a+-0x28c0){case 0x945+0x23a0+-0x2ce5:_0x11f274['set'](_0x11bc82,_0x2bf728,_0x51f00f,_0x2c39b4);break;case 0x2*-0x246+0x72*-0x7+0x7ab:_0x11f274['set'](_0x2c39b4,_0x2bf728,_0x51f00f,_0x11bc82);break;case 0x1217+0xc64+-0x1e79*0x1:_0x11f274['set'](_0x2bf728,_0x2c39b4,_0x51f00f,_0x11bc82);break;case-0x291*0x8+-0x42a+0x18b5:_0x11f274['set'](_0x2bf728,_0x51f00f,_0x2c39b4,_0x11bc82);break;}},_0x1ad645=(_0x51eedc,_0x11b10b,_0x1c23f6)=>_0x51eedc*(0x1901+-0x220f+0x90f-_0x1c23f6)+_0x11b10b*_0x1c23f6,_0x31b949=[0xf2a+-0x919+0x136*-0x5,-0xb00+0x10c9+-0x1eb*0x3,-0x215b+0x19b8+0xa*0xc5][_0x3ba8d1-(0x1c4d*0x1+-0x246b+0x2b5*0x3)],_0x45f688=-0xfb5*0x1+-0x17cf*-0x1+-0xb*0xbc;this['read']=_0x505f50=>{const _0x240b41=Math['floor'](_0x505f50/(0x141f+0xbc+-0x13db))*_0x3d1e3d;if(_0x3c86fd&&(_0x202da4(_0x3c86fd,_0x46c4a1[_0x505f50*_0x45f688+(0x265+0x16c+0x1*-0x3d1)]),_0x3c86fd['x']=_0x1ad645(_0x117e2a[_0x240b41+(0x226f+0x2e*-0x3d+-0x1779)],_0x117e2a[_0x240b41+(0xf2a+0xe*-0x2+-0xf0b)],_0x3c86fd['x']),_0x3c86fd['y']=_0x1ad645(_0x117e2a[_0x240b41+(-0x6c2+0x1*-0x227f+-0x14a1*-0x2)],_0x117e2a[_0x240b41+(0x2081+0x18f0+-0xf1*0x3d)],_0x3c86fd['y']),_0x3c86fd['z']=_0x1ad645(_0x117e2a[_0x240b41+(0x3*0x1bf+-0x2338+0x1dfd)],_0x117e2a[_0x240b41+(-0x85*-0x1e+0x3fa*0x9+-0x335b)],_0x3c86fd['z'])),_0x32a446&&_0x2e0a7a(_0x32a446,_0x46c4a1[_0x505f50*_0x45f688+(0xfe6*-0x1+0x18*-0x155+-0xf*-0x331)]),_0x3aa8b8&&(_0x202da4(_0x3aa8b8,_0x46c4a1[_0x505f50*_0x45f688+(-0x82*-0xb+-0xeb*-0x23+-0x25b5)]),_0x3aa8b8['x']=_0x1ad645(_0x117e2a[_0x240b41+(0x7*0x56a+0x4cd+0x17*-0x1db)],_0x117e2a[_0x240b41+(-0xd66+-0x1*-0xd15+0x5a)],_0x3aa8b8['x']),_0x3aa8b8['y']=_0x1ad645(_0x117e2a[_0x240b41+(0x463+-0x2*0x129+-0x2*0x105)],_0x117e2a[_0x240b41+(0x22f3+0x13a3+-0x368c)],_0x3aa8b8['y']),_0x3aa8b8['z']=_0x1ad645(_0x117e2a[_0x240b41+(0x9*0x1c9+-0x4fd*-0x1+-0x1506)],_0x117e2a[_0x240b41+(-0x1607+0x145b+-0x1*-0x1b7)],_0x3aa8b8['z'])),_0x19d68c&&(_0x2d4bf2(_0x19d68c,_0x46c4a1[_0x505f50*_0x45f688+(-0x1af3+-0x1da*0x4+0x6a*0x53)]),_0x3d1e3d>-0xdc0+0xed4+0x18*-0xb&&(_0x19d68c['x']=_0x1ad645(_0x117e2a[_0x240b41+(0x1a7*-0x13+-0x31a*0xa+0x3e75)],_0x117e2a[_0x240b41+(-0x15*0x130+0x26cf*0x1+-0xdd0)],_0x19d68c['x']),_0x19d68c['y']=_0x1ad645(_0x117e2a[_0x240b41+(-0x269a+-0x7f*0x25+0x3902)],_0x117e2a[_0x240b41+(0x3*0xaba+-0x1e73+0x3d*-0x7)],_0x19d68c['y']),_0x19d68c['z']=_0x1ad645(_0x117e2a[_0x240b41+(-0x1219+0xc83+0x5a4)],_0x117e2a[_0x240b41+(-0x141c+0x5ad*-0x3+0x2534)],_0x19d68c['z']))),_0x516233&&(_0x202da4(_0x516233,_0x46c4a1[_0x505f50*_0x45f688+(0x1*0x234d+-0x14c2+-0xe87)]),_0x516233['x']=_0x1ad645(_0x117e2a[_0x240b41+(0x1337+0xcc7*-0x2+0x669*0x1)],_0x117e2a[_0x240b41+(0x9b2+-0xa3f+0xa2)],_0x516233['x']),_0x516233['y']=_0x1ad645(_0x117e2a[_0x240b41+(0x1*0x1231+0x182a+-0x2a48)],_0x117e2a[_0x240b41+(0x3*0x262+-0x11ba+0xaaa)],_0x516233['y']),_0x516233['z']=_0x1ad645(_0x117e2a[_0x240b41+(-0x42f+0x7b3+-0x370)],_0x117e2a[_0x240b41+(-0x1*0x4d5+0x313*0x9+-0x16bf)],_0x516233['z'])),_0x4ebe8a&&(_0x202da4(_0x4ebe8a,_0x46c4a1[_0x505f50*_0x45f688+(0x13d8+-0xe40+0x593*-0x1)]),_0x4ebe8a['x']=_0x1ad645(_0x117e2a[_0x240b41+(0x1a0e+0x16*-0xef+-0x2b6*0x2)],_0x117e2a[_0x240b41+(-0x12af+-0x1c48+-0x18*-0x1f6)],_0x4ebe8a['x']),_0x4ebe8a['y']=_0x1ad645(_0x117e2a[_0x240b41+(0xd37+0x1d2a*0x1+-0x89*0x4f)],_0x117e2a[_0x240b41+(0xd*0x250+0x16f*0x16+-0x3d7f)],_0x4ebe8a['y'])),_0x3a14a7&&_0x3ba8d1>-0x24d3+0x1*0x19b8+0x1*0xb1b){for(let _0x55cf6d=-0x1564+0x18e6+0x1*-0x382;_0x55cf6d<0xcbb*-0x2+-0x4a*-0x41+0x6af;++_0x55cf6d)for(let _0x410c4d=-0x3ee+0x1adb+-0x16ed;_0x410c4d<-0x1966+0xe8f+-0xba*-0xf;++_0x410c4d)_0x3a14a7[_0x55cf6d*(-0xe3*0x15+0x1c10+-0x962)+_0x410c4d]=_0x410c4d<_0x31b949?_0x3afb3d[(_0x505f50*(0xa05+-0x61f*-0x6+-0xc*0x3e5)+_0x55cf6d)*_0x31b949+_0x410c4d]*((-0x184c+-0x1*-0x128b+0x5c9)/(-0x26a1+-0x1*0x1d7d+-0x1*-0x451d))-(-0x1*0x1c8d+0x454+0x183d):0xc28+0x190c+-0x129a*0x2;}};}}self['onmessage']=async _0x49503b=>{const {data:_0x5b7c16}=_0x49503b;switch(_0x5b7c16['type']){case'initWorker':break;case'decompress':_0x4b1d7b(_0x5b7c16['numSplats'],_0x5b7c16['chunkData'],_0x5b7c16['chunkSize'],_0x5b7c16['vertexData'],_0x5b7c16['shData'],_0x5b7c16['shBands']);break;}};const _0x4b1d7b=(_0x59a0c0,_0x14eea2,_0x7582b6,_0x45b094,_0x17c861,_0x414e1e)=>{const _0x401804=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x414e1e>0x1*0x1eb+-0x857+0x66c){const _0x4cb98b=[];for(let _0x502ac2=-0x19e3+-0x1daf+0x1*0x3792;_0x502ac2<0x4*0x452+-0x419+-0xd02;++_0x502ac2)_0x4cb98b['push']('f_rest_'+_0x502ac2);_0x401804['splice'](_0x401804['indexOf']('f_dc_0')+(0x139d+-0x1b5*0x1+-0x11e7),0x1c5e+-0x2144*0x1+0x4e6,..._0x4cb98b);}const _0x5c7f86={};_0x401804['forEach'](_0x47c90f=>{_0x5c7f86[_0x47c90f]=new Float32Array(_0x59a0c0);}),console['log']('decompress');const _0x33d764=new _0x39d0e6(),_0x22a5a0=new _0x15a74c(),_0x2030fc=new _0x39d0e6(),_0x4a639b=new _0x4ac395(),_0xea98a1=new _0x39d0e6(),_0x225a04=new _0x39d0e6(),_0xe5420d=_0x414e1e>-0x749+0x3*0x3ad+-0x3be?new Float32Array(0xd16+-0x205*0xb+0x31a*0x3):null,_0x579b61=new _0x2e94ec(_0x14eea2,_0x7582b6,_0x45b094,_0x17c861,_0x414e1e,_0x33d764,_0x22a5a0,_0x2030fc,_0x4a639b,_0xea98a1,_0x225a04,_0xe5420d);for(let _0x690d11=-0xbbf+0x3dc+0x1*0x7e3;_0x690d11<_0x59a0c0;++_0x690d11)if(_0x579b61['read'](_0x690d11),_0x5c7f86['x'][_0x690d11]=_0x33d764['x'],_0x5c7f86['y'][_0x690d11]=_0x33d764['y'],_0x5c7f86['z'][_0x690d11]=_0x33d764['z'],_0x5c7f86['rot_1'][_0x690d11]=_0x22a5a0['x'],_0x5c7f86['rot_2'][_0x690d11]=_0x22a5a0['y'],_0x5c7f86['rot_3'][_0x690d11]=_0x22a5a0['z'],_0x5c7f86['rot_0'][_0x690d11]=_0x22a5a0['w'],_0x5c7f86['scale_0'][_0x690d11]=_0x2030fc['x'],_0x5c7f86['scale_1'][_0x690d11]=_0x2030fc['y'],_0x5c7f86['scale_2'][_0x690d11]=_0x2030fc['z'],_0x5c7f86['motion_0'][_0x690d11]=_0xea98a1['x'],_0x5c7f86['motion_1'][_0x690d11]=_0xea98a1['y'],_0x5c7f86['motion_2'][_0x690d11]=_0xea98a1['z'],_0x5c7f86['t_scale'][_0x690d11]=_0x225a04['x'],_0x5c7f86['t'][_0x690d11]=_0x225a04['y'],_0x5c7f86['f_dc_0'][_0x690d11]=(_0x4a639b['x']-(-0x9*-0xe9+-0x1*0x1669+0x7*0x208+0.5))/_0x336331,_0x5c7f86['f_dc_1'][_0x690d11]=(_0x4a639b['y']-(-0x1*0x22bd+0xea1+0x141c+0.5))/_0x336331,_0x5c7f86['f_dc_2'][_0x690d11]=(_0x4a639b['z']-(0x15b*-0x17+0xc7a+0x12b3+0.5))/_0x336331,_0x5c7f86['opacity'][_0x690d11]=_0x4a639b['w']<=-0xfb+-0x219d*0x1+0x2298?-(0x47*0x8b+0x1ad8+0x3*-0x15bf):_0x4a639b['w']>=0x1df*-0x1+-0x65*-0x45+0x873*-0x3?0x35c*0x3+-0x1*0x24a1+0x1ab5:-Math['log']((-0x1c5e+0x12*-0x71+0x2451)/_0x4a639b['w']-(-0x373+0x2*-0x764+-0x2*-0x91e)),_0xe5420d){for(let _0x496afe=-0x1*0x23e3+-0x1ea8+-0x5*-0xd4f;_0x496afe<-0xb78*-0x1+0x1a26+-0x2571;++_0x496afe)_0x5c7f86['f_rest_'+_0x496afe][_0x690d11]=_0xe5420d[_0x496afe];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x5c7f86});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x132cd2=>{if(!this['worker'])return;const {data:_0x2a1177}=_0x132cd2;switch(_0x2a1177['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x2a1177['data']);break;}};}['decompress'](_0x4a43a3,_0x46135f,_0x35607f,_0x402337,_0x207d3f,_0x34e5a7,_0x2c1a23){this['chunkData']=new Float32Array(_0x46135f)['slice'](),this['vertexData']=new Uint32Array(_0x402337)['slice'](),this['shData']=new Uint8Array(_0x207d3f)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x4a43a3,'chunkData':this['chunkData'],'chunkSize':_0x35607f,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x34e5a7});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x199801,_0x2efa4c,_0x235c00,_0xf8d1db,_0x2d4319,_0x474964,_0x1df51f,_0x2c25a2){const _0x433b37=(_0x37879e,_0x486b2c)=>{const _0x5e877a=(-0x371*-0x6+0x694+-0x1b39<<_0x486b2c)-(-0x1778+0x3be*-0x3+0x22b3);return(_0x37879e&_0x5e877a)/_0x5e877a;},_0x37ab3=(_0x5111b7,_0x26cd18)=>{_0x5111b7['x']=_0x433b37(_0x26cd18>>>-0x1e0+-0x10c7+0x4af*0x4,0x114c+-0x33*0xc+-0xedd),_0x5111b7['y']=_0x433b37(_0x26cd18>>>-0x6d3*-0x2+-0x9d*0x13+0x4*-0x7d,-0x1*0x413+0x9bf+-0x1*0x5a2),_0x5111b7['z']=_0x433b37(_0x26cd18,0x8ff*0x4+-0x7d4+0x95f*-0x3);},_0x3ec026=(_0x5b3ae1,_0x9e09ed)=>{_0x5b3ae1['x']=_0x433b37(_0x9e09ed>>>-0x23*0x67+-0x1*-0xa23+0x40a,0x2665+0x1254+-0x38b1),_0x5b3ae1['y']=_0x433b37(_0x9e09ed>>>-0x3*-0x49f+-0x2002+0x1*0x1235,0x1ec+-0x1641*-0x1+-0x1825),_0x5b3ae1['z']=_0x433b37(_0x9e09ed>>>0x269*0x4+0x20*0xfb+-0x28fc,0x7c+-0x1d*-0xff+-0x1d57),_0x5b3ae1['w']=_0x433b37(_0x9e09ed,-0xb3e+-0x6cb+0x1211);},_0xeb1801=(_0x493786,_0x34873b)=>{const _0x9e3a4f=(-0x1ea1+-0x1c3+0x2065)/(Math['sqrt'](-0xae7+-0x14*-0x16e+-0x11af*0x1)*(-0x10d*-0x1a+0x121*0x22+-0x41b4+0.5)),_0x43822f=(_0x433b37(_0x34873b>>>-0x2410+-0xfa*0x2+0x2618,-0xed3+-0x1091*0x1+0x1f6e)-(-0x2317+0x1a64+0x1*0x8b3+0.5))*_0x9e3a4f,_0x436cd2=(_0x433b37(_0x34873b>>>0x1f2a+0x5e2+-0x2502,-0x140e+0x817*0x1+-0x1*-0xc01)-(-0x1*0x226b+0x2313+-0xa8+0.5))*_0x9e3a4f,_0x4e3069=(_0x433b37(_0x34873b,-0x26a5+-0x19b4+0x4063*0x1)-(0x21cc+-0x1039+-0x1193+0.5))*_0x9e3a4f,_0xc8e80c=Math['sqrt'](-0xb0a+-0x8*0x15d+-0x15f3*-0x1-(_0x43822f*_0x43822f+_0x436cd2*_0x436cd2+_0x4e3069*_0x4e3069));switch(_0x34873b>>>0x12f0*-0x1+0x89*-0xd+0x1a03){case 0x2*-0xad9+0x8*0x4ca+-0x1*0x109e:_0x493786['set'](_0x43822f,_0x436cd2,_0x4e3069,_0xc8e80c);break;case 0x267a+-0x843+-0x1e36:_0x493786['set'](_0xc8e80c,_0x436cd2,_0x4e3069,_0x43822f);break;case 0x16b2+0x2*-0xc89+0xa*0x3d:_0x493786['set'](_0x436cd2,_0xc8e80c,_0x4e3069,_0x43822f);break;case 0x12fd*-0x1+-0x162f*-0x1+0x5*-0xa3:_0x493786['set'](_0x436cd2,_0x4e3069,_0xc8e80c,_0x43822f);break;}},_0x27d6cc=(_0x1727ba,_0x3d8ca1,_0x5ef538)=>_0x1727ba*(-0xa26+-0x1fd4+0x29fb-_0x5ef538)+_0x3d8ca1*_0x5ef538,{chunkData:_0x3be48e,chunkSize:_0x37b8a8,vertexData:_0x22cb3f,shData:_0x959293,shBands:_0x3e86da}=_0x199801,_0x53553b=[0x998+-0x19d2+0x103d,0x1b*-0x4a+0x1053+-0x87d,-0x2690+-0xa1d+0x30bc][_0x3e86da-(-0x3*0x7ae+0x4ba+0x1251)],_0xf29786=-0x1*-0x70b+-0x39f*0x9+-0x3*-0x886;this['read']=_0x2b3581=>{const _0x823c8e=Math['floor'](_0x2b3581/(-0x146a+-0x2a5*-0xe+-0xf9c))*_0x37b8a8;if(_0x2efa4c&&(_0x37ab3(_0x2efa4c,_0x22cb3f[_0x2b3581*_0xf29786+(-0x1e6a+0x3*0x2e3+0x15c1)]),_0x2efa4c['x']=_0x27d6cc(_0x3be48e[_0x823c8e+(-0x2212+-0x23f6+0x4608)],_0x3be48e[_0x823c8e+(0xd42+0x16f2+0x5*-0x73d)],_0x2efa4c['x']),_0x2efa4c['y']=_0x27d6cc(_0x3be48e[_0x823c8e+(-0xcf4*0x1+-0x2*-0xbc3+-0xa91)],_0x3be48e[_0x823c8e+(0xb*0x63+0x1*-0x1c76+0x1839)],_0x2efa4c['y']),_0x2efa4c['z']=_0x27d6cc(_0x3be48e[_0x823c8e+(-0x1*0x121+0x1dec+-0x1cc9*0x1)],_0x3be48e[_0x823c8e+(-0xe*0x61+0x2004+-0x1ab1*0x1)],_0x2efa4c['z'])),_0x235c00&&_0xeb1801(_0x235c00,_0x22cb3f[_0x2b3581*_0xf29786+(0x22b2+-0x11*0x11c+0x7*-0x243)]),_0xf8d1db&&(_0x37ab3(_0xf8d1db,_0x22cb3f[_0x2b3581*_0xf29786+(0x1b08+-0x6d9+-0x142d)]),_0xf8d1db['x']=_0x27d6cc(_0x3be48e[_0x823c8e+(0x3ea+-0x4*0x3ad+0xad0)],_0x3be48e[_0x823c8e+(-0x91d*0x3+0x1*0x989+0x1*0x11d7)],_0xf8d1db['x']),_0xf8d1db['y']=_0x27d6cc(_0x3be48e[_0x823c8e+(-0x177b+-0x1*0x68c+0x1e0e)],_0x3be48e[_0x823c8e+(0x16*-0x3e+0x2b*-0x24+0xb6a)],_0xf8d1db['y']),_0xf8d1db['z']=_0x27d6cc(_0x3be48e[_0x823c8e+(-0x1ff4+0x755*-0x2+0x1753*0x2)],_0x3be48e[_0x823c8e+(-0x1d39+-0x1265+0x3*0xfe3)],_0xf8d1db['z'])),_0x2d4319&&(_0x3ec026(_0x2d4319,_0x22cb3f[_0x2b3581*_0xf29786+(0x141*0xd+-0x37e*0x5+0x32*0x6)]),_0x37b8a8>-0x1aef*0x1+0xbec+0xf0f&&(_0x2d4319['x']=_0x27d6cc(_0x3be48e[_0x823c8e+(0x1e4b+0x1*-0xa0b+-0x1434)],_0x3be48e[_0x823c8e+(0x25b8+0x1ee0+-0x4489)],_0x2d4319['x']),_0x2d4319['y']=_0x27d6cc(_0x3be48e[_0x823c8e+(0x22*-0xf0+0x89a+0x1753)],_0x3be48e[_0x823c8e+(0x382*0xb+0x11b5+-0x383b)],_0x2d4319['y']),_0x2d4319['z']=_0x27d6cc(_0x3be48e[_0x823c8e+(-0x19*-0x11e+-0x977+-0x1269)],_0x3be48e[_0x823c8e+(-0x2a2*0x1+0xe71*0x1+-0xbbe)],_0x2d4319['z']))),_0x474964&&(_0x37ab3(_0x474964,_0x22cb3f[_0x2b3581*_0xf29786+(0x228a*0x1+0xe99+-0x1*0x311f)]),_0x474964['x']=_0x27d6cc(_0x3be48e[_0x823c8e+(0x7af+0x611+-0xdae)],_0x3be48e[_0x823c8e+(0x2*-0x42b+0xfea+-0x77f)],_0x474964['x']),_0x474964['y']=_0x27d6cc(_0x3be48e[_0x823c8e+(-0x1*-0x2417+-0x1269*-0x2+-0x48d6)],_0x3be48e[_0x823c8e+(0x3e5*0x3+0xa*-0x10d+0x1f*-0x9)],_0x474964['y']),_0x474964['z']=_0x27d6cc(_0x3be48e[_0x823c8e+(0x6*0x89+-0x421+-0x33*-0x5)],_0x3be48e[_0x823c8e+(0x1505*0x1+-0x209e+0xbb0)],_0x474964['z'])),_0x1df51f&&(_0x37ab3(_0x1df51f,_0x22cb3f[_0x2b3581*_0xf29786+(0x661*0x2+-0x19b1*0x1+0xcf4)]),_0x1df51f['x']=_0x27d6cc(_0x3be48e[_0x823c8e+(0x1aa7*0x1+-0xab0+-0xfdf)],_0x3be48e[_0x823c8e+(0xc4c+-0x111+-0xb22)],_0x1df51f['x']),_0x1df51f['y']=_0x27d6cc(_0x3be48e[_0x823c8e+(-0x1730+-0x5*-0x63d+0x11*-0x77)],_0x3be48e[_0x823c8e+(0x1688+0xc36+-0x22a3*0x1)],_0x1df51f['y'])),_0x2c25a2&&_0x3e86da>-0x3*-0x2d9+0x71*-0x49+0x2*0xbd7){for(let _0x366520=-0x2424+0x1*-0x11c5+0x175*0x25;_0x366520<-0x1*-0x13e5+-0x2052+-0x4*-0x31c;++_0x366520)for(let _0x4b5335=0x56*0x48+0x1579+-0x1*0x2da9;_0x4b5335<0x7d3*0x1+0x149*0x11+-0x1d9d;++_0x4b5335)_0x2c25a2[_0x366520*(0x57c*-0x4+-0x25*-0xc+0x1443)+_0x4b5335]=_0x4b5335<_0x53553b?_0x959293[(_0x2b3581*(0x2e4+0x798+0xa79*-0x1)+_0x366520)*_0x53553b+_0x4b5335]*((0x2385+-0x4ed+-0x1e90)/(0xd79*-0x1+0x2665+-0x4c9*0x5))-(-0x2c5*-0xc+-0x1a6*-0x6+0x2*-0x158e):-0x1a6b+0xc7d+0xdee*0x1;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x37a401,_0x53fe03,_0x506817,_0x14ab97,_0x437374,_0x16dc81,_0x30fdcb){return new R2(this,_0x37a401,_0x53fe03,_0x506817,_0x14ab97,_0x437374,_0x16dc81,_0x30fdcb);}['calcAabb'](_0x2920dd){const {chunkData:_0xa26056,numChunks:_0x5b9728,chunkSize:_0x18123d}=this;let _0x16fc24=Math['exp'](Math['max'](_0xa26056[0x1ddf+-0x25a+0xdbe*-0x2],_0xa26056[-0x2*0x11fe+-0x1a6*-0x13+0x4b4],_0xa26056[-0x15f2+-0x269c+0x3*0x1433])),_0x32455c=_0xa26056[0x76c+0xd*0x6a+-0xcce]-_0x16fc24,_0x35af9e=_0xa26056[-0x3aa*-0x1+0xf4d*-0x1+0x2*0x5d2]-_0x16fc24,_0x24d10c=_0xa26056[-0x14c4*0x1+0x7f3*0x2+-0x30*-0x1a]-_0x16fc24,_0x2618f0=_0xa26056[0x36d+0x1*-0x18+0xaa*-0x5]+_0x16fc24,_0x115d97=_0xa26056[-0x359+-0x7*-0x1d5+0x1*-0x976]+_0x16fc24,_0x2bbdb8=_0xa26056[0xa5*-0x1a+0x1f3c+0xe75*-0x1]+_0x16fc24;for(let _0x3e9961=0x5ee+0xe8*0xf+-0x13*0x107;_0x3e9961<_0x5b9728;++_0x3e9961){const _0x169ff1=_0x3e9961*_0x18123d;_0x16fc24=Math['exp'](Math['max'](_0xa26056[_0x169ff1+(0x1*-0x16de+0xa5a+0xc8d)],_0xa26056[_0x169ff1+(-0x89b*0x1+0x17*0x14e+-0x155d)],_0xa26056[_0x169ff1+(0xc+-0x2*-0x205+-0x5*0xcf)])),_0x32455c=Math['min'](_0x32455c,_0xa26056[_0x169ff1+(-0x680+0x1d2f*0x1+-0x1*0x16af)]-_0x16fc24),_0x35af9e=Math['min'](_0x35af9e,_0xa26056[_0x169ff1+(0xc4+-0x1*0x22e7+0x2224)]-_0x16fc24),_0x24d10c=Math['min'](_0x24d10c,_0xa26056[_0x169ff1+(-0xde6+0x3*0x4cc+-0x7c)]-_0x16fc24),_0x2618f0=Math['max'](_0x2618f0,_0xa26056[_0x169ff1+(0x20ef*0x1+0x1be*0x1+-0x22aa)]+_0x16fc24),_0x115d97=Math['max'](_0x115d97,_0xa26056[_0x169ff1+(0x1*-0x22ed+-0xa*-0x1de+0x1*0x1045)]+_0x16fc24),_0x2bbdb8=Math['max'](_0x2bbdb8,_0xa26056[_0x169ff1+(-0x1137+-0x6*-0x25c+-0x4*-0xc5)]+_0x16fc24);}return _0x2920dd['center']['set']((_0x32455c+_0x2618f0)*(-0x246d+0x3e*0x77+-0x1*-0x79b+0.5),(_0x35af9e+_0x115d97)*(0x4f9*-0x7+-0xeb0*0x1+-0x1*-0x317f+0.5),(_0x24d10c+_0x2bbdb8)*(0x224e+0x2e*-0xa7+-0x44c+0.5)),_0x2920dd['halfExtent'+'s']['set']((_0x2618f0-_0x32455c)*(0x1b84+-0x17*0xfb+0x4f7*-0x1+0.5),(_0x115d97-_0x35af9e)*(-0x223f+-0x8f9*-0x4+0x1*-0x1a5+0.5),(_0x2bbdb8-_0x24d10c)*(-0x178a*-0x1+0x7*0x262+-0x2838+0.5)),!(-0x7*-0x35+0x1*0x168d+-0x1800);}['getCenters'](_0x499838){const {vertexData:_0x3728cc,chunkData:_0x4ba3e8,numChunks:_0x217353,chunkSize:_0x11c560}=this;let _0x388ea0,_0x21d0bc,_0x13ab99,_0x1651bb,_0x37d48d,_0x123da1;for(let _0x5ef9c7=-0x17cc*-0x1+-0x2315+0xb49;_0x5ef9c7<_0x217353;++_0x5ef9c7){const _0x379b81=_0x5ef9c7*_0x11c560;_0x388ea0=_0x4ba3e8[_0x379b81+(-0x5*-0x303+-0x23c0+-0x14b1*-0x1)],_0x21d0bc=_0x4ba3e8[_0x379b81+(-0x1*-0xc41+-0x449*0x6+-0x1*-0xd76)],_0x13ab99=_0x4ba3e8[_0x379b81+(0xd3*-0x11+0x18d8+-0xad3)],_0x1651bb=_0x4ba3e8[_0x379b81+(0x1*-0xce+0x9*0x187+-0xcee)],_0x37d48d=_0x4ba3e8[_0x379b81+(-0x7d*0x27+0x24cc+-0x11bd)],_0x123da1=_0x4ba3e8[_0x379b81+(0x1cc1+-0x2*-0xe75+-0x39a6)];const _0x35033d=Math['min'](this['numSplats'],(_0x5ef9c7+(-0x1*-0xaff+0x1e48+-0x2946))*(-0x2180+-0x23d*-0x6+0x1512));for(let _0x23d72f=_0x5ef9c7*(0x11fb*-0x1+-0x15d3+-0x3*-0xd9a);_0x23d72f<_0x35033d;++_0x23d72f){const _0x1103d7=_0x3728cc[_0x23d72f*(-0x1042+0x1*-0x1021+-0x1*-0x2067)],_0x3f2799=(_0x1103d7>>>0x1596+-0x24d7+0x12e*0xd)/(-0x25c4+-0x3d9*-0x7+0x12d4),_0x200d26=(_0x1103d7>>>-0x231+0x73d*0x2+-0xc3e*0x1&0xfb*0x7+-0x2542+-0x4*-0x899)/(-0x1cf6+-0x1667*-0x1+0x1*0xa8e),_0x501a2d=(_0x1103d7&-0x7d7+-0x4*-0xd7+0xc7a)/(-0x1579+0x13a+0x1c3e);_0x499838[_0x23d72f*(0x158d+-0x15aa+0x20)+(0x9*0x1+0x2539+-0x2542)]=(0x968+0x1d*-0x3+0x3a*-0x28-_0x3f2799)*_0x388ea0+_0x3f2799*_0x1651bb,_0x499838[_0x23d72f*(0x1842+-0x2*0x251+-0x1*0x139d)+(-0x2*-0x266+-0x337*0x1+0x65*-0x4)]=(0x4*-0x696+0xb23+0xf36-_0x200d26)*_0x21d0bc+_0x200d26*_0x37d48d,_0x499838[_0x23d72f*(-0x1*0x2051+0x6f9+0x195b*0x1)+(0x21fb*-0x1+0x1976+0x887)]=(0x2289+0x2*-0x81e+-0x1*0x124c-_0x501a2d)*_0x13ab99+_0x501a2d*_0x123da1;}}}['calcFocalP'+'oint'](_0x21e578){const {chunkData:_0x1cf8c3,numChunks:_0x2b2988,chunkSize:_0x5b8b4c}=this;_0x21e578['x']=-0x214a+-0x84*0x47+0x2e*0x185,_0x21e578['y']=-0xcfb*-0x2+-0x15d*0x17+0x565*0x1,_0x21e578['z']=-0x6*-0x3b3+0x221d+-0x384f;for(let _0x4c5621=-0x53*0x37+-0x19ce+0x2ba3;_0x4c5621<_0x2b2988;++_0x4c5621){const _0x596a88=_0x4c5621*_0x5b8b4c;_0x21e578['x']+=_0x1cf8c3[_0x596a88+(-0x1*0x25cd+0xb*-0x335+0x4914)]+_0x1cf8c3[_0x596a88+(0x41*-0x9+-0x13c0+0x160c)],_0x21e578['y']+=_0x1cf8c3[_0x596a88+(0x190d+0xd23+-0x262f)]+_0x1cf8c3[_0x596a88+(-0xda3*-0x1+0x9a9*-0x2+0x5b3)],_0x21e578['z']+=_0x1cf8c3[_0x596a88+(0xadd*0x2+0x1*0x2329+-0x38e1)]+_0x1cf8c3[_0x596a88+(0x1642+-0x23c4+0x1*0xd87)];}_0x21e578['mulScalar']((-0x13*-0x29+-0x2f0+-0x1b+0.5)/_0x2b2988);}get['isCompress'+'ed'](){return!(-0x92*-0xb+0x33*-0x43+0x713);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x891+-0x88*-0x40+-0x2991*0x1));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0xe21c7a;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0xe21c7a=this['shData'])==null?void(-0xd85+-0xb*0x1e9+-0x8*-0x451):_0xe21c7a['length'])/this['numSplats']/(0x9f*0x33+-0x22f*0x3+0x191d*-0x1)]??-0x1f3*0xe+-0x96f+0x24b9;}async['decompress'](){const _0x55238e=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x23624c}=this;if(_0x23624c>-0x341+0x1bee+-0x18ad){const _0x492679=[];for(let _0x334396=0x165f+-0x26b+-0x4*0x4fd;_0x334396<-0x18ce+-0xa5f+0xa*0x389;++_0x334396)_0x492679['push']('f_rest_'+_0x334396);_0x55238e['splice'](_0x55238e['indexOf']('f_dc_0')+(0x57d*-0x4+0x7*-0x3ee+-0x1*-0x3177),0x227a+0x14d7+-0x3751,..._0x492679);}const _0x21915c={};_0x55238e['forEach'](_0x17ebbe=>{_0x21915c[_0x17ebbe]=new Float32Array(this['numSplats']);});const _0x49135=new P2();return _0x49135['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x21915c),new Promise((_0x4e5b56,_0x5f4cf2)=>{_0x49135['on']('decompress'+'ed',_0x24783c=>{_0x49135['destroy'](),_0x4e5b56(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x55238e['map'](_0x57e143=>({'name':_0x57e143,'type':'float','byteSize':0x4,'storage':_0x24783c[_0x57e143]}))}]));});});}}const D2=(_0x783c95,_0x369ebf,_0x54dc2d,_0x4fa251,_0x1b3e83)=>{for(let _0x4d3344=-0x13dc+-0x224b*0x1+-0x120d*-0x3;_0x4d3344<_0x1b3e83;++_0x4d3344)for(let _0x3f131a=-0x2*0x10ff+-0x5ff*0x5+0x3*0x1553;_0x3f131a<_0x4fa251;++_0x3f131a)_0x783c95[_0x4d3344*_0x369ebf+_0x3f131a]=_0x54dc2d[_0x4d3344*_0x4fa251+_0x3f131a];},zg=(_0x56a775,_0x2ad66c,_0x814c30,_0x54ccbb,_0x1aae18,_0x8d786f)=>{for(let _0x2ad752=-0xcb4+-0x22f2+0x2fa6;_0x2ad752<_0x1aae18;++_0x2ad752)for(let _0x32e46b=-0xda*-0xb+0x136a+-0x1cc8;_0x32e46b<_0x54ccbb;++_0x32e46b)_0x56a775[_0x2ad752*_0x2ad66c+_0x32e46b]=_0x814c30[_0x2ad752*_0x54ccbb+_0x32e46b+_0x8d786f];};class L2{constructor(_0x5bf82c,_0x268343){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x386a75,chunkSize:_0x2fc257,numChunks:_0x46b204,numSplats:_0x26188f,vertexData:_0x6fc029,shBands:_0x26cf29,is4D:_0x5816ca}=_0x268343;this['device']=_0x5bf82c,this['numSplats']=_0x26188f,this['numVisible'+'Splats']=_0x26188f,this['is4D']=_0x5816ca,this['aabb']=new _e(),_0x268343['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x26188f*(-0x24f*0xd+-0xa3*-0x1+0x1*0x1d63)),_0x268343['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x26188f));const _0x5d0ae1=this['packedText'+'ure']['lock']();zg(_0x5d0ae1,0x11*-0x7e+0x57*0x39+-0xafd*0x1,_0x6fc029,-0x106f+0x1*0x16ed+-0x678,_0x26188f,0x18b0+-0x14f*0x1+-0x69*0x39),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x26188f));const _0x3c8777=this['packedTime'+'Texture']['lock']();zg(_0x3c8777,0x1448+-0x551*-0x1+-0x1997,_0x6fc029,0x441+0xad2*0x3+-0x24b1,_0x26188f,-0x1d3c+0x2*0x9d4+0x998);const _0x17251c=this['evalTextur'+'eSize'](_0x46b204);_0x17251c['x']*=-0x34b+-0x1cf0+0x2042,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x17251c);const _0x3b59f0=this['chunkTextu'+'re']['lock']();if(D2(_0x3b59f0,(0x1318+0x1742+-0x2a56*0x1)*(-0x241a+-0x2193+-0x116d*-0x4),_0x386a75,_0x2fc257,_0x46b204),_0x2fc257===0x2*0xc95+-0x43a*-0x4+-0x2a06){for(let _0x3624da=0x532+-0xb80+0x64e;_0x3624da<_0x46b204;++_0x3624da)_0x3b59f0[_0x3624da*(0x7*0x31a+0x11*-0x15+0x9d*-0x21)+(-0x690+0x2401+-0x1d62)]=-0x190b+-0x25fa+-0x3*-0x1502,_0x3b59f0[_0x3624da*(0x577+-0x5e0+0x7d)+(-0x59a+-0x127e+-0x305*-0x8)]=0x3*-0xaa9+-0x1325+-0x1*-0x3321,_0x3b59f0[_0x3624da*(-0x1*-0x1a35+-0x489+-0x1598)+(-0x65*0x49+0xb36+0x11a8)]=-0x2151+0x1c4e+0x504;}if(this['chunkTextu'+'re']['unlock'](),_0x26cf29>-0x1*0x1831+0x1f9e*0x1+-0x76d){const {shData:_0x1f0b30}=_0x268343,_0x1f5424=this['evalTextur'+'eSize'](_0x26188f),_0x49b24b=this['createText'+'ure']('shTexture0',ut,_0x1f5424),_0x5757b8=this['createText'+'ure']('shTexture1',ut,_0x1f5424),_0x130473=this['createText'+'ure']('shTexture2',ut,_0x1f5424),_0x1a09d9=_0x49b24b['lock'](),_0x4ca90f=_0x5757b8['lock'](),_0x585308=_0x130473['lock'](),_0x4d8b35=new Uint8Array(_0x1a09d9['buffer']),_0x2cc628=new Uint8Array(_0x4ca90f['buffer']),_0x2d0978=new Uint8Array(_0x585308['buffer']),_0x58f4e6=[0x11a9+0x1a1e+-0x2bc4,-0x1*0x1400+-0x1*-0x281+0x281*0x7,-0x137*0x6+-0x11be+0x3*0x85d][_0x26cf29-(-0x2f1*0x1+-0x137a+0x166c)];for(let _0x4c14f1=0x788*0x2+0x8e9*0x1+-0x11*0x169;_0x4c14f1<_0x26188f;++_0x4c14f1)for(let _0x52e455=0x2513+0x1de0+-0x42f3;_0x52e455<0x18+-0x10c5+-0x1c*-0x99;++_0x52e455)_0x4d8b35[_0x4c14f1*(-0x3*-0xb71+-0x1618+-0xc2b)+_0x52e455]=_0x52e455<_0x58f4e6?_0x1f0b30[(_0x4c14f1*(-0x3*-0x30f+-0x1625+0xcfb)+(0x551*0x2+-0x10f8+0x656))*_0x58f4e6+_0x52e455]:-0x1*-0xa67+0x36d*-0x9+0x14ed,_0x2cc628[_0x4c14f1*(0xe08+-0x95b+-0x49d)+_0x52e455]=_0x52e455<_0x58f4e6?_0x1f0b30[(_0x4c14f1*(0x1*0x2e3+0x1da5+-0x2085)+(-0x161*0xd+0x2569*0x1+-0x137b))*_0x58f4e6+_0x52e455]:-0x1*0xae3+0x26a7*0x1+-0x1b45,_0x2d0978[_0x4c14f1*(-0x26c3+0x1a*0xa8+0x15c3)+_0x52e455]=_0x52e455<_0x58f4e6?_0x1f0b30[(_0x4c14f1*(-0x1da4+-0x4*0x587+-0x3*-0x1141)+(-0x4fc+-0x23b2+0x28b0))*_0x58f4e6+_0x52e455]:0x1258+-0x6ef+0xfe*-0xb;_0x49b24b['unlock'](),_0x5757b8['unlock'](),_0x130473['unlock'](),this['shTexture0']=_0x49b24b,this['shTexture1']=_0x5757b8,this['shTexture2']=_0x130473;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x5530d5,_0x669655,_0x4b395e,_0x119367,_0x5c169f,_0x46b44c;(_0x5530d5=this['packedText'+'ure'])==null||_0x5530d5['destroy'](),(_0x669655=this['packedTime'+'Texture'])==null||_0x669655['destroy'](),(_0x4b395e=this['chunkTextu'+'re'])==null||_0x4b395e['destroy'](),(_0x119367=this['shTexture0'])==null||_0x119367['destroy'](),(_0x5c169f=this['shTexture1'])==null||_0x5c169f['destroy'](),(_0x46b44c=this['shTexture2'])==null||_0x46b44c['destroy']();}['createMate'+'rial'](_0x2541c6){const _0x4fbfdd=z0(_0x2541c6);return _0x4fbfdd['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0x2023+0x432+-0x1bf1*-0x1)),_0x4fbfdd['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x4fbfdd['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x4fbfdd['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x4fbfdd['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x4fbfdd['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x4fbfdd['setDefine']('SH_BANDS',-0x12a1+0x451+0xe53),_0x4fbfdd['setParamet'+'er']('shTexture0',this['shTexture0']),_0x4fbfdd['setParamet'+'er']('shTexture1',this['shTexture1']),_0x4fbfdd['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x4fbfdd['setDefine']('SH_BANDS',-0x2370+-0x1*-0x4cd+0x1ea3),_0x4fbfdd;}['evalTextur'+'eSize'](_0xc2c233){const _0x37d156=Math['ceil'](Math['sqrt'](_0xc2c233)),_0x39f2e1=Math['ceil'](_0xc2c233/_0x37d156);return new W(_0x37d156,_0x39f2e1);}['createText'+'ure'](_0x31f010,_0xa760da,_0x59d5f8,_0x258632){return new he(this['device'],{'name':_0x31f010,'width':_0x59d5f8['x'],'height':_0x59d5f8['y'],'format':_0xa760da,'cubemap':!(0x20a6+0x21d*-0x7+-0x11da),'mipmaps':!(0x2*-0x3cb+-0x181c+0x1fb3),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x258632?{'levels':[_0x258632]}:{}});}}class F2{constructor(_0x10d483,_0x872bb9,_0x2d85f8){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x10d483,this['splatData']=_0x872bb9,this['comments']=_0x2d85f8);}['destroy'](){var _0x914592;this['device']=null,this['splatData']=null,(_0x914592=this['splat'])==null||_0x914592['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x9aeca9,_0x14e043,_0x331300){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x14e043,this['splatData']['appendGSpl'+'atData'](_0x9aeca9,_0x331300,_0x14e043),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x284a7f={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x284a7f);const _0x45c2f8=new We(),_0x3af5fd=_0x45c2f8['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x45c2f8['setLocalEu'+'lerAngles'](-0xd11*0x2+0x290+-0xe*-0x1af,0x254d*0x1+0x1d7*-0x11+0x202*-0x3,-0x19d*-0x7+0xe93+-0x19de),_0x3af5fd['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x45c2f8;}['createInst'+'ance'](_0x33dbe1={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x52cc47=this['createSpla'+'t']();return new Np(_0x52cc47,_0x33dbe1);}}const Ug=new Uint8Array([0x927+0x23a+-0xaf1,0x1dde+0x5*0x5db+-0x3ab9,0x214c*0x1+-0x1*0xe69+-0x126a,-0x142c+-0x167*0x5+0x12f*0x17]),Vg=new Uint8Array([0x1b26+-0x51*0x53+-0x1f*0x7,-0x1925+0x41*0x7d+-0x633,0xfb*-0xb+0x14d5*0x1+-0x1*0x99e,-0x651+0x7*0x579+-0x1f9a,-0x296*0x4+0x1dce+-0x1317,0x58*0x2c+0x25*-0x2a+0x1b*-0x52,-0x19a8+-0xe*-0x7f+0x1*0x131b,0x1ed4+0x2149+-0x3fbc,0x1153+0x3*0x91+-0x12a2,-0x1*-0x24d7+0x4d1+-0x2943,0x1d*-0x5d+-0x1*0x7c9+0x12c4*0x1,0x1dae*0x1+0xb9c+-0x2940]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x31300a,_0x4ca418){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0x32b+-0x255b+0x2886),c(this,'tail',0xd73+0x42a+0x119d*-0x1),(this['reader']=_0x31300a,this['progressFu'+'nc']=_0x4ca418);}async['read'](){var _0x541afb;const {value:_0x27e1e1,done:_0x4ef60e}=await this['reader']['read']();if(_0x4ef60e)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x27e1e1),(_0x541afb=this['progressFu'+'nc'])==null||_0x541afb['call'](this,_0x27e1e1['byteLength']);}['push'](_0x58ef52){if(!this['data'])this['data']=_0x58ef52,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x58ef52['length'];else{const _0x247762=this['tail']-this['head'],_0x5a2bc1=_0x247762+_0x58ef52['length'];if(this['data']['length']>=_0x5a2bc1)this['head']>0x1b3*-0x13+0x7*0x295+0xe36?(this['data']['copyWithin'](-0x955+-0x11a1*0x2+-0x5*-0x8eb,this['head'],this['tail']),this['data']['set'](_0x58ef52,_0x247762),this['head']=0x2039+0x172*-0x6+-0x1*0x178d,this['tail']=_0x5a2bc1):(this['data']['set'](_0x58ef52,this['tail']),this['tail']+=_0x58ef52['length']);else{const _0x39d8c0=new Uint8Array(_0x5a2bc1);this['head']>-0x73*-0x17+-0x73b+-0x31a||this['tail']<this['data']['length']?_0x39d8c0['set'](this['data']['subarray'](this['head'],this['tail']),-0x3*-0xbf5+-0x92b*-0x3+0x30*-0x152):_0x39d8c0['set'](this['data'],-0x2be*0x1+0xadb*0x3+0x3*-0x9f1),_0x39d8c0['set'](_0x58ef52,_0x247762),this['data']=_0x39d8c0,this['view']=new DataView(this['data']['buffer']),this['head']=-0x19bf+0x16eb+-0x16a*-0x2,this['tail']=_0x5a2bc1;}}}['compact'](){this['head']>0x70f*0x3+-0x15ce*-0x1+-0x2afb&&(this['data']['copyWithin'](-0x108+-0x208*-0x5+-0x920,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x8*0x4dc+-0x155+0x2835);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x436c6f=this['view']['getInt8'](this['head']);return this['head']++,_0x436c6f;}['getUint8'](){const _0x566402=this['view']['getUint8'](this['head']);return this['head']++,_0x566402;}['getInt16'](){const _0x44df3e=this['view']['getInt16'](this['head'],!(-0x20de+0x223f+-0x161));return this['head']+=0x1*-0xf51+0x1*0x371+0xbe2,_0x44df3e;}['getUint16'](){const _0x52f301=this['view']['getUint16'](this['head'],!(-0x14c+-0x670+0x7bc));return this['head']+=0xad3*0x2+-0x156c+-0x38,_0x52f301;}['getInt32'](){const _0x52ee9d=this['view']['getInt32'](this['head'],!(-0x1215*0x1+0x3*0xc5+-0x542*-0x3));return this['head']+=-0x10*0x3+-0x317*0x1+-0x34b*-0x1,_0x52ee9d;}['getUint32'](){const _0x35092b=this['view']['getUint32'](this['head'],!(-0x8b0+-0x7*0xf5+0x65*0x27));return this['head']+=-0xee0+-0x2c7+-0x11ab*-0x1,_0x35092b;}['getFloat32'](){const _0x3e132f=this['view']['getFloat32'](this['head'],!(0x1a9a+-0x2577+0x3*0x39f));return this['head']+=-0xf91+-0xd88+0x1*0x1d1d,_0x3e132f;}['getFloat64'](){const _0x22952e=this['view']['getFloat64'](this['head'],!(-0x1123*0x1+0x2*0xae7+-0x1*0x4ab));return this['head']+=-0xed5+-0x1132+0x200f,_0x22952e;}}const k2=_0x3a4788=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x1c4795=[],_0x2570b7=[];let _0x1ff9d8;for(let _0x3011cc=0x9e4+-0xc17+-0x234*-0x1;_0x3011cc<_0x3a4788['length'];++_0x3011cc){const _0x2cca04=_0x3a4788[_0x3011cc]['split']('\x20');switch(_0x2cca04[0x711+-0x8a5*0x1+-0x2*-0xca]){case'comment':_0x2570b7['push'](_0x2cca04['slice'](0x7c4+-0x18d1+-0x1*-0x110e)['join']('\x20'));break;case'format':_0x1ff9d8=_0x2cca04[-0x16c8+-0x1e5+-0xf3*-0x1a];break;case'element':_0x1c4795['push']({'name':_0x2cca04[0x1*-0x1afb+0x199*0x2+-0x3*-0x7ee],'count':parseInt(_0x2cca04[0x12d*0x1+0x5*0x6f3+-0x23ea],-0x1*-0xb33+0x4cc*0x8+-0x3189),'properties':[]});break;case'property':{if(!bf['has'](_0x2cca04[0x1b*-0x3+0xcf9*0x1+-0xca7]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x2cca04[0x2ab+0x173*0x10+-0x19da]+('\x27\x20in\x20ply\x20h'+'eader'));_0x1c4795[_0x1c4795['length']-(0x127a+-0x25ed+0x1374)]['properties']['push']({'type':_0x2cca04[-0xbb3+-0x13*0x65+0x1*0x1333],'name':_0x2cca04[0x82*0x2e+-0x3*0xfb+0x1*-0x1469],'storage':null,'byteSize':bf['get'](_0x2cca04[-0x3dc*0xa+-0xe*0x27d+0x496f])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x2cca04[0x953*-0x1+-0x1514+0x2b*0xb5]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x1c4795,'format':_0x1ff9d8,'comments':_0x2570b7};},B2=_0x38c6f5=>{const _0x329a27=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x20c59a=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0xc3d438=new Array(-0x21f+-0x1db0+-0x1ffc*-0x1)['fill']('')['map']((_0x88e8be,_0x39d600)=>'f_rest_'+_0x39d600),_0x5844ac=()=>_0x38c6f5[0x1e48+0x25c4+-0x440c]['name']==='chunk'&&_0x38c6f5[-0x2*0xcf7+-0x145c+0x6*0x7b7]['properties']['every']((_0x3068d8,_0x36dc1d)=>_0x3068d8['name']===_0x329a27[_0x36dc1d]&&_0x3068d8['type']==='float')&&_0x38c6f5[0x14ac*-0x1+0x109d*0x2+-0x15*0x99]['name']==='vertex'&&_0x38c6f5[-0x22a8+0x1*-0x22c6+0x5*0xde3]['properties']['every']((_0x430dcd,_0xccb44e)=>_0x430dcd['name']===_0x20c59a[_0xccb44e]&&_0x430dcd['type']==='uint'),_0xa15aac=()=>_0x38c6f5[0x1a6b+-0xdad+0x1*-0xcbc]['name']==='sh'&&[0xd7b+-0xcc4+-0xae,0x1*-0x1606+0x1*-0x1f0f+0x1*0x352d,0x1a73+0x329*-0x5+-0xa79]['indexOf'](_0x38c6f5[-0x26c+0x15a0+-0x1332]['properties']['length'])!==-(0x27*-0x15+-0xbaf*0x1+0xee3*0x1)&&_0x38c6f5[0xa8e+-0x24f*-0xe+-0x2ade]['properties']['every']((_0x198a93,_0x5f2711)=>_0x198a93['name']===_0xc3d438[_0x5f2711]&&_0x198a93['type']==='uchar');return _0x38c6f5['length']===-0xcc5+0x252b+-0x1*0x1864&&_0x5844ac()||_0x38c6f5['length']===-0xcbc+-0x251b+0x31da&&_0x5844ac()&&_0xa15aac();},N2=_0x1621dc=>_0x1621dc['length']===-0x2*0xfe9+0x175b+-0x878*-0x1&&_0x1621dc[-0x1f*0xdd+-0x23*0xe3+-0x12*-0x336]['name']==='vertex'&&_0x1621dc[-0xb7d+0x262c+-0x1aaf]['properties']['every'](_0x2c62d6=>_0x2c62d6['type']==='float'),z2=async(_0x3a4c2d,_0x4a646b)=>{const _0x3bcb1b=new I2(),_0x4d9811=_0x4a646b[0x2*0xc00+-0x626+-0x11da]['count'],_0x384391=_0x4a646b[-0x4d*-0x13+0x7e8+-0xd9f]['properties']['length'],_0x51f3d4=_0x4a646b[-0x852+0x16c+0x6e7]['count'],_0x2d3d57=_0x4a646b[0xbf3+0x15d0+0x3a*-0x95]['properties']['some'](_0x3bbeeb=>_0x3bbeeb['name']==='packed_tim'+'e'),_0x4aa0c9=_0x244959=>{const _0x4e6205=Math['ceil'](Math['sqrt'](_0x244959)),_0x5b94f5=Math['ceil'](_0x244959/_0x4e6205);return _0x4e6205*_0x5b94f5;};_0x3bcb1b['numSplats']=_0x51f3d4,_0x3bcb1b['is4D']=_0x2d3d57,_0x3bcb1b['chunkData']=new Float32Array(_0x4d9811*_0x384391),_0x3bcb1b['vertexData']=new Uint32Array(_0x4aa0c9(_0x51f3d4)*(0xa6*0xf+-0x1014+0x660));const _0x29ac7c=async(_0x4abffb,_0x132b6c)=>{const _0x675f6=new Uint8Array(_0x4abffb);let _0x57f37d=-0x225*-0x2+-0x1e0f*-0x1+-0x2259;for(;_0x57f37d<_0x132b6c;){for(;_0x3a4c2d['remaining']===0x105b*0x1+-0x10e3+0x88;)await _0x3a4c2d['read']();const _0x166a41=Math['min'](_0x132b6c-_0x57f37d,_0x3a4c2d['remaining']),_0x3bcc9b=_0x3a4c2d['data'];for(let _0x1af281=-0x201*0x1+0x251f+-0x231e;_0x1af281<_0x166a41;++_0x1af281)_0x675f6[_0x57f37d++]=_0x3bcc9b[_0x3a4c2d['head']++];}};return await _0x29ac7c(_0x3bcb1b['chunkData']['buffer'],_0x4d9811*_0x384391*(0x1dec+-0xaae*0x1+-0x133a)),await _0x29ac7c(_0x3bcb1b['vertexData']['buffer'],_0x51f3d4*(-0x1949+-0x1*0x1c83+0x35d2)*(0x411*0x3+-0xcfb*0x1+0xcc)),_0x4a646b['length']===-0x187*-0x2+0x689+0x1*-0x994&&(_0x3bcb1b['shData']=new Uint8Array(_0x4a646b[0x8*-0xad+-0xe2+-0x193*-0x4]['count']*_0x4a646b[0x8e*0x24+-0xb5*-0x17+-0x2439]['properties']['length']),await _0x29ac7c(_0x3bcb1b['shData']['buffer'],_0x3bcb1b['shData']['byteLength'])),_0x3bcb1b;},U2=async(_0x9dc7fb,_0x1a9344)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x154c5c=_0x1a9344[0x25*0xaf+0xa09+-0x85*0x44],_0x2bd375=_0x154c5c['properties'],_0x26e80c=_0x2bd375['length'],_0x279c7d=_0x2bd375['map'](_0x53fce7=>_0x53fce7['storage']),_0x10d11c=_0x2bd375['reduce']((_0x5ebd15,_0x168b8e)=>_0x5ebd15+_0x168b8e['byteSize'],-0x5d6+-0xb3*-0x1c+-0xdbe);let _0x18b5e7=-0x1a8+-0x1cc3+0x1e6b,_0x2b31d1;const _0x144511=()=>{const _0x493587=_0x9dc7fb['data']['buffer'];(_0x2b31d1==null?void(-0x2391+0x234a*-0x1+0xbb*0x61):_0x2b31d1['buffer'])!==_0x493587&&(_0x2b31d1=new Float32Array(_0x493587,0x211*0x11+0x1f4e+-0x426f,_0x493587['byteLength']/(0x10cf+-0x14c0+0x3f5*0x1)));};for(_0x144511();_0x18b5e7<_0x154c5c['count'];){for(;_0x9dc7fb['remaining']<_0x10d11c;)await _0x9dc7fb['read'](),_0x144511();const _0x30b366=Math['min'](_0x154c5c['count']-_0x18b5e7,Math['floor'](_0x9dc7fb['remaining']/_0x10d11c));for(let _0x532677=-0x334+0x1168+0xe34*-0x1;_0x532677<_0x26e80c;++_0x532677){const _0x20ddb2=_0x279c7d[_0x532677];for(let _0xaec408=-0x56d*-0x1+0x56f+-0xadc;_0xaec408<_0x30b366;++_0xaec408)_0x20ddb2[_0xaec408+_0x18b5e7]=_0x2b31d1[_0xaec408*_0x26e80c+_0x532677];}_0x18b5e7+=_0x30b366,_0x9dc7fb['head']+=_0x30b366*_0x10d11c;}return new Ia(_0x1a9344);},V2=async(_0x44ca67,_0x4a9064)=>{for(let _0x57c2db=-0x415*-0x9+-0xce1+-0x17dc;_0x57c2db<_0x4a9064['length'];++_0x57c2db){const _0x148c53=_0x4a9064[_0x57c2db],_0x3f03b=_0x148c53['properties']['reduce']((_0x13071f,_0x251114)=>_0x13071f+_0x251114['byteSize'],-0x24bf+0x1296+-0x1229*-0x1),_0x2adb07=_0x148c53['properties']['map'](_0x2cd6bf=>{if(_0x2cd6bf['storage'])switch(_0x2cd6bf['type']){case'char':return(_0x1b7849,_0x193332)=>{_0x2cd6bf['storage'][_0x193332]=_0x1b7849['getInt8']();};case'uchar':return(_0xe2860a,_0x465c89)=>{_0x2cd6bf['storage'][_0x465c89]=_0xe2860a['getUint8']();};case'short':return(_0x5995ca,_0x16f4dc)=>{_0x2cd6bf['storage'][_0x16f4dc]=_0x5995ca['getInt16']();};case'ushort':return(_0x862324,_0x538c73)=>{_0x2cd6bf['storage'][_0x538c73]=_0x862324['getUint16']();};case'int':return(_0x4d2c2f,_0x4da053)=>{_0x2cd6bf['storage'][_0x4da053]=_0x4d2c2f['getInt32']();};case'uint':return(_0x48017e,_0x1b0c5c)=>{_0x2cd6bf['storage'][_0x1b0c5c]=_0x48017e['getUint32']();};case'float':return(_0x5eb99e,_0x11a719)=>{_0x2cd6bf['storage'][_0x11a719]=_0x5eb99e['getFloat32']();};case'double':return(_0x426e57,_0x42fb5b)=>{_0x2cd6bf['storage'][_0x42fb5b]=_0x426e57['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x2cd6bf['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x16f8bd=>{_0x16f8bd['head']+=_0x2cd6bf['byteSize'];};});let _0xd708a9=0x2578+0x1df*-0x4+-0x1dfc;for(;_0xd708a9<_0x148c53['count'];){for(;_0x44ca67['remaining']<_0x3f03b;)await _0x44ca67['read']();const _0x1cc12d=Math['min'](_0x148c53['count']-_0xd708a9,Math['floor'](_0x44ca67['remaining']/_0x3f03b));for(let _0x3f411d=-0xe81+0x6fb+0x786;_0x3f411d<_0x1cc12d;++_0x3f411d){for(let _0x3db2b4=0xaba+0x1dc9+-0x1*0x2883;_0x3db2b4<_0x148c53['properties']['length'];++_0x3db2b4)_0x2adb07[_0x3db2b4](_0x44ca67,_0xd708a9);_0xd708a9++;}}}return new Ia(_0x4a9064);},G2=async(_0x5c0343,_0x352387=null,_0x203b8=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x1ce44=(_0x1bbbf3,_0x48ef62)=>{const _0x4ee5ed=_0x1bbbf3['length']-_0x48ef62['length'];let _0x485292,_0x5c5219;for(_0x485292=-0x2*-0xbb4+-0x1490+-0x2d8;_0x485292<=_0x4ee5ed;++_0x485292){for(_0x5c5219=-0x3*0xa6+-0x111*-0xa+-0x8b8;_0x5c5219<_0x48ef62['length']&&_0x1bbbf3[_0x485292+_0x5c5219]===_0x48ef62[_0x5c5219];++_0x5c5219);if(_0x5c5219===_0x48ef62['length'])return _0x485292;}return-(-0x51*-0x40+0x12e4+-0x2723);},_0x423701=(_0x1d8c89,_0x36fcb0)=>{if(_0x1d8c89['length']<_0x36fcb0['length'])return!(-0x7ed*-0x1+0x3a7+-0xb93);for(let _0xb2077a=-0x214d+0x1a*0xb7+0xeb7;_0xb2077a<_0x36fcb0['length'];++_0xb2077a)if(_0x1d8c89[_0xb2077a]!==_0x36fcb0[_0xb2077a])return!(-0x102*-0xf+0x56d*0x1+-0x148a);return!(0x88e+0x26b7+-0x1*0x2f45);},_0x25304b=new O2(_0x5c0343,_0x203b8);let _0x1d5dc5;for(;;){if(await _0x25304b['read'](),_0x25304b['tail']>=Ug['length']&&!_0x423701(_0x25304b['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x1d5dc5=_0x1ce44(_0x25304b['data'],Vg),_0x1d5dc5!==-(-0x24f*-0x7+-0x1*0x220d+0x11e5))break;}const _0x33e59b=new TextDecoder('ascii')['decode'](_0x25304b['data']['subarray'](0x13f4*0x1+-0xe95*-0x2+-0x311e,_0x1d5dc5))['split']('\x0a'),{elements:_0x362025,format:_0x116367,comments:_0x18e6eb}=k2(_0x33e59b);if(_0x116367!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x25304b['head']=_0x1d5dc5+Vg['length'],_0x25304b['compact'](),{'data':await((async()=>B2(_0x362025)?await z2(_0x25304b,_0x362025):(_0x362025['forEach'](_0x192ceb=>{_0x192ceb['properties']['forEach'](_0x3b64d9=>{const _0x316bae=bf['get'](_0x3b64d9['type']);if(_0x316bae){const _0x1e639a=!_0x352387||_0x352387(_0x3b64d9['name'])?new _0x316bae(_0x192ceb['count']):null;_0x3b64d9['storage']=_0x1e639a;}});}),N2(_0x362025)?await U2(_0x25304b,_0x362025):await V2(_0x25304b,_0x362025)))()),'comments':_0x18e6eb};},H2=_0x39bba0=>!(-0x883*-0x1+0x107e+-0x1901);class W2{constructor(_0x1f207a,_0x4f7a51,_0x5d940d){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x1f207a,this['assets']=_0x4f7a51,this['maxRetries']=_0x5d940d,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x14698f,_0x33942c,_0x2ac5b2){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x14698f['load']['includes'](',')?this['urlList']=_0x14698f['load']['split'](','):this['urlList']['push'](_0x14698f['load']);const _0x343a51=_0x2ac5b2['data']['loadAllSeq']?this['urlList']['length']:-0x1*-0x334+-0x12*0x1f2+0x1fd1,_0x528f63=_0x2ac5b2['data']['timeOption'],_0x4c4766=_0x2ac5b2['data']['events'];for(let _0x4e4218=-0x18fe+-0x1f*0xef+0x35ef;_0x4e4218<_0x343a51;_0x4e4218++)await this['loadGsplat'+'Data'](this['urlList'][_0x4e4218]['trim'](),_0x33942c,_0x2ac5b2,_0x4e4218,_0x528f63,_0x4c4766);}async['loadGsplat'+'Data'](_0x11666a,_0x389018,_0x26f0f3,_0x5cd4f9,_0x337337,_0x24a510){var _0x22c037;try{const _0x18b856=await fetch(_0x11666a);if(!_0x18b856||!_0x18b856['body'])_0x389018('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x28aff4=parseInt(_0x18b856['headers']['get']('content-le'+'ngth')??'0',0xa9f*0x1+0x5f9+-0x108e);let _0x310cbf=-0x1721+0x3*0x1+0x2*0xb8f;const {data:_0x2c32dc,comments:_0x3f84cb}=await G2(_0x18b856['body']['getReader'](),_0x26f0f3['data']['elementFil'+'ter']??H2,_0x36a891=>{_0x310cbf+=_0x36a891,_0x26f0f3&&_0x24a510['fire']('progress',_0x310cbf,_0x28aff4);});_0x2c32dc['isCompress'+'ed']||_0x26f0f3['data']['reorder'],this['gsplatReso'+'urce']&&((_0x22c037=this['gsplatReso'+'urce'])!=null&&_0x22c037['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x2c32dc['isCompress'+'ed']&&_0x26f0f3['data']['decompress']?await _0x2c32dc['decompress']():_0x2c32dc,_0x337337,_0x5cd4f9):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x2c32dc['isCompress'+'ed']&&_0x26f0f3['data']['decompress']?await _0x2c32dc['decompress']():_0x2c32dc,_0x3f84cb),this['gsplatReso'+'urce']['timeOption']=_0x337337,_0x24a510['fire']('progressEn'+'d')),_0x389018(null,this['gsplatReso'+'urce']);}}catch(_0x4dc700){_0x389018(_0x4dc700,null);}}['open'](_0x8c7911,_0x2132eb){return _0x2132eb;}}class $2 extends Ne{constructor(_0x48b01a){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x48b01a,'gsplat'),this['parser']=new W2(_0x48b01a['graphicsDe'+'vice'],_0x48b01a['assets'],0x1ed5+-0x2159+0x287);}['load'](_0x24486b,_0x192e32,_0x1c4c08){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x24486b=='string'&&(_0x24486b={'load':_0x24486b,'original':_0x24486b}),this['parser']['load'](_0x24486b,_0x192e32,_0x1c4c08);}['open'](_0x50da24,_0xb37be5,_0x4f2df3){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x50da24,_0xb37be5,_0x4f2df3);}}class wf{static['setCompres'+'sedPRS'](_0x1e130d,_0x3fa77f,_0x5402c5){const _0x1862bb=_0x5402c5['singleVecs'];let _0x460f24,_0x54352a;const _0x24b2cb=_0x3fa77f['___1'];_0x24b2cb||(_0x460f24=_0x5402c5['tripleVecs'],_0x54352a=_0x3fa77f['___2']);let _0x56389c=_0x24b2cb?_0x24b2cb[-0x45*-0x8d+0x5*0x4cf+-0x3e0c]:_0x460f24[_0x54352a];_0x1e130d['setLocalPo'+'sition'](_0x1862bb[_0x56389c],_0x1862bb[_0x56389c+(-0xb*-0x53+0x1b5+0x13*-0x47)],_0x1862bb[_0x56389c+(-0x1694+-0x2078+-0x2*-0x1b87)]),_0x56389c=_0x24b2cb?_0x24b2cb[-0xa25+0x1c5d+-0x1237]:_0x460f24[_0x54352a+(-0x4d*0x2+-0x1*-0x270e+-0xc1*0x33)],_0x1e130d['setLocalEu'+'lerAngles'](_0x1862bb[_0x56389c],_0x1862bb[_0x56389c+(-0x269b*-0x1+0x21a5*0x1+0x1815*-0x3)],_0x1862bb[_0x56389c+(0x6ee+0x3*-0x251+-0x1*-0x7)]),_0x56389c=_0x24b2cb?_0x24b2cb[-0x250*0x5+0xeb3+-0x59*0x9]:_0x460f24[_0x54352a+(0x259a+0xb74*-0x3+-0x33c)],_0x1e130d['setLocalSc'+'ale'](_0x1862bb[_0x56389c],_0x1862bb[_0x56389c+(-0xc7c*0x1+-0x2500+-0x3*-0x107f)],_0x1862bb[_0x56389c+(-0x404*-0x7+-0x1ae2+-0x138)]);}static['oneCharToK'+'ey'](_0xafd09f,_0xe781db){const _0x5229f1=_0xafd09f['charCodeAt'](-0x4b*0x6f+-0x979+0xfa*0x2b)-_0xe781db['fieldFirst'+'Code'];return _0xe781db['fieldArray'][_0x5229f1];}static['multCharTo'+'Key'](_0x1b995c,_0x78258f){let _0x9ecf71=0x1a77+0x1dc6+-0x1*0x383d;for(let _0x4da8a9=-0x1d*0x31+-0x1ead+0x243a;_0x4da8a9<_0x1b995c['length'];_0x4da8a9++)_0x9ecf71=_0x9ecf71*_0x78258f['fieldCodeB'+'ase']+_0x1b995c['charCodeAt'](_0x4da8a9)-_0x78258f['fieldFirst'+'Code'];return _0x78258f['fieldArray'][_0x9ecf71];}}class sc{constructor(_0x4afecd,_0x683535){this['_node']=_0x4afecd,this['_data']=_0x683535;}['run'](){const _0x1856ac=Object['prototype']['toString']['call'](this['_node']);return _0x1856ac==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x1856ac==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x283077){let _0x34a9bb=_0x283077;const _0x3fff95=_0x283077['length'];_0x3fff95===-0xb71+0x51f+0x1*0x653?_0x34a9bb=wf['oneCharToK'+'ey'](_0x283077,this['_data']):_0x3fff95===-0x470+-0xb57*-0x1+-0x6e5&&(_0x34a9bb=wf['multCharTo'+'Key'](_0x283077,this['_data'])),this['_result'][_0x34a9bb]=new sc(this['_node'][_0x283077],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x36857d){const _0x454f38=new sc(_0x36857d,this['_data'])['run']();this['_result']['push'](_0x454f38);}}class Wp{constructor(_0x5b7bbb,_0x6e1276){this['_app']=_0x5b7bbb,this['_isTemplat'+'e']=_0x6e1276;}['parse'](_0x32c546){const _0x300ded={};let _0xaacbe7=null;const _0x21b5c0=_0x32c546['compressed'+'Format'];_0x21b5c0&&!_0x32c546['entDecompr'+'essed']&&(_0x32c546['entDecompr'+'essed']=!(0x8*-0x1b9+0x2177+-0x13af*0x1),_0x32c546['entities']=new sc(_0x32c546['entities'],_0x21b5c0)['run']());for(const _0x14e20e in _0x32c546['entities']){const _0x5acbfe=_0x32c546['entities'][_0x14e20e],_0x3a6820=this['_createEnt'+'ity'](_0x5acbfe,_0x21b5c0);_0x300ded[_0x14e20e]=_0x3a6820,_0x5acbfe['parent']===null&&(_0xaacbe7=_0x3a6820);}for(const _0x597e95 in _0x32c546['entities']){const _0x4da435=_0x300ded[_0x597e95],_0x5d9479=_0x32c546['entities'][_0x597e95]['children'],_0xda2548=_0x5d9479['length'];for(let _0x42f6ae=0x74*0x43+-0x4d*-0x4b+0x24d*-0x17;_0x42f6ae<_0xda2548;_0x42f6ae++){const _0x1817be=_0x300ded[_0x5d9479[_0x42f6ae]];_0x1817be&&_0x4da435['addChild'](_0x1817be);}}return this['_openCompo'+'nentData'](_0xaacbe7,_0x32c546['entities']),_0xaacbe7;}['_createEnt'+'ity'](_0x2fd7a8,_0x2e9eb1){const _0x55c1d4=new We(_0x2fd7a8['name'],this['_app']);if(_0x55c1d4['setGuid'](_0x2fd7a8['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x55c1d4,_0x2fd7a8,_0x2e9eb1),_0x55c1d4['_enabled']=_0x2fd7a8['enabled']??!(-0x3aa*0x1+0x5e*0x52+0x54a*-0x5),this['_isTemplat'+'e']?_0x55c1d4['_template']=!(-0x49f*0x1+-0x5*0x4b3+0x1*0x1c1e):_0x55c1d4['_enabledIn'+'Hierarchy']=_0x55c1d4['_enabled'],_0x55c1d4['template']=_0x2fd7a8['template'],_0x2fd7a8['tags']){for(let _0x5f257f=0x53*0xa+0x1c*-0xdf+0xa93*0x2;_0x5f257f<_0x2fd7a8['tags']['length'];_0x5f257f++)_0x55c1d4['tags']['add'](_0x2fd7a8['tags'][_0x5f257f]);}return _0x55c1d4;}['_setPosRot'+'Scale'](_0x5a7610,_0xbe04cc,_0x5ae063){if(_0x5ae063)wf['setCompres'+'sedPRS'](_0x5a7610,_0xbe04cc,_0x5ae063);else{const _0x1e34e0=_0xbe04cc['position'],_0x209f7d=_0xbe04cc['rotation'],_0x4871c7=_0xbe04cc['scale'];_0x5a7610['setLocalPo'+'sition'](_0x1e34e0[-0x1*0x996+0x2525+0x55*-0x53],_0x1e34e0[0x9*0x3f4+0x194b+0x9f*-0x62],_0x1e34e0[0x1*-0x609+-0x1d27+-0x2*-0x1199]),_0x5a7610['setLocalEu'+'lerAngles'](_0x209f7d[0x1eed+0x160c+-0x47*0xbf],_0x209f7d[0x14a0+-0x2f*0x8d+0x544],_0x209f7d[0x6*0xdf+0x1*0x17+-0x54f]),_0x5a7610['setLocalSc'+'ale'](_0x4871c7[-0x1*-0x2080+0x184c+0x5*-0xb5c],_0x4871c7[0x1e1+0x112f+0x2b9*-0x7],_0x4871c7[0x31d+-0x2682+0x2367]);}}['_openCompo'+'nentData'](_0x4ccc34,_0x16882c){const _0x174262=this['_app']['systems']['list'];let _0x463ec6=_0x174262['length'];const _0xfaaa63=_0x16882c[_0x4ccc34['getGuid']()];for(let _0x293cf6=0x1c*0xa6+0x2545*0x1+-0x7*0x7eb;_0x293cf6<_0x463ec6;_0x293cf6++){const _0x1c76b7=_0x174262[_0x293cf6],_0x59ed2b=_0xfaaa63['components'][_0x1c76b7['id']];_0x59ed2b&&_0x1c76b7['addCompone'+'nt'](_0x4ccc34,_0x59ed2b);}_0x463ec6=_0xfaaa63['children']['length'];const _0x1287fb=_0x4ccc34['_children'];for(let _0x54a447=-0x26c7+-0x899+-0x1*-0x2f60;_0x54a447<_0x463ec6;_0x54a447++)_0x1287fb[_0x54a447]?_0x1287fb[_0x54a447]=this['_openCompo'+'nentData'](_0x1287fb[_0x54a447],_0x16882c):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x4ccc34['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x4ccc34;}}class Lx{static['load'](_0x303ca2,_0x5267a1,_0x367256){typeof _0x303ca2=='string'&&(_0x303ca2={'load':_0x303ca2,'original':_0x303ca2}),$e['get'](_0x303ca2['load'],{'retry':_0x5267a1>-0x23*-0x79+0xde8+-0x617*0x5,'maxRetries':_0x5267a1},(_0x2364d0,_0x12a4d7)=>{if(!_0x2364d0)_0x367256(_0x2364d0,_0x12a4d7);else{let _0x4c8ef7='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x303ca2['original'];_0x2364d0['message']?(_0x4c8ef7+=':\x20'+_0x2364d0['message'],_0x2364d0['stack']&&(_0x4c8ef7+='\x0a'+_0x2364d0['stack'])):_0x4c8ef7+=':\x20'+_0x2364d0,_0x367256(_0x4c8ef7);}});}}class q2 extends Ne{constructor(_0x1d7bad){super(_0x1d7bad,'hierarchy');}['load'](_0x49d43d,_0xf86b0c){Lx['load'](_0x49d43d,this['maxRetries'],_0xf86b0c);}['open'](_0x29aaba,_0x4f390a){this['_app']['systems']['script']['preloading']=!(-0x2278+0x1*0x1241+0x1037);const _0x339b48=new Wp(this['_app'],!(-0x3*-0x4f2+0xbbf+-0x1a94))['parse'](_0x4f390a);return this['_app']['systems']['script']['preloading']=!(-0x16d1+0x1e2d+0x75b*-0x1),_0x339b48;}}class X2 extends Ne{constructor(_0x4ef9ce){super(_0x4ef9ce,'html'),c(this,'decoder',null);}['load'](_0x4c012e,_0x34b53a){typeof _0x4c012e=='string'&&(_0x4c012e={'load':_0x4c012e,'original':_0x4c012e}),$e['get'](_0x4c012e['load'],{'retry':this['maxRetries']>0x6a1*0x5+0x25c8+0x10f*-0x43,'maxRetries':this['maxRetries']},(_0x25651c,_0x27b218)=>{_0x25651c?_0x34b53a('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x4c012e['original']+'\x20['+_0x25651c+']'):_0x34b53a(null,_0x27b218);});}['openBinary'](_0x44b682){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x44b682);}}class j2 extends Ne{constructor(_0x4aea15){super(_0x4aea15,'json'),c(this,'decoder',null);}['load'](_0x47bbe1,_0x9c5f49){typeof _0x47bbe1=='string'&&(_0x47bbe1={'load':_0x47bbe1,'original':_0x47bbe1});const _0x5e9d8a={'retry':this['maxRetries']>-0x16+-0x28*0x10+-0x1*-0x296,'maxRetries':this['maxRetries']};_0x47bbe1['load']['startsWith']('blob:')&&(_0x5e9d8a['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x47bbe1['load'],_0x5e9d8a,(_0x1b12a0,_0x34467b)=>{_0x1b12a0?_0x9c5f49('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x47bbe1['original']+'\x20['+_0x1b12a0+']'):_0x9c5f49(null,_0x34467b);});}['openBinary'](_0x56204a){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x56204a));}}class Y2{constructor(){this['removeInva'+'lid']=!(0x165a+-0x132f*-0x1+-0x5ef*0x7),this['valid']=!(-0x943+0xfa3+-0x220*0x3),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x418ecc,_0x537502){this['valid']=!(0x1dc*0xe+0xbf*0xa+-0x217d),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x418ecc,_0x537502[_0x418ecc]),this['removeInva'+'lid']&&delete _0x537502[_0x418ecc];}['validate'](_0x2653c2){const _0x189795=Pa,_0x4aa2f8=QC,_0x49d736=_0x2653c2['mappingFor'+'mat']==='path';for(const _0x35ddbf in _0x2653c2){const _0x1b1f52=_0x189795[_0x35ddbf];if(!_0x1b1f52){_0x4aa2f8[_0x35ddbf]?delete _0x2653c2[_0x35ddbf]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x35ddbf),this['valid']=!(0x2691+0x1ce8+0x44*-0xfe));continue;}if(_0x1b1f52['startsWith']('enum')){const _0x59492a=_0x1b1f52['split'](':')[0x627+-0x227a+0x1c54];this['enumValida'+'tors'][_0x59492a]&&(this['enumValida'+'tors'][_0x59492a](_0x2653c2[_0x35ddbf])||this['setInvalid'](_0x35ddbf,_0x2653c2));}else{if(_0x1b1f52==='number')typeof _0x2653c2[_0x35ddbf]!='number'&&this['setInvalid'](_0x35ddbf,_0x2653c2);else{if(_0x1b1f52==='boolean')typeof _0x2653c2[_0x35ddbf]!='boolean'&&this['setInvalid'](_0x35ddbf,_0x2653c2);else{if(_0x1b1f52==='string')typeof _0x2653c2[_0x35ddbf]!='string'&&this['setInvalid'](_0x35ddbf,_0x2653c2);else{if(_0x1b1f52==='vec2')_0x2653c2[_0x35ddbf]instanceof Array&&_0x2653c2[_0x35ddbf]['length']===-0x50e+0x1ccf+-0x17bf||this['setInvalid'](_0x35ddbf,_0x2653c2);else{if(_0x1b1f52==='rgb')_0x2653c2[_0x35ddbf]instanceof Array&&_0x2653c2[_0x35ddbf]['length']===-0x63*-0x2d+-0x1826+0x6c2||this['setInvalid'](_0x35ddbf,_0x2653c2);else{if(_0x1b1f52==='texture')_0x49d736?typeof _0x2653c2[_0x35ddbf]=='string'||_0x2653c2[_0x35ddbf]===null||_0x2653c2[_0x35ddbf]instanceof he||this['setInvalid'](_0x35ddbf,_0x2653c2):typeof _0x2653c2[_0x35ddbf]=='number'||_0x2653c2[_0x35ddbf]===null||_0x2653c2[_0x35ddbf]instanceof he||this['setInvalid'](_0x35ddbf,_0x2653c2);else{if(_0x1b1f52==='boundingbo'+'x')_0x2653c2[_0x35ddbf]['center']&&_0x2653c2[_0x35ddbf]['center']instanceof Array&&_0x2653c2[_0x35ddbf]['center']['length']===-0x734*0x4+-0xba+0x5e9*0x5||this['setInvalid'](_0x35ddbf,_0x2653c2),_0x2653c2[_0x35ddbf]['halfExtent'+'s']&&_0x2653c2[_0x35ddbf]['halfExtent'+'s']instanceof Array&&_0x2653c2[_0x35ddbf]['halfExtent'+'s']['length']===-0x2404+-0x5*0x135+-0x2a1*-0x10||this['setInvalid'](_0x35ddbf,_0x2653c2);else{if(_0x1b1f52==='cubemap')typeof _0x2653c2[_0x35ddbf]=='number'||_0x2653c2[_0x35ddbf]===null||_0x2653c2[_0x35ddbf]===void(-0x3e1*0x1+0x45*-0x17+-0xd7*-0xc)||_0x2653c2[_0x35ddbf]instanceof he&&_0x2653c2[_0x35ddbf]['cubemap']||this['setInvalid'](_0x35ddbf,_0x2653c2);else{if(_0x1b1f52==='chunks'){const _0x1f245a=Object['keys'](_0x2653c2[_0x35ddbf]);for(let _0x5c6998=0x1558+-0x37*-0xaf+-0x3af1;_0x5c6998<_0x1f245a['length'];_0x5c6998++)typeof _0x2653c2[_0x35ddbf][_0x1f245a[_0x5c6998]]!='string'&&this['setInvalid'](_0x1f245a[_0x5c6998],_0x2653c2[_0x35ddbf]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x1b1f52);}}}}}}}}}}return _0x2653c2['validated']=!(-0x5d9+0xf*0x5b+-0x4*-0x21),this['valid'];}['_createEnu'+'mValidator'](_0x257d72){return function(_0xa2d9e7){return _0x257d72['indexOf'](_0xa2d9e7)>=-0x427*-0x1+0x1805*0x1+0x4b2*-0x6;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x419a0a){const _0x411749=this['migrate'](_0x419a0a),_0x585359=this['_validate'](_0x411749),_0x3c346f=new cs();return this['initialize'](_0x3c346f,_0x585359),_0x3c346f;}['initialize'](_0x1d30b5,_0x4ebc49){_0x4ebc49['validated']||(_0x4ebc49=this['_validate'](_0x4ebc49)),_0x4ebc49['chunks']&&(_0x1d30b5['chunks']={..._0x4ebc49['chunks']});for(const _0x3a1969 in _0x4ebc49){const _0xef7bd0=Pa[_0x3a1969],_0x286d76=_0x4ebc49[_0x3a1969];if(_0xef7bd0==='vec2')_0x1d30b5[_0x3a1969]=new W(_0x286d76[-0x17b1+-0x4*0x981+0x3db5],_0x286d76[-0x1*0x23bb+0x1856+-0xb66*-0x1]);else{if(_0xef7bd0==='rgb')_0x1d30b5[_0x3a1969]=new Y(_0x286d76[-0x3b*-0x11+0x1a7c+-0x1e67],_0x286d76[-0x1*0x1be+0x1575+-0x13b6],_0x286d76[-0x7d3+0x1*0x15c6+0x53*-0x2b]);else{if(_0xef7bd0==='texture')_0x286d76 instanceof he?_0x1d30b5[_0x3a1969]=_0x286d76:_0x1d30b5[_0x3a1969]instanceof he&&typeof _0x286d76=='number'&&_0x286d76>0x9b9*0x1+-0x2399+0x4*0x678||(_0x1d30b5[_0x3a1969]=null);else{if(_0xef7bd0==='cubemap')_0x286d76 instanceof he?_0x1d30b5[_0x3a1969]=_0x286d76:_0x1d30b5[_0x3a1969]instanceof he&&typeof _0x286d76=='number'&&_0x286d76>-0x1abb+-0x57f+0x203a||(_0x1d30b5[_0x3a1969]=null),_0x3a1969==='cubeMap'&&!_0x286d76&&(_0x1d30b5['prefiltere'+'dCubemaps']=null);else{if(_0xef7bd0==='boundingbo'+'x'){const _0x30b26f=new T(_0x286d76['center'][0x1f5a+-0x2ee+-0x1c6c],_0x286d76['center'][0x5*-0x329+0xbde+-0x2*-0x1f8],_0x286d76['center'][0xd*-0x8e+0x1c45*0x1+-0x1*0x150d]),_0x5b3820=new T(_0x286d76['halfExtent'+'s'][-0xa*0x298+0x32a+0x48e*0x5],_0x286d76['halfExtent'+'s'][0xfd0*0x2+-0x29*-0xd5+-0x41bc],_0x286d76['halfExtent'+'s'][-0x139f+0x1b93+-0x7f2]);_0x1d30b5[_0x3a1969]=new _e(_0x30b26f,_0x5b3820);}else _0x1d30b5[_0x3a1969]=_0x4ebc49[_0x3a1969];}}}}}_0x1d30b5['update']();}['migrate'](_0x2d03de){_0x2d03de['shader']&&delete _0x2d03de['shader'],_0x2d03de['mapping_fo'+'rmat']&&(_0x2d03de['mappingFor'+'mat']=_0x2d03de['mapping_fo'+'rmat'],delete _0x2d03de['mapping_fo'+'rmat']);let _0x321baa;const _0x2eb486=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x321baa=-0xce+-0x24b0+0x257e;_0x321baa<_0x2eb486['length'];_0x321baa++){const _0x37a8b8=_0x2eb486[_0x321baa][0x6a0+0x10*-0x143+0xd90],_0xbbf13a=_0x2eb486[_0x321baa][0x1514+0x16ab+-0x1*0x2bbe];_0x2d03de[_0x37a8b8]!==void(0xa03+-0x15c9*0x1+0x1*0xbc6)&&(_0x2d03de[_0xbbf13a]===void(0x3*-0xeb+0x1e9b+-0x1bda)&&(_0x2d03de[_0xbbf13a]=_0x2d03de[_0x37a8b8]),delete _0x2d03de[_0x37a8b8]);}const _0x18d36e=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x321baa=-0x2706+0x1247*0x1+0x14bf;_0x321baa<_0x18d36e['length'];_0x321baa++){const _0xac65=_0x18d36e[_0x321baa];_0x2d03de['hasOwnProp'+'erty'](_0xac65)&&delete _0x2d03de[_0xac65];}return _0x2d03de;}['_validate'](_0x38963f){return _0x38963f['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x38963f)),_0x38963f;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x44b229){super(_0x44b229,'material'),this['_assets']=_0x44b229['assets'],this['_device']=_0x44b229['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x2df8ef,_0x1102c6){typeof _0x2df8ef=='string'&&(_0x2df8ef={'load':_0x2df8ef,'original':_0x2df8ef}),$e['get'](_0x2df8ef['load'],{'retry':this['maxRetries']>0x205d+0x7f7+0x142a*-0x2,'maxRetries':this['maxRetries']},(_0x5d4e09,_0x451bba)=>{_0x5d4e09?_0x1102c6&&_0x1102c6('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x2df8ef['original']+'\x20['+_0x5d4e09+']'):_0x1102c6&&(_0x451bba['_engine']=!(0x1503*0x1+-0x1*0x20b1+0xbae),_0x1102c6(null,_0x451bba));});}['open'](_0x2af9a6,_0xfdb07e){const _0xc829ea=this['_parser']['parse'](_0xfdb07e);return _0xfdb07e['_engine']&&(_0xc829ea['_data']=_0xfdb07e,delete _0xfdb07e['_engine']),_0xc829ea;}['patch'](_0x407107,_0x560d85){_0x407107['resource']['_data']&&(_0x407107['_data']=_0x407107['resource']['_data'],delete _0x407107['resource']['_data']),_0x407107['data']['name']=_0x407107['name'],_0x407107['resource']['name']=_0x407107['name'],this['_bindAndAs'+'signAssets'](_0x407107,_0x560d85),_0x407107['off']('unload',this['_onAssetUn'+'load'],this),_0x407107['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x2e839a){delete _0x2e839a['data']['parameters'],delete _0x2e839a['data']['chunks'],delete _0x2e839a['data']['name'];}['_assignTex'+'ture'](_0x168faa,_0x35e52c,_0x4fc77e){_0x35e52c['resource'][_0x168faa]=_0x4fc77e;}['_getPlaceh'+'olderTextu'+'re'](_0x2dcf47){const _0x4c47d3=Z2[_0x2dcf47];return v['assert'](_0x4c47d3,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x2dcf47),en(this['_device'],_0x4c47d3);}['_assignPla'+'ceholderTe'+'xture'](_0x3f557c,_0x59c2b1){_0x59c2b1['resource'][_0x3f557c]=this['_getPlaceh'+'olderTextu'+'re'](_0x3f557c);}['_onTexture'+'Load'](_0x50bb22,_0x43f32a,_0x3895f3){this['_assignTex'+'ture'](_0x50bb22,_0x43f32a,_0x3895f3['resource']),_0x43f32a['resource']['update']();}['_onTexture'+'Add'](_0x1ec3dd,_0x3f4d47,_0x350e6b){this['_assets']['load'](_0x350e6b);}['_onTexture'+'RemoveOrUn'+'load'](_0x5eadaf,_0xaae782,_0x57fa8c){const _0x57de18=_0xaae782['resource'];_0x57de18&&_0xaae782['resource'][_0x5eadaf]===_0x57fa8c['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x5eadaf,_0xaae782),_0x57de18['update']());}['_assignCub'+'emap'](_0x167c36,_0x3165dd,_0x435f18){if(_0x3165dd['resource'][_0x167c36]=_0x435f18[0x26f8+0x1a3*0x13+-0x4611],_0x167c36==='cubeMap'){const _0x530f13=_0x435f18['slice'](-0xb*-0xc5+-0x1bb*0x15+-0x1be1*-0x1);_0x530f13['every'](_0x108e07=>_0x108e07)?_0x3165dd['resource']['prefiltere'+'dCubemaps']=_0x530f13:_0x530f13[-0xd34+-0x2463+-0x1*-0x3197]&&(_0x3165dd['resource']['envAtlas']=_0x530f13[-0x15af+-0x7*0x33+0x1714]);}}['_onCubemap'+'Load'](_0x2c6ec6,_0x1ebbb5,_0xc63788){this['_assignCub'+'emap'](_0x2c6ec6,_0x1ebbb5,_0xc63788['resources']),this['_parser']['initialize'](_0x1ebbb5['resource'],_0x1ebbb5['data']);}['_onCubemap'+'Add'](_0xf31161,_0x2e7474,_0x4329fa){this['_assets']['load'](_0x4329fa);}['_onCubemap'+'RemoveOrUn'+'load'](_0x4e44ed,_0x290c91,_0x4aedac){const _0x23b644=_0x290c91['resource'];_0x290c91['data']['prefiltere'+'dCubeMap12'+'8']===_0x4aedac['resources'][-0x15d*0xd+0x1c81*-0x1+0x523*0x9]&&(this['_assignCub'+'emap'](_0x4e44ed,_0x290c91,[null,null,null,null,null,null,null]),_0x23b644['update']());}['_bindAndAs'+'signAssets'](_0x30efed,_0x330d56){const _0xe58a1f=this['_parser']['migrate'](_0x30efed['data']),_0x2a0e1c=_0x30efed['resource'],_0x3a1f34=_0xe58a1f['mappingFor'+'mat']==='path',_0x516de5=Kc;let _0x5620dd,_0x1132f3,_0x430eb7;for(_0x5620dd=-0x3*0xc65+-0x25c+-0x35*-0xbf;_0x5620dd<_0x516de5['length'];_0x5620dd++){_0x1132f3=_0x516de5[_0x5620dd],_0x430eb7=_0x2a0e1c['_assetRefe'+'rences'][_0x1132f3];const _0x473c5d=_0xe58a1f[_0x1132f3],_0x32aff3=_0x2a0e1c[_0x1132f3],_0x57b400=_0x32aff3===this['_getPlaceh'+'olderTextu'+'re'](_0x1132f3),_0x470a3c=_0xe58a1f['validated'];_0x473c5d&&(!_0x32aff3||!_0x470a3c||_0x57b400)?(_0x430eb7||(_0x430eb7=new Go(_0x1132f3,_0x30efed,_0x330d56,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x2a0e1c['_assetRefe'+'rences'][_0x1132f3]=_0x430eb7),_0x3a1f34?_0x430eb7['url']=_0x30efed['getAbsolut'+'eUrl'](_0x473c5d):_0x430eb7['id']=_0x473c5d,_0x430eb7['asset']&&(_0x430eb7['asset']['resource']?this['_assignTex'+'ture'](_0x1132f3,_0x30efed,_0x430eb7['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x1132f3,_0x30efed),_0x330d56['load'](_0x430eb7['asset']))):_0x430eb7&&(_0x3a1f34?_0x430eb7['url']=null:_0x430eb7['id']=null);}const _0x39fc67=Fp;for(_0x5620dd=0x87e+-0x1d91*0x1+0x1513;_0x5620dd<_0x39fc67['length'];_0x5620dd++)_0x1132f3=_0x39fc67[_0x5620dd],_0x430eb7=_0x2a0e1c['_assetRefe'+'rences'][_0x1132f3],_0xe58a1f[_0x1132f3]&&!_0x30efed['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x430eb7||(_0x430eb7=new Go(_0x1132f3,_0x30efed,_0x330d56,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x2a0e1c['_assetRefe'+'rences'][_0x1132f3]=_0x430eb7),_0x3a1f34?_0x430eb7['url']=_0xe58a1f[_0x1132f3]:_0x430eb7['id']=_0xe58a1f[_0x1132f3],_0x430eb7['asset']&&(_0x430eb7['asset']['loaded']&&this['_assignCub'+'emap'](_0x1132f3,_0x30efed,_0x430eb7['asset']['resources']),_0x330d56['load'](_0x430eb7['asset'])));this['_parser']['initialize'](_0x2a0e1c,_0xe58a1f);}}class J2{constructor(_0x543a1a){this['_device']=_0x543a1a['device'],this['_defaultMa'+'terial']=_0x543a1a['defaultMat'+'erial'],this['_assets']=_0x543a1a['assets'];}['parse'](_0x4eab64,_0x228da9,_0x4adf6b){tc['parse']('filename.g'+'lb','',_0x4eab64,this['_device'],this['_assets'],(_0x4adf6b==null?void(-0x1469+-0x113d+0x3d*0x9e):_0x4adf6b['options'])??{},(_0x13aca1,_0x596ade)=>{if(_0x13aca1)_0x228da9(_0x13aca1);else{const _0x5d1264=tr['createMode'+'l'](_0x596ade,this['_defaultMa'+'terial']);_0x596ade['destroy'](),_0x228da9(null,_0x5d1264);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x1cfd4d){this['_device']=_0x1cfd4d['device'],this['_defaultMa'+'terial']=_0x1cfd4d['defaultMat'+'erial'];}['parse'](_0x18c532,_0x12011b){const _0x1ca4a1=_0x18c532['model'];if(!_0x1ca4a1){_0x12011b(null,null);return;}if(_0x1ca4a1['version']<=-0x93+0x231+-0x19d){_0x12011b('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x290fd8=this['_parseNode'+'s'](_0x18c532),_0x422b30=this['_parseSkin'+'s'](_0x18c532,_0x290fd8),_0x79d9b2=this['_parseVert'+'exBuffers'](_0x18c532),_0x565515=this['_parseInde'+'xBuffers'](_0x18c532,_0x79d9b2),_0x353f52=this['_parseMorp'+'hs'](_0x18c532,_0x290fd8,_0x79d9b2),_0x5567ad=this['_parseMesh'+'es'](_0x18c532,_0x422b30['skins'],_0x353f52['morphs'],_0x79d9b2,_0x565515['buffer'],_0x565515['data']),_0x35075c=this['_parseMesh'+'Instances'](_0x18c532,_0x290fd8,_0x5567ad,_0x422b30['skins'],_0x422b30['instances'],_0x353f52['morphs'],_0x353f52['instances']),_0x145a6d=new Oi();_0x145a6d['graph']=_0x290fd8[0x1*0x170e+-0x9c6+0x6a4*-0x2],_0x145a6d['meshInstan'+'ces']=_0x35075c,_0x145a6d['skinInstan'+'ces']=_0x422b30['instances'],_0x145a6d['morphInsta'+'nces']=_0x353f52['instances'],_0x145a6d['getGraph']()['syncHierar'+'chy'](),_0x12011b(null,_0x145a6d);}['_parseNode'+'s'](_0x599e12){const _0x17aae8=_0x599e12['model'],_0x5d1f81=[];let _0x169477;for(_0x169477=0xb83+0x88*0x14+0x1*-0x1623;_0x169477<_0x17aae8['nodes']['length'];_0x169477++){const _0x8d390a=_0x17aae8['nodes'][_0x169477],_0x3a5de4=new De(_0x8d390a['name']);_0x3a5de4['setLocalPo'+'sition'](_0x8d390a['position'][0x2059+-0xbd7*-0x1+-0x2c30],_0x8d390a['position'][-0x1511+-0x564+-0x6*-0x469],_0x8d390a['position'][-0x10db+-0x151*0x16+0x1*0x2dd3]),_0x3a5de4['setLocalEu'+'lerAngles'](_0x8d390a['rotation'][-0xc44+0x1298+0x1e*-0x36],_0x8d390a['rotation'][-0x1*-0x259a+-0x9*-0x1af+-0x34c0],_0x8d390a['rotation'][0x1d67*0x1+-0xf4*0xb+0x12e9*-0x1]),_0x3a5de4['setLocalSc'+'ale'](_0x8d390a['scale'][0x1aba+-0x1097+-0xa23],_0x8d390a['scale'][0x1*0x2417+-0x1*0x8dd+-0x1b39],_0x8d390a['scale'][-0x153*-0x2+0x187a+-0x1b1e]),_0x3a5de4['scaleCompe'+'nsation']=!!_0x8d390a['scaleCompe'+'nsation'],_0x5d1f81['push'](_0x3a5de4);}for(_0x169477=-0x2047+-0x109d+0x30e5;_0x169477<_0x17aae8['parents']['length'];_0x169477++)_0x5d1f81[_0x17aae8['parents'][_0x169477]]['addChild'](_0x5d1f81[_0x169477]);return _0x5d1f81;}['_parseSkin'+'s'](_0x2ca4a2,_0x5ca50c){const _0x54530c=_0x2ca4a2['model'],_0x4a65a0=[],_0x4db598=[];let _0x46e91f,_0x7e8c41;for(_0x46e91f=-0xadf+0xd*-0x121+-0xda*-0x1e;_0x46e91f<_0x54530c['skins']['length'];_0x46e91f++){const _0x15ac0a=_0x54530c['skins'][_0x46e91f],_0x859b6b=[];for(_0x7e8c41=-0x2709+-0x2339+0x4a42;_0x7e8c41<_0x15ac0a['inverseBin'+'dMatrices']['length'];_0x7e8c41++){const _0x26c219=_0x15ac0a['inverseBin'+'dMatrices'][_0x7e8c41];_0x859b6b[_0x7e8c41]=new q()['set'](_0x26c219);}const _0x33eccd=new N0(this['_device'],_0x859b6b,_0x15ac0a['boneNames']);_0x4a65a0['push'](_0x33eccd);const _0x2dc600=new nl(_0x33eccd),_0x30d4c5=[];for(_0x7e8c41=0x1156+0xf90+-0x20e6;_0x7e8c41<_0x33eccd['boneNames']['length'];_0x7e8c41++){const _0x59e73c=_0x33eccd['boneNames'][_0x7e8c41],_0x33f714=_0x5ca50c[0xd54+0x161*0xd+-0x1f41]['findByName'](_0x59e73c);_0x30d4c5['push'](_0x33f714);}_0x2dc600['bones']=_0x30d4c5,_0x4db598['push'](_0x2dc600);}return{'skins':_0x4a65a0,'instances':_0x4db598};}['_getMorphV'+'ertexCount'](_0x58f014,_0x35d461,_0x5e6dda){for(let _0x35066e=0x836*0x1+-0x158*-0x1c+0x1*-0x2dd6;_0x35066e<_0x58f014['meshes']['length'];_0x35066e++){const _0x1781ed=_0x58f014['meshes'][_0x35066e];if(_0x1781ed['morph']===_0x35d461)return _0x5e6dda[_0x1781ed['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x197e7c,_0x259e59,_0x5581a8){const _0x1d0f34=_0x197e7c['model'],_0xe1906d=[],_0x5647ff=[];let _0xf7a532,_0x45406b,_0x1d4fe7,_0x3ba713,_0x5f1410,_0x12c651;if(_0x1d0f34['morphs']){const _0x230cb4=function(_0x52a404,_0x23e582,_0xe4c8cc){const _0xd78d4f=new Float32Array(_0xe4c8cc*(-0x171a+0xca+0x27b*0x9));for(let _0x1b95d2=-0x1ad1+0xed3+0xbfe;_0x1b95d2<_0x23e582['length'];_0x1b95d2++){const _0x3c983c=_0x23e582[_0x1b95d2]*(-0x24f8+-0xf76+-0x117b*-0x3);_0xd78d4f[_0x3c983c]=_0x52a404[_0x1b95d2*(-0xb*-0x115+-0x4*-0x46d+-0x1d98)],_0xd78d4f[_0x3c983c+(0x1*0x64b+0x1ca7+-0x5*0x6fd)]=_0x52a404[_0x1b95d2*(-0x18d7+-0x192f+0x3209)+(-0x4f9+0x1e*-0x91+0x15f8)],_0xd78d4f[_0x3c983c+(-0x373+0x1d4f*-0x1+0x20c4)]=_0x52a404[_0x1b95d2*(-0x1ed1+0x1df*0x8+0xfdc)+(0x1b53+-0xfa*0x1+0x265*-0xb)];}return _0xd78d4f;};for(_0xf7a532=0xcec*-0x3+-0x2*-0x10ed+0x4ea;_0xf7a532<_0x1d0f34['morphs']['length'];_0xf7a532++){for(_0x3ba713=_0x1d0f34['morphs'][_0xf7a532]['targets'],_0x12c651=[],_0x1d4fe7=this['_getMorphV'+'ertexCount'](_0x1d0f34,_0xf7a532,_0x5581a8),_0x45406b=0x23af+0x1185+-0x3534;_0x45406b<_0x3ba713['length'];_0x45406b++){const _0x52369e=_0x3ba713[_0x45406b]['aabb'],_0x14e3d3=_0x52369e['min'],_0x488cba=_0x52369e['max'],_0x43a51a=new _e(new T((_0x488cba[0x2258+-0x4*0x167+-0x1cbc]+_0x14e3d3[-0x215f+-0x8*0x7f+0x2557])*(-0x45*0x5a+-0x21ad+0x39ef*0x1+0.5),(_0x488cba[0x1f49+0xe7d+-0x1*0x2dc5]+_0x14e3d3[0x2*-0xd81+0x21e9+-0x6e6])*(-0x19a7+-0x23c2+0x3d69+0.5),(_0x488cba[0x1*0x23ef+-0x16a8+0x2b*-0x4f]+_0x14e3d3[0x1896+-0x1a08+-0x6*-0x3e])*(0x3*-0x383+-0x1261+0x1cea+0.5)),new T((_0x488cba[-0x1c0e+-0x15*-0x51+0x15*0x105]-_0x14e3d3[-0x2b*0x83+0x1*0x2683+-0x1082])*(-0x1c7c+-0x1a9*0x14+0x3db0+0.5),(_0x488cba[0x219f+-0x6ac+-0x1*0x1af2]-_0x14e3d3[0x2387+-0x1e9d+-0x1a3*0x3])*(0x58*-0x16+-0x325+-0x1*-0xab5+0.5),(_0x488cba[0x7+-0x3f0+0x3eb]-_0x14e3d3[0x18a5*-0x1+0x1*-0x18d3+0x6*0x83f])*(0x825+0x11*0x1d+-0x2*0x509+0.5))),_0x357562=_0x3ba713[_0x45406b]['indices'];let _0x4af263=_0x3ba713[_0x45406b]['deltaPosit'+'ions'],_0x3db469=_0x3ba713[_0x45406b]['deltaNorma'+'ls'];_0x357562&&(_0x4af263=_0x230cb4(_0x4af263,_0x357562,_0x1d4fe7),_0x3db469=_0x230cb4(_0x3db469,_0x357562,_0x1d4fe7)),_0x5f1410=new Qc({'deltaPositions':_0x4af263,'deltaNormals':_0x3db469,'name':_0x3ba713[_0x45406b]['name'],'aabb':_0x43a51a}),_0x12c651['push'](_0x5f1410);}const _0x4bfe11=new F0(_0x12c651,this['_device']);_0xe1906d['push'](_0x4bfe11);const _0x1e14e7=new fn(_0x4bfe11);_0x5647ff['push'](_0x1e14e7);}}return{'morphs':_0xe1906d,'instances':_0x5647ff};}['_parseVert'+'exBuffers'](_0x971e33){const _0x37fd30=_0x971e33['model'],_0x2c855e=[],_0x408e81={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x433cb0=0x1*-0x1957+0x5cb+0x138c;_0x433cb0<_0x37fd30['vertices']['length'];_0x433cb0++){const _0x4ee867=_0x37fd30['vertices'][_0x433cb0],_0x7fad4a=[];for(const _0x241ba2 in _0x4ee867){const _0x5ed9ea=_0x4ee867[_0x241ba2];_0x7fad4a['push']({'semantic':_0x408e81[_0x241ba2],'components':_0x5ed9ea['components'],'type':tL[_0x5ed9ea['type']],'normalize':_0x408e81[_0x241ba2]===At});}const _0x42262a=new Et(this['_device'],_0x7fad4a),_0x3df476=_0x4ee867['position']['data']['length']/_0x4ee867['position']['components'],_0x445e0d=new os(this['_device'],_0x42262a,_0x3df476),_0x17ed0b=new go(_0x445e0d);for(let _0x5525ca=-0xb93*-0x1+-0x646+-0x54d;_0x5525ca<_0x3df476;_0x5525ca++){for(const _0x398a89 in _0x4ee867){const _0x252bf3=_0x4ee867[_0x398a89];switch(_0x252bf3['components']){case 0x10c6+-0xf68+-0x15d:_0x17ed0b['element'][_0x408e81[_0x398a89]]['set'](_0x252bf3['data'][_0x5525ca]);break;case 0xaf2*0x1+-0x18f+-0x961:_0x17ed0b['element'][_0x408e81[_0x398a89]]['set'](_0x252bf3['data'][_0x5525ca*(-0x5ef+0x167e+-0xdf*0x13)],-0x4*-0x2e7+-0x207b+-0x8*-0x29c-_0x252bf3['data'][_0x5525ca*(-0x3*-0x6b7+-0x25f7*0x1+-0x7*-0x28c)+(-0x27*-0x72+-0x3b*0x77+0xa10)]);break;case 0x8b2+-0x1b*0x14c+0x1a55:_0x17ed0b['element'][_0x408e81[_0x398a89]]['set'](_0x252bf3['data'][_0x5525ca*(0x2*0x269+-0x1*-0x12d+-0x5fc)],_0x252bf3['data'][_0x5525ca*(0x1b02+-0x3*-0xa77+-0x3a64)+(-0x26bb+-0xb0+0x3a*0xae)],_0x252bf3['data'][_0x5525ca*(0x1c45*-0x1+-0x7db*0x3+0x33d9*0x1)+(0x1*0xac2+-0x455*0x3+0x23f)]);break;case-0x2*-0x1073+-0x283*0xf+0x4cb:_0x17ed0b['element'][_0x408e81[_0x398a89]]['set'](_0x252bf3['data'][_0x5525ca*(0xb6*-0x22+-0x4*-0x55d+0xaf*0x4)],_0x252bf3['data'][_0x5525ca*(0x47*0xf+0x1442+-0x1867)+(0x14fd+-0x1*0x20fc+0xc0*0x10)],_0x252bf3['data'][_0x5525ca*(-0x192d+-0x2689*0x1+-0x153e*-0x3)+(-0x8*-0x296+-0x1*0x1db4+0x906)],_0x252bf3['data'][_0x5525ca*(-0x80e*-0x2+0x16*-0x97+-0x31e)+(-0x14c5+-0x18e9+-0x15*-0x22d)]);break;}}_0x17ed0b['next']();}_0x17ed0b['end'](),_0x2c855e['push'](_0x445e0d);}return _0x2c855e;}['_parseInde'+'xBuffers'](_0x3c3e74,_0x35b6f9){const _0x2a3006=_0x3c3e74['model'];let _0x4a7c48=null,_0x3ceeeb=null,_0x535987,_0xcec9ca=0x4*-0x2a5+0x1*0x9bf+-0x1*-0xd5;for(_0x535987=-0x21c8+0x18ec+-0x3*-0x2f4;_0x535987<_0x2a3006['meshes']['length'];_0x535987++){const _0xa5abc6=_0x2a3006['meshes'][_0x535987];_0xa5abc6['indices']!==void(-0x1ed6*-0x1+-0x55d*0x7+-0x11*-0x65)&&(_0xcec9ca+=_0xa5abc6['indices']['length']);}let _0x4fdd4c=0x2704+-0x1*-0x869+0xd5*-0x39;for(_0x535987=-0x1d*-0x6f+0x15b0+-0x2243;_0x535987<_0x35b6f9['length'];_0x535987++)_0x4fdd4c=Math['max'](_0x4fdd4c,_0x35b6f9[_0x535987]['numVertice'+'s']);return _0xcec9ca>-0x5*-0x67c+-0x12*-0x10d+-0x3356&&(_0x4fdd4c>-0x1*0x9d7+0x631*-0x13+0x17f79?(_0x4a7c48=new lr(this['_device'],nr,_0xcec9ca),_0x3ceeeb=new Uint32Array(_0x4a7c48['lock']())):(_0x4a7c48=new lr(this['_device'],Pi,_0xcec9ca),_0x3ceeeb=new Uint16Array(_0x4a7c48['lock']()))),{'buffer':_0x4a7c48,'data':_0x3ceeeb};}['_parseMesh'+'es'](_0x56f485,_0x15c3ac,_0xd974fe,_0x35350f,_0x15cdf2,_0x1d7cfd){const _0x24b9d7=_0x56f485['model'],_0x93fc97=[];let _0x41f7e5=-0xea5*-0x1+-0x1732+0x88d;for(let _0x2db508=0x1*-0x6d3+0x1*-0x94+0x767;_0x2db508<_0x24b9d7['meshes']['length'];_0x2db508++){const _0x2d577e=_0x24b9d7['meshes'][_0x2db508],_0x1733d6=_0x2d577e['aabb'],_0x3edf15=_0x1733d6['min'],_0x78bba3=_0x1733d6['max'],_0x34e306=new _e(new T((_0x78bba3[0x3d2*0x3+-0x7c*-0x35+0x62*-0x61]+_0x3edf15[-0x235d+0x1ac4+-0x1*-0x899])*(0x94e+0xd1*-0x1c+0xd8e+0.5),(_0x78bba3[-0x171+-0xdfd*-0x2+0x8d8*-0x3]+_0x3edf15[0x86+0x89*0x3b+0x34*-0x9e])*(-0x2*-0x60d+0x1*-0x21b2+0x2b3*0x8+0.5),(_0x78bba3[-0x727+-0x81+0x7aa]+_0x3edf15[0x1367*0x1+0x18ed+-0x2c52])*(-0x36e+-0x18e3*-0x1+-0x1575+0.5)),new T((_0x78bba3[-0x1f5*0x13+0x10d*0x3+-0x1e4*-0x12]-_0x3edf15[0xb3*0x7+0x19c6+0x1*-0x1eab])*(0x2061+-0x2*0x1263+0x2d*0x19+0.5),(_0x78bba3[-0xa2b*-0x1+0x1adb+-0x2505*0x1]-_0x3edf15[0x23*0xe1+0x1726+-0x258*0x17])*(0x1*-0x1854+-0xb*-0x52+0x14ce+0.5),(_0x78bba3[0x7*0x40d+-0x2431+0x7d8]-_0x3edf15[0x6*0x1f1+0x18e3+-0x40f*0x9])*(0x2*0x3f5+0x1*0xc55+0x143f*-0x1+0.5))),_0x4dd0d3=_0x2d577e['indices']!==void(0x1*0x1e49+0x2c6*0xe+-0x451d),_0xddd69a=new Ie(this['_device']);_0xddd69a['vertexBuff'+'er']=_0x35350f[_0x2d577e['vertices']],_0xddd69a['indexBuffe'+'r'][-0x1*0x13d0+-0xc8c+-0x1b4*-0x13]=_0x4dd0d3?_0x15cdf2:null,_0xddd69a['primitive'][-0x16f*0x1b+0x1292+0x407*0x5]['type']=eL[_0x2d577e['type']],_0xddd69a['primitive'][0x1*0x2267+0xa39+-0x2ca0]['base']=_0x4dd0d3?_0x2d577e['base']+_0x41f7e5:_0x2d577e['base'],_0xddd69a['primitive'][0x7a*-0x35+0x2163+-0x821*0x1]['count']=_0x2d577e['count'],_0xddd69a['primitive'][-0x6ee+-0x5e0+0xcce]['indexed']=_0x4dd0d3,_0xddd69a['skin']=_0x2d577e['skin']!==void(-0xf71*0x1+0x2000+-0x9d*0x1b)?_0x15c3ac[_0x2d577e['skin']]:null,_0xddd69a['morph']=_0x2d577e['morph']!==void(0x3d6*-0xa+0x336+0x2326)?_0xd974fe[_0x2d577e['morph']]:null,_0xddd69a['aabb']=_0x34e306,_0x4dd0d3&&(_0x1d7cfd['set'](_0x2d577e['indices'],_0x41f7e5),_0x41f7e5+=_0x2d577e['indices']['length']),_0x93fc97['push'](_0xddd69a);}return _0x15cdf2!==null&&_0x15cdf2['unlock'](),_0x93fc97;}['_parseMesh'+'Instances'](_0x48259f,_0x2ba77a,_0x56bd3b,_0x283f3e,_0x46345c,_0x461227,_0x5cfd62){const _0x266b17=_0x48259f['model'],_0x322fed=[];let _0x48aca3;for(_0x48aca3=-0x3*-0x422+0x1*0x141b+0x9d*-0x35;_0x48aca3<_0x266b17['meshInstan'+'ces']['length'];_0x48aca3++){const _0x321c2c=_0x266b17['meshInstan'+'ces'][_0x48aca3],_0x104bd7=_0x2ba77a[_0x321c2c['node']],_0x354b40=_0x56bd3b[_0x321c2c['mesh']],_0x58cff9=new Le(_0x354b40,this['_defaultMa'+'terial'],_0x104bd7);if(_0x354b40['skin']){const _0x257960=_0x283f3e['indexOf'](_0x354b40['skin']);if(_0x257960===-(-0x1b00+-0x401*-0x3+0x77f*0x2))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x58cff9['skinInstan'+'ce']=_0x46345c[_0x257960];}if(_0x354b40['morph']){const _0x1256ec=_0x461227['indexOf'](_0x354b40['morph']);if(_0x1256ec===-(-0x89*0xd+0x13f1+0xcfb*-0x1))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x58cff9['morphInsta'+'nce']=_0x5cfd62[_0x1256ec];}_0x322fed['push'](_0x58cff9);}return _0x322fed;}}class iL extends Ne{constructor(_0x2d33ca){super(_0x2d33ca,'model'),this['_parsers']=[],this['device']=_0x2d33ca['graphicsDe'+'vice'],this['assets']=_0x2d33ca['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0xcd8c1c,_0x640ae0)=>fe['getExtensi'+'on'](_0xcd8c1c)==='.json'),this['addParser'](new J2(this),(_0x1a8647,_0x51bb3d)=>fe['getExtensi'+'on'](_0x1a8647)==='.glb');}['load'](_0x4c0f2d,_0x545a4e,_0x12adfd){typeof _0x4c0f2d=='string'&&(_0x4c0f2d={'load':_0x4c0f2d,'original':_0x4c0f2d});const _0x40b059={'retry':this['maxRetries']>0x1*0xf8d+0x8*-0x3bf+0xe6b*0x1,'maxRetries':this['maxRetries']};(_0x4c0f2d['load']['startsWith']('blob:')||_0x4c0f2d['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x4c0f2d['original'])['toLowerCas'+'e']()==='.glb'?_0x40b059['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x40b059['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x4c0f2d['load'],_0x40b059,(_0x52e04b,_0x511191)=>{if(_0x545a4e){if(_0x52e04b)_0x545a4e('Error\x20load'+'ing\x20model:'+'\x20'+_0x4c0f2d['original']+'\x20['+_0x52e04b+']');else{for(let _0x208d44=0x2*-0x26f+0x256e+-0x2090;_0x208d44<this['_parsers']['length'];_0x208d44++){const _0x220399=this['_parsers'][_0x208d44];if(_0x220399['decider'](_0x4c0f2d['original'],_0x511191)){_0x220399['parser']['parse'](_0x511191,(_0x940462,_0x446408)=>{_0x940462?_0x545a4e(_0x940462):_0x545a4e(null,_0x446408);},_0x12adfd);return;}}_0x545a4e('No\x20parsers'+'\x20found');}}});}['open'](_0x15359e,_0x4bdccf){return _0x4bdccf;}['patch'](_0x881a6e,_0x42a155){if(!_0x881a6e['resource'])return;const _0x51267f=_0x881a6e['data'],_0x2cf6d2=this;_0x881a6e['resource']['meshInstan'+'ces']['forEach']((_0x53ea22,_0x24ac9e)=>{if(_0x51267f['mapping']){const _0x4e12e7=function(_0x5dcbb7){_0x5dcbb7['resource']?_0x53ea22['material']=_0x5dcbb7['resource']:(_0x5dcbb7['once']('load',_0x4e12e7),_0x42a155['load'](_0x5dcbb7)),_0x5dcbb7['once']('remove',_0x30073d=>{_0x53ea22['material']===_0x30073d['resource']&&(_0x53ea22['material']=_0x2cf6d2['defaultMat'+'erial']);});};if(!_0x51267f['mapping'][_0x24ac9e]){_0x53ea22['material']=_0x2cf6d2['defaultMat'+'erial'];return;}const _0x69857d=_0x51267f['mapping'][_0x24ac9e]['material'],_0x1338fd=_0x51267f['mapping'][_0x24ac9e]['path'];let _0xb6e466;if(_0x69857d!==void(0x1*0x23fd+-0x112*0xa+-0x1949*0x1))_0x69857d?(_0xb6e466=_0x42a155['get'](_0x69857d),_0xb6e466?_0x4e12e7(_0xb6e466):_0x42a155['once']('add:'+_0x69857d,_0x4e12e7)):_0x53ea22['material']=_0x2cf6d2['defaultMat'+'erial'];else{if(_0x1338fd){const _0x6d540=_0x881a6e['getAbsolut'+'eUrl'](_0x51267f['mapping'][_0x24ac9e]['path']);_0xb6e466=_0x42a155['getByUrl'](_0x6d540),_0xb6e466?_0x4e12e7(_0xb6e466):_0x42a155['once']('add:url:'+_0x6d540,_0x4e12e7);}}}});}['addParser'](_0xdd6d4d,_0x5ec9a2){this['_parsers']['push']({'parser':_0xdd6d4d,'decider':_0x5ec9a2});}}class rL extends Ne{constructor(_0x4b254b){super(_0x4b254b,'scene');}['load'](_0xb87c73,_0x5433ff){Lx['load'](_0xb87c73,this['maxRetries'],_0x5433ff);}['open'](_0x4cf6da,_0x3e0561){this['_app']['systems']['script']['preloading']=!(0x7cc*0x3+-0xbe2+0x5c1*-0x2);const _0x59a25d=new Wp(this['_app'],!(0x779+-0x1689*0x1+0x227*0x7))['parse'](_0x3e0561),_0x465a83=this['_app']['scene'];return _0x465a83['root']=_0x59a25d,this['_app']['applyScene'+'Settings'](_0x3e0561['settings']),this['_app']['systems']['script']['preloading']=!(-0x31*0x72+-0x4*-0x81+0x13cf),_0x465a83;}}const hc=class hc{static['push'](_0x255167){hc['_types']['push'](_0x255167);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0xc3fc7e,_0x3ef323,_0xd1e43d)=>{aL[_0xc3fc7e]=-0x1*0xf13+0x2b+0xee9;});function oL(_0xb5446f,_0x18a15d,_0x39872e){if(typeof _0xb5446f!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0xb5446f+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0xb5446f['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0xb5446f)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x18a15d=_0x18a15d||_0xb5446f['__name']||Qh['__getScrip'+'tName'](_0xb5446f),nL['has'](_0x18a15d))throw new Error('script\x20nam'+'e:\x20\x27'+_0x18a15d+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0xb5446f['__name']=_0x18a15d,qh['getApplica'+'tion']()['scripts']['add'](_0xb5446f),Xr['push'](_0xb5446f);}const lL=_0x2ba672=>_0x2ba672[0x1afc+0x1911+-0x340d]['toLowerCas'+'e']()+_0x2ba672['substring'](0x1*-0xab+0xd6*0x2+-0x40*0x4);class hL extends Ne{constructor(_0x39459a){super(_0x39459a,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x113ccd in this['_cache']){const _0x8a631b=this['_cache'][_0x113ccd],_0x5c0dfa=_0x8a631b['parentNode'];_0x5c0dfa&&_0x5c0dfa['removeChil'+'d'](_0x8a631b);}this['_cache']={};}['load'](_0x18181f,_0x40beb7){typeof _0x18181f=='string'&&(_0x18181f={'load':_0x18181f,'original':_0x18181f});const _0x3981a7=this;this['_app'];const _0x1836c5=(_0x18181f['load'],(_0x42db11,_0x446380,_0x1b3c43)=>{if(_0x42db11)_0x40beb7(_0x42db11);else{const _0x3c091c={};for(let _0x39bf06=-0x1af*0x7+0x641*0x1+0x588;_0x39bf06<Xr['_types']['length'];_0x39bf06++)_0x3c091c[Xr['_types'][_0x39bf06]['name']]=Xr['_types'][_0x39bf06];Xr['_types']['length']=-0x9f*-0x5+-0x14e0*-0x1+-0x17fb,_0x40beb7(null,_0x3c091c,_0x1b3c43);const _0xd1cbc=_0x446380['split']('&hash=')[0x955*0x3+0x105e+0x115*-0x29];delete _0x3981a7['_loader']['_cache'][pa['makeKey'](_0xd1cbc,'script')];}}),[_0x18cdea]=_0x18181f['load']['split']('?');_0x18cdea['endsWith']('.mjs')?this['_loadModul'+'e'](_0x18cdea,_0x1836c5):this['_loadScrip'+'t'](_0x18181f['load'],_0x1836c5);}['open'](_0x2aa29d,_0x15879c){return _0x15879c;}['patch'](_0x4fe615,_0x56443a){}['_loadScrip'+'t'](_0x55e4a4,_0x5a41f8){const _0x45a9ae=document['head'],_0xa14cc9=document['createElem'+'ent']('script');this['_cache'][_0x55e4a4]=_0xa14cc9,_0xa14cc9['async']=!(0x19*0xf+0x1cc+-0x342),_0xa14cc9['addEventLi'+'stener']('error',_0x166abf=>{_0x5a41f8('Script:\x20'+_0x166abf['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x4*-0x14b+0x10cf+-0xba2));let _0x289168=!(0x1b05+-0x21e3+0x6df);_0xa14cc9['onload']=_0xa14cc9['onreadysta'+'techange']=function(){!_0x289168&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x289168=!(0x171b+-0x1*-0x18db+-0x2ff6),_0x5a41f8(null,_0x55e4a4,_0xa14cc9));},_0xa14cc9['src']=_0x55e4a4,_0x45a9ae['appendChil'+'d'](_0xa14cc9);}['_loadModul'+'e'](_0x133c5a,_0x116729){const _0x25f911=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x5d89a7=new URL(_0x133c5a,_0x25f911);import(_0x5d89a7['toString']())['then'](_0x365d9e=>{var _0x346ef1,_0x17a113;const _0x3f94ee=_0x5d89a7['pathname']['split']('/')['pop'](),_0x3dc94b=(_0x17a113=(_0x346ef1=this['_app']['assets']['find'](_0x3f94ee,'script'))==null?void(0x9fc+0x26*0x71+-0x1ac2):_0x346ef1['data'])==null?void(-0x1bd4+0x3*0x4e7+0xd1f):_0x17a113['scripts'];for(const _0x30f903 in _0x365d9e){const _0x4e4cae=_0x365d9e[_0x30f903];if(_0x4e4cae['prototype']instanceof Ht){const _0x20edb1=lL(_0x4e4cae['name']);oL(_0x4e4cae,_0x20edb1),_0x3dc94b&&this['_app']['scripts']['addSchema'](_0x20edb1,_0x3dc94b[_0x20edb1]);}}_0x116729(null,_0x133c5a,null);})['catch'](_0x3e55d6=>{_0x116729(_0x3e55d6);});}}class cL extends Ne{constructor(_0x57bf0c){super(_0x57bf0c,'shader'),c(this,'decoder',null);}['load'](_0x164ac4,_0x4b2f16){typeof _0x164ac4=='string'&&(_0x164ac4={'load':_0x164ac4,'original':_0x164ac4}),$e['get'](_0x164ac4['load'],{'retry':this['maxRetries']>0x18d1+-0x1b1c+0x1*0x24b,'maxRetries':this['maxRetries']},(_0x4f12fa,_0x2df4bc)=>{_0x4f12fa?_0x4b2f16('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x164ac4['original']+'\x20['+_0x4f12fa+']'):_0x4b2f16(null,_0x2df4bc);});}['openBinary'](_0x5c66bc){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5c66bc);}}function eu(_0x1c57e4){const _0x3cd55d=this;_0x3cd55d['resource']&&(_0x3cd55d['resource']['atlas']=_0x1c57e4['resource']);}function tu(_0x5e1caa){this['registry']['load'](_0x5e1caa);}class dL extends Ne{constructor(_0x4b73a6){super(_0x4b73a6,'sprite'),this['_assets']=_0x4b73a6['assets'],this['_device']=_0x4b73a6['graphicsDe'+'vice'];}['load'](_0x52e656,_0x3ace8c){typeof _0x52e656=='string'&&(_0x52e656={'load':_0x52e656,'original':_0x52e656}),fe['getExtensi'+'on'](_0x52e656['original'])==='.json'&&$e['get'](_0x52e656['load'],{'retry':this['maxRetries']>0x2452*0x1+-0x4*0x142+-0x1f4a,'maxRetries':this['maxRetries']},(_0x10cd7b,_0x50be65)=>{_0x10cd7b?_0x3ace8c(_0x10cd7b):_0x3ace8c(null,_0x50be65);});}['open'](_0x5060e8,_0x482d74){const _0x1a0505=new T1(this['_device']);return _0x5060e8&&(_0x1a0505['__data']=_0x482d74),_0x1a0505;}['patch'](_0x244544,_0xd9bfbf){const _0x219c76=_0x244544['resource'];if(_0x219c76['__data']&&(_0x244544['data']['pixelsPerU'+'nit']=_0x219c76['__data']['pixelsPerU'+'nit'],_0x244544['data']['renderMode']=_0x219c76['__data']['renderMode'],_0x244544['data']['frameKeys']=_0x219c76['__data']['frameKeys'],_0x219c76['__data']['textureAtl'+'asAsset'])){const _0x26fbc3=_0xd9bfbf['getByUrl'](_0x219c76['__data']['textureAtl'+'asAsset']);_0x26fbc3?_0x244544['data']['textureAtl'+'asAsset']=_0x26fbc3['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x219c76['__data']['textureAtl'+'asAsset']);}_0x219c76['startUpdat'+'e'](),_0x219c76['renderMode']=_0x244544['data']['renderMode'],_0x219c76['pixelsPerU'+'nit']=_0x244544['data']['pixelsPerU'+'nit'],_0x219c76['frameKeys']=_0x244544['data']['frameKeys'],this['_updateAtl'+'as'](_0x244544),_0x219c76['endUpdate'](),_0x244544['off']('change',this['_onAssetCh'+'ange'],this),_0x244544['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x111c51){const _0x2a3f23=_0x111c51['resource'];if(!_0x111c51['data']['textureAtl'+'asAsset']){_0x2a3f23['atlas']=null;return;}this['_assets']['off']('load:'+_0x111c51['data']['textureAtl'+'asAsset'],eu,_0x111c51),this['_assets']['on']('load:'+_0x111c51['data']['textureAtl'+'asAsset'],eu,_0x111c51);const _0x391199=this['_assets']['get'](_0x111c51['data']['textureAtl'+'asAsset']);_0x391199&&_0x391199['resource']?_0x2a3f23['atlas']=_0x391199['resource']:_0x391199?this['_assets']['load'](_0x391199):(this['_assets']['off']('add:'+_0x111c51['data']['textureAtl'+'asAsset'],tu,_0x111c51),this['_assets']['on']('add:'+_0x111c51['data']['textureAtl'+'asAsset'],tu,_0x111c51));}['_onAssetCh'+'ange'](_0x24f19d,_0x4fbc6a,_0x42b800,_0x137ee6){_0x4fbc6a==='data'&&_0x42b800&&_0x42b800['textureAtl'+'asAsset']&&_0x137ee6&&_0x42b800['textureAtl'+'asAsset']!==_0x137ee6['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x137ee6['textureAtl'+'asAsset'],eu,_0x24f19d),this['_assets']['off']('add:'+_0x137ee6['textureAtl'+'asAsset'],tu,_0x24f19d));}}class Gg{constructor(_0x327a30,_0xb5c0e6){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x327a30,this['_data']=_0xb5c0e6);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x58ad21=new Wp(this['_app'],!(0x709+-0x147*-0x2+-0x1*0x997));this['_templateR'+'oot']=_0x58ad21['parse'](this['_data']);}}class uL extends Ne{constructor(_0x24cb24){super(_0x24cb24,'template'),c(this,'decoder',null);}['load'](_0x1f9d9a,_0x387ecf){typeof _0x1f9d9a=='string'&&(_0x1f9d9a={'load':_0x1f9d9a,'original':_0x1f9d9a});const _0x5a1c64={'retry':this['maxRetries']>-0x194d+-0x15a5+0x1779*0x2,'maxRetries':this['maxRetries']};$e['get'](_0x1f9d9a['load'],_0x5a1c64,(_0x167cf2,_0x402a12)=>{_0x167cf2?_0x387ecf('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x1f9d9a['original']):_0x387ecf(_0x167cf2,_0x402a12);});}['open'](_0x44f673,_0x55aaa8){return new Gg(this['_app'],_0x55aaa8);}['openBinary'](_0x1aaba3){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x1aaba3)));}}class fL extends Ne{constructor(_0x4a7f99){super(_0x4a7f99,'text'),c(this,'decoder',null);}['load'](_0x3dc406,_0x58136f){typeof _0x3dc406=='string'&&(_0x3dc406={'load':_0x3dc406,'original':_0x3dc406}),$e['get'](_0x3dc406['load'],{'retry':this['maxRetries']>-0x32*-0xb7+-0x5*0x329+-0x5*0x3fd,'maxRetries':this['maxRetries']},(_0x515590,_0x2d7916)=>{_0x515590?_0x58136f('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x3dc406['original']+'\x20['+_0x515590+']'):_0x58136f(null,_0x2d7916);});}['openBinary'](_0x2395ce){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x2395ce);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x286eb9){super(_0x286eb9,'textureatl'+'as'),this['_loader']=_0x286eb9['loader'];}['load'](_0x377f79,_0x12b2b4){typeof _0x377f79=='string'&&(_0x377f79={'load':_0x377f79,'original':_0x377f79});const _0x20c5dd=this,_0x216b7e=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x377f79['original'])==='.json'?$e['get'](_0x377f79['load'],{'retry':this['maxRetries']>0x25d7+0x1486+0x3a5d*-0x1,'maxRetries':this['maxRetries']},(_0x6ee470,_0x189b9b)=>{if(_0x6ee470)_0x12b2b4(_0x6ee470);else{const _0x27d2dd=_0x377f79['original']['replace']('.json','.png');_0x20c5dd['_loader']['load'](_0x27d2dd,'texture',(_0xfbd1ab,_0x5ca299)=>{_0xfbd1ab?_0x12b2b4(_0xfbd1ab):_0x12b2b4(null,{'data':_0x189b9b,'texture':_0x5ca299});});}}):_0x216b7e['load'](_0x377f79,_0x12b2b4);}['open'](_0xae1944,_0x3ff586,_0x54ebf5){const _0x27d76a=new A1();if(_0x3ff586['texture']&&_0x3ff586['data'])_0x27d76a['texture']=_0x3ff586['texture'],_0x27d76a['__data']=_0x3ff586['data'];else{const _0x5ae669=this['_loader']['getHandler']('texture')['open'](_0xae1944,_0x3ff586,_0x54ebf5);if(!_0x5ae669)return null;_0x27d76a['texture']=_0x5ae669;}return _0x27d76a;}['patch'](_0x1857bb,_0x3fb7ef){if(!_0x1857bb['resource'])return;_0x1857bb['resource']['__data']&&(_0x1857bb['resource']['__data']['minfilter']!==void(0xa19+-0x3*0x193+0x4*-0x158)&&(_0x1857bb['data']['minfilter']=_0x1857bb['resource']['__data']['minfilter']),_0x1857bb['resource']['__data']['magfilter']!==void(0x1baf+0x52f*-0x3+-0xc22*0x1)&&(_0x1857bb['data']['magfilter']=_0x1857bb['resource']['__data']['magfilter']),_0x1857bb['resource']['__data']['addressu']!==void(0x77c+-0x1*0x173+0x5*-0x135)&&(_0x1857bb['data']['addressu']=_0x1857bb['resource']['__data']['addressu']),_0x1857bb['resource']['__data']['addressv']!==void(-0x3*0x3fe+0x21d3+-0x77*0x2f)&&(_0x1857bb['data']['addressv']=_0x1857bb['resource']['__data']['addressv']),_0x1857bb['resource']['__data']['mipmaps']!==void(-0xa57+-0x71f*-0x3+-0x22*0x53)&&(_0x1857bb['data']['mipmaps']=_0x1857bb['resource']['__data']['mipmaps']),_0x1857bb['resource']['__data']['anisotropy']!==void(-0x26b6*0x1+0x5*0x52e+-0x28*-0x52)&&(_0x1857bb['data']['anisotropy']=_0x1857bb['resource']['__data']['anisotropy']),_0x1857bb['resource']['__data']['rgbm']!==void(-0x267d+0x106d+-0x8*-0x2c2)&&(_0x1857bb['data']['rgbm']=!!_0x1857bb['resource']['__data']['rgbm']),_0x1857bb['data']['frames']=_0x1857bb['resource']['__data']['frames'],delete _0x1857bb['resource']['__data']);const _0x2a9e53=_0x1857bb['resource']['texture'];if(_0x2a9e53&&(_0x2a9e53['name']=_0x1857bb['name'],_0x1857bb['data']['hasOwnProp'+'erty']('minfilter')&&_0x2a9e53['minFilter']!==sh[_0x1857bb['data']['minfilter']]&&(_0x2a9e53['minFilter']=sh[_0x1857bb['data']['minfilter']]),_0x1857bb['data']['hasOwnProp'+'erty']('magfilter')&&_0x2a9e53['magFilter']!==sh[_0x1857bb['data']['magfilter']]&&(_0x2a9e53['magFilter']=sh[_0x1857bb['data']['magfilter']]),_0x1857bb['data']['hasOwnProp'+'erty']('addressu')&&_0x2a9e53['addressU']!==th[_0x1857bb['data']['addressu']]&&(_0x2a9e53['addressU']=th[_0x1857bb['data']['addressu']]),_0x1857bb['data']['hasOwnProp'+'erty']('addressv')&&_0x2a9e53['addressV']!==th[_0x1857bb['data']['addressv']]&&(_0x2a9e53['addressV']=th[_0x1857bb['data']['addressv']]),_0x1857bb['data']['hasOwnProp'+'erty']('mipmaps')&&_0x2a9e53['mipmaps']!==_0x1857bb['data']['mipmaps']&&(_0x2a9e53['mipmaps']=_0x1857bb['data']['mipmaps']),_0x1857bb['data']['hasOwnProp'+'erty']('anisotropy')&&_0x2a9e53['anisotropy']!==_0x1857bb['data']['anisotropy']&&(_0x2a9e53['anisotropy']=_0x1857bb['data']['anisotropy']),_0x1857bb['data']['hasOwnProp'+'erty']('rgbm'))){const _0x27c79d=_0x1857bb['data']['rgbm']?on:Di;_0x2a9e53['type']!==_0x27c79d&&(_0x2a9e53['type']=_0x27c79d);}_0x1857bb['resource']['texture']=_0x2a9e53;const _0x4cf419={};for(const _0x235841 in _0x1857bb['data']['frames']){const _0x4ffffc=_0x1857bb['data']['frames'][_0x235841];_0x4cf419[_0x235841]={'rect':new Q(_0x4ffffc['rect']),'pivot':new W(_0x4ffffc['pivot']),'border':new Q(_0x4ffffc['border'])};}_0x1857bb['resource']['frames']=_0x4cf419,_0x1857bb['off']('change',this['_onAssetCh'+'ange'],this),_0x1857bb['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0xb1fa5d,_0x49827c,_0x1a008d){let _0x5f0b01;if(_0x49827c==='data'||_0x49827c==='data.frame'+'s'){const _0x3fc6f9={};for(const _0x919d7b in _0x1a008d['frames'])_0x5f0b01=_0x1a008d['frames'][_0x919d7b],_0x3fc6f9[_0x919d7b]={'rect':new Q(_0x5f0b01['rect']),'pivot':new W(_0x5f0b01['pivot']),'border':new Q(_0x5f0b01['border'])};_0xb1fa5d['resource']['frames']=_0x3fc6f9;}else{const _0x30f67e=_0x49827c['match'](pL);if(_0x30f67e){const _0x2e2311=_0x30f67e[0x841*0x2+0x12fe+-0x2bb*0xd];_0x1a008d?(_0xb1fa5d['resource']['frames'][_0x2e2311]?(_0x5f0b01=_0xb1fa5d['resource']['frames'][_0x2e2311],_0x5f0b01['rect']['set'](_0x1a008d['rect'][-0x13*-0x9b+0x21a8+-0x2d29*0x1],_0x1a008d['rect'][-0x138c+-0x2186+0x3513],_0x1a008d['rect'][-0x2268+-0xd69+-0x21*-0x173],_0x1a008d['rect'][-0x1faa+0x1721+0x88c]),_0x5f0b01['pivot']['set'](_0x1a008d['pivot'][-0x3d8+-0x11e0+0x22c*0xa],_0x1a008d['pivot'][0x18b*0x19+0x653+-0x2ce5]),_0x5f0b01['border']['set'](_0x1a008d['border'][0x1528+0x61e+-0x1b46],_0x1a008d['border'][0xf1a+0x22fe+-0x3217],_0x1a008d['border'][0x53f+-0x1*0x1606+0x10c9],_0x1a008d['border'][-0x6c1*0x2+-0x726+0x14ab])):_0xb1fa5d['resource']['frames'][_0x2e2311]={'rect':new Q(_0x1a008d['rect']),'pivot':new W(_0x1a008d['pivot']),'border':new Q(_0x1a008d['border'])},_0xb1fa5d['resource']['fire']('set:frame',_0x2e2311,_0xb1fa5d['resource']['frames'][_0x2e2311])):_0xb1fa5d['resource']['frames'][_0x2e2311]&&(delete _0xb1fa5d['resource']['frames'][_0x2e2311],_0xb1fa5d['resource']['fire']('remove:fra'+'me',_0x2e2311));}}}}function _L(){const _0x33d612={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x355694={'astc':_0x33d612['cTFASTC_4x'+'4'],'dxt':_0x33d612['cTFBC1'],'etc1':_0x33d612['cTFETC1'],'etc2':_0x33d612['cTFETC1'],'pvr':_0x33d612['cTFPVRTC1_'+'4_RGB'],'atc':_0x33d612['cTFATC_RGB'],'none':_0x33d612['cTFRGB565']},_0x15382c={'astc':_0x33d612['cTFASTC_4x'+'4'],'dxt':_0x33d612['cTFBC3'],'etc1':_0x33d612['cTFRGBA444'+'4'],'etc2':_0x33d612['cTFETC2'],'pvr':_0x33d612['cTFPVRTC1_'+'4_RGBA'],'atc':_0x33d612['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x33d612['cTFRGBA444'+'4']},_0x5b7552={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x578f2d=(_0x3fd40d,_0x50af1a)=>{switch(_0x3fd40d){case _0x33d612['cTFETC1']:return _0x50af1a['formats']['etc2']?_0x5b7552['ETC2_RGB']:_0x5b7552['ETC1'];case _0x33d612['cTFETC2']:return _0x5b7552['ETC2_RGBA'];case _0x33d612['cTFBC1']:return _0x5b7552['DXT1'];case _0x33d612['cTFBC3']:return _0x5b7552['DXT5'];case _0x33d612['cTFPVRTC1_'+'4_RGB']:return _0x5b7552['PVRTC_4BPP'+'_RGB_1'];case _0x33d612['cTFPVRTC1_'+'4_RGBA']:return _0x5b7552['PVRTC_4BPP'+'_RGBA_1'];case _0x33d612['cTFASTC_4x'+'4']:return _0x5b7552['ASTC_4x4'];case _0x33d612['cTFATC_RGB']:return _0x5b7552['ATC_RGB'];case _0x33d612['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x5b7552['ATC_RGBA'];case _0x33d612['cTFRGBA32']:return _0x5b7552['R8_G8_B8_A'+'8'];case _0x33d612['cTFRGB565']:return _0x5b7552['R5_G6_B5'];case _0x33d612['cTFRGBA444'+'4']:return _0x5b7552['R4_G4_B4_A'+'4'];}},_0x101eff=_0x4b8893=>{const _0x4e08b8=function(_0x659fc5,_0x36113a){const _0xd401f3=_0x659fc5*(0x1*-0xd+-0x222b+0x248*0xf+0.00784313725490196)-(0x262c+-0x21bc+-0xe3*0x5),_0x47784e=_0x36113a*((0x1bfa+0xe4e*0x1+-0x2a46)/(-0x21e6+0x26af+-0x3ca))-(0x2556+-0x12ad*-0x2+-0x4aaf),_0x292004=Math['sqrt'](0x22f*-0x11+0x25a7+-0x87-Math['min'](0x110b+0x1*0x1862+-0x296c,_0xd401f3*_0xd401f3+_0x47784e*_0x47784e));return Math['max'](0x1*0x12b+0x1899+-0x19c4,Math['min'](-0x187*0x1+-0xd*-0x1b7+0x1*-0x13c5,Math['floor']((_0x292004+(-0xf6b+-0x1540+0x1*0x24ac))*(-0x1d65+0x4f2+0x239*0xb+0.5)*(0x1*0x1816+-0xf38+-0x1*0x7df))));};for(let _0xf740b2=-0x176*-0x2+0x1ec+-0x4d8;_0xf740b2<_0x4b8893['length'];_0xf740b2+=-0x871+-0x812*-0x3+0x6d*-0x25){const _0x48f8a4=_0x4b8893[_0xf740b2+(0xab7+0x21a9+-0x1*0x2c5d)],_0x4f1b56=_0x4b8893[_0xf740b2+(-0x19d9+-0xdb+-0x35*-0x81)];_0x4b8893[_0xf740b2+(0x13b3+0x9d*0x3d+-0xd7*0x44)]=_0x48f8a4,_0x4b8893[_0xf740b2+(-0x253e+-0x1727+0x3c67)]=_0x4e08b8(_0x48f8a4,_0x4f1b56),_0x4b8893[_0xf740b2+(-0x145e+-0x17e9+0x2c4a)]=0x6a1*0x5+-0x9bc*-0x2+-0x339e;}return _0x4b8893;},_0x57e941=_0x534460=>{const _0x30490f=new Uint16Array(_0x534460['length']/(0x1119+0xa*0x7+-0x115b));for(let _0x1d9c1b=-0x1909+0xd5b+-0xd*-0xe6;_0x1d9c1b<_0x534460['length'];_0x1d9c1b+=-0x189*0x6+0x1a2f+-0x10f5){const _0x15e22b=_0x534460[_0x1d9c1b+(-0x670*-0x4+0x23cf+-0x3d8f*0x1)],_0x5bb91e=_0x534460[_0x1d9c1b+(0x20f8+0x160c+-0x3703)],_0x201e0d=_0x534460[_0x1d9c1b+(0x1394+0x11*0xc7+-0x20c9)];_0x30490f[_0x1d9c1b/(-0x1*0x23ad+-0x7c9*-0x3+0xc56)]=(_0x15e22b&-0x71*0x56+-0x352+-0x20*-0x152)<<0x191*0x1+0x306*0x3+0xb5*-0xf|(_0x5bb91e&-0xc0b*-0x3+-0x2009+-0x31c)<<0xe33+0xc98+-0x1ac8|_0x201e0d>>-0xbf5*-0x1+-0x22dc+0x16ea;}return _0x30490f;},_0x2dd9a0=(_0x4f1801,_0x1036f2)=>(_0x4f1801&_0x4f1801-(0xe90+0x13fc+-0x25*0xef))===-0x1*0x68c+-0x1690+0x9b4*0x3&&(_0x1036f2&_0x1036f2-(-0x1*-0x17a6+-0x1a5a+-0x21*-0x15))===0xad*-0xd+0x1f+-0x2*-0x455,_0x4519a0=()=>typeof performance<'u'?performance['now']():0x5*-0x96+0x9a*-0x25+-0x1f*-0xd0;let _0x42fd14,_0x29d327,_0x319e25;const _0x3cc8aa=(_0x568bcd,_0x1249e7,_0x39a0eb)=>{if(_0x39a0eb){if(_0x568bcd['formats']['astc'])return'astc';}else{if(_0x1249e7){if(_0x568bcd['formats']['etc2'])return'etc2';}else{if(_0x568bcd['formats']['etc2'])return'etc2';if(_0x568bcd['formats']['etc1'])return'etc1';}}return(_0x40affb=>{for(let _0x6f1af9=-0x1094+-0x1b1*0xa+0x217e;_0x6f1af9<_0x40affb['length'];++_0x6f1af9){const _0x7b302=_0x40affb[_0x6f1af9];if(_0x568bcd['formats'][_0x7b302])return _0x7b302;}return'none';})(_0x1249e7?_0x319e25:_0x29d327);},_0x444b0e=(_0x4051c1,_0x54cd0b,_0x2d55d5)=>{switch(_0x2d55d5){case _0x33d612['cTFETC1']:case _0x33d612['cTFETC2']:return!(0x1415+-0x1fae+0xb99);case _0x33d612['cTFBC1']:case _0x33d612['cTFBC3']:return(_0x4051c1&-0x1f3a+0x1*0x13d8+-0x1*-0xb65)===-0x1*-0x1a23+0x970*-0x2+-0x743&&(_0x54cd0b&0x1f39+-0x14b6+-0xa80)===0xf49+-0x187f+-0x49b*-0x2;case _0x33d612['cTFPVRTC1_'+'4_RGB']:case _0x33d612['cTFPVRTC1_'+'4_RGBA']:return _0x2dd9a0(_0x4051c1,_0x54cd0b);case _0x33d612['cTFASTC_4x'+'4']:return!(0x2162*0x1+-0x8*-0x33b+-0x3b3a);case _0x33d612['cTFATC_RGB']:case _0x33d612['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x1f7*-0x1+-0x1d*-0x1f+0x2*-0x2bd);}return!(0x5a3+0x33*-0x1+-0x56f);},_0x53c0a0=(_0x2cb8cc,_0x4170c0,_0x46a656)=>{if(!_0x42fd14['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x44bb97=_0x4519a0(),_0x55bb1f=new _0x42fd14['KTX2File'](new Uint8Array(_0x4170c0)),_0x3e816a=_0x55bb1f['getWidth'](),_0x357739=_0x55bb1f['getHeight'](),_0x4dfa32=_0x55bb1f['getLevels'](),_0x3c2273=!!_0x55bb1f['getHasAlph'+'a'](),_0x21503d=_0x55bb1f['isUASTC']&&_0x55bb1f['isUASTC']();if(!_0x3e816a||!_0x357739||!_0x4dfa32)throw _0x55bb1f['close'](),_0x55bb1f['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2cb8cc+'\x20width='+_0x3e816a+'\x20height='+_0x357739+'\x20levels='+_0x4dfa32);const _0x4d44f3=_0x3cc8aa(_0x46a656['deviceDeta'+'ils'],_0x3c2273,_0x21503d),_0xbb6e40=!!_0x46a656['isGGGR']&&_0x4d44f3==='pvr';let _0x32ef12;if(_0xbb6e40?_0x32ef12=_0x33d612['cTFRGBA32']:(_0x32ef12=_0x3c2273?_0x15382c[_0x4d44f3]:_0x355694[_0x4d44f3],_0x444b0e(_0x3e816a,_0x357739,_0x32ef12)||(_0x32ef12=_0x3c2273?_0x33d612['cTFRGBA32']:_0x33d612['cTFRGB565'])),!_0x55bb1f['startTrans'+'coding']())throw _0x55bb1f['close'](),_0x55bb1f['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2cb8cc);let _0x1c7492;const _0x278a37=[];for(let _0x1cde1c=-0x2575*-0x1+0x4*-0x92a+-0x1*0xcd;_0x1cde1c<_0x4dfa32;++_0x1cde1c){const _0x5143de=_0x55bb1f['getImageTr'+'anscodedSi'+'zeInBytes'](_0x1cde1c,0x12eb+0xa9f+-0xc7*0x26,-0x2a*0x43+0xda9+-0x2ab,_0x32ef12),_0x2cd511=new Uint8Array(_0x5143de);if(!_0x55bb1f['transcodeI'+'mage'](_0x2cd511,_0x1cde1c,0xd9*0x23+0x1a11+-0x37bc,0xb4c+-0x1302+0x7b6,_0x32ef12,-0x167*0x19+0x2222+0xed,-(0x21d*-0xe+-0x8bc+-0x1*-0x2653),-(-0x6da*-0x3+-0x15e0+0x1*0x153)))throw _0x55bb1f['close'](),_0x55bb1f['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2cb8cc);const _0x5e95c1=_0x32ef12===_0x33d612['cTFRGB565']||_0x32ef12===_0x33d612['cTFRGBA444'+'4'];_0x278a37['push'](_0x5e95c1?new Uint16Array(_0x2cd511['buffer']):_0x2cd511);}if(_0x55bb1f['close'](),_0x55bb1f['delete'](),_0xbb6e40){for(_0x32ef12=_0x33d612['cTFRGB565'],_0x1c7492=0x1*0x1cc9+0x69e+-0x3*0xbcd;_0x1c7492<_0x278a37['length'];++_0x1c7492)_0x278a37[_0x1c7492]=_0x57e941(_0x101eff(_0x278a37[_0x1c7492]));}return{'format':_0x578f2d(_0x32ef12,_0x46a656['deviceDeta'+'ils']),'width':_0x3e816a,'height':_0x357739,'levels':_0x278a37,'cubemap':!(0x5ce*0x5+0x1791+0x6a*-0x7f),'transcodeTime':_0x4519a0()-_0x44bb97,'url':_0x2cb8cc,'unswizzledGGGR':_0xbb6e40};},_0x5591b8=(_0x5b5a61,_0x15c992,_0x1d13f5)=>{const _0xf1be8b=_0x4519a0(),_0x37b86c=new _0x42fd14['BasisFile'](new Uint8Array(_0x15c992)),_0xdb76a7=_0x37b86c['getImageWi'+'dth'](-0x6*0x309+-0x110+-0x9a3*-0x2,-0x4*-0x411+-0x5ee+0x1b9*-0x6),_0x1b5f06=_0x37b86c['getImageHe'+'ight'](0x11be+0x1*-0x5d9+-0xbe5,-0xa35+0x2e*-0xa+0xc01),_0x414f1b=_0x37b86c['getNumImag'+'es'](),_0xbc42d8=_0x37b86c['getNumLeve'+'ls'](-0x167e+-0x12d6*0x1+0x211*0x14),_0x4c4b43=!!_0x37b86c['getHasAlph'+'a'](),_0x4799a6=_0x37b86c['isUASTC']&&_0x37b86c['isUASTC']();if(!_0xdb76a7||!_0x1b5f06||!_0x414f1b||!_0xbc42d8)throw _0x37b86c['close'](),_0x37b86c['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x5b5a61+'\x20width='+_0xdb76a7+'\x20height='+_0x1b5f06+'\x20images='+_0x414f1b+'\x20levels='+_0xbc42d8);const _0x3831df=_0x3cc8aa(_0x1d13f5['deviceDeta'+'ils'],_0x4c4b43,_0x4799a6),_0x140268=!!_0x1d13f5['isGGGR']&&_0x3831df==='pvr';let _0x20697e;if(_0x140268?_0x20697e=_0x33d612['cTFRGBA32']:(_0x20697e=_0x4c4b43?_0x15382c[_0x3831df]:_0x355694[_0x3831df],_0x444b0e(_0xdb76a7,_0x1b5f06,_0x20697e)||(_0x20697e=_0x4c4b43?_0x33d612['cTFRGBA32']:_0x33d612['cTFRGB565'])),!_0x37b86c['startTrans'+'coding']())throw _0x37b86c['close'](),_0x37b86c['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x5b5a61);let _0xdd3f2c;const _0x473bc6=[];for(let _0x4ed292=0x1*0xce3+0xe3*0x2+-0x3*0x4e3;_0x4ed292<_0xbc42d8;++_0x4ed292){const _0x226129=_0x37b86c['getImageTr'+'anscodedSi'+'zeInBytes'](0x1da4+-0x1879+-0x52b,_0x4ed292,_0x20697e),_0x11af08=new Uint8Array(_0x226129);if(!_0x37b86c['transcodeI'+'mage'](_0x11af08,0x1e0+0x1*0x11e9+0x5*-0x3f5,_0x4ed292,_0x20697e,-0xed8*-0x2+0x24*0x92+0x647*-0x8,-0xf65+-0x1e55+0x2dba)){if(_0x4ed292===_0xbc42d8-(-0x27*0x21+0x170e+-0x1206)&&_0x226129===_0x473bc6[_0x4ed292-(-0xc4*0x17+0x6e1*0x4+0x41*-0x27)]['buffer']['byteLength'])_0x11af08['set'](new Uint8Array(_0x473bc6[_0x4ed292-(-0x34e+0xc21+0x8d2*-0x1)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x5b5a61);else throw _0x37b86c['close'](),_0x37b86c['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x5b5a61);}const _0x55ed24=_0x20697e===_0x33d612['cTFRGB565']||_0x20697e===_0x33d612['cTFRGBA444'+'4'];_0x473bc6['push'](_0x55ed24?new Uint16Array(_0x11af08['buffer']):_0x11af08);}if(_0x37b86c['close'](),_0x37b86c['delete'](),_0x140268){for(_0x20697e=_0x33d612['cTFRGB565'],_0xdd3f2c=-0x3*0x4e3+0x29d*0x5+-0x88*-0x3;_0xdd3f2c<_0x473bc6['length'];++_0xdd3f2c)_0x473bc6[_0xdd3f2c]=_0x57e941(_0x101eff(_0x473bc6[_0xdd3f2c]));}return{'format':_0x578f2d(_0x20697e,_0x1d13f5['deviceDeta'+'ils']),'width':_0xdb76a7,'height':_0x1b5f06,'levels':_0x473bc6,'cubemap':!(-0xe*0x1dd+0xd9*0x19+0x1*0x4e6),'transcodeTime':_0x4519a0()-_0xf1be8b,'url':_0x5b5a61,'unswizzledGGGR':_0x140268};},_0x25d065=(_0x586d68,_0x1efb2a,_0x2b0f91)=>_0x2b0f91['isKTX2']?_0x53c0a0(_0x586d68,_0x1efb2a,_0x2b0f91):_0x5591b8(_0x586d68,_0x1efb2a,_0x2b0f91),_0x47d7fa=(_0x5c648c,_0x8d6fdb,_0x41fd75)=>{try{const _0x5d0913=_0x25d065(_0x5c648c,_0x8d6fdb,_0x41fd75);_0x5d0913['levels']=_0x5d0913['levels']['map'](_0x366162=>_0x366162['buffer']),self['postMessag'+'e']({'url':_0x5c648c,'data':_0x5d0913},_0x5d0913['levels']);}catch(_0x483d9c){self['postMessag'+'e']({'url':_0x5c648c,'err':_0x483d9c},null);}},_0x34b04d=(_0x5ed8b1,_0x2f1f8c)=>{const _0x265fb2=(_0x41fd35,_0x248b15)=>(WebAssembly['instantiat'+'e'](_0x5ed8b1['module'],_0x41fd35)['then'](_0x10e704=>{_0x248b15(_0x10e704);})['catch'](_0x46422f=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x46422f);}),{});self['BASIS'](_0x5ed8b1['module']?{'instantiateWasm':_0x265fb2}:null)['then'](_0x4490c8=>{_0x4490c8['initialize'+'Basis'](),_0x42fd14=_0x4490c8,_0x29d327=_0x5ed8b1['rgbPriorit'+'y'],_0x319e25=_0x5ed8b1['rgbaPriori'+'ty'],_0x2f1f8c(null);});},_0x1ff154=[];self['onmessage']=_0x458357=>{const _0x17e366=_0x458357['data'];switch(_0x17e366['type']){case'init':_0x34b04d(_0x17e366['config'],()=>{for(let _0x3596d1=-0x17*0xd5+-0x227c+0x1*0x359f;_0x3596d1<_0x1ff154['length'];++_0x3596d1)_0x47d7fa(_0x1ff154[_0x3596d1]['url'],_0x1ff154[_0x3596d1]['data'],_0x1ff154[_0x3596d1]['options']);_0x1ff154['length']=0xd1+0x1bb*-0x1+0xea;});break;case'transcode':_0x42fd14?_0x47d7fa(_0x17e366['url'],_0x17e366['data'],_0x17e366['options']):_0x1ff154['push'](_0x17e366);break;}};}const gL=_0x3e5568=>({'astc':!!_0x3e5568['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x3e5568['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x3e5568['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x3e5568['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x3e5568['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x3e5568['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x527eac,_0x5d4a53)=>{const _0x27faf0=_0x31516a=>{const _0x10260e=['/*\x20basis\x20*'+'/',_0x31516a,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x10260e],{'type':'applicatio'+'n/javascri'+'pt'});},_0x3c70f6=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x33d9b2=new WebAssembly['Module'](Uint8Array['of'](-0x243a+-0x416*0x1+-0x56*-0x78,-0x94c+0x2185*0x1+-0x17d8,0x16b8+-0x2184+0x1*0xb3f,-0x52b+-0x1357*-0x1+-0x45*0x33,-0x40a+0x138e*0x1+-0xf83,-0x8ac+-0xd62*-0x2+-0x1218,-0x71e+-0x1d9b*0x1+-0x4f*-0x77,-0x2*0x358+0x4*-0x214+-0x140*-0xc));if(_0x33d9b2 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x33d9b2)instanceof WebAssembly['Instance'];}}catch{}return!(0x5*0x70f+-0x1f7*0x7+-0x95*0x25);},_0x223879=(_0x4ab734,_0x4f79a9)=>{_0x5d4a53(null,{'workerUrl':URL['createObje'+'ctURL'](_0x27faf0(_0x4ab734)),'module':_0x4f79a9,'rgbPriority':_0x527eac['rgbPriorit'+'y'],'rgbaPriority':_0x527eac['rgbaPriori'+'ty']});},_0x14d13c={'cache':!(0x3*-0xb47+-0x132+0x3d*0x93),'responseType':'text','retry':_0x527eac['maxRetries']>0x11c8+0x3*0x2a5+-0x1*0x19b7,'maxRetries':_0x527eac['maxRetries']};if(_0x527eac['glueUrl']&&_0x527eac['wasmUrl']&&_0x3c70f6()){let _0x301507=null,_0x328870=null;$e['get'](_0x527eac['glueUrl'],_0x14d13c,(_0x4be19d,_0x14371d)=>{_0x4be19d?_0x5d4a53(_0x4be19d):_0x328870?_0x223879(_0x14371d,_0x328870):_0x301507=_0x14371d;});const _0x9d9c75=fetch(_0x527eac['wasmUrl']),_0x20a485=()=>{_0x9d9c75['then'](_0x1b705f=>_0x1b705f['arrayBuffe'+'r']())['then'](_0x4035c7=>WebAssembly['compile'](_0x4035c7))['then'](_0x15373c=>{_0x301507?_0x223879(_0x301507,_0x15373c):_0x328870=_0x15373c;})['catch'](_0x14018e=>{_0x5d4a53(_0x14018e,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x9d9c75)['then'](_0x460f1e=>{_0x301507?_0x223879(_0x301507,_0x460f1e):_0x328870=_0x460f1e;})['catch'](_0x41f662=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x527eac['wasmUrl']+'\x20('+_0x41f662+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x20a485();}):_0x20a485();}else $e['get'](_0x527eac['fallbackUr'+'l'],_0x14d13c,(_0x5efbaa,_0x287ddf)=>{_0x5efbaa?_0x5d4a53(_0x5efbaa,null):_0x223879(_0x287ddf,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x216a5e,_0x3cfddd,_0x467712,_0x219499){if(this['callbacks']['hasOwnProp'+'erty'](_0x216a5e))this['callbacks'][_0x216a5e]['push'](_0x467712);else{this['callbacks'][_0x216a5e]=[_0x467712];const _0x110903={'url':_0x216a5e,'data':_0x3cfddd,'options':_0x219499};this['clients']['length']>0x765+0x1a77+-0x21dc?this['clients']['shift']()['run'](_0x110903):this['queue']['push'](_0x110903);}}['enqueueCli'+'ent'](_0x6bac29){this['queue']['length']>0x255e+-0x28*0x1+-0x129b*0x2?_0x6bac29['run'](this['queue']['shift']()):this['clients']['push'](_0x6bac29);}['handleResp'+'onse'](_0x4d5cea,_0x51d7f1,_0x3a7912){const _0x324179=this['callbacks'][_0x4d5cea];if(_0x51d7f1){for(let _0x21e831=0xf40+-0x1176+0x236;_0x21e831<_0x324179['length'];++_0x21e831)_0x324179[_0x21e831](_0x51d7f1);}else{_0x3a7912['format']===_c||_0x3a7912['format']===gc?_0x3a7912['levels']=_0x3a7912['levels']['map'](_0x5b2a5e=>new Uint16Array(_0x5b2a5e)):_0x3a7912['levels']=_0x3a7912['levels']['map'](_0x47b5f5=>new Uint8Array(_0x47b5f5));for(let _0x14d17d=0x15a4+-0x3d*0x2f+-0xa71;_0x14d17d<_0x324179['length'];++_0x14d17d)_0x324179[_0x14d17d](null,_0x3a7912);}delete this['callbacks'][_0x4d5cea];}}class SL{constructor(_0x50d530,_0xa5cab2,_0x56fe0c){this['queue']=_0x50d530,this['worker']=new Worker(_0xa5cab2['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x5df69a=>{const _0x5969ea=_0x5df69a['data'];this['queue']['handleResp'+'onse'](_0x5969ea['url'],_0x5969ea['err'],_0x5969ea['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0xa5cab2}),this['eager']=_0x56fe0c;}['run'](_0x5527fd){const _0xe0ae13=[];_0x5527fd['data']instanceof ArrayBuffer&&_0xe0ae13['push'](_0x5527fd['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x5527fd['url'],'format':_0x5527fd['format'],'data':_0x5527fd['data'],'options':_0x5527fd['options']},_0xe0ae13),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=0x1*0x1f91+0xab*-0x27+0x53*-0x11,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=-0x21c7*-0x1+-0x1678+-0xb4a,Tf=new xL();let Hg=null,Af=!(-0xe*-0x189+0x184*0x14+0x59*-0x95);function AL(_0x5e08b0){if(!Af){if(!_0x5e08b0)_0x5e08b0=Hg||{};else{if(_0x5e08b0['lazyInit']){Hg=_0x5e08b0;return;}}if(!_0x5e08b0['glueUrl']||!_0x5e08b0['wasmUrl']||!_0x5e08b0['fallbackUr'+'l']){const _0x17bc33=ay['getConfig']('BASIS');_0x17bc33&&(_0x5e08b0={'glueUrl':_0x17bc33['glueUrl'],'wasmUrl':_0x17bc33['wasmUrl'],'fallbackUrl':_0x17bc33['fallbackUr'+'l'],'numWorkers':_0x17bc33['numWorkers']});}if(_0x5e08b0['glueUrl']||_0x5e08b0['wasmUrl']||_0x5e08b0['fallbackUr'+'l']){Af=!(0x1b10+0x15*0xa5+-0x2899);const _0x1071f8=Math['max'](-0xcc*0x2b+-0x26ae*-0x1+-0x469,Math['min'](-0x1d27*-0x1+0x1188+-0x5*0x953,_0x5e08b0['numWorkers']||vL)),_0x4fc267=_0x5e08b0['numWorkers']===0xbd1+-0x1066+0x496||(_0x5e08b0['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x5e08b0['eagerWorke'+'rs']:!(-0x74b*0x3+0x189d*0x1+-0x15e*0x2));_0x5e08b0['rgbPriorit'+'y']=_0x5e08b0['rgbPriorit'+'y']||bL,_0x5e08b0['rgbaPriori'+'ty']=_0x5e08b0['rgbaPriori'+'ty']||wL,_0x5e08b0['maxRetries']=_0x5e08b0['hasOwnProp'+'erty']('maxRetries')?_0x5e08b0['maxRetries']:TL,yL(_0x5e08b0,(_0x357823,_0x2e798f)=>{if(_0x357823)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x357823);else{for(let _0x1d7d24=0x1ebf+0x3*-0x34a+-0x5*0x42d;_0x1d7d24<_0x1071f8;++_0x1d7d24)Tf['enqueueCli'+'ent'](new SL(Tf,_0x2e798f,_0x4fc267));}});}}}let su=null;function Fx(_0x51f494,_0x2e2037,_0x3be297,_0x405bb2,_0x2b1652){return AL(),su||(su={'formats':gL(_0x51f494)}),Tf['enqueueJob'](_0x2e2037,_0x3be297,_0x405bb2,{'deviceDetails':su,'isGGGR':!!(_0x2b1652!=null&&_0x2b1652['isGGGR']),'isKTX2':!!(_0x2b1652!=null&&_0x2b1652['isKTX2'])}),Af;}class Na{['load'](_0x4f8a62,_0x58a777,_0x3002b8){throw new Error('not\x20implem'+'ented');}['open'](_0x524c36,_0x34d0b1,_0x52f300){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x1108b9,_0x1bbc7e){super(),this['device']=_0x1bbc7e,this['maxRetries']=0x1eb3+0x1d80+-0x3c33;}['load'](_0x58f422,_0xd6e85c,_0x3e5d5c){const _0x403e67=this['device'],_0x23bec2=_0x4c9922=>{var _0x2694f6,_0xc1cd3a,_0x2d3aa7;Fx(_0x403e67,_0x58f422['load'],_0x4c9922,_0xd6e85c,{'isGGGR':(((_0x2d3aa7=(_0xc1cd3a=(_0x2694f6=_0x3e5d5c==null?void(-0x6*-0x52f+-0x3b*-0x1c+-0x258e):_0x3e5d5c['file'])==null?void(-0x1279+0x8fc+-0x7*-0x15b):_0x2694f6['variants'])==null?void(0x1*0x26cb+-0x1d3e+0x1e9*-0x5):_0xc1cd3a['basis'])==null?void(0x242*-0x1+0x2613+-0x23d1):_0x2d3aa7['opt'])&-0x21*0x33+-0x1*0x24d7+0x2b72)!==0x758+-0x13*-0x67+-0xefd})||_0xd6e85c('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x3e5d5c['name']+']('+_0x3e5d5c['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x58f422['load'],(_0x1e8fe7,_0x56815f)=>{_0x1e8fe7?_0xd6e85c(_0x1e8fe7):_0x23bec2(_0x56815f);},_0x3e5d5c,this['maxRetries']);}['open'](_0x5b8b91,_0x133de3,_0x5ce1a4,_0x5a82fc={}){const _0xa8a3e0=_0x5a82fc['srgb']?Cc(_0x133de3['format']):_0x133de3['format'],_0xdac3d=new he(_0x5ce1a4,{'name':_0x5b8b91,'profilerHint':ur,'addressU':_0x133de3['cubemap']?ae:tt,'addressV':_0x133de3['cubemap']?ae:tt,'width':_0x133de3['width'],'height':_0x133de3['height'],'format':_0xa8a3e0,'cubemap':_0x133de3['cubemap'],'levels':_0x133de3['levels'],..._0x5a82fc});return _0xdac3d['upload'](),_0xdac3d;}}const Ox=new Uint8Array([0x1c29+0x9f9+0x36b*-0xb,0xfb1+0xb*-0x167+0xc,-0x1889+0x210c+-0x835*0x1,-0x1547+0x1d6+0x8*0x277,0x1d8f+0x2320+-0x40a2*0x1,0xca*0x5+0x443*-0x3+0x8e1*0x1,-0x71f*0x1+-0x12b*-0x1+0x60e,-0x21f*0x11+-0x1eca+0x42e3,-0x1179+-0x1ef6*0x1+0x306f,-0x8d*0x19+-0x248b+0x3250,0x12db+0x10a4*-0x2+0x4cf*0x3,-0x2*0x1087+-0x35f*0x8+0x3c13*0x1,-0x4c3+-0x1*-0x1ef+-0x31d*-0x1,-0xb*-0x2bf+0x1d94+-0x3b81*0x1,-0x13bc+-0x1c33+0x3033,-0x79d*-0x5+0x36f*-0x8+-0xa47,0xadb+0x1*-0x1759+0x1a*0x7b,0x268d+-0x505+-0x2188,0x24ae+-0xcae+0x600*-0x4,0x1*-0x2598+-0x18ba+0x3e53,-0x2515+-0x2362+0x4877,0x2242*-0x1+-0x20b*-0x1+0x2037,-0x34+0x2203+-0xb45*0x3,0x1753+0x21b7+-0x3909,-0x3fb*0x3+0x1542+-0x949*0x1,0xd2b*0x1+0x104a*-0x1+0x325,0xcdb+0x1*-0xe87+-0x6b*-0x4,-0x11d4+-0x7*-0x227+0x2c3,-0x470*-0x7+0x829*-0x2+-0xebe,-0x2*-0xa99+-0xc0*0xa+-0xd93,0x1c5f+-0x10ef+0x33*-0x39,0x886+-0x15*-0x1c3+0x43*-0xab,0x538+0x267a+-0x2b29,-0x1*-0x138+0x10e+0x123*-0x2,-0xe5*-0x7+-0x5*-0x716+-0x29b1,-0xbe9+0x2*-0xf51+0x2a8b,0x68*0x4f+0x845+-0x2850,0x5bf*-0x3+0x1b7+0xfcf,0x6e2*-0x1+0x13d9+0x1*-0xcb3,0x2664+0x2477*-0x1+0x2*-0xd6,-0x265*-0xd+0x45c+-0x1*0x2329,-0x1*0x60d+-0x1213+0x1898,0xb5*0x2b+-0x1d*0x101+0x2*-0x38,-0x133*-0x1f+0x18d9+-0x1f*0x1fd,-0x1*0x1cfa+0xcd1*-0x1+-0x1*-0x2a2f,0x18d2+0x10b0+-0x148f*0x2,0x27*-0x17+-0x2ad+0x690,-0x4*0x222+-0x4*-0x3bd+-0x5b6,-0x72*0x1d+0xf89+-0x298,-0x2*0x41+0x1156+-0x10d4,-0x24a8+0x1484+-0x2*-0x812,-0x17d6+-0x1bc+-0x19eb*-0x1,-0x21*-0xb9+0x1884+-0x305d,-0xa9*0x20+0x8*-0xa2+0x1a77,0x2*-0x129a+0x5*0x683+0x1*0x4e8,-0x1515+-0x3c*0x5f+0x2bde,0xe3*-0x1+0x1679+-0x2*0xa81,0x40*-0x4a+-0xb5*-0x6+0xf2f*0x1,0xdf1*-0x1+-0x1*-0x240c+-0x1*0x161b,-0x3f*-0x53+0x1*0x1fbf+-0x342c,-0x24de+0x2*0x6f7+0x16f0,0x104*-0x1+0x2*-0x473+0x9ea,-0x10d*-0x11+-0x1c88+-0x4*-0x2bd,0x2*-0x15a+-0x16f+0x468*0x1,0xe81+-0x195c+0xb29,0xc4*0xc+-0x1*-0xe53+-0x1*0x173f,0x2519*0x1+0x1*-0xba4+-0x1*0x18c7,0x1*-0x16d+-0x1*-0x1ae7+0x1*-0x1938,0x156e+-0x10b3+-0x45b,-0xa21*0x1+0xbcb*-0x1+0x166e]),kx=(_0x3ea46f,_0x121eca)=>{const _0x3b6ea5=new he(_0x3ea46f,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(-0x259f+-0xbe4+-0x3184*-0x1),'levels':[_0x121eca]}),_0x277d89=new pt({'colorBuffer':_0x3b6ea5,'depth':!(-0x1e1*0xd+-0x39c+-0xc2*-0x25)});_0x3ea46f['setFramebu'+'ffer'](_0x277d89['impl']['_glFrameBu'+'ffer']),_0x3ea46f['initRender'+'Target'](_0x277d89);const _0x4f9645=new Uint8ClampedArray(0x5cb+0x8*0x23b+0x179f*-0x1);return _0x3ea46f['gl']['readPixels'](0x240b*0x1+-0x9b+-0x2370,-0x13*0x1d7+-0x1a*-0xe3+-0x1*-0xbe7,0x1715+-0xb5c+-0xbb8,-0x2*0x8fe+-0x88*0xb+0x17d5*0x1,_0x3ea46f['gl']['RGBA'],_0x3ea46f['gl']['UNSIGNED_B'+'YTE'],_0x4f9645),_0x277d89['destroy'](),_0x3b6ea5['destroy'](),_0x4f9645[-0x75+-0x5bb*-0x1+-0x546]===0x1*0x1b88+-0x73f+-0x2*0xa24&&_0x4f9645[-0x1b1*-0x2+-0x22*-0xbf+0x29d*-0xb]===0x1079+0x1bb3+-0x2*0x1615&&_0x4f9645[0x4f*0x4f+-0x942+0x49*-0x35]===0x17b*-0x8+-0xdc2+-0x4f*-0x53&&_0x4f9645[0xd*-0x161+-0x66+0x1256]===0x1fc*0x10+0xd*0x1a6+-0x3*0x11a5;},CL=_0x5b0c18=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x51c8a6=>kx(_0x5b0c18,_0x51c8a6))['catch'](_0x350c47=>!(0x1*0x221f+0x1aba*-0x1+-0x764)),ML=_0x4c5f4b=>new Promise((_0x24f14a,_0x573b0c)=>{const _0x34dfc0=new Image();_0x34dfc0['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x34dfc0['onload']=()=>{_0x24f14a(kx(_0x4c5f4b,_0x34dfc0));};});class PL{static['run'](_0x3a1298){CL(_0x3a1298)['then'](_0x4913a5=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x4913a5);}),ML(_0x3a1298)['then'](_0x4e9d40=>{console['log']('imgElement'+'IsCorrect='+_0x4e9d40);});}}class RL extends Na{constructor(_0x4c1cec,_0x3fa8a9){super(),this['crossOrigi'+'n']=_0x4c1cec['prefix']?'anonymous':null,this['maxRetries']=0x1d4f+-0xf1*0x29+-0x3a*-0x29,this['device']=_0x3fa8a9,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x474dba,_0x114fb8,_0x5eead5){var _0x29e6f8;const _0x5567db=!!((_0x29e6f8=_0x5eead5==null?void(0x25*-0xb+-0x455*-0x6+-0x1867):_0x5eead5['file'])!=null&&_0x29e6f8['contents']);if(_0x5567db){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x5eead5['file']['contents']]),_0x114fb8);return;}_0x474dba={'load':URL['createObje'+'ctURL'](new Blob([_0x5eead5['file']['contents']])),'original':_0x474dba['original']};}const _0x1659af=(_0x5a43f9,_0x46f6ca)=>{_0x5567db&&URL['revokeObje'+'ctURL'](_0x474dba['load']),_0x114fb8(_0x5a43f9,_0x46f6ca);};let _0x1138d4;_0x5eead5&&_0x5eead5['options']&&_0x5eead5['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x1138d4=_0x5eead5['options']['crossOrigi'+'n']:Da['test'](_0x474dba['load'])&&(_0x1138d4=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x474dba['load'],_0x474dba['original'],_0x1138d4,_0x1659af):this['_loadImage'](_0x474dba['load'],_0x474dba['original'],_0x1138d4,_0x1659af);}['open'](_0x7da6d1,_0x2116e4,_0x51459b,_0x242742={}){const _0xe874fe=new he(_0x51459b,{'name':_0x7da6d1,'profilerHint':ur,'width':_0x2116e4['width'],'height':_0x2116e4['height'],'format':_0x242742['srgb']?rs:Se,..._0x242742});return _0xe874fe['setSource'](_0x2116e4),_0xe874fe;}['_loadImage'](_0x356bd9,_0x5d45da,_0x52fb04,_0xf4aeae){const _0x500034=new Image();_0x52fb04&&(_0x500034['crossOrigi'+'n']=_0x52fb04);let _0x37ace9=-0xe39+0x1503+-0x6ca;const _0x5a08a6=this['maxRetries'];let _0x4ac5ea;_0x500034['onload']=function(){_0xf4aeae(null,_0x500034);},_0x500034['onerror']=function(){if(!_0x4ac5ea){if(_0x5a08a6>0x1f*-0x1+0x1*0x19f0+-0x89b*0x3&&++_0x37ace9<=_0x5a08a6){const _0x1fb9e7=Math['pow'](-0x1f*0x45+-0x2*-0x1034+-0x4cf*0x5,_0x37ace9)*(0x45*0x2b+-0x95*-0x19+-0x19c0);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x5d45da+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x1fb9e7+'ms...');const _0x418ca2=_0x356bd9['indexOf']('?')>=-0x1535+0x2*-0x5a1+0x1*0x2077?'&':'?';_0x4ac5ea=setTimeout(()=>{_0x500034['src']=_0x356bd9+_0x418ca2+'retry='+Date['now'](),_0x4ac5ea=null;},_0x1fb9e7);}else _0xf4aeae('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x5d45da+'\x27');}},_0x500034['src']=_0x356bd9;}['_loadImage'+'Bitmap'](_0x250d67,_0x488015,_0x5210bf,_0x2367fa){const _0x586dd3={'cache':!(-0x4*-0x7e5+-0x53*0x63+-0x85*-0x1),'responseType':'blob','retry':this['maxRetries']>0x22f9+-0x1dbd+-0x53c*0x1,'maxRetries':this['maxRetries']};$e['get'](_0x250d67,_0x586dd3,(_0x280b8a,_0x3f5e76)=>{_0x280b8a?_0x2367fa(_0x280b8a):this['_loadImage'+'BitmapFrom'+'Blob'](_0x3f5e76,_0x2367fa);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x25b6ff,_0x30713f){createImageBitmap(_0x25b6ff,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x354d60=>_0x30713f(null,_0x354d60))['catch'](_0x20fa5e=>_0x30713f(_0x20fa5e));}}const iu=[0x46f4d2cb+-0xb*0xdd2d677+0x2a3bff*0x403,-0x15685715+-0x9e9da1e9*0x2+0xb1*0x2f88637,-0x1b37*0x2d18+0x10c569d2+-0x21d7f*0xe3],IL={0x83f0:yc,0x83f2:zf,0x83f3:$o,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x1fb8b6,_0x348e24,_0x17d671,_0x3235ed){return _0x1fb8b6===_a?new Uint32Array(_0x348e24,_0x17d671,_0x3235ed/(0x8a*-0x17+-0x10d0*-0x1+-0x1*0x466)):new Uint8Array(_0x348e24,_0x17d671,_0x3235ed);}class LL extends Na{constructor(_0x2a0c79){super(),this['maxRetries']=-0x23d9+-0x1b40+0x3f19;}['load'](_0x5cb728,_0x47ff38,_0x189f29){le['fetchArray'+'Buffer'](_0x5cb728['load'],_0x47ff38,_0x189f29,this['maxRetries']);}['open'](_0x519507,_0x239d8d,_0x246cfe,_0x1b2f8f={}){const _0x3be29a=this['parse'](_0x239d8d);if(!_0x3be29a)return null;const _0x408e18=_0x1b2f8f['srgb']?Cc(_0x3be29a['format']):_0x3be29a['format'],_0x5c5923=new he(_0x246cfe,{'name':_0x519507,'profilerHint':ur,'addressU':_0x3be29a['cubemap']?ae:tt,'addressV':_0x3be29a['cubemap']?ae:tt,'width':_0x3be29a['width'],'height':_0x3be29a['height'],'format':_0x408e18,'cubemap':_0x3be29a['cubemap'],'levels':_0x3be29a['levels'],..._0x1b2f8f});return _0x5c5923['upload'](),_0x5c5923;}['parse'](_0x610b92){const _0x1f8d39=new Uint32Array(_0x610b92);if(iu[-0x183*-0xb+0x1c49+-0x1*0x2cea]!==_0x1f8d39[0x15a+0x1*-0x205+0x3*0x39]||iu[0x1fa1*-0x1+0x20d9+-0x1*0x137]!==_0x1f8d39[0x21af+0x236+-0x2*0x11f2]||iu[-0x25fe+0x13a8*0x1+0x4*0x496]!==_0x1f8d39[0xe66+-0x1c5+-0xc9f])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x534d28={'endianness':_0x1f8d39[0x17d7+-0xdb1+0x5*-0x207],'glType':_0x1f8d39[0x2*-0xcd1+0x1*0xceb+0xcbb],'glTypeSize':_0x1f8d39[0x4b0+-0x1643+0x1198],'glFormat':_0x1f8d39[0x7d*-0x3d+0x683+0xc*0x1f1],'glInternalFormat':_0x1f8d39[-0x1210+-0x1eec+0x3103],'glBaseInternalFormat':_0x1f8d39[0x25de*0x1+-0x1882+-0xd54],'pixelWidth':_0x1f8d39[-0x58e+0x16*-0x14f+-0xd*-0x2a5],'pixelHeight':_0x1f8d39[-0x4*-0x8db+-0x189d*-0x1+-0x1*0x3bff],'pixelDepth':_0x1f8d39[0xe92+0x1*0x1131+0x32c*-0xa],'numberOfArrayElements':_0x1f8d39[-0xa87+0x61*-0x1+-0x4*-0x2bd],'numberOfFaces':_0x1f8d39[0x35*-0x2d+-0x3b*0x3+0x67*0x19],'numberOfMipmapLevels':_0x1f8d39[0x1*-0x1697+-0x17*0x71+0x20cc],'bytesOfKeyValueData':_0x1f8d39[0x72b*0x2+-0x9f0+0x457*-0x1]};if(_0x534d28['pixelDepth']>-0x66*-0x4b+0x1f81+-0xa2*0x61)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x534d28['numberOfAr'+'rayElement'+'s']!==0x1*0x157f+-0x9ad+0x22*-0x59)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0xff026a=IL[_0x534d28['glInternal'+'Format']];if(_0xff026a===void(-0x1ad2+0x131f*-0x1+-0x2df1*-0x1))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x534d28['glInternal'+'Format']),null;let _0xbfe4c=0xeae+-0x1f63+0x10c5+_0x534d28['bytesOfKey'+'ValueData']/(0x187d+0x6a0+-0x1*0x1f19);const _0x4d61ad=_0x534d28['numberOfFa'+'ces']>0x1dd4+-0x13*0x4d+-0x181c,_0x983dd0=[];for(let _0x4acc47=0x3*-0x293+-0x8e3+0x109c;_0x4acc47<(_0x534d28['numberOfMi'+'pmapLevels']||-0x1*-0x402+-0x1*-0x25ab+-0x29ac);_0x4acc47++){const _0x8d62f6=_0x1f8d39[_0xbfe4c++];_0x4d61ad&&_0x983dd0['push']([]);const _0xda6a94=_0x4d61ad?_0x983dd0[_0x4acc47]:_0x983dd0;for(let _0x1e4cc6=-0x2350+-0x73b+0x1*0x2a8b;_0x1e4cc6<(_0x4d61ad?0x1781+-0xc*0x80+-0x117b:-0x1ae3+-0x194b+0x342f);++_0x1e4cc6)_0xda6a94['push'](DL(_0xff026a,_0x610b92,_0xbfe4c*(-0x1ae7+-0x3*-0x36d+0x10a4),_0x8d62f6)),_0xbfe4c+=_0x8d62f6+(0x1d03*0x1+-0xf69+-0xd97)>>-0x83*-0xe+-0xebc+0x794;}return{'format':_0xff026a,'width':_0x534d28['pixelWidth'],'height':_0x534d28['pixelHeigh'+'t'],'levels':_0x983dd0,'cubemap':_0x4d61ad};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x13a040,_0x46f9bd){super(),this['maxRetries']=-0x121a+0x8*-0x117+-0x2*-0xd69,this['device']=_0x46f9bd;}['load'](_0x5b47f3,_0x2d3ae5,_0x3f9384){le['fetchArray'+'Buffer'](_0x5b47f3['load'],(_0x174b16,_0x553a03)=>{_0x174b16?_0x2d3ae5(_0x174b16,_0x553a03):this['parse'](_0x553a03,_0x5b47f3,_0x2d3ae5,_0x3f9384);},_0x3f9384,this['maxRetries']);}['open'](_0x38289b,_0x40bee3,_0x455de4,_0x5695be={}){const _0x3c732a=_0x5695be['srgb']?Cc(_0x40bee3['format']):_0x40bee3['format'],_0x223051=new he(_0x455de4,{'name':_0x38289b,'profilerHint':ur,'addressU':_0x40bee3['cubemap']?ae:tt,'addressV':_0x40bee3['cubemap']?ae:tt,'width':_0x40bee3['width'],'height':_0x40bee3['height'],'format':_0x3c732a,'cubemap':_0x40bee3['cubemap'],'levels':_0x40bee3['levels'],..._0x5695be});return _0x223051['upload'](),_0x223051;}['parse'](_0x5e0ccb,_0x5693b7,_0x3ff208,_0x59e146){var _0x3c31d6,_0x40b4d9,_0x2c6abb;const _0x67e838=new oy(_0x5e0ccb),_0x227577=[_0x67e838['readU32be'](),_0x67e838['readU32be'](),_0x67e838['readU32be']()];if(_0x227577[-0x2f*0xad+-0x1f*0x55+0x2a0e]!==-0x14150c013+0xcc89c4c+0x157a5*0x16573||_0x227577[0x1*0x511+-0x3*-0xa8d+0xc3d*-0x3]!==0xa0303ac+0x10108898+0x61ea477||_0x227577[-0x1d2*0x3+-0x453+0x9cb]!==0x181a1847*-0x1+-0x13837d59+0x38a7afaa)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x41874b={'vkFormat':_0x67e838['readU32'](),'typeSize':_0x67e838['readU32'](),'pixelWidth':_0x67e838['readU32'](),'pixelHeight':_0x67e838['readU32'](),'pixelDepth':_0x67e838['readU32'](),'layerCount':_0x67e838['readU32'](),'faceCount':_0x67e838['readU32'](),'levelCount':_0x67e838['readU32'](),'supercompressionScheme':_0x67e838['readU32']()},_0x200984={'dfdByteOffset':_0x67e838['readU32'](),'dfdByteLength':_0x67e838['readU32'](),'kvdByteOffset':_0x67e838['readU32'](),'kvdByteLength':_0x67e838['readU32'](),'sgdByteOffset':_0x67e838['readU64'](),'sgdByteLength':_0x67e838['readU64']()},_0x85ae76=[];for(let _0x7c521b=0x156f+-0x2331+0xdc2;_0x7c521b<Math['max'](-0x10a8+-0x608+-0x1*-0x16b1,_0x41874b['levelCount']);++_0x7c521b)_0x85ae76['push']({'byteOffset':_0x67e838['readU64'](),'byteLength':_0x67e838['readU64'](),'uncompressedByteLength':_0x67e838['readU64']()});if(_0x67e838['readU32']()!==_0x200984['kvdByteOff'+'set']-_0x200984['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x67e838['skip'](0x1e75+-0x1839+-0x634);const _0x11a6a8=_0x67e838['readU8']();_0x67e838['skip'](_0x200984['dfdByteLen'+'gth']-(-0x1514+0x1b+0x2*0xa81)),_0x67e838['skip'](_0x200984['kvdByteLen'+'gth']),_0x41874b['supercompr'+'essionSche'+'me']===-0x1092+-0x243e+0x34d1||_0x11a6a8===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x5693b7['load'],_0x5e0ccb,_0x3ff208,{'isGGGR':(((_0x2c6abb=(_0x40b4d9=(_0x3c31d6=_0x59e146==null?void(0xd9*0x22+-0x20a5+0x3d3):_0x59e146['file'])==null?void(0x18fe+-0x99+-0x4e1*0x5):_0x3c31d6['variants'])==null?void(0x1*0x1aad+0x1877+-0x3324):_0x40b4d9['basis'])==null?void(-0x1e76+-0x1*-0x10f9+0x47f*0x3):_0x2c6abb['opt'])&-0x8*-0x10f+0x775*0x1+0x139*-0xd)!==-0x47*0x5c+-0x1c5*0x10+0x35d4,'isKTX2':!(-0x1f19*0x1+-0x17b6+-0x1*-0x36cf)})||_0x3ff208('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x59e146['name']+']('+_0x59e146['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x3ff208('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x2f76f9){super(),this['maxRetries']=-0xdd2+-0x346*0xb+0x31d4*0x1;}['load'](_0x5d7134,_0x2cde8a,_0x4ad640){le['fetchArray'+'Buffer'](_0x5d7134['load'],_0x2cde8a,_0x4ad640,this['maxRetries']);}['open'](_0x16bf0f,_0x486c56,_0x1af2ca,_0x4b7a85={}){const _0x4266f2=new Uint32Array(_0x486c56,0x39*-0xa1+0x3*0xc89+-0x1c2,-0x11d2+-0x18*-0x6+-0x2*-0x8b1),_0x3bee29=_0x4266f2[0xe70+0x90*-0x11+-0x26e*0x2],_0x258a8d=_0x4266f2[-0x71b+0xd68+-0x73*0xe],_0x2a8f44=Math['max'](_0x4266f2[-0x13c8+0x2df+0x10f0],0x153f+-0x4*0x925+0xf56),_0x37105b=_0x4266f2[0x10a4+0xb7d+-0x1*0x1c0d]===0x25ce+-0x1*0x1163+-0x1467,_0x397df5=_0x4266f2[0x1*0x1772+-0x19f4+0x297*0x1],_0x4a86f6=_0x4266f2[0x2cf*-0x9+-0x1*0x1448+0xf37*0x3],_0xd56529=_0x4266f2[-0xf*-0xbd+-0x131*-0x19+-0x28c0]===0x757*-0xb+-0x63a0+-0x1*-0x1b25d,_0x35556a=-0x128fce6d+0x3*-0x131a5d95+-0x27f*-0x322890,_0x2ab7b0=0x2f9eb0ec*0x2+-0x6987e*-0x79f+-0x5c2d31d6,_0x27acb7=-0xdf3+0x11ce+0x17*-0x26,_0x12b021=0x24ad+-0x55*0x12+-0x1e3f*0x1,_0x5d6e9e=-0xdb61911+-0x842ed*0x3c6+0x5e25f7a4,_0x4fe124=0x5*-0x9861f65+-0xee35dd*0x62+-0xbc026de3*-0x1,_0x48ffc8=-0x2f13fc5*0x9+-0x1ee14684+0x6a90b6c1,_0x1d839e=-0x2624642f+0x30b46344+-0x26a3353b*-0x1,_0x4b4dfa=0x4e3d3ef6+0x2d3*-0xe1db+-0x1a8b2d25;let _0x4d783c=!(0x115d+0xc69+-0x1dc5),_0x31adcc=!(0x225a+0x2016+-0x426f*0x1),_0x597f28=!(-0xaf3*-0x1+0x1f5b+-0x2a4d),_0x3b90ec=!(0x1*-0x1fe3+0x1a51+0x593),_0x5b8611=null,_0x4f3163=0x1*0xeed+-0x18b*-0x5+0x13*-0x131,_0x4b3445;if(_0x37105b?_0x397df5===_0x35556a?(_0x5b8611=yc,_0x4d783c=!(0x400+0x13ca+0xe*-0x1b3)):_0x397df5===_0x2ab7b0?(_0x5b8611=$o,_0x4d783c=!(-0x1f61+-0xe*0x1e6+0x1*0x39f5)):_0x397df5===_0x27acb7?(_0x5b8611=Je,_0x4f3163=0x1c00+0x1572+0x710*-0x7):_0x397df5===_0x12b021?(_0x5b8611=Ke,_0x4f3163=-0x4b2+-0x19a1+0x9*0x35f):_0x397df5===_0x5d6e9e?(_0x5b8611=bc,_0x4d783c=!(-0x100a+0x3f*-0x8f+0x333b),_0x31adcc=!(0x6b1+-0xa84+0xb*0x59)):_0x397df5===_0x4fe124||_0x397df5===_0x48ffc8?(_0x5b8611=_0x397df5===_0x4fe124?qo:Xo,_0x4d783c=!(-0x1f37+0xe45+0x9*0x1e2),_0x597f28=!(0x1*-0x1ad1+0x25d8+-0xb07*0x1)):(_0x397df5===_0x1d839e||_0x397df5===_0x4b4dfa)&&(_0x5b8611=_0x397df5===_0x1d839e?wc:Tc,_0x4d783c=!(-0xa18+-0x1b51+0x2569),_0x3b90ec=!(-0x155c+-0x1*0x24a+0x7e2*0x3)):_0x4a86f6===0x11bb+-0x52f*0x1+-0x4*0x31b&&(_0x5b8611=Se),!_0x5b8611)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x16bf0f+'.'),_0x4b3445=new he(_0x1af2ca,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x4b3445;_0x4b3445=new he(_0x1af2ca,{'name':_0x16bf0f,'profilerHint':ur,'addressU':_0xd56529?ae:tt,'addressV':_0xd56529?ae:tt,'width':_0x3bee29,'height':_0x258a8d,'format':_0x5b8611,'cubemap':_0xd56529,'mipmaps':_0x2a8f44>-0x1b53+-0x1*-0xfb5+0x23*0x55,..._0x4b7a85});let _0x6905ec=0x2*0x335+0xd*0x2eb+0x1c1*-0x19;const _0x2e2426=_0xd56529?-0x71e*0x5+-0x23eb+-0x4787*-0x1:0x657*-0x6+-0x183f+-0x3e4a*-0x1;let _0x30f28b;const _0x2e9273=-0x3*0x641+-0x1cfc+0x2fc3,_0x175c02=-0x203a+0x638*0x2+0x13ce,_0x53c755=_0x397df5===_0x35556a?-0x26c8+0x1*0x23c9+0x307*0x1:-0x37*-0x8c+0x12bc+-0x68*0x78;let _0x402f89,_0x1f61e8,_0x49fba0;for(let _0x52e449=-0x1*-0x1114+-0x33*0x25+-0x9b5;_0x52e449<_0x2e2426;_0x52e449++){let _0x17ddb2=_0x3bee29,_0x53514b=_0x258a8d;for(let _0x30bf06=0x861+0x6d*-0x17+-0x16a*-0x1;_0x30bf06<_0x2a8f44;_0x30bf06++){_0x4d783c?_0x31adcc?_0x30f28b=Math['floor']((_0x17ddb2+(-0x1490+0x1e24+-0x991))/(0x592+0x3*0x3b3+-0x10a7))*Math['floor']((_0x53514b+(0x324*0xc+-0x21f7+-0x3b6))/(0x13*-0x95+0x107*-0x1a+0x25c9))*(-0x24e6+0xc1f*0x1+0x18cf):_0x597f28?_0x30f28b=Math['max'](_0x17ddb2,0xc8e*0x1+0x19*-0x147+0x1371)*Math['max'](_0x53514b,-0x1*0xc0+0x49*-0x49+0x1*0x1599)/(0x38*0x2+0x269*-0x6+0x4ae*0x3):_0x3b90ec?_0x30f28b=Math['max'](_0x17ddb2,0x2b*0x3a+-0x4bd+-0x4f9)*Math['max'](_0x53514b,-0x1*0x6d+-0x132+0x1a7)/(-0x135d+0x8*0x1da+0x185*0x3):(_0x402f89=Math['floor']((_0x17ddb2+_0x2e9273-(-0x841*0x1+-0xbf3*0x1+0x7*0x2e3))/_0x2e9273),_0x1f61e8=Math['floor']((_0x53514b+_0x175c02-(-0x27a*-0x5+-0x122*0x1f+0x16bd))/_0x175c02),_0x49fba0=_0x402f89*_0x1f61e8,_0x30f28b=_0x49fba0*_0x53c755):_0x30f28b=_0x17ddb2*_0x53514b*(-0x827+0xf8*0x18+-0x27*0x63);const _0x64305a=_0x5b8611===Ke?new Float32Array(_0x486c56,_0x6905ec,_0x30f28b):_0x5b8611===Je?new Uint16Array(_0x486c56,_0x6905ec,_0x30f28b):new Uint8Array(_0x486c56,_0x6905ec,_0x30f28b);_0xd56529?(_0x4b3445['_levels'][_0x30bf06]||(_0x4b3445['_levels'][_0x30bf06]=[]),_0x4b3445['_levels'][_0x30bf06][_0x52e449]=_0x64305a):_0x4b3445['_levels'][_0x30bf06]=_0x64305a,_0x6905ec+=_0x30f28b*_0x4f3163,_0x17ddb2=Math['max'](_0x17ddb2*(-0x66*-0x18+-0x20d4+0x5d1*0x4+0.5),0xd3+-0x1*-0xf6b+-0x103d),_0x53514b=Math['max'](_0x53514b*(0xa2b*0x3+0xd85*-0x1+-0x10fc+0.5),-0xb*0x2ab+-0x13ba+-0x417*-0xc);}}return _0x4b3445['upload'](),_0x4b3445;}}class BL extends Na{constructor(_0x4c8edb){super(),this['maxRetries']=-0x57*0x56+0x8fe+0x143c;}['load'](_0x454018,_0x192a58,_0x421e0e){le['fetchArray'+'Buffer'](_0x454018['load'],_0x192a58,_0x421e0e,this['maxRetries']);}['open'](_0x2c962c,_0x5b7094,_0x254905,_0x4f1f1c={}){const _0x4d861c=this['parse'](_0x5b7094);if(!_0x4d861c)return null;const _0x1a169a=new he(_0x254905,{'name':_0x2c962c,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x4d861c['width'],'height':_0x4d861c['height'],'levels':_0x4d861c['levels'],'format':Se,'type':ap,'mipmaps':!(0x2015+-0xb67+0x43*-0x4f),..._0x4f1f1c});return _0x1a169a['upload'](),_0x1a169a;}['parse'](_0x16b2ab){const _0x787f53=new oy(_0x16b2ab);if(!_0x787f53['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x4bdd52={};for(;;){const _0xae3522=_0x787f53['readLine']();if(_0xae3522['length']===-0x1f*0x70+0x1*-0x20ed+-0x2e7d*-0x1)break;{const _0x5e773a=_0xae3522['split']('=');_0x5e773a['length']===-0x1c8*-0x6+-0x1*0x19a3+0xef5&&(_0x4bdd52[_0x5e773a[-0x519*-0x3+-0x8d7+-0x674]]=_0x5e773a[0x1*-0x1041+0x222b+-0x11e9]);}}if(!_0x4bdd52['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x2cfd37=_0x787f53['readLine']()['split']('\x20');if(_0x2cfd37['length']!==-0x2329+-0x4a1*0x4+0x35b1)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x30900a=parseInt(_0x2cfd37[-0x12d*-0x7+0x33*-0x1b+-0x2d9],0x1ab*-0x3+-0x3f*-0x4d+-0xde8),_0x531179=parseInt(_0x2cfd37[0x119c+-0x195b*-0x1+-0xabd*0x4],0x173f*-0x1+0x7c1+-0x4*-0x3e2),_0x3c7843=this['_readPixel'+'s'](_0x787f53,_0x531179,_0x30900a,_0x2cfd37[0xa81+-0x2411*0x1+-0x332*-0x8]==='-Y');return _0x3c7843?{'width':_0x531179,'height':_0x30900a,'levels':[_0x3c7843]}:null;}['_readPixel'+'s'](_0x2f1387,_0x136cb8,_0x694997,_0x10a60f){if(_0x136cb8<-0x17d8+-0x28*-0xa1+0x8*-0x29||_0x136cb8>-0x3a9*-0x2+0x473e*-0x1+0xbfeb)return this['_readPixel'+'sFlat'](_0x2f1387,_0x136cb8,_0x694997);const _0x1c36d2=[0x19*-0x77+0x379*-0x3+-0xb05*-0x2,0x2099+0x56f*-0x3+-0x104c,-0x7*-0x85+0x1387*0x1+-0x172a,0x146d+0x1425+-0x2892];if(_0x2f1387['readArray'](_0x1c36d2),_0x1c36d2[0x14ce*0x1+0x3*-0x1fd+-0xed7]!==0xcb5+0x1bf3+-0x28a6||_0x1c36d2[0xa*0x2e9+-0xc06+-0x1113]!==-0x182b+-0x14a1+-0x172*-0x1f||(_0x1c36d2[0x4e1*-0x1+0x2066+-0x1b83]&-0x1*0x2e7+-0x1f32+-0x11*-0x209)!==-0x1*0x2513+-0x1141+-0x13*-0x2dc)return _0x2f1387['skip'](-(0x5ae*0x2+0x192+0x26*-0x57)),this['_readPixel'+'sFlat'](_0x2f1387,_0x136cb8,_0x694997);const _0xd10a2b=new ArrayBuffer(_0x136cb8*_0x694997*(-0x2*-0x46d+-0x197c+0x10a6)),_0x165f06=new Uint8Array(_0xd10a2b);let _0x4fee50=_0x10a60f?-0x2550+0x3d0*-0x1+-0x5e0*-0x7:_0x136cb8*(-0x19b5+-0xf81+0x293a)*(_0x694997-(-0x43*-0x61+0x1*-0x58a+-0x13d8)),_0x1bd9be,_0x5826b3,_0x135132,_0x5bd6ff,_0x3cd832,_0x8e42dc;for(_0x5826b3=0x204c+-0xdb4+0x46*-0x44;_0x5826b3<_0x694997;++_0x5826b3){if(_0x5826b3&&_0x2f1387['readArray'](_0x1c36d2),(_0x1c36d2[0x25*-0xeb+-0x1fe1+0x20ed*0x2]<<0xdf*0x13+0x2*-0x24b+-0xbef*0x1)+_0x1c36d2[-0x1e1b*-0x1+-0x2f6*-0x2+-0x1202*0x2]!==_0x136cb8)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x5bd6ff=0xb*0x63+0x1470+-0x12d*0x15;_0x5bd6ff<-0xebf+-0xb*-0xc2+0x66d;++_0x5bd6ff)for(_0x1bd9be=0x23be+-0x1cf6+-0x6c8;_0x1bd9be<_0x136cb8;)if(_0x3cd832=_0x2f1387['readU8'](),_0x3cd832>-0x1*-0x40f+0x18ad+0x4*-0x70f){if(_0x3cd832-=0x2165+-0x1661+-0xa84,_0x1bd9be+_0x3cd832>_0x136cb8)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x8e42dc=_0x2f1387['readU8'](),_0x135132=0x1cd2+-0x3d*0x41+-0x1*0xd55;_0x135132<_0x3cd832;++_0x135132)_0x165f06[_0x4fee50+_0x5bd6ff+(-0x12f9+0x147b+-0x17e)*_0x1bd9be++]=_0x8e42dc;}else{if(_0x3cd832===-0x19cc+0x3b2+-0xf6*-0x17||_0x1bd9be+_0x3cd832>_0x136cb8)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x135132=-0x1*-0x1f2+-0x6b7+-0x21*-0x25;_0x135132<_0x3cd832;++_0x135132)_0x165f06[_0x4fee50+_0x5bd6ff+(0x229e+-0x161*0xb+0x5*-0x3e3)*_0x1bd9be++]=_0x2f1387['readU8']();}_0x4fee50+=_0x136cb8*(-0x21a5+0x21e1*0x1+-0x38)*(_0x10a60f?0x65a*0x6+0x14bd+-0x3ad8:-(0x1*0x822+-0x158d*-0x1+-0x1dae));}return _0x165f06;}['_readPixel'+'sFlat'](_0x19a384,_0x4a9c6f,_0x27c1fc){return _0x19a384['remainingB'+'ytes']===_0x4a9c6f*_0x27c1fc*(0x24a4+-0x1*-0xa7e+-0x2f1e)?new Uint8Array(_0x19a384['arraybuffe'+'r'],_0x19a384['offset']):null;}}const Wg={'repeat':tt,'clamp':ae,'mirror':Of},$g={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x1a64af){const _0x317f61=Mi['calcMipLev'+'elsCount'](_0x1a64af['_width'],_0x1a64af['_height']),_0x12b93c=function(_0x4971bd){return _0x4971bd instanceof HTMLCanvasElement||_0x4971bd instanceof HTMLImageElement||_0x4971bd instanceof HTMLVideoElement;};if(!(_0x1a64af['_format']===Se||_0x1a64af['_format']===Ke)||_0x1a64af['_volume']||_0x1a64af['_compresse'+'d']||_0x1a64af['_levels']['length']===-0xca9+0x27*-0x55+0x199d||_0x1a64af['_levels']['length']===_0x317f61||_0x12b93c(_0x1a64af['_cubemap']?_0x1a64af['_levels'][-0x9b3*-0x1+0x212c+0x893*-0x5][0x1*-0x248+-0x4*0x5df+0x11*0x184]:_0x1a64af['_levels'][0x25*0xc+0x10a+0x47*-0xa]))return;const _0x569d18=function(_0x529d23,_0x3471c1,_0x10add1){const _0x339f0f=Math['max'](-0x129c+-0x217a+0x5*0xa6b,_0x529d23>>-0x1f39+-0x1*-0xc95+0x12a5),_0x2bef9f=Math['max'](0x2*-0x58b+-0xd6*-0x22+-0x1155,_0x3471c1>>-0x1*0x152b+-0x1*-0x6b5+0xe77),_0x359fbb=new _0x10add1['constructo'+'r'](_0x339f0f*_0x2bef9f*(-0x203d+-0x227f+-0x42c0*-0x1)),_0x4c9fa2=Math['floor'](_0x529d23/_0x339f0f),_0xe4c97=Math['floor'](_0x3471c1/_0x2bef9f),_0x3dbea1=_0x4c9fa2*_0xe4c97;for(let _0x4ee457=0x1*0x1a69+-0x11*0x84+0x11a5*-0x1;_0x4ee457<_0x2bef9f;++_0x4ee457)for(let _0x23d0b3=-0x1*0x1dd7+0x6c0+-0x1717*-0x1;_0x23d0b3<_0x339f0f;++_0x23d0b3)for(let _0x33f393=0x20fb+-0x64e*-0x1+0x1*-0x2749;_0x33f393<0xe32*0x1+0x23e+-0x106c;++_0x33f393){let _0x24e4a5=0x3*0x5+0x12d2+-0x12e1;for(let _0x4ea920=-0x1d*-0x89+0x79f*0x2+-0x1ec3;_0x4ea920<_0xe4c97;++_0x4ea920)for(let _0x13b573=0x1cf0+-0x14cf+0x1*-0x821;_0x13b573<_0x4c9fa2;++_0x13b573)_0x24e4a5+=_0x10add1[(_0x23d0b3*_0x4c9fa2+_0x13b573+(_0x4ee457*_0xe4c97+_0x4ea920)*_0x529d23)*(0x1365+0x8fc+-0x1c5d)+_0x33f393];_0x359fbb[(_0x23d0b3+_0x4ee457*_0x339f0f)*(-0x7f*0x19+0x45*-0x20+0x150b)+_0x33f393]=_0x24e4a5/_0x3dbea1;}return _0x359fbb;};for(let _0x51834c=_0x1a64af['_levels']['length'];_0x51834c<_0x317f61;++_0x51834c){const _0x286484=Math['max'](0x1c*0xe2+0x2e3+-0x1*0x1b9a,_0x1a64af['_width']>>_0x51834c-(0x82+-0x12e*-0x7+-0x8c3)),_0x2d7613=Math['max'](-0x1654+0x135*-0xb+-0x6a*-0x56,_0x1a64af['_height']>>_0x51834c-(-0x65b*-0x1+0x1112+-0x176c));if(_0x1a64af['_cubemap']){const _0x1d8de4=[];for(let _0x223a45=-0x127f+-0x610+0x188f;_0x223a45<0x6ff+-0x1*-0x13d5+-0x1*0x1ace;++_0x223a45)_0x1d8de4['push'](_0x569d18(_0x286484,_0x2d7613,_0x1a64af['_levels'][_0x51834c-(-0x4d2+-0xc6f+0x1142)][_0x223a45]));_0x1a64af['_levels']['push'](_0x1d8de4);}else _0x1a64af['_levels']['push'](_0x569d18(_0x286484,_0x2d7613,_0x1a64af['_levels'][_0x51834c-(0x125b+0x17a0+-0x29fa)]));}_0x1a64af['_levelsUpd'+'ated']=_0x1a64af['_cubemap']?[[!(0x68b*0x2+0x2b9+-0xd5*0x13),!(0x7*0x2bd+0x2*0x2c9+-0x18bd),!(-0x4*-0x78b+-0x1*-0x85f+-0x8f*0x45),!(-0x9bb+-0x2cf*-0xb+-0x9*0x25a),!(-0x609+-0x1*0xf7a+-0x1*-0x1583),!(-0x171d+-0x6b7+0x1dd4)]]:[!(-0x3*-0xcb5+0x1dc+0x73*-0x59)];};class UL extends Ne{constructor(_0x54cec2){super(_0x54cec2,'texture');const _0x1502dc=_0x54cec2['assets'],_0x2889be=_0x54cec2['graphicsDe'+'vice'];this['_device']=_0x2889be,this['_assets']=_0x1502dc,this['imgParser']=new RL(_0x1502dc,_0x2889be),this['parsers']={'dds':new kL(_0x1502dc),'ktx':new LL(_0x1502dc),'ktx2':new OL(_0x1502dc,_0x2889be),'basis':new EL(_0x1502dc,_0x2889be),'hdr':new BL(_0x1502dc)};}set['crossOrigi'+'n'](_0x3bd4a3){this['imgParser']['crossOrigi'+'n']=_0x3bd4a3;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x5e1f39){this['imgParser']['maxRetries']=_0x5e1f39;for(const _0x43a90d in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x43a90d)&&(this['parsers'][_0x43a90d]['maxRetries']=_0x5e1f39);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x17460c){return _0x17460c['indexOf']('?')>=0x1*0x1ff3+-0x1111+0x4f6*-0x3?_0x17460c['split']('?')[-0x6e5+-0x1*0x1d3+0x8b8]:_0x17460c;}['_getParser'](_0x12b003){const _0x4e5a13=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x12b003))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x4e5a13]||this['imgParser'];}['_getTextur'+'eOptions'](_0x2e6726){var _0x151554;const _0x1b09c8={'profilerHint':ur};if(_0x2e6726){((_0x151554=_0x2e6726['name'])==null?void(0x22ea*0x1+0x20ee+0x43d8*-0x1):_0x151554['length'])>-0x7*-0x107+-0x4c2+-0x26f&&(_0x1b09c8['name']=_0x2e6726['name']);const _0x58bde7=_0x2e6726['data'];_0x58bde7['hasOwnProp'+'erty']('minfilter')&&(_0x1b09c8['minFilter']=$g[_0x58bde7['minfilter']]),_0x58bde7['hasOwnProp'+'erty']('magfilter')&&(_0x1b09c8['magFilter']=$g[_0x58bde7['magfilter']]),_0x58bde7['hasOwnProp'+'erty']('addressu')&&(_0x1b09c8['addressU']=Wg[_0x58bde7['addressu']]),_0x58bde7['hasOwnProp'+'erty']('addressv')&&(_0x1b09c8['addressV']=Wg[_0x58bde7['addressv']]),_0x58bde7['hasOwnProp'+'erty']('mipmaps')&&(_0x1b09c8['mipmaps']=_0x58bde7['mipmaps']),_0x58bde7['hasOwnProp'+'erty']('anisotropy')&&(_0x1b09c8['anisotropy']=_0x58bde7['anisotropy']),_0x58bde7['hasOwnProp'+'erty']('flipY')&&(_0x1b09c8['flipY']=!!_0x58bde7['flipY']),_0x58bde7['hasOwnProp'+'erty']('srgb')&&(_0x1b09c8['srgb']=!!_0x58bde7['srgb']),_0x58bde7['hasOwnProp'+'erty']('type')?_0x1b09c8['type']=NL[_0x58bde7['type']]:_0x58bde7['hasOwnProp'+'erty']('rgbm')&&_0x58bde7['rgbm']?_0x1b09c8['type']=on:_0x2e6726['file']&&(_0x2e6726['file']['opt']&-0x2125+0x548+0x1be5)!==-0x4e5+-0x2*-0x7d8+0xacb*-0x1&&(_0x1b09c8['type']=op);}return _0x1b09c8;}['load'](_0x543c22,_0x44282f,_0x1b6e92){typeof _0x543c22=='string'&&(_0x543c22={'load':_0x543c22,'original':_0x543c22}),this['_getParser'](_0x543c22['original'])['load'](_0x543c22,_0x44282f,_0x1b6e92);}['open'](_0x4d40b3,_0x3287e9,_0x4f5c61){if(!_0x4d40b3)return;const _0x5c5036=this['_getTextur'+'eOptions'](_0x4f5c61);let _0x5c3e6b=this['_getParser'](_0x4d40b3)['open'](_0x4d40b3,_0x3287e9,this['_device'],_0x5c5036);return _0x5c3e6b===null?_0x5c3e6b=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x5c3e6b),_0x3287e9['unswizzled'+'GGGR']&&(_0x4f5c61['file']['variants']['basis']['opt']&=-(-0x186b+-0x135c+0x57a*0x8))),_0x5c3e6b;}['patch'](_0xfe4506,_0x194ff4){const _0x5dd7b4=_0xfe4506['resource'];if(!_0x5dd7b4)return;const _0x5e927d=this['_getTextur'+'eOptions'](_0xfe4506);for(const _0x5245cc of Object['keys'](_0x5e927d))_0x5dd7b4[_0x5245cc]=_0x5e927d[_0x5245cc];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',WL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class $L{constructor(_0x3ae495){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),(this['_manager']=_0x3ae495,this['init']());}async['init'](){const _0x1a788b=await navigator['xr']['isSessionS'+'upported']('immersive-'+'ar',{'features':['dom-overla'+'y']});this['_supported']=_0x1a788b;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x4d412d){!this['_supported']||this['_manager']['active']||(this['_root']=_0x4d412d);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x3c3250,_0x48ae01,_0x3bd326,_0x4aa3ab=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x3c3250,this['_xrHitTest'+'Source']=_0x48ae01,this['_transient']=_0x3bd326,this['_inputSour'+'ce']=_0x4aa3ab);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x5d5f7f=this['manager']['hitTest']['sources'],_0x54fc03=_0x5d5f7f['indexOf'](this);_0x54fc03!==-(0xaeb+0x1*0x158f+-0x2079)&&_0x5d5f7f['splice'](_0x54fc03,-0x1c19*0x1+0x251c+-0x902),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x4a36d5){if(this['_transient']){const _0x33d3fa=_0x4a36d5['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x20527f=0x218d+-0x1fd+-0x1f90;_0x20527f<_0x33d3fa['length'];_0x20527f++){const _0x2f374d=_0x33d3fa[_0x20527f];if(!_0x2f374d['results']['length'])continue;let _0x6416fa;_0x2f374d['inputSourc'+'e']&&(_0x6416fa=this['manager']['input']['_getByInpu'+'tSource'](_0x2f374d['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x2f374d['results'],_0x6416fa);}}else{const _0x1c21df=_0x4a36d5['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x1c21df['length'])return;this['updateHitR'+'esults'](_0x1c21df);}}['updateHitR'+'esults'](_0x144a7c,_0x1f6e68){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x1f6e68)return;const _0x52f33c=ih['pop']()??new T();_0x1f6e68?_0x52f33c['copy'](_0x1f6e68['getOrigin']()):_0x52f33c['copy'](this['manager']['camera']['getPositio'+'n']());let _0x47be1d=(-0x1a45+0x16a0+0x1d3*0x2)/(-0x1*-0x1812+0xb*-0x355+0xc95),_0x2d9bc3=null;const _0x488b5d=ih['pop']()??new T(),_0x2c5082=Xg['pop']()??new se();for(let _0x9366aa=-0x1*-0x18e3+0x2072+-0x3955;_0x9366aa<_0x144a7c['length'];_0x9366aa++){const _0x1c0319=_0x144a7c[_0x9366aa]['getPose'](this['manager']['_reference'+'Space']),_0x5e625f=_0x52f33c['distance'](_0x1c0319['transform']['position']);_0x5e625f>=_0x47be1d||(_0x47be1d=_0x5e625f,_0x2d9bc3=_0x144a7c[_0x9366aa],_0x488b5d['copy'](_0x1c0319['transform']['position']),_0x2c5082['copy'](_0x1c0319['transform']['orientatio'+'n']));}this['fire']('result',_0x488b5d,_0x2c5082,_0x1f6e68||this['_inputSour'+'ce'],_0x2d9bc3),this['manager']['hitTest']['fire']('result',this,_0x488b5d,_0x2c5082,_0x1f6e68||this['_inputSour'+'ce'],_0x2d9bc3),ih['push'](_0x52f33c),ih['push'](_0x488b5d),Xg['push'](_0x2c5082);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x48c4c2){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x14b4+0x1e5c+0x9a7*-0x1)),c(this,'_checkingA'+'vailabilit'+'y',!(0x1*0x1bf+-0x71b+0x55d)),c(this,'sources',[]),(this['manager']=_0x48c4c2,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x189745=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x8f9+0x2dd*0x7+-0xb11);if(!_0x189745)return;this['_available']=_0x189745,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0xac0+0x80b+-0x12cb),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x5d35a5=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x5d35a5})['then'](_0x493f20=>{_0x493f20['cancel'](),this['manager']['active']&&(this['_available']=!(-0x5*0x34+-0x718+0x81c),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x24e6+-0x1*-0x25e5+-0x4aca);for(let _0x160e30=0xb*-0x1c+0x262b+0x24f7*-0x1;_0x160e30<this['sources']['length'];_0x160e30++)this['sources'][_0x160e30]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x5483f7={}){var _0x3bbe37,_0x35e64c;if(!this['_supported']){(_0x3bbe37=_0x5483f7['callback'])==null||_0x3bbe37['call'](_0x5483f7,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x35e64c=_0x5483f7['callback'])==null||_0x35e64c['call'](_0x5483f7,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x5483f7['profile']&&!_0x5483f7['spaceType']&&(_0x5483f7['spaceType']=qg);let _0x2fb292;const _0x52f2c4=_0x5483f7['offsetRay'];if(_0x52f2c4){const _0xcf5af6=new DOMPoint(_0x52f2c4['origin']['x'],_0x52f2c4['origin']['y'],_0x52f2c4['origin']['z'],0x12ff*-0x1+0x12d*0x1d+-0xf19),_0x5a2f5e=new DOMPoint(_0x52f2c4['direction']['x'],_0x52f2c4['direction']['y'],_0x52f2c4['direction']['z'],-0xf50+-0x2*0xf7e+0x2e4c);_0x2fb292=new XRRay(_0xcf5af6,_0x5a2f5e);}const _0x5c65f1=_0x5483f7['callback'];_0x5483f7['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x5483f7['spaceType'])['then'](_0xaa1c88=>{if(!this['manager']['session']){const _0x84f7e2=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x5c65f1&&_0x5c65f1(_0x84f7e2),this['fire']('error',_0x84f7e2);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0xaa1c88,'entityTypes':_0x5483f7['entityType'+'s']||void(0x1*-0x24ff+0x2370+0x18f),'offsetRay':_0x2fb292})['then'](_0x1810f1=>{this['_onHitTest'+'Source'](_0x1810f1,!(-0xfc3+0x821+0x7a3),_0x5483f7['inputSourc'+'e'],_0x5c65f1);})['catch'](_0x3d65e6=>{_0x5c65f1&&_0x5c65f1(_0x3d65e6),this['fire']('error',_0x3d65e6);});})['catch'](_0x5f031c=>{_0x5c65f1&&_0x5c65f1(_0x5f031c),this['fire']('error',_0x5f031c);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x5483f7['profile'],'entityTypes':_0x5483f7['entityType'+'s']||void(0xb63+0x257d+-0x30e0),'offsetRay':_0x2fb292})['then'](_0x1641d9=>{this['_onHitTest'+'Source'](_0x1641d9,!(0x1270+0x94d+-0x1bbd),_0x5483f7['inputSourc'+'e'],_0x5c65f1);})['catch'](_0x108acf=>{_0x5c65f1&&_0x5c65f1(_0x108acf),this['fire']('error',_0x108acf);});}['_onHitTest'+'Source'](_0x5847eb,_0x32b42e,_0x1cd06d,_0x5e063b){if(!this['manager']['session']){_0x5847eb['cancel']();const _0x457802=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x5e063b&&_0x5e063b(_0x457802),this['fire']('error',_0x457802);return;}const _0x1f41ab=new Ef(this['manager'],_0x5847eb,_0x32b42e,_0x1cd06d??null);this['sources']['push'](_0x1f41ab),_0x5e063b&&_0x5e063b(null,_0x1f41ab),this['fire']('add',_0x1f41ab);}['update'](_0x31d245){if(this['_available']){for(let _0x25d238=0x10b1*0x1+-0xc7f*0x3+0x14cc;_0x25d238<this['sources']['length'];_0x25d238++)this['sources'][_0x25d238]['update'](_0x31d245);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0xfa20f1,_0x3d5041){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x8*0x1e7+-0x30*-0x98+-0x2bb8),c(this,'_trackable',!(0x5*-0xb5+0x24b*0xa+-0x44*0x49)),c(this,'_tracking',!(0x16af+-0x409*-0x1+0x3d1*-0x7)),c(this,'_emulated',!(-0x1211+-0x11b2+0x54*0x6d)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0xfa20f1,this['_width']=_0x3d5041);}get['image'](){return this['_image'];}set['width'](_0x1daf05){this['_width']=_0x1daf05;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x12772e=>(this['_bitmap']=_0x12772e,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x3e6936){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(0x17cf+0xfa3*-0x1+0x1*-0x82b)),c(this,'_images',[]),(this['_manager']=_0x3e6936,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x16345e,_0x195862){if(!this['_supported']||this['_manager']['active'])return null;const _0x500cda=new Cf(_0x16345e,_0x195862);return this['_images']['push'](_0x500cda),_0x500cda;}['remove'](_0x2ccae4){if(this['_manager']['active'])return;const _0x278266=this['_images']['indexOf'](_0x2ccae4);_0x278266!==-(0x1*0x25ed+-0x4*0x23+-0x12b*0x20)&&(_0x2ccae4['destroy'](),this['_images']['splice'](_0x278266,0x1*0x156+0x1fe8+0x1*-0x213d));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x2ddca2=>{this['_available']=!(0xe3c+-0x858+-0x1d*0x34);for(let _0x4a4cbc=0x2*-0xc39+-0x1*0xf21+0x2793;_0x4a4cbc<_0x2ddca2['length'];_0x4a4cbc++)this['_images'][_0x4a4cbc]['_trackable']=_0x2ddca2[_0x4a4cbc]==='trackable';})['catch'](_0x2a6f8b=>{this['_available']=!(-0x23d5+0x352+0x2*0x1042),this['fire']('error',_0x2a6f8b);});}['_onSession'+'End'](){this['_available']=!(-0x2*-0xe83+0x2019*0x1+-0x1e8f*0x2);for(let _0x33edab=-0x1da2+0x14*0x140+0x4a2;_0x33edab<this['_images']['length'];_0x33edab++){const _0x58f157=this['_images'][_0x33edab];_0x58f157['_pose']=null,_0x58f157['_measuredW'+'idth']=0xdf6*-0x1+0x1ba*0x4+-0x2*-0x387,_0x58f157['_tracking']&&(_0x58f157['_tracking']=!(0xb7c+0x1a95+-0x2610),_0x58f157['fire']('untracked'));}}['prepareIma'+'ges'](_0x244598){this['_images']['length']?Promise['all'](this['_images']['map'](_0x49cd67=>_0x49cd67['prepare']()))['then'](_0x18b7f3=>{_0x244598(null,_0x18b7f3);})['catch'](_0x4a07ec=>{_0x244598(_0x4a07ec,null);}):_0x244598(null,null);}['update'](_0x568edf){if(!this['_available'])return;const _0x260f51=_0x568edf['getImageTr'+'ackingResu'+'lts'](),_0x350db0={};for(let _0x2505e6=0x2189+0x8a6+-0x2a2f;_0x2505e6<_0x260f51['length'];_0x2505e6++){_0x350db0[_0x260f51[_0x2505e6]['index']]=_0x260f51[_0x2505e6];const _0x547764=this['_images'][_0x260f51[_0x2505e6]['index']];_0x547764['_emulated']=_0x260f51[_0x2505e6]['trackingSt'+'ate']==='emulated',_0x547764['_measuredW'+'idth']=_0x260f51[_0x2505e6]['measuredWi'+'dthInMeter'+'s'],_0x547764['_pose']=_0x568edf['getPose'](_0x260f51[_0x2505e6]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x35c1f4=-0x13f3+0x1452+-0x13*0x5;_0x35c1f4<this['_images']['length'];_0x35c1f4++)this['_images'][_0x35c1f4]['_tracking']&&!_0x350db0[_0x35c1f4]?(this['_images'][_0x35c1f4]['_tracking']=!(-0x24be+0x1800+-0xcbf*-0x1),this['_images'][_0x35c1f4]['fire']('untracked')):!this['_images'][_0x35c1f4]['_tracking']&&_0x350db0[_0x35c1f4]&&(this['_images'][_0x35c1f4]['_tracking']=!(0x1f1b*0x1+0xbc9+0x3*-0xe4c),this['_images'][_0x35c1f4]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x2c0049,_0x528d3b){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x2c0049,this['_hand']=_0x528d3b,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=-0xe43+0x3*0xa81+-0x45*0x40;l<jg['length'];l++)Gx[jg[l]]=!(0x11db+0x98+-0x1273);class Yg{constructor(_0x554de1,_0x3b924b,_0x4b53af,_0x4bd9eb=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(-0x4eb*0x5+-0x683*-0x3+0x50e*0x1)),(this['_index']=_0x554de1,this['_id']=_0x3b924b,this['_hand']=_0x4b53af,this['_finger']=_0x4bd9eb,this['_wrist']=_0x3b924b==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x3b924b]);}['update'](_0x1e23b3){this['_dirtyLoca'+'l']=!(-0x1*0x941+0x184d+-0xf0c),this['_radius']=_0x1e23b3['radius'],this['_localPosi'+'tion']['copy'](_0x1e23b3['transform']['position']),this['_localRota'+'tion']['copy'](_0x1e23b3['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x184e+-0x69d*-0x2+-0x1*-0xb15),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x136a1a=this['_hand']['_manager']['camera']['parent'];_0x136a1a?this['_worldTran'+'sform']['mul2'](_0x136a1a['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x67*0xd+0x3b9*0x3+-0x2f8*0x2+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x1d11a3){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(-0xde*-0x14+-0x16f*0xb+-0x192)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x27395e=_0x1d11a3['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x1d11a3['_manager'],this['_inputSour'+'ce']=_0x1d11a3,_0x27395e['get']('wrist')){const _0x2287fd=new Yg(-0x61*0xb+0x6cc+-0x2a1*0x1,'wrist',this,null);this['_wrist']=_0x2287fd,this['_joints']['push'](_0x2287fd),this['_jointsByI'+'d']['wrist']=_0x2287fd;}for(let _0x407f3e=0x87e+-0x249+-0x635;_0x407f3e<Sh['length'];_0x407f3e++){const _0xf59813=new qL(_0x407f3e,this);for(let _0x241d8d=-0xc0+-0xdf3+-0x35*-0x47;_0x241d8d<Sh[_0x407f3e]['length'];_0x241d8d++){const _0x3176cc=Sh[_0x407f3e][_0x241d8d];if(!_0x27395e['get'](_0x3176cc))continue;const _0xbb97b0=new Yg(_0x241d8d,_0x3176cc,this,_0xf59813);this['_joints']['push'](_0xbb97b0),this['_jointsByI'+'d'][_0x3176cc]=_0xbb97b0,_0xbb97b0['tip']&&(this['_tips']['push'](_0xbb97b0),_0xf59813['_tip']=_0xbb97b0),_0xf59813['_joints']['push'](_0xbb97b0);}}}['update'](_0x123051){const _0x124423=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x44c3b9=-0x21ea+-0x27f*0x2+0xa*0x3e4;_0x44c3b9<this['_joints']['length'];_0x44c3b9++){const _0xed5fa7=this['_joints'][_0x44c3b9],_0x4c689b=_0x124423['hand']['get'](_0xed5fa7['_id']);if(_0x4c689b){let _0x368ea3;if(_0x123051['session']['visibility'+'State']!=='hidden'&&(_0x368ea3=_0x123051['getJointPo'+'se'](_0x4c689b,this['_manager']['_reference'+'Space'])),_0x368ea3)_0xed5fa7['update'](_0x368ea3),_0xed5fa7['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0xde7*-0x1+-0x84b+-0x59c),this['fire']('tracking'));else{if(_0xed5fa7['wrist']){this['_tracking']&&(this['_tracking']=!(0x14b*0x8+-0xb2*0x23+0xdff),this['fire']('trackinglo'+'st'));break;}}}}const _0x1386a4=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x53fc3c=this['_jointsByI'+'d']['thumb-tip'],_0x1a3bd8=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x20d245=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x302d31=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x393024=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x1386a4&&_0x53fc3c&&_0x1a3bd8&&_0x20d245&&_0x302d31&&_0x393024){this['_inputSour'+'ce']['_dirtyRay']=!(0x9*0x346+-0x353+0x1a23*-0x1),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x53fc3c['_localPosi'+'tion'],_0x20d245['_localPosi'+'tion'],0x1cca+0x1f56+-0x3c20+0.5);let _0x24211d=_0x1386a4,_0x9987ef=_0x393024;if(this['_inputSour'+'ce']['handedness']===HL){const _0xdddbc6=_0x24211d;_0x24211d=_0x9987ef,_0x9987ef=_0xdddbc6;}Ir['sub2'](_0x24211d['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x9987ef['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x1a3bd8['_localPosi'+'tion'],_0x302d31['_localPosi'+'tion'],-0x15d+0xd99*0x1+-0x30f*0x4+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,-0x1202+0x4*-0x34d+-0x1f36*-0x1+0.5)['normalize']();}const _0x3b2964=this['_fingerIsC'+'losed'](0xa8c+0x8*0x128+-0x95*0x22)&&this['_fingerIsC'+'losed'](0x8dd*-0x2+-0x1354*-0x1+0x1*-0x197)&&this['_fingerIsC'+'losed'](0x366+-0x1679+0x1317*0x1);this['_fingersTi'+'pDistance'](-0x220+-0x29*0x61+0x11a9,-0x988+0xbb9*0x1+0x7*-0x50)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0x176a+0x119f+0x5cb),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0xb*-0x335+0x17*-0xe3+-0xee1*0x1),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0x3b2964?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x9d*-0x1+0x153c+-0x1*0x149f),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x1*-0x1a7a+0xdb*-0x19+-0x516),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x2bb13,_0x726665){const _0x25faf1=this['_fingers'][_0x2bb13],_0xbad14f=this['_fingers'][_0x726665];return _0x25faf1['tip']['_localPosi'+'tion']['distance'](_0xbad14f['tip']['_localPosi'+'tion'])<=-0x79b+0x6a2+0x3*0x53+0.01;}['_fingerIsC'+'losed'](_0x576678){const _0x5b1d4c=this['_fingers'][_0x576678];return Ir['sub2'](_0x5b1d4c['joints'][-0x147+-0x25*0xc5+0x1dc0]['_localPosi'+'tion'],_0x5b1d4c['joints'][0x2*-0xc41+-0x191f+-0x1*-0x31a2]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x5b1d4c['joints'][-0x12d5*0x1+-0x3*-0x81+-0x455*-0x4]['_localPosi'+'tion'],_0x5b1d4c['joints'][0x620+0x11*0x241+-0xb*0x40a]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(0x11d3+-0x22f7+0x449*0x4+0.8);}['getJointBy'+'Id'](_0x4ad2b3){return this['_jointsByI'+'d'][_0x4ad2b3]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=0x9*0x2c5+-0x6f2*0x2+-0x1*0xb09;class xs extends ce{constructor(_0x5ba17d,_0x460b17){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x1c02+0x1ec2+-0x3ac3)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(0x183d+-0x99f*0x1+-0xe9d)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(-0x4e*-0x6b+0x3b*0x3d+-0x2ea9)),c(this,'_dirtyRay',!(-0x3d1+-0x2025+0x23f7)),c(this,'_selecting',!(0x1753+-0x7*-0x33+-0x9*0x2bf)),c(this,'_squeezing',!(-0x1df+0x2222+-0x1*0x2042)),c(this,'_pinching',!(0x2b4*-0xd+0x10da+-0x1*-0x124b)),c(this,'_elementIn'+'put',!(-0x2677+0x3c8+-0xd*-0x2ab)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x5ba17d,this['_xrInputSo'+'urce']=_0x460b17,_0x460b17['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x49eb0d){this['_elementIn'+'put']!==_0x49eb0d&&(this['_elementIn'+'put']=_0x49eb0d,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x1e9e7b){if(this['_hand'])this['_hand']['update'](_0x1e9e7b);else{const _0x39d81b=this['_xrInputSo'+'urce']['gripSpace'];if(_0x39d81b){const _0x494ebb=_0x1e9e7b['getPose'](_0x39d81b,this['_manager']['_reference'+'Space']);if(_0x494ebb){this['_grip']||(this['_grip']=!(-0x11e8+-0x67*0x37+0x115*0x25),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x5ecd9e=ne(),_0x358c37=(_0x5ecd9e-this['_velocitie'+'sTimestamp'])/(-0x1db+-0x14d0+-0x1a93*-0x1);this['_velocitie'+'sTimestamp']=_0x5ecd9e,this['_dirtyLoca'+'l']=!(0xab7*0x1+0x14e5+-0x1f9c),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x494ebb['transform']['position']),this['_localRota'+'tion']['copy'](_0x494ebb['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x520+0x7*0xb+-0x56d),this['_manager']['input']['velocities'+'Supported']&&_0x494ebb['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x494ebb['linearVelo'+'city']):_0x358c37>0x1f77+-0x178+0x1dff*-0x1&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x358c37),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,0x1c3f+-0x47*0x67+0x2*0x29+0.15));}else this['_velocitie'+'sAvailable']=!(-0x2059+0x2428+-0x3ce);}const _0x72d380=_0x1e9e7b['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x72d380&&(this['_dirtyRay']=!(-0x3*0x7ed+-0x1144+0x229*0x13),this['_rayLocal']['origin']['copy'](_0x72d380['transform']['position']),this['_rayLocal']['direction']['set'](-0x1a53+0x24b0+-0xa5d,-0xf63*0x1+-0x1de6*-0x1+-0xe83,-(-0xefe*0x2+0xd8a+-0x1*-0x1073)),Qg['copy'](_0x72d380['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x4*0x7eb+0x6b7+0x242*-0x11),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x595885=this['_manager']['camera']['parent'];_0x595885?this['_worldTran'+'sform']['mul2'](_0x595885['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x2e6b6f=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x19a1+0x1456*-0x1+0x1*0x2df8),this['_manager']['camera']['parent']){const _0x3f3579=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x3f3579['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x3f3579),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x2e6b6f&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x2532b={}){_0x2532b['inputSourc'+'e']=this,_0x2532b['profile']=this['_xrInputSo'+'urce']['profiles'][0x1d*0xf9+-0x603*-0x3+-0x2e3e*0x1];const _0x5870df=_0x2532b['callback'];_0x2532b['callback']=(_0x3d1143,_0x5a940b)=>{_0x5a940b&&this['onHitTestS'+'ourceAdd'](_0x5a940b),_0x5870df&&_0x5870df(_0x3d1143,_0x5a940b);},this['_manager']['hitTest']['start'](_0x2532b);}['onHitTestS'+'ourceAdd'](_0x2194b7){this['_hitTestSo'+'urces']['push'](_0x2194b7),this['fire']('hittest:ad'+'d',_0x2194b7),_0x2194b7['on']('result',(_0x3a8a88,_0x3b6f4a,_0x1fa433,_0x4166b0)=>{_0x1fa433===this&&this['fire']('hittest:re'+'sult',_0x2194b7,_0x3a8a88,_0x3b6f4a,_0x4166b0);}),_0x2194b7['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x2194b7),this['fire']('hittest:re'+'move',_0x2194b7);});}['onHitTestS'+'ourceRemov'+'e'](_0x124115){const _0x4bdac1=this['_hitTestSo'+'urces']['indexOf'](_0x124115);_0x4bdac1!==-(-0x9*-0x4e+-0x21*-0x101+-0x23de)&&this['_hitTestSo'+'urces']['splice'](_0x4bdac1,0x18d0+-0x26b*0xb+0x1ca);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x47f5f9){var _0x2aa0be,_0x2af941;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0xbb8+0x5*0x7c3+-0x3286)),(this['manager']=_0x47f5f9,this['velocities'+'Supported']=!!(ye['browser']&&((_0x2af941=(_0x2aa0be=window['XRPose'])==null?void(-0x1*-0x503+0x2076+0x35*-0xb5):_0x2aa0be['prototype'])!=null&&_0x2af941['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x5c1cf8=>{this['_onInputSo'+'urcesChang'+'e'](_0x5c1cf8);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x3e893a=this['manager']['session'];_0x3e893a['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x3e893a['addEventLi'+'stener']('select',_0x4b5ce4=>{const _0x268365=this['_getByInpu'+'tSource'](_0x4b5ce4['inputSourc'+'e']);_0x268365['update'](_0x4b5ce4['frame']),_0x268365['fire']('select',_0x4b5ce4),this['fire']('select',_0x268365,_0x4b5ce4);}),_0x3e893a['addEventLi'+'stener']('selectstar'+'t',_0x22157c=>{const _0x4b75c7=this['_getByInpu'+'tSource'](_0x22157c['inputSourc'+'e']);_0x4b75c7['_selecting']||(_0x4b75c7['update'](_0x22157c['frame']),_0x4b75c7['_selecting']=!(0x5*0x5bf+0x22de+-0x3f99),_0x4b75c7['fire']('selectstar'+'t',_0x22157c),this['fire']('selectstar'+'t',_0x4b75c7,_0x22157c));}),_0x3e893a['addEventLi'+'stener']('selectend',_0x407377=>{const _0x398161=this['_getByInpu'+'tSource'](_0x407377['inputSourc'+'e']);_0x398161['update'](_0x407377['frame']),_0x398161['_selecting']=!(0x22e2+0x1*-0x51+-0x2290),_0x398161['fire']('selectend',_0x407377),this['fire']('selectend',_0x398161,_0x407377);}),_0x3e893a['addEventLi'+'stener']('squeeze',_0x33890e=>{const _0x3e193c=this['_getByInpu'+'tSource'](_0x33890e['inputSourc'+'e']);_0x3e193c['update'](_0x33890e['frame']),_0x3e193c['fire']('squeeze',_0x33890e),this['fire']('squeeze',_0x3e193c,_0x33890e);}),_0x3e893a['addEventLi'+'stener']('squeezesta'+'rt',_0x2cc4ff=>{const _0x5cb2cc=this['_getByInpu'+'tSource'](_0x2cc4ff['inputSourc'+'e']);_0x5cb2cc['update'](_0x2cc4ff['frame']),_0x5cb2cc['_squeezing']=!(0x19*0x72+0x31+-0x1*0xb53),_0x5cb2cc['fire']('squeezesta'+'rt',_0x2cc4ff),this['fire']('squeezesta'+'rt',_0x5cb2cc,_0x2cc4ff);}),_0x3e893a['addEventLi'+'stener']('squeezeend',_0x321564=>{const _0x4bbcd9=this['_getByInpu'+'tSource'](_0x321564['inputSourc'+'e']);_0x4bbcd9['update'](_0x321564['frame']),_0x4bbcd9['_squeezing']=!(0x5*-0x101+-0x542*-0x1+-0x3c),_0x4bbcd9['fire']('squeezeend',_0x321564),this['fire']('squeezeend',_0x4bbcd9,_0x321564);});const _0x51a3da=_0x3e893a['inputSourc'+'es'];for(let _0x2d4601=-0x239d+0x2679+-0x2dc;_0x2d4601<_0x51a3da['length'];_0x2d4601++)this['_addInputS'+'ource'](_0x51a3da[_0x2d4601]);}['_onSession'+'End'](){let _0x3e87b3=this['_inputSour'+'ces']['length'];for(;_0x3e87b3--;){const _0xde59aa=this['_inputSour'+'ces'][_0x3e87b3];this['_inputSour'+'ces']['splice'](_0x3e87b3,-0x151*-0x5+-0x2*0x1306+0x1f78),_0xde59aa['fire']('remove'),this['fire']('remove',_0xde59aa);}this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x5b323d){for(let _0x377c17=-0x444+0x1*0x13f3+-0xfaf;_0x377c17<_0x5b323d['removed']['length'];_0x377c17++)this['_removeInp'+'utSource'](_0x5b323d['removed'][_0x377c17]),console['log']('_removeInp'+'utSource',_0x5b323d['removed']);for(let _0x16ef7b=0x1ace+-0x124d+0x1*-0x881;_0x16ef7b<_0x5b323d['added']['length'];_0x16ef7b++)this['_addInputS'+'ource'](_0x5b323d['added'][_0x16ef7b]),console['log']('_addInputS'+'ource',_0x5b323d['added']);}['_getByInpu'+'tSource'](_0x16758a){for(let _0x222974=-0x86c+0x657*0x3+-0xa99;_0x222974<this['_inputSour'+'ces']['length'];_0x222974++)if(this['_inputSour'+'ces'][_0x222974]['inputSourc'+'e']===_0x16758a)return this['_inputSour'+'ces'][_0x222974];return null;}['_addInputS'+'ource'](_0x1d59e5){if(this['_getByInpu'+'tSource'](_0x1d59e5))return;const _0x415eef=new xs(this['manager'],_0x1d59e5);this['_inputSour'+'ces']['push'](_0x415eef),this['fire']('add',_0x415eef);}['_removeInp'+'utSource'](_0x5dc92a){for(let _0x5c1b7=-0x2079+0x23d7+-0x35e;_0x5c1b7<this['_inputSour'+'ces']['length'];_0x5c1b7++){if(this['_inputSour'+'ces'][_0x5c1b7]['inputSourc'+'e']!==_0x5dc92a)continue;const _0x18fa9b=this['_inputSour'+'ces'][_0x5c1b7];this['_inputSour'+'ces']['splice'](_0x5c1b7,0x215*-0x10+-0x957+0x2aa8);let _0x4ffd6f=_0x18fa9b['hitTestSou'+'rces']['length'];for(;_0x4ffd6f--;)_0x18fa9b['hitTestSou'+'rces'][_0x4ffd6f]['remove']();_0x18fa9b['fire']('remove'),this['fire']('remove',_0x18fa9b);return;}}['update'](_0x45ec1b){for(let _0xa65c3c=0x1a63+-0x3*-0x49+-0x1b3e;_0xa65c3c<this['_inputSour'+'ces']['length'];_0xa65c3c++)this['_inputSour'+'ces'][_0xa65c3c]['update'](_0x45ec1b);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x1c28f1){super(),c(this,'_manager'),c(this,'_supported',!(-0x162b+-0x1*-0xc83+0x9a9)),c(this,'_available',!(0x1*0x1c3d+-0x2251+0xad*0x9)),c(this,'_lightProb'+'eRequested',!(-0x1bcc+0x20ad*-0x1+-0x2*-0x1e3d)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x81a+0x4b*-0xa+-0x52c),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(0x1*-0x20b+-0x65*-0x46+0x8*-0x32f)),(this['_manager']=_0x1c28f1,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x1*-0x16b7+-0x1814+-0x15d*-0x1));}['_onSession'+'End'](){this['_supported']=!(0x646+0x1ae5+-0x212a*0x1),this['_available']=!(0x1cd0+-0x23e8+0x4f*0x17),this['_lightProb'+'eRequested']=!(0x1*-0x36d+-0x70a+0xa78),this['_lightProb'+'e']=null;}['start'](){let _0x1c148c;if(this['_manager']['session']||(_0x1c148c=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x1c148c&&this['_manager']['type']!==Ao&&(_0x1c148c=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x1c148c&&!this['_supported']&&(_0x1c148c=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x1c148c&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x1c148c=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x1c148c){this['fire']('error',_0x1c148c);return;}this['_lightProb'+'eRequested']=!(0x249e*-0x1+-0x3*-0x76d+0xe57*0x1),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x52fe20=>{const _0x7da96d=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x1*-0x1cfe+-0xfe0+-0xd1d),this['_manager']['active']?_0x7da96d&&(this['_lightProb'+'e']=_0x52fe20):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x4ea688=>{this['_lightProb'+'eRequested']=!(0xa06*0x1+0x15b2+-0x1fb7),this['fire']('error',_0x4ea688);});}['end'](){this['_lightProb'+'eRequested']=!(0x95*-0xd+0xa27+-0x295),this['_lightProb'+'e']=null,this['_available']=!(-0x5eb*-0x5+-0x1*-0x24fe+-0x4294);}['update'](_0x75d17){if(!this['_lightProb'+'e'])return;const _0xa9ed80=_0x75d17['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0xa9ed80)return;this['_available']||(this['_available']=!(0x1191+-0x8*0x199+-0x4c9),this['fire']('available'));const _0xcd54b7=_0xa9ed80['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x1b9*0xb+-0x1*0x2167+-0x1*-0xe75,Math['max'](_0xcd54b7['x'],Math['max'](_0xcd54b7['y'],_0xcd54b7['z']))),Xn['copy'](_0xcd54b7)['mulScalar']((0x4*-0x335+0x567*0x7+-0x18fc)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0xb04+0x3*0x91f+-0x87*0x1f,0xd*0x1e5+-0x2011*-0x1+-0x38b2,0x26da+-0x92*-0x43+-0x4d10),Jg['copy'](_0xa9ed80['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],-0x2*-0x1eb+0x2683*-0x1+-0x31*-0xb7),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0xa9ed80['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=0x1131+0x3*-0x491+-0x37e;class Rf extends ce{constructor(_0x51911f,_0x5185d3){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x51911f,this['_xrPlane']=_0x5185d3,this['_lastChang'+'edTime']=_0x5185d3['lastChange'+'dTime'],this['_orientati'+'on']=_0x5185d3['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x3bfaf6){const _0x1a5f91=this['_planeDete'+'ction']['_manager'],_0xb00b86=_0x3bfaf6['getPose'](this['_xrPlane']['planeSpace'],_0x1a5f91['_reference'+'Space']);_0xb00b86&&(this['_position']['copy'](_0xb00b86['transform']['position']),this['_rotation']['copy'](_0xb00b86['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x361d02){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(-0x749*-0x2+-0x1*-0xee3+0xd*-0x244)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x361d02,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1*-0x8d2+-0x68d+0xa*-0x3a)&&(this['_available']=!(0x75d+-0x1*0x1f5f+0x7*0x36e),this['fire']('available'));}['_onSession'+'End'](){for(let _0x56ec1e=-0xfdd*0x1+0x2411*-0x1+0x33ee;_0x56ec1e<this['_planes']['length'];_0x56ec1e++)this['_planes'][_0x56ec1e]['destroy'](),this['fire']('remove',this['_planes'][_0x56ec1e]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0xc66*0x1+-0x1c3a+0x28a0,this['_available']&&(this['_available']=!(-0x790+-0x1*0x2133+0x1*0x28c4),this['fire']('unavailabl'+'e'));}['update'](_0x3ac9ec){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3ac9ec['detectedPl'+'anes']['size'])this['_available']=!(0x257e+-0x23a7*0x1+0x9d*-0x3),this['fire']('available');else return;}const _0x5ac46d=_0x3ac9ec['detectedPl'+'anes'];for(const [_0x1039e5,_0x41e983]of this['_planesInd'+'ex'])_0x5ac46d['has'](_0x1039e5)||(this['_planesInd'+'ex']['delete'](_0x1039e5),this['_planes']['splice'](this['_planes']['indexOf'](_0x41e983),-0x14a5+0xbba*0x3+-0xe88),_0x41e983['destroy'](),this['fire']('remove',_0x41e983));for(const _0x577a6e of _0x5ac46d){let _0x2e5041=this['_planesInd'+'ex']['get'](_0x577a6e);_0x2e5041?_0x2e5041['update'](_0x3ac9ec):(_0x2e5041=new Rf(this,_0x577a6e),this['_planesInd'+'ex']['set'](_0x577a6e,_0x2e5041),this['_planes']['push'](_0x2e5041),_0x2e5041['update'](_0x3ac9ec),this['fire']('add',_0x2e5041));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x18f48c,_0x3de51e,_0x5efde5=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x18f48c,this['_xrAnchor']=_0x3de51e,this['_uuid']=_0x5efde5);}['destroy'](){if(!this['_xrAnchor'])return;const _0x46ed9b=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x46ed9b,this);}['update'](_0x37cb71){if(!this['_xrAnchor'])return;const _0x76b47e=_0x37cb71['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x76b47e){if(this['_position']['equals'](_0x76b47e['transform']['position'])&&this['_rotation']['equals'](_0x76b47e['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x76b47e['transform']['position']),this['_rotation']['copy'](_0x76b47e['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x13d53c){if(!this['_anchors']['persistenc'+'e']){_0x13d53c==null||_0x13d53c(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x13d53c==null||_0x13d53c(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x13d53c&&this['_uuidReque'+'sts']['push'](_0x13d53c);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x35e90f=>{this['_uuid']=_0x35e90f,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x13d53c==null||_0x13d53c(null,_0x35e90f);for(const _0xc5ea7 of this['_uuidReque'+'sts'])_0xc5ea7(null,_0x35e90f);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x35e90f);})['catch'](_0x39c916=>{_0x13d53c==null||_0x13d53c(_0x39c916,null);for(const _0xa6bd8f of this['_uuidReque'+'sts'])_0xa6bd8f(_0x39c916,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x11121c){if(!this['_uuid']){_0x11121c==null||_0x11121c(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0xeff504=>{this['_uuid']=null,_0x11121c==null||_0x11121c(_0xeff504),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x550f34){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(-0x36*-0x12+0x7*0x359+-0x1b3a)),c(this,'_checkingA'+'vailabilit'+'y',!(0x18*0x4c+0x2*0xc17+-0x1f4d)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0x15d2+0x7*-0xf6+0x1c8c):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x550f34,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x22e662=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(0x619+-0x1e5a+0x1842);_0x22e662&&(this['_available']=_0x22e662,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x1*0x404+0x12b*0xe+-0x145d);for(let _0x598578=0x2f0+-0x1d6f+0x8d5*0x3;_0x598578<this['_creationQ'+'ueue']['length'];_0x598578++)this['_creationQ'+'ueue'][_0x598578]['callback']&&this['_creationQ'+'ueue'][_0x598578]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x2*0x12fd+-0x1*0x1f6+0x1*-0x2404,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x1ba990=this['_list']['length'];for(;_0x1ba990--;)this['_list'][_0x1ba990]['destroy']();this['_list']['length']=0x1*-0x141a+-0x9ee+0x1e08,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x51271a,_0x499799=null){const _0x374b64=new uo(this,_0x51271a,_0x499799);return this['_index']['set'](_0x51271a,_0x374b64),_0x499799&&this['_indexByUu'+'id']['set'](_0x499799,_0x374b64),this['_list']['push'](_0x374b64),_0x374b64['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x374b64;}['_onAnchorD'+'estroy'](_0xca373a,_0x37dd83){this['_index']['delete'](_0xca373a),_0x37dd83['uuid']&&this['_indexByUu'+'id']['delete'](_0x37dd83['uuid']);const _0x59a9fd=this['_list']['indexOf'](_0x37dd83);_0x59a9fd!==-(0x1*-0x1c9f+0x2c*-0x1+0x1ccc)&&this['_list']['splice'](_0x59a9fd,-0x1978+-0x1c8b+0x3604),this['fire']('destroy',_0x37dd83);}['create'](_0x18f84a,_0x4a6507,_0x35f38a){if(!this['_available']){_0x35f38a==null||_0x35f38a(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x18f84a instanceof XRHitTestResult){const _0x3a518f=_0x18f84a;if(_0x35f38a=_0x4a6507,!this['_supported']){_0x35f38a==null||_0x35f38a(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x3a518f['createAnch'+'or']){_0x35f38a==null||_0x35f38a(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x3a518f['createAnch'+'or']()['then'](_0x264894=>{const _0x21bfad=this['_createAnc'+'hor'](_0x264894);_0x35f38a==null||_0x35f38a(null,_0x21bfad),this['fire']('add',_0x21bfad);})['catch'](_0x3217e7=>{_0x35f38a==null||_0x35f38a(_0x3217e7,null),this['fire']('error',_0x3217e7);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x18f84a,_0x4a6507),'callback':_0x35f38a});}['restore'](_0x33a79e,_0x218066){if(!this['_available']){_0x218066==null||_0x218066(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x218066==null||_0x218066(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x218066==null||_0x218066(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x33a79e)['then'](_0x45687b=>{const _0x899982=this['_createAnc'+'hor'](_0x45687b,_0x33a79e);_0x218066==null||_0x218066(null,_0x899982),this['fire']('add',_0x899982);})['catch'](_0x267936=>{_0x218066==null||_0x218066(_0x267936,null),this['fire']('error',_0x267936);});}['forget'](_0x89bc16,_0x2ac9e7){if(!this['_available']){_0x2ac9e7==null||_0x2ac9e7(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x2ac9e7==null||_0x2ac9e7(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x2ac9e7==null||_0x2ac9e7(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x89bc16)['then'](()=>{_0x2ac9e7==null||_0x2ac9e7(null);})['catch'](_0x50b34b=>{_0x2ac9e7==null||_0x2ac9e7(_0x50b34b),this['fire']('error',_0x50b34b);});}['update'](_0x5e2d8f){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x2*0x1297+-0x1800*-0x1+-0x3d2e),_0x5e2d8f['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x452567=>{_0x452567['delete'](),this['manager']['active']&&(this['_available']=!(0x15e3*-0x1+0x41e+0x11c5),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x21133b=-0xd12+0xc6+0xc4c;_0x21133b<this['_creationQ'+'ueue']['length'];_0x21133b++){const _0x4b9c70=this['_creationQ'+'ueue'][_0x21133b];_0x5e2d8f['createAnch'+'or'](_0x4b9c70['transform'],this['manager']['_reference'+'Space'])['then'](_0x392341=>{_0x4b9c70['callback']&&this['_callbacks'+'Anchors']['set'](_0x392341,_0x4b9c70['callback']);})['catch'](_0x3cba71=>{_0x4b9c70['callback']&&_0x4b9c70['callback'](_0x3cba71,null),this['fire']('error',_0x3cba71);});}this['_creationQ'+'ueue']['length']=0x19a+0x1994+-0x7*0x3e2;}for(const [_0xee7383,_0x415ddf]of this['_index'])_0x5e2d8f['trackedAnc'+'hors']['has'](_0xee7383)||(this['_index']['delete'](_0xee7383),_0x415ddf['destroy']());for(let _0x20f1f2=0x1*0x1a29+0x1f5f+0x41c*-0xe;_0x20f1f2<this['_list']['length'];_0x20f1f2++)this['_list'][_0x20f1f2]['update'](_0x5e2d8f);for(const _0x5ba904 of _0x5e2d8f['trackedAnc'+'hors']){if(this['_index']['has'](_0x5ba904))continue;try{const _0x2aeac3=_0x5ba904['anchorSpac'+'e'];}catch{continue;}const _0x53bf35=this['_createAnc'+'hor'](_0x5ba904);_0x53bf35['update'](_0x5e2d8f);const _0x440257=this['_callbacks'+'Anchors']['get'](_0x5ba904);_0x440257&&(this['_callbacks'+'Anchors']['delete'](_0x5ba904),_0x440257(null,_0x53bf35)),this['fire']('add',_0x53bf35);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x236704,_0x20b5f7){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x2*-0xc9d+0x922+0x1018),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x236704,this['_xrMesh']=_0x20b5f7,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0xd76134){const _0x4304db=this['_meshDetec'+'tion']['_manager'],_0x33709d=_0xd76134['getPose'](this['_xrMesh']['meshSpace'],_0x4304db['_reference'+'Space']);_0x33709d&&(this['_position']['copy'](_0x33709d['transform']['position']),this['_rotation']['copy'](_0x33709d['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x2d7a5f){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x7e1+-0x1fca+-0x13d6*-0x2)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x2d7a5f,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x2654ac){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x2654ac['detectedMe'+'shes']['size'])this['_available']=!(-0x1*0xac5+0xd34*-0x2+0x252d),this['fire']('available');else return;}for(const _0x5ac03a of _0x2654ac['detectedMe'+'shes']){let _0x195f98=this['_index']['get'](_0x5ac03a);_0x195f98?_0x195f98['update'](_0x2654ac):(_0x195f98=new If(this,_0x5ac03a),this['_index']['set'](_0x5ac03a,_0x195f98),this['_list']['push'](_0x195f98),_0x195f98['update'](_0x2654ac),this['fire']('add',_0x195f98));}for(const _0x568b29 of this['_index']['values']())_0x2654ac['detectedMe'+'shes']['has'](_0x568b29['xrMesh'])||this['_removeMes'+'h'](_0x568b29);}['_removeMes'+'h'](_0x27cf27){this['_index']['delete'](_0x27cf27['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x27cf27),0x1*0x3ae+-0xb66+0x7b9),_0x27cf27['destroy'](),this['fire']('remove',_0x27cf27);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0xeca41a=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x13a8+-0xdf5*-0x2+0x841*-0x1);if(!_0xeca41a)return;this['_available']=_0xeca41a,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x103f*0x2+0x142d+0x1*0xc52);for(const _0x2c8017 of this['_index']['values']())this['_removeMes'+'h'](_0x2c8017);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x503358,_0x3d6eb8,_0x20dc28){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0xc81+0x702+0x582)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(0x75f+-0xbb1+0x239*0x2)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x503358,this['_xrView']=_0x3d6eb8);const _0x1f8bd8=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x1f8bd8,{'format':dr,'mipmaps':!(-0x65e+-0x15a4+0x47*0x65),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x514941=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x1f8bd8,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x20dc28===-0x34b+0x9b8+-0x66c?-0x40f+-0x97+0x4a6:_0x20dc28,'mipmaps':!(-0x26bd+0x37*0x3b+-0x1*-0x1a11),'addressU':ae,'addressV':ae,'minFilter':_0x514941,'magFilter':_0x514941,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x30985d=0x3df*-0x9+-0x1*0x17b7+0x3a8e;_0x30985d<this['_textureDe'+'pth']['_levels']['length'];_0x30985d++)this['_textureDe'+'pth']['_levels'][_0x30985d]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x1f8bd8['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x55f32b;return((_0x55f32b=this['_depthInfo'])==null?void(-0x1*0x88d+0x23c+0x651):_0x55f32b['rawValueTo'+'Meters'])||0xb50+-0x1*-0x1b86+-0x26d6;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x4b336a,_0x1c5b0d){this['_xrView']=_0x1c5b0d,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x12fecb=_0x4b336a['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x12fecb['x'],this['_viewport']['y']=_0x12fecb['y'],this['_viewport']['z']=_0x12fecb['width'],this['_viewport']['w']=_0x12fecb['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x4b336a);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x1fbee8=this['_manager']['webglBindi'+'ng'];if(!_0x1fbee8)return;const _0x1b5066=_0x1fbee8['getCameraI'+'mage'](this['_xrCamera']);if(!_0x1b5066)return;const _0x48cf56=this['_manager']['app']['graphicsDe'+'vice'],_0x229783=_0x48cf56['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x229783['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x229783['createFram'+'ebuffer']();else{const _0x4261f0=_0x229783['COLOR_ATTA'+'CHMENT0'],_0x654c2e=this['_xrCamera']['width'],_0x1b34a5=this['_xrCamera']['height'];_0x48cf56['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x229783['framebuffe'+'rTexture2D'](_0x229783['FRAMEBUFFE'+'R'],_0x4261f0,_0x229783['TEXTURE_2D'],_0x1b5066,-0x1d99*-0x1+0x2168+-0x3f01),_0x48cf56['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x229783['framebuffe'+'rTexture2D'](_0x229783['FRAMEBUFFE'+'R'],_0x4261f0,_0x229783['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x556*-0x1+-0x758*0x1+0xcae),_0x229783['bindFrameb'+'uffer'](_0x229783['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x229783['bindFrameb'+'uffer'](_0x229783['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x229783['blitFrameb'+'uffer'](-0xdeb+0xe*0x202+-0xe31,_0x1b34a5,_0x654c2e,0xe0+-0x1500+0x1420,-0x1fa3+0x1*0x7e2+0x3*0x7eb,-0x126d*-0x2+0x1834+-0xc36*0x5,_0x654c2e,_0x1b34a5,_0x229783['COLOR_BUFF'+'ER_BIT'],_0x229783['NEAREST']);}}['_updateDep'+'th'](_0x157a5a){var _0x5aa88a,_0x196967;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x52b984=this['_manager']['views']['depthGpuOp'+'timized'],_0x2606dd=_0x52b984?this['_manager']['webglBindi'+'ng']:_0x157a5a;if(!_0x2606dd){this['_depthInfo']=null;return;}const _0x131a90=_0x2606dd['getDepthIn'+'formation'](this['_xrView']);if(!_0x131a90){this['_depthInfo']=null;return;}let _0x32e172=!this['_depthInfo']!=!_0x131a90;this['_depthInfo']=_0x131a90;const _0x3d1ca8=((_0x5aa88a=this['_depthInfo'])==null?void(-0xe75+-0xa08+0x187d):_0x5aa88a['width'])||0x1f75+0x10*-0x124+-0x133*0xb,_0xe6610f=((_0x196967=this['_depthInfo'])==null?void(-0xff+-0xd67+0x1*0xe66):_0x196967['height'])||-0x270a*0x1+0x2160+0x5ae;let _0x55f799=!(0x1247+-0x5cb*0x3+-0xe5);if((this['_textureDe'+'pth']['width']!==_0x3d1ca8||this['_textureDe'+'pth']['height']!==_0xe6610f)&&(this['_textureDe'+'pth']['_width']=_0x3d1ca8,this['_textureDe'+'pth']['_height']=_0xe6610f,_0x32e172=!(-0x4*-0x8ef+0x2022+-0x43de),_0x55f799=!(0xed*0x13+-0x4fb+-0x6*0x21a)),_0x32e172&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x52b984){if(this['_depthInfo']['texture']){const _0x46b933=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x46b933['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x46b933['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x46b933['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x46b933['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x46b933['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x46b933['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x46b933['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x46b933['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x59*-0x15+0xec7+-0x6*0x13f);}}else this['_textureDe'+'pth']['_levels'][-0x1*-0xe9b+0x1367*0x1+0x1*-0x2202]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x1*0x99f+0x14*-0xc1+0x575]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x55f799&&this['fire']('depth:resi'+'ze',_0x3d1ca8,_0xe6610f);}['updateTran'+'sforms'](_0x23ae47){_0x23ae47?(this['_viewInvOf'+'fMat']['mul2'](_0x23ae47,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x19ef+0x67*-0x2d+0x3ea*-0x2]=this['_viewInvOf'+'fMat']['data'][-0x45*-0x61+-0x26fb+0xce2],this['_positionD'+'ata'][-0x23d*0xb+-0x18a1+0x3141]=this['_viewInvOf'+'fMat']['data'][0x2157+0x229d+0x43e7*-0x1],this['_positionD'+'ata'][-0x2401+0x64f+0x1db4]=this['_viewInvOf'+'fMat']['data'][0x20fb+0x1918+-0x1357*0x3];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x46ebdc,_0x5ca4ef){var _0x3b71da;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x3b71da=this['_depthInfo'])==null?void(0x9*-0xfe+-0x1790+0x207e):_0x3b71da['getDepthIn'+'Meters'](_0x46ebdc,_0x5ca4ef))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x39b07b=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x39b07b['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x39b07b['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x1989ce){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0xf35+0x151c+0x5e6*-0x1)),c(this,'_available'+'Depth',!(-0x47*-0x31+-0x46c*-0x1+-0xa*0x1cd)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x1989ce,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x403aab,_0x5af82c){for(let _0x10dd56=0x8*-0x1af+0x1c11+-0xe99;_0x10dd56<_0x5af82c['length'];_0x10dd56++)this['_indexTmp']['set'](_0x5af82c[_0x10dd56]['eye'],_0x5af82c[_0x10dd56]);for(const [_0x1219a0,_0x5d0a0d]of this['_indexTmp']){let _0x49f4b2=this['_index']['get'](_0x1219a0);_0x49f4b2?_0x49f4b2['update'](_0x403aab,_0x5d0a0d):(_0x49f4b2=new Hx(this['_manager'],_0x5d0a0d,_0x5af82c['length']),this['_index']['set'](_0x1219a0,_0x49f4b2),this['_list']['push'](_0x49f4b2),_0x49f4b2['update'](_0x403aab,_0x5d0a0d),this['fire']('add',_0x49f4b2));}for(const [_0x3ec2fa,_0xa36e9c]of this['_index']){if(this['_indexTmp']['has'](_0x3ec2fa))continue;_0xa36e9c['destroy'](),this['_index']['delete'](_0x3ec2fa);const _0x12aa28=this['_list']['indexOf'](_0xa36e9c);_0x12aa28!==-(0x1d87+0x1*0x708+-0x248e)&&this['_list']['splice'](_0x12aa28,0x1987+0x3cb*-0x8+0x4d2*0x1),this['fire']('remove',_0xa36e9c);}this['_indexTmp']['clear']();}['get'](_0x290133){return this['_index']['get'](_0x290133)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0xdd5*0x2+-0x1*-0x151d+0x68e),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x1240+-0x3*0x197+0x73*-0x1e),this['_available'+'Depth'])){const _0x24a5c5=this['_manager']['session'];this['_depthUsag'+'e']=_0x24a5c5['depthUsage'],this['_depthForm'+'at']=_0x24a5c5['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x16e59f of this['_index']['values']())_0x16e59f['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x20ce*0x1+0x12db+-0x33a8),this['_available'+'Depth']=!(0x1e8d+-0x3*-0x936+-0x1d17*0x2),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x2686+-0x864*-0x3+0xd5a;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x2efeac){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',0x8ac+-0x495+-0x417+0.1),c(this,'_depthFar',0x526+-0x3b3*-0x8+-0x1ed6),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0x11c*-0x1+0x8*0x46f+-0x2494),c(this,'_height',0x2480+0xa53+-0x2ed3),c(this,'_framebuff'+'erScaleFac'+'tor',-0xaa9*0x1+-0x97*0x3f+0x2fd3),(this['app']=_0x2efeac,this['_available'][VL]=!(0x1*-0x12fa+-0x1545+0x2840),this['_available'][GL]=!(0xe1a+0x2244+0x101f*-0x3),this['_available'][Ao]=!(0x12ce+-0x1*0x14cb+-0x55*-0x6),this['views']=new ic(this),this['domOverlay']=new $L(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x41967e,_0x14f745,_0x498b48,_0x44dab8){var _0x268d2a;let _0x36b371=_0x44dab8;if(typeof _0x44dab8=='object'&&(_0x36b371=_0x44dab8['callback']),!this['_available'][_0x14f745]){_0x36b371&&_0x36b371(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x36b371&&_0x36b371(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x41967e,this['_camera']['camera']['xr']=this,this['_type']=_0x14f745,this['_spaceType']=_0x498b48,this['_framebuff'+'erScaleFac'+'tor']=(_0x44dab8==null?void(0x1a*0x15f+-0x1f*0x32+-0x1d98):_0x44dab8['framebuffe'+'rScaleFact'+'or'])??-0x1634+0x165b+0x2*-0x13,this['_setClipPl'+'anes'](_0x41967e['nearClip'],_0x41967e['farClip']);const _0x4b8a0a={'requiredFeatures':[_0x498b48],'optionalFeatures':[]},_0x4f46a7=(_0x268d2a=this['app']['graphicsDe'+'vice'])==null?void(0x3*-0x217+0x2416+0x1*-0x1dd1):_0x268d2a['isWebGL2'];if(_0x14f745===Ao){if(_0x4b8a0a['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x4b8a0a['optionalFe'+'atures']['push']('hit-test'),_0x44dab8&&(_0x44dab8['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x4b8a0a['optionalFe'+'atures']['push']('image-trac'+'king'),_0x44dab8['planeDetec'+'tion']&&_0x4b8a0a['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x44dab8['meshDetect'+'ion']&&_0x4b8a0a['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x4b8a0a['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x4b8a0a['domOverlay']={'root':this['domOverlay']['root']}),_0x44dab8&&_0x44dab8['anchors']&&this['anchors']['supported']&&_0x4b8a0a['optionalFe'+'atures']['push']('anchors'),_0x44dab8&&_0x44dab8['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x4b8a0a['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x56e33b=[],_0x234618=[];if(_0x56e33b['push'](Bx,WL),_0x234618['push'](Ux,Nx,zx),_0x44dab8['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x10186d=_0x56e33b['indexOf'](_0x44dab8['depthSensi'+'ng']['usagePrefe'+'rence']);_0x10186d!==-(0x10*0x18f+-0x1e*-0xc2+0x1*-0x2fab)&&_0x56e33b['splice'](_0x10186d,-0x24a3+0xcd1+0x7f1*0x3),_0x56e33b['unshift'](_0x44dab8['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x44dab8['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x53be24=_0x234618['indexOf'](_0x44dab8['depthSensi'+'ng']['dataFormat'+'Preference']);_0x53be24!==-(0x19be+0x1*0x67e+-0x203b)&&_0x234618['splice'](_0x53be24,-0x250b+0x1159+0x13b3),_0x234618['unshift'](_0x44dab8['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x4b8a0a['depthSensi'+'ng']={'usagePreference':_0x56e33b,'dataFormatPreference':_0x234618};}_0x4f46a7&&_0x44dab8&&_0x44dab8['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x4b8a0a['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x4b8a0a['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x44dab8&&_0x44dab8['optionalFe'+'atures']&&(_0x4b8a0a['optionalFe'+'atures']=_0x4b8a0a['optionalFe'+'atures']['concat'](_0x44dab8['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x4e9e75,_0x1a7851)=>{if(_0x4e9e75){_0x36b371&&_0x36b371(_0x4e9e75),this['fire']('error',_0x4e9e75);return;}_0x1a7851!==null&&(_0x4b8a0a['trackedIma'+'ges']=_0x1a7851),this['_onStartOp'+'tionsReady'](_0x14f745,_0x498b48,_0x4b8a0a,_0x36b371);}):this['_onStartOp'+'tionsReady'](_0x14f745,_0x498b48,_0x4b8a0a,_0x36b371);}['_onStartOp'+'tionsReady'](_0x1e2621,_0x47488c,_0x4f9d29,_0x57ebf8){navigator['xr']['requestSes'+'sion'](_0x1e2621,_0x4f9d29)['then'](_0x3e1cec=>{this['_onSession'+'Start'](_0x3e1cec,_0x47488c,_0x57ebf8);})['catch'](_0xbba73b=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x57ebf8&&_0x57ebf8(_0xbba73b),this['fire']('error',_0xbba73b);});}['end'](_0x213d09){if(!this['_session']){_0x213d09&&_0x213d09(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x213d09&&this['once']('end',_0x213d09),this['_session']['end']();}['isAvailabl'+'e'](_0x737d7d){return this['_available'][_0x737d7d];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x4db5d5 in this['_available'])this['_sessionSu'+'pportCheck'](_0x4db5d5);}['initiateRo'+'omCapture'](_0x36b1cc){if(!this['_session']){_0x36b1cc(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x36b1cc(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x36b1cc&&_0x36b1cc(null);})['catch'](_0x41c0aa=>{_0x36b1cc&&_0x36b1cc(_0x41c0aa);});}['updateTarg'+'etFrameRat'+'e'](_0xb11404,_0x17af1f){var _0x20487d;if(!((_0x20487d=this['_session'])!=null&&_0x20487d['updateTarg'+'etFrameRat'+'e'])){_0x17af1f==null||_0x17af1f(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0xb11404)['then'](()=>{_0x17af1f==null||_0x17af1f();})['catch'](_0x5e1e0e=>{_0x17af1f==null||_0x17af1f(_0x5e1e0e);});}['_sessionSu'+'pportCheck'](_0x49fac7){navigator['xr']['isSessionS'+'upported'](_0x49fac7)['then'](_0x1562e0=>{this['_available'][_0x49fac7]!==_0x1562e0&&(this['_available'][_0x49fac7]=_0x1562e0,this['fire']('available',_0x49fac7,_0x1562e0),this['fire']('available:'+_0x49fac7,_0x1562e0));})['catch'](_0x46f0d5=>{this['fire']('error',_0x46f0d5);});}['_onSession'+'Start'](_0x488c9b,_0x161f3b,_0x465e2a){let _0x1f2d20=!(0x6e*0x4f+0x1e39+-0x402a);this['_session']=_0x488c9b;const _0x6cd5f5=()=>{this['fire']('visibility'+':change',_0x488c9b['visibility'+'State']);},_0x11087a=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x369776=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x11087a),this['_camera']['off']('set_farCli'+'p',_0x11087a),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x488c9b['removeEven'+'tListener']('end',_0x369776),_0x488c9b['removeEven'+'tListener']('visibility'+'change',_0x6cd5f5),_0x1f2d20||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x5*-0x692+-0x3*-0x6f2+0xc04,this['_height']=-0xf2*0x17+-0x43*0x61+0x2f21,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x488c9b['addEventLi'+'stener']('end',_0x369776),_0x488c9b['addEventLi'+'stener']('visibility'+'change',_0x6cd5f5),this['_camera']['on']('set_nearCl'+'ip',_0x11087a),this['_camera']['on']('set_farCli'+'p',_0x11087a),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x5e239e;this['fire']('frameratec'+'hange',(_0x5e239e=this['_session'])==null?void(-0x1b43+0xe*0x29e+0x1*-0x961):_0x5e239e['frameRate']);}),_0x488c9b['requestRef'+'erenceSpac'+'e'](_0x161f3b)['then'](_0xd8ac21=>{this['_reference'+'Space']=_0xd8ac21,this['app']['tick'](),_0x465e2a&&_0x465e2a(null),this['fire']('start');})['catch'](_0x595385=>{_0x1f2d20=!(-0x2659+-0x1551*-0x1+0x6d*0x28),_0x488c9b['end'](),_0x465e2a&&_0x465e2a(_0x595385),this['fire']('error',_0x595385);});}['_setClipPl'+'anes'](_0x198f84,_0x2ad191){this['_depthNear']===_0x198f84&&this['_depthFar']===_0x2ad191||(this['_depthNear']=_0x198f84,this['_depthFar']=_0x2ad191,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x25566d=this['app']['graphicsDe'+'vice'],_0x389fe2=_0x25566d['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x25566d['gl'],{'alpha':!(0x177*-0x1a+0x1*-0x2383+0x4999),'depth':!(-0x3ea+0x6f4*0x2+-0x9fe),'stencil':!(-0x1ec4+-0x7f5*0x2+0x2eae),'framebufferScaleFactor':_0x389fe2,'antialias':!(0x73e+-0x2134+-0x187*-0x11)}),_0x25566d!=null&&_0x25566d['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x25566d['gl']);}catch(_0x4bf118){this['fire']('error',_0x4bf118);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x359032=>{this['fire']('error',_0x359032);});},0x1412+-0x1*-0x4cd+-0x1*0x18df);}['update'](_0x4b1334){if(!this['_session'])return!(0x252d+-0x2e*-0x7c+0x2f9*-0x14);const _0x38bfc3=_0x4b1334['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x39a558=_0x4b1334['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x38bfc3||this['_height']!==_0x39a558)&&(this['_width']=_0x38bfc3,this['_height']=_0x39a558,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x38bfc3,_0x39a558));const _0x1c5e97=_0x4b1334['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x1c5e97)return!(0x1*-0x113+-0x16b3+-0x3*-0x7ed);const _0x2dd4b1=this['views']['list']['length'];this['views']['update'](_0x4b1334,_0x1c5e97['views']);const _0x58507a=_0x1c5e97['transform']['position'],_0x5d6365=_0x1c5e97['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x58507a['x'],_0x58507a['y'],_0x58507a['z']),this['_localRota'+'tion']['set'](_0x5d6365['x'],_0x5d6365['y'],_0x5d6365['z'],_0x5d6365['w']),_0x2dd4b1===-0x9e6+0x17*-0x67+0x1327&&this['views']['list']['length']>0x30d+0x1dd7+-0x20e4){const _0x14de97=new q(),_0x51db95=this['views']['list'][-0xc77+0x455*0x4+0x53*-0xf];_0x14de97['copy'](_0x51db95['projMat']);const _0xdc84eb=_0x14de97['data'],_0x2525d0=(0x1fb+-0x8b*0x45+-0xe*-0x289)*Math['atan']((0x1916+0x50*-0x1a+-0x5a7*0x3)/_0xdc84eb[0x1*-0x18b0+-0x83*-0x8+0x149d])*(0x3f6+-0x33*-0x13+-0x70b)/Math['PI'],_0x4d2598=_0xdc84eb[0x1e04+-0x367+-0x5c*0x4a]/_0xdc84eb[0x1a2e+-0x16fa+-0x29*0x14],_0x2bf73e=_0xdc84eb[0xb9*0x7+-0x126+-0x3db]/(_0xdc84eb[-0x1f7a+-0x9*0x429+0x7f*0x8b]+(-0x7be+-0x19b5*0x1+-0x1*-0x2174)),_0x2bc614=_0xdc84eb[-0xec2+-0x1903+0x27d3]/(_0xdc84eb[0xa*0x1bd+-0xf1+0x13*-0xdd]-(0x1779+0x10a5+-0x1e9*0x15));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x4d2598,'farClip':_0x2bf73e,'fov':_0x2525d0,'horizontalFov':!(-0x1*-0x2c9+-0x46d+-0x1a5*-0x1),'nearClip':_0x2bc614});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x4b1334),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x4b1334),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x4b1334),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x4b1334),this['anchors']['supported']&&this['anchors']['update'](_0x4b1334),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x4b1334),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x4b1334)),this['fire']('update',_0x4b1334),!(-0xb*0xad+0x1*-0xae8+0x1257);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0xdec03b;return((_0xdec03b=this['_session'])==null?void(0x25e0+0xf+0x9*-0x437):_0xdec03b['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x5d61b2){var _0x2b114f;(((_0x2b114f=this['_baseLayer'])==null?void(-0x2*0x551+0x1*-0x2653+0x97*0x53):_0x2b114f['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x20a1+0x4a5*-0x7+0x3d5*0x11&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x5d61b2);}get['fixedFovea'+'tion'](){var _0x2e5b29;return((_0x2e5b29=this['_baseLayer'])==null?void(0xc1*-0x26+-0x95*0x25+0x322f):_0x2e5b29['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0xd88e50,_0x383d8d={}){super(_0xd88e50);const _0x519602=new pP();_0x519602['graphicsDe'+'vice']=_0x383d8d['graphicsDe'+'vice']??this['createDevi'+'ce'](_0xd88e50,_0x383d8d),this['addCompone'+'ntSystems'](_0x519602),this['addResourc'+'eHandles'](_0x519602),_0x519602['elementInp'+'ut']=_0x383d8d['elementInp'+'ut'],_0x519602['keyboard']=_0x383d8d['keyboard'],_0x519602['mouse']=_0x383d8d['mouse'],_0x519602['touch']=_0x383d8d['touch'],_0x519602['gamepads']=_0x383d8d['gamepads'],_0x519602['scriptPref'+'ix']=_0x383d8d['scriptPref'+'ix'],_0x519602['assetPrefi'+'x']=_0x383d8d['assetPrefi'+'x'],_0x519602['scriptsOrd'+'er']=_0x383d8d['scriptsOrd'+'er'],_0x519602['soundManag'+'er']=new kb(),_0x519602['lightmappe'+'r']=vP,_0x519602['batchManag'+'er']=dC,_0x519602['xr']=Qn,this['init'](_0x519602);}['createDevi'+'ce'](_0x413200,_0x383285){return _0x383285['graphicsDe'+'viceOption'+'s']||(_0x383285['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x383285['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x235f*-0x1+-0x1*-0x12e3+-0x3642*0x1)),_0x383285['graphicsDe'+'viceOption'+'s']['alpha']=_0x383285['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x1c88+-0x2233+0x3ebc),new pb(_0x413200,_0x383285['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x4d2cd6){_0x4d2cd6['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x2f8fff){_0x2f8fff['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,$2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x4e7b4b,_0x465a54){super(_0x4e7b4b),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x465a54;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x23d14e=>{_0x23d14e['defaultUni'+'formBuffer']['destroy'](),_0x23d14e['destroy']();}),this['viewBindGr'+'oups']['length']=0x17*0x63+0xfcb+-0x18b0;}['update'](_0x256b60,_0x3d7c3a,_0x28383c,_0x1fd6be){this['camera']=_0x256b60,this['scene']=_0x3d7c3a,this['layers']=_0x28383c,this['mapping']=_0x1fd6be;}['execute'](){const _0xa4ee20=this['device'],{renderer:_0x5ccd7c,camera:_0x6ad388,scene:_0x436f1e,layers:_0x1a33b2,mapping:_0x1ee90f,renderTarget:_0x53a820}=this,_0x442113=_0x436f1e['layers']['layerList'],_0x22407c=_0x436f1e['layers']['subLayerEn'+'abled'],_0x121cf1=_0x436f1e['layers']['subLayerLi'+'st'];for(let _0x48eaa1=-0xbcb*0x3+0x2203*-0x1+0x4564;_0x48eaa1<_0x442113['length'];_0x48eaa1++){const _0x48f813=_0x442113[_0x48eaa1];if(!(_0x1a33b2&&_0x1a33b2['indexOf'](_0x48f813)<0x269*-0x8+-0xe87*-0x1+-0x4c1*-0x1)&&_0x48f813['enabled']&&_0x22407c[_0x48eaa1]&&_0x48f813['camerasSet']['has'](_0x6ad388['camera'])){const _0x4b734e=_0x121cf1[_0x48eaa1];G['pushGpuMar'+'ker'](_0xa4ee20,_0x48f813['name']+'('+(_0x4b734e?'TRANSP':'OPAQUE')+')'),_0x48f813['_clearDept'+'hBuffer']&&_0x5ccd7c['clear'](_0x6ad388['camera'],!(0x1535+0x9d*0x36+-0x3652),!(-0x6aa+0x1*0x1a87+0x69f*-0x3),!(-0x1*0xf19+0xd54+-0x1*-0x1c6));const _0x514a89=_0x48f813['meshInstan'+'ces'];for(let _0x35c63a=-0x108b+-0x140d+0x2498;_0x35c63a<_0x514a89['length'];_0x35c63a++){const _0x143604=_0x514a89[_0x35c63a];_0x143604['pick']&&_0x143604['transparen'+'t']===_0x4b734e&&(nh['push'](_0x143604),_0x1ee90f['set'](_0x143604['id'],_0x143604));}nh['length']>0x9d7*-0x2+0x1*0x10a3+0x30b&&(_0x436f1e['clusteredL'+'ightingEna'+'bled']&&_0x5ccd7c['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x5ccd7c['setCameraU'+'niforms'](_0x6ad388['camera'],_0x53a820),_0xa4ee20['supportsUn'+'iformBuffe'+'rs']&&_0x5ccd7c['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x5ccd7c['viewUnifor'+'mFormat'],_0x5ccd7c['viewBindGr'+'oupFormat'],0x741+-0x13fc*-0x1+-0x1b3c),_0x5ccd7c['renderForw'+'ard'](_0x6ad388['camera'],_0x53a820,nh,YL,Oa,_0x2bc4e8=>{_0xa4ee20['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=0x21ab+0x83c+-0x29e7),G['popGpuMark'+'er'](_0xa4ee20);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x34b5df,_0x318d8e,_0x1047f4){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x19f9+-0xc0e+0xb1*0x37)),(v['assert'](_0x34b5df),this['renderer']=_0x34b5df['renderer'],this['device']=_0x34b5df['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x34b5df['renderer']),this['width']=-0xcb5*0x1+-0x239e+0x3053,this['height']=0x1*-0x4d9+-0x1908+0x1*0x1de1,this['resize'](_0x318d8e,_0x1047f4),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x734*-0x4+-0x8c+-0x1c43);}));}['getSelecti'+'on'](_0x9ce3e2,_0x1ab816,_0x4aaaeb=-0x2449+-0x1c0+0x260a,_0x10d74b=0x1956+-0x1b5f+0x6*0x57){const _0x3978cf=this['device'];if(_0x3978cf['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x9ce3e2!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x1ab816=this['renderTarg'+'et']['height']-(_0x1ab816+_0x10d74b);const _0x19d9d3=this['sanitizeRe'+'ct'](_0x9ce3e2,_0x1ab816,_0x4aaaeb,_0x10d74b);_0x3978cf['setRenderT'+'arget'](this['renderTarg'+'et']),_0x3978cf['updateBegi'+'n']();const _0x5a3bec=new Uint8Array((0x7b9*-0x3+-0x1*-0x11a6+0x589)*_0x19d9d3['z']*_0x19d9d3['w']);return _0x3978cf['readPixels'](_0x19d9d3['x'],_0x19d9d3['y'],_0x19d9d3['z'],_0x19d9d3['w'],_0x5a3bec),_0x3978cf['updateEnd'](),this['decodePixe'+'ls'](_0x5a3bec,this['mapping']);}['getSelecti'+'onAsync'](_0x46e3c7,_0x431903,_0x463b1a=-0x171f+0xa94+0x49*0x2c,_0x348eac=0x265a+0xae2*0x3+-0x5*0xe33){var _0x459517;(_0x459517=this['device'])!=null&&_0x459517['isWebGL2']&&(_0x431903=this['renderTarg'+'et']['height']-(_0x431903+_0x348eac));const _0x14dbd6=this['sanitizeRe'+'ct'](_0x46e3c7,_0x431903,_0x463b1a,_0x348eac);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x14dbd6['x'],_0x14dbd6['y'],_0x14dbd6['z'],_0x14dbd6['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x125e+-0x12d7*-0x2+0x67*-0x30)})['then'](_0xfaec40=>this['decodePixe'+'ls'](_0xfaec40,this['mapping']));}['sanitizeRe'+'ct'](_0x2701af,_0x45cc68,_0x5b9cc1,_0x14950a){const _0x3066cc=this['renderTarg'+'et']['width'],_0x23d326=this['renderTarg'+'et']['height'];return _0x2701af=N['clamp'](Math['floor'](_0x2701af),0x1e16+-0x20ef+0xf3*0x3,_0x3066cc-(0x13bf+0x9b8*0x1+0x6*-0x4e9)),_0x45cc68=N['clamp'](Math['floor'](_0x45cc68),-0x1f7+-0x1c6d+0x1e64,_0x23d326-(-0x659*0x6+0x1115*0x2+-0x14f*-0x3)),_0x5b9cc1=Math['floor'](Math['max'](_0x5b9cc1,-0x1fae+0xa*0x323+0x51)),_0x5b9cc1=Math['min'](_0x5b9cc1,_0x3066cc-_0x2701af),_0x14950a=Math['floor'](Math['max'](_0x14950a,-0x11f1*0x1+0x18b1+-0x6bf)),_0x14950a=Math['min'](_0x14950a,_0x23d326-_0x45cc68),ZL['set'](_0x2701af,_0x45cc68,_0x5b9cc1,_0x14950a);}['decodePixe'+'ls'](_0x22a260,_0x1c7164){const _0xcaecb6=[];if(this['deviceVali'+'d']){const _0x2cf856=_0x22a260['length'];for(let _0x4aeeb2=-0x1813*0x1+-0x78+0x188b;_0x4aeeb2<_0x2cf856;_0x4aeeb2+=0x732*0x1+-0x2*0xb93+-0x2*-0x7fc){const _0x210869=_0x22a260[_0x4aeeb2+(-0xc2a+0x16d5+-0xaab)],_0x170955=_0x22a260[_0x4aeeb2+(-0xd34+0x12f1*-0x2+0x1c3*0x1d)],_0x499415=_0x22a260[_0x4aeeb2+(0x1*0x5b7+0xe11+-0x1*0x13c6)],_0x3c0eb2=_0x22a260[_0x4aeeb2+(-0x157c+0x215e+0x1*-0xbdf)]<<0x216b*-0x1+-0x1*-0x24c9+-0x346|_0x210869<<0xae+-0x6*-0x389+-0x15d4|_0x170955<<0x2*0x517+0x3e3+-0x1*0xe09|_0x499415;_0x3c0eb2!==-(0x15fc+-0x1*0x1997+0x134*0x3)&&nu['add'](_0x1c7164['get'](_0x3c0eb2));}nu['forEach'](_0x3c6fbf=>{_0x3c6fbf&&_0xcaecb6['push'](_0x3c6fbf);}),nu['clear']();}return _0xcaecb6;}['allocateRe'+'nderTarget'](){const _0x1a1db3=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0x10bd+0x1*-0x13e2+0x326),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x1a1db3,'depth':!(-0x17a4+-0x1689+0x2e2d)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x45eb7d,_0x14e56c,_0x18e793){_0x18e793 instanceof Lr&&(_0x18e793=[_0x18e793]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x29c804=this['renderPass'];_0x29c804['init'](this['renderTarg'+'et']),_0x29c804['colorOps']['clearValue']=Y['WHITE'],_0x29c804['colorOps']['clear']=!(0x4f8+0x2b*-0x1+-0x4cd),_0x29c804['depthStenc'+'ilOps']['clearDepth']=!(-0x1372+0x1ee0+-0xb6e),_0x29c804['update'](_0x45eb7d,_0x14e56c,_0x18e793,this['mapping']),_0x29c804['render']();}['resize'](_0x49592c,_0x5797b7){this['width']=Math['floor'](_0x49592c),this['height']=Math['floor'](_0x5797b7);}};class QL{constructor(_0x2336db){this['_frameInde'+'x']=0x1aff*0x1+0x133e+0x1*-0x2e3d,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x2*-0xcb3+-0xdc9+-0x3*-0xd10,this['enabled']=!(0x1d2e+0x10f8+0x166*-0x21),_0x2336db['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x2336db['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x2336db['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0xc920ec){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x3d06bc=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x3d06bc,this['_frameInde'+'x']=0xf*0x3a+-0x133f+0xfd9,this['mark'](_0xc920ec);}['mark'](_0x5bd6b1){if(!this['enabled'])return;const _0x1c0c89=ne();if(this['_frameInde'+'x']>0x65*0x12+-0x326+0x2*-0x1fa){const _0x40ab57=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x8c1*-0x1+-0x1180+0x1a42)];_0x40ab57[0x3*-0x68e+0x688*-0x1+0x1a33]=_0x1c0c89-_0x40ab57[0x3fb*0x1+-0x20d+-0x1ed];}else{if(this['_timings']['length']>0x1341+0x8e9+-0x1c2a){const _0xc2d721=this['_timings'][this['_timings']['length']-(-0xce0+0x1f4f+-0x126e)];_0xc2d721[-0x1585+0x1*-0x2c4+0x184a]=_0x1c0c89-_0xc2d721[0x574+-0x49b*0x5+0x177*0xc];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x5bd6b1,_0x1c0c89]);else{const _0xe23723=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0xe23723[0x1e11+-0x1c5c+-0x1b5]=_0x5bd6b1,_0xe23723[0xe7*-0x9+0x4df+0x341]=_0x1c0c89;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x466+-0xdee+0x187*0xc,-(0x24e5*-0x1+0x15d7+0xf0f))['map'](_0x5cb871=>_0x5cb871[-0xe02+0x4*-0x56+0xf5b*0x1]);}}class JL{constructor(_0x4822fd){this['device']=_0x4822fd,_0x4822fd['gpuProfile'+'r']['enabled']=!(0xb*0x1aa+0x4f*0x79+-0x37a5),this['enabled']=!(-0xe3*0x26+0x1*0x1779+0xa39*0x1),this['unitsName']='ms',this['decimalPla'+'ces']=-0x18c1+0x233a+-0x4*0x29e,this['_timings']=[];}get['timings'](){return this['_timings'][-0x1d5b+0x93d+0x141e]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x4e09f3,_0x165cb7,_0x454a93,_0x4b1e25,_0x31870d){this['app']=_0x4e09f3,this['values']=[],this['statNames']=_0x165cb7,this['statNames']['length']>-0x193f+-0x1635+0x1*0x2f77&&(this['statNames']['length']=0x222e+-0x414+-0x1*0x1e17),this['unitsName']=_0x4b1e25,this['decimalPla'+'ces']=_0x454a93,this['multiplier']=_0x31870d||0x2339*-0x1+-0x1ffa+0x4334;const _0x28920e=(_0x641742,_0x3b0162)=>_0x641742['split']('.')['reduce']((_0x2224b0,_0x27a880)=>_0x2224b0?_0x2224b0[_0x27a880]:null,_0x3b0162||this);_0x4e09f3['on']('frameupdat'+'e',_0x3fb5c2=>{for(let _0x5537a8=-0x1*0xa9f+0xb*-0x1bb+0x1da8;_0x5537a8<this['statNames']['length'];_0x5537a8++)this['values'][_0x5537a8]=_0x28920e(this['statNames'][_0x5537a8],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x1bfcb1,_0x1ff589,_0x356bf6,_0x231e39,_0xf3acbc){this['app']=_0x1ff589,this['name']=_0x1bfcb1,this['device']=_0x1ff589['graphicsDe'+'vice'],this['timer']=_0xf3acbc,this['watermark']=_0x356bf6,this['enabled']=!(-0x15eb+-0x258f+0x3b7b*0x1),this['textRefres'+'hRate']=_0x231e39,this['avgTotal']=-0x5fc*-0x4+0x41b*0x1+-0x1c0b,this['avgTimer']=0x2512+-0x2054+-0x4be,this['avgCount']=0x6d3*0x5+-0x2c3+-0x1f5c,this['timingText']='',this['texture']=null,this['yOffset']=0x21da+-0x1*-0xe5+-0x22bf,this['cursor']=-0x1165*-0x1+-0x97*0x3b+0x4*0x45a,this['sample']=new Uint8ClampedArray(-0x17fd+0x1945*-0x1+0x2e6*0x11),this['sample']['set']([-0x4a1*-0x8+0x1*0xa99+-0x2fa1,-0x107*0xd+0x2415+-0x16ba,0x1*-0x17bf+0x15a*0x8+0xcef,0x244c*-0x1+-0x783+-0xa*-0x47b]),this['counter']=-0x2018+0x12*0xec+0xf80,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x2e226d){const _0x6735da=this['timer']['timings'],_0x39ca5f=_0x6735da['reduce']((_0x550c4f,_0x48847a)=>_0x550c4f+_0x48847a,-0x311+0xc89+-0x978);if(this['avgTotal']+=_0x39ca5f,this['avgTimer']+=_0x2e226d,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x805*0x1+-0x9*0x13c+0x317*0x1,this['avgTotal']=-0x10*0x176+-0x2*-0xb06+-0x154*-0x1,this['avgCount']=0x1*-0x1525+0x2508+-0x31*0x53),this['enabled']){let _0x56e0b6=0xc*0x1d7+-0x1*0x1e8f+0x87b;const _0xca260f=(0x1875+-0x2384+0x588*0x2+0.5)*this['watermark'];for(let _0x5d0b3f=-0xc03+0xb7*-0x24+-0x25bf*-0x1;_0x5d0b3f<_0x6735da['length'];++_0x5d0b3f)_0x56e0b6+=Math['floor'](_0x6735da[_0x5d0b3f]/_0xca260f*(-0x5bb+0xefe+-0x844)),this['sample'][_0x5d0b3f]=_0x56e0b6;this['sample'][0x135*0x5+0xeb7+0x14bd*-0x1]=this['watermark']/_0xca260f*(-0x25*0xb2+0xd55+-0x2*-0x6b2),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x19a0+-0x74*0x3a+0xac)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x139c+0x1054*-0x1+-0x2e*-0xc8);}}['render'](_0x518247,_0x18d2c6,_0x2948d6,_0x494661,_0x26debc){_0x518247['quad'](_0x18d2c6+_0x494661,_0x2948d6,-_0x494661,_0x26debc,this['enabled']?this['cursor']:-0x1*0x1d75+0xfd4*-0x2+0x3d1d,this['enabled']?0x254f+-0x2421+0x1*-0x12e+0.5+this['yOffset']:this['texture']['height']-(-0xdd9*-0x1+-0x2*-0x1161+-0x309a),-_0x494661,-0x14dd+-0x2104+0x35e1,this['texture'],0x2*0xb1b+0x9b9+-0x1fef);}}class tF{constructor(_0x40b479,_0x354e23){const _0x24d5bb=_0x319722=>{_0x319722['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x319722['textAlign']='left',_0x319722['textBaseli'+'ne']='alphabetic';},_0x4c7417=_0x5ffc05=>_0x5ffc05==='.'||_0x5ffc05['length']===0x2*0xd79+-0xbf*0x25+0x22*0x5&&_0x5ffc05['charCodeAt'](0x1257+-0x19d5+0x3bf*0x2)>=-0x22*-0x7f+0x1*0x4e5+-0x1593&&_0x5ffc05['charCodeAt'](-0x1ad5+0x1*0x52a+0x15ab)<=-0x8*-0x199+-0xef*-0x1+0xb*-0x13a,_0x512362=document['createElem'+'ent']('canvas'),_0x40a7c9=_0x512362['getContext']('2d',{'alpha':!(-0x1718+0x1369*-0x1+0x193*0x1b)});_0x24d5bb(_0x40a7c9);const _0xdbed40=new Map(),_0x4d1008=-0x1e4+0x397*0x1+-0x1*0x1ae,_0x45220f=0x9*-0xf7+0xfe9+-0x53a;let _0x22a3c5=_0x4d1008,_0x2c2fcb=_0x4d1008;_0x354e23['forEach'](_0x5954a1=>{const _0x4049cc=_0x40a7c9['measureTex'+'t'](_0x5954a1),_0xc25f9=Math['ceil'](-_0x4049cc['actualBoun'+'dingBoxLef'+'t']),_0x28db0e=Math['ceil'](_0x4049cc['actualBoun'+'dingBoxRig'+'ht']),_0x100716=Math['ceil'](_0x4049cc['actualBoun'+'dingBoxAsc'+'ent']),_0x5b3ec0=Math['ceil'](_0x4049cc['actualBoun'+'dingBoxDes'+'cent']),_0x3e93d6=_0xc25f9+_0x28db0e,_0x17e84d=_0x100716+_0x5b3ec0;_0x22a3c5+_0x3e93d6+_0x4d1008>=_0x45220f&&(_0x22a3c5=_0x4d1008,_0x2c2fcb+=-0x1bc*0x2+-0x3c7*0x2+-0x1*-0xb16),_0xdbed40['set'](_0x5954a1,{'l':_0xc25f9,'r':_0x28db0e,'a':_0x100716,'d':_0x5b3ec0,'w':_0x3e93d6,'h':_0x17e84d,'x':_0x22a3c5,'y':_0x2c2fcb}),_0x22a3c5+=_0x3e93d6+_0x4d1008;}),_0x512362['width']=-0x1e27+0x509*-0x4+0x344b*0x1,_0x512362['height']=N['nextPowerO'+'fTwo'](_0x2c2fcb+(0x1b1+-0x1bfb*-0x1+0x17b*-0x14)+_0x4d1008),_0x24d5bb(_0x40a7c9),_0x40a7c9['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x40a7c9['fillRect'](0x189f+-0x142b+-0x474,-0x1fdc+0x16ff+0x8dd,_0x512362['width'],_0x512362['height']),_0xdbed40['forEach']((_0x3a1b01,_0x363602)=>{_0x40a7c9['fillStyle']=_0x4c7417(_0x363602)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x40a7c9['fillText'](_0x363602,_0x3a1b01['x']-_0x3a1b01['l'],_0x3a1b01['y']+_0x3a1b01['a']);}),this['placements']=_0xdbed40;const _0x463273=_0x40a7c9['getImageDa'+'ta'](-0x20b3+-0xfe*-0x8+-0x1*-0x18c3,0x179b+0x81f+-0x1fba,_0x512362['width'],_0x512362['height'])['data'];for(let _0x53eaca=-0x18f+-0x1*-0x377+0xf4*-0x2;_0x53eaca<_0x463273['length'];_0x53eaca+=0x1*-0x1f62+0x1*0x293+0x1cd3)_0x463273[_0x53eaca+(-0x257a+-0x2f6*-0x1+0x2287)]=_0x463273[_0x53eaca+(-0x8ec+0xecd+0x23*-0x2b)],_0x463273[_0x53eaca+(-0x1*0x19a3+0x111d+0x2*0x443)]=-0x449*-0x1+-0xc96+0x94c,_0x463273[_0x53eaca+(0x2fa+-0x1*0x2212+0x1f19*0x1)]=0x1*0x14ca+0x1881+0x3b1*-0xc,_0x463273[_0x53eaca+(-0x1*0x1dd2+-0x1*-0x159b+0x839)]=0x528+0x1*-0x3fa+0x1*-0x2f;this['texture']=new he(_0x40b479,{'name':'mini-stats'+'-word-atla'+'s','width':_0x512362['width'],'height':_0x512362['height'],'mipmaps':!(0x1*0x214c+0x6f*-0x3d+-0x248*0x3),'minFilter':de,'magFilter':de,'levels':[_0x463273]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x315068,_0x322e35,_0x4da99d,_0xb6a4aa){const _0x3d32b5=this['placements']['get'](_0x322e35);return _0x3d32b5?(_0x315068['quad'](_0x4da99d+_0x3d32b5['l']-(0xbf*-0xd+0x10a*-0x1+0x226*0x5),_0xb6a4aa-_0x3d32b5['d']+(-0x14*0x176+-0x1*-0xbf3+0x1146),_0x3d32b5['w']+(0x944+0x1402*0x1+-0x1d45)*(-0xb93*-0x1+0x446*0x8+-0xd*0x385),_0x3d32b5['h']+(-0x1*0x1ef1+0x22cd*-0x1+0x41bf)*(0x25*-0x27+0x2*-0x10f5+-0x278f*-0x1),_0x3d32b5['x']-(0x4b*-0x39+0x164*0x2+0x4a4*0x3),this['texture']['height']-_0x3d32b5['y']-_0x3d32b5['h']-(0x11d1+0x7be*0x4+-0x1be*0x1c),void(0x189d*0x1+-0x1f29+0x68c),void(0x1a2c+0x11*-0x245+-0xc69*-0x1),this['texture'],0x26e1+-0x1*-0x2232+-0x4912),_0x3d32b5['w']):-0x2*0x947+0xad9*-0x1+0x27*0xc1;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x5e783d,_0x54c7b9=-0x25f8+-0x1b9b*-0x1+0xc5d){const _0x35e8b4=new Et(_0x5e783d,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x5a42a5=new Uint16Array(_0x54c7b9*(0x17*-0xcf+0x2674+-0x13d5));for(let _0x5f4d13=-0x6d*0x36+0xfaf+0x74f;_0x5f4d13<_0x54c7b9;++_0x5f4d13)_0x5a42a5[_0x5f4d13*(-0x1949*0x1+0x1635+-0x31a*-0x1)+(-0x3*-0xbcb+-0x24*-0x70+-0x3*0x110b)]=_0x5f4d13*(0xead+0x24ca+-0x3373),_0x5a42a5[_0x5f4d13*(0x2204+0x112d*0x2+0x2d9*-0x18)+(-0xb80+0x1395+-0x1*0x814)]=_0x5f4d13*(-0x1*-0x13a0+0x846+0xdf1*-0x2)+(0x27d*0x8+0x2*0x54b+-0x619*0x5),_0x5a42a5[_0x5f4d13*(-0x1*-0x1039+-0x1*0x8d7+-0x13a*0x6)+(0xe35+-0x2524*0x1+0x347*0x7)]=_0x5f4d13*(0xe67+-0x1c26+-0xd*-0x10f)+(-0x83c+-0x1*0x12f1+-0x1*-0x1b2f),_0x5a42a5[_0x5f4d13*(-0x2432+0x1854+0xbe4)+(-0xdcd*-0x1+-0x1263*0x2+0x16fc)]=_0x5f4d13*(0x1a0c+-0x2657+0xc4f),_0x5a42a5[_0x5f4d13*(0xbe0+-0x18fc+0x52*0x29)+(-0x22e8*-0x1+-0x1*-0x1591+-0x3875)]=_0x5f4d13*(0x1*-0x1912+0x1b1*-0x2+0x1c78)+(0x2e*0xbc+-0xa6*-0x28+0x1ddb*-0x2),_0x5a42a5[_0x5f4d13*(-0x1979+0x7*0x24a+0x979)+(-0x127c+0x1064+0x21d)]=_0x5f4d13*(0x1971+-0x2651+0x21*0x64)+(-0x1c3e+-0x4*0x79a+-0x3aa9*-0x1);this['device']=_0x5e783d,this['buffer']=new os(_0x5e783d,_0x35e8b4,_0x54c7b9*(-0x6b2*0x4+0x1b3e*0x1+-0x72),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x19f3*-0x1+-0x26a6+0x43d*0x3)),this['indexBuffe'+'r']=new lr(_0x5e783d,Pi,_0x54c7b9*(0x786+-0x167*-0x6+-0xfea),jt,_0x5a42a5),this['prim']={'type':Ms,'indexed':!(0x215e+-0x5*-0x477+-0x37b1),'base':0x0,'count':0x0},this['quads']=-0x1d9f+0x10*0x194+0x45f,this['mesh']=new Ie(_0x5e783d),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x927+-0x2284+-0x63d*-0x7]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0xf2c503=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0xf2c503,_0xf2c503['cull']=mt,_0xf2c503['depthState']=as['NODEPTH'],_0xf2c503['blendState']=new _t(!(0x2287*0x1+0x14bc+-0x3743),Lt,dc,uc,Lt,at,at),_0xf2c503['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0xf2c503,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x1d2a*-0x1+-0xf*-0x16a+0x7f8)},this['targetSize']={'width':_0x5e783d['width'],'height':_0x5e783d['height']};}['quad'](_0x1277b6,_0x503d7d,_0x2545cf,_0x5bf064,_0x514f76,_0x318a76,_0x156ee3,_0x18b824,_0x2f2fa3,_0x52a5d0=-0x13*-0x175+-0x2137+0xec*0x6){const _0x454423=this['targetSize']['width'],_0x4da817=this['targetSize']['height'],_0xadd962=_0x1277b6/_0x454423,_0x500001=_0x503d7d/_0x4da817,_0x3dfb5b=(_0x1277b6+_0x2545cf)/_0x454423,_0x1f40ab=(_0x503d7d+_0x5bf064)/_0x4da817,_0x5bb01f=_0x2f2fa3['width'],_0x3fd23f=_0x2f2fa3['height'],_0x3ec33e=_0x514f76/_0x5bb01f,_0x3fa100=_0x318a76/_0x3fd23f,_0x34f3cf=(_0x514f76+(_0x156ee3??_0x2545cf))/_0x5bb01f,_0x53fb82=(_0x318a76+(_0x18b824??_0x5bf064))/_0x3fd23f;this['data']['set']([_0xadd962,_0x500001,_0x52a5d0,_0x3ec33e,_0x3fa100,0x1678+0x229c+-0x3914,-0x111f+0x29c+0xe83,_0x3dfb5b,_0x500001,_0x52a5d0,_0x34f3cf,_0x3fa100,-0x27*-0x1f+-0x26be+0x367*0xa,0x13*-0x181+0x2225*0x1+0x592*-0x1,_0x3dfb5b,_0x1f40ab,_0x52a5d0,_0x34f3cf,_0x53fb82,0x1*0x89+-0x5b2+0x52a,0x233e+0x2ff+-0x263c,_0xadd962,_0x1f40ab,_0x52a5d0,_0x3ec33e,_0x53fb82,0x2a6*0x9+0x3*0x803+-0x2fdf,0x24f9+0x13fc+-0x38f4],(0x1d8f+0x5b1+-0x233c)*(0x1cc1+0x290+-0x1f4a)*this['quads']),this['quads']++,this['prim']['count']+=0x636+0x1*0x529+0x1*-0xb59;}['startFrame'](){this['quads']=-0x14f6+0x14e3+0x13,this['prim']['count']=-0x7a9*0x1+-0x7f+0xe8*0x9,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x4c737b,_0x2c02de,_0x5422a2,_0x3bf070,_0x400716,_0xa181ed){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x400716,-0x1*-0x2267+-0x24f0+0x289),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x5422a2),this['material']['setParamet'+'er']('wordsTex',_0x3bf070),_0x4c737b['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x2c02de);}}class Wx{constructor(_0x35e871,_0x535d6d){const _0x595146=_0x35e871['graphicsDe'+'vice'];_0x535d6d=_0x535d6d||Wx['getDefault'+'Options'](),this['initGraphs'](_0x35e871,_0x595146,_0x535d6d);const _0x29107d=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x273c18=>_0x273c18['name']))['concat'](_0x535d6d['stats']?_0x535d6d['stats']['map'](_0x2b019e=>_0x2b019e['unitsName']):[])['filter'](_0x5f0b90=>!!_0x5f0b90));this['wordAtlas']=new tF(_0x595146,_0x29107d),this['sizes']=_0x535d6d['sizes'],this['_activeSiz'+'eIndex']=_0x535d6d['startSizeI'+'ndex'];const _0x5a7303=document['createElem'+'ent']('div');_0x5a7303['setAttribu'+'te']('id','mini-stats'),_0x5a7303['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x5a7303),_0x5a7303['addEventLi'+'stener']('mouseenter',_0x4720b3=>{this['opacity']=-0x9*0x1c9+0x18f7+-0x8e5;}),_0x5a7303['addEventLi'+'stener']('mouseleave',_0xa51302=>{this['opacity']=0xa3d*0x2+-0x2049+0xbcf+0.7;}),_0x5a7303['addEventLi'+'stener']('click',_0x363471=>{_0x363471['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x1ec8+-0x24a0+-0x1*-0x5d9))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x595146['on']('resizecanv'+'as',this['updateDiv'],this),_0x595146['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x35e871['on']('postrender',this['postRender'],this),this['app']=_0x35e871,this['drawLayer']=_0x35e871['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x595146,this['render2d']=new rF(_0x595146),this['div']=_0x5a7303,this['width']=0x1b*0x9b+0xe26*0x2+-0x2ca5,this['height']=-0x44d*-0x5+0x892+-0x1e13,this['gspacing']=-0x1b82*-0x1+0x7*0xa9+-0x201f,this['clr']=[0xd48+0x100*0x12+0x3*-0xa6d,0x2e9*0x2+-0x141f+-0x2*-0x727,0x1fdc+-0x104b+-0x7c8*0x2,0x2*0x346+0x31*-0x43+0x1*0x647+0.5],this['_enabled']=!(-0x1*-0x1dcf+-0x2479*-0x1+-0xb0c*0x6),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x53edae=>_0x53edae['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x2572+0x5c+-0x1*0x25cd)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0xbd4+0x205*-0x9+-0x1*-0x1e01)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x2ee+0xf20+-0x120e*0x1)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x1160+0x22d3+-0x1173),'watermark':0x21},'gpu':{'enabled':!(-0x17ee+-0x1*0x22db+0x3ac9),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x43c949){this['_activeSiz'+'eIndex']=_0x43c949,this['gspacing']=this['sizes'][_0x43c949]['spacing'],this['resize'](this['sizes'][_0x43c949]['width'],this['sizes'][_0x43c949]['height'],this['sizes'][_0x43c949]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x566661){this['clr'][-0x7*-0x540+-0x1ad3+-0x1b*0x5e]=_0x566661;}get['opacity'](){return this['clr'][0x569*0x7+-0x17de+-0xdfe];}get['overallHei'+'ght'](){const _0x2474f5=this['graphs'],_0x4b5b91=this['gspacing'];return this['height']*_0x2474f5['length']+_0x4b5b91*(_0x2474f5['length']-(-0x1d*-0x45+-0xf3f+0x76f));}set['enabled'](_0x13c757){if(_0x13c757!==this['_enabled']){this['_enabled']=_0x13c757;for(let _0x37127c=0x16c1+0x45*-0xa+-0x41*0x4f;_0x37127c<this['graphs']['length'];++_0x37127c)this['graphs'][_0x37127c]['enabled']=_0x13c757,this['graphs'][_0x37127c]['timer']['enabled']=_0x13c757;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0xc1fffd,_0x50c82e,_0x5852ef){if(this['graphs']=[],_0x5852ef['cpu']['enabled']){const _0x2629d8=new QL(_0xc1fffd),_0xbfe1b8=new au('CPU',_0xc1fffd,_0x5852ef['cpu']['watermark'],_0x5852ef['textRefres'+'hRate'],_0x2629d8);this['graphs']['push'](_0xbfe1b8);}if(_0x5852ef['gpu']['enabled']){const _0x13360b=new JL(_0x50c82e),_0x49be63=new au('GPU',_0xc1fffd,_0x5852ef['gpu']['watermark'],_0x5852ef['textRefres'+'hRate'],_0x13360b);this['graphs']['push'](_0x49be63);}_0x5852ef['stats']&&_0x5852ef['stats']['forEach'](_0x253f9d=>{const _0x11a9f6=new eF(_0xc1fffd,_0x253f9d['stats'],_0x253f9d['decimalPla'+'ces'],_0x253f9d['unitsName'],_0x253f9d['multiplier']),_0x2947db=new au(_0x253f9d['name'],_0xc1fffd,_0x253f9d['watermark'],_0x5852ef['textRefres'+'hRate'],_0x11a9f6);this['graphs']['push'](_0x2947db);});const _0x1e0535=_0x5852ef['sizes']['reduce']((_0x4e7094,_0x270891)=>_0x270891['width']>_0x4e7094?_0x270891['width']:_0x4e7094,0xd*-0x2a1+-0x1a69*-0x1+-0x11c*-0x7);this['texture']=new he(_0x50c82e,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x1e0535),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x267d+-0x1daf+-0x3*0x2ef),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x39ecf6,_0x51f2bf)=>{_0x39ecf6['texture']=this['texture'],_0x39ecf6['yOffset']=_0x51f2bf;});}['render'](){const _0x2ab5dc=this['graphs'],_0x1e2b47=this['wordAtlas'],_0xd5577c=this['render2d'],_0x9ac920=this['width'],_0xe61543=this['height'],_0x3a8a8d=this['gspacing'];_0xd5577c['startFrame']();for(let _0x446c5f=-0x3*-0x472+0x112f+-0x1e85;_0x446c5f<_0x2ab5dc['length'];++_0x446c5f){const _0x9ca6c5=_0x2ab5dc[_0x446c5f];let _0x15d2b6=_0x446c5f*(_0xe61543+_0x3a8a8d);_0x9ca6c5['render'](_0xd5577c,-0xea5+0xe07+0x4f*0x2,_0x15d2b6,_0x9ac920,_0xe61543);let _0x1b6186=-0x8f*0x27+0x4*-0x37d+0x23be;_0x15d2b6+=_0xe61543-(0x1*0x1571+-0x1*-0x196f+-0x2ed3*0x1),_0x1b6186+=_0x1e2b47['render'](_0xd5577c,_0x9ca6c5['name'],_0x1b6186,_0x15d2b6)+(-0x248f+-0x186f+0x3*0x1458);const _0x411494=_0x9ca6c5['timingText'];for(let _0x55011a=0x2*-0x12d8+-0xfc0+0x3570;_0x55011a<_0x411494['length'];++_0x55011a)_0x1b6186+=_0x1e2b47['render'](_0xd5577c,_0x411494[_0x55011a],_0x1b6186,_0x15d2b6);_0x9ca6c5['timer']['unitsName']&&(_0x1b6186+=0xb88+-0x25e8+0x23*0xc1,_0x1e2b47['render'](_0xd5577c,_0x9ca6c5['timer']['unitsName'],_0x1b6186,_0x15d2b6));}_0xd5577c['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0xe61543);}['resize'](_0x1c4594,_0x7fc9b9,_0x475c4e){const _0x29d684=this['graphs'];for(let _0x3d1841=-0x1*-0x1e97+0xe18+-0x1f*0x171;_0x3d1841<_0x29d684['length'];++_0x3d1841)_0x29d684[_0x3d1841]['enabled']=_0x475c4e;this['width']=_0x1c4594,this['height']=_0x7fc9b9,this['updateDiv']();}['updateDiv'](){const _0x429e0e=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x429e0e['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x429e0e['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x2da66c=>_0x2da66c['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation\x20===>'+'>>xr');return;}this['app']['xr']['input']['on']('add',async _0x45470c=>{var _0xa95273;if(!((_0xa95273=_0x45470c['profiles'])!=null&&_0xa95273['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x48412b=_0x45470c['profiles']['map'](async _0x46344f=>{var _0x57f310;const _0x1f079d=this['basePath']+'/'+_0x46344f+('/profile.j'+'son');try{const _0x17ecb2=await fetch(_0x1f079d);if(!_0x17ecb2['ok'])return null;const _0x1f87cf=await _0x17ecb2['json'](),_0x2daaee=((_0x57f310=_0x1f87cf['layouts'][_0x45470c['handedness']])==null?void(0x39e+-0x1d89+0x1*0x19eb):_0x57f310['assetPath'])||'',_0x5766a2=this['basePath']+'/'+_0x1f87cf['profileId']+'/'+_0x45470c['handedness']+_0x2daaee['replace'](/^\/?(left|right)/,''),_0x182749=await new Promise((_0x2299ed,_0x56eaa4)=>{this['app']['assets']['loadFromUr'+'l'](_0x5766a2,'container',(_0x2296f4,_0x4d3268)=>{_0x2296f4?_0x56eaa4(_0x2296f4):_0x2299ed(_0x4d3268);});});return{'profileId':_0x46344f,'asset':_0x182749};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x46344f),null;}}),_0x317294=(await Promise['all'](_0x48412b))['find'](_0x144bc1=>_0x144bc1!==null);if(_0x317294){const {asset:_0x37daaa}=_0x317294,_0x52afca=_0x37daaa['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x52afca);const _0x5ce76e=new Map();if(_0x45470c['hand'])for(const _0x487259 of _0x45470c['hand']['joints']){const _0x875ba2=_0x52afca['findByName'](_0x487259['id']);_0x875ba2&&_0x5ce76e['set'](_0x487259,_0x875ba2);}this['controller'+'s']['set'](_0x45470c,{'entity':_0x52afca,'jointMap':_0x5ce76e});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x28b80a=>{const _0x4fbd98=this['controller'+'s']['get'](_0x28b80a);_0x4fbd98&&(_0x4fbd98['entity']['destroy'](),this['controller'+'s']['delete'](_0x28b80a));});}['update'](_0x5840f2){var _0x56fbd5;if((_0x56fbd5=this['app']['xr'])!=null&&_0x56fbd5['active']){for(const [_0x5c1b85,{entity:_0x327654,jointMap:_0x50a0cc}]of this['controller'+'s'])if(_0x5c1b85['hand']){for(const [_0x2bf758,_0x560be6]of _0x50a0cc)_0x560be6['setPositio'+'n'](_0x2bf758['getPositio'+'n']()),_0x560be6['setRotatio'+'n'](_0x2bf758['getRotatio'+'n']());}else _0x327654['setPositio'+'n'](_0x5c1b85['getPositio'+'n']()),_0x327654['setRotatio'+'n'](_0x5c1b85['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,We as E,$1 as F,hh as G,ex as H,Wx as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,W as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,Wr as t,Ts as u,cs as v,SI as w,$n as x,M0 as y,q as z};function _0xcbdac2(_0x828739){function _0xf6fc57(_0x2296a1){if(typeof _0x2296a1==='string')return function(_0x113f6a){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x2296a1/_0x2296a1)['length']!==0x949+0xdce*-0x1+-0x243*-0x2||_0x2296a1%(0x1717+0x47*0x23+-0x20b8)===-0x387+0x1c73+0x1*-0x18ec?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0xf6fc57(++_0x2296a1);}try{if(_0x828739)return _0xf6fc57;else _0xf6fc57(-0xbba+0x95*0x25+0x51*-0x1f);}catch(_0x21d655){}}
